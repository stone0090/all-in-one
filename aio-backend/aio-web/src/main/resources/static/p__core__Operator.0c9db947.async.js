(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+3Gp":function(mn,U,a){"use strict";a.d(U,"a",function(){return E}),a.d(U,"b",function(){return ne});var ce=a("yKVA"),we=a("879j"),w=a("fWQN"),ve=a("mtLc"),se=a("MNsG"),te=a("/UlZ"),$=a("Yr1X"),_=se.i?1.5:1.35,Y=8,E=function(){function V(B){Object(w.a)(this,V),this._bareFontInfoBrand=void 0,this.pixelRatio=B.pixelRatio,this.fontFamily=String(B.fontFamily),this.fontWeight=String(B.fontWeight),this.fontSize=B.fontSize,this.fontFeatureSettings=B.fontFeatureSettings,this.fontVariationSettings=B.fontVariationSettings,this.lineHeight=B.lineHeight|0,this.letterSpacing=B.letterSpacing}return Object(ve.a)(V,[{key:"getId",value:function(){return"".concat(this.pixelRatio,"-").concat(this.fontFamily,"-").concat(this.fontWeight,"-").concat(this.fontSize,"-").concat(this.fontFeatureSettings,"-").concat(this.fontVariationSettings,"-").concat(this.lineHeight,"-").concat(this.letterSpacing)}},{key:"getMassagedFontFamily",value:function(){var F=te.d.fontFamily,W=V._wrapInQuotes(this.fontFamily);return F&&this.fontFamily!==F?"".concat(W,", ").concat(F):W}}],[{key:"createFromValidatedSettings",value:function(F,W,N){var H=F.get(47),d=F.get(51),D=F.get(50),C=F.get(49),x=F.get(52),O=F.get(64),T=F.get(61);return V._create(H,d,D,C,x,O,T,W,N)}},{key:"_create",value:function(F,W,N,H,d,D,C,x,O){D===0?D=_*N:D<Y&&(D=D*N),D=Math.round(D),D<Y&&(D=Y);var T=1+(O?0:$.a.getZoomLevel()*.1);if(N*=T,D*=T,d===te.f.TRANSLATE)if(W==="normal"||W==="bold")d=te.f.OFF;else{var z=parseInt(W,10);d="'wght' ".concat(z),W="normal"}return new V({pixelRatio:x,fontFamily:F,fontWeight:W,fontSize:N,fontFeatureSettings:H,fontVariationSettings:d,lineHeight:D,letterSpacing:C})}},{key:"_wrapInQuotes",value:function(F){return/[,"']/.test(F)?F:/[+ ]/.test(F)?'"'.concat(F,'"'):F}}]),V}(),Z=2,ne=function(V){Object(ce.a)(F,V);var B=Object(we.a)(F);function F(W,N){var H;return Object(w.a)(this,F),H=B.call(this,W),H._editorStylingBrand=void 0,H.version=Z,H.isTrusted=N,H.isMonospace=W.isMonospace,H.typicalHalfwidthCharacterWidth=W.typicalHalfwidthCharacterWidth,H.typicalFullwidthCharacterWidth=W.typicalFullwidthCharacterWidth,H.canUseHalfwidthRightwardsArrow=W.canUseHalfwidthRightwardsArrow,H.spaceWidth=W.spaceWidth,H.middotWidth=W.middotWidth,H.wsmiddotWidth=W.wsmiddotWidth,H.maxDigitWidth=W.maxDigitWidth,H}return Object(ve.a)(F,[{key:"equals",value:function(N){return this.fontFamily===N.fontFamily&&this.fontWeight===N.fontWeight&&this.fontSize===N.fontSize&&this.fontFeatureSettings===N.fontFeatureSettings&&this.fontVariationSettings===N.fontVariationSettings&&this.lineHeight===N.lineHeight&&this.letterSpacing===N.letterSpacing&&this.typicalHalfwidthCharacterWidth===N.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===N.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===N.canUseHalfwidthRightwardsArrow&&this.spaceWidth===N.spaceWidth&&this.middotWidth===N.middotWidth&&this.wsmiddotWidth===N.wsmiddotWidth&&this.maxDigitWidth===N.maxDigitWidth}}]),F}(E)},"+7oY":function(mn,U,a){"use strict";a.d(U,"a",function(){return w}),a.d(U,"f",function(){return ve}),a.d(U,"b",function(){return se}),a.d(U,"e",function(){return te}),a.d(U,"c",function(){return _}),a.d(U,"d",function(){return Y});var ce=a("rAM+"),we=a("Cg/j"),w=Object(we.c)("configurationService");function ve(E,Z){var ne=Object.create(null);for(var V in E)se(ne,V,E[V],Z);return ne}function se(E,Z,ne,V){for(var B=Z.split("."),F=B.pop(),W=E,N=0;N<B.length;N++){var H=B[N],d=W[H];switch(typeof d){case"undefined":d=W[H]=Object.create(null);break;case"object":break;default:V("Ignoring ".concat(Z," as ").concat(B.slice(0,N+1).join(".")," is ").concat(JSON.stringify(d)));return}W=d}if(typeof W=="object"&&W!==null)try{W[F]=ne}catch(D){V("Ignoring ".concat(Z," as ").concat(B.join(".")," is ").concat(JSON.stringify(W)))}else V("Ignoring ".concat(Z," as ").concat(B.join(".")," is ").concat(JSON.stringify(W)))}function te(E,Z){var ne=Z.split(".");$(E,ne)}function $(E,Z){var ne=Z.shift();if(Z.length===0){delete E[ne];return}if(Object.keys(E).indexOf(ne)!==-1){var V=E[ne];typeof V=="object"&&!Array.isArray(V)&&($(V,Z),Object.keys(V).length===0&&delete E[ne])}}function _(E,Z,ne){function V(W,N){var H=W,d=Object(ce.a)(N),D;try{for(d.s();!(D=d.n()).done;){var C=D.value;if(typeof H!="object"||H===null)return;H=H[C]}}catch(x){d.e(x)}finally{d.f()}return H}var B=Z.split("."),F=V(E,B);return typeof F=="undefined"?ne:F}function Y(E){return E.replace(/[\[\]]/g,"")}},"+QRC":function(mn,U,a){"use strict";var ce=a("E9nw"),we={"text/plain":"Text","text/html":"Url",default:"Text"},w="Copy to clipboard: #{key}, Enter";function ve(te){var $=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return te.replace(/#{\s*key\s*}/g,$)}function se(te,$){var _,Y,E,Z,ne,V,B=!1;$||($={}),_=$.debug||!1;try{E=ce(),Z=document.createRange(),ne=document.getSelection(),V=document.createElement("span"),V.textContent=te,V.ariaHidden="true",V.style.all="unset",V.style.position="fixed",V.style.top=0,V.style.clip="rect(0, 0, 0, 0)",V.style.whiteSpace="pre",V.style.webkitUserSelect="text",V.style.MozUserSelect="text",V.style.msUserSelect="text",V.style.userSelect="text",V.addEventListener("copy",function(W){if(W.stopPropagation(),$.format)if(W.preventDefault(),typeof W.clipboardData=="undefined"){_&&console.warn("unable to use e.clipboardData"),_&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var N=we[$.format]||we.default;window.clipboardData.setData(N,te)}else W.clipboardData.clearData(),W.clipboardData.setData($.format,te);$.onCopy&&(W.preventDefault(),$.onCopy(W.clipboardData))}),document.body.appendChild(V),Z.selectNodeContents(V),ne.addRange(Z);var F=document.execCommand("copy");if(!F)throw new Error("copy command was unsuccessful");B=!0}catch(W){_&&console.error("unable to copy using execCommand: ",W),_&&console.warn("trying IE specific stuff");try{window.clipboardData.setData($.format||"text",te),$.onCopy&&$.onCopy(window.clipboardData),B=!0}catch(N){_&&console.error("unable to copy using clipboardData: ",N),_&&console.error("falling back to prompt"),Y=ve("message"in $?$.message:w),window.prompt(Y,te)}}finally{ne&&(typeof ne.removeRange=="function"?ne.removeRange(Z):ne.removeAllRanges()),V&&document.body.removeChild(V),E()}return B}mn.exports=se},"+caW":function(mn,U,a){"use strict";a.d(U,"a",function(){return O});var ce=a("bbsP"),we=a("/wGt"),w=a("x+uP"),ve=a("HaE+"),se=a("VTBJ"),te=a("ODXe"),$=a("GNNt"),_=a("wEI+"),Y=a("Ff2n"),E=a("nKUr"),Z=a.n(E),ne=a("+i8S"),V=a("2oH+"),B=a.n(V),F=a("6cGi"),W=a("Kwbf"),N=a("q1tI"),H=a.n(N),d=a("i8i4"),D=a.n(d),C=a("T1Ok"),x=["children","trigger","onVisibleChange","drawerProps","onFinish","submitTimeout","title","width","visible"];function O(T){var z,I,de,pe,fe=T.children,ke=T.trigger,A=T.onVisibleChange,P=T.drawerProps,G=T.onFinish,re=T.submitTimeout,ae=T.title,Q=T.width,J=T.visible,me=Object(Y.a)(T,x);Object(W.b)(!me.footer||!(P==null?void 0:P.footer),"DrawerForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var ge=Object(N.useContext)(_.a.ConfigContext),L=Object(N.useState)([]),De=Object(te.a)(L,2),Ae=De[1],Oe=Object(N.useState)(!1),Pe=Object(te.a)(Oe,2),Ne=Pe[0],Fe=Pe[1],Xe=Object(F.a)(!!J,{value:J,onChange:A}),Et=Object(te.a)(Xe,2),Ft=Et[0],Ot=Et[1],pt=Object(N.useRef)(null),Lt=Object(N.useCallback)(function(Qe){pt.current===null&&Qe&&Ae([]),pt.current=Qe},[]),et=Object(N.useRef)(),Vt=Object(N.useCallback)(function(){var Qe,$e,ze,ot=(Qe=($e=(ze=me.formRef)===null||ze===void 0?void 0:ze.current)!==null&&$e!==void 0?$e:me.form)!==null&&Qe!==void 0?Qe:et.current;ot&&(P==null?void 0:P.destroyOnClose)&&ot.resetFields()},[P==null?void 0:P.destroyOnClose,me.form,me.formRef]);Object(N.useEffect)(function(){Ft&&J&&(A==null||A(!0))},[J,Ft]);var Re=Object(N.useMemo)(function(){return ke?H.a.cloneElement(ke,Object(se.a)(Object(se.a)({key:"trigger"},ke.props),{},{onClick:function(){var Qe=Object(ve.a)(Object(w.a)().mark(function ze(ot){var He,Ge;return Object(w.a)().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:Ot(!Ft),(He=ke.props)===null||He===void 0||(Ge=He.onClick)===null||Ge===void 0||Ge.call(He,ot);case 2:case"end":return ft.stop()}},ze)}));function $e(ze){return Qe.apply(this,arguments)}return $e}()})):null},[Ot,ke,Ft]),Ce=Object(N.useMemo)(function(){var Qe,$e,ze,ot,He,Ge;return me.submitter===!1?!1:B()({searchConfig:{submitText:(Qe=($e=ge.locale)===null||$e===void 0||(ze=$e.Modal)===null||ze===void 0?void 0:ze.okText)!==null&&Qe!==void 0?Qe:"\u786E\u8BA4",resetText:(ot=(He=ge.locale)===null||He===void 0||(Ge=He.Modal)===null||Ge===void 0?void 0:Ge.cancelText)!==null&&ot!==void 0?ot:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:re?Ne:void 0,onClick:function(ft){var qt;Ot(!1),Vt(),P==null||(qt=P.onClose)===null||qt===void 0||qt.call(P,ft)}}},me.submitter)},[me.submitter,(z=ge.locale)===null||z===void 0||(I=z.Modal)===null||I===void 0?void 0:I.okText,(de=ge.locale)===null||de===void 0||(pe=de.Modal)===null||pe===void 0?void 0:pe.cancelText,re,Ne,Ot,Vt,P]),ye=Object(N.useCallback)(function(Qe,$e){return Object(E.jsxs)(E.Fragment,{children:[Qe,pt.current&&$e?Object(d.createPortal)($e,pt.current):$e]})},[]),Te=Object(ne.a)(function(){var Qe=Object(ve.a)(Object(w.a)().mark(function $e(ze){var ot,He,Ge;return Object(w.a)().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:return ot=G==null?void 0:G(ze),re&&ot instanceof Promise&&(Fe(!0),He=setTimeout(function(){return Fe(!1)},re),ot.finally(function(){clearTimeout(He),Fe(!1)})),ft.next=4,ot;case 4:return Ge=ft.sent,Ge&&Ot(!1),ft.abrupt("return",Ge);case 7:case"end":return ft.stop()}},$e)}));return function($e){return Qe.apply(this,arguments)}}());return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(we.a,Object(se.a)(Object(se.a)({title:ae,width:Q||800},P),{},{visible:Ft,onClose:function($e){var ze;re&&Ne||(Vt(),Ot(!1),P==null||(ze=P.onClose)===null||ze===void 0||ze.call(P,$e))},afterVisibleChange:function($e){var ze;$e||Vt(),P==null||(ze=P.afterVisibleChange)===null||ze===void 0||ze.call(P,$e)},footer:me.submitter!==!1&&Object(E.jsx)("div",{ref:Lt,style:{display:"flex",justifyContent:"flex-end"}}),children:Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(C.a,Object(se.a)(Object(se.a)({formComponentType:"DrawerForm",layout:"vertical",formRef:et},me),{},{submitter:Ce,onFinish:function(){var Qe=Object(ve.a)(Object(w.a)().mark(function ze(ot){var He;return Object(w.a)().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.next=2,Te(ot);case 2:return He=Je.sent,He===!0&&Vt(),Je.abrupt("return",He);case 5:case"end":return Je.stop()}},ze)}));function $e(ze){return Qe.apply(this,arguments)}return $e}(),contentRender:ye,children:fe}))})})),Re]})}},"+lfL":function(mn,U,a){},"+vFt":function(mn,U,a){"use strict";a.d(U,"a",function(){return D});var ce=a("oBTY"),we=a("rAM+"),w=a("fWQN"),ve=a("mtLc"),se=a("yKVA"),te=a("879j"),$=a("EffR"),_=a("ddRO"),Y=a("uDWl"),E=a("w5yO"),Z=a("pg8w"),ne=a("fdyd"),V=a("zrhQ"),B=a("MI8n"),F=a("eLzo"),W=a("pmY6"),N=a("/6w4"),H=a.n(N),d={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:V.a.white.toString(),buttonForeground:V.a.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0},D=function(C){Object(se.a)(O,C);var x=Object(te.a)(O);function O(T,z){var I;Object(w.a)(this,O),I=x.call(this),I._label="",I._onDidClick=I._register(new B.b),I.options=z,I._element=document.createElement("a"),I._element.classList.add("monaco-button"),I._element.tabIndex=0,I._element.setAttribute("role","button");var de=z.secondary?z.buttonSecondaryBackground:z.buttonBackground,pe=z.secondary?z.buttonSecondaryForeground:z.buttonForeground;return I._element.style.color=pe||"",I._element.style.backgroundColor=de||"",z.supportShortLabel&&(I._labelShortElement=document.createElement("div"),I._labelShortElement.classList.add("monaco-button-label-short"),I._element.appendChild(I._labelShortElement),I._labelElement=document.createElement("div"),I._labelElement.classList.add("monaco-button-label"),I._element.appendChild(I._labelElement),I._element.classList.add("monaco-text-button-with-short-label")),T.appendChild(I._element),I._register(Z.b.addTarget(I._element)),[$.EventType.CLICK,Z.a.Tap].forEach(function(fe){I._register(Object($.addDisposableListener)(I._element,fe,function(ke){if(!I.enabled){$.EventHelper.stop(ke);return}I._onDidClick.fire(ke)}))}),I._register(Object($.addDisposableListener)(I._element,$.EventType.KEY_DOWN,function(fe){var ke=new Y.a(fe),A=!1;I.enabled&&(ke.equals(3)||ke.equals(10))?(I._onDidClick.fire(fe),A=!0):ke.equals(9)&&(I._element.blur(),A=!0),A&&$.EventHelper.stop(ke,!0)})),I._register(Object($.addDisposableListener)(I._element,$.EventType.MOUSE_OVER,function(fe){I._element.classList.contains("disabled")||I.updateBackground(!0)})),I._register(Object($.addDisposableListener)(I._element,$.EventType.MOUSE_OUT,function(fe){I.updateBackground(!1)})),I.focusTracker=I._register(Object($.trackFocus)(I._element)),I._register(I.focusTracker.onDidFocus(function(){I.enabled&&I.updateBackground(!0)})),I._register(I.focusTracker.onDidBlur(function(){I.enabled&&I.updateBackground(!1)})),I}return Object(ve.a)(O,[{key:"onDidClick",get:function(){return this._onDidClick.event}},{key:"getContentElements",value:function(z){var I=[],de=Object(we.a)(Object(ne.a)(z)),pe;try{for(de.s();!(pe=de.n()).done;){var fe=pe.value;if(typeof fe=="string"){if(fe=fe.trim(),fe==="")continue;var ke=document.createElement("span");ke.textContent=fe,I.push(ke)}else I.push(fe)}}catch(A){de.e(A)}finally{de.f()}return I}},{key:"updateBackground",value:function(z){var I;this.options.secondary?I=z?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:I=z?this.options.buttonHoverBackground:this.options.buttonBackground,I&&(this._element.style.backgroundColor=I)}},{key:"element",get:function(){return this._element}},{key:"label",get:function(){return this._label},set:function(z){var I;if(this._label!==z&&!(Object(F.d)(this._label)&&Object(F.d)(z)&&Object(F.e)(this._label,z))){this._element.classList.add("monaco-text-button");var de=this.options.supportShortLabel?this._labelElement:this._element;if(Object(F.d)(z)){var pe=Object(E.a)(z,{inline:!0});pe.dispose();var fe=(I=pe.element.querySelector("p"))===null||I===void 0?void 0:I.innerHTML;if(fe){var ke=Object(_.c)(fe,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});de.innerHTML=ke}else Object($.reset)(de)}else this.options.supportIcons?$.reset.apply(void 0,[de].concat(Object(ce.a)(this.getContentElements(z)))):de.textContent=z;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=Object(E.b)(z)),this._label=z}}},{key:"enabled",get:function(){return!this._element.classList.contains("disabled")},set:function(z){z?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}}]),O}(W.a)},"/6w4":function(mn,U,a){},"/UlZ":function(mn,U,a){"use strict";a.d(U,"i",function(){return W}),a.d(U,"c",function(){return N}),a.d(U,"b",function(){return H}),a.d(U,"a",function(){return D}),a.d(U,"k",function(){return T}),a.d(U,"m",function(){return I}),a.d(U,"l",function(){return pe}),a.d(U,"q",function(){return A}),a.d(U,"j",function(){return me}),a.d(U,"e",function(){return Oe}),a.d(U,"f",function(){return Pe}),a.d(U,"g",function(){return Ot}),a.d(U,"o",function(){return Ge}),a.d(U,"p",function(){return bt}),a.d(U,"r",function(){return Bt}),a.d(U,"d",function(){return mi}),a.d(U,"n",function(){return gr}),a.d(U,"h",function(){return Ki});var ce=a("tJVT"),we=a("jrin"),w=a("w4Tj"),ve=a("oZsa"),se=a("rAM+"),te=a("yKVA"),$=a("879j"),_=a("fWQN"),Y=a("mtLc"),E=a("3/fG"),Z=a("MNsG"),ne=a("h5s8"),V=a("6OMU"),B=a("qj0h"),F=a("vX7u"),W=8,N=function(){function Bn(ai){Object(_.a)(this,Bn),this._values=ai}return Object(Y.a)(Bn,[{key:"hasChanged",value:function(dn){return this._values[dn]}}]),Bn}(),H=Object(Y.a)(function Bn(){Object(_.a)(this,Bn),this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}),d=function(){function Bn(ai,dn,Jn,Yt){Object(_.a)(this,Bn),this.id=ai,this.name=dn,this.defaultValue=Jn,this.schema=Yt}return Object(Y.a)(Bn,[{key:"applyUpdate",value:function(dn,Jn){return C(dn,Jn)}},{key:"compute",value:function(dn,Jn,Yt){return Yt}}]),Bn}(),D=Object(Y.a)(function Bn(ai,dn){Object(_.a)(this,Bn),this.newValue=ai,this.didChange=dn});function C(Bn,ai){if(typeof Bn!="object"||typeof ai!="object"||!Bn||!ai)return new D(ai,Bn!==ai);if(Array.isArray(Bn)||Array.isArray(ai)){var dn=Array.isArray(Bn)&&Array.isArray(ai)&&V.j(Bn,ai);return new D(ai,!dn)}var Jn=!1;for(var Yt in ai)if(ai.hasOwnProperty(Yt)){var Ct=C(Bn[Yt],ai[Yt]);Ct.didChange&&(Bn[Yt]=Ct.newValue,Jn=!0)}return new D(Bn,Jn)}var x=function(){function Bn(ai){Object(_.a)(this,Bn),this.schema=void 0,this.id=ai,this.name="_never_",this.defaultValue=void 0}return Object(Y.a)(Bn,[{key:"applyUpdate",value:function(dn,Jn){return C(dn,Jn)}},{key:"validate",value:function(dn){return this.defaultValue}}]),Bn}(),O=function(){function Bn(ai,dn,Jn,Yt){Object(_.a)(this,Bn),this.id=ai,this.name=dn,this.defaultValue=Jn,this.schema=Yt}return Object(Y.a)(Bn,[{key:"applyUpdate",value:function(dn,Jn){return C(dn,Jn)}},{key:"validate",value:function(dn){return typeof dn=="undefined"?this.defaultValue:dn}},{key:"compute",value:function(dn,Jn,Yt){return Yt}}]),Bn}();function T(Bn,ai){return typeof Bn=="undefined"?ai:Bn==="false"?!1:Boolean(Bn)}var z=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(Jn,Yt,Ct){var Dn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;return Object(_.a)(this,dn),typeof Dn!="undefined"&&(Dn.type="boolean",Dn.default=Ct),ai.call(this,Jn,Yt,Ct,Dn)}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){return T(Yt,this.defaultValue)}}]),dn}(O);function I(Bn,ai,dn,Jn){if(typeof Bn=="undefined")return ai;var Yt=parseInt(Bn,10);return isNaN(Yt)?ai:(Yt=Math.max(dn,Yt),Yt=Math.min(Jn,Yt),Yt|0)}var de=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(Jn,Yt,Ct,Dn,gn){var en,yn=arguments.length>5&&arguments[5]!==void 0?arguments[5]:void 0;return Object(_.a)(this,dn),typeof yn!="undefined"&&(yn.type="integer",yn.default=Ct,yn.minimum=Dn,yn.maximum=gn),en=ai.call(this,Jn,Yt,Ct,yn),en.minimum=Dn,en.maximum=gn,en}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){return dn.clampedInt(Yt,this.defaultValue,this.minimum,this.maximum)}}],[{key:"clampedInt",value:function(Yt,Ct,Dn,gn){return I(Yt,Ct,Dn,gn)}}]),dn}(O);function pe(Bn,ai,dn,Jn){if(typeof Bn=="undefined")return ai;var Yt=fe.float(Bn,ai);return fe.clamp(Yt,dn,Jn)}var fe=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(Jn,Yt,Ct,Dn,gn){var en;return Object(_.a)(this,dn),typeof gn!="undefined"&&(gn.type="number",gn.default=Ct),en=ai.call(this,Jn,Yt,Ct,gn),en.validationFn=Dn,en}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){return this.validationFn(dn.float(Yt,this.defaultValue))}}],[{key:"clamp",value:function(Yt,Ct,Dn){return Yt<Ct?Ct:Yt>Dn?Dn:Yt}},{key:"float",value:function(Yt,Ct){if(typeof Yt=="number")return Yt;if(typeof Yt=="undefined")return Ct;var Dn=parseFloat(Yt);return isNaN(Dn)?Ct:Dn}}]),dn}(O),ke=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(Jn,Yt,Ct){var Dn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;return Object(_.a)(this,dn),typeof Dn!="undefined"&&(Dn.type="string",Dn.default=Ct),ai.call(this,Jn,Yt,Ct,Dn)}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){return dn.string(Yt,this.defaultValue)}}],[{key:"string",value:function(Yt,Ct){return typeof Yt!="string"?Ct:Yt}}]),dn}(O);function A(Bn,ai,dn,Jn){return typeof Bn!="string"?ai:Jn&&Bn in Jn?Jn[Bn]:dn.indexOf(Bn)===-1?ai:Bn}var P=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(Jn,Yt,Ct,Dn){var gn,en=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;return Object(_.a)(this,dn),typeof en!="undefined"&&(en.type="string",en.enum=Dn,en.default=Ct),gn=ai.call(this,Jn,Yt,Ct,en),gn._allowedValues=Dn,gn}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){return A(Yt,this.defaultValue,this._allowedValues)}}]),dn}(O),G=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(Jn,Yt,Ct,Dn,gn,en){var yn,Qn=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0;return Object(_.a)(this,dn),typeof Qn!="undefined"&&(Qn.type="string",Qn.enum=gn,Qn.default=Dn),yn=ai.call(this,Jn,Yt,Ct,Qn),yn._allowedValues=gn,yn._convert=en,yn}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){return typeof Yt!="string"?this.defaultValue:this._allowedValues.indexOf(Yt)===-1?this.defaultValue:this._convert(Yt)}}]),dn}(d);function re(Bn){switch(Bn){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}var ae=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[E.b("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached"),E.b("accessibilitySupport.on","Optimize for usage with a Screen Reader"),E.b("accessibilitySupport.off","Assume a screen reader is not attached")],default:"auto",tags:["accessibility"],description:E.b("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){switch(Yt){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}},{key:"compute",value:function(Yt,Ct,Dn){return Dn===0?Yt.accessibilitySupport:Dn}}]),dn}(d),Q=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={insertSpace:!0,ignoreEmptyLines:!0};return ai.call(this,21,"comments",Jn,{"editor.comments.insertSpace":{type:"boolean",default:Jn.insertSpace,description:E.b("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Jn.ignoreEmptyLines,description:E.b("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{insertSpace:T(Ct.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:T(Ct.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}]),dn}(d);function J(Bn){switch(Bn){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var me;(function(Bn){Bn[Bn.Line=1]="Line",Bn[Bn.Block=2]="Block",Bn[Bn.Underline=3]="Underline",Bn[Bn.LineThin=4]="LineThin",Bn[Bn.BlockOutline=5]="BlockOutline",Bn[Bn.UnderlineThin=6]="UnderlineThin"})(me||(me={}));function ge(Bn){switch(Bn){case"line":return me.Line;case"block":return me.Block;case"underline":return me.Underline;case"line-thin":return me.LineThin;case"block-outline":return me.BlockOutline;case"underline-thin":return me.UnderlineThin}}var L=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,137)}return Object(Y.a)(dn,[{key:"compute",value:function(Yt,Ct,Dn){var gn=["monaco-editor"];return Ct.get(37)&&gn.push(Ct.get(37)),Yt.extraEditorClassName&&gn.push(Yt.extraEditorClassName),Ct.get(71)==="default"?gn.push("mouse-default"):Ct.get(71)==="copy"&&gn.push("mouse-copy"),Ct.get(107)&&gn.push("showUnused"),Ct.get(135)&&gn.push("showDeprecated"),gn.join(" ")}}]),dn}(x),De=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,35,"emptySelectionClipboard",!0,{description:E.b("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}return Object(Y.a)(dn,[{key:"compute",value:function(Yt,Ct,Dn){return Dn&&Yt.emptySelectionClipboard}}]),dn}(z),Ae=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};return ai.call(this,39,"find",Jn,{"editor.find.cursorMoveOnType":{type:"boolean",default:Jn.cursorMoveOnType,description:E.b("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Jn.seedSearchStringFromSelection,enumDescriptions:[E.b("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),E.b("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),E.b("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:E.b("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Jn.autoFindInSelection,enumDescriptions:[E.b("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),E.b("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),E.b("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:E.b("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Jn.globalFindClipboard,description:E.b("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Z.i},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Jn.addExtraSpaceOnTop,description:E.b("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Jn.loop,description:E.b("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{cursorMoveOnType:T(Ct.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Yt.seedSearchStringFromSelection=="boolean"?Yt.seedSearchStringFromSelection?"always":"never":A(Ct.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Yt.autoFindInSelection=="boolean"?Yt.autoFindInSelection?"always":"never":A(Ct.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:T(Ct.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:T(Ct.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:T(Ct.loop,this.defaultValue.loop)}}}]),dn}(d),Oe=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,49,"fontLigatures",dn.OFF,{anyOf:[{type:"boolean",description:E.b("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:E.b("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:E.b("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){return typeof Yt=="undefined"?this.defaultValue:typeof Yt=="string"?Yt==="false"?dn.OFF:Yt==="true"?dn.ON:Yt:Boolean(Yt)?dn.ON:dn.OFF}}]),dn}(d);Oe.OFF='"liga" off, "calt" off',Oe.ON='"liga" on, "calt" on';var Pe=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,52,"fontVariations",dn.OFF,{anyOf:[{type:"boolean",description:E.b("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:E.b("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:E.b("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){return typeof Yt=="undefined"?this.defaultValue:typeof Yt=="string"?Yt==="false"?dn.OFF:Yt==="true"?dn.TRANSLATE:Yt:Boolean(Yt)?dn.TRANSLATE:dn.OFF}},{key:"compute",value:function(Yt,Ct,Dn){return Yt.fontInfo.fontVariationSettings}}]),dn}(d);Pe.OFF="normal",Pe.TRANSLATE="translate";var Ne=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,48)}return Object(Y.a)(dn,[{key:"compute",value:function(Yt,Ct,Dn){return Yt.fontInfo}}]),dn}(x),Fe=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,50,"fontSize",mi.fontSize,{type:"number",minimum:6,maximum:100,default:mi.fontSize,description:E.b("fontSize","Controls the font size in pixels.")})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){var Ct=fe.float(Yt,this.defaultValue);return Ct===0?mi.fontSize:fe.clamp(Ct,6,100)}},{key:"compute",value:function(Yt,Ct,Dn){return Yt.fontInfo.fontSize}}]),dn}(O),Xe=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,51,"fontWeight",mi.fontWeight,{anyOf:[{type:"number",minimum:dn.MINIMUM_VALUE,maximum:dn.MAXIMUM_VALUE,errorMessage:E.b("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:dn.SUGGESTION_VALUES}],default:mi.fontWeight,description:E.b("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){return Yt==="normal"||Yt==="bold"?Yt:String(de.clampedInt(Yt,mi.fontWeight,dn.MINIMUM_VALUE,dn.MAXIMUM_VALUE))}}]),dn}(d);Xe.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Xe.MINIMUM_VALUE=1,Xe.MAXIMUM_VALUE=1e3;var Et=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Yt={type:"string",enum:["peek","gotoAndPeek","goto"],default:Jn.multiple,enumDescriptions:[E.b("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),E.b("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),E.b("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},Ct=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];return ai.call(this,56,"gotoLocation",Jn,{"editor.gotoLocation.multiple":{deprecationMessage:E.b("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:E.b("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},Yt),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:E.b("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},Yt),"editor.gotoLocation.multipleDeclarations":Object.assign({description:E.b("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},Yt),"editor.gotoLocation.multipleImplementations":Object.assign({description:E.b("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},Yt),"editor.gotoLocation.multipleReferences":Object.assign({description:E.b("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},Yt),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Jn.alternativeDefinitionCommand,enum:Ct,description:E.b("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Jn.alternativeTypeDefinitionCommand,enum:Ct,description:E.b("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Jn.alternativeDeclarationCommand,enum:Ct,description:E.b("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Jn.alternativeImplementationCommand,enum:Ct,description:E.b("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Jn.alternativeReferenceCommand,enum:Ct,description:E.b("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){var Ct,Dn,gn,en,yn;if(!Yt||typeof Yt!="object")return this.defaultValue;var Qn=Yt;return{multiple:A(Qn.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(Ct=Qn.multipleDefinitions)!==null&&Ct!==void 0?Ct:A(Qn.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Dn=Qn.multipleTypeDefinitions)!==null&&Dn!==void 0?Dn:A(Qn.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(gn=Qn.multipleDeclarations)!==null&&gn!==void 0?gn:A(Qn.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(en=Qn.multipleImplementations)!==null&&en!==void 0?en:A(Qn.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(yn=Qn.multipleReferences)!==null&&yn!==void 0?yn:A(Qn.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:ke.string(Qn.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:ke.string(Qn.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:ke.string(Qn.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:ke.string(Qn.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:ke.string(Qn.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}]),dn}(d),Ft=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={enabled:!0,delay:300,sticky:!0,above:!0};return ai.call(this,58,"hover",Jn,{"editor.hover.enabled":{type:"boolean",default:Jn.enabled,description:E.b("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Jn.delay,minimum:0,maximum:1e4,description:E.b("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Jn.sticky,description:E.b("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Jn.above,description:E.b("hover.above","Prefer showing hovers above the line, if there's space.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{enabled:T(Ct.enabled,this.defaultValue.enabled),delay:de.clampedInt(Ct.delay,this.defaultValue.delay,0,1e4),sticky:T(Ct.sticky,this.defaultValue.sticky),above:T(Ct.above,this.defaultValue.above)}}}]),dn}(d),Ot=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,140)}return Object(Y.a)(dn,[{key:"compute",value:function(Yt,Ct,Dn){return dn.computeLayout(Ct,{memory:Yt.memory,outerWidth:Yt.outerWidth,outerHeight:Yt.outerHeight,isDominatedByLongLines:Yt.isDominatedByLongLines,lineHeight:Yt.fontInfo.lineHeight,viewLineCount:Yt.viewLineCount,lineNumbersDigitCount:Yt.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Yt.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Yt.fontInfo.maxDigitWidth,pixelRatio:Yt.pixelRatio,glyphMarginDecorationLaneCount:Yt.glyphMarginDecorationLaneCount})}}],[{key:"computeContainedMinimapLineCount",value:function(Yt){var Ct=Yt.height/Yt.lineHeight,Dn=Math.floor(Yt.paddingTop/Yt.lineHeight),gn=Math.floor(Yt.paddingBottom/Yt.lineHeight);Yt.scrollBeyondLastLine&&(gn=Math.max(gn,Ct-1));var en=(Dn+Yt.viewLineCount+gn)/(Yt.pixelRatio*Yt.height),yn=Math.floor(Yt.viewLineCount/en);return{typicalViewportLineCount:Ct,extraLinesBeforeFirstLine:Dn,extraLinesBeyondLastLine:gn,desiredRatio:en,minimapLineCount:yn}}},{key:"_computeMinimapLayout",value:function(Yt,Ct){var Dn=Yt.outerWidth,gn=Yt.outerHeight,en=Yt.pixelRatio;if(!Yt.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(en*gn),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:gn};var yn=Ct.stableMinimapLayoutInput,Qn=yn&&Yt.outerHeight===yn.outerHeight&&Yt.lineHeight===yn.lineHeight&&Yt.typicalHalfwidthCharacterWidth===yn.typicalHalfwidthCharacterWidth&&Yt.pixelRatio===yn.pixelRatio&&Yt.scrollBeyondLastLine===yn.scrollBeyondLastLine&&Yt.paddingTop===yn.paddingTop&&Yt.paddingBottom===yn.paddingBottom&&Yt.minimap.enabled===yn.minimap.enabled&&Yt.minimap.side===yn.minimap.side&&Yt.minimap.size===yn.minimap.size&&Yt.minimap.showSlider===yn.minimap.showSlider&&Yt.minimap.renderCharacters===yn.minimap.renderCharacters&&Yt.minimap.maxColumn===yn.minimap.maxColumn&&Yt.minimap.scale===yn.minimap.scale&&Yt.verticalScrollbarWidth===yn.verticalScrollbarWidth&&Yt.isViewportWrapping===yn.isViewportWrapping,pi=Yt.lineHeight,Pt=Yt.typicalHalfwidthCharacterWidth,yt=Yt.scrollBeyondLastLine,Rn=Yt.minimap.renderCharacters,Sn=en>=2?Math.round(Yt.minimap.scale*2):Yt.minimap.scale,Ii=Yt.minimap.maxColumn,Hi=Yt.minimap.size,wt=Yt.minimap.side,Pi=Yt.verticalScrollbarWidth,Ut=Yt.viewLineCount,We=Yt.remainingWidth,Tn=Yt.isViewportWrapping,ar=Rn?2:3,Br=Math.floor(en*gn),Yr=Br/en,ti=!1,bi=!1,Kn=ar*Sn,En=Sn/en,Nt=1;if(Hi==="fill"||Hi==="fit"){var Gt=dn.computeContainedMinimapLineCount({viewLineCount:Ut,scrollBeyondLastLine:yt,paddingTop:Yt.paddingTop,paddingBottom:Yt.paddingBottom,height:gn,lineHeight:pi,pixelRatio:en}),mt=Gt.typicalViewportLineCount,Ye=Gt.extraLinesBeforeFirstLine,vn=Gt.extraLinesBeyondLastLine,nt=Gt.desiredRatio,Ze=Gt.minimapLineCount,Zt=Ut/Ze;if(Zt>1)ti=!0,bi=!0,Sn=1,Kn=1,En=Sn/en;else{var hn=!1,Ht=Sn+1;if(Hi==="fit"){var lt=Math.ceil((Ye+Ut+vn)*Kn);Tn&&Qn&&We<=Ct.stableFitRemainingWidth?(hn=!0,Ht=Ct.stableFitMaxMinimapScale):hn=lt>Br}if(Hi==="fill"||hn){ti=!0;var si=Sn;Kn=Math.min(pi*en,Math.max(1,Math.floor(1/nt))),Tn&&Qn&&We<=Ct.stableFitRemainingWidth&&(Ht=Ct.stableFitMaxMinimapScale),Sn=Math.min(Ht,Math.max(1,Math.floor(Kn/ar))),Sn>si&&(Nt=Math.min(2,Sn/si)),En=Sn/en/Nt,Br=Math.ceil(Math.max(mt,Ye+Ut+vn)*Kn),Tn?(Ct.stableMinimapLayoutInput=Yt,Ct.stableFitRemainingWidth=We,Ct.stableFitMaxMinimapScale=Sn):(Ct.stableMinimapLayoutInput=null,Ct.stableFitRemainingWidth=0)}}}var Oi=Math.floor(Ii*En),Ji=Math.min(Oi,Math.max(0,Math.floor((We-Pi-2)*En/(Pt+En)))+W),Wi=Math.floor(en*Ji),Yi=Wi/en;Wi=Math.floor(Wi*Nt);var Bi=Rn?1:2,Gi=wt==="left"?0:Dn-Ji-Pi;return{renderMinimap:Bi,minimapLeft:Gi,minimapWidth:Ji,minimapHeightIsEditorHeight:ti,minimapIsSampling:bi,minimapScale:Sn,minimapLineHeight:Kn,minimapCanvasInnerWidth:Wi,minimapCanvasInnerHeight:Br,minimapCanvasOuterWidth:Yi,minimapCanvasOuterHeight:Yr}}},{key:"computeLayout",value:function(Yt,Ct){var Dn=Ct.outerWidth|0,gn=Ct.outerHeight|0,en=Ct.lineHeight|0,yn=Ct.lineNumbersDigitCount|0,Qn=Ct.typicalHalfwidthCharacterWidth,pi=Ct.maxDigitWidth,Pt=Ct.pixelRatio,yt=Ct.viewLineCount,Rn=Yt.get(132),Sn=Rn==="inherit"?Yt.get(131):Rn,Ii=Sn==="inherit"?Yt.get(127):Sn,Hi=Yt.get(130),wt=Ct.isDominatedByLongLines,Pi=Yt.get(55),Ut=Yt.get(65).renderType!==0,We=Yt.get(66),Tn=Yt.get(101),ar=Yt.get(81),Br=Yt.get(70),Yr=Yt.get(99),ti=Yr.verticalScrollbarSize,bi=Yr.verticalHasArrows,Kn=Yr.arrowSize,En=Yr.horizontalScrollbarSize,Nt=Yt.get(41),Gt=Yt.get(106)!=="never",mt=Yt.get(63);Nt&&Gt&&(mt+=16);var Ye=0;if(Ut){var vn=Math.max(yn,We);Ye=Math.round(vn*pi)}var nt=0;Pi&&(nt=en*Ct.glyphMarginDecorationLaneCount);var Ze=0,Zt=Ze+nt,hn=Zt+Ye,Ht=hn+mt,lt=Dn-nt-Ye-mt,si=!1,Oi=!1,Ji=-1;Sn==="inherit"&&wt?(si=!0,Oi=!0):Ii==="on"||Ii==="bounded"?Oi=!0:Ii==="wordWrapColumn"&&(Ji=Hi);var Wi=dn._computeMinimapLayout({outerWidth:Dn,outerHeight:gn,lineHeight:en,typicalHalfwidthCharacterWidth:Qn,pixelRatio:Pt,scrollBeyondLastLine:Tn,paddingTop:ar.top,paddingBottom:ar.bottom,minimap:Br,verticalScrollbarWidth:ti,viewLineCount:yt,remainingWidth:lt,isViewportWrapping:Oi},Ct.memory||new H);Wi.renderMinimap!==0&&Wi.minimapLeft===0&&(Ze+=Wi.minimapWidth,Zt+=Wi.minimapWidth,hn+=Wi.minimapWidth,Ht+=Wi.minimapWidth);var Yi=lt-Wi.minimapWidth,Bi=Math.max(1,Math.floor((Yi-ti-2)/Qn)),Gi=bi?Kn:0;return Oi&&(Ji=Math.max(1,Bi),Ii==="bounded"&&(Ji=Math.min(Ji,Hi))),{width:Dn,height:gn,glyphMarginLeft:Ze,glyphMarginWidth:nt,glyphMarginDecorationLaneCount:Ct.glyphMarginDecorationLaneCount,lineNumbersLeft:Zt,lineNumbersWidth:Ye,decorationsLeft:hn,decorationsWidth:mt,contentLeft:Ht,contentWidth:Yi,minimap:Wi,viewportColumn:Bi,isWordWrapMinified:si,isViewportWrapping:Oi,wrappingColumn:Ji,verticalScrollbarWidth:ti,horizontalScrollbarHeight:En,overviewRuler:{top:Gi,width:ti,height:gn-2*Gi,right:0}}}}]),dn}(x),pt=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,134,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[E.b("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),E.b("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:E.b("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){return A(Yt,"simple",["simple","advanced"])}},{key:"compute",value:function(Yt,Ct,Dn){var gn=Ct.get(2);return gn===2?"advanced":Dn}}]),dn}(d),Lt=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={enabled:!0};return ai.call(this,62,"lightbulb",Jn,{"editor.lightbulb.enabled":{type:"boolean",default:Jn.enabled,description:E.b("codeActions","Enables the Code Action lightbulb in the editor.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{enabled:T(Ct.enabled,this.defaultValue.enabled)}}}]),dn}(d),et=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={enabled:!1,maxLineCount:5,defaultModel:"outlineModel"};return ai.call(this,111,"stickyScroll",Jn,{"editor.stickyScroll.enabled":{type:"boolean",default:Jn.enabled,description:E.b("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:Jn.maxLineCount,minimum:1,maximum:10,description:E.b("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:Jn.defaultModel,description:E.b("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{enabled:T(Ct.enabled,this.defaultValue.enabled),maxLineCount:de.clampedInt(Ct.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:A(Ct.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"])}}}]),dn}(d),Vt=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={enabled:"on",fontSize:0,fontFamily:"",padding:!1};return ai.call(this,136,"inlayHints",Jn,{"editor.inlayHints.enabled":{type:"string",default:Jn.enabled,description:E.b("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[E.b("editor.inlayHints.on","Inlay hints are enabled"),E.b("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",Z.i?"Ctrl+Option":"Ctrl+Alt"),E.b("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",Z.i?"Ctrl+Option":"Ctrl+Alt"),E.b("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Jn.fontSize,markdownDescription:E.b("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Jn.fontFamily,markdownDescription:E.b("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Jn.padding,description:E.b("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return typeof Ct.enabled=="boolean"&&(Ct.enabled=Ct.enabled?"on":"off"),{enabled:A(Ct.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:de.clampedInt(Ct.fontSize,this.defaultValue.fontSize,0,100),fontFamily:ke.string(Ct.fontFamily,this.defaultValue.fontFamily),padding:T(Ct.padding,this.defaultValue.padding)}}}]),dn}(d),Re=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,63,"lineDecorationsWidth",10)}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(typeof Yt=="string"&&/^\d+(\.\d+)?ch$/.test(Yt)){var Ct=parseFloat(Yt.substring(0,Yt.length-2));return-Ct}else return de.clampedInt(Yt,this.defaultValue,0,1e3)}},{key:"compute",value:function(Yt,Ct,Dn){return Dn<0?de.clampedInt(-Dn*Yt.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Dn}}]),dn}(d),Ce=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,64,"lineHeight",mi.lineHeight,function(Jn){return fe.clamp(Jn,0,150)},{markdownDescription:E.b("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}return Object(Y.a)(dn,[{key:"compute",value:function(Yt,Ct,Dn){return Yt.fontInfo.lineHeight}}]),dn}(fe),ye=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};return ai.call(this,70,"minimap",Jn,{"editor.minimap.enabled":{type:"boolean",default:Jn.enabled,description:E.b("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Jn.autohide,description:E.b("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[E.b("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),E.b("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),E.b("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Jn.size,description:E.b("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Jn.side,description:E.b("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Jn.showSlider,description:E.b("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Jn.scale,minimum:1,maximum:3,enum:[1,2,3],description:E.b("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Jn.renderCharacters,description:E.b("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Jn.maxColumn,description:E.b("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{enabled:T(Ct.enabled,this.defaultValue.enabled),autohide:T(Ct.autohide,this.defaultValue.autohide),size:A(Ct.size,this.defaultValue.size,["proportional","fill","fit"]),side:A(Ct.side,this.defaultValue.side,["right","left"]),showSlider:A(Ct.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:T(Ct.renderCharacters,this.defaultValue.renderCharacters),scale:de.clampedInt(Ct.scale,1,1,3),maxColumn:de.clampedInt(Ct.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}]),dn}(d);function Te(Bn){return Bn==="ctrlCmd"?Z.i?"metaKey":"ctrlKey":"altKey"}var Qe=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,81,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:E.b("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:E.b("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{top:de.clampedInt(Ct.top,0,0,1e3),bottom:de.clampedInt(Ct.bottom,0,0,1e3)}}}]),dn}(d),$e=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={enabled:!0,cycle:!0};return ai.call(this,83,"parameterHints",Jn,{"editor.parameterHints.enabled":{type:"boolean",default:Jn.enabled,description:E.b("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Jn.cycle,description:E.b("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{enabled:T(Ct.enabled,this.defaultValue.enabled),cycle:T(Ct.cycle,this.defaultValue.cycle)}}}]),dn}(d),ze=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,138)}return Object(Y.a)(dn,[{key:"compute",value:function(Yt,Ct,Dn){return Yt.pixelRatio}}]),dn}(x),ot=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){var Jn;Object(_.a)(this,dn);var Yt={other:"on",comments:"off",strings:"off"},Ct=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[E.b("on","Quick suggestions show inside the suggest widget"),E.b("inline","Quick suggestions show as ghost text"),E.b("off","Quick suggestions are disabled")]}];return Jn=ai.call(this,86,"quickSuggestions",Yt,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:Ct,default:Yt.strings,description:E.b("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:Ct,default:Yt.comments,description:E.b("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:Ct,default:Yt.other,description:E.b("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Yt,markdownDescription:E.b("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),Jn.defaultValue=Yt,Jn}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(typeof Yt=="boolean"){var Ct=Yt?"on":"off";return{comments:Ct,strings:Ct,other:Ct}}if(!Yt||typeof Yt!="object")return this.defaultValue;var Dn=Yt.other,gn=Yt.comments,en=Yt.strings,yn=["on","inline","off"],Qn,pi,Pt;return typeof Dn=="boolean"?Qn=Dn?"on":"off":Qn=A(Dn,this.defaultValue.other,yn),typeof gn=="boolean"?pi=gn?"on":"off":pi=A(gn,this.defaultValue.comments,yn),typeof en=="boolean"?Pt=en?"on":"off":Pt=A(en,this.defaultValue.strings,yn),{other:Qn,comments:pi,strings:Pt}}}]),dn}(d),He=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,65,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[E.b("lineNumbers.off","Line numbers are not rendered."),E.b("lineNumbers.on","Line numbers are rendered as absolute number."),E.b("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),E.b("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:E.b("lineNumbers","Controls the display of line numbers.")})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){var Ct=this.defaultValue.renderType,Dn=this.defaultValue.renderFn;return typeof Yt!="undefined"&&(typeof Yt=="function"?(Ct=4,Dn=Yt):Yt==="interval"?Ct=3:Yt==="relative"?Ct=2:Yt==="on"?Ct=1:Ct=0),{renderType:Ct,renderFn:Dn}}}]),dn}(d);function Ge(Bn){var ai=Bn.get(94);return ai==="editable"?Bn.get(88):ai!=="on"}var Je=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn=[],Yt={type:"number",description:E.b("rulers.size","Number of monospace characters at which this editor ruler will render.")};return ai.call(this,98,"rulers",Jn,{type:"array",items:{anyOf:[Yt,{type:["object"],properties:{column:Yt,color:{type:"string",description:E.b("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Jn,description:E.b("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(Array.isArray(Yt)){var Ct=[],Dn=Object(se.a)(Yt),gn;try{for(Dn.s();!(gn=Dn.n()).done;){var en=gn.value;if(typeof en=="number")Ct.push({column:de.clampedInt(en,0,0,1e4),color:null});else if(en&&typeof en=="object"){var yn=en;Ct.push({column:de.clampedInt(yn.column,0,0,1e4),color:yn.color})}}}catch(Qn){Dn.e(Qn)}finally{Dn.f()}return Ct.sort(function(Qn,pi){return Qn.column-pi.column}),Ct}return this.defaultValue}}]),dn}(d);function ft(Bn,ai){if(typeof Bn!="string")return ai;switch(Bn){case"hidden":return 2;case"visible":return 3;default:return 1}}var qt=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};return ai.call(this,99,"scrollbar",Jn,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[E.b("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),E.b("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),E.b("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:E.b("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[E.b("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),E.b("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),E.b("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:E.b("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Jn.verticalScrollbarSize,description:E.b("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Jn.horizontalScrollbarSize,description:E.b("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Jn.scrollByPage,description:E.b("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt,Dn=de.clampedInt(Ct.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),gn=de.clampedInt(Ct.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:de.clampedInt(Ct.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ft(Ct.vertical,this.defaultValue.vertical),horizontal:ft(Ct.horizontal,this.defaultValue.horizontal),useShadows:T(Ct.useShadows,this.defaultValue.useShadows),verticalHasArrows:T(Ct.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:T(Ct.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:T(Ct.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:T(Ct.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Dn,horizontalSliderSize:de.clampedInt(Ct.horizontalSliderSize,Dn,0,1e3),verticalScrollbarSize:gn,verticalSliderSize:de.clampedInt(Ct.verticalSliderSize,gn,0,1e3),scrollByPage:T(Ct.scrollByPage,this.defaultValue.scrollByPage)}}}]),dn}(d),bt="inUntrustedWorkspace",Bt={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"},rn=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){var Jn;Object(_.a)(this,dn);var Yt={nonBasicASCII:bt,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:bt,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};return ai.call(this,121,"unicodeHighlight",Yt,(Jn={},Object(we.a)(Jn,Bt.nonBasicASCII,{restricted:!0,type:["boolean","string"],enum:[!0,!1,bt],default:Yt.nonBasicASCII,description:E.b("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")}),Object(we.a)(Jn,Bt.invisibleCharacters,{restricted:!0,type:"boolean",default:Yt.invisibleCharacters,description:E.b("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")}),Object(we.a)(Jn,Bt.ambiguousCharacters,{restricted:!0,type:"boolean",default:Yt.ambiguousCharacters,description:E.b("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")}),Object(we.a)(Jn,Bt.includeComments,{restricted:!0,type:["boolean","string"],enum:[!0,!1,bt],default:Yt.includeComments,description:E.b("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")}),Object(we.a)(Jn,Bt.includeStrings,{restricted:!0,type:["boolean","string"],enum:[!0,!1,bt],default:Yt.includeStrings,description:E.b("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")}),Object(we.a)(Jn,Bt.allowedCharacters,{restricted:!0,type:"object",default:Yt.allowedCharacters,description:E.b("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}}),Object(we.a)(Jn,Bt.allowedLocales,{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Yt.allowedLocales,description:E.b("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}),Jn))}return Object(Y.a)(dn,[{key:"applyUpdate",value:function(Yt,Ct){var Dn=!1;Ct.allowedCharacters&&Yt&&(B.e(Yt.allowedCharacters,Ct.allowedCharacters)||(Yt=Object.assign(Object.assign({},Yt),{allowedCharacters:Ct.allowedCharacters}),Dn=!0)),Ct.allowedLocales&&Yt&&(B.e(Yt.allowedLocales,Ct.allowedLocales)||(Yt=Object.assign(Object.assign({},Yt),{allowedLocales:Ct.allowedLocales}),Dn=!0));var gn=Object(w.a)(Object(ve.a)(dn.prototype),"applyUpdate",this).call(this,Yt,Ct);return Dn?new D(gn.newValue,!0):gn}},{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{nonBasicASCII:jn(Ct.nonBasicASCII,bt,[!0,!1,bt]),invisibleCharacters:T(Ct.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:T(Ct.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:jn(Ct.includeComments,bt,[!0,!1,bt]),includeStrings:jn(Ct.includeStrings,bt,[!0,!1,bt]),allowedCharacters:this.validateBooleanMap(Yt.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Yt.allowedLocales,this.defaultValue.allowedLocales)}}},{key:"validateBooleanMap",value:function(Yt,Ct){if(typeof Yt!="object"||!Yt)return Ct;for(var Dn={},gn=0,en=Object.entries(Yt);gn<en.length;gn++){var yn=en[gn],Qn=Object(ce.a)(yn,2),pi=Qn[0],Pt=Qn[1];Pt===!0&&(Dn[pi]=!0)}return Dn}}]),dn}(d),an=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};return ai.call(this,60,"inlineSuggest",Jn,{"editor.inlineSuggest.enabled":{type:"boolean",default:Jn.enabled,description:E.b("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:Jn.showToolbar,enum:["always","onHover"],enumDescriptions:[E.b("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),E.b("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion.")],description:E.b("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:Jn.suppressSuggestions,description:E.b("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{enabled:T(Ct.enabled,this.defaultValue.enabled),mode:A(Ct.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:A(Ct.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:T(Ct.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:T(Ct.keepOnBlur,this.defaultValue.keepOnBlur)}}}]),dn}(d),In=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={enabled:F.a.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:F.a.bracketPairColorizationOptions.independentColorPoolPerBracketType};return ai.call(this,13,"bracketPairColorization",Jn,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Jn.enabled,markdownDescription:E.b("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Jn.independentColorPoolPerBracketType,description:E.b("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{enabled:T(Ct.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:T(Ct.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}]),dn}(d),Dt=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};return ai.call(this,14,"guides",Jn,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[E.b("editor.guides.bracketPairs.true","Enables bracket pair guides."),E.b("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),E.b("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Jn.bracketPairs,description:E.b("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[E.b("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),E.b("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),E.b("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Jn.bracketPairsHorizontal,description:E.b("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Jn.highlightActiveBracketPair,description:E.b("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Jn.indentation,description:E.b("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[E.b("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),E.b("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),E.b("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Jn.highlightActiveIndentation,description:E.b("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{bracketPairs:jn(Ct.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:jn(Ct.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:T(Ct.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:T(Ct.indentation,this.defaultValue.indentation),highlightActiveIndentation:jn(Ct.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}]),dn}(d);function jn(Bn,ai,dn){var Jn=dn.indexOf(Bn);return Jn===-1?ai:dn[Jn]}var _n=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};return ai.call(this,114,"suggest",Jn,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[E.b("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),E.b("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Jn.insertMode,description:E.b("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Jn.filterGraceful,description:E.b("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Jn.localityBonus,description:E.b("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Jn.shareSuggestSelections,markdownDescription:E.b("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[E.b("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),E.b("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),E.b("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),E.b("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:Jn.selectionMode,markdownDescription:E.b("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Jn.snippetsPreventQuickSuggestions,description:E.b("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Jn.showIcons,description:E.b("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Jn.showStatusBar,description:E.b("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Jn.preview,description:E.b("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Jn.showInlineDetails,description:E.b("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:E.b("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:E.b("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:E.b("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{insertMode:A(Ct.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:T(Ct.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:T(Ct.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:T(Ct.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:T(Ct.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:A(Ct.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:T(Ct.showIcons,this.defaultValue.showIcons),showStatusBar:T(Ct.showStatusBar,this.defaultValue.showStatusBar),preview:T(Ct.preview,this.defaultValue.preview),previewMode:A(Ct.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:T(Ct.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:T(Ct.showMethods,this.defaultValue.showMethods),showFunctions:T(Ct.showFunctions,this.defaultValue.showFunctions),showConstructors:T(Ct.showConstructors,this.defaultValue.showConstructors),showDeprecated:T(Ct.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:T(Ct.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:T(Ct.showFields,this.defaultValue.showFields),showVariables:T(Ct.showVariables,this.defaultValue.showVariables),showClasses:T(Ct.showClasses,this.defaultValue.showClasses),showStructs:T(Ct.showStructs,this.defaultValue.showStructs),showInterfaces:T(Ct.showInterfaces,this.defaultValue.showInterfaces),showModules:T(Ct.showModules,this.defaultValue.showModules),showProperties:T(Ct.showProperties,this.defaultValue.showProperties),showEvents:T(Ct.showEvents,this.defaultValue.showEvents),showOperators:T(Ct.showOperators,this.defaultValue.showOperators),showUnits:T(Ct.showUnits,this.defaultValue.showUnits),showValues:T(Ct.showValues,this.defaultValue.showValues),showConstants:T(Ct.showConstants,this.defaultValue.showConstants),showEnums:T(Ct.showEnums,this.defaultValue.showEnums),showEnumMembers:T(Ct.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:T(Ct.showKeywords,this.defaultValue.showKeywords),showWords:T(Ct.showWords,this.defaultValue.showWords),showColors:T(Ct.showColors,this.defaultValue.showColors),showFiles:T(Ct.showFiles,this.defaultValue.showFiles),showReferences:T(Ct.showReferences,this.defaultValue.showReferences),showFolders:T(Ct.showFolders,this.defaultValue.showFolders),showTypeParameters:T(Ct.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:T(Ct.showSnippets,this.defaultValue.showSnippets),showUsers:T(Ct.showUsers,this.defaultValue.showUsers),showIssues:T(Ct.showIssues,this.defaultValue.showIssues)}}}]),dn}(d),Nn=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,109,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:E.b("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){return!Yt||typeof Yt!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:T(Yt.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}]),dn}(d),ei=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,133,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[E.b("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),E.b("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),E.b("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),E.b("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:E.b("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){switch(Yt){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}},{key:"compute",value:function(Yt,Ct,Dn){var gn=Ct.get(2);return gn===2?0:Dn}}]),dn}(d),kn=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){return Object(_.a)(this,dn),ai.call(this,141)}return Object(Y.a)(dn,[{key:"compute",value:function(Yt,Ct,Dn){var gn=Ct.get(140);return{isDominatedByLongLines:Yt.isDominatedByLongLines,isWordWrapMinified:gn.isWordWrapMinified,isViewportWrapping:gn.isViewportWrapping,wrappingColumn:gn.wrappingColumn}}}]),dn}(x),Pn=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={enabled:!0,showDropSelector:"afterDrop"};return ai.call(this,34,"dropIntoEditor",Jn,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Jn.enabled,markdownDescription:E.b("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:E.b("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[E.b("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),E.b("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{enabled:T(Ct.enabled,this.defaultValue.enabled),showDropSelector:A(Ct.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}]),dn}(d),qi=function(Bn){Object(te.a)(dn,Bn);var ai=Object($.a)(dn);function dn(){Object(_.a)(this,dn);var Jn={enabled:!0,showPasteSelector:"afterPaste"};return ai.call(this,82,"pasteAs",Jn,{"editor.pasteAs.enabled":{type:"boolean",default:Jn.enabled,markdownDescription:E.b("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:E.b("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[E.b("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),E.b("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}return Object(Y.a)(dn,[{key:"validate",value:function(Yt){if(!Yt||typeof Yt!="object")return this.defaultValue;var Ct=Yt;return{enabled:T(Ct.enabled,this.defaultValue.enabled),showPasteSelector:A(Ct.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}]),dn}(d),gi="Consolas, 'Courier New', monospace",ir="Menlo, Monaco, 'Courier New', monospace",yi="'Droid Sans Mono', 'monospace', monospace",mi={fontFamily:Z.i?ir:Z.g?yi:gi,fontWeight:"normal",fontSize:Z.i?12:14,lineHeight:0,letterSpacing:0},gr=[];function zn(Bn){return gr[Bn.id]=Bn,Bn}var Ki={acceptSuggestionOnCommitCharacter:zn(new z(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:E.b("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:zn(new P(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",E.b("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:E.b("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:zn(new ae),accessibilityPageSize:zn(new de(3,"accessibilityPageSize",10,1,1073741824,{description:E.b("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:zn(new ke(4,"ariaLabel",E.b("editorViewAccessibleLabel","Editor content"))),screenReaderAnnounceInlineSuggestion:zn(new z(6,"screenReaderAnnounceInlineSuggestion",!0,{description:E.b("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:zn(new P(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",E.b("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),E.b("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:E.b("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:zn(new P(7,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",E.b("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:E.b("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:zn(new P(8,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",E.b("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:E.b("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:zn(new P(9,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",E.b("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),E.b("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:E.b("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:zn(new G(10,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],re,{enumDescriptions:[E.b("editor.autoIndent.none","The editor will not insert indentation automatically."),E.b("editor.autoIndent.keep","The editor will keep the current line's indentation."),E.b("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),E.b("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),E.b("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:E.b("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:zn(new z(11,"automaticLayout",!1)),autoSurround:zn(new P(12,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[E.b("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),E.b("editor.autoSurround.quotes","Surround with quotes but not brackets."),E.b("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:E.b("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:zn(new In),bracketPairGuides:zn(new Dt),stickyTabStops:zn(new z(112,"stickyTabStops",!1,{description:E.b("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:zn(new z(15,"codeLens",!0,{description:E.b("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:zn(new ke(16,"codeLensFontFamily","",{description:E.b("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:zn(new de(17,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:E.b("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:zn(new z(18,"colorDecorators",!0,{description:E.b("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorsLimit:zn(new de(19,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:E.b("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:zn(new z(20,"columnSelection",!1,{description:E.b("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:zn(new Q),contextmenu:zn(new z(22,"contextmenu",!0)),copyWithSyntaxHighlighting:zn(new z(23,"copyWithSyntaxHighlighting",!0,{description:E.b("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:zn(new G(24,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],J,{description:E.b("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:zn(new P(25,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[E.b("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),E.b("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),E.b("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:E.b("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:zn(new G(26,"cursorStyle",me.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],ge,{description:E.b("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:zn(new de(27,"cursorSurroundingLines",0,0,1073741824,{description:E.b("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:zn(new P(28,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[E.b("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),E.b("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:E.b("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:zn(new de(29,"cursorWidth",0,0,1073741824,{markdownDescription:E.b("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:zn(new z(30,"disableLayerHinting",!1)),disableMonospaceOptimizations:zn(new z(31,"disableMonospaceOptimizations",!1)),domReadOnly:zn(new z(32,"domReadOnly",!1)),dragAndDrop:zn(new z(33,"dragAndDrop",!0,{description:E.b("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:zn(new De),dropIntoEditor:zn(new Pn),stickyScroll:zn(new et),experimentalWhitespaceRendering:zn(new P(36,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[E.b("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),E.b("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),E.b("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:E.b("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:zn(new ke(37,"extraEditorClassName","")),fastScrollSensitivity:zn(new fe(38,"fastScrollSensitivity",5,function(Bn){return Bn<=0?5:Bn},{markdownDescription:E.b("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:zn(new Ae),fixedOverflowWidgets:zn(new z(40,"fixedOverflowWidgets",!1)),folding:zn(new z(41,"folding",!0,{description:E.b("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:zn(new P(42,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[E.b("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),E.b("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:E.b("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:zn(new z(43,"foldingHighlight",!0,{description:E.b("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:zn(new z(44,"foldingImportsByDefault",!1,{description:E.b("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:zn(new de(45,"foldingMaximumRegions",5e3,10,65e3,{description:E.b("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:zn(new z(46,"unfoldOnClickAfterEndOfLine",!1,{description:E.b("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:zn(new ke(47,"fontFamily",mi.fontFamily,{description:E.b("fontFamily","Controls the font family.")})),fontInfo:zn(new Ne),fontLigatures2:zn(new Oe),fontSize:zn(new Fe),fontWeight:zn(new Xe),fontVariations:zn(new Pe),formatOnPaste:zn(new z(53,"formatOnPaste",!1,{description:E.b("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:zn(new z(54,"formatOnType",!1,{description:E.b("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:zn(new z(55,"glyphMargin",!0,{description:E.b("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:zn(new Et),hideCursorInOverviewRuler:zn(new z(57,"hideCursorInOverviewRuler",!1,{description:E.b("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:zn(new Ft),inDiffEditor:zn(new z(59,"inDiffEditor",!1)),letterSpacing:zn(new fe(61,"letterSpacing",mi.letterSpacing,function(Bn){return fe.clamp(Bn,-5,20)},{description:E.b("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:zn(new Lt),lineDecorationsWidth:zn(new Re),lineHeight:zn(new Ce),lineNumbers:zn(new He),lineNumbersMinChars:zn(new de(66,"lineNumbersMinChars",5,1,300)),linkedEditing:zn(new z(67,"linkedEditing",!1,{description:E.b("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:zn(new z(68,"links",!0,{description:E.b("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:zn(new P(69,"matchBrackets","always",["always","near","never"],{description:E.b("matchBrackets","Highlight matching brackets.")})),minimap:zn(new ye),mouseStyle:zn(new P(71,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:zn(new fe(72,"mouseWheelScrollSensitivity",1,function(Bn){return Bn===0?1:Bn},{markdownDescription:E.b("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:zn(new z(73,"mouseWheelZoom",!1,{markdownDescription:E.b("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:zn(new z(74,"multiCursorMergeOverlapping",!0,{description:E.b("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:zn(new G(75,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Te,{markdownEnumDescriptions:[E.b("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),E.b("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:E.b({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:zn(new P(76,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[E.b("multiCursorPaste.spread","Each cursor pastes a single line of the text."),E.b("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:E.b("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:zn(new de(77,"multiCursorLimit",1e4,1,1e5,{markdownDescription:E.b("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:zn(new z(78,"occurrencesHighlight",!0,{description:E.b("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:zn(new z(79,"overviewRulerBorder",!0,{description:E.b("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:zn(new de(80,"overviewRulerLanes",3,0,3)),padding:zn(new Qe),pasteAs:zn(new qi),parameterHints:zn(new $e),peekWidgetDefaultFocus:zn(new P(84,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[E.b("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),E.b("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:E.b("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:zn(new z(85,"definitionLinkOpensInPeek",!1,{description:E.b("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:zn(new ot),quickSuggestionsDelay:zn(new de(87,"quickSuggestionsDelay",10,0,1073741824,{description:E.b("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:zn(new z(88,"readOnly",!1)),renameOnType:zn(new z(89,"renameOnType",!1,{description:E.b("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:E.b("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:zn(new z(90,"renderControlCharacters",!0,{description:E.b("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:zn(new P(91,"renderFinalNewline",Z.g?"dimmed":"on",["off","on","dimmed"],{description:E.b("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:zn(new P(92,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",E.b("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:E.b("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:zn(new z(93,"renderLineHighlightOnlyWhenFocus",!1,{description:E.b("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:zn(new P(94,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:zn(new P(95,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",E.b("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),E.b("renderWhitespace.selection","Render whitespace characters only on selected text."),E.b("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:E.b("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:zn(new de(96,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:zn(new z(97,"roundedSelection",!0,{description:E.b("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:zn(new Je),scrollbar:zn(new qt),scrollBeyondLastColumn:zn(new de(100,"scrollBeyondLastColumn",4,0,1073741824,{description:E.b("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:zn(new z(101,"scrollBeyondLastLine",!0,{description:E.b("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:zn(new z(102,"scrollPredominantAxis",!0,{description:E.b("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:zn(new z(103,"selectionClipboard",!0,{description:E.b("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Z.g})),selectionHighlight:zn(new z(104,"selectionHighlight",!0,{description:E.b("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:zn(new z(105,"selectOnLineNumbers",!0)),showFoldingControls:zn(new P(106,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[E.b("showFoldingControls.always","Always show the folding controls."),E.b("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),E.b("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:E.b("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:zn(new z(107,"showUnused",!0,{description:E.b("showUnused","Controls fading out of unused code.")})),showDeprecated:zn(new z(135,"showDeprecated",!0,{description:E.b("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:zn(new Vt),snippetSuggestions:zn(new P(108,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[E.b("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),E.b("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),E.b("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),E.b("snippetSuggestions.none","Do not show snippet suggestions.")],description:E.b("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:zn(new Nn),smoothScrolling:zn(new z(110,"smoothScrolling",!1,{description:E.b("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:zn(new de(113,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:zn(new _n),inlineSuggest:zn(new an),suggestFontSize:zn(new de(115,"suggestFontSize",0,0,1e3,{markdownDescription:E.b("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:zn(new de(116,"suggestLineHeight",0,0,1e3,{markdownDescription:E.b("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:zn(new z(117,"suggestOnTriggerCharacters",!0,{description:E.b("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:zn(new P(118,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[E.b("suggestSelection.first","Always select the first suggestion."),E.b("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),E.b("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:E.b("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:zn(new P(119,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[E.b("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),E.b("tabCompletion.off","Disable tab completions."),E.b("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:E.b("tabCompletion","Enables tab completions.")})),tabIndex:zn(new de(120,"tabIndex",0,-1,1073741824)),unicodeHighlight:zn(new rn),unusualLineTerminators:zn(new P(122,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[E.b("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),E.b("unusualLineTerminators.off","Unusual line terminators are ignored."),E.b("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:E.b("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:zn(new z(123,"useShadowDOM",!0)),useTabStops:zn(new z(124,"useTabStops",!0,{description:E.b("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:zn(new P(125,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[E.b("wordBreak.normal","Use the default line break rule."),E.b("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:E.b("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:zn(new ke(126,"wordSeparators",ne.b,{description:E.b("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:zn(new P(127,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[E.b("wordWrap.off","Lines will never wrap."),E.b("wordWrap.on","Lines will wrap at the viewport width."),E.b({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),E.b({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:E.b({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:zn(new ke(128,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:zn(new ke(129,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:zn(new de(130,"wordWrapColumn",80,1,1073741824,{markdownDescription:E.b({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:zn(new P(131,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:zn(new P(132,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:zn(new L),defaultColorDecorators:zn(new z(142,"defaultColorDecorators",!1,{markdownDescription:E.b("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:zn(new ze),tabFocusMode:zn(new z(139,"tabFocusMode",!1,{markdownDescription:E.b("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:zn(new Ot),wrappingInfo:zn(new kn),wrappingIndent:zn(new ei),wrappingStrategy:zn(new pt)}},"/cxE":function(mn,U,a){"use strict";a.d(U,"h",function(){return Y}),a.d(U,"i",function(){return E}),a.d(U,"j",function(){return Z}),a.d(U,"g",function(){return V}),a.d(U,"b",function(){return B}),a.d(U,"d",function(){return F}),a.d(U,"e",function(){return W}),a.d(U,"f",function(){return N}),a.d(U,"c",function(){return H}),a.d(U,"a",function(){return D});var ce=a("tS8v"),we=a("yKVA"),w=a("879j"),ve=a("ZKkB"),se=a("fWQN"),te=a("mtLc"),$=function(){function C(){Object(se.a)(this,C),this.listeners=[],this.unexpectedErrorHandler=function(x){setTimeout(function(){throw x.stack?d.isErrorNoTelemetry(x)?new d(x.message+`

`+x.stack):new Error(x.message+`

`+x.stack):x},0)}}return Object(te.a)(C,[{key:"emit",value:function(O){this.listeners.forEach(function(T){T(O)})}},{key:"onUnexpectedError",value:function(O){this.unexpectedErrorHandler(O),this.emit(O)}},{key:"onUnexpectedExternalError",value:function(O){this.unexpectedErrorHandler(O)}}]),C}(),_=new $;function Y(C){V(C)||_.onUnexpectedError(C)}function E(C){V(C)||_.onUnexpectedExternalError(C)}function Z(C){if(C instanceof Error){var x=C.name,O=C.message,T=C.stacktrace||C.stack;return{$isError:!0,name:x,message:O,stack:T,noTelemetry:d.isErrorNoTelemetry(C)}}return C}var ne="Canceled";function V(C){return C instanceof B?!0:C instanceof Error&&C.name===ne&&C.message===ne}var B=function(C){Object(we.a)(O,C);var x=Object(w.a)(O);function O(){var T;return Object(se.a)(this,O),T=x.call(this,ne),T.name=T.message,T}return Object(te.a)(O)}(Object(ve.a)(Error));function F(){var C=new Error(ne);return C.name=C.message,C}function W(C){return C?new Error("Illegal argument: ".concat(C)):new Error("Illegal argument")}function N(C){return C?new Error("Illegal state: ".concat(C)):new Error("Illegal state")}var H=function(C){Object(we.a)(O,C);var x=Object(w.a)(O);function O(T){var z;return Object(se.a)(this,O),z=x.call(this,"NotSupported"),T&&(z.message=T),z}return Object(te.a)(O)}(Object(ve.a)(Error)),d=function(C){Object(we.a)(O,C);var x=Object(w.a)(O);function O(T){var z;return Object(se.a)(this,O),z=x.call(this,T),z.name="CodeExpectedError",z}return Object(te.a)(O,null,[{key:"fromError",value:function(z){if(z instanceof O)return z;var I=new O;return I.message=z.message,I.stack=z.stack,I}},{key:"isErrorNoTelemetry",value:function(z){return z.name==="CodeExpectedError"}}]),O}(Object(ve.a)(Error)),D=function(C){Object(we.a)(O,C);var x=Object(w.a)(O);function O(T){var z;return Object(se.a)(this,O),z=x.call(this,T||"An unexpected bug occurred."),Object.setPrototypeOf(Object(ce.a)(z),O.prototype),z}return Object(te.a)(O)}(Object(ve.a)(Error))},"/kV6":function(mn,U,a){"use strict";a.d(U,"a",function(){return _}),a.d(U,"b",function(){return V}),a.d(U,"d",function(){return N}),a.d(U,"c",function(){return H});for(var ce=a("tJVT"),we=a("fWQN"),w=a("mtLc"),ve=function(){function d(){Object(we.a)(this,d),this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return Object(w.a)(d,[{key:"define",value:function(C,x){this._keyCodeToStr[C]=x,this._strToKeyCode[x.toLowerCase()]=C}},{key:"keyCodeToStr",value:function(C){return this._keyCodeToStr[C]}},{key:"strToKeyCode",value:function(C){return this._strToKeyCode[C.toLowerCase()]||0}}]),d}(),se=new ve,te=new ve,$=new ve,_=new Array(230),Y={},E=[],Z=Object.create(null),ne=Object.create(null),V=[],B=[],F=0;F<=193;F++)V[F]=-1;for(var W=0;W<=132;W++)B[W]=-1;(function(){for(var d="",D=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",d,d],[1,1,"Hyper",0,d,0,d,d,d],[1,2,"Super",0,d,0,d,d,d],[1,3,"Fn",0,d,0,d,d,d],[1,4,"FnLock",0,d,0,d,d,d],[1,5,"Suspend",0,d,0,d,d,d],[1,6,"Resume",0,d,0,d,d,d],[1,7,"Turbo",0,d,0,d,d,d],[1,8,"Sleep",0,d,0,"VK_SLEEP",d,d],[1,9,"WakeUp",0,d,0,d,d,d],[0,10,"KeyA",31,"A",65,"VK_A",d,d],[0,11,"KeyB",32,"B",66,"VK_B",d,d],[0,12,"KeyC",33,"C",67,"VK_C",d,d],[0,13,"KeyD",34,"D",68,"VK_D",d,d],[0,14,"KeyE",35,"E",69,"VK_E",d,d],[0,15,"KeyF",36,"F",70,"VK_F",d,d],[0,16,"KeyG",37,"G",71,"VK_G",d,d],[0,17,"KeyH",38,"H",72,"VK_H",d,d],[0,18,"KeyI",39,"I",73,"VK_I",d,d],[0,19,"KeyJ",40,"J",74,"VK_J",d,d],[0,20,"KeyK",41,"K",75,"VK_K",d,d],[0,21,"KeyL",42,"L",76,"VK_L",d,d],[0,22,"KeyM",43,"M",77,"VK_M",d,d],[0,23,"KeyN",44,"N",78,"VK_N",d,d],[0,24,"KeyO",45,"O",79,"VK_O",d,d],[0,25,"KeyP",46,"P",80,"VK_P",d,d],[0,26,"KeyQ",47,"Q",81,"VK_Q",d,d],[0,27,"KeyR",48,"R",82,"VK_R",d,d],[0,28,"KeyS",49,"S",83,"VK_S",d,d],[0,29,"KeyT",50,"T",84,"VK_T",d,d],[0,30,"KeyU",51,"U",85,"VK_U",d,d],[0,31,"KeyV",52,"V",86,"VK_V",d,d],[0,32,"KeyW",53,"W",87,"VK_W",d,d],[0,33,"KeyX",54,"X",88,"VK_X",d,d],[0,34,"KeyY",55,"Y",89,"VK_Y",d,d],[0,35,"KeyZ",56,"Z",90,"VK_Z",d,d],[0,36,"Digit1",22,"1",49,"VK_1",d,d],[0,37,"Digit2",23,"2",50,"VK_2",d,d],[0,38,"Digit3",24,"3",51,"VK_3",d,d],[0,39,"Digit4",25,"4",52,"VK_4",d,d],[0,40,"Digit5",26,"5",53,"VK_5",d,d],[0,41,"Digit6",27,"6",54,"VK_6",d,d],[0,42,"Digit7",28,"7",55,"VK_7",d,d],[0,43,"Digit8",29,"8",56,"VK_8",d,d],[0,44,"Digit9",30,"9",57,"VK_9",d,d],[0,45,"Digit0",21,"0",48,"VK_0",d,d],[1,46,"Enter",3,"Enter",13,"VK_RETURN",d,d],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",d,d],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",d,d],[1,49,"Tab",2,"Tab",9,"VK_TAB",d,d],[1,50,"Space",10,"Space",32,"VK_SPACE",d,d],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,d,0,d,d,d],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",d,d],[1,64,"F1",59,"F1",112,"VK_F1",d,d],[1,65,"F2",60,"F2",113,"VK_F2",d,d],[1,66,"F3",61,"F3",114,"VK_F3",d,d],[1,67,"F4",62,"F4",115,"VK_F4",d,d],[1,68,"F5",63,"F5",116,"VK_F5",d,d],[1,69,"F6",64,"F6",117,"VK_F6",d,d],[1,70,"F7",65,"F7",118,"VK_F7",d,d],[1,71,"F8",66,"F8",119,"VK_F8",d,d],[1,72,"F9",67,"F9",120,"VK_F9",d,d],[1,73,"F10",68,"F10",121,"VK_F10",d,d],[1,74,"F11",69,"F11",122,"VK_F11",d,d],[1,75,"F12",70,"F12",123,"VK_F12",d,d],[1,76,"PrintScreen",0,d,0,d,d,d],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",d,d],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",d,d],[1,79,"Insert",19,"Insert",45,"VK_INSERT",d,d],[1,80,"Home",14,"Home",36,"VK_HOME",d,d],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",d,d],[1,82,"Delete",20,"Delete",46,"VK_DELETE",d,d],[1,83,"End",13,"End",35,"VK_END",d,d],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",d,d],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",d],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",d],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",d],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",d],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",d,d],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",d,d],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",d,d],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",d,d],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",d,d],[1,94,"NumpadEnter",3,d,0,d,d,d],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",d,d],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",d,d],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",d,d],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",d,d],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",d,d],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",d,d],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",d,d],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",d,d],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",d,d],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",d,d],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",d,d],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",d,d],[1,107,"ContextMenu",58,"ContextMenu",93,d,d,d],[1,108,"Power",0,d,0,d,d,d],[1,109,"NumpadEqual",0,d,0,d,d,d],[1,110,"F13",71,"F13",124,"VK_F13",d,d],[1,111,"F14",72,"F14",125,"VK_F14",d,d],[1,112,"F15",73,"F15",126,"VK_F15",d,d],[1,113,"F16",74,"F16",127,"VK_F16",d,d],[1,114,"F17",75,"F17",128,"VK_F17",d,d],[1,115,"F18",76,"F18",129,"VK_F18",d,d],[1,116,"F19",77,"F19",130,"VK_F19",d,d],[1,117,"F20",78,"F20",131,"VK_F20",d,d],[1,118,"F21",79,"F21",132,"VK_F21",d,d],[1,119,"F22",80,"F22",133,"VK_F22",d,d],[1,120,"F23",81,"F23",134,"VK_F23",d,d],[1,121,"F24",82,"F24",135,"VK_F24",d,d],[1,122,"Open",0,d,0,d,d,d],[1,123,"Help",0,d,0,d,d,d],[1,124,"Select",0,d,0,d,d,d],[1,125,"Again",0,d,0,d,d,d],[1,126,"Undo",0,d,0,d,d,d],[1,127,"Cut",0,d,0,d,d,d],[1,128,"Copy",0,d,0,d,d,d],[1,129,"Paste",0,d,0,d,d,d],[1,130,"Find",0,d,0,d,d,d],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",d,d],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",d,d],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",d,d],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",d,d],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",d,d],[1,136,"KanaMode",0,d,0,d,d,d],[0,137,"IntlYen",0,d,0,d,d,d],[1,138,"Convert",0,d,0,d,d,d],[1,139,"NonConvert",0,d,0,d,d,d],[1,140,"Lang1",0,d,0,d,d,d],[1,141,"Lang2",0,d,0,d,d,d],[1,142,"Lang3",0,d,0,d,d,d],[1,143,"Lang4",0,d,0,d,d,d],[1,144,"Lang5",0,d,0,d,d,d],[1,145,"Abort",0,d,0,d,d,d],[1,146,"Props",0,d,0,d,d,d],[1,147,"NumpadParenLeft",0,d,0,d,d,d],[1,148,"NumpadParenRight",0,d,0,d,d,d],[1,149,"NumpadBackspace",0,d,0,d,d,d],[1,150,"NumpadMemoryStore",0,d,0,d,d,d],[1,151,"NumpadMemoryRecall",0,d,0,d,d,d],[1,152,"NumpadMemoryClear",0,d,0,d,d,d],[1,153,"NumpadMemoryAdd",0,d,0,d,d,d],[1,154,"NumpadMemorySubtract",0,d,0,d,d,d],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",d,d],[1,156,"NumpadClearEntry",0,d,0,d,d,d],[1,0,d,5,"Ctrl",17,"VK_CONTROL",d,d],[1,0,d,4,"Shift",16,"VK_SHIFT",d,d],[1,0,d,6,"Alt",18,"VK_MENU",d,d],[1,0,d,57,"Meta",91,"VK_COMMAND",d,d],[1,157,"ControlLeft",5,d,0,"VK_LCONTROL",d,d],[1,158,"ShiftLeft",4,d,0,"VK_LSHIFT",d,d],[1,159,"AltLeft",6,d,0,"VK_LMENU",d,d],[1,160,"MetaLeft",57,d,0,"VK_LWIN",d,d],[1,161,"ControlRight",5,d,0,"VK_RCONTROL",d,d],[1,162,"ShiftRight",4,d,0,"VK_RSHIFT",d,d],[1,163,"AltRight",6,d,0,"VK_RMENU",d,d],[1,164,"MetaRight",57,d,0,"VK_RWIN",d,d],[1,165,"BrightnessUp",0,d,0,d,d,d],[1,166,"BrightnessDown",0,d,0,d,d,d],[1,167,"MediaPlay",0,d,0,d,d,d],[1,168,"MediaRecord",0,d,0,d,d,d],[1,169,"MediaFastForward",0,d,0,d,d,d],[1,170,"MediaRewind",0,d,0,d,d,d],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",d,d],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",d,d],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",d,d],[1,174,"Eject",0,d,0,d,d,d],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",d,d],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",d,d],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",d,d],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",d,d],[1,179,"LaunchApp1",0,d,0,"VK_MEDIA_LAUNCH_APP1",d,d],[1,180,"SelectTask",0,d,0,d,d,d],[1,181,"LaunchScreenSaver",0,d,0,d,d,d],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",d,d],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",d,d],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",d,d],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",d,d],[1,186,"BrowserStop",0,d,0,"VK_BROWSER_STOP",d,d],[1,187,"BrowserRefresh",0,d,0,"VK_BROWSER_REFRESH",d,d],[1,188,"BrowserFavorites",0,d,0,"VK_BROWSER_FAVORITES",d,d],[1,189,"ZoomToggle",0,d,0,d,d,d],[1,190,"MailReply",0,d,0,d,d,d],[1,191,"MailForward",0,d,0,d,d,d],[1,192,"MailSend",0,d,0,d,d,d],[1,0,d,114,"KeyInComposition",229,d,d,d],[1,0,d,116,"ABNT_C2",194,"VK_ABNT_C2",d,d],[1,0,d,96,"OEM_8",223,"VK_OEM_8",d,d],[1,0,d,0,d,0,"VK_KANA",d,d],[1,0,d,0,d,0,"VK_HANGUL",d,d],[1,0,d,0,d,0,"VK_JUNJA",d,d],[1,0,d,0,d,0,"VK_FINAL",d,d],[1,0,d,0,d,0,"VK_HANJA",d,d],[1,0,d,0,d,0,"VK_KANJI",d,d],[1,0,d,0,d,0,"VK_CONVERT",d,d],[1,0,d,0,d,0,"VK_NONCONVERT",d,d],[1,0,d,0,d,0,"VK_ACCEPT",d,d],[1,0,d,0,d,0,"VK_MODECHANGE",d,d],[1,0,d,0,d,0,"VK_SELECT",d,d],[1,0,d,0,d,0,"VK_PRINT",d,d],[1,0,d,0,d,0,"VK_EXECUTE",d,d],[1,0,d,0,d,0,"VK_SNAPSHOT",d,d],[1,0,d,0,d,0,"VK_HELP",d,d],[1,0,d,0,d,0,"VK_APPS",d,d],[1,0,d,0,d,0,"VK_PROCESSKEY",d,d],[1,0,d,0,d,0,"VK_PACKET",d,d],[1,0,d,0,d,0,"VK_DBE_SBCSCHAR",d,d],[1,0,d,0,d,0,"VK_DBE_DBCSCHAR",d,d],[1,0,d,0,d,0,"VK_ATTN",d,d],[1,0,d,0,d,0,"VK_CRSEL",d,d],[1,0,d,0,d,0,"VK_EXSEL",d,d],[1,0,d,0,d,0,"VK_EREOF",d,d],[1,0,d,0,d,0,"VK_PLAY",d,d],[1,0,d,0,d,0,"VK_ZOOM",d,d],[1,0,d,0,d,0,"VK_NONAME",d,d],[1,0,d,0,d,0,"VK_PA1",d,d],[1,0,d,0,d,0,"VK_OEM_CLEAR",d,d]],C=[],x=[],O=0,T=D;O<T.length;O++){var z=T[O],I=Object(ce.a)(z,9),de=I[0],pe=I[1],fe=I[2],ke=I[3],A=I[4],P=I[5],G=I[6],re=I[7],ae=I[8];if(x[pe]||(x[pe]=!0,E[pe]=fe,Z[fe]=pe,ne[fe.toLowerCase()]=pe,de&&(V[pe]=ke,ke!==0&&ke!==3&&ke!==5&&ke!==4&&ke!==6&&ke!==57&&(B[ke]=pe))),!C[ke]){if(C[ke]=!0,!A)throw new Error("String representation missing for key code ".concat(ke," around scan code ").concat(fe));se.define(ke,A),te.define(ke,re||A),$.define(ke,ae||re||A)}P&&(_[P]=ke),G&&(Y[G]=ke)}B[3]=46})();var N;(function(d){function D(I){return se.keyCodeToStr(I)}d.toString=D;function C(I){return se.strToKeyCode(I)}d.fromString=C;function x(I){return te.keyCodeToStr(I)}d.toUserSettingsUS=x;function O(I){return $.keyCodeToStr(I)}d.toUserSettingsGeneral=O;function T(I){return te.strToKeyCode(I)||$.strToKeyCode(I)}d.fromUserSettings=T;function z(I){if(I>=98&&I<=113)return null;switch(I){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return se.keyCodeToStr(I)}d.toElectronAccelerator=z})(N||(N={}));function H(d,D){var C=(D&65535)<<16>>>0;return(d|C)>>>0}},"/qDX":function(mn,U,a){},"/wGt":function(mn,U,a){"use strict";var ce=a("wx14"),we=a("rePB"),w=a("ODXe"),ve=a("4i/N"),se=a("TSYQ"),te=a.n(se),$=a("VTBJ"),_=a("q1tI"),Y=a("bTyn"),E=a("TNol"),Z=a("8XRh"),ne=function(ge){var L=ge.prefixCls,De=ge.className,Ae=ge.style,Oe=ge.children,Pe=ge.containerRef;return _.createElement(_.Fragment,null,_.createElement("div",{className:te()("".concat(L,"-content"),De),style:Object($.a)({},Ae),"aria-modal":"true",role:"dialog",ref:Pe},Oe))},V=ne,B=_.createContext(null),F=B,W=a("4IlW"),N=a("Kwbf"),H=a("MNnm");function d(me){return typeof me=="string"&&String(Number(me))===me?(Object(N.a)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(me)):me}function D(me){Object(N.a)(!("wrapperClassName"in me),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),Object(N.a)(Object(H.a)()||!me.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var C={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function x(me,ge){var L,De,Ae,Oe,Pe=me.prefixCls,Ne=me.open,Fe=me.placement,Xe=me.inline,Et=me.push,Ft=me.forceRender,Ot=me.autoFocus,pt=me.keyboard,Lt=me.rootClassName,et=me.rootStyle,Vt=me.zIndex,Re=me.className,Ce=me.style,ye=me.motion,Te=me.width,Qe=me.height,$e=me.children,ze=me.contentWrapperStyle,ot=me.mask,He=me.maskClosable,Ge=me.maskMotion,Je=me.maskClassName,ft=me.maskStyle,qt=me.afterOpenChange,bt=me.onClose,Bt=_.useRef(),rn=_.useRef(),an=_.useRef();_.useImperativeHandle(ge,function(){return Bt.current});var In=function(Ki){var Bn=Ki.keyCode,ai=Ki.shiftKey;switch(Bn){case W.a.TAB:{if(Bn===W.a.TAB){if(!ai&&document.activeElement===an.current){var dn;(dn=rn.current)===null||dn===void 0||dn.focus({preventScroll:!0})}else if(ai&&document.activeElement===rn.current){var Jn;(Jn=an.current)===null||Jn===void 0||Jn.focus({preventScroll:!0})}}break}case W.a.ESC:{bt&&pt&&(Ki.stopPropagation(),bt(Ki));break}}};_.useEffect(function(){if(Ne&&Ot){var zn;(zn=Bt.current)===null||zn===void 0||zn.focus({preventScroll:!0})}},[Ne]);var Dt=_.useState(!1),jn=Object(w.a)(Dt,2),_n=jn[0],Nn=jn[1],ei=_.useContext(F),kn;Et===!1?kn={distance:0}:Et===!0?kn={}:kn=Et||{};var Pn=(L=(De=(Ae=kn)===null||Ae===void 0?void 0:Ae.distance)!==null&&De!==void 0?De:ei==null?void 0:ei.pushDistance)!==null&&L!==void 0?L:180,qi=_.useMemo(function(){return{pushDistance:Pn,push:function(){Nn(!0)},pull:function(){Nn(!1)}}},[Pn]);_.useEffect(function(){if(Ne){var zn;ei==null||(zn=ei.push)===null||zn===void 0||zn.call(ei)}else{var Ki;ei==null||(Ki=ei.pull)===null||Ki===void 0||Ki.call(ei)}},[Ne]),_.useEffect(function(){return function(){var zn;ei==null||(zn=ei.pull)===null||zn===void 0||zn.call(ei)}},[]);var gi=ot&&_.createElement(Z.b,Object(ce.a)({key:"mask"},Ge,{visible:Ne}),function(zn,Ki){var Bn=zn.className,ai=zn.style;return _.createElement("div",{className:te()("".concat(Pe,"-mask"),Bn,Je),style:Object($.a)(Object($.a)({},ai),ft),onClick:He&&Ne?bt:void 0,ref:Ki})}),ir=typeof ye=="function"?ye(Fe):ye,yi={};if(_n&&Pn)switch(Fe){case"top":yi.transform="translateY(".concat(Pn,"px)");break;case"bottom":yi.transform="translateY(".concat(-Pn,"px)");break;case"left":yi.transform="translateX(".concat(Pn,"px)");break;default:yi.transform="translateX(".concat(-Pn,"px)");break}Fe==="left"||Fe==="right"?yi.width=d(Te):yi.height=d(Qe);var mi=_.createElement(Z.b,Object(ce.a)({key:"panel"},ir,{visible:Ne,forceRender:Ft,onVisibleChanged:function(Ki){qt==null||qt(Ki)},removeOnLeave:!1,leavedClassName:"".concat(Pe,"-content-wrapper-hidden")}),function(zn,Ki){var Bn=zn.className,ai=zn.style;return _.createElement("div",{className:te()("".concat(Pe,"-content-wrapper"),Bn),style:Object($.a)(Object($.a)(Object($.a)({},yi),ai),ze)},_.createElement(V,{containerRef:Ki,prefixCls:Pe,className:Re,style:Ce},$e))}),gr=Object($.a)({},et);return Vt&&(gr.zIndex=Vt),_.createElement(F.Provider,{value:qi},_.createElement("div",{className:te()(Pe,"".concat(Pe,"-").concat(Fe),Lt,(Oe={},Object(we.a)(Oe,"".concat(Pe,"-open"),Ne),Object(we.a)(Oe,"".concat(Pe,"-inline"),Xe),Oe)),style:gr,tabIndex:-1,ref:Bt,onKeyDown:In},gi,_.createElement("div",{tabIndex:0,ref:rn,style:C,"aria-hidden":"true","data-sentinel":"start"}),mi,_.createElement("div",{tabIndex:0,ref:an,style:C,"aria-hidden":"true","data-sentinel":"end"})))}var O=_.forwardRef(x),T=O,z=function(ge){var L=ge.open,De=L===void 0?!1:L,Ae=ge.prefixCls,Oe=Ae===void 0?"rc-drawer":Ae,Pe=ge.placement,Ne=Pe===void 0?"right":Pe,Fe=ge.autoFocus,Xe=Fe===void 0?!0:Fe,Et=ge.keyboard,Ft=Et===void 0?!0:Et,Ot=ge.width,pt=Ot===void 0?378:Ot,Lt=ge.mask,et=Lt===void 0?!0:Lt,Vt=ge.maskClosable,Re=Vt===void 0?!0:Vt,Ce=ge.getContainer,ye=ge.forceRender,Te=ge.afterOpenChange,Qe=ge.destroyOnClose,$e=_.useState(!1),ze=Object(w.a)($e,2),ot=ze[0],He=ze[1],Ge=_.useState(!1),Je=Object(w.a)(Ge,2),ft=Je[0],qt=Je[1];Object(E.a)(function(){qt(!0)},[]);var bt=ft?De:!1,Bt=_.useRef(),rn=_.useRef();Object(E.a)(function(){bt&&(rn.current=document.activeElement)},[bt]);var an=function(jn){var _n;if(He(jn),Te==null||Te(jn),!jn&&rn.current&&!((_n=Bt.current)===null||_n===void 0?void 0:_n.contains(rn.current))){var Nn;(Nn=rn.current)===null||Nn===void 0||Nn.focus({preventScroll:!0})}};if(!ye&&!ot&&!bt&&Qe)return null;var In=Object($.a)(Object($.a)({},ge),{},{open:bt,prefixCls:Oe,placement:Ne,autoFocus:Xe,keyboard:Ft,width:pt,mask:et,maskClosable:Re,inline:Ce===!1,afterOpenChange:an,ref:Bt});return _.createElement(Y.a,{open:bt||ye||ot,autoDestroy:!1,getContainer:Ce,autoLock:et&&(bt||ot)},_.createElement(T,In))},I=z,de=I,pe=a("H84U"),fe=a("ihLV"),ke=a("EXcs"),A=a("CWQg"),P=a("+f9I"),G=function(me,ge){var L={};for(var De in me)Object.prototype.hasOwnProperty.call(me,De)&&ge.indexOf(De)<0&&(L[De]=me[De]);if(me!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,De=Object.getOwnPropertySymbols(me);Ae<De.length;Ae++)ge.indexOf(De[Ae])<0&&Object.prototype.propertyIsEnumerable.call(me,De[Ae])&&(L[De[Ae]]=me[De[Ae]]);return L},re=Object(A.a)("default","large"),ae={distance:180};function Q(me){var ge=me.width,L=me.height,De=me.size,Ae=De===void 0?"default":De,Oe=me.closable,Pe=Oe===void 0?!0:Oe,Ne=me.mask,Fe=Ne===void 0?!0:Ne,Xe=me.push,Et=Xe===void 0?ae:Xe,Ft=me.closeIcon,Ot=Ft===void 0?_.createElement(ve.a,null):Ft,pt=me.bodyStyle,Lt=me.drawerStyle,et=me.className,Vt=me.visible,Re=me.open,Ce=me.children,ye=me.style,Te=me.title,Qe=me.headerStyle,$e=me.onClose,ze=me.footer,ot=me.footerStyle,He=me.prefixCls,Ge=me.getContainer,Je=me.extra,ft=me.afterVisibleChange,qt=me.afterOpenChange,bt=G(me,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),Bt=_.useContext(pe.b),rn=Bt.getPopupContainer,an=Bt.getPrefixCls,In=Bt.direction,Dt=an("drawer",He),jn=Ge===void 0&&rn?function(){return rn(document.body)}:Ge,_n=Pe&&_.createElement("button",{type:"button",onClick:$e,"aria-label":"Close",className:"".concat(Dt,"-close")},Ot);[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach(function(yi){var mi=Object(w.a)(yi,2),gr=mi[0],zn=mi[1]});function Nn(){return!Te&&!Pe?null:_.createElement("div",{className:te()("".concat(Dt,"-header"),Object(we.a)({},"".concat(Dt,"-header-close-only"),Pe&&!Te&&!Je)),style:Qe},_.createElement("div",{className:"".concat(Dt,"-header-title")},_n,Te&&_.createElement("div",{className:"".concat(Dt,"-title")},Te)),Je&&_.createElement("div",{className:"".concat(Dt,"-extra")},Je))}function ei(){if(!ze)return null;var yi="".concat(Dt,"-footer");return _.createElement("div",{className:yi,style:ot},ze)}var kn=te()(Object(we.a)({"no-mask":!Fe},"".concat(Dt,"-rtl"),In==="rtl"),et),Pn=_.useMemo(function(){return ge!=null?ge:Ae==="large"?736:378},[ge,Ae]),qi=_.useMemo(function(){return L!=null?L:Ae==="large"?736:378},[L,Ae]),gi={motionName:Object(ke.c)(Dt,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},ir=function(mi){return{motionName:Object(ke.c)(Dt,"panel-motion-".concat(mi)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}};return _.createElement(P.a,null,_.createElement(fe.e,{status:!0,override:!0},_.createElement(de,Object(ce.a)({prefixCls:Dt,onClose:$e},bt,{open:Re!=null?Re:Vt,mask:Fe,push:Et,width:Pn,height:qi,rootClassName:kn,getContainer:jn,afterOpenChange:function(mi){qt==null||qt(mi),ft==null||ft(mi)},maskMotion:gi,motion:ir,rootStyle:ye}),_.createElement("div",{className:"".concat(Dt,"-wrapper-body"),style:Object(ce.a)({},Lt)},Nn(),_.createElement("div",{className:"".concat(Dt,"-body"),style:pt},Ce),ei()))))}var J=U.a=Q},"/zsF":function(mn,U,a){"use strict";var ce=a("EFp3"),we=a.n(ce),w=a("bE4E"),ve=a.n(w)},"0+8E":function(mn,U,a){"use strict";a.d(U,"b",function(){return O}),a.d(U,"a",function(){return z});var ce=a("fWQN"),we=a("mtLc"),w=a("tS8v"),ve=a("w4Tj"),se=a("oZsa"),te=a("yKVA"),$=a("879j"),_=a("EffR"),Y=a("4y0V"),E=a("Md8J"),Z=a("WqXY"),ne=a("OBOq"),V=a("GJhM"),B=a("G300"),F=a("MI8n"),W=a("rAM+"),N=function(){function I(de){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:de.length,ke=arguments.length>3&&arguments[3]!==void 0?arguments[3]:pe-1;Object(ce.a)(this,I),this.items=de,this.start=pe,this.end=fe,this.index=ke}return Object(we.a)(I,[{key:"current",value:function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}},{key:"next",value:function(){return this.index=Math.min(this.index+1,this.end),this.current()}},{key:"previous",value:function(){return this.index=Math.max(this.index-1,this.start-1),this.current()}},{key:"first",value:function(){return this.index=this.start,this.current()}},{key:"last",value:function(){return this.index=this.end-1,this.current()}}]),I}(),H=function(){function I(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;Object(ce.a)(this,I),this._initialize(de),this._limit=pe,this._onChange()}return Object(we.a)(I,[{key:"getHistory",value:function(){return this._elements}},{key:"add",value:function(pe){this._history.delete(pe),this._history.add(pe),this._onChange()}},{key:"next",value:function(){return this._navigator.next()}},{key:"previous",value:function(){return this._currentPosition()!==0?this._navigator.previous():null}},{key:"current",value:function(){return this._navigator.current()}},{key:"first",value:function(){return this._navigator.first()}},{key:"last",value:function(){return this._navigator.last()}},{key:"isLast",value:function(){return this._currentPosition()>=this._elements.length-1}},{key:"isNowhere",value:function(){return this._navigator.current()===null}},{key:"has",value:function(pe){return this._history.has(pe)}},{key:"_onChange",value:function(){this._reduceToLimit();var pe=this._elements;this._navigator=new N(pe,0,pe.length,pe.length)}},{key:"_reduceToLimit",value:function(){var pe=this._elements;pe.length>this._limit&&this._initialize(pe.slice(pe.length-this._limit))}},{key:"_currentPosition",value:function(){var pe=this._navigator.current();return pe?this._elements.indexOf(pe):-1}},{key:"_initialize",value:function(pe){this._history=new Set;var fe=Object(W.a)(pe),ke;try{for(fe.s();!(ke=fe.n()).done;){var A=ke.value;this._history.add(A)}}catch(P){fe.e(P)}finally{fe.f()}}},{key:"_elements",get:function(){var pe=[];return this._history.forEach(function(fe){return pe.push(fe)}),pe}}]),I}(),d=a("qj0h"),D=a("i/Rh"),C=a("3/fG"),x=_.$,O={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0},T=function(I){Object(te.a)(pe,I);var de=Object($.a)(pe);function pe(fe,ke,A){var P;Object(ce.a)(this,pe);var G;P=de.call(this),P.state="idle",P.maxHeight=Number.POSITIVE_INFINITY,P._onDidChange=P._register(new F.b),P.onDidChange=P._onDidChange.event,P._onDidHeightChange=P._register(new F.b),P.onDidHeightChange=P._onDidHeightChange.event,P.contextViewProvider=ke,P.options=A,P.message=null,P.placeholder=P.options.placeholder||"",P.tooltip=(G=P.options.tooltip)!==null&&G!==void 0?G:P.placeholder||"",P.ariaLabel=P.options.ariaLabel||"",P.options.validationOptions&&(P.validation=P.options.validationOptions.validation),P.element=_.append(fe,x(".monaco-inputbox.idle"));var re=P.options.flexibleHeight?"textarea":"input",ae=_.append(P.element,x(".ibwrapper"));if(P.input=_.append(ae,x(re+".input.empty")),P.input.setAttribute("autocorrect","off"),P.input.setAttribute("autocapitalize","off"),P.input.setAttribute("spellcheck","false"),P.onfocus(P.input,function(){return P.element.classList.add("synthetic-focus")}),P.onblur(P.input,function(){return P.element.classList.remove("synthetic-focus")}),P.options.flexibleHeight){P.maxHeight=typeof P.options.flexibleMaxHeight=="number"?P.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,P.mirror=_.append(ae,x("div.mirror")),P.mirror.innerText="\xA0",P.scrollableElement=new V.c(P.element,{vertical:1}),P.options.flexibleWidth&&(P.input.setAttribute("wrap","off"),P.mirror.style.whiteSpace="pre",P.mirror.style.wordWrap="initial"),_.append(fe,P.scrollableElement.getDomNode()),P._register(P.scrollableElement),P._register(P.scrollableElement.onScroll(function(me){return P.input.scrollTop=me.scrollTop}));var Q=P._register(new Y.a(document,"selectionchange")),J=F.c.filter(Q.event,function(){var me=document.getSelection();return(me==null?void 0:me.anchorNode)===ae});P._register(J(P.updateScrollDimensions,Object(w.a)(P))),P._register(P.onDidHeightChange(P.updateScrollDimensions,Object(w.a)(P)))}else P.input.type=P.options.type||"text",P.input.setAttribute("wrap","off");return P.ariaLabel&&P.input.setAttribute("aria-label",P.ariaLabel),P.placeholder&&!P.options.showPlaceholderOnFocus&&P.setPlaceHolder(P.placeholder),P.tooltip&&P.setTooltip(P.tooltip),P.oninput(P.input,function(){return P.onValueChange()}),P.onblur(P.input,function(){return P.onBlur()}),P.onfocus(P.input,function(){return P.onFocus()}),P._register(P.ignoreGesture(P.input)),setTimeout(function(){return P.updateMirror()},0),P.options.actions&&(P.actionbar=P._register(new Z.a(P.element)),P.actionbar.push(P.options.actions,{icon:!0,label:!1})),P.applyStyles(),P}return Object(we.a)(pe,[{key:"onBlur",value:function(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}},{key:"onFocus",value:function(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}},{key:"setPlaceHolder",value:function(ke){this.placeholder=ke,this.input.setAttribute("placeholder",ke)}},{key:"setTooltip",value:function(ke){this.tooltip=ke,this.input.title=ke}},{key:"inputElement",get:function(){return this.input}},{key:"value",get:function(){return this.input.value},set:function(ke){this.input.value!==ke&&(this.input.value=ke,this.onValueChange())}},{key:"height",get:function(){return typeof this.cachedHeight=="number"?this.cachedHeight:_.getTotalHeight(this.element)}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"hasFocus",value:function(){return document.activeElement===this.input}},{key:"select",value:function(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.input.select(),ke&&(this.input.setSelectionRange(ke.start,ke.end),ke.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}},{key:"isSelectionAtEnd",value:function(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}},{key:"enable",value:function(){this.input.removeAttribute("disabled")}},{key:"disable",value:function(){this.blur(),this.input.disabled=!0,this._hideMessage()}},{key:"paddingRight",set:function(ke){this.input.style.width="calc(100% - ".concat(ke,"px)"),this.mirror&&(this.mirror.style.paddingRight=ke+"px")}},{key:"updateScrollDimensions",value:function(){if(!(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)){var ke=this.cachedContentHeight,A=this.cachedHeight,P=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:ke,height:A}),this.scrollableElement.setScrollPosition({scrollTop:P})}}},{key:"showMessage",value:function(ke,A){if(!(this.state==="open"&&Object(d.e)(this.message,ke))){this.message=ke,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(ke.type));var P=this.stylesForType(this.message.type);this.element.style.border="1px solid ".concat(_.asCssValueWithDefault(P.border,"transparent")),this.message.content&&(this.hasFocus()||A)&&this._showMessage()}}},{key:"hideMessage",value:function(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}},{key:"validate",value:function(){var ke=null;return this.validation&&(ke=this.validation(this.value),ke?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(ke)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),ke==null?void 0:ke.type}},{key:"stylesForType",value:function(ke){var A=this.options.inputBoxStyles;switch(ke){case 1:return{border:A.inputValidationInfoBorder,background:A.inputValidationInfoBackground,foreground:A.inputValidationInfoForeground};case 2:return{border:A.inputValidationWarningBorder,background:A.inputValidationWarningBackground,foreground:A.inputValidationWarningForeground};default:return{border:A.inputValidationErrorBorder,background:A.inputValidationErrorBackground,foreground:A.inputValidationErrorForeground}}}},{key:"classForType",value:function(ke){switch(ke){case 1:return"info";case 2:return"warning";default:return"error"}}},{key:"_showMessage",value:function(){var ke=this;if(!(!this.contextViewProvider||!this.message)){var A,P=function(){return A.style.width=_.getTotalWidth(ke.element)+"px"};this.contextViewProvider.showContextView({getAnchor:function(){return ke.element},anchorAlignment:1,render:function(ae){var Q,J;if(!ke.message)return null;A=_.append(ae,x(".monaco-inputbox-container")),P();var me={inline:!0,className:"monaco-inputbox-message"},ge=ke.message.formatContent?Object(E.b)(ke.message.content,me):Object(E.c)(ke.message.content,me);ge.classList.add(ke.classForType(ke.message.type));var L=ke.stylesForType(ke.message.type);return ge.style.backgroundColor=(Q=L.background)!==null&&Q!==void 0?Q:"",ge.style.color=(J=L.foreground)!==null&&J!==void 0?J:"",ge.style.border=L.border?"1px solid ".concat(L.border):"",_.append(A,ge),null},onHide:function(){ke.state="closed"},layout:P});var G;this.message.type===3?G=C.b("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?G=C.b("alertWarningMessage","Warning: {0}",this.message.content):G=C.b("alertInfoMessage","Info: {0}",this.message.content),ne.a(G),this.state="open"}}},{key:"_hideMessage",value:function(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}},{key:"onValueChange",value:function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}},{key:"updateMirror",value:function(){if(!!this.mirror){var ke=this.value,A=ke.charCodeAt(ke.length-1),P=A===10?" ":"",G=(ke+P).replace(/\u000c/g,"");G?this.mirror.textContent=ke+P:this.mirror.innerText="\xA0",this.layout()}}},{key:"applyStyles",value:function(){var ke,A,P,G=this.options.inputBoxStyles,re=(ke=G.inputBackground)!==null&&ke!==void 0?ke:"",ae=(A=G.inputForeground)!==null&&A!==void 0?A:"",Q=(P=G.inputBorder)!==null&&P!==void 0?P:"";this.element.style.backgroundColor=re,this.element.style.color=ae,this.input.style.backgroundColor="inherit",this.input.style.color=ae,this.element.style.border="1px solid ".concat(_.asCssValueWithDefault(Q,"transparent"))}},{key:"layout",value:function(){if(!!this.mirror){var ke=this.cachedContentHeight;this.cachedContentHeight=_.getTotalHeight(this.mirror),ke!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}}},{key:"insertAtCursor",value:function(ke){var A=this.inputElement,P=A.selectionStart,G=A.selectionEnd,re=A.value;P!==null&&G!==null&&(this.value=re.substr(0,P)+ke+re.substr(G),A.setSelectionRange(P+1,P+1),this.layout())}},{key:"dispose",value:function(){var ke;this._hideMessage(),this.message=null,(ke=this.actionbar)===null||ke===void 0||ke.dispose(),Object(ve.a)(Object(se.a)(pe.prototype),"dispose",this).call(this)}}]),pe}(B.a),z=function(I){Object(te.a)(pe,I);var de=Object($.a)(pe);function pe(fe,ke,A){var P;Object(ce.a)(this,pe);var G=C.b({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),re=" or \u21C5 ".concat(G),ae=" (\u21C5 ".concat(G,")");P=de.call(this,fe,ke,A),P._onDidFocus=P._register(new F.b),P.onDidFocus=P._onDidFocus.event,P._onDidBlur=P._register(new F.b),P.onDidBlur=P._onDidBlur.event,P.history=new H(A.history,100);var Q=function(){if(A.showHistoryHint&&A.showHistoryHint()&&!P.placeholder.endsWith(re)&&!P.placeholder.endsWith(ae)&&P.history.getHistory().length){var me=P.placeholder.endsWith(")")?re:ae,ge=P.placeholder+me;A.showPlaceholderOnFocus&&document.activeElement!==P.input?P.placeholder=ge:P.setPlaceHolder(ge)}};return P.observer=new MutationObserver(function(J,me){J.forEach(function(ge){ge.target.textContent||Q()})}),P.observer.observe(P.input,{attributeFilter:["class"]}),P.onfocus(P.input,function(){return Q()}),P.onblur(P.input,function(){var J=function(ge){if(P.placeholder.endsWith(ge)){var L=P.placeholder.slice(0,P.placeholder.length-ge.length);return A.showPlaceholderOnFocus?P.placeholder=L:P.setPlaceHolder(L),!0}else return!1};J(ae)||J(re)}),P}return Object(we.a)(pe,[{key:"dispose",value:function(){Object(ve.a)(Object(se.a)(pe.prototype),"dispose",this).call(this),this.observer&&(this.observer.disconnect(),this.observer=void 0)}},{key:"addToHistory",value:function(ke){this.value&&(ke||this.value!==this.getCurrentValue())&&this.history.add(this.value)}},{key:"isAtLastInHistory",value:function(){return this.history.isLast()}},{key:"isNowhereInHistory",value:function(){return this.history.isNowhere()}},{key:"showNextValue",value:function(){this.history.has(this.value)||this.addToHistory();var ke=this.getNextValue();ke&&(ke=ke===this.value?this.getNextValue():ke),this.value=ke!=null?ke:"",ne.c(this.value?this.value:C.b("clearedInput","Cleared Input"))}},{key:"showPreviousValue",value:function(){this.history.has(this.value)||this.addToHistory();var ke=this.getPreviousValue();ke&&(ke=ke===this.value?this.getPreviousValue():ke),ke&&(this.value=ke,ne.c(this.value))}},{key:"onBlur",value:function(){Object(ve.a)(Object(se.a)(pe.prototype),"onBlur",this).call(this),this._onDidBlur.fire()}},{key:"onFocus",value:function(){Object(ve.a)(Object(se.a)(pe.prototype),"onFocus",this).call(this),this._onDidFocus.fire()}},{key:"getCurrentValue",value:function(){var ke=this.history.current();return ke||(ke=this.history.last(),this.history.next()),ke}},{key:"getPreviousValue",value:function(){return this.history.previous()||this.history.first()}},{key:"getNextValue",value:function(){return this.history.next()}}]),pe}(T)},"0/Sa":function(mn,U,a){"use strict";a.d(U,"a",function(){return ve});var ce=a("fWQN"),we=a("mtLc"),w=a("aokT"),ve=function(){function se(){Object(ce.a)(this,se)}return Object(we.a)(se,null,[{key:"insert",value:function($,_){return{range:new w.a($.lineNumber,$.column,$.lineNumber,$.column),text:_,forceMoveMarkers:!0}}},{key:"delete",value:function($){return{range:$,text:null}}},{key:"replace",value:function($,_){return{range:$,text:_}}},{key:"replaceMove",value:function($,_){return{range:$,text:_,forceMoveMarkers:!0}}}]),se}()},"09fa":function(mn,U,a){"use strict";a.d(U,"b",function(){return ne}),a.d(U,"c",function(){return V}),a.d(U,"a",function(){return W}),a.d(U,"d",function(){return N});var ce=a("rAM+"),we=a("w4Tj"),w=a("oZsa"),ve=a("fWQN"),se=a("mtLc"),te=a("yKVA"),$=a("879j"),_=a("MI8n"),Y=a("pmY6"),E=a("T8No"),Z=a("Cg/j"),ne=Object(Z.c)("logService"),V;(function(D){D[D.Off=0]="Off",D[D.Trace=1]="Trace",D[D.Debug=2]="Debug",D[D.Info=3]="Info",D[D.Warning=4]="Warning",D[D.Error=5]="Error"})(V||(V={}));var B=V.Info,F=function(D){Object(te.a)(x,D);var C=Object($.a)(x);function x(){var O;return Object(ve.a)(this,x),O=C.apply(this,arguments),O.level=B,O._onDidChangeLogLevel=O._register(new _.b),O.onDidChangeLogLevel=O._onDidChangeLogLevel.event,O}return Object(se.a)(x,[{key:"setLevel",value:function(T){this.level!==T&&(this.level=T,this._onDidChangeLogLevel.fire(this.level))}},{key:"getLevel",value:function(){return this.level}},{key:"checkLogLevel",value:function(T){return this.level!==V.Off&&this.level<=T}}]),x}(Y.a),W=function(D){Object(te.a)(x,D);var C=Object($.a)(x);function x(){var O,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Object(ve.a)(this,x),O=C.call(this),O.useColors=z,O.setLevel(T),O}return Object(se.a)(x,[{key:"trace",value:function(T){if(this.checkLogLevel(V.Trace)){for(var z=arguments.length,I=new Array(z>1?z-1:0),de=1;de<z;de++)I[de-1]=arguments[de];if(this.useColors){var pe;(pe=console).log.apply(pe,["%cTRACE","color: #888",T].concat(I))}else{var fe;(fe=console).log.apply(fe,[T].concat(I))}}}},{key:"debug",value:function(T){if(this.checkLogLevel(V.Debug)){for(var z=arguments.length,I=new Array(z>1?z-1:0),de=1;de<z;de++)I[de-1]=arguments[de];if(this.useColors){var pe;(pe=console).log.apply(pe,["%cDEBUG","background: #eee; color: #888",T].concat(I))}else{var fe;(fe=console).log.apply(fe,[T].concat(I))}}}},{key:"info",value:function(T){if(this.checkLogLevel(V.Info)){for(var z=arguments.length,I=new Array(z>1?z-1:0),de=1;de<z;de++)I[de-1]=arguments[de];if(this.useColors){var pe;(pe=console).log.apply(pe,["%c INFO","color: #33f",T].concat(I))}else{var fe;(fe=console).log.apply(fe,[T].concat(I))}}}},{key:"error",value:function(T){if(this.checkLogLevel(V.Error)){for(var z=arguments.length,I=new Array(z>1?z-1:0),de=1;de<z;de++)I[de-1]=arguments[de];if(this.useColors){var pe;(pe=console).log.apply(pe,["%c  ERR","color: #f33",T].concat(I))}else{var fe;(fe=console).error.apply(fe,[T].concat(I))}}}},{key:"dispose",value:function(){}}]),x}(F),N=function(D){Object(te.a)(x,D);var C=Object($.a)(x);function x(O){var T;return Object(ve.a)(this,x),T=C.call(this),T.loggers=O,O.length&&T.setLevel(O[0].getLevel()),T}return Object(se.a)(x,[{key:"setLevel",value:function(T){var z=Object(ce.a)(this.loggers),I;try{for(z.s();!(I=z.n()).done;){var de=I.value;de.setLevel(T)}}catch(pe){z.e(pe)}finally{z.f()}Object(we.a)(Object(w.a)(x.prototype),"setLevel",this).call(this,T)}},{key:"trace",value:function(T){for(var z=arguments.length,I=new Array(z>1?z-1:0),de=1;de<z;de++)I[de-1]=arguments[de];var pe=Object(ce.a)(this.loggers),fe;try{for(pe.s();!(fe=pe.n()).done;){var ke=fe.value;ke.trace.apply(ke,[T].concat(I))}}catch(A){pe.e(A)}finally{pe.f()}}},{key:"debug",value:function(T){for(var z=arguments.length,I=new Array(z>1?z-1:0),de=1;de<z;de++)I[de-1]=arguments[de];var pe=Object(ce.a)(this.loggers),fe;try{for(pe.s();!(fe=pe.n()).done;){var ke=fe.value;ke.debug.apply(ke,[T].concat(I))}}catch(A){pe.e(A)}finally{pe.f()}}},{key:"info",value:function(T){for(var z=arguments.length,I=new Array(z>1?z-1:0),de=1;de<z;de++)I[de-1]=arguments[de];var pe=Object(ce.a)(this.loggers),fe;try{for(pe.s();!(fe=pe.n()).done;){var ke=fe.value;ke.info.apply(ke,[T].concat(I))}}catch(A){pe.e(A)}finally{pe.f()}}},{key:"error",value:function(T){for(var z=arguments.length,I=new Array(z>1?z-1:0),de=1;de<z;de++)I[de-1]=arguments[de];var pe=Object(ce.a)(this.loggers),fe;try{for(pe.s();!(fe=pe.n()).done;){var ke=fe.value;ke.error.apply(ke,[T].concat(I))}}catch(A){pe.e(A)}finally{pe.f()}}},{key:"dispose",value:function(){var T=Object(ce.a)(this.loggers),z;try{for(T.s();!(z=T.n()).done;){var I=z.value;I.dispose()}}catch(de){T.e(de)}finally{T.f()}}}]),x}(F);function H(D){switch(D){case V.Trace:return"trace";case V.Debug:return"debug";case V.Info:return"info";case V.Warning:return"warn";case V.Error:return"error";case V.Off:return"off"}}var d=new E.c("logLevel",H(V.Info))},"0Lb2":function(mn,U,a){"use strict";a.d(U,"a",function(){return H});var ce=a("fWQN"),we=a("mtLc"),w=a("w4Tj"),ve=a("oZsa"),se=a("yKVA"),te=a("879j"),$=a("FWmy"),_=a("MI8n"),Y=a("pmY6"),E=a("qj0h"),Z=a("aokT"),ne=a("oF4g"),V=a("Vxe3"),B=a("R3nR"),F=function(d,D,C,x){var O=arguments.length,T=O<3?D:x===null?x=Object.getOwnPropertyDescriptor(D,C):x,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(d,D,C,x);else for(var I=d.length-1;I>=0;I--)(z=d[I])&&(T=(O<3?z(T):O>3?z(D,C,T):z(D,C))||T);return O>3&&T&&Object.defineProperty(D,C,T),T},W=function(d,D){return function(C,x){D(C,x,d)}},N={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0,findResultLoop:!0},H=function(d){Object(se.a)(C,d);var D=Object(te.a)(C);function C(x){var O,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=arguments.length>2?arguments[2]:void 0,I=arguments.length>3?arguments[3]:void 0,de=arguments.length>4?arguments[4]:void 0;return Object(ce.a)(this,C),O=D.call(this),O._audioCueService=z,O._codeEditorService=I,O._accessibilityService=de,O._onDidUpdate=O._register(new _.b),O._editor=x,O._options=E.g(T,N,!1),O.disposed=!1,O.nextIdx=-1,O.ranges=[],O.ignoreSelectionChange=!1,O.revealFirst=Boolean(O._options.alwaysRevealFirst),O._register(O._editor.onDidUpdateDiff(function(){return O._onDiffUpdated()})),O._options.followsCaret&&O._register(O._editor.getModifiedEditor().onDidChangeCursorPosition(function(pe){O.ignoreSelectionChange||(O._updateAccessibilityState(pe.position.lineNumber),O.nextIdx=-1)})),O._init(),O}return Object(we.a)(C,[{key:"_init",value:function(){var O=this._editor.getLineChanges()}},{key:"_onDiffUpdated",value:function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}},{key:"_compute",value:function(O){var T=this;this.ranges=[],O&&O.forEach(function(z){!T._options.ignoreCharChanges&&z.charChanges?z.charChanges.forEach(function(I){T.ranges.push({rhs:!0,range:new Z.a(I.modifiedStartLineNumber,I.modifiedStartColumn,I.modifiedEndLineNumber,I.modifiedEndColumn)})}):z.modifiedEndLineNumber===0?T.ranges.push({rhs:!0,range:new Z.a(z.modifiedStartLineNumber,1,z.modifiedStartLineNumber+1,1)}):T.ranges.push({rhs:!0,range:new Z.a(z.modifiedStartLineNumber,1,z.modifiedEndLineNumber+1,1)})}),this.ranges.sort(function(z,I){return Z.a.compareRangesUsingStarts(z.range,I.range)}),this._onDidUpdate.fire(this)}},{key:"_initIdx",value:function(O){var T=!1,z=this._editor.getPosition();if(!z){this.nextIdx=0;return}for(var I=0,de=this.ranges.length;I<de&&!T;I++){var pe=this.ranges[I].range;z.isBeforeOrEqual(pe.getStartPosition())&&(this.nextIdx=I+(O?0:-1),T=!0)}T||(this.nextIdx=O?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}},{key:"_move",value:function(O,T){if($.d(!this.disposed,"Illegal State - diff navigator has been disposed"),!!this.canNavigate()){this.nextIdx===-1?this._initIdx(O):O?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var z=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var I=z.range.getStartPosition();this._editor.setPosition(I),this._editor.revealRangeInCenter(z.range,T),this._updateAccessibilityState(I.lineNumber,!0)}finally{this.ignoreSelectionChange=!1}}}},{key:"_updateAccessibilityState",value:function(O,T){var z,I=(z=this._editor.getModel())===null||z===void 0?void 0:z.modified;if(!!I){var de=I.getLineDecorations(O).find(function(fe){return fe.options.className==="line-insert"});if(de)this._audioCueService.playAudioCue(ne.a.diffLineModified,!0);else if(T)this._audioCueService.playAudioCue(ne.a.diffLineDeleted,!0);else return;var pe=this._codeEditorService.getActiveCodeEditor();T&&pe&&de&&this._accessibilityService.isScreenReaderOptimized()&&(pe.setSelection({startLineNumber:O,startColumn:0,endLineNumber:O,endColumn:Number.MAX_VALUE}),pe.writeScreenReaderContent("diff-navigation"))}}},{key:"canNavigate",value:function(){return this.ranges&&this.ranges.length>0}},{key:"next",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!this.canNavigateNext()||this._move(!0,O)}},{key:"previous",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!this.canNavigatePrevious()||this._move(!1,O)}},{key:"canNavigateNext",value:function(){return this.canNavigateLoop()||this.nextIdx<this.ranges.length-1}},{key:"canNavigatePrevious",value:function(){return this.canNavigateLoop()||this.nextIdx!==0}},{key:"canNavigateLoop",value:function(){return Boolean(this._options.findResultLoop)}},{key:"dispose",value:function(){Object(w.a)(Object(ve.a)(C.prototype),"dispose",this).call(this),this.ranges=[],this.disposed=!0}}]),C}(Y.a);H=F([W(2,ne.b),W(3,V.a),W(4,B.b)],H)},"14gw":function(mn,U,a){},"16Jm":function(mn,U,a){"use strict";a.d(U,"a",function(){return ce});function ce(we,w){for(var ve=0,se=0,te=we.length;se<te;){var $=we.charCodeAt(se);if($===32)ve++;else if($===9)ve=ve-ve%w+w;else break;se++}return se===te?-1:ve}},"1CjY":function(mn,U,a){"use strict";a.d(U,"a",function(){return w}),a.d(U,"b",function(){return ve}),a.d(U,"c",function(){return se});var ce=a("mtLc"),we=a("fWQN"),w;(function(te){te[te.Disabled=0]="Disabled",te[te.EnabledForActive=1]="EnabledForActive",te[te.Enabled=2]="Enabled"})(w||(w={}));var ve=Object(ce.a)(function te($,_,Y,E,Z,ne){if(Object(we.a)(this,te),this.visibleColumn=$,this.column=_,this.className=Y,this.horizontalLine=E,this.forWrappedLinesAfterColumn=Z,this.forWrappedLinesBeforeOrAtColumn=ne,$!==-1==(_!==-1))throw new Error}),se=Object(ce.a)(function te($,_){Object(we.a)(this,te),this.top=$,this.endColumn=_})},"1nB5":function(mn,U,a){},"1rVb":function(mn,U,a){"use strict";a.d(U,"a",function(){return ve}),a.d(U,"b",function(){return se});var ce=a("fWQN"),we=a("mtLc"),w=function(){function te($,_,Y){Object(ce.a)(this,te),this._colorZoneBrand=void 0,this.from=$|0,this.to=_|0,this.colorId=Y|0}return Object(we.a)(te,null,[{key:"compare",value:function(_,Y){return _.colorId===Y.colorId?_.from===Y.from?_.to-Y.to:_.from-Y.from:_.colorId-Y.colorId}}]),te}(),ve=function(){function te($,_,Y,E){Object(ce.a)(this,te),this._overviewRulerZoneBrand=void 0,this.startLineNumber=$,this.endLineNumber=_,this.heightInLines=Y,this.color=E,this._colorZone=null}return Object(we.a)(te,[{key:"setColorZone",value:function(_){this._colorZone=_}},{key:"getColorZones",value:function(){return this._colorZone}}],[{key:"compare",value:function(_,Y){return _.color===Y.color?_.startLineNumber===Y.startLineNumber?_.heightInLines===Y.heightInLines?_.endLineNumber-Y.endLineNumber:_.heightInLines-Y.heightInLines:_.startLineNumber-Y.startLineNumber:_.color<Y.color?-1:1}}]),te}(),se=function(){function te($){Object(ce.a)(this,te),this._getVerticalOffsetForLine=$,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return Object(we.a)(te,[{key:"getId2Color",value:function(){return this._id2Color}},{key:"setZones",value:function(_){this._zones=_,this._zones.sort(ve.compare)}},{key:"setLineHeight",value:function(_){return this._lineHeight===_?!1:(this._lineHeight=_,this._colorZonesInvalid=!0,!0)}},{key:"setPixelRatio",value:function(_){this._pixelRatio=_,this._colorZonesInvalid=!0}},{key:"getDOMWidth",value:function(){return this._domWidth}},{key:"getCanvasWidth",value:function(){return this._domWidth*this._pixelRatio}},{key:"setDOMWidth",value:function(_){return this._domWidth===_?!1:(this._domWidth=_,this._colorZonesInvalid=!0,!0)}},{key:"getDOMHeight",value:function(){return this._domHeight}},{key:"getCanvasHeight",value:function(){return this._domHeight*this._pixelRatio}},{key:"setDOMHeight",value:function(_){return this._domHeight===_?!1:(this._domHeight=_,this._colorZonesInvalid=!0,!0)}},{key:"getOuterHeight",value:function(){return this._outerHeight}},{key:"setOuterHeight",value:function(_){return this._outerHeight===_?!1:(this._outerHeight=_,this._colorZonesInvalid=!0,!0)}},{key:"resolveColorZones",value:function(){for(var _=this._colorZonesInvalid,Y=Math.floor(this._lineHeight),E=Math.floor(this.getCanvasHeight()),Z=Math.floor(this._outerHeight),ne=E/Z,V=Math.floor(4*this._pixelRatio/2),B=[],F=0,W=this._zones.length;F<W;F++){var N=this._zones[F];if(!_){var H=N.getColorZones();if(H){B.push(H);continue}}var d=this._getVerticalOffsetForLine(N.startLineNumber),D=N.heightInLines===0?this._getVerticalOffsetForLine(N.endLineNumber)+Y:d+N.heightInLines*Y,C=Math.floor(ne*d),x=Math.floor(ne*D),O=Math.floor((C+x)/2),T=x-O;T<V&&(T=V),O-T<0&&(O=T),O+T>E&&(O=E-T);var z=N.color,I=this._color2Id[z];I||(I=++this._lastAssignedId,this._color2Id[z]=I,this._id2Color[I]=z);var de=new w(O-T,O+T,I);N.setColorZone(de),B.push(de)}return this._colorZonesInvalid=!1,B.sort(w.compare),B}}]),te}()},"1wcP":function(mn,U,a){},"24hK":function(mn,U,a){"use strict";a.d(U,"a",function(){return se});var ce=a("qLMh"),we=a("mtLc"),w=a("fWQN"),ve=Object(we.a)(function te($){Object(w.a)(this,te),this.element=$,this.next=te.Undefined,this.prev=te.Undefined});ve.Undefined=new ve(void 0);var se=function(te){function $(){Object(w.a)(this,$),this._first=ve.Undefined,this._last=ve.Undefined,this._size=0}return Object(we.a)($,[{key:"size",get:function(){return this._size}},{key:"isEmpty",value:function(){return this._first===ve.Undefined}},{key:"clear",value:function(){for(var Y=this._first;Y!==ve.Undefined;){var E=Y.next;Y.prev=ve.Undefined,Y.next=ve.Undefined,Y=E}this._first=ve.Undefined,this._last=ve.Undefined,this._size=0}},{key:"unshift",value:function(Y){return this._insert(Y,!1)}},{key:"push",value:function(Y){return this._insert(Y,!0)}},{key:"_insert",value:function(Y,E){var Z=this,ne=new ve(Y);if(this._first===ve.Undefined)this._first=ne,this._last=ne;else if(E){var V=this._last;this._last=ne,ne.prev=V,V.next=ne}else{var B=this._first;this._first=ne,ne.next=B,B.prev=ne}this._size+=1;var F=!1;return function(){F||(F=!0,Z._remove(ne))}}},{key:"shift",value:function(){if(this._first!==ve.Undefined){var Y=this._first.element;return this._remove(this._first),Y}}},{key:"pop",value:function(){if(this._last!==ve.Undefined){var Y=this._last.element;return this._remove(this._last),Y}}},{key:"_remove",value:function(Y){if(Y.prev!==ve.Undefined&&Y.next!==ve.Undefined){var E=Y.prev;E.next=Y.next,Y.next.prev=E}else Y.prev===ve.Undefined&&Y.next===ve.Undefined?(this._first=ve.Undefined,this._last=ve.Undefined):Y.next===ve.Undefined?(this._last=this._last.prev,this._last.next=ve.Undefined):Y.prev===ve.Undefined&&(this._first=this._first.next,this._first.prev=ve.Undefined);this._size-=1}},{key:te,value:Object(ce.a)().mark(function _(){var Y;return Object(ce.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:Y=this._first;case 1:if(Y===ve.Undefined){Z.next=7;break}return Z.next=4,Y.element;case 4:Y=Y.next,Z.next=1;break;case 7:case"end":return Z.stop()}},_,this)})}]),$}(Symbol.iterator)},"2CIB":function(mn,U,a){"use strict";a.d(U,"b",function(){return we}),a.d(U,"a",function(){return w});var ce=[];function we(ve){ce.push(ve)}function w(){return ce.slice(0)}},"2MPD":function(mn,U,a){},"2Tsy":function(mn,U,a){},"2V9f":function(mn,U,a){},"2oH+":function(mn,U,a){(function(ce,we){var w=200,ve="__lodash_hash_undefined__",se=800,te=16,$=9007199254740991,_="[object Arguments]",Y="[object Array]",E="[object AsyncFunction]",Z="[object Boolean]",ne="[object Date]",V="[object Error]",B="[object Function]",F="[object GeneratorFunction]",W="[object Map]",N="[object Number]",H="[object Null]",d="[object Object]",D="[object Proxy]",C="[object RegExp]",x="[object Set]",O="[object String]",T="[object Undefined]",z="[object WeakMap]",I="[object ArrayBuffer]",de="[object DataView]",pe="[object Float32Array]",fe="[object Float64Array]",ke="[object Int8Array]",A="[object Int16Array]",P="[object Int32Array]",G="[object Uint8Array]",re="[object Uint8ClampedArray]",ae="[object Uint16Array]",Q="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,me=/^\[object .+?Constructor\]$/,ge=/^(?:0|[1-9]\d*)$/,L={};L[pe]=L[fe]=L[ke]=L[A]=L[P]=L[G]=L[re]=L[ae]=L[Q]=!0,L[_]=L[Y]=L[I]=L[Z]=L[de]=L[ne]=L[V]=L[B]=L[W]=L[N]=L[d]=L[C]=L[x]=L[O]=L[z]=!1;var De=typeof ce=="object"&&ce&&ce.Object===Object&&ce,Ae=typeof self=="object"&&self&&self.Object===Object&&self,Oe=De||Ae||Function("return this")(),Pe=U&&!U.nodeType&&U,Ne=Pe&&typeof we=="object"&&we&&!we.nodeType&&we,Fe=Ne&&Ne.exports===Pe,Xe=Fe&&De.process,Et=function(){try{var on=Ne&&Ne.require&&Ne.require("util").types;return on||Xe&&Xe.binding&&Xe.binding("util")}catch(Wn){}}(),Ft=Et&&Et.isTypedArray;function Ot(on,Wn,Zn){switch(Zn.length){case 0:return on.call(Wn);case 1:return on.call(Wn,Zn[0]);case 2:return on.call(Wn,Zn[0],Zn[1]);case 3:return on.call(Wn,Zn[0],Zn[1],Zn[2])}return on.apply(Wn,Zn)}function pt(on,Wn){for(var Zn=-1,Li=Array(on);++Zn<on;)Li[Zn]=Wn(Zn);return Li}function Lt(on){return function(Wn){return on(Wn)}}function et(on,Wn){return on==null?void 0:on[Wn]}function Vt(on,Wn){return function(Zn){return on(Wn(Zn))}}var Re=Array.prototype,Ce=Function.prototype,ye=Object.prototype,Te=Oe["__core-js_shared__"],Qe=Ce.toString,$e=ye.hasOwnProperty,ze=function(){var on=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||"");return on?"Symbol(src)_1."+on:""}(),ot=ye.toString,He=Qe.call(Object),Ge=RegExp("^"+Qe.call($e).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Je=Fe?Oe.Buffer:void 0,ft=Oe.Symbol,qt=Oe.Uint8Array,bt=Je?Je.allocUnsafe:void 0,Bt=Vt(Object.getPrototypeOf,Object),rn=Object.create,an=ye.propertyIsEnumerable,In=Re.splice,Dt=ft?ft.toStringTag:void 0,jn=function(){try{var on=lt(Object,"defineProperty");return on({},"",{}),on}catch(Wn){}}(),_n=Je?Je.isBuffer:void 0,Nn=Math.max,ei=Date.now,kn=lt(Oe,"Map"),Pn=lt(Object,"create"),qi=function(){function on(){}return function(Wn){if(!oi(Wn))return{};if(rn)return rn(Wn);on.prototype=Wn;var Zn=new on;return on.prototype=void 0,Zn}}();function gi(on){var Wn=-1,Zn=on==null?0:on.length;for(this.clear();++Wn<Zn;){var Li=on[Wn];this.set(Li[0],Li[1])}}function ir(){this.__data__=Pn?Pn(null):{},this.size=0}function yi(on){var Wn=this.has(on)&&delete this.__data__[on];return this.size-=Wn?1:0,Wn}function mi(on){var Wn=this.__data__;if(Pn){var Zn=Wn[on];return Zn===ve?void 0:Zn}return $e.call(Wn,on)?Wn[on]:void 0}function gr(on){var Wn=this.__data__;return Pn?Wn[on]!==void 0:$e.call(Wn,on)}function zn(on,Wn){var Zn=this.__data__;return this.size+=this.has(on)?0:1,Zn[on]=Pn&&Wn===void 0?ve:Wn,this}gi.prototype.clear=ir,gi.prototype.delete=yi,gi.prototype.get=mi,gi.prototype.has=gr,gi.prototype.set=zn;function Ki(on){var Wn=-1,Zn=on==null?0:on.length;for(this.clear();++Wn<Zn;){var Li=on[Wn];this.set(Li[0],Li[1])}}function Bn(){this.__data__=[],this.size=0}function ai(on){var Wn=this.__data__,Zn=Ut(Wn,on);if(Zn<0)return!1;var Li=Wn.length-1;return Zn==Li?Wn.pop():In.call(Wn,Zn,1),--this.size,!0}function dn(on){var Wn=this.__data__,Zn=Ut(Wn,on);return Zn<0?void 0:Wn[Zn][1]}function Jn(on){return Ut(this.__data__,on)>-1}function Yt(on,Wn){var Zn=this.__data__,Li=Ut(Zn,on);return Li<0?(++this.size,Zn.push([on,Wn])):Zn[Li][1]=Wn,this}Ki.prototype.clear=Bn,Ki.prototype.delete=ai,Ki.prototype.get=dn,Ki.prototype.has=Jn,Ki.prototype.set=Yt;function Ct(on){var Wn=-1,Zn=on==null?0:on.length;for(this.clear();++Wn<Zn;){var Li=on[Wn];this.set(Li[0],Li[1])}}function Dn(){this.size=0,this.__data__={hash:new gi,map:new(kn||Ki),string:new gi}}function gn(on){var Wn=Ht(this,on).delete(on);return this.size-=Wn?1:0,Wn}function en(on){return Ht(this,on).get(on)}function yn(on){return Ht(this,on).has(on)}function Qn(on,Wn){var Zn=Ht(this,on),Li=Zn.size;return Zn.set(on,Wn),this.size+=Zn.size==Li?0:1,this}Ct.prototype.clear=Dn,Ct.prototype.delete=gn,Ct.prototype.get=en,Ct.prototype.has=yn,Ct.prototype.set=Qn;function pi(on){var Wn=this.__data__=new Ki(on);this.size=Wn.size}function Pt(){this.__data__=new Ki,this.size=0}function yt(on){var Wn=this.__data__,Zn=Wn.delete(on);return this.size=Wn.size,Zn}function Rn(on){return this.__data__.get(on)}function Sn(on){return this.__data__.has(on)}function Ii(on,Wn){var Zn=this.__data__;if(Zn instanceof Ki){var Li=Zn.__data__;if(!kn||Li.length<w-1)return Li.push([on,Wn]),this.size=++Zn.size,this;Zn=this.__data__=new Ct(Li)}return Zn.set(on,Wn),this.size=Zn.size,this}pi.prototype.clear=Pt,pi.prototype.delete=yt,pi.prototype.get=Rn,pi.prototype.has=Sn,pi.prototype.set=Ii;function Hi(on,Wn){var Zn=At(on),Li=!Zn&&Mt(on),_r=!Zn&&!Li&&Un(on),Nr=!Zn&&!Li&&!_r&&ui(on),$i=Zn||Li||_r||Nr,Jr=$i?pt(on.length,String):[],ja=Jr.length;for(var $r in on)(Wn||$e.call(on,$r))&&!($i&&($r=="length"||_r&&($r=="offset"||$r=="parent")||Nr&&($r=="buffer"||$r=="byteLength"||$r=="byteOffset")||Ji($r,ja)))&&Jr.push($r);return Jr}function wt(on,Wn,Zn){(Zn!==void 0&&!ct(on[Wn],Zn)||Zn===void 0&&!(Wn in on))&&We(on,Wn,Zn)}function Pi(on,Wn,Zn){var Li=on[Wn];(!($e.call(on,Wn)&&ct(Li,Zn))||Zn===void 0&&!(Wn in on))&&We(on,Wn,Zn)}function Ut(on,Wn){for(var Zn=on.length;Zn--;)if(ct(on[Zn][0],Wn))return Zn;return-1}function We(on,Wn,Zn){Wn=="__proto__"&&jn?jn(on,Wn,{configurable:!0,enumerable:!0,value:Zn,writable:!0}):on[Wn]=Zn}var Tn=hn();function ar(on){return on==null?on===void 0?T:H:Dt&&Dt in Object(on)?si(on):kr(on)}function Br(on){return _i(on)&&ar(on)==_}function Yr(on){if(!oi(on)||Bi(on))return!1;var Wn=Vn(on)?Ge:me;return Wn.test(Ln(on))}function ti(on){return _i(on)&&Gn(on.length)&&!!L[ar(on)]}function bi(on){if(!oi(on))return Gr(on);var Wn=Gi(on),Zn=[];for(var Li in on)Li=="constructor"&&(Wn||!$e.call(on,Li))||Zn.push(Li);return Zn}function Kn(on,Wn,Zn,Li,_r){on!==Wn&&Tn(Wn,function(Nr,$i){if(_r||(_r=new pi),oi(Nr))En(on,Wn,$i,Zn,Kn,Li,_r);else{var Jr=Li?Li(Fr(on,$i),Nr,$i+"",on,Wn,_r):void 0;Jr===void 0&&(Jr=Nr),wt(on,$i,Jr)}},Ui)}function En(on,Wn,Zn,Li,_r,Nr,$i){var Jr=Fr(on,Zn),ja=Fr(Wn,Zn),$r=$i.get(ja);if($r){wt(on,Zn,$r);return}var Ra=Nr?Nr(Jr,ja,Zn+"",on,Wn,$i):void 0,Ua=Ra===void 0;if(Ua){var Ka=At(ja),ws=!Ka&&Un(ja),Zr=!Ka&&!ws&&ui(ja);Ra=ja,Ka||ws||Zr?At(Jr)?Ra=Jr:$t(Jr)?Ra=nt(Jr):ws?(Ua=!1,Ra=mt(ja,!0)):Zr?(Ua=!1,Ra=vn(ja,!0)):Ra=[]:Cn(ja)||Mt(ja)?(Ra=Jr,Mt(Jr)?Ra=Si(Jr):(!oi(Jr)||Vn(Jr))&&(Ra=Oi(ja))):Ua=!1}Ua&&($i.set(ja,Ra),_r(Ra,ja,Li,Nr,$i),$i.delete(ja)),wt(on,Zn,Ra)}function Nt(on,Wn){return ua(sa(on,Wn,Er),on+"")}var Gt=jn?function(on,Wn){return jn(on,"toString",{configurable:!0,enumerable:!1,value:or(Wn),writable:!0})}:Er;function mt(on,Wn){if(Wn)return on.slice();var Zn=on.length,Li=bt?bt(Zn):new on.constructor(Zn);return on.copy(Li),Li}function Ye(on){var Wn=new on.constructor(on.byteLength);return new qt(Wn).set(new qt(on)),Wn}function vn(on,Wn){var Zn=Wn?Ye(on.buffer):on.buffer;return new on.constructor(Zn,on.byteOffset,on.length)}function nt(on,Wn){var Zn=-1,Li=on.length;for(Wn||(Wn=Array(Li));++Zn<Li;)Wn[Zn]=on[Zn];return Wn}function Ze(on,Wn,Zn,Li){var _r=!Zn;Zn||(Zn={});for(var Nr=-1,$i=Wn.length;++Nr<$i;){var Jr=Wn[Nr],ja=Li?Li(Zn[Jr],on[Jr],Jr,Zn,on):void 0;ja===void 0&&(ja=on[Jr]),_r?We(Zn,Jr,ja):Pi(Zn,Jr,ja)}return Zn}function Zt(on){return Nt(function(Wn,Zn){var Li=-1,_r=Zn.length,Nr=_r>1?Zn[_r-1]:void 0,$i=_r>2?Zn[2]:void 0;for(Nr=on.length>3&&typeof Nr=="function"?(_r--,Nr):void 0,$i&&Wi(Zn[0],Zn[1],$i)&&(Nr=_r<3?void 0:Nr,_r=1),Wn=Object(Wn);++Li<_r;){var Jr=Zn[Li];Jr&&on(Wn,Jr,Li,Nr)}return Wn})}function hn(on){return function(Wn,Zn,Li){for(var _r=-1,Nr=Object(Wn),$i=Li(Wn),Jr=$i.length;Jr--;){var ja=$i[on?Jr:++_r];if(Zn(Nr[ja],ja,Nr)===!1)break}return Wn}}function Ht(on,Wn){var Zn=on.__data__;return Yi(Wn)?Zn[typeof Wn=="string"?"string":"hash"]:Zn.map}function lt(on,Wn){var Zn=et(on,Wn);return Yr(Zn)?Zn:void 0}function si(on){var Wn=$e.call(on,Dt),Zn=on[Dt];try{on[Dt]=void 0;var Li=!0}catch(Nr){}var _r=ot.call(on);return Li&&(Wn?on[Dt]=Zn:delete on[Dt]),_r}function Oi(on){return typeof on.constructor=="function"&&!Gi(on)?qi(Bt(on)):{}}function Ji(on,Wn){var Zn=typeof on;return Wn=Wn==null?$:Wn,!!Wn&&(Zn=="number"||Zn!="symbol"&&ge.test(on))&&on>-1&&on%1==0&&on<Wn}function Wi(on,Wn,Zn){if(!oi(Zn))return!1;var Li=typeof Wn;return(Li=="number"?zt(Zn)&&Ji(Wn,Zn.length):Li=="string"&&Wn in Zn)?ct(Zn[Wn],on):!1}function Yi(on){var Wn=typeof on;return Wn=="string"||Wn=="number"||Wn=="symbol"||Wn=="boolean"?on!=="__proto__":on===null}function Bi(on){return!!ze&&ze in on}function Gi(on){var Wn=on&&on.constructor,Zn=typeof Wn=="function"&&Wn.prototype||ye;return on===Zn}function Gr(on){var Wn=[];if(on!=null)for(var Zn in Object(on))Wn.push(Zn);return Wn}function kr(on){return ot.call(on)}function sa(on,Wn,Zn){return Wn=Nn(Wn===void 0?on.length-1:Wn,0),function(){for(var Li=arguments,_r=-1,Nr=Nn(Li.length-Wn,0),$i=Array(Nr);++_r<Nr;)$i[_r]=Li[Wn+_r];_r=-1;for(var Jr=Array(Wn+1);++_r<Wn;)Jr[_r]=Li[_r];return Jr[Wn]=Zn($i),Ot(on,this,Jr)}}function Fr(on,Wn){if(!(Wn==="constructor"&&typeof on[Wn]=="function")&&Wn!="__proto__")return on[Wn]}var ua=pn(Gt);function pn(on){var Wn=0,Zn=0;return function(){var Li=ei(),_r=te-(Li-Zn);if(Zn=Li,_r>0){if(++Wn>=se)return arguments[0]}else Wn=0;return on.apply(void 0,arguments)}}function Ln(on){if(on!=null){try{return Qe.call(on)}catch(Wn){}try{return on+""}catch(Wn){}}return""}function ct(on,Wn){return on===Wn||on!==on&&Wn!==Wn}var Mt=Br(function(){return arguments}())?Br:function(on){return _i(on)&&$e.call(on,"callee")&&!an.call(on,"callee")},At=Array.isArray;function zt(on){return on!=null&&Gn(on.length)&&!Vn(on)}function $t(on){return _i(on)&&zt(on)}var Un=_n||vr;function Vn(on){if(!oi(on))return!1;var Wn=ar(on);return Wn==B||Wn==F||Wn==E||Wn==D}function Gn(on){return typeof on=="number"&&on>-1&&on%1==0&&on<=$}function oi(on){var Wn=typeof on;return on!=null&&(Wn=="object"||Wn=="function")}function _i(on){return on!=null&&typeof on=="object"}function Cn(on){if(!_i(on)||ar(on)!=d)return!1;var Wn=Bt(on);if(Wn===null)return!0;var Zn=$e.call(Wn,"constructor")&&Wn.constructor;return typeof Zn=="function"&&Zn instanceof Zn&&Qe.call(Zn)==He}var ui=Ft?Lt(Ft):ti;function Si(on){return Ze(on,Ui(on))}function Ui(on){return zt(on)?Hi(on,!0):bi(on)}var Lr=Zt(function(on,Wn,Zn){Kn(on,Wn,Zn)});function or(on){return function(){return on}}function Er(on){return on}function vr(){return!1}we.exports=Lr}).call(this,a("IyRk"),a("hOG+")(mn))},"2uFs":function(mn,U,a){},"2zAJ":function(mn,U,a){},"3/fG":function(mn,U,a){"use strict";a.d(U,"b",function(){return E}),a.d(U,"a",function(){return Z});var ce=a("qLMh"),we=function(F,W,N,H){function d(D){return D instanceof N?D:new N(function(C){C(D)})}return new(N||(N=Promise))(function(D,C){function x(z){try{T(H.next(z))}catch(I){C(I)}}function O(z){try{T(H.throw(z))}catch(I){C(I)}}function T(z){z.done?D(z.value):d(z.value).then(x,O)}T((H=H.apply(F,W||[])).next())})},w=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0,ve="i-default";function se(F,W){var N;return W.length===0?N=F:N=F.replace(/\{(\d+)\}/g,function(H,d){var D=d[0],C=W[D],x=H;return typeof C=="string"?x=C:(typeof C=="number"||typeof C=="boolean"||C===void 0||C===null)&&(x=String(C)),x}),w&&(N="\uFF3B"+N.replace(/[aouei]/g,"$&$&")+"\uFF3D"),N}function te(F,W){var N=F[W];return N||(N=F["*"],N)?N:null}function $(F){return F.charAt(F.length-1)==="/"?F:F+"/"}function _(F,W,N){return we(this,void 0,void 0,Object(ce.a)().mark(function H(){var d,D,C;return Object(ce.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return d=$(F)+$(W)+"vscode/"+$(N),O.next=3,fetch(d);case 3:if(D=O.sent,!D.ok){O.next=9;break}return O.next=7,D.json();case 7:return C=O.sent,O.abrupt("return",C);case 9:throw new Error("".concat(D.status," - ").concat(D.statusText));case 10:case"end":return O.stop()}},H)}))}function Y(F){return function(W,N){var H=Array.prototype.slice.call(arguments,2);return se(F[W],H)}}function E(F,W){for(var N=arguments.length,H=new Array(N>2?N-2:0),d=2;d<N;d++)H[d-2]=arguments[d];return se(W,H)}function Z(F){}function ne(F){w=F}function V(F,W){var N;return{localize:Y(W[F]),getConfiguredDefaultLocale:(N=W.getConfiguredDefaultLocale)!==null&&N!==void 0?N:function(H){}}}function B(F,W,N,H){var d=this,D,C=(D=H["vs/nls"])!==null&&D!==void 0?D:{};if(!F||F.length===0)return N({localize:E,getConfiguredDefaultLocale:function(){var de;return(de=C.availableLanguages)===null||de===void 0?void 0:de["*"]}});var x=C.availableLanguages?te(C.availableLanguages,F):null,O=x===null||x===ve,T=".nls";O||(T=T+"."+x);var z=function(de){Array.isArray(de)?de.localize=Y(de):de.localize=Y(de[F]),de.getConfiguredDefaultLocale=function(){var pe;return(pe=C.availableLanguages)===null||pe===void 0?void 0:pe["*"]},N(de)};typeof C.loadBundle=="function"?C.loadBundle(F,x,function(I,de){I?W([F+".nls"],z):z(de)}):C.translationServiceUrl&&!O?function(){return we(d,void 0,void 0,Object(ce.a)().mark(function I(){var de,pe,fe,ke;return Object(ce.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,P.next=3,_(C.translationServiceUrl,x,F);case 3:return pe=P.sent,P.abrupt("return",z(pe));case 7:if(P.prev=7,P.t0=P.catch(0),x.includes("-")){P.next=12;break}return console.error(P.t0),P.abrupt("return",W([F+".nls"],z));case 12:return P.prev=12,fe=x.split("-")[0],P.next=16,_(C.translationServiceUrl,fe,F);case 16:return ke=P.sent,(de=C.availableLanguages)!==null&&de!==void 0||(C.availableLanguages={}),C.availableLanguages["*"]=fe,P.abrupt("return",z(ke));case 22:return P.prev=22,P.t1=P.catch(12),console.error(P.t1),P.abrupt("return",W([F+".nls"],z));case 26:case"end":return P.stop()}},I,null,[[0,7],[12,22]])}))}():W([F+T],z,function(I){if(T===".nls"){console.error("Failed trying to load default language strings",I);return}console.error("Failed to load message bundle for language ".concat(x,". Falling back to the default language:"),I),W([F+".nls"],z)})}},"3IFt":function(mn,U,a){"use strict";a.d(U,"y",function(){return se}),a.d(U,"z",function(){return te}),a.d(U,"v",function(){return Z}),a.d(U,"u",function(){return ne}),a.d(U,"E",function(){return V}),a.d(U,"x",function(){return B}),a.d(U,"a",function(){return F}),a.d(U,"A",function(){return W}),a.d(U,"w",function(){return d}),a.d(U,"C",function(){return T}),a.d(U,"B",function(){return z}),a.d(U,"D",function(){return pe}),a.d(U,"H",function(){return G}),a.d(U,"F",function(){return re}),a.d(U,"I",function(){return ae}),a.d(U,"G",function(){return Q}),a.d(U,"b",function(){return J}),a.d(U,"c",function(){return me}),a.d(U,"d",function(){return ge}),a.d(U,"e",function(){return L}),a.d(U,"f",function(){return De}),a.d(U,"g",function(){return Ae}),a.d(U,"h",function(){return Oe}),a.d(U,"o",function(){return Pe}),a.d(U,"p",function(){return Ne}),a.d(U,"q",function(){return Fe}),a.d(U,"r",function(){return Xe}),a.d(U,"s",function(){return Et}),a.d(U,"t",function(){return Ft}),a.d(U,"i",function(){return Ot}),a.d(U,"j",function(){return pt}),a.d(U,"k",function(){return Lt}),a.d(U,"l",function(){return et}),a.d(U,"m",function(){return Vt}),a.d(U,"n",function(){return Re});var ce=a("3/fG"),we=a("zrhQ"),w=a("MD5Z"),ve=a("t9D7"),se=Object(w.Fc)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},ce.b("lineHighlight","Background color for the highlight of line at the cursor position.")),te=Object(w.Fc)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:w.w},ce.b("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),$=Object(w.Fc)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},ce.b("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),_=Object(w.Fc)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:w.b,hcLight:w.b},ce.b("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),Y=Object(w.Fc)("editor.symbolHighlightBackground",{dark:w.K,light:w.K,hcDark:null,hcLight:null},ce.b("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),E=Object(w.Fc)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:w.b,hcLight:w.b},ce.b("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),Z=Object(w.Fc)("editorCursor.foreground",{dark:"#AEAFAD",light:we.a.black,hcDark:we.a.white,hcLight:"#0F4A85"},ce.b("caret","Color of the editor cursor.")),ne=Object(w.Fc)("editorCursor.background",null,ce.b("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),V=Object(w.Fc)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},ce.b("editorWhitespaces","Color of whitespace characters in the editor.")),B=Object(w.Fc)("editorIndentGuide.background",{dark:V,light:V,hcDark:V,hcLight:V},ce.b("editorIndentGuides","Color of the editor indentation guides.")),F=Object(w.Fc)("editorIndentGuide.activeBackground",{dark:V,light:V,hcDark:V,hcLight:V},ce.b("editorActiveIndentGuide","Color of the active editor indentation guides.")),W=Object(w.Fc)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:we.a.white,hcLight:"#292929"},ce.b("editorLineNumbers","Color of editor line numbers.")),N=Object(w.Fc)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:w.b,hcLight:w.b},ce.b("editorActiveLineNumber","Color of editor active line number"),!1,ce.b("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),H=Object(w.Fc)("editorLineNumber.activeForeground",{dark:N,light:N,hcDark:N,hcLight:N},ce.b("editorActiveLineNumber","Color of editor active line number")),d=Object(w.Fc)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},ce.b("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),D=Object(w.Fc)("editorRuler.foreground",{dark:"#5A5A5A",light:we.a.lightgrey,hcDark:we.a.white,hcLight:"#292929"},ce.b("editorRuler","Color of the editor rulers.")),C=Object(w.Fc)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},ce.b("editorCodeLensForeground","Foreground color of editor CodeLens")),x=Object(w.Fc)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},ce.b("editorBracketMatchBackground","Background color behind matching brackets")),O=Object(w.Fc)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:w.w,hcLight:w.w},ce.b("editorBracketMatchBorder","Color for matching brackets boxes")),T=Object(w.Fc)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},ce.b("editorOverviewRulerBorder","Color of the overview ruler border.")),z=Object(w.Fc)("editorOverviewRuler.background",null,ce.b("editorOverviewRulerBackground","Background color of the editor overview ruler.")),I=Object(w.Fc)("editorGutter.background",{dark:w.F,light:w.F,hcDark:w.F,hcLight:w.F},ce.b("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),de=Object(w.Fc)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:we.a.fromHex("#fff").transparent(.8),hcLight:w.w},ce.b("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),pe=Object(w.Fc)("editorUnnecessaryCode.opacity",{dark:we.a.fromHex("#000a"),light:we.a.fromHex("#0007"),hcDark:null,hcLight:null},ce.b("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),fe=Object(w.Fc)("editorGhostText.border",{dark:null,light:null,hcDark:we.a.fromHex("#fff").transparent(.8),hcLight:we.a.fromHex("#292929").transparent(.8)},ce.b("editorGhostTextBorder","Border color of ghost text in the editor.")),ke=Object(w.Fc)("editorGhostText.foreground",{dark:we.a.fromHex("#ffffff56"),light:we.a.fromHex("#0007"),hcDark:null,hcLight:null},ce.b("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),A=Object(w.Fc)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},ce.b("editorGhostTextBackground","Background color of the ghost text in the editor.")),P=new we.a(new we.d(0,122,204,.6)),G=Object(w.Fc)("editorOverviewRuler.rangeHighlightForeground",{dark:P,light:P,hcDark:P,hcLight:P},ce.b("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),re=Object(w.Fc)("editorOverviewRuler.errorForeground",{dark:new we.a(new we.d(255,18,18,.7)),light:new we.a(new we.d(255,18,18,.7)),hcDark:new we.a(new we.d(255,50,50,1)),hcLight:"#B5200D"},ce.b("overviewRuleError","Overview ruler marker color for errors.")),ae=Object(w.Fc)("editorOverviewRuler.warningForeground",{dark:w.fb,light:w.fb,hcDark:w.eb,hcLight:w.eb},ce.b("overviewRuleWarning","Overview ruler marker color for warnings.")),Q=Object(w.Fc)("editorOverviewRuler.infoForeground",{dark:w.U,light:w.U,hcDark:w.T,hcLight:w.T},ce.b("overviewRuleInfo","Overview ruler marker color for infos.")),J=Object(w.Fc)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},ce.b("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),me=Object(w.Fc)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},ce.b("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),ge=Object(w.Fc)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},ce.b("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),L=Object(w.Fc)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),De=Object(w.Fc)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Ae=Object(w.Fc)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Oe=Object(w.Fc)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new we.a(new we.d(255,18,18,.8)),light:new we.a(new we.d(255,18,18,.8)),hcDark:new we.a(new we.d(255,50,50,1)),hcLight:""},ce.b("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Pe=Object(w.Fc)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Ne=Object(w.Fc)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Fe=Object(w.Fc)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Xe=Object(w.Fc)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Et=Object(w.Fc)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Ft=Object(w.Fc)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Ot=Object(w.Fc)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),pt=Object(w.Fc)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Lt=Object(w.Fc)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),et=Object(w.Fc)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Vt=Object(w.Fc)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Re=Object(w.Fc)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},ce.b("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),Ce=Object(w.Fc)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},ce.b("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),ye=Object(w.Fc)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},ce.b("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));Object(ve.e)(function(Te,Qe){var $e=Te.getColor(w.F),ze=Te.getColor(se),ot=ze&&!ze.isTransparent()?ze:$e;ot&&Qe.addRule(".monaco-editor .inputarea.ime-input { background-color: ".concat(ot,"; }"))})},"3Rsk":function(mn,U,a){"use strict";a.d(U,"a",function(){return se});var ce=a("fWQN"),we=a("mtLc"),w=a("MI8n"),ve=a("ic2d"),se={JSONContribution:"base.contributions.json"};function te(Y){return Y.length>0&&Y.charAt(Y.length-1)==="#"?Y.substring(0,Y.length-1):Y}var $=function(){function Y(){Object(ce.a)(this,Y),this._onDidChangeSchema=new w.b,this.schemasById={}}return Object(we.a)(Y,[{key:"registerSchema",value:function(Z,ne){this.schemasById[te(Z)]=ne,this._onDidChangeSchema.fire(Z)}},{key:"notifySchemaChanged",value:function(Z){this._onDidChangeSchema.fire(Z)}}]),Y}(),_=new $;ve.a.add(se.JSONContribution,_)},"3fZx":function(mn,U,a){"use strict";a.d(U,"a",function(){return ce});var ce=Symbol("MicrotaskDelay")},"3j9d":function(mn,U,a){"use strict";var ce=a("J+/v"),we=a("MoRW"),w=a("1OyB"),ve=a("vuIU"),se=a("Ji7U"),te=a("LK+K"),$=a("nKUr"),_=a.n($),Y=a("q1tI"),E=a.n(Y),Z=function(ne){Object(se.a)(B,ne);var V=Object(te.a)(B);function B(){var F;Object(w.a)(this,B);for(var W=arguments.length,N=new Array(W),H=0;H<W;H++)N[H]=arguments[H];return F=V.call.apply(V,[this].concat(N)),F.state={hasError:!1,errorInfo:""},F}return Object(ve.a)(B,[{key:"componentDidCatch",value:function(W,N){console.log(W,N)}},{key:"render",value:function(){return this.state.hasError?Object($.jsx)(we.a,{status:"error",title:"Something went wrong.",extra:this.state.errorInfo}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(W){return{hasError:!0,errorInfo:W.message}}}]),B}(E.a.Component);U.a=Z},"44XX":function(mn,U,a){"use strict";a.d(U,"a",function(){return de}),a.d(U,"b",function(){return pe});var ce=a("oBTY"),we=a("rAM+"),w=a("w4Tj"),ve=a("oZsa"),se=a("yKVA"),te=a("879j"),$=a("fWQN"),_=a("mtLc"),Y=a("EffR"),E=a("4y0V"),Z=a("cMOf"),ne=a("GJhM"),V=a("6OMU"),B=a("zrhQ"),F=a("MI8n"),W=a("pmY6"),N=a("Sdnv"),H=a("QuOb"),d=a("746U"),D=a("51B1"),C=a.n(D),x={separatorBorder:B.a.transparent},O=function(){function fe(ke,A,P,G){Object($.a)(this,fe),this.container=ke,this.view=A,this.disposable=G,this._cachedVisibleSize=void 0,typeof P=="number"?(this._size=P,this._cachedVisibleSize=void 0,ke.classList.add("visible")):(this._size=0,this._cachedVisibleSize=P.cachedVisibleSize)}return Object(_.a)(fe,[{key:"size",get:function(){return this._size},set:function(A){this._size=A}},{key:"visible",get:function(){return typeof this._cachedVisibleSize=="undefined"}},{key:"setVisible",value:function(A,P){var G,re;A!==this.visible&&(A?(this.size=Object(N.c)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof P=="number"?P:this.size,this.size=0),this.container.classList.toggle("visible",A),(re=(G=this.view).setVisible)===null||re===void 0||re.call(G,A))}},{key:"minimumSize",get:function(){return this.visible?this.view.minimumSize:0}},{key:"viewMinimumSize",get:function(){return this.view.minimumSize}},{key:"maximumSize",get:function(){return this.visible?this.view.maximumSize:0}},{key:"viewMaximumSize",get:function(){return this.view.maximumSize}},{key:"priority",get:function(){return this.view.priority}},{key:"proportionalLayout",get:function(){var A;return(A=this.view.proportionalLayout)!==null&&A!==void 0?A:!0}},{key:"snap",get:function(){return!!this.view.snap}},{key:"enabled",set:function(A){this.container.style.pointerEvents=A?"":"none"}},{key:"layout",value:function(A,P){this.layoutContainer(A),this.view.layout(this.size,A,P)}},{key:"dispose",value:function(){return this.disposable.dispose(),this.view}}]),fe}(),T=function(fe){Object(se.a)(A,fe);var ke=Object(te.a)(A);function A(){return Object($.a)(this,A),ke.apply(this,arguments)}return Object(_.a)(A,[{key:"layoutContainer",value:function(G){this.container.style.top="".concat(G,"px"),this.container.style.height="".concat(this.size,"px")}}]),A}(O),z=function(fe){Object(se.a)(A,fe);var ke=Object(te.a)(A);function A(){return Object($.a)(this,A),ke.apply(this,arguments)}return Object(_.a)(A,[{key:"layoutContainer",value:function(G){this.container.style.left="".concat(G,"px"),this.container.style.width="".concat(this.size,"px")}}]),A}(O),I;(function(fe){fe[fe.Idle=0]="Idle",fe[fe.Busy=1]="Busy"})(I||(I={}));var de;(function(fe){fe.Distribute={type:"distribute"};function ke(P){return{type:"split",index:P}}fe.Split=ke;function A(P){return{type:"invisible",cachedVisibleSize:P}}fe.Invisible=A})(de||(de={}));var pe=function(fe){Object(se.a)(A,fe);var ke=Object(te.a)(A);function A(P){var G,re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object($.a)(this,A);var ae,Q,J,me,ge;G=ke.call(this),G.size=0,G.contentSize=0,G.proportions=void 0,G.viewItems=[],G.sashItems=[],G.state=I.Idle,G._onDidSashChange=G._register(new F.b),G._onDidSashReset=G._register(new F.b),G._startSnappingEnabled=!0,G._endSnappingEnabled=!0,G.onDidSashChange=G._onDidSashChange.event,G.onDidSashReset=G._onDidSashReset.event,G.orientation=(ae=re.orientation)!==null&&ae!==void 0?ae:0,G.inverseAltBehavior=(Q=re.inverseAltBehavior)!==null&&Q!==void 0?Q:!1,G.proportionalLayout=(J=re.proportionalLayout)!==null&&J!==void 0?J:!0,G.getSashOrthogonalSize=re.getSashOrthogonalSize,G.el=document.createElement("div"),G.el.classList.add("monaco-split-view2"),G.el.classList.add(G.orientation===0?"vertical":"horizontal"),P.appendChild(G.el),G.sashContainer=Object(Y.append)(G.el,Object(Y.$)(".sash-container")),G.viewContainer=Object(Y.$)(".split-view-container"),G.scrollable=new H.a({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:Y.scheduleAtNextAnimationFrame}),G.scrollableElement=G._register(new ne.d(G.viewContainer,{vertical:G.orientation===0?(me=re.scrollbarVisibility)!==null&&me!==void 0?me:1:2,horizontal:G.orientation===1?(ge=re.scrollbarVisibility)!==null&&ge!==void 0?ge:1:2},G.scrollable));var L=G._register(new E.a(G.viewContainer,"scroll")).event;return G._register(L(function(De){var Ae=G.scrollableElement.getScrollPosition(),Oe=Math.abs(G.viewContainer.scrollLeft-Ae.scrollLeft)<=1?void 0:G.viewContainer.scrollLeft,Pe=Math.abs(G.viewContainer.scrollTop-Ae.scrollTop)<=1?void 0:G.viewContainer.scrollTop;(Oe!==void 0||Pe!==void 0)&&G.scrollableElement.setScrollPosition({scrollLeft:Oe,scrollTop:Pe})})),G.onDidScroll=G.scrollableElement.onScroll,G._register(G.onDidScroll(function(De){De.scrollTopChanged&&(G.viewContainer.scrollTop=De.scrollTop),De.scrollLeftChanged&&(G.viewContainer.scrollLeft=De.scrollLeft)})),Object(Y.append)(G.el,G.scrollableElement.getDomNode()),G.style(re.styles||x),re.descriptor&&(G.size=re.descriptor.size,re.descriptor.views.forEach(function(De,Ae){var Oe=d.k(De.visible)||De.visible?De.size:{type:"invisible",cachedVisibleSize:De.size},Pe=De.view;G.doAddView(Pe,Oe,Ae,!0)}),G.contentSize=G.viewItems.reduce(function(De,Ae){return De+Ae.size},0),G.saveProportions()),G}return Object(_.a)(A,[{key:"orthogonalStartSash",get:function(){return this._orthogonalStartSash},set:function(G){var re=Object(we.a)(this.sashItems),ae;try{for(re.s();!(ae=re.n()).done;){var Q=ae.value;Q.sash.orthogonalStartSash=G}}catch(J){re.e(J)}finally{re.f()}this._orthogonalStartSash=G}},{key:"orthogonalEndSash",get:function(){return this._orthogonalEndSash},set:function(G){var re=Object(we.a)(this.sashItems),ae;try{for(re.s();!(ae=re.n()).done;){var Q=ae.value;Q.sash.orthogonalEndSash=G}}catch(J){re.e(J)}finally{re.f()}this._orthogonalEndSash=G}},{key:"startSnappingEnabled",get:function(){return this._startSnappingEnabled},set:function(G){this._startSnappingEnabled!==G&&(this._startSnappingEnabled=G,this.updateSashEnablement())}},{key:"endSnappingEnabled",get:function(){return this._endSnappingEnabled},set:function(G){this._endSnappingEnabled!==G&&(this._endSnappingEnabled=G,this.updateSashEnablement())}},{key:"style",value:function(G){G.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",G.separatorBorder.toString()))}},{key:"addView",value:function(G,re){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.viewItems.length,Q=arguments.length>3?arguments[3]:void 0;this.doAddView(G,re,ae,Q)}},{key:"layout",value:function(G,re){var ae=this,Q=Math.max(this.size,this.contentSize);if(this.size=G,this.layoutContext=re,this.proportions){for(var L=0,De=0;De<this.viewItems.length;De++){var Ae=this.viewItems[De],Oe=this.proportions[De];typeof Oe=="number"?L+=Oe:G-=Ae.size}for(var Pe=0;Pe<this.viewItems.length;Pe++){var Ne=this.viewItems[Pe],Fe=this.proportions[Pe];typeof Fe=="number"&&(Ne.size=Object(N.c)(Math.round(Fe*G/L),Ne.minimumSize,Ne.maximumSize))}}else{var J=Object(V.z)(this.viewItems.length),me=J.filter(function(Xe){return ae.viewItems[Xe].priority===1}),ge=J.filter(function(Xe){return ae.viewItems[Xe].priority===2});this.resize(this.viewItems.length-1,G-Q,void 0,me,ge)}this.distributeEmptySpace(),this.layoutViews()}},{key:"saveProportions",value:function(){var G=this;this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(function(re){return re.proportionalLayout?re.size/G.contentSize:void 0}))}},{key:"onSashStart",value:function(G){var re=this,ae=G.sash,Q=G.start,J=G.alt,me=Object(we.a)(this.viewItems),ge;try{for(me.s();!(ge=me.n()).done;){var L=ge.value;L.enabled=!1}}catch(Pe){me.e(Pe)}finally{me.f()}var De=this.sashItems.findIndex(function(Pe){return Pe.sash===ae}),Ae=Object(W.h)(Object(Y.addDisposableListener)(document.body,"keydown",function(Pe){return Oe(re.sashDragState.current,Pe.altKey)}),Object(Y.addDisposableListener)(document.body,"keyup",function(){return Oe(re.sashDragState.current,!1)})),Oe=function(Ne,Fe){var Xe=re.viewItems.map(function(Bt){return Bt.size}),Et=Number.NEGATIVE_INFINITY,Ft=Number.POSITIVE_INFINITY;if(re.inverseAltBehavior&&(Fe=!Fe),Fe){var Ot=De===re.sashItems.length-1;if(Ot){var pt=re.viewItems[De];Et=(pt.minimumSize-pt.size)/2,Ft=(pt.maximumSize-pt.size)/2}else{var Lt=re.viewItems[De+1];Et=(Lt.size-Lt.maximumSize)/2,Ft=(Lt.size-Lt.minimumSize)/2}}var et,Vt;if(!Fe){var Re=Object(V.z)(De,-1),Ce=Object(V.z)(De+1,re.viewItems.length),ye=Re.reduce(function(Bt,rn){return Bt+(re.viewItems[rn].minimumSize-Xe[rn])},0),Te=Re.reduce(function(Bt,rn){return Bt+(re.viewItems[rn].viewMaximumSize-Xe[rn])},0),Qe=Ce.length===0?Number.POSITIVE_INFINITY:Ce.reduce(function(Bt,rn){return Bt+(Xe[rn]-re.viewItems[rn].minimumSize)},0),$e=Ce.length===0?Number.NEGATIVE_INFINITY:Ce.reduce(function(Bt,rn){return Bt+(Xe[rn]-re.viewItems[rn].viewMaximumSize)},0),ze=Math.max(ye,$e),ot=Math.min(Qe,Te),He=re.findFirstSnapIndex(Re),Ge=re.findFirstSnapIndex(Ce);if(typeof He=="number"){var Je=re.viewItems[He],ft=Math.floor(Je.viewMinimumSize/2);et={index:He,limitDelta:Je.visible?ze-ft:ze+ft,size:Je.size}}if(typeof Ge=="number"){var qt=re.viewItems[Ge],bt=Math.floor(qt.viewMinimumSize/2);Vt={index:Ge,limitDelta:qt.visible?ot+bt:ot-bt,size:qt.size}}}re.sashDragState={start:Ne,current:Ne,index:De,sizes:Xe,minDelta:Et,maxDelta:Ft,alt:Fe,snapBefore:et,snapAfter:Vt,disposable:Ae}};Oe(Q,J)}},{key:"onSashChange",value:function(G){var re=G.current,ae=this.sashDragState,Q=ae.index,J=ae.start,me=ae.sizes,ge=ae.alt,L=ae.minDelta,De=ae.maxDelta,Ae=ae.snapBefore,Oe=ae.snapAfter;this.sashDragState.current=re;var Pe=re-J,Ne=this.resize(Q,Pe,me,void 0,void 0,L,De,Ae,Oe);if(ge){var Fe=Q===this.sashItems.length-1,Xe=this.viewItems.map(function(et){return et.size}),Et=Fe?Q:Q+1,Ft=this.viewItems[Et],Ot=Ft.size-Ft.maximumSize,pt=Ft.size-Ft.minimumSize,Lt=Fe?Q-1:Q+1;this.resize(Lt,-Ne,Xe,void 0,void 0,Ot,pt)}this.distributeEmptySpace(),this.layoutViews()}},{key:"onSashEnd",value:function(G){this._onDidSashChange.fire(G),this.sashDragState.disposable.dispose(),this.saveProportions();var re=Object(we.a)(this.viewItems),ae;try{for(re.s();!(ae=re.n()).done;){var Q=ae.value;Q.enabled=!0}}catch(J){re.e(J)}finally{re.f()}}},{key:"onViewChange",value:function(G,re){var ae=this.viewItems.indexOf(G);ae<0||ae>=this.viewItems.length||(re=typeof re=="number"?re:G.size,re=Object(N.c)(re,G.minimumSize,G.maximumSize),this.inverseAltBehavior&&ae>0?(this.resize(ae-1,Math.floor((G.size-re)/2)),this.distributeEmptySpace(),this.layoutViews()):(G.size=re,this.relayout([ae],void 0)))}},{key:"resizeView",value:function(G,re){var ae=this;if(this.state!==I.Idle)throw new Error("Cant modify splitview");if(this.state=I.Busy,!(G<0||G>=this.viewItems.length)){var Q=Object(V.z)(this.viewItems.length).filter(function(L){return L!==G}),J=[].concat(Object(ce.a)(Q.filter(function(L){return ae.viewItems[L].priority===1})),[G]),me=Q.filter(function(L){return ae.viewItems[L].priority===2}),ge=this.viewItems[G];re=Math.round(re),re=Object(N.c)(re,ge.minimumSize,Math.min(ge.maximumSize,this.size)),ge.size=re,this.relayout(J,me),this.state=I.Idle}}},{key:"distributeViewSizes",value:function(){var G=this,re=[],ae=0,Q=Object(we.a)(this.viewItems),J;try{for(Q.s();!(J=Q.n()).done;){var me=J.value;me.maximumSize-me.minimumSize>0&&(re.push(me),ae+=me.size)}}catch(Fe){Q.e(Fe)}finally{Q.f()}for(var ge=Math.floor(ae/re.length),L=0,De=re;L<De.length;L++){var Ae=De[L];Ae.size=Object(N.c)(ge,Ae.minimumSize,Ae.maximumSize)}var Oe=Object(V.z)(this.viewItems.length),Pe=Oe.filter(function(Fe){return G.viewItems[Fe].priority===1}),Ne=Oe.filter(function(Fe){return G.viewItems[Fe].priority===2});this.relayout(Pe,Ne)}},{key:"getViewSize",value:function(G){return G<0||G>=this.viewItems.length?-1:this.viewItems[G].size}},{key:"doAddView",value:function(G,re){var ae=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.viewItems.length,J=arguments.length>3?arguments[3]:void 0;if(this.state!==I.Idle)throw new Error("Cant modify splitview");this.state=I.Busy;var me=Object(Y.$)(".split-view-view");Q===this.viewItems.length?this.viewContainer.appendChild(me):this.viewContainer.insertBefore(me,this.viewContainer.children.item(Q));var ge=G.onDidChange(function(ye){return ae.onViewChange(Oe,ye)}),L=Object(W.l)(function(){return ae.viewContainer.removeChild(me)}),De=Object(W.h)(ge,L),Ae;typeof re=="number"?Ae=re:re.type==="split"?Ae=this.getViewSize(re.index)/2:re.type==="invisible"?Ae={cachedVisibleSize:re.cachedVisibleSize}:Ae=G.minimumSize;var Oe=this.orientation===0?new T(me,G,Ae,De):new z(me,G,Ae,De);if(this.viewItems.splice(Q,0,Oe),this.viewItems.length>1){var Pe={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},Ne=this.orientation===0?new Z.b(this.sashContainer,{getHorizontalSashTop:function(Te){return ae.getSashPosition(Te)},getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},Pe),{orientation:1})):new Z.b(this.sashContainer,{getVerticalSashLeft:function(Te){return ae.getSashPosition(Te)},getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},Pe),{orientation:0})),Fe=this.orientation===0?function(ye){return{sash:Ne,start:ye.startY,current:ye.currentY,alt:ye.altKey}}:function(ye){return{sash:Ne,start:ye.startX,current:ye.currentX,alt:ye.altKey}},Xe=F.c.map(Ne.onDidStart,Fe),Et=Xe(this.onSashStart,this),Ft=F.c.map(Ne.onDidChange,Fe),Ot=Ft(this.onSashChange,this),pt=F.c.map(Ne.onDidEnd,function(){return ae.sashItems.findIndex(function(ye){return ye.sash===Ne})}),Lt=pt(this.onSashEnd,this),et=Ne.onDidReset(function(){var ye=ae.sashItems.findIndex(function(ot){return ot.sash===Ne}),Te=Object(V.z)(ye,-1),Qe=Object(V.z)(ye+1,ae.viewItems.length),$e=ae.findFirstSnapIndex(Te),ze=ae.findFirstSnapIndex(Qe);typeof $e=="number"&&!ae.viewItems[$e].visible||typeof ze=="number"&&!ae.viewItems[ze].visible||ae._onDidSashReset.fire(ye)}),Vt=Object(W.h)(Et,Ot,Lt,et,Ne),Re={sash:Ne,disposable:Vt};this.sashItems.splice(Q-1,0,Re)}me.appendChild(G.element);var Ce;typeof re!="number"&&re.type==="split"&&(Ce=[re.index]),J||this.relayout([Q],Ce),this.state=I.Idle,!J&&typeof re!="number"&&re.type==="distribute"&&this.distributeViewSizes()}},{key:"relayout",value:function(G,re){var ae=this.viewItems.reduce(function(Q,J){return Q+J.size},0);this.resize(this.viewItems.length-1,this.size-ae,void 0,G,re),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}},{key:"resize",value:function(G,re){var ae=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.viewItems.map(function(Nn){return Nn.size}),J=arguments.length>3?arguments[3]:void 0,me=arguments.length>4?arguments[4]:void 0,ge=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Number.NEGATIVE_INFINITY,L=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Number.POSITIVE_INFINITY,De=arguments.length>7?arguments[7]:void 0,Ae=arguments.length>8?arguments[8]:void 0;if(G<0||G>=this.viewItems.length)return 0;var Oe=Object(V.z)(G,-1),Pe=Object(V.z)(G+1,this.viewItems.length);if(me){var Ne=Object(we.a)(me),Fe;try{for(Ne.s();!(Fe=Ne.n()).done;){var Xe=Fe.value;Object(V.x)(Oe,Xe),Object(V.x)(Pe,Xe)}}catch(Nn){Ne.e(Nn)}finally{Ne.f()}}if(J){var Et=Object(we.a)(J),Ft;try{for(Et.s();!(Ft=Et.n()).done;){var Ot=Ft.value;Object(V.w)(Oe,Ot),Object(V.w)(Pe,Ot)}}catch(Nn){Et.e(Nn)}finally{Et.f()}}var pt=Oe.map(function(Nn){return ae.viewItems[Nn]}),Lt=Oe.map(function(Nn){return Q[Nn]}),et=Pe.map(function(Nn){return ae.viewItems[Nn]}),Vt=Pe.map(function(Nn){return Q[Nn]}),Re=Oe.reduce(function(Nn,ei){return Nn+(ae.viewItems[ei].minimumSize-Q[ei])},0),Ce=Oe.reduce(function(Nn,ei){return Nn+(ae.viewItems[ei].maximumSize-Q[ei])},0),ye=Pe.length===0?Number.POSITIVE_INFINITY:Pe.reduce(function(Nn,ei){return Nn+(Q[ei]-ae.viewItems[ei].minimumSize)},0),Te=Pe.length===0?Number.NEGATIVE_INFINITY:Pe.reduce(function(Nn,ei){return Nn+(Q[ei]-ae.viewItems[ei].maximumSize)},0),Qe=Math.max(Re,Te,ge),$e=Math.min(ye,Ce,L),ze=!1;if(De){var ot=this.viewItems[De.index],He=re>=De.limitDelta;ze=He!==ot.visible,ot.setVisible(He,De.size)}if(!ze&&Ae){var Ge=this.viewItems[Ae.index],Je=re<Ae.limitDelta;ze=Je!==Ge.visible,Ge.setVisible(Je,Ae.size)}if(ze)return this.resize(G,re,Q,J,me,ge,L);re=Object(N.c)(re,Qe,$e);for(var ft=0,qt=re;ft<pt.length;ft++){var bt=pt[ft],Bt=Object(N.c)(Lt[ft]+qt,bt.minimumSize,bt.maximumSize),rn=Bt-Lt[ft];qt-=rn,bt.size=Bt}for(var an=0,In=re;an<et.length;an++){var Dt=et[an],jn=Object(N.c)(Vt[an]-In,Dt.minimumSize,Dt.maximumSize),_n=jn-Vt[an];In+=_n,Dt.size=jn}return re}},{key:"distributeEmptySpace",value:function(G){var re=this,ae=this.viewItems.reduce(function(Ot,pt){return Ot+pt.size},0),Q=this.size-ae,J=Object(V.z)(this.viewItems.length-1,-1),me=J.filter(function(Ot){return re.viewItems[Ot].priority===1}),ge=J.filter(function(Ot){return re.viewItems[Ot].priority===2}),L=Object(we.a)(ge),De;try{for(L.s();!(De=L.n()).done;){var Ae=De.value;Object(V.x)(J,Ae)}}catch(Ot){L.e(Ot)}finally{L.f()}var Oe=Object(we.a)(me),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var Ne=Pe.value;Object(V.w)(J,Ne)}}catch(Ot){Oe.e(Ot)}finally{Oe.f()}typeof G=="number"&&Object(V.w)(J,G);for(var Fe=0;Q!==0&&Fe<J.length;Fe++){var Xe=this.viewItems[J[Fe]],Et=Object(N.c)(Xe.size+Q,Xe.minimumSize,Xe.maximumSize),Ft=Et-Xe.size;Q-=Ft,Xe.size=Et}}},{key:"layoutViews",value:function(){this.contentSize=this.viewItems.reduce(function(J,me){return J+me.size},0);var G=0,re=Object(we.a)(this.viewItems),ae;try{for(re.s();!(ae=re.n()).done;){var Q=ae.value;Q.layout(G,this.layoutContext),G+=Q.size}}catch(J){re.e(J)}finally{re.f()}this.sashItems.forEach(function(J){return J.sash.layout()}),this.updateSashEnablement(),this.updateScrollableElement()}},{key:"updateScrollableElement",value:function(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}},{key:"updateSashEnablement",value:function(){var G=!1,re=this.viewItems.map(function(pt){return G=pt.size-pt.minimumSize>0||G});G=!1;var ae=this.viewItems.map(function(pt){return G=pt.maximumSize-pt.size>0||G}),Q=Object(ce.a)(this.viewItems).reverse();G=!1;var J=Q.map(function(pt){return G=pt.size-pt.minimumSize>0||G}).reverse();G=!1;for(var me=Q.map(function(pt){return G=pt.maximumSize-pt.size>0||G}).reverse(),ge=0,L=0;L<this.sashItems.length;L++){var De=this.sashItems[L].sash,Ae=this.viewItems[L];ge+=Ae.size;var Oe=!(re[L]&&me[L+1]),Pe=!(ae[L]&&J[L+1]);if(Oe&&Pe){var Ne=Object(V.z)(L,-1),Fe=Object(V.z)(L+1,this.viewItems.length),Xe=this.findFirstSnapIndex(Ne),Et=this.findFirstSnapIndex(Fe),Ft=typeof Xe=="number"&&!this.viewItems[Xe].visible,Ot=typeof Et=="number"&&!this.viewItems[Et].visible;Ft&&J[L]&&(ge>0||this.startSnappingEnabled)?De.state=1:Ot&&re[L]&&(ge<this.contentSize||this.endSnappingEnabled)?De.state=2:De.state=0}else Oe&&!Pe?De.state=1:!Oe&&Pe?De.state=2:De.state=3}}},{key:"getSashPosition",value:function(G){for(var re=0,ae=0;ae<this.sashItems.length;ae++)if(re+=this.viewItems[ae].size,this.sashItems[ae].sash===G)return re;return 0}},{key:"findFirstSnapIndex",value:function(G){var re=Object(we.a)(G),ae;try{for(re.s();!(ae=re.n()).done;){var Q=ae.value,J=this.viewItems[Q];if(!!J.visible&&J.snap)return Q}}catch(Ae){re.e(Ae)}finally{re.f()}var me=Object(we.a)(G),ge;try{for(me.s();!(ge=me.n()).done;){var L=ge.value,De=this.viewItems[L];if(De.visible&&De.maximumSize-De.minimumSize>0)return;if(!De.visible&&De.snap)return L}}catch(Ae){me.e(Ae)}finally{me.f()}}},{key:"dispose",value:function(){var G;(G=this.sashDragState)===null||G===void 0||G.disposable.dispose(),Object(W.i)(this.viewItems),this.viewItems=[],this.sashItems.forEach(function(re){return re.disposable.dispose()}),this.sashItems=[],Object(w.a)(Object(ve.a)(A.prototype),"dispose",this).call(this)}}]),A}(W.a)},"49sm":function(mn,U){var a={}.toString;mn.exports=Array.isArray||function(ce){return a.call(ce)=="[object Array]"}},"4rho":function(mn,U,a){},"4y0V":function(mn,U,a){"use strict";a.d(U,"a",function(){return ve});var ce=a("fWQN"),we=a("mtLc"),w=a("MI8n"),ve=function(){function se(te,$,_){var Y=this;Object(ce.a)(this,se);var E=function(ne){return Y.emitter.fire(ne)};this.emitter=new w.b({onWillAddFirstListener:function(){return te.addEventListener($,E,_)},onDidRemoveLastListener:function(){return te.removeEventListener($,E,_)}})}return Object(we.a)(se,[{key:"event",get:function(){return this.emitter.event}},{key:"dispose",value:function(){this.emitter.dispose()}}]),se}()},"51B1":function(mn,U,a){},"51su":function(mn,U,a){"use strict";a.d(U,"a",function(){return w});var ce=a("8LL/"),we=a.n(ce),w="monaco-mouse-cursor-text"},"5IQS":function(mn,U,a){"use strict";a.d(U,"d",function(){return Z}),a.d(U,"c",function(){return ne}),a.d(U,"e",function(){return d}),a.d(U,"a",function(){return D}),a.d(U,"b",function(){return C});var ce=a("oBTY"),we=a("yKVA"),w=a("879j"),ve=a("fWQN"),se=a("mtLc"),te=a("/cxE"),$=a("JLfW"),_=a("pvvD"),Y=a("lwGy"),E=function(){function x(O){Object(ve.a)(this,x),this._length=O}return Object(se.a)(x,[{key:"length",get:function(){return this._length}}]),x}(),Z=function(x){Object(we.a)(T,x);var O=Object(w.a)(T);function T(z,I,de,pe,fe){var ke;return Object(ve.a)(this,T),ke=O.call(this,z),ke.openingBracket=I,ke.child=de,ke.closingBracket=pe,ke.missingOpeningBracketIds=fe,ke}return Object(se.a)(T,[{key:"kind",get:function(){return 2}},{key:"listHeight",get:function(){return 0}},{key:"childrenLength",get:function(){return 3}},{key:"getChild",value:function(I){switch(I){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}},{key:"children",get:function(){var I=[];return I.push(this.openingBracket),this.child&&I.push(this.child),this.closingBracket&&I.push(this.closingBracket),I}},{key:"canBeReused",value:function(I){return!(this.closingBracket===null||I.intersects(this.missingOpeningBracketIds))}},{key:"deepClone",value:function(){return new T(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}},{key:"computeMinIndentation",value:function(I,de){return this.child?this.child.computeMinIndentation(Object(_.a)(I,this.openingBracket.length),de):Number.MAX_SAFE_INTEGER}}],[{key:"create",value:function(I,de,pe){var fe=I.length;return de&&(fe=Object(_.a)(fe,de.length)),pe&&(fe=Object(_.a)(fe,pe.length)),new T(fe,I,de,pe,de?de.missingOpeningBracketIds:Y.b.getEmpty())}}]),T}(E),ne=function(x){Object(we.a)(T,x);var O=Object(w.a)(T);function T(z,I,de){var pe;return Object(ve.a)(this,T),pe=O.call(this,z),pe.listHeight=I,pe._missingOpeningBracketIds=de,pe.cachedMinIndentation=-1,pe}return Object(se.a)(T,[{key:"kind",get:function(){return 4}},{key:"missingOpeningBracketIds",get:function(){return this._missingOpeningBracketIds}},{key:"throwIfImmutable",value:function(){}},{key:"makeLastElementMutable",value:function(){this.throwIfImmutable();var I=this.childrenLength;if(I!==0){var de=this.getChild(I-1),pe=de.kind===4?de.toMutable():de;return de!==pe&&this.setChild(I-1,pe),pe}}},{key:"makeFirstElementMutable",value:function(){this.throwIfImmutable();var I=this.childrenLength;if(I!==0){var de=this.getChild(0),pe=de.kind===4?de.toMutable():de;return de!==pe&&this.setChild(0,pe),pe}}},{key:"canBeReused",value:function(I){if(I.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;for(var de=this;de.kind===4;){var pe=de.childrenLength;if(pe===0)throw new te.a;de=de.getChild(pe-1)}return de.canBeReused(I)}},{key:"handleChildrenChanged",value:function(){this.throwIfImmutable();for(var I=this.childrenLength,de=this.getChild(0).length,pe=this.getChild(0).missingOpeningBracketIds,fe=1;fe<I;fe++){var ke=this.getChild(fe);de=Object(_.a)(de,ke.length),pe=pe.merge(ke.missingOpeningBracketIds)}this._length=de,this._missingOpeningBracketIds=pe,this.cachedMinIndentation=-1}},{key:"computeMinIndentation",value:function(I,de){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;for(var pe=Number.MAX_SAFE_INTEGER,fe=I,ke=0;ke<this.childrenLength;ke++){var A=this.getChild(ke);A&&(pe=Math.min(pe,A.computeMinIndentation(fe,de)),fe=Object(_.a)(fe,A.length))}return this.cachedMinIndentation=pe,pe}}],[{key:"create23",value:function(I,de,pe){var fe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,ke=I.length,A=I.missingOpeningBracketIds;if(I.listHeight!==de.listHeight)throw new Error("Invalid list heights");if(ke=Object(_.a)(ke,de.length),A=A.merge(de.missingOpeningBracketIds),pe){if(I.listHeight!==pe.listHeight)throw new Error("Invalid list heights");ke=Object(_.a)(ke,pe.length),A=A.merge(pe.missingOpeningBracketIds)}return fe?new B(ke,I.listHeight+1,I,de,pe,A):new V(ke,I.listHeight+1,I,de,pe,A)}},{key:"getEmpty",value:function(){return new W(_.m,0,[],Y.b.getEmpty())}}]),T}(E),V=function(x){Object(we.a)(T,x);var O=Object(w.a)(T);function T(z,I,de,pe,fe,ke){var A;return Object(ve.a)(this,T),A=O.call(this,z,I,ke),A._item1=de,A._item2=pe,A._item3=fe,A}return Object(se.a)(T,[{key:"childrenLength",get:function(){return this._item3!==null?3:2}},{key:"getChild",value:function(I){switch(I){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}},{key:"setChild",value:function(I,de){switch(I){case 0:this._item1=de;return;case 1:this._item2=de;return;case 2:this._item3=de;return}throw new Error("Invalid child index")}},{key:"children",get:function(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}},{key:"item1",get:function(){return this._item1}},{key:"item2",get:function(){return this._item2}},{key:"item3",get:function(){return this._item3}},{key:"deepClone",value:function(){return new T(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}},{key:"appendChildOfSameHeight",value:function(I){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=I,this.handleChildrenChanged()}},{key:"unappendChild",value:function(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var I=this._item3;return this._item3=null,this.handleChildrenChanged(),I}},{key:"prependChildOfSameHeight",value:function(I){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=I,this.handleChildrenChanged()}},{key:"unprependChild",value:function(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var I=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),I}},{key:"toMutable",value:function(){return this}}]),T}(ne),B=function(x){Object(we.a)(T,x);var O=Object(w.a)(T);function T(){return Object(ve.a)(this,T),O.apply(this,arguments)}return Object(se.a)(T,[{key:"toMutable",value:function(){return new V(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}},{key:"throwIfImmutable",value:function(){throw new Error("this instance is immutable")}}]),T}(V),F=function(x){Object(we.a)(T,x);var O=Object(w.a)(T);function T(z,I,de,pe){var fe;return Object(ve.a)(this,T),fe=O.call(this,z,I,pe),fe._children=de,fe}return Object(se.a)(T,[{key:"childrenLength",get:function(){return this._children.length}},{key:"getChild",value:function(I){return this._children[I]}},{key:"setChild",value:function(I,de){this._children[I]=de}},{key:"children",get:function(){return this._children}},{key:"deepClone",value:function(){for(var I=new Array(this._children.length),de=0;de<this._children.length;de++)I[de]=this._children[de].deepClone();return new T(this.length,this.listHeight,I,this.missingOpeningBracketIds)}},{key:"appendChildOfSameHeight",value:function(I){this.throwIfImmutable(),this._children.push(I),this.handleChildrenChanged()}},{key:"unappendChild",value:function(){this.throwIfImmutable();var I=this._children.pop();return this.handleChildrenChanged(),I}},{key:"prependChildOfSameHeight",value:function(I){this.throwIfImmutable(),this._children.unshift(I),this.handleChildrenChanged()}},{key:"unprependChild",value:function(){this.throwIfImmutable();var I=this._children.shift();return this.handleChildrenChanged(),I}},{key:"toMutable",value:function(){return this}}]),T}(ne),W=function(x){Object(we.a)(T,x);var O=Object(w.a)(T);function T(){return Object(ve.a)(this,T),O.apply(this,arguments)}return Object(se.a)(T,[{key:"toMutable",value:function(){return new F(this.length,this.listHeight,Object(ce.a)(this.children),this.missingOpeningBracketIds)}},{key:"throwIfImmutable",value:function(){throw new Error("this instance is immutable")}}]),T}(F),N=[],H=function(x){Object(we.a)(T,x);var O=Object(w.a)(T);function T(){return Object(ve.a)(this,T),O.apply(this,arguments)}return Object(se.a)(T,[{key:"listHeight",get:function(){return 0}},{key:"childrenLength",get:function(){return 0}},{key:"getChild",value:function(I){return null}},{key:"children",get:function(){return N}},{key:"deepClone",value:function(){return this}}]),T}(E),d=function(x){Object(we.a)(T,x);var O=Object(w.a)(T);function T(){return Object(ve.a)(this,T),O.apply(this,arguments)}return Object(se.a)(T,[{key:"kind",get:function(){return 0}},{key:"missingOpeningBracketIds",get:function(){return Y.b.getEmpty()}},{key:"canBeReused",value:function(I){return!0}},{key:"computeMinIndentation",value:function(I,de){for(var pe=Object(_.l)(I),fe=(pe.columnCount===0?pe.lineCount:pe.lineCount+1)+1,ke=Object(_.f)(Object(_.a)(I,this.length))+1,A=Number.MAX_SAFE_INTEGER,P=fe;P<=ke;P++){var G=de.getLineFirstNonWhitespaceColumn(P),re=de.getLineContent(P);if(G!==0){var ae=$.a.visibleColumnFromColumn(re,G,de.getOptions().tabSize);A=Math.min(A,ae)}}return A}}]),T}(H),D=function(x){Object(we.a)(T,x);var O=Object(w.a)(T);function T(z,I,de){var pe;return Object(ve.a)(this,T),pe=O.call(this,z),pe.bracketInfo=I,pe.bracketIds=de,pe}return Object(se.a)(T,[{key:"kind",get:function(){return 1}},{key:"missingOpeningBracketIds",get:function(){return Y.b.getEmpty()}},{key:"text",get:function(){return this.bracketInfo.bracketText}},{key:"languageId",get:function(){return this.bracketInfo.languageId}},{key:"canBeReused",value:function(I){return!1}},{key:"computeMinIndentation",value:function(I,de){return Number.MAX_SAFE_INTEGER}}],[{key:"create",value:function(I,de,pe){var fe=new T(I,de,pe);return fe}}]),T}(H),C=function(x){Object(we.a)(T,x);var O=Object(w.a)(T);function T(z,I){var de;return Object(ve.a)(this,T),de=O.call(this,I),de.missingOpeningBracketIds=z,de}return Object(se.a)(T,[{key:"kind",get:function(){return 3}},{key:"canBeReused",value:function(I){return!I.intersects(this.missingOpeningBracketIds)}},{key:"computeMinIndentation",value:function(I,de){return Number.MAX_SAFE_INTEGER}}]),T}(H)},"5TxY":function(mn,U,a){"use strict";a.d(U,"d",function(){return D}),a.d(U,"a",function(){return C}),a.d(U,"b",function(){return x}),a.d(U,"c",function(){return T}),a.d(U,"e",function(){return I});var ce=a("tJVT"),we=a("w4Tj"),w=a("oZsa"),ve=a("yKVA"),se=a("879j"),te=a("fWQN"),$=a("mtLc"),_=a("D3Dy"),Y=a("EffR"),E=a("4y0V"),Z=a("uDWl"),ne=a("W7of"),V=a("X+cX"),B=a("MI8n"),F=a("pmY6"),W=a("ubTv"),N=a("N0LK"),H=a("Comh"),d=a("gCVg"),D;(function(de){de.Tap="-monaco-textarea-synthetic-tap"})(D||(D={}));var C={forceCopyWithSyntaxHighlighting:!1},x=function(){function de(){Object(te.a)(this,de),this._lastState=null}return Object($.a)(de,[{key:"set",value:function(fe,ke){this._lastState={lastCopiedValue:fe,data:ke}}},{key:"get",value:function(fe){return this._lastState&&this._lastState.lastCopiedValue===fe?this._lastState.data:(this._lastState=null,null)}}]),de}();x.INSTANCE=new x;var O=function(){function de(){Object(te.a)(this,de),this._lastTypeTextLength=0}return Object($.a)(de,[{key:"handleCompositionUpdate",value:function(fe){fe=fe||"";var ke={text:fe,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=fe.length,ke}}]),de}(),T=function(de){Object(ve.a)(fe,de);var pe=Object(se.a)(fe);function fe(ke,A,P,G){var re;Object(te.a)(this,fe),re=pe.call(this),re._host=ke,re._textArea=A,re._OS=P,re._browser=G,re._onFocus=re._register(new B.b),re.onFocus=re._onFocus.event,re._onBlur=re._register(new B.b),re.onBlur=re._onBlur.event,re._onKeyDown=re._register(new B.b),re.onKeyDown=re._onKeyDown.event,re._onKeyUp=re._register(new B.b),re.onKeyUp=re._onKeyUp.event,re._onCut=re._register(new B.b),re.onCut=re._onCut.event,re._onPaste=re._register(new B.b),re.onPaste=re._onPaste.event,re._onType=re._register(new B.b),re.onType=re._onType.event,re._onCompositionStart=re._register(new B.b),re.onCompositionStart=re._onCompositionStart.event,re._onCompositionUpdate=re._register(new B.b),re.onCompositionUpdate=re._onCompositionUpdate.event,re._onCompositionEnd=re._register(new B.b),re.onCompositionEnd=re._onCompositionEnd.event,re._onSelectionChangeRequest=re._register(new B.b),re.onSelectionChangeRequest=re._onSelectionChangeRequest.event,re._asyncTriggerCut=re._register(new V.g(function(){return re._onCut.fire()},0)),re._asyncFocusGainWriteScreenReaderContent=re._register(new V.g(function(){return re.writeScreenReaderContent("asyncFocusGain")},0)),re._textAreaState=H.b.EMPTY,re._selectionChangeListener=null,re.writeScreenReaderContent("ctor"),re._hasFocus=!1,re._currentComposition=null;var ae=null;return re._register(re._textArea.onKeyDown(function(Q){var J=new Z.a(Q);(J.keyCode===114||re._currentComposition&&J.keyCode===1)&&J.stopPropagation(),J.equals(9)&&J.preventDefault(),ae=J,re._onKeyDown.fire(J)})),re._register(re._textArea.onKeyUp(function(Q){var J=new Z.a(Q);re._onKeyUp.fire(J)})),re._register(re._textArea.onCompositionStart(function(Q){H.c&&console.log("[compositionstart]",Q);var J=new O;if(re._currentComposition){re._currentComposition=J;return}if(re._currentComposition=J,re._OS===2&&ae&&ae.equals(114)&&re._textAreaState.selectionStart===re._textAreaState.selectionEnd&&re._textAreaState.selectionStart>0&&re._textAreaState.value.substr(re._textAreaState.selectionStart-1,1)===Q.data&&(ae.code==="ArrowRight"||ae.code==="ArrowLeft")){H.c&&console.log("[compositionstart] Handling long press case on macOS + arrow key",Q),J.handleCompositionUpdate("x"),re._onCompositionStart.fire({data:Q.data});return}if(re._browser.isAndroid){re._onCompositionStart.fire({data:Q.data});return}re._onCompositionStart.fire({data:Q.data})})),re._register(re._textArea.onCompositionUpdate(function(Q){H.c&&console.log("[compositionupdate]",Q);var J=re._currentComposition;if(!!J){if(re._browser.isAndroid){var me=H.b.readFromTextArea(re._textArea,re._textAreaState),ge=H.b.deduceAndroidCompositionInput(re._textAreaState,me);re._textAreaState=me,re._onType.fire(ge),re._onCompositionUpdate.fire(Q);return}var L=J.handleCompositionUpdate(Q.data);re._textAreaState=H.b.readFromTextArea(re._textArea,re._textAreaState),re._onType.fire(L),re._onCompositionUpdate.fire(Q)}})),re._register(re._textArea.onCompositionEnd(function(Q){H.c&&console.log("[compositionend]",Q);var J=re._currentComposition;if(!!J){if(re._currentComposition=null,re._browser.isAndroid){var me=H.b.readFromTextArea(re._textArea,re._textAreaState),ge=H.b.deduceAndroidCompositionInput(re._textAreaState,me);re._textAreaState=me,re._onType.fire(ge),re._onCompositionEnd.fire();return}var L=J.handleCompositionUpdate(Q.data);re._textAreaState=H.b.readFromTextArea(re._textArea,re._textAreaState),re._onType.fire(L),re._onCompositionEnd.fire()}})),re._register(re._textArea.onInput(function(Q){if(H.c&&console.log("[input]",Q),re._textArea.setIgnoreSelectionChangeTime("received input event"),!re._currentComposition){var J=H.b.readFromTextArea(re._textArea,re._textAreaState),me=H.b.deduceInput(re._textAreaState,J,re._OS===2);me.replacePrevCharCnt===0&&me.text.length===1&&(N.F(me.text.charCodeAt(0))||me.text.charCodeAt(0)===127)||(re._textAreaState=J,(me.text!==""||me.replacePrevCharCnt!==0||me.replaceNextCharCnt!==0||me.positionDelta!==0)&&re._onType.fire(me))}})),re._register(re._textArea.onCut(function(Q){re._textArea.setIgnoreSelectionChangeTime("received cut event"),re._ensureClipboardGetsEditorSelection(Q),re._asyncTriggerCut.schedule()})),re._register(re._textArea.onCopy(function(Q){re._ensureClipboardGetsEditorSelection(Q)})),re._register(re._textArea.onPaste(function(Q){if(re._textArea.setIgnoreSelectionChangeTime("received paste event"),Q.preventDefault(),!!Q.clipboardData){var J=z.getTextData(Q.clipboardData),me=Object(ce.a)(J,2),ge=me[0],L=me[1];!ge||(L=L||x.INSTANCE.get(ge),re._onPaste.fire({text:ge,metadata:L}))}})),re._register(re._textArea.onFocus(function(){var Q=re._hasFocus;re._setHasFocus(!0),re._browser.isSafari&&!Q&&re._hasFocus&&re._asyncFocusGainWriteScreenReaderContent.schedule()})),re._register(re._textArea.onBlur(function(){re._currentComposition&&(re._currentComposition=null,re.writeScreenReaderContent("blurWithoutCompositionEnd"),re._onCompositionEnd.fire()),re._setHasFocus(!1)})),re._register(re._textArea.onSyntheticTap(function(){re._browser.isAndroid&&re._currentComposition&&(re._currentComposition=null,re.writeScreenReaderContent("tapWithoutCompositionEnd"),re._onCompositionEnd.fire())})),re}return Object($.a)(fe,[{key:"textAreaState",get:function(){return this._textAreaState}},{key:"_installSelectionChangeListener",value:function(){var A=this,P=0;return Y.addDisposableListener(document,"selectionchange",function(G){if(ne.a.onSelectionChange(),!!A._hasFocus&&!A._currentComposition&&!!A._browser.isChrome){var re=Date.now(),ae=re-P;if(P=re,!(ae<5)){var Q=re-A._textArea.getIgnoreSelectionChangeTime();if(A._textArea.resetSelectionChangeTime(),!(Q<100)&&!!A._textAreaState.selection){var J=A._textArea.getValue();if(A._textAreaState.value===J){var me=A._textArea.getSelectionStart(),ge=A._textArea.getSelectionEnd();if(!(A._textAreaState.selectionStart===me&&A._textAreaState.selectionEnd===ge)){var L=A._textAreaState.deduceEditorPosition(me),De=A._host.deduceModelPosition(L[0],L[1],L[2]),Ae=A._textAreaState.deduceEditorPosition(ge),Oe=A._host.deduceModelPosition(Ae[0],Ae[1],Ae[2]),Pe=new d.a(De.lineNumber,De.column,Oe.lineNumber,Oe.column);A._onSelectionChangeRequest.fire(Pe)}}}}}})}},{key:"dispose",value:function(){Object(we.a)(Object(w.a)(fe.prototype),"dispose",this).call(this),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}},{key:"focusTextArea",value:function(){this._setHasFocus(!0),this.refreshFocusState()}},{key:"isFocused",value:function(){return this._hasFocus}},{key:"refreshFocusState",value:function(){this._setHasFocus(this._textArea.hasFocus())}},{key:"_setHasFocus",value:function(A){this._hasFocus!==A&&(this._hasFocus=A,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}},{key:"_setAndWriteTextAreaState",value:function(A,P){this._hasFocus||(P=P.collapseSelection()),P.writeToTextArea(A,this._textArea,this._hasFocus),this._textAreaState=P}},{key:"writeScreenReaderContent",value:function(A){this._currentComposition||this._setAndWriteTextAreaState(A,this._host.getScreenReaderContent())}},{key:"_ensureClipboardGetsEditorSelection",value:function(A){var P=this._host.getDataToCopy(),G={version:1,isFromEmptySelection:P.isFromEmptySelection,multicursorText:P.multicursorText,mode:P.mode};x.INSTANCE.set(this._browser.isFirefox?P.text.replace(/\r\n/g,`
`):P.text,G),A.preventDefault(),A.clipboardData&&z.setTextData(A.clipboardData,P.text,P.html,G)}}]),fe}(F.a),z=function(){function de(){Object(te.a)(this,de)}return Object($.a)(de,null,[{key:"getTextData",value:function(fe){var ke=fe.getData(W.a.text),A=null,P=fe.getData("vscode-editor-data");if(typeof P=="string")try{A=JSON.parse(P),A.version!==1&&(A=null)}catch(re){}if(ke.length===0&&A===null&&fe.files.length>0){var G=Array.prototype.slice.call(fe.files,0);return[G.map(function(re){return re.name}).join(`
`),null]}return[ke,A]}},{key:"setTextData",value:function(fe,ke,A,P){fe.setData(W.a.text,ke),typeof A=="string"&&fe.setData("text/html",A),fe.setData("vscode-editor-data",JSON.stringify(P))}}]),de}(),I=function(de){Object(ve.a)(fe,de);var pe=Object(se.a)(fe);function fe(ke){var A;return Object(te.a)(this,fe),A=pe.call(this),A._actual=ke,A.onKeyDown=A._register(new E.a(A._actual,"keydown")).event,A.onKeyUp=A._register(new E.a(A._actual,"keyup")).event,A.onCompositionStart=A._register(new E.a(A._actual,"compositionstart")).event,A.onCompositionUpdate=A._register(new E.a(A._actual,"compositionupdate")).event,A.onCompositionEnd=A._register(new E.a(A._actual,"compositionend")).event,A.onBeforeInput=A._register(new E.a(A._actual,"beforeinput")).event,A.onInput=A._register(new E.a(A._actual,"input")).event,A.onCut=A._register(new E.a(A._actual,"cut")).event,A.onCopy=A._register(new E.a(A._actual,"copy")).event,A.onPaste=A._register(new E.a(A._actual,"paste")).event,A.onFocus=A._register(new E.a(A._actual,"focus")).event,A.onBlur=A._register(new E.a(A._actual,"blur")).event,A._onSyntheticTap=A._register(new B.b),A.onSyntheticTap=A._onSyntheticTap.event,A._ignoreSelectionChangeTime=0,A._register(A.onKeyDown(function(){return ne.a.onKeyDown()})),A._register(A.onBeforeInput(function(){return ne.a.onBeforeInput()})),A._register(A.onInput(function(){return ne.a.onInput()})),A._register(A.onKeyUp(function(){return ne.a.onKeyUp()})),A._register(Y.addDisposableListener(A._actual,D.Tap,function(){return A._onSyntheticTap.fire()})),A}return Object($.a)(fe,[{key:"hasFocus",value:function(){var A=Y.getShadowRoot(this._actual);return A?A.activeElement===this._actual:Y.isInDOM(this._actual)?document.activeElement===this._actual:!1}},{key:"setIgnoreSelectionChangeTime",value:function(A){this._ignoreSelectionChangeTime=Date.now()}},{key:"getIgnoreSelectionChangeTime",value:function(){return this._ignoreSelectionChangeTime}},{key:"resetSelectionChangeTime",value:function(){this._ignoreSelectionChangeTime=0}},{key:"getValue",value:function(){return this._actual.value}},{key:"setValue",value:function(A,P){var G=this._actual;G.value!==P&&(this.setIgnoreSelectionChangeTime("setValue"),G.value=P)}},{key:"getSelectionStart",value:function(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}},{key:"getSelectionEnd",value:function(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}},{key:"setSelectionRange",value:function(A,P,G){var re=this._actual,ae=null,Q=Y.getShadowRoot(re);Q?ae=Q.activeElement:ae=document.activeElement;var J=ae===re,me=re.selectionStart,ge=re.selectionEnd;if(J&&me===P&&ge===G){_.isFirefox&&window.parent!==window&&re.focus();return}if(J){this.setIgnoreSelectionChangeTime("setSelectionRange"),re.setSelectionRange(P,G),_.isFirefox&&window.parent!==window&&re.focus();return}try{var L=Y.saveParentsScrollTop(re);this.setIgnoreSelectionChangeTime("setSelectionRange"),re.focus(),re.setSelectionRange(P,G),Y.restoreParentsScrollTop(re,L)}catch(De){}}}]),fe}(F.a)},"5Y4S":function(mn,U,a){"use strict";a.d(U,"a",function(){return se});var ce=a("fWQN"),we=a("mtLc"),w=a("MNsG"),ve=w.b.performance&&typeof w.b.performance.now=="function",se=function(){function te($){Object(ce.a)(this,te),this._highResolution=ve&&$,this._startTime=this._now(),this._stopTime=-1}return Object(we.a)(te,[{key:"stop",value:function(){this._stopTime=this._now()}},{key:"elapsed",value:function(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}},{key:"_now",value:function(){return this._highResolution?w.b.performance.now():Date.now()}}],[{key:"create",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new te(_)}}]),te}()},"6BjD":function(mn,U,a){"use strict";a.d(U,"a",function(){return W});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("yKVA"),se=a("879j"),te=a("EffR"),$=a("bZhu"),_=a("0+8E"),Y=a("G300"),E=a("MI8n"),Z=a("yqFB"),ne=a.n(Z),V=a("3/fG"),B=a("pmY6"),F=V.b("defaultLabel","input"),W=function(N){Object(ve.a)(d,N);var H=Object(se.a)(d);function d(D,C,x){var O;Object(we.a)(this,d),O=H.call(this),O.fixFocusOnOptionClickEnabled=!0,O.imeSessionInProgress=!1,O.additionalTogglesDisposables=new B.c,O.additionalToggles=[],O._onDidOptionChange=O._register(new E.b),O.onDidOptionChange=O._onDidOptionChange.event,O._onKeyDown=O._register(new E.b),O.onKeyDown=O._onKeyDown.event,O._onMouseDown=O._register(new E.b),O.onMouseDown=O._onMouseDown.event,O._onInput=O._register(new E.b),O._onKeyUp=O._register(new E.b),O._onCaseSensitiveKeyDown=O._register(new E.b),O.onCaseSensitiveKeyDown=O._onCaseSensitiveKeyDown.event,O._onRegexKeyDown=O._register(new E.b),O.onRegexKeyDown=O._onRegexKeyDown.event,O._lastHighlightFindOptions=0,O.placeholder=x.placeholder||"",O.validation=x.validation,O.label=x.label||F,O.showCommonFindToggles=!!x.showCommonFindToggles;var T=x.appendCaseSensitiveLabel||"",z=x.appendWholeWordsLabel||"",I=x.appendRegexLabel||"",de=x.history||[],pe=!!x.flexibleHeight,fe=!!x.flexibleWidth,ke=x.flexibleMaxHeight;if(O.domNode=document.createElement("div"),O.domNode.classList.add("monaco-findInput"),O.inputBox=O._register(new _.a(O.domNode,C,{placeholder:O.placeholder||"",ariaLabel:O.label||"",validationOptions:{validation:O.validation},history:de,showHistoryHint:x.showHistoryHint,flexibleHeight:pe,flexibleWidth:fe,flexibleMaxHeight:ke,inputBoxStyles:x.inputBoxStyles})),O.showCommonFindToggles){O.regex=O._register(new $.b(Object.assign({appendTitle:I,isChecked:!1},x.toggleStyles))),O._register(O.regex.onChange(function(P){O._onDidOptionChange.fire(P),!P&&O.fixFocusOnOptionClickEnabled&&O.inputBox.focus(),O.validate()})),O._register(O.regex.onKeyDown(function(P){O._onRegexKeyDown.fire(P)})),O.wholeWords=O._register(new $.c(Object.assign({appendTitle:z,isChecked:!1},x.toggleStyles))),O._register(O.wholeWords.onChange(function(P){O._onDidOptionChange.fire(P),!P&&O.fixFocusOnOptionClickEnabled&&O.inputBox.focus(),O.validate()})),O.caseSensitive=O._register(new $.a(Object.assign({appendTitle:T,isChecked:!1},x.toggleStyles))),O._register(O.caseSensitive.onChange(function(P){O._onDidOptionChange.fire(P),!P&&O.fixFocusOnOptionClickEnabled&&O.inputBox.focus(),O.validate()})),O._register(O.caseSensitive.onKeyDown(function(P){O._onCaseSensitiveKeyDown.fire(P)}));var A=[O.caseSensitive.domNode,O.wholeWords.domNode,O.regex.domNode];O.onkeydown(O.domNode,function(P){if(P.equals(15)||P.equals(17)||P.equals(9)){var G=A.indexOf(document.activeElement);if(G>=0){var re=-1;P.equals(17)?re=(G+1)%A.length:P.equals(15)&&(G===0?re=A.length-1:re=G-1),P.equals(9)?(A[G].blur(),O.inputBox.focus()):re>=0&&A[re].focus(),te.EventHelper.stop(P,!0)}}})}return O.controls=document.createElement("div"),O.controls.className="controls",O.controls.style.display=O.showCommonFindToggles?"":"none",O.caseSensitive&&O.controls.append(O.caseSensitive.domNode),O.wholeWords&&O.controls.appendChild(O.wholeWords.domNode),O.regex&&O.controls.appendChild(O.regex.domNode),O.setAdditionalToggles(x==null?void 0:x.additionalToggles),O.controls&&O.domNode.appendChild(O.controls),D==null||D.appendChild(O.domNode),O._register(te.addDisposableListener(O.inputBox.inputElement,"compositionstart",function(P){O.imeSessionInProgress=!0})),O._register(te.addDisposableListener(O.inputBox.inputElement,"compositionend",function(P){O.imeSessionInProgress=!1,O._onInput.fire()})),O.onkeydown(O.inputBox.inputElement,function(P){return O._onKeyDown.fire(P)}),O.onkeyup(O.inputBox.inputElement,function(P){return O._onKeyUp.fire(P)}),O.oninput(O.inputBox.inputElement,function(P){return O._onInput.fire()}),O.onmousedown(O.inputBox.inputElement,function(P){return O._onMouseDown.fire(P)}),O}return Object(w.a)(d,[{key:"onDidChange",get:function(){return this.inputBox.onDidChange}},{key:"layout",value:function(C){this.inputBox.layout(),this.updateInputBoxPadding(C.collapsedFindWidget)}},{key:"enable",value:function(){var C,x,O;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(C=this.regex)===null||C===void 0||C.enable(),(x=this.wholeWords)===null||x===void 0||x.enable(),(O=this.caseSensitive)===null||O===void 0||O.enable();var T=Object(ce.a)(this.additionalToggles),z;try{for(T.s();!(z=T.n()).done;){var I=z.value;I.enable()}}catch(de){T.e(de)}finally{T.f()}}},{key:"disable",value:function(){var C,x,O;this.domNode.classList.add("disabled"),this.inputBox.disable(),(C=this.regex)===null||C===void 0||C.disable(),(x=this.wholeWords)===null||x===void 0||x.disable(),(O=this.caseSensitive)===null||O===void 0||O.disable();var T=Object(ce.a)(this.additionalToggles),z;try{for(T.s();!(z=T.n()).done;){var I=z.value;I.disable()}}catch(de){T.e(de)}finally{T.f()}}},{key:"setFocusInputOnOptionClick",value:function(C){this.fixFocusOnOptionClickEnabled=C}},{key:"setEnabled",value:function(C){C?this.enable():this.disable()}},{key:"setAdditionalToggles",value:function(C){var x=this,O=Object(ce.a)(this.additionalToggles),T;try{for(O.s();!(T=O.n()).done;){var z=T.value;z.domNode.remove()}}catch(fe){O.e(fe)}finally{O.f()}this.additionalToggles=[],this.additionalTogglesDisposables.dispose(),this.additionalTogglesDisposables=new B.c;var I=Object(ce.a)(C!=null?C:[]),de;try{for(I.s();!(de=I.n()).done;){var pe=de.value;this.additionalTogglesDisposables.add(pe),this.controls.appendChild(pe.domNode),this.additionalTogglesDisposables.add(pe.onChange(function(fe){x._onDidOptionChange.fire(fe),!fe&&x.fixFocusOnOptionClickEnabled&&x.inputBox.focus()})),this.additionalToggles.push(pe)}}catch(fe){I.e(fe)}finally{I.f()}this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}},{key:"updateInputBoxPadding",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,x,O,T,z,I,de;C?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((O=(x=this.caseSensitive)===null||x===void 0?void 0:x.width())!==null&&O!==void 0?O:0)+((z=(T=this.wholeWords)===null||T===void 0?void 0:T.width())!==null&&z!==void 0?z:0)+((de=(I=this.regex)===null||I===void 0?void 0:I.width())!==null&&de!==void 0?de:0)+this.additionalToggles.reduce(function(pe,fe){return pe+fe.width()},0)}},{key:"getValue",value:function(){return this.inputBox.value}},{key:"setValue",value:function(C){this.inputBox.value!==C&&(this.inputBox.value=C)}},{key:"select",value:function(){this.inputBox.select()}},{key:"focus",value:function(){this.inputBox.focus()}},{key:"getCaseSensitive",value:function(){var C,x;return(x=(C=this.caseSensitive)===null||C===void 0?void 0:C.checked)!==null&&x!==void 0?x:!1}},{key:"setCaseSensitive",value:function(C){this.caseSensitive&&(this.caseSensitive.checked=C)}},{key:"getWholeWords",value:function(){var C,x;return(x=(C=this.wholeWords)===null||C===void 0?void 0:C.checked)!==null&&x!==void 0?x:!1}},{key:"setWholeWords",value:function(C){this.wholeWords&&(this.wholeWords.checked=C)}},{key:"getRegex",value:function(){var C,x;return(x=(C=this.regex)===null||C===void 0?void 0:C.checked)!==null&&x!==void 0?x:!1}},{key:"setRegex",value:function(C){this.regex&&(this.regex.checked=C,this.validate())}},{key:"focusOnCaseSensitive",value:function(){var C;(C=this.caseSensitive)===null||C===void 0||C.focus()}},{key:"highlightFindOptions",value:function(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}},{key:"validate",value:function(){this.inputBox.validate()}},{key:"showMessage",value:function(C){this.inputBox.showMessage(C)}},{key:"clearMessage",value:function(){this.inputBox.hideMessage()}}]),d}(Y.a)},"6FFW":function(mn,U,a){"use strict";a.d(U,"a",function(){return Z}),a.d(U,"b",function(){return ne});var ce=a("yKVA"),we=a("879j"),w=a("fWQN"),ve=a("mtLc"),se=a("N0LK"),te=a("LLum"),$=a("jtXd"),_=a("Vk6M"),Y=a("cGHE"),E=a("aokT"),Z=function(){function B(){Object(w.a)(this,B)}return Object(ve.a)(B,null,[{key:"_createWord",value:function(W,N,H,d,D){return{start:d,end:D,wordType:N,nextCharClass:H}}},{key:"_findPreviousWordOnLine",value:function(W,N,H){var d=N.getLineContent(H.lineNumber);return this._doFindPreviousWordOnLine(d,W,H)}},{key:"_doFindPreviousWordOnLine",value:function(W,N,H){for(var d=0,D=H.column-2;D>=0;D--){var C=W.charCodeAt(D),x=N.get(C);if(x===0){if(d===2)return this._createWord(W,d,x,D+1,this._findEndOfWord(W,N,d,D+1));d=1}else if(x===2){if(d===1)return this._createWord(W,d,x,D+1,this._findEndOfWord(W,N,d,D+1));d=2}else if(x===1&&d!==0)return this._createWord(W,d,x,D+1,this._findEndOfWord(W,N,d,D+1))}return d!==0?this._createWord(W,d,1,0,this._findEndOfWord(W,N,d,0)):null}},{key:"_findEndOfWord",value:function(W,N,H,d){for(var D=W.length,C=d;C<D;C++){var x=W.charCodeAt(C),O=N.get(x);if(O===1||H===1&&O===2||H===2&&O===0)return C}return D}},{key:"_findNextWordOnLine",value:function(W,N,H){var d=N.getLineContent(H.lineNumber);return this._doFindNextWordOnLine(d,W,H)}},{key:"_doFindNextWordOnLine",value:function(W,N,H){for(var d=0,D=W.length,C=H.column-1;C<D;C++){var x=W.charCodeAt(C),O=N.get(x);if(O===0){if(d===2)return this._createWord(W,d,O,this._findStartOfWord(W,N,d,C-1),C);d=1}else if(O===2){if(d===1)return this._createWord(W,d,O,this._findStartOfWord(W,N,d,C-1),C);d=2}else if(O===1&&d!==0)return this._createWord(W,d,O,this._findStartOfWord(W,N,d,C-1),C)}return d!==0?this._createWord(W,d,1,this._findStartOfWord(W,N,d,D-1),D):null}},{key:"_findStartOfWord",value:function(W,N,H,d){for(var D=d;D>=0;D--){var C=W.charCodeAt(D),x=N.get(C);if(x===1||H===1&&x===2||H===2&&x===0)return D+1}return 0}},{key:"moveWordLeft",value:function(W,N,H,d){var D=H.lineNumber,C=H.column;C===1&&D>1&&(D=D-1,C=N.getLineMaxColumn(D));var x=B._findPreviousWordOnLine(W,N,new Y.a(D,C));if(d===0)return new Y.a(D,x?x.start+1:1);if(d===1)return x&&x.wordType===2&&x.end-x.start==1&&x.nextCharClass===0&&(x=B._findPreviousWordOnLine(W,N,new Y.a(D,x.start+1))),new Y.a(D,x?x.start+1:1);if(d===3){for(;x&&x.wordType===2;)x=B._findPreviousWordOnLine(W,N,new Y.a(D,x.start+1));return new Y.a(D,x?x.start+1:1)}return x&&C<=x.end+1&&(x=B._findPreviousWordOnLine(W,N,new Y.a(D,x.start+1))),new Y.a(D,x?x.end+1:1)}},{key:"_moveWordPartLeft",value:function(W,N){var H=N.lineNumber,d=W.getLineMaxColumn(H);if(N.column===1)return H>1?new Y.a(H-1,W.getLineMaxColumn(H-1)):N;for(var D=W.getLineContent(H),C=N.column-1;C>1;C--){var x=D.charCodeAt(C-2),O=D.charCodeAt(C-1);if(x===95&&O!==95)return new Y.a(H,C);if(x===45&&O!==45)return new Y.a(H,C);if((se.H(x)||se.A(x))&&se.I(O))return new Y.a(H,C);if(se.I(x)&&se.I(O)&&C+1<d){var T=D.charCodeAt(C);if(se.H(T)||se.A(T))return new Y.a(H,C)}}return new Y.a(H,1)}},{key:"moveWordRight",value:function(W,N,H,d){var D=H.lineNumber,C=H.column,x=!1;C===N.getLineMaxColumn(D)&&D<N.getLineCount()&&(x=!0,D=D+1,C=1);var O=B._findNextWordOnLine(W,N,new Y.a(D,C));if(d===2)O&&O.wordType===2&&O.end-O.start==1&&O.nextCharClass===0&&(O=B._findNextWordOnLine(W,N,new Y.a(D,O.end+1))),O?C=O.end+1:C=N.getLineMaxColumn(D);else if(d===3){for(x&&(C=0);O&&(O.wordType===2||O.start+1<=C);)O=B._findNextWordOnLine(W,N,new Y.a(D,O.end+1));O?C=O.start+1:C=N.getLineMaxColumn(D)}else O&&!x&&C>=O.start+1&&(O=B._findNextWordOnLine(W,N,new Y.a(D,O.end+1))),O?C=O.start+1:C=N.getLineMaxColumn(D);return new Y.a(D,C)}},{key:"_moveWordPartRight",value:function(W,N){var H=N.lineNumber,d=W.getLineMaxColumn(H);if(N.column===d)return H<W.getLineCount()?new Y.a(H+1,1):N;for(var D=W.getLineContent(H),C=N.column+1;C<d;C++){var x=D.charCodeAt(C-2),O=D.charCodeAt(C-1);if(x!==95&&O===95)return new Y.a(H,C);if(x!==45&&O===45)return new Y.a(H,C);if((se.H(x)||se.A(x))&&se.I(O))return new Y.a(H,C);if(se.I(x)&&se.I(O)&&C+1<d){var T=D.charCodeAt(C);if(se.H(T)||se.A(T))return new Y.a(H,C)}}return new Y.a(H,d)}},{key:"_deleteWordLeftWhitespace",value:function(W,N){var H=W.getLineContent(N.lineNumber),d=N.column-2,D=se.J(H,d);return D+1<d?new E.a(N.lineNumber,D+2,N.lineNumber,N.column):null}},{key:"deleteWordLeft",value:function(W,N){var H=W.wordSeparators,d=W.model,D=W.selection,C=W.whitespaceHeuristics;if(!D.isEmpty())return D;if($.a.isAutoClosingPairDelete(W.autoClosingDelete,W.autoClosingBrackets,W.autoClosingQuotes,W.autoClosingPairs.autoClosingPairsOpenByEnd,W.model,[W.selection],W.autoClosedCharacters)){var x=W.selection.getPosition();return new E.a(x.lineNumber,x.column-1,x.lineNumber,x.column+1)}var O=new Y.a(D.positionLineNumber,D.positionColumn),T=O.lineNumber,z=O.column;if(T===1&&z===1)return null;if(C){var I=this._deleteWordLeftWhitespace(d,O);if(I)return I}var de=B._findPreviousWordOnLine(H,d,O);return N===0?de?z=de.start+1:z>1?z=1:(T--,z=d.getLineMaxColumn(T)):(de&&z<=de.end+1&&(de=B._findPreviousWordOnLine(H,d,new Y.a(T,de.start+1))),de?z=de.end+1:z>1?z=1:(T--,z=d.getLineMaxColumn(T))),new E.a(T,z,O.lineNumber,O.column)}},{key:"deleteInsideWord",value:function(W,N,H){if(!H.isEmpty())return H;var d=new Y.a(H.positionLineNumber,H.positionColumn),D=this._deleteInsideWordWhitespace(N,d);return D||this._deleteInsideWordDetermineDeleteRange(W,N,d)}},{key:"_charAtIsWhitespace",value:function(W,N){var H=W.charCodeAt(N);return H===32||H===9}},{key:"_deleteInsideWordWhitespace",value:function(W,N){var H=W.getLineContent(N.lineNumber),d=H.length;if(d===0)return null;var D=Math.max(N.column-2,0);if(!this._charAtIsWhitespace(H,D))return null;var C=Math.min(N.column-1,d-1);if(!this._charAtIsWhitespace(H,C))return null;for(;D>0&&this._charAtIsWhitespace(H,D-1);)D--;for(;C+1<d&&this._charAtIsWhitespace(H,C+1);)C++;return new E.a(N.lineNumber,D+1,N.lineNumber,C+2)}},{key:"_deleteInsideWordDetermineDeleteRange",value:function(W,N,H){var d=this,D=N.getLineContent(H.lineNumber),C=D.length;if(C===0)return H.lineNumber>1?new E.a(H.lineNumber-1,N.getLineMaxColumn(H.lineNumber-1),H.lineNumber,1):H.lineNumber<N.getLineCount()?new E.a(H.lineNumber,1,H.lineNumber+1,1):new E.a(H.lineNumber,1,H.lineNumber,1);var x=function(pe){return pe.start+1<=H.column&&H.column<=pe.end+1},O=function(pe,fe){return pe=Math.min(pe,H.column),fe=Math.max(fe,H.column),new E.a(H.lineNumber,pe,H.lineNumber,fe)},T=function(pe){for(var fe=pe.start+1,ke=pe.end+1,A=!1;ke-1<C&&d._charAtIsWhitespace(D,ke-1);)A=!0,ke++;if(!A)for(;fe>1&&d._charAtIsWhitespace(D,fe-2);)fe--;return O(fe,ke)},z=B._findPreviousWordOnLine(W,N,H);if(z&&x(z))return T(z);var I=B._findNextWordOnLine(W,N,H);return I&&x(I)?T(I):z&&I?O(z.end+1,I.start+1):z?O(z.start+1,z.end+1):I?O(I.start+1,I.end+1):O(1,C+1)}},{key:"_deleteWordPartLeft",value:function(W,N){if(!N.isEmpty())return N;var H=N.getPosition(),d=B._moveWordPartLeft(W,H);return new E.a(H.lineNumber,H.column,d.lineNumber,d.column)}},{key:"_findFirstNonWhitespaceChar",value:function(W,N){for(var H=W.length,d=N;d<H;d++){var D=W.charAt(d);if(D!==" "&&D!=="	")return d}return H}},{key:"_deleteWordRightWhitespace",value:function(W,N){var H=W.getLineContent(N.lineNumber),d=N.column-1,D=this._findFirstNonWhitespaceChar(H,d);return d+1<D?new E.a(N.lineNumber,N.column,N.lineNumber,D+1):null}},{key:"deleteWordRight",value:function(W,N){var H=W.wordSeparators,d=W.model,D=W.selection,C=W.whitespaceHeuristics;if(!D.isEmpty())return D;var x=new Y.a(D.positionLineNumber,D.positionColumn),O=x.lineNumber,T=x.column,z=d.getLineCount(),I=d.getLineMaxColumn(O);if(O===z&&T===I)return null;if(C){var de=this._deleteWordRightWhitespace(d,x);if(de)return de}var pe=B._findNextWordOnLine(H,d,x);return N===2?pe?T=pe.end+1:T<I||O===z?T=I:(O++,pe=B._findNextWordOnLine(H,d,new Y.a(O,1)),pe?T=pe.start+1:T=d.getLineMaxColumn(O)):(pe&&T>=pe.start+1&&(pe=B._findNextWordOnLine(H,d,new Y.a(O,pe.end+1))),pe?T=pe.start+1:T<I||O===z?T=I:(O++,pe=B._findNextWordOnLine(H,d,new Y.a(O,1)),pe?T=pe.start+1:T=d.getLineMaxColumn(O))),new E.a(O,T,x.lineNumber,x.column)}},{key:"_deleteWordPartRight",value:function(W,N){if(!N.isEmpty())return N;var H=N.getPosition(),d=B._moveWordPartRight(W,H);return new E.a(H.lineNumber,H.column,d.lineNumber,d.column)}},{key:"_createWordAtPosition",value:function(W,N,H){var d=new E.a(N,H.start+1,N,H.end+1);return{word:W.getValueInRange(d),startColumn:d.startColumn,endColumn:d.endColumn}}},{key:"getWordAtPosition",value:function(W,N,H){var d=Object(_.a)(N),D=B._findPreviousWordOnLine(d,W,H);if(D&&D.wordType===1&&D.start<=H.column-1&&H.column-1<=D.end)return B._createWordAtPosition(W,H.lineNumber,D);var C=B._findNextWordOnLine(d,W,H);return C&&C.wordType===1&&C.start<=H.column-1&&H.column-1<=C.end?B._createWordAtPosition(W,H.lineNumber,C):null}},{key:"word",value:function(W,N,H,d,D){var C=Object(_.a)(W.wordSeparators),x=B._findPreviousWordOnLine(C,N,D),O=B._findNextWordOnLine(C,N,D);if(!d){var T,z;return x&&x.wordType===1&&x.start<=D.column-1&&D.column-1<=x.end?(T=x.start+1,z=x.end+1):O&&O.wordType===1&&O.start<=D.column-1&&D.column-1<=O.end?(T=O.start+1,z=O.end+1):(x?T=x.end+1:T=1,O?z=O.start+1:z=N.getLineMaxColumn(D.lineNumber)),new te.d(new E.a(D.lineNumber,T,D.lineNumber,z),1,0,new Y.a(D.lineNumber,z),0)}var I,de;x&&x.wordType===1&&x.start<D.column-1&&D.column-1<x.end?(I=x.start+1,de=x.end+1):O&&O.wordType===1&&O.start<D.column-1&&D.column-1<O.end?(I=O.start+1,de=O.end+1):(I=D.column,de=D.column);var pe=D.lineNumber,fe;if(H.selectionStart.containsPosition(D))fe=H.selectionStart.endColumn;else if(D.isBeforeOrEqual(H.selectionStart.getStartPosition())){fe=I;var ke=new Y.a(pe,fe);H.selectionStart.containsPosition(ke)&&(fe=H.selectionStart.endColumn)}else{fe=de;var A=new Y.a(pe,fe);H.selectionStart.containsPosition(A)&&(fe=H.selectionStart.startColumn)}return H.move(!0,pe,fe,0)}}]),B}(),ne=function(B){Object(ce.a)(W,B);var F=Object(we.a)(W);function W(){return Object(w.a)(this,W),F.apply(this,arguments)}return Object(ve.a)(W,null,[{key:"deleteWordPartLeft",value:function(H){var d=V([Z.deleteWordLeft(H,0),Z.deleteWordLeft(H,2),Z._deleteWordPartLeft(H.model,H.selection)]);return d.sort(E.a.compareRangesUsingEnds),d[2]}},{key:"deleteWordPartRight",value:function(H){var d=V([Z.deleteWordRight(H,0),Z.deleteWordRight(H,2),Z._deleteWordPartRight(H.model,H.selection)]);return d.sort(E.a.compareRangesUsingStarts),d[0]}},{key:"moveWordPartLeft",value:function(H,d,D){var C=V([Z.moveWordLeft(H,d,D,0),Z.moveWordLeft(H,d,D,2),Z._moveWordPartLeft(d,D)]);return C.sort(Y.a.compare),C[2]}},{key:"moveWordPartRight",value:function(H,d,D){var C=V([Z.moveWordRight(H,d,D,0),Z.moveWordRight(H,d,D,2),Z._moveWordPartRight(d,D)]);return C.sort(Y.a.compare),C[0]}}]),W}(Z);function V(B){return B.filter(function(F){return Boolean(F)})}},"6OMU":function(mn,U,a){"use strict";a.d(U,"C",function(){return ve}),a.d(U,"D",function(){return se}),a.d(U,"j",function(){return te}),a.d(U,"A",function(){return $}),a.d(U,"e",function(){return _}),a.d(U,"k",function(){return E}),a.d(U,"y",function(){return Z}),a.d(U,"q",function(){return ne}),a.d(U,"f",function(){return V}),a.d(U,"g",function(){return B}),a.d(U,"r",function(){return F}),a.d(U,"s",function(){return W}),a.d(U,"i",function(){return N}),a.d(U,"l",function(){return H}),a.d(U,"p",function(){return D}),a.d(U,"z",function(){return C}),a.d(U,"c",function(){return x}),a.d(U,"x",function(){return O}),a.d(U,"w",function(){return T}),a.d(U,"v",function(){return z}),a.d(U,"d",function(){return I}),a.d(U,"t",function(){return de}),a.d(U,"B",function(){return fe}),a.d(U,"h",function(){return P}),a.d(U,"u",function(){return G}),a.d(U,"n",function(){return re}),a.d(U,"m",function(){return ae}),a.d(U,"o",function(){return Q}),a.d(U,"a",function(){return J}),a.d(U,"b",function(){return me});var ce=a("fWQN"),we=a("mtLc"),w=a("rAM+");function ve(ge){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ge[ge.length-(1+L)]}function se(ge){if(ge.length===0)throw new Error("Invalid tail call");return[ge.slice(0,ge.length-1),ge[ge.length-1]]}function te(ge,L){var De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(Pe,Ne){return Pe===Ne};if(ge===L)return!0;if(!ge||!L||ge.length!==L.length)return!1;for(var Ae=0,Oe=ge.length;Ae<Oe;Ae++)if(!De(ge[Ae],L[Ae]))return!1;return!0}function $(ge,L){var De=ge.length-1;L<De&&(ge[L]=ge[De]),ge.pop()}function _(ge,L,De){return Y(ge.length,function(Ae){return De(ge[Ae],L)})}function Y(ge,L){for(var De=0,Ae=ge-1;De<=Ae;){var Oe=(De+Ae)/2|0,Pe=L(Oe);if(Pe<0)De=Oe+1;else if(Pe>0)Ae=Oe-1;else return Oe}return-(De+1)}function E(ge,L){var De=0,Ae=ge.length;if(Ae===0)return 0;for(;De<Ae;){var Oe=Math.floor((De+Ae)/2);L(ge[Oe])?Ae=Oe:De=Oe+1}return De}function Z(ge,L,De){if(ge=ge|0,ge>=L.length)throw new TypeError("invalid index");var Ae=L[Math.floor(L.length*Math.random())],Oe=[],Pe=[],Ne=[],Fe=Object(w.a)(L),Xe;try{for(Fe.s();!(Xe=Fe.n()).done;){var Et=Xe.value,Ft=De(Et,Ae);Ft<0?Oe.push(Et):Ft>0?Pe.push(Et):Ne.push(Et)}}catch(Ot){Fe.e(Ot)}finally{Fe.f()}return ge<Oe.length?Z(ge,Oe,De):ge<Oe.length+Ne.length?Ne[0]:Z(ge-(Oe.length+Ne.length),Pe,De)}function ne(ge,L){var De=[],Ae=void 0,Oe=Object(w.a)(ge.slice(0).sort(L)),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var Ne=Pe.value;!Ae||L(Ae[0],Ne)!==0?(Ae=[Ne],De.push(Ae)):Ae.push(Ne)}}catch(Fe){Oe.e(Fe)}finally{Oe.f()}return De}function V(ge){return ge.filter(function(L){return!!L})}function B(ge){for(var L=0,De=0;De<ge.length;De++)ge[De]&&(ge[L]=ge[De],L+=1);ge.length=L}function F(ge){return!Array.isArray(ge)||ge.length===0}function W(ge){return Array.isArray(ge)&&ge.length>0}function N(ge){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(Ae){return Ae},De=new Set;return ge.filter(function(Ae){var Oe=L(Ae);return De.has(Oe)?!1:(De.add(Oe),!0)})}function H(ge,L){var De=d(ge,L);if(De!==-1)return ge[De]}function d(ge,L){for(var De=ge.length-1;De>=0;De--){var Ae=ge[De];if(L(Ae))return De}return-1}function D(ge,L){return ge.length>0?ge[0]:L}function C(ge,L){var De=typeof L=="number"?ge:0;typeof L=="number"?De=ge:(De=0,L=ge);var Ae=[];if(De<=L)for(var Oe=De;Oe<L;Oe++)Ae.push(Oe);else for(var Pe=De;Pe>L;Pe--)Ae.push(Pe);return Ae}function x(ge,L,De){var Ae=ge.slice(0,L),Oe=ge.slice(L);return Ae.concat(De,Oe)}function O(ge,L){var De=ge.indexOf(L);De>-1&&(ge.splice(De,1),ge.unshift(L))}function T(ge,L){var De=ge.indexOf(L);De>-1&&(ge.splice(De,1),ge.push(L))}function z(ge,L){var De=Object(w.a)(L),Ae;try{for(De.s();!(Ae=De.n()).done;){var Oe=Ae.value;ge.push(Oe)}}catch(Pe){De.e(Pe)}finally{De.f()}}function I(ge){return Array.isArray(ge)?ge:[ge]}function de(ge,L){var De=Object(w.a)(ge),Ae;try{for(De.s();!(Ae=De.n()).done;){var Oe=Ae.value,Pe=L(Oe);if(Pe!==void 0)return Pe}}catch(Ne){De.e(Ne)}finally{De.f()}}function pe(ge,L,De){var Ae=ke(ge,L),Oe=ge.length,Pe=De.length;ge.length=Oe+Pe;for(var Ne=Oe-1;Ne>=Ae;Ne--)ge[Ne+Pe]=ge[Ne];for(var Fe=0;Fe<Pe;Fe++)ge[Fe+Ae]=De[Fe]}function fe(ge,L,De,Ae){var Oe=ke(ge,L),Pe=ge.splice(Oe,De);return pe(ge,Oe,Ae),Pe}function ke(ge,L){return L<0?Math.max(L+ge.length,0):Math.min(L,ge.length)}var A;(function(ge){function L(Oe){return Oe<0}ge.isLessThan=L;function De(Oe){return Oe>0}ge.isGreaterThan=De;function Ae(Oe){return Oe===0}ge.isNeitherLessOrGreaterThan=Ae,ge.greaterThan=1,ge.lessThan=-1,ge.neitherLessOrGreaterThan=0})(A||(A={}));function P(ge,L){return function(De,Ae){return L(ge(De),ge(Ae))}}var G=function(L,De){return L-De};function re(ge,L){if(ge.length!==0){for(var De=ge[0],Ae=1;Ae<ge.length;Ae++){var Oe=ge[Ae];L(Oe,De)>0&&(De=Oe)}return De}}function ae(ge,L){if(ge.length!==0){for(var De=ge[0],Ae=1;Ae<ge.length;Ae++){var Oe=ge[Ae];L(Oe,De)>=0&&(De=Oe)}return De}}function Q(ge,L){return re(ge,function(De,Ae){return-L(De,Ae)})}var J=function(){function ge(L){Object(ce.a)(this,ge),this.items=L,this.firstIdx=0,this.lastIdx=this.items.length-1}return Object(we.a)(ge,[{key:"length",get:function(){return this.lastIdx-this.firstIdx+1}},{key:"takeWhile",value:function(De){for(var Ae=this.firstIdx;Ae<this.items.length&&De(this.items[Ae]);)Ae++;var Oe=Ae===this.firstIdx?null:this.items.slice(this.firstIdx,Ae);return this.firstIdx=Ae,Oe}},{key:"takeFromEndWhile",value:function(De){for(var Ae=this.lastIdx;Ae>=0&&De(this.items[Ae]);)Ae--;var Oe=Ae===this.lastIdx?null:this.items.slice(Ae+1,this.lastIdx+1);return this.lastIdx=Ae,Oe}},{key:"peek",value:function(){if(this.length!==0)return this.items[this.firstIdx]}},{key:"dequeue",value:function(){var De=this.items[this.firstIdx];return this.firstIdx++,De}},{key:"takeCount",value:function(De){var Ae=this.items.slice(this.firstIdx,this.firstIdx+De);return this.firstIdx+=De,Ae}}]),ge}(),me=function(){function ge(L){Object(ce.a)(this,ge),this.iterate=L}return Object(we.a)(ge,[{key:"toArray",value:function(){var De=[];return this.iterate(function(Ae){return De.push(Ae),!0}),De}},{key:"filter",value:function(De){var Ae=this;return new ge(function(Oe){return Ae.iterate(function(Pe){return De(Pe)?Oe(Pe):!0})})}},{key:"map",value:function(De){var Ae=this;return new ge(function(Oe){return Ae.iterate(function(Pe){return Oe(De(Pe))})})}},{key:"findLast",value:function(De){var Ae;return this.iterate(function(Oe){return De(Oe)&&(Ae=Oe),!0}),Ae}},{key:"findLastMaxBy",value:function(De){var Ae,Oe=!0;return this.iterate(function(Pe){return(Oe||A.isGreaterThan(De(Pe,Ae)))&&(Oe=!1,Ae=Pe),!0}),Ae}}]),ge}();me.empty=new me(function(ge){})},"6XFq":function(mn,U,a){"use strict";a.d(U,"a",function(){return B});var ce=a("rAM+"),we=a("tJVT"),w=a("fWQN"),ve=a("mtLc"),se=a("7afs"),te=a("QDVR"),$=a("Sdnv"),_=a("9fML"),Y=a("Cg/j"),E=a("09fa"),Z=a("W9cx"),ne=function(H,d,D,C){var x=arguments.length,O=x<3?d:C===null?C=Object.getOwnPropertyDescriptor(d,D):C,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(H,d,D,C);else for(var z=H.length-1;z>=0;z--)(T=H[z])&&(O=(x<3?T(O):x>3?T(d,D,O):T(d,D))||O);return x>3&&O&&Object.defineProperty(d,D,O),O},V=function(H,d){return function(D,C){d(D,C,H)}},B=Object(Y.c)("ILanguageFeatureDebounceService"),F;(function(H){var d=new WeakMap,D=0;function C(x){var O=d.get(x);return O===void 0&&(O=++D,d.set(x,O)),O}H.of=C})(F||(F={}));var W=function(){function H(d,D,C,x,O,T){Object(w.a)(this,H),this._logService=d,this._name=D,this._registry=C,this._default=x,this._min=O,this._max=T,this._cache=new te.a(50,.7)}return Object(ve.a)(H,[{key:"_key",value:function(D){return D.id+this._registry.all(D).reduce(function(C,x){return Object(se.b)(F.of(x),C)},0)}},{key:"get",value:function(D){var C=this._key(D),x=this._cache.get(C);return x?Object($.c)(x.value,this._min,this._max):this.default()}},{key:"update",value:function(D,C){var x=this._key(D),O=this._cache.get(x);O||(O=new $.b(6),this._cache.set(x,O));var T=Object($.c)(O.update(C),this._min,this._max);return Object(Z.c)(D.uri,"output")||this._logService.trace("[DEBOUNCE: ".concat(this._name,"] for ").concat(D.uri.toString()," is ").concat(T,"ms")),T}},{key:"_overall",value:function(){var D=new $.a,C=Object(ce.a)(this._cache),x;try{for(C.s();!(x=C.n()).done;){var O=x.value,T=Object(we.a)(O,2),z=T[1];D.update(z.value)}}catch(I){C.e(I)}finally{C.f()}return D.value}},{key:"default",value:function(){var D=this._overall()|0||this._default;return Object($.c)(D,this._min,this._max)}}]),H}(),N=function(){function H(d){Object(w.a)(this,H),this._logService=d,this._data=new Map}return Object(ve.a)(H,[{key:"for",value:function(D,C,x){var O,T,z,I=(O=x==null?void 0:x.min)!==null&&O!==void 0?O:50,de=(T=x==null?void 0:x.max)!==null&&T!==void 0?T:Math.pow(I,2),pe=(z=x==null?void 0:x.key)!==null&&z!==void 0?z:void 0,fe="".concat(F.of(D),",").concat(I).concat(pe?","+pe:""),ke=this._data.get(fe);return ke||(ke=new W(this._logService,C,D,this._overallAverage()|0||I*1.5,I,de),this._data.set(fe,ke)),ke}},{key:"_overallAverage",value:function(){var D=new $.a,C=Object(ce.a)(this._data.values()),x;try{for(C.s();!(x=C.n()).done;){var O=x.value;D.update(O.default())}}catch(T){C.e(T)}finally{C.f()}return D.value}}]),H}();N=ne([V(0,E.b)],N),Object(_.b)(B,N,1)},"6apY":function(mn,U,a){"use strict";a.d(U,"b",function(){return B}),a.d(U,"a",function(){return F});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("yKVA"),se=a("879j"),te=a("6OMU"),$=a("N0LK"),_=a("JLfW"),Y=a("aokT"),E=a("j9oM"),Z=a("16Jm"),ne=a("1CjY"),V=a("/cxE"),B=function(W){Object(ve.a)(H,W);var N=Object(se.a)(H);function H(d,D){var C;return Object(we.a)(this,H),C=N.call(this),C.textModel=d,C.languageConfigurationService=D,C}return Object(w.a)(H,[{key:"getLanguageConfiguration",value:function(D){return this.languageConfigurationService.getLanguageConfiguration(D)}},{key:"_computeIndentLevel",value:function(D){return Object(Z.a)(this.textModel.getLineContent(D+1),this.textModel.getOptions().tabSize)}},{key:"getActiveIndentGuide",value:function(D,C,x){var O=this;this.assertNotDisposed();var T=this.textModel.getLineCount();if(D<1||D>T)throw new V.a("Illegal value for lineNumber");for(var z=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,I=Boolean(z&&z.offSide),de=-2,pe=-1,fe=-2,ke=-1,A=function(pt){if(de!==-1&&(de===-2||de>pt-1)){de=-1,pe=-1;for(var Lt=pt-2;Lt>=0;Lt--){var et=O._computeIndentLevel(Lt);if(et>=0){de=Lt,pe=et;break}}}if(fe===-2){fe=-1,ke=-1;for(var Vt=pt;Vt<T;Vt++){var Re=O._computeIndentLevel(Vt);if(Re>=0){fe=Vt,ke=Re;break}}}},P=-2,G=-1,re=-2,ae=-1,Q=function(pt){if(P===-2){P=-1,G=-1;for(var Lt=pt-2;Lt>=0;Lt--){var et=O._computeIndentLevel(Lt);if(et>=0){P=Lt,G=et;break}}}if(re!==-1&&(re===-2||re<pt-1)){re=-1,ae=-1;for(var Vt=pt;Vt<T;Vt++){var Re=O._computeIndentLevel(Vt);if(Re>=0){re=Vt,ae=Re;break}}}},J=0,me=!0,ge=0,L=!0,De=0,Ae=0,Oe=0;me||L;Oe++){var Pe=D-Oe,Ne=D+Oe;Oe>1&&(Pe<1||Pe<C)&&(me=!1),Oe>1&&(Ne>T||Ne>x)&&(L=!1),Oe>5e4&&(me=!1,L=!1);var Fe=-1;if(me&&Pe>=1){var Xe=this._computeIndentLevel(Pe-1);Xe>=0?(fe=Pe-1,ke=Xe,Fe=Math.ceil(Xe/this.textModel.getOptions().indentSize)):(A(Pe),Fe=this._getIndentLevelForWhitespaceLine(I,pe,ke))}var Et=-1;if(L&&Ne<=T){var Ft=this._computeIndentLevel(Ne-1);Ft>=0?(P=Ne-1,G=Ft,Et=Math.ceil(Ft/this.textModel.getOptions().indentSize)):(Q(Ne),Et=this._getIndentLevelForWhitespaceLine(I,G,ae))}if(Oe===0){Ae=Fe;continue}if(Oe===1){if(Ne<=T&&Et>=0&&Ae+1===Et){me=!1,J=Ne,ge=Ne,De=Et;continue}if(Pe>=1&&Fe>=0&&Fe-1===Ae){L=!1,J=Pe,ge=Pe,De=Fe;continue}if(J=D,ge=D,De=Ae,De===0)return{startLineNumber:J,endLineNumber:ge,indent:De}}me&&(Fe>=De?J=Pe:me=!1),L&&(Et>=De?ge=Ne:L=!1)}return{startLineNumber:J,endLineNumber:ge,indent:De}}},{key:"getLinesBracketGuides",value:function(D,C,x,O){for(var T,z=[],I=D;I<=C;I++)z.push([]);var de=!0,pe=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new Y.a(D,1,C,this.textModel.getLineMaxColumn(C))).toArray(),fe=void 0;if(x&&pe.length>0){var ke=(D<=x.lineNumber&&x.lineNumber<=C?pe:this.textModel.bracketPairs.getBracketPairsInRange(Y.a.fromPositions(x)).toArray()).filter(function(Vt){return Y.a.strictContainsPosition(Vt.range,x)});fe=(T=Object(te.l)(ke,function(Vt){return de||Vt.range.startLineNumber!==Vt.range.endLineNumber}))===null||T===void 0?void 0:T.range}var A=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,P=new F,G=Object(ce.a)(pe),re;try{for(G.s();!(re=G.n()).done;){var ae=re.value;if(!!ae.closingBracketRange){var Q=fe&&ae.range.equalsRange(fe);if(!(!Q&&!O.includeInactive)){var J=P.getInlineClassName(ae.nestingLevel,ae.nestingLevelOfEqualBracketType,A)+(O.highlightActive&&Q?" "+P.activeClassName:""),me=ae.openingBracketRange.getStartPosition(),ge=ae.closingBracketRange.getStartPosition(),L=O.horizontalGuides===ne.a.Enabled||O.horizontalGuides===ne.a.EnabledForActive&&Q;if(ae.range.startLineNumber===ae.range.endLineNumber){de&&L&&z[ae.range.startLineNumber-D].push(new ne.b(-1,ae.openingBracketRange.getEndPosition().column,J,new ne.c(!1,ge.column),-1,-1));continue}var De=this.getVisibleColumnFromPosition(ge),Ae=this.getVisibleColumnFromPosition(ae.openingBracketRange.getStartPosition()),Oe=Math.min(Ae,De,ae.minVisibleColumnIndentation+1),Pe=!1,Ne=$.u(this.textModel.getLineContent(ae.closingBracketRange.startLineNumber)),Fe=Ne<ae.closingBracketRange.startColumn-1;Fe&&(Pe=!0);for(var Xe=Math.max(me.lineNumber,D),Et=Math.min(ge.lineNumber,C),Ft=Pe?1:0,Ot=Xe;Ot<Et+Ft;Ot++)z[Ot-D].push(new ne.b(Oe,-1,J,null,Ot===me.lineNumber?me.column:-1,Ot===ge.lineNumber?ge.column:-1));L&&(me.lineNumber>=D&&Ae>Oe&&z[me.lineNumber-D].push(new ne.b(Oe,-1,J,new ne.c(!1,me.column),-1,-1)),ge.lineNumber<=C&&De>Oe&&z[ge.lineNumber-D].push(new ne.b(Oe,-1,J,new ne.c(!Pe,ge.column),-1,-1)))}}}}catch(Vt){G.e(Vt)}finally{G.f()}for(var pt=0,Lt=z;pt<Lt.length;pt++){var et=Lt[pt];et.sort(function(Vt,Re){return Vt.visibleColumn-Re.visibleColumn})}return z}},{key:"getVisibleColumnFromPosition",value:function(D){return _.a.visibleColumnFromColumn(this.textModel.getLineContent(D.lineNumber),D.column,this.textModel.getOptions().tabSize)+1}},{key:"getLinesIndentGuides",value:function(D,C){this.assertNotDisposed();var x=this.textModel.getLineCount();if(D<1||D>x)throw new Error("Illegal value for startLineNumber");if(C<1||C>x)throw new Error("Illegal value for endLineNumber");for(var O=this.textModel.getOptions(),T=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,z=Boolean(T&&T.offSide),I=new Array(C-D+1),de=-2,pe=-1,fe=-2,ke=-1,A=D;A<=C;A++){var P=A-D,G=this._computeIndentLevel(A-1);if(G>=0){de=A-1,pe=G,I[P]=Math.ceil(G/O.indentSize);continue}if(de===-2){de=-1,pe=-1;for(var re=A-2;re>=0;re--){var ae=this._computeIndentLevel(re);if(ae>=0){de=re,pe=ae;break}}}if(fe!==-1&&(fe===-2||fe<A-1)){fe=-1,ke=-1;for(var Q=A;Q<x;Q++){var J=this._computeIndentLevel(Q);if(J>=0){fe=Q,ke=J;break}}}I[P]=this._getIndentLevelForWhitespaceLine(z,pe,ke)}return I}},{key:"_getIndentLevelForWhitespaceLine",value:function(D,C,x){var O=this.textModel.getOptions();return C===-1||x===-1?0:C<x?1+Math.floor(C/O.indentSize):C===x||D?Math.ceil(x/O.indentSize):1+Math.floor(x/O.indentSize)}}]),H}(E.a),F=function(){function W(){Object(we.a)(this,W),this.activeClassName="indent-active"}return Object(w.a)(W,[{key:"getInlineClassName",value:function(H,d,D){return this.getInlineClassNameOfLevel(D?d:H)}},{key:"getInlineClassNameOfLevel",value:function(H){return"bracket-indent-guide lvl-".concat(H%30)}}]),W}()},"6nEQ":function(mn,U,a){},"6vuP":function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("dialogService")},"7/IO":function(mn,U,a){"use strict";a.d(U,"a",function(){return ve});var ce=a("fWQN"),we=a("mtLc"),w=a("/cxE"),ve=function(){function se(te,$){if(Object(ce.a)(this,se),this.start=te,this.endExclusive=$,te>$)throw new w.a("Invalid range: ".concat(this.toString()))}return Object(we.a)(se,[{key:"isEmpty",get:function(){return this.start===this.endExclusive}},{key:"delta",value:function($){return new se(this.start+$,this.endExclusive+$)}},{key:"length",get:function(){return this.endExclusive-this.start}},{key:"toString",value:function(){return"[".concat(this.start,", ").concat(this.endExclusive,")")}},{key:"equals",value:function($){return this.start===$.start&&this.endExclusive===$.endExclusive}},{key:"containsRange",value:function($){return this.start<=$.start&&$.endExclusive<=this.endExclusive}},{key:"join",value:function($){return new se(Math.min(this.start,$.start),Math.max(this.endExclusive,$.endExclusive))}},{key:"intersect",value:function($){var _=Math.max(this.start,$.start),Y=Math.min(this.endExclusive,$.endExclusive);if(_<=Y)return new se(_,Y)}}],[{key:"addRange",value:function($,_){for(var Y=0;Y<_.length&&_[Y].endExclusive<$.start;)Y++;for(var E=Y;E<_.length&&_[E].start<=$.endExclusive;)E++;if(Y===E)_.splice(Y,0,$);else{var Z=Math.min($.start,_[Y].start),ne=Math.max($.endExclusive,_[E-1].endExclusive);_.splice(Y,E-Y,new se(Z,ne))}}},{key:"tryCreate",value:function($,_){if(!($>_))return new se($,_)}}]),se}()},"7/Ik":function(mn,U,a){"use strict";a.d(U,"b",function(){return Q}),a.d(U,"a",function(){return J}),a.d(U,"c",function(){return me});var ce=a("oBTY"),we=a("fWQN"),w=a("mtLc"),ve=a("tS8v"),se=a("w4Tj"),te=a("oZsa"),$=a("yKVA"),_=a("879j"),Y=a("D3Dy"),E=a("ZQ78"),Z=a("EffR"),ne=a("pg8w"),V=a("SMG5"),B=a("4y0V"),F=a("uDWl"),W=a("w5yO"),N=a("cqdO"),H=a("6OMU"),d=a("MI8n"),D=a("/kV6"),C=a("pmY6"),x=a("MNsG"),O=a("Tdkv"),T=a("3/fG"),z=Z.$,I="selectOption.entry.template",de=function(){function ge(){Object(we.a)(this,ge)}return Object(w.a)(ge,[{key:"templateId",get:function(){return I}},{key:"renderTemplate",value:function(De){var Ae=Object.create(null);return Ae.root=De,Ae.text=Z.append(De,z(".option-text")),Ae.detail=Z.append(De,z(".option-detail")),Ae.decoratorRight=Z.append(De,z(".option-decorator-right")),Ae}},{key:"renderElement",value:function(De,Ae,Oe){var Pe=Oe,Ne=De.text,Fe=De.detail,Xe=De.decoratorRight,Et=De.isDisabled;Pe.text.textContent=Ne,Pe.detail.textContent=Fe||"",Pe.decoratorRight.innerText=Xe||"",Et?Pe.root.classList.add("option-disabled"):Pe.root.classList.remove("option-disabled")}},{key:"disposeTemplate",value:function(De){}}]),ge}(),pe=function(ge){Object($.a)(De,ge);var L=Object(_.a)(De);function De(Ae,Oe,Pe,Ne,Fe){var Xe;return Object(we.a)(this,De),Xe=L.call(this),Xe.options=[],Xe._currentSelection=0,Xe._hasDetails=!1,Xe._skipLayout=!1,Xe._sticky=!1,Xe._isVisible=!1,Xe.styles=Ne,Xe.selectBoxOptions=Fe||Object.create(null),typeof Xe.selectBoxOptions.minBottomMargin!="number"?Xe.selectBoxOptions.minBottomMargin=De.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:Xe.selectBoxOptions.minBottomMargin<0&&(Xe.selectBoxOptions.minBottomMargin=0),Xe.selectElement=document.createElement("select"),Xe.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof Xe.selectBoxOptions.ariaLabel=="string"&&Xe.selectElement.setAttribute("aria-label",Xe.selectBoxOptions.ariaLabel),typeof Xe.selectBoxOptions.ariaDescription=="string"&&Xe.selectElement.setAttribute("aria-description",Xe.selectBoxOptions.ariaDescription),Xe._onDidSelect=new d.b,Xe._register(Xe._onDidSelect),Xe.registerListeners(),Xe.constructSelectDropDown(Pe),Xe.selected=Oe||0,Ae&&Xe.setOptions(Ae,Oe),Xe.initStyleSheet(),Xe}return Object(w.a)(De,[{key:"getHeight",value:function(){return 22}},{key:"getTemplateId",value:function(){return I}},{key:"constructSelectDropDown",value:function(Oe){this.contextViewProvider=Oe,this.selectDropDownContainer=Z.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=Z.append(this.selectDropDownContainer,z(".select-box-details-pane"));var Pe=Z.append(this.selectDropDownContainer,z(".select-box-dropdown-container-width-control")),Ne=Z.append(Pe,z(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",Z.append(Ne,this.widthControlElement),this._dropDownPosition=0,this.styleElement=Z.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(Z.addDisposableListener(this.selectDropDownContainer,Z.EventType.DRAG_START,function(Fe){Z.EventHelper.stop(Fe,!0)}))}},{key:"registerListeners",value:function(){var Oe=this;this._register(Z.addStandardDisposableListener(this.selectElement,"change",function(Ne){Oe.selected=Ne.target.selectedIndex,Oe._onDidSelect.fire({index:Ne.target.selectedIndex,selected:Ne.target.value}),!!Oe.options[Oe.selected]&&!!Oe.options[Oe.selected].text&&(Oe.selectElement.title=Oe.options[Oe.selected].text)})),this._register(Z.addDisposableListener(this.selectElement,Z.EventType.CLICK,function(Ne){Z.EventHelper.stop(Ne),Oe._isVisible?Oe.hideSelectDropDown(!0):Oe.showSelectDropDown()})),this._register(Z.addDisposableListener(this.selectElement,Z.EventType.MOUSE_DOWN,function(Ne){Z.EventHelper.stop(Ne)}));var Pe;this._register(Z.addDisposableListener(this.selectElement,"touchstart",function(Ne){Pe=Oe._isVisible})),this._register(Z.addDisposableListener(this.selectElement,"touchend",function(Ne){Z.EventHelper.stop(Ne),Pe?Oe.hideSelectDropDown(!0):Oe.showSelectDropDown()})),this._register(Z.addDisposableListener(this.selectElement,Z.EventType.KEY_DOWN,function(Ne){var Fe=new F.a(Ne),Xe=!1;x.i?(Fe.keyCode===18||Fe.keyCode===16||Fe.keyCode===10||Fe.keyCode===3)&&(Xe=!0):(Fe.keyCode===18&&Fe.altKey||Fe.keyCode===16&&Fe.altKey||Fe.keyCode===10||Fe.keyCode===3)&&(Xe=!0),Xe&&(Oe.showSelectDropDown(),Z.EventHelper.stop(Ne,!0))}))}},{key:"onDidSelect",get:function(){return this._onDidSelect.event}},{key:"setOptions",value:function(Oe,Pe){var Ne=this;H.j(this.options,Oe)||(this.options=Oe,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach(function(Fe,Xe){Ne.selectElement.add(Ne.createOption(Fe.text,Xe,Fe.isDisabled)),typeof Fe.description=="string"&&(Ne._hasDetails=!0)})),Pe!==void 0&&(this.select(Pe),this._currentSelection=this.selected)}},{key:"setOptionsList",value:function(){var Oe;(Oe=this.selectList)===null||Oe===void 0||Oe.splice(0,this.selectList.length,this.options)}},{key:"select",value:function(Oe){Oe>=0&&Oe<this.options.length?this.selected=Oe:Oe>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}},{key:"focus",value:function(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}},{key:"blur",value:function(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}},{key:"setFocusable",value:function(Oe){this.selectElement.tabIndex=Oe?0:-1}},{key:"render",value:function(Oe){this.container=Oe,Oe.classList.add("select-container"),Oe.appendChild(this.selectElement),this.styleSelectElement()}},{key:"initStyleSheet",value:function(){var Oe=[];this.styles.listFocusBackground&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ".concat(this.styles.listFocusBackground," !important; }")),this.styles.listFocusForeground&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ".concat(this.styles.listFocusForeground," !important; }")),this.styles.decoratorRightForeground&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ".concat(this.styles.decoratorRightForeground,"; }")),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(Oe.push(".monaco-select-box-dropdown-container { border: 1px solid ".concat(this.styles.selectBorder," } ")),Oe.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ".concat(this.styles.selectBorder," } ")),Oe.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ".concat(this.styles.selectBorder," } "))):this.styles.selectListBorder&&(Oe.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ".concat(this.styles.selectListBorder," } ")),Oe.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ".concat(this.styles.selectListBorder," } "))),this.styles.listHoverForeground&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ".concat(this.styles.listHoverForeground," !important; }")),this.styles.listHoverBackground&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ".concat(this.styles.listHoverBackground," !important; }")),this.styles.listFocusOutline&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ".concat(this.styles.listFocusOutline," !important; outline-offset: -1.6px !important; }")),this.styles.listHoverOutline&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ".concat(this.styles.listHoverOutline," !important; outline-offset: -1.6px !important; }")),Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=Oe.join(`
`)}},{key:"styleSelectElement",value:function(){var Oe,Pe,Ne,Fe=(Oe=this.styles.selectBackground)!==null&&Oe!==void 0?Oe:"",Xe=(Pe=this.styles.selectForeground)!==null&&Pe!==void 0?Pe:"",Et=(Ne=this.styles.selectBorder)!==null&&Ne!==void 0?Ne:"";this.selectElement.style.backgroundColor=Fe,this.selectElement.style.color=Xe,this.selectElement.style.borderColor=Et}},{key:"styleList",value:function(){var Oe,Pe,Ne=(Oe=this.styles.selectBackground)!==null&&Oe!==void 0?Oe:"",Fe=Z.asCssValueWithDefault(this.styles.selectListBackground,Ne);this.selectDropDownListContainer.style.backgroundColor=Fe,this.selectionDetailsPane.style.backgroundColor=Fe;var Xe=(Pe=this.styles.focusBorder)!==null&&Pe!==void 0?Pe:"";this.selectDropDownContainer.style.outlineColor=Xe,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}},{key:"createOption",value:function(Oe,Pe,Ne){var Fe=document.createElement("option");return Fe.value=Oe,Fe.text=Oe,Fe.disabled=!!Ne,Fe}},{key:"showSelectDropDown",value:function(){var Oe=this;this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:function(){return Oe.selectElement},render:function(Ne){return Oe.renderSelectDropDown(Ne,!0)},layout:function(){Oe.layoutSelectDropDown()},onHide:function(){Oe.selectDropDownContainer.classList.remove("visible"),Oe.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:function(){return Oe.selectElement},render:function(Ne){return Oe.renderSelectDropDown(Ne)},layout:function(){return Oe.layoutSelectDropDown()},onHide:function(){Oe.selectDropDownContainer.classList.remove("visible"),Oe.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}},{key:"hideSelectDropDown",value:function(Oe){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),Oe&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}},{key:"renderSelectDropDown",value:function(Oe,Pe){var Ne=this;return Oe.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(Pe),{dispose:function(){try{Oe.removeChild(Ne.selectDropDownContainer)}catch(Xe){}}}}},{key:"measureMaxDetailsHeight",value:function(){var Oe=this,Pe=0;return this.options.forEach(function(Ne,Fe){Oe.updateDetail(Fe),Oe.selectionDetailsPane.offsetHeight>Pe&&(Pe=Oe.selectionDetailsPane.offsetHeight)}),Pe}},{key:"layoutSelectDropDown",value:function(Oe){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");var Pe=Z.getDomNodePagePosition(this.selectElement),Ne=getComputedStyle(this.selectElement),Fe=parseFloat(Ne.getPropertyValue("--dropdown-padding-top"))+parseFloat(Ne.getPropertyValue("--dropdown-padding-bottom")),Xe=window.innerHeight-Pe.top-Pe.height-(this.selectBoxOptions.minBottomMargin||0),Et=Pe.top-De.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,Ft=this.selectElement.offsetWidth,Ot=this.setWidthControlElement(this.widthControlElement),pt=Math.max(Ot,Math.round(Ft)).toString()+"px";this.selectDropDownContainer.style.width=pt,this.selectList.getHTMLElement().style.height="",this.selectList.layout();var Lt=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());var et=this._hasDetails?this._cachedMaxDetailsHeight:0,Vt=Lt+Fe+et,Re=Math.floor((Xe-Fe-et)/this.getHeight()),Ce=Math.floor((Et-Fe-et)/this.getHeight());if(Oe)return Pe.top+Pe.height>window.innerHeight-22||Pe.top<De.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||Re<1&&Ce<1?!1:(Re<De.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&Ce>Re&&this.options.length>Re?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(Pe.top+Pe.height>window.innerHeight-22||Pe.top<De.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&Re<1||this._dropDownPosition===1&&Ce<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&Re+Ce<1)return this.hideSelectDropDown(!0),!1;Vt>Xe&&(Lt=Re*this.getHeight())}else Vt>Et&&(Lt=Ce*this.getHeight());return this.selectList.layout(Lt),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=Lt+Fe+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=Lt+Fe+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=pt,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}},{key:"setWidthControlElement",value:function(Oe){var Pe=0;if(Oe){var Ne=0,Fe=0;this.options.forEach(function(Xe,Et){var Ft=Xe.detail?Xe.detail.length:0,Ot=Xe.decoratorRight?Xe.decoratorRight.length:0,pt=Xe.text.length+Ft+Ot;pt>Fe&&(Ne=Et,Fe=pt)}),Oe.textContent=this.options[Ne].text+(this.options[Ne].decoratorRight?this.options[Ne].decoratorRight+" ":""),Pe=Z.getTotalWidth(Oe)}return Pe}},{key:"createSelectList",value:function(Oe){var Pe=this;if(!this.selectList){this.selectDropDownListContainer=Z.append(Oe,z(".select-box-dropdown-list-container")),this.listRenderer=new de,this.selectList=new N.b("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:function(Et){var Ft=Et.text;return Et.detail&&(Ft+=". ".concat(Et.detail)),Et.decoratorRight&&(Ft+=". ".concat(Et.decoratorRight)),Et.description&&(Ft+=". ".concat(Et.description)),Ft},getWidgetAriaLabel:function(){return Object(T.b)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box")},getRole:function(){return x.i?"":"option"},getWidgetRole:function(){return"listbox"}}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);var Ne=this._register(new B.a(this.selectDropDownListContainer,"keydown")),Fe=d.c.chain(Ne.event).filter(function(){return Pe.selectList.length>0}).map(function(Xe){return new F.a(Xe)});this._register(Fe.filter(function(Xe){return Xe.keyCode===3}).on(function(Xe){return Pe.onEnter(Xe)},this)),this._register(Fe.filter(function(Xe){return Xe.keyCode===2}).on(function(Xe){return Pe.onEnter(Xe)},this)),this._register(Fe.filter(function(Xe){return Xe.keyCode===9}).on(function(Xe){return Pe.onEscape(Xe)},this)),this._register(Fe.filter(function(Xe){return Xe.keyCode===16}).on(function(Xe){return Pe.onUpArrow(Xe)},this)),this._register(Fe.filter(function(Xe){return Xe.keyCode===18}).on(function(Xe){return Pe.onDownArrow(Xe)},this)),this._register(Fe.filter(function(Xe){return Xe.keyCode===12}).on(this.onPageDown,this)),this._register(Fe.filter(function(Xe){return Xe.keyCode===11}).on(this.onPageUp,this)),this._register(Fe.filter(function(Xe){return Xe.keyCode===14}).on(this.onHome,this)),this._register(Fe.filter(function(Xe){return Xe.keyCode===13}).on(this.onEnd,this)),this._register(Fe.filter(function(Xe){return Xe.keyCode>=21&&Xe.keyCode<=56||Xe.keyCode>=85&&Xe.keyCode<=113}).on(this.onCharacter,this)),this._register(Z.addDisposableListener(this.selectList.getHTMLElement(),Z.EventType.POINTER_UP,function(Xe){return Pe.onPointerUp(Xe)})),this._register(this.selectList.onMouseOver(function(Xe){return typeof Xe.index!="undefined"&&Pe.selectList.setFocus([Xe.index])})),this._register(this.selectList.onDidChangeFocus(function(Xe){return Pe.onListFocus(Xe)})),this._register(Z.addDisposableListener(this.selectDropDownContainer,Z.EventType.FOCUS_OUT,function(Xe){!Pe._isVisible||Z.isAncestor(Xe.relatedTarget,Pe.selectDropDownContainer)||Pe.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}}},{key:"onPointerUp",value:function(Oe){if(!!this.selectList.length){Z.EventHelper.stop(Oe);var Pe=Oe.target;if(!!Pe&&!Pe.classList.contains("slider")){var Ne=Pe.closest(".monaco-list-row");if(!!Ne){var Fe=Number(Ne.getAttribute("data-index")),Xe=Ne.classList.contains("option-disabled");Fe>=0&&Fe<this.options.length&&!Xe&&(this.selected=Fe,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}}}}},{key:"onListBlur",value:function(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}},{key:"renderDescriptionMarkdown",value:function(Oe,Pe){var Ne=function Xe(Et){for(var Ft=0;Ft<Et.childNodes.length;Ft++){var Ot=Et.childNodes.item(Ft),pt=Ot.tagName&&Ot.tagName.toLowerCase();pt==="img"?Et.removeChild(Ot):Xe(Ot)}},Fe=Object(W.a)({value:Oe,supportThemeIcons:!0},{actionHandler:Pe});return Fe.element.classList.add("select-box-description-markdown"),Ne(Fe.element),Fe.element}},{key:"onListFocus",value:function(Oe){!this._isVisible||!this._hasDetails||this.updateDetail(Oe.indexes[0])}},{key:"updateDetail",value:function(Oe){var Pe,Ne;this.selectionDetailsPane.innerText="";var Fe=this.options[Oe],Xe=(Pe=Fe==null?void 0:Fe.description)!==null&&Pe!==void 0?Pe:"",Et=(Ne=Fe==null?void 0:Fe.descriptionIsMarkdown)!==null&&Ne!==void 0?Ne:!1;if(Xe){if(Et){var Ft=Fe.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(Xe,Ft))}else this.selectionDetailsPane.innerText=Xe;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}},{key:"onEscape",value:function(Oe){Z.EventHelper.stop(Oe),this.select(this._currentSelection),this.hideSelectDropDown(!0)}},{key:"onEnter",value:function(Oe){Z.EventHelper.stop(Oe),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}},{key:"onDownArrow",value:function(Oe){if(this.selected<this.options.length-1){Z.EventHelper.stop(Oe,!0);var Pe=this.options[this.selected+1].isDisabled;if(Pe&&this.options.length>this.selected+2)this.selected+=2;else{if(Pe)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}},{key:"onUpArrow",value:function(Oe){if(this.selected>0){Z.EventHelper.stop(Oe,!0);var Pe=this.options[this.selected-1].isDisabled;Pe&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}},{key:"onPageUp",value:function(Oe){var Pe=this;Z.EventHelper.stop(Oe),this.selectList.focusPreviousPage(),setTimeout(function(){Pe.selected=Pe.selectList.getFocus()[0],Pe.options[Pe.selected].isDisabled&&Pe.selected<Pe.options.length-1&&(Pe.selected++,Pe.selectList.setFocus([Pe.selected])),Pe.selectList.reveal(Pe.selected),Pe.select(Pe.selected)},1)}},{key:"onPageDown",value:function(Oe){var Pe=this;Z.EventHelper.stop(Oe),this.selectList.focusNextPage(),setTimeout(function(){Pe.selected=Pe.selectList.getFocus()[0],Pe.options[Pe.selected].isDisabled&&Pe.selected>0&&(Pe.selected--,Pe.selectList.setFocus([Pe.selected])),Pe.selectList.reveal(Pe.selected),Pe.select(Pe.selected)},1)}},{key:"onHome",value:function(Oe){Z.EventHelper.stop(Oe),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}},{key:"onEnd",value:function(Oe){Z.EventHelper.stop(Oe),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}},{key:"onCharacter",value:function(Oe){for(var Pe=D.d.toString(Oe.keyCode),Ne=-1,Fe=0;Fe<this.options.length-1;Fe++)if(Ne=(Fe+this.selected+1)%this.options.length,this.options[Ne].text.charAt(0).toUpperCase()===Pe&&!this.options[Ne].isDisabled){this.select(Ne),this.selectList.setFocus([Ne]),this.selectList.reveal(this.selectList.getFocus()[0]),Z.EventHelper.stop(Oe);break}}},{key:"dispose",value:function(){this.hideSelectDropDown(!1),Object(se.a)(Object(te.a)(De.prototype),"dispose",this).call(this)}}]),De}(C.a);pe.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,pe.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,pe.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;var fe=function(ge){Object($.a)(De,ge);var L=Object(_.a)(De);function De(Ae,Oe,Pe,Ne){var Fe;return Object(we.a)(this,De),Fe=L.call(this),Fe.selected=0,Fe.selectBoxOptions=Ne||Object.create(null),Fe.options=[],Fe.selectElement=document.createElement("select"),Fe.selectElement.className="monaco-select-box",typeof Fe.selectBoxOptions.ariaLabel=="string"&&Fe.selectElement.setAttribute("aria-label",Fe.selectBoxOptions.ariaLabel),typeof Fe.selectBoxOptions.ariaDescription=="string"&&Fe.selectElement.setAttribute("aria-description",Fe.selectBoxOptions.ariaDescription),Fe._onDidSelect=Fe._register(new d.b),Fe.styles=Pe,Fe.registerListeners(),Fe.setOptions(Ae,Oe),Fe}return Object(w.a)(De,[{key:"registerListeners",value:function(){var Oe=this;this._register(ne.b.addTarget(this.selectElement)),[ne.a.Tap].forEach(function(Pe){Oe._register(Z.addDisposableListener(Oe.selectElement,Pe,function(Ne){Oe.selectElement.focus()}))}),this._register(Z.addStandardDisposableListener(this.selectElement,"click",function(Pe){Z.EventHelper.stop(Pe,!0)})),this._register(Z.addStandardDisposableListener(this.selectElement,"change",function(Pe){Oe.selectElement.title=Pe.target.value,Oe._onDidSelect.fire({index:Pe.target.selectedIndex,selected:Pe.target.value})})),this._register(Z.addStandardDisposableListener(this.selectElement,"keydown",function(Pe){var Ne=!1;x.i?(Pe.keyCode===18||Pe.keyCode===16||Pe.keyCode===10)&&(Ne=!0):(Pe.keyCode===18&&Pe.altKey||Pe.keyCode===10||Pe.keyCode===3)&&(Ne=!0),Ne&&Pe.stopPropagation()}))}},{key:"onDidSelect",get:function(){return this._onDidSelect.event}},{key:"setOptions",value:function(Oe,Pe){var Ne=this;(!this.options||!H.j(this.options,Oe))&&(this.options=Oe,this.selectElement.options.length=0,this.options.forEach(function(Fe,Xe){Ne.selectElement.add(Ne.createOption(Fe.text,Xe,Fe.isDisabled))})),Pe!==void 0&&this.select(Pe)}},{key:"select",value:function(Oe){this.options.length===0?this.selected=0:Oe>=0&&Oe<this.options.length?this.selected=Oe:Oe>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}},{key:"focus",value:function(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}},{key:"blur",value:function(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}},{key:"setFocusable",value:function(Oe){this.selectElement.tabIndex=Oe?0:-1}},{key:"render",value:function(Oe){Oe.classList.add("select-container"),Oe.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}},{key:"applyStyles",value:function(){var Oe,Pe,Ne;this.selectElement&&(this.selectElement.style.backgroundColor=(Oe=this.styles.selectBackground)!==null&&Oe!==void 0?Oe:"",this.selectElement.style.color=(Pe=this.styles.selectForeground)!==null&&Pe!==void 0?Pe:"",this.selectElement.style.borderColor=(Ne=this.styles.selectBorder)!==null&&Ne!==void 0?Ne:"")}},{key:"createOption",value:function(Oe,Pe,Ne){var Fe=document.createElement("option");return Fe.value=Oe,Fe.text=Oe,Fe.disabled=!!Ne,Fe}}]),De}(C.a),ke=a("G300"),A=a("YftQ"),P=function(ge){Object($.a)(De,ge);var L=Object(_.a)(De);function De(Ae,Oe,Pe,Ne,Fe){var Xe;return Object(we.a)(this,De),Xe=L.call(this),x.i&&!(Fe==null?void 0:Fe.useCustomDrawn)?Xe.selectBoxDelegate=new fe(Ae,Oe,Ne,Fe):Xe.selectBoxDelegate=new pe(Ae,Oe,Pe,Ne,Fe),Xe._register(Xe.selectBoxDelegate),Xe}return Object(w.a)(De,[{key:"onDidSelect",get:function(){return this.selectBoxDelegate.onDidSelect}},{key:"setOptions",value:function(Oe,Pe){this.selectBoxDelegate.setOptions(Oe,Pe)}},{key:"select",value:function(Oe){this.selectBoxDelegate.select(Oe)}},{key:"focus",value:function(){this.selectBoxDelegate.focus()}},{key:"blur",value:function(){this.selectBoxDelegate.blur()}},{key:"setFocusable",value:function(Oe){this.selectBoxDelegate.setFocusable(Oe)}},{key:"render",value:function(Oe){this.selectBoxDelegate.render(Oe)}}]),De}(ke.a),G=a("8HAY"),re=a("746U"),ae=a("yEoX"),Q=function(ge){Object($.a)(De,ge);var L=Object(_.a)(De);function De(Ae,Oe){var Pe,Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object(we.a)(this,De),Pe=L.call(this),Pe.options=Ne,Pe._context=Ae||Object(ve.a)(Pe),Pe._action=Oe,Oe instanceof G.a&&Pe._register(Oe.onDidChange(function(Fe){!Pe.element||Pe.handleActionChangeEvent(Fe)})),Pe}return Object(w.a)(De,[{key:"action",get:function(){return this._action}},{key:"handleActionChangeEvent",value:function(Oe){Oe.enabled!==void 0&&this.updateEnabled(),Oe.checked!==void 0&&this.updateChecked(),Oe.class!==void 0&&this.updateClass(),Oe.label!==void 0&&(this.updateLabel(),this.updateTooltip()),Oe.tooltip!==void 0&&this.updateTooltip()}},{key:"actionRunner",get:function(){return this._actionRunner||(this._actionRunner=this._register(new G.b)),this._actionRunner},set:function(Oe){this._actionRunner=Oe}},{key:"isEnabled",value:function(){return this._action.enabled}},{key:"setActionContext",value:function(Oe){this._context=Oe}},{key:"render",value:function(Oe){var Pe=this,Ne=this.element=Oe;this._register(ne.b.addTarget(Oe));var Fe=this.options&&this.options.draggable;Fe&&(Oe.draggable=!0,Y.isFirefox&&this._register(Object(Z.addDisposableListener)(Oe,Z.EventType.DRAG_START,function(Xe){var Et;return(Et=Xe.dataTransfer)===null||Et===void 0?void 0:Et.setData(E.a.TEXT,Pe._action.label)}))),this._register(Object(Z.addDisposableListener)(Ne,ne.a.Tap,function(Xe){return Pe.onClick(Xe,!0)})),this._register(Object(Z.addDisposableListener)(Ne,Z.EventType.MOUSE_DOWN,function(Xe){Fe||Z.EventHelper.stop(Xe,!0),Pe._action.enabled&&Xe.button===0&&Ne.classList.add("active")})),x.i&&this._register(Object(Z.addDisposableListener)(Ne,Z.EventType.CONTEXT_MENU,function(Xe){Xe.button===0&&Xe.ctrlKey===!0&&Pe.onClick(Xe)})),this._register(Object(Z.addDisposableListener)(Ne,Z.EventType.CLICK,function(Xe){Z.EventHelper.stop(Xe,!0),Pe.options&&Pe.options.isMenu||Pe.onClick(Xe)})),this._register(Object(Z.addDisposableListener)(Ne,Z.EventType.DBLCLICK,function(Xe){Z.EventHelper.stop(Xe,!0)})),[Z.EventType.MOUSE_UP,Z.EventType.MOUSE_OUT].forEach(function(Xe){Pe._register(Object(Z.addDisposableListener)(Ne,Xe,function(Et){Z.EventHelper.stop(Et),Ne.classList.remove("active")}))})}},{key:"onClick",value:function(Oe){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ne;Z.EventHelper.stop(Oe,!0);var Fe=re.l(this._context)?((Ne=this.options)===null||Ne===void 0?void 0:Ne.useEventAsContext)?Oe:{preserveFocus:Pe}:this._context;this.actionRunner.run(this._action,Fe)}},{key:"focus",value:function(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}},{key:"blur",value:function(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}},{key:"setFocusable",value:function(Oe){this.element&&(this.element.tabIndex=Oe?0:-1)}},{key:"trapsArrowNavigation",get:function(){return!1}},{key:"updateEnabled",value:function(){}},{key:"updateLabel",value:function(){}},{key:"getTooltip",value:function(){return this.action.tooltip}},{key:"updateTooltip",value:function(){var Oe;if(!!this.element){var Pe=(Oe=this.getTooltip())!==null&&Oe!==void 0?Oe:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(Pe):(this.customHover=Object(V.a)(this.options.hoverDelegate,this.element,Pe),this._store.add(this.customHover))):this.element.title=Pe}}},{key:"updateAriaLabel",value:function(){var Oe;if(this.element){var Pe=(Oe=this.getTooltip())!==null&&Oe!==void 0?Oe:"";this.element.setAttribute("aria-label",Pe)}}},{key:"updateClass",value:function(){}},{key:"updateChecked",value:function(){}},{key:"dispose",value:function(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,Object(se.a)(Object(te.a)(De.prototype),"dispose",this).call(this)}}]),De}(C.a),J=function(ge){Object($.a)(De,ge);var L=Object(_.a)(De);function De(Ae,Oe,Pe){var Ne;return Object(we.a)(this,De),Ne=L.call(this,Ae,Oe,Pe),Ne.options=Pe,Ne.options.icon=Pe.icon!==void 0?Pe.icon:!1,Ne.options.label=Pe.label!==void 0?Pe.label:!0,Ne.cssClass="",Ne}return Object(w.a)(De,[{key:"render",value:function(Oe){Object(se.a)(Object(te.a)(De.prototype),"render",this).call(this,Oe),this.element&&(this.label=Object(Z.append)(this.element,Object(Z.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this.getDefaultAriaRole()),this.options.label&&this.options.keybinding&&this.element&&(Object(Z.append)(this.element,Object(Z.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}},{key:"getDefaultAriaRole",value:function(){return this._action.id===G.d.ID?"presentation":this.options.isMenu?"menuitem":"button"}},{key:"focus",value:function(){this.label&&(this.label.tabIndex=0,this.label.focus())}},{key:"blur",value:function(){this.label&&(this.label.tabIndex=-1)}},{key:"setFocusable",value:function(Oe){this.label&&(this.label.tabIndex=Oe?0:-1)}},{key:"updateLabel",value:function(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}},{key:"getTooltip",value:function(){var Oe=null;return this.action.tooltip?Oe=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(Oe=this.action.label,this.options.keybinding&&(Oe=T.b({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",Oe,this.options.keybinding))),Oe!=null?Oe:void 0}},{key:"updateClass",value:function(){var Oe;if(this.cssClass&&this.label){var Pe;(Pe=this.label.classList).remove.apply(Pe,Object(ce.a)(this.cssClass.split(" ")))}if(this.options.icon){if(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass)){var Ne;(Ne=this.label.classList).add.apply(Ne,Object(ce.a)(this.cssClass.split(" ")))}this.updateEnabled()}else(Oe=this.label)===null||Oe===void 0||Oe.classList.remove("codicon")}},{key:"updateEnabled",value:function(){var Oe,Pe;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(Oe=this.element)===null||Oe===void 0||Oe.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(Pe=this.element)===null||Pe===void 0||Pe.classList.add("disabled"))}},{key:"updateAriaLabel",value:function(){var Oe;if(this.label){var Pe=(Oe=this.getTooltip())!==null&&Oe!==void 0?Oe:"";this.label.setAttribute("aria-label",Pe)}}},{key:"updateChecked",value:function(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.setAttribute("aria-checked",""),this.label.setAttribute("role",this.getDefaultAriaRole())))}}]),De}(Q),me=function(ge){Object($.a)(De,ge);var L=Object(_.a)(De);function De(Ae,Oe,Pe,Ne,Fe,Xe,Et){var Ft;return Object(we.a)(this,De),Ft=L.call(this,Ae,Oe),Ft.selectBox=new P(Pe,Ne,Fe,Xe,Et),Ft.selectBox.setFocusable(!1),Ft._register(Ft.selectBox),Ft.registerListeners(),Ft}return Object(w.a)(De,[{key:"select",value:function(Oe){this.selectBox.select(Oe)}},{key:"registerListeners",value:function(){var Oe=this;this._register(this.selectBox.onDidSelect(function(Pe){return Oe.runAction(Pe.selected,Pe.index)}))}},{key:"runAction",value:function(Oe,Pe){this.actionRunner.run(this._action,this.getActionContext(Oe,Pe))}},{key:"getActionContext",value:function(Oe,Pe){return Oe}},{key:"setFocusable",value:function(Oe){this.selectBox.setFocusable(Oe)}},{key:"focus",value:function(){var Oe;(Oe=this.selectBox)===null||Oe===void 0||Oe.focus()}},{key:"blur",value:function(){var Oe;(Oe=this.selectBox)===null||Oe===void 0||Oe.blur()}},{key:"render",value:function(Oe){this.selectBox.render(Oe)}}]),De}(Q)},"746U":function(mn,U,a){"use strict";a.d(U,"i",function(){return ce}),a.d(U,"h",function(){return we}),a.d(U,"j",function(){return w}),a.d(U,"g",function(){return ve}),a.d(U,"f",function(){return se}),a.d(U,"c",function(){return te}),a.d(U,"k",function(){return $}),a.d(U,"d",function(){return _}),a.d(U,"l",function(){return Y}),a.d(U,"b",function(){return E}),a.d(U,"a",function(){return Z}),a.d(U,"e",function(){return ne}),a.d(U,"m",function(){return V}),a.d(U,"n",function(){return F}),a.d(U,"o",function(){return W});function ce(N){return typeof N=="string"}function we(N){return typeof N=="object"&&N!==null&&!Array.isArray(N)&&!(N instanceof RegExp)&&!(N instanceof Date)}function w(N){var H=Object.getPrototypeOf(Uint8Array);return typeof N=="object"&&N instanceof H}function ve(N){return typeof N=="number"&&!isNaN(N)}function se(N){return!!N&&typeof N[Symbol.iterator]=="function"}function te(N){return N===!0||N===!1}function $(N){return typeof N=="undefined"}function _(N){return!Y(N)}function Y(N){return $(N)||N===null}function E(N,H){if(!N)throw new Error(H?"Unexpected type, expected '".concat(H,"'"):"Unexpected type")}function Z(N){if(Y(N))throw new Error("Assertion Failed: argument is undefined or null");return N}function ne(N){return typeof N=="function"}function V(N,H){for(var d=Math.min(N.length,H.length),D=0;D<d;D++)B(N[D],H[D])}function B(N,H){if(ce(H)){if(typeof N!==H)throw new Error("argument does not match constraint: typeof ".concat(H))}else if(ne(H)){try{if(N instanceof H)return}catch(d){}if(!Y(N)&&N.constructor===H||H.length===1&&H.call(void 0,N)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function F(N){return N===null?void 0:N}function W(N){return typeof N=="undefined"?null:N}},"7AJZ":function(mn,U,a){"use strict";a.d(U,"a",function(){return ve}),a.d(U,"b",function(){return se}),a.d(U,"c",function(){return te});var ce=a("fWQN"),we=a("mtLc"),w=a("LloX"),ve=new(function(){function $(){Object(ce.a)(this,$)}return Object(we.a)($,[{key:"clone",value:function(){return this}},{key:"equals",value:function(Y){return this===Y}}]),$}());function se($,_){return new w.n([new w.l(0,"",$)],_)}function te($,_){var Y=new Uint32Array(2);return Y[0]=0,Y[1]=($<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new w.d(Y,_===null?ve:_)}},"7GBL":function(mn,U,a){},"7afs":function(mn,U,a){"use strict";a.d(U,"c",function(){return ve}),a.d(U,"b",function(){return se}),a.d(U,"d",function(){return _}),a.d(U,"a",function(){return F});var ce=a("fWQN"),we=a("mtLc"),w=a("N0LK");function ve(W){return se(W,0)}function se(W,N){switch(typeof W){case"object":return W===null?te(349,N):Array.isArray(W)?Y(W,N):E(W,N);case"string":return _(W,N);case"boolean":return $(W,N);case"number":return te(W,N);case"undefined":return te(937,N);default:return te(617,N)}}function te(W,N){return(N<<5)-N+W|0}function $(W,N){return te(W?433:863,N)}function _(W,N){N=te(149417,N);for(var H=0,d=W.length;H<d;H++)N=te(W.charCodeAt(H),N);return N}function Y(W,N){return N=te(104579,N),W.reduce(function(H,d){return se(d,H)},N)}function E(W,N){return N=te(181387,N),Object.keys(W).sort().reduce(function(H,d){return H=_(d,H),se(W[d],H)},N)}function Z(W,N){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:32,d=H-N,D=~((1<<d)-1);return(W<<N|(D&W)>>>d)>>>0}function ne(W){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:W.byteLength,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,D=0;D<H;D++)W[N+D]=d}function V(W,N){for(var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";W.length<N;)W=H+W;return W}function B(W){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:32;return W instanceof ArrayBuffer?Array.from(new Uint8Array(W)).map(function(H){return H.toString(16).padStart(2,"0")}).join(""):V((W>>>0).toString(16),N/4)}var F=function(){function W(){Object(ce.a)(this,W),this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}return Object(we.a)(W,[{key:"update",value:function(H){var d=H.length;if(d!==0){var D=this._buff,C=this._buffLen,x=this._leftoverHighSurrogate,O,T;for(x!==0?(O=x,T=-1,x=0):(O=H.charCodeAt(0),T=0);;){var z=O;if(w.F(O))if(T+1<d){var I=H.charCodeAt(T+1);w.G(I)?(T++,z=w.l(O,I)):z=65533}else{x=O;break}else w.G(O)&&(z=65533);if(C=this._push(D,C,z),T++,T<d)O=H.charCodeAt(T);else break}this._buffLen=C,this._leftoverHighSurrogate=x}}},{key:"_push",value:function(H,d,D){return D<128?H[d++]=D:D<2048?(H[d++]=192|(D&1984)>>>6,H[d++]=128|(D&63)>>>0):D<65536?(H[d++]=224|(D&61440)>>>12,H[d++]=128|(D&4032)>>>6,H[d++]=128|(D&63)>>>0):(H[d++]=240|(D&1835008)>>>18,H[d++]=128|(D&258048)>>>12,H[d++]=128|(D&4032)>>>6,H[d++]=128|(D&63)>>>0),d>=64&&(this._step(),d-=64,this._totalLen+=64,H[0]=H[64+0],H[1]=H[64+1],H[2]=H[64+2]),d}},{key:"digest",value:function(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),B(this._h0)+B(this._h1)+B(this._h2)+B(this._h3)+B(this._h4)}},{key:"_wrapUp",value:function(){this._buff[this._buffLen++]=128,ne(this._buff,this._buffLen),this._buffLen>56&&(this._step(),ne(this._buff));var H=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(H/4294967296),!1),this._buffDV.setUint32(60,H%4294967296,!1),this._step()}},{key:"_step",value:function(){for(var H=W._bigBlock32,d=this._buffDV,D=0;D<64;D+=4)H.setUint32(D,d.getUint32(D,!1),!1);for(var C=64;C<320;C+=4)H.setUint32(C,Z(H.getUint32(C-12,!1)^H.getUint32(C-32,!1)^H.getUint32(C-56,!1)^H.getUint32(C-64,!1),1),!1);for(var x=this._h0,O=this._h1,T=this._h2,z=this._h3,I=this._h4,de,pe,fe,ke=0;ke<80;ke++)ke<20?(de=O&T|~O&z,pe=1518500249):ke<40?(de=O^T^z,pe=1859775393):ke<60?(de=O&T|O&z|T&z,pe=2400959708):(de=O^T^z,pe=3395469782),fe=Z(x,5)+de+I+pe+H.getUint32(ke*4,!1)&4294967295,I=z,z=T,T=Z(O,30),O=x,x=fe;this._h0=this._h0+x&4294967295,this._h1=this._h1+O&4294967295,this._h2=this._h2+T&4294967295,this._h3=this._h3+z&4294967295,this._h4=this._h4+I&4294967295}}]),W}();F._bigBlock32=new DataView(new ArrayBuffer(320))},"7lZ/":function(mn,U,a){"use strict";a.d(U,"a",function(){return _});var ce=a("oBTY"),we=a("rAM+"),w=a("fWQN"),ve=a("mtLc"),se=a("EffR"),te=a("fdyd"),$=a("qj0h"),_=function(){function Y(E,Z){Object(w.a)(this,Y);var ne;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(ne=Z==null?void 0:Z.supportIcons)!==null&&ne!==void 0?ne:!1,this.domNode=se.append(E,se.$("span.monaco-highlighted-label"))}return Object(ve.a)(Y,[{key:"element",get:function(){return this.domNode}},{key:"set",value:function(Z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",B=arguments.length>3?arguments[3]:void 0;Z||(Z=""),B&&(Z=Y.escapeNewLines(Z,ne)),!(this.didEverRender&&this.text===Z&&this.title===V&&$.e(this.highlights,ne))&&(this.text=Z,this.title=V,this.highlights=ne,this.render())}},{key:"render",value:function(){var Z=[],ne=0,V=Object(we.a)(this.highlights),B;try{for(V.s();!(B=V.n()).done;){var F=B.value;if(F.end!==F.start){if(ne<F.start){var W=this.text.substring(ne,F.start);this.supportIcons?Z.push.apply(Z,Object(ce.a)(Object(te.a)(W))):Z.push(W),ne=F.start}var N=this.text.substring(ne,F.end),H=se.$.apply(se,["span.highlight",void 0].concat(Object(ce.a)(this.supportIcons?Object(te.a)(N):[N])));if(F.extraClasses){var d;(d=H.classList).add.apply(d,Object(ce.a)(F.extraClasses))}Z.push(H),ne=F.end}}}catch(C){V.e(C)}finally{V.f()}if(ne<this.text.length){var D=this.text.substring(ne);this.supportIcons?Z.push.apply(Z,Object(ce.a)(Object(te.a)(D))):Z.push(D)}se.reset.apply(se,[this.domNode].concat(Z)),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}}],[{key:"escapeNewLines",value:function(Z,ne){var V=0,B=0;return Z.replace(/\r\n|\r|\n/g,function(F,W){B=F===`\r
`?-1:0,W+=V;var N=Object(we.a)(ne),H;try{for(N.s();!(H=N.n()).done;){var d=H.value;d.end<=W||(d.start>=W&&(d.start+=B),d.end>=W&&(d.end+=B))}}catch(D){N.e(D)}finally{N.f()}return V+=B,"\u23CE"})}}]),Y}()},"7z/i":function(mn,U,a){"use strict";(function(ce){var we=typeof ce!="undefined"&&ce.versions!=null&&ce.versions.node!=null,w=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!we};U.a=w}).call(this,a("Q2Ig"))},"7zd4":function(mn,U,a){},"87Gm":function(mn,U,a){"use strict";a.d(U,"a",function(){return C}),a.d(U,"b",function(){return x}),a.d(U,"c",function(){return O});var ce=a("w4Tj"),we=a("oZsa"),w=a("yKVA"),ve=a("879j"),se=a("fWQN"),te=a("mtLc"),$=a("N0LK"),_=a("aokT"),Y=a("JQT/"),E=a("pmY6"),Z=a("tS8v"),ne=a("sswD"),V=a("T8No"),B=a("24hK"),F=a("Cg/j"),W=a("9fML"),N=a("3/fG"),H=Object(F.c)("IEditorCancelService"),d=new V.c("cancellableOperation",!1,Object(N.b)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Object(W.b)(H,function(){function T(){Object(se.a)(this,T),this._tokens=new WeakMap}return Object(te.a)(T,[{key:"add",value:function(I,de){var pe=this._tokens.get(I);pe||(pe=I.invokeWithinContext(function(ke){var A=d.bindTo(ke.get(V.b)),P=new B.a;return{key:A,tokens:P}}),this._tokens.set(I,pe));var fe;return pe.key.set(!0),fe=pe.tokens.push(de),function(){fe&&(fe(),pe.key.set(!pe.tokens.isEmpty()),fe=void 0)}}},{key:"cancel",value:function(I){var de=this._tokens.get(I);if(!!de){var pe=de.tokens.pop();pe&&(pe.cancel(),de.key.set(!de.tokens.isEmpty()))}}}]),T}(),1);var D=function(T){Object(w.a)(I,T);var z=Object(ve.a)(I);function I(de,pe){var fe;return Object(se.a)(this,I),fe=z.call(this,pe),fe.editor=de,fe._unregister=de.invokeWithinContext(function(ke){return ke.get(H).add(de,Object(Z.a)(fe))}),fe}return Object(te.a)(I,[{key:"dispose",value:function(){this._unregister(),Object(ce.a)(Object(we.a)(I.prototype),"dispose",this).call(this)}}]),I}(Y.b);Object(ne.l)(new(function(T){Object(w.a)(I,T);var z=Object(ve.a)(I);function I(){return Object(se.a)(this,I),z.call(this,{id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:d})}return Object(te.a)(I,[{key:"runEditorCommand",value:function(pe,fe){pe.get(H).cancel(fe)}}]),I}(ne.d)));var C=function(){function T(z,I){if(Object(se.a)(this,T),this.flags=I,(this.flags&1)!=0){var de=z.getModel();this.modelVersionId=de?$.v("{0}#{1}",de.uri.toString(),de.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=z.getPosition():this.position=null,(this.flags&2)!=0?this.selection=z.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=z.getScrollLeft(),this.scrollTop=z.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}return Object(te.a)(T,[{key:"_equals",value:function(I){if(!(I instanceof T))return!1;var de=I;return!(this.modelVersionId!==de.modelVersionId||this.scrollLeft!==de.scrollLeft||this.scrollTop!==de.scrollTop||!this.position&&de.position||this.position&&!de.position||this.position&&de.position&&!this.position.equals(de.position)||!this.selection&&de.selection||this.selection&&!de.selection||this.selection&&de.selection&&!this.selection.equalsRange(de.selection))}},{key:"validate",value:function(I){return this._equals(new T(I,this.flags))}}]),T}(),x=function(T){Object(w.a)(I,T);var z=Object(ve.a)(I);function I(de,pe,fe,ke){var A;return Object(se.a)(this,I),A=z.call(this,de,ke),A._listener=new E.c,pe&4&&A._listener.add(de.onDidChangeCursorPosition(function(P){(!fe||!_.a.containsPosition(fe,P.position))&&A.cancel()})),pe&2&&A._listener.add(de.onDidChangeCursorSelection(function(P){(!fe||!_.a.containsRange(fe,P.selection))&&A.cancel()})),pe&8&&A._listener.add(de.onDidScrollChange(function(P){return A.cancel()})),pe&1&&(A._listener.add(de.onDidChangeModel(function(P){return A.cancel()})),A._listener.add(de.onDidChangeModelContent(function(P){return A.cancel()}))),A}return Object(te.a)(I,[{key:"dispose",value:function(){this._listener.dispose(),Object(ce.a)(Object(we.a)(I.prototype),"dispose",this).call(this)}}]),I}(D),O=function(T){Object(w.a)(I,T);var z=Object(ve.a)(I);function I(de,pe){var fe;return Object(se.a)(this,I),fe=z.call(this,pe),fe._listener=de.onDidChangeContent(function(){return fe.cancel()}),fe}return Object(te.a)(I,[{key:"dispose",value:function(){this._listener.dispose(),Object(ce.a)(Object(we.a)(I.prototype),"dispose",this).call(this)}}]),I}(Y.b)},"8HAY":function(mn,U,a){"use strict";a.d(U,"a",function(){return Z}),a.d(U,"b",function(){return ne}),a.d(U,"d",function(){return V}),a.d(U,"e",function(){return B}),a.d(U,"c",function(){return F}),a.d(U,"f",function(){return W});var ce=a("oBTY"),we=a("qLMh"),w=a("fWQN"),ve=a("mtLc"),se=a("yKVA"),te=a("879j"),$=a("MI8n"),_=a("pmY6"),Y=a("3/fG"),E=function(N,H,d,D){function C(x){return x instanceof d?x:new d(function(O){O(x)})}return new(d||(d=Promise))(function(x,O){function T(de){try{I(D.next(de))}catch(pe){O(pe)}}function z(de){try{I(D.throw(de))}catch(pe){O(pe)}}function I(de){de.done?x(de.value):C(de.value).then(T,z)}I((D=D.apply(N,H||[])).next())})},Z=function(N){Object(se.a)(d,N);var H=Object(te.a)(d);function d(D){var C,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,z=arguments.length>4?arguments[4]:void 0;return Object(w.a)(this,d),C=H.call(this),C._onDidChange=C._register(new $.b),C.onDidChange=C._onDidChange.event,C._enabled=!0,C._id=D,C._label=x,C._cssClass=O,C._enabled=T,C._actionCallback=z,C}return Object(ve.a)(d,[{key:"id",get:function(){return this._id}},{key:"label",get:function(){return this._label},set:function(C){this._setLabel(C)}},{key:"_setLabel",value:function(C){this._label!==C&&(this._label=C,this._onDidChange.fire({label:C}))}},{key:"tooltip",get:function(){return this._tooltip||""},set:function(C){this._setTooltip(C)}},{key:"_setTooltip",value:function(C){this._tooltip!==C&&(this._tooltip=C,this._onDidChange.fire({tooltip:C}))}},{key:"class",get:function(){return this._cssClass},set:function(C){this._setClass(C)}},{key:"_setClass",value:function(C){this._cssClass!==C&&(this._cssClass=C,this._onDidChange.fire({class:C}))}},{key:"enabled",get:function(){return this._enabled},set:function(C){this._setEnabled(C)}},{key:"_setEnabled",value:function(C){this._enabled!==C&&(this._enabled=C,this._onDidChange.fire({enabled:C}))}},{key:"checked",get:function(){return this._checked},set:function(C){this._setChecked(C)}},{key:"_setChecked",value:function(C){this._checked!==C&&(this._checked=C,this._onDidChange.fire({checked:C}))}},{key:"run",value:function(C,x){return E(this,void 0,void 0,Object(we.a)().mark(function O(){return Object(we.a)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!this._actionCallback){z.next=3;break}return z.next=3,this._actionCallback(C);case 3:case"end":return z.stop()}},O,this)}))}}]),d}(_.a),ne=function(N){Object(se.a)(d,N);var H=Object(te.a)(d);function d(){var D;return Object(w.a)(this,d),D=H.apply(this,arguments),D._onWillRun=D._register(new $.b),D.onWillRun=D._onWillRun.event,D._onDidRun=D._register(new $.b),D.onDidRun=D._onDidRun.event,D}return Object(ve.a)(d,[{key:"run",value:function(C,x){return E(this,void 0,void 0,Object(we.a)().mark(function O(){var T;return Object(we.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(C.enabled){I.next=2;break}return I.abrupt("return");case 2:return this._onWillRun.fire({action:C}),T=void 0,I.prev=4,I.next=7,this.runAction(C,x);case 7:I.next=12;break;case 9:I.prev=9,I.t0=I.catch(4),T=I.t0;case 12:this._onDidRun.fire({action:C,error:T});case 13:case"end":return I.stop()}},O,this,[[4,9]])}))}},{key:"runAction",value:function(C,x){return E(this,void 0,void 0,Object(we.a)().mark(function O(){return Object(we.a)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,C.run(x);case 2:case"end":return z.stop()}},O)}))}}]),d}(_.a),V=function(){function N(){Object(w.a)(this,N),this.id=N.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}return Object(ve.a)(N,[{key:"run",value:function(){return E(this,void 0,void 0,Object(we.a)().mark(function d(){return Object(we.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:case"end":return C.stop()}},d)}))}}],[{key:"join",value:function(){for(var d=[],D=arguments.length,C=new Array(D),x=0;x<D;x++)C[x]=arguments[x];for(var O=0,T=C;O<T.length;O++){var z=T[O];z.length&&(d.length?d=[].concat(Object(ce.a)(d),[new N],Object(ce.a)(z)):d=z)}return d}}]),N}();V.ID="vs.actions.separator";var B=function(){function N(H,d,D,C){Object(w.a)(this,N),this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=H,this.label=d,this.class=C,this._actions=D}return Object(ve.a)(N,[{key:"actions",get:function(){return this._actions}},{key:"run",value:function(){return E(this,void 0,void 0,Object(we.a)().mark(function d(){return Object(we.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:case"end":return C.stop()}},d)}))}}]),N}(),F=function(N){Object(se.a)(d,N);var H=Object(te.a)(d);function d(){return Object(w.a)(this,d),H.call(this,d.ID,Y.b("submenu.empty","(empty)"),void 0,!1)}return Object(ve.a)(d)}(Z);F.ID="vs.actions.empty";function W(N){var H=this,d,D;return{id:N.id,label:N.label,class:void 0,enabled:(d=N.enabled)!==null&&d!==void 0?d:!0,checked:(D=N.checked)!==null&&D!==void 0?D:!1,run:function(){return E(H,void 0,void 0,Object(we.a)().mark(function x(){return Object(we.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",N.run());case 1:case"end":return T.stop()}},x)}))},tooltip:N.label}}},"8HsV":function(mn,U,a){"use strict";a.d(U,"a",function(){return ve});var ce=a("tJVT"),we=a("fWQN"),w=a("mtLc"),ve=function(){function se(){Object(we.a)(this,se),this._entries=new Map;for(var te=arguments.length,$=new Array(te),_=0;_<te;_++)$[_]=arguments[_];for(var Y=0,E=$;Y<E.length;Y++){var Z=E[Y],ne=Object(ce.a)(Z,2),V=ne[0],B=ne[1];this.set(V,B)}}return Object(w.a)(se,[{key:"set",value:function($,_){var Y=this._entries.get($);return this._entries.set($,_),Y}},{key:"get",value:function($){return this._entries.get($)}}]),se}()},"8LL/":function(mn,U,a){},"8gvo":function(mn,U,a){},"8tI9":function(mn,U,a){},"8txm":function(mn,U,a){},"8z58":function(mn,U,a){"use strict";a.r(U),a.d(U,"CancellationTokenSource",function(){return Fi}),a.d(U,"Emitter",function(){return zi}),a.d(U,"KeyCode",function(){return lr}),a.d(U,"KeyMod",function(){return pr}),a.d(U,"Position",function(){return Or}),a.d(U,"Range",function(){return ur}),a.d(U,"Selection",function(){return nr}),a.d(U,"SelectionDirection",function(){return Pr}),a.d(U,"MarkerSeverity",function(){return Hr}),a.d(U,"MarkerTag",function(){return Ur}),a.d(U,"Uri",function(){return aa}),a.d(U,"Token",function(){return Da}),a.d(U,"editor",function(){return Sr}),a.d(U,"languages",function(){return da});var ce=a("/UlZ"),we=a("QkrF"),w=a("qLMh"),ve=a("oBTY"),se=a("siPX"),te=a("pmY6"),$=a("N0LK"),_=a("bY76"),Y=a("aKo+"),E=a("Vxe3"),Z=a("0Lb2"),ne=a("+3Gp"),V=a("iuje"),B=a("M1Kb"),F=a("LloX"),W=a("AYRw"),N=a("7AJZ"),H=a("CGdd"),d=a("lEqV"),D=a("rAM+"),C=a("fWQN"),x=a("mtLc"),O=a("yKVA"),T=a("879j"),z=a("qj0h"),I=a("KBqF");function de(he,le,b){return new pe(he,le,b)}var pe=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M){var q;return Object(C.a)(this,b),q=le.call(this,y,M.keepIdleModels||!1,M.label,p),q._foreignModuleId=M.moduleId,q._foreignModuleCreateData=M.createData||null,q._foreignModuleHost=M.host||null,q._foreignProxy=null,q}return Object(x.a)(b,[{key:"fhr",value:function(p,M){if(!this._foreignModuleHost||typeof this._foreignModuleHost[p]!="function")return Promise.reject(new Error("Missing method "+p+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[p].apply(this._foreignModuleHost,M))}catch(q){return Promise.reject(q)}}},{key:"_getForeignProxy",value:function(){var p=this;return this._foreignProxy||(this._foreignProxy=this._getProxy().then(function(M){var q=p._foreignModuleHost?Object(z.f)(p._foreignModuleHost):[];return M.loadForeignModule(p._foreignModuleId,p._foreignModuleCreateData,q).then(function(Se){p._foreignModuleCreateData=null;var Ie=function(vi,ii){return M.fmr(vi,ii)},qe=function(vi,ii){return function(){var di=Array.prototype.slice.call(arguments,0);return ii(vi,di)}},it={},dt=Object(D.a)(Se),Jt;try{for(dt.s();!(Jt=dt.n()).done;){var cn=Jt.value;it[cn]=qe(cn,Ie)}}catch(Mn){dt.e(Mn)}finally{dt.f()}return it})})),this._foreignProxy}},{key:"getProxy",value:function(){return this._getForeignProxy()}},{key:"withSyncedResources",value:function(p){var M=this;return this._withSyncedResources(p).then(function(q){return M.getProxy()})}}]),b}(I.a),fe=a("aIFW"),ke=a("c9Qy"),A=a("zhcO"),P=a("baJR"),G=a("YNuV");function re(he){return Array.isArray(he)}function ae(he){return!re(he)}function Q(he){return typeof he=="string"}function J(he){return!Q(he)}function me(he){return!he}function ge(he,le){return he.ignoreCase&&le?le.toLowerCase():le}function L(he){return he.replace(/[&<>'"_]/g,"-")}function De(he,le){console.log("".concat(he.languageId,": ").concat(le))}function Ae(he,le){return new Error("".concat(he.languageId,": ").concat(le))}function Oe(he,le,b,y,p){var M=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,q=null;return le.replace(M,function(Se,Ie,qe,it,dt,Jt,cn,Mn,vi){return me(qe)?me(it)?!me(dt)&&dt<y.length?ge(he,y[dt]):!me(cn)&&he&&typeof he[cn]=="string"?he[cn]:(q===null&&(q=p.split("."),q.unshift(p)),!me(Jt)&&Jt<q.length?ge(he,q[Jt]):""):ge(he,b):"$"})}function Pe(he,le){for(var b=le;b&&b.length>0;){var y=he.tokenizer[b];if(y)return y;var p=b.lastIndexOf(".");p<0?b=null:b=b.substr(0,p)}return null}function Ne(he,le){for(var b=le;b&&b.length>0;){var y=he.stateNames[b];if(y)return!0;var p=b.lastIndexOf(".");p<0?b=null:b=b.substr(0,p)}return!1}var Fe=a("+7oY"),Xe=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Et=function(he,le){return function(b,y){le(b,y,he)}},Ft=5,Ot=function(){function he(le){Object(C.a)(this,he),this._maxCacheDepth=le,this._entries=Object.create(null)}return Object(x.a)(he,[{key:"create",value:function(b,y){if(b!==null&&b.depth>=this._maxCacheDepth)return new pt(b,y);var p=pt.getStackElementId(b);p.length>0&&(p+="|"),p+=y;var M=this._entries[p];return M||(M=new pt(b,y),this._entries[p]=M,M)}}],[{key:"create",value:function(b,y){return this._INSTANCE.create(b,y)}}]),he}();Ot._INSTANCE=new Ot(Ft);var pt=function(){function he(le,b){Object(C.a)(this,he),this.parent=le,this.state=b,this.depth=(this.parent?this.parent.depth:0)+1}return Object(x.a)(he,[{key:"equals",value:function(b){return he._equals(this,b)}},{key:"push",value:function(b){return Ot.create(this,b)}},{key:"pop",value:function(){return this.parent}},{key:"popall",value:function(){for(var b=this;b.parent;)b=b.parent;return b}},{key:"switchTo",value:function(b){return Ot.create(this.parent,b)}}],[{key:"getStackElementId",value:function(b){for(var y="";b!==null;)y.length>0&&(y+="|"),y+=b.state,b=b.parent;return y}},{key:"_equals",value:function(b,y){for(;b!==null&&y!==null;){if(b===y)return!0;if(b.state!==y.state)return!1;b=b.parent,y=y.parent}return b===null&&y===null}}]),he}(),Lt=function(){function he(le,b){Object(C.a)(this,he),this.languageId=le,this.state=b}return Object(x.a)(he,[{key:"equals",value:function(b){return this.languageId===b.languageId&&this.state.equals(b.state)}},{key:"clone",value:function(){var b=this.state.clone();return b===this.state?this:new he(this.languageId,this.state)}}]),he}(),et=function(){function he(le){Object(C.a)(this,he),this._maxCacheDepth=le,this._entries=Object.create(null)}return Object(x.a)(he,[{key:"create",value:function(b,y){if(y!==null)return new Vt(b,y);if(b!==null&&b.depth>=this._maxCacheDepth)return new Vt(b,y);var p=pt.getStackElementId(b),M=this._entries[p];return M||(M=new Vt(b,null),this._entries[p]=M,M)}}],[{key:"create",value:function(b,y){return this._INSTANCE.create(b,y)}}]),he}();et._INSTANCE=new et(Ft);var Vt=function(){function he(le,b){Object(C.a)(this,he),this.stack=le,this.embeddedLanguageData=b}return Object(x.a)(he,[{key:"clone",value:function(){var b=this.embeddedLanguageData?this.embeddedLanguageData.clone():null;return b===this.embeddedLanguageData?this:et.create(this.stack,this.embeddedLanguageData)}},{key:"equals",value:function(b){return!(b instanceof he)||!this.stack.equals(b.stack)?!1:this.embeddedLanguageData===null&&b.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||b.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(b.embeddedLanguageData)}}]),he}(),Re=function(){function he(){Object(C.a)(this,he),this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}return Object(x.a)(he,[{key:"enterLanguage",value:function(b){this._languageId=b}},{key:"emit",value:function(b,y){this._lastTokenType===y&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=y,this._lastTokenLanguage=this._languageId,this._tokens.push(new F.l(b,y,this._languageId)))}},{key:"nestedLanguageTokenize",value:function(b,y,p,M){var q=p.languageId,Se=p.state,Ie=F.m.get(q);if(!Ie)return this.enterLanguage(q),this.emit(M,""),Se;var qe=Ie.tokenize(b,y,Se);if(M!==0){var it=Object(D.a)(qe.tokens),dt;try{for(it.s();!(dt=it.n()).done;){var Jt=dt.value;this._tokens.push(new F.l(Jt.offset+M,Jt.type,Jt.language))}}catch(cn){it.e(cn)}finally{it.f()}}else this._tokens=this._tokens.concat(qe.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,qe.endState}},{key:"finalize",value:function(b){return new F.n(this._tokens,b)}}]),he}(),Ce=function(){function he(le,b){Object(C.a)(this,he),this._languageService=le,this._theme=b,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}return Object(x.a)(he,[{key:"enterLanguage",value:function(b){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(b)}},{key:"emit",value:function(b,y){var p=this._theme.match(this._currentLanguageId,y)|1024;this._lastTokenMetadata!==p&&(this._lastTokenMetadata=p,this._tokens.push(b),this._tokens.push(p))}},{key:"nestedLanguageTokenize",value:function(b,y,p,M){var q=p.languageId,Se=p.state,Ie=F.m.get(q);if(!Ie)return this.enterLanguage(q),this.emit(M,""),Se;var qe=Ie.tokenizeEncoded(b,y,Se);if(M!==0)for(var it=0,dt=qe.tokens.length;it<dt;it+=2)qe.tokens[it]+=M;return this._prependTokens=he._merge(this._prependTokens,this._tokens,qe.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,qe.endState}},{key:"finalize",value:function(b){return new F.d(he._merge(this._prependTokens,this._tokens,null),b)}}],[{key:"_merge",value:function(b,y,p){var M=b!==null?b.length:0,q=y.length,Se=p!==null?p.length:0;if(M===0&&q===0&&Se===0)return new Uint32Array(0);if(M===0&&q===0)return p;if(q===0&&Se===0)return b;var Ie=new Uint32Array(M+q+Se);b!==null&&Ie.set(b);for(var qe=0;qe<q;qe++)Ie[M+qe]=y[qe];return p!==null&&Ie.set(p,M+q),Ie}}]),he}(),ye=function(){function he(le,b,y,p,M){var q=this;Object(C.a)(this,he),this._configurationService=M,this._languageService=le,this._standaloneThemeService=b,this._languageId=y,this._lexer=p,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);var Se=!1;this._tokenizationRegistryListener=F.m.onDidChange(function(Ie){if(!Se){for(var qe=!1,it=0,dt=Ie.changedLanguages.length;it<dt;it++){var Jt=Ie.changedLanguages[it];if(q._embeddedLanguages[Jt]){qe=!0;break}}qe&&(Se=!0,F.m.handleChange([q._languageId]),Se=!1)}}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(function(Ie){Ie.affectsConfiguration("editor.maxTokenizationLineLength")&&(q._maxTokenizationLineLength=q._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:q._languageId}))})}return Object(x.a)(he,[{key:"dispose",value:function(){this._tokenizationRegistryListener.dispose()}},{key:"getLoadStatus",value:function(){var b=[];for(var y in this._embeddedLanguages){var p=F.m.get(y);if(p){if(p instanceof he){var M=p.getLoadStatus();M.loaded===!1&&b.push(M.promise)}continue}F.m.isResolved(y)||b.push(F.m.getOrCreate(y))}return b.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(b).then(function(q){})}}},{key:"getInitialState",value:function(){var b=Ot.create(null,this._lexer.start);return et.create(b,null)}},{key:"tokenize",value:function(b,y,p){if(b.length>=this._maxTokenizationLineLength)return Object(N.b)(this._languageId,p);var M=new Re,q=this._tokenize(b,y,p,M);return M.finalize(q)}},{key:"tokenizeEncoded",value:function(b,y,p){if(b.length>=this._maxTokenizationLineLength)return Object(N.c)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),p);var M=new Ce(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),q=this._tokenize(b,y,p,M);return M.finalize(q)}},{key:"_tokenize",value:function(b,y,p,M){return p.embeddedLanguageData?this._nestedTokenize(b,y,p,0,M):this._myTokenize(b,y,p,0,M)}},{key:"_findLeavingNestedLanguageOffset",value:function(b,y){var p=this._lexer.tokenizer[y.stack.state];if(!p&&(p=Pe(this._lexer,y.stack.state),!p))throw Ae(this._lexer,"tokenizer state is not defined: "+y.stack.state);var M=-1,q=!1,Se=Object(D.a)(p),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value;if(!(!J(qe.action)||qe.action.nextEmbedded!=="@pop")){q=!0;var it=qe.regex,dt=qe.regex.source;if(dt.substr(0,4)==="^(?:"&&dt.substr(dt.length-1,1)===")"){var Jt=(it.ignoreCase?"i":"")+(it.unicode?"u":"");it=new RegExp(dt.substr(4,dt.length-5),Jt)}var cn=b.search(it);cn===-1||cn!==0&&qe.matchOnlyAtLineStart||(M===-1||cn<M)&&(M=cn)}}}catch(Mn){Se.e(Mn)}finally{Se.f()}if(!q)throw Ae(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+y.stack.state);return M}},{key:"_nestedTokenize",value:function(b,y,p,M,q){var Se=this._findLeavingNestedLanguageOffset(b,p);if(Se===-1){var Ie=q.nestedLanguageTokenize(b,y,p.embeddedLanguageData,M);return et.create(p.stack,new Lt(p.embeddedLanguageData.languageId,Ie))}var qe=b.substring(0,Se);qe.length>0&&q.nestedLanguageTokenize(qe,!1,p.embeddedLanguageData,M);var it=b.substring(Se);return this._myTokenize(it,y,p,M+Se,q)}},{key:"_safeRuleName",value:function(b){return b?b.name:"(unknown)"}},{key:"_myTokenize",value:function(b,y,p,M,q){var Se=this;q.enterLanguage(this._languageId);for(var Ie=b.length,qe=y&&this._lexer.includeLF?b+`
`:b,it=qe.length,dt=p.embeddedLanguageData,Jt=p.stack,cn=0,Mn=null,vi=!0;vi||cn<it;){var ii=cn,di=Jt.depth,$n=Mn?Mn.groups.length:0,ni=Jt.state,sr=null,mr=null,fr=null,Xr=null,Vr=null;if(Mn){sr=Mn.matches;var na=Mn.groups.shift();mr=na.matched,fr=na.action,Xr=Mn.rule,Mn.groups.length===0&&(Mn=null)}else{if(!vi&&cn>=it)break;vi=!1;var va=this._lexer.tokenizer[ni];if(!va&&(va=Pe(this._lexer,ni),!va))throw Ae(this._lexer,"tokenizer state is not defined: "+ni);var Ta=qe.substr(cn),io=Object(D.a)(va),bs;try{for(io.s();!(bs=io.n()).done;){var Za=bs.value;if((cn===0||!Za.matchOnlyAtLineStart)&&(sr=Ta.match(Za.regex),sr)){mr=sr[0],fr=Za.action;break}}}catch(Ia){io.e(Ia)}finally{io.f()}}if(sr||(sr=[""],mr=""),fr||(cn<it&&(sr=[qe.charAt(cn)],mr=sr[0]),fr=this._lexer.defaultToken),mr===null)break;for(cn+=mr.length;ae(fr)&&J(fr)&&fr.test;)fr=fr.test(mr,sr,ni,cn===it);var Na=null;if(typeof fr=="string"||Array.isArray(fr))Na=fr;else if(fr.group)Na=fr.group;else if(fr.token!==null&&fr.token!==void 0){if(fr.tokenSubst?Na=Oe(this._lexer,fr.token,mr,sr,ni):Na=fr.token,fr.nextEmbedded)if(fr.nextEmbedded==="@pop"){if(!dt)throw Ae(this._lexer,"cannot pop embedded language if not inside one");dt=null}else{if(dt)throw Ae(this._lexer,"cannot enter embedded language from within an embedded language");Vr=Oe(this._lexer,fr.nextEmbedded,mr,sr,ni)}if(fr.goBack&&(cn=Math.max(0,cn-fr.goBack)),fr.switchTo&&typeof fr.switchTo=="string"){var ga=Oe(this._lexer,fr.switchTo,mr,sr,ni);if(ga[0]==="@"&&(ga=ga.substr(1)),Pe(this._lexer,ga))Jt=Jt.switchTo(ga);else throw Ae(this._lexer,"trying to switch to a state '"+ga+"' that is undefined in rule: "+this._safeRuleName(Xr))}else{if(fr.transform&&typeof fr.transform=="function")throw Ae(this._lexer,"action.transform not supported");if(fr.next)if(fr.next==="@push"){if(Jt.depth>=this._lexer.maxStack)throw Ae(this._lexer,"maximum tokenizer stack size reached: ["+Jt.state+","+Jt.parent.state+",...]");Jt=Jt.push(ni)}else if(fr.next==="@pop"){if(Jt.depth<=1)throw Ae(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Xr));Jt=Jt.pop()}else if(fr.next==="@popall")Jt=Jt.popall();else{var ea=Oe(this._lexer,fr.next,mr,sr,ni);if(ea[0]==="@"&&(ea=ea.substr(1)),Pe(this._lexer,ea))Jt=Jt.push(ea);else throw Ae(this._lexer,"trying to set a next state '"+ea+"' that is undefined in rule: "+this._safeRuleName(Xr))}}fr.log&&typeof fr.log=="string"&&De(this._lexer,this._lexer.languageId+": "+Oe(this._lexer,fr.log,mr,sr,ni))}if(Na===null)throw Ae(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Xr));var Ga=function(jo){var So=Se._languageService.getLanguageIdByLanguageName(jo)||Se._languageService.getLanguageIdByMimeType(jo)||jo,Wo=Se._getNestedEmbeddedLanguageData(So);if(cn<it){var Eo=b.substr(cn);return Se._nestedTokenize(Eo,y,et.create(Jt,Wo),M+cn,q)}else return et.create(Jt,Wo)};if(Array.isArray(Na)){if(Mn&&Mn.groups.length>0)throw Ae(this._lexer,"groups cannot be nested: "+this._safeRuleName(Xr));if(sr.length!==Na.length+1)throw Ae(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Xr));for(var Io=0,Ko=1;Ko<sr.length;Ko++)Io+=sr[Ko].length;if(Io!==mr.length)throw Ae(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Xr));Mn={rule:Xr,matches:sr,groups:[]};for(var xo=0;xo<Na.length;xo++)Mn.groups[xo]={action:Na[xo],matched:sr[xo+1]};cn-=mr.length;continue}else{if(Na==="@rematch"&&(cn-=mr.length,mr="",sr=null,Na="",Vr!==null))return Ga(Vr);if(mr.length===0){if(it===0||di!==Jt.depth||ni!==Jt.state||(Mn?Mn.groups.length:0)!==$n)continue;throw Ae(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Xr))}var Xo=null;if(Q(Na)&&Na.indexOf("@brackets")===0){var is=Na.substr("@brackets".length),Wl=Te(this._lexer,mr);if(!Wl)throw Ae(this._lexer,"@brackets token returned but no bracket defined as: "+mr);Xo=L(Wl.token+is)}else{var Ha=Na===""?"":Na+this._lexer.tokenPostfix;Xo=L(Ha)}ii<Ie&&q.emit(ii+M,Xo)}if(Vr!==null)return Ga(Vr)}return et.create(Jt,dt)}},{key:"_getNestedEmbeddedLanguageData",value:function(b){if(!this._languageService.isRegisteredLanguageId(b))return new Lt(b,N.a);b!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(b),F.m.getOrCreate(b),this._embeddedLanguages[b]=!0);var y=F.m.get(b);return y?new Lt(b,y.getInitialState()):new Lt(b,N.a)}}]),he}();ye=Xe([Et(4,Fe.a)],ye);function Te(he,le){if(!le)return null;le=ge(he,le);var b=he.brackets,y=Object(D.a)(b),p;try{for(y.s();!(p=y.n()).done;){var M=p.value;if(M.open===le)return{token:M.token,bracketType:1};if(M.close===le)return{token:M.token,bracketType:-1}}}catch(q){y.e(q)}finally{y.f()}return null}var Qe=function(he,le,b,y){function p(M){return M instanceof b?M:new b(function(q){q(M)})}return new(b||(b=Promise))(function(M,q){function Se(it){try{qe(y.next(it))}catch(dt){q(dt)}}function Ie(it){try{qe(y.throw(it))}catch(dt){q(dt)}}function qe(it){it.done?M(it.value):p(it.value).then(Se,Ie)}qe((y=y.apply(he,le||[])).next())})},$e=Object(ke.a)("standaloneColorizer",{createHTML:function(le){return le}}),ze=function(){function he(){Object(C.a)(this,he)}return Object(x.a)(he,null,[{key:"colorizeElement",value:function(b,y,p,M){M=M||{};var q=M.theme||"vs",Se=M.mimeType||p.getAttribute("lang")||p.getAttribute("data-lang");if(!Se)return console.error("Mode not detected"),Promise.resolve();var Ie=y.getLanguageIdByMimeType(Se)||Se;b.setTheme(q);var qe=p.firstChild?p.firstChild.nodeValue:"";p.className+=" "+q;var it=function(Jt){var cn,Mn=(cn=$e==null?void 0:$e.createHTML(Jt))!==null&&cn!==void 0?cn:Jt;p.innerHTML=Mn};return this.colorize(y,qe||"",Ie,M).then(it,function(dt){return console.error(dt)})}},{key:"colorize",value:function(b,y,p,M){return Qe(this,void 0,void 0,Object(w.a)().mark(function q(){var Se,Ie,qe,it;return Object(w.a)().wrap(function(Jt){for(;;)switch(Jt.prev=Jt.next){case 0:if(Se=b.languageIdCodec,Ie=4,M&&typeof M.tabSize=="number"&&(Ie=M.tabSize),$.U(y)&&(y=y.substr(1)),qe=$.S(y),b.isRegisteredLanguageId(p)){Jt.next=7;break}return Jt.abrupt("return",He(qe,Ie,Se));case 7:return Jt.next=9,F.m.getOrCreate(p);case 9:if(it=Jt.sent,!it){Jt.next=12;break}return Jt.abrupt("return",ot(qe,Ie,it,Se));case 12:return Jt.abrupt("return",He(qe,Ie,Se));case 13:case"end":return Jt.stop()}},q)}))}},{key:"colorizeLine",value:function(b,y,p,M){var q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:4,Se=G.f.isBasicASCII(b,y),Ie=G.f.containsRTL(b,Se,p),qe=Object(P.e)(new P.c(!1,!0,b,!1,Se,Ie,0,M,[],q,0,0,0,0,-1,"none",!1,!1,null));return qe.html}},{key:"colorizeModelLine",value:function(b,y){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:4,M=b.getLineContent(y);b.tokenization.forceTokenization(y);var q=b.tokenization.getLineTokens(y),Se=q.inflate();return this.colorizeLine(M,b.mightContainNonBasicASCII(),b.mightContainRTL(),Se,p)}}]),he}();function ot(he,le,b,y){return new Promise(function(p,M){var q=function Se(){var Ie=Ge(he,le,b,y);if(b instanceof ye){var qe=b.getLoadStatus();if(qe.loaded===!1){qe.promise.then(Se,M);return}}p(Ie)};q()})}function He(he,le,b){var y=[],p=(0<<11|1<<15|2<<24)>>>0,M=new Uint32Array(2);M[0]=0,M[1]=p;for(var q=0,Se=he.length;q<Se;q++){var Ie=he[q];M[0]=Ie.length;var qe=new A.a(M,Ie,b),it=G.f.isBasicASCII(Ie,!0),dt=G.f.containsRTL(Ie,it,!0),Jt=Object(P.e)(new P.c(!1,!0,Ie,!1,it,dt,0,qe,[],le,0,0,0,0,-1,"none",!1,!1,null));y=y.concat(Jt.html),y.push("<br/>")}return y.join("")}function Ge(he,le,b,y){for(var p=[],M=b.getInitialState(),q=0,Se=he.length;q<Se;q++){var Ie=he[q],qe=b.tokenizeEncoded(Ie,!0,M);A.a.convertToEndOffset(qe.tokens,Ie.length);var it=new A.a(qe.tokens,Ie,y),dt=G.f.isBasicASCII(Ie,!0),Jt=G.f.containsRTL(Ie,dt,!0),cn=Object(P.e)(new P.c(!1,!0,Ie,!1,dt,Jt,0,it.inflate(),[],le,0,0,0,0,-1,"none",!1,!1,null));p=p.concat(cn.html),p.push("<br/>"),M=qe.endState}return p.join("")}var Je=a("w4Tj"),ft=a("oZsa"),qt=a("OBOq"),bt=a("nB0o"),Bt=a("SmQN"),rn=a("9Y+e"),an=a("tJVT"),In=a("tS8v"),Dt=a("EffR"),jn=a("tYmi"),_n=a("MI8n"),Nn=a("24hK"),ei=a("t9D7"),kn=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Pn=function(he,le){return function(b,y){le(b,y,he)}},qi=function(he,le,b,y){function p(M){return M instanceof b?M:new b(function(q){q(M)})}return new(b||(b=Promise))(function(M,q){function Se(it){try{qe(y.next(it))}catch(dt){q(dt)}}function Ie(it){try{qe(y.throw(it))}catch(dt){q(dt)}}function qe(it){it.done?M(it.value):p(it.value).then(Se,Ie)}qe((y=y.apply(he,le||[])).next())})},gi=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y){var p;return Object(C.a)(this,b),p=le.call(this),p._themeService=y,p._onWillCreateCodeEditor=p._register(new _n.b),p._onCodeEditorAdd=p._register(new _n.b),p.onCodeEditorAdd=p._onCodeEditorAdd.event,p._onCodeEditorRemove=p._register(new _n.b),p.onCodeEditorRemove=p._onCodeEditorRemove.event,p._onWillCreateDiffEditor=p._register(new _n.b),p._onDiffEditorAdd=p._register(new _n.b),p.onDiffEditorAdd=p._onDiffEditorAdd.event,p._onDiffEditorRemove=p._register(new _n.b),p.onDiffEditorRemove=p._onDiffEditorRemove.event,p._decorationOptionProviders=new Map,p._codeEditorOpenHandlers=new Nn.a,p._modelProperties=new Map,p._codeEditors=Object.create(null),p._diffEditors=Object.create(null),p._globalStyleSheet=null,p}return Object(x.a)(b,[{key:"willCreateCodeEditor",value:function(){this._onWillCreateCodeEditor.fire()}},{key:"addCodeEditor",value:function(p){this._codeEditors[p.getId()]=p,this._onCodeEditorAdd.fire(p)}},{key:"removeCodeEditor",value:function(p){delete this._codeEditors[p.getId()]&&this._onCodeEditorRemove.fire(p)}},{key:"listCodeEditors",value:function(){var p=this;return Object.keys(this._codeEditors).map(function(M){return p._codeEditors[M]})}},{key:"willCreateDiffEditor",value:function(){this._onWillCreateDiffEditor.fire()}},{key:"addDiffEditor",value:function(p){this._diffEditors[p.getId()]=p,this._onDiffEditorAdd.fire(p)}},{key:"removeDiffEditor",value:function(p){delete this._diffEditors[p.getId()]&&this._onDiffEditorRemove.fire(p)}},{key:"listDiffEditors",value:function(){var p=this;return Object.keys(this._diffEditors).map(function(M){return p._diffEditors[M]})}},{key:"getFocusedCodeEditor",value:function(){var p=null,M=this.listCodeEditors(),q=Object(D.a)(M),Se;try{for(q.s();!(Se=q.n()).done;){var Ie=Se.value;if(Ie.hasTextFocus())return Ie;Ie.hasWidgetFocus()&&(p=Ie)}}catch(qe){q.e(qe)}finally{q.f()}return p}},{key:"removeDecorationType",value:function(p){var M=this._decorationOptionProviders.get(p);M&&(M.refCount--,M.refCount<=0&&(this._decorationOptionProviders.delete(p),M.dispose(),this.listCodeEditors().forEach(function(q){return q.removeDecorationsByType(p)})))}},{key:"setModelProperty",value:function(p,M,q){var Se=p.toString(),Ie;this._modelProperties.has(Se)?Ie=this._modelProperties.get(Se):(Ie=new Map,this._modelProperties.set(Se,Ie)),Ie.set(M,q)}},{key:"getModelProperty",value:function(p,M){var q=p.toString();if(this._modelProperties.has(q)){var Se=this._modelProperties.get(q);return Se.get(M)}}},{key:"openCodeEditor",value:function(p,M,q){return qi(this,void 0,void 0,Object(w.a)().mark(function Se(){var Ie,qe,it,dt;return Object(w.a)().wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:Ie=Object(D.a)(this._codeEditorOpenHandlers),cn.prev=1,Ie.s();case 3:if((qe=Ie.n()).done){cn.next=12;break}return it=qe.value,cn.next=7,it(p,M,q);case 7:if(dt=cn.sent,dt===null){cn.next=10;break}return cn.abrupt("return",dt);case 10:cn.next=3;break;case 12:cn.next=17;break;case 14:cn.prev=14,cn.t0=cn.catch(1),Ie.e(cn.t0);case 17:return cn.prev=17,Ie.f(),cn.finish(17);case 20:return cn.abrupt("return",null);case 21:case"end":return cn.stop()}},Se,this,[[1,14,17,20]])}))}},{key:"registerCodeEditorOpenHandler",value:function(p){var M=this._codeEditorOpenHandlers.unshift(p);return Object(te.l)(M)}}]),b}(te.a);gi=kn([Pn(0,ei.b)],gi);var ir=Object(x.a)(function he(le){Object(C.a)(this,he),this._styleSheet=le}),yi=a("T8No"),mi=a("9fML"),gr=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},zn=function(he,le){return function(b,y){le(b,y,he)}},Ki=function(he,le,b,y){function p(M){return M instanceof b?M:new b(function(q){q(M)})}return new(b||(b=Promise))(function(M,q){function Se(it){try{qe(y.next(it))}catch(dt){q(dt)}}function Ie(it){try{qe(y.throw(it))}catch(dt){q(dt)}}function qe(it){it.done?M(it.value):p(it.value).then(Se,Ie)}qe((y=y.apply(he,le||[])).next())})},Bn=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p){var M;return Object(C.a)(this,b),M=le.call(this,p),M.onCodeEditorAdd(function(){return M._checkContextKey()}),M.onCodeEditorRemove(function(){return M._checkContextKey()}),M._editorIsOpen=y.createKey("editorIsOpen",!1),M._activeCodeEditor=null,M.registerCodeEditorOpenHandler(function(q,Se,Ie){return Ki(Object(In.a)(M),void 0,void 0,Object(w.a)().mark(function qe(){return Object(w.a)().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if(Se){dt.next=2;break}return dt.abrupt("return",null);case 2:return dt.abrupt("return",this.doOpenEditor(Se,q));case 3:case"end":return dt.stop()}},qe,this)}))}),M}return Object(x.a)(b,[{key:"_checkContextKey",value:function(){var p=!1,M=Object(D.a)(this.listCodeEditors()),q;try{for(M.s();!(q=M.n()).done;){var Se=q.value;if(!Se.isSimpleWidget){p=!0;break}}}catch(Ie){M.e(Ie)}finally{M.f()}this._editorIsOpen.set(p)}},{key:"setActiveCodeEditor",value:function(p){this._activeCodeEditor=p}},{key:"getActiveCodeEditor",value:function(){return this._activeCodeEditor}},{key:"doOpenEditor",value:function(p,M){var q=this.findModel(p,M.resource);if(!q){if(M.resource){var Se=M.resource.scheme;if(Se===jn.c.http||Se===jn.c.https)return Object(Dt.windowOpenNoOpener)(M.resource.toString()),p}return null}var Ie=M.options?M.options.selection:null;if(Ie)if(typeof Ie.endLineNumber=="number"&&typeof Ie.endColumn=="number")p.setSelection(Ie),p.revealRangeInCenter(Ie,1);else{var qe={lineNumber:Ie.startLineNumber,column:Ie.startColumn};p.setPosition(qe),p.revealPositionInCenter(qe,1)}return p}},{key:"findModel",value:function(p,M){var q=p.getModel();return q&&q.uri.toString()!==M.toString()?null:q}}]),b}(gi);Bn=gr([zn(0,yi.b),zn(1,ei.b)],Bn),Object(mi.b)(E.a,Bn,0);var ai=a("Cg/j"),dn=Object(ai.c)("layoutService"),Jn=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Yt=function(he,le){return function(b,y){le(b,y,he)}},Ct=function(){function he(le){Object(C.a)(this,he),this._codeEditorService=le,this.onDidLayout=_n.c.None,this.offset={top:0,quickPickTop:0}}return Object(x.a)(he,[{key:"dimension",get:function(){return this._dimension||(this._dimension=Dt.getClientArea(window.document.body)),this._dimension}},{key:"hasContainer",get:function(){return!1}},{key:"container",get:function(){throw new Error("ILayoutService.container is not available in the standalone editor!")}},{key:"focus",value:function(){var b;(b=this._codeEditorService.getFocusedCodeEditor())===null||b===void 0||b.focus()}}]),he}();Ct=Jn([Yt(0,E.a)],Ct);var Dn=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p){var M;return Object(C.a)(this,b),M=le.call(this,p),M._container=y,M}return Object(x.a)(b,[{key:"hasContainer",get:function(){return!1}},{key:"container",get:function(){return this._container}}]),b}(Ct);Dn=Jn([Yt(1,E.a)],Dn),Object(mi.b)(dn,Ct,1);var gn=a("/cxE"),en=a("S3by"),yn=a("3/fG"),Qn=a("6vuP"),pi=a("sM1p"),Pt=a("OAO6"),yt=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Rn=function(he,le){return function(b,y){le(b,y,he)}},Sn=function(he,le,b,y){function p(M){return M instanceof b?M:new b(function(q){q(M)})}return new(b||(b=Promise))(function(M,q){function Se(it){try{qe(y.next(it))}catch(dt){q(dt)}}function Ie(it){try{qe(y.throw(it))}catch(dt){q(dt)}}function qe(it){it.done?M(it.value):p(it.value).then(Se,Ie)}qe((y=y.apply(he,le||[])).next())})},Ii=!1;function Hi(he){return he.scheme===jn.c.file?he.fsPath:he.path}var wt=0,Pi=function(){function he(le,b,y,p,M,q,Se){Object(C.a)(this,he),this.id=++wt,this.type=0,this.actual=le,this.label=le.label,this.confirmBeforeUndo=le.confirmBeforeUndo||!1,this.resourceLabel=b,this.strResource=y,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=p,this.groupOrder=M,this.sourceId=q,this.sourceOrder=Se,this.isValid=!0}return Object(x.a)(he,[{key:"setValid",value:function(b){this.isValid=b}},{key:"toString",value:function(){return"[id:".concat(this.id,"] [group:").concat(this.groupId,"] [").concat(this.isValid?"  VALID":"INVALID","] ").concat(this.actual.constructor.name," - ").concat(this.actual)}}]),he}(),Ut=Object(x.a)(function he(le,b){Object(C.a)(this,he),this.resourceLabel=le,this.reason=b}),We=function(){function he(){Object(C.a)(this,he),this.elements=new Map}return Object(x.a)(he,[{key:"createMessage",value:function(){var b=[],y=[],p=Object(D.a)(this.elements),M;try{for(p.s();!(M=p.n()).done;){var q=M.value,Se=Object(an.a)(q,2),Ie=Se[1],qe=Ie.reason===0?b:y;qe.push(Ie.resourceLabel)}}catch(dt){p.e(dt)}finally{p.f()}var it=[];return b.length>0&&it.push(yn.b({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",b.join(", "))),y.length>0&&it.push(yn.b({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",y.join(", "))),it.join(`
`)}},{key:"size",get:function(){return this.elements.size}},{key:"has",value:function(b){return this.elements.has(b)}},{key:"set",value:function(b,y){this.elements.set(b,y)}},{key:"delete",value:function(b){return this.elements.delete(b)}}]),he}(),Tn=function(){function he(le,b,y,p,M,q,Se){Object(C.a)(this,he),this.id=++wt,this.type=1,this.actual=le,this.label=le.label,this.confirmBeforeUndo=le.confirmBeforeUndo||!1,this.resourceLabels=b,this.strResources=y,this.groupId=p,this.groupOrder=M,this.sourceId=q,this.sourceOrder=Se,this.removedResources=null,this.invalidatedResources=null}return Object(x.a)(he,[{key:"canSplit",value:function(){return typeof this.actual.split=="function"}},{key:"removeResource",value:function(b,y,p){this.removedResources||(this.removedResources=new We),this.removedResources.has(y)||this.removedResources.set(y,new Ut(b,p))}},{key:"setValid",value:function(b,y,p){p?this.invalidatedResources&&(this.invalidatedResources.delete(y),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new We),this.invalidatedResources.has(y)||this.invalidatedResources.set(y,new Ut(b,0)))}},{key:"toString",value:function(){return"[id:".concat(this.id,"] [group:").concat(this.groupId,"] [").concat(this.invalidatedResources?"INVALID":"  VALID","] ").concat(this.actual.constructor.name," - ").concat(this.actual)}}]),he}(),ar=function(){function he(le,b){Object(C.a)(this,he),this.resourceLabel=le,this.strResource=b,this._past=[],this._future=[],this.locked=!1,this.versionId=1}return Object(x.a)(he,[{key:"dispose",value:function(){var b=Object(D.a)(this._past),y;try{for(b.s();!(y=b.n()).done;){var p=y.value;p.type===1&&p.removeResource(this.resourceLabel,this.strResource,0)}}catch(Ie){b.e(Ie)}finally{b.f()}var M=Object(D.a)(this._future),q;try{for(M.s();!(q=M.n()).done;){var Se=q.value;Se.type===1&&Se.removeResource(this.resourceLabel,this.strResource,0)}}catch(Ie){M.e(Ie)}finally{M.f()}this.versionId++}},{key:"toString",value:function(){var b=[];b.push("* ".concat(this.strResource,":"));for(var y=0;y<this._past.length;y++)b.push("   * [UNDO] ".concat(this._past[y]));for(var p=this._future.length-1;p>=0;p--)b.push("   * [REDO] ".concat(this._future[p]));return b.join(`
`)}},{key:"flushAllElements",value:function(){this._past=[],this._future=[],this.versionId++}},{key:"_setElementValidFlag",value:function(b,y){b.type===1?b.setValid(this.resourceLabel,this.strResource,y):b.setValid(y)}},{key:"setElementsValidFlag",value:function(b,y){var p=Object(D.a)(this._past),M;try{for(p.s();!(M=p.n()).done;){var q=M.value;y(q.actual)&&this._setElementValidFlag(q,b)}}catch(it){p.e(it)}finally{p.f()}var Se=Object(D.a)(this._future),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value;y(qe.actual)&&this._setElementValidFlag(qe,b)}}catch(it){Se.e(it)}finally{Se.f()}}},{key:"pushElement",value:function(b){var y=Object(D.a)(this._future),p;try{for(y.s();!(p=y.n()).done;){var M=p.value;M.type===1&&M.removeResource(this.resourceLabel,this.strResource,1)}}catch(q){y.e(q)}finally{y.f()}this._future=[],this._past.push(b),this.versionId++}},{key:"createSnapshot",value:function(b){for(var y=[],p=0,M=this._past.length;p<M;p++)y.push(this._past[p].id);for(var q=this._future.length-1;q>=0;q--)y.push(this._future[q].id);return new Pt.b(b,y)}},{key:"restoreSnapshot",value:function(b){for(var y=b.elements.length,p=!0,M=0,q=-1,Se=0,Ie=this._past.length;Se<Ie;Se++,M++){var qe=this._past[Se];p&&(M>=y||qe.id!==b.elements[M])&&(p=!1,q=0),!p&&qe.type===1&&qe.removeResource(this.resourceLabel,this.strResource,0)}for(var it=-1,dt=this._future.length-1;dt>=0;dt--,M++){var Jt=this._future[dt];p&&(M>=y||Jt.id!==b.elements[M])&&(p=!1,it=dt),!p&&Jt.type===1&&Jt.removeResource(this.resourceLabel,this.strResource,0)}q!==-1&&(this._past=this._past.slice(0,q)),it!==-1&&(this._future=this._future.slice(it+1)),this.versionId++}},{key:"getElements",value:function(){var b=[],y=[],p=Object(D.a)(this._past),M;try{for(p.s();!(M=p.n()).done;){var q=M.value;b.push(q.actual)}}catch(it){p.e(it)}finally{p.f()}var Se=Object(D.a)(this._future),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value;y.push(qe.actual)}}catch(it){Se.e(it)}finally{Se.f()}return{past:b,future:y}}},{key:"getClosestPastElement",value:function(){return this._past.length===0?null:this._past[this._past.length-1]}},{key:"getSecondClosestPastElement",value:function(){return this._past.length<2?null:this._past[this._past.length-2]}},{key:"getClosestFutureElement",value:function(){return this._future.length===0?null:this._future[this._future.length-1]}},{key:"hasPastElements",value:function(){return this._past.length>0}},{key:"hasFutureElements",value:function(){return this._future.length>0}},{key:"splitPastWorkspaceElement",value:function(b,y){for(var p=this._past.length-1;p>=0;p--)if(this._past[p]===b){y.has(this.strResource)?this._past[p]=y.get(this.strResource):this._past.splice(p,1);break}this.versionId++}},{key:"splitFutureWorkspaceElement",value:function(b,y){for(var p=this._future.length-1;p>=0;p--)if(this._future[p]===b){y.has(this.strResource)?this._future[p]=y.get(this.strResource):this._future.splice(p,1);break}this.versionId++}},{key:"moveBackward",value:function(b){this._past.pop(),this._future.push(b),this.versionId++}},{key:"moveForward",value:function(b){this._future.pop(),this._past.push(b),this.versionId++}}]),he}(),Br=function(){function he(le){Object(C.a)(this,he),this.editStacks=le,this._versionIds=[];for(var b=0,y=this.editStacks.length;b<y;b++)this._versionIds[b]=this.editStacks[b].versionId}return Object(x.a)(he,[{key:"isValid",value:function(){for(var b=0,y=this.editStacks.length;b<y;b++)if(this._versionIds[b]!==this.editStacks[b].versionId)return!1;return!0}}]),he}(),Yr=new ar("","");Yr.locked=!0;var ti=function(){function he(le,b){Object(C.a)(this,he),this._dialogService=le,this._notificationService=b,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}return Object(x.a)(he,[{key:"getUriComparisonKey",value:function(b){var y=Object(D.a)(this._uriComparisonKeyComputers),p;try{for(y.s();!(p=y.n()).done;){var M=p.value;if(M[0]===b.scheme)return M[1].getComparisonKey(b)}}catch(q){y.e(q)}finally{y.f()}return b.toString()}},{key:"_print",value:function(b){console.log("------------------------------------"),console.log("AFTER ".concat(b,": "));var y=[],p=Object(D.a)(this._editStacks),M;try{for(p.s();!(M=p.n()).done;){var q=M.value;y.push(q[1].toString())}}catch(Se){p.e(Se)}finally{p.f()}console.log(y.join(`
`))}},{key:"pushElement",value:function(b){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt.c.None,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pt.d.None;if(b.type===0){var M=Hi(b.resource),q=this.getUriComparisonKey(b.resource);this._pushElement(new Pi(b,M,q,y.id,y.nextOrder(),p.id,p.nextOrder()))}else{var Se=new Set,Ie=[],qe=[],it=Object(D.a)(b.resources),dt;try{for(it.s();!(dt=it.n()).done;){var Jt=dt.value,cn=Hi(Jt),Mn=this.getUriComparisonKey(Jt);Se.has(Mn)||(Se.add(Mn),Ie.push(cn),qe.push(Mn))}}catch(vi){it.e(vi)}finally{it.f()}Ie.length===1?this._pushElement(new Pi(b,Ie[0],qe[0],y.id,y.nextOrder(),p.id,p.nextOrder())):this._pushElement(new Tn(b,Ie,qe,y.id,y.nextOrder(),p.id,p.nextOrder()))}Ii&&this._print("pushElement")}},{key:"_pushElement",value:function(b){for(var y=0,p=b.strResources.length;y<p;y++){var M=b.resourceLabels[y],q=b.strResources[y],Se=void 0;this._editStacks.has(q)?Se=this._editStacks.get(q):(Se=new ar(M,q),this._editStacks.set(q,Se)),Se.pushElement(b)}}},{key:"getLastElement",value:function(b){var y=this.getUriComparisonKey(b);if(this._editStacks.has(y)){var p=this._editStacks.get(y);if(p.hasFutureElements())return null;var M=p.getClosestPastElement();return M?M.actual:null}return null}},{key:"_splitPastWorkspaceElement",value:function(b,y){var p=b.actual.split(),M=new Map,q=Object(D.a)(p),Se;try{for(q.s();!(Se=q.n()).done;){var Ie=Se.value,qe=Hi(Ie.resource),it=this.getUriComparisonKey(Ie.resource),dt=new Pi(Ie,qe,it,0,0,0,0);M.set(dt.strResource,dt)}}catch(ii){q.e(ii)}finally{q.f()}var Jt=Object(D.a)(b.strResources),cn;try{for(Jt.s();!(cn=Jt.n()).done;){var Mn=cn.value;if(!(y&&y.has(Mn))){var vi=this._editStacks.get(Mn);vi.splitPastWorkspaceElement(b,M)}}}catch(ii){Jt.e(ii)}finally{Jt.f()}}},{key:"_splitFutureWorkspaceElement",value:function(b,y){var p=b.actual.split(),M=new Map,q=Object(D.a)(p),Se;try{for(q.s();!(Se=q.n()).done;){var Ie=Se.value,qe=Hi(Ie.resource),it=this.getUriComparisonKey(Ie.resource),dt=new Pi(Ie,qe,it,0,0,0,0);M.set(dt.strResource,dt)}}catch(ii){q.e(ii)}finally{q.f()}var Jt=Object(D.a)(b.strResources),cn;try{for(Jt.s();!(cn=Jt.n()).done;){var Mn=cn.value;if(!(y&&y.has(Mn))){var vi=this._editStacks.get(Mn);vi.splitFutureWorkspaceElement(b,M)}}}catch(ii){Jt.e(ii)}finally{Jt.f()}}},{key:"removeElements",value:function(b){var y=typeof b=="string"?b:this.getUriComparisonKey(b);if(this._editStacks.has(y)){var p=this._editStacks.get(y);p.dispose(),this._editStacks.delete(y)}Ii&&this._print("removeElements")}},{key:"setElementsValidFlag",value:function(b,y,p){var M=this.getUriComparisonKey(b);if(this._editStacks.has(M)){var q=this._editStacks.get(M);q.setElementsValidFlag(y,p)}Ii&&this._print("setElementsValidFlag")}},{key:"createSnapshot",value:function(b){var y=this.getUriComparisonKey(b);if(this._editStacks.has(y)){var p=this._editStacks.get(y);return p.createSnapshot(b)}return new Pt.b(b,[])}},{key:"restoreSnapshot",value:function(b){var y=this.getUriComparisonKey(b.resource);if(this._editStacks.has(y)){var p=this._editStacks.get(y);p.restoreSnapshot(b),!p.hasPastElements()&&!p.hasFutureElements()&&(p.dispose(),this._editStacks.delete(y))}Ii&&this._print("restoreSnapshot")}},{key:"getElements",value:function(b){var y=this.getUriComparisonKey(b);if(this._editStacks.has(y)){var p=this._editStacks.get(y);return p.getElements()}return{past:[],future:[]}}},{key:"_findClosestUndoElementWithSource",value:function(b){if(!b)return[null,null];var y=null,p=null,M=Object(D.a)(this._editStacks),q;try{for(M.s();!(q=M.n()).done;){var Se=q.value,Ie=Object(an.a)(Se,2),qe=Ie[0],it=Ie[1],dt=it.getClosestPastElement();!dt||dt.sourceId===b&&(!y||dt.sourceOrder>y.sourceOrder)&&(y=dt,p=qe)}}catch(Jt){M.e(Jt)}finally{M.f()}return[y,p]}},{key:"canUndo",value:function(b){if(b instanceof Pt.d){var y=this._findClosestUndoElementWithSource(b.id),p=Object(an.a)(y,2),M=p[1];return!!M}var q=this.getUriComparisonKey(b);if(this._editStacks.has(q)){var Se=this._editStacks.get(q);return Se.hasPastElements()}return!1}},{key:"_onError",value:function(b,y){Object(gn.h)(b);var p=Object(D.a)(y.strResources),M;try{for(p.s();!(M=p.n()).done;){var q=M.value;this.removeElements(q)}}catch(Se){p.e(Se)}finally{p.f()}this._notificationService.error(b)}},{key:"_acquireLocks",value:function(b){var y=Object(D.a)(b.editStacks),p;try{for(y.s();!(p=y.n()).done;){var M=p.value;if(M.locked)throw new Error("Cannot acquire edit stack lock")}}catch(qe){y.e(qe)}finally{y.f()}var q=Object(D.a)(b.editStacks),Se;try{for(q.s();!(Se=q.n()).done;){var Ie=Se.value;Ie.locked=!0}}catch(qe){q.e(qe)}finally{q.f()}return function(){var qe=Object(D.a)(b.editStacks),it;try{for(qe.s();!(it=qe.n()).done;){var dt=it.value;dt.locked=!1}}catch(Jt){qe.e(Jt)}finally{qe.f()}}}},{key:"_safeInvokeWithLocks",value:function(b,y,p,M,q){var Se=this,Ie=this._acquireLocks(p),qe;try{qe=y()}catch(it){return Ie(),M.dispose(),this._onError(it,b)}return qe?qe.then(function(){return Ie(),M.dispose(),q()},function(it){return Ie(),M.dispose(),Se._onError(it,b)}):(Ie(),M.dispose(),q())}},{key:"_invokeWorkspacePrepare",value:function(b){return Sn(this,void 0,void 0,Object(w.a)().mark(function y(){var p;return Object(w.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(typeof b.actual.prepareUndoRedo!="undefined"){q.next=2;break}return q.abrupt("return",te.a.None);case 2:if(p=b.actual.prepareUndoRedo(),typeof p!="undefined"){q.next=5;break}return q.abrupt("return",te.a.None);case 5:return q.abrupt("return",p);case 6:case"end":return q.stop()}},y)}))}},{key:"_invokeResourcePrepare",value:function(b,y){if(b.actual.type!==1||typeof b.actual.prepareUndoRedo=="undefined")return y(te.a.None);var p=b.actual.prepareUndoRedo();return p?Object(te.j)(p)?y(p):p.then(function(M){return y(M)}):y(te.a.None)}},{key:"_getAffectedEditStacks",value:function(b){var y=[],p=Object(D.a)(b.strResources),M;try{for(p.s();!(M=p.n()).done;){var q=M.value;y.push(this._editStacks.get(q)||Yr)}}catch(Se){p.e(Se)}finally{p.f()}return new Br(y)}},{key:"_tryToSplitAndUndo",value:function(b,y,p,M){if(y.canSplit())return this._splitPastWorkspaceElement(y,p),this._notificationService.warn(M),new bi(this._undo(b,0,!0));var q=Object(D.a)(y.strResources),Se;try{for(q.s();!(Se=q.n()).done;){var Ie=Se.value;this.removeElements(Ie)}}catch(qe){q.e(qe)}finally{q.f()}return this._notificationService.warn(M),new bi}},{key:"_checkWorkspaceUndo",value:function(b,y,p,M){if(y.removedResources)return this._tryToSplitAndUndo(b,y,y.removedResources,yn.b({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",y.label,y.removedResources.createMessage()));if(M&&y.invalidatedResources)return this._tryToSplitAndUndo(b,y,y.invalidatedResources,yn.b({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",y.label,y.invalidatedResources.createMessage()));var q=[],Se=Object(D.a)(p.editStacks),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value;qe.getClosestPastElement()!==y&&q.push(qe.resourceLabel)}}catch(Mn){Se.e(Mn)}finally{Se.f()}if(q.length>0)return this._tryToSplitAndUndo(b,y,null,yn.b({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",y.label,q.join(", ")));var it=[],dt=Object(D.a)(p.editStacks),Jt;try{for(dt.s();!(Jt=dt.n()).done;){var cn=Jt.value;cn.locked&&it.push(cn.resourceLabel)}}catch(Mn){dt.e(Mn)}finally{dt.f()}return it.length>0?this._tryToSplitAndUndo(b,y,null,yn.b({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",y.label,it.join(", "))):p.isValid()?null:this._tryToSplitAndUndo(b,y,null,yn.b({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",y.label))}},{key:"_workspaceUndo",value:function(b,y,p){var M=this._getAffectedEditStacks(y),q=this._checkWorkspaceUndo(b,y,M,!1);return q?q.returnValue:this._confirmAndExecuteWorkspaceUndo(b,y,M,p)}},{key:"_isPartOfUndoGroup",value:function(b){if(!b.groupId)return!1;var y=Object(D.a)(this._editStacks),p;try{for(y.s();!(p=y.n()).done;){var M=p.value,q=Object(an.a)(M,2),Se=q[1],Ie=Se.getClosestPastElement();if(!!Ie){if(Ie===b){var qe=Se.getSecondClosestPastElement();if(qe&&qe.groupId===b.groupId)return!0}if(Ie.groupId===b.groupId)return!0}}}catch(it){y.e(it)}finally{y.f()}return!1}},{key:"_confirmAndExecuteWorkspaceUndo",value:function(b,y,p,M){return Sn(this,void 0,void 0,Object(w.a)().mark(function q(){var Se=this,Ie,qe,it,dt,Jt,cn,Mn,vi,ii;return Object(w.a)().wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:if(!(y.canSplit()&&!this._isPartOfUndoGroup(y))){$n.next=15;break}return function(ni){ni[ni.All=0]="All",ni[ni.This=1]="This",ni[ni.Cancel=2]="Cancel"}(Ie||(Ie={})),$n.next=4,this._dialogService.prompt({type:en.a.Info,message:yn.b("confirmWorkspace","Would you like to undo '{0}' across all files?",y.label),buttons:[{label:yn.b({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",p.editStacks.length),run:function(){return Ie.All}},{label:yn.b({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:function(){return Ie.This}}],cancelButton:{run:function(){return Ie.Cancel}}});case 4:if(qe=$n.sent,it=qe.result,it!==Ie.Cancel){$n.next=8;break}return $n.abrupt("return");case 8:if(it!==Ie.This){$n.next=11;break}return this._splitPastWorkspaceElement(y,null),$n.abrupt("return",this._undo(b,0,!0));case 11:if(dt=this._checkWorkspaceUndo(b,y,p,!1),!dt){$n.next=14;break}return $n.abrupt("return",dt.returnValue);case 14:M=!0;case 15:return $n.prev=15,$n.next=18,this._invokeWorkspacePrepare(y);case 18:Jt=$n.sent,$n.next=24;break;case 21:return $n.prev=21,$n.t0=$n.catch(15),$n.abrupt("return",this._onError($n.t0,y));case 24:if(cn=this._checkWorkspaceUndo(b,y,p,!0),!cn){$n.next=28;break}return Jt.dispose(),$n.abrupt("return",cn.returnValue);case 28:Mn=Object(D.a)(p.editStacks);try{for(Mn.s();!(vi=Mn.n()).done;)ii=vi.value,ii.moveBackward(y)}catch(ni){Mn.e(ni)}finally{Mn.f()}return $n.abrupt("return",this._safeInvokeWithLocks(y,function(){return y.actual.undo()},p,Jt,function(){return Se._continueUndoInGroup(y.groupId,M)}));case 31:case"end":return $n.stop()}},q,this,[[15,21]])}))}},{key:"_resourceUndo",value:function(b,y,p){var M=this;if(!y.isValid){b.flushAllElements();return}if(b.locked){var q=yn.b({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",y.label);this._notificationService.warn(q);return}return this._invokeResourcePrepare(y,function(Se){return b.moveBackward(y),M._safeInvokeWithLocks(y,function(){return y.actual.undo()},new Br([b]),Se,function(){return M._continueUndoInGroup(y.groupId,p)})})}},{key:"_findClosestUndoElementInGroup",value:function(b){if(!b)return[null,null];var y=null,p=null,M=Object(D.a)(this._editStacks),q;try{for(M.s();!(q=M.n()).done;){var Se=q.value,Ie=Object(an.a)(Se,2),qe=Ie[0],it=Ie[1],dt=it.getClosestPastElement();!dt||dt.groupId===b&&(!y||dt.groupOrder>y.groupOrder)&&(y=dt,p=qe)}}catch(Jt){M.e(Jt)}finally{M.f()}return[y,p]}},{key:"_continueUndoInGroup",value:function(b,y){if(!!b){var p=this._findClosestUndoElementInGroup(b),M=Object(an.a)(p,2),q=M[1];if(q)return this._undo(q,0,y)}}},{key:"undo",value:function(b){if(b instanceof Pt.d){var y=this._findClosestUndoElementWithSource(b.id),p=Object(an.a)(y,2),M=p[1];return M?this._undo(M,b.id,!1):void 0}return typeof b=="string"?this._undo(b,0,!1):this._undo(this.getUriComparisonKey(b),0,!1)}},{key:"_undo",value:function(b){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=arguments.length>2?arguments[2]:void 0;if(!!this._editStacks.has(b)){var M=this._editStacks.get(b),q=M.getClosestPastElement();if(!!q){if(q.groupId){var Se=this._findClosestUndoElementInGroup(q.groupId),Ie=Object(an.a)(Se,2),qe=Ie[0],it=Ie[1];if(q!==qe&&it)return this._undo(it,y,p)}var dt=q.sourceId!==y||q.confirmBeforeUndo;if(dt&&!p)return this._confirmAndContinueUndo(b,y,q);try{return q.type===1?this._workspaceUndo(b,q,p):this._resourceUndo(M,q,p)}finally{Ii&&this._print("undo")}}}}},{key:"_confirmAndContinueUndo",value:function(b,y,p){return Sn(this,void 0,void 0,Object(w.a)().mark(function M(){var q;return Object(w.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.next=2,this._dialogService.confirm({message:yn.b("confirmDifferentSource","Would you like to undo '{0}'?",p.label),primaryButton:yn.b({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:yn.b("confirmDifferentSource.no","No")});case 2:if(q=Ie.sent,q.confirmed){Ie.next=5;break}return Ie.abrupt("return");case 5:return Ie.abrupt("return",this._undo(b,y,!0));case 6:case"end":return Ie.stop()}},M,this)}))}},{key:"_findClosestRedoElementWithSource",value:function(b){if(!b)return[null,null];var y=null,p=null,M=Object(D.a)(this._editStacks),q;try{for(M.s();!(q=M.n()).done;){var Se=q.value,Ie=Object(an.a)(Se,2),qe=Ie[0],it=Ie[1],dt=it.getClosestFutureElement();!dt||dt.sourceId===b&&(!y||dt.sourceOrder<y.sourceOrder)&&(y=dt,p=qe)}}catch(Jt){M.e(Jt)}finally{M.f()}return[y,p]}},{key:"canRedo",value:function(b){if(b instanceof Pt.d){var y=this._findClosestRedoElementWithSource(b.id),p=Object(an.a)(y,2),M=p[1];return!!M}var q=this.getUriComparisonKey(b);if(this._editStacks.has(q)){var Se=this._editStacks.get(q);return Se.hasFutureElements()}return!1}},{key:"_tryToSplitAndRedo",value:function(b,y,p,M){if(y.canSplit())return this._splitFutureWorkspaceElement(y,p),this._notificationService.warn(M),new bi(this._redo(b));var q=Object(D.a)(y.strResources),Se;try{for(q.s();!(Se=q.n()).done;){var Ie=Se.value;this.removeElements(Ie)}}catch(qe){q.e(qe)}finally{q.f()}return this._notificationService.warn(M),new bi}},{key:"_checkWorkspaceRedo",value:function(b,y,p,M){if(y.removedResources)return this._tryToSplitAndRedo(b,y,y.removedResources,yn.b({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",y.label,y.removedResources.createMessage()));if(M&&y.invalidatedResources)return this._tryToSplitAndRedo(b,y,y.invalidatedResources,yn.b({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",y.label,y.invalidatedResources.createMessage()));var q=[],Se=Object(D.a)(p.editStacks),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value;qe.getClosestFutureElement()!==y&&q.push(qe.resourceLabel)}}catch(Mn){Se.e(Mn)}finally{Se.f()}if(q.length>0)return this._tryToSplitAndRedo(b,y,null,yn.b({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",y.label,q.join(", ")));var it=[],dt=Object(D.a)(p.editStacks),Jt;try{for(dt.s();!(Jt=dt.n()).done;){var cn=Jt.value;cn.locked&&it.push(cn.resourceLabel)}}catch(Mn){dt.e(Mn)}finally{dt.f()}return it.length>0?this._tryToSplitAndRedo(b,y,null,yn.b({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",y.label,it.join(", "))):p.isValid()?null:this._tryToSplitAndRedo(b,y,null,yn.b({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",y.label))}},{key:"_workspaceRedo",value:function(b,y){var p=this._getAffectedEditStacks(y),M=this._checkWorkspaceRedo(b,y,p,!1);return M?M.returnValue:this._executeWorkspaceRedo(b,y,p)}},{key:"_executeWorkspaceRedo",value:function(b,y,p){return Sn(this,void 0,void 0,Object(w.a)().mark(function M(){var q=this,Se,Ie,qe,it,dt;return Object(w.a)().wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:return cn.prev=0,cn.next=3,this._invokeWorkspacePrepare(y);case 3:Se=cn.sent,cn.next=9;break;case 6:return cn.prev=6,cn.t0=cn.catch(0),cn.abrupt("return",this._onError(cn.t0,y));case 9:if(Ie=this._checkWorkspaceRedo(b,y,p,!0),!Ie){cn.next=13;break}return Se.dispose(),cn.abrupt("return",Ie.returnValue);case 13:qe=Object(D.a)(p.editStacks);try{for(qe.s();!(it=qe.n()).done;)dt=it.value,dt.moveForward(y)}catch(Mn){qe.e(Mn)}finally{qe.f()}return cn.abrupt("return",this._safeInvokeWithLocks(y,function(){return y.actual.redo()},p,Se,function(){return q._continueRedoInGroup(y.groupId)}));case 16:case"end":return cn.stop()}},M,this,[[0,6]])}))}},{key:"_resourceRedo",value:function(b,y){var p=this;if(!y.isValid){b.flushAllElements();return}if(b.locked){var M=yn.b({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",y.label);this._notificationService.warn(M);return}return this._invokeResourcePrepare(y,function(q){return b.moveForward(y),p._safeInvokeWithLocks(y,function(){return y.actual.redo()},new Br([b]),q,function(){return p._continueRedoInGroup(y.groupId)})})}},{key:"_findClosestRedoElementInGroup",value:function(b){if(!b)return[null,null];var y=null,p=null,M=Object(D.a)(this._editStacks),q;try{for(M.s();!(q=M.n()).done;){var Se=q.value,Ie=Object(an.a)(Se,2),qe=Ie[0],it=Ie[1],dt=it.getClosestFutureElement();!dt||dt.groupId===b&&(!y||dt.groupOrder<y.groupOrder)&&(y=dt,p=qe)}}catch(Jt){M.e(Jt)}finally{M.f()}return[y,p]}},{key:"_continueRedoInGroup",value:function(b){if(!!b){var y=this._findClosestRedoElementInGroup(b),p=Object(an.a)(y,2),M=p[1];if(M)return this._redo(M)}}},{key:"redo",value:function(b){if(b instanceof Pt.d){var y=this._findClosestRedoElementWithSource(b.id),p=Object(an.a)(y,2),M=p[1];return M?this._redo(M):void 0}return typeof b=="string"?this._redo(b):this._redo(this.getUriComparisonKey(b))}},{key:"_redo",value:function(b){if(!!this._editStacks.has(b)){var y=this._editStacks.get(b),p=y.getClosestFutureElement();if(!!p){if(p.groupId){var M=this._findClosestRedoElementInGroup(p.groupId),q=Object(an.a)(M,2),Se=q[0],Ie=q[1];if(p!==Se&&Ie)return this._redo(Ie)}try{return p.type===1?this._workspaceRedo(b,p):this._resourceRedo(y,p)}finally{Ii&&this._print("redo")}}}}}]),he}();ti=yt([Rn(0,Qn.a),Rn(1,pi.a)],ti);var bi=Object(x.a)(function he(le){Object(C.a)(this,he),this.returnValue=le});Object(mi.b)(Pt.a,ti,1);var Kn=a("6XFq"),En=a("09fa"),Nt=a("JS/N"),Gt=a("DF6W"),mt=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Ye=function(he,le){return function(b,y){le(b,y,he)}},vn=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M){var q;return Object(C.a)(this,b),q=le.call(this),q._themeService=y,q._logService=p,q._languageService=M,q._caches=new WeakMap,q._register(q._themeService.onDidColorThemeChange(function(){q._caches=new WeakMap})),q}return Object(x.a)(b,[{key:"getStyling",value:function(p){return this._caches.has(p)||this._caches.set(p,new Nt.a(p.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(p)}}]),b}(te.a);vn=mt([Ye(0,ei.b),Ye(1,En.b),Ye(2,H.a)],vn),Object(mi.b)(Gt.a,vn,1);var nt=a("X+cX"),Ze=a("PTeM"),Zt=a("QDVR"),hn=a("MrjW"),Ht=a("MNsG"),lt=function(he,le,b,y){function p(M){return M instanceof b?M:new b(function(q){q(M)})}return new(b||(b=Promise))(function(M,q){function Se(it){try{qe(y.next(it))}catch(dt){q(dt)}}function Ie(it){try{qe(y.throw(it))}catch(dt){q(dt)}}function qe(it){it.done?M(it.value):p(it.value).then(Se,Ie)}qe((y=y.apply(he,le||[])).next())})},si="**",Oi="/",Ji="[/\\\\]",Wi="[^/\\\\]",Yi=/\//g;function Bi(he,le){switch(he){case 0:return"";case 1:return"".concat(Wi,"*?");default:return"(?:".concat(Ji,"|").concat(Wi,"+").concat(Ji).concat(le?"|".concat(Ji).concat(Wi,"+"):"",")*?")}}function Gi(he,le){if(!he)return[];var b=[],y=!1,p=!1,M="",q=Object(D.a)(he),Se;try{for(q.s();!(Se=q.n()).done;){var Ie=Se.value;switch(Ie){case le:if(!y&&!p){b.push(M),M="";continue}break;case"{":y=!0;break;case"}":y=!1;break;case"[":p=!0;break;case"]":p=!1;break}M+=Ie}}catch(qe){q.e(qe)}finally{q.f()}return M&&b.push(M),b}function Gr(he){if(!he)return"";var le="",b=Gi(he,Oi);if(b.every(function(p){return p===si}))le=".*";else{var y=!1;b.forEach(function(p,M){if(p===si){if(y)return;le+=Bi(2,M===b.length-1)}else{var q=!1,Se="",Ie=!1,qe="",it=Object(D.a)(p),dt;try{for(it.s();!(dt=it.n()).done;){var Jt=dt.value;if(Jt!=="}"&&q){Se+=Jt;continue}if(Ie&&(Jt!=="]"||!qe)){var cn=void 0;Jt==="-"?cn=Jt:(Jt==="^"||Jt==="!")&&!qe?cn="^":Jt===Oi?cn="":cn=Object($.t)(Jt),qe+=cn;continue}switch(Jt){case"{":q=!0;continue;case"[":Ie=!0;continue;case"}":{var Mn=Gi(Se,","),vi="(?:".concat(Mn.map(function(ii){return Gr(ii)}).join("|"),")");le+=vi,q=!1,Se="";break}case"]":{le+="["+qe+"]",Ie=!1,qe="";break}case"?":le+=Wi;continue;case"*":le+=Bi(1);continue;default:le+=Object($.t)(Jt)}}}catch(ii){it.e(ii)}finally{it.f()}M<b.length-1&&(b[M+1]!==si||M+2<b.length)&&(le+=Ji)}y=p===si})}return le}var kr=/^\*\*\/\*\.[\w\.-]+$/,sa=/^\*\*\/([\w\.-]+)\/?$/,Fr=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,ua=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,pn=/^\*\*((\/[\w\.-]+)+)\/?$/,Ln=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,ct=new Zt.a(1e4),Mt=function(){return!1},At=function(){return null};function zt(he,le){if(!he)return At;var b;typeof he!="string"?b=he.pattern:b=he,b=b.trim();var y="".concat(b,"_").concat(!!le.trimForExclusions),p=ct.get(y);if(p)return $t(p,he);var M;return kr.test(b)?p=Vn(b.substr(4),b):(M=sa.exec(Un(b,le)))?p=Gn(M[1],b):(le.trimForExclusions?ua:Fr).test(b)?p=oi(b,le):(M=pn.exec(Un(b,le)))?p=_i(M[1].substr(1),b,!0):(M=Ln.exec(Un(b,le)))?p=_i(M[1],b,!1):p=Cn(b),ct.set(y,p),$t(p,he)}function $t(he,le){if(typeof le=="string")return he;var b=function(p,M){return Object(Ze.c)(p,le.base,!Ht.g)?he(Object($.K)(p.substr(le.base.length),hn.h),M):null};return b.allBasenames=he.allBasenames,b.allPaths=he.allPaths,b.basenames=he.basenames,b.patterns=he.patterns,b}function Un(he,le){return le.trimForExclusions&&he.endsWith("/**")?he.substr(0,he.length-2):he}function Vn(he,le){return function(b,y){return typeof b=="string"&&b.endsWith(he)?le:null}}function Gn(he,le){var b="/".concat(he),y="\\".concat(he),p=function(Se,Ie){return typeof Se!="string"?null:Ie?Ie===he?le:null:Se===he||Se.endsWith(b)||Se.endsWith(y)?le:null},M=[he];return p.basenames=M,p.patterns=[le],p.allBasenames=M,p}function oi(he,le){var b=Er(he.slice(1,-1).split(",").map(function(Se){return zt(Se,le)}).filter(function(Se){return Se!==At}),he),y=b.length;if(!y)return At;if(y===1)return b[0];var p=function(Ie,qe){for(var it=0,dt=b.length;it<dt;it++)if(b[it](Ie,qe))return he;return null},M=b.find(function(Se){return!!Se.allBasenames});M&&(p.allBasenames=M.allBasenames);var q=b.reduce(function(Se,Ie){return Ie.allPaths?Se.concat(Ie.allPaths):Se},[]);return q.length&&(p.allPaths=q),p}function _i(he,le,b){var y=hn.h===hn.e.sep,p=y?he:he.replace(Yi,hn.h),M=hn.h+p,q=hn.e.sep+he,Se;return b?Se=function(qe,it){return typeof qe=="string"&&(qe===p||qe.endsWith(M)||!y&&(qe===he||qe.endsWith(q)))?le:null}:Se=function(qe,it){return typeof qe=="string"&&(qe===p||!y&&qe===he)?le:null},Se.allPaths=[(b?"*/":"./")+he],Se}function Cn(he){try{var le=new RegExp("^".concat(Gr(he),"$"));return function(b){return le.lastIndex=0,typeof b=="string"&&le.test(b)?he:null}}catch(b){return At}}function ui(he,le,b){return!he||typeof le!="string"?!1:Si(he)(le,void 0,b)}function Si(he){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!he)return Mt;if(typeof he=="string"||Ui(he)){var b=zt(he,le);if(b===At)return Mt;var y=function(M,q){return!!b(M,q)};return b.allBasenames&&(y.allBasenames=b.allBasenames),b.allPaths&&(y.allPaths=b.allPaths),y}return Lr(he,le)}function Ui(he){var le=he;return le?typeof le.base=="string"&&typeof le.pattern=="string":!1}function Lr(he,le){var b=Er(Object.getOwnPropertyNames(he).map(function(it){return or(it,he[it],le)}).filter(function(it){return it!==At})),y=b.length;if(!y)return At;if(!b.some(function(it){return!!it.requiresSiblings})){if(y===1)return b[0];var p=function(dt,Jt){for(var cn=this,Mn=void 0,vi=0,ii=b.length;vi<ii;vi++){var di=b[vi](dt,Jt);if(typeof di=="string")return di;Object(nt.n)(di)&&(Mn||(Mn=[]),Mn.push(di))}return Mn?function(){return lt(cn,void 0,void 0,Object(w.a)().mark(function $n(){var ni,sr,mr,fr;return Object(w.a)().wrap(function(Vr){for(;;)switch(Vr.prev=Vr.next){case 0:ni=Object(D.a)(Mn),Vr.prev=1,ni.s();case 3:if((sr=ni.n()).done){Vr.next=12;break}return mr=sr.value,Vr.next=7,mr;case 7:if(fr=Vr.sent,typeof fr!="string"){Vr.next=10;break}return Vr.abrupt("return",fr);case 10:Vr.next=3;break;case 12:Vr.next=17;break;case 14:Vr.prev=14,Vr.t0=Vr.catch(1),ni.e(Vr.t0);case 17:return Vr.prev=17,ni.f(),Vr.finish(17);case 20:return Vr.abrupt("return",null);case 21:case"end":return Vr.stop()}},$n,null,[[1,14,17,20]])}))}():null},M=b.find(function(it){return!!it.allBasenames});M&&(p.allBasenames=M.allBasenames);var q=b.reduce(function(it,dt){return dt.allPaths?it.concat(dt.allPaths):it},[]);return q.length&&(p.allPaths=q),p}var Se=function(dt,Jt,cn){for(var Mn=this,vi=void 0,ii=void 0,di=0,$n=b.length;di<$n;di++){var ni=b[di];ni.requiresSiblings&&cn&&(Jt||(Jt=Object(hn.a)(dt)),vi||(vi=Jt.substr(0,Jt.length-Object(hn.c)(dt).length)));var sr=ni(dt,Jt,vi,cn);if(typeof sr=="string")return sr;Object(nt.n)(sr)&&(ii||(ii=[]),ii.push(sr))}return ii?function(){return lt(Mn,void 0,void 0,Object(w.a)().mark(function mr(){var fr,Xr,Vr,na;return Object(w.a)().wrap(function(Ta){for(;;)switch(Ta.prev=Ta.next){case 0:fr=Object(D.a)(ii),Ta.prev=1,fr.s();case 3:if((Xr=fr.n()).done){Ta.next=12;break}return Vr=Xr.value,Ta.next=7,Vr;case 7:if(na=Ta.sent,typeof na!="string"){Ta.next=10;break}return Ta.abrupt("return",na);case 10:Ta.next=3;break;case 12:Ta.next=17;break;case 14:Ta.prev=14,Ta.t0=Ta.catch(1),fr.e(Ta.t0);case 17:return Ta.prev=17,fr.f(),Ta.finish(17);case 20:return Ta.abrupt("return",null);case 21:case"end":return Ta.stop()}},mr,null,[[1,14,17,20]])}))}():null},Ie=b.find(function(it){return!!it.allBasenames});Ie&&(Se.allBasenames=Ie.allBasenames);var qe=b.reduce(function(it,dt){return dt.allPaths?it.concat(dt.allPaths):it},[]);return qe.length&&(Se.allPaths=qe),Se}function or(he,le,b){if(le===!1)return At;var y=zt(he,b);if(y===At)return At;if(typeof le=="boolean")return y;if(le){var p=le.when;if(typeof p=="string"){var M=function(Se,Ie,qe,it){if(!it||!y(Se,Ie))return null;var dt=p.replace("$(basename)",function(){return qe}),Jt=it(dt);return Object(nt.n)(Jt)?Jt.then(function(cn){return cn?he:null}):Jt?he:null};return M.requiresSiblings=!0,M}}return y}function Er(he,le){var b=he.filter(function(qe){return!!qe.basenames});if(b.length<2)return he;var y=b.reduce(function(qe,it){var dt=it.basenames;return dt?qe.concat(dt):qe},[]),p;if(le){p=[];for(var M=0,q=y.length;M<q;M++)p.push(le)}else p=b.reduce(function(qe,it){var dt=it.patterns;return dt?qe.concat(dt):qe},[]);var Se=function(it,dt){if(typeof it!="string")return null;if(!dt){var Jt;for(Jt=it.length;Jt>0;Jt--){var cn=it.charCodeAt(Jt-1);if(cn===47||cn===92)break}dt=it.substr(Jt)}var Mn=y.indexOf(dt);return Mn!==-1?p[Mn]:null};Se.basenames=y,Se.patterns=p,Se.allBasenames=y;var Ie=he.filter(function(qe){return!qe.basenames});return Ie.push(Se),Ie}function vr(he,le,b,y,p,M){if(Array.isArray(he)){var q=0,Se=Object(D.a)(he),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value,it=vr(qe,le,b,y,p,M);if(it===10)return it;it>q&&(q=it)}}catch($n){Se.e($n)}finally{Se.f()}return q}else{if(typeof he=="string")return y?he==="*"?5:he===b?10:0:0;if(he){var dt=he.language,Jt=he.pattern,cn=he.scheme,Mn=he.hasAccessToAllModels,vi=he.notebookType;if(!y&&!Mn)return 0;vi&&p&&(le=p);var ii=0;if(cn)if(cn===le.scheme)ii=10;else if(cn==="*")ii=5;else return 0;if(dt)if(dt===b)ii=10;else if(dt==="*")ii=Math.max(ii,5);else return 0;if(vi)if(vi===M)ii=10;else if(vi==="*"&&M!==void 0)ii=Math.max(ii,5);else return 0;if(Jt){var di;if(typeof Jt=="string"?di=Jt:di=Object.assign(Object.assign({},Jt),{base:Object(hn.d)(Jt.base)}),di===le.fsPath||ui(di,le.fsPath))ii=10;else return 0}return ii}else return 0}}function on(he){return typeof he=="string"?!1:Array.isArray(he)?he.every(on):!!he.exclusive}var Wn=function(){function he(le,b,y,p){Object(C.a)(this,he),this.uri=le,this.languageId=b,this.notebookUri=y,this.notebookType=p}return Object(x.a)(he,[{key:"equals",value:function(b){var y,p;return this.notebookType===b.notebookType&&this.languageId===b.languageId&&this.uri.toString()===b.uri.toString()&&((y=this.notebookUri)===null||y===void 0?void 0:y.toString())===((p=b.notebookUri)===null||p===void 0?void 0:p.toString())}}]),he}(),Zn=function(){function he(le){Object(C.a)(this,he),this._notebookInfoResolver=le,this._clock=0,this._entries=[],this._onDidChange=new _n.b,this.onDidChange=this._onDidChange.event}return Object(x.a)(he,[{key:"register",value:function(b,y){var p=this,M={selector:b,provider:y,_score:-1,_time:this._clock++};return this._entries.push(M),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Object(te.l)(function(){if(M){var q=p._entries.indexOf(M);q>=0&&(p._entries.splice(q,1),p._lastCandidate=void 0,p._onDidChange.fire(p._entries.length),M=void 0)}})}},{key:"has",value:function(b){return this.all(b).length>0}},{key:"all",value:function(b){if(!b)return[];this._updateScores(b);var y=[],p=Object(D.a)(this._entries),M;try{for(p.s();!(M=p.n()).done;){var q=M.value;q._score>0&&y.push(q.provider)}}catch(Se){p.e(Se)}finally{p.f()}return y}},{key:"ordered",value:function(b){var y=[];return this._orderedForEach(b,function(p){return y.push(p.provider)}),y}},{key:"orderedGroups",value:function(b){var y=[],p,M;return this._orderedForEach(b,function(q){p&&M===q._score?p.push(q.provider):(M=q._score,p=[q.provider],y.push(p))}),y}},{key:"_orderedForEach",value:function(b,y){this._updateScores(b);var p=Object(D.a)(this._entries),M;try{for(p.s();!(M=p.n()).done;){var q=M.value;q._score>0&&y(q)}}catch(Se){p.e(Se)}finally{p.f()}}},{key:"_updateScores",value:function(b){var y,p,M=(y=this._notebookInfoResolver)===null||y===void 0?void 0:y.call(this,b.uri),q=M?new Wn(b.uri,b.getLanguageId(),M.uri,M.type):new Wn(b.uri,b.getLanguageId(),void 0,void 0);if(!((p=this._lastCandidate)===null||p===void 0?void 0:p.equals(q))){this._lastCandidate=q;var Se=Object(D.a)(this._entries),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value;if(qe._score=vr(qe.selector,q.uri,q.languageId,Object(B.k)(b),q.notebookUri,q.notebookType),on(qe.selector)&&qe._score>0){var it=Object(D.a)(this._entries),dt;try{for(it.s();!(dt=it.n()).done;){var Jt=dt.value;Jt._score=0}}catch(cn){it.e(cn)}finally{it.f()}qe._score=1e3;break}}}catch(cn){Se.e(cn)}finally{Se.f()}this._entries.sort(he._compareByScoreAndTime)}}}],[{key:"_compareByScoreAndTime",value:function(b,y){return b._score<y._score?1:b._score>y._score?-1:Li(b.selector)&&!Li(y.selector)?1:!Li(b.selector)&&Li(y.selector)?-1:b._time<y._time?1:b._time>y._time?-1:0}}]),he}();function Li(he){return typeof he=="string"?!1:Array.isArray(he)?he.some(Li):Boolean(he.isBuiltin)}var _r=a("c0Ay"),Nr=function(){function he(){Object(C.a)(this,he),this.referenceProvider=new Zn(this._score.bind(this)),this.renameProvider=new Zn(this._score.bind(this)),this.codeActionProvider=new Zn(this._score.bind(this)),this.definitionProvider=new Zn(this._score.bind(this)),this.typeDefinitionProvider=new Zn(this._score.bind(this)),this.declarationProvider=new Zn(this._score.bind(this)),this.implementationProvider=new Zn(this._score.bind(this)),this.documentSymbolProvider=new Zn(this._score.bind(this)),this.inlayHintsProvider=new Zn(this._score.bind(this)),this.colorProvider=new Zn(this._score.bind(this)),this.codeLensProvider=new Zn(this._score.bind(this)),this.documentFormattingEditProvider=new Zn(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Zn(this._score.bind(this)),this.onTypeFormattingEditProvider=new Zn(this._score.bind(this)),this.signatureHelpProvider=new Zn(this._score.bind(this)),this.hoverProvider=new Zn(this._score.bind(this)),this.documentHighlightProvider=new Zn(this._score.bind(this)),this.selectionRangeProvider=new Zn(this._score.bind(this)),this.foldingRangeProvider=new Zn(this._score.bind(this)),this.linkProvider=new Zn(this._score.bind(this)),this.inlineCompletionsProvider=new Zn(this._score.bind(this)),this.completionProvider=new Zn(this._score.bind(this)),this.linkedEditingRangeProvider=new Zn(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Zn(this._score.bind(this)),this.documentSemanticTokensProvider=new Zn(this._score.bind(this)),this.documentOnDropEditProvider=new Zn(this._score.bind(this)),this.documentPasteEditProvider=new Zn(this._score.bind(this))}return Object(x.a)(he,[{key:"_score",value:function(b){var y;return(y=this._notebookTypeResolver)===null||y===void 0?void 0:y.call(this,b)}}]),he}();Object(mi.b)(_r.a,Nr,1);var $i=a("uDWl"),Jr=a("Szf2"),ja=a("x/UI"),$r=a("ZdAd"),Ra=a("0/Sa"),Ua=a("cGHE"),Ka=a("aokT"),ws=a("t49l"),Zr=a("db+f"),Xa=a("nnTU"),Go=a("6OMU"),lo=a("746U"),qo=a("CRAX"),_a=a("ic2d");function la(he){return Object.isFrozen(he)?he:z.d(he)}var La=function(){function he(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],p=arguments.length>3?arguments[3]:void 0;Object(C.a)(this,he),this._contents=le,this._keys=b,this._overrides=y,this.raw=p,this.overrideConfigurations=new Map}return Object(x.a)(he,[{key:"rawConfiguration",get:function(){var b;if(!this._rawConfiguration)if((b=this.raw)===null||b===void 0?void 0:b.length){var y=this.raw.map(function(p){if(p instanceof he)return p;var M=new Ro("");return M.parseRaw(p),M.configurationModel});this._rawConfiguration=y.reduce(function(p,M){return M===p?M:p.merge(M)},y[0])}else this._rawConfiguration=this;return this._rawConfiguration}},{key:"contents",get:function(){return this._contents}},{key:"overrides",get:function(){return this._overrides}},{key:"keys",get:function(){return this._keys}},{key:"isEmpty",value:function(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}},{key:"getValue",value:function(b){return b?Object(Fe.c)(this.contents,b):this.contents}},{key:"inspect",value:function(b,y){var p=this.rawConfiguration.getValue(b),M=y?this.rawConfiguration.getOverrideValue(b,y):void 0,q=y?this.rawConfiguration.override(y).getValue(b):p;return{value:p,override:M,merged:q}}},{key:"getOverrideValue",value:function(b,y){var p=this.getContentsForOverrideIdentifer(y);return p?b?Object(Fe.c)(p,b):p:void 0}},{key:"override",value:function(b){var y=this.overrideConfigurations.get(b);return y||(y=this.createOverrideConfigurationModel(b),this.overrideConfigurations.set(b,y)),y}},{key:"merge",value:function(){for(var b=this,y,p,M=z.c(this.contents),q=z.c(this.overrides),Se=Object(ve.a)(this.keys),Ie=((y=this.raw)===null||y===void 0?void 0:y.length)?Object(ve.a)(this.raw):[this],qe=arguments.length,it=new Array(qe),dt=0;dt<qe;dt++)it[dt]=arguments[dt];for(var Jt=0,cn=it;Jt<cn.length;Jt++){var Mn=cn[Jt];if(Ie.push.apply(Ie,Object(ve.a)(((p=Mn.raw)===null||p===void 0?void 0:p.length)?Mn.raw:[Mn])),!Mn.isEmpty()){this.mergeContents(M,Mn.contents);var vi=Object(D.a)(Mn.overrides),ii;try{var di=function(){var fr=ii.value,Xr=q.filter(function(Ta){return Go.j(Ta.identifiers,fr.identifiers)}),Vr=Object(an.a)(Xr,1),na=Vr[0];if(na){var va;b.mergeContents(na.contents,fr.contents),(va=na.keys).push.apply(va,Object(ve.a)(fr.keys)),na.keys=Go.i(na.keys)}else q.push(z.c(fr))};for(vi.s();!(ii=vi.n()).done;)di()}catch(mr){vi.e(mr)}finally{vi.f()}var $n=Object(D.a)(Mn.keys),ni;try{for($n.s();!(ni=$n.n()).done;){var sr=ni.value;Se.indexOf(sr)===-1&&Se.push(sr)}}catch(mr){$n.e(mr)}finally{$n.f()}}}return new he(M,Se,q,Ie.every(function(mr){return mr instanceof he})?void 0:Ie)}},{key:"createOverrideConfigurationModel",value:function(b){var y=this.getContentsForOverrideIdentifer(b);if(!y||typeof y!="object"||!Object.keys(y).length)return this;var p={},M=Object(D.a)(Go.i([].concat(Object(ve.a)(Object.keys(this.contents)),Object(ve.a)(Object.keys(y))))),q;try{for(M.s();!(q=M.n()).done;){var Se=q.value,Ie=this.contents[Se],qe=y[Se];qe&&(typeof Ie=="object"&&typeof qe=="object"?(Ie=z.c(Ie),this.mergeContents(Ie,qe)):Ie=qe),p[Se]=Ie}}catch(it){M.e(it)}finally{M.f()}return new he(p,this.keys,this.overrides)}},{key:"mergeContents",value:function(b,y){for(var p=0,M=Object.keys(y);p<M.length;p++){var q=M[p];if(q in b&&lo.h(b[q])&&lo.h(y[q])){this.mergeContents(b[q],y[q]);continue}b[q]=z.c(y[q])}}},{key:"getContentsForOverrideIdentifer",value:function(b){var y=this,p=null,M=null,q=function(dt){dt&&(M?y.mergeContents(M,dt):M=z.c(dt))},Se=Object(D.a)(this.overrides),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value;Go.j(qe.identifiers,[b])?p=qe.contents:qe.identifiers.includes(b)&&q(qe.contents)}}catch(it){Se.e(it)}finally{Se.f()}return q(p),M}},{key:"toJSON",value:function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}},{key:"addValue",value:function(b,y){this.updateValue(b,y,!0)}},{key:"setValue",value:function(b,y){this.updateValue(b,y,!1)}},{key:"removeValue",value:function(b){var y=this.keys.indexOf(b);y!==-1&&(this.keys.splice(y,1),Object(Fe.e)(this.contents,b),qo.b.test(b)&&this.overrides.splice(this.overrides.findIndex(function(p){return Go.j(p.identifiers,Object(qo.c)(b))}),1))}},{key:"updateValue",value:function(b,y,p){Object(Fe.b)(this.contents,b,y,function(M){return console.error(M)}),p=p||this.keys.indexOf(b)===-1,p&&this.keys.push(b),qo.b.test(b)&&this.overrides.push({identifiers:Object(qo.c)(b),keys:Object.keys(this.contents[b]),contents:Object(Fe.f)(this.contents[b],function(M){return console.error(M)})})}}]),he}(),Ro=function(){function he(le){Object(C.a)(this,he),this._name=le,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}return Object(x.a)(he,[{key:"configurationModel",get:function(){return this._configurationModel||new La}},{key:"parseRaw",value:function(b,y){this._raw=b;var p=this.doParseRaw(b,y),M=p.contents,q=p.keys,Se=p.overrides,Ie=p.restricted,qe=p.hasExcludedProperties;this._configurationModel=new La(M,q,Se,qe?[b]:void 0),this._restrictedConfigurations=Ie||[]}},{key:"doParseRaw",value:function(b,y){var p=this,M=_a.a.as(qo.a.Configuration).getConfigurationProperties(),q=this.filter(b,M,!0,y);b=q.raw;var Se=Object(Fe.f)(b,function(it){return console.error("Conflict in settings file ".concat(p._name,": ").concat(it))}),Ie=Object.keys(b),qe=this.toOverrides(b,function(it){return console.error("Conflict in settings file ".concat(p._name,": ").concat(it))});return{contents:Se,keys:Ie,overrides:qe,restricted:q.restricted,hasExcludedProperties:q.hasExcludedProperties}}},{key:"filter",value:function(b,y,p,M){var q=!1;if(!(M==null?void 0:M.scopes)&&!(M==null?void 0:M.skipRestricted))return{raw:b,restricted:[],hasExcludedProperties:q};var Se={},Ie=[];for(var qe in b)if(qo.b.test(qe)&&p){var it=this.filter(b[qe],y,!1,M);Se[qe]=it.raw,q=q||it.hasExcludedProperties,Ie.push.apply(Ie,Object(ve.a)(it.restricted))}else{var dt=y[qe],Jt=dt?typeof dt.scope!="undefined"?dt.scope:3:void 0;(dt==null?void 0:dt.restricted)&&Ie.push(qe),(Jt===void 0||M.scopes===void 0||M.scopes.includes(Jt))&&!(M.skipRestricted&&(dt==null?void 0:dt.restricted))?Se[qe]=b[qe]:q=!0}return{raw:Se,restricted:Ie,hasExcludedProperties:q}}},{key:"toOverrides",value:function(b,y){for(var p=[],M=0,q=Object.keys(b);M<q.length;M++){var Se=q[M];if(qo.b.test(Se)){var Ie={};for(var qe in b[Se])Ie[qe]=b[Se][qe];p.push({identifiers:Object(qo.c)(Se),keys:Object.keys(Ie),contents:Object(Fe.f)(Ie,y)})}}return p}}]),he}(),$o=function(){function he(le,b,y,p,M,q,Se,Ie,qe,it,dt,Jt,cn){Object(C.a)(this,he),this.key=le,this.overrides=b,this._value=y,this.overrideIdentifiers=p,this.defaultConfiguration=M,this.policyConfiguration=q,this.applicationConfiguration=Se,this.userConfiguration=Ie,this.localUserConfiguration=qe,this.remoteUserConfiguration=it,this.workspaceConfiguration=dt,this.folderConfigurationModel=Jt,this.memoryConfigurationModel=cn}return Object(x.a)(he,[{key:"inspect",value:function(b,y,p){var M=b.inspect(y,p);return{get value(){return la(M.value)},get override(){return la(M.override)},get merged(){return la(M.merged)}}}},{key:"userInspectValue",get:function(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}},{key:"user",get:function(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}]),he}(),Rt=function(){function he(le,b,y,p){var M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:new La,q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:new La,Se=arguments.length>6&&arguments[6]!==void 0?arguments[6]:new Zt.b,Ie=arguments.length>7&&arguments[7]!==void 0?arguments[7]:new La,qe=arguments.length>8&&arguments[8]!==void 0?arguments[8]:new Zt.b;Object(C.a)(this,he),this._defaultConfiguration=le,this._policyConfiguration=b,this._applicationConfiguration=y,this._localUserConfiguration=p,this._remoteUserConfiguration=M,this._workspaceConfiguration=q,this._folderConfigurations=Se,this._memoryConfiguration=Ie,this._memoryConfigurationByResource=qe,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Zt.b,this._userConfiguration=null}return Object(x.a)(he,[{key:"getValue",value:function(b,y,p){var M=this.getConsolidatedConfigurationModel(b,y,p);return M.getValue(b)}},{key:"updateValue",value:function(b,y){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M;p.resource?(M=this._memoryConfigurationByResource.get(p.resource),M||(M=new La,this._memoryConfigurationByResource.set(p.resource,M))):M=this._memoryConfiguration,y===void 0?M.removeValue(b):M.setValue(b,y),p.resource||(this._workspaceConsolidatedConfiguration=null)}},{key:"inspect",value:function(b,y,p){var M=this.getConsolidatedConfigurationModel(b,y,p),q=this.getFolderConfigurationModelForResource(y.resource,p),Se=y.resource?this._memoryConfigurationByResource.get(y.resource)||this._memoryConfiguration:this._memoryConfiguration,Ie=new Set,qe=Object(D.a)(M.overrides),it;try{for(qe.s();!(it=qe.n()).done;){var dt=it.value,Jt=Object(D.a)(dt.identifiers),cn;try{for(Jt.s();!(cn=Jt.n()).done;){var Mn=cn.value;M.getOverrideValue(b,Mn)!==void 0&&Ie.add(Mn)}}catch(vi){Jt.e(vi)}finally{Jt.f()}}}catch(vi){qe.e(vi)}finally{qe.f()}return new $o(b,y,M.getValue(b),Ie.size?Object(ve.a)(Ie):void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,p?this._workspaceConfiguration:void 0,q||void 0,Se)}},{key:"applicationConfiguration",get:function(){return this._applicationConfiguration}},{key:"userConfiguration",get:function(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}},{key:"localUserConfiguration",get:function(){return this._localUserConfiguration}},{key:"remoteUserConfiguration",get:function(){return this._remoteUserConfiguration}},{key:"getConsolidatedConfigurationModel",value:function(b,y,p){var M=this.getConsolidatedConfigurationModelForResource(y,p);return y.overrideIdentifier&&(M=M.override(y.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(b)!==void 0&&(M=M.merge(this._policyConfiguration)),M}},{key:"getConsolidatedConfigurationModelForResource",value:function(b,y){var p=b.resource,M=this.getWorkspaceConsolidatedConfiguration();if(y&&p){var q=y.getFolder(p);q&&(M=this.getFolderConsolidatedConfiguration(q.uri)||M);var Se=this._memoryConfigurationByResource.get(p);Se&&(M=M.merge(Se))}return M}},{key:"getWorkspaceConsolidatedConfiguration",value:function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}},{key:"getFolderConsolidatedConfiguration",value:function(b){var y=this._foldersConsolidatedConfigurations.get(b);if(!y){var p=this.getWorkspaceConsolidatedConfiguration(),M=this._folderConfigurations.get(b);M?(y=p.merge(M),this._foldersConsolidatedConfigurations.set(b,y)):y=p}return y}},{key:"getFolderConfigurationModelForResource",value:function(b,y){if(y&&b){var p=y.getFolder(b);if(p)return this._folderConfigurations.get(p.uri)}}},{key:"toData",value:function(){var b=this;return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:Object(ve.a)(this._folderConfigurations.keys()).reduce(function(y,p){var M=b._folderConfigurations.get(p),q=M.contents,Se=M.overrides,Ie=M.keys;return y.push([p,{contents:q,overrides:Se,keys:Ie}]),y},[])}}}],[{key:"parse",value:function(b){var y=this,p=this.parseConfigurationModel(b.defaults),M=this.parseConfigurationModel(b.policy),q=this.parseConfigurationModel(b.application),Se=this.parseConfigurationModel(b.user),Ie=this.parseConfigurationModel(b.workspace),qe=b.folders.reduce(function(it,dt){return it.set(_.a.revive(dt[0]),y.parseConfigurationModel(dt[1])),it},new Zt.b);return new he(p,M,q,Se,new La,Ie,qe,new La,new Zt.b)}},{key:"parseConfigurationModel",value:function(b){return new La(b.contents,b.keys,b.overrides)}}]),he}(),tt=function(){function he(le,b,y,p){Object(C.a)(this,he),this.change=le,this.previous=b,this.currentConfiguraiton=y,this.currentWorkspace=p,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;var M=Object(D.a)(le.keys),q;try{for(M.s();!(q=M.n()).done;){var Se=q.value;this.affectedKeys.add(Se)}}catch(ni){M.e(ni)}finally{M.f()}var Ie=Object(D.a)(le.overrides),qe;try{for(Ie.s();!(qe=Ie.n()).done;){var it=qe.value,dt=Object(an.a)(it,2),Jt=dt[1],cn=Object(D.a)(Jt),Mn;try{for(cn.s();!(Mn=cn.n()).done;){var vi=Mn.value;this.affectedKeys.add(vi)}}catch(ni){cn.e(ni)}finally{cn.f()}}}catch(ni){Ie.e(ni)}finally{Ie.f()}this._affectsConfigStr=this._marker;var ii=Object(D.a)(this.affectedKeys),di;try{for(ii.s();!(di=ii.n()).done;){var $n=di.value;this._affectsConfigStr+=$n+this._marker}}catch(ni){ii.e(ni)}finally{ii.f()}}return Object(x.a)(he,[{key:"previousConfiguration",get:function(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Rt.parse(this.previous.data)),this._previousConfiguration}},{key:"affectsConfiguration",value:function(b,y){var p,M=this._marker+b,q=this._affectsConfigStr.indexOf(M);if(q<0)return!1;var Se=q+M.length;if(Se>=this._affectsConfigStr.length)return!1;var Ie=this._affectsConfigStr.charCodeAt(Se);if(Ie!==this._markerCode1&&Ie!==this._markerCode2)return!1;if(y){var qe=this.previousConfiguration?this.previousConfiguration.getValue(b,y,(p=this.previous)===null||p===void 0?void 0:p.workspace):void 0,it=this.currentConfiguraiton.getValue(b,y,this.currentWorkspace);return!z.e(qe,it)}return!0}}]),he}(),_e=a("bvvZ"),ee={kind:0},j={kind:1};function k(he,le,b){return{kind:2,commandId:he,commandArgs:le,isBubble:b}}var K=function(){function he(le,b,y){Object(C.a)(this,he);var p;this._log=y,this._defaultKeybindings=le,this._defaultBoundCommands=new Map;var M=Object(D.a)(le),q;try{for(M.s();!(q=M.n()).done;){var Se=q.value,Ie=Se.command;Ie&&Ie.charAt(0)!=="-"&&this._defaultBoundCommands.set(Ie,!0)}}catch(cn){M.e(cn)}finally{M.f()}this._map=new Map,this._lookupMap=new Map,this._keybindings=he.handleRemovals([].concat(le).concat(b));for(var qe=0,it=this._keybindings.length;qe<it;qe++){var dt=this._keybindings[qe];if(dt.chords.length!==0){var Jt=(p=dt.when)===null||p===void 0?void 0:p.substituteConstants();Jt&&Jt.type===0||this._addKeyPress(dt.chords[0],dt)}}}return Object(x.a)(he,[{key:"_addKeyPress",value:function(b,y){var p=this._map.get(b);if(typeof p=="undefined"){this._map.set(b,[y]),this._addToLookupMap(y);return}for(var M=p.length-1;M>=0;M--){var q=p[M];if(q.command!==y.command){for(var Se=!0,Ie=1;Ie<q.chords.length&&Ie<y.chords.length;Ie++)if(q.chords[Ie]!==y.chords[Ie]){Se=!1;break}!Se||he.whenIsEntirelyIncluded(q.when,y.when)&&this._removeFromLookupMap(q)}}p.push(y),this._addToLookupMap(y)}},{key:"_addToLookupMap",value:function(b){if(!!b.command){var y=this._lookupMap.get(b.command);typeof y=="undefined"?(y=[b],this._lookupMap.set(b.command,y)):y.push(b)}}},{key:"_removeFromLookupMap",value:function(b){if(!!b.command){var y=this._lookupMap.get(b.command);if(typeof y!="undefined"){for(var p=0,M=y.length;p<M;p++)if(y[p]===b){y.splice(p,1);return}}}}},{key:"getKeybindings",value:function(){return this._keybindings}},{key:"lookupPrimaryKeybinding",value:function(b,y){var p=this._lookupMap.get(b);if(typeof p=="undefined"||p.length===0)return null;if(p.length===1)return p[0];for(var M=p.length-1;M>=0;M--){var q=p[M];if(y.contextMatchesRules(q.when))return q}return p[p.length-1]}},{key:"resolve",value:function(b,y,p){var M=[].concat(Object(ve.a)(y),[p]);this._log("| Resolving ".concat(M));var q=this._map.get(M[0]);if(q===void 0)return this._log("\\ No keybinding entries."),ee;var Se=null;if(M.length<2)Se=q;else{Se=[];for(var Ie=0,qe=q.length;Ie<qe;Ie++){var it=q[Ie];if(!(M.length>it.chords.length)){for(var dt=!0,Jt=1;Jt<M.length;Jt++)if(it.chords[Jt]!==M[Jt]){dt=!1;break}dt&&Se.push(it)}}}var cn=this._findCommand(b,Se);return cn?M.length<cn.chords.length?(this._log("\\ From ".concat(Se.length," keybinding entries, awaiting ").concat(cn.chords.length-M.length," more chord(s), when: ").concat(ue(cn.when),", source: ").concat(xe(cn),".")),j):(this._log("\\ From ".concat(Se.length," keybinding entries, matched ").concat(cn.command,", when: ").concat(ue(cn.when),", source: ").concat(xe(cn),".")),k(cn.command,cn.commandArgs,cn.bubble)):(this._log("\\ From ".concat(Se.length," keybinding entries, no when clauses matched the context.")),ee)}},{key:"_findCommand",value:function(b,y){for(var p=y.length-1;p>=0;p--){var M=y[p];if(!!he._contextMatchesRules(b,M.when))return M}return null}}],[{key:"_isTargetedForRemoval",value:function(b,y,p){if(y){for(var M=0;M<y.length;M++)if(y[M]!==b.chords[M])return!1}return!(p&&p.type!==1&&(!b.when||!Object(yi.d)(p,b.when)))}},{key:"handleRemovals",value:function(b){for(var y=new Map,p=0,M=b.length;p<M;p++){var q=b[p];if(q.command&&q.command.charAt(0)==="-"){var Se=q.command.substring(1);y.has(Se)?y.get(Se).push(q):y.set(Se,[q])}}if(y.size===0)return b;for(var Ie=[],qe=0,it=b.length;qe<it;qe++){var dt=b[qe];if(!dt.command||dt.command.length===0){Ie.push(dt);continue}if(dt.command.charAt(0)!=="-"){var Jt=y.get(dt.command);if(!Jt||!dt.isDefault){Ie.push(dt);continue}var cn=!1,Mn=Object(D.a)(Jt),vi;try{for(Mn.s();!(vi=Mn.n()).done;){var ii=vi.value,di=ii.when;if(this._isTargetedForRemoval(dt,ii.chords,di)){cn=!0;break}}}catch($n){Mn.e($n)}finally{Mn.f()}if(!cn){Ie.push(dt);continue}}}return Ie}},{key:"whenIsEntirelyIncluded",value:function(b,y){return!y||y.type===1?!0:!b||b.type===1?!1:Object(yi.e)(b,y)}},{key:"_contextMatchesRules",value:function(b,y){return y?y.evaluate(b):!0}}]),he}();function ue(he){return he?"".concat(he.serialize()):"no when condition"}function xe(he){return he.extensionId?he.isBuiltinExtension?"built-in extension ".concat(he.extensionId):"user extension ".concat(he.extensionId):he.isDefault?"built-in":"user"}var Ve=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/,ut=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q,Se){var Ie;return Object(C.a)(this,b),Ie=le.call(this),Ie._contextKeyService=y,Ie._commandService=p,Ie._telemetryService=M,Ie._notificationService=q,Ie._logService=Se,Ie._onDidUpdateKeybindings=Ie._register(new _n.b),Ie._currentChords=[],Ie._currentChordChecker=new nt.e,Ie._currentChordStatusMessage=null,Ie._ignoreSingleModifiers=_t.EMPTY,Ie._currentSingleModifier=null,Ie._currentSingleModifierClearTimeout=new nt.i,Ie._logging=!1,Ie}return Object(x.a)(b,[{key:"onDidUpdateKeybindings",get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:_n.c.None}},{key:"inChordMode",get:function(){return this._currentChords.length>0}},{key:"dispose",value:function(){Object(Je.a)(Object(ft.a)(b.prototype),"dispose",this).call(this)}},{key:"_log",value:function(p){this._logging&&this._logService.info("[KeybindingService]: ".concat(p))}},{key:"getKeybindings",value:function(){return this._getResolver().getKeybindings()}},{key:"lookupKeybinding",value:function(p,M){var q=this._getResolver().lookupPrimaryKeybinding(p,M||this._contextKeyService);if(!!q)return q.resolvedKeybinding}},{key:"dispatchEvent",value:function(p,M){return this._dispatch(p,M)}},{key:"softDispatch",value:function(p,M){this._log("/ Soft dispatching keyboard event");var q=this.resolveKeyboardEvent(p);if(q.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),ee;var Se=q.getDispatchChords(),Ie=Object(an.a)(Se,1),qe=Ie[0];if(qe===null)return this._log("\\ Keyboard event cannot be dispatched"),ee;var it=this._contextKeyService.getContext(M),dt=this._currentChords.map(function(Jt){var cn=Jt.keypress;return cn});return this._getResolver().resolve(it,dt,qe)}},{key:"_scheduleLeaveChordMode",value:function(){var p=this,M=Date.now();this._currentChordChecker.cancelAndSet(function(){if(!p._documentHasFocus()){p._leaveChordMode();return}Date.now()-M>5e3&&p._leaveChordMode()},500)}},{key:"_expectAnotherChord",value:function(p,M){switch(this._currentChords.push({keypress:p,label:M}),this._currentChords.length){case 0:throw Object(gn.f)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(yn.b("first.chord","({0}) was pressed. Waiting for second key of chord...",M));break;default:{var q=this._currentChords.map(function(Se){var Ie=Se.label;return Ie}).join(", ");this._currentChordStatusMessage=this._notificationService.status(yn.b("next.chord","({0}) was pressed. Waiting for next key of chord...",q))}}this._scheduleLeaveChordMode(),_e.a.enabled&&_e.a.disable()}},{key:"_leaveChordMode",value:function(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],_e.a.enable()}},{key:"_dispatch",value:function(p,M){return this._doDispatch(this.resolveKeyboardEvent(p),M,!1)}},{key:"_singleModifierDispatch",value:function(p,M){var q=this,Se=this.resolveKeyboardEvent(p),Ie=Se.getSingleModifierDispatchChords(),qe=Object(an.a)(Ie,1),it=qe[0];if(it)return this._ignoreSingleModifiers.has(it)?(this._log("+ Ignoring single modifier ".concat(it," due to it being pressed together with other keys.")),this._ignoreSingleModifiers=_t.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=_t.EMPTY,this._currentSingleModifier===null?(this._log("+ Storing single modifier for possible chord ".concat(it,".")),this._currentSingleModifier=it,this._currentSingleModifierClearTimeout.cancelAndSet(function(){q._log("+ Clearing single modifier due to 300ms elapsed."),q._currentSingleModifier=null},300),!1):it===this._currentSingleModifier?(this._log("/ Dispatching single modifier chord ".concat(it," ").concat(it)),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(Se,M,!0)):(this._log("+ Clearing single modifier due to modifier mismatch: ".concat(this._currentSingleModifier," ").concat(it)),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));var dt=Se.getChords(),Jt=Object(an.a)(dt,1),cn=Jt[0];return this._ignoreSingleModifiers=new _t(cn),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}},{key:"_doDispatch",value:function(p,M){var q=this,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ie,qe=!1;if(p.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;var it=null,dt=null;if(Se){var Jt=p.getSingleModifierDispatchChords(),cn=Object(an.a)(Jt,1),Mn=cn[0];it=Mn,dt=Mn?[Mn]:[]}else{var vi=p.getDispatchChords(),ii=Object(an.a)(vi,1);it=ii[0],dt=this._currentChords.map(function(fr){var Xr=fr.keypress;return Xr})}if(it===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),qe;var di=this._contextKeyService.getContext(M),$n=p.getLabel(),ni=this._getResolver().resolve(di,dt,it);switch(ni.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",$n,"[ No matching keybinding ]"),this.inChordMode){var sr=this._currentChords.map(function(fr){var Xr=fr.label;return Xr}).join(", ");this._log('+ Leaving multi-chord mode: Nothing bound to "'.concat(sr,", ").concat($n,'".')),this._notificationService.status(yn.b("missing.chord","The key combination ({0}, {1}) is not a command.",sr,$n),{hideAfter:10*1e3}),this._leaveChordMode(),qe=!0}return qe}case 1:return this._logService.trace("KeybindingService#dispatch",$n,"[ Several keybindings match - more chords needed ]"),qe=!0,this._expectAnotherChord(it,$n),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),qe;case 2:{if(this._logService.trace("KeybindingService#dispatch",$n,"[ Will dispatch command ".concat(ni.commandId," ]")),ni.commandId===null||ni.commandId===""){if(this.inChordMode){var mr=this._currentChords.map(function(fr){var Xr=fr.label;return Xr}).join(", ");this._log('+ Leaving chord mode: Nothing bound to "'.concat(mr,", ").concat($n,'".')),this._notificationService.status(yn.b("missing.chord","The key combination ({0}, {1}) is not a command.",mr,$n),{hideAfter:10*1e3}),this._leaveChordMode(),qe=!0}}else this.inChordMode&&this._leaveChordMode(),ni.isBubble||(qe=!0),this._log("+ Invoking command ".concat(ni.commandId,".")),typeof ni.commandArgs=="undefined"?this._commandService.executeCommand(ni.commandId).then(void 0,function(fr){return q._notificationService.warn(fr)}):this._commandService.executeCommand(ni.commandId,ni.commandArgs).then(void 0,function(fr){return q._notificationService.warn(fr)}),Ve.test(ni.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:ni.commandId,from:"keybinding",detail:(Ie=p.getUserSettingsLabel())!==null&&Ie!==void 0?Ie:void 0});return qe}}}},{key:"mightProducePrintableCharacter",value:function(p){return p.ctrlKey||p.metaKey?!1:p.keyCode>=31&&p.keyCode<=56||p.keyCode>=21&&p.keyCode<=30}}]),b}(te.a),_t=function(){function he(le){Object(C.a)(this,he),this._ctrlKey=le?le.ctrlKey:!1,this._shiftKey=le?le.shiftKey:!1,this._altKey=le?le.altKey:!1,this._metaKey=le?le.metaKey:!1}return Object(x.a)(he,[{key:"has",value:function(b){switch(b){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}]),he}();_t.EMPTY=new _t(null);var xt=a("bexQ"),un=a("nrhi"),ln=Object(x.a)(function he(le,b,y,p,M,q,Se){Object(C.a)(this,he),this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=le,this.chords=le?nn(le.getDispatchChords()):[],le&&this.chords.length===0&&(this.chords=nn(le.getSingleModifierDispatchChords())),this.bubble=b?b.charCodeAt(0)===94:!1,this.command=this.bubble?b.substr(1):b,this.commandArgs=y,this.when=p,this.isDefault=M,this.extensionId=q,this.isBuiltinExtension=Se});function nn(he){for(var le=[],b=0,y=he.length;b<y;b++){var p=he[b];if(!p)return[];le.push(p)}return le}var bn=a("/kV6"),An=a("i04g"),It=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p){var M;if(Object(C.a)(this,b),M=le.call(this),p.length===0)throw Object(gn.e)("chords");return M._os=y,M._chords=p,M}return Object(x.a)(b,[{key:"getLabel",value:function(){var p=this;return An.c.toLabel(this._os,this._chords,function(M){return p._getLabel(M)})}},{key:"getAriaLabel",value:function(){var p=this;return An.a.toLabel(this._os,this._chords,function(M){return p._getAriaLabel(M)})}},{key:"getElectronAccelerator",value:function(){var p=this;return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:An.b.toLabel(this._os,this._chords,function(M){return p._getElectronAccelerator(M)})}},{key:"getUserSettingsLabel",value:function(){var p=this;return An.d.toLabel(this._os,this._chords,function(M){return p._getUserSettingsLabel(M)})}},{key:"hasMultipleChords",value:function(){return this._chords.length>1}},{key:"getChords",value:function(){var p=this;return this._chords.map(function(M){return p._getChord(M)})}},{key:"_getChord",value:function(p){return new Jr.b(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,this._getLabel(p),this._getAriaLabel(p))}},{key:"getDispatchChords",value:function(){var p=this;return this._chords.map(function(M){return p._getChordDispatch(M)})}},{key:"getSingleModifierDispatchChords",value:function(){var p=this;return this._chords.map(function(M){return p._getSingleModifierChordDispatch(M)})}}]),b}(Jr.c),er=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p){return Object(C.a)(this,b),le.call(this,p,y)}return Object(x.a)(b,[{key:"_keyCodeToUILabel",value:function(p){if(this._os===2)switch(p){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return bn.d.toString(p)}},{key:"_getLabel",value:function(p){return p.isDuplicateModifierCase()?"":this._keyCodeToUILabel(p.keyCode)}},{key:"_getAriaLabel",value:function(p){return p.isDuplicateModifierCase()?"":bn.d.toString(p.keyCode)}},{key:"_getElectronAccelerator",value:function(p){return bn.d.toElectronAccelerator(p.keyCode)}},{key:"_getUserSettingsLabel",value:function(p){if(p.isDuplicateModifierCase())return"";var M=bn.d.toUserSettingsUS(p.keyCode);return M&&M.toLowerCase()}},{key:"_getChordDispatch",value:function(p){return b.getDispatchStr(p)}},{key:"_getSingleModifierChordDispatch",value:function(p){return p.keyCode===5&&!p.shiftKey&&!p.altKey&&!p.metaKey?"ctrl":p.keyCode===4&&!p.ctrlKey&&!p.altKey&&!p.metaKey?"shift":p.keyCode===6&&!p.ctrlKey&&!p.shiftKey&&!p.metaKey?"alt":p.keyCode===57&&!p.ctrlKey&&!p.shiftKey&&!p.altKey?"meta":null}}],[{key:"getDispatchStr",value:function(p){if(p.isModifierKey())return null;var M="";return p.ctrlKey&&(M+="ctrl+"),p.shiftKey&&(M+="shift+"),p.altKey&&(M+="alt+"),p.metaKey&&(M+="meta+"),M+=bn.d.toString(p.keyCode),M}},{key:"_scanCodeToKeyCode",value:function(p){var M=bn.b[p];if(M!==-1)return M;switch(p){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}},{key:"_toKeyCodeChord",value:function(p){if(!p)return null;if(p instanceof Jr.a)return p;var M=this._scanCodeToKeyCode(p.scanCode);return M===0?null:new Jr.a(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,M)}},{key:"resolveKeybinding",value:function(p,M){var q=this,Se=nn(p.chords.map(function(Ie){return q._toKeyCodeChord(Ie)}));return Se.length>0?[new b(Se,M)]:[]}}]),b}(It),Mi=a("R8sh"),wr=a("tTk5"),hr=a("XXUj"),xi=a("EWX2"),Ar=a("A9l+"),zr=a("gslv"),Tr=a("fvt3"),ba=a("Uzvx"),Sa=a("CjF5"),Va=a("nuFA"),Ja=a("TT2d"),Ba;(function(he){he[he.AVOID=0]="AVOID",he[he.ALIGN=1]="ALIGN"})(Ba||(Ba={}));function bo(he,le,b){var y=b.mode===Ba.ALIGN?b.offset:b.offset+b.size,p=b.mode===Ba.ALIGN?b.offset+b.size:b.offset;return b.position===0?le<=he-y?y:le<=p?p-le:Math.max(he-le,0):le<=p?p-le:le<=he-y?y:0}var yo=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p){var M;return Object(C.a)(this,b),M=le.call(this),M.container=null,M.delegate=null,M.toDisposeOnClean=te.a.None,M.toDisposeOnSetContainer=te.a.None,M.shadowRoot=null,M.shadowRootHostElement=null,M.view=Dt.$(".context-view"),M.useFixedPosition=!1,M.useShadowDOM=!1,Dt.hide(M.view),M.setContainer(y,p),M._register(Object(te.l)(function(){return M.setContainer(null,1)})),M}return Object(x.a)(b,[{key:"setContainer",value:function(p,M){var q=this,Se;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(Se=this.shadowRootHostElement)===null||Se===void 0||Se.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),p){if(this.container=p,this.useFixedPosition=M!==1,this.useShadowDOM=M===3,this.useShadowDOM){this.shadowRootHostElement=Dt.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});var Ie=document.createElement("style");Ie.textContent=Vo,this.shadowRoot.appendChild(Ie),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Dt.$("slot"))}else this.container.appendChild(this.view);var qe=new te.c;b.BUBBLE_UP_EVENTS.forEach(function(it){qe.add(Dt.addStandardDisposableListener(q.container,it,function(dt){q.onDOMEvent(dt,!1)}))}),b.BUBBLE_DOWN_EVENTS.forEach(function(it){qe.add(Dt.addStandardDisposableListener(q.container,it,function(dt){q.onDOMEvent(dt,!0)},!0))}),this.toDisposeOnSetContainer=qe}}},{key:"show",value:function(p){var M,q;this.isVisible()&&this.hide(),Dt.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Dt.show(this.view),this.toDisposeOnClean=p.render(this.view)||te.a.None,this.delegate=p,this.doLayout(),(q=(M=this.delegate).focus)===null||q===void 0||q.call(M)}},{key:"getViewElement",value:function(){return this.view}},{key:"layout",value:function(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(Ht.f&&Sa.a.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}},{key:"doLayout",value:function(){if(!!this.isVisible()){var p=this.delegate.getAnchor(),M;if(Dt.isHTMLElement(p)){var q=Dt.getDomNodePagePosition(p),Se=Dt.getDomNodeZoomLevel(p);M={top:q.top*Se,left:q.left*Se,width:q.width*Se,height:q.height*Se}}else M={top:p.y,left:p.x,width:p.width||1,height:p.height||2};var Ie=Dt.getTotalWidth(this.view),qe=Dt.getTotalHeight(this.view),it=this.delegate.anchorPosition||0,dt=this.delegate.anchorAlignment||0,Jt=this.delegate.anchorAxisAlignment||0,cn,Mn;if(Jt===0){var vi={offset:M.top-window.pageYOffset,size:M.height,position:it===0?0:1},ii={offset:M.left,size:M.width,position:dt===0?0:1,mode:Ba.ALIGN};cn=bo(window.innerHeight,qe,vi)+window.pageYOffset,Va.a.intersects({start:cn,end:cn+qe},{start:vi.offset,end:vi.offset+vi.size})&&(ii.mode=Ba.AVOID),Mn=bo(window.innerWidth,Ie,ii)}else{var di={offset:M.left,size:M.width,position:dt===0?0:1},$n={offset:M.top,size:M.height,position:it===0?0:1,mode:Ba.ALIGN};Mn=bo(window.innerWidth,Ie,di),Va.a.intersects({start:Mn,end:Mn+Ie},{start:di.offset,end:di.offset+di.size})&&($n.mode=Ba.AVOID),cn=bo(window.innerHeight,qe,$n)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(it===0?"bottom":"top"),this.view.classList.add(dt===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);var ni=Dt.getDomNodePagePosition(this.container);this.view.style.top="".concat(cn-(this.useFixedPosition?Dt.getDomNodePagePosition(this.view).top:ni.top),"px"),this.view.style.left="".concat(Mn-(this.useFixedPosition?Dt.getDomNodePagePosition(this.view).left:ni.left),"px"),this.view.style.width="initial"}}},{key:"hide",value:function(p){var M=this.delegate;this.delegate=null,(M==null?void 0:M.onHide)&&M.onHide(p),this.toDisposeOnClean.dispose(),Dt.hide(this.view)}},{key:"isVisible",value:function(){return!!this.delegate}},{key:"onDOMEvent",value:function(p,M){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(p,document.activeElement):M&&!Dt.isAncestor(p.target,this.container)&&this.hide())}},{key:"dispose",value:function(){this.hide(),Object(Je.a)(Object(ft.a)(b.prototype),"dispose",this).call(this)}}]),b}(te.a);yo.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],yo.BUBBLE_DOWN_EVENTS=["click"];var Vo=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`,js=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Qo=function(he,le){return function(b,y){le(b,y,he)}},Ho=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y){var p;return Object(C.a)(this,b),p=le.call(this),p.layoutService=y,p.currentViewDisposable=te.a.None,p.container=y.hasContainer?y.container:null,p.contextView=p._register(new yo(p.container,1)),p.layout(),p._register(y.onDidLayout(function(){return p.layout()})),p}return Object(x.a)(b,[{key:"setContainer",value:function(p,M){this.contextView.setContainer(p,M||1)}},{key:"showContextView",value:function(p,M,q){var Se=this;M?(M!==this.container||this.shadowRoot!==q)&&(this.container=M,this.setContainer(M,q?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=q,this.contextView.show(p);var Ie=Object(te.l)(function(){Se.currentViewDisposable===Ie&&Se.hideContextView()});return this.currentViewDisposable=Ie,Ie}},{key:"getContextViewElement",value:function(){return this.contextView.getViewElement()}},{key:"layout",value:function(){this.contextView.layout()}},{key:"hideContextView",value:function(p){this.contextView.hide(p)}}]),b}(te.a);Ho=js([Qo(0,dn)],Ho);var us=a("ubTv"),go=a("y0ET"),Uo=[],Yo=[],zo=[];function Bs(he){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;du(he,!1,le)}function du(he,le,b){var y=hu(he,le);Uo.push(y),y.userConfigured?zo.push(y):Yo.push(y),b&&!y.userConfigured&&Uo.forEach(function(p){p.mime===y.mime||p.userConfigured||(y.extension&&p.extension===y.extension&&console.warn("Overwriting extension <<".concat(y.extension,">> to now point to mime <<").concat(y.mime,">>")),y.filename&&p.filename===y.filename&&console.warn("Overwriting filename <<".concat(y.filename,">> to now point to mime <<").concat(y.mime,">>")),y.filepattern&&p.filepattern===y.filepattern&&console.warn("Overwriting filepattern <<".concat(y.filepattern,">> to now point to mime <<").concat(y.mime,">>")),y.firstline&&p.firstline===y.firstline&&console.warn("Overwriting firstline <<".concat(y.firstline,">> to now point to mime <<").concat(y.mime,">>")))})}function hu(he,le){return{id:he.id,mime:he.mime,filename:he.filename,extension:he.extension,filepattern:he.filepattern,firstline:he.firstline,userConfigured:le,filenameLowercase:he.filename?he.filename.toLowerCase():void 0,extensionLowercase:he.extension?he.extension.toLowerCase():void 0,filepatternLowercase:he.filepattern?Si(he.filepattern.toLowerCase()):void 0,filepatternOnPath:he.filepattern?he.filepattern.indexOf(hn.e.sep)>=0:!1}}function Is(){Uo=Uo.filter(function(he){return he.userConfigured}),Yo=[]}function hl(he,le){return Ks(he,le).map(function(b){return b.id})}function Ks(he,le){var b;if(he)switch(he.scheme){case jn.c.file:b=he.fsPath;break;case jn.c.data:{var y=zr.a.parseMetaData(he);b=y.get(zr.a.META_DATA_LABEL);break}case jn.c.vscodeNotebookCell:b=void 0;break;default:b=he.path}if(!b)return[{id:"unknown",mime:us.a.unknown}];b=b.toLowerCase();var p=Object(hn.a)(b),M=fu(b,p,zo);if(M)return[M,{id:go.b,mime:us.a.text}];var q=fu(b,p,Yo);if(q)return[q,{id:go.b,mime:us.a.text}];if(le){var Se=fl(le);if(Se)return[Se,{id:go.b,mime:us.a.text}]}return[{id:"unknown",mime:us.a.unknown}]}function fu(he,le,b){for(var y,p=void 0,M=void 0,q=void 0,Se=b.length-1;Se>=0;Se--){var Ie=b[Se];if(le===Ie.filenameLowercase){p=Ie;break}if(Ie.filepattern&&(!M||Ie.filepattern.length>M.filepattern.length)){var qe=Ie.filepatternOnPath?he:le;((y=Ie.filepatternLowercase)===null||y===void 0?void 0:y.call(Ie,qe))&&(M=Ie)}Ie.extension&&(!q||Ie.extension.length>q.extension.length)&&le.endsWith(Ie.extensionLowercase)&&(q=Ie)}if(p)return p;if(M)return M;if(q)return q}function fl(he){if(Object($.U)(he)&&(he=he.substr(1)),he.length>0)for(var le=Uo.length-1;le>=0;le--){var b=Uo[le];if(!!b.firstline){var y=he.match(b.firstline);if(y&&y.length>0)return b}}}var vl=Object.prototype.hasOwnProperty,zl="vs.editor.nullLanguage",Ll=function(){function he(){Object(C.a)(this,he),this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(zl,0),this._register(go.b,1),this._nextLanguageId=2}return Object(x.a)(he,[{key:"_register",value:function(b,y){this._languageIdToLanguage[y]=b,this._languageToLanguageId.set(b,y)}},{key:"register",value:function(b){if(!this._languageToLanguageId.has(b)){var y=this._nextLanguageId++;this._register(b,y)}}},{key:"encodeLanguageId",value:function(b){return this._languageToLanguageId.get(b)||0}},{key:"decodeLanguageId",value:function(b){return this._languageIdToLanguage[b]||zl}}]),he}(),hc=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(){var y,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Object(C.a)(this,b),y=le.call(this),y._onDidChange=y._register(new _n.b),y.onDidChange=y._onDidChange.event,b.instanceCount++,y._warnOnOverwrite=M,y.languageIdCodec=new Ll,y._dynamicLanguages=[],y._languages={},y._mimeTypesMap={},y._nameMap={},y._lowercaseNameMap={},p&&(y._initializeFromRegistry(),y._register(go.a.onDidChangeLanguages(function(q){y._initializeFromRegistry()}))),y}return Object(x.a)(b,[{key:"dispose",value:function(){b.instanceCount--,Object(Je.a)(Object(ft.a)(b.prototype),"dispose",this).call(this)}},{key:"_initializeFromRegistry",value:function(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Is();var p=[].concat(go.a.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(p)}},{key:"_registerLanguages",value:function(p){var M=this,q=Object(D.a)(p),Se;try{for(q.s();!(Se=q.n()).done;){var Ie=Se.value;this._registerLanguage(Ie)}}catch(qe){q.e(qe)}finally{q.f()}this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(function(qe){var it=M._languages[qe];it.name&&(M._nameMap[it.name]=it.identifier),it.aliases.forEach(function(dt){M._lowercaseNameMap[dt.toLowerCase()]=it.identifier}),it.mimetypes.forEach(function(dt){M._mimeTypesMap[dt]=it.identifier})}),_a.a.as(qo.a.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}},{key:"_registerLanguage",value:function(p){var M=p.id,q;vl.call(this._languages,M)?q=this._languages[M]:(this.languageIdCodec.register(M),q={identifier:M,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[M]=q),this._mergeLanguage(q,p)}},{key:"_mergeLanguage",value:function(p,M){var q=M.id,Se=null;if(Array.isArray(M.mimetypes)&&M.mimetypes.length>0){var Ie;(Ie=p.mimetypes).push.apply(Ie,Object(ve.a)(M.mimetypes)),Se=M.mimetypes[0]}if(Se||(Se="text/x-".concat(q),p.mimetypes.push(Se)),Array.isArray(M.extensions)){M.configuration?p.extensions=M.extensions.concat(p.extensions):p.extensions=p.extensions.concat(M.extensions);var qe=Object(D.a)(M.extensions),it;try{for(qe.s();!(it=qe.n()).done;){var dt=it.value;Bs({id:q,mime:Se,extension:dt},this._warnOnOverwrite)}}catch(va){qe.e(va)}finally{qe.f()}}if(Array.isArray(M.filenames)){var Jt=Object(D.a)(M.filenames),cn;try{for(Jt.s();!(cn=Jt.n()).done;){var Mn=cn.value;Bs({id:q,mime:Se,filename:Mn},this._warnOnOverwrite),p.filenames.push(Mn)}}catch(va){Jt.e(va)}finally{Jt.f()}}if(Array.isArray(M.filenamePatterns)){var vi=Object(D.a)(M.filenamePatterns),ii;try{for(vi.s();!(ii=vi.n()).done;){var di=ii.value;Bs({id:q,mime:Se,filepattern:di},this._warnOnOverwrite)}}catch(va){vi.e(va)}finally{vi.f()}}if(typeof M.firstLine=="string"&&M.firstLine.length>0){var $n=M.firstLine;$n.charAt(0)!=="^"&&($n="^"+$n);try{var ni=new RegExp($n);Object($.P)(ni)||Bs({id:q,mime:Se,firstline:ni},this._warnOnOverwrite)}catch(va){console.warn("[".concat(M.id,"]: Invalid regular expression `").concat($n,"`: "),va)}}p.aliases.push(q);var sr=null;if(typeof M.aliases!="undefined"&&Array.isArray(M.aliases)&&(M.aliases.length===0?sr=[null]:sr=M.aliases),sr!==null){var mr=Object(D.a)(sr),fr;try{for(mr.s();!(fr=mr.n()).done;){var Xr=fr.value;!Xr||Xr.length===0||p.aliases.push(Xr)}}catch(va){mr.e(va)}finally{mr.f()}}var Vr=sr!==null&&sr.length>0;if(!(Vr&&sr[0]===null)){var na=(Vr?sr[0]:null)||q;(Vr||!p.name)&&(p.name=na)}M.configuration&&p.configurationFiles.push(M.configuration),M.icon&&p.icons.push(M.icon)}},{key:"isRegisteredLanguageId",value:function(p){return p?vl.call(this._languages,p):!1}},{key:"getRegisteredLanguageIds",value:function(){return Object.keys(this._languages)}},{key:"getLanguageIdByLanguageName",value:function(p){var M=p.toLowerCase();return vl.call(this._lowercaseNameMap,M)?this._lowercaseNameMap[M]:null}},{key:"getLanguageIdByMimeType",value:function(p){return p&&vl.call(this._mimeTypesMap,p)?this._mimeTypesMap[p]:null}},{key:"guessLanguageIdByFilepathOrFirstLine",value:function(p,M){return!p&&!M?[]:hl(p,M)}}]),b}(te.a);hc.instanceCount=0;var ho=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(){var y,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Object(C.a)(this,b),y=le.call(this),y._onDidRequestBasicLanguageFeatures=y._register(new _n.b),y.onDidRequestBasicLanguageFeatures=y._onDidRequestBasicLanguageFeatures.event,y._onDidRequestRichLanguageFeatures=y._register(new _n.b),y.onDidRequestRichLanguageFeatures=y._onDidRequestRichLanguageFeatures.event,y._onDidChange=y._register(new _n.b({leakWarningThreshold:200})),y.onDidChange=y._onDidChange.event,y._requestedBasicLanguages=new Set,y._requestedRichLanguages=new Set,b.instanceCount++,y._registry=y._register(new hc(!0,p)),y.languageIdCodec=y._registry.languageIdCodec,y._register(y._registry.onDidChange(function(){return y._onDidChange.fire()})),y}return Object(x.a)(b,[{key:"dispose",value:function(){b.instanceCount--,Object(Je.a)(Object(ft.a)(b.prototype),"dispose",this).call(this)}},{key:"isRegisteredLanguageId",value:function(p){return this._registry.isRegisteredLanguageId(p)}},{key:"getLanguageIdByLanguageName",value:function(p){return this._registry.getLanguageIdByLanguageName(p)}},{key:"getLanguageIdByMimeType",value:function(p){return this._registry.getLanguageIdByMimeType(p)}},{key:"guessLanguageIdByFilepathOrFirstLine",value:function(p,M){var q=this._registry.guessLanguageIdByFilepathOrFirstLine(p,M);return Object(Go.p)(q,null)}},{key:"createById",value:function(p){var M=this;return new zu(this.onDidChange,function(){return M._createAndGetLanguageIdentifier(p)})}},{key:"createByFilepathOrFirstLine",value:function(p,M){var q=this;return new zu(this.onDidChange,function(){var Se=q.guessLanguageIdByFilepathOrFirstLine(p,M);return q._createAndGetLanguageIdentifier(Se)})}},{key:"_createAndGetLanguageIdentifier",value:function(p){return(!p||!this.isRegisteredLanguageId(p))&&(p=go.b),p}},{key:"requestBasicLanguageFeatures",value:function(p){this._requestedBasicLanguages.has(p)||(this._requestedBasicLanguages.add(p),this._onDidRequestBasicLanguageFeatures.fire(p))}},{key:"requestRichLanguageFeatures",value:function(p){this._requestedRichLanguages.has(p)||(this._requestedRichLanguages.add(p),this.requestBasicLanguageFeatures(p),F.m.getOrCreate(p),this._onDidRequestRichLanguageFeatures.fire(p))}}]),b}(te.a);ho.instanceCount=0;var zu=function(){function he(le,b){Object(C.a)(this,he),this._onDidChangeLanguages=le,this._selector=b,this._listener=null,this._emitter=null,this.languageId=this._selector()}return Object(x.a)(he,[{key:"_dispose",value:function(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}},{key:"onDidChange",get:function(){var b=this;return this._listener||(this._listener=this._onDidChangeLanguages(function(){return b._evaluate()})),this._emitter||(this._emitter=new _n.b({onDidRemoveLastListener:function(){b._dispose()}})),this._emitter.event}},{key:"_evaluate",value:function(){var b,y=this._selector();y!==this.languageId&&(this.languageId=y,(b=this._emitter)===null||b===void 0||b.fire(this.languageId))}}]),he}(),oo=a("8HAY"),Ml=a("eUTo"),_o=a("fjLI"),ra=a("XSiN"),Kl=a("D3Dy"),Ws=a("pg8w"),_s=a("WqXY"),Es=a("7/Ik"),ca=a("GJhM"),Fa=a("Vhoy"),ya=a("T5lh"),oa=a("EJc0"),Wa=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Co=/(&amp;)?(&amp;)([^\s&])/g,es;(function(he){he[he.Right=0]="Right",he[he.Left=1]="Left"})(es||(es={}));var To=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q){var Se;Object(C.a)(this,b),y.classList.add("monaco-menu-container"),y.setAttribute("role","presentation");var Ie=document.createElement("div");Ie.classList.add("monaco-menu"),Ie.setAttribute("role","presentation"),Se=le.call(this,Ie,{orientation:1,actionViewItemProvider:function(Jt){return Se.doGetActionViewItem(Jt,M,qe)},context:M.context,actionRunner:M.actionRunner,ariaLabel:M.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3].concat(Object(ve.a)(Ht.i||Ht.g?[10]:[])),keyDown:!0}}),Se.menuStyles=q,Se.menuElement=Ie,Se.actionsList.tabIndex=0,Se.menuDisposables=Se._register(new te.c),Se.initializeOrUpdateStyleSheet(y,q),Se._register(Ws.b.addTarget(Ie)),Object(Dt.addDisposableListener)(Ie,Dt.EventType.KEY_DOWN,function(dt){var Jt=new $i.a(dt);Jt.equals(2)&&dt.preventDefault()}),M.enableMnemonics&&Se.menuDisposables.add(Object(Dt.addDisposableListener)(Ie,Dt.EventType.KEY_DOWN,function(dt){var Jt=dt.key.toLocaleLowerCase();if(Se.mnemonics.has(Jt)){Dt.EventHelper.stop(dt,!0);var cn=Se.mnemonics.get(Jt);if(cn.length===1&&(cn[0]instanceof Gs&&cn[0].container&&Se.focusItemByElement(cn[0].container),cn[0].onClick(dt)),cn.length>1){var Mn=cn.shift();Mn&&Mn.container&&(Se.focusItemByElement(Mn.container),cn.push(Mn)),Se.mnemonics.set(Jt,cn)}}})),Ht.g&&Se._register(Object(Dt.addDisposableListener)(Ie,Dt.EventType.KEY_DOWN,function(dt){var Jt=new $i.a(dt);Jt.equals(14)||Jt.equals(11)?(Se.focusedItem=Se.viewItems.length-1,Se.focusNext(),Dt.EventHelper.stop(dt,!0)):(Jt.equals(13)||Jt.equals(12))&&(Se.focusedItem=0,Se.focusPrevious(),Dt.EventHelper.stop(dt,!0))})),Se._register(Object(Dt.addDisposableListener)(Se.domNode,Dt.EventType.MOUSE_OUT,function(dt){var Jt=dt.relatedTarget;Object(Dt.isAncestor)(Jt,Se.domNode)||(Se.focusedItem=void 0,Se.updateFocus(),dt.stopPropagation())})),Se._register(Object(Dt.addDisposableListener)(Se.actionsList,Dt.EventType.MOUSE_OVER,function(dt){var Jt=dt.target;if(!(!Jt||!Object(Dt.isAncestor)(Jt,Se.actionsList)||Jt===Se.actionsList)){for(;Jt.parentElement!==Se.actionsList&&Jt.parentElement!==null;)Jt=Jt.parentElement;if(Jt.classList.contains("action-item")){var cn=Se.focusedItem;Se.setFocusedItem(Jt),cn!==Se.focusedItem&&Se.updateFocus()}}})),Se._register(Ws.b.addTarget(Se.actionsList)),Se._register(Object(Dt.addDisposableListener)(Se.actionsList,Ws.a.Tap,function(dt){var Jt=dt.initialTarget;if(!(!Jt||!Object(Dt.isAncestor)(Jt,Se.actionsList)||Jt===Se.actionsList)){for(;Jt.parentElement!==Se.actionsList&&Jt.parentElement!==null;)Jt=Jt.parentElement;if(Jt.classList.contains("action-item")){var cn=Se.focusedItem;Se.setFocusedItem(Jt),cn!==Se.focusedItem&&Se.updateFocus()}}}));var qe={parent:Object(In.a)(Se)};Se.mnemonics=new Map,Se.scrollableElement=Se._register(new ca.a(Ie,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));var it=Se.scrollableElement.getDomNode();return it.style.position="",Se.styleScrollElement(it,q),Se._register(Object(Dt.addDisposableListener)(Ie,Ws.a.Change,function(dt){Dt.EventHelper.stop(dt,!0);var Jt=Se.scrollableElement.getScrollPosition().scrollTop;Se.scrollableElement.setScrollPosition({scrollTop:Jt-dt.translationY})})),Se._register(Object(Dt.addDisposableListener)(it,Dt.EventType.MOUSE_UP,function(dt){dt.preventDefault()})),Ie.style.maxHeight="".concat(Math.max(10,window.innerHeight-y.getBoundingClientRect().top-35),"px"),p=p.filter(function(dt){var Jt;return((Jt=M.submenuIds)===null||Jt===void 0?void 0:Jt.has(dt.id))?(console.warn("Found submenu cycle: ".concat(dt.id)),!1):!0}),Se.push(p,{icon:!0,label:!0,isMenu:!0}),y.appendChild(Se.scrollableElement.getDomNode()),Se.scrollableElement.scanDomNode(),Se.viewItems.filter(function(dt){return!(dt instanceof Vs)}).forEach(function(dt,Jt,cn){dt.updatePositionInSet(Jt+1,cn.length)}),Se}return Object(x.a)(b,[{key:"initializeOrUpdateStyleSheet",value:function(p,M){this.styleSheet||(Object(Dt.isInShadowDOM)(p)?this.styleSheet=Object(Dt.createStyleSheet)(p):(b.globalStyleSheet||(b.globalStyleSheet=Object(Dt.createStyleSheet)()),this.styleSheet=b.globalStyleSheet)),this.styleSheet.textContent=fc(M,Object(Dt.isInShadowDOM)(p))}},{key:"styleScrollElement",value:function(p,M){var q,Se,Ie=(q=M.foregroundColor)!==null&&q!==void 0?q:"",qe=(Se=M.backgroundColor)!==null&&Se!==void 0?Se:"",it=M.borderColor?"1px solid ".concat(M.borderColor):"",dt="5px",Jt=M.shadowColor?"0 2px 8px ".concat(M.shadowColor):"";p.style.outline=it,p.style.borderRadius=dt,p.style.color=Ie,p.style.backgroundColor=qe,p.style.boxShadow=Jt}},{key:"getContainer",value:function(){return this.scrollableElement.getDomNode()}},{key:"onScroll",get:function(){return this.scrollableElement.onScroll}},{key:"focusItemByElement",value:function(p){var M=this.focusedItem;this.setFocusedItem(p),M!==this.focusedItem&&this.updateFocus()}},{key:"setFocusedItem",value:function(p){for(var M=0;M<this.actionsList.children.length;M++){var q=this.actionsList.children[M];if(p===q){this.focusedItem=M;break}}}},{key:"updateFocus",value:function(p){Object(Je.a)(Object(ft.a)(b.prototype),"updateFocus",this).call(this,p,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}},{key:"doGetActionViewItem",value:function(p,M,q){if(p instanceof oo.d)return new Vs(M.context,p,{icon:!0},this.menuStyles);if(p instanceof oo.e){var Se=new Gs(p,p.actions,q,Object.assign(Object.assign({},M),{submenuIds:new Set([].concat(Object(ve.a)(M.submenuIds||[]),[p.id]))}),this.menuStyles);if(M.enableMnemonics){var Ie=Se.getMnemonic();if(Ie&&Se.isEnabled()){var qe=[];this.mnemonics.has(Ie)&&(qe=this.mnemonics.get(Ie)),qe.push(Se),this.mnemonics.set(Ie,qe)}}return Se}else{var it={enableMnemonics:M.enableMnemonics,useEventAsContext:M.useEventAsContext};if(M.getKeyBinding){var dt=M.getKeyBinding(p);if(dt){var Jt=dt.getLabel();Jt&&(it.keybinding=Jt)}}var cn=new cs(M.context,p,it,this.menuStyles);if(M.enableMnemonics){var Mn=cn.getMnemonic();if(Mn&&cn.isEnabled()){var vi=[];this.mnemonics.has(Mn)&&(vi=this.mnemonics.get(Mn)),vi.push(cn),this.mnemonics.set(Mn,vi)}}return cn}}}]),b}(_s.a),cs=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q){var Se;if(Object(C.a)(this,b),M.isMenu=!0,Se=le.call(this,p,p,M),Se.menuStyle=q,Se.options=M,Se.options.icon=M.icon!==void 0?M.icon:!1,Se.options.label=M.label!==void 0?M.label:!0,Se.cssClass="",Se.options.label&&M.enableMnemonics){var Ie=Se.action.label;if(Ie){var qe=Wa.exec(Ie);qe&&(Se.mnemonic=(qe[1]?qe[1]:qe[3]).toLocaleLowerCase())}}return Se.runOnceToEnableMouseUp=new nt.g(function(){!Se.element||(Se._register(Object(Dt.addDisposableListener)(Se.element,Dt.EventType.MOUSE_UP,function(it){if(Dt.EventHelper.stop(it,!0),Kl.isFirefox){var dt=new ra.a(it);if(dt.rightButton)return;Se.onClick(it)}else setTimeout(function(){Se.onClick(it)},0)})),Se._register(Object(Dt.addDisposableListener)(Se.element,Dt.EventType.CONTEXT_MENU,function(it){Dt.EventHelper.stop(it,!0)})))},100),Se._register(Se.runOnceToEnableMouseUp),Se}return Object(x.a)(b,[{key:"render",value:function(p){Object(Je.a)(Object(ft.a)(b.prototype),"render",this).call(this,p),!!this.element&&(this.container=p,this.item=Object(Dt.append)(this.element,Object(Dt.$)("a.action-menu-item")),this._action.id===oo.d.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts","".concat(this.mnemonic))),this.check=Object(Dt.append)(this.item,Object(Dt.$)("span.menu-item-check"+ya.a.asCSSSelector(Fa.a.menuSelection))),this.check.setAttribute("role","none"),this.label=Object(Dt.append)(this.item,Object(Dt.$)("span.action-label")),this.options.label&&this.options.keybinding&&(Object(Dt.append)(this.item,Object(Dt.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}},{key:"blur",value:function(){Object(Je.a)(Object(ft.a)(b.prototype),"blur",this).call(this),this.applyStyle()}},{key:"focus",value:function(){var p;Object(Je.a)(Object(ft.a)(b.prototype),"focus",this).call(this),(p=this.item)===null||p===void 0||p.focus(),this.applyStyle()}},{key:"updatePositionInSet",value:function(p,M){this.item&&(this.item.setAttribute("aria-posinset","".concat(p)),this.item.setAttribute("aria-setsize","".concat(M)))}},{key:"updateLabel",value:function(){var p;if(!!this.label&&this.options.label){Object(Dt.clearNode)(this.label);var M=Object(oa.f)(this.action.label);if(M){var q=Hs(M);this.options.enableMnemonics||(M=q),this.label.setAttribute("aria-label",q.replace(/&&/g,"&"));var Se=Wa.exec(M);if(Se){M=$.s(M),Co.lastIndex=0;for(var Ie=Co.exec(M);Ie&&Ie[1];)Ie=Co.exec(M);var qe=function(dt){return dt.replace(/&amp;&amp;/g,"&amp;")};Ie?this.label.append($.K(qe(M.substr(0,Ie.index))," "),Object(Dt.$)("u",{"aria-hidden":"true"},Ie[3]),$.Q(qe(M.substr(Ie.index+Ie[0].length))," ")):this.label.innerText=qe(M).trim(),(p=this.item)===null||p===void 0||p.setAttribute("aria-keyshortcuts",(Se[1]?Se[1]:Se[3]).toLocaleLowerCase())}else this.label.innerText=M.replace(/&&/g,"&").trim()}}}},{key:"updateTooltip",value:function(){}},{key:"updateClass",value:function(){if(this.cssClass&&this.item){var p;(p=this.item.classList).remove.apply(p,Object(ve.a)(this.cssClass.split(" ")))}if(this.options.icon&&this.label){if(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass){var M;(M=this.label.classList).add.apply(M,Object(ve.a)(this.cssClass.split(" ")))}this.updateEnabled()}else this.label&&this.label.classList.remove("icon")}},{key:"updateEnabled",value:function(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}},{key:"updateChecked",value:function(){if(!!this.item){var p=this.action.checked;this.item.classList.toggle("checked",!!p),p!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",p?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}}},{key:"getMnemonic",value:function(){return this.mnemonic}},{key:"applyStyle",value:function(){var p=this.element&&this.element.classList.contains("focused"),M=p&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,q=p&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,Se=p&&this.menuStyle.selectionBorderColor?"1px solid ".concat(this.menuStyle.selectionBorderColor):"",Ie=p&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=M!=null?M:"",this.item.style.backgroundColor=q!=null?q:"",this.item.style.outline=Se,this.item.style.outlineOffset=Ie),this.check&&(this.check.style.color=M!=null?M:"")}}]),b}(Es.b),Gs=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q,Se){var Ie;return Object(C.a)(this,b),Ie=le.call(this,y,y,q,Se),Ie.submenuActions=p,Ie.parentData=M,Ie.submenuOptions=q,Ie.mysubmenu=null,Ie.submenuDisposables=Ie._register(new te.c),Ie.mouseOver=!1,Ie.expandDirection=q&&q.expandDirection!==void 0?q.expandDirection:es.Right,Ie.showScheduler=new nt.g(function(){Ie.mouseOver&&(Ie.cleanupExistingSubmenu(!1),Ie.createSubmenu(!1))},250),Ie.hideScheduler=new nt.g(function(){Ie.element&&!Object(Dt.isAncestor)(Object(Dt.getActiveElement)(),Ie.element)&&Ie.parentData.submenu===Ie.mysubmenu&&(Ie.parentData.parent.focus(!1),Ie.cleanupExistingSubmenu(!0))},750),Ie}return Object(x.a)(b,[{key:"render",value:function(p){var M=this;Object(Je.a)(Object(ft.a)(b.prototype),"render",this).call(this,p),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Object(Dt.append)(this.item,Object(Dt.$)("span.submenu-indicator"+ya.a.asCSSSelector(Fa.a.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(Object(Dt.addDisposableListener)(this.element,Dt.EventType.KEY_UP,function(q){var Se=new $i.a(q);(Se.equals(17)||Se.equals(3))&&(Dt.EventHelper.stop(q,!0),M.createSubmenu(!0))})),this._register(Object(Dt.addDisposableListener)(this.element,Dt.EventType.KEY_DOWN,function(q){var Se=new $i.a(q);Object(Dt.getActiveElement)()===M.item&&(Se.equals(17)||Se.equals(3))&&Dt.EventHelper.stop(q,!0)})),this._register(Object(Dt.addDisposableListener)(this.element,Dt.EventType.MOUSE_OVER,function(q){M.mouseOver||(M.mouseOver=!0,M.showScheduler.schedule())})),this._register(Object(Dt.addDisposableListener)(this.element,Dt.EventType.MOUSE_LEAVE,function(q){M.mouseOver=!1})),this._register(Object(Dt.addDisposableListener)(this.element,Dt.EventType.FOCUS_OUT,function(q){M.element&&!Object(Dt.isAncestor)(Object(Dt.getActiveElement)(),M.element)&&M.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(function(){M.parentData.submenu===M.mysubmenu&&(M.parentData.parent.focus(!1),M.cleanupExistingSubmenu(!0))})))}},{key:"updateEnabled",value:function(){}},{key:"onClick",value:function(p){Dt.EventHelper.stop(p,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}},{key:"cleanupExistingSubmenu",value:function(p){if(this.parentData.submenu&&(p||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(M){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}},{key:"calculateSubmenuMenuLayout",value:function(p,M,q,Se){var Ie={top:0,left:0};return Ie.left=bo(p.width,M.width,{position:Se===es.Right?0:1,offset:q.left,size:q.width}),Ie.left>=q.left&&Ie.left<q.left+q.width&&(q.left+10+M.width<=p.width&&(Ie.left=q.left+10),q.top+=10,q.height=0),Ie.top=bo(p.height,M.height,{position:0,offset:q.top,size:0}),Ie.top+M.height===q.top&&Ie.top+q.height+M.height<=p.height&&(Ie.top+=q.height),Ie}},{key:"createSubmenu",value:function(){var p=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Object(Dt.append)(this.element,Object(Dt.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");var q=getComputedStyle(this.parentData.parent.domNode),Se=parseFloat(q.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new To(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new oo.c],this.submenuOptions,this.menuStyle);var Ie=this.element.getBoundingClientRect(),qe={top:Ie.top-Se,left:Ie.left,height:Ie.height+2*Se,width:Ie.width},it=this.submenuContainer.getBoundingClientRect(),dt=this.calculateSubmenuMenuLayout(new Dt.Dimension(window.innerWidth,window.innerHeight),Dt.Dimension.lift(it),qe,this.expandDirection),Jt=dt.top,cn=dt.left;this.submenuContainer.style.left="".concat(cn-it.left,"px"),this.submenuContainer.style.top="".concat(Jt-it.top,"px"),this.submenuDisposables.add(Object(Dt.addDisposableListener)(this.submenuContainer,Dt.EventType.KEY_UP,function(Mn){var vi=new $i.a(Mn);vi.equals(15)&&(Dt.EventHelper.stop(Mn,!0),p.parentData.parent.focus(),p.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(Object(Dt.addDisposableListener)(this.submenuContainer,Dt.EventType.KEY_DOWN,function(Mn){var vi=new $i.a(Mn);vi.equals(15)&&Dt.EventHelper.stop(Mn,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(function(){p.parentData.parent.focus(),p.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(M),this.mysubmenu=this.parentData.submenu}}},{key:"updateAriaExpanded",value:function(p){var M;this.item&&((M=this.item)===null||M===void 0||M.setAttribute("aria-expanded",p))}},{key:"applyStyle",value:function(){Object(Je.a)(Object(ft.a)(b.prototype),"applyStyle",this).call(this);var p=this.element&&this.element.classList.contains("focused"),M=p&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=M!=null?M:"")}},{key:"dispose",value:function(){Object(Je.a)(Object(ft.a)(b.prototype),"dispose",this).call(this),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}]),b}(cs),Vs=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q){var Se;return Object(C.a)(this,b),Se=le.call(this,y,p,M),Se.menuStyles=q,Se}return Object(x.a)(b,[{key:"render",value:function(p){Object(Je.a)(Object(ft.a)(b.prototype),"render",this).call(this,p),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?"".concat(this.menuStyles.separatorColor):"")}}]),b}(Es.a);function Hs(he){var le=Wa,b=le.exec(he);if(!b)return he;var y=!b[1];return he.replace(le,y?"$2$3":"").trim()}function ps(he){var le=Object(Fa.b)()[he.id];return".codicon-".concat(he.id,":before { content: '\\").concat(le.toString(16),"'; }")}function fc(he,le){var b=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

`.concat(ps(Fa.a.menuSelection),`
`).concat(ps(Fa.a.menuSubmenu),`

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`);if(le){b+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;var y=he.scrollbarShadow;y&&(b+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: `.concat(y,` 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: `).concat(y,` 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: `).concat(y,` 6px 6px 6px -6px inset;
				}
			`));var p=he.scrollbarSliderBackground;p&&(b+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: `.concat(p,`;
				}
			`));var M=he.scrollbarSliderHoverBackground;M&&(b+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: `.concat(M,`;
				}
			`));var q=he.scrollbarSliderActiveBackground;q&&(b+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: `.concat(q,`;
				}
			`))}return b}var Rs=a("99AM"),Us=function(){function he(le,b,y,p){Object(C.a)(this,he),this.contextViewService=le,this.telemetryService=b,this.notificationService=y,this.keybindingService=p,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}return Object(x.a)(he,[{key:"configure",value:function(b){this.options=b}},{key:"showContextMenu",value:function(b){var y=this,p=b.getActions();if(!!p.length){this.focusToReturn=document.activeElement;var M,q=Object(Dt.isHTMLElement)(b.domForShadowRoot)?b.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:function(){return b.getAnchor()},canRelayout:!1,anchorAlignment:b.anchorAlignment,anchorAxisAlignment:b.anchorAxisAlignment,render:function(Ie){var qe;y.lastContainer=Ie;var it=b.getMenuClassName?b.getMenuClassName():"";it&&(Ie.className+=" "+it),y.options.blockMouse&&(y.block=Ie.appendChild(Object(Dt.$)(".context-view-block")),y.block.style.position="fixed",y.block.style.cursor="initial",y.block.style.left="0",y.block.style.top="0",y.block.style.width="100%",y.block.style.height="100%",y.block.style.zIndex="-1",(qe=y.blockDisposable)===null||qe===void 0||qe.dispose(),y.blockDisposable=Object(Dt.addDisposableListener)(y.block,Dt.EventType.MOUSE_DOWN,function(cn){return cn.stopPropagation()}));var dt=new te.c,Jt=b.actionRunner||new oo.b;return Jt.onWillRun(function(cn){return y.onActionRun(cn,!b.skipTelemetry)},y,dt),Jt.onDidRun(y.onDidActionRun,y,dt),M=new To(Ie,p,{actionViewItemProvider:b.getActionViewItem,context:b.getActionsContext?b.getActionsContext():null,actionRunner:Jt,getKeyBinding:b.getKeyBinding?b.getKeyBinding:function(cn){return y.keybindingService.lookupKeybinding(cn.id)}},Rs.g),M.onDidCancel(function(){return y.contextViewService.hideContextView(!0)},null,dt),M.onDidBlur(function(){return y.contextViewService.hideContextView(!0)},null,dt),dt.add(Object(Dt.addDisposableListener)(window,Dt.EventType.BLUR,function(){return y.contextViewService.hideContextView(!0)})),dt.add(Object(Dt.addDisposableListener)(window,Dt.EventType.MOUSE_DOWN,function(cn){if(!cn.defaultPrevented){var Mn=new ra.a(cn),vi=Mn.target;if(!Mn.rightButton){for(;vi;){if(vi===Ie)return;vi=vi.parentElement}y.contextViewService.hideContextView(!0)}}})),Object(te.h)(dt,M)},focus:function(){M==null||M.focus(!!b.autoSelectFirstItem)},onHide:function(Ie){var qe,it,dt;(qe=b.onHide)===null||qe===void 0||qe.call(b,!!Ie),y.block&&(y.block.remove(),y.block=null),(it=y.blockDisposable)===null||it===void 0||it.dispose(),y.blockDisposable=null,!!y.lastContainer&&(Object(Dt.getActiveElement)()===y.lastContainer||Object(Dt.isAncestor)(Object(Dt.getActiveElement)(),y.lastContainer))&&((dt=y.focusToReturn)===null||dt===void 0||dt.focus()),y.lastContainer=null}},q,!!q)}}},{key:"onActionRun",value:function(b,y){y&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:b.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}},{key:"onDidActionRun",value:function(b){b.error&&!Object(gn.g)(b.error)&&this.notificationService.error(b.error)}}]),he}(),Bc=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},qs=function(he,le){return function(b,y){le(b,y,he)}},Eu=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q,Se,Ie){var qe;return Object(C.a)(this,b),qe=le.call(this),qe.telemetryService=y,qe.notificationService=p,qe.contextViewService=M,qe.keybindingService=q,qe.menuService=Se,qe.contextKeyService=Ie,qe._contextMenuHandler=void 0,qe._onDidShowContextMenu=qe._store.add(new _n.b),qe._onDidHideContextMenu=qe._store.add(new _n.b),qe}return Object(x.a)(b,[{key:"contextMenuHandler",get:function(){return this._contextMenuHandler||(this._contextMenuHandler=new Us(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}},{key:"configure",value:function(p){this.contextMenuHandler.configure(p)}},{key:"showContextMenu",value:function(p){var M=this;p=Ku.transform(p,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},p),{onHide:function(Se){var Ie;(Ie=p.onHide)===null||Ie===void 0||Ie.call(p,Se),M._onDidHideContextMenu.fire()}})),Dt.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}}]),b}(te.a);Eu=Bc([qs(0,hr.a),qs(1,pi.a),qs(2,ba.b),qs(3,xt.a),qs(4,_o.b),qs(5,yi.b)],Eu);var Ku;(function(he){function le(y){return y&&y.menuId instanceof _o.c}function b(y,p,M){if(!le(y))return y;var q=y.menuId,Se=y.menuActionOptions,Ie=y.contextKeyService;return Object.assign(Object.assign({},y),{getActions:function(){var it=[];if(q){var dt=p.createMenu(q,Ie!=null?Ie:M);Object(Ml.d)(dt,Se,it),dt.dispose()}return y.getActions?oo.d.join(y.getActions(),it):it}})}he.transform=b})(Ku||(Ku={}));var Ns=a("JQT/"),Gl=a("Q4rV"),Gu;(function(he){he[he.API=0]="API",he[he.USER=1]="USER"})(Gu||(Gu={}));var Tl=a("W9cx"),$u=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Qu=function(he,le){return function(b,y){le(b,y,he)}},vu=function(he,le,b,y){function p(M){return M instanceof b?M:new b(function(q){q(M)})}return new(b||(b=Promise))(function(M,q){function Se(it){try{qe(y.next(it))}catch(dt){q(dt)}}function Ie(it){try{qe(y.throw(it))}catch(dt){q(dt)}}function qe(it){it.done?M(it.value):p(it.value).then(Se,Ie)}qe((y=y.apply(he,le||[])).next())})},Yu=function(){function he(le){Object(C.a)(this,he),this._commandService=le}return Object(x.a)(he,[{key:"open",value:function(b,y){return vu(this,void 0,void 0,Object(w.a)().mark(function p(){var M,q;return Object(w.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(Object(Tl.c)(b,jn.c.command)){Ie.next=2;break}return Ie.abrupt("return",!1);case 2:if(y==null?void 0:y.allowCommands){Ie.next=4;break}return Ie.abrupt("return",!0);case 4:if(typeof b=="string"&&(b=_.a.parse(b)),!Array.isArray(y.allowCommands)){Ie.next=8;break}if(y.allowCommands.includes(b.path)){Ie.next=8;break}return Ie.abrupt("return",!0);case 8:q=[];try{q=Object(Gl.a)(decodeURIComponent(b.query))}catch(qe){try{q=Object(Gl.a)(b.query)}catch(it){}}return Array.isArray(q)||(q=[q]),Ie.next=13,(M=this._commandService).executeCommand.apply(M,[b.path].concat(Object(ve.a)(q)));case 13:return Ie.abrupt("return",!0);case 14:case"end":return Ie.stop()}},p,this)}))}}]),he}();Yu=$u([Qu(0,Xa.b)],Yu);var Wc=function(){function he(le){Object(C.a)(this,he),this._editorService=le}return Object(x.a)(he,[{key:"open",value:function(b,y){return vu(this,void 0,void 0,Object(w.a)().mark(function p(){var M,q,Se;return Object(w.a)().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return typeof b=="string"&&(b=_.a.parse(b)),M=Object(Tl.b)(b),q=M.selection,Se=M.uri,b=Se,b.scheme===jn.c.file&&(b=Object(zr.i)(b)),qe.next=6,this._editorService.openCodeEditor({resource:b,options:Object.assign({selection:q,source:(y==null?void 0:y.fromUserGesture)?Gu.USER:Gu.API},y==null?void 0:y.editorOptions)},this._editorService.getFocusedCodeEditor(),y==null?void 0:y.openToSide);case 6:return qe.abrupt("return",!0);case 7:case"end":return qe.stop()}},p,this)}))}}]),he}();Wc=$u([Qu(0,E.a)],Wc);var Zu=function(){function he(le,b){var y=this;Object(C.a)(this,he),this._openers=new Nn.a,this._validators=new Nn.a,this._resolvers=new Nn.a,this._resolvedUriTargets=new Zt.b(function(p){return p.with({path:null,fragment:null,query:null}).toString()}),this._externalOpeners=new Nn.a,this._defaultExternalOpener={openExternal:function(M){return vu(y,void 0,void 0,Object(w.a)().mark(function q(){return Object(w.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Object(Tl.d)(M,jn.c.http,jn.c.https)?Dt.windowOpenNoOpener(M):window.location.href=M,Ie.abrupt("return",!0);case 2:case"end":return Ie.stop()}},q)}))}},this._openers.push({open:function(M,q){return vu(y,void 0,void 0,Object(w.a)().mark(function Se(){return Object(w.a)().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(!((q==null?void 0:q.openExternal)||Object(Tl.d)(M,jn.c.mailto,jn.c.http,jn.c.https,jn.c.vsls))){qe.next=4;break}return qe.next=3,this._doOpenExternal(M,q);case 3:return qe.abrupt("return",!0);case 4:return qe.abrupt("return",!1);case 5:case"end":return qe.stop()}},Se,this)}))}}),this._openers.push(new Yu(b)),this._openers.push(new Wc(le))}return Object(x.a)(he,[{key:"registerOpener",value:function(b){var y=this._openers.unshift(b);return{dispose:y}}},{key:"open",value:function(b,y){var p;return vu(this,void 0,void 0,Object(w.a)().mark(function M(){var q,Se,Ie,qe,it,dt,Jt,cn,Mn;return Object(w.a)().wrap(function(ii){for(;;)switch(ii.prev=ii.next){case 0:q=typeof b=="string"?_.a.parse(b):b,Se=(p=this._resolvedUriTargets.get(q))!==null&&p!==void 0?p:b,Ie=Object(D.a)(this._validators),ii.prev=3,Ie.s();case 5:if((qe=Ie.n()).done){ii.next=13;break}return it=qe.value,ii.next=9,it.shouldOpen(Se,y);case 9:if(ii.sent){ii.next=11;break}return ii.abrupt("return",!1);case 11:ii.next=5;break;case 13:ii.next=18;break;case 15:ii.prev=15,ii.t0=ii.catch(3),Ie.e(ii.t0);case 18:return ii.prev=18,Ie.f(),ii.finish(18);case 21:dt=Object(D.a)(this._openers),ii.prev=22,dt.s();case 24:if((Jt=dt.n()).done){ii.next=33;break}return cn=Jt.value,ii.next=28,cn.open(b,y);case 28:if(Mn=ii.sent,!Mn){ii.next=31;break}return ii.abrupt("return",!0);case 31:ii.next=24;break;case 33:ii.next=38;break;case 35:ii.prev=35,ii.t1=ii.catch(22),dt.e(ii.t1);case 38:return ii.prev=38,dt.f(),ii.finish(38);case 41:return ii.abrupt("return",!1);case 42:case"end":return ii.stop()}},M,this,[[3,15,18,21],[22,35,38,41]])}))}},{key:"resolveExternalUri",value:function(b,y){return vu(this,void 0,void 0,Object(w.a)().mark(function p(){var M,q,Se,Ie;return Object(w.a)().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:M=Object(D.a)(this._resolvers),it.prev=1,M.s();case 3:if((q=M.n()).done){it.next=18;break}return Se=q.value,it.prev=5,it.next=8,Se.resolveExternalUri(b,y);case 8:if(Ie=it.sent,!Ie){it.next=12;break}return this._resolvedUriTargets.has(Ie.resolved)||this._resolvedUriTargets.set(Ie.resolved,b),it.abrupt("return",Ie);case 12:it.next=16;break;case 14:it.prev=14,it.t0=it.catch(5);case 16:it.next=3;break;case 18:it.next=23;break;case 20:it.prev=20,it.t1=it.catch(1),M.e(it.t1);case 23:return it.prev=23,M.f(),it.finish(23);case 26:throw new Error("Could not resolve external URI: "+b.toString());case 27:case"end":return it.stop()}},p,this,[[1,20,23,26],[5,14]])}))}},{key:"_doOpenExternal",value:function(b,y){return vu(this,void 0,void 0,Object(w.a)().mark(function p(){var M,q,Se,Ie,qe,it,dt,Jt;return Object(w.a)().wrap(function(Mn){for(;;)switch(Mn.prev=Mn.next){case 0:return M=typeof b=="string"?_.a.parse(b):b,Mn.prev=1,Mn.next=4,this.resolveExternalUri(M,y);case 4:q=Mn.sent.resolved,Mn.next=10;break;case 7:Mn.prev=7,Mn.t0=Mn.catch(1),q=M;case 10:if(typeof b=="string"&&M.toString()===q.toString()?Se=b:Se=encodeURI(q.toString(!0)),!(y==null?void 0:y.allowContributedOpeners)){Mn.next=33;break}Ie=typeof(y==null?void 0:y.allowContributedOpeners)=="string"?y==null?void 0:y.allowContributedOpeners:void 0,qe=Object(D.a)(this._externalOpeners),Mn.prev=14,qe.s();case 16:if((it=qe.n()).done){Mn.next=25;break}return dt=it.value,Mn.next=20,dt.openExternal(Se,{sourceUri:M,preferredOpenerId:Ie},Ns.a.None);case 20:if(Jt=Mn.sent,!Jt){Mn.next=23;break}return Mn.abrupt("return",!0);case 23:Mn.next=16;break;case 25:Mn.next=30;break;case 27:Mn.prev=27,Mn.t1=Mn.catch(14),qe.e(Mn.t1);case 30:return Mn.prev=30,qe.f(),Mn.finish(30);case 33:return Mn.abrupt("return",this._defaultExternalOpener.openExternal(Se,{sourceUri:M},Ns.a.None));case 34:case"end":return Mn.stop()}},p,this,[[1,7],[14,27,30,33]])}))}},{key:"dispose",value:function(){this._validators.clear()}}]),he}();Zu=$u([Qu(0,E.a),Qu(1,Xa.b)],Zu);var Xu=a("Cdua"),ds=a("tADe"),Cs=a("3IFt"),ia=a("MD5Z"),vc=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Lu=function(he,le){return function(b,y){le(b,y,he)}},$l=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y){var p;return Object(C.a)(this,b),p=le.call(this),p.model=y,p._markersData=new Map,p._register(Object(te.l)(function(){p.model.deltaDecorations(Object(ve.a)(p._markersData.keys()),[]),p._markersData.clear()})),p}return Object(x.a)(b,[{key:"update",value:function(p,M){var q=Object(ve.a)(this._markersData.keys());this._markersData.clear();for(var Se=this.model.deltaDecorations(q,M),Ie=0;Ie<Se.length;Ie++)this._markersData.set(Se[Ie],p[Ie]);return q.length!==0||Se.length!==0}},{key:"getMarker",value:function(p){return this._markersData.get(p.id)}}]),b}(te.a),gl=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p){var M;return Object(C.a)(this,b),M=le.call(this),M._markerService=p,M._onDidChangeMarker=M._register(new _n.b),M._markerDecorations=new Zt.b,y.getModels().forEach(function(q){return M._onModelAdded(q)}),M._register(y.onModelAdded(M._onModelAdded,Object(In.a)(M))),M._register(y.onModelRemoved(M._onModelRemoved,Object(In.a)(M))),M._register(M._markerService.onMarkerChanged(M._handleMarkerChange,Object(In.a)(M))),M}return Object(x.a)(b,[{key:"dispose",value:function(){Object(Je.a)(Object(ft.a)(b.prototype),"dispose",this).call(this),this._markerDecorations.forEach(function(p){return p.dispose()}),this._markerDecorations.clear()}},{key:"getMarker",value:function(p,M){var q=this._markerDecorations.get(p);return q&&q.getMarker(M)||null}},{key:"_handleMarkerChange",value:function(p){var M=this;p.forEach(function(q){var Se=M._markerDecorations.get(q);Se&&M._updateDecorations(Se)})}},{key:"_onModelAdded",value:function(p){var M=new $l(p);this._markerDecorations.set(p.uri,M),this._updateDecorations(M)}},{key:"_onModelRemoved",value:function(p){var M=this,q,Se=this._markerDecorations.get(p.uri);Se&&(Se.dispose(),this._markerDecorations.delete(p.uri)),(p.uri.scheme===jn.c.inMemory||p.uri.scheme===jn.c.internal||p.uri.scheme===jn.c.vscode)&&((q=this._markerService)===null||q===void 0||q.read({resource:p.uri}).map(function(Ie){return Ie.owner}).forEach(function(Ie){return M._markerService.remove(Ie,[p.uri])}))}},{key:"_updateDecorations",value:function(p){var M=this,q=this._markerService.read({resource:p.model.uri,take:500}),Se=q.map(function(Ie){return{range:M._createDecorationRange(p.model,Ie),options:M._createDecorationOption(Ie)}});p.update(q,Se)&&this._onDidChangeMarker.fire(p.model)}},{key:"_createDecorationRange",value:function(p,M){var q=Ka.a.lift(M);if(M.severity===ds.c.Hint&&!this._hasMarkerTag(M,1)&&!this._hasMarkerTag(M,2)&&(q=q.setEndPosition(q.startLineNumber,q.startColumn+2)),q=p.validateRange(q),q.isEmpty()){var Se=p.getLineLastNonWhitespaceColumn(q.startLineNumber)||p.getLineMaxColumn(q.startLineNumber);if(Se===1||q.endColumn>=Se)return q;var Ie=p.getWordAtPosition(q.getStartPosition());Ie&&(q=new Ka.a(q.startLineNumber,Ie.startColumn,q.endLineNumber,Ie.endColumn))}else if(M.endColumn===Number.MAX_VALUE&&M.startColumn===1&&q.startLineNumber===q.endLineNumber){var qe=p.getLineFirstNonWhitespaceColumn(M.startLineNumber);qe<q.endColumn&&(q=new Ka.a(q.startLineNumber,qe,q.endLineNumber,q.endColumn),M.startColumn=qe)}return q}},{key:"_createDecorationOption",value:function(p){var M,q=void 0,Se,Ie=void 0,qe;switch(p.severity){case ds.c.Hint:this._hasMarkerTag(p,2)?M=void 0:this._hasMarkerTag(p,1)?M="squiggly-unnecessary":M="squiggly-hint",Se=0;break;case ds.c.Warning:M="squiggly-warning",q=Object(ei.f)(Cs.I),Se=20,qe={color:Object(ei.f)(ia.pc),position:B.e.Inline};break;case ds.c.Info:M="squiggly-info",q=Object(ei.f)(Cs.G),Se=10;break;case ds.c.Error:default:M="squiggly-error",q=Object(ei.f)(Cs.F),Se=30,qe={color:Object(ei.f)(ia.kc),position:B.e.Inline};break}return p.tags&&(p.tags.indexOf(1)!==-1&&(Ie="squiggly-inline-unnecessary"),p.tags.indexOf(2)!==-1&&(Ie="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:M,showIfCollapsed:!0,overviewRuler:{color:q,position:B.f.Right},minimap:qe,zIndex:Se,inlineClassName:Ie}}},{key:"_hasMarkerTag",value:function(p,M){return p.tags?p.tags.indexOf(M)>=0:!1}}]),b}(te.a);gl=vc([Lu(0,d.a),Lu(1,ds.b)],gl);var gu=a("eQg+"),Ju=a("tX9W"),Do=a("vX7u"),Zo=a("7afs"),mo=a("oFSf"),gc=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},qu=function(he,le){return function(b,y){le(b,y,he)}};function Ls(he){return he.toString()}function Vc(he){for(var le=new Zo.a,b=he.createSnapshot(),y;y=b.read();)le.update(y);return le.digest()}var Ql=function(){function he(le,b,y){Object(C.a)(this,he),this.model=le,this._modelEventListeners=new te.c,this.model=le,this._modelEventListeners.add(le.onWillDispose(function(){return b(le)})),this._modelEventListeners.add(le.onDidChangeLanguage(function(p){return y(le,p)}))}return Object(x.a)(he,[{key:"dispose",value:function(){this._modelEventListeners.dispose()}}]),he}(),ml=Ht.g||Ht.i?1:2,Hc=Object(x.a)(function he(le,b,y,p,M,q,Se,Ie){Object(C.a)(this,he),this.uri=le,this.initialUndoRedoSnapshot=b,this.time=y,this.sharesUndoRedoStack=p,this.heapSize=M,this.sha1=q,this.versionId=Se,this.alternativeVersionId=Ie}),Il=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q,Se){var Ie;return Object(C.a)(this,b),Ie=le.call(this),Ie._configurationService=y,Ie._resourcePropertiesService=p,Ie._undoRedoService=M,Ie._languageService=q,Ie._languageConfigurationService=Se,Ie._onModelAdded=Ie._register(new _n.b),Ie.onModelAdded=Ie._onModelAdded.event,Ie._onModelRemoved=Ie._register(new _n.b),Ie.onModelRemoved=Ie._onModelRemoved.event,Ie._onModelModeChanged=Ie._register(new _n.b),Ie.onModelLanguageChanged=Ie._onModelModeChanged.event,Ie._modelCreationOptionsByLanguageAndResource=Object.create(null),Ie._models={},Ie._disposedModels=new Map,Ie._disposedModelsHeapSize=0,Ie._register(Ie._configurationService.onDidChangeConfiguration(function(qe){return Ie._updateModelOptions(qe)})),Ie._updateModelOptions(void 0),Ie}return Object(x.a)(b,[{key:"_getEOL",value:function(p,M){if(p)return this._resourcePropertiesService.getEOL(p,M);var q=this._configurationService.getValue("files.eol",{overrideIdentifier:M});return q&&typeof q=="string"&&q!=="auto"?q:Ht.a===3||Ht.a===2?`
`:`\r
`}},{key:"_shouldRestoreUndoStack",value:function(){var p=this._configurationService.getValue("files.restoreUndoStack");return typeof p=="boolean"?p:!0}},{key:"getCreationOptions",value:function(p,M,q){var Se=typeof p=="string"?p:p.languageId,Ie=this._modelCreationOptionsByLanguageAndResource[Se+M];if(!Ie){var qe=this._configurationService.getValue("editor",{overrideIdentifier:Se,resource:M}),it=this._getEOL(M,Se);Ie=b._readModelOptions({editor:qe,eol:it},q),this._modelCreationOptionsByLanguageAndResource[Se+M]=Ie}return Ie}},{key:"_updateModelOptions",value:function(p){var M=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);for(var q=Object.keys(this._models),Se=0,Ie=q.length;Se<Ie;Se++){var qe=q[Se],it=this._models[qe],dt=it.model.getLanguageId(),Jt=it.model.uri;if(!(p&&!p.affectsConfiguration("editor",{overrideIdentifier:dt,resource:Jt})&&!p.affectsConfiguration("files.eol",{overrideIdentifier:dt,resource:Jt}))){var cn=M[dt+Jt],Mn=this.getCreationOptions(dt,Jt,it.model.isForSimpleWidget);b._setModelOptionsForModel(it.model,Mn,cn)}}}},{key:"_insertDisposedModel",value:function(p){this._disposedModels.set(Ls(p.uri),p),this._disposedModelsHeapSize+=p.heapSize}},{key:"_removeDisposedModel",value:function(p){var M=this._disposedModels.get(Ls(p));return M&&(this._disposedModelsHeapSize-=M.heapSize),this._disposedModels.delete(Ls(p)),M}},{key:"_ensureDisposedModelsHeapSize",value:function(p){if(this._disposedModelsHeapSize>p){var M=[];for(this._disposedModels.forEach(function(Se){Se.sharesUndoRedoStack||M.push(Se)}),M.sort(function(Se,Ie){return Se.time-Ie.time});M.length>0&&this._disposedModelsHeapSize>p;){var q=M.shift();this._removeDisposedModel(q.uri),q.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(q.initialUndoRedoSnapshot)}}}},{key:"_createModelData",value:function(p,M,q,Se){var Ie=this,qe=this.getCreationOptions(M,q,Se),it=new Ju.c(p,M,qe,q,this._undoRedoService,this._languageService,this._languageConfigurationService);if(q&&this._disposedModels.has(Ls(q))){var dt=this._removeDisposedModel(q),Jt=this._undoRedoService.getElements(q),cn=Vc(it)===dt.sha1;if(cn||dt.sharesUndoRedoStack){var Mn=Object(D.a)(Jt.past),vi;try{for(Mn.s();!(vi=Mn.n()).done;){var ii=vi.value;Object(mo.b)(ii)&&ii.matchesResource(q)&&ii.setModel(it)}}catch(fr){Mn.e(fr)}finally{Mn.f()}var di=Object(D.a)(Jt.future),$n;try{for(di.s();!($n=di.n()).done;){var ni=$n.value;Object(mo.b)(ni)&&ni.matchesResource(q)&&ni.setModel(it)}}catch(fr){di.e(fr)}finally{di.f()}this._undoRedoService.setElementsValidFlag(q,!0,function(fr){return Object(mo.b)(fr)&&fr.matchesResource(q)}),cn&&(it._overwriteVersionId(dt.versionId),it._overwriteAlternativeVersionId(dt.alternativeVersionId),it._overwriteInitialUndoRedoSnapshot(dt.initialUndoRedoSnapshot))}else dt.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(dt.initialUndoRedoSnapshot)}var sr=Ls(it.uri);if(this._models[sr])throw new Error("ModelService: Cannot add model because it already exists!");var mr=new Ql(it,function(fr){return Ie._onWillDispose(fr)},function(fr,Xr){return Ie._onDidChangeLanguage(fr,Xr)});return this._models[sr]=mr,mr}},{key:"createModel",value:function(p,M,q){var Se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Ie;return M?Ie=this._createModelData(p,M,q,Se):Ie=this._createModelData(p,go.b,q,Se),this._onModelAdded.fire(Ie.model),Ie.model}},{key:"getModels",value:function(){for(var p=[],M=Object.keys(this._models),q=0,Se=M.length;q<Se;q++){var Ie=M[q];p.push(this._models[Ie].model)}return p}},{key:"getModel",value:function(p){var M=Ls(p),q=this._models[M];return q?q.model:null}},{key:"_schemaShouldMaintainUndoRedoElements",value:function(p){return p.scheme===jn.c.file||p.scheme===jn.c.vscodeRemote||p.scheme===jn.c.vscodeUserData||p.scheme===jn.c.vscodeNotebookCell||p.scheme==="fake-fs"}},{key:"_onWillDispose",value:function(p){var M=Ls(p.uri),q=this._models[M],Se=this._undoRedoService.getUriComparisonKey(p.uri)!==p.uri.toString(),Ie=!1,qe=0;if(Se||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(p.uri)){var it=this._undoRedoService.getElements(p.uri);if(it.past.length>0||it.future.length>0){var dt=Object(D.a)(it.past),Jt;try{for(dt.s();!(Jt=dt.n()).done;){var cn=Jt.value;Object(mo.b)(cn)&&cn.matchesResource(p.uri)&&(Ie=!0,qe+=cn.heapSize(p.uri),cn.setModel(p.uri))}}catch(sr){dt.e(sr)}finally{dt.f()}var Mn=Object(D.a)(it.future),vi;try{for(Mn.s();!(vi=Mn.n()).done;){var ii=vi.value;Object(mo.b)(ii)&&ii.matchesResource(p.uri)&&(Ie=!0,qe+=ii.heapSize(p.uri),ii.setModel(p.uri))}}catch(sr){Mn.e(sr)}finally{Mn.f()}}}var di=b.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(Ie)if(!Se&&qe>di){var ni=q.model.getInitialUndoRedoSnapshot();ni!==null&&this._undoRedoService.restoreSnapshot(ni)}else this._ensureDisposedModelsHeapSize(di-qe),this._undoRedoService.setElementsValidFlag(p.uri,!1,function(sr){return Object(mo.b)(sr)&&sr.matchesResource(p.uri)}),this._insertDisposedModel(new Hc(p.uri,q.model.getInitialUndoRedoSnapshot(),Date.now(),Se,qe,Vc(p),p.getVersionId(),p.getAlternativeVersionId()));else if(!Se){var $n=q.model.getInitialUndoRedoSnapshot();$n!==null&&this._undoRedoService.restoreSnapshot($n)}delete this._models[M],q.dispose(),delete this._modelCreationOptionsByLanguageAndResource[p.getLanguageId()+p.uri],this._onModelRemoved.fire(p)}},{key:"_onDidChangeLanguage",value:function(p,M){var q=M.oldLanguage,Se=p.getLanguageId(),Ie=this.getCreationOptions(q,p.uri,p.isForSimpleWidget),qe=this.getCreationOptions(Se,p.uri,p.isForSimpleWidget);b._setModelOptionsForModel(p,qe,Ie),this._onModelModeChanged.fire({model:p,oldLanguageId:q})}}],[{key:"_readModelOptions",value:function(p,M){var q,Se=Do.a.tabSize;if(p.editor&&typeof p.editor.tabSize!="undefined"){var Ie=parseInt(p.editor.tabSize,10);isNaN(Ie)||(Se=Ie),Se<1&&(Se=1)}var qe="tabSize";if(p.editor&&typeof p.editor.indentSize!="undefined"&&p.editor.indentSize!=="tabSize"){var it=parseInt(p.editor.indentSize,10);isNaN(it)||(qe=Math.max(it,1))}var dt=Do.a.insertSpaces;p.editor&&typeof p.editor.insertSpaces!="undefined"&&(dt=p.editor.insertSpaces==="false"?!1:Boolean(p.editor.insertSpaces));var Jt=ml,cn=p.eol;cn===`\r
`?Jt=2:cn===`
`&&(Jt=1);var Mn=Do.a.trimAutoWhitespace;p.editor&&typeof p.editor.trimAutoWhitespace!="undefined"&&(Mn=p.editor.trimAutoWhitespace==="false"?!1:Boolean(p.editor.trimAutoWhitespace));var vi=Do.a.detectIndentation;p.editor&&typeof p.editor.detectIndentation!="undefined"&&(vi=p.editor.detectIndentation==="false"?!1:Boolean(p.editor.detectIndentation));var ii=Do.a.largeFileOptimizations;p.editor&&typeof p.editor.largeFileOptimizations!="undefined"&&(ii=p.editor.largeFileOptimizations==="false"?!1:Boolean(p.editor.largeFileOptimizations));var di=Do.a.bracketPairColorizationOptions;return((q=p.editor)===null||q===void 0?void 0:q.bracketPairColorization)&&typeof p.editor.bracketPairColorization=="object"&&(di={enabled:!!p.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!p.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:M,tabSize:Se,indentSize:qe,insertSpaces:dt,detectIndentation:vi,defaultEOL:Jt,trimAutoWhitespace:Mn,largeFileOptimizations:ii,bracketPairColorizationOptions:di}}},{key:"_setModelOptionsForModel",value:function(p,M,q){q&&q.defaultEOL!==M.defaultEOL&&p.getLineCount()===1&&p.setEOL(M.defaultEOL===1?0:1),!(q&&q.detectIndentation===M.detectIndentation&&q.insertSpaces===M.insertSpaces&&q.tabSize===M.tabSize&&q.indentSize===M.indentSize&&q.trimAutoWhitespace===M.trimAutoWhitespace&&Object(z.e)(q.bracketPairColorizationOptions,M.bracketPairColorizationOptions))&&(M.detectIndentation?(p.detectIndentation(M.insertSpaces,M.tabSize),p.updateOptions({trimAutoWhitespace:M.trimAutoWhitespace,bracketColorizationOptions:M.bracketPairColorizationOptions})):p.updateOptions({insertSpaces:M.insertSpaces,tabSize:M.tabSize,indentSize:M.indentSize,trimAutoWhitespace:M.trimAutoWhitespace,bracketColorizationOptions:M.bracketPairColorizationOptions}))}}]),b}(te.a);Il.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,Il=gc([qu(0,Fe.a),qu(1,Zr.b),qu(2,Pt.a),qu(3,H.a),qu(4,W.a)],Il);var th=a("Z1pP"),$s=a("sswD"),al=a("k9mg"),Mu=a("C/vA"),mc=a("Lx4V"),Os=a("Zr1c"),Pl=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Tu=function(he,le){return function(b,y){le(b,y,he)}},Iu=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p){var M;return Object(C.a)(this,b),M=le.call(this),M.quickInputService=y,M.instantiationService=p,M.registry=_a.a.as(mc.b.Quickaccess),M.mapProviderToDescriptor=new Map,M.lastAcceptedPickerValues=new Map,M.visibleQuickAccess=void 0,M}return Object(x.a)(b,[{key:"show",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",M=arguments.length>1?arguments[1]:void 0;this.doShowOrPick(p,!1,M)}},{key:"doShowOrPick",value:function(p,M,q){var Se,Ie=this.getOrInstantiateProvider(p),qe=Object(an.a)(Ie,2),it=qe[0],dt=qe[1],Jt=this.visibleQuickAccess,cn=Jt==null?void 0:Jt.descriptor;if(Jt&&dt&&cn===dt){p!==dt.prefix&&!(q==null?void 0:q.preserveValue)&&(Jt.picker.value=p),this.adjustValueSelection(Jt.picker,dt,q);return}if(dt&&!(q==null?void 0:q.preserveValue)){var Mn=void 0;if(Jt&&cn&&cn!==dt){var vi=Jt.value.substr(cn.prefix.length);vi&&(Mn="".concat(dt.prefix).concat(vi))}if(!Mn){var ii=it==null?void 0:it.defaultFilterValue;ii===mc.a.LAST?Mn=this.lastAcceptedPickerValues.get(dt):typeof ii=="string"&&(Mn="".concat(dt.prefix).concat(ii))}typeof Mn=="string"&&(p=Mn)}var di=new te.c,$n=di.add(this.quickInputService.createQuickPick());$n.value=p,this.adjustValueSelection($n,dt,q),$n.placeholder=dt==null?void 0:dt.placeholder,$n.quickNavigate=q==null?void 0:q.quickNavigateConfiguration,$n.hideInput=!!$n.quickNavigate&&!Jt,(typeof(q==null?void 0:q.itemActivation)=="number"||(q==null?void 0:q.quickNavigateConfiguration))&&($n.itemActivation=(Se=q==null?void 0:q.itemActivation)!==null&&Se!==void 0?Se:Os.b.SECOND),$n.contextKey=dt==null?void 0:dt.contextKey,$n.filterValue=function(mr){return mr.substring(dt?dt.prefix.length:0)};var ni=void 0;M&&(ni=new nt.b,di.add(Object(Mu.a)($n.onWillAccept)(function(mr){mr.veto(),$n.hide()}))),di.add(this.registerPickerListeners($n,it,dt,p,q==null?void 0:q.providerOptions));var sr=di.add(new Ns.b);if(it&&di.add(it.provide($n,sr.token,q==null?void 0:q.providerOptions)),Object(Mu.a)($n.onDidHide)(function(){$n.selectedItems.length===0&&sr.cancel(),di.dispose(),ni==null||ni.complete($n.selectedItems.slice(0))}),$n.show(),M)return ni==null?void 0:ni.p}},{key:"adjustValueSelection",value:function(p,M,q){var Se,Ie;(q==null?void 0:q.preserveValue)?Ie=[p.value.length,p.value.length]:Ie=[(Se=M==null?void 0:M.prefix.length)!==null&&Se!==void 0?Se:0,p.value.length],p.valueSelection=Ie}},{key:"registerPickerListeners",value:function(p,M,q,Se,Ie){var qe=this,it=new te.c,dt=this.visibleQuickAccess={picker:p,descriptor:q,value:Se};return it.add(Object(te.l)(function(){dt===qe.visibleQuickAccess&&(qe.visibleQuickAccess=void 0)})),it.add(p.onDidChangeValue(function(Jt){var cn=qe.getOrInstantiateProvider(Jt),Mn=Object(an.a)(cn,1),vi=Mn[0];vi!==M?qe.show(Jt,{preserveValue:!0,providerOptions:Ie}):dt.value=Jt})),q&&it.add(p.onDidAccept(function(){qe.lastAcceptedPickerValues.set(q,p.value)})),it}},{key:"getOrInstantiateProvider",value:function(p){var M=this.registry.getQuickAccessProvider(p);if(!M)return[void 0,void 0];var q=this.mapProviderToDescriptor.get(M);return q||(q=this.instantiationService.createInstance(M.ctor),this.mapProviderToDescriptor.set(M,q)),[q,M]}}]),b}(te.a);Iu=Pl([Tu(0,Os.a),Tu(1,ai.a)],Iu);var Al=a("+vFt"),Uc=a("O/se"),Xh=a("HyZH"),pd="done",pl="active",zc="infinite",Yl="infinite-long-running",Ri="discrete",bd=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p){var M;return Object(C.a)(this,b),M=le.call(this),M.workedVal=0,M.showDelayedScheduler=M._register(new nt.g(function(){return Object(Dt.show)(M.element)},0)),M.longRunningScheduler=M._register(new nt.g(function(){return M.infiniteLongRunning()},b.LONG_RUNNING_INFINITE_THRESHOLD)),M.create(y,p),M}return Object(x.a)(b,[{key:"create",value:function(p,M){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),p.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(M==null?void 0:M.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}},{key:"off",value:function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(pl,zc,Yl,Ri),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}},{key:"stop",value:function(){return this.doDone(!1)}},{key:"doDone",value:function(p){var M=this;return this.element.classList.add(pd),this.element.classList.contains(zc)?(this.bit.style.opacity="0",p?setTimeout(function(){return M.off()},200):this.off()):(this.bit.style.width="inherit",p?setTimeout(function(){return M.off()},200):this.off()),this}},{key:"infinite",value:function(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Ri,pd,Yl),this.element.classList.add(pl,zc),this.longRunningScheduler.schedule(),this}},{key:"infiniteLongRunning",value:function(){this.element.classList.add(Yl)}},{key:"getContainer",value:function(){return this.element}}]),b}(te.a);bd.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var Qs=a("kXS7"),pc=a("oAzg"),hs=a("6BjD"),Zl=Dt.$,ol=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M){var q;Object(C.a)(this,b),q=le.call(this),q.parent=y,q.onKeyDown=function(Ie){return Dt.addDisposableListener(q.findInput.inputBox.inputElement,Dt.EventType.KEY_DOWN,function(qe){Ie(new $i.a(qe))})},q.onMouseDown=function(Ie){return Dt.addDisposableListener(q.findInput.inputBox.inputElement,Dt.EventType.MOUSE_DOWN,function(qe){Ie(new ra.a(qe))})},q.onDidChange=function(Ie){return q.findInput.onDidChange(Ie)},q.container=Dt.append(q.parent,Zl(".quick-input-box")),q.findInput=q._register(new hs.a(q.container,void 0,{label:"",inputBoxStyles:p,toggleStyles:M}));var Se=q.findInput.inputBox.inputElement;return Se.role="combobox",Se.ariaHasPopup="menu",Se.ariaAutoComplete="list",Se.ariaExpanded="true",q}return Object(x.a)(b,[{key:"value",get:function(){return this.findInput.getValue()},set:function(p){this.findInput.setValue(p)}},{key:"select",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.findInput.inputBox.select(p)}},{key:"isSelectionAtEnd",value:function(){return this.findInput.inputBox.isSelectionAtEnd()}},{key:"placeholder",get:function(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""},set:function(p){this.findInput.inputBox.setPlaceHolder(p)}},{key:"password",get:function(){return this.findInput.inputBox.inputElement.type==="password"},set:function(p){this.findInput.inputBox.inputElement.type=p?"password":"text"}},{key:"enabled",set:function(p){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!p)}},{key:"toggles",set:function(p){this.findInput.setAdditionalToggles(p)}},{key:"setAttribute",value:function(p,M){this.findInput.inputBox.inputElement.setAttribute(p,M)}},{key:"showDecoration",value:function(p){p===en.a.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:p===en.a.Info?1:p===en.a.Warning?2:3,content:""})}},{key:"stylesForType",value:function(p){return this.findInput.inputBox.stylesForType(p===en.a.Info?1:p===en.a.Warning?2:3)}},{key:"setFocus",value:function(){this.findInput.focus()}},{key:"layout",value:function(){this.findInput.inputBox.layout()}}]),b}(te.a),Kc=a("xONI"),yd=a("jaoW"),Xl=a("QdLL"),el=new Xl.a(function(){var he=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:he,collatorIsNumeric:he.resolvedOptions().numeric}}),Jh=new Xl.a(function(){var he=new Intl.Collator(void 0,{numeric:!0});return{collator:he}}),qh=new Xl.a(function(){var he=new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"});return{collator:he}});function Pu(he,le){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=he||"",p=le||"",M=el.value.collator.compare(y,p);return el.value.collatorIsNumeric&&M===0&&y!==p?y<p?-1:1:M}function _d(he,le,b){var y=he.toLowerCase(),p=le.toLowerCase(),M=bc(he,le,b);if(M)return M;var q=y.endsWith(b),Se=p.endsWith(b);if(q!==Se)return q?-1:1;var Ie=Pu(y,p);return Ie!==0?Ie:y.localeCompare(p)}function bc(he,le,b){var y=he.toLowerCase(),p=le.toLowerCase(),M=y.startsWith(b),q=p.startsWith(b);if(M!==q)return M?-1:1;if(M&&q){if(y.length<p.length)return-1;if(y.length>p.length)return 1}return 0}var Cd=a("ZCR3"),yc=a("4y0V"),bl=a("fdyd"),nh=a("nD70"),Rl=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},_c=function(){function he(le){Object(C.a)(this,he),this.nodes=le}return Object(x.a)(he,[{key:"toString",value:function(){return this.nodes.map(function(b){return typeof b=="string"?b:b.label}).join("")}}]),he}();Rl([Cd.a],_c.prototype,"toString",null);var Od=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function yl(he){for(var le=[],b=0,y;y=Od.exec(he);){y.index-b>0&&le.push(he.substring(b,y.index));var p=y,M=Object(an.a)(p,5),q=M[1],Se=M[2],Ie=M[4];Ie?le.push({label:q,href:Se,title:Ie}):le.push({label:q,href:Se}),b=y.index+y[0].length}return b<he.length&&le.push(he.substring(b)),new _c(le)}var Ms={},Sd=new nh.a("quick-input-button-icon-");function Nl(he){if(!!he){var le,b=he.dark.toString();return Ms[b]?le=Ms[b]:(le=Sd.nextId(),Dt.createCSSRule(".".concat(le,", .hc-light .").concat(le),"background-image: ".concat(Dt.asCSSUrl(he.light||he.dark))),Dt.createCSSRule(".vs-dark .".concat(le,", .hc-black .").concat(le),"background-image: ".concat(Dt.asCSSUrl(he.dark))),Ms[b]=le),le}}function kd(he,le,b){Dt.reset(le);var y=yl(he),p=0,M=Object(D.a)(y.nodes),q;try{var Se=function(){var qe=q.value;if(typeof qe=="string")le.append.apply(le,Object(ve.a)(Object(bl.a)(qe)));else{var it=qe.title;!it&&qe.href.startsWith("command:")?it=Object(yn.b)("executeCommand","Click to execute command '{0}'",qe.href.substring("command:".length)):it||(it=qe.href);var dt=Dt.$("a",{href:qe.href,title:it,tabIndex:p++},qe.label);dt.style.textDecoration="underline";var Jt=function($n){Dt.isEventLike($n)&&Dt.EventHelper.stop($n,!0),b.callback(qe.href)},cn=b.disposables.add(new yc.a(dt,Dt.EventType.CLICK)).event,Mn=b.disposables.add(new yc.a(dt,Dt.EventType.KEY_DOWN)).event,vi=b.disposables.add(_n.c.chain(Mn)).filter(function(di){var $n=new $i.a(di);return $n.equals(10)||$n.equals(3)}).event;b.disposables.add(Ws.b.addTarget(dt));var ii=b.disposables.add(new yc.a(dt,Ws.a.Tap)).event;_n.c.any(cn,ii,vi)(Jt,null,b.disposables),le.appendChild(dt)}};for(M.s();!(q=M.n()).done;)Se()}catch(Ie){M.e(Ie)}finally{M.f()}}var Ys=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Ma=function(he,le,b,y){function p(M){return M instanceof b?M:new b(function(q){q(M)})}return new(b||(b=Promise))(function(M,q){function Se(it){try{qe(y.next(it))}catch(dt){q(dt)}}function Ie(it){try{qe(y.throw(it))}catch(dt){q(dt)}}function qe(it){it.done?M(it.value):p(it.value).then(Se,Ie)}qe((y=y.apply(he,le||[])).next())})},fs=Dt.$,Dd=function(){function he(le){Object(C.a)(this,he),this.hidden=!1,this._onChecked=new _n.b,this.onChecked=this._onChecked.event,Object.assign(this,le)}return Object(x.a)(he,[{key:"checked",get:function(){return!!this._checked},set:function(b){b!==this._checked&&(this._checked=b,this._onChecked.fire(b))}},{key:"dispose",value:function(){this._onChecked.dispose()}}]),he}(),Gc=function(){function he(){Object(C.a)(this,he)}return Object(x.a)(he,[{key:"templateId",get:function(){return he.ID}},{key:"renderTemplate",value:function(b){var y=Object.create(null);y.toDisposeElement=[],y.toDisposeTemplate=[],y.entry=Dt.append(b,fs(".quick-input-list-entry"));var p=Dt.append(y.entry,fs("label.quick-input-list-label"));y.toDisposeTemplate.push(Dt.addStandardDisposableListener(p,Dt.EventType.CLICK,function(it){y.checkbox.offsetParent||it.preventDefault()})),y.checkbox=Dt.append(p,fs("input.quick-input-list-checkbox")),y.checkbox.type="checkbox",y.toDisposeTemplate.push(Dt.addStandardDisposableListener(y.checkbox,Dt.EventType.CHANGE,function(it){y.element.checked=y.checkbox.checked}));var M=Dt.append(p,fs(".quick-input-list-rows")),q=Dt.append(M,fs(".quick-input-list-row")),Se=Dt.append(M,fs(".quick-input-list-row"));y.label=new Kc.a(q,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});var Ie=Dt.append(q,fs(".quick-input-list-entry-keybinding"));y.keybinding=new yd.a(Ie,Ht.a);var qe=Dt.append(Se,fs(".quick-input-list-label-meta"));return y.detail=new Kc.a(qe,{supportHighlights:!0,supportIcons:!0}),y.separator=Dt.append(y.entry,fs(".quick-input-list-separator")),y.actionBar=new _s.a(y.entry),y.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),y.toDisposeTemplate.push(y.actionBar),y}},{key:"renderElement",value:function(b,y,p){p.element=b,b.element=Object(lo.n)(p.entry);var M=b.item?b.item:b.separator;p.checkbox.checked=b.checked,p.toDisposeElement.push(b.onChecked(function(dt){return p.checkbox.checked=dt}));var q=b.labelHighlights,Se=b.descriptionHighlights,Ie=b.detailHighlights,qe=Object.create(null);qe.matches=q||[],qe.descriptionTitle=b.saneDescription,qe.descriptionMatches=Se||[],M.type!=="separator"?(qe.extraClasses=M.iconClasses,qe.italic=M.italic,qe.strikethrough=M.strikethrough,p.entry.classList.remove("quick-input-list-separator-as-item")):p.entry.classList.add("quick-input-list-separator-as-item"),p.label.setLabel(b.saneLabel,b.saneDescription,qe),p.keybinding.set(M.type==="separator"?void 0:M.keybinding),b.saneDetail?(p.detail.element.style.display="",p.detail.setLabel(b.saneDetail,void 0,{matches:Ie,title:b.saneDetail})):p.detail.element.style.display="none",b.item&&b.separator&&b.separator.label?(p.separator.textContent=b.separator.label,p.separator.style.display=""):p.separator.style.display="none",p.entry.classList.toggle("quick-input-list-separator-border",!!b.separator);var it=M.buttons;it&&it.length?(p.actionBar.push(it.map(function(dt,Jt){var cn=dt.iconClass||(dt.iconPath?Nl(dt.iconPath):void 0);return dt.alwaysVisible&&(cn=cn?"".concat(cn," always-visible"):"always-visible"),{id:"id-".concat(Jt),class:cn,enabled:!0,label:"",tooltip:dt.tooltip||"",run:function(){M.type!=="separator"?b.fireButtonTriggered({button:dt,item:M}):b.fireSeparatorButtonTriggered({button:dt,separator:M})}}}),{icon:!0,label:!1}),p.entry.classList.add("has-actions")):p.entry.classList.remove("has-actions")}},{key:"disposeElement",value:function(b,y,p){p.toDisposeElement=Object(te.i)(p.toDisposeElement),p.actionBar.clear()}},{key:"disposeTemplate",value:function(b){b.toDisposeElement=Object(te.i)(b.toDisposeElement),b.toDisposeTemplate=Object(te.i)(b.toDisposeTemplate)}}]),he}();Gc.ID="listelement";var po=function(){function he(){Object(C.a)(this,he)}return Object(x.a)(he,[{key:"getHeight",value:function(b){return b.item?b.saneDetail?44:22:24}},{key:"getTemplateId",value:function(b){return Gc.ID}}]),he}(),No;(function(he){he[he.First=1]="First",he[he.Second=2]="Second",he[he.Last=3]="Last",he[he.Next=4]="Next",he[he.Previous=5]="Previous",he[he.NextPage=6]="NextPage",he[he.PreviousPage=7]="PreviousPage"})(No||(No={}));var $c=function(){function he(le,b,y){var p=this;Object(C.a)(this,he),this.parent=le,this.options=y,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new _n.b,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new _n.b,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new _n.b,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new _n.b,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new _n.b,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new _n.b,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new _n.b,this.onKeyDown=this._onKeyDown.event,this._onLeave=new _n.b,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=b,this.container=Dt.append(this.parent,fs(".quick-input-list"));var M=new po,q=new _l;this.list=y.createList("QuickInput",this.container,M,[new Gc],{identityProvider:{getId:function(qe){return qe.saneLabel}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:q}),this.list.getHTMLElement().id=b,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(function(Ie){var qe=new $i.a(Ie);switch(qe.keyCode){case 10:p.toggleCheckbox();break;case 31:(Ht.i?Ie.metaKey:Ie.ctrlKey)&&p.list.setFocus(Object(Go.z)(p.list.length));break;case 16:{var it=p.list.getFocus();it.length===1&&it[0]===0&&p._onLeave.fire();break}case 18:{var dt=p.list.getFocus();dt.length===1&&dt[0]===p.list.length-1&&p._onLeave.fire();break}}p._onKeyDown.fire(qe)})),this.disposables.push(this.list.onMouseDown(function(Ie){Ie.browserEvent.button!==2&&Ie.browserEvent.preventDefault()})),this.disposables.push(Dt.addDisposableListener(this.container,Dt.EventType.CLICK,function(Ie){(Ie.x||Ie.y)&&p._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(function(Ie){p._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(function(Ie){typeof Ie.index=="number"&&(Ie.browserEvent.preventDefault(),p.list.setSelection([Ie.index]))}));var Se=new nt.h(y.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(function(Ie){return Ma(p,void 0,void 0,Object(w.a)().mark(function qe(){var it=this,dt;return Object(w.a)().wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:if(!(Ie.browserEvent.target instanceof HTMLAnchorElement)){cn.next=3;break}return Se.cancel(),cn.abrupt("return");case 3:if(!(!(Ie.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&Dt.isAncestor(Ie.browserEvent.relatedTarget,(dt=Ie.element)===null||dt===void 0?void 0:dt.element))){cn.next=5;break}return cn.abrupt("return");case 5:return cn.prev=5,cn.next=8,Se.trigger(function(){return Ma(it,void 0,void 0,Object(w.a)().mark(function Mn(){return Object(w.a)().wrap(function(ii){for(;;)switch(ii.prev=ii.next){case 0:Ie.element&&this.showHover(Ie.element);case 1:case"end":return ii.stop()}},Mn,this)}))});case 8:cn.next=14;break;case 10:if(cn.prev=10,cn.t0=cn.catch(5),Object(gn.g)(cn.t0)){cn.next=14;break}throw cn.t0;case 14:case"end":return cn.stop()}},qe,null,[[5,10]])}))})),this.disposables.push(this.list.onMouseOut(function(Ie){var qe;Dt.isAncestor(Ie.browserEvent.relatedTarget,(qe=Ie.element)===null||qe===void 0?void 0:qe.element)||Se.cancel()})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown,Se)}return Object(x.a)(he,[{key:"onDidChangeFocus",get:function(){return _n.c.map(this.list.onDidChangeFocus,function(b){return b.elements.map(function(y){return y.item})})}},{key:"onDidChangeSelection",get:function(){return _n.c.map(this.list.onDidChangeSelection,function(b){return{items:b.elements.map(function(y){return y.item}),event:b.browserEvent}})}},{key:"scrollTop",get:function(){return this.list.scrollTop},set:function(b){this.list.scrollTop=b}},{key:"ariaLabel",get:function(){return this.list.getHTMLElement().ariaLabel},set:function(b){this.list.getHTMLElement().ariaLabel=b}},{key:"getAllVisibleChecked",value:function(){return this.allVisibleChecked(this.elements,!1)}},{key:"allVisibleChecked",value:function(b){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,p=0,M=b.length;p<M;p++){var q=b[p];if(!q.hidden)if(q.checked)y=!0;else return!1}return y}},{key:"getCheckedCount",value:function(){for(var b=0,y=this.elements,p=0,M=y.length;p<M;p++)y[p].checked&&b++;return b}},{key:"getVisibleCount",value:function(){for(var b=0,y=this.elements,p=0,M=y.length;p<M;p++)y[p].hidden||b++;return b}},{key:"setAllVisibleChecked",value:function(b){try{this._fireCheckedEvents=!1,this.elements.forEach(function(y){y.hidden||(y.checked=b)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}},{key:"setElements",value:function(b){var y=this;this.elementDisposables=Object(te.i)(this.elementDisposables);var p=function(Se){return y.fireButtonTriggered(Se)},M=function(Se){return y.fireSeparatorButtonTriggered(Se)};this.inputElements=b,this.elements=b.reduce(function(q,Se,Ie){var qe,it,dt,Jt=Ie&&b[Ie-1],cn=Se.label?Se.label.replace(/\r?\n/g," "):"",Mn=Object(oa.e)(cn).text.trim(),vi,ii,di,$n,ni,sr,mr;Se.type!=="separator"&&(vi=Se.meta&&Se.meta.replace(/\r?\n/g," "),ii=Se.description&&Se.description.replace(/\r?\n/g," "),di=Se.detail&&Se.detail.replace(/\r?\n/g," "),$n=(qe=Se.highlights)===null||qe===void 0?void 0:qe.label,ni=(it=Se.highlights)===null||it===void 0?void 0:it.description,sr=(dt=Se.highlights)===null||dt===void 0?void 0:dt.detail,mr=Se.tooltip);var fr=Se.ariaLabel||[cn,ii,di].map(function(va){return Object(oa.b)(va)}).filter(function(va){return!!va}).join(", "),Xr=y.parent.classList.contains("show-checkboxes"),Vr;if(Se.type==="separator"){if(!Se.buttons)return q;Vr=Se}else Jt&&Jt.type==="separator"&&!Jt.buttons&&(Vr=Jt);var na=new Dd({hasCheckbox:Xr,index:Ie,item:Se.type!=="separator"?Se:void 0,saneLabel:cn,saneSortLabel:Mn,saneMeta:vi,saneAriaLabel:fr,saneDescription:ii,saneDetail:di,saneTooltip:mr,labelHighlights:$n,descriptionHighlights:ni,detailHighlights:sr,checked:!1,separator:Vr,fireButtonTriggered:p,fireSeparatorButtonTriggered:M});return y.elementDisposables.push(na),y.elementDisposables.push(na.onChecked(function(){return y.fireCheckedEvents()})),q.push(na),q},[]),this.elementsToIndexes=this.elements.reduce(function(q,Se,Ie){var qe;return q.set((qe=Se.item)!==null&&qe!==void 0?qe:Se.separator,Ie),q},new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}},{key:"getFocusedElements",value:function(){return this.list.getFocusedElements().map(function(b){return b.item})}},{key:"setFocusedElements",value:function(b){var y=this;if(this.list.setFocus(b.filter(function(M){return y.elementsToIndexes.has(M)}).map(function(M){return y.elementsToIndexes.get(M)})),b.length>0){var p=this.list.getFocus()[0];typeof p=="number"&&this.list.reveal(p)}}},{key:"getActiveDescendant",value:function(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}},{key:"setSelectedElements",value:function(b){var y=this;this.list.setSelection(b.filter(function(p){return y.elementsToIndexes.has(p)}).map(function(p){return y.elementsToIndexes.get(p)}))}},{key:"getCheckedElements",value:function(){return this.elements.filter(function(b){return b.checked}).map(function(b){return b.item}).filter(function(b){return!!b})}},{key:"setCheckedElements",value:function(b){try{this._fireCheckedEvents=!1;var y=new Set,p=Object(D.a)(b),M;try{for(p.s();!(M=p.n()).done;){var q=M.value;y.add(q)}}catch(it){p.e(it)}finally{p.f()}var Se=Object(D.a)(this.elements),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value;qe.checked=y.has(qe.item)}}catch(it){Se.e(it)}finally{Se.f()}}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}},{key:"enabled",set:function(b){this.list.getHTMLElement().style.pointerEvents=b?"":"none"}},{key:"focus",value:function(b){if(!!this.list.length){switch(b===No.Second&&this.list.length<2&&(b=No.First),b){case No.First:this.list.scrollTop=0,this.list.focusFirst(void 0,function(q){return!!q.item});break;case No.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,function(q){return!!q.item});break;case No.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,function(q){return!!q.item});break;case No.Next:{this.list.focusNext(void 0,!0,void 0,function(q){return!!q.item});var y=this.list.getFocus()[0];y!==0&&!this.elements[y-1].item&&this.list.firstVisibleIndex>y-1&&this.list.reveal(y-1);break}case No.Previous:{this.list.focusPrevious(void 0,!0,void 0,function(q){return!!q.item});var p=this.list.getFocus()[0];p!==0&&!this.elements[p-1].item&&this.list.firstVisibleIndex>p-1&&this.list.reveal(p-1);break}case No.NextPage:this.list.focusNextPage(void 0,function(q){return!!q.item});break;case No.PreviousPage:this.list.focusPreviousPage(void 0,function(q){return!!q.item});break}var M=this.list.getFocus()[0];typeof M=="number"&&this.list.reveal(M)}}},{key:"clearFocus",value:function(){this.list.setFocus([])}},{key:"domFocus",value:function(){this.list.domFocus()}},{key:"showHover",value:function(b){var y=this,p,M,q;this._lastHover&&!this._lastHover.isDisposed&&((M=(p=this.options.hoverDelegate).onDidHideHover)===null||M===void 0||M.call(p),(q=this._lastHover)===null||q===void 0||q.dispose()),!(!b.element||!b.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:b.saneTooltip,target:b.element,linkHandler:function(Ie){y.options.linkOpenerDelegate(Ie)},showPointer:!0,container:this.container,hoverPosition:1},!1))}},{key:"layout",value:function(b){this.list.getHTMLElement().style.maxHeight=b?"".concat(Math.floor(b/44)*44+6,"px"):"",this.list.layout()}},{key:"filter",value:function(b){var y=this;if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;var p=b;if(b=b.trim(),!b||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(function(Ie){Ie.labelHighlights=void 0,Ie.descriptionHighlights=void 0,Ie.detailHighlights=void 0,Ie.hidden=!1;var qe=Ie.index&&y.inputElements[Ie.index-1];Ie.item&&(Ie.separator=qe&&qe.type==="separator"&&!qe.buttons?qe:void 0)});else{var M;this.elements.forEach(function(Ie){var qe;y.matchOnLabelMode==="fuzzy"?qe=y.matchOnLabel?Object(lo.n)(Object(oa.d)(b,Object(oa.e)(Ie.saneLabel))):void 0:qe=y.matchOnLabel?Object(lo.n)(Qc(p,Object(oa.e)(Ie.saneLabel))):void 0;var it=y.matchOnDescription?Object(lo.n)(Object(oa.d)(b,Object(oa.e)(Ie.saneDescription||""))):void 0,dt=y.matchOnDetail?Object(lo.n)(Object(oa.d)(b,Object(oa.e)(Ie.saneDetail||""))):void 0,Jt=y.matchOnMeta?Object(lo.n)(Object(oa.d)(b,Object(oa.e)(Ie.saneMeta||""))):void 0;if(qe||it||dt||Jt?(Ie.labelHighlights=qe,Ie.descriptionHighlights=it,Ie.detailHighlights=dt,Ie.hidden=!1):(Ie.labelHighlights=void 0,Ie.descriptionHighlights=void 0,Ie.detailHighlights=void 0,Ie.hidden=Ie.item?!Ie.item.alwaysShow:!0),Ie.item?Ie.separator=void 0:Ie.separator&&(Ie.hidden=!0),!y.sortByLabel){var cn=Ie.index&&y.inputElements[Ie.index-1];M=cn&&cn.type==="separator"?cn:M,M&&!Ie.hidden&&(Ie.separator=M,M=void 0)}})}var q=this.elements.filter(function(Ie){return!Ie.hidden});if(this.sortByLabel&&b){var Se=b.toLowerCase();q.sort(function(Ie,qe){return sl(Ie,qe,Se)})}return this.elementsToIndexes=q.reduce(function(Ie,qe,it){var dt;return Ie.set((dt=qe.item)!==null&&dt!==void 0?dt:qe.separator,it),Ie},new Map),this.list.splice(0,this.list.length,q),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(q.length),!0}},{key:"toggleCheckbox",value:function(){try{this._fireCheckedEvents=!1;var b=this.list.getFocusedElements(),y=this.allVisibleChecked(b),p=Object(D.a)(b),M;try{for(p.s();!(M=p.n()).done;){var q=M.value;q.checked=!y}}catch(Se){p.e(Se)}finally{p.f()}}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}},{key:"display",value:function(b){this.container.style.display=b?"":"none"}},{key:"isDisplayed",value:function(){return this.container.style.display!=="none"}},{key:"dispose",value:function(){this.elementDisposables=Object(te.i)(this.elementDisposables),this.disposables=Object(te.i)(this.disposables)}},{key:"fireCheckedEvents",value:function(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}},{key:"fireButtonTriggered",value:function(b){this._onButtonTriggered.fire(b)}},{key:"fireSeparatorButtonTriggered",value:function(b){this._onSeparatorButtonTriggered.fire(b)}},{key:"style",value:function(b){this.list.style(b)}},{key:"toggleHover",value:function(){var b=this,y=this.list.getFocusedElements()[0];if(!!y.saneTooltip){if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}var p=this.list.getFocusedElements()[0];if(!!p){this.showHover(p);var M=new te.c;M.add(this.list.onDidChangeFocus(function(q){q.indexes.length&&b.showHover(q.elements[0])})),this._lastHover&&M.add(this._lastHover),this._toggleHover=M,this.elementDisposables.push(this._toggleHover)}}}}]),he}();Ys([Cd.a],$c.prototype,"onDidChangeFocus",null),Ys([Cd.a],$c.prototype,"onDidChangeSelection",null);function Qc(he,le){var b=le.text,y=le.iconOffsets;if(!y||y.length===0)return Cc(he,b);var p=Object($.K)(b," "),M=b.length-p.length,q=Cc(he,p);if(q){var Se=Object(D.a)(q),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value,it=y[qe.start+M]+M;qe.start+=it,qe.end+=it}}catch(dt){Se.e(dt)}finally{Se.f()}}return q}function Cc(he,le){var b=le.toLowerCase().indexOf(he.toLowerCase());return b!==-1?[{start:b,end:b+he.length}]:null}function sl(he,le,b){var y=he.labelHighlights||[],p=le.labelHighlights||[];return y.length&&!p.length?-1:!y.length&&p.length?1:y.length===0&&p.length===0?0:_d(he.saneSortLabel,le.saneSortLabel,b)}var _l=function(){function he(){Object(C.a)(this,he)}return Object(x.a)(he,[{key:"getWidgetAriaLabel",value:function(){return Object(yn.b)("quickInput","Quick Input")}},{key:"getAriaLabel",value:function(b){var y;return((y=b.separator)===null||y===void 0?void 0:y.label)?"".concat(b.saneAriaLabel,", ").concat(b.separator.label):b.saneAriaLabel}},{key:"getWidgetRole",value:function(){return"listbox"}},{key:"getRole",value:function(b){return b.hasCheckbox?"checkbox":"option"}},{key:"isChecked",value:function(b){if(!!b.hasCheckbox)return{value:b.checked,onDidChange:b.onChecked}}}]),he}(),Ts=function(he,le,b,y){function p(M){return M instanceof b?M:new b(function(q){q(M)})}return new(b||(b=Promise))(function(M,q){function Se(it){try{qe(y.next(it))}catch(dt){q(dt)}}function Ie(it){try{qe(y.throw(it))}catch(dt){q(dt)}}function qe(it){it.done?M(it.value):p(it.value).then(Se,Ie)}qe((y=y.apply(he,le||[])).next())})},Ps=Dt.$,mu={iconClass:ya.a.asClassName(Fa.a.quickInputBack),tooltip:Object(yn.b)("quickInput.back","Back"),handle:-1},wd=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y){var p;return Object(C.a)(this,b),p=le.call(this),p.ui=y,p._widgetUpdated=!1,p.visible=!1,p._enabled=!0,p._busy=!1,p._ignoreFocusOut=!1,p._buttons=[],p.buttonsUpdated=!1,p._toggles=[],p.togglesUpdated=!1,p.noValidationMessage=b.noPromptMessage,p._severity=en.a.Ignore,p.onDidTriggerButtonEmitter=p._register(new _n.b),p.onDidHideEmitter=p._register(new _n.b),p.onDisposeEmitter=p._register(new _n.b),p.visibleDisposables=p._register(new te.c),p.onDidHide=p.onDidHideEmitter.event,p}return Object(x.a)(b,[{key:"title",get:function(){return this._title},set:function(p){this._title=p,this.update()}},{key:"description",get:function(){return this._description},set:function(p){this._description=p,this.update()}},{key:"step",get:function(){return this._steps},set:function(p){this._steps=p,this.update()}},{key:"totalSteps",get:function(){return this._totalSteps},set:function(p){this._totalSteps=p,this.update()}},{key:"enabled",get:function(){return this._enabled},set:function(p){this._enabled=p,this.update()}},{key:"contextKey",get:function(){return this._contextKey},set:function(p){this._contextKey=p,this.update()}},{key:"busy",get:function(){return this._busy},set:function(p){this._busy=p,this.update()}},{key:"ignoreFocusOut",get:function(){return this._ignoreFocusOut},set:function(p){var M=this._ignoreFocusOut!==p&&!Ht.f;this._ignoreFocusOut=p&&!Ht.f,M&&this.update()}},{key:"buttons",get:function(){return this._buttons},set:function(p){this._buttons=p,this.buttonsUpdated=!0,this.update()}},{key:"toggles",get:function(){return this._toggles},set:function(p){this._toggles=p!=null?p:[],this.togglesUpdated=!0,this.update()}},{key:"validationMessage",get:function(){return this._validationMessage},set:function(p){this._validationMessage=p,this.update()}},{key:"severity",get:function(){return this._severity},set:function(p){this._severity=p,this.update()}},{key:"show",value:function(){var p=this;this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(function(M){p.buttons.indexOf(M)!==-1&&p.onDidTriggerButtonEmitter.fire(M)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}},{key:"hide",value:function(){!this.visible||this.ui.hide()}},{key:"didHide",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Os.d.Other;this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:p})}},{key:"update",value:function(){var p=this,M,q;if(!!this.visible){var Se=this.getTitle();Se&&this.ui.title.textContent!==Se?this.ui.title.textContent=Se:!Se&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");var Ie=this.getDescription();if(this.ui.description1.textContent!==Ie&&(this.ui.description1.textContent=Ie),this.ui.description2.textContent!==Ie&&(this.ui.description2.textContent=Ie),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Dt.reset(this.ui.widget,this._widget):Dt.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new nt.i,this.busyDelay.setIfNotSet(function(){p.visible&&p.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();var qe=this.buttons.filter(function(cn){return cn===mu});this.ui.leftActionBar.push(qe.map(function(cn,Mn){var vi=new oo.a("id-".concat(Mn),"",cn.iconClass||Nl(cn.iconPath),!0,function(){return Ts(p,void 0,void 0,Object(w.a)().mark(function ii(){return Object(w.a)().wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:this.onDidTriggerButtonEmitter.fire(cn);case 1:case"end":return $n.stop()}},ii,this)}))});return vi.tooltip=cn.tooltip||"",vi}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();var it=this.buttons.filter(function(cn){return cn!==mu});this.ui.rightActionBar.push(it.map(function(cn,Mn){var vi=new oo.a("id-".concat(Mn),"",cn.iconClass||Nl(cn.iconPath),!0,function(){return Ts(p,void 0,void 0,Object(w.a)().mark(function ii(){return Object(w.a)().wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:this.onDidTriggerButtonEmitter.fire(cn);case 1:case"end":return $n.stop()}},ii,this)}))});return vi.tooltip=cn.tooltip||"",vi}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;var dt=(q=(M=this.toggles)===null||M===void 0?void 0:M.filter(function(cn){return cn instanceof Qs.a}))!==null&&q!==void 0?q:[];this.ui.inputBox.toggles=dt}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);var Jt=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==Jt&&(this._lastValidationMessage=Jt,Dt.reset(this.ui.message),kd(Jt,this.ui.message,{callback:function(Mn){p.ui.linkOpenerDelegate(Mn)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}}},{key:"getTitle",value:function(){return this.title&&this.step?"".concat(this.title," (").concat(this.getSteps(),")"):this.title?this.title:this.step?this.getSteps():""}},{key:"getDescription",value:function(){return this.description||""}},{key:"getSteps",value:function(){return this.step&&this.totalSteps?Object(yn.b)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}},{key:"showMessageDecoration",value:function(p){if(this.ui.inputBox.showDecoration(p),p!==en.a.Ignore){var M=this.ui.inputBox.stylesForType(p);this.ui.message.style.color=M.foreground?"".concat(M.foreground):"",this.ui.message.style.backgroundColor=M.background?"".concat(M.background):"",this.ui.message.style.border=M.border?"1px solid ".concat(M.border):"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}},{key:"dispose",value:function(){this.hide(),this.onDisposeEmitter.fire(),Object(Je.a)(Object(ft.a)(b.prototype),"dispose",this).call(this)}}]),b}(te.a);wd.noPromptMessage=Object(yn.b)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");var Au=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(){var y;return Object(C.a)(this,b),y=le.apply(this,arguments),y._value="",y.onDidChangeValueEmitter=y._register(new _n.b),y.onWillAcceptEmitter=y._register(new _n.b),y.onDidAcceptEmitter=y._register(new _n.b),y.onDidCustomEmitter=y._register(new _n.b),y._items=[],y.itemsUpdated=!1,y._canSelectMany=!1,y._canAcceptInBackground=!1,y._matchOnDescription=!1,y._matchOnDetail=!1,y._matchOnLabel=!0,y._matchOnLabelMode="fuzzy",y._sortByLabel=!0,y._autoFocusOnList=!0,y._keepScrollPosition=!1,y._itemActivation=Os.b.FIRST,y._activeItems=[],y.activeItemsUpdated=!1,y.activeItemsToConfirm=[],y.onDidChangeActiveEmitter=y._register(new _n.b),y._selectedItems=[],y.selectedItemsUpdated=!1,y.selectedItemsToConfirm=[],y.onDidChangeSelectionEmitter=y._register(new _n.b),y.onDidTriggerItemButtonEmitter=y._register(new _n.b),y.onDidTriggerSeparatorButtonEmitter=y._register(new _n.b),y.valueSelectionUpdated=!0,y._ok="default",y._customButton=!1,y.filterValue=function(p){return p},y.onDidChangeValue=y.onDidChangeValueEmitter.event,y.onWillAccept=y.onWillAcceptEmitter.event,y.onDidAccept=y.onDidAcceptEmitter.event,y.onDidChangeActive=y.onDidChangeActiveEmitter.event,y.onDidChangeSelection=y.onDidChangeSelectionEmitter.event,y.onDidTriggerItemButton=y.onDidTriggerItemButtonEmitter.event,y.onDidTriggerSeparatorButton=y.onDidTriggerSeparatorButtonEmitter.event,y}return Object(x.a)(b,[{key:"quickNavigate",get:function(){return this._quickNavigate},set:function(p){this._quickNavigate=p,this.update()}},{key:"value",get:function(){return this._value},set:function(p){this.doSetValue(p)}},{key:"doSetValue",value:function(p,M){if(this._value!==p){if(this._value=p,M||this.update(),this.visible){var q=this.ui.list.filter(this.filterValue(this._value));q&&this.trySelectFirst()}this.onDidChangeValueEmitter.fire(this._value)}}},{key:"ariaLabel",get:function(){return this._ariaLabel},set:function(p){this._ariaLabel=p,this.update()}},{key:"placeholder",get:function(){return this._placeholder},set:function(p){this._placeholder=p,this.update()}},{key:"items",get:function(){return this._items},set:function(p){this._items=p,this.itemsUpdated=!0,this.update()}},{key:"scrollTop",get:function(){return this.ui.list.scrollTop},set:function(p){this.ui.list.scrollTop=p}},{key:"canSelectMany",get:function(){return this._canSelectMany},set:function(p){this._canSelectMany=p,this.update()}},{key:"canAcceptInBackground",get:function(){return this._canAcceptInBackground},set:function(p){this._canAcceptInBackground=p}},{key:"matchOnDescription",get:function(){return this._matchOnDescription},set:function(p){this._matchOnDescription=p,this.update()}},{key:"matchOnDetail",get:function(){return this._matchOnDetail},set:function(p){this._matchOnDetail=p,this.update()}},{key:"matchOnLabel",get:function(){return this._matchOnLabel},set:function(p){this._matchOnLabel=p,this.update()}},{key:"matchOnLabelMode",get:function(){return this._matchOnLabelMode},set:function(p){this._matchOnLabelMode=p,this.update()}},{key:"sortByLabel",get:function(){return this._sortByLabel},set:function(p){this._sortByLabel=p,this.update()}},{key:"autoFocusOnList",get:function(){return this._autoFocusOnList},set:function(p){this._autoFocusOnList=p,this.update()}},{key:"keepScrollPosition",get:function(){return this._keepScrollPosition},set:function(p){this._keepScrollPosition=p}},{key:"itemActivation",get:function(){return this._itemActivation},set:function(p){this._itemActivation=p}},{key:"activeItems",get:function(){return this._activeItems},set:function(p){this._activeItems=p,this.activeItemsUpdated=!0,this.update()}},{key:"selectedItems",get:function(){return this._selectedItems},set:function(p){this._selectedItems=p,this.selectedItemsUpdated=!0,this.update()}},{key:"keyMods",get:function(){return this._quickNavigate?Os.c:this.ui.keyMods}},{key:"valueSelection",set:function(p){this._valueSelection=p,this.valueSelectionUpdated=!0,this.update()}},{key:"customButton",get:function(){return this._customButton},set:function(p){this._customButton=p,this.update()}},{key:"customLabel",get:function(){return this._customButtonLabel},set:function(p){this._customButtonLabel=p,this.update()}},{key:"customHover",get:function(){return this._customButtonHover},set:function(p){this._customButtonHover=p,this.update()}},{key:"ok",get:function(){return this._ok},set:function(p){this._ok=p,this.update()}},{key:"hideInput",get:function(){return!!this._hideInput},set:function(p){this._hideInput=p,this.update()}},{key:"trySelectFirst",value:function(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(No.First))}},{key:"show",value:function(){var p=this;this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(function(M){p.doSetValue(M,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(function(M){p.autoFocusOnList||p.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(function(M){switch(M.keyCode){case 18:p.ui.list.focus(No.Next),p.canSelectMany&&p.ui.list.domFocus(),Dt.EventHelper.stop(M,!0);break;case 16:p.ui.list.getFocusedElements().length?p.ui.list.focus(No.Previous):p.ui.list.focus(No.Last),p.canSelectMany&&p.ui.list.domFocus(),Dt.EventHelper.stop(M,!0);break;case 12:p.ui.list.focus(No.NextPage),p.canSelectMany&&p.ui.list.domFocus(),Dt.EventHelper.stop(M,!0);break;case 11:p.ui.list.focus(No.PreviousPage),p.canSelectMany&&p.ui.list.domFocus(),Dt.EventHelper.stop(M,!0);break;case 17:if(!p._canAcceptInBackground||!p.ui.inputBox.isSelectionAtEnd())return;p.activeItems[0]&&(p._selectedItems=[p.activeItems[0]],p.onDidChangeSelectionEmitter.fire(p.selectedItems),p.handleAccept(!0));break;case 14:(M.ctrlKey||M.metaKey)&&!M.shiftKey&&!M.altKey&&(p.ui.list.focus(No.First),Dt.EventHelper.stop(M,!0));break;case 13:(M.ctrlKey||M.metaKey)&&!M.shiftKey&&!M.altKey&&(p.ui.list.focus(No.Last),Dt.EventHelper.stop(M,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(function(){p.canSelectMany?p.ui.list.getCheckedElements().length||(p._selectedItems=[],p.onDidChangeSelectionEmitter.fire(p.selectedItems)):p.activeItems[0]&&(p._selectedItems=[p.activeItems[0]],p.onDidChangeSelectionEmitter.fire(p.selectedItems)),p.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(function(){p.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(function(M){p.activeItemsUpdated||p.activeItemsToConfirm!==p._activeItems&&Object(Go.j)(M,p._activeItems,function(q,Se){return q===Se})||(p._activeItems=M,p.onDidChangeActiveEmitter.fire(M))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(function(M){var q=M.items,Se=M.event;if(p.canSelectMany){q.length&&p.ui.list.setSelectedElements([]);return}p.selectedItemsToConfirm!==p._selectedItems&&Object(Go.j)(q,p._selectedItems,function(Ie,qe){return Ie===qe})||(p._selectedItems=q,p.onDidChangeSelectionEmitter.fire(q),q.length&&p.handleAccept(Se instanceof MouseEvent&&Se.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(function(M){!p.canSelectMany||p.selectedItemsToConfirm!==p._selectedItems&&Object(Go.j)(M,p._selectedItems,function(q,Se){return q===Se})||(p._selectedItems=M,p.onDidChangeSelectionEmitter.fire(M))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(function(M){return p.onDidTriggerItemButtonEmitter.fire(M)})),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(function(M){return p.onDidTriggerSeparatorButtonEmitter.fire(M)})),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),Object(Je.a)(Object(ft.a)(b.prototype),"show",this).call(this)}},{key:"handleAccept",value:function(p){var M=!1;this.onWillAcceptEmitter.fire({veto:function(){return M=!0}}),M||this.onDidAcceptEmitter.fire({inBackground:p})}},{key:"registerQuickNavigation",value:function(){var p=this;return Dt.addDisposableListener(this.ui.container,Dt.EventType.KEY_UP,function(M){if(!(p.canSelectMany||!p._quickNavigate)){var q=new $i.a(M),Se=q.keyCode,Ie=p._quickNavigate.keybindings,qe=Ie.some(function(it){var dt=it.getChords();return dt.length>1?!1:dt[0].shiftKey&&Se===4?!(q.ctrlKey||q.altKey||q.metaKey):!!(dt[0].altKey&&Se===6||dt[0].ctrlKey&&Se===5||dt[0].metaKey&&Se===57)});qe&&(p.activeItems[0]&&(p._selectedItems=[p.activeItems[0]],p.onDidChangeSelectionEmitter.fire(p.selectedItems),p.handleAccept(!1)),p._quickNavigate=void 0)}})}},{key:"update",value:function(){if(!!this.visible){var p=this.keepScrollPosition?this.scrollTop:0,M=!!this.description,q={title:!!this.title||!!this.step||!!this.buttons.length,description:M,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||M,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(q),Object(Je.a)(Object(ft.a)(b.prototype),"update",this).call(this),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");var Se=this.ariaLabel;if(!Se&&q.inputBox&&(Se=this.placeholder||b.DEFAULT_ARIA_LABEL,this.title&&(Se+=" - ".concat(this.title))),this.ui.list.ariaLabel!==Se&&(this.ui.list.ariaLabel=Object(lo.o)(Se)),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Os.b.NONE:this._itemActivation=Os.b.FIRST;break;case Os.b.SECOND:this.ui.list.focus(No.Second),this._itemActivation=Os.b.FIRST;break;case Os.b.LAST:this.ui.list.focus(No.Last),this._itemActivation=Os.b.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",q.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(No.First)),this.keepScrollPosition&&(this.scrollTop=p)}}}]),b}(wd);Au.DEFAULT_ARIA_LABEL=Object(yn.b)("quickInputBox.ariaLabel","Type to narrow down results.");var ih=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(){var y;return Object(C.a)(this,b),y=le.apply(this,arguments),y._value="",y.valueSelectionUpdated=!0,y._password=!1,y.onDidValueChangeEmitter=y._register(new _n.b),y.onDidAcceptEmitter=y._register(new _n.b),y.onDidChangeValue=y.onDidValueChangeEmitter.event,y.onDidAccept=y.onDidAcceptEmitter.event,y}return Object(x.a)(b,[{key:"value",get:function(){return this._value},set:function(p){this._value=p||"",this.update()}},{key:"placeholder",get:function(){return this._placeholder},set:function(p){this._placeholder=p,this.update()}},{key:"password",get:function(){return this._password},set:function(p){this._password=p,this.update()}},{key:"show",value:function(){var p=this;this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(function(M){M!==p.value&&(p._value=M,p.onDidValueChangeEmitter.fire(M))})),this.visibleDisposables.add(this.ui.onDidAccept(function(){return p.onDidAcceptEmitter.fire()})),this.valueSelectionUpdated=!0),Object(Je.a)(Object(ft.a)(b.prototype),"show",this).call(this)}},{key:"update",value:function(){if(!!this.visible){this.ui.container.classList.remove("hidden-input");var p={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0};this.ui.setVisibilities(p),Object(Je.a)(Object(ft.a)(b.prototype),"update",this).call(this),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}}]),b}(wd),wo=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y){var p;return Object(C.a)(this,b),p=le.call(this),p.options=y,p.enabled=!0,p.onDidAcceptEmitter=p._register(new _n.b),p.onDidCustomEmitter=p._register(new _n.b),p.onDidTriggerButtonEmitter=p._register(new _n.b),p.keyMods={ctrlCmd:!1,alt:!1},p.controller=null,p.onShowEmitter=p._register(new _n.b),p.onShow=p.onShowEmitter.event,p.onHideEmitter=p._register(new _n.b),p.onHide=p.onHideEmitter.event,p.idPrefix=y.idPrefix,p.parentElement=y.container,p.styles=y.styles,p.registerKeyModsListeners(),p}return Object(x.a)(b,[{key:"registerKeyModsListeners",value:function(){var p=this,M=function(Se){p.keyMods.ctrlCmd=Se.ctrlKey||Se.metaKey,p.keyMods.alt=Se.altKey};this._register(Dt.addDisposableListener(window,Dt.EventType.KEY_DOWN,M,!0)),this._register(Dt.addDisposableListener(window,Dt.EventType.KEY_UP,M,!0)),this._register(Dt.addDisposableListener(window,Dt.EventType.MOUSE_DOWN,M,!0))}},{key:"getUI",value:function(){var p=this;if(this.ui)return this.ui;var M=Dt.append(this.parentElement,Ps(".quick-input-widget.show-file-icons"));M.tabIndex=-1,M.style.display="none";var q=Dt.createStyleSheet(M),Se=Dt.append(M,Ps(".quick-input-titlebar")),Ie=this._register(new _s.a(Se));Ie.domNode.classList.add("quick-input-left-action-bar");var qe=Dt.append(Se,Ps(".quick-input-title")),it=this._register(new _s.a(Se));it.domNode.classList.add("quick-input-right-action-bar");var dt=Dt.append(M,Ps(".quick-input-description")),Jt=Dt.append(M,Ps(".quick-input-header")),cn=Dt.append(Jt,Ps("input.quick-input-check-all"));cn.type="checkbox",cn.setAttribute("aria-label",Object(yn.b)("quickInput.checkAll","Toggle all checkboxes")),this._register(Dt.addStandardDisposableListener(cn,Dt.EventType.CHANGE,function(ga){var ea=cn.checked;Za.setAllVisibleChecked(ea)})),this._register(Dt.addDisposableListener(cn,Dt.EventType.CLICK,function(ga){(ga.x||ga.y)&&di.setFocus()}));var Mn=Dt.append(Jt,Ps(".quick-input-description")),vi=Dt.append(Jt,Ps(".quick-input-and-message")),ii=Dt.append(vi,Ps(".quick-input-filter")),di=this._register(new ol(ii,this.styles.inputBox,this.styles.toggle));di.setAttribute("aria-describedby","".concat(this.idPrefix,"message"));var $n=Dt.append(ii,Ps(".quick-input-visible-count"));$n.setAttribute("aria-live","polite"),$n.setAttribute("aria-atomic","true");var ni=new Uc.a($n,{countFormat:Object(yn.b)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),sr=Dt.append(ii,Ps(".quick-input-count"));sr.setAttribute("aria-live","polite");var mr=new Uc.a(sr,{countFormat:Object(yn.b)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),fr=Dt.append(Jt,Ps(".quick-input-action")),Xr=new Al.a(fr,this.styles.button);Xr.label=Object(yn.b)("ok","OK"),this._register(Xr.onDidClick(function(ga){p.onDidAcceptEmitter.fire()}));var Vr=Dt.append(Jt,Ps(".quick-input-action")),na=new Al.a(Vr,this.styles.button);na.label=Object(yn.b)("custom","Custom"),this._register(na.onDidClick(function(ga){p.onDidCustomEmitter.fire()}));var va=Dt.append(vi,Ps("#".concat(this.idPrefix,"message.quick-input-message"))),Ta=new bd(M,this.styles.progressBar);Ta.getContainer().classList.add("quick-input-progress");var io=Dt.append(M,Ps(".quick-input-html-widget"));io.tabIndex=-1;var bs=this.idPrefix+"list",Za=this._register(new $c(M,bs,this.options));di.setAttribute("aria-controls",bs),this._register(Za.onDidChangeFocus(function(){var ga;di.setAttribute("aria-activedescendant",(ga=Za.getActiveDescendant())!==null&&ga!==void 0?ga:"")})),this._register(Za.onChangedAllVisibleChecked(function(ga){cn.checked=ga})),this._register(Za.onChangedVisibleCount(function(ga){ni.setCount(ga)})),this._register(Za.onChangedCheckedCount(function(ga){mr.setCount(ga)})),this._register(Za.onLeave(function(){setTimeout(function(){di.setFocus(),p.controller instanceof Au&&p.controller.canSelectMany&&Za.clearFocus()},0)}));var Na=Dt.trackFocus(M);return this._register(Na),this._register(Dt.addDisposableListener(M,Dt.EventType.FOCUS,function(ga){p.previousFocusElement=ga.relatedTarget instanceof HTMLElement?ga.relatedTarget:void 0},!0)),this._register(Na.onDidBlur(function(){!p.getUI().ignoreFocusOut&&!p.options.ignoreFocusOut()&&p.hide(Os.d.Blur),p.previousFocusElement=void 0})),this._register(Dt.addDisposableListener(M,Dt.EventType.FOCUS,function(ga){di.setFocus()})),this._register(Dt.addDisposableListener(M,Dt.EventType.KEY_DOWN,function(ga){var ea=new $i.a(ga);switch(ea.keyCode){case 3:Dt.EventHelper.stop(ga,!0),p.enabled&&p.onDidAcceptEmitter.fire();break;case 9:Dt.EventHelper.stop(ga,!0),p.hide(Os.d.Gesture);break;case 2:if(!ea.altKey&&!ea.ctrlKey&&!ea.metaKey){var Ga=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(M.classList.contains("show-checkboxes")?Ga.push("input"):Ga.push("input[type=text]"),p.getUI().list.isDisplayed()&&Ga.push(".monaco-list"),p.getUI().message&&Ga.push(".quick-input-message a"),p.getUI().widget){if(Dt.isAncestor(ea.target,p.getUI().widget))break;Ga.push(".quick-input-html-widget")}var Io=M.querySelectorAll(Ga.join(", "));ea.shiftKey&&ea.target===Io[0]?(Dt.EventHelper.stop(ga,!0),Za.clearFocus()):!ea.shiftKey&&Dt.isAncestor(ea.target,Io[Io.length-1])&&(Dt.EventHelper.stop(ga,!0),Io[0].focus())}break;case 10:ea.ctrlKey&&(Dt.EventHelper.stop(ga,!0),p.getUI().list.toggleHover());break}})),this.ui={container:M,styleSheet:q,leftActionBar:Ie,titleBar:Se,title:qe,description1:dt,description2:Mn,widget:io,rightActionBar:it,checkAll:cn,filterContainer:ii,inputBox:di,visibleCountContainer:$n,visibleCount:ni,countContainer:sr,count:mr,okContainer:fr,ok:Xr,message:va,customButtonContainer:Vr,customButton:na,list:Za,progressBar:Ta,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:function(ea){return p.show(ea)},hide:function(){return p.hide()},setVisibilities:function(ea){return p.setVisibilities(ea)},setEnabled:function(ea){return p.setEnabled(ea)},setContextKey:function(ea){return p.options.setContextKey(ea)},linkOpenerDelegate:function(ea){return p.options.linkOpenerDelegate(ea)}},this.updateStyles(),this.ui}},{key:"pick",value:function(p){var M=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ns.a.None;return new Promise(function(Ie,qe){var it=function(vi){var ii;it=Ie,(ii=q.onKeyMods)===null||ii===void 0||ii.call(q,dt.keyMods),Ie(vi)};if(Se.isCancellationRequested){it(void 0);return}var dt=M.createQuickPick(),Jt,cn=[dt,dt.onDidAccept(function(){if(dt.canSelectMany)it(dt.selectedItems.slice()),dt.hide();else{var Mn=dt.activeItems[0];Mn&&(it(Mn),dt.hide())}}),dt.onDidChangeActive(function(Mn){var vi=Mn[0];vi&&q.onDidFocus&&q.onDidFocus(vi)}),dt.onDidChangeSelection(function(Mn){if(!dt.canSelectMany){var vi=Mn[0];vi&&(it(vi),dt.hide())}}),dt.onDidTriggerItemButton(function(Mn){return q.onDidTriggerItemButton&&q.onDidTriggerItemButton(Object.assign(Object.assign({},Mn),{removeItem:function(){var ii=dt.items.indexOf(Mn.item);if(ii!==-1){var di=dt.items.slice(),$n=di.splice(ii,1),ni=dt.activeItems.filter(function(mr){return mr!==$n[0]}),sr=dt.keepScrollPosition;dt.keepScrollPosition=!0,dt.items=di,ni&&(dt.activeItems=ni),dt.keepScrollPosition=sr}}}))}),dt.onDidTriggerSeparatorButton(function(Mn){var vi;return(vi=q.onDidTriggerSeparatorButton)===null||vi===void 0?void 0:vi.call(q,Mn)}),dt.onDidChangeValue(function(Mn){Jt&&!Mn&&(dt.activeItems.length!==1||dt.activeItems[0]!==Jt)&&(dt.activeItems=[Jt])}),Se.onCancellationRequested(function(){dt.hide()}),dt.onDidHide(function(){Object(te.i)(cn),it(void 0)})];dt.title=q.title,dt.canSelectMany=!!q.canPickMany,dt.placeholder=q.placeHolder,dt.ignoreFocusOut=!!q.ignoreFocusLost,dt.matchOnDescription=!!q.matchOnDescription,dt.matchOnDetail=!!q.matchOnDetail,dt.matchOnLabel=q.matchOnLabel===void 0||q.matchOnLabel,dt.autoFocusOnList=q.autoFocusOnList===void 0||q.autoFocusOnList,dt.quickNavigate=q.quickNavigate,dt.hideInput=!!q.hideInput,dt.contextKey=q.contextKey,dt.busy=!0,Promise.all([p,q.activeItem]).then(function(Mn){var vi=Object(an.a)(Mn,2),ii=vi[0],di=vi[1];Jt=di,dt.busy=!1,dt.items=ii,dt.canSelectMany&&(dt.selectedItems=ii.filter(function($n){return $n.type!=="separator"&&$n.picked})),Jt&&(dt.activeItems=[Jt])}),dt.show(),Promise.resolve(p).then(void 0,function(Mn){qe(Mn),dt.hide()})})}},{key:"createQuickPick",value:function(){var p=this.getUI();return new Au(p)}},{key:"createInputBox",value:function(){var p=this.getUI();return new ih(p)}},{key:"show",value:function(p){var M=this.getUI();this.onShowEmitter.fire();var q=this.controller;this.controller=p,q==null||q.didHide(),this.setEnabled(!0),M.leftActionBar.clear(),M.title.textContent="",M.description1.textContent="",M.description2.textContent="",Dt.reset(M.widget),M.rightActionBar.clear(),M.checkAll.checked=!1,M.inputBox.placeholder="",M.inputBox.password=!1,M.inputBox.showDecoration(en.a.Ignore),M.visibleCount.setCount(0),M.count.setCount(0),Dt.reset(M.message),M.progressBar.stop(),M.list.setElements([]),M.list.matchOnDescription=!1,M.list.matchOnDetail=!1,M.list.matchOnLabel=!0,M.list.sortByLabel=!0,M.ignoreFocusOut=!1,M.inputBox.toggles=void 0;var Se=this.options.backKeybindingLabel();mu.tooltip=Se?Object(yn.b)("quickInput.backWithKeybinding","Back ({0})",Se):Object(yn.b)("quickInput.back","Back"),M.container.style.display="",this.updateLayout(),M.inputBox.setFocus()}},{key:"setVisibilities",value:function(p){var M=this.getUI();M.title.style.display=p.title?"":"none",M.description1.style.display=p.description&&(p.inputBox||p.checkAll)?"":"none",M.description2.style.display=p.description&&!(p.inputBox||p.checkAll)?"":"none",M.checkAll.style.display=p.checkAll?"":"none",M.filterContainer.style.display=p.inputBox?"":"none",M.visibleCountContainer.style.display=p.visibleCount?"":"none",M.countContainer.style.display=p.count?"":"none",M.okContainer.style.display=p.ok?"":"none",M.customButtonContainer.style.display=p.customButton?"":"none",M.message.style.display=p.message?"":"none",M.progressBar.getContainer().style.display=p.progressBar?"":"none",M.list.display(!!p.list),M.container.classList.toggle("show-checkboxes",!!p.checkBox),M.container.classList.toggle("hidden-input",!p.inputBox&&!p.description),this.updateLayout()}},{key:"setEnabled",value:function(p){if(p!==this.enabled){this.enabled=p;var M=Object(D.a)(this.getUI().leftActionBar.viewItems),q;try{for(M.s();!(q=M.n()).done;){var Se=q.value;Se.action.enabled=p}}catch(dt){M.e(dt)}finally{M.f()}var Ie=Object(D.a)(this.getUI().rightActionBar.viewItems),qe;try{for(Ie.s();!(qe=Ie.n()).done;){var it=qe.value;it.action.enabled=p}}catch(dt){Ie.e(dt)}finally{Ie.f()}this.getUI().checkAll.disabled=!p,this.getUI().inputBox.enabled=p,this.getUI().ok.enabled=p,this.getUI().list.enabled=p}}},{key:"hide",value:function(p){var M,q=this.controller;if(q){var Se=!((M=this.ui)===null||M===void 0?void 0:M.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!Se){for(var Ie=this.previousFocusElement;Ie&&!Ie.offsetParent;)Ie=Object(lo.n)(Ie.parentElement);(Ie==null?void 0:Ie.offsetParent)?(Ie.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}q.didHide(p)}}},{key:"layout",value:function(p,M){this.dimension=p,this.titleBarOffset=M,this.updateLayout()}},{key:"updateLayout",value:function(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top="".concat(this.titleBarOffset,"px");var p=this.ui.container.style,M=Math.min(this.dimension.width*.62,b.MAX_WIDTH);p.width=M+"px",p.marginLeft="-"+M/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}},{key:"applyStyles",value:function(p){this.styles=p,this.updateStyles()}},{key:"updateStyles",value:function(){if(this.ui){var p=this.styles.widget,M=p.quickInputTitleBackground,q=p.quickInputBackground,Se=p.quickInputForeground,Ie=p.widgetBorder,qe=p.widgetShadow;this.ui.titleBar.style.backgroundColor=M!=null?M:"",this.ui.container.style.backgroundColor=q!=null?q:"",this.ui.container.style.color=Se!=null?Se:"",this.ui.container.style.border=Ie?"1px solid ".concat(Ie):"",this.ui.container.style.boxShadow=qe?"0 0 8px 2px ".concat(qe):"",this.ui.list.style(this.styles.list);var it=[];this.styles.pickerGroup.pickerGroupBorder&&it.push(".quick-input-list .quick-input-list-entry { border-top-color:  ".concat(this.styles.pickerGroup.pickerGroupBorder,"; }")),this.styles.pickerGroup.pickerGroupForeground&&it.push(".quick-input-list .quick-input-list-separator { color:  ".concat(this.styles.pickerGroup.pickerGroupForeground,"; }")),this.styles.pickerGroup.pickerGroupForeground&&it.push(".quick-input-list .quick-input-list-separator-as-item { color:  ".concat(this.styles.pickerGroup.pickerGroupForeground,"; }")),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(it.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&it.push("background-color: ".concat(this.styles.keybindingLabel.keybindingLabelBackground,";")),this.styles.keybindingLabel.keybindingLabelBorder&&it.push("border-color: ".concat(this.styles.keybindingLabel.keybindingLabelBorder,";")),this.styles.keybindingLabel.keybindingLabelBottomBorder&&it.push("border-bottom-color: ".concat(this.styles.keybindingLabel.keybindingLabelBottomBorder,";")),this.styles.keybindingLabel.keybindingLabelShadow&&it.push("box-shadow: inset 0 -1px 0 ".concat(this.styles.keybindingLabel.keybindingLabelShadow,";")),this.styles.keybindingLabel.keybindingLabelForeground&&it.push("color: ".concat(this.styles.keybindingLabel.keybindingLabelForeground,";")),it.push("}"));var dt=it.join(`
`);dt!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=dt)}}},{key:"isDisplayed",value:function(){return this.ui&&this.ui.container.style.display!=="none"}}]),b}(te.a);wo.MAX_WIDTH=600;var rh=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Oc=function(he,le){return function(b,y){le(b,y,he)}},ec=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q){var Se;return Object(C.a)(this,b),Se=le.call(this,M),Se.instantiationService=y,Se.contextKeyService=p,Se.layoutService=q,Se._onShow=Se._register(new _n.b),Se._onHide=Se._register(new _n.b),Se.contexts=new Map,Se}return Object(x.a)(b,[{key:"controller",get:function(){return this._controller||(this._controller=this._register(this.createController())),this._controller}},{key:"hasController",get:function(){return!!this._controller}},{key:"quickAccess",get:function(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Iu))),this._quickAccess}},{key:"createController",value:function(){var p=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.layoutService,q=arguments.length>1?arguments[1]:void 0,Se={idPrefix:"quickInput_",container:M.container,ignoreFocusOut:function(){return!1},backKeybindingLabel:function(){},setContextKey:function(it){return p.setContextKey(it)},linkOpenerDelegate:function(it){p.instantiationService.invokeFunction(function(dt){var Jt=dt.get(Tl.a);Jt.open(it,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:function(){return M.focus()},createList:function(it,dt,Jt,cn,Mn){return p.instantiationService.createInstance(al.d,it,dt,Jt,cn,Mn)},hoverDelegate:{showHover:function(it,dt){},delay:200},styles:this.computeStyles()},Ie=this._register(new wo(Object.assign(Object.assign({},Se),q)));return Ie.layout(M.dimension,M.offset.quickPickTop),this._register(M.onDidLayout(function(qe){return Ie.layout(qe,M.offset.quickPickTop)})),this._register(Ie.onShow(function(){p.resetContextKeys(),p._onShow.fire()})),this._register(Ie.onHide(function(){p.resetContextKeys(),p._onHide.fire()})),Ie}},{key:"setContextKey",value:function(p){var M;p&&(M=this.contexts.get(p),M||(M=new yi.c(p,!1).bindTo(this.contextKeyService),this.contexts.set(p,M))),!(M&&M.get())&&(this.resetContextKeys(),M==null||M.set(!0))}},{key:"resetContextKeys",value:function(){this.contexts.forEach(function(p){p.get()&&p.reset()})}},{key:"pick",value:function(p){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ns.a.None;return this.controller.pick(p,M,q)}},{key:"createQuickPick",value:function(){return this.controller.createQuickPick()}},{key:"createInputBox",value:function(){return this.controller.createInputBox()}},{key:"updateStyles",value:function(){this.hasController&&this.controller.applyStyles(this.computeStyles())}},{key:"computeStyles",value:function(){return{widget:{quickInputBackground:Object(ia.c)(ia.zc),quickInputForeground:Object(ia.c)(ia.Ac),quickInputTitleBackground:Object(ia.c)(ia.Ec),widgetBorder:Object(ia.c)(ia.Vc),widgetShadow:Object(ia.c)(ia.Wc)},inputBox:Rs.d,toggle:Rs.j,countBadge:Rs.b,button:Rs.a,progressBar:Rs.h,keybindingLabel:Rs.e,list:Object(Rs.k)({listBackground:ia.zc,listFocusBackground:ia.Bc,listFocusForeground:ia.Cc,listInactiveFocusForeground:ia.Cc,listInactiveSelectionIconForeground:ia.Dc,listInactiveFocusBackground:ia.Bc,listFocusOutline:ia.b,listInactiveFocusOutline:ia.b}),pickerGroup:{pickerGroupBorder:Object(ia.c)(ia.tc),pickerGroupForeground:Object(ia.c)(ia.uc)}}}}]),b}(ei.c);ec=rh([Oc(0,ai.a),Oc(1,yi.b),Oc(2,ei.b),Oc(3,dn)],ec);var Yc=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Jl=function(he,le){return function(b,y){le(b,y,he)}},Cl=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q,Se){var Ie;Object(C.a)(this,b),Ie=le.call(this,p,M,q,new Dn(y.getContainerDomNode(),Se)),Ie.host=void 0;var qe=Zc.get(y);if(qe){var it=qe.widget;Ie.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return it.getDomNode()},get dimension(){return y.getLayoutInfo()},get onDidLayout(){return y.onDidLayoutChange},focus:function(){return y.focus()},offset:{top:0,quickPickTop:0}}}else Ie.host=void 0;return Ie}return Object(x.a)(b,[{key:"createController",value:function(){return Object(Je.a)(Object(ft.a)(b.prototype),"createController",this).call(this,this.host)}}]),b}(ec);Cl=Yc([Jl(1,ai.a),Jl(2,yi.b),Jl(3,ei.b),Jl(4,E.a)],Cl);var tc=function(){function he(le,b){Object(C.a)(this,he),this.instantiationService=le,this.codeEditorService=b,this.mapEditorToService=new Map}return Object(x.a)(he,[{key:"activeService",get:function(){var b=this,y=this.codeEditorService.getFocusedCodeEditor();if(!y)throw new Error("Quick input service needs a focused editor to work.");var p=this.mapEditorToService.get(y);if(!p){var M=p=this.instantiationService.createInstance(Cl,y);this.mapEditorToService.set(y,p),Object(Mu.a)(y.onDidDispose)(function(){M.dispose(),b.mapEditorToService.delete(y)})}return p}},{key:"quickAccess",get:function(){return this.activeService.quickAccess}},{key:"pick",value:function(b){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ns.a.None;return this.activeService.pick(b,y,p)}},{key:"createQuickPick",value:function(){return this.activeService.createQuickPick()}},{key:"createInputBox",value:function(){return this.activeService.createInputBox()}}]),he}();tc=Yc([Jl(0,ai.a),Jl(1,E.a)],tc);var Zc=function(){function he(le){Object(C.a)(this,he),this.editor=le,this.widget=new Xc(this.editor)}return Object(x.a)(he,[{key:"dispose",value:function(){this.widget.dispose()}}],[{key:"get",value:function(b){return b.getContribution(he.ID)}}]),he}();Zc.ID="editor.controller.quickInput";var Xc=function(){function he(le){Object(C.a)(this,he),this.codeEditor=le,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}return Object(x.a)(he,[{key:"getId",value:function(){return he.ID}},{key:"getDomNode",value:function(){return this.domNode}},{key:"getPosition",value:function(){return{preference:2}}},{key:"dispose",value:function(){this.codeEditor.removeOverlayWidget(this)}}]),he}();Xc.ID="editor.contrib.quickInputWidget",Object($s.m)(Zc.ID,Zc,4);var Ru=a("e0E1"),Ke=a("C+7e"),be=a("R3nR"),v=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},m=function(he,le){return function(b,y){le(b,y,he)}},u=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M){var q;Object(C.a)(this,b),q=le.call(this),q._contextKeyService=y,q._layoutService=p,q._configurationService=M,q._accessibilitySupport=0,q._onDidChangeScreenReaderOptimized=new _n.b,q._onDidChangeReducedMotion=new _n.b,q._accessibilityModeEnabledContext=be.a.bindTo(q._contextKeyService);var Se=function(){return q._accessibilityModeEnabledContext.set(q.isScreenReaderOptimized())};q._register(q._configurationService.onDidChangeConfiguration(function(qe){qe.affectsConfiguration("editor.accessibilitySupport")&&(Se(),q._onDidChangeScreenReaderOptimized.fire()),qe.affectsConfiguration("workbench.reduceMotion")&&(q._configMotionReduced=q._configurationService.getValue("workbench.reduceMotion"),q._onDidChangeReducedMotion.fire())})),Se(),q._register(q.onDidChangeScreenReaderOptimized(function(){return Se()}));var Ie=window.matchMedia("(prefers-reduced-motion: reduce)");return q._systemMotionReduced=Ie.matches,q._configMotionReduced=q._configurationService.getValue("workbench.reduceMotion"),q.initReducedMotionListeners(Ie),q}return Object(x.a)(b,[{key:"initReducedMotionListeners",value:function(p){var M=this;if(!!this._layoutService.hasContainer){this._register(Object(Dt.addDisposableListener)(p,"change",function(){M._systemMotionReduced=p.matches,M._configMotionReduced==="auto"&&M._onDidChangeReducedMotion.fire()}));var q=function(){var Ie=M.isMotionReduced();M._layoutService.container.classList.toggle("reduce-motion",Ie),M._layoutService.container.classList.toggle("enable-motion",!Ie)};q(),this._register(this.onDidChangeReducedMotion(function(){return q()}))}}},{key:"onDidChangeScreenReaderOptimized",get:function(){return this._onDidChangeScreenReaderOptimized.event}},{key:"isScreenReaderOptimized",value:function(){var p=this._configurationService.getValue("editor.accessibilitySupport");return p==="on"||p==="auto"&&this._accessibilitySupport===2}},{key:"onDidChangeReducedMotion",get:function(){return this._onDidChangeReducedMotion.event}},{key:"isMotionReduced",value:function(){var p=this._configMotionReduced;return p==="on"||p==="auto"&&this._systemMotionReduced}},{key:"getAccessibilitySupport",value:function(){return this._accessibilitySupport}}]),b}(te.a);u=v([m(0,yi.b),m(1,dn),m(2,Fe.a)],u);var g=a("A+jI"),S=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},ie=function(he,le){return function(b,y){le(b,y,he)}},Ee=function(){function he(le,b){Object(C.a)(this,he),this._commandService=le,this._hiddenStates=new Le(b)}return Object(x.a)(he,[{key:"createMenu",value:function(b,y,p){return new kt(b,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},p),this._commandService,y)}},{key:"resetHiddenStates",value:function(b){this._hiddenStates.reset(b)}}]),he}();Ee=S([ie(0,Xa.b),ie(1,g.a)],Ee);var Le=function(){function he(le){var b=this;Object(C.a)(this,he),this._storageService=le,this._disposables=new te.c,this._onDidChange=new _n.b,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{var y=le.get(he._key,0,"{}");this._data=JSON.parse(y)}catch(p){this._data=Object.create(null)}this._disposables.add(le.onDidChangeValue(function(p){if(p.key===he._key){if(!b._ignoreChangeEvent)try{var M=le.get(he._key,0,"{}");b._data=JSON.parse(M)}catch(q){console.log("FAILED to read storage after UPDATE",q)}b._onDidChange.fire()}}))}return Object(x.a)(he,[{key:"dispose",value:function(){this._onDidChange.dispose(),this._disposables.dispose()}},{key:"_isHiddenByDefault",value:function(b,y){var p;return(p=this._hiddenByDefaultCache.get("".concat(b.id,"/").concat(y)))!==null&&p!==void 0?p:!1}},{key:"setDefaultState",value:function(b,y,p){this._hiddenByDefaultCache.set("".concat(b.id,"/").concat(y),p)}},{key:"isHidden",value:function(b,y){var p,M,q=this._isHiddenByDefault(b,y),Se=(M=(p=this._data[b.id])===null||p===void 0?void 0:p.includes(y))!==null&&M!==void 0?M:!1;return q?!Se:Se}},{key:"updateHidden",value:function(b,y,p){var M=this._isHiddenByDefault(b,y);M&&(p=!p);var q=this._data[b.id];if(p)if(!q)this._data[b.id]=[y];else{var Ie=q.indexOf(y);Ie<0&&q.push(y)}else if(q){var Se=q.indexOf(y);Se>=0&&Object(Go.A)(q,Se),q.length===0&&delete this._data[b.id]}this._persist()}},{key:"reset",value:function(b){if(b===void 0)this._data=Object.create(null),this._persist();else{var y=Object(D.a)(b),p;try{for(y.s();!(p=y.n()).done;){var M=p.value,q=M.id;this._data[q]&&delete this._data[q]}}catch(Se){y.e(Se)}finally{y.f()}this._persist()}}},{key:"_persist",value:function(){try{this._ignoreChangeEvent=!0;var b=JSON.stringify(this._data);this._storageService.store(he._key,b,0,0)}finally{this._ignoreChangeEvent=!1}}}]),he}();Le._key="menu.hiddenCommands",Le=S([ie(0,g.a)],Le);var at=function(){function he(le,b,y,p,M){Object(C.a)(this,he),this._id=le,this._hiddenStates=b,this._collectContextKeysForSubmenus=y,this._commandService=p,this._contextKeyService=M,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}return Object(x.a)(he,[{key:"structureContextKeys",get:function(){return this._structureContextKeys}},{key:"preconditionContextKeys",get:function(){return this._preconditionContextKeys}},{key:"toggledContextKeys",get:function(){return this._toggledContextKeys}},{key:"refresh",value:function(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();var b=_o.e.getMenuItems(this._id),y;b.sort(he._compareMenuItems);var p=Object(D.a)(b),M;try{for(p.s();!(M=p.n()).done;){var q=M.value,Se=q.group||"";(!y||y[0]!==Se)&&(y=[Se,[]],this._menuGroups.push(y)),y[1].push(q),this._collectContextKeys(q)}}catch(Ie){p.e(Ie)}finally{p.f()}}},{key:"_collectContextKeys",value:function(b){if(he._fillInKbExprKeys(b.when,this._structureContextKeys),Object(_o.g)(b)){if(b.command.precondition&&he._fillInKbExprKeys(b.command.precondition,this._preconditionContextKeys),b.command.toggled){var y=b.command.toggled.condition||b.command.toggled;he._fillInKbExprKeys(y,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&_o.e.getMenuItems(b.submenu).forEach(this._collectContextKeys,this)}},{key:"createActionGroups",value:function(b){var y=[],p=Object(D.a)(this._menuGroups),M;try{for(p.s();!(M=p.n()).done;){var q=M.value,Se=Object(an.a)(q,2),Ie=Se[0],qe=Se[1],it=[],dt=Object(D.a)(qe),Jt;try{for(dt.s();!(Jt=dt.n()).done;){var cn=Jt.value;if(this._contextKeyService.contextMatchesRules(cn.when)){var Mn=Object(_o.g)(cn);Mn&&this._hiddenStates.setDefaultState(this._id,cn.command.id,!!cn.isHiddenByDefault);var vi=Tt(this._id,Mn?cn.command:cn,this._hiddenStates);if(Mn)it.push(new _o.d(cn.command,cn.alt,b,vi,this._contextKeyService,this._commandService));else{var ii=new he(cn.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(b),di=oo.d.join.apply(oo.d,Object(ve.a)(ii.map(function($n){return $n[1]})));di.length>0&&it.push(new _o.f(cn,vi,di))}}}}catch($n){dt.e($n)}finally{dt.f()}it.length>0&&y.push([Ie,it])}}catch($n){p.e($n)}finally{p.f()}return y}}],[{key:"_fillInKbExprKeys",value:function(b,y){if(b){var p=Object(D.a)(b.keys()),M;try{for(p.s();!(M=p.n()).done;){var q=M.value;y.add(q)}}catch(Se){p.e(Se)}finally{p.f()}}}},{key:"_compareMenuItems",value:function(b,y){var p=b.group,M=y.group;if(p!==M){if(p){if(!M)return-1}else return 1;if(p==="navigation")return-1;if(M==="navigation")return 1;var q=p.localeCompare(M);if(q!==0)return q}var Se=b.order||0,Ie=y.order||0;return Se<Ie?-1:Se>Ie?1:he._compareTitles(Object(_o.g)(b)?b.command.title:b.title,Object(_o.g)(y)?y.command.title:y.title)}},{key:"_compareTitles",value:function(b,y){var p=typeof b=="string"?b:b.original,M=typeof y=="string"?y:y.original;return p.localeCompare(M)}}]),he}();at=S([ie(3,Xa.b),ie(4,yi.b)],at);var kt=function(){function he(le,b,y,p,M){var q=this;Object(C.a)(this,he),this._disposables=new te.c,this._menuInfo=new at(le,b,y.emitEventsForSubmenuChanges,p,M);var Se=new nt.g(function(){q._menuInfo.refresh(),q._onDidChange.fire({menu:q,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},y.eventDebounceDelay);this._disposables.add(Se),this._disposables.add(_o.e.onDidChangeMenu(function(dt){dt.has(le)&&Se.schedule()}));var Ie=this._disposables.add(new te.c),qe=function(Jt){var cn=!1,Mn=!1,vi=!1,ii=Object(D.a)(Jt),di;try{for(ii.s();!(di=ii.n()).done;){var $n=di.value;if(cn=cn||$n.isStructuralChange,Mn=Mn||$n.isEnablementChange,vi=vi||$n.isToggleChange,cn&&Mn&&vi)break}}catch(ni){ii.e(ni)}finally{ii.f()}return{menu:q,isStructuralChange:cn,isEnablementChange:Mn,isToggleChange:vi}},it=function(){Ie.add(M.onDidChangeContext(function(Jt){var cn=Jt.affectsSome(q._menuInfo.structureContextKeys),Mn=Jt.affectsSome(q._menuInfo.preconditionContextKeys),vi=Jt.affectsSome(q._menuInfo.toggledContextKeys);(cn||Mn||vi)&&q._onDidChange.fire({menu:q,isStructuralChange:cn,isEnablementChange:Mn,isToggleChange:vi})})),Ie.add(b.onDidChange(function(Jt){q._onDidChange.fire({menu:q,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new _n.a({onWillAddFirstListener:it,onDidRemoveLastListener:Ie.clear.bind(Ie),delay:y.eventDebounceDelay,merge:qe}),this.onDidChange=this._onDidChange.event}return Object(x.a)(he,[{key:"getActions",value:function(b){return this._menuInfo.createActionGroups(b)}},{key:"dispose",value:function(){this._disposables.dispose(),this._onDidChange.dispose()}}]),he}();kt=S([ie(3,Xa.b),ie(4,yi.b)],kt);function Tt(he,le,b){var y=Object(_o.h)(le)?le.submenu.id:le.id,p=typeof le.title=="string"?le.title:le.title.value,M=Object(oo.f)({id:"hide/".concat(he.id,"/").concat(y),label:Object(yn.b)("hide.label","Hide '{0}'",p),run:function(){b.updateHidden(he,y,!0)}}),q=Object(oo.f)({id:"toggle/".concat(he.id,"/").concat(y),label:p,get checked(){return!b.isHidden(he,y)},run:function(){b.updateHidden(he,y,!!this.checked)}});return{hide:M,toggle:q,get isHidden(){return!q.checked}}}var Qt=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Wt=function(he,le){return function(b,y){le(b,y,he)}},vt=function(he,le,b,y){function p(M){return M instanceof b?M:new b(function(q){q(M)})}return new(b||(b=Promise))(function(M,q){function Se(it){try{qe(y.next(it))}catch(dt){q(dt)}}function Ie(it){try{qe(y.throw(it))}catch(dt){q(dt)}}function qe(it){it.done?M(it.value):p(it.value).then(Se,Ie)}qe((y=y.apply(he,le||[])).next())})},wn=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p){var M;return Object(C.a)(this,b),M=le.call(this),M.layoutService=y,M.logService=p,M.mapTextToType=new Map,M.findText="",M.resources=[],(Kl.isSafari||Kl.isWebkitWebView)&&M.installWebKitWriteTextWorkaround(),M}return Object(x.a)(b,[{key:"installWebKitWriteTextWorkaround",value:function(){var p=this,M=function(){var Se=new nt.b;p.webKitPendingClipboardWritePromise&&!p.webKitPendingClipboardWritePromise.isSettled&&p.webKitPendingClipboardWritePromise.cancel(),p.webKitPendingClipboardWritePromise=Se,navigator.clipboard.write([new ClipboardItem({"text/plain":Se.p})]).catch(function(Ie){return vt(p,void 0,void 0,Object(w.a)().mark(function qe(){return Object(w.a)().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:(!(Ie instanceof Error)||Ie.name!=="NotAllowedError"||!Se.isRejected)&&this.logService.error(Ie);case 1:case"end":return dt.stop()}},qe,this)}))})};this.layoutService.hasContainer&&(this._register(Object(Dt.addDisposableListener)(this.layoutService.container,"click",M)),this._register(Object(Dt.addDisposableListener)(this.layoutService.container,"keydown",M)))}},{key:"writeText",value:function(p,M){return vt(this,void 0,void 0,Object(w.a)().mark(function q(){var Se,Ie;return Object(w.a)().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(!M){it.next=3;break}return this.mapTextToType.set(M,p),it.abrupt("return");case 3:if(!this.webKitPendingClipboardWritePromise){it.next=5;break}return it.abrupt("return",this.webKitPendingClipboardWritePromise.complete(p));case 5:return it.prev=5,it.next=8,navigator.clipboard.writeText(p);case 8:return it.abrupt("return",it.sent);case 11:it.prev=11,it.t0=it.catch(5),console.error(it.t0);case 14:return Se=document.activeElement,Ie=document.body.appendChild(Object(Dt.$)("textarea",{"aria-hidden":!0})),Ie.style.height="1px",Ie.style.width="1px",Ie.style.position="absolute",Ie.value=p,Ie.focus(),Ie.select(),document.execCommand("copy"),Se instanceof HTMLElement&&Se.focus(),document.body.removeChild(Ie),it.abrupt("return");case 26:case"end":return it.stop()}},q,this,[[5,11]])}))}},{key:"readText",value:function(p){return vt(this,void 0,void 0,Object(w.a)().mark(function M(){return Object(w.a)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(!p){Se.next=2;break}return Se.abrupt("return",this.mapTextToType.get(p)||"");case 2:return Se.prev=2,Se.next=5,navigator.clipboard.readText();case 5:return Se.abrupt("return",Se.sent);case 8:return Se.prev=8,Se.t0=Se.catch(2),console.error(Se.t0),Se.abrupt("return","");case 12:case"end":return Se.stop()}},M,this,[[2,8]])}))}},{key:"readFindText",value:function(){return vt(this,void 0,void 0,Object(w.a)().mark(function p(){return Object(w.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.abrupt("return",this.findText);case 1:case"end":return q.stop()}},p,this)}))}},{key:"writeFindText",value:function(p){return vt(this,void 0,void 0,Object(w.a)().mark(function M(){return Object(w.a)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:this.findText=p;case 1:case"end":return Se.stop()}},M,this)}))}},{key:"readResources",value:function(){return vt(this,void 0,void 0,Object(w.a)().mark(function p(){return Object(w.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.abrupt("return",this.resources);case 1:case"end":return q.stop()}},p,this)}))}}]),b}(te.a);wn=Qt([Wt(0,dn),Wt(1,En.b)],wn);var xn=a("9XeP"),ri=a("JYp7"),hi=a("i55F"),ki=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},Di=function(he,le){return function(b,y){le(b,y,he)}},rr="data-keybinding-context",Ti=function(){function he(le,b){Object(C.a)(this,he),this._id=le,this._parent=b,this._value=Object.create(null),this._value._contextId=le}return Object(x.a)(he,[{key:"value",get:function(){return Object.assign({},this._value)}},{key:"setValue",value:function(b,y){return this._value[b]!==y?(this._value[b]=y,!0):!1}},{key:"removeValue",value:function(b){return b in this._value?(delete this._value[b],!0):!1}},{key:"getValue",value:function(b){var y=this._value[b];return typeof y=="undefined"&&this._parent?this._parent.getValue(b):y}}]),he}(),Vi=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(){return Object(C.a)(this,b),le.call(this,-1,null)}return Object(x.a)(b,[{key:"setValue",value:function(p,M){return!1}},{key:"removeValue",value:function(p){return!1}},{key:"getValue",value:function(p){}}]),b}(Ti);Vi.INSTANCE=new Vi;var Qi=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M){var q;return Object(C.a)(this,b),q=le.call(this,y,null),q._configurationService=p,q._values=hi.a.forConfigKeys(),q._listener=q._configurationService.onDidChangeConfiguration(function(Se){if(Se.source===7){var Ie=Array.from(q._values,function(vi){var ii=Object(an.a)(vi,1),di=ii[0];return di});q._values.clear(),M.fire(new Qr(Ie))}else{var qe=[],it=Object(D.a)(Se.affectedKeys),dt;try{for(it.s();!(dt=it.n()).done;){var Jt=dt.value,cn="config.".concat(Jt),Mn=q._values.findSuperstr(cn);Mn!==void 0&&(qe.push.apply(qe,Object(ve.a)(ri.a.map(Mn,function(vi){var ii=Object(an.a)(vi,1),di=ii[0];return di}))),q._values.deleteSuperstr(cn)),q._values.has(cn)&&(qe.push(cn),q._values.delete(cn))}}catch(vi){it.e(vi)}finally{it.f()}M.fire(new Qr(qe))}}),q}return Object(x.a)(b,[{key:"dispose",value:function(){this._listener.dispose()}},{key:"getValue",value:function(p){if(p.indexOf(b._keyPrefix)!==0)return Object(Je.a)(Object(ft.a)(b.prototype),"getValue",this).call(this,p);if(this._values.has(p))return this._values.get(p);var M=p.substr(b._keyPrefix.length),q=this._configurationService.getValue(M),Se=void 0;switch(typeof q){case"number":case"boolean":case"string":Se=q;break;default:Array.isArray(q)?Se=JSON.stringify(q):Se=q}return this._values.set(p,Se),Se}},{key:"setValue",value:function(p,M){return Object(Je.a)(Object(ft.a)(b.prototype),"setValue",this).call(this,p,M)}},{key:"removeValue",value:function(p){return Object(Je.a)(Object(ft.a)(b.prototype),"removeValue",this).call(this,p)}}]),b}(Ti);Qi._keyPrefix="config.";var yr=function(){function he(le,b,y){Object(C.a)(this,he),this._service=le,this._key=b,this._defaultValue=y,this.reset()}return Object(x.a)(he,[{key:"set",value:function(b){this._service.setContext(this._key,b)}},{key:"reset",value:function(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}},{key:"get",value:function(){return this._service.getContextKeyValue(this._key)}}]),he}(),Rr=function(){function he(le){Object(C.a)(this,he),this.key=le}return Object(x.a)(he,[{key:"affectsSome",value:function(b){return b.has(this.key)}},{key:"allKeysContainedIn",value:function(b){return this.affectsSome(b)}}]),he}(),Qr=function(){function he(le){Object(C.a)(this,he),this.keys=le}return Object(x.a)(he,[{key:"affectsSome",value:function(b){var y=Object(D.a)(this.keys),p;try{for(y.s();!(p=y.n()).done;){var M=p.value;if(b.has(M))return!0}}catch(q){y.e(q)}finally{y.f()}return!1}},{key:"allKeysContainedIn",value:function(b){return this.keys.every(function(y){return b.has(y)})}}]),he}(),ha=function(){function he(le){Object(C.a)(this,he),this.events=le}return Object(x.a)(he,[{key:"affectsSome",value:function(b){var y=Object(D.a)(this.events),p;try{for(y.s();!(p=y.n()).done;){var M=p.value;if(M.affectsSome(b))return!0}}catch(q){y.e(q)}finally{y.f()}return!1}},{key:"allKeysContainedIn",value:function(b){return this.events.every(function(y){return y.allKeysContainedIn(b)})}}]),he}();function Oa(he,le){return he.allKeysContainedIn(new Set(Object.keys(le)))}var qr=function(){function he(le){Object(C.a)(this,he),this._onDidChangeContext=new _n.h({merge:function(y){return new ha(y)}}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=le}return Object(x.a)(he,[{key:"createKey",value:function(b,y){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new yr(this,b,y)}},{key:"bufferChangeEvents",value:function(b){this._onDidChangeContext.pause();try{b()}finally{this._onDidChangeContext.resume()}}},{key:"createScoped",value:function(b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Ya(this,b)}},{key:"contextMatchesRules",value:function(b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");var y=this.getContextValuesContainer(this._myContextId),p=b?b.evaluate(y):!0;return p}},{key:"getContextKeyValue",value:function(b){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(b)}},{key:"setContext",value:function(b,y){if(!this._isDisposed){var p=this.getContextValuesContainer(this._myContextId);!p||p.setValue(b,y)&&this._onDidChangeContext.fire(new Rr(b))}}},{key:"removeContext",value:function(b){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(b)&&this._onDidChangeContext.fire(new Rr(b))}},{key:"getContext",value:function(b){return this._isDisposed?Vi.INSTANCE:this.getContextValuesContainer(Bo(b))}}]),he}(),ka=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y){var p;Object(C.a)(this,b),p=le.call(this,0),p._contexts=new Map,p._toDispose=new te.c,p._lastContextId=0;var M=new Qi(p._myContextId,y,p._onDidChangeContext);return p._contexts.set(p._myContextId,M),p._toDispose.add(M),p}return Object(x.a)(b,[{key:"dispose",value:function(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}},{key:"getContextValuesContainer",value:function(p){return this._isDisposed?Vi.INSTANCE:this._contexts.get(p)||Vi.INSTANCE}},{key:"createChildContext",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._myContextId;if(this._isDisposed)throw new Error("ContextKeyService has been disposed");var M=++this._lastContextId;return this._contexts.set(M,new Ti(M,this.getContextValuesContainer(p))),M}},{key:"disposeContext",value:function(p){this._isDisposed||this._contexts.delete(p)}}]),b}(qr);ka=ki([Di(0,Fe.a)],ka);var Ya=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p){var M;if(Object(C.a)(this,b),M=le.call(this,y.createChildContext()),M._parentChangeListener=new te.e,M._parent=y,M._updateParentChangeListener(),M._domNode=p,M._domNode.hasAttribute(rr)){var q="";M._domNode.classList&&(q=Array.from(M._domNode.classList.values()).join(", ")),console.error("Element already has context attribute".concat(q?": "+q:""))}return M._domNode.setAttribute(rr,String(M._myContextId)),M}return Object(x.a)(b,[{key:"_updateParentChangeListener",value:function(){var p=this;this._parentChangeListener.value=this._parent.onDidChangeContext(function(M){var q=p._parent.getContextValuesContainer(p._myContextId),Se=q.value;Oa(M,Se)||p._onDidChangeContext.fire(M)})}},{key:"dispose",value:function(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(rr),this._isDisposed=!0)}},{key:"getContextValuesContainer",value:function(p){return this._isDisposed?Vi.INSTANCE:this._parent.getContextValuesContainer(p)}},{key:"createChildContext",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._myContextId;if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(p)}},{key:"disposeContext",value:function(p){this._isDisposed||this._parent.disposeContext(p)}}]),b}(qr);function Bo(he){for(;he;){if(he.hasAttribute(rr)){var le=he.getAttribute(rr);return le?parseInt(le,10):NaN}he=he.parentElement}return 0}function Oo(he,le,b){var y=he.get(yi.b);y.createKey(String(le),ts(b))}function ts(he){return Object(z.a)(he,function(le){if(typeof le=="object"&&le.$mid===1)return _.a.revive(le).toString();if(le instanceof _.a)return le.toString()})}Xa.a.registerCommand("_setContext",Oo),Xa.a.registerCommand({id:"getContextKeyInfo",handler:function(){return Object(ve.a)(yi.c.all()).sort(function(le,b){return le.key.localeCompare(b.key)})},description:{description:Object(yn.b)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),Xa.a.registerCommand("_generateContextKeyInfo",function(){var he=[],le=new Set,b=Object(D.a)(yi.c.all()),y;try{for(b.s();!(y=b.n()).done;){var p=y.value;le.has(p.key)||(le.add(p.key),he.push(p))}}catch(M){b.e(M)}finally{b.f()}he.sort(function(M,q){return M.key.localeCompare(q.key)}),console.log(JSON.stringify(he,void 0,2))});var Aa=a("r0BQ"),xa=a("ZKkB"),fo=Object(x.a)(function he(le,b){Object(C.a)(this,he),this.key=le,this.data=b,this.incoming=new Map,this.outgoing=new Map}),vs=function(){function he(le){Object(C.a)(this,he),this._hashFn=le,this._nodes=new Map}return Object(x.a)(he,[{key:"roots",value:function(){var b=[],y=Object(D.a)(this._nodes.values()),p;try{for(y.s();!(p=y.n()).done;){var M=p.value;M.outgoing.size===0&&b.push(M)}}catch(q){y.e(q)}finally{y.f()}return b}},{key:"insertEdge",value:function(b,y){var p=this.lookupOrInsertNode(b),M=this.lookupOrInsertNode(y);p.outgoing.set(M.key,M),M.incoming.set(p.key,p)}},{key:"removeNode",value:function(b){var y=this._hashFn(b);this._nodes.delete(y);var p=Object(D.a)(this._nodes.values()),M;try{for(p.s();!(M=p.n()).done;){var q=M.value;q.outgoing.delete(y),q.incoming.delete(y)}}catch(Se){p.e(Se)}finally{p.f()}}},{key:"lookupOrInsertNode",value:function(b){var y=this._hashFn(b),p=this._nodes.get(y);return p||(p=new fo(y,b),this._nodes.set(y,p)),p}},{key:"isEmpty",value:function(){return this._nodes.size===0}},{key:"toString",value:function(){var b=[],y=Object(D.a)(this._nodes),p;try{for(y.s();!(p=y.n()).done;){var M=p.value,q=Object(an.a)(M,2),Se=q[0],Ie=q[1];b.push("".concat(Se,`
	(-> incoming)[`).concat(Object(ve.a)(Ie.incoming.keys()).join(", "),`]
	(outgoing ->)[`).concat(Object(ve.a)(Ie.outgoing.keys()).join(","),`]
`))}}catch(qe){y.e(qe)}finally{y.f()}return b.join(`
`)}},{key:"findCycleSlow",value:function(){var b=Object(D.a)(this._nodes),y;try{for(b.s();!(y=b.n()).done;){var p=y.value,M=Object(an.a)(p,2),q=M[0],Se=M[1],Ie=new Set([q]),qe=this._findCycle(Se,Ie);if(qe)return qe}}catch(it){b.e(it)}finally{b.f()}}},{key:"_findCycle",value:function(b,y){var p=Object(D.a)(b.outgoing),M;try{for(p.s();!(M=p.n()).done;){var q=M.value,Se=Object(an.a)(q,2),Ie=Se[0],qe=Se[1];if(y.has(Ie))return[].concat(Object(ve.a)(y),[Ie]).join(" -> ");y.add(Ie);var it=this._findCycle(qe,y);if(it)return it;y.delete(Ie)}}catch(dt){p.e(dt)}finally{p.f()}}}]),he}(),ll=a("8HsV"),pu=!1,zs=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y){var p;Object(C.a)(this,b);var M;return p=le.call(this,"cyclic dependency between services"),p.message=(M=y.findCycleSlow())!==null&&M!==void 0?M:`UNABLE to detect cycle, dumping graph: 
`.concat(y.toString()),p}return Object(x.a)(b)}(Object(xa.a)(Error)),xl=function(){function he(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new ll.a,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=arguments.length>2?arguments[2]:void 0,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:pu;Object(C.a)(this,he);var M;this._services=le,this._strict=b,this._parent=y,this._enableTracing=p,this._activeInstantiations=new Set,this._services.set(ai.a,this),this._globalGraph=p?(M=y==null?void 0:y._globalGraph)!==null&&M!==void 0?M:new vs(function(q){return q}):void 0}return Object(x.a)(he,[{key:"createChild",value:function(b){return new he(b,this._strict,this,this._enableTracing)}},{key:"invokeFunction",value:function(b){var y=this,p=rs.traceInvocation(this._enableTracing,b),M=!1;try{for(var q={get:function(dt){if(M)throw Object(gn.f)("service accessor is only valid during the invocation of its target method");var Jt=y._getOrCreateServiceInstance(dt,p);if(!Jt)throw new Error("[invokeFunction] unknown service '".concat(dt,"'"));return Jt}},Se=arguments.length,Ie=new Array(Se>1?Se-1:0),qe=1;qe<Se;qe++)Ie[qe-1]=arguments[qe];return b.apply(void 0,[q].concat(Ie))}finally{M=!0,p.stop()}}},{key:"createInstance",value:function(b){for(var y,p,M=arguments.length,q=new Array(M>1?M-1:0),Se=1;Se<M;Se++)q[Se-1]=arguments[Se];return b instanceof Aa.a?(y=rs.traceCreation(this._enableTracing,b.ctor),p=this._createInstance(b.ctor,b.staticArguments.concat(q),y)):(y=rs.traceCreation(this._enableTracing,b),p=this._createInstance(b,q,y)),y.stop(),p}},{key:"_createInstance",value:function(b){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],p=arguments.length>2?arguments[2]:void 0,M=ai.b.getServiceDependencies(b).sort(function(cn,Mn){return cn.index-Mn.index}),q=[],Se=Object(D.a)(M),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value,it=this._getOrCreateServiceInstance(qe.id,p);it||this._throwIfStrict("[createInstance] ".concat(b.name," depends on UNKNOWN service ").concat(qe.id,"."),!1),q.push(it)}}catch(cn){Se.e(cn)}finally{Se.f()}var dt=M.length>0?M[0].index:y.length;if(y.length!==dt){console.trace("[createInstance] First service dependency of ".concat(b.name," at position ").concat(dt+1," conflicts with ").concat(y.length," static arguments"));var Jt=dt-y.length;Jt>0?y=y.concat(new Array(Jt)):y=y.slice(0,dt)}return Reflect.construct(b,y.concat(q))}},{key:"_setServiceInstance",value:function(b,y){if(this._services.get(b)instanceof Aa.a)this._services.set(b,y);else if(this._parent)this._parent._setServiceInstance(b,y);else throw new Error("illegalState - setting UNKNOWN service instance")}},{key:"_getServiceInstanceOrDescriptor",value:function(b){var y=this._services.get(b);return!y&&this._parent?this._parent._getServiceInstanceOrDescriptor(b):y}},{key:"_getOrCreateServiceInstance",value:function(b,y){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(b));var p=this._getServiceInstanceOrDescriptor(b);return p instanceof Aa.a?this._safeCreateAndCacheServiceInstance(b,p,y.branch(b,!0)):(y.branch(b,!1),p)}},{key:"_safeCreateAndCacheServiceInstance",value:function(b,y,p){if(this._activeInstantiations.has(b))throw new Error("illegal state - RECURSIVELY instantiating service '".concat(b,"'"));this._activeInstantiations.add(b);try{return this._createAndCacheServiceInstance(b,y,p)}finally{this._activeInstantiations.delete(b)}}},{key:"_createAndCacheServiceInstance",value:function(b,y,p){for(var M,q=new vs(function(fr){return fr.id.toString()}),Se=0,Ie=[{id:b,desc:y,_trace:p}];Ie.length;){var qe=Ie.pop();if(q.lookupOrInsertNode(qe),Se++>1e3)throw new zs(q);var it=Object(D.a)(ai.b.getServiceDependencies(qe.desc.ctor)),dt;try{for(it.s();!(dt=it.n()).done;){var Jt=dt.value,cn=this._getServiceInstanceOrDescriptor(Jt.id);if(cn||this._throwIfStrict("[createInstance] ".concat(b," depends on ").concat(Jt.id," which is NOT registered."),!0),(M=this._globalGraph)===null||M===void 0||M.insertEdge(String(qe.id),String(Jt.id)),cn instanceof Aa.a){var Mn={id:Jt.id,desc:cn,_trace:qe._trace.branch(Jt.id,!0)};q.insertEdge(qe,Mn),Ie.push(Mn)}}}catch(fr){it.e(fr)}finally{it.f()}}for(;;){var vi=q.roots();if(vi.length===0){if(!q.isEmpty())throw new zs(q);break}var ii=Object(D.a)(vi),di;try{for(ii.s();!(di=ii.n()).done;){var $n=di.value,ni=$n.data;{var sr=this._getServiceInstanceOrDescriptor(ni.id);if(sr instanceof Aa.a){var mr=this._createServiceInstanceWithOwner(ni.id,ni.desc.ctor,ni.desc.staticArguments,ni.desc.supportsDelayedInstantiation,ni._trace);this._setServiceInstance(ni.id,mr)}q.removeNode(ni)}}}catch(fr){ii.e(fr)}finally{ii.f()}}return this._getServiceInstanceOrDescriptor(b)}},{key:"_createServiceInstanceWithOwner",value:function(b,y){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],M=arguments.length>3?arguments[3]:void 0,q=arguments.length>4?arguments[4]:void 0;if(this._services.get(b)instanceof Aa.a)return this._createServiceInstance(b,y,p,M,q);if(this._parent)return this._parent._createServiceInstanceWithOwner(b,y,p,M,q);throw new Error("illegalState - creating UNKNOWN service instance ".concat(y.name))}},{key:"_createServiceInstance",value:function(b,y){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],M=arguments.length>3?arguments[3]:void 0,q=arguments.length>4?arguments[4]:void 0;if(M){var Se=new he(void 0,this._strict,this,this._enableTracing);Se._globalGraphImplicitDependency=String(b);var Ie=new Map,qe=new nt.d(function(){var it=Se._createInstance(y,p,q),dt=Object(D.a)(Ie),Jt;try{for(dt.s();!(Jt=dt.n()).done;){var cn=Jt.value,Mn=Object(an.a)(cn,2),vi=Mn[0],ii=Mn[1],di=it[vi];if(typeof di=="function"){var $n=Object(D.a)(ii),ni;try{for($n.s();!(ni=$n.n()).done;){var sr=ni.value;di.apply(it,sr)}}catch(mr){$n.e(mr)}finally{$n.f()}}}}catch(mr){dt.e(mr)}finally{dt.f()}return Ie.clear(),it});return new Proxy(Object.create(null),{get:function(dt,Jt){if(!qe.isInitialized&&typeof Jt=="string"&&(Jt.startsWith("onDid")||Jt.startsWith("onWill"))){var cn=Ie.get(Jt);cn||(cn=new Nn.a,Ie.set(Jt,cn));var Mn=function($n,ni,sr){var mr=cn.push([$n,ni,sr]);return Object(te.l)(mr)};return Mn}if(Jt in dt)return dt[Jt];var vi=qe.value,ii=vi[Jt];return typeof ii!="function"||(ii=ii.bind(vi),dt[Jt]=ii),ii},set:function(dt,Jt,cn){return qe.value[Jt]=cn,!0},getPrototypeOf:function(dt){return y.prototype}})}else return this._createInstance(y,p,q)}},{key:"_throwIfStrict",value:function(b,y){if(y&&console.warn(b),this._strict)throw new Error(b)}}]),he}(),rs=function(){function he(le,b){Object(C.a)(this,he),this.type=le,this.name=b,this._start=Date.now(),this._dep=[]}return Object(x.a)(he,[{key:"branch",value:function(b,y){var p=new he(3,b.toString());return this._dep.push([b,y,p]),p}},{key:"stop",value:function(){var b=Date.now()-this._start;he._totals+=b;var y=!1;function p(q,Se){var Ie=[],qe=new Array(q+1).join("	"),it=Object(D.a)(Se._dep),dt;try{for(it.s();!(dt=it.n()).done;){var Jt=dt.value,cn=Object(an.a)(Jt,3),Mn=cn[0],vi=cn[1],ii=cn[2];if(vi&&ii){y=!0,Ie.push("".concat(qe,"CREATES -> ").concat(Mn));var di=p(q+1,ii);di&&Ie.push(di)}else Ie.push("".concat(qe,"uses -> ").concat(Mn))}}catch($n){it.e($n)}finally{it.f()}return Ie.join(`
`)}var M=["".concat(this.type===1?"CREATE":"CALL"," ").concat(this.name),"".concat(p(1,this)),"DONE, took ".concat(b.toFixed(2),"ms (grand total ").concat(he._totals.toFixed(2),"ms)")];(b>2||y)&&he.all.add(M.join(`
`))}}],[{key:"traceInvocation",value:function(b,y){return b?new he(2,y.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):he._None}},{key:"traceCreation",value:function(b,y){return b?new he(1,y.name):he._None}}]),he}();rs.all=new Set,rs._None=new(function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(){return Object(C.a)(this,b),le.call(this,0,null)}return Object(x.a)(b,[{key:"stop",value:function(){}},{key:"branch",value:function(){return this}}]),b}(rs)),rs._totals=0;var Fl=new Set([jn.c.inMemory,jn.c.vscodeSourceControl,jn.c.walkThrough,jn.c.walkThroughSnippet]),ql=function(){function he(){Object(C.a)(this,he),this._byResource=new Zt.b,this._byOwner=new Map}return Object(x.a)(he,[{key:"set",value:function(b,y,p){var M=this._byResource.get(b);M||(M=new Map,this._byResource.set(b,M)),M.set(y,p);var q=this._byOwner.get(y);q||(q=new Zt.b,this._byOwner.set(y,q)),q.set(b,p)}},{key:"get",value:function(b,y){var p=this._byResource.get(b);return p==null?void 0:p.get(y)}},{key:"delete",value:function(b,y){var p=!1,M=!1,q=this._byResource.get(b);q&&(p=q.delete(y));var Se=this._byOwner.get(y);if(Se&&(M=Se.delete(b)),p!==M)throw new Error("illegal state");return p&&M}},{key:"values",value:function(b){var y,p,M,q;return typeof b=="string"?(p=(y=this._byOwner.get(b))===null||y===void 0?void 0:y.values())!==null&&p!==void 0?p:ri.a.empty():_.a.isUri(b)?(q=(M=this._byResource.get(b))===null||M===void 0?void 0:M.values())!==null&&q!==void 0?q:ri.a.empty():ri.a.map(ri.a.concat.apply(ri.a,Object(ve.a)(this._byOwner.values())),function(Se){return Se[1]})}}]),he}(),Sc=function(){function he(le){Object(C.a)(this,he),this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Zt.b,this._service=le,this._subscription=le.onMarkerChanged(this._update,this)}return Object(x.a)(he,[{key:"dispose",value:function(){this._subscription.dispose()}},{key:"_update",value:function(b){var y=Object(D.a)(b),p;try{for(y.s();!(p=y.n()).done;){var M=p.value,q=this._data.get(M);q&&this._substract(q);var Se=this._resourceStats(M);this._add(Se),this._data.set(M,Se)}}catch(Ie){y.e(Ie)}finally{y.f()}}},{key:"_resourceStats",value:function(b){var y={errors:0,warnings:0,infos:0,unknowns:0};if(Fl.has(b.scheme))return y;var p=Object(D.a)(this._service.read({resource:b})),M;try{for(p.s();!(M=p.n()).done;){var q=M.value,Se=q.severity;Se===ds.c.Error?y.errors+=1:Se===ds.c.Warning?y.warnings+=1:Se===ds.c.Info?y.infos+=1:y.unknowns+=1}}catch(Ie){p.e(Ie)}finally{p.f()}return y}},{key:"_substract",value:function(b){this.errors-=b.errors,this.warnings-=b.warnings,this.infos-=b.infos,this.unknowns-=b.unknowns}},{key:"_add",value:function(b){this.errors+=b.errors,this.warnings+=b.warnings,this.infos+=b.infos,this.unknowns+=b.unknowns}}]),he}(),Ol=function(){function he(){Object(C.a)(this,he),this._onMarkerChanged=new _n.a({delay:0,merge:he._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new ql,this._stats=new Sc(this)}return Object(x.a)(he,[{key:"dispose",value:function(){this._stats.dispose(),this._onMarkerChanged.dispose()}},{key:"remove",value:function(b,y){var p=Object(D.a)(y||[]),M;try{for(p.s();!(M=p.n()).done;){var q=M.value;this.changeOne(b,q,[])}}catch(Se){p.e(Se)}finally{p.f()}}},{key:"changeOne",value:function(b,y,p){if(Object(Go.r)(p)){var M=this._data.delete(y,b);M&&this._onMarkerChanged.fire([y])}else{var q=[],Se=Object(D.a)(p),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value,it=he._toMarker(b,y,qe);it&&q.push(it)}}catch(dt){Se.e(dt)}finally{Se.f()}this._data.set(y,b,q),this._onMarkerChanged.fire([y])}}},{key:"changeAll",value:function(b,y){var p=[],M=this._data.values(b);if(M){var q=Object(D.a)(M),Se;try{for(q.s();!(Se=q.n()).done;){var Ie=Se.value,qe=ri.a.first(Ie);qe&&(p.push(qe.resource),this._data.delete(qe.resource,b))}}catch(Vr){q.e(Vr)}finally{q.f()}}if(Object(Go.s)(y)){var it=new Zt.b,dt=Object(D.a)(y),Jt;try{for(dt.s();!(Jt=dt.n()).done;){var cn=Jt.value,Mn=cn.resource,vi=cn.marker,ii=he._toMarker(b,Mn,vi);if(!!ii){var di=it.get(Mn);di?di.push(ii):(it.set(Mn,[ii]),p.push(Mn))}}}catch(Vr){dt.e(Vr)}finally{dt.f()}var $n=Object(D.a)(it),ni;try{for($n.s();!(ni=$n.n()).done;){var sr=ni.value,mr=Object(an.a)(sr,2),fr=mr[0],Xr=mr[1];this._data.set(fr,b,Xr)}}catch(Vr){$n.e(Vr)}finally{$n.f()}}p.length>0&&this._onMarkerChanged.fire(p)}},{key:"read",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Object.create(null),y=b.owner,p=b.resource,M=b.severities,q=b.take;if((!q||q<0)&&(q=-1),y&&p){var Se=this._data.get(p,y);if(Se){var Ie=[],qe=Object(D.a)(Se),it;try{for(qe.s();!(it=qe.n()).done;){var dt=it.value;if(he._accept(dt,M)){var Jt=Ie.push(dt);if(q>0&&Jt===q)break}}}catch(Za){qe.e(Za)}finally{qe.f()}return Ie}else return[]}else if(!y&&!p){var cn=[],Mn=Object(D.a)(this._data.values()),vi;try{for(Mn.s();!(vi=Mn.n()).done;){var ii=vi.value,di=Object(D.a)(ii),$n;try{for(di.s();!($n=di.n()).done;){var ni=$n.value;if(he._accept(ni,M)){var sr=cn.push(ni);if(q>0&&sr===q)return cn}}}catch(Za){di.e(Za)}finally{di.f()}}}catch(Za){Mn.e(Za)}finally{Mn.f()}return cn}else{var mr=this._data.values(p!=null?p:y),fr=[],Xr=Object(D.a)(mr),Vr;try{for(Xr.s();!(Vr=Xr.n()).done;){var na=Vr.value,va=Object(D.a)(na),Ta;try{for(va.s();!(Ta=va.n()).done;){var io=Ta.value;if(he._accept(io,M)){var bs=fr.push(io);if(q>0&&bs===q)return fr}}}catch(Za){va.e(Za)}finally{va.f()}}}catch(Za){Xr.e(Za)}finally{Xr.f()}return fr}}}],[{key:"_toMarker",value:function(b,y,p){var M=p.code,q=p.severity,Se=p.message,Ie=p.source,qe=p.startLineNumber,it=p.startColumn,dt=p.endLineNumber,Jt=p.endColumn,cn=p.relatedInformation,Mn=p.tags;if(!!Se)return qe=qe>0?qe:1,it=it>0?it:1,dt=dt>=qe?dt:qe,Jt=Jt>0?Jt:it,{resource:y,owner:b,code:M,severity:q,message:Se,source:Ie,startLineNumber:qe,startColumn:it,endLineNumber:dt,endColumn:Jt,relatedInformation:cn,tags:Mn}}},{key:"_accept",value:function(b,y){return y===void 0||(y&b.severity)===b.severity}},{key:"_merge",value:function(b){var y=new Zt.b,p=Object(D.a)(b),M;try{for(p.s();!(M=p.n()).done;){var q=M.value,Se=Object(D.a)(q),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value;y.set(qe,!0)}}catch(it){Se.e(it)}finally{Se.f()}}}catch(it){p.e(it)}finally{p.f()}return Array.from(y.keys())}}]),he}(),eu=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(){var y;return Object(C.a)(this,b),y=le.apply(this,arguments),y._configurationModel=new La,y}return Object(x.a)(b,[{key:"configurationModel",get:function(){return this._configurationModel}},{key:"reload",value:function(){return this.resetConfigurationModel(),this.configurationModel}},{key:"getConfigurationDefaultOverrides",value:function(){return{}}},{key:"resetConfigurationModel",value:function(){this._configurationModel=new La;var p=_a.a.as(qo.a.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(p),p)}},{key:"updateConfigurationModel",value:function(p,M){var q=this.getConfigurationDefaultOverrides(),Se=Object(D.a)(p),Ie;try{for(Se.s();!(Ie=Se.n()).done;){var qe=Ie.value,it=q[qe],dt=M[qe];it!==void 0?this._configurationModel.addValue(qe,it):dt?this._configurationModel.addValue(qe,dt.default):this._configurationModel.removeValue(qe)}}catch(Jt){Se.e(Jt)}finally{Se.f()}}}]),b}(te.a),tu=a("oF4g"),Bl=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y){var p,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object(C.a)(this,b),p=le.call(this),p.logger=new En.d([y].concat(Object(ve.a)(M))),p._register(y.onDidChangeLogLevel(function(q){return p.setLevel(q)})),p}return Object(x.a)(b,[{key:"onDidChangeLogLevel",get:function(){return this.logger.onDidChangeLogLevel}},{key:"setLevel",value:function(p){this.logger.setLevel(p)}},{key:"getLevel",value:function(){return this.logger.getLevel()}},{key:"trace",value:function(p){for(var M,q=arguments.length,Se=new Array(q>1?q-1:0),Ie=1;Ie<q;Ie++)Se[Ie-1]=arguments[Ie];(M=this.logger).trace.apply(M,[p].concat(Se))}},{key:"debug",value:function(p){for(var M,q=arguments.length,Se=new Array(q>1?q-1:0),Ie=1;Ie<q;Ie++)Se[Ie-1]=arguments[Ie];(M=this.logger).debug.apply(M,[p].concat(Se))}},{key:"info",value:function(p){for(var M,q=arguments.length,Se=new Array(q>1?q-1:0),Ie=1;Ie<q;Ie++)Se[Ie-1]=arguments[Ie];(M=this.logger).info.apply(M,[p].concat(Se))}},{key:"error",value:function(p){for(var M,q=arguments.length,Se=new Array(q>1?q-1:0),Ie=1;Ie<q;Ie++)Se[Ie-1]=arguments[Ie];(M=this.logger).error.apply(M,[p].concat(Se))}}]),b}(te.a),ns=a("2CIB"),tl=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},as=function(he,le){return function(b,y){le(b,y,he)}},Nu=function(he,le,b,y){function p(M){return M instanceof b?M:new b(function(q){q(M)})}return new(b||(b=Promise))(function(M,q){function Se(it){try{qe(y.next(it))}catch(dt){q(dt)}}function Ie(it){try{qe(y.throw(it))}catch(dt){q(dt)}}function qe(it){it.done?M(it.value):p(it.value).then(Se,Ie)}qe((y=y.apply(he,le||[])).next())})},xu=function(){function he(le){Object(C.a)(this,he),this.disposed=!1,this.model=le,this._onWillDispose=new _n.b}return Object(x.a)(he,[{key:"textEditorModel",get:function(){return this.model}},{key:"dispose",value:function(){this.disposed=!0,this._onWillDispose.fire()}}]),he}(),ah=function(){function he(le){Object(C.a)(this,he),this.modelService=le}return Object(x.a)(he,[{key:"createModelReference",value:function(b){var y=this.modelService.getModel(b);return y?Promise.resolve(new te.d(new xu(y))):Promise.reject(new Error("Model not found"))}}]),he}();ah=tl([as(0,d.a)],ah);var oh=function(){function he(){Object(C.a)(this,he)}return Object(x.a)(he,[{key:"show",value:function(){return he.NULL_PROGRESS_RUNNER}},{key:"showWhile",value:function(b,y){return Nu(this,void 0,void 0,Object(w.a)().mark(function p(){return Object(w.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,b;case 2:case"end":return q.stop()}},p)}))}}]),he}();oh.NULL_PROGRESS_RUNNER={done:function(){},total:function(){},worked:function(){}};var ef=function(){function he(){Object(C.a)(this,he)}return Object(x.a)(he,[{key:"withProgress",value:function(b,y,p){return y({report:function(){}})}}]),he}(),Jf=function(){function he(){Object(C.a)(this,he)}return Object(x.a)(he,[{key:"confirm",value:function(b){return Nu(this,void 0,void 0,Object(w.a)().mark(function y(){var p;return Object(w.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return p=this.doConfirm(b.message,b.detail),q.abrupt("return",{confirmed:p,checkboxChecked:!1});case 2:case"end":return q.stop()}},y,this)}))}},{key:"doConfirm",value:function(b,y){var p=b;return y&&(p=p+`

`+y),window.confirm(p)}},{key:"prompt",value:function(b){var y,p;return Nu(this,void 0,void 0,Object(w.a)().mark(function M(){var q,Se,Ie;return Object(w.a)().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(q=void 0,Se=this.doConfirm(b.message,b.detail),!Se){it.next=8;break}return Ie=Object(ve.a)((y=b.buttons)!==null&&y!==void 0?y:[]),b.cancelButton&&typeof b.cancelButton!="string"&&typeof b.cancelButton!="boolean"&&Ie.push(b.cancelButton),it.next=7,(p=Ie[0])===null||p===void 0?void 0:p.run({checkboxChecked:!1});case 7:q=it.sent;case 8:return it.abrupt("return",{result:q});case 9:case"end":return it.stop()}},M,this)}))}},{key:"error",value:function(b,y){return Nu(this,void 0,void 0,Object(w.a)().mark(function p(){return Object(w.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,this.prompt({type:en.a.Error,message:b,detail:y});case 2:case"end":return q.stop()}},p,this)}))}}]),he}(),tf=function(){function he(){Object(C.a)(this,he)}return Object(x.a)(he,[{key:"info",value:function(b){return this.notify({severity:en.a.Info,message:b})}},{key:"warn",value:function(b){return this.notify({severity:en.a.Warning,message:b})}},{key:"error",value:function(b){return this.notify({severity:en.a.Error,message:b})}},{key:"notify",value:function(b){switch(b.severity){case en.a.Error:console.error(b.message);break;case en.a.Warning:console.warn(b.message);break;default:console.log(b.message);break}return he.NO_OP}},{key:"prompt",value:function(b,y,p,M){return he.NO_OP}},{key:"status",value:function(b,y){return te.a.None}}]),he}();tf.NO_OP=new pi.b;var sh=function(){function he(le){Object(C.a)(this,he),this._onWillExecuteCommand=new _n.b,this._onDidExecuteCommand=new _n.b,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=le}return Object(x.a)(he,[{key:"executeCommand",value:function(b){var y=Xa.a.getCommand(b);if(!y)return Promise.reject(new Error("command '".concat(b,"' not found")));try{for(var p=arguments.length,M=new Array(p>1?p-1:0),q=1;q<p;q++)M[q-1]=arguments[q];this._onWillExecuteCommand.fire({commandId:b,args:M});var Se=this._instantiationService.invokeFunction.apply(this._instantiationService,[y.handler].concat(M));return this._onDidExecuteCommand.fire({commandId:b,args:M}),Promise.resolve(Se)}catch(Ie){return Promise.reject(Ie)}}}]),he}();sh=tl([as(0,ai.a)],sh);var Jc=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q,Se,Ie){var qe;Object(C.a)(this,b),qe=le.call(this,y,p,M,q,Se),qe._cachedResolver=null,qe._dynamicKeybindings=[],qe._domNodeListeners=[];var it=function(di){var $n=new te.c;$n.add(Dt.addDisposableListener(di,Dt.EventType.KEY_DOWN,function(ni){var sr=new $i.a(ni),mr=qe._dispatch(sr,sr.target);mr&&(sr.preventDefault(),sr.stopPropagation())})),$n.add(Dt.addDisposableListener(di,Dt.EventType.KEY_UP,function(ni){var sr=new $i.a(ni),mr=qe._singleModifierDispatch(sr,sr.target);mr&&sr.preventDefault()})),qe._domNodeListeners.push(new qf(di,$n))},dt=function(di){for(var $n=0;$n<qe._domNodeListeners.length;$n++){var ni=qe._domNodeListeners[$n];ni.domNode===di&&(qe._domNodeListeners.splice($n,1),ni.dispose())}},Jt=function(di){di.getOption(59)||it(di.getContainerDomNode())},cn=function(di){di.getOption(59)||dt(di.getContainerDomNode())};qe._register(Ie.onCodeEditorAdd(Jt)),qe._register(Ie.onCodeEditorRemove(cn)),Ie.listCodeEditors().forEach(Jt);var Mn=function(di){it(di.getContainerDomNode())},vi=function(di){dt(di.getContainerDomNode())};return qe._register(Ie.onDiffEditorAdd(Mn)),qe._register(Ie.onDiffEditorRemove(vi)),Ie.listDiffEditors().forEach(Mn),qe}return Object(x.a)(b,[{key:"addDynamicKeybinding",value:function(p,M,q,Se){return Object(te.h)(Xa.a.registerCommand(p,q),this.addDynamicKeybindings([{keybinding:M,command:p,when:Se}]))}},{key:"addDynamicKeybindings",value:function(p){var M=this,q=p.map(function(Se){var Ie,qe=Object(Jr.d)(Se.keybinding,Ht.a);return{keybinding:qe,command:(Ie=Se.command)!==null&&Ie!==void 0?Ie:null,commandArgs:Se.commandArgs,when:Se.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(q),this.updateResolver(),Object(te.l)(function(){for(var Se=0;Se<M._dynamicKeybindings.length;Se++)if(M._dynamicKeybindings[Se]===q[0]){M._dynamicKeybindings.splice(Se,q.length),M.updateResolver();return}})}},{key:"updateResolver",value:function(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}},{key:"_getResolver",value:function(){var p=this;if(!this._cachedResolver){var M=this._toNormalizedKeybindingItems(un.a.getDefaultKeybindings(),!0),q=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new K(M,q,function(Se){return p._log(Se)})}return this._cachedResolver}},{key:"_documentHasFocus",value:function(){return document.hasFocus()}},{key:"_toNormalizedKeybindingItems",value:function(p,M){var q=[],Se=0,Ie=Object(D.a)(p),qe;try{for(Ie.s();!(qe=Ie.n()).done;){var it=qe.value,dt=it.when||void 0,Jt=it.keybinding;if(!Jt)q[Se++]=new ln(void 0,it.command,it.commandArgs,dt,M,null,!1);else{var cn=er.resolveKeybinding(Jt,Ht.a),Mn=Object(D.a)(cn),vi;try{for(Mn.s();!(vi=Mn.n()).done;){var ii=vi.value;q[Se++]=new ln(ii,it.command,it.commandArgs,dt,M,null,!1)}}catch(di){Mn.e(di)}finally{Mn.f()}}}}catch(di){Ie.e(di)}finally{Ie.f()}return q}},{key:"resolveKeyboardEvent",value:function(p){var M=new Jr.a(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,p.keyCode);return new er([M],Ht.a)}}]),b}(ut);Jc=tl([as(0,yi.b),as(1,Xa.b),as(2,hr.a),as(3,pi.a),as(4,En.b),as(5,E.a)],Jc);var qf=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p){var M;return Object(C.a)(this,b),M=le.call(this),M.domNode=y,M._register(p),M}return Object(x.a)(b)}(te.a);function ev(he){return he&&typeof he=="object"&&(!he.overrideIdentifier||typeof he.overrideIdentifier=="string")&&(!he.resource||he.resource instanceof _.a)}var bu=function(){function he(){Object(C.a)(this,he),this._onDidChangeConfiguration=new _n.b,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;var le=new eu;this._configuration=new Rt(le.reload(),new La,new La,new La),le.dispose()}return Object(x.a)(he,[{key:"getValue",value:function(b,y){var p=typeof b=="string"?b:void 0,M=ev(b)?b:ev(y)?y:{};return this._configuration.getValue(p,M,void 0)}},{key:"updateValues",value:function(b){var y={data:this._configuration.toData()},p=[],M=Object(D.a)(b),q;try{for(M.s();!(q=M.n()).done;){var Se=q.value,Ie=Object(an.a)(Se,2),qe=Ie[0],it=Ie[1];this.getValue(qe)!==it&&(this._configuration.updateValue(qe,it),p.push(qe))}}catch(Jt){M.e(Jt)}finally{M.f()}if(p.length>0){var dt=new tt({keys:p,overrides:[]},y,this._configuration);dt.source=8,dt.sourceConfig=null,this._onDidChangeConfiguration.fire(dt)}return Promise.resolve()}},{key:"updateValue",value:function(b,y,p,M){return this.updateValues([[b,y]])}},{key:"inspect",value:function(b){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._configuration.inspect(b,y,void 0)}}]),he}(),nf=function(){function he(le,b,y){var p=this;Object(C.a)(this,he),this.configurationService=le,this.modelService=b,this.languageService=y,this._onDidChangeConfiguration=new _n.b,this.configurationService.onDidChangeConfiguration(function(M){p._onDidChangeConfiguration.fire({affectedKeys:M.affectedKeys,affectsConfiguration:function(Se,Ie){return M.affectsConfiguration(Ie)}})})}return Object(x.a)(he,[{key:"getValue",value:function(b,y,p){var M=Ua.a.isIPosition(y)?y:null,q=M?typeof p=="string"?p:void 0:typeof y=="string"?y:void 0,Se=b?this.getLanguage(b,M):void 0;return typeof q=="undefined"?this.configurationService.getValue({resource:b,overrideIdentifier:Se}):this.configurationService.getValue(q,{resource:b,overrideIdentifier:Se})}},{key:"getLanguage",value:function(b,y){var p=this.modelService.getModel(b);return p?y?p.getLanguageIdAtPosition(y.lineNumber,y.column):p.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(b)}}]),he}();nf=tl([as(0,Fe.a),as(1,d.a),as(2,H.a)],nf);var yu=function(){function he(le){Object(C.a)(this,he),this.configurationService=le}return Object(x.a)(he,[{key:"getEOL",value:function(b,y){var p=this.configurationService.getValue("files.eol",{overrideIdentifier:y,resource:b});return p&&typeof p=="string"&&p!=="auto"?p:Ht.g||Ht.i?`
`:`\r
`}}]),he}();yu=tl([as(0,Fe.a)],yu);var Cm=function(){function he(){Object(C.a)(this,he)}return Object(x.a)(he,[{key:"publicLog2",value:function(){}}]),he}(),tv=function(){function he(){Object(C.a)(this,he);var le=_.a.from({scheme:he.SCHEME,authority:"model",path:"/"});this.workspace={id:xi.b,folders:[new xi.d({uri:le,name:"",index:0})]}}return Object(x.a)(he,[{key:"getWorkspace",value:function(){return this.workspace}},{key:"getWorkspaceFolder",value:function(b){return b&&b.scheme===he.SCHEME?this.workspace.folders[0]:null}}]),he}();tv.SCHEME="inmemory";function lh(he,le,b){if(!!le&&he instanceof bu){var y=[];Object.keys(le).forEach(function(p){Object($r.c)(p)&&y.push(["editor.".concat(p),le[p]]),b&&Object($r.b)(p)&&y.push(["diffEditor.".concat(p),le[p]])}),y.length>0&&he.updateValues(y)}}var nc=function(){function he(le){Object(C.a)(this,he),this._modelService=le}return Object(x.a)(he,[{key:"hasPreviewHandler",value:function(){return!1}},{key:"apply",value:function(b,y){return Nu(this,void 0,void 0,Object(w.a)().mark(function p(){var M,q,Se,Ie,qe,it,dt,Jt,cn,Mn,vi,ii,di,$n,ni;return Object(w.a)().wrap(function(mr){for(;;)switch(mr.prev=mr.next){case 0:M=Array.isArray(b)?b:ja.b.convert(b),q=new Map,Se=Object(D.a)(M),mr.prev=3,Se.s();case 5:if((Ie=Se.n()).done){mr.next=19;break}if(qe=Ie.value,qe instanceof ja.c){mr.next=9;break}throw new Error("bad edit - only text edits are supported");case 9:if(it=this._modelService.getModel(qe.resource),it){mr.next=12;break}throw new Error("bad edit - model not found");case 12:if(!(typeof qe.versionId=="number"&&it.getVersionId()!==qe.versionId)){mr.next=14;break}throw new Error("bad state - model changed in the meantime");case 14:dt=q.get(it),dt||(dt=[],q.set(it,dt)),dt.push(Ra.a.replaceMove(Ka.a.lift(qe.textEdit.range),qe.textEdit.text));case 17:mr.next=5;break;case 19:mr.next=24;break;case 21:mr.prev=21,mr.t0=mr.catch(3),Se.e(mr.t0);case 24:return mr.prev=24,Se.f(),mr.finish(24);case 27:Jt=0,cn=0,Mn=Object(D.a)(q);try{for(Mn.s();!(vi=Mn.n()).done;)ii=vi.value,di=Object(an.a)(ii,2),$n=di[0],ni=di[1],$n.pushStackElement(),$n.pushEditOperations([],ni,function(){return[]}),$n.pushStackElement(),cn+=1,Jt+=ni.length}catch(fr){Mn.e(fr)}finally{Mn.f()}return mr.abrupt("return",{ariaSummary:$.v(Ar.h.bulkEditServiceSummary,Jt,cn),isApplied:Jt>0});case 32:case"end":return mr.stop()}},p,this,[[3,21,24,27]])}))}}]),he}();nc=tl([as(0,d.a)],nc);var so=function(){function he(){Object(C.a)(this,he)}return Object(x.a)(he,[{key:"getUriLabel",value:function(b,y){return b.scheme==="file"?b.fsPath:b.path}},{key:"getUriBasenameLabel",value:function(b){return Object(zr.b)(b)}}]),he}(),Sl=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p){var M;return Object(C.a)(this,b),M=le.call(this,y),M._codeEditorService=p,M}return Object(x.a)(b,[{key:"showContextView",value:function(p,M,q){if(!M){var Se=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Se&&(M=Se.getContainerDomNode())}return Object(Je.a)(Object(ft.a)(b.prototype),"showContextView",this).call(this,p,M,q)}}]),b}(Ho);Sl=tl([as(0,dn),as(1,E.a)],Sl);var nu=function(){function he(){Object(C.a)(this,he),this._neverEmitter=new _n.b,this.onDidChangeTrust=this._neverEmitter.event}return Object(x.a)(he,[{key:"isWorkspaceTrusted",value:function(){return!0}}]),he}(),nv=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(){return Object(C.a)(this,b),le.call(this)}return Object(x.a)(b)}(ho),_u=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(){return Object(C.a)(this,b),le.call(this,new En.a)}return Object(x.a)(b)}(Bl),uh=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q,Se,Ie){var qe;return Object(C.a)(this,b),qe=le.call(this,y,p,M,q,Se,Ie),qe.configure({blockMouse:!1}),qe}return Object(x.a)(b)}(Eu);uh=tl([as(0,hr.a),as(1,pi.a),as(2,ba.b),as(3,xt.a),as(4,_o.b),as(5,yi.b)],uh);var qc=function(){function he(){Object(C.a)(this,he)}return Object(x.a)(he,[{key:"playAudioCue",value:function(b,y){return Nu(this,void 0,void 0,Object(w.a)().mark(function p(){return Object(w.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:case"end":return q.stop()}},p)}))}}]),he}();Object(mi.b)(Fe.a,bu,0),Object(mi.b)(Zr.a,nf,0),Object(mi.b)(Zr.b,yu,0),Object(mi.b)(xi.a,tv,0),Object(mi.b)(Mi.a,so,0),Object(mi.b)(hr.a,Cm,0),Object(mi.b)(Qn.a,Jf,0),Object(mi.b)(pi.a,tf,0),Object(mi.b)(ds.b,Ol,0),Object(mi.b)(H.a,nv,0),Object(mi.b)(Ke.a,Ru.c,0),Object(mi.b)(En.b,_u,0),Object(mi.b)(d.a,Il,0),Object(mi.b)(gu.a,gl,0),Object(mi.b)(yi.b,ka,0),Object(mi.b)(wr.b,ef,0),Object(mi.b)(wr.a,oh,0),Object(mi.b)(g.a,g.b,0),Object(mi.b)(Xu.a,I.b,0),Object(mi.b)(ja.a,nc,0),Object(mi.b)(Tr.a,nu,0),Object(mi.b)(ws.a,ah,0),Object(mi.b)(be.b,u,0),Object(mi.b)(al.a,al.b,0),Object(mi.b)(Xa.b,sh,0),Object(mi.b)(xt.a,Jc,0),Object(mi.b)(Os.a,tc,0),Object(mi.b)(ba.b,Sl,0),Object(mi.b)(Tl.a,Zu,0),Object(mi.b)(xn.a,wn,0),Object(mi.b)(ba.a,uh,0),Object(mi.b)(_o.b,Ee,0),Object(mi.b)(tu.b,qc,0);var ta;(function(he){var le=new ll.a,b=Object(D.a)(Object(mi.a)()),y;try{for(b.s();!(y=b.n()).done;){var p=y.value,M=Object(an.a)(p,2),q=M[0],Se=M[1];le.set(q,Se)}}catch(Jt){b.e(Jt)}finally{b.f()}var Ie=new xl(le,!0);le.set(ai.a,Ie);function qe(Jt){var cn=le.get(Jt);if(!cn)throw new Error("Missing service "+Jt);return cn instanceof Aa.a?Ie.invokeFunction(function(Mn){return Mn.get(Jt)}):cn}he.get=qe;var it=!1;function dt(Jt){if(it)return Ie;it=!0;var cn=Object(D.a)(Object(mi.a)()),Mn;try{for(cn.s();!(Mn=cn.n()).done;){var vi=Mn.value,ii=Object(an.a)(vi,2),di=ii[0],$n=ii[1];le.get(di)||le.set(di,$n)}}catch(va){cn.e(va)}finally{cn.f()}for(var ni in Jt)if(Jt.hasOwnProperty(ni)){var sr=Object(ai.c)(ni),mr=le.get(sr);mr instanceof Aa.a&&le.set(sr,Jt[ni])}var fr=Object(ns.a)(),Xr=Object(D.a)(fr),Vr;try{for(Xr.s();!(Vr=Xr.n()).done;){var na=Vr.value;try{Ie.createInstance(na)}catch(va){Object(gn.h)(va)}}}catch(va){Xr.e(va)}finally{Xr.f()}return Ie}he.initialize=dt})(ta||(ta={}));var kc=function(he,le,b,y){var p=arguments.length,M=p<3?le:y===null?y=Object.getOwnPropertyDescriptor(le,b):y,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(he,le,b,y);else for(var Se=he.length-1;Se>=0;Se--)(q=he[Se])&&(M=(p<3?q(M):p>3?q(le,b,M):q(le,b))||M);return p>3&&M&&Object.defineProperty(le,b,M),M},no=function(he,le){return function(b,y){le(b,y,he)}},Om=0,jd=!1;function ch(he){if(!he){if(jd)return;jd=!0}qt.b(he||document.body)}var Ed=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q,Se,Ie,qe,it,dt,Jt,cn,Mn){var vi;Object(C.a)(this,b);var ii=Object.assign({},p);return ii.ariaLabel=ii.ariaLabel||Ar.g.editorViewAccessibleLabel,ii.ariaLabel=ii.ariaLabel+";"+Ar.g.accessibilityHelpMessage,vi=le.call(this,y,ii,{},M,q,Se,Ie,it,dt,Jt,cn,Mn),qe instanceof Jc?vi._standaloneKeybindingService=qe:vi._standaloneKeybindingService=null,ch(ii.ariaContainerElement),vi}return Object(x.a)(b,[{key:"addCommand",value:function(p,M,q){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var Se="DYNAMIC_"+ ++Om,Ie=yi.a.deserialize(q);return this._standaloneKeybindingService.addDynamicKeybinding(Se,p,M,Ie),Se}},{key:"createContextKey",value:function(p,M){return this._contextKeyService.createKey(p,M)}},{key:"addAction",value:function(p){var M=this;if(typeof p.id!="string"||typeof p.label!="string"||typeof p.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),te.a.None;var q=p.id,Se=p.label,Ie=yi.a.and(yi.a.equals("editorId",this.getId()),yi.a.deserialize(p.precondition)),qe=p.keybindings,it=yi.a.and(Ie,yi.a.deserialize(p.keybindingContext)),dt=p.contextMenuGroupId||null,Jt=p.contextMenuOrder||0,cn=function(fr){for(var Xr=arguments.length,Vr=new Array(Xr>1?Xr-1:0),na=1;na<Xr;na++)Vr[na-1]=arguments[na];return Promise.resolve(p.run.apply(p,[M].concat(Vr)))},Mn=new te.c,vi=this.getId()+":"+q;if(Mn.add(Xa.a.registerCommand(vi,cn)),dt){var ii={command:{id:vi,title:Se},when:Ie,group:dt,order:Jt};Mn.add(_o.e.appendMenuItem(_o.c.EditorContext,ii))}if(Array.isArray(qe)){var di=Object(D.a)(qe),$n;try{for(di.s();!($n=di.n()).done;){var ni=$n.value;Mn.add(this._standaloneKeybindingService.addDynamicKeybinding(vi,ni,cn,it))}}catch(mr){di.e(mr)}finally{di.f()}}var sr=new rn.a(vi,Se,Se,Ie,function(){for(var mr=arguments.length,fr=new Array(mr),Xr=0;Xr<mr;Xr++)fr[Xr]=arguments[Xr];return Promise.resolve(p.run.apply(p,[M].concat(fr)))},this._contextKeyService);return this._actions.set(q,sr),Mn.add(Object(te.l)(function(){M._actions.delete(q)})),Mn}},{key:"_triggerCommand",value:function(p,M){if(this._codeEditorService instanceof Bn)try{this._codeEditorService.setActiveCodeEditor(this),Object(Je.a)(Object(ft.a)(b.prototype),"_triggerCommand",this).call(this,p,M)}finally{this._codeEditorService.setActiveCodeEditor(null)}else Object(Je.a)(Object(ft.a)(b.prototype),"_triggerCommand",this).call(this,p,M)}}]),b}(bt.a);Ed=kc([no(2,ai.a),no(3,E.a),no(4,Xa.b),no(5,yi.b),no(6,xt.a),no(7,ei.b),no(8,pi.a),no(9,be.b),no(10,W.a),no(11,_r.a)],Ed);var Dc=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q,Se,Ie,qe,it,dt,Jt,cn,Mn,vi,ii,di){var $n;Object(C.a)(this,b);var ni=Object.assign({},p);lh(Jt,ni,!1);var sr=it.registerEditorContainer(y);typeof ni.theme=="string"&&it.setTheme(ni.theme),typeof ni.autoDetectHighContrast!="undefined"&&it.setAutoDetectHighContrast(Boolean(ni.autoDetectHighContrast));var mr=ni.model;delete ni.model,$n=le.call(this,y,ni,M,q,Se,Ie,qe,it,dt,cn,ii,di),$n._configurationService=Jt,$n._standaloneThemeService=it,$n._register(sr);var fr;if(typeof mr=="undefined"){var Xr=vi.getLanguageIdByMimeType(ni.language)||ni.language||go.b;fr=wc(Mn,vi,ni.value||"",Xr,void 0),$n._ownsModel=!0}else fr=mr,$n._ownsModel=!1;if($n._attachModel(fr),fr){var Vr={oldModelUrl:null,newModelUrl:fr.uri};$n._onDidChangeModel.fire(Vr)}return $n}return Object(x.a)(b,[{key:"dispose",value:function(){Object(Je.a)(Object(ft.a)(b.prototype),"dispose",this).call(this)}},{key:"updateOptions",value:function(p){lh(this._configurationService,p,!1),typeof p.theme=="string"&&this._standaloneThemeService.setTheme(p.theme),typeof p.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(p.autoDetectHighContrast)),Object(Je.a)(Object(ft.a)(b.prototype),"updateOptions",this).call(this,p)}},{key:"_postDetachModelCleanup",value:function(p){Object(Je.a)(Object(ft.a)(b.prototype),"_postDetachModelCleanup",this).call(this,p),p&&this._ownsModel&&(p.dispose(),this._ownsModel=!1)}}]),b}(Ed);Dc=kc([no(2,ai.a),no(3,E.a),no(4,Xa.b),no(5,yi.b),no(6,xt.a),no(7,Ke.a),no(8,pi.a),no(9,Fe.a),no(10,be.b),no(11,d.a),no(12,H.a),no(13,W.a),no(14,_r.a)],Dc);var gs=function(he){Object(O.a)(b,he);var le=Object(T.a)(b);function b(y,p,M,q,Se,Ie,qe,it,dt,Jt,cn){var Mn;Object(C.a)(this,b);var vi=Object.assign({},p);lh(it,vi,!0);var ii=Ie.registerEditorContainer(y);return typeof vi.theme=="string"&&Ie.setTheme(vi.theme),typeof vi.autoDetectHighContrast!="undefined"&&Ie.setAutoDetectHighContrast(Boolean(vi.autoDetectHighContrast)),Mn=le.call(this,y,vi,{},cn,q,M,Se,Ie,qe,dt,Jt),Mn._configurationService=it,Mn._standaloneThemeService=Ie,Mn._register(ii),Mn}return Object(x.a)(b,[{key:"dispose",value:function(){Object(Je.a)(Object(ft.a)(b.prototype),"dispose",this).call(this)}},{key:"updateOptions",value:function(p){lh(this._configurationService,p,!0),typeof p.theme=="string"&&this._standaloneThemeService.setTheme(p.theme),typeof p.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(p.autoDetectHighContrast)),Object(Je.a)(Object(ft.a)(b.prototype),"updateOptions",this).call(this,p)}},{key:"_createInnerEditor",value:function(p,M,q){return p.createInstance(Ed,M,q)}},{key:"getOriginalEditor",value:function(){return Object(Je.a)(Object(ft.a)(b.prototype),"getOriginalEditor",this).call(this)}},{key:"getModifiedEditor",value:function(){return Object(Je.a)(Object(ft.a)(b.prototype),"getModifiedEditor",this).call(this)}},{key:"addCommand",value:function(p,M,q){return this.getModifiedEditor().addCommand(p,M,q)}},{key:"createContextKey",value:function(p,M){return this.getModifiedEditor().createContextKey(p,M)}},{key:"addAction",value:function(p){return this.getModifiedEditor().addAction(p)}}]),b}(Bt.a);gs=kc([no(2,ai.a),no(3,yi.b),no(4,E.a),no(5,Ke.a),no(6,pi.a),no(7,Fe.a),no(8,ba.a),no(9,wr.a),no(10,xn.a)],gs);function wc(he,le,b,y,p){if(b=b||"",!y){var M=b.indexOf(`
`),q=b;return M!==-1&&(q=b.substring(0,M)),ed(he,b,le.createByFilepathOrFirstLine(p||null,q),p)}return ed(he,b,le.createById(y),p)}function ed(he,le,b,y){return he.createModel(le,b,y)}var td=a("jwCD"),rf=a("VHWv"),ug=a("Yr1X"),Ld=function(he,le,b,y){function p(M){return M instanceof b?M:new b(function(q){q(M)})}return new(b||(b=Promise))(function(M,q){function Se(it){try{qe(y.next(it))}catch(dt){q(dt)}}function Ie(it){try{qe(y.throw(it))}catch(dt){q(dt)}}function qe(it){it.done?M(it.value):p(it.value).then(Se,Ie)}qe((y=y.apply(he,le||[])).next())})};function iv(he,le,b){var y=ta.initialize(b||{});return y.createInstance(Dc,he,le)}function dh(he){var le=ta.get(E.a);return le.onCodeEditorAdd(function(b){he(b)})}function nd(he){var le=ta.get(E.a);return le.onDiffEditorAdd(function(b){he(b)})}function rv(){var he=ta.get(E.a);return he.listCodeEditors()}function hh(){var he=ta.get(E.a);return he.listDiffEditors()}function av(he,le,b){var y=ta.initialize(b||{});return y.createInstance(gs,he,le)}function ov(he,le){var b=ta.initialize({});return b.createInstance(Z.a,he,le)}function sv(he){if(typeof he.id!="string"||typeof he.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Xa.a.registerCommand(he.id,he.run)}function iu(he){if(typeof he.id!="string"||typeof he.label!="string"||typeof he.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");var le=yi.a.deserialize(he.precondition),b=function(Ie){for(var qe=arguments.length,it=new Array(qe>1?qe-1:0),dt=1;dt<qe;dt++)it[dt-1]=arguments[dt];return $s.d.runEditorCommand(Ie,it,le,function(Jt,cn,Mn){return Promise.resolve(he.run.apply(he,[cn].concat(Object(ve.a)(Mn))))})},y=new te.c;if(y.add(Xa.a.registerCommand(he.id,b)),he.contextMenuGroupId){var p={command:{id:he.id,title:he.label},when:le,group:he.contextMenuGroupId,order:he.contextMenuOrder||0};y.add(_o.e.appendMenuItem(_o.c.EditorContext,p))}if(Array.isArray(he.keybindings)){var M=ta.get(xt.a);if(!(M instanceof Jc))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{var q=yi.a.and(le,yi.a.deserialize(he.keybindingContext));y.add(M.addDynamicKeybindings(he.keybindings.map(function(Se){return{keybinding:Se,command:he.id,when:q}})))}}return y}function af(he){return fh([he])}function fh(he){var le=ta.get(xt.a);return le instanceof Jc?le.addDynamicKeybindings(he.map(function(b){return{keybinding:b.keybinding,command:b.command,commandArgs:b.commandArgs,when:yi.a.deserialize(b.when)}})):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),te.a.None)}function lv(he,le,b){var y=ta.get(H.a),p=y.getLanguageIdByMimeType(le)||le;return wc(ta.get(d.a),y,he,p,b)}function uv(he,le){var b=ta.get(H.a),y=b.getLanguageIdByMimeType(le)||le||go.b;he.setLanguage(b.createById(y))}function vh(he,le,b){if(he){var y=ta.get(ds.b);y.changeOne(le,he.uri,b)}}function of(he){var le=ta.get(ds.b);le.changeAll(he,[])}function jc(he){var le=ta.get(ds.b);return le.read(he)}function sf(he){var le=ta.get(ds.b);return le.onMarkerChanged(he)}function ic(he){var le=ta.get(d.a);return le.getModel(he)}function Cu(){var he=ta.get(d.a);return he.getModels()}function rc(he){var le=ta.get(d.a);return le.onModelAdded(he)}function lf(he){var le=ta.get(d.a);return le.onModelRemoved(he)}function id(he){var le=ta.get(d.a);return le.onModelLanguageChanged(function(b){he({model:b.model,oldLanguage:b.oldLanguageId})})}function Md(he){return de(ta.get(d.a),ta.get(W.a),he)}function gh(he,le){var b=ta.get(H.a),y=ta.get(Ke.a);return y.registerEditorContainer(he),ze.colorizeElement(y,b,he,le)}function mh(he,le,b){var y=ta.get(H.a),p=ta.get(Ke.a);return p.registerEditorContainer(document.body),ze.colorize(y,he,le,b)}function ph(he,le){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:4,y=ta.get(Ke.a);return y.registerEditorContainer(document.body),ze.colorizeModelLine(he,le,b)}function bh(he){var le=F.m.get(he);return le||{getInitialState:function(){return N.a},tokenize:function(y,p,M){return Object(N.b)(he,M)}}}function rd(he,le){F.m.getOrCreate(le);for(var b=bh(le),y=Object($.S)(he),p=[],M=b.getInitialState(),q=0,Se=y.length;q<Se;q++){var Ie=y[q],qe=b.tokenize(Ie,!0,M);p[q]=qe.tokens,M=qe.endState}return p}function Td(he,le){var b=ta.get(Ke.a);b.defineTheme(he,le)}function uf(he){var le=ta.get(Ke.a);le.setTheme(he)}function cv(){Y.a.clearAllFontInfos()}function Id(he,le){return Xa.a.registerCommand({id:he,handler:le})}function Pd(he){var le=ta.get(Tl.a);return le.registerOpener({open:function(y){return Ld(this,void 0,void 0,Object(w.a)().mark(function p(){return Object(w.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return typeof y=="string"&&(y=_.a.parse(y)),q.abrupt("return",he.open(y));case 2:case"end":return q.stop()}},p)}))}})}function ad(he){var le=this,b=ta.get(E.a);return b.registerCodeEditorOpenHandler(function(y,p,M){return Ld(le,void 0,void 0,Object(w.a)().mark(function q(){var Se,Ie,qe;return Object(w.a)().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if(p){dt.next=2;break}return dt.abrupt("return",null);case 2:return Ie=(Se=y.options)===null||Se===void 0?void 0:Se.selection,Ie&&typeof Ie.endLineNumber=="number"&&typeof Ie.endColumn=="number"?qe=Ie:Ie&&(qe={lineNumber:Ie.startLineNumber,column:Ie.startColumn}),dt.next=6,he.openCodeEditor(p,y.resource,qe);case 6:if(!dt.sent){dt.next=8;break}return dt.abrupt("return",p);case 8:return dt.abrupt("return",null);case 9:case"end":return dt.stop()}},q)}))})}function Ou(){return{create:iv,getEditors:rv,getDiffEditors:hh,onDidCreateEditor:dh,onDidCreateDiffEditor:nd,createDiffEditor:av,createDiffNavigator:ov,addCommand:sv,addEditorAction:iu,addKeybindingRule:af,addKeybindingRules:fh,createModel:lv,setModelLanguage:uv,setModelMarkers:vh,getModelMarkers:jc,removeAllMarkers:of,onDidChangeMarkers:sf,getModels:Cu,getModel:ic,onDidCreateModel:rc,onWillDisposeModel:lf,onDidChangeModelLanguage:id,createWebWorker:Md,colorizeElement:gh,colorize:mh,colorizeModelLine:ph,tokenize:rd,defineTheme:Td,setTheme:uf,remeasureFonts:cv,registerCommand:Id,registerLinkOpener:Pd,registerEditorOpener:ad,AccessibilitySupport:fe.a,ContentWidgetPositionPreference:fe.g,CursorChangeReason:fe.h,DefaultEndOfLine:fe.i,EditorAutoIndentStrategy:fe.k,EditorOption:fe.l,EndOfLinePreference:fe.m,EndOfLineSequence:fe.n,MinimapPosition:fe.w,MouseTargetType:fe.x,OverlayWidgetPositionPreference:fe.y,OverviewRulerLane:fe.z,GlyphMarginLane:fe.o,RenderLineNumbersType:fe.B,RenderMinimap:fe.C,ScrollbarVisibility:fe.E,ScrollType:fe.D,TextEditorCursorBlinkingStyle:fe.J,TextEditorCursorStyle:fe.K,TrackedRangeStickiness:fe.L,WrappingIndent:fe.M,InjectedTextCursorStops:fe.q,PositionAffinity:fe.A,ConfigurationChangedEvent:ce.c,BareFontInfo:ne.a,FontInfo:ne.b,TextModelResolvedOptions:B.h,FindMatch:B.b,ApplyUpdateResult:ce.a,LineRange:rf.a,LineRangeMapping:td.a,RangeMapping:td.c,EditorZoom:ug.a,EditorType:V.a,EditorOptions:ce.h}}var kl=a("zrhQ");function yh(he,le){if(!le||!Array.isArray(le))return!1;var b=Object(D.a)(le),y;try{for(b.s();!(y=b.n()).done;){var p=y.value;if(!he(p))return!1}}catch(M){b.e(M)}finally{b.f()}return!0}function Ec(he,le){return typeof he=="boolean"?he:le}function Ad(he,le){return typeof he=="string"?he:le}function _h(he){var le={},b=Object(D.a)(he),y;try{for(b.s();!(y=b.n()).done;){var p=y.value;le[p]=!0}}catch(M){b.e(M)}finally{b.f()}return le}function Rd(he){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;le&&(he=he.map(function(y){return y.toLowerCase()}));var b=_h(he);return le?function(y){return b[y.toLowerCase()]!==void 0&&b.hasOwnProperty(y.toLowerCase())}:function(y){return b[y]!==void 0&&b.hasOwnProperty(y)}}function od(he,le){le=le.replace(/@@/g,"");var b=0,y;do y=!1,le=le.replace(/@(\w+)/g,function(M,q){y=!0;var Se="";if(typeof he[q]=="string")Se=he[q];else if(he[q]&&he[q]instanceof RegExp)Se=he[q].source;else throw he[q]===void 0?Ae(he,"language definition does not contain attribute '"+q+"', used at: "+le):Ae(he,"attribute reference '"+q+"' must be a string, used at: "+le);return me(Se)?"":"(?:"+Se+")"}),b++;while(y&&b<5);le=le.replace(/\x01/g,"@");var p=(he.ignoreCase?"i":"")+(he.unicode?"u":"");return new RegExp(le,p)}function Ch(he,le,b,y){if(y<0)return he;if(y<le.length)return le[y];if(y>=100){y=y-100;var p=b.split(".");if(p.unshift(b),y<p.length)return p[y]}return null}function Oh(he,le,b,y){var p=-1,M=b,q=b.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);q&&(q[3]&&(p=parseInt(q[3]),q[2]&&(p=p+100)),M=q[4]);var Se="~",Ie=M;!M||M.length===0?(Se="!=",Ie=""):/^\w*$/.test(Ie)?Se="==":(q=M.match(/^(@|!@|~|!~|==|!=)(.*)$/),q&&(Se=q[1],Ie=q[2]));var qe;if((Se==="~"||Se==="!~")&&/^(\w|\|)*$/.test(Ie)){var it=Rd(Ie.split("|"),he.ignoreCase);qe=function(di){return Se==="~"?it(di):!it(di)}}else if(Se==="@"||Se==="!@"){var dt=he[Ie];if(!dt)throw Ae(he,"the @ match target '"+Ie+"' is not defined, in rule: "+le);if(!yh(function(ii){return typeof ii=="string"},dt))throw Ae(he,"the @ match target '"+Ie+"' must be an array of strings, in rule: "+le);var Jt=Rd(dt,he.ignoreCase);qe=function(di){return Se==="@"?Jt(di):!Jt(di)}}else if(Se==="~"||Se==="!~")if(Ie.indexOf("$")<0){var cn=od(he,"^"+Ie+"$");qe=function(di){return Se==="~"?cn.test(di):!cn.test(di)}}else qe=function(di,$n,ni,sr){var mr=od(he,"^"+Oe(he,Ie,$n,ni,sr)+"$");return mr.test(di)};else if(Ie.indexOf("$")<0){var Mn=ge(he,Ie);qe=function(di){return Se==="=="?di===Mn:di!==Mn}}else{var vi=ge(he,Ie);qe=function(di,$n,ni,sr,mr){var fr=Oe(he,vi,$n,ni,sr);return Se==="=="?di===fr:di!==fr}}return p===-1?{name:b,value:y,test:function(di,$n,ni,sr){return qe(di,di,$n,ni,sr)}}:{name:b,value:y,test:function(di,$n,ni,sr){var mr=Ch(di,$n,ni,p);return qe(mr||"",di,$n,ni,sr)}}}function Lc(he,le,b){if(b){if(typeof b=="string")return b;if(b.token||b.token===""){if(typeof b.token!="string")throw Ae(he,"a 'token' attribute must be of type string, in rule: "+le);var y={token:b.token};if(b.token.indexOf("$")>=0&&(y.tokenSubst=!0),typeof b.bracket=="string")if(b.bracket==="@open")y.bracket=1;else if(b.bracket==="@close")y.bracket=-1;else throw Ae(he,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+le);if(b.next){if(typeof b.next!="string")throw Ae(he,"the next state must be a string value in rule: "+le);var p=b.next;if(!/^(@pop|@push|@popall)$/.test(p)&&(p[0]==="@"&&(p=p.substr(1)),p.indexOf("$")<0&&!Ne(he,Oe(he,p,"",[],""))))throw Ae(he,"the next state '"+b.next+"' is not defined in rule: "+le);y.next=p}return typeof b.goBack=="number"&&(y.goBack=b.goBack),typeof b.switchTo=="string"&&(y.switchTo=b.switchTo),typeof b.log=="string"&&(y.log=b.log),typeof b.nextEmbedded=="string"&&(y.nextEmbedded=b.nextEmbedded,he.usesEmbedded=!0),y}else if(Array.isArray(b)){for(var M=[],q=0,Se=b.length;q<Se;q++)M[q]=Lc(he,le,b[q]);return{group:M}}else if(b.cases){var Ie=[];for(var qe in b.cases)if(b.cases.hasOwnProperty(qe)){var it=Lc(he,le,b.cases[qe]);qe==="@default"||qe==="@"||qe===""?Ie.push({test:void 0,value:it,name:qe}):qe==="@eos"?Ie.push({test:function(cn,Mn,vi,ii){return ii},value:it,name:qe}):Ie.push(Oh(he,le,qe,it))}var dt=he.defaultToken;return{test:function(cn,Mn,vi,ii){var di=Object(D.a)(Ie),$n;try{for(di.s();!($n=di.n()).done;){var ni=$n.value,sr=!ni.test||ni.test(cn,Mn,vi,ii);if(sr)return ni.value}}catch(mr){di.e(mr)}finally{di.f()}return dt}}}else throw Ae(he,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+le)}else return{token:""}}var Su=function(){function he(le){Object(C.a)(this,he),this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=le}return Object(x.a)(he,[{key:"setRegex",value:function(b,y){var p;if(typeof y=="string")p=y;else if(y instanceof RegExp)p=y.source;else throw Ae(b,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=p.length>0&&p[0]==="^",this.name=this.name+": "+p,this.regex=od(b,"^(?:"+(this.matchOnlyAtLineStart?p.substr(1):p)+")")}},{key:"setAction",value:function(b,y){this.action=Lc(b,this.name,y)}}]),he}();function Mc(he,le){if(!le||typeof le!="object")throw new Error("Monarch: expecting a language definition object");var b={};b.languageId=he,b.includeLF=Ec(le.includeLF,!1),b.noThrow=!1,b.maxStack=100,b.start=typeof le.start=="string"?le.start:null,b.ignoreCase=Ec(le.ignoreCase,!1),b.unicode=Ec(le.unicode,!1),b.tokenPostfix=Ad(le.tokenPostfix,"."+b.languageId),b.defaultToken=Ad(le.defaultToken,"source"),b.usesEmbedded=!1;var y=le;y.languageId=he,y.includeLF=b.includeLF,y.ignoreCase=b.ignoreCase,y.unicode=b.unicode,y.noThrow=b.noThrow,y.usesEmbedded=b.usesEmbedded,y.stateNames=le.tokenizer,y.defaultToken=b.defaultToken;function p(Jt,cn,Mn){var vi=Object(D.a)(Mn),ii;try{for(vi.s();!(ii=vi.n()).done;){var di=ii.value,$n=di.include;if($n){if(typeof $n!="string")throw Ae(b,"an 'include' attribute must be a string at: "+Jt);if($n[0]==="@"&&($n=$n.substr(1)),!le.tokenizer[$n])throw Ae(b,"include target '"+$n+"' is not defined at: "+Jt);p(Jt+"."+$n,cn,le.tokenizer[$n])}else{var ni=new Su(Jt);if(Array.isArray(di)&&di.length>=1&&di.length<=3)if(ni.setRegex(y,di[0]),di.length>=3)if(typeof di[1]=="string")ni.setAction(y,{token:di[1],next:di[2]});else if(typeof di[1]=="object"){var sr=di[1];sr.next=di[2],ni.setAction(y,sr)}else throw Ae(b,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+Jt);else ni.setAction(y,di[1]);else{if(!di.regex)throw Ae(b,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+Jt);di.name&&typeof di.name=="string"&&(ni.name=di.name),di.matchOnlyAtStart&&(ni.matchOnlyAtLineStart=Ec(di.matchOnlyAtLineStart,!1)),ni.setRegex(y,di.regex),ni.setAction(y,di.action)}cn.push(ni)}}}catch(mr){vi.e(mr)}finally{vi.f()}}if(!le.tokenizer||typeof le.tokenizer!="object")throw Ae(b,"a language definition must define the 'tokenizer' attribute as an object");b.tokenizer=[];for(var M in le.tokenizer)if(le.tokenizer.hasOwnProperty(M)){b.start||(b.start=M);var q=le.tokenizer[M];b.tokenizer[M]=new Array,p("tokenizer."+M,b.tokenizer[M],q)}if(b.usesEmbedded=y.usesEmbedded,le.brackets){if(!Array.isArray(le.brackets))throw Ae(b,"the 'brackets' attribute must be defined as an array")}else le.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];var Se=[],Ie=Object(D.a)(le.brackets),qe;try{for(Ie.s();!(qe=Ie.n()).done;){var it=qe.value,dt=it;if(dt&&Array.isArray(dt)&&dt.length===3&&(dt={token:dt[2],open:dt[0],close:dt[1]}),dt.open===dt.close)throw Ae(b,"open and close brackets in a 'brackets' attribute must be different: "+dt.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof dt.open=="string"&&typeof dt.token=="string"&&typeof dt.close=="string")Se.push({token:dt.token+b.tokenPostfix,open:ge(b,dt.open),close:ge(b,dt.close)});else throw Ae(b,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}}catch(Jt){Ie.e(Jt)}finally{Ie.f()}return b.brackets=Se,b.noThrow=!0,b}var Nd=function(he,le,b,y){function p(M){return M instanceof b?M:new b(function(q){q(M)})}return new(b||(b=Promise))(function(M,q){function Se(it){try{qe(y.next(it))}catch(dt){q(dt)}}function Ie(it){try{qe(y.throw(it))}catch(dt){q(dt)}}function qe(it){it.done?M(it.value):p(it.value).then(Se,Ie)}qe((y=y.apply(he,le||[])).next())})};function cf(he){go.a.registerLanguage(he)}function df(){var he=[];return he=he.concat(go.a.getLanguages()),he}function Sh(he){var le=ta.get(H.a);return le.languageIdCodec.encodeLanguageId(he)}function hf(he,le){var b=ta.get(H.a),y=b.onDidRequestRichLanguageFeatures(function(p){p===he&&(y.dispose(),le())});return y}function ff(he,le){var b=ta.get(H.a),y=b.onDidRequestBasicLanguageFeatures(function(p){p===he&&(y.dispose(),le())});return y}function dv(he,le){var b=ta.get(H.a);if(!b.isRegisteredLanguageId(he))throw new Error("Cannot set configuration for unknown language ".concat(he));var y=ta.get(W.a);return y.register(he,le,100)}var kh=function(){function he(le,b){Object(C.a)(this,he),this._languageId=le,this._actual=b}return Object(x.a)(he,[{key:"dispose",value:function(){}},{key:"getInitialState",value:function(){return this._actual.getInitialState()}},{key:"tokenize",value:function(b,y,p){if(typeof this._actual.tokenize=="function")return Dh.adaptTokenize(this._languageId,this._actual,b,p);throw new Error("Not supported!")}},{key:"tokenizeEncoded",value:function(b,y,p){var M=this._actual.tokenizeEncoded(b,p);return new F.d(M.tokens,M.endState)}}]),he}(),Dh=function(){function he(le,b,y,p){Object(C.a)(this,he),this._languageId=le,this._actual=b,this._languageService=y,this._standaloneThemeService=p}return Object(x.a)(he,[{key:"dispose",value:function(){}},{key:"getInitialState",value:function(){return this._actual.getInitialState()}},{key:"tokenize",value:function(b,y,p){return he.adaptTokenize(this._languageId,this._actual,b,p)}},{key:"_toBinaryTokens",value:function(b,y){for(var p=b.encodeLanguageId(this._languageId),M=this._standaloneThemeService.getColorTheme().tokenTheme,q=[],Se=0,Ie=0,qe=0,it=y.length;qe<it;qe++){var dt=y[qe],Jt=M.match(p,dt.scopes)|1024;if(!(Se>0&&q[Se-1]===Jt)){var cn=dt.startIndex;qe===0?cn=0:cn<Ie&&(cn=Ie),q[Se++]=cn,q[Se++]=Jt,Ie=cn}}for(var Mn=new Uint32Array(Se),vi=0;vi<Se;vi++)Mn[vi]=q[vi];return Mn}},{key:"tokenizeEncoded",value:function(b,y,p){var M=this._actual.tokenize(b,p),q=this._toBinaryTokens(this._languageService.languageIdCodec,M.tokens),Se;return M.endState.equals(p)?Se=p:Se=M.endState,new F.d(q,Se)}}],[{key:"_toClassicTokens",value:function(b,y){for(var p=[],M=0,q=0,Se=b.length;q<Se;q++){var Ie=b[q],qe=Ie.startIndex;q===0?qe=0:qe<M&&(qe=M),p[q]=new F.l(qe,Ie.scopes,y),M=qe}return p}},{key:"adaptTokenize",value:function(b,y,p,M){var q=y.tokenize(p,M),Se=he._toClassicTokens(q.tokens,b),Ie;return q.endState.equals(M)?Ie=M:Ie=q.endState,new F.n(Se,Ie)}}]),he}();function ac(he){return typeof he.getInitialState=="function"}function vf(he){return"tokenizeEncoded"in he}function Tc(he){return he&&typeof he.then=="function"}function cg(he){var le=ta.get(Ke.a);if(he){for(var b=[null],y=1,p=he.length;y<p;y++)b[y]=kl.a.fromHex(he[y]);le.setColorMapOverride(b)}else le.setColorMapOverride(null)}function sd(he,le){return vf(le)?new kh(he,le):new Dh(he,le,ta.get(H.a),ta.get(Ke.a))}function xd(he,le){var b=this,y=new F.h(function(){return Nd(b,void 0,void 0,Object(w.a)().mark(function p(){var M;return Object(w.a)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,Promise.resolve(le.create());case 2:if(M=Se.sent,M){Se.next=5;break}return Se.abrupt("return",null);case 5:if(!ac(M)){Se.next=7;break}return Se.abrupt("return",sd(he,M));case 7:return Se.abrupt("return",new ye(ta.get(H.a),ta.get(Ke.a),he,Mc(he,M),ta.get(Fe.a)));case 8:case"end":return Se.stop()}},p)}))});return F.m.registerFactory(he,y)}function hv(he,le){var b=ta.get(H.a);if(!b.isRegisteredLanguageId(he))throw new Error("Cannot set tokens provider for unknown language ".concat(he));return Tc(le)?xd(he,{create:function(){return le}}):F.m.register(he,sd(he,le))}function fv(he,le){var b=function(p){return new ye(ta.get(H.a),ta.get(Ke.a),he,Mc(he,p),ta.get(Fe.a))};return Tc(le)?xd(he,{create:function(){return le}}):F.m.register(he,b(le))}function gf(he,le){var b=ta.get(_r.a);return b.referenceProvider.register(he,le)}function vv(he,le){var b=ta.get(_r.a);return b.renameProvider.register(he,le)}function gv(he,le){var b=ta.get(_r.a);return b.signatureHelpProvider.register(he,le)}function Ue(he,le){var b=ta.get(_r.a);return b.hoverProvider.register(he,{provideHover:function(p,M,q){var Se=p.getWordAtPosition(M);return Promise.resolve(le.provideHover(p,M,q)).then(function(Ie){if(!!Ie)return!Ie.range&&Se&&(Ie.range=new Ka.a(M.lineNumber,Se.startColumn,M.lineNumber,Se.endColumn)),Ie.range||(Ie.range=new Ka.a(M.lineNumber,M.column,M.lineNumber,M.column)),Ie})}})}function Be(he,le){var b=ta.get(_r.a);return b.documentSymbolProvider.register(he,le)}function St(he,le){var b=ta.get(_r.a);return b.documentHighlightProvider.register(he,le)}function rt(he,le){var b=ta.get(_r.a);return b.linkedEditingRangeProvider.register(he,le)}function ht(he,le){var b=ta.get(_r.a);return b.definitionProvider.register(he,le)}function Kt(he,le){var b=ta.get(_r.a);return b.implementationProvider.register(he,le)}function fn(he,le){var b=ta.get(_r.a);return b.typeDefinitionProvider.register(he,le)}function tn(he,le){var b=ta.get(_r.a);return b.codeLensProvider.register(he,le)}function On(he,le,b){var y=ta.get(_r.a);return y.codeActionProvider.register(he,{providedCodeActionKinds:b==null?void 0:b.providedCodeActionKinds,documentation:b==null?void 0:b.documentation,provideCodeActions:function(M,q,Se,Ie){var qe=ta.get(ds.b),it=qe.read({resource:M.uri}).filter(function(dt){return Ka.a.areIntersectingOrTouching(dt,q)});return le.provideCodeActions(M,q,{markers:it,only:Se.only,trigger:Se.trigger},Ie)},resolveCodeAction:le.resolveCodeAction})}function Fn(he,le){var b=ta.get(_r.a);return b.documentFormattingEditProvider.register(he,le)}function li(he,le){var b=ta.get(_r.a);return b.documentRangeFormattingEditProvider.register(he,le)}function Xn(he,le){var b=ta.get(_r.a);return b.onTypeFormattingEditProvider.register(he,le)}function Yn(he,le){var b=ta.get(_r.a);return b.linkProvider.register(he,le)}function ci(he,le){var b=ta.get(_r.a);return b.completionProvider.register(he,le)}function ji(he,le){var b=ta.get(_r.a);return b.colorProvider.register(he,le)}function Ni(he,le){var b=ta.get(_r.a);return b.foldingRangeProvider.register(he,le)}function Ei(he,le){var b=ta.get(_r.a);return b.declarationProvider.register(he,le)}function Zi(he,le){var b=ta.get(_r.a);return b.selectionRangeProvider.register(he,le)}function Xi(he,le){var b=ta.get(_r.a);return b.documentSemanticTokensProvider.register(he,le)}function Cr(he,le){var b=ta.get(_r.a);return b.documentRangeSemanticTokensProvider.register(he,le)}function br(he,le){var b=ta.get(_r.a);return b.inlineCompletionsProvider.register(he,le)}function Ir(he,le){var b=ta.get(_r.a);return b.inlayHintsProvider.register(he,le)}function cr(){return{register:cf,getLanguages:df,onLanguage:hf,onLanguageEncountered:ff,getEncodedLanguageId:Sh,setLanguageConfiguration:dv,setColorMap:cg,registerTokensProviderFactory:xd,setTokensProvider:hv,setMonarchTokensProvider:fv,registerReferenceProvider:gf,registerRenameProvider:vv,registerCompletionItemProvider:ci,registerSignatureHelpProvider:gv,registerHoverProvider:Ue,registerDocumentSymbolProvider:Be,registerDocumentHighlightProvider:St,registerLinkedEditingRangeProvider:rt,registerDefinitionProvider:ht,registerImplementationProvider:Kt,registerTypeDefinitionProvider:fn,registerCodeLensProvider:tn,registerCodeActionProvider:On,registerDocumentFormattingEditProvider:Fn,registerDocumentRangeFormattingEditProvider:li,registerOnTypeFormattingEditProvider:Xn,registerLinkProvider:Yn,registerColorProvider:ji,registerFoldingRangeProvider:Ni,registerDeclarationProvider:Ei,registerSelectionRangeProvider:Zi,registerDocumentSemanticTokensProvider:Xi,registerDocumentRangeSemanticTokensProvider:Cr,registerInlineCompletionsProvider:br,registerInlayHintsProvider:Ir,DocumentHighlightKind:fe.j,CompletionItemKind:fe.d,CompletionItemTag:fe.e,CompletionItemInsertTextRule:fe.c,SymbolKind:fe.H,SymbolTag:fe.I,IndentAction:fe.p,CompletionTriggerKind:fe.f,SignatureHelpTriggerKind:fe.G,InlayHintKind:fe.r,InlineCompletionTriggerKind:fe.s,CodeActionTriggerType:fe.b,FoldingRangeKind:F.e,SelectedSuggestionInfo:F.i}}var Mr=a("ezu8");ce.h.wrappingIndent.defaultValue=0,ce.h.glyphMargin.defaultValue=!1,ce.h.autoIndent.defaultValue=3,ce.h.overviewRulerLanes.defaultValue=2,Mr.a.setFormatterSelector(function(he,le,b){return Promise.resolve(he[0])});var tr=Object(we.a)();tr.editor=Ou(),tr.languages=cr();var Fi=tr.CancellationTokenSource,zi=tr.Emitter,lr=tr.KeyCode,pr=tr.KeyMod,Or=tr.Position,ur=tr.Range,nr=tr.Selection,Pr=tr.SelectionDirection,Hr=tr.MarkerSeverity,Ur=tr.MarkerTag,aa=tr.Uri,Da=tr.Token,Sr=tr.editor,da=tr.languages,Ea=globalThis.MonacoEnvironment;((Ea==null?void 0:Ea.globalAPI)||typeof define=="function"&&a("FzHg"))&&(globalThis.monaco=tr),typeof globalThis.require!="undefined"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},"99AM":function(mn,U,a){"use strict";a.d(U,"e",function(){return ve}),a.d(U,"a",function(){return se}),a.d(U,"h",function(){return te}),a.d(U,"j",function(){return $}),a.d(U,"d",function(){return E}),a.d(U,"c",function(){return Z}),a.d(U,"b",function(){return ne}),a.d(U,"f",function(){return B}),a.d(U,"k",function(){return F}),a.d(U,"i",function(){return W}),a.d(U,"g",function(){return N});var ce=a("MD5Z"),we=a("zrhQ");function w(H,d){var D=Object.assign({},d);for(var C in H){var x=H[C];D[C]=x!==void 0?Object(ce.c)(x):void 0}return D}var ve={keybindingLabelBackground:Object(ce.c)(ce.Db),keybindingLabelForeground:Object(ce.c)(ce.Gb),keybindingLabelBorder:Object(ce.c)(ce.Eb),keybindingLabelBottomBorder:Object(ce.c)(ce.Fb),keybindingLabelShadow:Object(ce.c)(ce.Wc)},se={buttonForeground:Object(ce.c)(ce.n),buttonSeparator:Object(ce.c)(ce.s),buttonBackground:Object(ce.c)(ce.l),buttonHoverBackground:Object(ce.c)(ce.o),buttonSecondaryForeground:Object(ce.c)(ce.q),buttonSecondaryBackground:Object(ce.c)(ce.p),buttonSecondaryHoverBackground:Object(ce.c)(ce.r),buttonBorder:Object(ce.c)(ce.m)},te={progressBarBackground:Object(ce.c)(ce.yc)},$={inputActiveOptionBorder:Object(ce.c)(ce.pb),inputActiveOptionForeground:Object(ce.c)(ce.qb),inputActiveOptionBackground:Object(ce.c)(ce.ob)},_={checkboxBackground:Object(ce.c)(ce.t),checkboxBorder:Object(ce.c)(ce.u),checkboxForeground:Object(ce.c)(ce.v)},Y={dialogBackground:Object(ce.c)(ce.gb),dialogForeground:Object(ce.c)(ce.ib),dialogShadow:Object(ce.c)(ce.Wc),dialogBorder:Object(ce.c)(ce.w),errorIconForeground:Object(ce.c)(ce.vc),warningIconForeground:Object(ce.c)(ce.xc),infoIconForeground:Object(ce.c)(ce.wc),textLinkForeground:Object(ce.c)(ce.Qc)},E={inputBackground:Object(ce.c)(ce.rb),inputForeground:Object(ce.c)(ce.tb),inputBorder:Object(ce.c)(ce.sb),inputValidationInfoBorder:Object(ce.c)(ce.yb),inputValidationInfoBackground:Object(ce.c)(ce.xb),inputValidationInfoForeground:Object(ce.c)(ce.zb),inputValidationWarningBorder:Object(ce.c)(ce.Bb),inputValidationWarningBackground:Object(ce.c)(ce.Ab),inputValidationWarningForeground:Object(ce.c)(ce.Cb),inputValidationErrorBorder:Object(ce.c)(ce.vb),inputValidationErrorBackground:Object(ce.c)(ce.ub),inputValidationErrorForeground:Object(ce.c)(ce.wb)},Z={listFilterWidgetBackground:Object(ce.c)(ce.Lb),listFilterWidgetOutline:Object(ce.c)(ce.Nb),listFilterWidgetNoMatchesOutline:Object(ce.c)(ce.Mb),listFilterWidgetShadow:Object(ce.c)(ce.Ob),inputBoxStyles:E,toggleStyles:$},ne={badgeBackground:Object(ce.c)(ce.f),badgeForeground:Object(ce.c)(ce.g),badgeBorder:Object(ce.c)(ce.w)},V={breadcrumbsBackground:Object(ce.c)(ce.i),breadcrumbsForeground:Object(ce.c)(ce.k),breadcrumbsHoverForeground:Object(ce.c)(ce.j),breadcrumbsFocusForeground:Object(ce.c)(ce.j),breadcrumbsFocusAndSelectionForeground:Object(ce.c)(ce.h)},B={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:Object(ce.c)(ce.Qb),listFocusForeground:Object(ce.c)(ce.Rb),listFocusOutline:Object(ce.c)(ce.Tb),listActiveSelectionBackground:Object(ce.c)(ce.Hb),listActiveSelectionForeground:Object(ce.c)(ce.Ib),listActiveSelectionIconForeground:Object(ce.c)(ce.Jb),listFocusAndSelectionOutline:Object(ce.c)(ce.Pb),listFocusAndSelectionBackground:Object(ce.c)(ce.Hb),listFocusAndSelectionForeground:Object(ce.c)(ce.Ib),listInactiveSelectionBackground:Object(ce.c)(ce.Zb),listInactiveSelectionIconForeground:Object(ce.c)(ce.bc),listInactiveSelectionForeground:Object(ce.c)(ce.ac),listInactiveFocusBackground:Object(ce.c)(ce.Xb),listInactiveFocusOutline:Object(ce.c)(ce.Yb),listHoverBackground:Object(ce.c)(ce.Vb),listHoverForeground:Object(ce.c)(ce.Wb),listDropBackground:Object(ce.c)(ce.Kb),listSelectionOutline:Object(ce.c)(ce.b),listHoverOutline:Object(ce.c)(ce.b),treeIndentGuidesStroke:Object(ce.c)(ce.Uc),treeInactiveIndentGuidesStroke:Object(ce.c)(ce.Tc),tableColumnsBorder:Object(ce.c)(ce.Oc),tableOddRowsBackgroundColor:Object(ce.c)(ce.Pc)};function F(H){return w(H,B)}var W={selectBackground:Object(ce.c)(ce.Kc),selectListBackground:Object(ce.c)(ce.Nc),selectForeground:Object(ce.c)(ce.Mc),decoratorRightForeground:Object(ce.c)(ce.uc),selectBorder:Object(ce.c)(ce.Lc),focusBorder:Object(ce.c)(ce.lb),listFocusBackground:Object(ce.c)(ce.Bc),listInactiveSelectionIconForeground:Object(ce.c)(ce.Dc),listFocusForeground:Object(ce.c)(ce.Cc),listFocusOutline:Object(ce.e)(ce.b,we.a.transparent.toString()),listHoverBackground:Object(ce.c)(ce.Vb),listHoverForeground:Object(ce.c)(ce.Wb),listHoverOutline:Object(ce.c)(ce.b),selectListBorder:Object(ce.c)(ce.hb),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},N={shadowColor:Object(ce.c)(ce.Wc),borderColor:Object(ce.c)(ce.dc),foregroundColor:Object(ce.c)(ce.ec),backgroundColor:Object(ce.c)(ce.cc),selectionForegroundColor:Object(ce.c)(ce.hc),selectionBackgroundColor:Object(ce.c)(ce.fc),selectionBorderColor:Object(ce.c)(ce.gc),separatorColor:Object(ce.c)(ce.ic),scrollbarShadow:Object(ce.c)(ce.Gc),scrollbarSliderBackground:Object(ce.c)(ce.Ic),scrollbarSliderHoverBackground:Object(ce.c)(ce.Jc),scrollbarSliderActiveBackground:Object(ce.c)(ce.Hc)}},"9XeP":function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("clipboardService")},"9Y+e":function(mn,U,a){"use strict";a.d(U,"a",function(){return w});var ce=a("fWQN"),we=a("mtLc"),w=function(){function ve(se,te,$,_,Y,E){Object(ce.a)(this,ve),this.id=se,this.label=te,this.alias=$,this._precondition=_,this._run=Y,this._contextKeyService=E}return Object(we.a)(ve,[{key:"isSupported",value:function(){return this._contextKeyService.contextMatchesRules(this._precondition)}},{key:"run",value:function(te){return this.isSupported()?this._run(te):Promise.resolve(void 0)}}]),ve}()},"9fML":function(mn,U,a){"use strict";a.d(U,"b",function(){return w}),a.d(U,"a",function(){return ve});var ce=a("r0BQ"),we=[];function w(se,te,$){te instanceof ce.a||(te=new ce.a(te,[],Boolean($))),we.push([se,te])}function ve(){return we}},"A+jI":function(mn,U,a){"use strict";a.d(U,"a",function(){return D}),a.d(U,"c",function(){return C}),a.d(U,"b",function(){return T});var ce=a("fWQN"),we=a("mtLc"),w=a("yKVA"),ve=a("879j"),se=a("MI8n"),te=a("pmY6"),$=a("746U"),_=a("qLMh"),Y=a("w4Tj"),E=a("oZsa"),Z=a("X+cX"),ne=a("Q4rV"),V=function(z,I,de,pe){function fe(ke){return ke instanceof de?ke:new de(function(A){A(ke)})}return new(de||(de=Promise))(function(ke,A){function P(ae){try{re(pe.next(ae))}catch(Q){A(Q)}}function G(ae){try{re(pe.throw(ae))}catch(Q){A(Q)}}function re(ae){ae.done?ke(ae.value):fe(ae.value).then(P,G)}re((pe=pe.apply(z,I||[])).next())})},B;(function(z){z[z.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",z[z.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(B||(B={}));var F;(function(z){z[z.None=0]="None",z[z.Initialized=1]="Initialized",z[z.Closed=2]="Closed"})(F||(F={}));var W=function(z){Object(w.a)(de,z);var I=Object(ve.a)(de);function de(pe){var fe,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.create(null);return Object(ce.a)(this,de),fe=I.call(this),fe.database=pe,fe.options=ke,fe._onDidChangeStorage=fe._register(new se.b),fe.onDidChangeStorage=fe._onDidChangeStorage.event,fe.state=F.None,fe.cache=new Map,fe.flushDelayer=new Z.h(de.DEFAULT_FLUSH_DELAY),fe.pendingDeletes=new Set,fe.pendingInserts=new Map,fe.whenFlushedCallbacks=[],fe.registerListeners(),fe}return Object(we.a)(de,[{key:"registerListeners",value:function(){var fe=this;this._register(this.database.onDidChangeItemsExternal(function(ke){return fe.onDidChangeItemsExternal(ke)}))}},{key:"onDidChangeItemsExternal",value:function(fe){var ke=this,A,P;(A=fe.changed)===null||A===void 0||A.forEach(function(G,re){return ke.accept(re,G)}),(P=fe.deleted)===null||P===void 0||P.forEach(function(G){return ke.accept(G,void 0)})}},{key:"accept",value:function(fe,ke){if(this.state!==F.Closed){var A=!1;if(Object($.l)(ke))A=this.cache.delete(fe);else{var P=this.cache.get(fe);P!==ke&&(this.cache.set(fe,ke),A=!0)}A&&this._onDidChangeStorage.fire(fe)}}},{key:"get",value:function(fe,ke){var A=this.cache.get(fe);return Object($.l)(A)?ke:A}},{key:"getBoolean",value:function(fe,ke){var A=this.get(fe);return Object($.l)(A)?ke:A==="true"}},{key:"getNumber",value:function(fe,ke){var A=this.get(fe);return Object($.l)(A)?ke:parseInt(A,10)}},{key:"set",value:function(fe,ke){return V(this,void 0,void 0,Object(_.a)().mark(function A(){var P,G;return Object(_.a)().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(this.state!==F.Closed){ae.next=2;break}return ae.abrupt("return");case 2:if(!Object($.l)(ke)){ae.next=4;break}return ae.abrupt("return",this.delete(fe));case 4:if(P=Object($.h)(ke)||Array.isArray(ke)?Object(ne.b)(ke):String(ke),G=this.cache.get(fe),G!==P){ae.next=8;break}return ae.abrupt("return");case 8:return this.cache.set(fe,P),this.pendingInserts.set(fe,P),this.pendingDeletes.delete(fe),this._onDidChangeStorage.fire(fe),ae.abrupt("return",this.doFlush());case 13:case"end":return ae.stop()}},A,this)}))}},{key:"delete",value:function(fe){return V(this,void 0,void 0,Object(_.a)().mark(function ke(){var A;return Object(_.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(this.state!==F.Closed){G.next=2;break}return G.abrupt("return");case 2:if(A=this.cache.delete(fe),A){G.next=5;break}return G.abrupt("return");case 5:return this.pendingDeletes.has(fe)||this.pendingDeletes.add(fe),this.pendingInserts.delete(fe),this._onDidChangeStorage.fire(fe),G.abrupt("return",this.doFlush());case 9:case"end":return G.stop()}},ke,this)}))}},{key:"hasPending",get:function(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}},{key:"flushPending",value:function(){return V(this,void 0,void 0,Object(_.a)().mark(function fe(){var ke=this,A;return Object(_.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(this.hasPending){G.next=2;break}return G.abrupt("return");case 2:return A={insert:this.pendingInserts,delete:this.pendingDeletes},this.pendingDeletes=new Set,this.pendingInserts=new Map,G.abrupt("return",this.database.updateItems(A).finally(function(){var re;if(!ke.hasPending)for(;ke.whenFlushedCallbacks.length;)(re=ke.whenFlushedCallbacks.pop())===null||re===void 0||re()}));case 6:case"end":return G.stop()}},fe,this)}))}},{key:"doFlush",value:function(fe){return V(this,void 0,void 0,Object(_.a)().mark(function ke(){var A=this;return Object(_.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",this.flushDelayer.trigger(function(){return A.flushPending()},fe));case 1:case"end":return G.stop()}},ke,this)}))}},{key:"dispose",value:function(){this.flushDelayer.dispose(),Object(Y.a)(Object(E.a)(de.prototype),"dispose",this).call(this)}}]),de}(te.a);W.DEFAULT_FLUSH_DELAY=100;var N=function(){function z(){Object(ce.a)(this,z),this.onDidChangeItemsExternal=se.c.None,this.items=new Map}return Object(we.a)(z,[{key:"updateItems",value:function(de){var pe,fe;return V(this,void 0,void 0,Object(_.a)().mark(function ke(){var A=this;return Object(_.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:(pe=de.insert)===null||pe===void 0||pe.forEach(function(re,ae){return A.items.set(ae,re)}),(fe=de.delete)===null||fe===void 0||fe.forEach(function(re){return A.items.delete(re)});case 2:case"end":return G.stop()}},ke)}))}}]),z}(),H=a("Cg/j"),d="__$__targetStorageMarker",D=Object(H.c)("storageService"),C;(function(z){z[z.NONE=0]="NONE",z[z.SHUTDOWN=1]="SHUTDOWN"})(C||(C={}));function x(z){var I=z.get(d);if(I)try{return JSON.parse(I)}catch(de){}return Object.create(null)}var O=function(z){Object(w.a)(de,z);var I=Object(ve.a)(de);function de(){var pe,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{flushInterval:de.DEFAULT_FLUSH_INTERVAL};return Object(ce.a)(this,de),pe=I.call(this),pe.options=fe,pe._onDidChangeValue=pe._register(new se.h),pe.onDidChangeValue=pe._onDidChangeValue.event,pe._onDidChangeTarget=pe._register(new se.h),pe._onWillSaveState=pe._register(new se.b),pe.onWillSaveState=pe._onWillSaveState.event,pe._workspaceKeyTargets=void 0,pe._profileKeyTargets=void 0,pe._applicationKeyTargets=void 0,pe}return Object(we.a)(de,[{key:"emitDidChangeValue",value:function(fe,ke){if(ke===d){switch(fe){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:fe})}else this._onDidChangeValue.fire({scope:fe,key:ke,target:this.getKeyTargets(fe)[ke]})}},{key:"get",value:function(fe,ke,A){var P;return(P=this.getStorage(ke))===null||P===void 0?void 0:P.get(fe,A)}},{key:"getBoolean",value:function(fe,ke,A){var P;return(P=this.getStorage(ke))===null||P===void 0?void 0:P.getBoolean(fe,A)}},{key:"getNumber",value:function(fe,ke,A){var P;return(P=this.getStorage(ke))===null||P===void 0?void 0:P.getNumber(fe,A)}},{key:"store",value:function(fe,ke,A,P){var G=this;if(Object($.l)(ke)){this.remove(fe,A);return}this.withPausedEmitters(function(){var re;G.updateKeyTarget(fe,A,P),(re=G.getStorage(A))===null||re===void 0||re.set(fe,ke)})}},{key:"remove",value:function(fe,ke){var A=this;this.withPausedEmitters(function(){var P;A.updateKeyTarget(fe,ke,void 0),(P=A.getStorage(ke))===null||P===void 0||P.delete(fe)})}},{key:"withPausedEmitters",value:function(fe){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{fe()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}},{key:"updateKeyTarget",value:function(fe,ke,A){var P,G,re=this.getKeyTargets(ke);typeof A=="number"?re[fe]!==A&&(re[fe]=A,(P=this.getStorage(ke))===null||P===void 0||P.set(d,JSON.stringify(re))):typeof re[fe]=="number"&&(delete re[fe],(G=this.getStorage(ke))===null||G===void 0||G.set(d,JSON.stringify(re)))}},{key:"workspaceKeyTargets",get:function(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}},{key:"profileKeyTargets",get:function(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}},{key:"applicationKeyTargets",get:function(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}},{key:"getKeyTargets",value:function(fe){switch(fe){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}},{key:"loadKeyTargets",value:function(fe){var ke=this.getStorage(fe);return ke?x(ke):Object.create(null)}}]),de}(te.a);O.DEFAULT_FLUSH_INTERVAL=60*1e3;var T=function(z){Object(w.a)(de,z);var I=Object(ve.a)(de);function de(){var pe;return Object(ce.a)(this,de),pe=I.call(this),pe.applicationStorage=pe._register(new W(new N,{hint:B.STORAGE_IN_MEMORY})),pe.profileStorage=pe._register(new W(new N,{hint:B.STORAGE_IN_MEMORY})),pe.workspaceStorage=pe._register(new W(new N,{hint:B.STORAGE_IN_MEMORY})),pe._register(pe.workspaceStorage.onDidChangeStorage(function(fe){return pe.emitDidChangeValue(1,fe)})),pe._register(pe.profileStorage.onDidChangeStorage(function(fe){return pe.emitDidChangeValue(0,fe)})),pe._register(pe.applicationStorage.onDidChangeStorage(function(fe){return pe.emitDidChangeValue(-1,fe)})),pe}return Object(we.a)(de,[{key:"getStorage",value:function(fe){switch(fe){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}]),de}(O)},"A9l+":function(mn,U,a){"use strict";a.d(U,"a",function(){return we}),a.d(U,"c",function(){return w}),a.d(U,"b",function(){return ve}),a.d(U,"e",function(){return se}),a.d(U,"d",function(){return te}),a.d(U,"f",function(){return $}),a.d(U,"g",function(){return _}),a.d(U,"i",function(){return Y}),a.d(U,"h",function(){return E});var ce=a("3/fG"),we;(function(Z){Z.noSelection=ce.b("noSelection","No selection"),Z.singleSelectionRange=ce.b("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),Z.singleSelection=ce.b("singleSelection","Line {0}, Column {1}"),Z.multiSelectionRange=ce.b("multiSelectionRange","{0} selections ({1} characters selected)"),Z.multiSelection=ce.b("multiSelection","{0} selections"),Z.emergencyConfOn=ce.b("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),Z.openingDocs=ce.b("openingDocs","Now opening the Editor Accessibility documentation page."),Z.readonlyDiffEditor=ce.b("readonlyDiffEditor"," in a read-only pane of a diff editor."),Z.editableDiffEditor=ce.b("editableDiffEditor"," in a pane of a diff editor."),Z.readonlyEditor=ce.b("readonlyEditor"," in a read-only code editor"),Z.editableEditor=ce.b("editableEditor"," in a code editor"),Z.changeConfigToOnMac=ce.b("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),Z.changeConfigToOnWinLinux=ce.b("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),Z.auto_on=ce.b("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),Z.auto_off=ce.b("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),Z.tabFocusModeOnMsg=ce.b("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),Z.tabFocusModeOnMsgNoKb=ce.b("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),Z.tabFocusModeOffMsg=ce.b("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),Z.tabFocusModeOffMsgNoKb=ce.b("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),Z.openDocMac=ce.b("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),Z.openDocWinLinux=ce.b("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),Z.outroMsg=ce.b("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),Z.showAccessibilityHelpAction=ce.b("showAccessibilityHelpAction","Show Accessibility Help"),Z.accessibilityHelpTitle=ce.b("accessibilityHelpTitle","Accessibility Help")})(we||(we={}));var w;(function(Z){Z.inspectTokensAction=ce.b("inspectTokens","Developer: Inspect Tokens")})(w||(w={}));var ve;(function(Z){Z.gotoLineActionLabel=ce.b("gotoLineActionLabel","Go to Line/Column...")})(ve||(ve={}));var se;(function(Z){Z.helpQuickAccessActionLabel=ce.b("helpQuickAccess","Show all Quick Access Providers")})(se||(se={}));var te;(function(Z){Z.quickCommandActionLabel=ce.b("quickCommandActionLabel","Command Palette"),Z.quickCommandHelp=ce.b("quickCommandActionHelp","Show And Run Commands")})(te||(te={}));var $;(function(Z){Z.quickOutlineActionLabel=ce.b("quickOutlineActionLabel","Go to Symbol..."),Z.quickOutlineByCategoryActionLabel=ce.b("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})($||($={}));var _;(function(Z){Z.editorViewAccessibleLabel=ce.b("editorViewAccessibleLabel","Editor content"),Z.accessibilityHelpMessage=ce.b("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(_||(_={}));var Y;(function(Z){Z.toggleHighContrast=ce.b("toggleHighContrast","Toggle High Contrast Theme")})(Y||(Y={}));var E;(function(Z){Z.bulkEditServiceSummary=ce.b("bulkEditServiceSummary","Made {0} edits in {1} files")})(E||(E={}))},AYRw:function(mn,U,a){"use strict";a.d(U,"a",function(){return Q}),a.d(U,"b",function(){return Ae}),a.d(U,"c",function(){return Oe});var ce=a("rAM+"),we=a("tJVT"),w=a("yKVA"),ve=a("879j"),se=a("fWQN"),te=a("mtLc"),$=a("MI8n"),_=a("pmY6"),Y=a("N0LK"),E=a("h5s8"),Z=a("PXCW"),ne=a("p1iI"),V=function(){function Ot(pt){if(Object(se.a)(this,Ot),pt.autoClosingPairs?this._autoClosingPairs=pt.autoClosingPairs.map(function(et){return new Z.c(et)}):pt.brackets?this._autoClosingPairs=pt.brackets.map(function(et){return new Z.c({open:et[0],close:et[1]})}):this._autoClosingPairs=[],pt.__electricCharacterSupport&&pt.__electricCharacterSupport.docComment){var Lt=pt.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new Z.c({open:Lt.open,close:Lt.close||""}))}this._autoCloseBeforeForQuotes=typeof pt.autoCloseBefore=="string"?pt.autoCloseBefore:Ot.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof pt.autoCloseBefore=="string"?pt.autoCloseBefore:Ot.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=pt.surroundingPairs||this._autoClosingPairs}return Object(te.a)(Ot,[{key:"getAutoClosingPairs",value:function(){return this._autoClosingPairs}},{key:"getAutoCloseBeforeSet",value:function(Lt){return Lt?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}},{key:"getSurroundingPairs",value:function(){return this._surroundingPairs}}]),Ot}();V.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,V.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;var B=a("6OMU"),F=a("g/5D"),W=function(){function Ot(pt){Object(se.a)(this,Ot),this._richEditBrackets=pt}return Object(te.a)(Ot,[{key:"getElectricCharacters",value:function(){var Lt=[];if(this._richEditBrackets){var et=Object(ce.a)(this._richEditBrackets.brackets),Vt;try{for(et.s();!(Vt=et.n()).done;){var Re=Vt.value,Ce=Object(ce.a)(Re.close),ye;try{for(Ce.s();!(ye=Ce.n()).done;){var Te=ye.value,Qe=Te.charAt(Te.length-1);Lt.push(Qe)}}catch($e){Ce.e($e)}finally{Ce.f()}}}catch($e){et.e($e)}finally{et.f()}}return Object(B.i)(Lt)}},{key:"onElectricCharacter",value:function(Lt,et,Vt){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;var Re=et.findTokenIndexAtOffset(Vt-1);if(Object(ne.b)(et.getStandardTokenType(Re)))return null;var Ce=this._richEditBrackets.reversedRegex,ye=et.getLineContent().substring(0,Vt-1)+Lt,Te=F.a.findPrevBracketInRange(Ce,1,ye,0,ye.length);if(!Te)return null;var Qe=ye.substring(Te.startColumn-1,Te.endColumn-1).toLowerCase(),$e=this._richEditBrackets.textIsOpenBracket[Qe];if($e)return null;var ze=et.getActualLineContentBefore(Te.startColumn-1);return/^\s*$/.test(ze)?{matchOpenBracket:Qe}:null}}]),Ot}();function N(Ot){return Ot.global&&(Ot.lastIndex=0),!0}var H=function(){function Ot(pt){Object(se.a)(this,Ot),this._indentationRules=pt}return Object(te.a)(Ot,[{key:"shouldIncrease",value:function(Lt){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&N(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(Lt))}},{key:"shouldDecrease",value:function(Lt){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&N(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(Lt))}},{key:"shouldIndentNextLine",value:function(Lt){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&N(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(Lt))}},{key:"shouldIgnore",value:function(Lt){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&N(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(Lt))}},{key:"getIndentMetadata",value:function(Lt){var et=0;return this.shouldIncrease(Lt)&&(et+=1),this.shouldDecrease(Lt)&&(et+=2),this.shouldIndentNextLine(Lt)&&(et+=4),this.shouldIgnore(Lt)&&(et+=8),et}}]),Ot}(),d=a("/cxE"),D=function(){function Ot(pt){var Lt=this;Object(se.a)(this,Ot),pt=pt||{},pt.brackets=pt.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],pt.brackets.forEach(function(et){var Vt=Ot._createOpenBracketRegExp(et[0]),Re=Ot._createCloseBracketRegExp(et[1]);Vt&&Re&&Lt._brackets.push({open:et[0],openRegExp:Vt,close:et[1],closeRegExp:Re})}),this._regExpRules=pt.onEnterRules||[]}return Object(te.a)(Ot,[{key:"onEnter",value:function(Lt,et,Vt,Re){if(Lt>=3)for(var Ce=0,ye=this._regExpRules.length;Ce<ye;Ce++){var Te=this._regExpRules[Ce],Qe=[{reg:Te.beforeText,text:Vt},{reg:Te.afterText,text:Re},{reg:Te.previousLineText,text:et}].every(function(ft){return ft.reg?(ft.reg.lastIndex=0,ft.reg.test(ft.text)):!0});if(Qe)return Te.action}if(Lt>=2&&Vt.length>0&&Re.length>0)for(var $e=0,ze=this._brackets.length;$e<ze;$e++){var ot=this._brackets[$e];if(ot.openRegExp.test(Vt)&&ot.closeRegExp.test(Re))return{indentAction:Z.b.IndentOutdent}}if(Lt>=2&&Vt.length>0)for(var He=0,Ge=this._brackets.length;He<Ge;He++){var Je=this._brackets[He];if(Je.openRegExp.test(Vt))return{indentAction:Z.b.Indent}}return null}}],[{key:"_createOpenBracketRegExp",value:function(Lt){var et=Y.t(Lt);return/\B/.test(et.charAt(0))||(et="\\b"+et),et+="\\s*$",Ot._safeRegExp(et)}},{key:"_createCloseBracketRegExp",value:function(Lt){var et=Y.t(Lt);return/\B/.test(et.charAt(et.length-1))||(et=et+"\\b"),et="^\\s*"+et,Ot._safeRegExp(et)}},{key:"_safeRegExp",value:function(Lt){try{return new RegExp(Lt)}catch(et){return Object(d.h)(et),null}}}]),Ot}(),C=a("Cg/j"),x=a("+7oY"),O=a("CGdd"),T=a("9fML"),z=a("y0ET"),I=a("oBTY"),de=a("q63c"),pe=function(){function Ot(pt,Lt){var et=this;Object(se.a)(this,Ot),this.languageId=pt;var Vt=Lt.brackets?fe(Lt.brackets):[],Re=new de.a(function(jn){var _n=new Set;return{info:new A(et,jn,_n),closing:_n}}),Ce=new de.a(function(jn){var _n=new Set,Nn=new Set;return{info:new P(et,jn,_n,Nn),opening:_n,openingColorized:Nn}}),ye=Object(ce.a)(Vt),Te;try{for(ye.s();!(Te=ye.n()).done;){var Qe=Te.value,$e=Object(we.a)(Qe,2),ze=$e[0],ot=$e[1],He=Re.get(ze),Ge=Ce.get(ot);He.closing.add(Ge.info),Ge.opening.add(He.info)}}catch(jn){ye.e(jn)}finally{ye.f()}var Je=Lt.colorizedBracketPairs?fe(Lt.colorizedBracketPairs):Vt.filter(function(jn){return!(jn[0]==="<"&&jn[1]===">")}),ft=Object(ce.a)(Je),qt;try{for(ft.s();!(qt=ft.n()).done;){var bt=qt.value,Bt=Object(we.a)(bt,2),rn=Bt[0],an=Bt[1],In=Re.get(rn),Dt=Ce.get(an);In.closing.add(Dt.info),Dt.openingColorized.add(In.info),Dt.opening.add(In.info)}}catch(jn){ft.e(jn)}finally{ft.f()}this._openingBrackets=new Map(Object(I.a)(Re.cachedValues).map(function(jn){var _n=Object(we.a)(jn,2),Nn=_n[0],ei=_n[1];return[Nn,ei.info]})),this._closingBrackets=new Map(Object(I.a)(Ce.cachedValues).map(function(jn){var _n=Object(we.a)(jn,2),Nn=_n[0],ei=_n[1];return[Nn,ei.info]}))}return Object(te.a)(Ot,[{key:"openingBrackets",get:function(){return Object(I.a)(this._openingBrackets.values())}},{key:"closingBrackets",get:function(){return Object(I.a)(this._closingBrackets.values())}},{key:"getOpeningBracketInfo",value:function(Lt){return this._openingBrackets.get(Lt)}},{key:"getClosingBracketInfo",value:function(Lt){return this._closingBrackets.get(Lt)}},{key:"getBracketInfo",value:function(Lt){return this.getOpeningBracketInfo(Lt)||this.getClosingBracketInfo(Lt)}}]),Ot}();function fe(Ot){return Ot.filter(function(pt){var Lt=Object(we.a)(pt,2),et=Lt[0],Vt=Lt[1];return et!==""&&Vt!==""})}var ke=function(){function Ot(pt,Lt){Object(se.a)(this,Ot),this.config=pt,this.bracketText=Lt}return Object(te.a)(Ot,[{key:"languageId",get:function(){return this.config.languageId}}]),Ot}(),A=function(Ot){Object(w.a)(Lt,Ot);var pt=Object(ve.a)(Lt);function Lt(et,Vt,Re){var Ce;return Object(se.a)(this,Lt),Ce=pt.call(this,et,Vt),Ce.openedBrackets=Re,Ce.isOpeningBracket=!0,Ce}return Object(te.a)(Lt)}(ke),P=function(Ot){Object(w.a)(Lt,Ot);var pt=Object(ve.a)(Lt);function Lt(et,Vt,Re,Ce){var ye;return Object(se.a)(this,Lt),ye=pt.call(this,et,Vt),ye.openingBrackets=Re,ye.openingColorizedBrackets=Ce,ye.isOpeningBracket=!1,ye}return Object(te.a)(Lt,[{key:"closes",value:function(Vt){return Vt.config!==this.config?!1:this.openingBrackets.has(Vt)}},{key:"closesColorized",value:function(Vt){return Vt.config!==this.config?!1:this.openingColorizedBrackets.has(Vt)}},{key:"getOpeningBrackets",value:function(){return Object(I.a)(this.openingBrackets)}}]),Lt}(ke),G=function(Ot,pt,Lt,et){var Vt=arguments.length,Re=Vt<3?pt:et===null?et=Object.getOwnPropertyDescriptor(pt,Lt):et,Ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Re=Reflect.decorate(Ot,pt,Lt,et);else for(var ye=Ot.length-1;ye>=0;ye--)(Ce=Ot[ye])&&(Re=(Vt<3?Ce(Re):Vt>3?Ce(pt,Lt,Re):Ce(pt,Lt))||Re);return Vt>3&&Re&&Object.defineProperty(pt,Lt,Re),Re},re=function(Ot,pt){return function(Lt,et){pt(Lt,et,Ot)}},ae=function(){function Ot(pt){Object(se.a)(this,Ot),this.languageId=pt}return Object(te.a)(Ot,[{key:"affects",value:function(Lt){return this.languageId?this.languageId===Lt:!0}}]),Ot}(),Q=Object(C.c)("languageConfigurationService"),J=function(Ot){Object(w.a)(Lt,Ot);var pt=Object(ve.a)(Lt);function Lt(et,Vt){var Re;Object(se.a)(this,Lt),Re=pt.call(this),Re.configurationService=et,Re.languageService=Vt,Re._registry=Re._register(new Et),Re.onDidChangeEmitter=Re._register(new $.b),Re.onDidChange=Re.onDidChangeEmitter.event,Re.configurations=new Map;var Ce=new Set(Object.values(ge));return Re._register(Re.configurationService.onDidChangeConfiguration(function(ye){var Te=ye.change.keys.some(function(He){return Ce.has(He)}),Qe=ye.change.overrides.filter(function(He){var Ge=Object(we.a)(He,2),Je=Ge[0],ft=Ge[1];return ft.some(function(qt){return Ce.has(qt)})}).map(function(He){var Ge=Object(we.a)(He,1),Je=Ge[0];return Je});if(Te)Re.configurations.clear(),Re.onDidChangeEmitter.fire(new ae(void 0));else{var $e=Object(ce.a)(Qe),ze;try{for($e.s();!(ze=$e.n()).done;){var ot=ze.value;Re.languageService.isRegisteredLanguageId(ot)&&(Re.configurations.delete(ot),Re.onDidChangeEmitter.fire(new ae(ot)))}}catch(He){$e.e(He)}finally{$e.f()}}})),Re._register(Re._registry.onDidChange(function(ye){Re.configurations.delete(ye.languageId),Re.onDidChangeEmitter.fire(new ae(ye.languageId))})),Re}return Object(te.a)(Lt,[{key:"register",value:function(Vt,Re,Ce){return this._registry.register(Vt,Re,Ce)}},{key:"getLanguageConfiguration",value:function(Vt){var Re=this.configurations.get(Vt);return Re||(Re=me(Vt,this._registry,this.configurationService,this.languageService),this.configurations.set(Vt,Re)),Re}}]),Lt}(_.a);J=G([re(0,x.a),re(1,O.a)],J);function me(Ot,pt,Lt,et){var Vt=pt.getLanguageConfiguration(Ot);if(!Vt){if(!et.isRegisteredLanguageId(Ot))return new Ft(Ot,{});Vt=new Ft(Ot,{})}var Re=L(Vt.languageId,Lt),Ce=Ne([Vt.underlyingConfig,Re]),ye=new Ft(Vt.languageId,Ce);return ye}var ge={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function L(Ot,pt){var Lt=pt.getValue(ge.brackets,{overrideIdentifier:Ot}),et=pt.getValue(ge.colorizedBracketPairs,{overrideIdentifier:Ot});return{brackets:De(Lt),colorizedBracketPairs:De(et)}}function De(Ot){if(!!Array.isArray(Ot))return Ot.map(function(pt){if(!(!Array.isArray(pt)||pt.length!==2))return[pt[0],pt[1]]}).filter(function(pt){return!!pt})}function Ae(Ot,pt,Lt){var et=Ot.getLineContent(pt),Vt=Y.x(et);return Vt.length>Lt-1&&(Vt=Vt.substring(0,Lt-1)),Vt}function Oe(Ot,pt,Lt){Ot.tokenization.forceTokenization(pt);var et=Ot.tokenization.getLineTokens(pt),Vt=typeof Lt=="undefined"?Ot.getLineMaxColumn(pt)-1:Lt-1;return Object(ne.a)(et,Vt)}var Pe=function(){function Ot(pt){Object(se.a)(this,Ot),this.languageId=pt,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}return Object(te.a)(Ot,[{key:"register",value:function(Lt,et){var Vt=this,Re=new Fe(Lt,et,++this._order);return this._entries.push(Re),this._resolved=null,Object(_.l)(function(){for(var Ce=0;Ce<Vt._entries.length;Ce++)if(Vt._entries[Ce]===Re){Vt._entries.splice(Ce,1),Vt._resolved=null;break}})}},{key:"getResolvedConfiguration",value:function(){if(!this._resolved){var Lt=this._resolve();Lt&&(this._resolved=new Ft(this.languageId,Lt))}return this._resolved}},{key:"_resolve",value:function(){return this._entries.length===0?null:(this._entries.sort(Fe.cmp),Ne(this._entries.map(function(Lt){return Lt.configuration})))}}]),Ot}();function Ne(Ot){var pt={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0},Lt=Object(ce.a)(Ot),et;try{for(Lt.s();!(et=Lt.n()).done;){var Vt=et.value;pt={comments:Vt.comments||pt.comments,brackets:Vt.brackets||pt.brackets,wordPattern:Vt.wordPattern||pt.wordPattern,indentationRules:Vt.indentationRules||pt.indentationRules,onEnterRules:Vt.onEnterRules||pt.onEnterRules,autoClosingPairs:Vt.autoClosingPairs||pt.autoClosingPairs,surroundingPairs:Vt.surroundingPairs||pt.surroundingPairs,autoCloseBefore:Vt.autoCloseBefore||pt.autoCloseBefore,folding:Vt.folding||pt.folding,colorizedBracketPairs:Vt.colorizedBracketPairs||pt.colorizedBracketPairs,__electricCharacterSupport:Vt.__electricCharacterSupport||pt.__electricCharacterSupport}}}catch(Re){Lt.e(Re)}finally{Lt.f()}return pt}var Fe=function(){function Ot(pt,Lt,et){Object(se.a)(this,Ot),this.configuration=pt,this.priority=Lt,this.order=et}return Object(te.a)(Ot,null,[{key:"cmp",value:function(Lt,et){return Lt.priority===et.priority?Lt.order-et.order:Lt.priority-et.priority}}]),Ot}(),Xe=Object(te.a)(function Ot(pt){Object(se.a)(this,Ot),this.languageId=pt}),Et=function(Ot){Object(w.a)(Lt,Ot);var pt=Object(ve.a)(Lt);function Lt(){var et;return Object(se.a)(this,Lt),et=pt.call(this),et._entries=new Map,et._onDidChange=et._register(new $.b),et.onDidChange=et._onDidChange.event,et._register(et.register(z.b,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0)),et}return Object(te.a)(Lt,[{key:"register",value:function(Vt,Re){var Ce=this,ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Te=this._entries.get(Vt);Te||(Te=new Pe(Vt),this._entries.set(Vt,Te));var Qe=Te.register(Re,ye);return this._onDidChange.fire(new Xe(Vt)),Object(_.l)(function(){Qe.dispose(),Ce._onDidChange.fire(new Xe(Vt))})}},{key:"getLanguageConfiguration",value:function(Vt){var Re=this._entries.get(Vt);return(Re==null?void 0:Re.getResolvedConfiguration())||null}}]),Lt}(_.a),Ft=function(){function Ot(pt,Lt){Object(se.a)(this,Ot),this.languageId=pt,this.underlyingConfig=Lt,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new D(this.underlyingConfig):null,this.comments=Ot._handleComments(this.underlyingConfig),this.characterPair=new V(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||E.a,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new H(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new pe(pt,this.underlyingConfig)}return Object(te.a)(Ot,[{key:"getWordDefinition",value:function(){return Object(E.c)(this.wordDefinition)}},{key:"brackets",get:function(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new F.b(this.languageId,this.underlyingConfig.brackets)),this._brackets}},{key:"electricCharacter",get:function(){return this._electricCharacter||(this._electricCharacter=new W(this.brackets)),this._electricCharacter}},{key:"onEnter",value:function(Lt,et,Vt,Re){return this._onEnterSupport?this._onEnterSupport.onEnter(Lt,et,Vt,Re):null}},{key:"getAutoClosingPairs",value:function(){return new Z.a(this.characterPair.getAutoClosingPairs())}},{key:"getAutoCloseBeforeSet",value:function(Lt){return this.characterPair.getAutoCloseBeforeSet(Lt)}},{key:"getSurroundingPairs",value:function(){return this.characterPair.getSurroundingPairs()}}],[{key:"_handleComments",value:function(Lt){var et=Lt.comments;if(!et)return null;var Vt={};if(et.lineComment&&(Vt.lineCommentToken=et.lineComment),et.blockComment){var Re=Object(we.a)(et.blockComment,2),Ce=Re[0],ye=Re[1];Vt.blockCommentStartToken=Ce,Vt.blockCommentEndToken=ye}return Vt}}]),Ot}();Object(T.b)(Q,J,1)},BJRu:function(mn,U,a){"use strict";a.d(U,"b",function(){return de}),a.d(U,"a",function(){return A});var ce=a("tJVT"),we=a("fWQN"),w=a("mtLc"),ve=a("yKVA"),se=a("879j"),te=a("3/fG"),$=a("D3Dy"),_=a("746U"),Y=a("OBOq"),E=a("sswD"),Z=a("Vxe3"),ne=a("LLum"),V=a("cGHE"),B=a("aokT"),F=function(){function re(){Object(we.a)(this,re)}return Object(w.a)(re,null,[{key:"columnSelect",value:function(Q,J,me,ge,L,De){for(var Ae=Math.abs(L-me)+1,Oe=me>L,Pe=ge>De,Ne=ge<De,Fe=[],Xe=0;Xe<Ae;Xe++){var Et=me+(Oe?-Xe:Xe),Ft=Q.columnFromVisibleColumn(J,Et,ge),Ot=Q.columnFromVisibleColumn(J,Et,De),pt=Q.visibleColumnFromColumn(J,new V.a(Et,Ft)),Lt=Q.visibleColumnFromColumn(J,new V.a(Et,Ot));Ne&&(pt>De||Lt<ge)||Pe&&(Lt>ge||pt<De)||Fe.push(new ne.d(new B.a(Et,Ft,Et,Ft),0,0,new V.a(Et,Ot),0))}if(Fe.length===0)for(var et=0;et<Ae;et++){var Vt=me+(Oe?-et:et),Re=J.getLineMaxColumn(Vt);Fe.push(new ne.d(new B.a(Vt,Re,Vt,Re),0,0,new V.a(Vt,Re),0))}return{viewStates:Fe,reversed:Oe,fromLineNumber:me,fromVisualColumn:ge,toLineNumber:L,toVisualColumn:De}}},{key:"columnSelectLeft",value:function(Q,J,me){var ge=me.toViewVisualColumn;return ge>0&&ge--,re.columnSelect(Q,J,me.fromViewLineNumber,me.fromViewVisualColumn,me.toViewLineNumber,ge)}},{key:"columnSelectRight",value:function(Q,J,me){for(var ge=0,L=Math.min(me.fromViewLineNumber,me.toViewLineNumber),De=Math.max(me.fromViewLineNumber,me.toViewLineNumber),Ae=L;Ae<=De;Ae++){var Oe=J.getLineMaxColumn(Ae),Pe=Q.visibleColumnFromColumn(J,new V.a(Ae,Oe));ge=Math.max(ge,Pe)}var Ne=me.toViewVisualColumn;return Ne<ge&&Ne++,this.columnSelect(Q,J,me.fromViewLineNumber,me.fromViewVisualColumn,me.toViewLineNumber,Ne)}},{key:"columnSelectUp",value:function(Q,J,me,ge){var L=ge?Q.pageSize:1,De=Math.max(1,me.toViewLineNumber-L);return this.columnSelect(Q,J,me.fromViewLineNumber,me.fromViewVisualColumn,De,me.toViewVisualColumn)}},{key:"columnSelectDown",value:function(Q,J,me,ge){var L=ge?Q.pageSize:1,De=Math.min(J.getLineCount(),me.toViewLineNumber+L);return this.columnSelect(Q,J,me.fromViewLineNumber,me.fromViewVisualColumn,De,me.toViewVisualColumn)}}]),re}(),W=a("jtXd"),N=a("sVcW"),H=a("HHK3"),d=a("wQH0"),D=a("T8No"),C=a("nrhi"),x=0,O=function(re){Object(ve.a)(Q,re);var ae=Object(se.a)(Q);function Q(){return Object(we.a)(this,Q),ae.apply(this,arguments)}return Object(w.a)(Q,[{key:"runEditorCommand",value:function(me,ge,L){var De=ge._getViewModel();!De||this.runCoreEditorCommand(De,L||{})}}]),Q}(E.d),T;(function(re){var ae=function(me){if(!_.h(me))return!1;var ge=me;return!(!_.i(ge.to)||!_.k(ge.by)&&!_.i(ge.by)||!_.k(ge.value)&&!_.g(ge.value)||!_.k(ge.revealCursor)&&!_.c(ge.revealCursor))};re.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:ae,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},re.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},re.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function Q(J){var me;switch(J.to){case re.RawDirection.Up:me=1;break;case re.RawDirection.Right:me=2;break;case re.RawDirection.Down:me=3;break;case re.RawDirection.Left:me=4;break;default:return null}var ge;switch(J.by){case re.RawUnit.Line:ge=1;break;case re.RawUnit.WrappedLine:ge=2;break;case re.RawUnit.Page:ge=3;break;case re.RawUnit.HalfPage:ge=4;break;case re.RawUnit.Editor:ge=5;break;case re.RawUnit.Column:ge=6;break;default:ge=2}var L=Math.floor(J.value||1),De=!!J.revealCursor;return{direction:me,unit:ge,value:L,revealCursor:De,select:!!J.select}}re.parse=Q})(T||(T={}));var z;(function(re){var ae=function(J){if(!_.h(J))return!1;var me=J;return!(!_.g(me.lineNumber)&&!_.i(me.lineNumber)||!_.k(me.at)&&!_.i(me.at))};re.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:ae,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},re.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(z||(z={}));var I=function(){function re(ae){var Q=this;Object(we.a)(this,re),ae.addImplementation(1e4,"code-editor",function(J,me){var ge=J.get(Z.a).getFocusedCodeEditor();return ge&&ge.hasTextFocus()?Q._runEditorCommand(J,ge,me):!1}),ae.addImplementation(1e3,"generic-dom-input-textarea",function(J,me){var ge=document.activeElement;return ge&&["input","textarea"].indexOf(ge.tagName.toLowerCase())>=0?(Q.runDOMCommand(),!0):!1}),ae.addImplementation(0,"generic-dom",function(J,me){var ge=J.get(Z.a).getActiveCodeEditor();return ge?(ge.focus(),Q._runEditorCommand(J,ge,me)):!1})}return Object(w.a)(re,[{key:"_runEditorCommand",value:function(Q,J,me){var ge=this.runEditorCommand(Q,J,me);return ge||!0}}]),re}(),de;(function(re){var ae=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._inSelectionMode=Vt.inSelectionMode,Re}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){if(!!Ce.position){Re.model.pushStackElement();var ye=Re.setCursorStates(Ce.source,3,[N.b.moveTo(Re,Re.getPrimaryCursorState(),this._inSelectionMode,Ce.position,Ce.viewPosition)]);ye&&Ce.revealType!==2&&Re.revealPrimaryCursor(Ce.source,!0,!0)}}}]),et}(O);re.MoveTo=Object(E.l)(new ae({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),re.MoveToSelect=Object(E.l)(new ae({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));var Q=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.apply(this,arguments)}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){Re.model.pushStackElement();var ye=this._getColumnSelectResult(Re,Re.getPrimaryCursorState(),Re.getCursorColumnSelectData(),Ce);ye!==null&&(Re.setCursorStates(Ce.source,3,ye.viewStates.map(function(Te){return ne.b.fromViewState(Te)})),Re.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ye.fromLineNumber,fromViewVisualColumn:ye.fromVisualColumn,toViewLineNumber:ye.toLineNumber,toViewVisualColumn:ye.toVisualColumn}),ye.reversed?Re.revealTopMostCursor(Ce.source):Re.revealBottomMostCursor(Ce.source))}}]),et}(O);re.ColumnSelect=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"columnSelect",precondition:void 0})}return Object(w.a)(et,[{key:"_getColumnSelectResult",value:function(Re,Ce,ye,Te){if(typeof Te.position=="undefined"||typeof Te.viewPosition=="undefined"||typeof Te.mouseColumn=="undefined")return null;var Qe=Re.model.validatePosition(Te.position),$e=Re.coordinatesConverter.validateViewPosition(new V.a(Te.viewPosition.lineNumber,Te.viewPosition.column),Qe),ze=Te.doColumnSelect?ye.fromViewLineNumber:$e.lineNumber,ot=Te.doColumnSelect?ye.fromViewVisualColumn:Te.mouseColumn-1;return F.columnSelect(Re.cursorConfig,Re,ze,ot,$e.lineNumber,Te.mouseColumn-1)}}]),et}(Q))),re.CursorColumnSelectLeft=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}return Object(w.a)(et,[{key:"_getColumnSelectResult",value:function(Re,Ce,ye,Te){return F.columnSelectLeft(Re.cursorConfig,Re,ye)}}]),et}(Q))),re.CursorColumnSelectRight=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}return Object(w.a)(et,[{key:"_getColumnSelectResult",value:function(Re,Ce,ye,Te){return F.columnSelectRight(Re.cursorConfig,Re,ye)}}]),et}(Q)));var J=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._isPaged=Vt.isPaged,Re}return Object(w.a)(et,[{key:"_getColumnSelectResult",value:function(Re,Ce,ye,Te){return F.columnSelectUp(Re.cursorConfig,Re,ye,this._isPaged)}}]),et}(Q);re.CursorColumnSelectUp=Object(E.l)(new J({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),re.CursorColumnSelectPageUp=Object(E.l)(new J({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));var me=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._isPaged=Vt.isPaged,Re}return Object(w.a)(et,[{key:"_getColumnSelectResult",value:function(Re,Ce,ye,Te){return F.columnSelectDown(Re.cursorConfig,Re,ye,this._isPaged)}}]),et}(Q);re.CursorColumnSelectDown=Object(E.l)(new me({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),re.CursorColumnSelectPageDown=Object(E.l)(new me({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));var ge=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"cursorMove",precondition:void 0,description:N.a.description})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){var ye=N.a.parse(Ce);!ye||this._runCursorMove(Re,Ce.source,ye)}},{key:"_runCursorMove",value:function(Re,Ce,ye){Re.model.pushStackElement(),Re.setCursorStates(Ce,3,et._move(Re,Re.getCursorStates(),ye)),Re.revealPrimaryCursor(Ce,!0)}}],[{key:"_move",value:function(Re,Ce,ye){var Te=ye.select,Qe=ye.value;switch(ye.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return N.b.simpleMove(Re,Ce,ye.direction,Te,Qe,ye.unit);case 11:case 13:case 12:case 14:return N.b.viewportMove(Re,Ce,ye.direction,Te,Qe);default:return null}}}]),et}(O);re.CursorMoveImpl=ge,re.CursorMove=Object(E.l)(new ge);var L=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._staticArgs=Vt.args,Re}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){var ye=this._staticArgs;this._staticArgs.value===-1&&(ye={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Ce.pageSize||Re.cursorConfig.pageSize}),Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,N.b.simpleMove(Re,Re.getCursorStates(),ye.direction,ye.select,ye.value,ye.unit)),Re.revealPrimaryCursor(Ce.source,!0)}}]),et}(O);re.CursorLeft=Object(E.l)(new L({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),re.CursorLeftSelect=Object(E.l)(new L({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|15}})),re.CursorRight=Object(E.l)(new L({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),re.CursorRightSelect=Object(E.l)(new L({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|17}})),re.CursorUp=Object(E.l)(new L({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),re.CursorUpSelect=Object(E.l)(new L({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),re.CursorPageUp=Object(E.l)(new L({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:11}})),re.CursorPageUpSelect=Object(E.l)(new L({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|11}})),re.CursorDown=Object(E.l)(new L({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),re.CursorDownSelect=Object(E.l)(new L({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),re.CursorPageDown=Object(E.l)(new L({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:12}})),re.CursorPageDownSelect=Object(E.l)(new L({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|12}})),re.CreateCursor=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"createCursor",precondition:void 0})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){if(!!Ce.position){var ye;Ce.wholeLine?ye=N.b.line(Re,Re.getPrimaryCursorState(),!1,Ce.position,Ce.viewPosition):ye=N.b.moveTo(Re,Re.getPrimaryCursorState(),!1,Ce.position,Ce.viewPosition);var Te=Re.getCursorStates();if(Te.length>1)for(var Qe=ye.modelState?ye.modelState.position:null,$e=ye.viewState?ye.viewState.position:null,ze=0,ot=Te.length;ze<ot;ze++){var He=Te[ze];if(!(Qe&&!He.modelState.selection.containsPosition(Qe))&&!($e&&!He.viewState.selection.containsPosition($e))){Te.splice(ze,1),Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,Te);return}}Te.push(ye),Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,Te)}}}]),et}(O))),re.LastCursorMoveToSelect=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"_lastCursorMoveToSelect",precondition:void 0})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){if(!!Ce.position){var ye=Re.getLastAddedCursorIndex(),Te=Re.getCursorStates(),Qe=Te.slice(0);Qe[ye]=N.b.moveTo(Re,Te[ye],!0,Ce.position,Ce.viewPosition),Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,Qe)}}}]),et}(O)));var De=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._inSelectionMode=Vt.inSelectionMode,Re}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,N.b.moveToBeginningOfLine(Re,Re.getCursorStates(),this._inSelectionMode)),Re.revealPrimaryCursor(Ce.source,!0)}}]),et}(O);re.CursorHome=Object(E.l)(new De({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),re.CursorHomeSelect=Object(E.l)(new De({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));var Ae=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._inSelectionMode=Vt.inSelectionMode,Re}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,this._exec(Re.getCursorStates())),Re.revealPrimaryCursor(Ce.source,!0)}},{key:"_exec",value:function(Re){for(var Ce=[],ye=0,Te=Re.length;ye<Te;ye++){var Qe=Re[ye],$e=Qe.modelState.position.lineNumber;Ce[ye]=ne.b.fromModelState(Qe.modelState.move(this._inSelectionMode,$e,1,0))}return Ce}}]),et}(O);re.CursorLineStart=Object(E.l)(new Ae({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:0,mac:{primary:256|31}}})),re.CursorLineStartSelect=Object(E.l)(new Ae({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));var Oe=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._inSelectionMode=Vt.inSelectionMode,Re}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,N.b.moveToEndOfLine(Re,Re.getCursorStates(),this._inSelectionMode,Ce.sticky||!1)),Re.revealPrimaryCursor(Ce.source,!0)}}]),et}(O);re.CursorEnd=Object(E.l)(new Oe({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:x,kbExpr:d.a.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:te.b("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),re.CursorEndSelect=Object(E.l)(new Oe({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:x,kbExpr:d.a.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:te.b("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));var Pe=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._inSelectionMode=Vt.inSelectionMode,Re}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,this._exec(Re,Re.getCursorStates())),Re.revealPrimaryCursor(Ce.source,!0)}},{key:"_exec",value:function(Re,Ce){for(var ye=[],Te=0,Qe=Ce.length;Te<Qe;Te++){var $e=Ce[Te],ze=$e.modelState.position.lineNumber,ot=Re.model.getLineMaxColumn(ze);ye[Te]=ne.b.fromModelState($e.modelState.move(this._inSelectionMode,ze,ot,0))}return ye}}]),et}(O);re.CursorLineEnd=Object(E.l)(new Pe({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:0,mac:{primary:256|35}}})),re.CursorLineEndSelect=Object(E.l)(new Pe({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));var Ne=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._inSelectionMode=Vt.inSelectionMode,Re}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,N.b.moveToBeginningOfBuffer(Re,Re.getCursorStates(),this._inSelectionMode)),Re.revealPrimaryCursor(Ce.source,!0)}}]),et}(O);re.CursorTop=Object(E.l)(new Ne({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),re.CursorTopSelect=Object(E.l)(new Ne({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));var Fe=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._inSelectionMode=Vt.inSelectionMode,Re}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,N.b.moveToEndOfBuffer(Re,Re.getCursorStates(),this._inSelectionMode)),Re.revealPrimaryCursor(Ce.source,!0)}}]),et}(O);re.CursorBottom=Object(E.l)(new Fe({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),re.CursorBottomSelect=Object(E.l)(new Fe({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));var Xe=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"editorScroll",precondition:void 0,description:T.description})}return Object(w.a)(et,[{key:"determineScrollMethod",value:function(Re){var Ce=[6],ye=[1,2,3,4,5,6],Te=[4,2],Qe=[1,3];return Ce.includes(Re.unit)&&Te.includes(Re.direction)?this._runHorizontalEditorScroll.bind(this):ye.includes(Re.unit)&&Qe.includes(Re.direction)?this._runVerticalEditorScroll.bind(this):null}},{key:"runCoreEditorCommand",value:function(Re,Ce){var ye=T.parse(Ce);if(!!ye){var Te=this.determineScrollMethod(ye);!Te||Te(Re,Ce.source,ye)}}},{key:"_runVerticalEditorScroll",value:function(Re,Ce,ye){var Te=this._computeDesiredScrollTop(Re,ye);if(ye.revealCursor){var Qe=Re.getCompletelyVisibleViewRangeAtScrollTop(Te);Re.setCursorStates(Ce,3,[N.b.findPositionInViewportIfOutside(Re,Re.getPrimaryCursorState(),Qe,ye.select)])}Re.viewLayout.setScrollPosition({scrollTop:Te},0)}},{key:"_computeDesiredScrollTop",value:function(Re,Ce){if(Ce.unit===1){var ye=Re.viewLayout.getFutureViewport(),Te=Re.getCompletelyVisibleViewRangeAtScrollTop(ye.top),Qe=Re.coordinatesConverter.convertViewRangeToModelRange(Te),$e;Ce.direction===1?$e=Math.max(1,Qe.startLineNumber-Ce.value):$e=Math.min(Re.model.getLineCount(),Qe.startLineNumber+Ce.value);var ze=Re.coordinatesConverter.convertModelPositionToViewPosition(new V.a($e,1));return Re.viewLayout.getVerticalOffsetForLineNumber(ze.lineNumber)}if(Ce.unit===5){var ot=0;return Ce.direction===3&&(ot=Re.model.getLineCount()-Re.cursorConfig.pageSize),Re.viewLayout.getVerticalOffsetForLineNumber(ot)}var He;Ce.unit===3?He=Re.cursorConfig.pageSize*Ce.value:Ce.unit===4?He=Math.round(Re.cursorConfig.pageSize/2)*Ce.value:He=Ce.value;var Ge=(Ce.direction===1?-1:1)*He;return Re.viewLayout.getCurrentScrollTop()+Ge*Re.cursorConfig.lineHeight}},{key:"_runHorizontalEditorScroll",value:function(Re,Ce,ye){var Te=this._computeDesiredScrollLeft(Re,ye);Re.viewLayout.setScrollPosition({scrollLeft:Te},0)}},{key:"_computeDesiredScrollLeft",value:function(Re,Ce){var ye=(Ce.direction===4?-1:1)*Ce.value;return Re.viewLayout.getCurrentScrollLeft()+ye*Re.cursorConfig.typicalHalfwidthCharacterWidth}}]),et}(O);re.EditorScrollImpl=Xe,re.EditorScroll=Object(E.l)(new Xe),re.ScrollLineUp=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"scrollLineUp",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){re.EditorScroll.runCoreEditorCommand(Re,{to:T.RawDirection.Up,by:T.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Ce.source})}}]),et}(O))),re.ScrollPageUp=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"scrollPageUp",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){re.EditorScroll.runCoreEditorCommand(Re,{to:T.RawDirection.Up,by:T.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Ce.source})}}]),et}(O))),re.ScrollEditorTop=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus}})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){re.EditorScroll.runCoreEditorCommand(Re,{to:T.RawDirection.Up,by:T.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Ce.source})}}]),et}(O))),re.ScrollLineDown=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"scrollLineDown",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){re.EditorScroll.runCoreEditorCommand(Re,{to:T.RawDirection.Down,by:T.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Ce.source})}}]),et}(O))),re.ScrollPageDown=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"scrollPageDown",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){re.EditorScroll.runCoreEditorCommand(Re,{to:T.RawDirection.Down,by:T.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Ce.source})}}]),et}(O))),re.ScrollEditorBottom=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus}})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){re.EditorScroll.runCoreEditorCommand(Re,{to:T.RawDirection.Down,by:T.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Ce.source})}}]),et}(O))),re.ScrollLeft=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"scrollLeft",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus}})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){re.EditorScroll.runCoreEditorCommand(Re,{to:T.RawDirection.Left,by:T.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Ce.source})}}]),et}(O))),re.ScrollRight=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"scrollRight",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus}})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){re.EditorScroll.runCoreEditorCommand(Re,{to:T.RawDirection.Right,by:T.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Ce.source})}}]),et}(O)));var Et=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._inSelectionMode=Vt.inSelectionMode,Re}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){!Ce.position||(Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,[N.b.word(Re,Re.getPrimaryCursorState(),this._inSelectionMode,Ce.position)]),Ce.revealType!==2&&Re.revealPrimaryCursor(Ce.source,!0,!0))}}]),et}(O);re.WordSelect=Object(E.l)(new Et({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),re.WordSelectDrag=Object(E.l)(new Et({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),re.LastCursorWordSelect=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"lastCursorWordSelect",precondition:void 0})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){if(!!Ce.position){var ye=Re.getLastAddedCursorIndex(),Te=Re.getCursorStates(),Qe=Te.slice(0),$e=Te[ye];Qe[ye]=N.b.word(Re,$e,$e.modelState.hasSelection(),Ce.position),Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,Qe)}}}]),et}(O)));var Ft=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._inSelectionMode=Vt.inSelectionMode,Re}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){!Ce.position||(Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,[N.b.line(Re,Re.getPrimaryCursorState(),this._inSelectionMode,Ce.position,Ce.viewPosition)]),Ce.revealType!==2&&Re.revealPrimaryCursor(Ce.source,!1,!0))}}]),et}(O);re.LineSelect=Object(E.l)(new Ft({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),re.LineSelectDrag=Object(E.l)(new Ft({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));var Ot=function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(Vt){var Re;return Object(we.a)(this,et),Re=Lt.call(this,Vt),Re._inSelectionMode=Vt.inSelectionMode,Re}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){if(!!Ce.position){var ye=Re.getLastAddedCursorIndex(),Te=Re.getCursorStates(),Qe=Te.slice(0);Qe[ye]=N.b.line(Re,Te[ye],this._inSelectionMode,Ce.position,Ce.viewPosition),Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,Qe)}}}]),et}(O);re.LastCursorLineSelect=Object(E.l)(new Ot({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),re.LastCursorLineSelectDrag=Object(E.l)(new Ot({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),re.CancelSelection=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"cancelSelection",precondition:d.a.hasNonEmptySelection,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:9,secondary:[1024|9]}})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,[N.b.cancelSelection(Re,Re.getPrimaryCursorState())]),Re.revealPrimaryCursor(Ce.source,!0)}}]),et}(O))),re.RemoveSecondaryCursors=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"removeSecondaryCursors",precondition:d.a.hasMultipleSelections,kbOpts:{weight:x+1,kbExpr:d.a.textInputFocus,primary:9,secondary:[1024|9]}})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,[Re.getPrimaryCursorState()]),Re.revealPrimaryCursor(Ce.source,!0),Object(Y.c)(te.b("removedCursor","Removed secondary cursors"))}}]),et}(O))),re.RevealLine=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"revealLine",precondition:void 0,description:z.description})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){var ye=Ce,Te=ye.lineNumber||0,Qe=typeof Te=="number"?Te+1:parseInt(Te)+1;Qe<1&&(Qe=1);var $e=Re.model.getLineCount();Qe>$e&&(Qe=$e);var ze=new B.a(Qe,1,Qe,Re.model.getLineMaxColumn(Qe)),ot=0;if(ye.at)switch(ye.at){case z.RawAtArgument.Top:ot=3;break;case z.RawAtArgument.Center:ot=1;break;case z.RawAtArgument.Bottom:ot=4;break;default:break}var He=Re.coordinatesConverter.convertModelRangeToViewRange(ze);Re.revealRange(Ce.source,!1,He,ot,0)}}]),et}(O))),re.SelectAll=new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,E.i)}return Object(w.a)(et,[{key:"runDOMCommand",value:function(){$.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}},{key:"runEditorCommand",value:function(Re,Ce,ye){var Te=Ce._getViewModel();!Te||this.runCoreEditorCommand(Te,ye)}},{key:"runCoreEditorCommand",value:function(Re,Ce){Re.model.pushStackElement(),Re.setCursorStates("keyboard",3,[N.b.selectAll(Re,Re.getPrimaryCursorState())])}}]),et}(I)),re.SetSelection=Object(E.l)(new(function(pt){Object(ve.a)(et,pt);var Lt=Object(se.a)(et);function et(){return Object(we.a)(this,et),Lt.call(this,{id:"setSelection",precondition:void 0})}return Object(w.a)(et,[{key:"runCoreEditorCommand",value:function(Re,Ce){!Ce.selection||(Re.model.pushStackElement(),Re.setCursorStates(Ce.source,3,[ne.b.fromModelSelection(Ce.selection)]))}}]),et}(O)))})(de||(de={}));var pe=D.a.and(d.a.textInputFocus,d.a.columnSelection);function fe(re,ae){C.a.registerKeybindingRule({id:re,primary:ae,when:pe,weight:x+1})}fe(de.CursorColumnSelectLeft.id,1024|15),fe(de.CursorColumnSelectRight.id,1024|17),fe(de.CursorColumnSelectUp.id,1024|16),fe(de.CursorColumnSelectPageUp.id,1024|11),fe(de.CursorColumnSelectDown.id,1024|18),fe(de.CursorColumnSelectPageDown.id,1024|12);function ke(re){return re.register(),re}var A;(function(re){var ae=function(Q){Object(ve.a)(me,Q);var J=Object(se.a)(me);function me(){return Object(we.a)(this,me),J.apply(this,arguments)}return Object(w.a)(me,[{key:"runEditorCommand",value:function(L,De,Ae){var Oe=De._getViewModel();!Oe||this.runCoreEditingCommand(De,Oe,Ae||{})}}]),me}(E.d);re.CoreEditingCommand=ae,re.LineBreakInsert=Object(E.l)(new(function(Q){Object(ve.a)(me,Q);var J=Object(se.a)(me);function me(){return Object(we.a)(this,me),J.call(this,{id:"lineBreakInsert",precondition:d.a.writable,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:0,mac:{primary:256|45}}})}return Object(w.a)(me,[{key:"runCoreEditingCommand",value:function(L,De,Ae){L.pushUndoStop(),L.executeCommands(this.id,H.b.lineBreakInsert(De.cursorConfig,De.model,De.getCursorStates().map(function(Oe){return Oe.modelState.selection})))}}]),me}(ae))),re.Outdent=Object(E.l)(new(function(Q){Object(ve.a)(me,Q);var J=Object(se.a)(me);function me(){return Object(we.a)(this,me),J.call(this,{id:"outdent",precondition:d.a.writable,kbOpts:{weight:x,kbExpr:D.a.and(d.a.editorTextFocus,d.a.tabDoesNotMoveFocus),primary:1024|2}})}return Object(w.a)(me,[{key:"runCoreEditingCommand",value:function(L,De,Ae){L.pushUndoStop(),L.executeCommands(this.id,H.b.outdent(De.cursorConfig,De.model,De.getCursorStates().map(function(Oe){return Oe.modelState.selection}))),L.pushUndoStop()}}]),me}(ae))),re.Tab=Object(E.l)(new(function(Q){Object(ve.a)(me,Q);var J=Object(se.a)(me);function me(){return Object(we.a)(this,me),J.call(this,{id:"tab",precondition:d.a.writable,kbOpts:{weight:x,kbExpr:D.a.and(d.a.editorTextFocus,d.a.tabDoesNotMoveFocus),primary:2}})}return Object(w.a)(me,[{key:"runCoreEditingCommand",value:function(L,De,Ae){L.pushUndoStop(),L.executeCommands(this.id,H.b.tab(De.cursorConfig,De.model,De.getCursorStates().map(function(Oe){return Oe.modelState.selection}))),L.pushUndoStop()}}]),me}(ae))),re.DeleteLeft=Object(E.l)(new(function(Q){Object(ve.a)(me,Q);var J=Object(se.a)(me);function me(){return Object(we.a)(this,me),J.call(this,{id:"deleteLeft",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}return Object(w.a)(me,[{key:"runCoreEditingCommand",value:function(L,De,Ae){var Oe=W.a.deleteLeft(De.getPrevEditOperationType(),De.cursorConfig,De.model,De.getCursorStates().map(function(Xe){return Xe.modelState.selection}),De.getCursorAutoClosedCharacters()),Pe=Object(ce.a)(Oe,2),Ne=Pe[0],Fe=Pe[1];Ne&&L.pushUndoStop(),L.executeCommands(this.id,Fe),De.setPrevEditOperationType(2)}}]),me}(ae))),re.DeleteRight=Object(E.l)(new(function(Q){Object(ve.a)(me,Q);var J=Object(se.a)(me);function me(){return Object(we.a)(this,me),J.call(this,{id:"deleteRight",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}return Object(w.a)(me,[{key:"runCoreEditingCommand",value:function(L,De,Ae){var Oe=W.a.deleteRight(De.getPrevEditOperationType(),De.cursorConfig,De.model,De.getCursorStates().map(function(Xe){return Xe.modelState.selection})),Pe=Object(ce.a)(Oe,2),Ne=Pe[0],Fe=Pe[1];Ne&&L.pushUndoStop(),L.executeCommands(this.id,Fe),De.setPrevEditOperationType(3)}}]),me}(ae))),re.Undo=new(function(Q){Object(ve.a)(me,Q);var J=Object(se.a)(me);function me(){return Object(we.a)(this,me),J.call(this,E.j)}return Object(w.a)(me,[{key:"runDOMCommand",value:function(){document.execCommand("undo")}},{key:"runEditorCommand",value:function(L,De,Ae){if(!(!De.hasModel()||De.getOption(88)===!0))return De.getModel().undo()}}]),me}(I)),re.Redo=new(function(Q){Object(ve.a)(me,Q);var J=Object(se.a)(me);function me(){return Object(we.a)(this,me),J.call(this,E.h)}return Object(w.a)(me,[{key:"runDOMCommand",value:function(){document.execCommand("redo")}},{key:"runEditorCommand",value:function(L,De,Ae){if(!(!De.hasModel()||De.getOption(88)===!0))return De.getModel().redo()}}]),me}(I))})(A||(A={}));var P=function(re){Object(ve.a)(Q,re);var ae=Object(se.a)(Q);function Q(J,me,ge){var L;return Object(we.a)(this,Q),L=ae.call(this,{id:J,precondition:void 0,description:ge}),L._handlerId=me,L}return Object(w.a)(Q,[{key:"runCommand",value:function(me,ge){var L=me.get(Z.a).getFocusedCodeEditor();!L||L.trigger("keyboard",this._handlerId,ge)}}]),Q}(E.a);function G(re,ae){ke(new P("default:"+re,re)),ke(new P(re,re,ae))}G("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),G("replacePreviousChar"),G("compositionType"),G("compositionStart"),G("compositionEnd"),G("paste"),G("cut")},BY2G:function(mn,U,a){"use strict";var ce=function(w){if(w&&w!==!0)return w};U.a=ce},"C+7e":function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("themeService")},"C/vA":function(mn,U,a){"use strict";a.d(U,"a",function(){return ce});function ce(we){var w=this,ve=!1,se;return function(){return ve||(ve=!0,se=we.apply(w,arguments)),se}}},C6rC:function(mn,U,a){},CGdd:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("languageService")},CRAX:function(mn,U,a){"use strict";a.d(U,"a",function(){return ne}),a.d(U,"b",function(){return z}),a.d(U,"c",function(){return I});var ce=a("oBTY"),we=a("rAM+"),w=a("fWQN"),ve=a("mtLc"),se=a("6OMU"),te=a("MI8n"),$=a("746U"),_=a("3/fG"),Y=a("+7oY"),E=a("3Rsk"),Z=a("ic2d"),ne={Configuration:"base.contributions.configuration"},V={properties:{},patternProperties:{}},B={properties:{},patternProperties:{}},F={properties:{},patternProperties:{}},W={properties:{},patternProperties:{}},N={properties:{},patternProperties:{}},H={properties:{},patternProperties:{}},d="vscode://schemas/settings/resourceLanguage",D=Z.a.as(E.a.JSONContribution),C=function(){function ke(){Object(w.a)(this,ke),this.overrideIdentifiers=new Set,this._onDidSchemaChange=new te.b,this._onDidUpdateConfiguration=new te.b,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:_.b("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},D.registerSchema(d,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}return Object(ve.a)(ke,[{key:"registerConfiguration",value:function(P){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.registerConfigurations([P],G)}},{key:"registerConfigurations",value:function(P){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,re=new Set;this.doRegisterConfigurations(P,G,re),D.registerSchema(d,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:re})}},{key:"registerDefaultConfigurations",value:function(P){var G=new Set;this.doRegisterDefaultConfigurations(P,G),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:G,defaultsOverrides:!0})}},{key:"doRegisterDefaultConfigurations",value:function(P,G){var re,ae=[],Q=Object(we.a)(P),J;try{for(Q.s();!(J=Q.n()).done;){var me=J.value,ge=me.overrides,L=me.source;for(var De in ge)if(G.add(De),z.test(De)){var Ae=this.configurationDefaultsOverrides.get(De),Oe=(re=Ae==null?void 0:Ae.valuesSources)!==null&&re!==void 0?re:new Map;if(L)for(var Pe=0,Ne=Object.keys(ge[De]);Pe<Ne.length;Pe++){var Fe=Ne[Pe];Oe.set(Fe,L)}var Xe=Object.assign(Object.assign({},(Ae==null?void 0:Ae.value)||{}),ge[De]);this.configurationDefaultsOverrides.set(De,{source:L,value:Xe,valuesSources:Oe});var Et=Object(Y.d)(De),Ft={type:"object",default:Xe,description:_.b("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Et),$ref:d,defaultDefaultValue:Xe,source:$.i(L)?void 0:L,defaultValueSource:L};ae.push.apply(ae,Object(ce.a)(I(De))),this.configurationProperties[De]=Ft,this.defaultLanguageConfigurationOverridesNode.properties[De]=Ft}else{this.configurationDefaultsOverrides.set(De,{value:ge[De],source:L});var Ot=this.configurationProperties[De];Ot&&(this.updatePropertyDefaultValue(De,Ot),this.updateSchema(De,Ot))}}}catch(pt){Q.e(pt)}finally{Q.f()}this.doRegisterOverrideIdentifiers(ae)}},{key:"registerOverrideIdentifiers",value:function(P){this.doRegisterOverrideIdentifiers(P),this._onDidSchemaChange.fire()}},{key:"doRegisterOverrideIdentifiers",value:function(P){var G=Object(we.a)(P),re;try{for(G.s();!(re=G.n()).done;){var ae=re.value;this.overrideIdentifiers.add(ae)}}catch(Q){G.e(Q)}finally{G.f()}this.updateOverridePropertyPatternKey()}},{key:"doRegisterConfigurations",value:function(P,G,re){var ae=this;P.forEach(function(Q){ae.validateAndRegisterProperties(Q,G,Q.extensionInfo,Q.restrictedProperties,void 0,re),ae.configurationContributors.push(Q),ae.registerJSONConfiguration(Q)})}},{key:"validateAndRegisterProperties",value:function(P){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,re=arguments.length>2?arguments[2]:void 0,ae=arguments.length>3?arguments[3]:void 0,Q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:3,J=arguments.length>5?arguments[5]:void 0,me;Q=$.l(P.scope)?Q:P.scope;var ge=P.properties;if(ge)for(var L in ge){var De=ge[L];if(G&&fe(L,De)){delete ge[L];continue}if(De.source=re,De.defaultDefaultValue=ge[L].default,this.updatePropertyDefaultValue(L,De),z.test(L)?De.scope=void 0:(De.scope=$.l(De.scope)?Q:De.scope,De.restricted=$.l(De.restricted)?!!(ae==null?void 0:ae.includes(L)):De.restricted),ge[L].hasOwnProperty("included")&&!ge[L].included){this.excludedConfigurationProperties[L]=ge[L],delete ge[L];continue}else this.configurationProperties[L]=ge[L],((me=ge[L].policy)===null||me===void 0?void 0:me.name)&&this.policyConfigurations.set(ge[L].policy.name,L);!ge[L].deprecationMessage&&ge[L].markdownDeprecationMessage&&(ge[L].deprecationMessage=ge[L].markdownDeprecationMessage),J.add(L)}var Ae=P.allOf;if(Ae){var Oe=Object(we.a)(Ae),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var Ne=Pe.value;this.validateAndRegisterProperties(Ne,G,re,ae,Q,J)}}catch(Fe){Oe.e(Fe)}finally{Oe.f()}}}},{key:"getConfigurationProperties",value:function(){return this.configurationProperties}},{key:"getPolicyConfigurations",value:function(){return this.policyConfigurations}},{key:"registerJSONConfiguration",value:function(P){var G=this,re=function ae(Q){var J=Q.properties;if(J)for(var me in J)G.updateSchema(me,J[me]);var ge=Q.allOf;ge==null||ge.forEach(ae)};re(P)}},{key:"updateSchema",value:function(P,G){switch(V.properties[P]=G,G.scope){case 1:B.properties[P]=G;break;case 2:F.properties[P]=G;break;case 6:W.properties[P]=G;break;case 3:N.properties[P]=G;break;case 4:H.properties[P]=G;break;case 5:H.properties[P]=G,this.resourceLanguageSettingsSchema.properties[P]=G;break}}},{key:"updateOverridePropertyPatternKey",value:function(){var P=Object(we.a)(this.overrideIdentifiers.values()),G;try{for(P.s();!(G=P.n()).done;){var re=G.value,ae="[".concat(re,"]"),Q={type:"object",description:_.b("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:_.b("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:d};this.updatePropertyDefaultValue(ae,Q),V.properties[ae]=Q,B.properties[ae]=Q,F.properties[ae]=Q,W.properties[ae]=Q,N.properties[ae]=Q,H.properties[ae]=Q}}catch(J){P.e(J)}finally{P.f()}}},{key:"registerOverridePropertyPatternKey",value:function(){var P={type:"object",description:_.b("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:_.b("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:d};V.patternProperties[T]=P,B.patternProperties[T]=P,F.patternProperties[T]=P,W.patternProperties[T]=P,N.patternProperties[T]=P,H.patternProperties[T]=P,this._onDidSchemaChange.fire()}},{key:"updatePropertyDefaultValue",value:function(P,G){var re=this.configurationDefaultsOverrides.get(P),ae=re==null?void 0:re.value,Q=re==null?void 0:re.source;$.k(ae)&&(ae=G.defaultDefaultValue,Q=void 0),$.k(ae)&&(ae=de(G.type)),G.default=ae,G.defaultValueSource=Q}}]),ke}(),x="\\[([^\\]]+)\\]",O=new RegExp(x,"g"),T="^(".concat(x,")+$"),z=new RegExp(T);function I(ke){var A=[];if(z.test(ke))for(var P=O.exec(ke);P==null?void 0:P.length;){var G=P[1].trim();G&&A.push(G),P=O.exec(ke)}return Object(se.i)(A)}function de(ke){var A=Array.isArray(ke)?ke[0]:ke;switch(A){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var pe=new C;Z.a.add(ne.Configuration,pe);function fe(ke,A){var P,G,re,ae;return ke.trim()?z.test(ke)?_.b("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",ke):pe.getConfigurationProperties()[ke]!==void 0?_.b("config.property.duplicate","Cannot register '{0}'. This property is already registered.",ke):((P=A.policy)===null||P===void 0?void 0:P.name)&&pe.getPolicyConfigurations().get((G=A.policy)===null||G===void 0?void 0:G.name)!==void 0?_.b("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",ke,(re=A.policy)===null||re===void 0?void 0:re.name,pe.getPolicyConfigurations().get((ae=A.policy)===null||ae===void 0?void 0:ae.name)):null:_.b("config.property.empty","Cannot register an empty property")}},"CWI+":function(mn,U,a){},CZ1j:function(mn,U,a){"use strict";a.d(U,"b",function(){return ce}),a.d(U,"a",function(){return we});function ce(w){return w<0?0:w>255?255:w|0}function we(w){return w<0?0:w>4294967295?4294967295:w|0}},Cdua:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("editorWorkerService")},"Cg/j":function(mn,U,a){"use strict";a.d(U,"b",function(){return ce}),a.d(U,"a",function(){return we}),a.d(U,"c",function(){return ve});var ce;(function(se){se.serviceIds=new Map,se.DI_TARGET="$di$target",se.DI_DEPENDENCIES="$di$dependencies";function te($){return $[se.DI_DEPENDENCIES]||[]}se.getServiceDependencies=te})(ce||(ce={}));var we=ve("instantiationService");function w(se,te,$){te[ce.DI_TARGET]===te?te[ce.DI_DEPENDENCIES].push({id:se,index:$}):(te[ce.DI_DEPENDENCIES]=[{id:se,index:$}],te[ce.DI_TARGET]=te)}function ve(se){if(ce.serviceIds.has(se))return ce.serviceIds.get(se);var te=function $(_,Y,E){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");w($,_,E)};return te.toString=function(){return se},ce.serviceIds.set(se,te),te}},CjF5:function(mn,U,a){"use strict";a.d(U,"a",function(){return w});var ce=a("D3Dy"),we=a("MNsG"),w={clipboard:{writeText:we.k||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:we.k||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:function(){return we.k||ce.isStandalone()?0:navigator.keyboard||ce.isSafari?1:2}(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},Comh:function(mn,U,a){"use strict";a.d(U,"c",function(){return se}),a.d(U,"b",function(){return te}),a.d(U,"a",function(){return $});var ce=a("fWQN"),we=a("mtLc"),w=a("N0LK"),ve=a("aokT"),se=!1,te=function(){function _(Y,E,Z,ne,V){Object(ce.a)(this,_),this.value=Y,this.selectionStart=E,this.selectionEnd=Z,this.selection=ne,this.newlineCountBeforeSelection=V}return Object(we.a)(_,[{key:"toString",value:function(){return"[ <".concat(this.value,">, selectionStart: ").concat(this.selectionStart,", selectionEnd: ").concat(this.selectionEnd,"]")}},{key:"collapseSelection",value:function(){return this.selectionStart===this.value.length?this:new _(this.value,this.value.length,this.value.length,null,void 0)}},{key:"writeToTextArea",value:function(E,Z,ne){se&&console.log("writeToTextArea ".concat(E,": ").concat(this.toString())),Z.setValue(E,this.value),ne&&Z.setSelectionRange(E,this.selectionStart,this.selectionEnd)}},{key:"deduceEditorPosition",value:function(E){var Z,ne,V,B,F,W,N,H;if(E<=this.selectionStart){var d=this.value.substring(E,this.selectionStart);return this._finishDeduceEditorPosition((ne=(Z=this.selection)===null||Z===void 0?void 0:Z.getStartPosition())!==null&&ne!==void 0?ne:null,d,-1)}if(E>=this.selectionEnd){var D=this.value.substring(this.selectionEnd,E);return this._finishDeduceEditorPosition((B=(V=this.selection)===null||V===void 0?void 0:V.getEndPosition())!==null&&B!==void 0?B:null,D,1)}var C=this.value.substring(this.selectionStart,E);if(C.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((W=(F=this.selection)===null||F===void 0?void 0:F.getStartPosition())!==null&&W!==void 0?W:null,C,1);var x=this.value.substring(E,this.selectionEnd);return this._finishDeduceEditorPosition((H=(N=this.selection)===null||N===void 0?void 0:N.getEndPosition())!==null&&H!==void 0?H:null,x,-1)}},{key:"_finishDeduceEditorPosition",value:function(E,Z,ne){for(var V=0,B=-1;(B=Z.indexOf(`
`,B+1))!==-1;)V++;return[E,ne*Z.length,V]}}],[{key:"readFromTextArea",value:function(E,Z){var ne=E.getValue(),V=E.getSelectionStart(),B=E.getSelectionEnd(),F=void 0;if(Z){var W=ne.substring(0,V),N=Z.value.substring(0,Z.selectionStart);W===N&&(F=Z.newlineCountBeforeSelection)}return new _(ne,V,B,null,F)}},{key:"deduceInput",value:function(E,Z,ne){if(!E)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};se&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: ".concat(E.toString())),console.log("CURRENT STATE: ".concat(Z.toString())));var V=Math.min(w.f(E.value,Z.value),E.selectionStart,Z.selectionStart),B=Math.min(w.g(E.value,Z.value),E.value.length-E.selectionEnd,Z.value.length-Z.selectionEnd),F=E.value.substring(V,E.value.length-B),W=Z.value.substring(V,Z.value.length-B),N=E.selectionStart-V,H=E.selectionEnd-V,d=Z.selectionStart-V,D=Z.selectionEnd-V;if(se&&(console.log("AFTER DIFFING PREVIOUS STATE: <".concat(F,">, selectionStart: ").concat(N,", selectionEnd: ").concat(H)),console.log("AFTER DIFFING CURRENT STATE: <".concat(W,">, selectionStart: ").concat(d,", selectionEnd: ").concat(D))),d===D){var C=E.selectionStart-V;return se&&console.log("REMOVE PREVIOUS: ".concat(C," chars")),{text:W,replacePrevCharCnt:C,replaceNextCharCnt:0,positionDelta:0}}var x=H-N;return{text:W,replacePrevCharCnt:x,replaceNextCharCnt:0,positionDelta:0}}},{key:"deduceAndroidCompositionInput",value:function(E,Z){if(!E)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(se&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: ".concat(E.toString())),console.log("CURRENT STATE: ".concat(Z.toString()))),E.value===Z.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:Z.selectionEnd-E.selectionEnd};var ne=Math.min(w.f(E.value,Z.value),E.selectionEnd),V=Math.min(w.g(E.value,Z.value),E.value.length-E.selectionEnd),B=E.value.substring(ne,E.value.length-V),F=Z.value.substring(ne,Z.value.length-V),W=E.selectionStart-ne,N=E.selectionEnd-ne,H=Z.selectionStart-ne,d=Z.selectionEnd-ne;return se&&(console.log("AFTER DIFFING PREVIOUS STATE: <".concat(B,">, selectionStart: ").concat(W,", selectionEnd: ").concat(N)),console.log("AFTER DIFFING CURRENT STATE: <".concat(F,">, selectionStart: ").concat(H,", selectionEnd: ").concat(d))),{text:F,replacePrevCharCnt:N,replaceNextCharCnt:B.length-N,positionDelta:d-F.length}}}]),_}();te.EMPTY=new te("",0,0,null,void 0);var $=function(){function _(){Object(ce.a)(this,_)}return Object(we.a)(_,null,[{key:"_getPageOfLine",value:function(E,Z){return Math.floor((E-1)/Z)}},{key:"_getRangeForPage",value:function(E,Z){var ne=E*Z,V=ne+1,B=ne+Z;return new ve.a(V,1,B+1,1)}},{key:"fromEditorSelection",value:function(E,Z,ne,V){var B=500,F=_._getPageOfLine(Z.startLineNumber,ne),W=_._getRangeForPage(F,ne),N=_._getPageOfLine(Z.endLineNumber,ne),H=_._getRangeForPage(N,ne),d=W.intersectRanges(new ve.a(1,1,Z.startLineNumber,Z.startColumn));if(V&&E.getValueLengthInRange(d,1)>B){var D=E.modifyPosition(d.getEndPosition(),-B);d=ve.a.fromPositions(D,d.getEndPosition())}var C=E.getValueInRange(d,1),x=E.getLineCount(),O=E.getLineMaxColumn(x),T=H.intersectRanges(new ve.a(Z.endLineNumber,Z.endColumn,x,O));if(V&&E.getValueLengthInRange(T,1)>B){var z=E.modifyPosition(T.getStartPosition(),B);T=ve.a.fromPositions(T.getStartPosition(),z)}var I=E.getValueInRange(T,1),de;if(F===N||F+1===N)de=E.getValueInRange(Z,1);else{var pe=W.intersectRanges(Z),fe=H.intersectRanges(Z);de=E.getValueInRange(pe,1)+String.fromCharCode(8230)+E.getValueInRange(fe,1)}return V&&de.length>2*B&&(de=de.substring(0,B)+String.fromCharCode(8230)+de.substring(de.length-B,de.length)),new te(C+de+I,C.length,C.length+de.length,Z,d.endLineNumber-d.startLineNumber)}}]),_}()},CsXQ:function(mn,U,a){"use strict";a.d(U,"a",function(){return ce});function ce(we){for(var w=0,ve=0,se=0,te=0,$=0,_=we.length;$<_;$++){var Y=we.charCodeAt($);Y===13?(w===0&&(ve=$),w++,$+1<_&&we.charCodeAt($+1)===10?(te|=2,$++):te|=3,se=$+1):Y===10&&(te|=1,w===0&&(ve=$),w++,se=$+1)}return w===0&&(ve=we.length),[w,ve,we.length-se,te]}},D3Dy:function(mn,U,a){"use strict";a.r(U),a.d(U,"addMatchMediaChangeListener",function(){return Z}),a.d(U,"PixelRatio",function(){return ne}),a.d(U,"getZoomFactor",function(){return V}),a.d(U,"isFirefox",function(){return F}),a.d(U,"isWebKit",function(){return W}),a.d(U,"isChrome",function(){return N}),a.d(U,"isSafari",function(){return H}),a.d(U,"isWebkitWebView",function(){return d}),a.d(U,"isElectron",function(){return D}),a.d(U,"isAndroid",function(){return C}),a.d(U,"isStandalone",function(){return z});var ce=a("yKVA"),we=a("879j"),w=a("fWQN"),ve=a("mtLc"),se=a("MI8n"),te=a("pmY6"),$=function(){function I(){Object(w.a)(this,I),this._zoomFactor=1}return Object(ve.a)(I,[{key:"getZoomFactor",value:function(){return this._zoomFactor}}]),I}();$.INSTANCE=new $;var _=function(I){Object(ce.a)(pe,I);var de=Object(we.a)(pe);function pe(){var fe;return Object(w.a)(this,pe),fe=de.call(this),fe._onDidChange=fe._register(new se.b),fe.onDidChange=fe._onDidChange.event,fe._listener=function(){return fe._handleChange(!0)},fe._mediaQueryList=null,fe._handleChange(!1),fe}return Object(ve.a)(pe,[{key:"_handleChange",value:function(ke){var A;(A=this._mediaQueryList)===null||A===void 0||A.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")),this._mediaQueryList.addEventListener("change",this._listener),ke&&this._onDidChange.fire()}}]),pe}(te.a),Y=function(I){Object(ce.a)(pe,I);var de=Object(we.a)(pe);function pe(){var fe;Object(w.a)(this,pe),fe=de.call(this),fe._onDidChange=fe._register(new se.b),fe.onDidChange=fe._onDidChange.event,fe._value=fe._getPixelRatio();var ke=fe._register(new _);return fe._register(ke.onDidChange(function(){fe._value=fe._getPixelRatio(),fe._onDidChange.fire(fe._value)})),fe}return Object(ve.a)(pe,[{key:"value",get:function(){return this._value}},{key:"_getPixelRatio",value:function(){var ke=document.createElement("canvas").getContext("2d"),A=window.devicePixelRatio||1,P=ke.webkitBackingStorePixelRatio||ke.mozBackingStorePixelRatio||ke.msBackingStorePixelRatio||ke.oBackingStorePixelRatio||ke.backingStorePixelRatio||1;return A/P}}]),pe}(te.a),E=function(){function I(){Object(w.a)(this,I),this._pixelRatioMonitor=null}return Object(ve.a)(I,[{key:"_getOrCreatePixelRatioMonitor",value:function(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=Object(te.k)(new Y)),this._pixelRatioMonitor}},{key:"value",get:function(){return this._getOrCreatePixelRatioMonitor().value}},{key:"onDidChange",get:function(){return this._getOrCreatePixelRatioMonitor().onDidChange}}]),I}();function Z(I,de){typeof I=="string"&&(I=window.matchMedia(I)),I.addEventListener("change",de)}var ne=new E;function V(){return $.INSTANCE.getZoomFactor()}var B=navigator.userAgent,F=B.indexOf("Firefox")>=0,W=B.indexOf("AppleWebKit")>=0,N=B.indexOf("Chrome")>=0,H=!N&&B.indexOf("Safari")>=0,d=!N&&!H&&W,D=B.indexOf("Electron/")>=0,C=B.indexOf("Android")>=0,x=!1;if(window.matchMedia){var O=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),T=window.matchMedia("(display-mode: fullscreen)");x=O.matches,Z(O,function(I){var de=I.matches;x&&T.matches||(x=de)})}function z(){return x}},DF6W:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("semanticTokensStylingService")},DMKg:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("ZlPH");function we(w,ve){w instanceof ce.a?(w.setFontFamily(ve.getMassagedFontFamily()),w.setFontWeight(ve.fontWeight),w.setFontSize(ve.fontSize),w.setFontFeatureSettings(ve.fontFeatureSettings),w.setFontVariationSettings(ve.fontVariationSettings),w.setLineHeight(ve.lineHeight),w.setLetterSpacing(ve.letterSpacing)):(w.style.fontFamily=ve.getMassagedFontFamily(),w.style.fontWeight=ve.fontWeight,w.style.fontSize=ve.fontSize+"px",w.style.fontFeatureSettings=ve.fontFeatureSettings,w.style.fontVariationSettings=ve.fontVariationSettings,w.style.lineHeight=ve.lineHeight+"px",w.style.letterSpacing=ve.letterSpacing+"px")}},DTDp:function(mn,U,a){},DZFm:function(mn,U,a){"use strict";a.d(U,"b",function(){return se}),a.d(U,"a",function(){return te});var ce=a("fWQN"),we=a("mtLc"),w=a("aokT"),ve=a("pvvD"),se=function(){function _(Y,E,Z){Object(ce.a)(this,_),this.startOffset=Y,this.endOffset=E,this.newLength=Z}return Object(we.a)(_,[{key:"toString",value:function(){return"[".concat(Object(ve.l)(this.startOffset),"...").concat(Object(ve.l)(this.endOffset),") -> ").concat(Object(ve.l)(this.newLength))}}],[{key:"fromModelContentChanges",value:function(E){var Z=E.map(function(ne){var V=w.a.lift(ne.range);return new _(Object(ve.o)(V.getStartPosition()),Object(ve.o)(V.getEndPosition()),Object(ve.k)(ne.text))}).reverse();return Z}}]),_}(),te=function(){function _(Y){Object(ce.a)(this,_),this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=Y.map(function(E){return $.from(E)})}return Object(we.a)(_,[{key:"getOffsetBeforeChange",value:function(E){return this.adjustNextEdit(E),this.translateCurToOld(E)}},{key:"getDistanceToNextChange",value:function(E){this.adjustNextEdit(E);var Z=this.edits[this.nextEditIdx],ne=Z?this.translateOldToCur(Z.offsetObj):null;return ne===null?null:Object(ve.c)(E,ne)}},{key:"translateOldToCur",value:function(E){return E.lineCount===this.deltaLineIdxInOld?Object(ve.q)(E.lineCount+this.deltaOldToNewLineCount,E.columnCount+this.deltaOldToNewColumnCount):Object(ve.q)(E.lineCount+this.deltaOldToNewLineCount,E.columnCount)}},{key:"translateCurToOld",value:function(E){var Z=Object(ve.l)(E);return Z.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?Object(ve.q)(Z.lineCount-this.deltaOldToNewLineCount,Z.columnCount-this.deltaOldToNewColumnCount):Object(ve.q)(Z.lineCount-this.deltaOldToNewLineCount,Z.columnCount)}},{key:"adjustNextEdit",value:function(E){for(;this.nextEditIdx<this.edits.length;){var Z=this.edits[this.nextEditIdx],ne=this.translateOldToCur(Z.endOffsetAfterObj);if(Object(ve.j)(ne,E)){this.nextEditIdx++;var V=Object(ve.l)(ne),B=Object(ve.l)(this.translateOldToCur(Z.endOffsetBeforeObj)),F=V.lineCount-B.lineCount;this.deltaOldToNewLineCount+=F;var W=this.deltaLineIdxInOld===Z.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,N=V.columnCount-B.columnCount;this.deltaOldToNewColumnCount=W+N,this.deltaLineIdxInOld=Z.endOffsetBeforeObj.lineCount}else break}}}]),_}(),$=function(){function _(Y,E,Z){Object(ce.a)(this,_),this.endOffsetBeforeObj=Object(ve.l)(E),this.endOffsetAfterObj=Object(ve.l)(Object(ve.a)(Y,Z)),this.offsetObj=Object(ve.l)(Y)}return Object(we.a)(_,null,[{key:"from",value:function(E){return new _(E.startOffset,E.endOffset,E.newLength)}}]),_}()},DjyN:function(mn,U,a){"use strict";var ce=a("EFp3"),we=a.n(ce),w=a("Urep"),ve=a.n(w),se=a("OaEy")},E9nw:function(mn,U){mn.exports=function(){var a=document.getSelection();if(!a.rangeCount)return function(){};for(var ce=document.activeElement,we=[],w=0;w<a.rangeCount;w++)we.push(a.getRangeAt(w));switch(ce.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":ce.blur();break;default:ce=null;break}return a.removeAllRanges(),function(){a.type==="Caret"&&a.removeAllRanges(),a.rangeCount||we.forEach(function(ve){a.addRange(ve)}),ce&&ce.focus()}}},EJc0:function(mn,U,a){"use strict";a.d(U,"a",function(){return _}),a.d(U,"c",function(){return E}),a.d(U,"f",function(){return ne}),a.d(U,"b",function(){return V}),a.d(U,"e",function(){return F}),a.d(U,"d",function(){return W});var ce=a("rAM+"),we=a("fpMC"),w=a("N0LK"),ve=a("T5lh"),se="$(",te=new RegExp("\\$\\(".concat(ve.a.iconNameExpression,"(?:").concat(ve.a.iconModifierExpression,")?\\)"),"g"),$=new RegExp("(\\\\)?".concat(te.source),"g");function _(N){return N.replace($,function(H,d){return d?H:"\\".concat(H)})}var Y=new RegExp("\\\\".concat(te.source),"g");function E(N){return N.replace(Y,function(H){return"\\".concat(H)})}var Z=new RegExp("(\\s)?(\\\\)?".concat(te.source,"(\\s)?"),"g");function ne(N){return N.indexOf(se)===-1?N:N.replace(Z,function(H,d,D,C){return D?H:d||C||""})}function V(N){return N?N.replace(/\$\((.*?)\)/g,function(H,d){return" ".concat(d," ")}).trim():""}var B=new RegExp("\\$\\(".concat(ve.a.iconNameCharacter,"+\\)"),"g");function F(N){B.lastIndex=0;for(var H="",d=[],D=0;;){var C=B.lastIndex,x=B.exec(N),O=N.substring(C,x==null?void 0:x.index);if(O.length>0){H+=O;for(var T=0;T<O.length;T++)d.push(D)}if(!x)break;D+=x[0].length}return{text:H,iconOffsets:d}}function W(N,H){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=H.text,C=H.iconOffsets;if(!C||C.length===0)return Object(we.h)(N,D,d);var x=Object(w.K)(D," "),O=D.length-x.length,T=Object(we.h)(N,x,d);if(T){var z=Object(ce.a)(T),I;try{for(z.s();!(I=z.n()).done;){var de=I.value,pe=C[de.start+O]+O;de.start+=pe,de.end+=pe}}catch(fe){z.e(fe)}finally{z.f()}}return T}},EWX2:function(mn,U,a){"use strict";a.d(U,"a",function(){return Y}),a.d(U,"f",function(){return E}),a.d(U,"e",function(){return Z}),a.d(U,"h",function(){return B}),a.d(U,"d",function(){return N}),a.d(U,"c",function(){return H}),a.d(U,"b",function(){return D}),a.d(U,"g",function(){return C});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("3/fG"),se=a("MrjW"),te=a("i55F"),$=a("bY76"),_=a("Cg/j"),Y=Object(_.c)("contextService");function E(x){var O=x;return typeof(O==null?void 0:O.id)=="string"&&$.a.isUri(O.uri)}function Z(x){var O=x;return typeof(O==null?void 0:O.id)=="string"&&!E(x)&&!F(x)}var ne={id:"ext-dev"},V={id:"empty-window"};function B(x,O){if(typeof x=="string"||typeof x=="undefined")return typeof x=="string"?{id:Object(se.a)(x)}:O?ne:V;var T=x;return T.configuration?{id:T.id,configPath:T.configuration}:T.folders.length===1?{id:T.id,uri:T.folders[0].uri}:{id:T.id}}function F(x){var O=x;return typeof(O==null?void 0:O.id)=="string"&&$.a.isUri(O.configPath)}var W=function(){function x(O,T,z,I,de){Object(we.a)(this,x),this._id=O,this._transient=z,this._configuration=I,this._ignorePathCasing=de,this._foldersMap=te.a.forUris(this._ignorePathCasing,function(){return!0}),this.folders=T}return Object(w.a)(x,[{key:"folders",get:function(){return this._folders},set:function(T){this._folders=T,this.updateFoldersMap()}},{key:"id",get:function(){return this._id}},{key:"transient",get:function(){return this._transient}},{key:"configuration",get:function(){return this._configuration},set:function(T){this._configuration=T}},{key:"getFolder",value:function(T){return T&&this._foldersMap.findSubstr(T)||null}},{key:"updateFoldersMap",value:function(){this._foldersMap=te.a.forUris(this._ignorePathCasing,function(){return!0});var T=Object(ce.a)(this.folders),z;try{for(T.s();!(z=T.n()).done;){var I=z.value;this._foldersMap.set(I.uri,I)}}catch(de){T.e(de)}finally{T.f()}}},{key:"toJSON",value:function(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}]),x}(),N=function(){function x(O,T){Object(we.a)(this,x),this.raw=T,this.uri=O.uri,this.index=O.index,this.name=O.name}return Object(w.a)(x,[{key:"toJSON",value:function(){return{uri:this.uri,name:this.name,index:this.index}}}]),x}(),H="code-workspace",d=[{name:Object(ve.b)("codeWorkspace","Code Workspace"),extensions:[H]}],D="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function C(x){return x.id===D}},EffR:function(mn,U,a){"use strict";a.r(U),a.d(U,"clearNode",function(){return x}),a.d(U,"isInDOM",function(){return O}),a.d(U,"addDisposableListener",function(){return z}),a.d(U,"addStandardDisposableListener",function(){return pe}),a.d(U,"addStandardDisposableGenericMouseDownListener",function(){return fe}),a.d(U,"addStandardDisposableGenericMouseUpListener",function(){return ke}),a.d(U,"addDisposableGenericMouseDownListener",function(){return A}),a.d(U,"addDisposableGenericMouseUpListener",function(){return P}),a.d(U,"runAtThisOrScheduleAtNextAnimationFrame",function(){return G}),a.d(U,"scheduleAtNextAnimationFrame",function(){return re}),a.d(U,"getComputedStyle",function(){return Q}),a.d(U,"getClientArea",function(){return J}),a.d(U,"Dimension",function(){return ge}),a.d(U,"getTopLeftOffset",function(){return L}),a.d(U,"size",function(){return De}),a.d(U,"getDomNodePagePosition",function(){return Ae}),a.d(U,"getDomNodeZoomLevel",function(){return Oe}),a.d(U,"getTotalWidth",function(){return Pe}),a.d(U,"getContentWidth",function(){return Ne}),a.d(U,"getContentHeight",function(){return Fe}),a.d(U,"getTotalHeight",function(){return Xe}),a.d(U,"isAncestor",function(){return Et}),a.d(U,"findParentWithClass",function(){return Ft}),a.d(U,"hasParentWithClass",function(){return Ot}),a.d(U,"isShadowRoot",function(){return pt}),a.d(U,"isInShadowDOM",function(){return Lt}),a.d(U,"getShadowRoot",function(){return et}),a.d(U,"getActiveElement",function(){return Vt}),a.d(U,"createStyleSheet",function(){return Re}),a.d(U,"createCSSRule",function(){return Qe}),a.d(U,"removeCSSRulesContainingSelector",function(){return $e}),a.d(U,"isHTMLElement",function(){return ze}),a.d(U,"EventType",function(){return ot}),a.d(U,"isEventLike",function(){return He}),a.d(U,"EventHelper",function(){return Ge}),a.d(U,"saveParentsScrollTop",function(){return Je}),a.d(U,"restoreParentsScrollTop",function(){return ft}),a.d(U,"trackFocus",function(){return bt}),a.d(U,"append",function(){return Bt}),a.d(U,"prepend",function(){return rn}),a.d(U,"reset",function(){return an}),a.d(U,"Namespace",function(){return Dt}),a.d(U,"$",function(){return _n}),a.d(U,"setVisibility",function(){return Nn}),a.d(U,"show",function(){return ei}),a.d(U,"hide",function(){return kn}),a.d(U,"computeScreenAwareSize",function(){return Pn}),a.d(U,"windowOpenNoOpener",function(){return qi}),a.d(U,"animate",function(){return gi}),a.d(U,"asCSSUrl",function(){return ir}),a.d(U,"asCSSPropertyValue",function(){return yi}),a.d(U,"asCssValueWithDefault",function(){return mi}),a.d(U,"hookDomPurifyHrefAndSrcSanitizer",function(){return gr}),a.d(U,"basicMarkupHtmlTags",function(){return zn}),a.d(U,"ModifierKeyEmitter",function(){return Bn}),a.d(U,"DragAndDropObserver",function(){return ai}),a.d(U,"h",function(){return Jn});var ce=a("rAM+"),we=a("QyJ8"),w=a("iZzK"),ve=a("yKVA");function se(){se=function(Qn,pi){return new gn(Qn,void 0,pi)};var Ct=RegExp.prototype,Dn=new WeakMap;function gn(yn,Qn,pi){var Pt=new RegExp(yn,Qn);return Dn.set(Pt,pi||Dn.get(yn)),Object(w.a)(Pt,gn.prototype)}function en(yn,Qn){var pi=Dn.get(Qn);return Object.keys(pi).reduce(function(Pt,yt){return Pt[yt]=yn[pi[yt]],Pt},Object.create(null))}return Object(ve.a)(gn,RegExp),gn.prototype.exec=function(yn){var Qn=Ct.exec.call(this,yn);return Qn&&(Qn.groups=en(Qn,this)),Qn},gn.prototype[Symbol.replace]=function(yn,Qn){if(typeof Qn=="string"){var pi=Dn.get(this);return Ct[Symbol.replace].call(this,yn,Qn.replace(/\$<([^>]+)>/g,function(yt,Rn){return"$"+pi[Rn]}))}if(typeof Qn=="function"){var Pt=this;return Ct[Symbol.replace].call(this,yn,function(){var yt=arguments;return Object(we.a)(yt[yt.length-1])!="object"&&(yt=[].slice.call(yt)).push(en(yt,Pt)),Qn.apply(this,yt)})}return Ct[Symbol.replace].call(this,yn,Qn)},se.apply(this,arguments)}var te=a("w4Tj"),$=a("oZsa"),_=a("tJVT"),Y=a("879j"),E=a("fWQN"),Z=a("mtLc"),ne=a("D3Dy"),V=a("CjF5"),B=a("uDWl"),F=a("XSiN"),W=a("/cxE"),N=a("MI8n"),H=a("ddRO"),d=a("pmY6"),D=a("tYmi"),C=a("MNsG");function x(Ct){for(;Ct.firstChild;)Ct.firstChild.remove()}function O(Ct){var Dn;return(Dn=Ct==null?void 0:Ct.isConnected)!==null&&Dn!==void 0?Dn:!1}var T=function(){function Ct(Dn,gn,en,yn){Object(E.a)(this,Ct),this._node=Dn,this._type=gn,this._handler=en,this._options=yn||!1,this._node.addEventListener(this._type,this._handler,this._options)}return Object(Z.a)(Ct,[{key:"dispose",value:function(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}]),Ct}();function z(Ct,Dn,gn,en){return new T(Ct,Dn,gn,en)}function I(Ct){return function(Dn){return Ct(new F.a(Dn))}}function de(Ct){return function(Dn){return Ct(new B.a(Dn))}}var pe=function(Dn,gn,en,yn){var Qn=en;return gn==="click"||gn==="mousedown"?Qn=I(en):(gn==="keydown"||gn==="keypress"||gn==="keyup")&&(Qn=de(en)),z(Dn,gn,Qn,yn)},fe=function(Dn,gn,en){var yn=I(gn);return A(Dn,yn,en)},ke=function(Dn,gn,en){var yn=I(gn);return P(Dn,yn,en)};function A(Ct,Dn,gn){return z(Ct,C.f&&V.a.pointerEvents?ot.POINTER_DOWN:ot.MOUSE_DOWN,Dn,gn)}function P(Ct,Dn,gn){return z(Ct,C.f&&V.a.pointerEvents?ot.POINTER_UP:ot.MOUSE_UP,Dn,gn)}var G,re,ae=function(){function Ct(Dn){var gn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Object(E.a)(this,Ct),this._runner=Dn,this.priority=gn,this._canceled=!1}return Object(Z.a)(Ct,[{key:"dispose",value:function(){this._canceled=!0}},{key:"execute",value:function(){if(!this._canceled)try{this._runner()}catch(gn){Object(W.h)(gn)}}}],[{key:"sort",value:function(gn,en){return en.priority-gn.priority}}]),Ct}();(function(){var Ct=[],Dn=null,gn=!1,en=!1,yn=function(){for(gn=!1,Dn=Ct,Ct=[],en=!0;Dn.length>0;){Dn.sort(ae.sort);var pi=Dn.shift();pi.execute()}en=!1};re=function(pi){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,yt=new ae(pi,Pt);return Ct.push(yt),gn||(gn=!0,requestAnimationFrame(yn)),yt},G=function(pi,Pt){if(en){var yt=new ae(pi,Pt);return Dn.push(yt),yt}else return re(pi,Pt)}})();function Q(Ct){return document.defaultView.getComputedStyle(Ct,null)}function J(Ct){if(Ct!==document.body)return new ge(Ct.clientWidth,Ct.clientHeight);if(C.f&&window.visualViewport)return new ge(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new ge(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new ge(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new ge(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}var me=function(){function Ct(){Object(E.a)(this,Ct)}return Object(Z.a)(Ct,null,[{key:"convertToPixels",value:function(gn,en){return parseFloat(en)||0}},{key:"getDimension",value:function(gn,en,yn){var Qn=Q(gn),pi=Qn?Qn.getPropertyValue(en):"0";return Ct.convertToPixels(gn,pi)}},{key:"getBorderLeftWidth",value:function(gn){return Ct.getDimension(gn,"border-left-width","borderLeftWidth")}},{key:"getBorderRightWidth",value:function(gn){return Ct.getDimension(gn,"border-right-width","borderRightWidth")}},{key:"getBorderTopWidth",value:function(gn){return Ct.getDimension(gn,"border-top-width","borderTopWidth")}},{key:"getBorderBottomWidth",value:function(gn){return Ct.getDimension(gn,"border-bottom-width","borderBottomWidth")}},{key:"getPaddingLeft",value:function(gn){return Ct.getDimension(gn,"padding-left","paddingLeft")}},{key:"getPaddingRight",value:function(gn){return Ct.getDimension(gn,"padding-right","paddingRight")}},{key:"getPaddingTop",value:function(gn){return Ct.getDimension(gn,"padding-top","paddingTop")}},{key:"getPaddingBottom",value:function(gn){return Ct.getDimension(gn,"padding-bottom","paddingBottom")}},{key:"getMarginLeft",value:function(gn){return Ct.getDimension(gn,"margin-left","marginLeft")}},{key:"getMarginTop",value:function(gn){return Ct.getDimension(gn,"margin-top","marginTop")}},{key:"getMarginRight",value:function(gn){return Ct.getDimension(gn,"margin-right","marginRight")}},{key:"getMarginBottom",value:function(gn){return Ct.getDimension(gn,"margin-bottom","marginBottom")}}]),Ct}(),ge=function(){function Ct(Dn,gn){Object(E.a)(this,Ct),this.width=Dn,this.height=gn}return Object(Z.a)(Ct,[{key:"with",value:function(){var gn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.width,en=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.height;return gn!==this.width||en!==this.height?new Ct(gn,en):this}}],[{key:"is",value:function(gn){return typeof gn=="object"&&typeof gn.height=="number"&&typeof gn.width=="number"}},{key:"lift",value:function(gn){return gn instanceof Ct?gn:new Ct(gn.width,gn.height)}},{key:"equals",value:function(gn,en){return gn===en?!0:!gn||!en?!1:gn.width===en.width&&gn.height===en.height}}]),Ct}();ge.None=new ge(0,0);function L(Ct){for(var Dn=Ct.offsetParent,gn=Ct.offsetTop,en=Ct.offsetLeft;(Ct=Ct.parentNode)!==null&&Ct!==document.body&&Ct!==document.documentElement;){gn-=Ct.scrollTop;var yn=pt(Ct)?null:Q(Ct);yn&&(en-=yn.direction!=="rtl"?Ct.scrollLeft:-Ct.scrollLeft),Ct===Dn&&(en+=me.getBorderLeftWidth(Ct),gn+=me.getBorderTopWidth(Ct),gn+=Ct.offsetTop,en+=Ct.offsetLeft,Dn=Ct.offsetParent)}return{left:en,top:gn}}function De(Ct,Dn,gn){typeof Dn=="number"&&(Ct.style.width="".concat(Dn,"px")),typeof gn=="number"&&(Ct.style.height="".concat(gn,"px"))}function Ae(Ct){var Dn=Ct.getBoundingClientRect();return{left:Dn.left+window.scrollX,top:Dn.top+window.scrollY,width:Dn.width,height:Dn.height}}function Oe(Ct){var Dn=Ct,gn=1;do{var en=Q(Dn).zoom;en!=null&&en!=="1"&&(gn*=en),Dn=Dn.parentElement}while(Dn!==null&&Dn!==document.documentElement);return gn}function Pe(Ct){var Dn=me.getMarginLeft(Ct)+me.getMarginRight(Ct);return Ct.offsetWidth+Dn}function Ne(Ct){var Dn=me.getBorderLeftWidth(Ct)+me.getBorderRightWidth(Ct),gn=me.getPaddingLeft(Ct)+me.getPaddingRight(Ct);return Ct.offsetWidth-Dn-gn}function Fe(Ct){var Dn=me.getBorderTopWidth(Ct)+me.getBorderBottomWidth(Ct),gn=me.getPaddingTop(Ct)+me.getPaddingBottom(Ct);return Ct.offsetHeight-Dn-gn}function Xe(Ct){var Dn=me.getMarginTop(Ct)+me.getMarginBottom(Ct);return Ct.offsetHeight+Dn}function Et(Ct,Dn){for(;Ct;){if(Ct===Dn)return!0;Ct=Ct.parentNode}return!1}function Ft(Ct,Dn,gn){for(;Ct&&Ct.nodeType===Ct.ELEMENT_NODE;){if(Ct.classList.contains(Dn))return Ct;if(gn){if(typeof gn=="string"){if(Ct.classList.contains(gn))return null}else if(Ct===gn)return null}Ct=Ct.parentNode}return null}function Ot(Ct,Dn,gn){return!!Ft(Ct,Dn,gn)}function pt(Ct){return Ct&&!!Ct.host&&!!Ct.mode}function Lt(Ct){return!!et(Ct)}function et(Ct){for(;Ct.parentNode;){if(Ct===document.body)return null;Ct=Ct.parentNode}return pt(Ct)?Ct:null}function Vt(){for(var Ct=document.activeElement;Ct==null?void 0:Ct.shadowRoot;)Ct=Ct.shadowRoot.activeElement;return Ct}function Re(){var Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.getElementsByTagName("head")[0],Dn=arguments.length>1?arguments[1]:void 0,gn=document.createElement("style");return gn.type="text/css",gn.media="screen",Dn==null||Dn(gn),Ct.appendChild(gn),gn}var Ce=null;function ye(){return Ce||(Ce=Re()),Ce}function Te(Ct){var Dn,gn;return((Dn=Ct==null?void 0:Ct.sheet)===null||Dn===void 0?void 0:Dn.rules)?Ct.sheet.rules:((gn=Ct==null?void 0:Ct.sheet)===null||gn===void 0?void 0:gn.cssRules)?Ct.sheet.cssRules:[]}function Qe(Ct,Dn){var gn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ye();!gn||!Dn||gn.sheet.insertRule(Ct+"{"+Dn+"}",0)}function $e(Ct){var Dn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ye();if(!!Dn){for(var gn=Te(Dn),en=[],yn=0;yn<gn.length;yn++){var Qn=gn[yn];Qn.selectorText.indexOf(Ct)!==-1&&en.push(yn)}for(var pi=en.length-1;pi>=0;pi--)Dn.sheet.deleteRule(en[pi])}}function ze(Ct){return typeof HTMLElement=="object"?Ct instanceof HTMLElement:Ct&&typeof Ct=="object"&&Ct.nodeType===1&&typeof Ct.nodeName=="string"}var ot={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:ne.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:ne.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:ne.isWebKit?"webkitAnimationIteration":"animationiteration"};function He(Ct){var Dn=Ct;return!!(Dn&&typeof Dn.preventDefault=="function"&&typeof Dn.stopPropagation=="function")}var Ge={stop:function(Dn,gn){return Dn.preventDefault(),gn&&Dn.stopPropagation(),Dn}};function Je(Ct){for(var Dn=[],gn=0;Ct&&Ct.nodeType===Ct.ELEMENT_NODE;gn++)Dn[gn]=Ct.scrollTop,Ct=Ct.parentNode;return Dn}function ft(Ct,Dn){for(var gn=0;Ct&&Ct.nodeType===Ct.ELEMENT_NODE;gn++)Ct.scrollTop!==Dn[gn]&&(Ct.scrollTop=Dn[gn]),Ct=Ct.parentNode}var qt=function(Ct){Object(ve.a)(gn,Ct);var Dn=Object(Y.a)(gn);function gn(en){var yn;Object(E.a)(this,gn),yn=Dn.call(this),yn._onDidFocus=yn._register(new N.b),yn.onDidFocus=yn._onDidFocus.event,yn._onDidBlur=yn._register(new N.b),yn.onDidBlur=yn._onDidBlur.event;var Qn=gn.hasFocusWithin(en),pi=!1,Pt=function(){pi=!1,Qn||(Qn=!0,yn._onDidFocus.fire())},yt=function(){Qn&&(pi=!0,window.setTimeout(function(){pi&&(pi=!1,Qn=!1,yn._onDidBlur.fire())},0))};return yn._refreshStateHandler=function(){var Rn=gn.hasFocusWithin(en);Rn!==Qn&&(Qn?yt():Pt())},yn._register(z(en,ot.FOCUS,Pt,!0)),yn._register(z(en,ot.BLUR,yt,!0)),yn._register(z(en,ot.FOCUS_IN,function(){return yn._refreshStateHandler()})),yn._register(z(en,ot.FOCUS_OUT,function(){return yn._refreshStateHandler()})),yn}return Object(Z.a)(gn,null,[{key:"hasFocusWithin",value:function(yn){var Qn=et(yn),pi=Qn?Qn.activeElement:document.activeElement;return Et(pi,yn)}}]),gn}(d.a);function bt(Ct){return new qt(Ct)}function Bt(Ct){for(var Dn=arguments.length,gn=new Array(Dn>1?Dn-1:0),en=1;en<Dn;en++)gn[en-1]=arguments[en];if(Ct.append.apply(Ct,gn),gn.length===1&&typeof gn[0]!="string")return gn[0]}function rn(Ct,Dn){return Ct.insertBefore(Dn,Ct.firstChild),Dn}function an(Ct){Ct.innerText="";for(var Dn=arguments.length,gn=new Array(Dn>1?Dn-1:0),en=1;en<Dn;en++)gn[en-1]=arguments[en];Bt.apply(void 0,[Ct].concat(gn))}var In=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/,Dt;(function(Ct){Ct.HTML="http://www.w3.org/1999/xhtml",Ct.SVG="http://www.w3.org/2000/svg"})(Dt||(Dt={}));function jn(Ct,Dn,gn){var en,yn=In.exec(Dn);if(!yn)throw new Error("Bad use of emmet");var Qn=yn[1]||"div",pi;Ct!==Dt.HTML?pi=document.createElementNS(Ct,Qn):pi=document.createElement(Qn),yn[3]&&(pi.id=yn[3]),yn[4]&&(pi.className=yn[4].replace(/\./g," ").trim()),gn&&Object.entries(gn).forEach(function(Sn){var Ii=Object(_.a)(Sn,2),Hi=Ii[0],wt=Ii[1];typeof wt!="undefined"&&(/^on\w+$/.test(Hi)?pi[Hi]=wt:Hi==="selected"?wt&&pi.setAttribute(Hi,"true"):pi.setAttribute(Hi,wt))});for(var Pt=arguments.length,yt=new Array(Pt>3?Pt-3:0),Rn=3;Rn<Pt;Rn++)yt[Rn-3]=arguments[Rn];return(en=pi).append.apply(en,yt),pi}function _n(Ct,Dn){for(var gn=arguments.length,en=new Array(gn>2?gn-2:0),yn=2;yn<gn;yn++)en[yn-2]=arguments[yn];return jn.apply(void 0,[Dt.HTML,Ct,Dn].concat(en))}_n.SVG=function(Ct,Dn){for(var gn=arguments.length,en=new Array(gn>2?gn-2:0),yn=2;yn<gn;yn++)en[yn-2]=arguments[yn];return jn.apply(void 0,[Dt.SVG,Ct,Dn].concat(en))};function Nn(Ct){for(var Dn=arguments.length,gn=new Array(Dn>1?Dn-1:0),en=1;en<Dn;en++)gn[en-1]=arguments[en];Ct?ei.apply(void 0,gn):kn.apply(void 0,gn)}function ei(){for(var Ct=arguments.length,Dn=new Array(Ct),gn=0;gn<Ct;gn++)Dn[gn]=arguments[gn];for(var en=0,yn=Dn;en<yn.length;en++){var Qn=yn[en];Qn.style.display="",Qn.removeAttribute("aria-hidden")}}function kn(){for(var Ct=arguments.length,Dn=new Array(Ct),gn=0;gn<Ct;gn++)Dn[gn]=arguments[gn];for(var en=0,yn=Dn;en<yn.length;en++){var Qn=yn[en];Qn.style.display="none",Qn.setAttribute("aria-hidden","true")}}function Pn(Ct){var Dn=window.devicePixelRatio*Ct;return Math.max(1,Math.floor(Dn))/window.devicePixelRatio}function qi(Ct){window.open(Ct,"_blank","noopener")}function gi(Ct){var Dn=function en(){Ct(),gn=re(en)},gn=re(Dn);return Object(d.l)(function(){return gn.dispose()})}D.b.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function ir(Ct){return Ct?"url('".concat(D.a.uriToBrowserUri(Ct).toString(!0).replace(/'/g,"%27"),"')"):"url('')"}function yi(Ct){return"'".concat(Ct.replace(/'/g,"%27"),"'")}function mi(Ct,Dn){if(Ct!==void 0){var gn=Ct.match(/^\s*var\((.+)\)$/);if(gn){var en=gn[1].split(",",2);return en.length===2&&(Dn=mi(en[1].trim(),Dn)),"var(".concat(en[0],", ").concat(Dn,")")}return Ct}return Dn}function gr(Ct){var Dn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,gn=document.createElement("a");return H.a("afterSanitizeAttributes",function(en){for(var yn=0,Qn=["href","src"];yn<Qn.length;yn++){var pi=Qn[yn];if(en.hasAttribute(pi)){var Pt=en.getAttribute(pi);if(pi==="href"&&Pt.startsWith("#"))continue;if(gn.href=Pt,!Ct.includes(gn.protocol.replace(/:$/,""))){if(Dn&&pi==="src"&&gn.href.startsWith("data:"))continue;en.removeAttribute(pi)}}}}),Object(d.l)(function(){H.b("afterSanitizeAttributes")})}var zn=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),Ki=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0}),Bn=function(Ct){Object(ve.a)(gn,Ct);var Dn=Object(Y.a)(gn);function gn(){var en;return Object(E.a)(this,gn),en=Dn.call(this),en._subscriptions=new d.c,en._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},en._subscriptions.add(z(window,"keydown",function(yn){if(!yn.defaultPrevented){var Qn=new B.a(yn);if(!(Qn.keyCode===6&&yn.repeat)){if(yn.altKey&&!en._keyStatus.altKey)en._keyStatus.lastKeyPressed="alt";else if(yn.ctrlKey&&!en._keyStatus.ctrlKey)en._keyStatus.lastKeyPressed="ctrl";else if(yn.metaKey&&!en._keyStatus.metaKey)en._keyStatus.lastKeyPressed="meta";else if(yn.shiftKey&&!en._keyStatus.shiftKey)en._keyStatus.lastKeyPressed="shift";else if(Qn.keyCode!==6)en._keyStatus.lastKeyPressed=void 0;else return;en._keyStatus.altKey=yn.altKey,en._keyStatus.ctrlKey=yn.ctrlKey,en._keyStatus.metaKey=yn.metaKey,en._keyStatus.shiftKey=yn.shiftKey,en._keyStatus.lastKeyPressed&&(en._keyStatus.event=yn,en.fire(en._keyStatus))}}},!0)),en._subscriptions.add(z(window,"keyup",function(yn){yn.defaultPrevented||(!yn.altKey&&en._keyStatus.altKey?en._keyStatus.lastKeyReleased="alt":!yn.ctrlKey&&en._keyStatus.ctrlKey?en._keyStatus.lastKeyReleased="ctrl":!yn.metaKey&&en._keyStatus.metaKey?en._keyStatus.lastKeyReleased="meta":!yn.shiftKey&&en._keyStatus.shiftKey?en._keyStatus.lastKeyReleased="shift":en._keyStatus.lastKeyReleased=void 0,en._keyStatus.lastKeyPressed!==en._keyStatus.lastKeyReleased&&(en._keyStatus.lastKeyPressed=void 0),en._keyStatus.altKey=yn.altKey,en._keyStatus.ctrlKey=yn.ctrlKey,en._keyStatus.metaKey=yn.metaKey,en._keyStatus.shiftKey=yn.shiftKey,en._keyStatus.lastKeyReleased&&(en._keyStatus.event=yn,en.fire(en._keyStatus)))},!0)),en._subscriptions.add(z(document.body,"mousedown",function(){en._keyStatus.lastKeyPressed=void 0},!0)),en._subscriptions.add(z(document.body,"mouseup",function(){en._keyStatus.lastKeyPressed=void 0},!0)),en._subscriptions.add(z(document.body,"mousemove",function(yn){yn.buttons&&(en._keyStatus.lastKeyPressed=void 0)},!0)),en._subscriptions.add(z(window,"blur",function(){en.resetKeyStatus()})),en}return Object(Z.a)(gn,[{key:"keyStatus",get:function(){return this._keyStatus}},{key:"resetKeyStatus",value:function(){this.doResetKeyStatus(),this.fire(this._keyStatus)}},{key:"doResetKeyStatus",value:function(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}},{key:"dispose",value:function(){Object(te.a)(Object($.a)(gn.prototype),"dispose",this).call(this),this._subscriptions.dispose()}}],[{key:"getInstance",value:function(){return gn.instance||(gn.instance=new gn),gn.instance}}]),gn}(N.b),ai=function(Ct){Object(ve.a)(gn,Ct);var Dn=Object(Y.a)(gn);function gn(en,yn){var Qn;return Object(E.a)(this,gn),Qn=Dn.call(this),Qn.element=en,Qn.callbacks=yn,Qn.counter=0,Qn.dragStartTime=0,Qn.registerListeners(),Qn}return Object(Z.a)(gn,[{key:"registerListeners",value:function(){var yn=this;this._register(z(this.element,ot.DRAG_ENTER,function(Qn){yn.counter++,yn.dragStartTime=Qn.timeStamp,yn.callbacks.onDragEnter(Qn)})),this._register(z(this.element,ot.DRAG_OVER,function(Qn){var pi,Pt;Qn.preventDefault(),(Pt=(pi=yn.callbacks).onDragOver)===null||Pt===void 0||Pt.call(pi,Qn,Qn.timeStamp-yn.dragStartTime)})),this._register(z(this.element,ot.DRAG_LEAVE,function(Qn){yn.counter--,yn.counter===0&&(yn.dragStartTime=0,yn.callbacks.onDragLeave(Qn))})),this._register(z(this.element,ot.DRAG_END,function(Qn){yn.counter=0,yn.dragStartTime=0,yn.callbacks.onDragEnd(Qn)})),this._register(z(this.element,ot.DROP,function(Qn){yn.counter=0,yn.dragStartTime=0,yn.callbacks.onDrop(Qn)}))}}]),gn}(d.a),dn=se(/([\w\-]+)?(?:#([\w\-]+))?((?:\.(?:[\w\-]+))*)(?:@((?:[\w\_])+))?/,{tag:1,id:2,class:3,name:4});function Jn(Ct){var Dn,gn;Array.isArray(arguments.length<=1?void 0:arguments[1])?(Dn={},gn=arguments.length<=1?void 0:arguments[1]):(Dn=(arguments.length<=1?void 0:arguments[1])||{},gn=arguments.length<=2?void 0:arguments[2]);var en=dn.exec(Ct);if(!en||!en.groups)throw new Error("Bad use of h");var yn=en.groups.tag||"div",Qn=document.createElement(yn);en.groups.id&&(Qn.id=en.groups.id);var pi=[];if(en.groups.class){var Pt=Object(ce.a)(en.groups.class.split(".")),yt;try{for(Pt.s();!(yt=Pt.n()).done;){var Rn=yt.value;Rn!==""&&pi.push(Rn)}}catch(vn){Pt.e(vn)}finally{Pt.f()}}if(Dn.className!==void 0){var Sn=Object(ce.a)(Dn.className.split(".")),Ii;try{for(Sn.s();!(Ii=Sn.n()).done;){var Hi=Ii.value;Hi!==""&&pi.push(Hi)}}catch(vn){Sn.e(vn)}finally{Sn.f()}}pi.length>0&&(Qn.className=pi.join(" "));var wt={};if(en.groups.name&&(wt[en.groups.name]=Qn),gn){var Pi=Object(ce.a)(gn),Ut;try{for(Pi.s();!(Ut=Pi.n()).done;){var We=Ut.value;We instanceof HTMLElement?Qn.appendChild(We):typeof We=="string"?Qn.append(We):"root"in We&&(Object.assign(wt,We),Qn.appendChild(We.root))}}catch(vn){Pi.e(vn)}finally{Pi.f()}}for(var Tn=0,ar=Object.entries(Dn);Tn<ar.length;Tn++){var Br=ar[Tn],Yr=Object(_.a)(Br,2),ti=Yr[0],bi=Yr[1];if(ti!=="className")if(ti==="style")for(var Kn=0,En=Object.entries(bi);Kn<En.length;Kn++){var Nt=En[Kn],Gt=Object(_.a)(Nt,2),mt=Gt[0],Ye=Gt[1];Qn.style.setProperty(Yt(mt),typeof Ye=="number"?Ye+"px":""+Ye)}else ti==="tabIndex"?Qn.tabIndex=bi:Qn.setAttribute(Yt(ti),bi.toString())}return wt.root=Qn,wt}function Yt(Ct){return Ct.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},EzsQ:function(mn,U,a){},FWmy:function(mn,U,a){"use strict";a.d(U,"d",function(){return we}),a.d(U,"b",function(){return w}),a.d(U,"a",function(){return ve}),a.d(U,"c",function(){return se});var ce=a("/cxE");function we(te,$){if(!te)throw new Error($?"Assertion failed (".concat($,")"):"Assertion Failed")}function w(te){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Unreachable";throw new Error($)}function ve(te){if(!te()){debugger;te(),Object(ce.h)(new ce.a("Assertion Failed"))}}function se(te,$){for(var _=0;_<te.length-1;){var Y=te[_],E=te[_+1];if(!$(Y,E))return!1;_++}return!0}},FmXZ:function(mn,U,a){"use strict";a.d(U,"b",function(){return te}),a.d(U,"a",function(){return V});var ce=a("MNsG"),we=a("3/fG"),w=a("T8No"),ve=new w.c("isMac",ce.i,Object(we.b)("isMac","Whether the operating system is macOS")),se=new w.c("isLinux",ce.g,Object(we.b)("isLinux","Whether the operating system is Linux")),te=new w.c("isWindows",ce.o,Object(we.b)("isWindows","Whether the operating system is Windows")),$=new w.c("isWeb",ce.m,Object(we.b)("isWeb","Whether the platform is a web browser")),_=new w.c("isMacNative",ce.i&&!ce.m,Object(we.b)("isMacNative","Whether the operating system is macOS on a non-browser platform")),Y=new w.c("isIOS",ce.f,Object(we.b)("isIOS","Whether the operating system is iOS")),E=new w.c("isMobile",ce.j,Object(we.b)("isMobile","Whether the platform is a mobile web browser")),Z=new w.c("isDevelopment",!1,!0),ne=new w.c("productQualityType","",Object(we.b)("productQualityType","Quality type of VS Code")),V="inputFocus",B=new w.c(V,!1,Object(we.b)("inputFocus","Whether keyboard focus is inside an input box"))},FzHg:function(mn,U){(function(a,ce){mn.exports=function(){var we={722:function(se){se.exports=a}},w={};function ve(se){if(w[se])return w[se].exports;var te=w[se]={exports:{}},$=!0;try{we[se](te,te.exports,ve),$=!1}finally{$&&delete w[se]}return te.exports}return ve.ab=ce+"/",ve(722)}()}).call(this,{},"/")},G300:function(mn,U,a){"use strict";a.d(U,"a",function(){return E});var ce=a("fWQN"),we=a("mtLc"),w=a("yKVA"),ve=a("879j"),se=a("EffR"),te=a("uDWl"),$=a("XSiN"),_=a("pg8w"),Y=a("pmY6"),E=function(Z){Object(w.a)(V,Z);var ne=Object(ve.a)(V);function V(){return Object(ce.a)(this,V),ne.apply(this,arguments)}return Object(we.a)(V,[{key:"onclick",value:function(F,W){this._register(se.addDisposableListener(F,se.EventType.CLICK,function(N){return W(new $.a(N))}))}},{key:"onmousedown",value:function(F,W){this._register(se.addDisposableListener(F,se.EventType.MOUSE_DOWN,function(N){return W(new $.a(N))}))}},{key:"onmouseover",value:function(F,W){this._register(se.addDisposableListener(F,se.EventType.MOUSE_OVER,function(N){return W(new $.a(N))}))}},{key:"onmouseleave",value:function(F,W){this._register(se.addDisposableListener(F,se.EventType.MOUSE_LEAVE,function(N){return W(new $.a(N))}))}},{key:"onkeydown",value:function(F,W){this._register(se.addDisposableListener(F,se.EventType.KEY_DOWN,function(N){return W(new te.a(N))}))}},{key:"onkeyup",value:function(F,W){this._register(se.addDisposableListener(F,se.EventType.KEY_UP,function(N){return W(new te.a(N))}))}},{key:"oninput",value:function(F,W){this._register(se.addDisposableListener(F,se.EventType.INPUT,W))}},{key:"onblur",value:function(F,W){this._register(se.addDisposableListener(F,se.EventType.BLUR,W))}},{key:"onfocus",value:function(F,W){this._register(se.addDisposableListener(F,se.EventType.FOCUS,W))}},{key:"ignoreGesture",value:function(F){return _.b.ignoreTarget(F)}}]),V}(Y.a)},G3dp:function(mn,U,a){"use strict";var ce=a("VTBJ"),we=a("q1tI"),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},ve=w,se=a("6VBw"),te=function(Y,E){return we.createElement(se.a,Object(ce.a)(Object(ce.a)({},Y),{},{ref:E,icon:ve}))};te.displayName="EditOutlined";var $=U.a=we.forwardRef(te)},GJhM:function(mn,U,a){"use strict";a.d(U,"b",function(){return ae}),a.d(U,"c",function(){return J}),a.d(U,"d",function(){return me}),a.d(U,"a",function(){return ge});var ce=a("w4Tj"),we=a("oZsa"),w=a("yKVA"),ve=a("879j"),se=a("mtLc"),te=a("fWQN"),$=a("D3Dy"),_=a("EffR"),Y=a("ZlPH"),E=a("XSiN"),Z=a("a4d6"),ne=a("oBTY"),V=a("G300"),B=a("X+cX"),F=a("T5lh"),W=11,N=function(De){Object(w.a)(Oe,De);var Ae=Object(ve.a)(Oe);function Oe(Pe){var Ne,Fe;return Object(te.a)(this,Oe),Fe=Ae.call(this),Fe._onActivate=Pe.onActivate,Fe.bgDomNode=document.createElement("div"),Fe.bgDomNode.className="arrow-background",Fe.bgDomNode.style.position="absolute",Fe.bgDomNode.style.width=Pe.bgWidth+"px",Fe.bgDomNode.style.height=Pe.bgHeight+"px",typeof Pe.top!="undefined"&&(Fe.bgDomNode.style.top="0px"),typeof Pe.left!="undefined"&&(Fe.bgDomNode.style.left="0px"),typeof Pe.bottom!="undefined"&&(Fe.bgDomNode.style.bottom="0px"),typeof Pe.right!="undefined"&&(Fe.bgDomNode.style.right="0px"),Fe.domNode=document.createElement("div"),Fe.domNode.className=Pe.className,(Ne=Fe.domNode.classList).add.apply(Ne,Object(ne.a)(F.a.asClassNameArray(Pe.icon))),Fe.domNode.style.position="absolute",Fe.domNode.style.width=W+"px",Fe.domNode.style.height=W+"px",typeof Pe.top!="undefined"&&(Fe.domNode.style.top=Pe.top+"px"),typeof Pe.left!="undefined"&&(Fe.domNode.style.left=Pe.left+"px"),typeof Pe.bottom!="undefined"&&(Fe.domNode.style.bottom=Pe.bottom+"px"),typeof Pe.right!="undefined"&&(Fe.domNode.style.right=Pe.right+"px"),Fe._pointerMoveMonitor=Fe._register(new Z.a),Fe._register(_.addStandardDisposableListener(Fe.bgDomNode,_.EventType.POINTER_DOWN,function(Xe){return Fe._arrowPointerDown(Xe)})),Fe._register(_.addStandardDisposableListener(Fe.domNode,_.EventType.POINTER_DOWN,function(Xe){return Fe._arrowPointerDown(Xe)})),Fe._pointerdownRepeatTimer=Fe._register(new B.e),Fe._pointerdownScheduleRepeatTimer=Fe._register(new B.i),Fe}return Object(se.a)(Oe,[{key:"_arrowPointerDown",value:function(Ne){var Fe=this;if(!(!Ne.target||!(Ne.target instanceof Element))){var Xe=function(){Fe._pointerdownRepeatTimer.cancelAndSet(function(){return Fe._onActivate()},1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(Xe,200),this._pointerMoveMonitor.startMonitoring(Ne.target,Ne.pointerId,Ne.buttons,function(Et){},function(){Fe._pointerdownRepeatTimer.cancel(),Fe._pointerdownScheduleRepeatTimer.cancel()}),Ne.preventDefault()}}}]),Oe}(V.a),H=a("pmY6"),d=function(De){Object(w.a)(Oe,De);var Ae=Object(ve.a)(Oe);function Oe(Pe,Ne,Fe){var Xe;return Object(te.a)(this,Oe),Xe=Ae.call(this),Xe._visibility=Pe,Xe._visibleClassName=Ne,Xe._invisibleClassName=Fe,Xe._domNode=null,Xe._isVisible=!1,Xe._isNeeded=!1,Xe._rawShouldBeVisible=!1,Xe._shouldBeVisible=!1,Xe._revealTimer=Xe._register(new B.i),Xe}return Object(se.a)(Oe,[{key:"setVisibility",value:function(Ne){this._visibility!==Ne&&(this._visibility=Ne,this._updateShouldBeVisible())}},{key:"setShouldBeVisible",value:function(Ne){this._rawShouldBeVisible=Ne,this._updateShouldBeVisible()}},{key:"_applyVisibilitySetting",value:function(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}},{key:"_updateShouldBeVisible",value:function(){var Ne=this._applyVisibilitySetting();this._shouldBeVisible!==Ne&&(this._shouldBeVisible=Ne,this.ensureVisibility())}},{key:"setIsNeeded",value:function(Ne){this._isNeeded!==Ne&&(this._isNeeded=Ne,this.ensureVisibility())}},{key:"setDomNode",value:function(Ne){this._domNode=Ne,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}},{key:"ensureVisibility",value:function(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}},{key:"_reveal",value:function(){var Ne=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){var Fe;(Fe=Ne._domNode)===null||Fe===void 0||Fe.setClassName(Ne._visibleClassName)},0))}},{key:"_hide",value:function(Ne){var Fe;this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,(Fe=this._domNode)===null||Fe===void 0||Fe.setClassName(this._invisibleClassName+(Ne?" fade":"")))}}]),Oe}(H.a),D=a("MNsG"),C=140,x=function(De){Object(w.a)(Oe,De);var Ae=Object(ve.a)(Oe);function Oe(Pe){var Ne;return Object(te.a)(this,Oe),Ne=Ae.call(this),Ne._lazyRender=Pe.lazyRender,Ne._host=Pe.host,Ne._scrollable=Pe.scrollable,Ne._scrollByPage=Pe.scrollByPage,Ne._scrollbarState=Pe.scrollbarState,Ne._visibilityController=Ne._register(new d(Pe.visibility,"visible scrollbar "+Pe.extraScrollbarClassName,"invisible scrollbar "+Pe.extraScrollbarClassName)),Ne._visibilityController.setIsNeeded(Ne._scrollbarState.isNeeded()),Ne._pointerMoveMonitor=Ne._register(new Z.a),Ne._shouldRender=!0,Ne.domNode=Object(Y.b)(document.createElement("div")),Ne.domNode.setAttribute("role","presentation"),Ne.domNode.setAttribute("aria-hidden","true"),Ne._visibilityController.setDomNode(Ne.domNode),Ne.domNode.setPosition("absolute"),Ne._register(_.addDisposableListener(Ne.domNode.domNode,_.EventType.POINTER_DOWN,function(Fe){return Ne._domNodePointerDown(Fe)})),Ne}return Object(se.a)(Oe,[{key:"_createArrow",value:function(Ne){var Fe=this._register(new N(Ne));this.domNode.domNode.appendChild(Fe.bgDomNode),this.domNode.domNode.appendChild(Fe.domNode)}},{key:"_createSlider",value:function(Ne,Fe,Xe,Et){var Ft=this;this.slider=Object(Y.b)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(Ne),this.slider.setLeft(Fe),typeof Xe=="number"&&this.slider.setWidth(Xe),typeof Et=="number"&&this.slider.setHeight(Et),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(_.addDisposableListener(this.slider.domNode,_.EventType.POINTER_DOWN,function(Ot){Ot.button===0&&(Ot.preventDefault(),Ft._sliderPointerDown(Ot))})),this.onclick(this.slider.domNode,function(Ot){Ot.leftButton&&Ot.stopPropagation()})}},{key:"_onElementSize",value:function(Ne){return this._scrollbarState.setVisibleSize(Ne)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"_onElementScrollSize",value:function(Ne){return this._scrollbarState.setScrollSize(Ne)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"_onElementScrollPosition",value:function(Ne){return this._scrollbarState.setScrollPosition(Ne)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"beginReveal",value:function(){this._visibilityController.setShouldBeVisible(!0)}},{key:"beginHide",value:function(){this._visibilityController.setShouldBeVisible(!1)}},{key:"render",value:function(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}},{key:"_domNodePointerDown",value:function(Ne){Ne.target===this.domNode.domNode&&this._onPointerDown(Ne)}},{key:"delegatePointerDown",value:function(Ne){var Fe=this.domNode.domNode.getClientRects()[0].top,Xe=Fe+this._scrollbarState.getSliderPosition(),Et=Fe+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),Ft=this._sliderPointerPosition(Ne);Xe<=Ft&&Ft<=Et?Ne.button===0&&(Ne.preventDefault(),this._sliderPointerDown(Ne)):this._onPointerDown(Ne)}},{key:"_onPointerDown",value:function(Ne){var Fe,Xe;if(Ne.target===this.domNode.domNode&&typeof Ne.offsetX=="number"&&typeof Ne.offsetY=="number")Fe=Ne.offsetX,Xe=Ne.offsetY;else{var Et=_.getDomNodePagePosition(this.domNode.domNode);Fe=Ne.pageX-Et.left,Xe=Ne.pageY-Et.top}var Ft=this._pointerDownRelativePosition(Fe,Xe);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(Ft):this._scrollbarState.getDesiredScrollPositionFromOffset(Ft)),Ne.button===0&&(Ne.preventDefault(),this._sliderPointerDown(Ne))}},{key:"_sliderPointerDown",value:function(Ne){var Fe=this;if(!(!Ne.target||!(Ne.target instanceof Element))){var Xe=this._sliderPointerPosition(Ne),Et=this._sliderOrthogonalPointerPosition(Ne),Ft=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(Ne.target,Ne.pointerId,Ne.buttons,function(Ot){var pt=Fe._sliderOrthogonalPointerPosition(Ot),Lt=Math.abs(pt-Et);if(D.o&&Lt>C){Fe._setDesiredScrollPositionNow(Ft.getScrollPosition());return}var et=Fe._sliderPointerPosition(Ot),Vt=et-Xe;Fe._setDesiredScrollPositionNow(Ft.getDesiredScrollPositionFromDelta(Vt))},function(){Fe.slider.toggleClassName("active",!1),Fe._host.onDragEnd()}),this._host.onDragStart()}}},{key:"_setDesiredScrollPositionNow",value:function(Ne){var Fe={};this.writeScrollPosition(Fe,Ne),this._scrollable.setScrollPositionNow(Fe)}},{key:"updateScrollbarSize",value:function(Ne){this._updateScrollbarSize(Ne),this._scrollbarState.setScrollbarSize(Ne),this._shouldRender=!0,this._lazyRender||this.render()}},{key:"isNeeded",value:function(){return this._scrollbarState.isNeeded()}}]),Oe}(V.a),O=20,T=function(){function De(Ae,Oe,Pe,Ne,Fe,Xe){Object(te.a)(this,De),this._scrollbarSize=Math.round(Oe),this._oppositeScrollbarSize=Math.round(Pe),this._arrowSize=Math.round(Ae),this._visibleSize=Ne,this._scrollSize=Fe,this._scrollPosition=Xe,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return Object(se.a)(De,[{key:"clone",value:function(){return new De(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}},{key:"setVisibleSize",value:function(Oe){var Pe=Math.round(Oe);return this._visibleSize!==Pe?(this._visibleSize=Pe,this._refreshComputedValues(),!0):!1}},{key:"setScrollSize",value:function(Oe){var Pe=Math.round(Oe);return this._scrollSize!==Pe?(this._scrollSize=Pe,this._refreshComputedValues(),!0):!1}},{key:"setScrollPosition",value:function(Oe){var Pe=Math.round(Oe);return this._scrollPosition!==Pe?(this._scrollPosition=Pe,this._refreshComputedValues(),!0):!1}},{key:"setScrollbarSize",value:function(Oe){this._scrollbarSize=Math.round(Oe)}},{key:"setOppositeScrollbarSize",value:function(Oe){this._oppositeScrollbarSize=Math.round(Oe)}},{key:"_refreshComputedValues",value:function(){var Oe=De._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=Oe.computedAvailableSize,this._computedIsNeeded=Oe.computedIsNeeded,this._computedSliderSize=Oe.computedSliderSize,this._computedSliderRatio=Oe.computedSliderRatio,this._computedSliderPosition=Oe.computedSliderPosition}},{key:"getArrowSize",value:function(){return this._arrowSize}},{key:"getScrollPosition",value:function(){return this._scrollPosition}},{key:"getRectangleLargeSize",value:function(){return this._computedAvailableSize}},{key:"getRectangleSmallSize",value:function(){return this._scrollbarSize}},{key:"isNeeded",value:function(){return this._computedIsNeeded}},{key:"getSliderSize",value:function(){return this._computedSliderSize}},{key:"getSliderPosition",value:function(){return this._computedSliderPosition}},{key:"getDesiredScrollPositionFromOffset",value:function(Oe){if(!this._computedIsNeeded)return 0;var Pe=Oe-this._arrowSize-this._computedSliderSize/2;return Math.round(Pe/this._computedSliderRatio)}},{key:"getDesiredScrollPositionFromOffsetPaged",value:function(Oe){if(!this._computedIsNeeded)return 0;var Pe=Oe-this._arrowSize,Ne=this._scrollPosition;return Pe<this._computedSliderPosition?Ne-=this._visibleSize:Ne+=this._visibleSize,Ne}},{key:"getDesiredScrollPositionFromDelta",value:function(Oe){if(!this._computedIsNeeded)return 0;var Pe=this._computedSliderPosition+Oe;return Math.round(Pe/this._computedSliderRatio)}}],[{key:"_computeValues",value:function(Oe,Pe,Ne,Fe,Xe){var Et=Math.max(0,Ne-Oe),Ft=Math.max(0,Et-2*Pe),Ot=Fe>0&&Fe>Ne;if(!Ot)return{computedAvailableSize:Math.round(Et),computedIsNeeded:Ot,computedSliderSize:Math.round(Ft),computedSliderRatio:0,computedSliderPosition:0};var pt=Math.round(Math.max(O,Math.floor(Ne*Ft/Fe))),Lt=(Ft-pt)/(Fe-Ne),et=Xe*Lt;return{computedAvailableSize:Math.round(Et),computedIsNeeded:Ot,computedSliderSize:Math.round(pt),computedSliderRatio:Lt,computedSliderPosition:Math.round(et)}}}]),De}(),z=a("Vhoy"),I=function(De){Object(w.a)(Oe,De);var Ae=Object(ve.a)(Oe);function Oe(Pe,Ne,Fe){var Xe;Object(te.a)(this,Oe);var Et=Pe.getScrollDimensions(),Ft=Pe.getCurrentScrollPosition();if(Xe=Ae.call(this,{lazyRender:Ne.lazyRender,host:Fe,scrollbarState:new T(Ne.horizontalHasArrows?Ne.arrowSize:0,Ne.horizontal===2?0:Ne.horizontalScrollbarSize,Ne.vertical===2?0:Ne.verticalScrollbarSize,Et.width,Et.scrollWidth,Ft.scrollLeft),visibility:Ne.horizontal,extraScrollbarClassName:"horizontal",scrollable:Pe,scrollByPage:Ne.scrollByPage}),Ne.horizontalHasArrows){var Ot=(Ne.arrowSize-W)/2,pt=(Ne.horizontalScrollbarSize-W)/2;Xe._createArrow({className:"scra",icon:z.a.scrollbarButtonLeft,top:pt,left:Ot,bottom:void 0,right:void 0,bgWidth:Ne.arrowSize,bgHeight:Ne.horizontalScrollbarSize,onActivate:function(){return Xe._host.onMouseWheel(new E.b(null,1,0))}}),Xe._createArrow({className:"scra",icon:z.a.scrollbarButtonRight,top:pt,left:void 0,bottom:void 0,right:Ot,bgWidth:Ne.arrowSize,bgHeight:Ne.horizontalScrollbarSize,onActivate:function(){return Xe._host.onMouseWheel(new E.b(null,-1,0))}})}return Xe._createSlider(Math.floor((Ne.horizontalScrollbarSize-Ne.horizontalSliderSize)/2),0,void 0,Ne.horizontalSliderSize),Xe}return Object(se.a)(Oe,[{key:"_updateSlider",value:function(Ne,Fe){this.slider.setWidth(Ne),this.slider.setLeft(Fe)}},{key:"_renderDomNode",value:function(Ne,Fe){this.domNode.setWidth(Ne),this.domNode.setHeight(Fe),this.domNode.setLeft(0),this.domNode.setBottom(0)}},{key:"onDidScroll",value:function(Ne){return this._shouldRender=this._onElementScrollSize(Ne.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(Ne.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(Ne.width)||this._shouldRender,this._shouldRender}},{key:"_pointerDownRelativePosition",value:function(Ne,Fe){return Ne}},{key:"_sliderPointerPosition",value:function(Ne){return Ne.pageX}},{key:"_sliderOrthogonalPointerPosition",value:function(Ne){return Ne.pageY}},{key:"_updateScrollbarSize",value:function(Ne){this.slider.setHeight(Ne)}},{key:"writeScrollPosition",value:function(Ne,Fe){Ne.scrollLeft=Fe}},{key:"updateOptions",value:function(Ne){this.updateScrollbarSize(Ne.horizontal===2?0:Ne.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(Ne.vertical===2?0:Ne.verticalScrollbarSize),this._visibilityController.setVisibility(Ne.horizontal),this._scrollByPage=Ne.scrollByPage}}]),Oe}(x),de=function(De){Object(w.a)(Oe,De);var Ae=Object(ve.a)(Oe);function Oe(Pe,Ne,Fe){var Xe;Object(te.a)(this,Oe);var Et=Pe.getScrollDimensions(),Ft=Pe.getCurrentScrollPosition();if(Xe=Ae.call(this,{lazyRender:Ne.lazyRender,host:Fe,scrollbarState:new T(Ne.verticalHasArrows?Ne.arrowSize:0,Ne.vertical===2?0:Ne.verticalScrollbarSize,0,Et.height,Et.scrollHeight,Ft.scrollTop),visibility:Ne.vertical,extraScrollbarClassName:"vertical",scrollable:Pe,scrollByPage:Ne.scrollByPage}),Ne.verticalHasArrows){var Ot=(Ne.arrowSize-W)/2,pt=(Ne.verticalScrollbarSize-W)/2;Xe._createArrow({className:"scra",icon:z.a.scrollbarButtonUp,top:Ot,left:pt,bottom:void 0,right:void 0,bgWidth:Ne.verticalScrollbarSize,bgHeight:Ne.arrowSize,onActivate:function(){return Xe._host.onMouseWheel(new E.b(null,0,1))}}),Xe._createArrow({className:"scra",icon:z.a.scrollbarButtonDown,top:void 0,left:pt,bottom:Ot,right:void 0,bgWidth:Ne.verticalScrollbarSize,bgHeight:Ne.arrowSize,onActivate:function(){return Xe._host.onMouseWheel(new E.b(null,0,-1))}})}return Xe._createSlider(0,Math.floor((Ne.verticalScrollbarSize-Ne.verticalSliderSize)/2),Ne.verticalSliderSize,void 0),Xe}return Object(se.a)(Oe,[{key:"_updateSlider",value:function(Ne,Fe){this.slider.setHeight(Ne),this.slider.setTop(Fe)}},{key:"_renderDomNode",value:function(Ne,Fe){this.domNode.setWidth(Fe),this.domNode.setHeight(Ne),this.domNode.setRight(0),this.domNode.setTop(0)}},{key:"onDidScroll",value:function(Ne){return this._shouldRender=this._onElementScrollSize(Ne.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(Ne.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(Ne.height)||this._shouldRender,this._shouldRender}},{key:"_pointerDownRelativePosition",value:function(Ne,Fe){return Fe}},{key:"_sliderPointerPosition",value:function(Ne){return Ne.pageY}},{key:"_sliderOrthogonalPointerPosition",value:function(Ne){return Ne.pageX}},{key:"_updateScrollbarSize",value:function(Ne){this.slider.setWidth(Ne)}},{key:"writeScrollPosition",value:function(Ne,Fe){Ne.scrollTop=Fe}},{key:"updateOptions",value:function(Ne){this.updateScrollbarSize(Ne.vertical===2?0:Ne.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(Ne.vertical),this._scrollByPage=Ne.scrollByPage}}]),Oe}(x),pe=a("MI8n"),fe=a("QuOb"),ke=a("eq1K"),A=500,P=50,G=!0,re=Object(se.a)(function De(Ae,Oe,Pe){Object(te.a)(this,De),this.timestamp=Ae,this.deltaX=Oe,this.deltaY=Pe,this.score=0}),ae=function(){function De(){Object(te.a)(this,De),this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}return Object(se.a)(De,[{key:"isPhysicalMouseWheel",value:function(){if(this._front===-1&&this._rear===-1)return!1;var Oe=1,Pe=0,Ne=1,Fe=this._rear;do{var Xe=Fe===this._front?Oe:Math.pow(2,-Ne);if(Oe-=Xe,Pe+=this._memory[Fe].score*Xe,Fe===this._front)break;Fe=(this._capacity+Fe-1)%this._capacity,Ne++}while(!0);return Pe<=.5}},{key:"acceptStandardWheelEvent",value:function(Oe){var Pe=window.devicePixelRatio/Object($.getZoomFactor)();D.o||D.g?this.accept(Date.now(),Oe.deltaX/Pe,Oe.deltaY/Pe):this.accept(Date.now(),Oe.deltaX,Oe.deltaY)}},{key:"accept",value:function(Oe,Pe,Ne){var Fe=new re(Oe,Pe,Ne);Fe.score=this._computeScore(Fe),this._front===-1&&this._rear===-1?(this._memory[0]=Fe,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=Fe)}},{key:"_computeScore",value:function(Oe){if(Math.abs(Oe.deltaX)>0&&Math.abs(Oe.deltaY)>0)return 1;var Pe=.5,Ne=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(Oe.deltaX)||!this._isAlmostInt(Oe.deltaY))&&(Pe+=.25),Math.min(Math.max(Pe,0),1)}},{key:"_isAlmostInt",value:function(Oe){var Pe=Math.abs(Math.round(Oe)-Oe);return Pe<.01}}]),De}();ae.INSTANCE=new ae;var Q=function(De){Object(w.a)(Oe,De);var Ae=Object(ve.a)(Oe);function Oe(Pe,Ne,Fe){var Xe;Object(te.a)(this,Oe),Xe=Ae.call(this),Xe._onScroll=Xe._register(new pe.b),Xe.onScroll=Xe._onScroll.event,Xe._onWillScroll=Xe._register(new pe.b),Pe.style.overflow="hidden",Xe._options=L(Ne),Xe._scrollable=Fe,Xe._register(Xe._scrollable.onScroll(function(Ft){Xe._onWillScroll.fire(Ft),Xe._onDidScroll(Ft),Xe._onScroll.fire(Ft)}));var Et={onMouseWheel:function(Ot){return Xe._onMouseWheel(Ot)},onDragStart:function(){return Xe._onDragStart()},onDragEnd:function(){return Xe._onDragEnd()}};return Xe._verticalScrollbar=Xe._register(new de(Xe._scrollable,Xe._options,Et)),Xe._horizontalScrollbar=Xe._register(new I(Xe._scrollable,Xe._options,Et)),Xe._domNode=document.createElement("div"),Xe._domNode.className="monaco-scrollable-element "+Xe._options.className,Xe._domNode.setAttribute("role","presentation"),Xe._domNode.style.position="relative",Xe._domNode.style.overflow="hidden",Xe._domNode.appendChild(Pe),Xe._domNode.appendChild(Xe._horizontalScrollbar.domNode.domNode),Xe._domNode.appendChild(Xe._verticalScrollbar.domNode.domNode),Xe._options.useShadows?(Xe._leftShadowDomNode=Object(Y.b)(document.createElement("div")),Xe._leftShadowDomNode.setClassName("shadow"),Xe._domNode.appendChild(Xe._leftShadowDomNode.domNode),Xe._topShadowDomNode=Object(Y.b)(document.createElement("div")),Xe._topShadowDomNode.setClassName("shadow"),Xe._domNode.appendChild(Xe._topShadowDomNode.domNode),Xe._topLeftShadowDomNode=Object(Y.b)(document.createElement("div")),Xe._topLeftShadowDomNode.setClassName("shadow"),Xe._domNode.appendChild(Xe._topLeftShadowDomNode.domNode)):(Xe._leftShadowDomNode=null,Xe._topShadowDomNode=null,Xe._topLeftShadowDomNode=null),Xe._listenOnDomNode=Xe._options.listenOnDomNode||Xe._domNode,Xe._mouseWheelToDispose=[],Xe._setListeningToMouseWheel(Xe._options.handleMouseWheel),Xe.onmouseover(Xe._listenOnDomNode,function(Ft){return Xe._onMouseOver(Ft)}),Xe.onmouseleave(Xe._listenOnDomNode,function(Ft){return Xe._onMouseLeave(Ft)}),Xe._hideTimeout=Xe._register(new B.i),Xe._isDragging=!1,Xe._mouseIsOver=!1,Xe._shouldRender=!0,Xe._revealOnScroll=!0,Xe}return Object(se.a)(Oe,[{key:"options",get:function(){return this._options}},{key:"dispose",value:function(){this._mouseWheelToDispose=Object(H.i)(this._mouseWheelToDispose),Object(ce.a)(Object(we.a)(Oe.prototype),"dispose",this).call(this)}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getOverviewRulerLayoutInfo",value:function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}},{key:"delegateVerticalScrollbarPointerDown",value:function(Ne){this._verticalScrollbar.delegatePointerDown(Ne)}},{key:"getScrollDimensions",value:function(){return this._scrollable.getScrollDimensions()}},{key:"setScrollDimensions",value:function(Ne){this._scrollable.setScrollDimensions(Ne,!1)}},{key:"updateClassName",value:function(Ne){this._options.className=Ne,D.i&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}},{key:"updateOptions",value:function(Ne){typeof Ne.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=Ne.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof Ne.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=Ne.mouseWheelScrollSensitivity),typeof Ne.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=Ne.fastScrollSensitivity),typeof Ne.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=Ne.scrollPredominantAxis),typeof Ne.horizontal!="undefined"&&(this._options.horizontal=Ne.horizontal),typeof Ne.vertical!="undefined"&&(this._options.vertical=Ne.vertical),typeof Ne.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=Ne.horizontalScrollbarSize),typeof Ne.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=Ne.verticalScrollbarSize),typeof Ne.scrollByPage!="undefined"&&(this._options.scrollByPage=Ne.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}},{key:"delegateScrollFromMouseWheelEvent",value:function(Ne){this._onMouseWheel(new E.b(Ne))}},{key:"_setListeningToMouseWheel",value:function(Ne){var Fe=this,Xe=this._mouseWheelToDispose.length>0;if(Xe!==Ne&&(this._mouseWheelToDispose=Object(H.i)(this._mouseWheelToDispose),Ne)){var Et=function(Ot){Fe._onMouseWheel(new E.b(Ot))};this._mouseWheelToDispose.push(_.addDisposableListener(this._listenOnDomNode,_.EventType.MOUSE_WHEEL,Et,{passive:!1}))}}},{key:"_onMouseWheel",value:function(Ne){var Fe=ae.INSTANCE;G&&Fe.acceptStandardWheelEvent(Ne);var Xe=!1;if(Ne.deltaY||Ne.deltaX){var Et=Ne.deltaY*this._options.mouseWheelScrollSensitivity,Ft=Ne.deltaX*this._options.mouseWheelScrollSensitivity;if(this._options.scrollPredominantAxis&&(Math.abs(Et)>=Math.abs(Ft)?Ft=0:Et=0),this._options.flipAxes){var Ot=[Ft,Et];Et=Ot[0],Ft=Ot[1]}var pt=!D.i&&Ne.browserEvent&&Ne.browserEvent.shiftKey;(this._options.scrollYToX||pt)&&!Ft&&(Ft=Et,Et=0),Ne.browserEvent&&Ne.browserEvent.altKey&&(Ft=Ft*this._options.fastScrollSensitivity,Et=Et*this._options.fastScrollSensitivity);var Lt=this._scrollable.getFutureScrollPosition(),et={};if(Et){var Vt=P*Et,Re=Lt.scrollTop-(Vt<0?Math.floor(Vt):Math.ceil(Vt));this._verticalScrollbar.writeScrollPosition(et,Re)}if(Ft){var Ce=P*Ft,ye=Lt.scrollLeft-(Ce<0?Math.floor(Ce):Math.ceil(Ce));this._horizontalScrollbar.writeScrollPosition(et,ye)}if(et=this._scrollable.validateScrollPosition(et),Lt.scrollLeft!==et.scrollLeft||Lt.scrollTop!==et.scrollTop){var Te=G&&this._options.mouseWheelSmoothScroll&&Fe.isPhysicalMouseWheel();Te?this._scrollable.setScrollPositionSmooth(et):this._scrollable.setScrollPositionNow(et),Xe=!0}}var Qe=Xe;!Qe&&this._options.alwaysConsumeMouseWheel&&(Qe=!0),!Qe&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(Qe=!0),Qe&&(Ne.preventDefault(),Ne.stopPropagation())}},{key:"_onDidScroll",value:function(Ne){this._shouldRender=this._horizontalScrollbar.onDidScroll(Ne)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(Ne)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}},{key:"renderNow",value:function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}},{key:"_render",value:function(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var Ne=this._scrollable.getCurrentScrollPosition(),Fe=Ne.scrollTop>0,Xe=Ne.scrollLeft>0,Et=Xe?" left":"",Ft=Fe?" top":"",Ot=Xe||Fe?" top-left-corner":"";this._leftShadowDomNode.setClassName("shadow".concat(Et)),this._topShadowDomNode.setClassName("shadow".concat(Ft)),this._topLeftShadowDomNode.setClassName("shadow".concat(Ot).concat(Ft).concat(Et))}}},{key:"_onDragStart",value:function(){this._isDragging=!0,this._reveal()}},{key:"_onDragEnd",value:function(){this._isDragging=!1,this._hide()}},{key:"_onMouseLeave",value:function(Ne){this._mouseIsOver=!1,this._hide()}},{key:"_onMouseOver",value:function(Ne){this._mouseIsOver=!0,this._reveal()}},{key:"_reveal",value:function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}},{key:"_hide",value:function(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}},{key:"_scheduleHide",value:function(){var Ne=this;!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(function(){return Ne._hide()},A)}}]),Oe}(V.a),J=function(De){Object(w.a)(Oe,De);var Ae=Object(ve.a)(Oe);function Oe(Pe,Ne){var Fe;Object(te.a)(this,Oe),Ne=Ne||{},Ne.mouseWheelSmoothScroll=!1;var Xe=new fe.a({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:function(Ft){return _.scheduleAtNextAnimationFrame(Ft)}});return Fe=Ae.call(this,Pe,Ne,Xe),Fe._register(Xe),Fe}return Object(se.a)(Oe,[{key:"setScrollPosition",value:function(Ne){this._scrollable.setScrollPositionNow(Ne)}}]),Oe}(Q),me=function(De){Object(w.a)(Oe,De);var Ae=Object(ve.a)(Oe);function Oe(Pe,Ne,Fe){return Object(te.a)(this,Oe),Ae.call(this,Pe,Ne,Fe)}return Object(se.a)(Oe,[{key:"setScrollPosition",value:function(Ne){Ne.reuseAnimation?this._scrollable.setScrollPositionSmooth(Ne,Ne.reuseAnimation):this._scrollable.setScrollPositionNow(Ne)}},{key:"getScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}}]),Oe}(Q),ge=function(De){Object(w.a)(Oe,De);var Ae=Object(ve.a)(Oe);function Oe(Pe,Ne){var Fe;Object(te.a)(this,Oe),Ne=Ne||{},Ne.mouseWheelSmoothScroll=!1;var Xe=new fe.a({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:function(Ft){return _.scheduleAtNextAnimationFrame(Ft)}});return Fe=Ae.call(this,Pe,Ne,Xe),Fe._register(Xe),Fe._element=Pe,Fe.onScroll(function(Et){Et.scrollTopChanged&&(Fe._element.scrollTop=Et.scrollTop),Et.scrollLeftChanged&&(Fe._element.scrollLeft=Et.scrollLeft)}),Fe.scanDomNode(),Fe}return Object(se.a)(Oe,[{key:"setScrollPosition",value:function(Ne){this._scrollable.setScrollPositionNow(Ne)}},{key:"getScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}},{key:"scanDomNode",value:function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}]),Oe}(Q);function L(De){var Ae={lazyRender:typeof De.lazyRender!="undefined"?De.lazyRender:!1,className:typeof De.className!="undefined"?De.className:"",useShadows:typeof De.useShadows!="undefined"?De.useShadows:!0,handleMouseWheel:typeof De.handleMouseWheel!="undefined"?De.handleMouseWheel:!0,flipAxes:typeof De.flipAxes!="undefined"?De.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof De.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?De.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof De.alwaysConsumeMouseWheel!="undefined"?De.alwaysConsumeMouseWheel:!1,scrollYToX:typeof De.scrollYToX!="undefined"?De.scrollYToX:!1,mouseWheelScrollSensitivity:typeof De.mouseWheelScrollSensitivity!="undefined"?De.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof De.fastScrollSensitivity!="undefined"?De.fastScrollSensitivity:5,scrollPredominantAxis:typeof De.scrollPredominantAxis!="undefined"?De.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof De.mouseWheelSmoothScroll!="undefined"?De.mouseWheelSmoothScroll:!0,arrowSize:typeof De.arrowSize!="undefined"?De.arrowSize:11,listenOnDomNode:typeof De.listenOnDomNode!="undefined"?De.listenOnDomNode:null,horizontal:typeof De.horizontal!="undefined"?De.horizontal:1,horizontalScrollbarSize:typeof De.horizontalScrollbarSize!="undefined"?De.horizontalScrollbarSize:10,horizontalSliderSize:typeof De.horizontalSliderSize!="undefined"?De.horizontalSliderSize:0,horizontalHasArrows:typeof De.horizontalHasArrows!="undefined"?De.horizontalHasArrows:!1,vertical:typeof De.vertical!="undefined"?De.vertical:1,verticalScrollbarSize:typeof De.verticalScrollbarSize!="undefined"?De.verticalScrollbarSize:10,verticalHasArrows:typeof De.verticalHasArrows!="undefined"?De.verticalHasArrows:!1,verticalSliderSize:typeof De.verticalSliderSize!="undefined"?De.verticalSliderSize:0,scrollByPage:typeof De.scrollByPage!="undefined"?De.scrollByPage:!1};return Ae.horizontalSliderSize=typeof De.horizontalSliderSize!="undefined"?De.horizontalSliderSize:Ae.horizontalScrollbarSize,Ae.verticalSliderSize=typeof De.verticalSliderSize!="undefined"?De.verticalSliderSize:Ae.verticalScrollbarSize,D.i&&(Ae.className+=" mac"),Ae}},Ga8k:function(mn,U,a){"use strict";a.d(U,"b",function(){return ot}),a.d(U,"a",function(){return Je});var ce=a("y8nQ"),we=a("Vl3Y"),w=a("DYRE"),ve=a("zeV3"),se=a("rePB"),te=a("+L6B"),$=a("2/Rp"),_=a("VTBJ"),Y=a("EFp3"),E=a("8txm"),Z=a("MXD1"),ne=a("wx14"),V=a("bRQS"),B=a("4i/N"),F=a("TSYQ"),W=a.n(F),N=a("Ff2n"),H=a("1OyB"),d=a("vuIU"),D=a("JX7q"),C=a("Ji7U"),x=a("LK+K"),O=a("q1tI"),T=a.n(O),z=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick"];function I(ft){return typeof ft=="string"}var de=function(ft){Object(C.a)(bt,ft);var qt=Object(x.a)(bt);function bt(){var Bt;Object(H.a)(this,bt);for(var rn=arguments.length,an=new Array(rn),In=0;In<rn;In++)an[In]=arguments[In];return Bt=qt.call.apply(qt,[this].concat(an)),Object(se.a)(Object(D.a)(Bt),"onClick",function(){var Dt=Bt.props,jn=Dt.onClick,_n=Dt.onStepClick,Nn=Dt.stepIndex;jn&&jn.apply(void 0,arguments),_n(Nn)}),Bt}return Object(d.a)(bt,[{key:"renderIconNode",value:function(){var rn,an=this.props,In=an.prefixCls,Dt=an.progressDot,jn=an.stepIcon,_n=an.stepNumber,Nn=an.status,ei=an.title,kn=an.description,Pn=an.icon,qi=an.iconPrefix,gi=an.icons,ir,yi=W()("".concat(In,"-icon"),"".concat(qi,"icon"),(rn={},Object(se.a)(rn,"".concat(qi,"icon-").concat(Pn),Pn&&I(Pn)),Object(se.a)(rn,"".concat(qi,"icon-check"),!Pn&&Nn==="finish"&&(gi&&!gi.finish||!gi)),Object(se.a)(rn,"".concat(qi,"icon-cross"),!Pn&&Nn==="error"&&(gi&&!gi.error||!gi)),rn)),mi=O.createElement("span",{className:"".concat(In,"-icon-dot")});return Dt?typeof Dt=="function"?ir=O.createElement("span",{className:"".concat(In,"-icon")},Dt(mi,{index:_n-1,status:Nn,title:ei,description:kn})):ir=O.createElement("span",{className:"".concat(In,"-icon")},mi):Pn&&!I(Pn)?ir=O.createElement("span",{className:"".concat(In,"-icon")},Pn):gi&&gi.finish&&Nn==="finish"?ir=O.createElement("span",{className:"".concat(In,"-icon")},gi.finish):gi&&gi.error&&Nn==="error"?ir=O.createElement("span",{className:"".concat(In,"-icon")},gi.error):Pn||Nn==="finish"||Nn==="error"?ir=O.createElement("span",{className:yi}):ir=O.createElement("span",{className:"".concat(In,"-icon")},_n),jn&&(ir=jn({index:_n-1,status:Nn,title:ei,description:kn,node:ir})),ir}},{key:"render",value:function(){var rn,an=this.props,In=an.className,Dt=an.prefixCls,jn=an.style,_n=an.active,Nn=an.status,ei=Nn===void 0?"wait":Nn,kn=an.iconPrefix,Pn=an.icon,qi=an.wrapperStyle,gi=an.stepNumber,ir=an.disabled,yi=an.description,mi=an.title,gr=an.subTitle,zn=an.progressDot,Ki=an.stepIcon,Bn=an.tailContent,ai=an.icons,dn=an.stepIndex,Jn=an.onStepClick,Yt=an.onClick,Ct=Object(N.a)(an,z),Dn=W()("".concat(Dt,"-item"),"".concat(Dt,"-item-").concat(ei),In,(rn={},Object(se.a)(rn,"".concat(Dt,"-item-custom"),Pn),Object(se.a)(rn,"".concat(Dt,"-item-active"),_n),Object(se.a)(rn,"".concat(Dt,"-item-disabled"),ir===!0),rn)),gn=Object(_.a)({},jn),en={};return Jn&&!ir&&(en.role="button",en.tabIndex=0,en.onClick=this.onClick),O.createElement("div",Object(ne.a)({},Ct,{className:Dn,style:gn}),O.createElement("div",Object(ne.a)({onClick:Yt},en,{className:"".concat(Dt,"-item-container")}),O.createElement("div",{className:"".concat(Dt,"-item-tail")},Bn),O.createElement("div",{className:"".concat(Dt,"-item-icon")},this.renderIconNode()),O.createElement("div",{className:"".concat(Dt,"-item-content")},O.createElement("div",{className:"".concat(Dt,"-item-title")},mi,gr&&O.createElement("div",{title:typeof gr=="string"?gr:void 0,className:"".concat(Dt,"-item-subtitle")},gr)),yi&&O.createElement("div",{className:"".concat(Dt,"-item-description")},yi))))}}]),bt}(O.Component),pe=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","items"],fe=function(ft){Object(C.a)(bt,ft);var qt=Object(x.a)(bt);function bt(){var Bt;Object(H.a)(this,bt);for(var rn=arguments.length,an=new Array(rn),In=0;In<rn;In++)an[In]=arguments[In];return Bt=qt.call.apply(qt,[this].concat(an)),Object(se.a)(Object(D.a)(Bt),"onStepClick",function(Dt){var jn=Bt.props,_n=jn.onChange,Nn=jn.current;_n&&Nn!==Dt&&_n(Dt)}),Bt}return Object(d.a)(bt,[{key:"render",value:function(){var rn,an=this,In=this.props,Dt=In.prefixCls,jn=In.style,_n=jn===void 0?{}:jn,Nn=In.className,ei=In.children,kn=In.direction,Pn=In.type,qi=In.labelPlacement,gi=In.iconPrefix,ir=In.status,yi=In.size,mi=In.current,gr=In.progressDot,zn=In.stepIcon,Ki=In.initial,Bn=In.icons,ai=In.onChange,dn=In.items,Jn=dn===void 0?[]:dn,Yt=Object(N.a)(In,pe),Ct=Pn==="navigation",Dn=gr?"vertical":qi,gn=W()(Dt,"".concat(Dt,"-").concat(kn),Nn,(rn={},Object(se.a)(rn,"".concat(Dt,"-").concat(yi),yi),Object(se.a)(rn,"".concat(Dt,"-label-").concat(Dn),kn==="horizontal"),Object(se.a)(rn,"".concat(Dt,"-dot"),!!gr),Object(se.a)(rn,"".concat(Dt,"-navigation"),Ct),rn));return T.a.createElement("div",Object(ne.a)({className:gn,style:_n},Yt),Jn.filter(function(en){return en}).map(function(en,yn){var Qn=Object(_.a)({},en),pi=Ki+yn;return ir==="error"&&yn===mi-1&&(Qn.className="".concat(Dt,"-next-error")),Qn.status||(pi===mi?Qn.status=ir:pi<mi?Qn.status="finish":Qn.status="wait"),T.a.createElement(de,Object(ne.a)({},Qn,{active:pi===mi,stepNumber:pi+1,stepIndex:pi,key:pi,prefixCls:Dt,iconPrefix:gi,wrapperStyle:_n,progressDot:gr,stepIcon:zn,icons:Bn,onStepClick:ai&&an.onStepClick}))}))}}]),bt}(T.a.Component);Object(se.a)(fe,"Step",de),Object(se.a)(fe,"defaultProps",{type:"default",prefixCls:"rc-steps",iconPrefix:"rc",direction:"horizontal",labelPlacement:"horizontal",initial:0,current:0,status:"process",size:"",progressDot:!1});var ke=fe,A=a("H84U"),P=a("5OYt"),G=a("CFYs"),re=a("Zm9Q");function ae(ft){return ft.filter(function(qt){return qt})}function Q(ft,qt){if(ft)return ft;var bt=Object(re.a)(qt).map(function(Bt){if(O.isValidElement(Bt)){var rn=Bt.props,an=Object(ne.a)({},rn);return an}return null});return ae(bt)}var J=function(ft,qt){var bt={};for(var Bt in ft)Object.prototype.hasOwnProperty.call(ft,Bt)&&qt.indexOf(Bt)<0&&(bt[Bt]=ft[Bt]);if(ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rn=0,Bt=Object.getOwnPropertySymbols(ft);rn<Bt.length;rn++)qt.indexOf(Bt[rn])<0&&Object.prototype.propertyIsEnumerable.call(ft,Bt[rn])&&(bt[Bt[rn]]=ft[Bt[rn]]);return bt},me=function(qt){var bt,Bt=qt.percent,rn=qt.size,an=qt.className,In=qt.direction,Dt=qt.items,jn=qt.responsive,_n=jn===void 0?!0:jn,Nn=qt.current,ei=Nn===void 0?0:Nn,kn=qt.children,Pn=J(qt,["percent","size","className","direction","items","responsive","current","children"]),qi=Object(P.a)(_n),gi=qi.xs,ir=O.useContext(A.b),yi=ir.getPrefixCls,mi=ir.direction,gr=O.useCallback(function(){return _n&&gi?"vertical":In},[gi,In]),zn=yi("steps",qt.prefixCls),Ki=yi("",qt.iconPrefix),Bn=Q(Dt,kn),ai=W()((bt={},Object(se.a)(bt,"".concat(zn,"-rtl"),mi==="rtl"),Object(se.a)(bt,"".concat(zn,"-with-progress"),Bt!==void 0),bt),an),dn={finish:O.createElement(V.a,{className:"".concat(zn,"-finish-icon")}),error:O.createElement(B.a,{className:"".concat(zn,"-error-icon")})},Jn=function(Ct){var Dn=Ct.node,gn=Ct.status;if(gn==="process"&&Bt!==void 0){var en=rn==="small"?32:40;return O.createElement("div",{className:"".concat(zn,"-progress-icon")},O.createElement(G.a,{type:"circle",percent:Bt,width:en,strokeWidth:4,format:function(){return null}}),Dn)}return Dn};return O.createElement(ke,Object(ne.a)({icons:dn},Pn,{current:ei,size:rn,items:Bn,direction:gr(),stepIcon:Jn,prefixCls:zn,iconPrefix:Ki,className:ai}))};me.Step=ke.Step;var ge=me,L=a("x+uP"),De=a("HaE+"),Ae=a("KQm4"),Oe=a("ODXe"),Pe=a("GNNt"),Ne=a("wEI+"),Fe=a("jCWc"),Xe=a("kPKH"),Et=a("14J3"),Ft=a("BMrR"),Ot=a("nKUr"),pt=a("LQCs"),Lt=a("/PRe"),et=a("+i8S"),Vt=a("6cGi"),Re=a("bpiW"),Ce=a("Kwbf"),ye=a("T1Ok"),Te=["onFinish","step","formRef","title","stepProps"];function Qe(ft){var qt=Object(O.useRef)(),bt=Object(O.useContext)(ot),Bt=ft.onFinish,rn=ft.step,an=ft.formRef,In=ft.title,Dt=ft.stepProps,jn=Object(N.a)(ft,Te);return Object(Ce.b)(!jn.submitter,"StepForm \u4E0D\u5305\u542B\u63D0\u4EA4\u6309\u94AE\uFF0C\u8BF7\u5728 StepsForm \u4E0A"),Object(O.useImperativeHandle)(an,function(){return qt.current}),Object(O.useEffect)(function(){if(!!(ft.name||ft.step)){var _n=(ft.name||ft.step).toString();return bt==null||bt.regForm(_n,ft),function(){bt==null||bt.unRegForm(_n)}}},[]),bt&&(bt==null?void 0:bt.formArrayRef)&&(bt.formArrayRef.current[rn||0]=qt),Object(Ot.jsx)(ye.a,Object(_.a)({formRef:qt,onFinish:function(){var _n=Object(De.a)(Object(L.a)().mark(function ei(kn){var Pn;return Object(L.a)().wrap(function(gi){for(;;)switch(gi.prev=gi.next){case 0:if(jn.name&&(bt==null||bt.onFormFinish(jn.name,kn)),!Bt){gi.next=9;break}return bt==null||bt.setLoading(!0),gi.next=5,Bt==null?void 0:Bt(kn);case 5:return Pn=gi.sent,Pn&&(bt==null||bt.next()),bt==null||bt.setLoading(!1),gi.abrupt("return");case 9:(bt==null?void 0:bt.lastStep)||bt==null||bt.next();case 10:case"end":return gi.stop()}},ei)}));function Nn(ei){return _n.apply(this,arguments)}return Nn}(),layout:"vertical"},jn))}var $e=Qe,ze=["current","onCurrentChange","submitter","stepsFormRender","stepsRender","stepFormRender","stepsProps","onFinish","formProps","containerStyle","formRef","formMapRef"],ot=T.a.createContext(void 0),He={horizontal:function(qt){var bt=qt.stepsDom,Bt=qt.formDom;return Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)(Ft.a,{gutter:{xs:8,sm:16,md:24},children:Object(Ot.jsx)(Xe.a,{span:24,children:bt})}),Object(Ot.jsx)(Ft.a,{gutter:{xs:8,sm:16,md:24},children:Object(Ot.jsx)(Xe.a,{span:24,children:Bt})})]})},vertical:function(qt){var bt=qt.stepsDom,Bt=qt.formDom;return Object(Ot.jsxs)(Ft.a,{align:"stretch",wrap:!0,gutter:{xs:8,sm:16,md:24},children:[Object(Ot.jsx)(Xe.a,{xxl:4,xl:6,lg:7,md:8,sm:10,xs:12,children:T.a.cloneElement(bt,{style:{height:"100%"}})}),Object(Ot.jsx)(Xe.a,{children:Object(Ot.jsx)("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"100%"},children:Bt})})]})}};function Ge(ft){var qt=Object(O.useContext)(Ne.a.ConfigContext),bt=qt.getPrefixCls,Bt=bt("pro-steps-form"),rn=ft.current,an=ft.onCurrentChange,In=ft.submitter,Dt=ft.stepsFormRender,jn=ft.stepsRender,_n=ft.stepFormRender,Nn=ft.stepsProps,ei=ft.onFinish,kn=ft.formProps,Pn=ft.containerStyle,qi=ft.formRef,gi=ft.formMapRef,ir=Object(N.a)(ft,ze),yi=Object(O.useRef)(new Map),mi=Object(O.useRef)(new Map),gr=Object(O.useRef)([]),zn=Object(O.useState)([]),Ki=Object(Oe.a)(zn,2),Bn=Ki[0],ai=Ki[1],dn=Object(O.useState)(!1),Jn=Object(Oe.a)(dn,2),Yt=Jn[0],Ct=Jn[1],Dn=Object(pt.d)(),gn=Object(Vt.a)(0,{value:ft.current,onChange:ft.onCurrentChange}),en=Object(Oe.a)(gn,2),yn=en[0],Qn=en[1],pi=Object(O.useMemo)(function(){return He[(Nn==null?void 0:Nn.direction)||"horizontal"]},[Nn==null?void 0:Nn.direction]),Pt=Object(O.useMemo)(function(){return yn===Bn.length-1},[Bn.length,yn]),yt=Object(O.useCallback)(function(Kn,En){mi.current.has(Kn)||ai(function(Nt){return[].concat(Object(Ae.a)(Nt),[Kn])}),mi.current.set(Kn,En)},[]),Rn=Object(O.useCallback)(function(Kn){ai(function(En){return En.filter(function(Nt){return Nt!==Kn})}),mi.current.delete(Kn),yi.current.delete(Kn)},[]);Object(O.useImperativeHandle)(gi,function(){return gr.current}),Object(O.useImperativeHandle)(qi,function(){var Kn;return(Kn=gr.current[yn||0])===null||Kn===void 0?void 0:Kn.current},[yn]);var Sn=Object(O.useCallback)(function(){var Kn=Object(De.a)(Object(L.a)().mark(function En(Nt,Gt){var mt,Ye;return Object(L.a)().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(yi.current.set(Nt,Gt),!(!Pt||!ei)){nt.next=3;break}return nt.abrupt("return");case 3:return Ct(!0),mt=Lt.a.apply(void 0,[{}].concat(Object(Ae.a)(Array.from(yi.current.values())))),nt.prev=5,nt.next=8,ei(mt);case 8:Ye=nt.sent,Ye&&(Qn(0),gr.current.forEach(function(Ze){var Zt;return(Zt=Ze.current)===null||Zt===void 0?void 0:Zt.resetFields()})),nt.next=15;break;case 12:nt.prev=12,nt.t0=nt.catch(5),console.log(nt.t0);case 15:return nt.prev=15,Ct(!1),nt.finish(15);case 18:case"end":return nt.stop()}},En,null,[[5,12,15,18]])}));return function(En,Nt){return Kn.apply(this,arguments)}}(),[Pt,ei,Ct,Qn]),Ii=Object(O.useMemo)(function(){return Object(Ot.jsx)("div",{className:"".concat(Bt,"-steps-container"),style:{maxWidth:Math.min(Bn.length*320,1160)},children:Object(Ot.jsx)(ge,Object(_.a)(Object(_.a)({},Nn),{},{current:yn,onChange:void 0,children:Bn.map(function(Kn){var En=mi.current.get(Kn);return Object(Ot.jsx)(ge.Step,Object(_.a)({title:En==null?void 0:En.title},En==null?void 0:En.stepProps),Kn)})}))})},[Bn,Bt,yn,Nn]),Hi=Object(et.a)(function(){var Kn,En=gr.current[yn];(Kn=En.current)===null||Kn===void 0||Kn.submit()}),wt=Object(et.a)(function(){yn<1||Qn(yn-1)}),Pi=Object(O.useMemo)(function(){return In!==!1&&Object(Ot.jsx)($.a,Object(_.a)(Object(_.a)({type:"primary",loading:Yt},In==null?void 0:In.submitButtonProps),{},{onClick:function(){var En;In==null||(En=In.onSubmit)===null||En===void 0||En.call(In),Hi()},children:Dn.getMessage("stepsForm.next","\u4E0B\u4E00\u6B65")}),"next")},[Dn,Yt,Hi,In]),Ut=Object(O.useMemo)(function(){return In!==!1&&Object(Ot.jsx)($.a,Object(_.a)(Object(_.a)({},In==null?void 0:In.resetButtonProps),{},{onClick:function(){var En;wt(),In==null||(En=In.onReset)===null||En===void 0||En.call(In)},children:Dn.getMessage("stepsForm.prev","\u4E0A\u4E00\u6B65")}),"pre")},[Dn,wt,In]),We=Object(O.useMemo)(function(){return In!==!1&&Object(Ot.jsx)($.a,Object(_.a)(Object(_.a)({type:"primary",loading:Yt},In==null?void 0:In.submitButtonProps),{},{onClick:function(){var En;In==null||(En=In.onSubmit)===null||En===void 0||En.call(In),Hi()},children:Dn.getMessage("stepsForm.submit","\u63D0\u4EA4")}),"submit")},[Dn,Yt,Hi,In]),Tn=Object(et.a)(function(){yn>Bn.length-2||Qn(yn+1)}),ar=Object(O.useMemo)(function(){var Kn=[],En=yn||0;if(En<1?Kn.push(Pi):En+1===Bn.length?Kn.push(Ut,We):Kn.push(Ut,Pi),Kn=Kn.filter(T.a.isValidElement),In&&In.render){var Nt,Gt={form:(Nt=gr.current[yn])===null||Nt===void 0?void 0:Nt.current,onSubmit:Hi,step:yn,onPre:wt};return In.render(Gt,Kn)}return In&&(In==null?void 0:In.render)===!1?null:Kn},[Bn.length,Pi,Hi,Ut,wt,yn,We,In]),Br=Object(O.useMemo)(function(){return Object(re.a)(ft.children).map(function(Kn,En){var Nt=Kn.props,Gt=Nt.name||"".concat(En),mt=yn===En,Ye=mt?{contentRender:_n,submitter:!1}:{};return Object(Ot.jsx)("div",{className:W()("".concat(Bt,"-step"),Object(se.a)({},"".concat(Bt,"-step-active"),mt)),children:T.a.cloneElement(Kn,Object(_.a)(Object(_.a)(Object(_.a)(Object(_.a)({},Ye),kn),Nt),{},{name:Gt,step:En,key:Gt}))},Gt)})},[kn,Bt,ft.children,yn,_n]),Yr=Object(O.useMemo)(function(){return jn?jn(Bn.map(function(Kn){var En;return{key:Kn,title:(En=mi.current.get(Kn))===null||En===void 0?void 0:En.title}}),Ii):Ii},[Bn,Ii,jn]),ti=Object(O.useMemo)(function(){return Object(Ot.jsxs)("div",{className:"".concat(Bt,"-container"),style:Pn,children:[Br,Dt?null:Object(Ot.jsx)(ve.b,{children:ar})]})},[Pn,Br,Bt,Dt,ar]),bi=Object(O.useMemo)(function(){var Kn={stepsDom:Yr,formDom:ti};return Dt?Dt(pi(Kn),ar):pi(Kn)},[Yr,ti,pi,Dt,ar]);return Object(Ot.jsx)("div",{className:Bt,children:Object(Ot.jsx)(we.a.Provider,Object(_.a)(Object(_.a)({},ir),{},{children:Object(Ot.jsx)(ot.Provider,{value:{loading:Yt,setLoading:Ct,regForm:yt,keyArray:Bn,next:Tn,formArrayRef:gr,formMapRef:mi,lastStep:Pt,unRegForm:Rn,onFormFinish:Sn},children:bi})}))})}function Je(ft){return Object(Ot.jsx)(pt.a,{children:Object(Ot.jsx)(Ge,Object(_.a)({},ft))})}Je.StepForm=$e,Je.useForm=we.a.useForm},Gbfa:function(mn,U,a){},Gw4z:function(mn,U,a){"use strict";a.d(U,"b",function(){return $}),a.d(U,"a",function(){return Z});var ce=a("tJVT"),we=a("fWQN"),w=a("mtLc"),ve=function(){function ne(V,B,F,W){Object(we.a)(this,ne),this.originalStart=V,this.originalLength=B,this.modifiedStart=F,this.modifiedLength=W}return Object(w.a)(ne,[{key:"getOriginalEnd",value:function(){return this.originalStart+this.originalLength}},{key:"getModifiedEnd",value:function(){return this.modifiedStart+this.modifiedLength}}]),ne}(),se=a("7afs"),te=function(){function ne(V){Object(we.a)(this,ne),this.source=V}return Object(w.a)(ne,[{key:"getElements",value:function(){for(var B=this.source,F=new Int32Array(B.length),W=0,N=B.length;W<N;W++)F[W]=B.charCodeAt(W);return F}}]),ne}();function $(ne,V,B){return new Z(new te(ne),new te(V)).ComputeDiff(B).changes}var _=function(){function ne(){Object(we.a)(this,ne)}return Object(w.a)(ne,null,[{key:"Assert",value:function(B,F){if(!B)throw new Error(F)}}]),ne}(),Y=function(){function ne(){Object(we.a)(this,ne)}return Object(w.a)(ne,null,[{key:"Copy",value:function(B,F,W,N,H){for(var d=0;d<H;d++)W[N+d]=B[F+d]}},{key:"Copy2",value:function(B,F,W,N,H){for(var d=0;d<H;d++)W[N+d]=B[F+d]}}]),ne}(),E=function(){function ne(){Object(we.a)(this,ne),this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}return Object(w.a)(ne,[{key:"MarkNextChange",value:function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new ve(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}},{key:"AddOriginalElement",value:function(B,F){this.m_originalStart=Math.min(this.m_originalStart,B),this.m_modifiedStart=Math.min(this.m_modifiedStart,F),this.m_originalCount++}},{key:"AddModifiedElement",value:function(B,F){this.m_originalStart=Math.min(this.m_originalStart,B),this.m_modifiedStart=Math.min(this.m_modifiedStart,F),this.m_modifiedCount++}},{key:"getChanges",value:function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}},{key:"getReverseChanges",value:function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}]),ne}(),Z=function(){function ne(V,B){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;Object(we.a)(this,ne),this.ContinueProcessingPredicate=F,this._originalSequence=V,this._modifiedSequence=B;var W=ne._getElements(V),N=Object(ce.a)(W,3),H=N[0],d=N[1],D=N[2],C=ne._getElements(B),x=Object(ce.a)(C,3),O=x[0],T=x[1],z=x[2];this._hasStrings=D&&z,this._originalStringElements=H,this._originalElementsOrHash=d,this._modifiedStringElements=O,this._modifiedElementsOrHash=T,this.m_forwardHistory=[],this.m_reverseHistory=[]}return Object(w.a)(ne,[{key:"ElementsAreEqual",value:function(B,F){return this._originalElementsOrHash[B]!==this._modifiedElementsOrHash[F]?!1:this._hasStrings?this._originalStringElements[B]===this._modifiedStringElements[F]:!0}},{key:"ElementsAreStrictEqual",value:function(B,F){if(!this.ElementsAreEqual(B,F))return!1;var W=ne._getStrictElement(this._originalSequence,B),N=ne._getStrictElement(this._modifiedSequence,F);return W===N}},{key:"OriginalElementsAreEqual",value:function(B,F){return this._originalElementsOrHash[B]!==this._originalElementsOrHash[F]?!1:this._hasStrings?this._originalStringElements[B]===this._originalStringElements[F]:!0}},{key:"ModifiedElementsAreEqual",value:function(B,F){return this._modifiedElementsOrHash[B]!==this._modifiedElementsOrHash[F]?!1:this._hasStrings?this._modifiedStringElements[B]===this._modifiedStringElements[F]:!0}},{key:"ComputeDiff",value:function(B){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,B)}},{key:"_ComputeDiff",value:function(B,F,W,N,H){var d=[!1],D=this.ComputeDiffRecursive(B,F,W,N,d);return H&&(D=this.PrettifyChanges(D)),{quitEarly:d[0],changes:D}}},{key:"ComputeDiffRecursive",value:function(B,F,W,N,H){for(H[0]=!1;B<=F&&W<=N&&this.ElementsAreEqual(B,W);)B++,W++;for(;F>=B&&N>=W&&this.ElementsAreEqual(F,N);)F--,N--;if(B>F||W>N){var d;return W<=N?(_.Assert(B===F+1,"originalStart should only be one more than originalEnd"),d=[new ve(B,0,W,N-W+1)]):B<=F?(_.Assert(W===N+1,"modifiedStart should only be one more than modifiedEnd"),d=[new ve(B,F-B+1,W,0)]):(_.Assert(B===F+1,"originalStart should only be one more than originalEnd"),_.Assert(W===N+1,"modifiedStart should only be one more than modifiedEnd"),d=[]),d}var D=[0],C=[0],x=this.ComputeRecursionPoint(B,F,W,N,D,C,H),O=D[0],T=C[0];if(x!==null)return x;if(!H[0]){var z=this.ComputeDiffRecursive(B,O,W,T,H),I=[];return H[0]?I=[new ve(O+1,F-(O+1)+1,T+1,N-(T+1)+1)]:I=this.ComputeDiffRecursive(O+1,F,T+1,N,H),this.ConcatenateChanges(z,I)}return[new ve(B,F-B+1,W,N-W+1)]}},{key:"WALKTRACE",value:function(B,F,W,N,H,d,D,C,x,O,T,z,I,de,pe,fe,ke,A){var P=null,G=null,re=new E,ae=F,Q=W,J=I[0]-fe[0]-N,me=-1073741824,ge=this.m_forwardHistory.length-1;do{var L=J+B;L===ae||L<Q&&x[L-1]<x[L+1]?(T=x[L+1],de=T-J-N,T<me&&re.MarkNextChange(),me=T,re.AddModifiedElement(T+1,de),J=L+1-B):(T=x[L-1]+1,de=T-J-N,T<me&&re.MarkNextChange(),me=T-1,re.AddOriginalElement(T,de+1),J=L-1-B),ge>=0&&(x=this.m_forwardHistory[ge],B=x[0],ae=1,Q=x.length-1)}while(--ge>=-1);if(P=re.getReverseChanges(),A[0]){var De=I[0]+1,Ae=fe[0]+1;if(P!==null&&P.length>0){var Oe=P[P.length-1];De=Math.max(De,Oe.getOriginalEnd()),Ae=Math.max(Ae,Oe.getModifiedEnd())}G=[new ve(De,z-De+1,Ae,pe-Ae+1)]}else{re=new E,ae=d,Q=D,J=I[0]-fe[0]-C,me=1073741824,ge=ke?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{var Pe=J+H;Pe===ae||Pe<Q&&O[Pe-1]>=O[Pe+1]?(T=O[Pe+1]-1,de=T-J-C,T>me&&re.MarkNextChange(),me=T+1,re.AddOriginalElement(T+1,de+1),J=Pe+1-H):(T=O[Pe-1],de=T-J-C,T>me&&re.MarkNextChange(),me=T,re.AddModifiedElement(T+1,de+1),J=Pe-1-H),ge>=0&&(O=this.m_reverseHistory[ge],H=O[0],ae=1,Q=O.length-1)}while(--ge>=-1);G=re.getChanges()}return this.ConcatenateChanges(P,G)}},{key:"ComputeRecursionPoint",value:function(B,F,W,N,H,d,D){var C=0,x=0,O=0,T=0,z=0,I=0;B--,W--,H[0]=0,d[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var de=F-B+(N-W),pe=de+1,fe=new Int32Array(pe),ke=new Int32Array(pe),A=N-W,P=F-B,G=B-W,re=F-N,ae=P-A,Q=ae%2==0;fe[A]=B,ke[P]=F,D[0]=!1;for(var J=1;J<=de/2+1;J++){var me=0,ge=0;O=this.ClipDiagonalBound(A-J,J,A,pe),T=this.ClipDiagonalBound(A+J,J,A,pe);for(var L=O;L<=T;L+=2){L===O||L<T&&fe[L-1]<fe[L+1]?C=fe[L+1]:C=fe[L-1]+1,x=C-(L-A)-G;for(var De=C;C<F&&x<N&&this.ElementsAreEqual(C+1,x+1);)C++,x++;if(fe[L]=C,C+x>me+ge&&(me=C,ge=x),!Q&&Math.abs(L-P)<=J-1&&C>=ke[L])return H[0]=C,d[0]=x,De<=ke[L]&&1447>0&&J<=1447+1?this.WALKTRACE(A,O,T,G,P,z,I,re,fe,ke,C,F,H,x,N,d,Q,D):null}var Ae=(me-B+(ge-W)-J)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(me,Ae))return D[0]=!0,H[0]=me,d[0]=ge,Ae>0&&1447>0&&J<=1447+1?this.WALKTRACE(A,O,T,G,P,z,I,re,fe,ke,C,F,H,x,N,d,Q,D):(B++,W++,[new ve(B,F-B+1,W,N-W+1)]);z=this.ClipDiagonalBound(P-J,J,P,pe),I=this.ClipDiagonalBound(P+J,J,P,pe);for(var Oe=z;Oe<=I;Oe+=2){Oe===z||Oe<I&&ke[Oe-1]>=ke[Oe+1]?C=ke[Oe+1]-1:C=ke[Oe-1],x=C-(Oe-P)-re;for(var Pe=C;C>B&&x>W&&this.ElementsAreEqual(C,x);)C--,x--;if(ke[Oe]=C,Q&&Math.abs(Oe-A)<=J&&C<=fe[Oe])return H[0]=C,d[0]=x,Pe>=fe[Oe]&&1447>0&&J<=1447+1?this.WALKTRACE(A,O,T,G,P,z,I,re,fe,ke,C,F,H,x,N,d,Q,D):null}if(J<=1447){var Ne=new Int32Array(T-O+2);Ne[0]=A-O+1,Y.Copy2(fe,O,Ne,1,T-O+1),this.m_forwardHistory.push(Ne),Ne=new Int32Array(I-z+2),Ne[0]=P-z+1,Y.Copy2(ke,z,Ne,1,I-z+1),this.m_reverseHistory.push(Ne)}}return this.WALKTRACE(A,O,T,G,P,z,I,re,fe,ke,C,F,H,x,N,d,Q,D)}},{key:"PrettifyChanges",value:function(B){for(var F=0;F<B.length;F++){for(var W=B[F],N=F<B.length-1?B[F+1].originalStart:this._originalElementsOrHash.length,H=F<B.length-1?B[F+1].modifiedStart:this._modifiedElementsOrHash.length,d=W.originalLength>0,D=W.modifiedLength>0;W.originalStart+W.originalLength<N&&W.modifiedStart+W.modifiedLength<H&&(!d||this.OriginalElementsAreEqual(W.originalStart,W.originalStart+W.originalLength))&&(!D||this.ModifiedElementsAreEqual(W.modifiedStart,W.modifiedStart+W.modifiedLength));){var C=this.ElementsAreStrictEqual(W.originalStart,W.modifiedStart),x=this.ElementsAreStrictEqual(W.originalStart+W.originalLength,W.modifiedStart+W.modifiedLength);if(x&&!C)break;W.originalStart++,W.modifiedStart++}var O=[null];if(F<B.length-1&&this.ChangesOverlap(B[F],B[F+1],O)){B[F]=O[0],B.splice(F+1,1),F--;continue}}for(var T=B.length-1;T>=0;T--){var z=B[T],I=0,de=0;if(T>0){var pe=B[T-1];I=pe.originalStart+pe.originalLength,de=pe.modifiedStart+pe.modifiedLength}for(var fe=z.originalLength>0,ke=z.modifiedLength>0,A=0,P=this._boundaryScore(z.originalStart,z.originalLength,z.modifiedStart,z.modifiedLength),G=1;;G++){var re=z.originalStart-G,ae=z.modifiedStart-G;if(re<I||ae<de||fe&&!this.OriginalElementsAreEqual(re,re+z.originalLength)||ke&&!this.ModifiedElementsAreEqual(ae,ae+z.modifiedLength))break;var Q=re===I&&ae===de,J=(Q?5:0)+this._boundaryScore(re,z.originalLength,ae,z.modifiedLength);J>P&&(P=J,A=G)}z.originalStart-=A,z.modifiedStart-=A;var me=[null];if(T>0&&this.ChangesOverlap(B[T-1],B[T],me)){B[T-1]=me[0],B.splice(T,1),T++;continue}}if(this._hasStrings)for(var ge=1,L=B.length;ge<L;ge++){var De=B[ge-1],Ae=B[ge],Oe=Ae.originalStart-De.originalStart-De.originalLength,Pe=De.originalStart,Ne=Ae.originalStart+Ae.originalLength,Fe=Ne-Pe,Xe=De.modifiedStart,Et=Ae.modifiedStart+Ae.modifiedLength,Ft=Et-Xe;if(Oe<5&&Fe<20&&Ft<20){var Ot=this._findBetterContiguousSequence(Pe,Fe,Xe,Ft,Oe);if(Ot){var pt=Object(ce.a)(Ot,2),Lt=pt[0],et=pt[1];(Lt!==De.originalStart+De.originalLength||et!==De.modifiedStart+De.modifiedLength)&&(De.originalLength=Lt-De.originalStart,De.modifiedLength=et-De.modifiedStart,Ae.originalStart=Lt+Oe,Ae.modifiedStart=et+Oe,Ae.originalLength=Ne-Ae.originalStart,Ae.modifiedLength=Et-Ae.modifiedStart)}}}return B}},{key:"_findBetterContiguousSequence",value:function(B,F,W,N,H){if(F<H||N<H)return null;for(var d=B+F-H+1,D=W+N-H+1,C=0,x=0,O=0,T=B;T<d;T++)for(var z=W;z<D;z++){var I=this._contiguousSequenceScore(T,z,H);I>0&&I>C&&(C=I,x=T,O=z)}return C>0?[x,O]:null}},{key:"_contiguousSequenceScore",value:function(B,F,W){for(var N=0,H=0;H<W;H++){if(!this.ElementsAreEqual(B+H,F+H))return 0;N+=this._originalStringElements[B+H].length}return N}},{key:"_OriginalIsBoundary",value:function(B){return B<=0||B>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[B])}},{key:"_OriginalRegionIsBoundary",value:function(B,F){if(this._OriginalIsBoundary(B)||this._OriginalIsBoundary(B-1))return!0;if(F>0){var W=B+F;if(this._OriginalIsBoundary(W-1)||this._OriginalIsBoundary(W))return!0}return!1}},{key:"_ModifiedIsBoundary",value:function(B){return B<=0||B>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[B])}},{key:"_ModifiedRegionIsBoundary",value:function(B,F){if(this._ModifiedIsBoundary(B)||this._ModifiedIsBoundary(B-1))return!0;if(F>0){var W=B+F;if(this._ModifiedIsBoundary(W-1)||this._ModifiedIsBoundary(W))return!0}return!1}},{key:"_boundaryScore",value:function(B,F,W,N){var H=this._OriginalRegionIsBoundary(B,F)?1:0,d=this._ModifiedRegionIsBoundary(W,N)?1:0;return H+d}},{key:"ConcatenateChanges",value:function(B,F){var W=[];if(B.length===0||F.length===0)return F.length>0?F:B;if(this.ChangesOverlap(B[B.length-1],F[0],W)){var N=new Array(B.length+F.length-1);return Y.Copy(B,0,N,0,B.length-1),N[B.length-1]=W[0],Y.Copy(F,1,N,B.length,F.length-1),N}else{var H=new Array(B.length+F.length);return Y.Copy(B,0,H,0,B.length),Y.Copy(F,0,H,B.length,F.length),H}}},{key:"ChangesOverlap",value:function(B,F,W){if(_.Assert(B.originalStart<=F.originalStart,"Left change is not less than or equal to right change"),_.Assert(B.modifiedStart<=F.modifiedStart,"Left change is not less than or equal to right change"),B.originalStart+B.originalLength>=F.originalStart||B.modifiedStart+B.modifiedLength>=F.modifiedStart){var N=B.originalStart,H=B.originalLength,d=B.modifiedStart,D=B.modifiedLength;return B.originalStart+B.originalLength>=F.originalStart&&(H=F.originalStart+F.originalLength-B.originalStart),B.modifiedStart+B.modifiedLength>=F.modifiedStart&&(D=F.modifiedStart+F.modifiedLength-B.modifiedStart),W[0]=new ve(N,H,d,D),!0}else return W[0]=null,!1}},{key:"ClipDiagonalBound",value:function(B,F,W,N){if(B>=0&&B<N)return B;var H=W,d=N-W-1,D=F%2==0;if(B<0){var C=H%2==0;return D===C?0:1}else{var x=d%2==0;return D===x?N-1:N-2}}}],[{key:"_isStringArray",value:function(B){return B.length>0&&typeof B[0]=="string"}},{key:"_getElements",value:function(B){var F=B.getElements();if(ne._isStringArray(F)){for(var W=new Int32Array(F.length),N=0,H=F.length;N<H;N++)W[N]=Object(se.d)(F[N],0);return[F,W,!0]}return F instanceof Int32Array?[[],F,!1]:[[],new Int32Array(F),!1]}},{key:"_getStrictElement",value:function(B,F){return typeof B.getStrictElement=="function"?B.getStrictElement(F):null}}]),ne}()},H7XF:function(mn,U,a){"use strict";U.byteLength=_,U.toByteArray=E,U.fromByteArray=V;for(var ce=[],we=[],w=typeof Uint8Array!="undefined"?Uint8Array:Array,ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",se=0,te=ve.length;se<te;++se)ce[se]=ve[se],we[ve.charCodeAt(se)]=se;we["-".charCodeAt(0)]=62,we["_".charCodeAt(0)]=63;function $(B){var F=B.length;if(F%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var W=B.indexOf("=");W===-1&&(W=F);var N=W===F?0:4-W%4;return[W,N]}function _(B){var F=$(B),W=F[0],N=F[1];return(W+N)*3/4-N}function Y(B,F,W){return(F+W)*3/4-W}function E(B){var F,W=$(B),N=W[0],H=W[1],d=new w(Y(B,N,H)),D=0,C=H>0?N-4:N,x;for(x=0;x<C;x+=4)F=we[B.charCodeAt(x)]<<18|we[B.charCodeAt(x+1)]<<12|we[B.charCodeAt(x+2)]<<6|we[B.charCodeAt(x+3)],d[D++]=F>>16&255,d[D++]=F>>8&255,d[D++]=F&255;return H===2&&(F=we[B.charCodeAt(x)]<<2|we[B.charCodeAt(x+1)]>>4,d[D++]=F&255),H===1&&(F=we[B.charCodeAt(x)]<<10|we[B.charCodeAt(x+1)]<<4|we[B.charCodeAt(x+2)]>>2,d[D++]=F>>8&255,d[D++]=F&255),d}function Z(B){return ce[B>>18&63]+ce[B>>12&63]+ce[B>>6&63]+ce[B&63]}function ne(B,F,W){for(var N,H=[],d=F;d<W;d+=3)N=(B[d]<<16&16711680)+(B[d+1]<<8&65280)+(B[d+2]&255),H.push(Z(N));return H.join("")}function V(B){for(var F,W=B.length,N=W%3,H=[],d=16383,D=0,C=W-N;D<C;D+=d)H.push(ne(B,D,D+d>C?C:D+d));return N===1?(F=B[W-1],H.push(ce[F>>2]+ce[F<<4&63]+"==")):N===2&&(F=(B[W-2]<<8)+B[W-1],H.push(ce[F>>10]+ce[F>>4&63]+ce[F<<2&63]+"=")),H.join("")}},"H9a+":function(mn,U,a){"use strict";a.d(U,"a",function(){return $}),a.d(U,"d",function(){return _}),a.d(U,"b",function(){return Y}),a.d(U,"c",function(){return E});var ce=a("fWQN"),we=a("mtLc"),w=a("cGHE"),ve=a("aokT"),se=a("YNuV"),te=a("/UlZ"),$=function(){function ne(V,B,F,W,N){Object(ce.a)(this,ne),this.editorId=V,this.model=B,this.configuration=F,this._linesCollection=W,this._coordinatesConverter=N,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}return Object(we.a)(ne,[{key:"_clearCachedModelDecorationsResolver",value:function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}},{key:"dispose",value:function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}},{key:"reset",value:function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}},{key:"onModelDecorationsChanged",value:function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}},{key:"onLineMappingChanged",value:function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}},{key:"_getOrCreateViewModelDecoration",value:function(B){var F=B.id,W=this._decorationsCache[F];if(!W){var N=B.range,H=B.options,d;if(H.isWholeLine){var D=this._coordinatesConverter.convertModelPositionToViewPosition(new w.a(N.startLineNumber,1),0),C=this._coordinatesConverter.convertModelPositionToViewPosition(new w.a(N.endLineNumber,this.model.getLineMaxColumn(N.endLineNumber)),1);d=new ve.a(D.lineNumber,D.column,C.lineNumber,C.column)}else d=this._coordinatesConverter.convertModelRangeToViewRange(N,1);W=new se.g(d,H),this._decorationsCache[F]=W}return W}},{key:"getMinimapDecorationsInRange",value:function(B){return this._getDecorationsInRange(B,!0,!1).decorations}},{key:"getDecorationsViewportData",value:function(B){var F=this._cachedModelDecorationsResolver!==null;return F=F&&B.equalsRange(this._cachedModelDecorationsResolverViewRange),F||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(B,!1,!1),this._cachedModelDecorationsResolverViewRange=B),this._cachedModelDecorationsResolver}},{key:"getInlineDecorationsOnLine",value:function(B){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,N=new ve.a(B,this._linesCollection.getViewLineMinColumn(B),B,this._linesCollection.getViewLineMaxColumn(B));return this._getDecorationsInRange(N,F,W).inlineDecorations[0]}},{key:"_getDecorationsInRange",value:function(B,F,W){for(var N=this._linesCollection.getDecorationsInRange(B,this.editorId,Object(te.o)(this.configuration.options),F,W),H=B.startLineNumber,d=B.endLineNumber,D=[],C=0,x=[],O=H;O<=d;O++)x[O-H]=[];for(var T=0,z=N.length;T<z;T++){var I=N[T],de=I.options;if(!!_(this.model,I)){var pe=this._getOrCreateViewModelDecoration(I),fe=pe.range;if(D[C++]=pe,de.inlineClassName)for(var ke=new se.a(fe,de.inlineClassName,de.inlineClassNameAffectsLetterSpacing?3:0),A=Math.max(H,fe.startLineNumber),P=Math.min(d,fe.endLineNumber),G=A;G<=P;G++)x[G-H].push(ke);if(de.beforeContentClassName&&H<=fe.startLineNumber&&fe.startLineNumber<=d){var re=new se.a(new ve.a(fe.startLineNumber,fe.startColumn,fe.startLineNumber,fe.startColumn),de.beforeContentClassName,1);x[fe.startLineNumber-H].push(re)}if(de.afterContentClassName&&H<=fe.endLineNumber&&fe.endLineNumber<=d){var ae=new se.a(new ve.a(fe.endLineNumber,fe.endColumn,fe.endLineNumber,fe.endColumn),de.afterContentClassName,2);x[fe.endLineNumber-H].push(ae)}}}return{decorations:D,inlineDecorations:x}}}]),ne}();function _(ne,V){return!(V.options.hideInCommentTokens&&Y(ne,V)||V.options.hideInStringTokens&&E(ne,V))}function Y(ne,V){return Z(ne,V.range,function(B){return B===1})}function E(ne,V){return Z(ne,V.range,function(B){return B===2})}function Z(ne,V,B){for(var F=V.startLineNumber;F<=V.endLineNumber;F++)for(var W=ne.tokenization.getLineTokens(F),N=F===V.startLineNumber,H=F===V.endLineNumber,d=N?W.findTokenIndexAtOffset(V.startColumn-1):0;d<W.getCount();){if(H){var D=W.getStartOffset(d);if(D>V.endColumn-1)break}var C=B(W.getStandardTokenType(d));if(!C)return!1;d++}return!0}},HDXh:function(mn,U,a){"use strict";(function(ce){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var we=a("H7XF"),w=a("kVK+"),ve=a("49sm");U.Buffer=_,U.SlowBuffer=H,U.INSPECT_MAX_BYTES=50,_.TYPED_ARRAY_SUPPORT=ce.TYPED_ARRAY_SUPPORT!==void 0?ce.TYPED_ARRAY_SUPPORT:se(),U.kMaxLength=te();function se(){try{var Re=new Uint8Array(1);return Re.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Re.foo()===42&&typeof Re.subarray=="function"&&Re.subarray(1,1).byteLength===0}catch(Ce){return!1}}function te(){return _.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function $(Re,Ce){if(te()<Ce)throw new RangeError("Invalid typed array length");return _.TYPED_ARRAY_SUPPORT?(Re=new Uint8Array(Ce),Re.__proto__=_.prototype):(Re===null&&(Re=new _(Ce)),Re.length=Ce),Re}function _(Re,Ce,ye){if(!_.TYPED_ARRAY_SUPPORT&&!(this instanceof _))return new _(Re,Ce,ye);if(typeof Re=="number"){if(typeof Ce=="string")throw new Error("If encoding is specified then the first argument must be a string");return ne(this,Re)}return Y(this,Re,Ce,ye)}_.poolSize=8192,_._augment=function(Re){return Re.__proto__=_.prototype,Re};function Y(Re,Ce,ye,Te){if(typeof Ce=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&Ce instanceof ArrayBuffer?F(Re,Ce,ye,Te):typeof Ce=="string"?V(Re,Ce,ye):W(Re,Ce)}_.from=function(Re,Ce,ye){return Y(null,Re,Ce,ye)},_.TYPED_ARRAY_SUPPORT&&(_.prototype.__proto__=Uint8Array.prototype,_.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&_[Symbol.species]===_&&Object.defineProperty(_,Symbol.species,{value:null,configurable:!0}));function E(Re){if(typeof Re!="number")throw new TypeError('"size" argument must be a number');if(Re<0)throw new RangeError('"size" argument must not be negative')}function Z(Re,Ce,ye,Te){return E(Ce),Ce<=0?$(Re,Ce):ye!==void 0?typeof Te=="string"?$(Re,Ce).fill(ye,Te):$(Re,Ce).fill(ye):$(Re,Ce)}_.alloc=function(Re,Ce,ye){return Z(null,Re,Ce,ye)};function ne(Re,Ce){if(E(Ce),Re=$(Re,Ce<0?0:N(Ce)|0),!_.TYPED_ARRAY_SUPPORT)for(var ye=0;ye<Ce;++ye)Re[ye]=0;return Re}_.allocUnsafe=function(Re){return ne(null,Re)},_.allocUnsafeSlow=function(Re){return ne(null,Re)};function V(Re,Ce,ye){if((typeof ye!="string"||ye==="")&&(ye="utf8"),!_.isEncoding(ye))throw new TypeError('"encoding" must be a valid string encoding');var Te=d(Ce,ye)|0;Re=$(Re,Te);var Qe=Re.write(Ce,ye);return Qe!==Te&&(Re=Re.slice(0,Qe)),Re}function B(Re,Ce){var ye=Ce.length<0?0:N(Ce.length)|0;Re=$(Re,ye);for(var Te=0;Te<ye;Te+=1)Re[Te]=Ce[Te]&255;return Re}function F(Re,Ce,ye,Te){if(Ce.byteLength,ye<0||Ce.byteLength<ye)throw new RangeError("'offset' is out of bounds");if(Ce.byteLength<ye+(Te||0))throw new RangeError("'length' is out of bounds");return ye===void 0&&Te===void 0?Ce=new Uint8Array(Ce):Te===void 0?Ce=new Uint8Array(Ce,ye):Ce=new Uint8Array(Ce,ye,Te),_.TYPED_ARRAY_SUPPORT?(Re=Ce,Re.__proto__=_.prototype):Re=B(Re,Ce),Re}function W(Re,Ce){if(_.isBuffer(Ce)){var ye=N(Ce.length)|0;return Re=$(Re,ye),Re.length===0||Ce.copy(Re,0,0,ye),Re}if(Ce){if(typeof ArrayBuffer!="undefined"&&Ce.buffer instanceof ArrayBuffer||"length"in Ce)return typeof Ce.length!="number"||Vt(Ce.length)?$(Re,0):B(Re,Ce);if(Ce.type==="Buffer"&&ve(Ce.data))return B(Re,Ce.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function N(Re){if(Re>=te())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+te().toString(16)+" bytes");return Re|0}function H(Re){return+Re!=Re&&(Re=0),_.alloc(+Re)}_.isBuffer=function(Ce){return!!(Ce!=null&&Ce._isBuffer)},_.compare=function(Ce,ye){if(!_.isBuffer(Ce)||!_.isBuffer(ye))throw new TypeError("Arguments must be Buffers");if(Ce===ye)return 0;for(var Te=Ce.length,Qe=ye.length,$e=0,ze=Math.min(Te,Qe);$e<ze;++$e)if(Ce[$e]!==ye[$e]){Te=Ce[$e],Qe=ye[$e];break}return Te<Qe?-1:Qe<Te?1:0},_.isEncoding=function(Ce){switch(String(Ce).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(Ce,ye){if(!ve(Ce))throw new TypeError('"list" argument must be an Array of Buffers');if(Ce.length===0)return _.alloc(0);var Te;if(ye===void 0)for(ye=0,Te=0;Te<Ce.length;++Te)ye+=Ce[Te].length;var Qe=_.allocUnsafe(ye),$e=0;for(Te=0;Te<Ce.length;++Te){var ze=Ce[Te];if(!_.isBuffer(ze))throw new TypeError('"list" argument must be an Array of Buffers');ze.copy(Qe,$e),$e+=ze.length}return Qe};function d(Re,Ce){if(_.isBuffer(Re))return Re.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Re)||Re instanceof ArrayBuffer))return Re.byteLength;typeof Re!="string"&&(Re=""+Re);var ye=Re.length;if(ye===0)return 0;for(var Te=!1;;)switch(Ce){case"ascii":case"latin1":case"binary":return ye;case"utf8":case"utf-8":case void 0:return Ft(Re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye*2;case"hex":return ye>>>1;case"base64":return Lt(Re).length;default:if(Te)return Ft(Re).length;Ce=(""+Ce).toLowerCase(),Te=!0}}_.byteLength=d;function D(Re,Ce,ye){var Te=!1;if((Ce===void 0||Ce<0)&&(Ce=0),Ce>this.length||((ye===void 0||ye>this.length)&&(ye=this.length),ye<=0)||(ye>>>=0,Ce>>>=0,ye<=Ce))return"";for(Re||(Re="utf8");;)switch(Re){case"hex":return Q(this,Ce,ye);case"utf8":case"utf-8":return A(this,Ce,ye);case"ascii":return re(this,Ce,ye);case"latin1":case"binary":return ae(this,Ce,ye);case"base64":return ke(this,Ce,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,Ce,ye);default:if(Te)throw new TypeError("Unknown encoding: "+Re);Re=(Re+"").toLowerCase(),Te=!0}}_.prototype._isBuffer=!0;function C(Re,Ce,ye){var Te=Re[Ce];Re[Ce]=Re[ye],Re[ye]=Te}_.prototype.swap16=function(){var Ce=this.length;if(Ce%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ye=0;ye<Ce;ye+=2)C(this,ye,ye+1);return this},_.prototype.swap32=function(){var Ce=this.length;if(Ce%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ye=0;ye<Ce;ye+=4)C(this,ye,ye+3),C(this,ye+1,ye+2);return this},_.prototype.swap64=function(){var Ce=this.length;if(Ce%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ye=0;ye<Ce;ye+=8)C(this,ye,ye+7),C(this,ye+1,ye+6),C(this,ye+2,ye+5),C(this,ye+3,ye+4);return this},_.prototype.toString=function(){var Ce=this.length|0;return Ce===0?"":arguments.length===0?A(this,0,Ce):D.apply(this,arguments)},_.prototype.equals=function(Ce){if(!_.isBuffer(Ce))throw new TypeError("Argument must be a Buffer");return this===Ce?!0:_.compare(this,Ce)===0},_.prototype.inspect=function(){var Ce="",ye=U.INSPECT_MAX_BYTES;return this.length>0&&(Ce=this.toString("hex",0,ye).match(/.{2}/g).join(" "),this.length>ye&&(Ce+=" ... ")),"<Buffer "+Ce+">"},_.prototype.compare=function(Ce,ye,Te,Qe,$e){if(!_.isBuffer(Ce))throw new TypeError("Argument must be a Buffer");if(ye===void 0&&(ye=0),Te===void 0&&(Te=Ce?Ce.length:0),Qe===void 0&&(Qe=0),$e===void 0&&($e=this.length),ye<0||Te>Ce.length||Qe<0||$e>this.length)throw new RangeError("out of range index");if(Qe>=$e&&ye>=Te)return 0;if(Qe>=$e)return-1;if(ye>=Te)return 1;if(ye>>>=0,Te>>>=0,Qe>>>=0,$e>>>=0,this===Ce)return 0;for(var ze=$e-Qe,ot=Te-ye,He=Math.min(ze,ot),Ge=this.slice(Qe,$e),Je=Ce.slice(ye,Te),ft=0;ft<He;++ft)if(Ge[ft]!==Je[ft]){ze=Ge[ft],ot=Je[ft];break}return ze<ot?-1:ot<ze?1:0};function x(Re,Ce,ye,Te,Qe){if(Re.length===0)return-1;if(typeof ye=="string"?(Te=ye,ye=0):ye>2147483647?ye=2147483647:ye<-2147483648&&(ye=-2147483648),ye=+ye,isNaN(ye)&&(ye=Qe?0:Re.length-1),ye<0&&(ye=Re.length+ye),ye>=Re.length){if(Qe)return-1;ye=Re.length-1}else if(ye<0)if(Qe)ye=0;else return-1;if(typeof Ce=="string"&&(Ce=_.from(Ce,Te)),_.isBuffer(Ce))return Ce.length===0?-1:O(Re,Ce,ye,Te,Qe);if(typeof Ce=="number")return Ce=Ce&255,_.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Qe?Uint8Array.prototype.indexOf.call(Re,Ce,ye):Uint8Array.prototype.lastIndexOf.call(Re,Ce,ye):O(Re,[Ce],ye,Te,Qe);throw new TypeError("val must be string, number or Buffer")}function O(Re,Ce,ye,Te,Qe){var $e=1,ze=Re.length,ot=Ce.length;if(Te!==void 0&&(Te=String(Te).toLowerCase(),Te==="ucs2"||Te==="ucs-2"||Te==="utf16le"||Te==="utf-16le")){if(Re.length<2||Ce.length<2)return-1;$e=2,ze/=2,ot/=2,ye/=2}function He(bt,Bt){return $e===1?bt[Bt]:bt.readUInt16BE(Bt*$e)}var Ge;if(Qe){var Je=-1;for(Ge=ye;Ge<ze;Ge++)if(He(Re,Ge)===He(Ce,Je===-1?0:Ge-Je)){if(Je===-1&&(Je=Ge),Ge-Je+1===ot)return Je*$e}else Je!==-1&&(Ge-=Ge-Je),Je=-1}else for(ye+ot>ze&&(ye=ze-ot),Ge=ye;Ge>=0;Ge--){for(var ft=!0,qt=0;qt<ot;qt++)if(He(Re,Ge+qt)!==He(Ce,qt)){ft=!1;break}if(ft)return Ge}return-1}_.prototype.includes=function(Ce,ye,Te){return this.indexOf(Ce,ye,Te)!==-1},_.prototype.indexOf=function(Ce,ye,Te){return x(this,Ce,ye,Te,!0)},_.prototype.lastIndexOf=function(Ce,ye,Te){return x(this,Ce,ye,Te,!1)};function T(Re,Ce,ye,Te){ye=Number(ye)||0;var Qe=Re.length-ye;Te?(Te=Number(Te),Te>Qe&&(Te=Qe)):Te=Qe;var $e=Ce.length;if($e%2!=0)throw new TypeError("Invalid hex string");Te>$e/2&&(Te=$e/2);for(var ze=0;ze<Te;++ze){var ot=parseInt(Ce.substr(ze*2,2),16);if(isNaN(ot))return ze;Re[ye+ze]=ot}return ze}function z(Re,Ce,ye,Te){return et(Ft(Ce,Re.length-ye),Re,ye,Te)}function I(Re,Ce,ye,Te){return et(Ot(Ce),Re,ye,Te)}function de(Re,Ce,ye,Te){return I(Re,Ce,ye,Te)}function pe(Re,Ce,ye,Te){return et(Lt(Ce),Re,ye,Te)}function fe(Re,Ce,ye,Te){return et(pt(Ce,Re.length-ye),Re,ye,Te)}_.prototype.write=function(Ce,ye,Te,Qe){if(ye===void 0)Qe="utf8",Te=this.length,ye=0;else if(Te===void 0&&typeof ye=="string")Qe=ye,Te=this.length,ye=0;else if(isFinite(ye))ye=ye|0,isFinite(Te)?(Te=Te|0,Qe===void 0&&(Qe="utf8")):(Qe=Te,Te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var $e=this.length-ye;if((Te===void 0||Te>$e)&&(Te=$e),Ce.length>0&&(Te<0||ye<0)||ye>this.length)throw new RangeError("Attempt to write outside buffer bounds");Qe||(Qe="utf8");for(var ze=!1;;)switch(Qe){case"hex":return T(this,Ce,ye,Te);case"utf8":case"utf-8":return z(this,Ce,ye,Te);case"ascii":return I(this,Ce,ye,Te);case"latin1":case"binary":return de(this,Ce,ye,Te);case"base64":return pe(this,Ce,ye,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,Ce,ye,Te);default:if(ze)throw new TypeError("Unknown encoding: "+Qe);Qe=(""+Qe).toLowerCase(),ze=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ke(Re,Ce,ye){return Ce===0&&ye===Re.length?we.fromByteArray(Re):we.fromByteArray(Re.slice(Ce,ye))}function A(Re,Ce,ye){ye=Math.min(Re.length,ye);for(var Te=[],Qe=Ce;Qe<ye;){var $e=Re[Qe],ze=null,ot=$e>239?4:$e>223?3:$e>191?2:1;if(Qe+ot<=ye){var He,Ge,Je,ft;switch(ot){case 1:$e<128&&(ze=$e);break;case 2:He=Re[Qe+1],(He&192)==128&&(ft=($e&31)<<6|He&63,ft>127&&(ze=ft));break;case 3:He=Re[Qe+1],Ge=Re[Qe+2],(He&192)==128&&(Ge&192)==128&&(ft=($e&15)<<12|(He&63)<<6|Ge&63,ft>2047&&(ft<55296||ft>57343)&&(ze=ft));break;case 4:He=Re[Qe+1],Ge=Re[Qe+2],Je=Re[Qe+3],(He&192)==128&&(Ge&192)==128&&(Je&192)==128&&(ft=($e&15)<<18|(He&63)<<12|(Ge&63)<<6|Je&63,ft>65535&&ft<1114112&&(ze=ft))}}ze===null?(ze=65533,ot=1):ze>65535&&(ze-=65536,Te.push(ze>>>10&1023|55296),ze=56320|ze&1023),Te.push(ze),Qe+=ot}return G(Te)}var P=4096;function G(Re){var Ce=Re.length;if(Ce<=P)return String.fromCharCode.apply(String,Re);for(var ye="",Te=0;Te<Ce;)ye+=String.fromCharCode.apply(String,Re.slice(Te,Te+=P));return ye}function re(Re,Ce,ye){var Te="";ye=Math.min(Re.length,ye);for(var Qe=Ce;Qe<ye;++Qe)Te+=String.fromCharCode(Re[Qe]&127);return Te}function ae(Re,Ce,ye){var Te="";ye=Math.min(Re.length,ye);for(var Qe=Ce;Qe<ye;++Qe)Te+=String.fromCharCode(Re[Qe]);return Te}function Q(Re,Ce,ye){var Te=Re.length;(!Ce||Ce<0)&&(Ce=0),(!ye||ye<0||ye>Te)&&(ye=Te);for(var Qe="",$e=Ce;$e<ye;++$e)Qe+=Et(Re[$e]);return Qe}function J(Re,Ce,ye){for(var Te=Re.slice(Ce,ye),Qe="",$e=0;$e<Te.length;$e+=2)Qe+=String.fromCharCode(Te[$e]+Te[$e+1]*256);return Qe}_.prototype.slice=function(Ce,ye){var Te=this.length;Ce=~~Ce,ye=ye===void 0?Te:~~ye,Ce<0?(Ce+=Te,Ce<0&&(Ce=0)):Ce>Te&&(Ce=Te),ye<0?(ye+=Te,ye<0&&(ye=0)):ye>Te&&(ye=Te),ye<Ce&&(ye=Ce);var Qe;if(_.TYPED_ARRAY_SUPPORT)Qe=this.subarray(Ce,ye),Qe.__proto__=_.prototype;else{var $e=ye-Ce;Qe=new _($e,void 0);for(var ze=0;ze<$e;++ze)Qe[ze]=this[ze+Ce]}return Qe};function me(Re,Ce,ye){if(Re%1!=0||Re<0)throw new RangeError("offset is not uint");if(Re+Ce>ye)throw new RangeError("Trying to access beyond buffer length")}_.prototype.readUIntLE=function(Ce,ye,Te){Ce=Ce|0,ye=ye|0,Te||me(Ce,ye,this.length);for(var Qe=this[Ce],$e=1,ze=0;++ze<ye&&($e*=256);)Qe+=this[Ce+ze]*$e;return Qe},_.prototype.readUIntBE=function(Ce,ye,Te){Ce=Ce|0,ye=ye|0,Te||me(Ce,ye,this.length);for(var Qe=this[Ce+--ye],$e=1;ye>0&&($e*=256);)Qe+=this[Ce+--ye]*$e;return Qe},_.prototype.readUInt8=function(Ce,ye){return ye||me(Ce,1,this.length),this[Ce]},_.prototype.readUInt16LE=function(Ce,ye){return ye||me(Ce,2,this.length),this[Ce]|this[Ce+1]<<8},_.prototype.readUInt16BE=function(Ce,ye){return ye||me(Ce,2,this.length),this[Ce]<<8|this[Ce+1]},_.prototype.readUInt32LE=function(Ce,ye){return ye||me(Ce,4,this.length),(this[Ce]|this[Ce+1]<<8|this[Ce+2]<<16)+this[Ce+3]*16777216},_.prototype.readUInt32BE=function(Ce,ye){return ye||me(Ce,4,this.length),this[Ce]*16777216+(this[Ce+1]<<16|this[Ce+2]<<8|this[Ce+3])},_.prototype.readIntLE=function(Ce,ye,Te){Ce=Ce|0,ye=ye|0,Te||me(Ce,ye,this.length);for(var Qe=this[Ce],$e=1,ze=0;++ze<ye&&($e*=256);)Qe+=this[Ce+ze]*$e;return $e*=128,Qe>=$e&&(Qe-=Math.pow(2,8*ye)),Qe},_.prototype.readIntBE=function(Ce,ye,Te){Ce=Ce|0,ye=ye|0,Te||me(Ce,ye,this.length);for(var Qe=ye,$e=1,ze=this[Ce+--Qe];Qe>0&&($e*=256);)ze+=this[Ce+--Qe]*$e;return $e*=128,ze>=$e&&(ze-=Math.pow(2,8*ye)),ze},_.prototype.readInt8=function(Ce,ye){return ye||me(Ce,1,this.length),this[Ce]&128?(255-this[Ce]+1)*-1:this[Ce]},_.prototype.readInt16LE=function(Ce,ye){ye||me(Ce,2,this.length);var Te=this[Ce]|this[Ce+1]<<8;return Te&32768?Te|4294901760:Te},_.prototype.readInt16BE=function(Ce,ye){ye||me(Ce,2,this.length);var Te=this[Ce+1]|this[Ce]<<8;return Te&32768?Te|4294901760:Te},_.prototype.readInt32LE=function(Ce,ye){return ye||me(Ce,4,this.length),this[Ce]|this[Ce+1]<<8|this[Ce+2]<<16|this[Ce+3]<<24},_.prototype.readInt32BE=function(Ce,ye){return ye||me(Ce,4,this.length),this[Ce]<<24|this[Ce+1]<<16|this[Ce+2]<<8|this[Ce+3]},_.prototype.readFloatLE=function(Ce,ye){return ye||me(Ce,4,this.length),w.read(this,Ce,!0,23,4)},_.prototype.readFloatBE=function(Ce,ye){return ye||me(Ce,4,this.length),w.read(this,Ce,!1,23,4)},_.prototype.readDoubleLE=function(Ce,ye){return ye||me(Ce,8,this.length),w.read(this,Ce,!0,52,8)},_.prototype.readDoubleBE=function(Ce,ye){return ye||me(Ce,8,this.length),w.read(this,Ce,!1,52,8)};function ge(Re,Ce,ye,Te,Qe,$e){if(!_.isBuffer(Re))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ce>Qe||Ce<$e)throw new RangeError('"value" argument is out of bounds');if(ye+Te>Re.length)throw new RangeError("Index out of range")}_.prototype.writeUIntLE=function(Ce,ye,Te,Qe){if(Ce=+Ce,ye=ye|0,Te=Te|0,!Qe){var $e=Math.pow(2,8*Te)-1;ge(this,Ce,ye,Te,$e,0)}var ze=1,ot=0;for(this[ye]=Ce&255;++ot<Te&&(ze*=256);)this[ye+ot]=Ce/ze&255;return ye+Te},_.prototype.writeUIntBE=function(Ce,ye,Te,Qe){if(Ce=+Ce,ye=ye|0,Te=Te|0,!Qe){var $e=Math.pow(2,8*Te)-1;ge(this,Ce,ye,Te,$e,0)}var ze=Te-1,ot=1;for(this[ye+ze]=Ce&255;--ze>=0&&(ot*=256);)this[ye+ze]=Ce/ot&255;return ye+Te},_.prototype.writeUInt8=function(Ce,ye,Te){return Ce=+Ce,ye=ye|0,Te||ge(this,Ce,ye,1,255,0),_.TYPED_ARRAY_SUPPORT||(Ce=Math.floor(Ce)),this[ye]=Ce&255,ye+1};function L(Re,Ce,ye,Te){Ce<0&&(Ce=65535+Ce+1);for(var Qe=0,$e=Math.min(Re.length-ye,2);Qe<$e;++Qe)Re[ye+Qe]=(Ce&255<<8*(Te?Qe:1-Qe))>>>(Te?Qe:1-Qe)*8}_.prototype.writeUInt16LE=function(Ce,ye,Te){return Ce=+Ce,ye=ye|0,Te||ge(this,Ce,ye,2,65535,0),_.TYPED_ARRAY_SUPPORT?(this[ye]=Ce&255,this[ye+1]=Ce>>>8):L(this,Ce,ye,!0),ye+2},_.prototype.writeUInt16BE=function(Ce,ye,Te){return Ce=+Ce,ye=ye|0,Te||ge(this,Ce,ye,2,65535,0),_.TYPED_ARRAY_SUPPORT?(this[ye]=Ce>>>8,this[ye+1]=Ce&255):L(this,Ce,ye,!1),ye+2};function De(Re,Ce,ye,Te){Ce<0&&(Ce=4294967295+Ce+1);for(var Qe=0,$e=Math.min(Re.length-ye,4);Qe<$e;++Qe)Re[ye+Qe]=Ce>>>(Te?Qe:3-Qe)*8&255}_.prototype.writeUInt32LE=function(Ce,ye,Te){return Ce=+Ce,ye=ye|0,Te||ge(this,Ce,ye,4,4294967295,0),_.TYPED_ARRAY_SUPPORT?(this[ye+3]=Ce>>>24,this[ye+2]=Ce>>>16,this[ye+1]=Ce>>>8,this[ye]=Ce&255):De(this,Ce,ye,!0),ye+4},_.prototype.writeUInt32BE=function(Ce,ye,Te){return Ce=+Ce,ye=ye|0,Te||ge(this,Ce,ye,4,4294967295,0),_.TYPED_ARRAY_SUPPORT?(this[ye]=Ce>>>24,this[ye+1]=Ce>>>16,this[ye+2]=Ce>>>8,this[ye+3]=Ce&255):De(this,Ce,ye,!1),ye+4},_.prototype.writeIntLE=function(Ce,ye,Te,Qe){if(Ce=+Ce,ye=ye|0,!Qe){var $e=Math.pow(2,8*Te-1);ge(this,Ce,ye,Te,$e-1,-$e)}var ze=0,ot=1,He=0;for(this[ye]=Ce&255;++ze<Te&&(ot*=256);)Ce<0&&He===0&&this[ye+ze-1]!==0&&(He=1),this[ye+ze]=(Ce/ot>>0)-He&255;return ye+Te},_.prototype.writeIntBE=function(Ce,ye,Te,Qe){if(Ce=+Ce,ye=ye|0,!Qe){var $e=Math.pow(2,8*Te-1);ge(this,Ce,ye,Te,$e-1,-$e)}var ze=Te-1,ot=1,He=0;for(this[ye+ze]=Ce&255;--ze>=0&&(ot*=256);)Ce<0&&He===0&&this[ye+ze+1]!==0&&(He=1),this[ye+ze]=(Ce/ot>>0)-He&255;return ye+Te},_.prototype.writeInt8=function(Ce,ye,Te){return Ce=+Ce,ye=ye|0,Te||ge(this,Ce,ye,1,127,-128),_.TYPED_ARRAY_SUPPORT||(Ce=Math.floor(Ce)),Ce<0&&(Ce=255+Ce+1),this[ye]=Ce&255,ye+1},_.prototype.writeInt16LE=function(Ce,ye,Te){return Ce=+Ce,ye=ye|0,Te||ge(this,Ce,ye,2,32767,-32768),_.TYPED_ARRAY_SUPPORT?(this[ye]=Ce&255,this[ye+1]=Ce>>>8):L(this,Ce,ye,!0),ye+2},_.prototype.writeInt16BE=function(Ce,ye,Te){return Ce=+Ce,ye=ye|0,Te||ge(this,Ce,ye,2,32767,-32768),_.TYPED_ARRAY_SUPPORT?(this[ye]=Ce>>>8,this[ye+1]=Ce&255):L(this,Ce,ye,!1),ye+2},_.prototype.writeInt32LE=function(Ce,ye,Te){return Ce=+Ce,ye=ye|0,Te||ge(this,Ce,ye,4,2147483647,-2147483648),_.TYPED_ARRAY_SUPPORT?(this[ye]=Ce&255,this[ye+1]=Ce>>>8,this[ye+2]=Ce>>>16,this[ye+3]=Ce>>>24):De(this,Ce,ye,!0),ye+4},_.prototype.writeInt32BE=function(Ce,ye,Te){return Ce=+Ce,ye=ye|0,Te||ge(this,Ce,ye,4,2147483647,-2147483648),Ce<0&&(Ce=4294967295+Ce+1),_.TYPED_ARRAY_SUPPORT?(this[ye]=Ce>>>24,this[ye+1]=Ce>>>16,this[ye+2]=Ce>>>8,this[ye+3]=Ce&255):De(this,Ce,ye,!1),ye+4};function Ae(Re,Ce,ye,Te,Qe,$e){if(ye+Te>Re.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("Index out of range")}function Oe(Re,Ce,ye,Te,Qe){return Qe||Ae(Re,Ce,ye,4,34028234663852886e22,-34028234663852886e22),w.write(Re,Ce,ye,Te,23,4),ye+4}_.prototype.writeFloatLE=function(Ce,ye,Te){return Oe(this,Ce,ye,!0,Te)},_.prototype.writeFloatBE=function(Ce,ye,Te){return Oe(this,Ce,ye,!1,Te)};function Pe(Re,Ce,ye,Te,Qe){return Qe||Ae(Re,Ce,ye,8,17976931348623157e292,-17976931348623157e292),w.write(Re,Ce,ye,Te,52,8),ye+8}_.prototype.writeDoubleLE=function(Ce,ye,Te){return Pe(this,Ce,ye,!0,Te)},_.prototype.writeDoubleBE=function(Ce,ye,Te){return Pe(this,Ce,ye,!1,Te)},_.prototype.copy=function(Ce,ye,Te,Qe){if(Te||(Te=0),!Qe&&Qe!==0&&(Qe=this.length),ye>=Ce.length&&(ye=Ce.length),ye||(ye=0),Qe>0&&Qe<Te&&(Qe=Te),Qe===Te||Ce.length===0||this.length===0)return 0;if(ye<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("sourceStart out of bounds");if(Qe<0)throw new RangeError("sourceEnd out of bounds");Qe>this.length&&(Qe=this.length),Ce.length-ye<Qe-Te&&(Qe=Ce.length-ye+Te);var $e=Qe-Te,ze;if(this===Ce&&Te<ye&&ye<Qe)for(ze=$e-1;ze>=0;--ze)Ce[ze+ye]=this[ze+Te];else if($e<1e3||!_.TYPED_ARRAY_SUPPORT)for(ze=0;ze<$e;++ze)Ce[ze+ye]=this[ze+Te];else Uint8Array.prototype.set.call(Ce,this.subarray(Te,Te+$e),ye);return $e},_.prototype.fill=function(Ce,ye,Te,Qe){if(typeof Ce=="string"){if(typeof ye=="string"?(Qe=ye,ye=0,Te=this.length):typeof Te=="string"&&(Qe=Te,Te=this.length),Ce.length===1){var $e=Ce.charCodeAt(0);$e<256&&(Ce=$e)}if(Qe!==void 0&&typeof Qe!="string")throw new TypeError("encoding must be a string");if(typeof Qe=="string"&&!_.isEncoding(Qe))throw new TypeError("Unknown encoding: "+Qe)}else typeof Ce=="number"&&(Ce=Ce&255);if(ye<0||this.length<ye||this.length<Te)throw new RangeError("Out of range index");if(Te<=ye)return this;ye=ye>>>0,Te=Te===void 0?this.length:Te>>>0,Ce||(Ce=0);var ze;if(typeof Ce=="number")for(ze=ye;ze<Te;++ze)this[ze]=Ce;else{var ot=_.isBuffer(Ce)?Ce:Ft(new _(Ce,Qe).toString()),He=ot.length;for(ze=0;ze<Te-ye;++ze)this[ze+ye]=ot[ze%He]}return this};var Ne=/[^+\/0-9A-Za-z-_]/g;function Fe(Re){if(Re=Xe(Re).replace(Ne,""),Re.length<2)return"";for(;Re.length%4!=0;)Re=Re+"=";return Re}function Xe(Re){return Re.trim?Re.trim():Re.replace(/^\s+|\s+$/g,"")}function Et(Re){return Re<16?"0"+Re.toString(16):Re.toString(16)}function Ft(Re,Ce){Ce=Ce||Infinity;for(var ye,Te=Re.length,Qe=null,$e=[],ze=0;ze<Te;++ze){if(ye=Re.charCodeAt(ze),ye>55295&&ye<57344){if(!Qe){if(ye>56319){(Ce-=3)>-1&&$e.push(239,191,189);continue}else if(ze+1===Te){(Ce-=3)>-1&&$e.push(239,191,189);continue}Qe=ye;continue}if(ye<56320){(Ce-=3)>-1&&$e.push(239,191,189),Qe=ye;continue}ye=(Qe-55296<<10|ye-56320)+65536}else Qe&&(Ce-=3)>-1&&$e.push(239,191,189);if(Qe=null,ye<128){if((Ce-=1)<0)break;$e.push(ye)}else if(ye<2048){if((Ce-=2)<0)break;$e.push(ye>>6|192,ye&63|128)}else if(ye<65536){if((Ce-=3)<0)break;$e.push(ye>>12|224,ye>>6&63|128,ye&63|128)}else if(ye<1114112){if((Ce-=4)<0)break;$e.push(ye>>18|240,ye>>12&63|128,ye>>6&63|128,ye&63|128)}else throw new Error("Invalid code point")}return $e}function Ot(Re){for(var Ce=[],ye=0;ye<Re.length;++ye)Ce.push(Re.charCodeAt(ye)&255);return Ce}function pt(Re,Ce){for(var ye,Te,Qe,$e=[],ze=0;ze<Re.length&&!((Ce-=2)<0);++ze)ye=Re.charCodeAt(ze),Te=ye>>8,Qe=ye%256,$e.push(Qe),$e.push(Te);return $e}function Lt(Re){return we.toByteArray(Fe(Re))}function et(Re,Ce,ye,Te){for(var Qe=0;Qe<Te&&!(Qe+ye>=Ce.length||Qe>=Re.length);++Qe)Ce[Qe+ye]=Re[Qe];return Qe}function Vt(Re){return Re!==Re}}).call(this,a("IyRk"))},HHK3:function(mn,U,a){"use strict";a.d(U,"b",function(){return T}),a.d(U,"c",function(){return z}),a.d(U,"a",function(){return I});var ce=a("w4Tj"),we=a("oZsa"),w=a("yKVA"),ve=a("879j"),se=a("rAM+"),te=a("fWQN"),$=a("mtLc"),_=a("/cxE"),Y=a("N0LK"),E=a("LCkn"),Z=a("zN7H"),ne=a("aokT"),V=a("gCVg"),B=function(){function A(P,G,re){Object(te.a)(this,A),this._range=P,this._charBeforeSelection=G,this._charAfterSelection=re}return Object($.a)(A,[{key:"getEditOperations",value:function(G,re){re.addTrackedEditOperation(new ne.a(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),re.addTrackedEditOperation(new ne.a(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}},{key:"computeCursorState",value:function(G,re){var ae=re.getInverseEditOperations(),Q=ae[0].range,J=ae[1].range;return new V.a(Q.endLineNumber,Q.endColumn,J.endLineNumber,J.endColumn-this._charAfterSelection.length)}}]),A}(),F=function(){function A(P,G,re){Object(te.a)(this,A),this._position=P,this._text=G,this._charAfter=re}return Object($.a)(A,[{key:"getEditOperations",value:function(G,re){re.addTrackedEditOperation(new ne.a(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}},{key:"computeCursorState",value:function(G,re){var ae=re.getInverseEditOperations(),Q=ae[0].range;return new V.a(Q.endLineNumber,Q.startColumn,Q.endLineNumber,Q.endColumn-this._charAfter.length)}}]),A}(),W=a("LLum"),N=a("Vk6M"),H=a("cGHE"),d=a("PXCW"),D=a("AYRw"),C=a("p1iI"),x=a("oIHe"),O=a("s3yj"),T=function(){function A(){Object(te.a)(this,A)}return Object($.a)(A,null,[{key:"indent",value:function(G,re,ae){if(re===null||ae===null)return[];for(var Q=[],J=0,me=ae.length;J<me;J++)Q[J]=new Z.a(ae[J],{isUnshift:!1,tabSize:G.tabSize,indentSize:G.indentSize,insertSpaces:G.insertSpaces,useTabStops:G.useTabStops,autoIndent:G.autoIndent},G.languageConfigurationService);return Q}},{key:"outdent",value:function(G,re,ae){for(var Q=[],J=0,me=ae.length;J<me;J++)Q[J]=new Z.a(ae[J],{isUnshift:!0,tabSize:G.tabSize,indentSize:G.indentSize,insertSpaces:G.insertSpaces,useTabStops:G.useTabStops,autoIndent:G.autoIndent},G.languageConfigurationService);return Q}},{key:"shiftIndent",value:function(G,re,ae){return ae=ae||1,Z.a.shiftIndent(re,re.length+ae,G.tabSize,G.indentSize,G.insertSpaces)}},{key:"unshiftIndent",value:function(G,re,ae){return ae=ae||1,Z.a.unshiftIndent(re,re.length+ae,G.tabSize,G.indentSize,G.insertSpaces)}},{key:"_distributedPaste",value:function(G,re,ae,Q){for(var J=[],me=0,ge=ae.length;me<ge;me++)J[me]=new E.a(ae[me],Q[me]);return new W.c(0,J,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}},{key:"_simplePaste",value:function(G,re,ae,Q,J){for(var me=[],ge=0,L=ae.length;ge<L;ge++){var De=ae[ge],Ae=De.getPosition();if(J&&!De.isEmpty()&&(J=!1),J&&Q.indexOf(`
`)!==Q.length-1&&(J=!1),J){var Oe=new ne.a(Ae.lineNumber,1,Ae.lineNumber,1);me[ge]=new E.b(Oe,Q,De,!0)}else me[ge]=new E.a(De,Q)}return new W.c(0,me,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}},{key:"_distributePasteToCursors",value:function(G,re,ae,Q,J){if(Q||re.length===1)return null;if(J&&J.length===re.length)return J;if(G.multiCursorPaste==="spread"){ae.charCodeAt(ae.length-1)===10&&(ae=ae.substr(0,ae.length-1)),ae.charCodeAt(ae.length-1)===13&&(ae=ae.substr(0,ae.length-1));var me=Y.S(ae);if(me.length===re.length)return me}return null}},{key:"paste",value:function(G,re,ae,Q,J,me){var ge=this._distributePasteToCursors(G,ae,Q,J,me);return ge?(ae=ae.sort(ne.a.compareRangesUsingStarts),this._distributedPaste(G,re,ae,ge)):this._simplePaste(G,re,ae,Q,J)}},{key:"_goodIndentForLine",value:function(G,re,ae){var Q=null,J="",me=Object(x.e)(G.autoIndent,re,ae,!1,G.languageConfigurationService);if(me)Q=me.action,J=me.indentation;else if(ae>1){var ge;for(ge=ae-1;ge>=1;ge--){var L=re.getLineContent(ge),De=Y.J(L);if(De>=0)break}if(ge<1)return null;var Ae=re.getLineMaxColumn(ge),Oe=Object(O.a)(G.autoIndent,re,new ne.a(ge,Ae,ge,Ae),G.languageConfigurationService);Oe&&(J=Oe.indentation+Oe.appendText)}return Q&&(Q===d.b.Indent&&(J=A.shiftIndent(G,J)),Q===d.b.Outdent&&(J=A.unshiftIndent(G,J)),J=G.normalizeIndentation(J)),J||null}},{key:"_replaceJumpToNextIndent",value:function(G,re,ae,Q){var J="",me=ae.getStartPosition();if(G.insertSpaces)for(var ge=G.visibleColumnFromColumn(re,me),L=G.indentSize,De=L-ge%L,Ae=0;Ae<De;Ae++)J+=" ";else J="	";return new E.a(ae,J,Q)}},{key:"tab",value:function(G,re,ae){for(var Q=[],J=0,me=ae.length;J<me;J++){var ge=ae[J];if(ge.isEmpty()){var L=re.getLineContent(ge.startLineNumber);if(/^\s*$/.test(L)&&re.tokenization.isCheapToTokenize(ge.startLineNumber)){var De=this._goodIndentForLine(G,re,ge.startLineNumber);De=De||"	";var Ae=G.normalizeIndentation(De);if(!L.startsWith(Ae)){Q[J]=new E.a(new ne.a(ge.startLineNumber,1,ge.startLineNumber,L.length+1),Ae,!0);continue}}Q[J]=this._replaceJumpToNextIndent(G,re,ge,!0)}else{if(ge.startLineNumber===ge.endLineNumber){var Oe=re.getLineMaxColumn(ge.startLineNumber);if(ge.startColumn!==1||ge.endColumn!==Oe){Q[J]=this._replaceJumpToNextIndent(G,re,ge,!1);continue}}Q[J]=new Z.a(ge,{isUnshift:!1,tabSize:G.tabSize,indentSize:G.indentSize,insertSpaces:G.insertSpaces,useTabStops:G.useTabStops,autoIndent:G.autoIndent},G.languageConfigurationService)}}return Q}},{key:"compositionType",value:function(G,re,ae,Q,J,me,ge,L){var De=this,Ae=Q.map(function(Oe){return De._compositionType(ae,Oe,J,me,ge,L)});return new W.c(4,Ae,{shouldPushStackElementBefore:pe(G,4),shouldPushStackElementAfter:!1})}},{key:"_compositionType",value:function(G,re,ae,Q,J,me){if(!re.isEmpty())return null;var ge=re.getPosition(),L=Math.max(1,ge.column-Q),De=Math.min(G.getLineMaxColumn(ge.lineNumber),ge.column+J),Ae=new ne.a(ge.lineNumber,L,ge.lineNumber,De),Oe=G.getValueInRange(Ae);return Oe===ae&&me===0?null:new E.d(Ae,ae,0,me)}},{key:"_typeCommand",value:function(G,re,ae){return ae?new E.e(G,re,!0):new E.a(G,re,!0)}},{key:"_enter",value:function(G,re,ae,Q){if(G.autoIndent===0)return A._typeCommand(Q,`
`,ae);if(!re.tokenization.isCheapToTokenize(Q.getStartPosition().lineNumber)||G.autoIndent===1){var J=re.getLineContent(Q.startLineNumber),me=Y.x(J).substring(0,Q.startColumn-1);return A._typeCommand(Q,`
`+G.normalizeIndentation(me),ae)}var ge=Object(O.a)(G.autoIndent,re,Q,G.languageConfigurationService);if(ge){if(ge.indentAction===d.b.None)return A._typeCommand(Q,`
`+G.normalizeIndentation(ge.indentation+ge.appendText),ae);if(ge.indentAction===d.b.Indent)return A._typeCommand(Q,`
`+G.normalizeIndentation(ge.indentation+ge.appendText),ae);if(ge.indentAction===d.b.IndentOutdent){var L=G.normalizeIndentation(ge.indentation),De=G.normalizeIndentation(ge.indentation+ge.appendText),Ae=`
`+De+`
`+L;return ae?new E.e(Q,Ae,!0):new E.d(Q,Ae,-1,De.length-L.length,!0)}else if(ge.indentAction===d.b.Outdent){var Oe=A.unshiftIndent(G,ge.indentation);return A._typeCommand(Q,`
`+G.normalizeIndentation(Oe+ge.appendText),ae)}}var Pe=re.getLineContent(Q.startLineNumber),Ne=Y.x(Pe).substring(0,Q.startColumn-1);if(G.autoIndent>=4){var Fe=Object(x.c)(G.autoIndent,re,Q,{unshiftIndent:function(et){return A.unshiftIndent(G,et)},shiftIndent:function(et){return A.shiftIndent(G,et)},normalizeIndentation:function(et){return G.normalizeIndentation(et)}},G.languageConfigurationService);if(Fe){var Xe=G.visibleColumnFromColumn(re,Q.getEndPosition()),Et=Q.endColumn,Ft=re.getLineContent(Q.endLineNumber),Ot=Y.u(Ft);if(Ot>=0?Q=Q.setEndPosition(Q.endLineNumber,Math.max(Q.endColumn,Ot+1)):Q=Q.setEndPosition(Q.endLineNumber,re.getLineMaxColumn(Q.endLineNumber)),ae)return new E.e(Q,`
`+G.normalizeIndentation(Fe.afterEnter),!0);var pt=0;return Et<=Ot+1&&(G.insertSpaces||(Xe=Math.ceil(Xe/G.indentSize)),pt=Math.min(Xe+1-G.normalizeIndentation(Fe.afterEnter).length-1,0)),new E.d(Q,`
`+G.normalizeIndentation(Fe.afterEnter),0,pt,!0)}}return A._typeCommand(Q,`
`+G.normalizeIndentation(Ne),ae)}},{key:"_isAutoIndentType",value:function(G,re,ae){if(G.autoIndent<4)return!1;for(var Q=0,J=ae.length;Q<J;Q++)if(!re.tokenization.isCheapToTokenize(ae[Q].getEndPosition().lineNumber))return!1;return!0}},{key:"_runAutoIndentType",value:function(G,re,ae,Q){var J=Object(D.b)(re,ae.startLineNumber,ae.startColumn),me=Object(x.b)(G.autoIndent,re,ae,Q,{shiftIndent:function(De){return A.shiftIndent(G,De)},unshiftIndent:function(De){return A.unshiftIndent(G,De)}},G.languageConfigurationService);if(me===null)return null;if(me!==G.normalizeIndentation(J)){var ge=re.getLineFirstNonWhitespaceColumn(ae.startLineNumber);return ge===0?A._typeCommand(new ne.a(ae.startLineNumber,1,ae.endLineNumber,ae.endColumn),G.normalizeIndentation(me)+Q,!1):A._typeCommand(new ne.a(ae.startLineNumber,1,ae.endLineNumber,ae.endColumn),G.normalizeIndentation(me)+re.getLineContent(ae.startLineNumber).substring(ge-1,ae.startColumn-1)+Q,!1)}return null}},{key:"_isAutoClosingOvertype",value:function(G,re,ae,Q,J){if(G.autoClosingOvertype==="never"||!G.autoClosingPairs.autoClosingPairsCloseSingleChar.has(J))return!1;for(var me=0,ge=ae.length;me<ge;me++){var L=ae[me];if(!L.isEmpty())return!1;var De=L.getPosition(),Ae=re.getLineContent(De.lineNumber),Oe=Ae.charAt(De.column-1);if(Oe!==J)return!1;var Pe=Object(W.e)(J),Ne=De.column>2?Ae.charCodeAt(De.column-2):0;if(Ne===92&&Pe)return!1;if(G.autoClosingOvertype==="auto"){for(var Fe=!1,Xe=0,Et=Q.length;Xe<Et;Xe++){var Ft=Q[Xe];if(De.lineNumber===Ft.startLineNumber&&De.column===Ft.startColumn){Fe=!0;break}}if(!Fe)return!1}}return!0}},{key:"_runAutoClosingOvertype",value:function(G,re,ae,Q,J){for(var me=[],ge=0,L=Q.length;ge<L;ge++){var De=Q[ge],Ae=De.getPosition(),Oe=new ne.a(Ae.lineNumber,Ae.column,Ae.lineNumber,Ae.column+1);me[ge]=new E.a(Oe,J)}return new W.c(4,me,{shouldPushStackElementBefore:pe(G,4),shouldPushStackElementAfter:!1})}},{key:"_isBeforeClosingBrace",value:function(G,re){var ae=re.charAt(0),Q=G.autoClosingPairs.autoClosingPairsOpenByStart.get(ae)||[],J=G.autoClosingPairs.autoClosingPairsCloseByStart.get(ae)||[],me=Q.some(function(L){return re.startsWith(L.open)}),ge=J.some(function(L){return re.startsWith(L.close)});return!me&&ge}},{key:"_findAutoClosingPairOpen",value:function(G,re,ae,Q){var J=G.autoClosingPairs.autoClosingPairsOpenByEnd.get(Q);if(!J)return null;var me=null,ge=Object(se.a)(J),L;try{for(ge.s();!(L=ge.n()).done;){var De=L.value;if(me===null||De.open.length>me.open.length){var Ae=!0,Oe=Object(se.a)(ae),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var Ne=Pe.value,Fe=re.getValueInRange(new ne.a(Ne.lineNumber,Ne.column-De.open.length+1,Ne.lineNumber,Ne.column));if(Fe+Q!==De.open){Ae=!1;break}}}catch(Xe){Oe.e(Xe)}finally{Oe.f()}Ae&&(me=De)}}}catch(Xe){ge.e(Xe)}finally{ge.f()}return me}},{key:"_findContainedAutoClosingPair",value:function(G,re){if(re.open.length<=1)return null;var ae=re.close.charAt(re.close.length-1),Q=G.autoClosingPairs.autoClosingPairsCloseByEnd.get(ae)||[],J=null,me=Object(se.a)(Q),ge;try{for(me.s();!(ge=me.n()).done;){var L=ge.value;L.open!==re.open&&re.open.includes(L.open)&&re.close.endsWith(L.close)&&(!J||L.open.length>J.open.length)&&(J=L)}}catch(De){me.e(De)}finally{me.f()}return J}},{key:"_getAutoClosingPairClose",value:function(G,re,ae,Q,J){var me=Object(W.e)(Q),ge=me?G.autoClosingQuotes:G.autoClosingBrackets,L=me?G.shouldAutoCloseBefore.quote:G.shouldAutoCloseBefore.bracket;if(ge==="never")return null;var De=Object(se.a)(ae),Ae;try{for(De.s();!(Ae=De.n()).done;){var Oe=Ae.value;if(!Oe.isEmpty())return null}}catch(ft){De.e(ft)}finally{De.f()}var Pe=ae.map(function(ft){var qt=ft.getPosition();return J?{lineNumber:qt.lineNumber,beforeColumn:qt.column-Q.length,afterColumn:qt.column}:{lineNumber:qt.lineNumber,beforeColumn:qt.column,afterColumn:qt.column}}),Ne=this._findAutoClosingPairOpen(G,re,Pe.map(function(ft){return new H.a(ft.lineNumber,ft.beforeColumn)}),Q);if(!Ne)return null;var Fe=this._findContainedAutoClosingPair(G,Ne),Xe=Fe?Fe.close:"",Et=!0,Ft=Object(se.a)(Pe),Ot;try{for(Ft.s();!(Ot=Ft.n()).done;){var pt=Ot.value,Lt=pt.lineNumber,et=pt.beforeColumn,Vt=pt.afterColumn,Re=re.getLineContent(Lt),Ce=Re.substring(0,et-1),ye=Re.substring(Vt-1);if(ye.startsWith(Xe)||(Et=!1),ye.length>0){var Te=ye.charAt(0),Qe=A._isBeforeClosingBrace(G,ye);if(!Qe&&!L(Te))return null}if(Ne.open.length===1&&(Q==="'"||Q==='"')&&ge!=="always"){var $e=Object(N.a)(G.wordSeparators);if(Ce.length>0){var ze=Ce.charCodeAt(Ce.length-1);if($e.get(ze)===0)return null}}if(!re.tokenization.isCheapToTokenize(Lt))return null;re.tokenization.forceTokenization(Lt);var ot=re.tokenization.getLineTokens(Lt),He=Object(C.a)(ot,et-1);if(!Ne.shouldAutoClose(He,et-He.firstCharOffset))return null;var Ge=Ne.findNeutralCharacter();if(Ge){var Je=re.tokenization.getTokenTypeIfInsertingCharacter(Lt,et,Ge);if(!Ne.isOK(Je))return null}}}catch(ft){Ft.e(ft)}finally{Ft.f()}return Et?Ne.close.substring(0,Ne.close.length-Xe.length):Ne.close}},{key:"_runAutoClosingOpenCharType",value:function(G,re,ae,Q,J,me,ge){for(var L=[],De=0,Ae=Q.length;De<Ae;De++){var Oe=Q[De];L[De]=new z(Oe,J,!me,ge)}return new W.c(4,L,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}},{key:"_shouldSurroundChar",value:function(G,re){return Object(W.e)(re)?G.autoSurround==="quotes"||G.autoSurround==="languageDefined":G.autoSurround==="brackets"||G.autoSurround==="languageDefined"}},{key:"_isSurroundSelectionType",value:function(G,re,ae,Q){if(!A._shouldSurroundChar(G,Q)||!G.surroundingPairs.hasOwnProperty(Q))return!1;var J=Object(W.e)(Q),me=Object(se.a)(ae),ge;try{for(me.s();!(ge=me.n()).done;){var L=ge.value;if(L.isEmpty())return!1;for(var De=!0,Ae=L.startLineNumber;Ae<=L.endLineNumber;Ae++){var Oe=re.getLineContent(Ae),Pe=Ae===L.startLineNumber?L.startColumn-1:0,Ne=Ae===L.endLineNumber?L.endColumn-1:Oe.length,Fe=Oe.substring(Pe,Ne);if(/[^ \t]/.test(Fe)){De=!1;break}}if(De)return!1;if(J&&L.startLineNumber===L.endLineNumber&&L.startColumn+1===L.endColumn){var Xe=re.getValueInRange(L);if(Object(W.e)(Xe))return!1}}}catch(Et){me.e(Et)}finally{me.f()}return!0}},{key:"_runSurroundSelectionType",value:function(G,re,ae,Q,J){for(var me=[],ge=0,L=Q.length;ge<L;ge++){var De=Q[ge],Ae=re.surroundingPairs[J];me[ge]=new B(De,J,Ae)}return new W.c(0,me,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}},{key:"_isTypeInterceptorElectricChar",value:function(G,re,ae){return!!(ae.length===1&&re.tokenization.isCheapToTokenize(ae[0].getEndPosition().lineNumber))}},{key:"_typeInterceptorElectricChar",value:function(G,re,ae,Q,J){if(!re.electricChars.hasOwnProperty(J)||!Q.isEmpty())return null;var me=Q.getPosition();ae.tokenization.forceTokenization(me.lineNumber);var ge=ae.tokenization.getLineTokens(me.lineNumber),L;try{L=re.onElectricCharacter(J,ge,me.column)}catch(Lt){return Object(_.h)(Lt),null}if(!L)return null;if(L.matchOpenBracket){var De=(ge.getLineContent()+J).lastIndexOf(L.matchOpenBracket)+1,Ae=ae.bracketPairs.findMatchingBracketUp(L.matchOpenBracket,{lineNumber:me.lineNumber,column:De},500);if(Ae){if(Ae.startLineNumber===me.lineNumber)return null;var Oe=ae.getLineContent(Ae.startLineNumber),Pe=Y.x(Oe),Ne=re.normalizeIndentation(Pe),Fe=ae.getLineContent(me.lineNumber),Xe=ae.getLineFirstNonWhitespaceColumn(me.lineNumber)||me.column,Et=Fe.substring(Xe-1,me.column-1),Ft=Ne+Et+J,Ot=new ne.a(me.lineNumber,1,me.lineNumber,me.column),pt=new E.a(Ot,Ft);return new W.c(de(Ft,G),[pt],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}},{key:"compositionEndWithInterceptors",value:function(G,re,ae,Q,J,me){if(!Q)return null;var ge=null,L=Object(se.a)(Q),De;try{for(L.s();!(De=L.n()).done;){var Ae=De.value;if(ge===null)ge=Ae.insertedText;else if(ge!==Ae.insertedText)return null}}catch(ze){L.e(ze)}finally{L.f()}if(!ge||ge.length!==1)return null;var Oe=ge,Pe=!1,Ne=Object(se.a)(Q),Fe;try{for(Ne.s();!(Fe=Ne.n()).done;){var Xe=Fe.value;if(Xe.deletedText.length!==0){Pe=!0;break}}}catch(ze){Ne.e(ze)}finally{Ne.f()}if(Pe){if(!A._shouldSurroundChar(re,Oe)||!re.surroundingPairs.hasOwnProperty(Oe))return null;var Et=Object(W.e)(Oe),Ft=Object(se.a)(Q),Ot;try{for(Ft.s();!(Ot=Ft.n()).done;){var pt=Ot.value;if(pt.deletedSelectionStart!==0||pt.deletedSelectionEnd!==pt.deletedText.length||/^[ \t]+$/.test(pt.deletedText)||Et&&Object(W.e)(pt.deletedText))return null}}catch(ze){Ft.e(ze)}finally{Ft.f()}var Lt=[],et=Object(se.a)(J),Vt;try{for(et.s();!(Vt=et.n()).done;){var Re=Vt.value;if(!Re.isEmpty())return null;Lt.push(Re.getPosition())}}catch(ze){et.e(ze)}finally{et.f()}if(Lt.length!==Q.length)return null;for(var Ce=[],ye=0,Te=Lt.length;ye<Te;ye++)Ce.push(new F(Lt[ye],Q[ye].deletedText,re.surroundingPairs[Oe]));return new W.c(4,Ce,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(re,ae,J,me,Oe)){var Qe=J.map(function(ze){return new E.a(new ne.a(ze.positionLineNumber,ze.positionColumn,ze.positionLineNumber,ze.positionColumn+1),"",!1)});return new W.c(4,Qe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}var $e=this._getAutoClosingPairClose(re,ae,J,Oe,!0);return $e!==null?this._runAutoClosingOpenCharType(G,re,ae,J,Oe,!0,$e):null}},{key:"typeWithInterceptors",value:function(G,re,ae,Q,J,me,ge){if(!G&&ge===`
`){for(var L=[],De=0,Ae=J.length;De<Ae;De++)L[De]=A._enter(ae,Q,!1,J[De]);return new W.c(4,L,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!G&&this._isAutoIndentType(ae,Q,J)){for(var Oe=[],Pe=!1,Ne=0,Fe=J.length;Ne<Fe;Ne++)if(Oe[Ne]=this._runAutoIndentType(ae,Q,J[Ne],ge),!Oe[Ne]){Pe=!0;break}if(!Pe)return new W.c(4,Oe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(ae,Q,J,me,ge))return this._runAutoClosingOvertype(re,ae,Q,J,ge);if(!G){var Xe=this._getAutoClosingPairClose(ae,Q,J,ge,!1);if(Xe)return this._runAutoClosingOpenCharType(re,ae,Q,J,ge,!1,Xe)}if(!G&&this._isSurroundSelectionType(ae,Q,J,ge))return this._runSurroundSelectionType(re,ae,Q,J,ge);if(!G&&this._isTypeInterceptorElectricChar(ae,Q,J)){var Et=this._typeInterceptorElectricChar(re,ae,Q,J[0],ge);if(Et)return Et}for(var Ft=[],Ot=0,pt=J.length;Ot<pt;Ot++)Ft[Ot]=new E.a(J[Ot],ge);var Lt=de(ge,re);return new W.c(Lt,Ft,{shouldPushStackElementBefore:pe(re,Lt),shouldPushStackElementAfter:!1})}},{key:"typeWithoutInterceptors",value:function(G,re,ae,Q,J){for(var me=[],ge=0,L=Q.length;ge<L;ge++)me[ge]=new E.a(Q[ge],J);var De=de(J,G);return new W.c(De,me,{shouldPushStackElementBefore:pe(G,De),shouldPushStackElementAfter:!1})}},{key:"lineInsertBefore",value:function(G,re,ae){if(re===null||ae===null)return[];for(var Q=[],J=0,me=ae.length;J<me;J++){var ge=ae[J].positionLineNumber;if(ge===1)Q[J]=new E.e(new ne.a(1,1,1,1),`
`);else{ge--;var L=re.getLineMaxColumn(ge);Q[J]=this._enter(G,re,!1,new ne.a(ge,L,ge,L))}}return Q}},{key:"lineInsertAfter",value:function(G,re,ae){if(re===null||ae===null)return[];for(var Q=[],J=0,me=ae.length;J<me;J++){var ge=ae[J].positionLineNumber,L=re.getLineMaxColumn(ge);Q[J]=this._enter(G,re,!1,new ne.a(ge,L,ge,L))}return Q}},{key:"lineBreakInsert",value:function(G,re,ae){for(var Q=[],J=0,me=ae.length;J<me;J++)Q[J]=this._enter(G,re,!0,ae[J]);return Q}}]),A}(),z=function(A){Object(w.a)(G,A);var P=Object(ve.a)(G);function G(re,ae,Q,J){var me;return Object(te.a)(this,G),me=P.call(this,re,(Q?ae:"")+J,0,-J.length),me._openCharacter=ae,me._closeCharacter=J,me.closeCharacterRange=null,me.enclosingRange=null,me}return Object($.a)(G,[{key:"computeCursorState",value:function(ae,Q){var J=Q.getInverseEditOperations(),me=J[0].range;return this.closeCharacterRange=new ne.a(me.startLineNumber,me.endColumn-this._closeCharacter.length,me.endLineNumber,me.endColumn),this.enclosingRange=new ne.a(me.startLineNumber,me.endColumn-this._openCharacter.length-this._closeCharacter.length,me.endLineNumber,me.endColumn),Object(ce.a)(Object(we.a)(G.prototype),"computeCursorState",this).call(this,ae,Q)}}]),G}(E.d),I=Object($.a)(function A(P,G,re,ae,Q,J){Object(te.a)(this,A),this.deletedText=P,this.deletedSelectionStart=G,this.deletedSelectionEnd=re,this.insertedText=ae,this.insertedSelectionStart=Q,this.insertedSelectionEnd=J});function de(A,P){return A===" "?P===5||P===6?6:5:4}function pe(A,P){return ke(A)&&!ke(P)?!0:A===5?!1:fe(A)!==fe(P)}function fe(A){return A===6||A===5?"space":A}function ke(A){return A===4||A===5||A===6}},HIzu:function(mn,U,a){},HgMQ:function(mn,U,a){},HpOR:function(mn,U,a){"use strict";(function(ce){a.d(U,"a",function(){return _}),a.d(U,"b",function(){return Y}),a.d(U,"e",function(){return E}),a.d(U,"c",function(){return Z}),a.d(U,"f",function(){return ne}),a.d(U,"d",function(){return V}),a.d(U,"g",function(){return B});var we=a("fWQN"),w=a("mtLc"),ve=a("QdLL"),se=typeof ce!="undefined",te=new ve.a(function(){return new Uint8Array(256)}),$,_=function(){function F(W){Object(we.a)(this,F),this.buffer=W,this.byteLength=this.buffer.byteLength}return Object(w.a)(F,[{key:"toString",value:function(){return se?this.buffer.toString():($||($=new TextDecoder),$.decode(this.buffer))}}],[{key:"wrap",value:function(N){return se&&!ce.isBuffer(N)&&(N=ce.from(N.buffer,N.byteOffset,N.byteLength)),new F(N)}}]),F}();function Y(F,W){return F[W+0]<<0>>>0|F[W+1]<<8>>>0}function E(F,W,N){F[N+0]=W&255,W=W>>>8,F[N+1]=W&255}function Z(F,W){return F[W]*Math.pow(2,24)+F[W+1]*Math.pow(2,16)+F[W+2]*Math.pow(2,8)+F[W+3]}function ne(F,W,N){F[N+3]=W,W=W>>>8,F[N+2]=W,W=W>>>8,F[N+1]=W,W=W>>>8,F[N]=W}function V(F,W){return F[W]}function B(F,W,N){F[N]=W}}).call(this,a("HDXh").Buffer)},HyZH:function(mn,U,a){},IzEo:function(mn,U,a){"use strict";var ce=a("EFp3"),we=a.n(ce),w=a("lnY3"),ve=a.n(w),se=a("cWXX"),te=a("Znn+")},"J+ZK":function(mn,U,a){},JF8p:function(mn,U,a){},JLfW:function(mn,U,a){"use strict";a.d(U,"a",function(){return ve});var ce=a("fWQN"),we=a("mtLc"),w=a("N0LK"),ve=function(){function se(){Object(ce.a)(this,se)}return Object(we.a)(se,null,[{key:"_nextVisibleColumn",value:function($,_,Y){return $===9?se.nextRenderTabStop(_,Y):w.E($)||w.C($)?_+2:_+1}},{key:"visibleColumnFromColumn",value:function($,_,Y){for(var E=Math.min(_-1,$.length),Z=$.substring(0,E),ne=new w.b(Z),V=0;!ne.eol();){var B=w.z(Z,E,ne.offset);ne.nextGraphemeLength(),V=this._nextVisibleColumn(B,V,Y)}return V}},{key:"columnFromVisibleColumn",value:function($,_,Y){if(_<=0)return 1;for(var E=$.length,Z=new w.b($),ne=0,V=1;!Z.eol();){var B=w.z($,E,Z.offset);Z.nextGraphemeLength();var F=this._nextVisibleColumn(B,ne,Y),W=Z.offset+1;if(F>=_){var N=_-ne,H=F-_;return H<N?W:V}ne=F,V=W}return E+1}},{key:"nextRenderTabStop",value:function($,_){return $+_-$%_}},{key:"nextIndentTabStop",value:function($,_){return $+_-$%_}},{key:"prevRenderTabStop",value:function($,_){return Math.max(0,$-1-($-1)%_)}},{key:"prevIndentTabStop",value:function($,_){return Math.max(0,$-1-($-1)%_)}}]),se}()},"JQT/":function(mn,U,a){"use strict";a.d(U,"a",function(){return se}),a.d(U,"b",function(){return $});var ce=a("fWQN"),we=a("mtLc"),w=a("MI8n"),ve=Object.freeze(function(_,Y){var E=setTimeout(_.bind(Y),0);return{dispose:function(){clearTimeout(E)}}}),se;(function(_){function Y(E){return E===_.None||E===_.Cancelled||E instanceof te?!0:!E||typeof E!="object"?!1:typeof E.isCancellationRequested=="boolean"&&typeof E.onCancellationRequested=="function"}_.isCancellationToken=Y,_.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:w.c.None}),_.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ve})})(se||(se={}));var te=function(){function _(){Object(ce.a)(this,_),this._isCancelled=!1,this._emitter=null}return Object(we.a)(_,[{key:"cancel",value:function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}},{key:"isCancellationRequested",get:function(){return this._isCancelled}},{key:"onCancellationRequested",get:function(){return this._isCancelled?ve:(this._emitter||(this._emitter=new w.b),this._emitter.event)}},{key:"dispose",value:function(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}]),_}(),$=function(){function _(Y){Object(ce.a)(this,_),this._token=void 0,this._parentListener=void 0,this._parentListener=Y&&Y.onCancellationRequested(this.cancel,this)}return Object(we.a)(_,[{key:"token",get:function(){return this._token||(this._token=new te),this._token}},{key:"cancel",value:function(){this._token?this._token instanceof te&&this._token.cancel():this._token=se.Cancelled}},{key:"dispose",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Z;E&&this.cancel(),(Z=this._parentListener)===null||Z===void 0||Z.dispose(),this._token?this._token instanceof te&&this._token.dispose():this._token=se.None}}]),_}()},"JS/N":function(mn,U,a){"use strict";a.d(U,"a",function(){return N}),a.d(U,"b",function(){return H});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("VGTv"),se=a("t9D7"),te=a("09fa"),$=a("tJVT"),_=a("cGHE"),Y=a("aokT"),E=a("CsXQ"),Z=function(){function C(x,O){Object(we.a)(this,C),this._startLineNumber=x,this._tokens=O,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}return Object(w.a)(C,[{key:"startLineNumber",get:function(){return this._startLineNumber}},{key:"endLineNumber",get:function(){return this._endLineNumber}},{key:"toString",value:function(){return this._tokens.toString(this._startLineNumber)}},{key:"_updateEndLineNumber",value:function(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}},{key:"isEmpty",value:function(){return this._tokens.isEmpty()}},{key:"getLineTokens",value:function(O){return this._startLineNumber<=O&&O<=this._endLineNumber?this._tokens.getLineTokens(O-this._startLineNumber):null}},{key:"getRange",value:function(){var O=this._tokens.getRange();return O&&new Y.a(this._startLineNumber+O.startLineNumber,O.startColumn,this._startLineNumber+O.endLineNumber,O.endColumn)}},{key:"removeTokens",value:function(O){var T=O.startLineNumber-this._startLineNumber,z=O.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(T,O.startColumn-1,z,O.endColumn-1),this._updateEndLineNumber()}},{key:"split",value:function(O){var T=O.startLineNumber-this._startLineNumber,z=O.endLineNumber-this._startLineNumber,I=this._tokens.split(T,O.startColumn-1,z,O.endColumn-1),de=Object($.a)(I,3),pe=de[0],fe=de[1],ke=de[2];return[new C(this._startLineNumber,pe),new C(this._startLineNumber+ke,fe)]}},{key:"applyEdit",value:function(O,T){var z=Object(E.a)(T),I=Object($.a)(z,3),de=I[0],pe=I[1],fe=I[2];this.acceptEdit(O,de,pe,fe,T.length>0?T.charCodeAt(0):0)}},{key:"acceptEdit",value:function(O,T,z,I,de){this._acceptDeleteRange(O),this._acceptInsertText(new _.a(O.startLineNumber,O.startColumn),T,z,I,de),this._updateEndLineNumber()}},{key:"_acceptDeleteRange",value:function(O){if(!(O.startLineNumber===O.endLineNumber&&O.startColumn===O.endColumn)){var T=O.startLineNumber-this._startLineNumber,z=O.endLineNumber-this._startLineNumber;if(z<0){var I=z-T;this._startLineNumber-=I;return}var de=this._tokens.getMaxDeltaLine();if(!(T>=de+1)){if(T<0&&z>=de+1){this._startLineNumber=0,this._tokens.clear();return}if(T<0){var pe=-T;this._startLineNumber-=pe,this._tokens.acceptDeleteRange(O.startColumn-1,0,0,z,O.endColumn-1)}else this._tokens.acceptDeleteRange(0,T,O.startColumn-1,z,O.endColumn-1)}}}},{key:"_acceptInsertText",value:function(O,T,z,I,de){if(!(T===0&&z===0)){var pe=O.lineNumber-this._startLineNumber;if(pe<0){this._startLineNumber+=T;return}var fe=this._tokens.getMaxDeltaLine();pe>=fe+1||this._tokens.acceptInsertText(pe,O.column-1,T,z,I,de)}}}],[{key:"create",value:function(O,T){return new C(O,new ne(T))}}]),C}(),ne=function(){function C(x){Object(we.a)(this,C),this._tokens=x,this._tokenCount=x.length/4}return Object(w.a)(C,[{key:"toString",value:function(O){for(var T=[],z=0;z<this._tokenCount;z++)T.push("(".concat(this._getDeltaLine(z)+O,",").concat(this._getStartCharacter(z),"-").concat(this._getEndCharacter(z),")"));return"[".concat(T.join(","),"]")}},{key:"getMaxDeltaLine",value:function(){var O=this._getTokenCount();return O===0?-1:this._getDeltaLine(O-1)}},{key:"getRange",value:function(){var O=this._getTokenCount();if(O===0)return null;var T=this._getStartCharacter(0),z=this._getDeltaLine(O-1),I=this._getEndCharacter(O-1);return new Y.a(0,T+1,z,I+1)}},{key:"_getTokenCount",value:function(){return this._tokenCount}},{key:"_getDeltaLine",value:function(O){return this._tokens[4*O]}},{key:"_getStartCharacter",value:function(O){return this._tokens[4*O+1]}},{key:"_getEndCharacter",value:function(O){return this._tokens[4*O+2]}},{key:"isEmpty",value:function(){return this._getTokenCount()===0}},{key:"getLineTokens",value:function(O){for(var T=0,z=this._getTokenCount()-1;T<z;){var I=T+Math.floor((z-T)/2),de=this._getDeltaLine(I);if(de<O)T=I+1;else if(de>O)z=I-1;else{for(var pe=I;pe>T&&this._getDeltaLine(pe-1)===O;)pe--;for(var fe=I;fe<z&&this._getDeltaLine(fe+1)===O;)fe++;return new V(this._tokens.subarray(4*pe,4*fe+4))}}return this._getDeltaLine(T)===O?new V(this._tokens.subarray(4*T,4*T+4)):null}},{key:"clear",value:function(){this._tokenCount=0}},{key:"removeTokens",value:function(O,T,z,I){for(var de=this._tokens,pe=this._tokenCount,fe=0,ke=!1,A=0,P=0;P<pe;P++){var G=4*P,re=de[G],ae=de[G+1],Q=de[G+2],J=de[G+3];if((re>O||re===O&&Q>=T)&&(re<z||re===z&&ae<=I))ke=!0;else{if(fe===0&&(A=re),ke){var me=4*fe;de[me]=re-A,de[me+1]=ae,de[me+2]=Q,de[me+3]=J}fe++}}return this._tokenCount=fe,A}},{key:"split",value:function(O,T,z,I){for(var de=this._tokens,pe=this._tokenCount,fe=[],ke=[],A=fe,P=0,G=0,re=0;re<pe;re++){var ae=4*re,Q=de[ae],J=de[ae+1],me=de[ae+2],ge=de[ae+3];if(Q>O||Q===O&&me>=T){if(Q<z||Q===z&&J<=I)continue;A!==ke&&(A=ke,P=0,G=Q)}A[P++]=Q-G,A[P++]=J,A[P++]=me,A[P++]=ge}return[new C(new Uint32Array(fe)),new C(new Uint32Array(ke)),G]}},{key:"acceptDeleteRange",value:function(O,T,z,I,de){for(var pe=this._tokens,fe=this._tokenCount,ke=I-T,A=0,P=!1,G=0;G<fe;G++){var re=4*G,ae=pe[re],Q=pe[re+1],J=pe[re+2],me=pe[re+3];if(ae<T||ae===T&&J<=z){A++;continue}else if(ae===T&&Q<z)ae===I&&J>de?J-=de-z:J=z;else if(ae===T&&Q===z)if(ae===I&&J>de)J-=de-z;else{P=!0;continue}else if(ae<I||ae===I&&Q<de)if(ae===I&&J>de)ae=T,Q=z,J=Q+(J-de);else{P=!0;continue}else if(ae>I){if(ke===0&&!P){A=fe;break}ae-=ke}else if(ae===I&&Q>=de)O&&ae===0&&(Q+=O,J+=O),ae-=ke,Q-=de-z,J-=de-z;else throw new Error("Not possible!");var ge=4*A;pe[ge]=ae,pe[ge+1]=Q,pe[ge+2]=J,pe[ge+3]=me,A++}this._tokenCount=A}},{key:"acceptInsertText",value:function(O,T,z,I,de,pe){for(var fe=z===0&&I===1&&(pe>=48&&pe<=57||pe>=65&&pe<=90||pe>=97&&pe<=122),ke=this._tokens,A=this._tokenCount,P=0;P<A;P++){var G=4*P,re=ke[G],ae=ke[G+1],Q=ke[G+2];if(!(re<O||re===O&&Q<T)){if(re===O&&Q===T)if(fe)Q+=1;else continue;else if(re===O&&ae<T&&T<Q)z===0?Q+=I:Q=T;else{if(re===O&&ae===T&&fe)continue;if(re===O)if(re+=z,z===0)ae+=I,Q+=I;else{var J=Q-ae;ae=de+(ae-T),Q=ae+J}else re+=z}ke[G]=re,ke[G+1]=ae,ke[G+2]=Q}}}}]),C}(),V=function(){function C(x){Object(we.a)(this,C),this._tokens=x}return Object(w.a)(C,[{key:"getCount",value:function(){return this._tokens.length/4}},{key:"getStartCharacter",value:function(O){return this._tokens[4*O+1]}},{key:"getEndCharacter",value:function(O){return this._tokens[4*O+2]}},{key:"getMetadata",value:function(O){return this._tokens[4*O+3]}}]),C}(),B=a("CGdd"),F=function(C,x,O,T){var z=arguments.length,I=z<3?x:T===null?T=Object.getOwnPropertyDescriptor(x,O):T,de;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(C,x,O,T);else for(var pe=C.length-1;pe>=0;pe--)(de=C[pe])&&(I=(z<3?de(I):z>3?de(x,O,I):de(x,O))||I);return z>3&&I&&Object.defineProperty(x,O,I),I},W=function(C,x){return function(O,T){x(O,T,C)}},N=function(){function C(x,O,T,z){Object(we.a)(this,C),this._legend=x,this._themeService=O,this._languageService=T,this._logService=z,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new D}return Object(w.a)(C,[{key:"getMetadata",value:function(O,T,z){var I=this._languageService.languageIdCodec.encodeLanguageId(z),de=this._hashTable.get(O,T,I),pe;if(de)pe=de.metadata,this._logService.getLevel()===te.c.Trace&&this._logService.trace("SemanticTokensProviderStyling [CACHED] ".concat(O," / ").concat(T,": foreground ").concat(ve.a.getForeground(pe),", fontStyle ").concat(ve.a.getFontStyle(pe).toString(2)));else{var fe=this._legend.tokenTypes[O],ke=[];if(fe){for(var A=T,P=0;A>0&&P<this._legend.tokenModifiers.length;P++)A&1&&ke.push(this._legend.tokenModifiers[P]),A=A>>1;A>0&&this._logService.getLevel()===te.c.Trace&&(this._logService.trace("SemanticTokensProviderStyling: unknown token modifier index: ".concat(T.toString(2)," for legend: ").concat(JSON.stringify(this._legend.tokenModifiers))),ke.push("not-in-legend"));var G=this._themeService.getColorTheme().getTokenStyleMetadata(fe,ke,z);if(typeof G=="undefined")pe=2147483647;else{if(pe=0,typeof G.italic!="undefined"){var re=(G.italic?1:0)<<11;pe|=re|1}if(typeof G.bold!="undefined"){var ae=(G.bold?2:0)<<11;pe|=ae|2}if(typeof G.underline!="undefined"){var Q=(G.underline?4:0)<<11;pe|=Q|4}if(typeof G.strikethrough!="undefined"){var J=(G.strikethrough?8:0)<<11;pe|=J|8}if(G.foreground){var me=G.foreground<<15;pe|=me|16}pe===0&&(pe=2147483647)}}else this._logService.getLevel()===te.c.Trace&&this._logService.trace("SemanticTokensProviderStyling: unknown token type index: ".concat(O," for legend: ").concat(JSON.stringify(this._legend.tokenTypes))),pe=2147483647,fe="not-in-legend";this._hashTable.add(O,T,I,pe),this._logService.getLevel()===te.c.Trace&&this._logService.trace("SemanticTokensProviderStyling ".concat(O," (").concat(fe,") / ").concat(T," (").concat(ke.join(" "),"): foreground ").concat(ve.a.getForeground(pe),", fontStyle ").concat(ve.a.getFontStyle(pe).toString(2)))}return pe}},{key:"warnOverlappingSemanticTokens",value:function(O,T){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn("Overlapping semantic tokens detected at lineNumber ".concat(O,", column ").concat(T)))}},{key:"warnInvalidLengthSemanticTokens",value:function(O,T){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn("Semantic token with invalid length detected at lineNumber ".concat(O,", column ").concat(T)))}},{key:"warnInvalidEditStart",value:function(O,T,z,I,de){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn("Invalid semantic tokens edit detected (previousResultId: ".concat(O,", resultId: ").concat(T,") at edit #").concat(z,": The provided start offset ").concat(I," is outside the previous data (length ").concat(de,").")))}}]),C}();N=F([W(1,se.b),W(2,B.a),W(3,te.b)],N);function H(C,x,O){for(var T=C.data,z=C.data.length/5|0,I=Math.max(Math.ceil(z/1024),400),de=[],pe=0,fe=1,ke=0;pe<z;){var A=pe,P=Math.min(A+I,z);if(P<z){for(var G=P;G-1>A&&T[5*G]===0;)G--;if(G-1===A){for(var re=P;re+1<z&&T[5*re]===0;)re++;P=re}else P=G}for(var ae=new Uint32Array((P-A)*4),Q=0,J=0,me=0,ge=0;pe<P;){var L=5*pe,De=T[L],Ae=T[L+1],Oe=fe+De|0,Pe=De===0?ke+Ae|0:Ae,Ne=T[L+2],Fe=Pe+Ne|0,Xe=T[L+3],Et=T[L+4];if(Fe<=Pe)x.warnInvalidLengthSemanticTokens(Oe,Pe+1);else if(me===Oe&&ge>Pe)x.warnOverlappingSemanticTokens(Oe,Pe+1);else{var Ft=x.getMetadata(Xe,Et,O);Ft!==2147483647&&(J===0&&(J=Oe),ae[Q]=Oe-J,ae[Q+1]=Pe,ae[Q+2]=Fe,ae[Q+3]=Ft,Q+=4,me=Oe,ge=Fe)}fe=Oe,ke=Pe,pe++}Q!==ae.length&&(ae=ae.subarray(0,Q));var Ot=Z.create(J,ae);de.push(Ot)}return de}var d=Object(w.a)(function C(x,O,T,z){Object(we.a)(this,C),this.tokenTypeIndex=x,this.tokenModifierSet=O,this.languageId=T,this.metadata=z,this.next=null}),D=function(){function C(){Object(we.a)(this,C),this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength)}return Object(w.a)(C,[{key:"_hash2",value:function(O,T){return(O<<5)-O+T|0}},{key:"_hashFunc",value:function(O,T,z){return this._hash2(this._hash2(O,T),z)%this._currentLength}},{key:"get",value:function(O,T,z){for(var I=this._hashFunc(O,T,z),de=this._elements[I];de;){if(de.tokenTypeIndex===O&&de.tokenModifierSet===T&&de.languageId===z)return de;de=de.next}return null}},{key:"add",value:function(O,T,z,I){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){var de=this._elements;this._currentLengthIndex++,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength);var pe=Object(ce.a)(de),fe;try{for(pe.s();!(fe=pe.n()).done;)for(var ke=fe.value,A=ke;A;){var P=A.next;A.next=null,this._add(A),A=P}}catch(G){pe.e(G)}finally{pe.f()}}this._add(new d(O,T,z,I))}},{key:"_add",value:function(O){var T=this._hashFunc(O.tokenTypeIndex,O.tokenModifierSet,O.languageId);O.next=this._elements[T],this._elements[T]=O}}],[{key:"_nullOutEntries",value:function(O,T){for(var z=0;z<T;z++)O[z]=null}}]),C}();D._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},JYp7:function(mn,U,a){"use strict";a.d(U,"a",function(){return ve});var ce=a("jrin"),we=a("rAM+"),w=a("qLMh"),ve;(function(se){var te=Object(w.a)().mark(B),$=Object(w.a)().mark(C),_=Object(w.a)().mark(x),Y=Object(w.a)().mark(O),E=Object(w.a)().mark(z);function Z(de){return de&&typeof de=="object"&&typeof de[Symbol.iterator]=="function"}se.is=Z;var ne=Object.freeze([]);function V(){return ne}se.empty=V;function B(de){return Object(w.a)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,de;case 2:case"end":return fe.stop()}},te)}se.single=B;function F(de){return Z(de)?de:B(de)}se.wrap=F;function W(de){return de||ne}se.from=W;function N(de){return!de||de[Symbol.iterator]().next().done===!0}se.isEmpty=N;function H(de){return de[Symbol.iterator]().next().value}se.first=H;function d(de,pe){var fe=Object(we.a)(de),ke;try{for(fe.s();!(ke=fe.n()).done;){var A=ke.value;if(pe(A))return!0}}catch(P){fe.e(P)}finally{fe.f()}return!1}se.some=d;function D(de,pe){var fe=Object(we.a)(de),ke;try{for(fe.s();!(ke=fe.n()).done;){var A=ke.value;if(pe(A))return A}}catch(P){fe.e(P)}finally{fe.f()}}se.find=D;function C(de,pe){var fe,ke,A;return Object(w.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:fe=Object(we.a)(de),G.prev=1,fe.s();case 3:if((ke=fe.n()).done){G.next=10;break}if(A=ke.value,!pe(A)){G.next=8;break}return G.next=8,A;case 8:G.next=3;break;case 10:G.next=15;break;case 12:G.prev=12,G.t0=G.catch(1),fe.e(G.t0);case 15:return G.prev=15,fe.f(),G.finish(15);case 18:case"end":return G.stop()}},$,null,[[1,12,15,18]])}se.filter=C;function x(de,pe){var fe,ke,A,P;return Object(w.a)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:fe=0,ke=Object(we.a)(de),re.prev=2,ke.s();case 4:if((A=ke.n()).done){re.next=10;break}return P=A.value,re.next=8,pe(P,fe++);case 8:re.next=4;break;case 10:re.next=15;break;case 12:re.prev=12,re.t0=re.catch(2),ke.e(re.t0);case 15:return re.prev=15,ke.f(),re.finish(15);case 18:case"end":return re.stop()}},_,null,[[2,12,15,18]])}se.map=x;function O(){var de,pe,fe,ke,A,P,G,re,ae,Q=arguments;return Object(w.a)().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:for(de=Q.length,pe=new Array(de),fe=0;fe<de;fe++)pe[fe]=Q[fe];ke=0,A=pe;case 2:if(!(ke<A.length)){me.next=24;break}P=A[ke],G=Object(we.a)(P),me.prev=5,G.s();case 7:if((re=G.n()).done){me.next=13;break}return ae=re.value,me.next=11,ae;case 11:me.next=7;break;case 13:me.next=18;break;case 15:me.prev=15,me.t0=me.catch(5),G.e(me.t0);case 18:return me.prev=18,G.f(),me.finish(18);case 21:ke++,me.next=2;break;case 24:case"end":return me.stop()}},Y,null,[[5,15,18,21]])}se.concat=O;function T(de,pe,fe){var ke=fe,A=Object(we.a)(de),P;try{for(A.s();!(P=A.n()).done;){var G=P.value;ke=pe(ke,G)}}catch(re){A.e(re)}finally{A.f()}return ke}se.reduce=T;function z(de,pe){var fe,ke=arguments;return Object(w.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:fe=ke.length>2&&ke[2]!==void 0?ke[2]:de.length,pe<0&&(pe+=de.length),fe<0?fe+=de.length:fe>de.length&&(fe=de.length);case 3:if(!(pe<fe)){P.next=9;break}return P.next=6,de[pe];case 6:pe++,P.next=3;break;case 9:case"end":return P.stop()}},E)}se.slice=z;function I(de){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.POSITIVE_INFINITY,fe=[];if(pe===0)return[fe,de];for(var ke=de[Symbol.iterator](),A=0;A<pe;A++){var P=ke.next();if(P.done)return[fe,se.empty()];fe.push(P.value)}return[fe,Object(ce.a)({},Symbol.iterator,function(){return ke})]}se.consume=I})(ve||(ve={}))},K5yz:function(mn,U,a){},KBqF:function(mn,U,a){"use strict";a.d(U,"b",function(){return Bi}),a.d(U,"a",function(){return ua});var ce=a("rAM+"),we=a("qLMh"),w=a("fWQN"),ve=a("mtLc"),se=a("w4Tj"),te=a("oZsa"),$=a("yKVA"),_=a("879j"),Y=a("X+cX"),E=a("pmY6"),Z=a("/cxE"),ne=a("MI8n"),V=a("qj0h"),B=a("MNsG"),F=a("N0LK"),W="$initialize",N=!1;function H(pn){!B.m||(N||(N=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(pn.message))}var d=Object(ve.a)(function pn(Ln,ct,Mt,At){Object(w.a)(this,pn),this.vsWorker=Ln,this.req=ct,this.method=Mt,this.args=At,this.type=0}),D=Object(ve.a)(function pn(Ln,ct,Mt,At){Object(w.a)(this,pn),this.vsWorker=Ln,this.seq=ct,this.res=Mt,this.err=At,this.type=1}),C=Object(ve.a)(function pn(Ln,ct,Mt,At){Object(w.a)(this,pn),this.vsWorker=Ln,this.req=ct,this.eventName=Mt,this.arg=At,this.type=2}),x=Object(ve.a)(function pn(Ln,ct,Mt){Object(w.a)(this,pn),this.vsWorker=Ln,this.req=ct,this.event=Mt,this.type=3}),O=Object(ve.a)(function pn(Ln,ct){Object(w.a)(this,pn),this.vsWorker=Ln,this.req=ct,this.type=4}),T=function(){function pn(Ln){Object(w.a)(this,pn),this._workerId=-1,this._handler=Ln,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}return Object(ve.a)(pn,[{key:"setWorkerId",value:function(ct){this._workerId=ct}},{key:"sendMessage",value:function(ct,Mt){var At=this,zt=String(++this._lastSentReq);return new Promise(function($t,Un){At._pendingReplies[zt]={resolve:$t,reject:Un},At._send(new d(At._workerId,zt,ct,Mt))})}},{key:"listen",value:function(ct,Mt){var At=this,zt=null,$t=new ne.b({onWillAddFirstListener:function(){zt=String(++At._lastSentReq),At._pendingEmitters.set(zt,$t),At._send(new C(At._workerId,zt,ct,Mt))},onDidRemoveLastListener:function(){At._pendingEmitters.delete(zt),At._send(new O(At._workerId,zt)),zt=null}});return $t.event}},{key:"handleMessage",value:function(ct){!ct||!ct.vsWorker||this._workerId!==-1&&ct.vsWorker!==this._workerId||this._handleMessage(ct)}},{key:"_handleMessage",value:function(ct){switch(ct.type){case 1:return this._handleReplyMessage(ct);case 0:return this._handleRequestMessage(ct);case 2:return this._handleSubscribeEventMessage(ct);case 3:return this._handleEventMessage(ct);case 4:return this._handleUnsubscribeEventMessage(ct)}}},{key:"_handleReplyMessage",value:function(ct){if(!this._pendingReplies[ct.seq]){console.warn("Got reply to unknown seq");return}var Mt=this._pendingReplies[ct.seq];if(delete this._pendingReplies[ct.seq],ct.err){var At=ct.err;ct.err.$isError&&(At=new Error,At.name=ct.err.name,At.message=ct.err.message,At.stack=ct.err.stack),Mt.reject(At);return}Mt.resolve(ct.res)}},{key:"_handleRequestMessage",value:function(ct){var Mt=this,At=ct.req,zt=this._handler.handleMessage(ct.method,ct.args);zt.then(function($t){Mt._send(new D(Mt._workerId,At,$t,void 0))},function($t){$t.detail instanceof Error&&($t.detail=Object(Z.j)($t.detail)),Mt._send(new D(Mt._workerId,At,void 0,Object(Z.j)($t)))})}},{key:"_handleSubscribeEventMessage",value:function(ct){var Mt=this,At=ct.req,zt=this._handler.handleEvent(ct.eventName,ct.arg)(function($t){Mt._send(new x(Mt._workerId,At,$t))});this._pendingEvents.set(At,zt)}},{key:"_handleEventMessage",value:function(ct){if(!this._pendingEmitters.has(ct.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(ct.req).fire(ct.event)}},{key:"_handleUnsubscribeEventMessage",value:function(ct){if(!this._pendingEvents.has(ct.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(ct.req).dispose(),this._pendingEvents.delete(ct.req)}},{key:"_send",value:function(ct){var Mt=[];if(ct.type===0)for(var At=0;At<ct.args.length;At++)ct.args[At]instanceof ArrayBuffer&&Mt.push(ct.args[At]);else ct.type===1&&ct.res instanceof ArrayBuffer&&Mt.push(ct.res);this._handler.sendMessage(ct,Mt)}}]),pn}(),z=function(pn){Object($.a)(ct,pn);var Ln=Object(_.a)(ct);function ct(Mt,At,zt){var $t;Object(w.a)(this,ct),$t=Ln.call(this);var Un=null;$t._worker=$t._register(Mt.create("vs/base/common/worker/simpleWorker",function(ui){$t._protocol.handleMessage(ui)},function(ui){Un==null||Un(ui)})),$t._protocol=new T({sendMessage:function(Si,Ui){$t._worker.postMessage(Si,Ui)},handleMessage:function(Si,Ui){if(typeof zt[Si]!="function")return Promise.reject(new Error("Missing method "+Si+" on main thread host."));try{return Promise.resolve(zt[Si].apply(zt,Ui))}catch(Lr){return Promise.reject(Lr)}},handleEvent:function(Si,Ui){if(de(Si)){var Lr=zt[Si].call(zt,Ui);if(typeof Lr!="function")throw new Error("Missing dynamic event ".concat(Si," on main thread host."));return Lr}if(I(Si)){var or=zt[Si];if(typeof or!="function")throw new Error("Missing event ".concat(Si," on main thread host."));return or}throw new Error("Malformed event name ".concat(Si))}}),$t._protocol.setWorkerId($t._worker.getId());var Vn=null,Gn=globalThis.require;typeof Gn!="undefined"&&typeof Gn.getConfig=="function"?Vn=Gn.getConfig():typeof globalThis.requirejs!="undefined"&&(Vn=globalThis.requirejs.s.contexts._.config);var oi=Object(V.f)(zt);$t._onModuleLoaded=$t._protocol.sendMessage(W,[$t._worker.getId(),JSON.parse(JSON.stringify(Vn)),At,oi]);var _i=function(Si,Ui){return $t._request(Si,Ui)},Cn=function(Si,Ui){return $t._protocol.listen(Si,Ui)};return $t._lazyProxy=new Promise(function(ui,Si){Un=Si,$t._onModuleLoaded.then(function(Ui){ui(pe(Ui,_i,Cn))},function(Ui){Si(Ui),$t._onError("Worker failed to load "+At,Ui)})}),$t}return Object(ve.a)(ct,[{key:"getProxyObject",value:function(){return this._lazyProxy}},{key:"_request",value:function(At,zt){var $t=this;return new Promise(function(Un,Vn){$t._onModuleLoaded.then(function(){$t._protocol.sendMessage(At,zt).then(Un,Vn)},Vn)})}},{key:"_onError",value:function(At,zt){console.error(At),console.info(zt)}}]),ct}(E.a);function I(pn){return pn[0]==="o"&&pn[1]==="n"&&F.I(pn.charCodeAt(2))}function de(pn){return/^onDynamic/.test(pn)&&F.I(pn.charCodeAt(9))}function pe(pn,Ln,ct){var Mt=function(oi){return function(){var _i=Array.prototype.slice.call(arguments,0);return Ln(oi,_i)}},At=function(oi){return function(_i){return ct(oi,_i)}},zt={},$t=Object(ce.a)(pn),Un;try{for($t.s();!(Un=$t.n()).done;){var Vn=Un.value;if(de(Vn)){zt[Vn]=At(Vn);continue}if(I(Vn)){zt[Vn]=ct(Vn,void 0);continue}zt[Vn]=Mt(Vn)}}catch(Gn){$t.e(Gn)}finally{$t.f()}return zt}var fe=function(){function pn(Ln,ct){var Mt=this;Object(w.a)(this,pn),this._requestHandlerFactory=ct,this._requestHandler=null,this._protocol=new T({sendMessage:function(zt,$t){Ln(zt,$t)},handleMessage:function(zt,$t){return Mt._handleMessage(zt,$t)},handleEvent:function(zt,$t){return Mt._handleEvent(zt,$t)}})}return Object(ve.a)(pn,[{key:"onmessage",value:function(ct){this._protocol.handleMessage(ct)}},{key:"_handleMessage",value:function(ct,Mt){if(ct===W)return this.initialize(Mt[0],Mt[1],Mt[2],Mt[3]);if(!this._requestHandler||typeof this._requestHandler[ct]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+ct));try{return Promise.resolve(this._requestHandler[ct].apply(this._requestHandler,Mt))}catch(At){return Promise.reject(At)}}},{key:"_handleEvent",value:function(ct,Mt){if(!this._requestHandler)throw new Error("Missing requestHandler");if(de(ct)){var At=this._requestHandler[ct].call(this._requestHandler,Mt);if(typeof At!="function")throw new Error("Missing dynamic event ".concat(ct," on request handler."));return At}if(I(ct)){var zt=this._requestHandler[ct];if(typeof zt!="function")throw new Error("Missing event ".concat(ct," on request handler."));return zt}throw new Error("Malformed event name ".concat(ct))}},{key:"initialize",value:function(ct,Mt,At,zt){var $t=this;this._protocol.setWorkerId(ct);var Un=function(_i,Cn){return $t._protocol.sendMessage(_i,Cn)},Vn=function(_i,Cn){return $t._protocol.listen(_i,Cn)},Gn=pe(zt,Un,Vn);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(Gn),Promise.resolve(Object(V.f)(this._requestHandler))):(Mt&&(typeof Mt.baseUrl!="undefined"&&delete Mt.baseUrl,typeof Mt.paths!="undefined"&&typeof Mt.paths.vs!="undefined"&&delete Mt.paths.vs,typeof Mt.trustedTypesPolicy!==void 0&&delete Mt.trustedTypesPolicy,Mt.catchError=!0,globalThis.require.config(Mt)),new Promise(function(oi,_i){var Cn=globalThis.require;Cn([At],function(ui){if($t._requestHandler=ui.create(Gn),!$t._requestHandler){_i(new Error("No RequestHandler!"));return}oi(Object(V.f)($t._requestHandler))},_i)}))}}]),pn}();function ke(pn){return new fe(pn,null)}var A=a("c9Qy"),P=Object(A.a)("defaultWorkerFactory",{createScriptURL:function(Ln){return Ln}});function G(pn){var Ln=globalThis.MonacoEnvironment;if(Ln){if(typeof Ln.getWorker=="function")return Ln.getWorker("workerMain.js",pn);if(typeof Ln.getWorkerUrl=="function"){var ct=Ln.getWorkerUrl("workerMain.js",pn);return new Worker(P?P.createScriptURL(ct):ct,{name:pn})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function re(pn){return typeof pn.then=="function"}var ae=function(){function pn(Ln,ct,Mt,At,zt){Object(w.a)(this,pn),this.id=ct;var $t=G(Mt);re($t)?this.worker=$t:this.worker=Promise.resolve($t),this.postMessage(Ln,[]),this.worker.then(function(Un){Un.onmessage=function(Vn){At(Vn.data)},Un.onmessageerror=zt,typeof Un.addEventListener=="function"&&Un.addEventListener("error",zt)})}return Object(ve.a)(pn,[{key:"getId",value:function(){return this.id}},{key:"postMessage",value:function(ct,Mt){var At;(At=this.worker)===null||At===void 0||At.then(function(zt){return zt.postMessage(ct,Mt)})}},{key:"dispose",value:function(){var ct;(ct=this.worker)===null||ct===void 0||ct.then(function(Mt){return Mt.terminate()}),this.worker=null}}]),pn}(),Q=function(){function pn(Ln){Object(w.a)(this,pn),this._label=Ln,this._webWorkerFailedBeforeError=!1}return Object(ve.a)(pn,[{key:"create",value:function(ct,Mt,At){var zt=this,$t=++pn.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new ae(ct,$t,this._label||"anonymous"+$t,Mt,function(Un){H(Un),zt._webWorkerFailedBeforeError=Un,At(Un)})}}]),pn}();Q.LAST_WORKER_ID=0;var J=a("aokT"),me=a("AYRw"),ge=a("jrin"),L=a("Gw4z"),De=a("bY76"),Ae=a("cGHE"),Oe=a("T/V3"),Pe=function(){function pn(Ln,ct,Mt,At){Object(w.a)(this,pn),this._uri=Ln,this._lines=ct,this._eol=Mt,this._versionId=At,this._lineStarts=null,this._cachedTextValue=null}return Object(ve.a)(pn,[{key:"dispose",value:function(){this._lines.length=0}},{key:"version",get:function(){return this._versionId}},{key:"getText",value:function(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}},{key:"onEvents",value:function(ct){ct.eol&&ct.eol!==this._eol&&(this._eol=ct.eol,this._lineStarts=null);var Mt=ct.changes,At=Object(ce.a)(Mt),zt;try{for(At.s();!(zt=At.n()).done;){var $t=zt.value;this._acceptDeleteRange($t.range),this._acceptInsertText(new Ae.a($t.range.startLineNumber,$t.range.startColumn),$t.text)}}catch(Un){At.e(Un)}finally{At.f()}this._versionId=ct.versionId,this._cachedTextValue=null}},{key:"_ensureLineStarts",value:function(){if(!this._lineStarts){for(var ct=this._eol.length,Mt=this._lines.length,At=new Uint32Array(Mt),zt=0;zt<Mt;zt++)At[zt]=this._lines[zt].length+ct;this._lineStarts=new Oe.b(At)}}},{key:"_setLineText",value:function(ct,Mt){this._lines[ct]=Mt,this._lineStarts&&this._lineStarts.setValue(ct,this._lines[ct].length+this._eol.length)}},{key:"_acceptDeleteRange",value:function(ct){if(ct.startLineNumber===ct.endLineNumber){if(ct.startColumn===ct.endColumn)return;this._setLineText(ct.startLineNumber-1,this._lines[ct.startLineNumber-1].substring(0,ct.startColumn-1)+this._lines[ct.startLineNumber-1].substring(ct.endColumn-1));return}this._setLineText(ct.startLineNumber-1,this._lines[ct.startLineNumber-1].substring(0,ct.startColumn-1)+this._lines[ct.endLineNumber-1].substring(ct.endColumn-1)),this._lines.splice(ct.startLineNumber,ct.endLineNumber-ct.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(ct.startLineNumber,ct.endLineNumber-ct.startLineNumber)}},{key:"_acceptInsertText",value:function(ct,Mt){if(Mt.length!==0){var At=Object(F.S)(Mt);if(At.length===1){this._setLineText(ct.lineNumber-1,this._lines[ct.lineNumber-1].substring(0,ct.column-1)+At[0]+this._lines[ct.lineNumber-1].substring(ct.column-1));return}At[At.length-1]+=this._lines[ct.lineNumber-1].substring(ct.column-1),this._setLineText(ct.lineNumber-1,this._lines[ct.lineNumber-1].substring(0,ct.column-1)+At[0]);for(var zt=new Uint32Array(At.length-1),$t=1;$t<At.length;$t++)this._lines.splice(ct.lineNumber+$t-1,0,At[$t]),zt[$t-1]=At[$t].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(ct.lineNumber,zt)}}}]),pn}(),Ne=a("h5s8"),Fe=a("tJVT"),Xe=a("MXAL"),Et=function(){function pn(Ln,ct,Mt){Object(w.a)(this,pn);for(var At=new Uint8Array(Ln*ct),zt=0,$t=Ln*ct;zt<$t;zt++)At[zt]=Mt;this._data=At,this.rows=Ln,this.cols=ct}return Object(ve.a)(pn,[{key:"get",value:function(ct,Mt){return this._data[ct*this.cols+Mt]}},{key:"set",value:function(ct,Mt,At){this._data[ct*this.cols+Mt]=At}}]),pn}(),Ft=function(){function pn(Ln){Object(w.a)(this,pn);for(var ct=0,Mt=0,At=0,zt=Ln.length;At<zt;At++){var $t=Object(Fe.a)(Ln[At],3),Un=$t[0],Vn=$t[1],Gn=$t[2];Vn>ct&&(ct=Vn),Un>Mt&&(Mt=Un),Gn>Mt&&(Mt=Gn)}ct++,Mt++;for(var oi=new Et(Mt,ct,0),_i=0,Cn=Ln.length;_i<Cn;_i++){var ui=Object(Fe.a)(Ln[_i],3),Si=ui[0],Ui=ui[1],Lr=ui[2];oi.set(Si,Ui,Lr)}this._states=oi,this._maxCharCode=ct}return Object(ve.a)(pn,[{key:"nextState",value:function(ct,Mt){return Mt<0||Mt>=this._maxCharCode?0:this._states.get(ct,Mt)}}]),pn}(),Ot=null;function pt(){return Ot===null&&(Ot=new Ft([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Ot}var Lt=null;function et(){if(Lt===null){Lt=new Xe.a(0);for(var pn=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`,Ln=0;Ln<pn.length;Ln++)Lt.set(pn.charCodeAt(Ln),1);for(var ct=".,;:",Mt=0;Mt<ct.length;Mt++)Lt.set(ct.charCodeAt(Mt),2)}return Lt}var Vt=function(){function pn(){Object(w.a)(this,pn)}return Object(ve.a)(pn,null,[{key:"_createLink",value:function(ct,Mt,At,zt,$t){var Un=$t-1;do{var Vn=Mt.charCodeAt(Un),Gn=ct.get(Vn);if(Gn!==2)break;Un--}while(Un>zt);if(zt>0){var oi=Mt.charCodeAt(zt-1),_i=Mt.charCodeAt(Un);(oi===40&&_i===41||oi===91&&_i===93||oi===123&&_i===125)&&Un--}return{range:{startLineNumber:At,startColumn:zt+1,endLineNumber:At,endColumn:Un+2},url:Mt.substring(zt,Un+1)}}},{key:"computeLinks",value:function(ct){for(var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt(),At=et(),zt=[],$t=1,Un=ct.getLineCount();$t<=Un;$t++){for(var Vn=ct.getLineContent($t),Gn=Vn.length,oi=0,_i=0,Cn=0,ui=1,Si=!1,Ui=!1,Lr=!1,or=!1;oi<Gn;){var Er=!1,vr=Vn.charCodeAt(oi);if(ui===13){var on=void 0;switch(vr){case 40:Si=!0,on=0;break;case 41:on=Si?0:1;break;case 91:Lr=!0,Ui=!0,on=0;break;case 93:Lr=!1,on=Ui?0:1;break;case 123:or=!0,on=0;break;case 125:on=or?0:1;break;case 39:case 34:case 96:Cn===vr?on=1:Cn===39||Cn===34||Cn===96?on=0:on=1;break;case 42:on=Cn===42?1:0;break;case 124:on=Cn===124?1:0;break;case 32:on=Lr?0:1;break;default:on=At.get(vr)}on===1&&(zt.push(pn._createLink(At,Vn,$t,_i,oi)),Er=!0)}else if(ui===12){var Wn=void 0;vr===91?(Ui=!0,Wn=0):Wn=At.get(vr),Wn===1?Er=!0:ui=13}else ui=Mt.nextState(ui,vr),ui===0&&(Er=!0);Er&&(ui=1,Si=!1,Ui=!1,or=!1,_i=oi+1,Cn=vr),oi++}ui===13&&zt.push(pn._createLink(At,Vn,$t,_i,Gn))}return zt}}]),pn}();function Re(pn){return!pn||typeof pn.getLineCount!="function"||typeof pn.getLineContent!="function"?[]:Vt.computeLinks(pn)}var Ce=function(){function pn(){Object(w.a)(this,pn),this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return Object(ve.a)(pn,[{key:"navigateValueSet",value:function(ct,Mt,At,zt,$t){if(ct&&Mt){var Un=this.doNavigateValueSet(Mt,$t);if(Un)return{range:ct,value:Un}}if(At&&zt){var Vn=this.doNavigateValueSet(zt,$t);if(Vn)return{range:At,value:Vn}}return null}},{key:"doNavigateValueSet",value:function(ct,Mt){var At=this.numberReplace(ct,Mt);return At!==null?At:this.textReplace(ct,Mt)}},{key:"numberReplace",value:function(ct,Mt){var At=Math.pow(10,ct.length-(ct.lastIndexOf(".")+1)),zt=Number(ct),$t=parseFloat(ct);return!isNaN(zt)&&!isNaN($t)&&zt===$t?zt===0&&!Mt?null:(zt=Math.floor(zt*At),zt+=Mt?At:-At,String(zt/At)):null}},{key:"textReplace",value:function(ct,Mt){return this.valueSetsReplace(this._defaultValueSet,ct,Mt)}},{key:"valueSetsReplace",value:function(ct,Mt,At){for(var zt=null,$t=0,Un=ct.length;zt===null&&$t<Un;$t++)zt=this.valueSetReplace(ct[$t],Mt,At);return zt}},{key:"valueSetReplace",value:function(ct,Mt,At){var zt=ct.indexOf(Mt);return zt>=0?(zt+=At?1:-1,zt<0?zt=ct.length-1:zt%=ct.length,ct[zt]):null}}]),pn}();Ce.INSTANCE=new Ce;var ye=a("QkrF"),Te=a("5Y4S"),Qe=a("hcYv"),$e=a("jwCD"),ze=a("FWmy"),ot=a("VHWv"),He=3,Ge=function(){function pn(){Object(w.a)(this,pn)}return Object(ve.a)(pn,[{key:"computeDiff",value:function(ct,Mt,At){var zt,$t=new an(ct,Mt,{maxComputationTime:At.maxComputationTimeMs,shouldIgnoreTrimWhitespace:At.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}),Un=$t.computeDiff(),Vn=[],Gn=null,oi=Object(ce.a)(Un.changes),_i;try{for(oi.s();!(_i=oi.n()).done;){var Cn=_i.value,ui=void 0;Cn.originalEndLineNumber===0?ui=new ot.a(Cn.originalStartLineNumber+1,Cn.originalStartLineNumber+1):ui=new ot.a(Cn.originalStartLineNumber,Cn.originalEndLineNumber+1);var Si=void 0;Cn.modifiedEndLineNumber===0?Si=new ot.a(Cn.modifiedStartLineNumber+1,Cn.modifiedStartLineNumber+1):Si=new ot.a(Cn.modifiedStartLineNumber,Cn.modifiedEndLineNumber+1);var Ui=new $e.a(ui,Si,(zt=Cn.charChanges)===null||zt===void 0?void 0:zt.map(function(Lr){return new $e.c(new J.a(Lr.originalStartLineNumber,Lr.originalStartColumn,Lr.originalEndLineNumber,Lr.originalEndColumn),new J.a(Lr.modifiedStartLineNumber,Lr.modifiedStartColumn,Lr.modifiedEndLineNumber,Lr.modifiedEndColumn))}));Gn&&(Gn.modifiedRange.endLineNumberExclusive===Ui.modifiedRange.startLineNumber||Gn.originalRange.endLineNumberExclusive===Ui.originalRange.startLineNumber)&&(Ui=new $e.a(Gn.originalRange.join(Ui.originalRange),Gn.modifiedRange.join(Ui.modifiedRange),Gn.innerChanges&&Ui.innerChanges?Gn.innerChanges.concat(Ui.innerChanges):void 0),Vn.pop()),Vn.push(Ui),Gn=Ui}}catch(Lr){oi.e(Lr)}finally{oi.f()}return Object(ze.a)(function(){return Object(ze.c)(Vn,function(Lr,or){return or.originalRange.startLineNumber-Lr.originalRange.endLineNumberExclusive==or.modifiedRange.startLineNumber-Lr.modifiedRange.endLineNumberExclusive&&Lr.originalRange.endLineNumberExclusive<or.originalRange.startLineNumber&&Lr.modifiedRange.endLineNumberExclusive<or.modifiedRange.startLineNumber})}),new $e.b(Vn,Un.quitEarly)}}]),pn}();function Je(pn,Ln,ct,Mt){var At=new L.a(pn,Ln,ct);return At.ComputeDiff(Mt)}var ft=function(){function pn(Ln){Object(w.a)(this,pn);for(var ct=[],Mt=[],At=0,zt=Ln.length;At<zt;At++)ct[At]=In(Ln[At],1),Mt[At]=Dt(Ln[At],1);this.lines=Ln,this._startColumns=ct,this._endColumns=Mt}return Object(ve.a)(pn,[{key:"getElements",value:function(){for(var ct=[],Mt=0,At=this.lines.length;Mt<At;Mt++)ct[Mt]=this.lines[Mt].substring(this._startColumns[Mt]-1,this._endColumns[Mt]-1);return ct}},{key:"getStrictElement",value:function(ct){return this.lines[ct]}},{key:"getStartLineNumber",value:function(ct){return ct+1}},{key:"getEndLineNumber",value:function(ct){return ct+1}},{key:"createCharSequence",value:function(ct,Mt,At){for(var zt=[],$t=[],Un=[],Vn=0,Gn=Mt;Gn<=At;Gn++){for(var oi=this.lines[Gn],_i=ct?this._startColumns[Gn]:1,Cn=ct?this._endColumns[Gn]:oi.length+1,ui=_i;ui<Cn;ui++)zt[Vn]=oi.charCodeAt(ui-1),$t[Vn]=Gn+1,Un[Vn]=ui,Vn++;!ct&&Gn<At&&(zt[Vn]=10,$t[Vn]=Gn+1,Un[Vn]=oi.length+1,Vn++)}return new qt(zt,$t,Un)}}]),pn}(),qt=function(){function pn(Ln,ct,Mt){Object(w.a)(this,pn),this._charCodes=Ln,this._lineNumbers=ct,this._columns=Mt}return Object(ve.a)(pn,[{key:"toString",value:function(){var ct=this;return"["+this._charCodes.map(function(Mt,At){return(Mt===10?"\\n":String.fromCharCode(Mt))+"-(".concat(ct._lineNumbers[At],",").concat(ct._columns[At],")")}).join(", ")+"]"}},{key:"_assertIndex",value:function(ct,Mt){if(ct<0||ct>=Mt.length)throw new Error("Illegal index")}},{key:"getElements",value:function(){return this._charCodes}},{key:"getStartLineNumber",value:function(ct){return ct>0&&ct===this._lineNumbers.length?this.getEndLineNumber(ct-1):(this._assertIndex(ct,this._lineNumbers),this._lineNumbers[ct])}},{key:"getEndLineNumber",value:function(ct){return ct===-1?this.getStartLineNumber(ct+1):(this._assertIndex(ct,this._lineNumbers),this._charCodes[ct]===10?this._lineNumbers[ct]+1:this._lineNumbers[ct])}},{key:"getStartColumn",value:function(ct){return ct>0&&ct===this._columns.length?this.getEndColumn(ct-1):(this._assertIndex(ct,this._columns),this._columns[ct])}},{key:"getEndColumn",value:function(ct){return ct===-1?this.getStartColumn(ct+1):(this._assertIndex(ct,this._columns),this._charCodes[ct]===10?1:this._columns[ct]+1)}}]),pn}(),bt=function(){function pn(Ln,ct,Mt,At,zt,$t,Un,Vn){Object(w.a)(this,pn),this.originalStartLineNumber=Ln,this.originalStartColumn=ct,this.originalEndLineNumber=Mt,this.originalEndColumn=At,this.modifiedStartLineNumber=zt,this.modifiedStartColumn=$t,this.modifiedEndLineNumber=Un,this.modifiedEndColumn=Vn}return Object(ve.a)(pn,null,[{key:"createFromDiffChange",value:function(ct,Mt,At){var zt=Mt.getStartLineNumber(ct.originalStart),$t=Mt.getStartColumn(ct.originalStart),Un=Mt.getEndLineNumber(ct.originalStart+ct.originalLength-1),Vn=Mt.getEndColumn(ct.originalStart+ct.originalLength-1),Gn=At.getStartLineNumber(ct.modifiedStart),oi=At.getStartColumn(ct.modifiedStart),_i=At.getEndLineNumber(ct.modifiedStart+ct.modifiedLength-1),Cn=At.getEndColumn(ct.modifiedStart+ct.modifiedLength-1);return new pn(zt,$t,Un,Vn,Gn,oi,_i,Cn)}}]),pn}();function Bt(pn){if(pn.length<=1)return pn;for(var Ln=[pn[0]],ct=Ln[0],Mt=1,At=pn.length;Mt<At;Mt++){var zt=pn[Mt],$t=zt.originalStart-(ct.originalStart+ct.originalLength),Un=zt.modifiedStart-(ct.modifiedStart+ct.modifiedLength),Vn=Math.min($t,Un);Vn<He?(ct.originalLength=zt.originalStart+zt.originalLength-ct.originalStart,ct.modifiedLength=zt.modifiedStart+zt.modifiedLength-ct.modifiedStart):(Ln.push(zt),ct=zt)}return Ln}var rn=function(){function pn(Ln,ct,Mt,At,zt){Object(w.a)(this,pn),this.originalStartLineNumber=Ln,this.originalEndLineNumber=ct,this.modifiedStartLineNumber=Mt,this.modifiedEndLineNumber=At,this.charChanges=zt}return Object(ve.a)(pn,null,[{key:"createFromDiffResult",value:function(ct,Mt,At,zt,$t,Un,Vn){var Gn,oi,_i,Cn,ui=void 0;if(Mt.originalLength===0?(Gn=At.getStartLineNumber(Mt.originalStart)-1,oi=0):(Gn=At.getStartLineNumber(Mt.originalStart),oi=At.getEndLineNumber(Mt.originalStart+Mt.originalLength-1)),Mt.modifiedLength===0?(_i=zt.getStartLineNumber(Mt.modifiedStart)-1,Cn=0):(_i=zt.getStartLineNumber(Mt.modifiedStart),Cn=zt.getEndLineNumber(Mt.modifiedStart+Mt.modifiedLength-1)),Un&&Mt.originalLength>0&&Mt.originalLength<20&&Mt.modifiedLength>0&&Mt.modifiedLength<20&&$t()){var Si=At.createCharSequence(ct,Mt.originalStart,Mt.originalStart+Mt.originalLength-1),Ui=zt.createCharSequence(ct,Mt.modifiedStart,Mt.modifiedStart+Mt.modifiedLength-1);if(Si.getElements().length>0&&Ui.getElements().length>0){var Lr=Je(Si,Ui,$t,!0).changes;Vn&&(Lr=Bt(Lr)),ui=[];for(var or=0,Er=Lr.length;or<Er;or++)ui.push(bt.createFromDiffChange(Lr[or],Si,Ui))}}return new pn(Gn,oi,_i,Cn,ui)}}]),pn}(),an=function(){function pn(Ln,ct,Mt){Object(w.a)(this,pn),this.shouldComputeCharChanges=Mt.shouldComputeCharChanges,this.shouldPostProcessCharChanges=Mt.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=Mt.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=Mt.shouldMakePrettyDiff,this.originalLines=Ln,this.modifiedLines=ct,this.original=new ft(Ln),this.modified=new ft(ct),this.continueLineDiff=jn(Mt.maxComputationTime),this.continueCharDiff=jn(Mt.maxComputationTime===0?0:Math.min(Mt.maxComputationTime,5e3))}return Object(ve.a)(pn,[{key:"computeDiff",value:function(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};var ct=Je(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),Mt=ct.changes,At=ct.quitEarly;if(this.shouldIgnoreTrimWhitespace){for(var zt=[],$t=0,Un=Mt.length;$t<Un;$t++)zt.push(rn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Mt[$t],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:At,changes:zt}}for(var Vn=[],Gn=0,oi=0,_i=-1,Cn=Mt.length;_i<Cn;_i++){for(var ui=_i+1<Cn?Mt[_i+1]:null,Si=ui?ui.originalStart:this.originalLines.length,Ui=ui?ui.modifiedStart:this.modifiedLines.length;Gn<Si&&oi<Ui;){var Lr=this.originalLines[Gn],or=this.modifiedLines[oi];if(Lr!==or){{for(var Er=In(Lr,1),vr=In(or,1);Er>1&&vr>1;){var on=Lr.charCodeAt(Er-2),Wn=or.charCodeAt(vr-2);if(on!==Wn)break;Er--,vr--}(Er>1||vr>1)&&this._pushTrimWhitespaceCharChange(Vn,Gn+1,1,Er,oi+1,1,vr)}{for(var Zn=Dt(Lr,1),Li=Dt(or,1),_r=Lr.length+1,Nr=or.length+1;Zn<_r&&Li<Nr;){var $i=Lr.charCodeAt(Zn-1),Jr=Lr.charCodeAt(Li-1);if($i!==Jr)break;Zn++,Li++}(Zn<_r||Li<Nr)&&this._pushTrimWhitespaceCharChange(Vn,Gn+1,Zn,_r,oi+1,Li,Nr)}}Gn++,oi++}ui&&(Vn.push(rn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,ui,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),Gn+=ui.originalLength,oi+=ui.modifiedLength)}return{quitEarly:At,changes:Vn}}},{key:"_pushTrimWhitespaceCharChange",value:function(ct,Mt,At,zt,$t,Un,Vn){if(!this._mergeTrimWhitespaceCharChange(ct,Mt,At,zt,$t,Un,Vn)){var Gn=void 0;this.shouldComputeCharChanges&&(Gn=[new bt(Mt,At,Mt,zt,$t,Un,$t,Vn)]),ct.push(new rn(Mt,Mt,$t,$t,Gn))}}},{key:"_mergeTrimWhitespaceCharChange",value:function(ct,Mt,At,zt,$t,Un,Vn){var Gn=ct.length;if(Gn===0)return!1;var oi=ct[Gn-1];return oi.originalEndLineNumber===0||oi.modifiedEndLineNumber===0?!1:oi.originalEndLineNumber===Mt&&oi.modifiedEndLineNumber===$t?(this.shouldComputeCharChanges&&oi.charChanges&&oi.charChanges.push(new bt(Mt,At,Mt,zt,$t,Un,$t,Vn)),!0):oi.originalEndLineNumber+1===Mt&&oi.modifiedEndLineNumber+1===$t?(oi.originalEndLineNumber=Mt,oi.modifiedEndLineNumber=$t,this.shouldComputeCharChanges&&oi.charChanges&&oi.charChanges.push(new bt(Mt,At,Mt,zt,$t,Un,$t,Vn)),!0):!1}}]),pn}();function In(pn,Ln){var ct=F.u(pn);return ct===-1?Ln:ct+1}function Dt(pn,Ln){var ct=F.J(pn);return ct===-1?Ln:ct+2}function jn(pn){if(pn===0)return function(){return!0};var Ln=Date.now();return function(){return Date.now()-Ln<pn}}var _n=a("oBTY"),Nn=a("7/IO"),ei=function(){function pn(Ln,ct){Object(w.a)(this,pn),this.diffs=Ln,this.hitTimeout=ct}return Object(ve.a)(pn,null,[{key:"trivial",value:function(ct,Mt){return new pn([new kn(new Nn.a(0,ct.length),new Nn.a(0,Mt.length))],!1)}},{key:"trivialTimedOut",value:function(ct,Mt){return new pn([new kn(new Nn.a(0,ct.length),new Nn.a(0,Mt.length))],!0)}}]),pn}(),kn=function(){function pn(Ln,ct){Object(w.a)(this,pn),this.seq1Range=Ln,this.seq2Range=ct}return Object(ve.a)(pn,[{key:"reverse",value:function(){return new pn(this.seq2Range,this.seq1Range)}},{key:"toString",value:function(){return"".concat(this.seq1Range," <-> ").concat(this.seq2Range)}},{key:"join",value:function(ct){return new pn(this.seq1Range.join(ct.seq1Range),this.seq2Range.join(ct.seq2Range))}}]),pn}(),Pn=function(){function pn(){Object(w.a)(this,pn)}return Object(ve.a)(pn,[{key:"isValid",value:function(){return!0}}]),pn}();Pn.instance=new Pn;var qi=function(){function pn(Ln){if(Object(w.a)(this,pn),this.timeout=Ln,this.startTime=Date.now(),this.valid=!0,Ln<=0)throw new Z.a("timeout must be positive")}return Object(ve.a)(pn,[{key:"isValid",value:function(){var ct=Date.now()-this.startTime<this.timeout;if(!ct&&this.valid){this.valid=!1;debugger}return this.valid}}]),pn}(),gi=function(){function pn(Ln,ct){Object(w.a)(this,pn),this.width=Ln,this.height=ct,this.array=[],this.array=new Array(Ln*ct)}return Object(ve.a)(pn,[{key:"get",value:function(ct,Mt){return this.array[ct+Mt*this.width]}},{key:"set",value:function(ct,Mt,At){this.array[ct+Mt*this.width]=At}}]),pn}(),ir=function(){function pn(){Object(w.a)(this,pn)}return Object(ve.a)(pn,[{key:"compute",value:function(ct,Mt){var At=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pn.instance,zt=arguments.length>3?arguments[3]:void 0;if(ct.length===0||Mt.length===0)return ei.trivial(ct,Mt);for(var $t=new gi(ct.length,Mt.length),Un=new gi(ct.length,Mt.length),Vn=new gi(ct.length,Mt.length),Gn=0;Gn<ct.length;Gn++)for(var oi=0;oi<Mt.length;oi++){if(!At.isValid())return ei.trivialTimedOut(ct,Mt);var _i=Gn===0?0:$t.get(Gn-1,oi),Cn=oi===0?0:$t.get(Gn,oi-1),ui=void 0;ct.getElement(Gn)===Mt.getElement(oi)?(Gn===0||oi===0?ui=0:ui=$t.get(Gn-1,oi-1),Gn>0&&oi>0&&Un.get(Gn-1,oi-1)===3&&(ui+=Vn.get(Gn-1,oi-1)),ui+=zt?zt(Gn,oi):1):ui=-1;var Si=Math.max(_i,Cn,ui);if(Si===ui){var Ui=Gn>0&&oi>0?Vn.get(Gn-1,oi-1):0;Vn.set(Gn,oi,Ui+1),Un.set(Gn,oi,3)}else Si===_i?(Vn.set(Gn,oi,0),Un.set(Gn,oi,1)):Si===Cn&&(Vn.set(Gn,oi,0),Un.set(Gn,oi,2));$t.set(Gn,oi,Si)}var Lr=[],or=ct.length,Er=Mt.length;function vr(Zn,Li){(Zn+1!==or||Li+1!==Er)&&Lr.push(new kn(new Nn.a(Zn+1,or),new Nn.a(Li+1,Er))),or=Zn,Er=Li}for(var on=ct.length-1,Wn=Mt.length-1;on>=0&&Wn>=0;)Un.get(on,Wn)===3?(vr(on,Wn),on--,Wn--):Un.get(on,Wn)===1?on--:Wn--;return vr(-1,-1),Lr.reverse(),new ei(Lr,!1)}}]),pn}();function yi(pn,Ln,ct){var Mt=ct;return Mt=gr(pn,Ln,Mt),Mt=zn(pn,Ln,Mt),Mt}function mi(pn,Ln,ct){var Mt=[],At=Object(ce.a)(ct),zt;try{for(At.s();!(zt=At.n()).done;){var $t=zt.value,Un=Mt[Mt.length-1];if(!Un){Mt.push($t);continue}$t.seq1Range.start-Un.seq1Range.endExclusive<=2||$t.seq2Range.start-Un.seq2Range.endExclusive<=2?Mt[Mt.length-1]=new kn(Un.seq1Range.join($t.seq1Range),Un.seq2Range.join($t.seq2Range)):Mt.push($t)}}catch(Vn){At.e(Vn)}finally{At.f()}return Mt}function gr(pn,Ln,ct){var Mt=[];ct.length>0&&Mt.push(ct[0]);for(var At=1;At<ct.length;At++){var zt=Mt[Mt.length-1],$t=ct[At];if($t.seq1Range.isEmpty){for(var Un=!0,Vn=$t.seq1Range.start-zt.seq1Range.endExclusive,Gn=1;Gn<=Vn;Gn++)if(Ln.getElement($t.seq2Range.start-Gn)!==Ln.getElement($t.seq2Range.endExclusive-Gn)){Un=!1;break}if(Un){Mt[Mt.length-1]=new kn(zt.seq1Range,new Nn.a(zt.seq2Range.start,$t.seq2Range.endExclusive-Vn));continue}}Mt.push($t)}return Mt}function zn(pn,Ln,ct){if(!pn.getBoundaryScore||!Ln.getBoundaryScore)return ct;for(var Mt=0;Mt<ct.length;Mt++){var At=ct[Mt];if(At.seq1Range.isEmpty){var zt=Mt>0?ct[Mt-1].seq2Range.endExclusive:-1,$t=Mt+1<ct.length?ct[Mt+1].seq2Range.start:Ln.length;ct[Mt]=Ki(At,pn,Ln,$t,zt)}else if(At.seq2Range.isEmpty){var Un=Mt>0?ct[Mt-1].seq1Range.endExclusive:-1,Vn=Mt+1<ct.length?ct[Mt+1].seq1Range.start:pn.length;ct[Mt]=Ki(At.reverse(),Ln,pn,Vn,Un).reverse()}}return ct}function Ki(pn,Ln,ct,Mt,At){for(var zt=20,$t=1;pn.seq2Range.start-$t>At&&ct.getElement(pn.seq2Range.start-$t)===ct.getElement(pn.seq2Range.endExclusive-$t)&&$t<zt;)$t++;$t--;for(var Un=0;pn.seq2Range.start+Un<Mt&&ct.getElement(pn.seq2Range.start+Un)===ct.getElement(pn.seq2Range.endExclusive+Un)&&Un<zt;)Un++;if($t===0&&Un===0)return pn;for(var Vn=0,Gn=-1,oi=-$t;oi<=Un;oi++){var _i=pn.seq2Range.start+oi,Cn=pn.seq2Range.endExclusive+oi,ui=pn.seq1Range.start+oi,Si=Ln.getBoundaryScore(ui)+ct.getBoundaryScore(_i)+ct.getBoundaryScore(Cn);Si>Gn&&(Gn=Si,Vn=oi)}return Vn!==0?new kn(pn.seq1Range.delta(Vn),pn.seq2Range.delta(Vn)):pn}var Bn=function(){function pn(){Object(w.a)(this,pn)}return Object(ve.a)(pn,[{key:"compute",value:function(ct,Mt){var At=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pn.instance;if(ct.length===0||Mt.length===0)return ei.trivial(ct,Mt);function zt(Zn,Li){for(;Zn<ct.length&&Li<Mt.length&&ct.getElement(Zn)===Mt.getElement(Li);)Zn++,Li++;return Zn}var $t=0,Un=new dn;Un.set(0,zt(0,0));var Vn=new Jn;Vn.set(0,Un.get(0)===0?null:new ai(null,0,0,Un.get(0)));var Gn=0;e:for(;;)for($t++,Gn=-$t;Gn<=$t;Gn+=2){if(!At.isValid())return ei.trivialTimedOut(ct,Mt);var oi=Gn===$t?-1:Un.get(Gn+1),_i=Gn===-$t?-1:Un.get(Gn-1)+1,Cn=Math.min(Math.max(oi,_i),ct.length),ui=Cn-Gn,Si=zt(Cn,ui);Un.set(Gn,Si);var Ui=Cn===oi?Vn.get(Gn+1):Vn.get(Gn-1);if(Vn.set(Gn,Si!==Cn?new ai(Ui,Cn,ui,Si-Cn):Ui),Un.get(Gn)===ct.length&&Un.get(Gn)-Gn===Mt.length)break e}for(var Lr=Vn.get(Gn),or=[],Er=ct.length,vr=Mt.length;;){var on=Lr?Lr.x+Lr.length:0,Wn=Lr?Lr.y+Lr.length:0;if((on!==Er||Wn!==vr)&&or.push(new kn(new Nn.a(on,Er),new Nn.a(Wn,vr))),!Lr)break;Er=Lr.x,vr=Lr.y,Lr=Lr.prev}return or.reverse(),new ei(or,!1)}}]),pn}(),ai=Object(ve.a)(function pn(Ln,ct,Mt,At){Object(w.a)(this,pn),this.prev=Ln,this.x=ct,this.y=Mt,this.length=At}),dn=function(){function pn(){Object(w.a)(this,pn),this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}return Object(ve.a)(pn,[{key:"get",value:function(ct){return ct<0?(ct=-ct-1,this.negativeArr[ct]):this.positiveArr[ct]}},{key:"set",value:function(ct,Mt){if(ct<0){if(ct=-ct-1,ct>=this.negativeArr.length){var At=this.negativeArr;this.negativeArr=new Int32Array(At.length*2),this.negativeArr.set(At)}this.negativeArr[ct]=Mt}else{if(ct>=this.positiveArr.length){var zt=this.positiveArr;this.positiveArr=new Int32Array(zt.length*2),this.positiveArr.set(zt)}this.positiveArr[ct]=Mt}}}]),pn}(),Jn=function(){function pn(){Object(w.a)(this,pn),this.positiveArr=[],this.negativeArr=[]}return Object(ve.a)(pn,[{key:"get",value:function(ct){return ct<0?(ct=-ct-1,this.negativeArr[ct]):this.positiveArr[ct]}},{key:"set",value:function(ct,Mt){ct<0?(ct=-ct-1,this.negativeArr[ct]=Mt):this.positiveArr[ct]=Mt}}]),pn}(),Yt,Ct=Object(we.a)().mark(pi),Dn=function(){function pn(){Object(w.a)(this,pn),this.dynamicProgrammingDiffing=new ir,this.myersDiffingAlgorithm=new Bn}return Object(ve.a)(pn,[{key:"computeDiff",value:function(ct,Mt,At){var zt=this,$t=At.maxComputationTimeMs===0?Pn.instance:new qi(At.maxComputationTimeMs),Un=!At.ignoreTrimWhitespace,Vn=new Map;function Gn(Nr){var $i=Vn.get(Nr);return $i===void 0&&($i=Vn.size,Vn.set(Nr,$i)),$i}var oi=ct.map(function(Nr){return Gn(Nr.trim())}),_i=Mt.map(function(Nr){return Gn(Nr.trim())}),Cn=new Pt(oi,ct),ui=new Pt(_i,Mt),Si=function(){return Cn.length+ui.length<1500?zt.dynamicProgrammingDiffing.compute(Cn,ui,$t,function(Nr,$i){return ct[Nr]===Mt[$i]?Mt[$i].length===0?.1:1+Math.log(1+Mt[$i].length):.99}):zt.myersDiffingAlgorithm.compute(Cn,ui)}(),Ui=Si.diffs,Lr=Si.hitTimeout;Ui=yi(Cn,ui,Ui);var or=[],Er=function($i){if(!!Un)for(var Jr=0;Jr<$i;Jr++){var ja=vr+Jr,$r=on+Jr;if(ct[ja]!==Mt[$r]){var Ra=zt.refineDiff(ct,Mt,new kn(new Nn.a(ja,ja+1),new Nn.a($r,$r+1)),$t,Un),Ua=Object(ce.a)(Ra.mappings),Ka;try{for(Ua.s();!(Ka=Ua.n()).done;){var ws=Ka.value;or.push(ws)}}catch(Zr){Ua.e(Zr)}finally{Ua.f()}Ra.hitTimeout&&(Lr=!0)}}},vr=0,on=0,Wn=Object(ce.a)(Ui),Zn;try{var Li=function(){var $i=Zn.value;Object(ze.a)(function(){return $i.seq1Range.start-vr==$i.seq2Range.start-on});var Jr=$i.seq1Range.start-vr;Er(Jr),vr=$i.seq1Range.endExclusive,on=$i.seq2Range.endExclusive;var ja=zt.refineDiff(ct,Mt,$i,$t,Un);ja.hitTimeout&&(Lr=!0);var $r=Object(ce.a)(ja.mappings),Ra;try{for($r.s();!(Ra=$r.n()).done;){var Ua=Ra.value;or.push(Ua)}}catch(Ka){$r.e(Ka)}finally{$r.f()}};for(Wn.s();!(Zn=Wn.n()).done;)Li()}catch(Nr){Wn.e(Nr)}finally{Wn.f()}Er(ct.length-vr);var _r=yn(or,ct,Mt);return new $e.b(_r,Lr)}},{key:"refineDiff",value:function(ct,Mt,At,zt,$t){var Un=new Rn(ct,At.seq1Range,$t),Vn=new Rn(Mt,At.seq2Range,$t),Gn=Un.length+Vn.length<500?this.dynamicProgrammingDiffing.compute(Un,Vn,zt):this.myersDiffingAlgorithm.compute(Un,Vn,zt),oi=Gn.diffs;oi=yi(Un,Vn,oi),oi=gn(Un,Vn,oi),oi=mi(Un,Vn,oi);var _i=oi.map(function(Cn){return new $e.c(Un.translateRange(Cn.seq1Range),Vn.translateRange(Cn.seq2Range))});return{mappings:_i,hitTimeout:Gn.hitTimeout}}}]),pn}();function gn(pn,Ln,ct){var Mt=[],At=void 0;function zt(){if(!!At){var oi=At.s1Range.length-At.deleted,_i=At.s2Range.length-At.added;Math.max(At.deleted,At.added)+(At.count-1)>oi&&Mt.push(new kn(At.s1Range,At.s2Range)),At=void 0}}var $t=Object(ce.a)(ct),Un;try{var Vn=function(){var _i=Un.value;function Cn(or,Er){var vr,on,Wn,Zn;if(!At||!At.s1Range.containsRange(or)||!At.s2Range.containsRange(Er))if(At&&!(At.s1Range.endExclusive<or.start&&At.s2Range.endExclusive<Er.start)){var Li=Nn.a.tryCreate(At.s1Range.endExclusive,or.start),_r=Nn.a.tryCreate(At.s2Range.endExclusive,Er.start);At.deleted+=(vr=Li==null?void 0:Li.length)!==null&&vr!==void 0?vr:0,At.added+=(on=_r==null?void 0:_r.length)!==null&&on!==void 0?on:0,At.s1Range=At.s1Range.join(or),At.s2Range=At.s2Range.join(Er)}else zt(),At={added:0,deleted:0,count:0,s1Range:or,s2Range:Er};var Nr=or.intersect(_i.seq1Range),$i=Er.intersect(_i.seq2Range);At.count++,At.deleted+=(Wn=Nr==null?void 0:Nr.length)!==null&&Wn!==void 0?Wn:0,At.added+=(Zn=$i==null?void 0:$i.length)!==null&&Zn!==void 0?Zn:0}var ui=pn.findWordContaining(_i.seq1Range.start-1),Si=Ln.findWordContaining(_i.seq2Range.start-1),Ui=pn.findWordContaining(_i.seq1Range.endExclusive),Lr=Ln.findWordContaining(_i.seq2Range.endExclusive);ui&&Ui&&Si&&Lr&&ui.equals(Ui)&&Si.equals(Lr)?Cn(ui,Si):(ui&&Si&&Cn(ui,Si),Ui&&Lr&&Cn(Ui,Lr))};for($t.s();!(Un=$t.n()).done;)Vn()}catch(oi){$t.e(oi)}finally{$t.f()}zt();var Gn=en(ct,Mt);return Gn}function en(pn,Ln){for(var ct=[];pn.length>0||Ln.length>0;){var Mt=pn[0],At=Ln[0],zt=void 0;Mt&&(!At||Mt.seq1Range.start<At.seq1Range.start)?zt=pn.shift():zt=Ln.shift(),ct.length>0&&ct[ct.length-1].seq1Range.endExclusive>=zt.seq1Range.start?ct[ct.length-1]=ct[ct.length-1].join(zt):ct.push(zt)}return ct}function yn(pn,Ln,ct){var Mt=[],At=Object(ce.a)(pi(pn.map(function(Gn){return Qn(Gn,Ln,ct)}),function(Gn,oi){return Gn.originalRange.overlapOrTouch(oi.originalRange)||Gn.modifiedRange.overlapOrTouch(oi.modifiedRange)})),zt;try{for(At.s();!(zt=At.n()).done;){var $t=zt.value,Un=$t[0],Vn=$t[$t.length-1];Mt.push(new $e.a(Un.originalRange.join(Vn.originalRange),Un.modifiedRange.join(Vn.modifiedRange),$t.map(function(Gn){return Gn.innerChanges[0]})))}}catch(Gn){At.e(Gn)}finally{At.f()}return Object(ze.a)(function(){return Object(ze.c)(Mt,function(Gn,oi){return oi.originalRange.startLineNumber-Gn.originalRange.endLineNumberExclusive==oi.modifiedRange.startLineNumber-Gn.modifiedRange.endLineNumberExclusive&&Gn.originalRange.endLineNumberExclusive<oi.originalRange.startLineNumber&&Gn.modifiedRange.endLineNumberExclusive<oi.modifiedRange.startLineNumber})}),Mt}function Qn(pn,Ln,ct){var Mt=0,At=0;pn.modifiedRange.startColumn-1>=ct[pn.modifiedRange.startLineNumber-1].length&&pn.originalRange.startColumn-1>=Ln[pn.originalRange.startLineNumber-1].length&&(Mt=1),pn.modifiedRange.endColumn===1&&pn.originalRange.endColumn===1&&pn.originalRange.startLineNumber+Mt<=pn.originalRange.endLineNumber&&pn.modifiedRange.startLineNumber+Mt<=pn.modifiedRange.endLineNumber&&(At=-1);var zt=new ot.a(pn.originalRange.startLineNumber+Mt,pn.originalRange.endLineNumber+1+At),$t=new ot.a(pn.modifiedRange.startLineNumber+Mt,pn.modifiedRange.endLineNumber+1+At);return new $e.a(zt,$t,[pn])}function pi(pn,Ln){var ct,Mt,At,zt,$t;return Object(we.a)().wrap(function(Vn){for(;;)switch(Vn.prev=Vn.next){case 0:At=Object(ce.a)(pn),Vn.prev=1,At.s();case 3:if((zt=At.n()).done){Vn.next=16;break}if($t=zt.value,!(Mt!==void 0&&Ln(Mt,$t))){Vn.next=9;break}ct.push($t),Vn.next=13;break;case 9:if(!ct){Vn.next=12;break}return Vn.next=12,ct;case 12:ct=[$t];case 13:Mt=$t;case 14:Vn.next=3;break;case 16:Vn.next=21;break;case 18:Vn.prev=18,Vn.t0=Vn.catch(1),At.e(Vn.t0);case 21:return Vn.prev=21,At.f(),Vn.finish(21);case 24:if(!ct){Vn.next=27;break}return Vn.next=27,ct;case 27:case"end":return Vn.stop()}},Ct,null,[[1,18,21,24]])}var Pt=function(){function pn(Ln,ct){Object(w.a)(this,pn),this.trimmedHash=Ln,this.lines=ct}return Object(ve.a)(pn,[{key:"getElement",value:function(ct){return this.trimmedHash[ct]}},{key:"length",get:function(){return this.trimmedHash.length}},{key:"getBoundaryScore",value:function(ct){var Mt=ct===0?0:yt(this.lines[ct-1]),At=ct===this.lines.length?0:yt(this.lines[ct]);return 1e3-(Mt+At)}}]),pn}();function yt(pn){for(var Ln=0;Ln<pn.length&&(pn.charCodeAt(Ln)===32||pn.charCodeAt(Ln)===9);)Ln++;return Ln}var Rn=function(){function pn(Ln,ct,Mt){Object(w.a)(this,pn),this.lines=Ln,this.considerWhitespaceChanges=Mt,this.elements=[],this.firstCharOffsetByLineMinusOne=[],this.offsetByLine=[];var At=!1;ct.start>0&&ct.endExclusive>=Ln.length&&(ct=new Nn.a(ct.start-1,ct.endExclusive),At=!0),this.lineRange=ct;for(var zt=this.lineRange.start;zt<this.lineRange.endExclusive;zt++){var $t=Ln[zt],Un=0;if(At)Un=$t.length,$t="",At=!1;else if(!Mt){var Vn=$t.trimStart();Un=$t.length-Vn.length,$t=Vn.trimEnd()}this.offsetByLine.push(Un);for(var Gn=0;Gn<$t.length;Gn++)this.elements.push($t.charCodeAt(Gn));zt<Ln.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLineMinusOne[zt-this.lineRange.start]=this.elements.length)}this.offsetByLine.push(0)}return Object(ve.a)(pn,[{key:"toString",value:function(){return'Slice: "'.concat(this.text,'"')}},{key:"text",get:function(){return Object(_n.a)(this.elements).map(function(ct){return String.fromCharCode(ct)}).join("")}},{key:"getElement",value:function(ct){return this.elements[ct]}},{key:"length",get:function(){return this.elements.length}},{key:"getBoundaryScore",value:function(ct){var Mt=wt(ct>0?this.elements[ct-1]:-1),At=wt(ct<this.elements.length?this.elements[ct]:-1);if(Mt===6&&At===7)return 0;var zt=0;return Mt!==At&&(zt+=10,At===1&&(zt+=1)),zt+=Hi(Mt),zt+=Hi(At),zt}},{key:"translateOffset",value:function(ct){if(this.lineRange.isEmpty)return new Ae.a(this.lineRange.start+1,1);for(var Mt=0,At=this.firstCharOffsetByLineMinusOne.length;Mt<At;){var zt=Math.floor((Mt+At)/2);this.firstCharOffsetByLineMinusOne[zt]>ct?At=zt:Mt=zt+1}var $t=Mt===0?0:this.firstCharOffsetByLineMinusOne[Mt-1];return new Ae.a(this.lineRange.start+Mt+1,ct-$t+1+this.offsetByLine[Mt])}},{key:"translateRange",value:function(ct){return J.a.fromPositions(this.translateOffset(ct.start),this.translateOffset(ct.endExclusive))}},{key:"findWordContaining",value:function(ct){if(!(ct<0||ct>=this.elements.length)&&!!Sn(this.elements[ct])){for(var Mt=ct;Mt>0&&Sn(this.elements[Mt-1]);)Mt--;for(var At=ct;At<this.elements.length&&Sn(this.elements[At]);)At++;return new Nn.a(Mt,At)}}}]),pn}();function Sn(pn){return pn>=97&&pn<=122||pn>=65&&pn<=90||pn>=48&&pn<=57}var Ii=(Yt={},Object(ge.a)(Yt,0,0),Object(ge.a)(Yt,1,0),Object(ge.a)(Yt,2,0),Object(ge.a)(Yt,3,10),Object(ge.a)(Yt,4,2),Object(ge.a)(Yt,5,3),Object(ge.a)(Yt,6,10),Object(ge.a)(Yt,7,10),Yt);function Hi(pn){return Ii[pn]}function wt(pn){return pn===10?7:pn===13?6:Pi(pn)?5:pn>=97&&pn<=122?0:pn>=65&&pn<=90?1:pn>=48&&pn<=57?2:pn===-1?3:4}function Pi(pn){return pn===32||pn===9}var Ut={legacy:new Ge,advanced:new Dn},We=a("zrhQ");function Tn(pn){var Ln=[],ct=Object(ce.a)(pn),Mt;try{for(ct.s();!(Mt=ct.n()).done;){var At=Mt.value,zt=Number(At);(zt||zt===0&&At.replace(/\s/g,"")!=="")&&Ln.push(zt)}}catch($t){ct.e($t)}finally{ct.f()}return Ln}function ar(pn,Ln,ct,Mt){return{red:pn/255,blue:ct/255,green:Ln/255,alpha:Mt}}function Br(pn,Ln){var ct=Ln.index,Mt=Ln[0].length;if(!!ct){var At=pn.positionAt(ct),zt={startLineNumber:At.lineNumber,startColumn:At.column,endLineNumber:At.lineNumber,endColumn:At.column+Mt};return zt}}function Yr(pn,Ln){if(!!pn){var ct=We.a.Format.CSS.parseHex(Ln);if(!!ct)return{range:pn,color:ar(ct.rgba.r,ct.rgba.g,ct.rgba.b,ct.rgba.a)}}}function ti(pn,Ln,ct){if(!(!pn||Ln.length!==1)){var Mt=Ln[0],At=Mt.values(),zt=Tn(At);return{range:pn,color:ar(zt[0],zt[1],zt[2],ct?zt[3]:1)}}}function bi(pn,Ln,ct){if(!(!pn||Ln.length!==1)){var Mt=Ln[0],At=Mt.values(),zt=Tn(At),$t=new We.a(new We.b(zt[0],zt[1]/100,zt[2]/100,ct?zt[3]:1));return{range:pn,color:ar($t.rgba.r,$t.rgba.g,$t.rgba.b,$t.rgba.a)}}}function Kn(pn,Ln){return typeof pn=="string"?Object(_n.a)(pn.matchAll(Ln)):pn.findMatches(Ln)}function En(pn){var Ln=[],ct=/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm,Mt=Kn(pn,ct);if(Mt.length>0){var At=Object(ce.a)(Mt),zt;try{for(At.s();!(zt=At.n()).done;){var $t=zt.value,Un=$t.filter(function(Ui){return Ui!==void 0}),Vn=Un[1],Gn=Un[2];if(!!Gn){var oi=void 0;if(Vn==="rgb"){var _i=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;oi=ti(Br(pn,$t),Kn(Gn,_i),!1)}else if(Vn==="rgba"){var Cn=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;oi=ti(Br(pn,$t),Kn(Gn,Cn),!0)}else if(Vn==="hsl"){var ui=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;oi=bi(Br(pn,$t),Kn(Gn,ui),!1)}else if(Vn==="hsla"){var Si=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;oi=bi(Br(pn,$t),Kn(Gn,Si),!0)}else Vn==="#"&&(oi=Yr(Br(pn,$t),Vn+Gn));oi&&Ln.push(oi)}}}catch(Ui){At.e(Ui)}finally{At.f()}}return Ln}function Nt(pn){return!pn||typeof pn.getValue!="function"||typeof pn.positionAt!="function"?[]:En(pn)}var Gt=function(pn,Ln,ct,Mt){function At(zt){return zt instanceof ct?zt:new ct(function($t){$t(zt)})}return new(ct||(ct=Promise))(function(zt,$t){function Un(oi){try{Gn(Mt.next(oi))}catch(_i){$t(_i)}}function Vn(oi){try{Gn(Mt.throw(oi))}catch(_i){$t(_i)}}function Gn(oi){oi.done?zt(oi.value):At(oi.value).then(Un,Vn)}Gn((Mt=Mt.apply(pn,Ln||[])).next())})},mt=function(pn){Object($.a)(ct,pn);var Ln=Object(_.a)(ct);function ct(){return Object(w.a)(this,ct),Ln.apply(this,arguments)}return Object(ve.a)(ct,[{key:"uri",get:function(){return this._uri}},{key:"eol",get:function(){return this._eol}},{key:"getValue",value:function(){return this.getText()}},{key:"findMatches",value:function(At){for(var zt=[],$t=0;$t<this._lines.length;$t++){var Un=this._lines[$t],Vn=this.offsetAt(new Ae.a($t+1,1)),Gn=Un.matchAll(At),oi=Object(ce.a)(Gn),_i;try{for(oi.s();!(_i=oi.n()).done;){var Cn=_i.value;(Cn.index||Cn.index===0)&&(Cn.index=Cn.index+Vn),zt.push(Cn)}}catch(ui){oi.e(ui)}finally{oi.f()}}return zt}},{key:"getLinesContent",value:function(){return this._lines.slice(0)}},{key:"getLineCount",value:function(){return this._lines.length}},{key:"getLineContent",value:function(At){return this._lines[At-1]}},{key:"getWordAtPosition",value:function(At,zt){var $t=Object(Ne.d)(At.column,Object(Ne.c)(zt),this._lines[At.lineNumber-1],0);return $t?new J.a(At.lineNumber,$t.startColumn,At.lineNumber,$t.endColumn):null}},{key:"words",value:function(At){var zt=this._lines,$t=this._wordenize.bind(this),Un=0,Vn="",Gn=0,oi=[];return Object(ge.a)({},Symbol.iterator,Object(we.a)().mark(function _i(){var Cn;return Object(we.a)().wrap(function(Si){for(;;)switch(Si.prev=Si.next){case 0:if(!(Gn<oi.length)){Si.next=8;break}return Cn=Vn.substring(oi[Gn].start,oi[Gn].end),Gn+=1,Si.next=6,Cn;case 6:Si.next=16;break;case 8:if(!(Un<zt.length)){Si.next=15;break}Vn=zt[Un],oi=$t(Vn,At),Gn=0,Un+=1,Si.next=16;break;case 15:return Si.abrupt("break",18);case 16:Si.next=0;break;case 18:case"end":return Si.stop()}},_i)}))}},{key:"getLineWords",value:function(At,zt){var $t=this._lines[At-1],Un=this._wordenize($t,zt),Vn=[],Gn=Object(ce.a)(Un),oi;try{for(Gn.s();!(oi=Gn.n()).done;){var _i=oi.value;Vn.push({word:$t.substring(_i.start,_i.end),startColumn:_i.start+1,endColumn:_i.end+1})}}catch(Cn){Gn.e(Cn)}finally{Gn.f()}return Vn}},{key:"_wordenize",value:function(At,zt){var $t=[],Un;for(zt.lastIndex=0;(Un=zt.exec(At))&&Un[0].length!==0;)$t.push({start:Un.index,end:Un.index+Un[0].length});return $t}},{key:"getValueInRange",value:function(At){if(At=this._validateRange(At),At.startLineNumber===At.endLineNumber)return this._lines[At.startLineNumber-1].substring(At.startColumn-1,At.endColumn-1);var zt=this._eol,$t=At.startLineNumber-1,Un=At.endLineNumber-1,Vn=[];Vn.push(this._lines[$t].substring(At.startColumn-1));for(var Gn=$t+1;Gn<Un;Gn++)Vn.push(this._lines[Gn]);return Vn.push(this._lines[Un].substring(0,At.endColumn-1)),Vn.join(zt)}},{key:"offsetAt",value:function(At){return At=this._validatePosition(At),this._ensureLineStarts(),this._lineStarts.getPrefixSum(At.lineNumber-2)+(At.column-1)}},{key:"positionAt",value:function(At){At=Math.floor(At),At=Math.max(0,At),this._ensureLineStarts();var zt=this._lineStarts.getIndexOf(At),$t=this._lines[zt.index].length;return{lineNumber:1+zt.index,column:1+Math.min(zt.remainder,$t)}}},{key:"_validateRange",value:function(At){var zt=this._validatePosition({lineNumber:At.startLineNumber,column:At.startColumn}),$t=this._validatePosition({lineNumber:At.endLineNumber,column:At.endColumn});return zt.lineNumber!==At.startLineNumber||zt.column!==At.startColumn||$t.lineNumber!==At.endLineNumber||$t.column!==At.endColumn?{startLineNumber:zt.lineNumber,startColumn:zt.column,endLineNumber:$t.lineNumber,endColumn:$t.column}:At}},{key:"_validatePosition",value:function(At){if(!Ae.a.isIPosition(At))throw new Error("bad position");var zt=At.lineNumber,$t=At.column,Un=!1;if(zt<1)zt=1,$t=1,Un=!0;else if(zt>this._lines.length)zt=this._lines.length,$t=this._lines[zt-1].length+1,Un=!0;else{var Vn=this._lines[zt-1].length+1;$t<1?($t=1,Un=!0):$t>Vn&&($t=Vn,Un=!0)}return Un?{lineNumber:zt,column:$t}:At}}]),ct}(Pe),Ye=function(){function pn(Ln,ct){Object(w.a)(this,pn),this._host=Ln,this._models=Object.create(null),this._foreignModuleFactory=ct,this._foreignModule=null}return Object(ve.a)(pn,[{key:"dispose",value:function(){this._models=Object.create(null)}},{key:"_getModel",value:function(ct){return this._models[ct]}},{key:"_getModels",value:function(){var ct=this,Mt=[];return Object.keys(this._models).forEach(function(At){return Mt.push(ct._models[At])}),Mt}},{key:"acceptNewModel",value:function(ct){this._models[ct.url]=new mt(De.a.parse(ct.url),ct.lines,ct.EOL,ct.versionId)}},{key:"acceptModelChanged",value:function(ct,Mt){if(!!this._models[ct]){var At=this._models[ct];At.onEvents(Mt)}}},{key:"acceptRemovedModel",value:function(ct){!this._models[ct]||delete this._models[ct]}},{key:"computeUnicodeHighlights",value:function(ct,Mt,At){return Gt(this,void 0,void 0,Object(we.a)().mark(function zt(){var $t;return Object(we.a)().wrap(function(Vn){for(;;)switch(Vn.prev=Vn.next){case 0:if($t=this._getModel(ct),$t){Vn.next=3;break}return Vn.abrupt("return",{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0});case 3:return Vn.abrupt("return",Qe.a.computeUnicodeHighlights($t,Mt,At));case 4:case"end":return Vn.stop()}},zt,this)}))}},{key:"computeDiff",value:function(ct,Mt,At,zt){return Gt(this,void 0,void 0,Object(we.a)().mark(function $t(){var Un,Vn;return Object(we.a)().wrap(function(oi){for(;;)switch(oi.prev=oi.next){case 0:if(Un=this._getModel(ct),Vn=this._getModel(Mt),!(!Un||!Vn)){oi.next=4;break}return oi.abrupt("return",null);case 4:return oi.abrupt("return",pn.computeDiff(Un,Vn,At,zt));case 5:case"end":return oi.stop()}},$t,this)}))}},{key:"computeMoreMinimalEdits",value:function(ct,Mt,At){return Gt(this,void 0,void 0,Object(we.a)().mark(function zt(){var $t,Un,Vn,Gn,oi,_i,Cn,ui,Si,Ui,Lr,or,Er,vr,on,Wn,Zn,Li;return Object(we.a)().wrap(function(Nr){for(;;)switch(Nr.prev=Nr.next){case 0:if($t=this._getModel(ct),$t){Nr.next=3;break}return Nr.abrupt("return",Mt);case 3:Un=[],Vn=void 0,Mt=Mt.slice(0).sort(function($i,Jr){if($i.range&&Jr.range)return J.a.compareRangesUsingStarts($i.range,Jr.range);var ja=$i.range?0:1,$r=Jr.range?0:1;return ja-$r}),Gn=Object(ce.a)(Mt),Nr.prev=7,Gn.s();case 9:if((oi=Gn.n()).done){Nr.next=30;break}if(_i=oi.value,Cn=_i.range,ui=_i.text,Si=_i.eol,typeof Si=="number"&&(Vn=Si),!(J.a.isEmpty(Cn)&&!ui)){Nr.next=17;break}return Nr.abrupt("continue",28);case 17:if(Ui=$t.getValueInRange(Cn),ui=ui.replace(/\r\n|\n|\r/g,$t.eol),Ui!==ui){Nr.next=21;break}return Nr.abrupt("continue",28);case 21:if(!(Math.max(ui.length,Ui.length)>pn._diffLimit)){Nr.next=24;break}return Un.push({range:Cn,text:ui}),Nr.abrupt("continue",28);case 24:Lr=Object(L.b)(Ui,ui,At),or=$t.offsetAt(J.a.lift(Cn).getStartPosition()),Er=Object(ce.a)(Lr);try{for(Er.s();!(vr=Er.n()).done;)on=vr.value,Wn=$t.positionAt(or+on.originalStart),Zn=$t.positionAt(or+on.originalStart+on.originalLength),Li={text:ui.substr(on.modifiedStart,on.modifiedLength),range:{startLineNumber:Wn.lineNumber,startColumn:Wn.column,endLineNumber:Zn.lineNumber,endColumn:Zn.column}},$t.getValueInRange(Li.range)!==Li.text&&Un.push(Li)}catch($i){Er.e($i)}finally{Er.f()}case 28:Nr.next=9;break;case 30:Nr.next=35;break;case 32:Nr.prev=32,Nr.t0=Nr.catch(7),Gn.e(Nr.t0);case 35:return Nr.prev=35,Gn.f(),Nr.finish(35);case 38:return typeof Vn=="number"&&Un.push({eol:Vn,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),Nr.abrupt("return",Un);case 40:case"end":return Nr.stop()}},zt,this,[[7,32,35,38]])}))}},{key:"computeLinks",value:function(ct){return Gt(this,void 0,void 0,Object(we.a)().mark(function Mt(){var At;return Object(we.a)().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(At=this._getModel(ct),At){$t.next=3;break}return $t.abrupt("return",null);case 3:return $t.abrupt("return",Re(At));case 4:case"end":return $t.stop()}},Mt,this)}))}},{key:"computeDefaultDocumentColors",value:function(ct){return Gt(this,void 0,void 0,Object(we.a)().mark(function Mt(){var At;return Object(we.a)().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(At=this._getModel(ct),At){$t.next=3;break}return $t.abrupt("return",null);case 3:return $t.abrupt("return",Nt(At));case 4:case"end":return $t.stop()}},Mt,this)}))}},{key:"textualSuggest",value:function(ct,Mt,At,zt){return Gt(this,void 0,void 0,Object(we.a)().mark(function $t(){var Un,Vn,Gn,oi,_i,Cn,ui,Si,Ui,Lr;return Object(we.a)().wrap(function(Er){for(;;)switch(Er.prev=Er.next){case 0:Un=new Te.a(!0),Vn=new RegExp(At,zt),Gn=new Set,oi=Object(ce.a)(ct),Er.prev=4,oi.s();case 6:if((_i=oi.n()).done){Er.next=33;break}if(Cn=_i.value,ui=this._getModel(Cn),ui){Er.next=11;break}return Er.abrupt("continue",31);case 11:Si=Object(ce.a)(ui.words(Vn)),Er.prev=12,Si.s();case 14:if((Ui=Si.n()).done){Er.next=23;break}if(Lr=Ui.value,!(Lr===Mt||!isNaN(Number(Lr)))){Er.next=18;break}return Er.abrupt("continue",21);case 18:if(Gn.add(Lr),!(Gn.size>pn._suggestionsLimit)){Er.next=21;break}return Er.abrupt("break",33);case 21:Er.next=14;break;case 23:Er.next=28;break;case 25:Er.prev=25,Er.t0=Er.catch(12),Si.e(Er.t0);case 28:return Er.prev=28,Si.f(),Er.finish(28);case 31:Er.next=6;break;case 33:Er.next=38;break;case 35:Er.prev=35,Er.t1=Er.catch(4),oi.e(Er.t1);case 38:return Er.prev=38,oi.f(),Er.finish(38);case 41:return Er.abrupt("return",{words:Array.from(Gn),duration:Un.elapsed()});case 42:case"end":return Er.stop()}},$t,this,[[4,35,38,41],[12,25,28,31]])}))}},{key:"computeWordRanges",value:function(ct,Mt,At,zt){return Gt(this,void 0,void 0,Object(we.a)().mark(function $t(){var Un,Vn,Gn,oi,_i,Cn,ui,Si,Ui;return Object(we.a)().wrap(function(or){for(;;)switch(or.prev=or.next){case 0:if(Un=this._getModel(ct),Un){or.next=3;break}return or.abrupt("return",Object.create(null));case 3:Vn=new RegExp(At,zt),Gn=Object.create(null),oi=Mt.startLineNumber;case 6:if(!(oi<Mt.endLineNumber)){or.next=31;break}_i=Un.getLineWords(oi,Vn),Cn=Object(ce.a)(_i),or.prev=9,Cn.s();case 11:if((ui=Cn.n()).done){or.next=20;break}if(Si=ui.value,isNaN(Number(Si.word))){or.next=15;break}return or.abrupt("continue",18);case 15:Ui=Gn[Si.word],Ui||(Ui=[],Gn[Si.word]=Ui),Ui.push({startLineNumber:oi,startColumn:Si.startColumn,endLineNumber:oi,endColumn:Si.endColumn});case 18:or.next=11;break;case 20:or.next=25;break;case 22:or.prev=22,or.t0=or.catch(9),Cn.e(or.t0);case 25:return or.prev=25,Cn.f(),or.finish(25);case 28:oi++,or.next=6;break;case 31:return or.abrupt("return",Gn);case 32:case"end":return or.stop()}},$t,this,[[9,22,25,28]])}))}},{key:"navigateValueSet",value:function(ct,Mt,At,zt,$t){return Gt(this,void 0,void 0,Object(we.a)().mark(function Un(){var Vn,Gn,oi,_i,Cn,ui;return Object(we.a)().wrap(function(Ui){for(;;)switch(Ui.prev=Ui.next){case 0:if(Vn=this._getModel(ct),Vn){Ui.next=3;break}return Ui.abrupt("return",null);case 3:if(Gn=new RegExp(zt,$t),Mt.startColumn===Mt.endColumn&&(Mt={startLineNumber:Mt.startLineNumber,startColumn:Mt.startColumn,endLineNumber:Mt.endLineNumber,endColumn:Mt.endColumn+1}),oi=Vn.getValueInRange(Mt),_i=Vn.getWordAtPosition({lineNumber:Mt.startLineNumber,column:Mt.startColumn},Gn),_i){Ui.next=9;break}return Ui.abrupt("return",null);case 9:return Cn=Vn.getValueInRange(_i),ui=Ce.INSTANCE.navigateValueSet(Mt,oi,_i,Cn,At),Ui.abrupt("return",ui);case 12:case"end":return Ui.stop()}},Un,this)}))}},{key:"loadForeignModule",value:function(ct,Mt,At){var zt=this,$t=function(oi,_i){return zt._host.fhr(oi,_i)},Un=Object(V.b)(At,$t),Vn={host:Un,getMirrorModels:function(){return zt._getModels()}};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(Vn,Mt),Promise.resolve(Object(V.f)(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}},{key:"fmr",value:function(ct,Mt){if(!this._foreignModule||typeof this._foreignModule[ct]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+ct));try{return Promise.resolve(this._foreignModule[ct].apply(this._foreignModule,Mt))}catch(At){return Promise.reject(At)}}}],[{key:"computeDiff",value:function(ct,Mt,At,zt){var $t=zt==="advanced"?Ut.advanced:Ut.legacy,Un=ct.getLinesContent(),Vn=Mt.getLinesContent(),Gn=$t.computeDiff(Un,Vn,At),oi=Gn.changes.length>0?!1:this._modelsAreIdentical(ct,Mt);return{identical:oi,quitEarly:Gn.hitTimeout,changes:Gn.changes.map(function(_i){var Cn;return[_i.originalRange.startLineNumber,_i.originalRange.endLineNumberExclusive,_i.modifiedRange.startLineNumber,_i.modifiedRange.endLineNumberExclusive,(Cn=_i.innerChanges)===null||Cn===void 0?void 0:Cn.map(function(ui){return[ui.originalRange.startLineNumber,ui.originalRange.startColumn,ui.originalRange.endLineNumber,ui.originalRange.endColumn,ui.modifiedRange.startLineNumber,ui.modifiedRange.startColumn,ui.modifiedRange.endLineNumber,ui.modifiedRange.endColumn]})]})}}},{key:"_modelsAreIdentical",value:function(ct,Mt){var At=ct.getLineCount(),zt=Mt.getLineCount();if(At!==zt)return!1;for(var $t=1;$t<=At;$t++){var Un=ct.getLineContent($t),Vn=Mt.getLineContent($t);if(Un!==Vn)return!1}return!0}}]),pn}();Ye._diffLimit=1e5,Ye._suggestionsLimit=1e4;function vn(pn){return new Ye(pn,null)}typeof importScripts=="function"&&(globalThis.monaco=Object(ye.a)());var nt=a("lEqV"),Ze=a("db+f"),Zt=a("6OMU"),hn=a("09fa"),Ht=a("c0Ay"),lt=function(pn,Ln,ct,Mt){var At=arguments.length,zt=At<3?Ln:Mt===null?Mt=Object.getOwnPropertyDescriptor(Ln,ct):Mt,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")zt=Reflect.decorate(pn,Ln,ct,Mt);else for(var Un=pn.length-1;Un>=0;Un--)($t=pn[Un])&&(zt=(At<3?$t(zt):At>3?$t(Ln,ct,zt):$t(Ln,ct))||zt);return At>3&&zt&&Object.defineProperty(Ln,ct,zt),zt},si=function(pn,Ln){return function(ct,Mt){Ln(ct,Mt,pn)}},Oi=function(pn,Ln,ct,Mt){function At(zt){return zt instanceof ct?zt:new ct(function($t){$t(zt)})}return new(ct||(ct=Promise))(function(zt,$t){function Un(oi){try{Gn(Mt.next(oi))}catch(_i){$t(_i)}}function Vn(oi){try{Gn(Mt.throw(oi))}catch(_i){$t(_i)}}function Gn(oi){oi.done?zt(oi.value):At(oi.value).then(Un,Vn)}Gn((Mt=Mt.apply(pn,Ln||[])).next())})},Ji=60*1e3,Wi=5*60*1e3;function Yi(pn,Ln){var ct=pn.getModel(Ln);return!(!ct||ct.isTooLargeForSyncing())}var Bi=function(pn){Object($.a)(ct,pn);var Ln=Object(_.a)(ct);function ct(Mt,At,zt,$t,Un){var Vn;return Object(w.a)(this,ct),Vn=Ln.call(this),Vn._modelService=Mt,Vn._workerManager=Vn._register(new Gr(Vn._modelService,$t)),Vn._logService=zt,Vn._register(Un.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:function(oi,_i){return Yi(Vn._modelService,oi.uri)?Vn._workerManager.withWorker().then(function(Cn){return Cn.computeLinks(oi.uri)}).then(function(Cn){return Cn&&{links:Cn}}):Promise.resolve({links:[]})}})),Vn._register(Un.completionProvider.register("*",new Gi(Vn._workerManager,At,Vn._modelService,$t))),Vn}return Object(ve.a)(ct,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(ct.prototype),"dispose",this).call(this)}},{key:"canComputeUnicodeHighlights",value:function(At){return Yi(this._modelService,At)}},{key:"computedUnicodeHighlights",value:function(At,zt,$t){return this._workerManager.withWorker().then(function(Un){return Un.computedUnicodeHighlights(At,zt,$t)})}},{key:"computeDiff",value:function(At,zt,$t,Un){return Oi(this,void 0,void 0,Object(we.a)().mark(function Vn(){var Gn,oi;return Object(we.a)().wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:return Cn.next=2,this._workerManager.withWorker().then(function(ui){return ui.computeDiff(At,zt,$t,Un)});case 2:if(Gn=Cn.sent,Gn){Cn.next=5;break}return Cn.abrupt("return",null);case 5:return oi={identical:Gn.identical,quitEarly:Gn.quitEarly,changes:Gn.changes.map(function(ui){var Si;return new $e.a(new ot.a(ui[0],ui[1]),new ot.a(ui[2],ui[3]),(Si=ui[4])===null||Si===void 0?void 0:Si.map(function(Ui){return new $e.c(new J.a(Ui[0],Ui[1],Ui[2],Ui[3]),new J.a(Ui[4],Ui[5],Ui[6],Ui[7]))}))})},Cn.abrupt("return",oi);case 7:case"end":return Cn.stop()}},Vn,this)}))}},{key:"computeMoreMinimalEdits",value:function(At,zt){var $t=this,Un=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Object(Zt.s)(zt)){if(!Yi(this._modelService,At))return Promise.resolve(zt);var Vn=Te.a.create(!0),Gn=this._workerManager.withWorker().then(function(oi){return oi.computeMoreMinimalEdits(At,zt,Un)});return Gn.finally(function(){return $t._logService.trace("FORMAT#computeMoreMinimalEdits",At.toString(!0),Vn.elapsed())}),Promise.race([Gn,Object(Y.q)(1e3).then(function(){return zt})])}else return Promise.resolve(void 0)}},{key:"canNavigateValueSet",value:function(At){return Yi(this._modelService,At)}},{key:"navigateValueSet",value:function(At,zt,$t){return this._workerManager.withWorker().then(function(Un){return Un.navigateValueSet(At,zt,$t)})}},{key:"canComputeWordRanges",value:function(At){return Yi(this._modelService,At)}},{key:"computeWordRanges",value:function(At,zt){return this._workerManager.withWorker().then(function($t){return $t.computeWordRanges(At,zt)})}}]),ct}(E.a);Bi=lt([si(0,nt.a),si(1,Ze.a),si(2,hn.b),si(3,me.a),si(4,Ht.a)],Bi);var Gi=function(){function pn(Ln,ct,Mt,At){Object(w.a)(this,pn),this.languageConfigurationService=At,this._debugDisplayName="wordbasedCompletions",this._workerManager=Ln,this._configurationService=ct,this._modelService=Mt}return Object(ve.a)(pn,[{key:"provideCompletionItems",value:function(ct,Mt){return Oi(this,void 0,void 0,Object(we.a)().mark(function At(){var zt,$t,Un,Vn,Gn,oi,_i,Cn,ui,Si,Ui;return Object(we.a)().wrap(function(or){for(;;)switch(or.prev=or.next){case 0:if(zt=this._configurationService.getValue(ct.uri,Mt,"editor"),zt.wordBasedSuggestions){or.next=3;break}return or.abrupt("return",void 0);case 3:if($t=[],zt.wordBasedSuggestionsMode!=="currentDocument"){or.next=8;break}Yi(this._modelService,ct.uri)&&$t.push(ct.uri),or.next=26;break;case 8:Un=Object(ce.a)(this._modelService.getModels()),or.prev=9,Un.s();case 11:if((Vn=Un.n()).done){or.next=18;break}if(Gn=Vn.value,Yi(this._modelService,Gn.uri)){or.next=15;break}return or.abrupt("continue",16);case 15:Gn===ct?$t.unshift(Gn.uri):(zt.wordBasedSuggestionsMode==="allDocuments"||Gn.getLanguageId()===ct.getLanguageId())&&$t.push(Gn.uri);case 16:or.next=11;break;case 18:or.next=23;break;case 20:or.prev=20,or.t0=or.catch(9),Un.e(or.t0);case 23:return or.prev=23,Un.f(),or.finish(23);case 26:if($t.length!==0){or.next=28;break}return or.abrupt("return",void 0);case 28:return oi=this.languageConfigurationService.getLanguageConfiguration(ct.getLanguageId()).getWordDefinition(),_i=ct.getWordAtPosition(Mt),Cn=_i?new J.a(Mt.lineNumber,_i.startColumn,Mt.lineNumber,_i.endColumn):J.a.fromPositions(Mt),ui=Cn.setEndPosition(Mt.lineNumber,Mt.column),or.next=34,this._workerManager.withWorker();case 34:return Si=or.sent,or.next=37,Si.textualSuggest($t,_i==null?void 0:_i.word,oi);case 37:if(Ui=or.sent,Ui){or.next=40;break}return or.abrupt("return",void 0);case 40:return or.abrupt("return",{duration:Ui.duration,suggestions:Ui.words.map(function(Er){return{kind:18,label:Er,insertText:Er,range:{insert:ui,replace:Cn}}})});case 41:case"end":return or.stop()}},At,this,[[9,20,23,26]])}))}}]),pn}(),Gr=function(pn){Object($.a)(ct,pn);var Ln=Object(_.a)(ct);function ct(Mt,At){var zt;Object(w.a)(this,ct),zt=Ln.call(this),zt.languageConfigurationService=At,zt._modelService=Mt,zt._editorWorkerClient=null,zt._lastWorkerUsedTime=new Date().getTime();var $t=zt._register(new Y.e);return $t.cancelAndSet(function(){return zt._checkStopIdleWorker()},Math.round(Wi/2)),zt._register(zt._modelService.onModelRemoved(function(Un){return zt._checkStopEmptyWorker()})),zt}return Object(ve.a)(ct,[{key:"dispose",value:function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),Object(se.a)(Object(te.a)(ct.prototype),"dispose",this).call(this)}},{key:"_checkStopEmptyWorker",value:function(){if(!!this._editorWorkerClient){var At=this._modelService.getModels();At.length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}}},{key:"_checkStopIdleWorker",value:function(){if(!!this._editorWorkerClient){var At=new Date().getTime()-this._lastWorkerUsedTime;At>Wi&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}}},{key:"withWorker",value:function(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new ua(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}]),ct}(E.a),kr=function(pn){Object($.a)(ct,pn);var Ln=Object(_.a)(ct);function ct(Mt,At,zt){var $t;if(Object(w.a)(this,ct),$t=Ln.call(this),$t._syncedModels=Object.create(null),$t._syncedModelsLastUsedTime=Object.create(null),$t._proxy=Mt,$t._modelService=At,!zt){var Un=new Y.e;Un.cancelAndSet(function(){return $t._checkStopModelSync()},Math.round(Ji/2)),$t._register(Un)}return $t}return Object(ve.a)(ct,[{key:"dispose",value:function(){for(var At in this._syncedModels)Object(E.i)(this._syncedModels[At]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),Object(se.a)(Object(te.a)(ct.prototype),"dispose",this).call(this)}},{key:"ensureSyncedResources",value:function(At,zt){var $t=Object(ce.a)(At),Un;try{for($t.s();!(Un=$t.n()).done;){var Vn=Un.value,Gn=Vn.toString();this._syncedModels[Gn]||this._beginModelSync(Vn,zt),this._syncedModels[Gn]&&(this._syncedModelsLastUsedTime[Gn]=new Date().getTime())}}catch(oi){$t.e(oi)}finally{$t.f()}}},{key:"_checkStopModelSync",value:function(){var At=new Date().getTime(),zt=[];for(var $t in this._syncedModelsLastUsedTime){var Un=At-this._syncedModelsLastUsedTime[$t];Un>Ji&&zt.push($t)}for(var Vn=0,Gn=zt;Vn<Gn.length;Vn++){var oi=Gn[Vn];this._stopModelSync(oi)}}},{key:"_beginModelSync",value:function(At,zt){var $t=this,Un=this._modelService.getModel(At);if(!!Un&&!(!zt&&Un.isTooLargeForSyncing())){var Vn=At.toString();this._proxy.acceptNewModel({url:Un.uri.toString(),lines:Un.getLinesContent(),EOL:Un.getEOL(),versionId:Un.getVersionId()});var Gn=new E.c;Gn.add(Un.onDidChangeContent(function(oi){$t._proxy.acceptModelChanged(Vn.toString(),oi)})),Gn.add(Un.onWillDispose(function(){$t._stopModelSync(Vn)})),Gn.add(Object(E.l)(function(){$t._proxy.acceptRemovedModel(Vn)})),this._syncedModels[Vn]=Gn}}},{key:"_stopModelSync",value:function(At){var zt=this._syncedModels[At];delete this._syncedModels[At],delete this._syncedModelsLastUsedTime[At],Object(E.i)(zt)}}]),ct}(E.a),sa=function(){function pn(Ln){Object(w.a)(this,pn),this._instance=Ln,this._proxyObj=Promise.resolve(this._instance)}return Object(ve.a)(pn,[{key:"dispose",value:function(){this._instance.dispose()}},{key:"getProxyObject",value:function(){return this._proxyObj}}]),pn}(),Fr=function(){function pn(Ln){Object(w.a)(this,pn),this._workerClient=Ln}return Object(ve.a)(pn,[{key:"fhr",value:function(ct,Mt){return this._workerClient.fhr(ct,Mt)}}]),pn}(),ua=function(pn){Object($.a)(ct,pn);var Ln=Object(_.a)(ct);function ct(Mt,At,zt,$t){var Un;return Object(w.a)(this,ct),Un=Ln.call(this),Un.languageConfigurationService=$t,Un._disposed=!1,Un._modelService=Mt,Un._keepIdleModels=At,Un._workerFactory=new Q(zt),Un._worker=null,Un._modelManager=null,Un}return Object(ve.a)(ct,[{key:"fhr",value:function(At,zt){throw new Error("Not implemented!")}},{key:"_getOrCreateWorker",value:function(){if(!this._worker)try{this._worker=this._register(new z(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Fr(this)))}catch(At){H(At),this._worker=new sa(new Ye(new Fr(this),null))}return this._worker}},{key:"_getProxy",value:function(){var At=this;return this._getOrCreateWorker().getProxyObject().then(void 0,function(zt){return H(zt),At._worker=new sa(new Ye(new Fr(At),null)),At._getOrCreateWorker().getProxyObject()})}},{key:"_getOrCreateModelManager",value:function(At){return this._modelManager||(this._modelManager=this._register(new kr(At,this._modelService,this._keepIdleModels))),this._modelManager}},{key:"_withSyncedResources",value:function(At){var zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Oi(this,void 0,void 0,Object(we.a)().mark(function $t(){var Un=this;return Object(we.a)().wrap(function(Gn){for(;;)switch(Gn.prev=Gn.next){case 0:if(!this._disposed){Gn.next=2;break}return Gn.abrupt("return",Promise.reject(Object(Z.d)()));case 2:return Gn.abrupt("return",this._getProxy().then(function(oi){return Un._getOrCreateModelManager(oi).ensureSyncedResources(At,zt),oi}));case 3:case"end":return Gn.stop()}},$t,this)}))}},{key:"computedUnicodeHighlights",value:function(At,zt,$t){return this._withSyncedResources([At]).then(function(Un){return Un.computeUnicodeHighlights(At.toString(),zt,$t)})}},{key:"computeDiff",value:function(At,zt,$t,Un){return this._withSyncedResources([At,zt],!0).then(function(Vn){return Vn.computeDiff(At.toString(),zt.toString(),$t,Un)})}},{key:"computeMoreMinimalEdits",value:function(At,zt,$t){return this._withSyncedResources([At]).then(function(Un){return Un.computeMoreMinimalEdits(At.toString(),zt,$t)})}},{key:"computeLinks",value:function(At){return this._withSyncedResources([At]).then(function(zt){return zt.computeLinks(At.toString())})}},{key:"computeDefaultDocumentColors",value:function(At){return this._withSyncedResources([At]).then(function(zt){return zt.computeDefaultDocumentColors(At.toString())})}},{key:"textualSuggest",value:function(At,zt,$t){return Oi(this,void 0,void 0,Object(we.a)().mark(function Un(){var Vn,Gn,oi;return Object(we.a)().wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:return Cn.next=2,this._withSyncedResources(At);case 2:return Vn=Cn.sent,Gn=$t.source,oi=Object(F.O)($t),Cn.abrupt("return",Vn.textualSuggest(At.map(function(ui){return ui.toString()}),zt,Gn,oi));case 6:case"end":return Cn.stop()}},Un,this)}))}},{key:"computeWordRanges",value:function(At,zt){var $t=this;return this._withSyncedResources([At]).then(function(Un){var Vn=$t._modelService.getModel(At);if(!Vn)return Promise.resolve(null);var Gn=$t.languageConfigurationService.getLanguageConfiguration(Vn.getLanguageId()).getWordDefinition(),oi=Gn.source,_i=Object(F.O)(Gn);return Un.computeWordRanges(At.toString(),zt,oi,_i)})}},{key:"navigateValueSet",value:function(At,zt,$t){var Un=this;return this._withSyncedResources([At]).then(function(Vn){var Gn=Un._modelService.getModel(At);if(!Gn)return null;var oi=Un.languageConfigurationService.getLanguageConfiguration(Gn.getLanguageId()).getWordDefinition(),_i=oi.source,Cn=Object(F.O)(oi);return Vn.navigateValueSet(At.toString(),zt,$t,_i,Cn)})}},{key:"dispose",value:function(){Object(se.a)(Object(te.a)(ct.prototype),"dispose",this).call(this),this._disposed=!0}}]),ct}(E.a)},KIsX:function(mn,U,a){},KWsz:function(mn,U,a){},KgQ1:function(mn,U,a){},Krc3:function(mn,U,a){},KxFI:function(mn,U,a){},LCkn:function(mn,U,a){"use strict";a.d(U,"a",function(){return ve}),a.d(U,"c",function(){return se}),a.d(U,"e",function(){return te}),a.d(U,"d",function(){return $}),a.d(U,"b",function(){return _});var ce=a("fWQN"),we=a("mtLc"),w=a("gCVg"),ve=function(){function Y(E,Z){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object(ce.a)(this,Y),this._range=E,this._text=Z,this.insertsAutoWhitespace=ne}return Object(we.a)(Y,[{key:"getEditOperations",value:function(Z,ne){ne.addTrackedEditOperation(this._range,this._text)}},{key:"computeCursorState",value:function(Z,ne){var V=ne.getInverseEditOperations(),B=V[0].range;return w.a.fromPositions(B.getEndPosition())}}]),Y}(),se=function(){function Y(E,Z){Object(ce.a)(this,Y),this._range=E,this._text=Z}return Object(we.a)(Y,[{key:"getEditOperations",value:function(Z,ne){ne.addTrackedEditOperation(this._range,this._text)}},{key:"computeCursorState",value:function(Z,ne){var V=ne.getInverseEditOperations(),B=V[0].range;return w.a.fromRange(B,0)}}]),Y}(),te=function(){function Y(E,Z){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object(ce.a)(this,Y),this._range=E,this._text=Z,this.insertsAutoWhitespace=ne}return Object(we.a)(Y,[{key:"getEditOperations",value:function(Z,ne){ne.addTrackedEditOperation(this._range,this._text)}},{key:"computeCursorState",value:function(Z,ne){var V=ne.getInverseEditOperations(),B=V[0].range;return w.a.fromPositions(B.getStartPosition())}}]),Y}(),$=function(){function Y(E,Z,ne,V){var B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;Object(ce.a)(this,Y),this._range=E,this._text=Z,this._columnDeltaOffset=V,this._lineNumberDeltaOffset=ne,this.insertsAutoWhitespace=B}return Object(we.a)(Y,[{key:"getEditOperations",value:function(Z,ne){ne.addTrackedEditOperation(this._range,this._text)}},{key:"computeCursorState",value:function(Z,ne){var V=ne.getInverseEditOperations(),B=V[0].range;return w.a.fromPositions(B.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}]),Y}(),_=function(){function Y(E,Z,ne){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;Object(ce.a)(this,Y),this._range=E,this._text=Z,this._initialSelection=ne,this._forceMoveMarkers=V,this._selectionId=null}return Object(we.a)(Y,[{key:"getEditOperations",value:function(Z,ne){ne.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=ne.trackSelection(this._initialSelection)}},{key:"computeCursorState",value:function(Z,ne){return ne.getTrackedSelection(this._selectionId)}}]),Y}()},LLum:function(mn,U,a){"use strict";a.d(U,"a",function(){return V}),a.d(U,"b",function(){return B}),a.d(U,"d",function(){return N}),a.d(U,"c",function(){return H}),a.d(U,"e",function(){return d});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("cGHE"),se=a("aokT"),te=a("gCVg"),$=a("p1iI"),_=a("JLfW"),Y=a("QgJK"),E=function(){return!0},Z=function(){return!1},ne=function(C){return C===" "||C==="	"},V=function(){function D(C,x,O,T){Object(we.a)(this,D),this.languageConfigurationService=T,this._cursorMoveConfigurationBrand=void 0,this._languageId=C;var z=O.options,I=z.get(140),de=z.get(48);this.readOnly=z.get(88),this.tabSize=x.tabSize,this.indentSize=x.indentSize,this.insertSpaces=x.insertSpaces,this.stickyTabStops=z.get(112),this.lineHeight=de.lineHeight,this.typicalHalfwidthCharacterWidth=de.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(I.height/this.lineHeight)-2),this.useTabStops=z.get(124),this.wordSeparators=z.get(126),this.emptySelectionClipboard=z.get(35),this.copyWithSyntaxHighlighting=z.get(23),this.multiCursorMergeOverlapping=z.get(74),this.multiCursorPaste=z.get(76),this.multiCursorLimit=z.get(77),this.autoClosingBrackets=z.get(5),this.autoClosingQuotes=z.get(9),this.autoClosingDelete=z.get(7),this.autoClosingOvertype=z.get(8),this.autoSurround=z.get(12),this.autoIndent=z.get(10),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(C,this.autoClosingQuotes,!0),bracket:this._getShouldAutoClose(C,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(C).getAutoClosingPairs();var pe=this.languageConfigurationService.getLanguageConfiguration(C).getSurroundingPairs();if(pe){var fe=Object(ce.a)(pe),ke;try{for(fe.s();!(ke=fe.n()).done;){var A=ke.value;this.surroundingPairs[A.open]=A.close}}catch(P){fe.e(P)}finally{fe.f()}}}return Object(w.a)(D,[{key:"electricChars",get:function(){var x;if(!this._electricChars){this._electricChars={};var O=(x=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||x===void 0?void 0:x.getElectricCharacters();if(O){var T=Object(ce.a)(O),z;try{for(T.s();!(z=T.n()).done;){var I=z.value;this._electricChars[I]=!0}}catch(de){T.e(de)}finally{T.f()}}}return this._electricChars}},{key:"onElectricCharacter",value:function(x,O,T){var z=Object($.a)(O,T-1),I=this.languageConfigurationService.getLanguageConfiguration(z.languageId).electricCharacter;return I?I.onElectricCharacter(x,z,T-z.firstCharOffset):null}},{key:"normalizeIndentation",value:function(x){return Object(Y.a)(x,this.indentSize,this.insertSpaces)}},{key:"_getShouldAutoClose",value:function(x,O,T){switch(O){case"beforeWhitespace":return ne;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(x,T);case"always":return E;case"never":return Z}}},{key:"_getLanguageDefinedShouldAutoClose",value:function(x,O){var T=this.languageConfigurationService.getLanguageConfiguration(x).getAutoCloseBeforeSet(O);return function(z){return T.indexOf(z)!==-1}}},{key:"visibleColumnFromColumn",value:function(x,O){return _.a.visibleColumnFromColumn(x.getLineContent(O.lineNumber),O.column,this.tabSize)}},{key:"columnFromVisibleColumn",value:function(x,O,T){var z=_.a.columnFromVisibleColumn(x.getLineContent(O),T,this.tabSize),I=x.getLineMinColumn(O);if(z<I)return I;var de=x.getLineMaxColumn(O);return z>de?de:z}}],[{key:"shouldRecreate",value:function(x){return x.hasChanged(140)||x.hasChanged(126)||x.hasChanged(35)||x.hasChanged(74)||x.hasChanged(76)||x.hasChanged(77)||x.hasChanged(5)||x.hasChanged(9)||x.hasChanged(7)||x.hasChanged(8)||x.hasChanged(12)||x.hasChanged(124)||x.hasChanged(48)||x.hasChanged(88)}}]),D}(),B=function(){function D(C,x){Object(we.a)(this,D),this._cursorStateBrand=void 0,this.modelState=C,this.viewState=x}return Object(w.a)(D,[{key:"equals",value:function(x){return this.viewState.equals(x.viewState)&&this.modelState.equals(x.modelState)}}],[{key:"fromModelState",value:function(x){return new F(x)}},{key:"fromViewState",value:function(x){return new W(x)}},{key:"fromModelSelection",value:function(x){var O=te.a.liftSelection(x),T=new N(se.a.fromPositions(O.getSelectionStart()),0,0,O.getPosition(),0);return D.fromModelState(T)}},{key:"fromModelSelections",value:function(x){for(var O=[],T=0,z=x.length;T<z;T++)O[T]=this.fromModelSelection(x[T]);return O}}]),D}(),F=Object(w.a)(function D(C){Object(we.a)(this,D),this.modelState=C,this.viewState=null}),W=Object(w.a)(function D(C){Object(we.a)(this,D),this.modelState=null,this.viewState=C}),N=function(){function D(C,x,O,T,z){Object(we.a)(this,D),this.selectionStart=C,this.selectionStartKind=x,this.selectionStartLeftoverVisibleColumns=O,this.position=T,this.leftoverVisibleColumns=z,this._singleCursorStateBrand=void 0,this.selection=D._computeSelection(this.selectionStart,this.position)}return Object(w.a)(D,[{key:"equals",value:function(x){return this.selectionStartLeftoverVisibleColumns===x.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===x.leftoverVisibleColumns&&this.selectionStartKind===x.selectionStartKind&&this.position.equals(x.position)&&this.selectionStart.equalsRange(x.selectionStart)}},{key:"hasSelection",value:function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}},{key:"move",value:function(x,O,T,z){return x?new D(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new ve.a(O,T),z):new D(new se.a(O,T,O,T),0,z,new ve.a(O,T),z)}}],[{key:"_computeSelection",value:function(x,O){return x.isEmpty()||!O.isBeforeOrEqual(x.getStartPosition())?te.a.fromPositions(x.getStartPosition(),O):te.a.fromPositions(x.getEndPosition(),O)}}]),D}(),H=Object(w.a)(function D(C,x,O){Object(we.a)(this,D),this._editOperationResultBrand=void 0,this.type=C,this.commands=x,this.shouldPushStackElementBefore=O.shouldPushStackElementBefore,this.shouldPushStackElementAfter=O.shouldPushStackElementAfter});function d(D){return D==="'"||D==='"'||D==="`"}},LloX:function(mn,U,a){"use strict";a.d(U,"l",function(){return W}),a.d(U,"n",function(){return N}),a.d(U,"d",function(){return H}),a.d(U,"b",function(){return d}),a.d(U,"g",function(){return D}),a.d(U,"i",function(){return C}),a.d(U,"j",function(){return x}),a.d(U,"c",function(){return O}),a.d(U,"o",function(){return T}),a.d(U,"k",function(){return z}),a.d(U,"e",function(){return I}),a.d(U,"a",function(){return de}),a.d(U,"f",function(){return pe}),a.d(U,"h",function(){return fe}),a.d(U,"m",function(){return ke});var ce=a("fWQN"),we=a("mtLc"),w=a("Vhoy"),ve=a("bY76"),se=a("aokT"),te=a("w4Tj"),$=a("oZsa"),_=a("yKVA"),Y=a("879j"),E=a("qLMh"),Z=a("MI8n"),ne=a("pmY6"),V=function(A,P,G,re){function ae(Q){return Q instanceof G?Q:new G(function(J){J(Q)})}return new(G||(G=Promise))(function(Q,J){function me(De){try{L(re.next(De))}catch(Ae){J(Ae)}}function ge(De){try{L(re.throw(De))}catch(Ae){J(Ae)}}function L(De){De.done?Q(De.value):ae(De.value).then(me,ge)}L((re=re.apply(A,P||[])).next())})},B=function(){function A(){Object(ce.a)(this,A),this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new Z.b,this.onDidChange=this._onDidChange.event,this._colorMap=null}return Object(we.a)(A,[{key:"handleChange",value:function(G){this._onDidChange.fire({changedLanguages:G,changedColorMap:!1})}},{key:"register",value:function(G,re){var ae=this;return this._tokenizationSupports.set(G,re),this.handleChange([G]),Object(ne.l)(function(){ae._tokenizationSupports.get(G)===re&&(ae._tokenizationSupports.delete(G),ae.handleChange([G]))})}},{key:"get",value:function(G){return this._tokenizationSupports.get(G)||null}},{key:"registerFactory",value:function(G,re){var ae=this,Q;(Q=this._factories.get(G))===null||Q===void 0||Q.dispose();var J=new F(this,G,re);return this._factories.set(G,J),Object(ne.l)(function(){var me=ae._factories.get(G);!me||me!==J||(ae._factories.delete(G),me.dispose())})}},{key:"getOrCreate",value:function(G){return V(this,void 0,void 0,Object(E.a)().mark(function re(){var ae,Q;return Object(E.a)().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(ae=this.get(G),!ae){me.next=3;break}return me.abrupt("return",ae);case 3:if(Q=this._factories.get(G),!(!Q||Q.isResolved)){me.next=6;break}return me.abrupt("return",null);case 6:return me.next=8,Q.resolve();case 8:return me.abrupt("return",this.get(G));case 9:case"end":return me.stop()}},re,this)}))}},{key:"isResolved",value:function(G){var re=this.get(G);if(re)return!0;var ae=this._factories.get(G);return!!(!ae||ae.isResolved)}},{key:"setColorMap",value:function(G){this._colorMap=G,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}},{key:"getColorMap",value:function(){return this._colorMap}},{key:"getDefaultBackground",value:function(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}]),A}(),F=function(A){Object(_.a)(G,A);var P=Object(Y.a)(G);function G(re,ae,Q){var J;return Object(ce.a)(this,G),J=P.call(this),J._registry=re,J._languageId=ae,J._factory=Q,J._isDisposed=!1,J._resolvePromise=null,J._isResolved=!1,J}return Object(we.a)(G,[{key:"isResolved",get:function(){return this._isResolved}},{key:"dispose",value:function(){this._isDisposed=!0,Object(te.a)(Object($.a)(G.prototype),"dispose",this).call(this)}},{key:"resolve",value:function(){return V(this,void 0,void 0,Object(E.a)().mark(function ae(){return Object(E.a)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return this._resolvePromise||(this._resolvePromise=this._create()),J.abrupt("return",this._resolvePromise);case 2:case"end":return J.stop()}},ae,this)}))}},{key:"_create",value:function(){return V(this,void 0,void 0,Object(E.a)().mark(function ae(){var Q;return Object(E.a)().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,this._factory.tokenizationSupport;case 2:Q=me.sent,this._isResolved=!0,Q&&!this._isDisposed&&this._register(this._registry.register(this._languageId,Q));case 5:case"end":return me.stop()}},ae,this)}))}}]),G}(ne.a),W=function(){function A(P,G,re){Object(ce.a)(this,A),this.offset=P,this.type=G,this.language=re,this._tokenBrand=void 0}return Object(we.a)(A,[{key:"toString",value:function(){return"("+this.offset+", "+this.type+")"}}]),A}(),N=Object(we.a)(function A(P,G){Object(ce.a)(this,A),this.tokens=P,this.endState=G,this._tokenizationResultBrand=void 0}),H=Object(we.a)(function A(P,G){Object(ce.a)(this,A),this.tokens=P,this.endState=G,this._encodedTokenizationResultBrand=void 0}),d;(function(A){var P=new Map;P.set(0,w.a.symbolMethod),P.set(1,w.a.symbolFunction),P.set(2,w.a.symbolConstructor),P.set(3,w.a.symbolField),P.set(4,w.a.symbolVariable),P.set(5,w.a.symbolClass),P.set(6,w.a.symbolStruct),P.set(7,w.a.symbolInterface),P.set(8,w.a.symbolModule),P.set(9,w.a.symbolProperty),P.set(10,w.a.symbolEvent),P.set(11,w.a.symbolOperator),P.set(12,w.a.symbolUnit),P.set(13,w.a.symbolValue),P.set(15,w.a.symbolEnum),P.set(14,w.a.symbolConstant),P.set(15,w.a.symbolEnum),P.set(16,w.a.symbolEnumMember),P.set(17,w.a.symbolKeyword),P.set(27,w.a.symbolSnippet),P.set(18,w.a.symbolText),P.set(19,w.a.symbolColor),P.set(20,w.a.symbolFile),P.set(21,w.a.symbolReference),P.set(22,w.a.symbolCustomColor),P.set(23,w.a.symbolFolder),P.set(24,w.a.symbolTypeParameter),P.set(25,w.a.account),P.set(26,w.a.issues);function G(Q){var J=P.get(Q);return J||(console.info("No codicon found for CompletionItemKind "+Q),J=w.a.symbolProperty),J}A.toIcon=G;var re=new Map;re.set("method",0),re.set("function",1),re.set("constructor",2),re.set("field",3),re.set("variable",4),re.set("class",5),re.set("struct",6),re.set("interface",7),re.set("module",8),re.set("property",9),re.set("event",10),re.set("operator",11),re.set("unit",12),re.set("value",13),re.set("constant",14),re.set("enum",15),re.set("enum-member",16),re.set("enumMember",16),re.set("keyword",17),re.set("snippet",27),re.set("text",18),re.set("color",19),re.set("file",20),re.set("reference",21),re.set("customcolor",22),re.set("folder",23),re.set("type-parameter",24),re.set("typeParameter",24),re.set("account",25),re.set("issue",26);function ae(Q,J){var me=re.get(Q);return typeof me=="undefined"&&!J&&(me=9),me}A.fromString=ae})(d||(d={}));var D;(function(A){A[A.Automatic=0]="Automatic",A[A.Explicit=1]="Explicit"})(D||(D={}));var C=function(){function A(P,G,re,ae){Object(ce.a)(this,A),this.range=P,this.text=G,this.completionKind=re,this.isSnippetText=ae}return Object(we.a)(A,[{key:"equals",value:function(G){return se.a.lift(this.range).equalsRange(G.range)&&this.text===G.text&&this.completionKind===G.completionKind&&this.isSnippetText===G.isSnippetText}}]),A}(),x;(function(A){A[A.Invoke=1]="Invoke",A[A.TriggerCharacter=2]="TriggerCharacter",A[A.ContentChange=3]="ContentChange"})(x||(x={}));var O;(function(A){A[A.Text=0]="Text",A[A.Read=1]="Read",A[A.Write=2]="Write"})(O||(O={}));function T(A){return A&&ve.a.isUri(A.uri)&&se.a.isIRange(A.range)&&(se.a.isIRange(A.originSelectionRange)||se.a.isIRange(A.targetSelectionRange))}var z;(function(A){var P=new Map;P.set(0,w.a.symbolFile),P.set(1,w.a.symbolModule),P.set(2,w.a.symbolNamespace),P.set(3,w.a.symbolPackage),P.set(4,w.a.symbolClass),P.set(5,w.a.symbolMethod),P.set(6,w.a.symbolProperty),P.set(7,w.a.symbolField),P.set(8,w.a.symbolConstructor),P.set(9,w.a.symbolEnum),P.set(10,w.a.symbolInterface),P.set(11,w.a.symbolFunction),P.set(12,w.a.symbolVariable),P.set(13,w.a.symbolConstant),P.set(14,w.a.symbolString),P.set(15,w.a.symbolNumber),P.set(16,w.a.symbolBoolean),P.set(17,w.a.symbolArray),P.set(18,w.a.symbolObject),P.set(19,w.a.symbolKey),P.set(20,w.a.symbolNull),P.set(21,w.a.symbolEnumMember),P.set(22,w.a.symbolStruct),P.set(23,w.a.symbolEvent),P.set(24,w.a.symbolOperator),P.set(25,w.a.symbolTypeParameter);function G(re){var ae=P.get(re);return ae||(console.info("No codicon found for SymbolKind "+re),ae=w.a.symbolProperty),ae}A.toIcon=G})(z||(z={}));var I=function(){function A(P){Object(ce.a)(this,A),this.value=P}return Object(we.a)(A,null,[{key:"fromValue",value:function(G){switch(G){case"comment":return A.Comment;case"imports":return A.Imports;case"region":return A.Region}return new A(G)}}]),A}();I.Comment=new I("comment"),I.Imports=new I("imports"),I.Region=new I("region");var de;(function(A){function P(G){return!G||typeof G!="object"?!1:typeof G.id=="string"&&typeof G.title=="string"}A.is=P})(de||(de={}));var pe;(function(A){A[A.Type=1]="Type",A[A.Parameter=2]="Parameter"})(pe||(pe={}));var fe=function(){function A(P){Object(ce.a)(this,A),this.createSupport=P,this._tokenizationSupport=null}return Object(we.a)(A,[{key:"dispose",value:function(){this._tokenizationSupport&&this._tokenizationSupport.then(function(G){G&&G.dispose()})}},{key:"tokenizationSupport",get:function(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}]),A}(),ke=new B},Lx4V:function(mn,U,a){"use strict";a.d(U,"a",function(){return $}),a.d(U,"b",function(){return _});var ce=a("oBTY"),we=a("fWQN"),w=a("mtLc"),ve=a("6OMU"),se=a("pmY6"),te=a("ic2d"),$;(function(E){E[E.PRESERVE=0]="PRESERVE",E[E.LAST=1]="LAST"})($||($={}));var _={Quickaccess:"workbench.contributions.quickaccess"},Y=function(){function E(){Object(we.a)(this,E),this.providers=[],this.defaultProvider=void 0}return Object(w.a)(E,[{key:"registerQuickAccessProvider",value:function(ne){var V=this;return ne.prefix.length===0?this.defaultProvider=ne:this.providers.push(ne),this.providers.sort(function(B,F){return F.prefix.length-B.prefix.length}),Object(se.l)(function(){V.providers.splice(V.providers.indexOf(ne),1),V.defaultProvider===ne&&(V.defaultProvider=void 0)})}},{key:"getQuickAccessProviders",value:function(){return Object(ve.f)([this.defaultProvider].concat(Object(ce.a)(this.providers)))}},{key:"getQuickAccessProvider",value:function(ne){var V=ne&&this.providers.find(function(B){return ne.startsWith(B.prefix)})||void 0;return V||this.defaultProvider}}]),E}();te.a.add(_.Quickaccess,new Y)},M1Kb:function(mn,U,a){"use strict";a.d(U,"f",function(){return ve}),a.d(U,"c",function(){return se}),a.d(U,"e",function(){return te}),a.d(U,"d",function(){return $}),a.d(U,"h",function(){return _}),a.d(U,"b",function(){return Y}),a.d(U,"j",function(){return E}),a.d(U,"i",function(){return Z}),a.d(U,"g",function(){return ne}),a.d(U,"a",function(){return V}),a.d(U,"k",function(){return B});var ce=a("fWQN"),we=a("mtLc"),w=a("qj0h"),ve;(function(F){F[F.Left=1]="Left",F[F.Center=2]="Center",F[F.Right=4]="Right",F[F.Full=7]="Full"})(ve||(ve={}));var se;(function(F){F[F.Left=1]="Left",F[F.Right=2]="Right"})(se||(se={}));var te;(function(F){F[F.Inline=1]="Inline",F[F.Gutter=2]="Gutter"})(te||(te={}));var $;(function(F){F[F.Both=0]="Both",F[F.Right=1]="Right",F[F.Left=2]="Left",F[F.None=3]="None"})($||($={}));var _=function(){function F(W){Object(ce.a)(this,F),this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,W.tabSize|0),W.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,W.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=Boolean(W.insertSpaces),this.defaultEOL=W.defaultEOL|0,this.trimAutoWhitespace=Boolean(W.trimAutoWhitespace),this.bracketPairColorizationOptions=W.bracketPairColorizationOptions}return Object(we.a)(F,[{key:"originalIndentSize",get:function(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}},{key:"equals",value:function(N){return this.tabSize===N.tabSize&&this._indentSizeIsTabSize===N._indentSizeIsTabSize&&this.indentSize===N.indentSize&&this.insertSpaces===N.insertSpaces&&this.defaultEOL===N.defaultEOL&&this.trimAutoWhitespace===N.trimAutoWhitespace&&Object(w.e)(this.bracketPairColorizationOptions,N.bracketPairColorizationOptions)}},{key:"createChangeEvent",value:function(N){return{tabSize:this.tabSize!==N.tabSize,indentSize:this.indentSize!==N.indentSize,insertSpaces:this.insertSpaces!==N.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==N.trimAutoWhitespace}}}]),F}(),Y=Object(we.a)(function F(W,N){Object(ce.a)(this,F),this._findMatchBrand=void 0,this.range=W,this.matches=N});function E(F){return F&&typeof F.read=="function"}var Z=Object(we.a)(function F(W,N,H,d,D,C){Object(ce.a)(this,F),this.identifier=W,this.range=N,this.text=H,this.forceMoveMarkers=d,this.isAutoWhitespaceEdit=D,this._isTracked=C}),ne=Object(we.a)(function F(W,N,H){Object(ce.a)(this,F),this.regex=W,this.wordSeparators=N,this.simpleSearch=H}),V=Object(we.a)(function F(W,N,H){Object(ce.a)(this,F),this.reverseEdits=W,this.changes=N,this.trimAutoWhitespaceLineNumbers=H});function B(F){return!F.isTooLargeForSyncing()&&!F.isForSimpleWidget}},MD5Z:function(mn,U,a){"use strict";a.d(U,"d",function(){return Z}),a.d(U,"c",function(){return ne}),a.d(U,"e",function(){return V}),a.d(U,"a",function(){return B}),a.d(U,"Fc",function(){return N}),a.d(U,"mb",function(){return H}),a.d(U,"kb",function(){return D}),a.d(U,"nb",function(){return x}),a.d(U,"lb",function(){return O}),a.d(U,"w",function(){return T}),a.d(U,"b",function(){return z}),a.d(U,"Qc",function(){return pe}),a.d(U,"Wc",function(){return re}),a.d(U,"Vc",function(){return ae}),a.d(U,"rb",function(){return Q}),a.d(U,"tb",function(){return J}),a.d(U,"sb",function(){return me}),a.d(U,"pb",function(){return ge}),a.d(U,"ob",function(){return De}),a.d(U,"qb",function(){return Ae}),a.d(U,"xb",function(){return Pe}),a.d(U,"zb",function(){return Ne}),a.d(U,"yb",function(){return Fe}),a.d(U,"Ab",function(){return Xe}),a.d(U,"Cb",function(){return Et}),a.d(U,"Bb",function(){return Ft}),a.d(U,"ub",function(){return Ot}),a.d(U,"wb",function(){return pt}),a.d(U,"vb",function(){return Lt}),a.d(U,"Kc",function(){return et}),a.d(U,"Nc",function(){return Vt}),a.d(U,"Mc",function(){return Re}),a.d(U,"Lc",function(){return Ce}),a.d(U,"n",function(){return ye}),a.d(U,"s",function(){return Te}),a.d(U,"l",function(){return Qe}),a.d(U,"o",function(){return $e}),a.d(U,"m",function(){return ze}),a.d(U,"q",function(){return ot}),a.d(U,"p",function(){return He}),a.d(U,"r",function(){return Ge}),a.d(U,"f",function(){return Je}),a.d(U,"g",function(){return ft}),a.d(U,"Gc",function(){return qt}),a.d(U,"Ic",function(){return bt}),a.d(U,"Jc",function(){return Bt}),a.d(U,"Hc",function(){return rn}),a.d(U,"yc",function(){return an}),a.d(U,"H",function(){return Dt}),a.d(U,"G",function(){return jn}),a.d(U,"fb",function(){return Nn}),a.d(U,"eb",function(){return ei}),a.d(U,"U",function(){return Pn}),a.d(U,"T",function(){return qi}),a.d(U,"P",function(){return gi}),a.d(U,"F",function(){return mi}),a.d(U,"O",function(){return gr}),a.d(U,"gb",function(){return Bn}),a.d(U,"ib",function(){return ai}),a.d(U,"hb",function(){return dn}),a.d(U,"jb",function(){return Jn}),a.d(U,"zc",function(){return Yt}),a.d(U,"Ac",function(){return Ct}),a.d(U,"Ec",function(){return Dn}),a.d(U,"uc",function(){return gn}),a.d(U,"tc",function(){return en}),a.d(U,"Db",function(){return yn}),a.d(U,"Gb",function(){return Qn}),a.d(U,"Eb",function(){return pi}),a.d(U,"Fb",function(){return Pt}),a.d(U,"bb",function(){return yt}),a.d(U,"cb",function(){return Rn}),a.d(U,"S",function(){return Sn}),a.d(U,"db",function(){return Ii}),a.d(U,"I",function(){return wt}),a.d(U,"K",function(){return Pi}),a.d(U,"M",function(){return Ut}),a.d(U,"J",function(){return We}),a.d(U,"L",function(){return Tn}),a.d(U,"N",function(){return ar}),a.d(U,"Q",function(){return Kn}),a.d(U,"R",function(){return Nt}),a.d(U,"E",function(){return mt}),a.d(U,"W",function(){return Ye}),a.d(U,"V",function(){return vn}),a.d(U,"ab",function(){return nt}),a.d(U,"Z",function(){return Ze}),a.d(U,"Y",function(){return Zt}),a.d(U,"X",function(){return hn}),a.d(U,"x",function(){return si}),a.d(U,"y",function(){return Oi}),a.d(U,"A",function(){return Ji}),a.d(U,"D",function(){return Wi}),a.d(U,"B",function(){return kr}),a.d(U,"C",function(){return sa}),a.d(U,"z",function(){return Ln}),a.d(U,"Qb",function(){return Mt}),a.d(U,"Rb",function(){return At}),a.d(U,"Tb",function(){return zt}),a.d(U,"Pb",function(){return $t}),a.d(U,"Hb",function(){return Un}),a.d(U,"Ib",function(){return Vn}),a.d(U,"Jb",function(){return Gn}),a.d(U,"Zb",function(){return oi}),a.d(U,"ac",function(){return _i}),a.d(U,"bc",function(){return Cn}),a.d(U,"Xb",function(){return ui}),a.d(U,"Yb",function(){return Si}),a.d(U,"Vb",function(){return Ui}),a.d(U,"Wb",function(){return Lr}),a.d(U,"Kb",function(){return or}),a.d(U,"Ub",function(){return Er}),a.d(U,"Sb",function(){return vr}),a.d(U,"Lb",function(){return Li}),a.d(U,"Nb",function(){return _r}),a.d(U,"Mb",function(){return Nr}),a.d(U,"Ob",function(){return $i}),a.d(U,"Uc",function(){return $r}),a.d(U,"Tc",function(){return Ra}),a.d(U,"Oc",function(){return Ua}),a.d(U,"Pc",function(){return Ka}),a.d(U,"t",function(){return Zr}),a.d(U,"v",function(){return Go}),a.d(U,"u",function(){return lo}),a.d(U,"Cc",function(){return la}),a.d(U,"Dc",function(){return La}),a.d(U,"Bc",function(){return Ro}),a.d(U,"dc",function(){return $o}),a.d(U,"ec",function(){return Rt}),a.d(U,"cc",function(){return tt}),a.d(U,"hc",function(){return _e}),a.d(U,"fc",function(){return ee}),a.d(U,"gc",function(){return j}),a.d(U,"ic",function(){return k}),a.d(U,"Rc",function(){return K}),a.d(U,"k",function(){return un}),a.d(U,"i",function(){return ln}),a.d(U,"j",function(){return nn}),a.d(U,"h",function(){return bn}),a.d(U,"rc",function(){return Vo}),a.d(U,"sc",function(){return js}),a.d(U,"lc",function(){return Qo}),a.d(U,"oc",function(){return Ho}),a.d(U,"nc",function(){return us}),a.d(U,"kc",function(){return go}),a.d(U,"pc",function(){return Uo}),a.d(U,"jc",function(){return Yo}),a.d(U,"mc",function(){return zo}),a.d(U,"vc",function(){return Is}),a.d(U,"xc",function(){return hl}),a.d(U,"wc",function(){return Ks}),a.d(U,"Sc",function(){return ra}),a.d(U,"qc",function(){return Kl});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("X+cX"),se=a("zrhQ"),te=a("MI8n"),$=a("FWmy"),_=a("3/fG"),Y=a("3Rsk"),E=a("ic2d");function Z(oa){return"--vscode-".concat(oa.replace(/\./g,"-"))}function ne(oa){return"var(".concat(Z(oa),")")}function V(oa,Wa){return"var(".concat(Z(oa),", ").concat(Wa,")")}var B={ColorContribution:"base.contributions.colors"},F=function(){function oa(){Object(we.a)(this,oa),this._onDidChangeSchema=new te.b,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}return Object(w.a)(oa,[{key:"registerColor",value:function(Co,es,To){var cs=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Gs=arguments.length>4?arguments[4]:void 0,Vs={id:Co,description:To,defaults:es,needsTransparency:cs,deprecationMessage:Gs};this.colorsById[Co]=Vs;var Hs={type:"string",description:To,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Gs&&(Hs.deprecationMessage=Gs),this.colorSchema.properties[Co]=Hs,this.colorReferenceSchema.enum.push(Co),this.colorReferenceSchema.enumDescriptions.push(To),this._onDidChangeSchema.fire(),Co}},{key:"getColors",value:function(){var Co=this;return Object.keys(this.colorsById).map(function(es){return Co.colorsById[es]})}},{key:"resolveDefaultColor",value:function(Co,es){var To=this.colorsById[Co];if(To&&To.defaults){var cs=To.defaults[es.type];return Es(cs,es)}}},{key:"getColorSchema",value:function(){return this.colorSchema}},{key:"toString",value:function(){var Co=this,es=function(cs,Gs){var Vs=cs.indexOf(".")===-1?0:1,Hs=Gs.indexOf(".")===-1?0:1;return Vs!==Hs?Vs-Hs:cs.localeCompare(Gs)};return Object.keys(this.colorsById).sort(es).map(function(To){return"- `".concat(To,"`: ").concat(Co.colorsById[To].description)}).join(`
`)}}]),oa}(),W=new F;E.a.add(B.ColorContribution,W);function N(oa,Wa,Co,es,To){return W.registerColor(oa,Wa,Co,es,To)}var H=N("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},_.b("foreground","Overall foreground color. This color is only used if not overridden by a component.")),d=N("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},_.b("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),D=N("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},_.b("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),C=N("descriptionForeground",{light:"#717171",dark:ra(H,.7),hcDark:ra(H,.7),hcLight:ra(H,.7)},_.b("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),x=N("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},_.b("iconForeground","The default color for icons in the workbench.")),O=N("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},_.b("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),T=N("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},_.b("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),z=N("contrastActiveBorder",{light:null,dark:null,hcDark:O,hcLight:O},_.b("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),I=N("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},_.b("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),de=N("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:se.a.black,hcLight:"#292929"},_.b("textSeparatorForeground","Color for text separators.")),pe=N("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},_.b("textLinkForeground","Foreground color for links in text.")),fe=N("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},_.b("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),ke=N("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},_.b("textPreformatForeground","Foreground color for preformatted text segments.")),A=N("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},_.b("textBlockQuoteBackground","Background color for block quotes in text.")),P=N("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:se.a.white,hcLight:"#292929"},_.b("textBlockQuoteBorder","Border color for block quotes in text.")),G=N("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:se.a.black,hcLight:"#F2F2F2"},_.b("textCodeBlockBackground","Background color for code blocks in text.")),re=N("widget.shadow",{dark:ra(se.a.black,.36),light:ra(se.a.black,.16),hcDark:null,hcLight:null},_.b("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),ae=N("widget.border",{dark:null,light:null,hcDark:T,hcLight:T},_.b("widgetBorder","Border color of widgets such as find/replace inside the editor.")),Q=N("input.background",{dark:"#3C3C3C",light:se.a.white,hcDark:se.a.black,hcLight:se.a.white},_.b("inputBoxBackground","Input box background.")),J=N("input.foreground",{dark:H,light:H,hcDark:H,hcLight:H},_.b("inputBoxForeground","Input box foreground.")),me=N("input.border",{dark:null,light:null,hcDark:T,hcLight:T},_.b("inputBoxBorder","Input box border.")),ge=N("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:T,hcLight:T},_.b("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),L=N("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},_.b("inputOption.hoverBackground","Background color of activated options in input fields.")),De=N("inputOption.activeBackground",{dark:ra(O,.4),light:ra(O,.2),hcDark:se.a.transparent,hcLight:se.a.transparent},_.b("inputOption.activeBackground","Background hover color of options in input fields.")),Ae=N("inputOption.activeForeground",{dark:se.a.white,light:se.a.black,hcDark:H,hcLight:H},_.b("inputOption.activeForeground","Foreground color of activated options in input fields.")),Oe=N("input.placeholderForeground",{light:ra(H,.5),dark:ra(H,.5),hcDark:ra(H,.7),hcLight:ra(H,.7)},_.b("inputPlaceholderForeground","Input box foreground color for placeholder text.")),Pe=N("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:se.a.black,hcLight:se.a.white},_.b("inputValidationInfoBackground","Input validation background color for information severity.")),Ne=N("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:H},_.b("inputValidationInfoForeground","Input validation foreground color for information severity.")),Fe=N("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:T,hcLight:T},_.b("inputValidationInfoBorder","Input validation border color for information severity.")),Xe=N("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:se.a.black,hcLight:se.a.white},_.b("inputValidationWarningBackground","Input validation background color for warning severity.")),Et=N("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:H},_.b("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Ft=N("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:T,hcLight:T},_.b("inputValidationWarningBorder","Input validation border color for warning severity.")),Ot=N("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:se.a.black,hcLight:se.a.white},_.b("inputValidationErrorBackground","Input validation background color for error severity.")),pt=N("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:H},_.b("inputValidationErrorForeground","Input validation foreground color for error severity.")),Lt=N("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:T,hcLight:T},_.b("inputValidationErrorBorder","Input validation border color for error severity.")),et=N("dropdown.background",{dark:"#3C3C3C",light:se.a.white,hcDark:se.a.black,hcLight:se.a.white},_.b("dropdownBackground","Dropdown background.")),Vt=N("dropdown.listBackground",{dark:null,light:null,hcDark:se.a.black,hcLight:se.a.white},_.b("dropdownListBackground","Dropdown list background.")),Re=N("dropdown.foreground",{dark:"#F0F0F0",light:H,hcDark:se.a.white,hcLight:H},_.b("dropdownForeground","Dropdown foreground.")),Ce=N("dropdown.border",{dark:et,light:"#CECECE",hcDark:T,hcLight:T},_.b("dropdownBorder","Dropdown border.")),ye=N("button.foreground",{dark:se.a.white,light:se.a.white,hcDark:se.a.white,hcLight:se.a.white},_.b("buttonForeground","Button foreground color.")),Te=N("button.separator",{dark:ra(ye,.4),light:ra(ye,.4),hcDark:ra(ye,.4),hcLight:ra(ye,.4)},_.b("buttonSeparator","Button separator color.")),Qe=N("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},_.b("buttonBackground","Button background color.")),$e=N("button.hoverBackground",{dark:_o(Qe,.2),light:Ml(Qe,.2),hcDark:Qe,hcLight:Qe},_.b("buttonHoverBackground","Button background color when hovering.")),ze=N("button.border",{dark:T,light:T,hcDark:T,hcLight:T},_.b("buttonBorder","Button border color.")),ot=N("button.secondaryForeground",{dark:se.a.white,light:se.a.white,hcDark:se.a.white,hcLight:H},_.b("buttonSecondaryForeground","Secondary button foreground color.")),He=N("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:se.a.white},_.b("buttonSecondaryBackground","Secondary button background color.")),Ge=N("button.secondaryHoverBackground",{dark:_o(He,.2),light:Ml(He,.2),hcDark:null,hcLight:null},_.b("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Je=N("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:se.a.black,hcLight:"#0F4A85"},_.b("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),ft=N("badge.foreground",{dark:se.a.white,light:"#333",hcDark:se.a.white,hcLight:se.a.white},_.b("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),qt=N("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},_.b("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),bt=N("scrollbarSlider.background",{dark:se.a.fromHex("#797979").transparent(.4),light:se.a.fromHex("#646464").transparent(.4),hcDark:ra(T,.6),hcLight:ra(T,.4)},_.b("scrollbarSliderBackground","Scrollbar slider background color.")),Bt=N("scrollbarSlider.hoverBackground",{dark:se.a.fromHex("#646464").transparent(.7),light:se.a.fromHex("#646464").transparent(.7),hcDark:ra(T,.8),hcLight:ra(T,.8)},_.b("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),rn=N("scrollbarSlider.activeBackground",{dark:se.a.fromHex("#BFBFBF").transparent(.4),light:se.a.fromHex("#000000").transparent(.6),hcDark:T,hcLight:T},_.b("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),an=N("progressBar.background",{dark:se.a.fromHex("#0E70C0"),light:se.a.fromHex("#0E70C0"),hcDark:T,hcLight:T},_.b("progressBarBackground","Background color of the progress bar that can show for long running operations.")),In=N("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},_.b("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Dt=N("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},_.b("editorError.foreground","Foreground color of error squigglies in the editor.")),jn=N("editorError.border",{dark:null,light:null,hcDark:se.a.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},_.b("errorBorder","If set, color of double underlines for errors in the editor.")),_n=N("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},_.b("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Nn=N("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},_.b("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),ei=N("editorWarning.border",{dark:null,light:null,hcDark:se.a.fromHex("#FFCC00").transparent(.8),hcLight:se.a.fromHex("#FFCC00").transparent(.8)},_.b("warningBorder","If set, color of double underlines for warnings in the editor.")),kn=N("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},_.b("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Pn=N("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},_.b("editorInfo.foreground","Foreground color of info squigglies in the editor.")),qi=N("editorInfo.border",{dark:null,light:null,hcDark:se.a.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},_.b("infoBorder","If set, color of double underlines for infos in the editor.")),gi=N("editorHint.foreground",{dark:se.a.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},_.b("editorHint.foreground","Foreground color of hint squigglies in the editor.")),ir=N("editorHint.border",{dark:null,light:null,hcDark:se.a.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},_.b("hintBorder","If set, color of double underlines for hints in the editor.")),yi=N("sash.hoverBorder",{dark:O,light:O,hcDark:O,hcLight:O},_.b("sashActiveBorder","Border color of active sashes.")),mi=N("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:se.a.black,hcLight:se.a.white},_.b("editorBackground","Editor background color.")),gr=N("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:se.a.white,hcLight:H},_.b("editorForeground","Editor default foreground color.")),zn=N("editorStickyScroll.background",{light:mi,dark:mi,hcDark:mi,hcLight:mi},_.b("editorStickyScrollBackground","Sticky scroll background color for the editor")),Ki=N("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:se.a.fromHex("#0F4A85").transparent(.1)},_.b("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),Bn=N("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:se.a.white},_.b("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),ai=N("editorWidget.foreground",{dark:H,light:H,hcDark:H,hcLight:H},_.b("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),dn=N("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:T,hcLight:T},_.b("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Jn=N("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},_.b("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Yt=N("quickInput.background",{dark:Bn,light:Bn,hcDark:Bn,hcLight:Bn},_.b("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Ct=N("quickInput.foreground",{dark:ai,light:ai,hcDark:ai,hcLight:ai},_.b("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Dn=N("quickInputTitle.background",{dark:new se.a(new se.d(255,255,255,.105)),light:new se.a(new se.d(0,0,0,.06)),hcDark:"#000000",hcLight:se.a.white},_.b("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),gn=N("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:se.a.white,hcLight:"#0F4A85"},_.b("pickerGroupForeground","Quick picker color for grouping labels.")),en=N("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:se.a.white,hcLight:"#0F4A85"},_.b("pickerGroupBorder","Quick picker color for grouping borders.")),yn=N("keybindingLabel.background",{dark:new se.a(new se.d(128,128,128,.17)),light:new se.a(new se.d(221,221,221,.4)),hcDark:se.a.transparent,hcLight:se.a.transparent},_.b("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Qn=N("keybindingLabel.foreground",{dark:se.a.fromHex("#CCCCCC"),light:se.a.fromHex("#555555"),hcDark:se.a.white,hcLight:H},_.b("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),pi=N("keybindingLabel.border",{dark:new se.a(new se.d(51,51,51,.6)),light:new se.a(new se.d(204,204,204,.4)),hcDark:new se.a(new se.d(111,195,223)),hcLight:T},_.b("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Pt=N("keybindingLabel.bottomBorder",{dark:new se.a(new se.d(68,68,68,.6)),light:new se.a(new se.d(187,187,187,.4)),hcDark:new se.a(new se.d(111,195,223)),hcLight:H},_.b("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),yt=N("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},_.b("editorSelectionBackground","Color of the editor selection.")),Rn=N("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:se.a.white},_.b("editorSelectionForeground","Color of the selected text for high contrast.")),Sn=N("editor.inactiveSelectionBackground",{light:ra(yt,.5),dark:ra(yt,.5),hcDark:ra(yt,.7),hcLight:ra(yt,.5)},_.b("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ii=N("editor.selectionHighlightBackground",{light:_s(yt,mi,.3,.6),dark:_s(yt,mi,.3,.6),hcDark:null,hcLight:null},_.b("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Hi=N("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:z,hcLight:z},_.b("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),wt=N("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},_.b("editorFindMatch","Color of the current search match.")),Pi=N("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},_.b("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ut=N("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},_.b("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),We=N("editor.findMatchBorder",{light:null,dark:null,hcDark:z,hcLight:z},_.b("editorFindMatchBorder","Border color of the current search match.")),Tn=N("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:z,hcLight:z},_.b("findMatchHighlightBorder","Border color of the other search matches.")),ar=N("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:ra(z,.4),hcLight:ra(z,.4)},_.b("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Br=N("searchEditor.findMatchBackground",{light:ra(Pi,.66),dark:ra(Pi,.66),hcDark:Pi,hcLight:Pi},_.b("searchEditor.queryMatch","Color of the Search Editor query matches.")),Yr=N("searchEditor.findMatchBorder",{light:ra(Tn,.66),dark:ra(Tn,.66),hcDark:Tn,hcLight:Tn},_.b("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),ti=N("search.resultsInfoForeground",{light:H,dark:ra(H,.65),hcDark:H,hcLight:H},_.b("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),bi=N("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},_.b("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Kn=N("editorHoverWidget.background",{light:Bn,dark:Bn,hcDark:Bn,hcLight:Bn},_.b("hoverBackground","Background color of the editor hover.")),En=N("editorHoverWidget.foreground",{light:ai,dark:ai,hcDark:ai,hcLight:ai},_.b("hoverForeground","Foreground color of the editor hover.")),Nt=N("editorHoverWidget.border",{light:dn,dark:dn,hcDark:dn,hcLight:dn},_.b("hoverBorder","Border color of the editor hover.")),Gt=N("editorHoverWidget.statusBarBackground",{dark:_o(Kn,.2),light:Ml(Kn,.05),hcDark:Bn,hcLight:Bn},_.b("statusBarBackground","Background color of the editor hover status bar.")),mt=N("editorLink.activeForeground",{dark:"#4E94CE",light:se.a.blue,hcDark:se.a.cyan,hcLight:"#292929"},_.b("activeLinkForeground","Color of active links.")),Ye=N("editorInlayHint.foreground",{dark:ft,light:ft,hcDark:se.a.black,hcLight:ft},_.b("editorInlayHintForeground","Foreground color of inline hints")),vn=N("editorInlayHint.background",{dark:ra(Je,.8),light:ra(Je,.6),hcDark:"#f38518",hcLight:Je},_.b("editorInlayHintBackground","Background color of inline hints")),nt=N("editorInlayHint.typeForeground",{dark:Ye,light:Ye,hcDark:Ye,hcLight:Ye},_.b("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Ze=N("editorInlayHint.typeBackground",{dark:vn,light:vn,hcDark:vn,hcLight:vn},_.b("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Zt=N("editorInlayHint.parameterForeground",{dark:Ye,light:Ye,hcDark:Ye,hcLight:Ye},_.b("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),hn=N("editorInlayHint.parameterBackground",{dark:vn,light:vn,hcDark:vn,hcLight:vn},_.b("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Ht=N("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},_.b("editorLightBulbForeground","The color used for the lightbulb actions icon.")),lt=N("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},_.b("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),si=new se.a(new se.d(155,185,85,.2)),Oi=new se.a(new se.d(255,0,0,.2)),Ji=N("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},_.b("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Wi=N("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},_.b("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Yi=N("diffEditor.insertedLineBackground",{dark:si,light:si,hcDark:null,hcLight:null},_.b("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Bi=N("diffEditor.removedLineBackground",{dark:Oi,light:Oi,hcDark:null,hcLight:null},_.b("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Gi=N("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},_.b("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Gr=N("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},_.b("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),kr=N("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.b("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),sa=N("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.b("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Fr=N("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},_.b("diffEditorInsertedOutline","Outline color for the text that got inserted.")),ua=N("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},_.b("diffEditorRemovedOutline","Outline color for text that got removed.")),pn=N("diffEditor.border",{dark:null,light:null,hcDark:T,hcLight:T},_.b("diffEditorBorder","Border color between the two text editors.")),Ln=N("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},_.b("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),ct=N("diffEditor.unchangedRegionBackground",{dark:"#000000",light:"#e4e4e4",hcDark:null,hcLight:null},_.b("diffEditor.unchangedRegionBackground","The color of unchanged blocks in diff editor.")),Mt=N("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},_.b("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),At=N("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.b("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),zt=N("list.focusOutline",{dark:O,light:O,hcDark:z,hcLight:z},_.b("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),$t=N("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},_.b("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Un=N("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:se.a.fromHex("#0F4A85").transparent(.1)},_.b("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Vn=N("list.activeSelectionForeground",{dark:se.a.white,light:se.a.white,hcDark:null,hcLight:null},_.b("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Gn=N("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.b("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),oi=N("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:se.a.fromHex("#0F4A85").transparent(.1)},_.b("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),_i=N("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.b("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Cn=N("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.b("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ui=N("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},_.b("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Si=N("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},_.b("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ui=N("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:se.a.white.transparent(.1),hcLight:se.a.fromHex("#0F4A85").transparent(.1)},_.b("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Lr=N("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.b("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),or=N("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},_.b("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Er=N("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:O,hcLight:O},_.b("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),vr=N("list.focusHighlightForeground",{dark:Er,light:Ws(Un,Er,"#BBE7FF"),hcDark:Er,hcLight:Er},_.b("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),on=N("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},_.b("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),Wn=N("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},_.b("listErrorForeground","Foreground color of list items containing errors.")),Zn=N("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},_.b("listWarningForeground","Foreground color of list items containing warnings.")),Li=N("listFilterWidget.background",{light:Ml(Bn,0),dark:_o(Bn,0),hcDark:Bn,hcLight:Bn},_.b("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),_r=N("listFilterWidget.outline",{dark:se.a.transparent,light:se.a.transparent,hcDark:"#f38518",hcLight:"#007ACC"},_.b("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Nr=N("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:T,hcLight:T},_.b("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),$i=N("listFilterWidget.shadow",{dark:re,light:re,hcDark:re,hcLight:re},_.b("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),Jr=N("list.filterMatchBackground",{dark:Pi,light:Pi,hcDark:null,hcLight:null},_.b("listFilterMatchHighlight","Background color of the filtered match.")),ja=N("list.filterMatchBorder",{dark:Tn,light:Tn,hcDark:T,hcLight:z},_.b("listFilterMatchHighlightBorder","Border color of the filtered match.")),$r=N("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},_.b("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Ra=N("tree.inactiveIndentGuidesStroke",{dark:ra($r,.4),light:ra($r,.4),hcDark:ra($r,.4),hcLight:ra($r,.4)},_.b("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Ua=N("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},_.b("tableColumnsBorder","Table border color between columns.")),Ka=N("tree.tableOddRowsBackground",{dark:ra(H,.04),light:ra(H,.04),hcDark:null,hcLight:null},_.b("tableOddRowsBackgroundColor","Background color for odd table rows.")),ws=N("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},_.b("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),Zr=N("checkbox.background",{dark:et,light:et,hcDark:et,hcLight:et},_.b("checkbox.background","Background color of checkbox widget.")),Xa=N("checkbox.selectBackground",{dark:Bn,light:Bn,hcDark:Bn,hcLight:Bn},_.b("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Go=N("checkbox.foreground",{dark:Re,light:Re,hcDark:Re,hcLight:Re},_.b("checkbox.foreground","Foreground color of checkbox widget.")),lo=N("checkbox.border",{dark:Ce,light:Ce,hcDark:Ce,hcLight:Ce},_.b("checkbox.border","Border color of checkbox widget.")),qo=N("checkbox.selectBorder",{dark:x,light:x,hcDark:x,hcLight:x},_.b("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),_a=N("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,_.b("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),la=N("quickInputList.focusForeground",{dark:Vn,light:Vn,hcDark:Vn,hcLight:Vn},_.b("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),La=N("quickInputList.focusIconForeground",{dark:Gn,light:Gn,hcDark:Gn,hcLight:Gn},_.b("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Ro=N("quickInputList.focusBackground",{dark:Kl(_a,Un),light:Kl(_a,Un),hcDark:null,hcLight:null},_.b("quickInput.listFocusBackground","Quick picker background color for the focused item.")),$o=N("menu.border",{dark:null,light:null,hcDark:T,hcLight:T},_.b("menuBorder","Border color of menus.")),Rt=N("menu.foreground",{dark:Re,light:Re,hcDark:Re,hcLight:Re},_.b("menuForeground","Foreground color of menu items.")),tt=N("menu.background",{dark:et,light:et,hcDark:et,hcLight:et},_.b("menuBackground","Background color of menu items.")),_e=N("menu.selectionForeground",{dark:Vn,light:Vn,hcDark:Vn,hcLight:Vn},_.b("menuSelectionForeground","Foreground color of the selected menu item in menus.")),ee=N("menu.selectionBackground",{dark:Un,light:Un,hcDark:Un,hcLight:Un},_.b("menuSelectionBackground","Background color of the selected menu item in menus.")),j=N("menu.selectionBorder",{dark:null,light:null,hcDark:z,hcLight:z},_.b("menuSelectionBorder","Border color of the selected menu item in menus.")),k=N("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:T,hcLight:T},_.b("menuSeparatorBackground","Color of a separator menu item in menus.")),K=N("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},_.b("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),ue=N("toolbar.hoverOutline",{dark:null,light:null,hcDark:z,hcLight:z},_.b("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),xe=N("toolbar.activeBackground",{dark:_o(K,.1),light:Ml(K,.1),hcDark:null,hcLight:null},_.b("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),Ve=N("editor.snippetTabstopHighlightBackground",{dark:new se.a(new se.d(124,124,124,.3)),light:new se.a(new se.d(10,50,100,.2)),hcDark:new se.a(new se.d(124,124,124,.3)),hcLight:new se.a(new se.d(10,50,100,.2))},_.b("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),ut=N("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},_.b("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),_t=N("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},_.b("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),xt=N("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new se.a(new se.d(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},_.b("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),un=N("breadcrumb.foreground",{light:ra(H,.8),dark:ra(H,.8),hcDark:ra(H,.8),hcLight:ra(H,.8)},_.b("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),ln=N("breadcrumb.background",{light:mi,dark:mi,hcDark:mi,hcLight:mi},_.b("breadcrumbsBackground","Background color of breadcrumb items.")),nn=N("breadcrumb.focusForeground",{light:Ml(H,.2),dark:_o(H,.1),hcDark:_o(H,.1),hcLight:_o(H,.1)},_.b("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),bn=N("breadcrumb.activeSelectionForeground",{light:Ml(H,.2),dark:_o(H,.1),hcDark:_o(H,.1),hcLight:_o(H,.1)},_.b("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),An=N("breadcrumbPicker.background",{light:Bn,dark:Bn,hcDark:Bn,hcLight:Bn},_.b("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),It=.5,er=se.a.fromHex("#40C8AE").transparent(It),Mi=se.a.fromHex("#40A6FF").transparent(It),wr=se.a.fromHex("#606060").transparent(.4),hr=.4,xi=1,Ar=N("merge.currentHeaderBackground",{dark:er,light:er,hcDark:null,hcLight:null},_.b("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),zr=N("merge.currentContentBackground",{dark:ra(Ar,hr),light:ra(Ar,hr),hcDark:ra(Ar,hr),hcLight:ra(Ar,hr)},_.b("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Tr=N("merge.incomingHeaderBackground",{dark:Mi,light:Mi,hcDark:null,hcLight:null},_.b("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ba=N("merge.incomingContentBackground",{dark:ra(Tr,hr),light:ra(Tr,hr),hcDark:ra(Tr,hr),hcLight:ra(Tr,hr)},_.b("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Sa=N("merge.commonHeaderBackground",{dark:wr,light:wr,hcDark:null,hcLight:null},_.b("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Va=N("merge.commonContentBackground",{dark:ra(Sa,hr),light:ra(Sa,hr),hcDark:ra(Sa,hr),hcLight:ra(Sa,hr)},_.b("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ja=N("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},_.b("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),Ba=N("editorOverviewRuler.currentContentForeground",{dark:ra(Ar,xi),light:ra(Ar,xi),hcDark:Ja,hcLight:Ja},_.b("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),bo=N("editorOverviewRuler.incomingContentForeground",{dark:ra(Tr,xi),light:ra(Tr,xi),hcDark:Ja,hcLight:Ja},_.b("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),yo=N("editorOverviewRuler.commonContentForeground",{dark:ra(Sa,xi),light:ra(Sa,xi),hcDark:Ja,hcLight:Ja},_.b("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),Vo=N("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},_.b("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),js=N("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},_.b("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Qo=N("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},_.b("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Ho=N("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},_.b("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),us=N("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},_.b("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),go=N("minimap.errorHighlight",{dark:new se.a(new se.d(255,18,18,.7)),light:new se.a(new se.d(255,18,18,.7)),hcDark:new se.a(new se.d(255,50,50,1)),hcLight:"#B5200D"},_.b("minimapError","Minimap marker color for errors.")),Uo=N("minimap.warningHighlight",{dark:Nn,light:Nn,hcDark:ei,hcLight:ei},_.b("overviewRuleWarning","Minimap marker color for warnings.")),Yo=N("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},_.b("minimapBackground","Minimap background color.")),zo=N("minimap.foregroundOpacity",{dark:se.a.fromHex("#000f"),light:se.a.fromHex("#000f"),hcDark:se.a.fromHex("#000f"),hcLight:se.a.fromHex("#000f")},_.b("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Bs=N("minimapSlider.background",{light:ra(bt,.5),dark:ra(bt,.5),hcDark:ra(bt,.5),hcLight:ra(bt,.5)},_.b("minimapSliderBackground","Minimap slider background color.")),du=N("minimapSlider.hoverBackground",{light:ra(Bt,.5),dark:ra(Bt,.5),hcDark:ra(Bt,.5),hcLight:ra(Bt,.5)},_.b("minimapSliderHoverBackground","Minimap slider background color when hovering.")),hu=N("minimapSlider.activeBackground",{light:ra(rn,.5),dark:ra(rn,.5),hcDark:ra(rn,.5),hcLight:ra(rn,.5)},_.b("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Is=N("problemsErrorIcon.foreground",{dark:Dt,light:Dt,hcDark:Dt,hcLight:Dt},_.b("problemsErrorIconForeground","The color used for the problems error icon.")),hl=N("problemsWarningIcon.foreground",{dark:Nn,light:Nn,hcDark:Nn,hcLight:Nn},_.b("problemsWarningIconForeground","The color used for the problems warning icon.")),Ks=N("problemsInfoIcon.foreground",{dark:Pn,light:Pn,hcDark:Pn,hcLight:Pn},_.b("problemsInfoIconForeground","The color used for the problems info icon.")),fu=N("charts.foreground",{dark:H,light:H,hcDark:H,hcLight:H},_.b("chartsForeground","The foreground color used in charts.")),fl=N("charts.lines",{dark:ra(H,.5),light:ra(H,.5),hcDark:ra(H,.5),hcLight:ra(H,.5)},_.b("chartsLines","The color used for horizontal lines in charts.")),vl=N("charts.red",{dark:Dt,light:Dt,hcDark:Dt,hcLight:Dt},_.b("chartsRed","The red color used in chart visualizations.")),zl=N("charts.blue",{dark:Pn,light:Pn,hcDark:Pn,hcLight:Pn},_.b("chartsBlue","The blue color used in chart visualizations.")),Ll=N("charts.yellow",{dark:Nn,light:Nn,hcDark:Nn,hcLight:Nn},_.b("chartsYellow","The yellow color used in chart visualizations.")),hc=N("charts.orange",{dark:Qo,light:Qo,hcDark:Qo,hcLight:Qo},_.b("chartsOrange","The orange color used in chart visualizations.")),ho=N("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},_.b("chartsGreen","The green color used in chart visualizations.")),zu=N("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},_.b("chartsPurple","The purple color used in chart visualizations."));function oo(oa,Wa){var Co,es,To,cs;switch(oa.op){case 0:return(Co=Es(oa.value,Wa))===null||Co===void 0?void 0:Co.darken(oa.factor);case 1:return(es=Es(oa.value,Wa))===null||es===void 0?void 0:es.lighten(oa.factor);case 2:return(To=Es(oa.value,Wa))===null||To===void 0?void 0:To.transparent(oa.factor);case 3:{var Gs=Es(oa.background,Wa);return Gs?(cs=Es(oa.value,Wa))===null||cs===void 0?void 0:cs.makeOpaque(Gs):Es(oa.value,Wa)}case 4:var Vs=Object(ce.a)(oa.values),Hs;try{for(Vs.s();!(Hs=Vs.n()).done;){var ps=Hs.value,fc=Es(ps,Wa);if(fc)return fc}}catch(Bc){Vs.e(Bc)}finally{Vs.f()}return;case 6:return Es(Wa.defines(oa.if)?oa.then:oa.else,Wa);case 5:{var Rs=Es(oa.value,Wa);if(!Rs)return;var Us=Es(oa.background,Wa);return Us?Rs.isDarkerThan(Us)?se.a.getLighterColor(Rs,Us,oa.factor).transparent(oa.transparency):se.a.getDarkerColor(Rs,Us,oa.factor).transparent(oa.transparency):Rs.transparent(oa.factor*oa.transparency)}default:throw Object($.b)(oa)}}function Ml(oa,Wa){return{op:0,value:oa,factor:Wa}}function _o(oa,Wa){return{op:1,value:oa,factor:Wa}}function ra(oa,Wa){return{op:2,value:oa,factor:Wa}}function Kl(){for(var oa=arguments.length,Wa=new Array(oa),Co=0;Co<oa;Co++)Wa[Co]=arguments[Co];return{op:4,values:Wa}}function Ws(oa,Wa,Co){return{op:6,if:oa,then:Wa,else:Co}}function _s(oa,Wa,Co,es){return{op:5,value:oa,background:Wa,factor:Co,transparency:es}}function Es(oa,Wa){if(oa!==null){if(typeof oa=="string")return oa[0]==="#"?se.a.fromHex(oa):Wa.getColor(oa);if(oa instanceof se.a)return oa;if(typeof oa=="object")return oo(oa,Wa)}}var ca="vscode://schemas/workbench-colors",Fa=E.a.as(Y.a.JSONContribution);Fa.registerSchema(ca,W.getColorSchema());var ya=new ve.g(function(){return Fa.notifySchemaChanged(ca)},200);W.onDidChangeSchema(function(){ya.isScheduled()||ya.schedule()})},MI8n:function(mn,U,a){"use strict";a.d(U,"c",function(){return N}),a.d(U,"b",function(){return O}),a.d(U,"e",function(){return T}),a.d(U,"h",function(){return de}),a.d(U,"a",function(){return pe}),a.d(U,"g",function(){return fe}),a.d(U,"f",function(){return ke}),a.d(U,"d",function(){return A}),a.d(U,"i",function(){return P});var ce=a("w4Tj"),we=a("oZsa"),w=a("yKVA"),ve=a("879j"),se=a("rAM+"),te=a("tJVT"),$=a("fWQN"),_=a("mtLc"),Y=a("oBTY"),E=a("/cxE"),Z=a("C/vA"),ne=a("pmY6"),V=a("24hK"),B=a("5Y4S"),F=!1,W=!1,N;(function(G){G.None=function(){return ne.a.None};function re(Qe){if(W){var $e=Qe.onDidAddListener,ze=C.create(),ot=0;Qe.onDidAddListener=function(){++ot==2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),ze.print()),$e==null||$e()}}}function ae(Qe,$e){return Pe(Qe,function(){},0,void 0,!0,void 0,$e)}G.defer=ae;function Q(Qe){return function($e){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ot=arguments.length>2?arguments[2]:void 0,He=!1,Ge=void 0;return Ge=Qe(function(Je){if(!He)return Ge?Ge.dispose():He=!0,$e.call(ze,Je)},null,ot),He&&Ge.dispose(),Ge}}G.once=Q;function J(Qe,$e,ze){return Oe(function(ot){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ge=arguments.length>2?arguments[2]:void 0;return Qe(function(Je){return ot.call(He,$e(Je))},null,Ge)},ze)}G.map=J;function me(Qe,$e,ze){return Oe(function(ot){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ge=arguments.length>2?arguments[2]:void 0;return Qe(function(Je){$e(Je),ot.call(He,Je)},null,Ge)},ze)}G.forEach=me;function ge(Qe,$e,ze){return Oe(function(ot){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ge=arguments.length>2?arguments[2]:void 0;return Qe(function(Je){return $e(Je)&&ot.call(He,Je)},null,Ge)},ze)}G.filter=ge;function L(Qe){return Qe}G.signal=L;function De(){for(var Qe=arguments.length,$e=new Array(Qe),ze=0;ze<Qe;ze++)$e[ze]=arguments[ze];return function(ot){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ge=arguments.length>2?arguments[2]:void 0;return ne.h.apply(void 0,Object(Y.a)($e.map(function(Je){return Je(function(ft){return ot.call(He,ft)},null,Ge)})))}}G.any=De;function Ae(Qe,$e,ze,ot){var He=ze;return J(Qe,function(Ge){return He=$e(He,Ge),He},ot)}G.reduce=Ae;function Oe(Qe,$e){var ze,ot={onWillAddFirstListener:function(){ze=Qe(He.fire,He)},onDidRemoveLastListener:function(){ze==null||ze.dispose()}};$e||re(ot);var He=new O(ot);return $e==null||$e.add(He),He.event}function Pe(Qe,$e){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,He=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,Ge=arguments.length>5?arguments[5]:void 0,Je=arguments.length>6?arguments[6]:void 0,ft,qt=void 0,bt=void 0,Bt=0,rn,an={leakWarningThreshold:Ge,onWillAddFirstListener:function(){ft=Qe(function(jn){Bt++,qt=$e(qt,jn),ot&&!bt&&(In.fire(qt),qt=void 0),rn=function(){var Nn=qt;qt=void 0,bt=void 0,(!ot||Bt>1)&&In.fire(Nn),Bt=0},typeof ze=="number"?(clearTimeout(bt),bt=setTimeout(rn,ze)):bt===void 0&&(bt=0,queueMicrotask(rn))})},onWillRemoveListener:function(){He&&Bt>0&&(rn==null||rn())},onDidRemoveLastListener:function(){rn=void 0,ft.dispose()}};Je||re(an);var In=new O(an);return Je==null||Je.add(In),In.event}G.debounce=Pe;function Ne(Qe){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ze=arguments.length>2?arguments[2]:void 0;return G.debounce(Qe,function(ot,He){return ot?(ot.push(He),ot):[He]},$e,void 0,!0,void 0,ze)}G.accumulate=Ne;function Fe(Qe){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(Ge,Je){return Ge===Je},ze=arguments.length>2?arguments[2]:void 0,ot=!0,He;return ge(Qe,function(Ge){var Je=ot||!$e(Ge,He);return ot=!1,He=Ge,Je},ze)}G.latch=Fe;function Xe(Qe,$e,ze){return[G.filter(Qe,$e,ze),G.filter(Qe,function(ot){return!$e(ot)},ze)]}G.split=Xe;function Et(Qe){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],ot=ze.slice(),He=Qe(function(ft){ot?ot.push(ft):Je.fire(ft)}),Ge=function(){ot==null||ot.forEach(function(qt){return Je.fire(qt)}),ot=null},Je=new O({onWillAddFirstListener:function(){He||(He=Qe(function(qt){return Je.fire(qt)}))},onDidAddFirstListener:function(){ot&&($e?setTimeout(Ge):Ge())},onDidRemoveLastListener:function(){He&&He.dispose(),He=null}});return Je.event}G.buffer=Et;var Ft=function(){function Qe($e){Object($.a)(this,Qe),this.event=$e,this.disposables=new ne.c}return Object(_.a)(Qe,[{key:"map",value:function(ze){return new Qe(J(this.event,ze,this.disposables))}},{key:"forEach",value:function(ze){return new Qe(me(this.event,ze,this.disposables))}},{key:"filter",value:function(ze){return new Qe(ge(this.event,ze,this.disposables))}},{key:"reduce",value:function(ze,ot){return new Qe(Ae(this.event,ze,ot,this.disposables))}},{key:"latch",value:function(){return new Qe(Fe(this.event,void 0,this.disposables))}},{key:"debounce",value:function(ze){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ge=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Je=arguments.length>4?arguments[4]:void 0;return new Qe(Pe(this.event,ze,ot,He,Ge,Je,this.disposables))}},{key:"on",value:function(ze,ot,He){return this.event(ze,ot,He)}},{key:"once",value:function(ze,ot,He){return Q(this.event)(ze,ot,He)}},{key:"dispose",value:function(){this.disposables.dispose()}}]),Qe}();function Ot(Qe){return new Ft(Qe)}G.chain=Ot;function pt(Qe,$e){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(ft){return ft},ot=function(){return Je.fire(ze.apply(void 0,arguments))},He=function(){return Qe.on($e,ot)},Ge=function(){return Qe.removeListener($e,ot)},Je=new O({onWillAddFirstListener:He,onDidRemoveLastListener:Ge});return Je.event}G.fromNodeEventEmitter=pt;function Lt(Qe,$e){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(ft){return ft},ot=function(){return Je.fire(ze.apply(void 0,arguments))},He=function(){return Qe.addEventListener($e,ot)},Ge=function(){return Qe.removeEventListener($e,ot)},Je=new O({onWillAddFirstListener:He,onDidRemoveLastListener:Ge});return Je.event}G.fromDOMEventEmitter=Lt;function et(Qe){return new Promise(function($e){return Q(Qe)($e)})}G.toPromise=et;function Vt(Qe,$e){return $e(void 0),Qe(function(ze){return $e(ze)})}G.runAndSubscribe=Vt;function Re(Qe,$e){var ze=null;function ot(Ge){ze==null||ze.dispose(),ze=new ne.c,$e(Ge,ze)}ot(void 0);var He=Qe(function(Ge){return ot(Ge)});return Object(ne.l)(function(){He.dispose(),ze==null||ze.dispose()})}G.runAndSubscribeWithStore=Re;var Ce=function(){function Qe($e,ze){var ot=this;Object($.a)(this,Qe),this._observable=$e,this._counter=0,this._hasChanged=!1;var He={onWillAddFirstListener:function(){$e.addObserver(ot)},onDidRemoveLastListener:function(){$e.removeObserver(ot)}};ze||re(He),this.emitter=new O(He),ze&&ze.add(this.emitter)}return Object(_.a)(Qe,[{key:"beginUpdate",value:function(ze){this._counter++}},{key:"handlePossibleChange",value:function(ze){}},{key:"handleChange",value:function(ze,ot){this._hasChanged=!0}},{key:"endUpdate",value:function(ze){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}]),Qe}();function ye(Qe,$e){var ze=new Ce(Qe,$e);return ze.emitter.event}G.fromObservable=ye;function Te(Qe){return function($e){var ze=0,ot=!1,He={beginUpdate:function(){ze++},endUpdate:function(){ze--,ze===0&&(Qe.reportChanges(),ot&&(ot=!1,$e()))},handlePossibleChange:function(){},handleChange:function(){ot=!0}};return Qe.addObserver(He),{dispose:function(){Qe.removeObserver(He)}}}}G.fromObservableLight=Te})(N||(N={}));var H=function(){function G(re){Object($.a)(this,G),this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name="".concat(re,"_").concat(G._idPool++),G.all.add(this)}return Object(_.a)(G,[{key:"start",value:function(ae){this._stopWatch=new B.a(!0),this.listenerCount=ae}},{key:"stop",value:function(){if(this._stopWatch){var ae=this._stopWatch.elapsed();this.durations.push(ae),this.elapsedOverall+=ae,this.invocationCount+=1,this._stopWatch=void 0}}}]),G}();H.all=new Set,H._idPool=0;var d=-1,D=function(){function G(re){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Math.random().toString(18).slice(2,5);Object($.a)(this,G),this.threshold=re,this.name=ae,this._warnCountdown=0}return Object(_.a)(G,[{key:"dispose",value:function(){var ae;(ae=this._stacks)===null||ae===void 0||ae.clear()}},{key:"check",value:function(ae,Q){var J=this,me=this.threshold;if(!(me<=0||Q<me)){this._stacks||(this._stacks=new Map);var ge=this._stacks.get(ae.value)||0;if(this._stacks.set(ae.value,ge+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=me*.5;var L,De=0,Ae=Object(se.a)(this._stacks),Oe;try{for(Ae.s();!(Oe=Ae.n()).done;){var Pe=Oe.value,Ne=Object(te.a)(Pe,2),Fe=Ne[0],Xe=Ne[1];(!L||De<Xe)&&(L=Fe,De=Xe)}}catch(Et){Ae.e(Et)}finally{Ae.f()}console.warn("[".concat(this.name,"] potential listener LEAK detected, having ").concat(Q," listeners already. MOST frequent listener (").concat(De,"):")),console.warn(L)}return function(){var Et=J._stacks.get(ae.value)||0;J._stacks.set(ae.value,Et-1)}}}}]),G}(),C=function(){function G(re){Object($.a)(this,G),this.value=re}return Object(_.a)(G,[{key:"print",value:function(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}],[{key:"create",value:function(){var ae;return new G((ae=new Error().stack)!==null&&ae!==void 0?ae:"")}}]),G}(),x=function(){function G(re,ae,Q){Object($.a)(this,G),this.callback=re,this.callbackThis=ae,this.stack=Q,this.subscription=new ne.g}return Object(_.a)(G,[{key:"invoke",value:function(ae){this.callback.call(this.callbackThis,ae)}}]),G}(),O=function(){function G(re){Object($.a)(this,G);var ae,Q,J,me,ge;this._disposed=!1,this._options=re,this._leakageMon=d>0||((ae=this._options)===null||ae===void 0?void 0:ae.leakWarningThreshold)?new D((J=(Q=this._options)===null||Q===void 0?void 0:Q.leakWarningThreshold)!==null&&J!==void 0?J:d):void 0,this._perfMon=((me=this._options)===null||me===void 0?void 0:me._profName)?new H(this._options._profName):void 0,this._deliveryQueue=(ge=this._options)===null||ge===void 0?void 0:ge.deliveryQueue}return Object(_.a)(G,[{key:"dispose",value:function(){var ae,Q,J,me;if(!this._disposed){if(this._disposed=!0,this._listeners){if(F){var ge=Array.from(this._listeners);queueMicrotask(function(){var L,De=Object(se.a)(ge),Ae;try{for(De.s();!(Ae=De.n()).done;){var Oe=Ae.value;Oe.subscription.isset()&&(Oe.subscription.unset(),(L=Oe.stack)===null||L===void 0||L.print())}}catch(Pe){De.e(Pe)}finally{De.f()}})}this._listeners.clear()}(ae=this._deliveryQueue)===null||ae===void 0||ae.clear(this),(J=(Q=this._options)===null||Q===void 0?void 0:Q.onDidRemoveLastListener)===null||J===void 0||J.call(Q),(me=this._leakageMon)===null||me===void 0||me.dispose()}}},{key:"event",get:function(){var ae=this;return this._event||(this._event=function(Q,J,me){var ge,L,De;if(ae._listeners||(ae._listeners=new V.a),ae._leakageMon&&ae._listeners.size>ae._leakageMon.threshold*3)return console.warn("[".concat(ae._leakageMon.name,"] REFUSES to accept new listeners because it exceeded its threshold by far")),ne.a.None;var Ae=ae._listeners.isEmpty();Ae&&((ge=ae._options)===null||ge===void 0?void 0:ge.onWillAddFirstListener)&&ae._options.onWillAddFirstListener(ae);var Oe,Pe;ae._leakageMon&&ae._listeners.size>=Math.ceil(ae._leakageMon.threshold*.2)&&(Pe=C.create(),Oe=ae._leakageMon.check(Pe,ae._listeners.size+1)),F&&(Pe=Pe!=null?Pe:C.create());var Ne=new x(Q,J,Pe),Fe=ae._listeners.push(Ne);Ae&&((L=ae._options)===null||L===void 0?void 0:L.onDidAddFirstListener)&&ae._options.onDidAddFirstListener(ae),((De=ae._options)===null||De===void 0?void 0:De.onDidAddListener)&&ae._options.onDidAddListener(ae,Q,J);var Xe=Ne.subscription.set(function(){var Et,Ft;if(Oe==null||Oe(),!ae._disposed&&((Ft=(Et=ae._options)===null||Et===void 0?void 0:Et.onWillRemoveListener)===null||Ft===void 0||Ft.call(Et,ae),Fe(),ae._options&&ae._options.onDidRemoveLastListener)){var Ot=ae._listeners&&!ae._listeners.isEmpty();Ot||ae._options.onDidRemoveLastListener(ae)}});return me instanceof ne.c?me.add(Xe):Array.isArray(me)&&me.push(Xe),Xe}),this._event}},{key:"fire",value:function(ae){var Q,J,me;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new z((Q=this._options)===null||Q===void 0?void 0:Q.onListenerError));var ge=Object(se.a)(this._listeners),L;try{for(ge.s();!(L=ge.n()).done;){var De=L.value;this._deliveryQueue.push(this,De,ae)}}catch(Ae){ge.e(Ae)}finally{ge.f()}(J=this._perfMon)===null||J===void 0||J.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(me=this._perfMon)===null||me===void 0||me.stop()}}},{key:"hasListeners",value:function(){return this._listeners?!this._listeners.isEmpty():!1}}]),G}(),T=function(){function G(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E.h;Object($.a)(this,G),this._onListenerError=re,this._queue=new V.a}return Object(_.a)(G,[{key:"size",get:function(){return this._queue.size}},{key:"push",value:function(ae,Q,J){this._queue.push(new I(ae,Q,J))}},{key:"clear",value:function(ae){var Q=new V.a,J=Object(se.a)(this._queue),me;try{for(J.s();!(me=J.n()).done;){var ge=me.value;ge.emitter!==ae&&Q.push(ge)}}catch(L){J.e(L)}finally{J.f()}this._queue=Q}},{key:"deliver",value:function(){for(;this._queue.size>0;){var ae=this._queue.shift();try{ae.listener.invoke(ae.event)}catch(Q){this._onListenerError(Q)}}}}]),G}(),z=function(G){Object(w.a)(ae,G);var re=Object(ve.a)(ae);function ae(){return Object($.a)(this,ae),re.apply(this,arguments)}return Object(_.a)(ae,[{key:"clear",value:function(J){this._queue.clear()}}]),ae}(T),I=Object(_.a)(function G(re,ae,Q){Object($.a)(this,G),this.emitter=re,this.listener=ae,this.event=Q}),de=function(G){Object(w.a)(ae,G);var re=Object(ve.a)(ae);function ae(Q){var J;return Object($.a)(this,ae),J=re.call(this,Q),J._isPaused=0,J._eventQueue=new V.a,J._mergeFn=Q==null?void 0:Q.merge,J}return Object(_.a)(ae,[{key:"pause",value:function(){this._isPaused++}},{key:"resume",value:function(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){if(this._eventQueue.size>0){var J=Array.from(this._eventQueue);this._eventQueue.clear(),Object(ce.a)(Object(we.a)(ae.prototype),"fire",this).call(this,this._mergeFn(J))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)Object(ce.a)(Object(we.a)(ae.prototype),"fire",this).call(this,this._eventQueue.shift())}},{key:"fire",value:function(J){this._listeners&&(this._isPaused!==0?this._eventQueue.push(J):Object(ce.a)(Object(we.a)(ae.prototype),"fire",this).call(this,J))}}]),ae}(O),pe=function(G){Object(w.a)(ae,G);var re=Object(ve.a)(ae);function ae(Q){var J;Object($.a)(this,ae);var me;return J=re.call(this,Q),J._delay=(me=Q.delay)!==null&&me!==void 0?me:100,J}return Object(_.a)(ae,[{key:"fire",value:function(J){var me=this;this._handle||(this.pause(),this._handle=setTimeout(function(){me._handle=void 0,me.resume()},this._delay)),Object(ce.a)(Object(we.a)(ae.prototype),"fire",this).call(this,J)}}]),ae}(de),fe=function(G){Object(w.a)(ae,G);var re=Object(ve.a)(ae);function ae(Q){var J;return Object($.a)(this,ae),J=re.call(this,Q),J._queuedEvents=[],J._mergeFn=Q==null?void 0:Q.merge,J}return Object(_.a)(ae,[{key:"fire",value:function(J){var me=this;!this.hasListeners()||(this._queuedEvents.push(J),this._queuedEvents.length===1&&queueMicrotask(function(){me._mergeFn?Object(ce.a)(Object(we.a)(ae.prototype),"fire",me).call(me,me._mergeFn(me._queuedEvents)):me._queuedEvents.forEach(function(ge){return Object(ce.a)(Object(we.a)(ae.prototype),"fire",me).call(me,ge)}),me._queuedEvents=[]}))}}]),ae}(O),ke=function(){function G(){var re=this;Object($.a)(this,G),this.hasListeners=!1,this.events=[],this.emitter=new O({onWillAddFirstListener:function(){return re.onFirstListenerAdd()},onDidRemoveLastListener:function(){return re.onLastListenerRemove()}})}return Object(_.a)(G,[{key:"event",get:function(){return this.emitter.event}},{key:"add",value:function(ae){var Q=this,J={event:ae,listener:null};this.events.push(J),this.hasListeners&&this.hook(J);var me=function(){Q.hasListeners&&Q.unhook(J);var L=Q.events.indexOf(J);Q.events.splice(L,1)};return Object(ne.l)(Object(Z.a)(me))}},{key:"onFirstListenerAdd",value:function(){var ae=this;this.hasListeners=!0,this.events.forEach(function(Q){return ae.hook(Q)})}},{key:"onLastListenerRemove",value:function(){var ae=this;this.hasListeners=!1,this.events.forEach(function(Q){return ae.unhook(Q)})}},{key:"hook",value:function(ae){var Q=this;ae.listener=ae.event(function(J){return Q.emitter.fire(J)})}},{key:"unhook",value:function(ae){ae.listener&&ae.listener.dispose(),ae.listener=null}},{key:"dispose",value:function(){this.emitter.dispose()}}]),G}(),A=function(){function G(){Object($.a)(this,G),this.buffers=[]}return Object(_.a)(G,[{key:"wrapEvent",value:function(ae){var Q=this;return function(J,me,ge){return ae(function(L){var De=Q.buffers[Q.buffers.length-1];De?De.push(function(){return J.call(me,L)}):J.call(me,L)},void 0,ge)}}},{key:"bufferEvents",value:function(ae){var Q=[];this.buffers.push(Q);var J=ae();return this.buffers.pop(),Q.forEach(function(me){return me()}),J}}]),G}(),P=function(){function G(){var re=this;Object($.a)(this,G),this.listening=!1,this.inputEvent=N.None,this.inputEventListener=ne.a.None,this.emitter=new O({onDidAddFirstListener:function(){re.listening=!0,re.inputEventListener=re.inputEvent(re.emitter.fire,re.emitter)},onDidRemoveLastListener:function(){re.listening=!1,re.inputEventListener.dispose()}}),this.event=this.emitter.event}return Object(_.a)(G,[{key:"input",set:function(ae){this.inputEvent=ae,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=ae(this.emitter.fire,this.emitter))}},{key:"dispose",value:function(){this.inputEventListener.dispose(),this.emitter.dispose()}}]),G}()},MNsG:function(mn,U,a){"use strict";(function(ce,we){a.d(U,"b",function(){return C}),a.d(U,"o",function(){return ke}),a.d(U,"i",function(){return A}),a.d(U,"g",function(){return P}),a.d(U,"k",function(){return G}),a.d(U,"m",function(){return re}),a.d(U,"n",function(){return ae}),a.d(U,"f",function(){return Q}),a.d(U,"j",function(){return J}),a.d(U,"p",function(){return ge}),a.d(U,"q",function(){return De}),a.d(U,"a",function(){return Ae}),a.d(U,"h",function(){return Ne}),a.d(U,"c",function(){return Fe}),a.d(U,"e",function(){return Xe}),a.d(U,"l",function(){return Et}),a.d(U,"d",function(){return Ft});var w=a("3/fG"),ve,se="en",te=!1,$=!1,_=!1,Y=!1,E=!1,Z=!1,ne=!1,V=!1,B=!1,F=!1,W=void 0,N=se,H=se,d=void 0,D=void 0,C=typeof self=="object"?self:typeof ce=="object"?ce:{},x=void 0;typeof C.vscode!="undefined"&&typeof C.vscode.process!="undefined"?x=C.vscode.process:typeof we!="undefined"&&(x=we);var O=typeof((ve=x==null?void 0:x.versions)===null||ve===void 0?void 0:ve.electron)=="string",T=O&&(x==null?void 0:x.type)==="renderer";if(typeof navigator=="object"&&!T){D=navigator.userAgent,te=D.indexOf("Windows")>=0,$=D.indexOf("Macintosh")>=0,V=(D.indexOf("Macintosh")>=0||D.indexOf("iPad")>=0||D.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,_=D.indexOf("Linux")>=0,F=(D==null?void 0:D.indexOf("Mobi"))>=0,Z=!0;var z=w.a(w.b({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"));W=z||se,N=W,H=navigator.language}else if(typeof x=="object"){te=x.platform==="win32",$=x.platform==="darwin",_=x.platform==="linux",Y=_&&!!x.env.SNAP&&!!x.env.SNAP_REVISION,ne=O,B=!!x.env.CI||!!x.env.BUILD_ARTIFACTSTAGINGDIRECTORY,W=se,N=se;var I=x.env.VSCODE_NLS_CONFIG;if(I)try{var de=JSON.parse(I),pe=de.availableLanguages["*"];W=de.locale,H=de.osLocale,N=pe||se,d=de._translationsConfigFile}catch(pt){}E=!0}else console.error("Unable to resolve platform.");var fe=0;$?fe=1:te?fe=3:_&&(fe=2);var ke=te,A=$,P=_,G=E,re=Z,ae=Z&&typeof C.importScripts=="function",Q=V,J=F,me=D,ge=N,L=typeof C.postMessage=="function"&&!C.importScripts,De=function(){if(L){var pt=[];C.addEventListener("message",function(et){if(et.data&&et.data.vscodeScheduleAsyncWork)for(var Vt=0,Re=pt.length;Vt<Re;Vt++){var Ce=pt[Vt];if(Ce.id===et.data.vscodeScheduleAsyncWork){pt.splice(Vt,1),Ce.callback();return}}});var Lt=0;return function(et){var Vt=++Lt;pt.push({id:Vt,callback:et}),C.postMessage({vscodeScheduleAsyncWork:Vt},"*")}}return function(et){return setTimeout(et)}}(),Ae=$||V?2:te?1:3,Oe=!0,Pe=!1;function Ne(){if(!Pe){Pe=!0;var pt=new Uint8Array(2);pt[0]=1,pt[1]=2;var Lt=new Uint16Array(pt.buffer);Oe=Lt[0]===(2<<8)+1}return Oe}var Fe=!!(me&&me.indexOf("Chrome")>=0),Xe=!!(me&&me.indexOf("Firefox")>=0),Et=!!(!Fe&&me&&me.indexOf("Safari")>=0),Ft=!!(me&&me.indexOf("Edg/")>=0),Ot=!!(me&&me.indexOf("Android")>=0)}).call(this,a("IyRk"),a("Q2Ig"))},MXAL:function(mn,U,a){"use strict";a.d(U,"a",function(){return ve}),a.d(U,"b",function(){return se});var ce=a("fWQN"),we=a("mtLc"),w=a("CZ1j"),ve=function(){function te($){Object(ce.a)(this,te);var _=Object(w.b)($);this._defaultValue=_,this._asciiMap=te._createAsciiMap(_),this._map=new Map}return Object(we.a)(te,[{key:"set",value:function(_,Y){var E=Object(w.b)(Y);_>=0&&_<256?this._asciiMap[_]=E:this._map.set(_,E)}},{key:"get",value:function(_){return _>=0&&_<256?this._asciiMap[_]:this._map.get(_)||this._defaultValue}},{key:"clear",value:function(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}],[{key:"_createAsciiMap",value:function(_){var Y=new Uint8Array(256);return Y.fill(_),Y}}]),te}(),se=function(){function te(){Object(ce.a)(this,te),this._actual=new ve(0)}return Object(we.a)(te,[{key:"add",value:function(_){this._actual.set(_,1)}},{key:"has",value:function(_){return this._actual.get(_)===1}},{key:"clear",value:function(){return this._actual.clear()}}]),te}()},Md8J:function(mn,U,a){"use strict";a.d(U,"c",function(){return ve}),a.d(U,"b",function(){return se}),a.d(U,"a",function(){return te});var ce=a("fWQN"),we=a("mtLc"),w=a("EffR");function ve(ne){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=te(V);return B.textContent=ne,B}function se(ne){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=te(V);return _(B,Y(ne,!!V.renderCodeSegments),V.actionHandler,V.renderCodeSegments),B}function te(ne){var V=ne.inline?"span":"div",B=document.createElement(V);return ne.className&&(B.className=ne.className),B}var $=function(){function ne(V){Object(ce.a)(this,ne),this.source=V,this.index=0}return Object(we.a)(ne,[{key:"eos",value:function(){return this.index>=this.source.length}},{key:"next",value:function(){var B=this.peek();return this.advance(),B}},{key:"peek",value:function(){return this.source[this.index]}},{key:"advance",value:function(){this.index++}}]),ne}();function _(ne,V,B,F){var W;if(V.type===2)W=document.createTextNode(V.content||"");else if(V.type===3)W=document.createElement("b");else if(V.type===4)W=document.createElement("i");else if(V.type===7&&F)W=document.createElement("code");else if(V.type===5&&B){var N=document.createElement("a");B.disposables.add(w.addStandardDisposableListener(N,"click",function(H){B.callback(String(V.index),H)})),W=N}else V.type===8?W=document.createElement("br"):V.type===1&&(W=ne);W&&ne!==W&&ne.appendChild(W),W&&Array.isArray(V.children)&&V.children.forEach(function(H){_(W,H,B,F)})}function Y(ne,V){for(var B={type:1,children:[]},F=0,W=B,N=[],H=new $(ne);!H.eos();){var d=H.next(),D=d==="\\"&&Z(H.peek(),V)!==0;if(D&&(d=H.next()),!D&&E(d,V)&&d===H.peek()){H.advance(),W.type===2&&(W=N.pop());var C=Z(d,V);if(W.type===C||W.type===5&&C===6)W=N.pop();else{var x={type:C,children:[]};C===5&&(x.index=F,F++),W.children.push(x),N.push(W),W=x}}else if(d===`
`)W.type===2&&(W=N.pop()),W.children.push({type:8});else if(W.type!==2){var O={type:2,content:d};W.children.push(O),N.push(W),W=O}else W.content+=d}return W.type===2&&(W=N.pop()),N.length,B}function E(ne,V){return Z(ne,V)!==0}function Z(ne,V){switch(ne){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return V?7:0;default:return 0}}},MrjW:function(mn,U,a){"use strict";a.d(U,"i",function(){return z}),a.d(U,"e",function(){return de}),a.d(U,"d",function(){return pe}),a.d(U,"g",function(){return fe}),a.d(U,"f",function(){return ke}),a.d(U,"b",function(){return A}),a.d(U,"a",function(){return P}),a.d(U,"c",function(){return G}),a.d(U,"h",function(){return re});var ce=a("mtLc"),we=a("fWQN"),w=a("yKVA"),ve=a("879j"),se=a("ZKkB"),te=a("wxcJ"),$=65,_=97,Y=90,E=122,Z=46,ne=47,V=92,B=58,F=63,W=function(ae){Object(w.a)(J,ae);var Q=Object(ve.a)(J);function J(me,ge,L){var De;Object(we.a)(this,J);var Ae;typeof ge=="string"&&ge.indexOf("not ")===0?(Ae="must not be",ge=ge.replace(/^not /,"")):Ae="must be";var Oe=me.indexOf(".")!==-1?"property":"argument",Pe='The "'.concat(me,'" ').concat(Oe," ").concat(Ae," of type ").concat(ge);return Pe+=". Received type ".concat(typeof L),De=Q.call(this,Pe),De.code="ERR_INVALID_ARG_TYPE",De}return Object(ce.a)(J)}(Object(se.a)(Error));function N(ae,Q){if(ae===null||typeof ae!="object")throw new W(Q,"Object",ae)}function H(ae,Q){if(typeof ae!="string")throw new W(Q,"string",ae)}var d=te.c==="win32";function D(ae){return ae===ne||ae===V}function C(ae){return ae===ne}function x(ae){return ae>=$&&ae<=Y||ae>=_&&ae<=E}function O(ae,Q,J,me){for(var ge="",L=0,De=-1,Ae=0,Oe=0,Pe=0;Pe<=ae.length;++Pe){if(Pe<ae.length)Oe=ae.charCodeAt(Pe);else{if(me(Oe))break;Oe=ne}if(me(Oe)){if(!(De===Pe-1||Ae===1))if(Ae===2){if(ge.length<2||L!==2||ge.charCodeAt(ge.length-1)!==Z||ge.charCodeAt(ge.length-2)!==Z){if(ge.length>2){var Ne=ge.lastIndexOf(J);Ne===-1?(ge="",L=0):(ge=ge.slice(0,Ne),L=ge.length-1-ge.lastIndexOf(J)),De=Pe,Ae=0;continue}else if(ge.length!==0){ge="",L=0,De=Pe,Ae=0;continue}}Q&&(ge+=ge.length>0?"".concat(J,".."):"..",L=2)}else ge.length>0?ge+="".concat(J).concat(ae.slice(De+1,Pe)):ge=ae.slice(De+1,Pe),L=Pe-De-1;De=Pe,Ae=0}else Oe===Z&&Ae!==-1?++Ae:Ae=-1}return ge}function T(ae,Q){N(Q,"pathObject");var J=Q.dir||Q.root,me=Q.base||"".concat(Q.name||"").concat(Q.ext||"");return J?J===Q.root?"".concat(J).concat(me):"".concat(J).concat(ae).concat(me):me}var z={resolve:function(){for(var Q="",J="",me=!1,ge=arguments.length-1;ge>=-1;ge--){var L=void 0;if(ge>=0){if(L=ge<0||arguments.length<=ge?void 0:arguments[ge],H(L,"path"),L.length===0)continue}else Q.length===0?L=te.a():(L=te.b["=".concat(Q)]||te.a(),(L===void 0||L.slice(0,2).toLowerCase()!==Q.toLowerCase()&&L.charCodeAt(2)===V)&&(L="".concat(Q,"\\")));var De=L.length,Ae=0,Oe="",Pe=!1,Ne=L.charCodeAt(0);if(De===1)D(Ne)&&(Ae=1,Pe=!0);else if(D(Ne))if(Pe=!0,D(L.charCodeAt(1))){for(var Fe=2,Xe=Fe;Fe<De&&!D(L.charCodeAt(Fe));)Fe++;if(Fe<De&&Fe!==Xe){var Et=L.slice(Xe,Fe);for(Xe=Fe;Fe<De&&D(L.charCodeAt(Fe));)Fe++;if(Fe<De&&Fe!==Xe){for(Xe=Fe;Fe<De&&!D(L.charCodeAt(Fe));)Fe++;(Fe===De||Fe!==Xe)&&(Oe="\\\\".concat(Et,"\\").concat(L.slice(Xe,Fe)),Ae=Fe)}}}else Ae=1;else x(Ne)&&L.charCodeAt(1)===B&&(Oe=L.slice(0,2),Ae=2,De>2&&D(L.charCodeAt(2))&&(Pe=!0,Ae=3));if(Oe.length>0)if(Q.length>0){if(Oe.toLowerCase()!==Q.toLowerCase())continue}else Q=Oe;if(me){if(Q.length>0)break}else if(J="".concat(L.slice(Ae),"\\").concat(J),me=Pe,Pe&&Q.length>0)break}return J=O(J,!me,"\\",D),me?"".concat(Q,"\\").concat(J):"".concat(Q).concat(J)||"."},normalize:function(Q){H(Q,"path");var J=Q.length;if(J===0)return".";var me=0,ge,L=!1,De=Q.charCodeAt(0);if(J===1)return C(De)?"\\":Q;if(D(De))if(L=!0,D(Q.charCodeAt(1))){for(var Ae=2,Oe=Ae;Ae<J&&!D(Q.charCodeAt(Ae));)Ae++;if(Ae<J&&Ae!==Oe){var Pe=Q.slice(Oe,Ae);for(Oe=Ae;Ae<J&&D(Q.charCodeAt(Ae));)Ae++;if(Ae<J&&Ae!==Oe){for(Oe=Ae;Ae<J&&!D(Q.charCodeAt(Ae));)Ae++;if(Ae===J)return"\\\\".concat(Pe,"\\").concat(Q.slice(Oe),"\\");Ae!==Oe&&(ge="\\\\".concat(Pe,"\\").concat(Q.slice(Oe,Ae)),me=Ae)}}}else me=1;else x(De)&&Q.charCodeAt(1)===B&&(ge=Q.slice(0,2),me=2,J>2&&D(Q.charCodeAt(2))&&(L=!0,me=3));var Ne=me<J?O(Q.slice(me),!L,"\\",D):"";return Ne.length===0&&!L&&(Ne="."),Ne.length>0&&D(Q.charCodeAt(J-1))&&(Ne+="\\"),ge===void 0?L?"\\".concat(Ne):Ne:L?"".concat(ge,"\\").concat(Ne):"".concat(ge).concat(Ne)},isAbsolute:function(Q){H(Q,"path");var J=Q.length;if(J===0)return!1;var me=Q.charCodeAt(0);return D(me)||J>2&&x(me)&&Q.charCodeAt(1)===B&&D(Q.charCodeAt(2))},join:function(){if(arguments.length===0)return".";for(var Q,J,me=0;me<arguments.length;++me){var ge=me<0||arguments.length<=me?void 0:arguments[me];H(ge,"path"),ge.length>0&&(Q===void 0?Q=J=ge:Q+="\\".concat(ge))}if(Q===void 0)return".";var L=!0,De=0;if(typeof J=="string"&&D(J.charCodeAt(0))){++De;var Ae=J.length;Ae>1&&D(J.charCodeAt(1))&&(++De,Ae>2&&(D(J.charCodeAt(2))?++De:L=!1))}if(L){for(;De<Q.length&&D(Q.charCodeAt(De));)De++;De>=2&&(Q="\\".concat(Q.slice(De)))}return z.normalize(Q)},relative:function(Q,J){if(H(Q,"from"),H(J,"to"),Q===J)return"";var me=z.resolve(Q),ge=z.resolve(J);if(me===ge||(Q=me.toLowerCase(),J=ge.toLowerCase(),Q===J))return"";for(var L=0;L<Q.length&&Q.charCodeAt(L)===V;)L++;for(var De=Q.length;De-1>L&&Q.charCodeAt(De-1)===V;)De--;for(var Ae=De-L,Oe=0;Oe<J.length&&J.charCodeAt(Oe)===V;)Oe++;for(var Pe=J.length;Pe-1>Oe&&J.charCodeAt(Pe-1)===V;)Pe--;for(var Ne=Pe-Oe,Fe=Ae<Ne?Ae:Ne,Xe=-1,Et=0;Et<Fe;Et++){var Ft=Q.charCodeAt(L+Et);if(Ft!==J.charCodeAt(Oe+Et))break;Ft===V&&(Xe=Et)}if(Et!==Fe){if(Xe===-1)return ge}else{if(Ne>Fe){if(J.charCodeAt(Oe+Et)===V)return ge.slice(Oe+Et+1);if(Et===2)return ge.slice(Oe+Et)}Ae>Fe&&(Q.charCodeAt(L+Et)===V?Xe=Et:Et===2&&(Xe=3)),Xe===-1&&(Xe=0)}var Ot="";for(Et=L+Xe+1;Et<=De;++Et)(Et===De||Q.charCodeAt(Et)===V)&&(Ot+=Ot.length===0?"..":"\\..");return Oe+=Xe,Ot.length>0?"".concat(Ot).concat(ge.slice(Oe,Pe)):(ge.charCodeAt(Oe)===V&&++Oe,ge.slice(Oe,Pe))},toNamespacedPath:function(Q){if(typeof Q!="string"||Q.length===0)return Q;var J=z.resolve(Q);if(J.length<=2)return Q;if(J.charCodeAt(0)===V){if(J.charCodeAt(1)===V){var me=J.charCodeAt(2);if(me!==F&&me!==Z)return"\\\\?\\UNC\\".concat(J.slice(2))}}else if(x(J.charCodeAt(0))&&J.charCodeAt(1)===B&&J.charCodeAt(2)===V)return"\\\\?\\".concat(J);return Q},dirname:function(Q){H(Q,"path");var J=Q.length;if(J===0)return".";var me=-1,ge=0,L=Q.charCodeAt(0);if(J===1)return D(L)?Q:".";if(D(L)){if(me=ge=1,D(Q.charCodeAt(1))){for(var De=2,Ae=De;De<J&&!D(Q.charCodeAt(De));)De++;if(De<J&&De!==Ae){for(Ae=De;De<J&&D(Q.charCodeAt(De));)De++;if(De<J&&De!==Ae){for(Ae=De;De<J&&!D(Q.charCodeAt(De));)De++;if(De===J)return Q;De!==Ae&&(me=ge=De+1)}}}}else x(L)&&Q.charCodeAt(1)===B&&(me=J>2&&D(Q.charCodeAt(2))?3:2,ge=me);for(var Oe=-1,Pe=!0,Ne=J-1;Ne>=ge;--Ne)if(D(Q.charCodeAt(Ne))){if(!Pe){Oe=Ne;break}}else Pe=!1;if(Oe===-1){if(me===-1)return".";Oe=me}return Q.slice(0,Oe)},basename:function(Q,J){J!==void 0&&H(J,"ext"),H(Q,"path");var me=0,ge=-1,L=!0,De;if(Q.length>=2&&x(Q.charCodeAt(0))&&Q.charCodeAt(1)===B&&(me=2),J!==void 0&&J.length>0&&J.length<=Q.length){if(J===Q)return"";var Ae=J.length-1,Oe=-1;for(De=Q.length-1;De>=me;--De){var Pe=Q.charCodeAt(De);if(D(Pe)){if(!L){me=De+1;break}}else Oe===-1&&(L=!1,Oe=De+1),Ae>=0&&(Pe===J.charCodeAt(Ae)?--Ae==-1&&(ge=De):(Ae=-1,ge=Oe))}return me===ge?ge=Oe:ge===-1&&(ge=Q.length),Q.slice(me,ge)}for(De=Q.length-1;De>=me;--De)if(D(Q.charCodeAt(De))){if(!L){me=De+1;break}}else ge===-1&&(L=!1,ge=De+1);return ge===-1?"":Q.slice(me,ge)},extname:function(Q){H(Q,"path");var J=0,me=-1,ge=0,L=-1,De=!0,Ae=0;Q.length>=2&&Q.charCodeAt(1)===B&&x(Q.charCodeAt(0))&&(J=ge=2);for(var Oe=Q.length-1;Oe>=J;--Oe){var Pe=Q.charCodeAt(Oe);if(D(Pe)){if(!De){ge=Oe+1;break}continue}L===-1&&(De=!1,L=Oe+1),Pe===Z?me===-1?me=Oe:Ae!==1&&(Ae=1):me!==-1&&(Ae=-1)}return me===-1||L===-1||Ae===0||Ae===1&&me===L-1&&me===ge+1?"":Q.slice(me,L)},format:T.bind(null,"\\"),parse:function(Q){H(Q,"path");var J={root:"",dir:"",base:"",ext:"",name:""};if(Q.length===0)return J;var me=Q.length,ge=0,L=Q.charCodeAt(0);if(me===1)return D(L)?(J.root=J.dir=Q,J):(J.base=J.name=Q,J);if(D(L)){if(ge=1,D(Q.charCodeAt(1))){for(var De=2,Ae=De;De<me&&!D(Q.charCodeAt(De));)De++;if(De<me&&De!==Ae){for(Ae=De;De<me&&D(Q.charCodeAt(De));)De++;if(De<me&&De!==Ae){for(Ae=De;De<me&&!D(Q.charCodeAt(De));)De++;De===me?ge=De:De!==Ae&&(ge=De+1)}}}}else if(x(L)&&Q.charCodeAt(1)===B){if(me<=2)return J.root=J.dir=Q,J;if(ge=2,D(Q.charCodeAt(2))){if(me===3)return J.root=J.dir=Q,J;ge=3}}ge>0&&(J.root=Q.slice(0,ge));for(var Oe=-1,Pe=ge,Ne=-1,Fe=!0,Xe=Q.length-1,Et=0;Xe>=ge;--Xe){if(L=Q.charCodeAt(Xe),D(L)){if(!Fe){Pe=Xe+1;break}continue}Ne===-1&&(Fe=!1,Ne=Xe+1),L===Z?Oe===-1?Oe=Xe:Et!==1&&(Et=1):Oe!==-1&&(Et=-1)}return Ne!==-1&&(Oe===-1||Et===0||Et===1&&Oe===Ne-1&&Oe===Pe+1?J.base=J.name=Q.slice(Pe,Ne):(J.name=Q.slice(Pe,Oe),J.base=Q.slice(Pe,Ne),J.ext=Q.slice(Oe,Ne))),Pe>0&&Pe!==ge?J.dir=Q.slice(0,Pe-1):J.dir=J.root,J},sep:"\\",delimiter:";",win32:null,posix:null},I=function(){if(d){var ae=/\\/g;return function(){var Q=te.a().replace(ae,"/");return Q.slice(Q.indexOf("/"))}}return function(){return te.a()}}(),de={resolve:function(){for(var Q="",J=!1,me=arguments.length-1;me>=-1&&!J;me--){var ge=me>=0?me<0||arguments.length<=me?void 0:arguments[me]:I();H(ge,"path"),ge.length!==0&&(Q="".concat(ge,"/").concat(Q),J=ge.charCodeAt(0)===ne)}return Q=O(Q,!J,"/",C),J?"/".concat(Q):Q.length>0?Q:"."},normalize:function(Q){if(H(Q,"path"),Q.length===0)return".";var J=Q.charCodeAt(0)===ne,me=Q.charCodeAt(Q.length-1)===ne;return Q=O(Q,!J,"/",C),Q.length===0?J?"/":me?"./":".":(me&&(Q+="/"),J?"/".concat(Q):Q)},isAbsolute:function(Q){return H(Q,"path"),Q.length>0&&Q.charCodeAt(0)===ne},join:function(){if(arguments.length===0)return".";for(var Q,J=0;J<arguments.length;++J){var me=J<0||arguments.length<=J?void 0:arguments[J];H(me,"path"),me.length>0&&(Q===void 0?Q=me:Q+="/".concat(me))}return Q===void 0?".":de.normalize(Q)},relative:function(Q,J){if(H(Q,"from"),H(J,"to"),Q===J||(Q=de.resolve(Q),J=de.resolve(J),Q===J))return"";for(var me=1,ge=Q.length,L=ge-me,De=1,Ae=J.length-De,Oe=L<Ae?L:Ae,Pe=-1,Ne=0;Ne<Oe;Ne++){var Fe=Q.charCodeAt(me+Ne);if(Fe!==J.charCodeAt(De+Ne))break;Fe===ne&&(Pe=Ne)}if(Ne===Oe)if(Ae>Oe){if(J.charCodeAt(De+Ne)===ne)return J.slice(De+Ne+1);if(Ne===0)return J.slice(De+Ne)}else L>Oe&&(Q.charCodeAt(me+Ne)===ne?Pe=Ne:Ne===0&&(Pe=0));var Xe="";for(Ne=me+Pe+1;Ne<=ge;++Ne)(Ne===ge||Q.charCodeAt(Ne)===ne)&&(Xe+=Xe.length===0?"..":"/..");return"".concat(Xe).concat(J.slice(De+Pe))},toNamespacedPath:function(Q){return Q},dirname:function(Q){if(H(Q,"path"),Q.length===0)return".";for(var J=Q.charCodeAt(0)===ne,me=-1,ge=!0,L=Q.length-1;L>=1;--L)if(Q.charCodeAt(L)===ne){if(!ge){me=L;break}}else ge=!1;return me===-1?J?"/":".":J&&me===1?"//":Q.slice(0,me)},basename:function(Q,J){J!==void 0&&H(J,"ext"),H(Q,"path");var me=0,ge=-1,L=!0,De;if(J!==void 0&&J.length>0&&J.length<=Q.length){if(J===Q)return"";var Ae=J.length-1,Oe=-1;for(De=Q.length-1;De>=0;--De){var Pe=Q.charCodeAt(De);if(Pe===ne){if(!L){me=De+1;break}}else Oe===-1&&(L=!1,Oe=De+1),Ae>=0&&(Pe===J.charCodeAt(Ae)?--Ae==-1&&(ge=De):(Ae=-1,ge=Oe))}return me===ge?ge=Oe:ge===-1&&(ge=Q.length),Q.slice(me,ge)}for(De=Q.length-1;De>=0;--De)if(Q.charCodeAt(De)===ne){if(!L){me=De+1;break}}else ge===-1&&(L=!1,ge=De+1);return ge===-1?"":Q.slice(me,ge)},extname:function(Q){H(Q,"path");for(var J=-1,me=0,ge=-1,L=!0,De=0,Ae=Q.length-1;Ae>=0;--Ae){var Oe=Q.charCodeAt(Ae);if(Oe===ne){if(!L){me=Ae+1;break}continue}ge===-1&&(L=!1,ge=Ae+1),Oe===Z?J===-1?J=Ae:De!==1&&(De=1):J!==-1&&(De=-1)}return J===-1||ge===-1||De===0||De===1&&J===ge-1&&J===me+1?"":Q.slice(J,ge)},format:T.bind(null,"/"),parse:function(Q){H(Q,"path");var J={root:"",dir:"",base:"",ext:"",name:""};if(Q.length===0)return J;var me=Q.charCodeAt(0)===ne,ge;me?(J.root="/",ge=1):ge=0;for(var L=-1,De=0,Ae=-1,Oe=!0,Pe=Q.length-1,Ne=0;Pe>=ge;--Pe){var Fe=Q.charCodeAt(Pe);if(Fe===ne){if(!Oe){De=Pe+1;break}continue}Ae===-1&&(Oe=!1,Ae=Pe+1),Fe===Z?L===-1?L=Pe:Ne!==1&&(Ne=1):L!==-1&&(Ne=-1)}if(Ae!==-1){var Xe=De===0&&me?1:De;L===-1||Ne===0||Ne===1&&L===Ae-1&&L===De+1?J.base=J.name=Q.slice(Xe,Ae):(J.name=Q.slice(Xe,L),J.base=Q.slice(Xe,Ae),J.ext=Q.slice(L,Ae))}return De>0?J.dir=Q.slice(0,De-1):me&&(J.dir="/"),J},sep:"/",delimiter:":",win32:null,posix:null};de.win32=z.win32=z,de.posix=z.posix=de;var pe=d?z.normalize:de.normalize,fe=d?z.resolve:de.resolve,ke=d?z.relative:de.relative,A=d?z.dirname:de.dirname,P=d?z.basename:de.basename,G=d?z.extname:de.extname,re=d?z.sep:de.sep},N0LK:function(mn,U,a){"use strict";a.d(U,"D",function(){return _}),a.d(U,"v",function(){return E}),a.d(U,"s",function(){return Z}),a.d(U,"t",function(){return ne}),a.d(U,"W",function(){return V}),a.d(U,"K",function(){return B}),a.d(U,"Q",function(){return F}),a.d(U,"p",function(){return W}),a.d(U,"V",function(){return N}),a.d(U,"q",function(){return H}),a.d(U,"P",function(){return d}),a.d(U,"O",function(){return D}),a.d(U,"S",function(){return C}),a.d(U,"u",function(){return x}),a.d(U,"x",function(){return O}),a.d(U,"J",function(){return T}),a.d(U,"h",function(){return z}),a.d(U,"j",function(){return I}),a.d(U,"i",function(){return de}),a.d(U,"k",function(){return pe}),a.d(U,"A",function(){return fe}),a.d(U,"H",function(){return ke}),a.d(U,"I",function(){return A}),a.d(U,"r",function(){return P}),a.d(U,"T",function(){return G}),a.d(U,"f",function(){return re}),a.d(U,"g",function(){return ae}),a.d(U,"F",function(){return Q}),a.d(U,"G",function(){return J}),a.d(U,"l",function(){return me}),a.d(U,"z",function(){return ge}),a.d(U,"b",function(){return Ae}),a.d(U,"L",function(){return Oe}),a.d(U,"N",function(){return Pe}),a.d(U,"w",function(){return Ne}),a.d(U,"m",function(){return Et}),a.d(U,"B",function(){return Ot}),a.d(U,"d",function(){return pt}),a.d(U,"n",function(){return Lt}),a.d(U,"E",function(){return et}),a.d(U,"C",function(){return Vt}),a.d(U,"e",function(){return Re}),a.d(U,"U",function(){return Ce}),a.d(U,"o",function(){return ye}),a.d(U,"R",function(){return Te}),a.d(U,"y",function(){return ot}),a.d(U,"M",function(){return Je}),a.d(U,"a",function(){return ft}),a.d(U,"c",function(){return qt});var ce=a("rAM+"),we=a("tJVT"),w=a("fWQN"),ve=a("mtLc"),se=a("q63c"),te=a("QdLL"),$;function _(bt){return!bt||typeof bt!="string"?!0:bt.trim().length===0}var Y=/{(\d+)}/g;function E(bt){for(var Bt=arguments.length,rn=new Array(Bt>1?Bt-1:0),an=1;an<Bt;an++)rn[an-1]=arguments[an];return rn.length===0?bt:bt.replace(Y,function(In,Dt){var jn=parseInt(Dt,10);return isNaN(jn)||jn<0||jn>=rn.length?In:rn[jn]})}function Z(bt){return bt.replace(/[<>&]/g,function(Bt){switch(Bt){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Bt}})}function ne(bt){return bt.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function V(bt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",rn=B(bt,Bt);return F(rn,Bt)}function B(bt,Bt){if(!bt||!Bt)return bt;var rn=Bt.length;if(rn===0||bt.length===0)return bt;for(var an=0;bt.indexOf(Bt,an)===an;)an=an+rn;return bt.substring(an)}function F(bt,Bt){if(!bt||!Bt)return bt;var rn=Bt.length,an=bt.length;if(rn===0||an===0)return bt;for(var In=an,Dt=-1;Dt=bt.lastIndexOf(Bt,In-1),!(Dt===-1||Dt+rn!==In);){if(Dt===0)return"";In=Dt}return bt.substring(0,In)}function W(bt){return bt.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function N(bt){return bt.replace(/\*/g,"")}function H(bt,Bt){var rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!bt)throw new Error("Cannot create regex from empty string");Bt||(bt=ne(bt)),rn.wholeWord&&(/\B/.test(bt.charAt(0))||(bt="\\b"+bt),/\B/.test(bt.charAt(bt.length-1))||(bt=bt+"\\b"));var an="";return rn.global&&(an+="g"),rn.matchCase||(an+="i"),rn.multiline&&(an+="m"),rn.unicode&&(an+="u"),new RegExp(bt,an)}function d(bt){if(bt.source==="^"||bt.source==="^$"||bt.source==="$"||bt.source==="^\\s*$")return!1;var Bt=bt.exec("");return!!(Bt&&bt.lastIndex===0)}function D(bt){return(bt.global?"g":"")+(bt.ignoreCase?"i":"")+(bt.multiline?"m":"")+(bt.unicode?"u":"")}function C(bt){return bt.split(/\r\n|\r|\n/)}function x(bt){for(var Bt=0,rn=bt.length;Bt<rn;Bt++){var an=bt.charCodeAt(Bt);if(an!==32&&an!==9)return Bt}return-1}function O(bt){for(var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bt.length,an=Bt;an<rn;an++){var In=bt.charCodeAt(an);if(In!==32&&In!==9)return bt.substring(Bt,an)}return bt.substring(Bt,rn)}function T(bt){for(var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt.length-1,rn=Bt;rn>=0;rn--){var an=bt.charCodeAt(rn);if(an!==32&&an!==9)return rn}return-1}function z(bt,Bt){return bt<Bt?-1:bt>Bt?1:0}function I(bt,Bt){for(var rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,an=arguments.length>3&&arguments[3]!==void 0?arguments[3]:bt.length,In=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Dt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Bt.length;rn<an&&In<Dt;rn++,In++){var jn=bt.charCodeAt(rn),_n=Bt.charCodeAt(In);if(jn<_n)return-1;if(jn>_n)return 1}var Nn=an-rn,ei=Dt-In;return Nn<ei?-1:Nn>ei?1:0}function de(bt,Bt){return pe(bt,Bt,0,bt.length,0,Bt.length)}function pe(bt,Bt){for(var rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,an=arguments.length>3&&arguments[3]!==void 0?arguments[3]:bt.length,In=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Dt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Bt.length;rn<an&&In<Dt;rn++,In++){var jn=bt.charCodeAt(rn),_n=Bt.charCodeAt(In);if(jn!==_n){if(jn>=128||_n>=128)return I(bt.toLowerCase(),Bt.toLowerCase(),rn,an,In,Dt);ke(jn)&&(jn-=32),ke(_n)&&(_n-=32);var Nn=jn-_n;if(Nn!==0)return Nn}}var ei=an-rn,kn=Dt-In;return ei<kn?-1:ei>kn?1:0}function fe(bt){return bt>=48&&bt<=57}function ke(bt){return bt>=97&&bt<=122}function A(bt){return bt>=65&&bt<=90}function P(bt,Bt){return bt.length===Bt.length&&pe(bt,Bt)===0}function G(bt,Bt){var rn=Bt.length;return Bt.length>bt.length?!1:pe(bt,Bt,0,rn)===0}function re(bt,Bt){var rn=Math.min(bt.length,Bt.length),an;for(an=0;an<rn;an++)if(bt.charCodeAt(an)!==Bt.charCodeAt(an))return an;return rn}function ae(bt,Bt){var rn=Math.min(bt.length,Bt.length),an,In=bt.length-1,Dt=Bt.length-1;for(an=0;an<rn;an++)if(bt.charCodeAt(In-an)!==Bt.charCodeAt(Dt-an))return an;return rn}function Q(bt){return 55296<=bt&&bt<=56319}function J(bt){return 56320<=bt&&bt<=57343}function me(bt,Bt){return(bt-55296<<10)+(Bt-56320)+65536}function ge(bt,Bt,rn){var an=bt.charCodeAt(rn);if(Q(an)&&rn+1<Bt){var In=bt.charCodeAt(rn+1);if(J(In))return me(an,In)}return an}function L(bt,Bt){var rn=bt.charCodeAt(Bt-1);if(J(rn)&&Bt>1){var an=bt.charCodeAt(Bt-2);if(Q(an))return me(an,rn)}return rn}var De=function(){function bt(Bt){var rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Object(w.a)(this,bt),this._str=Bt,this._len=Bt.length,this._offset=rn}return Object(ve.a)(bt,[{key:"offset",get:function(){return this._offset}},{key:"setOffset",value:function(rn){this._offset=rn}},{key:"prevCodePoint",value:function(){var rn=L(this._str,this._offset);return this._offset-=rn>=65536?2:1,rn}},{key:"nextCodePoint",value:function(){var rn=ge(this._str,this._len,this._offset);return this._offset+=rn>=65536?2:1,rn}},{key:"eol",value:function(){return this._offset>=this._len}}]),bt}(),Ae=function(){function bt(Bt){var rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Object(w.a)(this,bt),this._iterator=new De(Bt,rn)}return Object(ve.a)(bt,[{key:"offset",get:function(){return this._iterator.offset}},{key:"nextGraphemeLength",value:function(){for(var rn=$e.getInstance(),an=this._iterator,In=an.offset,Dt=rn.getGraphemeBreakType(an.nextCodePoint());!an.eol();){var jn=an.offset,_n=rn.getGraphemeBreakType(an.nextCodePoint());if(Qe(Dt,_n)){an.setOffset(jn);break}Dt=_n}return an.offset-In}},{key:"prevGraphemeLength",value:function(){for(var rn=$e.getInstance(),an=this._iterator,In=an.offset,Dt=rn.getGraphemeBreakType(an.prevCodePoint());an.offset>0;){var jn=an.offset,_n=rn.getGraphemeBreakType(an.prevCodePoint());if(Qe(_n,Dt)){an.setOffset(jn);break}Dt=_n}return In-an.offset}},{key:"eol",value:function(){return this._iterator.eol()}}]),bt}();function Oe(bt,Bt){var rn=new Ae(bt,Bt);return rn.nextGraphemeLength()}function Pe(bt,Bt){var rn=new Ae(bt,Bt);return rn.prevGraphemeLength()}function Ne(bt,Bt){Bt>0&&J(bt.charCodeAt(Bt))&&Bt--;var rn=Bt+Oe(bt,Bt),an=rn-Pe(bt,rn);return[an,rn]}var Fe=void 0;function Xe(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function Et(bt){return Fe||(Fe=Xe()),Fe.test(bt)}var Ft=/^[\t\n\r\x20-\x7E]*$/;function Ot(bt){return Ft.test(bt)}var pt=/[\u2028\u2029]/;function Lt(bt){return pt.test(bt)}function et(bt){return bt>=11904&&bt<=55215||bt>=63744&&bt<=64255||bt>=65281&&bt<=65374}function Vt(bt){return bt>=127462&&bt<=127487||bt===8986||bt===8987||bt===9200||bt===9203||bt>=9728&&bt<=10175||bt===11088||bt===11093||bt>=127744&&bt<=128591||bt>=128640&&bt<=128764||bt>=128992&&bt<=129008||bt>=129280&&bt<=129535||bt>=129648&&bt<=129782}var Re=String.fromCharCode(65279);function Ce(bt){return!!(bt&&bt.length>0&&bt.charCodeAt(0)===65279)}function ye(bt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return bt?(Bt&&(bt=bt.replace(/\\./g,"")),bt.toLowerCase()!==bt):!1}function Te(bt){var Bt=90-65+1;return bt=bt%(2*Bt),bt<Bt?String.fromCharCode(97+bt):String.fromCharCode(65+bt-Bt)}function Qe(bt,Bt){return bt===0?Bt!==5&&Bt!==7:bt===2&&Bt===3?!1:bt===4||bt===2||bt===3||Bt===4||Bt===2||Bt===3?!0:!(bt===8&&(Bt===8||Bt===9||Bt===11||Bt===12)||(bt===11||bt===9)&&(Bt===9||Bt===10)||(bt===12||bt===10)&&Bt===10||Bt===5||Bt===13||Bt===7||bt===1||bt===13&&Bt===14||bt===6&&Bt===6)}var $e=function(){function bt(){Object(w.a)(this,bt),this._data=ze()}return Object(ve.a)(bt,[{key:"getGraphemeBreakType",value:function(rn){if(rn<32)return rn===10?3:rn===13?2:4;if(rn<127)return 0;for(var an=this._data,In=an.length/3,Dt=1;Dt<=In;)if(rn<an[3*Dt])Dt=2*Dt;else if(rn>an[3*Dt+1])Dt=2*Dt+1;else return an[3*Dt+2];return 0}}],[{key:"getInstance",value:function(){return bt._INSTANCE||(bt._INSTANCE=new bt),bt._INSTANCE}}]),bt}();$e._INSTANCE=null;function ze(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function ot(bt,Bt){if(bt===0)return 0;var rn=He(bt,Bt);if(rn!==void 0)return rn;var an=new De(Bt,bt);return an.prevCodePoint(),an.offset}function He(bt,Bt){for(var rn=new De(Bt,bt),an=rn.prevCodePoint();Ge(an)||an===65039||an===8419;){if(rn.offset===0)return;an=rn.prevCodePoint()}if(!!Vt(an)){var In=rn.offset;if(In>0){var Dt=rn.prevCodePoint();Dt===8205&&(In=rn.offset)}return In}}function Ge(bt){return 127995<=bt&&bt<=127999}var Je="\xA0",ft=function(){function bt(Bt){Object(w.a)(this,bt),this.confusableDictionary=Bt}return Object(ve.a)(bt,[{key:"isAmbiguous",value:function(rn){return this.confusableDictionary.has(rn)}},{key:"getPrimaryConfusable",value:function(rn){return this.confusableDictionary.get(rn)}},{key:"getConfusableCodePoints",value:function(){return new Set(this.confusableDictionary.keys())}}],[{key:"getInstance",value:function(rn){return bt.cache.get(Array.from(rn))}},{key:"getLocales",value:function(){return bt._locales.value}}]),bt}();$=ft,ft.ambiguousCharacterData=new te.a(function(){return JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')}),ft.cache=new se.b(function(bt){function Bt(gi){for(var ir=new Map,yi=0;yi<gi.length;yi+=2)ir.set(gi[yi],gi[yi+1]);return ir}function rn(gi,ir){var yi=new Map(gi),mi=Object(ce.a)(ir),gr;try{for(mi.s();!(gr=mi.n()).done;){var zn=gr.value,Ki=Object(we.a)(zn,2),Bn=Ki[0],ai=Ki[1];yi.set(Bn,ai)}}catch(dn){mi.e(dn)}finally{mi.f()}return yi}function an(gi,ir){if(!gi)return ir;var yi=new Map,mi=Object(ce.a)(gi),gr;try{for(mi.s();!(gr=mi.n()).done;){var zn=gr.value,Ki=Object(we.a)(zn,2),Bn=Ki[0],ai=Ki[1];ir.has(Bn)&&yi.set(Bn,ai)}}catch(dn){mi.e(dn)}finally{mi.f()}return yi}var In=$.ambiguousCharacterData.value,Dt=bt.filter(function(gi){return!gi.startsWith("_")&&gi in In});Dt.length===0&&(Dt=["_default"]);var jn=void 0,_n=Object(ce.a)(Dt),Nn;try{for(_n.s();!(Nn=_n.n()).done;){var ei=Nn.value,kn=Bt(In[ei]);jn=an(jn,kn)}}catch(gi){_n.e(gi)}finally{_n.f()}var Pn=Bt(In._common),qi=rn(Pn,jn);return new ft(qi)}),ft._locales=new te.a(function(){return Object.keys(ft.ambiguousCharacterData.value).filter(function(bt){return!bt.startsWith("_")})});var qt=function(){function bt(){Object(w.a)(this,bt)}return Object(ve.a)(bt,null,[{key:"getRawData",value:function(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}},{key:"getData",value:function(){return this._data||(this._data=new Set(bt.getRawData())),this._data}},{key:"isInvisibleCharacter",value:function(rn){return bt.getData().has(rn)}},{key:"codePoints",get:function(){return bt.getData()}}]),bt}();qt._data=void 0},"O/se":function(mn,U,a){"use strict";a.d(U,"a",function(){return $});var ce=a("fWQN"),we=a("mtLc"),w=a("EffR"),ve=a("N0LK"),se=a("VPJY"),te=a.n(se),$=function(){function _(Y,E,Z){Object(ce.a)(this,_),this.options=E,this.styles=Z,this.count=0,this.element=Object(w.append)(Y,Object(w.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}return Object(we.a)(_,[{key:"setCount",value:function(E){this.count=E,this.render()}},{key:"setTitleFormat",value:function(E){this.titleFormat=E,this.render()}},{key:"render",value:function(){var E,Z;this.element.textContent=Object(ve.v)(this.countFormat,this.count),this.element.title=Object(ve.v)(this.titleFormat,this.count),this.element.style.backgroundColor=(E=this.styles.badgeBackground)!==null&&E!==void 0?E:"",this.element.style.color=(Z=this.styles.badgeForeground)!==null&&Z!==void 0?Z:"",this.styles.badgeBorder&&(this.element.style.border="1px solid ".concat(this.styles.badgeBorder))}}]),_}()},OAO6:function(mn,U,a){"use strict";a.d(U,"a",function(){return ve}),a.d(U,"b",function(){return se}),a.d(U,"c",function(){return te}),a.d(U,"d",function(){return $});var ce=a("mtLc"),we=a("fWQN"),w=a("Cg/j"),ve=Object(w.c)("undoRedoService"),se=Object(ce.a)(function _(Y,E){Object(we.a)(this,_),this.resource=Y,this.elements=E}),te=function(){function _(){Object(we.a)(this,_),this.id=_._ID++,this.order=1}return Object(ce.a)(_,[{key:"nextOrder",value:function(){return this.id===0?0:this.order++}}]),_}();te._ID=0,te.None=new te;var $=function(){function _(){Object(we.a)(this,_),this.id=_._ID++,this.order=1}return Object(ce.a)(_,[{key:"nextOrder",value:function(){return this.id===0?0:this.order++}}]),_}();$._ID=0,$.None=new $},OBOq:function(mn,U,a){"use strict";a.d(U,"b",function(){return Z}),a.d(U,"a",function(){return ne}),a.d(U,"c",function(){return V});var ce=a("EffR"),we=a("MNsG"),w=a("UCkY"),ve=a.n(w),se=2e4,te,$,_,Y,E;function Z(F){te=document.createElement("div"),te.className="monaco-aria-container";var W=function(){var d=document.createElement("div");return d.className="monaco-alert",d.setAttribute("role","alert"),d.setAttribute("aria-atomic","true"),te.appendChild(d),d};$=W(),_=W();var N=function(){var d=document.createElement("div");return d.className="monaco-status",d.setAttribute("role","complementary"),d.setAttribute("aria-live","polite"),d.setAttribute("aria-atomic","true"),te.appendChild(d),d};Y=N(),E=N(),F.appendChild(te)}function ne(F){!te||($.textContent!==F?(ce.clearNode(_),B($,F)):(ce.clearNode($),B(_,F)))}function V(F){!te||(we.i?ne(F):Y.textContent!==F?(ce.clearNode(E),B(Y,F)):(ce.clearNode(Y),B(E,F)))}function B(F,W){ce.clearNode(F),W.length>se&&(W=W.substr(0,se)),F.textContent=W,F.style.visibility="hidden",F.style.visibility="visible"}},OKK6:function(mn,U,a){},OQeR:function(mn,U,a){"use strict";a.d(U,"a",function(){return w});var ce=a("fWQN"),we=a("mtLc"),w=function(){function ve(se,te,$,_,Y){Object(ce.a)(this,ve),this._initialScrollTop=se,this._initialContentHeight=te,this._visiblePosition=$,this._visiblePositionScrollDelta=_,this._cursorPosition=Y}return Object(we.a)(ve,[{key:"restore",value:function(te){if(!(this._initialContentHeight===te.getContentHeight()&&this._initialScrollTop===te.getScrollTop())&&this._visiblePosition){var $=te.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);te.setScrollTop($+this._visiblePositionScrollDelta)}}},{key:"restoreRelativeVerticalPositionOfCursor",value:function(te){if(!(this._initialContentHeight===te.getContentHeight()&&this._initialScrollTop===te.getScrollTop())){var $=te.getPosition();if(!(!this._cursorPosition||!$)){var _=te.getTopForLineNumber($.lineNumber)-te.getTopForLineNumber(this._cursorPosition.lineNumber);te.setScrollTop(te.getScrollTop()+_)}}}}],[{key:"capture",value:function(te){if(te.getScrollTop()===0||te.hasPendingScrollAnimation())return new ve(te.getScrollTop(),te.getContentHeight(),null,0,null);var $=null,_=0,Y=te.getVisibleRanges();if(Y.length>0){$=Y[0].getStartPosition();var E=te.getTopForPosition($.lineNumber,$.column);_=te.getScrollTop()-E}return new ve(te.getScrollTop(),te.getContentHeight(),$,_,te.getPosition())}}]),ve}()},PArb:function(mn,U,a){"use strict";var ce=a("wx14"),we=a("rePB"),w=a("TSYQ"),ve=a.n(w),se=a("q1tI"),te=a.n(se),$=a("H84U"),_=function(E,Z){var ne={};for(var V in E)Object.prototype.hasOwnProperty.call(E,V)&&Z.indexOf(V)<0&&(ne[V]=E[V]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var B=0,V=Object.getOwnPropertySymbols(E);B<V.length;B++)Z.indexOf(V[B])<0&&Object.prototype.propertyIsEnumerable.call(E,V[B])&&(ne[V[B]]=E[V[B]]);return ne},Y=function(Z){var ne,V=se.useContext($.b),B=V.getPrefixCls,F=V.direction,W=Z.prefixCls,N=Z.type,H=N===void 0?"horizontal":N,d=Z.orientation,D=d===void 0?"center":d,C=Z.orientationMargin,x=Z.className,O=Z.children,T=Z.dashed,z=Z.plain,I=_(Z,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),de=B("divider",W),pe=D.length>0?"-".concat(D):D,fe=!!O,ke=D==="left"&&C!=null,A=D==="right"&&C!=null,P=ve()(de,"".concat(de,"-").concat(H),(ne={},Object(we.a)(ne,"".concat(de,"-with-text"),fe),Object(we.a)(ne,"".concat(de,"-with-text").concat(pe),fe),Object(we.a)(ne,"".concat(de,"-dashed"),!!T),Object(we.a)(ne,"".concat(de,"-plain"),!!z),Object(we.a)(ne,"".concat(de,"-rtl"),F==="rtl"),Object(we.a)(ne,"".concat(de,"-no-default-orientation-margin-left"),ke),Object(we.a)(ne,"".concat(de,"-no-default-orientation-margin-right"),A),ne),x),G=Object(ce.a)(Object(ce.a)({},ke&&{marginLeft:C}),A&&{marginRight:C});return se.createElement("div",Object(ce.a)({className:P},I,{role:"separator"}),O&&H!=="vertical"&&se.createElement("span",{className:"".concat(de,"-inner-text"),style:G},O))};U.a=Y},PNUv:function(mn,U,a){"use strict";a.d(U,"a",function(){return De});var ce=a("GNNt"),we=a("wEI+"),w=a("Ff2n"),ve=a("y8nQ"),se=a("Vl3Y"),te=a("14J3"),$=a("BMrR"),_=a("/zsF"),Y=a("PArb"),E=a("jCWc"),Z=a("kPKH"),ne=a("ODXe"),V=a("VTBJ"),B=a("nKUr"),F=a("LQCs"),W=a("7z/i"),N=a("9mHw"),H=a("TSYQ"),d=a.n(H),D=a("t23M"),C=a("6cGi"),x=a("q1tI"),O=a.n(x),T=a("T1Ok"),z=a("DYRE"),I=a("zeV3"),de=a("8Skl"),pe=a("BY2G"),fe=function(Oe,Pe,Ne,Fe){return Oe?Object(B.jsxs)(B.Fragment,{children:[Ne.getMessage("tableForm.collapsed","\u5C55\u5F00"),Fe&&"(".concat(Fe,")"),Object(B.jsx)(de.a,{style:{marginLeft:"0.5em",transition:"0.3s all",transform:"rotate(".concat(Oe?0:.5,"turn)")}})]}):Object(B.jsxs)(B.Fragment,{children:[Ne.getMessage("tableForm.expand","\u6536\u8D77"),Object(B.jsx)(de.a,{style:{marginLeft:"0.5em",transition:"0.3s all",transform:"rotate(".concat(Oe?0:.5,"turn)")}})]})},ke=function(Oe){var Pe=Oe.setCollapsed,Ne=Oe.collapsed,Fe=Ne===void 0?!1:Ne,Xe=Oe.submitter,Et=Oe.style,Ft=Oe.hiddenNum,Ot=Object(x.useContext)(we.a.ConfigContext),pt=Ot.getPrefixCls,Lt=Object(F.d)(),et=Object(pe.a)(Oe.collapseRender)||fe;return Object(B.jsxs)(I.b,{style:Et,size:16,children:[Xe,Oe.collapseRender!==!1&&Object(B.jsx)("a",{className:pt("pro-form-collapse-button"),onClick:function(){return Pe(!Fe)},children:et==null?void 0:et(Fe,Oe,Lt,Ft)})]})},A=ke,P=["collapsed","layout","defaultCollapsed","defaultColsNumber","span","searchGutter","searchText","resetText","optionRender","collapseRender","onReset","onCollapse","labelWidth","style","split","preserve","ignoreRules","showHiddenNum"],G,re,ae={xs:513,sm:513,md:785,lg:992,xl:1057,xxl:Infinity},Q={vertical:[[513,1,"vertical"],[785,2,"vertical"],[1057,3,"vertical"],[Infinity,4,"vertical"]],default:[[513,1,"vertical"],[701,2,"vertical"],[1062,3,"horizontal"],[1352,3,"horizontal"],[Infinity,4,"horizontal"]]},J=function(Oe,Pe,Ne){if(Ne&&typeof Ne=="number")return{span:Ne,layout:Oe};var Fe=Ne?["xs","sm","md","lg","xl","xxl"].map(function(Et){return[ae[Et],24/Ne[Et],"horizontal"]}):Q[Oe||"default"],Xe=(Fe||Q.default).find(function(Et){return Pe<Et[0]+16});return{span:24/Xe[1],layout:Xe[2]}},me=function(Oe,Pe){return Oe.flatMap(function(Ne){var Fe;if((Ne==null?void 0:Ne.type.displayName)==="ProForm-Group"&&!((Fe=Ne.props)===null||Fe===void 0?void 0:Fe.title))return Ne.props.children;if(Pe&&O.a.isValidElement(Ne)){var Xe;return O.a.cloneElement(Ne,Object(V.a)(Object(V.a)({},Ne.props),{},{formItemProps:Object(V.a)(Object(V.a)({},(Xe=Ne.props)===null||Xe===void 0?void 0:Xe.formItemProps),{},{rules:[]})}))}return Ne})},ge=function(Oe){var Pe=Object(F.d)(),Ne=Oe.resetText||Pe.getMessage("tableForm.reset","\u91CD\u7F6E"),Fe=Oe.searchText||Pe.getMessage("tableForm.search","\u641C\u7D22"),Xe=Object(C.a)(function(){return Oe.defaultCollapsed&&!!Oe.submitter},{value:Oe.collapsed,onChange:Oe.onCollapse}),Et=Object(ne.a)(Xe,2),Ft=Et[0],Ot=Et[1],pt=Oe.optionRender,Lt=Oe.collapseRender,et=Oe.split,Vt=Oe.items,Re=Oe.spanSize,Ce=Oe.showLength,ye=Oe.searchGutter,Te=Oe.showHiddenNum,Qe=Object(x.useMemo)(function(){return!Oe.submitter||pt===!1?null:O.a.cloneElement(Oe.submitter,Object(V.a)({searchConfig:{resetText:Ne,submitText:Fe},render:pt&&function(rn,an){return pt(Object(V.a)(Object(V.a)({},Oe),{},{resetText:Ne,searchText:Fe}),Oe,an)}},Oe.submitter.props))},[Oe,Ne,Fe,pt]),$e=0,ze=0,ot=!1,He=0,Ge=0,Je=me(Vt,Oe.ignoreRules).map(function(rn,an){var In,Dt,jn,_n,Nn=O.a.isValidElement(rn)&&(In=rn==null||(Dt=rn.props)===null||Dt===void 0?void 0:Dt.colSize)!==null&&In!==void 0?In:1,ei=Math.min(Re.span*(Nn||1),24);if($e+=ei,He+=Nn,an===0){var kn;ot=ei===24&&!(rn==null||(kn=rn.props)===null||kn===void 0?void 0:kn.hidden)}var Pn=(rn==null||(jn=rn.props)===null||jn===void 0?void 0:jn.hidden)||Ft&&(ot||He>Ce-1)&&!!an&&$e>=24;ze+=1;var qi=O.a.isValidElement(rn)&&(rn.key||"".concat((_n=rn.props)===null||_n===void 0?void 0:_n.name))||an;return O.a.isValidElement(rn)&&Pn?Oe.preserve?{itemDom:O.a.cloneElement(rn,{hidden:!0,key:qi||an}),hidden:!0,colSpan:ei}:{itemDom:null,colSpan:0,hidden:!0}:{itemDom:rn,colSpan:ei,hidden:!1}}),ft=Je.map(function(rn,an){var In,Dt,jn=rn.itemDom,_n=rn.colSpan,Nn=jn==null||(In=jn.props)===null||In===void 0?void 0:In.hidden;if(Nn)return jn;var ei=O.a.isValidElement(jn)&&(jn.key||"".concat((Dt=jn.props)===null||Dt===void 0?void 0:Dt.name))||an;24-Ge%24<_n&&($e+=24-Ge%24,Ge+=24-Ge%24),Ge+=_n;var kn=Object(B.jsx)(Z.a,{span:_n,children:jn},ei);return et&&Ge%24==0&&an<ze-1?[kn,Object(B.jsx)(Z.a,{span:"24",children:Object(B.jsx)(Y.a,{style:{marginTop:-8,marginBottom:16},dashed:!0})},"line")]:kn}),qt=Te&&Je.filter(function(rn){return rn.hidden}).length,bt=Object(x.useMemo)(function(){return!($e<24||He<=Ce)},[He,Ce,$e]),Bt=Object(x.useMemo)(function(){var rn=Ge%24+Re.span;return 24-rn},[Ge,Re.span]);return Object(B.jsxs)($.a,{gutter:ye,justify:"start",children:[ft,Qe&&Object(B.jsx)(Z.a,{span:Re.span,offset:Bt,style:{textAlign:"right"},children:Object(B.jsx)(se.a.Item,{label:" ",colon:!1,className:"pro-form-query-filter-actions",children:Object(B.jsx)(A,{hiddenNum:qt,collapsed:Ft,collapseRender:bt?Lt:!1,submitter:Qe,setCollapsed:Ot},"pro-form-query-filter-actions")})},"submitter")]},"resize-observer-row")},L=Object(W.a)()?(G=document)===null||G===void 0||(re=G.body)===null||re===void 0?void 0:re.clientWidth:1024;function De(Ae){var Oe=Ae.collapsed,Pe=Ae.layout,Ne=Ae.defaultCollapsed,Fe=Ne===void 0?!0:Ne,Xe=Ae.defaultColsNumber,Et=Ae.span,Ft=Ae.searchGutter,Ot=Ft===void 0?24:Ft,pt=Ae.searchText,Lt=Ae.resetText,et=Ae.optionRender,Vt=Ae.collapseRender,Re=Ae.onReset,Ce=Ae.onCollapse,ye=Ae.labelWidth,Te=ye===void 0?"80":ye,Qe=Ae.style,$e=Ae.split,ze=Ae.preserve,ot=ze===void 0?!0:ze,He=Ae.ignoreRules,Ge=Ae.showHiddenNum,Je=Ge===void 0?!1:Ge,ft=Object(w.a)(Ae,P),qt=Object(x.useContext)(we.a.ConfigContext),bt=qt.getPrefixCls("pro-form-query-filter"),Bt=Object(N.a)(function(){return typeof(Qe==null?void 0:Qe.width)=="number"?Qe==null?void 0:Qe.width:L}),rn=Object(ne.a)(Bt,2),an=rn[0],In=rn[1],Dt=Object(x.useMemo)(function(){return J(Pe,an+16,Et)},[Pe,an,Et]),jn=Object(x.useMemo)(function(){return Xe!==void 0?Xe-1:Math.max(1,24/Dt.span-1)},[Xe,Dt.span]),_n=Object(x.useMemo)(function(){if(Te&&Dt.layout!=="vertical"&&Te!=="auto")return{labelCol:{flex:"0 0 ".concat(Te,"px")},wrapperCol:{style:{maxWidth:"calc(100% - ".concat(Te,"px)")}},style:{flexWrap:"nowrap"}}},[Dt.layout,Te]);return Object(B.jsx)(D.a,{onResize:function(ei){an!==ei.width&&ei.width>17&&In(ei.width)},children:Object(B.jsx)(T.a,Object(V.a)(Object(V.a)({isKeyPressSubmit:!0,preserve:ot},ft),{},{className:d()(bt,ft.className),onReset:Re,style:Qe,layout:Dt.layout,fieldProps:{style:{width:"100%"}},formItemProps:_n,groupProps:{titleStyle:{display:"inline-block",marginRight:16}},contentRender:function(ei,kn,Pn){return Object(B.jsx)(ge,{spanSize:Dt,collapsed:Oe,form:Pn,collapseRender:Vt,defaultCollapsed:Fe,onCollapse:Ce,optionRender:et,submitter:kn,items:ei,split:$e,resetText:Ae.resetText,searchText:Ae.searchText,searchGutter:Ot,preserve:ot,ignoreRules:He,showLength:jn,showHiddenNum:Je})}}))},"resize-observer")}},PPCJ:function(mn,U,a){},PTeM:function(mn,U,a){"use strict";a.d(U,"e",function(){return se}),a.d(U,"d",function(){return te}),a.d(U,"a",function(){return $}),a.d(U,"c",function(){return _}),a.d(U,"b",function(){return E});var ce=a("MrjW"),we=a("MNsG"),w=a("N0LK");function ve(Z){return Z===47||Z===92}function se(Z){return Z.replace(/[\\/]/g,ce.e.sep)}function te(Z){return Z.indexOf("/")===-1&&(Z=se(Z)),/^[a-zA-Z]:(\/|$)/.test(Z)&&(Z="/"+Z),Z}function $(Z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ce.e.sep;if(!Z)return"";var V=Z.length,B=Z.charCodeAt(0);if(ve(B)){if(ve(Z.charCodeAt(1))&&!ve(Z.charCodeAt(2))){for(var F=3,W=F;F<V&&!ve(Z.charCodeAt(F));F++);if(W!==F&&!ve(Z.charCodeAt(F+1))){for(F+=1;F<V;F++)if(ve(Z.charCodeAt(F)))return Z.slice(0,F+1).replace(/[\\/]/g,ne)}}return ne}else if(Y(B)&&Z.charCodeAt(1)===58)return ve(Z.charCodeAt(2))?Z.slice(0,2)+ne:Z.slice(0,2);var N=Z.indexOf("://");if(N!==-1){for(N+=3;N<V;N++)if(ve(Z.charCodeAt(N)))return Z.slice(0,N+1)}return""}function _(Z,ne,V){var B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ce.h;if(Z===ne)return!0;if(!Z||!ne||ne.length>Z.length)return!1;if(V){var F=Object(w.T)(Z,ne);if(!F)return!1;if(ne.length===Z.length)return!0;var W=ne.length;return ne.charAt(ne.length-1)===B&&W--,Z.charAt(W)===B}return ne.charAt(ne.length-1)!==B&&(ne+=B),Z.indexOf(ne)===0}function Y(Z){return Z>=65&&Z<=90||Z>=97&&Z<=122}function E(Z){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we.o;return ne?Y(Z.charCodeAt(0))&&Z.charCodeAt(1)===58:!1}},PXCW:function(mn,U,a){"use strict";a.d(U,"b",function(){return ve}),a.d(U,"c",function(){return se}),a.d(U,"a",function(){return te});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve;(function(_){_[_.None=0]="None",_[_.Indent=1]="Indent",_[_.IndentOutdent=2]="IndentOutdent",_[_.Outdent=3]="Outdent"})(ve||(ve={}));var se=function(){function _(Y){if(Object(we.a)(this,_),this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=Y.open,this.close=Y.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(Y.notIn))for(var E=0,Z=Y.notIn.length;E<Z;E++){var ne=Y.notIn[E];switch(ne){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}}return Object(w.a)(_,[{key:"isOK",value:function(E){switch(E){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}},{key:"shouldAutoClose",value:function(E,Z){if(E.getTokenCount()===0)return!0;var ne=E.findTokenIndexAtOffset(Z-2),V=E.getStandardTokenType(ne);return this.isOK(V)}},{key:"_findNeutralCharacterInRange",value:function(E,Z){for(var ne=E;ne<=Z;ne++){var V=String.fromCharCode(ne);if(!this.open.includes(V)&&!this.close.includes(V))return V}return null}},{key:"findNeutralCharacter",value:function(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}]),_}(),te=Object(w.a)(function _(Y){Object(we.a)(this,_),this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;var E=Object(ce.a)(Y),Z;try{for(E.s();!(Z=E.n()).done;){var ne=Z.value;$(this.autoClosingPairsOpenByStart,ne.open.charAt(0),ne),$(this.autoClosingPairsOpenByEnd,ne.open.charAt(ne.open.length-1),ne),$(this.autoClosingPairsCloseByStart,ne.close.charAt(0),ne),$(this.autoClosingPairsCloseByEnd,ne.close.charAt(ne.close.length-1),ne),ne.close.length===1&&ne.open.length===1&&$(this.autoClosingPairsCloseSingleChar,ne.close,ne)}}catch(V){E.e(V)}finally{E.f()}});function $(_,Y,E){_.has(Y)?_.get(Y).push(E):_.set(Y,[E])}},"Pv/L":function(mn,U,a){"use strict";a.d(U,"a",function(){return se});var ce=a("+kx5"),we=a("Y9hK"),w=a("Qw5x"),ve=a("u6e6");function se(te){return Object(ce.a)(te)||Object(we.a)(te)||Object(w.a)(te)||Object(ve.a)()}},Q4rV:function(mn,U,a){"use strict";a.d(U,"b",function(){return ve}),a.d(U,"a",function(){return se});var ce=a("HpOR"),we=a("N0LK"),w=a("bY76");function ve(_){return JSON.stringify(_,te)}function se(_){var Y=JSON.parse(_);return Y=$(Y),Y}function te(_,Y){return Y instanceof RegExp?{$mid:2,source:Y.source,flags:Object(we.O)(Y)}:Y}function $(_){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!_||Y>200)return _;if(typeof _=="object"){switch(_.$mid){case 1:return w.a.revive(_);case 2:return new RegExp(_.source,_.flags);case 16:return new Date(_.source)}if(_ instanceof ce.a||_ instanceof Uint8Array)return _;if(Array.isArray(_))for(var E=0;E<_.length;++E)_[E]=$(_[E],Y+1);else for(var Z in _)Object.hasOwnProperty.call(_,Z)&&(_[Z]=$(_[Z],Y+1))}return _}},QDVR:function(mn,U,a){"use strict";a.d(U,"b",function(){return B}),a.d(U,"a",function(){return W});var ce=a("w4Tj"),we=a("oZsa"),w=a("yKVA"),ve=a("879j"),se=a("jrin"),te=a("qLMh"),$=a("rAM+"),_=a("tJVT"),Y=a("mtLc"),E=a("fWQN"),Z,ne,V=Object(Y.a)(function N(H,d){Object(E.a)(this,N),this.uri=H,this.value=d}),B=function(N){function H(d,D){Object(E.a)(this,H),this[Z]="ResourceMap",d instanceof H?(this.map=new Map(d.map),this.toKey=D!=null?D:H.defaultToKey):(this.map=new Map,this.toKey=d!=null?d:H.defaultToKey)}return Object(Y.a)(H,[{key:"set",value:function(D,C){return this.map.set(this.toKey(D),new V(D,C)),this}},{key:"get",value:function(D){var C;return(C=this.map.get(this.toKey(D)))===null||C===void 0?void 0:C.value}},{key:"has",value:function(D){return this.map.has(this.toKey(D))}},{key:"size",get:function(){return this.map.size}},{key:"clear",value:function(){this.map.clear()}},{key:"delete",value:function(D){return this.map.delete(this.toKey(D))}},{key:"forEach",value:function(D,C){typeof C!="undefined"&&(D=D.bind(C));var x=Object($.a)(this.map),O;try{for(x.s();!(O=x.n()).done;){var T=O.value,z=Object(_.a)(T,2),I=z[0],de=z[1];D(de.value,de.uri,this)}}catch(pe){x.e(pe)}finally{x.f()}}},{key:"values",value:Object(te.a)().mark(function d(){var D,C,x;return Object(te.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:D=Object($.a)(this.map.values()),T.prev=1,D.s();case 3:if((C=D.n()).done){T.next=9;break}return x=C.value,T.next=7,x.value;case 7:T.next=3;break;case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),D.e(T.t0);case 14:return T.prev=14,D.f(),T.finish(14);case 17:case"end":return T.stop()}},d,this,[[1,11,14,17]])})},{key:"keys",value:Object(te.a)().mark(function d(){var D,C,x;return Object(te.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:D=Object($.a)(this.map.values()),T.prev=1,D.s();case 3:if((C=D.n()).done){T.next=9;break}return x=C.value,T.next=7,x.uri;case 7:T.next=3;break;case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),D.e(T.t0);case 14:return T.prev=14,D.f(),T.finish(14);case 17:case"end":return T.stop()}},d,this,[[1,11,14,17]])})},{key:"entries",value:Object(te.a)().mark(function d(){var D,C,x;return Object(te.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:D=Object($.a)(this.map.values()),T.prev=1,D.s();case 3:if((C=D.n()).done){T.next=9;break}return x=C.value,T.next=7,[x.uri,x.value];case 7:T.next=3;break;case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),D.e(T.t0);case 14:return T.prev=14,D.f(),T.finish(14);case 17:case"end":return T.stop()}},d,this,[[1,11,14,17]])})},{key:N,value:Object(te.a)().mark(function d(){var D,C,x,O,T;return Object(te.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:D=Object($.a)(this.map),I.prev=1,D.s();case 3:if((C=D.n()).done){I.next=11;break}return x=C.value,O=Object(_.a)(x,2),T=O[1],I.next=9,[T.uri,T.value];case 9:I.next=3;break;case 11:I.next=16;break;case 13:I.prev=13,I.t0=I.catch(1),D.e(I.t0);case 16:return I.prev=16,D.f(),I.finish(16);case 19:case"end":return I.stop()}},d,this,[[1,13,16,19]])})}]),H}((Z=Symbol.toStringTag,Symbol.iterator));B.defaultToKey=function(N){return N.toString()};var F=function(N){function H(){Object(E.a)(this,H),this[ne]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}return Object(Y.a)(H,[{key:"clear",value:function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}},{key:"isEmpty",value:function(){return!this._head&&!this._tail}},{key:"size",get:function(){return this._size}},{key:"first",get:function(){var D;return(D=this._head)===null||D===void 0?void 0:D.value}},{key:"last",get:function(){var D;return(D=this._tail)===null||D===void 0?void 0:D.value}},{key:"has",value:function(D){return this._map.has(D)}},{key:"get",value:function(D){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=this._map.get(D);if(!!x)return C!==0&&this.touch(x,C),x.value}},{key:"set",value:function(D,C){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,O=this._map.get(D);if(O)O.value=C,x!==0&&this.touch(O,x);else{switch(O={key:D,value:C,next:void 0,previous:void 0},x){case 0:this.addItemLast(O);break;case 1:this.addItemFirst(O);break;case 2:this.addItemLast(O);break;default:this.addItemLast(O);break}this._map.set(D,O),this._size++}return this}},{key:"delete",value:function(D){return!!this.remove(D)}},{key:"remove",value:function(D){var C=this._map.get(D);if(!!C)return this._map.delete(D),this.removeItem(C),this._size--,C.value}},{key:"shift",value:function(){if(!(!this._head&&!this._tail)){if(!this._head||!this._tail)throw new Error("Invalid list");var D=this._head;return this._map.delete(D.key),this.removeItem(D),this._size--,D.value}}},{key:"forEach",value:function(D,C){for(var x=this._state,O=this._head;O;){if(C?D.bind(C)(O.value,O.key,this):D(O.value,O.key,this),this._state!==x)throw new Error("LinkedMap got modified during iteration.");O=O.next}}},{key:"keys",value:function(){var D,C=this,x=this._state,O=this._head,T=(D={},Object(se.a)(D,Symbol.iterator,function(){return T}),Object(se.a)(D,"next",function(){if(C._state!==x)throw new Error("LinkedMap got modified during iteration.");if(O){var I={value:O.key,done:!1};return O=O.next,I}else return{value:void 0,done:!0}}),D);return T}},{key:"values",value:function(){var D,C=this,x=this._state,O=this._head,T=(D={},Object(se.a)(D,Symbol.iterator,function(){return T}),Object(se.a)(D,"next",function(){if(C._state!==x)throw new Error("LinkedMap got modified during iteration.");if(O){var I={value:O.value,done:!1};return O=O.next,I}else return{value:void 0,done:!0}}),D);return T}},{key:"entries",value:function(){var D,C=this,x=this._state,O=this._head,T=(D={},Object(se.a)(D,Symbol.iterator,function(){return T}),Object(se.a)(D,"next",function(){if(C._state!==x)throw new Error("LinkedMap got modified during iteration.");if(O){var I={value:[O.key,O.value],done:!1};return O=O.next,I}else return{value:void 0,done:!0}}),D);return T}},{key:N,value:function(){return this.entries()}},{key:"trimOld",value:function(D){if(!(D>=this.size)){if(D===0){this.clear();return}for(var C=this._head,x=this.size;C&&x>D;)this._map.delete(C.key),C=C.next,x--;this._head=C,this._size=x,C&&(C.previous=void 0),this._state++}}},{key:"addItemFirst",value:function(D){if(!this._head&&!this._tail)this._tail=D;else if(this._head)D.next=this._head,this._head.previous=D;else throw new Error("Invalid list");this._head=D,this._state++}},{key:"addItemLast",value:function(D){if(!this._head&&!this._tail)this._head=D;else if(this._tail)D.previous=this._tail,this._tail.next=D;else throw new Error("Invalid list");this._tail=D,this._state++}},{key:"removeItem",value:function(D){if(D===this._head&&D===this._tail)this._head=void 0,this._tail=void 0;else if(D===this._head){if(!D.next)throw new Error("Invalid list");D.next.previous=void 0,this._head=D.next}else if(D===this._tail){if(!D.previous)throw new Error("Invalid list");D.previous.next=void 0,this._tail=D.previous}else{var C=D.next,x=D.previous;if(!C||!x)throw new Error("Invalid list");C.previous=x,x.next=C}D.next=void 0,D.previous=void 0,this._state++}},{key:"touch",value:function(D,C){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(C!==1&&C!==2)){if(C===1){if(D===this._head)return;var x=D.next,O=D.previous;D===this._tail?(O.next=void 0,this._tail=O):(x.previous=O,O.next=x),D.previous=void 0,D.next=this._head,this._head.previous=D,this._head=D,this._state++}else if(C===2){if(D===this._tail)return;var T=D.next,z=D.previous;D===this._head?(T.previous=void 0,this._head=T):(T.previous=z,z.next=T),D.next=void 0,D.previous=this._tail,this._tail.next=D,this._tail=D,this._state++}}}},{key:"toJSON",value:function(){var D=[];return this.forEach(function(C,x){D.push([x,C])}),D}},{key:"fromJSON",value:function(D){this.clear();var C=Object($.a)(D),x;try{for(C.s();!(x=C.n()).done;){var O=x.value,T=Object(_.a)(O,2),z=T[0],I=T[1];this.set(z,I)}}catch(de){C.e(de)}finally{C.f()}}}]),H}((ne=Symbol.toStringTag,Symbol.iterator)),W=function(N){Object(w.a)(d,N);var H=Object(ve.a)(d);function d(D){var C,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Object(E.a)(this,d),C=H.call(this),C._limit=D,C._ratio=Math.min(Math.max(0,x),1),C}return Object(Y.a)(d,[{key:"limit",get:function(){return this._limit},set:function(C){this._limit=C,this.checkTrim()}},{key:"get",value:function(C){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Object(ce.a)(Object(we.a)(d.prototype),"get",this).call(this,C,x)}},{key:"peek",value:function(C){return Object(ce.a)(Object(we.a)(d.prototype),"get",this).call(this,C,0)}},{key:"set",value:function(C,x){return Object(ce.a)(Object(we.a)(d.prototype),"set",this).call(this,C,x,2),this.checkTrim(),this}},{key:"checkTrim",value:function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}]),d}(F)},QMLA:function(mn,U,a){},QRuL:function(mn,U,a){"use strict";a.d(U,"g",function(){return V}),a.d(U,"a",function(){return B}),a.d(U,"i",function(){return N}),a.d(U,"h",function(){return H}),a.d(U,"c",function(){return d}),a.d(U,"d",function(){return D}),a.d(U,"e",function(){return C}),a.d(U,"f",function(){return x}),a.d(U,"b",function(){return O});var ce=a("tJVT"),we=a("rAM+"),w=a("yKVA"),ve=a("879j"),se=a("fWQN"),te=a("mtLc"),$=a("EffR"),_=a("a4d6"),Y=a("XSiN"),E=a("X+cX"),Z=a("pmY6"),ne=a("MD5Z"),V=function(){function I(de,pe){Object(se.a)(this,I),this.x=de,this.y=pe,this._pageCoordinatesBrand=void 0}return Object(te.a)(I,[{key:"toClientCoordinates",value:function(){return new B(this.x-window.scrollX,this.y-window.scrollY)}}]),I}(),B=function(){function I(de,pe){Object(se.a)(this,I),this.clientX=de,this.clientY=pe,this._clientCoordinatesBrand=void 0}return Object(te.a)(I,[{key:"toPageCoordinates",value:function(){return new V(this.clientX+window.scrollX,this.clientY+window.scrollY)}}]),I}(),F=Object(te.a)(function I(de,pe,fe,ke){Object(se.a)(this,I),this.x=de,this.y=pe,this.width=fe,this.height=ke,this._editorPagePositionBrand=void 0}),W=Object(te.a)(function I(de,pe){Object(se.a)(this,I),this.x=de,this.y=pe,this._positionRelativeToEditorBrand=void 0});function N(I){var de=$.getDomNodePagePosition(I);return new F(de.left,de.top,de.width,de.height)}function H(I,de,pe){var fe=de.width/I.offsetWidth,ke=de.height/I.offsetHeight,A=(pe.x-de.x)/fe,P=(pe.y-de.y)/ke;return new W(A,P)}var d=function(I){Object(w.a)(pe,I);var de=Object(ve.a)(pe);function pe(fe,ke,A){var P;return Object(se.a)(this,pe),P=de.call(this,fe),P._editorMouseEventBrand=void 0,P.isFromPointerCapture=ke,P.pos=new V(P.posx,P.posy),P.editorPos=N(A),P.relativePos=H(A,P.editorPos,P.pos),P}return Object(te.a)(pe)}(Y.a),D=function(){function I(de){Object(se.a)(this,I),this._editorViewDomNode=de}return Object(te.a)(I,[{key:"_create",value:function(pe){return new d(pe,!1,this._editorViewDomNode)}},{key:"onContextMenu",value:function(pe,fe){var ke=this;return $.addDisposableListener(pe,"contextmenu",function(A){fe(ke._create(A))})}},{key:"onMouseUp",value:function(pe,fe){var ke=this;return $.addDisposableListener(pe,"mouseup",function(A){fe(ke._create(A))})}},{key:"onMouseDown",value:function(pe,fe){var ke=this;return $.addDisposableListener(pe,$.EventType.MOUSE_DOWN,function(A){fe(ke._create(A))})}},{key:"onPointerDown",value:function(pe,fe){var ke=this;return $.addDisposableListener(pe,$.EventType.POINTER_DOWN,function(A){fe(ke._create(A),A.pointerId)})}},{key:"onMouseLeave",value:function(pe,fe){var ke=this;return $.addDisposableListener(pe,$.EventType.MOUSE_LEAVE,function(A){fe(ke._create(A))})}},{key:"onMouseMove",value:function(pe,fe){var ke=this;return $.addDisposableListener(pe,"mousemove",function(A){return fe(ke._create(A))})}}]),I}(),C=function(){function I(de){Object(se.a)(this,I),this._editorViewDomNode=de}return Object(te.a)(I,[{key:"_create",value:function(pe){return new d(pe,!1,this._editorViewDomNode)}},{key:"onPointerUp",value:function(pe,fe){var ke=this;return $.addDisposableListener(pe,"pointerup",function(A){fe(ke._create(A))})}},{key:"onPointerDown",value:function(pe,fe){var ke=this;return $.addDisposableListener(pe,$.EventType.POINTER_DOWN,function(A){fe(ke._create(A),A.pointerId)})}},{key:"onPointerLeave",value:function(pe,fe){var ke=this;return $.addDisposableListener(pe,$.EventType.POINTER_LEAVE,function(A){fe(ke._create(A))})}},{key:"onPointerMove",value:function(pe,fe){var ke=this;return $.addDisposableListener(pe,"pointermove",function(A){return fe(ke._create(A))})}}]),I}(),x=function(I){Object(w.a)(pe,I);var de=Object(ve.a)(pe);function pe(fe){var ke;return Object(se.a)(this,pe),ke=de.call(this),ke._editorViewDomNode=fe,ke._globalPointerMoveMonitor=ke._register(new _.a),ke._keydownListener=null,ke}return Object(te.a)(pe,[{key:"startMonitoring",value:function(ke,A,P,G,re){var ae=this;this._keydownListener=$.addStandardDisposableListener(document,"keydown",function(Q){var J=Q.toKeyCodeChord();J.isModifierKey()||ae._globalPointerMoveMonitor.stopMonitoring(!0,Q.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(ke,A,P,function(Q){G(new d(Q,!0,ae._editorViewDomNode))},function(Q){ae._keydownListener.dispose(),re(Q)})}},{key:"stopMonitoring",value:function(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}]),pe}(Z.a),O=function(){function I(de){var pe=this;Object(se.a)(this,I),this._editor=de,this._instanceId=++I._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new E.g(function(){return pe.garbageCollect()},1e3)}return Object(te.a)(I,[{key:"createClassNameRef",value:function(pe){var fe=this,ke=this.getOrCreateRule(pe);return ke.increaseRefCount(),{className:ke.className,dispose:function(){ke.decreaseRefCount(),fe._garbageCollectionScheduler.schedule()}}}},{key:"getOrCreateRule",value:function(pe){var fe=this.computeUniqueKey(pe),ke=this._rules.get(fe);if(!ke){var A=this._counter++;ke=new T(fe,"dyn-rule-".concat(this._instanceId,"-").concat(A),$.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,pe),this._rules.set(fe,ke)}return ke}},{key:"computeUniqueKey",value:function(pe){return JSON.stringify(pe)}},{key:"garbageCollect",value:function(){var pe=Object(we.a)(this._rules.values()),fe;try{for(pe.s();!(fe=pe.n()).done;){var ke=fe.value;ke.hasReferences()||(this._rules.delete(ke.key),ke.dispose())}}catch(A){pe.e(A)}finally{pe.f()}}}]),I}();O._idPool=0;var T=function(){function I(de,pe,fe,ke){Object(se.a)(this,I),this.key=de,this.className=pe,this.properties=ke,this._referenceCount=0,this._styleElement=$.createStyleSheet(fe),this._styleElement.textContent=this.getCssText(this.className,this.properties)}return Object(te.a)(I,[{key:"getCssText",value:function(pe,fe){var ke=".".concat(pe," {");for(var A in fe){var P=fe[A],G=void 0;typeof P=="object"?G=Object(ne.c)(P.id):G=P;var re=z(A);ke+=`
	`.concat(re,": ").concat(G,";")}return ke+=`
}`,ke}},{key:"dispose",value:function(){this._styleElement.remove()}},{key:"increaseRefCount",value:function(){this._referenceCount++}},{key:"decreaseRefCount",value:function(){this._referenceCount--}},{key:"hasReferences",value:function(){return this._referenceCount>0}}]),I}();function z(I){return I.replace(/(^[A-Z])/,function(de){var pe=Object(ce.a)(de,1),fe=pe[0];return fe.toLowerCase()}).replace(/([A-Z])/g,function(de){var pe=Object(ce.a)(de,1),fe=pe[0];return"-".concat(fe.toLowerCase())})}},QaAZ:function(mn,U,a){},QdLL:function(mn,U,a){"use strict";a.d(U,"a",function(){return w});var ce=a("fWQN"),we=a("mtLc"),w=function(){function ve(se){Object(ce.a)(this,ve),this.executor=se,this._didRun=!1}return Object(we.a)(ve,[{key:"value",get:function(){if(!this._didRun)try{this._value=this.executor()}catch(te){this._error=te}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}},{key:"rawValue",get:function(){return this._value}}]),ve}()},QgJK:function(mn,U,a){"use strict";a.d(U,"a",function(){return ve});var ce=a("N0LK"),we=a("JLfW");function w(se,te,$){for(var _=0,Y=0;Y<se.length;Y++)se.charAt(Y)==="	"?_=we.a.nextIndentTabStop(_,te):_++;var E="";if(!$){var Z=Math.floor(_/te);_=_%te;for(var ne=0;ne<Z;ne++)E+="	"}for(var V=0;V<_;V++)E+=" ";return E}function ve(se,te,$){var _=ce.u(se);return _===-1&&(_=se.length),w(se.substring(0,_),te,$)+se.substring(_)}},Qiat:function(mn,U,a){"use strict";var ce=a("LQCs"),we=a("x+uP"),w=a("HaE+"),ve=a("U8pU"),se=a("ODXe"),te=a("GNNt"),$=a("wEI+"),_=a("EFp3"),Y=a("pED+"),E=a("+L6B"),Z=a("sRBo"),ne=a("qVdP"),V=a("R9oj"),B=a("5NDa"),F=a("DjyN"),W=a("7Kak"),N=a("T2oS"),H=a("5Dmo"),d=a("KxFI"),D=a("rePB"),C=a("wx14"),x=a("TSYQ"),O=a.n(x),T=a("VTBJ"),z=a("KQm4"),I=a("q1tI"),de=a.n(I),pe=a("x/xZ"),fe=a("bX4T"),ke=a("tl68"),A=a("Gytx"),P=a.n(A),G=a("Kwbf"),re=a("t23M"),ae=a("qx4F");function Q(Ue){return null}var J=Q;function me(Ue){return null}var ge=me,L=a("Ff2n"),De=a("c+Xe"),Ae="RC_TABLE_KEY";function Oe(Ue){return Ue==null?[]:Array.isArray(Ue)?Ue:[Ue]}function Pe(Ue,Be){if(!Be&&typeof Be!="number")return Ue;for(var St=Oe(Be),rt=Ue,ht=0;ht<St.length;ht+=1){if(!rt)return null;var Kt=St[ht];rt=rt[Kt]}return rt}function Ne(Ue){var Be=[],St={};return Ue.forEach(function(rt){for(var ht=rt||{},Kt=ht.key,fn=ht.dataIndex,tn=Kt||Oe(fn).join("-")||Ae;St[tn];)tn="".concat(tn,"_next");St[tn]=!0,Be.push(tn)}),Be}function Fe(Ue){return Ue!=null}var Xe=I.createContext(!1),Et=Xe,Ft=a("TNol"),Ot=a("mBDr");function pt(){var Ue=I.createContext(null),Be=function(rt){var ht=rt.value,Kt=rt.children,fn=I.useRef(ht);fn.current=ht;var tn=I.useState(function(){return{getValue:function(){return fn.current},listeners:new Set}}),On=Object(se.a)(tn,1),Fn=On[0];return Object(Ft.a)(function(){Fn.listeners.forEach(function(li){li(ht)})},[ht]),I.createElement(Ue.Provider,{value:Fn},Kt)};return{Context:Ue,Provider:Be}}function Lt(Ue,Be){var St=Object(Ot.a)(Be),rt=I.useContext(Ue==null?void 0:Ue.Context),ht=rt||{},Kt=ht.listeners,fn=ht.getValue,tn=I.useState(function(){return St(rt?fn():null)}),On=Object(se.a)(tn,2),Fn=On[0],li=On[1];return Object(Ft.a)(function(){if(!rt)return;function Xn(Yn){li(function(ci){var ji=St(Yn);return P()(ci,ji)?ci:ji})}return Kt.add(Xn),function(){Kt.delete(Xn)}},[rt]),Fn}var et=pt(),Vt=et,Re=I.createContext(null),Ce=Re,ye=I.createContext({renderWithProps:!1}),Te=ye,Qe=["colSpan","rowSpan","style","className"];function $e(Ue,Be,St,rt){var ht=Ue+Be-1;return Ue<=rt&&ht>=St}function ze(Ue){return Ue&&Object(ve.a)(Ue)==="object"&&!Array.isArray(Ue)&&!I.isValidElement(Ue)}function ot(Ue){return typeof Ue=="string"?!0:Object(De.c)(Ue)}var He=function(Be){var St=Be.ellipsis,rt=Be.rowType,ht=Be.children,Kt,fn=St===!0?{showTitle:!0}:St;return fn&&(fn.showTitle||rt==="header")&&(typeof ht=="string"||typeof ht=="number"?Kt=ht.toString():I.isValidElement(ht)&&typeof ht.props.children=="string"&&(Kt=ht.props.children)),Kt};function Ge(Ue,Be){var St,rt,ht,Kt=Ue.prefixCls,fn=Ue.className,tn=Ue.record,On=Ue.index,Fn=Ue.renderIndex,li=Ue.dataIndex,Xn=Ue.render,Yn=Ue.children,ci=Ue.component,ji=ci===void 0?"td":ci,Ni=Ue.colSpan,Ei=Ue.rowSpan,Zi=Ue.fixLeft,Xi=Ue.fixRight,Cr=Ue.firstFixLeft,br=Ue.lastFixLeft,Ir=Ue.firstFixRight,cr=Ue.lastFixRight,Mr=Ue.appendNode,tr=Ue.additionalProps,Fi=tr===void 0?{}:tr,zi=Ue.ellipsis,lr=Ue.align,pr=Ue.rowType,Or=Ue.isSticky,ur=Ue.hovering,nr=Ue.onHover,Pr="".concat(Kt,"-cell"),Hr=I.useContext(Te),Ur=I.useContext(Et),aa=I.useContext(Ce),Da=aa.allColumnsFixedLeft,Sr=I.useMemo(function(){if(Fe(Yn))return[Yn];var $n=Pe(tn,li),ni=$n,sr=void 0;if(Xn){var mr=Xn($n,tn,Fn);ze(mr)?(ni=mr.children,sr=mr.props,Hr.renderWithProps=!0):ni=mr}return[ni,sr]},[Hr.renderWithProps?Math.random():0,Yn,li,Hr,tn,Xn,Fn]),da=Object(se.a)(Sr,2),Ea=da[0],he=da[1],le=Ea;Object(ve.a)(le)==="object"&&!Array.isArray(le)&&!I.isValidElement(le)&&(le=null),zi&&(br||Ir)&&(le=I.createElement("span",{className:"".concat(Pr,"-content")},le));var b=he||{},y=b.colSpan,p=b.rowSpan,M=b.style,q=b.className,Se=Object(L.a)(b,Qe),Ie=(St=y!==void 0?y:Ni)!==null&&St!==void 0?St:1,qe=(rt=p!==void 0?p:Ei)!==null&&rt!==void 0?rt:1;if(Ie===0||qe===0)return null;var it={},dt=typeof Zi=="number"&&Ur,Jt=typeof Xi=="number"&&Ur;dt&&(it.position="sticky",it.left=Zi),Jt&&(it.position="sticky",it.right=Xi);var cn={};lr&&(cn.textAlign=lr);var Mn=function(ni){var sr;tn&&nr(On,On+qe-1),Fi==null||(sr=Fi.onMouseEnter)===null||sr===void 0||sr.call(Fi,ni)},vi=function(ni){var sr;tn&&nr(-1,-1),Fi==null||(sr=Fi.onMouseLeave)===null||sr===void 0||sr.call(Fi,ni)},ii=He({rowType:pr,ellipsis:zi,children:Ea}),di=Object(T.a)(Object(T.a)(Object(T.a)({title:ii},Se),Fi),{},{colSpan:Ie!==1?Ie:null,rowSpan:qe!==1?qe:null,className:O()(Pr,fn,(ht={},Object(D.a)(ht,"".concat(Pr,"-fix-left"),dt&&Ur),Object(D.a)(ht,"".concat(Pr,"-fix-left-first"),Cr&&Ur),Object(D.a)(ht,"".concat(Pr,"-fix-left-last"),br&&Ur),Object(D.a)(ht,"".concat(Pr,"-fix-left-all"),br&&Da&&Ur),Object(D.a)(ht,"".concat(Pr,"-fix-right"),Jt&&Ur),Object(D.a)(ht,"".concat(Pr,"-fix-right-first"),Ir&&Ur),Object(D.a)(ht,"".concat(Pr,"-fix-right-last"),cr&&Ur),Object(D.a)(ht,"".concat(Pr,"-ellipsis"),zi),Object(D.a)(ht,"".concat(Pr,"-with-append"),Mr),Object(D.a)(ht,"".concat(Pr,"-fix-sticky"),(dt||Jt)&&Or&&Ur),Object(D.a)(ht,"".concat(Pr,"-row-hover"),!he&&ur),ht),Fi.className,q),style:Object(T.a)(Object(T.a)(Object(T.a)(Object(T.a)({},Fi.style),cn),it),M),onMouseEnter:Mn,onMouseLeave:vi,ref:ot(ji)?Be:null});return I.createElement(ji,di,Mr,le)}var Je=I.forwardRef(Ge);Je.displayName="Cell";var ft=["expanded","className","hovering"],qt=I.memo(Je,function(Ue,Be){return Be.shouldCellUpdate?ft.every(function(St){return Ue[St]===Be[St]})&&!Be.shouldCellUpdate(Be.record,Ue.record):P()(Ue,Be)}),bt=I.forwardRef(function(Ue,Be){var St=Ue.index,rt=Ue.additionalProps,ht=rt===void 0?{}:rt,Kt=Ue.colSpan,fn=Ue.rowSpan,tn=ht.colSpan,On=ht.rowSpan,Fn=Kt!=null?Kt:tn,li=fn!=null?fn:On,Xn=Lt(Vt,function(ji){var Ni=$e(St,li||1,ji==null?void 0:ji.startRow,ji==null?void 0:ji.endRow);return{onHover:ji==null?void 0:ji.onHover,hovering:Ni}}),Yn=Xn.onHover,ci=Xn.hovering;return I.createElement(qt,Object(C.a)({},Ue,{colSpan:Fn,rowSpan:li,hovering:ci,ref:Be,onHover:Yn}))});bt.displayName="WrappedCell";var Bt=bt,rn=I.createContext(null),an=rn;function In(Ue,Be,St,rt,ht){var Kt=St[Ue]||{},fn=St[Be]||{},tn,On;Kt.fixed==="left"?tn=rt.left[Ue]:fn.fixed==="right"&&(On=rt.right[Be]);var Fn=!1,li=!1,Xn=!1,Yn=!1,ci=St[Be+1],ji=St[Ue-1];if(ht==="rtl"){if(tn!==void 0){var Ni=ji&&ji.fixed==="left";Yn=!Ni}else if(On!==void 0){var Ei=ci&&ci.fixed==="right";Xn=!Ei}}else if(tn!==void 0){var Zi=ci&&ci.fixed==="left";Fn=!Zi}else if(On!==void 0){var Xi=ji&&ji.fixed==="right";li=!Xi}return{fixLeft:tn,fixRight:On,lastFixLeft:Fn,firstFixRight:li,lastFixRight:Xn,firstFixLeft:Yn,isSticky:rt.isSticky}}function Dt(Ue){var Be=Ue.cells,St=Ue.stickyOffsets,rt=Ue.flattenColumns,ht=Ue.rowComponent,Kt=Ue.cellComponent,fn=Ue.onHeaderRow,tn=Ue.index,On=I.useContext(an),Fn=On.prefixCls,li=On.direction,Xn;fn&&(Xn=fn(Be.map(function(ci){return ci.column}),tn));var Yn=Ne(Be.map(function(ci){return ci.column}));return I.createElement(ht,Xn,Be.map(function(ci,ji){var Ni=ci.column,Ei=In(ci.colStart,ci.colEnd,rt,St,li),Zi;return Ni&&Ni.onHeaderCell&&(Zi=ci.column.onHeaderCell(Ni)),I.createElement(Bt,Object(C.a)({},ci,{ellipsis:Ni.ellipsis,align:Ni.align,component:Kt,prefixCls:Fn,key:Yn[ji]},Ei,{additionalProps:Zi,rowType:"header"}))}))}Dt.displayName="HeaderRow";var jn=Dt;function _n(Ue){var Be=[];function St(fn,tn){var On=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;Be[On]=Be[On]||[];var Fn=tn,li=fn.filter(Boolean).map(function(Xn){var Yn={key:Xn.key,className:Xn.className||"",children:Xn.title,column:Xn,colStart:Fn},ci=1,ji=Xn.children;return ji&&ji.length>0&&(ci=St(ji,Fn,On+1).reduce(function(Ni,Ei){return Ni+Ei},0),Yn.hasSubColumns=!0),"colSpan"in Xn&&(ci=Xn.colSpan),"rowSpan"in Xn&&(Yn.rowSpan=Xn.rowSpan),Yn.colSpan=ci,Yn.colEnd=Yn.colStart+ci-1,Be[On].push(Yn),Fn+=ci,ci});return li}St(Ue,0);for(var rt=Be.length,ht=function(tn){Be[tn].forEach(function(On){!("rowSpan"in On)&&!On.hasSubColumns&&(On.rowSpan=rt-tn)})},Kt=0;Kt<rt;Kt+=1)ht(Kt);return Be}function Nn(Ue){var Be=Ue.stickyOffsets,St=Ue.columns,rt=Ue.flattenColumns,ht=Ue.onHeaderRow,Kt=I.useContext(an),fn=Kt.prefixCls,tn=Kt.getComponent,On=I.useMemo(function(){return _n(St)},[St]),Fn=tn(["header","wrapper"],"thead"),li=tn(["header","row"],"tr"),Xn=tn(["header","cell"],"th");return I.createElement(Fn,{className:"".concat(fn,"-thead")},On.map(function(Yn,ci){var ji=I.createElement(jn,{key:ci,flattenColumns:rt,cells:Yn,stickyOffsets:Be,rowComponent:li,cellComponent:Xn,onHeaderRow:ht,index:ci});return ji}))}var ei=Nn,kn=I.createContext(null),Pn=kn;function qi(Ue){var Be=Ue.prefixCls,St=Ue.children,rt=Ue.component,ht=Ue.cellComponent,Kt=Ue.className,fn=Ue.expanded,tn=Ue.colSpan,On=Ue.isEmpty,Fn=I.useContext(an),li=Fn.scrollbarSize,Xn=I.useContext(Pn),Yn=Xn.fixHeader,ci=Xn.fixColumn,ji=Xn.componentWidth,Ni=Xn.horizonScroll;return I.useMemo(function(){var Ei=St;return(On?Ni:ci)&&(Ei=I.createElement("div",{style:{width:ji-(Yn?li:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(Be,"-expanded-row-fixed")},ji!==0&&Ei)),I.createElement(rt,{className:Kt,style:{display:fn?null:"none"}},I.createElement(Bt,{component:ht,prefixCls:Be,colSpan:tn},Ei))},[St,rt,Kt,fn,tn,On,li,ji,ci,Yn,Ni])}var gi=qi,ir=I.createContext(null),yi=ir;function mi(Ue){var Be=Ue.className,St=Ue.style,rt=Ue.record,ht=Ue.index,Kt=Ue.renderIndex,fn=Ue.rowKey,tn=Ue.rowExpandable,On=Ue.expandedKeys,Fn=Ue.onRow,li=Ue.indent,Xn=li===void 0?0:li,Yn=Ue.rowComponent,ci=Ue.cellComponent,ji=Ue.childrenColumnName,Ni=I.useContext(an),Ei=Ni.prefixCls,Zi=Ni.fixedInfoList,Xi=I.useContext(Ce),Cr=Xi.flattenColumns,br=Xi.expandableType,Ir=Xi.expandRowByClick,cr=Xi.onTriggerExpand,Mr=Xi.rowClassName,tr=Xi.expandedRowClassName,Fi=Xi.indentSize,zi=Xi.expandIcon,lr=Xi.expandedRowRender,pr=Xi.expandIconColumnIndex,Or=I.useState(!1),ur=Object(se.a)(Or,2),nr=ur[0],Pr=ur[1],Hr=On&&On.has(Ue.recordKey);I.useEffect(function(){Hr&&Pr(!0)},[Hr]);var Ur=br==="row"&&(!tn||tn(rt)),aa=br==="nest",Da=ji&&rt&&rt[ji],Sr=Ur||aa,da=I.useRef(cr);da.current=cr;var Ea=function(){da.current.apply(da,arguments)},he=Fn==null?void 0:Fn(rt,ht),le=function(qe){var it;Ir&&Sr&&Ea(rt,qe);for(var dt=arguments.length,Jt=new Array(dt>1?dt-1:0),cn=1;cn<dt;cn++)Jt[cn-1]=arguments[cn];he==null||(it=he.onClick)===null||it===void 0||it.call.apply(it,[he,qe].concat(Jt))},b;typeof Mr=="string"?b=Mr:typeof Mr=="function"&&(b=Mr(rt,ht,Xn));var y=Ne(Cr),p=I.createElement(Yn,Object(C.a)({},he,{"data-row-key":fn,className:O()(Be,"".concat(Ei,"-row"),"".concat(Ei,"-row-level-").concat(Xn),b,he&&he.className),style:Object(T.a)(Object(T.a)({},St),he?he.style:null),onClick:le}),Cr.map(function(Ie,qe){var it=Ie.render,dt=Ie.dataIndex,Jt=Ie.className,cn=y[qe],Mn=Zi[qe],vi;qe===(pr||0)&&aa&&(vi=I.createElement(I.Fragment,null,I.createElement("span",{style:{paddingLeft:"".concat(Fi*Xn,"px")},className:"".concat(Ei,"-row-indent indent-level-").concat(Xn)}),zi({prefixCls:Ei,expanded:Hr,expandable:Da,record:rt,onExpand:Ea})));var ii;return Ie.onCell&&(ii=Ie.onCell(rt,ht)),I.createElement(Bt,Object(C.a)({className:Jt,ellipsis:Ie.ellipsis,align:Ie.align,component:ci,prefixCls:Ei,key:cn,record:rt,index:ht,renderIndex:Kt,dataIndex:dt,render:it,shouldCellUpdate:Ie.shouldCellUpdate,expanded:vi&&Hr},Mn,{appendNode:vi,additionalProps:ii}))})),M;if(Ur&&(nr||Hr)){var q=lr(rt,ht,Xn+1,Hr),Se=tr&&tr(rt,ht,Xn);M=I.createElement(gi,{expanded:Hr,className:O()("".concat(Ei,"-expanded-row"),"".concat(Ei,"-expanded-row-level-").concat(Xn+1),Se),prefixCls:Ei,component:Yn,cellComponent:ci,colSpan:Cr.length,isEmpty:!1},q)}return I.createElement(I.Fragment,null,p,M)}mi.displayName="BodyRow";var gr=mi;function zn(Ue,Be,St,rt,ht,Kt){var fn=[];fn.push({record:Ue,indent:Be,index:Kt});var tn=ht(Ue),On=rt==null?void 0:rt.has(tn);if(Ue&&Array.isArray(Ue[St])&&On)for(var Fn=0;Fn<Ue[St].length;Fn+=1){var li=zn(Ue[St][Fn],Be+1,St,rt,ht,Fn);fn.push.apply(fn,Object(z.a)(li))}return fn}function Ki(Ue,Be,St,rt){var ht=I.useMemo(function(){if(St==null?void 0:St.size){for(var Kt=[],fn=0;fn<(Ue==null?void 0:Ue.length);fn+=1){var tn=Ue[fn];Kt.push.apply(Kt,Object(z.a)(zn(tn,0,Be,St,rt,fn)))}return Kt}return Ue==null?void 0:Ue.map(function(On,Fn){return{record:On,indent:0,index:Fn}})},[Ue,Be,St,rt]);return ht}function Bn(Ue){var Be=Ue.columnKey,St=Ue.onColumnResize,rt=I.useRef();return I.useEffect(function(){rt.current&&St(Be,rt.current.offsetWidth)},[]),I.createElement(re.a,{data:Be},I.createElement("td",{ref:rt,style:{padding:0,border:0,height:0}},I.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function ai(Ue){var Be=Ue.prefixCls,St=Ue.columnsKey,rt=Ue.onColumnResize;return I.createElement("tr",{"aria-hidden":"true",className:"".concat(Be,"-measure-row"),style:{height:0,fontSize:0}},I.createElement(re.a.Collection,{onBatchResize:function(Kt){Kt.forEach(function(fn){var tn=fn.data,On=fn.size;rt(tn,On.offsetWidth)})}},St.map(function(ht){return I.createElement(Bn,{key:ht,columnKey:ht,onColumnResize:rt})})))}function dn(Ue){var Be=Ue.data,St=Ue.getRowKey,rt=Ue.measureColumnWidth,ht=Ue.expandedKeys,Kt=Ue.onRow,fn=Ue.rowExpandable,tn=Ue.emptyNode,On=Ue.childrenColumnName,Fn=I.useContext(yi),li=Fn.onColumnResize,Xn=I.useContext(an),Yn=Xn.prefixCls,ci=Xn.getComponent,ji=I.useContext(Ce),Ni=ji.flattenColumns,Ei=Ki(Be,On,ht,St),Zi=I.useRef({renderWithProps:!1}),Xi=I.useState(-1),Cr=Object(se.a)(Xi,2),br=Cr[0],Ir=Cr[1],cr=I.useState(-1),Mr=Object(se.a)(cr,2),tr=Mr[0],Fi=Mr[1],zi=I.useCallback(function(pr,Or){Ir(pr),Fi(Or)},[]),lr=I.useMemo(function(){var pr=ci(["body","wrapper"],"tbody"),Or=ci(["body","row"],"tr"),ur=ci(["body","cell"],"td"),nr;Be.length?nr=Ei.map(function(Hr,Ur){var aa=Hr.record,Da=Hr.indent,Sr=Hr.index,da=St(aa,Ur);return I.createElement(gr,{key:da,rowKey:da,record:aa,recordKey:da,index:Ur,renderIndex:Sr,rowComponent:Or,cellComponent:ur,expandedKeys:ht,onRow:Kt,getRowKey:St,rowExpandable:fn,childrenColumnName:On,indent:Da})}):nr=I.createElement(gi,{expanded:!0,className:"".concat(Yn,"-placeholder"),prefixCls:Yn,component:Or,cellComponent:ur,colSpan:Ni.length,isEmpty:!0},tn);var Pr=Ne(Ni);return I.createElement(pr,{className:"".concat(Yn,"-tbody")},rt&&I.createElement(ai,{prefixCls:Yn,columnsKey:Pr,onColumnResize:li}),nr)},[Be,Yn,Kt,rt,ht,St,ci,tn,Ni,On,li,fn,Ei]);return I.createElement(Te.Provider,{value:Zi.current},I.createElement(Vt.Provider,{value:{startRow:br,endRow:tr,onHover:zi}},lr))}var Jn=I.memo(dn);Jn.displayName="Body";var Yt=Jn,Ct=a("Zm9Q"),Dn=["expandable"],gn="RC_TABLE_INTERNAL_COL_DEFINE";function en(Ue){var Be=Ue.expandable,St=Object(L.a)(Ue,Dn),rt;return"expandable"in Ue?rt=Object(T.a)(Object(T.a)({},St),Be):rt=St,rt.showExpandColumn===!1&&(rt.expandIconColumnIndex=-1),rt}var yn={},Qn=["children"],pi=["fixed"];function Pt(Ue){return Object(Ct.a)(Ue).filter(function(Be){return I.isValidElement(Be)}).map(function(Be){var St=Be.key,rt=Be.props,ht=rt.children,Kt=Object(L.a)(rt,Qn),fn=Object(T.a)({key:St},Kt);return ht&&(fn.children=Pt(ht)),fn})}function yt(Ue){return Ue.reduce(function(Be,St){var rt=St.fixed,ht=rt===!0?"left":rt,Kt=St.children;return Kt&&Kt.length>0?[].concat(Object(z.a)(Be),Object(z.a)(yt(Kt).map(function(fn){return Object(T.a)({fixed:ht},fn)}))):[].concat(Object(z.a)(Be),[Object(T.a)(Object(T.a)({},St),{},{fixed:ht})])},[])}function Rn(Ue){for(var Be=!0,St=0;St<Ue.length;St+=1){var rt=Ue[St];if(Be&&rt.fixed!=="left")Be=!1;else if(!Be&&rt.fixed==="left"){Object(G.a)(!1,"Index ".concat(St-1," of `columns` missing `fixed='left'` prop."));break}}for(var ht=!0,Kt=Ue.length-1;Kt>=0;Kt-=1){var fn=Ue[Kt];if(ht&&fn.fixed!=="right")ht=!1;else if(!ht&&fn.fixed==="right"){Object(G.a)(!1,"Index ".concat(Kt+1," of `columns` missing `fixed='right'` prop."));break}}}function Sn(Ue){return Ue.map(function(Be){var St=Be.fixed,rt=Object(L.a)(Be,pi),ht=St;return St==="left"?ht="right":St==="right"&&(ht="left"),Object(T.a)({fixed:ht},rt)})}function Ii(Ue,Be){var St=Ue.prefixCls,rt=Ue.columns,ht=Ue.children,Kt=Ue.expandable,fn=Ue.expandedKeys,tn=Ue.columnTitle,On=Ue.getRowKey,Fn=Ue.onTriggerExpand,li=Ue.expandIcon,Xn=Ue.rowExpandable,Yn=Ue.expandIconColumnIndex,ci=Ue.direction,ji=Ue.expandRowByClick,Ni=Ue.columnWidth,Ei=Ue.fixed,Zi=I.useMemo(function(){return rt||Pt(ht)},[rt,ht]),Xi=I.useMemo(function(){if(Kt){var Ir,cr=Zi.slice();if(!cr.includes(yn)){var Mr=Yn||0;Mr>=0&&cr.splice(Mr,0,yn)}var tr=cr.indexOf(yn);cr=cr.filter(function(pr,Or){return pr!==yn||Or===tr});var Fi=Zi[tr],zi;(Ei==="left"||Ei)&&!Yn?zi="left":(Ei==="right"||Ei)&&Yn===Zi.length?zi="right":zi=Fi?Fi.fixed:null;var lr=(Ir={},Object(D.a)(Ir,gn,{className:"".concat(St,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),Object(D.a)(Ir,"title",tn),Object(D.a)(Ir,"fixed",zi),Object(D.a)(Ir,"className","".concat(St,"-row-expand-icon-cell")),Object(D.a)(Ir,"width",Ni),Object(D.a)(Ir,"render",function(Or,ur,nr){var Pr=On(ur,nr),Hr=fn.has(Pr),Ur=Xn?Xn(ur):!0,aa=li({prefixCls:St,expanded:Hr,expandable:Ur,record:ur,onExpand:Fn});return ji?I.createElement("span",{onClick:function(Sr){return Sr.stopPropagation()}},aa):aa}),Ir);return cr.map(function(pr){return pr===yn?lr:pr})}return Zi.filter(function(pr){return pr!==yn})},[Kt,Zi,On,fn,li,ci]),Cr=I.useMemo(function(){var Ir=Xi;return Be&&(Ir=Be(Ir)),Ir.length||(Ir=[{render:function(){return null}}]),Ir},[Be,Xi,ci]),br=I.useMemo(function(){return ci==="rtl"?Sn(yt(Cr)):yt(Cr)},[Cr,ci]);return[Cr,br]}var Hi=Ii;function wt(Ue){var Be=Object(I.useRef)(Ue),St=Object(I.useState)({}),rt=Object(se.a)(St,2),ht=rt[1],Kt=Object(I.useRef)(null),fn=Object(I.useRef)([]);function tn(On){fn.current.push(On);var Fn=Promise.resolve();Kt.current=Fn,Fn.then(function(){if(Kt.current===Fn){var li=fn.current,Xn=Be.current;fn.current=[],li.forEach(function(Yn){Be.current=Yn(Be.current)}),Kt.current=null,Xn!==Be.current&&ht({})}})}return Object(I.useEffect)(function(){return function(){Kt.current=null}},[]),[Be.current,tn]}function Pi(Ue){var Be=Object(I.useRef)(Ue||null),St=Object(I.useRef)();function rt(){window.clearTimeout(St.current)}function ht(fn){Be.current=fn,rt(),St.current=window.setTimeout(function(){Be.current=null,St.current=void 0},100)}function Kt(){return Be.current}return Object(I.useEffect)(function(){return rt},[]),[ht,Kt]}function Ut(Ue,Be,St){var rt=Object(I.useMemo)(function(){for(var ht=[],Kt=[],fn=0,tn=0,On=0;On<Be;On+=1)if(St==="rtl"){Kt[On]=tn,tn+=Ue[On]||0;var Fn=Be-On-1;ht[Fn]=fn,fn+=Ue[Fn]||0}else{ht[On]=fn,fn+=Ue[On]||0;var li=Be-On-1;Kt[li]=tn,tn+=Ue[li]||0}return{left:ht,right:Kt}},[Ue,Be,St]);return rt}var We=Ut,Tn=["columnType"];function ar(Ue){for(var Be=Ue.colWidths,St=Ue.columns,rt=Ue.columCount,ht=[],Kt=rt||St.length,fn=!1,tn=Kt-1;tn>=0;tn-=1){var On=Be[tn],Fn=St&&St[tn],li=Fn&&Fn[gn];if(On||li||fn){var Xn=li||{},Yn=Xn.columnType,ci=Object(L.a)(Xn,Tn);ht.unshift(I.createElement("col",Object(C.a)({key:tn,style:{width:On}},ci))),fn=!0}}return I.createElement("colgroup",null,ht)}var Br=ar;function Yr(Ue){var Be=Ue.className,St=Ue.children;return I.createElement("div",{className:Be},St)}var ti=Yr,bi=I.createContext({}),Kn=bi;function En(Ue){var Be=Ue.className,St=Ue.index,rt=Ue.children,ht=Ue.colSpan,Kt=ht===void 0?1:ht,fn=Ue.rowSpan,tn=Ue.align,On=I.useContext(an),Fn=On.prefixCls,li=On.direction,Xn=I.useContext(Kn),Yn=Xn.scrollColumnIndex,ci=Xn.stickyOffsets,ji=Xn.flattenColumns,Ni=St+Kt-1,Ei=Ni+1===Yn?Kt+1:Kt,Zi=In(St,St+Ei-1,ji,ci,li);return I.createElement(Bt,Object(C.a)({className:Be,index:St,component:"td",prefixCls:Fn,record:null,dataIndex:null,align:tn,colSpan:Ei,rowSpan:fn,render:function(){return rt}},Zi))}var Nt=["children"];function Gt(Ue){var Be=Ue.children,St=Object(L.a)(Ue,Nt);return I.createElement("tr",St,Be)}function mt(Ue){var Be=Ue.children;return Be}mt.Row=Gt,mt.Cell=En;var Ye=mt;function vn(Ue){var Be=Ue.children,St=Ue.stickyOffsets,rt=Ue.flattenColumns,ht=I.useContext(an),Kt=ht.prefixCls,fn=rt.length-1,tn=rt[fn],On=I.useMemo(function(){return{stickyOffsets:St,flattenColumns:rt,scrollColumnIndex:(tn==null?void 0:tn.scrollbar)?fn:null}},[tn,rt,fn,St]);return I.createElement(Kn.Provider,{value:On},I.createElement("tfoot",{className:"".concat(Kt,"-summary")},Be))}var nt=vn,Ze=Ye;function Zt(Ue){var Be,St=Ue.prefixCls,rt=Ue.record,ht=Ue.onExpand,Kt=Ue.expanded,fn=Ue.expandable,tn="".concat(St,"-row-expand-icon");if(!fn)return I.createElement("span",{className:O()(tn,"".concat(St,"-row-spaced"))});var On=function(li){ht(rt,li),li.stopPropagation()};return I.createElement("span",{className:O()(tn,(Be={},Object(D.a)(Be,"".concat(St,"-row-expanded"),Kt),Object(D.a)(Be,"".concat(St,"-row-collapsed"),!Kt),Be)),onClick:On})}function hn(Ue,Be,St){var rt=[];function ht(Kt){(Kt||[]).forEach(function(fn,tn){rt.push(Be(fn,tn)),ht(fn[St])})}return ht(Ue),rt}var Ht=a("zT1h"),lt=a("y0+3"),si=function(Be,St){var rt,ht,Kt=Be.scrollBodyRef,fn=Be.onScroll,tn=Be.offsetScroll,On=Be.container,Fn=I.useContext(an),li=Fn.prefixCls,Xn=((rt=Kt.current)===null||rt===void 0?void 0:rt.scrollWidth)||0,Yn=((ht=Kt.current)===null||ht===void 0?void 0:ht.clientWidth)||0,ci=Xn&&Yn*(Yn/Xn),ji=I.useRef(),Ni=wt({scrollLeft:0,isHiddenScrollBar:!1}),Ei=Object(se.a)(Ni,2),Zi=Ei[0],Xi=Ei[1],Cr=I.useRef({delta:0,x:0}),br=I.useState(!1),Ir=Object(se.a)(br,2),cr=Ir[0],Mr=Ir[1],tr=function(){Mr(!1)},Fi=function(ur){ur.persist(),Cr.current.delta=ur.pageX-Zi.scrollLeft,Cr.current.x=0,Mr(!0),ur.preventDefault()},zi=function(ur){var nr,Pr=ur||((nr=window)===null||nr===void 0?void 0:nr.event),Hr=Pr.buttons;if(!cr||Hr===0){cr&&Mr(!1);return}var Ur=Cr.current.x+ur.pageX-Cr.current.x-Cr.current.delta;Ur<=0&&(Ur=0),Ur+ci>=Yn&&(Ur=Yn-ci),fn({scrollLeft:Ur/Yn*(Xn+2)}),Cr.current.x=ur.pageX},lr=function(){if(!!Kt.current){var ur=Object(lt.b)(Kt.current).top,nr=ur+Kt.current.offsetHeight,Pr=On===window?document.documentElement.scrollTop+window.innerHeight:Object(lt.b)(On).top+On.clientHeight;nr-Object(ae.a)()<=Pr||ur>=Pr-tn?Xi(function(Hr){return Object(T.a)(Object(T.a)({},Hr),{},{isHiddenScrollBar:!0})}):Xi(function(Hr){return Object(T.a)(Object(T.a)({},Hr),{},{isHiddenScrollBar:!1})})}},pr=function(ur){Xi(function(nr){return Object(T.a)(Object(T.a)({},nr),{},{scrollLeft:ur/Xn*Yn||0})})};return I.useImperativeHandle(St,function(){return{setScrollLeft:pr}}),I.useEffect(function(){var Or=Object(Ht.a)(document.body,"mouseup",tr,!1),ur=Object(Ht.a)(document.body,"mousemove",zi,!1);return lr(),function(){Or.remove(),ur.remove()}},[ci,cr]),I.useEffect(function(){var Or=Object(Ht.a)(On,"scroll",lr,!1),ur=Object(Ht.a)(window,"resize",lr,!1);return function(){Or.remove(),ur.remove()}},[On]),I.useEffect(function(){Zi.isHiddenScrollBar||Xi(function(Or){var ur=Kt.current;return ur?Object(T.a)(Object(T.a)({},Or),{},{scrollLeft:ur.scrollLeft/ur.scrollWidth*ur.clientWidth}):Or})},[Zi.isHiddenScrollBar]),Xn<=Yn||!ci||Zi.isHiddenScrollBar?null:I.createElement("div",{style:{height:Object(ae.a)(),width:Yn,bottom:tn},className:"".concat(li,"-sticky-scroll")},I.createElement("div",{onMouseDown:Fi,ref:ji,className:O()("".concat(li,"-sticky-scroll-bar"),Object(D.a)({},"".concat(li,"-sticky-scroll-bar-active"),cr)),style:{width:"".concat(ci,"px"),transform:"translate3d(".concat(Zi.scrollLeft,"px, 0, 0)")}}))},Oi=I.forwardRef(si),Ji=a("MNnm"),Wi=Object(Ji.a)()?window:null;function Yi(Ue,Be){var St=Object(ve.a)(Ue)==="object"?Ue:{},rt=St.offsetHeader,ht=rt===void 0?0:rt,Kt=St.offsetSummary,fn=Kt===void 0?0:Kt,tn=St.offsetScroll,On=tn===void 0?0:tn,Fn=St.getContainer,li=Fn===void 0?function(){return Wi}:Fn,Xn=li()||Wi;return I.useMemo(function(){var Yn=!!Ue;return{isSticky:Yn,stickyClassName:Yn?"".concat(Be,"-sticky-holder"):"",offsetHeader:ht,offsetSummary:fn,offsetScroll:On,container:Xn}},[On,ht,fn,Be,Xn])}var Bi=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function Gi(Ue,Be){return Object(I.useMemo)(function(){for(var St=[],rt=0;rt<Be;rt+=1){var ht=Ue[rt];if(ht!==void 0)St[rt]=ht;else return null}return St},[Ue.join("_"),Be])}var Gr=I.forwardRef(function(Ue,Be){var St=Ue.className,rt=Ue.noData,ht=Ue.columns,Kt=Ue.flattenColumns,fn=Ue.colWidths,tn=Ue.columCount,On=Ue.stickyOffsets,Fn=Ue.direction,li=Ue.fixHeader,Xn=Ue.stickyTopOffset,Yn=Ue.stickyBottomOffset,ci=Ue.stickyClassName,ji=Ue.onScroll,Ni=Ue.maxContentScroll,Ei=Ue.children,Zi=Object(L.a)(Ue,Bi),Xi=I.useContext(an),Cr=Xi.prefixCls,br=Xi.scrollbarSize,Ir=Xi.isSticky,cr=Ir&&!li?0:br,Mr=I.useRef(null),tr=I.useCallback(function(Pr){Object(De.b)(Be,Pr),Object(De.b)(Mr,Pr)},[]);I.useEffect(function(){var Pr;function Hr(Ur){var aa=Ur.currentTarget,Da=Ur.deltaX;Da&&(ji({currentTarget:aa,scrollLeft:aa.scrollLeft+Da}),Ur.preventDefault())}return(Pr=Mr.current)===null||Pr===void 0||Pr.addEventListener("wheel",Hr),function(){var Ur;(Ur=Mr.current)===null||Ur===void 0||Ur.removeEventListener("wheel",Hr)}},[]);var Fi=I.useMemo(function(){return Kt.every(function(Pr){return Pr.width>=0})},[Kt]),zi=Kt[Kt.length-1],lr={fixed:zi?zi.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(Cr,"-cell-scrollbar")}}},pr=Object(I.useMemo)(function(){return cr?[].concat(Object(z.a)(ht),[lr]):ht},[cr,ht]),Or=Object(I.useMemo)(function(){return cr?[].concat(Object(z.a)(Kt),[lr]):Kt},[cr,Kt]),ur=Object(I.useMemo)(function(){var Pr=On.right,Hr=On.left;return Object(T.a)(Object(T.a)({},On),{},{left:Fn==="rtl"?[].concat(Object(z.a)(Hr.map(function(Ur){return Ur+cr})),[0]):Hr,right:Fn==="rtl"?Pr:[].concat(Object(z.a)(Pr.map(function(Ur){return Ur+cr})),[0]),isSticky:Ir})},[cr,On,Ir]),nr=Gi(fn,tn);return I.createElement("div",{style:Object(T.a)({overflow:"hidden"},Ir?{top:Xn,bottom:Yn}:{}),ref:tr,className:O()(St,Object(D.a)({},ci,!!ci))},I.createElement("table",{style:{tableLayout:"fixed",visibility:rt||nr?null:"hidden"}},(!rt||!Ni||Fi)&&I.createElement(Br,{colWidths:nr?[].concat(Object(z.a)(nr),[cr]):[],columCount:tn+1,columns:Or}),Ei(Object(T.a)(Object(T.a)({},Zi),{},{stickyOffsets:ur,columns:pr,flattenColumns:Or}))))});Gr.displayName="FixedHolder";var kr=Gr,sa=[],Fr={},ua="rc-table-internal-hook",pn=I.memo(function(Ue){var Be=Ue.children;return Be},function(Ue,Be){return P()(Ue.props,Be.props)?Ue.pingLeft!==Be.pingLeft||Ue.pingRight!==Be.pingRight:!1});function Ln(Ue){var Be,St=Ue.prefixCls,rt=Ue.className,ht=Ue.rowClassName,Kt=Ue.style,fn=Ue.data,tn=Ue.rowKey,On=Ue.scroll,Fn=Ue.tableLayout,li=Ue.direction,Xn=Ue.title,Yn=Ue.footer,ci=Ue.summary,ji=Ue.id,Ni=Ue.showHeader,Ei=Ue.components,Zi=Ue.emptyText,Xi=Ue.onRow,Cr=Ue.onHeaderRow,br=Ue.internalHooks,Ir=Ue.transformColumns,cr=Ue.internalRefs,Mr=Ue.sticky,tr=fn||sa,Fi=!!tr.length,zi=I.useCallback(function(eo,Lo){return Pe(Ei||{},eo)||Lo},[Ei]),lr=I.useMemo(function(){return typeof tn=="function"?tn:function(eo){var Lo=eo&&eo[tn];return Lo}},[tn]),pr=en(Ue),Or=pr.expandIcon,ur=pr.expandedRowKeys,nr=pr.defaultExpandedRowKeys,Pr=pr.defaultExpandAllRows,Hr=pr.expandedRowRender,Ur=pr.columnTitle,aa=pr.onExpand,Da=pr.onExpandedRowsChange,Sr=pr.expandRowByClick,da=pr.rowExpandable,Ea=pr.expandIconColumnIndex,he=pr.expandedRowClassName,le=pr.childrenColumnName,b=pr.indentSize,y=Or||Zt,p=le||"children",M=I.useMemo(function(){return Hr?"row":Ue.expandable&&br===ua&&Ue.expandable.__PARENT_RENDER_ICON__||tr.some(function(eo){return eo&&Object(ve.a)(eo)==="object"&&eo[p]})?"nest":!1},[!!Hr,tr]),q=I.useState(function(){return nr||(Pr?hn(tr,lr,p):[])}),Se=Object(se.a)(q,2),Ie=Se[0],qe=Se[1],it=I.useMemo(function(){return new Set(ur||Ie||[])},[ur,Ie]),dt=I.useCallback(function(eo){var Lo=lr(eo,tr.indexOf(eo)),As,xs=it.has(Lo);xs?(it.delete(Lo),As=Object(z.a)(it)):As=[].concat(Object(z.a)(it),[Lo]),qe(As),aa&&aa(!xs,eo),Da&&Da(As)},[lr,it,tr,aa,Da]),Jt=I.useState(0),cn=Object(se.a)(Jt,2),Mn=cn[0],vi=cn[1],ii=Hi(Object(T.a)(Object(T.a)(Object(T.a)({},Ue),pr),{},{expandable:!!Hr,columnTitle:Ur,expandedKeys:it,getRowKey:lr,onTriggerExpand:dt,expandIcon:y,expandIconColumnIndex:Ea,direction:li}),br===ua?Ir:null),di=Object(se.a)(ii,2),$n=di[0],ni=di[1],sr=I.useMemo(function(){return{columns:$n,flattenColumns:ni}},[$n,ni]),mr=I.useRef(),fr=I.useRef(),Xr=I.useRef(),Vr=I.useRef(),na=I.useRef(),va=I.useState(!1),Ta=Object(se.a)(va,2),io=Ta[0],bs=Ta[1],Za=I.useState(!1),Na=Object(se.a)(Za,2),ga=Na[0],ea=Na[1],Ga=wt(new Map),Io=Object(se.a)(Ga,2),Ko=Io[0],xo=Io[1],Xo=Ne(ni),is=Xo.map(function(eo){return Ko.get(eo)}),Wl=I.useMemo(function(){return is},[is.join("_")]),Ha=We(Wl,ni.length,li),Ia=On&&Fe(On.y),jo=On&&Fe(On.x)||Boolean(pr.fixed),So=jo&&ni.some(function(eo){var Lo=eo.fixed;return Lo}),Wo=I.useRef(),Eo=Yi(Mr,St),Wr=Eo.isSticky,ma=Eo.offsetHeader,$a=Eo.offsetSummary,ko=Eo.offsetScroll,Ss=Eo.stickyClassName,ks=Eo.container,Po=ci==null?void 0:ci(tr),Dl=(Ia||Wr)&&I.isValidElement(Po)&&Po.type===Ye&&Po.props.fixed,Vl,nl,ku;Ia&&(nl={overflowY:"scroll",maxHeight:On.y}),jo&&(Vl={overflowX:"auto"},Ia||(nl={overflowY:"hidden"}),ku={width:(On==null?void 0:On.x)===!0?"auto":On==null?void 0:On.x,minWidth:"100%"});var Ic=I.useCallback(function(eo,Lo){Object(pe.a)(mr.current)&&xo(function(As){if(As.get(eo)!==Lo){var xs=new Map(As);return xs.set(eo,Lo),xs}return As})},[]),Fd=Pi(null),ru=Object(se.a)(Fd,2),oc=ru[0],uo=ru[1];function qa(eo,Lo){!Lo||(typeof Lo=="function"?Lo(eo):Lo.scrollLeft!==eo&&(Lo.scrollLeft=eo))}var os=function(Lo){var As=Lo.currentTarget,xs=Lo.scrollLeft,Em=li==="rtl",Pc=typeof xs=="number"?xs:As.scrollLeft,Eh=As||Fr;if(!uo()||uo()===Eh){var dd;oc(Eh),qa(Pc,fr.current),qa(Pc,Xr.current),qa(Pc,na.current),qa(Pc,(dd=Wo.current)===null||dd===void 0?void 0:dd.setScrollLeft)}if(As){var ou=As.scrollWidth,Bd=As.clientWidth;if(ou===Bd){bs(!1),ea(!1);return}Em?(bs(-Pc<ou-Bd),ea(-Pc>0)):(bs(Pc>0),ea(Pc<ou-Bd))}},Zs=function(){jo&&Xr.current?os({currentTarget:Xr.current}):(bs(!1),ea(!1))},ms=function(Lo){var As=Lo.width;As!==Mn&&(Zs(),vi(mr.current?mr.current.offsetWidth:As))},ld=I.useRef(!1);I.useEffect(function(){ld.current&&Zs()},[jo,fn,$n.length]),I.useEffect(function(){ld.current=!0},[]);var il=I.useState(0),ud=Object(se.a)(il,2),mf=ud[0],wh=ud[1],Sm=I.useState(!0),pf=Object(se.a)(Sm,2),km=pf[0],Dm=pf[1];I.useEffect(function(){Xr.current instanceof Element?wh(Object(ae.b)(Xr.current).width):wh(Object(ae.b)(Vr.current).width),Dm(Object(ke.a)("position","sticky"))},[]),I.useEffect(function(){br===ua&&cr&&(cr.body.current=Xr.current)});var dg=zi(["table"],"table"),cd=I.useMemo(function(){return Fn||(So?(On==null?void 0:On.x)==="max-content"?"auto":"fixed":Ia||Wr||ni.some(function(eo){var Lo=eo.ellipsis;return Lo})?"fixed":"auto")},[Ia,So,ni,Fn,Wr]),bf,Fu={colWidths:Wl,columCount:ni.length,stickyOffsets:Ha,onHeaderRow:Cr,fixHeader:Ia,scroll:On},yf=I.useMemo(function(){return Fi?null:typeof Zi=="function"?Zi():Zi},[Fi,Zi]),jh=I.createElement(Yt,{data:tr,measureColumnWidth:Ia||jo||Wr,expandedKeys:it,rowExpandable:da,getRowKey:lr,onRow:Xi,emptyNode:yf,childrenColumnName:p}),_f=I.createElement(Br,{colWidths:ni.map(function(eo){var Lo=eo.width;return Lo}),columns:ni}),hg=zi(["body"]);if(Ia||Wr){var mv;typeof hg=="function"?(mv=hg(tr,{scrollbarSize:mf,ref:Xr,onScroll:os}),Fu.colWidths=ni.map(function(eo,Lo){var As=eo.width,xs=Lo===$n.length-1?As-mf:As;return typeof xs=="number"&&!Number.isNaN(xs)?xs:(Object(G.a)(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):mv=I.createElement("div",{style:Object(T.a)(Object(T.a)({},Vl),nl),onScroll:os,ref:Xr,className:O()("".concat(St,"-body"))},I.createElement(dg,{style:Object(T.a)(Object(T.a)({},ku),{},{tableLayout:cd})},_f,jh,!Dl&&Po&&I.createElement(nt,{stickyOffsets:Ha,flattenColumns:ni},Po)));var pv=Object(T.a)(Object(T.a)(Object(T.a)({noData:!tr.length,maxContentScroll:jo&&On.x==="max-content"},Fu),sr),{},{direction:li,stickyClassName:Ss,onScroll:os});bf=I.createElement(I.Fragment,null,Ni!==!1&&I.createElement(kr,Object(C.a)({},pv,{stickyTopOffset:ma,className:"".concat(St,"-header"),ref:fr}),function(eo){return I.createElement(I.Fragment,null,I.createElement(ei,eo),Dl==="top"&&I.createElement(nt,eo,Po))}),mv,Dl&&Dl!=="top"&&I.createElement(kr,Object(C.a)({},pv,{stickyBottomOffset:$a,className:"".concat(St,"-summary"),ref:na}),function(eo){return I.createElement(nt,eo,Po)}),Wr&&I.createElement(Oi,{ref:Wo,offsetScroll:ko,scrollBodyRef:Xr,onScroll:os,container:ks}))}else bf=I.createElement("div",{style:Object(T.a)(Object(T.a)({},Vl),nl),className:O()("".concat(St,"-content")),onScroll:os,ref:Xr},I.createElement(dg,{style:Object(T.a)(Object(T.a)({},ku),{},{tableLayout:cd})},_f,Ni!==!1&&I.createElement(ei,Object(C.a)({},Fu,sr)),jh,Po&&I.createElement(nt,{stickyOffsets:Ha,flattenColumns:ni},Po)));var wm=Object(fe.a)(Ue,{aria:!0,data:!0}),bv=I.createElement("div",Object(C.a)({className:O()(St,rt,(Be={},Object(D.a)(Be,"".concat(St,"-rtl"),li==="rtl"),Object(D.a)(Be,"".concat(St,"-ping-left"),io),Object(D.a)(Be,"".concat(St,"-ping-right"),ga),Object(D.a)(Be,"".concat(St,"-layout-fixed"),Fn==="fixed"),Object(D.a)(Be,"".concat(St,"-fixed-header"),Ia),Object(D.a)(Be,"".concat(St,"-fixed-column"),So),Object(D.a)(Be,"".concat(St,"-scroll-horizontal"),jo),Object(D.a)(Be,"".concat(St,"-has-fix-left"),ni[0]&&ni[0].fixed),Object(D.a)(Be,"".concat(St,"-has-fix-right"),ni[ni.length-1]&&ni[ni.length-1].fixed==="right"),Be)),style:Kt,id:ji,ref:mr},wm),I.createElement(pn,{pingLeft:io,pingRight:ga,props:Object(T.a)(Object(T.a)({},Ue),{},{stickyOffsets:Ha,mergedExpandedKeys:it})},Xn&&I.createElement(ti,{className:"".concat(St,"-title")},Xn(tr)),I.createElement("div",{ref:Vr,className:"".concat(St,"-container")},bf),Yn&&I.createElement(ti,{className:"".concat(St,"-footer")},Yn(tr))));jo&&(bv=I.createElement(re.a,{onResize:ms},bv));var yv=I.useMemo(function(){return{prefixCls:St,getComponent:zi,scrollbarSize:mf,direction:li,fixedInfoList:ni.map(function(eo,Lo){return In(Lo,Lo,ni,Ha,li)}),isSticky:Wr}},[St,zi,mf,li,ni,Ha,Wr]),au=I.useMemo(function(){return Object(T.a)(Object(T.a)({},sr),{},{tableLayout:cd,rowClassName:ht,expandedRowClassName:he,expandIcon:y,expandableType:M,expandRowByClick:Sr,expandedRowRender:Hr,onTriggerExpand:dt,expandIconColumnIndex:Ea,indentSize:b,allColumnsFixedLeft:sr.flattenColumns.every(function(eo){return eo.fixed==="left"})})},[sr,cd,ht,he,y,M,Sr,Hr,dt,Ea,b]),jm=I.useMemo(function(){return{componentWidth:Mn,fixHeader:Ia,fixColumn:So,horizonScroll:jo}},[Mn,Ia,So,jo]),fg=I.useMemo(function(){return{onColumnResize:Ic}},[Ic]);return I.createElement(Et.Provider,{value:km},I.createElement(an.Provider,{value:yv},I.createElement(Ce.Provider,{value:au},I.createElement(Pn.Provider,{value:jm},I.createElement(yi.Provider,{value:fg},bv)))))}Ln.EXPAND_COLUMN=yn,Ln.Column=ge,Ln.ColumnGroup=J,Ln.Summary=Ze,Ln.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var ct=Ln,Mt=ct,At=a("bT9E"),zt=a("H84U"),$t=a("XI05"),Un=a("3Nzz"),Vn=a("5OYt"),Gn=a("D7Yy"),oi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},_i=oi,Cn=a("6VBw"),ui=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:_i}))};ui.displayName="DoubleLeftOutlined";var Si=I.forwardRef(ui),Ui={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},Lr=Ui,or=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:Lr}))};or.displayName="DoubleRightOutlined";var Er=I.forwardRef(or),vr=a("5bA4"),on=a("UESt"),Wn=a("1OyB"),Zn=a("vuIU"),Li=a("Ji7U"),_r=a("LK+K"),Nr=function(Be){var St,rt="".concat(Be.rootPrefixCls,"-item"),ht=O()(rt,"".concat(rt,"-").concat(Be.page),(St={},Object(D.a)(St,"".concat(rt,"-active"),Be.active),Object(D.a)(St,"".concat(rt,"-disabled"),!Be.page),Object(D.a)(St,Be.className,!!Be.className),St)),Kt=function(){Be.onClick(Be.page)},fn=function(On){Be.onKeyPress(On,Be.onClick,Be.page)};return de.a.createElement("li",{title:Be.showTitle?Be.page:null,className:ht,onClick:Kt,onKeyPress:fn,tabIndex:"0"},Be.itemRender(Be.page,"page",de.a.createElement("a",{rel:"nofollow"},Be.page)))},$i=Nr,Jr={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},ja=function(Ue){Object(Li.a)(St,Ue);var Be=Object(_r.a)(St);function St(){var rt;Object(Wn.a)(this,St);for(var ht=arguments.length,Kt=new Array(ht),fn=0;fn<ht;fn++)Kt[fn]=arguments[fn];return rt=Be.call.apply(Be,[this].concat(Kt)),rt.state={goInputText:""},rt.buildOptionText=function(tn){return"".concat(tn," ").concat(rt.props.locale.items_per_page)},rt.changeSize=function(tn){rt.props.changeSize(Number(tn))},rt.handleChange=function(tn){rt.setState({goInputText:tn.target.value})},rt.handleBlur=function(tn){var On=rt.props,Fn=On.goButton,li=On.quickGo,Xn=On.rootPrefixCls,Yn=rt.state.goInputText;Fn||Yn===""||(rt.setState({goInputText:""}),!(tn.relatedTarget&&(tn.relatedTarget.className.indexOf("".concat(Xn,"-item-link"))>=0||tn.relatedTarget.className.indexOf("".concat(Xn,"-item"))>=0))&&li(rt.getValidValue()))},rt.go=function(tn){var On=rt.state.goInputText;On!==""&&(tn.keyCode===Jr.ENTER||tn.type==="click")&&(rt.setState({goInputText:""}),rt.props.quickGo(rt.getValidValue()))},rt}return Object(Zn.a)(St,[{key:"getValidValue",value:function(){var ht=this.state.goInputText;return!ht||isNaN(ht)?void 0:Number(ht)}},{key:"getPageSizeOptions",value:function(){var ht=this.props,Kt=ht.pageSize,fn=ht.pageSizeOptions;return fn.some(function(tn){return tn.toString()===Kt.toString()})?fn:fn.concat([Kt.toString()]).sort(function(tn,On){var Fn=isNaN(Number(tn))?0:Number(tn),li=isNaN(Number(On))?0:Number(On);return Fn-li})}},{key:"render",value:function(){var ht=this,Kt=this.props,fn=Kt.pageSize,tn=Kt.locale,On=Kt.rootPrefixCls,Fn=Kt.changeSize,li=Kt.quickGo,Xn=Kt.goButton,Yn=Kt.selectComponentClass,ci=Kt.buildOptionText,ji=Kt.selectPrefixCls,Ni=Kt.disabled,Ei=this.state.goInputText,Zi="".concat(On,"-options"),Xi=Yn,Cr=null,br=null,Ir=null;if(!Fn&&!li)return null;var cr=this.getPageSizeOptions();if(Fn&&Xi){var Mr=cr.map(function(tr,Fi){return de.a.createElement(Xi.Option,{key:Fi,value:tr.toString()},(ci||ht.buildOptionText)(tr))});Cr=de.a.createElement(Xi,{disabled:Ni,prefixCls:ji,showSearch:!1,className:"".concat(Zi,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(fn||cr[0]).toString(),onChange:this.changeSize,getPopupContainer:function(Fi){return Fi.parentNode},"aria-label":tn.page_size,defaultOpen:!1},Mr)}return li&&(Xn&&(Ir=typeof Xn=="boolean"?de.a.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:Ni,className:"".concat(Zi,"-quick-jumper-button")},tn.jump_to_confirm):de.a.createElement("span",{onClick:this.go,onKeyUp:this.go},Xn)),br=de.a.createElement("div",{className:"".concat(Zi,"-quick-jumper")},tn.jump_to,de.a.createElement("input",{disabled:Ni,type:"text",value:Ei,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":tn.page}),tn.page,Ir)),de.a.createElement("li",{className:"".concat(Zi)},Cr,br)}}]),St}(de.a.Component);ja.defaultProps={pageSizeOptions:["10","20","50","100"]};var $r=ja,Ra=a("N2Kk");function Ua(){}function Ka(Ue){var Be=Number(Ue);return typeof Be=="number"&&!isNaN(Be)&&isFinite(Be)&&Math.floor(Be)===Be}function ws(Ue,Be,St){return St}function Zr(Ue,Be,St){var rt=typeof Ue=="undefined"?Be.pageSize:Ue;return Math.floor((St.total-1)/rt)+1}var Xa=function(Ue){Object(Li.a)(St,Ue);var Be=Object(_r.a)(St);function St(rt){var ht;Object(Wn.a)(this,St),ht=Be.call(this,rt),ht.getJumpPrevPage=function(){return Math.max(1,ht.state.current-(ht.props.showLessItems?3:5))},ht.getJumpNextPage=function(){return Math.min(Zr(void 0,ht.state,ht.props),ht.state.current+(ht.props.showLessItems?3:5))},ht.getItemIcon=function(Fn,li){var Xn=ht.props.prefixCls,Yn=Fn||de.a.createElement("button",{type:"button","aria-label":li,className:"".concat(Xn,"-item-link")});return typeof Fn=="function"&&(Yn=de.a.createElement(Fn,Object(T.a)({},ht.props))),Yn},ht.savePaginationNode=function(Fn){ht.paginationNode=Fn},ht.isValid=function(Fn){var li=ht.props.total;return Ka(Fn)&&Fn!==ht.state.current&&Ka(li)&&li>0},ht.shouldDisplayQuickJumper=function(){var Fn=ht.props,li=Fn.showQuickJumper,Xn=Fn.total,Yn=ht.state.pageSize;return Xn<=Yn?!1:li},ht.handleKeyDown=function(Fn){(Fn.keyCode===Jr.ARROW_UP||Fn.keyCode===Jr.ARROW_DOWN)&&Fn.preventDefault()},ht.handleKeyUp=function(Fn){var li=ht.getValidValue(Fn),Xn=ht.state.currentInputValue;li!==Xn&&ht.setState({currentInputValue:li}),Fn.keyCode===Jr.ENTER?ht.handleChange(li):Fn.keyCode===Jr.ARROW_UP?ht.handleChange(li-1):Fn.keyCode===Jr.ARROW_DOWN&&ht.handleChange(li+1)},ht.handleBlur=function(Fn){var li=ht.getValidValue(Fn);ht.handleChange(li)},ht.changePageSize=function(Fn){var li=ht.state.current,Xn=Zr(Fn,ht.state,ht.props);li=li>Xn?Xn:li,Xn===0&&(li=ht.state.current),typeof Fn=="number"&&("pageSize"in ht.props||ht.setState({pageSize:Fn}),"current"in ht.props||ht.setState({current:li,currentInputValue:li})),ht.props.onShowSizeChange(li,Fn),"onChange"in ht.props&&ht.props.onChange&&ht.props.onChange(li,Fn)},ht.handleChange=function(Fn){var li=ht.props,Xn=li.disabled,Yn=li.onChange,ci=ht.state,ji=ci.pageSize,Ni=ci.current,Ei=ci.currentInputValue;if(ht.isValid(Fn)&&!Xn){var Zi=Zr(void 0,ht.state,ht.props),Xi=Fn;return Fn>Zi?Xi=Zi:Fn<1&&(Xi=1),"current"in ht.props||ht.setState({current:Xi}),Xi!==Ei&&ht.setState({currentInputValue:Xi}),Yn(Xi,ji),Xi}return Ni},ht.prev=function(){ht.hasPrev()&&ht.handleChange(ht.state.current-1)},ht.next=function(){ht.hasNext()&&ht.handleChange(ht.state.current+1)},ht.jumpPrev=function(){ht.handleChange(ht.getJumpPrevPage())},ht.jumpNext=function(){ht.handleChange(ht.getJumpNextPage())},ht.hasPrev=function(){return ht.state.current>1},ht.hasNext=function(){return ht.state.current<Zr(void 0,ht.state,ht.props)},ht.runIfEnter=function(Fn,li){if(Fn.key==="Enter"||Fn.charCode===13){for(var Xn=arguments.length,Yn=new Array(Xn>2?Xn-2:0),ci=2;ci<Xn;ci++)Yn[ci-2]=arguments[ci];li.apply(void 0,Yn)}},ht.runIfEnterPrev=function(Fn){ht.runIfEnter(Fn,ht.prev)},ht.runIfEnterNext=function(Fn){ht.runIfEnter(Fn,ht.next)},ht.runIfEnterJumpPrev=function(Fn){ht.runIfEnter(Fn,ht.jumpPrev)},ht.runIfEnterJumpNext=function(Fn){ht.runIfEnter(Fn,ht.jumpNext)},ht.handleGoTO=function(Fn){(Fn.keyCode===Jr.ENTER||Fn.type==="click")&&ht.handleChange(ht.state.currentInputValue)};var Kt=rt.onChange!==Ua,fn="current"in rt;fn&&!Kt&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var tn=rt.defaultCurrent;"current"in rt&&(tn=rt.current);var On=rt.defaultPageSize;return"pageSize"in rt&&(On=rt.pageSize),tn=Math.min(tn,Zr(On,void 0,rt)),ht.state={current:tn,currentInputValue:tn,pageSize:On},ht}return Object(Zn.a)(St,[{key:"componentDidUpdate",value:function(ht,Kt){var fn=this.props.prefixCls;if(Kt.current!==this.state.current&&this.paginationNode){var tn=this.paginationNode.querySelector(".".concat(fn,"-item-").concat(Kt.current));tn&&document.activeElement===tn&&tn.blur()}}},{key:"getValidValue",value:function(ht){var Kt=ht.target.value,fn=Zr(void 0,this.state,this.props),tn=this.state.currentInputValue,On;return Kt===""?On=Kt:isNaN(Number(Kt))?On=tn:Kt>=fn?On=fn:On=Number(Kt),On}},{key:"getShowSizeChanger",value:function(){var ht=this.props,Kt=ht.showSizeChanger,fn=ht.total,tn=ht.totalBoundaryShowSizeChanger;return typeof Kt!="undefined"?Kt:fn>tn}},{key:"renderPrev",value:function(ht){var Kt=this.props,fn=Kt.prevIcon,tn=Kt.itemRender,On=tn(ht,"prev",this.getItemIcon(fn,"prev page")),Fn=!this.hasPrev();return Object(I.isValidElement)(On)?Object(I.cloneElement)(On,{disabled:Fn}):On}},{key:"renderNext",value:function(ht){var Kt=this.props,fn=Kt.nextIcon,tn=Kt.itemRender,On=tn(ht,"next",this.getItemIcon(fn,"next page")),Fn=!this.hasNext();return Object(I.isValidElement)(On)?Object(I.cloneElement)(On,{disabled:Fn}):On}},{key:"render",value:function(){var ht=this,Kt=this.props,fn=Kt.prefixCls,tn=Kt.className,On=Kt.style,Fn=Kt.disabled,li=Kt.hideOnSinglePage,Xn=Kt.total,Yn=Kt.locale,ci=Kt.showQuickJumper,ji=Kt.showLessItems,Ni=Kt.showTitle,Ei=Kt.showTotal,Zi=Kt.simple,Xi=Kt.itemRender,Cr=Kt.showPrevNextJumpers,br=Kt.jumpPrevIcon,Ir=Kt.jumpNextIcon,cr=Kt.selectComponentClass,Mr=Kt.selectPrefixCls,tr=Kt.pageSizeOptions,Fi=this.state,zi=Fi.current,lr=Fi.pageSize,pr=Fi.currentInputValue;if(li===!0&&Xn<=lr)return null;var Or=Zr(void 0,this.state,this.props),ur=[],nr=null,Pr=null,Hr=null,Ur=null,aa=null,Da=ci&&ci.goButton,Sr=ji?1:2,da=zi-1>0?zi-1:0,Ea=zi+1<Or?zi+1:Or,he=Object.keys(this.props).reduce(function(cn,Mn){return(Mn.substr(0,5)==="data-"||Mn.substr(0,5)==="aria-"||Mn==="role")&&(cn[Mn]=ht.props[Mn]),cn},{}),le=Ei&&de.a.createElement("li",{className:"".concat(fn,"-total-text")},Ei(Xn,[Xn===0?0:(zi-1)*lr+1,zi*lr>Xn?Xn:zi*lr]));if(Zi)return Da&&(typeof Da=="boolean"?aa=de.a.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Yn.jump_to_confirm):aa=de.a.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Da),aa=de.a.createElement("li",{title:Ni?"".concat(Yn.jump_to).concat(zi,"/").concat(Or):null,className:"".concat(fn,"-simple-pager")},aa)),de.a.createElement("ul",Object(C.a)({className:O()(fn,"".concat(fn,"-simple"),Object(D.a)({},"".concat(fn,"-disabled"),Fn),tn),style:On,ref:this.savePaginationNode},he),le,de.a.createElement("li",{title:Ni?Yn.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:O()("".concat(fn,"-prev"),Object(D.a)({},"".concat(fn,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(da)),de.a.createElement("li",{title:Ni?"".concat(zi,"/").concat(Or):null,className:"".concat(fn,"-simple-pager")},de.a.createElement("input",{type:"text",value:pr,disabled:Fn,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),de.a.createElement("span",{className:"".concat(fn,"-slash")},"/"),Or),de.a.createElement("li",{title:Ni?Yn.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:O()("".concat(fn,"-next"),Object(D.a)({},"".concat(fn,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(Ea)),aa);if(Or<=3+Sr*2){var b={locale:Yn,rootPrefixCls:fn,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:Ni,itemRender:Xi};Or||ur.push(de.a.createElement($i,Object(C.a)({},b,{key:"noPager",page:1,className:"".concat(fn,"-item-disabled")})));for(var y=1;y<=Or;y+=1){var p=zi===y;ur.push(de.a.createElement($i,Object(C.a)({},b,{key:y,page:y,active:p})))}}else{var M=ji?Yn.prev_3:Yn.prev_5,q=ji?Yn.next_3:Yn.next_5;Cr&&(nr=de.a.createElement("li",{title:Ni?M:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:O()("".concat(fn,"-jump-prev"),Object(D.a)({},"".concat(fn,"-jump-prev-custom-icon"),!!br))},Xi(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(br,"prev page"))),Pr=de.a.createElement("li",{title:Ni?q:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:O()("".concat(fn,"-jump-next"),Object(D.a)({},"".concat(fn,"-jump-next-custom-icon"),!!Ir))},Xi(this.getJumpNextPage(),"jump-next",this.getItemIcon(Ir,"next page")))),Ur=de.a.createElement($i,{locale:Yn,last:!0,rootPrefixCls:fn,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:Or,page:Or,active:!1,showTitle:Ni,itemRender:Xi}),Hr=de.a.createElement($i,{locale:Yn,rootPrefixCls:fn,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:Ni,itemRender:Xi});var Se=Math.max(1,zi-Sr),Ie=Math.min(zi+Sr,Or);zi-1<=Sr&&(Ie=1+Sr*2),Or-zi<=Sr&&(Se=Or-Sr*2);for(var qe=Se;qe<=Ie;qe+=1){var it=zi===qe;ur.push(de.a.createElement($i,{locale:Yn,rootPrefixCls:fn,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:qe,page:qe,active:it,showTitle:Ni,itemRender:Xi}))}zi-1>=Sr*2&&zi!==1+2&&(ur[0]=Object(I.cloneElement)(ur[0],{className:"".concat(fn,"-item-after-jump-prev")}),ur.unshift(nr)),Or-zi>=Sr*2&&zi!==Or-2&&(ur[ur.length-1]=Object(I.cloneElement)(ur[ur.length-1],{className:"".concat(fn,"-item-before-jump-next")}),ur.push(Pr)),Se!==1&&ur.unshift(Hr),Ie!==Or&&ur.push(Ur)}var dt=!this.hasPrev()||!Or,Jt=!this.hasNext()||!Or;return de.a.createElement("ul",Object(C.a)({className:O()(fn,tn,Object(D.a)({},"".concat(fn,"-disabled"),Fn)),style:On,ref:this.savePaginationNode},he),le,de.a.createElement("li",{title:Ni?Yn.prev_page:null,onClick:this.prev,tabIndex:dt?null:0,onKeyPress:this.runIfEnterPrev,className:O()("".concat(fn,"-prev"),Object(D.a)({},"".concat(fn,"-disabled"),dt)),"aria-disabled":dt},this.renderPrev(da)),ur,de.a.createElement("li",{title:Ni?Yn.next_page:null,onClick:this.next,tabIndex:Jt?null:0,onKeyPress:this.runIfEnterNext,className:O()("".concat(fn,"-next"),Object(D.a)({},"".concat(fn,"-disabled"),Jt)),"aria-disabled":Jt},this.renderNext(Ea)),de.a.createElement($r,{disabled:Fn,locale:Yn,rootPrefixCls:fn,selectComponentClass:cr,selectPrefixCls:Mr,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:zi,pageSize:lr,pageSizeOptions:tr,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:Da}))}}],[{key:"getDerivedStateFromProps",value:function(ht,Kt){var fn={};if("current"in ht&&(fn.current=ht.current,ht.current!==Kt.current&&(fn.currentInputValue=fn.current)),"pageSize"in ht&&ht.pageSize!==Kt.pageSize){var tn=Kt.current,On=Zr(ht.pageSize,Kt,ht);tn=tn>On?On:tn,"current"in ht||(fn.current=tn,fn.currentInputValue=tn),fn.pageSize=ht.pageSize}return fn}}]),St}(de.a.Component);Xa.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Ua,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Ua,locale:Ra.a,style:{},itemRender:ws,totalBoundaryShowSizeChanger:50};var Go=Xa,lo=a("H4fg"),qo=a("YMnH"),_a=a("2fM7"),la=function(Be){return I.createElement(_a.a,Object(C.a)({},Be,{size:"small"}))},La=function(Be){return I.createElement(_a.a,Object(C.a)({},Be,{size:"middle"}))};la.Option=_a.a.Option,La.Option=_a.a.Option;var Ro=function(Ue,Be){var St={};for(var rt in Ue)Object.prototype.hasOwnProperty.call(Ue,rt)&&Be.indexOf(rt)<0&&(St[rt]=Ue[rt]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ht=0,rt=Object.getOwnPropertySymbols(Ue);ht<rt.length;ht++)Be.indexOf(rt[ht])<0&&Object.prototype.propertyIsEnumerable.call(Ue,rt[ht])&&(St[rt[ht]]=Ue[rt[ht]]);return St},$o=function(Be){var St=Be.prefixCls,rt=Be.selectPrefixCls,ht=Be.className,Kt=Be.size,fn=Be.locale,tn=Be.selectComponentClass,On=Be.responsive,Fn=Be.showSizeChanger,li=Ro(Be,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive","showSizeChanger"]),Xn=Object(Vn.a)(On),Yn=Xn.xs,ci=I.useContext(zt.b),ji=ci.getPrefixCls,Ni=ci.direction,Ei=ci.pagination,Zi=Ei===void 0?{}:Ei,Xi=ji("pagination",St),Cr=Fn!=null?Fn:Zi.showSizeChanger,br=function(){var cr=I.createElement("span",{className:"".concat(Xi,"-item-ellipsis")},"\u2022\u2022\u2022"),Mr=I.createElement("button",{className:"".concat(Xi,"-item-link"),type:"button",tabIndex:-1},I.createElement(vr.a,null)),tr=I.createElement("button",{className:"".concat(Xi,"-item-link"),type:"button",tabIndex:-1},I.createElement(on.a,null)),Fi=I.createElement("a",{className:"".concat(Xi,"-item-link")},I.createElement("div",{className:"".concat(Xi,"-item-container")},I.createElement(Si,{className:"".concat(Xi,"-item-link-icon")}),cr)),zi=I.createElement("a",{className:"".concat(Xi,"-item-link")},I.createElement("div",{className:"".concat(Xi,"-item-container")},I.createElement(Er,{className:"".concat(Xi,"-item-link-icon")}),cr));if(Ni==="rtl"){var lr=[tr,Mr];Mr=lr[0],tr=lr[1];var pr=[zi,Fi];Fi=pr[0],zi=pr[1]}return{prevIcon:Mr,nextIcon:tr,jumpPrevIcon:Fi,jumpNextIcon:zi}};return I.createElement(qo.a,{componentName:"Pagination",defaultLocale:lo.a},function(Ir){var cr,Mr=Object(C.a)(Object(C.a)({},Ir),fn),tr=Kt==="small"||!!(Yn&&!Kt&&On),Fi=ji("select",rt),zi=O()((cr={},Object(D.a)(cr,"".concat(Xi,"-mini"),tr),Object(D.a)(cr,"".concat(Xi,"-rtl"),Ni==="rtl"),cr),ht);return I.createElement(Go,Object(C.a)({},br(),li,{prefixCls:Xi,selectPrefixCls:Fi,className:zi,selectComponentClass:tn||(tr?la:La),locale:Mr,showSizeChanger:Cr}))})},Rt=$o,tt=Rt,_e=a("W9HT"),ee=a("wgJM");function j(Ue,Be,St,rt){var ht=St-Be;return Ue/=rt/2,Ue<1?ht/2*Ue*Ue*Ue+Be:ht/2*((Ue-=2)*Ue*Ue+2)+Be}function k(Ue){return Ue!=null&&Ue===Ue.window}function K(Ue,Be){var St,rt;if(typeof window=="undefined")return 0;var ht=Be?"scrollTop":"scrollLeft",Kt=0;return k(Ue)?Kt=Ue[Be?"pageYOffset":"pageXOffset"]:Ue instanceof Document?Kt=Ue.documentElement[ht]:(Ue instanceof HTMLElement||Ue)&&(Kt=Ue[ht]),Ue&&!k(Ue)&&typeof Kt!="number"&&(Kt=(rt=((St=Ue.ownerDocument)!==null&&St!==void 0?St:Ue).documentElement)===null||rt===void 0?void 0:rt[ht]),Kt}function ue(Ue){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},St=Be.getContainer,rt=St===void 0?function(){return window}:St,ht=Be.callback,Kt=Be.duration,fn=Kt===void 0?450:Kt,tn=rt(),On=K(tn,!0),Fn=Date.now(),li=function Xn(){var Yn=Date.now(),ci=Yn-Fn,ji=j(ci>fn?fn:ci,On,Ue,fn);k(tn)?tn.scrollTo(window.pageXOffset,ji):tn instanceof Document||tn.constructor.name==="HTMLDocument"?tn.documentElement.scrollTop=ji:tn.scrollTop=ji,ci<fn?Object(ee.a)(Xn):typeof ht=="function"&&ht()};Object(ee.a)(li)}function xe(Ue){return null}var Ve=xe;function ut(Ue){return null}var _t=ut;function xt(Ue){return function(St){var rt,ht=St.prefixCls,Kt=St.onExpand,fn=St.record,tn=St.expanded,On=St.expandable,Fn="".concat(ht,"-row-expand-icon");return I.createElement("button",{type:"button",onClick:function(Xn){Kt(fn,Xn),Xn.stopPropagation()},className:O()(Fn,(rt={},Object(D.a)(rt,"".concat(Fn,"-spaced"),!On),Object(D.a)(rt,"".concat(Fn,"-expanded"),On&&tn),Object(D.a)(rt,"".concat(Fn,"-collapsed"),On&&!tn),rt)),"aria-label":tn?Ue.collapse:Ue.expand,"aria-expanded":tn})}}var un=xt;function ln(Ue,Be){return"key"in Ue&&Ue.key!==void 0&&Ue.key!==null?Ue.key:Ue.dataIndex?Array.isArray(Ue.dataIndex)?Ue.dataIndex.join("."):Ue.dataIndex:Be}function nn(Ue,Be){return Be?"".concat(Be,"-").concat(Ue):"".concat(Ue)}function bn(Ue,Be){return typeof Ue=="function"?Ue(Be):Ue}function An(Ue,Be){var St=bn(Ue,Be);return Object.prototype.toString.call(St)==="[object Object]"?"":St}var It={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},er=It,Mi=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:er}))};Mi.displayName="FilterFilled";var wr=I.forwardRef(Mi),hr=a("Y+p1"),xi=a.n(hr),Ar=a("2/Rp"),zr=a("kaz8"),Tr=a("jsC+"),ba=a("ECub"),Sa=a("BvKs"),Va=a("UuAG"),Ja=a("9yH6"),Ba=a("fAei"),bo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},yo=bo,Vo=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:yo}))};Vo.displayName="HolderOutlined";var js=I.forwardRef(Vo),Qo=a("EXcs"),Ho=4;function us(Ue){var Be,St=Ue.dropPosition,rt=Ue.dropLevelOffset,ht=Ue.prefixCls,Kt=Ue.indent,fn=Ue.direction,tn=fn===void 0?"ltr":fn,On=tn==="ltr"?"left":"right",Fn=tn==="ltr"?"right":"left",li=(Be={},Object(D.a)(Be,On,-rt*Kt+Ho),Object(D.a)(Be,Fn,0),Be);switch(St){case-1:li.top=-3;break;case 1:li.bottom=-3;break;default:li.bottom=-3,li[On]=Kt+Ho;break}return de.a.createElement("div",{style:li,className:"".concat(ht,"-drop-indicator")})}var go=a("2jpz"),Uo=I.forwardRef(function(Ue,Be){var St,rt=I.useContext(zt.b),ht=rt.getPrefixCls,Kt=rt.direction,fn=rt.virtual,tn=Ue.prefixCls,On=Ue.className,Fn=Ue.showIcon,li=Fn===void 0?!1:Fn,Xn=Ue.showLine,Yn=Ue.switcherIcon,ci=Ue.blockNode,ji=ci===void 0?!1:ci,Ni=Ue.children,Ei=Ue.checkable,Zi=Ei===void 0?!1:Ei,Xi=Ue.selectable,Cr=Xi===void 0?!0:Xi,br=Ue.draggable,Ir=Ue.motion,cr=Ir===void 0?Object(C.a)(Object(C.a)({},Qo.a),{motionAppear:!1}):Ir,Mr=ht("tree",tn),tr=Object(C.a)(Object(C.a)({},Ue),{checkable:Zi,selectable:Cr,showIcon:li,motion:cr,blockNode:ji,showLine:Boolean(Xn),dropIndicatorRender:us}),Fi=I.useMemo(function(){if(!br)return!1;var zi={};switch(Object(ve.a)(br)){case"function":zi.nodeDraggable=br;break;case"object":zi=Object(C.a)({},br);break;default:break}return zi.icon!==!1&&(zi.icon=zi.icon||I.createElement(js,null)),zi},[br]);return I.createElement(Ba.b,Object(C.a)({itemHeight:20,ref:Be,virtual:fn},tr,{prefixCls:Mr,className:O()((St={},Object(D.a)(St,"".concat(Mr,"-icon-hide"),!li),Object(D.a)(St,"".concat(Mr,"-block-node"),ji),Object(D.a)(St,"".concat(Mr,"-unselectable"),!Cr),Object(D.a)(St,"".concat(Mr,"-rtl"),Kt==="rtl"),St),On),direction:Kt,checkable:Zi&&I.createElement("span",{className:"".concat(Mr,"-checkbox-inner")}),selectable:Cr,switcherIcon:function(lr){return Object(go.a)(Mr,Yn,Xn,lr)},draggable:Fi}),Ni)}),Yo=Uo,zo=a("9jjd"),Bs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},du=Bs,hu=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:du}))};hu.displayName="FolderOpenOutlined";var Is=I.forwardRef(hu),hl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},Ks=hl,fu=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:Ks}))};fu.displayName="FolderOutlined";var fl=I.forwardRef(fu),vl=a("OZM5"),zl=a("815F"),Ll;(function(Ue){Ue[Ue.None=0]="None",Ue[Ue.Start=1]="Start",Ue[Ue.End=2]="End"})(Ll||(Ll={}));function hc(Ue,Be){function St(rt){var ht=rt.key,Kt=rt.children;Be(ht,rt)!==!1&&hc(Kt||[],Be)}Ue.forEach(St)}function ho(Ue){var Be=Ue.treeData,St=Ue.expandedKeys,rt=Ue.startKey,ht=Ue.endKey,Kt=[],fn=Ll.None;if(rt&&rt===ht)return[rt];if(!rt||!ht)return[];function tn(On){return On===rt||On===ht}return hc(Be,function(On){if(fn===Ll.End)return!1;if(tn(On)){if(Kt.push(On),fn===Ll.None)fn=Ll.Start;else if(fn===Ll.Start)return fn=Ll.End,!1}else fn===Ll.Start&&Kt.push(On);return St.includes(On)}),Kt}function zu(Ue,Be){var St=Object(z.a)(Be),rt=[];return hc(Ue,function(ht,Kt){var fn=St.indexOf(ht);return fn!==-1&&(rt.push(Kt),St.splice(fn,1)),!!St.length}),rt}var oo=function(Ue,Be){var St={};for(var rt in Ue)Object.prototype.hasOwnProperty.call(Ue,rt)&&Be.indexOf(rt)<0&&(St[rt]=Ue[rt]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ht=0,rt=Object.getOwnPropertySymbols(Ue);ht<rt.length;ht++)Be.indexOf(rt[ht])<0&&Object.prototype.propertyIsEnumerable.call(Ue,rt[ht])&&(St[rt[ht]]=Ue[rt[ht]]);return St};function Ml(Ue){var Be=Ue.isLeaf,St=Ue.expanded;return Be?I.createElement(zo.a,null):St?I.createElement(Is,null):I.createElement(fl,null)}function _o(Ue){var Be=Ue.treeData,St=Ue.children;return Be||Object(zl.c)(St)}var ra=function(Be,St){var rt=Be.defaultExpandAll,ht=Be.defaultExpandParent,Kt=Be.defaultExpandedKeys,fn=oo(Be,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),tn=I.useRef(),On=I.useRef(),Fn=function(){var Hr=Object(zl.a)(_o(fn)),Ur=Hr.keyEntities,aa;return rt?aa=Object.keys(Ur):ht?aa=Object(vl.e)(fn.expandedKeys||Kt||[],Ur):aa=fn.expandedKeys||Kt,aa},li=I.useState(fn.selectedKeys||fn.defaultSelectedKeys||[]),Xn=Object(se.a)(li,2),Yn=Xn[0],ci=Xn[1],ji=I.useState(function(){return Fn()}),Ni=Object(se.a)(ji,2),Ei=Ni[0],Zi=Ni[1];I.useEffect(function(){"selectedKeys"in fn&&ci(fn.selectedKeys)},[fn.selectedKeys]),I.useEffect(function(){"expandedKeys"in fn&&Zi(fn.expandedKeys)},[fn.expandedKeys]);var Xi=function(Hr,Ur){var aa;return"expandedKeys"in fn||Zi(Hr),(aa=fn.onExpand)===null||aa===void 0?void 0:aa.call(fn,Hr,Ur)},Cr=function(Hr,Ur){var aa,Da=fn.multiple,Sr=Ur.node,da=Ur.nativeEvent,Ea=Sr.key,he=Ea===void 0?"":Ea,le=_o(fn),b=Object(C.a)(Object(C.a)({},Ur),{selected:!0}),y=(da==null?void 0:da.ctrlKey)||(da==null?void 0:da.metaKey),p=da==null?void 0:da.shiftKey,M;Da&&y?(M=Hr,tn.current=he,On.current=M,b.selectedNodes=zu(le,M)):Da&&p?(M=Array.from(new Set([].concat(Object(z.a)(On.current||[]),Object(z.a)(ho({treeData:le,expandedKeys:Ei,startKey:he,endKey:tn.current}))))),b.selectedNodes=zu(le,M)):(M=[he],tn.current=he,On.current=M,b.selectedNodes=zu(le,M)),(aa=fn.onSelect)===null||aa===void 0||aa.call(fn,M,b),"selectedKeys"in fn||ci(M)},br=I.useContext(zt.b),Ir=br.getPrefixCls,cr=br.direction,Mr=fn.prefixCls,tr=fn.className,Fi=fn.showIcon,zi=Fi===void 0?!0:Fi,lr=fn.expandAction,pr=lr===void 0?"click":lr,Or=oo(fn,["prefixCls","className","showIcon","expandAction"]),ur=Ir("tree",Mr),nr=O()("".concat(ur,"-directory"),Object(D.a)({},"".concat(ur,"-directory-rtl"),cr==="rtl"),tr);return I.createElement(Yo,Object(C.a)({icon:Ml,ref:St,blockNode:!0},Or,{showIcon:zi,expandAction:pr,prefixCls:ur,className:nr,expandedKeys:Ei,selectedKeys:Yn,onSelect:Cr,onExpand:Xi}))},Kl=I.forwardRef(ra),Ws=Kl,_s=Yo;_s.DirectoryTree=Ws,_s.TreeNode=Ba.a;var Es=_s,ca=a("hkKa");function Fa(Ue){var Be=I.useRef(Ue),St=Object(ca.a)();return[function(){return Be.current},function(rt){Be.current=rt,St()}]}var ya=a("l+S1"),oa=a("5rEg");function Wa(Ue){var Be=Ue.value,St=Ue.onChange,rt=Ue.filterSearch,ht=Ue.tablePrefixCls,Kt=Ue.locale;return rt?I.createElement("div",{className:"".concat(ht,"-filter-dropdown-search")},I.createElement(oa.a,{prefix:I.createElement(ya.a,null),placeholder:Kt.filterSearchPlaceholder,onChange:St,value:Be,htmlSize:1,className:"".concat(ht,"-filter-dropdown-search-input")})):null}var Co=Wa,es=a("4IlW"),To=function(Be){var St=Be.keyCode;St===es.a.ENTER&&Be.stopPropagation()},cs=function(Be){return I.createElement("div",{className:Be.className,onClick:function(rt){return rt.stopPropagation()},onKeyDown:To},Be.children)},Gs=cs;function Vs(Ue){return Ue.some(function(Be){var St=Be.children;return St})}function Hs(Ue,Be){return typeof Be=="string"||typeof Be=="number"?Be==null?void 0:Be.toString().toLowerCase().includes(Ue.trim().toLowerCase()):!1}function ps(Ue){var Be=Ue.filters,St=Ue.prefixCls,rt=Ue.filteredKeys,ht=Ue.filterMultiple,Kt=Ue.searchValue,fn=Ue.filterSearch;return Be.map(function(tn,On){var Fn=String(tn.value);if(tn.children)return{key:Fn||On,label:tn.text,popupClassName:"".concat(St,"-dropdown-submenu"),children:ps({filters:tn.children,prefixCls:St,filteredKeys:rt,filterMultiple:ht,searchValue:Kt,filterSearch:fn})};var li=ht?zr.a:Ja.a,Xn={key:tn.value!==void 0?Fn:On,label:I.createElement(I.Fragment,null,I.createElement(li,{checked:rt.includes(Fn)}),I.createElement("span",null,tn.text))};return Kt.trim()?typeof fn=="function"?fn(Kt,tn)?Xn:null:Hs(Kt,tn.text)?Xn:null:Xn})}function fc(Ue){var Be,St=Ue.tablePrefixCls,rt=Ue.prefixCls,ht=Ue.column,Kt=Ue.dropdownPrefixCls,fn=Ue.columnKey,tn=Ue.filterMultiple,On=Ue.filterMode,Fn=On===void 0?"menu":On,li=Ue.filterSearch,Xn=li===void 0?!1:li,Yn=Ue.filterState,ci=Ue.triggerFilter,ji=Ue.locale,Ni=Ue.children,Ei=Ue.getPopupContainer,Zi=ht.filterDropdownOpen,Xi=ht.onFilterDropdownOpenChange,Cr=ht.filterDropdownVisible,br=ht.onFilterDropdownVisibleChange,Ir=ht.filterResetToDefaultFilteredValue,cr=ht.defaultFilteredValue,Mr=I.useState(!1),tr=Object(se.a)(Mr,2),Fi=tr[0],zi=tr[1],lr=!!(Yn&&(((Be=Yn.filteredKeys)===null||Be===void 0?void 0:Be.length)||Yn.forceFiltered)),pr=function(na){zi(na),Xi==null||Xi(na),br==null||br(na)},Or;typeof Zi=="boolean"?Or=Zi:Or=typeof Cr=="boolean"?Cr:Fi;var ur=Yn==null?void 0:Yn.filteredKeys,nr=Fa(ur||[]),Pr=Object(se.a)(nr,2),Hr=Pr[0],Ur=Pr[1],aa=function(na){var va=na.selectedKeys;Ur(va)},Da=function(na,va){var Ta=va.node,io=va.checked;aa(tn?{selectedKeys:na}:{selectedKeys:io&&Ta.key?[Ta.key]:[]})};I.useEffect(function(){!Fi||aa({selectedKeys:ur||[]})},[ur]);var Sr=I.useState([]),da=Object(se.a)(Sr,2),Ea=da[0],he=da[1],le=function(na){he(na)},b=I.useState(""),y=Object(se.a)(b,2),p=y[0],M=y[1],q=function(na){var va=na.target.value;M(va)};I.useEffect(function(){Fi||M("")},[Fi]);var Se=function(na){var va=na&&na.length?na:null;if(va===null&&(!Yn||!Yn.filteredKeys)||xi()(va,Yn==null?void 0:Yn.filteredKeys))return null;ci({column:ht,key:fn,filteredKeys:va})},Ie=function(){pr(!1),Se(Hr())},qe=function(){var na=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1},va=na.confirm,Ta=na.closeDropdown;va&&Se([]),Ta&&pr(!1),M(""),Ur(Ir?(cr||[]).map(function(io){return String(io)}):[])},it=function(){var na=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0},va=na.closeDropdown;va&&pr(!1),Se(Hr())},dt=function(na){na&&ur!==void 0&&Ur(ur||[]),pr(na),!na&&!ht.filterDropdown&&Ie()},Jt=O()(Object(D.a)({},"".concat(Kt,"-menu-without-submenu"),!Vs(ht.filters||[]))),cn=function(na){if(na.target.checked){var va=qs(ht==null?void 0:ht.filters).map(function(Ta){return String(Ta)});Ur(va)}else Ur([])},Mn=function Vr(na){var va=na.filters;return(va||[]).map(function(Ta,io){var bs=String(Ta.value),Za={title:Ta.text,key:Ta.value!==void 0?bs:io};return Ta.children&&(Za.children=Vr({filters:Ta.children})),Za})},vi=function Vr(na){var va;return Object(C.a)(Object(C.a)({},na),{text:na.title,value:na.key,children:((va=na.children)===null||va===void 0?void 0:va.map(function(Ta){return Vr(Ta)}))||[]})},ii;if(typeof ht.filterDropdown=="function")ii=ht.filterDropdown({prefixCls:"".concat(Kt,"-custom"),setSelectedKeys:function(na){return aa({selectedKeys:na})},selectedKeys:Hr(),confirm:it,clearFilters:qe,filters:ht.filters,visible:Or,close:function(){pr(!1)}});else if(ht.filterDropdown)ii=ht.filterDropdown;else{var di=Hr()||[],$n=function(){return(ht.filters||[]).length===0?I.createElement(ba.a,{image:ba.a.PRESENTED_IMAGE_SIMPLE,description:ji.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):Fn==="tree"?I.createElement(I.Fragment,null,I.createElement(Co,{filterSearch:Xn,value:p,onChange:q,tablePrefixCls:St,locale:ji}),I.createElement("div",{className:"".concat(St,"-filter-dropdown-tree")},tn?I.createElement(zr.a,{checked:di.length===qs(ht.filters).length,indeterminate:di.length>0&&di.length<qs(ht.filters).length,className:"".concat(St,"-filter-dropdown-checkall"),onChange:cn},ji.filterCheckall):null,I.createElement(Es,{checkable:!0,selectable:!1,blockNode:!0,multiple:tn,checkStrictly:!tn,className:"".concat(Kt,"-menu"),onCheck:Da,checkedKeys:di,selectedKeys:di,showIcon:!1,treeData:Mn({filters:ht.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:p.trim()?function(na){return typeof Xn=="function"?Xn(p,vi(na)):Hs(p,na.title)}:void 0}))):I.createElement(I.Fragment,null,I.createElement(Co,{filterSearch:Xn,value:p,onChange:q,tablePrefixCls:St,locale:ji}),I.createElement(Sa.a,{selectable:!0,multiple:tn,prefixCls:"".concat(Kt,"-menu"),className:Jt,onSelect:aa,onDeselect:aa,selectedKeys:di,getPopupContainer:Ei,openKeys:Ea,onOpenChange:le,items:ps({filters:ht.filters||[],filterSearch:Xn,prefixCls:rt,filteredKeys:Hr(),filterMultiple:tn,searchValue:p})}))},ni=function(){return Ir?xi()((cr||[]).map(function(na){return String(na)}),di):di.length===0};ii=I.createElement(I.Fragment,null,$n(),I.createElement("div",{className:"".concat(rt,"-dropdown-btns")},I.createElement(Ar.a,{type:"link",size:"small",disabled:ni(),onClick:function(){return qe()}},ji.filterReset),I.createElement(Ar.a,{type:"primary",size:"small",onClick:Ie},ji.filterConfirm)))}ht.filterDropdown&&(ii=I.createElement(Va.a,{selectable:void 0},ii));var sr=function(){return I.createElement(Gs,{className:"".concat(rt,"-dropdown")},ii)},mr;typeof ht.filterIcon=="function"?mr=ht.filterIcon(lr):ht.filterIcon?mr=ht.filterIcon:mr=I.createElement(wr,null);var fr=I.useContext(zt.b),Xr=fr.direction;return I.createElement("div",{className:"".concat(rt,"-column")},I.createElement("span",{className:"".concat(St,"-column-title")},Ni),I.createElement(Tr.a,{dropdownRender:sr,trigger:["click"],open:Or,onOpenChange:dt,getPopupContainer:Ei,placement:Xr==="rtl"?"bottomLeft":"bottomRight"},I.createElement("span",{role:"button",tabIndex:-1,className:O()("".concat(rt,"-trigger"),{active:lr}),onClick:function(na){na.stopPropagation()}},mr)))}var Rs=fc;function Us(Ue,Be,St){var rt=[];return(Ue||[]).forEach(function(ht,Kt){var fn,tn=nn(Kt,St);if(ht.filters||"filterDropdown"in ht||"onFilter"in ht)if("filteredValue"in ht){var On=ht.filteredValue;"filterDropdown"in ht||(On=(fn=On==null?void 0:On.map(String))!==null&&fn!==void 0?fn:On),rt.push({column:ht,key:ln(ht,tn),filteredKeys:On,forceFiltered:ht.filtered})}else rt.push({column:ht,key:ln(ht,tn),filteredKeys:Be&&ht.defaultFilteredValue?ht.defaultFilteredValue:void 0,forceFiltered:ht.filtered});"children"in ht&&(rt=[].concat(Object(z.a)(rt),Object(z.a)(Us(ht.children,Be,tn))))}),rt}function Bc(Ue,Be,St,rt,ht,Kt,fn,tn){return St.map(function(On,Fn){var li=nn(Fn,tn),Xn=On.filterMultiple,Yn=Xn===void 0?!0:Xn,ci=On.filterMode,ji=On.filterSearch,Ni=On;if(Ni.filters||Ni.filterDropdown){var Ei=ln(Ni,li),Zi=rt.find(function(Xi){var Cr=Xi.key;return Ei===Cr});Ni=Object(C.a)(Object(C.a)({},Ni),{title:function(Cr){return I.createElement(Rs,{tablePrefixCls:Ue,prefixCls:"".concat(Ue,"-filter"),dropdownPrefixCls:Be,column:Ni,columnKey:Ei,filterState:Zi,filterMultiple:Yn,filterMode:ci,filterSearch:ji,triggerFilter:ht,locale:fn,getPopupContainer:Kt},bn(On.title,Cr))}})}return"children"in Ni&&(Ni=Object(C.a)(Object(C.a)({},Ni),{children:Bc(Ue,Be,Ni.children,rt,ht,Kt,fn,li)})),Ni})}function qs(Ue){var Be=[];return(Ue||[]).forEach(function(St){var rt=St.value,ht=St.children;Be.push(rt),ht&&(Be=[].concat(Object(z.a)(Be),Object(z.a)(qs(ht))))}),Be}function Eu(Ue){var Be={};return Ue.forEach(function(St){var rt=St.key,ht=St.filteredKeys,Kt=St.column,fn=Kt.filters,tn=Kt.filterDropdown;if(tn)Be[rt]=ht||null;else if(Array.isArray(ht)){var On=qs(fn);Be[rt]=On.filter(function(Fn){return ht.includes(String(Fn))})}else Be[rt]=null}),Be}function Ku(Ue,Be){return Be.reduce(function(St,rt){var ht=rt.column,Kt=ht.onFilter,fn=ht.filters,tn=rt.filteredKeys;return Kt&&tn&&tn.length?St.filter(function(On){return tn.some(function(Fn){var li=qs(fn),Xn=li.findIndex(function(ci){return String(ci)===String(Fn)}),Yn=Xn!==-1?li[Xn]:Fn;return Kt(Yn,On)})}):St},Ue)}function Ns(Ue){var Be=Ue.prefixCls,St=Ue.dropdownPrefixCls,rt=Ue.mergedColumns,ht=Ue.onFilterChange,Kt=Ue.getPopupContainer,fn=Ue.locale,tn=I.useState(function(){return Us(rt,!0)}),On=Object(se.a)(tn,2),Fn=On[0],li=On[1],Xn=I.useMemo(function(){var Ni=Us(rt,!1),Ei=!0,Zi=!0;return Ni.forEach(function(Xi){var Cr=Xi.filteredKeys;Cr!==void 0?Ei=!1:Zi=!1}),Ei?Fn:Ni},[rt,Fn]),Yn=I.useMemo(function(){return Eu(Xn)},[Xn]),ci=function(Ei){var Zi=Xn.filter(function(Xi){var Cr=Xi.key;return Cr!==Ei.key});Zi.push(Ei),li(Zi),ht(Eu(Zi),Zi)},ji=function(Ei){return Bc(Be,St,Ei,Xn,ci,Kt,fn)};return[ji,Xn,Yn]}var Gl=Ns,Gu=a("YWTS"),Tl=function(Ue,Be){var St={};for(var rt in Ue)Object.prototype.hasOwnProperty.call(Ue,rt)&&Be.indexOf(rt)<0&&(St[rt]=Ue[rt]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ht=0,rt=Object.getOwnPropertySymbols(Ue);ht<rt.length;ht++)Be.indexOf(rt[ht])<0&&Object.prototype.propertyIsEnumerable.call(Ue,rt[ht])&&(St[rt[ht]]=Ue[rt[ht]]);return St},$u=10;function Qu(Ue,Be){var St={current:Be.current,pageSize:Be.pageSize},rt=Ue&&Object(ve.a)(Ue)==="object"?Ue:{};return Object.keys(rt).forEach(function(ht){var Kt=Be[ht];typeof Kt!="function"&&(St[ht]=Kt)}),St}function vu(){for(var Ue={},Be=arguments.length,St=new Array(Be),rt=0;rt<Be;rt++)St[rt]=arguments[rt];return St.forEach(function(ht){ht&&Object.keys(ht).forEach(function(Kt){var fn=ht[Kt];fn!==void 0&&(Ue[Kt]=fn)})}),Ue}function Yu(Ue,Be,St){var rt=Be&&Object(ve.a)(Be)==="object"?Be:{},ht=rt.total,Kt=ht===void 0?0:ht,fn=Tl(rt,["total"]),tn=Object(I.useState)(function(){return{current:"defaultCurrent"in fn?fn.defaultCurrent:1,pageSize:"defaultPageSize"in fn?fn.defaultPageSize:$u}}),On=Object(se.a)(tn,2),Fn=On[0],li=On[1],Xn=vu(Fn,fn,{total:Kt>0?Kt:Ue}),Yn=Math.ceil((Kt||Ue)/Xn.pageSize);Xn.current>Yn&&(Xn.current=Yn||1);var ci=function(Ei,Zi){li({current:Ei!=null?Ei:1,pageSize:Zi||Xn.pageSize})},ji=function(Ei,Zi){var Xi;Be&&((Xi=Be.onChange)===null||Xi===void 0||Xi.call(Be,Ei,Zi)),ci(Ei,Zi),St(Ei,Zi||(Xn==null?void 0:Xn.pageSize))};return Be===!1?[{},function(){}]:[Object(C.a)(Object(C.a)({},Xn),{onChange:ji}),ci]}var Wc=a("T5bk"),Zu=a("8Skl"),Xu=a("NvD2"),ds=a("6cGi"),Cs={},ia="SELECT_ALL",vc="SELECT_INVERT",Lu="SELECT_NONE",$l=[];function gl(Ue,Be){var St=[];return(Ue||[]).forEach(function(rt){St.push(rt),rt&&Object(ve.a)(rt)==="object"&&Be in rt&&(St=[].concat(Object(z.a)(St),Object(z.a)(gl(rt[Be],Be))))}),St}function gu(Ue,Be){var St=Ue||{},rt=St.preserveSelectedRowKeys,ht=St.selectedRowKeys,Kt=St.defaultSelectedRowKeys,fn=St.getCheckboxProps,tn=St.onChange,On=St.onSelect,Fn=St.onSelectAll,li=St.onSelectInvert,Xn=St.onSelectNone,Yn=St.onSelectMultiple,ci=St.columnWidth,ji=St.type,Ni=St.selections,Ei=St.fixed,Zi=St.renderCell,Xi=St.hideSelectAll,Cr=St.checkStrictly,br=Cr===void 0?!0:Cr,Ir=Be.prefixCls,cr=Be.data,Mr=Be.pageData,tr=Be.getRecordByKey,Fi=Be.getRowKey,zi=Be.expandType,lr=Be.childrenColumnName,pr=Be.locale,Or=Be.getPopupContainer,ur=Object(ds.a)(ht||Kt||$l,{value:ht}),nr=Object(se.a)(ur,2),Pr=nr[0],Hr=nr[1],Ur=I.useRef(new Map),aa=Object(I.useCallback)(function(vi){if(rt){var ii=new Map;vi.forEach(function(di){var $n=tr(di);!$n&&Ur.current.has(di)&&($n=Ur.current.get(di)),ii.set(di,$n)}),Ur.current=ii}},[tr,rt]);I.useEffect(function(){aa(Pr)},[Pr]);var Da=Object(I.useMemo)(function(){return br?{keyEntities:null}:Object(zl.a)(cr,{externalGetKey:Fi,childrenPropName:lr})},[cr,Fi,br,lr]),Sr=Da.keyEntities,da=Object(I.useMemo)(function(){return gl(Mr,lr)},[Mr,lr]),Ea=Object(I.useMemo)(function(){var vi=new Map;return da.forEach(function(ii,di){var $n=Fi(ii,di),ni=(fn?fn(ii):null)||{};vi.set($n,ni)}),vi},[da,Fi,fn]),he=Object(I.useCallback)(function(vi){var ii;return!!((ii=Ea.get(Fi(vi)))===null||ii===void 0?void 0:ii.disabled)},[Ea,Fi]),le=Object(I.useMemo)(function(){if(br)return[Pr||[],[]];var vi=Object(Xu.a)(Pr,!0,Sr,he),ii=vi.checkedKeys,di=vi.halfCheckedKeys;return[ii||[],di]},[Pr,br,Sr,he]),b=Object(se.a)(le,2),y=b[0],p=b[1],M=Object(I.useMemo)(function(){var vi=ji==="radio"?y.slice(0,1):y;return new Set(vi)},[y,ji]),q=Object(I.useMemo)(function(){return ji==="radio"?new Set:new Set(p)},[p,ji]),Se=Object(I.useState)(null),Ie=Object(se.a)(Se,2),qe=Ie[0],it=Ie[1];I.useEffect(function(){Ue||Hr($l)},[!!Ue]);var dt=Object(I.useCallback)(function(vi,ii){var di,$n;aa(vi),rt?(di=vi,$n=vi.map(function(ni){return Ur.current.get(ni)})):(di=[],$n=[],vi.forEach(function(ni){var sr=tr(ni);sr!==void 0&&(di.push(ni),$n.push(sr))})),Hr(di),tn==null||tn(di,$n,{type:ii})},[Hr,tr,tn,rt]),Jt=Object(I.useCallback)(function(vi,ii,di,$n){if(On){var ni=di.map(function(sr){return tr(sr)});On(tr(vi),ii,ni,$n)}dt(di,"single")},[On,tr,dt]),cn=Object(I.useMemo)(function(){if(!Ni||Xi)return null;var vi=Ni===!0?[ia,vc,Lu]:Ni;return vi.map(function(ii){return ii===ia?{key:"all",text:pr.selectionAll,onSelect:function(){dt(cr.map(function($n,ni){return Fi($n,ni)}).filter(function($n){var ni=Ea.get($n);return!(ni==null?void 0:ni.disabled)||M.has($n)}),"all")}}:ii===vc?{key:"invert",text:pr.selectInvert,onSelect:function(){var $n=new Set(M);Mr.forEach(function(sr,mr){var fr=Fi(sr,mr),Xr=Ea.get(fr);(Xr==null?void 0:Xr.disabled)||($n.has(fr)?$n.delete(fr):$n.add(fr))});var ni=Array.from($n);li&&li(ni),dt(ni,"invert")}}:ii===Lu?{key:"none",text:pr.selectNone,onSelect:function(){Xn==null||Xn(),dt(Array.from(M).filter(function($n){var ni=Ea.get($n);return ni==null?void 0:ni.disabled}),"none")}}:ii}).map(function(ii){return Object(C.a)(Object(C.a)({},ii),{onSelect:function(){for(var $n,ni,sr=arguments.length,mr=new Array(sr),fr=0;fr<sr;fr++)mr[fr]=arguments[fr];(ni=ii.onSelect)===null||ni===void 0||($n=ni).call.apply($n,[ii].concat(mr)),it(null)}})})},[Ni,M,Mr,Fi,li,dt]),Mn=Object(I.useCallback)(function(vi){var ii;if(!Ue)return vi.filter(function(Ha){return Ha!==Cs});var di=Object(z.a)(vi),$n=new Set(M),ni=da.map(Fi).filter(function(Ha){return!Ea.get(Ha).disabled}),sr=ni.every(function(Ha){return $n.has(Ha)}),mr=ni.some(function(Ha){return $n.has(Ha)}),fr=function(){var Ia=[];sr?ni.forEach(function(So){$n.delete(So),Ia.push(So)}):ni.forEach(function(So){$n.has(So)||($n.add(So),Ia.push(So))});var jo=Array.from($n);Fn==null||Fn(!sr,jo.map(function(So){return tr(So)}),Ia.map(function(So){return tr(So)})),dt(jo,"all"),it(null)},Xr;if(ji!=="radio"){var Vr;if(cn){var na={getPopupContainer:Or,items:cn.map(function(Ha,Ia){var jo=Ha.key,So=Ha.text,Wo=Ha.onSelect;return{key:jo||Ia,onClick:function(){Wo==null||Wo(ni)},label:So}})};Vr=I.createElement("div",{className:"".concat(Ir,"-selection-extra")},I.createElement(Tr.a,{menu:na,getPopupContainer:Or},I.createElement("span",null,I.createElement(Zu.a,null))))}var va=da.map(function(Ha,Ia){var jo=Fi(Ha,Ia),So=Ea.get(jo)||{};return Object(C.a)({checked:$n.has(jo)},So)}).filter(function(Ha){var Ia=Ha.disabled;return Ia}),Ta=!!va.length&&va.length===da.length,io=Ta&&va.every(function(Ha){var Ia=Ha.checked;return Ia}),bs=Ta&&va.some(function(Ha){var Ia=Ha.checked;return Ia});Xr=!Xi&&I.createElement("div",{className:"".concat(Ir,"-selection")},I.createElement(zr.a,{checked:Ta?io:!!da.length&&sr,indeterminate:Ta?!io&&bs:!sr&&mr,onChange:fr,disabled:da.length===0||Ta,"aria-label":Vr?"Custom selection":"Select all",skipGroup:!0}),Vr)}var Za;ji==="radio"?Za=function(Ia,jo,So){var Wo=Fi(jo,So),Eo=$n.has(Wo);return{node:I.createElement(Ja.a,Object(C.a)({},Ea.get(Wo),{checked:Eo,onClick:function(ma){return ma.stopPropagation()},onChange:function(ma){$n.has(Wo)||Jt(Wo,!0,[Wo],ma.nativeEvent)}})),checked:Eo}}:Za=function(Ia,jo,So){var Wo,Eo=Fi(jo,So),Wr=$n.has(Eo),ma=q.has(Eo),$a=Ea.get(Eo),ko;return zi==="nest"?ko=ma:ko=(Wo=$a==null?void 0:$a.indeterminate)!==null&&Wo!==void 0?Wo:ma,{node:I.createElement(zr.a,Object(C.a)({},$a,{indeterminate:ko,checked:Wr,skipGroup:!0,onClick:function(ks){return ks.stopPropagation()},onChange:function(ks){var Po=ks.nativeEvent,Dl=Po.shiftKey,Vl=-1,nl=-1;if(Dl&&br){var ku=new Set([qe,Eo]);ni.some(function(il,ud){if(ku.has(il))if(Vl===-1)Vl=ud;else return nl=ud,!0;return!1})}if(nl!==-1&&Vl!==nl&&br){var Ic=ni.slice(Vl,nl+1),Fd=[];Wr?Ic.forEach(function(il){$n.has(il)&&(Fd.push(il),$n.delete(il))}):Ic.forEach(function(il){$n.has(il)||(Fd.push(il),$n.add(il))});var ru=Array.from($n);Yn==null||Yn(!Wr,ru.map(function(il){return tr(il)}),Fd.map(function(il){return tr(il)})),dt(ru,"multiple")}else{var oc=y;if(br){var uo=Wr?Object(vl.b)(oc,Eo):Object(vl.a)(oc,Eo);Jt(Eo,!Wr,uo,Po)}else{var qa=Object(Xu.a)([].concat(Object(z.a)(oc),[Eo]),!0,Sr,he),os=qa.checkedKeys,Zs=qa.halfCheckedKeys,ms=os;if(Wr){var ld=new Set(os);ld.delete(Eo),ms=Object(Xu.a)(Array.from(ld),{checked:!1,halfCheckedKeys:Zs},Sr,he).checkedKeys}Jt(Eo,!Wr,ms,Po)}}it(Wr?null:Eo)}})),checked:Wr}};var Na=function(Ia,jo,So){var Wo=Za(Ia,jo,So),Eo=Wo.node,Wr=Wo.checked;return Zi?Zi(Wr,jo,So,Eo):Eo};if(!di.includes(Cs))if(di.findIndex(function(Ha){var Ia;return((Ia=Ha[gn])===null||Ia===void 0?void 0:Ia.columnType)==="EXPAND_COLUMN"})===0){var ga=di,ea=Object(Wc.a)(ga),Ga=ea[0],Io=ea.slice(1);di=[Ga,Cs].concat(Object(z.a)(Io))}else di=[Cs].concat(Object(z.a)(di));var Ko=di.indexOf(Cs);di=di.filter(function(Ha,Ia){return Ha!==Cs||Ia===Ko});var xo=di[Ko-1],Xo=di[Ko+1],is=Ei;is===void 0&&((Xo==null?void 0:Xo.fixed)!==void 0?is=Xo.fixed:(xo==null?void 0:xo.fixed)!==void 0&&(is=xo.fixed)),is&&xo&&((ii=xo[gn])===null||ii===void 0?void 0:ii.columnType)==="EXPAND_COLUMN"&&xo.fixed===void 0&&(xo.fixed=is);var Wl=Object(D.a)({fixed:is,width:ci,className:"".concat(Ir,"-selection-column"),title:Ue.columnTitle||Xr,render:Na},gn,{className:"".concat(Ir,"-selection-col")});return di.map(function(Ha){return Ha===Cs?Wl:Ha})},[Fi,da,Ue,y,M,q,ci,cn,zi,qe,Ea,Yn,Jt,he]);return[Mn,M]}var Ju={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},Do=Ju,Zo=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:Do}))};Zo.displayName="CaretDownOutlined";var mo=I.forwardRef(Zo),gc={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},qu=gc,Ls=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:qu}))};Ls.displayName="CaretUpOutlined";var Vc=I.forwardRef(Ls),Ql=a("3S7+"),ml="ascend",Hc="descend";function Il(Ue){return Object(ve.a)(Ue.sorter)==="object"&&typeof Ue.sorter.multiple=="number"?Ue.sorter.multiple:!1}function th(Ue){return typeof Ue=="function"?Ue:Ue&&Object(ve.a)(Ue)==="object"&&Ue.compare?Ue.compare:!1}function $s(Ue,Be){return Be?Ue[Ue.indexOf(Be)+1]:Ue[0]}function al(Ue,Be,St){var rt=[];function ht(Kt,fn){rt.push({column:Kt,key:ln(Kt,fn),multiplePriority:Il(Kt),sortOrder:Kt.sortOrder})}return(Ue||[]).forEach(function(Kt,fn){var tn=nn(fn,St);Kt.children?("sortOrder"in Kt&&ht(Kt,tn),rt=[].concat(Object(z.a)(rt),Object(z.a)(al(Kt.children,Be,tn)))):Kt.sorter&&("sortOrder"in Kt?ht(Kt,tn):Be&&Kt.defaultSortOrder&&rt.push({column:Kt,key:ln(Kt,tn),multiplePriority:Il(Kt),sortOrder:Kt.defaultSortOrder}))}),rt}function Mu(Ue,Be,St,rt,ht,Kt,fn,tn){return(Be||[]).map(function(On,Fn){var li=nn(Fn,tn),Xn=On;if(Xn.sorter){var Yn=Xn.sortDirections||ht,ci=Xn.showSorterTooltip===void 0?fn:Xn.showSorterTooltip,ji=ln(Xn,li),Ni=St.find(function(zi){var lr=zi.key;return lr===ji}),Ei=Ni?Ni.sortOrder:null,Zi=$s(Yn,Ei),Xi=Yn.includes(ml)&&I.createElement(Vc,{className:O()("".concat(Ue,"-column-sorter-up"),{active:Ei===ml}),role:"presentation"}),Cr=Yn.includes(Hc)&&I.createElement(mo,{className:O()("".concat(Ue,"-column-sorter-down"),{active:Ei===Hc}),role:"presentation"}),br=Kt||{},Ir=br.cancelSort,cr=br.triggerAsc,Mr=br.triggerDesc,tr=Ir;Zi===Hc?tr=Mr:Zi===ml&&(tr=cr);var Fi=Object(ve.a)(ci)==="object"?ci:{title:tr};Xn=Object(C.a)(Object(C.a)({},Xn),{className:O()(Xn.className,Object(D.a)({},"".concat(Ue,"-column-sort"),Ei)),title:function(lr){var pr=I.createElement("div",{className:"".concat(Ue,"-column-sorters")},I.createElement("span",{className:"".concat(Ue,"-column-title")},bn(On.title,lr)),I.createElement("span",{className:O()("".concat(Ue,"-column-sorter"),Object(D.a)({},"".concat(Ue,"-column-sorter-full"),!!(Xi&&Cr)))},I.createElement("span",{className:"".concat(Ue,"-column-sorter-inner")},Xi,Cr)));return ci?I.createElement(Ql.a,Object(C.a)({},Fi),pr):pr},onHeaderCell:function(lr){var pr=On.onHeaderCell&&On.onHeaderCell(lr)||{},Or=pr.onClick,ur=pr.onKeyDown;pr.onClick=function(Hr){rt({column:On,key:ji,sortOrder:Zi,multiplePriority:Il(On)}),Or==null||Or(Hr)},pr.onKeyDown=function(Hr){Hr.keyCode===es.a.ENTER&&(rt({column:On,key:ji,sortOrder:Zi,multiplePriority:Il(On)}),ur==null||ur(Hr))};var nr=An(On.title,{}),Pr=nr==null?void 0:nr.toString();return Ei?pr["aria-sort"]=Ei==="ascend"?"ascending":"descending":pr["aria-label"]=Pr||"",pr.className=O()(pr.className,"".concat(Ue,"-column-has-sorters")),pr.tabIndex=0,On.ellipsis&&(pr.title=(nr!=null?nr:"").toString()),pr}})}return"children"in Xn&&(Xn=Object(C.a)(Object(C.a)({},Xn),{children:Mu(Ue,Xn.children,St,rt,ht,Kt,fn,li)})),Xn})}function mc(Ue){var Be=Ue.column,St=Ue.sortOrder;return{column:Be,order:St,field:Be.dataIndex,columnKey:Be.key}}function Os(Ue){var Be=Ue.filter(function(St){var rt=St.sortOrder;return rt}).map(mc);return Be.length===0&&Ue.length?Object(C.a)(Object(C.a)({},mc(Ue[Ue.length-1])),{column:void 0}):Be.length<=1?Be[0]||{}:Be}function Pl(Ue,Be,St){var rt=Be.slice().sort(function(fn,tn){return tn.multiplePriority-fn.multiplePriority}),ht=Ue.slice(),Kt=rt.filter(function(fn){var tn=fn.column.sorter,On=fn.sortOrder;return th(tn)&&On});return Kt.length?ht.sort(function(fn,tn){for(var On=0;On<Kt.length;On+=1){var Fn=Kt[On],li=Fn.column.sorter,Xn=Fn.sortOrder,Yn=th(li);if(Yn&&Xn){var ci=Yn(fn,tn,Xn);if(ci!==0)return Xn===ml?ci:-ci}}return 0}).map(function(fn){var tn=fn[St];return tn?Object(C.a)(Object(C.a)({},fn),Object(D.a)({},St,Pl(tn,Be,St))):fn}):ht}function Tu(Ue){var Be=Ue.prefixCls,St=Ue.mergedColumns,rt=Ue.onSorterChange,ht=Ue.sortDirections,Kt=Ue.tableLocale,fn=Ue.showSorterTooltip,tn=I.useState(al(St,!0)),On=Object(se.a)(tn,2),Fn=On[0],li=On[1],Xn=I.useMemo(function(){var Ei=!0,Zi=al(St,!1);if(!Zi.length)return Fn;var Xi=[];function Cr(Ir){Ei?Xi.push(Ir):Xi.push(Object(C.a)(Object(C.a)({},Ir),{sortOrder:null}))}var br=null;return Zi.forEach(function(Ir){br===null?(Cr(Ir),Ir.sortOrder&&(Ir.multiplePriority===!1?Ei=!1:br=!0)):(br&&Ir.multiplePriority!==!1||(Ei=!1),Cr(Ir))}),Xi},[St,Fn]),Yn=I.useMemo(function(){var Ei=Xn.map(function(Zi){var Xi=Zi.column,Cr=Zi.sortOrder;return{column:Xi,order:Cr}});return{sortColumns:Ei,sortColumn:Ei[0]&&Ei[0].column,sortOrder:Ei[0]&&Ei[0].order}},[Xn]);function ci(Ei){var Zi;Ei.multiplePriority===!1||!Xn.length||Xn[0].multiplePriority===!1?Zi=[Ei]:Zi=[].concat(Object(z.a)(Xn.filter(function(Xi){var Cr=Xi.key;return Cr!==Ei.key})),[Ei]),li(Zi),rt(Os(Zi),Zi)}var ji=function(Zi){return Mu(Be,Zi,Xn,ci,ht,Kt,fn)},Ni=function(){return Os(Xn)};return[ji,Xn,Yn,Ni]}function Iu(Ue,Be){return Ue.map(function(St){var rt=Object(C.a)({},St);return rt.title=bn(St.title,Be),"children"in rt&&(rt.children=Iu(rt.children,Be)),rt})}function Al(Ue){var Be=I.useCallback(function(St){return Iu(St,Ue)},[Ue]);return[Be]}var Uc=[];function Xh(Ue,Be){var St,rt=Ue.prefixCls,ht=Ue.className,Kt=Ue.style,fn=Ue.size,tn=Ue.bordered,On=Ue.dropdownPrefixCls,Fn=Ue.dataSource,li=Ue.pagination,Xn=Ue.rowSelection,Yn=Ue.rowKey,ci=Yn===void 0?"key":Yn,ji=Ue.rowClassName,Ni=Ue.columns,Ei=Ue.children,Zi=Ue.childrenColumnName,Xi=Ue.onChange,Cr=Ue.getPopupContainer,br=Ue.loading,Ir=Ue.expandIcon,cr=Ue.expandable,Mr=Ue.expandedRowRender,tr=Ue.expandIconColumnIndex,Fi=Ue.indentSize,zi=Ue.scroll,lr=Ue.sortDirections,pr=Ue.locale,Or=Ue.showSorterTooltip,ur=Or===void 0?!0:Or;[["filterDropdownVisible","filterDropdownOpen"],["onFilterDropdownVisibleChange","onFilterDropdownOpenChange"]].forEach(function(uo){var qa=Object(se.a)(uo,2),os=qa[0],Zs=qa[1]});var nr=I.useMemo(function(){return Ni||Pt(Ei)},[Ni,Ei]),Pr=I.useMemo(function(){return nr.some(function(uo){return uo.responsive})},[nr]),Hr=Object(Vn.a)(Pr),Ur=I.useMemo(function(){var uo=new Set(Object.keys(Hr).filter(function(qa){return Hr[qa]}));return nr.filter(function(qa){return!qa.responsive||qa.responsive.some(function(os){return uo.has(os)})})},[nr,Hr]),aa=Object(At.a)(Ue,["className","style","columns"]),Da=I.useContext(Un.b),Sr=I.useContext(zt.b),da=Sr.locale,Ea=da===void 0?Gn.a:da,he=Sr.renderEmpty,le=Sr.direction,b=fn||Da,y=Object(C.a)(Object(C.a)({},Ea.Table),pr),p=Fn||Uc,M=I.useContext(zt.b),q=M.getPrefixCls,Se=q("table",rt),Ie=q("dropdown",On),qe=Object(C.a)({childrenColumnName:Zi,expandIconColumnIndex:tr},cr),it=qe.childrenColumnName,dt=it===void 0?"children":it,Jt=I.useMemo(function(){return p.some(function(uo){return uo==null?void 0:uo[dt]})?"nest":Mr||cr&&cr.expandedRowRender?"row":null},[p]),cn={body:I.useRef()},Mn=I.useMemo(function(){return typeof ci=="function"?ci:function(uo){return uo==null?void 0:uo[ci]}},[ci]),vi=Object(Gu.a)(p,dt,Mn),ii=Object(se.a)(vi,1),di=ii[0],$n={},ni=function(qa,os){var Zs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ms=Object(C.a)(Object(C.a)({},$n),qa);Zs&&($n.resetPagination(),ms.pagination.current&&(ms.pagination.current=1),li&&li.onChange&&li.onChange(1,ms.pagination.pageSize)),zi&&zi.scrollToFirstRowOnChange!==!1&&cn.body.current&&ue(0,{getContainer:function(){return cn.body.current}}),Xi==null||Xi(ms.pagination,ms.filters,ms.sorter,{currentDataSource:Ku(Pl(p,ms.sorterStates,dt),ms.filterStates),action:os})},sr=function(qa,os){ni({sorter:qa,sorterStates:os},"sort",!1)},mr=Tu({prefixCls:Se,mergedColumns:Ur,onSorterChange:sr,sortDirections:lr||["ascend","descend"],tableLocale:y,showSorterTooltip:ur}),fr=Object(se.a)(mr,4),Xr=fr[0],Vr=fr[1],na=fr[2],va=fr[3],Ta=I.useMemo(function(){return Pl(p,Vr,dt)},[p,Vr]);$n.sorter=va(),$n.sorterStates=Vr;var io=function(qa,os){ni({filters:qa,filterStates:os},"filter",!0)},bs=Gl({prefixCls:Se,locale:y,dropdownPrefixCls:Ie,mergedColumns:Ur,onFilterChange:io,getPopupContainer:Cr}),Za=Object(se.a)(bs,3),Na=Za[0],ga=Za[1],ea=Za[2],Ga=Ku(Ta,ga);$n.filters=ea,$n.filterStates=ga;var Io=I.useMemo(function(){var uo={};return Object.keys(ea).forEach(function(qa){ea[qa]!==null&&(uo[qa]=ea[qa])}),Object(C.a)(Object(C.a)({},na),{filters:uo})},[na,ea]),Ko=Al(Io),xo=Object(se.a)(Ko,1),Xo=xo[0],is=function(qa,os){ni({pagination:Object(C.a)(Object(C.a)({},$n.pagination),{current:qa,pageSize:os})},"paginate")},Wl=Yu(Ga.length,li,is),Ha=Object(se.a)(Wl,2),Ia=Ha[0],jo=Ha[1];$n.pagination=li===!1?{}:Qu(li,Ia),$n.resetPagination=jo;var So=I.useMemo(function(){if(li===!1||!Ia.pageSize)return Ga;var uo=Ia.current,qa=uo===void 0?1:uo,os=Ia.total,Zs=Ia.pageSize,ms=Zs===void 0?$u:Zs;return Ga.length<os?Ga.length>ms?Ga.slice((qa-1)*ms,qa*ms):Ga:Ga.slice((qa-1)*ms,qa*ms)},[!!li,Ga,Ia&&Ia.current,Ia&&Ia.pageSize,Ia&&Ia.total]),Wo=gu(Xn,{prefixCls:Se,data:Ga,pageData:So,getRowKey:Mn,getRecordByKey:di,expandType:Jt,childrenColumnName:dt,locale:y,getPopupContainer:Cr}),Eo=Object(se.a)(Wo,2),Wr=Eo[0],ma=Eo[1],$a=function(qa,os,Zs){var ms;return typeof ji=="function"?ms=O()(ji(qa,os,Zs)):ms=O()(ji),O()(Object(D.a)({},"".concat(Se,"-row-selected"),ma.has(Mn(qa,os))),ms)};qe.__PARENT_RENDER_ICON__=qe.expandIcon,qe.expandIcon=qe.expandIcon||Ir||un(y),Jt==="nest"&&qe.expandIconColumnIndex===void 0?qe.expandIconColumnIndex=Xn?1:0:qe.expandIconColumnIndex>0&&Xn&&(qe.expandIconColumnIndex-=1),typeof qe.indentSize!="number"&&(qe.indentSize=typeof Fi=="number"?Fi:15);var ko=I.useCallback(function(uo){return Xo(Wr(Na(Xr(uo))))},[Xr,Na,Wr]),Ss,ks;if(li!==!1&&(Ia==null?void 0:Ia.total)){var Po;Ia.size?Po=Ia.size:Po=b==="small"||b==="middle"?"small":void 0;var Dl=function(qa){return I.createElement(tt,Object(C.a)({},Ia,{className:O()("".concat(Se,"-pagination ").concat(Se,"-pagination-").concat(qa),Ia.className),size:Po}))},Vl=le==="rtl"?"left":"right",nl=Ia.position;if(nl!==null&&Array.isArray(nl)){var ku=nl.find(function(uo){return uo.includes("top")}),Ic=nl.find(function(uo){return uo.includes("bottom")}),Fd=nl.every(function(uo){return"".concat(uo)==="none"});!ku&&!Ic&&!Fd&&(ks=Dl(Vl)),ku&&(Ss=Dl(ku.toLowerCase().replace("top",""))),Ic&&(ks=Dl(Ic.toLowerCase().replace("bottom","")))}else ks=Dl(Vl)}var ru;typeof br=="boolean"?ru={spinning:br}:Object(ve.a)(br)==="object"&&(ru=Object(C.a)({spinning:!0},br));var oc=O()("".concat(Se,"-wrapper"),Object(D.a)({},"".concat(Se,"-wrapper-rtl"),le==="rtl"),ht);return I.createElement("div",{ref:Be,className:oc,style:Kt},I.createElement(_e.a,Object(C.a)({spinning:!1},ru),Ss,I.createElement(Mt,Object(C.a)({},aa,{columns:Ur,direction:le,expandable:qe,prefixCls:Se,className:O()((St={},Object(D.a)(St,"".concat(Se,"-middle"),b==="middle"),Object(D.a)(St,"".concat(Se,"-small"),b==="small"),Object(D.a)(St,"".concat(Se,"-bordered"),tn),Object(D.a)(St,"".concat(Se,"-empty"),p.length===0),St)),data:So,rowKey:Mn,rowClassName:$a,emptyText:pr&&pr.emptyText||(he||$t.a)("Table"),internalHooks:ua,internalRefs:cn,transformColumns:ko})),ks))}var pd=I.forwardRef(Xh),pl=pd;pl.SELECTION_COLUMN=Cs,pl.EXPAND_COLUMN=Mt.EXPAND_COLUMN,pl.SELECTION_ALL=ia,pl.SELECTION_INVERT=vc,pl.SELECTION_NONE=Lu,pl.Column=Ve,pl.ColumnGroup=_t,pl.Summary=Ze;var zc=pl,Yl=zc,Ri=a("nKUr"),bd=a("Znn+"),Qs=a("ZTPi"),pc=a("1GLa"),hs=a("TLLU"),Zl=a("YSkC"),ol=a("BGR+"),Kc=a("VzZb"),yd=["tab","children"],Xl=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"];function el(Ue){return Ue.filter(function(Be){return Be})}function Jh(Ue,Be,St){if(Ue)return Ue.map(function(ht){return Object(T.a)(Object(T.a)({},ht),{},{children:Object(Ri.jsx)(Ys,Object(T.a)(Object(T.a)({},St==null?void 0:St.cardProps),{},{children:ht.children}))})});Object(G.b)(!St,"Tabs.TabPane is deprecated. Please use `items` directly.");var rt=Object(Ct.a)(Be).map(function(ht){if(de.a.isValidElement(ht)){var Kt=ht.key,fn=ht.props,tn=fn||{},On=tn.tab,Fn=tn.children,li=Object(L.a)(tn,yd),Xn=Object(T.a)(Object(T.a)({key:String(Kt)},li),{},{children:Object(Ri.jsx)(Ys,Object(T.a)(Object(T.a)({},St==null?void 0:St.cardProps),{},{children:Fn})),label:On});return Xn}return null});return el(rt)}var qh=function(Be){var St=Be.key,rt=Be.tab,ht=Be.tabKey,Kt=Be.disabled,fn=Be.destroyInactiveTabPane,tn=Be.children,On=Be.className,Fn=Be.style,li=Be.cardProps,Xn=Object(L.a)(Be,Xl),Yn=Object(I.useContext)($.a.ConfigContext),ci=Yn.getPrefixCls,ji=ci("pro-card-tabpane"),Ni=O()(ji,On);return Object(Ri.jsx)(Qs.a.TabPane,Object(T.a)(Object(T.a)({tabKey:ht,tab:rt,className:Ni,style:Fn,disabled:Kt,destroyInactiveTabPane:fn},Xn),{},{children:Object(Ri.jsx)(Ys,Object(T.a)(Object(T.a)({},li),{},{children:tn}))}),St)},Pu=qh,_d=a("S76h"),bc=function(Be){var St=Be.actions,rt=Be.prefixCls;return Array.isArray(St)&&(St==null?void 0:St.length)?Object(Ri.jsx)("ul",{className:"".concat(rt,"-actions"),children:St.map(function(ht,Kt){return Object(Ri.jsx)("li",{style:{width:"".concat(100/St.length,"%")},children:Object(Ri.jsx)("span",{children:ht})},"action-".concat(Kt))})}):St?Object(Ri.jsx)("ul",{className:"".concat(rt,"-actions"),children:St}):null},Cd=bc,yc=a("jCWc"),bl=a("kPKH"),nh=a("14J3"),Rl=a("BMrR"),_c=a("aK+R"),Od=function(Be){var St=Be.style,rt=Be.prefix;return Object(Ri.jsxs)("div",{className:"".concat(rt,"-loading-content"),style:St,children:[Object(Ri.jsx)(Rl.a,{gutter:8,children:Object(Ri.jsx)(bl.a,{span:22,children:Object(Ri.jsx)("div",{className:"".concat(rt,"-loading-block")})})}),Object(Ri.jsxs)(Rl.a,{gutter:8,children:[Object(Ri.jsx)(bl.a,{span:8,children:Object(Ri.jsx)("div",{className:"".concat(rt,"-loading-block")})}),Object(Ri.jsx)(bl.a,{span:15,children:Object(Ri.jsx)("div",{className:"".concat(rt,"-loading-block")})})]}),Object(Ri.jsxs)(Rl.a,{gutter:8,children:[Object(Ri.jsx)(bl.a,{span:6,children:Object(Ri.jsx)("div",{className:"".concat(rt,"-loading-block")})}),Object(Ri.jsx)(bl.a,{span:18,children:Object(Ri.jsx)("div",{className:"".concat(rt,"-loading-block")})})]}),Object(Ri.jsxs)(Rl.a,{gutter:8,children:[Object(Ri.jsx)(bl.a,{span:13,children:Object(Ri.jsx)("div",{className:"".concat(rt,"-loading-block")})}),Object(Ri.jsx)(bl.a,{span:9,children:Object(Ri.jsx)("div",{className:"".concat(rt,"-loading-block")})})]}),Object(Ri.jsxs)(Rl.a,{gutter:8,children:[Object(Ri.jsx)(bl.a,{span:4,children:Object(Ri.jsx)("div",{className:"".concat(rt,"-loading-block")})}),Object(Ri.jsx)(bl.a,{span:3,children:Object(Ri.jsx)("div",{className:"".concat(rt,"-loading-block")})}),Object(Ri.jsx)(bl.a,{span:16,children:Object(Ri.jsx)("div",{className:"".concat(rt,"-loading-block")})})]})]})},yl=Od,Ms=a("df8c"),Sd=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","collapsibleIconRender","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],Nl=hs.a.useBreakpoint,kd=de.a.forwardRef(function(Ue,Be){var St,rt,ht,Kt=Ue.className,fn=Ue.style,tn=Ue.bodyStyle,On=tn===void 0?{}:tn,Fn=Ue.headStyle,li=Fn===void 0?{}:Fn,Xn=Ue.title,Yn=Ue.subTitle,ci=Ue.extra,ji=Ue.tip,Ni=Ue.wrap,Ei=Ni===void 0?!1:Ni,Zi=Ue.layout,Xi=Ue.loading,Cr=Ue.gutter,br=Cr===void 0?0:Cr,Ir=Ue.tooltip,cr=Ue.split,Mr=Ue.headerBordered,tr=Mr===void 0?!1:Mr,Fi=Ue.bordered,zi=Fi===void 0?!1:Fi,lr=Ue.children,pr=Ue.size,Or=Ue.actions,ur=Ue.ghost,nr=ur===void 0?!1:ur,Pr=Ue.hoverable,Hr=Pr===void 0?!1:Pr,Ur=Ue.direction,aa=Ue.collapsed,Da=Ue.collapsible,Sr=Da===void 0?!1:Da,da=Ue.collapsibleIconRender,Ea=Ue.defaultCollapsed,he=Ea===void 0?!1:Ea,le=Ue.onCollapse,b=Ue.checked,y=Ue.onChecked,p=Ue.tabs,M=Ue.type,q=Object(L.a)(Ue,Sd),Se=Object(I.useContext)($.a.ConfigContext),Ie=Se.getPrefixCls,qe=Nl(),it=Object(ds.a)(he,{value:aa,onChange:le}),dt=Object(se.a)(it,2),Jt=dt[0],cn=dt[1],Mn=["xxl","xl","lg","md","sm","xs"],vi=Jh(p==null?void 0:p.items,lr,p),ii=function(ea){var Ga=[0,0],Io=Array.isArray(ea)?ea:[ea,0];return Io.forEach(function(Ko,xo){if(Object(ve.a)(Ko)==="object")for(var Xo=0;Xo<Mn.length;Xo+=1){var is=Mn[Xo];if(qe[is]&&Ko[is]!==void 0){Ga[xo]=Ko[is];break}}else Ga[xo]=Ko||0}),Ga},di=function(ea,Ga){return ea?Ga:{}},$n=function(ea){var Ga=ea;if(Object(ve.a)(ea)==="object")for(var Io=0;Io<Mn.length;Io+=1){var Ko=Mn[Io];if(qe[Ko]&&ea[Ko]!==void 0){Ga=ea[Ko];break}}var xo=di(typeof Ga=="string"&&/\d%|\dpx/i.test(Ga),{width:Ga,flexShrink:0});return{span:Ga,colSpanStyle:xo}},ni=Ie("pro-card"),sr=ii(br),mr=Object(se.a)(sr,2),fr=mr[0],Xr=mr[1],Vr=!1,na=de.a.Children.toArray(lr),va=na.map(function(ga,ea){var Ga;if(ga==null||(Ga=ga.type)===null||Ga===void 0?void 0:Ga.isProCard){var Io;Vr=!0;var Ko=ga.props.colSpan,xo=$n(Ko),Xo=xo.span,is=xo.colSpanStyle,Wl=O()(["".concat(ni,"-col")],(Io={},Object(D.a)(Io,"".concat(ni,"-split-vertical"),cr==="vertical"&&ea!==na.length-1),Object(D.a)(Io,"".concat(ni,"-split-horizontal"),cr==="horizontal"&&ea!==na.length-1),Object(D.a)(Io,"".concat(ni,"-col-").concat(Xo),typeof Xo=="number"&&Xo>=0&&Xo<=24),Io));return Object(Ri.jsx)("div",{style:Object(T.a)(Object(T.a)(Object(T.a)({},is),di(fr>0,{paddingRight:fr/2,paddingLeft:fr/2})),di(Xr>0,{paddingTop:Xr/2,paddingBottom:Xr/2})),className:Wl,children:de.a.cloneElement(ga)},"pro-card-col-".concat((ga==null?void 0:ga.key)||ea))}return ga}),Ta=O()("".concat(ni),Kt,(St={},Object(D.a)(St,"".concat(ni,"-border"),zi),Object(D.a)(St,"".concat(ni,"-contain-card"),Vr),Object(D.a)(St,"".concat(ni,"-loading"),Xi),Object(D.a)(St,"".concat(ni,"-split"),cr==="vertical"||cr==="horizontal"),Object(D.a)(St,"".concat(ni,"-ghost"),nr),Object(D.a)(St,"".concat(ni,"-hoverable"),Hr),Object(D.a)(St,"".concat(ni,"-size-").concat(pr),pr),Object(D.a)(St,"".concat(ni,"-type-").concat(M),M),Object(D.a)(St,"".concat(ni,"-collapse"),Jt),Object(D.a)(St,"".concat(ni,"-checked"),b),St)),io=O()("".concat(ni,"-body"),(rt={},Object(D.a)(rt,"".concat(ni,"-body-center"),Zi==="center"),Object(D.a)(rt,"".concat(ni,"-body-direction-column"),cr==="horizontal"||Ur==="column"),Object(D.a)(rt,"".concat(ni,"-body-wrap"),Ei&&Vr),rt)),bs=Object(T.a)(Object(T.a)(Object(T.a)({},di(fr>0,{marginRight:-fr/2,marginLeft:-fr/2})),di(Xr>0,{marginTop:-Xr/2,marginBottom:-Xr/2})),On),Za=de.a.isValidElement(Xi)?Xi:Object(Ri.jsx)(yl,{prefix:ni,style:On.padding===0||On.padding==="0px"?{padding:24}:void 0}),Na=Sr&&aa===void 0&&(da?da({collapsed:Jt}):Object(Ri.jsx)(on.a,{rotate:Jt?void 0:90,className:"".concat(ni,"-collapsible-icon")}));return Object(Ri.jsxs)("div",Object(T.a)(Object(T.a)({className:Ta,style:fn,ref:Be,onClick:function(ea){var Ga;y==null||y(ea),q==null||(Ga=q.onClick)===null||Ga===void 0||Ga.call(q,ea)}},Object(ol.a)(q,["prefixCls","colSpan"])),{},{children:[(Xn||ci||Na)&&Object(Ri.jsxs)("div",{className:O()("".concat(ni,"-header"),(ht={},Object(D.a)(ht,"".concat(ni,"-header-border"),tr||M==="inner"),Object(D.a)(ht,"".concat(ni,"-header-collapsible"),Na),ht)),style:li,onClick:function(){Na&&cn(!Jt)},children:[Object(Ri.jsxs)("div",{className:"".concat(ni,"-title"),children:[Na,Object(Ri.jsx)(Zl.a,{label:Xn,tooltip:Ir||ji,subTitle:Yn})]}),ci&&Object(Ri.jsx)("div",{className:"".concat(ni,"-extra"),children:ci})]}),p?Object(Ri.jsx)("div",{className:"".concat(ni,"-tabs"),children:Object(Ri.jsx)(Qs.a,Object(T.a)(Object(T.a)({onChange:p.onChange},p),{},{items:vi,children:Xi?Za:lr}))}):Object(Ri.jsx)("div",{className:io,style:bs,children:Xi?Za:va}),Object(Ri.jsx)(Cd,{actions:Or,prefixCls:ni})]}))}),Ys=kd,Ma=a("u1OI"),fs=function(Be){var St=Object(I.useContext)($.a.ConfigContext),rt=St.getPrefixCls,ht=rt("pro-card-divider"),Kt=Be.className,fn=Be.style,tn=fn===void 0?{}:fn,On=Be.type,Fn=O()(ht,Kt,Object(D.a)({},"".concat(ht,"-").concat(On),On));return Object(Ri.jsx)("div",{className:Fn,style:tn})},Dd=fs,Gc=function(Be){return Object(Ri.jsx)(Ys,Object(T.a)({bodyStyle:{padding:0}},Be))},po=Ys;po.isProCard=!0,po.Divider=Dd,po.TabPane=Pu,po.Group=Gc;var No=po,$c=No,Qc=a("VMEa"),Cc=a("mzd2"),sl=a("PjWh"),_l=a("9mHw"),Ts=a("g5r2"),Ps=a("3j9d"),mu=a("AMKO"),wd=a("fOrg"),Au=a("+KLJ"),ih=a("DYRE"),wo=a("zeV3"),rh=a("wFNa"),Oc=function(Be){var St=Be.intl,rt=Be.onCleanSelected;return[Object(Ri.jsx)("a",{onClick:rt,children:St.getMessage("alert.clear","\u6E05\u7A7A")},"0")]};function ec(Ue){var Be=Ue.selectedRowKeys,St=Be===void 0?[]:Be,rt=Ue.onCleanSelected,ht=Ue.alwaysShowAlert,Kt=Ue.selectedRows,fn=Ue.alertInfoRender,tn=fn===void 0?function(Ei){var Zi=Ei.intl;return Object(Ri.jsxs)(wo.b,{children:[Zi.getMessage("alert.selected","\u5DF2\u9009\u62E9"),St.length,Zi.getMessage("alert.item","\u9879"),"\xA0\xA0"]})}:fn,On=Ue.alertOptionRender,Fn=On===void 0?Oc:On,li=Object(ce.d)(),Xn=Fn&&Fn({onCleanSelected:rt,selectedRowKeys:St,selectedRows:Kt,intl:li}),Yn=Object(I.useContext)($.a.ConfigContext),ci=Yn.getPrefixCls,ji=ci("pro-table-alert");if(tn===!1)return null;var Ni=tn({intl:li,selectedRowKeys:St,selectedRows:Kt,onCleanSelected:rt});return Ni===!1||St.length<1&&!ht?null:Object(Ri.jsx)("div",{className:ji,children:Object(Ri.jsx)(Au.a,{message:Object(Ri.jsxs)("div",{className:"".concat(ji,"-info"),children:[Object(Ri.jsx)("div",{className:"".concat(ji,"-info-content"),children:Ni}),Xn?Object(Ri.jsx)("div",{className:"".concat(ji,"-info-option"),children:Xn}):null]}),type:"info"})})}var Yc=ec,Jl=a("ipCM");function Cl(Ue,Be,St){var rt=Be<0?Ue.length+Be:Be;if(rt>=0&&rt<Ue.length){var ht=St<0?Ue.length+St:St,Kt=Ue.splice(Be,1),fn=Object(se.a)(Kt,1),tn=fn[0];Ue.splice(ht,0,tn)}}function tc(Ue,Be,St){var rt=Object(z.a)(Ue);return Cl(rt,Be,St),rt}var Zc=function(Be){return Be!=null};function Xc(Ue,Be,St){var rt,ht;if(Ue===!1)return!1;var Kt=Be.total,fn=Be.current,tn=Be.pageSize,On=Be.setPageInfo,Fn=Object(ve.a)(Ue)==="object"?Ue:{};return Object(T.a)(Object(T.a)({showTotal:function(Xn,Yn){return"".concat(St.getMessage("pagination.total.range","\u7B2C")," ").concat(Yn[0],"-").concat(Yn[1]," ").concat(St.getMessage("pagination.total.total","\u6761/\u603B\u5171")," ").concat(Xn," ").concat(St.getMessage("pagination.total.item","\u6761"))},total:Kt},Fn),{},{current:Ue!==!0&&Ue&&(rt=Ue.current)!==null&&rt!==void 0?rt:fn,pageSize:Ue!==!0&&Ue&&(ht=Ue.pageSize)!==null&&ht!==void 0?ht:tn,onChange:function(Xn,Yn){var ci=Ue.onChange;ci==null||ci(Xn,Yn||20),(Yn!==tn||fn!==Xn)&&On({pageSize:Yn,current:Xn})}})}function Ru(Ue,Be,St){var rt=Object(T.a)(Object(T.a)({},St.editableUtils),{},{pageInfo:Be.pageInfo,reload:function(){var ht=Object(w.a)(Object(we.a)().mark(function fn(tn){return Object(we.a)().wrap(function(Fn){for(;;)switch(Fn.prev=Fn.next){case 0:if(!tn){Fn.next=3;break}return Fn.next=3,Be.setPageInfo({current:1});case 3:Be==null||Be.reload();case 4:case"end":return Fn.stop()}},fn)}));function Kt(fn){return ht.apply(this,arguments)}return Kt}(),reloadAndRest:function(){var ht=Object(w.a)(Object(we.a)().mark(function fn(){return Object(we.a)().wrap(function(On){for(;;)switch(On.prev=On.next){case 0:return St.onCleanSelected(),On.next=3,Be.setPageInfo({current:1});case 3:return On.next=5,Be==null?void 0:Be.reload();case 5:case"end":return On.stop()}},fn)}));function Kt(){return ht.apply(this,arguments)}return Kt}(),reset:function(){var ht=Object(w.a)(Object(we.a)().mark(function fn(){var tn;return Object(we.a)().wrap(function(Fn){for(;;)switch(Fn.prev=Fn.next){case 0:return Fn.next=2,St.resetAll();case 2:return Fn.next=4,Be==null||(tn=Be.reset)===null||tn===void 0?void 0:tn.call(Be);case 4:return Fn.next=6,Be==null?void 0:Be.reload();case 6:case"end":return Fn.stop()}},fn)}));function Kt(){return ht.apply(this,arguments)}return Kt}(),fullScreen:function(){return St.fullScreen()},clearSelected:function(){return St.onCleanSelected()},setPageInfo:function(Kt){return Be.setPageInfo(Kt)}});Ue.current=rt}function Ke(Ue,Be){return Be.filter(function(St){return St}).length<1?Ue:Be.reduce(function(St,rt){return rt(St)},Ue)}var be=function(Be,St){return St===void 0?!1:typeof St=="boolean"?St:St[Be]},v=function(Be){var St;return Be&&Object(ve.a)(Be)==="object"&&(Be==null||(St=Be.props)===null||St===void 0?void 0:St.colSpan)},m=function(Be,St){return Be?Array.isArray(Be)?Be.join("-"):Be.toString():"".concat(St)};function u(Ue){return Array.isArray(Ue)?Ue.join(","):Ue==null?void 0:Ue.toString()}function g(Ue){var Be={},St={};return Ue.forEach(function(rt){var ht=u(rt.dataIndex);if(!!ht){if(rt.filters){var Kt=rt.defaultFilteredValue;Kt===void 0?Be[ht]=null:Be[ht]=rt.defaultFilteredValue}rt.sorter&&rt.defaultSortOrder&&(St[ht]=rt.defaultSortOrder)}}),{sort:St,filter:Be}}function S(Ue,Be){var St=Ue.oldIndex,rt=Ue.newIndex;if(St!==rt){var ht=tc(Object(z.a)(Be||[]),St,rt).filter(function(Kt){return!!Kt});return Object(z.a)(ht)}return null}var ie=a("y8nQ"),Ee=a("Vl3Y"),Le=a("erM0"),at=a("uX+g"),kt=a("+caW"),Tt=a("iOmF"),Qt=a("rmhi"),Wt=a("hkzD"),vt=a("PNUv"),wn=a("Ga8k"),xn=["steps","columns","forceUpdate","grid"],ri=function(Be){var St=Be.steps,rt=Be.columns,ht=Be.forceUpdate,Kt=Be.grid,fn=Object(L.a)(Be,xn),tn=Object(Le.a)(fn),On=Object(I.useCallback)(function(li){var Xn,Yn;(Xn=(Yn=tn.current).onCurrentChange)===null||Xn===void 0||Xn.call(Yn,li),ht([])},[ht,tn]),Fn=Object(I.useMemo)(function(){return St==null?void 0:St.map(function(li,Xn){return Object(I.createElement)(tu,Object(T.a)(Object(T.a)({grid:Kt},li),{},{key:Xn,layoutType:"StepForm",columns:rt[Xn]}))})},[rt,Kt,St]);return Object(Ri.jsx)(wn.a,Object(T.a)(Object(T.a)({},fn),{},{onCurrentChange:On,children:Fn}))},hi=ri,ki=function(Be){var St=Be.children;return Object(Ri.jsx)(Ri.Fragment,{children:St})},Di=ki,rr=a("WuYN"),Ti=function(Be,St){var rt=St.genItems;if(Be.valueType==="dependency"){var ht,Kt,fn,tn=(ht=Be.getFieldProps)===null||ht===void 0?void 0:ht.call(Be);return Object(G.b)(Array.isArray((Kt=Be.name)!==null&&Kt!==void 0?Kt:tn==null?void 0:tn.name),'SchemaForm: fieldProps.name should be NamePath[] when valueType is "dependency"'),Object(G.b)(typeof Be.columns=="function",'SchemaForm: columns should be a function when valueType is "dependency"'),Array.isArray((fn=Be.name)!==null&&fn!==void 0?fn:tn==null?void 0:tn.name)?Object(I.createElement)(rr.a,Object(T.a)(Object(T.a)({name:Be.name},tn),{},{key:Be.key}),function(On){return!Be.columns||typeof Be.columns!="function"?null:rt(Be.columns(On))}):null}return!0},Vi=a("/zsF"),Qi=a("PArb"),yr=function(Be){if(Be.valueType==="divider"){var St;return Object(I.createElement)(Qi.a,Object(T.a)(Object(T.a)({},(St=Be.getFieldProps)===null||St===void 0?void 0:St.call(Be)),{},{key:Be.key}))}return!0},Rr=a("adzw"),Qr=function(Be,St){var rt=St.action,ht=St.formRef,Kt=St.type,fn=St.originItem,tn=Object(T.a)(Object(T.a)({},Object(ol.a)(Be,["dataIndex","width","render","renderFormItem","renderText","title"])),{},{name:Be.dataIndex,width:Be.width,render:(Be==null?void 0:Be.render)?function(Xn,Yn,ci){var ji,Ni,Ei;return Be==null||(ji=Be.render)===null||ji===void 0?void 0:ji.call(Be,Xn,Yn,ci,rt==null?void 0:rt.current,Object(T.a)(Object(T.a)({type:Kt},Be),{},{formItemProps:(Ni=Be.getFormItemProps)===null||Ni===void 0?void 0:Ni.call(Be),fieldProps:(Ei=Be.getFieldProps)===null||Ei===void 0?void 0:Ei.call(Be)}))}:void 0}),On=function(){return Object(Ri.jsx)(Rr.a,Object(T.a)(Object(T.a)({},tn),{},{ignoreFormItem:!0}))},Fn=(Be==null?void 0:Be.renderFormItem)?function(Xn,Yn){var ci,ji,Ni,Ei=Object(sl.a)(Object(T.a)(Object(T.a)({},Yn),{},{onChange:void 0}));return Be==null||(ci=Be.renderFormItem)===null||ci===void 0?void 0:ci.call(Be,Object(T.a)(Object(T.a)({type:Kt},Be),{},{formItemProps:(ji=Be.getFormItemProps)===null||ji===void 0?void 0:ji.call(Be),fieldProps:(Ni=Be.getFieldProps)===null||Ni===void 0?void 0:Ni.call(Be),originProps:fn}),Object(T.a)(Object(T.a)({},Ei),{},{defaultRender:On,type:Kt}),ht.current)}:void 0;if(Be==null?void 0:Be.renderFormItem){var li=Fn==null?void 0:Fn(null,{});if(!li||Be.ignoreFormItem)return li}return Object(I.createElement)(Rr.a,Object(T.a)(Object(T.a)({},tn),{},{key:"".concat(Be.key,"-").concat(Be.index),renderFormItem:Fn}))},ha=a("x1Ii"),Oa=function(Be,St){var rt=St.genItems;if(Be.valueType==="formList"&&Be.dataIndex){var ht,Kt,fn,tn,On,Fn,li,Xn,Yn,ci,ji;return!Be.columns||!Array.isArray(Be.columns)?null:Object(Ri.jsx)(ha.b,Object(T.a)(Object(T.a)({name:Be.dataIndex,label:Be.label,initialValue:Be.initialValue,colProps:Be.colProps,rowProps:Be.rowProps},(ht=Be.getFieldProps)===null||ht===void 0?void 0:ht.call(Be)),{},{isValidateList:(Kt=((On=Be.getFormItemProps)===null||On===void 0?void 0:On.call(Be))||((Fn=Be.getFieldProps)===null||Fn===void 0?void 0:Fn.call(Be)))===null||Kt===void 0||(fn=Kt.rules)===null||fn===void 0||(tn=fn[0])===null||tn===void 0?void 0:tn.required,emptyListMessage:(li=((ci=Be.getFormItemProps)===null||ci===void 0?void 0:ci.call(Be))||((ji=Be.getFieldProps)===null||ji===void 0?void 0:ji.call(Be)))===null||li===void 0||(Xn=li.rules)===null||Xn===void 0||(Yn=Xn[0])===null||Yn===void 0?void 0:Yn.message,children:rt(Be.columns)}),Be.key)}return!0},qr=a("+i8S"),ka=a("WFLz"),Ya=a("a7SZ"),Bo=["children","value","valuePropName","onChange","fieldProps","space","type","transform","convertValue"],Oo=["children","space","valuePropName"],ts={space:wo.b,group:oa.a.Group};function Aa(Ue){var Be=arguments.length<=1?void 0:arguments[1];return Be&&Be.target&&Ue in Be.target?Be.target[Ue]:Be}var xa=function(Be){var St=Be.children,rt=Be.value,ht=rt===void 0?[]:rt,Kt=Be.valuePropName,fn=Be.onChange,tn=Be.fieldProps,On=Be.space,Fn=Be.type,li=Fn===void 0?"space":Fn,Xn=Be.transform,Yn=Be.convertValue,ci=Object(L.a)(Be,Bo),ji=Object(qr.a)(function(cr,Mr){var tr,Fi=Object(z.a)(ht);Fi[Mr]=Aa(Kt||"value",cr),fn==null||fn(Fi),tn==null||(tr=tn.onChange)===null||tr===void 0||tr.call(tn,Fi)}),Ni=-1,Ei=Object(Ct.a)(St).map(function(cr){if(de.a.isValidElement(cr)){var Mr,tr,Fi;Ni+=1;var zi=Ni,lr=(cr==null||(Mr=cr.type)===null||Mr===void 0?void 0:Mr.displayName)==="ProFormComponent"||(cr==null||(tr=cr.props)===null||tr===void 0?void 0:tr.readonly),pr=lr?Object(T.a)(Object(T.a)({key:zi,ignoreFormItem:!0},cr.props||{}),{},{fieldProps:Object(T.a)(Object(T.a)({},cr==null||(Fi=cr.props)===null||Fi===void 0?void 0:Fi.fieldProps),{},{onChange:function(){ji(arguments.length<=0?void 0:arguments[0],zi)}}),value:ht==null?void 0:ht[zi],onChange:void 0}):Object(T.a)(Object(T.a)({key:zi},cr.props||{}),{},{value:ht==null?void 0:ht[zi],onChange:function(ur){var nr,Pr;ji(ur,zi),(nr=(Pr=cr.props).onChange)===null||nr===void 0||nr.call(Pr,ur)}});return de.a.cloneElement(cr,pr)}return cr}),Zi=ts[li],Xi=Object(Ya.b)(ci),Cr=Xi.RowWrapper,br=Object(I.useMemo)(function(){return Object(T.a)({},li==="group"?{compact:!0}:{})},[li]),Ir=Object(I.useCallback)(function(cr){var Mr=cr.children;return Object(Ri.jsx)(Zi,Object(T.a)(Object(T.a)(Object(T.a)({},br),On),{},{align:"start",children:Mr}))},[Zi,On,br]);return Object(Ri.jsx)(Cr,{Wrapper:Ir,children:Ei})},fo=de.a.forwardRef(function(Ue,Be){var St=Ue.children,rt=Ue.space,ht=Ue.valuePropName,Kt=Object(L.a)(Ue,Oo);return Object(I.useImperativeHandle)(Be,function(){return{}}),Object(Ri.jsx)(xa,Object(T.a)(Object(T.a)(Object(T.a)({space:rt,valuePropName:ht},Kt.fieldProps),{},{onChange:void 0},Kt),{},{children:St}))}),vs=Object(ka.a)(fo),ll=vs,pu=function(Be,St){var rt=St.genItems;if(Be.valueType==="formSet"&&Be.dataIndex){var ht,Kt;return!Be.columns||!Array.isArray(Be.columns)?null:Object(I.createElement)(ll,Object(T.a)(Object(T.a)({},(ht=Be.getFormItemProps)===null||ht===void 0?void 0:ht.call(Be)),{},{key:Be.key,initialValue:Be.initialValue,name:Be.dataIndex,label:Be.label,colProps:Be.colProps,rowProps:Be.rowProps},(Kt=Be.getFieldProps)===null||Kt===void 0?void 0:Kt.call(Be)),rt(Be.columns))}return!0},zs=a("uD7z"),xl=function(Be,St){var rt=St.genItems;if(Be.valueType==="group"){var ht;return!Be.columns||!Array.isArray(Be.columns)?null:Object(Ri.jsx)(zs.a,Object(T.a)(Object(T.a)({label:Be.label,colProps:Be.colProps,rowProps:Be.rowProps},(ht=Be.getFieldProps)===null||ht===void 0?void 0:ht.call(Be)),{},{children:rt(Be.columns)}),Be.key)}return!0},rs=function(Be){return Be.valueType&&typeof Be.valueType=="string"&&["index","indexBorder","option"].includes(Be==null?void 0:Be.valueType)?null:!0},Fl=[rs,xl,Oa,pu,yr,Ti],ql=function(Be,St){for(var rt=0;rt<Fl.length;rt++){var ht=Fl[rt],Kt=ht(Be,St);if(Kt!==!0)return Kt}return Qr(Be,St)},Sc=["columns","layoutType","type","action","shouldUpdate"],Ol={DrawerForm:kt.a,QueryFilter:vt.a,LightFilter:Tt.a,StepForm:wn.a.StepForm,StepsForm:hi,ModalForm:Qt.a,Embed:Di};function eu(Ue){var Be=Ue.columns,St=Ue.layoutType,rt=St===void 0?"Form":St,ht=Ue.type,Kt=ht===void 0?"form":ht,fn=Ue.action,tn=Ue.shouldUpdate,On=tn===void 0?!0:tn,Fn=Object(L.a)(Ue,Sc),li=Ol[rt]||Wt.a,Xn=Ee.a.useForm(),Yn=Object(se.a)(Xn,1),ci=Yn[0],ji=Ee.a.useFormInstance(),Ni=Object(I.useState)([]),Ei=Object(se.a)(Ni,2),Zi=Ei[1],Xi=Object(I.useState)([]),Cr=Object(se.a)(Xi,2),br=Cr[0],Ir=Cr[1],cr=Object(I.useMemo)(function(){return Object(ol.a)(Fn,["formRef"])},[Fn]),Mr=Object(I.useRef)(Ue.form||ji||ci),tr=Object(I.useRef)(),Fi=Object(Le.a)(Ue);Object(I.useImperativeHandle)(Fn.formRef,function(){return Mr.current});var zi=Object(I.useCallback)(function(ur){return ur.filter(function(nr){return!(nr.hideInForm&&Kt==="form")}).sort(function(nr,Pr){return Pr.order||nr.order?(Pr.order||0)-(nr.order||0):(Pr.index||0)-(nr.index||0)}).map(function(nr,Pr){var Hr,Ur=Object(at.a)(nr.title,nr,"form",Object(Ri.jsx)(Zl.a,{label:nr.title,tooltip:nr.tooltip||nr.tip})),aa=Object(sl.a)({title:Ur,label:Ur,name:nr.name,valueType:Object(at.a)(nr.valueType,{}),key:nr.key,columns:nr.columns,valueEnum:nr.valueEnum,dataIndex:nr.key||nr.dataIndex,initialValue:nr.initialValue,width:nr.width,index:nr.index,readonly:nr.readonly,colSize:nr.colSize,colProps:nr.colProps,rowProps:nr.rowProps,className:nr.className,tooltip:nr.tooltip||nr.tip,dependencies:nr.dependencies,proFieldProps:nr.proFieldProps,ignoreFormItem:nr.ignoreFormItem,getFieldProps:nr.fieldProps?function(){return Object(at.a)(nr.fieldProps,Mr.current,nr)}:void 0,getFormItemProps:nr.formItemProps?function(){return Object(at.a)(nr.formItemProps,Mr.current,nr)}:void 0,render:nr.render,renderFormItem:nr.renderFormItem,renderText:nr.renderText,request:nr.request,params:nr.params,transform:nr.transform,convertValue:nr.convertValue});return aa.key=aa.key||((Hr=aa.dataIndex)===null||Hr===void 0?void 0:Hr.toString())||Pr,ql(aa,{action:fn,type:Kt,originItem:nr,formRef:Mr,genItems:zi})}).filter(function(nr){return Boolean(nr)})},[fn,Mr,Kt]),lr=Object(I.useCallback)(function(ur,nr){var Pr=Fi.current.onValuesChange;(On===!0||typeof On=="function"&&On(nr,tr.current))&&Ir([]),tr.current=nr,Pr==null||Pr(ur,nr)},[Fi,On]),pr=Object(I.useMemo)(function(){if(!!Mr.current&&!(Be.length&&Array.isArray(Be[0])))return zi(Be)},[Be,zi,br]),Or=Object(I.useMemo)(function(){return rt==="StepsForm"?{forceUpdate:Zi,columns:Be}:{}},[Be,rt]);return Object(Ri.jsx)(li,Object(T.a)(Object(T.a)(Object(T.a)({},Or),cr),{},{form:Ue.form||ci,formRef:Mr,onValuesChange:lr,children:pr}))}var tu=eu,Bl=a("W38Z");function ns(Ue){var Be=Ue.replace(/[A-Z]/g,function(St){return"-".concat(St.toLowerCase())});return Be.startsWith("-")&&(Be=Be.slice(1)),Be}var tl=function(Be,St){return!Be&&St!==!1?(St==null?void 0:St.filterType)==="light"?"LightFilter":"QueryFilter":"Form"},as=function(Be,St,rt){return!Be&&rt==="LightFilter"?Object(ol.a)(Object(T.a)({},St),["labelWidth","defaultCollapsed","filterType"]):Be?{}:Object(ol.a)(Object(T.a)({labelWidth:St?St==null?void 0:St.labelWidth:void 0,defaultCollapsed:!0},St),["filterType"])},Nu=function(Be,St){return Be?Object(ol.a)(St,["ignoreRules"]):Object(T.a)({ignoreRules:!0},St)},xu=function(Be){var St,rt=Be.onSubmit,ht=Be.formRef,Kt=Be.dateFormatter,fn=Kt===void 0?"string":Kt,tn=Be.type,On=Be.columns,Fn=Be.action,li=Be.ghost,Xn=Be.manualRequest,Yn=Be.onReset,ci=Be.submitButtonLoading,ji=Be.search,Ni=Be.form,Ei=Be.bordered,Zi=tn==="form",Xi=function(){var zi=Object(w.a)(Object(we.a)().mark(function lr(pr,Or){return Object(we.a)().wrap(function(nr){for(;;)switch(nr.prev=nr.next){case 0:rt&&rt(pr,Or);case 1:case"end":return nr.stop()}},lr)}));return function(pr,Or){return zi.apply(this,arguments)}}(),Cr=Object(I.useContext)($.a.ConfigContext),br=Cr.getPrefixCls,Ir=Object(I.useMemo)(function(){return On.filter(function(zi){return!(zi===Yl.EXPAND_COLUMN||zi===Yl.SELECTION_COLUMN||(zi.hideInSearch||zi.search===!1)&&tn!=="form"||tn==="form"&&zi.hideInForm)}).map(function(zi){var lr,pr=!zi.valueType||["textarea","jsonCode","code"].includes(zi==null?void 0:zi.valueType)&&tn==="table"?"text":zi==null?void 0:zi.valueType,Or=(zi==null?void 0:zi.key)||(zi==null||(lr=zi.dataIndex)===null||lr===void 0?void 0:lr.toString());return Object(T.a)(Object(T.a)(Object(T.a)({},zi),{},{width:void 0},zi.search?zi.search:{}),{},{valueType:pr,proFieldProps:Object(T.a)(Object(T.a)({},zi.proFieldProps),{},{proFieldKey:Or?"table-field-".concat(Or):void 0})})})},[On,tn]),cr=br("pro-table-search"),Mr=br("pro-table-form"),tr=Object(I.useMemo)(function(){return tl(Zi,ji)},[ji,Zi]),Fi=Object(I.useMemo)(function(){return{submitter:{submitButtonProps:{loading:ci}}}},[ci]);return Object(Ri.jsx)("div",{className:O()((St={},Object(D.a)(St,br("pro-card"),!0),Object(D.a)(St,"".concat(br("pro-card"),"-border"),!!Ei),Object(D.a)(St,"".concat(br("pro-card"),"-bordered"),!!Ei),Object(D.a)(St,"".concat(br("pro-card"),"-ghost"),!!li),Object(D.a)(St,cr,!0),Object(D.a)(St,Mr,Zi),Object(D.a)(St,br("pro-table-search-".concat(ns(tr))),!0),Object(D.a)(St,"".concat(cr,"-ghost"),li),Object(D.a)(St,ji==null?void 0:ji.className,ji!==!1&&(ji==null?void 0:ji.className)),St)),children:Object(Ri.jsx)(tu,Object(T.a)(Object(T.a)(Object(T.a)(Object(T.a)({layoutType:tr,columns:Ir,type:tn},Fi),as(Zi,ji,tr)),Nu(Zi,Ni||{})),{},{formRef:ht,action:Fn,dateFormatter:fn,onInit:function(lr){if(tn!=="form"){var pr,Or,ur,nr=(pr=Fn.current)===null||pr===void 0?void 0:pr.pageInfo,Pr=lr.current,Hr=Pr===void 0?nr==null?void 0:nr.current:Pr,Ur=lr.pageSize,aa=Ur===void 0?nr==null?void 0:nr.pageSize:Ur;if((Or=Fn.current)===null||Or===void 0||(ur=Or.setPageInfo)===null||ur===void 0||ur.call(Or,Object(T.a)(Object(T.a)({},nr),{},{current:parseInt(Hr,10),pageSize:parseInt(aa,10)})),Xn)return;Xi(lr,!0)}},onReset:function(lr){Yn==null||Yn(lr)},onFinish:function(lr){Xi(lr,!1)},initialValues:Ni==null?void 0:Ni.initialValues}))})},ah=xu,oh=function(Ue){Object(Li.a)(St,Ue);var Be=Object(_r.a)(St);function St(){var rt;Object(Wn.a)(this,St);for(var ht=arguments.length,Kt=new Array(ht),fn=0;fn<ht;fn++)Kt[fn]=arguments[fn];return rt=Be.call.apply(Be,[this].concat(Kt)),rt.onSubmit=function(tn,On){var Fn=rt.props,li=Fn.pagination,Xn=Fn.beforeSearchSubmit,Yn=Xn===void 0?function(Ir){return Ir}:Xn,ci=Fn.action,ji=Fn.onSubmit,Ni=Fn.onFormSearchSubmit,Ei=li?Object(sl.a)({current:li.current,pageSize:li.pageSize}):{},Zi=Object(T.a)(Object(T.a)({},tn),{},{_timestamp:Date.now()},Ei),Xi=Object(ol.a)(Yn(Zi),Object.keys(Ei));if(Ni(Xi),!On){var Cr,br;(Cr=ci.current)===null||Cr===void 0||(br=Cr.setPageInfo)===null||br===void 0||br.call(Cr,{current:1})}ji&&!On&&(ji==null||ji(tn))},rt.onReset=function(tn){var On,Fn,li=rt.props,Xn=li.pagination,Yn=li.beforeSearchSubmit,ci=Yn===void 0?function(Cr){return Cr}:Yn,ji=li.action,Ni=li.onFormSearchSubmit,Ei=li.onReset,Zi=Xn?Object(sl.a)({current:Xn.current,pageSize:Xn.pageSize}):{},Xi=Object(ol.a)(ci(Object(T.a)(Object(T.a)({},tn),Zi)),Object.keys(Zi));Ni(Xi),(On=ji.current)===null||On===void 0||(Fn=On.setPageInfo)===null||Fn===void 0||Fn.call(On,{current:1}),Ei==null||Ei()},rt.isEqual=function(tn){var On=rt.props,Fn=On.columns,li=On.loading,Xn=On.formRef,Yn=On.type,ci=On.cardBordered,ji=On.dateFormatter,Ni=On.form,Ei=On.search,Zi=On.manualRequest,Xi={columns:Fn,loading:li,formRef:Xn,type:Yn,cardBordered:ci,dateFormatter:ji,form:Ni,search:Ei,manualRequest:Zi};return!Object(Jl.a)(Xi,{columns:tn.columns,formRef:tn.formRef,loading:tn.loading,type:tn.type,cardBordered:tn.cardBordered,dateFormatter:tn.dateFormatter,form:tn.form,search:tn.search,manualRequest:tn.manualRequest})},rt.shouldComponentUpdate=function(tn){return rt.isEqual(tn)},rt.render=function(){var tn=rt.props,On=tn.columns,Fn=tn.loading,li=tn.formRef,Xn=tn.type,Yn=tn.action,ci=tn.cardBordered,ji=tn.dateFormatter,Ni=tn.form,Ei=tn.search,Zi=tn.pagination,Xi=tn.ghost,Cr=tn.manualRequest,br=Zi?Object(sl.a)({current:Zi.current,pageSize:Zi.pageSize}):{};return Object(Ri.jsx)(ah,{submitButtonLoading:Fn,columns:On,type:Xn,ghost:Xi,formRef:li,onSubmit:rt.onSubmit,manualRequest:Cr,onReset:rt.onReset,dateFormatter:ji,search:Ei,form:Object(T.a)(Object(T.a)({autoFocusFirstInput:!1},Ni),{},{extraUrlParams:Object(T.a)(Object(T.a)({},br),Ni==null?void 0:Ni.extraUrlParams)}),action:Yn,bordered:be("search",ci)})},rt}return Object(Zn.a)(St)}(de.a.Component),ef=oh,Jf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},tf=Jf,sh=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:tf}))};sh.displayName="ReloadOutlined";var Jc=I.forwardRef(sh),qf=a("eFNv"),ev=a("zP5H");function bu(){var Ue,Be,St,rt,ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Kt=Object(I.useRef)(),fn=Object(I.useRef)(null),tn=Object(I.useRef)(),On=Object(I.useRef)(),Fn=Object(I.useState)(""),li=Object(se.a)(Fn,2),Xn=li[0],Yn=li[1],ci=Object(I.useRef)([]),ji=Object(ds.a)(function(){return ht.size||ht.defaultSize||"middle"},{value:ht.size,onChange:ht.onSizeChange}),Ni=Object(se.a)(ji,2),Ei=Ni[0],Zi=Ni[1],Xi=Object(I.useMemo)(function(){var Fi,zi={};return(Fi=ht.columns)===null||Fi===void 0||Fi.forEach(function(lr,pr){var Or=lr.key,ur=lr.dataIndex,nr=lr.fixed,Pr=lr.disable,Hr=m(Or!=null?Or:ur,pr);Hr&&(zi[Hr]={show:!0,fixed:nr,disable:Pr})}),zi},[ht.columns]),Cr=Object(ds.a)(function(){var Fi,zi,lr=ht.columnsState||{},pr=lr.persistenceType,Or=lr.persistenceKey;if(Or&&pr&&typeof window!="undefined"){var ur=window[pr];try{var nr=ur==null?void 0:ur.getItem(Or);if(nr)return JSON.parse(nr)}catch(Pr){console.warn(Pr)}}return ht.columnsStateMap||((Fi=ht.columnsState)===null||Fi===void 0?void 0:Fi.value)||((zi=ht.columnsState)===null||zi===void 0?void 0:zi.defaultValue)||Xi},{value:((Ue=ht.columnsState)===null||Ue===void 0?void 0:Ue.value)||ht.columnsStateMap,onChange:((Be=ht.columnsState)===null||Be===void 0?void 0:Be.onChange)||ht.onColumnsStateChange}),br=Object(se.a)(Cr,2),Ir=br[0],cr=br[1];Object(I.useLayoutEffect)(function(){var Fi=ht.columnsState||{},zi=Fi.persistenceType,lr=Fi.persistenceKey;if(lr&&zi&&typeof window!="undefined"){var pr=window[zi];try{var Or=pr==null?void 0:pr.getItem(lr);cr(Or?JSON.parse(Or):Xi)}catch(ur){console.warn(ur)}}},[ht.columnsState,Xi,cr]),Object(G.b)(!ht.columnsStateMap,"columnsStateMap\u5DF2\u7ECF\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 columnsState.value \u66FF\u6362"),Object(G.b)(!ht.columnsStateMap,"columnsStateMap has been discarded, please use columnSstate.value replacement");var Mr=Object(I.useCallback)(function(){var Fi=ht.columnsState||{},zi=Fi.persistenceType,lr=Fi.persistenceKey;if(!(!lr||!zi||typeof window=="undefined")){var pr=window[zi];try{pr==null||pr.removeItem(lr)}catch(Or){console.error(Or)}}},[ht.columnsState]);Object(I.useEffect)(function(){var Fi,zi;if(!(!((Fi=ht.columnsState)===null||Fi===void 0?void 0:Fi.persistenceKey)||!((zi=ht.columnsState)===null||zi===void 0?void 0:zi.persistenceType))&&typeof window!="undefined"){var lr=ht.columnsState,pr=lr.persistenceType,Or=lr.persistenceKey,ur=window[pr];try{ur==null||ur.setItem(Or,JSON.stringify(Ir))}catch(nr){console.error(nr)}}},[(St=ht.columnsState)===null||St===void 0?void 0:St.persistenceKey,Ir,(rt=ht.columnsState)===null||rt===void 0?void 0:rt.persistenceType]);var tr={action:Kt.current,setAction:function(zi){Kt.current=zi},sortKeyColumns:ci.current,setSortKeyColumns:function(zi){ci.current=zi},propsRef:On,columnsMap:Ir,keyWords:Xn,setKeyWords:function(zi){return Yn(zi)},setTableSize:Zi,tableSize:Ei,prefixName:tn.current,setPrefixName:function(zi){tn.current=zi},setColumnsMap:cr,columns:ht.columns,rootDomRef:fn,clearPersistenceStorage:Mr};return Object.defineProperty(tr,"prefixName",{get:function(){return tn.current}}),Object.defineProperty(tr,"sortKeyColumns",{get:function(){return ci.current}}),Object.defineProperty(tr,"action",{get:function(){return Kt.current}}),tr}var nf=Object(ev.a)(bu),yu=nf,Cm=a("Q9mQ"),tv=a("diRs"),lh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},nc=lh,so=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:nc}))};so.displayName="VerticalAlignTopOutlined";var Sl=I.forwardRef(so),nu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 474H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zm-353.6-74.7c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H550V104c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v156h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.6zm11.4 225.4a7.14 7.14 0 00-11.3 0L405.6 752.3a7.23 7.23 0 005.7 11.7H474v156c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V764h62.8c6 0 9.4-7 5.7-11.7L517.7 624.7z"}}]},name:"vertical-align-middle",theme:"outlined"},nv=nu,_u=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:nv}))};_u.displayName="VerticalAlignMiddleOutlined";var uh=I.forwardRef(_u),qc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},ta=qc,kc=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:ta}))};kc.displayName="VerticalAlignBottomOutlined";var no=I.forwardRef(kc),Om=a("K5yz"),jd=["key","dataIndex","children"],ch=function(Be){var St=Be.title,rt=Be.show,ht=Be.children,Kt=Be.columnKey,fn=Be.fixed,tn=yu.useContainer(),On=tn.columnsMap,Fn=tn.setColumnsMap;return rt?Object(Ri.jsx)(Ql.a,{title:St,children:Object(Ri.jsx)("span",{onClick:function(Xn){Xn.stopPropagation(),Xn.preventDefault();var Yn=On[Kt]||{},ci=typeof Yn.disable=="boolean"&&Yn.disable;if(!ci){var ji=Object(T.a)(Object(T.a)({},On),{},Object(D.a)({},Kt,Object(T.a)(Object(T.a)({},Yn),{},{fixed:fn})));Fn(ji)}},children:ht})}):null},Ed=function(Be){var St=Be.columnKey,rt=Be.isLeaf,ht=Be.title,Kt=Be.className,fn=Be.fixed,tn=Object(ce.d)(),On=Object(Ri.jsxs)("span",{className:"".concat(Kt,"-list-item-option"),children:[Object(Ri.jsx)(ch,{columnKey:St,fixed:"left",title:tn.getMessage("tableToolBar.leftPin","\u56FA\u5B9A\u5728\u5217\u9996"),show:fn!=="left",children:Object(Ri.jsx)(Sl,{})}),Object(Ri.jsx)(ch,{columnKey:St,fixed:void 0,title:tn.getMessage("tableToolBar.noPin","\u4E0D\u56FA\u5B9A"),show:!!fn,children:Object(Ri.jsx)(uh,{})}),Object(Ri.jsx)(ch,{columnKey:St,fixed:"right",title:tn.getMessage("tableToolBar.rightPin","\u56FA\u5B9A\u5728\u5217\u5C3E"),show:fn!=="right",children:Object(Ri.jsx)(no,{})})]});return Object(Ri.jsxs)("span",{className:"".concat(Kt,"-list-item"),children:[Object(Ri.jsx)("div",{className:"".concat(Kt,"-list-item-title"),children:ht}),rt?null:On]},St)},Dc=function(Be){var St,rt,ht=Be.list,Kt=Be.draggable,fn=Be.checkable,tn=Be.className,On=Be.showTitle,Fn=On===void 0?!0:On,li=Be.title,Xn=Be.listHeight,Yn=Xn===void 0?280:Xn,ci=yu.useContainer(),ji=ci.columnsMap,Ni=ci.setColumnsMap,Ei=ci.sortKeyColumns,Zi=ci.setSortKeyColumns,Xi=ht&&ht.length>0,Cr=Object(I.useMemo)(function(){if(!Xi)return{};var Mr=[],tr=function Fi(zi,lr){return zi.map(function(pr){var Or,ur=pr.key,nr=pr.dataIndex,Pr=pr.children,Hr=Object(L.a)(pr,jd),Ur=m(ur,Hr.index),aa=ji[Ur||"null"]||{show:!0};aa.show!==!1&&(lr==null?void 0:lr.show)!==!1&&!Pr&&Mr.push(Ur);var Da=Object(T.a)(Object(T.a)({key:Ur},Object(ol.a)(Hr,["className"])),{},{selectable:!1,disabled:aa.disable===!0,disableCheckbox:typeof aa.disable=="boolean"?aa.disable:(Or=aa.disable)===null||Or===void 0?void 0:Or.checkbox,isLeaf:lr?!0:void 0});return Pr&&(Da.children=Fi(Pr,aa)),Da})};return{list:tr(ht),keys:Mr}},[ji,ht,Xi]),br=Object(qr.a)(function(Mr,tr,Fi){var zi=Object(T.a)({},ji),lr=Object(z.a)(Ei),pr=lr.findIndex(function(Pr){return Pr===Mr}),Or=lr.findIndex(function(Pr){return Pr===tr}),ur=Fi>Or;if(!(pr<0)){var nr=lr[pr];lr.splice(pr,1),Fi===0?lr.unshift(nr):lr.splice(ur?Or:Or+1,0,nr),lr.forEach(function(Pr,Hr){zi[Pr]=Object(T.a)(Object(T.a)({},zi[Pr]||{}),{},{order:Hr})}),Ni(zi),Zi(lr)}}),Ir=Object(qr.a)(function(Mr){var tr=Mr.node.key,Fi=Object(T.a)({},ji[tr]);Fi.show=Mr.checked,Ni(Object(T.a)(Object(T.a)({},ji),{},Object(D.a)({},tr,Fi)))});if(!Xi)return null;var cr=Object(Ri.jsx)(Es,{itemHeight:24,draggable:Kt&&!!((St=Cr.list)===null||St===void 0?void 0:St.length)&&((rt=Cr.list)===null||rt===void 0?void 0:rt.length)>1,checkable:fn,onDrop:function(tr){var Fi=tr.node.key,zi=tr.dragNode.key,lr=tr.dropPosition,pr=tr.dropToGap,Or=lr===-1||!pr?lr+1:lr;br(zi,Fi,Or)},blockNode:!0,onCheck:function(tr,Fi){return Ir(Fi)},checkedKeys:Cr.keys,showLine:!1,titleRender:function(tr){var Fi=Object(T.a)(Object(T.a)({},tr),{},{children:void 0});return Object(Ri.jsx)(Ed,Object(T.a)(Object(T.a)({className:tn},Fi),{},{title:Object(at.a)(Fi.title,Fi),columnKey:Fi.key}))},height:Yn,treeData:Cr.list});return Object(Ri.jsxs)(Ri.Fragment,{children:[Fn&&Object(Ri.jsx)("span",{className:"".concat(tn,"-list-title"),children:li}),cr]})},gs=function(Be){var St=Be.localColumns,rt=Be.className,ht=Be.draggable,Kt=Be.checkable,fn=Be.listsHeight,tn=[],On=[],Fn=[],li=Object(ce.d)();St.forEach(function(ci){if(!ci.hideInSetting){var ji=ci.fixed;if(ji==="left"){On.push(ci);return}if(ji==="right"){tn.push(ci);return}Fn.push(ci)}});var Xn=tn&&tn.length>0,Yn=On&&On.length>0;return Object(Ri.jsxs)("div",{className:O()("".concat(rt,"-list"),Object(D.a)({},"".concat(rt,"-list-group"),Xn||Yn)),children:[Object(Ri.jsx)(Dc,{title:li.getMessage("tableToolBar.leftFixedTitle","\u56FA\u5B9A\u5728\u5DE6\u4FA7"),list:On,draggable:ht,checkable:Kt,className:rt,listHeight:fn}),Object(Ri.jsx)(Dc,{list:Fn,draggable:ht,checkable:Kt,title:li.getMessage("tableToolBar.noFixedTitle","\u4E0D\u56FA\u5B9A"),showTitle:Yn||Xn,className:rt,listHeight:fn}),Object(Ri.jsx)(Dc,{title:li.getMessage("tableToolBar.rightFixedTitle","\u56FA\u5B9A\u5728\u53F3\u4FA7"),list:tn,draggable:ht,checkable:Kt,className:rt,listHeight:fn})]})};function wc(Ue){var Be,St,rt=Object(I.useRef)({}),ht=yu.useContainer(),Kt=Ue.columns,fn=Ue.checkedReset,tn=fn===void 0?!0:fn,On=ht.columnsMap,Fn=ht.setColumnsMap,li=ht.clearPersistenceStorage;Object(I.useEffect)(function(){var br,Ir;if((br=ht.propsRef.current)===null||br===void 0||(Ir=br.columnsState)===null||Ir===void 0?void 0:Ir.value){var cr,Mr;rt.current=JSON.parse(JSON.stringify(((cr=ht.propsRef.current)===null||cr===void 0||(Mr=cr.columnsState)===null||Mr===void 0?void 0:Mr.value)||{}))}},[]);var Xn=Object(qr.a)(function(){var br=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Ir={},cr=function Mr(tr){tr.forEach(function(Fi){var zi=Fi.key,lr=Fi.fixed,pr=Fi.index,Or=Fi.children,ur=m(zi,pr);ur&&(Ir[ur]={show:br,fixed:lr}),Or&&Mr(Or)})};cr(Kt),Fn(Ir)}),Yn=Object(qr.a)(function(br){br.target.checked?Xn():Xn(!1)}),ci=Object(qr.a)(function(){li==null||li(),Fn(rt.current)}),ji=Object.values(On).filter(function(br){return!br||br.show===!1}),Ni=ji.length>0&&ji.length!==Kt.length,Ei=Object(ce.d)(),Zi=Object(I.useContext)($.a.ConfigContext),Xi=Zi.getPrefixCls,Cr=Xi("pro-table-column-setting");return Object(Ri.jsx)(tv.a,{arrowPointAtCenter:!0,title:Object(Ri.jsxs)("div",{className:"".concat(Cr,"-title"),children:[Object(Ri.jsx)(zr.a,{indeterminate:Ni,checked:ji.length===0&&ji.length!==Kt.length,onChange:function(Ir){return Yn(Ir)},children:Ei.getMessage("tableToolBar.columnDisplay","\u5217\u5C55\u793A")}),tn?Object(Ri.jsx)("a",{onClick:ci,className:"".concat(Cr,"-action-rest-button"),children:Ei.getMessage("tableToolBar.reset","\u91CD\u7F6E")}):null,(Ue==null?void 0:Ue.extra)?Object(Ri.jsx)(wo.b,{size:12,align:"center",children:Ue.extra}):null]}),overlayClassName:"".concat(Cr,"-overlay"),trigger:"click",placement:"bottomRight",content:Object(Ri.jsx)(gs,{checkable:(Be=Ue.checkable)!==null&&Be!==void 0?Be:!0,draggable:(St=Ue.draggable)!==null&&St!==void 0?St:!0,className:Cr,localColumns:Kt,listsHeight:Ue.listsHeight}),children:Ue.children||Object(Ri.jsx)(Ql.a,{title:Ei.getMessage("tableToolBar.columnSetting","\u5217\u8BBE\u7F6E"),children:Object(Ri.jsx)(qf.a,{})})})}var ed=wc,td=a("SE9/"),rf=a("lUTK"),ug=a("Y79o"),Ld=["label","key"],iv=function(Be){var St=Be.items,rt=St===void 0?[]:St,ht=Be.type,Kt=ht===void 0?"inline":ht,fn=Be.prefixCls,tn=Be.activeKey,On=Object(ds.a)(tn,{value:tn,onChange:Be.onChange}),Fn=Object(se.a)(On,2),li=Fn[0],Xn=Fn[1];if(rt.length<1)return null;var Yn=rt.find(function(ci){return ci.key===li})||rt[0];return Kt==="inline"?Object(Ri.jsx)("div",{className:O()("".concat(fn,"-menu"),"".concat(fn,"-inline-menu")),children:rt.map(function(ci,ji){return Object(Ri.jsx)("div",{onClick:function(){Xn(ci.key)},className:O()("".concat(fn,"-inline-menu-item"),Yn.key===ci.key?"".concat(fn,"-inline-menu-item-active"):void 0),children:ci.label},ci.key||ji)})}):Kt==="tab"?Object(Ri.jsx)(Qs.a,{activeKey:Yn.key,onTabClick:function(ji){return Xn(ji)},children:rt.map(function(ci,ji){var Ni=ci.label,Ei=ci.key,Zi=Object(L.a)(ci,Ld);return Object(Ri.jsx)(Qs.a.TabPane,Object(T.a)({tab:Ni},Zi),Ei||ji)})}):Object(Ri.jsx)("div",{className:O()("".concat(fn,"-menu"),"".concat(fn,"-dropdownmenu")),children:Object(Ri.jsx)(Tr.a,{trigger:["click"],overlay:Object(Ri.jsx)(Sa.a,{selectedKeys:[Yn.key],onClick:function(ji){Xn(ji.key)},items:rt.map(function(ci,ji){return{key:ci.key||ji,disabled:ci.disabled,label:ci.label}})}),children:Object(Ri.jsxs)(wo.b,{className:"".concat(fn,"-dropdownmenu-label"),children:[Yn.label,Object(Ri.jsx)(Zu.a,{})]})})})},dh=iv;function nd(Ue){if(de.a.isValidElement(Ue))return Ue;if(Ue){var Be=Ue,St=Be.icon,rt=Be.tooltip,ht=Be.onClick,Kt=Be.key;return St&&rt?Object(Ri.jsx)(Ql.a,{title:rt,children:Object(Ri.jsx)("span",{onClick:function(){ht&&ht(Kt)},children:St},Kt)}):St}return null}var rv=function(Be){var St=Be.prefixCls,rt=Be.tabs,ht=rt===void 0?{}:rt,Kt=Be.multipleLine,fn=Be.filtersNode;return Kt?Object(Ri.jsx)("div",{className:"".concat(St,"-extra-line"),children:ht.items&&ht.items.length?Object(Ri.jsx)(Qs.a,{activeKey:ht.activeKey,onChange:ht.onChange,tabBarExtraContent:fn,children:ht.items.map(function(tn,On){return Object(Ri.jsx)(Qs.a.TabPane,Object(T.a)({},tn),tn.key||On)})}):fn}):null},hh=function(Be){var St=Be.prefixCls,rt=Be.title,ht=Be.subTitle,Kt=Be.tooltip,fn=Be.className,tn=Be.style,On=Be.search,Fn=Be.onSearch,li=Be.multipleLine,Xn=li===void 0?!1:li,Yn=Be.filter,ci=Be.actions,ji=ci===void 0?[]:ci,Ni=Be.settings,Ei=Ni===void 0?[]:Ni,Zi=Be.tabs,Xi=Zi===void 0?{}:Zi,Cr=Be.menu,br=Object(ce.d)(),Ir=Object(td.a)(),cr=Ir==="sm"||Ir==="xs",Mr=br.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),tr=Object(I.useMemo)(function(){return On?de.a.isValidElement(On)?On:Object(Ri.jsx)(oa.a.Search,Object(T.a)(Object(T.a)({style:{width:200},placeholder:Mr},On),{},{onSearch:function(){for(var Sr,da=arguments.length,Ea=new Array(da),he=0;he<da;he++)Ea[he]=arguments[he];Fn==null||Fn(Ea==null?void 0:Ea[0]),(Sr=On.onSearch)===null||Sr===void 0||Sr.call.apply(Sr,[On].concat(Ea))}})):null},[Mr,Fn,On]),Fi=Object(I.useContext)($.a.ConfigContext),zi=Fi.getPrefixCls,lr=zi("pro-table-list-toolbar",St),pr=Object(I.useMemo)(function(){return Yn?Object(Ri.jsx)("div",{className:"".concat(lr,"-filter"),children:Yn}):null},[Yn,lr]),Or=Object(I.useMemo)(function(){return Cr||rt||ht||Kt},[Cr,ht,rt,Kt]),ur=Object(I.useMemo)(function(){return Array.isArray(ji)?ji.length<1?null:Object(Ri.jsx)(wo.b,{align:"center",children:ji.map(function(Da,Sr){return de.a.isValidElement(Da)?de.a.cloneElement(Da,Object(T.a)({key:Sr},Da==null?void 0:Da.props)):Object(Ri.jsx)(de.a.Fragment,{children:Da},Sr)})}):ji},[ji]),nr=Object(I.useMemo)(function(){return Or&&tr||!Xn&&pr||ur||(Ei==null?void 0:Ei.length)},[ur,pr,Or,Xn,tr,Ei==null?void 0:Ei.length]),Pr=Object(I.useMemo)(function(){return Kt||rt||ht||Cr||!Or&&tr},[Or,Cr,tr,ht,rt,Kt]),Hr=Object(I.useMemo)(function(){return!Pr&&nr?Object(Ri.jsx)("div",{className:"".concat(lr,"-left")}):!Cr&&(Or||!tr)?Object(Ri.jsx)("div",{className:"".concat(lr,"-left"),children:Object(Ri.jsx)("div",{className:"".concat(lr,"-title"),children:Object(Ri.jsx)(Zl.a,{tooltip:Kt,label:rt,subTitle:ht})})}):Object(Ri.jsxs)(wo.b,{className:"".concat(lr,"-left"),children:[Or&&!Cr&&Object(Ri.jsx)("div",{className:"".concat(lr,"-title"),children:Object(Ri.jsx)(Zl.a,{tooltip:Kt,label:rt,subTitle:ht})}),Cr&&Object(Ri.jsx)(dh,Object(T.a)(Object(T.a)({},Cr),{},{prefixCls:lr})),!Or&&tr?Object(Ri.jsx)("div",{className:"".concat(lr,"-search"),children:tr}):null]})},[Pr,nr,Or,Cr,lr,tr,ht,rt,Kt]),Ur=Object(I.useMemo)(function(){return nr?Object(Ri.jsxs)(wo.b,{className:"".concat(lr,"-right"),direction:cr?"vertical":"horizontal",size:16,align:cr?"end":"center",children:[Or&&tr?Object(Ri.jsx)("div",{className:"".concat(lr,"-search"),children:tr}):null,Xn?null:pr,ur,(Ei==null?void 0:Ei.length)?Object(Ri.jsx)(wo.b,{size:12,align:"center",className:"".concat(lr,"-setting-items"),children:Ei.map(function(Da,Sr){var da=nd(Da);return Object(Ri.jsx)("div",{className:"".concat(lr,"-setting-item"),children:da},Sr)})}):null]}):null},[ur,cr,pr,nr,Or,Xn,lr,tr,Ei]),aa=Object(I.useMemo)(function(){if(!nr&&!Pr)return null;var Da=O()("".concat(lr,"-container"),Object(D.a)({},"".concat(lr,"-container-mobile"),cr));return Object(Ri.jsxs)("div",{className:Da,children:[Hr,Ur]})},[Pr,nr,cr,Hr,lr,Ur]);return Object(Ri.jsxs)("div",{style:tn,className:O()("".concat(lr),fn),children:[aa,Object(Ri.jsx)(rv,{filtersNode:pr,prefixCls:lr,tabs:Xi,multipleLine:Xn})]})},av=hh,ov={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 00-11.3 0L403.6 366.3a7.23 7.23 0 005.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z"}}]},name:"column-height",theme:"outlined"},sv=ov,iu=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:sv}))};iu.displayName="ColumnHeightOutlined";var af=I.forwardRef(iu),fh=function(){var Be=yu.useContainer(),St=Object(ce.d)();return Object(Ri.jsx)(Tr.a,{overlay:Object(Ri.jsx)(Sa.a,{selectedKeys:[Be.tableSize],onClick:function(ht){var Kt,fn=ht.key;(Kt=Be.setTableSize)===null||Kt===void 0||Kt.call(Be,fn)},style:{width:80},items:[{key:"large",label:St.getMessage("tableToolBar.densityLarger","\u9ED8\u8BA4")},{key:"middle",label:St.getMessage("tableToolBar.densityMiddle","\u4E2D\u7B49")},{key:"small",label:St.getMessage("tableToolBar.densitySmall","\u7D27\u51D1")}]}),trigger:["click"],children:Object(Ri.jsx)(Ql.a,{title:St.getMessage("tableToolBar.density","\u8868\u683C\u5BC6\u5EA6"),children:Object(Ri.jsx)(af,{})})})},lv=de.a.memo(fh),uv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"},vh=uv,of=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:vh}))};of.displayName="FullscreenExitOutlined";var jc=I.forwardRef(of),sf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"},ic=sf,Cu=function(Be,St){return I.createElement(Cn.a,Object(T.a)(Object(T.a)({},Be),{},{ref:St,icon:ic}))};Cu.displayName="FullscreenOutlined";var rc=I.forwardRef(Cu),lf=a("7z/i"),id=function(){var Be=Object(ce.d)(),St=Object(I.useState)(!1),rt=Object(se.a)(St,2),ht=rt[0],Kt=rt[1];return Object(I.useEffect)(function(){!Object(lf.a)()||(document.onfullscreenchange=function(){Kt(!!document.fullscreenElement)})},[]),ht?Object(Ri.jsx)(Ql.a,{title:Be.getMessage("tableToolBar.exitFullScreen","\u5168\u5C4F"),children:Object(Ri.jsx)(jc,{})}):Object(Ri.jsx)(Ql.a,{title:Be.getMessage("tableToolBar.fullScreen","\u5168\u5C4F"),children:Object(Ri.jsx)(rc,{})})},Md=de.a.memo(id),gh=a("XQL4"),mh=["headerTitle","tooltip","toolBarRender","action","options","selectedRowKeys","selectedRows","toolbar","onSearch","columns"];function ph(Ue){var Be=Ue.intl;return{reload:{text:Be.getMessage("tableToolBar.reload","\u5237\u65B0"),icon:Object(Ri.jsx)(Jc,{})},density:{text:Be.getMessage("tableToolBar.density","\u8868\u683C\u5BC6\u5EA6"),icon:Object(Ri.jsx)(lv,{})},setting:{text:Be.getMessage("tableToolBar.columnSetting","\u5217\u8BBE\u7F6E"),icon:Object(Ri.jsx)(qf.a,{})},fullScreen:{text:Be.getMessage("tableToolBar.fullScreen","\u5168\u5C4F"),icon:Object(Ri.jsx)(Md,{})}}}function bh(Ue,Be,St,rt){return Object.keys(Ue).filter(function(ht){return ht}).map(function(ht){var Kt=Ue[ht];if(!Kt)return null;var fn=Kt===!0?Be[ht]:function(On){return Kt==null?void 0:Kt(On,St.current)};if(typeof fn!="function"&&(fn=function(){}),ht==="setting")return Object(I.createElement)(ed,Object(T.a)(Object(T.a)({},Ue[ht]),{},{columns:rt,key:ht}));if(ht==="fullScreen")return Object(Ri.jsx)("span",{onClick:fn,children:Object(Ri.jsx)(Md,{})},ht);var tn=ph(Be)[ht];return tn?Object(Ri.jsx)("span",{onClick:fn,children:Object(Ri.jsx)(Ql.a,{title:tn.text,children:tn.icon})},ht):null}).filter(function(ht){return ht})}function rd(Ue){var Be=Ue.headerTitle,St=Ue.tooltip,rt=Ue.toolBarRender,ht=Ue.action,Kt=Ue.options,fn=Ue.selectedRowKeys,tn=Ue.selectedRows,On=Ue.toolbar,Fn=Ue.onSearch,li=Ue.columns,Xn=Object(L.a)(Ue,mh),Yn=yu.useContainer(),ci=Object(ce.d)(),ji=Object(I.useMemo)(function(){var Zi={reload:function(){var br;return ht==null||(br=ht.current)===null||br===void 0?void 0:br.reload()},density:!0,setting:!0,search:!1,fullScreen:function(){var br,Ir;return ht==null||(br=ht.current)===null||br===void 0||(Ir=br.fullScreen)===null||Ir===void 0?void 0:Ir.call(br)}};if(Kt===!1)return[];var Xi=Object(T.a)(Object(T.a)({},Zi),{},{fullScreen:!1},Kt);return bh(Xi,Object(T.a)(Object(T.a)({},Zi),{},{intl:ci}),ht,li)},[ht,li,ci,Kt]),Ni=rt?rt(ht==null?void 0:ht.current,{selectedRowKeys:fn,selectedRows:tn}):[],Ei=Object(I.useMemo)(function(){if(!Kt||!Kt.search)return!1;var Zi={value:Yn.keyWords,onChange:function(Cr){return Yn.setKeyWords(Cr.target.value)}};return Kt.search===!0?Zi:Object(T.a)(Object(T.a)({},Zi),Kt.search)},[Yn,Kt]);return Object(I.useEffect)(function(){Yn.keyWords===void 0&&(Fn==null||Fn(""))},[Yn.keyWords,Fn]),Object(Ri.jsx)(av,Object(T.a)({title:Be,tooltip:St||Xn.tip,search:Ei,onSearch:Fn,actions:Ni,settings:ji},On))}var Td=function(Ue){Object(Li.a)(St,Ue);var Be=Object(_r.a)(St);function St(){var rt;Object(Wn.a)(this,St);for(var ht=arguments.length,Kt=new Array(ht),fn=0;fn<ht;fn++)Kt[fn]=arguments[fn];return rt=Be.call.apply(Be,[this].concat(Kt)),rt.onSearch=function(tn){var On,Fn,li,Xn,Yn=rt.props,ci=Yn.options,ji=Yn.onFormSearchSubmit,Ni=Yn.actionRef;if(!(!ci||!ci.search)){var Ei=ci.search===!0?{}:ci.search,Zi=Ei.name,Xi=Zi===void 0?"keyword":Zi,Cr=(On=ci.search)===null||On===void 0||(Fn=On.onSearch)===null||Fn===void 0?void 0:Fn.call(On,tn);Cr!==!1&&(Ni==null||(li=Ni.current)===null||li===void 0||(Xn=li.setPageInfo)===null||Xn===void 0||Xn.call(li,{current:1}),ji(Object(sl.a)(Object(D.a)({_timestamp:Date.now()},Xi,tn))))}},rt.isEquals=function(tn){var On=rt.props,Fn=On.hideToolbar,li=On.tableColumn,Xn=On.options,Yn=On.tooltip,ci=On.toolbar,ji=On.selectedRows,Ni=On.selectedRowKeys,Ei=On.headerTitle,Zi=On.actionRef,Xi=On.toolBarRender;return Object(Jl.a)({hideToolbar:Fn,tableColumn:li,options:Xn,tooltip:Yn,toolbar:ci,selectedRows:ji,selectedRowKeys:Ni,headerTitle:Ei,actionRef:Zi,toolBarRender:Xi},{hideToolbar:tn.hideToolbar,tableColumn:tn.tableColumn,options:tn.options,tooltip:tn.tooltip,toolbar:tn.toolbar,selectedRows:tn.selectedRows,selectedRowKeys:tn.selectedRowKeys,headerTitle:tn.headerTitle,actionRef:tn.actionRef,toolBarRender:tn.toolBarRender},["render","renderFormItem"])},rt.shouldComponentUpdate=function(tn){return tn.searchNode?!0:!rt.isEquals(tn)},rt.render=function(){var tn=rt.props,On=tn.hideToolbar,Fn=tn.tableColumn,li=tn.options,Xn=tn.searchNode,Yn=tn.tooltip,ci=tn.toolbar,ji=tn.selectedRows,Ni=tn.selectedRowKeys,Ei=tn.headerTitle,Zi=tn.actionRef,Xi=tn.toolBarRender;return On?null:Object(Ri.jsx)(rd,{tooltip:Yn,columns:Fn,options:li,headerTitle:Ei,action:Zi,onSearch:rt.onSearch,selectedRows:ji,selectedRowKeys:Ni,toolBarRender:Xi,toolbar:Object(T.a)({filter:Xn},ci)})},rt}return Object(Zn.a)(St)}(de.a.Component),uf=Td,cv=a("tkDr"),Id=a("ft2k"),Pd=a("HBdL"),ad=["data","success","total"],Ou=function(Be){var St=Be.pageInfo;if(St){var rt=St.current,ht=St.defaultCurrent,Kt=St.pageSize,fn=St.defaultPageSize;return{current:rt||ht||1,total:0,pageSize:Kt||fn||20}}return{current:1,total:0,pageSize:20}},kl=function(Be,St,rt){var ht=Object(I.useRef)(!1),Kt=rt||{},fn=Kt.onLoad,tn=Kt.manual,On=Kt.polling,Fn=Kt.onRequestError,li=Kt.debounceTime,Xn=li===void 0?20:li,Yn=Object(I.useRef)(tn),ci=Object(I.useRef)(),ji=Object(_l.a)(St,{value:rt==null?void 0:rt.dataSource,onChange:rt==null?void 0:rt.onDataSourceChange}),Ni=Object(se.a)(ji,2),Ei=Ni[0],Zi=Ni[1],Xi=Object(_l.a)(!1,{value:rt==null?void 0:rt.loading,onChange:rt==null?void 0:rt.onLoadingChange}),Cr=Object(se.a)(Xi,2),br=Cr[0],Ir=Cr[1],cr=Object(I.useRef)(!1),Mr=Object(_l.a)(function(){return Ou(rt)},{onChange:rt==null?void 0:rt.onPageInfoChange}),tr=Object(se.a)(Mr,2),Fi=tr[0],zi=tr[1],lr=Object(qr.a)(function(b){(b.current!==Fi.current||b.pageSize!==Fi.pageSize||b.total!==Fi.total)&&zi(b)}),pr=Object(_l.a)(!1),Or=Object(se.a)(pr,2),ur=Or[0],nr=Or[1],Pr=function(y,p){Zi(y),(Fi==null?void 0:Fi.total)!==p&&lr(Object(T.a)(Object(T.a)({},Fi),{},{total:p||y.length}))},Hr=Object(Id.a)(Fi==null?void 0:Fi.current),Ur=Object(Id.a)(Fi==null?void 0:Fi.pageSize),aa=Object(Id.a)(On),Da=rt||{},Sr=Da.effects,da=Sr===void 0?[]:Sr,Ea=Object(qr.a)(function(){Object(ve.a)(br)==="object"?Ir(Object(T.a)(Object(T.a)({},br),{},{spinning:!1})):Ir(!1),nr(!1)}),he=function(){var b=Object(w.a)(Object(we.a)().mark(function y(p){var M,q,Se,Ie,qe,it,dt,Jt,cn,Mn,vi,ii;return Object(we.a)().wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:if(!(br&&typeof br=="boolean"||cr.current||!Be)){$n.next=2;break}return $n.abrupt("return",[]);case 2:if(!Yn.current){$n.next=5;break}return Yn.current=!1,$n.abrupt("return",[]);case 5:return p?nr(!0):Object(ve.a)(br)==="object"?Ir(Object(T.a)(Object(T.a)({},br),{},{spinning:!0})):Ir(!0),cr.current=!0,M=Fi||{},q=M.pageSize,Se=M.current,$n.prev=8,Ie=(rt==null?void 0:rt.pageInfo)!==!1?{current:Se,pageSize:q}:void 0,$n.next=12,Be(Ie);case 12:if($n.t0=$n.sent,$n.t0){$n.next=15;break}$n.t0={};case 15:if(qe=$n.t0,it=qe.data,dt=it===void 0?[]:it,Jt=qe.success,cn=qe.total,Mn=cn===void 0?0:cn,vi=Object(L.a)(qe,ad),Jt!==!1){$n.next=24;break}return $n.abrupt("return",[]);case 24:return ii=Ke(dt,[rt.postData].filter(function(ni){return ni})),Pr(ii,Mn),fn==null||fn(ii,vi),$n.abrupt("return",ii);case 30:if($n.prev=30,$n.t1=$n.catch(8),Fn!==void 0){$n.next=34;break}throw new Error($n.t1);case 34:Ei===void 0&&Zi([]),Fn($n.t1);case 36:return $n.prev=36,cr.current=!1,Ea(),$n.finish(36);case 40:return $n.abrupt("return",[]);case 41:case"end":return $n.stop()}},y,null,[[8,30,36,40]])}));return function(p){return b.apply(this,arguments)}}(),le=Object(Pd.a)(function(){var b=Object(w.a)(Object(we.a)().mark(function y(p){var M,q;return Object(we.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return ci.current&&clearTimeout(ci.current),Ie.next=3,he(p);case 3:return M=Ie.sent,q=Object(at.a)(On,M),q&&!ht.current&&(ci.current=setTimeout(function(){le.run(q)},Math.max(q,2e3))),Ie.abrupt("return",M);case 7:case"end":return Ie.stop()}},y)}));return function(y){return b.apply(this,arguments)}}(),Xn||10);return Object(I.useEffect)(function(){return On||clearTimeout(ci.current),!aa&&On&&le.run(!0),function(){clearTimeout(ci.current)}},[On]),Object(I.useLayoutEffect)(function(){return ht.current=!1,function(){ht.current=!0}},[]),Object(I.useEffect)(function(){var b=Fi||{},y=b.current,p=b.pageSize;(!Hr||Hr===y)&&(!Ur||Ur===p)||rt.pageInfo&&Ei&&(Ei==null?void 0:Ei.length)>p||y!==void 0&&Ei&&Ei.length<=p&&le.run(!1)},[Fi==null?void 0:Fi.current]),Object(I.useEffect)(function(){!Ur||le.run(!1)},[Fi==null?void 0:Fi.pageSize]),Object(Ts.a)(function(){return le.run(!1),tn||(Yn.current=!1),function(){le.cancel()}},[].concat(Object(z.a)(da),[tn])),{dataSource:Ei,setDataSource:Zi,loading:br,reload:function(){var b=Object(w.a)(Object(we.a)().mark(function p(){return Object(we.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,le.run(!1);case 2:case"end":return q.stop()}},p)}));function y(){return b.apply(this,arguments)}return y}(),pageInfo:Fi,pollingLoading:ur,reset:function(){var b=Object(w.a)(Object(we.a)().mark(function p(){var M,q,Se,Ie,qe,it,dt,Jt;return Object(we.a)().wrap(function(Mn){for(;;)switch(Mn.prev=Mn.next){case 0:M=rt||{},q=M.pageInfo,Se=q||{},Ie=Se.defaultCurrent,qe=Ie===void 0?1:Ie,it=Se.defaultPageSize,dt=it===void 0?20:it,Jt={current:qe,total:0,pageSize:dt},lr(Jt);case 4:case"end":return Mn.stop()}},p)}));function y(){return b.apply(this,arguments)}return y}(),setPageInfo:function(){var b=Object(w.a)(Object(we.a)().mark(function p(M){return Object(we.a)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:lr(Object(T.a)(Object(T.a)({},Fi),M));case 1:case"end":return Se.stop()}},p)}));function y(p){return b.apply(this,arguments)}return y}()}},yh=kl,Ec=function(Be){return function(St,rt){var ht,Kt,fn=St.fixed,tn=St.index,On=rt.fixed,Fn=rt.index;if(fn==="left"&&On!=="left"||On==="right"&&fn!=="right")return-2;if(On==="left"&&fn!=="left"||fn==="right"&&On!=="right")return 2;var li=St.key||"".concat(tn),Xn=rt.key||"".concat(Fn);if(((ht=Be[li])===null||ht===void 0?void 0:ht.order)||((Kt=Be[Xn])===null||Kt===void 0?void 0:Kt.order)){var Yn,ci;return(((Yn=Be[li])===null||Yn===void 0?void 0:Yn.order)||0)-(((ci=Be[Xn])===null||ci===void 0?void 0:ci.order)||0)}return(St.index||0)-(rt.index||0)}},Ad=a("yeZT"),_h=a("BY2G"),Rd=function(Be){var St={};return Object.keys(Be||{}).forEach(function(rt){var ht;Array.isArray(Be[rt])&&((ht=Be[rt])===null||ht===void 0?void 0:ht.length)===0||Be[rt]!==void 0&&(St[rt]=Be[rt])}),St},od=Rd,Ch=a("fxyS"),Oh=a("POPG"),Lc=a("ub+h"),Su=a("lS/g"),Mc=a("tReJ"),Nd=a("U9X9"),cf=["children"],df=["",null,void 0],Sh=function(){for(var Be=arguments.length,St=new Array(Be),rt=0;rt<Be;rt++)St[rt]=arguments[rt];return St.filter(function(ht){return ht!==void 0}).map(function(ht){return typeof ht=="number"?ht.toString():ht}).flat(1)},hf=function(Be){var St=Object(I.useContext)(Su.a),rt=Be.columnProps,ht=Be.prefixName,Kt=Be.text,fn=Be.counter,tn=Be.rowData,On=Be.index,Fn=Be.recordKey,li=Be.subName,Xn=Be.proFieldProps,Yn=Wt.a.useFormInstance(),ci=Fn||On,ji=Object(I.useState)(function(){var cr,Mr;return Sh(ht,ht?li:[],ht?On:ci,(cr=(Mr=rt==null?void 0:rt.key)!==null&&Mr!==void 0?Mr:rt==null?void 0:rt.dataIndex)!==null&&cr!==void 0?cr:On)}),Ni=Object(se.a)(ji,2),Ei=Ni[0],Zi=Ni[1],Xi=Object(I.useMemo)(function(){return Ei.slice(0,-1)},[Ei]);Object(I.useEffect)(function(){var cr,Mr,tr=Sh(ht,ht?li:[],ht?On:ci,(cr=(Mr=rt==null?void 0:rt.key)!==null&&Mr!==void 0?Mr:rt==null?void 0:rt.dataIndex)!==null&&cr!==void 0?cr:On);tr.join("-")!==Ei.join("-")&&Zi(tr)},[rt==null?void 0:rt.dataIndex,rt==null?void 0:rt.key,On,Fn,ht,ci,li,Ei]);var Cr=Object(I.useMemo)(function(){return[Yn,Object(T.a)(Object(T.a)({},rt),{},{rowKey:Xi,rowIndex:On,isEditable:!0})]},[rt,Yn,On,Xi]),br=Object(I.useCallback)(function(cr){var Mr=cr.children,tr=Object(L.a)(cr,cf);return Object(Ri.jsx)(Mc.a,Object(T.a)(Object(T.a)({popoverProps:{getPopupContainer:St.getPopupContainer||function(){return fn.rootDomRef.current||document.body}},errorType:"popover",name:Ei},tr),{},{children:Mr}),ci)},[ci,Ei]),Ir=Object(I.useCallback)(function(){var cr,Mr,tr=Object(T.a)({},Nd.a.apply(void 0,[rt==null?void 0:rt.formItemProps].concat(Object(z.a)(Cr))));tr.messageVariables=Object(T.a)({label:(rt==null?void 0:rt.title)||"\u6B64\u9879",type:(rt==null?void 0:rt.valueType)||"\u6587\u672C"},tr==null?void 0:tr.messageVariables),tr.initialValue=(cr=(Mr=ht?null:Kt)!==null&&Mr!==void 0?Mr:tr==null?void 0:tr.initialValue)!==null&&cr!==void 0?cr:rt==null?void 0:rt.initialValue;var Fi=Object(Ri.jsx)(Rr.a,Object(T.a)({cacheForSwr:!0,name:Ei,proFormFieldKey:ci,ignoreFormItem:!0,fieldProps:Nd.a.apply(void 0,[rt==null?void 0:rt.fieldProps].concat(Object(z.a)(Cr)))},Xn),Ei.join("-"));return(rt==null?void 0:rt.renderFormItem)&&(Fi=rt.renderFormItem(Object(T.a)(Object(T.a)({},rt),{},{index:On,isEditable:!0,type:"table"}),{defaultRender:function(){return Object(Ri.jsx)(br,Object(T.a)(Object(T.a)({},tr),{},{children:Fi}))},type:"form",recordKey:Fn,record:Object(T.a)(Object(T.a)({},tn),Yn==null?void 0:Yn.getFieldValue([ci])),isEditable:!0},Yn,Be.editableUtils),rt.ignoreFormItem)?Object(Ri.jsx)(Ri.Fragment,{children:Fi}):Object(Ri.jsx)(br,Object(T.a)(Object(T.a)({},tr),{},{children:Fi}),Ei.join("-"))},[rt,Cr,ht,Kt,ci,Ei,Xn,br,On,Fn,tn,Yn,Be.editableUtils]);return Ei.length===0?null:typeof(rt==null?void 0:rt.renderFormItem)=="function"||typeof(rt==null?void 0:rt.fieldProps)=="function"||typeof(rt==null?void 0:rt.formItemProps)=="function"?Object(Ri.jsx)(rr.a,{name:[Xi],children:function(){return Ir()}}):Ir()};function ff(Ue){var Be,St=Ue.text,rt=Ue.valueType,ht=Ue.rowData,Kt=Ue.columnProps;if((!rt||["textarea","text"].includes(rt.toString()))&&!(Kt==null?void 0:Kt.valueEnum)&&Ue.mode==="read")return df.includes(St)?Ue.columnEmptyText:St;if(typeof rt=="function"&&ht)return ff(Object(T.a)(Object(T.a)({},Ue),{},{valueType:rt(ht,Ue.type)||"text"}));var fn=(Kt==null?void 0:Kt.key)||(Kt==null||(Be=Kt.dataIndex)===null||Be===void 0?void 0:Be.toString()),tn={valueEnum:Object(at.a)(Kt==null?void 0:Kt.valueEnum,ht),request:Kt==null?void 0:Kt.request,params:Object(at.a)(Kt==null?void 0:Kt.params,ht,Kt),readonly:Kt==null?void 0:Kt.readonly,text:rt==="index"||rt==="indexBorder"?Ue.index:St,mode:Ue.mode,renderFormItem:void 0,valueType:rt,record:ht,proFieldProps:{emptyText:Ue.columnEmptyText,proFieldKey:fn?"table-field-".concat(fn):void 0}};return Ue.mode!=="edit"?Object(Ri.jsx)(Rr.a,Object(T.a)({mode:"read",ignoreFormItem:!0,fieldProps:Object(Nd.a)(Kt==null?void 0:Kt.fieldProps,null,Kt)},tn)):Object(Ri.jsx)(hf,Object(T.a)(Object(T.a)({},Ue),{},{proFieldProps:tn}),Ue.recordKey)}var dv=ff,kh=function(Be){var St,rt=Be.title,ht=typeof(Be==null?void 0:Be.ellipsis)=="boolean"?Be==null?void 0:Be.ellipsis:Be==null||(St=Be.ellipsis)===null||St===void 0?void 0:St.showTitle;return rt&&typeof rt=="function"?rt(Be,"table",Object(Ri.jsx)(Zl.a,{label:null,tooltip:Be.tooltip||Be.tip})):Object(Ri.jsx)(Zl.a,{label:rt,tooltip:Be.tooltip||Be.tip,ellipsis:ht})};function Dh(Ue,Be,St,rt){return typeof rt=="boolean"?rt===!1:(rt==null?void 0:rt(Ue,Be,St))===!1}var ac=function(Be,St,rt){var ht=Array.isArray(rt)?Object(Lc.a)(St,rt):St[rt],Kt=String(ht);return String(Kt)===String(Be)};function vf(Ue){var Be=Ue.columnProps,St=Ue.text,rt=Ue.rowData,ht=Ue.index,Kt=Ue.columnEmptyText,fn=Ue.counter,tn=Ue.type,On=Ue.subName,Fn=Ue.editableUtils,li=fn.action,Xn=fn.prefixName,Yn=Fn.isEditable(Object(T.a)(Object(T.a)({},rt),{},{index:ht})),ci=Yn.isEditable,ji=Yn.recordKey,Ni=Be.renderText,Ei=Ni===void 0?function(Mr){return Mr}:Ni,Zi=Ei(St,rt,ht,li),Xi=ci&&!Dh(St,rt,ht,Be==null?void 0:Be.editable)?"edit":"read",Cr=dv({text:Zi,valueType:Be.valueType||"text",index:ht,rowData:rt,subName:On,columnProps:Object(T.a)(Object(T.a)({},Be),{},{entry:rt,entity:rt}),counter:fn,columnEmptyText:Kt,type:tn,recordKey:ji,mode:Xi,prefixName:Xn,editableUtils:Fn}),br=Xi==="edit"?Cr:Object(Ch.a)(Cr,Be,Zi);if(Xi==="edit")return Be.valueType==="option"?Object(Ri.jsx)(wo.b,{children:Fn.actionRender(Object(T.a)(Object(T.a)({},rt),{},{index:Be.index||ht}))}):br;if(!Be.render){var Ir=de.a.isValidElement(br)||["string","number"].includes(Object(ve.a)(br));return!Object(Oh.a)(br)&&Ir?br:null}var cr=Be.render(br,rt,ht,Object(T.a)(Object(T.a)({},li),Fn),Object(T.a)(Object(T.a)({},Be),{},{isEditable:ci,type:"table"}));return v(cr)?cr:cr&&Be.valueType==="option"&&Array.isArray(cr)?Object(Ri.jsx)(wo.b,{size:16,children:cr}):cr}function Tc(Ue){var Be,St=Ue.columns,rt=Ue.counter,ht=Ue.columnEmptyText,Kt=Ue.type,fn=Ue.editableUtils,tn=Ue.rowKey,On=tn===void 0?"id":tn,Fn=Ue.childrenColumnName,li=Fn===void 0?"children":Fn,Xn=new Map;return St==null||(Be=St.map(function(Yn,ci){var ji=Yn.key,Ni=Yn.dataIndex,Ei=Yn.valueEnum,Zi=Yn.valueType,Xi=Zi===void 0?"text":Zi,Cr=Yn.children,br=Yn.onFilter,Ir=Yn.filters,cr=Ir===void 0?[]:Ir,Mr=m(ji||(Ni==null?void 0:Ni.toString()),ci),tr=!Ei&&!Xi&&!Cr;if(tr)return Object(T.a)({index:ci},Yn);var Fi=Yn===Yl.EXPAND_COLUMN||Yn===Yl.SELECTION_COLUMN;if(Fi)return{index:ci,isExtraColumns:!0,hideInSearch:!0,hideInTable:!1,hideInForm:!0,hideInSetting:!0,extraColumn:Yn};var zi=rt.columnsMap[Mr]||{fixed:Yn.fixed},lr=function(){return br===!0?function(nr,Pr){return ac(nr,Pr,Ni)}:Object(_h.a)(br)},pr=On,Or=Object(T.a)(Object(T.a)({index:ci,key:Mr},Yn),{},{title:kh(Yn),valueEnum:Ei,filters:cr===!0?Object(Ad.d)(Object(at.a)(Ei,void 0)).filter(function(ur){return ur&&ur.value!=="all"}):cr,onFilter:lr(),fixed:zi.fixed,width:Yn.width||(Yn.fixed?200:void 0),children:Yn.children?Tc(Object(T.a)(Object(T.a)({},Ue),{},{columns:Yn==null?void 0:Yn.children})):void 0,render:function(nr,Pr,Hr){typeof On=="function"&&(pr=On(Pr,Hr));var Ur;if(Reflect.has(Pr,pr)){var aa;Ur=Pr[pr];var Da=Xn.get(Ur)||[];(aa=Pr[li])===null||aa===void 0||aa.forEach(function(da){var Ea=da[pr];Xn.has(Ea)||Xn.set(Ea,Da.concat([Hr,li]))})}var Sr={columnProps:Yn,text:nr,rowData:Pr,index:Hr,columnEmptyText:ht,counter:rt,type:Kt,subName:Xn.get(Ur),editableUtils:fn};return vf(Sr)}});return od(Or)}))===null||Be===void 0?void 0:Be.filter(function(Yn){return!Yn.hideInTable})}var cg=["rowKey","tableClassName","action","tableColumn","type","pagination","rowSelection","size","defaultSize","tableStyle","toolbarDom","searchNode","style","cardProps","alertDom","name","onSortChange","onFilterChange","options","isLightFilter","className","cardBordered","editableUtils","getRowKey"],sd=["cardBordered","request","className","params","defaultData","headerTitle","postData","ghost","pagination","actionRef","columns","toolBarRender","onLoad","onRequestError","style","cardProps","tableStyle","tableClassName","columnsStateMap","onColumnsStateChange","options","search","name","onLoadingChange","rowSelection","beforeSearchSubmit","tableAlertRender","defaultClassName","formRef","type","columnEmptyText","toolbar","rowKey","manualRequest","polling","tooltip","revalidateOnFocus"];function xd(Ue){var Be=Ue.rowKey,St=Ue.tableClassName,rt=Ue.action,ht=Ue.tableColumn,Kt=Ue.type,fn=Ue.pagination,tn=Ue.rowSelection,On=Ue.size,Fn=Ue.defaultSize,li=Ue.tableStyle,Xn=Ue.toolbarDom,Yn=Ue.searchNode,ci=Ue.style,ji=Ue.cardProps,Ni=Ue.alertDom,Ei=Ue.name,Zi=Ue.onSortChange,Xi=Ue.onFilterChange,Cr=Ue.options,br=Ue.isLightFilter,Ir=Ue.className,cr=Ue.cardBordered,Mr=Ue.editableUtils,tr=Ue.getRowKey,Fi=Object(L.a)(Ue,cg),zi=yu.useContainer(),lr=Object(I.useMemo)(function(){var Sr=function da(Ea){return Ea.map(function(he){var le=m(he.key,he.index),b=zi.columnsMap[le];return b&&b.show===!1?!1:he.children?Object(T.a)(Object(T.a)({},he),{},{children:da(he.children)}):he}).filter(Boolean)};return Sr(ht)},[zi.columnsMap,ht]),pr=Object(I.useMemo)(function(){return lr==null?void 0:lr.every(function(Sr){return Sr.filters===!0&&Sr.onFilter===!0||Sr.filters===void 0&&Sr.onFilter===void 0})},[lr]),Or=function(da){var Ea=Mr.newLineRecord||{},he=Ea.options,le=Ea.defaultValue;if(he==null?void 0:he.parentKey){var b,y,p={data:da,getRowKey:tr,row:Object(T.a)(Object(T.a)({},le),{},{map_row_parentKey:(b=Object(Cc.d)(he==null?void 0:he.parentKey))===null||b===void 0?void 0:b.toString()}),key:he==null?void 0:he.recordKey,childrenColumnName:((y=Ue.expandable)===null||y===void 0?void 0:y.childrenColumnName)||"children"};return Object(Cc.c)(p,he.position==="top"?"top":"update")}if((he==null?void 0:he.position)==="top")return[le].concat(Object(z.a)(rt.dataSource));if(fn&&(fn==null?void 0:fn.current)&&(fn==null?void 0:fn.pageSize)){var M=Object(z.a)(rt.dataSource);return(fn==null?void 0:fn.pageSize)>M.length?(M.push(le),M):(M.splice((fn==null?void 0:fn.current)*(fn==null?void 0:fn.pageSize)-1,0,le),M)}return[].concat(Object(z.a)(rt.dataSource),[le])},ur=function(){return Object(T.a)(Object(T.a)({},Fi),{},{size:On,rowSelection:tn===!1?void 0:tn,className:St,style:li,columns:lr.map(function(da){return da.isExtraColumns?da.extraColumn:da}),loading:rt.loading,dataSource:Mr.newLineRecord?Or(rt.dataSource):rt.dataSource,pagination:fn,onChange:function(Ea,he,le,b){var y;if((y=Fi.onChange)===null||y===void 0||y.call(Fi,Ea,he,le,b),pr||Xi(Object(sl.a)(he)),Array.isArray(le)){var p=le.reduce(function(Ie,qe){return Object(T.a)(Object(T.a)({},Ie),{},Object(D.a)({},"".concat(qe.field),qe.order))},{});Zi(Object(sl.a)(p))}else{var M,q=(M=le.column)===null||M===void 0?void 0:M.sorter,Se=(q==null?void 0:q.toString())===q;Zi(Object(sl.a)(Object(D.a)({},"".concat(Se?q:le.field),le.order))||{})}}})},nr=Object(Ri.jsx)(Yl,Object(T.a)(Object(T.a)({},ur()),{},{rowKey:Be})),Pr=Ue.tableViewRender?Ue.tableViewRender(Object(T.a)(Object(T.a)({},ur()),{},{rowSelection:tn!==!1?tn:void 0}),nr):nr,Hr=Object(I.useMemo)(function(){if(Ue.editable&&!Ue.name){var Sr,da,Ea,he;return Object(Ri.jsxs)(Ri.Fragment,{children:[Xn,Ni,Object(I.createElement)(Qc.a,Object(T.a)(Object(T.a)({},(Sr=Ue.editable)===null||Sr===void 0?void 0:Sr.formProps),{},{formRef:(da=Ue.editable)===null||da===void 0||(Ea=da.formProps)===null||Ea===void 0?void 0:Ea.formRef,component:!1,form:(he=Ue.editable)===null||he===void 0?void 0:he.form,onValuesChange:Mr.onValuesChange,key:"table",submitter:!1,omitNil:!1,dateFormatter:Ue.dateFormatter}),Pr)]})}return Object(Ri.jsxs)(Ri.Fragment,{children:[Xn,Ni,Pr]})},[Ni,Ue.loading,!!Ue.editable,Pr,Xn]),Ur=ji===!1||!!Ue.name?Hr:Object(Ri.jsx)($c,Object(T.a)(Object(T.a)({ghost:Ue.ghost,bordered:be("table",cr),bodyStyle:Xn?{paddingTop:0}:{padding:0}},ji),{},{children:Hr})),aa=function(){return Ue.tableRender?Ue.tableRender(Ue,Ur,{toolbar:Xn||void 0,alert:Ni||void 0,table:Pr||void 0}):Ur},Da=Object(Ri.jsxs)("div",{className:O()(Ir,Object(D.a)({},"".concat(Ir,"-polling"),rt.pollingLoading)),style:ci,ref:zi.rootDomRef,children:[br?null:Yn,Kt!=="form"&&Ue.tableExtraRender&&Object(Ri.jsx)("div",{className:"".concat(Ir,"-extra"),children:Ue.tableExtraRender(Ue,rt.dataSource||[])}),Kt!=="form"&&aa()]});return!Cr||!(Cr==null?void 0:Cr.fullScreen)?Da:Object(Ri.jsx)($.a,{getPopupContainer:function(){return zi.rootDomRef.current||document.body},children:Da})}var hv={},fv=function(Be){var St,rt=Be.cardBordered,ht=Be.request,Kt=Be.className,fn=Be.params,tn=fn===void 0?hv:fn,On=Be.defaultData,Fn=Be.headerTitle,li=Be.postData,Xn=Be.ghost,Yn=Be.pagination,ci=Be.actionRef,ji=Be.columns,Ni=ji===void 0?[]:ji,Ei=Be.toolBarRender,Zi=Be.onLoad,Xi=Be.onRequestError,Cr=Be.style,br=Be.cardProps,Ir=Be.tableStyle,cr=Be.tableClassName,Mr=Be.columnsStateMap,tr=Be.onColumnsStateChange,Fi=Be.options,zi=Be.search,lr=Be.name,pr=Be.onLoadingChange,Or=Be.rowSelection,ur=Or===void 0?!1:Or,nr=Be.beforeSearchSubmit,Pr=Be.tableAlertRender,Hr=Be.defaultClassName,Ur=Be.formRef,aa=Be.type,Da=aa===void 0?"table":aa,Sr=Be.columnEmptyText,da=Sr===void 0?"-":Sr,Ea=Be.toolbar,he=Be.rowKey,le=Be.manualRequest,b=Be.polling,y=Be.tooltip,p=Be.revalidateOnFocus,M=p===void 0?!1:p,q=Object(L.a)(Be,sd),Se=O()(Hr,Kt),Ie=Object(I.useRef)(),qe=Object(I.useRef)(),it=Ur||qe;Object(I.useImperativeHandle)(ci,function(){return Ie.current});var dt=Object(_l.a)(ur?(ur==null?void 0:ur.defaultSelectedRowKeys)||[]:void 0,{value:ur?ur.selectedRowKeys:void 0}),Jt=Object(se.a)(dt,2),cn=Jt[0],Mn=Jt[1],vi=Object(I.useRef)([]),ii=Object(I.useCallback)(function(Wr,ma){Mn(Wr),(!ur||!(ur==null?void 0:ur.selectedRowKeys))&&(vi.current=ma)},[Mn]),di=Object(_l.a)(function(){if(!(le||zi!==!1))return{}}),$n=Object(se.a)(di,2),ni=$n[0],sr=$n[1],mr=Object(_l.a)({}),fr=Object(se.a)(mr,2),Xr=fr[0],Vr=fr[1],na=Object(_l.a)({}),va=Object(se.a)(na,2),Ta=va[0],io=va[1];Object(I.useEffect)(function(){var Wr=g(Ni),ma=Wr.sort,$a=Wr.filter;Vr($a),io(ma)},[]);var bs=Object(ce.d)(),Za=Object(ve.a)(Yn)==="object"?Yn:{defaultCurrent:1,defaultPageSize:20,pageSize:20,current:1},Na=yu.useContainer(),ga=Object(I.useMemo)(function(){if(!!ht)return function(){var Wr=Object(w.a)(Object(we.a)().mark(function ma($a){var ko,Ss;return Object(we.a)().wrap(function(Po){for(;;)switch(Po.prev=Po.next){case 0:return ko=Object(T.a)(Object(T.a)(Object(T.a)({},$a||{}),ni),tn),delete ko._timestamp,Po.next=4,ht(ko,Ta,Xr);case 4:return Ss=Po.sent,Po.abrupt("return",Ss);case 6:case"end":return Po.stop()}},ma)}));return function(ma){return Wr.apply(this,arguments)}}()},[ni,tn,Xr,Ta,ht]),ea=yh(ga,On,{pageInfo:Yn===!1?!1:Za,loading:Be.loading,dataSource:Be.dataSource,onDataSourceChange:Be.onDataSourceChange,onLoad:Zi,onLoadingChange:pr,onRequestError:Xi,postData:li,revalidateOnFocus:M,manual:ni===void 0,polling:b,effects:[Object(mu.a)(tn),Object(mu.a)(ni),Object(mu.a)(Xr),Object(mu.a)(Ta)],debounceTime:Be.debounceTime,onPageInfoChange:function(ma){var $a,ko;Da==="list"||!Yn||!ga||(Yn==null||($a=Yn.onChange)===null||$a===void 0||$a.call(Yn,ma.current,ma.pageSize),Yn==null||(ko=Yn.onShowSizeChange)===null||ko===void 0||ko.call(Yn,ma.current,ma.pageSize))}});Object(I.useEffect)(function(){var Wr;if(!(Be.manualRequest||!Be.request||!M||((Wr=Be.form)===null||Wr===void 0?void 0:Wr.ignoreRules))){var ma=function(){document.visibilityState==="visible"&&ea.reload()};return document.addEventListener("visibilitychange",ma),function(){return document.removeEventListener("visibilitychange",ma)}}},[]);var Ga=de.a.useRef(new Map),Io=de.a.useMemo(function(){return typeof he=="function"?he:function(Wr,ma){var $a;return ma===-1?Wr==null?void 0:Wr[he]:Be.name?ma==null?void 0:ma.toString():($a=Wr==null?void 0:Wr[he])!==null&&$a!==void 0?$a:ma==null?void 0:ma.toString()}},[Be.name,he]);Object(I.useMemo)(function(){var Wr;if((Wr=ea.dataSource)===null||Wr===void 0?void 0:Wr.length){var ma=new Map,$a=ea.dataSource.map(function(ko){var Ss=Io(ko,-1);return ma.set(Ss,ko),Ss});return Ga.current=ma,$a}return[]},[ea.dataSource,Io]),Object(I.useEffect)(function(){vi.current=cn==null?void 0:cn.map(function(Wr){var ma;return(ma=Ga.current)===null||ma===void 0?void 0:ma.get(Wr)})},[cn]);var Ko=Object(I.useMemo)(function(){var Wr=Yn===!1?!1:Object(T.a)({},Yn),ma=Object(T.a)(Object(T.a)({},ea.pageInfo),{},{setPageInfo:function(ko){var Ss=ko.pageSize,ks=ko.current,Po=ea.pageInfo;if(Ss===Po.pageSize||Po.current===1){ea.setPageInfo({pageSize:Ss,current:ks});return}ht&&ea.setDataSource([]),ea.setPageInfo({pageSize:Ss,current:Da==="list"?ks:1})}});return ht&&Wr&&(delete Wr.onChange,delete Wr.onShowSizeChange),Xc(Wr,ma,bs)},[Yn,ea,bs]);Object(Ts.a)(function(){var Wr;Be.request&&tn&&ea.dataSource&&(ea==null||(Wr=ea.pageInfo)===null||Wr===void 0?void 0:Wr.current)!==1&&ea.setPageInfo({current:1})},[tn]),Na.setPrefixName(Be.name);var xo=Object(I.useCallback)(function(){ur&&ur.onChange&&ur.onChange([],[],{type:"none"}),ii([],[])},[ur,ii]);Na.setAction(Ie.current),Na.propsRef.current=Be;var Xo=Object(Cc.a)(Object(T.a)(Object(T.a)({},Be.editable),{},{tableName:Be.name,getRowKey:Io,childrenColumnName:((St=Be.expandable)===null||St===void 0?void 0:St.childrenColumnName)||"children",dataSource:ea.dataSource||[],setDataSource:function(ma){var $a,ko;($a=Be.editable)===null||$a===void 0||(ko=$a.onValuesChange)===null||ko===void 0||ko.call($a,void 0,ma),ea.setDataSource(ma)}}));Ru(Ie,ea,{fullScreen:function(){var ma;if(!(!((ma=Na.rootDomRef)===null||ma===void 0?void 0:ma.current)||!document.fullscreenEnabled))if(document.fullscreenElement)document.exitFullscreen();else{var $a;($a=Na.rootDomRef)===null||$a===void 0||$a.current.requestFullscreen()}},onCleanSelected:function(){xo()},resetAll:function(){var ma;xo(),Vr({}),io({}),Na.setKeyWords(void 0),ea.setPageInfo({current:1}),it==null||(ma=it.current)===null||ma===void 0||ma.resetFields(),sr({})},editableUtils:Xo}),ci&&(ci.current=Ie.current);var is=Object(I.useMemo)(function(){var Wr;return Tc({columns:Ni,counter:Na,columnEmptyText:da,type:Da,editableUtils:Xo,rowKey:he,childrenColumnName:(Wr=Be.expandable)===null||Wr===void 0?void 0:Wr.childrenColumnName}).sort(Ec(Na.columnsMap))},[Ni,Na==null?void 0:Na.sortKeyColumns,Na==null?void 0:Na.columnsMap,da,Da,Xo.editableKeys&&Xo.editableKeys.join(",")]);Object(Ts.b)(function(){if(is&&is.length>0){var Wr=is.map(function(ma){return m(ma.key,ma.index)});Na.setSortKeyColumns(Wr)}},[is],["render","renderFormItem"],100),Object(Ts.a)(function(){var Wr=ea.pageInfo,ma=Yn||{},$a=ma.current,ko=$a===void 0?Wr==null?void 0:Wr.current:$a,Ss=ma.pageSize,ks=Ss===void 0?Wr==null?void 0:Wr.pageSize:Ss;Yn&&(ko||ks)&&(ks!==(Wr==null?void 0:Wr.pageSize)||ko!==(Wr==null?void 0:Wr.current))&&ea.setPageInfo({pageSize:ks||Wr.pageSize,current:ko||Wr.current})},[Yn&&Yn.pageSize,Yn&&Yn.current]);var Wl=Object(T.a)(Object(T.a)({selectedRowKeys:cn},ur),{},{onChange:function(ma,$a,ko){ur&&ur.onChange&&ur.onChange(ma,$a,ko),ii(ma,$a)}}),Ha=zi!==!1&&(zi==null?void 0:zi.filterType)==="light",Ia=function(ma){if(Fi&&Fi.search){var $a,ko,Ss=Fi.search===!0?{}:Fi.search,ks=Ss.name,Po=ks===void 0?"keyword":ks,Dl=($a=Fi.search)===null||$a===void 0||(ko=$a.onSearch)===null||ko===void 0?void 0:ko.call($a,Na.keyWords);if(Dl!==!1){sr(Object(T.a)(Object(T.a)({},ma),{},Object(D.a)({},Po,Na.keyWords)));return}}sr(ma)},jo=Object(I.useMemo)(function(){if(Object(ve.a)(ea.loading)==="object"){var Wr;return((Wr=ea.loading)===null||Wr===void 0?void 0:Wr.spinning)||!1}return ea.loading},[ea.loading]),So=zi===!1&&Da!=="form"?null:Object(Ri.jsx)(ef,{pagination:Ko,beforeSearchSubmit:nr,action:Ie,columns:Ni,onFormSearchSubmit:function(ma){Ia(ma)},ghost:Xn,onReset:Be.onReset,onSubmit:Be.onSubmit,loading:!!jo,manualRequest:le,search:zi,form:Be.form,formRef:it,type:Be.type||"table",cardBordered:Be.cardBordered,dateFormatter:Be.dateFormatter}),Wo=Ei===!1?null:Object(Ri.jsx)(uf,{headerTitle:Fn,hideToolbar:Fi===!1&&!Fn&&!Ei&&!Ea&&!Ha,selectedRows:vi.current,selectedRowKeys:cn,tableColumn:is,tooltip:y,toolbar:Ea,onFormSearchSubmit:function(ma){sr(Object(T.a)(Object(T.a)({},ni),ma))},searchNode:Ha?So:null,options:Fi,actionRef:Ie,toolBarRender:Ei}),Eo=ur!==!1?Object(Ri.jsx)(Yc,{selectedRowKeys:cn,selectedRows:vi.current,onCleanSelected:xo,alertOptionRender:q.tableAlertOptionRender,alertInfoRender:Pr,alwaysShowAlert:ur==null?void 0:ur.alwaysShowAlert}):null;return Object(Ri.jsx)(xd,Object(T.a)(Object(T.a)({},Be),{},{name:lr,size:Na.tableSize,onSizeChange:Na.setTableSize,pagination:Ko,searchNode:So,rowSelection:ur!==!1?Wl:void 0,className:Se,tableColumn:is,isLightFilter:Ha,action:ea,alertDom:Eo,toolbarDom:Wo,onSortChange:io,onFilterChange:Vr,editableUtils:Xo,getRowKey:Io}))},gf=function(Be){var St=Object(I.useContext)($.a.ConfigContext),rt=St.getPrefixCls,ht=Be.ErrorBoundary===!1?de.a.Fragment:Be.ErrorBoundary||Ps.a;return Object(Ri.jsx)(yu.Provider,{initialState:Be,children:Object(Ri.jsx)(ce.a,{children:Object(Ri.jsx)(ht,{children:Object(Ri.jsx)(fv,Object(T.a)({defaultClassName:rt("pro-table")},Be))})})})};gf.Summary=Yl.Summary;var vv=gf,gv=U.a=vv},QkrF:function(mn,U,a){"use strict";a.d(U,"a",function(){return V});var ce=a("fWQN"),we=a("mtLc"),w=a("JQT/"),ve=a("MI8n"),se=a("/kV6"),te=a("bY76"),$=a("cGHE"),_=a("aokT"),Y=a("gCVg"),E=a("LloX"),Z=a("aIFW"),ne=function(){function B(){Object(ce.a)(this,B)}return Object(we.a)(B,null,[{key:"chord",value:function(W,N){return Object(se.c)(W,N)}}]),B}();ne.CtrlCmd=2048,ne.Shift=1024,ne.Alt=512,ne.WinCtrl=256;function V(){return{editor:void 0,languages:void 0,CancellationTokenSource:w.b,Emitter:ve.b,KeyCode:Z.t,KeyMod:ne,Position:$.a,Range:_.a,Selection:Y.a,SelectionDirection:Z.F,MarkerSeverity:Z.u,MarkerTag:Z.v,Uri:te.a,Token:E.l}}},QuOb:function(mn,U,a){"use strict";a.d(U,"a",function(){return E});var ce=a("w4Tj"),we=a("oZsa"),w=a("yKVA"),ve=a("879j"),se=a("fWQN"),te=a("mtLc"),$=a("MI8n"),_=a("pmY6"),Y=function(){function N(H,d,D,C,x,O,T){Object(se.a)(this,N),this._forceIntegerValues=H,this._scrollStateBrand=void 0,this._forceIntegerValues&&(d=d|0,D=D|0,C=C|0,x=x|0,O=O|0,T=T|0),this.rawScrollLeft=C,this.rawScrollTop=T,d<0&&(d=0),C+d>D&&(C=D-d),C<0&&(C=0),x<0&&(x=0),T+x>O&&(T=O-x),T<0&&(T=0),this.width=d,this.scrollWidth=D,this.scrollLeft=C,this.height=x,this.scrollHeight=O,this.scrollTop=T}return Object(te.a)(N,[{key:"equals",value:function(d){return this.rawScrollLeft===d.rawScrollLeft&&this.rawScrollTop===d.rawScrollTop&&this.width===d.width&&this.scrollWidth===d.scrollWidth&&this.scrollLeft===d.scrollLeft&&this.height===d.height&&this.scrollHeight===d.scrollHeight&&this.scrollTop===d.scrollTop}},{key:"withScrollDimensions",value:function(d,D){return new N(this._forceIntegerValues,typeof d.width!="undefined"?d.width:this.width,typeof d.scrollWidth!="undefined"?d.scrollWidth:this.scrollWidth,D?this.rawScrollLeft:this.scrollLeft,typeof d.height!="undefined"?d.height:this.height,typeof d.scrollHeight!="undefined"?d.scrollHeight:this.scrollHeight,D?this.rawScrollTop:this.scrollTop)}},{key:"withScrollPosition",value:function(d){return new N(this._forceIntegerValues,this.width,this.scrollWidth,typeof d.scrollLeft!="undefined"?d.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof d.scrollTop!="undefined"?d.scrollTop:this.rawScrollTop)}},{key:"createScrollEvent",value:function(d,D){var C=this.width!==d.width,x=this.scrollWidth!==d.scrollWidth,O=this.scrollLeft!==d.scrollLeft,T=this.height!==d.height,z=this.scrollHeight!==d.scrollHeight,I=this.scrollTop!==d.scrollTop;return{inSmoothScrolling:D,oldWidth:d.width,oldScrollWidth:d.scrollWidth,oldScrollLeft:d.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:d.height,oldScrollHeight:d.scrollHeight,oldScrollTop:d.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:C,scrollWidthChanged:x,scrollLeftChanged:O,heightChanged:T,scrollHeightChanged:z,scrollTopChanged:I}}}]),N}(),E=function(N){Object(w.a)(d,N);var H=Object(ve.a)(d);function d(D){var C;return Object(se.a)(this,d),C=H.call(this),C._scrollableBrand=void 0,C._onScroll=C._register(new $.b),C.onScroll=C._onScroll.event,C._smoothScrollDuration=D.smoothScrollDuration,C._scheduleAtNextAnimationFrame=D.scheduleAtNextAnimationFrame,C._state=new Y(D.forceIntegerValues,0,0,0,0,0,0),C._smoothScrolling=null,C}return Object(te.a)(d,[{key:"dispose",value:function(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),Object(ce.a)(Object(we.a)(d.prototype),"dispose",this).call(this)}},{key:"setSmoothScrollDuration",value:function(C){this._smoothScrollDuration=C}},{key:"validateScrollPosition",value:function(C){return this._state.withScrollPosition(C)}},{key:"getScrollDimensions",value:function(){return this._state}},{key:"setScrollDimensions",value:function(C,x){var O,T=this._state.withScrollDimensions(C,x);this._setState(T,Boolean(this._smoothScrolling)),(O=this._smoothScrolling)===null||O===void 0||O.acceptScrollDimensions(this._state)}},{key:"getFutureScrollPosition",value:function(){return this._smoothScrolling?this._smoothScrolling.to:this._state}},{key:"getCurrentScrollPosition",value:function(){return this._state}},{key:"setScrollPositionNow",value:function(C){var x=this._state.withScrollPosition(C);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(x,!1)}},{key:"setScrollPositionSmooth",value:function(C,x){var O=this;if(this._smoothScrollDuration===0)return this.setScrollPositionNow(C);if(this._smoothScrolling){C={scrollLeft:typeof C.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:C.scrollLeft,scrollTop:typeof C.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:C.scrollTop};var T=this._state.withScrollPosition(C);if(this._smoothScrolling.to.scrollLeft===T.scrollLeft&&this._smoothScrolling.to.scrollTop===T.scrollTop)return;var z;x?z=new B(this._smoothScrolling.from,T,this._smoothScrolling.startTime,this._smoothScrolling.duration):z=this._smoothScrolling.combine(this._state,T,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=z}else{var I=this._state.withScrollPosition(C);this._smoothScrolling=B.start(this._state,I,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){!O._smoothScrolling||(O._smoothScrolling.animationFrameDisposable=null,O._performSmoothScrolling())})}},{key:"hasPendingScrollAnimation",value:function(){return Boolean(this._smoothScrolling)}},{key:"_performSmoothScrolling",value:function(){var C=this;if(!!this._smoothScrolling){var x=this._smoothScrolling.tick(),O=this._state.withScrollPosition(x);if(this._setState(O,!0),!!this._smoothScrolling){if(x.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){!C._smoothScrolling||(C._smoothScrolling.animationFrameDisposable=null,C._performSmoothScrolling())})}}}},{key:"_setState",value:function(C,x){var O=this._state;O.equals(C)||(this._state=C,this._onScroll.fire(this._state.createScrollEvent(O,x)))}}]),d}(_.a),Z=Object(te.a)(function N(H,d,D){Object(se.a)(this,N),this.scrollLeft=H,this.scrollTop=d,this.isDone=D});function ne(N,H){var d=H-N;return function(D){return N+d*W(D)}}function V(N,H,d){return function(D){return D<d?N(D/d):H((D-d)/(1-d))}}var B=function(){function N(H,d,D,C){Object(se.a)(this,N),this.from=H,this.to=d,this.duration=C,this.startTime=D,this.animationFrameDisposable=null,this._initAnimations()}return Object(te.a)(N,[{key:"_initAnimations",value:function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}},{key:"_initAnimation",value:function(d,D,C){var x=Math.abs(d-D);if(x>2.5*C){var O,T;return d<D?(O=d+.75*C,T=D-.75*C):(O=d-.75*C,T=D+.75*C),V(ne(d,O),ne(T,D),.33)}return ne(d,D)}},{key:"dispose",value:function(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}},{key:"acceptScrollDimensions",value:function(d){this.to=d.withScrollPosition(this.to),this._initAnimations()}},{key:"tick",value:function(){return this._tick(Date.now())}},{key:"_tick",value:function(d){var D=(d-this.startTime)/this.duration;if(D<1){var C=this.scrollLeft(D),x=this.scrollTop(D);return new Z(C,x,!1)}return new Z(this.to.scrollLeft,this.to.scrollTop,!0)}},{key:"combine",value:function(d,D,C){return N.start(d,D,C)}}],[{key:"start",value:function(d,D,C){C=C+10;var x=Date.now()-10;return new N(d,D,x,C)}}]),N}();function F(N){return Math.pow(N,3)}function W(N){return 1-F(1-N)}},R3nR:function(mn,U,a){"use strict";a.d(U,"b",function(){return w}),a.d(U,"a",function(){return ve});var ce=a("T8No"),we=a("Cg/j"),w=Object(we.c)("accessibilityService"),ve=new ce.c("accessibilityModeEnabled",!1)},R8sh:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("labelService")},REzY:function(mn,U,a){},S3by:function(mn,U,a){"use strict";var ce=a("N0LK"),we;(function(w){w[w.Ignore=0]="Ignore",w[w.Info=1]="Info",w[w.Warning=2]="Warning",w[w.Error=3]="Error"})(we||(we={})),function(w){var ve="error",se="warning",te="warn",$="info",_="ignore";function Y(Z){return Z?ce.r(ve,Z)?w.Error:ce.r(se,Z)||ce.r(te,Z)?w.Warning:ce.r($,Z)?w.Info:w.Ignore:w.Ignore}w.fromValue=Y;function E(Z){switch(Z){case w.Error:return ve;case w.Warning:return se;case w.Info:return $;default:return _}}w.toString=E}(we||(we={})),U.a=we},S76h:function(mn,U,a){},SDKL:function(mn,U,a){},"SE9/":function(mn,U,a){"use strict";var ce=a("q1tI");function we(d,D){return $(d)||te(d,D)||ve(d,D)||w()}function w(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ve(d,D){if(!!d){if(typeof d=="string")return se(d,D);var C=Object.prototype.toString.call(d).slice(8,-1);if(C==="Object"&&d.constructor&&(C=d.constructor.name),C==="Map"||C==="Set")return Array.from(d);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return se(d,D)}}function se(d,D){(D==null||D>d.length)&&(D=d.length);for(var C=0,x=new Array(D);C<D;C++)x[C]=d[C];return x}function te(d,D){var C=d&&(typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"]);if(C!=null){var x=[],O=!0,T=!1,z,I;try{for(C=C.call(d);!(O=(z=C.next()).done)&&(x.push(z.value),!(D&&x.length===D));O=!0);}catch(de){T=!0,I=de}finally{try{!O&&C.return!=null&&C.return()}finally{if(T)throw I}}return x}}function $(d){if(Array.isArray(d))return d}function _(d){var D=typeof window=="undefined",C=Object(ce.useState)(function(){return D?!1:window.matchMedia(d).matches}),x=we(C,2),O=x[0],T=x[1];return Object(ce.useLayoutEffect)(function(){if(!D){var z=window.matchMedia(d),I=function(pe){return T(pe.matches)};return z.addListener(I),function(){return z.removeListener(I)}}},[d]),O}function Y(d,D){return B(d)||V(d,D)||Z(d,D)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z(d,D){if(!!d){if(typeof d=="string")return ne(d,D);var C=Object.prototype.toString.call(d).slice(8,-1);if(C==="Object"&&d.constructor&&(C=d.constructor.name),C==="Map"||C==="Set")return Array.from(d);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return ne(d,D)}}function ne(d,D){(D==null||D>d.length)&&(D=d.length);for(var C=0,x=new Array(D);C<D;C++)x[C]=d[C];return x}function V(d,D){var C=d&&(typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"]);if(C!=null){var x=[],O=!0,T=!1,z,I;try{for(C=C.call(d);!(O=(z=C.next()).done)&&(x.push(z.value),!(D&&x.length===D));O=!0);}catch(de){T=!0,I=de}finally{try{!O&&C.return!=null&&C.return()}finally{if(T)throw I}}return x}}function B(d){if(Array.isArray(d))return d}var F={xs:{maxWidth:575,matchMedia:"(max-width: 575px)"},sm:{minWidth:576,maxWidth:767,matchMedia:"(min-width: 576px) and (max-width: 767px)"},md:{minWidth:768,maxWidth:991,matchMedia:"(min-width: 768px) and (max-width: 991px)"},lg:{minWidth:992,maxWidth:1199,matchMedia:"(min-width: 992px) and (max-width: 1199px)"},xl:{minWidth:1200,maxWidth:1599,matchMedia:"(min-width: 1200px) and (max-width: 1599px)"},xxl:{minWidth:1600,matchMedia:"(min-width: 1600px)"}},W=function(){var D="md";if(typeof window=="undefined")return D;var C=Object.keys(F).find(function(x){var O=F[x].matchMedia;return!!window.matchMedia(O).matches});return D=C,D},N=function(){var D=_(F.md.matchMedia),C=_(F.lg.matchMedia),x=_(F.xxl.matchMedia),O=_(F.xl.matchMedia),T=_(F.sm.matchMedia),z=_(F.xs.matchMedia),I=Object(ce.useState)(W()),de=Y(I,2),pe=de[0],fe=de[1];return Object(ce.useEffect)(function(){if(x){fe("xxl");return}if(O){fe("xl");return}if(C){fe("lg");return}if(D){fe("md");return}if(T){fe("sm");return}if(z){fe("xs");return}fe("md")},[D,C,x,O,T,z]),pe},H=U.a=N},SMG5:function(mn,U,a){"use strict";a.d(U,"b",function(){return V}),a.d(U,"a",function(){return F});var ce=a("qLMh"),we=a("fWQN"),w=a("mtLc"),ve=a("EffR"),se=a("X+cX"),te=a("JQT/"),$=a("eLzo"),_=a("EJc0"),Y=a("pmY6"),E=a("746U"),Z=a("3/fG"),ne=function(W,N,H,d){function D(C){return C instanceof H?C:new H(function(x){x(C)})}return new(H||(H=Promise))(function(C,x){function O(I){try{z(d.next(I))}catch(de){x(de)}}function T(I){try{z(d.throw(I))}catch(de){x(de)}}function z(I){I.done?C(I.value):D(I.value).then(O,T)}z((d=d.apply(W,N||[])).next())})};function V(W,N){Object(E.i)(N)?W.title=Object(_.f)(N):(N==null?void 0:N.markdownNotSupportedFallback)?W.title=N.markdownNotSupportedFallback:W.removeAttribute("title")}var B=function(){function W(N,H,d){Object(we.a)(this,W),this.hoverDelegate=N,this.target=H,this.fadeInAnimation=d}return Object(w.a)(W,[{key:"update",value:function(H,d,D){var C;return ne(this,void 0,void 0,Object(ce.a)().mark(function x(){var O,T;return Object(ce.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),!this.isDisposed){I.next=3;break}return I.abrupt("return");case 3:if(!(H===void 0||Object(E.i)(H)||H instanceof HTMLElement)){I.next=7;break}O=H,I.next=20;break;case 7:if(Object(E.e)(H.markdown)){I.next=11;break}O=(C=H.markdown)!==null&&C!==void 0?C:H.markdownNotSupportedFallback,I.next=20;break;case 11:return this._hoverWidget||this.show(Object(Z.b)("iconLabel.loading","Loading..."),d),this._cancellationTokenSource=new te.b,T=this._cancellationTokenSource.token,I.next=16,H.markdown(T);case 16:if(O=I.sent,O===void 0&&(O=H.markdownNotSupportedFallback),!(this.isDisposed||T.isCancellationRequested)){I.next=20;break}return I.abrupt("return");case 20:this.show(O,d,D);case 21:case"end":return I.stop()}},x,this)}))}},{key:"show",value:function(H,d,D){var C=this._hoverWidget;if(this.hasContent(H)){var x=Object.assign({content:H,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!C},D);this._hoverWidget=this.hoverDelegate.showHover(x,d)}C==null||C.dispose()}},{key:"hasContent",value:function(H){return H?Object($.d)(H)?!!H.value:!0:!1}},{key:"isDisposed",get:function(){var H;return(H=this._hoverWidget)===null||H===void 0?void 0:H.isDisposed}},{key:"dispose",value:function(){var H,d;(H=this._hoverWidget)===null||H===void 0||H.dispose(),(d=this._cancellationTokenSource)===null||d===void 0||d.dispose(!0),this._cancellationTokenSource=void 0}}]),W}();function F(W,N,H,d){var D=this,C,x,O=function(fe,ke){var A,P=x!==void 0;fe&&(x==null||x.dispose(),x=void 0),ke&&(C==null||C.dispose(),C=void 0),P&&((A=W.onDidHideHover)===null||A===void 0||A.call(W))},T=function(fe,ke,A){return new se.i(function(){return ne(D,void 0,void 0,Object(ce.a)().mark(function P(){return Object(ce.a)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!(!x||x.isDisposed)){re.next=4;break}return x=new B(W,A||N,fe>0),re.next=4,x.update(H,ke,d);case 4:case"end":return re.stop()}},P)}))},fe)},z=function(){if(!C){var fe=new Y.c,ke=function(ae){return O(!1,ae.fromElement===N)};fe.add(ve.addDisposableListener(N,ve.EventType.MOUSE_LEAVE,ke,!0));var A=function(){return O(!0,!0)};fe.add(ve.addDisposableListener(N,ve.EventType.MOUSE_DOWN,A,!0));var P={targetElements:[N],dispose:function(){}};if(W.placement===void 0||W.placement==="mouse"){var G=function(ae){P.x=ae.x+10,ae.target instanceof HTMLElement&&ae.target.classList.contains("action-label")&&O(!0,!0)};fe.add(ve.addDisposableListener(N,ve.EventType.MOUSE_MOVE,G,!0))}fe.add(T(W.delay,!1,P)),C=fe}},I=ve.addDisposableListener(N,ve.EventType.MOUSE_OVER,z,!0),de={show:function(fe){O(!1,!0),T(0,fe)},hide:function(){O(!0,!0)},update:function(fe,ke){return ne(D,void 0,void 0,Object(ce.a)().mark(function A(){return Object(ce.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return H=fe,G.next=3,x==null?void 0:x.update(H,void 0,ke);case 3:case"end":return G.stop()}},A)}))},dispose:function(){I.dispose(),O(!0,!0)}};return de}},Sdnv:function(mn,U,a){"use strict";a.d(U,"c",function(){return w}),a.d(U,"a",function(){return ve}),a.d(U,"b",function(){return se});var ce=a("fWQN"),we=a("mtLc");function w(te,$,_){return Math.min(Math.max(te,$),_)}var ve=function(){function te(){Object(ce.a)(this,te),this._n=1,this._val=0}return Object(we.a)(te,[{key:"update",value:function(_){return this._val=this._val+(_-this._val)/this._n,this._n+=1,this._val}},{key:"value",get:function(){return this._val}}]),te}(),se=function(){function te($){Object(ce.a)(this,te),this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array($),this._values.fill(0,0,$)}return Object(we.a)(te,[{key:"update",value:function(_){var Y=this._values[this._index];return this._values[this._index]=_,this._index=(this._index+1)%this._values.length,this._sum-=Y,this._sum+=_,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}},{key:"value",get:function(){return this._val}}]),te}()},SmQN:function(mn,U,a){"use strict";a.d(U,"a",function(){return Dn});var ce=a("tS8v"),we=a("w4Tj"),w=a("oZsa"),ve=a("yKVA"),se=a("879j"),te=a("rAM+"),$=a("fWQN"),_=a("mtLc"),Y=a("EffR"),E=a("ZlPH"),Z=a("c9Qy"),ne=a("51su"),V=a("cMOf"),B=a("FWmy"),F=a("X+cX"),W=a("Vhoy"),N=a("/cxE"),H=a("MI8n"),d=a("eLzo"),D=a("pmY6"),C=a("T5lh"),x=a("lKfe"),O=a("DMKg"),T=a("o39E"),z=a("sswD"),I=a("Vxe3"),de=a("OQeR"),pe=a("nB0o"),fe=a("0Lb2"),ke=a("qLMh"),A=a("WqXY"),P=a("GJhM"),G=a("8HAY"),re=a("DTDp"),ae=a("/UlZ"),Q=a("cGHE"),J=a("CGdd"),me=a("zhcO"),ge=a("baJR"),L=a("YNuV"),De=a("3/fG"),Ae=a("oF4g"),Oe=a("+7oY"),Pe=a("T8No"),Ne=a("v1vZ"),Fe=function(ti,bi,Kn,En){var Nt=arguments.length,Gt=Nt<3?bi:En===null?En=Object.getOwnPropertyDescriptor(bi,Kn):En,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Gt=Reflect.decorate(ti,bi,Kn,En);else for(var Ye=ti.length-1;Ye>=0;Ye--)(mt=ti[Ye])&&(Gt=(Nt<3?mt(Gt):Nt>3?mt(bi,Kn,Gt):mt(bi,Kn))||Gt);return Nt>3&&Gt&&Object.defineProperty(bi,Kn,Gt),Gt},Xe=function(ti,bi){return function(Kn,En){bi(Kn,En,ti)}},Et=function(ti,bi,Kn,En){function Nt(Gt){return Gt instanceof Kn?Gt:new Kn(function(mt){mt(Gt)})}return new(Kn||(Kn=Promise))(function(Gt,mt){function Ye(Ze){try{nt(En.next(Ze))}catch(Zt){mt(Zt)}}function vn(Ze){try{nt(En.throw(Ze))}catch(Zt){mt(Zt)}}function nt(Ze){Ze.done?Gt(Ze.value):Nt(Ze.value).then(Ye,vn)}nt((En=En.apply(ti,bi||[])).next())})},Ft=3,Ot=function(){function ti(bi,Kn,En,Nt){Object($.a)(this,ti),this.originalLineStart=bi,this.originalLineEnd=Kn,this.modifiedLineStart=En,this.modifiedLineEnd=Nt}return Object(_.a)(ti,[{key:"getType",value:function(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}]),ti}(),pt=Object(_.a)(function ti(bi){Object($.a)(this,ti),this.entries=bi}),Lt=Object(Ne.b)("diff-review-insert",W.a.add,De.b("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),et=Object(Ne.b)("diff-review-remove",W.a.remove,De.b("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),Vt=Object(Ne.b)("diff-review-close",W.a.close,De.b("diffReviewCloseIcon","Icon for 'Close' in diff review.")),Re=function(ti){Object(ve.a)(Kn,ti);var bi=Object(se.a)(Kn);function Kn(En,Nt,Gt,mt){var Ye;return Object($.a)(this,Kn),Ye=bi.call(this),Ye._languageService=Nt,Ye._audioCueService=Gt,Ye._configurationService=mt,Ye._width=0,Ye._diffEditor=En,Ye._isVisible=!1,Ye.shadow=Object(E.b)(document.createElement("div")),Ye.shadow.setClassName("diff-review-shadow"),Ye.actionBarContainer=Object(E.b)(document.createElement("div")),Ye.actionBarContainer.setClassName("diff-review-actions"),Ye._actionBar=Ye._register(new A.a(Ye.actionBarContainer.domNode)),Ye._actionBar.push(new G.a("diffreview.close",De.b("label.close","Close"),"close-diff-review "+C.a.asClassName(Vt),!0,function(){return Et(Object(ce.a)(Ye),void 0,void 0,Object(ke.a)().mark(function vn(){return Object(ke.a)().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.abrupt("return",this.hide());case 1:case"end":return Ze.stop()}},vn,this)}))}),{label:!1,icon:!0}),Ye.domNode=Object(E.b)(document.createElement("div")),Ye.domNode.setClassName("diff-review monaco-editor-background"),Ye._content=Object(E.b)(document.createElement("div")),Ye._content.setClassName("diff-review-content"),Ye._content.setAttribute("role","code"),Ye.scrollbar=Ye._register(new P.a(Ye._content.domNode,{})),Ye.domNode.domNode.appendChild(Ye.scrollbar.getDomNode()),Ye._register(En.onDidUpdateDiff(function(){!Ye._isVisible||(Ye._diffs=Ye._compute(),Ye._render())})),Ye._register(En.getModifiedEditor().onDidChangeCursorPosition(function(){!Ye._isVisible||Ye._render()})),Ye._register(Y.addStandardDisposableListener(Ye.domNode.domNode,"click",function(vn){vn.preventDefault();var nt=Y.findParentWithClass(vn.target,"diff-review-row");nt&&Ye._goToRow(nt)})),Ye._register(Y.addStandardDisposableListener(Ye.domNode.domNode,"keydown",function(vn){(vn.equals(18)||vn.equals(2048|18)||vn.equals(512|18))&&(vn.preventDefault(),Ye._goToRow(Ye._getNextRow(),"next")),(vn.equals(16)||vn.equals(2048|16)||vn.equals(512|16))&&(vn.preventDefault(),Ye._goToRow(Ye._getPrevRow(),"previous")),(vn.equals(9)||vn.equals(2048|9)||vn.equals(512|9)||vn.equals(1024|9)||vn.equals(10)||vn.equals(3))&&(vn.preventDefault(),Ye.accept())})),Ye._register(Ye._configurationService.onDidChangeConfiguration(function(vn){vn.affectsConfiguration("accessibility.verbosity.diffEditor")&&Ye._diffEditor.updateOptions({accessibilityVerbose:Ye._configurationService.getValue("accessibility.verbosity.diffEditor")})})),Ye._diffs=[],Ye._currentDiff=null,Ye}return Object(_.a)(Kn,[{key:"prev",value:function(){var Nt=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var Gt=-1,mt=0,Ye=this._diffs.length;mt<Ye;mt++)if(this._diffs[mt]===this._currentDiff){Gt=mt;break}Nt=this._diffs.length+Gt-1}else Nt=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length!==0){Nt=Nt%this._diffs.length;var vn=this._diffs[Nt].entries;this._diffEditor.setPosition(new Q.a(vn[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:vn[0].modifiedLineStart,endColumn:1073741824,endLineNumber:vn[vn.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getPrevRow(),"previous")}}},{key:"next",value:function(){var Nt=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var Gt=-1,mt=0,Ye=this._diffs.length;mt<Ye;mt++)if(this._diffs[mt]===this._currentDiff){Gt=mt;break}Nt=Gt+1}else Nt=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length!==0){Nt=Nt%this._diffs.length;var vn=this._diffs[Nt].entries;this._diffEditor.setPosition(new Q.a(vn[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:vn[0].modifiedLineStart,endColumn:1073741824,endLineNumber:vn[vn.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow(),"next")}}},{key:"accept",value:function(){var Nt=-1,Gt=this._getCurrentFocusedRow();if(Gt){var mt=parseInt(Gt.getAttribute("data-line"),10);isNaN(mt)||(Nt=mt)}this.hide(),Nt!==-1&&(this._diffEditor.setPosition(new Q.a(Nt,1)),this._diffEditor.revealPosition(new Q.a(Nt,1),1))}},{key:"hide",value:function(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}},{key:"_getPrevRow",value:function(){var Nt=this._getCurrentFocusedRow();return Nt?Nt.previousElementSibling?Nt.previousElementSibling:Nt:this._getFirstRow()}},{key:"_getNextRow",value:function(){var Nt=this._getCurrentFocusedRow();return Nt?Nt.nextElementSibling?Nt.nextElementSibling:Nt:this._getFirstRow()}},{key:"_getFirstRow",value:function(){return this.domNode.domNode.querySelector(".diff-review-row")}},{key:"_getCurrentFocusedRow",value:function(){var Nt=document.activeElement;return Nt&&/diff-review-row/.test(Nt.className)?Nt:null}},{key:"_goToRow",value:function(Nt,Gt){var mt=this._getCurrentFocusedRow();Nt.tabIndex=0,Nt.focus(),mt&&mt!==Nt&&(mt.tabIndex=-1);var Ye=Gt?Gt==="next"?mt==null?void 0:mt.nextElementSibling:mt==null?void 0:mt.previousElementSibling:mt;(Ye==null?void 0:Ye.classList.contains("line-insert"))?this._audioCueService.playAudioCue(Ae.a.diffLineInserted,!0):(Ye==null?void 0:Ye.classList.contains("line-delete"))&&this._audioCueService.playAudioCue(Ae.a.diffLineDeleted,!0),this.scrollbar.scanDomNode()}},{key:"isVisible",value:function(){return this._isVisible}},{key:"layout",value:function(Nt,Gt,mt){this._width=Gt,this.shadow.setTop(Nt-6),this.shadow.setWidth(Gt),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(Nt),this.domNode.setWidth(Gt),this.domNode.setHeight(mt),this._content.setHeight(mt),this._content.setWidth(Gt),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}},{key:"_compute",value:function(){var Nt=this._diffEditor.getLineChanges();if(!Nt||Nt.length===0)return[];var Gt=this._diffEditor.getOriginalEditor().getModel(),mt=this._diffEditor.getModifiedEditor().getModel();return!Gt||!mt?[]:Kn._mergeAdjacent(Nt,Gt.getLineCount(),mt.getLineCount())}},{key:"_findDiffIndex",value:function(Nt){for(var Gt=Nt.lineNumber,mt=0,Ye=this._diffs.length;mt<Ye;mt++){var vn=this._diffs[mt].entries,nt=vn[vn.length-1].modifiedLineEnd;if(Gt<=nt)return mt}return 0}},{key:"_render",value:function(){var Nt=this._diffEditor.getOriginalEditor().getOptions(),Gt=this._diffEditor.getModifiedEditor().getOptions(),mt=this._diffEditor.getOriginalEditor().getModel(),Ye=this._diffEditor.getModifiedEditor().getModel(),vn=mt.getOptions(),nt=Ye.getOptions();if(!this._isVisible||!mt||!Ye){Y.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});var Ze=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Ze]!==this._currentDiff){this._currentDiff=this._diffs[Ze];var Zt=this._diffs[Ze].entries,hn=document.createElement("div");hn.className="diff-review-table",hn.setAttribute("role","list"),hn.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),Object(O.a)(hn,Gt.get(48));for(var Ht=0,lt=0,si=0,Oi=0,Ji=0,Wi=Zt.length;Ji<Wi;Ji++){var Yi=Zt[Ji],Bi=Yi.originalLineStart,Gi=Yi.originalLineEnd,Gr=Yi.modifiedLineStart,kr=Yi.modifiedLineEnd;Bi!==0&&(Ht===0||Bi<Ht)&&(Ht=Bi),Gi!==0&&(lt===0||Gi>lt)&&(lt=Gi),Gr!==0&&(si===0||Gr<si)&&(si=Gr),kr!==0&&(Oi===0||kr>Oi)&&(Oi=kr)}var sa=document.createElement("div");sa.className="diff-review-row";var Fr=document.createElement("div");Fr.className="diff-review-cell diff-review-summary";var ua=lt-Ht+1,pn=Oi-si+1;Fr.appendChild(document.createTextNode("".concat(Ze+1,"/").concat(this._diffs.length,": @@ -").concat(Ht,",").concat(ua," +").concat(si,",").concat(pn," @@"))),sa.setAttribute("data-line",String(si));var Ln=function(oi){return oi===0?De.b("no_lines_changed","no lines changed"):oi===1?De.b("one_line_changed","1 line changed"):De.b("more_lines_changed","{0} lines changed",oi)},ct=Ln(ua),Mt=Ln(pn);sa.setAttribute("aria-label",De.b({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",Ze+1,this._diffs.length,Ht,ct,si,Mt)),sa.appendChild(Fr),sa.setAttribute("role","listitem"),hn.appendChild(sa);for(var At=Gt.get(64),zt=si,$t=0,Un=Zt.length;$t<Un;$t++){var Vn=Zt[$t];Kn._renderSection(hn,Vn,zt,At,this._width,Nt,mt,vn,Gt,Ye,nt,this._languageService.languageIdCodec),Vn.modifiedLineStart!==0&&(zt=Vn.modifiedLineEnd)}Y.clearNode(this._content.domNode),this._content.domNode.appendChild(hn),this.scrollbar.scanDomNode()}}}],[{key:"_mergeAdjacent",value:function(Nt,Gt,mt){if(!Nt||Nt.length===0)return[];for(var Ye=[],vn=0,nt=0,Ze=Nt.length;nt<Ze;nt++){var Zt=Nt[nt],hn=Zt.originalStartLineNumber,Ht=Zt.originalEndLineNumber,lt=Zt.modifiedStartLineNumber,si=Zt.modifiedEndLineNumber,Oi=[],Ji=0;{var Wi=Ht===0?hn:hn-1,Yi=si===0?lt:lt-1,Bi=1,Gi=1;if(nt>0){var Gr=Nt[nt-1];Gr.originalEndLineNumber===0?Bi=Gr.originalStartLineNumber+1:Bi=Gr.originalEndLineNumber+1,Gr.modifiedEndLineNumber===0?Gi=Gr.modifiedStartLineNumber+1:Gi=Gr.modifiedEndLineNumber+1}var kr=Wi-Ft+1,sa=Yi-Ft+1;if(kr<Bi){var Fr=Bi-kr;kr=kr+Fr,sa=sa+Fr}if(sa<Gi){var ua=Gi-sa;kr=kr+ua,sa=sa+ua}Oi[Ji++]=new Ot(kr,Wi,sa,Yi)}Ht!==0&&(Oi[Ji++]=new Ot(hn,Ht,0,0)),si!==0&&(Oi[Ji++]=new Ot(0,0,lt,si));{var pn=Ht===0?hn+1:Ht+1,Ln=si===0?lt+1:si+1,ct=Gt,Mt=mt;if(nt+1<Ze){var At=Nt[nt+1];At.originalEndLineNumber===0?ct=At.originalStartLineNumber:ct=At.originalStartLineNumber-1,At.modifiedEndLineNumber===0?Mt=At.modifiedStartLineNumber:Mt=At.modifiedStartLineNumber-1}var zt=pn+Ft-1,$t=Ln+Ft-1;if(zt>ct){var Un=ct-zt;zt=zt+Un,$t=$t+Un}if($t>Mt){var Vn=Mt-$t;zt=zt+Vn,$t=$t+Vn}Oi[Ji++]=new Ot(pn,zt,Ln,$t)}Ye[vn++]=new pt(Oi)}for(var Gn=Ye[0].entries,oi=[],_i=0,Cn=1,ui=Ye.length;Cn<ui;Cn++){var Si=Ye[Cn].entries,Ui=Gn[Gn.length-1],Lr=Si[0];if(Ui.getType()===0&&Lr.getType()===0&&Lr.originalLineStart<=Ui.originalLineEnd){Gn[Gn.length-1]=new Ot(Ui.originalLineStart,Lr.originalLineEnd,Ui.modifiedLineStart,Lr.modifiedLineEnd),Gn=Gn.concat(Si.slice(1));continue}oi[_i++]=new pt(Gn),Gn=Si}return oi[_i++]=new pt(Gn),oi}},{key:"_renderSection",value:function(Nt,Gt,mt,Ye,vn,nt,Ze,Zt,hn,Ht,lt,si){var Oi=Gt.getType(),Ji="diff-review-row",Wi="",Yi="diff-review-spacer",Bi=null;switch(Oi){case 1:Ji="diff-review-row line-insert",Wi=" char-insert",Bi=Lt;break;case 2:Ji="diff-review-row line-delete",Wi=" char-delete",Bi=et;break}for(var Gi=Gt.originalLineStart,Gr=Gt.originalLineEnd,kr=Gt.modifiedLineStart,sa=Gt.modifiedLineEnd,Fr=Math.max(sa-kr,Gr-Gi),ua=nt.get(140),pn=ua.glyphMarginWidth+ua.lineNumbersWidth,Ln=hn.get(140),ct=10+Ln.glyphMarginWidth+Ln.lineNumbersWidth,Mt=0;Mt<=Fr;Mt++){var At=Gi===0?0:Gi+Mt,zt=kr===0?0:kr+Mt,$t=document.createElement("div");$t.style.minWidth=vn+"px",$t.className=Ji,$t.setAttribute("role","listitem"),zt!==0&&(mt=zt),$t.setAttribute("data-line",String(mt));var Un=document.createElement("div");Un.className="diff-review-cell",Un.style.height="".concat(Ye,"px"),$t.appendChild(Un);var Vn=document.createElement("span");Vn.style.width=pn+"px",Vn.style.minWidth=pn+"px",Vn.className="diff-review-line-number"+Wi,At!==0?Vn.appendChild(document.createTextNode(String(At))):Vn.innerText="\xA0",Un.appendChild(Vn);var Gn=document.createElement("span");Gn.style.width=ct+"px",Gn.style.minWidth=ct+"px",Gn.style.paddingRight="10px",Gn.className="diff-review-line-number"+Wi,zt!==0?Gn.appendChild(document.createTextNode(String(zt))):Gn.innerText="\xA0",Un.appendChild(Gn);var oi=document.createElement("span");if(oi.className=Yi,Bi){var _i=document.createElement("span");_i.className=C.a.asClassName(Bi),_i.innerText="\xA0\xA0",oi.appendChild(_i)}else oi.innerText="\xA0\xA0";Un.appendChild(oi);var Cn=void 0;if(zt!==0){var ui=this._renderLine(Ht,hn,lt.tabSize,zt,si);Kn._ttPolicy&&(ui=Kn._ttPolicy.createHTML(ui)),Un.insertAdjacentHTML("beforeend",ui),Cn=Ht.getLineContent(zt)}else{var Si=this._renderLine(Ze,nt,Zt.tabSize,At,si);Kn._ttPolicy&&(Si=Kn._ttPolicy.createHTML(Si)),Un.insertAdjacentHTML("beforeend",Si),Cn=Ze.getLineContent(At)}Cn.length===0&&(Cn=De.b("blankLine","blank"));var Ui="";switch(Oi){case 0:At===zt?Ui=De.b({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Cn,At):Ui=De.b("equalLine","{0} original line {1} modified line {2}",Cn,At,zt);break;case 1:Ui=De.b("insertLine","+ {0} modified line {1}",Cn,zt);break;case 2:Ui=De.b("deleteLine","- {0} original line {1}",Cn,At);break}$t.setAttribute("aria-label",Ui),Nt.appendChild($t)}}},{key:"_renderLine",value:function(Nt,Gt,mt,Ye,vn){var nt=Nt.getLineContent(Ye),Ze=Gt.get(48),Zt=me.a.createEmpty(nt,vn),hn=L.f.isBasicASCII(nt,Nt.mightContainNonBasicASCII()),Ht=L.f.containsRTL(nt,hn,Nt.mightContainRTL()),lt=Object(ge.e)(new ge.c(Ze.isMonospace&&!Gt.get(31),Ze.canUseHalfwidthRightwardsArrow,nt,!1,hn,Ht,0,Zt,[],mt,0,Ze.spaceWidth,Ze.middotWidth,Ze.wsmiddotWidth,Gt.get(113),Gt.get(95),Gt.get(90),Gt.get(49)!==ae.e.OFF,null));return lt.html}}]),Kn}(D.a);Re._ttPolicy=Object(Z.a)("diffReview",{createHTML:function(bi){return bi}}),Re=Fe([Xe(1,J.a),Xe(2,Ae.b),Xe(3,Oe.a)],Re);var Ce=function(ti){Object(ve.a)(Kn,ti);var bi=Object(se.a)(Kn);function Kn(){return Object($.a)(this,Kn),bi.call(this,{id:"editor.action.diffReview.next",label:De.b("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Pe.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}return Object(_.a)(Kn,[{key:"run",value:function(Nt,Gt){var mt=Te(Nt);mt==null||mt.diffReviewNext()}}]),Kn}(z.b),ye=function(ti){Object(ve.a)(Kn,ti);var bi=Object(se.a)(Kn);function Kn(){return Object($.a)(this,Kn),bi.call(this,{id:"editor.action.diffReview.prev",label:De.b("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Pe.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}return Object(_.a)(Kn,[{key:"run",value:function(Nt,Gt){var mt=Te(Nt);mt==null||mt.diffReviewPrev()}}]),Kn}(z.b);function Te(ti){var bi,Kn=ti.get(I.a),En=Kn.listDiffEditors(),Nt=(bi=Kn.getFocusedCodeEditor())!==null&&bi!==void 0?bi:Kn.getActiveCodeEditor();if(!Nt)return null;for(var Gt=0,mt=En.length;Gt<mt;Gt++){var Ye=En[Gt];if(Ye.getModifiedEditor().getId()===Nt.getId()||Ye.getOriginalEditor().getId()===Nt.getId())return Ye}return null}Object(z.k)(Ce),Object(z.k)(ye);var Qe=a("aokT"),$e=a("MNsG"),ze=function(ti,bi,Kn,En){function Nt(Gt){return Gt instanceof Kn?Gt:new Kn(function(mt){mt(Gt)})}return new(Kn||(Kn=Promise))(function(Gt,mt){function Ye(Ze){try{nt(En.next(Ze))}catch(Zt){mt(Zt)}}function vn(Ze){try{nt(En.throw(Ze))}catch(Zt){mt(Zt)}}function nt(Ze){Ze.done?Gt(Ze.value):Nt(Ze.value).then(Ye,vn)}nt((En=En.apply(ti,bi||[])).next())})},ot=function(ti){Object(ve.a)(Kn,ti);var bi=Object(se.a)(Kn);function Kn(En,Nt,Gt,mt,Ye,vn){var nt;Object($.a)(this,Kn),nt=bi.call(this),nt._viewZoneId=En,nt._marginDomNode=Nt,nt.editor=Gt,nt.diff=mt,nt._contextMenuService=Ye,nt._clipboardService=vn,nt._visibility=!1,nt._marginDomNode.style.zIndex="10",nt._diffActions=document.createElement("div"),nt._diffActions.className=C.a.asClassName(W.a.lightBulb)+" lightbulb-glyph",nt._diffActions.style.position="absolute";var Ze=Gt.getOption(64),Zt=Gt.getModel().getEOL();nt._diffActions.style.right="0px",nt._diffActions.style.visibility="hidden",nt._diffActions.style.height="".concat(Ze,"px"),nt._diffActions.style.lineHeight="".concat(Ze,"px"),nt._marginDomNode.appendChild(nt._diffActions);var hn=[],Ht=mt.modifiedEndLineNumber===0;hn.push(new G.a("diff.clipboard.copyDeletedContent",Ht?mt.originalEndLineNumber>mt.modifiedStartLineNumber?De.b("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):De.b("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):mt.originalEndLineNumber>mt.modifiedStartLineNumber?De.b("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):De.b("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,function(){return ze(Object(ce.a)(nt),void 0,void 0,Object(ke.a)().mark(function Yi(){var Bi,Gi;return Object(ke.a)().wrap(function(kr){for(;;)switch(kr.prev=kr.next){case 0:return Bi=new Qe.a(mt.originalStartLineNumber,1,mt.originalEndLineNumber+1,1),Gi=mt.originalModel.getValueInRange(Bi),kr.next=4,this._clipboardService.writeText(Gi);case 4:case"end":return kr.stop()}},Yi,this)}))}));var lt=0,si=void 0;mt.originalEndLineNumber>mt.modifiedStartLineNumber&&(si=new G.a("diff.clipboard.copyDeletedLineContent",Ht?De.b("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",mt.originalStartLineNumber):De.b("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",mt.originalStartLineNumber),void 0,!0,function(){return ze(Object(ce.a)(nt),void 0,void 0,Object(ke.a)().mark(function Yi(){var Bi,Gi;return Object(ke.a)().wrap(function(kr){for(;;)switch(kr.prev=kr.next){case 0:if(Bi=mt.originalModel.getLineContent(mt.originalStartLineNumber+lt),Bi!==""){kr.next=7;break}return Gi=mt.originalModel.getEndOfLineSequence(),kr.next=5,this._clipboardService.writeText(Gi===0?`
`:`\r
`);case 5:kr.next=9;break;case 7:return kr.next=9,this._clipboardService.writeText(Bi);case 9:case"end":return kr.stop()}},Yi,this)}))}),hn.push(si));var Oi=Gt.getOption(88);Oi||hn.push(new G.a("diff.inline.revertChange",De.b("diff.inline.revertChange.label","Revert this change"),void 0,!0,function(){return ze(Object(ce.a)(nt),void 0,void 0,Object(ke.a)().mark(function Yi(){var Bi,Gi,Gr,kr;return Object(ke.a)().wrap(function(Fr){for(;;)switch(Fr.prev=Fr.next){case 0:Bi=new Qe.a(mt.originalStartLineNumber,1,mt.originalEndLineNumber,mt.originalModel.getLineMaxColumn(mt.originalEndLineNumber)),Gi=mt.originalModel.getValueInRange(Bi),mt.modifiedEndLineNumber===0?(Gr=Gt.getModel().getLineMaxColumn(mt.modifiedStartLineNumber),Gt.executeEdits("diffEditor",[{range:new Qe.a(mt.modifiedStartLineNumber,Gr,mt.modifiedStartLineNumber,Gr),text:Zt+Gi}])):(kr=Gt.getModel().getLineMaxColumn(mt.modifiedEndLineNumber),Gt.executeEdits("diffEditor",[{range:new Qe.a(mt.modifiedStartLineNumber,1,mt.modifiedEndLineNumber,kr),text:Gi}]));case 3:case"end":return Fr.stop()}},Yi)}))}));var Ji=Gt.getOption(123)&&!$e.f,Wi=function(Bi,Gi){var Gr;nt._contextMenuService.showContextMenu({domForShadowRoot:Ji&&(Gr=Gt.getDomNode())!==null&&Gr!==void 0?Gr:void 0,getAnchor:function(){return{x:Bi,y:Gi}},getActions:function(){return si&&(si.label=Ht?De.b("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",mt.originalStartLineNumber+lt):De.b("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",mt.originalStartLineNumber+lt)),hn},autoSelectFirstItem:!0})};return nt._register(Y.addStandardDisposableListener(nt._diffActions,"mousedown",function(Yi){var Bi=Y.getDomNodePagePosition(nt._diffActions),Gi=Bi.top,Gr=Bi.height,kr=Math.floor(Ze/3);Yi.preventDefault(),Wi(Yi.posx,Gi+Gr+kr)})),nt._register(Gt.onMouseMove(function(Yi){if(Yi.target.type===8||Yi.target.type===5){var Bi=Yi.target.detail.viewZoneId;Bi===nt._viewZoneId?(nt.visibility=!0,lt=nt._updateLightBulbPosition(nt._marginDomNode,Yi.event.browserEvent.y,Ze)):nt.visibility=!1}else nt.visibility=!1})),nt._register(Gt.onMouseDown(function(Yi){if(!!Yi.event.rightButton&&(Yi.target.type===8||Yi.target.type===5)){var Bi=Yi.target.detail.viewZoneId;Bi===nt._viewZoneId&&(Yi.event.preventDefault(),lt=nt._updateLightBulbPosition(nt._marginDomNode,Yi.event.browserEvent.y,Ze),Wi(Yi.event.posx,Yi.event.posy+Ze))}})),nt}return Object(_.a)(Kn,[{key:"visibility",get:function(){return this._visibility},set:function(Nt){this._visibility!==Nt&&(this._visibility=Nt,Nt?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}},{key:"_updateLightBulbPosition",value:function(Nt,Gt,mt){var Ye=Y.getDomNodePagePosition(Nt),vn=Ye.top,nt=Gt-vn,Ze=Math.floor(nt/mt),Zt=Ze*mt;if(this._diffActions.style.top="".concat(Zt,"px"),this.diff.viewLineCounts){for(var hn=0,Ht=0;Ht<this.diff.viewLineCounts.length;Ht++)if(hn+=this.diff.viewLineCounts[Ht],Ze<hn)return Ht}return Ze}}]),Kn}(D.a),He=a("5Y4S"),Ge=a("VHWv"),Je=a("jwCD"),ft=a("Cdua"),qt=a("XXUj"),bt=function(ti,bi,Kn,En){var Nt=arguments.length,Gt=Nt<3?bi:En===null?En=Object.getOwnPropertyDescriptor(bi,Kn):En,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Gt=Reflect.decorate(ti,bi,Kn,En);else for(var Ye=ti.length-1;Ye>=0;Ye--)(mt=ti[Ye])&&(Gt=(Nt<3?mt(Gt):Nt>3?mt(bi,Kn,Gt):mt(bi,Kn))||Gt);return Nt>3&&Gt&&Object.defineProperty(bi,Kn,Gt),Gt},Bt=function(ti,bi){return function(Kn,En){bi(Kn,En,ti)}},rn=function(ti,bi,Kn,En){function Nt(Gt){return Gt instanceof Kn?Gt:new Kn(function(mt){mt(Gt)})}return new(Kn||(Kn=Promise))(function(Gt,mt){function Ye(Ze){try{nt(En.next(Ze))}catch(Zt){mt(Zt)}}function vn(Ze){try{nt(En.throw(Ze))}catch(Zt){mt(Zt)}}function nt(Ze){Ze.done?Gt(Ze.value):Nt(Ze.value).then(Ye,vn)}nt((En=En.apply(ti,bi||[])).next())})},an=function(){function ti(bi,Kn,En){Object($.a)(this,ti),this.editorWorkerService=Kn,this.telemetryService=En,this.onDidChangeEventEmitter=new H.b,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(bi)}return Object(_.a)(ti,[{key:"dispose",value:function(){var Kn;(Kn=this.diffAlgorithmOnDidChangeSubscription)===null||Kn===void 0||Kn.dispose()}},{key:"computeDiff",value:function(Kn,En,Nt){var Gt;return rn(this,void 0,void 0,Object(ke.a)().mark(function mt(){var Ye,vn,nt;return Object(ke.a)().wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:if(typeof this.diffAlgorithm=="string"){Zt.next=2;break}return Zt.abrupt("return",this.diffAlgorithm.computeDiff(Kn,En,Nt));case 2:if(!(Kn.getLineCount()===1&&Kn.getLineMaxColumn(1)===1)){Zt.next=4;break}return Zt.abrupt("return",{changes:[new Je.a(new Ge.a(1,1),new Ge.a(1,En.getLineCount()),[new Je.c(Kn.getFullModelRange(),En.getFullModelRange())])],identical:!1,quitEarly:!1});case 4:return Ye=He.a.create(!0),Zt.next=7,this.editorWorkerService.computeDiff(Kn.uri,En.uri,Nt,this.diffAlgorithm);case 7:if(vn=Zt.sent,nt=Ye.elapsed(),this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:nt,timedOut:(Gt=vn==null?void 0:vn.quitEarly)!==null&&Gt!==void 0?Gt:!0}),vn){Zt.next=12;break}throw new Error("no diff result available");case 12:return Zt.abrupt("return",vn);case 13:case"end":return Zt.stop()}},mt,this)}))}},{key:"setOptions",value:function(Kn){var En=this,Nt,Gt=!1;Kn.diffAlgorithm&&this.diffAlgorithm!==Kn.diffAlgorithm&&((Nt=this.diffAlgorithmOnDidChangeSubscription)===null||Nt===void 0||Nt.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=Kn.diffAlgorithm,typeof Kn.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=Kn.diffAlgorithm.onDidChange(function(){return En.onDidChangeEventEmitter.fire()})),Gt=!0),Gt&&this.onDidChangeEventEmitter.fire()}}]),ti}();an=bt([Bt(1,ft.a),Bt(2,qt.a)],an);var In=a("erNZ"),Dt=a("iuje"),jn=a("wQH0"),_n=a("tX9W"),Nn=a("dBaI"),ei=a("1rVb"),kn=a("9XeP"),Pn=a("Uzvx"),qi=a("Cg/j"),gi=a("8HsV"),ir=a("sM1p"),yi=a("tTk5"),mi=a("MD5Z"),gr=a("t9D7"),zn=function(ti,bi,Kn,En){var Nt=arguments.length,Gt=Nt<3?bi:En===null?En=Object.getOwnPropertyDescriptor(bi,Kn):En,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Gt=Reflect.decorate(ti,bi,Kn,En);else for(var Ye=ti.length-1;Ye>=0;Ye--)(mt=ti[Ye])&&(Gt=(Nt<3?mt(Gt):Nt>3?mt(bi,Kn,Gt):mt(bi,Kn))||Gt);return Nt>3&&Gt&&Object.defineProperty(bi,Kn,Gt),Gt},Ki=function(ti,bi){return function(Kn,En){bi(Kn,En,ti)}},Bn=function(){function ti(bi,Kn){Object($.a)(this,ti),this._contextMenuService=bi,this._clipboardService=Kn,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}return Object(_.a)(ti,[{key:"getForeignViewZones",value:function(Kn){var En=this;return Kn.filter(function(Nt){return!En._zonesMap[String(Nt.id)]})}},{key:"clean",value:function(Kn){var En=this;this._zones.length>0&&Kn.changeViewZones(function(Nt){var Gt=Object(te.a)(En._zones),mt;try{for(Gt.s();!(mt=Gt.n()).done;){var Ye=mt.value;Nt.removeZone(Ye)}}catch(vn){Gt.e(vn)}finally{Gt.f()}}),this._zones=[],this._zonesMap={},Kn.changeDecorations(function(Nt){En._decorations=Nt.deltaDecorations(En._decorations,[])})}},{key:"apply",value:function(Kn,En,Nt,Gt){var mt=this,Ye=Gt?de.a.capture(Kn):null;Kn.changeViewZones(function(vn){var nt,Ze=Object(te.a)(mt._zones),Zt;try{for(Ze.s();!(Zt=Ze.n()).done;){var hn=Zt.value;vn.removeZone(hn)}}catch(Bi){Ze.e(Bi)}finally{Ze.f()}var Ht=Object(te.a)(mt._inlineDiffMargins),lt;try{for(Ht.s();!(lt=Ht.n()).done;){var si=lt.value;si.dispose()}}catch(Bi){Ht.e(Bi)}finally{Ht.f()}mt._zones=[],mt._zonesMap={},mt._inlineDiffMargins=[];for(var Oi=0,Ji=Nt.zones.length;Oi<Ji;Oi++){var Wi=Nt.zones[Oi];Wi.suppressMouseDown=!0;var Yi=vn.addZone(Wi);mt._zones.push(Yi),mt._zonesMap[String(Yi)]=!0,Nt.zones[Oi].diff&&Wi.marginDomNode&&(Wi.suppressMouseDown=!1,((nt=Nt.zones[Oi].diff)===null||nt===void 0?void 0:nt.originalModel.getValueLength())!==0&&mt._inlineDiffMargins.push(new ot(Yi,Wi.marginDomNode,Kn,Nt.zones[Oi].diff,mt._contextMenuService,mt._clipboardService)))}}),Ye==null||Ye.restore(Kn),Kn.changeDecorations(function(vn){mt._decorations=vn.deltaDecorations(mt._decorations,Nt.decorations)}),En==null||En.setZones(Nt.overviewZones)}}]),ti}(),ai=0,dn=Object(Ne.b)("diff-insert",W.a.add,De.b("diffInsertIcon","Line decoration for inserts in the diff editor.")),Jn=Object(Ne.b)("diff-remove",W.a.remove,De.b("diffRemoveIcon","Line decoration for removals in the diff editor.")),Yt=Object(Z.a)("diffEditorWidget",{createHTML:function(bi){return bi}}),Ct=De.b("diff-aria-navigation-tip"," use Shift + F7 to navigate changes"),Dn=function(ti){Object(ve.a)(Kn,ti);var bi=Object(se.a)(Kn);function Kn(En,Nt,Gt,mt,Ye,vn,nt,Ze,Zt,hn,Ht){var lt;Object($.a)(this,Kn),lt=bi.call(this),lt._editorProgressService=Ht,lt._onDidDispose=lt._register(new H.b),lt.onDidDispose=lt._onDidDispose.event,lt._onDidChangeModel=lt._register(new H.b),lt.onDidChangeModel=lt._onDidChangeModel.event,lt._onDidUpdateDiff=lt._register(new H.b),lt.onDidUpdateDiff=lt._onDidUpdateDiff.event,lt._onDidContentSizeChange=lt._register(new H.b),lt._lastOriginalWarning=null,lt._lastModifiedWarning=null,nt.willCreateDiffEditor(),lt._documentDiffProvider=lt._register(vn.createInstance(an,Nt)),lt._register(lt._documentDiffProvider.onDidChange(function(Yi){return lt._beginUpdateDecorationsSoon()})),lt._codeEditorService=nt,lt._contextKeyService=lt._register(Ye.createScoped(En)),lt._instantiationService=vn.createChild(new gi.a([Pe.b,lt._contextKeyService])),lt._contextKeyService.createKey("isInDiffEditor",!0),lt._themeService=Ze,lt._notificationService=Zt,lt._id=++ai,lt._state=0,lt._updatingDiffProgress=null,lt._domElement=En,Nt=Nt||{},lt._options=Br(Nt,{enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{collapseUnchangedRegions:!1}}),lt.isEmbeddedDiffEditorKey=jn.a.isEmbeddedDiffEditor.bindTo(lt._contextKeyService),lt.isEmbeddedDiffEditorKey.set(typeof Nt.isInEmbeddedEditor!="undefined"?Nt.isInEmbeddedEditor:!1),lt._updateDecorationsRunner=lt._register(new F.g(function(){return lt._updateDecorations()},0)),lt._containerDomElement=document.createElement("div"),lt._containerDomElement.className=Kn._getClassName(lt._themeService.getColorTheme(),lt._options.renderSideBySide),lt._containerDomElement.style.position="relative",lt._containerDomElement.style.height="100%",lt._domElement.appendChild(lt._containerDomElement),lt._overviewViewportDomElement=Object(E.b)(document.createElement("div")),lt._overviewViewportDomElement.setClassName("diffViewport"),lt._overviewViewportDomElement.setPosition("absolute"),lt._overviewDomElement=document.createElement("div"),lt._overviewDomElement.className="diffOverview",lt._overviewDomElement.style.position="absolute",lt._overviewDomElement.appendChild(lt._overviewViewportDomElement.domNode),lt._register(Y.addStandardDisposableListener(lt._overviewDomElement,Y.EventType.POINTER_DOWN,function(Yi){lt._modifiedEditor.delegateVerticalScrollbarPointerDown(Yi)})),lt._register(Y.addDisposableListener(lt._overviewDomElement,Y.EventType.MOUSE_WHEEL,function(Yi){lt._modifiedEditor.delegateScrollFromMouseWheelEvent(Yi)},{passive:!1})),lt._options.renderOverviewRuler&&lt._containerDomElement.appendChild(lt._overviewDomElement),lt._originalDomNode=document.createElement("div"),lt._originalDomNode.className="editor original",lt._originalDomNode.style.position="absolute",lt._originalDomNode.style.height="100%",lt._containerDomElement.appendChild(lt._originalDomNode),lt._modifiedDomNode=document.createElement("div"),lt._modifiedDomNode.className="editor modified",lt._modifiedDomNode.style.position="absolute",lt._modifiedDomNode.style.height="100%",lt._containerDomElement.appendChild(lt._modifiedDomNode),lt._beginUpdateDecorationsTimeout=-1,lt._currentlyChangingViewZones=!1,lt._diffComputationToken=0,lt._originalEditorState=new Bn(hn,mt),lt._modifiedEditorState=new Bn(hn,mt),lt._isVisible=!0,lt._isHandlingScrollEvent=!1,lt._elementSizeObserver=lt._register(new T.a(lt._containerDomElement,Nt.dimension)),lt._register(lt._elementSizeObserver.onDidChange(function(){return lt._onDidContainerSizeChanged()})),Nt.automaticLayout&&lt._elementSizeObserver.startObserving(),lt._diffComputationResult=null,lt._originalEditor=lt._createLeftHandSideEditor(Nt,Gt.originalEditor||{}),lt._modifiedEditor=lt._createRightHandSideEditor(Nt,Gt.modifiedEditor||{}),lt._originalOverviewRuler=null,lt._modifiedOverviewRuler=null,lt._reviewPane=vn.createInstance(Re,Object(ce.a)(lt)),lt._containerDomElement.appendChild(lt._reviewPane.domNode.domNode),lt._containerDomElement.appendChild(lt._reviewPane.shadow.domNode),lt._containerDomElement.appendChild(lt._reviewPane.actionBarContainer.domNode),lt._options.renderSideBySide?lt._setStrategy(new Pt(lt._createDataSource(),lt._options.enableSplitViewResizing,lt._options.splitViewDefaultRatio)):lt._setStrategy(new Rn(lt._createDataSource(),lt._options.enableSplitViewResizing)),lt._register(Ze.onDidColorThemeChange(function(Yi){lt._strategy&&lt._strategy.applyColors(Yi)&&lt._updateDecorationsRunner.schedule(),lt._containerDomElement.className=Kn._getClassName(lt._themeService.getColorTheme(),lt._options.renderSideBySide)}));var si=z.e.getDiffEditorContributions(),Oi=Object(te.a)(si),Ji;try{for(Oi.s();!(Ji=Oi.n()).done;){var Wi=Ji.value;try{lt._register(vn.createInstance(Wi.ctor,Object(ce.a)(lt)))}catch(Yi){Object(N.h)(Yi)}}}catch(Yi){Oi.e(Yi)}finally{Oi.f()}return lt._codeEditorService.addDiffEditor(Object(ce.a)(lt)),lt}return Object(_.a)(Kn,[{key:"_setState",value:function(Nt){this._state!==Nt&&(this._state=Nt,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}},{key:"diffReviewNext",value:function(){this._reviewPane.next()}},{key:"diffReviewPrev",value:function(){this._reviewPane.prev()}},{key:"_disposeOverviewRulers",value:function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}},{key:"_createOverviewRulers",value:function(){!this._options.renderOverviewRuler||(B.d(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}},{key:"_createLeftHandSideEditor",value:function(Nt,Gt){var mt=this,Ye=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Nt),Gt);this._register(Ye.onDidScrollChange(function(nt){mt._isHandlingScrollEvent||!nt.scrollTopChanged&&!nt.scrollLeftChanged&&!nt.scrollHeightChanged||(mt._isHandlingScrollEvent=!0,mt._modifiedEditor.setScrollPosition({scrollLeft:nt.scrollLeft,scrollTop:nt.scrollTop}),mt._isHandlingScrollEvent=!1,mt._layoutOverviewViewport())})),this._register(Ye.onDidChangeViewZones(function(){mt._onViewZonesChanged()})),this._register(Ye.onDidChangeConfiguration(function(nt){!Ye.getModel()||(nt.hasChanged(48)&&mt._updateDecorationsRunner.schedule(),nt.hasChanged(141)&&(mt._updateDecorationsRunner.cancel(),mt._updateDecorations()))})),this._register(Ye.onDidChangeHiddenAreas(function(){mt._updateDecorationsRunner.cancel(),mt._updateDecorations()})),this._register(Ye.onDidChangeModelContent(function(){mt._isVisible&&mt._beginUpdateDecorationsSoon()}));var vn=this._contextKeyService.createKey("isInDiffLeftEditor",Ye.hasWidgetFocus());return this._register(Ye.onDidFocusEditorWidget(function(){return vn.set(!0)})),this._register(Ye.onDidBlurEditorWidget(function(){return vn.set(!1)})),this._register(Ye.onDidContentSizeChange(function(nt){var Ze=mt._originalEditor.getContentWidth()+mt._modifiedEditor.getContentWidth()+Kn.ONE_OVERVIEW_WIDTH,Zt=Math.max(mt._modifiedEditor.getContentHeight(),mt._originalEditor.getContentHeight());mt._onDidContentSizeChange.fire({contentHeight:Zt,contentWidth:Ze,contentHeightChanged:nt.contentHeightChanged,contentWidthChanged:nt.contentWidthChanged})})),Ye}},{key:"_createRightHandSideEditor",value:function(Nt,Gt){var mt=this,Ye=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Nt),Gt);this._register(Ye.onDidScrollChange(function(nt){mt._isHandlingScrollEvent||!nt.scrollTopChanged&&!nt.scrollLeftChanged&&!nt.scrollHeightChanged||(mt._isHandlingScrollEvent=!0,mt._originalEditor.setScrollPosition({scrollLeft:nt.scrollLeft,scrollTop:nt.scrollTop}),mt._isHandlingScrollEvent=!1,mt._layoutOverviewViewport())})),this._register(Ye.onDidChangeViewZones(function(){mt._onViewZonesChanged()})),this._register(Ye.onDidChangeConfiguration(function(nt){!Ye.getModel()||(nt.hasChanged(48)&&mt._updateDecorationsRunner.schedule(),nt.hasChanged(141)&&(mt._updateDecorationsRunner.cancel(),mt._updateDecorations()))})),this._register(Ye.onDidChangeHiddenAreas(function(){mt._updateDecorationsRunner.cancel(),mt._updateDecorations()})),this._register(Ye.onDidChangeModelContent(function(){mt._isVisible&&mt._beginUpdateDecorationsSoon()})),this._register(Ye.onDidChangeModelOptions(function(nt){nt.tabSize&&mt._updateDecorationsRunner.schedule()}));var vn=this._contextKeyService.createKey("isInDiffRightEditor",Ye.hasWidgetFocus());return this._register(Ye.onDidFocusEditorWidget(function(){return vn.set(!0)})),this._register(Ye.onDidBlurEditorWidget(function(){return vn.set(!1)})),this._register(Ye.onDidContentSizeChange(function(nt){var Ze=mt._originalEditor.getContentWidth()+mt._modifiedEditor.getContentWidth()+Kn.ONE_OVERVIEW_WIDTH,Zt=Math.max(mt._modifiedEditor.getContentHeight(),mt._originalEditor.getContentHeight());mt._onDidContentSizeChange.fire({contentHeight:Zt,contentWidth:Ze,contentHeightChanged:nt.contentHeightChanged,contentWidthChanged:nt.contentWidthChanged})})),this._register(Ye.onMouseDown(function(nt){var Ze,Zt;if(!nt.event.rightButton&&nt.target.position&&((Ze=nt.target.element)===null||Ze===void 0?void 0:Ze.className.includes("arrow-revert-change"))){var hn=nt.target.position.lineNumber,Ht=nt.target,lt=(Zt=mt._diffComputationResult)===null||Zt===void 0?void 0:Zt.changes.find(function(si){return(Ht==null?void 0:Ht.detail.afterLineNumber)===si.modifiedStartLineNumber||si.modifiedEndLineNumber>0&&si.modifiedStartLineNumber===hn});lt&&mt.revertChange(lt),nt.event.stopPropagation(),mt._updateDecorations();return}})),Ye}},{key:"revertChange",value:function(Nt){var Gt=this._modifiedEditor,mt=this._originalEditor.getModel(),Ye=this._modifiedEditor.getModel();if(!(!mt||!Ye||!Gt)){var vn=Nt.originalEndLineNumber>0?new Qe.a(Nt.originalStartLineNumber,1,Nt.originalEndLineNumber,mt.getLineMaxColumn(Nt.originalEndLineNumber)):null,nt=vn?mt.getValueInRange(vn):null,Ze=Nt.modifiedEndLineNumber>0?new Qe.a(Nt.modifiedStartLineNumber,1,Nt.modifiedEndLineNumber,Ye.getLineMaxColumn(Nt.modifiedEndLineNumber)):null,Zt=Ye.getEOL();if(Nt.originalEndLineNumber===0&&Ze){var hn=Ze;Nt.modifiedStartLineNumber>1?hn=Ze.setStartPosition(Nt.modifiedStartLineNumber-1,Ye.getLineMaxColumn(Nt.modifiedStartLineNumber-1)):Nt.modifiedEndLineNumber<Ye.getLineCount()&&(hn=Ze.setEndPosition(Nt.modifiedEndLineNumber+1,1)),Gt.executeEdits("diffEditor",[{range:hn,text:""}])}else if(Nt.modifiedEndLineNumber===0&&nt!==null){var Ht=Nt.modifiedStartLineNumber<Ye.getLineCount()?new Q.a(Nt.modifiedStartLineNumber+1,1):new Q.a(Nt.modifiedStartLineNumber,Ye.getLineMaxColumn(Nt.modifiedStartLineNumber));Gt.executeEdits("diffEditor",[{range:Qe.a.fromPositions(Ht,Ht),text:Nt.modifiedStartLineNumber<Ye.getLineCount()?nt+Zt:Zt+nt}])}else Ze&&nt!==null&&Gt.executeEdits("diffEditor",[{range:Ze,text:nt}])}}},{key:"_createInnerEditor",value:function(Nt,Gt,mt,Ye){return Nt.createInstance(pe.a,Gt,mt,Ye)}},{key:"dispose",value:function(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),Object(we.a)(Object(w.a)(Kn.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return this.getEditorType()+":"+this._id}},{key:"getEditorType",value:function(){return Dt.a.IDiffEditor}},{key:"getLineChanges",value:function(){return this._diffComputationResult?this._diffComputationResult.changes:null}},{key:"getOriginalEditor",value:function(){return this._originalEditor}},{key:"getModifiedEditor",value:function(){return this._modifiedEditor}},{key:"updateOptions",value:function(Nt){var Gt=Br(Nt,this._options),mt=Yr(this._options,Gt);this._options=Gt,this.isEmbeddedDiffEditorKey.set(typeof Nt.isInEmbeddedEditor!="undefined"?Nt.isInEmbeddedEditor:!1);var Ye=mt.ignoreTrimWhitespace||mt.renderIndicators||mt.renderMarginRevertIcon,vn=this._isVisible&&(mt.maxComputationTime||mt.maxFileSize);this._documentDiffProvider.setOptions(Gt),Ye?this._beginUpdateDecorations():vn&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Nt)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Nt)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio),mt.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Pt(this._createDataSource(),this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio)):this._setStrategy(new Rn(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Kn._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),mt.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}},{key:"getModel",value:function(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}},{key:"setModel",value:function(Nt){if(Nt&&(!Nt.original||!Nt.modified))throw new Error(Nt.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(Nt?Nt.original:null),this._modifiedEditor.setModel(Nt?Nt.modified:null),this._updateDecorationsRunner.cancel(),Nt&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Nt&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport(),this._onDidChangeModel.fire(),this._diffNavigator=this._register(this._instantiationService.createInstance(fe.a,this,{alwaysRevealFirst:!1,findResultLoop:this.getModifiedEditor().getOption(39).loop}))}},{key:"getContainerDomNode",value:function(){return this._domElement}},{key:"getVisibleColumnFromPosition",value:function(Nt){return this._modifiedEditor.getVisibleColumnFromPosition(Nt)}},{key:"getPosition",value:function(){return this._modifiedEditor.getPosition()}},{key:"setPosition",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api";this._modifiedEditor.setPosition(Nt,Gt)}},{key:"revealLine",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealLine(Nt,Gt)}},{key:"revealLineInCenter",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealLineInCenter(Nt,Gt)}},{key:"revealLineInCenterIfOutsideViewport",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealLineInCenterIfOutsideViewport(Nt,Gt)}},{key:"revealLineNearTop",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealLineNearTop(Nt,Gt)}},{key:"revealPosition",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealPosition(Nt,Gt)}},{key:"revealPositionInCenter",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealPositionInCenter(Nt,Gt)}},{key:"revealPositionInCenterIfOutsideViewport",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Nt,Gt)}},{key:"revealPositionNearTop",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealPositionNearTop(Nt,Gt)}},{key:"getSelection",value:function(){return this._modifiedEditor.getSelection()}},{key:"getSelections",value:function(){return this._modifiedEditor.getSelections()}},{key:"setSelection",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api";this._modifiedEditor.setSelection(Nt,Gt)}},{key:"setSelections",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api";this._modifiedEditor.setSelections(Nt,Gt)}},{key:"revealLines",value:function(Nt,Gt){var mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._modifiedEditor.revealLines(Nt,Gt,mt)}},{key:"revealLinesInCenter",value:function(Nt,Gt){var mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._modifiedEditor.revealLinesInCenter(Nt,Gt,mt)}},{key:"revealLinesInCenterIfOutsideViewport",value:function(Nt,Gt){var mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Nt,Gt,mt)}},{key:"revealLinesNearTop",value:function(Nt,Gt){var mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._modifiedEditor.revealLinesNearTop(Nt,Gt,mt)}},{key:"revealRange",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ye=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;this._modifiedEditor.revealRange(Nt,Gt,mt,Ye)}},{key:"revealRangeInCenter",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealRangeInCenter(Nt,Gt)}},{key:"revealRangeInCenterIfOutsideViewport",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Nt,Gt)}},{key:"revealRangeNearTop",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealRangeNearTop(Nt,Gt)}},{key:"revealRangeNearTopIfOutsideViewport",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Nt,Gt)}},{key:"revealRangeAtTop",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealRangeAtTop(Nt,Gt)}},{key:"getSupportedActions",value:function(){return this._modifiedEditor.getSupportedActions()}},{key:"focus",value:function(){this._modifiedEditor.focus()}},{key:"trigger",value:function(Nt,Gt,mt){this._modifiedEditor.trigger(Nt,Gt,mt)}},{key:"createDecorationsCollection",value:function(Nt){return this._modifiedEditor.createDecorationsCollection(Nt)}},{key:"changeDecorations",value:function(Nt){return this._modifiedEditor.changeDecorations(Nt)}},{key:"saveViewState",value:function(){var Nt=this._originalEditor.saveViewState(),Gt=this._modifiedEditor.saveViewState();return{original:Nt,modified:Gt}}},{key:"restoreViewState",value:function(Nt){if(Nt&&Nt.original&&Nt.modified){var Gt=Nt;this._originalEditor.restoreViewState(Gt.original),this._modifiedEditor.restoreViewState(Gt.modified)}}},{key:"layout",value:function(Nt){this._elementSizeObserver.observe(Nt)}},{key:"hasTextFocus",value:function(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}},{key:"_onDidContainerSizeChanged",value:function(){this._doLayout()}},{key:"_getReviewHeight",value:function(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}},{key:"_layoutOverviewRulers",value:function(){if(!!this._options.renderOverviewRuler&&!(!this._originalOverviewRuler||!this._modifiedOverviewRuler)){var Nt=this._elementSizeObserver.getHeight(),Gt=this._getReviewHeight(),mt=Kn.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Kn.ONE_OVERVIEW_WIDTH,Ye=this._modifiedEditor.getLayoutInfo();Ye&&(this._originalOverviewRuler.setLayout({top:0,width:Kn.ONE_OVERVIEW_WIDTH,right:mt+Kn.ONE_OVERVIEW_WIDTH,height:Nt-Gt}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Kn.ONE_OVERVIEW_WIDTH,height:Nt-Gt}))}}},{key:"_onViewZonesChanged",value:function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}},{key:"_beginUpdateDecorationsSoon",value:function(){var Nt=this;this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return Nt._beginUpdateDecorations()},Kn.UPDATE_DIFF_DECORATIONS_DELAY)}},{key:"_beginUpdateDecorations",value:function(){var Nt=this;this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1);var Gt=this._originalEditor.getModel(),mt=this._modifiedEditor.getModel();if(!(!Gt||!mt)){this._diffComputationToken++;var Ye=this._diffComputationToken,vn=this._options.maxFileSize*1024*1024,nt=function(Zt){var hn=Zt.getValueLength();return vn===0||hn<=vn};if(!nt(Gt)||!nt(mt)){(!Kn._equals(Gt.uri,this._lastOriginalWarning)||!Kn._equals(mt.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Gt.uri,this._lastModifiedWarning=mt.uri,this._notificationService.warn(De.b("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._documentDiffProvider.computeDiff(Gt,mt,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace,maxComputationTimeMs:this._options.maxComputationTime}).then(function(Ze){Ye===Nt._diffComputationToken&&Gt===Nt._originalEditor.getModel()&&mt===Nt._modifiedEditor.getModel()&&(Nt._setState(2),Nt._diffComputationResult={identical:Ze.identical,quitEarly:Ze.quitEarly,changes2:Ze.changes,changes:Ze.changes.map(function(Zt){var hn,Ht,lt,si,Oi=Zt.innerChanges;return Zt.originalRange.isEmpty?(hn=Zt.originalRange.startLineNumber-1,Ht=0,Oi=void 0):(hn=Zt.originalRange.startLineNumber,Ht=Zt.originalRange.endLineNumberExclusive-1),Zt.modifiedRange.isEmpty?(lt=Zt.modifiedRange.startLineNumber-1,si=0,Oi=void 0):(lt=Zt.modifiedRange.startLineNumber,si=Zt.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:hn,originalEndLineNumber:Ht,modifiedStartLineNumber:lt,modifiedEndLineNumber:si,charChanges:Oi==null?void 0:Oi.map(function(Ji){return{originalStartLineNumber:Ji.originalRange.startLineNumber,originalStartColumn:Ji.originalRange.startColumn,originalEndLineNumber:Ji.originalRange.endLineNumber,originalEndColumn:Ji.originalRange.endColumn,modifiedStartLineNumber:Ji.modifiedRange.startLineNumber,modifiedStartColumn:Ji.modifiedRange.startColumn,modifiedEndLineNumber:Ji.modifiedRange.endLineNumber,modifiedEndColumn:Ji.modifiedRange.endColumn}})}})},Nt._updateDecorationsRunner.schedule(),Nt._onDidUpdateDiff.fire())},function(Ze){Ye===Nt._diffComputationToken&&Gt===Nt._originalEditor.getModel()&&mt===Nt._modifiedEditor.getModel()&&(Nt._setState(2),Nt._diffComputationResult=null,Nt._updateDecorationsRunner.schedule())})}}},{key:"_cleanViewZonesAndDecorations",value:function(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}},{key:"_updateDecorations",value:function(){if(!(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())){var Nt=this._diffComputationResult?this._diffComputationResult.changes:[],Gt=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),mt=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Ye=this._options.renderMarginRevertIcon&&!this._modifiedEditor.getOption(88),vn=this._strategy.getEditorsDiffDecorations(Nt,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Ye,Gt,mt);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,vn.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,vn.modified,!0)}finally{this._currentlyChangingViewZones=!1}}}},{key:"_adjustOptionsForSubEditor",value:function(Nt){var Gt=Object.assign({},Nt);return Gt.inDiffEditor=!0,Gt.automaticLayout=!1,Gt.scrollbar=Object.assign({},Gt.scrollbar||{}),Gt.scrollbar.vertical="visible",Gt.folding=!1,Gt.codeLens=this._options.diffCodeLens,Gt.fixedOverflowWidgets=!0,Gt.minimap=Object.assign({},Gt.minimap||{}),Gt.minimap.enabled=!1,Gt}},{key:"_adjustOptionsForLeftHandSide",value:function(Nt){var Gt=this._adjustOptionsForSubEditor(Nt);return this._options.renderSideBySide?Gt.wordWrapOverride1=this._options.diffWordWrap:(Gt.wordWrapOverride1="off",Gt.wordWrapOverride2="off"),Nt.originalAriaLabel&&(Gt.ariaLabel=Nt.originalAriaLabel),this._updateAriaLabel(Gt),Gt.readOnly=!this._options.originalEditable,Gt.dropIntoEditor={enabled:!Gt.readOnly},Gt.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Gt),{dimension:{height:0,width:0}})}},{key:"_updateAriaLabel",value:function(Nt){var Gt,mt=(Gt=Nt.ariaLabel)!==null&&Gt!==void 0?Gt:"";this._options.accessibilityVerbose?mt+=Ct:mt&&(mt=mt.replaceAll(Ct,"")),Nt.ariaLabel=mt}},{key:"_adjustOptionsForRightHandSide",value:function(Nt){var Gt=this._adjustOptionsForSubEditor(Nt);return Nt.modifiedAriaLabel&&(Gt.ariaLabel=Nt.modifiedAriaLabel),this._updateAriaLabel(Gt),Gt.wordWrapOverride1=this._options.diffWordWrap,Gt.revealHorizontalRightPadding=ae.h.revealHorizontalRightPadding.defaultValue+Kn.ENTIRE_DIFF_OVERVIEW_WIDTH,Gt.scrollbar.verticalHasArrows=!1,Gt.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Gt),{dimension:{height:0,width:0}})}},{key:"doLayout",value:function(){this._elementSizeObserver.observe(),this._doLayout()}},{key:"_doLayout",value:function(){var Nt=this._elementSizeObserver.getWidth(),Gt=this._elementSizeObserver.getHeight(),mt=this._getReviewHeight(),Ye=this._strategy.layout();this._originalDomNode.style.width=Ye+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Nt-Ye+"px",this._modifiedDomNode.style.left=Ye+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Gt-mt+"px",this._overviewDomElement.style.width=Kn.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Nt-Kn.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Kn.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Ye,height:Gt-mt}),this._modifiedEditor.layout({width:Nt-Ye-(this._options.renderOverviewRuler?Kn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Gt-mt}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Gt-mt,Nt,mt),this._layoutOverviewViewport()}},{key:"_layoutOverviewViewport",value:function(){var Nt=this._computeOverviewViewport();Nt?(this._overviewViewportDomElement.setTop(Nt.top),this._overviewViewportDomElement.setHeight(Nt.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}},{key:"_computeOverviewViewport",value:function(){var Nt=this._modifiedEditor.getLayoutInfo();if(!Nt)return null;var Gt=this._modifiedEditor.getScrollTop(),mt=this._modifiedEditor.getScrollHeight(),Ye=Math.max(0,Nt.height),vn=Math.max(0,Ye-2*0),nt=mt>0?vn/mt:0,Ze=Math.max(0,Math.floor(Nt.height*nt)),Zt=Math.floor(Gt*nt);return{height:Ze,top:Zt}}},{key:"_createDataSource",value:function(){var Nt=this;return{getWidth:function(){return Nt._elementSizeObserver.getWidth()},getHeight:function(){return Nt._elementSizeObserver.getHeight()-Nt._getReviewHeight()},getOptions:function(){return{renderOverviewRuler:Nt._options.renderOverviewRuler}},getContainerDomNode:function(){return Nt._containerDomElement},relayoutEditors:function(){Nt._doLayout()},getOriginalEditor:function(){return Nt._originalEditor},getModifiedEditor:function(){return Nt._modifiedEditor}}}},{key:"_setStrategy",value:function(Nt){var Gt;(Gt=this._strategy)===null||Gt===void 0||Gt.dispose(),this._strategy=Nt,this._boundarySashes&&Nt.setBoundarySashes(this._boundarySashes),Nt.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}},{key:"_getLineChangeAtOrBeforeLineNumber",value:function(Nt,Gt){var mt=this._diffComputationResult?this._diffComputationResult.changes:[];if(mt.length===0||Nt<Gt(mt[0]))return null;for(var Ye=0,vn=mt.length-1;Ye<vn;){var nt=Math.floor((Ye+vn)/2),Ze=Gt(mt[nt]),Zt=nt+1<=vn?Gt(mt[nt+1]):1073741824;Nt<Ze?vn=nt-1:Nt>=Zt?Ye=nt+1:(Ye=nt,vn=nt)}return mt[Ye]}},{key:"_getEquivalentLineForOriginalLineNumber",value:function(Nt){var Gt=this._getLineChangeAtOrBeforeLineNumber(Nt,function(Zt){return Zt.originalStartLineNumber});if(!Gt)return Nt;var mt=Gt.originalStartLineNumber+(Gt.originalEndLineNumber>0?-1:0),Ye=Gt.modifiedStartLineNumber+(Gt.modifiedEndLineNumber>0?-1:0),vn=Gt.originalEndLineNumber>0?Gt.originalEndLineNumber-Gt.originalStartLineNumber+1:0,nt=Gt.modifiedEndLineNumber>0?Gt.modifiedEndLineNumber-Gt.modifiedStartLineNumber+1:0,Ze=Nt-mt;return Ze<=vn?Ye+Math.min(Ze,nt):Ye+nt-vn+Ze}},{key:"_getEquivalentLineForModifiedLineNumber",value:function(Nt){var Gt=this._getLineChangeAtOrBeforeLineNumber(Nt,function(Zt){return Zt.modifiedStartLineNumber});if(!Gt)return Nt;var mt=Gt.originalStartLineNumber+(Gt.originalEndLineNumber>0?-1:0),Ye=Gt.modifiedStartLineNumber+(Gt.modifiedEndLineNumber>0?-1:0),vn=Gt.originalEndLineNumber>0?Gt.originalEndLineNumber-Gt.originalStartLineNumber+1:0,nt=Gt.modifiedEndLineNumber>0?Gt.modifiedEndLineNumber-Gt.modifiedStartLineNumber+1:0,Ze=Nt-Ye;return Ze<=nt?mt+Math.min(Ze,vn):mt+vn-nt+Ze}},{key:"getDiffLineInformationForOriginal",value:function(Nt){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Nt)}:null}},{key:"getDiffLineInformationForModified",value:function(Nt){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Nt)}:null}}],[{key:"_getClassName",value:function(Nt,Gt){var mt="monaco-diff-editor monaco-editor-background ";return Gt&&(mt+="side-by-side "),mt+=Object(gr.d)(Nt.type),mt}},{key:"_equals",value:function(Nt,Gt){return!Nt&&!Gt?!0:!Nt||!Gt?!1:Nt.toString()===Gt.toString()}}]),Kn}(D.a);Dn.ONE_OVERVIEW_WIDTH=15,Dn.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Dn.UPDATE_DIFF_DECORATIONS_DELAY=200,Dn=zn([Ki(3,kn.a),Ki(4,Pe.b),Ki(5,qi.a),Ki(6,I.a),Ki(7,gr.b),Ki(8,ir.a),Ki(9,Pn.a),Ki(10,yi.a)],Dn);var gn=function(ti){Object(ve.a)(Kn,ti);var bi=Object(se.a)(Kn);function Kn(En){var Nt;return Object($.a)(this,Kn),Nt=bi.call(this),Nt._dataSource=En,Nt._insertColor=null,Nt._removeColor=null,Nt}return Object(_.a)(Kn,[{key:"applyColors",value:function(Nt){var Gt=Nt.getColor(mi.B)||(Nt.getColor(mi.A)||mi.x).transparent(2),mt=Nt.getColor(mi.C)||(Nt.getColor(mi.D)||mi.y).transparent(2),Ye=!Gt.equals(this._insertColor)||!mt.equals(this._removeColor);return this._insertColor=Gt,this._removeColor=mt,Ye}},{key:"getEditorsDiffDecorations",value:function(Nt,Gt,mt,Ye,vn,nt){nt=nt.sort(function(Ht,lt){return Ht.afterLineNumber-lt.afterLineNumber}),vn=vn.sort(function(Ht,lt){return Ht.afterLineNumber-lt.afterLineNumber});var Ze=this._getViewZones(Nt,vn,nt,mt),Zt=this._getOriginalEditorDecorations(Ze,Nt,Gt,mt),hn=this._getModifiedEditorDecorations(Ze,Nt,Gt,mt,Ye);return{original:{decorations:Zt.decorations,overviewZones:Zt.overviewZones,zones:Ze.original},modified:{decorations:hn.decorations,overviewZones:hn.overviewZones,zones:Ze.modified}}}},{key:"setBoundarySashes",value:function(Nt){}}]),Kn}(D.a),en=function(){function ti(bi){Object($.a)(this,ti),this._source=bi,this._index=-1,this.current=null,this.advance()}return Object(_.a)(ti,[{key:"advance",value:function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}]),ti}(),yn=function(){function ti(bi,Kn,En,Nt,Gt){Object($.a)(this,ti),this._lineChanges=bi,this._originalForeignVZ=Kn,this._modifiedForeignVZ=En,this._originalEditor=Nt,this._modifiedEditor=Gt}return Object(_.a)(ti,[{key:"getViewZones",value:function(){for(var Kn=this._originalEditor.getOption(64),En=this._modifiedEditor.getOption(64),Nt=this._originalEditor.getOption(141).wrappingColumn!==-1,Gt=this._modifiedEditor.getOption(141).wrappingColumn!==-1,mt=Nt||Gt,Ye=this._originalEditor.getModel(),vn=this._originalEditor._getViewModel().coordinatesConverter,nt=this._modifiedEditor._getViewModel().coordinatesConverter,Ze={original:[],modified:[]},Zt=0,hn=0,Ht=0,lt=0,si=0,Oi=0,Ji=function(vr,on){return vr.afterLineNumber-on.afterLineNumber},Wi=function(vr,on){if(on.domNode===null&&vr.length>0){var Wn=vr[vr.length-1];if(Wn.afterLineNumber===on.afterLineNumber&&Wn.domNode===null){Wn.heightInLines+=on.heightInLines;return}}vr.push(on)},Yi=new en(this._modifiedForeignVZ),Bi=new en(this._originalForeignVZ),Gi=1,Gr=1,kr=0,sa=this._lineChanges.length;kr<=sa;kr++){var Fr=kr<sa?this._lineChanges[kr]:null;Fr!==null?(Ht=Fr.originalStartLineNumber+(Fr.originalEndLineNumber>0?-1:0),lt=Fr.modifiedStartLineNumber+(Fr.modifiedEndLineNumber>0?-1:0),hn=Fr.originalEndLineNumber>0?ti._getViewLineCount(this._originalEditor,Fr.originalStartLineNumber,Fr.originalEndLineNumber):0,Zt=Fr.modifiedEndLineNumber>0?ti._getViewLineCount(this._modifiedEditor,Fr.modifiedStartLineNumber,Fr.modifiedEndLineNumber):0,si=Math.max(Fr.originalStartLineNumber,Fr.originalEndLineNumber),Oi=Math.max(Fr.modifiedStartLineNumber,Fr.modifiedEndLineNumber)):(Ht+=1e7+hn,lt+=1e7+Zt,si=Ht,Oi=lt);var ua=[],pn=[];if(mt){var Ln=void 0;Fr?Fr.originalEndLineNumber>0?Ln=Fr.originalStartLineNumber-Gi:Ln=Fr.modifiedStartLineNumber-Gr:Ln=Ye.getLineCount()-Gi+1;for(var ct=0;ct<Ln;ct++){var Mt=Gi+ct,At=Gr+ct,zt=vn.getModelLineViewLineCount(Mt),$t=nt.getModelLineViewLineCount(At);zt<$t?ua.push({afterLineNumber:Mt,heightInLines:$t-zt,domNode:null,marginDomNode:null}):zt>$t&&pn.push({afterLineNumber:At,heightInLines:zt-$t,domNode:null,marginDomNode:null})}Fr&&(Gi=(Fr.originalEndLineNumber>0?Fr.originalEndLineNumber:Fr.originalStartLineNumber)+1,Gr=(Fr.modifiedEndLineNumber>0?Fr.modifiedEndLineNumber:Fr.modifiedStartLineNumber)+1)}for(;Yi.current&&Yi.current.afterLineNumber<=Oi;){var Un=void 0;Yi.current.afterLineNumber<=lt?Un=Ht-lt+Yi.current.afterLineNumber:Un=si;var Vn=null;Fr&&Fr.modifiedStartLineNumber<=Yi.current.afterLineNumber&&Yi.current.afterLineNumber<=Fr.modifiedEndLineNumber&&(Vn=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),ua.push({afterLineNumber:Un,heightInLines:Yi.current.height/En,domNode:null,marginDomNode:Vn}),Yi.advance()}for(;Bi.current&&Bi.current.afterLineNumber<=si;){var Gn=void 0;Bi.current.afterLineNumber<=Ht?Gn=lt-Ht+Bi.current.afterLineNumber:Gn=Oi,pn.push({afterLineNumber:Gn,heightInLines:Bi.current.height/Kn,domNode:null}),Bi.advance()}if(Fr!==null&&Hi(Fr)){var oi=this._produceOriginalFromDiff(Fr,hn,Zt);oi&&ua.push(oi)}if(Fr!==null&&wt(Fr)){var _i=this._produceModifiedFromDiff(Fr,hn,Zt);_i&&pn.push(_i)}var Cn=0,ui=0;for(ua=ua.sort(Ji),pn=pn.sort(Ji);Cn<ua.length&&ui<pn.length;){var Si=ua[Cn],Ui=pn[ui],Lr=Si.afterLineNumber-Ht,or=Ui.afterLineNumber-lt;Lr<or?(Wi(Ze.original,Si),Cn++):or<Lr?(Wi(Ze.modified,Ui),ui++):Si.shouldNotShrink?(Wi(Ze.original,Si),Cn++):Ui.shouldNotShrink?(Wi(Ze.modified,Ui),ui++):Si.heightInLines>=Ui.heightInLines?(Si.heightInLines-=Ui.heightInLines,ui++):(Ui.heightInLines-=Si.heightInLines,Cn++)}for(;Cn<ua.length;)Wi(Ze.original,ua[Cn]),Cn++;for(;ui<pn.length;)Wi(Ze.modified,pn[ui]),ui++}return{original:ti._ensureDomNodes(Ze.original),modified:ti._ensureDomNodes(Ze.modified)}}}],[{key:"_getViewLineCount",value:function(Kn,En,Nt){var Gt=Kn.getModel(),mt=Kn._getViewModel();if(Gt&&mt){var Ye=ar(Gt,mt,En,Nt);return Ye.endLineNumber-Ye.startLineNumber+1}return Nt-En+1}},{key:"_ensureDomNodes",value:function(Kn){return Kn.map(function(En){return En.domNode||(En.domNode=We()),En})}}]),ti}();function Qn(ti,bi,Kn,En,Nt){return{range:new Qe.a(ti,bi,Kn,En),options:Nt}}var pi={arrowRevertChange:_n.b.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new d.a(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(De.b("revertChangeHoverMessage","Click to revert change")),glyphMarginClassName:"arrow-revert-change "+C.a.asClassName(W.a.arrowRight),zIndex:10001}),charDelete:_n.b.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:_n.b.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:_n.b.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:_n.b.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:_n.b.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:_n.b.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+C.a.asClassName(dn),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:_n.b.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:_n.b.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+C.a.asClassName(Jn),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:_n.b.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})},Pt=function(ti){Object(ve.a)(Kn,ti);var bi=Object(se.a)(Kn);function Kn(En,Nt,Gt){var mt;return Object($.a)(this,Kn),mt=bi.call(this,En),mt._disableSash=Nt===!1,mt._defaultRatio=Gt,mt._sashRatio=null,mt._sashPosition=null,mt._startSashPosition=null,mt._sash=mt._register(new V.b(mt._dataSource.getContainerDomNode(),Object(ce.a)(mt),{orientation:0})),mt._disableSash&&(mt._sash.state=0),mt._sash.onDidStart(function(){return mt._onSashDragStart()}),mt._sash.onDidChange(function(Ye){return mt._onSashDrag(Ye)}),mt._sash.onDidEnd(function(){return mt._onSashDragEnd()}),mt._sash.onDidReset(function(){return mt._onSashReset()}),mt}return Object(_.a)(Kn,[{key:"setEnableSplitViewResizing",value:function(Nt,Gt){this._defaultRatio=Gt;var mt=Nt===!1;this._disableSash!==mt&&(this._disableSash=mt,this._sash.state=this._disableSash?0:3)}},{key:"layout",value:function(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._sashRatio||this._defaultRatio,Gt=this._dataSource.getWidth(),mt=Gt-(this._dataSource.getOptions().renderOverviewRuler?Dn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Ye=Math.floor((Nt||this._defaultRatio)*mt),vn=Math.floor(this._defaultRatio*mt);return Ye=this._disableSash?vn:Ye||vn,mt>Kn.MINIMUM_EDITOR_WIDTH*2?(Ye<Kn.MINIMUM_EDITOR_WIDTH&&(Ye=Kn.MINIMUM_EDITOR_WIDTH),Ye>mt-Kn.MINIMUM_EDITOR_WIDTH&&(Ye=mt-Kn.MINIMUM_EDITOR_WIDTH)):Ye=vn,this._sashPosition!==Ye&&(this._sashPosition=Ye),this._sash.layout(),this._sashPosition}},{key:"_onSashDragStart",value:function(){this._startSashPosition=this._sashPosition}},{key:"_onSashDrag",value:function(Nt){var Gt=this._dataSource.getWidth(),mt=Gt-(this._dataSource.getOptions().renderOverviewRuler?Dn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Ye=this.layout((this._startSashPosition+(Nt.currentX-Nt.startX))/mt);this._sashRatio=Ye/mt,this._dataSource.relayoutEditors()}},{key:"_onSashDragEnd",value:function(){this._sash.layout()}},{key:"_onSashReset",value:function(){this._sashRatio=this._defaultRatio,this._dataSource.relayoutEditors(),this._sash.layout()}},{key:"getVerticalSashTop",value:function(Nt){return 0}},{key:"getVerticalSashLeft",value:function(Nt){return this._sashPosition}},{key:"getVerticalSashHeight",value:function(Nt){return this._dataSource.getHeight()}},{key:"setBoundarySashes",value:function(Nt){this._sash.orthogonalEndSash=Nt.bottom}},{key:"_getViewZones",value:function(Nt,Gt,mt){var Ye=this._dataSource.getOriginalEditor(),vn=this._dataSource.getModifiedEditor(),nt=new yt(Nt,Gt,mt,Ye,vn);return nt.getViewZones()}},{key:"_getOriginalEditorDecorations",value:function(Nt,Gt,mt,Ye){var vn=this._dataSource.getOriginalEditor(),nt=String(this._removeColor),Ze={decorations:[],overviewZones:[]},Zt=vn.getModel(),hn=vn._getViewModel(),Ht=Object(te.a)(Gt),lt;try{for(Ht.s();!(lt=Ht.n()).done;){var si=lt.value;if(wt(si)){Ze.decorations.push({range:new Qe.a(si.originalStartLineNumber,1,si.originalEndLineNumber,1073741824),options:Ye?pi.lineDeleteWithSign:pi.lineDelete}),(!Hi(si)||!si.charChanges)&&Ze.decorations.push(Qn(si.originalStartLineNumber,1,si.originalEndLineNumber,1073741824,pi.charDeleteWholeLine));var Oi=ar(Zt,hn,si.originalStartLineNumber,si.originalEndLineNumber);if(Ze.overviewZones.push(new ei.a(Oi.startLineNumber,Oi.endLineNumber,0,nt)),si.charChanges){var Ji=Object(te.a)(si.charChanges),Wi;try{for(Ji.s();!(Wi=Ji.n()).done;){var Yi=Wi.value;if(Ut(Yi))if(mt)for(var Bi=Yi.originalStartLineNumber;Bi<=Yi.originalEndLineNumber;Bi++){var Gi=void 0,Gr=void 0;Bi===Yi.originalStartLineNumber?Gi=Yi.originalStartColumn:Gi=Zt.getLineFirstNonWhitespaceColumn(Bi),Bi===Yi.originalEndLineNumber?Gr=Yi.originalEndColumn:Gr=Zt.getLineLastNonWhitespaceColumn(Bi),Ze.decorations.push(Qn(Bi,Gi,Bi,Gr,pi.charDelete))}else Ze.decorations.push(Qn(Yi.originalStartLineNumber,Yi.originalStartColumn,Yi.originalEndLineNumber,Yi.originalEndColumn,pi.charDelete))}}catch(kr){Ji.e(kr)}finally{Ji.f()}}}}}catch(kr){Ht.e(kr)}finally{Ht.f()}return Ze}},{key:"_getModifiedEditorDecorations",value:function(Nt,Gt,mt,Ye,vn){var nt=this._dataSource.getModifiedEditor(),Ze=String(this._insertColor),Zt={decorations:[],overviewZones:[]},hn=nt.getModel(),Ht=nt._getViewModel(),lt=Object(te.a)(Gt),si;try{var Oi=function(){var Wi=si.value;if(vn)if(Wi.modifiedEndLineNumber>0)Zt.decorations.push({range:new Qe.a(Wi.modifiedStartLineNumber,1,Wi.modifiedStartLineNumber,1),options:pi.arrowRevertChange});else{var Yi=Nt.modified.find(function(pn){return pn.afterLineNumber===Wi.modifiedStartLineNumber});Yi&&(Yi.marginDomNode=Tn())}if(Hi(Wi)){Zt.decorations.push({range:new Qe.a(Wi.modifiedStartLineNumber,1,Wi.modifiedEndLineNumber,1073741824),options:Ye?pi.lineInsertWithSign:pi.lineInsert}),(!wt(Wi)||!Wi.charChanges)&&Zt.decorations.push(Qn(Wi.modifiedStartLineNumber,1,Wi.modifiedEndLineNumber,1073741824,pi.charInsertWholeLine));var Bi=ar(hn,Ht,Wi.modifiedStartLineNumber,Wi.modifiedEndLineNumber);if(Zt.overviewZones.push(new ei.a(Bi.startLineNumber,Bi.endLineNumber,0,Ze)),Wi.charChanges){var Gi=Object(te.a)(Wi.charChanges),Gr;try{for(Gi.s();!(Gr=Gi.n()).done;){var kr=Gr.value;if(Pi(kr))if(mt)for(var sa=kr.modifiedStartLineNumber;sa<=kr.modifiedEndLineNumber;sa++){var Fr=void 0,ua=void 0;sa===kr.modifiedStartLineNumber?Fr=kr.modifiedStartColumn:Fr=hn.getLineFirstNonWhitespaceColumn(sa),sa===kr.modifiedEndLineNumber?ua=kr.modifiedEndColumn:ua=hn.getLineLastNonWhitespaceColumn(sa),Zt.decorations.push(Qn(sa,Fr,sa,ua,pi.charInsert))}else Zt.decorations.push(Qn(kr.modifiedStartLineNumber,kr.modifiedStartColumn,kr.modifiedEndLineNumber,kr.modifiedEndColumn,pi.charInsert))}}catch(pn){Gi.e(pn)}finally{Gi.f()}}}};for(lt.s();!(si=lt.n()).done;)Oi()}catch(Ji){lt.e(Ji)}finally{lt.f()}return Zt}}]),Kn}(gn);Pt.MINIMUM_EDITOR_WIDTH=100;var yt=function(ti){Object(ve.a)(Kn,ti);var bi=Object(se.a)(Kn);function Kn(En,Nt,Gt,mt,Ye){return Object($.a)(this,Kn),bi.call(this,En,Nt,Gt,mt,Ye)}return Object(_.a)(Kn,[{key:"_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion",value:function(){return null}},{key:"_produceOriginalFromDiff",value:function(Nt,Gt,mt){return mt>Gt?{afterLineNumber:Math.max(Nt.originalStartLineNumber,Nt.originalEndLineNumber),heightInLines:mt-Gt,domNode:null}:null}},{key:"_produceModifiedFromDiff",value:function(Nt,Gt,mt){return Gt>mt?{afterLineNumber:Math.max(Nt.modifiedStartLineNumber,Nt.modifiedEndLineNumber),heightInLines:Gt-mt,domNode:null}:null}}]),Kn}(yn),Rn=function(ti){Object(ve.a)(Kn,ti);var bi=Object(se.a)(Kn);function Kn(En,Nt){var Gt;return Object($.a)(this,Kn),Gt=bi.call(this,En),Gt._decorationsLeft=En.getOriginalEditor().getLayoutInfo().decorationsLeft,Gt._register(En.getOriginalEditor().onDidLayoutChange(function(mt){Gt._decorationsLeft!==mt.decorationsLeft&&(Gt._decorationsLeft=mt.decorationsLeft,En.relayoutEditors())})),Gt}return Object(_.a)(Kn,[{key:"setEnableSplitViewResizing",value:function(Nt){}},{key:"_getViewZones",value:function(Nt,Gt,mt,Ye){var vn=this._dataSource.getOriginalEditor(),nt=this._dataSource.getModifiedEditor(),Ze=new Sn(Nt,Gt,mt,vn,nt,Ye);return Ze.getViewZones()}},{key:"_getOriginalEditorDecorations",value:function(Nt,Gt,mt,Ye){var vn=String(this._removeColor),nt={decorations:[],overviewZones:[]},Ze=this._dataSource.getOriginalEditor(),Zt=Ze.getModel(),hn=Ze._getViewModel(),Ht=0,lt=Object(te.a)(Gt),si;try{for(lt.s();!(si=lt.n()).done;){var Oi=si.value;if(wt(Oi)){for(nt.decorations.push({range:new Qe.a(Oi.originalStartLineNumber,1,Oi.originalEndLineNumber,1073741824),options:pi.lineDeleteMargin});Ht<Nt.modified.length;){var Ji=Nt.modified[Ht];if(Ji.diff&&Ji.diff.originalStartLineNumber>=Oi.originalStartLineNumber)break;Ht++}var Wi=0;if(Ht<Nt.modified.length){var Yi=Nt.modified[Ht];Yi.diff&&Yi.diff.originalStartLineNumber===Oi.originalStartLineNumber&&Yi.diff.originalEndLineNumber===Oi.originalEndLineNumber&&Yi.diff.modifiedStartLineNumber===Oi.modifiedStartLineNumber&&Yi.diff.modifiedEndLineNumber===Oi.modifiedEndLineNumber&&(Wi=Yi.heightInLines)}var Bi=ar(Zt,hn,Oi.originalStartLineNumber,Oi.originalEndLineNumber);nt.overviewZones.push(new ei.a(Bi.startLineNumber,Bi.endLineNumber,Wi,vn))}}}catch(Gi){lt.e(Gi)}finally{lt.f()}return nt}},{key:"_getModifiedEditorDecorations",value:function(Nt,Gt,mt,Ye,vn){var nt=this._dataSource.getModifiedEditor(),Ze=String(this._insertColor),Zt={decorations:[],overviewZones:[]},hn=nt.getModel(),Ht=nt._getViewModel(),lt=Object(te.a)(Gt),si;try{for(lt.s();!(si=lt.n()).done;){var Oi=si.value;if(Hi(Oi)){Zt.decorations.push({range:new Qe.a(Oi.modifiedStartLineNumber,1,Oi.modifiedEndLineNumber,1073741824),options:Ye?pi.lineInsertWithSign:pi.lineInsert});var Ji=ar(hn,Ht,Oi.modifiedStartLineNumber,Oi.modifiedEndLineNumber);if(Zt.overviewZones.push(new ei.a(Ji.startLineNumber,Ji.endLineNumber,0,Ze)),Oi.charChanges){var Wi=Object(te.a)(Oi.charChanges),Yi;try{for(Wi.s();!(Yi=Wi.n()).done;){var Bi=Yi.value;if(Pi(Bi))if(mt)for(var Gi=Bi.modifiedStartLineNumber;Gi<=Bi.modifiedEndLineNumber;Gi++){var Gr=void 0,kr=void 0;Gi===Bi.modifiedStartLineNumber?Gr=Bi.modifiedStartColumn:Gr=hn.getLineFirstNonWhitespaceColumn(Gi),Gi===Bi.modifiedEndLineNumber?kr=Bi.modifiedEndColumn:kr=hn.getLineLastNonWhitespaceColumn(Gi),Zt.decorations.push(Qn(Gi,Gr,Gi,kr,pi.charInsert))}else Zt.decorations.push(Qn(Bi.modifiedStartLineNumber,Bi.modifiedStartColumn,Bi.modifiedEndLineNumber,Bi.modifiedEndColumn,pi.charInsert))}}catch(sa){Wi.e(sa)}finally{Wi.f()}}else Zt.decorations.push(Qn(Oi.modifiedStartLineNumber,1,Oi.modifiedEndLineNumber,1073741824,pi.charInsertWholeLine))}}}catch(sa){lt.e(sa)}finally{lt.f()}return Zt}},{key:"layout",value:function(){return Math.max(5,this._decorationsLeft)}}]),Kn}(gn),Sn=function(ti){Object(ve.a)(Kn,ti);var bi=Object(se.a)(Kn);function Kn(En,Nt,Gt,mt,Ye,vn){var nt;return Object($.a)(this,Kn),nt=bi.call(this,En,Nt,Gt,mt,Ye),nt._originalModel=mt.getModel(),nt._renderIndicators=vn,nt._pendingLineChange=[],nt._pendingViewZones=[],nt._lineBreaksComputer=nt._modifiedEditor._getViewModel().createLineBreaksComputer(),nt}return Object(_.a)(Kn,[{key:"getViewZones",value:function(){var Nt=Object(we.a)(Object(w.a)(Kn.prototype),"getViewZones",this).call(this);return this._finalize(Nt),Nt}},{key:"_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion",value:function(){var Nt=document.createElement("div");return Nt.className="inline-added-margin-view-zone",Nt}},{key:"_produceOriginalFromDiff",value:function(Nt,Gt,mt){var Ye=document.createElement("div");return Ye.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Nt.originalStartLineNumber,Nt.originalEndLineNumber),heightInLines:mt,domNode:document.createElement("div"),marginDomNode:Ye}}},{key:"_produceModifiedFromDiff",value:function(Nt,Gt,mt){var Ye=document.createElement("div");Ye.className="view-lines line-delete ".concat(ne.a);var vn=document.createElement("div");vn.className="inline-deleted-margin-view-zone";for(var nt={shouldNotShrink:!0,afterLineNumber:Nt.modifiedEndLineNumber===0?Nt.modifiedStartLineNumber:Nt.modifiedStartLineNumber-1,heightInLines:Gt,minWidthInPx:0,domNode:Ye,marginDomNode:vn,diff:{originalStartLineNumber:Nt.originalStartLineNumber,originalEndLineNumber:Nt.originalEndLineNumber,modifiedStartLineNumber:Nt.modifiedStartLineNumber,modifiedEndLineNumber:Nt.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}},Ze=Nt.originalStartLineNumber;Ze<=Nt.originalEndLineNumber;Ze++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Ze),null,null);return this._pendingLineChange.push(Nt),this._pendingViewZones.push(nt),nt}},{key:"_finalize",value:function(Nt){for(var Gt=this._modifiedEditor.getOptions(),mt=this._modifiedEditor.getModel().getOptions().tabSize,Ye=Gt.get(48),vn=Gt.get(31),nt=Ye.typicalHalfwidthCharacterWidth,Ze=Gt.get(100),Zt=this._originalModel.mightContainNonBasicASCII(),hn=this._originalModel.mightContainRTL(),Ht=Gt.get(64),lt=Gt.get(140),si=lt.decorationsWidth,Oi=Gt.get(113),Ji=Gt.get(95),Wi=Gt.get(90),Yi=Gt.get(49),Bi=this._lineBreaksComputer.finalize(),Gi=0,Gr=0;Gr<this._pendingLineChange.length;Gr++){var kr=this._pendingLineChange[Gr],sa=this._pendingViewZones[Gr],Fr=sa.domNode;Object(O.a)(Fr,Ye);var ua=sa.marginDomNode;Object(O.a)(ua,Ye);var pn=[];if(kr.charChanges){var Ln=Object(te.a)(kr.charChanges),ct;try{for(Ln.s();!(ct=Ln.n()).done;){var Mt=ct.value;Ut(Mt)&&pn.push(new L.a(new Qe.a(Mt.originalStartLineNumber,Mt.originalStartColumn,Mt.originalEndLineNumber,Mt.originalEndColumn),"char-delete",0))}}catch(Nr){Ln.e(Nr)}finally{Ln.f()}}for(var At=pn.length>0,zt=new In.a(1e4),$t=0,Un=0,Vn=null,Gn=kr.originalStartLineNumber;Gn<=kr.originalEndLineNumber;Gn++){var oi=Gn-kr.originalStartLineNumber,_i=this._originalModel.tokenization.getLineTokens(Gn),Cn=_i.getLineContent(),ui=Bi[Gi++],Si=Nn.a.filter(pn,Gn,1,Cn.length+1);if(ui){var Ui=0,Lr=Object(te.a)(ui.breakOffsets),or;try{for(Lr.s();!(or=Lr.n()).done;){var Er=or.value,vr=_i.sliceAndInflate(Ui,Er,0),on=Cn.substring(Ui,Er);$t=Math.max($t,this._renderOriginalLine(Un++,on,vr,Nn.a.extractWrapped(Si,Ui,Er),At,Zt,hn,Ye,vn,Ht,si,Oi,Ji,Wi,Yi,mt,zt,ua)),Ui=Er}}catch(Nr){Lr.e(Nr)}finally{Lr.f()}for(Vn||(Vn=[]);Vn.length<oi;)Vn[Vn.length]=1;Vn[oi]=ui.breakOffsets.length,sa.heightInLines+=ui.breakOffsets.length-1;var Wn=document.createElement("div");Wn.className="gutter-delete",Nt.original.push({afterLineNumber:Gn,afterColumn:0,heightInLines:ui.breakOffsets.length-1,domNode:We(),marginDomNode:Wn})}else $t=Math.max($t,this._renderOriginalLine(Un++,Cn,_i,Si,At,Zt,hn,Ye,vn,Ht,si,Oi,Ji,Wi,Yi,mt,zt,ua))}$t+=Ze;var Zn=zt.build(),Li=Yt?Yt.createHTML(Zn):Zn;if(Fr.innerHTML=Li,sa.minWidthInPx=$t*nt,Vn)for(var _r=kr.originalEndLineNumber-kr.originalStartLineNumber;Vn.length<=_r;)Vn[Vn.length]=1;sa.diff.viewLineCounts=Vn}Nt.original.sort(function(Nr,$i){return Nr.afterLineNumber-$i.afterLineNumber})}},{key:"_renderOriginalLine",value:function(Nt,Gt,mt,Ye,vn,nt,Ze,Zt,hn,Ht,lt,si,Oi,Ji,Wi,Yi,Bi,Gi){Bi.appendString('<div class="view-line'),vn||Bi.appendString(" char-delete"),Bi.appendString('" style="top:'),Bi.appendString(String(Nt*Ht)),Bi.appendString('px;width:1000000px;">');var Gr=L.f.isBasicASCII(Gt,nt),kr=L.f.containsRTL(Gt,Gr,Ze),sa=Object(ge.d)(new ge.c(Zt.isMonospace&&!hn,Zt.canUseHalfwidthRightwardsArrow,Gt,!1,Gr,kr,0,mt,Ye,Yi,0,Zt.spaceWidth,Zt.middotWidth,Zt.wsmiddotWidth,si,Oi,Ji,Wi!==ae.e.OFF,null),Bi);if(Bi.appendString("</div>"),this._renderIndicators){var Fr=document.createElement("div");Fr.className="delete-sign ".concat(C.a.asClassName(Jn)),Fr.setAttribute("style","position:absolute;top:".concat(Nt*Ht,"px;width:").concat(lt,"px;height:").concat(Ht,"px;right:0;")),Gi.appendChild(Fr)}return sa.characterMapping.getHorizontalOffset(sa.characterMapping.length)}}]),Kn}(yn);function Ii(ti,bi){return Object(ae.q)(ti,bi,["off","on","inherit"])}function Hi(ti){return ti.modifiedEndLineNumber>0}function wt(ti){return ti.originalEndLineNumber>0}function Pi(ti){return ti.modifiedStartLineNumber===ti.modifiedEndLineNumber?ti.modifiedEndColumn-ti.modifiedStartColumn>0:ti.modifiedEndLineNumber-ti.modifiedStartLineNumber>0}function Ut(ti){return ti.originalStartLineNumber===ti.originalEndLineNumber?ti.originalEndColumn-ti.originalStartColumn>0:ti.originalEndLineNumber-ti.originalStartLineNumber>0}function We(){var ti=document.createElement("div");return ti.className="diagonal-fill",ti}function Tn(){var ti=document.createElement("div");return ti.className="arrow-revert-change "+C.a.asClassName(W.a.arrowRight),Y.$("div",{},ti)}function ar(ti,bi,Kn,En){var Nt=ti.getLineCount();return Kn=Math.min(Nt,Math.max(1,Kn)),En=Math.min(Nt,Math.max(1,En)),bi.coordinatesConverter.convertModelRangeToViewRange(new Qe.a(Kn,ti.getLineMinColumn(Kn),En,ti.getLineMaxColumn(En)))}function Br(ti,bi){return{enableSplitViewResizing:Object(ae.k)(ti.enableSplitViewResizing,bi.enableSplitViewResizing),splitViewDefaultRatio:Object(ae.l)(ti.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:Object(ae.k)(ti.renderSideBySide,bi.renderSideBySide),renderMarginRevertIcon:Object(ae.k)(ti.renderMarginRevertIcon,bi.renderMarginRevertIcon),maxComputationTime:Object(ae.m)(ti.maxComputationTime,bi.maxComputationTime,0,1073741824),maxFileSize:Object(ae.m)(ti.maxFileSize,bi.maxFileSize,0,1073741824),ignoreTrimWhitespace:Object(ae.k)(ti.ignoreTrimWhitespace,bi.ignoreTrimWhitespace),renderIndicators:Object(ae.k)(ti.renderIndicators,bi.renderIndicators),originalEditable:Object(ae.k)(ti.originalEditable,bi.originalEditable),diffCodeLens:Object(ae.k)(ti.diffCodeLens,bi.diffCodeLens),renderOverviewRuler:Object(ae.k)(ti.renderOverviewRuler,bi.renderOverviewRuler),diffWordWrap:Ii(ti.diffWordWrap,bi.diffWordWrap),diffAlgorithm:Object(ae.q)(ti.diffAlgorithm,bi.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:Object(ae.k)(ti.accessibilityVerbose,bi.accessibilityVerbose),experimental:{collapseUnchangedRegions:!1}}}function Yr(ti,bi){return{enableSplitViewResizing:ti.enableSplitViewResizing!==bi.enableSplitViewResizing,renderSideBySide:ti.renderSideBySide!==bi.renderSideBySide,renderMarginRevertIcon:ti.renderMarginRevertIcon!==bi.renderMarginRevertIcon,maxComputationTime:ti.maxComputationTime!==bi.maxComputationTime,maxFileSize:ti.maxFileSize!==bi.maxFileSize,ignoreTrimWhitespace:ti.ignoreTrimWhitespace!==bi.ignoreTrimWhitespace,renderIndicators:ti.renderIndicators!==bi.renderIndicators,originalEditable:ti.originalEditable!==bi.originalEditable,diffCodeLens:ti.diffCodeLens!==bi.diffCodeLens,renderOverviewRuler:ti.renderOverviewRuler!==bi.renderOverviewRuler,diffWordWrap:ti.diffWordWrap!==bi.diffWordWrap,diffAlgorithm:ti.diffAlgorithm!==bi.diffAlgorithm,accessibilityVerbose:ti.accessibilityVerbose!==bi.accessibilityVerbose}}Object(gr.e)(function(ti,bi){var Kn=ti.getColor(mi.z);bi.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			`.concat(Kn,` 12.5%,
			#0000 12.5%, #0000 50%,
			`).concat(Kn," 50%, ").concat(Kn,` 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`))})},StRq:function(mn,U,a){},Szf2:function(mn,U,a){"use strict";a.d(U,"d",function(){return ve}),a.d(U,"a",function(){return te}),a.d(U,"b",function(){return Y}),a.d(U,"c",function(){return E});var ce=a("fWQN"),we=a("mtLc"),w=a("/cxE");function ve(Z,ne){if(typeof Z=="number"){if(Z===0)return null;var V=(Z&65535)>>>0,B=(Z&4294901760)>>>16;return B!==0?new _([se(V,ne),se(B,ne)]):new _([se(V,ne)])}else{for(var F=[],W=0;W<Z.length;W++)F.push(se(Z[W],ne));return new _(F)}}function se(Z,ne){var V=!!(Z&2048),B=!!(Z&256),F=ne===2?B:V,W=!!(Z&1024),N=!!(Z&512),H=ne===2?V:B,d=Z&255;return new te(F,W,N,H,d)}var te=function(){function Z(ne,V,B,F,W){Object(ce.a)(this,Z),this.ctrlKey=ne,this.shiftKey=V,this.altKey=B,this.metaKey=F,this.keyCode=W}return Object(we.a)(Z,[{key:"equals",value:function(V){return V instanceof Z&&this.ctrlKey===V.ctrlKey&&this.shiftKey===V.shiftKey&&this.altKey===V.altKey&&this.metaKey===V.metaKey&&this.keyCode===V.keyCode}},{key:"isModifierKey",value:function(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}},{key:"isDuplicateModifierCase",value:function(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}]),Z}(),$=function(){function Z(ne,V,B,F,W){Object(ce.a)(this,Z),this.ctrlKey=ne,this.shiftKey=V,this.altKey=B,this.metaKey=F,this.scanCode=W}return Object(we.a)(Z,[{key:"isDuplicateModifierCase",value:function(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}]),Z}(),_=Object(we.a)(function Z(ne){if(Object(ce.a)(this,Z),ne.length===0)throw Object(w.e)("chords");this.chords=ne}),Y=Object(we.a)(function Z(ne,V,B,F,W,N){Object(ce.a)(this,Z),this.ctrlKey=ne,this.shiftKey=V,this.altKey=B,this.metaKey=F,this.keyLabel=W,this.keyAriaLabel=N}),E=Object(we.a)(function Z(){Object(ce.a)(this,Z)})},"T/V3":function(mn,U,a){"use strict";a.d(U,"b",function(){return se}),a.d(U,"a",function(){return te});var ce=a("fWQN"),we=a("mtLc"),w=a("6OMU"),ve=a("CZ1j"),se=function(){function _(Y){Object(ce.a)(this,_),this.values=Y,this.prefixSum=new Uint32Array(Y.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return Object(we.a)(_,[{key:"insertValues",value:function(E,Z){E=Object(ve.a)(E);var ne=this.values,V=this.prefixSum,B=Z.length;return B===0?!1:(this.values=new Uint32Array(ne.length+B),this.values.set(ne.subarray(0,E),0),this.values.set(ne.subarray(E),E+B),this.values.set(Z,E),E-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=E-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(V.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}},{key:"setValue",value:function(E,Z){return E=Object(ve.a)(E),Z=Object(ve.a)(Z),this.values[E]===Z?!1:(this.values[E]=Z,E-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=E-1),!0)}},{key:"removeValues",value:function(E,Z){E=Object(ve.a)(E),Z=Object(ve.a)(Z);var ne=this.values,V=this.prefixSum;if(E>=ne.length)return!1;var B=ne.length-E;return Z>=B&&(Z=B),Z===0?!1:(this.values=new Uint32Array(ne.length-Z),this.values.set(ne.subarray(0,E),0),this.values.set(ne.subarray(E+Z),E),this.prefixSum=new Uint32Array(this.values.length),E-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=E-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(V.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}},{key:"getTotalSum",value:function(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}},{key:"getPrefixSum",value:function(E){return E<0?0:(E=Object(ve.a)(E),this._getPrefixSum(E))}},{key:"_getPrefixSum",value:function(E){if(E<=this.prefixSumValidIndex[0])return this.prefixSum[E];var Z=this.prefixSumValidIndex[0]+1;Z===0&&(this.prefixSum[0]=this.values[0],Z++),E>=this.values.length&&(E=this.values.length-1);for(var ne=Z;ne<=E;ne++)this.prefixSum[ne]=this.prefixSum[ne-1]+this.values[ne];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],E),this.prefixSum[E]}},{key:"getIndexOf",value:function(E){E=Math.floor(E),this.getTotalSum();for(var Z=0,ne=this.values.length-1,V=0,B=0,F=0;Z<=ne;)if(V=Z+(ne-Z)/2|0,B=this.prefixSum[V],F=B-this.values[V],E<F)ne=V-1;else if(E>=B)Z=V+1;else break;return new $(V,E-F)}}]),_}(),te=function(){function _(Y){Object(ce.a)(this,_),this._values=Y,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}return Object(we.a)(_,[{key:"getTotalSum",value:function(){return this._ensureValid(),this._indexBySum.length}},{key:"getPrefixSum",value:function(E){return this._ensureValid(),E===0?0:this._prefixSum[E-1]}},{key:"getIndexOf",value:function(E){this._ensureValid();var Z=this._indexBySum[E],ne=Z>0?this._prefixSum[Z-1]:0;return new $(Z,E-ne)}},{key:"removeValues",value:function(E,Z){this._values.splice(E,Z),this._invalidate(E)}},{key:"insertValues",value:function(E,Z){this._values=Object(w.c)(this._values,E,Z),this._invalidate(E)}},{key:"_invalidate",value:function(E){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,E-1)}},{key:"_ensureValid",value:function(){if(!this._isValid){for(var E=this._validEndIndex+1,Z=this._values.length;E<Z;E++){var ne=this._values[E],V=E>0?this._prefixSum[E-1]:0;this._prefixSum[E]=V+ne;for(var B=0;B<ne;B++)this._indexBySum[V+B]=E}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}},{key:"setValue",value:function(E,Z){this._values[E]!==Z&&(this._values[E]=Z,this._invalidate(E))}}]),_}(),$=Object(we.a)(function _(Y,E){Object(ce.a)(this,_),this.index=Y,this.remainder=E,this._prefixSumIndexOfResultBrand=void 0,this.index=Y,this.remainder=E})},T5lh:function(mn,U,a){"use strict";a.d(U,"a",function(){return ve});var ce=a("tJVT"),we=a("Vhoy"),w;(function(se){function te($){return $&&typeof $=="object"&&typeof $.id=="string"}se.isThemeColor=te})(w||(w={}));var ve;(function(se){se.iconNameSegment="[A-Za-z0-9]+",se.iconNameExpression="[A-Za-z0-9-]+",se.iconModifierExpression="~[A-Za-z]+",se.iconNameCharacter="[A-Za-z0-9~-]";var te=new RegExp("^(".concat(se.iconNameExpression,")(").concat(se.iconModifierExpression,")?$"));function $(N){var H=te.exec(N.id);if(!H)return $(we.a.error);var d=Object(ce.a)(H,3),D=d[1],C=d[2],x=["codicon","codicon-"+D];return C&&x.push("codicon-modifier-"+C.substring(1)),x}se.asClassNameArray=$;function _(N){return $(N).join(" ")}se.asClassName=_;function Y(N){return"."+$(N).join(".")}se.asCSSSelector=Y;function E(N){return N&&typeof N=="object"&&typeof N.id=="string"&&(typeof N.color=="undefined"||w.isThemeColor(N.color))}se.isThemeIcon=E;var Z=new RegExp("^\\$\\((".concat(se.iconNameExpression,"(?:").concat(se.iconModifierExpression,")?)\\)$"));function ne(N){var H=Z.exec(N);if(!!H){var d=Object(ce.a)(H,2),D=d[1];return{id:D}}}se.fromString=ne;function V(N){return{id:N}}se.fromId=V;function B(N,H){var d=N.id,D=d.lastIndexOf("~");return D!==-1&&(d=d.substring(0,D)),H&&(d="".concat(d,"~").concat(H)),{id:d}}se.modify=B;function F(N){var H=N.id.lastIndexOf("~");if(H!==-1)return N.id.substring(H+1)}se.getModifier=F;function W(N,H){var d,D;return N.id===H.id&&((d=N.color)===null||d===void 0?void 0:d.id)===((D=H.color)===null||D===void 0?void 0:D.id)}se.isEqual=W})(ve||(ve={}))},T8No:function(mn,U,a){"use strict";a.d(U,"a",function(){return pe}),a.d(U,"d",function(){return fe}),a.d(U,"c",function(){return Ft}),a.d(U,"b",function(){return Ot}),a.d(U,"e",function(){return et});var ce=a("yKVA"),we=a("879j"),w=a("oBTY"),ve=a("rAM+"),se=a("fWQN"),te=a("mtLc"),$=a("MNsG"),_=a("N0LK"),Y=a("/cxE"),E=a("3/fG");function Z(){switch(arguments.length){case 1:return Object(E.b)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",arguments.length<=0?void 0:arguments[0]);case 2:return Object(E.b)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]);case 3:return Object(E.b)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]);default:return}}var ne=Object(E.b)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),V=Object(E.b)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),B=function(){function Ce(){Object(se.a)(this,Ce),this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/(?:["-%\*-<>-_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+/y}return Object(te.a)(Ce,[{key:"reset",value:function(Te){return this._input=Te,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}},{key:"scan",value:function(){for(;!this._isAtEnd();){this._start=this._current;var Te=this._advance();switch(Te){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){var Qe=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:Qe})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){var $e=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:$e})}else this._match(126)?this._addToken(9):this._error(Z("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(Z("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(Z("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}},{key:"_match",value:function(Te){return this._isAtEnd()||this._input.charCodeAt(this._current)!==Te?!1:(this._current++,!0)}},{key:"_advance",value:function(){return this._input.charCodeAt(this._current++)}},{key:"_peek",value:function(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}},{key:"_addToken",value:function(Te){this._tokens.push({type:Te,offset:this._start})}},{key:"_error",value:function(Te){var Qe=this._start,$e=this._input.substring(this._start,this._current),ze={type:19,offset:this._start,lexeme:$e};this._errors.push({offset:Qe,lexeme:$e,additionalInfo:Te}),this._tokens.push(ze)}},{key:"_string",value:function(){this.stringRe.lastIndex=this._start;var Te=this.stringRe.exec(this._input);if(Te){this._current=this._start+Te[0].length;var Qe=this._input.substring(this._start,this._current),$e=Ce._keywords.get(Qe);$e?this._addToken($e):this._tokens.push({type:17,lexeme:Qe,offset:this._start})}}},{key:"_quotedString",value:function(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(ne);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}},{key:"_regex",value:function(){for(var Te=this._current,Qe=!1,$e=!1;;){if(Te>=this._input.length){this._current=Te,this._error(V);return}var ze=this._input.charCodeAt(Te);if(Qe)Qe=!1;else if(ze===47&&!$e){Te++;break}else ze===91?$e=!0:ze===92?Qe=!0:ze===93&&($e=!1);Te++}for(;Te<this._input.length&&Ce._regexFlags.has(this._input.charCodeAt(Te));)Te++;this._current=Te;var ot=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:ot,offset:this._start})}},{key:"_isAtEnd",value:function(){return this._current>=this._input.length}}],[{key:"getLexeme",value:function(Te){switch(Te.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return Te.isTripleEq?"===":"==";case 4:return Te.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return Te.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return Te.lexeme;case 18:return Te.lexeme;case 19:return Te.lexeme;case 20:return"EOF";default:throw Object(Y.f)("unhandled token type: ".concat(JSON.stringify(Te),"; have you forgotten to add a case?"))}}}]),Ce}();B._regexFlags=new Set(["i","g","s","m","y","u"].map(function(Ce){return Ce.charCodeAt(0)})),B._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var F=a("Cg/j"),W=new Map;W.set("false",!1),W.set("true",!0),W.set("isMac",$.i),W.set("isLinux",$.g),W.set("isWindows",$.o),W.set("isWeb",$.m),W.set("isMacNative",$.i&&!$.m),W.set("isEdge",$.d),W.set("isFirefox",$.e),W.set("isChrome",$.c),W.set("isSafari",$.l);var N=Object.prototype.hasOwnProperty,H={regexParsingWithErrorRecovery:!0},d=Object(E.b)("contextkey.parser.error.emptyString","Empty context key expression"),D=Object(E.b)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),C=Object(E.b)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),x=Object(E.b)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),O=Object(E.b)("contextkey.parser.error.unexpectedToken","Unexpected token"),T=Object(E.b)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),z=Object(E.b)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),I=Object(E.b)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),de=function(){function Ce(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H;Object(se.a)(this,Ce),this._config=ye,this._scanner=new B,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}return Object(te.a)(Ce,[{key:"parse",value:function(Te){if(Te===""){this._parsingErrors.push({message:d,offset:0,lexeme:"",additionalInfo:D});return}this._tokens=this._scanner.reset(Te).scan(),this._current=0,this._parsingErrors=[];try{var Qe=this._expr();if(!this._isAtEnd()){var $e=this._peek(),ze=$e.type===17?T:void 0;throw this._parsingErrors.push({message:O,offset:$e.offset,lexeme:B.getLexeme($e),additionalInfo:ze}),Ce._parseError}return Qe}catch(ot){if(ot!==Ce._parseError)throw ot;return}}},{key:"_expr",value:function(){return this._or()}},{key:"_or",value:function(){for(var Te=[this._and()];this._matchOne(16);){var Qe=this._and();Te.push(Qe)}return Te.length===1?Te[0]:pe.or.apply(pe,Te)}},{key:"_and",value:function(){for(var Te=[this._term()];this._matchOne(15);){var Qe=this._term();Te.push(Qe)}return Te.length===1?Te[0]:pe.and.apply(pe,Te)}},{key:"_term",value:function(){if(this._matchOne(2)){var Te=this._peek();switch(Te.type){case 11:return this._advance(),A.INSTANCE;case 12:return this._advance(),P.INSTANCE;case 0:{this._advance();var Qe=this._expr();return this._consume(1,x),Qe==null?void 0:Qe.negate()}case 17:return this._advance(),me.create(Te.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",Te)}}return this._primary()}},{key:"_primary",value:function(){var Te=this._peek();switch(Te.type){case 11:return this._advance(),pe.true();case 12:return this._advance(),pe.false();case 0:{this._advance();var Qe=this._expr();return this._consume(1,x),Qe}case 17:{var $e=Te.lexeme;if(this._advance(),this._matchOne(9)){var ze=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),ze.type!==10)throw this._errExpectedButGot("REGEX",ze);var ot=ze.lexeme,He=ot.lastIndexOf("/"),Ge=He===ot.length-1?void 0:this._removeFlagsGY(ot.substring(He+1)),Je;try{Je=new RegExp(ot.substring(1,He),Ge)}catch(gr){throw this._errExpectedButGot("REGEX",ze)}return Pe.create($e,Je)}switch(ze.type){case 10:case 19:{var ft=[ze.lexeme];this._advance();for(var qt=this._peek(),bt=0,Bt=0;Bt<ze.lexeme.length;Bt++)ze.lexeme.charCodeAt(Bt)===40?bt++:ze.lexeme.charCodeAt(Bt)===41&&bt--;for(;!this._isAtEnd()&&qt.type!==15&&qt.type!==16;){switch(qt.type){case 0:bt++;break;case 1:bt--;break;case 10:case 18:for(var rn=0;rn<qt.lexeme.length;rn++)qt.lexeme.charCodeAt(rn)===40?bt++:ze.lexeme.charCodeAt(rn)===41&&bt--}if(bt<0)break;ft.push(B.getLexeme(qt)),this._advance(),qt=this._peek()}var an=ft.join(""),In=an.lastIndexOf("/"),Dt=In===an.length-1?void 0:this._removeFlagsGY(an.substring(In+1)),jn;try{jn=new RegExp(an.substring(1,In),Dt)}catch(gr){throw this._errExpectedButGot("REGEX",ze)}return pe.regex($e,jn)}case 18:{var _n=ze.lexeme;this._advance();var Nn=null;if(!Object(_.D)(_n)){var ei=_n.indexOf("/"),kn=_n.lastIndexOf("/");if(ei!==kn&&ei>=0){var Pn=_n.slice(ei+1,kn),qi=_n[kn+1]==="i"?"i":"";try{Nn=new RegExp(Pn,qi)}catch(gr){throw this._errExpectedButGot("REGEX",ze)}}}if(Nn===null)throw this._errExpectedButGot("REGEX",ze);return Pe.create($e,Nn)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,C);var gi=this._value();return pe.notIn($e,gi)}var ir=this._peek().type;switch(ir){case 3:{this._advance();var yi=this._value();if(this._previous().type===18)return pe.equals($e,yi);switch(yi){case"true":return pe.has($e);case"false":return pe.not($e);default:return pe.equals($e,yi)}}case 4:{this._advance();var mi=this._value();if(this._previous().type===18)return pe.notEquals($e,mi);switch(mi){case"true":return pe.not($e);case"false":return pe.has($e);default:return pe.notEquals($e,mi)}}case 5:return this._advance(),Ae.create($e,this._value());case 6:return this._advance(),Oe.create($e,this._value());case 7:return this._advance(),L.create($e,this._value());case 8:return this._advance(),De.create($e,this._value());case 13:return this._advance(),pe.in($e,this._value());default:return pe.has($e)}}case 20:throw this._parsingErrors.push({message:z,offset:Te.offset,lexeme:"",additionalInfo:I}),Ce._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}},{key:"_value",value:function(){var Te=this._peek();switch(Te.type){case 17:case 18:return this._advance(),Te.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}},{key:"_removeFlagsGY",value:function(Te){return Te.replaceAll(this._flagsGYRe,"")}},{key:"_previous",value:function(){return this._tokens[this._current-1]}},{key:"_matchOne",value:function(Te){return this._check(Te)?(this._advance(),!0):!1}},{key:"_advance",value:function(){return this._isAtEnd()||this._current++,this._previous()}},{key:"_consume",value:function(Te,Qe){if(this._check(Te))return this._advance();throw this._errExpectedButGot(Qe,this._peek())}},{key:"_errExpectedButGot",value:function(Te,Qe,$e){var ze=Object(E.b)("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,Te,B.getLexeme(Qe)),ot=Qe.offset,He=B.getLexeme(Qe);return this._parsingErrors.push({message:ze,offset:ot,lexeme:He,additionalInfo:$e}),Ce._parseError}},{key:"_check",value:function(Te){return this._peek().type===Te}},{key:"_peek",value:function(){return this._tokens[this._current]}},{key:"_isAtEnd",value:function(){return this._peek().type===20}}]),Ce}();de._parseError=new Error;var pe=function(){function Ce(){Object(se.a)(this,Ce)}return Object(te.a)(Ce,null,[{key:"false",value:function(){return A.INSTANCE}},{key:"true",value:function(){return P.INSTANCE}},{key:"has",value:function(Te){return G.create(Te)}},{key:"equals",value:function(Te,Qe){return re.create(Te,Qe)}},{key:"notEquals",value:function(Te,Qe){return J.create(Te,Qe)}},{key:"regex",value:function(Te,Qe){return Pe.create(Te,Qe)}},{key:"in",value:function(Te,Qe){return ae.create(Te,Qe)}},{key:"notIn",value:function(Te,Qe){return Q.create(Te,Qe)}},{key:"not",value:function(Te){return me.create(Te)}},{key:"and",value:function(){for(var Te=arguments.length,Qe=new Array(Te),$e=0;$e<Te;$e++)Qe[$e]=arguments[$e];return Xe.create(Qe,null,!0)}},{key:"or",value:function(){for(var Te=arguments.length,Qe=new Array(Te),$e=0;$e<Te;$e++)Qe[$e]=arguments[$e];return Et.create(Qe,null,!0)}},{key:"deserialize",value:function(Te){if(Te!=null){var Qe=this._parser.parse(Te);return Qe}}}]),Ce}();pe._parser=new de({regexParsingWithErrorRecovery:!1});function fe(Ce,ye){var Te=Ce?Ce.substituteConstants():void 0,Qe=ye?ye.substituteConstants():void 0;return!Te&&!Qe?!0:!Te||!Qe?!1:Te.equals(Qe)}function ke(Ce,ye){return Ce.cmp(ye)}var A=function(){function Ce(){Object(se.a)(this,Ce),this.type=0}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return this.type-Te.type}},{key:"equals",value:function(Te){return Te.type===this.type}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Te){return!1}},{key:"serialize",value:function(){return"false"}},{key:"keys",value:function(){return[]}},{key:"negate",value:function(){return P.INSTANCE}}]),Ce}();A.INSTANCE=new A;var P=function(){function Ce(){Object(se.a)(this,Ce),this.type=1}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return this.type-Te.type}},{key:"equals",value:function(Te){return Te.type===this.type}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Te){return!0}},{key:"serialize",value:function(){return"true"}},{key:"keys",value:function(){return[]}},{key:"negate",value:function(){return A.INSTANCE}}]),Ce}();P.INSTANCE=new P;var G=function(){function Ce(ye,Te){Object(se.a)(this,Ce),this.key=ye,this.negated=Te,this.type=2}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return Te.type!==this.type?this.type-Te.type:pt(this.key,Te.key)}},{key:"equals",value:function(Te){return Te.type===this.type?this.key===Te.key:!1}},{key:"substituteConstants",value:function(){var Te=W.get(this.key);return typeof Te=="boolean"?Te?P.INSTANCE:A.INSTANCE:this}},{key:"evaluate",value:function(Te){return!!Te.getValue(this.key)}},{key:"serialize",value:function(){return this.key}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=me.create(this.key,this)),this.negated}}],[{key:"create",value:function(Te){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$e=W.get(Te);return typeof $e=="boolean"?$e?P.INSTANCE:A.INSTANCE:new Ce(Te,Qe)}}]),Ce}(),re=function(){function Ce(ye,Te,Qe){Object(se.a)(this,Ce),this.key=ye,this.value=Te,this.negated=Qe,this.type=4}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return Te.type!==this.type?this.type-Te.type:Lt(this.key,this.value,Te.key,Te.value)}},{key:"equals",value:function(Te){return Te.type===this.type?this.key===Te.key&&this.value===Te.value:!1}},{key:"substituteConstants",value:function(){var Te=W.get(this.key);if(typeof Te=="boolean"){var Qe=Te?"true":"false";return this.value===Qe?P.INSTANCE:A.INSTANCE}return this}},{key:"evaluate",value:function(Te){return Te.getValue(this.key)==this.value}},{key:"serialize",value:function(){return"".concat(this.key," == '").concat(this.value,"'")}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=J.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(Te,Qe){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof Qe=="boolean")return Qe?G.create(Te,$e):me.create(Te,$e);var ze=W.get(Te);if(typeof ze=="boolean"){var ot=ze?"true":"false";return Qe===ot?P.INSTANCE:A.INSTANCE}return new Ce(Te,Qe,$e)}}]),Ce}(),ae=function(){function Ce(ye,Te){Object(se.a)(this,Ce),this.key=ye,this.valueKey=Te,this.type=10,this.negated=null}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return Te.type!==this.type?this.type-Te.type:Lt(this.key,this.valueKey,Te.key,Te.valueKey)}},{key:"equals",value:function(Te){return Te.type===this.type?this.key===Te.key&&this.valueKey===Te.valueKey:!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Te){var Qe=Te.getValue(this.valueKey),$e=Te.getValue(this.key);return Array.isArray(Qe)?Qe.includes($e):typeof $e=="string"&&typeof Qe=="object"&&Qe!==null?N.call(Qe,$e):!1}},{key:"serialize",value:function(){return"".concat(this.key," in '").concat(this.valueKey,"'")}},{key:"keys",value:function(){return[this.key,this.valueKey]}},{key:"negate",value:function(){return this.negated||(this.negated=Q.create(this.key,this.valueKey)),this.negated}}],[{key:"create",value:function(Te,Qe){return new Ce(Te,Qe)}}]),Ce}(),Q=function(){function Ce(ye,Te){Object(se.a)(this,Ce),this.key=ye,this.valueKey=Te,this.type=11,this._negated=ae.create(ye,Te)}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return Te.type!==this.type?this.type-Te.type:this._negated.cmp(Te._negated)}},{key:"equals",value:function(Te){return Te.type===this.type?this._negated.equals(Te._negated):!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Te){return!this._negated.evaluate(Te)}},{key:"serialize",value:function(){return"".concat(this.key," not in '").concat(this.valueKey,"'")}},{key:"keys",value:function(){return this._negated.keys()}},{key:"negate",value:function(){return this._negated}}],[{key:"create",value:function(Te,Qe){return new Ce(Te,Qe)}}]),Ce}(),J=function(){function Ce(ye,Te,Qe){Object(se.a)(this,Ce),this.key=ye,this.value=Te,this.negated=Qe,this.type=5}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return Te.type!==this.type?this.type-Te.type:Lt(this.key,this.value,Te.key,Te.value)}},{key:"equals",value:function(Te){return Te.type===this.type?this.key===Te.key&&this.value===Te.value:!1}},{key:"substituteConstants",value:function(){var Te=W.get(this.key);if(typeof Te=="boolean"){var Qe=Te?"true":"false";return this.value===Qe?A.INSTANCE:P.INSTANCE}return this}},{key:"evaluate",value:function(Te){return Te.getValue(this.key)!=this.value}},{key:"serialize",value:function(){return"".concat(this.key," != '").concat(this.value,"'")}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=re.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(Te,Qe){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof Qe=="boolean")return Qe?me.create(Te,$e):G.create(Te,$e);var ze=W.get(Te);if(typeof ze=="boolean"){var ot=ze?"true":"false";return Qe===ot?A.INSTANCE:P.INSTANCE}return new Ce(Te,Qe,$e)}}]),Ce}(),me=function(){function Ce(ye,Te){Object(se.a)(this,Ce),this.key=ye,this.negated=Te,this.type=3}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return Te.type!==this.type?this.type-Te.type:pt(this.key,Te.key)}},{key:"equals",value:function(Te){return Te.type===this.type?this.key===Te.key:!1}},{key:"substituteConstants",value:function(){var Te=W.get(this.key);return typeof Te=="boolean"?Te?A.INSTANCE:P.INSTANCE:this}},{key:"evaluate",value:function(Te){return!Te.getValue(this.key)}},{key:"serialize",value:function(){return"!".concat(this.key)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=G.create(this.key,this)),this.negated}}],[{key:"create",value:function(Te){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$e=W.get(Te);return typeof $e=="boolean"?$e?A.INSTANCE:P.INSTANCE:new Ce(Te,Qe)}}]),Ce}();function ge(Ce,ye){if(typeof Ce=="string"){var Te=parseFloat(Ce);isNaN(Te)||(Ce=Te)}return typeof Ce=="string"||typeof Ce=="number"?ye(Ce):A.INSTANCE}var L=function(){function Ce(ye,Te,Qe){Object(se.a)(this,Ce),this.key=ye,this.value=Te,this.negated=Qe,this.type=12}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return Te.type!==this.type?this.type-Te.type:Lt(this.key,this.value,Te.key,Te.value)}},{key:"equals",value:function(Te){return Te.type===this.type?this.key===Te.key&&this.value===Te.value:!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Te){return typeof this.value=="string"?!1:parseFloat(Te.getValue(this.key))>this.value}},{key:"serialize",value:function(){return"".concat(this.key," > ").concat(this.value)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=Oe.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(Te,Qe){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return ge(Qe,function(ze){return new Ce(Te,ze,$e)})}}]),Ce}(),De=function(){function Ce(ye,Te,Qe){Object(se.a)(this,Ce),this.key=ye,this.value=Te,this.negated=Qe,this.type=13}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return Te.type!==this.type?this.type-Te.type:Lt(this.key,this.value,Te.key,Te.value)}},{key:"equals",value:function(Te){return Te.type===this.type?this.key===Te.key&&this.value===Te.value:!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Te){return typeof this.value=="string"?!1:parseFloat(Te.getValue(this.key))>=this.value}},{key:"serialize",value:function(){return"".concat(this.key," >= ").concat(this.value)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=Ae.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(Te,Qe){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return ge(Qe,function(ze){return new Ce(Te,ze,$e)})}}]),Ce}(),Ae=function(){function Ce(ye,Te,Qe){Object(se.a)(this,Ce),this.key=ye,this.value=Te,this.negated=Qe,this.type=14}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return Te.type!==this.type?this.type-Te.type:Lt(this.key,this.value,Te.key,Te.value)}},{key:"equals",value:function(Te){return Te.type===this.type?this.key===Te.key&&this.value===Te.value:!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Te){return typeof this.value=="string"?!1:parseFloat(Te.getValue(this.key))<this.value}},{key:"serialize",value:function(){return"".concat(this.key," < ").concat(this.value)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=De.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(Te,Qe){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return ge(Qe,function(ze){return new Ce(Te,ze,$e)})}}]),Ce}(),Oe=function(){function Ce(ye,Te,Qe){Object(se.a)(this,Ce),this.key=ye,this.value=Te,this.negated=Qe,this.type=15}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return Te.type!==this.type?this.type-Te.type:Lt(this.key,this.value,Te.key,Te.value)}},{key:"equals",value:function(Te){return Te.type===this.type?this.key===Te.key&&this.value===Te.value:!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Te){return typeof this.value=="string"?!1:parseFloat(Te.getValue(this.key))<=this.value}},{key:"serialize",value:function(){return"".concat(this.key," <= ").concat(this.value)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=L.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(Te,Qe){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return ge(Qe,function(ze){return new Ce(Te,ze,$e)})}}]),Ce}(),Pe=function(){function Ce(ye,Te){Object(se.a)(this,Ce),this.key=ye,this.regexp=Te,this.type=7,this.negated=null}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){if(Te.type!==this.type)return this.type-Te.type;if(this.key<Te.key)return-1;if(this.key>Te.key)return 1;var Qe=this.regexp?this.regexp.source:"",$e=Te.regexp?Te.regexp.source:"";return Qe<$e?-1:Qe>$e?1:0}},{key:"equals",value:function(Te){if(Te.type===this.type){var Qe=this.regexp?this.regexp.source:"",$e=Te.regexp?Te.regexp.source:"";return this.key===Te.key&&Qe===$e}return!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Te){var Qe=Te.getValue(this.key);return this.regexp?this.regexp.test(Qe):!1}},{key:"serialize",value:function(){var Te=this.regexp?"/".concat(this.regexp.source,"/").concat(this.regexp.flags):"/invalid/";return"".concat(this.key," =~ ").concat(Te)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=Ne.create(this)),this.negated}}],[{key:"create",value:function(Te,Qe){return new Ce(Te,Qe)}}]),Ce}(),Ne=function(){function Ce(ye){Object(se.a)(this,Ce),this._actual=ye,this.type=8}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){return Te.type!==this.type?this.type-Te.type:this._actual.cmp(Te._actual)}},{key:"equals",value:function(Te){return Te.type===this.type?this._actual.equals(Te._actual):!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Te){return!this._actual.evaluate(Te)}},{key:"serialize",value:function(){return"!(".concat(this._actual.serialize(),")")}},{key:"keys",value:function(){return this._actual.keys()}},{key:"negate",value:function(){return this._actual}}],[{key:"create",value:function(Te){return new Ce(Te)}}]),Ce}();function Fe(Ce){for(var ye=null,Te=0,Qe=Ce.length;Te<Qe;Te++){var $e=Ce[Te].substituteConstants();if(Ce[Te]!==$e&&ye===null){ye=[];for(var ze=0;ze<Te;ze++)ye[ze]=Ce[ze]}ye!==null&&(ye[Te]=$e)}return ye===null?Ce:ye}var Xe=function(){function Ce(ye,Te){Object(se.a)(this,Ce),this.expr=ye,this.negated=Te,this.type=6}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){if(Te.type!==this.type)return this.type-Te.type;if(this.expr.length<Te.expr.length)return-1;if(this.expr.length>Te.expr.length)return 1;for(var Qe=0,$e=this.expr.length;Qe<$e;Qe++){var ze=ke(this.expr[Qe],Te.expr[Qe]);if(ze!==0)return ze}return 0}},{key:"equals",value:function(Te){if(Te.type===this.type){if(this.expr.length!==Te.expr.length)return!1;for(var Qe=0,$e=this.expr.length;Qe<$e;Qe++)if(!this.expr[Qe].equals(Te.expr[Qe]))return!1;return!0}return!1}},{key:"substituteConstants",value:function(){var Te=Fe(this.expr);return Te===this.expr?this:Ce.create(Te,this.negated,!1)}},{key:"evaluate",value:function(Te){for(var Qe=0,$e=this.expr.length;Qe<$e;Qe++)if(!this.expr[Qe].evaluate(Te))return!1;return!0}},{key:"serialize",value:function(){return this.expr.map(function(Te){return Te.serialize()}).join(" && ")}},{key:"keys",value:function(){var Te=[],Qe=Object(ve.a)(this.expr),$e;try{for(Qe.s();!($e=Qe.n()).done;){var ze=$e.value;Te.push.apply(Te,Object(w.a)(ze.keys()))}}catch(ot){Qe.e(ot)}finally{Qe.f()}return Te}},{key:"negate",value:function(){if(!this.negated){var Te=[],Qe=Object(ve.a)(this.expr),$e;try{for(Qe.s();!($e=Qe.n()).done;){var ze=$e.value;Te.push(ze.negate())}}catch(ot){Qe.e(ot)}finally{Qe.f()}this.negated=Et.create(Te,this,!0)}return this.negated}}],[{key:"create",value:function(Te,Qe,$e){return Ce._normalizeArr(Te,Qe,$e)}},{key:"_normalizeArr",value:function(Te,Qe,$e){var ze=[],ot=!1,He=Object(ve.a)(Te),Ge;try{for(He.s();!(Ge=He.n()).done;){var Je=Ge.value;if(!!Je){if(Je.type===1){ot=!0;continue}if(Je.type===0)return A.INSTANCE;if(Je.type===6){ze.push.apply(ze,Object(w.a)(Je.expr));continue}ze.push(Je)}}}catch(an){He.e(an)}finally{He.f()}if(ze.length===0&&ot)return P.INSTANCE;if(ze.length!==0){if(ze.length===1)return ze[0];ze.sort(ke);for(var ft=1;ft<ze.length;ft++)ze[ft-1].equals(ze[ft])&&(ze.splice(ft,1),ft--);if(ze.length===1)return ze[0];for(var qt=function(){var In=ze[ze.length-1];if(In.type!==9)return"break";ze.pop();var Dt=ze.pop(),jn=ze.length===0,_n=Et.create(In.expr.map(function(Nn){return Ce.create([Nn,Dt],null,$e)}),null,jn);_n&&(ze.push(_n),ze.sort(ke))};ze.length>1;){var bt=qt();if(bt==="break")break}if(ze.length===1)return ze[0];if($e){for(var Bt=0;Bt<ze.length;Bt++)for(var rn=Bt+1;rn<ze.length;rn++)if(ze[Bt].negate().equals(ze[rn]))return A.INSTANCE;if(ze.length===1)return ze[0]}return new Ce(ze,Qe)}}}]),Ce}(),Et=function(){function Ce(ye,Te){Object(se.a)(this,Ce),this.expr=ye,this.negated=Te,this.type=9}return Object(te.a)(Ce,[{key:"cmp",value:function(Te){if(Te.type!==this.type)return this.type-Te.type;if(this.expr.length<Te.expr.length)return-1;if(this.expr.length>Te.expr.length)return 1;for(var Qe=0,$e=this.expr.length;Qe<$e;Qe++){var ze=ke(this.expr[Qe],Te.expr[Qe]);if(ze!==0)return ze}return 0}},{key:"equals",value:function(Te){if(Te.type===this.type){if(this.expr.length!==Te.expr.length)return!1;for(var Qe=0,$e=this.expr.length;Qe<$e;Qe++)if(!this.expr[Qe].equals(Te.expr[Qe]))return!1;return!0}return!1}},{key:"substituteConstants",value:function(){var Te=Fe(this.expr);return Te===this.expr?this:Ce.create(Te,this.negated,!1)}},{key:"evaluate",value:function(Te){for(var Qe=0,$e=this.expr.length;Qe<$e;Qe++)if(this.expr[Qe].evaluate(Te))return!0;return!1}},{key:"serialize",value:function(){return this.expr.map(function(Te){return Te.serialize()}).join(" || ")}},{key:"keys",value:function(){var Te=[],Qe=Object(ve.a)(this.expr),$e;try{for(Qe.s();!($e=Qe.n()).done;){var ze=$e.value;Te.push.apply(Te,Object(w.a)(ze.keys()))}}catch(ot){Qe.e(ot)}finally{Qe.f()}return Te}},{key:"negate",value:function(){if(!this.negated){var Te=[],Qe=Object(ve.a)(this.expr),$e;try{for(Qe.s();!($e=Qe.n()).done;){var ze=$e.value;Te.push(ze.negate())}}catch(an){Qe.e(an)}finally{Qe.f()}for(;Te.length>1;){var ot=Te.shift(),He=Te.shift(),Ge=[],Je=Object(ve.a)(Re(ot)),ft;try{for(Je.s();!(ft=Je.n()).done;){var qt=ft.value,bt=Object(ve.a)(Re(He)),Bt;try{for(bt.s();!(Bt=bt.n()).done;){var rn=Bt.value;Ge.push(Xe.create([qt,rn],null,!1))}}catch(an){bt.e(an)}finally{bt.f()}}}catch(an){Je.e(an)}finally{Je.f()}Te.unshift(Ce.create(Ge,null,!1))}this.negated=Ce.create(Te,this,!0)}return this.negated}}],[{key:"create",value:function(Te,Qe,$e){return Ce._normalizeArr(Te,Qe,$e)}},{key:"_normalizeArr",value:function(Te,Qe,$e){var ze=[],ot=!1;if(Te){for(var He=0,Ge=Te.length;He<Ge;He++){var Je=Te[He];if(!!Je){if(Je.type===0){ot=!0;continue}if(Je.type===1)return P.INSTANCE;if(Je.type===9){ze=ze.concat(Je.expr);continue}ze.push(Je)}}if(ze.length===0&&ot)return A.INSTANCE;ze.sort(ke)}if(ze.length!==0){if(ze.length===1)return ze[0];for(var ft=1;ft<ze.length;ft++)ze[ft-1].equals(ze[ft])&&(ze.splice(ft,1),ft--);if(ze.length===1)return ze[0];if($e){for(var qt=0;qt<ze.length;qt++)for(var bt=qt+1;bt<ze.length;bt++)if(ze[qt].negate().equals(ze[bt]))return P.INSTANCE;if(ze.length===1)return ze[0]}return new Ce(ze,Qe)}}}]),Ce}(),Ft=function(Ce){Object(ce.a)(Te,Ce);var ye=Object(we.a)(Te);function Te(Qe,$e,ze){var ot;return Object(se.a)(this,Te),ot=ye.call(this,Qe,null),ot._defaultValue=$e,typeof ze=="object"?Te._info.push(Object.assign(Object.assign({},ze),{key:Qe})):ze!==!0&&Te._info.push({key:Qe,description:ze,type:$e!=null?typeof $e:void 0}),ot}return Object(te.a)(Te,[{key:"bindTo",value:function($e){return $e.createKey(this.key,this._defaultValue)}},{key:"getValue",value:function($e){return $e.getContextKeyValue(this.key)}},{key:"toNegated",value:function(){return this.negate()}},{key:"isEqualTo",value:function($e){return re.create(this.key,$e)}}],[{key:"all",value:function(){return Te._info.values()}}]),Te}(G);Ft._info=[];var Ot=Object(F.c)("contextKeyService");function pt(Ce,ye){return Ce<ye?-1:Ce>ye?1:0}function Lt(Ce,ye,Te,Qe){return Ce<Te?-1:Ce>Te?1:ye<Qe?-1:ye>Qe?1:0}function et(Ce,ye){if(Ce.type===0||ye.type===1)return!0;if(Ce.type===9)return ye.type===9?Vt(Ce.expr,ye.expr):!1;if(ye.type===9){var Te=Object(ve.a)(ye.expr),Qe;try{for(Te.s();!(Qe=Te.n()).done;){var $e=Qe.value;if(et(Ce,$e))return!0}}catch(Ge){Te.e(Ge)}finally{Te.f()}return!1}if(Ce.type===6){if(ye.type===6)return Vt(ye.expr,Ce.expr);var ze=Object(ve.a)(Ce.expr),ot;try{for(ze.s();!(ot=ze.n()).done;){var He=ot.value;if(et(He,ye))return!0}}catch(Ge){ze.e(Ge)}finally{ze.f()}return!1}return Ce.equals(ye)}function Vt(Ce,ye){for(var Te=0,Qe=0;Te<Ce.length&&Qe<ye.length;){var $e=Ce[Te].cmp(ye[Qe]);if($e<0)return!1;$e===0&&Te++,Qe++}return Te===Ce.length}function Re(Ce){return Ce.type===9?Ce.expr:[Ce]}},TLLU:function(mn,U,a){"use strict";var ce=a("5OYt");function we(){return Object(ce.a)()}U.a={useBreakpoint:we}},TT2d:function(mn,U,a){},Tdkv:function(mn,U,a){},U9X9:function(mn,U,a){"use strict";var ce=a("uX+g"),we=function(ve,se,te){return se===void 0?ve:Object(ce.a)(ve,se,te)};U.a=we},UCkY:function(mn,U,a){},Udvv:function(mn,U,a){"use strict";a.d(U,"b",function(){return _}),a.d(U,"a",function(){return Y});var ce=a("qLMh"),we=a("N0LK"),w=a("zhcO"),ve=a("LloX"),se=a("7AJZ"),te=function(Z,ne,V,B){function F(W){return W instanceof V?W:new V(function(N){N(W)})}return new(V||(V=Promise))(function(W,N){function H(C){try{D(B.next(C))}catch(x){N(x)}}function d(C){try{D(B.throw(C))}catch(x){N(x)}}function D(C){C.done?W(C.value):F(C.value).then(H,d)}D((B=B.apply(Z,ne||[])).next())})},$={getInitialState:function(){return se.a},tokenizeEncoded:function(ne,V,B){return Object(se.c)(0,B)}};function _(Z,ne,V){return te(this,void 0,void 0,Object(ce.a)().mark(function B(){var F;return Object(ce.a)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(V){N.next=2;break}return N.abrupt("return",E(ne,Z.languageIdCodec,$));case 2:return N.next=4,ve.m.getOrCreate(V);case 4:return F=N.sent,N.abrupt("return",E(ne,Z.languageIdCodec,F||$));case 6:case"end":return N.stop()}},B)}))}function Y(Z,ne,V,B,F,W,N){for(var H="<div>",d=B,D=0,C=!0,x=0,O=ne.getCount();x<O;x++){var T=ne.getEndOffset(x);if(!(T<=B)){for(var z="";d<T&&d<F;d++){var I=Z.charCodeAt(d);switch(I){case 9:{var de=W-(d+D)%W;for(D+=de-1;de>0;)N&&C?(z+="&#160;",C=!1):(z+=" ",C=!0),de--;break}case 60:z+="&lt;",C=!1;break;case 62:z+="&gt;",C=!1;break;case 38:z+="&amp;",C=!1;break;case 0:z+="&#00;",C=!1;break;case 65279:case 8232:case 8233:case 133:z+="\uFFFD",C=!1;break;case 13:z+="&#8203",C=!1;break;case 32:N&&C?(z+="&#160;",C=!1):(z+=" ",C=!0);break;default:z+=String.fromCharCode(I),C=!1}}if(H+='<span style="'.concat(ne.getInlineStyle(x,V),'">').concat(z,"</span>"),T>F||d>=F)break}}return H+="</div>",H}function E(Z,ne,V){for(var B='<div class="monaco-tokenized-source">',F=we.S(Z),W=V.getInitialState(),N=0,H=F.length;N<H;N++){var d=F[N];N>0&&(B+="<br/>");var D=V.tokenizeEncoded(d,!0,W);w.a.convertToEndOffset(D.tokens,d.length);for(var C=new w.a(D.tokens,d,ne),x=C.inflate(),O=0,T=0,z=x.getCount();T<z;T++){var I=x.getClassName(T),de=x.getEndOffset(T);B+='<span class="'.concat(I,'">').concat(we.s(d.substring(O,de)),"</span>"),O=de}W=D.endState}return B+="</div>",B}},"Up+r":function(mn,U,a){},Urep:function(mn,U,a){},Uzvx:function(mn,U,a){"use strict";a.d(U,"b",function(){return we}),a.d(U,"a",function(){return w});var ce=a("Cg/j"),we=Object(ce.c)("contextViewService"),w=Object(ce.c)("contextMenuService")},VGTv:function(mn,U,a){"use strict";a.d(U,"a",function(){return w});var ce=a("fWQN"),we=a("mtLc"),w=function(){function ve(){Object(ce.a)(this,ve)}return Object(we.a)(ve,null,[{key:"getLanguageId",value:function(te){return(te&255)>>>0}},{key:"getTokenType",value:function(te){return(te&768)>>>8}},{key:"containsBalancedBrackets",value:function(te){return(te&1024)!=0}},{key:"getFontStyle",value:function(te){return(te&30720)>>>11}},{key:"getForeground",value:function(te){return(te&16744448)>>>15}},{key:"getBackground",value:function(te){return(te&4278190080)>>>24}},{key:"getClassNameFromMetadata",value:function(te){var $=this.getForeground(te),_="mtk"+$,Y=this.getFontStyle(te);return Y&1&&(_+=" mtki"),Y&2&&(_+=" mtkb"),Y&4&&(_+=" mtku"),Y&8&&(_+=" mtks"),_}},{key:"getInlineStyleFromMetadata",value:function(te,$){var _=this.getForeground(te),Y=this.getFontStyle(te),E="color: ".concat($[_],";");Y&1&&(E+="font-style: italic;"),Y&2&&(E+="font-weight: bold;");var Z="";return Y&4&&(Z+=" underline"),Y&8&&(Z+=" line-through"),Z&&(E+="text-decoration:".concat(Z,";")),E}},{key:"getPresentationFromMetadata",value:function(te){var $=this.getForeground(te),_=this.getFontStyle(te);return{foreground:$,italic:Boolean(_&1),bold:Boolean(_&2),underline:Boolean(_&4),strikethrough:Boolean(_&8)}}}]),ve}()},VHWv:function(mn,U,a){"use strict";a.d(U,"a",function(){return se});var ce=a("fWQN"),we=a("mtLc"),w=a("/cxE"),ve=a("aokT"),se=function(){function te($,_){if(Object(ce.a)(this,te),$>_)throw new w.a("startLineNumber ".concat($," cannot be after endLineNumberExclusive ").concat(_));this.startLineNumber=$,this.endLineNumberExclusive=_}return Object(we.a)(te,[{key:"contains",value:function(_){return this.startLineNumber<=_&&_<this.endLineNumberExclusive}},{key:"isEmpty",get:function(){return this.startLineNumber===this.endLineNumberExclusive}},{key:"delta",value:function(_){return new te(this.startLineNumber+_,this.endLineNumberExclusive+_)}},{key:"length",get:function(){return this.endLineNumberExclusive-this.startLineNumber}},{key:"join",value:function(_){return new te(Math.min(this.startLineNumber,_.startLineNumber),Math.max(this.endLineNumberExclusive,_.endLineNumberExclusive))}},{key:"toString",value:function(){return"[".concat(this.startLineNumber,",").concat(this.endLineNumberExclusive,")")}},{key:"intersect",value:function(_){var Y=Math.max(this.startLineNumber,_.startLineNumber),E=Math.min(this.endLineNumberExclusive,_.endLineNumberExclusive);if(Y<=E)return new te(Y,E)}},{key:"intersectsStrict",value:function(_){return this.startLineNumber<_.endLineNumberExclusive&&_.startLineNumber<this.endLineNumberExclusive}},{key:"overlapOrTouch",value:function(_){return this.startLineNumber<=_.endLineNumberExclusive&&_.startLineNumber<=this.endLineNumberExclusive}},{key:"equals",value:function(_){return this.startLineNumber===_.startLineNumber&&this.endLineNumberExclusive===_.endLineNumberExclusive}},{key:"toInclusiveRange",value:function(){return this.isEmpty?null:new ve.a(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}},{key:"toExclusiveRange",value:function(){return new ve.a(this.startLineNumber,1,this.endLineNumberExclusive,1)}}],[{key:"fromRange",value:function(_){return new te(_.startLineNumber,_.endLineNumber)}},{key:"joinMany",value:function(_){if(_.length===0)return[];for(var Y=_[0],E=1;E<_.length;E++)Y=this.join(Y,_[E]);return Y}},{key:"join",value:function(_,Y){if(_.length===0)return Y;if(Y.length===0)return _;for(var E=[],Z=0,ne=0,V=null;Z<_.length||ne<Y.length;){var B=null;if(Z<_.length&&ne<Y.length){var F=_[Z],W=Y[ne];F.startLineNumber<W.startLineNumber?(B=F,Z++):(B=W,ne++)}else Z<_.length?(B=_[Z],Z++):(B=Y[ne],ne++);V===null?V=B:V.endLineNumberExclusive>=B.startLineNumber?V=new te(V.startLineNumber,Math.max(V.endLineNumberExclusive,B.endLineNumberExclusive)):(E.push(V),V=B)}return V!==null&&E.push(V),E}},{key:"ofLength",value:function(_,Y){return new te(_,_+Y)}}]),te}()},VPJY:function(mn,U,a){},Vhoy:function(mn,U,a){"use strict";a.d(U,"b",function(){return ve}),a.d(U,"a",function(){return se});var ce=a("746U"),we=Object.create(null);function w(te,$){if(Object(ce.i)($)){var _=we[$];if(_===void 0)throw new Error("".concat(te," references an unknown codicon: ").concat($));$=_}return we[te]=$,{id:te}}function ve(){return we}var se={add:w("add",6e4),plus:w("plus",6e4),gistNew:w("gist-new",6e4),repoCreate:w("repo-create",6e4),lightbulb:w("lightbulb",60001),lightBulb:w("light-bulb",60001),repo:w("repo",60002),repoDelete:w("repo-delete",60002),gistFork:w("gist-fork",60003),repoForked:w("repo-forked",60003),gitPullRequest:w("git-pull-request",60004),gitPullRequestAbandoned:w("git-pull-request-abandoned",60004),recordKeys:w("record-keys",60005),keyboard:w("keyboard",60005),tag:w("tag",60006),tagAdd:w("tag-add",60006),tagRemove:w("tag-remove",60006),person:w("person",60007),personFollow:w("person-follow",60007),personOutline:w("person-outline",60007),personFilled:w("person-filled",60007),gitBranch:w("git-branch",60008),gitBranchCreate:w("git-branch-create",60008),gitBranchDelete:w("git-branch-delete",60008),sourceControl:w("source-control",60008),mirror:w("mirror",60009),mirrorPublic:w("mirror-public",60009),star:w("star",60010),starAdd:w("star-add",60010),starDelete:w("star-delete",60010),starEmpty:w("star-empty",60010),comment:w("comment",60011),commentAdd:w("comment-add",60011),alert:w("alert",60012),warning:w("warning",60012),search:w("search",60013),searchSave:w("search-save",60013),logOut:w("log-out",60014),signOut:w("sign-out",60014),logIn:w("log-in",60015),signIn:w("sign-in",60015),eye:w("eye",60016),eyeUnwatch:w("eye-unwatch",60016),eyeWatch:w("eye-watch",60016),circleFilled:w("circle-filled",60017),primitiveDot:w("primitive-dot",60017),closeDirty:w("close-dirty",60017),debugBreakpoint:w("debug-breakpoint",60017),debugBreakpointDisabled:w("debug-breakpoint-disabled",60017),debugHint:w("debug-hint",60017),primitiveSquare:w("primitive-square",60018),edit:w("edit",60019),pencil:w("pencil",60019),info:w("info",60020),issueOpened:w("issue-opened",60020),gistPrivate:w("gist-private",60021),gitForkPrivate:w("git-fork-private",60021),lock:w("lock",60021),mirrorPrivate:w("mirror-private",60021),close:w("close",60022),removeClose:w("remove-close",60022),x:w("x",60022),repoSync:w("repo-sync",60023),sync:w("sync",60023),clone:w("clone",60024),desktopDownload:w("desktop-download",60024),beaker:w("beaker",60025),microscope:w("microscope",60025),vm:w("vm",60026),deviceDesktop:w("device-desktop",60026),file:w("file",60027),fileText:w("file-text",60027),more:w("more",60028),ellipsis:w("ellipsis",60028),kebabHorizontal:w("kebab-horizontal",60028),mailReply:w("mail-reply",60029),reply:w("reply",60029),organization:w("organization",60030),organizationFilled:w("organization-filled",60030),organizationOutline:w("organization-outline",60030),newFile:w("new-file",60031),fileAdd:w("file-add",60031),newFolder:w("new-folder",60032),fileDirectoryCreate:w("file-directory-create",60032),trash:w("trash",60033),trashcan:w("trashcan",60033),history:w("history",60034),clock:w("clock",60034),folder:w("folder",60035),fileDirectory:w("file-directory",60035),symbolFolder:w("symbol-folder",60035),logoGithub:w("logo-github",60036),markGithub:w("mark-github",60036),github:w("github",60036),terminal:w("terminal",60037),console:w("console",60037),repl:w("repl",60037),zap:w("zap",60038),symbolEvent:w("symbol-event",60038),error:w("error",60039),stop:w("stop",60039),variable:w("variable",60040),symbolVariable:w("symbol-variable",60040),array:w("array",60042),symbolArray:w("symbol-array",60042),symbolModule:w("symbol-module",60043),symbolPackage:w("symbol-package",60043),symbolNamespace:w("symbol-namespace",60043),symbolObject:w("symbol-object",60043),symbolMethod:w("symbol-method",60044),symbolFunction:w("symbol-function",60044),symbolConstructor:w("symbol-constructor",60044),symbolBoolean:w("symbol-boolean",60047),symbolNull:w("symbol-null",60047),symbolNumeric:w("symbol-numeric",60048),symbolNumber:w("symbol-number",60048),symbolStructure:w("symbol-structure",60049),symbolStruct:w("symbol-struct",60049),symbolParameter:w("symbol-parameter",60050),symbolTypeParameter:w("symbol-type-parameter",60050),symbolKey:w("symbol-key",60051),symbolText:w("symbol-text",60051),symbolReference:w("symbol-reference",60052),goToFile:w("go-to-file",60052),symbolEnum:w("symbol-enum",60053),symbolValue:w("symbol-value",60053),symbolRuler:w("symbol-ruler",60054),symbolUnit:w("symbol-unit",60054),activateBreakpoints:w("activate-breakpoints",60055),archive:w("archive",60056),arrowBoth:w("arrow-both",60057),arrowDown:w("arrow-down",60058),arrowLeft:w("arrow-left",60059),arrowRight:w("arrow-right",60060),arrowSmallDown:w("arrow-small-down",60061),arrowSmallLeft:w("arrow-small-left",60062),arrowSmallRight:w("arrow-small-right",60063),arrowSmallUp:w("arrow-small-up",60064),arrowUp:w("arrow-up",60065),bell:w("bell",60066),bold:w("bold",60067),book:w("book",60068),bookmark:w("bookmark",60069),debugBreakpointConditionalUnverified:w("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:w("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:w("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:w("debug-breakpoint-data-unverified",60072),debugBreakpointData:w("debug-breakpoint-data",60073),debugBreakpointDataDisabled:w("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:w("debug-breakpoint-log-unverified",60074),debugBreakpointLog:w("debug-breakpoint-log",60075),debugBreakpointLogDisabled:w("debug-breakpoint-log-disabled",60075),briefcase:w("briefcase",60076),broadcast:w("broadcast",60077),browser:w("browser",60078),bug:w("bug",60079),calendar:w("calendar",60080),caseSensitive:w("case-sensitive",60081),check:w("check",60082),checklist:w("checklist",60083),chevronDown:w("chevron-down",60084),dropDownButton:w("drop-down-button",60084),chevronLeft:w("chevron-left",60085),chevronRight:w("chevron-right",60086),chevronUp:w("chevron-up",60087),chromeClose:w("chrome-close",60088),chromeMaximize:w("chrome-maximize",60089),chromeMinimize:w("chrome-minimize",60090),chromeRestore:w("chrome-restore",60091),circle:w("circle",60092),circleOutline:w("circle-outline",60092),debugBreakpointUnverified:w("debug-breakpoint-unverified",60092),circleSlash:w("circle-slash",60093),circuitBoard:w("circuit-board",60094),clearAll:w("clear-all",60095),clippy:w("clippy",60096),closeAll:w("close-all",60097),cloudDownload:w("cloud-download",60098),cloudUpload:w("cloud-upload",60099),code:w("code",60100),collapseAll:w("collapse-all",60101),colorMode:w("color-mode",60102),commentDiscussion:w("comment-discussion",60103),compareChanges:w("compare-changes",60157),creditCard:w("credit-card",60105),dash:w("dash",60108),dashboard:w("dashboard",60109),database:w("database",60110),debugContinue:w("debug-continue",60111),debugDisconnect:w("debug-disconnect",60112),debugPause:w("debug-pause",60113),debugRestart:w("debug-restart",60114),debugStart:w("debug-start",60115),debugStepInto:w("debug-step-into",60116),debugStepOut:w("debug-step-out",60117),debugStepOver:w("debug-step-over",60118),debugStop:w("debug-stop",60119),debug:w("debug",60120),deviceCameraVideo:w("device-camera-video",60121),deviceCamera:w("device-camera",60122),deviceMobile:w("device-mobile",60123),diffAdded:w("diff-added",60124),diffIgnored:w("diff-ignored",60125),diffModified:w("diff-modified",60126),diffRemoved:w("diff-removed",60127),diffRenamed:w("diff-renamed",60128),diff:w("diff",60129),discard:w("discard",60130),editorLayout:w("editor-layout",60131),emptyWindow:w("empty-window",60132),exclude:w("exclude",60133),extensions:w("extensions",60134),eyeClosed:w("eye-closed",60135),fileBinary:w("file-binary",60136),fileCode:w("file-code",60137),fileMedia:w("file-media",60138),filePdf:w("file-pdf",60139),fileSubmodule:w("file-submodule",60140),fileSymlinkDirectory:w("file-symlink-directory",60141),fileSymlinkFile:w("file-symlink-file",60142),fileZip:w("file-zip",60143),files:w("files",60144),filter:w("filter",60145),flame:w("flame",60146),foldDown:w("fold-down",60147),foldUp:w("fold-up",60148),fold:w("fold",60149),folderActive:w("folder-active",60150),folderOpened:w("folder-opened",60151),gear:w("gear",60152),gift:w("gift",60153),gistSecret:w("gist-secret",60154),gist:w("gist",60155),gitCommit:w("git-commit",60156),gitCompare:w("git-compare",60157),gitMerge:w("git-merge",60158),githubAction:w("github-action",60159),githubAlt:w("github-alt",60160),globe:w("globe",60161),grabber:w("grabber",60162),graph:w("graph",60163),gripper:w("gripper",60164),heart:w("heart",60165),home:w("home",60166),horizontalRule:w("horizontal-rule",60167),hubot:w("hubot",60168),inbox:w("inbox",60169),issueClosed:w("issue-closed",60324),issueReopened:w("issue-reopened",60171),issues:w("issues",60172),italic:w("italic",60173),jersey:w("jersey",60174),json:w("json",60175),bracket:w("bracket",60175),kebabVertical:w("kebab-vertical",60176),key:w("key",60177),law:w("law",60178),lightbulbAutofix:w("lightbulb-autofix",60179),linkExternal:w("link-external",60180),link:w("link",60181),listOrdered:w("list-ordered",60182),listUnordered:w("list-unordered",60183),liveShare:w("live-share",60184),loading:w("loading",60185),location:w("location",60186),mailRead:w("mail-read",60187),mail:w("mail",60188),markdown:w("markdown",60189),megaphone:w("megaphone",60190),mention:w("mention",60191),milestone:w("milestone",60192),mortarBoard:w("mortar-board",60193),move:w("move",60194),multipleWindows:w("multiple-windows",60195),mute:w("mute",60196),noNewline:w("no-newline",60197),note:w("note",60198),octoface:w("octoface",60199),openPreview:w("open-preview",60200),package_:w("package",60201),paintcan:w("paintcan",60202),pin:w("pin",60203),play:w("play",60204),run:w("run",60204),plug:w("plug",60205),preserveCase:w("preserve-case",60206),preview:w("preview",60207),project:w("project",60208),pulse:w("pulse",60209),question:w("question",60210),quote:w("quote",60211),radioTower:w("radio-tower",60212),reactions:w("reactions",60213),references:w("references",60214),refresh:w("refresh",60215),regex:w("regex",60216),remoteExplorer:w("remote-explorer",60217),remote:w("remote",60218),remove:w("remove",60219),replaceAll:w("replace-all",60220),replace:w("replace",60221),repoClone:w("repo-clone",60222),repoForcePush:w("repo-force-push",60223),repoPull:w("repo-pull",60224),repoPush:w("repo-push",60225),report:w("report",60226),requestChanges:w("request-changes",60227),rocket:w("rocket",60228),rootFolderOpened:w("root-folder-opened",60229),rootFolder:w("root-folder",60230),rss:w("rss",60231),ruby:w("ruby",60232),saveAll:w("save-all",60233),saveAs:w("save-as",60234),save:w("save",60235),screenFull:w("screen-full",60236),screenNormal:w("screen-normal",60237),searchStop:w("search-stop",60238),server:w("server",60240),settingsGear:w("settings-gear",60241),settings:w("settings",60242),shield:w("shield",60243),smiley:w("smiley",60244),sortPrecedence:w("sort-precedence",60245),splitHorizontal:w("split-horizontal",60246),splitVertical:w("split-vertical",60247),squirrel:w("squirrel",60248),starFull:w("star-full",60249),starHalf:w("star-half",60250),symbolClass:w("symbol-class",60251),symbolColor:w("symbol-color",60252),symbolCustomColor:w("symbol-customcolor",60252),symbolConstant:w("symbol-constant",60253),symbolEnumMember:w("symbol-enum-member",60254),symbolField:w("symbol-field",60255),symbolFile:w("symbol-file",60256),symbolInterface:w("symbol-interface",60257),symbolKeyword:w("symbol-keyword",60258),symbolMisc:w("symbol-misc",60259),symbolOperator:w("symbol-operator",60260),symbolProperty:w("symbol-property",60261),wrench:w("wrench",60261),wrenchSubaction:w("wrench-subaction",60261),symbolSnippet:w("symbol-snippet",60262),tasklist:w("tasklist",60263),telescope:w("telescope",60264),textSize:w("text-size",60265),threeBars:w("three-bars",60266),thumbsdown:w("thumbsdown",60267),thumbsup:w("thumbsup",60268),tools:w("tools",60269),triangleDown:w("triangle-down",60270),triangleLeft:w("triangle-left",60271),triangleRight:w("triangle-right",60272),triangleUp:w("triangle-up",60273),twitter:w("twitter",60274),unfold:w("unfold",60275),unlock:w("unlock",60276),unmute:w("unmute",60277),unverified:w("unverified",60278),verified:w("verified",60279),versions:w("versions",60280),vmActive:w("vm-active",60281),vmOutline:w("vm-outline",60282),vmRunning:w("vm-running",60283),watch:w("watch",60284),whitespace:w("whitespace",60285),wholeWord:w("whole-word",60286),window:w("window",60287),wordWrap:w("word-wrap",60288),zoomIn:w("zoom-in",60289),zoomOut:w("zoom-out",60290),listFilter:w("list-filter",60291),listFlat:w("list-flat",60292),listSelection:w("list-selection",60293),selection:w("selection",60293),listTree:w("list-tree",60294),debugBreakpointFunctionUnverified:w("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:w("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:w("debug-breakpoint-function-disabled",60296),debugStackframeActive:w("debug-stackframe-active",60297),circleSmallFilled:w("circle-small-filled",60298),debugStackframeDot:w("debug-stackframe-dot",60298),debugStackframe:w("debug-stackframe",60299),debugStackframeFocused:w("debug-stackframe-focused",60299),debugBreakpointUnsupported:w("debug-breakpoint-unsupported",60300),symbolString:w("symbol-string",60301),debugReverseContinue:w("debug-reverse-continue",60302),debugStepBack:w("debug-step-back",60303),debugRestartFrame:w("debug-restart-frame",60304),callIncoming:w("call-incoming",60306),callOutgoing:w("call-outgoing",60307),menu:w("menu",60308),expandAll:w("expand-all",60309),feedback:w("feedback",60310),groupByRefType:w("group-by-ref-type",60311),ungroupByRefType:w("ungroup-by-ref-type",60312),account:w("account",60313),bellDot:w("bell-dot",60314),debugConsole:w("debug-console",60315),library:w("library",60316),output:w("output",60317),runAll:w("run-all",60318),syncIgnored:w("sync-ignored",60319),pinned:w("pinned",60320),githubInverted:w("github-inverted",60321),debugAlt:w("debug-alt",60305),serverProcess:w("server-process",60322),serverEnvironment:w("server-environment",60323),pass:w("pass",60324),stopCircle:w("stop-circle",60325),playCircle:w("play-circle",60326),record:w("record",60327),debugAltSmall:w("debug-alt-small",60328),vmConnect:w("vm-connect",60329),cloud:w("cloud",60330),merge:w("merge",60331),exportIcon:w("export",60332),graphLeft:w("graph-left",60333),magnet:w("magnet",60334),notebook:w("notebook",60335),redo:w("redo",60336),checkAll:w("check-all",60337),pinnedDirty:w("pinned-dirty",60338),passFilled:w("pass-filled",60339),circleLargeFilled:w("circle-large-filled",60340),circleLarge:w("circle-large",60341),circleLargeOutline:w("circle-large-outline",60341),combine:w("combine",60342),gather:w("gather",60342),table:w("table",60343),variableGroup:w("variable-group",60344),typeHierarchy:w("type-hierarchy",60345),typeHierarchySub:w("type-hierarchy-sub",60346),typeHierarchySuper:w("type-hierarchy-super",60347),gitPullRequestCreate:w("git-pull-request-create",60348),runAbove:w("run-above",60349),runBelow:w("run-below",60350),notebookTemplate:w("notebook-template",60351),debugRerun:w("debug-rerun",60352),workspaceTrusted:w("workspace-trusted",60353),workspaceUntrusted:w("workspace-untrusted",60354),workspaceUnspecified:w("workspace-unspecified",60355),terminalCmd:w("terminal-cmd",60356),terminalDebian:w("terminal-debian",60357),terminalLinux:w("terminal-linux",60358),terminalPowershell:w("terminal-powershell",60359),terminalTmux:w("terminal-tmux",60360),terminalUbuntu:w("terminal-ubuntu",60361),terminalBash:w("terminal-bash",60362),arrowSwap:w("arrow-swap",60363),copy:w("copy",60364),personAdd:w("person-add",60365),filterFilled:w("filter-filled",60366),wand:w("wand",60367),debugLineByLine:w("debug-line-by-line",60368),inspect:w("inspect",60369),layers:w("layers",60370),layersDot:w("layers-dot",60371),layersActive:w("layers-active",60372),compass:w("compass",60373),compassDot:w("compass-dot",60374),compassActive:w("compass-active",60375),azure:w("azure",60376),issueDraft:w("issue-draft",60377),gitPullRequestClosed:w("git-pull-request-closed",60378),gitPullRequestDraft:w("git-pull-request-draft",60379),debugAll:w("debug-all",60380),debugCoverage:w("debug-coverage",60381),runErrors:w("run-errors",60382),folderLibrary:w("folder-library",60383),debugContinueSmall:w("debug-continue-small",60384),beakerStop:w("beaker-stop",60385),graphLine:w("graph-line",60386),graphScatter:w("graph-scatter",60387),pieChart:w("pie-chart",60388),bracketDot:w("bracket-dot",60389),bracketError:w("bracket-error",60390),lockSmall:w("lock-small",60391),azureDevops:w("azure-devops",60392),verifiedFilled:w("verified-filled",60393),newLine:w("newline",60394),layout:w("layout",60395),layoutActivitybarLeft:w("layout-activitybar-left",60396),layoutActivitybarRight:w("layout-activitybar-right",60397),layoutPanelLeft:w("layout-panel-left",60398),layoutPanelCenter:w("layout-panel-center",60399),layoutPanelJustify:w("layout-panel-justify",60400),layoutPanelRight:w("layout-panel-right",60401),layoutPanel:w("layout-panel",60402),layoutSidebarLeft:w("layout-sidebar-left",60403),layoutSidebarRight:w("layout-sidebar-right",60404),layoutStatusbar:w("layout-statusbar",60405),layoutMenubar:w("layout-menubar",60406),layoutCentered:w("layout-centered",60407),layoutSidebarRightOff:w("layout-sidebar-right-off",60416),layoutPanelOff:w("layout-panel-off",60417),layoutSidebarLeftOff:w("layout-sidebar-left-off",60418),target:w("target",60408),indent:w("indent",60409),recordSmall:w("record-small",60410),errorSmall:w("error-small",60411),arrowCircleDown:w("arrow-circle-down",60412),arrowCircleLeft:w("arrow-circle-left",60413),arrowCircleRight:w("arrow-circle-right",60414),arrowCircleUp:w("arrow-circle-up",60415),heartFilled:w("heart-filled",60420),map:w("map",60421),mapFilled:w("map-filled",60422),circleSmall:w("circle-small",60423),bellSlash:w("bell-slash",60424),bellSlashDot:w("bell-slash-dot",60425),commentUnresolved:w("comment-unresolved",60426),gitPullRequestGoToChanges:w("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:w("git-pull-request-new-changes",60428),searchFuzzy:w("search-fuzzy",60429),commentDraft:w("comment-draft",60430),send:w("send",60431),sparkle:w("sparkle",60432),insert:w("insert",60433),dialogError:w("dialog-error","error"),dialogWarning:w("dialog-warning","warning"),dialogInfo:w("dialog-info","info"),dialogClose:w("dialog-close","close"),treeItemExpanded:w("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:w("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:w("tree-filter-on-type-off","list-selection"),treeFilterClear:w("tree-filter-clear","close"),treeItemLoading:w("tree-item-loading","loading"),menuSelection:w("menu-selection","check"),menuSubmenu:w("menu-submenu","chevron-right"),menuBarMore:w("menubar-more","more"),scrollbarButtonLeft:w("scrollbar-button-left","triangle-left"),scrollbarButtonRight:w("scrollbar-button-right","triangle-right"),scrollbarButtonUp:w("scrollbar-button-up","triangle-up"),scrollbarButtonDown:w("scrollbar-button-down","triangle-down"),toolBarMore:w("toolbar-more","more"),quickInputBack:w("quick-input-back","arrow-left")}},Vk6M:function(mn,U,a){"use strict";a.d(U,"a",function(){return _});var ce=a("mtLc"),we=a("fWQN"),w=a("yKVA"),ve=a("879j"),se=a("MXAL"),te=function(Y){Object(w.a)(Z,Y);var E=Object(ve.a)(Z);function Z(ne){var V;Object(we.a)(this,Z),V=E.call(this,0);for(var B=0,F=ne.length;B<F;B++)V.set(ne.charCodeAt(B),2);return V.set(32,1),V.set(9,1),V}return Object(ce.a)(Z)}(se.a);function $(Y){var E={};return function(Z){return E.hasOwnProperty(Z)||(E[Z]=Y(Z)),E[Z]}}var _=$(function(Y){return new te(Y)})},Vtyv:function(mn,U,a){},VvMK:function(mn,U,a){},Vxe3:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("codeEditorService")},VzZb:function(mn,U,a){},W1oj:function(mn,U,a){},W38Z:function(mn,U,a){},W7of:function(mn,U,a){"use strict";a.d(U,"a",function(){return ce});var ce;(function(we){var w={total:0,min:Number.MAX_VALUE,max:0},ve=Object.assign({},w),se=Object.assign({},w),te=Object.assign({},w),$=0,_={keydown:0,input:0,render:0};function Y(){d(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),_.keydown=1,queueMicrotask(E)}we.onKeyDown=Y;function E(){_.keydown===1&&(performance.mark("keydown/end"),_.keydown=2)}function Z(){performance.mark("input/start"),_.input=1,H()}we.onBeforeInput=Z;function ne(){_.input===0&&Z(),queueMicrotask(V)}we.onInput=ne;function V(){_.input===1&&(performance.mark("input/end"),_.input=2)}function B(){d()}we.onKeyUp=B;function F(){d()}we.onSelectionChange=F;function W(){_.keydown===2&&_.input===2&&_.render===0&&(performance.mark("render/start"),_.render=1,queueMicrotask(N),H())}we.onRenderStart=W;function N(){_.render===1&&(performance.mark("render/end"),_.render=2)}function H(){setTimeout(d)}function d(){_.keydown===2&&_.input===2&&_.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),D("keydown",w),D("input",ve),D("render",se),D("inputlatency",te),$++,C())}function D(z,I){var de=performance.getEntriesByName(z)[0].duration;I.total+=de,I.min=Math.min(I.min,de),I.max=Math.max(I.max,de)}function C(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),_.keydown=0,_.input=0,_.render=0}function x(){if($!==0){var z={keydown:O(w),input:O(ve),render:O(se),total:O(te),sampleCount:$};return T(w),T(ve),T(se),T(te),$=0,z}}we.getAndClearMeasurements=x;function O(z){return{average:z.total/$,max:z.max,min:z.min}}function T(z){z.total=0,z.min=Number.MAX_VALUE,z.max=0}})(ce||(ce={}))},W9cx:function(mn,U,a){"use strict";a.d(U,"a",function(){return ve}),a.d(U,"c",function(){return se}),a.d(U,"d",function(){return te}),a.d(U,"b",function(){return $});var ce=a("N0LK"),we=a("bY76"),w=a("Cg/j"),ve=Object(w.c)("openerService");function se(_,Y){return we.a.isUri(_)?Object(ce.r)(_.scheme,Y):Object(ce.T)(_,Y+":")}function te(_){for(var Y=arguments.length,E=new Array(Y>1?Y-1:0),Z=1;Z<Y;Z++)E[Z-1]=arguments[Z];return E.some(function(ne){return se(_,ne)})}function $(_){var Y=void 0,E=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(_.fragment);return E&&(Y={startLineNumber:parseInt(E[1]),startColumn:E[2]?parseInt(E[2]):1,endLineNumber:E[4]?parseInt(E[4]):void 0,endColumn:E[4]?E[5]?parseInt(E[5]):1:void 0},_=_.with({fragment:""})),{selection:Y,uri:_}}},WDji:function(mn,U,a){},WHLJ:function(mn,U,a){},WqXY:function(mn,U,a){"use strict";a.d(U,"a",function(){return H});var ce=a("qLMh"),we=a("fWQN"),w=a("mtLc"),ve=a("w4Tj"),se=a("oZsa"),te=a("yKVA"),$=a("879j"),_=a("EffR"),Y=a("uDWl"),E=a("7/Ik"),Z=a("8HAY"),ne=a("MI8n"),V=a("pmY6"),B=a("746U"),F=a("yEoX"),W=a.n(F),N=function(d,D,C,x){function O(T){return T instanceof C?T:new C(function(z){z(T)})}return new(C||(C=Promise))(function(T,z){function I(fe){try{pe(x.next(fe))}catch(ke){z(ke)}}function de(fe){try{pe(x.throw(fe))}catch(ke){z(ke)}}function pe(fe){fe.done?T(fe.value):O(fe.value).then(I,de)}pe((x=x.apply(d,D||[])).next())})},H=function(d){Object(te.a)(C,d);var D=Object($.a)(C);function C(x){var O,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object(we.a)(this,C);var z,I,de,pe,fe,ke;O=D.call(this),O._actionRunnerDisposables=O._register(new V.c),O.viewItemDisposables=O._register(new V.b),O.triggerKeyDown=!1,O.focusable=!0,O._onDidBlur=O._register(new ne.b),O.onDidBlur=O._onDidBlur.event,O._onDidCancel=O._register(new ne.b({onWillAddFirstListener:function(){return O.cancelHasListener=!0}})),O.onDidCancel=O._onDidCancel.event,O.cancelHasListener=!1,O._onDidRun=O._register(new ne.b),O.onDidRun=O._onDidRun.event,O._onWillRun=O._register(new ne.b),O.onWillRun=O._onWillRun.event,O.options=T,O._context=(z=T.context)!==null&&z!==void 0?z:null,O._orientation=(I=O.options.orientation)!==null&&I!==void 0?I:0,O._triggerKeys={keyDown:(pe=(de=O.options.triggerKeys)===null||de===void 0?void 0:de.keyDown)!==null&&pe!==void 0?pe:!1,keys:(ke=(fe=O.options.triggerKeys)===null||fe===void 0?void 0:fe.keys)!==null&&ke!==void 0?ke:[3,10]},O.options.actionRunner?O._actionRunner=O.options.actionRunner:(O._actionRunner=new Z.b,O._actionRunnerDisposables.add(O._actionRunner)),O._actionRunnerDisposables.add(O._actionRunner.onDidRun(function(G){return O._onDidRun.fire(G)})),O._actionRunnerDisposables.add(O._actionRunner.onWillRun(function(G){return O._onWillRun.fire(G)})),O.viewItems=[],O.focusedItem=void 0,O.domNode=document.createElement("div"),O.domNode.className="monaco-action-bar",T.animated!==!1&&O.domNode.classList.add("animated");var A,P;switch(O._orientation){case 0:A=[15],P=[17];break;case 1:A=[16],P=[18],O.domNode.className+=" vertical";break}return O._register(_.addDisposableListener(O.domNode,_.EventType.KEY_DOWN,function(G){var re=new Y.a(G),ae=!0,Q=typeof O.focusedItem=="number"?O.viewItems[O.focusedItem]:void 0;A&&(re.equals(A[0])||re.equals(A[1]))?ae=O.focusPrevious():P&&(re.equals(P[0])||re.equals(P[1]))?ae=O.focusNext():re.equals(9)&&O.cancelHasListener?O._onDidCancel.fire():re.equals(14)?ae=O.focusFirst():re.equals(13)?ae=O.focusLast():re.equals(2)&&Q instanceof E.b&&Q.trapsArrowNavigation?ae=O.focusNext():O.isTriggerKeyEvent(re)?O._triggerKeys.keyDown?O.doTrigger(re):O.triggerKeyDown=!0:ae=!1,ae&&(re.preventDefault(),re.stopPropagation())})),O._register(_.addDisposableListener(O.domNode,_.EventType.KEY_UP,function(G){var re=new Y.a(G);O.isTriggerKeyEvent(re)?(!O._triggerKeys.keyDown&&O.triggerKeyDown&&(O.triggerKeyDown=!1,O.doTrigger(re)),re.preventDefault(),re.stopPropagation()):(re.equals(2)||re.equals(1024|2))&&O.updateFocusedItem()})),O.focusTracker=O._register(_.trackFocus(O.domNode)),O._register(O.focusTracker.onDidBlur(function(){(_.getActiveElement()===O.domNode||!_.isAncestor(_.getActiveElement(),O.domNode))&&(O._onDidBlur.fire(),O.focusedItem=void 0,O.previouslyFocusedItem=void 0,O.triggerKeyDown=!1)})),O._register(O.focusTracker.onDidFocus(function(){return O.updateFocusedItem()})),O.actionsList=document.createElement("ul"),O.actionsList.className="actions-container",O.actionsList.setAttribute("role",O.options.ariaRole||"toolbar"),O.options.ariaLabel&&O.actionsList.setAttribute("aria-label",O.options.ariaLabel),O.domNode.appendChild(O.actionsList),x.appendChild(O.domNode),O}return Object(w.a)(C,[{key:"refreshRole",value:function(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}},{key:"setFocusable",value:function(O){if(this.focusable=O,this.focusable){var T=this.viewItems.find(function(z){return z instanceof E.b&&z.isEnabled()});T instanceof E.b&&T.setFocusable(!0)}else this.viewItems.forEach(function(z){z instanceof E.b&&z.setFocusable(!1)})}},{key:"isTriggerKeyEvent",value:function(O){var T=!1;return this._triggerKeys.keys.forEach(function(z){T=T||O.equals(z)}),T}},{key:"updateFocusedItem",value:function(){for(var O=0;O<this.actionsList.children.length;O++){var T=this.actionsList.children[O];if(_.isAncestor(_.getActiveElement(),T)){this.focusedItem=O;break}}}},{key:"context",get:function(){return this._context},set:function(O){this._context=O,this.viewItems.forEach(function(T){return T.setActionContext(O)})}},{key:"actionRunner",get:function(){return this._actionRunner},set:function(O){var T=this;this._actionRunner=O,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(function(z){return T._onDidRun.fire(z)})),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(function(z){return T._onWillRun.fire(z)})),this.viewItems.forEach(function(z){return z.actionRunner=O})}},{key:"getContainer",value:function(){return this.domNode}},{key:"getAction",value:function(O){var T;if(typeof O=="number")return(T=this.viewItems[O])===null||T===void 0?void 0:T.action;if(O instanceof HTMLElement){for(;O.parentElement!==this.actionsList;){if(!O.parentElement)return;O=O.parentElement}for(var z=0;z<this.actionsList.childNodes.length;z++)if(this.actionsList.childNodes[z]===O)return this.viewItems[z].action}}},{key:"push",value:function(O){var T=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=Array.isArray(O)?O:[O],de=B.g(z.index)?z.index:null;I.forEach(function(pe){var fe=document.createElement("li");fe.className="action-item",fe.setAttribute("role","presentation");var ke,A=Object.assign({hoverDelegate:T.options.hoverDelegate},z);T.options.actionViewItemProvider&&(ke=T.options.actionViewItemProvider(pe,A)),ke||(ke=new E.a(T.context,pe,A)),T.options.allowContextMenu||T.viewItemDisposables.set(ke,_.addDisposableListener(fe,_.EventType.CONTEXT_MENU,function(P){_.EventHelper.stop(P,!0)})),ke.actionRunner=T._actionRunner,ke.setActionContext(T.context),ke.render(fe),T.focusable&&ke instanceof E.b&&T.viewItems.length===0&&ke.setFocusable(!0),de===null||de<0||de>=T.actionsList.children.length?(T.actionsList.appendChild(fe),T.viewItems.push(ke)):(T.actionsList.insertBefore(fe,T.actionsList.children[de]),T.viewItems.splice(de,0,ke),de++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}},{key:"clear",value:function(){this.isEmpty()||(this.viewItems=Object(V.i)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),_.clearNode(this.actionsList),this.refreshRole())}},{key:"length",value:function(){return this.viewItems.length}},{key:"isEmpty",value:function(){return this.viewItems.length===0}},{key:"focus",value:function(O){var T=!1,z=void 0;if(O===void 0?T=!0:typeof O=="number"?z=O:typeof O=="boolean"&&(T=O),T&&typeof this.focusedItem=="undefined"){var I=this.viewItems.findIndex(function(de){return de.isEnabled()});this.focusedItem=I===-1?void 0:I,this.updateFocus(void 0,void 0,!0)}else z!==void 0&&(this.focusedItem=z),this.updateFocus(void 0,void 0,!0)}},{key:"focusFirst",value:function(){return this.focusedItem=this.length()-1,this.focusNext(!0)}},{key:"focusLast",value:function(){return this.focusedItem=0,this.focusPrevious(!0)}},{key:"focusNext",value:function(O){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;var T=this.focusedItem,z;do{if(!O&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=T,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,z=this.viewItems[this.focusedItem]}while(this.focusedItem!==T&&(this.options.focusOnlyEnabledItems&&!z.isEnabled()||z.action.id===Z.d.ID));return this.updateFocus(),!0}},{key:"focusPrevious",value:function(O){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;var T=this.focusedItem,z;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!O&&this.options.preventLoopNavigation)return this.focusedItem=T,!1;this.focusedItem=this.viewItems.length-1}z=this.viewItems[this.focusedItem]}while(this.focusedItem!==T&&(this.options.focusOnlyEnabledItems&&!z.isEnabled()||z.action.id===Z.d.ID));return this.updateFocus(!0),!0}},{key:"updateFocus",value:function(O,T){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,I;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:T}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((I=this.viewItems[this.previouslyFocusedItem])===null||I===void 0||I.blur());var de=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(de){var pe=!0;B.e(de.focus)||(pe=!1),this.options.focusOnlyEnabledItems&&B.e(de.isEnabled)&&!de.isEnabled()&&(pe=!1),de.action.id===Z.d.ID&&(pe=!1),pe?(z||this.previouslyFocusedItem!==this.focusedItem)&&(de.focus(O),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:T}),this.previouslyFocusedItem=void 0)}}},{key:"doTrigger",value:function(O){if(typeof this.focusedItem!="undefined"){var T=this.viewItems[this.focusedItem];if(T instanceof E.b){var z=T._context===null||T._context===void 0?O:T._context;this.run(T._action,z)}}}},{key:"run",value:function(O,T){return N(this,void 0,void 0,Object(ce.a)().mark(function z(){return Object(ce.a)().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,this._actionRunner.run(O,T);case 2:case"end":return de.stop()}},z,this)}))}},{key:"dispose",value:function(){this._context=void 0,this.viewItems=Object(V.i)(this.viewItems),this.getContainer().remove(),Object(ve.a)(Object(se.a)(C.prototype),"dispose",this).call(this)}}]),C}(V.a)},"X+cX":function(mn,U,a){"use strict";a.d(U,"n",function(){return B}),a.d(U,"k",function(){return F}),a.d(U,"o",function(){return W}),a.d(U,"c",function(){return D}),a.d(U,"h",function(){return C}),a.d(U,"q",function(){return x}),a.d(U,"l",function(){return O}),a.d(U,"m",function(){return T}),a.d(U,"i",function(){return z}),a.d(U,"e",function(){return I}),a.d(U,"g",function(){return de}),a.d(U,"p",function(){return pe}),a.d(U,"d",function(){return fe}),a.d(U,"b",function(){return ke}),a.d(U,"f",function(){return A}),a.d(U,"a",function(){return P}),a.d(U,"j",function(){return re});var ce=a("yKVA"),we=a("879j"),w=a("qLMh"),ve=a("fWQN"),se=a("mtLc"),te=a("JQT/"),$=a("/cxE"),_=a("MI8n"),Y=a("pmY6"),E=a("MNsG"),Z=a("3fZx"),ne=function(ae,Q,J,me){function ge(L){return L instanceof J?L:new J(function(De){De(L)})}return new(J||(J=Promise))(function(L,De){function Ae(Ne){try{Pe(me.next(Ne))}catch(Fe){De(Fe)}}function Oe(Ne){try{Pe(me.throw(Ne))}catch(Fe){De(Fe)}}function Pe(Ne){Ne.done?L(Ne.value):ge(Ne.value).then(Ae,Oe)}Pe((me=me.apply(ae,Q||[])).next())})},V=function(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=ae[Symbol.asyncIterator],J;return Q?Q.call(ae):(ae=typeof __values=="function"?__values(ae):ae[Symbol.iterator](),J={},me("next"),me("throw"),me("return"),J[Symbol.asyncIterator]=function(){return this},J);function me(L){J[L]=ae[L]&&function(De){return new Promise(function(Ae,Oe){De=ae[L](De),ge(Ae,Oe,De.done,De.value)})}}function ge(L,De,Ae,Oe){Promise.resolve(Oe).then(function(Pe){L({value:Pe,done:Ae})},De)}};function B(ae){return!!ae&&typeof ae.then=="function"}function F(ae){var Q=new te.b,J=ae(Q.token),me=new Promise(function(ge,L){var De=Q.token.onCancellationRequested(function(){De.dispose(),Q.dispose(),L(new $.b)});Promise.resolve(J).then(function(Ae){De.dispose(),Q.dispose(),ge(Ae)},function(Ae){De.dispose(),Q.dispose(),L(Ae)})});return new(function(){function ge(){Object(ve.a)(this,ge)}return Object(se.a)(ge,[{key:"cancel",value:function(){Q.cancel()}},{key:"then",value:function(De,Ae){return me.then(De,Ae)}},{key:"catch",value:function(De){return this.then(void 0,De)}},{key:"finally",value:function(De){return me.finally(De)}}]),ge}())}function W(ae,Q,J){return new Promise(function(me,ge){var L=Q.onCancellationRequested(function(){L.dispose(),me(J)});ae.then(me,ge).finally(function(){return L.dispose()})})}var N=function(){function ae(){Object(ve.a)(this,ae),this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return Object(se.a)(ae,[{key:"queue",value:function(J){var me=this;if(this.activePromise){if(this.queuedPromiseFactory=J,!this.queuedPromise){var ge=function(){me.queuedPromise=null;var De=me.queue(me.queuedPromiseFactory);return me.queuedPromiseFactory=null,De};this.queuedPromise=new Promise(function(L){me.activePromise.then(ge,ge).then(L)})}return new Promise(function(L,De){me.queuedPromise.then(L,De)})}return this.activePromise=J(),new Promise(function(L,De){me.activePromise.then(function(Ae){me.activePromise=null,L(Ae)},function(Ae){me.activePromise=null,De(Ae)})})}}]),ae}(),H=function(Q,J){var me=!0,ge=setTimeout(function(){me=!1,J()},Q);return{isTriggered:function(){return me},dispose:function(){clearTimeout(ge),me=!1}}},d=function(Q){var J=!0;return queueMicrotask(function(){J&&(J=!1,Q())}),{isTriggered:function(){return J},dispose:function(){J=!1}}},D=function(){function ae(Q){Object(ve.a)(this,ae),this.defaultDelay=Q,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}return Object(se.a)(ae,[{key:"trigger",value:function(J){var me=this,ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.defaultDelay;this.task=J,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(function(De,Ae){me.doResolve=De,me.doReject=Ae}).then(function(){if(me.completionPromise=null,me.doResolve=null,me.task){var De=me.task;return me.task=null,De()}}));var L=function(){var Ae;me.deferred=null,(Ae=me.doResolve)===null||Ae===void 0||Ae.call(me,null)};return this.deferred=ge===Z.a?d(L):H(ge,L),this.completionPromise}},{key:"isTriggered",value:function(){var J;return!!((J=this.deferred)===null||J===void 0?void 0:J.isTriggered())}},{key:"cancel",value:function(){var J;this.cancelTimeout(),this.completionPromise&&((J=this.doReject)===null||J===void 0||J.call(this,new $.b),this.completionPromise=null)}},{key:"cancelTimeout",value:function(){var J;(J=this.deferred)===null||J===void 0||J.dispose(),this.deferred=null}},{key:"dispose",value:function(){this.cancel()}}]),ae}(),C=function(){function ae(Q){Object(ve.a)(this,ae),this.delayer=new D(Q),this.throttler=new N}return Object(se.a)(ae,[{key:"trigger",value:function(J,me){var ge=this;return this.delayer.trigger(function(){return ge.throttler.queue(J)},me)}},{key:"cancel",value:function(){this.delayer.cancel()}},{key:"dispose",value:function(){this.delayer.dispose()}}]),ae}();function x(ae,Q){return Q?new Promise(function(J,me){var ge=setTimeout(function(){L.dispose(),J()},ae),L=Q.onCancellationRequested(function(){clearTimeout(ge),L.dispose(),me(new $.b)})}):F(function(J){return x(ae,J)})}function O(ae){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J=setTimeout(ae,Q);return Object(Y.l)(function(){return clearTimeout(J)})}function T(ae){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(De){return!!De},J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,me=0,ge=ae.length,L=function De(){if(me>=ge)return Promise.resolve(J);var Ae=ae[me++],Oe=Promise.resolve(Ae());return Oe.then(function(Pe){return Q(Pe)?Promise.resolve(Pe):De()})};return L()}var z=function(){function ae(Q,J){Object(ve.a)(this,ae),this._token=-1,typeof Q=="function"&&typeof J=="number"&&this.setIfNotSet(Q,J)}return Object(se.a)(ae,[{key:"dispose",value:function(){this.cancel()}},{key:"cancel",value:function(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}},{key:"cancelAndSet",value:function(J,me){var ge=this;this.cancel(),this._token=setTimeout(function(){ge._token=-1,J()},me)}},{key:"setIfNotSet",value:function(J,me){var ge=this;this._token===-1&&(this._token=setTimeout(function(){ge._token=-1,J()},me))}}]),ae}(),I=function(){function ae(){Object(ve.a)(this,ae),this._token=-1}return Object(se.a)(ae,[{key:"dispose",value:function(){this.cancel()}},{key:"cancel",value:function(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}},{key:"cancelAndSet",value:function(J,me){this.cancel(),this._token=setInterval(function(){J()},me)}}]),ae}(),de=function(){function ae(Q,J){Object(ve.a)(this,ae),this.timeoutToken=-1,this.runner=Q,this.timeout=J,this.timeoutHandler=this.onTimeout.bind(this)}return Object(se.a)(ae,[{key:"dispose",value:function(){this.cancel(),this.runner=null}},{key:"cancel",value:function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}},{key:"schedule",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.timeout;this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,J)}},{key:"delay",get:function(){return this.timeout},set:function(J){this.timeout=J}},{key:"isScheduled",value:function(){return this.timeoutToken!==-1}},{key:"onTimeout",value:function(){this.timeoutToken=-1,this.runner&&this.doRun()}},{key:"doRun",value:function(){var J;(J=this.runner)===null||J===void 0||J.call(this)}}]),ae}(),pe;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?pe=function(Q){Object(E.q)(function(){if(!J){var me=Date.now()+15;Q(Object.freeze({didTimeout:!0,timeRemaining:function(){return Math.max(0,me-Date.now())}}))}});var J=!1;return{dispose:function(){J||(J=!0)}}}:pe=function(Q,J){var me=requestIdleCallback(Q,typeof J=="number"?{timeout:J}:void 0),ge=!1;return{dispose:function(){ge||(ge=!0,cancelIdleCallback(me))}}}})();var fe=function(){function ae(Q){var J=this;Object(ve.a)(this,ae),this._didRun=!1,this._executor=function(){try{J._value=Q()}catch(me){J._error=me}finally{J._didRun=!0}},this._handle=pe(function(){return J._executor()})}return Object(se.a)(ae,[{key:"dispose",value:function(){this._handle.dispose()}},{key:"value",get:function(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}},{key:"isInitialized",get:function(){return this._didRun}}]),ae}(),ke=function(){function ae(){var Q=this;Object(ve.a)(this,ae),this.p=new Promise(function(J,me){Q.completeCallback=J,Q.errorCallback=me})}return Object(se.a)(ae,[{key:"isRejected",get:function(){var J;return((J=this.outcome)===null||J===void 0?void 0:J.outcome)===1}},{key:"isSettled",get:function(){return!!this.outcome}},{key:"complete",value:function(J){var me=this;return new Promise(function(ge){me.completeCallback(J),me.outcome={outcome:0,value:J},ge()})}},{key:"error",value:function(J){var me=this;return new Promise(function(ge){me.errorCallback(J),me.outcome={outcome:1,value:J},ge()})}},{key:"cancel",value:function(){return this.error(new $.b)}}]),ae}(),A;(function(ae){function Q(me){return ne(this,void 0,void 0,Object(w.a)().mark(function ge(){var L,De;return Object(w.a)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return L=void 0,Oe.next=3,Promise.all(me.map(function(Pe){return Pe.then(function(Ne){return Ne},function(Ne){L||(L=Ne)})}));case 3:if(De=Oe.sent,typeof L=="undefined"){Oe.next=6;break}throw L;case 6:return Oe.abrupt("return",De);case 7:case"end":return Oe.stop()}},ge)}))}ae.settled=Q;function J(me){var ge=this;return new Promise(function(L,De){return ne(ge,void 0,void 0,Object(w.a)().mark(function Ae(){return Object(w.a)().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.prev=0,Pe.next=3,me(L,De);case 3:Pe.next=8;break;case 5:Pe.prev=5,Pe.t0=Pe.catch(0),De(Pe.t0);case 8:case"end":return Pe.stop()}},Ae,null,[[0,5]])}))})}ae.withAsyncBody=J})(A||(A={}));var P=function(ae){function Q(J){var me=this;Object(ve.a)(this,Q),this._state=0,this._results=[],this._error=null,this._onStateChanged=new _.b,queueMicrotask(function(){return ne(me,void 0,void 0,Object(w.a)().mark(function ge(){var L=this,De;return Object(w.a)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return De={emitOne:function(Ne){return L.emitOne(Ne)},emitMany:function(Ne){return L.emitMany(Ne)},reject:function(Ne){return L.reject(Ne)}},Oe.prev=1,Oe.next=4,Promise.resolve(J(De));case 4:this.resolve(),Oe.next=10;break;case 7:Oe.prev=7,Oe.t0=Oe.catch(1),this.reject(Oe.t0);case 10:return Oe.prev=10,De.emitOne=void 0,De.emitMany=void 0,De.reject=void 0,Oe.finish(10);case 15:case"end":return Oe.stop()}},ge,this,[[1,7,10,15]])}))})}return Object(se.a)(Q,[{key:ae,value:function(){var me=this,ge=0;return{next:function(){return ne(me,void 0,void 0,Object(w.a)().mark(function De(){return Object(w.a)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(this._state!==2){Oe.next=2;break}throw this._error;case 2:if(!(ge<this._results.length)){Oe.next=4;break}return Oe.abrupt("return",{done:!1,value:this._results[ge++]});case 4:if(this._state!==1){Oe.next=6;break}return Oe.abrupt("return",{done:!0,value:void 0});case 6:return Oe.next=8,_.c.toPromise(this._onStateChanged.event);case 8:Oe.next=0;break;case 9:case"end":return Oe.stop()}},De,this)}))}}}},{key:"map",value:function(me){return Q.map(this,me)}},{key:"filter",value:function(me){return Q.filter(this,me)}},{key:"coalesce",value:function(){return Q.coalesce(this)}},{key:"toPromise",value:function(){return Q.toPromise(this)}},{key:"emitOne",value:function(me){this._state===0&&(this._results.push(me),this._onStateChanged.fire())}},{key:"emitMany",value:function(me){this._state===0&&(this._results=this._results.concat(me),this._onStateChanged.fire())}},{key:"resolve",value:function(){this._state===0&&(this._state=1,this._onStateChanged.fire())}},{key:"reject",value:function(me){this._state===0&&(this._state=2,this._error=me,this._onStateChanged.fire())}}],[{key:"fromArray",value:function(me){return new Q(function(ge){ge.emitMany(me)})}},{key:"fromPromise",value:function(me){var ge=this;return new Q(function(L){return ne(ge,void 0,void 0,Object(w.a)().mark(function De(){return Object(w.a)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return Oe.t0=L,Oe.next=3,me;case 3:Oe.t1=Oe.sent,Oe.t0.emitMany.call(Oe.t0,Oe.t1);case 5:case"end":return Oe.stop()}},De)}))})}},{key:"fromPromises",value:function(me){var ge=this;return new Q(function(L){return ne(ge,void 0,void 0,Object(w.a)().mark(function De(){var Ae=this;return Object(w.a)().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,Promise.all(me.map(function(Ne){return ne(Ae,void 0,void 0,Object(w.a)().mark(function Fe(){return Object(w.a)().wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:return Et.t0=L,Et.next=3,Ne;case 3:return Et.t1=Et.sent,Et.abrupt("return",Et.t0.emitOne.call(Et.t0,Et.t1));case 5:case"end":return Et.stop()}},Fe)}))}));case 2:case"end":return Pe.stop()}},De)}))})}},{key:"merge",value:function(me){var ge=this;return new Q(function(L){return ne(ge,void 0,void 0,Object(w.a)().mark(function De(){var Ae=this;return Object(w.a)().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,Promise.all(me.map(function(Ne){var Fe,Xe,Et;return ne(Ae,void 0,void 0,Object(w.a)().mark(function Ft(){var Ot,pt,Lt,et,Vt;return Object(w.a)().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:Ce.prev=0,Fe=!0,Xe=V(Ne);case 2:return Ce.next=4,Xe.next();case 4:if(Et=Ce.sent,Ot=Et.done,Ot){Ce.next=14;break}et=Et.value,Fe=!1,Vt=et,L.emitOne(Vt);case 11:Fe=!0,Ce.next=2;break;case 14:Ce.next=19;break;case 16:Ce.prev=16,Ce.t0=Ce.catch(0),pt={error:Ce.t0};case 19:if(Ce.prev=19,Ce.prev=20,!(!Fe&&!Ot&&(Lt=Xe.return))){Ce.next=24;break}return Ce.next=24,Lt.call(Xe);case 24:if(Ce.prev=24,!pt){Ce.next=27;break}throw pt.error;case 27:return Ce.finish(24);case 28:return Ce.finish(19);case 29:case"end":return Ce.stop()}},Ft,null,[[0,16,19,29],[20,,24,28]])}))}));case 2:case"end":return Pe.stop()}},De)}))})}},{key:"map",value:function(me,ge){var L=this;return new Q(function(De){return ne(L,void 0,void 0,Object(w.a)().mark(function Ae(){var Oe,Pe,Ne,Fe,Xe,Et,Ft,Ot;return Object(w.a)().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:Lt.prev=0,Xe=!0,Et=V(me);case 2:return Lt.next=4,Et.next();case 4:if(Ft=Lt.sent,Oe=Ft.done,Oe){Lt.next=14;break}Fe=Ft.value,Xe=!1,Ot=Fe,De.emitOne(ge(Ot));case 11:Xe=!0,Lt.next=2;break;case 14:Lt.next=19;break;case 16:Lt.prev=16,Lt.t0=Lt.catch(0),Pe={error:Lt.t0};case 19:if(Lt.prev=19,Lt.prev=20,!(!Xe&&!Oe&&(Ne=Et.return))){Lt.next=24;break}return Lt.next=24,Ne.call(Et);case 24:if(Lt.prev=24,!Pe){Lt.next=27;break}throw Pe.error;case 27:return Lt.finish(24);case 28:return Lt.finish(19);case 29:case"end":return Lt.stop()}},Ae,null,[[0,16,19,29],[20,,24,28]])}))})}},{key:"filter",value:function(me,ge){var L=this;return new Q(function(De){return ne(L,void 0,void 0,Object(w.a)().mark(function Ae(){var Oe,Pe,Ne,Fe,Xe,Et,Ft,Ot;return Object(w.a)().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:Lt.prev=0,Xe=!0,Et=V(me);case 2:return Lt.next=4,Et.next();case 4:if(Ft=Lt.sent,Oe=Ft.done,Oe){Lt.next=14;break}Fe=Ft.value,Xe=!1,Ot=Fe,ge(Ot)&&De.emitOne(Ot);case 11:Xe=!0,Lt.next=2;break;case 14:Lt.next=19;break;case 16:Lt.prev=16,Lt.t0=Lt.catch(0),Pe={error:Lt.t0};case 19:if(Lt.prev=19,Lt.prev=20,!(!Xe&&!Oe&&(Ne=Et.return))){Lt.next=24;break}return Lt.next=24,Ne.call(Et);case 24:if(Lt.prev=24,!Pe){Lt.next=27;break}throw Pe.error;case 27:return Lt.finish(24);case 28:return Lt.finish(19);case 29:case"end":return Lt.stop()}},Ae,null,[[0,16,19,29],[20,,24,28]])}))})}},{key:"coalesce",value:function(me){return Q.filter(me,function(ge){return!!ge})}},{key:"toPromise",value:function(me){var ge,L,De,Ae,Oe,Pe,Ne;return ne(this,void 0,void 0,Object(w.a)().mark(function Fe(){var Xe,Et;return Object(w.a)().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:Xe=[],Ot.prev=1,ge=!0,L=V(me);case 3:return Ot.next=5,L.next();case 5:if(De=Ot.sent,Ae=De.done,Ae){Ot.next=15;break}Ne=De.value,ge=!1,Et=Ne,Xe.push(Et);case 12:ge=!0,Ot.next=3;break;case 15:Ot.next=20;break;case 17:Ot.prev=17,Ot.t0=Ot.catch(1),Oe={error:Ot.t0};case 20:if(Ot.prev=20,Ot.prev=21,!(!ge&&!Ae&&(Pe=L.return))){Ot.next=25;break}return Ot.next=25,Pe.call(L);case 25:if(Ot.prev=25,!Oe){Ot.next=28;break}throw Oe.error;case 28:return Ot.finish(25);case 29:return Ot.finish(20);case 30:return Ot.abrupt("return",Xe);case 31:case"end":return Ot.stop()}},Fe,null,[[1,17,20,30],[21,,25,29]])}))}}]),Q}(Symbol.asyncIterator);P.EMPTY=P.fromArray([]);var G=function(ae){Object(ce.a)(J,ae);var Q=Object(we.a)(J);function J(me,ge){var L;return Object(ve.a)(this,J),L=Q.call(this,ge),L._source=me,L}return Object(se.a)(J,[{key:"cancel",value:function(){this._source.cancel()}}]),J}(P);function re(ae){var Q=this,J=new te.b,me=ae(J.token);return new G(J,function(ge){return ne(Q,void 0,void 0,Object(w.a)().mark(function L(){var De,Ae,Oe,Pe,Ne,Fe,Xe,Et,Ft;return Object(w.a)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:Ne=J.token.onCancellationRequested(function(){Ne.dispose(),J.dispose(),ge.reject(new $.b)}),pt.prev=1,pt.prev=2,Fe=!0,Xe=V(me);case 4:return pt.next=6,Xe.next();case 6:if(Et=pt.sent,De=Et.done,De){pt.next=18;break}if(Pe=Et.value,Fe=!1,Ft=Pe,!J.token.isCancellationRequested){pt.next=14;break}return pt.abrupt("return");case 14:ge.emitOne(Ft);case 15:Fe=!0,pt.next=4;break;case 18:pt.next=23;break;case 20:pt.prev=20,pt.t0=pt.catch(2),Ae={error:pt.t0};case 23:if(pt.prev=23,pt.prev=24,!(!Fe&&!De&&(Oe=Xe.return))){pt.next=28;break}return pt.next=28,Oe.call(Xe);case 28:if(pt.prev=28,!Ae){pt.next=31;break}throw Ae.error;case 31:return pt.finish(28);case 32:return pt.finish(23);case 33:Ne.dispose(),J.dispose(),pt.next=42;break;case 37:pt.prev=37,pt.t1=pt.catch(1),Ne.dispose(),J.dispose(),ge.reject(pt.t1);case 42:case"end":return pt.stop()}},L,null,[[1,37],[2,20,23,33],[24,,28,32]])}))})}},XQL4:function(mn,U,a){},XSiN:function(mn,U,a){"use strict";a.d(U,"a",function(){return E}),a.d(U,"b",function(){return Z});var ce=a("fWQN"),we=a("mtLc"),w=a("D3Dy"),ve=a("rAM+"),se=!1,te=null;function $(ne){if(!ne.parent||ne.parent===ne)return null;try{var V=ne.location,B=ne.parent.location;if(V.origin!=="null"&&B.origin!=="null"&&V.origin!==B.origin)return se=!0,null}catch(F){return se=!0,null}return ne.parent}var _=function(){function ne(){Object(ce.a)(this,ne)}return Object(we.a)(ne,null,[{key:"getSameOriginWindowChain",value:function(){if(!te){te=[];var B=window,F;do F=$(B),F?te.push({window:B,iframeElement:B.frameElement||null}):te.push({window:B,iframeElement:null}),B=F;while(B)}return te.slice(0)}},{key:"getPositionOfChildWindowRelativeToAncestorWindow",value:function(B,F){if(!F||B===F)return{top:0,left:0};var W=0,N=0,H=this.getSameOriginWindowChain(),d=Object(ve.a)(H),D;try{for(d.s();!(D=d.n()).done;){var C=D.value;if(W+=C.window.scrollY,N+=C.window.scrollX,C.window===F||!C.iframeElement)break;var x=C.iframeElement.getBoundingClientRect();W+=x.top,N+=x.left}}catch(O){d.e(O)}finally{d.f()}return{top:W,left:N}}}]),ne}(),Y=a("MNsG"),E=function(){function ne(V){Object(ce.a)(this,ne),this.timestamp=Date.now(),this.browserEvent=V,this.leftButton=V.button===0,this.middleButton=V.button===1,this.rightButton=V.button===2,this.buttons=V.buttons,this.target=V.target,this.detail=V.detail||1,V.type==="dblclick"&&(this.detail=2),this.ctrlKey=V.ctrlKey,this.shiftKey=V.shiftKey,this.altKey=V.altKey,this.metaKey=V.metaKey,typeof V.pageX=="number"?(this.posx=V.pageX,this.posy=V.pageY):(this.posx=V.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=V.clientY+document.body.scrollTop+document.documentElement.scrollTop);var B=_.getPositionOfChildWindowRelativeToAncestorWindow(window,V.view);this.posx-=B.left,this.posy-=B.top}return Object(we.a)(ne,[{key:"preventDefault",value:function(){this.browserEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.browserEvent.stopPropagation()}}]),ne}(),Z=function(){function ne(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(Object(ce.a)(this,ne),this.browserEvent=V||null,this.target=V?V.target||V.targetNode||V.srcElement:null,this.deltaY=F,this.deltaX=B,V){var W=V,N=V;if(typeof W.wheelDeltaY!="undefined")this.deltaY=W.wheelDeltaY/120;else if(typeof N.VERTICAL_AXIS!="undefined"&&N.axis===N.VERTICAL_AXIS)this.deltaY=-N.detail/3;else if(V.type==="wheel"){var H=V;H.deltaMode===H.DOM_DELTA_LINE?w.isFirefox&&!Y.i?this.deltaY=-V.deltaY/3:this.deltaY=-V.deltaY:this.deltaY=-V.deltaY/40}if(typeof W.wheelDeltaX!="undefined")w.isSafari&&Y.o?this.deltaX=-(W.wheelDeltaX/120):this.deltaX=W.wheelDeltaX/120;else if(typeof N.HORIZONTAL_AXIS!="undefined"&&N.axis===N.HORIZONTAL_AXIS)this.deltaX=-V.detail/3;else if(V.type==="wheel"){var d=V;d.deltaMode===d.DOM_DELTA_LINE?w.isFirefox&&!Y.i?this.deltaX=-V.deltaX/3:this.deltaX=-V.deltaX:this.deltaX=-V.deltaX/40}this.deltaY===0&&this.deltaX===0&&V.wheelDelta&&(this.deltaY=V.wheelDelta/120)}}return Object(we.a)(ne,[{key:"preventDefault",value:function(){var B;(B=this.browserEvent)===null||B===void 0||B.preventDefault()}},{key:"stopPropagation",value:function(){var B;(B=this.browserEvent)===null||B===void 0||B.stopPropagation()}}]),ne}()},XXBq:function(mn,U,a){},XXUj:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("telemetryService")},"Y+p1":function(mn,U,a){var ce=a("wF/u");function we(w,ve){return ce(w,ve)}mn.exports=we},Y79o:function(mn,U,a){},YI90:function(mn,U,a){},YNuV:function(mn,U,a){"use strict";a.d(U,"h",function(){return se}),a.d(U,"b",function(){return te}),a.d(U,"e",function(){return $}),a.d(U,"f",function(){return _}),a.d(U,"a",function(){return Y}),a.d(U,"d",function(){return E}),a.d(U,"g",function(){return Z}),a.d(U,"c",function(){return ne});var ce=a("mtLc"),we=a("fWQN"),w=a("N0LK"),ve=a("aokT"),se=Object(ce.a)(function V(B,F,W,N){Object(we.a)(this,V),this._viewportBrand=void 0,this.top=B|0,this.left=F|0,this.width=W|0,this.height=N|0}),te=Object(ce.a)(function V(B,F){Object(we.a)(this,V),this.tabSize=B,this.data=F}),$=Object(ce.a)(function V(B,F,W,N,H,d,D){Object(we.a)(this,V),this._viewLineDataBrand=void 0,this.content=B,this.continuesWithWrappedLine=F,this.minColumn=W,this.maxColumn=N,this.startVisibleColumn=H,this.tokens=d,this.inlineDecorations=D}),_=function(){function V(B,F,W,N,H,d,D,C,x,O){Object(we.a)(this,V),this.minColumn=B,this.maxColumn=F,this.content=W,this.continuesWithWrappedLine=N,this.isBasicASCII=V.isBasicASCII(W,d),this.containsRTL=V.containsRTL(W,this.isBasicASCII,H),this.tokens=D,this.inlineDecorations=C,this.tabSize=x,this.startVisibleColumn=O}return Object(ce.a)(V,null,[{key:"isBasicASCII",value:function(F,W){return W?w.B(F):!0}},{key:"containsRTL",value:function(F,W,N){return!W&&N?w.m(F):!1}}]),V}(),Y=Object(ce.a)(function V(B,F,W){Object(we.a)(this,V),this.range=B,this.inlineClassName=F,this.type=W}),E=function(){function V(B,F,W,N){Object(we.a)(this,V),this.startOffset=B,this.endOffset=F,this.inlineClassName=W,this.inlineClassNameAffectsLetterSpacing=N}return Object(ce.a)(V,[{key:"toInlineDecoration",value:function(F){return new Y(new ve.a(F,this.startOffset+1,F,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}]),V}(),Z=Object(ce.a)(function V(B,F){Object(we.a)(this,V),this._viewModelDecorationBrand=void 0,this.range=B,this.options=F}),ne=function(){function V(B,F,W){Object(we.a)(this,V),this.color=B,this.zIndex=F,this.data=W}return Object(ce.a)(V,null,[{key:"cmp",value:function(F,W){return F.zIndex===W.zIndex?F.color<W.color?-1:F.color>W.color?1:0:F.zIndex-W.zIndex}}]),V}()},YRwz:function(mn,U,a){},YWTS:function(mn,U,a){"use strict";a.d(U,"a",function(){return ve});var ce=a("U8pU"),we=a("q1tI"),w=a.n(we);function ve(se,te,$){var _=we.useRef({});function Y(E){if(!_.current||_.current.data!==se||_.current.childrenColumnName!==te||_.current.getRowKey!==$){var Z=function V(B){B.forEach(function(F,W){var N=$(F,W);ne.set(N,F),F&&Object(ce.a)(F)==="object"&&te in F&&V(F[te]||[])})},ne=new Map;Z(se),_.current={data:se,childrenColumnName:te,kvMap:ne,getRowKey:$}}return _.current.kvMap.get(E)}return[Y]}},YftQ:function(mn,U,a){},Yr1X:function(mn,U,a){"use strict";a.d(U,"a",function(){return ve});var ce=a("fWQN"),we=a("mtLc"),w=a("MI8n"),ve=new(function(){function se(){Object(ce.a)(this,se),this._zoomLevel=0,this._onDidChangeZoomLevel=new w.b,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return Object(we.a)(se,[{key:"getZoomLevel",value:function(){return this._zoomLevel}},{key:"setZoomLevel",value:function($){$=Math.min(Math.max(-5,$),20),this._zoomLevel!==$&&(this._zoomLevel=$,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}]),se}())},Z1pP:function(mn,U,a){},ZCR3:function(mn,U,a){"use strict";a.d(U,"a",function(){return ce});function ce(we,w,ve){var se=null,te=null;if(typeof ve.value=="function"?(se="value",te=ve.value,te.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof ve.get=="function"&&(se="get",te=ve.get),!te)throw new Error("not supported");var $="$memoize$".concat(w);ve[se]=function(){if(!this.hasOwnProperty($)){for(var _=arguments.length,Y=new Array(_),E=0;E<_;E++)Y[E]=arguments[E];Object.defineProperty(this,$,{configurable:!1,enumerable:!1,writable:!1,value:te.apply(this,Y)})}return this[$]}}},ZKkB:function(mn,U,a){"use strict";a.d(U,"a",function(){return te});var ce=a("oZsa"),we=a("iZzK");function w($){return Function.toString.call($).indexOf("[native code]")!==-1}var ve=a("cHpt");function se($,_,Y){return Object(ve.a)()?se=Reflect.construct.bind():se=function(Z,ne,V){var B=[null];B.push.apply(B,ne);var F=Function.bind.apply(Z,B),W=new F;return V&&Object(we.a)(W,V.prototype),W},se.apply(null,arguments)}function te($){var _=typeof Map=="function"?new Map:void 0;return te=function(E){if(E===null||!w(E))return E;if(typeof E!="function")throw new TypeError("Super expression must either be null or a function");if(typeof _!="undefined"){if(_.has(E))return _.get(E);_.set(E,Z)}function Z(){return se(E,arguments,Object(ce.a)(this).constructor)}return Z.prototype=Object.create(E.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),Object(we.a)(Z,E)},te($)}},ZQ78:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("ubTv"),we={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:ce.a.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}},ZQYC:function(mn,U,a){"use strict";a.d(U,"a",function(){return se});var ce=a("tJVT"),we=a("fWQN"),w=a("mtLc"),ve=a("JLfW"),se=function(){function te(){Object(we.a)(this,te)}return Object(w.a)(te,null,[{key:"whitespaceVisibleColumn",value:function(_,Y,E){for(var Z=_.length,ne=0,V=-1,B=-1,F=0;F<Z;F++){if(F===Y)return[V,B,ne];ne%E==0&&(V=F,B=ne);var W=_.charCodeAt(F);switch(W){case 32:ne+=1;break;case 9:ne=ve.a.nextRenderTabStop(ne,E);break;default:return[-1,-1,-1]}}return Y===Z?[V,B,ne]:[-1,-1,-1]}},{key:"atomicPosition",value:function(_,Y,E,Z){var ne=_.length,V=te.whitespaceVisibleColumn(_,Y,E),B=Object(ce.a)(V,3),F=B[0],W=B[1],N=B[2];if(N===-1)return-1;var H;switch(Z){case 0:H=!0;break;case 1:H=!1;break;case 2:if(N%E==0)return Y;H=N%E<=E/2;break}if(H){if(F===-1)return-1;for(var d=W,D=F;D<ne;++D){if(d===W+E)return F;var C=_.charCodeAt(D);switch(C){case 32:d+=1;break;case 9:d=ve.a.nextRenderTabStop(d,E);break;default:return-1}}return d===W+E?F:-1}for(var x=ve.a.nextRenderTabStop(N,E),O=N,T=Y;T<ne;T++){if(O===x)return T;var z=_.charCodeAt(T);switch(z){case 32:O+=1;break;case 9:O=ve.a.nextRenderTabStop(O,E);break;default:return-1}}return O===x?ne:-1}}]),te}()},ZdAd:function(mn,U,a){"use strict";a.d(U,"a",function(){return $}),a.d(U,"c",function(){return N}),a.d(U,"b",function(){return H});var ce=a("rAM+"),we=a("/UlZ"),w=a("vX7u"),ve=a("3/fG"),se=a("CRAX"),te=a("ic2d"),$=Object.freeze({id:"editor",order:5,type:"object",title:ve.b("editorConfigurationTitle","Editor"),scope:5}),_=Object.assign(Object.assign({},$),{properties:{"editor.tabSize":{type:"number",default:w.a.tabSize,minimum:1,markdownDescription:ve.b("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:ve.b("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:w.a.insertSpaces,markdownDescription:ve.b("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:w.a.detectIndentation,markdownDescription:ve.b("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:w.a.trimAutoWhitespace,description:ve.b("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:w.a.largeFileOptimizations,description:ve.b("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:ve.b("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[ve.b("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),ve.b("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),ve.b("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:ve.b("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[ve.b("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),ve.b("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),ve.b("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:ve.b("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:ve.b("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:ve.b("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:ve.b("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:ve.b("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:ve.b("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only.")},"editor.language.brackets":{type:["array","null"],default:null,description:ve.b("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:ve.b("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:ve.b("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:ve.b("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:ve.b("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:ve.b("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:ve.b("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:ve.b("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:ve.b("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:ve.b("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:ve.b("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:ve.b("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:ve.b("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[ve.b("wordWrap.off","Lines will never wrap."),ve.b("wordWrap.on","Lines will wrap at the viewport width."),ve.b("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:"legacy",markdownEnumDescriptions:[ve.b("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),ve.b("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.experimental.collapseUnchangedRegions":{type:"boolean",default:!1,description:ve.b("collapseUnchangedRegions","Controls whether the diff editor shows unchanged regions. Only works when 'diffEditor.experimental.useVersion2' is set.")},"diffEditor.experimental.useVersion2":{type:"boolean",default:!1,description:ve.b("useVersion2","Controls whether the diff editor uses the new or the old implementation.")}}});function Y(D){return typeof D.type!="undefined"||typeof D.anyOf!="undefined"}var E=Object(ce.a)(we.n),Z;try{for(E.s();!(Z=E.n()).done;){var ne=Z.value,V=ne.schema;if(typeof V!="undefined")if(Y(V))_.properties["editor.".concat(ne.name)]=V;else for(var B in V)Object.hasOwnProperty.call(V,B)&&(_.properties[B]=V[B])}}catch(D){E.e(D)}finally{E.f()}var F=null;function W(){return F===null&&(F=Object.create(null),Object.keys(_.properties).forEach(function(D){F[D]=!0})),F}function N(D){var C=W();return C["editor.".concat(D)]||!1}function H(D){var C=W();return C["diffEditor.".concat(D)]||!1}var d=te.a.as(se.a.Configuration);d.registerConfiguration(_)},ZfpI:function(mn,U,a){"use strict";var ce=a("KQm4"),we=a("x+uP"),w=a("HaE+"),ve=a("GNNt"),se=a("wEI+"),te=a("EFp3"),$=a("jhiw"),_=a("rePB"),Y=a("ODXe"),E=a("U8pU"),Z=a("TSYQ"),ne=a.n(Z),V=a("Zm9Q"),B=a("q1tI"),F=a.n(B),W=a("H84U"),N=a("0n0R"),H=a("ACnJ"),d=function(Rn){var Sn=Rn.children;return Sn},D=d,C=a("wx14");function x(yt){return yt!=null}var O=function(Rn){var Sn=Rn.itemPrefixCls,Ii=Rn.component,Hi=Rn.span,wt=Rn.className,Pi=Rn.style,Ut=Rn.labelStyle,We=Rn.contentStyle,Tn=Rn.bordered,ar=Rn.label,Br=Rn.content,Yr=Rn.colon,ti=Ii;if(Tn){var bi;return B.createElement(ti,{className:ne()((bi={},Object(_.a)(bi,"".concat(Sn,"-item-label"),x(ar)),Object(_.a)(bi,"".concat(Sn,"-item-content"),x(Br)),bi),wt),style:Pi,colSpan:Hi},x(ar)&&B.createElement("span",{style:Ut},ar),x(Br)&&B.createElement("span",{style:We},Br))}return B.createElement(ti,{className:ne()("".concat(Sn,"-item"),wt),style:Pi,colSpan:Hi},B.createElement("div",{className:"".concat(Sn,"-item-container")},(ar||ar===0)&&B.createElement("span",{className:ne()("".concat(Sn,"-item-label"),Object(_.a)({},"".concat(Sn,"-item-no-colon"),!Yr)),style:Ut},ar),(Br||Br===0)&&B.createElement("span",{className:ne()("".concat(Sn,"-item-content")),style:We},Br)))},T=O;function z(yt,Rn,Sn){var Ii=Rn.colon,Hi=Rn.prefixCls,wt=Rn.bordered,Pi=Sn.component,Ut=Sn.type,We=Sn.showLabel,Tn=Sn.showContent,ar=Sn.labelStyle,Br=Sn.contentStyle;return yt.map(function(Yr,ti){var bi=Yr.props,Kn=bi.label,En=bi.children,Nt=bi.prefixCls,Gt=Nt===void 0?Hi:Nt,mt=bi.className,Ye=bi.style,vn=bi.labelStyle,nt=bi.contentStyle,Ze=bi.span,Zt=Ze===void 0?1:Ze,hn=Yr.key;return typeof Pi=="string"?B.createElement(T,{key:"".concat(Ut,"-").concat(hn||ti),className:mt,style:Ye,labelStyle:Object(C.a)(Object(C.a)({},ar),vn),contentStyle:Object(C.a)(Object(C.a)({},Br),nt),span:Zt,colon:Ii,component:Pi,itemPrefixCls:Gt,bordered:wt,label:We?Kn:null,content:Tn?En:null}):[B.createElement(T,{key:"label-".concat(hn||ti),className:mt,style:Object(C.a)(Object(C.a)(Object(C.a)({},ar),Ye),vn),span:1,colon:Ii,component:Pi[0],itemPrefixCls:Gt,bordered:wt,label:Kn}),B.createElement(T,{key:"content-".concat(hn||ti),className:mt,style:Object(C.a)(Object(C.a)(Object(C.a)({},Br),Ye),nt),span:Zt*2-1,component:Pi[1],itemPrefixCls:Gt,bordered:wt,content:En})]})}var I=function(Rn){var Sn=B.useContext(pe),Ii=Rn.prefixCls,Hi=Rn.vertical,wt=Rn.row,Pi=Rn.index,Ut=Rn.bordered;return Hi?B.createElement(B.Fragment,null,B.createElement("tr",{key:"label-".concat(Pi),className:"".concat(Ii,"-row")},z(wt,Rn,Object(C.a)({component:"th",type:"label",showLabel:!0},Sn))),B.createElement("tr",{key:"content-".concat(Pi),className:"".concat(Ii,"-row")},z(wt,Rn,Object(C.a)({component:"td",type:"content",showContent:!0},Sn)))):B.createElement("tr",{key:Pi,className:"".concat(Ii,"-row")},z(wt,Rn,Object(C.a)({component:Ut?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},Sn)))},de=I,pe=B.createContext({}),fe={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function ke(yt,Rn){if(typeof yt=="number")return yt;if(Object(E.a)(yt)==="object")for(var Sn=0;Sn<H.b.length;Sn++){var Ii=H.b[Sn];if(Rn[Ii]&&yt[Ii]!==void 0)return yt[Ii]||fe[Ii]}return 3}function A(yt,Rn,Sn){var Ii=yt;return(Rn===void 0||Rn>Sn)&&(Ii=Object(N.a)(yt,{span:Sn})),Ii}function P(yt,Rn){var Sn=Object(V.a)(yt).filter(function(Pi){return Pi}),Ii=[],Hi=[],wt=Rn;return Sn.forEach(function(Pi,Ut){var We,Tn=(We=Pi.props)===null||We===void 0?void 0:We.span,ar=Tn||1;if(Ut===Sn.length-1){Hi.push(A(Pi,Tn,wt)),Ii.push(Hi);return}ar<wt?(wt-=ar,Hi.push(Pi)):(Hi.push(A(Pi,ar,wt)),Ii.push(Hi),wt=Rn,Hi=[])}),Ii}function G(yt){var Rn,Sn=yt.prefixCls,Ii=yt.title,Hi=yt.extra,wt=yt.column,Pi=wt===void 0?fe:wt,Ut=yt.colon,We=Ut===void 0?!0:Ut,Tn=yt.bordered,ar=yt.layout,Br=yt.children,Yr=yt.className,ti=yt.style,bi=yt.size,Kn=yt.labelStyle,En=yt.contentStyle,Nt=B.useContext(W.b),Gt=Nt.getPrefixCls,mt=Nt.direction,Ye=Gt("descriptions",Sn),vn=B.useState({}),nt=Object(Y.a)(vn,2),Ze=nt[0],Zt=nt[1],hn=ke(Pi,Ze);B.useEffect(function(){var si=H.a.subscribe(function(Oi){Object(E.a)(Pi)==="object"&&Zt(Oi)});return function(){H.a.unsubscribe(si)}},[]);var Ht=P(Br,hn),lt=B.useMemo(function(){return{labelStyle:Kn,contentStyle:En}},[Kn,En]);return B.createElement(pe.Provider,{value:lt},B.createElement("div",{className:ne()(Ye,(Rn={},Object(_.a)(Rn,"".concat(Ye,"-").concat(bi),bi&&bi!=="default"),Object(_.a)(Rn,"".concat(Ye,"-bordered"),!!Tn),Object(_.a)(Rn,"".concat(Ye,"-rtl"),mt==="rtl"),Rn),Yr),style:ti},(Ii||Hi)&&B.createElement("div",{className:"".concat(Ye,"-header")},Ii&&B.createElement("div",{className:"".concat(Ye,"-title")},Ii),Hi&&B.createElement("div",{className:"".concat(Ye,"-extra")},Hi)),B.createElement("div",{className:"".concat(Ye,"-view")},B.createElement("table",null,B.createElement("tbody",null,Ht.map(function(si,Oi){return B.createElement(de,{key:Oi,index:Oi,colon:We,prefixCls:Ye,vertical:ar==="vertical",bordered:Tn,row:si})}))))))}G.Item=D;var re=G,ae=a("Ff2n"),Q=a("DYRE"),J=a("zeV3"),me=a("VTBJ"),ge=a("nKUr"),L=a("4i/N"),De=a("bRQS"),Ae=a("G3dp"),Oe=a("VMEa"),Pe=a("adzw"),Ne=a("IzEo"),Fe=a("bx4M"),Xe=a("cWXX"),Et=a("/ezw"),Ft=a("SE9/"),Ot=a("/zsF"),pt=a("PArb"),Lt=function(Rn){var Sn=Rn.padding;return Object(ge.jsx)("div",{style:{padding:Sn||"0 24px"},children:Object(ge.jsx)(pt.a,{style:{margin:0}})})},et={xs:2,sm:2,md:4,lg:4,xl:6,xxl:6},Vt=function(Rn){var Sn=Rn.size,Ii=Rn.active,Hi=Object(Ft.a)(),wt=Sn===void 0?et[Hi]||6:Sn,Pi=function(We){return We===0?0:wt>2?42:16};return Object(ge.jsx)(Fe.a,{bordered:!1,style:{marginBottom:16},children:Object(ge.jsx)("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:new Array(wt).fill(null).map(function(Ut,We){return Object(ge.jsxs)("div",{style:{borderLeft:wt>2&&We===1?"1px solid rgba(0,0,0,0.06)":void 0,paddingLeft:Pi(We),flex:1,marginRight:We===0?16:0},children:[Object(ge.jsx)(Et.a,{active:Ii,paragraph:!1,title:{width:100,style:{marginTop:0}}}),Object(ge.jsx)(Et.a.Button,{active:Ii,style:{height:48}})]},We)})})})},Re=function(Rn){var Sn=Rn.active;return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Fe.a,{bordered:!1,style:{borderRadius:0},bodyStyle:{padding:24},children:Object(ge.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(ge.jsx)("div",{style:{maxWidth:"100%",flex:1},children:Object(ge.jsx)(Et.a,{active:Sn,title:{width:100,style:{marginTop:0}},paragraph:{rows:1,style:{margin:0}}})}),Object(ge.jsx)(Et.a.Button,{active:Sn,size:"small",style:{width:165,marginTop:12}})]})}),Object(ge.jsx)(Lt,{})]})},Ce=function(Rn){var Sn=Rn.size,Ii=Rn.active,Hi=Ii===void 0?!0:Ii,wt=Rn.actionButton;return Object(ge.jsxs)(Fe.a,{bordered:!1,bodyStyle:{padding:0},children:[new Array(Sn).fill(null).map(function(Pi,Ut){return Object(ge.jsx)(Re,{active:!!Hi},Ut)}),wt!==!1&&Object(ge.jsx)(Fe.a,{bordered:!1,style:{borderTopRightRadius:0,borderTopLeftRadius:0},bodyStyle:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(ge.jsx)(Et.a.Button,{style:{width:102},active:Hi,size:"small"})})]})},ye=function(Rn){var Sn=Rn.active;return Object(ge.jsxs)("div",{style:{marginBottom:16},children:[Object(ge.jsx)(Et.a,{paragraph:!1,title:{width:185}}),Object(ge.jsx)(Et.a.Button,{active:Sn,size:"small"})]})},Te=function(Rn){var Sn=Rn.active;return Object(ge.jsx)(Fe.a,{bordered:!1,style:{borderBottomRightRadius:0,borderBottomLeftRadius:0},bodyStyle:{paddingBottom:8},children:Object(ge.jsxs)(J.b,{style:{width:"100%",justifyContent:"space-between"},children:[Object(ge.jsx)(Et.a.Button,{active:Sn,style:{width:200},size:"small"}),Object(ge.jsxs)(J.b,{children:[Object(ge.jsx)(Et.a.Button,{active:Sn,size:"small",style:{width:120}}),Object(ge.jsx)(Et.a.Button,{active:Sn,size:"small",style:{width:80}})]})]})})},Qe=function(Rn){var Sn=Rn.active,Ii=Sn===void 0?!0:Sn,Hi=Rn.statistic,wt=Rn.actionButton,Pi=Rn.toolbar,Ut=Rn.pageHeader,We=Rn.list,Tn=We===void 0?5:We;return Object(ge.jsxs)("div",{style:{width:"100%"},children:[Ut!==!1&&Object(ge.jsx)(ye,{active:Ii}),Hi!==!1&&Object(ge.jsx)(Vt,{size:Hi,active:Ii}),(Pi!==!1||Tn!==!1)&&Object(ge.jsxs)(Fe.a,{bordered:!1,bodyStyle:{padding:0},children:[Pi!==!1&&Object(ge.jsx)(Te,{active:Ii}),Tn!==!1&&Object(ge.jsx)(Ce,{size:Tn,active:Ii,actionButton:wt})]})]})},$e=Qe,ze={xs:1,sm:2,md:3,lg:3,xl:3,xxl:4},ot=function(Rn){var Sn=Rn.active;return Object(ge.jsxs)("div",{style:{marginTop:32},children:[Object(ge.jsx)(Et.a.Button,{active:Sn,size:"small",style:{width:100,marginBottom:16}}),Object(ge.jsxs)("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:[Object(ge.jsxs)("div",{style:{flex:1,marginRight:24,maxWidth:300},children:[Object(ge.jsx)(Et.a,{active:Sn,paragraph:!1,title:{style:{marginTop:0}}}),Object(ge.jsx)(Et.a,{active:Sn,paragraph:!1,title:{style:{marginTop:8}}}),Object(ge.jsx)(Et.a,{active:Sn,paragraph:!1,title:{style:{marginTop:8}}})]}),Object(ge.jsx)("div",{style:{flex:1,alignItems:"center",justifyContent:"center"},children:Object(ge.jsxs)("div",{style:{maxWidth:300,margin:"auto"},children:[Object(ge.jsx)(Et.a,{active:Sn,paragraph:!1,title:{style:{marginTop:0}}}),Object(ge.jsx)(Et.a,{active:Sn,paragraph:!1,title:{style:{marginTop:8}}})]})})]})]})},He=function(Rn){var Sn=Rn.size,Ii=Rn.active,Hi=Object(Ft.a)(),wt=Sn===void 0?ze[Hi]||3:Sn;return Object(ge.jsx)("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:new Array(wt).fill(null).map(function(Pi,Ut){return Object(ge.jsxs)("div",{style:{flex:1,paddingLeft:Ut===0?0:24,paddingRight:Ut===wt-1?0:24},children:[Object(ge.jsx)(Et.a,{active:Ii,paragraph:!1,title:{style:{marginTop:0}}}),Object(ge.jsx)(Et.a,{active:Ii,paragraph:!1,title:{style:{marginTop:8}}}),Object(ge.jsx)(Et.a,{active:Ii,paragraph:!1,title:{style:{marginTop:8}}})]},Ut)})})},Ge=function(Rn){var Sn=Rn.active,Ii=Rn.header,Hi=Ii===void 0?!1:Ii,wt=Object(Ft.a)(),Pi=ze[wt]||3;return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)("div",{style:{display:"flex",background:Hi?"rgba(0,0,0,0.02)":"none",padding:"24px 8px"},children:[new Array(Pi).fill(null).map(function(Ut,We){return Object(ge.jsx)("div",{style:{flex:1,paddingLeft:Hi&&We===0?0:20,paddingRight:32},children:Object(ge.jsx)(Et.a,{active:Sn,paragraph:!1,title:{style:{margin:0,height:24,width:Hi?"75px":"100%"}}})},We)}),Object(ge.jsx)("div",{style:{flex:3,paddingLeft:32},children:Object(ge.jsx)(Et.a,{active:Sn,paragraph:!1,title:{style:{margin:0,height:24,width:Hi?"75px":"100%"}}})})]}),Object(ge.jsx)(Lt,{padding:"0px 0px"})]})},Je=function(Rn){var Sn=Rn.active,Ii=Rn.size,Hi=Ii===void 0?4:Ii;return Object(ge.jsxs)(Fe.a,{bordered:!1,children:[Object(ge.jsx)(Et.a.Button,{active:Sn,size:"small",style:{width:100,marginBottom:16}}),Object(ge.jsx)(Ge,{header:!0,active:Sn}),new Array(Hi).fill(null).map(function(wt,Pi){return Object(ge.jsx)(Ge,{active:Sn},Pi)}),Object(ge.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",paddingTop:16},children:Object(ge.jsx)(Et.a,{active:Sn,paragraph:!1,title:{style:{margin:0,height:32,float:"right",maxWidth:"630px"}}})})]})},ft=function(Rn){var Sn=Rn.active;return Object(ge.jsxs)(Fe.a,{bordered:!1,style:{borderTopRightRadius:0,borderTopLeftRadius:0},children:[Object(ge.jsx)(Et.a.Button,{active:Sn,size:"small",style:{width:100,marginBottom:16}}),Object(ge.jsx)(He,{active:Sn}),Object(ge.jsx)(ot,{active:Sn})]})},qt=function(Rn){var Sn=Rn.active,Ii=Sn===void 0?!0:Sn,Hi=Rn.pageHeader,wt=Rn.list;return Object(ge.jsxs)("div",{style:{width:"100%"},children:[Hi!==!1&&Object(ge.jsx)(ye,{active:Ii}),Object(ge.jsx)(ft,{active:Ii}),wt!==!1&&Object(ge.jsx)(Lt,{}),wt!==!1&&Object(ge.jsx)(Je,{active:Ii,size:wt})]})},bt=qt,Bt=function(Rn){var Sn=Rn.active,Ii=Sn===void 0?!0:Sn,Hi=Rn.pageHeader;return Object(ge.jsxs)("div",{style:{width:"100%"},children:[Hi!==!1&&Object(ge.jsx)(ye,{active:Ii}),Object(ge.jsx)(Fe.a,{children:Object(ge.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:128},children:[Object(ge.jsx)(Et.a.Avatar,{size:64,style:{marginBottom:32}}),Object(ge.jsx)(Et.a.Button,{active:Ii,style:{width:214,marginBottom:8}}),Object(ge.jsx)(Et.a.Button,{active:Ii,style:{width:328},size:"small"}),Object(ge.jsxs)(J.b,{style:{marginTop:24},children:[Object(ge.jsx)(Et.a.Button,{active:Ii,style:{width:116}}),Object(ge.jsx)(Et.a.Button,{active:Ii,style:{width:116}})]})]})})]})},rn=Bt,an=["type"],In=function(Rn){var Sn=Rn.type,Ii=Sn===void 0?"list":Sn,Hi=Object(ae.a)(Rn,an);return Ii==="result"?Object(ge.jsx)(rn,Object(me.a)({},Hi)):Ii==="descriptions"?Object(ge.jsx)(bt,Object(me.a)({},Hi)):Object(ge.jsx)($e,Object(me.a)({},Hi))},Dt=In,jn=a("U9X9"),_n=a("tReJ"),Nn=a("fxyS"),ei=a("YSkC"),kn=a("miYZ"),Pn=a("tsqr"),qi=a("LQCs"),gi=a("6cGi"),ir=a("mzd2");function yi(yt){var Rn=yt.data,Sn=yt.row;return Object(me.a)(Object(me.a)({},Rn),Sn)}function mi(yt){var Rn=yt.type||"single",Sn=Object(qi.d)(),Ii=Object(gi.a)([],{value:yt.editableKeys,onChange:yt.onChange?function(Nt){var Gt;yt==null||(Gt=yt.onChange)===null||Gt===void 0||Gt.call(yt,Nt,yt.dataSource)}:void 0}),Hi=Object(Y.a)(Ii,2),wt=Hi[0],Pi=Hi[1],Ut=Object(B.useMemo)(function(){var Nt=Rn==="single"?wt==null?void 0:wt.slice(0,1):wt;return new Set(Nt)},[(wt||[]).join(","),Rn]),We=Object(B.useCallback)(function(Nt){return!!(wt==null?void 0:wt.includes(Object(ir.d)(Nt)))},[(wt||[]).join(",")]),Tn=function(Gt){return Ut.size>0&&Rn==="single"?(Pn.default.warn(yt.onlyOneLineEditorAlertMessage||Sn.getMessage("editableTable.onlyOneLineEditor","\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C")),!1):(Ut.add(Object(ir.d)(Gt)),Pi(Array.from(Ut)),!0)},ar=function(Gt){return Ut.delete(Object(ir.d)(Gt)),Pi(Array.from(Ut)),!0},Br=function(){var Nt=Object(w.a)(Object(we.a)().mark(function Gt(mt,Ye,vn,nt){var Ze,Zt;return Object(we.a)().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Ht.next=2,yt==null||(Ze=yt.onCancel)===null||Ze===void 0?void 0:Ze.call(yt,mt,Ye,vn,nt);case 2:if(Zt=Ht.sent,Zt!==!1){Ht.next=5;break}return Ht.abrupt("return",!1);case 5:return Ht.abrupt("return",!0);case 6:case"end":return Ht.stop()}},Gt)}));return function(mt,Ye,vn,nt){return Nt.apply(this,arguments)}}(),Yr=function(){var Nt=Object(w.a)(Object(we.a)().mark(function Gt(mt,Ye,vn){var nt,Ze,Zt;return Object(we.a)().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Ht.next=2,yt==null||(nt=yt.onSave)===null||nt===void 0?void 0:nt.call(yt,mt,Ye,vn);case 2:if(Ze=Ht.sent,Ze!==!1){Ht.next=5;break}return Ht.abrupt("return",!1);case 5:return ar(mt),Zt={data:yt.dataSource,row:Ye,key:mt,childrenColumnName:yt.childrenColumnName||"children"},yt.setDataSource(yi(Zt)),Ht.abrupt("return",!0);case 9:case"end":return Ht.stop()}},Gt)}));return function(mt,Ye,vn){return Nt.apply(this,arguments)}}(),ti=Sn.getMessage("editableTable.action.save","\u4FDD\u5B58"),bi=Sn.getMessage("editableTable.action.delete","\u5220\u9664"),Kn=Sn.getMessage("editableTable.action.cancel","\u53D6\u6D88"),En=Object(B.useCallback)(function(Nt,Gt){var mt=Object(me.a)({recordKey:Nt,cancelEditable:ar,onCancel:Br,onSave:Yr,editableKeys:wt,setEditableRowKeys:Pi,saveText:ti,cancelText:Kn,deleteText:bi,deletePopconfirmMessage:"".concat(Sn.getMessage("deleteThisLine","\u5220\u9664\u6B64\u884C"),"?"),editorType:"Map"},Gt),Ye=Object(ir.b)(yt.dataSource,mt);return yt.actionRender?yt.actionRender(yt.dataSource,mt,{save:Ye[0],delete:Ye[1],cancel:Ye[2]}):Ye},[wt&&wt.join(","),yt.dataSource]);return{editableKeys:wt,setEditableRowKeys:Pi,isEditable:We,actionRender:En,startEditable:Tn,cancelEditable:ar}}var gr=mi,zn=a("3j9d"),Ki=a("ub+h"),Bn=a("AMKO"),ai=a("KIsX"),dn=function(Rn,Sn){var Ii=Sn||{},Hi=Ii.onRequestError,wt=Ii.effects,Pi=Ii.manual,Ut=Ii.dataSource,We=Ii.defaultDataSource,Tn=Ii.onDataSourceChange,ar=Object(gi.a)(We,{value:Ut,onChange:Tn}),Br=Object(Y.a)(ar,2),Yr=Br[0],ti=Br[1],bi=Object(gi.a)(Sn==null?void 0:Sn.loading,{value:Sn==null?void 0:Sn.loading,onChange:Sn==null?void 0:Sn.onLoadingChange}),Kn=Object(Y.a)(bi,2),En=Kn[0],Nt=Kn[1],Gt=function(vn){ti(vn),Nt(!1)},mt=function(){var Ye=Object(w.a)(Object(we.a)().mark(function vn(){var nt,Ze,Zt;return Object(we.a)().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:if(!En){Ht.next=2;break}return Ht.abrupt("return");case 2:return Nt(!0),Ht.prev=3,Ht.next=6,Rn();case 6:if(Ht.t0=Ht.sent,Ht.t0){Ht.next=9;break}Ht.t0={};case 9:nt=Ht.t0,Ze=nt.data,Zt=nt.success,Zt!==!1&&Gt(Ze),Ht.next=23;break;case 15:if(Ht.prev=15,Ht.t1=Ht.catch(3),Hi!==void 0){Ht.next=21;break}throw new Error(Ht.t1);case 21:Hi(Ht.t1);case 22:Nt(!1);case 23:case"end":return Ht.stop()}},vn,null,[[3,15]])}));return function(){return Ye.apply(this,arguments)}}();return Object(B.useEffect)(function(){Pi||mt()},[].concat(Object(ce.a)(wt||[]),[Pi])),{dataSource:Yr,setDataSource:ti,loading:En,reload:function(){return mt()}}},Jn=dn,Yt=["valueEnum","render","renderText","mode","plain","dataIndex","request","params","editable"],Ct=["request","columns","params","dataSource","onDataSourceChange","formProps","editable","loading","onLoadingChange","actionRef","onRequestError"],Dn=function(Rn,Sn){var Ii=Rn.dataIndex;if(Ii){var Hi=Array.isArray(Ii)?Object(Ki.a)(Sn,Ii):Sn[Ii];if(Hi!==void 0||Hi!==null)return Hi}return Rn.children},gn=function(Rn){var Sn=Rn.valueEnum,Ii=Rn.action,Hi=Rn.index,wt=Rn.text,Pi=Rn.entity,Ut=Rn.mode,We=Rn.render,Tn=Rn.editableUtils,ar=Rn.valueType,Br=Rn.plain,Yr=Rn.dataIndex,ti=Rn.request,bi=Rn.renderFormItem,Kn=Rn.params,En=Oe.a.useFormInstance(),Nt={text:wt,valueEnum:Sn,mode:Ut||"read",proFieldProps:{render:We?function(){return We==null?void 0:We(wt,Pi,Hi,Ii,Object(me.a)(Object(me.a)({},Rn),{},{type:"descriptions"}))}:void 0},ignoreFormItem:!0,valueType:ar,request:ti,params:Kn,plain:Br};if(Ut==="read"||!Ut||ar==="option"){var Gt=Object(jn.a)(Rn.fieldProps,void 0,Object(me.a)(Object(me.a)({},Rn),{},{rowKey:Yr,isEditable:!1}));return Object(ge.jsx)(Pe.a,Object(me.a)(Object(me.a)({name:Yr},Nt),{},{fieldProps:Gt}))}var mt=function(){var vn,nt=Object(jn.a)(Rn.formItemProps,En,Object(me.a)(Object(me.a)({},Rn),{},{rowKey:Yr,isEditable:!0})),Ze=Object(jn.a)(Rn.fieldProps,En,Object(me.a)(Object(me.a)({},Rn),{},{rowKey:Yr,isEditable:!0})),Zt=bi?bi==null?void 0:bi(Object(me.a)(Object(me.a)({},Rn),{},{type:"descriptions"}),{isEditable:!0,recordKey:Yr,record:En.getFieldValue([Yr].flat(1)),defaultRender:function(){return Object(ge.jsx)(Pe.a,Object(me.a)(Object(me.a)({},Nt),{},{fieldProps:Ze}))},type:"descriptions"},En):void 0;return Object(ge.jsxs)(J.b,{children:[Object(ge.jsx)(_n.a,Object(me.a)(Object(me.a)({name:Yr},nt),{},{style:Object(me.a)({margin:0},(nt==null?void 0:nt.style)||{}),initialValue:wt||(nt==null?void 0:nt.initialValue),children:Zt||Object(ge.jsx)(Pe.a,Object(me.a)(Object(me.a)({},Nt),{},{proFieldProps:Object(me.a)({},Nt.proFieldProps),fieldProps:Ze}))})),Tn==null||(vn=Tn.actionRender)===null||vn===void 0?void 0:vn.call(Tn,Yr||Hi,{cancelText:Object(ge.jsx)(L.a,{}),saveText:Object(ge.jsx)(De.a,{}),deleteText:!1})]})};return Object(ge.jsx)("div",{style:{marginTop:-5,marginBottom:-5,marginLeft:0,marginRight:0},children:mt()})},en=function(Rn,Sn,Ii,Hi){var wt,Pi=[],Ut=Rn==null||(wt=Rn.map)===null||wt===void 0?void 0:wt.call(Rn,function(We,Tn){var ar,Br;if(F.a.isValidElement(We))return We;var Yr=We.valueEnum,ti=We.render,bi=We.renderText,Kn=We.mode,En=We.plain,Nt=We.dataIndex,Gt=We.request,mt=We.params,Ye=We.editable,vn=Object(ae.a)(We,Yt),nt=(ar=Dn(We,Sn))!==null&&ar!==void 0?ar:vn.children,Ze=bi?bi(nt,Sn,Tn,Ii):nt,Zt=typeof vn.title=="function"?vn.title(We,"descriptions",null):vn.title,hn=typeof vn.valueType=="function"?vn.valueType(Sn||{},"descriptions"):vn.valueType,Ht=Hi==null?void 0:Hi.isEditable(Nt||Tn),lt=Kn||Ht?"edit":"read",si=Hi&&lt==="read"&&Ye!==!1&&(Ye==null?void 0:Ye(Ze,Sn,Tn))!==!1,Oi=si?J.b:F.a.Fragment,Ji=lt==="edit"?Ze:Object(Nn.a)(Ze,We,Ze),Wi=Object(B.createElement)(re.Item,Object(me.a)(Object(me.a)({},vn),{},{key:vn.key||((Br=vn.label)===null||Br===void 0?void 0:Br.toString())||Tn,label:(Zt||vn.label||vn.tooltip||vn.tip)&&Object(ge.jsx)(ei.a,{label:Zt||vn.label,tooltip:vn.tooltip||vn.tip,ellipsis:We.ellipsis})}),Object(ge.jsxs)(Oi,{children:[Object(ge.jsx)(gn,Object(me.a)(Object(me.a)({},We),{},{dataIndex:We.dataIndex||Tn,mode:lt,text:Ji,valueType:hn,entity:Sn,index:Tn,action:Ii,editableUtils:Hi})),si&&hn!=="option"&&Object(ge.jsx)(Ae.a,{onClick:function(){Hi==null||Hi.startEditable(Nt||Tn)}})]}));return hn==="option"?(Pi.push(Wi),null):Wi}).filter(function(We){return We});return{options:(Pi==null?void 0:Pi.length)?Pi:null,children:Ut}},yn=function(Rn){return Object(ge.jsx)(re.Item,Object(me.a)(Object(me.a)({},Rn),{},{children:Rn.children}))},Qn=function(Rn){return Rn.children},pi=function(Rn){var Sn,Ii=Rn.request,Hi=Rn.columns,wt=Rn.params,Pi=wt===void 0?{}:wt,Ut=Rn.dataSource,We=Rn.onDataSourceChange,Tn=Rn.formProps,ar=Rn.editable,Br=Rn.loading,Yr=Rn.onLoadingChange,ti=Rn.actionRef,bi=Rn.onRequestError,Kn=Object(ae.a)(Rn,Ct),En=Object(B.useContext)(se.a.ConfigContext),Nt=Jn(Object(w.a)(Object(we.a)().mark(function Ht(){var lt;return Object(we.a)().wrap(function(Oi){for(;;)switch(Oi.prev=Oi.next){case 0:if(!Ii){Oi.next=6;break}return Oi.next=3,Ii(Pi);case 3:Oi.t0=Oi.sent,Oi.next=7;break;case 6:Oi.t0={data:{}};case 7:return lt=Oi.t0,Oi.abrupt("return",lt);case 9:case"end":return Oi.stop()}},Ht)})),{onRequestError:bi,effects:[Object(Bn.a)(Pi)],manual:!Ii,dataSource:Ut,loading:Br,onLoadingChange:Yr,onDataSourceChange:We}),Gt=gr(Object(me.a)(Object(me.a)({},Rn.editable),{},{childrenColumnName:void 0,dataSource:Nt.dataSource,setDataSource:Nt.setDataSource}));if(Object(B.useEffect)(function(){ti&&(ti.current=Object(me.a)({reload:Nt.reload},Gt))},[Nt,ti,Gt]),Nt.loading||Nt.loading===void 0&&Ii)return Object(ge.jsx)(Dt,{type:"descriptions",list:!1,pageHeader:!1});var mt=function(){var lt=Object(V.a)(Rn.children).filter(Boolean).map(function(si){if(!F.a.isValidElement(si))return si;var Oi=si==null?void 0:si.props,Ji=Oi.valueEnum,Wi=Oi.valueType,Yi=Oi.dataIndex,Bi=Oi.ellipsis,Gi=Oi.copyable,Gr=Oi.request;return!Wi&&!Ji&&!Yi&&!Gr&&!Bi&&!Gi?si:Object(me.a)(Object(me.a)({},si==null?void 0:si.props),{},{entity:Ut})});return[].concat(Object(ce.a)(Hi||[]),Object(ce.a)(lt)).filter(function(si){return!si||(si==null?void 0:si.valueType)&&["index","indexBorder"].includes(si==null?void 0:si.valueType)?!1:!(si==null?void 0:si.hideInDescriptions)}).sort(function(si,Oi){return Oi.order||si.order?(Oi.order||0)-(si.order||0):(Oi.index||0)-(si.index||0)})},Ye=en(mt(),Nt.dataSource||{},(ti==null?void 0:ti.current)||Nt,ar?Gt:void 0),vn=Ye.options,nt=Ye.children,Ze=ar?Oe.a:Qn,Zt=null;(Kn.title||Kn.tooltip||Kn.tip)&&(Zt=Object(ge.jsx)(ei.a,{label:Kn.title,tooltip:Kn.tooltip||Kn.tip}));var hn=En.getPrefixCls("pro-descriptions");return Object(ge.jsx)(zn.a,{children:Object(ge.jsx)(Ze,Object(me.a)(Object(me.a)({form:(Sn=Rn.editable)===null||Sn===void 0?void 0:Sn.form,component:!1,submitter:!1},Tn),{},{onFinish:void 0,children:Object(ge.jsx)(re,Object(me.a)(Object(me.a)({className:hn},Kn),{},{extra:Kn.extra?Object(ge.jsxs)(J.b,{children:[vn,Kn.extra]}):vn,title:Zt,children:nt}))}),"form")})};pi.Item=yn;var Pt=U.a=pi},ZlPH:function(mn,U,a){"use strict";a.d(U,"a",function(){return w}),a.d(U,"b",function(){return se});var ce=a("fWQN"),we=a("mtLc"),w=function(){function te($){Object(ce.a)(this,te),this.domNode=$,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}return Object(we.a)(te,[{key:"setMaxWidth",value:function(_){var Y=ve(_);this._maxWidth!==Y&&(this._maxWidth=Y,this.domNode.style.maxWidth=this._maxWidth)}},{key:"setWidth",value:function(_){var Y=ve(_);this._width!==Y&&(this._width=Y,this.domNode.style.width=this._width)}},{key:"setHeight",value:function(_){var Y=ve(_);this._height!==Y&&(this._height=Y,this.domNode.style.height=this._height)}},{key:"setTop",value:function(_){var Y=ve(_);this._top!==Y&&(this._top=Y,this.domNode.style.top=this._top)}},{key:"setLeft",value:function(_){var Y=ve(_);this._left!==Y&&(this._left=Y,this.domNode.style.left=this._left)}},{key:"setBottom",value:function(_){var Y=ve(_);this._bottom!==Y&&(this._bottom=Y,this.domNode.style.bottom=this._bottom)}},{key:"setRight",value:function(_){var Y=ve(_);this._right!==Y&&(this._right=Y,this.domNode.style.right=this._right)}},{key:"setPaddingLeft",value:function(_){var Y=ve(_);this._paddingLeft!==Y&&(this._paddingLeft=Y,this.domNode.style.paddingLeft=this._paddingLeft)}},{key:"setFontFamily",value:function(_){this._fontFamily!==_&&(this._fontFamily=_,this.domNode.style.fontFamily=this._fontFamily)}},{key:"setFontWeight",value:function(_){this._fontWeight!==_&&(this._fontWeight=_,this.domNode.style.fontWeight=this._fontWeight)}},{key:"setFontSize",value:function(_){var Y=ve(_);this._fontSize!==Y&&(this._fontSize=Y,this.domNode.style.fontSize=this._fontSize)}},{key:"setFontStyle",value:function(_){this._fontStyle!==_&&(this._fontStyle=_,this.domNode.style.fontStyle=this._fontStyle)}},{key:"setFontFeatureSettings",value:function(_){this._fontFeatureSettings!==_&&(this._fontFeatureSettings=_,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}},{key:"setFontVariationSettings",value:function(_){this._fontVariationSettings!==_&&(this._fontVariationSettings=_,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}},{key:"setTextDecoration",value:function(_){this._textDecoration!==_&&(this._textDecoration=_,this.domNode.style.textDecoration=this._textDecoration)}},{key:"setLineHeight",value:function(_){var Y=ve(_);this._lineHeight!==Y&&(this._lineHeight=Y,this.domNode.style.lineHeight=this._lineHeight)}},{key:"setLetterSpacing",value:function(_){var Y=ve(_);this._letterSpacing!==Y&&(this._letterSpacing=Y,this.domNode.style.letterSpacing=this._letterSpacing)}},{key:"setClassName",value:function(_){this._className!==_&&(this._className=_,this.domNode.className=this._className)}},{key:"toggleClassName",value:function(_,Y){this.domNode.classList.toggle(_,Y),this._className=this.domNode.className}},{key:"setDisplay",value:function(_){this._display!==_&&(this._display=_,this.domNode.style.display=this._display)}},{key:"setPosition",value:function(_){this._position!==_&&(this._position=_,this.domNode.style.position=this._position)}},{key:"setVisibility",value:function(_){this._visibility!==_&&(this._visibility=_,this.domNode.style.visibility=this._visibility)}},{key:"setColor",value:function(_){this._color!==_&&(this._color=_,this.domNode.style.color=this._color)}},{key:"setBackgroundColor",value:function(_){this._backgroundColor!==_&&(this._backgroundColor=_,this.domNode.style.backgroundColor=this._backgroundColor)}},{key:"setLayerHinting",value:function(_){this._layerHint!==_&&(this._layerHint=_,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}},{key:"setBoxShadow",value:function(_){this._boxShadow!==_&&(this._boxShadow=_,this.domNode.style.boxShadow=_)}},{key:"setContain",value:function(_){this._contain!==_&&(this._contain=_,this.domNode.style.contain=this._contain)}},{key:"setAttribute",value:function(_,Y){this.domNode.setAttribute(_,Y)}},{key:"removeAttribute",value:function(_){this.domNode.removeAttribute(_)}},{key:"appendChild",value:function(_){this.domNode.appendChild(_.domNode)}},{key:"removeChild",value:function(_){this.domNode.removeChild(_.domNode)}}]),te}();function ve(te){return typeof te=="number"?"".concat(te,"px"):te}function se(te){return new w(te)}},Zr1c:function(mn,U,a){"use strict";a.d(U,"c",function(){return ve}),a.d(U,"d",function(){return se}),a.d(U,"b",function(){return te}),a.d(U,"a",function(){return Y});var ce=a("mtLc"),we=a("fWQN"),w=a("Cg/j"),ve={ctrlCmd:!1,alt:!1},se;(function(E){E[E.Blur=1]="Blur",E[E.Gesture=2]="Gesture",E[E.Other=3]="Other"})(se||(se={}));var te;(function(E){E[E.NONE=0]="NONE",E[E.FIRST=1]="FIRST",E[E.SECOND=2]="SECOND",E[E.LAST=3]="LAST"})(te||(te={}));var $=Object(ce.a)(function E(Z){Object(we.a)(this,E),this.options=Z}),_=new $,Y=Object(w.c)("quickInputService")},a3Ze:function(mn,U,a){},a4d6:function(mn,U,a){"use strict";a.d(U,"a",function(){return se});var ce=a("fWQN"),we=a("mtLc"),w=a("EffR"),ve=a("pmY6"),se=function(){function te(){Object(ce.a)(this,te),this._hooks=new ve.c,this._pointerMoveCallback=null,this._onStopCallback=null}return Object(we.a)(te,[{key:"dispose",value:function(){this.stopMonitoring(!1),this._hooks.dispose()}},{key:"stopMonitoring",value:function(_,Y){if(!!this.isMonitoring()){this._hooks.clear(),this._pointerMoveCallback=null;var E=this._onStopCallback;this._onStopCallback=null,_&&E&&E(Y)}}},{key:"isMonitoring",value:function(){return!!this._pointerMoveCallback}},{key:"startMonitoring",value:function(_,Y,E,Z,ne){var V=this;this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=Z,this._onStopCallback=ne;var B=_;try{_.setPointerCapture(Y),this._hooks.add(Object(ve.l)(function(){try{_.releasePointerCapture(Y)}catch(F){}}))}catch(F){B=window}this._hooks.add(w.addDisposableListener(B,w.EventType.POINTER_MOVE,function(F){if(F.buttons!==E){V.stopMonitoring(!0);return}F.preventDefault(),V._pointerMoveCallback(F)})),this._hooks.add(w.addDisposableListener(B,w.EventType.POINTER_UP,function(F){return V.stopMonitoring(!0)}))}}]),te}()},aIFW:function(mn,U,a){"use strict";a.d(U,"a",function(){return ce}),a.d(U,"b",function(){return we}),a.d(U,"c",function(){return w}),a.d(U,"d",function(){return ve}),a.d(U,"e",function(){return se}),a.d(U,"f",function(){return te}),a.d(U,"g",function(){return $}),a.d(U,"h",function(){return _}),a.d(U,"i",function(){return Y}),a.d(U,"j",function(){return E}),a.d(U,"k",function(){return Z}),a.d(U,"l",function(){return ne}),a.d(U,"m",function(){return V}),a.d(U,"n",function(){return B}),a.d(U,"o",function(){return F}),a.d(U,"p",function(){return W}),a.d(U,"q",function(){return N}),a.d(U,"r",function(){return H}),a.d(U,"s",function(){return d}),a.d(U,"t",function(){return D}),a.d(U,"u",function(){return C}),a.d(U,"v",function(){return x}),a.d(U,"w",function(){return O}),a.d(U,"x",function(){return T}),a.d(U,"y",function(){return z}),a.d(U,"z",function(){return I}),a.d(U,"A",function(){return de}),a.d(U,"B",function(){return pe}),a.d(U,"C",function(){return fe}),a.d(U,"D",function(){return ke}),a.d(U,"E",function(){return A}),a.d(U,"F",function(){return P}),a.d(U,"G",function(){return G}),a.d(U,"H",function(){return re}),a.d(U,"I",function(){return ae}),a.d(U,"J",function(){return Q}),a.d(U,"K",function(){return J}),a.d(U,"L",function(){return me}),a.d(U,"M",function(){return ge});var ce;(function(L){L[L.Unknown=0]="Unknown",L[L.Disabled=1]="Disabled",L[L.Enabled=2]="Enabled"})(ce||(ce={}));var we;(function(L){L[L.Invoke=1]="Invoke",L[L.Auto=2]="Auto"})(we||(we={}));var w;(function(L){L[L.None=0]="None",L[L.KeepWhitespace=1]="KeepWhitespace",L[L.InsertAsSnippet=4]="InsertAsSnippet"})(w||(w={}));var ve;(function(L){L[L.Method=0]="Method",L[L.Function=1]="Function",L[L.Constructor=2]="Constructor",L[L.Field=3]="Field",L[L.Variable=4]="Variable",L[L.Class=5]="Class",L[L.Struct=6]="Struct",L[L.Interface=7]="Interface",L[L.Module=8]="Module",L[L.Property=9]="Property",L[L.Event=10]="Event",L[L.Operator=11]="Operator",L[L.Unit=12]="Unit",L[L.Value=13]="Value",L[L.Constant=14]="Constant",L[L.Enum=15]="Enum",L[L.EnumMember=16]="EnumMember",L[L.Keyword=17]="Keyword",L[L.Text=18]="Text",L[L.Color=19]="Color",L[L.File=20]="File",L[L.Reference=21]="Reference",L[L.Customcolor=22]="Customcolor",L[L.Folder=23]="Folder",L[L.TypeParameter=24]="TypeParameter",L[L.User=25]="User",L[L.Issue=26]="Issue",L[L.Snippet=27]="Snippet"})(ve||(ve={}));var se;(function(L){L[L.Deprecated=1]="Deprecated"})(se||(se={}));var te;(function(L){L[L.Invoke=0]="Invoke",L[L.TriggerCharacter=1]="TriggerCharacter",L[L.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(te||(te={}));var $;(function(L){L[L.EXACT=0]="EXACT",L[L.ABOVE=1]="ABOVE",L[L.BELOW=2]="BELOW"})($||($={}));var _;(function(L){L[L.NotSet=0]="NotSet",L[L.ContentFlush=1]="ContentFlush",L[L.RecoverFromMarkers=2]="RecoverFromMarkers",L[L.Explicit=3]="Explicit",L[L.Paste=4]="Paste",L[L.Undo=5]="Undo",L[L.Redo=6]="Redo"})(_||(_={}));var Y;(function(L){L[L.LF=1]="LF",L[L.CRLF=2]="CRLF"})(Y||(Y={}));var E;(function(L){L[L.Text=0]="Text",L[L.Read=1]="Read",L[L.Write=2]="Write"})(E||(E={}));var Z;(function(L){L[L.None=0]="None",L[L.Keep=1]="Keep",L[L.Brackets=2]="Brackets",L[L.Advanced=3]="Advanced",L[L.Full=4]="Full"})(Z||(Z={}));var ne;(function(L){L[L.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",L[L.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",L[L.accessibilitySupport=2]="accessibilitySupport",L[L.accessibilityPageSize=3]="accessibilityPageSize",L[L.ariaLabel=4]="ariaLabel",L[L.autoClosingBrackets=5]="autoClosingBrackets",L[L.screenReaderAnnounceInlineSuggestion=6]="screenReaderAnnounceInlineSuggestion",L[L.autoClosingDelete=7]="autoClosingDelete",L[L.autoClosingOvertype=8]="autoClosingOvertype",L[L.autoClosingQuotes=9]="autoClosingQuotes",L[L.autoIndent=10]="autoIndent",L[L.automaticLayout=11]="automaticLayout",L[L.autoSurround=12]="autoSurround",L[L.bracketPairColorization=13]="bracketPairColorization",L[L.guides=14]="guides",L[L.codeLens=15]="codeLens",L[L.codeLensFontFamily=16]="codeLensFontFamily",L[L.codeLensFontSize=17]="codeLensFontSize",L[L.colorDecorators=18]="colorDecorators",L[L.colorDecoratorsLimit=19]="colorDecoratorsLimit",L[L.columnSelection=20]="columnSelection",L[L.comments=21]="comments",L[L.contextmenu=22]="contextmenu",L[L.copyWithSyntaxHighlighting=23]="copyWithSyntaxHighlighting",L[L.cursorBlinking=24]="cursorBlinking",L[L.cursorSmoothCaretAnimation=25]="cursorSmoothCaretAnimation",L[L.cursorStyle=26]="cursorStyle",L[L.cursorSurroundingLines=27]="cursorSurroundingLines",L[L.cursorSurroundingLinesStyle=28]="cursorSurroundingLinesStyle",L[L.cursorWidth=29]="cursorWidth",L[L.disableLayerHinting=30]="disableLayerHinting",L[L.disableMonospaceOptimizations=31]="disableMonospaceOptimizations",L[L.domReadOnly=32]="domReadOnly",L[L.dragAndDrop=33]="dragAndDrop",L[L.dropIntoEditor=34]="dropIntoEditor",L[L.emptySelectionClipboard=35]="emptySelectionClipboard",L[L.experimentalWhitespaceRendering=36]="experimentalWhitespaceRendering",L[L.extraEditorClassName=37]="extraEditorClassName",L[L.fastScrollSensitivity=38]="fastScrollSensitivity",L[L.find=39]="find",L[L.fixedOverflowWidgets=40]="fixedOverflowWidgets",L[L.folding=41]="folding",L[L.foldingStrategy=42]="foldingStrategy",L[L.foldingHighlight=43]="foldingHighlight",L[L.foldingImportsByDefault=44]="foldingImportsByDefault",L[L.foldingMaximumRegions=45]="foldingMaximumRegions",L[L.unfoldOnClickAfterEndOfLine=46]="unfoldOnClickAfterEndOfLine",L[L.fontFamily=47]="fontFamily",L[L.fontInfo=48]="fontInfo",L[L.fontLigatures=49]="fontLigatures",L[L.fontSize=50]="fontSize",L[L.fontWeight=51]="fontWeight",L[L.fontVariations=52]="fontVariations",L[L.formatOnPaste=53]="formatOnPaste",L[L.formatOnType=54]="formatOnType",L[L.glyphMargin=55]="glyphMargin",L[L.gotoLocation=56]="gotoLocation",L[L.hideCursorInOverviewRuler=57]="hideCursorInOverviewRuler",L[L.hover=58]="hover",L[L.inDiffEditor=59]="inDiffEditor",L[L.inlineSuggest=60]="inlineSuggest",L[L.letterSpacing=61]="letterSpacing",L[L.lightbulb=62]="lightbulb",L[L.lineDecorationsWidth=63]="lineDecorationsWidth",L[L.lineHeight=64]="lineHeight",L[L.lineNumbers=65]="lineNumbers",L[L.lineNumbersMinChars=66]="lineNumbersMinChars",L[L.linkedEditing=67]="linkedEditing",L[L.links=68]="links",L[L.matchBrackets=69]="matchBrackets",L[L.minimap=70]="minimap",L[L.mouseStyle=71]="mouseStyle",L[L.mouseWheelScrollSensitivity=72]="mouseWheelScrollSensitivity",L[L.mouseWheelZoom=73]="mouseWheelZoom",L[L.multiCursorMergeOverlapping=74]="multiCursorMergeOverlapping",L[L.multiCursorModifier=75]="multiCursorModifier",L[L.multiCursorPaste=76]="multiCursorPaste",L[L.multiCursorLimit=77]="multiCursorLimit",L[L.occurrencesHighlight=78]="occurrencesHighlight",L[L.overviewRulerBorder=79]="overviewRulerBorder",L[L.overviewRulerLanes=80]="overviewRulerLanes",L[L.padding=81]="padding",L[L.pasteAs=82]="pasteAs",L[L.parameterHints=83]="parameterHints",L[L.peekWidgetDefaultFocus=84]="peekWidgetDefaultFocus",L[L.definitionLinkOpensInPeek=85]="definitionLinkOpensInPeek",L[L.quickSuggestions=86]="quickSuggestions",L[L.quickSuggestionsDelay=87]="quickSuggestionsDelay",L[L.readOnly=88]="readOnly",L[L.renameOnType=89]="renameOnType",L[L.renderControlCharacters=90]="renderControlCharacters",L[L.renderFinalNewline=91]="renderFinalNewline",L[L.renderLineHighlight=92]="renderLineHighlight",L[L.renderLineHighlightOnlyWhenFocus=93]="renderLineHighlightOnlyWhenFocus",L[L.renderValidationDecorations=94]="renderValidationDecorations",L[L.renderWhitespace=95]="renderWhitespace",L[L.revealHorizontalRightPadding=96]="revealHorizontalRightPadding",L[L.roundedSelection=97]="roundedSelection",L[L.rulers=98]="rulers",L[L.scrollbar=99]="scrollbar",L[L.scrollBeyondLastColumn=100]="scrollBeyondLastColumn",L[L.scrollBeyondLastLine=101]="scrollBeyondLastLine",L[L.scrollPredominantAxis=102]="scrollPredominantAxis",L[L.selectionClipboard=103]="selectionClipboard",L[L.selectionHighlight=104]="selectionHighlight",L[L.selectOnLineNumbers=105]="selectOnLineNumbers",L[L.showFoldingControls=106]="showFoldingControls",L[L.showUnused=107]="showUnused",L[L.snippetSuggestions=108]="snippetSuggestions",L[L.smartSelect=109]="smartSelect",L[L.smoothScrolling=110]="smoothScrolling",L[L.stickyScroll=111]="stickyScroll",L[L.stickyTabStops=112]="stickyTabStops",L[L.stopRenderingLineAfter=113]="stopRenderingLineAfter",L[L.suggest=114]="suggest",L[L.suggestFontSize=115]="suggestFontSize",L[L.suggestLineHeight=116]="suggestLineHeight",L[L.suggestOnTriggerCharacters=117]="suggestOnTriggerCharacters",L[L.suggestSelection=118]="suggestSelection",L[L.tabCompletion=119]="tabCompletion",L[L.tabIndex=120]="tabIndex",L[L.unicodeHighlighting=121]="unicodeHighlighting",L[L.unusualLineTerminators=122]="unusualLineTerminators",L[L.useShadowDOM=123]="useShadowDOM",L[L.useTabStops=124]="useTabStops",L[L.wordBreak=125]="wordBreak",L[L.wordSeparators=126]="wordSeparators",L[L.wordWrap=127]="wordWrap",L[L.wordWrapBreakAfterCharacters=128]="wordWrapBreakAfterCharacters",L[L.wordWrapBreakBeforeCharacters=129]="wordWrapBreakBeforeCharacters",L[L.wordWrapColumn=130]="wordWrapColumn",L[L.wordWrapOverride1=131]="wordWrapOverride1",L[L.wordWrapOverride2=132]="wordWrapOverride2",L[L.wrappingIndent=133]="wrappingIndent",L[L.wrappingStrategy=134]="wrappingStrategy",L[L.showDeprecated=135]="showDeprecated",L[L.inlayHints=136]="inlayHints",L[L.editorClassName=137]="editorClassName",L[L.pixelRatio=138]="pixelRatio",L[L.tabFocusMode=139]="tabFocusMode",L[L.layoutInfo=140]="layoutInfo",L[L.wrappingInfo=141]="wrappingInfo",L[L.defaultColorDecorators=142]="defaultColorDecorators"})(ne||(ne={}));var V;(function(L){L[L.TextDefined=0]="TextDefined",L[L.LF=1]="LF",L[L.CRLF=2]="CRLF"})(V||(V={}));var B;(function(L){L[L.LF=0]="LF",L[L.CRLF=1]="CRLF"})(B||(B={}));var F;(function(L){L[L.Left=1]="Left",L[L.Right=2]="Right"})(F||(F={}));var W;(function(L){L[L.None=0]="None",L[L.Indent=1]="Indent",L[L.IndentOutdent=2]="IndentOutdent",L[L.Outdent=3]="Outdent"})(W||(W={}));var N;(function(L){L[L.Both=0]="Both",L[L.Right=1]="Right",L[L.Left=2]="Left",L[L.None=3]="None"})(N||(N={}));var H;(function(L){L[L.Type=1]="Type",L[L.Parameter=2]="Parameter"})(H||(H={}));var d;(function(L){L[L.Automatic=0]="Automatic",L[L.Explicit=1]="Explicit"})(d||(d={}));var D;(function(L){L[L.DependsOnKbLayout=-1]="DependsOnKbLayout",L[L.Unknown=0]="Unknown",L[L.Backspace=1]="Backspace",L[L.Tab=2]="Tab",L[L.Enter=3]="Enter",L[L.Shift=4]="Shift",L[L.Ctrl=5]="Ctrl",L[L.Alt=6]="Alt",L[L.PauseBreak=7]="PauseBreak",L[L.CapsLock=8]="CapsLock",L[L.Escape=9]="Escape",L[L.Space=10]="Space",L[L.PageUp=11]="PageUp",L[L.PageDown=12]="PageDown",L[L.End=13]="End",L[L.Home=14]="Home",L[L.LeftArrow=15]="LeftArrow",L[L.UpArrow=16]="UpArrow",L[L.RightArrow=17]="RightArrow",L[L.DownArrow=18]="DownArrow",L[L.Insert=19]="Insert",L[L.Delete=20]="Delete",L[L.Digit0=21]="Digit0",L[L.Digit1=22]="Digit1",L[L.Digit2=23]="Digit2",L[L.Digit3=24]="Digit3",L[L.Digit4=25]="Digit4",L[L.Digit5=26]="Digit5",L[L.Digit6=27]="Digit6",L[L.Digit7=28]="Digit7",L[L.Digit8=29]="Digit8",L[L.Digit9=30]="Digit9",L[L.KeyA=31]="KeyA",L[L.KeyB=32]="KeyB",L[L.KeyC=33]="KeyC",L[L.KeyD=34]="KeyD",L[L.KeyE=35]="KeyE",L[L.KeyF=36]="KeyF",L[L.KeyG=37]="KeyG",L[L.KeyH=38]="KeyH",L[L.KeyI=39]="KeyI",L[L.KeyJ=40]="KeyJ",L[L.KeyK=41]="KeyK",L[L.KeyL=42]="KeyL",L[L.KeyM=43]="KeyM",L[L.KeyN=44]="KeyN",L[L.KeyO=45]="KeyO",L[L.KeyP=46]="KeyP",L[L.KeyQ=47]="KeyQ",L[L.KeyR=48]="KeyR",L[L.KeyS=49]="KeyS",L[L.KeyT=50]="KeyT",L[L.KeyU=51]="KeyU",L[L.KeyV=52]="KeyV",L[L.KeyW=53]="KeyW",L[L.KeyX=54]="KeyX",L[L.KeyY=55]="KeyY",L[L.KeyZ=56]="KeyZ",L[L.Meta=57]="Meta",L[L.ContextMenu=58]="ContextMenu",L[L.F1=59]="F1",L[L.F2=60]="F2",L[L.F3=61]="F3",L[L.F4=62]="F4",L[L.F5=63]="F5",L[L.F6=64]="F6",L[L.F7=65]="F7",L[L.F8=66]="F8",L[L.F9=67]="F9",L[L.F10=68]="F10",L[L.F11=69]="F11",L[L.F12=70]="F12",L[L.F13=71]="F13",L[L.F14=72]="F14",L[L.F15=73]="F15",L[L.F16=74]="F16",L[L.F17=75]="F17",L[L.F18=76]="F18",L[L.F19=77]="F19",L[L.F20=78]="F20",L[L.F21=79]="F21",L[L.F22=80]="F22",L[L.F23=81]="F23",L[L.F24=82]="F24",L[L.NumLock=83]="NumLock",L[L.ScrollLock=84]="ScrollLock",L[L.Semicolon=85]="Semicolon",L[L.Equal=86]="Equal",L[L.Comma=87]="Comma",L[L.Minus=88]="Minus",L[L.Period=89]="Period",L[L.Slash=90]="Slash",L[L.Backquote=91]="Backquote",L[L.BracketLeft=92]="BracketLeft",L[L.Backslash=93]="Backslash",L[L.BracketRight=94]="BracketRight",L[L.Quote=95]="Quote",L[L.OEM_8=96]="OEM_8",L[L.IntlBackslash=97]="IntlBackslash",L[L.Numpad0=98]="Numpad0",L[L.Numpad1=99]="Numpad1",L[L.Numpad2=100]="Numpad2",L[L.Numpad3=101]="Numpad3",L[L.Numpad4=102]="Numpad4",L[L.Numpad5=103]="Numpad5",L[L.Numpad6=104]="Numpad6",L[L.Numpad7=105]="Numpad7",L[L.Numpad8=106]="Numpad8",L[L.Numpad9=107]="Numpad9",L[L.NumpadMultiply=108]="NumpadMultiply",L[L.NumpadAdd=109]="NumpadAdd",L[L.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",L[L.NumpadSubtract=111]="NumpadSubtract",L[L.NumpadDecimal=112]="NumpadDecimal",L[L.NumpadDivide=113]="NumpadDivide",L[L.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",L[L.ABNT_C1=115]="ABNT_C1",L[L.ABNT_C2=116]="ABNT_C2",L[L.AudioVolumeMute=117]="AudioVolumeMute",L[L.AudioVolumeUp=118]="AudioVolumeUp",L[L.AudioVolumeDown=119]="AudioVolumeDown",L[L.BrowserSearch=120]="BrowserSearch",L[L.BrowserHome=121]="BrowserHome",L[L.BrowserBack=122]="BrowserBack",L[L.BrowserForward=123]="BrowserForward",L[L.MediaTrackNext=124]="MediaTrackNext",L[L.MediaTrackPrevious=125]="MediaTrackPrevious",L[L.MediaStop=126]="MediaStop",L[L.MediaPlayPause=127]="MediaPlayPause",L[L.LaunchMediaPlayer=128]="LaunchMediaPlayer",L[L.LaunchMail=129]="LaunchMail",L[L.LaunchApp2=130]="LaunchApp2",L[L.Clear=131]="Clear",L[L.MAX_VALUE=132]="MAX_VALUE"})(D||(D={}));var C;(function(L){L[L.Hint=1]="Hint",L[L.Info=2]="Info",L[L.Warning=4]="Warning",L[L.Error=8]="Error"})(C||(C={}));var x;(function(L){L[L.Unnecessary=1]="Unnecessary",L[L.Deprecated=2]="Deprecated"})(x||(x={}));var O;(function(L){L[L.Inline=1]="Inline",L[L.Gutter=2]="Gutter"})(O||(O={}));var T;(function(L){L[L.UNKNOWN=0]="UNKNOWN",L[L.TEXTAREA=1]="TEXTAREA",L[L.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",L[L.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",L[L.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",L[L.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",L[L.CONTENT_TEXT=6]="CONTENT_TEXT",L[L.CONTENT_EMPTY=7]="CONTENT_EMPTY",L[L.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",L[L.CONTENT_WIDGET=9]="CONTENT_WIDGET",L[L.OVERVIEW_RULER=10]="OVERVIEW_RULER",L[L.SCROLLBAR=11]="SCROLLBAR",L[L.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",L[L.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(T||(T={}));var z;(function(L){L[L.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",L[L.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",L[L.TOP_CENTER=2]="TOP_CENTER"})(z||(z={}));var I;(function(L){L[L.Left=1]="Left",L[L.Center=2]="Center",L[L.Right=4]="Right",L[L.Full=7]="Full"})(I||(I={}));var de;(function(L){L[L.Left=0]="Left",L[L.Right=1]="Right",L[L.None=2]="None",L[L.LeftOfInjectedText=3]="LeftOfInjectedText",L[L.RightOfInjectedText=4]="RightOfInjectedText"})(de||(de={}));var pe;(function(L){L[L.Off=0]="Off",L[L.On=1]="On",L[L.Relative=2]="Relative",L[L.Interval=3]="Interval",L[L.Custom=4]="Custom"})(pe||(pe={}));var fe;(function(L){L[L.None=0]="None",L[L.Text=1]="Text",L[L.Blocks=2]="Blocks"})(fe||(fe={}));var ke;(function(L){L[L.Smooth=0]="Smooth",L[L.Immediate=1]="Immediate"})(ke||(ke={}));var A;(function(L){L[L.Auto=1]="Auto",L[L.Hidden=2]="Hidden",L[L.Visible=3]="Visible"})(A||(A={}));var P;(function(L){L[L.LTR=0]="LTR",L[L.RTL=1]="RTL"})(P||(P={}));var G;(function(L){L[L.Invoke=1]="Invoke",L[L.TriggerCharacter=2]="TriggerCharacter",L[L.ContentChange=3]="ContentChange"})(G||(G={}));var re;(function(L){L[L.File=0]="File",L[L.Module=1]="Module",L[L.Namespace=2]="Namespace",L[L.Package=3]="Package",L[L.Class=4]="Class",L[L.Method=5]="Method",L[L.Property=6]="Property",L[L.Field=7]="Field",L[L.Constructor=8]="Constructor",L[L.Enum=9]="Enum",L[L.Interface=10]="Interface",L[L.Function=11]="Function",L[L.Variable=12]="Variable",L[L.Constant=13]="Constant",L[L.String=14]="String",L[L.Number=15]="Number",L[L.Boolean=16]="Boolean",L[L.Array=17]="Array",L[L.Object=18]="Object",L[L.Key=19]="Key",L[L.Null=20]="Null",L[L.EnumMember=21]="EnumMember",L[L.Struct=22]="Struct",L[L.Event=23]="Event",L[L.Operator=24]="Operator",L[L.TypeParameter=25]="TypeParameter"})(re||(re={}));var ae;(function(L){L[L.Deprecated=1]="Deprecated"})(ae||(ae={}));var Q;(function(L){L[L.Hidden=0]="Hidden",L[L.Blink=1]="Blink",L[L.Smooth=2]="Smooth",L[L.Phase=3]="Phase",L[L.Expand=4]="Expand",L[L.Solid=5]="Solid"})(Q||(Q={}));var J;(function(L){L[L.Line=1]="Line",L[L.Block=2]="Block",L[L.Underline=3]="Underline",L[L.LineThin=4]="LineThin",L[L.BlockOutline=5]="BlockOutline",L[L.UnderlineThin=6]="UnderlineThin"})(J||(J={}));var me;(function(L){L[L.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",L[L.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",L[L.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",L[L.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(me||(me={}));var ge;(function(L){L[L.None=0]="None",L[L.Same=1]="Same",L[L.Indent=2]="Indent",L[L.DeepIndent=3]="DeepIndent"})(ge||(ge={}))},"aK+R":function(mn,U,a){},"aKo+":function(mn,U,a){"use strict";a.d(U,"a",function(){return d});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("w4Tj"),se=a("oZsa"),te=a("yKVA"),$=a("879j"),_=a("D3Dy"),Y=a("MI8n"),E=a("pmY6"),Z=a("DMKg"),ne=function(){function D(C,x){Object(we.a)(this,D),this.chr=C,this.type=x,this.width=0}return Object(w.a)(D,[{key:"fulfill",value:function(x){this.width=x}}]),D}(),V=function(){function D(C,x){Object(we.a)(this,D),this._bareFontInfo=C,this._requests=x,this._container=null,this._testElements=null}return Object(w.a)(D,[{key:"read",value:function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}},{key:"_createDomElements",value:function(){var x=document.createElement("div");x.style.position="absolute",x.style.top="-50000px",x.style.width="50000px";var O=document.createElement("div");Object(Z.a)(O,this._bareFontInfo),x.appendChild(O);var T=document.createElement("div");Object(Z.a)(T,this._bareFontInfo),T.style.fontWeight="bold",x.appendChild(T);var z=document.createElement("div");Object(Z.a)(z,this._bareFontInfo),z.style.fontStyle="italic",x.appendChild(z);var I=[],de=Object(ce.a)(this._requests),pe;try{for(de.s();!(pe=de.n()).done;){var fe=pe.value,ke=void 0;fe.type===0&&(ke=O),fe.type===2&&(ke=T),fe.type===1&&(ke=z),ke.appendChild(document.createElement("br"));var A=document.createElement("span");D._render(A,fe),ke.appendChild(A),I.push(A)}}catch(P){de.e(P)}finally{de.f()}this._container=x,this._testElements=I}},{key:"_readFromDomElements",value:function(){for(var x=0,O=this._requests.length;x<O;x++){var T=this._requests[x],z=this._testElements[x];T.fulfill(z.offsetWidth/256)}}}],[{key:"_render",value:function(x,O){if(O.chr===" "){for(var T="\xA0",z=0;z<8;z++)T+=T;x.innerText=T}else{for(var I=O.chr,de=0;de<8;de++)I+=I;x.textContent=I}}}]),D}();function B(D,C){var x=new V(D,C);x.read()}var F=a("/UlZ"),W=a("+3Gp"),N=function(D){Object(te.a)(x,D);var C=Object($.a)(x);function x(){var O;return Object(we.a)(this,x),O=C.call(this),O._onDidChange=O._register(new Y.b),O.onDidChange=O._onDidChange.event,O._cache=new H,O._evictUntrustedReadingsTimeout=-1,O}return Object(w.a)(x,[{key:"dispose",value:function(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),Object(ve.a)(Object(se.a)(x.prototype),"dispose",this).call(this)}},{key:"clearAllFontInfos",value:function(){this._cache=new H,this._onDidChange.fire()}},{key:"_writeToCache",value:function(T,z){var I=this;this._cache.put(T,z),!z.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(function(){I._evictUntrustedReadingsTimeout=-1,I._evictUntrustedReadings()},5e3))}},{key:"_evictUntrustedReadings",value:function(){var T=this._cache.getValues(),z=!1,I=Object(ce.a)(T),de;try{for(I.s();!(de=I.n()).done;){var pe=de.value;pe.isTrusted||(z=!0,this._cache.remove(pe))}}catch(fe){I.e(fe)}finally{I.f()}z&&this._onDidChange.fire()}},{key:"readFontInfo",value:function(T){if(!this._cache.has(T)){var z=this._actualReadFontInfo(T);(z.typicalHalfwidthCharacterWidth<=2||z.typicalFullwidthCharacterWidth<=2||z.spaceWidth<=2||z.maxDigitWidth<=2)&&(z=new W.b({pixelRatio:_.PixelRatio.value,fontFamily:z.fontFamily,fontWeight:z.fontWeight,fontSize:z.fontSize,fontFeatureSettings:z.fontFeatureSettings,fontVariationSettings:z.fontVariationSettings,lineHeight:z.lineHeight,letterSpacing:z.letterSpacing,isMonospace:z.isMonospace,typicalHalfwidthCharacterWidth:Math.max(z.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(z.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:z.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(z.spaceWidth,5),middotWidth:Math.max(z.middotWidth,5),wsmiddotWidth:Math.max(z.wsmiddotWidth,5),maxDigitWidth:Math.max(z.maxDigitWidth,5)},!1)),this._writeToCache(T,z)}return this._cache.get(T)}},{key:"_createRequest",value:function(T,z,I,de){var pe=new ne(T,z);return I.push(pe),de==null||de.push(pe),pe}},{key:"_actualReadFontInfo",value:function(T){for(var z=[],I=[],de=this._createRequest("n",0,z,I),pe=this._createRequest("\uFF4D",0,z,null),fe=this._createRequest(" ",0,z,I),ke=this._createRequest("0",0,z,I),A=this._createRequest("1",0,z,I),P=this._createRequest("2",0,z,I),G=this._createRequest("3",0,z,I),re=this._createRequest("4",0,z,I),ae=this._createRequest("5",0,z,I),Q=this._createRequest("6",0,z,I),J=this._createRequest("7",0,z,I),me=this._createRequest("8",0,z,I),ge=this._createRequest("9",0,z,I),L=this._createRequest("\u2192",0,z,I),De=this._createRequest("\uFFEB",0,z,null),Ae=this._createRequest("\xB7",0,z,I),Oe=this._createRequest(String.fromCharCode(11825),0,z,null),Pe="|/-_ilm%",Ne=0,Fe=Pe.length;Ne<Fe;Ne++)this._createRequest(Pe.charAt(Ne),0,z,I),this._createRequest(Pe.charAt(Ne),1,z,I),this._createRequest(Pe.charAt(Ne),2,z,I);B(T,z);for(var Xe=Math.max(ke.width,A.width,P.width,G.width,re.width,ae.width,Q.width,J.width,me.width,ge.width),Et=T.fontFeatureSettings===F.e.OFF,Ft=I[0].width,Ot=1,pt=I.length;Et&&Ot<pt;Ot++){var Lt=Ft-I[Ot].width;if(Lt<-.001||Lt>.001){Et=!1;break}}var et=!0;return Et&&De.width!==Ft&&(et=!1),De.width>L.width&&(et=!1),new W.b({pixelRatio:_.PixelRatio.value,fontFamily:T.fontFamily,fontWeight:T.fontWeight,fontSize:T.fontSize,fontFeatureSettings:T.fontFeatureSettings,fontVariationSettings:T.fontVariationSettings,lineHeight:T.lineHeight,letterSpacing:T.letterSpacing,isMonospace:Et,typicalHalfwidthCharacterWidth:de.width,typicalFullwidthCharacterWidth:pe.width,canUseHalfwidthRightwardsArrow:et,spaceWidth:fe.width,middotWidth:Ae.width,wsmiddotWidth:Oe.width,maxDigitWidth:Xe},!0)}}]),x}(E.a),H=function(){function D(){Object(we.a)(this,D),this._keys=Object.create(null),this._values=Object.create(null)}return Object(w.a)(D,[{key:"has",value:function(x){var O=x.getId();return!!this._values[O]}},{key:"get",value:function(x){var O=x.getId();return this._values[O]}},{key:"put",value:function(x,O){var T=x.getId();this._keys[T]=x,this._values[T]=O}},{key:"remove",value:function(x){var O=x.getId();delete this._keys[O],delete this._values[O]}},{key:"getValues",value:function(){var x=this;return Object.keys(this._keys).map(function(O){return x._values[O]})}}]),D}(),d=new N},aokT:function(mn,U,a){"use strict";a.d(U,"a",function(){return ve});var ce=a("fWQN"),we=a("mtLc"),w=a("cGHE"),ve=function(){function se(te,$,_,Y){Object(ce.a)(this,se),te>_||te===_&&$>Y?(this.startLineNumber=_,this.startColumn=Y,this.endLineNumber=te,this.endColumn=$):(this.startLineNumber=te,this.startColumn=$,this.endLineNumber=_,this.endColumn=Y)}return Object(we.a)(se,[{key:"isEmpty",value:function(){return se.isEmpty(this)}},{key:"containsPosition",value:function($){return se.containsPosition(this,$)}},{key:"containsRange",value:function($){return se.containsRange(this,$)}},{key:"strictContainsRange",value:function($){return se.strictContainsRange(this,$)}},{key:"plusRange",value:function($){return se.plusRange(this,$)}},{key:"intersectRanges",value:function($){return se.intersectRanges(this,$)}},{key:"equalsRange",value:function($){return se.equalsRange(this,$)}},{key:"getEndPosition",value:function(){return se.getEndPosition(this)}},{key:"getStartPosition",value:function(){return se.getStartPosition(this)}},{key:"toString",value:function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}},{key:"setEndPosition",value:function($,_){return new se(this.startLineNumber,this.startColumn,$,_)}},{key:"setStartPosition",value:function($,_){return new se($,_,this.endLineNumber,this.endColumn)}},{key:"collapseToStart",value:function(){return se.collapseToStart(this)}},{key:"collapseToEnd",value:function(){return se.collapseToEnd(this)}},{key:"delta",value:function($){return new se(this.startLineNumber+$,this.startColumn,this.endLineNumber+$,this.endColumn)}},{key:"toJSON",value:function(){return this}}],[{key:"isEmpty",value:function($){return $.startLineNumber===$.endLineNumber&&$.startColumn===$.endColumn}},{key:"containsPosition",value:function($,_){return!(_.lineNumber<$.startLineNumber||_.lineNumber>$.endLineNumber||_.lineNumber===$.startLineNumber&&_.column<$.startColumn||_.lineNumber===$.endLineNumber&&_.column>$.endColumn)}},{key:"strictContainsPosition",value:function($,_){return!(_.lineNumber<$.startLineNumber||_.lineNumber>$.endLineNumber||_.lineNumber===$.startLineNumber&&_.column<=$.startColumn||_.lineNumber===$.endLineNumber&&_.column>=$.endColumn)}},{key:"containsRange",value:function($,_){return!(_.startLineNumber<$.startLineNumber||_.endLineNumber<$.startLineNumber||_.startLineNumber>$.endLineNumber||_.endLineNumber>$.endLineNumber||_.startLineNumber===$.startLineNumber&&_.startColumn<$.startColumn||_.endLineNumber===$.endLineNumber&&_.endColumn>$.endColumn)}},{key:"strictContainsRange",value:function($,_){return!(_.startLineNumber<$.startLineNumber||_.endLineNumber<$.startLineNumber||_.startLineNumber>$.endLineNumber||_.endLineNumber>$.endLineNumber||_.startLineNumber===$.startLineNumber&&_.startColumn<=$.startColumn||_.endLineNumber===$.endLineNumber&&_.endColumn>=$.endColumn)}},{key:"plusRange",value:function($,_){var Y,E,Z,ne;return _.startLineNumber<$.startLineNumber?(Y=_.startLineNumber,E=_.startColumn):_.startLineNumber===$.startLineNumber?(Y=_.startLineNumber,E=Math.min(_.startColumn,$.startColumn)):(Y=$.startLineNumber,E=$.startColumn),_.endLineNumber>$.endLineNumber?(Z=_.endLineNumber,ne=_.endColumn):_.endLineNumber===$.endLineNumber?(Z=_.endLineNumber,ne=Math.max(_.endColumn,$.endColumn)):(Z=$.endLineNumber,ne=$.endColumn),new se(Y,E,Z,ne)}},{key:"intersectRanges",value:function($,_){var Y=$.startLineNumber,E=$.startColumn,Z=$.endLineNumber,ne=$.endColumn,V=_.startLineNumber,B=_.startColumn,F=_.endLineNumber,W=_.endColumn;return Y<V?(Y=V,E=B):Y===V&&(E=Math.max(E,B)),Z>F?(Z=F,ne=W):Z===F&&(ne=Math.min(ne,W)),Y>Z||Y===Z&&E>ne?null:new se(Y,E,Z,ne)}},{key:"equalsRange",value:function($,_){return!$&&!_?!0:!!$&&!!_&&$.startLineNumber===_.startLineNumber&&$.startColumn===_.startColumn&&$.endLineNumber===_.endLineNumber&&$.endColumn===_.endColumn}},{key:"getEndPosition",value:function($){return new w.a($.endLineNumber,$.endColumn)}},{key:"getStartPosition",value:function($){return new w.a($.startLineNumber,$.startColumn)}},{key:"collapseToStart",value:function($){return new se($.startLineNumber,$.startColumn,$.startLineNumber,$.startColumn)}},{key:"collapseToEnd",value:function($){return new se($.endLineNumber,$.endColumn,$.endLineNumber,$.endColumn)}},{key:"fromPositions",value:function($){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$;return new se($.lineNumber,$.column,_.lineNumber,_.column)}},{key:"lift",value:function($){return $?new se($.startLineNumber,$.startColumn,$.endLineNumber,$.endColumn):null}},{key:"isIRange",value:function($){return $&&typeof $.startLineNumber=="number"&&typeof $.startColumn=="number"&&typeof $.endLineNumber=="number"&&typeof $.endColumn=="number"}},{key:"areIntersectingOrTouching",value:function($,_){return!($.endLineNumber<_.startLineNumber||$.endLineNumber===_.startLineNumber&&$.endColumn<_.startColumn||_.endLineNumber<$.startLineNumber||_.endLineNumber===$.startLineNumber&&_.endColumn<$.startColumn)}},{key:"areIntersecting",value:function($,_){return!($.endLineNumber<_.startLineNumber||$.endLineNumber===_.startLineNumber&&$.endColumn<=_.startColumn||_.endLineNumber<$.startLineNumber||_.endLineNumber===$.startLineNumber&&_.endColumn<=$.startColumn)}},{key:"compareRangesUsingStarts",value:function($,_){if($&&_){var Y=$.startLineNumber|0,E=_.startLineNumber|0;if(Y===E){var Z=$.startColumn|0,ne=_.startColumn|0;if(Z===ne){var V=$.endLineNumber|0,B=_.endLineNumber|0;if(V===B){var F=$.endColumn|0,W=_.endColumn|0;return F-W}return V-B}return Z-ne}return Y-E}var N=$?1:0,H=_?1:0;return N-H}},{key:"compareRangesUsingEnds",value:function($,_){return $.endLineNumber===_.endLineNumber?$.endColumn===_.endColumn?$.startLineNumber===_.startLineNumber?$.startColumn-_.startColumn:$.startLineNumber-_.startLineNumber:$.endColumn-_.endColumn:$.endLineNumber-_.endLineNumber}},{key:"spansMultipleLines",value:function($){return $.endLineNumber>$.startLineNumber}}]),se}()},bE4E:function(mn,U,a){},bY76:function(mn,U,a){"use strict";a.d(U,"a",function(){return H}),a.d(U,"b",function(){return T});var ce=a("jrin"),we=a("yKVA"),w=a("879j"),ve=a("fWQN"),se=a("mtLc"),te=a("MrjW"),$=a("MNsG"),_,Y=/^\w[\w\d+.-]*$/,E=/^\//,Z=/^\/\//;function ne(fe,ke){if(!fe.scheme&&ke)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(fe.authority,'", path: "').concat(fe.path,'", query: "').concat(fe.query,'", fragment: "').concat(fe.fragment,'"}'));if(fe.scheme&&!Y.test(fe.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(fe.path){if(fe.authority){if(!E.test(fe.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Z.test(fe.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function V(fe,ke){return!fe&&!ke?"file":fe}function B(fe,ke){switch(fe){case"https":case"http":case"file":ke?ke[0]!==W&&(ke=W+ke):ke=W;break}return ke}var F="",W="/",N=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,H=function(){function fe(ke,A,P,G,re){var ae=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;Object(ve.a)(this,fe),typeof ke=="object"?(this.scheme=ke.scheme||F,this.authority=ke.authority||F,this.path=ke.path||F,this.query=ke.query||F,this.fragment=ke.fragment||F):(this.scheme=V(ke,ae),this.authority=A||F,this.path=B(this.scheme,P||F),this.query=G||F,this.fragment=re||F,ne(this,ae))}return Object(se.a)(fe,[{key:"fsPath",get:function(){return T(this,!1)}},{key:"with",value:function(A){if(!A)return this;var P=A.scheme,G=A.authority,re=A.path,ae=A.query,Q=A.fragment;return P===void 0?P=this.scheme:P===null&&(P=F),G===void 0?G=this.authority:G===null&&(G=F),re===void 0?re=this.path:re===null&&(re=F),ae===void 0?ae=this.query:ae===null&&(ae=F),Q===void 0?Q=this.fragment:Q===null&&(Q=F),P===this.scheme&&G===this.authority&&re===this.path&&ae===this.query&&Q===this.fragment?this:new D(P,G,re,ae,Q)}},{key:"toString",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return z(this,A)}},{key:"toJSON",value:function(){return this}}],[{key:"isUri",value:function(A){return A instanceof fe?!0:A?typeof A.authority=="string"&&typeof A.fragment=="string"&&typeof A.path=="string"&&typeof A.query=="string"&&typeof A.scheme=="string"&&typeof A.fsPath=="string"&&typeof A.with=="function"&&typeof A.toString=="function":!1}},{key:"parse",value:function(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=N.exec(A);return G?new D(G[2]||F,pe(G[4]||F),pe(G[5]||F),pe(G[7]||F),pe(G[9]||F),P):new D(F,F,F,F,F)}},{key:"file",value:function(A){var P=F;if($.o&&(A=A.replace(/\\/g,W)),A[0]===W&&A[1]===W){var G=A.indexOf(W,2);G===-1?(P=A.substring(2),A=W):(P=A.substring(2,G),A=A.substring(G)||W)}return new D("file",P,A,F,F)}},{key:"from",value:function(A,P){var G=new D(A.scheme,A.authority,A.path,A.query,A.fragment,P);return G}},{key:"joinPath",value:function(A){if(!A.path)throw new Error("[UriError]: cannot call joinPath on URI without path");for(var P,G=arguments.length,re=new Array(G>1?G-1:0),ae=1;ae<G;ae++)re[ae-1]=arguments[ae];if($.o&&A.scheme==="file"){var Q;P=fe.file((Q=te.i).join.apply(Q,[T(A,!0)].concat(re))).path}else{var J;P=(J=te.e).join.apply(J,[A.path].concat(re))}return A.with({path:P})}},{key:"revive",value:function(A){var P,G;if(A){if(A instanceof fe)return A;var re=new D(A);return re._formatted=(P=A.external)!==null&&P!==void 0?P:null,re._fsPath=A._sep===d&&(G=A.fsPath)!==null&&G!==void 0?G:null,re}else return A}}]),fe}(),d=$.o?1:void 0,D=function(fe){Object(we.a)(A,fe);var ke=Object(w.a)(A);function A(){var P;return Object(ve.a)(this,A),P=ke.apply(this,arguments),P._formatted=null,P._fsPath=null,P}return Object(se.a)(A,[{key:"fsPath",get:function(){return this._fsPath||(this._fsPath=T(this,!1)),this._fsPath}},{key:"toString",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return G?z(this,!0):(this._formatted||(this._formatted=z(this,!1)),this._formatted)}},{key:"toJSON",value:function(){var G={$mid:1};return this._fsPath&&(G.fsPath=this._fsPath,G._sep=d),this._formatted&&(G.external=this._formatted),this.path&&(G.path=this.path),this.scheme&&(G.scheme=this.scheme),this.authority&&(G.authority=this.authority),this.query&&(G.query=this.query),this.fragment&&(G.fragment=this.fragment),G}}]),A}(H),C=(_={},Object(ce.a)(_,58,"%3A"),Object(ce.a)(_,47,"%2F"),Object(ce.a)(_,63,"%3F"),Object(ce.a)(_,35,"%23"),Object(ce.a)(_,91,"%5B"),Object(ce.a)(_,93,"%5D"),Object(ce.a)(_,64,"%40"),Object(ce.a)(_,33,"%21"),Object(ce.a)(_,36,"%24"),Object(ce.a)(_,38,"%26"),Object(ce.a)(_,39,"%27"),Object(ce.a)(_,40,"%28"),Object(ce.a)(_,41,"%29"),Object(ce.a)(_,42,"%2A"),Object(ce.a)(_,43,"%2B"),Object(ce.a)(_,44,"%2C"),Object(ce.a)(_,59,"%3B"),Object(ce.a)(_,61,"%3D"),Object(ce.a)(_,32,"%20"),_);function x(fe,ke,A){for(var P=void 0,G=-1,re=0;re<fe.length;re++){var ae=fe.charCodeAt(re);if(ae>=97&&ae<=122||ae>=65&&ae<=90||ae>=48&&ae<=57||ae===45||ae===46||ae===95||ae===126||ke&&ae===47||A&&ae===91||A&&ae===93||A&&ae===58)G!==-1&&(P+=encodeURIComponent(fe.substring(G,re)),G=-1),P!==void 0&&(P+=fe.charAt(re));else{P===void 0&&(P=fe.substr(0,re));var Q=C[ae];Q!==void 0?(G!==-1&&(P+=encodeURIComponent(fe.substring(G,re)),G=-1),P+=Q):G===-1&&(G=re)}}return G!==-1&&(P+=encodeURIComponent(fe.substring(G))),P!==void 0?P:fe}function O(fe){for(var ke=void 0,A=0;A<fe.length;A++){var P=fe.charCodeAt(A);P===35||P===63?(ke===void 0&&(ke=fe.substr(0,A)),ke+=C[P]):ke!==void 0&&(ke+=fe[A])}return ke!==void 0?ke:fe}function T(fe,ke){var A;return fe.authority&&fe.path.length>1&&fe.scheme==="file"?A="//".concat(fe.authority).concat(fe.path):fe.path.charCodeAt(0)===47&&(fe.path.charCodeAt(1)>=65&&fe.path.charCodeAt(1)<=90||fe.path.charCodeAt(1)>=97&&fe.path.charCodeAt(1)<=122)&&fe.path.charCodeAt(2)===58?ke?A=fe.path.substr(1):A=fe.path[1].toLowerCase()+fe.path.substr(2):A=fe.path,$.o&&(A=A.replace(/\//g,"\\")),A}function z(fe,ke){var A=ke?O:x,P="",G=fe.scheme,re=fe.authority,ae=fe.path,Q=fe.query,J=fe.fragment;if(G&&(P+=G,P+=":"),(re||G==="file")&&(P+=W,P+=W),re){var me=re.indexOf("@");if(me!==-1){var ge=re.substr(0,me);re=re.substr(me+1),me=ge.lastIndexOf(":"),me===-1?P+=A(ge,!1,!1):(P+=A(ge.substr(0,me),!1,!1),P+=":",P+=A(ge.substr(me+1),!1,!0)),P+="@"}re=re.toLowerCase(),me=re.lastIndexOf(":"),me===-1?P+=A(re,!1,!0):(P+=A(re.substr(0,me),!1,!0),P+=re.substr(me))}if(ae){if(ae.length>=3&&ae.charCodeAt(0)===47&&ae.charCodeAt(2)===58){var L=ae.charCodeAt(1);L>=65&&L<=90&&(ae="/".concat(String.fromCharCode(L+32),":").concat(ae.substr(3)))}else if(ae.length>=2&&ae.charCodeAt(1)===58){var De=ae.charCodeAt(0);De>=65&&De<=90&&(ae="".concat(String.fromCharCode(De+32),":").concat(ae.substr(2)))}P+=A(ae,!0,!1)}return Q&&(P+="?",P+=A(Q,!1,!1)),J&&(P+="#",P+=ke?J:x(J,!1,!1)),P}function I(fe){try{return decodeURIComponent(fe)}catch(ke){return fe.length>3?fe.substr(0,3)+I(fe.substr(3)):fe}}var de=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function pe(fe){return fe.match(de)?fe.replace(de,function(ke){return I(ke)}):fe}},bZhu:function(mn,U,a){"use strict";a.d(U,"a",function(){return Z}),a.d(U,"c",function(){return ne}),a.d(U,"b",function(){return V});var ce=a("mtLc"),we=a("fWQN"),w=a("yKVA"),ve=a("879j"),se=a("kXS7"),te=a("Vhoy"),$=a("3/fG"),_=$.b("caseDescription","Match Case"),Y=$.b("wordsDescription","Match Whole Word"),E=$.b("regexDescription","Use Regular Expression"),Z=function(B){Object(w.a)(W,B);var F=Object(ve.a)(W);function W(N){return Object(we.a)(this,W),F.call(this,{icon:te.a.caseSensitive,title:_+N.appendTitle,isChecked:N.isChecked,inputActiveOptionBorder:N.inputActiveOptionBorder,inputActiveOptionForeground:N.inputActiveOptionForeground,inputActiveOptionBackground:N.inputActiveOptionBackground})}return Object(ce.a)(W)}(se.a),ne=function(B){Object(w.a)(W,B);var F=Object(ve.a)(W);function W(N){return Object(we.a)(this,W),F.call(this,{icon:te.a.wholeWord,title:Y+N.appendTitle,isChecked:N.isChecked,inputActiveOptionBorder:N.inputActiveOptionBorder,inputActiveOptionForeground:N.inputActiveOptionForeground,inputActiveOptionBackground:N.inputActiveOptionBackground})}return Object(ce.a)(W)}(se.a),V=function(B){Object(w.a)(W,B);var F=Object(ve.a)(W);function W(N){return Object(we.a)(this,W),F.call(this,{icon:te.a.regex,title:E+N.appendTitle,isChecked:N.isChecked,inputActiveOptionBorder:N.inputActiveOptionBorder,inputActiveOptionForeground:N.inputActiveOptionForeground,inputActiveOptionBackground:N.inputActiveOptionBackground})}return Object(ce.a)(W)}(se.a)},baJR:function(mn,U,a){"use strict";a.d(U,"b",function(){return Y}),a.d(U,"c",function(){return E}),a.d(U,"a",function(){return Z}),a.d(U,"d",function(){return B}),a.d(U,"e",function(){return W});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("3/fG"),se=a("N0LK"),te=a("erNZ"),$=a("dBaI"),_=function(){function pe(fe,ke,A,P){Object(we.a)(this,pe),this.endIndex=fe,this.type=ke,this.metadata=A,this.containsRTL=P,this._linePartBrand=void 0}return Object(w.a)(pe,[{key:"isWhitespace",value:function(){return!!(this.metadata&1)}},{key:"isPseudoAfter",value:function(){return!!(this.metadata&4)}}]),pe}(),Y=function(){function pe(fe,ke){Object(we.a)(this,pe),this.startOffset=fe,this.endOffset=ke}return Object(w.a)(pe,[{key:"equals",value:function(ke){return this.startOffset===ke.startOffset&&this.endOffset===ke.endOffset}}]),pe}(),E=function(){function pe(fe,ke,A,P,G,re,ae,Q,J,me,ge,L,De,Ae,Oe,Pe,Ne,Fe,Xe){Object(we.a)(this,pe),this.useMonospaceOptimizations=fe,this.canUseHalfwidthRightwardsArrow=ke,this.lineContent=A,this.continuesWithWrappedLine=P,this.isBasicASCII=G,this.containsRTL=re,this.fauxIndentLength=ae,this.lineTokens=Q,this.lineDecorations=J.sort($.a.compare),this.tabSize=me,this.startVisibleColumn=ge,this.spaceWidth=L,this.stopRenderingLineAfter=Oe,this.renderWhitespace=Pe==="all"?4:Pe==="boundary"?1:Pe==="selection"?2:Pe==="trailing"?3:0,this.renderControlCharacters=Ne,this.fontLigatures=Fe,this.selectionsOnLine=Xe&&Xe.sort(function(Ot,pt){return Ot.startOffset<pt.startOffset?-1:1});var Et=Math.abs(Ae-L),Ft=Math.abs(De-L);Et<Ft?(this.renderSpaceWidth=Ae,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=De,this.renderSpaceCharCode=183)}return Object(w.a)(pe,[{key:"sameSelection",value:function(ke){if(this.selectionsOnLine===null)return ke===null;if(ke===null||ke.length!==this.selectionsOnLine.length)return!1;for(var A=0;A<this.selectionsOnLine.length;A++)if(!this.selectionsOnLine[A].equals(ke[A]))return!1;return!0}},{key:"equals",value:function(ke){return this.useMonospaceOptimizations===ke.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===ke.canUseHalfwidthRightwardsArrow&&this.lineContent===ke.lineContent&&this.continuesWithWrappedLine===ke.continuesWithWrappedLine&&this.isBasicASCII===ke.isBasicASCII&&this.containsRTL===ke.containsRTL&&this.fauxIndentLength===ke.fauxIndentLength&&this.tabSize===ke.tabSize&&this.startVisibleColumn===ke.startVisibleColumn&&this.spaceWidth===ke.spaceWidth&&this.renderSpaceWidth===ke.renderSpaceWidth&&this.renderSpaceCharCode===ke.renderSpaceCharCode&&this.stopRenderingLineAfter===ke.stopRenderingLineAfter&&this.renderWhitespace===ke.renderWhitespace&&this.renderControlCharacters===ke.renderControlCharacters&&this.fontLigatures===ke.fontLigatures&&$.a.equalsArr(this.lineDecorations,ke.lineDecorations)&&this.lineTokens.equals(ke.lineTokens)&&this.sameSelection(ke.selectionsOnLine)}}]),pe}(),Z=Object(w.a)(function pe(fe,ke){Object(we.a)(this,pe),this.partIndex=fe,this.charIndex=ke}),ne=function(){function pe(fe,ke){Object(we.a)(this,pe),this.length=fe,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}return Object(w.a)(pe,[{key:"setColumnInfo",value:function(ke,A,P,G){var re=(A<<16|P<<0)>>>0;this._data[ke-1]=re,this._horizontalOffset[ke-1]=G}},{key:"getHorizontalOffset",value:function(ke){return this._horizontalOffset.length===0?0:this._horizontalOffset[ke-1]}},{key:"charOffsetToPartData",value:function(ke){return this.length===0?0:ke<0?this._data[0]:ke>=this.length?this._data[this.length-1]:this._data[ke]}},{key:"getDomPosition",value:function(ke){var A=this.charOffsetToPartData(ke-1),P=pe.getPartIndex(A),G=pe.getCharIndex(A);return new Z(P,G)}},{key:"getColumn",value:function(ke,A){var P=this.partDataToCharOffset(ke.partIndex,A,ke.charIndex);return P+1}},{key:"partDataToCharOffset",value:function(ke,A,P){if(this.length===0)return 0;for(var G=(ke<<16|P<<0)>>>0,re=0,ae=this.length-1;re+1<ae;){var Q=re+ae>>>1,J=this._data[Q];if(J===G)return Q;J>G?ae=Q:re=Q}if(re===ae)return re;var me=this._data[re],ge=this._data[ae];if(me===G)return re;if(ge===G)return ae;var L=pe.getPartIndex(me),De=pe.getCharIndex(me),Ae=pe.getPartIndex(ge),Oe;L!==Ae?Oe=A:Oe=pe.getCharIndex(ge);var Pe=P-De,Ne=Oe-P;return Pe<=Ne?re:ae}}],[{key:"getPartIndex",value:function(ke){return(ke&4294901760)>>>16}},{key:"getCharIndex",value:function(ke){return(ke&65535)>>>0}}]),pe}(),V=Object(w.a)(function pe(fe,ke,A){Object(we.a)(this,pe),this._renderLineOutputBrand=void 0,this.characterMapping=fe,this.containsRTL=ke,this.containsForeignElements=A});function B(pe,fe){if(pe.lineContent.length===0){if(pe.lineDecorations.length>0){fe.appendString("<span>");var ke=0,A=0,P=0,G=Object(ce.a)(pe.lineDecorations),re;try{for(G.s();!(re=G.n()).done;){var ae=re.value;(ae.type===1||ae.type===2)&&(fe.appendString('<span class="'),fe.appendString(ae.className),fe.appendString('"></span>'),ae.type===1&&(P|=1,ke++),ae.type===2&&(P|=2,A++))}}catch(J){G.e(J)}finally{G.f()}fe.appendString("</span>");var Q=new ne(1,ke+A);return Q.setColumnInfo(1,ke,0,0),new V(Q,!1,P)}return fe.appendString("<span><span></span></span>"),new V(new ne(0,0),!1,0)}return z(H(pe),fe)}var F=Object(w.a)(function pe(fe,ke,A,P){Object(we.a)(this,pe),this.characterMapping=fe,this.html=ke,this.containsRTL=A,this.containsForeignElements=P});function W(pe){var fe=new te.a(1e4),ke=B(pe,fe);return new F(ke.characterMapping,fe.build(),ke.containsRTL,ke.containsForeignElements)}var N=Object(w.a)(function pe(fe,ke,A,P,G,re,ae,Q,J,me,ge,L,De,Ae,Oe,Pe){Object(we.a)(this,pe),this.fontIsMonospace=fe,this.canUseHalfwidthRightwardsArrow=ke,this.lineContent=A,this.len=P,this.isOverflowing=G,this.overflowingCharCount=re,this.parts=ae,this.containsForeignElements=Q,this.fauxIndentLength=J,this.tabSize=me,this.startVisibleColumn=ge,this.containsRTL=L,this.spaceWidth=De,this.renderSpaceCharCode=Ae,this.renderWhitespace=Oe,this.renderControlCharacters=Pe});function H(pe){var fe=pe.lineContent,ke,A,P;pe.stopRenderingLineAfter!==-1&&pe.stopRenderingLineAfter<fe.length?(ke=!0,A=fe.length-pe.stopRenderingLineAfter,P=pe.stopRenderingLineAfter):(ke=!1,A=0,P=fe.length);var G=d(fe,pe.containsRTL,pe.lineTokens,pe.fauxIndentLength,P);pe.renderControlCharacters&&!pe.isBasicASCII&&(G=x(fe,G)),(pe.renderWhitespace===4||pe.renderWhitespace===1||pe.renderWhitespace===2&&!!pe.selectionsOnLine||pe.renderWhitespace===3&&!pe.continuesWithWrappedLine)&&(G=O(pe,fe,P,G));var re=0;if(pe.lineDecorations.length>0){for(var ae=0,Q=pe.lineDecorations.length;ae<Q;ae++){var J=pe.lineDecorations[ae];J.type===3||J.type===1?re|=1:J.type===2&&(re|=2)}G=T(fe,P,G,pe.lineDecorations)}return pe.containsRTL||(G=D(fe,G,!pe.isBasicASCII||pe.fontLigatures)),new N(pe.useMonospaceOptimizations,pe.canUseHalfwidthRightwardsArrow,fe,P,ke,A,G,re,pe.fauxIndentLength,pe.tabSize,pe.startVisibleColumn,pe.containsRTL,pe.spaceWidth,pe.renderSpaceCharCode,pe.renderWhitespace,pe.renderControlCharacters)}function d(pe,fe,ke,A,P){var G=[],re=0;A>0&&(G[re++]=new _(A,"",0,!1));for(var ae=A,Q=0,J=ke.getCount();Q<J;Q++){var me=ke.getEndOffset(Q);if(!(me<=A)){var ge=ke.getClassName(Q);if(me>=P){var L=fe?se.m(pe.substring(ae,P)):!1;G[re++]=new _(P,ge,0,L);break}var De=fe?se.m(pe.substring(ae,me)):!1;G[re++]=new _(me,ge,0,De),ae=me}}return G}function D(pe,fe,ke){var A=0,P=[],G=0;if(ke)for(var re=0,ae=fe.length;re<ae;re++){var Q=fe[re],J=Q.endIndex;if(A+50<J){for(var me=Q.type,ge=Q.metadata,L=Q.containsRTL,De=-1,Ae=A,Oe=A;Oe<J;Oe++)pe.charCodeAt(Oe)===32&&(De=Oe),De!==-1&&Oe-Ae>=50&&(P[G++]=new _(De+1,me,ge,L),Ae=De+1,De=-1);Ae!==J&&(P[G++]=new _(J,me,ge,L))}else P[G++]=Q;A=J}else for(var Pe=0,Ne=fe.length;Pe<Ne;Pe++){var Fe=fe[Pe],Xe=Fe.endIndex,Et=Xe-A;if(Et>50){for(var Ft=Fe.type,Ot=Fe.metadata,pt=Fe.containsRTL,Lt=Math.ceil(Et/50),et=1;et<Lt;et++){var Vt=A+et*50;P[G++]=new _(Vt,Ft,Ot,pt)}P[G++]=new _(Xe,Ft,Ot,pt)}else P[G++]=Fe;A=Xe}return P}function C(pe){return pe<32?pe!==9:pe===127||pe>=8234&&pe<=8238||pe>=8294&&pe<=8297||pe>=8206&&pe<=8207||pe===1564}function x(pe,fe){var ke=[],A=new _(0,"",0,!1),P=0,G=Object(ce.a)(fe),re;try{for(G.s();!(re=G.n()).done;){for(var ae=re.value,Q=ae.endIndex;P<Q;P++){var J=pe.charCodeAt(P);C(J)&&(P>A.endIndex&&(A=new _(P,ae.type,ae.metadata,ae.containsRTL),ke.push(A)),A=new _(P+1,"mtkcontrol",ae.metadata,!1),ke.push(A))}P>A.endIndex&&(A=new _(Q,ae.type,ae.metadata,ae.containsRTL),ke.push(A))}}catch(me){G.e(me)}finally{G.f()}return ke}function O(pe,fe,ke,A){var P=pe.continuesWithWrappedLine,G=pe.fauxIndentLength,re=pe.tabSize,ae=pe.startVisibleColumn,Q=pe.useMonospaceOptimizations,J=pe.selectionsOnLine,me=pe.renderWhitespace===1,ge=pe.renderWhitespace===3,L=pe.renderSpaceWidth!==pe.spaceWidth,De=[],Ae=0,Oe=0,Pe=A[Oe].type,Ne=A[Oe].containsRTL,Fe=A[Oe].endIndex,Xe=A.length,Et=!1,Ft=se.u(fe),Ot;Ft===-1?(Et=!0,Ft=ke,Ot=ke):Ot=se.J(fe);for(var pt=!1,Lt=0,et=J&&J[Lt],Vt=ae%re,Re=G;Re<ke;Re++){var Ce=fe.charCodeAt(Re);et&&Re>=et.endOffset&&(Lt++,et=J&&J[Lt]);var ye=void 0;if(Re<Ft||Re>Ot)ye=!0;else if(Ce===9)ye=!0;else if(Ce===32)if(me)if(pt)ye=!0;else{var Te=Re+1<ke?fe.charCodeAt(Re+1):0;ye=Te===32||Te===9}else ye=!0;else ye=!1;if(ye&&J&&(ye=!!et&&et.startOffset<=Re&&et.endOffset>Re),ye&&ge&&(ye=Et||Re>Ot),ye&&Ne&&Re>=Ft&&Re<=Ot&&(ye=!1),pt){if(!ye||!Q&&Vt>=re){if(L)for(var Qe=Ae>0?De[Ae-1].endIndex:G,$e=Qe+1;$e<=Re;$e++)De[Ae++]=new _($e,"mtkw",1,!1);else De[Ae++]=new _(Re,"mtkw",1,!1);Vt=Vt%re}}else(Re===Fe||ye&&Re>G)&&(De[Ae++]=new _(Re,Pe,0,Ne),Vt=Vt%re);for(Ce===9?Vt=re:se.E(Ce)?Vt+=2:Vt++,pt=ye;Re===Fe&&(Oe++,Oe<Xe);)Pe=A[Oe].type,Ne=A[Oe].containsRTL,Fe=A[Oe].endIndex}var ze=!1;if(pt)if(P&&me){var ot=ke>0?fe.charCodeAt(ke-1):0,He=ke>1?fe.charCodeAt(ke-2):0,Ge=ot===32&&He!==32&&He!==9;Ge||(ze=!0)}else ze=!0;if(ze)if(L)for(var Je=Ae>0?De[Ae-1].endIndex:G,ft=Je+1;ft<=ke;ft++)De[Ae++]=new _(ft,"mtkw",1,!1);else De[Ae++]=new _(ke,"mtkw",1,!1);else De[Ae++]=new _(ke,Pe,0,Ne);return De}function T(pe,fe,ke,A){A.sort($.a.compare);for(var P=$.b.normalize(pe,A),G=P.length,re=0,ae=[],Q=0,J=0,me=0,ge=ke.length;me<ge;me++){for(var L=ke[me],De=L.endIndex,Ae=L.type,Oe=L.metadata,Pe=L.containsRTL;re<G&&P[re].startOffset<De;){var Ne=P[re];if(Ne.startOffset>J&&(J=Ne.startOffset,ae[Q++]=new _(J,Ae,Oe,Pe)),Ne.endOffset+1<=De)J=Ne.endOffset+1,ae[Q++]=new _(J,Ae+" "+Ne.className,Oe|Ne.metadata,Pe),re++;else{J=De,ae[Q++]=new _(J,Ae+" "+Ne.className,Oe|Ne.metadata,Pe);break}}De>J&&(J=De,ae[Q++]=new _(J,Ae,Oe,Pe))}var Fe=ke[ke.length-1].endIndex;if(re<G&&P[re].startOffset===Fe)for(;re<G&&P[re].startOffset===Fe;){var Xe=P[re];ae[Q++]=new _(J,Xe.className,Xe.metadata,!1),re++}return ae}function z(pe,fe){var ke=pe.fontIsMonospace,A=pe.canUseHalfwidthRightwardsArrow,P=pe.containsForeignElements,G=pe.lineContent,re=pe.len,ae=pe.isOverflowing,Q=pe.overflowingCharCount,J=pe.parts,me=pe.fauxIndentLength,ge=pe.tabSize,L=pe.startVisibleColumn,De=pe.containsRTL,Ae=pe.spaceWidth,Oe=pe.renderSpaceCharCode,Pe=pe.renderWhitespace,Ne=pe.renderControlCharacters,Fe=new ne(re+1,J.length),Xe=!1,Et=0,Ft=L,Ot=0,pt=0,Lt=0;De?fe.appendString('<span dir="ltr">'):fe.appendString("<span>");for(var et=0,Vt=J.length;et<Vt;et++){var Re=J[et],Ce=Re.endIndex,ye=Re.type,Te=Re.containsRTL,Qe=Pe!==0&&Re.isWhitespace(),$e=Qe&&!ke&&(ye==="mtkw"||!P),ze=Et===Ce&&Re.isPseudoAfter();if(Ot=0,fe.appendString("<span "),Te&&fe.appendString('style="unicode-bidi:isolate" '),fe.appendString('class="'),fe.appendString($e?"mtkz":ye),fe.appendASCIICharCode(34),Qe){for(var ot=0,He=Et,Ge=Ft;He<Ce;He++){var Je=G.charCodeAt(He),ft=(Je===9?ge-Ge%ge:1)|0;ot+=ft,He>=me&&(Ge+=ft)}for($e&&(fe.appendString(' style="width:'),fe.appendString(String(Ae*ot)),fe.appendString('px"')),fe.appendASCIICharCode(62);Et<Ce;Et++){Fe.setColumnInfo(Et+1,et-Lt,Ot,pt),Lt=0;var qt=G.charCodeAt(Et),bt=void 0,Bt=void 0;if(qt===9){bt=ge-Ft%ge|0,Bt=bt,!A||Bt>1?fe.appendCharCode(8594):fe.appendCharCode(65515);for(var rn=2;rn<=Bt;rn++)fe.appendCharCode(160)}else bt=2,Bt=1,fe.appendCharCode(Oe),fe.appendCharCode(8204);Ot+=bt,pt+=Bt,Et>=me&&(Ft+=Bt)}}else for(fe.appendASCIICharCode(62);Et<Ce;Et++){Fe.setColumnInfo(Et+1,et-Lt,Ot,pt),Lt=0;var an=G.charCodeAt(Et),In=1,Dt=1;switch(an){case 9:In=ge-Ft%ge,Dt=In;for(var jn=1;jn<=In;jn++)fe.appendCharCode(160);break;case 32:fe.appendCharCode(160);break;case 60:fe.appendString("&lt;");break;case 62:fe.appendString("&gt;");break;case 38:fe.appendString("&amp;");break;case 0:Ne?fe.appendCharCode(9216):fe.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:fe.appendCharCode(65533);break;default:se.E(an)&&Dt++,Ne&&an<32?fe.appendCharCode(9216+an):Ne&&an===127?fe.appendCharCode(9249):Ne&&C(an)?(fe.appendString("[U+"),fe.appendString(I(an)),fe.appendString("]"),In=8,Dt=In):fe.appendCharCode(an)}Ot+=In,pt+=Dt,Et>=me&&(Ft+=Dt)}ze?Lt++:Lt=0,Et>=re&&!Xe&&Re.isPseudoAfter()&&(Xe=!0,Fe.setColumnInfo(Et+1,et,Ot,pt)),fe.appendString("</span>")}return Xe||Fe.setColumnInfo(re+1,J.length-1,Ot,pt),ae&&(fe.appendString('<span class="mtkoverflow">'),fe.appendString(ve.b("showMore","Show more ({0})",de(Q))),fe.appendString("</span>")),fe.appendString("</span>"),new V(Fe,De,P)}function I(pe){return pe.toString(16).toUpperCase().padStart(4,"0")}function de(pe){return pe<1024?ve.b("overflow.chars","{0} chars",pe):pe<1024*1024?"".concat((pe/1024).toFixed(1)," KB"):"".concat((pe/1024/1024).toFixed(1)," MB")}},bbsP:function(mn,U,a){"use strict";var ce=a("EFp3"),we=a.n(ce),w=a("CWI+"),ve=a.n(w)},bexQ:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("keybindingService")},bpiW:function(mn,U,a){},bvvZ:function(mn,U,a){"use strict";a.d(U,"a",function(){return se});var ce=a("fWQN"),we=a("mtLc"),w=a("MI8n"),ve=function(){function te(){Object(ce.a)(this,te),this._onDidChange=new w.b,this.onDidChange=this._onDidChange.event,this._enabled=!0}return Object(we.a)(te,[{key:"enabled",get:function(){return this._enabled}},{key:"enable",value:function(){this._enabled=!0,this._onDidChange.fire()}},{key:"disable",value:function(){this._enabled=!1,this._onDidChange.fire()}}]),te}(),se=new ve},bx4M:function(mn,U,a){"use strict";var ce=a("rePB"),we=a("wx14"),w=a("TSYQ"),ve=a.n(w),se=a("bT9E"),te=a("q1tI"),$=a("H84U"),_=a("3Nzz"),Y=a("/ezw"),E=a("ZTPi"),Z=function(O,T){var z={};for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&T.indexOf(I)<0&&(z[I]=O[I]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var de=0,I=Object.getOwnPropertySymbols(O);de<I.length;de++)T.indexOf(I[de])<0&&Object.prototype.propertyIsEnumerable.call(O,I[de])&&(z[I[de]]=O[I[de]]);return z},ne=function(T){var z=T.prefixCls,I=T.className,de=T.hoverable,pe=de===void 0?!0:de,fe=Z(T,["prefixCls","className","hoverable"]);return te.createElement($.a,null,function(ke){var A=ke.getPrefixCls,P=A("card",z),G=ve()("".concat(P,"-grid"),I,Object(ce.a)({},"".concat(P,"-grid-hoverable"),pe));return te.createElement("div",Object(we.a)({},fe,{className:G}))})},V=ne,B=function(O,T){var z={};for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&T.indexOf(I)<0&&(z[I]=O[I]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var de=0,I=Object.getOwnPropertySymbols(O);de<I.length;de++)T.indexOf(I[de])<0&&Object.prototype.propertyIsEnumerable.call(O,I[de])&&(z[I[de]]=O[I[de]]);return z};function F(O){var T=O.map(function(z,I){return te.createElement("li",{style:{width:"".concat(100/O.length,"%")},key:"action-".concat(I)},te.createElement("span",null,z))});return T}var W=te.forwardRef(function(O,T){var z,I,de=te.useContext($.b),pe=de.getPrefixCls,fe=de.direction,ke=te.useContext(_.b),A=function(rn){var an;(an=O.onTabChange)===null||an===void 0||an.call(O,rn)},P=function(){var rn;return te.Children.forEach(O.children,function(an){an&&an.type&&an.type===V&&(rn=!0)}),rn},G=O.prefixCls,re=O.className,ae=O.extra,Q=O.headStyle,J=Q===void 0?{}:Q,me=O.bodyStyle,ge=me===void 0?{}:me,L=O.title,De=O.loading,Ae=O.bordered,Oe=Ae===void 0?!0:Ae,Pe=O.size,Ne=O.type,Fe=O.cover,Xe=O.actions,Et=O.tabList,Ft=O.children,Ot=O.activeTabKey,pt=O.defaultActiveTabKey,Lt=O.tabBarExtraContent,et=O.hoverable,Vt=O.tabProps,Re=Vt===void 0?{}:Vt,Ce=B(O,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),ye=pe("card",G),Te=te.createElement(Y.a,{loading:!0,active:!0,paragraph:{rows:4},title:!1},Ft),Qe=Ot!==void 0,$e=Object(we.a)(Object(we.a)({},Re),(z={},Object(ce.a)(z,Qe?"activeKey":"defaultActiveKey",Qe?Ot:pt),Object(ce.a)(z,"tabBarExtraContent",Lt),z)),ze,ot=Et&&Et.length?te.createElement(E.a,Object(we.a)({size:"large"},$e,{className:"".concat(ye,"-head-tabs"),onChange:A,items:Et.map(function(Bt){var rn;return{label:Bt.tab,key:Bt.key,disabled:(rn=Bt.disabled)!==null&&rn!==void 0?rn:!1}})})):null;(L||ae||ot)&&(ze=te.createElement("div",{className:"".concat(ye,"-head"),style:J},te.createElement("div",{className:"".concat(ye,"-head-wrapper")},L&&te.createElement("div",{className:"".concat(ye,"-head-title")},L),ae&&te.createElement("div",{className:"".concat(ye,"-extra")},ae)),ot));var He=Fe?te.createElement("div",{className:"".concat(ye,"-cover")},Fe):null,Ge=te.createElement("div",{className:"".concat(ye,"-body"),style:ge},De?Te:Ft),Je=Xe&&Xe.length?te.createElement("ul",{className:"".concat(ye,"-actions")},F(Xe)):null,ft=Object(se.a)(Ce,["onTabChange"]),qt=Pe||ke,bt=ve()(ye,(I={},Object(ce.a)(I,"".concat(ye,"-loading"),De),Object(ce.a)(I,"".concat(ye,"-bordered"),Oe),Object(ce.a)(I,"".concat(ye,"-hoverable"),et),Object(ce.a)(I,"".concat(ye,"-contain-grid"),P()),Object(ce.a)(I,"".concat(ye,"-contain-tabs"),Et&&Et.length),Object(ce.a)(I,"".concat(ye,"-").concat(qt),qt),Object(ce.a)(I,"".concat(ye,"-type-").concat(Ne),!!Ne),Object(ce.a)(I,"".concat(ye,"-rtl"),fe==="rtl"),I),re);return te.createElement("div",Object(we.a)({ref:T},ft,{className:bt}),ze,He,Ge,Je)}),N=W,H=function(O,T){var z={};for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&T.indexOf(I)<0&&(z[I]=O[I]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var de=0,I=Object.getOwnPropertySymbols(O);de<I.length;de++)T.indexOf(I[de])<0&&Object.prototype.propertyIsEnumerable.call(O,I[de])&&(z[I[de]]=O[I[de]]);return z},d=function(T){return te.createElement($.a,null,function(z){var I=z.getPrefixCls,de=T.prefixCls,pe=T.className,fe=T.avatar,ke=T.title,A=T.description,P=H(T,["prefixCls","className","avatar","title","description"]),G=I("card",de),re=ve()("".concat(G,"-meta"),pe),ae=fe?te.createElement("div",{className:"".concat(G,"-meta-avatar")},fe):null,Q=ke?te.createElement("div",{className:"".concat(G,"-meta-title")},ke):null,J=A?te.createElement("div",{className:"".concat(G,"-meta-description")},A):null,me=Q||J?te.createElement("div",{className:"".concat(G,"-meta-detail")},Q,J):null;return te.createElement("div",Object(we.a)({},P,{className:re}),ae,me)})},D=d,C=N;C.Grid=V,C.Meta=D;var x=U.a=C},bzmS:function(mn,U,a){"use strict";a.d(U,"a",function(){return V});var ce=a("rAM+"),we=a("tJVT"),w=a("oBTY"),ve=a("fWQN"),se=a("mtLc"),te=a("N0LK"),$=a("5IQS"),_=a("pvvD"),Y=a("lwGy"),E=a("t4hb"),Z=function(){function B(F){Object(ve.a)(this,B),this.map=F,this.hasRegExp=!1,this._regExpGlobal=null}return Object(se.a)(B,[{key:"getRegExpStr",value:function(){if(this.isEmpty)return null;var W=Object(w.a)(this.map.keys());return W.sort(),W.reverse(),W.map(function(N){return ne(N)}).join("|")}},{key:"regExpGlobal",get:function(){if(!this.hasRegExp){var W=this.getRegExpStr();this._regExpGlobal=W?new RegExp(W,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}},{key:"getToken",value:function(W){return this.map.get(W.toLowerCase())}},{key:"findClosingTokenText",value:function(W){var N=Object(ce.a)(this.map),H;try{for(N.s();!(H=N.n()).done;){var d=H.value,D=Object(we.a)(d,2),C=D[0],x=D[1];if(x.kind===2&&x.bracketIds.intersects(W))return C}}catch(O){N.e(O)}finally{N.f()}}},{key:"isEmpty",get:function(){return this.map.size===0}}],[{key:"createFromLanguage",value:function(W,N){function H(ae){return N.getKey("".concat(ae.languageId,":::").concat(ae.bracketText))}var d=new Map,D=Object(ce.a)(W.bracketsNew.openingBrackets),C;try{for(D.s();!(C=D.n()).done;){var x=C.value,O=Object(_.q)(0,x.bracketText.length),T=H(x),z=Y.b.getEmpty().add(T,Y.c);d.set(x.bracketText,new E.c(O,1,T,z,$.a.create(O,x,z)))}}catch(ae){D.e(ae)}finally{D.f()}var I=Object(ce.a)(W.bracketsNew.closingBrackets),de;try{for(I.s();!(de=I.n()).done;){var pe=de.value,fe=Object(_.q)(0,pe.bracketText.length),ke=Y.b.getEmpty(),A=pe.getOpeningBrackets(),P=Object(ce.a)(A),G;try{for(P.s();!(G=P.n()).done;){var re=G.value;ke=ke.add(H(re),Y.c)}}catch(ae){P.e(ae)}finally{P.f()}d.set(pe.bracketText,new E.c(fe,2,H(A[0]),ke,$.a.create(fe,pe,ke)))}}catch(ae){I.e(ae)}finally{I.f()}return new B(d)}}]),B}();function ne(B){var F=Object(te.t)(B);return/^[\w ]+/.test(B)&&(F="\\b".concat(F)),/[\w ]+$/.test(B)&&(F="".concat(F,"\\b")),F}var V=function(){function B(F,W){Object(ve.a)(this,B),this.denseKeyProvider=F,this.getLanguageConfiguration=W,this.languageIdToBracketTokens=new Map}return Object(se.a)(B,[{key:"didLanguageChange",value:function(W){return this.languageIdToBracketTokens.has(W)}},{key:"getSingleLanguageBracketTokens",value:function(W){var N=this.languageIdToBracketTokens.get(W);return N||(N=Z.createFromLanguage(this.getLanguageConfiguration(W),this.denseKeyProvider),this.languageIdToBracketTokens.set(W,N)),N}}]),B}()},c0Ay:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("ILanguageFeaturesService")},c9Qy:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("/cxE");function we(w,ve){var se,te=globalThis.MonacoEnvironment;if(te==null?void 0:te.createTrustedTypesPolicy)try{return te.createTrustedTypesPolicy(w,ve)}catch($){Object(ce.h)($);return}try{return(se=window.trustedTypes)===null||se===void 0?void 0:se.createPolicy(w,ve)}catch($){Object(ce.h)($);return}}},cGHE:function(mn,U,a){"use strict";a.d(U,"a",function(){return w});var ce=a("fWQN"),we=a("mtLc"),w=function(){function ve(se,te){Object(ce.a)(this,ve),this.lineNumber=se,this.column=te}return Object(we.a)(ve,[{key:"with",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.lineNumber,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.column;return te===this.lineNumber&&$===this.column?this:new ve(te,$)}},{key:"delta",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.with(this.lineNumber+te,this.column+$)}},{key:"equals",value:function(te){return ve.equals(this,te)}},{key:"isBefore",value:function(te){return ve.isBefore(this,te)}},{key:"isBeforeOrEqual",value:function(te){return ve.isBeforeOrEqual(this,te)}},{key:"clone",value:function(){return new ve(this.lineNumber,this.column)}},{key:"toString",value:function(){return"("+this.lineNumber+","+this.column+")"}}],[{key:"equals",value:function(te,$){return!te&&!$?!0:!!te&&!!$&&te.lineNumber===$.lineNumber&&te.column===$.column}},{key:"isBefore",value:function(te,$){return te.lineNumber<$.lineNumber?!0:$.lineNumber<te.lineNumber?!1:te.column<$.column}},{key:"isBeforeOrEqual",value:function(te,$){return te.lineNumber<$.lineNumber?!0:$.lineNumber<te.lineNumber?!1:te.column<=$.column}},{key:"compare",value:function(te,$){var _=te.lineNumber|0,Y=$.lineNumber|0;if(_===Y){var E=te.column|0,Z=$.column|0;return E-Z}return _-Y}},{key:"lift",value:function(te){return new ve(te.lineNumber,te.column)}},{key:"isIPosition",value:function(te){return te&&typeof te.lineNumber=="number"&&typeof te.column=="number"}}]),ve}()},cMOf:function(mn,U,a){"use strict";a.d(U,"a",function(){return C}),a.d(U,"b",function(){return ke});var ce=a("rAM+"),we=a("tS8v"),w=a("w4Tj"),ve=a("oZsa"),se=a("yKVA"),te=a("879j"),$=a("fWQN"),_=a("mtLc"),Y=a("EffR"),E=a("4y0V"),Z=a("pg8w"),ne=a("X+cX"),V=a("ZCR3"),B=a("MI8n"),F=a("pmY6"),W=a("MNsG"),N=a("undH"),H=a.n(N),d=function(A,P,G,re){var ae=arguments.length,Q=ae<3?P:re===null?re=Object.getOwnPropertyDescriptor(P,G):re,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(A,P,G,re);else for(var me=A.length-1;me>=0;me--)(J=A[me])&&(Q=(ae<3?J(Q):ae>3?J(P,G,Q):J(P,G))||Q);return ae>3&&Q&&Object.defineProperty(P,G,Q),Q},D=!1,C;(function(A){A.North="north",A.South="south",A.East="east",A.West="west"})(C||(C={}));var x=4,O=new B.b,T=300,z=new B.b,I=function(){function A(){Object($.a)(this,A),this.disposables=new F.c}return Object(_.a)(A,[{key:"onPointerMove",get:function(){return this.disposables.add(new E.a(window,"mousemove")).event}},{key:"onPointerUp",get:function(){return this.disposables.add(new E.a(window,"mouseup")).event}},{key:"dispose",value:function(){this.disposables.dispose()}}]),A}();d([V.a],I.prototype,"onPointerMove",null),d([V.a],I.prototype,"onPointerUp",null);var de=function(){function A(P){Object($.a)(this,A),this.el=P,this.disposables=new F.c}return Object(_.a)(A,[{key:"onPointerMove",get:function(){return this.disposables.add(new E.a(this.el,Z.a.Change)).event}},{key:"onPointerUp",get:function(){return this.disposables.add(new E.a(this.el,Z.a.End)).event}},{key:"dispose",value:function(){this.disposables.dispose()}}]),A}();d([V.a],de.prototype,"onPointerMove",null),d([V.a],de.prototype,"onPointerUp",null);var pe=function(){function A(P){Object($.a)(this,A),this.factory=P}return Object(_.a)(A,[{key:"onPointerMove",get:function(){return this.factory.onPointerMove}},{key:"onPointerUp",get:function(){return this.factory.onPointerUp}},{key:"dispose",value:function(){}}]),A}();d([V.a],pe.prototype,"onPointerMove",null),d([V.a],pe.prototype,"onPointerUp",null);var fe="pointer-events-disabled",ke=function(A){Object(se.a)(G,A);var P=Object(te.a)(G);function G(re,ae,Q){var J;Object($.a)(this,G),J=P.call(this),J.hoverDelay=T,J.hoverDelayer=J._register(new ne.c(J.hoverDelay)),J._state=3,J.onDidEnablementChange=J._register(new B.b),J._onDidStart=J._register(new B.b),J._onDidChange=J._register(new B.b),J._onDidReset=J._register(new B.b),J._onDidEnd=J._register(new B.b),J.orthogonalStartSashDisposables=J._register(new F.c),J.orthogonalStartDragHandleDisposables=J._register(new F.c),J.orthogonalEndSashDisposables=J._register(new F.c),J.orthogonalEndDragHandleDisposables=J._register(new F.c),J.onDidStart=J._onDidStart.event,J.onDidChange=J._onDidChange.event,J.onDidReset=J._onDidReset.event,J.onDidEnd=J._onDidEnd.event,J.linkedSash=void 0,J.el=Object(Y.append)(re,Object(Y.$)(".monaco-sash")),Q.orthogonalEdge&&J.el.classList.add("orthogonal-edge-".concat(Q.orthogonalEdge)),W.i&&J.el.classList.add("mac");var me=J._register(new E.a(J.el,"mousedown")).event;J._register(me(function(Ne){return J.onPointerStart(Ne,new I)},Object(we.a)(J)));var ge=J._register(new E.a(J.el,"dblclick")).event;J._register(ge(J.onPointerDoublePress,Object(we.a)(J)));var L=J._register(new E.a(J.el,"mouseenter")).event;J._register(L(function(){return G.onMouseEnter(Object(we.a)(J))}));var De=J._register(new E.a(J.el,"mouseleave")).event;J._register(De(function(){return G.onMouseLeave(Object(we.a)(J))})),J._register(Z.b.addTarget(J.el));var Ae=J._register(new E.a(J.el,Z.a.Start)).event;J._register(Ae(function(Ne){return J.onPointerStart(Ne,new de(J.el))},Object(we.a)(J)));var Oe=J._register(new E.a(J.el,Z.a.Tap)).event,Pe=void 0;return J._register(Oe(function(Ne){if(Pe){clearTimeout(Pe),Pe=void 0,J.onPointerDoublePress(Ne);return}clearTimeout(Pe),Pe=setTimeout(function(){return Pe=void 0},250)},Object(we.a)(J))),typeof Q.size=="number"?(J.size=Q.size,Q.orientation===0?J.el.style.width="".concat(J.size,"px"):J.el.style.height="".concat(J.size,"px")):(J.size=x,J._register(O.event(function(Ne){J.size=Ne,J.layout()}))),J._register(z.event(function(Ne){return J.hoverDelay=Ne})),J.layoutProvider=ae,J.orthogonalStartSash=Q.orthogonalStartSash,J.orthogonalEndSash=Q.orthogonalEndSash,J.orientation=Q.orientation||0,J.orientation===1?(J.el.classList.add("horizontal"),J.el.classList.remove("vertical")):(J.el.classList.remove("horizontal"),J.el.classList.add("vertical")),J.el.classList.toggle("debug",D),J.layout(),J}return Object(_.a)(G,[{key:"state",get:function(){return this._state},set:function(ae){this._state!==ae&&(this.el.classList.toggle("disabled",ae===0),this.el.classList.toggle("minimum",ae===1),this.el.classList.toggle("maximum",ae===2),this._state=ae,this.onDidEnablementChange.fire(ae))}},{key:"orthogonalStartSash",get:function(){return this._orthogonalStartSash},set:function(ae){var Q=this;if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),ae){var J=function(ge){Q.orthogonalStartDragHandleDisposables.clear(),ge!==0&&(Q._orthogonalStartDragHandle=Object(Y.append)(Q.el,Object(Y.$)(".orthogonal-drag-handle.start")),Q.orthogonalStartDragHandleDisposables.add(Object(F.l)(function(){return Q._orthogonalStartDragHandle.remove()})),Q.orthogonalStartDragHandleDisposables.add(new E.a(Q._orthogonalStartDragHandle,"mouseenter")).event(function(){return G.onMouseEnter(ae)},void 0,Q.orthogonalStartDragHandleDisposables),Q.orthogonalStartDragHandleDisposables.add(new E.a(Q._orthogonalStartDragHandle,"mouseleave")).event(function(){return G.onMouseLeave(ae)},void 0,Q.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(ae.onDidEnablementChange.event(J,this)),J(ae.state)}this._orthogonalStartSash=ae}},{key:"orthogonalEndSash",get:function(){return this._orthogonalEndSash},set:function(ae){var Q=this;if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),ae){var J=function(ge){Q.orthogonalEndDragHandleDisposables.clear(),ge!==0&&(Q._orthogonalEndDragHandle=Object(Y.append)(Q.el,Object(Y.$)(".orthogonal-drag-handle.end")),Q.orthogonalEndDragHandleDisposables.add(Object(F.l)(function(){return Q._orthogonalEndDragHandle.remove()})),Q.orthogonalEndDragHandleDisposables.add(new E.a(Q._orthogonalEndDragHandle,"mouseenter")).event(function(){return G.onMouseEnter(ae)},void 0,Q.orthogonalEndDragHandleDisposables),Q.orthogonalEndDragHandleDisposables.add(new E.a(Q._orthogonalEndDragHandle,"mouseleave")).event(function(){return G.onMouseLeave(ae)},void 0,Q.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(ae.onDidEnablementChange.event(J,this)),J(ae.state)}this._orthogonalEndSash=ae}},{key:"onPointerStart",value:function(ae,Q){var J=this;Y.EventHelper.stop(ae);var me=!1;if(!ae.__orthogonalSashEvent){var ge=this.getOrthogonalSash(ae);ge&&(me=!0,ae.__orthogonalSashEvent=!0,ge.onPointerStart(ae,new pe(Q)))}if(this.linkedSash&&!ae.__linkedSashEvent&&(ae.__linkedSashEvent=!0,this.linkedSash.onPointerStart(ae,new pe(Q))),!!this.state){var L=document.getElementsByTagName("iframe"),De=Object(ce.a)(L),Ae;try{for(De.s();!(Ae=De.n()).done;){var Oe=Ae.value;Oe.classList.add(fe)}}catch(et){De.e(et)}finally{De.f()}var Pe=ae.pageX,Ne=ae.pageY,Fe=ae.altKey,Xe={startX:Pe,currentX:Pe,startY:Ne,currentY:Ne,altKey:Fe};this.el.classList.add("active"),this._onDidStart.fire(Xe);var Et=Object(Y.createStyleSheet)(this.el),Ft=function(){var Vt="";me?Vt="all-scroll":J.orientation===1?J.state===1?Vt="s-resize":J.state===2?Vt="n-resize":Vt=W.i?"row-resize":"ns-resize":J.state===1?Vt="e-resize":J.state===2?Vt="w-resize":Vt=W.i?"col-resize":"ew-resize",Et.textContent="* { cursor: ".concat(Vt," !important; }")},Ot=new F.c;Ft(),me||this.onDidEnablementChange.event(Ft,null,Ot);var pt=function(Vt){Y.EventHelper.stop(Vt,!1);var Re={startX:Pe,currentX:Vt.pageX,startY:Ne,currentY:Vt.pageY,altKey:Fe};J._onDidChange.fire(Re)},Lt=function(Vt){Y.EventHelper.stop(Vt,!1),J.el.removeChild(Et),J.el.classList.remove("active"),J._onDidEnd.fire(),Ot.dispose();var Re=Object(ce.a)(L),Ce;try{for(Re.s();!(Ce=Re.n()).done;){var ye=Ce.value;ye.classList.remove(fe)}}catch(Te){Re.e(Te)}finally{Re.f()}};Q.onPointerMove(pt,null,Ot),Q.onPointerUp(Lt,null,Ot),Ot.add(Q)}}},{key:"onPointerDoublePress",value:function(ae){var Q=this.getOrthogonalSash(ae);Q&&Q._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}},{key:"clearSashHoverState",value:function(){G.onMouseLeave(this)}},{key:"layout",value:function(){if(this.orientation===0){var ae=this.layoutProvider;this.el.style.left=ae.getVerticalSashLeft(this)-this.size/2+"px",ae.getVerticalSashTop&&(this.el.style.top=ae.getVerticalSashTop(this)+"px"),ae.getVerticalSashHeight&&(this.el.style.height=ae.getVerticalSashHeight(this)+"px")}else{var Q=this.layoutProvider;this.el.style.top=Q.getHorizontalSashTop(this)-this.size/2+"px",Q.getHorizontalSashLeft&&(this.el.style.left=Q.getHorizontalSashLeft(this)+"px"),Q.getHorizontalSashWidth&&(this.el.style.width=Q.getHorizontalSashWidth(this)+"px")}}},{key:"getOrthogonalSash",value:function(ae){var Q,J=(Q=ae.initialTarget)!==null&&Q!==void 0?Q:ae.target;if(!(!J||!(J instanceof HTMLElement))&&J.classList.contains("orthogonal-drag-handle"))return J.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}},{key:"dispose",value:function(){Object(w.a)(Object(ve.a)(G.prototype),"dispose",this).call(this),this.el.remove()}}],[{key:"onMouseEnter",value:function(ae){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ae.el.classList.contains("active")?(ae.hoverDelayer.cancel(),ae.el.classList.add("hover")):ae.hoverDelayer.trigger(function(){return ae.el.classList.add("hover")},ae.hoverDelay).then(void 0,function(){}),!Q&&ae.linkedSash&&G.onMouseEnter(ae.linkedSash,!0)}},{key:"onMouseLeave",value:function(ae){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ae.hoverDelayer.cancel(),ae.el.classList.remove("hover"),!Q&&ae.linkedSash&&G.onMouseLeave(ae.linkedSash,!0)}}]),G}(F.a)},cV9m:function(mn,U,a){"use strict";a.d(U,"a",function(){return N});var ce=a("oBTY"),we=a("fWQN"),w=a("mtLc"),ve=a("w4Tj"),se=a("oZsa"),te=a("yKVA"),$=a("879j"),_=a("EffR"),Y=a("7/Ik"),E=a("uDWl"),Z=a("pg8w"),ne=a("8HAY"),V=a("MI8n"),B=a("QMLA"),F=function(H){Object(te.a)(D,H);var d=Object($.a)(D);function D(C,x){var O;Object(we.a)(this,D),O=d.call(this),O._onDidChangeVisibility=O._register(new V.b),O.onDidChangeVisibility=O._onDidChangeVisibility.event,O._element=Object(_.append)(C,Object(_.$)(".monaco-dropdown")),O._label=Object(_.append)(O._element,Object(_.$)(".dropdown-label"));var T=x.labelRenderer;T||(T=function(G){return G.textContent=x.label||"",null});for(var z=0,I=[_.EventType.CLICK,_.EventType.MOUSE_DOWN,Z.a.Tap];z<I.length;z++){var de=I[z];O._register(Object(_.addDisposableListener)(O.element,de,function(P){return _.EventHelper.stop(P,!0)}))}for(var pe=0,fe=[_.EventType.MOUSE_DOWN,Z.a.Tap];pe<fe.length;pe++){var ke=fe[pe];O._register(Object(_.addDisposableListener)(O._label,ke,function(P){P instanceof MouseEvent&&(P.detail>1||P.button!==0)||(O.visible?O.hide():O.show())}))}O._register(Object(_.addDisposableListener)(O._label,_.EventType.KEY_UP,function(P){var G=new E.a(P);(G.equals(3)||G.equals(10))&&(_.EventHelper.stop(P,!0),O.visible?O.hide():O.show())}));var A=T(O._label);return A&&O._register(A),O._register(Z.b.addTarget(O._label)),O}return Object(w.a)(D,[{key:"element",get:function(){return this._element}},{key:"show",value:function(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}},{key:"dispose",value:function(){Object(ve.a)(Object(se.a)(D.prototype),"dispose",this).call(this),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}]),D}(ne.b),W=function(H){Object(te.a)(D,H);var d=Object($.a)(D);function D(C,x){var O;return Object(we.a)(this,D),O=d.call(this,C,x),O._actions=[],O._contextMenuProvider=x.contextMenuProvider,O.actions=x.actions||[],O.actionProvider=x.actionProvider,O.menuClassName=x.menuClassName||"",O.menuAsChild=!!x.menuAsChild,O}return Object(w.a)(D,[{key:"menuOptions",get:function(){return this._menuOptions},set:function(x){this._menuOptions=x}},{key:"actions",get:function(){return this.actionProvider?this.actionProvider.getActions():this._actions},set:function(x){this._actions=x}},{key:"show",value:function(){var x=this;Object(ve.a)(Object(se.a)(D.prototype),"show",this).call(this),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:function(){return x.element},getActions:function(){return x.actions},getActionsContext:function(){return x.menuOptions?x.menuOptions.context:null},getActionViewItem:function(T,z){return x.menuOptions&&x.menuOptions.actionViewItemProvider?x.menuOptions.actionViewItemProvider(T,z):void 0},getKeyBinding:function(T){return x.menuOptions&&x.menuOptions.getKeyBinding?x.menuOptions.getKeyBinding(T):void 0},getMenuClassName:function(){return x.menuClassName},onHide:function(){return x.onHide()},actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}},{key:"hide",value:function(){Object(ve.a)(Object(se.a)(D.prototype),"hide",this).call(this)}},{key:"onHide",value:function(){this.hide(),this.element.classList.remove("active")}}]),D}(F),N=function(H){Object(te.a)(D,H);var d=Object($.a)(D);function D(C,x,O){var T,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Object.create(null);return Object(we.a)(this,D),T=d.call(this,null,C,z),T.actionItem=null,T._onDidChangeVisibility=T._register(new V.b),T.onDidChangeVisibility=T._onDidChangeVisibility.event,T.menuActionsOrProvider=x,T.contextMenuProvider=O,T.options=z,T.options.actionRunner&&(T.actionRunner=T.options.actionRunner),T}return Object(w.a)(D,[{key:"render",value:function(x){var O=this;this.actionItem=x;var T=function(fe){var ke;O.element=Object(_.append)(fe,Object(_.$)("a.action-label"));var A=[];return typeof O.options.classNames=="string"?A=O.options.classNames.split(/\s+/g).filter(function(P){return!!P}):O.options.classNames&&(A=O.options.classNames),A.find(function(P){return P==="icon"})||A.push("codicon"),(ke=O.element.classList).add.apply(ke,Object(ce.a)(A)),O.element.setAttribute("role","button"),O.element.setAttribute("aria-haspopup","true"),O.element.setAttribute("aria-expanded","false"),O.element.title=O._action.label||"",O.element.ariaLabel=O._action.label||"",null},z=Array.isArray(this.menuActionsOrProvider),I={contextMenuProvider:this.contextMenuProvider,labelRenderer:T,menuAsChild:this.options.menuAsChild,actions:z?this.menuActionsOrProvider:void 0,actionProvider:z?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new W(x,I)),this._register(this.dropdownMenu.onDidChangeVisibility(function(pe){var fe;(fe=O.element)===null||fe===void 0||fe.setAttribute("aria-expanded","".concat(pe)),O._onDidChangeVisibility.fire(pe)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){var de=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return de.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}},{key:"getTooltip",value:function(){var x=null;return this.action.tooltip?x=this.action.tooltip:this.action.label&&(x=this.action.label),x!=null?x:void 0}},{key:"setActionContext",value:function(x){Object(ve.a)(Object(se.a)(D.prototype),"setActionContext",this).call(this,x),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=x:this.dropdownMenu.menuOptions={context:x})}},{key:"show",value:function(){var x;(x=this.dropdownMenu)===null||x===void 0||x.show()}},{key:"updateEnabled",value:function(){var x,O,T=!this.action.enabled;(x=this.actionItem)===null||x===void 0||x.classList.toggle("disabled",T),(O=this.element)===null||O===void 0||O.classList.toggle("disabled",T)}}]),D}(Y.b)},"ci+S":function(mn,U,a){},cl4r:function(mn,U,a){},cqdO:function(mn,U,a){"use strict";a.d(U,"f",function(){return Q}),a.d(U,"g",function(){return J}),a.d(U,"e",function(){return me}),a.d(U,"d",function(){return L}),a.d(U,"i",function(){return Ne}),a.d(U,"h",function(){return Fe}),a.d(U,"c",function(){return Ft}),a.d(U,"a",function(){return Ot}),a.d(U,"j",function(){return pt}),a.d(U,"b",function(){return $e});var ce=a("qLMh"),we=a("w4Tj"),w=a("oZsa"),ve=a("yKVA"),se=a("879j"),te=a("oBTY"),$=a("rAM+"),_=a("fWQN"),Y=a("mtLc"),E=a("EffR"),Z=a("4y0V"),ne=a("uDWl"),V=a("pg8w"),B=a("OBOq"),F=function(){function ze(ot){Object(_.a)(this,ze),this.spliceables=ot}return Object(Y.a)(ze,[{key:"splice",value:function(He,Ge,Je){this.spliceables.forEach(function(ft){return ft.splice(He,Ge,Je)})}}]),ze}(),W=a("6OMU"),N=a("X+cX"),H=a("zrhQ"),d=a("ZCR3"),D=a("MI8n"),C=a("fpMC"),x=a("pmY6"),O=a("Sdnv"),T=a("MNsG"),z=a("746U"),I=a("4rho"),de=a("ZKkB"),pe=function(ze){Object(ve.a)(He,ze);var ot=Object(se.a)(He);function He(Ge,Je){return Object(_.a)(this,He),ot.call(this,"ListError [".concat(Ge,"] ").concat(Je))}return Object(Y.a)(He)}(Object(de.a)(Error)),fe=a("feEw"),ke=function(ze,ot,He,Ge){var Je=arguments.length,ft=Je<3?ot:Ge===null?Ge=Object.getOwnPropertyDescriptor(ot,He):Ge,qt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ft=Reflect.decorate(ze,ot,He,Ge);else for(var bt=ze.length-1;bt>=0;bt--)(qt=ze[bt])&&(ft=(Je<3?qt(ft):Je>3?qt(ot,He,ft):qt(ot,He))||ft);return Je>3&&ft&&Object.defineProperty(ot,He,ft),ft},A=function(ze,ot,He,Ge){function Je(ft){return ft instanceof He?ft:new He(function(qt){qt(ft)})}return new(He||(He=Promise))(function(ft,qt){function bt(an){try{rn(Ge.next(an))}catch(In){qt(In)}}function Bt(an){try{rn(Ge.throw(an))}catch(In){qt(In)}}function rn(an){an.done?ft(an.value):Je(an.value).then(bt,Bt)}rn((Ge=Ge.apply(ze,ot||[])).next())})},P=function(){function ze(ot){Object(_.a)(this,ze),this.trait=ot,this.renderedElements=[]}return Object(Y.a)(ze,[{key:"templateId",get:function(){return"template:".concat(this.trait.name)}},{key:"renderTemplate",value:function(He){return He}},{key:"renderElement",value:function(He,Ge,Je){var ft=this.renderedElements.findIndex(function(Bt){return Bt.templateData===Je});if(ft>=0){var qt=this.renderedElements[ft];this.trait.unrender(Je),qt.index=Ge}else{var bt={index:Ge,templateData:Je};this.renderedElements.push(bt)}this.trait.renderIndex(Ge,Je)}},{key:"splice",value:function(He,Ge,Je){var ft=[],qt=Object($.a)(this.renderedElements),bt;try{for(qt.s();!(bt=qt.n()).done;){var Bt=bt.value;Bt.index<He?ft.push(Bt):Bt.index>=He+Ge&&ft.push({index:Bt.index+Je-Ge,templateData:Bt.templateData})}}catch(rn){qt.e(rn)}finally{qt.f()}this.renderedElements=ft}},{key:"renderIndexes",value:function(He){var Ge=Object($.a)(this.renderedElements),Je;try{for(Ge.s();!(Je=Ge.n()).done;){var ft=Je.value,qt=ft.index,bt=ft.templateData;He.indexOf(qt)>-1&&this.trait.renderIndex(qt,bt)}}catch(Bt){Ge.e(Bt)}finally{Ge.f()}}},{key:"disposeTemplate",value:function(He){var Ge=this.renderedElements.findIndex(function(Je){return Je.templateData===He});Ge<0||this.renderedElements.splice(Ge,1)}}]),ze}(),G=function(){function ze(ot){Object(_.a)(this,ze),this._trait=ot,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new D.b,this.onChange=this._onChange.event}return Object(Y.a)(ze,[{key:"name",get:function(){return this._trait}},{key:"renderer",get:function(){return new P(this)}},{key:"splice",value:function(He,Ge,Je){var ft;Ge=Math.max(0,Math.min(Ge,this.length-He));var qt=Je.length-Ge,bt=He+Ge,Bt=[].concat(Object(te.a)(this.sortedIndexes.filter(function(In){return In<He})),Object(te.a)(Je.map(function(In,Dt){return In?Dt+He:-1}).filter(function(In){return In!==-1})),Object(te.a)(this.sortedIndexes.filter(function(In){return In>=bt}).map(function(In){return In+qt}))),rn=this.length+qt;if(this.sortedIndexes.length>0&&Bt.length===0&&rn>0){var an=(ft=this.sortedIndexes.find(function(In){return In>=He}))!==null&&ft!==void 0?ft:rn-1;Bt.push(Math.min(an,rn-1))}this.renderer.splice(He,Ge,Je.length),this._set(Bt,Bt),this.length=rn}},{key:"renderIndex",value:function(He,Ge){Ge.classList.toggle(this._trait,this.contains(He))}},{key:"unrender",value:function(He){He.classList.remove(this._trait)}},{key:"set",value:function(He,Ge){return this._set(He,Object(te.a)(He).sort(Ce),Ge)}},{key:"_set",value:function(He,Ge,Je){var ft=this.indexes,qt=this.sortedIndexes;this.indexes=He,this.sortedIndexes=Ge;var bt=Vt(qt,He);return this.renderer.renderIndexes(bt),this._onChange.fire({indexes:He,browserEvent:Je}),ft}},{key:"get",value:function(){return this.indexes}},{key:"contains",value:function(He){return Object(W.e)(this.sortedIndexes,He,Ce)>=0}},{key:"dispose",value:function(){Object(x.i)(this._onChange)}}]),ze}();ke([d.a],G.prototype,"renderer",null);var re=function(ze){Object(ve.a)(He,ze);var ot=Object(se.a)(He);function He(Ge){var Je;return Object(_.a)(this,He),Je=ot.call(this,"selected"),Je.setAriaSelected=Ge,Je}return Object(Y.a)(He,[{key:"renderIndex",value:function(Je,ft){Object(we.a)(Object(w.a)(He.prototype),"renderIndex",this).call(this,Je,ft),this.setAriaSelected&&(this.contains(Je)?ft.setAttribute("aria-selected","true"):ft.setAttribute("aria-selected","false"))}}]),He}(G),ae=function(){function ze(ot,He,Ge){Object(_.a)(this,ze),this.trait=ot,this.view=He,this.identityProvider=Ge}return Object(Y.a)(ze,[{key:"splice",value:function(He,Ge,Je){var ft=this;if(!this.identityProvider)return this.trait.splice(He,Ge,Je.map(function(){return!1}));var qt=this.trait.get().map(function(Bt){return ft.identityProvider.getId(ft.view.element(Bt)).toString()}),bt=Je.map(function(Bt){return qt.indexOf(ft.identityProvider.getId(Bt).toString())>-1});this.trait.splice(He,Ge,bt)}}]),ze}();function Q(ze){return ze.tagName==="INPUT"||ze.tagName==="TEXTAREA"}function J(ze){return ze.classList.contains("monaco-editor")?!0:ze.classList.contains("monaco-list")||!ze.parentElement?!1:J(ze.parentElement)}function me(ze){return ze.tagName==="A"&&ze.classList.contains("monaco-button")||ze.tagName==="DIV"&&ze.classList.contains("monaco-button-dropdown")?!0:ze.classList.contains("monaco-list")||!ze.parentElement?!1:me(ze.parentElement)}var ge=function(){function ze(ot,He,Ge){Object(_.a)(this,ze),this.list=ot,this.view=He,this.disposables=new x.c,this.multipleSelectionDisposables=new x.c,this.onKeyDown.filter(function(Je){return Je.keyCode===3}).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(function(Je){return Je.keyCode===16}).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(function(Je){return Je.keyCode===18}).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(function(Je){return Je.keyCode===11}).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(function(Je){return Je.keyCode===12}).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(function(Je){return Je.keyCode===9}).on(this.onEscape,this,this.disposables),Ge.multipleSelectionSupport!==!1&&this.onKeyDown.filter(function(Je){return(T.i?Je.metaKey:Je.ctrlKey)&&Je.keyCode===31}).on(this.onCtrlA,this,this.multipleSelectionDisposables)}return Object(Y.a)(ze,[{key:"onKeyDown",get:function(){return this.disposables.add(D.c.chain(this.disposables.add(new Z.a(this.view.domNode,"keydown")).event).filter(function(He){return!Q(He.target)}).map(function(He){return new ne.a(He)}))}},{key:"updateOptions",value:function(He){He.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),He.multipleSelectionSupport&&this.onKeyDown.filter(function(Ge){return(T.i?Ge.metaKey:Ge.ctrlKey)&&Ge.keyCode===31}).on(this.onCtrlA,this,this.multipleSelectionDisposables))}},{key:"onEnter",value:function(He){He.preventDefault(),He.stopPropagation(),this.list.setSelection(this.list.getFocus(),He.browserEvent)}},{key:"onUpArrow",value:function(He){He.preventDefault(),He.stopPropagation(),this.list.focusPrevious(1,!1,He.browserEvent);var Ge=this.list.getFocus()[0];this.list.setAnchor(Ge),this.list.reveal(Ge),this.view.domNode.focus()}},{key:"onDownArrow",value:function(He){He.preventDefault(),He.stopPropagation(),this.list.focusNext(1,!1,He.browserEvent);var Ge=this.list.getFocus()[0];this.list.setAnchor(Ge),this.list.reveal(Ge),this.view.domNode.focus()}},{key:"onPageUpArrow",value:function(He){He.preventDefault(),He.stopPropagation(),this.list.focusPreviousPage(He.browserEvent);var Ge=this.list.getFocus()[0];this.list.setAnchor(Ge),this.list.reveal(Ge),this.view.domNode.focus()}},{key:"onPageDownArrow",value:function(He){He.preventDefault(),He.stopPropagation(),this.list.focusNextPage(He.browserEvent);var Ge=this.list.getFocus()[0];this.list.setAnchor(Ge),this.list.reveal(Ge),this.view.domNode.focus()}},{key:"onCtrlA",value:function(He){He.preventDefault(),He.stopPropagation(),this.list.setSelection(Object(W.z)(this.list.length),He.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}},{key:"onEscape",value:function(He){this.list.getSelection().length&&(He.preventDefault(),He.stopPropagation(),this.list.setSelection([],He.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}},{key:"dispose",value:function(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}]),ze}();ke([d.a],ge.prototype,"onKeyDown",null);var L;(function(ze){ze[ze.Automatic=0]="Automatic",ze[ze.Trigger=1]="Trigger"})(L||(L={}));var De;(function(ze){ze[ze.Idle=0]="Idle",ze[ze.Typing=1]="Typing"})(De||(De={}));var Ae=new(function(){function ze(){Object(_.a)(this,ze)}return Object(Y.a)(ze,[{key:"mightProducePrintableCharacter",value:function(He){return He.ctrlKey||He.metaKey||He.altKey?!1:He.keyCode>=31&&He.keyCode<=56||He.keyCode>=21&&He.keyCode<=30||He.keyCode>=98&&He.keyCode<=107||He.keyCode>=85&&He.keyCode<=95}}]),ze}()),Oe=function(){function ze(ot,He,Ge,Je,ft){Object(_.a)(this,ze),this.list=ot,this.view=He,this.keyboardNavigationLabelProvider=Ge,this.keyboardNavigationEventFilter=Je,this.delegate=ft,this.enabled=!1,this.state=De.Idle,this.mode=L.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new x.c,this.disposables=new x.c,this.updateOptions(ot.options)}return Object(Y.a)(ze,[{key:"updateOptions",value:function(He){var Ge,Je;((Ge=He.typeNavigationEnabled)!==null&&Ge!==void 0?Ge:!0)?this.enable():this.disable(),this.mode=(Je=He.typeNavigationMode)!==null&&Je!==void 0?Je:L.Automatic}},{key:"enable",value:function(){var He=this;if(!this.enabled){var Ge=!1,Je=this.enabledDisposables.add(D.c.chain(this.enabledDisposables.add(new Z.a(this.view.domNode,"keydown")).event)).filter(function(bt){return!Q(bt.target)}).filter(function(){return He.mode===L.Automatic||He.triggered}).map(function(bt){return new ne.a(bt)}).filter(function(bt){return Ge||He.keyboardNavigationEventFilter(bt)}).filter(function(bt){return He.delegate.mightProducePrintableCharacter(bt)}).forEach(function(bt){return E.EventHelper.stop(bt,!0)}).map(function(bt){return bt.browserEvent.key}).event,ft=D.c.debounce(Je,function(){return null},800,void 0,void 0,void 0,this.enabledDisposables),qt=D.c.reduce(D.c.any(Je,ft),function(bt,Bt){return Bt===null?null:(bt||"")+Bt},void 0,this.enabledDisposables);qt(this.onInput,this,this.enabledDisposables),ft(this.onClear,this,this.enabledDisposables),Je(function(){return Ge=!0},void 0,this.enabledDisposables),ft(function(){return Ge=!1},void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}}},{key:"disable",value:function(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}},{key:"onClear",value:function(){var He,Ge=this.list.getFocus();if(Ge.length>0&&Ge[0]===this.previouslyFocused){var Je=(He=this.list.options.accessibilityProvider)===null||He===void 0?void 0:He.getAriaLabel(this.list.element(Ge[0]));Je&&Object(B.a)(Je)}this.previouslyFocused=-1}},{key:"onInput",value:function(He){if(!He){this.state=De.Idle,this.triggered=!1;return}var Ge=this.list.getFocus(),Je=Ge.length>0?Ge[0]:0,ft=this.state===De.Idle?1:0;this.state=De.Typing;for(var qt=0;qt<this.list.length;qt++){var bt=(Je+qt+ft)%this.list.length,Bt=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(bt)),rn=Bt&&Bt.toString();if(typeof rn=="undefined"||Object(C.i)(He,rn)){this.previouslyFocused=Je,this.list.setFocus([bt]),this.list.reveal(bt);return}}}},{key:"dispose",value:function(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}]),ze}(),Pe=function(){function ze(ot,He){Object(_.a)(this,ze),this.list=ot,this.view=He,this.disposables=new x.c;var Ge=this.disposables.add(D.c.chain(this.disposables.add(new Z.a(He.domNode,"keydown")).event)).filter(function(Je){return!Q(Je.target)}).map(function(Je){return new ne.a(Je)});Ge.filter(function(Je){return Je.keyCode===2&&!Je.ctrlKey&&!Je.metaKey&&!Je.shiftKey&&!Je.altKey}).on(this.onTab,this,this.disposables)}return Object(Y.a)(ze,[{key:"onTab",value:function(He){if(He.target===this.view.domNode){var Ge=this.list.getFocus();if(Ge.length!==0){var Je=this.view.domElement(Ge[0]);if(!!Je){var ft=Je.querySelector("[tabIndex]");if(!(!ft||!(ft instanceof HTMLElement)||ft.tabIndex===-1)){var qt=window.getComputedStyle(ft);qt.visibility==="hidden"||qt.display==="none"||(He.preventDefault(),He.stopPropagation(),ft.focus())}}}}}},{key:"dispose",value:function(){this.disposables.dispose()}}]),ze}();function Ne(ze){return T.i?ze.browserEvent.metaKey:ze.browserEvent.ctrlKey}function Fe(ze){return ze.browserEvent.shiftKey}function Xe(ze){return ze instanceof MouseEvent&&ze.button===2}var Et={isSelectionSingleChangeEvent:Ne,isSelectionRangeChangeEvent:Fe},Ft=function(){function ze(ot){Object(_.a)(this,ze),this.list=ot,this.disposables=new x.c,this._onPointer=new D.b,this.onPointer=this._onPointer.event,ot.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Et),this.mouseSupport=typeof ot.options.mouseSupport=="undefined"||!!ot.options.mouseSupport,this.mouseSupport&&(ot.onMouseDown(this.onMouseDown,this,this.disposables),ot.onContextMenu(this.onContextMenu,this,this.disposables),ot.onMouseDblClick(this.onDoubleClick,this,this.disposables),ot.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(V.b.addTarget(ot.getHTMLElement()))),D.c.any(ot.onMouseClick,ot.onMouseMiddleClick,ot.onTap)(this.onViewPointer,this,this.disposables)}return Object(Y.a)(ze,[{key:"updateOptions",value:function(He){He.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,He.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Et))}},{key:"isSelectionSingleChangeEvent",value:function(He){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(He):!1}},{key:"isSelectionRangeChangeEvent",value:function(He){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(He):!1}},{key:"isSelectionChangeEvent",value:function(He){return this.isSelectionSingleChangeEvent(He)||this.isSelectionRangeChangeEvent(He)}},{key:"onMouseDown",value:function(He){J(He.browserEvent.target)||document.activeElement!==He.browserEvent.target&&this.list.domFocus()}},{key:"onContextMenu",value:function(He){if(!(Q(He.browserEvent.target)||J(He.browserEvent.target))){var Ge=typeof He.index=="undefined"?[]:[He.index];this.list.setFocus(Ge,He.browserEvent)}}},{key:"onViewPointer",value:function(He){if(!!this.mouseSupport&&!(Q(He.browserEvent.target)||J(He.browserEvent.target))&&!He.browserEvent.isHandledByList){He.browserEvent.isHandledByList=!0;var Ge=He.index;if(typeof Ge=="undefined"){this.list.setFocus([],He.browserEvent),this.list.setSelection([],He.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(He))return this.changeSelection(He);if(this.isSelectionChangeEvent(He))return this.changeSelection(He);this.list.setFocus([Ge],He.browserEvent),this.list.setAnchor(Ge),Xe(He.browserEvent)||this.list.setSelection([Ge],He.browserEvent),this._onPointer.fire(He)}}},{key:"onDoubleClick",value:function(He){if(!(Q(He.browserEvent.target)||J(He.browserEvent.target))&&!this.isSelectionChangeEvent(He)&&!He.browserEvent.isHandledByList){He.browserEvent.isHandledByList=!0;var Ge=this.list.getFocus();this.list.setSelection(Ge,He.browserEvent)}}},{key:"changeSelection",value:function(He){var Ge=He.index,Je=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(He)){if(typeof Je=="undefined"){var ft=this.list.getFocus()[0];Je=ft!=null?ft:Ge,this.list.setAnchor(Je)}var qt=Math.min(Je,Ge),bt=Math.max(Je,Ge),Bt=Object(W.z)(qt,bt+1),rn=this.list.getSelection(),an=et(Vt(rn,[Je]),Je);if(an.length===0)return;var In=Vt(Bt,Re(rn,an));this.list.setSelection(In,He.browserEvent),this.list.setFocus([Ge],He.browserEvent)}else if(this.isSelectionSingleChangeEvent(He)){var Dt=this.list.getSelection(),jn=Dt.filter(function(_n){return _n!==Ge});this.list.setFocus([Ge]),this.list.setAnchor(Ge),Dt.length===jn.length?this.list.setSelection([].concat(Object(te.a)(jn),[Ge]),He.browserEvent):this.list.setSelection(jn,He.browserEvent)}}},{key:"dispose",value:function(){this.disposables.dispose()}}]),ze}(),Ot=function(){function ze(ot,He){Object(_.a)(this,ze),this.styleElement=ot,this.selectorSuffix=He}return Object(Y.a)(ze,[{key:"style",value:function(He){var Ge,Je,ft=this.selectorSuffix&&".".concat(this.selectorSuffix),qt=[];He.listBackground&&qt.push(".monaco-list".concat(ft," .monaco-list-rows { background: ").concat(He.listBackground,"; }")),He.listFocusBackground&&(qt.push(".monaco-list".concat(ft,":focus .monaco-list-row.focused { background-color: ").concat(He.listFocusBackground,"; }")),qt.push(".monaco-list".concat(ft,":focus .monaco-list-row.focused:hover { background-color: ").concat(He.listFocusBackground,"; }"))),He.listFocusForeground&&qt.push(".monaco-list".concat(ft,":focus .monaco-list-row.focused { color: ").concat(He.listFocusForeground,"; }")),He.listActiveSelectionBackground&&(qt.push(".monaco-list".concat(ft,":focus .monaco-list-row.selected { background-color: ").concat(He.listActiveSelectionBackground,"; }")),qt.push(".monaco-list".concat(ft,":focus .monaco-list-row.selected:hover { background-color: ").concat(He.listActiveSelectionBackground,"; }"))),He.listActiveSelectionForeground&&qt.push(".monaco-list".concat(ft,":focus .monaco-list-row.selected { color: ").concat(He.listActiveSelectionForeground,"; }")),He.listActiveSelectionIconForeground&&qt.push(".monaco-list".concat(ft,":focus .monaco-list-row.selected .codicon { color: ").concat(He.listActiveSelectionIconForeground,"; }")),He.listFocusAndSelectionBackground&&qt.push(`
				.monaco-drag-image,
				.monaco-list`.concat(ft,":focus .monaco-list-row.selected.focused { background-color: ").concat(He.listFocusAndSelectionBackground,`; }
			`)),He.listFocusAndSelectionForeground&&qt.push(`
				.monaco-drag-image,
				.monaco-list`.concat(ft,":focus .monaco-list-row.selected.focused { color: ").concat(He.listFocusAndSelectionForeground,`; }
			`)),He.listInactiveFocusForeground&&(qt.push(".monaco-list".concat(ft," .monaco-list-row.focused { color:  ").concat(He.listInactiveFocusForeground,"; }")),qt.push(".monaco-list".concat(ft," .monaco-list-row.focused:hover { color:  ").concat(He.listInactiveFocusForeground,"; }"))),He.listInactiveSelectionIconForeground&&qt.push(".monaco-list".concat(ft," .monaco-list-row.focused .codicon { color:  ").concat(He.listInactiveSelectionIconForeground,"; }")),He.listInactiveFocusBackground&&(qt.push(".monaco-list".concat(ft," .monaco-list-row.focused { background-color:  ").concat(He.listInactiveFocusBackground,"; }")),qt.push(".monaco-list".concat(ft," .monaco-list-row.focused:hover { background-color:  ").concat(He.listInactiveFocusBackground,"; }"))),He.listInactiveSelectionBackground&&(qt.push(".monaco-list".concat(ft," .monaco-list-row.selected { background-color:  ").concat(He.listInactiveSelectionBackground,"; }")),qt.push(".monaco-list".concat(ft," .monaco-list-row.selected:hover { background-color:  ").concat(He.listInactiveSelectionBackground,"; }"))),He.listInactiveSelectionForeground&&qt.push(".monaco-list".concat(ft," .monaco-list-row.selected { color: ").concat(He.listInactiveSelectionForeground,"; }")),He.listHoverBackground&&qt.push(".monaco-list".concat(ft,":not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ").concat(He.listHoverBackground,"; }")),He.listHoverForeground&&qt.push(".monaco-list".concat(ft,":not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ").concat(He.listHoverForeground,"; }"));var bt=Object(E.asCssValueWithDefault)(He.listFocusAndSelectionOutline,Object(E.asCssValueWithDefault)(He.listSelectionOutline,(Ge=He.listFocusOutline)!==null&&Ge!==void 0?Ge:""));bt&&qt.push(".monaco-list".concat(ft,":focus .monaco-list-row.focused.selected { outline: 1px solid ").concat(bt,"; outline-offset: -1px;}")),He.listFocusOutline&&qt.push(`
				.monaco-drag-image,
				.monaco-list`.concat(ft,":focus .monaco-list-row.focused { outline: 1px solid ").concat(He.listFocusOutline,`; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list`).concat(ft,".last-focused .monaco-list-row.focused { outline: 1px solid ").concat(He.listFocusOutline,`; outline-offset: -1px; }
			`));var Bt=Object(E.asCssValueWithDefault)(He.listSelectionOutline,(Je=He.listInactiveFocusOutline)!==null&&Je!==void 0?Je:"");Bt&&qt.push(".monaco-list".concat(ft," .monaco-list-row.focused.selected { outline: 1px dotted ").concat(Bt,"; outline-offset: -1px; }")),He.listSelectionOutline&&qt.push(".monaco-list".concat(ft," .monaco-list-row.selected { outline: 1px dotted ").concat(He.listSelectionOutline,"; outline-offset: -1px; }")),He.listInactiveFocusOutline&&qt.push(".monaco-list".concat(ft," .monaco-list-row.focused { outline: 1px dotted ").concat(He.listInactiveFocusOutline,"; outline-offset: -1px; }")),He.listHoverOutline&&qt.push(".monaco-list".concat(ft," .monaco-list-row:hover { outline: 1px dashed ").concat(He.listHoverOutline,"; outline-offset: -1px; }")),He.listDropBackground&&qt.push(`
				.monaco-list`.concat(ft,`.drop-target,
				.monaco-list`).concat(ft,` .monaco-list-rows.drop-target,
				.monaco-list`).concat(ft," .monaco-list-row.drop-target { background-color: ").concat(He.listDropBackground,` !important; color: inherit !important; }
			`)),He.tableColumnsBorder&&qt.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: `.concat(He.tableColumnsBorder,`;
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`)),He.tableOddRowsBackgroundColor&&qt.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: `.concat(He.tableOddRowsBackgroundColor,`;
				}
			`)),this.styleElement.textContent=qt.join(`
`)}}]),ze}(),pt={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:H.a.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:H.a.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:H.a.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},Lt={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}}};function et(ze,ot){var He=ze.indexOf(ot);if(He===-1)return[];for(var Ge=[],Je=He-1;Je>=0&&ze[Je]===ot-(He-Je);)Ge.push(ze[Je--]);for(Ge.reverse(),Je=He;Je<ze.length&&ze[Je]===ot+(Je-He);)Ge.push(ze[Je++]);return Ge}function Vt(ze,ot){for(var He=[],Ge=0,Je=0;Ge<ze.length||Je<ot.length;)if(Ge>=ze.length)He.push(ot[Je++]);else if(Je>=ot.length)He.push(ze[Ge++]);else if(ze[Ge]===ot[Je]){He.push(ze[Ge]),Ge++,Je++;continue}else ze[Ge]<ot[Je]?He.push(ze[Ge++]):He.push(ot[Je++]);return He}function Re(ze,ot){for(var He=[],Ge=0,Je=0;Ge<ze.length||Je<ot.length;)if(Ge>=ze.length)He.push(ot[Je++]);else if(Je>=ot.length)He.push(ze[Ge++]);else if(ze[Ge]===ot[Je]){Ge++,Je++;continue}else ze[Ge]<ot[Je]?He.push(ze[Ge++]):Je++;return He}var Ce=function(ot,He){return ot-He},ye=function(){function ze(ot,He){Object(_.a)(this,ze),this._templateId=ot,this.renderers=He}return Object(Y.a)(ze,[{key:"templateId",get:function(){return this._templateId}},{key:"renderTemplate",value:function(He){return this.renderers.map(function(Ge){return Ge.renderTemplate(He)})}},{key:"renderElement",value:function(He,Ge,Je,ft){var qt=0,bt=Object($.a)(this.renderers),Bt;try{for(bt.s();!(Bt=bt.n()).done;){var rn=Bt.value;rn.renderElement(He,Ge,Je[qt++],ft)}}catch(an){bt.e(an)}finally{bt.f()}}},{key:"disposeElement",value:function(He,Ge,Je,ft){var qt,bt=0,Bt=Object($.a)(this.renderers),rn;try{for(Bt.s();!(rn=Bt.n()).done;){var an=rn.value;(qt=an.disposeElement)===null||qt===void 0||qt.call(an,He,Ge,Je[bt],ft),bt+=1}}catch(In){Bt.e(In)}finally{Bt.f()}}},{key:"disposeTemplate",value:function(He){var Ge=0,Je=Object($.a)(this.renderers),ft;try{for(Je.s();!(ft=Je.n()).done;){var qt=ft.value;qt.disposeTemplate(He[Ge++])}}catch(bt){Je.e(bt)}finally{Je.f()}}}]),ze}(),Te=function(){function ze(ot){Object(_.a)(this,ze),this.accessibilityProvider=ot,this.templateId="a18n"}return Object(Y.a)(ze,[{key:"renderTemplate",value:function(He){return He}},{key:"renderElement",value:function(He,Ge,Je){var ft=this.accessibilityProvider.getAriaLabel(He);ft?Je.setAttribute("aria-label",ft):Je.removeAttribute("aria-label");var qt=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(He);typeof qt=="number"?Je.setAttribute("aria-level","".concat(qt)):Je.removeAttribute("aria-level")}},{key:"disposeTemplate",value:function(He){}}]),ze}(),Qe=function(){function ze(ot,He){Object(_.a)(this,ze),this.list=ot,this.dnd=He}return Object(Y.a)(ze,[{key:"getDragElements",value:function(He){var Ge=this.list.getSelectedElements(),Je=Ge.indexOf(He)>-1?Ge:[He];return Je}},{key:"getDragURI",value:function(He){return this.dnd.getDragURI(He)}},{key:"getDragLabel",value:function(He,Ge){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(He,Ge)}},{key:"onDragStart",value:function(He,Ge){var Je,ft;(ft=(Je=this.dnd).onDragStart)===null||ft===void 0||ft.call(Je,He,Ge)}},{key:"onDragOver",value:function(He,Ge,Je,ft){return this.dnd.onDragOver(He,Ge,Je,ft)}},{key:"onDragLeave",value:function(He,Ge,Je,ft){var qt,bt;(bt=(qt=this.dnd).onDragLeave)===null||bt===void 0||bt.call(qt,He,Ge,Je,ft)}},{key:"onDragEnd",value:function(He){var Ge,Je;(Je=(Ge=this.dnd).onDragEnd)===null||Je===void 0||Je.call(Ge,He)}},{key:"drop",value:function(He,Ge,Je,ft){this.dnd.drop(He,Ge,Je,ft)}}]),ze}(),$e=function(){function ze(ot,He,Ge,Je){var ft=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Lt;Object(_.a)(this,ze);var qt,bt,Bt,rn;this.user=ot,this._options=ft,this.focus=new G("focused"),this.anchor=new G("anchor"),this.eventBufferer=new D.d,this._ariaLabel="",this.disposables=new x.c,this._onDidDispose=new D.b,this.onDidDispose=this._onDidDispose.event;var an=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(qt=this._options.accessibilityProvider)===null||qt===void 0?void 0:qt.getWidgetRole():"list";this.selection=new re(an!=="listbox");var In=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ft.accessibilityProvider,this.accessibilityProvider&&(In.push(new Te(this.accessibilityProvider)),(Bt=(bt=this.accessibilityProvider).onDidChangeActiveDescendant)===null||Bt===void 0||Bt.call(bt,this.onDidChangeActiveDescendant,this,this.disposables)),Je=Je.map(function(Nn){return new ye(Nn.templateId,[].concat(In,[Nn]))});var Dt=Object.assign(Object.assign({},ft),{dnd:ft.dnd&&new Qe(this,ft.dnd)});if(this.view=this.createListView(He,Ge,Je,Dt),this.view.domNode.setAttribute("role",an),ft.styleController)this.styleController=ft.styleController(this.view.domId);else{var jn=Object(E.createStyleSheet)(this.view.domNode);this.styleController=new Ot(jn,this.view.domId)}if(this.spliceable=new F([new ae(this.focus,this.view,ft.identityProvider),new ae(this.selection,this.view,ft.identityProvider),new ae(this.anchor,this.view,ft.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Pe(this,this.view)),(typeof ft.keyboardSupport!="boolean"||ft.keyboardSupport)&&(this.keyboardController=new ge(this,this.view,ft),this.disposables.add(this.keyboardController)),ft.keyboardNavigationLabelProvider){var _n=ft.keyboardNavigationDelegate||Ae;this.typeNavigationController=new Oe(this,this.view,ft.keyboardNavigationLabelProvider,(rn=ft.keyboardNavigationEventFilter)!==null&&rn!==void 0?rn:function(){return!0},_n),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(ft),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}return Object(Y.a)(ze,[{key:"onDidChangeFocus",get:function(){var He=this;return D.c.map(this.eventBufferer.wrapEvent(this.focus.onChange),function(Ge){return He.toListEvent(Ge)},this.disposables)}},{key:"onDidChangeSelection",get:function(){var He=this;return D.c.map(this.eventBufferer.wrapEvent(this.selection.onChange),function(Ge){return He.toListEvent(Ge)},this.disposables)}},{key:"domId",get:function(){return this.view.domId}},{key:"onMouseClick",get:function(){return this.view.onMouseClick}},{key:"onMouseDblClick",get:function(){return this.view.onMouseDblClick}},{key:"onMouseMiddleClick",get:function(){return this.view.onMouseMiddleClick}},{key:"onPointer",get:function(){return this.mouseController.onPointer}},{key:"onMouseDown",get:function(){return this.view.onMouseDown}},{key:"onMouseOver",get:function(){return this.view.onMouseOver}},{key:"onMouseOut",get:function(){return this.view.onMouseOut}},{key:"onTouchStart",get:function(){return this.view.onTouchStart}},{key:"onTap",get:function(){return this.view.onTap}},{key:"onContextMenu",get:function(){var He=this,Ge=!1,Je=this.disposables.add(D.c.chain(this.disposables.add(new Z.a(this.view.domNode,"keydown")).event)).map(function(bt){return new ne.a(bt)}).filter(function(bt){return Ge=bt.keyCode===58||bt.shiftKey&&bt.keyCode===68}).map(function(bt){return E.EventHelper.stop(bt,!0)}).filter(function(){return!1}).event,ft=this.disposables.add(D.c.chain(this.disposables.add(new Z.a(this.view.domNode,"keyup")).event)).forEach(function(){return Ge=!1}).map(function(bt){return new ne.a(bt)}).filter(function(bt){return bt.keyCode===58||bt.shiftKey&&bt.keyCode===68}).map(function(bt){return E.EventHelper.stop(bt,!0)}).map(function(bt){var Bt=bt.browserEvent,rn=He.getFocus(),an=rn.length?rn[0]:void 0,In=typeof an!="undefined"?He.view.element(an):void 0,Dt=typeof an!="undefined"?He.view.domElement(an):He.view.domNode;return{index:an,element:In,anchor:Dt,browserEvent:Bt}}).event,qt=this.disposables.add(D.c.chain(this.view.onContextMenu)).filter(function(bt){return!Ge}).map(function(bt){var Bt=bt.element,rn=bt.index,an=bt.browserEvent;return{element:Bt,index:rn,anchor:{x:an.pageX+1,y:an.pageY},browserEvent:an}}).event;return D.c.any(Je,ft,qt)}},{key:"onKeyDown",get:function(){return this.disposables.add(new Z.a(this.view.domNode,"keydown")).event}},{key:"onDidFocus",get:function(){return D.c.signal(this.disposables.add(new Z.a(this.view.domNode,"focus",!0)).event)}},{key:"createListView",value:function(He,Ge,Je,ft){return new fe.b(He,Ge,Je,ft)}},{key:"createMouseController",value:function(He){return new Ft(this)}},{key:"updateOptions",value:function(){var He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ge,Je;this._options=Object.assign(Object.assign({},this._options),He),(Ge=this.typeNavigationController)===null||Ge===void 0||Ge.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(He),(Je=this.keyboardController)===null||Je===void 0||Je.updateOptions(He),this.view.updateOptions(He)}},{key:"options",get:function(){return this._options}},{key:"splice",value:function(He,Ge){var Je=this,ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(He<0||He>this.view.length)throw new pe(this.user,"Invalid start index: ".concat(He));if(Ge<0)throw new pe(this.user,"Invalid delete count: ".concat(Ge));Ge===0&&ft.length===0||this.eventBufferer.bufferEvents(function(){return Je.spliceable.splice(He,Ge,ft)})}},{key:"rerender",value:function(){this.view.rerender()}},{key:"element",value:function(He){return this.view.element(He)}},{key:"length",get:function(){return this.view.length}},{key:"contentHeight",get:function(){return this.view.contentHeight}},{key:"scrollTop",get:function(){return this.view.getScrollTop()},set:function(He){this.view.setScrollTop(He)}},{key:"scrollHeight",get:function(){return this.view.scrollHeight}},{key:"firstVisibleIndex",get:function(){return this.view.firstVisibleIndex}},{key:"ariaLabel",get:function(){return this._ariaLabel},set:function(He){this._ariaLabel=He,this.view.domNode.setAttribute("aria-label",He)}},{key:"domFocus",value:function(){this.view.domNode.focus({preventScroll:!0})}},{key:"layout",value:function(He,Ge){this.view.layout(He,Ge)}},{key:"setSelection",value:function(He,Ge){var Je=Object($.a)(He),ft;try{for(Je.s();!(ft=Je.n()).done;){var qt=ft.value;if(qt<0||qt>=this.length)throw new pe(this.user,"Invalid index ".concat(qt))}}catch(bt){Je.e(bt)}finally{Je.f()}this.selection.set(He,Ge)}},{key:"getSelection",value:function(){return this.selection.get()}},{key:"getSelectedElements",value:function(){var He=this;return this.getSelection().map(function(Ge){return He.view.element(Ge)})}},{key:"setAnchor",value:function(He){if(typeof He=="undefined"){this.anchor.set([]);return}if(He<0||He>=this.length)throw new pe(this.user,"Invalid index ".concat(He));this.anchor.set([He])}},{key:"getAnchor",value:function(){return Object(W.p)(this.anchor.get(),void 0)}},{key:"getAnchorElement",value:function(){var He=this.getAnchor();return typeof He=="undefined"?void 0:this.element(He)}},{key:"setFocus",value:function(He,Ge){var Je=Object($.a)(He),ft;try{for(Je.s();!(ft=Je.n()).done;){var qt=ft.value;if(qt<0||qt>=this.length)throw new pe(this.user,"Invalid index ".concat(qt))}}catch(bt){Je.e(bt)}finally{Je.f()}this.focus.set(He,Ge)}},{key:"focusNext",value:function(){var He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Je=arguments.length>2?arguments[2]:void 0,ft=arguments.length>3?arguments[3]:void 0;if(this.length!==0){var qt=this.focus.get(),bt=this.findNextIndex(qt.length>0?qt[0]+He:0,Ge,ft);bt>-1&&this.setFocus([bt],Je)}}},{key:"focusPrevious",value:function(){var He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Je=arguments.length>2?arguments[2]:void 0,ft=arguments.length>3?arguments[3]:void 0;if(this.length!==0){var qt=this.focus.get(),bt=this.findPreviousIndex(qt.length>0?qt[0]-He:0,Ge,ft);bt>-1&&this.setFocus([bt],Je)}}},{key:"focusNextPage",value:function(He,Ge){return A(this,void 0,void 0,Object(ce.a)().mark(function Je(){var ft,qt,bt,Bt,rn;return Object(ce.a)().wrap(function(In){for(;;)switch(In.prev=In.next){case 0:if(ft=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight),ft=ft===0?0:ft-1,qt=this.getFocus()[0],!(qt!==ft&&(qt===void 0||ft>qt))){In.next=8;break}bt=this.findPreviousIndex(ft,!1,Ge),bt>-1&&qt!==bt?this.setFocus([bt],He):this.setFocus([ft],He),In.next=18;break;case 8:if(Bt=this.view.getScrollTop(),rn=Bt+this.view.renderHeight,ft>qt&&(rn-=this.view.elementHeight(ft)),this.view.setScrollTop(rn),this.view.getScrollTop()===Bt){In.next=18;break}return this.setFocus([]),In.next=16,Object(N.q)(0);case 16:return In.next=18,this.focusNextPage(He,Ge);case 18:case"end":return In.stop()}},Je,this)}))}},{key:"focusPreviousPage",value:function(He,Ge){return A(this,void 0,void 0,Object(ce.a)().mark(function Je(){var ft,qt,bt,Bt,rn;return Object(ce.a)().wrap(function(In){for(;;)switch(In.prev=In.next){case 0:if(qt=this.view.getScrollTop(),qt===0?ft=this.view.indexAt(qt):ft=this.view.indexAfter(qt-1),bt=this.getFocus()[0],!(bt!==ft&&(bt===void 0||bt>=ft))){In.next=8;break}Bt=this.findNextIndex(ft,!1,Ge),Bt>-1&&bt!==Bt?this.setFocus([Bt],He):this.setFocus([ft],He),In.next=16;break;case 8:if(rn=qt,this.view.setScrollTop(qt-this.view.renderHeight),this.view.getScrollTop()===rn){In.next=16;break}return this.setFocus([]),In.next=14,Object(N.q)(0);case 14:return In.next=16,this.focusPreviousPage(He,Ge);case 16:case"end":return In.stop()}},Je,this)}))}},{key:"focusLast",value:function(He,Ge){if(this.length!==0){var Je=this.findPreviousIndex(this.length-1,!1,Ge);Je>-1&&this.setFocus([Je],He)}}},{key:"focusFirst",value:function(He,Ge){this.focusNth(0,He,Ge)}},{key:"focusNth",value:function(He,Ge,Je){if(this.length!==0){var ft=this.findNextIndex(He,!1,Je);ft>-1&&this.setFocus([ft],Ge)}}},{key:"findNextIndex",value:function(He){for(var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Je=arguments.length>2?arguments[2]:void 0,ft=0;ft<this.length;ft++){if(He>=this.length&&!Ge)return-1;if(He=He%this.length,!Je||Je(this.element(He)))return He;He++}return-1}},{key:"findPreviousIndex",value:function(He){for(var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Je=arguments.length>2?arguments[2]:void 0,ft=0;ft<this.length;ft++){if(He<0&&!Ge)return-1;if(He=(this.length+He%this.length)%this.length,!Je||Je(this.element(He)))return He;He--}return-1}},{key:"getFocus",value:function(){return this.focus.get()}},{key:"getFocusedElements",value:function(){var He=this;return this.getFocus().map(function(Ge){return He.view.element(Ge)})}},{key:"reveal",value:function(He,Ge){if(He<0||He>=this.length)throw new pe(this.user,"Invalid index ".concat(He));var Je=this.view.getScrollTop(),ft=this.view.elementTop(He),qt=this.view.elementHeight(He);if(Object(z.g)(Ge)){var bt=qt-this.view.renderHeight;this.view.setScrollTop(bt*Object(O.c)(Ge,0,1)+ft)}else{var Bt=ft+qt,rn=Je+this.view.renderHeight;ft<Je&&Bt>=rn||(ft<Je||Bt>=rn&&qt>=this.view.renderHeight?this.view.setScrollTop(ft):Bt>=rn&&this.view.setScrollTop(Bt-this.view.renderHeight))}}},{key:"getHTMLElement",value:function(){return this.view.domNode}},{key:"getElementID",value:function(He){return this.view.getElementDomId(He)}},{key:"style",value:function(He){this.styleController.style(He)}},{key:"toListEvent",value:function(He){var Ge=this,Je=He.indexes,ft=He.browserEvent;return{indexes:Je,elements:Je.map(function(qt){return Ge.view.element(qt)}),browserEvent:ft}}},{key:"_onFocusChange",value:function(){var He=this.focus.get();this.view.domNode.classList.toggle("element-focused",He.length>0),this.onDidChangeActiveDescendant()}},{key:"onDidChangeActiveDescendant",value:function(){var He,Ge=this.focus.get();if(Ge.length>0){var Je;((He=this.accessibilityProvider)===null||He===void 0?void 0:He.getActiveDescendantId)&&(Je=this.accessibilityProvider.getActiveDescendantId(this.view.element(Ge[0]))),this.view.domNode.setAttribute("aria-activedescendant",Je||this.view.getElementDomId(Ge[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}},{key:"_onSelectionChange",value:function(){var He=this.selection.get();this.view.domNode.classList.toggle("selection-none",He.length===0),this.view.domNode.classList.toggle("selection-single",He.length===1),this.view.domNode.classList.toggle("selection-multiple",He.length>1)}},{key:"dispose",value:function(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}]),ze}();ke([d.a],$e.prototype,"onDidChangeFocus",null),ke([d.a],$e.prototype,"onDidChangeSelection",null),ke([d.a],$e.prototype,"onContextMenu",null),ke([d.a],$e.prototype,"onKeyDown",null),ke([d.a],$e.prototype,"onDidFocus",null)},dBaI:function(mn,U,a){"use strict";a.d(U,"a",function(){return se}),a.d(U,"b",function(){return _});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("N0LK"),se=function(){function Y(E,Z,ne,V){Object(we.a)(this,Y),this.startColumn=E,this.endColumn=Z,this.className=ne,this.type=V,this._lineDecorationBrand=void 0}return Object(w.a)(Y,null,[{key:"_equals",value:function(Z,ne){return Z.startColumn===ne.startColumn&&Z.endColumn===ne.endColumn&&Z.className===ne.className&&Z.type===ne.type}},{key:"equalsArr",value:function(Z,ne){var V=Z.length,B=ne.length;if(V!==B)return!1;for(var F=0;F<V;F++)if(!Y._equals(Z[F],ne[F]))return!1;return!0}},{key:"extractWrapped",value:function(Z,ne,V){if(Z.length===0)return Z;var B=ne+1,F=V+1,W=V-ne,N=[],H=0,d=Object(ce.a)(Z),D;try{for(d.s();!(D=d.n()).done;){var C=D.value;C.endColumn<=B||C.startColumn>=F||(N[H++]=new Y(Math.max(1,C.startColumn-B+1),Math.min(W+1,C.endColumn-B+1),C.className,C.type))}}catch(x){d.e(x)}finally{d.f()}return N}},{key:"filter",value:function(Z,ne,V,B){if(Z.length===0)return[];for(var F=[],W=0,N=0,H=Z.length;N<H;N++){var d=Z[N],D=d.range;if(!(D.endLineNumber<ne||D.startLineNumber>ne)&&!(D.isEmpty()&&(d.type===0||d.type===3))){var C=D.startLineNumber===ne?D.startColumn:V,x=D.endLineNumber===ne?D.endColumn:B;F[W++]=new Y(C,x,d.inlineClassName,d.type)}}return F}},{key:"_typeCompare",value:function(Z,ne){var V=[2,0,1,3];return V[Z]-V[ne]}},{key:"compare",value:function(Z,ne){if(Z.startColumn!==ne.startColumn)return Z.startColumn-ne.startColumn;if(Z.endColumn!==ne.endColumn)return Z.endColumn-ne.endColumn;var V=Y._typeCompare(Z.type,ne.type);return V!==0?V:Z.className!==ne.className?Z.className<ne.className?-1:1:0}}]),Y}(),te=Object(w.a)(function Y(E,Z,ne,V){Object(we.a)(this,Y),this.startOffset=E,this.endOffset=Z,this.className=ne,this.metadata=V}),$=function(){function Y(){Object(we.a)(this,Y),this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}return Object(w.a)(Y,[{key:"consumeLowerThan",value:function(Z,ne,V){for(;this.count>0&&this.stopOffsets[0]<Z;){for(var B=0;B+1<this.count&&this.stopOffsets[B]===this.stopOffsets[B+1];)B++;V.push(new te(ne,this.stopOffsets[B],this.classNames.join(" "),Y._metadata(this.metadata))),ne=this.stopOffsets[B]+1,this.stopOffsets.splice(0,B+1),this.classNames.splice(0,B+1),this.metadata.splice(0,B+1),this.count-=B+1}return this.count>0&&ne<Z&&(V.push(new te(ne,Z-1,this.classNames.join(" "),Y._metadata(this.metadata))),ne=Z),ne}},{key:"insert",value:function(Z,ne,V){if(this.count===0||this.stopOffsets[this.count-1]<=Z)this.stopOffsets.push(Z),this.classNames.push(ne),this.metadata.push(V);else for(var B=0;B<this.count;B++)if(this.stopOffsets[B]>=Z){this.stopOffsets.splice(B,0,Z),this.classNames.splice(B,0,ne),this.metadata.splice(B,0,V);break}this.count++}}],[{key:"_metadata",value:function(Z){for(var ne=0,V=0,B=Z.length;V<B;V++)ne|=Z[V];return ne}}]),Y}(),_=function(){function Y(){Object(we.a)(this,Y)}return Object(w.a)(Y,null,[{key:"normalize",value:function(Z,ne){if(ne.length===0)return[];for(var V=[],B=new $,F=0,W=0,N=ne.length;W<N;W++){var H=ne[W],d=H.startColumn,D=H.endColumn,C=H.className,x=H.type===1?2:H.type===2?4:0;if(d>1){var O=Z.charCodeAt(d-2);ve.F(O)&&d--}if(D>1){var T=Z.charCodeAt(D-2);ve.F(T)&&D--}var z=d-1,I=D-2;F=B.consumeLowerThan(z,F,V),B.count===0&&(F=z),B.insert(I,C,x)}return B.consumeLowerThan(1073741824,F,V),V}}]),Y}()},"db+f":function(mn,U,a){"use strict";a.d(U,"a",function(){return we}),a.d(U,"b",function(){return w});var ce=a("Cg/j"),we=Object(ce.c)("textResourceConfigurationService"),w=Object(ce.c)("textResourcePropertiesService")},ddRO:function(mn,U,a){"use strict";a.d(U,"c",function(){return Re}),a.d(U,"a",function(){return Qe}),a.d(U,"b",function(){return $e});/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function ce(He){if(Array.isArray(He)){for(var Ge=0,Je=Array(He.length);Ge<He.length;Ge++)Je[Ge]=He[Ge];return Je}else return Array.from(He)}var we=Object.hasOwnProperty,w=Object.setPrototypeOf,ve=Object.isFrozen,se=Object.getPrototypeOf,te=Object.getOwnPropertyDescriptor,$=Object.freeze,_=Object.seal,Y=Object.create,E=typeof Reflect!="undefined"&&Reflect,Z=E.apply,ne=E.construct;Z||(Z=function(Ge,Je,ft){return Ge.apply(Je,ft)}),$||($=function(Ge){return Ge}),_||(_=function(Ge){return Ge}),ne||(ne=function(Ge,Je){return new(Function.prototype.bind.apply(Ge,[null].concat(ce(Je))))});var V=O(Array.prototype.forEach),B=O(Array.prototype.pop),F=O(Array.prototype.push),W=O(String.prototype.toLowerCase),N=O(String.prototype.match),H=O(String.prototype.replace),d=O(String.prototype.indexOf),D=O(String.prototype.trim),C=O(RegExp.prototype.test),x=T(TypeError);function O(He){return function(Ge){for(var Je=arguments.length,ft=Array(Je>1?Je-1:0),qt=1;qt<Je;qt++)ft[qt-1]=arguments[qt];return Z(He,Ge,ft)}}function T(He){return function(){for(var Ge=arguments.length,Je=Array(Ge),ft=0;ft<Ge;ft++)Je[ft]=arguments[ft];return ne(He,Je)}}function z(He,Ge){w&&w(He,null);for(var Je=Ge.length;Je--;){var ft=Ge[Je];if(typeof ft=="string"){var qt=W(ft);qt!==ft&&(ve(Ge)||(Ge[Je]=qt),ft=qt)}He[ft]=!0}return He}function I(He){var Ge=Y(null),Je=void 0;for(Je in He)Z(we,He,[Je])&&(Ge[Je]=He[Je]);return Ge}function de(He,Ge){for(;He!==null;){var Je=te(He,Ge);if(Je){if(Je.get)return O(Je.get);if(typeof Je.value=="function")return O(Je.value)}He=se(He)}function ft(qt){return console.warn("fallback value for",qt),null}return ft}var pe=$(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),fe=$(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ke=$(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),A=$(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=$(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),G=$(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),re=$(["#text"]),ae=$(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Q=$(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),J=$(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),me=$(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ge=_(/\{\{[\s\S]*|[\s\S]*\}\}/gm),L=_(/<%[\s\S]*|[\s\S]*%>/gm),De=_(/^data-[\-\w.\u00B7-\uFFFF]/),Ae=_(/^aria-[\-\w]+$/),Oe=_(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Pe=_(/^(?:\w+script|data):/i),Ne=_(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(He){return typeof He}:function(He){return He&&typeof Symbol=="function"&&He.constructor===Symbol&&He!==Symbol.prototype?"symbol":typeof He};function Xe(He){if(Array.isArray(He)){for(var Ge=0,Je=Array(He.length);Ge<He.length;Ge++)Je[Ge]=He[Ge];return Je}else return Array.from(He)}var Et=function(){return typeof window=="undefined"?null:window},Ft=function(Ge,Je){if((typeof Ge=="undefined"?"undefined":Fe(Ge))!=="object"||typeof Ge.createPolicy!="function")return null;var ft=null,qt="data-tt-policy-suffix";Je.currentScript&&Je.currentScript.hasAttribute(qt)&&(ft=Je.currentScript.getAttribute(qt));var bt="dompurify"+(ft?"#"+ft:"");try{return Ge.createPolicy(bt,{createHTML:function(rn){return rn}})}catch(Bt){return console.warn("TrustedTypes policy "+bt+" could not be created."),null}};function Ot(){var He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Et(),Ge=function(Cn){return Ot(Cn)};if(Ge.version="2.3.1",Ge.removed=[],!He||!He.document||He.document.nodeType!==9)return Ge.isSupported=!1,Ge;var Je=He.document,ft=He.document,qt=He.DocumentFragment,bt=He.HTMLTemplateElement,Bt=He.Node,rn=He.Element,an=He.NodeFilter,In=He.NamedNodeMap,Dt=In===void 0?He.NamedNodeMap||He.MozNamedAttrMap:In,jn=He.Text,_n=He.Comment,Nn=He.DOMParser,ei=He.trustedTypes,kn=rn.prototype,Pn=de(kn,"cloneNode"),qi=de(kn,"nextSibling"),gi=de(kn,"childNodes"),ir=de(kn,"parentNode");if(typeof bt=="function"){var yi=ft.createElement("template");yi.content&&yi.content.ownerDocument&&(ft=yi.content.ownerDocument)}var mi=Ft(ei,Je),gr=mi&&En?mi.createHTML(""):"",zn=ft,Ki=zn.implementation,Bn=zn.createNodeIterator,ai=zn.createDocumentFragment,dn=zn.getElementsByTagName,Jn=Je.importNode,Yt={};try{Yt=I(ft).documentMode?ft.documentMode:{}}catch(_i){}var Ct={};Ge.isSupported=typeof ir=="function"&&Ki&&typeof Ki.createHTMLDocument!="undefined"&&Yt!==9;var Dn=ge,gn=L,en=De,yn=Ae,Qn=Pe,pi=Ne,Pt=Oe,yt=null,Rn=z({},[].concat(Xe(pe),Xe(fe),Xe(ke),Xe(P),Xe(re))),Sn=null,Ii=z({},[].concat(Xe(ae),Xe(Q),Xe(J),Xe(me))),Hi=null,wt=null,Pi=!0,Ut=!0,We=!1,Tn=!1,ar=!1,Br=!1,Yr=!1,ti=!1,bi=!1,Kn=!0,En=!1,Nt=!0,Gt=!0,mt=!1,Ye={},vn=null,nt=z({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ze=null,Zt=z({},["audio","video","img","source","image","track"]),hn=null,Ht=z({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),lt="http://www.w3.org/1998/Math/MathML",si="http://www.w3.org/2000/svg",Oi="http://www.w3.org/1999/xhtml",Ji=Oi,Wi=!1,Yi=null,Bi=ft.createElement("form"),Gi=function(Cn){Yi&&Yi===Cn||((!Cn||(typeof Cn=="undefined"?"undefined":Fe(Cn))!=="object")&&(Cn={}),Cn=I(Cn),yt="ALLOWED_TAGS"in Cn?z({},Cn.ALLOWED_TAGS):Rn,Sn="ALLOWED_ATTR"in Cn?z({},Cn.ALLOWED_ATTR):Ii,hn="ADD_URI_SAFE_ATTR"in Cn?z(I(Ht),Cn.ADD_URI_SAFE_ATTR):Ht,Ze="ADD_DATA_URI_TAGS"in Cn?z(I(Zt),Cn.ADD_DATA_URI_TAGS):Zt,vn="FORBID_CONTENTS"in Cn?z({},Cn.FORBID_CONTENTS):nt,Hi="FORBID_TAGS"in Cn?z({},Cn.FORBID_TAGS):{},wt="FORBID_ATTR"in Cn?z({},Cn.FORBID_ATTR):{},Ye="USE_PROFILES"in Cn?Cn.USE_PROFILES:!1,Pi=Cn.ALLOW_ARIA_ATTR!==!1,Ut=Cn.ALLOW_DATA_ATTR!==!1,We=Cn.ALLOW_UNKNOWN_PROTOCOLS||!1,Tn=Cn.SAFE_FOR_TEMPLATES||!1,ar=Cn.WHOLE_DOCUMENT||!1,ti=Cn.RETURN_DOM||!1,bi=Cn.RETURN_DOM_FRAGMENT||!1,Kn=Cn.RETURN_DOM_IMPORT!==!1,En=Cn.RETURN_TRUSTED_TYPE||!1,Yr=Cn.FORCE_BODY||!1,Nt=Cn.SANITIZE_DOM!==!1,Gt=Cn.KEEP_CONTENT!==!1,mt=Cn.IN_PLACE||!1,Pt=Cn.ALLOWED_URI_REGEXP||Pt,Ji=Cn.NAMESPACE||Oi,Tn&&(Ut=!1),bi&&(ti=!0),Ye&&(yt=z({},[].concat(Xe(re))),Sn=[],Ye.html===!0&&(z(yt,pe),z(Sn,ae)),Ye.svg===!0&&(z(yt,fe),z(Sn,Q),z(Sn,me)),Ye.svgFilters===!0&&(z(yt,ke),z(Sn,Q),z(Sn,me)),Ye.mathMl===!0&&(z(yt,P),z(Sn,J),z(Sn,me))),Cn.ADD_TAGS&&(yt===Rn&&(yt=I(yt)),z(yt,Cn.ADD_TAGS)),Cn.ADD_ATTR&&(Sn===Ii&&(Sn=I(Sn)),z(Sn,Cn.ADD_ATTR)),Cn.ADD_URI_SAFE_ATTR&&z(hn,Cn.ADD_URI_SAFE_ATTR),Cn.FORBID_CONTENTS&&(vn===nt&&(vn=I(vn)),z(vn,Cn.FORBID_CONTENTS)),Gt&&(yt["#text"]=!0),ar&&z(yt,["html","head","body"]),yt.table&&(z(yt,["tbody"]),delete Hi.tbody),$&&$(Cn),Yi=Cn)},Gr=z({},["mi","mo","mn","ms","mtext"]),kr=z({},["foreignobject","desc","title","annotation-xml"]),sa=z({},fe);z(sa,ke),z(sa,A);var Fr=z({},P);z(Fr,G);var ua=function(Cn){var ui=ir(Cn);(!ui||!ui.tagName)&&(ui={namespaceURI:Oi,tagName:"template"});var Si=W(Cn.tagName),Ui=W(ui.tagName);if(Cn.namespaceURI===si)return ui.namespaceURI===Oi?Si==="svg":ui.namespaceURI===lt?Si==="svg"&&(Ui==="annotation-xml"||Gr[Ui]):Boolean(sa[Si]);if(Cn.namespaceURI===lt)return ui.namespaceURI===Oi?Si==="math":ui.namespaceURI===si?Si==="math"&&kr[Ui]:Boolean(Fr[Si]);if(Cn.namespaceURI===Oi){if(ui.namespaceURI===si&&!kr[Ui]||ui.namespaceURI===lt&&!Gr[Ui])return!1;var Lr=z({},["title","style","font","a","script"]);return!Fr[Si]&&(Lr[Si]||!sa[Si])}return!1},pn=function(Cn){F(Ge.removed,{element:Cn});try{Cn.parentNode.removeChild(Cn)}catch(ui){try{Cn.outerHTML=gr}catch(Si){Cn.remove()}}},Ln=function(Cn,ui){try{F(Ge.removed,{attribute:ui.getAttributeNode(Cn),from:ui})}catch(Si){F(Ge.removed,{attribute:null,from:ui})}if(ui.removeAttribute(Cn),Cn==="is"&&!Sn[Cn])if(ti||bi)try{pn(ui)}catch(Si){}else try{ui.setAttribute(Cn,"")}catch(Si){}},ct=function(Cn){var ui=void 0,Si=void 0;if(Yr)Cn="<remove></remove>"+Cn;else{var Ui=N(Cn,/^[\r\n\t ]+/);Si=Ui&&Ui[0]}var Lr=mi?mi.createHTML(Cn):Cn;if(Ji===Oi)try{ui=new Nn().parseFromString(Lr,"text/html")}catch(Er){}if(!ui||!ui.documentElement){ui=Ki.createDocument(Ji,"template",null);try{ui.documentElement.innerHTML=Wi?"":Lr}catch(Er){}}var or=ui.body||ui.documentElement;return Cn&&Si&&or.insertBefore(ft.createTextNode(Si),or.childNodes[0]||null),Ji===Oi?dn.call(ui,ar?"html":"body")[0]:ar?ui.documentElement:or},Mt=function(Cn){return Bn.call(Cn.ownerDocument||Cn,Cn,an.SHOW_ELEMENT|an.SHOW_COMMENT|an.SHOW_TEXT,null,!1)},At=function(Cn){return Cn instanceof jn||Cn instanceof _n?!1:typeof Cn.nodeName!="string"||typeof Cn.textContent!="string"||typeof Cn.removeChild!="function"||!(Cn.attributes instanceof Dt)||typeof Cn.removeAttribute!="function"||typeof Cn.setAttribute!="function"||typeof Cn.namespaceURI!="string"||typeof Cn.insertBefore!="function"},zt=function(Cn){return(typeof Bt=="undefined"?"undefined":Fe(Bt))==="object"?Cn instanceof Bt:Cn&&(typeof Cn=="undefined"?"undefined":Fe(Cn))==="object"&&typeof Cn.nodeType=="number"&&typeof Cn.nodeName=="string"},$t=function(Cn,ui,Si){!Ct[Cn]||V(Ct[Cn],function(Ui){Ui.call(Ge,ui,Si,Yi)})},Un=function(Cn){var ui=void 0;if($t("beforeSanitizeElements",Cn,null),At(Cn)||N(Cn.nodeName,/[\u0080-\uFFFF]/))return pn(Cn),!0;var Si=W(Cn.nodeName);if($t("uponSanitizeElement",Cn,{tagName:Si,allowedTags:yt}),!zt(Cn.firstElementChild)&&(!zt(Cn.content)||!zt(Cn.content.firstElementChild))&&C(/<[/\w]/g,Cn.innerHTML)&&C(/<[/\w]/g,Cn.textContent)||Si==="select"&&C(/<template/i,Cn.innerHTML))return pn(Cn),!0;if(!yt[Si]||Hi[Si]){if(Gt&&!vn[Si]){var Ui=ir(Cn)||Cn.parentNode,Lr=gi(Cn)||Cn.childNodes;if(Lr&&Ui)for(var or=Lr.length,Er=or-1;Er>=0;--Er)Ui.insertBefore(Pn(Lr[Er],!0),qi(Cn))}return pn(Cn),!0}return Cn instanceof rn&&!ua(Cn)||(Si==="noscript"||Si==="noembed")&&C(/<\/no(script|embed)/i,Cn.innerHTML)?(pn(Cn),!0):(Tn&&Cn.nodeType===3&&(ui=Cn.textContent,ui=H(ui,Dn," "),ui=H(ui,gn," "),Cn.textContent!==ui&&(F(Ge.removed,{element:Cn.cloneNode()}),Cn.textContent=ui)),$t("afterSanitizeElements",Cn,null),!1)},Vn=function(Cn,ui,Si){if(Nt&&(ui==="id"||ui==="name")&&(Si in ft||Si in Bi))return!1;if(!(Ut&&!wt[ui]&&C(en,ui))){if(!(Pi&&C(yn,ui))){if(!Sn[ui]||wt[ui])return!1;if(!hn[ui]){if(!C(Pt,H(Si,pi,""))){if(!((ui==="src"||ui==="xlink:href"||ui==="href")&&Cn!=="script"&&d(Si,"data:")===0&&Ze[Cn])){if(!(We&&!C(Qn,H(Si,pi,"")))){if(Si)return!1}}}}}}return!0},Gn=function(Cn){var ui=void 0,Si=void 0,Ui=void 0,Lr=void 0;$t("beforeSanitizeAttributes",Cn,null);var or=Cn.attributes;if(!!or){var Er={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Sn};for(Lr=or.length;Lr--;){ui=or[Lr];var vr=ui,on=vr.name,Wn=vr.namespaceURI;if(Si=D(ui.value),Ui=W(on),Er.attrName=Ui,Er.attrValue=Si,Er.keepAttr=!0,Er.forceKeepAttr=void 0,$t("uponSanitizeAttribute",Cn,Er),Si=Er.attrValue,!Er.forceKeepAttr&&(Ln(on,Cn),!!Er.keepAttr)){if(C(/\/>/i,Si)){Ln(on,Cn);continue}Tn&&(Si=H(Si,Dn," "),Si=H(Si,gn," "));var Zn=Cn.nodeName.toLowerCase();if(!!Vn(Zn,Ui,Si))try{Wn?Cn.setAttributeNS(Wn,on,Si):Cn.setAttribute(on,Si),B(Ge.removed)}catch(Li){}}}$t("afterSanitizeAttributes",Cn,null)}},oi=function _i(Cn){var ui=void 0,Si=Mt(Cn);for($t("beforeSanitizeShadowDOM",Cn,null);ui=Si.nextNode();)$t("uponSanitizeShadowNode",ui,null),!Un(ui)&&(ui.content instanceof qt&&_i(ui.content),Gn(ui));$t("afterSanitizeShadowDOM",Cn,null)};return Ge.sanitize=function(_i,Cn){var ui=void 0,Si=void 0,Ui=void 0,Lr=void 0,or=void 0;if(Wi=!_i,Wi&&(_i="<!-->"),typeof _i!="string"&&!zt(_i)){if(typeof _i.toString!="function")throw x("toString is not a function");if(_i=_i.toString(),typeof _i!="string")throw x("dirty is not a string, aborting")}if(!Ge.isSupported){if(Fe(He.toStaticHTML)==="object"||typeof He.toStaticHTML=="function"){if(typeof _i=="string")return He.toStaticHTML(_i);if(zt(_i))return He.toStaticHTML(_i.outerHTML)}return _i}if(Br||Gi(Cn),Ge.removed=[],typeof _i=="string"&&(mt=!1),!mt)if(_i instanceof Bt)ui=ct("<!---->"),Si=ui.ownerDocument.importNode(_i,!0),Si.nodeType===1&&Si.nodeName==="BODY"||Si.nodeName==="HTML"?ui=Si:ui.appendChild(Si);else{if(!ti&&!Tn&&!ar&&_i.indexOf("<")===-1)return mi&&En?mi.createHTML(_i):_i;if(ui=ct(_i),!ui)return ti?null:gr}ui&&Yr&&pn(ui.firstChild);for(var Er=Mt(mt?_i:ui);Ui=Er.nextNode();)Ui.nodeType===3&&Ui===Lr||Un(Ui)||(Ui.content instanceof qt&&oi(Ui.content),Gn(Ui),Lr=Ui);if(Lr=null,mt)return _i;if(ti){if(bi)for(or=ai.call(ui.ownerDocument);ui.firstChild;)or.appendChild(ui.firstChild);else or=ui;return Kn&&(or=Jn.call(Je,or,!0)),or}var vr=ar?ui.outerHTML:ui.innerHTML;return Tn&&(vr=H(vr,Dn," "),vr=H(vr,gn," ")),mi&&En?mi.createHTML(vr):vr},Ge.setConfig=function(_i){Gi(_i),Br=!0},Ge.clearConfig=function(){Yi=null,Br=!1},Ge.isValidAttribute=function(_i,Cn,ui){Yi||Gi({});var Si=W(_i),Ui=W(Cn);return Vn(Si,Ui,ui)},Ge.addHook=function(_i,Cn){typeof Cn=="function"&&(Ct[_i]=Ct[_i]||[],F(Ct[_i],Cn))},Ge.removeHook=function(_i){Ct[_i]&&B(Ct[_i])},Ge.removeHooks=function(_i){Ct[_i]&&(Ct[_i]=[])},Ge.removeAllHooks=function(){Ct={}},Ge}var pt=Ot(),Lt=pt,et=pt.version,Vt=pt.isSupported,Re=pt.sanitize,Ce=pt.setConfig,ye=pt.clearConfig,Te=pt.isValidAttribute,Qe=pt.addHook,$e=pt.removeHook,ze=pt.removeHooks,ot=pt.removeAllHooks},df8c:function(mn,U,a){},dfpW:function(mn,U,a){"use strict";a.d(U,"a",function(){return $});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("0/Sa"),se=a("aokT"),te=a("OQeR"),$=function(){function _(){Object(we.a)(this,_)}return Object(w.a)(_,null,[{key:"_handleEolEdits",value:function(E,Z){var ne=void 0,V=[],B=Object(ce.a)(Z),F;try{for(B.s();!(F=B.n()).done;){var W=F.value;typeof W.eol=="number"&&(ne=W.eol),W.range&&typeof W.text=="string"&&V.push(W)}}catch(N){B.e(N)}finally{B.f()}return typeof ne=="number"&&E.hasModel()&&E.getModel().pushEOL(ne),V}},{key:"_isFullModelReplaceEdit",value:function(E,Z){if(!E.hasModel())return!1;var ne=E.getModel(),V=ne.validateRange(Z.range),B=ne.getFullModelRange();return B.equalsRange(V)}},{key:"execute",value:function(E,Z,ne){ne&&E.pushUndoStop();var V=te.a.capture(E),B=_._handleEolEdits(E,Z);B.length===1&&_._isFullModelReplaceEdit(E,B[0])?E.executeEdits("formatEditsCommand",B.map(function(F){return ve.a.replace(se.a.lift(F.range),F.text)})):E.executeEdits("formatEditsCommand",B.map(function(F){return ve.a.replaceMove(se.a.lift(F.range),F.text)})),ne&&E.pushUndoStop(),V.restoreRelativeVerticalPositionOfCursor(E)}}]),_}()},dzw2:function(mn,U,a){},e0E1:function(mn,U,a){"use strict";a.d(U,"e",function(){return Pe}),a.d(U,"d",function(){return Ne}),a.d(U,"a",function(){return Fe}),a.d(U,"b",function(){return Xe}),a.d(U,"c",function(){return Vt});var ce=a("rAM+"),we=a("tS8v"),w=a("yKVA"),ve=a("879j"),se=a("fWQN"),te=a("mtLc"),$=a("EffR"),_=a("D3Dy"),Y=a("zrhQ"),E=a("MI8n"),Z=a("LloX"),ne=a("VGTv"),V=Object(te.a)(function Re(Ce,ye,Te,Qe,$e){Object(se.a)(this,Re),this._parsedThemeRuleBrand=void 0,this.token=Ce,this.index=ye,this.fontStyle=Te,this.foreground=Qe,this.background=$e});function B(Re){if(!Re||!Array.isArray(Re))return[];for(var Ce=[],ye=0,Te=0,Qe=Re.length;Te<Qe;Te++){var $e=Re[Te],ze=-1;if(typeof $e.fontStyle=="string"){ze=0;for(var ot=$e.fontStyle.split(" "),He=0,Ge=ot.length;He<Ge;He++){var Je=ot[He];switch(Je){case"italic":ze=ze|1;break;case"bold":ze=ze|2;break;case"underline":ze=ze|4;break;case"strikethrough":ze=ze|8;break}}}var ft=null;typeof $e.foreground=="string"&&(ft=$e.foreground);var qt=null;typeof $e.background=="string"&&(qt=$e.background),Ce[ye++]=new V($e.token||"",Te,ze,ft,qt)}return Ce}function F(Re,Ce){Re.sort(function(In,Dt){var jn=C(In.token,Dt.token);return jn!==0?jn:In.index-Dt.index});for(var ye=0,Te="000000",Qe="ffffff";Re.length>=1&&Re[0].token==="";){var $e=Re.shift();$e.fontStyle!==-1&&(ye=$e.fontStyle),$e.foreground!==null&&(Te=$e.foreground),$e.background!==null&&(Qe=$e.background)}var ze=new N,ot=Object(ce.a)(Ce),He;try{for(ot.s();!(He=ot.n()).done;){var Ge=He.value;ze.getId(Ge)}}catch(In){ot.e(In)}finally{ot.f()}for(var Je=ze.getId(Te),ft=ze.getId(Qe),qt=new x(ye,Je,ft),bt=new O(qt),Bt=0,rn=Re.length;Bt<rn;Bt++){var an=Re[Bt];bt.insert(an.token,an.fontStyle,ze.getId(an.foreground),ze.getId(an.background))}return new H(ze,bt)}var W=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,N=function(){function Re(){Object(se.a)(this,Re),this._lastColorId=0,this._id2color=[],this._color2id=new Map}return Object(te.a)(Re,[{key:"getId",value:function(ye){if(ye===null)return 0;var Te=ye.match(W);if(!Te)throw new Error("Illegal value for token color: "+ye);ye=Te[1].toUpperCase();var Qe=this._color2id.get(ye);return Qe||(Qe=++this._lastColorId,this._color2id.set(ye,Qe),this._id2color[Qe]=Y.a.fromHex("#"+ye),Qe)}},{key:"getColorMap",value:function(){return this._id2color.slice(0)}}]),Re}(),H=function(){function Re(Ce,ye){Object(se.a)(this,Re),this._colorMap=Ce,this._root=ye,this._cache=new Map}return Object(te.a)(Re,[{key:"getColorMap",value:function(){return this._colorMap.getColorMap()}},{key:"_match",value:function(ye){return this._root.match(ye)}},{key:"match",value:function(ye,Te){var Qe=this._cache.get(Te);if(typeof Qe=="undefined"){var $e=this._match(Te),ze=D(Te);Qe=($e.metadata|ze<<8)>>>0,this._cache.set(Te,Qe)}return(Qe|ye<<0)>>>0}}],[{key:"createFromRawTokenTheme",value:function(ye,Te){return this.createFromParsedTokenTheme(B(ye),Te)}},{key:"createFromParsedTokenTheme",value:function(ye,Te){return F(ye,Te)}}]),Re}(),d=/\b(comment|string|regex|regexp)\b/;function D(Re){var Ce=Re.match(d);if(!Ce)return 0;switch(Ce[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function C(Re,Ce){return Re<Ce?-1:Re>Ce?1:0}var x=function(){function Re(Ce,ye,Te){Object(se.a)(this,Re),this._themeTrieElementRuleBrand=void 0,this._fontStyle=Ce,this._foreground=ye,this._background=Te,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}return Object(te.a)(Re,[{key:"clone",value:function(){return new Re(this._fontStyle,this._foreground,this._background)}},{key:"acceptOverwrite",value:function(ye,Te,Qe){ye!==-1&&(this._fontStyle=ye),Te!==0&&(this._foreground=Te),Qe!==0&&(this._background=Qe),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}]),Re}(),O=function(){function Re(Ce){Object(se.a)(this,Re),this._themeTrieElementBrand=void 0,this._mainRule=Ce,this._children=new Map}return Object(te.a)(Re,[{key:"match",value:function(ye){if(ye==="")return this._mainRule;var Te=ye.indexOf("."),Qe,$e;Te===-1?(Qe=ye,$e=""):(Qe=ye.substring(0,Te),$e=ye.substring(Te+1));var ze=this._children.get(Qe);return typeof ze!="undefined"?ze.match($e):this._mainRule}},{key:"insert",value:function(ye,Te,Qe,$e){if(ye===""){this._mainRule.acceptOverwrite(Te,Qe,$e);return}var ze=ye.indexOf("."),ot,He;ze===-1?(ot=ye,He=""):(ot=ye.substring(0,ze),He=ye.substring(ze+1));var Ge=this._children.get(ot);typeof Ge=="undefined"&&(Ge=new Re(this._mainRule.clone()),this._children.set(ot,Ge)),Ge.insert(He,Te,Qe,$e)}}]),Re}();function T(Re){for(var Ce=[],ye=1,Te=Re.length;ye<Te;ye++){var Qe=Re[ye];Ce[ye]=".mtk".concat(ye," { color: ").concat(Qe,"; }")}return Ce.push(".mtki { font-style: italic; }"),Ce.push(".mtkb { font-weight: bold; }"),Ce.push(".mtku { text-decoration: underline; text-underline-position: under; }"),Ce.push(".mtks { text-decoration: line-through; }"),Ce.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),Ce.join(`
`)}var z=a("jrin"),I=a("3IFt"),de=a("MD5Z"),pe,fe,ke,A,P={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:(pe={},Object(z.a)(pe,de.F,"#FFFFFE"),Object(z.a)(pe,de.O,"#000000"),Object(z.a)(pe,de.S,"#E5EBF1"),Object(z.a)(pe,I.x,"#D3D3D3"),Object(z.a)(pe,I.a,"#939393"),Object(z.a)(pe,de.db,"#ADD6FF4D"),pe)},G={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(fe={},Object(z.a)(fe,de.F,"#1E1E1E"),Object(z.a)(fe,de.O,"#D4D4D4"),Object(z.a)(fe,de.S,"#3A3D41"),Object(z.a)(fe,I.x,"#404040"),Object(z.a)(fe,I.a,"#707070"),Object(z.a)(fe,de.db,"#ADD6FF26"),fe)},re={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(ke={},Object(z.a)(ke,de.F,"#000000"),Object(z.a)(ke,de.O,"#FFFFFF"),Object(z.a)(ke,I.x,"#FFFFFF"),Object(z.a)(ke,I.a,"#FFFFFF"),ke)},ae={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:(A={},Object(z.a)(A,de.F,"#FFFFFF"),Object(z.a)(A,de.O,"#292929"),Object(z.a)(A,I.x,"#292929"),Object(z.a)(A,I.a,"#292929"),A)},Q=a("ic2d"),J=a("t9D7"),me=a("pmY6"),ge=a("nEHx"),L=a("T5lh"),De=a("v1vZ");function Ae(Re){var Ce=new E.b,ye=Object(De.a)();return ye.onDidChange(function(){return Ce.fire()}),Re==null||Re.onDidProductIconThemeChange(function(){return Ce.fire()}),{onDidChange:Ce.event,getCSS:function(){var Qe=Re?Re.getProductIconTheme():new Oe,$e={},ze=function(Dt){var jn=Qe.getIcon(Dt);if(!!jn){var _n=jn.font;return _n?($e[_n.id]=_n.definition,".codicon-".concat(Dt.id,":before { content: '").concat(jn.fontCharacter,"'; font-family: ").concat(Object($.asCSSPropertyValue)(_n.id),"; }")):".codicon-".concat(Dt.id,":before { content: '").concat(jn.fontCharacter,"'; }")}},ot=[],He=Object(ce.a)(ye.getIcons()),Ge;try{for(He.s();!(Ge=He.n()).done;){var Je=Ge.value,ft=ze(Je);ft&&ot.push(ft)}}catch(In){He.e(In)}finally{He.f()}for(var qt in $e){var bt=$e[qt],Bt=bt.weight?"font-weight: ".concat(bt.weight,";"):"",rn=bt.style?"font-style: ".concat(bt.style,";"):"",an=bt.src.map(function(In){return"".concat(Object($.asCSSUrl)(In.location)," format('").concat(In.format,"')")}).join(", ");ot.push("@font-face { src: ".concat(an,"; font-family: ").concat(Object($.asCSSPropertyValue)(qt),";").concat(Bt).concat(rn," font-display: block; }"))}return ot.join(`
`)}}}var Oe=function(){function Re(){Object(se.a)(this,Re)}return Object(te.a)(Re,[{key:"getIcon",value:function(ye){for(var Te=Object(De.a)(),Qe=ye.defaults;L.a.isThemeIcon(Qe);){var $e=Te.getIcon(Qe.id);if(!$e)return;Qe=$e.defaults}return Qe}}]),Re}(),Pe="vs",Ne="vs-dark",Fe="hc-black",Xe="hc-light",Et=Q.a.as(de.a.ColorContribution),Ft=Q.a.as(J.a.ThemingContribution),Ot=function(){function Re(Ce,ye){Object(se.a)(this,Re),this.semanticHighlighting=!1,this.themeData=ye;var Te=ye.base;Ce.length>0?(pt(Ce)?this.id=Ce:this.id=Te+" "+Ce,this.themeName=Ce):(this.id=Te,this.themeName=Te),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}return Object(te.a)(Re,[{key:"base",get:function(){return this.themeData.base}},{key:"notifyBaseUpdated",value:function(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}},{key:"getColors",value:function(){if(!this.colors){var ye=new Map;for(var Te in this.themeData.colors)ye.set(Te,Y.a.fromHex(this.themeData.colors[Te]));if(this.themeData.inherit){var Qe=Lt(this.themeData.base);for(var $e in Qe.colors)ye.has($e)||ye.set($e,Y.a.fromHex(Qe.colors[$e]))}this.colors=ye}return this.colors}},{key:"getColor",value:function(ye,Te){var Qe=this.getColors().get(ye);if(Qe)return Qe;if(Te!==!1)return this.getDefault(ye)}},{key:"getDefault",value:function(ye){var Te=this.defaultColors[ye];return Te||(Te=Et.resolveDefaultColor(ye,this),this.defaultColors[ye]=Te,Te)}},{key:"defines",value:function(ye){return this.getColors().has(ye)}},{key:"type",get:function(){switch(this.base){case Pe:return ge.a.LIGHT;case Fe:return ge.a.HIGH_CONTRAST_DARK;case Xe:return ge.a.HIGH_CONTRAST_LIGHT;default:return ge.a.DARK}}},{key:"tokenTheme",get:function(){if(!this._tokenTheme){var ye=[],Te=[];if(this.themeData.inherit){var Qe=Lt(this.themeData.base);ye=Qe.rules,Qe.encodedTokensColors&&(Te=Qe.encodedTokensColors)}var $e=this.themeData.colors["editor.foreground"],ze=this.themeData.colors["editor.background"];if($e||ze){var ot={token:""};$e&&(ot.foreground=$e),ze&&(ot.background=ze),ye.push(ot)}ye=ye.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(Te=this.themeData.encodedTokensColors),this._tokenTheme=H.createFromRawTokenTheme(ye,Te)}return this._tokenTheme}},{key:"getTokenStyleMetadata",value:function(ye,Te,Qe){var $e=this.tokenTheme._match([ye].concat(Te).join(".")),ze=$e.metadata,ot=ne.a.getForeground(ze),He=ne.a.getFontStyle(ze);return{foreground:ot,italic:Boolean(He&1),bold:Boolean(He&2),underline:Boolean(He&4),strikethrough:Boolean(He&8)}}}]),Re}();function pt(Re){return Re===Pe||Re===Ne||Re===Fe||Re===Xe}function Lt(Re){switch(Re){case Pe:return P;case Ne:return G;case Fe:return re;case Xe:return ae}}function et(Re){var Ce=Lt(Re);return new Ot(Re,Ce)}var Vt=function(Re){Object(w.a)(ye,Re);var Ce=Object(ve.a)(ye);function ye(){var Te;Object(se.a)(this,ye),Te=Ce.call(this),Te._onColorThemeChange=Te._register(new E.b),Te.onDidColorThemeChange=Te._onColorThemeChange.event,Te._onProductIconThemeChange=Te._register(new E.b),Te.onDidProductIconThemeChange=Te._onProductIconThemeChange.event,Te._environment=Object.create(null),Te._builtInProductIconTheme=new Oe,Te._autoDetectHighContrast=!0,Te._knownThemes=new Map,Te._knownThemes.set(Pe,et(Pe)),Te._knownThemes.set(Ne,et(Ne)),Te._knownThemes.set(Fe,et(Fe)),Te._knownThemes.set(Xe,et(Xe));var Qe=Ae(Object(we.a)(Te));return Te._codiconCSS=Qe.getCSS(),Te._themeCSS="",Te._allCSS="".concat(Te._codiconCSS,`
`).concat(Te._themeCSS),Te._globalStyleElement=null,Te._styleElements=[],Te._colorMapOverride=null,Te.setTheme(Pe),Te._onOSSchemeChanged(),Qe.onDidChange(function(){Te._codiconCSS=Qe.getCSS(),Te._updateCSS()}),Object(_.addMatchMediaChangeListener)("(forced-colors: active)",function(){Te._onOSSchemeChanged()}),Te}return Object(te.a)(ye,[{key:"registerEditorContainer",value:function(Qe){return $.isInShadowDOM(Qe)?this._registerShadowDomContainer(Qe):this._registerRegularEditorContainer()}},{key:"_registerRegularEditorContainer",value:function(){var Qe=this;return this._globalStyleElement||(this._globalStyleElement=$.createStyleSheet(void 0,function($e){$e.className="monaco-colors",$e.textContent=Qe._allCSS}),this._styleElements.push(this._globalStyleElement)),me.a.None}},{key:"_registerShadowDomContainer",value:function(Qe){var $e=this,ze=$.createStyleSheet(Qe,function(ot){ot.className="monaco-colors",ot.textContent=$e._allCSS});return this._styleElements.push(ze),{dispose:function(){for(var He=0;He<$e._styleElements.length;He++)if($e._styleElements[He]===ze){$e._styleElements.splice(He,1);return}}}}},{key:"defineTheme",value:function(Qe,$e){if(!/^[a-z0-9\-]+$/i.test(Qe))throw new Error("Illegal theme name!");if(!pt($e.base)&&!pt(Qe))throw new Error("Illegal theme base!");this._knownThemes.set(Qe,new Ot(Qe,$e)),pt(Qe)&&this._knownThemes.forEach(function(ze){ze.base===Qe&&ze.notifyBaseUpdated()}),this._theme.themeName===Qe&&this.setTheme(Qe)}},{key:"getColorTheme",value:function(){return this._theme}},{key:"setColorMapOverride",value:function(Qe){this._colorMapOverride=Qe,this._updateThemeOrColorMap()}},{key:"setTheme",value:function(Qe){var $e;this._knownThemes.has(Qe)?$e=this._knownThemes.get(Qe):$e=this._knownThemes.get(Pe),this._updateActualTheme($e)}},{key:"_updateActualTheme",value:function(Qe){!Qe||this._theme===Qe||(this._theme=Qe,this._updateThemeOrColorMap())}},{key:"_onOSSchemeChanged",value:function(){if(this._autoDetectHighContrast){var Qe=window.matchMedia("(forced-colors: active)").matches;if(Qe!==Object(ge.c)(this._theme.type)){var $e;Object(ge.b)(this._theme.type)?$e=Qe?Fe:Ne:$e=Qe?Xe:Pe,this._updateActualTheme(this._knownThemes.get($e))}}}},{key:"setAutoDetectHighContrast",value:function(Qe){this._autoDetectHighContrast=Qe,this._onOSSchemeChanged()}},{key:"_updateThemeOrColorMap",value:function(){var Qe=this,$e=[],ze={},ot={addRule:function(rn){ze[rn]||($e.push(rn),ze[rn]=!0)}};Ft.getThemingParticipants().forEach(function(Bt){return Bt(Qe._theme,ot,Qe._environment)});var He=[],Ge=Object(ce.a)(Et.getColors()),Je;try{for(Ge.s();!(Je=Ge.n()).done;){var ft=Je.value,qt=this._theme.getColor(ft.id,!0);qt&&He.push("".concat(Object(de.d)(ft.id),": ").concat(qt.toString(),";"))}}catch(Bt){Ge.e(Bt)}finally{Ge.f()}ot.addRule(".monaco-editor { ".concat(He.join(`
`)," }"));var bt=this._colorMapOverride||this._theme.tokenTheme.getColorMap();ot.addRule(T(bt)),this._themeCSS=$e.join(`
`),this._updateCSS(),Z.m.setColorMap(bt),this._onColorThemeChange.fire(this._theme)}},{key:"_updateCSS",value:function(){var Qe=this;this._allCSS="".concat(this._codiconCSS,`
`).concat(this._themeCSS),this._styleElements.forEach(function($e){return $e.textContent=Qe._allCSS})}},{key:"getFileIconTheme",value:function(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}},{key:"getProductIconTheme",value:function(){return this._builtInProductIconTheme}}]),ye}(me.a)},eC1c:function(mn,U,a){},eLzo:function(mn,U,a){"use strict";a.d(U,"a",function(){return _}),a.d(U,"c",function(){return Y}),a.d(U,"d",function(){return E}),a.d(U,"e",function(){return Z}),a.d(U,"b",function(){return V}),a.d(U,"g",function(){return B}),a.d(U,"f",function(){return F});var ce=a("fWQN"),we=a("mtLc"),w=a("/cxE"),ve=a("EJc0"),se=a("gslv"),te=a("N0LK"),$=a("bY76"),_=function(){function W(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Object(ce.a)(this,W);var d,D,C;if(this.value=N,typeof this.value!="string")throw Object(w.e)("value");typeof H=="boolean"?(this.isTrusted=H,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(d=H.isTrusted)!==null&&d!==void 0?d:void 0,this.supportThemeIcons=(D=H.supportThemeIcons)!==null&&D!==void 0?D:!1,this.supportHtml=(C=H.supportHtml)!==null&&C!==void 0?C:!1)}return Object(we.a)(W,[{key:"appendText",value:function(H){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.value+=ne(this.supportThemeIcons?Object(ve.a)(H):H).replace(/([ \t]+)/g,function(D,C){return"&nbsp;".repeat(C.length)}).replace(/\>/gm,"\\>").replace(/\n/g,d===1?`\\
`:`

`),this}},{key:"appendMarkdown",value:function(H){return this.value+=H,this}},{key:"appendCodeblock",value:function(H,d){return this.value+="\n```",this.value+=H,this.value+=`
`,this.value+=d,this.value+="\n```\n",this}},{key:"appendLink",value:function(H,d,D){return this.value+="[",this.value+=this._escape(d,"]"),this.value+="](",this.value+=this._escape(String(H),")"),D&&(this.value+=' "'.concat(this._escape(this._escape(D,'"'),")"),'"')),this.value+=")",this}},{key:"_escape",value:function(H,d){var D=new RegExp(Object(te.t)(d),"g");return H.replace(D,function(C,x){return H.charAt(x-1)!=="\\"?"\\".concat(C):C})}}]),W}();function Y(W){return E(W)?!W.value:Array.isArray(W)?W.every(Y):!0}function E(W){return W instanceof _?!0:W&&typeof W=="object"?typeof W.value=="string"&&(typeof W.isTrusted=="boolean"||typeof W.isTrusted=="object"||W.isTrusted===void 0)&&(typeof W.supportThemeIcons=="boolean"||W.supportThemeIcons===void 0):!1}function Z(W,N){return W===N?!0:!W||!N?!1:W.value===N.value&&W.isTrusted===N.isTrusted&&W.supportThemeIcons===N.supportThemeIcons&&W.supportHtml===N.supportHtml&&(W.baseUri===N.baseUri||!!W.baseUri&&!!N.baseUri&&Object(se.g)($.a.from(W.baseUri),$.a.from(N.baseUri)))}function ne(W){return W.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function V(W){return W.replace(/"/g,"&quot;")}function B(W){return W&&W.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function F(W){var N=[],H=W.split("|").map(function(I){return I.trim()});W=H[0];var d=H[1];if(d){var D=/height=(\d+)/.exec(d),C=/width=(\d+)/.exec(d),x=D?D[1]:"",O=C?C[1]:"",T=isFinite(parseInt(O)),z=isFinite(parseInt(x));T&&N.push('width="'.concat(O,'"')),z&&N.push('height="'.concat(x,'"'))}return{href:W,dimensions:N}}},"eQg+":function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("markerDecorationsService")},eUTo:function(mn,U,a){"use strict";a.d(U,"d",function(){return me}),a.d(U,"c",function(){return ge}),a.d(U,"a",function(){return De}),a.d(U,"b",function(){return Ne});var ce=a("qLMh"),we=a("fWQN"),w=a("mtLc"),ve=a("w4Tj"),se=a("oZsa"),te=a("yKVA"),$=a("879j"),_=a("oBTY"),Y=a("rAM+"),E=a("tJVT"),Z=a("EffR"),ne=a("uDWl"),V=a("7/Ik"),B=a("cV9m"),F=a("8HAY"),W=a("i04g"),N=a("pmY6"),H=a("MNsG"),d=a("r6Ki"),D=a("3/fG"),C=a("fjLI");function x(Fe){return Fe?Fe.condition!==void 0:!1}var O=a("T8No"),T=a("Uzvx"),z=a("Cg/j"),I=a("bexQ"),de=a("sM1p"),pe=a("A+jI"),fe=a("t9D7"),ke=a("T5lh"),A=a("nEHx"),P=a("746U"),G=a("MD5Z"),re=a("99AM"),ae=function(Fe,Xe,Et,Ft){var Ot=arguments.length,pt=Ot<3?Xe:Ft===null?Ft=Object.getOwnPropertyDescriptor(Xe,Et):Ft,Lt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pt=Reflect.decorate(Fe,Xe,Et,Ft);else for(var et=Fe.length-1;et>=0;et--)(Lt=Fe[et])&&(pt=(Ot<3?Lt(pt):Ot>3?Lt(Xe,Et,pt):Lt(Xe,Et))||pt);return Ot>3&&pt&&Object.defineProperty(Xe,Et,pt),pt},Q=function(Fe,Xe){return function(Et,Ft){Xe(Et,Ft,Fe)}},J=function(Fe,Xe,Et,Ft){function Ot(pt){return pt instanceof Et?pt:new Et(function(Lt){Lt(pt)})}return new(Et||(Et=Promise))(function(pt,Lt){function et(Ce){try{Re(Ft.next(Ce))}catch(ye){Lt(ye)}}function Vt(Ce){try{Re(Ft.throw(Ce))}catch(ye){Lt(ye)}}function Re(Ce){Ce.done?pt(Ce.value):Ot(Ce.value).then(et,Vt)}Re((Ft=Ft.apply(Fe,Xe||[])).next())})};function me(Fe,Xe,Et,Ft){var Ot=Fe.getActions(Xe),pt=Z.ModifierKeyEmitter.getInstance(),Lt=pt.keyStatus.altKey||(H.o||H.g)&&pt.keyStatus.shiftKey;L(Ot,Et,Lt,Ft?function(et){return et===Ft}:function(et){return et==="navigation"})}function ge(Fe,Xe,Et,Ft,Ot,pt){var Lt=Fe.getActions(Xe),et=typeof Ft=="string"?function(Vt){return Vt===Ft}:Ft;L(Lt,Et,!1,et,Ot,pt)}function L(Fe,Xe,Et){var Ft=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(jn){return jn==="navigation"},Ot=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1},pt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,Lt,et;Array.isArray(Xe)?(Lt=Xe,et=Xe):(Lt=Xe.primary,et=Xe.secondary);var Vt=new Set,Re=Object(Y.a)(Fe),Ce;try{for(Re.s();!(Ce=Re.n()).done;){var ye=Ce.value,Te=Object(E.a)(ye,2),Qe=Te[0],$e=Te[1];{var ze=void 0;Ft(Qe)?(ze=Lt,ze.length>0&&pt&&ze.push(new F.d)):(ze=et,ze.length>0&&ze.push(new F.d));var ot=Object(Y.a)($e),He;try{for(ot.s();!(He=ot.n()).done;){var Ge=He.value;Et&&(Ge=Ge instanceof C.d&&Ge.alt?Ge.alt:Ge);var Je=ze.push(Ge);Ge instanceof F.e&&Vt.add({group:Qe,action:Ge,index:Je-1})}}catch(jn){ot.e(jn)}finally{ot.f()}}}}catch(jn){Re.e(jn)}finally{Re.f()}var ft=Object(Y.a)(Vt),qt;try{for(ft.s();!(qt=ft.n()).done;){var bt=qt.value,Bt=bt.group,rn=bt.action,an=bt.index;{var In=Ft(Bt)?Lt:et,Dt=rn.actions;Dt.length<=1&&Ot(rn,Bt,In.length)&&In.splice.apply(In,[an,1].concat(Object(_.a)(Dt)))}}}catch(jn){ft.e(jn)}finally{ft.f()}}var De=function(Fe){Object(te.a)(Et,Fe);var Xe=Object($.a)(Et);function Et(Ft,Ot,pt,Lt,et,Vt,Re){var Ce;return Object(we.a)(this,Et),Ce=Xe.call(this,void 0,Ft,{icon:!!(Ft.class||Ft.item.icon),label:!Ft.class&&!Ft.item.icon,draggable:Ot==null?void 0:Ot.draggable,keybinding:Ot==null?void 0:Ot.keybinding,hoverDelegate:Ot==null?void 0:Ot.hoverDelegate}),Ce._keybindingService=pt,Ce._notificationService=Lt,Ce._contextKeyService=et,Ce._themeService=Vt,Ce._contextMenuService=Re,Ce._wantsAltCommand=!1,Ce._itemClassDispose=Ce._register(new N.e),Ce._altKey=Z.ModifierKeyEmitter.getInstance(),Ce}return Object(w.a)(Et,[{key:"_menuItemAction",get:function(){return this._action}},{key:"_commandAction",get:function(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}},{key:"onClick",value:function(Ot){return J(this,void 0,void 0,Object(ce.a)().mark(function pt(){return Object(ce.a)().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return Ot.preventDefault(),Ot.stopPropagation(),et.prev=2,et.next=5,this.actionRunner.run(this._commandAction,this._context);case 5:et.next=10;break;case 7:et.prev=7,et.t0=et.catch(2),this._notificationService.error(et.t0);case 10:case"end":return et.stop()}},pt,this,[[2,7]])}))}},{key:"render",value:function(Ot){var pt=this;Object(ve.a)(Object(se.a)(Et.prototype),"render",this).call(this,Ot),Ot.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item);var Lt=!1,et=this._altKey.keyStatus.altKey||(H.o||H.g)&&this._altKey.keyStatus.shiftKey,Vt=function(){var Ce,ye=Lt&&et&&!!((Ce=pt._commandAction.alt)===null||Ce===void 0?void 0:Ce.enabled);ye!==pt._wantsAltCommand&&(pt._wantsAltCommand=ye,pt.updateLabel(),pt.updateTooltip(),pt.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(function(Re){et=Re.altKey||(H.o||H.g)&&Re.shiftKey,Vt()})),this._register(Object(Z.addDisposableListener)(Ot,"mouseleave",function(Re){Lt=!1,Vt()})),this._register(Object(Z.addDisposableListener)(Ot,"mouseenter",function(Re){Lt=!0,Vt()}))}},{key:"updateLabel",value:function(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}},{key:"getTooltip",value:function(){var Ot,pt=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),Lt=pt&&pt.getLabel(),et=this._commandAction.tooltip||this._commandAction.label,Vt=Lt?Object(D.b)("titleAndKb","{0} ({1})",et,Lt):et;if(!this._wantsAltCommand&&((Ot=this._menuItemAction.alt)===null||Ot===void 0?void 0:Ot.enabled)){var Re=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,Ce=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),ye=Ce&&Ce.getLabel(),Te=ye?Object(D.b)("titleAndKb","{0} ({1})",Re,ye):Re;Vt=Object(D.b)("titleAndKbAndAlt",`{0}
[{1}] {2}`,Vt,W.c.modifierLabels[H.a].altKey,Te)}return Vt}},{key:"updateClass",value:function(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}},{key:"_updateItemClass",value:function(Ot){var pt=this;this._itemClassDispose.value=void 0;var Lt=this.element,et=this.label;if(!(!Lt||!et)){var Vt=this._commandAction.checked&&x(Ot.toggled)&&Ot.toggled.icon?Ot.toggled.icon:Ot.icon;if(!!Vt)if(ke.a.isThemeIcon(Vt)){var Re,Ce=ke.a.asClassNameArray(Vt);(Re=et.classList).add.apply(Re,Object(_.a)(Ce)),this._itemClassDispose.value=Object(N.l)(function(){var ye;(ye=et.classList).remove.apply(ye,Object(_.a)(Ce))})}else et.style.backgroundImage=Object(A.b)(this._themeService.getColorTheme().type)?Object(Z.asCSSUrl)(Vt.dark):Object(Z.asCSSUrl)(Vt.light),et.classList.add("icon"),this._itemClassDispose.value=Object(N.h)(Object(N.l)(function(){et.style.backgroundImage="",et.classList.remove("icon")}),this._themeService.onDidColorThemeChange(function(){pt.updateClass()}))}}}]),Et}(V.a);De=ae([Q(2,I.a),Q(3,de.a),Q(4,O.b),Q(5,fe.b),Q(6,T.a)],De);var Ae=function(Fe){Object(te.a)(Et,Fe);var Xe=Object($.a)(Et);function Et(Ft,Ot,pt,Lt,et){var Vt;Object(we.a)(this,Et);var Re,Ce,ye,Te=Object.assign(Object.assign({},Ot),{menuAsChild:(Re=Ot==null?void 0:Ot.menuAsChild)!==null&&Re!==void 0?Re:!1,classNames:(Ce=Ot==null?void 0:Ot.classNames)!==null&&Ce!==void 0?Ce:ke.a.isThemeIcon(Ft.item.icon)?ke.a.asClassName(Ft.item.icon):void 0,keybindingProvider:(ye=Ot==null?void 0:Ot.keybindingProvider)!==null&&ye!==void 0?ye:function(Qe){return pt.lookupKeybinding(Qe.id)}});return Vt=Xe.call(this,Ft,{getActions:function(){return Ft.actions}},Lt,Te),Vt._keybindingService=pt,Vt._contextMenuService=Lt,Vt._themeService=et,Vt}return Object(w.a)(Et,[{key:"render",value:function(Ot){var pt=this;Object(ve.a)(Object(se.a)(Et.prototype),"render",this).call(this,Ot),Object(P.b)(this.element),Ot.classList.add("menu-entry");var Lt=this._action,et=Lt.item.icon;if(et&&!ke.a.isThemeIcon(et)){this.element.classList.add("icon");var Vt=function(){pt.element&&(pt.element.style.backgroundImage=Object(A.b)(pt._themeService.getColorTheme().type)?Object(Z.asCSSUrl)(et.dark):Object(Z.asCSSUrl)(et.light))};Vt(),this._register(this._themeService.onDidColorThemeChange(function(){Vt()}))}}}]),Et}(B.a);Ae=ae([Q(2,I.a),Q(3,T.a),Q(4,fe.b)],Ae);var Oe=function(Fe){Object(te.a)(Et,Fe);var Xe=Object($.a)(Et);function Et(Ft,Ot,pt,Lt,et,Vt,Re,Ce){var ye;Object(we.a)(this,Et);var Te,Qe,$e;ye=Xe.call(this,null,Ft),ye._keybindingService=pt,ye._notificationService=Lt,ye._contextMenuService=et,ye._menuService=Vt,ye._instaService=Re,ye._storageService=Ce,ye._container=null,ye._options=Ot,ye._storageKey="".concat(Ft.item.submenu.id,"_lastActionId");var ze,ot=(Ot==null?void 0:Ot.persistLastActionId)?Ce.get(ye._storageKey,1):void 0;ot&&(ze=Ft.actions.find(function(Ge){return ot===Ge.id})),ze||(ze=Ft.actions[0]),ye._defaultAction=ye._instaService.createInstance(De,ze,{keybinding:ye._getDefaultActionKeybindingLabel(ze)});var He=Object.assign(Object.assign({keybindingProvider:function(Je){return ye._keybindingService.lookupKeybinding(Je.id)}},Ot),{menuAsChild:(Te=Ot==null?void 0:Ot.menuAsChild)!==null&&Te!==void 0?Te:!0,classNames:(Qe=Ot==null?void 0:Ot.classNames)!==null&&Qe!==void 0?Qe:["codicon","codicon-chevron-down"],actionRunner:($e=Ot==null?void 0:Ot.actionRunner)!==null&&$e!==void 0?$e:new F.b});return ye._dropdown=new B.a(Ft,Ft.actions,ye._contextMenuService,He),ye._dropdown.actionRunner.onDidRun(function(Ge){Ge.action instanceof C.d&&ye.update(Ge.action)}),ye}return Object(w.a)(Et,[{key:"update",value:function(Ot){var pt;((pt=this._options)===null||pt===void 0?void 0:pt.persistLastActionId)&&this._storageService.store(this._storageKey,Ot.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(De,Ot,{keybinding:this._getDefaultActionKeybindingLabel(Ot)}),this._defaultAction.actionRunner=new(function(Lt){Object(te.a)(Vt,Lt);var et=Object($.a)(Vt);function Vt(){return Object(we.a)(this,Vt),et.apply(this,arguments)}return Object(w.a)(Vt,[{key:"runAction",value:function(Ce,ye){return J(this,void 0,void 0,Object(ce.a)().mark(function Te(){return Object(ce.a)().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return $e.next=2,Ce.run(void 0);case 2:case"end":return $e.stop()}},Te)}))}}]),Vt}(F.b)),this._container&&this._defaultAction.render(Object(Z.prepend)(this._container,Object(Z.$)(".action-container")))}},{key:"_getDefaultActionKeybindingLabel",value:function(Ot){var pt,Lt;if((pt=this._options)===null||pt===void 0?void 0:pt.renderKeybindingWithDefaultActionLabel){var et=this._keybindingService.lookupKeybinding(Ot.id);et&&(Lt="(".concat(et.getLabel(),")"))}return Lt}},{key:"setActionContext",value:function(Ot){Object(ve.a)(Object(se.a)(Et.prototype),"setActionContext",this).call(this,Ot),this._defaultAction.setActionContext(Ot),this._dropdown.setActionContext(Ot)}},{key:"render",value:function(Ot){var pt=this;this._container=Ot,Object(ve.a)(Object(se.a)(Et.prototype),"render",this).call(this,this._container),this._container.classList.add("monaco-dropdown-with-default");var Lt=Object(Z.$)(".action-container");this._defaultAction.render(Object(Z.append)(this._container,Lt)),this._register(Object(Z.addDisposableListener)(Lt,Z.EventType.KEY_DOWN,function(Vt){var Re=new ne.a(Vt);Re.equals(17)&&(pt._defaultAction.element.tabIndex=-1,pt._dropdown.focus(),Re.stopPropagation())}));var et=Object(Z.$)(".dropdown-action-container");this._dropdown.render(Object(Z.append)(this._container,et)),this._register(Object(Z.addDisposableListener)(et,Z.EventType.KEY_DOWN,function(Vt){var Re,Ce=new ne.a(Vt);Ce.equals(15)&&(pt._defaultAction.element.tabIndex=0,pt._dropdown.setFocusable(!1),(Re=pt._defaultAction.element)===null||Re===void 0||Re.focus(),Ce.stopPropagation())}))}},{key:"focus",value:function(Ot){Ot?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}},{key:"blur",value:function(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}},{key:"setFocusable",value:function(Ot){Ot?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}},{key:"dispose",value:function(){this._defaultAction.dispose(),this._dropdown.dispose(),Object(ve.a)(Object(se.a)(Et.prototype),"dispose",this).call(this)}}]),Et}(V.b);Oe=ae([Q(2,I.a),Q(3,de.a),Q(4,T.a),Q(5,C.b),Q(6,z.a),Q(7,pe.a)],Oe);var Pe=function(Fe){Object(te.a)(Et,Fe);var Xe=Object($.a)(Et);function Et(Ft,Ot){var pt;return Object(we.a)(this,Et),pt=Xe.call(this,null,Ft,Ft.actions.map(function(Lt){return{text:Lt.id===F.d.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":Lt.label,isDisabled:!Lt.enabled}}),0,Ot,re.i,{ariaLabel:Ft.tooltip,optionsAsChildren:!0}),pt.select(Math.max(0,Ft.actions.findIndex(function(Lt){return Lt.checked}))),pt}return Object(w.a)(Et,[{key:"render",value:function(Ot){Object(ve.a)(Object(se.a)(Et.prototype),"render",this).call(this,Ot),Ot.style.borderColor=Object(G.c)(G.Lc)}},{key:"runAction",value:function(Ot,pt){var Lt=this.action.actions[pt];Lt&&this.actionRunner.run(Lt)}}]),Et}(V.c);Pe=ae([Q(1,T.b)],Pe);function Ne(Fe,Xe,Et){return Xe instanceof C.d?Fe.createInstance(De,Xe,Et):Xe instanceof C.f?Xe.item.isSelection?Fe.createInstance(Pe,Xe):Xe.item.rememberDefaultAction?Fe.createInstance(Oe,Xe,Object.assign(Object.assign({},Et),{persistLastActionId:!0})):Fe.createInstance(Ae,Xe,Et):void 0}},eq1K:function(mn,U,a){},erNZ:function(mn,U,a){"use strict";a.d(U,"c",function(){return Z}),a.d(U,"b",function(){return ne}),a.d(U,"a",function(){return B});var ce=a("fWQN"),we=a("mtLc"),w=a("N0LK"),ve=a("MNsG"),se=a("HpOR"),te;function $(){return te||(te=new TextDecoder("UTF-16LE")),te}var _;function Y(){return _||(_=new TextDecoder("UTF-16BE")),_}var E;function Z(){return E||(E=ve.h()?$():Y()),E}function ne(F,W,N){var H=new Uint16Array(F.buffer,W,N);return N>0&&(H[0]===65279||H[0]===65534)?V(F,W,N):$().decode(H)}function V(F,W,N){for(var H=[],d=0,D=0;D<N;D++){var C=se.b(F,W);W+=2,H[d++]=String.fromCharCode(C)}return H.join("")}var B=function(){function F(W){Object(ce.a)(this,F),this._capacity=W|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}return Object(we.a)(F,[{key:"reset",value:function(){this._completedStrings=null,this._bufferLength=0}},{key:"build",value:function(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}},{key:"_buildBuffer",value:function(){if(this._bufferLength===0)return"";var N=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return Z().decode(N)}},{key:"_flushBuffer",value:function(){var N=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[N]:this._completedStrings[this._completedStrings.length]=N}},{key:"appendCharCode",value:function(N){var H=this._capacity-this._bufferLength;H<=1&&(H===0||w.F(N))&&this._flushBuffer(),this._buffer[this._bufferLength++]=N}},{key:"appendASCIICharCode",value:function(N){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=N}},{key:"appendString",value:function(N){var H=N.length;if(this._bufferLength+H>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=N;return}for(var d=0;d<H;d++)this._buffer[this._bufferLength++]=N.charCodeAt(d)}}]),F}()},ezu8:function(mn,U,a){"use strict";a.d(U,"b",function(){return A}),a.d(U,"a",function(){return G}),a.d(U,"c",function(){return re}),a.d(U,"d",function(){return Q}),a.d(U,"e",function(){return L});var ce=a("tJVT"),we=a("oBTY"),w=a("qLMh"),ve=a("fWQN"),se=a("mtLc"),te=a("rAM+"),$=a("OBOq"),_=a("6OMU"),Y=a("JQT/"),E=a("/cxE"),Z=a("JYp7"),ne=a("24hK"),V=a("746U"),B=a("bY76"),F=a("87Gm"),W=a("sFUC"),N=a("cGHE"),H=a("aokT"),d=a("gCVg"),D=a("Cdua"),C=a("t49l"),x=a("dfpW"),O=a("3/fG"),T=a("nnTU"),z=function(){function De(Ae){Object(ve.a)(this,De),this.value=Ae,this._lower=Ae.toLowerCase()}return Object(se.a)(De,null,[{key:"toKey",value:function(Oe){return typeof Oe=="string"?Oe.toLowerCase():Oe._lower}}]),De}(),I=function(){function De(Ae){if(Object(ve.a)(this,De),this._set=new Set,Ae){var Oe=Object(te.a)(Ae),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var Ne=Pe.value;this.add(Ne)}}catch(Fe){Oe.e(Fe)}finally{Oe.f()}}}return Object(se.a)(De,[{key:"add",value:function(Oe){this._set.add(z.toKey(Oe))}},{key:"has",value:function(Oe){return this._set.has(z.toKey(Oe))}}]),De}(),de=a("Cg/j"),pe=a("c0Ay"),fe=a("09fa"),ke=function(De,Ae,Oe,Pe){function Ne(Fe){return Fe instanceof Oe?Fe:new Oe(function(Xe){Xe(Fe)})}return new(Oe||(Oe=Promise))(function(Fe,Xe){function Et(pt){try{Ot(Pe.next(pt))}catch(Lt){Xe(Lt)}}function Ft(pt){try{Ot(Pe.throw(pt))}catch(Lt){Xe(Lt)}}function Ot(pt){pt.done?Fe(pt.value):Ne(pt.value).then(Et,Ft)}Ot((Pe=Pe.apply(De,Ae||[])).next())})};function A(De){if(De=De.filter(function(Xe){return Xe.range}),!!De.length){for(var Ae=De[0].range,Oe=1;Oe<De.length;Oe++)Ae=H.a.plusRange(Ae,De[Oe].range);var Pe=Ae,Ne=Pe.startLineNumber,Fe=Pe.endLineNumber;Ne===Fe?De.length===1?Object($.a)(O.b("hint11","Made 1 formatting edit on line {0}",Ne)):Object($.a)(O.b("hintn1","Made {0} formatting edits on line {1}",De.length,Ne)):De.length===1?Object($.a)(O.b("hint1n","Made 1 formatting edit between lines {0} and {1}",Ne,Fe)):Object($.a)(O.b("hintnn","Made {0} formatting edits between lines {1} and {2}",De.length,Ne,Fe))}}function P(De,Ae,Oe){var Pe=[],Ne=new I,Fe=De.ordered(Oe),Xe=Object(te.a)(Fe),Et;try{for(Xe.s();!(Et=Xe.n()).done;){var Ft=Et.value;Pe.push(Ft),Ft.extensionId&&Ne.add(Ft.extensionId)}}catch(Re){Xe.e(Re)}finally{Xe.f()}var Ot=Ae.ordered(Oe),pt=Object(te.a)(Ot),Lt;try{var et=function(){var Ce=Lt.value;if(Ce.extensionId){if(Ne.has(Ce.extensionId))return"continue";Ne.add(Ce.extensionId)}Pe.push({displayName:Ce.displayName,extensionId:Ce.extensionId,provideDocumentFormattingEdits:function(Te,Qe,$e){return Ce.provideDocumentRangeFormattingEdits(Te,Te.getFullModelRange(),Qe,$e)}})};for(pt.s();!(Lt=pt.n()).done;)var Vt=et()}catch(Re){pt.e(Re)}finally{pt.f()}return Pe}var G=function(){function De(){Object(ve.a)(this,De)}return Object(se.a)(De,null,[{key:"setFormatterSelector",value:function(Oe){var Pe=De._selectors.unshift(Oe);return{dispose:Pe}}},{key:"select",value:function(Oe,Pe,Ne){return ke(this,void 0,void 0,Object(w.a)().mark(function Fe(){var Xe;return Object(w.a)().wrap(function(Ft){for(;;)switch(Ft.prev=Ft.next){case 0:if(Oe.length!==0){Ft.next=2;break}return Ft.abrupt("return",void 0);case 2:if(Xe=Z.a.first(De._selectors),!Xe){Ft.next=7;break}return Ft.next=6,Xe(Oe,Pe,Ne);case 6:return Ft.abrupt("return",Ft.sent);case 7:return Ft.abrupt("return",void 0);case 8:case"end":return Ft.stop()}},Fe)}))}}]),De}();G._selectors=new ne.a;function re(De,Ae,Oe,Pe,Ne,Fe){return ke(this,void 0,void 0,Object(w.a)().mark(function Xe(){var Et,Ft,Ot,pt,Lt,et;return Object(w.a)().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Et=De.get(de.a),Ft=De.get(pe.a),Ot=Ft.documentRangeFormattingEditProvider,pt=Object(W.b)(Ae)?Ae.getModel():Ae,Lt=Ot.ordered(pt),Re.next=6,G.select(Lt,pt,Pe);case 6:if(et=Re.sent,!et){Re.next=11;break}return Ne.report(et),Re.next=11,Et.invokeFunction(ae,et,Ae,Oe,Fe);case 11:case"end":return Re.stop()}},Xe)}))}function ae(De,Ae,Oe,Pe,Ne){var Fe,Xe;return ke(this,void 0,void 0,Object(w.a)().mark(function Et(){var Ft=this,Ot,pt,Lt,et,Vt,Re,Ce,ye,Te,Qe,$e,ze,ot,He,Ge,Je,ft,qt,bt,Bt,rn,an,In,Dt,jn,_n,Nn;return Object(w.a)().wrap(function(kn){for(;;)switch(kn.prev=kn.next){case 0:Ot=De.get(D.a),pt=De.get(fe.b),Object(W.b)(Oe)?(Lt=Oe.getModel(),et=new F.b(Oe,1|4,void 0,Ne)):(Lt=Oe,et=new F.c(Oe,Ne)),Vt=[],Re=0,Ce=Object(te.a)(Object(_.d)(Pe).sort(H.a.compareRangesUsingStarts));try{for(Ce.s();!(ye=Ce.n()).done;)Te=ye.value,Re>0&&H.a.areIntersectingOrTouching(Vt[Re-1],Te)?Vt[Re-1]=H.a.fromPositions(Vt[Re-1].getStartPosition(),Te.getEndPosition()):Re=Vt.push(Te)}catch(Pn){Ce.e(Pn)}finally{Ce.f()}if(Qe=function(qi){return ke(Ft,void 0,void 0,Object(w.a)().mark(function gi(){var ir,yi,mi;return Object(w.a)().wrap(function(zn){for(;;)switch(zn.prev=zn.next){case 0:return pt.trace("[format][provideDocumentRangeFormattingEdits] (request)",(ir=Ae.extensionId)===null||ir===void 0?void 0:ir.value,qi),zn.next=3,Ae.provideDocumentRangeFormattingEdits(Lt,qi,Lt.getFormattingOptions(),et.token);case 3:if(zn.t0=zn.sent,zn.t0){zn.next=6;break}zn.t0=[];case 6:return mi=zn.t0,pt.trace("[format][provideDocumentRangeFormattingEdits] (response)",(yi=Ae.extensionId)===null||yi===void 0?void 0:yi.value,mi),zn.abrupt("return",mi);case 9:case"end":return zn.stop()}},gi)}))},$e=function(qi,gi){if(!qi.length||!gi.length)return!1;var ir=qi.reduce(function(ai,dn){return H.a.plusRange(ai,dn.range)},qi[0].range);if(!gi.some(function(ai){return H.a.intersectRanges(ir,ai.range)}))return!1;var yi=Object(te.a)(qi),mi;try{for(yi.s();!(mi=yi.n()).done;){var gr=mi.value,zn=Object(te.a)(gi),Ki;try{for(zn.s();!(Ki=zn.n()).done;){var Bn=Ki.value;if(H.a.intersectRanges(gr.range,Bn.range))return!0}}catch(ai){zn.e(ai)}finally{zn.f()}}}catch(ai){yi.e(ai)}finally{yi.f()}return!1},ze=[],ot=[],kn.prev=11,typeof Ae.provideDocumentRangesFormattingEdits!="function"){kn.next=24;break}return pt.trace("[format][provideDocumentRangeFormattingEdits] (request)",(Fe=Ae.extensionId)===null||Fe===void 0?void 0:Fe.value,Vt),kn.next=16,Ae.provideDocumentRangesFormattingEdits(Lt,Vt,Lt.getFormattingOptions(),et.token);case 16:if(kn.t0=kn.sent,kn.t0){kn.next=19;break}kn.t0=[];case 19:He=kn.t0,pt.trace("[format][provideDocumentRangeFormattingEdits] (response)",(Xe=Ae.extensionId)===null||Xe===void 0?void 0:Xe.value,He),ot.push(He),kn.next=71;break;case 24:Ge=Object(te.a)(Vt),kn.prev=25,Ge.s();case 27:if((Je=Ge.n()).done){kn.next=38;break}if(ft=Je.value,!et.token.isCancellationRequested){kn.next=31;break}return kn.abrupt("return",!0);case 31:return kn.t1=ot,kn.next=34,Qe(ft);case 34:kn.t2=kn.sent,kn.t1.push.call(kn.t1,kn.t2);case 36:kn.next=27;break;case 38:kn.next=43;break;case 40:kn.prev=40,kn.t3=kn.catch(25),Ge.e(kn.t3);case 43:return kn.prev=43,Ge.f(),kn.finish(43);case 46:qt=0;case 47:if(!(qt<Vt.length)){kn.next=71;break}bt=qt+1;case 49:if(!(bt<Vt.length)){kn.next=68;break}if(!et.token.isCancellationRequested){kn.next=52;break}return kn.abrupt("return",!0);case 52:if(!$e(ot[qt],ot[bt])){kn.next=65;break}return Bt=H.a.plusRange(Vt[qt],Vt[bt]),kn.next=56,Qe(Bt);case 56:rn=kn.sent,Vt.splice(bt,1),Vt.splice(qt,1),Vt.push(Bt),ot.splice(bt,1),ot.splice(qt,1),ot.push(rn),qt=0,bt=0;case 65:++bt,kn.next=49;break;case 68:++qt,kn.next=47;break;case 71:an=0,In=ot;case 72:if(!(an<In.length)){kn.next=83;break}if(Dt=In[an],!et.token.isCancellationRequested){kn.next=76;break}return kn.abrupt("return",!0);case 76:return kn.next=78,Ot.computeMoreMinimalEdits(Lt.uri,Dt);case 78:jn=kn.sent,jn&&ze.push.apply(ze,Object(we.a)(jn));case 80:an++,kn.next=72;break;case 83:return kn.prev=83,et.dispose(),kn.finish(83);case 86:if(ze.length!==0){kn.next=88;break}return kn.abrupt("return",!1);case 88:return Object(W.b)(Oe)?(x.a.execute(Oe,ze,!0),A(ze),Oe.revealPositionInCenterIfOutsideViewport(Oe.getPosition(),1)):(_n=ze[0].range,Nn=new d.a(_n.startLineNumber,_n.startColumn,_n.endLineNumber,_n.endColumn),Lt.pushEditOperations([Nn],ze.map(function(Pn){return{text:Pn.text,range:H.a.lift(Pn.range),forceMoveMarkers:!0}}),function(Pn){var qi=Object(te.a)(Pn),gi;try{for(qi.s();!(gi=qi.n()).done;){var ir=gi.value,yi=ir.range;if(H.a.areIntersectingOrTouching(yi,Nn))return[new d.a(yi.startLineNumber,yi.startColumn,yi.endLineNumber,yi.endColumn)]}}catch(mi){qi.e(mi)}finally{qi.f()}return null})),kn.abrupt("return",!0);case 90:case"end":return kn.stop()}},Et,null,[[11,,83,86],[25,40,43,46]])}))}function Q(De,Ae,Oe,Pe,Ne){return ke(this,void 0,void 0,Object(w.a)().mark(function Fe(){var Xe,Et,Ft,Ot,pt;return Object(w.a)().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return Xe=De.get(de.a),Et=De.get(pe.a),Ft=Object(W.b)(Ae)?Ae.getModel():Ae,Ot=P(Et.documentFormattingEditProvider,Et.documentRangeFormattingEditProvider,Ft),et.next=6,G.select(Ot,Ft,Oe);case 6:if(pt=et.sent,!pt){et.next=11;break}return Pe.report(pt),et.next=11,Xe.invokeFunction(J,pt,Ae,Oe,Ne);case 11:case"end":return et.stop()}},Fe)}))}function J(De,Ae,Oe,Pe,Ne){return ke(this,void 0,void 0,Object(w.a)().mark(function Fe(){var Xe,Et,Ft,Ot,pt,Lt,et,Vt,Re;return Object(w.a)().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return Xe=De.get(D.a),Object(W.b)(Oe)?(Et=Oe.getModel(),Ft=new F.b(Oe,1|4,void 0,Ne)):(Et=Oe,Ft=new F.c(Oe,Ne)),ye.prev=2,ye.next=5,Ae.provideDocumentFormattingEdits(Et,Et.getFormattingOptions(),Ft.token);case 5:return pt=ye.sent,ye.next=8,Xe.computeMoreMinimalEdits(Et.uri,pt);case 8:if(Ot=ye.sent,!Ft.token.isCancellationRequested){ye.next=11;break}return ye.abrupt("return",!0);case 11:return ye.prev=11,Ft.dispose(),ye.finish(11);case 14:if(!(!Ot||Ot.length===0)){ye.next=16;break}return ye.abrupt("return",!1);case 16:return Object(W.b)(Oe)?(x.a.execute(Oe,Ot,Pe!==2),Pe!==2&&(A(Ot),Oe.revealPositionInCenterIfOutsideViewport(Oe.getPosition(),1))):(Lt=Ot,et=Object(ce.a)(Lt,1),Vt=et[0].range,Re=new d.a(Vt.startLineNumber,Vt.startColumn,Vt.endLineNumber,Vt.endColumn),Et.pushEditOperations([Re],Ot.map(function(Te){return{text:Te.text,range:H.a.lift(Te.range),forceMoveMarkers:!0}}),function(Te){var Qe=Object(te.a)(Te),$e;try{for(Qe.s();!($e=Qe.n()).done;){var ze=$e.value,ot=ze.range;if(H.a.areIntersectingOrTouching(ot,Re))return[new d.a(ot.startLineNumber,ot.startColumn,ot.endLineNumber,ot.endColumn)]}}catch(He){Qe.e(He)}finally{Qe.f()}return null})),ye.abrupt("return",!0);case 18:case"end":return ye.stop()}},Fe,null,[[2,,11,14]])}))}function me(De,Ae,Oe,Pe,Ne,Fe){return ke(this,void 0,void 0,Object(w.a)().mark(function Xe(){var Et,Ft,Ot,pt,Lt;return Object(w.a)().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:Et=Ae.documentRangeFormattingEditProvider.ordered(Oe),Ft=Object(te.a)(Et),Vt.prev=2,Ft.s();case 4:if((Ot=Ft.n()).done){Vt.next=15;break}return pt=Ot.value,Vt.next=8,Promise.resolve(pt.provideDocumentRangeFormattingEdits(Oe,Pe,Ne,Fe)).catch(E.i);case 8:if(Lt=Vt.sent,!Object(_.s)(Lt)){Vt.next=13;break}return Vt.next=12,De.computeMoreMinimalEdits(Oe.uri,Lt);case 12:return Vt.abrupt("return",Vt.sent);case 13:Vt.next=4;break;case 15:Vt.next=20;break;case 17:Vt.prev=17,Vt.t0=Vt.catch(2),Ft.e(Vt.t0);case 20:return Vt.prev=20,Ft.f(),Vt.finish(20);case 23:return Vt.abrupt("return",void 0);case 24:case"end":return Vt.stop()}},Xe,null,[[2,17,20,23]])}))}function ge(De,Ae,Oe,Pe,Ne){return ke(this,void 0,void 0,Object(w.a)().mark(function Fe(){var Xe,Et,Ft,Ot,pt;return Object(w.a)().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:Xe=P(Ae.documentFormattingEditProvider,Ae.documentRangeFormattingEditProvider,Oe),Et=Object(te.a)(Xe),et.prev=2,Et.s();case 4:if((Ft=Et.n()).done){et.next=15;break}return Ot=Ft.value,et.next=8,Promise.resolve(Ot.provideDocumentFormattingEdits(Oe,Pe,Ne)).catch(E.i);case 8:if(pt=et.sent,!Object(_.s)(pt)){et.next=13;break}return et.next=12,De.computeMoreMinimalEdits(Oe.uri,pt);case 12:return et.abrupt("return",et.sent);case 13:et.next=4;break;case 15:et.next=20;break;case 17:et.prev=17,et.t0=et.catch(2),Et.e(et.t0);case 20:return et.prev=20,Et.f(),et.finish(20);case 23:return et.abrupt("return",void 0);case 24:case"end":return et.stop()}},Fe,null,[[2,17,20,23]])}))}function L(De,Ae,Oe,Pe,Ne,Fe,Xe){var Et=Ae.onTypeFormattingEditProvider.ordered(Oe);return Et.length===0||Et[0].autoFormatTriggerCharacters.indexOf(Ne)<0?Promise.resolve(void 0):Promise.resolve(Et[0].provideOnTypeFormattingEdits(Oe,Pe,Ne,Fe,Xe)).catch(E.i).then(function(Ft){return De.computeMoreMinimalEdits(Oe.uri,Ft)})}T.a.registerCommand("_executeFormatRangeProvider",function(De){for(var Ae=arguments.length,Oe=new Array(Ae>1?Ae-1:0),Pe=1;Pe<Ae;Pe++)Oe[Pe-1]=arguments[Pe];return ke(this,void 0,void 0,Object(w.a)().mark(function Ne(){var Fe,Xe,Et,Ft,Ot,pt,Lt;return Object(w.a)().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:return Fe=Oe[0],Xe=Oe[1],Et=Oe[2],Object(V.b)(B.a.isUri(Fe)),Object(V.b)(H.a.isIRange(Xe)),Ft=De.get(C.a),Ot=De.get(D.a),pt=De.get(pe.a),Vt.next=8,Ft.createModelReference(Fe);case 8:return Lt=Vt.sent,Vt.prev=9,Vt.abrupt("return",me(Ot,pt,Lt.object.textEditorModel,H.a.lift(Xe),Et,Y.a.None));case 11:return Vt.prev=11,Lt.dispose(),Vt.finish(11);case 14:case"end":return Vt.stop()}},Ne,null,[[9,,11,14]])}))}),T.a.registerCommand("_executeFormatDocumentProvider",function(De){for(var Ae=arguments.length,Oe=new Array(Ae>1?Ae-1:0),Pe=1;Pe<Ae;Pe++)Oe[Pe-1]=arguments[Pe];return ke(this,void 0,void 0,Object(w.a)().mark(function Ne(){var Fe,Xe,Et,Ft,Ot,pt;return Object(w.a)().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return Fe=Oe[0],Xe=Oe[1],Object(V.b)(B.a.isUri(Fe)),Et=De.get(C.a),Ft=De.get(D.a),Ot=De.get(pe.a),et.next=7,Et.createModelReference(Fe);case 7:return pt=et.sent,et.prev=8,et.abrupt("return",ge(Ft,Ot,pt.object.textEditorModel,Xe,Y.a.None));case 10:return et.prev=10,pt.dispose(),et.finish(10);case 13:case"end":return et.stop()}},Ne,null,[[8,,10,13]])}))}),T.a.registerCommand("_executeFormatOnTypeProvider",function(De){for(var Ae=arguments.length,Oe=new Array(Ae>1?Ae-1:0),Pe=1;Pe<Ae;Pe++)Oe[Pe-1]=arguments[Pe];return ke(this,void 0,void 0,Object(w.a)().mark(function Ne(){var Fe,Xe,Et,Ft,Ot,pt,Lt,et;return Object(w.a)().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Fe=Oe[0],Xe=Oe[1],Et=Oe[2],Ft=Oe[3],Object(V.b)(B.a.isUri(Fe)),Object(V.b)(N.a.isIPosition(Xe)),Object(V.b)(typeof Et=="string"),Ot=De.get(C.a),pt=De.get(D.a),Lt=De.get(pe.a),Re.next=9,Ot.createModelReference(Fe);case 9:return et=Re.sent,Re.prev=10,Re.abrupt("return",L(pt,Lt,et.object.textEditorModel,N.a.lift(Xe),Et,Ft,Y.a.None));case 12:return Re.prev=12,et.dispose(),Re.finish(12);case 15:case"end":return Re.stop()}},Ne,null,[[10,,12,15]])}))})},fdyd:function(mn,U,a){"use strict";a.d(U,"a",function(){return te});var ce=a("oBTY"),we=a("tJVT"),w=a("EffR"),ve=a("T5lh"),se=new RegExp("(\\\\)?\\$\\((".concat(ve.a.iconNameExpression,"(?:").concat(ve.a.iconModifierExpression,")?)\\)"),"g");function te(_){for(var Y=new Array,E,Z=0,ne=0;(E=se.exec(_))!==null;){ne=E.index||0,Z<ne&&Y.push(_.substring(Z,ne)),Z=(E.index||0)+E[0].length;var V=E,B=Object(we.a)(V,3),F=B[1],W=B[2];Y.push(F?"$(".concat(W,")"):$({id:W}))}return Z<_.length&&Y.push(_.substring(Z)),Y}function $(_){var Y,E=w.$("span");return(Y=E.classList).add.apply(Y,Object(ce.a)(ve.a.asClassNameArray(_))),E}},feEw:function(mn,U,a){"use strict";a.d(U,"a",function(){return pe}),a.d(U,"b",function(){return G});var ce=a("rAM+"),we=a("oBTY"),w=a("fWQN"),ve=a("mtLc"),se=a("ZQ78"),te=a("EffR"),$=a("4y0V"),_=a("pg8w"),Y=a("GJhM"),E=a("6OMU"),Z=a("X+cX"),ne=a("ZCR3"),V=a("MI8n"),B=a("pmY6"),F=a("nuFA"),W=a("QuOb");function N(re,ae){var Q=[],J=Object(ce.a)(ae),me;try{for(J.s();!(me=J.n()).done;){var ge=me.value;if(!(re.start>=ge.range.end)){if(re.end<ge.range.start)break;var L=F.a.intersect(re,ge.range);F.a.isEmpty(L)||Q.push({range:L,size:ge.size})}}}catch(De){J.e(De)}finally{J.f()}return Q}function H(re,ae){var Q=re.start,J=re.end;return{start:Q+ae,end:J+ae}}function d(re){var ae=[],Q=null,J=Object(ce.a)(re),me;try{for(J.s();!(me=J.n()).done;){var ge=me.value,L=ge.range.start,De=ge.range.end,Ae=ge.size;if(Q&&Ae===Q.size){Q.range.end=De;continue}Q={range:{start:L,end:De},size:Ae},ae.push(Q)}}catch(Oe){J.e(Oe)}finally{J.f()}return ae}function D(){for(var re=arguments.length,ae=new Array(re),Q=0;Q<re;Q++)ae[Q]=arguments[Q];return d(ae.reduce(function(J,me){return J.concat(me)},[]))}var C=function(){function re(){Object(w.a)(this,re),this.groups=[],this._size=0}return Object(ve.a)(re,[{key:"splice",value:function(Q,J){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],ge=me.length-J,L=N({start:0,end:Q},this.groups),De=N({start:Q+J,end:Number.POSITIVE_INFINITY},this.groups).map(function(Oe){return{range:H(Oe.range,ge),size:Oe.size}}),Ae=me.map(function(Oe,Pe){return{range:{start:Q+Pe,end:Q+Pe+1},size:Oe.size}});this.groups=D(L,Ae,De),this._size=this.groups.reduce(function(Oe,Pe){return Oe+Pe.size*(Pe.range.end-Pe.range.start)},0)}},{key:"count",get:function(){var Q=this.groups.length;return Q?this.groups[Q-1].range.end:0}},{key:"size",get:function(){return this._size}},{key:"indexAt",value:function(Q){if(Q<0)return-1;var J=0,me=0,ge=Object(ce.a)(this.groups),L;try{for(ge.s();!(L=ge.n()).done;){var De=L.value,Ae=De.range.end-De.range.start,Oe=me+Ae*De.size;if(Q<Oe)return J+Math.floor((Q-me)/De.size);J+=Ae,me=Oe}}catch(Pe){ge.e(Pe)}finally{ge.f()}return J}},{key:"indexAfter",value:function(Q){return Math.min(this.indexAt(Q)+1,this.count)}},{key:"positionAt",value:function(Q){if(Q<0)return-1;var J=0,me=0,ge=Object(ce.a)(this.groups),L;try{for(ge.s();!(L=ge.n()).done;){var De=L.value,Ae=De.range.end-De.range.start,Oe=me+Ae;if(Q<Oe)return J+(Q-me)*De.size;J+=Ae*De.size,me=Oe}}catch(Pe){ge.e(Pe)}finally{ge.f()}return-1}}]),re}();function x(re){var ae;try{(ae=re.parentElement)===null||ae===void 0||ae.removeChild(re)}catch(Q){}}var O=function(){function re(ae){Object(w.a)(this,re),this.renderers=ae,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}return Object(ve.a)(re,[{key:"alloc",value:function(Q){var J=this.getTemplateCache(Q).pop(),me=!1;if(J)me=this.transactionNodesPendingRemoval.has(J.domNode),me&&this.transactionNodesPendingRemoval.delete(J.domNode);else{var ge=Object(te.$)(".monaco-list-row"),L=this.getRenderer(Q),De=L.renderTemplate(ge);J={domNode:ge,templateId:Q,templateData:De}}return{row:J,isReusingConnectedDomNode:me}}},{key:"release",value:function(Q){!Q||this.releaseRow(Q)}},{key:"transact",value:function(Q){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{Q()}finally{var J=Object(ce.a)(this.transactionNodesPendingRemoval),me;try{for(J.s();!(me=J.n()).done;){var ge=me.value;this.doRemoveNode(ge)}}catch(L){J.e(L)}finally{J.f()}this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}},{key:"releaseRow",value:function(Q){var J=Q.domNode,me=Q.templateId;J&&(this.inTransaction?this.transactionNodesPendingRemoval.add(J):this.doRemoveNode(J));var ge=this.getTemplateCache(me);ge.push(Q)}},{key:"doRemoveNode",value:function(Q){Q.classList.remove("scrolling"),x(Q)}},{key:"getTemplateCache",value:function(Q){var J=this.cache.get(Q);return J||(J=[],this.cache.set(Q,J)),J}},{key:"dispose",value:function(){var Q=this;this.cache.forEach(function(J,me){var ge=Object(ce.a)(J),L;try{for(ge.s();!(L=ge.n()).done;){var De=L.value,Ae=Q.getRenderer(me);Ae.disposeTemplate(De.templateData),De.templateData=null}}catch(Oe){ge.e(Oe)}finally{ge.f()}}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}},{key:"getRenderer",value:function(Q){var J=this.renderers.get(Q);if(!J)throw new Error("No renderer found for ".concat(Q));return J}}]),re}(),T=a("/cxE"),z=function(re,ae,Q,J){var me=arguments.length,ge=me<3?ae:J===null?J=Object.getOwnPropertyDescriptor(ae,Q):J,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(re,ae,Q,J);else for(var De=re.length-1;De>=0;De--)(L=re[De])&&(ge=(me<3?L(ge):me>3?L(ae,Q,ge):L(ae,Q))||ge);return me>3&&ge&&Object.defineProperty(ae,Q,ge),ge},I={CurrentDragAndDropData:void 0},de={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:function(ae){return[ae]},getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0},pe=function(){function re(ae){Object(w.a)(this,re),this.elements=ae}return Object(ve.a)(re,[{key:"update",value:function(){}},{key:"getData",value:function(){return this.elements}}]),re}(),fe=function(){function re(ae){Object(w.a)(this,re),this.elements=ae}return Object(ve.a)(re,[{key:"update",value:function(){}},{key:"getData",value:function(){return this.elements}}]),re}(),ke=function(){function re(){Object(w.a)(this,re),this.types=[],this.files=[]}return Object(ve.a)(re,[{key:"update",value:function(Q){if(Q.types){var J;(J=this.types).splice.apply(J,[0,this.types.length].concat(Object(we.a)(Q.types)))}if(Q.files){this.files.splice(0,this.files.length);for(var me=0;me<Q.files.length;me++){var ge=Q.files.item(me);ge&&(ge.size||ge.type)&&this.files.push(ge)}}}},{key:"getData",value:function(){return{types:this.types,files:this.files}}}]),re}();function A(re,ae){return Array.isArray(re)&&Array.isArray(ae)?Object(E.j)(re,ae):re===ae}var P=Object(ve.a)(function re(ae){Object(w.a)(this,re),(ae==null?void 0:ae.getSetSize)?this.getSetSize=ae.getSetSize.bind(ae):this.getSetSize=function(Q,J,me){return me},(ae==null?void 0:ae.getPosInSet)?this.getPosInSet=ae.getPosInSet.bind(ae):this.getPosInSet=function(Q,J){return J+1},(ae==null?void 0:ae.getRole)?this.getRole=ae.getRole.bind(ae):this.getRole=function(Q){return"listitem"},(ae==null?void 0:ae.isChecked)?this.isChecked=ae.isChecked.bind(ae):this.isChecked=function(Q){}}),G=function(){function re(ae,Q,J){var me=this,ge=arguments.length>3&&arguments[3]!==void 0?arguments[3]:de;Object(w.a)(this,re);var L,De,Ae,Oe,Pe,Ne,Fe,Xe,Et,Ft,Ot,pt;if(this.virtualDelegate=Q,this.domId="list_id_".concat(++re.InstanceCount),this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new Z.c(50),this.splicing=!1,this.dragOverAnimationStopDisposable=B.a.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=B.a.None,this.onDragLeaveTimeout=B.a.None,this.disposables=new B.c,this._onDidChangeContentHeight=new V.b,this._onDidChangeContentWidth=new V.b,this._horizontalScrolling=!1,ge.horizontalScrolling&&ge.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new C;var Lt=Object(ce.a)(J),et;try{for(Lt.s();!(et=Lt.n()).done;){var Vt=et.value;this.renderers.set(Vt.templateId,Vt)}}catch(Ce){Lt.e(Ce)}finally{Lt.f()}this.cache=this.disposables.add(new O(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof ge.mouseSupport=="boolean"?ge.mouseSupport:!0),this._horizontalScrolling=(L=ge.horizontalScrolling)!==null&&L!==void 0?L:de.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof ge.additionalScrollHeight=="undefined"?0:ge.additionalScrollHeight,this.accessibilityProvider=new P(ge.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows";var Re=(De=ge.transformOptimization)!==null&&De!==void 0?De:de.transformOptimization;Re&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(_.b.addTarget(this.rowsContainer)),this.scrollable=new W.a({forceIntegerValues:!0,smoothScrollDuration:((Ae=ge.smoothScrolling)!==null&&Ae!==void 0?Ae:!1)?125:0,scheduleAtNextAnimationFrame:function(ye){return Object(te.scheduleAtNextAnimationFrame)(ye)}}),this.scrollableElement=this.disposables.add(new Y.d(this.rowsContainer,{alwaysConsumeMouseWheel:(Oe=ge.alwaysConsumeMouseWheel)!==null&&Oe!==void 0?Oe:de.alwaysConsumeMouseWheel,horizontal:1,vertical:(Pe=ge.verticalScrollMode)!==null&&Pe!==void 0?Pe:de.verticalScrollMode,useShadows:(Ne=ge.useShadows)!==null&&Ne!==void 0?Ne:de.useShadows,mouseWheelScrollSensitivity:ge.mouseWheelScrollSensitivity,fastScrollSensitivity:ge.fastScrollSensitivity,scrollByPage:ge.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),ae.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(Object(te.addDisposableListener)(this.rowsContainer,_.a.Change,function(Ce){return me.onTouchChange(Ce)})),this.disposables.add(Object(te.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",function(Ce){return Ce.target.scrollTop=0})),this.disposables.add(Object(te.addDisposableListener)(this.domNode,"dragover",function(Ce){return me.onDragOver(me.toDragEvent(Ce))})),this.disposables.add(Object(te.addDisposableListener)(this.domNode,"drop",function(Ce){return me.onDrop(me.toDragEvent(Ce))})),this.disposables.add(Object(te.addDisposableListener)(this.domNode,"dragleave",function(Ce){return me.onDragLeave(me.toDragEvent(Ce))})),this.disposables.add(Object(te.addDisposableListener)(this.domNode,"dragend",function(Ce){return me.onDragEnd(Ce)})),this.setRowLineHeight=(Fe=ge.setRowLineHeight)!==null&&Fe!==void 0?Fe:de.setRowLineHeight,this.setRowHeight=(Xe=ge.setRowHeight)!==null&&Xe!==void 0?Xe:de.setRowHeight,this.supportDynamicHeights=(Et=ge.supportDynamicHeights)!==null&&Et!==void 0?Et:de.supportDynamicHeights,this.dnd=(Ft=ge.dnd)!==null&&Ft!==void 0?Ft:de.dnd,this.layout((Ot=ge.initialSize)===null||Ot===void 0?void 0:Ot.height,(pt=ge.initialSize)===null||pt===void 0?void 0:pt.width)}return Object(ve.a)(re,[{key:"contentHeight",get:function(){return this.rangeMap.size}},{key:"horizontalScrolling",get:function(){return this._horizontalScrolling},set:function(Q){if(Q!==this._horizontalScrolling){if(Q&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=Q,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){var J=Object(ce.a)(this.items),me;try{for(J.s();!(me=J.n()).done;){var ge=me.value;this.measureItemWidth(ge)}}catch(L){J.e(L)}finally{J.f()}this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:Object(te.getContentWidth)(this.domNode)}),this.rowsContainer.style.width="".concat(Math.max(this.scrollWidth||0,this.renderWidth),"px")}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}},{key:"updateOptions",value:function(Q){Q.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=Q.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),Q.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(Q.smoothScrolling?125:0),Q.horizontalScrolling!==void 0&&(this.horizontalScrolling=Q.horizontalScrolling);var J;Q.scrollByPage!==void 0&&(J=Object.assign(Object.assign({},J!=null?J:{}),{scrollByPage:Q.scrollByPage})),Q.mouseWheelScrollSensitivity!==void 0&&(J=Object.assign(Object.assign({},J!=null?J:{}),{mouseWheelScrollSensitivity:Q.mouseWheelScrollSensitivity})),Q.fastScrollSensitivity!==void 0&&(J=Object.assign(Object.assign({},J!=null?J:{}),{fastScrollSensitivity:Q.fastScrollSensitivity})),J&&this.scrollableElement.updateOptions(J)}},{key:"splice",value:function(Q,J){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(Q,J,me)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}},{key:"_splice",value:function(Q,J){for(var me=this,ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],L=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),De={start:Q,end:Q+J},Ae=F.a.intersect(L,De),Oe=new Map,Pe=Ae.end-1;Pe>=Ae.start;Pe--){var Ne=this.items[Pe];if(Ne.dragStartDisposable.dispose(),Ne.checkedDisposable.dispose(),Ne.row){var Fe=Oe.get(Ne.templateId);Fe||(Fe=[],Oe.set(Ne.templateId,Fe));var Xe=this.renderers.get(Ne.templateId);Xe&&Xe.disposeElement&&Xe.disposeElement(Ne.element,Pe,Ne.row.templateData,Ne.size),Fe.push(Ne.row)}Ne.row=null}var Et={start:Q+J,end:this.items.length},Ft=F.a.intersect(Et,L),Ot=F.a.relativeComplement(Et,L),pt=ge.map(function(gi){return{id:String(me.itemId++),element:gi,templateId:me.virtualDelegate.getTemplateId(gi),size:me.virtualDelegate.getHeight(gi),width:void 0,hasDynamicHeight:!!me.virtualDelegate.hasDynamicHeight&&me.virtualDelegate.hasDynamicHeight(gi),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:B.a.None,checkedDisposable:B.a.None}}),Lt;if(Q===0&&J>=this.items.length)this.rangeMap=new C,this.rangeMap.splice(0,0,pt),Lt=this.items,this.items=pt;else{var et;this.rangeMap.splice(Q,J,pt),Lt=(et=this.items).splice.apply(et,[Q,J].concat(Object(we.a)(pt)))}for(var Vt=ge.length-J,Re=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Ce=H(Ft,Vt),ye=F.a.intersect(Re,Ce),Te=ye.start;Te<ye.end;Te++)this.updateItemInDOM(this.items[Te],Te);var Qe=F.a.relativeComplement(Ce,Re),$e=Object(ce.a)(Qe),ze;try{for($e.s();!(ze=$e.n()).done;)for(var ot=ze.value,He=ot.start;He<ot.end;He++)this.removeItemFromDOM(He)}catch(gi){$e.e(gi)}finally{$e.f()}var Ge=Ot.map(function(gi){return H(gi,Vt)}),Je={start:Q,end:Q+ge.length},ft=[Je].concat(Object(we.a)(Ge)).map(function(gi){return F.a.intersect(Re,gi)}),qt=this.getNextToLastElement(ft),bt=Object(ce.a)(ft),Bt;try{for(bt.s();!(Bt=bt.n()).done;)for(var rn=Bt.value,an=rn.start;an<rn.end;an++){var In=this.items[an],Dt=Oe.get(In.templateId),jn=Dt==null?void 0:Dt.pop();this.insertItemInDOM(an,qt,jn)}}catch(gi){bt.e(gi)}finally{bt.f()}var _n=Object(ce.a)(Oe.values()),Nn;try{for(_n.s();!(Nn=_n.n()).done;){var ei=Nn.value,kn=Object(ce.a)(ei),Pn;try{for(kn.s();!(Pn=kn.n()).done;){var qi=Pn.value;this.cache.release(qi)}}catch(gi){kn.e(gi)}finally{kn.f()}}}catch(gi){_n.e(gi)}finally{_n.f()}return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),Lt.map(function(gi){return gi.element})}},{key:"eventuallyUpdateScrollDimensions",value:function(){var Q=this;this._scrollHeight=this.contentHeight,this.rowsContainer.style.height="".concat(this._scrollHeight,"px"),this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Object(te.scheduleAtNextAnimationFrame)(function(){Q.scrollableElement.setScrollDimensions({scrollHeight:Q.scrollHeight}),Q.updateScrollWidth(),Q.scrollableElementUpdateDisposable=null}))}},{key:"eventuallyUpdateScrollWidth",value:function(){var Q=this;if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(function(){return Q.updateScrollWidth()})}},{key:"updateScrollWidth",value:function(){if(!!this.horizontalScrolling){var Q=0,J=Object(ce.a)(this.items),me;try{for(J.s();!(me=J.n()).done;){var ge=me.value;typeof ge.width!="undefined"&&(Q=Math.max(Q,ge.width))}}catch(L){J.e(L)}finally{J.f()}this.scrollWidth=Q,this.scrollableElement.setScrollDimensions({scrollWidth:Q===0?0:Q+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}}},{key:"rerender",value:function(){if(!!this.supportDynamicHeights){var Q=Object(ce.a)(this.items),J;try{for(Q.s();!(J=Q.n()).done;){var me=J.value;me.lastDynamicHeightWidth=void 0}}catch(ge){Q.e(ge)}finally{Q.f()}this._rerender(this.lastRenderTop,this.lastRenderHeight)}}},{key:"length",get:function(){return this.items.length}},{key:"renderHeight",get:function(){var Q=this.scrollableElement.getScrollDimensions();return Q.height}},{key:"firstVisibleIndex",get:function(){var Q=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),J=this.rangeMap.positionAt(Q.start),me=this.rangeMap.positionAt(Q.start+1);if(me!==-1){var ge=(me-J)/2+J;if(ge<this.scrollTop)return Q.start+1}return Q.start}},{key:"element",value:function(Q){return this.items[Q].element}},{key:"domElement",value:function(Q){var J=this.items[Q].row;return J&&J.domNode}},{key:"elementHeight",value:function(Q){return this.items[Q].size}},{key:"elementTop",value:function(Q){return this.rangeMap.positionAt(Q)}},{key:"indexAt",value:function(Q){return this.rangeMap.indexAt(Q)}},{key:"indexAfter",value:function(Q){return this.rangeMap.indexAfter(Q)}},{key:"layout",value:function(Q,J){var me={height:typeof Q=="number"?Q:Object(te.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,me.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(me),typeof J!="undefined"&&(this.renderWidth=J,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof J=="number"?J:Object(te.getContentWidth)(this.domNode)})}},{key:"render",value:function(Q,J,me,ge,L){var De=this,Ae=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,Oe=this.getRenderRange(J,me),Pe=F.a.relativeComplement(Oe,Q),Ne=F.a.relativeComplement(Q,Oe),Fe=this.getNextToLastElement(Pe);if(Ae)for(var Xe=F.a.intersect(Q,Oe),Et=Xe.start;Et<Xe.end;Et++)this.updateItemInDOM(this.items[Et],Et);this.cache.transact(function(){var Ft=Object(ce.a)(Ne),Ot;try{for(Ft.s();!(Ot=Ft.n()).done;)for(var pt=Ot.value,Lt=pt.start;Lt<pt.end;Lt++)De.removeItemFromDOM(Lt)}catch(ye){Ft.e(ye)}finally{Ft.f()}var et=Object(ce.a)(Pe),Vt;try{for(et.s();!(Vt=et.n()).done;)for(var Re=Vt.value,Ce=Re.start;Ce<Re.end;Ce++)De.insertItemInDOM(Ce,Fe)}catch(ye){et.e(ye)}finally{et.f()}}),ge!==void 0&&(this.rowsContainer.style.left="-".concat(ge,"px")),this.rowsContainer.style.top="-".concat(J,"px"),this.horizontalScrolling&&L!==void 0&&(this.rowsContainer.style.width="".concat(Math.max(L,this.renderWidth),"px")),this.lastRenderTop=J,this.lastRenderHeight=me}},{key:"insertItemInDOM",value:function(Q,J,me){var ge=this,L=this.items[Q],De=!1;if(!L.row)if(me)L.row=me;else{var Ae=this.cache.alloc(L.templateId);L.row=Ae.row,De=Ae.isReusingConnectedDomNode}var Oe=this.accessibilityProvider.getRole(L.element)||"listitem";L.row.domNode.setAttribute("role",Oe);var Pe=this.accessibilityProvider.isChecked(L.element);if(typeof Pe=="boolean")L.row.domNode.setAttribute("aria-checked",String(!!Pe));else if(Pe){var Ne=function(Ft){return L.row.domNode.setAttribute("aria-checked",String(!!Ft))};Ne(Pe.value),L.checkedDisposable=Pe.onDidChange(Ne)}(De||!L.row.domNode.parentElement)&&(J?this.rowsContainer.insertBefore(L.row.domNode,J):this.rowsContainer.appendChild(L.row.domNode)),this.updateItemInDOM(L,Q);var Fe=this.renderers.get(L.templateId);if(!Fe)throw new Error("No renderer found for template id ".concat(L.templateId));Fe==null||Fe.renderElement(L.element,Q,L.row.templateData,L.size);var Xe=this.dnd.getDragURI(L.element);L.dragStartDisposable.dispose(),L.row.domNode.draggable=!!Xe,Xe&&(L.dragStartDisposable=Object(te.addDisposableListener)(L.row.domNode,"dragstart",function(Et){return ge.onDragStart(L.element,Xe,Et)})),this.horizontalScrolling&&(this.measureItemWidth(L),this.eventuallyUpdateScrollWidth())}},{key:"measureItemWidth",value:function(Q){if(!(!Q.row||!Q.row.domNode)){Q.row.domNode.style.width="fit-content",Q.width=Object(te.getContentWidth)(Q.row.domNode);var J=window.getComputedStyle(Q.row.domNode);J.paddingLeft&&(Q.width+=parseFloat(J.paddingLeft)),J.paddingRight&&(Q.width+=parseFloat(J.paddingRight)),Q.row.domNode.style.width=""}}},{key:"updateItemInDOM",value:function(Q,J){Q.row.domNode.style.top="".concat(this.elementTop(J),"px"),this.setRowHeight&&(Q.row.domNode.style.height="".concat(Q.size,"px")),this.setRowLineHeight&&(Q.row.domNode.style.lineHeight="".concat(Q.size,"px")),Q.row.domNode.setAttribute("data-index","".concat(J)),Q.row.domNode.setAttribute("data-last-element",J===this.length-1?"true":"false"),Q.row.domNode.setAttribute("data-parity",J%2==0?"even":"odd"),Q.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(Q.element,J,this.length))),Q.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(Q.element,J))),Q.row.domNode.setAttribute("id",this.getElementDomId(J)),Q.row.domNode.classList.toggle("drop-target",Q.dropTarget)}},{key:"removeItemFromDOM",value:function(Q){var J=this.items[Q];if(J.dragStartDisposable.dispose(),J.checkedDisposable.dispose(),J.row){var me=this.renderers.get(J.templateId);me&&me.disposeElement&&me.disposeElement(J.element,Q,J.row.templateData,J.size),this.cache.release(J.row),J.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}},{key:"getScrollTop",value:function(){var Q=this.scrollableElement.getScrollPosition();return Q.scrollTop}},{key:"setScrollTop",value:function(Q,J){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:Q,reuseAnimation:J})}},{key:"scrollTop",get:function(){return this.getScrollTop()},set:function(Q){this.setScrollTop(Q)}},{key:"scrollHeight",get:function(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}},{key:"onMouseClick",get:function(){var Q=this;return V.c.map(this.disposables.add(new $.a(this.domNode,"click")).event,function(J){return Q.toMouseEvent(J)},this.disposables)}},{key:"onMouseDblClick",get:function(){var Q=this;return V.c.map(this.disposables.add(new $.a(this.domNode,"dblclick")).event,function(J){return Q.toMouseEvent(J)},this.disposables)}},{key:"onMouseMiddleClick",get:function(){var Q=this;return V.c.filter(V.c.map(this.disposables.add(new $.a(this.domNode,"auxclick")).event,function(J){return Q.toMouseEvent(J)},this.disposables),function(J){return J.browserEvent.button===1},this.disposables)}},{key:"onMouseDown",get:function(){var Q=this;return V.c.map(this.disposables.add(new $.a(this.domNode,"mousedown")).event,function(J){return Q.toMouseEvent(J)},this.disposables)}},{key:"onMouseOver",get:function(){var Q=this;return V.c.map(this.disposables.add(new $.a(this.domNode,"mouseover")).event,function(J){return Q.toMouseEvent(J)},this.disposables)}},{key:"onMouseOut",get:function(){var Q=this;return V.c.map(this.disposables.add(new $.a(this.domNode,"mouseout")).event,function(J){return Q.toMouseEvent(J)},this.disposables)}},{key:"onContextMenu",get:function(){var Q=this;return V.c.any(V.c.map(this.disposables.add(new $.a(this.domNode,"contextmenu")).event,function(J){return Q.toMouseEvent(J)},this.disposables),V.c.map(this.disposables.add(new $.a(this.domNode,_.a.Contextmenu)).event,function(J){return Q.toGestureEvent(J)},this.disposables))}},{key:"onTouchStart",get:function(){var Q=this;return V.c.map(this.disposables.add(new $.a(this.domNode,"touchstart")).event,function(J){return Q.toTouchEvent(J)},this.disposables)}},{key:"onTap",get:function(){var Q=this;return V.c.map(this.disposables.add(new $.a(this.rowsContainer,_.a.Tap)).event,function(J){return Q.toGestureEvent(J)},this.disposables)}},{key:"toMouseEvent",value:function(Q){var J=this.getItemIndexFromEventTarget(Q.target||null),me=typeof J=="undefined"?void 0:this.items[J],ge=me&&me.element;return{browserEvent:Q,index:J,element:ge}}},{key:"toTouchEvent",value:function(Q){var J=this.getItemIndexFromEventTarget(Q.target||null),me=typeof J=="undefined"?void 0:this.items[J],ge=me&&me.element;return{browserEvent:Q,index:J,element:ge}}},{key:"toGestureEvent",value:function(Q){var J=this.getItemIndexFromEventTarget(Q.initialTarget||null),me=typeof J=="undefined"?void 0:this.items[J],ge=me&&me.element;return{browserEvent:Q,index:J,element:ge}}},{key:"toDragEvent",value:function(Q){var J=this.getItemIndexFromEventTarget(Q.target||null),me=typeof J=="undefined"?void 0:this.items[J],ge=me&&me.element;return{browserEvent:Q,index:J,element:ge}}},{key:"onScroll",value:function(Q){try{var J=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(J,Q.scrollTop,Q.height,Q.scrollLeft,Q.scrollWidth),this.supportDynamicHeights&&this._rerender(Q.scrollTop,Q.height,Q.inSmoothScrolling)}catch(me){throw console.error("Got bad scroll event:",Q),me}}},{key:"onTouchChange",value:function(Q){Q.preventDefault(),Q.stopPropagation(),this.scrollTop-=Q.translationY}},{key:"onDragStart",value:function(Q,J,me){var ge,L;if(!!me.dataTransfer){var De=this.dnd.getDragElements(Q);if(me.dataTransfer.effectAllowed="copyMove",me.dataTransfer.setData(se.a.TEXT,J),me.dataTransfer.setDragImage){var Ae;this.dnd.getDragLabel&&(Ae=this.dnd.getDragLabel(De,me)),typeof Ae=="undefined"&&(Ae=String(De.length));var Oe=Object(te.$)(".monaco-drag-image");Oe.textContent=Ae;var Pe=function(Xe){for(;Xe&&!Xe.classList.contains("monaco-workbench");)Xe=Xe.parentElement;return Xe||document.body},Ne=Pe(this.domNode);Ne.appendChild(Oe),me.dataTransfer.setDragImage(Oe,-10,-10),setTimeout(function(){return Ne.removeChild(Oe)},0)}this.domNode.classList.add("dragging"),this.currentDragData=new pe(De),I.CurrentDragAndDropData=new fe(De),(L=(ge=this.dnd).onDragStart)===null||L===void 0||L.call(ge,this.currentDragData,me)}}},{key:"onDragOver",value:function(Q){var J=this,me;if(Q.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),I.CurrentDragAndDropData&&I.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(Q.browserEvent),!Q.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(I.CurrentDragAndDropData)this.currentDragData=I.CurrentDragAndDropData;else{if(!Q.browserEvent.dataTransfer.types)return!1;this.currentDragData=new ke}var ge=this.dnd.onDragOver(this.currentDragData,Q.element,Q.index,Q.browserEvent);if(this.canDrop=typeof ge=="boolean"?ge:ge.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;Q.browserEvent.dataTransfer.dropEffect=typeof ge!="boolean"&&ge.effect===0?"copy":"move";var L;if(typeof ge!="boolean"&&ge.feedback?L=ge.feedback:typeof Q.index=="undefined"?L=[-1]:L=[Q.index],L=Object(E.i)(L).filter(function(Ne){return Ne>=-1&&Ne<J.length}).sort(function(Ne,Fe){return Ne-Fe}),L=L[0]===-1?[-1]:L,A(this.currentDragFeedback,L))return!0;if(this.currentDragFeedback=L,this.currentDragFeedbackDisposable.dispose(),L[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=Object(B.l)(function(){J.domNode.classList.remove("drop-target"),J.rowsContainer.classList.remove("drop-target")});else{var De=Object(ce.a)(L),Ae;try{for(De.s();!(Ae=De.n()).done;){var Oe=Ae.value,Pe=this.items[Oe];Pe.dropTarget=!0,(me=Pe.row)===null||me===void 0||me.domNode.classList.add("drop-target")}}catch(Ne){De.e(Ne)}finally{De.f()}this.currentDragFeedbackDisposable=Object(B.l)(function(){var Ne,Fe=Object(ce.a)(L),Xe;try{for(Fe.s();!(Xe=Fe.n()).done;){var Et=Xe.value,Ft=J.items[Et];Ft.dropTarget=!1,(Ne=Ft.row)===null||Ne===void 0||Ne.domNode.classList.remove("drop-target")}}catch(Ot){Fe.e(Ot)}finally{Fe.f()}})}return!0}},{key:"onDragLeave",value:function(Q){var J=this,me,ge;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Object(Z.l)(function(){return J.clearDragOverFeedback()},100),this.currentDragData&&((ge=(me=this.dnd).onDragLeave)===null||ge===void 0||ge.call(me,this.currentDragData,Q.element,Q.index,Q.browserEvent))}},{key:"onDrop",value:function(Q){if(!!this.canDrop){var J=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,I.CurrentDragAndDropData=void 0,!(!J||!Q.browserEvent.dataTransfer)&&(Q.browserEvent.preventDefault(),J.update(Q.browserEvent.dataTransfer),this.dnd.drop(J,Q.element,Q.index,Q.browserEvent))}}},{key:"onDragEnd",value:function(Q){var J,me;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,I.CurrentDragAndDropData=void 0,(me=(J=this.dnd).onDragEnd)===null||me===void 0||me.call(J,Q)}},{key:"clearDragOverFeedback",value:function(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=B.a.None}},{key:"setupDragAndDropScrollTopAnimation",value:function(Q){var J=this;if(!this.dragOverAnimationDisposable){var me=Object(te.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=Object(te.animate)(this.animateDragAndDropScrollTop.bind(this,me))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Object(Z.l)(function(){J.dragOverAnimationDisposable&&(J.dragOverAnimationDisposable.dispose(),J.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=Q.pageY}},{key:"animateDragAndDropScrollTop",value:function(Q){if(this.dragOverMouseY!==void 0){var J=this.dragOverMouseY-Q,me=this.renderHeight-35;J<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(J-35))):J>me&&(this.scrollTop+=Math.min(14,Math.floor(.3*(J-me))))}}},{key:"teardownDragAndDropScrollTopAnimation",value:function(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}},{key:"getItemIndexFromEventTarget",value:function(Q){for(var J=this.scrollableElement.getDomNode(),me=Q;me instanceof HTMLElement&&me!==this.rowsContainer&&J.contains(me);){var ge=me.getAttribute("data-index");if(ge){var L=Number(ge);if(!isNaN(L))return L}me=me.parentElement}}},{key:"getRenderRange",value:function(Q,J){return{start:this.rangeMap.indexAt(Q),end:this.rangeMap.indexAfter(Q+J-1)}}},{key:"_rerender",value:function(Q,J,me){var ge=this.getRenderRange(Q,J),L,De;Q===this.elementTop(ge.start)?(L=ge.start,De=0):ge.end-ge.start>1&&(L=ge.start+1,De=this.elementTop(L)-Q);for(var Ae=0;;){for(var Oe=this.getRenderRange(Q,J),Pe=!1,Ne=Oe.start;Ne<Oe.end;Ne++){var Fe=this.probeDynamicHeight(Ne);Fe!==0&&this.rangeMap.splice(Ne,1,[this.items[Ne]]),Ae+=Fe,Pe=Pe||Fe!==0}if(!Pe){Ae!==0&&this.eventuallyUpdateScrollDimensions();var Xe=F.a.relativeComplement(ge,Oe),Et=Object(ce.a)(Xe),Ft;try{for(Et.s();!(Ft=Et.n()).done;)for(var Ot=Ft.value,pt=Ot.start;pt<Ot.end;pt++)this.items[pt].row&&this.removeItemFromDOM(pt)}catch(He){Et.e(He)}finally{Et.f()}var Lt=F.a.relativeComplement(Oe,ge),et=Object(ce.a)(Lt),Vt;try{for(et.s();!(Vt=et.n()).done;)for(var Re=Vt.value,Ce=Re.start;Ce<Re.end;Ce++){var ye=Ce+1,Te=ye<this.items.length?this.items[ye].row:null,Qe=Te?Te.domNode:null;this.insertItemInDOM(Ce,Qe)}}catch(He){et.e(He)}finally{et.f()}for(var $e=Oe.start;$e<Oe.end;$e++)this.items[$e].row&&this.updateItemInDOM(this.items[$e],$e);if(typeof L=="number"){var ze=this.scrollable.getFutureScrollPosition().scrollTop-Q,ot=this.elementTop(L)-De+ze;this.setScrollTop(ot,me)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}},{key:"probeDynamicHeight",value:function(Q){var J,me,ge,L=this.items[Q];if(this.virtualDelegate.getDynamicHeight){var De=this.virtualDelegate.getDynamicHeight(L.element);if(De!==null){var Ae=L.size;return L.size=De,L.lastDynamicHeightWidth=this.renderWidth,De-Ae}}if(!L.hasDynamicHeight||L.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(L.element))return 0;var Oe=L.size;if(L.row)return L.row.domNode.style.height="",L.size=L.row.domNode.offsetHeight,L.lastDynamicHeightWidth=this.renderWidth,L.size-Oe;var Pe=this.cache.alloc(L.templateId),Ne=Pe.row;Ne.domNode.style.height="",this.rowsContainer.appendChild(Ne.domNode);var Fe=this.renderers.get(L.templateId);if(!Fe)throw new T.a("Missing renderer for templateId: "+L.templateId);return Fe.renderElement(L.element,Q,Ne.templateData,void 0),L.size=Ne.domNode.offsetHeight,(J=Fe.disposeElement)===null||J===void 0||J.call(Fe,L.element,Q,Ne.templateData,void 0),(ge=(me=this.virtualDelegate).setDynamicHeight)===null||ge===void 0||ge.call(me,L.element,L.size),L.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(Ne.domNode),this.cache.release(Ne),L.size-Oe}},{key:"getNextToLastElement",value:function(Q){var J=Q[Q.length-1];if(!J)return null;var me=this.items[J.end];return!me||!me.row?null:me.row.domNode}},{key:"getElementDomId",value:function(Q){return"".concat(this.domId,"_").concat(Q)}},{key:"dispose",value:function(){var Q;if(this.items){var J=Object(ce.a)(this.items),me;try{for(J.s();!(me=J.n()).done;){var ge=me.value;if(ge.row){var L=this.renderers.get(ge.row.templateId);L&&((Q=L.disposeElement)===null||Q===void 0||Q.call(L,ge.element,-1,ge.row.templateData,void 0),L.disposeTemplate(ge.row.templateData))}}}catch(De){J.e(De)}finally{J.f()}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),Object(B.i)(this.disposables)}}]),re}();G.InstanceCount=0,z([ne.a],G.prototype,"onMouseClick",null),z([ne.a],G.prototype,"onMouseDblClick",null),z([ne.a],G.prototype,"onMouseMiddleClick",null),z([ne.a],G.prototype,"onMouseDown",null),z([ne.a],G.prototype,"onMouseOver",null),z([ne.a],G.prototype,"onMouseOut",null),z([ne.a],G.prototype,"onContextMenu",null),z([ne.a],G.prototype,"onTouchStart",null),z([ne.a],G.prototype,"onTap",null)},fjLI:function(mn,U,a){"use strict";a.d(U,"g",function(){return d}),a.d(U,"h",function(){return D}),a.d(U,"c",function(){return C}),a.d(U,"b",function(){return x}),a.d(U,"e",function(){return T}),a.d(U,"f",function(){return z}),a.d(U,"d",function(){return I}),a.d(U,"a",function(){return de}),a.d(U,"i",function(){return pe});var ce=a("yKVA"),we=a("879j"),w=a("oBTY"),ve=a("rAM+"),se=a("mtLc"),te=a("fWQN"),$=a("8HAY"),_=a("T5lh"),Y=a("MI8n"),E=a("pmY6"),Z=a("24hK"),ne=a("nnTU"),V=a("T8No"),B=a("Cg/j"),F=a("nrhi"),W=function(fe,ke,A,P){var G=arguments.length,re=G<3?ke:P===null?P=Object.getOwnPropertyDescriptor(ke,A):P,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(fe,ke,A,P);else for(var Q=fe.length-1;Q>=0;Q--)(ae=fe[Q])&&(re=(G<3?ae(re):G>3?ae(ke,A,re):ae(ke,A))||re);return G>3&&re&&Object.defineProperty(ke,A,re),re},N=function(fe,ke){return function(A,P){ke(A,P,fe)}},H=function(fe,ke){var A={};for(var P in fe)Object.prototype.hasOwnProperty.call(fe,P)&&ke.indexOf(P)<0&&(A[P]=fe[P]);if(fe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,P=Object.getOwnPropertySymbols(fe);G<P.length;G++)ke.indexOf(P[G])<0&&Object.prototype.propertyIsEnumerable.call(fe,P[G])&&(A[P[G]]=fe[P[G]]);return A};function d(fe){return fe.command!==void 0}function D(fe){return fe.submenu!==void 0}var C=Object(se.a)(function fe(ke){if(Object(te.a)(this,fe),fe._instances.has(ke))throw new TypeError("MenuId with identifier '".concat(ke,"' already exists. Use MenuId.for(ident) or a unique identifier"));fe._instances.set(ke,this),this.id=ke});C._instances=new Map,C.CommandPalette=new C("CommandPalette"),C.DebugBreakpointsContext=new C("DebugBreakpointsContext"),C.DebugCallStackContext=new C("DebugCallStackContext"),C.DebugConsoleContext=new C("DebugConsoleContext"),C.DebugVariablesContext=new C("DebugVariablesContext"),C.DebugWatchContext=new C("DebugWatchContext"),C.DebugToolBar=new C("DebugToolBar"),C.DebugToolBarStop=new C("DebugToolBarStop"),C.EditorContext=new C("EditorContext"),C.SimpleEditorContext=new C("SimpleEditorContext"),C.EditorContent=new C("EditorContent"),C.EditorLineNumberContext=new C("EditorLineNumberContext"),C.EditorContextCopy=new C("EditorContextCopy"),C.EditorContextPeek=new C("EditorContextPeek"),C.EditorContextShare=new C("EditorContextShare"),C.EditorTitle=new C("EditorTitle"),C.EditorTitleRun=new C("EditorTitleRun"),C.EditorTitleContext=new C("EditorTitleContext"),C.EditorTitleContextShare=new C("EditorTitleContextShare"),C.EmptyEditorGroup=new C("EmptyEditorGroup"),C.EmptyEditorGroupContext=new C("EmptyEditorGroupContext"),C.EditorTabsBarContext=new C("EditorTabsBarContext"),C.ExplorerContext=new C("ExplorerContext"),C.ExplorerContextShare=new C("ExplorerContextShare"),C.ExtensionContext=new C("ExtensionContext"),C.GlobalActivity=new C("GlobalActivity"),C.CommandCenter=new C("CommandCenter"),C.LayoutControlMenuSubmenu=new C("LayoutControlMenuSubmenu"),C.LayoutControlMenu=new C("LayoutControlMenu"),C.MenubarMainMenu=new C("MenubarMainMenu"),C.MenubarAppearanceMenu=new C("MenubarAppearanceMenu"),C.MenubarDebugMenu=new C("MenubarDebugMenu"),C.MenubarEditMenu=new C("MenubarEditMenu"),C.MenubarCopy=new C("MenubarCopy"),C.MenubarFileMenu=new C("MenubarFileMenu"),C.MenubarGoMenu=new C("MenubarGoMenu"),C.MenubarHelpMenu=new C("MenubarHelpMenu"),C.MenubarLayoutMenu=new C("MenubarLayoutMenu"),C.MenubarNewBreakpointMenu=new C("MenubarNewBreakpointMenu"),C.PanelAlignmentMenu=new C("PanelAlignmentMenu"),C.PanelPositionMenu=new C("PanelPositionMenu"),C.MenubarPreferencesMenu=new C("MenubarPreferencesMenu"),C.MenubarRecentMenu=new C("MenubarRecentMenu"),C.MenubarSelectionMenu=new C("MenubarSelectionMenu"),C.MenubarShare=new C("MenubarShare"),C.MenubarSwitchEditorMenu=new C("MenubarSwitchEditorMenu"),C.MenubarSwitchGroupMenu=new C("MenubarSwitchGroupMenu"),C.MenubarTerminalMenu=new C("MenubarTerminalMenu"),C.MenubarViewMenu=new C("MenubarViewMenu"),C.MenubarHomeMenu=new C("MenubarHomeMenu"),C.OpenEditorsContext=new C("OpenEditorsContext"),C.OpenEditorsContextShare=new C("OpenEditorsContextShare"),C.ProblemsPanelContext=new C("ProblemsPanelContext"),C.SCMChangeContext=new C("SCMChangeContext"),C.SCMResourceContext=new C("SCMResourceContext"),C.SCMResourceContextShare=new C("SCMResourceContextShare"),C.SCMResourceFolderContext=new C("SCMResourceFolderContext"),C.SCMResourceGroupContext=new C("SCMResourceGroupContext"),C.SCMSourceControl=new C("SCMSourceControl"),C.SCMTitle=new C("SCMTitle"),C.SearchContext=new C("SearchContext"),C.SearchActionMenu=new C("SearchActionContext"),C.StatusBarWindowIndicatorMenu=new C("StatusBarWindowIndicatorMenu"),C.StatusBarRemoteIndicatorMenu=new C("StatusBarRemoteIndicatorMenu"),C.StickyScrollContext=new C("StickyScrollContext"),C.TestItem=new C("TestItem"),C.TestItemGutter=new C("TestItemGutter"),C.TestPeekElement=new C("TestPeekElement"),C.TestPeekTitle=new C("TestPeekTitle"),C.TouchBarContext=new C("TouchBarContext"),C.TitleBarContext=new C("TitleBarContext"),C.TitleBarTitleContext=new C("TitleBarTitleContext"),C.TunnelContext=new C("TunnelContext"),C.TunnelPrivacy=new C("TunnelPrivacy"),C.TunnelProtocol=new C("TunnelProtocol"),C.TunnelPortInline=new C("TunnelInline"),C.TunnelTitle=new C("TunnelTitle"),C.TunnelLocalAddressInline=new C("TunnelLocalAddressInline"),C.TunnelOriginInline=new C("TunnelOriginInline"),C.ViewItemContext=new C("ViewItemContext"),C.ViewContainerTitle=new C("ViewContainerTitle"),C.ViewContainerTitleContext=new C("ViewContainerTitleContext"),C.ViewTitle=new C("ViewTitle"),C.ViewTitleContext=new C("ViewTitleContext"),C.CommentEditorActions=new C("CommentEditorActions"),C.CommentThreadTitle=new C("CommentThreadTitle"),C.CommentThreadActions=new C("CommentThreadActions"),C.CommentThreadAdditionalActions=new C("CommentThreadAdditionalActions"),C.CommentThreadTitleContext=new C("CommentThreadTitleContext"),C.CommentThreadCommentContext=new C("CommentThreadCommentContext"),C.CommentTitle=new C("CommentTitle"),C.CommentActions=new C("CommentActions"),C.InteractiveToolbar=new C("InteractiveToolbar"),C.InteractiveCellTitle=new C("InteractiveCellTitle"),C.InteractiveCellDelete=new C("InteractiveCellDelete"),C.InteractiveCellExecute=new C("InteractiveCellExecute"),C.InteractiveInputExecute=new C("InteractiveInputExecute"),C.NotebookToolbar=new C("NotebookToolbar"),C.NotebookCellTitle=new C("NotebookCellTitle"),C.NotebookCellDelete=new C("NotebookCellDelete"),C.NotebookCellInsert=new C("NotebookCellInsert"),C.NotebookCellBetween=new C("NotebookCellBetween"),C.NotebookCellListTop=new C("NotebookCellTop"),C.NotebookCellExecute=new C("NotebookCellExecute"),C.NotebookCellExecutePrimary=new C("NotebookCellExecutePrimary"),C.NotebookDiffCellInputTitle=new C("NotebookDiffCellInputTitle"),C.NotebookDiffCellMetadataTitle=new C("NotebookDiffCellMetadataTitle"),C.NotebookDiffCellOutputsTitle=new C("NotebookDiffCellOutputsTitle"),C.NotebookOutputToolbar=new C("NotebookOutputToolbar"),C.NotebookEditorLayoutConfigure=new C("NotebookEditorLayoutConfigure"),C.NotebookKernelSource=new C("NotebookKernelSource"),C.BulkEditTitle=new C("BulkEditTitle"),C.BulkEditContext=new C("BulkEditContext"),C.TimelineItemContext=new C("TimelineItemContext"),C.TimelineTitle=new C("TimelineTitle"),C.TimelineTitleContext=new C("TimelineTitleContext"),C.TimelineFilterSubMenu=new C("TimelineFilterSubMenu"),C.AccountsContext=new C("AccountsContext"),C.PanelTitle=new C("PanelTitle"),C.AuxiliaryBarTitle=new C("AuxiliaryBarTitle"),C.TerminalInstanceContext=new C("TerminalInstanceContext"),C.TerminalEditorInstanceContext=new C("TerminalEditorInstanceContext"),C.TerminalNewDropdownContext=new C("TerminalNewDropdownContext"),C.TerminalTabContext=new C("TerminalTabContext"),C.TerminalTabEmptyAreaContext=new C("TerminalTabEmptyAreaContext"),C.TerminalInlineTabContext=new C("TerminalInlineTabContext"),C.WebviewContext=new C("WebviewContext"),C.InlineCompletionsActions=new C("InlineCompletionsActions"),C.NewFile=new C("NewFile"),C.MergeInput1Toolbar=new C("MergeToolbar1Toolbar"),C.MergeInput2Toolbar=new C("MergeToolbar2Toolbar"),C.MergeBaseToolbar=new C("MergeBaseToolbar"),C.MergeInputResultToolbar=new C("MergeToolbarResultToolbar"),C.InlineSuggestionToolbar=new C("InlineSuggestionToolbar"),C.ChatContext=new C("ChatContext"),C.ChatCodeBlock=new C("ChatCodeblock"),C.ChatMessageTitle=new C("ChatMessageTitle"),C.ChatExecute=new C("ChatExecute");var x=Object(B.c)("menuService"),O=function(){function fe(ke){Object(te.a)(this,fe),this.id=ke,this.has=function(A){return A===ke}}return Object(se.a)(fe,null,[{key:"for",value:function(A){var P=this._all.get(A);return P||(P=new fe(A),this._all.set(A,P)),P}},{key:"merge",value:function(A){var P=new Set,G=Object(ve.a)(A),re;try{for(G.s();!(re=G.n()).done;){var ae=re.value;ae instanceof fe&&P.add(ae.id)}}catch(Q){G.e(Q)}finally{G.f()}return P}}]),fe}();O._all=new Map;var T=new(function(){function fe(){Object(te.a)(this,fe),this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Y.g({merge:O.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}return Object(se.a)(fe,[{key:"addCommand",value:function(A){var P=this;return this._commands.set(A.id,A),this._onDidChangeMenu.fire(O.for(C.CommandPalette)),Object(E.l)(function(){P._commands.delete(A.id)&&P._onDidChangeMenu.fire(O.for(C.CommandPalette))})}},{key:"getCommand",value:function(A){return this._commands.get(A)}},{key:"getCommands",value:function(){var A=new Map;return this._commands.forEach(function(P,G){return A.set(G,P)}),A}},{key:"appendMenuItem",value:function(A,P){var G=this._menuItems.get(A);G||(G=new Z.a,this._menuItems.set(A,G));var re=G.push(P);return this._onDidChangeMenu.fire(O.for(A)),Object(E.l)(re)}},{key:"appendMenuItems",value:function(A){var P=new E.c,G=Object(ve.a)(A),re;try{for(G.s();!(re=G.n()).done;){var ae=re.value,Q=ae.id,J=ae.item;P.add(this.appendMenuItem(Q,J))}}catch(me){G.e(me)}finally{G.f()}return P}},{key:"getMenuItems",value:function(A){var P;return this._menuItems.has(A)?P=Object(w.a)(this._menuItems.get(A)):P=[],A===C.CommandPalette&&this._appendImplicitItems(P),P}},{key:"_appendImplicitItems",value:function(A){var P=new Set,G=Object(ve.a)(A),re;try{for(G.s();!(re=G.n()).done;){var ae=re.value;d(ae)&&(P.add(ae.command.id),ae.alt&&P.add(ae.alt.id))}}catch(Q){G.e(Q)}finally{G.f()}this._commands.forEach(function(Q,J){P.has(J)||A.push({command:Q})})}}]),fe}()),z=function(fe){Object(ce.a)(A,fe);var ke=Object(we.a)(A);function A(P,G,re){var ae;return Object(te.a)(this,A),ae=ke.call(this,"submenuitem.".concat(P.submenu.id),typeof P.title=="string"?P.title:P.title.value,re,"submenu"),ae.item=P,ae.hideActions=G,ae}return Object(se.a)(A)}($.e),I=function(){function fe(ke,A,P,G,re,ae){Object(te.a)(this,fe);var Q,J;this.hideActions=G,this._commandService=ae,this.id=ke.id,this.label=fe.label(ke,P),this.tooltip=(J=typeof ke.tooltip=="string"?ke.tooltip:(Q=ke.tooltip)===null||Q===void 0?void 0:Q.value)!==null&&J!==void 0?J:"",this.enabled=!ke.precondition||re.contextMatchesRules(ke.precondition),this.checked=void 0;var me;if(ke.toggled){var ge=ke.toggled.condition?ke.toggled:{condition:ke.toggled};this.checked=re.contextMatchesRules(ge.condition),this.checked&&ge.tooltip&&(this.tooltip=typeof ge.tooltip=="string"?ge.tooltip:ge.tooltip.value),this.checked&&_.a.isThemeIcon(ge.icon)&&(me=ge.icon),ge.title&&(this.label=typeof ge.title=="string"?ge.title:ge.title.value)}me||(me=_.a.isThemeIcon(ke.icon)?ke.icon:void 0),this.item=ke,this.alt=A?new fe(A,void 0,P,G,re,ae):void 0,this._options=P,this.class=me&&_.a.asClassName(me)}return Object(se.a)(fe,[{key:"run",value:function(){var A,P,G,re=[];if(((P=this._options)===null||P===void 0?void 0:P.arg)&&(re=[].concat(Object(w.a)(re),[this._options.arg])),(G=this._options)===null||G===void 0?void 0:G.shouldForwardArgs){for(var ae=arguments.length,Q=new Array(ae),J=0;J<ae;J++)Q[J]=arguments[J];re=[].concat(Object(w.a)(re),Q)}return(A=this._commandService).executeCommand.apply(A,[this.id].concat(Object(w.a)(re)))}}],[{key:"label",value:function(A,P){return(P==null?void 0:P.renderShortTitle)&&A.shortTitle?typeof A.shortTitle=="string"?A.shortTitle:A.shortTitle.value:typeof A.title=="string"?A.title:A.title.value}}]),fe}();I=W([N(4,V.b),N(5,ne.b)],I);var de=Object(se.a)(function fe(ke){Object(te.a)(this,fe),this.desc=ke});function pe(fe){var ke=new E.c,A=new fe,P=A.desc,G=P.f1,re=P.menu,ae=P.keybinding,Q=P.description,J=H(P,["f1","menu","keybinding","description"]);if(ke.add(ne.a.registerCommand({id:J.id,handler:function(Ne){for(var Fe=arguments.length,Xe=new Array(Fe>1?Fe-1:0),Et=1;Et<Fe;Et++)Xe[Et-1]=arguments[Et];return A.run.apply(A,[Ne].concat(Xe))},description:Q})),Array.isArray(re)){var me=Object(ve.a)(re),ge;try{for(me.s();!(ge=me.n()).done;){var L=ge.value;ke.add(T.appendMenuItem(L.id,Object.assign({command:Object.assign(Object.assign({},J),{precondition:L.precondition===null?void 0:J.precondition})},L)))}}catch(Pe){me.e(Pe)}finally{me.f()}}else re&&ke.add(T.appendMenuItem(re.id,Object.assign({command:Object.assign(Object.assign({},J),{precondition:re.precondition===null?void 0:J.precondition})},re)));if(G&&(ke.add(T.appendMenuItem(C.CommandPalette,{command:J,when:J.precondition})),ke.add(T.addCommand(J))),Array.isArray(ae)){var De=Object(ve.a)(ae),Ae;try{for(De.s();!(Ae=De.n()).done;){var Oe=Ae.value;ke.add(F.a.registerKeybindingRule(Object.assign(Object.assign({},Oe),{id:J.id,when:J.precondition?V.a.and(J.precondition,Oe.when):Oe.when})))}}catch(Pe){De.e(Pe)}finally{De.f()}}else ae&&ke.add(F.a.registerKeybindingRule(Object.assign(Object.assign({},ae),{id:J.id,when:J.precondition?V.a.and(J.precondition,ae.when):ae.when})));return ke}},fpMC:function(mn,U,a){"use strict";a.d(U,"l",function(){return se}),a.d(U,"i",function(){return $}),a.d(U,"g",function(){return Y}),a.d(U,"j",function(){return E}),a.d(U,"k",function(){return pe}),a.d(U,"h",function(){return re}),a.d(U,"c",function(){return ae}),a.d(U,"d",function(){return Q}),a.d(U,"a",function(){return Lt}),a.d(U,"b",function(){return et}),a.d(U,"e",function(){return Vt}),a.d(U,"f",function(){return ye});var ce=a("mtLc"),we=a("fWQN"),w=a("QDVR"),ve=a("N0LK");function se(){for(var $e=arguments.length,ze=new Array($e),ot=0;ot<$e;ot++)ze[ot]=arguments[ot];return function(He,Ge){for(var Je=0,ft=ze.length;Je<ft;Je++){var qt=ze[Je](He,Ge);if(qt)return qt}return null}}var te=_.bind(void 0,!1),$=_.bind(void 0,!0);function _($e,ze,ot){if(!ot||ot.length<ze.length)return null;var He;return $e?He=ve.T(ot,ze):He=ot.indexOf(ze)===0,He?ze.length>0?[{start:0,end:ze.length}]:[]:null}function Y($e,ze){var ot=ze.toLowerCase().indexOf($e.toLowerCase());return ot===-1?null:[{start:ot,end:ot+$e.length}]}function E($e,ze){return Z($e.toLowerCase(),ze.toLowerCase(),0,0)}function Z($e,ze,ot,He){if(ot===$e.length)return[];if(He===ze.length)return null;if($e[ot]===ze[He]){var Ge=null;return(Ge=Z($e,ze,ot+1,He+1))?D({start:He,end:He+1},Ge):null}return Z($e,ze,ot,He+1)}function ne($e){return 97<=$e&&$e<=122}function V($e){return 65<=$e&&$e<=90}function B($e){return 48<=$e&&$e<=57}function F($e){return $e===32||$e===9||$e===10||$e===13}var W=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(function($e){return W.add($e.charCodeAt(0))});function N($e){return F($e)||W.has($e)}function H($e,ze){return $e===ze||N($e)&&N(ze)}function d($e){return ne($e)||V($e)||B($e)}function D($e,ze){return ze.length===0?ze=[$e]:$e.end===ze[0].start?ze[0].start=$e.start:ze.unshift($e),ze}function C($e,ze){for(var ot=ze;ot<$e.length;ot++){var He=$e.charCodeAt(ot);if(V(He)||B(He)||ot>0&&!d($e.charCodeAt(ot-1)))return ot}return $e.length}function x($e,ze,ot,He){if(ot===$e.length)return[];if(He===ze.length)return null;if($e[ot]!==ze[He].toLowerCase())return null;var Ge=null,Je=He+1;for(Ge=x($e,ze,ot+1,He+1);!Ge&&(Je=C(ze,Je))<ze.length;)Ge=x($e,ze,ot+1,Je),Je++;return Ge===null?null:D({start:He,end:He+1},Ge)}function O($e){for(var ze=0,ot=0,He=0,Ge=0,Je=0,ft=0;ft<$e.length;ft++)Je=$e.charCodeAt(ft),V(Je)&&ze++,ne(Je)&&ot++,d(Je)&&He++,B(Je)&&Ge++;var qt=ze/$e.length,bt=ot/$e.length,Bt=He/$e.length,rn=Ge/$e.length;return{upperPercent:qt,lowerPercent:bt,alphaPercent:Bt,numericPercent:rn}}function T($e){var ze=$e.upperPercent,ot=$e.lowerPercent;return ot===0&&ze>.6}function z($e){var ze=$e.upperPercent,ot=$e.lowerPercent,He=$e.alphaPercent,Ge=$e.numericPercent;return ot>.2&&ze<.8&&He>.6&&Ge<.2}function I($e){for(var ze=0,ot=0,He=0,Ge=0,Je=0;Je<$e.length;Je++)He=$e.charCodeAt(Je),V(He)&&ze++,ne(He)&&ot++,F(He)&&Ge++;return(ze===0||ot===0)&&Ge===0?$e.length<=30:ze<=5}function de($e,ze){if(!ze||(ze=ze.trim(),ze.length===0)||!I($e)||ze.length>60)return null;var ot=O(ze);if(!z(ot)){if(!T(ot))return null;ze=ze.toLowerCase()}var He=null,Ge=0;for($e=$e.toLowerCase();Ge<ze.length&&(He=x($e,ze,0,Ge))===null;)Ge=C(ze,Ge+1);return He}function pe($e,ze){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!ze||ze.length===0)return null;var He=null,Ge=0;for($e=$e.toLowerCase(),ze=ze.toLowerCase();Ge<ze.length&&(He=fe($e,ze,0,Ge,ot))===null;)Ge=ke(ze,Ge+1);return He}function fe($e,ze,ot,He,Ge){if(ot===$e.length)return[];if(He===ze.length)return null;if(H($e.charCodeAt(ot),ze.charCodeAt(He))){var Je=null,ft=He+1;if(Je=fe($e,ze,ot+1,He+1,Ge),!Ge)for(;!Je&&(ft=ke(ze,ft))<ze.length;)Je=fe($e,ze,ot+1,ft,Ge),ft++;return Je?$e.charCodeAt(ot)!==ze.charCodeAt(He)?Je:D({start:He,end:He+1},Je):null}else return null}function ke($e,ze){for(var ot=ze;ot<$e.length;ot++)if(N($e.charCodeAt(ot))||ot>0&&N($e.charCodeAt(ot-1)))return ot;return $e.length}var A=se($,de,Y),P=se($,de,E),G=new w.a(1e4);function re($e,ze){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof $e!="string"||typeof ze!="string")return null;var He=G.get($e);He||(He=new RegExp(ve.p($e),"i"),G.set($e,He));var Ge=He.exec(ze);return Ge?[{start:Ge.index,end:Ge.index+Ge[0].length}]:ot?P($e,ze):A($e,ze)}function ae($e,ze,ot,He,Ge,Je){for(var ft=Math.min(13,$e.length);ot<ft;ot++){var qt=Vt($e,ze,ot,He,Ge,Je,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(qt)return qt}return[0,Je]}function Q($e){if(typeof $e=="undefined")return[];for(var ze=[],ot=$e[1],He=$e.length-1;He>1;He--){var Ge=$e[He]+ot,Je=ze[ze.length-1];Je&&Je.end===Ge?Je.end=Ge+1:ze.push({start:Ge,end:Ge+1})}return ze}var J=128;function me(){for(var $e=[],ze=[],ot=0;ot<=J;ot++)ze[ot]=0;for(var He=0;He<=J;He++)$e.push(ze.slice(0));return $e}function ge($e){for(var ze=[],ot=0;ot<=$e;ot++)ze[ot]=0;return ze}var L=ge(2*J),De=ge(2*J),Ae=me(),Oe=me(),Pe=me(),Ne=!1;function Fe($e,ze,ot,He,Ge){function Je(bt,Bt){for(var rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:" ";bt.length<Bt;)bt=rn+bt;return bt}for(var ft=" |   |".concat(He.split("").map(function(bt){return Je(bt,3)}).join("|"),`
`),qt=0;qt<=ot;qt++)qt===0?ft+=" |":ft+="".concat(ze[qt-1],"|"),ft+=$e[qt].slice(0,Ge+1).map(function(bt){return Je(bt.toString(),3)}).join("|")+`
`;return ft}function Xe($e,ze,ot,He){$e=$e.substr(ze),ot=ot.substr(He),console.log(Fe(Oe,$e,$e.length,ot,ot.length)),console.log(Fe(Pe,$e,$e.length,ot,ot.length)),console.log(Fe(Ae,$e,$e.length,ot,ot.length))}function Et($e,ze){if(ze<0||ze>=$e.length)return!1;var ot=$e.codePointAt(ze);switch(ot){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!ve.C(ot)}}function Ft($e,ze){if(ze<0||ze>=$e.length)return!1;var ot=$e.charCodeAt(ze);switch(ot){case 32:case 9:return!0;default:return!1}}function Ot($e,ze,ot){return ze[$e]!==ot[$e]}function pt($e,ze,ot,He,Ge,Je){for(var ft=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;ze<ot&&Ge<Je;)$e[ze]===He[Ge]&&(ft&&(L[ze]=Ge),ze+=1),Ge+=1;return ze===ot}var Lt;(function($e){$e.Default=[-100,0];function ze(ot){return!ot||ot.length===2&&ot[0]===-100&&ot[1]===0}$e.isDefault=ze})(Lt||(Lt={}));var et=Object(ce.a)(function $e(ze,ot){Object(we.a)(this,$e),this.firstMatchCanBeWeak=ze,this.boostFullMatch=ot});et.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function Vt($e,ze,ot,He,Ge,Je){var ft=arguments.length>6&&arguments[6]!==void 0?arguments[6]:et.default,qt=$e.length>J?J:$e.length,bt=He.length>J?J:He.length;if(!(ot>=qt||Je>=bt||qt-ot>bt-Je)&&!!pt(ze,ot,qt,Ge,Je,bt,!0)){Re(qt,bt,ot,Je,ze,Ge);var Bt=1,rn=1,an=ot,In=Je,Dt=[!1];for(Bt=1,an=ot;an<qt;Bt++,an++){var jn=L[an],_n=De[an],Nn=an+1<qt?De[an+1]:bt;for(rn=jn-Je+1,In=jn;In<Nn;rn++,In++){var ei=Number.MIN_SAFE_INTEGER,kn=!1;In<=_n&&(ei=Ce($e,ze,an,ot,He,Ge,In,bt,Je,Ae[Bt-1][rn-1]===0,Dt));var Pn=0;ei!==Number.MAX_SAFE_INTEGER&&(kn=!0,Pn=ei+Oe[Bt-1][rn-1]);var qi=In>jn,gi=qi?Oe[Bt][rn-1]+(Ae[Bt][rn-1]>0?-5:0):0,ir=In>jn+1&&Ae[Bt][rn-1]>0,yi=ir?Oe[Bt][rn-2]+(Ae[Bt][rn-2]>0?-5:0):0;if(ir&&(!qi||yi>=gi)&&(!kn||yi>=Pn))Oe[Bt][rn]=yi,Pe[Bt][rn]=3,Ae[Bt][rn]=0;else if(qi&&(!kn||gi>=Pn))Oe[Bt][rn]=gi,Pe[Bt][rn]=2,Ae[Bt][rn]=0;else if(kn)Oe[Bt][rn]=Pn,Pe[Bt][rn]=1,Ae[Bt][rn]=Ae[Bt-1][rn-1]+1;else throw new Error("not possible")}}if(Ne&&Xe($e,ot,He,Je),!(!Dt[0]&&!ft.firstMatchCanBeWeak)){Bt--,rn--;for(var mi=[Oe[Bt][rn],Je],gr=0,zn=0;Bt>=1;){var Ki=rn;do{var Bn=Pe[Bt][Ki];if(Bn===3)Ki=Ki-2;else if(Bn===2)Ki=Ki-1;else break}while(Ki>=1);gr>1&&ze[ot+Bt-1]===Ge[Je+rn-1]&&!Ot(Ki+Je-1,He,Ge)&&gr+1>Ae[Bt][Ki]&&(Ki=rn),Ki===rn?gr++:gr=1,zn||(zn=Ki),Bt--,rn=Ki-1,mi.push(rn)}bt===qt&&ft.boostFullMatch&&(mi[0]+=2);var ai=zn-qt;return mi[0]-=ai,mi}}}function Re($e,ze,ot,He,Ge,Je){for(var ft=$e-1,qt=ze-1;ft>=ot&&qt>=He;)Ge[ft]===Je[qt]&&(De[ft]=qt,ft--),qt--}function Ce($e,ze,ot,He,Ge,Je,ft,qt,bt,Bt,rn){if(ze[ot]!==Je[ft])return Number.MIN_SAFE_INTEGER;var an=1,In=!1;return ft===ot-He?an=$e[ot]===Ge[ft]?7:5:Ot(ft,Ge,Je)&&(ft===0||!Ot(ft-1,Ge,Je))?(an=$e[ot]===Ge[ft]?7:5,In=!0):Et(Je,ft)&&(ft===0||!Et(Je,ft-1))?an=5:(Et(Je,ft-1)||Ft(Je,ft-1))&&(an=5,In=!0),an>1&&ot===He&&(rn[0]=!0),In||(In=Ot(ft,Ge,Je)||Et(Je,ft-1)||Ft(Je,ft-1)),ot===He?ft>bt&&(an-=In?3:5):Bt?an+=In?2:0:an+=In?0:1,ft+1===qt&&(an-=In?3:5),an}function ye($e,ze,ot,He,Ge,Je,ft){return Te($e,ze,ot,He,Ge,Je,!0,ft)}function Te($e,ze,ot,He,Ge,Je,ft,qt){var bt=Vt($e,ze,ot,He,Ge,Je,qt);if(bt&&!ft)return bt;if($e.length>=3)for(var Bt=Math.min(7,$e.length-1),rn=ot+1;rn<Bt;rn++){var an=Qe($e,rn);if(an){var In=Vt(an,an.toLowerCase(),ot,He,Ge,Je,qt);In&&(In[0]-=3,(!bt||In[0]>bt[0])&&(bt=In))}}return bt}function Qe($e,ze){if(!(ze+1>=$e.length)){var ot=$e[ze],He=$e[ze+1];if(ot!==He)return $e.slice(0,ze)+He+ot+$e.slice(ze+2)}}},fvt3:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("workspaceTrustManagementService")},fxyS:function(mn,U,a){"use strict";a.d(U,"a",function(){return te});var ce=a("tU7J"),we=a("wFql"),w=a("nKUr"),ve=a.n(w),se=function(_){var Y;return!!((_==null||(Y=_.valueType)===null||Y===void 0?void 0:Y.toString().startsWith("date"))||(_==null?void 0:_.valueType)==="select"||(_==null?void 0:_.valueEnum))},te=function(_,Y,E){if(Y.copyable||Y.ellipsis){var Z=Y.copyable&&E?{text:E,tooltips:["",""]}:void 0,ne=se(Y),V=Y.ellipsis&&E?{tooltip:ne?Object(w.jsx)("div",{className:"pro-table-tooltip-text",children:_}):E}:!1;return Object(w.jsx)(we.a.Text,{style:{width:"100%",margin:0,padding:0},title:"",copyable:Z,ellipsis:V,children:_})}return _}},"g/5D":function(mn,U,a){"use strict";a.d(U,"b",function(){return E}),a.d(U,"a",function(){return C});var ce=a("tJVT"),we=a("rAM+"),w=a("fWQN"),ve=a("mtLc"),se=a("N0LK"),te=a("erNZ"),$=a("aokT"),_=function(){function x(O,T,z,I,de,pe){Object(w.a)(this,x),this._richEditBracketBrand=void 0,this.languageId=O,this.index=T,this.open=z,this.close=I,this.forwardRegex=de,this.reversedRegex=pe,this._openSet=x._toSet(this.open),this._closeSet=x._toSet(this.close)}return Object(ve.a)(x,[{key:"isOpen",value:function(T){return this._openSet.has(T)}},{key:"isClose",value:function(T){return this._closeSet.has(T)}}],[{key:"_toSet",value:function(T){var z=new Set,I=Object(we.a)(T),de;try{for(I.s();!(de=I.n()).done;){var pe=de.value;z.add(pe)}}catch(fe){I.e(fe)}finally{I.f()}return z}}]),x}();function Y(x){var O=x.length;x=x.map(function(L){return[L[0].toLowerCase(),L[1].toLowerCase()]});for(var T=[],z=0;z<O;z++)T[z]=z;for(var I=function(De,Ae){var Oe=Object(ce.a)(De,2),Pe=Oe[0],Ne=Oe[1],Fe=Object(ce.a)(Ae,2),Xe=Fe[0],Et=Fe[1];return Pe===Xe||Pe===Et||Ne===Xe||Ne===Et},de=function(De,Ae){for(var Oe=Math.min(De,Ae),Pe=Math.max(De,Ae),Ne=0;Ne<O;Ne++)T[Ne]===Pe&&(T[Ne]=Oe)},pe=0;pe<O;pe++)for(var fe=x[pe],ke=pe+1;ke<O;ke++){var A=x[ke];I(fe,A)&&de(T[pe],T[ke])}for(var P=[],G=0;G<O;G++){for(var re=[],ae=[],Q=0;Q<O;Q++)if(T[Q]===G){var J=Object(ce.a)(x[Q],2),me=J[0],ge=J[1];re.push(me),ae.push(ge)}re.length>0&&P.push({open:re,close:ae})}return P}var E=Object(ve.a)(function x(O,T){Object(w.a)(this,x),this._richEditBracketsBrand=void 0;var z=Y(T);this.brackets=z.map(function(ae,Q){return new _(O,Q,ae.open,ae.close,B(ae.open,ae.close,z,Q),F(ae.open,ae.close,z,Q))}),this.forwardRegex=W(this.brackets),this.reversedRegex=N(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;var I=Object(we.a)(this.brackets),de;try{for(I.s();!(de=I.n()).done;){var pe=de.value,fe=Object(we.a)(pe.open),ke;try{for(fe.s();!(ke=fe.n()).done;){var A=ke.value;this.textIsBracket[A]=pe,this.textIsOpenBracket[A]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,A.length)}}catch(ae){fe.e(ae)}finally{fe.f()}var P=Object(we.a)(pe.close),G;try{for(P.s();!(G=P.n()).done;){var re=G.value;this.textIsBracket[re]=pe,this.textIsOpenBracket[re]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,re.length)}}catch(ae){P.e(ae)}finally{P.f()}}}catch(ae){I.e(ae)}finally{I.f()}});function Z(x,O,T,z){for(var I=0,de=O.length;I<de;I++)if(I!==T){var pe=O[I],fe=Object(we.a)(pe.open),ke;try{for(fe.s();!(ke=fe.n()).done;){var A=ke.value;A.indexOf(x)>=0&&z.push(A)}}catch(ae){fe.e(ae)}finally{fe.f()}var P=Object(we.a)(pe.close),G;try{for(P.s();!(G=P.n()).done;){var re=G.value;re.indexOf(x)>=0&&z.push(re)}}catch(ae){P.e(ae)}finally{P.f()}}}function ne(x,O){return x.length-O.length}function V(x){if(x.length<=1)return x;var O=[],T=new Set,z=Object(we.a)(x),I;try{for(z.s();!(I=z.n()).done;){var de=I.value;T.has(de)||(O.push(de),T.add(de))}}catch(pe){z.e(pe)}finally{z.f()}return O}function B(x,O,T,z){var I=[];I=I.concat(x),I=I.concat(O);for(var de=0,pe=I.length;de<pe;de++)Z(I[de],T,z,I);return I=V(I),I.sort(ne),I.reverse(),d(I)}function F(x,O,T,z){var I=[];I=I.concat(x),I=I.concat(O);for(var de=0,pe=I.length;de<pe;de++)Z(I[de],T,z,I);return I=V(I),I.sort(ne),I.reverse(),d(I.map(D))}function W(x){var O=[],T=Object(we.a)(x),z;try{for(T.s();!(z=T.n()).done;){var I=z.value,de=Object(we.a)(I.open),pe;try{for(de.s();!(pe=de.n()).done;){var fe=pe.value;O.push(fe)}}catch(G){de.e(G)}finally{de.f()}var ke=Object(we.a)(I.close),A;try{for(ke.s();!(A=ke.n()).done;){var P=A.value;O.push(P)}}catch(G){ke.e(G)}finally{ke.f()}}}catch(G){T.e(G)}finally{T.f()}return O=V(O),d(O)}function N(x){var O=[],T=Object(we.a)(x),z;try{for(T.s();!(z=T.n()).done;){var I=z.value,de=Object(we.a)(I.open),pe;try{for(de.s();!(pe=de.n()).done;){var fe=pe.value;O.push(fe)}}catch(G){de.e(G)}finally{de.f()}var ke=Object(we.a)(I.close),A;try{for(ke.s();!(A=ke.n()).done;){var P=A.value;O.push(P)}}catch(G){ke.e(G)}finally{ke.f()}}}catch(G){T.e(G)}finally{T.f()}return O=V(O),d(O.map(D))}function H(x){var O=/^[\w ]+$/.test(x);return x=se.t(x),O?"\\b".concat(x,"\\b"):x}function d(x){var O="(".concat(x.map(H).join(")|("),")");return se.q(O,!0)}var D=function(){function x(z){for(var I=new Uint16Array(z.length),de=0,pe=z.length-1;pe>=0;pe--)I[de++]=z.charCodeAt(pe);return te.c().decode(I)}var O=null,T=null;return function(I){return O!==I&&(O=I,T=x(O)),T}}(),C=function(){function x(){Object(w.a)(this,x)}return Object(ve.a)(x,null,[{key:"_findPrevBracketInText",value:function(T,z,I,de){var pe=I.match(T);if(!pe)return null;var fe=I.length-(pe.index||0),ke=pe[0].length,A=de+fe;return new $.a(z,A-ke+1,z,A+1)}},{key:"findPrevBracketInRange",value:function(T,z,I,de,pe){var fe=D(I),ke=fe.substring(I.length-pe,I.length-de);return this._findPrevBracketInText(T,z,ke,de)}},{key:"findNextBracketInText",value:function(T,z,I,de){var pe=I.match(T);if(!pe)return null;var fe=pe.index||0,ke=pe[0].length;if(ke===0)return null;var A=de+fe;return new $.a(z,A+1,z,A+1+ke)}},{key:"findNextBracketInRange",value:function(T,z,I,de,pe){var fe=I.substring(de,pe);return this.findNextBracketInText(T,z,fe,de)}}]),x}()},gCVg:function(mn,U,a){"use strict";a.d(U,"a",function(){return $});var ce=a("fWQN"),we=a("mtLc"),w=a("yKVA"),ve=a("879j"),se=a("cGHE"),te=a("aokT"),$=function(_){Object(w.a)(E,_);var Y=Object(ve.a)(E);function E(Z,ne,V,B){var F;return Object(ce.a)(this,E),F=Y.call(this,Z,ne,V,B),F.selectionStartLineNumber=Z,F.selectionStartColumn=ne,F.positionLineNumber=V,F.positionColumn=B,F}return Object(we.a)(E,[{key:"toString",value:function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}},{key:"equalsSelection",value:function(ne){return E.selectionsEqual(this,ne)}},{key:"getDirection",value:function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}},{key:"setEndPosition",value:function(ne,V){return this.getDirection()===0?new E(this.startLineNumber,this.startColumn,ne,V):new E(ne,V,this.startLineNumber,this.startColumn)}},{key:"getPosition",value:function(){return new se.a(this.positionLineNumber,this.positionColumn)}},{key:"getSelectionStart",value:function(){return new se.a(this.selectionStartLineNumber,this.selectionStartColumn)}},{key:"setStartPosition",value:function(ne,V){return this.getDirection()===0?new E(ne,V,this.endLineNumber,this.endColumn):new E(this.endLineNumber,this.endColumn,ne,V)}}],[{key:"selectionsEqual",value:function(ne,V){return ne.selectionStartLineNumber===V.selectionStartLineNumber&&ne.selectionStartColumn===V.selectionStartColumn&&ne.positionLineNumber===V.positionLineNumber&&ne.positionColumn===V.positionColumn}},{key:"fromPositions",value:function(ne){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ne;return new E(ne.lineNumber,ne.column,V.lineNumber,V.column)}},{key:"fromRange",value:function(ne,V){return V===0?new E(ne.startLineNumber,ne.startColumn,ne.endLineNumber,ne.endColumn):new E(ne.endLineNumber,ne.endColumn,ne.startLineNumber,ne.startColumn)}},{key:"liftSelection",value:function(ne){return new E(ne.selectionStartLineNumber,ne.selectionStartColumn,ne.positionLineNumber,ne.positionColumn)}},{key:"selectionsArrEqual",value:function(ne,V){if(ne&&!V||!ne&&V)return!1;if(!ne&&!V)return!0;if(ne.length!==V.length)return!1;for(var B=0,F=ne.length;B<F;B++)if(!this.selectionsEqual(ne[B],V[B]))return!1;return!0}},{key:"isISelection",value:function(ne){return ne&&typeof ne.selectionStartLineNumber=="number"&&typeof ne.selectionStartColumn=="number"&&typeof ne.positionLineNumber=="number"&&typeof ne.positionColumn=="number"}},{key:"createWithDirection",value:function(ne,V,B,F,W){return W===0?new E(ne,V,B,F):new E(B,F,ne,V)}}]),E}(te.a)},gslv:function(mn,U,a){"use strict";a.d(U,"j",function(){return E}),a.d(U,"e",function(){return ne}),a.d(U,"g",function(){return F}),a.d(U,"c",function(){return H}),a.d(U,"b",function(){return d}),a.d(U,"f",function(){return D}),a.d(U,"d",function(){return C}),a.d(U,"h",function(){return x}),a.d(U,"i",function(){return O}),a.d(U,"k",function(){return T}),a.d(U,"l",function(){return z}),a.d(U,"a",function(){return A});var ce=a("tJVT"),we=a("fWQN"),w=a("mtLc"),ve=a("PTeM"),se=a("tYmi"),te=a("MrjW"),$=a("MNsG"),_=a("N0LK"),Y=a("bY76");function E(P){return Object(Y.b)(P,!0)}var Z=function(){function P(G){Object(we.a)(this,P),this._ignorePathCasing=G}return Object(w.a)(P,[{key:"compare",value:function(re,ae){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return re===ae?0:Object(_.h)(this.getComparisonKey(re,Q),this.getComparisonKey(ae,Q))}},{key:"isEqual",value:function(re,ae){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return re===ae?!0:!re||!ae?!1:this.getComparisonKey(re,Q)===this.getComparisonKey(ae,Q)}},{key:"getComparisonKey",value:function(re){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return re.with({path:this._ignorePathCasing(re)?re.path.toLowerCase():void 0,fragment:ae?null:void 0}).toString()}},{key:"isEqualOrParent",value:function(re,ae){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(re.scheme===ae.scheme){if(re.scheme===se.c.file)return ve.c(E(re),E(ae),this._ignorePathCasing(re))&&re.query===ae.query&&(Q||re.fragment===ae.fragment);if(de(re.authority,ae.authority))return ve.c(re.path,ae.path,this._ignorePathCasing(re),"/")&&re.query===ae.query&&(Q||re.fragment===ae.fragment)}return!1}},{key:"joinPath",value:function(re){for(var ae=arguments.length,Q=new Array(ae>1?ae-1:0),J=1;J<ae;J++)Q[J-1]=arguments[J];return Y.a.joinPath.apply(Y.a,[re].concat(Q))}},{key:"basenameOrAuthority",value:function(re){return d(re)||re.authority}},{key:"basename",value:function(re){return te.e.basename(re.path)}},{key:"extname",value:function(re){return te.e.extname(re.path)}},{key:"dirname",value:function(re){if(re.path.length===0)return re;var ae;return re.scheme===se.c.file?ae=Y.a.file(te.b(E(re))).path:(ae=te.e.dirname(re.path),re.authority&&ae.length&&ae.charCodeAt(0)!==47&&(console.error('dirname("'.concat(re.toString,")) resulted in a relative path")),ae="/")),re.with({path:ae})}},{key:"normalizePath",value:function(re){if(!re.path.length)return re;var ae;return re.scheme===se.c.file?ae=Y.a.file(te.d(E(re))).path:ae=te.e.normalize(re.path),re.with({path:ae})}},{key:"relativePath",value:function(re,ae){if(!(re.scheme!==ae.scheme||!de(re.authority,ae.authority))){if(re.scheme===se.c.file){var Q=te.f(E(re),E(ae));return $.o?ve.e(Q):Q}var J=re.path||"/",me=ae.path||"/";if(this._ignorePathCasing(re)){for(var ge=0,L=Math.min(J.length,me.length);ge<L&&!(J.charCodeAt(ge)!==me.charCodeAt(ge)&&J.charAt(ge).toLowerCase()!==me.charAt(ge).toLowerCase());ge++);J=me.substr(0,ge)+J.substr(ge)}return te.e.relative(J,me)}}},{key:"resolvePath",value:function(re,ae){if(re.scheme===se.c.file){var Q=Y.a.file(te.g(E(re),ae));return re.with({authority:Q.authority,path:Q.path})}return ae=ve.d(ae),re.with({path:te.e.resolve(re.path,ae)})}},{key:"isAbsolutePath",value:function(re){return!!re.path&&re.path[0]==="/"}},{key:"isEqualAuthority",value:function(re,ae){return re===ae||re!==void 0&&ae!==void 0&&Object(_.r)(re,ae)}},{key:"hasTrailingPathSeparator",value:function(re){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:te.h;if(re.scheme===se.c.file){var Q=E(re);return Q.length>ve.a(Q).length&&Q[Q.length-1]===ae}else{var J=re.path;return J.length>1&&J.charCodeAt(J.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(re.fsPath)}}},{key:"removeTrailingPathSeparator",value:function(re){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:te.h;return pe(re,ae)?re.with({path:re.path.substr(0,re.path.length-1)}):re}},{key:"addTrailingPathSeparator",value:function(re){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:te.h,Q=!1;if(re.scheme===se.c.file){var J=E(re);Q=J!==void 0&&J.length===ve.a(J).length&&J[J.length-1]===ae}else{ae="/";var me=re.path;Q=me.length===1&&me.charCodeAt(me.length-1)===47}return!Q&&!pe(re,ae)?re.with({path:re.path+"/"}):re}}]),P}(),ne=new Z(function(){return!1}),V=new Z(function(P){return P.scheme===se.c.file?!$.g:!0}),B=new Z(function(P){return!0}),F=ne.isEqual.bind(ne),W=ne.isEqualOrParent.bind(ne),N=ne.getComparisonKey.bind(ne),H=ne.basenameOrAuthority.bind(ne),d=ne.basename.bind(ne),D=ne.extname.bind(ne),C=ne.dirname.bind(ne),x=ne.joinPath.bind(ne),O=ne.normalizePath.bind(ne),T=ne.relativePath.bind(ne),z=ne.resolvePath.bind(ne),I=ne.isAbsolutePath.bind(ne),de=ne.isEqualAuthority.bind(ne),pe=ne.hasTrailingPathSeparator.bind(ne),fe=ne.removeTrailingPathSeparator.bind(ne),ke=ne.addTrailingPathSeparator.bind(ne),A;(function(P){P.META_DATA_LABEL="label",P.META_DATA_DESCRIPTION="description",P.META_DATA_SIZE="size",P.META_DATA_MIME="mime";function G(re){var ae=new Map,Q=re.path.substring(re.path.indexOf(";")+1,re.path.lastIndexOf(";"));Q.split(";").forEach(function(me){var ge=me.split(":"),L=Object(ce.a)(ge,2),De=L[0],Ae=L[1];De&&Ae&&ae.set(De,Ae)});var J=re.path.substring(0,re.path.indexOf(";"));return J&&ae.set(P.META_DATA_MIME,J),ae}P.parseMetaData=G})(A||(A={}))},h5s8:function(mn,U,a){"use strict";a.d(U,"b",function(){return ve}),a.d(U,"a",function(){return te}),a.d(U,"c",function(){return $}),a.d(U,"d",function(){return Y});var ce=a("rAM+"),we=a("JYp7"),w=a("24hK"),ve="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function se(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ne="(-?\\d*\\.\\d\\w*)|([^",V=Object(ce.a)(ve),B;try{for(V.s();!(B=V.n()).done;){var F=B.value;Z.indexOf(F)>=0||(ne+="\\"+F)}}catch(W){V.e(W)}finally{V.f()}return ne+="\\s]+)",new RegExp(ne,"g")}var te=se();function $(Z){var ne=te;if(Z&&Z instanceof RegExp)if(Z.global)ne=Z;else{var V="g";Z.ignoreCase&&(V+="i"),Z.multiline&&(V+="m"),Z.unicode&&(V+="u"),ne=new RegExp(Z.source,V)}return ne.lastIndex=0,ne}var _=new w.a;_.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function Y(Z,ne,V,B,F){if(F||(F=we.a.first(_)),V.length>F.maxLen){var W=Z-F.maxLen/2;return W<0?W=0:B+=W,V=V.substring(W,Z+F.maxLen/2),Y(Z,ne,V,B,F)}for(var N=Date.now(),H=Z-1-B,d=-1,D=null,C=1;!(Date.now()-N>=F.timeBudget);C++){var x=H-F.windowSize*C;ne.lastIndex=Math.max(0,x);var O=E(ne,V,H,d);if(!O&&D||(D=O,x<=0))break;d=x}if(D){var T={word:D[0],startColumn:B+1+D.index,endColumn:B+1+D.index+D[0].length};return ne.lastIndex=0,T}return null}function E(Z,ne,V,B){for(var F;F=Z.exec(ne);){var W=F.index||0;if(W<=V&&Z.lastIndex>=V)return F;if(B>0&&W>B)return null}return null}},hGVw:function(mn,U,a){},hHjc:function(mn,U,a){},hcYv:function(mn,U,a){"use strict";a.d(U,"a",function(){return E});var ce=a("rAM+"),we=a("oBTY"),w=a("fWQN"),ve=a("mtLc"),se=a("aokT"),te=a("jAJ/"),$=a("N0LK"),_=a("FWmy"),Y=a("h5s8"),E=function(){function B(){Object(w.a)(this,B)}return Object(ve.a)(B,null,[{key:"computeUnicodeHighlights",value:function(W,N,H){var d=H?H.startLineNumber:1,D=H?H.endLineNumber:W.getLineCount(),C=new ne(N),x=C.getCandidateCodePoints(),O;x==="allNonBasicAscii"?O=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):O=new RegExp("".concat(Z(Array.from(x))),"g");var T=new te.b(null,O),z=[],I=!1,de,pe=0,fe=0,ke=0;e:for(var A=d,P=D;A<=P;A++){var G=W.getLineContent(A),re=G.length;T.reset(0);do if(de=T.next(G),de){var ae=de.index,Q=de.index+de[0].length;if(ae>0){var J=G.charCodeAt(ae-1);$.F(J)&&ae--}if(Q+1<re){var me=G.charCodeAt(Q-1);$.F(me)&&Q++}var ge=G.substring(ae,Q),L=Object(Y.d)(ae+1,Y.a,G,0);L&&L.endColumn<=ae+1&&(L=null);var De=C.shouldHighlightNonBasicASCII(ge,L?L.word:null);if(De!==0){De===3?pe++:De===2?fe++:De===1?ke++:Object(_.b)(De);var Ae=1e3;if(z.length>=Ae){I=!0;break e}z.push(new se.a(A,ae+1,A,Q+1))}}while(de)}return{ranges:z,hasMore:I,ambiguousCharacterCount:pe,invisibleCharacterCount:fe,nonBasicAsciiCharacterCount:ke}}},{key:"computeUnicodeHighlightReason",value:function(W,N){var H=new ne(N),d=H.shouldHighlightNonBasicASCII(W,null);switch(d){case 0:return null;case 2:return{kind:1};case 3:{var D=W.codePointAt(0),C=H.ambiguousCharacters.getPrimaryConfusable(D),x=$.a.getLocales().filter(function(O){return!$.a.getInstance(new Set([].concat(Object(we.a)(N.allowedLocales),[O]))).isAmbiguous(D)});return{kind:0,confusableWith:String.fromCodePoint(C),notAmbiguousInLocales:x}}case 1:return{kind:2}}}}]),B}();function Z(B,F){var W="[".concat($.t(B.map(function(N){return String.fromCodePoint(N)}).join("")),"]");return W}var ne=function(){function B(F){Object(w.a)(this,B),this.options=F,this.allowedCodePoints=new Set(F.allowedCodePoints),this.ambiguousCharacters=$.a.getInstance(new Set(F.allowedLocales))}return Object(ve.a)(B,[{key:"getCandidateCodePoints",value:function(){if(this.options.nonBasicASCII)return"allNonBasicAscii";var W=new Set;if(this.options.invisibleCharacters){var N=Object(ce.a)($.c.codePoints),H;try{for(N.s();!(H=N.n()).done;){var d=H.value;V(String.fromCodePoint(d))||W.add(d)}}catch(I){N.e(I)}finally{N.f()}}if(this.options.ambiguousCharacters){var D=Object(ce.a)(this.ambiguousCharacters.getConfusableCodePoints()),C;try{for(D.s();!(C=D.n()).done;){var x=C.value;W.add(x)}}catch(I){D.e(I)}finally{D.f()}}var O=Object(ce.a)(this.allowedCodePoints),T;try{for(O.s();!(T=O.n()).done;){var z=T.value;W.delete(z)}}catch(I){O.e(I)}finally{O.f()}return W}},{key:"shouldHighlightNonBasicASCII",value:function(W,N){var H=W.codePointAt(0);if(this.allowedCodePoints.has(H))return 0;if(this.options.nonBasicASCII)return 1;var d=!1,D=!1;if(N){var C=Object(ce.a)(N),x;try{for(C.s();!(x=C.n()).done;){var O=x.value,T=O.codePointAt(0),z=$.B(O);d=d||z,!z&&!this.ambiguousCharacters.isAmbiguous(T)&&!$.c.isInvisibleCharacter(T)&&(D=!0)}}catch(I){C.e(I)}finally{C.f()}}return!d&&D?0:this.options.invisibleCharacters&&!V(W)&&$.c.isInvisibleCharacter(H)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(H)?3:0}}]),B}();function V(B){return B===" "||B===`
`||B==="	"}},"i/Rh":function(mn,U,a){},i04g:function(mn,U,a){"use strict";a.d(U,"c",function(){return se}),a.d(U,"a",function(){return te}),a.d(U,"b",function(){return $}),a.d(U,"d",function(){return _});var ce=a("fWQN"),we=a("mtLc"),w=a("3/fG"),ve=function(){function E(Z,ne){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ne;Object(ce.a)(this,E),this.modifierLabels=[null],this.modifierLabels[2]=Z,this.modifierLabels[1]=ne,this.modifierLabels[3]=V}return Object(we.a)(E,[{key:"toLabel",value:function(ne,V,B){if(V.length===0)return null;for(var F=[],W=0,N=V.length;W<N;W++){var H=V[W],d=B(H);if(d===null)return null;F[W]=Y(H,d,this.modifierLabels[ne])}return F.join(" ")}}]),E}(),se=new ve({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:w.b({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:w.b({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:w.b({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:w.b({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:w.b({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:w.b({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:w.b({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:w.b({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),te=new ve({ctrlKey:w.b({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:w.b({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:w.b({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:w.b({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:w.b({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:w.b({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:w.b({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:w.b({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:w.b({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:w.b({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:w.b({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:w.b({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),$=new ve({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),_=new ve({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function Y(E,Z,ne){if(Z===null)return"";var V=[];return E.ctrlKey&&V.push(ne.ctrlKey),E.shiftKey&&V.push(ne.shiftKey),E.altKey&&V.push(ne.altKey),E.metaKey&&V.push(ne.metaKey),Z!==""&&V.push(Z),V.join(ne.separator)}},i55F:function(mn,U,a){"use strict";a.d(U,"a",function(){return ne});var ce=a("qLMh"),we=a("rAM+"),w=a("tJVT"),ve=a("fWQN"),se=a("mtLc"),te=a("N0LK"),$=function(){function V(){Object(ve.a)(this,V),this._value="",this._pos=0}return Object(se.a)(V,[{key:"reset",value:function(F){return this._value=F,this._pos=0,this}},{key:"next",value:function(){return this._pos+=1,this}},{key:"hasNext",value:function(){return this._pos<this._value.length-1}},{key:"cmp",value:function(F){var W=F.charCodeAt(0),N=this._value.charCodeAt(this._pos);return W-N}},{key:"value",value:function(){return this._value[this._pos]}}]),V}(),_=function(){function V(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Object(ve.a)(this,V),this._caseSensitive=B}return Object(se.a)(V,[{key:"reset",value:function(F){return this._value=F,this._from=0,this._to=0,this.next()}},{key:"hasNext",value:function(){return this._to<this._value.length}},{key:"next",value:function(){this._from=this._to;for(var F=!0;this._to<this._value.length;this._to++){var W=this._value.charCodeAt(this._to);if(W===46)if(F)this._from++;else break;else F=!1}return this}},{key:"cmp",value:function(F){return this._caseSensitive?Object(te.j)(F,this._value,0,F.length,this._from,this._to):Object(te.k)(F,this._value,0,F.length,this._from,this._to)}},{key:"value",value:function(){return this._value.substring(this._from,this._to)}}]),V}(),Y=function(){function V(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Object(ve.a)(this,V),this._splitOnBackslash=B,this._caseSensitive=F}return Object(se.a)(V,[{key:"reset",value:function(F){this._from=0,this._to=0,this._value=F,this._valueLen=F.length;for(var W=F.length-1;W>=0;W--,this._valueLen--){var N=this._value.charCodeAt(W);if(!(N===47||this._splitOnBackslash&&N===92))break}return this.next()}},{key:"hasNext",value:function(){return this._to<this._valueLen}},{key:"next",value:function(){this._from=this._to;for(var F=!0;this._to<this._valueLen;this._to++){var W=this._value.charCodeAt(this._to);if(W===47||this._splitOnBackslash&&W===92)if(F)this._from++;else break;else F=!1}return this}},{key:"cmp",value:function(F){return this._caseSensitive?Object(te.j)(F,this._value,0,F.length,this._from,this._to):Object(te.k)(F,this._value,0,F.length,this._from,this._to)}},{key:"value",value:function(){return this._value.substring(this._from,this._to)}}]),V}(),E=function(){function V(B,F){Object(ve.a)(this,V),this._ignorePathCasing=B,this._ignoreQueryAndFragment=F,this._states=[],this._stateIdx=0}return Object(se.a)(V,[{key:"reset",value:function(F){return this._value=F,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Y(!1,!this._ignorePathCasing(F)),this._pathIterator.reset(F.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(F)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}},{key:"next",value:function(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}},{key:"hasNext",value:function(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}},{key:"cmp",value:function(F){if(this._states[this._stateIdx]===1)return Object(te.i)(F,this._value.scheme);if(this._states[this._stateIdx]===2)return Object(te.i)(F,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(F);if(this._states[this._stateIdx]===4)return Object(te.h)(F,this._value.query);if(this._states[this._stateIdx]===5)return Object(te.h)(F,this._value.fragment);throw new Error}},{key:"value",value:function(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}]),V}(),Z=function(){function V(){Object(ve.a)(this,V),this.height=1}return Object(se.a)(V,[{key:"rotateLeft",value:function(){var F=this.right;return this.right=F.left,F.left=this,this.updateHeight(),F.updateHeight(),F}},{key:"rotateRight",value:function(){var F=this.left;return this.left=F.right,F.right=this,this.updateHeight(),F.updateHeight(),F}},{key:"updateHeight",value:function(){this.height=1+Math.max(this.heightLeft,this.heightRight)}},{key:"balanceFactor",value:function(){return this.heightRight-this.heightLeft}},{key:"heightLeft",get:function(){var F,W;return(W=(F=this.left)===null||F===void 0?void 0:F.height)!==null&&W!==void 0?W:0}},{key:"heightRight",get:function(){var F,W;return(W=(F=this.right)===null||F===void 0?void 0:F.height)!==null&&W!==void 0?W:0}}]),V}(),ne=function(V){function B(F){Object(ve.a)(this,B),this._iter=F}return Object(se.a)(B,[{key:"clear",value:function(){this._root=void 0}},{key:"set",value:function(W,N){var H=this._iter.reset(W),d;this._root||(this._root=new Z,this._root.segment=H.value());var D=[];for(d=this._root;;){var C=H.cmp(d.segment);if(C>0)d.left||(d.left=new Z,d.left.segment=H.value()),D.push([-1,d]),d=d.left;else if(C<0)d.right||(d.right=new Z,d.right.segment=H.value()),D.push([1,d]),d=d.right;else if(H.hasNext())H.next(),d.mid||(d.mid=new Z,d.mid.segment=H.value()),D.push([0,d]),d=d.mid;else break}var x=d.value;d.value=N,d.key=W;for(var O=D.length-1;O>=0;O--){var T=D[O][1];T.updateHeight();var z=T.balanceFactor();if(z<-1||z>1){var I=D[O][0],de=D[O+1][0];if(I===1&&de===1)D[O][1]=T.rotateLeft();else if(I===-1&&de===-1)D[O][1]=T.rotateRight();else if(I===1&&de===-1)T.right=D[O+1][1]=D[O+1][1].rotateRight(),D[O][1]=T.rotateLeft();else if(I===-1&&de===1)T.left=D[O+1][1]=D[O+1][1].rotateLeft(),D[O][1]=T.rotateRight();else throw new Error;if(O>0)switch(D[O-1][0]){case-1:D[O-1][1].left=D[O][1];break;case 1:D[O-1][1].right=D[O][1];break;case 0:D[O-1][1].mid=D[O][1];break}else this._root=D[0][1]}}return x}},{key:"get",value:function(W){var N;return(N=this._getNode(W))===null||N===void 0?void 0:N.value}},{key:"_getNode",value:function(W){for(var N=this._iter.reset(W),H=this._root;H;){var d=N.cmp(H.segment);if(d>0)H=H.left;else if(d<0)H=H.right;else if(N.hasNext())N.next(),H=H.mid;else break}return H}},{key:"has",value:function(W){var N=this._getNode(W);return!((N==null?void 0:N.value)===void 0&&(N==null?void 0:N.mid)===void 0)}},{key:"delete",value:function(W){return this._delete(W,!1)}},{key:"deleteSuperstr",value:function(W){return this._delete(W,!0)}},{key:"_delete",value:function(W,N){for(var H,d=this._iter.reset(W),D=[],C=this._root;C;){var x=d.cmp(C.segment);if(x>0)D.push([-1,C]),C=C.left;else if(x<0)D.push([1,C]),C=C.right;else if(d.hasNext())d.next(),D.push([0,C]),C=C.mid;else break}if(!!C){if(N?(C.left=void 0,C.mid=void 0,C.right=void 0,C.height=1):(C.key=void 0,C.value=void 0),!C.mid&&!C.value)if(C.left&&C.right){var O=this._min(C.right);if(O.key){var T=O.key,z=O.value,I=O.segment;this._delete(O.key,!1),C.key=T,C.value=z,C.segment=I}}else{var de=(H=C.left)!==null&&H!==void 0?H:C.right;if(D.length>0){var pe=Object(w.a)(D[D.length-1],2),fe=pe[0],ke=pe[1];switch(fe){case-1:ke.left=de;break;case 0:ke.mid=de;break;case 1:ke.right=de;break}}else this._root=de}for(var A=D.length-1;A>=0;A--){var P=D[A][1];P.updateHeight();var G=P.balanceFactor();if(G>1?(P.right.balanceFactor()>=0||(P.right=P.right.rotateRight()),D[A][1]=P.rotateLeft()):G<-1&&(P.left.balanceFactor()<=0||(P.left=P.left.rotateLeft()),D[A][1]=P.rotateRight()),A>0)switch(D[A-1][0]){case-1:D[A-1][1].left=D[A][1];break;case 1:D[A-1][1].right=D[A][1];break;case 0:D[A-1][1].mid=D[A][1];break}else this._root=D[0][1]}}}},{key:"_min",value:function(W){for(;W.left;)W=W.left;return W}},{key:"findSubstr",value:function(W){for(var N=this._iter.reset(W),H=this._root,d=void 0;H;){var D=N.cmp(H.segment);if(D>0)H=H.left;else if(D<0)H=H.right;else if(N.hasNext())N.next(),d=H.value||d,H=H.mid;else break}return H&&H.value||d}},{key:"findSuperstr",value:function(W){return this._findSuperstrOrElement(W,!1)}},{key:"_findSuperstrOrElement",value:function(W,N){for(var H=this._iter.reset(W),d=this._root;d;){var D=H.cmp(d.segment);if(D>0)d=d.left;else if(D<0)d=d.right;else if(H.hasNext())H.next(),d=d.mid;else return d.mid?this._entries(d.mid):N?d.value:void 0}}},{key:"forEach",value:function(W){var N=Object(we.a)(this),H;try{for(N.s();!(H=N.n()).done;){var d=H.value,D=Object(w.a)(d,2),C=D[0],x=D[1];W(x,C)}}catch(O){N.e(O)}finally{N.f()}}},{key:V,value:Object(ce.a)().mark(function F(){return Object(ce.a)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.delegateYield(this._entries(this._root),"t0",1);case 1:case"end":return N.stop()}},F,this)})},{key:"_entries",value:function(W){var N=[];return this._dfsEntries(W,N),N[Symbol.iterator]()}},{key:"_dfsEntries",value:function(W,N){!W||(W.left&&this._dfsEntries(W.left,N),W.value&&N.push([W.key,W.value]),W.mid&&this._dfsEntries(W.mid,N),W.right&&this._dfsEntries(W.right,N))}}],[{key:"forUris",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!1};return new B(new E(W,N))}},{key:"forStrings",value:function(){return new B(new $)}},{key:"forConfigKeys",value:function(){return new B(new _)}}]),B}(Symbol.iterator)},iMk3:function(mn,U,a){},iOmF:function(mn,U,a){"use strict";a.d(U,"a",function(){return z});var ce=a("GNNt"),we=a("wEI+"),w=a("Ff2n"),ve=a("rePB"),se=a("VTBJ"),te=a("ODXe"),$=a("nKUr"),_=a("q1tI"),Y=a.n(_),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"},Z=E,ne=a("6VBw"),V=function(de,pe){return _.createElement(ne.a,Object(se.a)(Object(se.a)({},de),{},{ref:pe,icon:Z}))};V.displayName="FilterOutlined";var B=_.forwardRef(V),F=a("LQCs"),W=a("iGn7"),N=a("JtZC"),H=a("TSYQ"),d=a.n(H),D=a("BGR+"),C=a("T1Ok"),x=a("JF8p"),O=["size","collapse","collapseLabel","initialValues","onValuesChange","form","placement","formRef","bordered","ignoreRules","footerRender"],T=function(de){var pe=de.items,fe=de.prefixCls,ke=de.size,A=ke===void 0?"middle":ke,P=de.collapse,G=de.collapseLabel,re=de.onValuesChange,ae=de.bordered,Q=de.values,J=de.footerRender,me=de.placement,ge=Object(F.d)(),L="".concat(fe,"-light-filter"),De=Object(_.useState)(!1),Ae=Object(te.a)(De,2),Oe=Ae[0],Pe=Ae[1],Ne=Object(_.useState)(function(){return Object(se.a)({},Q)}),Fe=Object(te.a)(Ne,2),Xe=Fe[0],Et=Fe[1];Object(_.useEffect)(function(){Et(Object(se.a)({},Q))},[Q]);var Ft=Object(_.useMemo)(function(){var et=[],Vt=[];return pe.forEach(function(Re){var Ce=Re.props||{},ye=Ce.secondary;ye||P?et.push(Re):Vt.push(Re)}),{collapseItems:et,outsideItems:Vt}},[de.items]),Ot=Ft.collapseItems,pt=Ft.outsideItems,Lt=function(){return G||(P?Object($.jsx)(B,{className:"".concat(L,"-collapse-icon")}):Object($.jsx)(W.a,{size:A,label:ge.getMessage("form.lightFilter.more","\u66F4\u591A\u7B5B\u9009"),expanded:Oe}))};return Object($.jsx)("div",{className:d()(L,"".concat(L,"-").concat(A),Object(ve.a)({},"".concat(L,"-effective"),Object.keys(Q).some(function(et){return Q[et]}))),children:Object($.jsxs)("div",{className:"".concat(L,"-container"),children:[pt.map(function(et,Vt){var Re=et.key,Ce=et.props.fieldProps,ye=(Ce==null?void 0:Ce.placement)?Ce==null?void 0:Ce.placement:me;return Object($.jsx)("div",{className:"".concat(L,"-item"),children:Y.a.cloneElement(et,{fieldProps:Object(se.a)(Object(se.a)({},et.props.fieldProps),{},{placement:ye}),proFieldProps:{light:!0,label:et.props.label,bordered:ae},bordered:ae})},Re||Vt)}),Ot.length?Object($.jsx)("div",{className:"".concat(L,"-item"),children:Object($.jsx)(N.a,{padding:24,onVisibleChange:Pe,visible:Oe,placement:me,label:Lt(),footerRender:J,footer:{onConfirm:function(){re(Object(se.a)({},Xe)),Pe(!1)},onClear:function(){var Vt={};Ot.forEach(function(Re){var Ce=Re.props.name;Vt[Ce]=void 0}),re(Vt)}},children:Ot.map(function(et){var Vt=et.key,Re=et.props,Ce=Re.name,ye=Re.fieldProps,Te=Object(se.a)(Object(se.a)({},ye),{},{onChange:function(ze){return Et(Object(se.a)(Object(se.a)({},Xe),{},Object(ve.a)({},Ce,(ze==null?void 0:ze.target)?ze.target.value:ze))),!1}});Xe.hasOwnProperty(Ce)&&(Te[et.props.valuePropName||"value"]=Xe[Ce]);var Qe=(ye==null?void 0:ye.placement)?ye==null?void 0:ye.placement:me;return Object($.jsx)("div",{className:"".concat(L,"-line"),children:Y.a.cloneElement(et,{fieldProps:Object(se.a)(Object(se.a)({},Te),{},{placement:Qe})})},Vt)})})},"more"):null]})})};function z(I){var de=I.size,pe=I.collapse,fe=I.collapseLabel,ke=I.initialValues,A=I.onValuesChange,P=I.form,G=I.placement,re=I.formRef,ae=I.bordered,Q=I.ignoreRules,J=I.footerRender,me=Object(w.a)(I,O),ge=Object(_.useContext)(we.a.ConfigContext),L=ge.getPrefixCls,De=L("pro-form"),Ae=Object(_.useState)(function(){return Object(se.a)({},ke)}),Oe=Object(te.a)(Ae,2),Pe=Oe[0],Ne=Oe[1],Fe=Object(_.useRef)();return Object(_.useImperativeHandle)(re,function(){return Fe.current}),Object($.jsx)(C.a,Object(se.a)(Object(se.a)({size:de,initialValues:ke,form:P,contentRender:function(Et){return Object($.jsx)(T,{prefixCls:De,items:Et.flatMap(function(Ft){return(Ft==null?void 0:Ft.type.displayName)==="ProForm-Group"?Ft.props.children:Ft}),size:de,bordered:ae,collapse:pe,collapseLabel:fe,placement:G,values:Pe||{},footerRender:J,onValuesChange:function(Ot){var pt,Lt,et=Object(se.a)(Object(se.a)({},Pe),Ot);Ne(et),(pt=Fe.current)===null||pt===void 0||pt.setFieldsValue(et),(Lt=Fe.current)===null||Lt===void 0||Lt.submit(),A&&A(Ot,et)}})},formRef:Fe,formItemProps:{colon:!1,labelAlign:"left"},fieldProps:{style:{width:void 0}}},Object(D.a)(me,["labelWidth"])),{},{onValuesChange:function(Et,Ft){var Ot;Ne(Ft),A==null||A(Et,Ft),(Ot=Fe.current)===null||Ot===void 0||Ot.submit()}}))}},ic2d:function(mn,U,a){"use strict";a.d(U,"a",function(){return te});var ce=a("fWQN"),we=a("mtLc"),w=a("FWmy"),ve=a("746U"),se=function(){function $(){Object(ce.a)(this,$),this.data=new Map}return Object(we.a)($,[{key:"add",value:function(Y,E){w.d(ve.i(Y)),w.d(ve.h(E)),w.d(!this.data.has(Y),"There is already an extension with this id"),this.data.set(Y,E)}},{key:"as",value:function(Y){return this.data.get(Y)||null}}]),$}(),te=new se},iuje:function(mn,U,a){"use strict";a.d(U,"a",function(){return ce});var ce={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},j9oM:function(mn,U,a){"use strict";a.d(U,"a",function(){return _});var ce=a("fWQN"),we=a("mtLc"),w=a("w4Tj"),ve=a("oZsa"),se=a("yKVA"),te=a("879j"),$=a("pmY6"),_=function(Y){Object(se.a)(Z,Y);var E=Object(te.a)(Z);function Z(){var ne;return Object(ce.a)(this,Z),ne=E.apply(this,arguments),ne._isDisposed=!1,ne}return Object(we.a)(Z,[{key:"dispose",value:function(){Object(w.a)(Object(ve.a)(Z.prototype),"dispose",this).call(this),this._isDisposed=!0}},{key:"assertNotDisposed",value:function(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}]),Z}($.a)},"jAJ/":function(mn,U,a){"use strict";a.d(U,"a",function(){return Y}),a.d(U,"d",function(){return Z}),a.d(U,"c",function(){return V}),a.d(U,"e",function(){return W}),a.d(U,"b",function(){return N});var ce=a("fWQN"),we=a("mtLc"),w=a("N0LK"),ve=a("Vk6M"),se=a("cGHE"),te=a("aokT"),$=a("M1Kb"),_=999,Y=function(){function H(d,D,C,x){Object(ce.a)(this,H),this.searchString=d,this.isRegex=D,this.matchCase=C,this.wordSeparators=x}return Object(we.a)(H,[{key:"parseSearchRequest",value:function(){if(this.searchString==="")return null;var D;this.isRegex?D=E(this.searchString):D=this.searchString.indexOf(`
`)>=0;var C=null;try{C=w.q(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:D,global:!0,unicode:!0})}catch(O){return null}if(!C)return null;var x=!this.isRegex&&!D;return x&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(x=this.matchCase),new $.g(C,this.wordSeparators?Object(ve.a)(this.wordSeparators):null,x?this.searchString:null)}}]),H}();function E(H){if(!H||H.length===0)return!1;for(var d=0,D=H.length;d<D;d++){var C=H.charCodeAt(d);if(C===10)return!0;if(C===92){if(d++,d>=D)break;var x=H.charCodeAt(d);if(x===110||x===114||x===87)return!0}}return!1}function Z(H,d,D){if(!D)return new $.b(H,null);for(var C=[],x=0,O=d.length;x<O;x++)C[x]=d[x];return new $.b(H,C)}var ne=function(){function H(d){Object(ce.a)(this,H);for(var D=[],C=0,x=0,O=d.length;x<O;x++)d.charCodeAt(x)===10&&(D[C++]=x);this._lineFeedsOffsets=D}return Object(we.a)(H,[{key:"findLineFeedCountBeforeOffset",value:function(D){var C=this._lineFeedsOffsets,x=0,O=C.length-1;if(O===-1||D<=C[0])return 0;for(;x<O;){var T=x+((O-x)/2>>0);C[T]>=D?O=T-1:C[T+1]>=D?(x=T,O=T):x=T+1}return x+1}}]),H}(),V=function(){function H(){Object(ce.a)(this,H)}return Object(we.a)(H,null,[{key:"findMatches",value:function(D,C,x,O,T){var z=C.parseSearchRequest();return z?z.regex.multiline?this._doFindMatchesMultiline(D,x,new N(z.wordSeparators,z.regex),O,T):this._doFindMatchesLineByLine(D,x,z,O,T):[]}},{key:"_getMultilineMatchRange",value:function(D,C,x,O,T,z){var I,de=0;O?(de=O.findLineFeedCountBeforeOffset(T),I=C+T+de):I=C+T;var pe;if(O){var fe=O.findLineFeedCountBeforeOffset(T+z.length),ke=fe-de;pe=I+z.length+ke}else pe=I+z.length;var A=D.getPositionAt(I),P=D.getPositionAt(pe);return new te.a(A.lineNumber,A.column,P.lineNumber,P.column)}},{key:"_doFindMatchesMultiline",value:function(D,C,x,O,T){var z=D.getOffsetAt(C.getStartPosition()),I=D.getValueInRange(C,1),de=D.getEOL()===`\r
`?new ne(I):null,pe=[],fe=0,ke;for(x.reset(0);ke=x.next(I);)if(pe[fe++]=Z(this._getMultilineMatchRange(D,z,I,de,ke.index,ke[0]),ke,O),fe>=T)return pe;return pe}},{key:"_doFindMatchesLineByLine",value:function(D,C,x,O,T){var z=[],I=0;if(C.startLineNumber===C.endLineNumber){var de=D.getLineContent(C.startLineNumber).substring(C.startColumn-1,C.endColumn-1);return I=this._findMatchesInLine(x,de,C.startLineNumber,C.startColumn-1,I,z,O,T),z}var pe=D.getLineContent(C.startLineNumber).substring(C.startColumn-1);I=this._findMatchesInLine(x,pe,C.startLineNumber,C.startColumn-1,I,z,O,T);for(var fe=C.startLineNumber+1;fe<C.endLineNumber&&I<T;fe++)I=this._findMatchesInLine(x,D.getLineContent(fe),fe,0,I,z,O,T);if(I<T){var ke=D.getLineContent(C.endLineNumber).substring(0,C.endColumn-1);I=this._findMatchesInLine(x,ke,C.endLineNumber,0,I,z,O,T)}return z}},{key:"_findMatchesInLine",value:function(D,C,x,O,T,z,I,de){var pe=D.wordSeparators;if(!I&&D.simpleSearch){for(var fe=D.simpleSearch,ke=fe.length,A=C.length,P=-ke;(P=C.indexOf(fe,P+ke))!==-1;)if((!pe||W(pe,C,A,P,ke))&&(z[T++]=new $.b(new te.a(x,P+1+O,x,P+1+ke+O),null),T>=de))return T;return T}var G=new N(D.wordSeparators,D.regex),re;G.reset(0);do if(re=G.next(C),re&&(z[T++]=Z(new te.a(x,re.index+1+O,x,re.index+1+re[0].length+O),re,I),T>=de))return T;while(re);return T}},{key:"findNextMatch",value:function(D,C,x,O){var T=C.parseSearchRequest();if(!T)return null;var z=new N(T.wordSeparators,T.regex);return T.regex.multiline?this._doFindNextMatchMultiline(D,x,z,O):this._doFindNextMatchLineByLine(D,x,z,O)}},{key:"_doFindNextMatchMultiline",value:function(D,C,x,O){var T=new se.a(C.lineNumber,1),z=D.getOffsetAt(T),I=D.getLineCount(),de=D.getValueInRange(new te.a(T.lineNumber,T.column,I,D.getLineMaxColumn(I)),1),pe=D.getEOL()===`\r
`?new ne(de):null;x.reset(C.column-1);var fe=x.next(de);return fe?Z(this._getMultilineMatchRange(D,z,de,pe,fe.index,fe[0]),fe,O):C.lineNumber!==1||C.column!==1?this._doFindNextMatchMultiline(D,new se.a(1,1),x,O):null}},{key:"_doFindNextMatchLineByLine",value:function(D,C,x,O){var T=D.getLineCount(),z=C.lineNumber,I=D.getLineContent(z),de=this._findFirstMatchInLine(x,I,z,C.column,O);if(de)return de;for(var pe=1;pe<=T;pe++){var fe=(z+pe-1)%T,ke=D.getLineContent(fe+1),A=this._findFirstMatchInLine(x,ke,fe+1,1,O);if(A)return A}return null}},{key:"_findFirstMatchInLine",value:function(D,C,x,O,T){D.reset(O-1);var z=D.next(C);return z?Z(new te.a(x,z.index+1,x,z.index+1+z[0].length),z,T):null}},{key:"findPreviousMatch",value:function(D,C,x,O){var T=C.parseSearchRequest();if(!T)return null;var z=new N(T.wordSeparators,T.regex);return T.regex.multiline?this._doFindPreviousMatchMultiline(D,x,z,O):this._doFindPreviousMatchLineByLine(D,x,z,O)}},{key:"_doFindPreviousMatchMultiline",value:function(D,C,x,O){var T=this._doFindMatchesMultiline(D,new te.a(1,1,C.lineNumber,C.column),x,O,10*_);if(T.length>0)return T[T.length-1];var z=D.getLineCount();return C.lineNumber!==z||C.column!==D.getLineMaxColumn(z)?this._doFindPreviousMatchMultiline(D,new se.a(z,D.getLineMaxColumn(z)),x,O):null}},{key:"_doFindPreviousMatchLineByLine",value:function(D,C,x,O){var T=D.getLineCount(),z=C.lineNumber,I=D.getLineContent(z).substring(0,C.column-1),de=this._findLastMatchInLine(x,I,z,O);if(de)return de;for(var pe=1;pe<=T;pe++){var fe=(T+z-pe-1)%T,ke=D.getLineContent(fe+1),A=this._findLastMatchInLine(x,ke,fe+1,O);if(A)return A}return null}},{key:"_findLastMatchInLine",value:function(D,C,x,O){var T=null,z;for(D.reset(0);z=D.next(C);)T=Z(new te.a(x,z.index+1,x,z.index+1+z[0].length),z,O);return T}}]),H}();function B(H,d,D,C,x){if(C===0)return!0;var O=d.charCodeAt(C-1);if(H.get(O)!==0||O===13||O===10)return!0;if(x>0){var T=d.charCodeAt(C);if(H.get(T)!==0)return!0}return!1}function F(H,d,D,C,x){if(C+x===D)return!0;var O=d.charCodeAt(C+x);if(H.get(O)!==0||O===13||O===10)return!0;if(x>0){var T=d.charCodeAt(C+x-1);if(H.get(T)!==0)return!0}return!1}function W(H,d,D,C,x){return B(H,d,D,C,x)&&F(H,d,D,C,x)}var N=function(){function H(d,D){Object(ce.a)(this,H),this._wordSeparators=d,this._searchRegex=D,this._prevMatchStartIndex=-1,this._prevMatchLength=0}return Object(we.a)(H,[{key:"reset",value:function(D){this._searchRegex.lastIndex=D,this._prevMatchStartIndex=-1,this._prevMatchLength=0}},{key:"next",value:function(D){var C=D.length,x;do{if(this._prevMatchStartIndex+this._prevMatchLength===C||(x=this._searchRegex.exec(D),!x))return null;var O=x.index,T=x[0].length;if(O===this._prevMatchStartIndex&&T===this._prevMatchLength){if(T===0){w.z(D,C,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=O,this._prevMatchLength=T,!this._wordSeparators||W(this._wordSeparators,D,C,O,T))return x}while(x);return null}}]),H}()},jRcv:function(mn,U,a){"use strict";a.d(U,"a",function(){return $}),a.d(U,"b",function(){return _});var ce=a("tJVT"),we=a("fWQN"),w=a("mtLc"),ve=a("HpOR"),se=a("erNZ");function te(E){return E.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}var $=function(){function E(Z,ne,V,B){Object(we.a)(this,E),this.oldPosition=Z,this.oldText=ne,this.newPosition=V,this.newText=B}return Object(w.a)(E,[{key:"oldLength",get:function(){return this.oldText.length}},{key:"oldEnd",get:function(){return this.oldPosition+this.oldText.length}},{key:"newLength",get:function(){return this.newText.length}},{key:"newEnd",get:function(){return this.newPosition+this.newText.length}},{key:"toString",value:function(){return this.oldText.length===0?"(insert@".concat(this.oldPosition,' "').concat(te(this.newText),'")'):this.newText.length===0?"(delete@".concat(this.oldPosition,' "').concat(te(this.oldText),'")'):"(replace@".concat(this.oldPosition,' "').concat(te(this.oldText),'" with "').concat(te(this.newText),'")')}},{key:"writeSize",value:function(){return 4+4+E._writeStringSize(this.oldText)+E._writeStringSize(this.newText)}},{key:"write",value:function(ne,V){return ve.f(ne,this.oldPosition,V),V+=4,ve.f(ne,this.newPosition,V),V+=4,V=E._writeString(ne,this.oldText,V),V=E._writeString(ne,this.newText,V),V}}],[{key:"_writeStringSize",value:function(ne){return 4+2*ne.length}},{key:"_writeString",value:function(ne,V,B){var F=V.length;ve.f(ne,F,B),B+=4;for(var W=0;W<F;W++)ve.e(ne,V.charCodeAt(W),B),B+=2;return B}},{key:"_readString",value:function(ne,V){var B=ve.c(ne,V);return V+=4,Object(se.b)(ne,V,B)}},{key:"read",value:function(ne,V,B){var F=ve.c(ne,V);V+=4;var W=ve.c(ne,V);V+=4;var N=E._readString(ne,V);V+=E._writeStringSize(N);var H=E._readString(ne,V);return V+=E._writeStringSize(H),B.push(new E(F,N,W,H)),V}}]),E}();function _(E,Z){if(E===null||E.length===0)return Z;var ne=new Y(E,Z);return ne.compress()}var Y=function(){function E(Z,ne){Object(we.a)(this,E),this._prevEdits=Z,this._currEdits=ne,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}return Object(w.a)(E,[{key:"compress",value:function(){for(var ne=0,V=0,B=this._getPrev(ne),F=this._getCurr(V);ne<this._prevLen||V<this._currLen;){if(B===null){this._acceptCurr(F),F=this._getCurr(++V);continue}if(F===null){this._acceptPrev(B),B=this._getPrev(++ne);continue}if(F.oldEnd<=B.newPosition){this._acceptCurr(F),F=this._getCurr(++V);continue}if(B.newEnd<=F.oldPosition){this._acceptPrev(B),B=this._getPrev(++ne);continue}if(F.oldPosition<B.newPosition){var W=E._splitCurr(F,B.newPosition-F.oldPosition),N=Object(ce.a)(W,2),H=N[0],d=N[1];this._acceptCurr(H),F=d;continue}if(B.newPosition<F.oldPosition){var D=E._splitPrev(B,F.oldPosition-B.newPosition),C=Object(ce.a)(D,2),x=C[0],O=C[1];this._acceptPrev(x),B=O;continue}var T=void 0,z=void 0;if(F.oldEnd===B.newEnd)T=B,z=F,B=this._getPrev(++ne),F=this._getCurr(++V);else if(F.oldEnd<B.newEnd){var I=E._splitPrev(B,F.oldLength),de=Object(ce.a)(I,2),pe=de[0],fe=de[1];T=pe,z=F,B=fe,F=this._getCurr(++V)}else{var ke=E._splitCurr(F,B.newLength),A=Object(ce.a)(ke,2),P=A[0],G=A[1];T=B,z=P,B=this._getPrev(++ne),F=G}this._result[this._resultLen++]=new $(T.oldPosition,T.oldText,z.newPosition,z.newText),this._prevDeltaOffset+=T.newLength-T.oldLength,this._currDeltaOffset+=z.newLength-z.oldLength}var re=E._merge(this._result),ae=E._removeNoOps(re);return ae}},{key:"_acceptCurr",value:function(ne){this._result[this._resultLen++]=E._rebaseCurr(this._prevDeltaOffset,ne),this._currDeltaOffset+=ne.newLength-ne.oldLength}},{key:"_getCurr",value:function(ne){return ne<this._currLen?this._currEdits[ne]:null}},{key:"_acceptPrev",value:function(ne){this._result[this._resultLen++]=E._rebasePrev(this._currDeltaOffset,ne),this._prevDeltaOffset+=ne.newLength-ne.oldLength}},{key:"_getPrev",value:function(ne){return ne<this._prevLen?this._prevEdits[ne]:null}}],[{key:"_rebaseCurr",value:function(ne,V){return new $(V.oldPosition-ne,V.oldText,V.newPosition,V.newText)}},{key:"_rebasePrev",value:function(ne,V){return new $(V.oldPosition,V.oldText,V.newPosition+ne,V.newText)}},{key:"_splitPrev",value:function(ne,V){var B=ne.newText.substr(0,V),F=ne.newText.substr(V);return[new $(ne.oldPosition,ne.oldText,ne.newPosition,B),new $(ne.oldEnd,"",ne.newPosition+V,F)]}},{key:"_splitCurr",value:function(ne,V){var B=ne.oldText.substr(0,V),F=ne.oldText.substr(V);return[new $(ne.oldPosition,B,ne.newPosition,ne.newText),new $(ne.oldPosition+V,F,ne.newEnd,"")]}},{key:"_merge",value:function(ne){if(ne.length===0)return ne;for(var V=[],B=0,F=ne[0],W=1;W<ne.length;W++){var N=ne[W];F.oldEnd===N.oldPosition?F=new $(F.oldPosition,F.oldText+N.oldText,F.newPosition,F.newText+N.newText):(V[B++]=F,F=N)}return V[B++]=F,V}},{key:"_removeNoOps",value:function(ne){if(ne.length===0)return ne;for(var V=[],B=0,F=0;F<ne.length;F++){var W=ne[F];W.oldText!==W.newText&&(V[B++]=W)}return V}}]),E}()},jaoW:function(mn,U,a){"use strict";a.d(U,"b",function(){return E}),a.d(U,"a",function(){return Z});var ce=a("fWQN"),we=a("mtLc"),w=a("EffR"),ve=a("i04g"),se=a("qj0h"),te=a("q/I2"),$=a.n(te),_=a("3/fG"),Y=w.$,E={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0},Z=function(){function ne(V,B,F){Object(ce.a)(this,ne),this.os=B,this.keyElements=new Set,this.options=F||Object.create(null);var W=this.options.keybindingLabelForeground;this.domNode=w.append(V,Y(".monaco-keybinding")),W&&(this.domNode.style.color=W),this.didEverRender=!1,V.appendChild(this.domNode)}return Object(we.a)(ne,[{key:"element",get:function(){return this.domNode}},{key:"set",value:function(B,F){this.didEverRender&&this.keybinding===B&&ne.areSame(this.matches,F)||(this.keybinding=B,this.matches=F,this.render())}},{key:"render",value:function(){var B;if(this.clear(),this.keybinding){var F=this.keybinding.getChords();F[0]&&this.renderChord(this.domNode,F[0],this.matches?this.matches.firstPart:null);for(var W=1;W<F.length;W++)w.append(this.domNode,Y("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,F[W],this.matches?this.matches.chordPart:null);var N=((B=this.options.disableTitle)!==null&&B!==void 0?B:!1)?void 0:this.keybinding.getAriaLabel()||void 0;N!==void 0?this.domNode.title=N:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}},{key:"clear",value:function(){w.clearNode(this.domNode),this.keyElements.clear()}},{key:"renderChord",value:function(B,F,W){var N=ve.c.modifierLabels[this.os];F.ctrlKey&&this.renderKey(B,N.ctrlKey,Boolean(W==null?void 0:W.ctrlKey),N.separator),F.shiftKey&&this.renderKey(B,N.shiftKey,Boolean(W==null?void 0:W.shiftKey),N.separator),F.altKey&&this.renderKey(B,N.altKey,Boolean(W==null?void 0:W.altKey),N.separator),F.metaKey&&this.renderKey(B,N.metaKey,Boolean(W==null?void 0:W.metaKey),N.separator);var H=F.keyLabel;H&&this.renderKey(B,H,Boolean(W==null?void 0:W.keyCode),"")}},{key:"renderKey",value:function(B,F,W,N){w.append(B,this.createKeyElement(F,W?".highlight":"")),N&&w.append(B,Y("span.monaco-keybinding-key-separator",void 0,N))}},{key:"renderUnbound",value:function(B){w.append(B,this.createKeyElement(Object(_.b)("unbound","Unbound")))}},{key:"createKeyElement",value:function(B){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",W=Y("span.monaco-keybinding-key"+F,void 0,B);return this.keyElements.add(W),this.options.keybindingLabelBackground&&(W.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(W.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(W.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(W.style.boxShadow="inset 0 -1px 0 ".concat(this.options.keybindingLabelShadow)),W}}],[{key:"areSame",value:function(B,F){return B===F||!B&&!F?!0:!!B&&!!F&&Object(se.e)(B.firstPart,F.firstPart)&&Object(se.e)(B.chordPart,F.chordPart)}}]),ne}()},jhiw:function(mn,U,a){},jtXd:function(mn,U,a){"use strict";a.d(U,"a",function(){return Z});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("N0LK"),se=a("LCkn"),te=a("LLum"),$=a("JLfW"),_=a("mJFO"),Y=a("aokT"),E=a("cGHE"),Z=function(){function ne(){Object(we.a)(this,ne)}return Object(w.a)(ne,null,[{key:"deleteRight",value:function(B,F,W,N){for(var H=[],d=B!==3,D=0,C=N.length;D<C;D++){var x=N[D],O=x;if(O.isEmpty()){var T=x.getPosition(),z=_.a.right(F,W,T);O=new Y.a(z.lineNumber,z.column,T.lineNumber,T.column)}if(O.isEmpty()){H[D]=null;continue}O.startLineNumber!==O.endLineNumber&&(d=!0),H[D]=new se.a(O,"")}return[d,H]}},{key:"isAutoClosingPairDelete",value:function(B,F,W,N,H,d,D){if(F==="never"&&W==="never"||B==="never")return!1;for(var C=0,x=d.length;C<x;C++){var O=d[C],T=O.getPosition();if(!O.isEmpty())return!1;var z=H.getLineContent(T.lineNumber);if(T.column<2||T.column>=z.length+1)return!1;var I=z.charAt(T.column-2),de=N.get(I);if(!de)return!1;if(Object(te.e)(I)){if(W==="never")return!1}else if(F==="never")return!1;var pe=z.charAt(T.column-1),fe=!1,ke=Object(ce.a)(de),A;try{for(ke.s();!(A=ke.n()).done;){var P=A.value;P.open===I&&P.close===pe&&(fe=!0)}}catch(J){ke.e(J)}finally{ke.f()}if(!fe)return!1;if(B==="auto"){for(var G=!1,re=0,ae=D.length;re<ae;re++){var Q=D[re];if(T.lineNumber===Q.startLineNumber&&T.column===Q.startColumn){G=!0;break}}if(!G)return!1}}return!0}},{key:"_runAutoClosingPairDelete",value:function(B,F,W){for(var N=[],H=0,d=W.length;H<d;H++){var D=W[H].getPosition(),C=new Y.a(D.lineNumber,D.column-1,D.lineNumber,D.column+1);N[H]=new se.a(C,"")}return[!0,N]}},{key:"deleteLeft",value:function(B,F,W,N,H){if(this.isAutoClosingPairDelete(F.autoClosingDelete,F.autoClosingBrackets,F.autoClosingQuotes,F.autoClosingPairs.autoClosingPairsOpenByEnd,W,N,H))return this._runAutoClosingPairDelete(F,W,N);for(var d=[],D=B!==2,C=0,x=N.length;C<x;C++){var O=ne.getDeleteRange(N[C],W,F);if(O.isEmpty()){d[C]=null;continue}O.startLineNumber!==O.endLineNumber&&(D=!0),d[C]=new se.a(O,"")}return[D,d]}},{key:"getDeleteRange",value:function(B,F,W){if(!B.isEmpty())return B;var N=B.getPosition();if(W.useTabStops&&N.column>1){var H=F.getLineContent(N.lineNumber),d=ve.u(H),D=d===-1?H.length+1:d+1;if(N.column<=D){var C=W.visibleColumnFromColumn(F,N),x=$.a.prevIndentTabStop(C,W.indentSize),O=W.columnFromVisibleColumn(F,N.lineNumber,x);return new Y.a(N.lineNumber,O,N.lineNumber,N.column)}}return Y.a.fromPositions(ne.getPositionAfterDeleteLeft(N,F),N)}},{key:"getPositionAfterDeleteLeft",value:function(B,F){if(B.column>1){var W=ve.y(B.column-1,F.getLineContent(B.lineNumber));return B.with(void 0,W+1)}else if(B.lineNumber>1){var N=B.lineNumber-1;return new E.a(N,F.getLineMaxColumn(N))}else return B}},{key:"cut",value:function(B,F,W){var N=[],H=null;W.sort(function(pe,fe){return E.a.compare(pe.getStartPosition(),fe.getEndPosition())});for(var d=0,D=W.length;d<D;d++){var C=W[d];if(C.isEmpty())if(B.emptySelectionClipboard){var x=C.getPosition(),O=void 0,T=void 0,z=void 0,I=void 0;x.lineNumber<F.getLineCount()?(O=x.lineNumber,T=1,z=x.lineNumber+1,I=1):x.lineNumber>1&&(H==null?void 0:H.endLineNumber)!==x.lineNumber?(O=x.lineNumber-1,T=F.getLineMaxColumn(x.lineNumber-1),z=x.lineNumber,I=F.getLineMaxColumn(x.lineNumber)):(O=x.lineNumber,T=1,z=x.lineNumber,I=F.getLineMaxColumn(x.lineNumber));var de=new Y.a(O,T,z,I);H=de,de.isEmpty()?N[d]=null:N[d]=new se.a(de,"")}else N[d]=null;else N[d]=new se.a(C,"")}return new te.c(0,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}]),ne}()},jwCD:function(mn,U,a){"use strict";a.d(U,"b",function(){return se}),a.d(U,"a",function(){return te}),a.d(U,"c",function(){return $});var ce=a("rAM+"),we=a("mtLc"),w=a("fWQN"),ve=a("VHWv"),se=Object(we.a)(function _(Y,E){Object(w.a)(this,_),this.changes=Y,this.hitTimeout=E}),te=function(){function _(Y,E,Z){Object(w.a)(this,_),this.originalRange=Y,this.modifiedRange=E,this.innerChanges=Z}return Object(we.a)(_,[{key:"toString",value:function(){return"{".concat(this.originalRange.toString(),"->").concat(this.modifiedRange.toString(),"}")}},{key:"changedLineCount",get:function(){return Math.max(this.originalRange.length,this.modifiedRange.length)}}],[{key:"inverse",value:function(E,Z,ne){var V=[],B=1,F=1,W=Object(ce.a)(E),N;try{for(W.s();!(N=W.n()).done;){var H=N.value,d=new _(new ve.a(B,H.originalRange.startLineNumber),new ve.a(F,H.modifiedRange.startLineNumber),void 0);d.modifiedRange.isEmpty||V.push(d),B=H.originalRange.endLineNumberExclusive,F=H.modifiedRange.endLineNumberExclusive}}catch(C){W.e(C)}finally{W.f()}var D=new _(new ve.a(B,Z+1),new ve.a(F,ne+1),void 0);return D.modifiedRange.isEmpty||V.push(D),V}}]),_}(),$=function(){function _(Y,E){Object(w.a)(this,_),this.originalRange=Y,this.modifiedRange=E}return Object(we.a)(_,[{key:"toString",value:function(){return"{".concat(this.originalRange.toString(),"->").concat(this.modifiedRange.toString(),"}")}}]),_}()},k9mg:function(mn,U,a){"use strict";a.d(U,"a",function(){return Gi}),a.d(U,"b",function(){return Gr}),a.d(U,"e",function(){return Fr}),a.d(U,"f",function(){return At}),a.d(U,"g",function(){return $t}),a.d(U,"d",function(){return $r}),a.d(U,"c",function(){return la});var ce=a("jrin"),we=a("tJVT"),w=a("tS8v"),ve=a("w4Tj"),se=a("oZsa"),te=a("yKVA"),$=a("879j"),_=a("fWQN"),Y=a("mtLc"),E=a("EffR"),Z=a("6OMU"),ne=a("JQT/"),V=a("MI8n"),B=a("pmY6"),F=a("4rho"),W=a("cqdO"),N=function(){function ee(j,k){Object(_.a)(this,ee),this.renderer=j,this.modelProvider=k}return Object(Y.a)(ee,[{key:"templateId",get:function(){return this.renderer.templateId}},{key:"renderTemplate",value:function(k){var K=this.renderer.renderTemplate(k);return{data:K,disposable:B.a.None}}},{key:"renderElement",value:function(k,K,ue,xe){var Ve=this,ut;if((ut=ue.disposable)===null||ut===void 0||ut.dispose(),!!ue.data){var _t=this.modelProvider();if(_t.isResolved(k))return this.renderer.renderElement(_t.get(k),k,ue.data,xe);var xt=new ne.b,un=_t.resolve(k,xt.token);ue.disposable={dispose:function(){return xt.cancel()}},this.renderer.renderPlaceholder(k,ue.data),un.then(function(ln){return Ve.renderer.renderElement(ln,k,ue.data,xe)})}}},{key:"disposeTemplate",value:function(k){k.disposable&&(k.disposable.dispose(),k.disposable=void 0),k.data&&(this.renderer.disposeTemplate(k.data),k.data=void 0)}}]),ee}(),H=function(){function ee(j,k){Object(_.a)(this,ee),this.modelProvider=j,this.accessibilityProvider=k}return Object(Y.a)(ee,[{key:"getWidgetAriaLabel",value:function(){return this.accessibilityProvider.getWidgetAriaLabel()}},{key:"getAriaLabel",value:function(k){var K=this.modelProvider();return K.isResolved(k)?this.accessibilityProvider.getAriaLabel(K.get(k)):null}}]),ee}();function d(ee,j){return Object.assign(Object.assign({},j),{accessibilityProvider:j.accessibilityProvider&&new H(ee,j.accessibilityProvider)})}var D=function(){function ee(j,k,K,ue){var xe=this,Ve=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Object(_.a)(this,ee);var ut=function(){return xe.model},_t=ue.map(function(xt){return new N(xt,ut)});this.list=new W.b(j,k,K,_t,d(ut,Ve))}return Object(Y.a)(ee,[{key:"updateOptions",value:function(k){this.list.updateOptions(k)}},{key:"getHTMLElement",value:function(){return this.list.getHTMLElement()}},{key:"onDidFocus",get:function(){return this.list.onDidFocus}},{key:"onDidDispose",get:function(){return this.list.onDidDispose}},{key:"onMouseDblClick",get:function(){var k=this;return V.c.map(this.list.onMouseDblClick,function(K){var ue=K.element,xe=K.index,Ve=K.browserEvent;return{element:ue===void 0?void 0:k._model.get(ue),index:xe,browserEvent:Ve}})}},{key:"onPointer",get:function(){var k=this;return V.c.map(this.list.onPointer,function(K){var ue=K.element,xe=K.index,Ve=K.browserEvent;return{element:ue===void 0?void 0:k._model.get(ue),index:xe,browserEvent:Ve}})}},{key:"onDidChangeSelection",get:function(){var k=this;return V.c.map(this.list.onDidChangeSelection,function(K){var ue=K.elements,xe=K.indexes,Ve=K.browserEvent;return{elements:ue.map(function(ut){return k._model.get(ut)}),indexes:xe,browserEvent:Ve}})}},{key:"model",get:function(){return this._model},set:function(k){this._model=k,this.list.splice(0,this.list.length,Object(Z.z)(k.length))}},{key:"getFocus",value:function(){return this.list.getFocus()}},{key:"getSelection",value:function(){return this.list.getSelection()}},{key:"getSelectedElements",value:function(){var k=this;return this.getSelection().map(function(K){return k.model.get(K)})}},{key:"style",value:function(k){this.list.style(k)}},{key:"dispose",value:function(){this.list.dispose()}}]),ee}(),C=a("oBTY"),x=a("rAM+"),O=a("44XX"),T=a("7GBL"),z=function(){function ee(j,k,K){Object(_.a)(this,ee),this.columns=j,this.getColumnSize=K,this.templateId=ee.TemplateId,this.renderedTemplates=new Set;var ue=new Map(k.map(function(xt){return[xt.templateId,xt]}));this.renderers=[];var xe=Object(x.a)(j),Ve;try{for(xe.s();!(Ve=xe.n()).done;){var ut=Ve.value,_t=ue.get(ut.templateId);if(!_t)throw new Error("Table cell renderer for template id ".concat(ut.templateId," not found."));this.renderers.push(_t)}}catch(xt){xe.e(xt)}finally{xe.f()}}return Object(Y.a)(ee,[{key:"renderTemplate",value:function(k){for(var K=Object(E.append)(k,Object(E.$)(".monaco-table-tr")),ue=[],xe=[],Ve=0;Ve<this.columns.length;Ve++){var ut=this.renderers[Ve],_t=Object(E.append)(K,Object(E.$)(".monaco-table-td",{"data-col-index":Ve}));_t.style.width="".concat(this.getColumnSize(Ve),"px"),ue.push(_t),xe.push(ut.renderTemplate(_t))}var xt={container:k,cellContainers:ue,cellTemplateData:xe};return this.renderedTemplates.add(xt),xt}},{key:"renderElement",value:function(k,K,ue,xe){for(var Ve=0;Ve<this.columns.length;Ve++){var ut=this.columns[Ve],_t=ut.project(k),xt=this.renderers[Ve];xt.renderElement(_t,K,ue.cellTemplateData[Ve],xe)}}},{key:"disposeElement",value:function(k,K,ue,xe){for(var Ve=0;Ve<this.columns.length;Ve++){var ut=this.renderers[Ve];if(ut.disposeElement){var _t=this.columns[Ve],xt=_t.project(k);ut.disposeElement(xt,K,ue.cellTemplateData[Ve],xe)}}}},{key:"disposeTemplate",value:function(k){for(var K=0;K<this.columns.length;K++){var ue=this.renderers[K];ue.disposeTemplate(k.cellTemplateData[K])}Object(E.clearNode)(k.container),this.renderedTemplates.delete(k)}},{key:"layoutColumn",value:function(k,K){var ue=Object(x.a)(this.renderedTemplates),xe;try{for(ue.s();!(xe=ue.n()).done;){var Ve=xe.value,ut=Ve.cellContainers;ut[k].style.width="".concat(K,"px")}}catch(_t){ue.e(_t)}finally{ue.f()}}}]),ee}();z.TemplateId="row";function I(ee){return{getHeight:function(k){return ee.getHeight(k)},getTemplateId:function(){return z.TemplateId}}}var de=function(){function ee(j,k){Object(_.a)(this,ee),this.column=j,this.index=k,this._onDidLayout=new V.b,this.onDidLayout=this._onDidLayout.event,this.element=Object(E.$)(".monaco-table-th",{"data-col-index":k,title:j.tooltip},j.label)}return Object(Y.a)(ee,[{key:"minimumSize",get:function(){var k;return(k=this.column.minimumWidth)!==null&&k!==void 0?k:120}},{key:"maximumSize",get:function(){var k;return(k=this.column.maximumWidth)!==null&&k!==void 0?k:Number.POSITIVE_INFINITY}},{key:"onDidChange",get:function(){var k;return(k=this.column.onDidChangeWidthConstraints)!==null&&k!==void 0?k:V.c.None}},{key:"layout",value:function(k){this._onDidLayout.fire([this.index,k])}}]),ee}(),pe=function(){function ee(j,k,K,ue,xe,Ve){var ut=this;Object(_.a)(this,ee),this.virtualDelegate=K,this.domId="table_id_".concat(++ee.InstanceCount),this.disposables=new B.c,this.cachedWidth=0,this.cachedHeight=0,this.domNode=Object(E.append)(k,Object(E.$)(".monaco-table.".concat(this.domId)));var _t=ue.map(function(ln,nn){return new de(ln,nn)}),xt={size:_t.reduce(function(ln,nn){return ln+nn.column.weight},0),views:_t.map(function(ln){return{size:ln.column.weight,view:ln}})};this.splitview=this.disposables.add(new O.b(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:function(){return ut.cachedHeight},descriptor:xt})),this.splitview.el.style.height="".concat(K.headerRowHeight,"px"),this.splitview.el.style.lineHeight="".concat(K.headerRowHeight,"px");var un=new z(ue,xe,function(ln){return ut.splitview.getViewSize(ln)});this.list=this.disposables.add(new W.b(j,this.domNode,I(K),[un],Ve)),V.c.any.apply(V.c,Object(C.a)(_t.map(function(ln){return ln.onDidLayout})))(function(ln){var nn=Object(we.a)(ln,2),bn=nn[0],An=nn[1];return un.layoutColumn(bn,An)},null,this.disposables),this.splitview.onDidSashReset(function(ln){var nn=ue.reduce(function(An,It){return An+It.weight},0),bn=ue[ln].weight/nn*ut.cachedWidth;ut.splitview.resizeView(ln,bn)},null,this.disposables),this.styleElement=Object(E.createStyleSheet)(this.domNode),this.style(W.j)}return Object(Y.a)(ee,[{key:"onDidChangeFocus",get:function(){return this.list.onDidChangeFocus}},{key:"onDidChangeSelection",get:function(){return this.list.onDidChangeSelection}},{key:"onMouseDblClick",get:function(){return this.list.onMouseDblClick}},{key:"onPointer",get:function(){return this.list.onPointer}},{key:"onDidFocus",get:function(){return this.list.onDidFocus}},{key:"onDidDispose",get:function(){return this.list.onDidDispose}},{key:"updateOptions",value:function(k){this.list.updateOptions(k)}},{key:"splice",value:function(k,K){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];this.list.splice(k,K,ue)}},{key:"getHTMLElement",value:function(){return this.domNode}},{key:"style",value:function(k){var K=[];K.push(".monaco-table.".concat(this.domId,` > .monaco-split-view2 .monaco-sash.vertical::before {
			top: `).concat(this.virtualDelegate.headerRowHeight+1,`px;
			height: calc(100% - `).concat(this.virtualDelegate.headerRowHeight,`px);
		}`)),this.styleElement.textContent=K.join(`
`),this.list.style(k)}},{key:"getSelectedElements",value:function(){return this.list.getSelectedElements()}},{key:"getSelection",value:function(){return this.list.getSelection()}},{key:"getFocus",value:function(){return this.list.getFocus()}},{key:"dispose",value:function(){this.disposables.dispose()}}]),ee}();pe.InstanceCount=0;var fe=a("qLMh"),ke=a("4y0V"),A=a("uDWl"),P=a("WqXY"),G=a("6BjD"),re=a("0+8E"),ae=a("feEw"),Q=a("kXS7"),J=a("Pv/L"),me=a("ZKkB"),ge;(function(ee){ee[ee.Expanded=0]="Expanded",ee[ee.Collapsed=1]="Collapsed",ee[ee.PreserveOrExpanded=2]="PreserveOrExpanded",ee[ee.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(ge||(ge={}));var L;(function(ee){ee[ee.Unknown=0]="Unknown",ee[ee.Twistie=1]="Twistie",ee[ee.Element=2]="Element",ee[ee.Filter=3]="Filter"})(L||(L={}));var De=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue){return Object(_.a)(this,k),j.call(this,"TreeError [".concat(K,"] ").concat(ue))}return Object(Y.a)(k)}(Object(me.a)(Error)),Ae=function(){function ee(j){Object(_.a)(this,ee),this.fn=j,this._map=new WeakMap}return Object(Y.a)(ee,[{key:"map",value:function(k){var K=this._map.get(k);return K||(K=this.fn(k),this._map.set(k,K)),K}}]),ee}(),Oe=a("X+cX"),Pe=a("3fZx"),Ne=a("Gw4z"),Fe=a("JYp7");function Xe(ee){return typeof ee=="object"&&"visibility"in ee&&"data"in ee}function Et(ee){switch(ee){case!0:return 1;case!1:return 0;default:return ee}}function Ft(ee){return typeof ee.collapsible=="boolean"}var Ot=function(){function ee(j,k,K){var ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};Object(_.a)(this,ee),this.user=j,this.list=k,this.rootRef=[],this.eventBufferer=new V.d,this._onDidChangeCollapseState=new V.b,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new V.b,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new V.b,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new Oe.c(Pe.a),this.collapseByDefault=typeof ue.collapseByDefault=="undefined"?!1:ue.collapseByDefault,this.filter=ue.filter,this.autoExpandSingleChildren=typeof ue.autoExpandSingleChildren=="undefined"?!1:ue.autoExpandSingleChildren,this.root={parent:void 0,element:K,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}return Object(Y.a)(ee,[{key:"splice",value:function(k,K){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fe.a.empty(),xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(k.length===0)throw new De(this.user,"Invalid tree location");xe.diffIdentityProvider?this.spliceSmart(xe.diffIdentityProvider,k,K,ue,xe):this.spliceSimple(k,K,ue,xe)}},{key:"spliceSmart",value:function(k,K,ue,xe,Ve,ut){var _t=this,xt;xe===void 0&&(xe=Fe.a.empty()),ut===void 0&&(ut=(xt=Ve.diffDepth)!==null&&xt!==void 0?xt:0);var un=this.getParentNodeWithListIndex(K),ln=un.parentNode;if(!ln.lastDiffIds)return this.spliceSimple(K,ue,xe,Ve);var nn=Object(C.a)(xe),bn=K[K.length-1],An=new Ne.a({getElements:function(){return ln.lastDiffIds}},{getElements:function(){return[].concat(Object(C.a)(ln.children.slice(0,bn)),Object(C.a)(nn),Object(C.a)(ln.children.slice(bn+ue))).map(function(Tr){return k.getId(Tr.element).toString()})}}).ComputeDiff(!1);if(An.quitEarly)return ln.lastDiffIds=void 0,this.spliceSimple(K,ue,nn,Ve);var It=K.slice(0,-1),er=function(Tr,ba,Sa){if(ut>0)for(var Va=0;Va<Sa;Va++)Tr--,ba--,_t.spliceSmart(k,[].concat(Object(C.a)(It),[Tr,0]),Number.MAX_SAFE_INTEGER,nn[ba].children,Ve,ut-1)},Mi=Math.min(ln.children.length,bn+ue),wr=nn.length,hr=Object(x.a)(An.changes.sort(function(zr,Tr){return Tr.originalStart-zr.originalStart})),xi;try{for(hr.s();!(xi=hr.n()).done;){var Ar=xi.value;er(Mi,wr,Mi-(Ar.originalStart+Ar.originalLength)),Mi=Ar.originalStart,wr=Ar.modifiedStart-bn,this.spliceSimple([].concat(Object(C.a)(It),[Mi]),Ar.originalLength,Fe.a.slice(nn,wr,wr+Ar.modifiedLength),Ve)}}catch(zr){hr.e(zr)}finally{hr.f()}er(Mi,wr,Mi)}},{key:"spliceSimple",value:function(k,K){for(var ue=this,xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fe.a.empty(),Ve=arguments.length>3?arguments[3]:void 0,ut=Ve.onDidCreateNode,_t=Ve.onDidDeleteNode,xt=Ve.diffIdentityProvider,un=this.getParentNodeWithListIndex(k),ln=un.parentNode,nn=un.listIndex,bn=un.revealed,An=un.visible,It=[],er=Fe.a.map(xe,function(zo){return ue.createTreeNode(zo,ln,ln.visible?1:0,bn,It,ut)}),Mi=k[k.length-1],wr=ln.children.length>0,hr=0,xi=Mi;xi>=0&&xi<ln.children.length;xi--){var Ar=ln.children[xi];if(Ar.visible){hr=Ar.visibleChildIndex;break}}var zr=[],Tr=0,ba=0,Sa=Object(x.a)(er),Va;try{for(Sa.s();!(Va=Sa.n()).done;){var Ja=Va.value;zr.push(Ja),ba+=Ja.renderNodeCount,Ja.visible&&(Ja.visibleChildIndex=hr+Tr++)}}catch(zo){Sa.e(zo)}finally{Sa.f()}var Ba=Object(Z.B)(ln.children,Mi,K,zr);xt?ln.lastDiffIds?Object(Z.B)(ln.lastDiffIds,Mi,K,zr.map(function(zo){return xt.getId(zo.element).toString()})):ln.lastDiffIds=ln.children.map(function(zo){return xt.getId(zo.element).toString()}):ln.lastDiffIds=void 0;var bo=0,yo=Object(x.a)(Ba),Vo;try{for(yo.s();!(Vo=yo.n()).done;){var js=Vo.value;js.visible&&bo++}}catch(zo){yo.e(zo)}finally{yo.f()}if(bo!==0)for(var Qo=Mi+zr.length;Qo<ln.children.length;Qo++){var Ho=ln.children[Qo];Ho.visible&&(Ho.visibleChildIndex-=bo)}if(ln.visibleChildrenCount+=Tr-bo,bn&&An){var us=Ba.reduce(function(zo,Bs){return zo+(Bs.visible?Bs.renderNodeCount:0)},0);this._updateAncestorsRenderNodeCount(ln,ba-us),this.list.splice(nn,us,It)}if(Ba.length>0&&_t){var go=function zo(Bs){_t(Bs),Bs.children.forEach(zo)};Ba.forEach(go)}this._onDidSplice.fire({insertedNodes:zr,deletedNodes:Ba});var Uo=ln.children.length>0;wr!==Uo&&this.setCollapsible(k.slice(0,-1),Uo);for(var Yo=ln;Yo;){if(Yo.visibility===2){this.refilterDelayer.trigger(function(){return ue.refilter()});break}Yo=Yo.parent}}},{key:"rerender",value:function(k){if(k.length===0)throw new De(this.user,"Invalid tree location");var K=this.getTreeNodeWithListIndex(k),ue=K.node,xe=K.listIndex,Ve=K.revealed;ue.visible&&Ve&&this.list.splice(xe,1,[ue])}},{key:"has",value:function(k){return this.hasTreeNode(k)}},{key:"getListIndex",value:function(k){var K=this.getTreeNodeWithListIndex(k),ue=K.listIndex,xe=K.visible,Ve=K.revealed;return xe&&Ve?ue:-1}},{key:"getListRenderCount",value:function(k){return this.getTreeNode(k).renderNodeCount}},{key:"isCollapsible",value:function(k){return this.getTreeNode(k).collapsible}},{key:"setCollapsible",value:function(k,K){var ue=this,xe=this.getTreeNode(k);typeof K=="undefined"&&(K=!xe.collapsible);var Ve={collapsible:K};return this.eventBufferer.bufferEvents(function(){return ue._setCollapseState(k,Ve)})}},{key:"isCollapsed",value:function(k){return this.getTreeNode(k).collapsed}},{key:"setCollapsed",value:function(k,K,ue){var xe=this,Ve=this.getTreeNode(k);typeof K=="undefined"&&(K=!Ve.collapsed);var ut={collapsed:K,recursive:ue||!1};return this.eventBufferer.bufferEvents(function(){return xe._setCollapseState(k,ut)})}},{key:"_setCollapseState",value:function(k,K){var ue=this.getTreeNodeWithListIndex(k),xe=ue.node,Ve=ue.listIndex,ut=ue.revealed,_t=this._setListNodeCollapseState(xe,Ve,ut,K);if(xe!==this.root&&this.autoExpandSingleChildren&&_t&&!Ft(K)&&xe.collapsible&&!xe.collapsed&&!K.recursive){for(var xt=-1,un=0;un<xe.children.length;un++){var ln=xe.children[un];if(ln.visible)if(xt>-1){xt=-1;break}else xt=un}xt>-1&&this._setCollapseState([].concat(Object(C.a)(k),[xt]),K)}return _t}},{key:"_setListNodeCollapseState",value:function(k,K,ue,xe){var Ve=this._setNodeCollapseState(k,xe,!1);if(!ue||!k.visible||!Ve)return Ve;var ut=k.renderNodeCount,_t=this.updateNodeAfterCollapseChange(k),xt=ut-(K===-1?0:1);return this.list.splice(K+1,xt,_t.slice(1)),Ve}},{key:"_setNodeCollapseState",value:function(k,K,ue){var xe;if(k===this.root?xe=!1:(Ft(K)?(xe=k.collapsible!==K.collapsible,k.collapsible=K.collapsible):k.collapsible?(xe=k.collapsed!==K.collapsed,k.collapsed=K.collapsed):xe=!1,xe&&this._onDidChangeCollapseState.fire({node:k,deep:ue})),!Ft(K)&&K.recursive){var Ve=Object(x.a)(k.children),ut;try{for(Ve.s();!(ut=Ve.n()).done;){var _t=ut.value;xe=this._setNodeCollapseState(_t,K,!0)||xe}}catch(xt){Ve.e(xt)}finally{Ve.f()}}return xe}},{key:"expandTo",value:function(k){var K=this;this.eventBufferer.bufferEvents(function(){for(var ue=K.getTreeNode(k);ue.parent;)ue=ue.parent,k=k.slice(0,k.length-1),ue.collapsed&&K._setCollapseState(k,{collapsed:!1,recursive:!1})})}},{key:"refilter",value:function(){var k=this.root.renderNodeCount,K=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,k,K),this.refilterDelayer.cancel()}},{key:"createTreeNode",value:function(k,K,ue,xe,Ve,ut){var _t={parent:K,element:k.element,children:[],depth:K.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof k.collapsible=="boolean"?k.collapsible:typeof k.collapsed!="undefined",collapsed:typeof k.collapsed=="undefined"?this.collapseByDefault:k.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},xt=this._filterNode(_t,ue);_t.visibility=xt,xe&&Ve.push(_t);var un=k.children||Fe.a.empty(),ln=xe&&xt!==0&&!_t.collapsed,nn=0,bn=1,An=Object(x.a)(un),It;try{for(An.s();!(It=An.n()).done;){var er=It.value,Mi=this.createTreeNode(er,_t,xt,ln,Ve,ut);_t.children.push(Mi),bn+=Mi.renderNodeCount,Mi.visible&&(Mi.visibleChildIndex=nn++)}}catch(wr){An.e(wr)}finally{An.f()}return _t.collapsible=_t.collapsible||_t.children.length>0,_t.visibleChildrenCount=nn,_t.visible=xt===2?nn>0:xt===1,_t.visible?_t.collapsed||(_t.renderNodeCount=bn):(_t.renderNodeCount=0,xe&&Ve.pop()),ut==null||ut(_t),_t}},{key:"updateNodeAfterCollapseChange",value:function(k){var K=k.renderNodeCount,ue=[];return this._updateNodeAfterCollapseChange(k,ue),this._updateAncestorsRenderNodeCount(k.parent,ue.length-K),ue}},{key:"_updateNodeAfterCollapseChange",value:function(k,K){if(k.visible===!1)return 0;if(K.push(k),k.renderNodeCount=1,!k.collapsed){var ue=Object(x.a)(k.children),xe;try{for(ue.s();!(xe=ue.n()).done;){var Ve=xe.value;k.renderNodeCount+=this._updateNodeAfterCollapseChange(Ve,K)}}catch(ut){ue.e(ut)}finally{ue.f()}}return this._onDidChangeRenderNodeCount.fire(k),k.renderNodeCount}},{key:"updateNodeAfterFilterChange",value:function(k){var K=k.renderNodeCount,ue=[];return this._updateNodeAfterFilterChange(k,k.visible?1:0,ue),this._updateAncestorsRenderNodeCount(k.parent,ue.length-K),ue}},{key:"_updateNodeAfterFilterChange",value:function(k,K,ue){var xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,Ve;if(k!==this.root){if(Ve=this._filterNode(k,K),Ve===0)return k.visible=!1,k.renderNodeCount=0,!1;xe&&ue.push(k)}var ut=ue.length;k.renderNodeCount=k===this.root?0:1;var _t=!1;if(!k.collapsed||Ve!==0){var xt=0,un=Object(x.a)(k.children),ln;try{for(un.s();!(ln=un.n()).done;){var nn=ln.value;_t=this._updateNodeAfterFilterChange(nn,Ve,ue,xe&&!k.collapsed)||_t,nn.visible&&(nn.visibleChildIndex=xt++)}}catch(bn){un.e(bn)}finally{un.f()}k.visibleChildrenCount=xt}else k.visibleChildrenCount=0;return k!==this.root&&(k.visible=Ve===2?_t:Ve===1,k.visibility=Ve),k.visible?k.collapsed||(k.renderNodeCount+=ue.length-ut):(k.renderNodeCount=0,xe&&ue.pop()),this._onDidChangeRenderNodeCount.fire(k),k.visible}},{key:"_updateAncestorsRenderNodeCount",value:function(k,K){if(K!==0)for(;k;)k.renderNodeCount+=K,this._onDidChangeRenderNodeCount.fire(k),k=k.parent}},{key:"_filterNode",value:function(k,K){var ue=this.filter?this.filter.filter(k.element,K):1;return typeof ue=="boolean"?(k.filterData=void 0,ue?1:0):Xe(ue)?(k.filterData=ue.data,Et(ue.visibility)):(k.filterData=void 0,Et(ue))}},{key:"hasTreeNode",value:function(k){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.root;if(!k||k.length===0)return!0;var ue=Object(J.a)(k),xe=ue[0],Ve=ue.slice(1);return xe<0||xe>K.children.length?!1:this.hasTreeNode(Ve,K.children[xe])}},{key:"getTreeNode",value:function(k){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.root;if(!k||k.length===0)return K;var ue=Object(J.a)(k),xe=ue[0],Ve=ue.slice(1);if(xe<0||xe>K.children.length)throw new De(this.user,"Invalid tree location");return this.getTreeNode(Ve,K.children[xe])}},{key:"getTreeNodeWithListIndex",value:function(k){if(k.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var K=this.getParentNodeWithListIndex(k),ue=K.parentNode,xe=K.listIndex,Ve=K.revealed,ut=K.visible,_t=k[k.length-1];if(_t<0||_t>ue.children.length)throw new De(this.user,"Invalid tree location");var xt=ue.children[_t];return{node:xt,listIndex:xe,revealed:Ve,visible:ut&&xt.visible}}},{key:"getParentNodeWithListIndex",value:function(k){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.root,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,Ve=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ut=Object(J.a)(k),_t=ut[0],xt=ut.slice(1);if(_t<0||_t>K.children.length)throw new De(this.user,"Invalid tree location");for(var un=0;un<_t;un++)ue+=K.children[un].renderNodeCount;return xe=xe&&!K.collapsed,Ve=Ve&&K.visible,xt.length===0?{parentNode:K,listIndex:ue,revealed:xe,visible:Ve}:this.getParentNodeWithListIndex(xt,K.children[_t],ue+1,xe,Ve)}},{key:"getNode",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.getTreeNode(k)}},{key:"getNodeLocation",value:function(k){for(var K=[],ue=k;ue.parent;)K.push(ue.parent.children.indexOf(ue)),ue=ue.parent;return K.reverse()}},{key:"getParentNodeLocation",value:function(k){if(k.length!==0)return k.length===1?[]:Object(Z.D)(k)[0]}},{key:"getFirstElementChild",value:function(k){var K=this.getTreeNode(k);if(K.children.length!==0)return K.children[0].element}}]),ee}(),pt=a("8HAY"),Lt=a("Vhoy"),et=a("T5lh"),Vt=function(){function ee(){Object(_.a)(this,ee),this.map=new Map}return Object(Y.a)(ee,[{key:"add",value:function(k,K){var ue=this.map.get(k);ue||(ue=new Set,this.map.set(k,ue)),ue.add(K)}},{key:"delete",value:function(k,K){var ue=this.map.get(k);!ue||(ue.delete(K),ue.size===0&&this.map.delete(k))}},{key:"forEach",value:function(k,K){var ue=this.map.get(k);!ue||ue.forEach(K)}}]),ee}(),Re=a("fpMC"),Ce=a("Sdnv"),ye=a("746U"),Te=a("2V9f"),Qe=a("3/fG"),$e=function(ee,j,k,K){function ue(xe){return xe instanceof k?xe:new k(function(Ve){Ve(xe)})}return new(k||(k=Promise))(function(xe,Ve){function ut(un){try{xt(K.next(un))}catch(ln){Ve(ln)}}function _t(un){try{xt(K.throw(un))}catch(ln){Ve(ln)}}function xt(un){un.done?xe(un.value):ue(un.value).then(ut,_t)}xt((K=K.apply(ee,j||[])).next())})},ze=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K){var ue;return Object(_.a)(this,k),ue=j.call(this,K.elements.map(function(xe){return xe.element})),ue.data=K,ue}return Object(Y.a)(k)}(ae.a);function ot(ee){return ee instanceof ae.a?new ze(ee):ee}var He=function(){function ee(j,k){Object(_.a)(this,ee),this.modelProvider=j,this.dnd=k,this.autoExpandDisposable=B.a.None}return Object(Y.a)(ee,[{key:"getDragURI",value:function(k){return this.dnd.getDragURI(k.element)}},{key:"getDragLabel",value:function(k,K){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(k.map(function(ue){return ue.element}),K)}},{key:"onDragStart",value:function(k,K){var ue,xe;(xe=(ue=this.dnd).onDragStart)===null||xe===void 0||xe.call(ue,ot(k),K)}},{key:"onDragOver",value:function(k,K,ue,xe){var Ve=this,ut=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,_t=this.dnd.onDragOver(ot(k),K&&K.element,ue,xe),xt=this.autoExpandNode!==K;if(xt&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=K),typeof K=="undefined")return _t;if(xt&&typeof _t!="boolean"&&_t.autoExpand&&(this.autoExpandDisposable=Object(Oe.l)(function(){var Ar=Ve.modelProvider(),zr=Ar.getNodeLocation(K);Ar.isCollapsed(zr)&&Ar.setCollapsed(zr,!1),Ve.autoExpandNode=void 0},500)),typeof _t=="boolean"||!_t.accept||typeof _t.bubble=="undefined"||_t.feedback){if(!ut){var un=typeof _t=="boolean"?_t:_t.accept,ln=typeof _t=="boolean"?void 0:_t.effect;return{accept:un,effect:ln,feedback:[ue]}}return _t}if(_t.bubble===1){var nn=this.modelProvider(),bn=nn.getNodeLocation(K),An=nn.getParentNodeLocation(bn),It=nn.getNode(An),er=An&&nn.getListIndex(An);return this.onDragOver(k,It,er,xe,!1)}var Mi=this.modelProvider(),wr=Mi.getNodeLocation(K),hr=Mi.getListIndex(wr),xi=Mi.getListRenderCount(wr);return Object.assign(Object.assign({},_t),{feedback:Object(Z.z)(hr,hr+xi)})}},{key:"drop",value:function(k,K,ue,xe){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(ot(k),K&&K.element,ue,xe)}},{key:"onDragEnd",value:function(k){var K,ue;(ue=(K=this.dnd).onDragEnd)===null||ue===void 0||ue.call(K,k)}}]),ee}();function Ge(ee,j){return j&&Object.assign(Object.assign({},j),{identityProvider:j.identityProvider&&{getId:function(K){return j.identityProvider.getId(K.element)}},dnd:j.dnd&&new He(ee,j.dnd),multipleSelectionController:j.multipleSelectionController&&{isSelectionSingleChangeEvent:function(K){return j.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},K),{element:K.element}))},isSelectionRangeChangeEvent:function(K){return j.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},K),{element:K.element}))}},accessibilityProvider:j.accessibilityProvider&&Object.assign(Object.assign({},j.accessibilityProvider),{getSetSize:function(K){var ue=ee(),xe=ue.getNodeLocation(K),Ve=ue.getParentNodeLocation(xe),ut=ue.getNode(Ve);return ut.visibleChildrenCount},getPosInSet:function(K){return K.visibleChildIndex+1},isChecked:j.accessibilityProvider&&j.accessibilityProvider.isChecked?function(k){return j.accessibilityProvider.isChecked(k.element)}:void 0,getRole:j.accessibilityProvider&&j.accessibilityProvider.getRole?function(k){return j.accessibilityProvider.getRole(k.element)}:function(){return"treeitem"},getAriaLabel:function(K){return j.accessibilityProvider.getAriaLabel(K.element)},getWidgetAriaLabel:function(){return j.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:j.accessibilityProvider&&j.accessibilityProvider.getWidgetRole?function(){return j.accessibilityProvider.getWidgetRole()}:function(){return"tree"},getAriaLevel:j.accessibilityProvider&&j.accessibilityProvider.getAriaLevel?function(k){return j.accessibilityProvider.getAriaLevel(k.element)}:function(k){return k.depth},getActiveDescendantId:j.accessibilityProvider.getActiveDescendantId&&function(k){return j.accessibilityProvider.getActiveDescendantId(k.element)}}),keyboardNavigationLabelProvider:j.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},j.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(K){return j.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(K.element)}})})}var Je=function(){function ee(j){Object(_.a)(this,ee),this.delegate=j}return Object(Y.a)(ee,[{key:"getHeight",value:function(k){return this.delegate.getHeight(k.element)}},{key:"getTemplateId",value:function(k){return this.delegate.getTemplateId(k.element)}},{key:"hasDynamicHeight",value:function(k){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(k.element)}},{key:"setDynamicHeight",value:function(k,K){var ue,xe;(xe=(ue=this.delegate).setDynamicHeight)===null||xe===void 0||xe.call(ue,k.element,K)}}]),ee}(),ft;(function(ee){ee.None="none",ee.OnHover="onHover",ee.Always="always"})(ft||(ft={}));var qt=function(){function ee(j){var k=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Object(_.a)(this,ee),this._elements=K,this.disposables=new B.c,this.onDidChange=V.c.forEach(j,function(ue){return k._elements=ue},this.disposables)}return Object(Y.a)(ee,[{key:"elements",get:function(){return this._elements}},{key:"dispose",value:function(){this.disposables.dispose()}}]),ee}(),bt=function(){function ee(j,k,K,ue,xe){var Ve=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};Object(_.a)(this,ee);var ut;this.renderer=j,this.modelProvider=k,this.activeNodes=ue,this.renderedIndentGuides=xe,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=ee.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=B.a.None,this.disposables=new B.c,this.templateId=j.templateId,this.updateOptions(Ve),V.c.map(K,function(_t){return _t.node})(this.onDidChangeNodeTwistieState,this,this.disposables),(ut=j.onDidChangeTwistieState)===null||ut===void 0||ut.call(j,this.onDidChangeTwistieState,this,this.disposables)}return Object(Y.a)(ee,[{key:"updateOptions",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof k.indent!="undefined"){var K=Object(Ce.c)(k.indent,0,40);if(K!==this.indent){this.indent=K;var ue=Object(x.a)(this.renderedNodes),xe;try{for(ue.s();!(xe=ue.n()).done;){var Ve=xe.value,ut=Object(we.a)(Ve,2),_t=ut[0],xt=ut[1];this.renderTreeElement(_t,xt)}}catch(wr){ue.e(wr)}finally{ue.f()}}}if(typeof k.renderIndentGuides!="undefined"){var un=k.renderIndentGuides!==ft.None;if(un!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=un;var ln=Object(x.a)(this.renderedNodes),nn;try{for(ln.s();!(nn=ln.n()).done;){var bn=nn.value,An=Object(we.a)(bn,2),It=An[0],er=An[1];this._renderIndentGuides(It,er)}}catch(wr){ln.e(wr)}finally{ln.f()}if(this.indentGuidesDisposable.dispose(),un){var Mi=new B.c;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Mi),this.indentGuidesDisposable=Mi,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof k.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=k.hideTwistiesOfChildlessElements)}},{key:"renderTemplate",value:function(k){var K=Object(E.append)(k,Object(E.$)(".monaco-tl-row")),ue=Object(E.append)(K,Object(E.$)(".monaco-tl-indent")),xe=Object(E.append)(K,Object(E.$)(".monaco-tl-twistie")),Ve=Object(E.append)(K,Object(E.$)(".monaco-tl-contents")),ut=this.renderer.renderTemplate(Ve);return{container:k,indent:ue,twistie:xe,indentGuidesDisposable:B.a.None,templateData:ut}}},{key:"renderElement",value:function(k,K,ue,xe){this.renderedNodes.set(k,ue),this.renderedElements.set(k.element,k),this.renderTreeElement(k,ue),this.renderer.renderElement(k,K,ue.templateData,xe)}},{key:"disposeElement",value:function(k,K,ue,xe){var Ve,ut;ue.indentGuidesDisposable.dispose(),(ut=(Ve=this.renderer).disposeElement)===null||ut===void 0||ut.call(Ve,k,K,ue.templateData,xe),typeof xe=="number"&&(this.renderedNodes.delete(k),this.renderedElements.delete(k.element))}},{key:"disposeTemplate",value:function(k){this.renderer.disposeTemplate(k.templateData)}},{key:"onDidChangeTwistieState",value:function(k){var K=this.renderedElements.get(k);!K||this.onDidChangeNodeTwistieState(K)}},{key:"onDidChangeNodeTwistieState",value:function(k){var K=this.renderedNodes.get(k);!K||(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(k,K))}},{key:"renderTreeElement",value:function(k,K){var ue,xe=ee.DefaultIndent+(k.depth-1)*this.indent;K.twistie.style.paddingLeft="".concat(xe,"px"),K.indent.style.width="".concat(xe+this.indent-16,"px"),k.collapsible?K.container.setAttribute("aria-expanded",String(!k.collapsed)):K.container.removeAttribute("aria-expanded"),(ue=K.twistie.classList).remove.apply(ue,Object(C.a)(et.a.asClassNameArray(Lt.a.treeItemExpanded)));var Ve=!1;if(this.renderer.renderTwistie&&(Ve=this.renderer.renderTwistie(k.element,K.twistie)),k.collapsible&&(!this.hideTwistiesOfChildlessElements||k.visibleChildrenCount>0)){if(!Ve){var ut;(ut=K.twistie.classList).add.apply(ut,Object(C.a)(et.a.asClassNameArray(Lt.a.treeItemExpanded)))}K.twistie.classList.add("collapsible"),K.twistie.classList.toggle("collapsed",k.collapsed)}else K.twistie.classList.remove("collapsible","collapsed");this._renderIndentGuides(k,K)}},{key:"_renderIndentGuides",value:function(k,K){var ue=this;if(Object(E.clearNode)(K.indent),K.indentGuidesDisposable.dispose(),!!this.shouldRenderIndentGuides){for(var xe=new B.c,Ve=this.modelProvider(),ut=function(){var un=Ve.getNodeLocation(k),ln=Ve.getParentNodeLocation(un);if(!ln)return"break";var nn=Ve.getNode(ln),bn=Object(E.$)(".indent-guide",{style:"width: ".concat(ue.indent,"px")});ue.activeIndentNodes.has(nn)&&bn.classList.add("active"),K.indent.childElementCount===0?K.indent.appendChild(bn):K.indent.insertBefore(bn,K.indent.firstElementChild),ue.renderedIndentGuides.add(nn,bn),xe.add(Object(B.l)(function(){return ue.renderedIndentGuides.delete(nn,bn)})),k=nn};;){var _t=ut();if(_t==="break")break}K.indentGuidesDisposable=xe}}},{key:"_onDidChangeActiveNodes",value:function(k){var K=this;if(!!this.shouldRenderIndentGuides){var ue=new Set,xe=this.modelProvider();k.forEach(function(Ve){var ut=xe.getNodeLocation(Ve);try{var _t=xe.getParentNodeLocation(ut);Ve.collapsible&&Ve.children.length>0&&!Ve.collapsed?ue.add(Ve):_t&&ue.add(xe.getNode(_t))}catch(xt){}}),this.activeIndentNodes.forEach(function(Ve){ue.has(Ve)||K.renderedIndentGuides.forEach(Ve,function(ut){return ut.classList.remove("active")})}),ue.forEach(function(Ve){K.activeIndentNodes.has(Ve)||K.renderedIndentGuides.forEach(Ve,function(ut){return ut.classList.add("active")})}),this.activeIndentNodes=ue}}},{key:"dispose",value:function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Object(B.i)(this.disposables)}}]),ee}();bt.DefaultIndent=8;var Bt=function(){function ee(j,k,K){Object(_.a)(this,ee),this.tree=j,this.keyboardNavigationLabelProvider=k,this._filter=K,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new B.c,j.onWillRefilter(this.reset,this,this.disposables)}return Object(Y.a)(ee,[{key:"totalCount",get:function(){return this._totalCount}},{key:"matchCount",get:function(){return this._matchCount}},{key:"filter",value:function(k,K){var ue=1;if(this._filter){var xe=this._filter.filter(k,K);if(typeof xe=="boolean"?ue=xe?1:0:Xe(xe)?ue=Et(xe.visibility):ue=xe,ue===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Re.a.Default,visibility:ue};var Ve=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(k),ut=Array.isArray(Ve)?Ve:[Ve],_t=Object(x.a)(ut),xt;try{for(_t.s();!(xt=_t.n()).done;){var un=xt.value,ln=un&&un.toString();if(typeof ln=="undefined")return{data:Re.a.Default,visibility:ue};var nn=void 0;if(this.tree.findMatchType===jn.Contiguous){var bn=ln.toLowerCase().indexOf(this._lowercasePattern);if(bn>-1){nn=[Number.MAX_SAFE_INTEGER,0];for(var An=this._lowercasePattern.length;An>0;An--)nn.push(bn+An-1)}}else nn=Object(Re.e)(this._pattern,this._lowercasePattern,0,ln,ln.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(nn)return this._matchCount++,ut.length===1?{data:nn,visibility:ue}:{data:{label:ln,score:nn},visibility:ue}}}catch(It){_t.e(It)}finally{_t.f()}return this.tree.findMode===Dt.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(k):2:{data:Re.a.Default,visibility:ue}}},{key:"reset",value:function(){this._totalCount=0,this._matchCount=0}},{key:"dispose",value:function(){Object(B.i)(this.disposables)}}]),ee}(),rn=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K){Object(_.a)(this,k);var ue;return j.call(this,{icon:Lt.a.listFilter,title:Object(Qe.b)("filter","Filter"),isChecked:(ue=K.isChecked)!==null&&ue!==void 0?ue:!1,inputActiveOptionBorder:K.inputActiveOptionBorder,inputActiveOptionForeground:K.inputActiveOptionForeground,inputActiveOptionBackground:K.inputActiveOptionBackground})}return Object(Y.a)(k)}(Q.a),an=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K){Object(_.a)(this,k);var ue;return j.call(this,{icon:Lt.a.searchFuzzy,title:Object(Qe.b)("fuzzySearch","Fuzzy Match"),isChecked:(ue=K.isChecked)!==null&&ue!==void 0?ue:!1,inputActiveOptionBorder:K.inputActiveOptionBorder,inputActiveOptionForeground:K.inputActiveOptionForeground,inputActiveOptionBackground:K.inputActiveOptionBackground})}return Object(Y.a)(k)}(Q.a),In={inputBoxStyles:re.b,toggleStyles:Q.b,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0},Dt;(function(ee){ee[ee.Highlight=0]="Highlight",ee[ee.Filter=1]="Filter"})(Dt||(Dt={}));var jn;(function(ee){ee[ee.Fuzzy=0]="Fuzzy",ee[ee.Contiguous=1]="Contiguous"})(jn||(jn={}));var _n=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve,ut,_t){var xt;Object(_.a)(this,k);var un;xt=j.call(this),xt.tree=ue,xt.elements=Object(E.h)(".monaco-tree-type-filter",[Object(E.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),Object(E.h)(".monaco-tree-type-filter-input@findInput"),Object(E.h)(".monaco-tree-type-filter-actionbar@actionbar")]),xt.width=0,xt.right=0,xt.top=0,xt._onDidDisable=new V.b,K.appendChild(xt.elements.root),xt._register(Object(B.l)(function(){return K.removeChild(xt.elements.root)}));var ln=(un=_t==null?void 0:_t.styles)!==null&&un!==void 0?un:In;ln.listFilterWidgetBackground&&(xt.elements.root.style.backgroundColor=ln.listFilterWidgetBackground),ln.listFilterWidgetShadow&&(xt.elements.root.style.boxShadow="0 0 8px 2px ".concat(ln.listFilterWidgetShadow)),xt.modeToggle=xt._register(new rn(Object.assign(Object.assign({},ln.toggleStyles),{isChecked:Ve===Dt.Filter}))),xt.matchTypeToggle=xt._register(new an(Object.assign(Object.assign({},ln.toggleStyles),{isChecked:ut===jn.Fuzzy}))),xt.onDidChangeMode=V.c.map(xt.modeToggle.onChange,function(){return xt.modeToggle.checked?Dt.Filter:Dt.Highlight},xt._store),xt.onDidChangeMatchType=V.c.map(xt.matchTypeToggle.onChange,function(){return xt.matchTypeToggle.checked?jn.Fuzzy:jn.Contiguous},xt._store),xt.findInput=xt._register(new G.a(xt.elements.findInput,xe,{label:Object(Qe.b)("type to search","Type to search"),additionalToggles:[xt.modeToggle,xt.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:ln.inputBoxStyles,toggleStyles:ln.toggleStyles,history:_t==null?void 0:_t.history})),xt.actionbar=xt._register(new P.a(xt.elements.actionbar)),xt.mode=Ve;var nn=xt._register(new ke.a(xt.findInput.inputBox.inputElement,"keydown")),bn=xt._register(V.c.chain(nn.event)).map(function(Mi){return new A.a(Mi)}).event;xt._register(bn(function(Mi){if(Mi.equals(3)){Mi.preventDefault(),Mi.stopPropagation(),xt.findInput.inputBox.addToHistory(),xt.tree.domFocus();return}if(Mi.equals(18)){Mi.preventDefault(),Mi.stopPropagation(),xt.findInput.inputBox.isAtLastInHistory()||xt.findInput.inputBox.isNowhereInHistory()?(xt.findInput.inputBox.addToHistory(),xt.tree.domFocus()):xt.findInput.inputBox.showNextValue();return}if(Mi.equals(16)){Mi.preventDefault(),Mi.stopPropagation(),xt.findInput.inputBox.showPreviousValue();return}}));var An=xt._register(new pt.a("close",Object(Qe.b)("close","Close"),"codicon codicon-close",!0,function(){return xt.dispose()}));xt.actionbar.push(An,{icon:!0,label:!1});var It=xt._register(new ke.a(xt.elements.grab,"mousedown"));xt._register(It.event(function(Mi){var wr=new B.c,hr=wr.add(new ke.a(window,"mousemove")),xi=wr.add(new ke.a(window,"mouseup")),Ar=xt.right,zr=Mi.pageX,Tr=xt.top,ba=Mi.pageY;xt.elements.grab.classList.add("grabbing");var Sa=xt.elements.root.style.transition;xt.elements.root.style.transition="unset";var Va=function(Ba){var bo=Ba.pageX-zr;xt.right=Ar-bo;var yo=Ba.pageY-ba;xt.top=Tr+yo,xt.layout()};wr.add(hr.event(Va)),wr.add(xi.event(function(Ja){Va(Ja),xt.elements.grab.classList.remove("grabbing"),xt.elements.root.style.transition=Sa,wr.dispose()}))}));var er=xt._register(V.c.chain(xt._register(new ke.a(xt.elements.grab,"keydown")).event)).map(function(Mi){return new A.a(Mi)}).event;return xt._register(er(function(Mi){var wr,hr;if(Mi.keyCode===15?wr=Number.POSITIVE_INFINITY:Mi.keyCode===17?wr=0:Mi.keyCode===10&&(wr=xt.right===0?Number.POSITIVE_INFINITY:0),Mi.keyCode===16?hr=0:Mi.keyCode===18&&(hr=Number.POSITIVE_INFINITY),wr!==void 0&&(Mi.preventDefault(),Mi.stopPropagation(),xt.right=wr,xt.layout()),hr!==void 0){Mi.preventDefault(),Mi.stopPropagation(),xt.top=hr;var xi=xt.elements.root.style.transition;xt.elements.root.style.transition="unset",xt.layout(),setTimeout(function(){xt.elements.root.style.transition=xi},0)}})),xt.onDidChangeValue=xt.findInput.onDidChange,xt}return Object(Y.a)(k,[{key:"mode",set:function(ue){this.modeToggle.checked=ue===Dt.Filter,this.findInput.inputBox.setPlaceHolder(ue===Dt.Filter?Object(Qe.b)("type to filter","Type to filter"):Object(Qe.b)("type to search","Type to search"))}},{key:"matchType",set:function(ue){this.matchTypeToggle.checked=ue===jn.Fuzzy}},{key:"layout",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.width;this.width=ue,this.right=Object(Ce.c)(this.right,0,Math.max(0,ue-212)),this.elements.root.style.right="".concat(this.right,"px"),this.top=Object(Ce.c)(this.top,0,24),this.elements.root.style.top="".concat(this.top,"px")}},{key:"showMessage",value:function(ue){this.findInput.showMessage(ue)}},{key:"clearMessage",value:function(){this.findInput.clearMessage()}},{key:"dispose",value:function(){var ue=this,xe=Object.create(null,{dispose:{get:function(){return Object(ve.a)(Object(se.a)(k.prototype),"dispose",ue)}}});return $e(this,void 0,void 0,Object(fe.a)().mark(function Ve(){return Object(fe.a)().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),_t.next=4,Object(Oe.q)(300);case 4:xe.dispose.call(this);case 5:case"end":return _t.stop()}},Ve,this)}))}}]),k}(B.a),Nn=function(){function ee(j,k,K,ue,xe){var Ve=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};Object(_.a)(this,ee);var ut,_t;this.tree=j,this.view=K,this.filter=ue,this.contextViewProvider=xe,this.options=Ve,this._pattern="",this.width=0,this._onDidChangeMode=new V.b,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new V.b,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new V.b,this._onDidChangeOpenState=new V.b,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new B.c,this.disposables=new B.c,this._mode=(ut=j.options.defaultFindMode)!==null&&ut!==void 0?ut:Dt.Highlight,this._matchType=(_t=j.options.defaultFindMatchType)!==null&&_t!==void 0?_t:jn.Fuzzy,k.onDidSplice(this.onDidSpliceModel,this,this.disposables)}return Object(Y.a)(ee,[{key:"pattern",get:function(){return this._pattern}},{key:"mode",get:function(){return this._mode},set:function(k){k!==this._mode&&(this._mode=k,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(k))}},{key:"matchType",get:function(){return this._matchType},set:function(k){k!==this._matchType&&(this._matchType=k,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(k))}},{key:"updateOptions",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};k.defaultFindMode!==void 0&&(this.mode=k.defaultFindMode),k.defaultFindMatchType!==void 0&&(this.matchType=k.defaultFindMatchType)}},{key:"onDidSpliceModel",value:function(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}},{key:"render",value:function(){var k,K,ue,xe,Ve=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&Ve?((k=this.tree.options.showNotFoundMessage)!==null&&k!==void 0?k:!0)?(K=this.widget)===null||K===void 0||K.showMessage({type:2,content:Object(Qe.b)("not found","No elements found.")}):(ue=this.widget)===null||ue===void 0||ue.showMessage({type:2}):(xe=this.widget)===null||xe===void 0||xe.clearMessage()}},{key:"shouldAllowFocus",value:function(k){return!this.widget||!this.pattern||this._mode===Dt.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Re.a.isDefault(k.filterData)}},{key:"layout",value:function(k){var K;this.width=k,(K=this.widget)===null||K===void 0||K.layout(k)}},{key:"dispose",value:function(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}]),ee}();function ei(ee){var j=L.Unknown;return Object(E.hasParentWithClass)(ee.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?j=L.Twistie:Object(E.hasParentWithClass)(ee.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?j=L.Element:Object(E.hasParentWithClass)(ee.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(j=L.Filter),{browserEvent:ee.browserEvent,element:ee.element?ee.element.element:null,target:j}}function kn(ee,j){j(ee),ee.children.forEach(function(k){return kn(k,j)})}var Pn=function(){function ee(j,k){Object(_.a)(this,ee),this.getFirstViewElementWithTrait=j,this.identityProvider=k,this.nodes=[],this._onDidChange=new V.b,this.onDidChange=this._onDidChange.event}return Object(Y.a)(ee,[{key:"nodeSet",get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}},{key:"set",value:function(k,K){!(K==null?void 0:K.__forceEvent)&&Object(Z.j)(this.nodes,k)||this._set(k,!1,K)}},{key:"_set",value:function(k,K,ue){if(this.nodes=Object(C.a)(k),this.elements=void 0,this._nodeSet=void 0,!K){var xe=this;this._onDidChange.fire({get elements(){return xe.get()},browserEvent:ue})}}},{key:"get",value:function(){return this.elements||(this.elements=this.nodes.map(function(k){return k.element})),Object(C.a)(this.elements)}},{key:"getNodes",value:function(){return this.nodes}},{key:"has",value:function(k){return this.nodeSet.has(k)}},{key:"onDidModelSplice",value:function(k){var K=this,ue=k.insertedNodes,xe=k.deletedNodes;if(!this.identityProvider){var Ve=this.createNodeSet(),ut=function(Ar){return Ve.delete(Ar)};xe.forEach(function(xi){return kn(xi,ut)}),this.set(Object(C.a)(Ve.values()));return}var _t=new Set,xt=function(Ar){return _t.add(K.identityProvider.getId(Ar.element).toString())};xe.forEach(function(xi){return kn(xi,xt)});var un=new Map,ln=function(Ar){return un.set(K.identityProvider.getId(Ar.element).toString(),Ar)};ue.forEach(function(xi){return kn(xi,ln)});var nn=[],bn=Object(x.a)(this.nodes),An;try{for(bn.s();!(An=bn.n()).done;){var It=An.value,er=this.identityProvider.getId(It.element).toString(),Mi=_t.has(er);if(!Mi)nn.push(It);else{var wr=un.get(er);wr&&wr.visible&&nn.push(wr)}}}catch(xi){bn.e(xi)}finally{bn.f()}if(this.nodes.length>0&&nn.length===0){var hr=this.getFirstViewElementWithTrait();hr&&nn.push(hr)}this._set(nn,!0)}},{key:"createNodeSet",value:function(){var k=new Set,K=Object(x.a)(this.nodes),ue;try{for(K.s();!(ue=K.n()).done;){var xe=ue.value;k.add(xe)}}catch(Ve){K.e(Ve)}finally{K.f()}return k}}]),ee}(),qi=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue){var xe;return Object(_.a)(this,k),xe=j.call(this,K),xe.tree=ue,xe}return Object(Y.a)(k,[{key:"onViewPointer",value:function(ue){if(!(Object(W.e)(ue.browserEvent.target)||Object(W.f)(ue.browserEvent.target)||Object(W.g)(ue.browserEvent.target))&&!ue.browserEvent.isHandledByList){var xe=ue.element;if(!xe)return Object(ve.a)(Object(se.a)(k.prototype),"onViewPointer",this).call(this,ue);if(this.isSelectionRangeChangeEvent(ue)||this.isSelectionSingleChangeEvent(ue))return Object(ve.a)(Object(se.a)(k.prototype),"onViewPointer",this).call(this,ue);var Ve=ue.browserEvent.target,ut=Ve.classList.contains("monaco-tl-twistie")||Ve.classList.contains("monaco-icon-label")&&Ve.classList.contains("folder-icon")&&ue.browserEvent.offsetX<16,_t=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?_t=this.tree.expandOnlyOnTwistieClick(xe.element):_t=!!this.tree.expandOnlyOnTwistieClick,_t&&!ut&&ue.browserEvent.detail!==2)return Object(ve.a)(Object(se.a)(k.prototype),"onViewPointer",this).call(this,ue);if(!this.tree.expandOnDoubleClick&&ue.browserEvent.detail===2)return Object(ve.a)(Object(se.a)(k.prototype),"onViewPointer",this).call(this,ue);if(xe.collapsible){var xt=this.tree.getNodeLocation(xe),un=ue.browserEvent.altKey;if(this.tree.setFocus([xt]),this.tree.toggleCollapsed(xt,un),_t&&ut){ue.browserEvent.isHandledByList=!0;return}}Object(ve.a)(Object(se.a)(k.prototype),"onViewPointer",this).call(this,ue)}}},{key:"onDoubleClick",value:function(ue){var xe=ue.browserEvent.target.classList.contains("monaco-tl-twistie");xe||!this.tree.expandOnDoubleClick||ue.browserEvent.isHandledByList||Object(ve.a)(Object(se.a)(k.prototype),"onDoubleClick",this).call(this,ue)}}]),k}(W.c),gi=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve,ut,_t,xt,un){var ln;return Object(_.a)(this,k),ln=j.call(this,K,ue,xe,Ve,un),ln.focusTrait=ut,ln.selectionTrait=_t,ln.anchorTrait=xt,ln}return Object(Y.a)(k,[{key:"createMouseController",value:function(ue){return new qi(this,ue.tree)}},{key:"splice",value:function(ue,xe){var Ve=this,ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(Object(ve.a)(Object(se.a)(k.prototype),"splice",this).call(this,ue,xe,ut),ut.length!==0){var _t=[],xt=[],un;ut.forEach(function(ln,nn){Ve.focusTrait.has(ln)&&_t.push(ue+nn),Ve.selectionTrait.has(ln)&&xt.push(ue+nn),Ve.anchorTrait.has(ln)&&(un=ue+nn)}),_t.length>0&&Object(ve.a)(Object(se.a)(k.prototype),"setFocus",this).call(this,Object(Z.i)([].concat(Object(C.a)(Object(ve.a)(Object(se.a)(k.prototype),"getFocus",this).call(this)),_t))),xt.length>0&&Object(ve.a)(Object(se.a)(k.prototype),"setSelection",this).call(this,Object(Z.i)([].concat(Object(C.a)(Object(ve.a)(Object(se.a)(k.prototype),"getSelection",this).call(this)),xt))),typeof un=="number"&&Object(ve.a)(Object(se.a)(k.prototype),"setAnchor",this).call(this,un)}}},{key:"setFocus",value:function(ue,xe){var Ve=this,ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object(ve.a)(Object(se.a)(k.prototype),"setFocus",this).call(this,ue,xe),ut||this.focusTrait.set(ue.map(function(_t){return Ve.element(_t)}),xe)}},{key:"setSelection",value:function(ue,xe){var Ve=this,ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object(ve.a)(Object(se.a)(k.prototype),"setSelection",this).call(this,ue,xe),ut||this.selectionTrait.set(ue.map(function(_t){return Ve.element(_t)}),xe)}},{key:"setAnchor",value:function(ue){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Object(ve.a)(Object(se.a)(k.prototype),"setAnchor",this).call(this,ue),xe||(typeof ue=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(ue)]))}}]),k}(W.b),ir=function(){function ee(j,k,K,ue){var xe=this,Ve=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Object(_.a)(this,ee);var ut;this._user=j,this._options=Ve,this.eventBufferer=new V.d,this.onDidChangeFindOpenState=V.c.None,this.disposables=new B.c,this._onWillRefilter=new V.b,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new V.b;var _t=new Je(K),xt=new V.i,un=new V.i,ln=this.disposables.add(new qt(un.event)),nn=new Vt;this.renderers=ue.map(function(xi){return new bt(xi,function(){return xe.model},xt.event,ln,nn,Ve)});var bn=Object(x.a)(this.renderers),An;try{for(bn.s();!(An=bn.n()).done;){var It=An.value;this.disposables.add(It)}}catch(xi){bn.e(xi)}finally{bn.f()}var er;Ve.keyboardNavigationLabelProvider&&(er=new Bt(this,Ve.keyboardNavigationLabelProvider,Ve.filter),Ve=Object.assign(Object.assign({},Ve),{filter:er}),this.disposables.add(er)),this.focus=new Pn(function(){return xe.view.getFocusedElements()[0]},Ve.identityProvider),this.selection=new Pn(function(){return xe.view.getSelectedElements()[0]},Ve.identityProvider),this.anchor=new Pn(function(){return xe.view.getAnchorElement()},Ve.identityProvider),this.view=new gi(j,k,_t,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},Ge(function(){return xe.model},Ve)),{tree:this})),this.model=this.createModel(j,this.view,Ve),xt.input=this.model.onDidChangeCollapseState;var Mi=V.c.forEach(this.model.onDidSplice,function(xi){xe.eventBufferer.bufferEvents(function(){xe.focus.onDidModelSplice(xi),xe.selection.onDidModelSplice(xi)})},this.disposables);if(Mi(function(){return null},null,this.disposables),un.input=V.c.chain(V.c.any(Mi,this.focus.onDidChange,this.selection.onDidChange)).debounce(function(){return null},0).map(function(){var xi=new Set,Ar=Object(x.a)(xe.focus.getNodes()),zr;try{for(Ar.s();!(zr=Ar.n()).done;){var Tr=zr.value;xi.add(Tr)}}catch(Ja){Ar.e(Ja)}finally{Ar.f()}var ba=Object(x.a)(xe.selection.getNodes()),Sa;try{for(ba.s();!(Sa=ba.n()).done;){var Va=Sa.value;xi.add(Va)}}catch(Ja){ba.e(Ja)}finally{ba.f()}return Object(C.a)(xi.values())}).event,Ve.keyboardSupport!==!1){var wr=V.c.chain(this.view.onKeyDown).filter(function(xi){return!Object(W.f)(xi.target)}).map(function(xi){return new A.a(xi)});wr.filter(function(xi){return xi.keyCode===15}).on(this.onLeftArrow,this,this.disposables),wr.filter(function(xi){return xi.keyCode===17}).on(this.onRightArrow,this,this.disposables),wr.filter(function(xi){return xi.keyCode===10}).on(this.onSpace,this,this.disposables)}if(((ut=Ve.findWidgetEnabled)!==null&&ut!==void 0?ut:!0)&&Ve.keyboardNavigationLabelProvider&&Ve.contextViewProvider){var hr=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new Nn(this,this.model,this.view,er,Ve.contextViewProvider,hr),this.focusNavigationFilter=function(xi){return xe.findController.shouldAllowFocus(xi)},this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=V.c.None,this.onDidChangeFindMatchType=V.c.None;this.styleElement=Object(E.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===ft.Always)}return Object(Y.a)(ee,[{key:"onDidChangeFocus",get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}},{key:"onDidChangeSelection",get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}},{key:"onMouseDblClick",get:function(){return V.c.filter(V.c.map(this.view.onMouseDblClick,ei),function(k){return k.target!==L.Filter})}},{key:"onPointer",get:function(){return V.c.map(this.view.onPointer,ei)}},{key:"onDidFocus",get:function(){return this.view.onDidFocus}},{key:"onDidChangeModel",get:function(){return V.c.signal(this.model.onDidSplice)}},{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"findMode",get:function(){var k,K;return(K=(k=this.findController)===null||k===void 0?void 0:k.mode)!==null&&K!==void 0?K:Dt.Highlight},set:function(k){this.findController&&(this.findController.mode=k)}},{key:"findMatchType",get:function(){var k,K;return(K=(k=this.findController)===null||k===void 0?void 0:k.matchType)!==null&&K!==void 0?K:jn.Fuzzy},set:function(k){this.findController&&(this.findController.matchType=k)}},{key:"expandOnDoubleClick",get:function(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}},{key:"expandOnlyOnTwistieClick",get:function(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}},{key:"onDidDispose",get:function(){return this.view.onDidDispose}},{key:"updateOptions",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K;this._options=Object.assign(Object.assign({},this._options),k);var ue=Object(x.a)(this.renderers),xe;try{for(ue.s();!(xe=ue.n()).done;){var Ve=xe.value;Ve.updateOptions(k)}}catch(ut){ue.e(ut)}finally{ue.f()}this.view.updateOptions(this._options),(K=this.findController)===null||K===void 0||K.updateOptions(k),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===ft.Always)}},{key:"options",get:function(){return this._options}},{key:"getHTMLElement",value:function(){return this.view.getHTMLElement()}},{key:"scrollTop",get:function(){return this.view.scrollTop},set:function(k){this.view.scrollTop=k}},{key:"domFocus",value:function(){this.view.domFocus()}},{key:"layout",value:function(k,K){var ue;this.view.layout(k,K),Object(ye.g)(K)&&((ue=this.findController)===null||ue===void 0||ue.layout(K))}},{key:"style",value:function(k){var K=".".concat(this.view.domId),ue=[];k.treeIndentGuidesStroke&&(ue.push(".monaco-list".concat(K,":hover .monaco-tl-indent > .indent-guide, .monaco-list").concat(K,".always .monaco-tl-indent > .indent-guide  { border-color: ").concat(k.treeInactiveIndentGuidesStroke,"; }")),ue.push(".monaco-list".concat(K," .monaco-tl-indent > .indent-guide.active { border-color: ").concat(k.treeIndentGuidesStroke,"; }"))),this.styleElement.textContent=ue.join(`
`),this.view.style(k)}},{key:"getParentElement",value:function(k){var K=this.model.getParentNodeLocation(k),ue=this.model.getNode(K);return ue.element}},{key:"getFirstElementChild",value:function(k){return this.model.getFirstElementChild(k)}},{key:"getNode",value:function(k){return this.model.getNode(k)}},{key:"getNodeLocation",value:function(k){return this.model.getNodeLocation(k)}},{key:"collapse",value:function(k){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.model.setCollapsed(k,!0,K)}},{key:"expand",value:function(k){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.model.setCollapsed(k,!1,K)}},{key:"toggleCollapsed",value:function(k){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.model.setCollapsed(k,void 0,K)}},{key:"isCollapsible",value:function(k){return this.model.isCollapsible(k)}},{key:"setCollapsible",value:function(k,K){return this.model.setCollapsible(k,K)}},{key:"isCollapsed",value:function(k){return this.model.isCollapsed(k)}},{key:"refilter",value:function(){this._onWillRefilter.fire(void 0),this.model.refilter()}},{key:"setSelection",value:function(k,K){var ue=this,xe=k.map(function(ut){return ue.model.getNode(ut)});this.selection.set(xe,K);var Ve=k.map(function(ut){return ue.model.getListIndex(ut)}).filter(function(ut){return ut>-1});this.view.setSelection(Ve,K,!0)}},{key:"getSelection",value:function(){return this.selection.get()}},{key:"setFocus",value:function(k,K){var ue=this,xe=k.map(function(ut){return ue.model.getNode(ut)});this.focus.set(xe,K);var Ve=k.map(function(ut){return ue.model.getListIndex(ut)}).filter(function(ut){return ut>-1});this.view.setFocus(Ve,K,!0)}},{key:"getFocus",value:function(){return this.focus.get()}},{key:"reveal",value:function(k,K){this.model.expandTo(k);var ue=this.model.getListIndex(k);ue!==-1&&this.view.reveal(ue,K)}},{key:"onLeftArrow",value:function(k){k.preventDefault(),k.stopPropagation();var K=this.view.getFocusedElements();if(K.length!==0){var ue=K[0],xe=this.model.getNodeLocation(ue),Ve=this.model.setCollapsed(xe,!0);if(!Ve){var ut=this.model.getParentNodeLocation(xe);if(!ut)return;var _t=this.model.getListIndex(ut);this.view.reveal(_t),this.view.setFocus([_t])}}}},{key:"onRightArrow",value:function(k){k.preventDefault(),k.stopPropagation();var K=this.view.getFocusedElements();if(K.length!==0){var ue=K[0],xe=this.model.getNodeLocation(ue),Ve=this.model.setCollapsed(xe,!1);if(!Ve){if(!ue.children.some(function(ln){return ln.visible}))return;var ut=this.view.getFocus(),_t=Object(we.a)(ut,1),xt=_t[0],un=xt+1;this.view.reveal(un),this.view.setFocus([un])}}}},{key:"onSpace",value:function(k){k.preventDefault(),k.stopPropagation();var K=this.view.getFocusedElements();if(K.length!==0){var ue=K[0],xe=this.model.getNodeLocation(ue),Ve=k.browserEvent.altKey;this.model.setCollapsed(xe,void 0,Ve)}}},{key:"dispose",value:function(){Object(B.i)(this.disposables),this.view.dispose()}}]),ee}(),yi=function(){function ee(j,k){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object(_.a)(this,ee),this.user=j,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Ot(j,k,null,K),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,K.sorter&&(this.sorter={compare:function(xe,Ve){return K.sorter.compare(xe.element,Ve.element)}}),this.identityProvider=K.identityProvider}return Object(Y.a)(ee,[{key:"setChildren",value:function(k){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe.a.empty(),ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=this.getElementLocation(k);this._setChildren(xe,this.preserveCollapseState(K),ue)}},{key:"_setChildren",value:function(k){var K=this,ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe.a.empty(),xe=arguments.length>2?arguments[2]:void 0,Ve=new Set,ut=new Set,_t=function(ln){var nn;if(ln.element!==null){var bn=ln;if(Ve.add(bn.element),K.nodes.set(bn.element,bn),K.identityProvider){var An=K.identityProvider.getId(bn.element).toString();ut.add(An),K.nodesByIdentity.set(An,bn)}(nn=xe.onDidCreateNode)===null||nn===void 0||nn.call(xe,bn)}},xt=function(ln){var nn;if(ln.element!==null){var bn=ln;if(Ve.has(bn.element)||K.nodes.delete(bn.element),K.identityProvider){var An=K.identityProvider.getId(bn.element).toString();ut.has(An)||K.nodesByIdentity.delete(An)}(nn=xe.onDidDeleteNode)===null||nn===void 0||nn.call(xe,bn)}};this.model.splice([].concat(Object(C.a)(k),[0]),Number.MAX_VALUE,ue,Object.assign(Object.assign({},xe),{onDidCreateNode:_t,onDidDeleteNode:xt}))}},{key:"preserveCollapseState",value:function(){var k=this,K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fe.a.empty();return this.sorter&&(K=Object(C.a)(K).sort(this.sorter.compare.bind(this.sorter))),Fe.a.map(K,function(ue){var xe=k.nodes.get(ue.element);if(!xe&&k.identityProvider){var Ve=k.identityProvider.getId(ue.element).toString();xe=k.nodesByIdentity.get(Ve)}if(!xe){var ut;return typeof ue.collapsed=="undefined"?ut=void 0:ue.collapsed===ge.Collapsed||ue.collapsed===ge.PreserveOrCollapsed?ut=!0:ue.collapsed===ge.Expanded||ue.collapsed===ge.PreserveOrExpanded?ut=!1:ut=Boolean(ue.collapsed),Object.assign(Object.assign({},ue),{children:k.preserveCollapseState(ue.children),collapsed:ut})}var _t=typeof ue.collapsible=="boolean"?ue.collapsible:xe.collapsible,xt;return typeof ue.collapsed=="undefined"||ue.collapsed===ge.PreserveOrCollapsed||ue.collapsed===ge.PreserveOrExpanded?xt=xe.collapsed:ue.collapsed===ge.Collapsed?xt=!0:ue.collapsed===ge.Expanded?xt=!1:xt=Boolean(ue.collapsed),Object.assign(Object.assign({},ue),{collapsible:_t,collapsed:xt,children:k.preserveCollapseState(ue.children)})})}},{key:"rerender",value:function(k){var K=this.getElementLocation(k);this.model.rerender(K)}},{key:"getFirstElementChild",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,K=this.getElementLocation(k);return this.model.getFirstElementChild(K)}},{key:"has",value:function(k){return this.nodes.has(k)}},{key:"getListIndex",value:function(k){var K=this.getElementLocation(k);return this.model.getListIndex(K)}},{key:"getListRenderCount",value:function(k){var K=this.getElementLocation(k);return this.model.getListRenderCount(K)}},{key:"isCollapsible",value:function(k){var K=this.getElementLocation(k);return this.model.isCollapsible(K)}},{key:"setCollapsible",value:function(k,K){var ue=this.getElementLocation(k);return this.model.setCollapsible(ue,K)}},{key:"isCollapsed",value:function(k){var K=this.getElementLocation(k);return this.model.isCollapsed(K)}},{key:"setCollapsed",value:function(k,K,ue){var xe=this.getElementLocation(k);return this.model.setCollapsed(xe,K,ue)}},{key:"expandTo",value:function(k){var K=this.getElementLocation(k);this.model.expandTo(K)}},{key:"refilter",value:function(){this.model.refilter()}},{key:"getNode",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(k===null)return this.model.getNode(this.model.rootRef);var K=this.nodes.get(k);if(!K)throw new De(this.user,"Tree element not found: ".concat(k));return K}},{key:"getNodeLocation",value:function(k){return k.element}},{key:"getParentNodeLocation",value:function(k){if(k===null)throw new De(this.user,"Invalid getParentNodeLocation call");var K=this.nodes.get(k);if(!K)throw new De(this.user,"Tree element not found: ".concat(k));var ue=this.model.getNodeLocation(K),xe=this.model.getParentNodeLocation(ue),Ve=this.model.getNode(xe);return Ve.element}},{key:"getElementLocation",value:function(k){if(k===null)return[];var K=this.nodes.get(k);if(!K)throw new De(this.user,"Tree element not found: ".concat(k));return this.model.getNodeLocation(K)}}]),ee}();function mi(ee){var j=[ee.element],k=ee.incompressible||!1;return{element:{elements:j,incompressible:k},children:Fe.a.map(Fe.a.from(ee.children),mi),collapsible:ee.collapsible,collapsed:ee.collapsed}}function gr(ee){for(var j=[ee.element],k=ee.incompressible||!1,K,ue;;){var xe=Fe.a.consume(Fe.a.from(ee.children),2),Ve=Object(we.a)(xe,2);if(ue=Ve[0],K=Ve[1],ue.length!==1||ue[0].incompressible)break;ee=ue[0],j.push(ee.element)}return{element:{elements:j,incompressible:k},children:Fe.a.map(Fe.a.concat(ue,K),gr),collapsible:ee.collapsible,collapsed:ee.collapsed}}function zn(ee){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k;return j<ee.element.elements.length-1?k=[zn(ee,j+1)]:k=Fe.a.map(Fe.a.from(ee.children),function(K){return zn(K,0)}),j===0&&ee.element.incompressible?{element:ee.element.elements[j],children:k,incompressible:!0,collapsible:ee.collapsible,collapsed:ee.collapsed}:{element:ee.element.elements[j],children:k,collapsible:ee.collapsible,collapsed:ee.collapsed}}function Ki(ee){return zn(ee,0)}function Bn(ee,j,k){return ee.element===j?Object.assign(Object.assign({},ee),{children:k}):Object.assign(Object.assign({},ee),{children:Fe.a.map(Fe.a.from(ee.children),function(K){return Bn(K,j,k)})})}var ai=function(j){return{getId:function(K){return K.elements.map(function(ue){return j.getId(ue).toString()}).join("\0")}}},dn=function(){function ee(j,k){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object(_.a)(this,ee),this.user=j,this.rootRef=null,this.nodes=new Map,this.model=new yi(j,k,K),this.enabled=typeof K.compressionEnabled=="undefined"?!0:K.compressionEnabled,this.identityProvider=K.identityProvider}return Object(Y.a)(ee,[{key:"onDidSplice",get:function(){return this.model.onDidSplice}},{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"onDidChangeRenderNodeCount",get:function(){return this.model.onDidChangeRenderNodeCount}},{key:"setChildren",value:function(k){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe.a.empty(),ue=arguments.length>2?arguments[2]:void 0,xe=ue.diffIdentityProvider&&ai(ue.diffIdentityProvider);if(k===null){var Ve=Fe.a.map(K,this.enabled?gr:mi);this._setChildren(null,Ve,{diffIdentityProvider:xe,diffDepth:Infinity});return}var ut=this.nodes.get(k);if(!ut)throw new De(this.user,"Unknown compressed tree node");var _t=this.model.getNode(ut),xt=this.model.getParentNodeLocation(ut),un=this.model.getNode(xt),ln=Ki(_t),nn=Bn(ln,k,K),bn=(this.enabled?gr:mi)(nn),An=un.children.map(function(It){return It===_t?bn:It});this._setChildren(un.element,An,{diffIdentityProvider:xe,diffDepth:_t.depth-un.depth})}},{key:"setCompressionEnabled",value:function(k){if(k!==this.enabled){this.enabled=k;var K=this.model.getNode(),ue=K.children,xe=Fe.a.map(ue,Ki),Ve=Fe.a.map(xe,k?gr:mi);this._setChildren(null,Ve,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}}},{key:"_setChildren",value:function(k,K,ue){var xe=this,Ve=new Set,ut=function(un){var ln=Object(x.a)(un.element.elements),nn;try{for(ln.s();!(nn=ln.n()).done;){var bn=nn.value;Ve.add(bn),xe.nodes.set(bn,un.element)}}catch(An){ln.e(An)}finally{ln.f()}},_t=function(un){var ln=Object(x.a)(un.element.elements),nn;try{for(ln.s();!(nn=ln.n()).done;){var bn=nn.value;Ve.has(bn)||xe.nodes.delete(bn)}}catch(An){ln.e(An)}finally{ln.f()}};this.model.setChildren(k,K,Object.assign(Object.assign({},ue),{onDidCreateNode:ut,onDidDeleteNode:_t}))}},{key:"has",value:function(k){return this.nodes.has(k)}},{key:"getListIndex",value:function(k){var K=this.getCompressedNode(k);return this.model.getListIndex(K)}},{key:"getListRenderCount",value:function(k){var K=this.getCompressedNode(k);return this.model.getListRenderCount(K)}},{key:"getNode",value:function(k){if(typeof k=="undefined")return this.model.getNode();var K=this.getCompressedNode(k);return this.model.getNode(K)}},{key:"getNodeLocation",value:function(k){var K=this.model.getNodeLocation(k);return K===null?null:K.elements[K.elements.length-1]}},{key:"getParentNodeLocation",value:function(k){var K=this.getCompressedNode(k),ue=this.model.getParentNodeLocation(K);return ue===null?null:ue.elements[ue.elements.length-1]}},{key:"getFirstElementChild",value:function(k){var K=this.getCompressedNode(k);return this.model.getFirstElementChild(K)}},{key:"isCollapsible",value:function(k){var K=this.getCompressedNode(k);return this.model.isCollapsible(K)}},{key:"setCollapsible",value:function(k,K){var ue=this.getCompressedNode(k);return this.model.setCollapsible(ue,K)}},{key:"isCollapsed",value:function(k){var K=this.getCompressedNode(k);return this.model.isCollapsed(K)}},{key:"setCollapsed",value:function(k,K,ue){var xe=this.getCompressedNode(k);return this.model.setCollapsed(xe,K,ue)}},{key:"expandTo",value:function(k){var K=this.getCompressedNode(k);this.model.expandTo(K)}},{key:"rerender",value:function(k){var K=this.getCompressedNode(k);this.model.rerender(K)}},{key:"refilter",value:function(){this.model.refilter()}},{key:"getCompressedNode",value:function(k){if(k===null)return null;var K=this.nodes.get(k);if(!K)throw new De(this.user,"Tree element not found: ".concat(k));return K}}]),ee}(),Jn=function(j){return j[j.length-1]},Yt=function(){function ee(j,k){Object(_.a)(this,ee),this.unwrapper=j,this.node=k}return Object(Y.a)(ee,[{key:"element",get:function(){return this.node.element===null?null:this.unwrapper(this.node.element)}},{key:"children",get:function(){var k=this;return this.node.children.map(function(K){return new ee(k.unwrapper,K)})}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),ee}();function Ct(ee,j){return{splice:function(K,ue,xe){j.splice(K,ue,xe.map(function(Ve){return ee.map(Ve)}))},updateElementHeight:function(K,ue){j.updateElementHeight(K,ue)}}}function Dn(ee,j){return Object.assign(Object.assign({},j),{identityProvider:j.identityProvider&&{getId:function(K){return j.identityProvider.getId(ee(K))}},sorter:j.sorter&&{compare:function(K,ue){return j.sorter.compare(K.elements[0],ue.elements[0])}},filter:j.filter&&{filter:function(K,ue){return j.filter.filter(ee(K),ue)}}})}var gn=function(){function ee(j,k){var K=this,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object(_.a)(this,ee),this.rootRef=null,this.elementMapper=ue.elementMapper||Jn;var xe=function(ut){return K.elementMapper(ut.elements)};this.nodeMapper=new Ae(function(Ve){return new Yt(xe,Ve)}),this.model=new dn(j,Ct(this.nodeMapper,k),Dn(xe,ue))}return Object(Y.a)(ee,[{key:"onDidSplice",get:function(){var k=this;return V.c.map(this.model.onDidSplice,function(K){var ue=K.insertedNodes,xe=K.deletedNodes;return{insertedNodes:ue.map(function(Ve){return k.nodeMapper.map(Ve)}),deletedNodes:xe.map(function(Ve){return k.nodeMapper.map(Ve)})}})}},{key:"onDidChangeCollapseState",get:function(){var k=this;return V.c.map(this.model.onDidChangeCollapseState,function(K){var ue=K.node,xe=K.deep;return{node:k.nodeMapper.map(ue),deep:xe}})}},{key:"onDidChangeRenderNodeCount",get:function(){var k=this;return V.c.map(this.model.onDidChangeRenderNodeCount,function(K){return k.nodeMapper.map(K)})}},{key:"setChildren",value:function(k){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe.a.empty(),ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.model.setChildren(k,K,ue)}},{key:"setCompressionEnabled",value:function(k){this.model.setCompressionEnabled(k)}},{key:"has",value:function(k){return this.model.has(k)}},{key:"getListIndex",value:function(k){return this.model.getListIndex(k)}},{key:"getListRenderCount",value:function(k){return this.model.getListRenderCount(k)}},{key:"getNode",value:function(k){return this.nodeMapper.map(this.model.getNode(k))}},{key:"getNodeLocation",value:function(k){return k.element}},{key:"getParentNodeLocation",value:function(k){return this.model.getParentNodeLocation(k)}},{key:"getFirstElementChild",value:function(k){var K=this.model.getFirstElementChild(k);return K===null||typeof K=="undefined"?K:this.elementMapper(K.elements)}},{key:"isCollapsible",value:function(k){return this.model.isCollapsible(k)}},{key:"setCollapsible",value:function(k,K){return this.model.setCollapsible(k,K)}},{key:"isCollapsed",value:function(k){return this.model.isCollapsed(k)}},{key:"setCollapsed",value:function(k,K,ue){return this.model.setCollapsed(k,K,ue)}},{key:"expandTo",value:function(k){return this.model.expandTo(k)}},{key:"rerender",value:function(k){return this.model.rerender(k)}},{key:"refilter",value:function(){return this.model.refilter()}},{key:"getCompressedTreeNode",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.model.getNode(k)}}]),ee}(),en=a("ZCR3"),yn=function(ee,j,k,K){var ue=arguments.length,xe=ue<3?j:K===null?K=Object.getOwnPropertyDescriptor(j,k):K,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(ee,j,k,K);else for(var ut=ee.length-1;ut>=0;ut--)(Ve=ee[ut])&&(xe=(ue<3?Ve(xe):ue>3?Ve(j,k,xe):Ve(j,k))||xe);return ue>3&&xe&&Object.defineProperty(j,k,xe),xe},Qn=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve){var ut,_t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return Object(_.a)(this,k),ut=j.call(this,K,ue,xe,Ve,_t),ut.user=K,ut}return Object(Y.a)(k,[{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"setChildren",value:function(ue){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe.a.empty(),Ve=arguments.length>2?arguments[2]:void 0;this.model.setChildren(ue,xe,Ve)}},{key:"rerender",value:function(ue){if(ue===void 0){this.view.rerender();return}this.model.rerender(ue)}},{key:"hasElement",value:function(ue){return this.model.has(ue)}},{key:"createModel",value:function(ue,xe,Ve){return new yi(ue,xe,Ve)}}]),k}(ir),pi=function(){function ee(j,k){Object(_.a)(this,ee),this._compressedTreeNodeProvider=j,this.renderer=k,this.templateId=k.templateId,k.onDidChangeTwistieState&&(this.onDidChangeTwistieState=k.onDidChangeTwistieState)}return Object(Y.a)(ee,[{key:"compressedTreeNodeProvider",get:function(){return this._compressedTreeNodeProvider()}},{key:"renderTemplate",value:function(k){var K=this.renderer.renderTemplate(k);return{compressedTreeNode:void 0,data:K}}},{key:"renderElement",value:function(k,K,ue,xe){var Ve=this.compressedTreeNodeProvider.getCompressedTreeNode(k.element);Ve.element.elements.length===1?(ue.compressedTreeNode=void 0,this.renderer.renderElement(k,K,ue.data,xe)):(ue.compressedTreeNode=Ve,this.renderer.renderCompressedElements(Ve,K,ue.data,xe))}},{key:"disposeElement",value:function(k,K,ue,xe){var Ve,ut,_t,xt;ue.compressedTreeNode?(ut=(Ve=this.renderer).disposeCompressedElements)===null||ut===void 0||ut.call(Ve,ue.compressedTreeNode,K,ue.data,xe):(xt=(_t=this.renderer).disposeElement)===null||xt===void 0||xt.call(_t,k,K,ue.data,xe)}},{key:"disposeTemplate",value:function(k){this.renderer.disposeTemplate(k.data)}},{key:"renderTwistie",value:function(k,K){return this.renderer.renderTwistie?this.renderer.renderTwistie(k,K):!1}}]),ee}();yn([en.a],pi.prototype,"compressedTreeNodeProvider",null);function Pt(ee,j){return j&&Object.assign(Object.assign({},j),{keyboardNavigationLabelProvider:j.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel:function(K){var ue;try{ue=ee().getCompressedTreeNode(K)}catch(xe){return j.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(K)}return ue.element.elements.length===1?j.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(K):j.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(ue.element.elements)}}})}var yt=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve){var ut,_t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Object(_.a)(this,k);var xt=function(){return Object(w.a)(ut)},un=Ve.map(function(ln){return new pi(xt,ln)});return ut=j.call(this,K,ue,xe,un,Pt(xt,_t))}return Object(Y.a)(k,[{key:"setChildren",value:function(ue){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe.a.empty(),Ve=arguments.length>2?arguments[2]:void 0;this.model.setChildren(ue,xe,Ve)}},{key:"createModel",value:function(ue,xe,Ve){return new gn(ue,xe,Ve)}},{key:"updateOptions",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object(ve.a)(Object(se.a)(k.prototype),"updateOptions",this).call(this,ue),typeof ue.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(ue.compressionEnabled)}},{key:"getCompressedTreeNode",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.model.getCompressedTreeNode(ue)}}]),k}(Qn),Rn=a("/cxE"),Sn=function(ee,j,k,K){function ue(xe){return xe instanceof k?xe:new k(function(Ve){Ve(xe)})}return new(k||(k=Promise))(function(xe,Ve){function ut(un){try{xt(K.next(un))}catch(ln){Ve(ln)}}function _t(un){try{xt(K.throw(un))}catch(ln){Ve(ln)}}function xt(un){un.done?xe(un.value):ue(un.value).then(ut,_t)}xt((K=K.apply(ee,j||[])).next())})};function Ii(ee){return Object.assign(Object.assign({},ee),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function Hi(ee,j){return j.parent?j.parent===ee?!0:Hi(ee,j.parent):!1}function wt(ee,j){return ee===j||Hi(ee,j)||Hi(j,ee)}var Pi=function(){function ee(j){Object(_.a)(this,ee),this.node=j}return Object(Y.a)(ee,[{key:"element",get:function(){return this.node.element.element}},{key:"children",get:function(){return this.node.children.map(function(k){return new ee(k)})}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),ee}(),Ut=function(){function ee(j,k,K){Object(_.a)(this,ee),this.renderer=j,this.nodeMapper=k,this.onDidChangeTwistieState=K,this.renderedNodes=new Map,this.templateId=j.templateId}return Object(Y.a)(ee,[{key:"renderTemplate",value:function(k){var K=this.renderer.renderTemplate(k);return{templateData:K}}},{key:"renderElement",value:function(k,K,ue,xe){this.renderer.renderElement(this.nodeMapper.map(k),K,ue.templateData,xe)}},{key:"renderTwistie",value:function(k,K){if(k.slow){var ue;return(ue=K.classList).add.apply(ue,Object(C.a)(et.a.asClassNameArray(Lt.a.treeItemLoading))),!0}else{var xe;return(xe=K.classList).remove.apply(xe,Object(C.a)(et.a.asClassNameArray(Lt.a.treeItemLoading))),!1}}},{key:"disposeElement",value:function(k,K,ue,xe){var Ve,ut;(ut=(Ve=this.renderer).disposeElement)===null||ut===void 0||ut.call(Ve,this.nodeMapper.map(k),K,ue.templateData,xe)}},{key:"disposeTemplate",value:function(k){this.renderer.disposeTemplate(k.templateData)}},{key:"dispose",value:function(){this.renderedNodes.clear()}}]),ee}();function We(ee){return{browserEvent:ee.browserEvent,elements:ee.elements.map(function(j){return j.element})}}function Tn(ee){return{browserEvent:ee.browserEvent,element:ee.element&&ee.element.element,target:ee.target}}var ar=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K){var ue;return Object(_.a)(this,k),ue=j.call(this,K.elements.map(function(xe){return xe.element})),ue.data=K,ue}return Object(Y.a)(k)}(ae.a);function Br(ee){return ee instanceof ae.a?new ar(ee):ee}var Yr=function(){function ee(j){Object(_.a)(this,ee),this.dnd=j}return Object(Y.a)(ee,[{key:"getDragURI",value:function(k){return this.dnd.getDragURI(k.element)}},{key:"getDragLabel",value:function(k,K){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(k.map(function(ue){return ue.element}),K)}},{key:"onDragStart",value:function(k,K){var ue,xe;(xe=(ue=this.dnd).onDragStart)===null||xe===void 0||xe.call(ue,Br(k),K)}},{key:"onDragOver",value:function(k,K,ue,xe){var Ve=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return this.dnd.onDragOver(Br(k),K&&K.element,ue,xe)}},{key:"drop",value:function(k,K,ue,xe){this.dnd.drop(Br(k),K&&K.element,ue,xe)}},{key:"onDragEnd",value:function(k){var K,ue;(ue=(K=this.dnd).onDragEnd)===null||ue===void 0||ue.call(K,k)}}]),ee}();function ti(ee){return ee&&Object.assign(Object.assign({},ee),{collapseByDefault:!0,identityProvider:ee.identityProvider&&{getId:function(k){return ee.identityProvider.getId(k.element)}},dnd:ee.dnd&&new Yr(ee.dnd),multipleSelectionController:ee.multipleSelectionController&&{isSelectionSingleChangeEvent:function(k){return ee.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},k),{element:k.element}))},isSelectionRangeChangeEvent:function(k){return ee.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},k),{element:k.element}))}},accessibilityProvider:ee.accessibilityProvider&&Object.assign(Object.assign({},ee.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:ee.accessibilityProvider.getRole?function(j){return ee.accessibilityProvider.getRole(j.element)}:function(){return"treeitem"},isChecked:ee.accessibilityProvider.isChecked?function(j){var k;return!!((k=ee.accessibilityProvider)===null||k===void 0?void 0:k.isChecked(j.element))}:void 0,getAriaLabel:function(k){return ee.accessibilityProvider.getAriaLabel(k.element)},getWidgetAriaLabel:function(){return ee.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:ee.accessibilityProvider.getWidgetRole?function(){return ee.accessibilityProvider.getWidgetRole()}:function(){return"tree"},getAriaLevel:ee.accessibilityProvider.getAriaLevel&&function(j){return ee.accessibilityProvider.getAriaLevel(j.element)},getActiveDescendantId:ee.accessibilityProvider.getActiveDescendantId&&function(j){return ee.accessibilityProvider.getActiveDescendantId(j.element)}}),filter:ee.filter&&{filter:function(k,K){return ee.filter.filter(k.element,K)}},keyboardNavigationLabelProvider:ee.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},ee.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(k){return ee.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(k.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof ee.expandOnlyOnTwistieClick=="undefined"?void 0:typeof ee.expandOnlyOnTwistieClick!="function"?ee.expandOnlyOnTwistieClick:function(j){return ee.expandOnlyOnTwistieClick(j.element)},defaultFindVisibility:function(k){return k.hasChildren&&k.stale?1:typeof ee.defaultFindVisibility=="number"?ee.defaultFindVisibility:typeof ee.defaultFindVisibility=="undefined"?2:ee.defaultFindVisibility(k.element)}})}function bi(ee,j){j(ee),ee.children.forEach(function(k){return bi(k,j)})}var Kn=function(){function ee(j,k,K,ue,xe){var Ve=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};Object(_.a)(this,ee),this.user=j,this.dataSource=xe,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new V.b,this._onDidChangeNodeSlowState=new V.b,this.nodeMapper=new Ae(function(ut){return new Pi(ut)}),this.disposables=new B.c,this.identityProvider=Ve.identityProvider,this.autoExpandSingleChildren=typeof Ve.autoExpandSingleChildren=="undefined"?!1:Ve.autoExpandSingleChildren,this.sorter=Ve.sorter,this.collapseByDefault=Ve.collapseByDefault,this.tree=this.createTree(j,k,K,ue,Ve),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Ii({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}return Object(Y.a)(ee,[{key:"onDidChangeFocus",get:function(){return V.c.map(this.tree.onDidChangeFocus,We)}},{key:"onDidChangeSelection",get:function(){return V.c.map(this.tree.onDidChangeSelection,We)}},{key:"onMouseDblClick",get:function(){return V.c.map(this.tree.onMouseDblClick,Tn)}},{key:"onPointer",get:function(){return V.c.map(this.tree.onPointer,Tn)}},{key:"onDidFocus",get:function(){return this.tree.onDidFocus}},{key:"onDidChangeModel",get:function(){return this.tree.onDidChangeModel}},{key:"onDidChangeCollapseState",get:function(){return this.tree.onDidChangeCollapseState}},{key:"onDidChangeFindOpenState",get:function(){return this.tree.onDidChangeFindOpenState}},{key:"onDidDispose",get:function(){return this.tree.onDidDispose}},{key:"createTree",value:function(k,K,ue,xe,Ve){var ut=this,_t=new Je(ue),xt=xe.map(function(ln){return new Ut(ln,ut.nodeMapper,ut._onDidChangeNodeSlowState.event)}),un=ti(Ve)||{};return new Qn(k,K,_t,xt,un)}},{key:"updateOptions",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.tree.updateOptions(k)}},{key:"getHTMLElement",value:function(){return this.tree.getHTMLElement()}},{key:"scrollTop",get:function(){return this.tree.scrollTop},set:function(k){this.tree.scrollTop=k}},{key:"domFocus",value:function(){this.tree.domFocus()}},{key:"layout",value:function(k,K){this.tree.layout(k,K)}},{key:"style",value:function(k){this.tree.style(k)}},{key:"getInput",value:function(){return this.root.element}},{key:"setInput",value:function(k,K){return Sn(this,void 0,void 0,Object(fe.a)().mark(function ue(){var xe;return Object(fe.a)().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:return this.refreshPromises.forEach(function(_t){return _t.cancel()}),this.refreshPromises.clear(),this.root.element=k,xe=K&&{viewState:K,focus:[],selection:[]},ut.next=6,this._updateChildren(k,!0,!1,xe);case 6:xe&&(this.tree.setFocus(xe.focus),this.tree.setSelection(xe.selection)),K&&typeof K.scrollTop=="number"&&(this.scrollTop=K.scrollTop);case 8:case"end":return ut.stop()}},ue,this)}))}},{key:"_updateChildren",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.root.element,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,xe=arguments.length>3?arguments[3]:void 0,Ve=arguments.length>4?arguments[4]:void 0;return Sn(this,void 0,void 0,Object(fe.a)().mark(function ut(){var _t;return Object(fe.a)().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:if(typeof this.root.element!="undefined"){un.next=2;break}throw new De(this.user,"Tree input not set");case 2:if(!this.root.refreshPromise){un.next=7;break}return un.next=5,this.root.refreshPromise;case 5:return un.next=7,V.c.toPromise(this._onDidRender.event);case 7:return _t=this.getDataNode(k),un.next=10,this.refreshAndRenderNode(_t,K,xe,Ve);case 10:if(ue)try{this.tree.rerender(_t)}catch(ln){}case 11:case"end":return un.stop()}},ut,this)}))}},{key:"rerender",value:function(k){if(k===void 0||k===this.root.element){this.tree.rerender();return}var K=this.getDataNode(k);this.tree.rerender(K)}},{key:"getNode",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.root.element,K=this.getDataNode(k),ue=this.tree.getNode(K===this.root?null:K);return this.nodeMapper.map(ue)}},{key:"collapse",value:function(k){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ue=this.getDataNode(k);return this.tree.collapse(ue===this.root?null:ue,K)}},{key:"expand",value:function(k){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Sn(this,void 0,void 0,Object(fe.a)().mark(function ue(){var xe,Ve;return Object(fe.a)().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:if(typeof this.root.element!="undefined"){_t.next=2;break}throw new De(this.user,"Tree input not set");case 2:if(!this.root.refreshPromise){_t.next=7;break}return _t.next=5,this.root.refreshPromise;case 5:return _t.next=7,V.c.toPromise(this._onDidRender.event);case 7:if(xe=this.getDataNode(k),!(this.tree.hasElement(xe)&&!this.tree.isCollapsible(xe))){_t.next=10;break}return _t.abrupt("return",!1);case 10:if(!xe.refreshPromise){_t.next=15;break}return _t.next=13,this.root.refreshPromise;case 13:return _t.next=15,V.c.toPromise(this._onDidRender.event);case 15:if(!(xe!==this.root&&!xe.refreshPromise&&!this.tree.isCollapsed(xe))){_t.next=17;break}return _t.abrupt("return",!1);case 17:if(Ve=this.tree.expand(xe===this.root?null:xe,K),!xe.refreshPromise){_t.next=23;break}return _t.next=21,this.root.refreshPromise;case 21:return _t.next=23,V.c.toPromise(this._onDidRender.event);case 23:return _t.abrupt("return",Ve);case 24:case"end":return _t.stop()}},ue,this)}))}},{key:"setSelection",value:function(k,K){var ue=this,xe=k.map(function(Ve){return ue.getDataNode(Ve)});this.tree.setSelection(xe,K)}},{key:"getSelection",value:function(){var k=this.tree.getSelection();return k.map(function(K){return K.element})}},{key:"setFocus",value:function(k,K){var ue=this,xe=k.map(function(Ve){return ue.getDataNode(Ve)});this.tree.setFocus(xe,K)}},{key:"getFocus",value:function(){var k=this.tree.getFocus();return k.map(function(K){return K.element})}},{key:"reveal",value:function(k,K){this.tree.reveal(this.getDataNode(k),K)}},{key:"getParentElement",value:function(k){var K=this.tree.getParentElement(this.getDataNode(k));return K&&K.element}},{key:"getFirstElementChild",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.root.element,K=this.getDataNode(k),ue=this.tree.getFirstElementChild(K===this.root?null:K);return ue&&ue.element}},{key:"getDataNode",value:function(k){var K=this.nodes.get(k===this.root.element?null:k);if(!K)throw new De(this.user,"Data tree node not found: ".concat(k));return K}},{key:"refreshAndRenderNode",value:function(k,K,ue,xe){return Sn(this,void 0,void 0,Object(fe.a)().mark(function Ve(){return Object(fe.a)().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return _t.next=2,this.refreshNode(k,K,ue);case 2:this.render(k,ue,xe);case 3:case"end":return _t.stop()}},Ve,this)}))}},{key:"refreshNode",value:function(k,K,ue){return Sn(this,void 0,void 0,Object(fe.a)().mark(function xe(){var Ve=this,ut,_t;return Object(fe.a)().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:if(this.subTreeRefreshPromises.forEach(function(ln,nn){!ut&&wt(nn,k)&&(ut=ln.then(function(){return Ve.refreshNode(k,K,ue)}))}),!ut){un.next=3;break}return un.abrupt("return",ut);case 3:if(k===this.root){un.next=9;break}if(_t=this.tree.getNode(k),!_t.collapsed){un.next=9;break}return k.hasChildren=!!this.dataSource.hasChildren(k.element),k.stale=!0,un.abrupt("return");case 9:return un.abrupt("return",this.doRefreshSubTree(k,K,ue));case 10:case"end":return un.stop()}},xe,this)}))}},{key:"doRefreshSubTree",value:function(k,K,ue){return Sn(this,void 0,void 0,Object(fe.a)().mark(function xe(){var Ve=this,ut,_t;return Object(fe.a)().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:return k.refreshPromise=new Promise(function(ln){return ut=ln}),this.subTreeRefreshPromises.set(k,k.refreshPromise),k.refreshPromise.finally(function(){k.refreshPromise=void 0,Ve.subTreeRefreshPromises.delete(k)}),un.prev=3,un.next=6,this.doRefreshNode(k,K,ue);case 6:return _t=un.sent,k.stale=!1,un.next=10,Oe.f.settled(_t.map(function(ln){return Ve.doRefreshSubTree(ln,K,ue)}));case 10:return un.prev=10,ut(),un.finish(10);case 13:case"end":return un.stop()}},xe,this,[[3,,10,13]])}))}},{key:"doRefreshNode",value:function(k,K,ue){return Sn(this,void 0,void 0,Object(fe.a)().mark(function xe(){var Ve=this,ut,_t,xt,un;return Object(fe.a)().wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:return k.hasChildren=!!this.dataSource.hasChildren(k.element),k.hasChildren?(_t=this.doGetChildren(k),Object(ye.f)(_t)?ut=Promise.resolve(_t):(xt=Object(Oe.q)(800),xt.then(function(){k.slow=!0,Ve._onDidChangeNodeSlowState.fire(k)},function(bn){return null}),ut=_t.finally(function(){return xt.cancel()}))):ut=Promise.resolve(Fe.a.empty()),nn.prev=2,nn.next=5,ut;case 5:return un=nn.sent,nn.abrupt("return",this.setChildren(k,un,K,ue));case 9:if(nn.prev=9,nn.t0=nn.catch(2),k!==this.root&&this.tree.hasElement(k)&&this.tree.collapse(k),!Object(Rn.g)(nn.t0)){nn.next=14;break}return nn.abrupt("return",[]);case 14:throw nn.t0;case 15:return nn.prev=15,k.slow&&(k.slow=!1,this._onDidChangeNodeSlowState.fire(k)),nn.finish(15);case 18:case"end":return nn.stop()}},xe,this,[[2,9,15,18]])}))}},{key:"doGetChildren",value:function(k){var K=this,ue=this.refreshPromises.get(k);if(ue)return ue;var xe=this.dataSource.getChildren(k.element);return Object(ye.f)(xe)?this.processChildren(xe):(ue=Object(Oe.k)(function(){return Sn(K,void 0,void 0,Object(fe.a)().mark(function Ve(){return Object(fe.a)().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return _t.t0=this,_t.next=3,xe;case 3:return _t.t1=_t.sent,_t.abrupt("return",_t.t0.processChildren.call(_t.t0,_t.t1));case 5:case"end":return _t.stop()}},Ve,this)}))}),this.refreshPromises.set(k,ue),ue.finally(function(){K.refreshPromises.delete(k)}))}},{key:"_onDidChangeCollapseState",value:function(k){var K=k.node,ue=k.deep;K.element!==null&&!K.collapsed&&K.element.stale&&(ue?this.collapse(K.element.element):this.refreshAndRenderNode(K.element,!1).catch(Rn.h))}},{key:"setChildren",value:function(k,K,ue,xe){var Ve=this,ut,_t=Object(C.a)(K);if(k.children.length===0&&_t.length===0)return[];var xt=new Map,un=new Map,ln=Object(x.a)(k.children),nn;try{for(ln.s();!(nn=ln.n()).done;){var bn=nn.value;if(xt.set(bn.element,bn),this.identityProvider){var An=this.tree.isCollapsed(bn);un.set(bn.id,{node:bn,collapsed:An})}}}catch(Tr){ln.e(Tr)}finally{ln.f()}var It=[],er=_t.map(function(Tr){var ba=!!Ve.dataSource.hasChildren(Tr);if(!Ve.identityProvider){var Sa=Ii({element:Tr,parent:k,hasChildren:ba});return ba&&Ve.collapseByDefault&&!Ve.collapseByDefault(Tr)&&(Sa.collapsedByDefault=!1,It.push(Sa)),Sa}var Va=Ve.identityProvider.getId(Tr).toString(),Ja=un.get(Va);if(Ja){var Ba=Ja.node;return xt.delete(Ba.element),Ve.nodes.delete(Ba.element),Ve.nodes.set(Tr,Ba),Ba.element=Tr,Ba.hasChildren=ba,ue?Ja.collapsed?(Ba.children.forEach(function(yo){return bi(yo,function(Vo){return Ve.nodes.delete(Vo.element)})}),Ba.children.splice(0,Ba.children.length),Ba.stale=!0):It.push(Ba):ba&&Ve.collapseByDefault&&!Ve.collapseByDefault(Tr)&&(Ba.collapsedByDefault=!1,It.push(Ba)),Ba}var bo=Ii({element:Tr,parent:k,id:Va,hasChildren:ba});return xe&&xe.viewState.focus&&xe.viewState.focus.indexOf(Va)>-1&&xe.focus.push(bo),xe&&xe.viewState.selection&&xe.viewState.selection.indexOf(Va)>-1&&xe.selection.push(bo),xe&&xe.viewState.expanded&&xe.viewState.expanded.indexOf(Va)>-1?It.push(bo):ba&&Ve.collapseByDefault&&!Ve.collapseByDefault(Tr)&&(bo.collapsedByDefault=!1,It.push(bo)),bo}),Mi=Object(x.a)(xt.values()),wr;try{for(Mi.s();!(wr=Mi.n()).done;){var hr=wr.value;bi(hr,function(Tr){return Ve.nodes.delete(Tr.element)})}}catch(Tr){Mi.e(Tr)}finally{Mi.f()}var xi=Object(x.a)(er),Ar;try{for(xi.s();!(Ar=xi.n()).done;){var zr=Ar.value;this.nodes.set(zr.element,zr)}}catch(Tr){xi.e(Tr)}finally{xi.f()}return(ut=k.children).splice.apply(ut,[0,k.children.length].concat(Object(C.a)(er))),k!==this.root&&this.autoExpandSingleChildren&&er.length===1&&It.length===0&&(er[0].collapsedByDefault=!1,It.push(er[0])),It}},{key:"render",value:function(k,K,ue){var xe=this,Ve=k.children.map(function(_t){return xe.asTreeElement(_t,K)}),ut=ue&&Object.assign(Object.assign({},ue),{diffIdentityProvider:ue.diffIdentityProvider&&{getId:function(xt){return ue.diffIdentityProvider.getId(xt.element)}}});this.tree.setChildren(k===this.root?null:k,Ve,ut),k!==this.root&&this.tree.setCollapsible(k,k.hasChildren),this._onDidRender.fire()}},{key:"asTreeElement",value:function(k,K){var ue=this;if(k.stale)return{element:k,collapsible:k.hasChildren,collapsed:!0};var xe;return K&&K.viewState.expanded&&k.id&&K.viewState.expanded.indexOf(k.id)>-1?xe=!1:xe=k.collapsedByDefault,k.collapsedByDefault=void 0,{element:k,children:k.hasChildren?Fe.a.map(k.children,function(Ve){return ue.asTreeElement(Ve,K)}):[],collapsible:k.hasChildren,collapsed:xe}}},{key:"processChildren",value:function(k){return this.sorter&&(k=Object(C.a)(k).sort(this.sorter.compare.bind(this.sorter))),k}},{key:"dispose",value:function(){this.disposables.dispose()}}]),ee}(),En=function(){function ee(j){Object(_.a)(this,ee),this.node=j}return Object(Y.a)(ee,[{key:"element",get:function(){return{elements:this.node.element.elements.map(function(k){return k.element}),incompressible:this.node.element.incompressible}}},{key:"children",get:function(){return this.node.children.map(function(k){return new ee(k)})}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),ee}(),Nt=function(){function ee(j,k,K,ue){Object(_.a)(this,ee),this.renderer=j,this.nodeMapper=k,this.compressibleNodeMapperProvider=K,this.onDidChangeTwistieState=ue,this.renderedNodes=new Map,this.disposables=[],this.templateId=j.templateId}return Object(Y.a)(ee,[{key:"renderTemplate",value:function(k){var K=this.renderer.renderTemplate(k);return{templateData:K}}},{key:"renderElement",value:function(k,K,ue,xe){this.renderer.renderElement(this.nodeMapper.map(k),K,ue.templateData,xe)}},{key:"renderCompressedElements",value:function(k,K,ue,xe){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(k),K,ue.templateData,xe)}},{key:"renderTwistie",value:function(k,K){if(k.slow){var ue;return(ue=K.classList).add.apply(ue,Object(C.a)(et.a.asClassNameArray(Lt.a.treeItemLoading))),!0}else{var xe;return(xe=K.classList).remove.apply(xe,Object(C.a)(et.a.asClassNameArray(Lt.a.treeItemLoading))),!1}}},{key:"disposeElement",value:function(k,K,ue,xe){var Ve,ut;(ut=(Ve=this.renderer).disposeElement)===null||ut===void 0||ut.call(Ve,this.nodeMapper.map(k),K,ue.templateData,xe)}},{key:"disposeCompressedElements",value:function(k,K,ue,xe){var Ve,ut;(ut=(Ve=this.renderer).disposeCompressedElements)===null||ut===void 0||ut.call(Ve,this.compressibleNodeMapperProvider().map(k),K,ue.templateData,xe)}},{key:"disposeTemplate",value:function(k){this.renderer.disposeTemplate(k.templateData)}},{key:"dispose",value:function(){this.renderedNodes.clear(),this.disposables=Object(B.i)(this.disposables)}}]),ee}();function Gt(ee){var j=ee&&ti(ee);return j&&Object.assign(Object.assign({},j),{keyboardNavigationLabelProvider:j.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},j.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:function(K){return ee.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(K.map(function(ue){return ue.element}))}})})}var mt=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve,ut,_t){var xt,un=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{};return Object(_.a)(this,k),xt=j.call(this,K,ue,xe,ut,_t,un),xt.compressionDelegate=Ve,xt.compressibleNodeMapper=new Ae(function(ln){return new En(ln)}),xt.filter=un.filter,xt}return Object(Y.a)(k,[{key:"createTree",value:function(ue,xe,Ve,ut,_t){var xt=this,un=new Je(Ve),ln=ut.map(function(bn){return new Nt(bn,xt.nodeMapper,function(){return xt.compressibleNodeMapper},xt._onDidChangeNodeSlowState.event)}),nn=Gt(_t)||{};return new yt(ue,xe,un,ln,nn)}},{key:"asTreeElement",value:function(ue,xe){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(ue.element)},Object(ve.a)(Object(se.a)(k.prototype),"asTreeElement",this).call(this,ue,xe))}},{key:"updateOptions",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.tree.updateOptions(ue)}},{key:"render",value:function(ue,xe){var Ve=this;if(!this.identityProvider)return Object(ve.a)(Object(se.a)(k.prototype),"render",this).call(this,ue,xe);var ut=function(Mi){return Ve.identityProvider.getId(Mi).toString()},_t=function(Mi){var wr=new Set,hr=Object(x.a)(Mi),xi;try{for(hr.s();!(xi=hr.n()).done;){var Ar=xi.value,zr=Ve.tree.getCompressedTreeNode(Ar===Ve.root?null:Ar);if(!!zr.element){var Tr=Object(x.a)(zr.element.elements),ba;try{for(Tr.s();!(ba=Tr.n()).done;){var Sa=ba.value;wr.add(ut(Sa.element))}}catch(Va){Tr.e(Va)}finally{Tr.f()}}}}catch(Va){hr.e(Va)}finally{hr.f()}return wr},xt=_t(this.tree.getSelection()),un=_t(this.tree.getFocus());Object(ve.a)(Object(se.a)(k.prototype),"render",this).call(this,ue,xe);var ln=this.getSelection(),nn=!1,bn=this.getFocus(),An=!1,It=function er(Mi){var wr=Mi.element;if(wr)for(var hr=0;hr<wr.elements.length;hr++){var xi=ut(wr.elements[hr].element),Ar=wr.elements[wr.elements.length-1].element;xt.has(xi)&&ln.indexOf(Ar)===-1&&(ln.push(Ar),nn=!0),un.has(xi)&&bn.indexOf(Ar)===-1&&(bn.push(Ar),An=!0)}Mi.children.forEach(er)};It(this.tree.getCompressedTreeNode(ue===this.root?null:ue)),nn&&this.setSelection(ln),An&&this.setFocus(bn)}},{key:"processChildren",value:function(ue){var xe=this;return this.filter&&(ue=Fe.a.filter(ue,function(Ve){var ut=xe.filter.filter(Ve,1),_t=Ye(ut);if(_t===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return _t===1})),Object(ve.a)(Object(se.a)(k.prototype),"processChildren",this).call(this,ue)}}]),k}(Kn);function Ye(ee){return typeof ee=="boolean"?ee?1:0:Xe(ee)?Et(ee.visibility):Et(ee)}var vn=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve,ut){var _t,xt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return Object(_.a)(this,k),_t=j.call(this,K,ue,xe,Ve,xt),_t.user=K,_t.dataSource=ut,_t.identityProvider=xt.identityProvider,_t}return Object(Y.a)(k,[{key:"createModel",value:function(ue,xe,Ve){return new yi(ue,xe,Ve)}}]),k}(ir),nt=a("+7oY"),Ze=a("CRAX"),Zt=a("T8No"),hn=a("FmXZ"),Ht=a("Uzvx"),lt=a("Cg/j"),si=a("bexQ"),Oi=a("ic2d"),Ji=a("99AM"),Wi,Yi=function(ee,j,k,K){var ue=arguments.length,xe=ue<3?j:K===null?K=Object.getOwnPropertyDescriptor(j,k):K,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(ee,j,k,K);else for(var ut=ee.length-1;ut>=0;ut--)(Ve=ee[ut])&&(xe=(ue<3?Ve(xe):ue>3?Ve(j,k,xe):Ve(j,k))||xe);return ue>3&&xe&&Object.defineProperty(j,k,xe),xe},Bi=function(ee,j){return function(k,K){j(k,K,ee)}},Gi=Object(lt.c)("listService"),Gr=function(){function ee(){Object(_.a)(this,ee),this.disposables=new B.c,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}return Object(Y.a)(ee,[{key:"lastFocusedList",get:function(){return this._lastFocusedWidget}},{key:"setLastFocusedList",value:function(k){var K,ue;k!==this._lastFocusedWidget&&((K=this._lastFocusedWidget)===null||K===void 0||K.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=k,(ue=this._lastFocusedWidget)===null||ue===void 0||ue.getHTMLElement().classList.add("last-focused"))}},{key:"register",value:function(k,K){var ue=this;if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;var xe=new W.a(Object(E.createStyleSheet)(),"");xe.style(Ji.f)}if(this.lists.some(function(ut){return ut.widget===k}))throw new Error("Cannot register the same widget multiple times");var Ve={widget:k,extraContextKeys:K};return this.lists.push(Ve),k.getHTMLElement()===document.activeElement&&this.setLastFocusedList(k),Object(B.h)(k.onDidFocus(function(){return ue.setLastFocusedList(k)}),Object(B.l)(function(){return ue.lists.splice(ue.lists.indexOf(Ve),1)}),k.onDidDispose(function(){ue.lists=ue.lists.filter(function(ut){return ut!==Ve}),ue._lastFocusedWidget===k&&ue.setLastFocusedList(void 0)}))}},{key:"dispose",value:function(){this.disposables.dispose()}}]),ee}(),kr=new Zt.c("listFocus",!0),sa=new Zt.c("listSupportsMultiselect",!0),Fr=Zt.a.and(kr,Zt.a.not(hn.a)),ua=new Zt.c("listHasSelectionOrFocus",!1),pn=new Zt.c("listDoubleSelection",!1),Ln=new Zt.c("listMultiSelection",!1),ct=new Zt.c("listSelectionNavigation",!1),Mt=new Zt.c("listSupportsFind",!0),At=new Zt.c("treeElementCanCollapse",!1),zt=new Zt.c("treeElementHasParent",!1),$t=new Zt.c("treeElementCanExpand",!1),Un=new Zt.c("treeElementHasChild",!1),Vn=new Zt.c("treeFindOpen",!1),Gn="listTypeNavigationMode",oi="listAutomaticKeyboardNavigation";function _i(ee,j){var k=ee.createScoped(j.getHTMLElement());return kr.bindTo(k),k}var Cn="workbench.list.multiSelectModifier",ui="workbench.list.openMode",Si="workbench.list.horizontalScrolling",Ui="workbench.list.defaultFindMode",Lr="workbench.list.typeNavigationMode",or="workbench.list.keyboardNavigation",Er="workbench.list.scrollByPage",vr="workbench.list.defaultFindMatchType",on="workbench.tree.indent",Wn="workbench.tree.renderIndentGuides",Zn="workbench.list.smoothScrolling",Li="workbench.list.mouseWheelScrollSensitivity",_r="workbench.list.fastScrollSensitivity",Nr="workbench.tree.expandMode";function $i(ee){return ee.getValue(Cn)==="alt"}var Jr=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K){var ue;return Object(_.a)(this,k),ue=j.call(this),ue.configurationService=K,ue.useAltAsMultipleSelectionModifier=$i(K),ue.registerListeners(),ue}return Object(Y.a)(k,[{key:"registerListeners",value:function(){var ue=this;this._register(this.configurationService.onDidChangeConfiguration(function(xe){xe.affectsConfiguration(Cn)&&(ue.useAltAsMultipleSelectionModifier=$i(ue.configurationService))}))}},{key:"isSelectionSingleChangeEvent",value:function(ue){return this.useAltAsMultipleSelectionModifier?ue.browserEvent.altKey:Object(W.i)(ue)}},{key:"isSelectionRangeChangeEvent",value:function(ue){return Object(W.h)(ue)}}]),k}(B.a);function ja(ee,j){var k,K=ee.get(nt.a),ue=ee.get(si.a),xe=new B.c,Ve=Object.assign(Object.assign({},j),{keyboardNavigationDelegate:{mightProducePrintableCharacter:function(_t){return ue.mightProducePrintableCharacter(_t)}},smoothScrolling:Boolean(K.getValue(Zn)),mouseWheelScrollSensitivity:K.getValue(Li),fastScrollSensitivity:K.getValue(_r),multipleSelectionController:(k=j.multipleSelectionController)!==null&&k!==void 0?k:xe.add(new Jr(K)),keyboardNavigationEventFilter:Go(ue),scrollByPage:Boolean(K.getValue(Er))});return[Ve,xe]}var $r=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve,ut,_t,xt,un,ln){var nn;Object(_.a)(this,k);var bn=typeof ut.horizontalScrolling!="undefined"?ut.horizontalScrolling:Boolean(un.getValue(Si)),An=ln.invokeFunction(ja,ut),It=Object(we.a)(An,2),er=It[0],Mi=It[1];nn=j.call(this,K,ue,xe,Ve,Object.assign(Object.assign({keyboardSupport:!1},er),{horizontalScrolling:bn})),nn.disposables.add(Mi),nn.contextKeyService=_i(_t,Object(w.a)(nn)),nn.listSupportsMultiSelect=sa.bindTo(nn.contextKeyService),nn.listSupportsMultiSelect.set(ut.multipleSelectionSupport!==!1);var wr=ct.bindTo(nn.contextKeyService);return wr.set(Boolean(ut.selectionNavigation)),nn.listHasSelectionOrFocus=ua.bindTo(nn.contextKeyService),nn.listDoubleSelection=pn.bindTo(nn.contextKeyService),nn.listMultiSelection=Ln.bindTo(nn.contextKeyService),nn.horizontalScrolling=ut.horizontalScrolling,nn._useAltAsMultipleSelectionModifier=$i(un),nn.disposables.add(nn.contextKeyService),nn.disposables.add(xt.register(Object(w.a)(nn))),nn.updateStyles(ut.overrideStyles),nn.disposables.add(nn.onDidChangeSelection(function(){var hr=nn.getSelection(),xi=nn.getFocus();nn.contextKeyService.bufferChangeEvents(function(){nn.listHasSelectionOrFocus.set(hr.length>0||xi.length>0),nn.listMultiSelection.set(hr.length>1),nn.listDoubleSelection.set(hr.length===2)})})),nn.disposables.add(nn.onDidChangeFocus(function(){var hr=nn.getSelection(),xi=nn.getFocus();nn.listHasSelectionOrFocus.set(hr.length>0||xi.length>0)})),nn.disposables.add(un.onDidChangeConfiguration(function(hr){hr.affectsConfiguration(Cn)&&(nn._useAltAsMultipleSelectionModifier=$i(un));var xi={};if(hr.affectsConfiguration(Si)&&nn.horizontalScrolling===void 0){var Ar=Boolean(un.getValue(Si));xi=Object.assign(Object.assign({},xi),{horizontalScrolling:Ar})}if(hr.affectsConfiguration(Er)){var zr=Boolean(un.getValue(Er));xi=Object.assign(Object.assign({},xi),{scrollByPage:zr})}if(hr.affectsConfiguration(Zn)){var Tr=Boolean(un.getValue(Zn));xi=Object.assign(Object.assign({},xi),{smoothScrolling:Tr})}if(hr.affectsConfiguration(Li)){var ba=un.getValue(Li);xi=Object.assign(Object.assign({},xi),{mouseWheelScrollSensitivity:ba})}if(hr.affectsConfiguration(_r)){var Sa=un.getValue(_r);xi=Object.assign(Object.assign({},xi),{fastScrollSensitivity:Sa})}Object.keys(xi).length>0&&nn.updateOptions(xi)})),nn.navigator=new ws(Object(w.a)(nn),Object.assign({configurationService:un},ut)),nn.disposables.add(nn.navigator),nn}return Object(Y.a)(k,[{key:"updateOptions",value:function(ue){Object(ve.a)(Object(se.a)(k.prototype),"updateOptions",this).call(this,ue),ue.overrideStyles!==void 0&&this.updateStyles(ue.overrideStyles),ue.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!ue.multipleSelectionSupport)}},{key:"updateStyles",value:function(ue){this.style(ue?Object(Ji.k)(ue):Ji.f)}}]),k}(W.b);$r=Yi([Bi(5,Zt.b),Bi(6,Gi),Bi(7,nt.a),Bi(8,lt.a)],$r);var Ra=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve,ut,_t,xt,un,ln){var nn;Object(_.a)(this,k);var bn=typeof ut.horizontalScrolling!="undefined"?ut.horizontalScrolling:Boolean(un.getValue(Si)),An=ln.invokeFunction(ja,ut),It=Object(we.a)(An,2),er=It[0],Mi=It[1];nn=j.call(this,K,ue,xe,Ve,Object.assign(Object.assign({keyboardSupport:!1},er),{horizontalScrolling:bn})),nn.disposables=new B.c,nn.disposables.add(Mi),nn.contextKeyService=_i(_t,Object(w.a)(nn)),nn.horizontalScrolling=ut.horizontalScrolling,nn.listSupportsMultiSelect=sa.bindTo(nn.contextKeyService),nn.listSupportsMultiSelect.set(ut.multipleSelectionSupport!==!1);var wr=ct.bindTo(nn.contextKeyService);return wr.set(Boolean(ut.selectionNavigation)),nn._useAltAsMultipleSelectionModifier=$i(un),nn.disposables.add(nn.contextKeyService),nn.disposables.add(xt.register(Object(w.a)(nn))),nn.updateStyles(ut.overrideStyles),nn.disposables.add(un.onDidChangeConfiguration(function(hr){hr.affectsConfiguration(Cn)&&(nn._useAltAsMultipleSelectionModifier=$i(un));var xi={};if(hr.affectsConfiguration(Si)&&nn.horizontalScrolling===void 0){var Ar=Boolean(un.getValue(Si));xi=Object.assign(Object.assign({},xi),{horizontalScrolling:Ar})}if(hr.affectsConfiguration(Er)){var zr=Boolean(un.getValue(Er));xi=Object.assign(Object.assign({},xi),{scrollByPage:zr})}if(hr.affectsConfiguration(Zn)){var Tr=Boolean(un.getValue(Zn));xi=Object.assign(Object.assign({},xi),{smoothScrolling:Tr})}if(hr.affectsConfiguration(Li)){var ba=un.getValue(Li);xi=Object.assign(Object.assign({},xi),{mouseWheelScrollSensitivity:ba})}if(hr.affectsConfiguration(_r)){var Sa=un.getValue(_r);xi=Object.assign(Object.assign({},xi),{fastScrollSensitivity:Sa})}Object.keys(xi).length>0&&nn.updateOptions(xi)})),nn.navigator=new ws(Object(w.a)(nn),Object.assign({configurationService:un},ut)),nn.disposables.add(nn.navigator),nn}return Object(Y.a)(k,[{key:"updateOptions",value:function(ue){Object(ve.a)(Object(se.a)(k.prototype),"updateOptions",this).call(this,ue),ue.overrideStyles!==void 0&&this.updateStyles(ue.overrideStyles),ue.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!ue.multipleSelectionSupport)}},{key:"updateStyles",value:function(ue){this.style(ue?Object(Ji.k)(ue):Ji.f)}},{key:"dispose",value:function(){this.disposables.dispose(),Object(ve.a)(Object(se.a)(k.prototype),"dispose",this).call(this)}}]),k}(D);Ra=Yi([Bi(5,Zt.b),Bi(6,Gi),Bi(7,nt.a),Bi(8,lt.a)],Ra);var Ua=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve,ut,_t,xt,un,ln,nn){var bn;Object(_.a)(this,k);var An=typeof _t.horizontalScrolling!="undefined"?_t.horizontalScrolling:Boolean(ln.getValue(Si)),It=nn.invokeFunction(ja,_t),er=Object(we.a)(It,2),Mi=er[0],wr=er[1];bn=j.call(this,K,ue,xe,Ve,ut,Object.assign(Object.assign({keyboardSupport:!1},Mi),{horizontalScrolling:An})),bn.disposables.add(wr),bn.contextKeyService=_i(xt,Object(w.a)(bn)),bn.listSupportsMultiSelect=sa.bindTo(bn.contextKeyService),bn.listSupportsMultiSelect.set(_t.multipleSelectionSupport!==!1);var hr=ct.bindTo(bn.contextKeyService);return hr.set(Boolean(_t.selectionNavigation)),bn.listHasSelectionOrFocus=ua.bindTo(bn.contextKeyService),bn.listDoubleSelection=pn.bindTo(bn.contextKeyService),bn.listMultiSelection=Ln.bindTo(bn.contextKeyService),bn.horizontalScrolling=_t.horizontalScrolling,bn._useAltAsMultipleSelectionModifier=$i(ln),bn.disposables.add(bn.contextKeyService),bn.disposables.add(un.register(Object(w.a)(bn))),bn.updateStyles(_t.overrideStyles),bn.disposables.add(bn.onDidChangeSelection(function(){var xi=bn.getSelection(),Ar=bn.getFocus();bn.contextKeyService.bufferChangeEvents(function(){bn.listHasSelectionOrFocus.set(xi.length>0||Ar.length>0),bn.listMultiSelection.set(xi.length>1),bn.listDoubleSelection.set(xi.length===2)})})),bn.disposables.add(bn.onDidChangeFocus(function(){var xi=bn.getSelection(),Ar=bn.getFocus();bn.listHasSelectionOrFocus.set(xi.length>0||Ar.length>0)})),bn.disposables.add(ln.onDidChangeConfiguration(function(xi){xi.affectsConfiguration(Cn)&&(bn._useAltAsMultipleSelectionModifier=$i(ln));var Ar={};if(xi.affectsConfiguration(Si)&&bn.horizontalScrolling===void 0){var zr=Boolean(ln.getValue(Si));Ar=Object.assign(Object.assign({},Ar),{horizontalScrolling:zr})}if(xi.affectsConfiguration(Er)){var Tr=Boolean(ln.getValue(Er));Ar=Object.assign(Object.assign({},Ar),{scrollByPage:Tr})}if(xi.affectsConfiguration(Zn)){var ba=Boolean(ln.getValue(Zn));Ar=Object.assign(Object.assign({},Ar),{smoothScrolling:ba})}if(xi.affectsConfiguration(Li)){var Sa=ln.getValue(Li);Ar=Object.assign(Object.assign({},Ar),{mouseWheelScrollSensitivity:Sa})}if(xi.affectsConfiguration(_r)){var Va=ln.getValue(_r);Ar=Object.assign(Object.assign({},Ar),{fastScrollSensitivity:Va})}Object.keys(Ar).length>0&&bn.updateOptions(Ar)})),bn.navigator=new Zr(Object(w.a)(bn),Object.assign({configurationService:ln},_t)),bn.disposables.add(bn.navigator),bn}return Object(Y.a)(k,[{key:"updateOptions",value:function(ue){Object(ve.a)(Object(se.a)(k.prototype),"updateOptions",this).call(this,ue),ue.overrideStyles!==void 0&&this.updateStyles(ue.overrideStyles),ue.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!ue.multipleSelectionSupport)}},{key:"updateStyles",value:function(ue){this.style(ue?Object(Ji.k)(ue):Ji.f)}},{key:"dispose",value:function(){this.disposables.dispose(),Object(ve.a)(Object(se.a)(k.prototype),"dispose",this).call(this)}}]),k}(pe);Ua=Yi([Bi(6,Zt.b),Bi(7,Gi),Bi(8,nt.a),Bi(9,lt.a)],Ua);var Ka=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue){var xe;Object(_.a)(this,k);var Ve;return xe=j.call(this),xe.widget=K,xe._onDidOpen=xe._register(new V.b),xe.onDidOpen=xe._onDidOpen.event,xe._register(V.c.filter(xe.widget.onDidChangeSelection,function(ut){return ut.browserEvent instanceof KeyboardEvent})(function(ut){return xe.onSelectionFromKeyboard(ut)})),xe._register(xe.widget.onPointer(function(ut){return xe.onPointer(ut.element,ut.browserEvent)})),xe._register(xe.widget.onMouseDblClick(function(ut){return xe.onMouseDblClick(ut.element,ut.browserEvent)})),typeof(ue==null?void 0:ue.openOnSingleClick)!="boolean"&&(ue==null?void 0:ue.configurationService)?(xe.openOnSingleClick=(ue==null?void 0:ue.configurationService.getValue(ui))!=="doubleClick",xe._register(ue==null?void 0:ue.configurationService.onDidChangeConfiguration(function(ut){ut.affectsConfiguration(ui)&&(xe.openOnSingleClick=(ue==null?void 0:ue.configurationService.getValue(ui))!=="doubleClick")}))):xe.openOnSingleClick=(Ve=ue==null?void 0:ue.openOnSingleClick)!==null&&Ve!==void 0?Ve:!0,xe}return Object(Y.a)(k,[{key:"onSelectionFromKeyboard",value:function(ue){if(ue.elements.length===1){var xe=ue.browserEvent,Ve=typeof xe.preserveFocus=="boolean"?xe.preserveFocus:!0,ut=typeof xe.pinned=="boolean"?xe.pinned:!Ve,_t=!1;this._open(this.getSelectedElement(),Ve,ut,_t,ue.browserEvent)}}},{key:"onPointer",value:function(ue,xe){if(!!this.openOnSingleClick){var Ve=xe.detail===2;if(!Ve){var ut=xe.button===1,_t=!0,xt=ut,un=xe.ctrlKey||xe.metaKey||xe.altKey;this._open(ue,_t,xt,un,xe)}}}},{key:"onMouseDblClick",value:function(ue,xe){if(!!xe){var Ve=xe.target,ut=Ve.classList.contains("monaco-tl-twistie")||Ve.classList.contains("monaco-icon-label")&&Ve.classList.contains("folder-icon")&&xe.offsetX<16;if(!ut){var _t=!1,xt=!0,un=xe.ctrlKey||xe.metaKey||xe.altKey;this._open(ue,_t,xt,un,xe)}}}},{key:"_open",value:function(ue,xe,Ve,ut,_t){!ue||this._onDidOpen.fire({editorOptions:{preserveFocus:xe,pinned:Ve,revealIfVisible:!0},sideBySide:ut,element:ue,browserEvent:_t})}}]),k}(B.a),ws=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue){var xe;return Object(_.a)(this,k),xe=j.call(this,K,ue),xe.widget=K,xe}return Object(Y.a)(k,[{key:"getSelectedElement",value:function(){return this.widget.getSelectedElements()[0]}}]),k}(Ka),Zr=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue){return Object(_.a)(this,k),j.call(this,K,ue)}return Object(Y.a)(k,[{key:"getSelectedElement",value:function(){return this.widget.getSelectedElements()[0]}}]),k}(Ka),Xa=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue){return Object(_.a)(this,k),j.call(this,K,ue)}return Object(Y.a)(k,[{key:"getSelectedElement",value:function(){var ue;return(ue=this.widget.getSelection()[0])!==null&&ue!==void 0?ue:void 0}}]),k}(Ka);function Go(ee){var j=!1;return function(k){if(k.toKeyCodeChord().isModifierKey())return!1;if(j)return j=!1,!1;var K=ee.softDispatch(k,k.target);return K.kind===1?(j=!0,!1):(j=!1,K.kind===0)}}var lo=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve,ut,_t,xt,un,ln){var nn;Object(_.a)(this,k);var bn=_t.invokeFunction(Rt,ut),An=bn.options,It=bn.getTypeNavigationMode,er=bn.disposable;return nn=j.call(this,K,ue,xe,Ve,An),nn.disposables.add(er),nn.internals=new tt(Object(w.a)(nn),ut,It,ut.overrideStyles,xt,un,ln),nn.disposables.add(nn.internals),nn}return Object(Y.a)(k,[{key:"updateOptions",value:function(ue){Object(ve.a)(Object(se.a)(k.prototype),"updateOptions",this).call(this,ue),this.internals.updateOptions(ue)}}]),k}(Qn);lo=Yi([Bi(5,lt.a),Bi(6,Zt.b),Bi(7,Gi),Bi(8,nt.a)],lo);var qo=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve,ut,_t,xt,un,ln){var nn;Object(_.a)(this,k);var bn=_t.invokeFunction(Rt,ut),An=bn.options,It=bn.getTypeNavigationMode,er=bn.disposable;return nn=j.call(this,K,ue,xe,Ve,An),nn.disposables.add(er),nn.internals=new tt(Object(w.a)(nn),ut,It,ut.overrideStyles,xt,un,ln),nn.disposables.add(nn.internals),nn}return Object(Y.a)(k,[{key:"updateOptions",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object(ve.a)(Object(se.a)(k.prototype),"updateOptions",this).call(this,ue),ue.overrideStyles&&this.internals.updateStyleOverrides(ue.overrideStyles),this.internals.updateOptions(ue)}}]),k}(yt);qo=Yi([Bi(5,lt.a),Bi(6,Zt.b),Bi(7,Gi),Bi(8,nt.a)],qo);var _a=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve,ut,_t,xt,un,ln,nn){var bn;Object(_.a)(this,k);var An=xt.invokeFunction(Rt,_t),It=An.options,er=An.getTypeNavigationMode,Mi=An.disposable;return bn=j.call(this,K,ue,xe,Ve,ut,It),bn.disposables.add(Mi),bn.internals=new tt(Object(w.a)(bn),_t,er,_t.overrideStyles,un,ln,nn),bn.disposables.add(bn.internals),bn}return Object(Y.a)(k,[{key:"updateOptions",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object(ve.a)(Object(se.a)(k.prototype),"updateOptions",this).call(this,ue),ue.overrideStyles!==void 0&&this.internals.updateStyleOverrides(ue.overrideStyles),this.internals.updateOptions(ue)}}]),k}(vn);_a=Yi([Bi(6,lt.a),Bi(7,Zt.b),Bi(8,Gi),Bi(9,nt.a)],_a);var la=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve,ut,_t,xt,un,ln,nn){var bn;Object(_.a)(this,k);var An=xt.invokeFunction(Rt,_t),It=An.options,er=An.getTypeNavigationMode,Mi=An.disposable;return bn=j.call(this,K,ue,xe,Ve,ut,It),bn.disposables.add(Mi),bn.internals=new tt(Object(w.a)(bn),_t,er,_t.overrideStyles,un,ln,nn),bn.disposables.add(bn.internals),bn}return Object(Y.a)(k,[{key:"onDidOpen",get:function(){return this.internals.onDidOpen}},{key:"updateOptions",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object(ve.a)(Object(se.a)(k.prototype),"updateOptions",this).call(this,ue),ue.overrideStyles&&this.internals.updateStyleOverrides(ue.overrideStyles),this.internals.updateOptions(ue)}}]),k}(Kn);la=Yi([Bi(6,lt.a),Bi(7,Zt.b),Bi(8,Gi),Bi(9,nt.a)],la);var La=function(ee){Object(te.a)(k,ee);var j=Object($.a)(k);function k(K,ue,xe,Ve,ut,_t,xt,un,ln,nn,bn){var An;Object(_.a)(this,k);var It=un.invokeFunction(Rt,xt),er=It.options,Mi=It.getTypeNavigationMode,wr=It.disposable;return An=j.call(this,K,ue,xe,Ve,ut,_t,er),An.disposables.add(wr),An.internals=new tt(Object(w.a)(An),xt,Mi,xt.overrideStyles,ln,nn,bn),An.disposables.add(An.internals),An}return Object(Y.a)(k,[{key:"updateOptions",value:function(ue){Object(ve.a)(Object(se.a)(k.prototype),"updateOptions",this).call(this,ue),this.internals.updateOptions(ue)}}]),k}(mt);La=Yi([Bi(7,lt.a),Bi(8,Zt.b),Bi(9,Gi),Bi(10,nt.a)],La);function Ro(ee){var j=ee.getValue(Ui);if(j==="highlight")return Dt.Highlight;if(j==="filter")return Dt.Filter;var k=ee.getValue(or);if(k==="simple"||k==="highlight")return Dt.Highlight;if(k==="filter")return Dt.Filter}function $o(ee){var j=ee.getValue(vr);if(j==="fuzzy")return jn.Fuzzy;if(j==="contiguous")return jn.Contiguous}function Rt(ee,j){var k,K=ee.get(nt.a),ue=ee.get(Ht.b),xe=ee.get(Zt.b),Ve=ee.get(lt.a),ut=function(){var er=xe.getContextKeyValue(Gn);if(er==="automatic")return W.d.Automatic;if(er==="trigger")return W.d.Trigger;var Mi=xe.getContextKeyValue(oi);if(Mi===!1)return W.d.Trigger;var wr=K.getValue(Lr);if(wr==="automatic")return W.d.Automatic;if(wr==="trigger")return W.d.Trigger},_t=j.horizontalScrolling!==void 0?j.horizontalScrolling:Boolean(K.getValue(Si)),xt=Ve.invokeFunction(ja,j),un=Object(we.a)(xt,2),ln=un[0],nn=un[1],bn=j.additionalScrollHeight,An=j.renderIndentGuides!==void 0?j.renderIndentGuides:K.getValue(Wn);return{getTypeNavigationMode:ut,disposable:nn,options:Object.assign(Object.assign({keyboardSupport:!1},ln),{indent:typeof K.getValue(on)=="number"?K.getValue(on):void 0,renderIndentGuides:An,smoothScrolling:Boolean(K.getValue(Zn)),defaultFindMode:Ro(K),defaultFindMatchType:$o(K),horizontalScrolling:_t,scrollByPage:Boolean(K.getValue(Er)),additionalScrollHeight:bn,hideTwistiesOfChildlessElements:j.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(k=j.expandOnlyOnTwistieClick)!==null&&k!==void 0?k:K.getValue(Nr)==="doubleClick",contextViewProvider:ue,findWidgetStyles:Ji.c})}}var tt=function(){function ee(j,k,K,ue,xe,Ve,ut){var _t=this;Object(_.a)(this,ee);var xt;this.tree=j,this.disposables=[],this.contextKeyService=_i(xe,j),this.listSupportsMultiSelect=sa.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(k.multipleSelectionSupport!==!1);var un=ct.bindTo(this.contextKeyService);un.set(Boolean(k.selectionNavigation)),this.listSupportFindWidget=Mt.bindTo(this.contextKeyService),this.listSupportFindWidget.set((xt=k.findWidgetEnabled)!==null&&xt!==void 0?xt:!0),this.hasSelectionOrFocus=ua.bindTo(this.contextKeyService),this.hasDoubleSelection=pn.bindTo(this.contextKeyService),this.hasMultiSelection=Ln.bindTo(this.contextKeyService),this.treeElementCanCollapse=At.bindTo(this.contextKeyService),this.treeElementHasParent=zt.bindTo(this.contextKeyService),this.treeElementCanExpand=$t.bindTo(this.contextKeyService),this.treeElementHasChild=Un.bindTo(this.contextKeyService),this.treeFindOpen=Vn.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=$i(ut),this.updateStyleOverrides(ue);var ln=function(){var An=j.getFocus()[0];if(!!An){var It=j.getNode(An);_t.treeElementCanCollapse.set(It.collapsible&&!It.collapsed),_t.treeElementHasParent.set(!!j.getParentElement(An)),_t.treeElementCanExpand.set(It.collapsible&&It.collapsed),_t.treeElementHasChild.set(!!j.getFirstElementChild(An))}},nn=new Set;nn.add(Gn),nn.add(oi),this.disposables.push(this.contextKeyService,Ve.register(j),j.onDidChangeSelection(function(){var bn=j.getSelection(),An=j.getFocus();_t.contextKeyService.bufferChangeEvents(function(){_t.hasSelectionOrFocus.set(bn.length>0||An.length>0),_t.hasMultiSelection.set(bn.length>1),_t.hasDoubleSelection.set(bn.length===2)})}),j.onDidChangeFocus(function(){var bn=j.getSelection(),An=j.getFocus();_t.hasSelectionOrFocus.set(bn.length>0||An.length>0),ln()}),j.onDidChangeCollapseState(ln),j.onDidChangeModel(ln),j.onDidChangeFindOpenState(function(bn){return _t.treeFindOpen.set(bn)}),ut.onDidChangeConfiguration(function(bn){var An={};if(bn.affectsConfiguration(Cn)&&(_t._useAltAsMultipleSelectionModifier=$i(ut)),bn.affectsConfiguration(on)){var It=ut.getValue(on);An=Object.assign(Object.assign({},An),{indent:It})}if(bn.affectsConfiguration(Wn)&&k.renderIndentGuides===void 0){var er=ut.getValue(Wn);An=Object.assign(Object.assign({},An),{renderIndentGuides:er})}if(bn.affectsConfiguration(Zn)){var Mi=Boolean(ut.getValue(Zn));An=Object.assign(Object.assign({},An),{smoothScrolling:Mi})}if(bn.affectsConfiguration(Ui)||bn.affectsConfiguration(or)){var wr=Ro(ut);An=Object.assign(Object.assign({},An),{defaultFindMode:wr})}if(bn.affectsConfiguration(Lr)||bn.affectsConfiguration(or)){var hr=K();An=Object.assign(Object.assign({},An),{typeNavigationMode:hr})}if(bn.affectsConfiguration(vr)){var xi=$o(ut);An=Object.assign(Object.assign({},An),{defaultFindMatchType:xi})}if(bn.affectsConfiguration(Si)&&k.horizontalScrolling===void 0){var Ar=Boolean(ut.getValue(Si));An=Object.assign(Object.assign({},An),{horizontalScrolling:Ar})}if(bn.affectsConfiguration(Er)){var zr=Boolean(ut.getValue(Er));An=Object.assign(Object.assign({},An),{scrollByPage:zr})}if(bn.affectsConfiguration(Nr)&&k.expandOnlyOnTwistieClick===void 0&&(An=Object.assign(Object.assign({},An),{expandOnlyOnTwistieClick:ut.getValue(Nr)==="doubleClick"})),bn.affectsConfiguration(Li)){var Tr=ut.getValue(Li);An=Object.assign(Object.assign({},An),{mouseWheelScrollSensitivity:Tr})}if(bn.affectsConfiguration(_r)){var ba=ut.getValue(_r);An=Object.assign(Object.assign({},An),{fastScrollSensitivity:ba})}Object.keys(An).length>0&&j.updateOptions(An)}),this.contextKeyService.onDidChangeContext(function(bn){bn.affectsSome(nn)&&j.updateOptions({typeNavigationMode:K()})})),this.navigator=new Xa(j,Object.assign({configurationService:ut},k)),this.disposables.push(this.navigator)}return Object(Y.a)(ee,[{key:"onDidOpen",get:function(){return this.navigator.onDidOpen}},{key:"updateOptions",value:function(k){k.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!k.multipleSelectionSupport)}},{key:"updateStyleOverrides",value:function(k){this.tree.style(k?Object(Ji.k)(k):Ji.f)}},{key:"dispose",value:function(){this.disposables=Object(B.i)(this.disposables)}}]),ee}();tt=Yi([Bi(4,Zt.b),Bi(5,Gi),Bi(6,nt.a)],tt);var _e=Oi.a.as(Ze.a.Configuration);_e.registerConfiguration({id:"workbench",order:7,title:Object(Qe.b)("workbenchConfigurationTitle","Workbench"),type:"object",properties:(Wi={},Object(ce.a)(Wi,Cn,{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[Object(Qe.b)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),Object(Qe.b)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:Object(Qe.b)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")}),Object(ce.a)(Wi,ui,{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Object(Qe.b)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")}),Object(ce.a)(Wi,Si,{type:"boolean",default:!1,description:Object(Qe.b)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")}),Object(ce.a)(Wi,Er,{type:"boolean",default:!1,description:Object(Qe.b)("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")}),Object(ce.a)(Wi,on,{type:"number",default:8,minimum:4,maximum:40,description:Object(Qe.b)("tree indent setting","Controls tree indentation in pixels.")}),Object(ce.a)(Wi,Wn,{type:"string",enum:["none","onHover","always"],default:"onHover",description:Object(Qe.b)("render tree indent guides","Controls whether the tree should render indent guides.")}),Object(ce.a)(Wi,Zn,{type:"boolean",default:!1,description:Object(Qe.b)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")}),Object(ce.a)(Wi,Li,{type:"number",default:1,markdownDescription:Object(Qe.b)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")}),Object(ce.a)(Wi,_r,{type:"number",default:5,markdownDescription:Object(Qe.b)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")}),Object(ce.a)(Wi,Ui,{type:"string",enum:["highlight","filter"],enumDescriptions:[Object(Qe.b)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),Object(Qe.b)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:Object(Qe.b)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")}),Object(ce.a)(Wi,or,{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[Object(Qe.b)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),Object(Qe.b)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),Object(Qe.b)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:Object(Qe.b)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:Object(Qe.b)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")}),Object(ce.a)(Wi,vr,{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[Object(Qe.b)("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),Object(Qe.b)("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:Object(Qe.b)("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")}),Object(ce.a)(Wi,Nr,{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Object(Qe.b)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}),Object(ce.a)(Wi,Lr,{type:"string",enum:["automatic","trigger"],default:"automatic",description:Object(Qe.b)("typeNavigationMode","Controls the how type navigation works in lists and trees in the workbench. When set to 'trigger', type navigation begins once the 'list.triggerTypeNavigation' command is run.")}),Wi)})},"kVK+":function(mn,U){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */U.read=function(a,ce,we,w,ve){var se,te,$=ve*8-w-1,_=(1<<$)-1,Y=_>>1,E=-7,Z=we?ve-1:0,ne=we?-1:1,V=a[ce+Z];for(Z+=ne,se=V&(1<<-E)-1,V>>=-E,E+=$;E>0;se=se*256+a[ce+Z],Z+=ne,E-=8);for(te=se&(1<<-E)-1,se>>=-E,E+=w;E>0;te=te*256+a[ce+Z],Z+=ne,E-=8);if(se===0)se=1-Y;else{if(se===_)return te?NaN:(V?-1:1)*Infinity;te=te+Math.pow(2,w),se=se-Y}return(V?-1:1)*te*Math.pow(2,se-w)},U.write=function(a,ce,we,w,ve,se){var te,$,_,Y=se*8-ve-1,E=(1<<Y)-1,Z=E>>1,ne=ve===23?Math.pow(2,-24)-Math.pow(2,-77):0,V=w?0:se-1,B=w?1:-1,F=ce<0||ce===0&&1/ce<0?1:0;for(ce=Math.abs(ce),isNaN(ce)||ce===Infinity?($=isNaN(ce)?1:0,te=E):(te=Math.floor(Math.log(ce)/Math.LN2),ce*(_=Math.pow(2,-te))<1&&(te--,_*=2),te+Z>=1?ce+=ne/_:ce+=ne*Math.pow(2,1-Z),ce*_>=2&&(te++,_/=2),te+Z>=E?($=0,te=E):te+Z>=1?($=(ce*_-1)*Math.pow(2,ve),te=te+Z):($=ce*Math.pow(2,Z-1)*Math.pow(2,ve),te=0));ve>=8;a[we+V]=$&255,V+=B,$/=256,ve-=8);for(te=te<<ve|$,Y+=ve;Y>0;a[we+V]=te&255,V+=B,te/=256,Y-=8);a[we+V-B]|=F*128}},kXS7:function(mn,U,a){"use strict";a.d(U,"b",function(){return Z}),a.d(U,"a",function(){return ne});var ce=a("oBTY"),we=a("fWQN"),w=a("mtLc"),ve=a("yKVA"),se=a("879j"),te=a("G300"),$=a("T5lh"),_=a("MI8n"),Y=a("prHu"),E=a.n(Y),Z={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"},ne=function(V){Object(ve.a)(F,V);var B=Object(se.a)(F);function F(W){var N,H;Object(we.a)(this,F),H=B.call(this),H._onChange=H._register(new _.b),H.onChange=H._onChange.event,H._onKeyDown=H._register(new _.b),H.onKeyDown=H._onKeyDown.event,H._opts=W,H._checked=H._opts.isChecked;var d=["monaco-custom-toggle"];return H._opts.icon&&(H._icon=H._opts.icon,d.push.apply(d,Object(ce.a)($.a.asClassNameArray(H._icon)))),H._opts.actionClassName&&d.push.apply(d,Object(ce.a)(H._opts.actionClassName.split(" "))),H._checked&&d.push("checked"),H.domNode=document.createElement("div"),H.domNode.title=H._opts.title,(N=H.domNode.classList).add.apply(N,d),H._opts.notFocusable||(H.domNode.tabIndex=0),H.domNode.setAttribute("role","checkbox"),H.domNode.setAttribute("aria-checked",String(H._checked)),H.domNode.setAttribute("aria-label",H._opts.title),H.applyStyles(),H.onclick(H.domNode,function(D){H.enabled&&(H.checked=!H._checked,H._onChange.fire(!1),D.preventDefault())}),H._register(H.ignoreGesture(H.domNode)),H.onkeydown(H.domNode,function(D){if(D.keyCode===10||D.keyCode===3){H.checked=!H._checked,H._onChange.fire(!0),D.preventDefault(),D.stopPropagation();return}H._onKeyDown.fire(D)}),H}return Object(w.a)(F,[{key:"enabled",get:function(){return this.domNode.getAttribute("aria-disabled")!=="true"}},{key:"focus",value:function(){this.domNode.focus()}},{key:"checked",get:function(){return this._checked},set:function(N){this._checked=N,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}},{key:"width",value:function(){return 2+2+2+16}},{key:"applyStyles",value:function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}},{key:"enable",value:function(){this.domNode.setAttribute("aria-disabled",String(!1))}},{key:"disable",value:function(){this.domNode.setAttribute("aria-disabled",String(!0))}}]),F}(te.a)},"kw+w":function(mn,U,a){},l6qN:function(mn,U,a){},lEqV:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("modelService")},lKfe:function(mn,U,a){},lVKV:function(mn,U,a){},lkze:function(mn,U,a){"use strict";var ce=a("wx14"),we=a("ODXe"),w=a("dm2S"),ve=a("q1tI"),se=a.n(ve),te=a("2/Rp"),$=a("zvFY");function _(E){return!!(E&&!!E.then)}var Y=function(Z){var ne=ve.useRef(!1),V=ve.useRef(null),B=Object(w.a)(!1),F=Object(we.a)(B,2),W=F[0],N=F[1],H=Z.close,d=function(){H==null||H.apply(void 0,arguments)};ve.useEffect(function(){var I=null;return Z.autoFocus&&(I=setTimeout(function(){var de;(de=V.current)===null||de===void 0||de.focus()})),function(){I&&clearTimeout(I)}},[]);var D=function(de){!_(de)||(N(!0),de.then(function(){N(!1,!0),d.apply(void 0,arguments),ne.current=!1},function(pe){console.error(pe),N(!1,!0),ne.current=!1}))},C=function(de){var pe=Z.actionFn;if(!ne.current){if(ne.current=!0,!pe){d();return}var fe;if(Z.emitEvent){if(fe=pe(de),Z.quitOnNullishReturnValue&&!_(fe)){ne.current=!1,d(de);return}}else if(pe.length)fe=pe(H),ne.current=!1;else if(fe=pe(),!fe){d();return}D(fe)}},x=Z.type,O=Z.children,T=Z.prefixCls,z=Z.buttonProps;return ve.createElement(te.a,Object(ce.a)({},Object($.a)(x),{onClick:C,loading:W,prefixCls:T},z,{ref:V}),O)};U.a=Y},lnY3:function(mn,U,a){},lrmC:function(mn,U,a){},lwGy:function(mn,U,a){"use strict";a.d(U,"b",function(){return ve}),a.d(U,"c",function(){return se}),a.d(U,"a",function(){return te});var ce=a("fWQN"),we=a("mtLc"),w=[],ve=function(){function $(_,Y){Object(ce.a)(this,$),this.items=_,this.additionalItems=Y}return Object(we.a)($,[{key:"add",value:function(Y,E){var Z=E.getKey(Y),ne=Z>>5;if(ne===0){var V=1<<Z|this.items;return V===this.items?this:$.create(V,this.additionalItems)}ne--;for(var B=this.additionalItems.slice(0);B.length<ne;)B.push(0);return B[ne]|=1<<(Z&31),$.create(this.items,B)}},{key:"merge",value:function(Y){var E=this.items|Y.items;if(this.additionalItems===w&&Y.additionalItems===w)return E===this.items?this:E===Y.items?Y:$.create(E,w);for(var Z=[],ne=0;ne<Math.max(this.additionalItems.length,Y.additionalItems.length);ne++){var V=this.additionalItems[ne]||0,B=Y.additionalItems[ne]||0;Z.push(V|B)}return $.create(E,Z)}},{key:"intersects",value:function(Y){if((this.items&Y.items)!=0)return!0;for(var E=0;E<Math.min(this.additionalItems.length,Y.additionalItems.length);E++)if((this.additionalItems[E]&Y.additionalItems[E])!=0)return!0;return!1}}],[{key:"create",value:function(Y,E){if(Y<=128&&E.length===0){var Z=$.cache[Y];return Z||(Z=new $(Y,E),$.cache[Y]=Z),Z}return new $(Y,E)}},{key:"getEmpty",value:function(){return this.empty}}]),$}();ve.cache=new Array(129),ve.empty=ve.create(0,w);var se={getKey:function(_){return _}},te=function(){function $(){Object(ce.a)(this,$),this.items=new Map}return Object(we.a)($,[{key:"getKey",value:function(Y){var E=this.items.get(Y);return E===void 0&&(E=this.items.size,this.items.set(Y,E)),E}}]),$}()},mJFO:function(mn,U,a){"use strict";a.d(U,"a",function(){return E});var ce=a("mtLc"),we=a("fWQN"),w=a("LLum"),ve=a("JLfW"),se=a("cGHE"),te=a("aokT"),$=a("N0LK"),_=a("ZQYC"),Y=Object(ce.a)(function Z(ne,V,B){Object(we.a)(this,Z),this._cursorPositionBrand=void 0,this.lineNumber=ne,this.column=V,this.leftoverVisibleColumns=B}),E=function(){function Z(){Object(we.a)(this,Z)}return Object(ce.a)(Z,null,[{key:"leftPosition",value:function(V,B){if(B.column>V.getLineMinColumn(B.lineNumber))return B.delta(void 0,-$.N(V.getLineContent(B.lineNumber),B.column-1));if(B.lineNumber>1){var F=B.lineNumber-1;return new se.a(F,V.getLineMaxColumn(F))}else return B}},{key:"leftPositionAtomicSoftTabs",value:function(V,B,F){if(B.column<=V.getLineIndentColumn(B.lineNumber)){var W=V.getLineMinColumn(B.lineNumber),N=V.getLineContent(B.lineNumber),H=_.a.atomicPosition(N,B.column-1,F,0);if(H!==-1&&H+1>=W)return new se.a(B.lineNumber,H+1)}return this.leftPosition(V,B)}},{key:"left",value:function(V,B,F){var W=V.stickyTabStops?Z.leftPositionAtomicSoftTabs(B,F,V.tabSize):Z.leftPosition(B,F);return new Y(W.lineNumber,W.column,0)}},{key:"moveLeft",value:function(V,B,F,W,N){var H,d;if(F.hasSelection()&&!W)H=F.selection.startLineNumber,d=F.selection.startColumn;else{var D=F.position.delta(void 0,-(N-1)),C=B.normalizePosition(Z.clipPositionColumn(D,B),0),x=Z.left(V,B,C);H=x.lineNumber,d=x.column}return F.move(W,H,d,0)}},{key:"clipPositionColumn",value:function(V,B){return new se.a(V.lineNumber,Z.clipRange(V.column,B.getLineMinColumn(V.lineNumber),B.getLineMaxColumn(V.lineNumber)))}},{key:"clipRange",value:function(V,B,F){return V<B?B:V>F?F:V}},{key:"rightPosition",value:function(V,B,F){return F<V.getLineMaxColumn(B)?F=F+$.L(V.getLineContent(B),F-1):B<V.getLineCount()&&(B=B+1,F=V.getLineMinColumn(B)),new se.a(B,F)}},{key:"rightPositionAtomicSoftTabs",value:function(V,B,F,W,N){if(F<V.getLineIndentColumn(B)){var H=V.getLineContent(B),d=_.a.atomicPosition(H,F-1,W,1);if(d!==-1)return new se.a(B,d+1)}return this.rightPosition(V,B,F)}},{key:"right",value:function(V,B,F){var W=V.stickyTabStops?Z.rightPositionAtomicSoftTabs(B,F.lineNumber,F.column,V.tabSize,V.indentSize):Z.rightPosition(B,F.lineNumber,F.column);return new Y(W.lineNumber,W.column,0)}},{key:"moveRight",value:function(V,B,F,W,N){var H,d;if(F.hasSelection()&&!W)H=F.selection.endLineNumber,d=F.selection.endColumn;else{var D=F.position.delta(void 0,N-1),C=B.normalizePosition(Z.clipPositionColumn(D,B),1),x=Z.right(V,B,C);H=x.lineNumber,d=x.column}return F.move(W,H,d,0)}},{key:"vertical",value:function(V,B,F,W,N,H,d,D){var C=ve.a.visibleColumnFromColumn(B.getLineContent(F),W,V.tabSize)+N,x=B.getLineCount(),O=F===1&&W===1,T=F===x&&W===B.getLineMaxColumn(F),z=H<F?O:T;if(F=H,F<1?(F=1,d?W=B.getLineMinColumn(F):W=Math.min(B.getLineMaxColumn(F),W)):F>x?(F=x,d?W=B.getLineMaxColumn(F):W=Math.min(B.getLineMaxColumn(F),W)):W=V.columnFromVisibleColumn(B,F,C),z?N=0:N=C-ve.a.visibleColumnFromColumn(B.getLineContent(F),W,V.tabSize),D!==void 0){var I=new se.a(F,W),de=B.normalizePosition(I,D);N=N+(W-de.column),F=de.lineNumber,W=de.column}return new Y(F,W,N)}},{key:"down",value:function(V,B,F,W,N,H,d){return this.vertical(V,B,F,W,N,F+H,d,4)}},{key:"moveDown",value:function(V,B,F,W,N){var H,d;F.hasSelection()&&!W?(H=F.selection.endLineNumber,d=F.selection.endColumn):(H=F.position.lineNumber,d=F.position.column);var D=Z.down(V,B,H,d,F.leftoverVisibleColumns,N,!0);return F.move(W,D.lineNumber,D.column,D.leftoverVisibleColumns)}},{key:"translateDown",value:function(V,B,F){var W=F.selection,N=Z.down(V,B,W.selectionStartLineNumber,W.selectionStartColumn,F.selectionStartLeftoverVisibleColumns,1,!1),H=Z.down(V,B,W.positionLineNumber,W.positionColumn,F.leftoverVisibleColumns,1,!1);return new w.d(new te.a(N.lineNumber,N.column,N.lineNumber,N.column),0,N.leftoverVisibleColumns,new se.a(H.lineNumber,H.column),H.leftoverVisibleColumns)}},{key:"up",value:function(V,B,F,W,N,H,d){return this.vertical(V,B,F,W,N,F-H,d,3)}},{key:"moveUp",value:function(V,B,F,W,N){var H,d;F.hasSelection()&&!W?(H=F.selection.startLineNumber,d=F.selection.startColumn):(H=F.position.lineNumber,d=F.position.column);var D=Z.up(V,B,H,d,F.leftoverVisibleColumns,N,!0);return F.move(W,D.lineNumber,D.column,D.leftoverVisibleColumns)}},{key:"translateUp",value:function(V,B,F){var W=F.selection,N=Z.up(V,B,W.selectionStartLineNumber,W.selectionStartColumn,F.selectionStartLeftoverVisibleColumns,1,!1),H=Z.up(V,B,W.positionLineNumber,W.positionColumn,F.leftoverVisibleColumns,1,!1);return new w.d(new te.a(N.lineNumber,N.column,N.lineNumber,N.column),0,N.leftoverVisibleColumns,new se.a(H.lineNumber,H.column),H.leftoverVisibleColumns)}},{key:"_isBlankLine",value:function(V,B){return V.getLineFirstNonWhitespaceColumn(B)===0}},{key:"moveToPrevBlankLine",value:function(V,B,F,W){for(var N=F.position.lineNumber;N>1&&this._isBlankLine(B,N);)N--;for(;N>1&&!this._isBlankLine(B,N);)N--;return F.move(W,N,B.getLineMinColumn(N),0)}},{key:"moveToNextBlankLine",value:function(V,B,F,W){for(var N=B.getLineCount(),H=F.position.lineNumber;H<N&&this._isBlankLine(B,H);)H++;for(;H<N&&!this._isBlankLine(B,H);)H++;return F.move(W,H,B.getLineMinColumn(H),0)}},{key:"moveToBeginningOfLine",value:function(V,B,F,W){var N=F.position.lineNumber,H=B.getLineMinColumn(N),d=B.getLineFirstNonWhitespaceColumn(N)||H,D,C=F.position.column;return C===d?D=H:D=d,F.move(W,N,D,0)}},{key:"moveToEndOfLine",value:function(V,B,F,W,N){var H=F.position.lineNumber,d=B.getLineMaxColumn(H);return F.move(W,H,d,N?1073741824-d:0)}},{key:"moveToBeginningOfBuffer",value:function(V,B,F,W){return F.move(W,1,1,0)}},{key:"moveToEndOfBuffer",value:function(V,B,F,W){var N=B.getLineCount(),H=B.getLineMaxColumn(N);return F.move(W,N,H,0)}}]),Z}()},ml8V:function(mn,U,a){},mzd2:function(mn,U,a){"use strict";a.d(U,"d",function(){return Ce}),a.d(U,"c",function(){return ye}),a.d(U,"b",function(){return ze});var ce=a("miYZ"),we=a("tsqr"),w=a("EFp3"),ve=a("+L6B"),se=a("Q9mQ"),te=a("sE09"),$=a("wx14"),_=a("ODXe"),Y=a("IMoZ"),E=a("TSYQ"),Z=a.n(E),ne=a("6cGi"),V=a("4IlW"),B=a("q1tI"),F=a("H84U"),W=a("diRs"),N=a("0n0R"),H=a("2/Rp"),d=a("zvFY"),D=a("lkze"),C=a("YMnH"),x=a("ZvpZ"),O=a("bogI"),T=function(Je){var ft=Je.prefixCls,qt=Je.okButtonProps,bt=Je.cancelButtonProps,Bt=Je.title,rn=Je.cancelText,an=Je.okText,In=Je.okType,Dt=Je.icon,jn=Je.showCancel,_n=jn===void 0?!0:jn,Nn=Je.close,ei=Je.onConfirm,kn=Je.onCancel,Pn=B.useContext(F.b),qi=Pn.getPrefixCls;return B.createElement(C.a,{componentName:"Popconfirm",defaultLocale:x.a.Popconfirm},function(gi){return B.createElement("div",{className:"".concat(ft,"-inner-content")},B.createElement("div",{className:"".concat(ft,"-message")},Dt&&B.createElement("span",{className:"".concat(ft,"-message-icon")},Dt),B.createElement("div",{className:"".concat(ft,"-message-title")},Object(O.a)(Bt))),B.createElement("div",{className:"".concat(ft,"-buttons")},_n&&B.createElement(H.a,Object($.a)({onClick:kn,size:"small"},bt),rn!=null?rn:gi.cancelText),B.createElement(D.a,{buttonProps:Object($.a)(Object($.a)({size:"small"},Object(d.a)(In)),qt),actionFn:ei,close:Nn,prefixCls:qi("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},an!=null?an:gi.okText)))})},z=void 0,I=function(Ge,Je){var ft={};for(var qt in Ge)Object.prototype.hasOwnProperty.call(Ge,qt)&&Je.indexOf(qt)<0&&(ft[qt]=Ge[qt]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bt=0,qt=Object.getOwnPropertySymbols(Ge);bt<qt.length;bt++)Je.indexOf(qt[bt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,qt[bt])&&(ft[qt[bt]]=Ge[qt[bt]]);return ft},de=B.forwardRef(function(Ge,Je){var ft=B.useContext(F.b),qt=ft.getPrefixCls,bt=Object(ne.a)(!1,{value:Ge.open!==void 0?Ge.open:Ge.visible,defaultValue:Ge.defaultOpen!==void 0?Ge.defaultOpen:Ge.defaultVisible}),Bt=Object(_.a)(bt,2),rn=Bt[0],an=Bt[1],In=function(Dn,gn){var en,yn;an(Dn,!0),(en=Ge.onVisibleChange)===null||en===void 0||en.call(Ge,Dn,gn),(yn=Ge.onOpenChange)===null||yn===void 0||yn.call(Ge,Dn,gn)},Dt=function(Dn){In(!1,Dn)},jn=function(Dn){var gn;return(gn=Ge.onConfirm)===null||gn===void 0?void 0:gn.call(z,Dn)},_n=function(Dn){var gn;In(!1,Dn),(gn=Ge.onCancel)===null||gn===void 0||gn.call(z,Dn)},Nn=function(Dn){Dn.keyCode===V.a.ESC&&rn&&In(!1,Dn)},ei=function(Dn){var gn=Ge.disabled,en=gn===void 0?!1:gn;en||In(Dn)},kn=Ge.prefixCls,Pn=Ge.placement,qi=Pn===void 0?"top":Pn,gi=Ge.trigger,ir=gi===void 0?"click":gi,yi=Ge.okType,mi=yi===void 0?"primary":yi,gr=Ge.icon,zn=gr===void 0?B.createElement(Y.a,null):gr,Ki=Ge.children,Bn=Ge.overlayClassName,ai=I(Ge,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),dn=qt("popover",kn),Jn=qt("popconfirm",kn),Yt=Z()(Jn,Bn);return B.createElement(W.a,Object($.a)({},ai,{trigger:ir,prefixCls:dn,placement:qi,onOpenChange:ei,open:rn,ref:Je,overlayClassName:Yt,_overlay:B.createElement(T,Object($.a)({okType:mi,icon:zn},Ge,{prefixCls:dn,close:Dt,onConfirm:jn,onCancel:_n}))}),Object(N.a)(Ki,{onKeyDown:function(Dn){var gn,en;B.isValidElement(Ki)&&((en=Ki==null?void 0:(gn=Ki.props).onKeyDown)===null||en===void 0||en.call(gn,Dn)),Nn(Dn)}}))}),pe=de,fe=a("x+uP"),ke=a("T5bk"),A=a("HaE+"),P=a("y8nQ"),G=a("Vl3Y"),re=a("rePB"),ae=a("KQm4"),Q=a("Ff2n"),J=a("VTBJ"),me=a("U8pU"),ge=a("nKUr"),L=a("ye1Q"),De=a("LQCs"),Ae=a("YWTS"),Oe=a("ub+h"),Pe=a("bG1m"),Ne=a("Kwbf"),Fe=a("+i8S"),Xe=a("HBdL"),Et=a("wUu8"),Ft=a("g5r2"),Ot=a("ft2k"),pt=a("/PRe"),Lt=a("9mHw"),et=["map_row_parentKey"],Vt=["map_row_parentKey","map_row_key"],Re=["map_row_key"],Ce=function(Je){return Array.isArray(Je)?Je.join(","):Je};function ye(Ge,Je){var ft,qt=Ge.getRowKey,bt=Ge.row,Bt=Ge.data,rn=Ge.childrenColumnName,an=(ft=Ce(Ge.key))===null||ft===void 0?void 0:ft.toString(),In=new Map;function Dt(_n,Nn,ei){_n.forEach(function(kn,Pn){var qi=(ei||0)*10+Pn,gi=qt(kn,qi).toString();kn&&Object(me.a)(kn)==="object"&&rn in kn&&Dt(kn[rn]||[],gi,qi);var ir=Object(J.a)(Object(J.a)({},kn),{},{map_row_key:gi,children:void 0,map_row_parentKey:Nn});delete ir.children,Nn||delete ir.map_row_parentKey,In.set(gi,ir)})}Je==="top"&&In.set(an,Object(J.a)(Object(J.a)({},In.get(an)),bt)),Dt(Bt),Je==="update"&&In.set(an,Object(J.a)(Object(J.a)({},In.get(an)),bt)),Je==="delete"&&In.delete(an);var jn=function(Nn){var ei=new Map,kn=[],Pn=function(){Nn.forEach(function(gi){if(gi.map_row_parentKey&&!gi.map_row_key){var ir=gi.map_row_parentKey,yi=Object(Q.a)(gi,et);ei.set(ir,[].concat(Object(ae.a)(ei.get(ir)||[]),[yi]))}})};return Je==="top"&&Pn(),Nn.forEach(function(qi){if(qi.map_row_parentKey&&qi.map_row_key){var gi=qi.map_row_parentKey,ir=qi.map_row_key,yi=Object(Q.a)(qi,Vt);ei.has(ir)&&(yi[rn]=ei.get(ir)),ei.set(gi,[].concat(Object(ae.a)(ei.get(gi)||[]),[yi]))}}),Je==="update"&&Pn(),Nn.forEach(function(qi){if(!qi.map_row_parentKey){var gi=qi.map_row_key,ir=Object(Q.a)(qi,Re);if(gi&&ei.has(gi)){var yi=Object(J.a)(Object(J.a)({},ir),{},Object(re.a)({},rn,ei.get(gi)));kn.push(yi);return}kn.push(ir)}}),kn};return jn(In)}function Te(Ge){var Je=Ge.recordKey,ft=Ge.onSave,qt=Ge.row,bt=Ge.children,Bt=Ge.newLineConfig,rn=Ge.editorType,an=Ge.tableName,In=Object(B.useContext)(Et.a),Dt=G.a.useFormInstance(),jn=Object(Lt.a)(!1),_n=Object(_.a)(jn,2),Nn=_n[0],ei=_n[1];return Object(ge.jsxs)("a",{onClick:function(){var kn=Object(A.a)(Object(fe.a)().mark(function qi(gi){var ir,yi,mi,gr,zn,Ki,Bn,ai,dn;return Object(fe.a)().wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:return gi.stopPropagation(),gi.preventDefault(),Yt.prev=2,yi=rn==="Map",mi=[an,Array.isArray(Je)?Je[0]:Je].map(function(Ct){return Ct==null?void 0:Ct.toString()}).flat(1).filter(Boolean),ei(!0),Yt.next=8,Dt.validateFields(mi,{recursive:!0});case 8:return gr=((ir=In.getFieldFormatValue)===null||ir===void 0?void 0:ir.call(In,mi))||Dt.getFieldValue(mi),Array.isArray(Je)&&Je.length>1&&(zn=Object(ke.a)(Je),Ki=zn.slice(1),Bn=Object(Oe.a)(gr,Ki),Object(Pe.a)(gr,Ki,Bn)),ai=yi?Object(Pe.a)({},mi,gr,!0):gr,Yt.next=13,ft==null?void 0:ft(Je,Object(pt.a)({},qt,ai),qt,Bt);case 13:return dn=Yt.sent,ei(!1),Yt.abrupt("return",dn);case 18:return Yt.prev=18,Yt.t0=Yt.catch(2),console.log(Yt.t0),ei(!1),Yt.abrupt("return",null);case 23:case"end":return Yt.stop()}},qi,null,[[2,18]])}));function Pn(qi){return kn.apply(this,arguments)}return Pn}(),children:[Nn?Object(ge.jsx)(L.a,{style:{marginRight:8}}):null,bt||"\u4FDD\u5B58"]},"save")}var Qe=function(Je){var ft=Je.recordKey,qt=Je.onDelete,bt=Je.row,Bt=Je.children,rn=Je.deletePopconfirmMessage,an=Object(Lt.a)(function(){return!1}),In=Object(_.a)(an,2),Dt=In[0],jn=In[1],_n=Object(Fe.a)(Object(A.a)(Object(fe.a)().mark(function Nn(){var ei;return Object(fe.a)().wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return Pn.prev=0,jn(!0),Pn.next=4,qt==null?void 0:qt(ft,bt);case 4:return ei=Pn.sent,jn(!1),Pn.abrupt("return",ei);case 9:return Pn.prev=9,Pn.t0=Pn.catch(0),console.log(Pn.t0),jn(!1),Pn.abrupt("return",null);case 14:case"end":return Pn.stop()}},Nn,null,[[0,9]])})));return Bt!==!1?Object(ge.jsx)(pe,{title:rn,onConfirm:function(){return _n()},children:Object(ge.jsxs)("a",{children:[Dt?Object(ge.jsx)(L.a,{style:{marginRight:8}}):null,Bt||"\u5220\u9664"]})},"delete"):null},$e=function(Je){var ft=Je.recordKey,qt=Je.tableName,bt=Je.newLineConfig,Bt=Je.editorType,rn=Je.onCancel,an=Je.cancelEditable,In=Je.row,Dt=Je.cancelText,jn=Object(B.useContext)(Et.a),_n=G.a.useFormInstance();return Object(ge.jsx)("a",{onClick:function(){var Nn=Object(A.a)(Object(fe.a)().mark(function kn(Pn){var qi,gi,ir,yi,mi,gr;return Object(fe.a)().wrap(function(Ki){for(;;)switch(Ki.prev=Ki.next){case 0:return Pn.stopPropagation(),Pn.preventDefault(),gi=Bt==="Map",ir=[qt,ft].flat(1).filter(Boolean),yi=((qi=jn.getFieldFormatValue)===null||qi===void 0?void 0:qi.call(jn,ir))||_n.getFieldValue(ir),mi=gi?Object(Pe.a)({},ir,yi):yi,Ki.next=8,rn==null?void 0:rn(ft,mi,In,bt);case 8:return gr=Ki.sent,an(ft),_n.setFieldsValue(Object(re.a)({},ft,gi?Object(Oe.a)(In,ir):In)),Ki.abrupt("return",gr);case 12:case"end":return Ki.stop()}},kn)}));function ei(kn){return Nn.apply(this,arguments)}return ei}(),children:Dt||"\u53D6\u6D88"},"cancel")};function ze(Ge,Je){var ft=Je.recordKey,qt=Je.newLineConfig,bt=Je.saveText,Bt=Je.deleteText;return[Object(ge.jsx)(Te,Object(J.a)(Object(J.a)({},Je),{},{row:Ge,children:bt}),"save"+ft),(qt==null?void 0:qt.options.recordKey)!==ft?Object(ge.jsx)(Qe,Object(J.a)(Object(J.a)({},Je),{},{row:Ge,children:Bt}),"delete"+ft):null,Object(ge.jsx)($e,Object(J.a)(Object(J.a)({},Je),{},{row:Ge}),"cancel"+ft)]}function ot(Ge){var Je=Object(B.useState)(void 0),ft=Object(_.a)(Je,2),qt=ft[0],bt=ft[1],Bt=Object(B.useRef)(new Map),rn=Object(B.useRef)(void 0);Object(Ft.b)(function(){var gn=new Map,en=function yn(Qn,pi){Qn==null||Qn.forEach(function(Pt,yt){var Rn,Sn=pi==null?yt.toString():pi+"_"+yt.toString();gn.set(Sn,Ce(Ge.getRowKey(Pt,-1))),gn.set((Rn=Ce(Ge.getRowKey(Pt,-1)))===null||Rn===void 0?void 0:Rn.toString(),Sn),Ge.childrenColumnName&&Pt[Ge.childrenColumnName]&&yn(Pt[Ge.childrenColumnName],Sn)})};en(Ge.dataSource),Bt.current=gn},[Ge.dataSource]),rn.current=qt;var an=Ge.type||"single",In=Object(Ae.a)(Ge.dataSource,"children",Ge.getRowKey),Dt=Object(_.a)(In,1),jn=Dt[0],_n=Object(ne.a)([],{value:Ge.editableKeys,onChange:Ge.onChange?function(gn){var en;Ge==null||(en=Ge.onChange)===null||en===void 0||en.call(Ge,gn.filter(function(yn){return yn!==void 0}),gn.map(function(yn){return jn(yn)}).filter(function(yn){return yn!==void 0}))}:void 0}),Nn=Object(_.a)(_n,2),ei=Nn[0],kn=Nn[1],Pn=Object(B.useMemo)(function(){var gn=an==="single"?ei==null?void 0:ei.slice(0,1):ei;return new Set(gn)},[(ei||[]).join(","),an]),qi=Object(Ot.a)(ei),gi=Object(Fe.a)(function(gn){var en,yn,Qn,pi,Pt=(en=Ge.getRowKey(gn,gn.index))===null||en===void 0||(yn=en.toString)===null||yn===void 0?void 0:yn.call(en),yt=(Qn=Ge.getRowKey(gn,-1))===null||Qn===void 0||(pi=Qn.toString)===null||pi===void 0?void 0:pi.call(Qn),Rn=ei.map(function(Hi){return Hi==null?void 0:Hi.toString()}),Sn=(qi==null?void 0:qi.map(function(Hi){return Hi==null?void 0:Hi.toString()}))||[],Ii=Ge.tableName&&!!(Sn==null?void 0:Sn.includes(yt))||!!(Sn==null?void 0:Sn.includes(Pt));return{recordKey:yt,isEditable:Ge.tableName&&(Rn==null?void 0:Rn.includes(yt))||(Rn==null?void 0:Rn.includes(Pt)),preIsEditable:Ii}}),ir=Object(Fe.a)(function(gn){return Pn.size>0&&an==="single"&&Ge.onlyOneLineEditorAlertMessage!==!1?(we.default.warn(Ge.onlyOneLineEditorAlertMessage||"\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C"),!1):(Pn.add(gn),kn(Array.from(Pn)),!0)}),yi=Object(Fe.a)(function(){var gn=Object(A.a)(Object(fe.a)().mark(function en(yn,Qn){var pi,Pt;return Object(fe.a)().wrap(function(Rn){for(;;)switch(Rn.prev=Rn.next){case 0:if(pi=Ce(yn).toString(),Pt=Bt.current.get(pi),!(!Pn.has(pi)&&Pt&&(Qn!=null?Qn:!0)&&Ge.tableName)){Rn.next=5;break}return yi(Pt,!1),Rn.abrupt("return");case 5:return qt&&qt.options.recordKey===yn&&bt(void 0),Pn.delete(pi),Pn.delete(Ce(yn)),kn(Array.from(Pn)),Rn.abrupt("return",!0);case 10:case"end":return Rn.stop()}},en)}));return function(en,yn){return gn.apply(this,arguments)}}()),mi=Object(Xe.a)(Object(A.a)(Object(fe.a)().mark(function gn(){var en,yn,Qn,pi,Pt=arguments;return Object(fe.a)().wrap(function(Rn){for(;;)switch(Rn.prev=Rn.next){case 0:for(yn=Pt.length,Qn=new Array(yn),pi=0;pi<yn;pi++)Qn[pi]=Pt[pi];(en=Ge.onValuesChange)===null||en===void 0||en.call.apply(en,[Ge].concat(Qn));case 2:case"end":return Rn.stop()}},gn)})),64),gr=Object(Fe.a)(function(gn,en){var yn;if(!!Ge.onValuesChange){var Qn=Ge.dataSource;ei.forEach(function(Sn){if((qt==null?void 0:qt.options.recordKey)!==Sn){var Ii=Sn.toString(),Hi=Object(Oe.a)(en,[Ge.tableName||"",Ii].flat(1).filter(function(wt){return wt||wt===0}));!Hi||(Qn=ye({data:Qn,getRowKey:Ge.getRowKey,row:Hi,key:Ii,childrenColumnName:Ge.childrenColumnName||"children"},"update"))}});var pi=Ge.tableName?Object(Oe.a)(gn,[Ge.tableName||""].flat(1)):gn,Pt=(yn=Object.keys(pi||{}).pop())===null||yn===void 0?void 0:yn.toString(),yt=Object(J.a)(Object(J.a)({},qt==null?void 0:qt.defaultValue),Object(Oe.a)(en,[Ge.tableName||"",Pt.toString()].flat(1).filter(function(Sn){return Sn||Sn===0}))),Rn=Bt.current.has(Ce(Pt))?Qn.find(function(Sn,Ii){var Hi,wt=(Hi=Ge.getRowKey(Sn,Ii))===null||Hi===void 0?void 0:Hi.toString();return wt===Pt}):yt;mi.run(Rn||yt,Qn)}}),zn=Object(Fe.a)(function(gn,en){if((en==null?void 0:en.parentKey)&&!Bt.current.has(Ce(en==null?void 0:en.parentKey).toString()))return console.warn("can't find record by key",en==null?void 0:en.parentKey),!1;if(rn.current&&Ge.onlyAddOneLineAlertMessage!==!1)return we.default.warn(Ge.onlyAddOneLineAlertMessage||"\u53EA\u80FD\u65B0\u589E\u4E00\u884C"),!1;if(Pn.size>0&&an==="single"&&Ge.onlyOneLineEditorAlertMessage!==!1)return we.default.warn(Ge.onlyOneLineEditorAlertMessage||"\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C"),!1;var yn=Ge.getRowKey(gn,-1);if(!yn)throw Object(Ne.b)(!!yn,`\u8BF7\u8BBE\u7F6E recordCreatorProps.record \u5E76\u8FD4\u56DE\u4E00\u4E2A\u552F\u4E00\u7684key  
  https://procomponents.ant.design/components/editable-table#editable-%E6%96%B0%E5%BB%BA%E8%A1%8C`),new Error("\u8BF7\u8BBE\u7F6E recordCreatorProps.record \u5E76\u8FD4\u56DE\u4E00\u4E2A\u552F\u4E00\u7684key");if(Pn.add(yn),kn(Array.from(Pn)),(en==null?void 0:en.newRecordType)==="dataSource"||Ge.tableName){var Qn,pi={data:Ge.dataSource,getRowKey:Ge.getRowKey,row:Object(J.a)(Object(J.a)({},gn),{},{map_row_parentKey:(en==null?void 0:en.parentKey)?(Qn=Ce(en==null?void 0:en.parentKey))===null||Qn===void 0?void 0:Qn.toString():void 0}),key:yn,childrenColumnName:Ge.childrenColumnName||"children"};Ge.setDataSource(ye(pi,(en==null?void 0:en.position)==="top"?"top":"update"))}else bt({defaultValue:gn,options:Object(J.a)(Object(J.a)({},en),{},{recordKey:yn})});return!0}),Ki=Object(De.d)(),Bn=(Ge==null?void 0:Ge.saveText)||Ki.getMessage("editableTable.action.save","\u4FDD\u5B58"),ai=(Ge==null?void 0:Ge.deleteText)||Ki.getMessage("editableTable.action.delete","\u5220\u9664"),dn=(Ge==null?void 0:Ge.cancelText)||Ki.getMessage("editableTable.action.cancel","\u53D6\u6D88"),Jn=Object(Fe.a)(function(){var gn=Object(A.a)(Object(fe.a)().mark(function en(yn,Qn,pi,Pt){var yt,Rn,Sn,Ii,Hi,wt,Pi;return Object(fe.a)().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return Ii=Pt||rn.current||{},Hi=Ii.options,We.next=3,Ge==null||(yt=Ge.onSave)===null||yt===void 0?void 0:yt.call(Ge,yn,Qn,pi,Pt);case 3:if(wt=We.sent,yi(yn),!(!(Hi==null?void 0:Hi.parentKey)&&(Hi==null?void 0:Hi.recordKey)===yn)){We.next=8;break}return(Hi==null?void 0:Hi.position)==="top"?Ge.setDataSource([Qn].concat(Object(ae.a)(Ge.dataSource))):Ge.setDataSource([].concat(Object(ae.a)(Ge.dataSource),[Qn])),We.abrupt("return",wt);case 8:return Pi={data:Ge.dataSource,getRowKey:Ge.getRowKey,row:Hi?Object(J.a)(Object(J.a)({},Qn),{},{map_row_parentKey:(Rn=Ce((Sn=Hi==null?void 0:Hi.parentKey)!==null&&Sn!==void 0?Sn:""))===null||Rn===void 0?void 0:Rn.toString()}):Qn,key:yn,childrenColumnName:Ge.childrenColumnName||"children"},Ge.setDataSource(ye(Pi,(Hi==null?void 0:Hi.position)==="top"?"top":"update")),We.abrupt("return",wt);case 11:case"end":return We.stop()}},en)}));return function(en,yn,Qn,pi){return gn.apply(this,arguments)}}()),Yt=Object(Fe.a)(function(){var gn=Object(A.a)(Object(fe.a)().mark(function en(yn,Qn){var pi,Pt,yt;return Object(fe.a)().wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:return Pt={data:Ge.dataSource,getRowKey:Ge.getRowKey,row:Qn,key:yn,childrenColumnName:Ge.childrenColumnName||"children"},Sn.next=3,Ge==null||(pi=Ge.onDelete)===null||pi===void 0?void 0:pi.call(Ge,yn,Qn);case 3:return yt=Sn.sent,Sn.next=6,yi(yn);case 6:return Ge.setDataSource(ye(Pt,"delete")),Sn.abrupt("return",yt);case 8:case"end":return Sn.stop()}},en)}));return function(en,yn){return gn.apply(this,arguments)}}()),Ct=Object(Fe.a)(function(){var gn=Object(A.a)(Object(fe.a)().mark(function en(yn,Qn,pi,Pt){var yt,Rn;return Object(fe.a)().wrap(function(Ii){for(;;)switch(Ii.prev=Ii.next){case 0:return Ii.next=2,Ge==null||(yt=Ge.onCancel)===null||yt===void 0?void 0:yt.call(Ge,yn,Qn,pi,Pt);case 2:return Rn=Ii.sent,Ii.abrupt("return",Rn);case 4:case"end":return Ii.stop()}},en)}));return function(en,yn,Qn,pi){return gn.apply(this,arguments)}}()),Dn=function(en){var yn=Ge.getRowKey(en,en.index),Qn={saveText:Bn,cancelText:dn,deleteText:ai,addEditRecord:zn,recordKey:yn,cancelEditable:yi,index:en.index,tableName:Ge.tableName,newLineConfig:qt,onCancel:Ct,onDelete:Yt,onSave:Jn,editableKeys:ei,setEditableRowKeys:kn,deletePopconfirmMessage:Ge.deletePopconfirmMessage||"".concat(Ki.getMessage("deleteThisLine","\u5220\u9664\u6B64\u884C"),"?")},pi=ze(en,Qn);return Ge.actionRender?Ge.actionRender(en,Qn,{save:pi[0],delete:pi[1],cancel:pi[2]}):pi};return{editableKeys:ei,setEditableRowKeys:kn,isEditable:gi,actionRender:Dn,startEditable:ir,cancelEditable:yi,addEditRecord:zn,newLineRecord:qt,preEditableKeys:qi,onValuesChange:gr}}var He=U.a=ot},n8z0:function(mn,U,a){},nB0o:function(mn,U,a){"use strict";a.d(U,"a",function(){return Au});var ce=a("tJVT"),we=a("qLMh"),w=a("rAM+"),ve=a("tS8v"),se=a("w4Tj"),te=a("oZsa"),$=a("yKVA"),_=a("879j"),Y=a("fWQN"),E=a("mtLc"),Z=a("eQg+"),ne=a("sswD"),V=function(Ke,be,v,m){var u=arguments.length,g=u<3?be:m===null?m=Object.getOwnPropertyDescriptor(be,v):m,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(Ke,be,v,m);else for(var ie=Ke.length-1;ie>=0;ie--)(S=Ke[ie])&&(g=(u<3?S(g):u>3?S(be,v,g):S(be,v))||g);return u>3&&g&&Object.defineProperty(be,v,g),g},B=function(Ke,be){return function(v,m){be(v,m,Ke)}},F=function(){function Ke(be,v){Object(Y.a)(this,Ke)}return Object(E.a)(Ke,[{key:"dispose",value:function(){}}]),Ke}();F.ID="editor.contrib.markerDecorations",F=V([B(1,Z.a)],F),Object(ne.m)(F.ID,F,0);var W=a("lrmC"),N=a("3/fG"),H=a("EffR"),d=a("/cxE"),D=a("MI8n"),C=a("pmY6"),x=a("tYmi"),O=a("D3Dy"),T=a("6OMU"),z=a("qj0h"),I=a("MNsG"),de=a("o39E"),pe=a("aKo+"),fe=function(){function Ke(be,v){Object(Y.a)(this,Ke),this.key=be,this.migrate=v}return Object(E.a)(Ke,[{key:"apply",value:function(v){var m=Ke._read(v,this.key),u=function(ie){return Ke._read(v,ie)},g=function(ie,Ee){return Ke._write(v,ie,Ee)};this.migrate(m,u,g)}}],[{key:"_read",value:function(v,m){if(typeof v!="undefined"){var u=m.indexOf(".");if(u>=0){var g=m.substring(0,u);return this._read(v[g],m.substring(u+1))}return v[m]}}},{key:"_write",value:function(v,m,u){var g=m.indexOf(".");if(g>=0){var S=m.substring(0,g);v[S]=v[S]||{},this._write(v[S],m.substring(g+1),u);return}v[m]=u}}]),Ke}();fe.items=[];function ke(Ke,be){fe.items.push(new fe(Ke,be))}function A(Ke,be){ke(Ke,function(v,m,u){if(typeof v!="undefined"){var g=Object(w.a)(be),S;try{for(g.s();!(S=g.n()).done;){var ie=S.value,Ee=Object(ce.a)(ie,2),Le=Ee[0],at=Ee[1];if(v===Le){u(Ke,at);return}}}catch(kt){g.e(kt)}finally{g.f()}}})}function P(Ke){fe.items.forEach(function(be){return be.apply(Ke)})}A("wordWrap",[[!0,"on"],[!1,"off"]]),A("lineNumbers",[[!0,"on"],[!1,"off"]]),A("cursorBlinking",[["visible","solid"]]),A("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),A("renderLineHighlight",[[!0,"line"],[!1,"none"]]),A("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),A("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),A("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),A("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),A("autoIndent",[[!1,"advanced"],[!0,"full"]]),A("matchBrackets",[[!0,"always"],[!1,"never"]]),A("renderFinalNewline",[[!0,"on"],[!1,"off"]]),A("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),ke("autoClosingBrackets",function(Ke,be,v){Ke===!1&&(v("autoClosingBrackets","never"),typeof be("autoClosingQuotes")=="undefined"&&v("autoClosingQuotes","never"),typeof be("autoSurround")=="undefined"&&v("autoSurround","never"))}),ke("renderIndentGuides",function(Ke,be,v){typeof Ke!="undefined"&&(v("renderIndentGuides",void 0),typeof be("guides.indentation")=="undefined"&&v("guides.indentation",!!Ke))}),ke("highlightActiveIndentGuide",function(Ke,be,v){typeof Ke!="undefined"&&(v("highlightActiveIndentGuide",void 0),typeof be("guides.highlightActiveIndentation")=="undefined"&&v("guides.highlightActiveIndentation",!!Ke))});var G={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};ke("suggest.filteredTypes",function(Ke,be,v){if(Ke&&typeof Ke=="object"){for(var m=0,u=Object.entries(G);m<u.length;m++){var g=u[m],S=Ke[g[0]];S===!1&&typeof be("suggest.".concat(g[1]))=="undefined"&&v("suggest.".concat(g[1]),!1)}v("suggest.filteredTypes",void 0)}}),ke("quickSuggestions",function(Ke,be,v){if(typeof Ke=="boolean"){var m=Ke?"on":"off",u={comments:m,strings:m,other:m};v("quickSuggestions",u)}}),ke("experimental.stickyScroll.enabled",function(Ke,be,v){typeof Ke=="boolean"&&(v("experimental.stickyScroll.enabled",void 0),typeof be("stickyScroll.enabled")=="undefined"&&v("stickyScroll.enabled",Ke))}),ke("experimental.stickyScroll.maxLineCount",function(Ke,be,v){typeof Ke=="number"&&(v("experimental.stickyScroll.maxLineCount",void 0),typeof be("stickyScroll.maxLineCount")=="undefined"&&v("stickyScroll.maxLineCount",Ke))});var re=a("p+Yh"),ae=a("/UlZ"),Q=a("Yr1X"),J=a("+3Gp"),me=a("R3nR"),ge=function(Ke,be,v,m){var u=arguments.length,g=u<3?be:m===null?m=Object.getOwnPropertyDescriptor(be,v):m,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(Ke,be,v,m);else for(var ie=Ke.length-1;ie>=0;ie--)(S=Ke[ie])&&(g=(u<3?S(g):u>3?S(be,v,g):S(be,v))||g);return u>3&&g&&Object.defineProperty(be,v,g),g},L=function(Ke,be){return function(v,m){be(v,m,Ke)}},De=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g,S){var ie;return Object(Y.a)(this,v),ie=be.call(this),ie._accessibilityService=S,ie._onDidChange=ie._register(new D.b),ie.onDidChange=ie._onDidChange.event,ie._onDidChangeFast=ie._register(new D.b),ie.onDidChangeFast=ie._onDidChangeFast.event,ie._isDominatedByLongLines=!1,ie._viewLineCount=1,ie._lineNumbersDigitCount=1,ie._reservedHeight=0,ie._glyphMarginDecorationLaneCount=1,ie._computeOptionsMemory=new ae.b,ie.isSimpleWidget=m,ie._containerObserver=ie._register(new de.a(g,u.dimension)),ie._rawOptions=Xe(u),ie._validatedOptions=Fe.validateOptions(ie._rawOptions),ie.options=ie._computeOptions(),ie.options.get(11)&&ie._containerObserver.startObserving(),ie._register(Q.a.onDidChangeZoomLevel(function(){return ie._recomputeOptions()})),ie._register(re.a.onDidChangeTabFocus(function(){return ie._recomputeOptions()})),ie._register(ie._containerObserver.onDidChange(function(){return ie._recomputeOptions()})),ie._register(pe.a.onDidChange(function(){return ie._recomputeOptions()})),ie._register(O.PixelRatio.onDidChange(function(){return ie._recomputeOptions()})),ie._register(ie._accessibilityService.onDidChangeScreenReaderOptimized(function(){return ie._recomputeOptions()})),ie}return Object(E.a)(v,[{key:"_recomputeOptions",value:function(){var u=this._computeOptions(),g=Fe.checkEquals(this.options,u);g!==null&&(this.options=u,this._onDidChangeFast.fire(g),this._onDidChange.fire(g))}},{key:"_computeOptions",value:function(){var u=this._readEnvConfiguration(),g=J.a.createFromValidatedSettings(this._validatedOptions,u.pixelRatio,this.isSimpleWidget),S=this._readFontInfo(g),ie={memory:this._computeOptionsMemory,outerWidth:u.outerWidth,outerHeight:u.outerHeight-this._reservedHeight,fontInfo:S,extraEditorClassName:u.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:u.emptySelectionClipboard,pixelRatio:u.pixelRatio,tabFocusMode:re.a.getTabFocusMode("editorFocus"),accessibilitySupport:u.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return Fe.computeOptions(this._validatedOptions,ie)}},{key:"_readEnvConfiguration",value:function(){return{extraEditorClassName:Oe(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:O.isWebKit||O.isFirefox,pixelRatio:O.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}},{key:"_readFontInfo",value:function(u){return pe.a.readFontInfo(u)}},{key:"getRawOptions",value:function(){return this._rawOptions}},{key:"updateOptions",value:function(u){var g=Xe(u),S=Fe.applyUpdate(this._rawOptions,g);!S||(this._validatedOptions=Fe.validateOptions(this._rawOptions),this._recomputeOptions())}},{key:"observeContainer",value:function(u){this._containerObserver.observe(u)}},{key:"setIsDominatedByLongLines",value:function(u){this._isDominatedByLongLines!==u&&(this._isDominatedByLongLines=u,this._recomputeOptions())}},{key:"setModelLineCount",value:function(u){var g=Ae(u);this._lineNumbersDigitCount!==g&&(this._lineNumbersDigitCount=g,this._recomputeOptions())}},{key:"setViewLineCount",value:function(u){this._viewLineCount!==u&&(this._viewLineCount=u,this._recomputeOptions())}},{key:"setReservedHeight",value:function(u){this._reservedHeight!==u&&(this._reservedHeight=u,this._recomputeOptions())}},{key:"setGlyphMarginDecorationLaneCount",value:function(u){this._glyphMarginDecorationLaneCount!==u&&(this._glyphMarginDecorationLaneCount=u,this._recomputeOptions())}}]),v}(C.a);De=ge([L(3,me.b)],De);function Ae(Ke){for(var be=0;Ke;)Ke=Math.floor(Ke/10),be++;return be||1}function Oe(){var Ke="";return!O.isSafari&&!O.isWebkitWebView&&(Ke+="no-user-select "),O.isSafari&&(Ke+="no-minimap-shadow ",Ke+="enable-user-select "),I.i&&(Ke+="mac "),Ke}var Pe=function(){function Ke(){Object(Y.a)(this,Ke),this._values=[]}return Object(E.a)(Ke,[{key:"_read",value:function(v){return this._values[v]}},{key:"get",value:function(v){return this._values[v]}},{key:"_write",value:function(v,m){this._values[v]=m}}]),Ke}(),Ne=function(){function Ke(){Object(Y.a)(this,Ke),this._values=[]}return Object(E.a)(Ke,[{key:"_read",value:function(v){if(v>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[v]}},{key:"get",value:function(v){return this._read(v)}},{key:"_write",value:function(v,m){this._values[v]=m}}]),Ke}(),Fe=function(){function Ke(){Object(Y.a)(this,Ke)}return Object(E.a)(Ke,null,[{key:"validateOptions",value:function(v){var m=new Pe,u=Object(w.a)(ae.n),g;try{for(u.s();!(g=u.n()).done;){var S=g.value,ie=S.name==="_never_"?void 0:v[S.name];m._write(S.id,S.validate(ie))}}catch(Ee){u.e(Ee)}finally{u.f()}return m}},{key:"computeOptions",value:function(v,m){var u=new Ne,g=Object(w.a)(ae.n),S;try{for(g.s();!(S=g.n()).done;){var ie=S.value;u._write(ie.id,ie.compute(m,u,v._read(ie.id)))}}catch(Ee){g.e(Ee)}finally{g.f()}return u}},{key:"_deepEquals",value:function(v,m){if(typeof v!="object"||typeof m!="object"||!v||!m)return v===m;if(Array.isArray(v)||Array.isArray(m))return Array.isArray(v)&&Array.isArray(m)?T.j(v,m):!1;if(Object.keys(v).length!==Object.keys(m).length)return!1;for(var u in v)if(!Ke._deepEquals(v[u],m[u]))return!1;return!0}},{key:"checkEquals",value:function(v,m){var u=[],g=!1,S=Object(w.a)(ae.n),ie;try{for(S.s();!(ie=S.n()).done;){var Ee=ie.value,Le=!Ke._deepEquals(v._read(Ee.id),m._read(Ee.id));u[Ee.id]=Le,Le&&(g=!0)}}catch(at){S.e(at)}finally{S.f()}return g?new ae.c(u):null}},{key:"applyUpdate",value:function(v,m){var u=!1,g=Object(w.a)(ae.n),S;try{for(g.s();!(S=g.n()).done;){var ie=S.value;if(m.hasOwnProperty(ie.name)){var Ee=ie.applyUpdate(v[ie.name],m[ie.name]);v[ie.name]=Ee.newValue,u=u||Ee.didChange}}}catch(Le){g.e(Le)}finally{g.f()}return u}}]),Ke}();function Xe(Ke){var be=z.c(Ke);return P(be),be}var Et=a("Vxe3"),Ft=a("gCVg"),Ot=a("ZlPH"),pt=a("pg8w"),Lt=a("XSiN"),et=a("QRuL"),Vt=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(){var m;return Object(Y.a)(this,v),m=be.call(this),m._shouldRender=!0,m}return Object(E.a)(v,[{key:"shouldRender",value:function(){return this._shouldRender}},{key:"forceShouldRender",value:function(){this._shouldRender=!0}},{key:"setShouldRender",value:function(){this._shouldRender=!0}},{key:"onDidRender",value:function(){this._shouldRender=!1}},{key:"onCompositionStart",value:function(u){return!1}},{key:"onCompositionEnd",value:function(u){return!1}},{key:"onConfigurationChanged",value:function(u){return!1}},{key:"onCursorStateChanged",value:function(u){return!1}},{key:"onDecorationsChanged",value:function(u){return!1}},{key:"onFlushed",value:function(u){return!1}},{key:"onFocusChanged",value:function(u){return!1}},{key:"onLanguageConfigurationChanged",value:function(u){return!1}},{key:"onLineMappingChanged",value:function(u){return!1}},{key:"onLinesChanged",value:function(u){return!1}},{key:"onLinesDeleted",value:function(u){return!1}},{key:"onLinesInserted",value:function(u){return!1}},{key:"onRevealRangeRequest",value:function(u){return!1}},{key:"onScrollChanged",value:function(u){return!1}},{key:"onThemeChanged",value:function(u){return!1}},{key:"onTokensChanged",value:function(u){return!1}},{key:"onTokensColorsChanged",value:function(u){return!1}},{key:"onZonesChanged",value:function(u){return!1}},{key:"handleEvents",value:function(u){for(var g=!1,S=0,ie=u.length;S<ie;S++){var Ee=u[S];switch(Ee.type){case 0:this.onCompositionStart(Ee)&&(g=!0);break;case 1:this.onCompositionEnd(Ee)&&(g=!0);break;case 2:this.onConfigurationChanged(Ee)&&(g=!0);break;case 3:this.onCursorStateChanged(Ee)&&(g=!0);break;case 4:this.onDecorationsChanged(Ee)&&(g=!0);break;case 5:this.onFlushed(Ee)&&(g=!0);break;case 6:this.onFocusChanged(Ee)&&(g=!0);break;case 7:this.onLanguageConfigurationChanged(Ee)&&(g=!0);break;case 8:this.onLineMappingChanged(Ee)&&(g=!0);break;case 9:this.onLinesChanged(Ee)&&(g=!0);break;case 10:this.onLinesDeleted(Ee)&&(g=!0);break;case 11:this.onLinesInserted(Ee)&&(g=!0);break;case 12:this.onRevealRangeRequest(Ee)&&(g=!0);break;case 13:this.onScrollChanged(Ee)&&(g=!0);break;case 15:this.onTokensChanged(Ee)&&(g=!0);break;case 14:this.onThemeChanged(Ee)&&(g=!0);break;case 16:this.onTokensColorsChanged(Ee)&&(g=!0);break;case 17:this.onZonesChanged(Ee)&&(g=!0);break;default:console.info("View received unknown event: "),console.info(Ee)}}g&&(this._shouldRender=!0)}}]),v}(C.a),Re=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;return Object(Y.a)(this,v),u=be.call(this),u._context=m,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(E.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}}]),v}(Vt),Ce=function(){function Ke(){Object(Y.a)(this,Ke)}return Object(E.a)(Ke,null,[{key:"write",value:function(v,m){v.setAttribute("data-mprt",String(m))}},{key:"read",value:function(v){var m=v.getAttribute("data-mprt");return m===null?0:parseInt(m,10)}},{key:"collect",value:function(v,m){for(var u=[],g=0;v&&v!==document.body&&v!==m;)v.nodeType===v.ELEMENT_NODE&&(u[g++]=this.read(v)),v=v.parentElement;for(var S=new Uint8Array(g),ie=0;ie<g;ie++)S[ie]=u[g-ie-1];return S}}]),Ke}(),ye=function(){function Ke(be,v){Object(Y.a)(this,Ke),this._restrictedRenderingContextBrand=void 0,this._viewLayout=be,this.viewportData=v,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var m=this._viewLayout.getCurrentViewport();this.scrollTop=m.top,this.scrollLeft=m.left,this.viewportWidth=m.width,this.viewportHeight=m.height}return Object(E.a)(Ke,[{key:"getScrolledTopFromAbsoluteTop",value:function(v){return v-this.scrollTop}},{key:"getVerticalOffsetForLineNumber",value:function(v,m){return this._viewLayout.getVerticalOffsetForLineNumber(v,m)}},{key:"getVerticalOffsetAfterLineNumber",value:function(v,m){return this._viewLayout.getVerticalOffsetAfterLineNumber(v,m)}},{key:"getDecorationsInViewport",value:function(){return this.viewportData.getDecorationsInViewport()}}]),Ke}(),Te=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g){var S;return Object(Y.a)(this,v),S=be.call(this,m,u),S._renderingContextBrand=void 0,S._viewLines=g,S}return Object(E.a)(v,[{key:"linesVisibleRangesForRange",value:function(u,g){return this._viewLines.linesVisibleRangesForRange(u,g)}},{key:"visibleRangeForPosition",value:function(u){return this._viewLines.visibleRangeForPosition(u)}}]),v}(ye),Qe=Object(E.a)(function Ke(be,v,m){Object(Y.a)(this,Ke),this.outsideRenderedLine=be,this.lineNumber=v,this.ranges=m}),$e=function(){function Ke(be,v){Object(Y.a)(this,Ke),this._horizontalRangeBrand=void 0,this.left=Math.round(be),this.width=Math.round(v)}return Object(E.a)(Ke,[{key:"toString",value:function(){return"[".concat(this.left,",").concat(this.width,"]")}}],[{key:"from",value:function(v){for(var m=new Array(v.length),u=0,g=v.length;u<g;u++){var S=v[u];m[u]=new Ke(S.left,S.width)}return m}}]),Ke}(),ze=function(){function Ke(be,v){Object(Y.a)(this,Ke),this._floatHorizontalRangeBrand=void 0,this.left=be,this.width=v}return Object(E.a)(Ke,[{key:"toString",value:function(){return"[".concat(this.left,",").concat(this.width,"]")}}],[{key:"compare",value:function(v,m){return v.left-m.left}}]),Ke}(),ot=Object(E.a)(function Ke(be,v){Object(Y.a)(this,Ke),this.outsideRenderedLine=be,this.originalLeft=v,this.left=Math.round(this.originalLeft)}),He=Object(E.a)(function Ke(be,v){Object(Y.a)(this,Ke),this.outsideRenderedLine=be,this.ranges=v}),Ge=function(){function Ke(){Object(Y.a)(this,Ke)}return Object(E.a)(Ke,null,[{key:"_createRange",value:function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}},{key:"_detachRange",value:function(v,m){v.selectNodeContents(m)}},{key:"_readClientRects",value:function(v,m,u,g,S){var ie=this._createRange();try{return ie.setStart(v,m),ie.setEnd(u,g),ie.getClientRects()}catch(Ee){return null}finally{this._detachRange(ie,S)}}},{key:"_mergeAdjacentRanges",value:function(v){if(v.length===1)return v;v.sort(ze.compare);for(var m=[],u=0,g=v[0],S=1,ie=v.length;S<ie;S++){var Ee=v[S];g.left+g.width+.9>=Ee.left?g.width=Math.max(g.width,Ee.left+Ee.width-g.left):(m[u++]=g,g=Ee)}return m[u++]=g,m}},{key:"_createHorizontalRangesFromClientRects",value:function(v,m,u){if(!v||v.length===0)return null;for(var g=[],S=0,ie=v.length;S<ie;S++){var Ee=v[S];g[S]=new ze(Math.max(0,(Ee.left-m)/u),Ee.width/u)}return this._mergeAdjacentRanges(g)}},{key:"readHorizontalRanges",value:function(v,m,u,g,S,ie){var Ee=0,Le=v.children.length-1;if(Ee>Le)return null;if(m=Math.min(Le,Math.max(Ee,m)),g=Math.min(Le,Math.max(Ee,g)),m===g&&u===S&&u===0&&!v.children[m].firstChild){var at=v.children[m].getClientRects();return ie.markDidDomLayout(),this._createHorizontalRangesFromClientRects(at,ie.clientRectDeltaLeft,ie.clientRectScale)}m!==g&&g>0&&S===0&&(g--,S=1073741824);var kt=v.children[m].firstChild,Tt=v.children[g].firstChild;if((!kt||!Tt)&&(!kt&&u===0&&m>0&&(kt=v.children[m-1].firstChild,u=1073741824),!Tt&&S===0&&g>0&&(Tt=v.children[g-1].firstChild,S=1073741824)),!kt||!Tt)return null;u=Math.min(kt.textContent.length,Math.max(0,u)),S=Math.min(Tt.textContent.length,Math.max(0,S));var Qt=this._readClientRects(kt,u,Tt,S,ie.endNode);return ie.markDidDomLayout(),this._createHorizontalRangesFromClientRects(Qt,ie.clientRectDeltaLeft,ie.clientRectScale)}}]),Ke}(),Je=a("dBaI"),ft=a("baJR"),qt=a("nEHx"),bt=function(){return I.k?!0:!(I.g||O.isFirefox||O.isSafari)}(),Bt=!0,rn=function(){function Ke(be,v){Object(Y.a)(this,Ke),this.themeType=v;var m=be.options,u=m.get(48),g=m.get(36);g==="off"?this.renderWhitespace=m.get(95):this.renderWhitespace="none",this.renderControlCharacters=m.get(90),this.spaceWidth=u.spaceWidth,this.middotWidth=u.middotWidth,this.wsmiddotWidth=u.wsmiddotWidth,this.useMonospaceOptimizations=u.isMonospace&&!m.get(31),this.canUseHalfwidthRightwardsArrow=u.canUseHalfwidthRightwardsArrow,this.lineHeight=m.get(64),this.stopRenderingLineAfter=m.get(113),this.fontLigatures=m.get(49)}return Object(E.a)(Ke,[{key:"equals",value:function(v){return this.themeType===v.themeType&&this.renderWhitespace===v.renderWhitespace&&this.renderControlCharacters===v.renderControlCharacters&&this.spaceWidth===v.spaceWidth&&this.middotWidth===v.middotWidth&&this.wsmiddotWidth===v.wsmiddotWidth&&this.useMonospaceOptimizations===v.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.lineHeight===v.lineHeight&&this.stopRenderingLineAfter===v.stopRenderingLineAfter&&this.fontLigatures===v.fontLigatures}}]),Ke}(),an=function(){function Ke(be){Object(Y.a)(this,Ke),this._options=be,this._isMaybeInvalid=!0,this._renderedViewLine=null}return Object(E.a)(Ke,[{key:"getDomNode",value:function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}},{key:"setDomNode",value:function(v){if(this._renderedViewLine)this._renderedViewLine.domNode=Object(Ot.b)(v);else throw new Error("I have no rendered view line to set the dom node to...")}},{key:"onContentChanged",value:function(){this._isMaybeInvalid=!0}},{key:"onTokensChanged",value:function(){this._isMaybeInvalid=!0}},{key:"onDecorationsChanged",value:function(){this._isMaybeInvalid=!0}},{key:"onOptionsChanged",value:function(v){this._isMaybeInvalid=!0,this._options=v}},{key:"onSelectionChanged",value:function(){return Object(qt.c)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}},{key:"renderLine",value:function(v,m,u,g){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;var S=u.getViewLineRenderingData(v),ie=this._options,Ee=Je.a.filter(S.inlineDecorations,v,S.minColumn,S.maxColumn),Le=null;if(Object(qt.c)(ie.themeType)||this._options.renderWhitespace==="selection"){var at=u.selections,kt=Object(w.a)(at),Tt;try{for(kt.s();!(Tt=kt.n()).done;){var Qt=Tt.value;if(!(Qt.endLineNumber<v||Qt.startLineNumber>v)){var Wt=Qt.startLineNumber===v?Qt.startColumn:S.minColumn,vt=Qt.endLineNumber===v?Qt.endColumn:S.maxColumn;Wt<vt&&(Object(qt.c)(ie.themeType)&&Ee.push(new Je.a(Wt,vt,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(Le||(Le=[]),Le.push(new ft.b(Wt-1,vt-1))))}}}catch(hi){kt.e(hi)}finally{kt.f()}}var wn=new ft.c(ie.useMonospaceOptimizations,ie.canUseHalfwidthRightwardsArrow,S.content,S.continuesWithWrappedLine,S.isBasicASCII,S.containsRTL,S.minColumn-1,S.tokens,Ee,S.tabSize,S.startVisibleColumn,ie.spaceWidth,ie.middotWidth,ie.wsmiddotWidth,ie.stopRenderingLineAfter,ie.renderWhitespace,ie.renderControlCharacters,ie.fontLigatures!==ae.e.OFF,Le);if(this._renderedViewLine&&this._renderedViewLine.input.equals(wn))return!1;g.appendString('<div style="top:'),g.appendString(String(m)),g.appendString("px;height:"),g.appendString(String(this._options.lineHeight)),g.appendString('px;" class="'),g.appendString(Ke.CLASS_NAME),g.appendString('">');var xn=Object(ft.d)(wn,g);g.appendString("</div>");var ri=null;return Bt&&bt&&S.isBasicASCII&&ie.useMonospaceOptimizations&&xn.containsForeignElements===0&&(ri=new In(this._renderedViewLine?this._renderedViewLine.domNode:null,wn,xn.characterMapping)),ri||(ri=_n(this._renderedViewLine?this._renderedViewLine.domNode:null,wn,xn.characterMapping,xn.containsRTL,xn.containsForeignElements)),this._renderedViewLine=ri,!0}},{key:"layoutLine",value:function(v,m){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(m),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}},{key:"getWidth",value:function(v){return this._renderedViewLine?this._renderedViewLine.getWidth(v):0}},{key:"getWidthIsFast",value:function(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}},{key:"needsMonospaceFontCheck",value:function(){return this._renderedViewLine?this._renderedViewLine instanceof In:!1}},{key:"monospaceAssumptionsAreValid",value:function(){return this._renderedViewLine&&this._renderedViewLine instanceof In?this._renderedViewLine.monospaceAssumptionsAreValid():Bt}},{key:"onMonospaceAssumptionsInvalidated",value:function(){this._renderedViewLine&&this._renderedViewLine instanceof In&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}},{key:"getVisibleRangesForRange",value:function(v,m,u,g){if(!this._renderedViewLine)return null;m=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,m)),u=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,u));var S=this._renderedViewLine.input.stopRenderingLineAfter;if(S!==-1&&m>S+1&&u>S+1)return new He(!0,[new ze(this.getWidth(g),0)]);S!==-1&&m>S+1&&(m=S+1),S!==-1&&u>S+1&&(u=S+1);var ie=this._renderedViewLine.getVisibleRangesForRange(v,m,u,g);return ie&&ie.length>0?new He(!1,ie):null}},{key:"getColumnOfNodeOffset",value:function(v,m,u){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(v,m,u):1}}]),Ke}();an.CLASS_NAME="view-line";var In=function(){function Ke(be,v,m){Object(Y.a)(this,Ke),this._cachedWidth=-1,this.domNode=be,this.input=v;var u=Math.floor(v.lineContent.length/300);if(u>0){this._keyColumnPixelOffsetCache=new Float32Array(u);for(var g=0;g<u;g++)this._keyColumnPixelOffsetCache[g]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=m,this._charWidth=v.spaceWidth}return Object(E.a)(Ke,[{key:"getWidth",value:function(v){if(!this.domNode||this.input.lineContent.length<300){var m=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*m)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,v==null||v.markDidDomLayout()),this._cachedWidth}},{key:"getWidthIsFast",value:function(){return this.input.lineContent.length<300||this._cachedWidth!==-1}},{key:"monospaceAssumptionsAreValid",value:function(){if(!this.domNode)return Bt;if(this.input.lineContent.length<300){var v=this.getWidth(null),m=this.domNode.domNode.firstChild.offsetWidth;Math.abs(v-m)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Bt=!1)}return Bt}},{key:"toSlowRenderedLine",value:function(){return _n(this.domNode,this.input,this._characterMapping,!1,0)}},{key:"getVisibleRangesForRange",value:function(v,m,u,g){var S=this._getColumnPixelOffset(v,m,g),ie=this._getColumnPixelOffset(v,u,g);return[new ze(S,ie-S)]}},{key:"_getColumnPixelOffset",value:function(v,m,u){if(m<=300){var g=this._characterMapping.getHorizontalOffset(m);return this._charWidth*g}var S=Math.floor((m-1)/300)-1,ie=(S+1)*300+1,Ee=-1;if(this._keyColumnPixelOffsetCache&&(Ee=this._keyColumnPixelOffsetCache[S],Ee===-1&&(Ee=this._actualReadPixelOffset(v,ie,u),this._keyColumnPixelOffsetCache[S]=Ee)),Ee===-1){var Le=this._characterMapping.getHorizontalOffset(m);return this._charWidth*Le}var at=this._characterMapping.getHorizontalOffset(ie),kt=this._characterMapping.getHorizontalOffset(m);return Ee+this._charWidth*(kt-at)}},{key:"_getReadingTarget",value:function(v){return v.domNode.firstChild}},{key:"_actualReadPixelOffset",value:function(v,m,u){if(!this.domNode)return-1;var g=this._characterMapping.getDomPosition(m),S=Ge.readHorizontalRanges(this._getReadingTarget(this.domNode),g.partIndex,g.charIndex,g.partIndex,g.charIndex,u);return!S||S.length===0?-1:S[0].left}},{key:"getColumnOfNodeOffset",value:function(v,m,u){for(var g=m.textContent.length,S=-1;m;)m=m.previousSibling,S++;return this._characterMapping.getColumn(new ft.a(S,u),g)}}]),Ke}(),Dt=function(){function Ke(be,v,m,u,g){if(Object(Y.a)(this,Ke),this.domNode=be,this.input=v,this._characterMapping=m,this._isWhitespaceOnly=/^\s*$/.test(v.lineContent),this._containsForeignElements=g,this._cachedWidth=-1,this._pixelOffsetCache=null,!u||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(var S=0,ie=this._characterMapping.length;S<=ie;S++)this._pixelOffsetCache[S]=-1}}return Object(E.a)(Ke,[{key:"_getReadingTarget",value:function(v){return v.domNode.firstChild}},{key:"getWidth",value:function(v){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,v==null||v.markDidDomLayout()),this._cachedWidth):0}},{key:"getWidthIsFast",value:function(){return this._cachedWidth!==-1}},{key:"getVisibleRangesForRange",value:function(v,m,u,g){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){var S=this._readPixelOffset(this.domNode,v,m,g);if(S===-1)return null;var ie=this._readPixelOffset(this.domNode,v,u,g);return ie===-1?null:[new ze(S,ie-S)]}return this._readVisibleRangesForRange(this.domNode,v,m,u,g)}},{key:"_readVisibleRangesForRange",value:function(v,m,u,g,S){if(u===g){var ie=this._readPixelOffset(v,m,u,S);return ie===-1?null:[new ze(ie,0)]}else return this._readRawVisibleRangesForRange(v,u,g,S)}},{key:"_readPixelOffset",value:function(v,m,u,g){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(g);var S=this._getReadingTarget(v);return S.firstChild?(g.markDidDomLayout(),S.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){var ie=this._pixelOffsetCache[u];if(ie!==-1)return ie;var Ee=this._actualReadPixelOffset(v,m,u,g);return this._pixelOffsetCache[u]=Ee,Ee}return this._actualReadPixelOffset(v,m,u,g)}},{key:"_actualReadPixelOffset",value:function(v,m,u,g){if(this._characterMapping.length===0){var S=Ge.readHorizontalRanges(this._getReadingTarget(v),0,0,0,0,g);return!S||S.length===0?-1:S[0].left}if(u===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(g);var ie=this._characterMapping.getDomPosition(u),Ee=Ge.readHorizontalRanges(this._getReadingTarget(v),ie.partIndex,ie.charIndex,ie.partIndex,ie.charIndex,g);if(!Ee||Ee.length===0)return-1;var Le=Ee[0].left;if(this.input.isBasicASCII){var at=this._characterMapping.getHorizontalOffset(u),kt=Math.round(this.input.spaceWidth*at);if(Math.abs(kt-Le)<=1)return kt}return Le}},{key:"_readRawVisibleRangesForRange",value:function(v,m,u,g){if(m===1&&u===this._characterMapping.length)return[new ze(0,this.getWidth(g))];var S=this._characterMapping.getDomPosition(m),ie=this._characterMapping.getDomPosition(u);return Ge.readHorizontalRanges(this._getReadingTarget(v),S.partIndex,S.charIndex,ie.partIndex,ie.charIndex,g)}},{key:"getColumnOfNodeOffset",value:function(v,m,u){for(var g=m.textContent.length,S=-1;m;)m=m.previousSibling,S++;return this._characterMapping.getColumn(new ft.a(S,u),g)}}]),Ke}(),jn=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(){return Object(Y.a)(this,v),be.apply(this,arguments)}return Object(E.a)(v,[{key:"_readVisibleRangesForRange",value:function(u,g,S,ie,Ee){var Le=Object(se.a)(Object(te.a)(v.prototype),"_readVisibleRangesForRange",this).call(this,u,g,S,ie,Ee);if(!Le||Le.length===0||S===ie||S===1&&ie===this._characterMapping.length)return Le;if(!this.input.containsRTL){var at=this._readPixelOffset(u,g,ie,Ee);if(at!==-1){var kt=Le[Le.length-1];kt.left<at&&(kt.width=at-kt.left)}}return Le}}]),v}(Dt),_n=function(){return O.isWebKit?Nn:ei}();function Nn(Ke,be,v,m,u){return new jn(Ke,be,v,m,u)}function ei(Ke,be,v,m,u){return new Dt(Ke,be,v,m,u)}var kn=a("cGHE"),Pn=a("aokT"),qi=a("JLfW"),gi=a("ZQYC"),ir=Object(E.a)(function Ke(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Object(Y.a)(this,Ke),this.hitTarget=be,this.type=0}),yi=Object(E.a)(function Ke(be,v,m){Object(Y.a)(this,Ke),this.position=be,this.spanNode=v,this.injectedText=m,this.type=1}),mi;(function(Ke){function be(v,m,u){var g=v.getPositionFromDOMInfo(m,u);return g?new yi(g,m,null):new ir(m)}Ke.createFromDOMInfo=be})(mi||(mi={}));var gr=Object(E.a)(function Ke(be,v){Object(Y.a)(this,Ke),this.lastViewCursorsRenderData=be,this.lastTextareaPosition=v}),zn=function(){function Ke(){Object(Y.a)(this,Ke)}return Object(E.a)(Ke,null,[{key:"_deduceRage",value:function(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return!m&&v?new Pn.a(v.lineNumber,v.column,v.lineNumber,v.column):m!=null?m:null}},{key:"createUnknown",value:function(v,m,u){return{type:0,element:v,mouseColumn:m,position:u,range:this._deduceRage(u)}}},{key:"createTextarea",value:function(v,m){return{type:1,element:v,mouseColumn:m,position:null,range:null}}},{key:"createMargin",value:function(v,m,u,g,S,ie){return{type:v,element:m,mouseColumn:u,position:g,range:S,detail:ie}}},{key:"createViewZone",value:function(v,m,u,g,S){return{type:v,element:m,mouseColumn:u,position:g,range:this._deduceRage(g),detail:S}}},{key:"createContentText",value:function(v,m,u,g,S){return{type:6,element:v,mouseColumn:m,position:u,range:this._deduceRage(u,g),detail:S}}},{key:"createContentEmpty",value:function(v,m,u,g){return{type:7,element:v,mouseColumn:m,position:u,range:this._deduceRage(u),detail:g}}},{key:"createContentWidget",value:function(v,m,u){return{type:9,element:v,mouseColumn:m,position:null,range:null,detail:u}}},{key:"createScrollbar",value:function(v,m,u){return{type:11,element:v,mouseColumn:m,position:u,range:this._deduceRage(u)}}},{key:"createOverlayWidget",value:function(v,m,u){return{type:12,element:v,mouseColumn:m,position:null,range:null,detail:u}}},{key:"createOutsideEditor",value:function(v,m,u,g){return{type:13,element:null,mouseColumn:v,position:m,range:this._deduceRage(m),outsidePosition:u,outsideDistance:g}}},{key:"_typeToString",value:function(v){return v===1?"TEXTAREA":v===2?"GUTTER_GLYPH_MARGIN":v===3?"GUTTER_LINE_NUMBERS":v===4?"GUTTER_LINE_DECORATIONS":v===5?"GUTTER_VIEW_ZONE":v===6?"CONTENT_TEXT":v===7?"CONTENT_EMPTY":v===8?"CONTENT_VIEW_ZONE":v===9?"CONTENT_WIDGET":v===10?"OVERVIEW_RULER":v===11?"SCROLLBAR":v===12?"OVERLAY_WIDGET":"UNKNOWN"}},{key:"toString",value:function(v){return this._typeToString(v.type)+": "+v.position+" - "+v.range+" - "+JSON.stringify(v.detail)}}]),Ke}(),Ki=function(){function Ke(){Object(Y.a)(this,Ke)}return Object(E.a)(Ke,null,[{key:"isTextArea",value:function(v){return v.length===2&&v[0]===3&&v[1]===6}},{key:"isChildOfViewLines",value:function(v){return v.length>=4&&v[0]===3&&v[3]===7}},{key:"isStrictChildOfViewLines",value:function(v){return v.length>4&&v[0]===3&&v[3]===7}},{key:"isChildOfScrollableElement",value:function(v){return v.length>=2&&v[0]===3&&v[1]===5}},{key:"isChildOfMinimap",value:function(v){return v.length>=2&&v[0]===3&&v[1]===8}},{key:"isChildOfContentWidgets",value:function(v){return v.length>=4&&v[0]===3&&v[3]===1}},{key:"isChildOfOverflowingContentWidgets",value:function(v){return v.length>=1&&v[0]===2}},{key:"isChildOfOverlayWidgets",value:function(v){return v.length>=2&&v[0]===3&&v[1]===4}}]),Ke}(),Bn=function(){function Ke(be,v,m){Object(Y.a)(this,Ke),this.viewModel=be.viewModel;var u=be.configuration.options;this.layoutInfo=u.get(140),this.viewDomNode=v.viewDomNode,this.lineHeight=u.get(64),this.stickyTabStops=u.get(112),this.typicalHalfwidthCharacterWidth=u.get(48).typicalHalfwidthCharacterWidth,this.lastRenderData=m,this._context=be,this._viewHelper=v}return Object(E.a)(Ke,[{key:"getZoneAtCoord",value:function(v){return Ke.getZoneAtCoord(this._context,v)}},{key:"getFullLineRangeAtCoord",value:function(v){if(this._context.viewLayout.isAfterLines(v)){var m=this._context.viewModel.getLineCount(),u=this._context.viewModel.getLineMaxColumn(m);return{range:new Pn.a(m,u,m,u),isAfterLines:!0}}var g=this._context.viewLayout.getLineNumberAtVerticalOffset(v),S=this._context.viewModel.getLineMaxColumn(g);return{range:new Pn.a(g,1,g,S),isAfterLines:!1}}},{key:"getLineNumberAtVerticalOffset",value:function(v){return this._context.viewLayout.getLineNumberAtVerticalOffset(v)}},{key:"isAfterLines",value:function(v){return this._context.viewLayout.isAfterLines(v)}},{key:"isInTopPadding",value:function(v){return this._context.viewLayout.isInTopPadding(v)}},{key:"isInBottomPadding",value:function(v){return this._context.viewLayout.isInBottomPadding(v)}},{key:"getVerticalOffsetForLineNumber",value:function(v){return this._context.viewLayout.getVerticalOffsetForLineNumber(v)}},{key:"findAttribute",value:function(v,m){return Ke._findAttribute(v,m,this._viewHelper.viewDomNode)}},{key:"getLineWidth",value:function(v){return this._viewHelper.getLineWidth(v)}},{key:"visibleRangeForPosition",value:function(v,m){return this._viewHelper.visibleRangeForPosition(v,m)}},{key:"getPositionFromDOMInfo",value:function(v,m){return this._viewHelper.getPositionFromDOMInfo(v,m)}},{key:"getCurrentScrollTop",value:function(){return this._context.viewLayout.getCurrentScrollTop()}},{key:"getCurrentScrollLeft",value:function(){return this._context.viewLayout.getCurrentScrollLeft()}}],[{key:"getZoneAtCoord",value:function(v,m){var u=v.viewLayout.getWhitespaceAtVerticalOffset(m);if(u){var g=u.verticalOffset+u.height/2,S=v.viewModel.getLineCount(),ie=null,Ee,Le=null;return u.afterLineNumber!==S&&(Le=new kn.a(u.afterLineNumber+1,1)),u.afterLineNumber>0&&(ie=new kn.a(u.afterLineNumber,v.viewModel.getLineMaxColumn(u.afterLineNumber))),Le===null?Ee=ie:ie===null?Ee=Le:m<g?Ee=ie:Ee=Le,{viewZoneId:u.id,afterLineNumber:u.afterLineNumber,positionBefore:ie,positionAfter:Le,position:Ee}}return null}},{key:"_findAttribute",value:function(v,m,u){for(;v&&v!==document.body;){if(v.hasAttribute&&v.hasAttribute(m))return v.getAttribute(m);if(v===u)return null;v=v.parentNode}return null}}]),Ke}(),ai=Object(E.a)(function Ke(be,v,m,u){Object(Y.a)(this,Ke),this.editorPos=v,this.pos=m,this.relativePos=u,this.mouseVerticalOffset=Math.max(0,be.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=be.getCurrentScrollLeft()+this.relativePos.x-be.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<be.layoutInfo.contentLeft&&this.relativePos.x>=be.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Ct._getMouseColumn(this.mouseContentHorizontalOffset,be.typicalHalfwidthCharacterWidth))}),dn=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g,S,ie){var Ee;return Object(Y.a)(this,v),Ee=be.call(this,m,u,g,S),Ee._ctx=m,ie?(Ee.target=ie,Ee.targetPath=Ce.collect(ie,m.viewDomNode)):(Ee.target=null,Ee.targetPath=new Uint8Array(0)),Ee}return Object(E.a)(v,[{key:"toString",value:function(){return"pos(".concat(this.pos.x,",").concat(this.pos.y,"), editorPos(").concat(this.editorPos.x,",").concat(this.editorPos.y,"), relativePos(").concat(this.relativePos.x,",").concat(this.relativePos.y,"), mouseVerticalOffset: ").concat(this.mouseVerticalOffset,", mouseContentHorizontalOffset: ").concat(this.mouseContentHorizontalOffset,`
	target: `).concat(this.target?this.target.outerHTML:null)}},{key:"_getMouseColumn",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return u&&u.column<this._ctx.viewModel.getLineMaxColumn(u.lineNumber)?qi.a.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(u.lineNumber),u.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}},{key:"fulfillUnknown",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return zn.createUnknown(this.target,this._getMouseColumn(u),u)}},{key:"fulfillTextarea",value:function(){return zn.createTextarea(this.target,this._getMouseColumn())}},{key:"fulfillMargin",value:function(u,g,S,ie){return zn.createMargin(u,this.target,this._getMouseColumn(g),g,S,ie)}},{key:"fulfillViewZone",value:function(u,g,S){return zn.createViewZone(u,this.target,this._getMouseColumn(g),g,S)}},{key:"fulfillContentText",value:function(u,g,S){return zn.createContentText(this.target,this._getMouseColumn(u),u,g,S)}},{key:"fulfillContentEmpty",value:function(u,g){return zn.createContentEmpty(this.target,this._getMouseColumn(u),u,g)}},{key:"fulfillContentWidget",value:function(u){return zn.createContentWidget(this.target,this._getMouseColumn(),u)}},{key:"fulfillScrollbar",value:function(u){return zn.createScrollbar(this.target,this._getMouseColumn(u),u)}},{key:"fulfillOverlayWidget",value:function(u){return zn.createOverlayWidget(this.target,this._getMouseColumn(),u)}},{key:"withTarget",value:function(u){return new v(this._ctx,this.editorPos,this.pos,this.relativePos,u)}}]),v}(ai),Jn={isAfterLines:!0};function Yt(Ke){return{isAfterLines:!1,horizontalDistanceToText:Ke}}var Ct=function(){function Ke(be,v){Object(Y.a)(this,Ke),this._context=be,this._viewHelper=v}return Object(E.a)(Ke,[{key:"mouseTargetIsWidget",value:function(v){var m=v.target,u=Ce.collect(m,this._viewHelper.viewDomNode);return!!(Ki.isChildOfContentWidgets(u)||Ki.isChildOfOverflowingContentWidgets(u)||Ki.isChildOfOverlayWidgets(u))}},{key:"createMouseTarget",value:function(v,m,u,g,S){var ie=new Bn(this._context,this._viewHelper,v),Ee=new dn(ie,m,u,g,S);try{var Le=Ke._createMouseTarget(ie,Ee,!1);if(Le.type===6&&ie.stickyTabStops&&Le.position!==null){var at=Ke._snapToSoftTabBoundary(Le.position,ie.viewModel),kt=Pn.a.fromPositions(at,at).plusRange(Le.range);return Ee.fulfillContentText(at,kt,Le.detail)}return Le}catch(Tt){return Ee.fulfillUnknown()}}},{key:"getMouseColumn",value:function(v){var m=this._context.configuration.options,u=m.get(140),g=this._context.viewLayout.getCurrentScrollLeft()+v.x-u.contentLeft;return Ke._getMouseColumn(g,m.get(48).typicalHalfwidthCharacterWidth)}}],[{key:"_createMouseTarget",value:function(v,m,u){if(m.target===null){if(u)return m.fulfillUnknown();var g=Ke._doHitTest(v,m);return g.type===1?Ke.createMouseTargetFromHitTestPosition(v,m,g.spanNode,g.position,g.injectedText):this._createMouseTarget(v,m.withTarget(g.hitTarget),!0)}var S=m,ie=null;return ie=ie||Ke._hitTestContentWidget(v,S),ie=ie||Ke._hitTestOverlayWidget(v,S),ie=ie||Ke._hitTestMinimap(v,S),ie=ie||Ke._hitTestScrollbarSlider(v,S),ie=ie||Ke._hitTestViewZone(v,S),ie=ie||Ke._hitTestMargin(v,S),ie=ie||Ke._hitTestViewCursor(v,S),ie=ie||Ke._hitTestTextArea(v,S),ie=ie||Ke._hitTestViewLines(v,S,u),ie=ie||Ke._hitTestScrollbar(v,S),ie||m.fulfillUnknown()}},{key:"_hitTestContentWidget",value:function(v,m){if(Ki.isChildOfContentWidgets(m.targetPath)||Ki.isChildOfOverflowingContentWidgets(m.targetPath)){var u=v.findAttribute(m.target,"widgetId");return u?m.fulfillContentWidget(u):m.fulfillUnknown()}return null}},{key:"_hitTestOverlayWidget",value:function(v,m){if(Ki.isChildOfOverlayWidgets(m.targetPath)){var u=v.findAttribute(m.target,"widgetId");return u?m.fulfillOverlayWidget(u):m.fulfillUnknown()}return null}},{key:"_hitTestViewCursor",value:function(v,m){if(m.target){var u=v.lastRenderData.lastViewCursorsRenderData,g=Object(w.a)(u),S;try{for(g.s();!(S=g.n()).done;){var ie=S.value;if(m.target===ie.domNode)return m.fulfillContentText(ie.position,null,{mightBeForeignElement:!1,injectedText:null})}}catch(vt){g.e(vt)}finally{g.f()}}if(m.isInContentArea){var Ee=v.lastRenderData.lastViewCursorsRenderData,Le=m.mouseContentHorizontalOffset,at=m.mouseVerticalOffset,kt=Object(w.a)(Ee),Tt;try{for(kt.s();!(Tt=kt.n()).done;){var Qt=Tt.value;if(!(Le<Qt.contentLeft)&&!(Le>Qt.contentLeft+Qt.width)){var Wt=v.getVerticalOffsetForLineNumber(Qt.position.lineNumber);if(Wt<=at&&at<=Wt+Qt.height)return m.fulfillContentText(Qt.position,null,{mightBeForeignElement:!1,injectedText:null})}}}catch(vt){kt.e(vt)}finally{kt.f()}}return null}},{key:"_hitTestViewZone",value:function(v,m){var u=v.getZoneAtCoord(m.mouseVerticalOffset);if(u){var g=m.isInContentArea?8:5;return m.fulfillViewZone(g,u.position,u)}return null}},{key:"_hitTestTextArea",value:function(v,m){return Ki.isTextArea(m.targetPath)?v.lastRenderData.lastTextareaPosition?m.fulfillContentText(v.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):m.fulfillTextarea():null}},{key:"_hitTestMargin",value:function(v,m){if(m.isInMarginArea){var u=v.getFullLineRangeAtCoord(m.mouseVerticalOffset),g=u.range.getStartPosition(),S=Math.abs(m.relativePos.x),ie={isAfterLines:u.isAfterLines,glyphMarginLeft:v.layoutInfo.glyphMarginLeft,glyphMarginWidth:v.layoutInfo.glyphMarginWidth,lineNumbersWidth:v.layoutInfo.lineNumbersWidth,offsetX:S};return S-=v.layoutInfo.glyphMarginLeft,S<=v.layoutInfo.glyphMarginWidth?m.fulfillMargin(2,g,u.range,ie):(S-=v.layoutInfo.glyphMarginWidth,S<=v.layoutInfo.lineNumbersWidth?m.fulfillMargin(3,g,u.range,ie):(S-=v.layoutInfo.lineNumbersWidth,m.fulfillMargin(4,g,u.range,ie)))}return null}},{key:"_hitTestViewLines",value:function(v,m,u){if(!Ki.isChildOfViewLines(m.targetPath))return null;if(v.isInTopPadding(m.mouseVerticalOffset))return m.fulfillContentEmpty(new kn.a(1,1),Jn);if(v.isAfterLines(m.mouseVerticalOffset)||v.isInBottomPadding(m.mouseVerticalOffset)){var g=v.viewModel.getLineCount(),S=v.viewModel.getLineMaxColumn(g);return m.fulfillContentEmpty(new kn.a(g,S),Jn)}if(u){if(Ki.isStrictChildOfViewLines(m.targetPath)){var ie=v.getLineNumberAtVerticalOffset(m.mouseVerticalOffset);if(v.viewModel.getLineLength(ie)===0){var Ee=v.getLineWidth(ie),Le=Yt(m.mouseContentHorizontalOffset-Ee);return m.fulfillContentEmpty(new kn.a(ie,1),Le)}var at=v.getLineWidth(ie);if(m.mouseContentHorizontalOffset>=at){var kt=Yt(m.mouseContentHorizontalOffset-at),Tt=new kn.a(ie,v.viewModel.getLineMaxColumn(ie));return m.fulfillContentEmpty(Tt,kt)}}return m.fulfillUnknown()}var Qt=Ke._doHitTest(v,m);return Qt.type===1?Ke.createMouseTargetFromHitTestPosition(v,m,Qt.spanNode,Qt.position,Qt.injectedText):this._createMouseTarget(v,m.withTarget(Qt.hitTarget),!0)}},{key:"_hitTestMinimap",value:function(v,m){if(Ki.isChildOfMinimap(m.targetPath)){var u=v.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),g=v.viewModel.getLineMaxColumn(u);return m.fulfillScrollbar(new kn.a(u,g))}return null}},{key:"_hitTestScrollbarSlider",value:function(v,m){if(Ki.isChildOfScrollableElement(m.targetPath)&&m.target&&m.target.nodeType===1){var u=m.target.className;if(u&&/\b(slider|scrollbar)\b/.test(u)){var g=v.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),S=v.viewModel.getLineMaxColumn(g);return m.fulfillScrollbar(new kn.a(g,S))}}return null}},{key:"_hitTestScrollbar",value:function(v,m){if(Ki.isChildOfScrollableElement(m.targetPath)){var u=v.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),g=v.viewModel.getLineMaxColumn(u);return m.fulfillScrollbar(new kn.a(u,g))}return null}},{key:"_getMouseColumn",value:function(v,m){if(v<0)return 1;var u=Math.round(v/m);return u+1}},{key:"createMouseTargetFromHitTestPosition",value:function(v,m,u,g,S){var ie=g.lineNumber,Ee=g.column,Le=v.getLineWidth(ie);if(m.mouseContentHorizontalOffset>Le){var at=Yt(m.mouseContentHorizontalOffset-Le);return m.fulfillContentEmpty(g,at)}var kt=v.visibleRangeForPosition(ie,Ee);if(!kt)return m.fulfillUnknown(g);var Tt=kt.left;if(Math.abs(m.mouseContentHorizontalOffset-Tt)<1)return m.fulfillContentText(g,null,{mightBeForeignElement:!!S,injectedText:S});var Qt=[];if(Qt.push({offset:kt.left,column:Ee}),Ee>1){var Wt=v.visibleRangeForPosition(ie,Ee-1);Wt&&Qt.push({offset:Wt.left,column:Ee-1})}var vt=v.viewModel.getLineMaxColumn(ie);if(Ee<vt){var wn=v.visibleRangeForPosition(ie,Ee+1);wn&&Qt.push({offset:wn.left,column:Ee+1})}Qt.sort(function(yr,Rr){return yr.offset-Rr.offset});for(var xn=m.pos.toClientCoordinates(),ri=u.getBoundingClientRect(),hi=ri.left<=xn.clientX&&xn.clientX<=ri.right,ki=null,Di=1;Di<Qt.length;Di++){var rr=Qt[Di-1],Ti=Qt[Di];if(rr.offset<=m.mouseContentHorizontalOffset&&m.mouseContentHorizontalOffset<=Ti.offset){ki=new Pn.a(ie,rr.column,ie,Ti.column);var Vi=Math.abs(rr.offset-m.mouseContentHorizontalOffset),Qi=Math.abs(Ti.offset-m.mouseContentHorizontalOffset);g=Vi<Qi?new kn.a(ie,rr.column):new kn.a(ie,Ti.column);break}}return m.fulfillContentText(g,ki,{mightBeForeignElement:!hi||!!S,injectedText:S})}},{key:"_doHitTestWithCaretRangeFromPoint",value:function(v,m){var u=v.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),g=v.getVerticalOffsetForLineNumber(u),S=g+v.lineHeight,ie=u===v.viewModel.getLineCount()&&m.mouseVerticalOffset>S;if(!ie){var Ee=Math.floor((g+S)/2),Le=m.pos.y+(Ee-m.mouseVerticalOffset);Le<=m.editorPos.y&&(Le=m.editorPos.y+1),Le>=m.editorPos.y+m.editorPos.height&&(Le=m.editorPos.y+m.editorPos.height-1);var at=new et.g(m.pos.x,Le),kt=this._actualDoHitTestWithCaretRangeFromPoint(v,at.toClientCoordinates());if(kt.type===1)return kt}return this._actualDoHitTestWithCaretRangeFromPoint(v,m.pos.toClientCoordinates())}},{key:"_actualDoHitTestWithCaretRangeFromPoint",value:function(v,m){var u=H.getShadowRoot(v.viewDomNode),g;if(u?typeof u.caretRangeFromPoint=="undefined"?g=Dn(u,m.clientX,m.clientY):g=u.caretRangeFromPoint(m.clientX,m.clientY):g=document.caretRangeFromPoint(m.clientX,m.clientY),!g||!g.startContainer)return new ir;var S=g.startContainer;if(S.nodeType===S.TEXT_NODE){var ie=S.parentNode,Ee=ie?ie.parentNode:null,Le=Ee?Ee.parentNode:null,at=Le&&Le.nodeType===Le.ELEMENT_NODE?Le.className:null;return at===an.CLASS_NAME?mi.createFromDOMInfo(v,ie,g.startOffset):new ir(S.parentNode)}else if(S.nodeType===S.ELEMENT_NODE){var kt=S.parentNode,Tt=kt?kt.parentNode:null,Qt=Tt&&Tt.nodeType===Tt.ELEMENT_NODE?Tt.className:null;return Qt===an.CLASS_NAME?mi.createFromDOMInfo(v,S,S.textContent.length):new ir(S)}return new ir}},{key:"_doHitTestWithCaretPositionFromPoint",value:function(v,m){var u=document.caretPositionFromPoint(m.clientX,m.clientY);if(u.offsetNode.nodeType===u.offsetNode.TEXT_NODE){var g=u.offsetNode.parentNode,S=g?g.parentNode:null,ie=S?S.parentNode:null,Ee=ie&&ie.nodeType===ie.ELEMENT_NODE?ie.className:null;return Ee===an.CLASS_NAME?mi.createFromDOMInfo(v,u.offsetNode.parentNode,u.offset):new ir(u.offsetNode.parentNode)}if(u.offsetNode.nodeType===u.offsetNode.ELEMENT_NODE){var Le=u.offsetNode.parentNode,at=Le&&Le.nodeType===Le.ELEMENT_NODE?Le.className:null,kt=Le?Le.parentNode:null,Tt=kt&&kt.nodeType===kt.ELEMENT_NODE?kt.className:null;if(at===an.CLASS_NAME){var Qt=u.offsetNode.childNodes[Math.min(u.offset,u.offsetNode.childNodes.length-1)];if(Qt)return mi.createFromDOMInfo(v,Qt,0)}else if(Tt===an.CLASS_NAME)return mi.createFromDOMInfo(v,u.offsetNode,0)}return new ir(u.offsetNode)}},{key:"_snapToSoftTabBoundary",value:function(v,m){var u=m.getLineContent(v.lineNumber),g=m.model.getOptions(),S=g.tabSize,ie=gi.a.atomicPosition(u,v.column-1,S,2);return ie!==-1?new kn.a(v.lineNumber,ie+1):v}},{key:"_doHitTest",value:function(v,m){var u=new ir;if(typeof document.caretRangeFromPoint=="function"?u=this._doHitTestWithCaretRangeFromPoint(v,m):document.caretPositionFromPoint&&(u=this._doHitTestWithCaretPositionFromPoint(v,m.pos.toClientCoordinates())),u.type===1){var g=v.viewModel.getInjectedTextAt(u.position),S=v.viewModel.normalizePosition(u.position,2);(g||!S.equals(u.position))&&(u=new yi(S,u.spanNode,g))}return u}}]),Ke}();function Dn(Ke,be,v){var m=document.createRange(),u=Ke.elementFromPoint(be,v);if(u!==null){for(;u&&u.firstChild&&u.firstChild.nodeType!==u.firstChild.TEXT_NODE&&u.lastChild&&u.lastChild.firstChild;)u=u.lastChild;var g=u.getBoundingClientRect(),S=window.getComputedStyle(u,null).getPropertyValue("font-style"),ie=window.getComputedStyle(u,null).getPropertyValue("font-variant"),Ee=window.getComputedStyle(u,null).getPropertyValue("font-weight"),Le=window.getComputedStyle(u,null).getPropertyValue("font-size"),at=window.getComputedStyle(u,null).getPropertyValue("line-height"),kt=window.getComputedStyle(u,null).getPropertyValue("font-family"),Tt="".concat(S," ").concat(ie," ").concat(Ee," ").concat(Le,"/").concat(at," ").concat(kt),Qt=u.innerText,Wt=g.left,vt=0,wn;if(be>g.left+g.width)vt=Qt.length;else for(var xn=gn.getInstance(),ri=0;ri<Qt.length+1;ri++){if(wn=xn.getCharWidth(Qt.charAt(ri),Tt)/2,Wt+=wn,be<Wt){vt=ri;break}Wt+=wn}m.setStart(u.firstChild,vt),m.setEnd(u.firstChild,vt)}return m}var gn=function(){function Ke(){Object(Y.a)(this,Ke),this._cache={},this._canvas=document.createElement("canvas")}return Object(E.a)(Ke,[{key:"getCharWidth",value:function(v,m){var u=v+m;if(this._cache[u])return this._cache[u];var g=this._canvas.getContext("2d");g.font=m;var S=g.measureText(v),ie=S.width;return this._cache[u]=ie,ie}}],[{key:"getInstance",value:function(){return Ke._INSTANCE||(Ke._INSTANCE=new Ke),Ke._INSTANCE}}]),Ke}();gn._INSTANCE=null;var en=a("GJhM"),yn=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g){var S;Object(Y.a)(this,v),S=be.call(this),S._mouseLeaveMonitor=null,S._context=m,S.viewController=u,S.viewHelper=g,S.mouseTargetFactory=new Ct(S._context,g),S._mouseDownOperation=S._register(new Qn(S._context,S.viewController,S.viewHelper,S.mouseTargetFactory,function(Le,at){return S._createMouseTarget(Le,at)},function(Le){return S._getMouseColumn(Le)})),S.lastMouseLeaveTime=-1,S._height=S._context.configuration.options.get(140).height;var ie=new et.d(S.viewHelper.viewDomNode);S._register(ie.onContextMenu(S.viewHelper.viewDomNode,function(Le){return S._onContextMenu(Le,!0)})),S._register(ie.onMouseMove(S.viewHelper.viewDomNode,function(Le){S._onMouseMove(Le),S._mouseLeaveMonitor||(S._mouseLeaveMonitor=H.addDisposableListener(document,"mousemove",function(at){S.viewHelper.viewDomNode.contains(at.target)||S._onMouseLeave(new et.c(at,!1,S.viewHelper.viewDomNode))}))})),S._register(ie.onMouseUp(S.viewHelper.viewDomNode,function(Le){return S._onMouseUp(Le)})),S._register(ie.onMouseLeave(S.viewHelper.viewDomNode,function(Le){return S._onMouseLeave(Le)}));var Ee=0;return S._register(ie.onPointerDown(S.viewHelper.viewDomNode,function(Le,at){Ee=at})),S._register(H.addDisposableListener(S.viewHelper.viewDomNode,H.EventType.POINTER_UP,function(Le){S._mouseDownOperation.onPointerUp()})),S._register(ie.onMouseDown(S.viewHelper.viewDomNode,function(Le){return S._onMouseDown(Le,Ee)})),S._setupMouseWheelZoomListener(),S._context.addEventHandler(Object(ve.a)(S)),S}return Object(E.a)(v,[{key:"_setupMouseWheelZoomListener",value:function(){var u=this,g=en.b.INSTANCE,S=0,ie=Q.a.getZoomLevel(),Ee=!1,Le=0,at=function(Qt){if(u.viewController.emitMouseWheel(Qt),!!u._context.configuration.options.get(73)){var Wt=new Lt.b(Qt);if(g.acceptStandardWheelEvent(Wt),g.isPhysicalMouseWheel()){if(kt(Qt)){var vt=Q.a.getZoomLevel(),wn=Wt.deltaY>0?1:-1;Q.a.setZoomLevel(vt+wn),Wt.preventDefault(),Wt.stopPropagation()}}else Date.now()-S>50&&(ie=Q.a.getZoomLevel(),Ee=kt(Qt),Le=0),S=Date.now(),Le+=Wt.deltaY,Ee&&(Q.a.setZoomLevel(ie+Le/5),Wt.preventDefault(),Wt.stopPropagation())}};this._register(H.addDisposableListener(this.viewHelper.viewDomNode,H.EventType.MOUSE_WHEEL,at,{capture:!0,passive:!1}));function kt(Tt){return I.i?(Tt.metaKey||Tt.ctrlKey)&&!Tt.shiftKey&&!Tt.altKey:Tt.ctrlKey&&!Tt.metaKey&&!Tt.shiftKey&&!Tt.altKey}}},{key:"dispose",value:function(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){if(u.hasChanged(140)){var g=this._context.configuration.options.get(140).height;this._height!==g&&(this._height=g,this._mouseDownOperation.onHeightChanged())}return!1}},{key:"onCursorStateChanged",value:function(u){return this._mouseDownOperation.onCursorStateChanged(u),!1}},{key:"onFocusChanged",value:function(u){return!1}},{key:"getTargetAtClientPoint",value:function(u,g){var S=new et.a(u,g),ie=S.toPageCoordinates(),Ee=Object(et.i)(this.viewHelper.viewDomNode);if(ie.y<Ee.y||ie.y>Ee.y+Ee.height||ie.x<Ee.x||ie.x>Ee.x+Ee.width)return null;var Le=Object(et.h)(this.viewHelper.viewDomNode,Ee,ie);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),Ee,ie,Le,null)}},{key:"_createMouseTarget",value:function(u,g){var S=this,ie=u.target;if(!this.viewHelper.viewDomNode.contains(ie)){var Ee=H.getShadowRoot(this.viewHelper.viewDomNode);Ee&&(ie=Ee.elementsFromPoint(u.posx,u.posy).find(function(Le){return S.viewHelper.viewDomNode.contains(Le)}))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),u.editorPos,u.pos,u.relativePos,g?ie:null)}},{key:"_getMouseColumn",value:function(u){return this.mouseTargetFactory.getMouseColumn(u.relativePos)}},{key:"_onContextMenu",value:function(u,g){this.viewController.emitContextMenu({event:u,target:this._createMouseTarget(u,g)})}},{key:"_onMouseMove",value:function(u){var g=this.mouseTargetFactory.mouseTargetIsWidget(u);if(g||u.preventDefault(),!this._mouseDownOperation.isActive()){var S=u.timestamp;S<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:u,target:this._createMouseTarget(u,!0)})}}},{key:"_onMouseLeave",value:function(u){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:u,target:null})}},{key:"_onMouseUp",value:function(u){this.viewController.emitMouseUp({event:u,target:this._createMouseTarget(u,!0)})}},{key:"_onMouseDown",value:function(u,g){var S=this,ie=this._createMouseTarget(u,!0),Ee=ie.type===6||ie.type===7,Le=ie.type===2||ie.type===3||ie.type===4,at=ie.type===3,kt=this._context.configuration.options.get(105),Tt=ie.type===8||ie.type===5,Qt=ie.type===9,Wt=u.leftButton||u.middleButton;I.i&&u.leftButton&&u.ctrlKey&&(Wt=!1);var vt=function(){u.preventDefault(),S.viewHelper.focusTextArea()};if(Wt&&(Ee||at&&kt))vt(),this._mouseDownOperation.start(ie.type,u,g);else if(Le)u.preventDefault();else if(Tt){var wn=ie.detail;Wt&&this.viewHelper.shouldSuppressMouseDownOnViewZone(wn.viewZoneId)&&(vt(),this._mouseDownOperation.start(ie.type,u,g),u.preventDefault())}else Qt&&this.viewHelper.shouldSuppressMouseDownOnWidget(ie.detail)&&(vt(),u.preventDefault());this.viewController.emitMouseDown({event:u,target:ie})}}]),v}(Vt),Qn=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g,S,ie,Ee){var Le;return Object(Y.a)(this,v),Le=be.call(this),Le._context=m,Le._viewController=u,Le._viewHelper=g,Le._mouseTargetFactory=S,Le._createMouseTarget=ie,Le._getMouseColumn=Ee,Le._mouseMoveMonitor=Le._register(new et.f(Le._viewHelper.viewDomNode)),Le._topBottomDragScrolling=Le._register(new pi(Le._context,Le._viewHelper,Le._mouseTargetFactory,function(at,kt,Tt){return Le._dispatchMouse(at,kt,Tt)})),Le._mouseState=new yt,Le._currentSelection=new Ft.a(1,1,1,1),Le._isActive=!1,Le._lastMouseEvent=null,Le}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"isActive",value:function(){return this._isActive}},{key:"_onMouseDownThenMove",value:function(u){this._lastMouseEvent=u,this._mouseState.setModifiers(u);var g=this._findMousePosition(u,!1);!g||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:u,target:g}):g.type===13&&(g.outsidePosition==="above"||g.outsidePosition==="below")?this._topBottomDragScrolling.start(g,u):(this._topBottomDragScrolling.stop(),this._dispatchMouse(g,!0,1)))}},{key:"start",value:function(u,g,S){var ie=this;this._lastMouseEvent=g,this._mouseState.setStartedOnLineNumbers(u===3),this._mouseState.setStartButtons(g),this._mouseState.setModifiers(g);var Ee=this._findMousePosition(g,!0);if(!(!Ee||!Ee.position)){this._mouseState.trySetCount(g.detail,Ee.position),g.detail=this._mouseState.count;var Le=this._context.configuration.options;if(!Le.get(88)&&Le.get(33)&&!Le.get(20)&&!this._mouseState.altKey&&g.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&Ee.type===6&&Ee.position&&this._currentSelection.containsPosition(Ee.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,S,g.buttons,function(at){return ie._onMouseDownThenMove(at)},function(at){var kt=ie._findMousePosition(ie._lastMouseEvent,!1);at&&at instanceof KeyboardEvent?ie._viewController.emitMouseDropCanceled():ie._viewController.emitMouseDrop({event:ie._lastMouseEvent,target:kt?ie._createMouseTarget(ie._lastMouseEvent,!0):null}),ie._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(Ee,g.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,S,g.buttons,function(at){return ie._onMouseDownThenMove(at)},function(){return ie._stop()}))}}},{key:"_stop",value:function(){this._isActive=!1,this._topBottomDragScrolling.stop()}},{key:"onHeightChanged",value:function(){this._mouseMoveMonitor.stopMonitoring()}},{key:"onPointerUp",value:function(){this._mouseMoveMonitor.stopMonitoring()}},{key:"onCursorStateChanged",value:function(u){this._currentSelection=u.selections[0]}},{key:"_getPositionOutsideEditor",value:function(u){var g=u.editorPos,S=this._context.viewModel,ie=this._context.viewLayout,Ee=this._getMouseColumn(u);if(u.posy<g.y){var Le=g.y-u.posy,at=Math.max(ie.getCurrentScrollTop()-Le,0),kt=Bn.getZoneAtCoord(this._context,at);if(kt){var Tt=this._helpPositionJumpOverViewZone(kt);if(Tt)return zn.createOutsideEditor(Ee,Tt,"above",Le)}var Qt=ie.getLineNumberAtVerticalOffset(at);return zn.createOutsideEditor(Ee,new kn.a(Qt,1),"above",Le)}if(u.posy>g.y+g.height){var Wt=u.posy-g.y-g.height,vt=ie.getCurrentScrollTop()+u.relativePos.y,wn=Bn.getZoneAtCoord(this._context,vt);if(wn){var xn=this._helpPositionJumpOverViewZone(wn);if(xn)return zn.createOutsideEditor(Ee,xn,"below",Wt)}var ri=ie.getLineNumberAtVerticalOffset(vt);return zn.createOutsideEditor(Ee,new kn.a(ri,S.getLineMaxColumn(ri)),"below",Wt)}var hi=ie.getLineNumberAtVerticalOffset(ie.getCurrentScrollTop()+u.relativePos.y);if(u.posx<g.x){var ki=g.x-u.posx;return zn.createOutsideEditor(Ee,new kn.a(hi,1),"left",ki)}if(u.posx>g.x+g.width){var Di=u.posx-g.x-g.width;return zn.createOutsideEditor(Ee,new kn.a(hi,S.getLineMaxColumn(hi)),"right",Di)}return null}},{key:"_findMousePosition",value:function(u,g){var S=this._getPositionOutsideEditor(u);if(S)return S;var ie=this._createMouseTarget(u,g),Ee=ie.position;if(!Ee)return null;if(ie.type===8||ie.type===5){var Le=this._helpPositionJumpOverViewZone(ie.detail);if(Le)return zn.createViewZone(ie.type,ie.element,ie.mouseColumn,Le,ie.detail)}return ie}},{key:"_helpPositionJumpOverViewZone",value:function(u){var g=new kn.a(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),S=u.positionBefore,ie=u.positionAfter;return S&&ie?S.isBefore(g)?S:ie:null}},{key:"_dispatchMouse",value:function(u,g,S){!u.position||this._viewController.dispatchMouse({position:u.position,mouseColumn:u.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:S,inSelectionMode:g,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:u.type===6&&u.detail.injectedText!==null})}}]),v}(C.a),pi=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g,S){var ie;return Object(Y.a)(this,v),ie=be.call(this),ie._context=m,ie._viewHelper=u,ie._mouseTargetFactory=g,ie._dispatchMouse=S,ie._operation=null,ie}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this),this.stop()}},{key:"start",value:function(u,g){this._operation?this._operation.setPosition(u,g):this._operation=new Pt(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,u,g)}},{key:"stop",value:function(){this._operation&&(this._operation.dispose(),this._operation=null)}}]),v}(C.a),Pt=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g,S,ie,Ee){var Le;return Object(Y.a)(this,v),Le=be.call(this),Le._context=m,Le._viewHelper=u,Le._mouseTargetFactory=g,Le._dispatchMouse=S,Le._position=ie,Le._mouseEvent=Ee,Le._lastTime=Date.now(),Le._animationFrameDisposable=H.scheduleAtNextAnimationFrame(function(){return Le._execute()}),Le}return Object(E.a)(v,[{key:"dispose",value:function(){this._animationFrameDisposable.dispose()}},{key:"setPosition",value:function(u,g){this._position=u,this._mouseEvent=g}},{key:"_tick",value:function(){var u=Date.now(),g=u-this._lastTime;return this._lastTime=u,g}},{key:"_getScrollSpeed",value:function(){var u=this._context.configuration.options.get(64),g=this._context.configuration.options.get(140).height/u,S=this._position.outsideDistance/u;return S<=1.5?Math.max(30,g*(1+S)):S<=3?Math.max(60,g*(2+S)):Math.max(200,g*(7+S))}},{key:"_execute",value:function(){var u=this,g=this._context.configuration.options.get(64),S=this._getScrollSpeed(),ie=this._tick(),Ee=S*(ie/1e3)*g,Le=this._position.outsidePosition==="above"?-Ee:Ee;this._context.viewModel.viewLayout.deltaScrollNow(0,Le),this._viewHelper.renderNow();var at=this._context.viewLayout.getLinesViewportData(),kt=this._position.outsidePosition==="above"?at.startLineNumber:at.endLineNumber,Tt;{var Qt=Object(et.i)(this._viewHelper.viewDomNode),Wt=this._context.configuration.options.get(140).horizontalScrollbarHeight,vt=new et.g(this._mouseEvent.pos.x,Qt.y+Qt.height-Wt-.1),wn=Object(et.h)(this._viewHelper.viewDomNode,Qt,vt);Tt=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),Qt,vt,wn,null)}(!Tt.position||Tt.position.lineNumber!==kt)&&(this._position.outsidePosition==="above"?Tt=zn.createOutsideEditor(this._position.mouseColumn,new kn.a(kt,1),"above",this._position.outsideDistance):Tt=zn.createOutsideEditor(this._position.mouseColumn,new kn.a(kt,this._context.viewModel.getLineMaxColumn(kt)),"below",this._position.outsideDistance)),this._dispatchMouse(Tt,!0,2),this._animationFrameDisposable=H.scheduleAtNextAnimationFrame(function(){return u._execute()})}}]),v}(C.a),yt=function(){function Ke(){Object(Y.a)(this,Ke),this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object(E.a)(Ke,[{key:"altKey",get:function(){return this._altKey}},{key:"ctrlKey",get:function(){return this._ctrlKey}},{key:"metaKey",get:function(){return this._metaKey}},{key:"shiftKey",get:function(){return this._shiftKey}},{key:"leftButton",get:function(){return this._leftButton}},{key:"middleButton",get:function(){return this._middleButton}},{key:"startedOnLineNumbers",get:function(){return this._startedOnLineNumbers}},{key:"count",get:function(){return this._lastMouseDownCount}},{key:"setModifiers",value:function(v){this._altKey=v.altKey,this._ctrlKey=v.ctrlKey,this._metaKey=v.metaKey,this._shiftKey=v.shiftKey}},{key:"setStartButtons",value:function(v){this._leftButton=v.leftButton,this._middleButton=v.middleButton}},{key:"setStartedOnLineNumbers",value:function(v){this._startedOnLineNumbers=v}},{key:"trySetCount",value:function(v,m){var u=new Date().getTime();u-this._lastSetMouseDownCountTime>Ke.CLEAR_MOUSE_DOWN_COUNT_TIME&&(v=1),this._lastSetMouseDownCountTime=u,v>this._lastMouseDownCount+1&&(v=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(m)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=m,this._lastMouseDownCount=Math.min(v,this._lastMouseDownPositionEqualCount)}}]),Ke}();yt.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Rn=a("CjF5"),Sn=a("5TxY"),Ii=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g){var S;Object(Y.a)(this,v),S=be.call(this,m,u,g),S._register(pt.b.addTarget(S.viewHelper.linesContentDomNode)),S._register(H.addDisposableListener(S.viewHelper.linesContentDomNode,pt.a.Tap,function(Ee){return S.onTap(Ee)})),S._register(H.addDisposableListener(S.viewHelper.linesContentDomNode,pt.a.Change,function(Ee){return S.onChange(Ee)})),S._register(H.addDisposableListener(S.viewHelper.linesContentDomNode,pt.a.Contextmenu,function(Ee){return S._onContextMenu(new et.c(Ee,!1,S.viewHelper.viewDomNode),!1)})),S._lastPointerType="mouse",S._register(H.addDisposableListener(S.viewHelper.linesContentDomNode,"pointerdown",function(Ee){var Le=Ee.pointerType;if(Le==="mouse"){S._lastPointerType="mouse";return}else Le==="touch"?S._lastPointerType="touch":S._lastPointerType="pen"}));var ie=new et.e(S.viewHelper.viewDomNode);return S._register(ie.onPointerMove(S.viewHelper.viewDomNode,function(Ee){return S._onMouseMove(Ee)})),S._register(ie.onPointerUp(S.viewHelper.viewDomNode,function(Ee){return S._onMouseUp(Ee)})),S._register(ie.onPointerLeave(S.viewHelper.viewDomNode,function(Ee){return S._onMouseLeave(Ee)})),S._register(ie.onPointerDown(S.viewHelper.viewDomNode,function(Ee,Le){return S._onMouseDown(Ee,Le)})),S}return Object(E.a)(v,[{key:"onTap",value:function(u){if(!(!u.initialTarget||!this.viewHelper.linesContentDomNode.contains(u.initialTarget))){u.preventDefault(),this.viewHelper.focusTextArea();var g=this._createMouseTarget(new et.c(u,!1,this.viewHelper.viewDomNode),!1);g.position&&this.viewController.dispatchMouse({position:g.position,mouseColumn:g.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:u.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:g.type===6&&g.detail.injectedText!==null})}}},{key:"onChange",value:function(u){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-u.translationX,-u.translationY)}},{key:"_onMouseDown",value:function(u,g){u.browserEvent.pointerType!=="touch"&&Object(se.a)(Object(te.a)(v.prototype),"_onMouseDown",this).call(this,u,g)}}]),v}(yn),Hi=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g){var S;return Object(Y.a)(this,v),S=be.call(this,m,u,g),S._register(pt.b.addTarget(S.viewHelper.linesContentDomNode)),S._register(H.addDisposableListener(S.viewHelper.linesContentDomNode,pt.a.Tap,function(ie){return S.onTap(ie)})),S._register(H.addDisposableListener(S.viewHelper.linesContentDomNode,pt.a.Change,function(ie){return S.onChange(ie)})),S._register(H.addDisposableListener(S.viewHelper.linesContentDomNode,pt.a.Contextmenu,function(ie){return S._onContextMenu(new et.c(ie,!1,S.viewHelper.viewDomNode),!1)})),S}return Object(E.a)(v,[{key:"onTap",value:function(u){u.preventDefault(),this.viewHelper.focusTextArea();var g=this._createMouseTarget(new et.c(u,!1,this.viewHelper.viewDomNode),!1);if(g.position){var S=document.createEvent("CustomEvent");S.initEvent(Sn.d.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(S),this.viewController.moveTo(g.position,1)}}},{key:"onChange",value:function(u){this._context.viewModel.viewLayout.deltaScrollNow(-u.translationX,-u.translationY)}}]),v}(yn),wt=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g){var S;return Object(Y.a)(this,v),S=be.call(this),I.f&&Rn.a.pointerEvents?S.handler=S._register(new Ii(m,u,g)):window.TouchEvent?S.handler=S._register(new Hi(m,u,g)):S.handler=S._register(new yn(m,u,g)),S}return Object(E.a)(v,[{key:"getTargetAtClientPoint",value:function(u,g){return this.handler.getTargetAtClientPoint(u,g)}}]),v}(C.a),Pi=a("VvMK"),Ut=a("N0LK"),We=a("DMKg"),Tn=a("Comh"),ar=a("Krc3"),Br=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(){return Object(Y.a)(this,v),be.apply(this,arguments)}return Object(E.a)(v)}(Vt),Yr=a("t9D7"),ti=a("3IFt"),bi=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;return Object(Y.a)(this,v),u=be.call(this),u._context=m,u._readConfig(),u._lastCursorModelPosition=new kn.a(1,1),u._renderResult=null,u._activeLineNumber=1,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(E.a)(v,[{key:"_readConfig",value:function(){var u=this._context.configuration.options;this._lineHeight=u.get(64);var g=u.get(65);this._renderLineNumbers=g.renderType,this._renderCustomLineNumbers=g.renderFn,this._renderFinalNewline=u.get(91);var S=u.get(140);this._lineNumbersLeft=S.lineNumbersLeft,this._lineNumbersWidth=S.lineNumbersWidth}},{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){return this._readConfig(),!0}},{key:"onCursorStateChanged",value:function(u){var g=u.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(g);var S=!1;return this._activeLineNumber!==g.lineNumber&&(this._activeLineNumber=g.lineNumber,S=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(S=!0),S}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_getLineRenderLineNumber",value:function(u){var g=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new kn.a(u,1));if(g.column!==1)return"";var S=g.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(S);if(this._renderLineNumbers===2){var ie=Math.abs(this._lastCursorModelPosition.lineNumber-S);return ie===0?'<span class="relative-current-line-number">'+S+"</span>":String(ie)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===S||S%10==0?String(S):"":String(S)}},{key:"prepareRender",value:function(u){if(this._renderLineNumbers===0){this._renderResult=null;return}for(var g=I.g?this._lineHeight%2==0?" lh-even":" lh-odd":"",S=u.visibleRange.startLineNumber,ie=u.visibleRange.endLineNumber,Ee=this._context.viewModel.getLineCount(),Le=[],at=S;at<=ie;at++){var kt=at-S,Tt=this._getLineRenderLineNumber(at);if(!Tt){Le[kt]="";continue}var Qt="";if(at===Ee&&this._context.viewModel.getLineLength(at)===0){if(this._renderFinalNewline==="off"){Le[kt]="";continue}this._renderFinalNewline==="dimmed"&&(Qt=" dimmed-line-number")}at===this._activeLineNumber&&(Qt=" active-line-number"),Le[kt]='<div class="'.concat(v.CLASS_NAME).concat(g).concat(Qt,'" style="left:').concat(this._lineNumbersLeft,"px;width:").concat(this._lineNumbersWidth,'px;">').concat(Tt,"</div>")}this._renderResult=Le}},{key:"render",value:function(u,g){if(!this._renderResult)return"";var S=g-u;return S<0||S>=this._renderResult.length?"":this._renderResult[S]}}]),v}(Br);bi.CLASS_NAME="line-numbers",Object(Yr.e)(function(Ke,be){var v=Ke.getColor(ti.A),m=Ke.getColor(ti.w);m?be.addRule(".monaco-editor .line-numbers.dimmed-line-number { color: ".concat(m,"; }")):v&&be.addRule(".monaco-editor .line-numbers.dimmed-line-number { color: ".concat(v.transparent(.4),"; }"))});var Kn=a("W1oj"),En=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this,m);var g=u._context.configuration.options,S=g.get(140);return u._canUseLayerHinting=!g.get(30),u._contentLeft=S.contentLeft,u._glyphMarginLeft=S.glyphMarginLeft,u._glyphMarginWidth=S.glyphMarginWidth,u._domNode=Object(Ot.b)(document.createElement("div")),u._domNode.setClassName(v.OUTER_CLASS_NAME),u._domNode.setPosition("absolute"),u._domNode.setAttribute("role","presentation"),u._domNode.setAttribute("aria-hidden","true"),u._glyphMarginBackgroundDomNode=Object(Ot.b)(document.createElement("div")),u._glyphMarginBackgroundDomNode.setClassName(v.CLASS_NAME),u._domNode.appendChild(u._glyphMarginBackgroundDomNode),u}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"getDomNode",value:function(){return this._domNode}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,S=g.get(140);return this._canUseLayerHinting=!g.get(30),this._contentLeft=S.contentLeft,this._glyphMarginLeft=S.glyphMarginLeft,this._glyphMarginWidth=S.glyphMarginWidth,!0}},{key:"onScrollChanged",value:function(u){return Object(se.a)(Object(te.a)(v.prototype),"onScrollChanged",this).call(this,u)||u.scrollTopChanged}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");var g=u.scrollTop-u.bigNumbersDelta;this._domNode.setTop(-g);var S=Math.min(u.scrollHeight,1e6);this._domNode.setHeight(S),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(S)}}]),v}(Re);En.CLASS_NAME="glyph-margin",En.OUTER_CLASS_NAME="margin";var Nt=a("Vk6M"),Gt=a("51su"),mt=a("LloX"),Ye=a("zrhQ"),vn=a("bvvZ"),nt=function(){function Ke(be,v,m,u,g){Object(Y.a)(this,Ke),this._context=be,this.modelLineNumber=v,this.distanceToModelLineStart=m,this.widthOfHiddenLineTextBefore=u,this.distanceToModelLineEnd=g,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}return Object(E.a)(Ke,[{key:"prepareRender",value:function(v){var m=new kn.a(this.modelLineNumber,this.distanceToModelLineStart+1),u=new kn.a(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(m),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(u),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=v.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=v.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}},{key:"definePresentation",value:function(v){return this._previousPresentation||(v?this._previousPresentation=v:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}]),Ke}(),Ze=O.isFirefox,Zt=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g){var S;Object(Y.a)(this,v),S=be.call(this,m),S._primaryCursorPosition=new kn.a(1,1),S._primaryCursorVisibleRange=null,S._viewController=u,S._visibleRangeProvider=g,S._scrollLeft=0,S._scrollTop=0;var ie=S._context.configuration.options,Ee=ie.get(140);S._setAccessibilityOptions(ie),S._contentLeft=Ee.contentLeft,S._contentWidth=Ee.contentWidth,S._contentHeight=Ee.height,S._fontInfo=ie.get(48),S._lineHeight=ie.get(64),S._emptySelectionClipboard=ie.get(35),S._copyWithSyntaxHighlighting=ie.get(23),S._visibleTextArea=null,S._selections=[new Ft.a(1,1,1,1)],S._modelSelections=[new Ft.a(1,1,1,1)],S._lastRenderPosition=null,S.textArea=Object(Ot.b)(document.createElement("textarea")),Ce.write(S.textArea,6),S.textArea.setClassName("inputarea ".concat(Gt.a)),S.textArea.setAttribute("wrap",S._textAreaWrapping&&!S._visibleTextArea?"on":"off");var Le=S._context.viewModel.model.getOptions(),at=Le.tabSize;S.textArea.domNode.style.tabSize="".concat(at*S._fontInfo.spaceWidth,"px"),S.textArea.setAttribute("autocorrect","off"),S.textArea.setAttribute("autocapitalize","off"),S.textArea.setAttribute("autocomplete","off"),S.textArea.setAttribute("spellcheck","false"),S.textArea.setAttribute("aria-label",S._getAriaLabel(ie)),S.textArea.setAttribute("tabindex",String(ie.get(120))),S.textArea.setAttribute("role","textbox"),S.textArea.setAttribute("aria-roledescription",N.b("editor","editor")),S.textArea.setAttribute("aria-multiline","true"),S.textArea.setAttribute("aria-haspopup","false"),S.textArea.setAttribute("aria-autocomplete","both"),S._ensureReadOnlyAttribute(),S.textAreaCover=Object(Ot.b)(document.createElement("div")),S.textAreaCover.setPosition("absolute");var kt={getLineCount:function(){return S._context.viewModel.getLineCount()},getLineMaxColumn:function(vt){return S._context.viewModel.getLineMaxColumn(vt)},getValueInRange:function(vt,wn){return S._context.viewModel.getValueInRange(vt,wn)},getValueLengthInRange:function(vt,wn){return S._context.viewModel.getValueLengthInRange(vt,wn)},modifyPosition:function(vt,wn){return S._context.viewModel.modifyPosition(vt,wn)}},Tt={getDataToCopy:function(){var vt=S._context.viewModel.getPlainTextToCopy(S._modelSelections,S._emptySelectionClipboard,I.o),wn=S._context.viewModel.model.getEOL(),xn=S._emptySelectionClipboard&&S._modelSelections.length===1&&S._modelSelections[0].isEmpty(),ri=Array.isArray(vt)?vt:null,hi=Array.isArray(vt)?vt.join(wn):vt,ki=void 0,Di=null;if(Sn.a.forceCopyWithSyntaxHighlighting||S._copyWithSyntaxHighlighting&&hi.length<65536){var rr=S._context.viewModel.getRichTextToCopy(S._modelSelections,S._emptySelectionClipboard);rr&&(ki=rr.html,Di=rr.mode)}return{isFromEmptySelection:xn,multicursorText:ri,text:hi,html:ki,mode:Di}},getScreenReaderContent:function(){if(S._accessibilitySupport===1){var vt=S._selections[0];if(I.i&&vt.isEmpty()){var wn=vt.getStartPosition(),xn=S._getWordBeforePosition(wn);if(xn.length===0&&(xn=S._getCharacterBeforePosition(wn)),xn.length>0)return new Tn.b(xn,xn.length,xn.length,Pn.a.fromPositions(wn),0)}var ri=500;if(I.i&&!vt.isEmpty()&&kt.getValueLengthInRange(vt,0)<ri){var hi=kt.getValueInRange(vt,0);return new Tn.b(hi,0,hi.length,vt,0)}if(O.isSafari&&!vt.isEmpty()){var ki="vscode-placeholder";return new Tn.b(ki,0,ki.length,null,void 0)}return Tn.b.EMPTY}if(O.isAndroid){var Di=S._selections[0];if(Di.isEmpty()){var rr=Di.getStartPosition(),Ti=S._getAndroidWordAtPosition(rr),Vi=Object(ce.a)(Ti,2),Qi=Vi[0],yr=Vi[1];if(Qi.length>0)return new Tn.b(Qi,yr,yr,Pn.a.fromPositions(rr),0)}return Tn.b.EMPTY}return Tn.a.fromEditorSelection(kt,S._selections[0],S._accessibilityPageSize,S._accessibilitySupport===0)},deduceModelPosition:function(vt,wn,xn){return S._context.viewModel.deduceModelPositionRelativeToViewPosition(vt,wn,xn)}},Qt=S._register(new Sn.e(S.textArea.domNode));return S._textAreaInput=S._register(new Sn.c(Tt,Qt,I.a,O)),S._register(S._textAreaInput.onKeyDown(function(Wt){S._viewController.emitKeyDown(Wt)})),S._register(S._textAreaInput.onKeyUp(function(Wt){S._viewController.emitKeyUp(Wt)})),S._register(S._textAreaInput.onPaste(function(Wt){var vt=!1,wn=null,xn=null;Wt.metadata&&(vt=S._emptySelectionClipboard&&!!Wt.metadata.isFromEmptySelection,wn=typeof Wt.metadata.multicursorText!="undefined"?Wt.metadata.multicursorText:null,xn=Wt.metadata.mode),S._viewController.paste(Wt.text,vt,wn,xn)})),S._register(S._textAreaInput.onCut(function(){S._viewController.cut()})),S._register(S._textAreaInput.onType(function(Wt){Wt.replacePrevCharCnt||Wt.replaceNextCharCnt||Wt.positionDelta?(Tn.c&&console.log(" => compositionType: <<".concat(Wt.text,">>, ").concat(Wt.replacePrevCharCnt,", ").concat(Wt.replaceNextCharCnt,", ").concat(Wt.positionDelta)),S._viewController.compositionType(Wt.text,Wt.replacePrevCharCnt,Wt.replaceNextCharCnt,Wt.positionDelta)):(Tn.c&&console.log(" => type: <<".concat(Wt.text,">>")),S._viewController.type(Wt.text))})),S._register(S._textAreaInput.onSelectionChangeRequest(function(Wt){S._viewController.setSelection(Wt)})),S._register(S._textAreaInput.onCompositionStart(function(Wt){var vt=S.textArea.domNode,wn=S._modelSelections[0],xn=function(){var rr=vt.value.substring(0,Math.min(vt.selectionStart,vt.selectionEnd)),Ti=rr.lastIndexOf(`
`),Vi=rr.substring(Ti+1),Qi=Vi.lastIndexOf("	"),yr=Vi.length-Qi-1,Rr=wn.getStartPosition(),Qr=Math.min(Rr.column-1,yr),ha=Rr.column-1-Qr,Oa=Vi.substring(0,Vi.length-Qr),qr=S._context.viewModel.model.getOptions(),ka=qr.tabSize,Ya=hn(Oa,S._fontInfo,ka);return{distanceToModelLineStart:ha,widthOfHiddenTextBefore:Ya}}(),ri=xn.distanceToModelLineStart,hi=xn.widthOfHiddenTextBefore,ki=function(){var rr=vt.value.substring(Math.max(vt.selectionStart,vt.selectionEnd)),Ti=rr.indexOf(`
`),Vi=Ti===-1?rr:rr.substring(0,Ti),Qi=Vi.indexOf("	"),yr=Qi===-1?Vi.length:Vi.length-Qi-1,Rr=wn.getEndPosition(),Qr=Math.min(S._context.viewModel.model.getLineMaxColumn(Rr.lineNumber)-Rr.column,yr),ha=S._context.viewModel.model.getLineMaxColumn(Rr.lineNumber)-Rr.column-Qr;return{distanceToModelLineEnd:ha}}(),Di=ki.distanceToModelLineEnd;S._context.viewModel.revealRange("keyboard",!0,Pn.a.fromPositions(S._selections[0].getStartPosition()),0,1),S._visibleTextArea=new nt(S._context,wn.startLineNumber,ri,hi,Di),S.textArea.setAttribute("wrap",S._textAreaWrapping&&!S._visibleTextArea?"on":"off"),S._visibleTextArea.prepareRender(S._visibleRangeProvider),S._render(),S.textArea.setClassName("inputarea ".concat(Gt.a," ime-input")),S._viewController.compositionStart(),S._context.viewModel.onCompositionStart()})),S._register(S._textAreaInput.onCompositionUpdate(function(Wt){!S._visibleTextArea||(S._visibleTextArea.prepareRender(S._visibleRangeProvider),S._render())})),S._register(S._textAreaInput.onCompositionEnd(function(){S._visibleTextArea=null,S.textArea.setAttribute("wrap",S._textAreaWrapping&&!S._visibleTextArea?"on":"off"),S._render(),S.textArea.setClassName("inputarea ".concat(Gt.a)),S._viewController.compositionEnd(),S._context.viewModel.onCompositionEnd()})),S._register(S._textAreaInput.onFocus(function(){S._context.viewModel.setHasFocus(!0)})),S._register(S._textAreaInput.onBlur(function(){S._context.viewModel.setHasFocus(!1)})),S._register(vn.a.onDidChange(function(){S._ensureReadOnlyAttribute()})),S}return Object(E.a)(v,[{key:"writeScreenReaderContent",value:function(u){this._textAreaInput.writeScreenReaderContent(u)}},{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"_getAndroidWordAtPosition",value:function(u){for(var g='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',S=this._context.viewModel.getLineContent(u.lineNumber),ie=Object(Nt.a)(g),Ee=!0,Le=u.column,at=!0,kt=u.column,Tt=0;Tt<50&&(Ee||at);){if(Ee&&Le<=1&&(Ee=!1),Ee){var Qt=S.charCodeAt(Le-2),Wt=ie.get(Qt);Wt!==0?Ee=!1:Le--}if(at&&kt>S.length&&(at=!1),at){var vt=S.charCodeAt(kt-1),wn=ie.get(vt);wn!==0?at=!1:kt++}Tt++}return[S.substring(Le-1,kt-1),u.column-Le]}},{key:"_getWordBeforePosition",value:function(u){for(var g=this._context.viewModel.getLineContent(u.lineNumber),S=Object(Nt.a)(this._context.configuration.options.get(126)),ie=u.column,Ee=0;ie>1;){var Le=g.charCodeAt(ie-2),at=S.get(Le);if(at!==0||Ee>50)return g.substring(ie-1,u.column-1);Ee++,ie--}return g.substring(0,u.column-1)}},{key:"_getCharacterBeforePosition",value:function(u){if(u.column>1){var g=this._context.viewModel.getLineContent(u.lineNumber),S=g.charAt(u.column-2);if(!Ut.F(S.charCodeAt(0)))return S}return""}},{key:"_getAriaLabel",value:function(u){var g=u.get(2);return g===1?N.b("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",I.g?"Shift+Alt+F1":"Alt+F1"):u.get(4)}},{key:"_setAccessibilityOptions",value:function(u){this._accessibilitySupport=u.get(2);var g=u.get(3);this._accessibilitySupport===2&&g===ae.h.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=g;var S=u.get(140),ie=S.wrappingColumn;if(ie!==-1&&this._accessibilitySupport!==1){var Ee=u.get(48);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(ie*Ee.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=Ze?0:1}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,S=g.get(140);this._setAccessibilityOptions(g),this._contentLeft=S.contentLeft,this._contentWidth=S.contentWidth,this._contentHeight=S.height,this._fontInfo=g.get(48),this._lineHeight=g.get(64),this._emptySelectionClipboard=g.get(35),this._copyWithSyntaxHighlighting=g.get(23),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");var ie=this._context.viewModel.model.getOptions(),Ee=ie.tabSize;return this.textArea.domNode.style.tabSize="".concat(Ee*this._fontInfo.spaceWidth,"px"),this.textArea.setAttribute("aria-label",this._getAriaLabel(g)),this.textArea.setAttribute("tabindex",String(g.get(120))),(u.hasChanged(32)||u.hasChanged(88))&&this._ensureReadOnlyAttribute(),u.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}},{key:"onCursorStateChanged",value:function(u){return this._selections=u.selections.slice(0),this._modelSelections=u.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return this._scrollLeft=u.scrollLeft,this._scrollTop=u.scrollTop,!0}},{key:"onZonesChanged",value:function(u){return!0}},{key:"isFocused",value:function(){return this._textAreaInput.isFocused()}},{key:"focusTextArea",value:function(){this._textAreaInput.focusTextArea()}},{key:"getLastRenderData",value:function(){return this._lastRenderPosition}},{key:"setAriaOptions",value:function(u){u.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",u.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),u.role&&this.textArea.setAttribute("role",u.role)}},{key:"_ensureReadOnlyAttribute",value:function(){var u=this._context.configuration.options,g=!vn.a.enabled||u.get(32)&&u.get(88);g?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}},{key:"prepareRender",value:function(u){var g;this._primaryCursorPosition=new kn.a(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=u.visibleRangeForPosition(this._primaryCursorPosition),(g=this._visibleTextArea)===null||g===void 0||g.prepareRender(u)}},{key:"render",value:function(u){this._textAreaInput.writeScreenReaderContent("render"),this._render()}},{key:"_render",value:function(){var u;if(this._visibleTextArea){var g=this._visibleTextArea.visibleTextareaStart,S=this._visibleTextArea.visibleTextareaEnd,ie=this._visibleTextArea.startPosition,Ee=this._visibleTextArea.endPosition;if(ie&&Ee&&g&&S&&S.left>=this._scrollLeft&&g.left<=this._scrollLeft+this._contentWidth){var Le=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,at=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart)),kt=this._visibleTextArea.widthOfHiddenLineTextBefore,Tt=this._contentLeft+g.left-this._scrollLeft,Qt=S.left-g.left+1;if(Tt<this._contentLeft){var Wt=this._contentLeft-Tt;Tt+=Wt,kt+=Wt,Qt-=Wt}Qt>this._contentWidth&&(Qt=this._contentWidth);var vt=this._context.viewModel.getViewLineData(ie.lineNumber),wn=vt.tokens.findTokenIndexAtOffset(ie.column-1),xn=vt.tokens.findTokenIndexAtOffset(Ee.column-1),ri=wn===xn,hi=this._visibleTextArea.definePresentation(ri?vt.tokens.getPresentation(wn):null);this.textArea.domNode.scrollTop=at*this._lineHeight,this.textArea.domNode.scrollLeft=kt,this._doRender({lastRenderPosition:null,top:Le,left:Tt,width:Qt,height:this._lineHeight,useCover:!1,color:(mt.m.getColorMap()||[])[hi.foreground],italic:hi.italic,bold:hi.bold,underline:hi.underline,strikethrough:hi.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}var ki=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(ki<this._contentLeft||ki>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}var Di=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(Di<0||Di>this._contentHeight){this._renderAtTopLeft();return}if(I.i){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:Di,left:this._textAreaWrapping?this._contentLeft:ki,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;var rr=(u=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&u!==void 0?u:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=rr*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:Di,left:this._textAreaWrapping?this._contentLeft:ki,width:this._textAreaWidth,height:Ze?0:1,useCover:!1})}},{key:"_newlinecount",value:function(u){var g=0,S=-1;do{if(S=u.indexOf(`
`,S+1),S===-1)break;g++}while(!0);return g}},{key:"_renderAtTopLeft",value:function(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:Ze?0:1,useCover:!0})}},{key:"_doRender",value:function(u){this._lastRenderPosition=u.lastRenderPosition;var g=this.textArea,S=this.textAreaCover;Object(We.a)(g,this._fontInfo),g.setTop(u.top),g.setLeft(u.left),g.setWidth(u.width),g.setHeight(u.height),g.setColor(u.color?Ye.a.Format.CSS.formatHex(u.color):""),g.setFontStyle(u.italic?"italic":""),u.bold&&g.setFontWeight("bold"),g.setTextDecoration("".concat(u.underline?" underline":"").concat(u.strikethrough?" line-through":"")),S.setTop(u.useCover?u.top:0),S.setLeft(u.useCover?u.left:0),S.setWidth(u.useCover?u.width:0),S.setHeight(u.useCover?u.height:0);var ie=this._context.configuration.options;ie.get(55)?S.setClassName("monaco-editor-background textAreaCover "+En.OUTER_CLASS_NAME):ie.get(65).renderType!==0?S.setClassName("monaco-editor-background textAreaCover "+bi.CLASS_NAME):S.setClassName("monaco-editor-background textAreaCover")}}]),v}(Re);function hn(Ke,be,v){if(Ke.length===0)return 0;var m=document.createElement("div");m.style.position="absolute",m.style.top="-50000px",m.style.width="50000px";var u=document.createElement("span");Object(We.a)(u,be),u.style.whiteSpace="pre",u.style.tabSize="".concat(v*be.spaceWidth,"px"),u.append(Ke),m.appendChild(u),document.body.appendChild(m);var g=u.offsetWidth;return document.body.removeChild(m),g}var Ht=a("BJRu"),lt=function(){function Ke(be,v,m,u){Object(Y.a)(this,Ke),this.configuration=be,this.viewModel=v,this.userInputEvents=m,this.commandDelegate=u}return Object(E.a)(Ke,[{key:"paste",value:function(v,m,u,g){this.commandDelegate.paste(v,m,u,g)}},{key:"type",value:function(v){this.commandDelegate.type(v)}},{key:"compositionType",value:function(v,m,u,g){this.commandDelegate.compositionType(v,m,u,g)}},{key:"compositionStart",value:function(){this.commandDelegate.startComposition()}},{key:"compositionEnd",value:function(){this.commandDelegate.endComposition()}},{key:"cut",value:function(){this.commandDelegate.cut()}},{key:"setSelection",value:function(v){Ht.b.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:v})}},{key:"_validateViewColumn",value:function(v){var m=this.viewModel.getLineMinColumn(v.lineNumber);return v.column<m?new kn.a(v.lineNumber,m):v}},{key:"_hasMulticursorModifier",value:function(v){switch(this.configuration.options.get(75)){case"altKey":return v.altKey;case"ctrlKey":return v.ctrlKey;case"metaKey":return v.metaKey;default:return!1}}},{key:"_hasNonMulticursorModifier",value:function(v){switch(this.configuration.options.get(75)){case"altKey":return v.ctrlKey||v.metaKey;case"ctrlKey":return v.altKey||v.metaKey;case"metaKey":return v.ctrlKey||v.altKey;default:return!1}}},{key:"dispatchMouse",value:function(v){var m=this.configuration.options,u=I.g&&m.get(103),g=m.get(20);v.middleButton&&!u?this._columnSelect(v.position,v.mouseColumn,v.inSelectionMode):v.startedOnLineNumbers?this._hasMulticursorModifier(v)?v.inSelectionMode?this._lastCursorLineSelect(v.position,v.revealType):this._createCursor(v.position,!0):v.inSelectionMode?this._lineSelectDrag(v.position,v.revealType):this._lineSelect(v.position,v.revealType):v.mouseDownCount>=4?this._selectAll():v.mouseDownCount===3?this._hasMulticursorModifier(v)?v.inSelectionMode?this._lastCursorLineSelectDrag(v.position,v.revealType):this._lastCursorLineSelect(v.position,v.revealType):v.inSelectionMode?this._lineSelectDrag(v.position,v.revealType):this._lineSelect(v.position,v.revealType):v.mouseDownCount===2?v.onInjectedText||(this._hasMulticursorModifier(v)?this._lastCursorWordSelect(v.position,v.revealType):v.inSelectionMode?this._wordSelectDrag(v.position,v.revealType):this._wordSelect(v.position,v.revealType)):this._hasMulticursorModifier(v)?this._hasNonMulticursorModifier(v)||(v.shiftKey?this._columnSelect(v.position,v.mouseColumn,!0):v.inSelectionMode?this._lastCursorMoveToSelect(v.position,v.revealType):this._createCursor(v.position,!1)):v.inSelectionMode?v.altKey?this._columnSelect(v.position,v.mouseColumn,!0):g?this._columnSelect(v.position,v.mouseColumn,!0):this._moveToSelect(v.position,v.revealType):this.moveTo(v.position,v.revealType)}},{key:"_usualArgs",value:function(v,m){return v=this._validateViewColumn(v),{source:"mouse",position:this._convertViewToModelPosition(v),viewPosition:v,revealType:m}}},{key:"moveTo",value:function(v,m){Ht.b.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_moveToSelect",value:function(v,m){Ht.b.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_columnSelect",value:function(v,m,u){v=this._validateViewColumn(v),Ht.b.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(v),viewPosition:v,mouseColumn:m,doColumnSelect:u})}},{key:"_createCursor",value:function(v,m){v=this._validateViewColumn(v),Ht.b.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(v),viewPosition:v,wholeLine:m})}},{key:"_lastCursorMoveToSelect",value:function(v,m){Ht.b.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_wordSelect",value:function(v,m){Ht.b.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_wordSelectDrag",value:function(v,m){Ht.b.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_lastCursorWordSelect",value:function(v,m){Ht.b.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_lineSelect",value:function(v,m){Ht.b.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_lineSelectDrag",value:function(v,m){Ht.b.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_lastCursorLineSelect",value:function(v,m){Ht.b.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_lastCursorLineSelectDrag",value:function(v,m){Ht.b.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_selectAll",value:function(){Ht.b.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}},{key:"_convertViewToModelPosition",value:function(v){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(v)}},{key:"emitKeyDown",value:function(v){this.userInputEvents.emitKeyDown(v)}},{key:"emitKeyUp",value:function(v){this.userInputEvents.emitKeyUp(v)}},{key:"emitContextMenu",value:function(v){this.userInputEvents.emitContextMenu(v)}},{key:"emitMouseMove",value:function(v){this.userInputEvents.emitMouseMove(v)}},{key:"emitMouseLeave",value:function(v){this.userInputEvents.emitMouseLeave(v)}},{key:"emitMouseUp",value:function(v){this.userInputEvents.emitMouseUp(v)}},{key:"emitMouseDown",value:function(v){this.userInputEvents.emitMouseDown(v)}},{key:"emitMouseDrag",value:function(v){this.userInputEvents.emitMouseDrag(v)}},{key:"emitMouseDrop",value:function(v){this.userInputEvents.emitMouseDrop(v)}},{key:"emitMouseDropCanceled",value:function(){this.userInputEvents.emitMouseDropCanceled()}},{key:"emitMouseWheel",value:function(v){this.userInputEvents.emitMouseWheel(v)}}]),Ke}(),si=function(){function Ke(be){Object(Y.a)(this,Ke),this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=be}return Object(E.a)(Ke,[{key:"emitKeyDown",value:function(v){var m;(m=this.onKeyDown)===null||m===void 0||m.call(this,v)}},{key:"emitKeyUp",value:function(v){var m;(m=this.onKeyUp)===null||m===void 0||m.call(this,v)}},{key:"emitContextMenu",value:function(v){var m;(m=this.onContextMenu)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseMove",value:function(v){var m;(m=this.onMouseMove)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseLeave",value:function(v){var m;(m=this.onMouseLeave)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseDown",value:function(v){var m;(m=this.onMouseDown)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseUp",value:function(v){var m;(m=this.onMouseUp)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseDrag",value:function(v){var m;(m=this.onMouseDrag)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseDrop",value:function(v){var m;(m=this.onMouseDrop)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseDropCanceled",value:function(){var v;(v=this.onMouseDropCanceled)===null||v===void 0||v.call(this)}},{key:"emitMouseWheel",value:function(v){var m;(m=this.onMouseWheel)===null||m===void 0||m.call(this,v)}},{key:"_convertViewToModelMouseEvent",value:function(v){return v.target?{event:v.event,target:this._convertViewToModelMouseTarget(v.target)}:v}},{key:"_convertViewToModelMouseTarget",value:function(v){return Ke.convertViewToModelMouseTarget(v,this._coordinatesConverter)}}],[{key:"convertViewToModelMouseTarget",value:function(v,m){var u=Object.assign({},v);return u.position&&(u.position=m.convertViewPositionToModelPosition(u.position)),u.range&&(u.range=m.convertViewRangeToModelRange(u.range)),(u.type===5||u.type===8)&&(u.detail=this.convertViewToModelViewZoneData(u.detail,m)),u}},{key:"convertViewToModelViewZoneData",value:function(v,m){return{viewZoneId:v.viewZoneId,positionBefore:v.positionBefore?m.convertViewPositionToModelPosition(v.positionBefore):v.positionBefore,positionAfter:v.positionAfter?m.convertViewPositionToModelPosition(v.positionAfter):v.positionAfter,position:m.convertViewPositionToModelPosition(v.position),afterLineNumber:m.convertViewPositionToModelPosition(new kn.a(v.afterLineNumber,1)).lineNumber}}}]),Ke}(),Oi=a("c9Qy"),Ji=a("erNZ"),Wi=function(){function Ke(be){Object(Y.a)(this,Ke),this._createLine=be,this._set(1,[])}return Object(E.a)(Ke,[{key:"flush",value:function(){this._set(1,[])}},{key:"_set",value:function(v,m){this._lines=m,this._rendLineNumberStart=v}},{key:"_get",value:function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}},{key:"getStartLineNumber",value:function(){return this._rendLineNumberStart}},{key:"getEndLineNumber",value:function(){return this._rendLineNumberStart+this._lines.length-1}},{key:"getCount",value:function(){return this._lines.length}},{key:"getLine",value:function(v){var m=v-this._rendLineNumberStart;if(m<0||m>=this._lines.length)throw new d.a("Illegal value for lineNumber");return this._lines[m]}},{key:"onLinesDeleted",value:function(v,m){if(this.getCount()===0)return null;var u=this.getStartLineNumber(),g=this.getEndLineNumber();if(m<u){var S=m-v+1;return this._rendLineNumberStart-=S,null}if(v>g)return null;for(var ie=0,Ee=0,Le=u;Le<=g;Le++){var at=Le-this._rendLineNumberStart;v<=Le&&Le<=m&&(Ee===0?(ie=at,Ee=1):Ee++)}if(v<u){var kt=0;m<u?kt=m-v+1:kt=u-v,this._rendLineNumberStart-=kt}var Tt=this._lines.splice(ie,Ee);return Tt}},{key:"onLinesChanged",value:function(v,m){var u=v+m-1;if(this.getCount()===0)return!1;for(var g=this.getStartLineNumber(),S=this.getEndLineNumber(),ie=!1,Ee=v;Ee<=u;Ee++)Ee>=g&&Ee<=S&&(this._lines[Ee-this._rendLineNumberStart].onContentChanged(),ie=!0);return ie}},{key:"onLinesInserted",value:function(v,m){if(this.getCount()===0)return null;var u=m-v+1,g=this.getStartLineNumber(),S=this.getEndLineNumber();if(v<=g)return this._rendLineNumberStart+=u,null;if(v>S)return null;if(u+v>S){var ie=this._lines.splice(v-this._rendLineNumberStart,S-v+1);return ie}for(var Ee=[],Le=0;Le<u;Le++)Ee[Le]=this._createLine();var at=v-this._rendLineNumberStart,kt=this._lines.slice(0,at),Tt=this._lines.slice(at,this._lines.length-u),Qt=this._lines.slice(this._lines.length-u,this._lines.length);return this._lines=kt.concat(Ee).concat(Tt),Qt}},{key:"onTokensChanged",value:function(v){if(this.getCount()===0)return!1;for(var m=this.getStartLineNumber(),u=this.getEndLineNumber(),g=!1,S=0,ie=v.length;S<ie;S++){var Ee=v[S];if(!(Ee.toLineNumber<m||Ee.fromLineNumber>u))for(var Le=Math.max(m,Ee.fromLineNumber),at=Math.min(u,Ee.toLineNumber),kt=Le;kt<=at;kt++){var Tt=kt-this._rendLineNumberStart;this._lines[Tt].onTokensChanged(),g=!0}}return g}}]),Ke}(),Yi=function(){function Ke(be){var v=this;Object(Y.a)(this,Ke),this._host=be,this.domNode=this._createDomNode(),this._linesCollection=new Wi(function(){return v._host.createVisibleLine()})}return Object(E.a)(Ke,[{key:"_createDomNode",value:function(){var v=Object(Ot.b)(document.createElement("div"));return v.setClassName("view-layer"),v.setPosition("absolute"),v.domNode.setAttribute("role","presentation"),v.domNode.setAttribute("aria-hidden","true"),v}},{key:"onConfigurationChanged",value:function(v){return!!v.hasChanged(140)}},{key:"onFlushed",value:function(v){return this._linesCollection.flush(),!0}},{key:"onLinesChanged",value:function(v){return this._linesCollection.onLinesChanged(v.fromLineNumber,v.count)}},{key:"onLinesDeleted",value:function(v){var m=this._linesCollection.onLinesDeleted(v.fromLineNumber,v.toLineNumber);if(m)for(var u=0,g=m.length;u<g;u++){var S=m[u].getDomNode();S&&this.domNode.domNode.removeChild(S)}return!0}},{key:"onLinesInserted",value:function(v){var m=this._linesCollection.onLinesInserted(v.fromLineNumber,v.toLineNumber);if(m)for(var u=0,g=m.length;u<g;u++){var S=m[u].getDomNode();S&&this.domNode.domNode.removeChild(S)}return!0}},{key:"onScrollChanged",value:function(v){return v.scrollTopChanged}},{key:"onTokensChanged",value:function(v){return this._linesCollection.onTokensChanged(v.ranges)}},{key:"onZonesChanged",value:function(v){return!0}},{key:"getStartLineNumber",value:function(){return this._linesCollection.getStartLineNumber()}},{key:"getEndLineNumber",value:function(){return this._linesCollection.getEndLineNumber()}},{key:"getVisibleLine",value:function(v){return this._linesCollection.getLine(v)}},{key:"renderLines",value:function(v){var m=this._linesCollection._get(),u=new Bi(this.domNode.domNode,this._host,v),g={rendLineNumberStart:m.rendLineNumberStart,lines:m.lines,linesLength:m.lines.length},S=u.render(g,v.startLineNumber,v.endLineNumber,v.relativeVerticalOffset);this._linesCollection._set(S.rendLineNumberStart,S.lines)}}]),Ke}(),Bi=function(){function Ke(be,v,m){Object(Y.a)(this,Ke),this.domNode=be,this.host=v,this.viewportData=m}return Object(E.a)(Ke,[{key:"render",value:function(v,m,u,g){var S={rendLineNumberStart:v.rendLineNumberStart,lines:v.lines.slice(0),linesLength:v.linesLength};if(S.rendLineNumberStart+S.linesLength-1<m||u<S.rendLineNumberStart){S.rendLineNumberStart=m,S.linesLength=u-m+1,S.lines=[];for(var ie=m;ie<=u;ie++)S.lines[ie-m]=this.host.createVisibleLine();return this._finishRendering(S,!0,g),S}if(this._renderUntouchedLines(S,Math.max(m-S.rendLineNumberStart,0),Math.min(u-S.rendLineNumberStart,S.linesLength-1),g,m),S.rendLineNumberStart>m){var Ee=m,Le=Math.min(u,S.rendLineNumberStart-1);Ee<=Le&&(this._insertLinesBefore(S,Ee,Le,g,m),S.linesLength+=Le-Ee+1)}else if(S.rendLineNumberStart<m){var at=Math.min(S.linesLength,m-S.rendLineNumberStart);at>0&&(this._removeLinesBefore(S,at),S.linesLength-=at)}if(S.rendLineNumberStart=m,S.rendLineNumberStart+S.linesLength-1<u){var kt=S.rendLineNumberStart+S.linesLength,Tt=u;kt<=Tt&&(this._insertLinesAfter(S,kt,Tt,g,m),S.linesLength+=Tt-kt+1)}else if(S.rendLineNumberStart+S.linesLength-1>u){var Qt=Math.max(0,u-S.rendLineNumberStart+1),Wt=S.linesLength-1,vt=Wt-Qt+1;vt>0&&(this._removeLinesAfter(S,vt),S.linesLength-=vt)}return this._finishRendering(S,!1,g),S}},{key:"_renderUntouchedLines",value:function(v,m,u,g,S){for(var ie=v.rendLineNumberStart,Ee=v.lines,Le=m;Le<=u;Le++){var at=ie+Le;Ee[Le].layoutLine(at,g[at-S])}}},{key:"_insertLinesBefore",value:function(v,m,u,g,S){for(var ie=[],Ee=0,Le=m;Le<=u;Le++)ie[Ee++]=this.host.createVisibleLine();v.lines=ie.concat(v.lines)}},{key:"_removeLinesBefore",value:function(v,m){for(var u=0;u<m;u++){var g=v.lines[u].getDomNode();g&&this.domNode.removeChild(g)}v.lines.splice(0,m)}},{key:"_insertLinesAfter",value:function(v,m,u,g,S){for(var ie=[],Ee=0,Le=m;Le<=u;Le++)ie[Ee++]=this.host.createVisibleLine();v.lines=v.lines.concat(ie)}},{key:"_removeLinesAfter",value:function(v,m){for(var u=v.linesLength-m,g=0;g<m;g++){var S=v.lines[u+g].getDomNode();S&&this.domNode.removeChild(S)}v.lines.splice(u,m)}},{key:"_finishRenderingNewLines",value:function(v,m,u,g){Ke._ttPolicy&&(u=Ke._ttPolicy.createHTML(u));var S=this.domNode.lastChild;m||!S?this.domNode.innerHTML=u:S.insertAdjacentHTML("afterend",u);for(var ie=this.domNode.lastChild,Ee=v.linesLength-1;Ee>=0;Ee--){var Le=v.lines[Ee];g[Ee]&&(Le.setDomNode(ie),ie=ie.previousSibling)}}},{key:"_finishRenderingInvalidLines",value:function(v,m,u){var g=document.createElement("div");Ke._ttPolicy&&(m=Ke._ttPolicy.createHTML(m)),g.innerHTML=m;for(var S=0;S<v.linesLength;S++){var ie=v.lines[S];if(u[S]){var Ee=g.firstChild,Le=ie.getDomNode();Le.parentNode.replaceChild(Ee,Le),ie.setDomNode(Ee)}}}},{key:"_finishRendering",value:function(v,m,u){var g=Ke._sb,S=v.linesLength,ie=v.lines,Ee=v.rendLineNumberStart,Le=[];{g.reset();for(var at=!1,kt=0;kt<S;kt++){var Tt=ie[kt];Le[kt]=!1;var Qt=Tt.getDomNode();if(!Qt){var Wt=Tt.renderLine(kt+Ee,u[kt],this.viewportData,g);!Wt||(Le[kt]=!0,at=!0)}}at&&this._finishRenderingNewLines(v,m,g.build(),Le)}{g.reset();for(var vt=!1,wn=[],xn=0;xn<S;xn++){var ri=ie[xn];if(wn[xn]=!1,!Le[xn]){var hi=ri.renderLine(xn+Ee,u[xn],this.viewportData,g);!hi||(wn[xn]=!0,vt=!0)}}vt&&this._finishRenderingInvalidLines(v,g.build(),wn)}}}]),Ke}();Bi._ttPolicy=Object(Oi.a)("editorViewLayer",{createHTML:function(be){return be}}),Bi._sb=new Ji.a(1e5);var Gi=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this,m),u._visibleLines=new Yi(Object(ve.a)(u)),u.domNode=u._visibleLines.domNode;var g=u._context.configuration.options,S=g.get(48);return Object(We.a)(u.domNode,S),u._dynamicOverlays=[],u._isFocused=!1,u.domNode.setClassName("view-overlays"),u}return Object(E.a)(v,[{key:"shouldRender",value:function(){if(Object(se.a)(Object(te.a)(v.prototype),"shouldRender",this).call(this))return!0;for(var u=0,g=this._dynamicOverlays.length;u<g;u++){var S=this._dynamicOverlays[u];if(S.shouldRender())return!0}return!1}},{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this);for(var u=0,g=this._dynamicOverlays.length;u<g;u++){var S=this._dynamicOverlays[u];S.dispose()}this._dynamicOverlays=[]}},{key:"getDomNode",value:function(){return this.domNode}},{key:"createVisibleLine",value:function(){return new Gr(this._context.configuration,this._dynamicOverlays)}},{key:"addDynamicOverlay",value:function(u){this._dynamicOverlays.push(u)}},{key:"onConfigurationChanged",value:function(u){this._visibleLines.onConfigurationChanged(u);for(var g=this._visibleLines.getStartLineNumber(),S=this._visibleLines.getEndLineNumber(),ie=g;ie<=S;ie++){var Ee=this._visibleLines.getVisibleLine(ie);Ee.onConfigurationChanged(u)}var Le=this._context.configuration.options,at=Le.get(48);return Object(We.a)(this.domNode,at),!0}},{key:"onFlushed",value:function(u){return this._visibleLines.onFlushed(u)}},{key:"onFocusChanged",value:function(u){return this._isFocused=u.isFocused,!0}},{key:"onLinesChanged",value:function(u){return this._visibleLines.onLinesChanged(u)}},{key:"onLinesDeleted",value:function(u){return this._visibleLines.onLinesDeleted(u)}},{key:"onLinesInserted",value:function(u){return this._visibleLines.onLinesInserted(u)}},{key:"onScrollChanged",value:function(u){return this._visibleLines.onScrollChanged(u)||!0}},{key:"onTokensChanged",value:function(u){return this._visibleLines.onTokensChanged(u)}},{key:"onZonesChanged",value:function(u){return this._visibleLines.onZonesChanged(u)}},{key:"prepareRender",value:function(u){for(var g=this._dynamicOverlays.filter(function(Le){return Le.shouldRender()}),S=0,ie=g.length;S<ie;S++){var Ee=g[S];Ee.prepareRender(u),Ee.onDidRender()}}},{key:"render",value:function(u){this._viewOverlaysRender(u),this.domNode.toggleClassName("focused",this._isFocused)}},{key:"_viewOverlaysRender",value:function(u){this._visibleLines.renderLines(u.viewportData)}}]),v}(Re),Gr=function(){function Ke(be,v){Object(Y.a)(this,Ke),this._configuration=be,this._lineHeight=this._configuration.options.get(64),this._dynamicOverlays=v,this._domNode=null,this._renderedContent=null}return Object(E.a)(Ke,[{key:"getDomNode",value:function(){return this._domNode?this._domNode.domNode:null}},{key:"setDomNode",value:function(v){this._domNode=Object(Ot.b)(v)}},{key:"onContentChanged",value:function(){}},{key:"onTokensChanged",value:function(){}},{key:"onConfigurationChanged",value:function(v){this._lineHeight=this._configuration.options.get(64)}},{key:"renderLine",value:function(v,m,u,g){for(var S="",ie=0,Ee=this._dynamicOverlays.length;ie<Ee;ie++){var Le=this._dynamicOverlays[ie];S+=Le.render(u.startLineNumber,v)}return this._renderedContent===S?!1:(this._renderedContent=S,g.appendString('<div style="position:absolute;top:'),g.appendString(String(m)),g.appendString("px;width:100%;height:"),g.appendString(String(this._lineHeight)),g.appendString('px;">'),g.appendString(S),g.appendString("</div>"),!0)}},{key:"layoutLine",value:function(v,m){this._domNode&&(this._domNode.setTop(m),this._domNode.setHeight(this._lineHeight))}}]),Ke}(),kr=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this,m);var g=u._context.configuration.options,S=g.get(140);return u._contentWidth=S.contentWidth,u.domNode.setHeight(0),u}return Object(E.a)(v,[{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,S=g.get(140);return this._contentWidth=S.contentWidth,Object(se.a)(Object(te.a)(v.prototype),"onConfigurationChanged",this).call(this,u)||!0}},{key:"onScrollChanged",value:function(u){return Object(se.a)(Object(te.a)(v.prototype),"onScrollChanged",this).call(this,u)||u.scrollWidthChanged}},{key:"_viewOverlaysRender",value:function(u){Object(se.a)(Object(te.a)(v.prototype),"_viewOverlaysRender",this).call(this,u),this.domNode.setWidth(Math.max(u.scrollWidth,this._contentWidth))}}]),v}(Gi),sa=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this,m);var g=u._context.configuration.options,S=g.get(140);return u._contentLeft=S.contentLeft,u.domNode.setClassName("margin-view-overlays"),u.domNode.setWidth(1),Object(We.a)(u.domNode,g.get(48)),u}return Object(E.a)(v,[{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options;Object(We.a)(this.domNode,g.get(48));var S=g.get(140);return this._contentLeft=S.contentLeft,Object(se.a)(Object(te.a)(v.prototype),"onConfigurationChanged",this).call(this,u)||!0}},{key:"onScrollChanged",value:function(u){return Object(se.a)(Object(te.a)(v.prototype),"onScrollChanged",this).call(this,u)||u.scrollHeightChanged}},{key:"_viewOverlaysRender",value:function(u){Object(se.a)(Object(te.a)(v.prototype),"_viewOverlaysRender",this).call(this,u);var g=Math.min(u.scrollHeight,1e6);this.domNode.setHeight(g),this.domNode.setWidth(this._contentLeft)}}]),v}(Gi),Fr=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u){var g;return Object(Y.a)(this,v),g=be.call(this,m),g._viewDomNode=u,g._widgets={},g.domNode=Object(Ot.b)(document.createElement("div")),Ce.write(g.domNode,1),g.domNode.setClassName("contentWidgets"),g.domNode.setPosition("absolute"),g.domNode.setTop(0),g.overflowingContentWidgetsDomNode=Object(Ot.b)(document.createElement("div")),Ce.write(g.overflowingContentWidgetsDomNode,2),g.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),g}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this),this._widgets={}}},{key:"onConfigurationChanged",value:function(u){for(var g=Object.keys(this._widgets),S=0,ie=g;S<ie.length;S++){var Ee=ie[S];this._widgets[Ee].onConfigurationChanged(u)}return!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLineMappingChanged",value:function(u){return this._updateAnchorsViewPositions(),!0}},{key:"onLinesChanged",value:function(u){return this._updateAnchorsViewPositions(),!0}},{key:"onLinesDeleted",value:function(u){return this._updateAnchorsViewPositions(),!0}},{key:"onLinesInserted",value:function(u){return this._updateAnchorsViewPositions(),!0}},{key:"onScrollChanged",value:function(u){return!0}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_updateAnchorsViewPositions",value:function(){for(var u=Object.keys(this._widgets),g=0,S=u;g<S.length;g++){var ie=S[g];this._widgets[ie].updateAnchorViewPosition()}}},{key:"addWidget",value:function(u){var g=new ua(this._context,this._viewDomNode,u);this._widgets[g.id]=g,g.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(g.domNode):this.domNode.appendChild(g.domNode),this.setShouldRender()}},{key:"setWidgetPosition",value:function(u,g,S,ie,Ee){var Le=this._widgets[u.getId()];Le.setPosition(g,S,ie,Ee),this.setShouldRender()}},{key:"removeWidget",value:function(u){var g=u.getId();if(this._widgets.hasOwnProperty(g)){var S=this._widgets[g];delete this._widgets[g];var ie=S.domNode.domNode;ie.parentNode.removeChild(ie),ie.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}},{key:"shouldSuppressMouseDownOnWidget",value:function(u){return this._widgets.hasOwnProperty(u)?this._widgets[u].suppressMouseDown:!1}},{key:"onBeforeRender",value:function(u){for(var g=Object.keys(this._widgets),S=0,ie=g;S<ie.length;S++){var Ee=ie[S];this._widgets[Ee].onBeforeRender(u)}}},{key:"prepareRender",value:function(u){for(var g=Object.keys(this._widgets),S=0,ie=g;S<ie.length;S++){var Ee=ie[S];this._widgets[Ee].prepareRender(u)}}},{key:"render",value:function(u){for(var g=Object.keys(this._widgets),S=0,ie=g;S<ie.length;S++){var Ee=ie[S];this._widgets[Ee].render(u)}}}]),v}(Re),ua=function(){function Ke(be,v,m){Object(Y.a)(this,Ke),this._primaryAnchor=new pn(null,null),this._secondaryAnchor=new pn(null,null),this._context=be,this._viewDomNode=v,this._actual=m,this.domNode=Object(Ot.b)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;var u=this._context.configuration.options,g=u.get(140);this._fixedOverflowWidgets=u.get(40),this._contentWidth=g.contentWidth,this._contentLeft=g.contentLeft,this._lineHeight=u.get(64),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}return Object(E.a)(Ke,[{key:"onConfigurationChanged",value:function(v){var m=this._context.configuration.options;if(this._lineHeight=m.get(64),v.hasChanged(140)){var u=m.get(140);this._contentLeft=u.contentLeft,this._contentWidth=u.contentWidth,this._maxWidth=this._getMaxWidth()}}},{key:"updateAnchorViewPosition",value:function(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}},{key:"_setPosition",value:function(v,m,u){this._affinity=v,this._primaryAnchor=g(m,this._context.viewModel,this._affinity),this._secondaryAnchor=g(u,this._context.viewModel,this._affinity);function g(S,ie,Ee){if(!S)return new pn(null,null);var Le=ie.model.validatePosition(S);if(ie.coordinatesConverter.modelPositionIsVisible(Le)){var at=ie.coordinatesConverter.convertModelPositionToViewPosition(Le,Ee!=null?Ee:void 0);return new pn(S,at)}return new pn(S,null)}}},{key:"_getMaxWidth",value:function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}},{key:"setPosition",value:function(v,m,u,g){this._setPosition(g,v,m),this._preference=u,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}},{key:"_layoutBoxInViewport",value:function(v,m,u,g){var S=v.top,ie=S,Ee=v.top+v.height,Le=g.viewportHeight-Ee,at=S-u,kt=ie>=u,Tt=Ee,Qt=Le>=u,Wt=v.left;return Wt+m>g.scrollLeft+g.viewportWidth&&(Wt=g.scrollLeft+g.viewportWidth-m),Wt<g.scrollLeft&&(Wt=g.scrollLeft),{fitsAbove:kt,aboveTop:at,fitsBelow:Qt,belowTop:Tt,left:Wt}}},{key:"_layoutHorizontalSegmentInPage",value:function(v,m,u,g){var S=15,ie=15,Ee=Math.max(S,m.left-g),Le=Math.min(m.left+m.width+g,v.width-ie),at=m.left+u-window.scrollX;if(at+g>Le){var kt=at-(Le-g);at-=kt,u-=kt}if(at<Ee){var Tt=at-Ee;at-=Tt,u-=Tt}return[u,at]}},{key:"_layoutBoxInPage",value:function(v,m,u,g){var S=v.top-u,ie=v.top+v.height,Ee=H.getDomNodePagePosition(this._viewDomNode.domNode),Le=Ee.top+S-window.scrollY,at=Ee.top+ie-window.scrollY,kt=H.getClientArea(document.body),Tt=this._layoutHorizontalSegmentInPage(kt,Ee,v.left-g.scrollLeft+this._contentLeft,m),Qt=Object(ce.a)(Tt,2),Wt=Qt[0],vt=Qt[1],wn=22,xn=22,ri=Le>=wn,hi=at+u<=kt.height-xn;return this._fixedOverflowWidgets?{fitsAbove:ri,aboveTop:Math.max(Le,wn),fitsBelow:hi,belowTop:at,left:vt}:{fitsAbove:ri,aboveTop:S,fitsBelow:hi,belowTop:ie,left:Wt}}},{key:"_prepareRenderWidgetAtExactPositionOverflowing",value:function(v){return new Ln(v.top,v.left+this._contentLeft)}},{key:"_getAnchorsCoordinates",value:function(v){var m,u,g=Ee(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),S=((m=this._secondaryAnchor.viewPosition)===null||m===void 0?void 0:m.lineNumber)===((u=this._primaryAnchor.viewPosition)===null||u===void 0?void 0:u.lineNumber)?this._secondaryAnchor.viewPosition:null,ie=Ee(S,this._affinity,this._lineHeight);return{primary:g,secondary:ie};function Ee(Le,at,kt){if(!Le)return null;var Tt=v.visibleRangeForPosition(Le);if(!Tt)return null;var Qt=Le.column===1&&at===3?0:Tt.left,Wt=v.getVerticalOffsetForLineNumber(Le.lineNumber)-v.scrollTop;return new ct(Wt,Qt,kt)}}},{key:"_reduceAnchorCoordinates",value:function(v,m,u){if(!m)return v;var g=this._context.configuration.options.get(48),S=m.left;return S<v.left?S=Math.max(S,v.left-u+g.typicalFullwidthCharacterWidth):S=Math.min(S,v.left+u-g.typicalFullwidthCharacterWidth),new ct(v.top,S,v.height)}},{key:"_prepareRenderWidget",value:function(v){if(!this._preference||this._preference.length===0)return null;var m=this._getAnchorsCoordinates(v),u=m.primary,g=m.secondary;if(!u)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){var S=null;if(typeof this._actual.beforeRender=="function"&&(S=Mt(this._actual.beforeRender,this._actual)),S)this._cachedDomNodeOffsetWidth=S.width,this._cachedDomNodeOffsetHeight=S.height;else{var ie=this.domNode.domNode,Ee=ie.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(Ee.width),this._cachedDomNodeOffsetHeight=Math.round(Ee.height)}}var Le=this._reduceAnchorCoordinates(u,g,this._cachedDomNodeOffsetWidth),at;this.allowEditorOverflow?at=this._layoutBoxInPage(Le,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,v):at=this._layoutBoxInViewport(Le,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,v);for(var kt=1;kt<=2;kt++){var Tt=Object(w.a)(this._preference),Qt;try{for(Tt.s();!(Qt=Tt.n()).done;){var Wt=Qt.value;if(Wt===1){if(!at)return null;if(kt===2||at.fitsAbove)return{coordinate:new Ln(at.aboveTop,at.left),position:1}}else if(Wt===2){if(!at)return null;if(kt===2||at.fitsBelow)return{coordinate:new Ln(at.belowTop,at.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new Ln(Le.top,Le.left)),position:0}:{coordinate:new Ln(Le.top,Le.left),position:0}}}catch(vt){Tt.e(vt)}finally{Tt.f()}}return null}},{key:"onBeforeRender",value:function(v){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<v.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>v.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}},{key:"prepareRender",value:function(v){this._renderData=this._prepareRenderWidget(v)}},{key:"render",value:function(v){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&Mt(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+v.scrollTop-v.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&Mt(this._actual.afterRender,this._actual,this._renderData.position)}}]),Ke}(),pn=Object(E.a)(function Ke(be,v){Object(Y.a)(this,Ke),this.modelPosition=be,this.viewPosition=v}),Ln=Object(E.a)(function Ke(be,v){Object(Y.a)(this,Ke),this.top=be,this.left=v,this._coordinateBrand=void 0}),ct=Object(E.a)(function Ke(be,v,m){Object(Y.a)(this,Ke),this.top=be,this.left=v,this.height=m,this._anchorCoordinateBrand=void 0});function Mt(Ke,be){try{for(var v=arguments.length,m=new Array(v>2?v-2:0),u=2;u<v;u++)m[u-2]=arguments[u];return Ke.call.apply(Ke,[be].concat(m))}catch(g){return null}}var At=a("kw+w"),zt=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this),u._context=m;var g=u._context.configuration.options,S=g.get(140);return u._lineHeight=g.get(64),u._renderLineHighlight=g.get(92),u._renderLineHighlightOnlyWhenFocus=g.get(93),u._contentLeft=S.contentLeft,u._contentWidth=S.contentWidth,u._selectionIsEmpty=!0,u._focused=!1,u._cursorLineNumbers=[1],u._selections=[new Ft.a(1,1,1,1)],u._renderData=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(E.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"_readFromSelections",value:function(){var u=!1,g=this._selections.map(function(ie){return ie.positionLineNumber});g.sort(function(ie,Ee){return ie-Ee}),T.j(this._cursorLineNumbers,g)||(this._cursorLineNumbers=g,u=!0);var S=this._selections.every(function(ie){return ie.isEmpty()});return this._selectionIsEmpty!==S&&(this._selectionIsEmpty=S,u=!0),u}},{key:"onThemeChanged",value:function(u){return this._readFromSelections()}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,S=g.get(140);return this._lineHeight=g.get(64),this._renderLineHighlight=g.get(92),this._renderLineHighlightOnlyWhenFocus=g.get(93),this._contentLeft=S.contentLeft,this._contentWidth=S.contentWidth,!0}},{key:"onCursorStateChanged",value:function(u){return this._selections=u.selections,this._readFromSelections()}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollWidthChanged||u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"onFocusChanged",value:function(u){return this._renderLineHighlightOnlyWhenFocus?(this._focused=u.isFocused,!0):!1}},{key:"prepareRender",value:function(u){if(!this._shouldRenderThis()){this._renderData=null;return}for(var g=this._renderOne(u),S=u.visibleRange.startLineNumber,ie=u.visibleRange.endLineNumber,Ee=this._cursorLineNumbers.length,Le=0,at=[],kt=S;kt<=ie;kt++){for(var Tt=kt-S;Le<Ee&&this._cursorLineNumbers[Le]<kt;)Le++;Le<Ee&&this._cursorLineNumbers[Le]===kt?at[Tt]=g:at[Tt]=""}this._renderData=at}},{key:"render",value:function(u,g){if(!this._renderData)return"";var S=g-u;return S>=this._renderData.length?"":this._renderData[S]}},{key:"_shouldRenderInMargin",value:function(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}},{key:"_shouldRenderInContent",value:function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}]),v}(Br),$t=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(){return Object(Y.a)(this,v),be.apply(this,arguments)}return Object(E.a)(v,[{key:"_renderOne",value:function(u){var g="current-line"+(this._shouldRenderOther()?" current-line-both":"");return'<div class="'.concat(g,'" style="width:').concat(Math.max(u.scrollWidth,this._contentWidth),"px; height:").concat(this._lineHeight,'px;"></div>')}},{key:"_shouldRenderThis",value:function(){return this._shouldRenderInContent()}},{key:"_shouldRenderOther",value:function(){return this._shouldRenderInMargin()}}]),v}(zt),Un=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(){return Object(Y.a)(this,v),be.apply(this,arguments)}return Object(E.a)(v,[{key:"_renderOne",value:function(u){var g="current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"");return'<div class="'.concat(g,'" style="width:').concat(this._contentLeft,"px; height:").concat(this._lineHeight,'px;"></div>')}},{key:"_shouldRenderThis",value:function(){return!0}},{key:"_shouldRenderOther",value:function(){return this._shouldRenderInContent()}}]),v}(zt);Object(Yr.e)(function(Ke,be){var v=Ke.getColor(ti.y);if(v&&(be.addRule(".monaco-editor .view-overlays .current-line { background-color: ".concat(v,"; }")),be.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: ".concat(v,"; border: none; }"))),!v||v.isTransparent()||Ke.defines(ti.z)){var m=Ke.getColor(ti.z);m&&(be.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid ".concat(m,"; }")),be.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ".concat(m,"; }")),Object(qt.c)(Ke.type)&&(be.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),be.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});var Vn=a("Vtyv"),Gn=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this),u._context=m;var g=u._context.configuration.options;return u._lineHeight=g.get(64),u._typicalHalfwidthCharacterWidth=g.get(48).typicalHalfwidthCharacterWidth,u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(E.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options;return this._lineHeight=g.get(64),this._typicalHalfwidthCharacterWidth=g.get(48).typicalHalfwidthCharacterWidth,!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged||u.scrollWidthChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"prepareRender",value:function(u){for(var g=u.getDecorationsInViewport(),S=[],ie=0,Ee=0,Le=g.length;Ee<Le;Ee++){var at=g[Ee];at.options.className&&(S[ie++]=at)}S=S.sort(function(wn,xn){if(wn.options.zIndex<xn.options.zIndex)return-1;if(wn.options.zIndex>xn.options.zIndex)return 1;var ri=wn.options.className,hi=xn.options.className;return ri<hi?-1:ri>hi?1:Pn.a.compareRangesUsingStarts(wn.range,xn.range)});for(var kt=u.visibleRange.startLineNumber,Tt=u.visibleRange.endLineNumber,Qt=[],Wt=kt;Wt<=Tt;Wt++){var vt=Wt-kt;Qt[vt]=""}this._renderWholeLineDecorations(u,S,Qt),this._renderNormalDecorations(u,S,Qt),this._renderResult=Qt}},{key:"_renderWholeLineDecorations",value:function(u,g,S){for(var ie=String(this._lineHeight),Ee=u.visibleRange.startLineNumber,Le=u.visibleRange.endLineNumber,at=0,kt=g.length;at<kt;at++){var Tt=g[at];if(!!Tt.options.isWholeLine)for(var Qt='<div class="cdr '+Tt.options.className+'" style="left:0;width:100%;height:'+ie+'px;"></div>',Wt=Math.max(Tt.range.startLineNumber,Ee),vt=Math.min(Tt.range.endLineNumber,Le),wn=Wt;wn<=vt;wn++){var xn=wn-Ee;S[xn]+=Qt}}}},{key:"_renderNormalDecorations",value:function(u,g,S){for(var ie=String(this._lineHeight),Ee=u.visibleRange.startLineNumber,Le=null,at=!1,kt=null,Tt=0,Qt=g.length;Tt<Qt;Tt++){var Wt=g[Tt];if(!Wt.options.isWholeLine){var vt=Wt.options.className,wn=Boolean(Wt.options.showIfCollapsed),xn=Wt.range;if(wn&&xn.endColumn===1&&xn.endLineNumber!==xn.startLineNumber&&(xn=new Pn.a(xn.startLineNumber,xn.startColumn,xn.endLineNumber-1,this._context.viewModel.getLineMaxColumn(xn.endLineNumber-1))),Le===vt&&at===wn&&Pn.a.areIntersectingOrTouching(kt,xn)){kt=Pn.a.plusRange(kt,xn);continue}Le!==null&&this._renderNormalDecoration(u,kt,Le,at,ie,Ee,S),Le=vt,at=wn,kt=xn}}Le!==null&&this._renderNormalDecoration(u,kt,Le,at,ie,Ee,S)}},{key:"_renderNormalDecoration",value:function(u,g,S,ie,Ee,Le,at){var kt=u.linesVisibleRangesForRange(g,S==="findMatch");if(!!kt)for(var Tt=0,Qt=kt.length;Tt<Qt;Tt++){var Wt=kt[Tt];if(!Wt.outsideRenderedLine){var vt=Wt.lineNumber-Le;if(ie&&Wt.ranges.length===1){var wn=Wt.ranges[0];if(wn.width<this._typicalHalfwidthCharacterWidth){var xn=Math.round(wn.left+wn.width/2),ri=Math.max(0,Math.round(xn-this._typicalHalfwidthCharacterWidth/2));Wt.ranges[0]=new $e(ri,this._typicalHalfwidthCharacterWidth)}}for(var hi=0,ki=Wt.ranges.length;hi<ki;hi++){var Di=Wt.ranges[hi],rr='<div class="cdr '+S+'" style="left:'+String(Di.left)+"px;width:"+String(Di.width)+"px;height:"+Ee+'px;"></div>';at[vt]+=rr}}}}},{key:"render",value:function(u,g){if(!this._renderResult)return"";var S=g-u;return S<0||S>=this._renderResult.length?"":this._renderResult[S]}}]),v}(Br),oi=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g,S){var ie;Object(Y.a)(this,v),ie=be.call(this,m);var Ee=ie._context.configuration.options,Le=Ee.get(99),at=Ee.get(72),kt=Ee.get(38),Tt=Ee.get(102),Qt={listenOnDomNode:g.domNode,className:"editor-scrollable "+Object(Yr.d)(m.theme.type),useShadows:!1,lazyRender:!0,vertical:Le.vertical,horizontal:Le.horizontal,verticalHasArrows:Le.verticalHasArrows,horizontalHasArrows:Le.horizontalHasArrows,verticalScrollbarSize:Le.verticalScrollbarSize,verticalSliderSize:Le.verticalSliderSize,horizontalScrollbarSize:Le.horizontalScrollbarSize,horizontalSliderSize:Le.horizontalSliderSize,handleMouseWheel:Le.handleMouseWheel,alwaysConsumeMouseWheel:Le.alwaysConsumeMouseWheel,arrowSize:Le.arrowSize,mouseWheelScrollSensitivity:at,fastScrollSensitivity:kt,scrollPredominantAxis:Tt,scrollByPage:Le.scrollByPage};ie.scrollbar=ie._register(new en.d(u.domNode,Qt,ie._context.viewLayout.getScrollable())),Ce.write(ie.scrollbar.getDomNode(),5),ie.scrollbarDomNode=Object(Ot.b)(ie.scrollbar.getDomNode()),ie.scrollbarDomNode.setPosition("absolute"),ie._setLayout();var Wt=function(wn,xn,ri){var hi={};if(xn){var ki=wn.scrollTop;ki&&(hi.scrollTop=ie._context.viewLayout.getCurrentScrollTop()+ki,wn.scrollTop=0)}if(ri){var Di=wn.scrollLeft;Di&&(hi.scrollLeft=ie._context.viewLayout.getCurrentScrollLeft()+Di,wn.scrollLeft=0)}ie._context.viewModel.viewLayout.setScrollPosition(hi,1)};return ie._register(H.addDisposableListener(g.domNode,"scroll",function(vt){return Wt(g.domNode,!0,!0)})),ie._register(H.addDisposableListener(u.domNode,"scroll",function(vt){return Wt(u.domNode,!0,!1)})),ie._register(H.addDisposableListener(S.domNode,"scroll",function(vt){return Wt(S.domNode,!0,!1)})),ie._register(H.addDisposableListener(ie.scrollbarDomNode.domNode,"scroll",function(vt){return Wt(ie.scrollbarDomNode.domNode,!0,!1)})),ie}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"_setLayout",value:function(){var u=this._context.configuration.options,g=u.get(140);this.scrollbarDomNode.setLeft(g.contentLeft);var S=u.get(70),ie=S.side;ie==="right"?this.scrollbarDomNode.setWidth(g.contentWidth+g.minimap.minimapWidth):this.scrollbarDomNode.setWidth(g.contentWidth),this.scrollbarDomNode.setHeight(g.height)}},{key:"getOverviewRulerLayoutInfo",value:function(){return this.scrollbar.getOverviewRulerLayoutInfo()}},{key:"getDomNode",value:function(){return this.scrollbarDomNode}},{key:"delegateVerticalScrollbarPointerDown",value:function(u){this.scrollbar.delegateVerticalScrollbarPointerDown(u)}},{key:"delegateScrollFromMouseWheelEvent",value:function(u){this.scrollbar.delegateScrollFromMouseWheelEvent(u)}},{key:"onConfigurationChanged",value:function(u){if(u.hasChanged(99)||u.hasChanged(72)||u.hasChanged(38)){var g=this._context.configuration.options,S=g.get(99),ie=g.get(72),Ee=g.get(38),Le=g.get(102),at={vertical:S.vertical,horizontal:S.horizontal,verticalScrollbarSize:S.verticalScrollbarSize,horizontalScrollbarSize:S.horizontalScrollbarSize,scrollByPage:S.scrollByPage,handleMouseWheel:S.handleMouseWheel,mouseWheelScrollSensitivity:ie,fastScrollSensitivity:Ee,scrollPredominantAxis:Le};this.scrollbar.updateOptions(at)}return u.hasChanged(140)&&this._setLayout(),!0}},{key:"onScrollChanged",value:function(u){return!0}},{key:"onThemeChanged",value:function(u){return this.scrollbar.updateClassName("editor-scrollable "+Object(Yr.d)(this._context.theme.type)),!0}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){this.scrollbar.renderNow()}}]),v}(Re),_i=a("hHjc"),Cn=Object(E.a)(function Ke(be,v,m,u,g){Object(Y.a)(this,Ke),this._decorationToRenderBrand=void 0,this.startLineNumber=+be,this.endLineNumber=+v,this.className=String(m),this.zIndex=u!=null?u:0,this.decorationLane=g!=null?g:1}),ui=Object(E.a)(function Ke(be,v){Object(Y.a)(this,Ke),this.className=be,this.zIndex=v}),Si=function(){function Ke(){Object(Y.a)(this,Ke),this.lanes=[]}return Object(E.a)(Ke,[{key:"add",value:function(v,m){for(;v>=this.lanes.length;)this.lanes.push([]);this.lanes[v].push(m)}},{key:"getLaneDecorations",value:function(v){return v<this.lanes.length?this.lanes[v]:[]}},{key:"isEmpty",value:function(){var v=Object(w.a)(this.lanes),m;try{for(v.s();!(m=v.n()).done;){var u=m.value;if(u.length>0)return!1}}catch(g){v.e(g)}finally{v.f()}return!0}}]),Ke}(),Ui=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(){return Object(Y.a)(this,v),be.apply(this,arguments)}return Object(E.a)(v,[{key:"_render",value:function(u,g,S,ie){for(var Ee=[],Le=u;Le<=g;Le++){var at=Le-u;Ee[at]=new Si}if(S.length===0)return Ee;S.sort(function(rr,Ti){return rr.className===Ti.className?rr.startLineNumber===Ti.startLineNumber?rr.endLineNumber-Ti.endLineNumber:rr.startLineNumber-Ti.startLineNumber:rr.className<Ti.className?-1:1});for(var kt=null,Tt=0,Qt=0,Wt=S.length;Qt<Wt;Qt++){var vt=S[Qt],wn=vt.className,xn=vt.zIndex,ri=Math.max(vt.startLineNumber,u)-u,hi=Math.min(vt.endLineNumber,g)-u,ki=Math.min(vt.decorationLane,ie);kt===wn?(ri=Math.max(Tt+1,ri),Tt=Math.max(Tt,hi)):(kt=wn,Tt=hi);for(var Di=ri;Di<=Tt;Di++)Ee[Di].add(ki,new ui(wn,xn))}return Ee}}]),v}(Br),Lr=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this),u._context=m;var g=u._context.configuration.options,S=g.get(140);return u._lineHeight=g.get(64),u._glyphMargin=g.get(55),u._glyphMarginLeft=S.glyphMarginLeft,u._glyphMarginWidth=S.glyphMarginWidth,u._glyphMarginDecorationLaneCount=S.glyphMarginDecorationLaneCount,u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(E.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,S=g.get(140);return this._lineHeight=g.get(64),this._glyphMargin=g.get(55),this._glyphMarginLeft=S.glyphMarginLeft,this._glyphMarginWidth=S.glyphMarginWidth,this._glyphMarginDecorationLaneCount=S.glyphMarginDecorationLaneCount,!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_getDecorations",value:function(u){for(var g,S=u.getDecorationsInViewport(),ie=[],Ee=0,Le=0,at=S.length;Le<at;Le++){var kt=S[Le],Tt=kt.options.glyphMarginClassName,Qt=kt.options.zIndex,Wt=(g=kt.options.glyphMargin)===null||g===void 0?void 0:g.position;Tt&&(ie[Ee++]=new Cn(kt.range.startLineNumber,kt.range.endLineNumber,Tt,Qt,Wt))}return ie}},{key:"prepareRender",value:function(u){if(!this._glyphMargin){this._renderResult=null;return}for(var g=u.visibleRange.startLineNumber,S=u.visibleRange.endLineNumber,ie=this._getDecorations(u),Ee=this._render(g,S,ie,this._glyphMarginDecorationLaneCount),Le=this._lineHeight.toString(),at=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount).toString(),kt='" style="width:'+at+"px;height:"+Le+"px;",Tt=[],Qt=g;Qt<=S;Qt++){var Wt=Qt-g,vt=Ee[Wt];if(vt.isEmpty())Tt[Wt]="";else{for(var wn="",xn=1;xn<=this._glyphMarginDecorationLaneCount;xn+=1){var ri=vt.getLaneDecorations(xn);if(ri.length!==0){ri.sort(function(Vi,Qi){return Qi.zIndex-Vi.zIndex});for(var hi=ri[0],ki=[hi.className],Di=1;Di<ri.length;Di+=1){var rr=ri[Di];if(rr.zIndex!==hi.zIndex)break;ki.push(rr.className)}var Ti=(this._glyphMarginLeft+(xn-1)*this._lineHeight).toString();wn+='<div class="cgmr codicon '+ki.join(" ")+kt+"left:"+Ti+'px;"></div>'}}Tt[Wt]=wn}}this._renderResult=Tt}},{key:"render",value:function(u,g){if(!this._renderResult)return"";var S=g-u;return S<0||S>=this._renderResult.length?"":this._renderResult[S]}}]),v}(Ui),or=a("oBTY"),Er=a("C6rC"),vr=a("746U"),on=a("6apY"),Wn=a("1CjY"),Zn=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this),u._context=m,u._primaryPosition=null;var g=u._context.configuration.options,S=g.get(141),ie=g.get(48);return u._lineHeight=g.get(64),u._spaceWidth=ie.spaceWidth,u._maxIndentLeft=S.wrappingColumn===-1?-1:S.wrappingColumn*ie.typicalHalfwidthCharacterWidth,u._bracketPairGuideOptions=g.get(14),u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(E.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,S=g.get(141),ie=g.get(48);return this._lineHeight=g.get(64),this._spaceWidth=ie.spaceWidth,this._maxIndentLeft=S.wrappingColumn===-1?-1:S.wrappingColumn*ie.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=g.get(14),!0}},{key:"onCursorStateChanged",value:function(u){var g,S=u.selections[0],ie=S.getPosition();return((g=this._primaryPosition)===null||g===void 0?void 0:g.equals(ie))?!1:(this._primaryPosition=ie,!0)}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"onLanguageConfigurationChanged",value:function(u){return!0}},{key:"prepareRender",value:function(u){var g,S,ie,Ee;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}for(var Le=u.visibleRange.startLineNumber,at=u.visibleRange.endLineNumber,kt=u.scrollWidth,Tt=this._lineHeight,Qt=this._primaryPosition,Wt=this.getGuidesByLine(Le,Math.min(at+1,this._context.viewModel.getLineCount()),Qt),vt=[],wn=Le;wn<=at;wn++){var xn=wn-Le,ri=Wt[xn],hi="",ki=(S=(g=u.visibleRangeForPosition(new kn.a(wn,1)))===null||g===void 0?void 0:g.left)!==null&&S!==void 0?S:0,Di=Object(w.a)(ri),rr;try{for(Di.s();!(rr=Di.n()).done;){var Ti=rr.value,Vi=Ti.column===-1?ki+(Ti.visibleColumn-1)*this._spaceWidth:u.visibleRangeForPosition(new kn.a(wn,Ti.column)).left;if(Vi>kt||this._maxIndentLeft>0&&Vi>this._maxIndentLeft)break;var Qi=Ti.horizontalLine?Ti.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",yr=Ti.horizontalLine?((Ee=(ie=u.visibleRangeForPosition(new kn.a(wn,Ti.horizontalLine.endColumn)))===null||ie===void 0?void 0:ie.left)!==null&&Ee!==void 0?Ee:Vi+this._spaceWidth)-Vi:this._spaceWidth;hi+='<div class="core-guide '.concat(Ti.className," ").concat(Qi,'" style="left:').concat(Vi,"px;height:").concat(Tt,"px;width:").concat(yr,'px"></div>')}}catch(Rr){Di.e(Rr)}finally{Di.f()}vt[xn]=hi}this._renderResult=vt}},{key:"getGuidesByLine",value:function(u,g,S){var ie=this,Ee=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(u,g,S,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?Wn.a.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?Wn.a.EnabledForActive:Wn.a.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,Le=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(u,g):null,at=0,kt=0,Tt=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&S){var Qt=this._context.viewModel.getActiveIndentGuide(S.lineNumber,u,g);at=Qt.startLineNumber,kt=Qt.endLineNumber,Tt=Qt.indent}for(var Wt=this._context.viewModel.model.getOptions(),vt=Wt.indentSize,wn=[],xn=u;xn<=g;xn++){var ri=new Array;wn.push(ri);for(var hi=Ee?Ee[xn-u]:[],ki=new T.a(hi),Di=Le?Le[xn-u]:0,rr=function(Qi){var yr=(Qi-1)*vt+1,Rr=(ie._bracketPairGuideOptions.highlightActiveIndentation==="always"||hi.length===0)&&at<=xn&&xn<=kt&&Qi===Tt;ri.push.apply(ri,Object(or.a)(ki.takeWhile(function(ha){return ha.visibleColumn<yr})||[]));var Qr=ki.peek();(!Qr||Qr.visibleColumn!==yr||Qr.horizontalLine)&&ri.push(new Wn.b(yr,-1,Rr?"core-guide-indent-active":"core-guide-indent",null,-1,-1))},Ti=1;Ti<=Di;Ti++)rr(Ti);ri.push.apply(ri,Object(or.a)(ki.takeWhile(function(Vi){return!0})||[]))}return wn}},{key:"render",value:function(u,g){if(!this._renderResult)return"";var S=g-u;return S<0||S>=this._renderResult.length?"":this._renderResult[S]}}]),v}(Br);function Li(Ke){if(!(Ke&&Ke.isTransparent()))return Ke}Object(Yr.e)(function(Ke,be){var v=[{bracketColor:ti.b,guideColor:ti.o,guideColorActive:ti.i},{bracketColor:ti.c,guideColor:ti.p,guideColorActive:ti.j},{bracketColor:ti.d,guideColor:ti.q,guideColorActive:ti.k},{bracketColor:ti.e,guideColor:ti.r,guideColorActive:ti.l},{bracketColor:ti.f,guideColor:ti.s,guideColorActive:ti.m},{bracketColor:ti.g,guideColor:ti.t,guideColorActive:ti.n}],m=new on.a,u=v.map(function(ie){var Ee,Le,at=Ke.getColor(ie.bracketColor),kt=Ke.getColor(ie.guideColor),Tt=Ke.getColor(ie.guideColorActive),Qt=Li((Ee=Li(kt))!==null&&Ee!==void 0?Ee:at==null?void 0:at.transparent(.3)),Wt=Li((Le=Li(Tt))!==null&&Le!==void 0?Le:at);if(!(!Qt||!Wt))return{guideColor:Qt,guideColorActive:Wt}}).filter(vr.d);if(u.length>0){for(var g=0;g<30;g++){var S=u[g%u.length];be.addRule(".monaco-editor .".concat(m.getInlineClassNameOfLevel(g).replace(/ /g,".")," { --guide-color: ").concat(S.guideColor,"; --guide-color-active: ").concat(S.guideColorActive,"; }"))}be.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),be.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),be.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),be.addRule(".monaco-editor .vertical.".concat(m.activeClassName," { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }")),be.addRule(".monaco-editor .horizontal-top.".concat(m.activeClassName," { border-top: 1px solid var(--guide-color-active); }")),be.addRule(".monaco-editor .horizontal-bottom.".concat(m.activeClassName," { border-bottom: 1px solid var(--guide-color-active); }"))}});var _r=a("OKK6"),Nr=a("X+cX"),$i=function(){function Ke(be,v){Object(Y.a)(this,Ke),this._domNode=be,this.endNode=v,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}return Object(E.a)(Ke,[{key:"didDomLayout",get:function(){return this._didDomLayout}},{key:"readClientRect",value:function(){if(!this._clientRectRead){this._clientRectRead=!0;var v=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=v.left,this._clientRectScale=v.width/this._domNode.offsetWidth}}},{key:"clientRectDeltaLeft",get:function(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}},{key:"clientRectScale",get:function(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}},{key:"markDidDomLayout",value:function(){this._didDomLayout=!0}}]),Ke}(),Jr=function(){function Ke(){Object(Y.a)(this,Ke),this._currentVisibleRange=new Pn.a(1,1,1,1)}return Object(E.a)(Ke,[{key:"getCurrentVisibleRange",value:function(){return this._currentVisibleRange}},{key:"setCurrentVisibleRange",value:function(v){this._currentVisibleRange=v}}]),Ke}(),ja=Object(E.a)(function Ke(be,v,m,u,g,S,ie){Object(Y.a)(this,Ke),this.minimalReveal=be,this.lineNumber=v,this.startColumn=m,this.endColumn=u,this.startScrollTop=g,this.stopScrollTop=S,this.scrollType=ie,this.type="range",this.minLineNumber=v,this.maxLineNumber=v}),$r=Object(E.a)(function Ke(be,v,m,u,g){Object(Y.a)(this,Ke),this.minimalReveal=be,this.selections=v,this.startScrollTop=m,this.stopScrollTop=u,this.scrollType=g,this.type="selections";for(var S=v[0].startLineNumber,ie=v[0].endLineNumber,Ee=1,Le=v.length;Ee<Le;Ee++){var at=v[Ee];S=Math.min(S,at.startLineNumber),ie=Math.max(ie,at.endLineNumber)}this.minLineNumber=S,this.maxLineNumber=ie}),Ra=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u){var g;Object(Y.a)(this,v),g=be.call(this,m),g._linesContent=u,g._textRangeRestingSpot=document.createElement("div"),g._visibleLines=new Yi(Object(ve.a)(g)),g.domNode=g._visibleLines.domNode;var S=g._context.configuration,ie=g._context.configuration.options,Ee=ie.get(48),Le=ie.get(141);return g._lineHeight=ie.get(64),g._typicalHalfwidthCharacterWidth=Ee.typicalHalfwidthCharacterWidth,g._isViewportWrapping=Le.isViewportWrapping,g._revealHorizontalRightPadding=ie.get(96),g._cursorSurroundingLines=ie.get(27),g._cursorSurroundingLinesStyle=ie.get(28),g._canUseLayerHinting=!ie.get(30),g._viewLineOptions=new rn(S,g._context.theme.type),Ce.write(g.domNode,7),g.domNode.setClassName("view-lines ".concat(Gt.a)),Object(We.a)(g.domNode,Ee),g._maxLineWidth=0,g._asyncUpdateLineWidths=new Nr.g(function(){g._updateLineWidthsSlow()},200),g._asyncCheckMonospaceFontAssumptions=new Nr.g(function(){g._checkMonospaceFontAssumptions()},2e3),g._lastRenderedData=new Jr,g._horizontalRevealRequest=null,g._stickyScrollEnabled=ie.get(111).enabled,g._maxNumberStickyLines=ie.get(111).maxLineCount,g}return Object(E.a)(v,[{key:"dispose",value:function(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"getDomNode",value:function(){return this.domNode}},{key:"createVisibleLine",value:function(){return new an(this._viewLineOptions)}},{key:"onConfigurationChanged",value:function(u){this._visibleLines.onConfigurationChanged(u),u.hasChanged(141)&&(this._maxLineWidth=0);var g=this._context.configuration.options,S=g.get(48),ie=g.get(141);return this._lineHeight=g.get(64),this._typicalHalfwidthCharacterWidth=S.typicalHalfwidthCharacterWidth,this._isViewportWrapping=ie.isViewportWrapping,this._revealHorizontalRightPadding=g.get(96),this._cursorSurroundingLines=g.get(27),this._cursorSurroundingLinesStyle=g.get(28),this._canUseLayerHinting=!g.get(30),this._stickyScrollEnabled=g.get(111).enabled,this._maxNumberStickyLines=g.get(111).maxLineCount,Object(We.a)(this.domNode,S),this._onOptionsMaybeChanged(),u.hasChanged(140)&&(this._maxLineWidth=0),!0}},{key:"_onOptionsMaybeChanged",value:function(){var u=this._context.configuration,g=new rn(u,this._context.theme.type);if(!this._viewLineOptions.equals(g)){this._viewLineOptions=g;for(var S=this._visibleLines.getStartLineNumber(),ie=this._visibleLines.getEndLineNumber(),Ee=S;Ee<=ie;Ee++){var Le=this._visibleLines.getVisibleLine(Ee);Le.onOptionsChanged(this._viewLineOptions)}return!0}return!1}},{key:"onCursorStateChanged",value:function(u){for(var g=this._visibleLines.getStartLineNumber(),S=this._visibleLines.getEndLineNumber(),ie=!1,Ee=g;Ee<=S;Ee++)ie=this._visibleLines.getVisibleLine(Ee).onSelectionChanged()||ie;return ie}},{key:"onDecorationsChanged",value:function(u){for(var g=this._visibleLines.getStartLineNumber(),S=this._visibleLines.getEndLineNumber(),ie=g;ie<=S;ie++)this._visibleLines.getVisibleLine(ie).onDecorationsChanged();return!0}},{key:"onFlushed",value:function(u){var g=this._visibleLines.onFlushed(u);return this._maxLineWidth=0,g}},{key:"onLinesChanged",value:function(u){return this._visibleLines.onLinesChanged(u)}},{key:"onLinesDeleted",value:function(u){return this._visibleLines.onLinesDeleted(u)}},{key:"onLinesInserted",value:function(u){return this._visibleLines.onLinesInserted(u)}},{key:"onRevealRangeRequest",value:function(u){var g=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),u.source,u.minimalReveal,u.range,u.selections,u.verticalType);if(g===-1)return!1;var S=this._context.viewLayout.validateScrollPosition({scrollTop:g});u.revealHorizontal?u.range&&u.range.startLineNumber!==u.range.endLineNumber?S={scrollTop:S.scrollTop,scrollLeft:0}:u.range?this._horizontalRevealRequest=new ja(u.minimalReveal,u.range.startLineNumber,u.range.startColumn,u.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),S.scrollTop,u.scrollType):u.selections&&u.selections.length>0&&(this._horizontalRevealRequest=new $r(u.minimalReveal,u.selections,this._context.viewLayout.getCurrentScrollTop(),S.scrollTop,u.scrollType)):this._horizontalRevealRequest=null;var ie=Math.abs(this._context.viewLayout.getCurrentScrollTop()-S.scrollTop),Ee=ie<=this._lineHeight?1:u.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(S,Ee),!0}},{key:"onScrollChanged",value:function(u){if(this._horizontalRevealRequest&&u.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&u.scrollTopChanged){var g=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),S=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(u.scrollTop<g||u.scrollTop>S)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(u.scrollWidth),this._visibleLines.onScrollChanged(u)||!0}},{key:"onTokensChanged",value:function(u){return this._visibleLines.onTokensChanged(u)}},{key:"onZonesChanged",value:function(u){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(u)}},{key:"onThemeChanged",value:function(u){return this._onOptionsMaybeChanged()}},{key:"getPositionFromDOMInfo",value:function(u,g){var S=this._getViewLineDomNode(u);if(S===null)return null;var ie=this._getLineNumberFor(S);if(ie===-1||ie<1||ie>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(ie)===1)return new kn.a(ie,1);var Ee=this._visibleLines.getStartLineNumber(),Le=this._visibleLines.getEndLineNumber();if(ie<Ee||ie>Le)return null;var at=this._visibleLines.getVisibleLine(ie).getColumnOfNodeOffset(ie,u,g),kt=this._context.viewModel.getLineMinColumn(ie);return at<kt&&(at=kt),new kn.a(ie,at)}},{key:"_getViewLineDomNode",value:function(u){for(;u&&u.nodeType===1;){if(u.className===an.CLASS_NAME)return u;u=u.parentElement}return null}},{key:"_getLineNumberFor",value:function(u){for(var g=this._visibleLines.getStartLineNumber(),S=this._visibleLines.getEndLineNumber(),ie=g;ie<=S;ie++){var Ee=this._visibleLines.getVisibleLine(ie);if(u===Ee.getDomNode())return ie}return-1}},{key:"getLineWidth",value:function(u){var g=this._visibleLines.getStartLineNumber(),S=this._visibleLines.getEndLineNumber();if(u<g||u>S)return-1;var ie=new $i(this.domNode.domNode,this._textRangeRestingSpot),Ee=this._visibleLines.getVisibleLine(u).getWidth(ie);return this._updateLineWidthsSlowIfDomDidLayout(ie),Ee}},{key:"linesVisibleRangesForRange",value:function(u,g){if(this.shouldRender())return null;var S=u.endLineNumber,ie=Pn.a.intersectRanges(u,this._lastRenderedData.getCurrentVisibleRange());if(!ie)return null;var Ee=[],Le=0,at=new $i(this.domNode.domNode,this._textRangeRestingSpot),kt=0;g&&(kt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new kn.a(ie.startLineNumber,1)).lineNumber);for(var Tt=this._visibleLines.getStartLineNumber(),Qt=this._visibleLines.getEndLineNumber(),Wt=ie.startLineNumber;Wt<=ie.endLineNumber;Wt++)if(!(Wt<Tt||Wt>Qt)){var vt=Wt===ie.startLineNumber?ie.startColumn:1,wn=Wt===ie.endLineNumber?ie.endColumn:this._context.viewModel.getLineMaxColumn(Wt),xn=this._visibleLines.getVisibleLine(Wt).getVisibleRangesForRange(Wt,vt,wn,at);if(!!xn){if(g&&Wt<S){var ri=kt;kt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new kn.a(Wt+1,1)).lineNumber,ri!==kt&&(xn.ranges[xn.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}Ee[Le++]=new Qe(xn.outsideRenderedLine,Wt,$e.from(xn.ranges))}}return this._updateLineWidthsSlowIfDomDidLayout(at),Le===0?null:Ee}},{key:"_visibleRangesForLineRange",value:function(u,g,S){if(this.shouldRender()||u<this._visibleLines.getStartLineNumber()||u>this._visibleLines.getEndLineNumber())return null;var ie=new $i(this.domNode.domNode,this._textRangeRestingSpot),Ee=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,g,S,ie);return this._updateLineWidthsSlowIfDomDidLayout(ie),Ee}},{key:"visibleRangeForPosition",value:function(u){var g=this._visibleRangesForLineRange(u.lineNumber,u.column,u.column);return g?new ot(g.outsideRenderedLine,g.ranges[0].left):null}},{key:"_updateLineWidthsFast",value:function(){return this._updateLineWidths(!0)}},{key:"_updateLineWidthsSlow",value:function(){this._updateLineWidths(!1)}},{key:"_updateLineWidthsSlowIfDomDidLayout",value:function(u){!u.didDomLayout||this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow())}},{key:"_updateLineWidths",value:function(u){for(var g=this._visibleLines.getStartLineNumber(),S=this._visibleLines.getEndLineNumber(),ie=1,Ee=!0,Le=g;Le<=S;Le++){var at=this._visibleLines.getVisibleLine(Le);if(u&&!at.getWidthIsFast()){Ee=!1;continue}ie=Math.max(ie,at.getWidth(null))}return Ee&&g===1&&S===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(ie),Ee}},{key:"_checkMonospaceFontAssumptions",value:function(){for(var u=-1,g=-1,S=this._visibleLines.getStartLineNumber(),ie=this._visibleLines.getEndLineNumber(),Ee=S;Ee<=ie;Ee++){var Le=this._visibleLines.getVisibleLine(Ee);if(Le.needsMonospaceFontCheck()){var at=Le.getWidth(null);at>g&&(g=at,u=Ee)}}if(u!==-1&&!this._visibleLines.getVisibleLine(u).monospaceAssumptionsAreValid())for(var kt=S;kt<=ie;kt++){var Tt=this._visibleLines.getVisibleLine(kt);Tt.onMonospaceAssumptionsInvalidated()}}},{key:"prepareRender",value:function(){throw new Error("Not supported")}},{key:"render",value:function(){throw new Error("Not supported")}},{key:"renderText",value:function(u){if(this._visibleLines.renderLines(u),this._lastRenderedData.setCurrentVisibleRange(u.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){var g=this._horizontalRevealRequest;if(u.startLineNumber<=g.minLineNumber&&g.maxLineNumber<=u.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var S=this._computeScrollLeftToReveal(g);S&&(this._isViewportWrapping||this._ensureMaxLineWidth(S.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:S.scrollLeft},g.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),I.g&&!this._asyncCheckMonospaceFontAssumptions.isScheduled())for(var ie=this._visibleLines.getStartLineNumber(),Ee=this._visibleLines.getEndLineNumber(),Le=ie;Le<=Ee;Le++){var at=this._visibleLines.getVisibleLine(Le);if(at.needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");var kt=this._context.viewLayout.getCurrentScrollTop()-u.bigNumbersDelta;this._linesContent.setTop(-kt),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}},{key:"_ensureMaxLineWidth",value:function(u){var g=Math.ceil(u);this._maxLineWidth<g&&(this._maxLineWidth=g,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}},{key:"_computeScrollTopToRevealRange",value:function(u,g,S,ie,Ee,Le){var at=u.top,kt=u.height,Tt=at+kt,Qt,Wt,vt;if(Ee&&Ee.length>0){for(var wn=Ee[0].startLineNumber,xn=Ee[0].endLineNumber,ri=1,hi=Ee.length;ri<hi;ri++){var ki=Ee[ri];wn=Math.min(wn,ki.startLineNumber),xn=Math.max(xn,ki.endLineNumber)}Qt=!1,Wt=this._context.viewLayout.getVerticalOffsetForLineNumber(wn),vt=this._context.viewLayout.getVerticalOffsetForLineNumber(xn)+this._lineHeight}else if(ie)Qt=!0,Wt=this._context.viewLayout.getVerticalOffsetForLineNumber(ie.startLineNumber),vt=this._context.viewLayout.getVerticalOffsetForLineNumber(ie.endLineNumber)+this._lineHeight;else return-1;var Di=(g==="mouse"||S)&&this._cursorSurroundingLinesStyle==="default",rr=0,Ti=0;if(Di)S||(rr=this._lineHeight);else{var Vi=Math.min(kt/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?rr=Math.max(Vi,this._maxNumberStickyLines)*this._lineHeight:rr=Vi*this._lineHeight,Ti=Math.max(0,Vi-1)*this._lineHeight}S||(Le===0||Le===4)&&(Ti+=this._lineHeight),Wt-=rr,vt+=Ti;var Qi;if(vt-Wt>kt){if(!Qt)return-1;Qi=Wt}else if(Le===5||Le===6)if(Le===6&&at<=Wt&&vt<=Tt)Qi=at;else{var yr=Math.max(5*this._lineHeight,kt*.2),Rr=Wt-yr,Qr=vt-kt;Qi=Math.max(Qr,Rr)}else if(Le===1||Le===2)if(Le===2&&at<=Wt&&vt<=Tt)Qi=at;else{var ha=(Wt+vt)/2;Qi=Math.max(0,ha-kt/2)}else Qi=this._computeMinimumScrolling(at,Tt,Wt,vt,Le===3,Le===4);return Qi}},{key:"_computeScrollLeftToReveal",value:function(u){var g=this._context.viewLayout.getCurrentViewport(),S=this._context.configuration.options.get(140),ie=g.left,Ee=ie+g.width-S.verticalScrollbarWidth,Le=1073741824,at=0;if(u.type==="range"){var kt=this._visibleRangesForLineRange(u.lineNumber,u.startColumn,u.endColumn);if(!kt)return null;var Tt=Object(w.a)(kt.ranges),Qt;try{for(Tt.s();!(Qt=Tt.n()).done;){var Wt=Qt.value;Le=Math.min(Le,Math.round(Wt.left)),at=Math.max(at,Math.round(Wt.left+Wt.width))}}catch(Ti){Tt.e(Ti)}finally{Tt.f()}}else{var vt=Object(w.a)(u.selections),wn;try{for(vt.s();!(wn=vt.n()).done;){var xn=wn.value;if(xn.startLineNumber!==xn.endLineNumber)return null;var ri=this._visibleRangesForLineRange(xn.startLineNumber,xn.startColumn,xn.endColumn);if(!ri)return null;var hi=Object(w.a)(ri.ranges),ki;try{for(hi.s();!(ki=hi.n()).done;){var Di=ki.value;Le=Math.min(Le,Math.round(Di.left)),at=Math.max(at,Math.round(Di.left+Di.width))}}catch(Ti){hi.e(Ti)}finally{hi.f()}}}catch(Ti){vt.e(Ti)}finally{vt.f()}}if(u.minimalReveal||(Le=Math.max(0,Le-v.HORIZONTAL_EXTRA_PX),at+=this._revealHorizontalRightPadding),u.type==="selections"&&at-Le>g.width)return null;var rr=this._computeMinimumScrolling(ie,Ee,Le,at);return{scrollLeft:rr,maxHorizontalOffset:at}}},{key:"_computeMinimumScrolling",value:function(u,g,S,ie,Ee,Le){u=u|0,g=g|0,S=S|0,ie=ie|0,Ee=!!Ee,Le=!!Le;var at=g-u,kt=ie-S;if(kt<at){if(Ee)return S;if(Le)return Math.max(0,ie-at);if(S<u)return S;if(ie>g)return Math.max(0,ie-at)}else return S;return u}}]),v}(Re);Ra.HORIZONTAL_EXTRA_PX=30;var Ua=a("J+ZK"),Ka=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this),u._context=m;var g=u._context.configuration.options,S=g.get(140);return u._decorationsLeft=S.decorationsLeft,u._decorationsWidth=S.decorationsWidth,u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(E.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,S=g.get(140);return this._decorationsLeft=S.decorationsLeft,this._decorationsWidth=S.decorationsWidth,!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_getDecorations",value:function(u){for(var g=u.getDecorationsInViewport(),S=[],ie=0,Ee=0,Le=g.length;Ee<Le;Ee++){var at=g[Ee],kt=at.options.linesDecorationsClassName,Tt=at.options.zIndex;kt&&(S[ie++]=new Cn(at.range.startLineNumber,at.range.endLineNumber,kt,Tt));var Qt=at.options.firstLineDecorationClassName;Qt&&(S[ie++]=new Cn(at.range.startLineNumber,at.range.startLineNumber,Qt,Tt))}return S}},{key:"prepareRender",value:function(u){for(var g=u.visibleRange.startLineNumber,S=u.visibleRange.endLineNumber,ie=this._render(g,S,this._getDecorations(u),1),Ee=this._decorationsLeft.toString(),Le=this._decorationsWidth.toString(),at='" style="left:'+Ee+"px;width:"+Le+'px;"></div>',kt=[],Tt=g;Tt<=S;Tt++){var Qt=Tt-g,Wt=ie[Qt].getLaneDecorations(1),vt="",wn=Object(w.a)(Wt),xn;try{for(wn.s();!(xn=wn.n()).done;){var ri=xn.value;vt+='<div class="cldr '+ri.className+at}}catch(hi){wn.e(hi)}finally{wn.f()}kt[Qt]=vt}this._renderResult=kt}},{key:"render",value:function(u,g){return this._renderResult?this._renderResult[g-u]:""}}]),v}(Ui),ws=a("XXBq"),Zr=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;return Object(Y.a)(this,v),u=be.call(this),u._context=m,u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(E.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){return!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_getDecorations",value:function(u){for(var g=u.getDecorationsInViewport(),S=[],ie=0,Ee=0,Le=g.length;Ee<Le;Ee++){var at=g[Ee],kt=at.options.marginClassName,Tt=at.options.zIndex;kt&&(S[ie++]=new Cn(at.range.startLineNumber,at.range.endLineNumber,kt,Tt))}return S}},{key:"prepareRender",value:function(u){for(var g=u.visibleRange.startLineNumber,S=u.visibleRange.endLineNumber,ie=this._render(g,S,this._getDecorations(u),1),Ee=[],Le=g;Le<=S;Le++){var at=Le-g,kt=ie[at].getLaneDecorations(1),Tt="",Qt=Object(w.a)(kt),Wt;try{for(Qt.s();!(Wt=Qt.n()).done;){var vt=Wt.value;Tt+='<div class="cmdr '+vt.className+'" style=""></div>'}}catch(wn){Qt.e(wn)}finally{Qt.f()}Ee[at]=Tt}this._renderResult=Ee}},{key:"render",value:function(u,g){return this._renderResult?this._renderResult[g-u]:""}}]),v}(Ui),Xa=a("8gvo"),Go=a("a4d6"),lo=function(){function Ke(be,v,m,u){Object(Y.a)(this,Ke),this._rgba8Brand=void 0,this.r=Ke._clamp(be),this.g=Ke._clamp(v),this.b=Ke._clamp(m),this.a=Ke._clamp(u)}return Object(E.a)(Ke,[{key:"equals",value:function(v){return this.r===v.r&&this.g===v.g&&this.b===v.b&&this.a===v.a}}],[{key:"_clamp",value:function(v){return v<0?0:v>255?255:v|0}}]),Ke}();lo.Empty=new lo(0,0,0,0);var qo=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(){var m;return Object(Y.a)(this,v),m=be.call(this),m._onDidChange=new D.b,m.onDidChange=m._onDidChange.event,m._updateColorMap(),m._register(mt.m.onDidChange(function(u){u.changedColorMap&&m._updateColorMap()})),m}return Object(E.a)(v,[{key:"_updateColorMap",value:function(){var u=mt.m.getColorMap();if(!u){this._colors=[lo.Empty],this._backgroundIsLight=!0;return}this._colors=[lo.Empty];for(var g=1;g<u.length;g++){var S=u[g].rgba;this._colors[g]=new lo(S.r,S.g,S.b,Math.round(S.a*255))}var ie=u[2].getRelativeLuminance();this._backgroundIsLight=ie>=.5,this._onDidChange.fire(void 0)}},{key:"getColor",value:function(u){return(u<1||u>=this._colors.length)&&(u=2),this._colors[u]}},{key:"backgroundIsLight",value:function(){return this._backgroundIsLight}}],[{key:"getInstance",value:function(){return this._INSTANCE||(this._INSTANCE=Object(C.k)(new v)),this._INSTANCE}}]),v}(C.a);qo._INSTANCE=null;var _a=a("YNuV"),la=a("MD5Z"),La=function(){for(var Ke=[],be=32;be<=126;be++)Ke.push(be);return Ke.push(65533),Ke}(),Ro=function(be,v){return be-=32,be<0||be>96?v<=2?(be+96)%96:96-1:be},$o=a("CZ1j"),Rt=function(){function Ke(be,v){Object(Y.a)(this,Ke),this.scale=v,this._minimapCharRendererBrand=void 0,this.charDataNormal=Ke.soften(be,12/15),this.charDataLight=Ke.soften(be,50/60)}return Object(E.a)(Ke,[{key:"renderChar",value:function(v,m,u,g,S,ie,Ee,Le,at,kt,Tt){var Qt=1*this.scale,Wt=2*this.scale,vt=Tt?1:Wt;if(m+Qt>v.width||u+vt>v.height){console.warn("bad render request outside image data");return}for(var wn=kt?this.charDataLight:this.charDataNormal,xn=Ro(g,at),ri=v.width*4,hi=Ee.r,ki=Ee.g,Di=Ee.b,rr=S.r-hi,Ti=S.g-ki,Vi=S.b-Di,Qi=Math.max(ie,Le),yr=v.data,Rr=xn*Qt*Wt,Qr=u*ri+m*4,ha=0;ha<vt;ha++){for(var Oa=Qr,qr=0;qr<Qt;qr++){var ka=wn[Rr++]/255*(ie/255);yr[Oa++]=hi+rr*ka,yr[Oa++]=ki+Ti*ka,yr[Oa++]=Di+Vi*ka,yr[Oa++]=Qi}Qr+=ri}}},{key:"blockRenderChar",value:function(v,m,u,g,S,ie,Ee,Le){var at=1*this.scale,kt=2*this.scale,Tt=Le?1:kt;if(m+at>v.width||u+Tt>v.height){console.warn("bad render request outside image data");return}for(var Qt=v.width*4,Wt=.5*(S/255),vt=ie.r,wn=ie.g,xn=ie.b,ri=g.r-vt,hi=g.g-wn,ki=g.b-xn,Di=vt+ri*Wt,rr=wn+hi*Wt,Ti=xn+ki*Wt,Vi=Math.max(S,Ee),Qi=v.data,yr=u*Qt+m*4,Rr=0;Rr<Tt;Rr++){for(var Qr=yr,ha=0;ha<at;ha++)Qi[Qr++]=Di,Qi[Qr++]=rr,Qi[Qr++]=Ti,Qi[Qr++]=Vi;yr+=Qt}}}],[{key:"soften",value:function(v,m){for(var u=new Uint8ClampedArray(v.length),g=0,S=v.length;g<S;g++)u[g]=Object($o.b)(v[g]*m);return u}}]),Ke}(),tt=a("C/vA"),_e={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},ee=function(be){for(var v=new Uint8ClampedArray(be.length/2),m=0;m<be.length;m+=2)v[m>>1]=_e[be[m]]<<4|_e[be[m+1]]&15;return v},j={1:Object(tt.a)(function(){return ee("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")}),2:Object(tt.a)(function(){return ee("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")})},k=function(){function Ke(){Object(Y.a)(this,Ke)}return Object(E.a)(Ke,null,[{key:"create",value:function(v,m){if(this.lastCreated&&v===this.lastCreated.scale&&m===this.lastFontFamily)return this.lastCreated;var u;return j[v]?u=new Rt(j[v](),v):u=Ke.createFromSampleData(Ke.createSampleData(m).data,v),this.lastFontFamily=m,this.lastCreated=u,u}},{key:"createSampleData",value:function(v){var m=document.createElement("canvas"),u=m.getContext("2d");m.style.height="".concat(16,"px"),m.height=16,m.width=96*10,m.style.width=96*10+"px",u.fillStyle="#ffffff",u.font="bold ".concat(16,"px ",v),u.textBaseline="middle";var g=0,S=Object(w.a)(La),ie;try{for(S.s();!(ie=S.n()).done;){var Ee=ie.value;u.fillText(String.fromCharCode(Ee),g,16/2),g+=10}}catch(Le){S.e(Le)}finally{S.f()}return u.getImageData(0,0,96*10,16)}},{key:"createFromSampleData",value:function(v,m){var u=16*10*4*96;if(v.length!==u)throw new Error("Unexpected source in MinimapCharRenderer");var g=Ke._downsample(v,m);return new Rt(g,m)}},{key:"_downsampleChar",value:function(v,m,u,g,S){for(var ie=1*S,Ee=2*S,Le=g,at=0,kt=0;kt<Ee;kt++)for(var Tt=kt/Ee*16,Qt=(kt+1)/Ee*16,Wt=0;Wt<ie;Wt++){for(var vt=Wt/ie*10,wn=(Wt+1)/ie*10,xn=0,ri=0,hi=Tt;hi<Qt;hi++)for(var ki=m+Math.floor(hi)*3840,Di=1-(hi-Math.floor(hi)),rr=vt;rr<wn;rr++){var Ti=1-(rr-Math.floor(rr)),Vi=ki+Math.floor(rr)*4,Qi=Ti*Di;ri+=Qi,xn+=v[Vi]*v[Vi+3]/255*Qi}var yr=xn/ri;at=Math.max(at,yr),u[Le++]=Object($o.b)(yr)}return at}},{key:"_downsample",value:function(v,m){for(var u=2*m*1*m,g=u*96,S=new Uint8ClampedArray(g),ie=0,Ee=0,Le=0,at=0;at<96;at++)Le=Math.max(Le,this._downsampleChar(v,Ee,S,ie,m)),ie+=u,Ee+=10*4;if(Le>0)for(var kt=255/Le,Tt=0;Tt<g;Tt++)S[Tt]*=kt;return S}}]),Ke}(),K=a("M1Kb"),ue=140,xe=2,Ve=function(){function Ke(be,v,m){var u=this;Object(Y.a)(this,Ke);var g=be.options,S=g.get(138),ie=g.get(140),Ee=ie.minimap,Le=g.get(48),at=g.get(70);this.renderMinimap=Ee.renderMinimap,this.size=at.size,this.minimapHeightIsEditorHeight=Ee.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=g.get(101),this.paddingTop=g.get(81).top,this.paddingBottom=g.get(81).bottom,this.showSlider=at.showSlider,this.autohide=at.autohide,this.pixelRatio=S,this.typicalHalfwidthCharacterWidth=Le.typicalHalfwidthCharacterWidth,this.lineHeight=g.get(64),this.minimapLeft=Ee.minimapLeft,this.minimapWidth=Ee.minimapWidth,this.minimapHeight=ie.height,this.canvasInnerWidth=Ee.minimapCanvasInnerWidth,this.canvasInnerHeight=Ee.minimapCanvasInnerHeight,this.canvasOuterWidth=Ee.minimapCanvasOuterWidth,this.canvasOuterHeight=Ee.minimapCanvasOuterHeight,this.isSampling=Ee.minimapIsSampling,this.editorHeight=ie.height,this.fontScale=Ee.minimapScale,this.minimapLineHeight=Ee.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=Object(tt.a)(function(){return k.create(u.fontScale,Le.fontFamily)}),this.defaultBackgroundColor=m.getColor(2),this.backgroundColor=Ke._getMinimapBackground(v,this.defaultBackgroundColor),this.foregroundAlpha=Ke._getMinimapForegroundOpacity(v)}return Object(E.a)(Ke,[{key:"equals",value:function(v){return this.renderMinimap===v.renderMinimap&&this.size===v.size&&this.minimapHeightIsEditorHeight===v.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===v.scrollBeyondLastLine&&this.paddingTop===v.paddingTop&&this.paddingBottom===v.paddingBottom&&this.showSlider===v.showSlider&&this.autohide===v.autohide&&this.pixelRatio===v.pixelRatio&&this.typicalHalfwidthCharacterWidth===v.typicalHalfwidthCharacterWidth&&this.lineHeight===v.lineHeight&&this.minimapLeft===v.minimapLeft&&this.minimapWidth===v.minimapWidth&&this.minimapHeight===v.minimapHeight&&this.canvasInnerWidth===v.canvasInnerWidth&&this.canvasInnerHeight===v.canvasInnerHeight&&this.canvasOuterWidth===v.canvasOuterWidth&&this.canvasOuterHeight===v.canvasOuterHeight&&this.isSampling===v.isSampling&&this.editorHeight===v.editorHeight&&this.fontScale===v.fontScale&&this.minimapLineHeight===v.minimapLineHeight&&this.minimapCharWidth===v.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(v.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(v.backgroundColor)&&this.foregroundAlpha===v.foregroundAlpha}}],[{key:"_getMinimapBackground",value:function(v,m){var u=v.getColor(la.jc);return u?new lo(u.rgba.r,u.rgba.g,u.rgba.b,Math.round(255*u.rgba.a)):m}},{key:"_getMinimapForegroundOpacity",value:function(v){var m=v.getColor(la.mc);return m?lo._clamp(Math.round(255*m.rgba.a)):255}}]),Ke}(),ut=function(){function Ke(be,v,m,u,g,S,ie,Ee,Le){Object(Y.a)(this,Ke),this.scrollTop=be,this.scrollHeight=v,this.sliderNeeded=m,this._computedSliderRatio=u,this.sliderTop=g,this.sliderHeight=S,this.topPaddingLineCount=ie,this.startLineNumber=Ee,this.endLineNumber=Le}return Object(E.a)(Ke,[{key:"getDesiredScrollTopFromDelta",value:function(v){return Math.round(this.scrollTop+v/this._computedSliderRatio)}},{key:"getDesiredScrollTopFromTouchLocation",value:function(v){return Math.round((v-this.sliderHeight/2)/this._computedSliderRatio)}},{key:"intersectWithViewport",value:function(v){var m=Math.max(this.startLineNumber,v.startLineNumber),u=Math.min(this.endLineNumber,v.endLineNumber);return m>u?null:[m,u]}},{key:"getYForLineNumber",value:function(v,m){return+(v-this.startLineNumber+this.topPaddingLineCount)*m}}],[{key:"create",value:function(v,m,u,g,S,ie,Ee,Le,at,kt,Tt){var Qt=v.pixelRatio,Wt=v.minimapLineHeight,vt=Math.floor(v.canvasInnerHeight/Wt),wn=v.lineHeight;if(v.minimapHeightIsEditorHeight){var xn=Le*v.lineHeight+v.paddingTop+v.paddingBottom;v.scrollBeyondLastLine&&(xn+=Math.max(0,S-v.lineHeight-v.paddingBottom));var ri=Math.max(1,Math.floor(S*S/xn)),hi=Math.max(0,v.minimapHeight-ri),ki=hi/(kt-S),Di=at*ki,rr=hi>0,Ti=Math.floor(v.canvasInnerHeight/v.minimapLineHeight),Vi=Math.floor(v.paddingTop/v.lineHeight);return new Ke(at,kt,rr,ki,Di,ri,Vi,1,Math.min(Ee,Ti))}var Qi;if(ie&&u!==Ee){var yr=u-m+1;Qi=Math.floor(yr*Wt/Qt)}else{var Rr=S/wn;Qi=Math.floor(Rr*Wt/Qt)}var Qr=Math.floor(v.paddingTop/wn),ha=Math.floor(v.paddingBottom/wn);if(v.scrollBeyondLastLine){var Oa=S/wn;ha=Math.max(ha,Oa-1)}var qr;if(ha>0){var ka=S/wn;qr=(Qr+Ee+ha-ka-1)*Wt/Qt}else qr=Math.max(0,(Qr+Ee)*Wt/Qt-Qi);qr=Math.min(v.minimapHeight-Qi,qr);var Ya=qr/(kt-S),Bo=at*Ya;if(vt>=Qr+Ee+ha){var Oo=qr>0;return new Ke(at,kt,Oo,Ya,Bo,Qi,Qr,1,Ee)}else{var ts;m>1?ts=m+Qr:ts=Math.max(1,at/wn);var Aa,xa=Math.max(1,Math.floor(ts-Bo*Qt/Wt));xa<Qr?(Aa=Qr-xa+1,xa=1):(Aa=0,xa=Math.max(1,xa-Qr)),Tt&&Tt.scrollHeight===kt&&(Tt.scrollTop>at&&(xa=Math.min(xa,Tt.startLineNumber),Aa=Math.max(Aa,Tt.topPaddingLineCount)),Tt.scrollTop<at&&(xa=Math.max(xa,Tt.startLineNumber),Aa=Math.min(Aa,Tt.topPaddingLineCount)));var fo=Math.min(Ee,xa-Aa+vt-1),vs=(at-g)/wn,ll;return at>v.paddingTop?ll=(m-xa+Aa+vs)*Wt/Qt:ll=at/v.paddingTop*(Aa+vs)*Wt/Qt,new Ke(at,kt,!0,Ya,ll,Qi,Aa,xa,fo)}}}]),Ke}(),_t=function(){function Ke(be){Object(Y.a)(this,Ke),this.dy=be}return Object(E.a)(Ke,[{key:"onContentChanged",value:function(){this.dy=-1}},{key:"onTokensChanged",value:function(){this.dy=-1}}]),Ke}();_t.INVALID=new _t(-1);var xt=function(){function Ke(be,v,m){Object(Y.a)(this,Ke),this.renderedLayout=be,this._imageData=v,this._renderedLines=new Wi(function(){return _t.INVALID}),this._renderedLines._set(be.startLineNumber,m)}return Object(E.a)(Ke,[{key:"linesEquals",value:function(v){if(!this.scrollEquals(v))return!1;for(var m=this._renderedLines._get(),u=m.lines,g=0,S=u.length;g<S;g++)if(u[g].dy===-1)return!1;return!0}},{key:"scrollEquals",value:function(v){return this.renderedLayout.startLineNumber===v.startLineNumber&&this.renderedLayout.endLineNumber===v.endLineNumber}},{key:"_get",value:function(){var v=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:v.rendLineNumberStart,lines:v.lines}}},{key:"onLinesChanged",value:function(v,m){return this._renderedLines.onLinesChanged(v,m)}},{key:"onLinesDeleted",value:function(v,m){this._renderedLines.onLinesDeleted(v,m)}},{key:"onLinesInserted",value:function(v,m){this._renderedLines.onLinesInserted(v,m)}},{key:"onTokensChanged",value:function(v){return this._renderedLines.onTokensChanged(v)}}]),Ke}(),un=function(){function Ke(be,v,m,u){Object(Y.a)(this,Ke),this._backgroundFillData=Ke._createBackgroundFillData(v,m,u),this._buffers=[be.createImageData(v,m),be.createImageData(v,m)],this._lastUsedBuffer=0}return Object(E.a)(Ke,[{key:"getBuffer",value:function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var v=this._buffers[this._lastUsedBuffer];return v.data.set(this._backgroundFillData),v}}],[{key:"_createBackgroundFillData",value:function(v,m,u){for(var g=u.r,S=u.g,ie=u.b,Ee=u.a,Le=new Uint8ClampedArray(v*m*4),at=0,kt=0;kt<m;kt++)for(var Tt=0;Tt<v;Tt++)Le[at]=g,Le[at+1]=S,Le[at+2]=ie,Le[at+3]=Ee,at+=4;return Le}}]),Ke}(),ln=function(){function Ke(be,v){Object(Y.a)(this,Ke),this.samplingRatio=be,this.minimapLines=v}return Object(E.a)(Ke,[{key:"modelLineToMinimapLine",value:function(v){return Math.min(this.minimapLines.length,Math.max(1,Math.round(v/this.samplingRatio)))}},{key:"modelLineRangeToMinimapLineRange",value:function(v,m){for(var u=this.modelLineToMinimapLine(v)-1;u>0&&this.minimapLines[u-1]>=v;)u--;for(var g=this.modelLineToMinimapLine(m)-1;g+1<this.minimapLines.length&&this.minimapLines[g+1]<=m;)g++;if(u===g){var S=this.minimapLines[u];if(S<v||S>m)return null}return[u+1,g+1]}},{key:"decorationLineRangeToMinimapLineRange",value:function(v,m){var u=this.modelLineToMinimapLine(v),g=this.modelLineToMinimapLine(m);return v!==m&&g===u&&(g===this.minimapLines.length?u>1&&u--:g++),[u,g]}},{key:"onLinesDeleted",value:function(v){for(var m=v.toLineNumber-v.fromLineNumber+1,u=this.minimapLines.length,g=0,S=this.minimapLines.length-1;S>=0&&!(this.minimapLines[S]<v.fromLineNumber);S--)this.minimapLines[S]<=v.toLineNumber?(this.minimapLines[S]=Math.max(1,v.fromLineNumber-1),u=Math.min(u,S),g=Math.max(g,S)):this.minimapLines[S]-=m;return[u,g]}},{key:"onLinesInserted",value:function(v){for(var m=v.toLineNumber-v.fromLineNumber+1,u=this.minimapLines.length-1;u>=0&&!(this.minimapLines[u]<v.fromLineNumber);u--)this.minimapLines[u]+=m}}],[{key:"compute",value:function(v,m,u){if(v.renderMinimap===0||!v.isSampling)return[null,[]];var g=ae.g.computeContainedMinimapLineCount({viewLineCount:m,scrollBeyondLastLine:v.scrollBeyondLastLine,paddingTop:v.paddingTop,paddingBottom:v.paddingBottom,height:v.editorHeight,lineHeight:v.lineHeight,pixelRatio:v.pixelRatio}),S=g.minimapLineCount,ie=m/S,Ee=ie/2;if(!u||u.minimapLines.length===0){var Le=[];if(Le[0]=1,S>1){for(var at=0,kt=S-1;at<kt;at++)Le[at]=Math.round(at*ie+Ee);Le[S-1]=m}return[new Ke(ie,Le),[]]}for(var Tt=u.minimapLines,Qt=Tt.length,Wt=[],vt=0,wn=0,xn=1,ri=10,hi=[],ki=null,Di=0;Di<S;Di++){for(var rr=Math.max(xn,Math.round(Di*ie)),Ti=Math.max(rr,Math.round((Di+1)*ie));vt<Qt&&Tt[vt]<rr;){if(hi.length<ri){var Vi=vt+1+wn;ki&&ki.type==="deleted"&&ki._oldIndex===vt-1?ki.deleteToLineNumber++:(ki={type:"deleted",_oldIndex:vt,deleteFromLineNumber:Vi,deleteToLineNumber:Vi},hi.push(ki)),wn--}vt++}var Qi=void 0;if(vt<Qt&&Tt[vt]<=Ti)Qi=Tt[vt],vt++;else if(Di===0?Qi=1:Di+1===S?Qi=m:Qi=Math.round(Di*ie+Ee),hi.length<ri){var yr=vt+1+wn;ki&&ki.type==="inserted"&&ki._i===Di-1?ki.insertToLineNumber++:(ki={type:"inserted",_i:Di,insertFromLineNumber:yr,insertToLineNumber:yr},hi.push(ki)),wn++}Wt[Di]=Qi,xn=Qi}if(hi.length<ri)for(;vt<Qt;){var Rr=vt+1+wn;ki&&ki.type==="deleted"&&ki._oldIndex===vt-1?ki.deleteToLineNumber++:(ki={type:"deleted",_oldIndex:vt,deleteFromLineNumber:Rr,deleteToLineNumber:Rr},hi.push(ki)),wn--,vt++}else hi=[{type:"flush"}];return[new Ke(ie,Wt),hi]}}]),Ke}(),nn=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this,m),u.tokensColorTracker=qo.getInstance(),u._selections=[],u._minimapSelections=null,u.options=new Ve(u._context.configuration,u._context.theme,u.tokensColorTracker);var g=ln.compute(u.options,u._context.viewModel.getLineCount(),null),S=Object(ce.a)(g,1),ie=S[0];return u._samplingState=ie,u._shouldCheckSampling=!1,u._actual=new bn(m.theme,Object(ve.a)(u)),u}return Object(E.a)(v,[{key:"dispose",value:function(){this._actual.dispose(),Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"getDomNode",value:function(){return this._actual.getDomNode()}},{key:"_onOptionsMaybeChanged",value:function(){var u=new Ve(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(u)?!1:(this.options=u,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}},{key:"onConfigurationChanged",value:function(u){return this._onOptionsMaybeChanged()}},{key:"onCursorStateChanged",value:function(u){return this._selections=u.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}},{key:"onDecorationsChanged",value:function(u){return u.affectsMinimap?this._actual.onDecorationsChanged():!1}},{key:"onFlushed",value:function(u){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}},{key:"onLinesChanged",value:function(u){if(this._samplingState){var g=this._samplingState.modelLineRangeToMinimapLineRange(u.fromLineNumber,u.fromLineNumber+u.count-1);return g?this._actual.onLinesChanged(g[0],g[1]-g[0]+1):!1}else return this._actual.onLinesChanged(u.fromLineNumber,u.count)}},{key:"onLinesDeleted",value:function(u){if(this._samplingState){var g=this._samplingState.onLinesDeleted(u),S=Object(ce.a)(g,2),ie=S[0],Ee=S[1];return ie<=Ee&&this._actual.onLinesChanged(ie+1,Ee-ie+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(u.fromLineNumber,u.toLineNumber)}},{key:"onLinesInserted",value:function(u){return this._samplingState?(this._samplingState.onLinesInserted(u),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(u.fromLineNumber,u.toLineNumber)}},{key:"onScrollChanged",value:function(u){return this._actual.onScrollChanged()}},{key:"onThemeChanged",value:function(u){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}},{key:"onTokensChanged",value:function(u){if(this._samplingState){var g=[],S=Object(w.a)(u.ranges),ie;try{for(S.s();!(ie=S.n()).done;){var Ee=ie.value,Le=this._samplingState.modelLineRangeToMinimapLineRange(Ee.fromLineNumber,Ee.toLineNumber);Le&&g.push({fromLineNumber:Le[0],toLineNumber:Le[1]})}}catch(at){S.e(at)}finally{S.f()}return g.length?this._actual.onTokensChanged(g):!1}else return this._actual.onTokensChanged(u.ranges)}},{key:"onTokensColorsChanged",value:function(u){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}},{key:"onZonesChanged",value:function(u){return this._actual.onZonesChanged()}},{key:"prepareRender",value:function(u){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}},{key:"render",value:function(u){var g=u.visibleRange.startLineNumber,S=u.visibleRange.endLineNumber;this._samplingState&&(g=this._samplingState.modelLineToMinimapLine(g),S=this._samplingState.modelLineToMinimapLine(S));var ie={viewportContainsWhitespaceGaps:u.viewportData.whitespaceViewportData.length>0,scrollWidth:u.scrollWidth,scrollHeight:u.scrollHeight,viewportStartLineNumber:g,viewportEndLineNumber:S,viewportStartLineNumberVerticalOffset:u.getVerticalOffsetForLineNumber(g),scrollTop:u.scrollTop,scrollLeft:u.scrollLeft,viewportWidth:u.viewportWidth,viewportHeight:u.viewportHeight};this._actual.render(ie)}},{key:"_recreateLineSampling",value:function(){this._minimapSelections=null;var u=Boolean(this._samplingState),g=ln.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState),S=Object(ce.a)(g,2),ie=S[0],Ee=S[1];if(this._samplingState=ie,u&&this._samplingState){var Le=Object(w.a)(Ee),at;try{for(Le.s();!(at=Le.n()).done;){var kt=at.value;switch(kt.type){case"deleted":this._actual.onLinesDeleted(kt.deleteFromLineNumber,kt.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(kt.insertFromLineNumber,kt.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}}catch(Tt){Le.e(Tt)}finally{Le.f()}}}},{key:"getLineCount",value:function(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}},{key:"getRealLineCount",value:function(){return this._context.viewModel.getLineCount()}},{key:"getLineContent",value:function(u){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[u-1]):this._context.viewModel.getLineContent(u)}},{key:"getLineMaxColumn",value:function(u){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[u-1]):this._context.viewModel.getLineMaxColumn(u)}},{key:"getMinimapLinesRenderingData",value:function(u,g,S){if(this._samplingState){for(var ie=[],Ee=0,Le=g-u+1;Ee<Le;Ee++)S[Ee]?ie[Ee]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[u+Ee-1]):ie[Ee]=null;return ie}return this._context.viewModel.getMinimapLinesRenderingData(u,g,S).data}},{key:"getSelections",value:function(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];var u=Object(w.a)(this._selections),g;try{for(u.s();!(g=u.n()).done;){var S=g.value,ie=this._samplingState.decorationLineRangeToMinimapLineRange(S.startLineNumber,S.endLineNumber),Ee=Object(ce.a)(ie,2),Le=Ee[0],at=Ee[1];this._minimapSelections.push(new Ft.a(Le,S.startColumn,at,S.endColumn))}}catch(kt){u.e(kt)}finally{u.f()}}else this._minimapSelections=this._selections;return this._minimapSelections}},{key:"getMinimapDecorationsInViewport",value:function(u,g){var S;if(this._samplingState){var ie=this._samplingState.minimapLines[u-1],Ee=this._samplingState.minimapLines[g-1];S=new Pn.a(ie,1,Ee,this._context.viewModel.getLineMaxColumn(Ee))}else S=new Pn.a(u,1,g,this._context.viewModel.getLineMaxColumn(g));var Le=this._context.viewModel.getMinimapDecorationsInRange(S);if(this._samplingState){var at=[],kt=Object(w.a)(Le),Tt;try{for(kt.s();!(Tt=kt.n()).done;){var Qt=Tt.value;if(!!Qt.options.minimap){var Wt=Qt.range,vt=this._samplingState.modelLineToMinimapLine(Wt.startLineNumber),wn=this._samplingState.modelLineToMinimapLine(Wt.endLineNumber);at.push(new _a.g(new Pn.a(vt,Wt.startColumn,wn,Wt.endColumn),Qt.options))}}}catch(xn){kt.e(xn)}finally{kt.f()}return at}return Le}},{key:"getOptions",value:function(){return this._context.viewModel.model.getOptions()}},{key:"revealLineNumber",value:function(u){this._samplingState&&(u=this._samplingState.minimapLines[u-1]),this._context.viewModel.revealRange("mouse",!1,new Pn.a(u,1,u,1),1,0)}},{key:"setScrollTop",value:function(u){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:u},1)}}]),v}(Re),bn=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u){var g;return Object(Y.a)(this,v),g=be.call(this),g._renderDecorations=!1,g._gestureInProgress=!1,g._theme=m,g._model=u,g._lastRenderData=null,g._buffers=null,g._selectionColor=g._theme.getColor(la.nc),g._domNode=Object(Ot.b)(document.createElement("div")),Ce.write(g._domNode,8),g._domNode.setClassName(g._getMinimapDomNodeClassName()),g._domNode.setPosition("absolute"),g._domNode.setAttribute("role","presentation"),g._domNode.setAttribute("aria-hidden","true"),g._shadow=Object(Ot.b)(document.createElement("div")),g._shadow.setClassName("minimap-shadow-hidden"),g._domNode.appendChild(g._shadow),g._canvas=Object(Ot.b)(document.createElement("canvas")),g._canvas.setPosition("absolute"),g._canvas.setLeft(0),g._domNode.appendChild(g._canvas),g._decorationsCanvas=Object(Ot.b)(document.createElement("canvas")),g._decorationsCanvas.setPosition("absolute"),g._decorationsCanvas.setClassName("minimap-decorations-layer"),g._decorationsCanvas.setLeft(0),g._domNode.appendChild(g._decorationsCanvas),g._slider=Object(Ot.b)(document.createElement("div")),g._slider.setPosition("absolute"),g._slider.setClassName("minimap-slider"),g._slider.setLayerHinting(!0),g._slider.setContain("strict"),g._domNode.appendChild(g._slider),g._sliderHorizontal=Object(Ot.b)(document.createElement("div")),g._sliderHorizontal.setPosition("absolute"),g._sliderHorizontal.setClassName("minimap-slider-horizontal"),g._slider.appendChild(g._sliderHorizontal),g._applyLayout(),g._pointerDownListener=H.addStandardDisposableListener(g._domNode.domNode,H.EventType.POINTER_DOWN,function(S){S.preventDefault();var ie=g._model.options.renderMinimap;if(ie!==0&&!!g._lastRenderData){if(g._model.options.size!=="proportional"){if(S.button===0&&g._lastRenderData){var Ee=H.getDomNodePagePosition(g._slider.domNode),Le=Ee.top+Ee.height/2;g._startSliderDragging(S,Le,g._lastRenderData.renderedLayout)}return}var at=g._model.options.minimapLineHeight,kt=g._model.options.canvasInnerHeight/g._model.options.canvasOuterHeight*S.offsetY,Tt=Math.floor(kt/at),Qt=Tt+g._lastRenderData.renderedLayout.startLineNumber-g._lastRenderData.renderedLayout.topPaddingLineCount;Qt=Math.min(Qt,g._model.getLineCount()),g._model.revealLineNumber(Qt)}}),g._sliderPointerMoveMonitor=new Go.a,g._sliderPointerDownListener=H.addStandardDisposableListener(g._slider.domNode,H.EventType.POINTER_DOWN,function(S){S.preventDefault(),S.stopPropagation(),S.button===0&&g._lastRenderData&&g._startSliderDragging(S,S.pageY,g._lastRenderData.renderedLayout)}),g._gestureDisposable=pt.b.addTarget(g._domNode.domNode),g._sliderTouchStartListener=H.addDisposableListener(g._domNode.domNode,pt.a.Start,function(S){S.preventDefault(),S.stopPropagation(),g._lastRenderData&&(g._slider.toggleClassName("active",!0),g._gestureInProgress=!0,g.scrollDueToTouchEvent(S))},{passive:!1}),g._sliderTouchMoveListener=H.addDisposableListener(g._domNode.domNode,pt.a.Change,function(S){S.preventDefault(),S.stopPropagation(),g._lastRenderData&&g._gestureInProgress&&g.scrollDueToTouchEvent(S)},{passive:!1}),g._sliderTouchEndListener=H.addStandardDisposableListener(g._domNode.domNode,pt.a.End,function(S){S.preventDefault(),S.stopPropagation(),g._gestureInProgress=!1,g._slider.toggleClassName("active",!1)}),g}return Object(E.a)(v,[{key:"_startSliderDragging",value:function(u,g,S){var ie=this;if(!(!u.target||!(u.target instanceof Element))){var Ee=u.pageX;this._slider.toggleClassName("active",!0);var Le=function(kt,Tt){var Qt=H.getDomNodePagePosition(ie._domNode.domNode),Wt=Math.min(Math.abs(Tt-Ee),Math.abs(Tt-Qt.left),Math.abs(Tt-Qt.left-Qt.width));if(I.o&&Wt>ue){ie._model.setScrollTop(S.scrollTop);return}var vt=kt-g;ie._model.setScrollTop(S.getDesiredScrollTopFromDelta(vt))};u.pageY!==g&&Le(u.pageY,Ee),this._sliderPointerMoveMonitor.startMonitoring(u.target,u.pointerId,u.buttons,function(at){return Le(at.pageY,at.pageX)},function(){ie._slider.toggleClassName("active",!1)})}}},{key:"scrollDueToTouchEvent",value:function(u){var g=this._domNode.domNode.getBoundingClientRect().top,S=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(u.pageY-g);this._model.setScrollTop(S)}},{key:"dispose",value:function(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"_getMinimapDomNodeClassName",value:function(){var u=["minimap"];return this._model.options.showSlider==="always"?u.push("slider-always"):u.push("slider-mouseover"),this._model.options.autohide&&u.push("autohide"),u.join(" ")}},{key:"getDomNode",value:function(){return this._domNode}},{key:"_applyLayout",value:function(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}},{key:"_getBuffer",value:function(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new un(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}},{key:"onDidChangeOptions",value:function(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}},{key:"onSelectionChanged",value:function(){return this._renderDecorations=!0,!0}},{key:"onDecorationsChanged",value:function(){return this._renderDecorations=!0,!0}},{key:"onFlushed",value:function(){return this._lastRenderData=null,!0}},{key:"onLinesChanged",value:function(u,g){return this._lastRenderData?this._lastRenderData.onLinesChanged(u,g):!1}},{key:"onLinesDeleted",value:function(u,g){var S;return(S=this._lastRenderData)===null||S===void 0||S.onLinesDeleted(u,g),!0}},{key:"onLinesInserted",value:function(u,g){var S;return(S=this._lastRenderData)===null||S===void 0||S.onLinesInserted(u,g),!0}},{key:"onScrollChanged",value:function(){return this._renderDecorations=!0,!0}},{key:"onThemeChanged",value:function(){return this._selectionColor=this._theme.getColor(la.nc),this._renderDecorations=!0,!0}},{key:"onTokensChanged",value:function(u){return this._lastRenderData?this._lastRenderData.onTokensChanged(u):!1}},{key:"onTokensColorsChanged",value:function(){return this._lastRenderData=null,this._buffers=null,!0}},{key:"onZonesChanged",value:function(){return this._lastRenderData=null,!0}},{key:"render",value:function(u){var g=this._model.options.renderMinimap;if(g===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}u.scrollLeft+u.viewportWidth>=u.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var S=ut.create(this._model.options,u.viewportStartLineNumber,u.viewportEndLineNumber,u.viewportStartLineNumberVerticalOffset,u.viewportHeight,u.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),u.scrollTop,u.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(S.sliderNeeded?"block":"none"),this._slider.setTop(S.sliderTop),this._slider.setHeight(S.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(S.sliderHeight),this.renderDecorations(S),this._lastRenderData=this.renderLines(S)}},{key:"renderDecorations",value:function(u){if(this._renderDecorations){this._renderDecorations=!1;var g=this._model.getSelections();g.sort(Pn.a.compareRangesUsingStarts);var S=this._model.getMinimapDecorationsInViewport(u.startLineNumber,u.endLineNumber);S.sort(function(wn,xn){return(wn.options.zIndex||0)-(xn.options.zIndex||0)});var ie=this._model.options,Ee=ie.canvasInnerWidth,Le=ie.canvasInnerHeight,at=this._model.options.minimapLineHeight,kt=this._model.options.minimapCharWidth,Tt=this._model.getOptions().tabSize,Qt=this._decorationsCanvas.domNode.getContext("2d");Qt.clearRect(0,0,Ee,Le);var Wt=new An(u.startLineNumber,u.endLineNumber,!1);this._renderSelectionLineHighlights(Qt,g,Wt,u,at),this._renderDecorationsLineHighlights(Qt,S,Wt,u,at);var vt=new An(u.startLineNumber,u.endLineNumber,null);this._renderSelectionsHighlights(Qt,g,vt,u,at,Tt,kt,Ee),this._renderDecorationsHighlights(Qt,S,vt,u,at,Tt,kt,Ee)}}},{key:"_renderSelectionLineHighlights",value:function(u,g,S,ie,Ee){if(!(!this._selectionColor||this._selectionColor.isTransparent())){u.fillStyle=this._selectionColor.transparent(.5).toString();var Le=0,at=0,kt=Object(w.a)(g),Tt;try{for(kt.s();!(Tt=kt.n()).done;){var Qt=Tt.value,Wt=ie.intersectWithViewport(Qt);if(!!Wt){for(var vt=Object(ce.a)(Wt,2),wn=vt[0],xn=vt[1],ri=wn;ri<=xn;ri++)S.set(ri,!0);var hi=ie.getYForLineNumber(wn,Ee),ki=ie.getYForLineNumber(xn,Ee);at>=hi||(at>Le&&u.fillRect(ae.i,Le,u.canvas.width,at-Le),Le=hi),at=ki}}}catch(Di){kt.e(Di)}finally{kt.f()}at>Le&&u.fillRect(ae.i,Le,u.canvas.width,at-Le)}}},{key:"_renderDecorationsLineHighlights",value:function(u,g,S,ie,Ee){for(var Le=new Map,at=g.length-1;at>=0;at--){var kt=g[at],Tt=kt.options.minimap;if(!(!Tt||Tt.position!==K.e.Inline)){var Qt=ie.intersectWithViewport(kt.range);if(!!Qt){var Wt=Object(ce.a)(Qt,2),vt=Wt[0],wn=Wt[1],xn=Tt.getColor(this._theme.value);if(!(!xn||xn.isTransparent())){var ri=Le.get(xn.toString());ri||(ri=xn.transparent(.5).toString(),Le.set(xn.toString(),ri)),u.fillStyle=ri;for(var hi=vt;hi<=wn;hi++)if(!S.has(hi)){S.set(hi,!0);var ki=ie.getYForLineNumber(vt,Ee);u.fillRect(ae.i,ki,u.canvas.width,Ee)}}}}}}},{key:"_renderSelectionsHighlights",value:function(u,g,S,ie,Ee,Le,at,kt){if(!(!this._selectionColor||this._selectionColor.isTransparent())){var Tt=Object(w.a)(g),Qt;try{for(Tt.s();!(Qt=Tt.n()).done;){var Wt=Qt.value,vt=ie.intersectWithViewport(Wt);if(!!vt)for(var wn=Object(ce.a)(vt,2),xn=wn[0],ri=wn[1],hi=xn;hi<=ri;hi++)this.renderDecorationOnLine(u,S,Wt,this._selectionColor,ie,hi,Ee,Ee,Le,at,kt)}}catch(ki){Tt.e(ki)}finally{Tt.f()}}}},{key:"_renderDecorationsHighlights",value:function(u,g,S,ie,Ee,Le,at,kt){var Tt=Object(w.a)(g),Qt;try{for(Tt.s();!(Qt=Tt.n()).done;){var Wt=Qt.value,vt=Wt.options.minimap;if(!!vt){var wn=ie.intersectWithViewport(Wt.range);if(!!wn){var xn=Object(ce.a)(wn,2),ri=xn[0],hi=xn[1],ki=vt.getColor(this._theme.value);if(!(!ki||ki.isTransparent()))for(var Di=ri;Di<=hi;Di++)switch(vt.position){case K.e.Inline:this.renderDecorationOnLine(u,S,Wt.range,ki,ie,Di,Ee,Ee,Le,at,kt);continue;case K.e.Gutter:{var rr=ie.getYForLineNumber(Di,Ee),Ti=2;this.renderDecoration(u,ki,Ti,rr,xe,Ee);continue}}}}}}catch(Vi){Tt.e(Vi)}finally{Tt.f()}}},{key:"renderDecorationOnLine",value:function(u,g,S,ie,Ee,Le,at,kt,Tt,Qt,Wt){var vt=Ee.getYForLineNumber(Le,kt);if(!(vt+at<0||vt>this._model.options.canvasInnerHeight)){var wn=S.startLineNumber,xn=S.endLineNumber,ri=wn===Le?S.startColumn:1,hi=xn===Le?S.endColumn:this._model.getLineMaxColumn(Le),ki=this.getXOffsetForPosition(g,Le,ri,Tt,Qt,Wt),Di=this.getXOffsetForPosition(g,Le,hi,Tt,Qt,Wt);this.renderDecoration(u,ie,ki,vt,Di-ki,at)}}},{key:"getXOffsetForPosition",value:function(u,g,S,ie,Ee,Le){if(S===1)return ae.i;var at=(S-1)*Ee;if(at>=Le)return Le;var kt=u.get(g);if(!kt){var Tt=this._model.getLineContent(g);kt=[ae.i];for(var Qt=ae.i,Wt=1;Wt<Tt.length+1;Wt++){var vt=Tt.charCodeAt(Wt-1),wn=vt===9?ie*Ee:Ut.E(vt)?2*Ee:Ee,xn=Qt+wn;if(xn>=Le){kt[Wt]=Le;break}kt[Wt]=xn,Qt=xn}u.set(g,kt)}return S-1<kt.length?kt[S-1]:Le}},{key:"renderDecoration",value:function(u,g,S,ie,Ee,Le){u.fillStyle=g&&g.toString()||"",u.fillRect(S,ie,Ee,Le)}},{key:"renderLines",value:function(u){var g=u.startLineNumber,S=u.endLineNumber,ie=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(u)){var Ee=this._lastRenderData._get();return new xt(u,Ee.imageData,Ee.lines)}var Le=this._getBuffer();if(!Le)return null;for(var at=v._renderUntouchedLines(Le,u.topPaddingLineCount,g,S,ie,this._lastRenderData),kt=Object(ce.a)(at,3),Tt=kt[0],Qt=kt[1],Wt=kt[2],vt=this._model.getMinimapLinesRenderingData(g,S,Wt),wn=this._model.getOptions().tabSize,xn=this._model.options.defaultBackgroundColor,ri=this._model.options.backgroundColor,hi=this._model.options.foregroundAlpha,ki=this._model.tokensColorTracker,Di=ki.backgroundIsLight(),rr=this._model.options.renderMinimap,Ti=this._model.options.charRenderer(),Vi=this._model.options.fontScale,Qi=this._model.options.minimapCharWidth,yr=rr===1?2:2+1,Rr=yr*Vi,Qr=ie>Rr?Math.floor((ie-Rr)/2):0,ha=ri.a/255,Oa=new lo(Math.round((ri.r-xn.r)*ha+xn.r),Math.round((ri.g-xn.g)*ha+xn.g),Math.round((ri.b-xn.b)*ha+xn.b),255),qr=u.topPaddingLineCount*ie,ka=[],Ya=0,Bo=S-g+1;Ya<Bo;Ya++)Wt[Ya]&&v._renderLine(Le,Oa,ri.a,Di,rr,Qi,ki,hi,Ti,qr,Qr,wn,vt[Ya],Vi,ie),ka[Ya]=new _t(qr),qr+=ie;var Oo=Tt===-1?0:Tt,ts=Qt===-1?Le.height:Qt,Aa=ts-Oo,xa=this._canvas.domNode.getContext("2d");return xa.putImageData(Le,0,0,0,Oo,Le.width,Aa),new xt(u,Le,ka)}}],[{key:"_renderUntouchedLines",value:function(u,g,S,ie,Ee,Le){var at=[];if(!Le){for(var kt=0,Tt=ie-S+1;kt<Tt;kt++)at[kt]=!0;return[-1,-1,at]}for(var Qt=Le._get(),Wt=Qt.imageData.data,vt=Qt.rendLineNumberStart,wn=Qt.lines,xn=wn.length,ri=u.width,hi=u.data,ki=(ie-S+1)*Ee*ri*4,Di=-1,rr=-1,Ti=-1,Vi=-1,Qi=-1,yr=-1,Rr=g*Ee,Qr=S;Qr<=ie;Qr++){var ha=Qr-S,Oa=Qr-vt,qr=Oa>=0&&Oa<xn?wn[Oa].dy:-1;if(qr===-1){at[ha]=!0,Rr+=Ee;continue}var ka=qr*ri*4,Ya=(qr+Ee)*ri*4,Bo=Rr*ri*4,Oo=(Rr+Ee)*ri*4;Vi===ka&&yr===Bo?(Vi=Ya,yr=Oo):(Ti!==-1&&(hi.set(Wt.subarray(Ti,Vi),Qi),Di===-1&&Ti===0&&Ti===Qi&&(Di=Vi),rr===-1&&Vi===ki&&Ti===Qi&&(rr=Ti)),Ti=ka,Vi=Ya,Qi=Bo,yr=Oo),at[ha]=!1,Rr+=Ee}Ti!==-1&&(hi.set(Wt.subarray(Ti,Vi),Qi),Di===-1&&Ti===0&&Ti===Qi&&(Di=Vi),rr===-1&&Vi===ki&&Ti===Qi&&(rr=Ti));var ts=Di===-1?-1:Di/(ri*4),Aa=rr===-1?-1:rr/(ri*4);return[ts,Aa,at]}},{key:"_renderLine",value:function(u,g,S,ie,Ee,Le,at,kt,Tt,Qt,Wt,vt,wn,xn,ri){for(var hi=wn.content,ki=wn.tokens,Di=u.width-Le,rr=ri===1,Ti=ae.i,Vi=0,Qi=0,yr=0,Rr=ki.getCount();yr<Rr;yr++)for(var Qr=ki.getEndOffset(yr),ha=ki.getForeground(yr),Oa=at.getColor(ha);Vi<Qr;Vi++){if(Ti>Di)return;var qr=hi.charCodeAt(Vi);if(qr===9){var ka=vt-(Vi+Qi)%vt;Qi+=ka-1,Ti+=ka*Le}else if(qr===32)Ti+=Le;else for(var Ya=Ut.E(qr)?2:1,Bo=0;Bo<Ya;Bo++)if(Ee===2?Tt.blockRenderChar(u,Ti,Qt+Wt,Oa,kt,g,S,rr):Tt.renderChar(u,Ti,Qt+Wt,qr,Oa,kt,g,S,xn,ie,rr),Ti+=Le,Ti>Di)return}}}]),v}(C.a),An=function(){function Ke(be,v,m){Object(Y.a)(this,Ke),this._startLineNumber=be,this._endLineNumber=v,this._defaultValue=m,this._values=[];for(var u=0,g=this._endLineNumber-this._startLineNumber+1;u<g;u++)this._values[u]=m}return Object(E.a)(Ke,[{key:"has",value:function(v){return this.get(v)!==this._defaultValue}},{key:"set",value:function(v,m){v<this._startLineNumber||v>this._endLineNumber||(this._values[v-this._startLineNumber]=m)}},{key:"get",value:function(v){return v<this._startLineNumber||v>this._endLineNumber?this._defaultValue:this._values[v-this._startLineNumber]}}]),Ke}(),It=a("cl4r"),er=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this,m);var g=u._context.configuration.options,S=g.get(140);return u._widgets={},u._verticalScrollbarWidth=S.verticalScrollbarWidth,u._minimapWidth=S.minimap.minimapWidth,u._horizontalScrollbarHeight=S.horizontalScrollbarHeight,u._editorHeight=S.height,u._editorWidth=S.width,u._domNode=Object(Ot.b)(document.createElement("div")),Ce.write(u._domNode,4),u._domNode.setClassName("overlayWidgets"),u}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this),this._widgets={}}},{key:"getDomNode",value:function(){return this._domNode}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,S=g.get(140);return this._verticalScrollbarWidth=S.verticalScrollbarWidth,this._minimapWidth=S.minimap.minimapWidth,this._horizontalScrollbarHeight=S.horizontalScrollbarHeight,this._editorHeight=S.height,this._editorWidth=S.width,!0}},{key:"addWidget",value:function(u){var g=Object(Ot.b)(u.getDomNode());this._widgets[u.getId()]={widget:u,preference:null,domNode:g},g.setPosition("absolute"),g.setAttribute("widgetId",u.getId()),this._domNode.appendChild(g),this.setShouldRender()}},{key:"setWidgetPosition",value:function(u,g){var S=this._widgets[u.getId()];return S.preference===g?!1:(S.preference=g,this.setShouldRender(),!0)}},{key:"removeWidget",value:function(u){var g=u.getId();if(this._widgets.hasOwnProperty(g)){var S=this._widgets[g],ie=S.domNode.domNode;delete this._widgets[g],ie.parentNode.removeChild(ie),this.setShouldRender()}}},{key:"_renderWidget",value:function(u){var g=u.domNode;if(u.preference===null){g.setTop("");return}if(u.preference===0)g.setTop(0),g.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(u.preference===1){var S=g.domNode.clientHeight;g.setTop(this._editorHeight-S-2*this._horizontalScrollbarHeight),g.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else u.preference===2&&(g.setTop(0),g.domNode.style.right="50%")}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){this._domNode.setWidth(this._editorWidth);for(var g=Object.keys(this._widgets),S=0,ie=g.length;S<ie;S++){var Ee=g[S];this._renderWidget(this._widgets[Ee])}}}]),v}(Re),Mi=function(){function Ke(be,v){Object(Y.a)(this,Ke);var m=be.options;this.lineHeight=m.get(64),this.pixelRatio=m.get(138),this.overviewRulerLanes=m.get(80),this.renderBorder=m.get(79);var u=v.getColor(ti.C);this.borderColor=u?u.toString():null,this.hideCursor=m.get(57);var g=v.getColor(ti.v);this.cursorColor=g?g.transparent(.7).toString():null,this.themeType=v.type;var S=m.get(70),ie=S.enabled,Ee=S.side,Le=v.getColor(ti.B),at=mt.m.getDefaultBackground();Le?this.backgroundColor=Le:ie&&Ee==="right"?this.backgroundColor=at:this.backgroundColor=null;var kt=m.get(140),Tt=kt.overviewRuler;this.top=Tt.top,this.right=Tt.right,this.domWidth=Tt.width,this.domHeight=Tt.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);var Qt=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),Wt=Object(ce.a)(Qt,2),vt=Wt[0],wn=Wt[1];this.x=vt,this.w=wn}return Object(E.a)(Ke,[{key:"_initLanes",value:function(v,m,u){var g=m-v;if(u>=3){var S=Math.floor(g/3),ie=Math.floor(g/3),Ee=g-S-ie,Le=v,at=Le+S,kt=Le+S+Ee;return[[0,Le,at,Le,kt,Le,at,Le],[0,S,Ee,S+Ee,ie,S+Ee+ie,Ee+ie,S+Ee+ie]]}else if(u===2){var Tt=Math.floor(g/2),Qt=g-Tt,Wt=v,vt=Wt+Tt;return[[0,Wt,Wt,Wt,vt,Wt,Wt,Wt],[0,Tt,Tt,Tt,Qt,Tt+Qt,Tt+Qt,Tt+Qt]]}else{var wn=v,xn=g;return[[0,wn,wn,wn,wn,wn,wn,wn],[0,xn,xn,xn,xn,xn,xn,xn]]}}},{key:"equals",value:function(v){return this.lineHeight===v.lineHeight&&this.pixelRatio===v.pixelRatio&&this.overviewRulerLanes===v.overviewRulerLanes&&this.renderBorder===v.renderBorder&&this.borderColor===v.borderColor&&this.hideCursor===v.hideCursor&&this.cursorColor===v.cursorColor&&this.themeType===v.themeType&&Ye.a.equals(this.backgroundColor,v.backgroundColor)&&this.top===v.top&&this.right===v.right&&this.domWidth===v.domWidth&&this.domHeight===v.domHeight&&this.canvasWidth===v.canvasWidth&&this.canvasHeight===v.canvasHeight}}]),Ke}(),wr=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;return Object(Y.a)(this,v),u=be.call(this,m),u._domNode=Object(Ot.b)(document.createElement("canvas")),u._domNode.setClassName("decorationsOverviewRuler"),u._domNode.setPosition("absolute"),u._domNode.setLayerHinting(!0),u._domNode.setContain("strict"),u._domNode.setAttribute("aria-hidden","true"),u._updateSettings(!1),u._tokensColorTrackerListener=mt.m.onDidChange(function(g){g.changedColorMap&&u._updateSettings(!0)}),u._cursorPositions=[],u}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this),this._tokensColorTrackerListener.dispose()}},{key:"_updateSettings",value:function(u){var g=new Mi(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(g)?!1:(this._settings=g,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,u&&this._render(),!0)}},{key:"onConfigurationChanged",value:function(u){return this._updateSettings(!1)}},{key:"onCursorStateChanged",value:function(u){this._cursorPositions=[];for(var g=0,S=u.selections.length;g<S;g++)this._cursorPositions[g]=u.selections[g].getPosition();return this._cursorPositions.sort(kn.a.compare),!0}},{key:"onDecorationsChanged",value:function(u){return!!u.affectsOverviewRuler}},{key:"onFlushed",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollHeightChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"onThemeChanged",value:function(u){return this._updateSettings(!1)}},{key:"getDomNode",value:function(){return this._domNode.domNode}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){this._render()}},{key:"_render",value:function(){var u=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(u?Ye.a.Format.CSS.formatHexA(u):""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");var g=this._settings.canvasWidth,S=this._settings.canvasHeight,ie=this._settings.lineHeight,Ee=this._context.viewLayout,Le=this._context.viewLayout.getScrollHeight(),at=S/Le,kt=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),Tt=6*this._settings.pixelRatio|0,Qt=Tt/2|0,Wt=this._domNode.domNode.getContext("2d");u?u.isOpaque()?(Wt.fillStyle=Ye.a.Format.CSS.formatHexA(u),Wt.fillRect(0,0,g,S)):(Wt.clearRect(0,0,g,S),Wt.fillStyle=Ye.a.Format.CSS.formatHexA(u),Wt.fillRect(0,0,g,S)):Wt.clearRect(0,0,g,S);var vt=this._settings.x,wn=this._settings.w;kt.sort(_a.c.cmp);var xn=Object(w.a)(kt),ri;try{for(xn.s();!(ri=xn.n()).done;){var hi=ri.value,ki=hi.color,Di=hi.data;Wt.fillStyle=ki;for(var rr=0,Ti=0,Vi=0,Qi=0,yr=Di.length/3;Qi<yr;Qi++){var Rr=Di[3*Qi],Qr=Di[3*Qi+1],ha=Di[3*Qi+2],Oa=Ee.getVerticalOffsetForLineNumber(Qr)*at|0,qr=(Ee.getVerticalOffsetForLineNumber(ha)+ie)*at|0,ka=qr-Oa;if(ka<Tt){var Ya=(Oa+qr)/2|0;Ya<Qt?Ya=Qt:Ya+Qt>S&&(Ya=S-Qt),Oa=Ya-Qt,qr=Ya+Qt}Oa>Vi+1||Rr!==rr?(Qi!==0&&Wt.fillRect(vt[rr],Ti,wn[rr],Vi-Ti),rr=Rr,Ti=Oa,Vi=qr):qr>Vi&&(Vi=qr)}Wt.fillRect(vt[rr],Ti,wn[rr],Vi-Ti)}}catch(Fl){xn.e(Fl)}finally{xn.f()}if(!this._settings.hideCursor&&this._settings.cursorColor){var Bo=2*this._settings.pixelRatio|0,Oo=Bo/2|0,ts=this._settings.x[7],Aa=this._settings.w[7];Wt.fillStyle=this._settings.cursorColor;for(var xa=-100,fo=-100,vs=0,ll=this._cursorPositions.length;vs<ll;vs++){var pu=this._cursorPositions[vs],zs=Ee.getVerticalOffsetForLineNumber(pu.lineNumber)*at|0;zs<Oo?zs=Oo:zs+Oo>S&&(zs=S-Oo);var xl=zs-Oo,rs=xl+Bo;xl>fo+1?(vs!==0&&Wt.fillRect(ts,xa,Aa,fo-xa),xa=xl,fo=rs):rs>fo&&(fo=rs)}Wt.fillRect(ts,xa,Aa,fo-xa)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Wt.beginPath(),Wt.lineWidth=1,Wt.strokeStyle=this._settings.borderColor,Wt.moveTo(0,0),Wt.lineTo(0,S),Wt.stroke(),Wt.moveTo(0,0),Wt.lineTo(g,0),Wt.stroke())}}]),v}(Re),hr=a("1rVb"),xi=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u){var g;Object(Y.a)(this,v),g=be.call(this),g._context=m;var S=g._context.configuration.options;return g._domNode=Object(Ot.b)(document.createElement("canvas")),g._domNode.setClassName(u),g._domNode.setPosition("absolute"),g._domNode.setLayerHinting(!0),g._domNode.setContain("strict"),g._zoneManager=new hr.b(function(ie){return g._context.viewLayout.getVerticalOffsetForLineNumber(ie)}),g._zoneManager.setDOMWidth(0),g._zoneManager.setDOMHeight(0),g._zoneManager.setOuterHeight(g._context.viewLayout.getScrollHeight()),g._zoneManager.setLineHeight(S.get(64)),g._zoneManager.setPixelRatio(S.get(138)),g._context.addEventHandler(Object(ve.a)(g)),g}return Object(E.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options;return u.hasChanged(64)&&(this._zoneManager.setLineHeight(g.get(64)),this._render()),u.hasChanged(138)&&(this._zoneManager.setPixelRatio(g.get(138)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}},{key:"onFlushed",value:function(u){return this._render(),!0}},{key:"onScrollChanged",value:function(u){return u.scrollHeightChanged&&(this._zoneManager.setOuterHeight(u.scrollHeight),this._render()),!0}},{key:"onZonesChanged",value:function(u){return this._render(),!0}},{key:"getDomNode",value:function(){return this._domNode.domNode}},{key:"setLayout",value:function(u){this._domNode.setTop(u.top),this._domNode.setRight(u.right);var g=!1;g=this._zoneManager.setDOMWidth(u.width)||g,g=this._zoneManager.setDOMHeight(u.height)||g,g&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}},{key:"setZones",value:function(u){this._zoneManager.setZones(u),this._render()}},{key:"_render",value:function(){if(this._zoneManager.getOuterHeight()===0)return!1;var u=this._zoneManager.getCanvasWidth(),g=this._zoneManager.getCanvasHeight(),S=this._zoneManager.resolveColorZones(),ie=this._zoneManager.getId2Color(),Ee=this._domNode.domNode.getContext("2d");return Ee.clearRect(0,0,u,g),S.length>0&&this._renderOneLane(Ee,S,ie,u),!0}},{key:"_renderOneLane",value:function(u,g,S,ie){var Ee=0,Le=0,at=0,kt=Object(w.a)(g),Tt;try{for(kt.s();!(Tt=kt.n()).done;){var Qt=Tt.value,Wt=Qt.colorId,vt=Qt.from,wn=Qt.to;Wt!==Ee?(u.fillRect(0,Le,ie,at-Le),Ee=Wt,u.fillStyle=S[Ee],Le=vt,at=wn):at>=vt?at=Math.max(at,wn):(u.fillRect(0,Le,ie,at-Le),Le=vt,at=wn)}}catch(xn){kt.e(xn)}finally{kt.f()}u.fillRect(0,Le,ie,at-Le)}}]),v}(Vt),Ar=a("7zd4"),zr=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this,m),u.domNode=Object(Ot.b)(document.createElement("div")),u.domNode.setAttribute("role","presentation"),u.domNode.setAttribute("aria-hidden","true"),u.domNode.setClassName("view-rulers"),u._renderedRulers=[];var g=u._context.configuration.options;return u._rulers=g.get(98),u._typicalHalfwidthCharacterWidth=g.get(48).typicalHalfwidthCharacterWidth,u}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options;return this._rulers=g.get(98),this._typicalHalfwidthCharacterWidth=g.get(48).typicalHalfwidthCharacterWidth,!0}},{key:"onScrollChanged",value:function(u){return u.scrollHeightChanged}},{key:"prepareRender",value:function(u){}},{key:"_ensureRulersCount",value:function(){var u=this._renderedRulers.length,g=this._rulers.length;if(u!==g){if(u<g){for(var S=this._context.viewModel.model.getOptions(),ie=S.tabSize,Ee=ie,Le=g-u;Le>0;){var at=Object(Ot.b)(document.createElement("div"));at.setClassName("view-ruler"),at.setWidth(Ee),this.domNode.appendChild(at),this._renderedRulers.push(at),Le--}return}for(var kt=u-g;kt>0;){var Tt=this._renderedRulers.pop();this.domNode.removeChild(Tt),kt--}}}},{key:"render",value:function(u){this._ensureRulersCount();for(var g=0,S=this._rulers.length;g<S;g++){var ie=this._renderedRulers[g],Ee=this._rulers[g];ie.setBoxShadow(Ee.color?"1px 0 0 0 ".concat(Ee.color," inset"):""),ie.setHeight(Math.min(u.scrollHeight,1e6)),ie.setLeft(Ee.column*this._typicalHalfwidthCharacterWidth)}}}]),v}(Re),Tr=a("2MPD"),ba=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this,m),u._scrollTop=0,u._width=0,u._updateWidth(),u._shouldShow=!1;var g=u._context.configuration.options,S=g.get(99);return u._useShadows=S.useShadows,u._domNode=Object(Ot.b)(document.createElement("div")),u._domNode.setAttribute("role","presentation"),u._domNode.setAttribute("aria-hidden","true"),u}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"_updateShouldShow",value:function(){var u=this._useShadows&&this._scrollTop>0;return this._shouldShow!==u?(this._shouldShow=u,!0):!1}},{key:"getDomNode",value:function(){return this._domNode}},{key:"_updateWidth",value:function(){var u=this._context.configuration.options,g=u.get(140);g.minimap.renderMinimap===0||g.minimap.minimapWidth>0&&g.minimap.minimapLeft===0?this._width=g.width:this._width=g.width-g.verticalScrollbarWidth}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,S=g.get(99);return this._useShadows=S.useShadows,this._updateWidth(),this._updateShouldShow(),!0}},{key:"onScrollChanged",value:function(u){return this._scrollTop=u.scrollTop,this._updateShouldShow()}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}]),v}(Re),Sa=a("eC1c"),Va=Object(E.a)(function Ke(be){Object(Y.a)(this,Ke),this.left=be.left,this.width=be.width,this.startStyle=null,this.endStyle=null}),Ja=Object(E.a)(function Ke(be,v){Object(Y.a)(this,Ke),this.lineNumber=be,this.ranges=v});function Ba(Ke){return new Va(Ke)}function bo(Ke){return new Ja(Ke.lineNumber,Ke.ranges.map(Ba))}var yo=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this),u._previousFrameVisibleRangesWithStyle=[],u._context=m;var g=u._context.configuration.options;return u._lineHeight=g.get(64),u._roundedSelection=g.get(97),u._typicalHalfwidthCharacterWidth=g.get(48).typicalHalfwidthCharacterWidth,u._selections=[],u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(E.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options;return this._lineHeight=g.get(64),this._roundedSelection=g.get(97),this._typicalHalfwidthCharacterWidth=g.get(48).typicalHalfwidthCharacterWidth,!0}},{key:"onCursorStateChanged",value:function(u){return this._selections=u.selections.slice(0),!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_visibleRangesHaveGaps",value:function(u){for(var g=0,S=u.length;g<S;g++){var ie=u[g];if(ie.ranges.length>1)return!0}return!1}},{key:"_enrichVisibleRangesWithStyle",value:function(u,g,S){var ie=this._typicalHalfwidthCharacterWidth/4,Ee=null,Le=null;if(S&&S.length>0&&g.length>0){var at=g[0].lineNumber;if(at===u.startLineNumber)for(var kt=0;!Ee&&kt<S.length;kt++)S[kt].lineNumber===at&&(Ee=S[kt].ranges[0]);var Tt=g[g.length-1].lineNumber;if(Tt===u.endLineNumber)for(var Qt=S.length-1;!Le&&Qt>=0;Qt--)S[Qt].lineNumber===Tt&&(Le=S[Qt].ranges[0]);Ee&&!Ee.startStyle&&(Ee=null),Le&&!Le.startStyle&&(Le=null)}for(var Wt=0,vt=g.length;Wt<vt;Wt++){var wn=g[Wt].ranges[0],xn=wn.left,ri=wn.left+wn.width,hi={top:0,bottom:0},ki={top:0,bottom:0};if(Wt>0){var Di=g[Wt-1].ranges[0].left,rr=g[Wt-1].ranges[0].left+g[Wt-1].ranges[0].width;Vo(xn-Di)<ie?hi.top=2:xn>Di&&(hi.top=1),Vo(ri-rr)<ie?ki.top=2:Di<ri&&ri<rr&&(ki.top=1)}else Ee&&(hi.top=Ee.startStyle.top,ki.top=Ee.endStyle.top);if(Wt+1<vt){var Ti=g[Wt+1].ranges[0].left,Vi=g[Wt+1].ranges[0].left+g[Wt+1].ranges[0].width;Vo(xn-Ti)<ie?hi.bottom=2:Ti<xn&&xn<Vi&&(hi.bottom=1),Vo(ri-Vi)<ie?ki.bottom=2:ri<Vi&&(ki.bottom=1)}else Le&&(hi.bottom=Le.startStyle.bottom,ki.bottom=Le.endStyle.bottom);wn.startStyle=hi,wn.endStyle=ki}}},{key:"_getVisibleRangesWithStyle",value:function(u,g,S){var ie=g.linesVisibleRangesForRange(u,!0)||[],Ee=ie.map(bo),Le=this._visibleRangesHaveGaps(Ee);return!Le&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(g.visibleRange,Ee,S),Ee}},{key:"_createSelectionPiece",value:function(u,g,S,ie,Ee){return'<div class="cslr '+S+'" style="top:'+u.toString()+"px;left:"+ie.toString()+"px;width:"+Ee.toString()+"px;height:"+g+'px;"></div>'}},{key:"_actualRenderOneSelection",value:function(u,g,S,ie){if(ie.length!==0)for(var Ee=!!ie[0].ranges[0].startStyle,Le=this._lineHeight.toString(),at=(this._lineHeight-1).toString(),kt=ie[0].lineNumber,Tt=ie[ie.length-1].lineNumber,Qt=0,Wt=ie.length;Qt<Wt;Qt++){for(var vt=ie[Qt],wn=vt.lineNumber,xn=wn-g,ri=S&&(wn===Tt||wn===kt)?at:Le,hi=S&&wn===kt?1:0,ki="",Di="",rr=0,Ti=vt.ranges.length;rr<Ti;rr++){var Vi=vt.ranges[rr];if(Ee){var Qi=Vi.startStyle,yr=Vi.endStyle;if(Qi.top===1||Qi.bottom===1){ki+=this._createSelectionPiece(hi,ri,v.SELECTION_CLASS_NAME,Vi.left-v.ROUNDED_PIECE_WIDTH,v.ROUNDED_PIECE_WIDTH);var Rr=v.EDITOR_BACKGROUND_CLASS_NAME;Qi.top===1&&(Rr+=" "+v.SELECTION_TOP_RIGHT),Qi.bottom===1&&(Rr+=" "+v.SELECTION_BOTTOM_RIGHT),ki+=this._createSelectionPiece(hi,ri,Rr,Vi.left-v.ROUNDED_PIECE_WIDTH,v.ROUNDED_PIECE_WIDTH)}if(yr.top===1||yr.bottom===1){ki+=this._createSelectionPiece(hi,ri,v.SELECTION_CLASS_NAME,Vi.left+Vi.width,v.ROUNDED_PIECE_WIDTH);var Qr=v.EDITOR_BACKGROUND_CLASS_NAME;yr.top===1&&(Qr+=" "+v.SELECTION_TOP_LEFT),yr.bottom===1&&(Qr+=" "+v.SELECTION_BOTTOM_LEFT),ki+=this._createSelectionPiece(hi,ri,Qr,Vi.left+Vi.width,v.ROUNDED_PIECE_WIDTH)}}var ha=v.SELECTION_CLASS_NAME;if(Ee){var Oa=Vi.startStyle,qr=Vi.endStyle;Oa.top===0&&(ha+=" "+v.SELECTION_TOP_LEFT),Oa.bottom===0&&(ha+=" "+v.SELECTION_BOTTOM_LEFT),qr.top===0&&(ha+=" "+v.SELECTION_TOP_RIGHT),qr.bottom===0&&(ha+=" "+v.SELECTION_BOTTOM_RIGHT)}Di+=this._createSelectionPiece(hi,ri,ha,Vi.left,Vi.width)}u[xn][0]+=ki,u[xn][1]+=Di}}},{key:"prepareRender",value:function(u){for(var g=[],S=u.visibleRange.startLineNumber,ie=u.visibleRange.endLineNumber,Ee=S;Ee<=ie;Ee++){var Le=Ee-S;g[Le]=["",""]}for(var at=[],kt=0,Tt=this._selections.length;kt<Tt;kt++){var Qt=this._selections[kt];if(Qt.isEmpty()){at[kt]=null;continue}var Wt=this._getVisibleRangesWithStyle(Qt,u,this._previousFrameVisibleRangesWithStyle[kt]);at[kt]=Wt,this._actualRenderOneSelection(g,S,this._selections.length>1,Wt)}this._previousFrameVisibleRangesWithStyle=at,this._renderResult=g.map(function(vt){var wn=Object(ce.a)(vt,2),xn=wn[0],ri=wn[1];return xn+ri})}},{key:"render",value:function(u,g){if(!this._renderResult)return"";var S=g-u;return S<0||S>=this._renderResult.length?"":this._renderResult[S]}}]),v}(Br);yo.SELECTION_CLASS_NAME="selected-text",yo.SELECTION_TOP_LEFT="top-left-radius",yo.SELECTION_BOTTOM_LEFT="bottom-left-radius",yo.SELECTION_TOP_RIGHT="top-right-radius",yo.SELECTION_BOTTOM_RIGHT="bottom-right-radius",yo.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",yo.ROUNDED_PIECE_WIDTH=10,Object(Yr.e)(function(Ke,be){var v=Ke.getColor(la.cb);v&&!v.isTransparent()&&be.addRule(".monaco-editor .view-line span.inline-selected-text { color: ".concat(v,"; }"))});function Vo(Ke){return Ke<0?-Ke:Ke}var js=a("2Tsy"),Qo=Object(E.a)(function Ke(be,v,m,u,g,S,ie){Object(Y.a)(this,Ke),this.top=be,this.left=v,this.paddingLeft=m,this.width=u,this.height=g,this.textContent=S,this.textContentClassName=ie}),Ho=function(){function Ke(be){Object(Y.a)(this,Ke),this._context=be;var v=this._context.configuration.options,m=v.get(48);this._cursorStyle=v.get(26),this._lineHeight=v.get(64),this._typicalHalfwidthCharacterWidth=m.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(v.get(29),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Object(Ot.b)(document.createElement("div")),this._domNode.setClassName("cursor ".concat(Gt.a)),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),Object(We.a)(this._domNode,m),this._domNode.setDisplay("none"),this._position=new kn.a(1,1),this._lastRenderedContent="",this._renderData=null}return Object(E.a)(Ke,[{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return this._position}},{key:"show",value:function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}},{key:"hide",value:function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}},{key:"onConfigurationChanged",value:function(v){var m=this._context.configuration.options,u=m.get(48);return this._cursorStyle=m.get(26),this._lineHeight=m.get(64),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(m.get(29),this._typicalHalfwidthCharacterWidth),Object(We.a)(this._domNode,u),!0}},{key:"onCursorPositionChanged",value:function(v,m){return m?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=v,!0}},{key:"_getGraphemeAwarePosition",value:function(){var v=this._position,m=v.lineNumber,u=v.column,g=this._context.viewModel.getLineContent(m),S=Ut.w(g,u-1),ie=Object(ce.a)(S,2),Ee=ie[0],Le=ie[1];return[new kn.a(m,Ee+1),g.substring(Ee,Le)]}},{key:"_prepareRender",value:function(v){var m="",u="",g=this._getGraphemeAwarePosition(),S=Object(ce.a)(g,2),ie=S[0],Ee=S[1];if(this._cursorStyle===ae.j.Line||this._cursorStyle===ae.j.LineThin){var Le=v.visibleRangeForPosition(ie);if(!Le||Le.outsideRenderedLine)return null;var at;this._cursorStyle===ae.j.Line?(at=H.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),at>2&&(m=Ee,u=this._getTokenClassName(ie))):at=H.computeScreenAwareSize(1);var kt=Le.left,Tt=0;at>=2&&kt>=1&&(Tt=1,kt-=Tt);var Qt=v.getVerticalOffsetForLineNumber(ie.lineNumber)-v.bigNumbersDelta;return new Qo(Qt,kt,Tt,at,this._lineHeight,m,u)}var Wt=v.linesVisibleRangesForRange(new Pn.a(ie.lineNumber,ie.column,ie.lineNumber,ie.column+Ee.length),!1);if(!Wt||Wt.length===0)return null;var vt=Wt[0];if(vt.outsideRenderedLine||vt.ranges.length===0)return null;var wn=vt.ranges[0],xn=Ee==="	"?this._typicalHalfwidthCharacterWidth:wn.width<1?this._typicalHalfwidthCharacterWidth:wn.width;this._cursorStyle===ae.j.Block&&(m=Ee,u=this._getTokenClassName(ie));var ri=v.getVerticalOffsetForLineNumber(ie.lineNumber)-v.bigNumbersDelta,hi=this._lineHeight;return(this._cursorStyle===ae.j.Underline||this._cursorStyle===ae.j.UnderlineThin)&&(ri+=this._lineHeight-2,hi=2),new Qo(ri,wn.left,0,xn,hi,m,u)}},{key:"_getTokenClassName",value:function(v){var m=this._context.viewModel.getViewLineData(v.lineNumber),u=m.tokens.findTokenIndexAtOffset(v.column-1);return m.tokens.getClassName(u)}},{key:"prepareRender",value:function(v){this._renderData=this._prepareRender(v)}},{key:"render",value:function(v){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor ".concat(Gt.a," ").concat(this._renderData.textContentClassName)),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}]),Ke}(),us=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this,m);var g=u._context.configuration.options;return u._readOnly=g.get(88),u._cursorBlinking=g.get(24),u._cursorStyle=g.get(26),u._cursorSmoothCaretAnimation=g.get(25),u._selectionIsEmpty=!0,u._isComposingInput=!1,u._isVisible=!1,u._primaryCursor=new Ho(u._context),u._secondaryCursors=[],u._renderData=[],u._domNode=Object(Ot.b)(document.createElement("div")),u._domNode.setAttribute("role","presentation"),u._domNode.setAttribute("aria-hidden","true"),u._updateDomClassName(),u._domNode.appendChild(u._primaryCursor.getDomNode()),u._startCursorBlinkAnimation=new Nr.i,u._cursorFlatBlinkInterval=new Nr.e,u._blinkingEnabled=!1,u._editorHasFocus=!1,u._updateBlinking(),u}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}},{key:"getDomNode",value:function(){return this._domNode}},{key:"onCompositionStart",value:function(u){return this._isComposingInput=!0,this._updateBlinking(),!0}},{key:"onCompositionEnd",value:function(u){return this._isComposingInput=!1,this._updateBlinking(),!0}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options;this._readOnly=g.get(88),this._cursorBlinking=g.get(24),this._cursorStyle=g.get(26),this._cursorSmoothCaretAnimation=g.get(25),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(u);for(var S=0,ie=this._secondaryCursors.length;S<ie;S++)this._secondaryCursors[S].onConfigurationChanged(u);return!0}},{key:"_onCursorPositionChanged",value:function(u,g,S){var ie=this._secondaryCursors.length!==g.length||this._cursorSmoothCaretAnimation==="explicit"&&S!==3;if(this._primaryCursor.onCursorPositionChanged(u,ie),this._updateBlinking(),this._secondaryCursors.length<g.length)for(var Ee=g.length-this._secondaryCursors.length,Le=0;Le<Ee;Le++){var at=new Ho(this._context);this._domNode.domNode.insertBefore(at.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(at)}else if(this._secondaryCursors.length>g.length)for(var kt=this._secondaryCursors.length-g.length,Tt=0;Tt<kt;Tt++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(var Qt=0;Qt<g.length;Qt++)this._secondaryCursors[Qt].onCursorPositionChanged(g[Qt],ie)}},{key:"onCursorStateChanged",value:function(u){for(var g=[],S=0,ie=u.selections.length;S<ie;S++)g[S]=u.selections[S].getPosition();this._onCursorPositionChanged(g[0],g.slice(1),u.reason);var Ee=u.selections[0].isEmpty();return this._selectionIsEmpty!==Ee&&(this._selectionIsEmpty=Ee,this._updateDomClassName()),!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onFocusChanged",value:function(u){return this._editorHasFocus=u.isFocused,this._updateBlinking(),!1}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return!0}},{key:"onTokensChanged",value:function(u){var g=function(at){for(var kt=0,Tt=u.ranges.length;kt<Tt;kt++)if(u.ranges[kt].fromLineNumber<=at.lineNumber&&at.lineNumber<=u.ranges[kt].toLineNumber)return!0;return!1};if(g(this._primaryCursor.getPosition()))return!0;var S=Object(w.a)(this._secondaryCursors),ie;try{for(S.s();!(ie=S.n()).done;){var Ee=ie.value;if(g(Ee.getPosition()))return!0}}catch(Le){S.e(Le)}finally{S.f()}return!1}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_getCursorBlinking",value:function(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}},{key:"_updateBlinking",value:function(){var u=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var g=this._getCursorBlinking(),S=g===0,ie=g===5;S?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!S&&!ie&&(g===1?this._cursorFlatBlinkInterval.cancelAndSet(function(){u._isVisible?u._hide():u._show()},v.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(function(){u._blinkingEnabled=!0,u._updateDomClassName()},v.BLINK_INTERVAL))}},{key:"_updateDomClassName",value:function(){this._domNode.setClassName(this._getClassName())}},{key:"_getClassName",value:function(){var u="cursors-layer";switch(this._selectionIsEmpty||(u+=" has-selection"),this._cursorStyle){case ae.j.Line:u+=" cursor-line-style";break;case ae.j.Block:u+=" cursor-block-style";break;case ae.j.Underline:u+=" cursor-underline-style";break;case ae.j.LineThin:u+=" cursor-line-thin-style";break;case ae.j.BlockOutline:u+=" cursor-block-outline-style";break;case ae.j.UnderlineThin:u+=" cursor-underline-thin-style";break;default:u+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:u+=" cursor-blink";break;case 2:u+=" cursor-smooth";break;case 3:u+=" cursor-phase";break;case 4:u+=" cursor-expand";break;case 5:u+=" cursor-solid";break;default:u+=" cursor-solid"}else u+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(u+=" cursor-smooth-caret-animation"),u}},{key:"_show",value:function(){this._primaryCursor.show();for(var u=0,g=this._secondaryCursors.length;u<g;u++)this._secondaryCursors[u].show();this._isVisible=!0}},{key:"_hide",value:function(){this._primaryCursor.hide();for(var u=0,g=this._secondaryCursors.length;u<g;u++)this._secondaryCursors[u].hide();this._isVisible=!1}},{key:"prepareRender",value:function(u){this._primaryCursor.prepareRender(u);for(var g=0,S=this._secondaryCursors.length;g<S;g++)this._secondaryCursors[g].prepareRender(u)}},{key:"render",value:function(u){var g=[],S=0,ie=this._primaryCursor.render(u);ie&&(g[S++]=ie);for(var Ee=0,Le=this._secondaryCursors.length;Ee<Le;Ee++){var at=this._secondaryCursors[Ee].render(u);at&&(g[S++]=at)}this._renderData=g}},{key:"getLastRenderData",value:function(){return this._renderData}}]),v}(Re);us.BLINK_INTERVAL=500,Object(Yr.e)(function(Ke,be){var v=Ke.getColor(ti.v);if(v){var m=Ke.getColor(ti.u);m||(m=v.opposite()),be.addRule(".monaco-editor .cursors-layer .cursor { background-color: ".concat(v,"; border-color: ").concat(v,"; color: ").concat(m,"; }")),Object(qt.c)(Ke.type)&&be.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ".concat(m,"; border-right: 1px solid ").concat(m,"; }"))}});var go=function(){throw new Error("Invalid change accessor")},Uo=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;Object(Y.a)(this,v),u=be.call(this,m);var g=u._context.configuration.options,S=g.get(140);return u._lineHeight=g.get(64),u._contentWidth=S.contentWidth,u._contentLeft=S.contentLeft,u.domNode=Object(Ot.b)(document.createElement("div")),u.domNode.setClassName("view-zones"),u.domNode.setPosition("absolute"),u.domNode.setAttribute("role","presentation"),u.domNode.setAttribute("aria-hidden","true"),u.marginDomNode=Object(Ot.b)(document.createElement("div")),u.marginDomNode.setClassName("margin-view-zones"),u.marginDomNode.setPosition("absolute"),u.marginDomNode.setAttribute("role","presentation"),u.marginDomNode.setAttribute("aria-hidden","true"),u._zones={},u}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this),this._zones={}}},{key:"_recomputeWhitespacesProps",value:function(){var u=this,g=this._context.viewLayout.getWhitespaces(),S=new Map,ie=Object(w.a)(g),Ee;try{for(ie.s();!(Ee=ie.n()).done;){var Le=Ee.value;S.set(Le.id,Le)}}catch(kt){ie.e(kt)}finally{ie.f()}var at=!1;return this._context.viewModel.changeWhitespace(function(kt){for(var Tt=Object.keys(u._zones),Qt=0,Wt=Tt.length;Qt<Wt;Qt++){var vt=Tt[Qt],wn=u._zones[vt],xn=u._computeWhitespaceProps(wn.delegate);wn.isInHiddenArea=xn.isInHiddenArea;var ri=S.get(vt);ri&&(ri.afterLineNumber!==xn.afterViewLineNumber||ri.height!==xn.heightInPx)&&(kt.changeOneWhitespace(vt,xn.afterViewLineNumber,xn.heightInPx),u._safeCallOnComputedHeight(wn.delegate,xn.heightInPx),at=!0)}}),at}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,S=g.get(140);return this._lineHeight=g.get(64),this._contentWidth=S.contentWidth,this._contentLeft=S.contentLeft,u.hasChanged(64)&&this._recomputeWhitespacesProps(),!0}},{key:"onLineMappingChanged",value:function(u){return this._recomputeWhitespacesProps()}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged||u.scrollWidthChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"_getZoneOrdinal",value:function(u){var g,S;return(S=(g=u.ordinal)!==null&&g!==void 0?g:u.afterColumn)!==null&&S!==void 0?S:1e4}},{key:"_computeWhitespaceProps",value:function(u){if(u.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(u),minWidthInPx:this._minWidthInPixels(u)};var g;if(typeof u.afterColumn!="undefined")g=this._context.viewModel.model.validatePosition({lineNumber:u.afterLineNumber,column:u.afterColumn});else{var S=this._context.viewModel.model.validatePosition({lineNumber:u.afterLineNumber,column:1}).lineNumber;g=new kn.a(S,this._context.viewModel.model.getLineMaxColumn(S))}var ie;g.column===this._context.viewModel.model.getLineMaxColumn(g.lineNumber)?ie=this._context.viewModel.model.validatePosition({lineNumber:g.lineNumber+1,column:1}):ie=this._context.viewModel.model.validatePosition({lineNumber:g.lineNumber,column:g.column+1});var Ee=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(g,u.afterColumnAffinity),Le=u.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(ie);return{isInHiddenArea:!Le,afterViewLineNumber:Ee.lineNumber,heightInPx:Le?this._heightInPixels(u):0,minWidthInPx:this._minWidthInPixels(u)}}},{key:"changeViewZones",value:function(u){var g=this,S=!1;return this._context.viewModel.changeWhitespace(function(ie){var Ee={addZone:function(at){return S=!0,g._addZone(ie,at)},removeZone:function(at){!at||(S=g._removeZone(ie,at)||S)},layoutZone:function(at){!at||(S=g._layoutZone(ie,at)||S)}};Yo(u,Ee),Ee.addZone=go,Ee.removeZone=go,Ee.layoutZone=go}),S}},{key:"_addZone",value:function(u,g){var S=this._computeWhitespaceProps(g),ie=u.insertWhitespace(S.afterViewLineNumber,this._getZoneOrdinal(g),S.heightInPx,S.minWidthInPx),Ee={whitespaceId:ie,delegate:g,isInHiddenArea:S.isInHiddenArea,isVisible:!1,domNode:Object(Ot.b)(g.domNode),marginDomNode:g.marginDomNode?Object(Ot.b)(g.marginDomNode):null};return this._safeCallOnComputedHeight(Ee.delegate,S.heightInPx),Ee.domNode.setPosition("absolute"),Ee.domNode.domNode.style.width="100%",Ee.domNode.setDisplay("none"),Ee.domNode.setAttribute("monaco-view-zone",Ee.whitespaceId),this.domNode.appendChild(Ee.domNode),Ee.marginDomNode&&(Ee.marginDomNode.setPosition("absolute"),Ee.marginDomNode.domNode.style.width="100%",Ee.marginDomNode.setDisplay("none"),Ee.marginDomNode.setAttribute("monaco-view-zone",Ee.whitespaceId),this.marginDomNode.appendChild(Ee.marginDomNode)),this._zones[Ee.whitespaceId]=Ee,this.setShouldRender(),Ee.whitespaceId}},{key:"_removeZone",value:function(u,g){if(this._zones.hasOwnProperty(g)){var S=this._zones[g];return delete this._zones[g],u.removeWhitespace(S.whitespaceId),S.domNode.removeAttribute("monaco-visible-view-zone"),S.domNode.removeAttribute("monaco-view-zone"),S.domNode.domNode.parentNode.removeChild(S.domNode.domNode),S.marginDomNode&&(S.marginDomNode.removeAttribute("monaco-visible-view-zone"),S.marginDomNode.removeAttribute("monaco-view-zone"),S.marginDomNode.domNode.parentNode.removeChild(S.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}},{key:"_layoutZone",value:function(u,g){if(this._zones.hasOwnProperty(g)){var S=this._zones[g],ie=this._computeWhitespaceProps(S.delegate);return S.isInHiddenArea=ie.isInHiddenArea,u.changeOneWhitespace(S.whitespaceId,ie.afterViewLineNumber,ie.heightInPx),this._safeCallOnComputedHeight(S.delegate,ie.heightInPx),this.setShouldRender(),!0}return!1}},{key:"shouldSuppressMouseDownOnViewZone",value:function(u){if(this._zones.hasOwnProperty(u)){var g=this._zones[u];return Boolean(g.delegate.suppressMouseDown)}return!1}},{key:"_heightInPixels",value:function(u){return typeof u.heightInPx=="number"?u.heightInPx:typeof u.heightInLines=="number"?this._lineHeight*u.heightInLines:this._lineHeight}},{key:"_minWidthInPixels",value:function(u){return typeof u.minWidthInPx=="number"?u.minWidthInPx:0}},{key:"_safeCallOnComputedHeight",value:function(u,g){if(typeof u.onComputedHeight=="function")try{u.onComputedHeight(g)}catch(S){Object(d.h)(S)}}},{key:"_safeCallOnDomNodeTop",value:function(u,g){if(typeof u.onDomNodeTop=="function")try{u.onDomNodeTop(g)}catch(S){Object(d.h)(S)}}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){var g=u.viewportData.whitespaceViewportData,S={},ie=!1,Ee=Object(w.a)(g),Le;try{for(Ee.s();!(Le=Ee.n()).done;){var at=Le.value;this._zones[at.id].isInHiddenArea||(S[at.id]=at,ie=!0)}}catch(hi){Ee.e(hi)}finally{Ee.f()}for(var kt=Object.keys(this._zones),Tt=0,Qt=kt.length;Tt<Qt;Tt++){var Wt=kt[Tt],vt=this._zones[Wt],wn=0,xn=0,ri="none";S.hasOwnProperty(Wt)?(wn=S[Wt].verticalOffset-u.bigNumbersDelta,xn=S[Wt].height,ri="block",vt.isVisible||(vt.domNode.setAttribute("monaco-visible-view-zone","true"),vt.isVisible=!0),this._safeCallOnDomNodeTop(vt.delegate,u.getScrolledTopFromAbsoluteTop(S[Wt].verticalOffset))):(vt.isVisible&&(vt.domNode.removeAttribute("monaco-visible-view-zone"),vt.isVisible=!1),this._safeCallOnDomNodeTop(vt.delegate,u.getScrolledTopFromAbsoluteTop(-1e6))),vt.domNode.setTop(wn),vt.domNode.setHeight(xn),vt.domNode.setDisplay(ri),vt.marginDomNode&&(vt.marginDomNode.setTop(wn),vt.marginDomNode.setHeight(xn),vt.marginDomNode.setDisplay(ri))}ie&&(this.domNode.setWidth(Math.max(u.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}]),v}(Re);function Yo(Ke,be){try{return Ke(be)}catch(v){Object(d.h)(v)}}var zo=function(){function Ke(be){Object(Y.a)(this,Ke),this._theme=be}return Object(E.a)(Ke,[{key:"type",get:function(){return this._theme.type}},{key:"value",get:function(){return this._theme}},{key:"update",value:function(v){this._theme=v}},{key:"getColor",value:function(v){return this._theme.getColor(v)}}]),Ke}(),Bs=function(){function Ke(be,v,m){Object(Y.a)(this,Ke),this.configuration=be,this.theme=new zo(v),this.viewModel=m,this.viewLayout=m.viewLayout}return Object(E.a)(Ke,[{key:"addEventHandler",value:function(v){this.viewModel.addViewEventHandler(v)}},{key:"removeEventHandler",value:function(v){this.viewModel.removeViewEventHandler(v)}}]),Ke}(),du=function(){function Ke(be,v,m,u){Object(Y.a)(this,Ke),this.selections=be,this.startLineNumber=v.startLineNumber|0,this.endLineNumber=v.endLineNumber|0,this.relativeVerticalOffset=v.relativeVerticalOffset,this.bigNumbersDelta=v.bigNumbersDelta|0,this.whitespaceViewportData=m,this._model=u,this.visibleRange=new Pn.a(v.startLineNumber,this._model.getLineMinColumn(v.startLineNumber),v.endLineNumber,this._model.getLineMaxColumn(v.endLineNumber))}return Object(E.a)(Ke,[{key:"getViewLineRenderingData",value:function(v){return this._model.getViewportViewLineRenderingData(this.visibleRange,v)}},{key:"getDecorationsInViewport",value:function(){return this._model.getDecorationsInViewport(this.visibleRange)}}]),Ke}(),hu=a("pZ+Q"),Is=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;return Object(Y.a)(this,v),u=be.call(this,m),u.blocks=[],u.contentWidth=-1,u.contentLeft=0,u.domNode=Object(Ot.b)(document.createElement("div")),u.domNode.setAttribute("role","presentation"),u.domNode.setAttribute("aria-hidden","true"),u.domNode.setClassName("blockDecorations-container"),u.update(),u}return Object(E.a)(v,[{key:"update",value:function(){var u=!1,g=this._context.configuration.options,S=g.get(140),ie=S.contentWidth-S.verticalScrollbarWidth;this.contentWidth!==ie&&(this.contentWidth=ie,u=!0);var Ee=S.contentLeft;return this.contentLeft!==Ee&&(this.contentLeft=Ee,u=!0),u}},{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){return this.update()}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged||u.scrollLeftChanged}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onZonesChanged",value:function(u){return!0}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){var g,S=0,ie=u.getDecorationsInViewport(),Ee=Object(w.a)(ie),Le;try{for(Ee.s();!(Le=Ee.n()).done;){var at=Le.value;if(!!at.options.blockClassName){var kt=this.blocks[S];kt||(kt=this.blocks[S]=Object(Ot.b)(document.createElement("div")),this.domNode.appendChild(kt));var Tt=void 0,Qt=void 0;at.options.blockIsAfterEnd?(Tt=u.getVerticalOffsetAfterLineNumber(at.range.endLineNumber,!1),Qt=u.getVerticalOffsetAfterLineNumber(at.range.endLineNumber,!0)):(Tt=u.getVerticalOffsetForLineNumber(at.range.startLineNumber,!0),Qt=at.range.isEmpty()&&!at.options.blockDoesNotCollapse?u.getVerticalOffsetForLineNumber(at.range.startLineNumber,!1):u.getVerticalOffsetAfterLineNumber(at.range.endLineNumber,!0));var Wt=(g=at.options.blockPadding)!==null&&g!==void 0?g:[0,0,0,0],vt=Object(ce.a)(Wt,4),wn=vt[0],xn=vt[1],ri=vt[2],hi=vt[3];kt.setClassName("blockDecorations-block "+at.options.blockClassName),kt.setLeft(this.contentLeft-hi),kt.setWidth(this.contentWidth+hi+xn),kt.setTop(Tt-u.scrollTop-wn),kt.setHeight(Qt-Tt+wn+ri),S++}}}catch(Di){Ee.e(Di)}finally{Ee.f()}for(var ki=S;ki<this.blocks.length;ki++)this.blocks[ki].domNode.remove();this.blocks.length=S}}]),v}(Re),hl=a("W7of"),Ks=a("WDji"),fu=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;return Object(Y.a)(this,v),u=be.call(this),u._context=m,u._options=new fl(u._context.configuration),u._selection=[],u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(E.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=new fl(this._context.configuration);return this._options.equals(g)?u.hasChanged(140):(this._options=g,!0)}},{key:"onCursorStateChanged",value:function(u){return this._selection=u.selections,this._options.renderWhitespace==="selection"}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"prepareRender",value:function(u){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}for(var g=u.visibleRange.startLineNumber,S=u.visibleRange.endLineNumber,ie=S-g+1,Ee=new Array(ie),Le=0;Le<ie;Le++)Ee[Le]=!0;var at=this._context.viewModel.getMinimapLinesRenderingData(u.viewportData.startLineNumber,u.viewportData.endLineNumber,Ee);this._renderResult=[];for(var kt=u.viewportData.startLineNumber;kt<=u.viewportData.endLineNumber;kt++){var Tt=kt-u.viewportData.startLineNumber,Qt=at.data[Tt],Wt=null;if(this._options.renderWhitespace==="selection"){var vt=this._selection,wn=Object(w.a)(vt),xn;try{for(wn.s();!(xn=wn.n()).done;){var ri=xn.value;if(!(ri.endLineNumber<kt||ri.startLineNumber>kt)){var hi=ri.startLineNumber===kt?ri.startColumn:Qt.minColumn,ki=ri.endLineNumber===kt?ri.endColumn:Qt.maxColumn;hi<ki&&(Wt||(Wt=[]),Wt.push(new ft.b(hi-1,ki-1)))}}}catch(Di){wn.e(Di)}finally{wn.f()}}this._renderResult[Tt]=this._applyRenderWhitespace(u,kt,Wt,Qt)}}},{key:"_applyRenderWhitespace",value:function(u,g,S,ie){if(this._options.renderWhitespace==="selection"&&!S||this._options.renderWhitespace==="trailing"&&ie.continuesWithWrappedLine)return"";var Ee=this._context.theme.getColor(ti.E),Le=this._options.renderWithSVG,at=ie.content,kt=this._options.stopRenderingLineAfter===-1?at.length:Math.min(this._options.stopRenderingLineAfter,at.length),Tt=ie.continuesWithWrappedLine,Qt=ie.minColumn-1,Wt=this._options.renderWhitespace==="boundary",vt=this._options.renderWhitespace==="trailing",wn=this._options.lineHeight,xn=this._options.middotWidth,ri=this._options.wsmiddotWidth,hi=this._options.spaceWidth,ki=Math.abs(ri-hi),Di=Math.abs(xn-hi),rr=ki<Di?11825:183,Ti=this._options.canUseHalfwidthRightwardsArrow,Vi="",Qi=!1,yr=Ut.u(at),Rr;yr===-1?(Qi=!0,yr=kt,Rr=kt):Rr=Ut.J(at);for(var Qr=0,ha=S&&S[Qr],Oa=0,qr=Qt;qr<kt;qr++){var ka=at.charCodeAt(qr);if(ha&&qr>=ha.endOffset&&(Qr++,ha=S&&S[Qr]),!(ka!==9&&ka!==32)&&!(vt&&!Qi&&qr<=Rr)){if(Wt&&qr>=yr&&qr<=Rr&&ka===32){var Ya=qr-1>=0?at.charCodeAt(qr-1):0,Bo=qr+1<kt?at.charCodeAt(qr+1):0;if(Ya!==32&&Bo!==32)continue}if(Wt&&Tt&&qr===kt-1){var Oo=qr-1>=0?at.charCodeAt(qr-1):0,ts=ka===32&&Oo!==32&&Oo!==9;if(ts)continue}if(!(S&&(!ha||ha.startOffset>qr||ha.endOffset<=qr))){var Aa=u.visibleRangeForPosition(new kn.a(g,qr+1));!Aa||(Le?(Oa=Math.max(Oa,Aa.left),ka===9?Vi+=this._renderArrow(wn,hi,Aa.left):Vi+='<circle cx="'.concat((Aa.left+hi/2).toFixed(2),'" cy="').concat((wn/2).toFixed(2),'" r="').concat((hi/7).toFixed(2),'" />')):ka===9?Vi+='<div class="mwh" style="left:'.concat(Aa.left,"px;height:").concat(wn,'px;">').concat(Ti?String.fromCharCode(65515):String.fromCharCode(8594),"</div>"):Vi+='<div class="mwh" style="left:'.concat(Aa.left,"px;height:").concat(wn,'px;">').concat(String.fromCharCode(rr),"</div>"))}}}return Le?(Oa=Math.round(Oa+hi),'<svg style="position:absolute;width:'.concat(Oa,"px;height:").concat(wn,'px" viewBox="0 0 ').concat(Oa," ").concat(wn,'" xmlns="http://www.w3.org/2000/svg" fill="').concat(Ee,'">')+Vi+"</svg>"):Vi}},{key:"_renderArrow",value:function(u,g,S){var ie=g/7,Ee=g,Le=u/2,at=S,kt={x:0,y:ie/2},Tt={x:100/125*Ee,y:kt.y},Qt={x:Tt.x-.2*Tt.x,y:Tt.y+.2*Tt.x},Wt={x:Qt.x+.1*Tt.x,y:Qt.y+.1*Tt.x},vt={x:Wt.x+.35*Tt.x,y:Wt.y-.35*Tt.x},wn={x:vt.x,y:-vt.y},xn={x:Wt.x,y:-Wt.y},ri={x:Qt.x,y:-Qt.y},hi={x:Tt.x,y:-Tt.y},ki={x:kt.x,y:-kt.y},Di=[kt,Tt,Qt,Wt,vt,wn,xn,ri,hi,ki],rr=Di.map(function(Ti){return"".concat((at+Ti.x).toFixed(2)," ").concat((Le+Ti.y).toFixed(2))}).join(" L ");return'<path d="M '.concat(rr,'" />')}},{key:"render",value:function(u,g){if(!this._renderResult)return"";var S=g-u;return S<0||S>=this._renderResult.length?"":this._renderResult[S]}}]),v}(Br),fl=function(){function Ke(be){Object(Y.a)(this,Ke);var v=be.options,m=v.get(48),u=v.get(36);u==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):u==="svg"?(this.renderWhitespace=v.get(95),this.renderWithSVG=!0):(this.renderWhitespace=v.get(95),this.renderWithSVG=!1),this.spaceWidth=m.spaceWidth,this.middotWidth=m.middotWidth,this.wsmiddotWidth=m.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=m.canUseHalfwidthRightwardsArrow,this.lineHeight=v.get(64),this.stopRenderingLineAfter=v.get(113)}return Object(E.a)(Ke,[{key:"equals",value:function(v){return this.renderWhitespace===v.renderWhitespace&&this.renderWithSVG===v.renderWithSVG&&this.spaceWidth===v.spaceWidth&&this.middotWidth===v.middotWidth&&this.wsmiddotWidth===v.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.lineHeight===v.lineHeight&&this.stopRenderingLineAfter===v.stopRenderingLineAfter}}]),Ke}(),vl=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g,S,ie,Ee){var Le;Object(Y.a)(this,v),Le=be.call(this),Le._selections=[new Ft.a(1,1,1,1)],Le._renderAnimationFrame=null;var at=new lt(u,S,ie,m);Le._context=new Bs(u,g,S),Le._context.addEventHandler(Object(ve.a)(Le)),Le._viewParts=[],Le._textAreaHandler=new Zt(Le._context,at,Le._createTextAreaHandlerHelper()),Le._viewParts.push(Le._textAreaHandler),Le._linesContent=Object(Ot.b)(document.createElement("div")),Le._linesContent.setClassName("lines-content monaco-editor-background"),Le._linesContent.setPosition("absolute"),Le.domNode=Object(Ot.b)(document.createElement("div")),Le.domNode.setClassName(Le._getEditorClassName()),Le.domNode.setAttribute("role","code"),Le._overflowGuardContainer=Object(Ot.b)(document.createElement("div")),Ce.write(Le._overflowGuardContainer,3),Le._overflowGuardContainer.setClassName("overflow-guard"),Le._scrollbar=new oi(Le._context,Le._linesContent,Le.domNode,Le._overflowGuardContainer),Le._viewParts.push(Le._scrollbar),Le._viewLines=new Ra(Le._context,Le._linesContent),Le._viewZones=new Uo(Le._context),Le._viewParts.push(Le._viewZones);var kt=new wr(Le._context);Le._viewParts.push(kt);var Tt=new ba(Le._context);Le._viewParts.push(Tt);var Qt=new kr(Le._context);Le._viewParts.push(Qt),Qt.addDynamicOverlay(new $t(Le._context)),Qt.addDynamicOverlay(new yo(Le._context)),Qt.addDynamicOverlay(new Zn(Le._context)),Qt.addDynamicOverlay(new Gn(Le._context)),Qt.addDynamicOverlay(new fu(Le._context));var Wt=new sa(Le._context);Le._viewParts.push(Wt),Wt.addDynamicOverlay(new Un(Le._context)),Wt.addDynamicOverlay(new Lr(Le._context)),Wt.addDynamicOverlay(new Zr(Le._context)),Wt.addDynamicOverlay(new Ka(Le._context)),Wt.addDynamicOverlay(new bi(Le._context));var vt=new En(Le._context);vt.getDomNode().appendChild(Le._viewZones.marginDomNode),vt.getDomNode().appendChild(Wt.getDomNode()),Le._viewParts.push(vt),Le._contentWidgets=new Fr(Le._context,Le.domNode),Le._viewParts.push(Le._contentWidgets),Le._viewCursors=new us(Le._context),Le._viewParts.push(Le._viewCursors),Le._overlayWidgets=new er(Le._context),Le._viewParts.push(Le._overlayWidgets);var wn=new zr(Le._context);Le._viewParts.push(wn);var xn=new Is(Le._context);Le._viewParts.push(xn);var ri=new nn(Le._context);if(Le._viewParts.push(ri),kt){var hi=Le._scrollbar.getOverviewRulerLayoutInfo();hi.parent.insertBefore(kt.getDomNode(),hi.insertBefore)}return Le._linesContent.appendChild(Qt.getDomNode()),Le._linesContent.appendChild(wn.domNode),Le._linesContent.appendChild(Le._viewZones.domNode),Le._linesContent.appendChild(Le._viewLines.getDomNode()),Le._linesContent.appendChild(Le._contentWidgets.domNode),Le._linesContent.appendChild(Le._viewCursors.getDomNode()),Le._overflowGuardContainer.appendChild(vt.getDomNode()),Le._overflowGuardContainer.appendChild(Le._scrollbar.getDomNode()),Le._overflowGuardContainer.appendChild(Tt.getDomNode()),Le._overflowGuardContainer.appendChild(Le._textAreaHandler.textArea),Le._overflowGuardContainer.appendChild(Le._textAreaHandler.textAreaCover),Le._overflowGuardContainer.appendChild(Le._overlayWidgets.getDomNode()),Le._overflowGuardContainer.appendChild(ri.getDomNode()),Le._overflowGuardContainer.appendChild(xn.domNode),Le.domNode.appendChild(Le._overflowGuardContainer),Ee?Ee.appendChild(Le._contentWidgets.overflowingContentWidgetsDomNode.domNode):Le.domNode.appendChild(Le._contentWidgets.overflowingContentWidgetsDomNode),Le._applyLayout(),Le._pointerHandler=Le._register(new wt(Le._context,at,Le._createPointerHandlerHelper())),Le}return Object(E.a)(v,[{key:"_flushAccumulatedAndRenderNow",value:function(){hl.a.onRenderStart(),this._renderNow()}},{key:"_createPointerHandlerHelper",value:function(){var u=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:function(){u.focus()},dispatchTextAreaEvent:function(S){u._textAreaHandler.textArea.domNode.dispatchEvent(S)},getLastRenderData:function(){var S=u._viewCursors.getLastRenderData()||[],ie=u._textAreaHandler.getLastRenderData();return new gr(S,ie)},renderNow:function(){u.render(!0,!1)},shouldSuppressMouseDownOnViewZone:function(S){return u._viewZones.shouldSuppressMouseDownOnViewZone(S)},shouldSuppressMouseDownOnWidget:function(S){return u._contentWidgets.shouldSuppressMouseDownOnWidget(S)},getPositionFromDOMInfo:function(S,ie){return u._flushAccumulatedAndRenderNow(),u._viewLines.getPositionFromDOMInfo(S,ie)},visibleRangeForPosition:function(S,ie){return u._flushAccumulatedAndRenderNow(),u._viewLines.visibleRangeForPosition(new kn.a(S,ie))},getLineWidth:function(S){return u._flushAccumulatedAndRenderNow(),u._viewLines.getLineWidth(S)}}}},{key:"_createTextAreaHandlerHelper",value:function(){var u=this;return{visibleRangeForPosition:function(S){return u._flushAccumulatedAndRenderNow(),u._viewLines.visibleRangeForPosition(S)}}}},{key:"_applyLayout",value:function(){var u=this._context.configuration.options,g=u.get(140);this.domNode.setWidth(g.width),this.domNode.setHeight(g.height),this._overflowGuardContainer.setWidth(g.width),this._overflowGuardContainer.setHeight(g.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}},{key:"_getEditorClassName",value:function(){var u=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(137)+" "+Object(Yr.d)(this._context.theme.type)+u}},{key:"handleEvents",value:function(u){Object(se.a)(Object(te.a)(v.prototype),"handleEvents",this).call(this,u),this._scheduleRender()}},{key:"onConfigurationChanged",value:function(u){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}},{key:"onCursorStateChanged",value:function(u){return this._selections=u.selections,!1}},{key:"onFocusChanged",value:function(u){return this.domNode.setClassName(this._getEditorClassName()),!1}},{key:"onThemeChanged",value:function(u){return this._context.theme.update(u.theme),this.domNode.setClassName(this._getEditorClassName()),!1}},{key:"dispose",value:function(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();var u=Object(w.a)(this._viewParts),g;try{for(u.s();!(g=u.n()).done;){var S=g.value;S.dispose()}}catch(ie){u.e(ie)}finally{u.f()}Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"_scheduleRender",value:function(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=H.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}},{key:"_onRenderScheduled",value:function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}},{key:"_renderNow",value:function(){var u=this;zl(function(){return u._actualRender()})}},{key:"_getViewPartsToRender",value:function(){var u=[],g=0,S=Object(w.a)(this._viewParts),ie;try{for(S.s();!(ie=S.n()).done;){var Ee=ie.value;Ee.shouldRender()&&(u[g++]=Ee)}}catch(Le){S.e(Le)}finally{S.f()}return u}},{key:"_actualRender",value:function(){if(!!H.isInDOM(this.domNode.domNode)){var u=this._getViewPartsToRender();if(!(!this._viewLines.shouldRender()&&u.length===0)){var g=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(g.startLineNumber,g.endLineNumber,g.centeredLineNumber);var S=new du(this._selections,g,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(S),this._viewLines.shouldRender()&&(this._viewLines.renderText(S),this._viewLines.onDidRender(),u=this._getViewPartsToRender());var ie=new Te(this._context.viewLayout,S,this._viewLines),Ee=Object(w.a)(u),Le;try{for(Ee.s();!(Le=Ee.n()).done;){var at=Le.value;at.prepareRender(ie)}}catch(Wt){Ee.e(Wt)}finally{Ee.f()}var kt=Object(w.a)(u),Tt;try{for(kt.s();!(Tt=kt.n()).done;){var Qt=Tt.value;Qt.render(ie),Qt.onDidRender()}}catch(Wt){kt.e(Wt)}finally{kt.f()}}}}},{key:"delegateVerticalScrollbarPointerDown",value:function(u){this._scrollbar.delegateVerticalScrollbarPointerDown(u)}},{key:"delegateScrollFromMouseWheelEvent",value:function(u){this._scrollbar.delegateScrollFromMouseWheelEvent(u)}},{key:"restoreState",value:function(u){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:u.scrollTop,scrollLeft:u.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}},{key:"getOffsetForColumn",value:function(u,g){var S=this._context.viewModel.model.validatePosition({lineNumber:u,column:g}),ie=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(S);this._flushAccumulatedAndRenderNow();var Ee=this._viewLines.visibleRangeForPosition(new kn.a(ie.lineNumber,ie.column));return Ee?Ee.left:-1}},{key:"getTargetAtClientPoint",value:function(u,g){var S=this._pointerHandler.getTargetAtClientPoint(u,g);return S?si.convertViewToModelMouseTarget(S,this._context.viewModel.coordinatesConverter):null}},{key:"createOverviewRuler",value:function(u){return new xi(this._context,u)}},{key:"change",value:function(u){this._viewZones.changeViewZones(u),this._scheduleRender()}},{key:"render",value:function(u,g){if(g){this._viewLines.forceShouldRender();var S=Object(w.a)(this._viewParts),ie;try{for(S.s();!(ie=S.n()).done;){var Ee=ie.value;Ee.forceShouldRender()}}catch(Le){S.e(Le)}finally{S.f()}}u?this._flushAccumulatedAndRenderNow():this._scheduleRender()}},{key:"writeScreenReaderContent",value:function(u){this._textAreaHandler.writeScreenReaderContent(u)}},{key:"focus",value:function(){this._textAreaHandler.focusTextArea()}},{key:"isFocused",value:function(){return this._textAreaHandler.isFocused()}},{key:"setAriaOptions",value:function(u){this._textAreaHandler.setAriaOptions(u)}},{key:"addContentWidget",value:function(u){this._contentWidgets.addWidget(u.widget),this.layoutContentWidget(u),this._scheduleRender()}},{key:"layoutContentWidget",value:function(u){var g,S,ie,Ee,Le,at,kt,Tt;this._contentWidgets.setWidgetPosition(u.widget,(S=(g=u.position)===null||g===void 0?void 0:g.position)!==null&&S!==void 0?S:null,(Ee=(ie=u.position)===null||ie===void 0?void 0:ie.secondaryPosition)!==null&&Ee!==void 0?Ee:null,(at=(Le=u.position)===null||Le===void 0?void 0:Le.preference)!==null&&at!==void 0?at:null,(Tt=(kt=u.position)===null||kt===void 0?void 0:kt.positionAffinity)!==null&&Tt!==void 0?Tt:null),this._scheduleRender()}},{key:"removeContentWidget",value:function(u){this._contentWidgets.removeWidget(u.widget),this._scheduleRender()}},{key:"addOverlayWidget",value:function(u){this._overlayWidgets.addWidget(u.widget),this.layoutOverlayWidget(u),this._scheduleRender()}},{key:"layoutOverlayWidget",value:function(u){var g=u.position?u.position.preference:null,S=this._overlayWidgets.setWidgetPosition(u.widget,g);S&&this._scheduleRender()}},{key:"removeOverlayWidget",value:function(u){this._overlayWidgets.removeWidget(u.widget),this._scheduleRender()}}]),v}(Vt);function zl(Ke){try{return Ke()}catch(be){Object(d.h)(be)}}var Ll=a("9Y+e"),hc=a("iuje"),ho=a("wQH0"),zu=a("tX9W"),oo=a("LLum"),Ml=function(){function Ke(be){Object(Y.a)(this,Ke),this._selTrackedRange=null,this._trackSelection=!0,this._setState(be,new oo.d(new Pn.a(1,1,1,1),0,0,new kn.a(1,1),0),new oo.d(new Pn.a(1,1,1,1),0,0,new kn.a(1,1),0))}return Object(E.a)(Ke,[{key:"dispose",value:function(v){this._removeTrackedRange(v)}},{key:"startTrackingSelection",value:function(v){this._trackSelection=!0,this._updateTrackedRange(v)}},{key:"stopTrackingSelection",value:function(v){this._trackSelection=!1,this._removeTrackedRange(v)}},{key:"_updateTrackedRange",value:function(v){!this._trackSelection||(this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}},{key:"_removeTrackedRange",value:function(v){this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,null,0)}},{key:"asCursorState",value:function(){return new oo.b(this.modelState,this.viewState)}},{key:"readSelectionFromMarkers",value:function(v){var m=v.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!m.isEmpty()?Ft.a.fromRange(m.collapseToEnd(),this.modelState.selection.getDirection()):Ft.a.fromRange(m,this.modelState.selection.getDirection())}},{key:"ensureValidState",value:function(v){this._setState(v,this.modelState,this.viewState)}},{key:"setState",value:function(v,m,u){this._setState(v,m,u)}},{key:"_setState",value:function(v,m,u){if(u&&(u=Ke._validateViewState(v.viewModel,u)),m){var ie=v.model.validateRange(m.selectionStart),Ee=m.selectionStart.equalsRange(ie)?m.selectionStartLeftoverVisibleColumns:0,Le=v.model.validatePosition(m.position),at=m.position.equals(Le)?m.leftoverVisibleColumns:0;m=new oo.d(ie,m.selectionStartKind,Ee,Le,at)}else{if(!u)return;var g=v.model.validateRange(v.coordinatesConverter.convertViewRangeToModelRange(u.selectionStart)),S=v.model.validatePosition(v.coordinatesConverter.convertViewPositionToModelPosition(u.position));m=new oo.d(g,u.selectionStartKind,u.selectionStartLeftoverVisibleColumns,S,u.leftoverVisibleColumns)}if(u){var vt=v.coordinatesConverter.validateViewRange(u.selectionStart,m.selectionStart),wn=v.coordinatesConverter.validateViewPosition(u.position,m.position);u=new oo.d(vt,m.selectionStartKind,m.selectionStartLeftoverVisibleColumns,wn,m.leftoverVisibleColumns)}else{var kt=v.coordinatesConverter.convertModelPositionToViewPosition(new kn.a(m.selectionStart.startLineNumber,m.selectionStart.startColumn)),Tt=v.coordinatesConverter.convertModelPositionToViewPosition(new kn.a(m.selectionStart.endLineNumber,m.selectionStart.endColumn)),Qt=new Pn.a(kt.lineNumber,kt.column,Tt.lineNumber,Tt.column),Wt=v.coordinatesConverter.convertModelPositionToViewPosition(m.position);u=new oo.d(Qt,m.selectionStartKind,m.selectionStartLeftoverVisibleColumns,Wt,m.leftoverVisibleColumns)}this.modelState=m,this.viewState=u,this._updateTrackedRange(v)}}],[{key:"_validatePositionWithCache",value:function(v,m,u,g){return m.equals(u)?g:v.normalizePosition(m,2)}},{key:"_validateViewState",value:function(v,m){var u=m.position,g=m.selectionStart.getStartPosition(),S=m.selectionStart.getEndPosition(),ie=v.normalizePosition(u,2),Ee=this._validatePositionWithCache(v,g,u,ie),Le=this._validatePositionWithCache(v,S,g,Ee);return u.equals(ie)&&g.equals(Ee)&&S.equals(Le)?m:new oo.d(Pn.a.fromPositions(Ee,Le),m.selectionStartKind,m.selectionStartLeftoverVisibleColumns+g.column-Ee.column,ie,m.leftoverVisibleColumns+u.column-ie.column)}}]),Ke}(),_o=function(){function Ke(be){Object(Y.a)(this,Ke),this.context=be,this.cursors=[new Ml(be)],this.lastAddedCursorIndex=0}return Object(E.a)(Ke,[{key:"dispose",value:function(){var v=Object(w.a)(this.cursors),m;try{for(v.s();!(m=v.n()).done;){var u=m.value;u.dispose(this.context)}}catch(g){v.e(g)}finally{v.f()}}},{key:"startTrackingSelections",value:function(){var v=Object(w.a)(this.cursors),m;try{for(v.s();!(m=v.n()).done;){var u=m.value;u.startTrackingSelection(this.context)}}catch(g){v.e(g)}finally{v.f()}}},{key:"stopTrackingSelections",value:function(){var v=Object(w.a)(this.cursors),m;try{for(v.s();!(m=v.n()).done;){var u=m.value;u.stopTrackingSelection(this.context)}}catch(g){v.e(g)}finally{v.f()}}},{key:"updateContext",value:function(v){this.context=v}},{key:"ensureValidState",value:function(){var v=Object(w.a)(this.cursors),m;try{for(v.s();!(m=v.n()).done;){var u=m.value;u.ensureValidState(this.context)}}catch(g){v.e(g)}finally{v.f()}}},{key:"readSelectionFromMarkers",value:function(){var v=this;return this.cursors.map(function(m){return m.readSelectionFromMarkers(v.context)})}},{key:"getAll",value:function(){return this.cursors.map(function(v){return v.asCursorState()})}},{key:"getViewPositions",value:function(){return this.cursors.map(function(v){return v.viewState.position})}},{key:"getTopMostViewPosition",value:function(){return Object(T.o)(this.cursors,Object(T.h)(function(v){return v.viewState.position},kn.a.compare)).viewState.position}},{key:"getBottomMostViewPosition",value:function(){return Object(T.m)(this.cursors,Object(T.h)(function(v){return v.viewState.position},kn.a.compare)).viewState.position}},{key:"getSelections",value:function(){return this.cursors.map(function(v){return v.modelState.selection})}},{key:"getViewSelections",value:function(){return this.cursors.map(function(v){return v.viewState.selection})}},{key:"setSelections",value:function(v){this.setStates(oo.b.fromModelSelections(v))}},{key:"getPrimaryCursor",value:function(){return this.cursors[0].asCursorState()}},{key:"setStates",value:function(v){v!==null&&(this.cursors[0].setState(this.context,v[0].modelState,v[0].viewState),this._setSecondaryStates(v.slice(1)))}},{key:"_setSecondaryStates",value:function(v){var m=this.cursors.length-1,u=v.length;if(m<u)for(var g=u-m,S=0;S<g;S++)this._addSecondaryCursor();else if(m>u)for(var ie=m-u,Ee=0;Ee<ie;Ee++)this._removeSecondaryCursor(this.cursors.length-2);for(var Le=0;Le<u;Le++)this.cursors[Le+1].setState(this.context,v[Le].modelState,v[Le].viewState)}},{key:"killSecondaryCursors",value:function(){this._setSecondaryStates([])}},{key:"_addSecondaryCursor",value:function(){this.cursors.push(new Ml(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}},{key:"getLastAddedCursorIndex",value:function(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}},{key:"_removeSecondaryCursor",value:function(v){this.lastAddedCursorIndex>=v+1&&this.lastAddedCursorIndex--,this.cursors[v+1].dispose(this.context),this.cursors.splice(v+1,1)}},{key:"normalize",value:function(){if(this.cursors.length!==1){for(var v=this.cursors.slice(0),m=[],u=0,g=v.length;u<g;u++)m.push({index:u,selection:v[u].modelState.selection});m.sort(Object(T.h)(function(Rr){return Rr.selection},Pn.a.compareRangesUsingStarts));for(var S=0;S<m.length-1;S++){var ie=m[S],Ee=m[S+1],Le=ie.selection,at=Ee.selection;if(!!this.context.cursorConfig.multiCursorMergeOverlapping){var kt=void 0;if(at.isEmpty()||Le.isEmpty()?kt=at.getStartPosition().isBeforeOrEqual(Le.getEndPosition()):kt=at.getStartPosition().isBefore(Le.getEndPosition()),kt){var Tt=ie.index<Ee.index?S:S+1,Qt=ie.index<Ee.index?S+1:S,Wt=m[Qt].index,vt=m[Tt].index,wn=m[Qt].selection,xn=m[Tt].selection;if(!wn.equalsSelection(xn)){var ri=wn.plusRange(xn),hi=wn.selectionStartLineNumber===wn.startLineNumber&&wn.selectionStartColumn===wn.startColumn,ki=xn.selectionStartLineNumber===xn.startLineNumber&&xn.selectionStartColumn===xn.startColumn,Di=void 0;Wt===this.lastAddedCursorIndex?(Di=hi,this.lastAddedCursorIndex=vt):Di=ki;var rr=void 0;Di?rr=new Ft.a(ri.startLineNumber,ri.startColumn,ri.endLineNumber,ri.endColumn):rr=new Ft.a(ri.endLineNumber,ri.endColumn,ri.startLineNumber,ri.startColumn),m[Tt].selection=rr;var Ti=oo.b.fromModelSelection(rr);v[vt].setState(this.context,Ti.modelState,Ti.viewState)}var Vi=Object(w.a)(m),Qi;try{for(Vi.s();!(Qi=Vi.n()).done;){var yr=Qi.value;yr.index>Wt&&yr.index--}}catch(Rr){Vi.e(Rr)}finally{Vi.f()}v.splice(Wt,1),m.splice(Qt,1),this._removeSecondaryCursor(Wt-1),S--}}}}}}]),Ke}(),ra=Object(E.a)(function Ke(be,v,m,u){Object(Y.a)(this,Ke),this._cursorContextBrand=void 0,this.model=be,this.viewModel=v,this.coordinatesConverter=m,this.cursorConfig=u}),Kl=a("jtXd"),Ws=a("HHK3"),_s=a("p/Xk"),Es=Object(E.a)(function Ke(){Object(Y.a)(this,Ke),this.type=0}),ca=Object(E.a)(function Ke(){Object(Y.a)(this,Ke),this.type=1}),Fa=function(){function Ke(be){Object(Y.a)(this,Ke),this.type=2,this._source=be}return Object(E.a)(Ke,[{key:"hasChanged",value:function(v){return this._source.hasChanged(v)}}]),Ke}(),ya=Object(E.a)(function Ke(be,v,m){Object(Y.a)(this,Ke),this.selections=be,this.modelSelections=v,this.reason=m,this.type=3}),oa=Object(E.a)(function Ke(be){Object(Y.a)(this,Ke),this.type=4,be?(this.affectsMinimap=be.affectsMinimap,this.affectsOverviewRuler=be.affectsOverviewRuler,this.affectsGlyphMargin=be.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}),Wa=Object(E.a)(function Ke(){Object(Y.a)(this,Ke),this.type=5}),Co=Object(E.a)(function Ke(be){Object(Y.a)(this,Ke),this.type=6,this.isFocused=be}),es=Object(E.a)(function Ke(){Object(Y.a)(this,Ke),this.type=7}),To=Object(E.a)(function Ke(){Object(Y.a)(this,Ke),this.type=8}),cs=Object(E.a)(function Ke(be,v){Object(Y.a)(this,Ke),this.fromLineNumber=be,this.count=v,this.type=9}),Gs=Object(E.a)(function Ke(be,v){Object(Y.a)(this,Ke),this.type=10,this.fromLineNumber=be,this.toLineNumber=v}),Vs=Object(E.a)(function Ke(be,v){Object(Y.a)(this,Ke),this.type=11,this.fromLineNumber=be,this.toLineNumber=v}),Hs=Object(E.a)(function Ke(be,v,m,u,g,S,ie){Object(Y.a)(this,Ke),this.source=be,this.minimalReveal=v,this.range=m,this.selections=u,this.verticalType=g,this.revealHorizontal=S,this.scrollType=ie,this.type=12}),ps=Object(E.a)(function Ke(be){Object(Y.a)(this,Ke),this.type=13,this.scrollWidth=be.scrollWidth,this.scrollLeft=be.scrollLeft,this.scrollHeight=be.scrollHeight,this.scrollTop=be.scrollTop,this.scrollWidthChanged=be.scrollWidthChanged,this.scrollLeftChanged=be.scrollLeftChanged,this.scrollHeightChanged=be.scrollHeightChanged,this.scrollTopChanged=be.scrollTopChanged}),fc=Object(E.a)(function Ke(be){Object(Y.a)(this,Ke),this.theme=be,this.type=14}),Rs=Object(E.a)(function Ke(be){Object(Y.a)(this,Ke),this.type=15,this.ranges=be}),Us=Object(E.a)(function Ke(){Object(Y.a)(this,Ke),this.type=16}),Bc=Object(E.a)(function Ke(){Object(Y.a)(this,Ke),this.type=17}),qs=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(){var m;return Object(Y.a)(this,v),m=be.call(this),m._onEvent=m._register(new D.b),m.onEvent=m._onEvent.event,m._eventHandlers=[],m._viewEventQueue=null,m._isConsumingViewEventQueue=!1,m._collector=null,m._collectorCnt=0,m._outgoingEvents=[],m}return Object(E.a)(v,[{key:"emitOutgoingEvent",value:function(u){this._addOutgoingEvent(u),this._emitOutgoingEvents()}},{key:"_addOutgoingEvent",value:function(u){for(var g=0,S=this._outgoingEvents.length;g<S;g++){var ie=this._outgoingEvents[g].kind===u.kind?this._outgoingEvents[g].attemptToMerge(u):null;if(ie){this._outgoingEvents[g]=ie;return}}this._outgoingEvents.push(u)}},{key:"_emitOutgoingEvents",value:function(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;var u=this._outgoingEvents.shift();u.isNoOp()||this._onEvent.fire(u)}}},{key:"addViewEventHandler",value:function(u){for(var g=0,S=this._eventHandlers.length;g<S;g++)this._eventHandlers[g]===u&&console.warn("Detected duplicate listener in ViewEventDispatcher",u);this._eventHandlers.push(u)}},{key:"removeViewEventHandler",value:function(u){for(var g=0;g<this._eventHandlers.length;g++)if(this._eventHandlers[g]===u){this._eventHandlers.splice(g,1);break}}},{key:"beginEmitViewEvents",value:function(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Eu),this._collector}},{key:"endEmitViewEvents",value:function(){if(this._collectorCnt--,this._collectorCnt===0){var u=this._collector.outgoingEvents,g=this._collector.viewEvents;this._collector=null;var S=Object(w.a)(u),ie;try{for(S.s();!(ie=S.n()).done;){var Ee=ie.value;this._addOutgoingEvent(Ee)}}catch(Le){S.e(Le)}finally{S.f()}g.length>0&&this._emitMany(g)}this._emitOutgoingEvents()}},{key:"emitSingleViewEvent",value:function(u){try{var g=this.beginEmitViewEvents();g.emitViewEvent(u)}finally{this.endEmitViewEvents()}}},{key:"_emitMany",value:function(u){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(u):this._viewEventQueue=u,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}},{key:"_consumeViewEventQueue",value:function(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}},{key:"_doConsumeQueue",value:function(){for(;this._viewEventQueue;){var u=this._viewEventQueue;this._viewEventQueue=null;var g=this._eventHandlers.slice(0),S=Object(w.a)(g),ie;try{for(S.s();!(ie=S.n()).done;){var Ee=ie.value;Ee.handleEvents(u)}}catch(Le){S.e(Le)}finally{S.f()}}}}]),v}(C.a),Eu=function(){function Ke(){Object(Y.a)(this,Ke),this.viewEvents=[],this.outgoingEvents=[]}return Object(E.a)(Ke,[{key:"emitViewEvent",value:function(v){this.viewEvents.push(v)}},{key:"emitOutgoingEvent",value:function(v){this.outgoingEvents.push(v)}}]),Ke}(),Ku=function(){function Ke(be,v,m,u){Object(Y.a)(this,Ke),this.kind=0,this._oldContentWidth=be,this._oldContentHeight=v,this.contentWidth=m,this.contentHeight=u,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return!this.contentWidthChanged&&!this.contentHeightChanged}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:new Ke(this._oldContentWidth,this._oldContentHeight,v.contentWidth,v.contentHeight)}}]),Ke}(),Ns=function(){function Ke(be,v){Object(Y.a)(this,Ke),this.kind=1,this.oldHasFocus=be,this.hasFocus=v}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return this.oldHasFocus===this.hasFocus}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:new Ke(this.oldHasFocus,v.hasFocus)}}]),Ke}(),Gl=function(){function Ke(be,v,m,u,g,S,ie,Ee){Object(Y.a)(this,Ke),this.kind=2,this._oldScrollWidth=be,this._oldScrollLeft=v,this._oldScrollHeight=m,this._oldScrollTop=u,this.scrollWidth=g,this.scrollLeft=S,this.scrollHeight=ie,this.scrollTop=Ee,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:new Ke(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,v.scrollWidth,v.scrollLeft,v.scrollHeight,v.scrollTop)}}]),Ke}(),Gu=function(){function Ke(){Object(Y.a)(this,Ke),this.kind=3}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:this}}]),Ke}(),Tl=function(){function Ke(){Object(Y.a)(this,Ke),this.kind=4}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:this}}]),Ke}(),$u=function(){function Ke(be,v,m,u,g,S,ie){Object(Y.a)(this,Ke),this.kind=6,this.oldSelections=be,this.selections=v,this.oldModelVersionId=m,this.modelVersionId=u,this.source=g,this.reason=S,this.reachedMaxCursorCount=ie}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return Ke._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:new Ke(this.oldSelections,v.selections,this.oldModelVersionId,v.modelVersionId,v.source,v.reason,this.reachedMaxCursorCount||v.reachedMaxCursorCount)}}],[{key:"_selectionsAreEqual",value:function(v,m){if(!v&&!m)return!0;if(!v||!m)return!1;var u=v.length,g=m.length;if(u!==g)return!1;for(var S=0;S<u;S++)if(!v[S].equalsSelection(m[S]))return!1;return!0}}]),Ke}(),Qu=function(){function Ke(){Object(Y.a)(this,Ke),this.kind=5}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:this}}]),Ke}(),vu=function(){function Ke(be){Object(Y.a)(this,Ke),this.event=be,this.kind=7}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return null}}]),Ke}(),Yu=function(){function Ke(be){Object(Y.a)(this,Ke),this.event=be,this.kind=8}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return null}}]),Ke}(),Wc=function(){function Ke(be){Object(Y.a)(this,Ke),this.event=be,this.kind=9}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return null}}]),Ke}(),Zu=function(){function Ke(be){Object(Y.a)(this,Ke),this.event=be,this.kind=10}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return null}}]),Ke}(),Xu=function(){function Ke(be){Object(Y.a)(this,Ke),this.event=be,this.kind=11}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return null}}]),Ke}(),ds=function(){function Ke(be){Object(Y.a)(this,Ke),this.event=be,this.kind=12}return Object(E.a)(Ke,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return null}}]),Ke}(),Cs=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g,S){var ie;return Object(Y.a)(this,v),ie=be.call(this),ie._model=m,ie._knownModelVersionId=ie._model.getVersionId(),ie._viewModel=u,ie._coordinatesConverter=g,ie.context=new ra(ie._model,ie._viewModel,ie._coordinatesConverter,S),ie._cursors=new _o(ie.context),ie._hasFocus=!1,ie._isHandling=!1,ie._compositionState=null,ie._columnSelectData=null,ie._autoClosedActions=[],ie._prevEditOperationType=0,ie}return Object(E.a)(v,[{key:"dispose",value:function(){this._cursors.dispose(),this._autoClosedActions=Object(C.i)(this._autoClosedActions),Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"updateConfiguration",value:function(u){this.context=new ra(this._model,this._viewModel,this._coordinatesConverter,u),this._cursors.updateContext(this.context)}},{key:"onLineMappingChanged",value:function(u){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(u,"viewModel",0,this.getCursorStates())}},{key:"setHasFocus",value:function(u){this._hasFocus=u}},{key:"_validateAutoClosedActions",value:function(){if(this._autoClosedActions.length>0)for(var u=this._cursors.getSelections(),g=0;g<this._autoClosedActions.length;g++){var S=this._autoClosedActions[g];S.isValid(u)||(S.dispose(),this._autoClosedActions.splice(g,1),g--)}}},{key:"getPrimaryCursorState",value:function(){return this._cursors.getPrimaryCursor()}},{key:"getLastAddedCursorIndex",value:function(){return this._cursors.getLastAddedCursorIndex()}},{key:"getCursorStates",value:function(){return this._cursors.getAll()}},{key:"setStates",value:function(u,g,S,ie){var Ee=!1,Le=this.context.cursorConfig.multiCursorLimit;ie!==null&&ie.length>Le&&(ie=ie.slice(0,Le),Ee=!0);var at=ia.from(this._model,this);return this._cursors.setStates(ie),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(u,g,S,at,Ee)}},{key:"setCursorColumnSelectData",value:function(u){this._columnSelectData=u}},{key:"revealPrimary",value:function(u,g,S,ie,Ee,Le){var at=this._cursors.getViewPositions(),kt=null,Tt=null;at.length>1?Tt=this._cursors.getViewSelections():kt=Pn.a.fromPositions(at[0],at[0]),u.emitViewEvent(new Hs(g,S,kt,Tt,ie,Ee,Le))}},{key:"saveState",value:function(){for(var u=[],g=this._cursors.getSelections(),S=0,ie=g.length;S<ie;S++){var Ee=g[S];u.push({inSelectionMode:!Ee.isEmpty(),selectionStart:{lineNumber:Ee.selectionStartLineNumber,column:Ee.selectionStartColumn},position:{lineNumber:Ee.positionLineNumber,column:Ee.positionColumn}})}return u}},{key:"restoreState",value:function(u,g){for(var S=[],ie=0,Ee=g.length;ie<Ee;ie++){var Le=g[ie],at=1,kt=1;Le.position&&Le.position.lineNumber&&(at=Le.position.lineNumber),Le.position&&Le.position.column&&(kt=Le.position.column);var Tt=at,Qt=kt;Le.selectionStart&&Le.selectionStart.lineNumber&&(Tt=Le.selectionStart.lineNumber),Le.selectionStart&&Le.selectionStart.column&&(Qt=Le.selectionStart.column),S.push({selectionStartLineNumber:Tt,selectionStartColumn:Qt,positionLineNumber:at,positionColumn:kt})}this.setStates(u,"restoreState",0,oo.b.fromModelSelections(S)),this.revealPrimary(u,"restoreState",!1,0,!0,1)}},{key:"onModelContentChanged",value:function(u,g){if(g instanceof _s.c){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(u,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{var S=g.rawContentChangedEvent;if(this._knownModelVersionId=S.versionId,this._isHandling)return;var ie=S.containsEvent(1);if(this._prevEditOperationType=0,ie)this._cursors.dispose(),this._cursors=new _o(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(u,"model",1,null,!1);else if(this._hasFocus&&S.resultingSelection&&S.resultingSelection.length>0){var Ee=oo.b.fromModelSelections(S.resultingSelection);this.setStates(u,"modelChange",S.isUndoing?5:S.isRedoing?6:2,Ee)&&this.revealPrimary(u,"modelChange",!1,0,!0,0)}else{var Le=this._cursors.readSelectionFromMarkers();this.setStates(u,"modelChange",2,oo.b.fromModelSelections(Le))}}}},{key:"getSelection",value:function(){return this._cursors.getPrimaryCursor().modelState.selection}},{key:"getTopMostViewPosition",value:function(){return this._cursors.getTopMostViewPosition()}},{key:"getBottomMostViewPosition",value:function(){return this._cursors.getBottomMostViewPosition()}},{key:"getCursorColumnSelectData",value:function(){if(this._columnSelectData)return this._columnSelectData;var u=this._cursors.getPrimaryCursor(),g=u.viewState.selectionStart.getStartPosition(),S=u.viewState.position;return{isReal:!1,fromViewLineNumber:g.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,g),toViewLineNumber:S.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,S)}}},{key:"getSelections",value:function(){return this._cursors.getSelections()}},{key:"setSelections",value:function(u,g,S,ie){this.setStates(u,g,ie,oo.b.fromModelSelections(S))}},{key:"getPrevEditOperationType",value:function(){return this._prevEditOperationType}},{key:"setPrevEditOperationType",value:function(u){this._prevEditOperationType=u}},{key:"_pushAutoClosedAction",value:function(u,g){for(var S=[],ie=[],Ee=0,Le=u.length;Ee<Le;Ee++)S.push({range:u[Ee],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),ie.push({range:g[Ee],options:{description:"auto-closed-enclosing",stickiness:1}});var at=this._model.deltaDecorations([],S),kt=this._model.deltaDecorations([],ie);this._autoClosedActions.push(new vc(this._model,at,kt))}},{key:"_executeEditOperation",value:function(u){if(!!u){u.shouldPushStackElementBefore&&this._model.pushStackElement();var g=Lu.executeCommands(this._model,this._cursors.getSelections(),u.commands);if(g){this._interpretCommandResult(g);for(var S=[],ie=[],Ee=0;Ee<u.commands.length;Ee++){var Le=u.commands[Ee];Le instanceof Ws.c&&Le.enclosingRange&&Le.closeCharacterRange&&(S.push(Le.closeCharacterRange),ie.push(Le.enclosingRange))}S.length>0&&this._pushAutoClosedAction(S,ie),this._prevEditOperationType=u.type}u.shouldPushStackElementAfter&&this._model.pushStackElement()}}},{key:"_interpretCommandResult",value:function(u){(!u||u.length===0)&&(u=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(u),this._cursors.normalize()}},{key:"_emitStateChangedIfNecessary",value:function(u,g,S,ie,Ee){var Le=ia.from(this._model,this);if(Le.equals(ie))return!1;var at=this._cursors.getSelections(),kt=this._cursors.getViewSelections();if(u.emitViewEvent(new ya(kt,at,S)),!ie||ie.cursorState.length!==Le.cursorState.length||Le.cursorState.some(function(Wt,vt){return!Wt.modelState.equals(ie.cursorState[vt].modelState)})){var Tt=ie?ie.cursorState.map(function(Wt){return Wt.modelState.selection}):null,Qt=ie?ie.modelVersionId:0;u.emitOutgoingEvent(new $u(Tt,at,Qt,Le.modelVersionId,g||"keyboard",S,Ee))}return!0}},{key:"_findAutoClosingPairs",value:function(u){if(!u.length)return null;for(var g=[],S=0,ie=u.length;S<ie;S++){var Ee=u[S];if(!Ee.text||Ee.text.indexOf(`
`)>=0)return null;var Le=Ee.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Le)return null;var at=Le[1],kt=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(at);if(!kt||kt.length!==1)return null;var Tt=kt[0].open,Qt=Ee.text.length-Le[2].length-1,Wt=Ee.text.lastIndexOf(Tt,Qt-1);if(Wt===-1)return null;g.push([Wt,Qt])}return g}},{key:"executeEdits",value:function(u,g,S,ie){var Ee=this,Le=null;g==="snippet"&&(Le=this._findAutoClosingPairs(S)),Le&&(S[0]._isTracked=!0);var at=[],kt=[],Tt=this._model.pushEditOperations(this.getSelections(),S,function(Qt){if(Le)for(var Wt=0,vt=Le.length;Wt<vt;Wt++){var wn=Object(ce.a)(Le[Wt],2),xn=wn[0],ri=wn[1],hi=Qt[Wt],ki=hi.range.startLineNumber,Di=hi.range.startColumn-1+xn,rr=hi.range.startColumn-1+ri;at.push(new Pn.a(ki,rr+1,ki,rr+2)),kt.push(new Pn.a(ki,Di+1,ki,rr+2))}var Ti=ie(Qt);return Ti&&(Ee._isHandling=!0),Ti});Tt&&(this._isHandling=!1,this.setSelections(u,g,Tt,0)),at.length>0&&this._pushAutoClosedAction(at,kt)}},{key:"_executeEdit",value:function(u,g,S){var ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(!this.context.cursorConfig.readOnly){var Ee=ia.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),u()}catch(Le){Object(d.h)(Le)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(g,S,ie,Ee,!1)&&this.revealPrimary(g,S,!1,0,!0,0)}}},{key:"getAutoClosedCharacters",value:function(){return vc.getAllAutoClosedCharacters(this._autoClosedActions)}},{key:"startComposition",value:function(u){this._compositionState=new gl(this._model,this.getSelections())}},{key:"endComposition",value:function(u,g){var S=this,ie=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(function(){g==="keyboard"&&S._executeEditOperation(Ws.b.compositionEndWithInterceptors(S._prevEditOperationType,S.context.cursorConfig,S._model,ie,S.getSelections(),S.getAutoClosedCharacters()))},u,g)}},{key:"type",value:function(u,g,S){var ie=this;this._executeEdit(function(){if(S==="keyboard")for(var Ee=g.length,Le=0;Le<Ee;){var at=Ut.L(g,Le),kt=g.substr(Le,at);ie._executeEditOperation(Ws.b.typeWithInterceptors(!!ie._compositionState,ie._prevEditOperationType,ie.context.cursorConfig,ie._model,ie.getSelections(),ie.getAutoClosedCharacters(),kt)),Le+=at}else ie._executeEditOperation(Ws.b.typeWithoutInterceptors(ie._prevEditOperationType,ie.context.cursorConfig,ie._model,ie.getSelections(),g))},u,S)}},{key:"compositionType",value:function(u,g,S,ie,Ee,Le){var at=this;if(g.length===0&&S===0&&ie===0){if(Ee!==0){var kt=this.getSelections().map(function(Tt){var Qt=Tt.getPosition();return new Ft.a(Qt.lineNumber,Qt.column+Ee,Qt.lineNumber,Qt.column+Ee)});this.setSelections(u,Le,kt,0)}return}this._executeEdit(function(){at._executeEditOperation(Ws.b.compositionType(at._prevEditOperationType,at.context.cursorConfig,at._model,at.getSelections(),g,S,ie,Ee))},u,Le)}},{key:"paste",value:function(u,g,S,ie,Ee){var Le=this;this._executeEdit(function(){Le._executeEditOperation(Ws.b.paste(Le.context.cursorConfig,Le._model,Le.getSelections(),g,S,ie||[]))},u,Ee,4)}},{key:"cut",value:function(u,g){var S=this;this._executeEdit(function(){S._executeEditOperation(Kl.a.cut(S.context.cursorConfig,S._model,S.getSelections()))},u,g)}},{key:"executeCommand",value:function(u,g,S){var ie=this;this._executeEdit(function(){ie._cursors.killSecondaryCursors(),ie._executeEditOperation(new oo.c(0,[g],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},u,S)}},{key:"executeCommands",value:function(u,g,S){var ie=this;this._executeEdit(function(){ie._executeEditOperation(new oo.c(0,g,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},u,S)}}]),v}(C.a),ia=function(){function Ke(be,v){Object(Y.a)(this,Ke),this.modelVersionId=be,this.cursorState=v}return Object(E.a)(Ke,[{key:"equals",value:function(v){if(!v||this.modelVersionId!==v.modelVersionId||this.cursorState.length!==v.cursorState.length)return!1;for(var m=0,u=this.cursorState.length;m<u;m++)if(!this.cursorState[m].equals(v.cursorState[m]))return!1;return!0}}],[{key:"from",value:function(v,m){return new Ke(v.getVersionId(),m.getCursorStates())}}]),Ke}(),vc=function(){function Ke(be,v,m){Object(Y.a)(this,Ke),this._model=be,this._autoClosedCharactersDecorations=v,this._autoClosedEnclosingDecorations=m}return Object(E.a)(Ke,[{key:"dispose",value:function(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}},{key:"getAutoClosedCharactersRanges",value:function(){for(var v=[],m=0;m<this._autoClosedCharactersDecorations.length;m++){var u=this._model.getDecorationRange(this._autoClosedCharactersDecorations[m]);u&&v.push(u)}return v}},{key:"isValid",value:function(v){for(var m=[],u=0;u<this._autoClosedEnclosingDecorations.length;u++){var g=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[u]);if(g&&(m.push(g),g.startLineNumber!==g.endLineNumber))return!1}m.sort(Pn.a.compareRangesUsingStarts),v.sort(Pn.a.compareRangesUsingStarts);for(var S=0;S<v.length;S++)if(S>=m.length||!m[S].strictContainsRange(v[S]))return!1;return!0}}],[{key:"getAllAutoClosedCharacters",value:function(v){var m=[],u=Object(w.a)(v),g;try{for(u.s();!(g=u.n()).done;){var S=g.value;m=m.concat(S.getAutoClosedCharactersRanges())}}catch(ie){u.e(ie)}finally{u.f()}return m}}]),Ke}(),Lu=function(){function Ke(){Object(Y.a)(this,Ke)}return Object(E.a)(Ke,null,[{key:"executeCommands",value:function(v,m,u){for(var g={model:v,selectionsBefore:m,trackedRanges:[],trackedRangesDirection:[]},S=this._innerExecuteCommands(g,u),ie=0,Ee=g.trackedRanges.length;ie<Ee;ie++)g.model._setTrackedRange(g.trackedRanges[ie],null,0);return S}},{key:"_innerExecuteCommands",value:function(v,m){if(this._arrayIsEmpty(m))return null;var u=this._getEditOperations(v,m);if(u.operations.length===0)return null;var g=u.operations,S=this._getLoserCursorMap(g);if(S.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var ie=[],Ee=0,Le=g.length;Ee<Le;Ee++)S.hasOwnProperty(g[Ee].identifier.major.toString())||ie.push(g[Ee]);u.hadTrackedEditOperation&&ie.length>0&&(ie[0]._isTracked=!0);var at=v.model.pushEditOperations(v.selectionsBefore,ie,function(wn){for(var xn=[],ri=0;ri<v.selectionsBefore.length;ri++)xn[ri]=[];var hi=Object(w.a)(wn),ki;try{for(hi.s();!(ki=hi.n()).done;){var Di=ki.value;!Di.identifier||xn[Di.identifier.major].push(Di)}}catch(yr){hi.e(yr)}finally{hi.f()}for(var rr=function(Rr,Qr){return Rr.identifier.minor-Qr.identifier.minor},Ti=[],Vi=function(Rr){xn[Rr].length>0?(xn[Rr].sort(rr),Ti[Rr]=m[Rr].computeCursorState(v.model,{getInverseEditOperations:function(){return xn[Rr]},getTrackedSelection:function(ha){var Oa=parseInt(ha,10),qr=v.model._getTrackedRange(v.trackedRanges[Oa]);return v.trackedRangesDirection[Oa]===0?new Ft.a(qr.startLineNumber,qr.startColumn,qr.endLineNumber,qr.endColumn):new Ft.a(qr.endLineNumber,qr.endColumn,qr.startLineNumber,qr.startColumn)}})):Ti[Rr]=v.selectionsBefore[Rr]},Qi=0;Qi<v.selectionsBefore.length;Qi++)Vi(Qi);return Ti});at||(at=v.selectionsBefore);var kt=[];for(var Tt in S)S.hasOwnProperty(Tt)&&kt.push(parseInt(Tt,10));kt.sort(function(wn,xn){return xn-wn});for(var Qt=0,Wt=kt;Qt<Wt.length;Qt++){var vt=Wt[Qt];at.splice(vt,1)}return at}},{key:"_arrayIsEmpty",value:function(v){for(var m=0,u=v.length;m<u;m++)if(v[m])return!1;return!0}},{key:"_getEditOperations",value:function(v,m){for(var u=[],g=!1,S=0,ie=m.length;S<ie;S++){var Ee=m[S];if(Ee){var Le=this._getEditOperationsFromCommand(v,S,Ee);u=u.concat(Le.operations),g=g||Le.hadTrackedEditOperation}}return{operations:u,hadTrackedEditOperation:g}}},{key:"_getEditOperationsFromCommand",value:function(v,m,u){var g=[],S=0,ie=function(Qt,Wt){var vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Pn.a.isEmpty(Qt)&&Wt===""||g.push({identifier:{major:m,minor:S++},range:Qt,text:Wt,forceMoveMarkers:vt,isAutoWhitespaceEdit:u.insertsAutoWhitespace})},Ee=!1,Le=function(Qt,Wt,vt){Ee=!0,ie(Qt,Wt,vt)},at=function(Qt,Wt){var vt=Ft.a.liftSelection(Qt),wn;if(vt.isEmpty())if(typeof Wt=="boolean")Wt?wn=2:wn=3;else{var xn=v.model.getLineMaxColumn(vt.startLineNumber);vt.startColumn===xn?wn=2:wn=3}else wn=1;var ri=v.trackedRanges.length,hi=v.model._setTrackedRange(null,vt,wn);return v.trackedRanges[ri]=hi,v.trackedRangesDirection[ri]=vt.getDirection(),ri.toString()},kt={addEditOperation:ie,addTrackedEditOperation:Le,trackSelection:at};try{u.getEditOperations(v.model,kt)}catch(Tt){return Object(d.h)(Tt),{operations:[],hadTrackedEditOperation:!1}}return{operations:g,hadTrackedEditOperation:Ee}}},{key:"_getLoserCursorMap",value:function(v){v=v.slice(0),v.sort(function(Le,at){return-Pn.a.compareRangesUsingEnds(Le.range,at.range)});for(var m={},u=1;u<v.length;u++){var g=v[u-1],S=v[u];if(Pn.a.getStartPosition(g.range).isBefore(Pn.a.getEndPosition(S.range))){var ie=void 0;g.identifier.major>S.identifier.major?ie=g.identifier.major:ie=S.identifier.major,m[ie.toString()]=!0;for(var Ee=0;Ee<v.length;Ee++)v[Ee].identifier.major===ie&&(v.splice(Ee,1),Ee<u&&u--,Ee--);u>0&&u--}}return m}}]),Ke}(),$l=Object(E.a)(function Ke(be,v,m){Object(Y.a)(this,Ke),this.text=be,this.startSelection=v,this.endSelection=m}),gl=function(){function Ke(be,v){Object(Y.a)(this,Ke),this._original=Ke._capture(be,v)}return Object(E.a)(Ke,[{key:"deduceOutcome",value:function(v,m){if(!this._original)return null;var u=Ke._capture(v,m);if(!u||this._original.length!==u.length)return null;for(var g=[],S=0,ie=this._original.length;S<ie;S++)g.push(Ke._deduceOutcome(this._original[S],u[S]));return g}}],[{key:"_capture",value:function(v,m){var u=[],g=Object(w.a)(m),S;try{for(g.s();!(S=g.n()).done;){var ie=S.value;if(ie.startLineNumber!==ie.endLineNumber)return null;u.push(new $l(v.getLineContent(ie.startLineNumber),ie.startColumn-1,ie.endColumn-1))}}catch(Ee){g.e(Ee)}finally{g.f()}return u}},{key:"_deduceOutcome",value:function(v,m){var u=Math.min(v.startSelection,m.startSelection,Ut.f(v.text,m.text)),g=Math.min(v.text.length-v.endSelection,m.text.length-m.endSelection,Ut.g(v.text,m.text)),S=v.text.substring(u,v.text.length-g),ie=m.text.substring(u,m.text.length-g);return new Ws.a(S,v.startSelection-u,v.endSelection-u,ie,m.startSelection-u,m.endSelection-u)}}]),Ke}(),gu=a("y0ET"),Ju=a("Udvv"),Do=a("QuOb"),Zo=function(){function Ke(){Object(Y.a)(this,Ke),this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}return Object(E.a)(Ke,[{key:"insert",value:function(v){this._hasPending=!0,this._inserts.push(v)}},{key:"change",value:function(v){this._hasPending=!0,this._changes.push(v)}},{key:"remove",value:function(v){this._hasPending=!0,this._removes.push(v)}},{key:"mustCommit",value:function(){return this._hasPending}},{key:"commit",value:function(v){if(!!this._hasPending){var m=this._inserts,u=this._changes,g=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],v._commitPendingChanges(m,u,g)}}}]),Ke}(),mo=Object(E.a)(function Ke(be,v,m,u,g){Object(Y.a)(this,Ke),this.id=be,this.afterLineNumber=v,this.ordinal=m,this.height=u,this.minWidth=g,this.prefixSum=0}),gc=function(){function Ke(be,v,m,u){Object(Y.a)(this,Ke),this._instanceId=Ut.R(++Ke.INSTANCE_COUNT),this._pendingChanges=new Zo,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=be,this._lineHeight=v,this._paddingTop=m,this._paddingBottom=u}return Object(E.a)(Ke,[{key:"setLineHeight",value:function(v){this._checkPendingChanges(),this._lineHeight=v}},{key:"setPadding",value:function(v,m){this._paddingTop=v,this._paddingBottom=m}},{key:"onFlushed",value:function(v){this._checkPendingChanges(),this._lineCount=v}},{key:"changeWhitespace",value:function(v){var m=this,u=!1;try{var g={insertWhitespace:function(ie,Ee,Le,at){u=!0,ie=ie|0,Ee=Ee|0,Le=Le|0,at=at|0;var kt=m._instanceId+ ++m._lastWhitespaceId;return m._pendingChanges.insert(new mo(kt,ie,Ee,Le,at)),kt},changeOneWhitespace:function(ie,Ee,Le){u=!0,Ee=Ee|0,Le=Le|0,m._pendingChanges.change({id:ie,newAfterLineNumber:Ee,newHeight:Le})},removeWhitespace:function(ie){u=!0,m._pendingChanges.remove({id:ie})}};v(g)}finally{this._pendingChanges.commit(this)}return u}},{key:"_commitPendingChanges",value:function(v,m,u){if((v.length>0||u.length>0)&&(this._minWidth=-1),v.length+m.length+u.length<=1){var g=Object(w.a)(v),S;try{for(g.s();!(S=g.n()).done;){var ie=S.value;this._insertWhitespace(ie)}}catch(Qi){g.e(Qi)}finally{g.f()}var Ee=Object(w.a)(m),Le;try{for(Ee.s();!(Le=Ee.n()).done;){var at=Le.value;this._changeOneWhitespace(at.id,at.newAfterLineNumber,at.newHeight)}}catch(Qi){Ee.e(Qi)}finally{Ee.f()}var kt=Object(w.a)(u),Tt;try{for(kt.s();!(Tt=kt.n()).done;){var Qt=Tt.value,Wt=this._findWhitespaceIndex(Qt.id);Wt!==-1&&this._removeWhitespace(Wt)}}catch(Qi){kt.e(Qi)}finally{kt.f()}return}var vt=new Set,wn=Object(w.a)(u),xn;try{for(wn.s();!(xn=wn.n()).done;){var ri=xn.value;vt.add(ri.id)}}catch(Qi){wn.e(Qi)}finally{wn.f()}var hi=new Map,ki=Object(w.a)(m),Di;try{for(ki.s();!(Di=ki.n()).done;){var rr=Di.value;hi.set(rr.id,rr)}}catch(Qi){ki.e(Qi)}finally{ki.f()}var Ti=function(yr){var Rr=[],Qr=Object(w.a)(yr),ha;try{for(Qr.s();!(ha=Qr.n()).done;){var Oa=ha.value;if(!vt.has(Oa.id)){if(hi.has(Oa.id)){var qr=hi.get(Oa.id);Oa.afterLineNumber=qr.newAfterLineNumber,Oa.height=qr.newHeight}Rr.push(Oa)}}}catch(ka){Qr.e(ka)}finally{Qr.f()}return Rr},Vi=Ti(this._arr).concat(Ti(v));Vi.sort(function(Qi,yr){return Qi.afterLineNumber===yr.afterLineNumber?Qi.ordinal-yr.ordinal:Qi.afterLineNumber-yr.afterLineNumber}),this._arr=Vi,this._prefixSumValidIndex=-1}},{key:"_checkPendingChanges",value:function(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}},{key:"_insertWhitespace",value:function(v){var m=Ke.findInsertionIndex(this._arr,v.afterLineNumber,v.ordinal);this._arr.splice(m,0,v),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,m-1)}},{key:"_findWhitespaceIndex",value:function(v){for(var m=this._arr,u=0,g=m.length;u<g;u++)if(m[u].id===v)return u;return-1}},{key:"_changeOneWhitespace",value:function(v,m,u){var g=this._findWhitespaceIndex(v);if(g!==-1&&(this._arr[g].height!==u&&(this._arr[g].height=u,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,g-1)),this._arr[g].afterLineNumber!==m)){var S=this._arr[g];this._removeWhitespace(g),S.afterLineNumber=m,this._insertWhitespace(S)}}},{key:"_removeWhitespace",value:function(v){this._arr.splice(v,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)}},{key:"onLinesDeleted",value:function(v,m){this._checkPendingChanges(),v=v|0,m=m|0,this._lineCount-=m-v+1;for(var u=0,g=this._arr.length;u<g;u++){var S=this._arr[u].afterLineNumber;v<=S&&S<=m?this._arr[u].afterLineNumber=v-1:S>m&&(this._arr[u].afterLineNumber-=m-v+1)}}},{key:"onLinesInserted",value:function(v,m){this._checkPendingChanges(),v=v|0,m=m|0,this._lineCount+=m-v+1;for(var u=0,g=this._arr.length;u<g;u++){var S=this._arr[u].afterLineNumber;v<=S&&(this._arr[u].afterLineNumber+=m-v+1)}}},{key:"getWhitespacesTotalHeight",value:function(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}},{key:"getWhitespacesAccumulatedHeight",value:function(v){this._checkPendingChanges(),v=v|0;var m=Math.max(0,this._prefixSumValidIndex+1);m===0&&(this._arr[0].prefixSum=this._arr[0].height,m++);for(var u=m;u<=v;u++)this._arr[u].prefixSum=this._arr[u-1].prefixSum+this._arr[u].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,v),this._arr[v].prefixSum}},{key:"getLinesTotalHeight",value:function(){this._checkPendingChanges();var v=this._lineHeight*this._lineCount,m=this.getWhitespacesTotalHeight();return v+m+this._paddingTop+this._paddingBottom}},{key:"getWhitespaceAccumulatedHeightBeforeLineNumber",value:function(v){this._checkPendingChanges(),v=v|0;var m=this._findLastWhitespaceBeforeLineNumber(v);return m===-1?0:this.getWhitespacesAccumulatedHeight(m)}},{key:"_findLastWhitespaceBeforeLineNumber",value:function(v){v=v|0;for(var m=this._arr,u=0,g=m.length-1;u<=g;){var S=g-u|0,ie=S/2|0,Ee=u+ie|0;if(m[Ee].afterLineNumber<v){if(Ee+1>=m.length||m[Ee+1].afterLineNumber>=v)return Ee;u=Ee+1|0}else g=Ee-1|0}return-1}},{key:"_findFirstWhitespaceAfterLineNumber",value:function(v){v=v|0;var m=this._findLastWhitespaceBeforeLineNumber(v),u=m+1;return u<this._arr.length?u:-1}},{key:"getFirstWhitespaceIndexAfterLineNumber",value:function(v){return this._checkPendingChanges(),v=v|0,this._findFirstWhitespaceAfterLineNumber(v)}},{key:"getVerticalOffsetForLineNumber",value:function(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._checkPendingChanges(),v=v|0;var u;v>1?u=this._lineHeight*(v-1):u=0;var g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(v-(m?1:0));return u+g+this._paddingTop}},{key:"getVerticalOffsetAfterLineNumber",value:function(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._checkPendingChanges(),v=v|0;var u=this._lineHeight*v,g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(v+(m?1:0));return u+g+this._paddingTop}},{key:"getWhitespaceMinWidth",value:function(){if(this._checkPendingChanges(),this._minWidth===-1){for(var v=0,m=0,u=this._arr.length;m<u;m++)v=Math.max(v,this._arr[m].minWidth);this._minWidth=v}return this._minWidth}},{key:"isAfterLines",value:function(v){this._checkPendingChanges();var m=this.getLinesTotalHeight();return v>m}},{key:"isInTopPadding",value:function(v){return this._paddingTop===0?!1:(this._checkPendingChanges(),v<this._paddingTop)}},{key:"isInBottomPadding",value:function(v){if(this._paddingBottom===0)return!1;this._checkPendingChanges();var m=this.getLinesTotalHeight();return v>=m-this._paddingBottom}},{key:"getLineNumberAtOrAfterVerticalOffset",value:function(v){if(this._checkPendingChanges(),v=v|0,v<0)return 1;for(var m=this._lineCount|0,u=this._lineHeight,g=1,S=m;g<S;){var ie=(g+S)/2|0,Ee=this.getVerticalOffsetForLineNumber(ie)|0;if(v>=Ee+u)g=ie+1;else{if(v>=Ee)return ie;S=ie}}return g>m?m:g}},{key:"getLinesViewportData",value:function(v,m){this._checkPendingChanges(),v=v|0,m=m|0;var u=this._lineHeight,g=this.getLineNumberAtOrAfterVerticalOffset(v)|0,S=this.getVerticalOffsetForLineNumber(g)|0,ie=this._lineCount|0,Ee=this.getFirstWhitespaceIndexAfterLineNumber(g)|0,Le=this.getWhitespacesCount()|0,at,kt;Ee===-1?(Ee=Le,kt=ie+1,at=0):(kt=this.getAfterLineNumberForWhitespaceIndex(Ee)|0,at=this.getHeightForWhitespaceIndex(Ee)|0);var Tt=S,Qt=Tt,Wt=5e5,vt=0;S>=Wt&&(vt=Math.floor(S/Wt)*Wt,vt=Math.floor(vt/u)*u,Qt-=vt);for(var wn=[],xn=v+(m-v)/2,ri=-1,hi=g;hi<=ie;hi++){if(ri===-1){var ki=Tt,Di=Tt+u;(ki<=xn&&xn<Di||ki>xn)&&(ri=hi)}for(Tt+=u,wn[hi-g]=Qt,Qt+=u;kt===hi;)Qt+=at,Tt+=at,Ee++,Ee>=Le?kt=ie+1:(kt=this.getAfterLineNumberForWhitespaceIndex(Ee)|0,at=this.getHeightForWhitespaceIndex(Ee)|0);if(Tt>=m){ie=hi;break}}ri===-1&&(ri=ie);var rr=this.getVerticalOffsetForLineNumber(ie)|0,Ti=g,Vi=ie;return Ti<Vi&&S<v&&Ti++,Ti<Vi&&rr+u>m&&Vi--,{bigNumbersDelta:vt,startLineNumber:g,endLineNumber:ie,relativeVerticalOffset:wn,centeredLineNumber:ri,completelyVisibleStartLineNumber:Ti,completelyVisibleEndLineNumber:Vi}}},{key:"getVerticalOffsetForWhitespaceIndex",value:function(v){this._checkPendingChanges(),v=v|0;var m=this.getAfterLineNumberForWhitespaceIndex(v),u;m>=1?u=this._lineHeight*m:u=0;var g;return v>0?g=this.getWhitespacesAccumulatedHeight(v-1):g=0,u+g+this._paddingTop}},{key:"getWhitespaceIndexAtOrAfterVerticallOffset",value:function(v){this._checkPendingChanges(),v=v|0;var m=0,u=this.getWhitespacesCount()-1;if(u<0)return-1;var g=this.getVerticalOffsetForWhitespaceIndex(u),S=this.getHeightForWhitespaceIndex(u);if(v>=g+S)return-1;for(;m<u;){var ie=Math.floor((m+u)/2),Ee=this.getVerticalOffsetForWhitespaceIndex(ie),Le=this.getHeightForWhitespaceIndex(ie);if(v>=Ee+Le)m=ie+1;else{if(v>=Ee)return ie;u=ie}}return m}},{key:"getWhitespaceAtVerticalOffset",value:function(v){this._checkPendingChanges(),v=v|0;var m=this.getWhitespaceIndexAtOrAfterVerticallOffset(v);if(m<0||m>=this.getWhitespacesCount())return null;var u=this.getVerticalOffsetForWhitespaceIndex(m);if(u>v)return null;var g=this.getHeightForWhitespaceIndex(m),S=this.getIdForWhitespaceIndex(m),ie=this.getAfterLineNumberForWhitespaceIndex(m);return{id:S,afterLineNumber:ie,verticalOffset:u,height:g}}},{key:"getWhitespaceViewportData",value:function(v,m){this._checkPendingChanges(),v=v|0,m=m|0;var u=this.getWhitespaceIndexAtOrAfterVerticallOffset(v),g=this.getWhitespacesCount()-1;if(u<0)return[];for(var S=[],ie=u;ie<=g;ie++){var Ee=this.getVerticalOffsetForWhitespaceIndex(ie),Le=this.getHeightForWhitespaceIndex(ie);if(Ee>=m)break;S.push({id:this.getIdForWhitespaceIndex(ie),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(ie),verticalOffset:Ee,height:Le})}return S}},{key:"getWhitespaces",value:function(){return this._checkPendingChanges(),this._arr.slice(0)}},{key:"getWhitespacesCount",value:function(){return this._checkPendingChanges(),this._arr.length}},{key:"getIdForWhitespaceIndex",value:function(v){return this._checkPendingChanges(),v=v|0,this._arr[v].id}},{key:"getAfterLineNumberForWhitespaceIndex",value:function(v){return this._checkPendingChanges(),v=v|0,this._arr[v].afterLineNumber}},{key:"getHeightForWhitespaceIndex",value:function(v){return this._checkPendingChanges(),v=v|0,this._arr[v].height}}],[{key:"findInsertionIndex",value:function(v,m,u){for(var g=0,S=v.length;g<S;){var ie=g+S>>>1;m===v[ie].afterLineNumber?u<v[ie].ordinal?S=ie:g=ie+1:m<v[ie].afterLineNumber?S=ie:g=ie+1}return g}}]),Ke}();gc.INSTANCE_COUNT=0;var qu=125,Ls=function(){function Ke(be,v,m,u){Object(Y.a)(this,Ke),be=be|0,v=v|0,m=m|0,u=u|0,be<0&&(be=0),v<0&&(v=0),m<0&&(m=0),u<0&&(u=0),this.width=be,this.contentWidth=v,this.scrollWidth=Math.max(be,v),this.height=m,this.contentHeight=u,this.scrollHeight=Math.max(m,u)}return Object(E.a)(Ke,[{key:"equals",value:function(v){return this.width===v.width&&this.contentWidth===v.contentWidth&&this.height===v.height&&this.contentHeight===v.contentHeight}}]),Ke}(),Vc=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u){var g;return Object(Y.a)(this,v),g=be.call(this),g._onDidContentSizeChange=g._register(new D.b),g.onDidContentSizeChange=g._onDidContentSizeChange.event,g._dimensions=new Ls(0,0,0,0),g._scrollable=g._register(new Do.a({forceIntegerValues:!0,smoothScrollDuration:m,scheduleAtNextAnimationFrame:u})),g.onDidScroll=g._scrollable.onScroll,g}return Object(E.a)(v,[{key:"getScrollable",value:function(){return this._scrollable}},{key:"setSmoothScrollDuration",value:function(u){this._scrollable.setSmoothScrollDuration(u)}},{key:"validateScrollPosition",value:function(u){return this._scrollable.validateScrollPosition(u)}},{key:"getScrollDimensions",value:function(){return this._dimensions}},{key:"setScrollDimensions",value:function(u){if(!this._dimensions.equals(u)){var g=this._dimensions;this._dimensions=u,this._scrollable.setScrollDimensions({width:u.width,scrollWidth:u.scrollWidth,height:u.height,scrollHeight:u.scrollHeight},!0);var S=g.contentWidth!==u.contentWidth,ie=g.contentHeight!==u.contentHeight;(S||ie)&&this._onDidContentSizeChange.fire(new Ku(g.contentWidth,g.contentHeight,u.contentWidth,u.contentHeight))}}},{key:"getFutureScrollPosition",value:function(){return this._scrollable.getFutureScrollPosition()}},{key:"getCurrentScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}},{key:"setScrollPositionNow",value:function(u){this._scrollable.setScrollPositionNow(u)}},{key:"setScrollPositionSmooth",value:function(u){this._scrollable.setScrollPositionSmooth(u)}},{key:"hasPendingScrollAnimation",value:function(){return this._scrollable.hasPendingScrollAnimation()}}]),v}(C.a),Ql=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g){var S;Object(Y.a)(this,v),S=be.call(this),S._configuration=m;var ie=S._configuration.options,Ee=ie.get(140),Le=ie.get(81);return S._linesLayout=new gc(u,ie.get(64),Le.top,Le.bottom),S._scrollable=S._register(new Vc(0,g)),S._configureSmoothScrollDuration(),S._scrollable.setScrollDimensions(new Ls(Ee.contentWidth,0,Ee.height,0)),S.onDidScroll=S._scrollable.onDidScroll,S.onDidContentSizeChange=S._scrollable.onDidContentSizeChange,S._updateHeight(),S}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"getScrollable",value:function(){return this._scrollable.getScrollable()}},{key:"onHeightMaybeChanged",value:function(){this._updateHeight()}},{key:"_configureSmoothScrollDuration",value:function(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(110)?qu:0)}},{key:"onConfigurationChanged",value:function(u){var g=this._configuration.options;if(u.hasChanged(64)&&this._linesLayout.setLineHeight(g.get(64)),u.hasChanged(81)){var S=g.get(81);this._linesLayout.setPadding(S.top,S.bottom)}if(u.hasChanged(140)){var ie=g.get(140),Ee=ie.contentWidth,Le=ie.height,at=this._scrollable.getScrollDimensions(),kt=at.contentWidth;this._scrollable.setScrollDimensions(new Ls(Ee,at.contentWidth,Le,this._getContentHeight(Ee,Le,kt)))}else this._updateHeight();u.hasChanged(110)&&this._configureSmoothScrollDuration()}},{key:"onFlushed",value:function(u){this._linesLayout.onFlushed(u)}},{key:"onLinesDeleted",value:function(u,g){this._linesLayout.onLinesDeleted(u,g)}},{key:"onLinesInserted",value:function(u,g){this._linesLayout.onLinesInserted(u,g)}},{key:"_getHorizontalScrollbarHeight",value:function(u,g){var S=this._configuration.options,ie=S.get(99);return ie.horizontal===2||u>=g?0:ie.horizontalScrollbarSize}},{key:"_getContentHeight",value:function(u,g,S){var ie=this._configuration.options,Ee=this._linesLayout.getLinesTotalHeight();return ie.get(101)?Ee+=Math.max(0,g-ie.get(64)-ie.get(81).bottom):Ee+=this._getHorizontalScrollbarHeight(u,S),Ee}},{key:"_updateHeight",value:function(){var u=this._scrollable.getScrollDimensions(),g=u.width,S=u.height,ie=u.contentWidth;this._scrollable.setScrollDimensions(new Ls(g,u.contentWidth,S,this._getContentHeight(g,S,ie)))}},{key:"getCurrentViewport",value:function(){var u=this._scrollable.getScrollDimensions(),g=this._scrollable.getCurrentScrollPosition();return new _a.h(g.scrollTop,g.scrollLeft,u.width,u.height)}},{key:"getFutureViewport",value:function(){var u=this._scrollable.getScrollDimensions(),g=this._scrollable.getFutureScrollPosition();return new _a.h(g.scrollTop,g.scrollLeft,u.width,u.height)}},{key:"_computeContentWidth",value:function(u){var g=this._configuration.options,S=g.get(141),ie=g.get(48),Ee=g.get(140);if(S.isViewportWrapping){var Le=g.get(70);return u>Ee.contentWidth+ie.typicalHalfwidthCharacterWidth&&Le.enabled&&Le.side==="right"?u+Ee.verticalScrollbarWidth:u}else{var at=g.get(100)*ie.typicalHalfwidthCharacterWidth,kt=this._linesLayout.getWhitespaceMinWidth();return Math.max(u+at+Ee.verticalScrollbarWidth,kt)}}},{key:"setMaxLineWidth",value:function(u){var g=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ls(g.width,this._computeContentWidth(u),g.height,g.contentHeight)),this._updateHeight()}},{key:"saveState",value:function(){var u=this._scrollable.getFutureScrollPosition(),g=u.scrollTop,S=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(g),ie=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(S);return{scrollTop:g,scrollTopWithoutViewZones:g-ie,scrollLeft:u.scrollLeft}}},{key:"changeWhitespace",value:function(u){var g=this._linesLayout.changeWhitespace(u);return g&&this.onHeightMaybeChanged(),g}},{key:"getVerticalOffsetForLineNumber",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._linesLayout.getVerticalOffsetForLineNumber(u,g)}},{key:"getVerticalOffsetAfterLineNumber",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._linesLayout.getVerticalOffsetAfterLineNumber(u,g)}},{key:"isAfterLines",value:function(u){return this._linesLayout.isAfterLines(u)}},{key:"isInTopPadding",value:function(u){return this._linesLayout.isInTopPadding(u)}},{key:"isInBottomPadding",value:function(u){return this._linesLayout.isInBottomPadding(u)}},{key:"getLineNumberAtVerticalOffset",value:function(u){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(u)}},{key:"getWhitespaceAtVerticalOffset",value:function(u){return this._linesLayout.getWhitespaceAtVerticalOffset(u)}},{key:"getLinesViewportData",value:function(){var u=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(u.top,u.top+u.height)}},{key:"getLinesViewportDataAtScrollTop",value:function(u){var g=this._scrollable.getScrollDimensions();return u+g.height>g.scrollHeight&&(u=g.scrollHeight-g.height),u<0&&(u=0),this._linesLayout.getLinesViewportData(u,u+g.height)}},{key:"getWhitespaceViewportData",value:function(){var u=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(u.top,u.top+u.height)}},{key:"getWhitespaces",value:function(){return this._linesLayout.getWhitespaces()}},{key:"getContentWidth",value:function(){var u=this._scrollable.getScrollDimensions();return u.contentWidth}},{key:"getScrollWidth",value:function(){var u=this._scrollable.getScrollDimensions();return u.scrollWidth}},{key:"getContentHeight",value:function(){var u=this._scrollable.getScrollDimensions();return u.contentHeight}},{key:"getScrollHeight",value:function(){var u=this._scrollable.getScrollDimensions();return u.scrollHeight}},{key:"getCurrentScrollLeft",value:function(){var u=this._scrollable.getCurrentScrollPosition();return u.scrollLeft}},{key:"getCurrentScrollTop",value:function(){var u=this._scrollable.getCurrentScrollPosition();return u.scrollTop}},{key:"validateScrollPosition",value:function(u){return this._scrollable.validateScrollPosition(u)}},{key:"setScrollPosition",value:function(u,g){g===1?this._scrollable.setScrollPositionNow(u):this._scrollable.setScrollPositionSmooth(u)}},{key:"hasPendingScrollAnimation",value:function(){return this._scrollable.hasPendingScrollAnimation()}},{key:"deltaScrollNow",value:function(u,g){var S=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:S.scrollLeft+u,scrollTop:S.scrollTop+g})}}]),v}(C.a),ml=a("H9a+"),Hc=a("zhcO");function Il(Ke,be){return Ke===null?be?$s.INSTANCE:al.INSTANCE:new th(Ke,be)}var th=function(){function Ke(be,v){Object(Y.a)(this,Ke),this._projectionData=be,this._isVisible=v}return Object(E.a)(Ke,[{key:"isVisible",value:function(){return this._isVisible}},{key:"setVisible",value:function(v){return this._isVisible=v,this}},{key:"getProjectionData",value:function(){return this._projectionData}},{key:"getViewLineCount",value:function(){return this._isVisible?this._projectionData.getOutputLineCount():0}},{key:"getViewLineContent",value:function(v,m,u){var g=this;this._assertVisible();var S=u>0?this._projectionData.breakOffsets[u-1]:0,ie=this._projectionData.breakOffsets[u],Ee;if(this._projectionData.injectionOffsets!==null){var Le=this._projectionData.injectionOffsets.map(function(kt,Tt){return new _s.b(0,0,kt+1,g._projectionData.injectionOptions[Tt],0)}),at=_s.b.applyInjectedText(v.getLineContent(m),Le);Ee=at.substring(S,ie)}else Ee=v.getValueInRange({startLineNumber:m,startColumn:S+1,endLineNumber:m,endColumn:ie+1});return u>0&&(Ee=mc(this._projectionData.wrappedTextIndentLength)+Ee),Ee}},{key:"getViewLineLength",value:function(v,m,u){return this._assertVisible(),this._projectionData.getLineLength(u)}},{key:"getViewLineMinColumn",value:function(v,m,u){return this._assertVisible(),this._projectionData.getMinOutputOffset(u)+1}},{key:"getViewLineMaxColumn",value:function(v,m,u){return this._assertVisible(),this._projectionData.getMaxOutputOffset(u)+1}},{key:"getViewLineData",value:function(v,m,u){var g=new Array;return this.getViewLinesData(v,m,u,1,0,[!0],g),g[0]}},{key:"getViewLinesData",value:function(v,m,u,g,S,ie,Ee){this._assertVisible();var Le=this._projectionData,at=Le.injectionOffsets,kt=Le.injectionOptions,Tt=null;if(at){Tt=[];for(var Qt=0,Wt=0,vt=0;vt<Le.getOutputLineCount();vt++){var wn=new Array;Tt[vt]=wn;for(var xn=vt>0?Le.breakOffsets[vt-1]:0,ri=Le.breakOffsets[vt];Wt<at.length;){var hi=kt[Wt].content.length,ki=at[Wt]+Qt,Di=ki+hi;if(ki>ri)break;if(xn<Di){var rr=kt[Wt];if(rr.inlineClassName){var Ti=vt>0?Le.wrappedTextIndentLength:0,Vi=Ti+Math.max(ki-xn,0),Qi=Ti+Math.min(Di-xn,ri);Vi!==Qi&&wn.push(new _a.d(Vi,Qi,rr.inlineClassName,rr.inlineClassNameAffectsLetterSpacing))}}if(Di<=ri)Qt+=hi,Wt++;else break}}}var yr;at?yr=v.tokenization.getLineTokens(m).withInserted(at.map(function(ha,Oa){return{offset:ha,text:kt[Oa].content,tokenMetadata:Hc.a.defaultTokenMetadata}})):yr=v.tokenization.getLineTokens(m);for(var Rr=u;Rr<u+g;Rr++){var Qr=S+Rr-u;if(!ie[Qr]){Ee[Qr]=null;continue}Ee[Qr]=this._getViewLineData(yr,Tt?Tt[Rr]:null,Rr)}}},{key:"_getViewLineData",value:function(v,m,u){this._assertVisible();var g=this._projectionData,S=u>0?g.wrappedTextIndentLength:0,ie=u>0?g.breakOffsets[u-1]:0,Ee=g.breakOffsets[u],Le=v.sliceAndInflate(ie,Ee,S),at=Le.getLineContent();u>0&&(at=mc(g.wrappedTextIndentLength)+at);var kt=this._projectionData.getMinOutputOffset(u)+1,Tt=at.length+1,Qt=u+1<this.getViewLineCount(),Wt=u===0?0:g.breakOffsetsVisibleColumn[u-1];return new _a.e(at,Qt,kt,Tt,Wt,Le,m)}},{key:"getModelColumnOfViewPosition",value:function(v,m){return this._assertVisible(),this._projectionData.translateToInputOffset(v,m-1)+1}},{key:"getViewPositionOfModelPosition",value:function(v,m){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;this._assertVisible();var g=this._projectionData.translateToOutputPosition(m-1,u);return g.toPosition(v)}},{key:"getViewLineNumberOfModelPosition",value:function(v,m){this._assertVisible();var u=this._projectionData.translateToOutputPosition(m-1);return v+u.outputLineIndex}},{key:"normalizePosition",value:function(v,m,u){var g=m.lineNumber-v,S=this._projectionData.normalizeOutputPosition(v,m.column-1,u),ie=S.toPosition(g);return ie}},{key:"getInjectedTextAt",value:function(v,m){return this._projectionData.getInjectedText(v,m-1)}},{key:"_assertVisible",value:function(){if(!this._isVisible)throw new Error("Not supported")}}]),Ke}(),$s=function(){function Ke(){Object(Y.a)(this,Ke)}return Object(E.a)(Ke,[{key:"isVisible",value:function(){return!0}},{key:"setVisible",value:function(v){return v?this:al.INSTANCE}},{key:"getProjectionData",value:function(){return null}},{key:"getViewLineCount",value:function(){return 1}},{key:"getViewLineContent",value:function(v,m,u){return v.getLineContent(m)}},{key:"getViewLineLength",value:function(v,m,u){return v.getLineLength(m)}},{key:"getViewLineMinColumn",value:function(v,m,u){return v.getLineMinColumn(m)}},{key:"getViewLineMaxColumn",value:function(v,m,u){return v.getLineMaxColumn(m)}},{key:"getViewLineData",value:function(v,m,u){var g=v.tokenization.getLineTokens(m),S=g.getLineContent();return new _a.e(S,!1,1,S.length+1,0,g.inflate(),null)}},{key:"getViewLinesData",value:function(v,m,u,g,S,ie,Ee){if(!ie[S]){Ee[S]=null;return}Ee[S]=this.getViewLineData(v,m,0)}},{key:"getModelColumnOfViewPosition",value:function(v,m){return m}},{key:"getViewPositionOfModelPosition",value:function(v,m){return new kn.a(v,m)}},{key:"getViewLineNumberOfModelPosition",value:function(v,m){return v}},{key:"normalizePosition",value:function(v,m,u){return m}},{key:"getInjectedTextAt",value:function(v,m){return null}}]),Ke}();$s.INSTANCE=new $s;var al=function(){function Ke(){Object(Y.a)(this,Ke)}return Object(E.a)(Ke,[{key:"isVisible",value:function(){return!1}},{key:"setVisible",value:function(v){return v?$s.INSTANCE:this}},{key:"getProjectionData",value:function(){return null}},{key:"getViewLineCount",value:function(){return 0}},{key:"getViewLineContent",value:function(v,m,u){throw new Error("Not supported")}},{key:"getViewLineLength",value:function(v,m,u){throw new Error("Not supported")}},{key:"getViewLineMinColumn",value:function(v,m,u){throw new Error("Not supported")}},{key:"getViewLineMaxColumn",value:function(v,m,u){throw new Error("Not supported")}},{key:"getViewLineData",value:function(v,m,u){throw new Error("Not supported")}},{key:"getViewLinesData",value:function(v,m,u,g,S,ie,Ee){throw new Error("Not supported")}},{key:"getModelColumnOfViewPosition",value:function(v,m){throw new Error("Not supported")}},{key:"getViewPositionOfModelPosition",value:function(v,m){throw new Error("Not supported")}},{key:"getViewLineNumberOfModelPosition",value:function(v,m){throw new Error("Not supported")}},{key:"normalizePosition",value:function(v,m,u){throw new Error("Not supported")}},{key:"getInjectedTextAt",value:function(v,m){throw new Error("Not supported")}}]),Ke}();al.INSTANCE=new al;var Mu=[""];function mc(Ke){if(Ke>=Mu.length)for(var be=1;be<=Ke;be++)Mu[be]=Os(be);return Mu[Ke]}function Os(Ke){return new Array(Ke+1).join(" ")}var Pl=a("T/V3"),Tu=function(){function Ke(be,v,m,u,g,S,ie,Ee,Le,at){Object(Y.a)(this,Ke),this._editorId=be,this.model=v,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=m,this._monospaceLineBreaksComputerFactory=u,this.fontInfo=g,this.tabSize=S,this.wrappingStrategy=ie,this.wrappingColumn=Ee,this.wrappingIndent=Le,this.wordBreak=at,this._constructLines(!0,null)}return Object(E.a)(Ke,[{key:"dispose",value:function(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}},{key:"createCoordinatesConverter",value:function(){return new Xh(this)}},{key:"_constructLines",value:function(v,m){var u=this;this.modelLineProjections=[],v&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));for(var g=this.model.getLinesContent(),S=this.model.getInjectedTextDecorations(this._editorId),ie=g.length,Ee=this.createLineBreaksComputer(),Le=new T.a(_s.b.fromDecorations(S)),at=function(Vi){var Qi=Le.takeWhile(function(yr){return yr.lineNumber===Vi+1});Ee.addRequest(g[Vi],Qi,m?m[Vi]:null)},kt=0;kt<ie;kt++)at(kt);for(var Tt=Ee.finalize(),Qt=[],Wt=this.hiddenAreasDecorationIds.map(function(Ti){return u.model.getDecorationRange(Ti)}).sort(Pn.a.compareRangesUsingStarts),vt=1,wn=0,xn=-1,ri=xn+1<Wt.length?wn+1:ie+2,hi=0;hi<ie;hi++){var ki=hi+1;ki===ri&&(xn++,vt=Wt[xn].startLineNumber,wn=Wt[xn].endLineNumber,ri=xn+1<Wt.length?wn+1:ie+2);var Di=ki>=vt&&ki<=wn,rr=Il(Tt[hi],!Di);Qt[hi]=rr.getViewLineCount(),this.modelLineProjections[hi]=rr}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new Pl.a(Qt)}},{key:"getHiddenAreas",value:function(){var v=this;return this.hiddenAreasDecorationIds.map(function(m){return v.model.getDecorationRange(m)})}},{key:"setHiddenAreas",value:function(v){var m=this,u=v.map(function(ki){return m.model.validateRange(ki)}),g=Iu(u),S=this.hiddenAreasDecorationIds.map(function(ki){return m.model.getDecorationRange(ki)}).sort(Pn.a.compareRangesUsingStarts);if(g.length===S.length){for(var ie=!1,Ee=0;Ee<g.length;Ee++)if(!g[Ee].equalsRange(S[Ee])){ie=!0;break}if(!ie)return!1}var Le=g.map(function(ki){return{range:ki,options:zu.b.EMPTY}});this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,Le);for(var at=g,kt=1,Tt=0,Qt=-1,Wt=Qt+1<at.length?Tt+1:this.modelLineProjections.length+2,vt=!1,wn=0;wn<this.modelLineProjections.length;wn++){var xn=wn+1;xn===Wt&&(Qt++,kt=at[Qt].startLineNumber,Tt=at[Qt].endLineNumber,Wt=Qt+1<at.length?Tt+1:this.modelLineProjections.length+2);var ri=!1;if(xn>=kt&&xn<=Tt?this.modelLineProjections[wn].isVisible()&&(this.modelLineProjections[wn]=this.modelLineProjections[wn].setVisible(!1),ri=!0):(vt=!0,this.modelLineProjections[wn].isVisible()||(this.modelLineProjections[wn]=this.modelLineProjections[wn].setVisible(!0),ri=!0)),ri){var hi=this.modelLineProjections[wn].getViewLineCount();this.projectedModelLineLineCounts.setValue(wn,hi)}}return vt||this.setHiddenAreas([]),!0}},{key:"modelPositionIsVisible",value:function(v,m){return v<1||v>this.modelLineProjections.length?!1:this.modelLineProjections[v-1].isVisible()}},{key:"getModelLineViewLineCount",value:function(v){return v<1||v>this.modelLineProjections.length?1:this.modelLineProjections[v-1].getViewLineCount()}},{key:"setTabSize",value:function(v){return this.tabSize===v?!1:(this.tabSize=v,this._constructLines(!1,null),!0)}},{key:"setWrappingSettings",value:function(v,m,u,g,S){var ie=this.fontInfo.equals(v),Ee=this.wrappingStrategy===m,Le=this.wrappingColumn===u,at=this.wrappingIndent===g,kt=this.wordBreak===S;if(ie&&Ee&&Le&&at&&kt)return!1;var Tt=ie&&Ee&&!Le&&at&&kt;this.fontInfo=v,this.wrappingStrategy=m,this.wrappingColumn=u,this.wrappingIndent=g,this.wordBreak=S;var Qt=null;if(Tt){Qt=[];for(var Wt=0,vt=this.modelLineProjections.length;Wt<vt;Wt++)Qt[Wt]=this.modelLineProjections[Wt].getProjectionData()}return this._constructLines(!1,Qt),!0}},{key:"createLineBreaksComputer",value:function(){var v=this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory;return v.createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}},{key:"onModelFlushed",value:function(){this._constructLines(!0,null)}},{key:"onModelLinesDeleted",value:function(v,m,u){if(!v||v<=this._validModelVersionId)return null;var g=m===1?1:this.projectedModelLineLineCounts.getPrefixSum(m-1)+1,S=this.projectedModelLineLineCounts.getPrefixSum(u);return this.modelLineProjections.splice(m-1,u-m+1),this.projectedModelLineLineCounts.removeValues(m-1,u-m+1),new Gs(g,S)}},{key:"onModelLinesInserted",value:function(v,m,u,g){if(!v||v<=this._validModelVersionId)return null;for(var S=m>2&&!this.modelLineProjections[m-2].isVisible(),ie=m===1?1:this.projectedModelLineLineCounts.getPrefixSum(m-1)+1,Ee=0,Le=[],at=[],kt=0,Tt=g.length;kt<Tt;kt++){var Qt=Il(g[kt],!S);Le.push(Qt);var Wt=Qt.getViewLineCount();Ee+=Wt,at[kt]=Wt}return this.modelLineProjections=this.modelLineProjections.slice(0,m-1).concat(Le).concat(this.modelLineProjections.slice(m-1)),this.projectedModelLineLineCounts.insertValues(m-1,at),new Vs(ie,ie+Ee-1)}},{key:"onModelLineChanged",value:function(v,m,u){if(v!==null&&v<=this._validModelVersionId)return[!1,null,null,null];var g=m-1,S=this.modelLineProjections[g].getViewLineCount(),ie=this.modelLineProjections[g].isVisible(),Ee=Il(u,ie);this.modelLineProjections[g]=Ee;var Le=this.modelLineProjections[g].getViewLineCount(),at=!1,kt=0,Tt=-1,Qt=0,Wt=-1,vt=0,wn=-1;S>Le?(kt=this.projectedModelLineLineCounts.getPrefixSum(m-1)+1,Tt=kt+Le-1,vt=Tt+1,wn=vt+(S-Le)-1,at=!0):S<Le?(kt=this.projectedModelLineLineCounts.getPrefixSum(m-1)+1,Tt=kt+S-1,Qt=Tt+1,Wt=Qt+(Le-S)-1,at=!0):(kt=this.projectedModelLineLineCounts.getPrefixSum(m-1)+1,Tt=kt+Le-1),this.projectedModelLineLineCounts.setValue(g,Le);var xn=kt<=Tt?new cs(kt,Tt-kt+1):null,ri=Qt<=Wt?new Vs(Qt,Wt):null,hi=vt<=wn?new Gs(vt,wn):null;return[at,xn,ri,hi]}},{key:"acceptVersionId",value:function(v){this._validModelVersionId=v,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}},{key:"getViewLineCount",value:function(){return this.projectedModelLineLineCounts.getTotalSum()}},{key:"_toValidViewLineNumber",value:function(v){if(v<1)return 1;var m=this.getViewLineCount();return v>m?m:v|0}},{key:"getActiveIndentGuide",value:function(v,m,u){v=this._toValidViewLineNumber(v),m=this._toValidViewLineNumber(m),u=this._toValidViewLineNumber(u);var g=this.convertViewPositionToModelPosition(v,this.getViewLineMinColumn(v)),S=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),ie=this.convertViewPositionToModelPosition(u,this.getViewLineMinColumn(u)),Ee=this.model.guides.getActiveIndentGuide(g.lineNumber,S.lineNumber,ie.lineNumber),Le=this.convertModelPositionToViewPosition(Ee.startLineNumber,1),at=this.convertModelPositionToViewPosition(Ee.endLineNumber,this.model.getLineMaxColumn(Ee.endLineNumber));return{startLineNumber:Le.lineNumber,endLineNumber:at.lineNumber,indent:Ee.indent}}},{key:"getViewLineInfo",value:function(v){v=this._toValidViewLineNumber(v);var m=this.projectedModelLineLineCounts.getIndexOf(v-1),u=m.index,g=m.remainder;return new Al(u+1,g)}},{key:"getMinColumnOfViewLine",value:function(v){return this.modelLineProjections[v.modelLineNumber-1].getViewLineMinColumn(this.model,v.modelLineNumber,v.modelLineWrappedLineIdx)}},{key:"getMaxColumnOfViewLine",value:function(v){return this.modelLineProjections[v.modelLineNumber-1].getViewLineMaxColumn(this.model,v.modelLineNumber,v.modelLineWrappedLineIdx)}},{key:"getModelStartPositionOfViewLine",value:function(v){var m=this.modelLineProjections[v.modelLineNumber-1],u=m.getViewLineMinColumn(this.model,v.modelLineNumber,v.modelLineWrappedLineIdx),g=m.getModelColumnOfViewPosition(v.modelLineWrappedLineIdx,u);return new kn.a(v.modelLineNumber,g)}},{key:"getModelEndPositionOfViewLine",value:function(v){var m=this.modelLineProjections[v.modelLineNumber-1],u=m.getViewLineMaxColumn(this.model,v.modelLineNumber,v.modelLineWrappedLineIdx),g=m.getModelColumnOfViewPosition(v.modelLineWrappedLineIdx,u);return new kn.a(v.modelLineNumber,g)}},{key:"getViewLineInfosGroupedByModelRanges",value:function(v,m){for(var u=this.getViewLineInfo(v),g=this.getViewLineInfo(m),S=new Array,ie=this.getModelStartPositionOfViewLine(u),Ee=new Array,Le=u.modelLineNumber;Le<=g.modelLineNumber;Le++){var at=this.modelLineProjections[Le-1];if(at.isVisible())for(var kt=Le===u.modelLineNumber?u.modelLineWrappedLineIdx:0,Tt=Le===g.modelLineNumber?g.modelLineWrappedLineIdx+1:at.getViewLineCount(),Qt=kt;Qt<Tt;Qt++)Ee.push(new Al(Le,Qt));if(!at.isVisible()&&ie){var Wt=new kn.a(Le-1,this.model.getLineMaxColumn(Le-1)+1),vt=Pn.a.fromPositions(ie,Wt);S.push(new Uc(vt,Ee)),Ee=[],ie=null}else at.isVisible()&&!ie&&(ie=new kn.a(Le,1))}if(ie){var wn=Pn.a.fromPositions(ie,this.getModelEndPositionOfViewLine(g));S.push(new Uc(wn,Ee))}return S}},{key:"getViewLinesBracketGuides",value:function(v,m,u,g){var S=this,ie=u?this.convertViewPositionToModelPosition(u.lineNumber,u.column):null,Ee=[],Le=Object(w.a)(this.getViewLineInfosGroupedByModelRanges(v,m)),at;try{for(Le.s();!(at=Le.n()).done;){var kt=at.value,Tt=kt.modelRange.startLineNumber,Qt=this.model.guides.getLinesBracketGuides(Tt,kt.modelRange.endLineNumber,ie,g),Wt=Object(w.a)(kt.viewLines),vt;try{var wn=function(){var ri=vt.value,hi=Qt[ri.modelLineNumber-Tt],ki=hi.map(function(Di){if(Di.forWrappedLinesAfterColumn!==-1){var rr=S.modelLineProjections[ri.modelLineNumber-1].getViewPositionOfModelPosition(0,Di.forWrappedLinesAfterColumn);if(rr.lineNumber>=ri.modelLineWrappedLineIdx)return}if(Di.forWrappedLinesBeforeOrAtColumn!==-1){var Ti=S.modelLineProjections[ri.modelLineNumber-1].getViewPositionOfModelPosition(0,Di.forWrappedLinesBeforeOrAtColumn);if(Ti.lineNumber<ri.modelLineWrappedLineIdx)return}if(!Di.horizontalLine)return Di;var Vi=-1;if(Di.column!==-1){var Qi=S.modelLineProjections[ri.modelLineNumber-1].getViewPositionOfModelPosition(0,Di.column);if(Qi.lineNumber===ri.modelLineWrappedLineIdx)Vi=Qi.column;else if(Qi.lineNumber<ri.modelLineWrappedLineIdx)Vi=S.getMinColumnOfViewLine(ri);else if(Qi.lineNumber>ri.modelLineWrappedLineIdx)return}var yr=S.convertModelPositionToViewPosition(ri.modelLineNumber,Di.horizontalLine.endColumn),Rr=S.modelLineProjections[ri.modelLineNumber-1].getViewPositionOfModelPosition(0,Di.horizontalLine.endColumn);return Rr.lineNumber===ri.modelLineWrappedLineIdx?new Wn.b(Di.visibleColumn,Vi,Di.className,new Wn.c(Di.horizontalLine.top,yr.column),-1,-1):Rr.lineNumber<ri.modelLineWrappedLineIdx||Di.visibleColumn!==-1?void 0:new Wn.b(Di.visibleColumn,Vi,Di.className,new Wn.c(Di.horizontalLine.top,S.getMaxColumnOfViewLine(ri)),-1,-1)});Ee.push(ki.filter(function(Di){return!!Di}))};for(Wt.s();!(vt=Wt.n()).done;)wn()}catch(xn){Wt.e(xn)}finally{Wt.f()}}}catch(xn){Le.e(xn)}finally{Le.f()}return Ee}},{key:"getViewLinesIndentGuides",value:function(v,m){v=this._toValidViewLineNumber(v),m=this._toValidViewLineNumber(m);for(var u=this.convertViewPositionToModelPosition(v,this.getViewLineMinColumn(v)),g=this.convertViewPositionToModelPosition(m,this.getViewLineMaxColumn(m)),S=[],ie=[],Ee=[],Le=u.lineNumber-1,at=g.lineNumber-1,kt=null,Tt=Le;Tt<=at;Tt++){var Qt=this.modelLineProjections[Tt];if(Qt.isVisible()){var Wt=Qt.getViewLineNumberOfModelPosition(0,Tt===Le?u.column:1),vt=Qt.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Tt+1)),wn=vt-Wt+1,xn=0;wn>1&&Qt.getViewLineMinColumn(this.model,Tt+1,vt)===1&&(xn=Wt===0?1:2),ie.push(wn),Ee.push(xn),kt===null&&(kt=new kn.a(Tt+1,0))}else kt!==null&&(S=S.concat(this.model.guides.getLinesIndentGuides(kt.lineNumber,Tt)),kt=null)}kt!==null&&(S=S.concat(this.model.guides.getLinesIndentGuides(kt.lineNumber,g.lineNumber)),kt=null);for(var ri=m-v+1,hi=new Array(ri),ki=0,Di=0,rr=S.length;Di<rr;Di++){var Ti=S[Di],Vi=Math.min(ri-ki,ie[Di]),Qi=Ee[Di],yr=void 0;Qi===2?yr=0:Qi===1?yr=1:yr=Vi;for(var Rr=0;Rr<Vi;Rr++)Rr===yr&&(Ti=0),hi[ki++]=Ti}return hi}},{key:"getViewLineContent",value:function(v){var m=this.getViewLineInfo(v);return this.modelLineProjections[m.modelLineNumber-1].getViewLineContent(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx)}},{key:"getViewLineLength",value:function(v){var m=this.getViewLineInfo(v);return this.modelLineProjections[m.modelLineNumber-1].getViewLineLength(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx)}},{key:"getViewLineMinColumn",value:function(v){var m=this.getViewLineInfo(v);return this.modelLineProjections[m.modelLineNumber-1].getViewLineMinColumn(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx)}},{key:"getViewLineMaxColumn",value:function(v){var m=this.getViewLineInfo(v);return this.modelLineProjections[m.modelLineNumber-1].getViewLineMaxColumn(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx)}},{key:"getViewLineData",value:function(v){var m=this.getViewLineInfo(v);return this.modelLineProjections[m.modelLineNumber-1].getViewLineData(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx)}},{key:"getViewLinesData",value:function(v,m,u){v=this._toValidViewLineNumber(v),m=this._toValidViewLineNumber(m);for(var g=this.projectedModelLineLineCounts.getIndexOf(v-1),S=v,ie=g.index,Ee=g.remainder,Le=[],at=ie,kt=this.model.getLineCount();at<kt;at++){var Tt=this.modelLineProjections[at];if(!!Tt.isVisible()){var Qt=at===ie?Ee:0,Wt=Tt.getViewLineCount()-Qt,vt=!1;if(S+Wt>m&&(vt=!0,Wt=m-S+1),Tt.getViewLinesData(this.model,at+1,Qt,Wt,S-v,u,Le),S+=Wt,vt)break}}return Le}},{key:"validateViewPosition",value:function(v,m,u){v=this._toValidViewLineNumber(v);var g=this.projectedModelLineLineCounts.getIndexOf(v-1),S=g.index,ie=g.remainder,Ee=this.modelLineProjections[S],Le=Ee.getViewLineMinColumn(this.model,S+1,ie),at=Ee.getViewLineMaxColumn(this.model,S+1,ie);m<Le&&(m=Le),m>at&&(m=at);var kt=Ee.getModelColumnOfViewPosition(ie,m),Tt=this.model.validatePosition(new kn.a(S+1,kt));return Tt.equals(u)?new kn.a(v,m):this.convertModelPositionToViewPosition(u.lineNumber,u.column)}},{key:"validateViewRange",value:function(v,m){var u=this.validateViewPosition(v.startLineNumber,v.startColumn,m.getStartPosition()),g=this.validateViewPosition(v.endLineNumber,v.endColumn,m.getEndPosition());return new Pn.a(u.lineNumber,u.column,g.lineNumber,g.column)}},{key:"convertViewPositionToModelPosition",value:function(v,m){var u=this.getViewLineInfo(v),g=this.modelLineProjections[u.modelLineNumber-1].getModelColumnOfViewPosition(u.modelLineWrappedLineIdx,m);return this.model.validatePosition(new kn.a(u.modelLineNumber,g))}},{key:"convertViewRangeToModelRange",value:function(v){var m=this.convertViewPositionToModelPosition(v.startLineNumber,v.startColumn),u=this.convertViewPositionToModelPosition(v.endLineNumber,v.endColumn);return new Pn.a(m.lineNumber,m.column,u.lineNumber,u.column)}},{key:"convertModelPositionToViewPosition",value:function(v,m){for(var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,g=this.model.validatePosition(new kn.a(v,m)),S=g.lineNumber,ie=g.column,Ee=S-1,Le=!1;Ee>0&&!this.modelLineProjections[Ee].isVisible();)Ee--,Le=!0;if(Ee===0&&!this.modelLineProjections[Ee].isVisible())return new kn.a(1,1);var at=1+this.projectedModelLineLineCounts.getPrefixSum(Ee),kt;return Le?kt=this.modelLineProjections[Ee].getViewPositionOfModelPosition(at,this.model.getLineMaxColumn(Ee+1),u):kt=this.modelLineProjections[S-1].getViewPositionOfModelPosition(at,ie,u),kt}},{key:"convertModelRangeToViewRange",value:function(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(v.isEmpty()){var u=this.convertModelPositionToViewPosition(v.startLineNumber,v.startColumn,m);return Pn.a.fromPositions(u)}else{var g=this.convertModelPositionToViewPosition(v.startLineNumber,v.startColumn,1),S=this.convertModelPositionToViewPosition(v.endLineNumber,v.endColumn,0);return new Pn.a(g.lineNumber,g.column,S.lineNumber,S.column)}}},{key:"getViewLineNumberOfModelPosition",value:function(v,m){var u=v-1;if(this.modelLineProjections[u].isVisible()){var g=1+this.projectedModelLineLineCounts.getPrefixSum(u);return this.modelLineProjections[u].getViewLineNumberOfModelPosition(g,m)}for(;u>0&&!this.modelLineProjections[u].isVisible();)u--;if(u===0&&!this.modelLineProjections[u].isVisible())return 1;var S=1+this.projectedModelLineLineCounts.getPrefixSum(u);return this.modelLineProjections[u].getViewLineNumberOfModelPosition(S,this.model.getLineMaxColumn(u+1))}},{key:"getDecorationsInRange",value:function(v,m,u,g,S){var ie=this.convertViewPositionToModelPosition(v.startLineNumber,v.startColumn),Ee=this.convertViewPositionToModelPosition(v.endLineNumber,v.endColumn);if(Ee.lineNumber-ie.lineNumber<=v.endLineNumber-v.startLineNumber)return this.model.getDecorationsInRange(new Pn.a(ie.lineNumber,1,Ee.lineNumber,Ee.column),m,u,g,S);for(var Le=[],at=ie.lineNumber-1,kt=Ee.lineNumber-1,Tt=null,Qt=at;Qt<=kt;Qt++){var Wt=this.modelLineProjections[Qt];if(Wt.isVisible())Tt===null&&(Tt=new kn.a(Qt+1,Qt===at?ie.column:1));else if(Tt!==null){var vt=this.model.getLineMaxColumn(Qt);Le=Le.concat(this.model.getDecorationsInRange(new Pn.a(Tt.lineNumber,Tt.column,Qt,vt),m,u,g)),Tt=null}}Tt!==null&&(Le=Le.concat(this.model.getDecorationsInRange(new Pn.a(Tt.lineNumber,Tt.column,Ee.lineNumber,Ee.column),m,u,g)),Tt=null),Le.sort(function(Ti,Vi){var Qi=Pn.a.compareRangesUsingStarts(Ti.range,Vi.range);return Qi===0?Ti.id<Vi.id?-1:Ti.id>Vi.id?1:0:Qi});var wn=[],xn=0,ri=null,hi=Object(w.a)(Le),ki;try{for(hi.s();!(ki=hi.n()).done;){var Di=ki.value,rr=Di.id;ri!==rr&&(ri=rr,wn[xn++]=Di)}}catch(Ti){hi.e(Ti)}finally{hi.f()}return wn}},{key:"getInjectedTextAt",value:function(v){var m=this.getViewLineInfo(v.lineNumber);return this.modelLineProjections[m.modelLineNumber-1].getInjectedTextAt(m.modelLineWrappedLineIdx,v.column)}},{key:"normalizePosition",value:function(v,m){var u=this.getViewLineInfo(v.lineNumber);return this.modelLineProjections[u.modelLineNumber-1].normalizePosition(u.modelLineWrappedLineIdx,v,m)}},{key:"getLineIndentColumn",value:function(v){var m=this.getViewLineInfo(v);return m.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(m.modelLineNumber):0}}]),Ke}();function Iu(Ke){if(Ke.length===0)return[];var be=Ke.slice();be.sort(Pn.a.compareRangesUsingStarts);for(var v=[],m=be[0].startLineNumber,u=be[0].endLineNumber,g=1,S=be.length;g<S;g++){var ie=be[g];ie.startLineNumber>u+1?(v.push(new Pn.a(m,1,u,1)),m=ie.startLineNumber,u=ie.endLineNumber):ie.endLineNumber>u&&(u=ie.endLineNumber)}return v.push(new Pn.a(m,1,u,1)),v}var Al=Object(E.a)(function Ke(be,v){Object(Y.a)(this,Ke),this.modelLineNumber=be,this.modelLineWrappedLineIdx=v}),Uc=Object(E.a)(function Ke(be,v){Object(Y.a)(this,Ke),this.modelRange=be,this.viewLines=v}),Xh=function(){function Ke(be){Object(Y.a)(this,Ke),this._lines=be}return Object(E.a)(Ke,[{key:"convertViewPositionToModelPosition",value:function(v){return this._lines.convertViewPositionToModelPosition(v.lineNumber,v.column)}},{key:"convertViewRangeToModelRange",value:function(v){return this._lines.convertViewRangeToModelRange(v)}},{key:"validateViewPosition",value:function(v,m){return this._lines.validateViewPosition(v.lineNumber,v.column,m)}},{key:"validateViewRange",value:function(v,m){return this._lines.validateViewRange(v,m)}},{key:"convertModelPositionToViewPosition",value:function(v,m){return this._lines.convertModelPositionToViewPosition(v.lineNumber,v.column,m)}},{key:"convertModelRangeToViewRange",value:function(v,m){return this._lines.convertModelRangeToViewRange(v,m)}},{key:"modelPositionIsVisible",value:function(v){return this._lines.modelPositionIsVisible(v.lineNumber,v.column)}},{key:"getModelLineViewLineCount",value:function(v){return this._lines.getModelLineViewLineCount(v)}},{key:"getViewLineNumberOfModelPosition",value:function(v,m){return this._lines.getViewLineNumberOfModelPosition(v,m)}}]),Ke}(),pd=function(){function Ke(be){Object(Y.a)(this,Ke),this.model=be}return Object(E.a)(Ke,[{key:"dispose",value:function(){}},{key:"createCoordinatesConverter",value:function(){return new pl(this)}},{key:"getHiddenAreas",value:function(){return[]}},{key:"setHiddenAreas",value:function(v){return!1}},{key:"setTabSize",value:function(v){return!1}},{key:"setWrappingSettings",value:function(v,m,u,g){return!1}},{key:"createLineBreaksComputer",value:function(){var v=[];return{addRequest:function(u,g,S){v.push(null)},finalize:function(){return v}}}},{key:"onModelFlushed",value:function(){}},{key:"onModelLinesDeleted",value:function(v,m,u){return new Gs(m,u)}},{key:"onModelLinesInserted",value:function(v,m,u,g){return new Vs(m,u)}},{key:"onModelLineChanged",value:function(v,m,u){return[!1,new cs(m,1),null,null]}},{key:"acceptVersionId",value:function(v){}},{key:"getViewLineCount",value:function(){return this.model.getLineCount()}},{key:"getActiveIndentGuide",value:function(v,m,u){return{startLineNumber:v,endLineNumber:v,indent:0}}},{key:"getViewLinesBracketGuides",value:function(v,m,u){return new Array(m-v+1).fill([])}},{key:"getViewLinesIndentGuides",value:function(v,m){for(var u=m-v+1,g=new Array(u),S=0;S<u;S++)g[S]=0;return g}},{key:"getViewLineContent",value:function(v){return this.model.getLineContent(v)}},{key:"getViewLineLength",value:function(v){return this.model.getLineLength(v)}},{key:"getViewLineMinColumn",value:function(v){return this.model.getLineMinColumn(v)}},{key:"getViewLineMaxColumn",value:function(v){return this.model.getLineMaxColumn(v)}},{key:"getViewLineData",value:function(v){var m=this.model.tokenization.getLineTokens(v),u=m.getLineContent();return new _a.e(u,!1,1,u.length+1,0,m.inflate(),null)}},{key:"getViewLinesData",value:function(v,m,u){var g=this.model.getLineCount();v=Math.min(Math.max(1,v),g),m=Math.min(Math.max(1,m),g);for(var S=[],ie=v;ie<=m;ie++){var Ee=ie-v;S[Ee]=u[Ee]?this.getViewLineData(ie):null}return S}},{key:"getDecorationsInRange",value:function(v,m,u,g,S){return this.model.getDecorationsInRange(v,m,u,g,S)}},{key:"normalizePosition",value:function(v,m){return this.model.normalizePosition(v,m)}},{key:"getLineIndentColumn",value:function(v){return this.model.getLineIndentColumn(v)}},{key:"getInjectedTextAt",value:function(v){return null}}]),Ke}(),pl=function(){function Ke(be){Object(Y.a)(this,Ke),this._lines=be}return Object(E.a)(Ke,[{key:"_validPosition",value:function(v){return this._lines.model.validatePosition(v)}},{key:"_validRange",value:function(v){return this._lines.model.validateRange(v)}},{key:"convertViewPositionToModelPosition",value:function(v){return this._validPosition(v)}},{key:"convertViewRangeToModelRange",value:function(v){return this._validRange(v)}},{key:"validateViewPosition",value:function(v,m){return this._validPosition(m)}},{key:"validateViewRange",value:function(v,m){return this._validRange(m)}},{key:"convertModelPositionToViewPosition",value:function(v){return this._validPosition(v)}},{key:"convertModelRangeToViewRange",value:function(v){return this._validRange(v)}},{key:"modelPositionIsVisible",value:function(v){var m=this._lines.model.getLineCount();return!(v.lineNumber<1||v.lineNumber>m)}},{key:"getModelLineViewLineCount",value:function(v){return 1}},{key:"getViewLineNumberOfModelPosition",value:function(v,m){return v}}]),Ke}(),zc=!0,Yl=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g,S,ie,Ee,Le,at,kt){var Tt;if(Object(Y.a)(this,v),Tt=be.call(this),Tt.languageConfigurationService=Le,Tt._themeService=at,Tt._attachedView=kt,Tt.hiddenAreasModel=new Qs,Tt.previousHiddenAreas=[],Tt._editorId=m,Tt._configuration=u,Tt.model=g,Tt._eventDispatcher=new qs,Tt.onEvent=Tt._eventDispatcher.onEvent,Tt.cursorConfig=new oo.a(Tt.model.getLanguageId(),Tt.model.getOptions(),Tt._configuration,Tt.languageConfigurationService),Tt._updateConfigurationViewLineCount=Tt._register(new Nr.g(function(){return Tt._updateConfigurationViewLineCountNow()},0)),Tt._hasFocus=!1,Tt._viewportStart=Ri.create(Tt.model),zc&&Tt.model.isTooLargeForTokenization())Tt._lines=new pd(Tt.model);else{var Qt=Tt._configuration.options,Wt=Qt.get(48),vt=Qt.get(134),wn=Qt.get(141),xn=Qt.get(133),ri=Qt.get(125);Tt._lines=new Tu(Tt._editorId,Tt.model,S,ie,Wt,Tt.model.getOptions().tabSize,vt,wn.wrappingColumn,xn,ri)}return Tt.coordinatesConverter=Tt._lines.createCoordinatesConverter(),Tt._cursor=Tt._register(new Cs(g,Object(ve.a)(Tt),Tt.coordinatesConverter,Tt.cursorConfig)),Tt.viewLayout=Tt._register(new Ql(Tt._configuration,Tt.getLineCount(),Ee)),Tt._register(Tt.viewLayout.onDidScroll(function(hi){hi.scrollTopChanged&&Tt._handleVisibleLinesChanged(),hi.scrollTopChanged&&Tt._viewportStart.invalidate(),Tt._eventDispatcher.emitSingleViewEvent(new ps(hi)),Tt._eventDispatcher.emitOutgoingEvent(new Gl(hi.oldScrollWidth,hi.oldScrollLeft,hi.oldScrollHeight,hi.oldScrollTop,hi.scrollWidth,hi.scrollLeft,hi.scrollHeight,hi.scrollTop))})),Tt._register(Tt.viewLayout.onDidContentSizeChange(function(hi){Tt._eventDispatcher.emitOutgoingEvent(hi)})),Tt._decorations=new ml.a(Tt._editorId,Tt.model,Tt._configuration,Tt._lines,Tt.coordinatesConverter),Tt._registerModelEvents(),Tt._register(Tt._configuration.onDidChangeFast(function(hi){try{var ki=Tt._eventDispatcher.beginEmitViewEvents();Tt._onConfigurationChanged(ki,hi)}finally{Tt._eventDispatcher.endEmitViewEvents()}})),Tt._register(qo.getInstance().onDidChange(function(){Tt._eventDispatcher.emitSingleViewEvent(new Us)})),Tt._register(Tt._themeService.onDidColorThemeChange(function(hi){Tt._invalidateDecorationsColorCache(),Tt._eventDispatcher.emitSingleViewEvent(new fc(hi))})),Tt._updateConfigurationViewLineCountNow(),Tt}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}},{key:"createLineBreaksComputer",value:function(){return this._lines.createLineBreaksComputer()}},{key:"addViewEventHandler",value:function(u){this._eventDispatcher.addViewEventHandler(u)}},{key:"removeViewEventHandler",value:function(u){this._eventDispatcher.removeViewEventHandler(u)}},{key:"_updateConfigurationViewLineCountNow",value:function(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}},{key:"getModelVisibleRanges",value:function(){var u=this.viewLayout.getLinesViewportData(),g=new Pn.a(u.startLineNumber,this.getLineMinColumn(u.startLineNumber),u.endLineNumber,this.getLineMaxColumn(u.endLineNumber)),S=this._toModelVisibleRanges(g);return S}},{key:"visibleLinesStabilized",value:function(){var u=this.getModelVisibleRanges();this._attachedView.setVisibleLines(u,!0)}},{key:"_handleVisibleLinesChanged",value:function(){var u=this.getModelVisibleRanges();this._attachedView.setVisibleLines(u,!1)}},{key:"setHasFocus",value:function(u){this._hasFocus=u,this._cursor.setHasFocus(u),this._eventDispatcher.emitSingleViewEvent(new Co(u)),this._eventDispatcher.emitOutgoingEvent(new Ns(!u,u))}},{key:"onCompositionStart",value:function(){this._eventDispatcher.emitSingleViewEvent(new Es)}},{key:"onCompositionEnd",value:function(){this._eventDispatcher.emitSingleViewEvent(new ca)}},{key:"_captureStableViewport",value:function(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){var u=new kn.a(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),g=this.coordinatesConverter.convertViewPositionToModelPosition(u);return new Zl(g,this._viewportStart.startLineDelta)}return new Zl(null,0)}},{key:"_onConfigurationChanged",value:function(u,g){var S=this._captureStableViewport(),ie=this._configuration.options,Ee=ie.get(48),Le=ie.get(134),at=ie.get(141),kt=ie.get(133),Tt=ie.get(125);this._lines.setWrappingSettings(Ee,Le,at.wrappingColumn,kt,Tt)&&(u.emitViewEvent(new Wa),u.emitViewEvent(new To),u.emitViewEvent(new oa(null)),this._cursor.onLineMappingChanged(u),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),g.hasChanged(88)&&(this._decorations.reset(),u.emitViewEvent(new oa(null))),u.emitViewEvent(new Fa(g)),this.viewLayout.onConfigurationChanged(g),S.recoverViewportStart(this.coordinatesConverter,this.viewLayout),oo.a.shouldRecreate(g)&&(this.cursorConfig=new oo.a(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}},{key:"_registerModelEvents",value:function(){var u=this;this._register(this.model.onDidChangeContentOrInjectedText(function(g){try{var S=u._eventDispatcher.beginEmitViewEvents(),ie=!1,Ee=!1,Le=g instanceof _s.a?g.rawContentChangedEvent.changes:g.changes,at=g instanceof _s.a?g.rawContentChangedEvent.versionId:null,kt=u._lines.createLineBreaksComputer(),Tt=Object(w.a)(Le),Qt;try{for(Tt.s();!(Qt=Tt.n()).done;){var Wt=Qt.value;switch(Wt.changeType){case 4:{for(var vt=0;vt<Wt.detail.length;vt++){var wn=Wt.detail[vt],xn=Wt.injectedTexts[vt];xn&&(xn=xn.filter(function(fo){return!fo.ownerId||fo.ownerId===u._editorId})),kt.addRequest(wn,xn,null)}break}case 2:{var ri=null;Wt.injectedText&&(ri=Wt.injectedText.filter(function(fo){return!fo.ownerId||fo.ownerId===u._editorId})),kt.addRequest(Wt.detail,ri,null);break}}}}catch(fo){Tt.e(fo)}finally{Tt.f()}var hi=kt.finalize(),ki=new T.a(hi),Di=Object(w.a)(Le),rr;try{for(Di.s();!(rr=Di.n()).done;){var Ti=rr.value;switch(Ti.changeType){case 1:{u._lines.onModelFlushed(),S.emitViewEvent(new Wa),u._decorations.reset(),u.viewLayout.onFlushed(u.getLineCount()),ie=!0;break}case 3:{var Vi=u._lines.onModelLinesDeleted(at,Ti.fromLineNumber,Ti.toLineNumber);Vi!==null&&(S.emitViewEvent(Vi),u.viewLayout.onLinesDeleted(Vi.fromLineNumber,Vi.toLineNumber)),ie=!0;break}case 4:{var Qi=ki.takeCount(Ti.detail.length),yr=u._lines.onModelLinesInserted(at,Ti.fromLineNumber,Ti.toLineNumber,Qi);yr!==null&&(S.emitViewEvent(yr),u.viewLayout.onLinesInserted(yr.fromLineNumber,yr.toLineNumber)),ie=!0;break}case 2:{var Rr=ki.dequeue(),Qr=u._lines.onModelLineChanged(at,Ti.lineNumber,Rr),ha=Object(ce.a)(Qr,4),Oa=ha[0],qr=ha[1],ka=ha[2],Ya=ha[3];Ee=Oa,qr&&S.emitViewEvent(qr),ka&&(S.emitViewEvent(ka),u.viewLayout.onLinesInserted(ka.fromLineNumber,ka.toLineNumber)),Ya&&(S.emitViewEvent(Ya),u.viewLayout.onLinesDeleted(Ya.fromLineNumber,Ya.toLineNumber));break}case 5:break}}}catch(fo){Di.e(fo)}finally{Di.f()}at!==null&&u._lines.acceptVersionId(at),u.viewLayout.onHeightMaybeChanged(),!ie&&Ee&&(S.emitViewEvent(new To),S.emitViewEvent(new oa(null)),u._cursor.onLineMappingChanged(S),u._decorations.onLineMappingChanged())}finally{u._eventDispatcher.endEmitViewEvents()}var Bo=u._viewportStart.isValid;if(u._viewportStart.invalidate(),u._configuration.setModelLineCount(u.model.getLineCount()),u._updateConfigurationViewLineCountNow(),!u._hasFocus&&u.model.getAttachedEditorCount()>=2&&Bo){var Oo=u.model._getTrackedRange(u._viewportStart.modelTrackedRange);if(Oo){var ts=u.coordinatesConverter.convertModelPositionToViewPosition(Oo.getStartPosition()),Aa=u.viewLayout.getVerticalOffsetForLineNumber(ts.lineNumber);u.viewLayout.setScrollPosition({scrollTop:Aa+u._viewportStart.startLineDelta},1)}}try{var xa=u._eventDispatcher.beginEmitViewEvents();g instanceof _s.a&&xa.emitOutgoingEvent(new Zu(g.contentChangedEvent)),u._cursor.onModelContentChanged(xa,g)}finally{u._eventDispatcher.endEmitViewEvents()}u._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(function(g){for(var S=[],ie=0,Ee=g.ranges.length;ie<Ee;ie++){var Le=g.ranges[ie],at=u.coordinatesConverter.convertModelPositionToViewPosition(new kn.a(Le.fromLineNumber,1)).lineNumber,kt=u.coordinatesConverter.convertModelPositionToViewPosition(new kn.a(Le.toLineNumber,u.model.getLineMaxColumn(Le.toLineNumber))).lineNumber;S[ie]={fromLineNumber:at,toLineNumber:kt}}u._eventDispatcher.emitSingleViewEvent(new Rs(S)),u._eventDispatcher.emitOutgoingEvent(new ds(g))})),this._register(this.model.onDidChangeLanguageConfiguration(function(g){u._eventDispatcher.emitSingleViewEvent(new es),u.cursorConfig=new oo.a(u.model.getLanguageId(),u.model.getOptions(),u._configuration,u.languageConfigurationService),u._cursor.updateConfiguration(u.cursorConfig),u._eventDispatcher.emitOutgoingEvent(new Wc(g))})),this._register(this.model.onDidChangeLanguage(function(g){u.cursorConfig=new oo.a(u.model.getLanguageId(),u.model.getOptions(),u._configuration,u.languageConfigurationService),u._cursor.updateConfiguration(u.cursorConfig),u._eventDispatcher.emitOutgoingEvent(new Yu(g))})),this._register(this.model.onDidChangeOptions(function(g){if(u._lines.setTabSize(u.model.getOptions().tabSize)){try{var S=u._eventDispatcher.beginEmitViewEvents();S.emitViewEvent(new Wa),S.emitViewEvent(new To),S.emitViewEvent(new oa(null)),u._cursor.onLineMappingChanged(S),u._decorations.onLineMappingChanged(),u.viewLayout.onFlushed(u.getLineCount())}finally{u._eventDispatcher.endEmitViewEvents()}u._updateConfigurationViewLineCount.schedule()}u.cursorConfig=new oo.a(u.model.getLanguageId(),u.model.getOptions(),u._configuration,u.languageConfigurationService),u._cursor.updateConfiguration(u.cursorConfig),u._eventDispatcher.emitOutgoingEvent(new Xu(g))})),this._register(this.model.onDidChangeDecorations(function(g){var S,ie;if(u._decorations.onModelDecorationsChanged(),g.affectsGlyphMargin){var Ee=u.model.getAllMarginDecorations(),Le=!1;Ee.sort(function(wn,xn){return Pn.a.compareRangesUsingStarts(wn.range,xn.range)});var at=null,kt=null,Tt=Object(w.a)(Ee),Qt;try{for(Tt.s();!(Qt=Tt.n()).done;){var Wt=Qt.value,vt=(ie=(S=Wt.options.glyphMargin)===null||S===void 0?void 0:S.position)!==null&&ie!==void 0?ie:K.c.Left;if(vt===K.c.Left&&(!at||Pn.a.compareRangesUsingEnds(at,Wt.range)<0)&&(at=Wt.range),vt===K.c.Right&&(!kt||Pn.a.compareRangesUsingEnds(kt,Wt.range)<0)&&(kt=Wt.range),at&&kt){if(at.endLineNumber<kt.startLineNumber){at=null;continue}if(kt.endLineNumber<at.startLineNumber){kt=null;continue}Le=!0;break}}}catch(wn){Tt.e(wn)}finally{Tt.f()}u._configuration.setGlyphMarginDecorationLaneCount(Le?2:1)}u._eventDispatcher.emitSingleViewEvent(new oa(g)),u._eventDispatcher.emitOutgoingEvent(new vu(g))}))}},{key:"setHiddenAreas",value:function(u,g){this.hiddenAreasModel.setHiddenAreas(g,u);var S=this.hiddenAreasModel.getMergedRanges();if(S!==this.previousHiddenAreas){this.previousHiddenAreas=S;var ie=this._captureStableViewport(),Ee=!1;try{var Le=this._eventDispatcher.beginEmitViewEvents();Ee=this._lines.setHiddenAreas(S),Ee&&(Le.emitViewEvent(new Wa),Le.emitViewEvent(new To),Le.emitViewEvent(new oa(null)),this._cursor.onLineMappingChanged(Le),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),ie.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),Ee&&this._eventDispatcher.emitOutgoingEvent(new Tl)}}},{key:"getVisibleRangesPlusViewportAboveBelow",value:function(){var u=this._configuration.options.get(140),g=this._configuration.options.get(64),S=Math.max(20,Math.round(u.height/g)),ie=this.viewLayout.getLinesViewportData(),Ee=Math.max(1,ie.completelyVisibleStartLineNumber-S),Le=Math.min(this.getLineCount(),ie.completelyVisibleEndLineNumber+S);return this._toModelVisibleRanges(new Pn.a(Ee,this.getLineMinColumn(Ee),Le,this.getLineMaxColumn(Le)))}},{key:"getVisibleRanges",value:function(){var u=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(u)}},{key:"getHiddenAreas",value:function(){return this._lines.getHiddenAreas()}},{key:"_toModelVisibleRanges",value:function(u){var g=this.coordinatesConverter.convertViewRangeToModelRange(u),S=this._lines.getHiddenAreas();if(S.length===0)return[g];for(var ie=[],Ee=0,Le=g.startLineNumber,at=g.startColumn,kt=g.endLineNumber,Tt=g.endColumn,Qt=0,Wt=S.length;Qt<Wt;Qt++){var vt=S[Qt].startLineNumber,wn=S[Qt].endLineNumber;wn<Le||vt>kt||(Le<vt&&(ie[Ee++]=new Pn.a(Le,at,vt-1,this.model.getLineMaxColumn(vt-1))),Le=wn+1,at=1)}return(Le<kt||Le===kt&&at<Tt)&&(ie[Ee++]=new Pn.a(Le,at,kt,Tt)),ie}},{key:"getCompletelyVisibleViewRange",value:function(){var u=this.viewLayout.getLinesViewportData(),g=u.completelyVisibleStartLineNumber,S=u.completelyVisibleEndLineNumber;return new Pn.a(g,this.getLineMinColumn(g),S,this.getLineMaxColumn(S))}},{key:"getCompletelyVisibleViewRangeAtScrollTop",value:function(u){var g=this.viewLayout.getLinesViewportDataAtScrollTop(u),S=g.completelyVisibleStartLineNumber,ie=g.completelyVisibleEndLineNumber;return new Pn.a(S,this.getLineMinColumn(S),ie,this.getLineMaxColumn(ie))}},{key:"saveState",value:function(){var u=this.viewLayout.saveState(),g=u.scrollTop,S=this.viewLayout.getLineNumberAtVerticalOffset(g),ie=this.coordinatesConverter.convertViewPositionToModelPosition(new kn.a(S,this.getLineMinColumn(S))),Ee=this.viewLayout.getVerticalOffsetForLineNumber(S)-g;return{scrollLeft:u.scrollLeft,firstPosition:ie,firstPositionDeltaTop:Ee}}},{key:"reduceRestoreState",value:function(u){if(typeof u.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(u);var g=this.model.validatePosition(u.firstPosition),S=this.coordinatesConverter.convertModelPositionToViewPosition(g),ie=this.viewLayout.getVerticalOffsetForLineNumber(S.lineNumber)-u.firstPositionDeltaTop;return{scrollLeft:u.scrollLeft,scrollTop:ie}}},{key:"_reduceRestoreStateCompatibility",value:function(u){return{scrollLeft:u.scrollLeft,scrollTop:u.scrollTopWithoutViewZones}}},{key:"getTabSize",value:function(){return this.model.getOptions().tabSize}},{key:"getLineCount",value:function(){return this._lines.getViewLineCount()}},{key:"setViewport",value:function(u,g,S){this._viewportStart.update(this,u)}},{key:"getActiveIndentGuide",value:function(u,g,S){return this._lines.getActiveIndentGuide(u,g,S)}},{key:"getLinesIndentGuides",value:function(u,g){return this._lines.getViewLinesIndentGuides(u,g)}},{key:"getBracketGuidesInRangeByLine",value:function(u,g,S,ie){return this._lines.getViewLinesBracketGuides(u,g,S,ie)}},{key:"getLineContent",value:function(u){return this._lines.getViewLineContent(u)}},{key:"getLineLength",value:function(u){return this._lines.getViewLineLength(u)}},{key:"getLineMinColumn",value:function(u){return this._lines.getViewLineMinColumn(u)}},{key:"getLineMaxColumn",value:function(u){return this._lines.getViewLineMaxColumn(u)}},{key:"getLineFirstNonWhitespaceColumn",value:function(u){var g=Ut.u(this.getLineContent(u));return g===-1?0:g+1}},{key:"getLineLastNonWhitespaceColumn",value:function(u){var g=Ut.J(this.getLineContent(u));return g===-1?0:g+2}},{key:"getMinimapDecorationsInRange",value:function(u){return this._decorations.getMinimapDecorationsInRange(u)}},{key:"getDecorationsInViewport",value:function(u){return this._decorations.getDecorationsViewportData(u).decorations}},{key:"getInjectedTextAt",value:function(u){return this._lines.getInjectedTextAt(u)}},{key:"getViewportViewLineRenderingData",value:function(u,g){var S=this._decorations.getDecorationsViewportData(u).inlineDecorations,ie=S[g-u.startLineNumber];return this._getViewLineRenderingData(g,ie)}},{key:"getViewLineRenderingData",value:function(u){var g=this._decorations.getInlineDecorationsOnLine(u);return this._getViewLineRenderingData(u,g)}},{key:"_getViewLineRenderingData",value:function(u,g){var S=this.model.mightContainRTL(),ie=this.model.mightContainNonBasicASCII(),Ee=this.getTabSize(),Le=this._lines.getViewLineData(u);return Le.inlineDecorations&&(g=[].concat(Object(or.a)(g),Object(or.a)(Le.inlineDecorations.map(function(at){return at.toInlineDecoration(u)})))),new _a.f(Le.minColumn,Le.maxColumn,Le.content,Le.continuesWithWrappedLine,S,ie,Le.tokens,g,Ee,Le.startVisibleColumn)}},{key:"getViewLineData",value:function(u){return this._lines.getViewLineData(u)}},{key:"getMinimapLinesRenderingData",value:function(u,g,S){var ie=this._lines.getViewLinesData(u,g,S);return new _a.b(this.getTabSize(),ie)}},{key:"getAllOverviewRulerDecorations",value:function(u){var g=this.model.getOverviewRulerDecorations(this._editorId,Object(ae.o)(this._configuration.options)),S=new bd,ie=Object(w.a)(g),Ee;try{for(ie.s();!(Ee=ie.n()).done;){var Le=Ee.value,at=Le.options,kt=at.overviewRuler;if(!!kt){var Tt=kt.position;if(Tt!==0){var Qt=kt.getColor(u.value),Wt=this.coordinatesConverter.getViewLineNumberOfModelPosition(Le.range.startLineNumber,Le.range.startColumn),vt=this.coordinatesConverter.getViewLineNumberOfModelPosition(Le.range.endLineNumber,Le.range.endColumn);S.accept(Qt,at.zIndex,Wt,vt,Tt)}}}}catch(wn){ie.e(wn)}finally{ie.f()}return S.asArray}},{key:"_invalidateDecorationsColorCache",value:function(){var u=this.model.getOverviewRulerDecorations(),g=Object(w.a)(u),S;try{for(g.s();!(S=g.n()).done;){var ie=S.value,Ee=ie.options.overviewRuler;Ee==null||Ee.invalidateCachedColor();var Le=ie.options.minimap;Le==null||Le.invalidateCachedColor()}}catch(at){g.e(at)}finally{g.f()}}},{key:"getValueInRange",value:function(u,g){var S=this.coordinatesConverter.convertViewRangeToModelRange(u);return this.model.getValueInRange(S,g)}},{key:"getValueLengthInRange",value:function(u,g){var S=this.coordinatesConverter.convertViewRangeToModelRange(u);return this.model.getValueLengthInRange(S,g)}},{key:"modifyPosition",value:function(u,g){var S=this.coordinatesConverter.convertViewPositionToModelPosition(u);return this.model.modifyPosition(S,g)}},{key:"deduceModelPositionRelativeToViewPosition",value:function(u,g,S){var ie=this.coordinatesConverter.convertViewPositionToModelPosition(u);this.model.getEOL().length===2&&(g<0?g-=S:g+=S);var Ee=this.model.getOffsetAt(ie),Le=Ee+g;return this.model.getPositionAt(Le)}},{key:"getPlainTextToCopy",value:function(u,g,S){var ie=S?`\r
`:this.model.getEOL();u=u.slice(0),u.sort(Pn.a.compareRangesUsingStarts);var Ee=!1,Le=!1,at=Object(w.a)(u),kt;try{for(at.s();!(kt=at.n()).done;){var Tt=kt.value;Tt.isEmpty()?Ee=!0:Le=!0}}catch(yr){at.e(yr)}finally{at.f()}if(!Le){if(!g)return"";for(var Qt=u.map(function(yr){return yr.startLineNumber}),Wt="",vt=0;vt<Qt.length;vt++)vt>0&&Qt[vt-1]===Qt[vt]||(Wt+=this.model.getLineContent(Qt[vt])+ie);return Wt}if(Ee&&g){var wn=[],xn=0,ri=Object(w.a)(u),hi;try{for(ri.s();!(hi=ri.n()).done;){var ki=hi.value,Di=ki.startLineNumber;ki.isEmpty()?Di!==xn&&wn.push(this.model.getLineContent(Di)):wn.push(this.model.getValueInRange(ki,S?2:0)),xn=Di}}catch(yr){ri.e(yr)}finally{ri.f()}return wn.length===1?wn[0]:wn}var rr=[],Ti=Object(w.a)(u),Vi;try{for(Ti.s();!(Vi=Ti.n()).done;){var Qi=Vi.value;Qi.isEmpty()||rr.push(this.model.getValueInRange(Qi,S?2:0))}}catch(yr){Ti.e(yr)}finally{Ti.f()}return rr.length===1?rr[0]:rr}},{key:"getRichTextToCopy",value:function(u,g){var S=this.model.getLanguageId();if(S===gu.b||u.length!==1)return null;var ie=u[0];if(ie.isEmpty()){if(!g)return null;var Ee=ie.startLineNumber;ie=new Pn.a(Ee,this.model.getLineMinColumn(Ee),Ee,this.model.getLineMaxColumn(Ee))}var Le=this._configuration.options.get(48),at=this._getColorMap(),kt=/[:;\\\/<>]/.test(Le.fontFamily),Tt=kt||Le.fontFamily===ae.d.fontFamily,Qt;if(Tt)Qt=ae.d.fontFamily;else{Qt=Le.fontFamily,Qt=Qt.replace(/"/g,"'");var Wt=/[,']/.test(Qt);if(!Wt){var vt=/[+ ]/.test(Qt);vt&&(Qt="'".concat(Qt,"'"))}Qt="".concat(Qt,", ").concat(ae.d.fontFamily)}return{mode:S,html:'<div style="'+"color: ".concat(at[1],";")+"background-color: ".concat(at[2],";")+"font-family: ".concat(Qt,";")+"font-weight: ".concat(Le.fontWeight,";")+"font-size: ".concat(Le.fontSize,"px;")+"line-height: ".concat(Le.lineHeight,"px;")+'white-space: pre;">'+this._getHTMLToCopy(ie,at)+"</div>"}}},{key:"_getHTMLToCopy",value:function(u,g){for(var S=u.startLineNumber,ie=u.startColumn,Ee=u.endLineNumber,Le=u.endColumn,at=this.getTabSize(),kt="",Tt=S;Tt<=Ee;Tt++){var Qt=this.model.tokenization.getLineTokens(Tt),Wt=Qt.getLineContent(),vt=Tt===S?ie-1:0,wn=Tt===Ee?Le-1:Wt.length;Wt===""?kt+="<br>":kt+=Object(Ju.a)(Wt,Qt.inflate(),g,vt,wn,at,I.o)}return kt}},{key:"_getColorMap",value:function(){var u=mt.m.getColorMap(),g=["#000000"];if(u)for(var S=1,ie=u.length;S<ie;S++)g[S]=Ye.a.Format.CSS.formatHex(u[S]);return g}},{key:"getPrimaryCursorState",value:function(){return this._cursor.getPrimaryCursorState()}},{key:"getLastAddedCursorIndex",value:function(){return this._cursor.getLastAddedCursorIndex()}},{key:"getCursorStates",value:function(){return this._cursor.getCursorStates()}},{key:"setCursorStates",value:function(u,g,S){var ie=this;return this._withViewEventsCollector(function(Ee){return ie._cursor.setStates(Ee,u,g,S)})}},{key:"getCursorColumnSelectData",value:function(){return this._cursor.getCursorColumnSelectData()}},{key:"getCursorAutoClosedCharacters",value:function(){return this._cursor.getAutoClosedCharacters()}},{key:"setCursorColumnSelectData",value:function(u){this._cursor.setCursorColumnSelectData(u)}},{key:"getPrevEditOperationType",value:function(){return this._cursor.getPrevEditOperationType()}},{key:"setPrevEditOperationType",value:function(u){this._cursor.setPrevEditOperationType(u)}},{key:"getSelection",value:function(){return this._cursor.getSelection()}},{key:"getSelections",value:function(){return this._cursor.getSelections()}},{key:"getPosition",value:function(){return this._cursor.getPrimaryCursorState().modelState.position}},{key:"setSelections",value:function(u,g){var S=this,ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._withViewEventsCollector(function(Ee){return S._cursor.setSelections(Ee,u,g,ie)})}},{key:"saveCursorState",value:function(){return this._cursor.saveState()}},{key:"restoreCursorState",value:function(u){var g=this;this._withViewEventsCollector(function(S){return g._cursor.restoreState(S,u)})}},{key:"_executeCursorEdit",value:function(u){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new Qu);return}this._withViewEventsCollector(u)}},{key:"executeEdits",value:function(u,g,S){var ie=this;this._executeCursorEdit(function(Ee){return ie._cursor.executeEdits(Ee,u,g,S)})}},{key:"startComposition",value:function(){var u=this;this._executeCursorEdit(function(g){return u._cursor.startComposition(g)})}},{key:"endComposition",value:function(u){var g=this;this._executeCursorEdit(function(S){return g._cursor.endComposition(S,u)})}},{key:"type",value:function(u,g){var S=this;this._executeCursorEdit(function(ie){return S._cursor.type(ie,u,g)})}},{key:"compositionType",value:function(u,g,S,ie,Ee){var Le=this;this._executeCursorEdit(function(at){return Le._cursor.compositionType(at,u,g,S,ie,Ee)})}},{key:"paste",value:function(u,g,S,ie){var Ee=this;this._executeCursorEdit(function(Le){return Ee._cursor.paste(Le,u,g,S,ie)})}},{key:"cut",value:function(u){var g=this;this._executeCursorEdit(function(S){return g._cursor.cut(S,u)})}},{key:"executeCommand",value:function(u,g){var S=this;this._executeCursorEdit(function(ie){return S._cursor.executeCommand(ie,u,g)})}},{key:"executeCommands",value:function(u,g){var S=this;this._executeCursorEdit(function(ie){return S._cursor.executeCommands(ie,u,g)})}},{key:"revealPrimaryCursor",value:function(u,g){var S=this,ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this._withViewEventsCollector(function(Ee){return S._cursor.revealPrimary(Ee,u,ie,0,g,0)})}},{key:"revealTopMostCursor",value:function(u){var g=this._cursor.getTopMostViewPosition(),S=new Pn.a(g.lineNumber,g.column,g.lineNumber,g.column);this._withViewEventsCollector(function(ie){return ie.emitViewEvent(new Hs(u,!1,S,null,0,!0,0))})}},{key:"revealBottomMostCursor",value:function(u){var g=this._cursor.getBottomMostViewPosition(),S=new Pn.a(g.lineNumber,g.column,g.lineNumber,g.column);this._withViewEventsCollector(function(ie){return ie.emitViewEvent(new Hs(u,!1,S,null,0,!0,0))})}},{key:"revealRange",value:function(u,g,S,ie,Ee){this._withViewEventsCollector(function(Le){return Le.emitViewEvent(new Hs(u,!1,S,null,ie,g,Ee))})}},{key:"changeWhitespace",value:function(u){var g=this.viewLayout.changeWhitespace(u);g&&(this._eventDispatcher.emitSingleViewEvent(new Bc),this._eventDispatcher.emitOutgoingEvent(new Gu))}},{key:"_withViewEventsCollector",value:function(u){try{var g=this._eventDispatcher.beginEmitViewEvents();return u(g)}finally{this._eventDispatcher.endEmitViewEvents()}}},{key:"normalizePosition",value:function(u,g){return this._lines.normalizePosition(u,g)}},{key:"getLineIndentColumn",value:function(u){return this._lines.getLineIndentColumn(u)}}]),v}(C.a),Ri=function(){function Ke(be,v,m,u,g){Object(Y.a)(this,Ke),this._model=be,this._viewLineNumber=v,this._isValid=m,this._modelTrackedRange=u,this._startLineDelta=g}return Object(E.a)(Ke,[{key:"viewLineNumber",get:function(){return this._viewLineNumber}},{key:"isValid",get:function(){return this._isValid}},{key:"modelTrackedRange",get:function(){return this._modelTrackedRange}},{key:"startLineDelta",get:function(){return this._startLineDelta}},{key:"dispose",value:function(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}},{key:"update",value:function(v,m){var u=v.coordinatesConverter.convertViewPositionToModelPosition(new kn.a(m,v.getLineMinColumn(m))),g=v.model._setTrackedRange(this._modelTrackedRange,new Pn.a(u.lineNumber,u.column,u.lineNumber,u.column),1),S=v.viewLayout.getVerticalOffsetForLineNumber(m),ie=v.viewLayout.getCurrentScrollTop();this._viewLineNumber=m,this._isValid=!0,this._modelTrackedRange=g,this._startLineDelta=ie-S}},{key:"invalidate",value:function(){this._isValid=!1}}],[{key:"create",value:function(v){var m=v._setTrackedRange(null,new Pn.a(1,1,1,1),1);return new Ke(v,1,!1,m,0)}}]),Ke}(),bd=function(){function Ke(){Object(Y.a)(this,Ke),this._asMap=Object.create(null),this.asArray=[]}return Object(E.a)(Ke,[{key:"accept",value:function(v,m,u,g,S){var ie=this._asMap[v];if(ie){var Ee=ie.data,Le=Ee[Ee.length-3],at=Ee[Ee.length-1];if(Le===S&&at+1>=u){g>at&&(Ee[Ee.length-1]=g);return}Ee.push(S,u,g)}else{var kt=new _a.c(v,m,[S,u,g]);this._asMap[v]=kt,this.asArray.push(kt)}}}]),Ke}(),Qs=function(){function Ke(){Object(Y.a)(this,Ke),this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}return Object(E.a)(Ke,[{key:"setHiddenAreas",value:function(v,m){var u=this.hiddenAreas.get(v);u&&hs(u,m)||(this.hiddenAreas.set(v,m),this.shouldRecompute=!0)}},{key:"getMergedRanges",value:function(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;var v=Array.from(this.hiddenAreas.values()).reduce(function(m,u){return pc(m,u)},[]);return hs(this.ranges,v)?this.ranges:(this.ranges=v,this.ranges)}}]),Ke}();function pc(Ke,be){for(var v=[],m=0,u=0;m<Ke.length&&u<be.length;){var g=Ke[m],S=be[u];if(g.endLineNumber<S.startLineNumber-1)v.push(Ke[m++]);else if(S.endLineNumber<g.startLineNumber-1)v.push(be[u++]);else{var ie=Math.min(g.startLineNumber,S.startLineNumber),Ee=Math.max(g.endLineNumber,S.endLineNumber);v.push(new Pn.a(ie,1,Ee,1)),m++,u++}}for(;m<Ke.length;)v.push(Ke[m++]);for(;u<be.length;)v.push(be[u++]);return v}function hs(Ke,be){if(Ke.length!==be.length)return!1;for(var v=0;v<Ke.length;v++)if(!Ke[v].equalsRange(be[v]))return!1;return!0}var Zl=function(){function Ke(be,v){Object(Y.a)(this,Ke),this.viewportStartModelPosition=be,this.startLineDelta=v}return Object(E.a)(Ke,[{key:"recoverViewportStart",value:function(v,m){if(!!this.viewportStartModelPosition){var u=v.convertModelPositionToViewPosition(this.viewportStartModelPosition),g=m.getVerticalOffsetForLineNumber(u.lineNumber);m.setScrollPosition({scrollTop:g+this.startLineDelta},1)}}}]),Ke}(),ol=a("nnTU"),Kc=a("T8No"),yd=a("Cg/j"),Xl=a("8HsV"),el=a("sM1p"),Jh=a("MXAL"),qh=a("FWmy"),Pu=function(){function Ke(be,v,m,u,g){Object(Y.a)(this,Ke),this.injectionOffsets=be,this.injectionOptions=v,this.breakOffsets=m,this.breakOffsetsVisibleColumn=u,this.wrappedTextIndentLength=g}return Object(E.a)(Ke,[{key:"getOutputLineCount",value:function(){return this.breakOffsets.length}},{key:"getMinOutputOffset",value:function(v){return v>0?this.wrappedTextIndentLength:0}},{key:"getLineLength",value:function(v){var m=v>0?this.breakOffsets[v-1]:0,u=this.breakOffsets[v],g=u-m;return v>0&&(g+=this.wrappedTextIndentLength),g}},{key:"getMaxOutputOffset",value:function(v){return this.getLineLength(v)}},{key:"translateToInputOffset",value:function(v,m){v>0&&(m=Math.max(0,m-this.wrappedTextIndentLength));var u=v===0?m:this.breakOffsets[v-1]+m,g=u;if(this.injectionOffsets!==null)for(var S=0;S<this.injectionOffsets.length&&g>this.injectionOffsets[S];S++)g<this.injectionOffsets[S]+this.injectionOptions[S].content.length?g=this.injectionOffsets[S]:g-=this.injectionOptions[S].content.length;return g}},{key:"translateToOutputPosition",value:function(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,u=v;if(this.injectionOffsets!==null)for(var g=0;g<this.injectionOffsets.length&&!(v<this.injectionOffsets[g]||m!==1&&v===this.injectionOffsets[g]);g++)u+=this.injectionOptions[g].content.length;return this.offsetInInputWithInjectionsToOutputPosition(u,m)}},{key:"offsetInInputWithInjectionsToOutputPosition",value:function(v){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,u=0,g=this.breakOffsets.length-1,S=0,ie=0;u<=g;){S=u+(g-u)/2|0;var Ee=this.breakOffsets[S];if(ie=S>0?this.breakOffsets[S-1]:0,m===0)if(v<=ie)g=S-1;else if(v>Ee)u=S+1;else break;else if(v<ie)g=S-1;else if(v>=Ee)u=S+1;else break}var Le=v-ie;return S>0&&(Le+=this.wrappedTextIndentLength),new yc(S,Le)}},{key:"normalizeOutputPosition",value:function(v,m,u){if(this.injectionOffsets!==null){var g=this.outputPositionToOffsetInInputWithInjections(v,m),S=this.normalizeOffsetInInputWithInjectionsAroundInjections(g,u);if(S!==g)return this.offsetInInputWithInjectionsToOutputPosition(S,u)}if(u===0){if(v>0&&m===this.getMinOutputOffset(v))return new yc(v-1,this.getMaxOutputOffset(v-1))}else if(u===1){var ie=this.getOutputLineCount()-1;if(v<ie&&m===this.getMaxOutputOffset(v))return new yc(v+1,this.getMinOutputOffset(v+1))}return new yc(v,m)}},{key:"outputPositionToOffsetInInputWithInjections",value:function(v,m){v>0&&(m=Math.max(0,m-this.wrappedTextIndentLength));var u=(v>0?this.breakOffsets[v-1]:0)+m;return u}},{key:"normalizeOffsetInInputWithInjectionsAroundInjections",value:function(v,m){var u=this.getInjectedTextAtOffset(v);if(!u)return v;if(m===2){if(v===u.offsetInInputWithInjections+u.length&&_d(this.injectionOptions[u.injectedTextIndex].cursorStops))return u.offsetInInputWithInjections+u.length;var g=u.offsetInInputWithInjections;if(bc(this.injectionOptions[u.injectedTextIndex].cursorStops))return g;for(var S=u.injectedTextIndex-1;S>=0&&this.injectionOffsets[S]===this.injectionOffsets[u.injectedTextIndex]&&!(_d(this.injectionOptions[S].cursorStops)||(g-=this.injectionOptions[S].content.length,bc(this.injectionOptions[S].cursorStops)));)S--;return g}else if(m===1||m===4){for(var ie=u.offsetInInputWithInjections+u.length,Ee=u.injectedTextIndex;Ee+1<this.injectionOffsets.length&&this.injectionOffsets[Ee+1]===this.injectionOffsets[Ee];)ie+=this.injectionOptions[Ee+1].content.length,Ee++;return ie}else if(m===0||m===3){for(var Le=u.offsetInInputWithInjections,at=u.injectedTextIndex;at-1>=0&&this.injectionOffsets[at-1]===this.injectionOffsets[at];)Le-=this.injectionOptions[at-1].content.length,at--;return Le}Object(qh.b)(m)}},{key:"getInjectedText",value:function(v,m){var u=this.outputPositionToOffsetInInputWithInjections(v,m),g=this.getInjectedTextAtOffset(u);return g?{options:this.injectionOptions[g.injectedTextIndex]}:null}},{key:"getInjectedTextAtOffset",value:function(v){var m=this.injectionOffsets,u=this.injectionOptions;if(m!==null)for(var g=0,S=0;S<m.length;S++){var ie=u[S].content.length,Ee=m[S]+g,Le=m[S]+g+ie;if(Ee>v)break;if(v<=Le)return{injectedTextIndex:S,offsetInInputWithInjections:Ee,length:ie};g+=ie}}}]),Ke}();function _d(Ke){return Ke==null?!0:Ke===K.d.Right||Ke===K.d.Both}function bc(Ke){return Ke==null?!0:Ke===K.d.Left||Ke===K.d.Both}var Cd=Object(E.a)(function Ke(be){Object(Y.a)(this,Ke),this.options=be}),yc=function(){function Ke(be,v){Object(Y.a)(this,Ke),this.outputLineIndex=be,this.outputOffset=v}return Object(E.a)(Ke,[{key:"toString",value:function(){return"".concat(this.outputLineIndex,":").concat(this.outputOffset)}},{key:"toPosition",value:function(v){return new kn.a(v+this.outputLineIndex,this.outputOffset+1)}}]),Ke}(),bl=function(){function Ke(be,v){Object(Y.a)(this,Ke),this.classifier=new nh(be,v)}return Object(E.a)(Ke,[{key:"createLineBreaksComputer",value:function(v,m,u,g,S){var ie=this,Ee=[],Le=[],at=[];return{addRequest:function(Tt,Qt,Wt){Ee.push(Tt),Le.push(Qt),at.push(Wt)},finalize:function(){for(var Tt=v.typicalFullwidthCharacterWidth/v.typicalHalfwidthCharacterWidth,Qt=[],Wt=0,vt=Ee.length;Wt<vt;Wt++){var wn=Le[Wt],xn=at[Wt];xn&&!xn.injectionOptions&&!wn?Qt[Wt]=Od(ie.classifier,xn,Ee[Wt],m,u,Tt,g,S):Qt[Wt]=yl(ie.classifier,Ee[Wt],wn,m,u,Tt,g,S)}return Rl.length=0,_c.length=0,Qt}}}}],[{key:"create",value:function(v){return new Ke(v.get(129),v.get(128))}}]),Ke}(),nh=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u){var g;Object(Y.a)(this,v),g=be.call(this,0);for(var S=0;S<m.length;S++)g.set(m.charCodeAt(S),1);for(var ie=0;ie<u.length;ie++)g.set(u.charCodeAt(ie),2);return g}return Object(E.a)(v,[{key:"get",value:function(u){return u>=0&&u<256?this._asciiMap[u]:u>=12352&&u<=12543||u>=13312&&u<=19903||u>=19968&&u<=40959?3:this._map.get(u)||this._defaultValue}}]),v}(Jh.a),Rl=[],_c=[];function Od(Ke,be,v,m,u,g,S,ie){if(u===-1)return null;var Ee=v.length;if(Ee<=1)return null;var Le=ie==="keepAll",at=be.breakOffsets,kt=be.breakOffsetsVisibleColumn,Tt=kd(v,m,u,g,S),Qt=u-Tt,Wt=Rl,vt=_c,wn=0,xn=0,ri=0,hi=u,ki=at.length,Di=0;if(Di>=0)for(var rr=Math.abs(kt[Di]-hi);Di+1<ki;){var Ti=Math.abs(kt[Di+1]-hi);if(Ti>=rr)break;rr=Ti,Di++}for(;Di<ki;){var Vi=Di<0?0:at[Di],Qi=Di<0?0:kt[Di];xn>Vi&&(Vi=xn,Qi=ri);var yr=0,Rr=0,Qr=0,ha=0;if(Qi<=hi){for(var Oa=Qi,qr=Vi===0?0:v.charCodeAt(Vi-1),ka=Vi===0?0:Ke.get(qr),Ya=!0,Bo=Vi;Bo<Ee;Bo++){var Oo=Bo,ts=v.charCodeAt(Bo),Aa=void 0,xa=void 0;if(Ut.F(ts)?(Bo++,Aa=0,xa=2):(Aa=Ke.get(ts),xa=Ms(ts,Oa,m,g)),Oo>xn&&Nl(qr,ka,ts,Aa,Le)&&(yr=Oo,Rr=Oa),Oa+=xa,Oa>hi){Oo>xn?(Qr=Oo,ha=Oa-xa):(Qr=Bo+1,ha=Oa),Oa-Rr>Qt&&(yr=0),Ya=!1;break}qr=ts,ka=Aa}if(Ya){wn>0&&(Wt[wn]=at[at.length-1],vt[wn]=kt[at.length-1],wn++);break}}if(yr===0){for(var fo=Qi,vs=v.charCodeAt(Vi),ll=Ke.get(vs),pu=!1,zs=Vi-1;zs>=xn;zs--){var xl=zs+1,rs=v.charCodeAt(zs);if(rs===9){pu=!0;break}var Fl=void 0,ql=void 0;if(Ut.G(rs)?(zs--,Fl=0,ql=2):(Fl=Ke.get(rs),ql=Ut.E(rs)?g:1),fo<=hi){if(Qr===0&&(Qr=xl,ha=fo),fo<=hi-Qt)break;if(Nl(rs,Fl,vs,ll,Le)){yr=xl,Rr=fo;break}}fo-=ql,vs=rs,ll=Fl}if(yr!==0){var Sc=Qt-(ha-Rr);if(Sc<=m){var Ol=v.charCodeAt(Qr),eu=void 0;Ut.F(Ol)?eu=2:eu=Ms(Ol,ha,m,g),Sc-eu<0&&(yr=0)}}if(pu){Di--;continue}}if(yr===0&&(yr=Qr,Rr=ha),yr<=xn){var tu=v.charCodeAt(xn);Ut.F(tu)?(yr=xn+2,Rr=ri+2):(yr=xn+1,Rr=ri+Ms(tu,ri,m,g))}for(xn=yr,Wt[wn]=yr,ri=Rr,vt[wn]=Rr,wn++,hi=Rr+Qt;Di<0||Di<ki&&kt[Di]<Rr;)Di++;for(var Bl=Math.abs(kt[Di]-hi);Di+1<ki;){var ns=Math.abs(kt[Di+1]-hi);if(ns>=Bl)break;Bl=ns,Di++}}return wn===0?null:(Wt.length=wn,vt.length=wn,Rl=be.breakOffsets,_c=be.breakOffsetsVisibleColumn,be.breakOffsets=Wt,be.breakOffsetsVisibleColumn=vt,be.wrappedTextIndentLength=Tt,be)}function yl(Ke,be,v,m,u,g,S,ie){var Ee=_s.b.applyInjectedText(be,v),Le,at;if(v&&v.length>0?(Le=v.map(function(Oa){return Oa.options}),at=v.map(function(Oa){return Oa.column-1})):(Le=null,at=null),u===-1)return Le?new Pu(at,Le,[Ee.length],[],0):null;var kt=Ee.length;if(kt<=1)return Le?new Pu(at,Le,[Ee.length],[],0):null;var Tt=ie==="keepAll",Qt=kd(Ee,m,u,g,S),Wt=u-Qt,vt=[],wn=[],xn=0,ri=0,hi=0,ki=u,Di=Ee.charCodeAt(0),rr=Ke.get(Di),Ti=Ms(Di,0,m,g),Vi=1;Ut.F(Di)&&(Ti+=1,Di=Ee.charCodeAt(1),rr=Ke.get(Di),Vi++);for(var Qi=Vi;Qi<kt;Qi++){var yr=Qi,Rr=Ee.charCodeAt(Qi),Qr=void 0,ha=void 0;Ut.F(Rr)?(Qi++,Qr=0,ha=2):(Qr=Ke.get(Rr),ha=Ms(Rr,Ti,m,g)),Nl(Di,rr,Rr,Qr,Tt)&&(ri=yr,hi=Ti),Ti+=ha,Ti>ki&&((ri===0||Ti-hi>Wt)&&(ri=yr,hi=Ti-ha),vt[xn]=ri,wn[xn]=hi,xn++,ki=hi+Wt,ri=0),Di=Rr,rr=Qr}return xn===0&&(!v||v.length===0)?null:(vt[xn]=kt,wn[xn]=Ti,new Pu(at,Le,vt,wn,Qt))}function Ms(Ke,be,v,m){return Ke===9?v-be%v:Ut.E(Ke)||Ke<32?m:1}function Sd(Ke,be){return be-Ke%be}function Nl(Ke,be,v,m,u){return v!==32&&(be===2&&m!==2||be!==1&&m===1||!u&&be===3&&m!==2||!u&&m===3&&be!==1)}function kd(Ke,be,v,m,u){var g=0;if(u!==0){var S=Ut.u(Ke);if(S!==-1){for(var ie=0;ie<S;ie++){var Ee=Ke.charCodeAt(ie)===9?Sd(g,be):1;g+=Ee}for(var Le=u===3?2:u===2?1:0,at=0;at<Le;at++){var kt=Sd(g,be);g+=kt}g+m>v&&(g=0)}}return g}var Ys=Object(Oi.a)("domLineBreaksComputer",{createHTML:function(be){return be}}),Ma=function(){function Ke(){Object(Y.a)(this,Ke)}return Object(E.a)(Ke,[{key:"createLineBreaksComputer",value:function(v,m,u,g,S){var ie=[],Ee=[];return{addRequest:function(at,kt,Tt){ie.push(at),Ee.push(kt)},finalize:function(){return fs(ie,v,m,u,g,S,Ee)}}}}],[{key:"create",value:function(){return new Ke}}]),Ke}();function fs(Ke,be,v,m,u,g,S){var ie;function Ee(Bl){var ns=S[Bl];if(ns){var tl=_s.b.applyInjectedText(Ke[Bl],ns),as=ns.map(function(xu){return xu.options}),Nu=ns.map(function(xu){return xu.column-1});return new Pu(Nu,as,[tl.length],[],0)}else return null}if(m===-1){for(var Le=[],at=0,kt=Ke.length;at<kt;at++)Le[at]=Ee(at);return Le}var Tt=Math.round(m*be.typicalHalfwidthCharacterWidth),Qt=u===3?2:u===2?1:0,Wt=Math.round(v*Qt),vt=Math.ceil(be.spaceWidth*Wt),wn=document.createElement("div");Object(We.a)(wn,be);for(var xn=new Ji.a(1e4),ri=[],hi=[],ki=[],Di=[],rr=[],Ti=0;Ti<Ke.length;Ti++){var Vi=_s.b.applyInjectedText(Ke[Ti],S[Ti]),Qi=0,yr=0,Rr=Tt;if(u!==0)if(Qi=Ut.u(Vi),Qi===-1)Qi=0;else{for(var Qr=0;Qr<Qi;Qr++){var ha=Vi.charCodeAt(Qr)===9?v-yr%v:1;yr+=ha}var Oa=Math.ceil(be.spaceWidth*yr);Oa+be.typicalFullwidthCharacterWidth>Tt?(Qi=0,yr=0):Rr=Tt-Oa}var qr=Vi.substr(Qi),ka=Dd(qr,yr,v,Rr,xn,vt);ri[Ti]=Qi,hi[Ti]=yr,ki[Ti]=qr,Di[Ti]=ka[0],rr[Ti]=ka[1]}var Ya=xn.build(),Bo=(ie=Ys==null?void 0:Ys.createHTML(Ya))!==null&&ie!==void 0?ie:Ya;wn.innerHTML=Bo,wn.style.position="absolute",wn.style.top="10000",g==="keepAll"?(wn.style.wordBreak="keep-all",wn.style.overflowWrap="anywhere"):(wn.style.wordBreak="inherit",wn.style.overflowWrap="break-word"),document.body.appendChild(wn);for(var Oo=document.createRange(),ts=Array.prototype.slice.call(wn.children,0),Aa=[],xa=0;xa<Ke.length;xa++){var fo=ts[xa],vs=Gc(Oo,fo,ki[xa],Di[xa]);if(vs===null){Aa[xa]=Ee(xa);continue}for(var ll=ri[xa],pu=hi[xa]+Wt,zs=rr[xa],xl=[],rs=0,Fl=vs.length;rs<Fl;rs++)xl[rs]=zs[vs[rs]];if(ll!==0)for(var ql=0,Sc=vs.length;ql<Sc;ql++)vs[ql]+=ll;var Ol=void 0,eu=void 0,tu=S[xa];tu?(Ol=tu.map(function(Bl){return Bl.options}),eu=tu.map(function(Bl){return Bl.column-1})):(Ol=null,eu=null),Aa[xa]=new Pu(eu,Ol,vs,xl,pu)}return document.body.removeChild(wn),Aa}function Dd(Ke,be,v,m,u,g){if(g!==0){var S=String(g);u.appendString('<div style="text-indent: -'),u.appendString(S),u.appendString("px; padding-left: "),u.appendString(S),u.appendString("px; box-sizing: border-box; width:")}else u.appendString('<div style="width:');u.appendString(String(m)),u.appendString('px;">');var ie=Ke.length,Ee=be,Le=0,at=[],kt=[],Tt=0<ie?Ke.charCodeAt(0):0;u.appendString("<span>");for(var Qt=0;Qt<ie;Qt++){Qt!==0&&Qt%16384==0&&u.appendString("</span><span>"),at[Qt]=Le,kt[Qt]=Ee;var Wt=Tt;Tt=Qt+1<ie?Ke.charCodeAt(Qt+1):0;var vt=1,wn=1;switch(Wt){case 9:vt=v-Ee%v,wn=vt;for(var xn=1;xn<=vt;xn++)xn<vt?u.appendCharCode(160):u.appendASCIICharCode(32);break;case 32:Tt===32?u.appendCharCode(160):u.appendASCIICharCode(32);break;case 60:u.appendString("&lt;");break;case 62:u.appendString("&gt;");break;case 38:u.appendString("&amp;");break;case 0:u.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:u.appendCharCode(65533);break;default:Ut.E(Wt)&&wn++,Wt<32?u.appendCharCode(9216+Wt):u.appendCharCode(Wt)}Le+=vt,Ee+=wn}return u.appendString("</span>"),at[Ke.length]=Le,kt[Ke.length]=Ee,u.appendString("</div>"),[at,kt]}function Gc(Ke,be,v,m){if(v.length<=1)return null;var u=Array.prototype.slice.call(be.children,0),g=[];try{po(Ke,u,m,0,null,v.length-1,null,g)}catch(S){return console.log(S),null}return g.length===0?null:(g.push(v.length),g)}function po(Ke,be,v,m,u,g,S,ie){if(m!==g&&(u=u||No(Ke,be,v[m],v[m+1]),S=S||No(Ke,be,v[g],v[g+1]),!(Math.abs(u[0].top-S[0].top)<=.1))){if(m+1===g){ie.push(g);return}var Ee=m+(g-m)/2|0,Le=No(Ke,be,v[Ee],v[Ee+1]);po(Ke,be,v,m,u,Ee,Le,ie),po(Ke,be,v,Ee,Le,g,S,ie)}}function No(Ke,be,v,m){return Ke.setStart(be[v/16384|0].firstChild,v%16384),Ke.setEnd(be[m/16384|0].firstChild,m%16384),Ke.getClientRects()}var $c=a("6FFW"),Qc=a("AYRw"),Cc=a("c0Ay"),sl=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(){var m;return Object(Y.a)(this,v),m=be.call(this),m._editor=null,m._instantiationService=null,m._instances=m._register(new C.b),m._pending=new Map,m._finishedInstantiation=[],m._finishedInstantiation[0]=!1,m._finishedInstantiation[1]=!1,m._finishedInstantiation[2]=!1,m._finishedInstantiation[3]=!1,m}return Object(E.a)(v,[{key:"initialize",value:function(u,g,S){var ie=this;this._editor=u,this._instantiationService=S;var Ee=Object(w.a)(g),Le;try{for(Ee.s();!(Le=Ee.n()).done;){var at=Le.value;if(this._pending.has(at.id)){Object(d.h)(new Error("Cannot have two contributions with the same id ".concat(at.id)));continue}this._pending.set(at.id,at)}}catch(kt){Ee.e(kt)}finally{Ee.f()}this._instantiateSome(0),this._register(Object(Nr.p)(function(){ie._instantiateSome(1)})),this._register(Object(Nr.p)(function(){ie._instantiateSome(2)})),this._register(Object(Nr.p)(function(){ie._instantiateSome(3)},5e3))}},{key:"saveViewState",value:function(){var u={},g=Object(w.a)(this._instances),S;try{for(g.s();!(S=g.n()).done;){var ie=S.value,Ee=Object(ce.a)(ie,2),Le=Ee[0],at=Ee[1];typeof at.saveViewState=="function"&&(u[Le]=at.saveViewState())}}catch(kt){g.e(kt)}finally{g.f()}return u}},{key:"restoreViewState",value:function(u){var g=Object(w.a)(this._instances),S;try{for(g.s();!(S=g.n()).done;){var ie=S.value,Ee=Object(ce.a)(ie,2),Le=Ee[0],at=Ee[1];typeof at.restoreViewState=="function"&&at.restoreViewState(u[Le])}}catch(kt){g.e(kt)}finally{g.f()}}},{key:"get",value:function(u){return this._instantiateById(u),this._instances.get(u)||null}},{key:"onBeforeInteractionEvent",value:function(){this._instantiateSome(2)}},{key:"onAfterModelAttached",value:function(){var u=this;this._register(Object(Nr.p)(function(){u._instantiateSome(1)},50))}},{key:"_instantiateSome",value:function(u){if(!this._finishedInstantiation[u]){this._finishedInstantiation[u]=!0;var g=this._findPendingContributionsByInstantiation(u),S=Object(w.a)(g),ie;try{for(S.s();!(ie=S.n()).done;){var Ee=ie.value;this._instantiateById(Ee.id)}}catch(Le){S.e(Le)}finally{S.f()}}}},{key:"_findPendingContributionsByInstantiation",value:function(u){var g=[],S=Object(w.a)(this._pending),ie;try{for(S.s();!(ie=S.n()).done;){var Ee=ie.value,Le=Object(ce.a)(Ee,2),at=Le[1];at.instantiation===u&&g.push(at)}}catch(kt){S.e(kt)}finally{S.f()}return g}},{key:"_instantiateById",value:function(u){var g=this._pending.get(u);if(!!g){if(this._pending.delete(u),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{var S=this._instantiationService.createInstance(g.ctor,this._editor);this._instances.set(g.id,S),typeof S.restoreViewState=="function"&&g.instantiation!==0&&console.warn("Editor contribution '".concat(g.id,"' should be eager instantiated because it uses saveViewState / restoreViewState."))}catch(ie){Object(d.h)(ie)}}}}]),v}(C.a),_l=function(Ke,be,v,m){var u=arguments.length,g=u<3?be:m===null?m=Object.getOwnPropertyDescriptor(be,v):m,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(Ke,be,v,m);else for(var ie=Ke.length-1;ie>=0;ie--)(S=Ke[ie])&&(g=(u<3?S(g):u>3?S(be,v,g):S(be,v))||g);return u>3&&g&&Object.defineProperty(be,v,g),g},Ts=function(Ke,be){return function(v,m){be(v,m,Ke)}},Ps=function(Ke,be,v,m){function u(g){return g instanceof v?g:new v(function(S){S(g)})}return new(v||(v=Promise))(function(g,S){function ie(at){try{Le(m.next(at))}catch(kt){S(kt)}}function Ee(at){try{Le(m.throw(at))}catch(kt){S(kt)}}function Le(at){at.done?g(at.value):u(at.value).then(ie,Ee)}Le((m=m.apply(Ke,be||[])).next())})},mu=0,wd=function(){function Ke(be,v,m,u,g,S){Object(Y.a)(this,Ke),this.model=be,this.viewModel=v,this.view=m,this.hasRealView=u,this.listenersToRemove=g,this.attachedView=S}return Object(E.a)(Ke,[{key:"dispose",value:function(){Object(C.i)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}]),Ke}(),Au=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g,S,ie,Ee,Le,at,kt,Tt,Qt,Wt){var vt;Object(Y.a)(this,v),vt=be.call(this),vt.languageConfigurationService=Qt,vt._deliveryQueue=new D.e,vt._contributions=vt._register(new sl),vt._onDidDispose=vt._register(new D.b),vt.onDidDispose=vt._onDidDispose.event,vt._onDidChangeModelContent=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidChangeModelContent=vt._onDidChangeModelContent.event,vt._onDidChangeModelLanguage=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidChangeModelLanguage=vt._onDidChangeModelLanguage.event,vt._onDidChangeModelLanguageConfiguration=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidChangeModelLanguageConfiguration=vt._onDidChangeModelLanguageConfiguration.event,vt._onDidChangeModelOptions=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidChangeModelOptions=vt._onDidChangeModelOptions.event,vt._onDidChangeModelDecorations=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidChangeModelDecorations=vt._onDidChangeModelDecorations.event,vt._onDidChangeModelTokens=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidChangeModelTokens=vt._onDidChangeModelTokens.event,vt._onDidChangeConfiguration=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidChangeConfiguration=vt._onDidChangeConfiguration.event,vt._onDidChangeModel=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidChangeModel=vt._onDidChangeModel.event,vt._onDidChangeCursorPosition=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidChangeCursorPosition=vt._onDidChangeCursorPosition.event,vt._onDidChangeCursorSelection=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidChangeCursorSelection=vt._onDidChangeCursorSelection.event,vt._onDidAttemptReadOnlyEdit=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onDidAttemptReadOnlyEdit=vt._onDidAttemptReadOnlyEdit.event,vt._onDidLayoutChange=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidLayoutChange=vt._onDidLayoutChange.event,vt._editorTextFocus=vt._register(new ih({deliveryQueue:vt._deliveryQueue})),vt.onDidFocusEditorText=vt._editorTextFocus.onDidChangeToTrue,vt.onDidBlurEditorText=vt._editorTextFocus.onDidChangeToFalse,vt._editorWidgetFocus=vt._register(new ih({deliveryQueue:vt._deliveryQueue})),vt.onDidFocusEditorWidget=vt._editorWidgetFocus.onDidChangeToTrue,vt.onDidBlurEditorWidget=vt._editorWidgetFocus.onDidChangeToFalse,vt._onWillType=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onWillType=vt._onWillType.event,vt._onDidType=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onDidType=vt._onDidType.event,vt._onDidCompositionStart=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onDidCompositionStart=vt._onDidCompositionStart.event,vt._onDidCompositionEnd=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onDidCompositionEnd=vt._onDidCompositionEnd.event,vt._onDidPaste=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onDidPaste=vt._onDidPaste.event,vt._onMouseUp=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onMouseUp=vt._onMouseUp.event,vt._onMouseDown=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onMouseDown=vt._onMouseDown.event,vt._onMouseDrag=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onMouseDrag=vt._onMouseDrag.event,vt._onMouseDrop=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onMouseDrop=vt._onMouseDrop.event,vt._onMouseDropCanceled=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onMouseDropCanceled=vt._onMouseDropCanceled.event,vt._onDropIntoEditor=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onDropIntoEditor=vt._onDropIntoEditor.event,vt._onContextMenu=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onContextMenu=vt._onContextMenu.event,vt._onMouseMove=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onMouseMove=vt._onMouseMove.event,vt._onMouseLeave=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onMouseLeave=vt._onMouseLeave.event,vt._onMouseWheel=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onMouseWheel=vt._onMouseWheel.event,vt._onKeyUp=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onKeyUp=vt._onKeyUp.event,vt._onKeyDown=vt._register(new wo(vt._contributions,vt._deliveryQueue)),vt.onKeyDown=vt._onKeyDown.event,vt._onDidContentSizeChange=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidContentSizeChange=vt._onDidContentSizeChange.event,vt._onDidScrollChange=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidScrollChange=vt._onDidScrollChange.event,vt._onDidChangeViewZones=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidChangeViewZones=vt._onDidChangeViewZones.event,vt._onDidChangeHiddenAreas=vt._register(new D.b({deliveryQueue:vt._deliveryQueue})),vt.onDidChangeHiddenAreas=vt._onDidChangeHiddenAreas.event,vt._actions=new Map,vt._bannerDomNode=null,vt._dropIntoEditorDecorations=vt.createDecorationsCollection(),ie.willCreateCodeEditor();var wn=Object.assign({},u);vt._domElement=m,vt._overflowWidgetsDomNode=wn.overflowWidgetsDomNode,delete wn.overflowWidgetsDomNode,vt._id=++mu,vt._decorationTypeKeysToIds={},vt._decorationTypeSubtypes={},vt._telemetryData=g.telemetryData,vt._configuration=vt._register(vt._createConfiguration(g.isSimpleWidget||!1,wn,Tt)),vt._register(vt._configuration.onDidChange(function(Ti){vt._onDidChangeConfiguration.fire(Ti);var Vi=vt._configuration.options;if(Ti.hasChanged(140)){var Qi=Vi.get(140);vt._onDidLayoutChange.fire(Qi)}})),vt._contextKeyService=vt._register(Le.createScoped(vt._domElement)),vt._notificationService=kt,vt._codeEditorService=ie,vt._commandService=Ee,vt._themeService=at,vt._register(new rh(Object(ve.a)(vt),vt._contextKeyService)),vt._register(new Oc(Object(ve.a)(vt),vt._contextKeyService,Wt)),vt._instantiationService=S.createChild(new Xl.a([Kc.b,vt._contextKeyService])),vt._modelData=null,vt._focusTracker=new ec(m),vt._register(vt._focusTracker.onChange(function(){vt._editorWidgetFocus.setValue(vt._focusTracker.hasFocus())})),vt._contentWidgets={},vt._overlayWidgets={};var xn;Array.isArray(g.contributions)?xn=g.contributions:xn=ne.e.getEditorContributions(),vt._contributions.initialize(Object(ve.a)(vt),xn,vt._instantiationService);var ri=Object(w.a)(ne.e.getEditorActions()),hi;try{var ki=function(){var Vi=hi.value;if(vt._actions.has(Vi.id))return Object(d.h)(new Error("Cannot have two actions with the same id ".concat(Vi.id))),"continue";var Qi=new Ll.a(Vi.id,Vi.label,Vi.alias,Object(vr.n)(Vi.precondition),function(){return vt._instantiationService.invokeFunction(function(yr){return Promise.resolve(Vi.runEditorCommand(yr,Object(ve.a)(vt),null))})},vt._contextKeyService);vt._actions.set(Qi.id,Qi)};for(ri.s();!(hi=ri.n()).done;)var Di=ki()}catch(Ti){ri.e(Ti)}finally{ri.f()}var rr=function(){return!vt._configuration.options.get(88)&&vt._configuration.options.get(34).enabled};return vt._register(new H.DragAndDropObserver(vt._domElement,{onDragEnter:function(){},onDragOver:function(Vi){if(!!rr()){var Qi=vt.getTargetAtClientPoint(Vi.clientX,Vi.clientY);(Qi==null?void 0:Qi.position)&&vt.showDropIndicatorAt(Qi.position)}},onDrop:function(Vi){return Ps(Object(ve.a)(vt),void 0,void 0,Object(we.a)().mark(function Qi(){var yr;return Object(we.a)().wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:if(rr()){Qr.next=2;break}return Qr.abrupt("return");case 2:if(this.removeDropIndicator(),Vi.dataTransfer){Qr.next=5;break}return Qr.abrupt("return");case 5:yr=this.getTargetAtClientPoint(Vi.clientX,Vi.clientY),(yr==null?void 0:yr.position)&&this._onDropIntoEditor.fire({position:yr.position,event:Vi});case 7:case"end":return Qr.stop()}},Qi,this)}))},onDragLeave:function(){vt.removeDropIndicator()},onDragEnd:function(){vt.removeDropIndicator()}})),vt._codeEditorService.addCodeEditor(Object(ve.a)(vt)),vt}return Object(E.a)(v,[{key:"isSimpleWidget",get:function(){return this._configuration.isSimpleWidget}},{key:"writeScreenReaderContent",value:function(u){var g;(g=this._modelData)===null||g===void 0||g.view.writeScreenReaderContent(u)}},{key:"_createConfiguration",value:function(u,g,S){return new De(u,g,this._domElement,S)}},{key:"getId",value:function(){return this.getEditorType()+":"+this._id}},{key:"getEditorType",value:function(){return hc.a.ICodeEditor}},{key:"dispose",value:function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"invokeWithinContext",value:function(u){return this._instantiationService.invokeFunction(u)}},{key:"updateOptions",value:function(u){this._configuration.updateOptions(u||{})}},{key:"getOptions",value:function(){return this._configuration.options}},{key:"getOption",value:function(u){return this._configuration.options.get(u)}},{key:"getRawOptions",value:function(){return this._configuration.getRawOptions()}},{key:"getOverflowWidgetsDomNode",value:function(){return this._overflowWidgetsDomNode}},{key:"getConfiguredWordAtPosition",value:function(u){return this._modelData?$c.a.getWordAtPosition(this._modelData.model,this._configuration.options.get(126),u):null}},{key:"getValue",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this._modelData)return"";var g=!!(u&&u.preserveBOM),S=0;return u&&u.lineEnding&&u.lineEnding===`
`?S=1:u&&u.lineEnding&&u.lineEnding===`\r
`&&(S=2),this._modelData.model.getValue(S,g)}},{key:"setValue",value:function(u){!this._modelData||this._modelData.model.setValue(u)}},{key:"getModel",value:function(){return this._modelData?this._modelData.model:null}},{key:"setModel",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=u;if(!(this._modelData===null&&g===null)&&!(this._modelData&&this._modelData.model===g)){var S=this.hasTextFocus(),ie=this._detachModel();this._attachModel(g),S&&this.hasModel()&&this.focus();var Ee={oldModelUrl:ie?ie.uri:null,newModelUrl:g?g.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(Ee),this._postDetachModelCleanup(ie),this._contributions.onAfterModelAttached()}}},{key:"_removeDecorationTypes",value:function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var u in this._decorationTypeSubtypes){var g=this._decorationTypeSubtypes[u];for(var S in g)this._removeDecorationType(u+"-"+S)}this._decorationTypeSubtypes={}}}},{key:"getVisibleRanges",value:function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}},{key:"getVisibleRangesPlusViewportAboveBelow",value:function(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}},{key:"getWhitespaces",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}},{key:"getTopForLineNumber",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._modelData?v._getVerticalOffsetForPosition(this._modelData,u,1,g):-1}},{key:"getTopForPosition",value:function(u,g){return this._modelData?v._getVerticalOffsetForPosition(this._modelData,u,g,!1):-1}},{key:"getBottomForLineNumber",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._modelData?v._getVerticalOffsetAfterPosition(this._modelData,u,1,g):-1}},{key:"setHiddenAreas",value:function(u,g){var S;(S=this._modelData)===null||S===void 0||S.viewModel.setHiddenAreas(u.map(function(ie){return Pn.a.lift(ie)}),g)}},{key:"getVisibleColumnFromPosition",value:function(u){if(!this._modelData)return u.column;var g=this._modelData.model.validatePosition(u),S=this._modelData.model.getOptions().tabSize;return qi.a.visibleColumnFromColumn(this._modelData.model.getLineContent(g.lineNumber),g.column,S)+1}},{key:"getPosition",value:function(){return this._modelData?this._modelData.viewModel.getPosition():null}},{key:"setPosition",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api";if(!!this._modelData){if(!kn.a.isIPosition(u))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(g,[{selectionStartLineNumber:u.lineNumber,selectionStartColumn:u.column,positionLineNumber:u.lineNumber,positionColumn:u.column}])}}},{key:"_sendRevealRange",value:function(u,g,S,ie){if(!!this._modelData){if(!Pn.a.isIRange(u))throw new Error("Invalid arguments");var Ee=this._modelData.model.validateRange(u),Le=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Ee);this._modelData.viewModel.revealRange("api",S,Le,g,ie)}}},{key:"revealLine",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealLine(u,0,g)}},{key:"revealLineInCenter",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealLine(u,1,g)}},{key:"revealLineInCenterIfOutsideViewport",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealLine(u,2,g)}},{key:"revealLineNearTop",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealLine(u,5,g)}},{key:"_revealLine",value:function(u,g,S){if(typeof u!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Pn.a(u,1,u,1),g,!1,S)}},{key:"revealPosition",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealPosition(u,0,!0,g)}},{key:"revealPositionInCenter",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealPosition(u,1,!0,g)}},{key:"revealPositionInCenterIfOutsideViewport",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealPosition(u,2,!0,g)}},{key:"revealPositionNearTop",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealPosition(u,5,!0,g)}},{key:"_revealPosition",value:function(u,g,S,ie){if(!kn.a.isIPosition(u))throw new Error("Invalid arguments");this._sendRevealRange(new Pn.a(u.lineNumber,u.column,u.lineNumber,u.column),g,S,ie)}},{key:"getSelection",value:function(){return this._modelData?this._modelData.viewModel.getSelection():null}},{key:"getSelections",value:function(){return this._modelData?this._modelData.viewModel.getSelections():null}},{key:"setSelection",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",S=Ft.a.isISelection(u),ie=Pn.a.isIRange(u);if(!S&&!ie)throw new Error("Invalid arguments");if(S)this._setSelectionImpl(u,g);else if(ie){var Ee={selectionStartLineNumber:u.startLineNumber,selectionStartColumn:u.startColumn,positionLineNumber:u.endLineNumber,positionColumn:u.endColumn};this._setSelectionImpl(Ee,g)}}},{key:"_setSelectionImpl",value:function(u,g){if(!!this._modelData){var S=new Ft.a(u.selectionStartLineNumber,u.selectionStartColumn,u.positionLineNumber,u.positionColumn);this._modelData.viewModel.setSelections(g,[S])}}},{key:"revealLines",value:function(u,g){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._revealLines(u,g,0,S)}},{key:"revealLinesInCenter",value:function(u,g){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._revealLines(u,g,1,S)}},{key:"revealLinesInCenterIfOutsideViewport",value:function(u,g){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._revealLines(u,g,2,S)}},{key:"revealLinesNearTop",value:function(u,g){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._revealLines(u,g,5,S)}},{key:"_revealLines",value:function(u,g,S,ie){if(typeof u!="number"||typeof g!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Pn.a(u,1,g,1),S,!1,ie)}},{key:"revealRange",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;this._revealRange(u,S?1:0,ie,g)}},{key:"revealRangeInCenter",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealRange(u,1,!0,g)}},{key:"revealRangeInCenterIfOutsideViewport",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealRange(u,2,!0,g)}},{key:"revealRangeNearTop",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealRange(u,5,!0,g)}},{key:"revealRangeNearTopIfOutsideViewport",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealRange(u,6,!0,g)}},{key:"revealRangeAtTop",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealRange(u,3,!0,g)}},{key:"_revealRange",value:function(u,g,S,ie){if(!Pn.a.isIRange(u))throw new Error("Invalid arguments");this._sendRevealRange(Pn.a.lift(u),g,S,ie)}},{key:"setSelections",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!!this._modelData){if(!u||u.length===0)throw new Error("Invalid arguments");for(var ie=0,Ee=u.length;ie<Ee;ie++)if(!Ft.a.isISelection(u[ie]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(g,u,S)}}},{key:"getContentWidth",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}},{key:"getScrollWidth",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}},{key:"getScrollLeft",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}},{key:"getContentHeight",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}},{key:"getScrollHeight",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}},{key:"getScrollTop",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}},{key:"setScrollLeft",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!!this._modelData){if(typeof u!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:u},g)}}},{key:"setScrollTop",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!!this._modelData){if(typeof u!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:u},g)}}},{key:"setScrollPosition",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(u,g)}},{key:"hasPendingScrollAnimation",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}},{key:"saveViewState",value:function(){if(!this._modelData)return null;var u=this._contributions.saveViewState(),g=this._modelData.viewModel.saveCursorState(),S=this._modelData.viewModel.saveState();return{cursorState:g,viewState:S,contributionsState:u}}},{key:"restoreViewState",value:function(u){if(!(!this._modelData||!this._modelData.hasRealView)){var g=u;if(g&&g.cursorState&&g.viewState){var S=g.cursorState;Array.isArray(S)?S.length>0&&this._modelData.viewModel.restoreCursorState(S):this._modelData.viewModel.restoreCursorState([S]),this._contributions.restoreViewState(g.contributionsState||{});var ie=this._modelData.viewModel.reduceRestoreState(g.viewState);this._modelData.view.restoreState(ie)}}}},{key:"getContribution",value:function(u){return this._contributions.get(u)}},{key:"getActions",value:function(){return Array.from(this._actions.values())}},{key:"getSupportedActions",value:function(){var u=this.getActions();return u=u.filter(function(g){return g.isSupported()}),u}},{key:"getAction",value:function(u){return this._actions.get(u)||null}},{key:"trigger",value:function(u,g,S){switch(S=S||{},g){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(u);return;case"type":{var ie=S;this._type(u,ie.text||"");return}case"replacePreviousChar":{var Ee=S;this._compositionType(u,Ee.text||"",Ee.replaceCharCnt||0,0,0);return}case"compositionType":{var Le=S;this._compositionType(u,Le.text||"",Le.replacePrevCharCnt||0,Le.replaceNextCharCnt||0,Le.positionDelta||0);return}case"paste":{var at=S;this._paste(u,at.text||"",at.pasteOnNewLine||!1,at.multicursorText||null,at.mode||null);return}case"cut":this._cut(u);return}var kt=this.getAction(g);if(kt){Promise.resolve(kt.run(S)).then(void 0,d.h);return}!this._modelData||this._triggerEditorCommand(u,g,S)||this._triggerCommand(g,S)}},{key:"_triggerCommand",value:function(u,g){this._commandService.executeCommand(u,g)}},{key:"_startComposition",value:function(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}},{key:"_endComposition",value:function(u){!this._modelData||(this._modelData.viewModel.endComposition(u),this._onDidCompositionEnd.fire())}},{key:"_type",value:function(u,g){!this._modelData||g.length===0||(u==="keyboard"&&this._onWillType.fire(g),this._modelData.viewModel.type(g,u),u==="keyboard"&&this._onDidType.fire(g))}},{key:"_compositionType",value:function(u,g,S,ie,Ee){!this._modelData||this._modelData.viewModel.compositionType(g,S,ie,Ee,u)}},{key:"_paste",value:function(u,g,S,ie,Ee){if(!(!this._modelData||g.length===0)){var Le=this._modelData.viewModel,at=Le.getSelection().getStartPosition();Le.paste(g,S,ie,u);var kt=Le.getSelection().getStartPosition();u==="keyboard"&&this._onDidPaste.fire({range:new Pn.a(at.lineNumber,at.column,kt.lineNumber,kt.column),languageId:Ee})}}},{key:"_cut",value:function(u){!this._modelData||this._modelData.viewModel.cut(u)}},{key:"_triggerEditorCommand",value:function(u,g,S){var ie=this,Ee=ne.e.getEditorCommand(g);return Ee?(S=S||{},S.source=u,this._instantiationService.invokeFunction(function(Le){Promise.resolve(Ee.runEditorCommand(Le,ie,S)).then(void 0,d.h)}),!0):!1}},{key:"_getViewModel",value:function(){return this._modelData?this._modelData.viewModel:null}},{key:"pushUndoStop",value:function(){return!this._modelData||this._configuration.options.get(88)?!1:(this._modelData.model.pushStackElement(),!0)}},{key:"popUndoStop",value:function(){return!this._modelData||this._configuration.options.get(88)?!1:(this._modelData.model.popStackElement(),!0)}},{key:"executeEdits",value:function(u,g,S){if(!this._modelData||this._configuration.options.get(88))return!1;var ie;return S?Array.isArray(S)?ie=function(){return S}:ie=S:ie=function(){return null},this._modelData.viewModel.executeEdits(u,g,ie),!0}},{key:"executeCommand",value:function(u,g){!this._modelData||this._modelData.viewModel.executeCommand(g,u)}},{key:"executeCommands",value:function(u,g){!this._modelData||this._modelData.viewModel.executeCommands(g,u)}},{key:"createDecorationsCollection",value:function(u){return new Yc(this,u)}},{key:"changeDecorations",value:function(u){return this._modelData?this._modelData.model.changeDecorations(u,this._id):null}},{key:"getLineDecorations",value:function(u){return this._modelData?this._modelData.model.getLineDecorations(u,this._id,Object(ae.o)(this._configuration.options)):null}},{key:"getDecorationsInRange",value:function(u){return this._modelData?this._modelData.model.getDecorationsInRange(u,this._id,Object(ae.o)(this._configuration.options)):null}},{key:"deltaDecorations",value:function(u,g){return this._modelData?u.length===0&&g.length===0?u:this._modelData.model.deltaDecorations(u,g,this._id):[]}},{key:"removeDecorations",value:function(u){!this._modelData||u.length===0||this._modelData.model.changeDecorations(function(g){g.deltaDecorations(u,[])})}},{key:"removeDecorationsByType",value:function(u){var g=this._decorationTypeKeysToIds[u];g&&this.deltaDecorations(g,[]),this._decorationTypeKeysToIds.hasOwnProperty(u)&&delete this._decorationTypeKeysToIds[u],this._decorationTypeSubtypes.hasOwnProperty(u)&&delete this._decorationTypeSubtypes[u]}},{key:"getLayoutInfo",value:function(){var u=this._configuration.options,g=u.get(140);return g}},{key:"createOverviewRuler",value:function(u){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(u)}},{key:"getContainerDomNode",value:function(){return this._domElement}},{key:"getDomNode",value:function(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}},{key:"delegateVerticalScrollbarPointerDown",value:function(u){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(u)}},{key:"delegateScrollFromMouseWheelEvent",value:function(u){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(u)}},{key:"layout",value:function(u){this._configuration.observeContainer(u),this.render()}},{key:"focus",value:function(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}},{key:"hasTextFocus",value:function(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}},{key:"hasWidgetFocus",value:function(){return this._focusTracker&&this._focusTracker.hasFocus()}},{key:"addContentWidget",value:function(u){var g={widget:u,position:u.getPosition()};this._contentWidgets.hasOwnProperty(u.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[u.getId()]=g,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(g)}},{key:"layoutContentWidget",value:function(u){var g=u.getId();if(this._contentWidgets.hasOwnProperty(g)){var S=this._contentWidgets[g];S.position=u.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(S)}}},{key:"removeContentWidget",value:function(u){var g=u.getId();if(this._contentWidgets.hasOwnProperty(g)){var S=this._contentWidgets[g];delete this._contentWidgets[g],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(S)}}},{key:"addOverlayWidget",value:function(u){var g={widget:u,position:u.getPosition()};this._overlayWidgets.hasOwnProperty(u.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[u.getId()]=g,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(g)}},{key:"layoutOverlayWidget",value:function(u){var g=u.getId();if(this._overlayWidgets.hasOwnProperty(g)){var S=this._overlayWidgets[g];S.position=u.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(S)}}},{key:"removeOverlayWidget",value:function(u){var g=u.getId();if(this._overlayWidgets.hasOwnProperty(g)){var S=this._overlayWidgets[g];delete this._overlayWidgets[g],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(S)}}},{key:"changeViewZones",value:function(u){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(u)}},{key:"getTargetAtClientPoint",value:function(u,g){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(u,g)}},{key:"getScrolledVisiblePosition",value:function(u){if(!this._modelData||!this._modelData.hasRealView)return null;var g=this._modelData.model.validatePosition(u),S=this._configuration.options,ie=S.get(140),Ee=v._getVerticalOffsetForPosition(this._modelData,g.lineNumber,g.column)-this.getScrollTop(),Le=this._modelData.view.getOffsetForColumn(g.lineNumber,g.column)+ie.glyphMarginWidth+ie.lineNumbersWidth+ie.decorationsWidth-this.getScrollLeft();return{top:Ee,left:Le,height:S.get(64)}}},{key:"getOffsetForColumn",value:function(u,g){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(u,g)}},{key:"render",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,u)}},{key:"setAriaOptions",value:function(u){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(u)}},{key:"applyFontInfo",value:function(u){Object(We.a)(u,this._configuration.options.get(48))}},{key:"setBanner",value:function(u,g){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=u,this._configuration.setReservedHeight(u?g:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}},{key:"_attachModel",value:function(u){var g=this;if(!u){this._modelData=null;return}var S=[];this._domElement.setAttribute("data-mode-id",u.getLanguageId()),this._configuration.setIsDominatedByLongLines(u.isDominatedByLongLines()),this._configuration.setModelLineCount(u.getLineCount());var ie=u.onBeforeAttached(),Ee=new Yl(this._id,this._configuration,u,Ma.create(),bl.create(this._configuration.options),function(ki){return H.scheduleAtNextAnimationFrame(ki)},this.languageConfigurationService,this._themeService,ie);S.push(u.onWillDispose(function(){return g.setModel(null)})),S.push(Ee.onEvent(function(ki){switch(ki.kind){case 0:g._onDidContentSizeChange.fire(ki);break;case 1:g._editorTextFocus.setValue(ki.hasFocus);break;case 2:g._onDidScrollChange.fire(ki);break;case 3:g._onDidChangeViewZones.fire();break;case 4:g._onDidChangeHiddenAreas.fire();break;case 5:g._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(ki.reachedMaxCursorCount){var Di=g.getOption(77),rr=N.b("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",Di);g._notificationService.prompt(el.c.Warning,rr,[{label:"Find and Replace",run:function(){g._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:N.b("goToSetting","Increase Multi Cursor Limit"),run:function(){g._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}for(var Ti=[],Vi=0,Qi=ki.selections.length;Vi<Qi;Vi++)Ti[Vi]=ki.selections[Vi].getPosition();var yr={position:Ti[0],secondaryPositions:Ti.slice(1),reason:ki.reason,source:ki.source};g._onDidChangeCursorPosition.fire(yr);var Rr={selection:ki.selections[0],secondarySelections:ki.selections.slice(1),modelVersionId:ki.modelVersionId,oldSelections:ki.oldSelections,oldModelVersionId:ki.oldModelVersionId,source:ki.source,reason:ki.reason};g._onDidChangeCursorSelection.fire(Rr);break}case 7:g._onDidChangeModelDecorations.fire(ki.event);break;case 8:g._domElement.setAttribute("data-mode-id",u.getLanguageId()),g._onDidChangeModelLanguage.fire(ki.event);break;case 9:g._onDidChangeModelLanguageConfiguration.fire(ki.event);break;case 10:g._onDidChangeModelContent.fire(ki.event);break;case 11:g._onDidChangeModelOptions.fire(ki.event);break;case 12:g._onDidChangeModelTokens.fire(ki.event);break}}));var Le=this._createView(Ee),at=Object(ce.a)(Le,2),kt=at[0],Tt=at[1];if(Tt){this._domElement.appendChild(kt.domNode.domNode);for(var Qt=Object.keys(this._contentWidgets),Wt=0,vt=Qt.length;Wt<vt;Wt++){var wn=Qt[Wt];kt.addContentWidget(this._contentWidgets[wn])}Qt=Object.keys(this._overlayWidgets);for(var xn=0,ri=Qt.length;xn<ri;xn++){var hi=Qt[xn];kt.addOverlayWidget(this._overlayWidgets[hi])}kt.render(!1,!0),kt.domNode.domNode.setAttribute("data-uri",u.uri.toString())}this._modelData=new wd(u,Ee,kt,Tt,S,ie)}},{key:"_createView",value:function(u){var g=this,S;this.isSimpleWidget?S={paste:function(at,kt,Tt,Qt){g._paste("keyboard",at,kt,Tt,Qt)},type:function(at){g._type("keyboard",at)},compositionType:function(at,kt,Tt,Qt){g._compositionType("keyboard",at,kt,Tt,Qt)},startComposition:function(){g._startComposition()},endComposition:function(){g._endComposition("keyboard")},cut:function(){g._cut("keyboard")}}:S={paste:function(at,kt,Tt,Qt){var Wt={text:at,pasteOnNewLine:kt,multicursorText:Tt,mode:Qt};g._commandService.executeCommand("paste",Wt)},type:function(at){var kt={text:at};g._commandService.executeCommand("type",kt)},compositionType:function(at,kt,Tt,Qt){if(Tt||Qt){var Wt={text:at,replacePrevCharCnt:kt,replaceNextCharCnt:Tt,positionDelta:Qt};g._commandService.executeCommand("compositionType",Wt)}else{var vt={text:at,replaceCharCnt:kt};g._commandService.executeCommand("replacePreviousChar",vt)}},startComposition:function(){g._commandService.executeCommand("compositionStart",{})},endComposition:function(){g._commandService.executeCommand("compositionEnd",{})},cut:function(){g._commandService.executeCommand("cut",{})}};var ie=new si(u.coordinatesConverter);ie.onKeyDown=function(Le){return g._onKeyDown.fire(Le)},ie.onKeyUp=function(Le){return g._onKeyUp.fire(Le)},ie.onContextMenu=function(Le){return g._onContextMenu.fire(Le)},ie.onMouseMove=function(Le){return g._onMouseMove.fire(Le)},ie.onMouseLeave=function(Le){return g._onMouseLeave.fire(Le)},ie.onMouseDown=function(Le){return g._onMouseDown.fire(Le)},ie.onMouseUp=function(Le){return g._onMouseUp.fire(Le)},ie.onMouseDrag=function(Le){return g._onMouseDrag.fire(Le)},ie.onMouseDrop=function(Le){return g._onMouseDrop.fire(Le)},ie.onMouseDropCanceled=function(Le){return g._onMouseDropCanceled.fire(Le)},ie.onMouseWheel=function(Le){return g._onMouseWheel.fire(Le)};var Ee=new vl(S,this._configuration,this._themeService.getColorTheme(),u,ie,this._overflowWidgetsDomNode);return[Ee,!0]}},{key:"_postDetachModelCleanup",value:function(u){u==null||u.removeAllDecorationsWithOwnerId(this._id)}},{key:"_detachModel",value:function(){if(!this._modelData)return null;var u=this._modelData.model,g=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),g&&this._domElement.contains(g)&&this._domElement.removeChild(g),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),u}},{key:"_removeDecorationType",value:function(u){this._codeEditorService.removeDecorationType(u)}},{key:"hasModel",value:function(){return this._modelData!==null}},{key:"showDropIndicatorAt",value:function(u){var g=[{range:new Pn.a(u.lineNumber,u.column,u.lineNumber,u.column),options:v.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(g),this.revealPosition(u,1)}},{key:"removeDropIndicator",value:function(){this._dropIntoEditorDecorations.clear()}}],[{key:"_getVerticalOffsetAfterPosition",value:function(u,g,S,ie){var Ee=u.model.validatePosition({lineNumber:g,column:S}),Le=u.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Ee);return u.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(Le.lineNumber,ie)}},{key:"_getVerticalOffsetForPosition",value:function(u,g,S){var ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Ee=u.model.validatePosition({lineNumber:g,column:S}),Le=u.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Ee);return u.viewModel.viewLayout.getVerticalOffsetForLineNumber(Le.lineNumber,ie)}}]),v}(C.a);Au.dropIntoEditorDecorationOptions=zu.b.register({description:"workbench-dnd-target",className:"dnd-target"}),Au=_l([Ts(3,yd.a),Ts(4,Et.a),Ts(5,ol.b),Ts(6,Kc.b),Ts(7,Yr.b),Ts(8,el.a),Ts(9,me.b),Ts(10,Qc.a),Ts(11,Cc.a)],Au);var ih=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;return Object(Y.a)(this,v),u=be.call(this),u._emitterOptions=m,u._onDidChangeToTrue=u._register(new D.b(u._emitterOptions)),u.onDidChangeToTrue=u._onDidChangeToTrue.event,u._onDidChangeToFalse=u._register(new D.b(u._emitterOptions)),u.onDidChangeToFalse=u._onDidChangeToFalse.event,u._value=0,u}return Object(E.a)(v,[{key:"setValue",value:function(u){var g=u?2:1;this._value!==g&&(this._value=g,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}]),v}(C.a),wo=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u){var g;return Object(Y.a)(this,v),g=be.call(this,{deliveryQueue:u}),g._contributions=m,g}return Object(E.a)(v,[{key:"fire",value:function(u){this._contributions.onBeforeInteractionEvent(),Object(se.a)(Object(te.a)(v.prototype),"fire",this).call(this,u)}}]),v}(D.b),rh=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u){var g;return Object(Y.a)(this,v),g=be.call(this),g._editor=m,u.createKey("editorId",m.getId()),g._editorSimpleInput=ho.a.editorSimpleInput.bindTo(u),g._editorFocus=ho.a.focus.bindTo(u),g._textInputFocus=ho.a.textInputFocus.bindTo(u),g._editorTextFocus=ho.a.editorTextFocus.bindTo(u),g._editorTabMovesFocus=ho.a.tabMovesFocus.bindTo(u),g._editorReadonly=ho.a.readOnly.bindTo(u),g._inDiffEditor=ho.a.inDiffEditor.bindTo(u),g._editorColumnSelection=ho.a.columnSelection.bindTo(u),g._hasMultipleSelections=ho.a.hasMultipleSelections.bindTo(u),g._hasNonEmptySelection=ho.a.hasNonEmptySelection.bindTo(u),g._canUndo=ho.a.canUndo.bindTo(u),g._canRedo=ho.a.canRedo.bindTo(u),g._register(g._editor.onDidChangeConfiguration(function(){return g._updateFromConfig()})),g._register(g._editor.onDidChangeCursorSelection(function(){return g._updateFromSelection()})),g._register(g._editor.onDidFocusEditorWidget(function(){return g._updateFromFocus()})),g._register(g._editor.onDidBlurEditorWidget(function(){return g._updateFromFocus()})),g._register(g._editor.onDidFocusEditorText(function(){return g._updateFromFocus()})),g._register(g._editor.onDidBlurEditorText(function(){return g._updateFromFocus()})),g._register(g._editor.onDidChangeModel(function(){return g._updateFromModel()})),g._register(g._editor.onDidChangeConfiguration(function(){return g._updateFromModel()})),g._register(re.a.onDidChangeTabFocus(function(){return g._editorTabMovesFocus.set(re.a.getTabFocusMode("editorFocus"))})),g._updateFromConfig(),g._updateFromSelection(),g._updateFromFocus(),g._updateFromModel(),g._editorSimpleInput.set(g._editor.isSimpleWidget),g}return Object(E.a)(v,[{key:"_updateFromConfig",value:function(){var u=this._editor.getOptions();this._editorTabMovesFocus.set(re.a.getTabFocusMode("editorFocus")),this._editorReadonly.set(u.get(88)),this._inDiffEditor.set(u.get(59)),this._editorColumnSelection.set(u.get(20))}},{key:"_updateFromSelection",value:function(){var u=this._editor.getSelections();u?(this._hasMultipleSelections.set(u.length>1),this._hasNonEmptySelection.set(u.some(function(g){return!g.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}},{key:"_updateFromFocus",value:function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}},{key:"_updateFromModel",value:function(){var u=this._editor.getModel();this._canUndo.set(Boolean(u&&u.canUndo())),this._canRedo.set(Boolean(u&&u.canRedo()))}}]),v}(C.a),Oc=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m,u,g){var S;Object(Y.a)(this,v),S=be.call(this),S._editor=m,S._contextKeyService=u,S._languageFeaturesService=g,S._langId=ho.a.languageId.bindTo(u),S._hasCompletionItemProvider=ho.a.hasCompletionItemProvider.bindTo(u),S._hasCodeActionsProvider=ho.a.hasCodeActionsProvider.bindTo(u),S._hasCodeLensProvider=ho.a.hasCodeLensProvider.bindTo(u),S._hasDefinitionProvider=ho.a.hasDefinitionProvider.bindTo(u),S._hasDeclarationProvider=ho.a.hasDeclarationProvider.bindTo(u),S._hasImplementationProvider=ho.a.hasImplementationProvider.bindTo(u),S._hasTypeDefinitionProvider=ho.a.hasTypeDefinitionProvider.bindTo(u),S._hasHoverProvider=ho.a.hasHoverProvider.bindTo(u),S._hasDocumentHighlightProvider=ho.a.hasDocumentHighlightProvider.bindTo(u),S._hasDocumentSymbolProvider=ho.a.hasDocumentSymbolProvider.bindTo(u),S._hasReferenceProvider=ho.a.hasReferenceProvider.bindTo(u),S._hasRenameProvider=ho.a.hasRenameProvider.bindTo(u),S._hasSignatureHelpProvider=ho.a.hasSignatureHelpProvider.bindTo(u),S._hasInlayHintsProvider=ho.a.hasInlayHintsProvider.bindTo(u),S._hasDocumentFormattingProvider=ho.a.hasDocumentFormattingProvider.bindTo(u),S._hasDocumentSelectionFormattingProvider=ho.a.hasDocumentSelectionFormattingProvider.bindTo(u),S._hasMultipleDocumentFormattingProvider=ho.a.hasMultipleDocumentFormattingProvider.bindTo(u),S._hasMultipleDocumentSelectionFormattingProvider=ho.a.hasMultipleDocumentSelectionFormattingProvider.bindTo(u),S._isInWalkThrough=ho.a.isInWalkThroughSnippet.bindTo(u);var ie=function(){return S._update()};return S._register(m.onDidChangeModel(ie)),S._register(m.onDidChangeModelLanguage(ie)),S._register(g.completionProvider.onDidChange(ie)),S._register(g.codeActionProvider.onDidChange(ie)),S._register(g.codeLensProvider.onDidChange(ie)),S._register(g.definitionProvider.onDidChange(ie)),S._register(g.declarationProvider.onDidChange(ie)),S._register(g.implementationProvider.onDidChange(ie)),S._register(g.typeDefinitionProvider.onDidChange(ie)),S._register(g.hoverProvider.onDidChange(ie)),S._register(g.documentHighlightProvider.onDidChange(ie)),S._register(g.documentSymbolProvider.onDidChange(ie)),S._register(g.referenceProvider.onDidChange(ie)),S._register(g.renameProvider.onDidChange(ie)),S._register(g.documentFormattingEditProvider.onDidChange(ie)),S._register(g.documentRangeFormattingEditProvider.onDidChange(ie)),S._register(g.signatureHelpProvider.onDidChange(ie)),S._register(g.inlayHintsProvider.onDidChange(ie)),ie(),S}return Object(E.a)(v,[{key:"dispose",value:function(){Object(se.a)(Object(te.a)(v.prototype),"dispose",this).call(this)}},{key:"reset",value:function(){var u=this;this._contextKeyService.bufferChangeEvents(function(){u._langId.reset(),u._hasCompletionItemProvider.reset(),u._hasCodeActionsProvider.reset(),u._hasCodeLensProvider.reset(),u._hasDefinitionProvider.reset(),u._hasDeclarationProvider.reset(),u._hasImplementationProvider.reset(),u._hasTypeDefinitionProvider.reset(),u._hasHoverProvider.reset(),u._hasDocumentHighlightProvider.reset(),u._hasDocumentSymbolProvider.reset(),u._hasReferenceProvider.reset(),u._hasRenameProvider.reset(),u._hasDocumentFormattingProvider.reset(),u._hasDocumentSelectionFormattingProvider.reset(),u._hasSignatureHelpProvider.reset(),u._isInWalkThrough.reset()})}},{key:"_update",value:function(){var u=this,g=this._editor.getModel();if(!g){this.reset();return}this._contextKeyService.bufferChangeEvents(function(){u._langId.set(g.getLanguageId()),u._hasCompletionItemProvider.set(u._languageFeaturesService.completionProvider.has(g)),u._hasCodeActionsProvider.set(u._languageFeaturesService.codeActionProvider.has(g)),u._hasCodeLensProvider.set(u._languageFeaturesService.codeLensProvider.has(g)),u._hasDefinitionProvider.set(u._languageFeaturesService.definitionProvider.has(g)),u._hasDeclarationProvider.set(u._languageFeaturesService.declarationProvider.has(g)),u._hasImplementationProvider.set(u._languageFeaturesService.implementationProvider.has(g)),u._hasTypeDefinitionProvider.set(u._languageFeaturesService.typeDefinitionProvider.has(g)),u._hasHoverProvider.set(u._languageFeaturesService.hoverProvider.has(g)),u._hasDocumentHighlightProvider.set(u._languageFeaturesService.documentHighlightProvider.has(g)),u._hasDocumentSymbolProvider.set(u._languageFeaturesService.documentSymbolProvider.has(g)),u._hasReferenceProvider.set(u._languageFeaturesService.referenceProvider.has(g)),u._hasRenameProvider.set(u._languageFeaturesService.renameProvider.has(g)),u._hasSignatureHelpProvider.set(u._languageFeaturesService.signatureHelpProvider.has(g)),u._hasInlayHintsProvider.set(u._languageFeaturesService.inlayHintsProvider.has(g)),u._hasDocumentFormattingProvider.set(u._languageFeaturesService.documentFormattingEditProvider.has(g)||u._languageFeaturesService.documentRangeFormattingEditProvider.has(g)),u._hasDocumentSelectionFormattingProvider.set(u._languageFeaturesService.documentRangeFormattingEditProvider.has(g)),u._hasMultipleDocumentFormattingProvider.set(u._languageFeaturesService.documentFormattingEditProvider.all(g).length+u._languageFeaturesService.documentRangeFormattingEditProvider.all(g).length>1),u._hasMultipleDocumentSelectionFormattingProvider.set(u._languageFeaturesService.documentRangeFormattingEditProvider.all(g).length>1),u._isInWalkThrough.set(g.uri.scheme===x.c.walkThroughSnippet)})}}]),v}(C.a),ec=function(Ke){Object($.a)(v,Ke);var be=Object(_.a)(v);function v(m){var u;return Object(Y.a)(this,v),u=be.call(this),u._onChange=u._register(new D.b),u.onChange=u._onChange.event,u._hasFocus=!1,u._domFocusTracker=u._register(H.trackFocus(m)),u._register(u._domFocusTracker.onDidFocus(function(){u._hasFocus=!0,u._onChange.fire(void 0)})),u._register(u._domFocusTracker.onDidBlur(function(){u._hasFocus=!1,u._onChange.fire(void 0)})),u}return Object(E.a)(v,[{key:"hasFocus",value:function(){return this._hasFocus}}]),v}(C.a),Yc=function(){function Ke(be,v){Object(Y.a)(this,Ke),this._editor=be,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(v)&&v.length>0&&this.set(v)}return Object(E.a)(Ke,[{key:"length",get:function(){return this._decorationIds.length}},{key:"onDidChange",value:function(v,m,u){var g=this;return this._editor.onDidChangeModelDecorations(function(S){g._isChangingDecorations||v.call(m,S)},u)}},{key:"getRange",value:function(v){return!this._editor.hasModel()||v>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[v])}},{key:"getRanges",value:function(){if(!this._editor.hasModel())return[];var v=this._editor.getModel(),m=[],u=Object(w.a)(this._decorationIds),g;try{for(u.s();!(g=u.n()).done;){var S=g.value,ie=v.getDecorationRange(S);ie&&m.push(ie)}}catch(Ee){u.e(Ee)}finally{u.f()}return m}},{key:"has",value:function(v){return this._decorationIds.includes(v.id)}},{key:"clear",value:function(){this._decorationIds.length!==0&&this.set([])}},{key:"set",value:function(v){var m=this;try{this._isChangingDecorations=!0,this._editor.changeDecorations(function(u){m._decorationIds=u.deltaDecorations(m._decorationIds,v)})}finally{this._isChangingDecorations=!1}return this._decorationIds}}]),Ke}(),Jl=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Cl=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function tc(Ke){return Jl+encodeURIComponent(Ke.toString())+Cl}var Zc=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Xc=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function Ru(Ke){return Zc+encodeURIComponent(Ke.toString())+Xc}Object(Yr.e)(function(Ke,be){var v=Ke.getColor(la.H);v&&be.addRule(".monaco-editor .".concat("squiggly-error",' { background: url("data:image/svg+xml,',tc(v),'") repeat-x bottom left; }'));var m=Ke.getColor(la.fb);m&&be.addRule(".monaco-editor .".concat("squiggly-warning",' { background: url("data:image/svg+xml,',tc(m),'") repeat-x bottom left; }'));var u=Ke.getColor(la.U);u&&be.addRule(".monaco-editor .".concat("squiggly-info",' { background: url("data:image/svg+xml,',tc(u),'") repeat-x bottom left; }'));var g=Ke.getColor(la.P);g&&be.addRule(".monaco-editor .".concat("squiggly-hint",' { background: url("data:image/svg+xml,',Ru(g),'") no-repeat bottom left; }'));var S=Ke.getColor(ti.D);S&&be.addRule(".monaco-editor.showUnused .".concat("squiggly-inline-unnecessary"," { opacity: ",S.rgba.a,"; }"))})},nD70:function(mn,U,a){"use strict";a.d(U,"a",function(){return w}),a.d(U,"b",function(){return ve});var ce=a("fWQN"),we=a("mtLc"),w=function(){function se(te){Object(ce.a)(this,se),this._prefix=te,this._lastId=0}return Object(we.a)(se,[{key:"nextId",value:function(){return this._prefix+ ++this._lastId}}]),se}(),ve=new w("id#")},nEHx:function(mn,U,a){"use strict";a.d(U,"a",function(){return ce}),a.d(U,"c",function(){return we}),a.d(U,"b",function(){return w});var ce;(function(ve){ve.DARK="dark",ve.LIGHT="light",ve.HIGH_CONTRAST_DARK="hcDark",ve.HIGH_CONTRAST_LIGHT="hcLight"})(ce||(ce={}));function we(ve){return ve===ce.HIGH_CONTRAST_DARK||ve===ce.HIGH_CONTRAST_LIGHT}function w(ve){return ve===ce.DARK||ve===ce.HIGH_CONTRAST_DARK}},nEy2:function(mn,U,a){},nnTU:function(mn,U,a){"use strict";a.d(U,"b",function(){return E}),a.d(U,"a",function(){return Z});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("MI8n"),se=a("JYp7"),te=a("pmY6"),$=a("24hK"),_=a("746U"),Y=a("Cg/j"),E=Object(Y.c)("commandService"),Z=new(function(){function ne(){Object(we.a)(this,ne),this._commands=new Map,this._onDidRegisterCommand=new ve.b,this.onDidRegisterCommand=this._onDidRegisterCommand.event}return Object(w.a)(ne,[{key:"registerCommand",value:function(B,F){var W=this;if(!B)throw new Error("invalid command");if(typeof B=="string"){if(!F)throw new Error("invalid command");return this.registerCommand({id:B,handler:F})}if(B.description){var N=[],H=Object(ce.a)(B.description.args),d;try{for(H.s();!(d=H.n()).done;){var D=d.value;N.push(D.constraint)}}catch(I){H.e(I)}finally{H.f()}var C=B.handler;B.handler=function(I){for(var de=arguments.length,pe=new Array(de>1?de-1:0),fe=1;fe<de;fe++)pe[fe-1]=arguments[fe];return Object(_.m)(pe,N),C.apply(void 0,[I].concat(pe))}}var x=B.id,O=this._commands.get(x);O||(O=new $.a,this._commands.set(x,O));var T=O.unshift(B),z=Object(te.l)(function(){T();var I=W._commands.get(x);(I==null?void 0:I.isEmpty())&&W._commands.delete(x)});return this._onDidRegisterCommand.fire(x),z}},{key:"registerCommandAlias",value:function(B,F){return Z.registerCommand(B,function(W){for(var N,H=arguments.length,d=new Array(H>1?H-1:0),D=1;D<H;D++)d[D-1]=arguments[D];return(N=W.get(E)).executeCommand.apply(N,[F].concat(d))})}},{key:"getCommand",value:function(B){var F=this._commands.get(B);if(!(!F||F.isEmpty()))return se.a.first(F)}},{key:"getCommands",value:function(){var B=new Map,F=Object(ce.a)(this._commands.keys()),W;try{for(F.s();!(W=F.n()).done;){var N=W.value,H=this.getCommand(N);H&&B.set(N,H)}}catch(d){F.e(d)}finally{F.f()}return B}}]),ne}());Z.registerCommand("noop",function(){})},nrhi:function(mn,U,a){"use strict";a.d(U,"a",function(){return E});var ce=a("fWQN"),we=a("mtLc"),w=a("Szf2"),ve=a("MNsG"),se=a("nnTU"),te=a("ic2d"),$=a("pmY6"),_=a("24hK"),Y=function(){function V(){Object(ce.a)(this,V),this._coreKeybindings=new _.a,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}return Object(we.a)(V,[{key:"registerKeybindingRule",value:function(F){var W=V.bindToCurrentPlatform(F),N=new $.c;if(W&&W.primary){var H=Object(w.d)(W.primary,ve.a);H&&N.add(this._registerDefaultKeybinding(H,F.id,F.args,F.weight,0,F.when))}if(W&&Array.isArray(W.secondary))for(var d=0,D=W.secondary.length;d<D;d++){var C=W.secondary[d],x=Object(w.d)(C,ve.a);x&&N.add(this._registerDefaultKeybinding(x,F.id,F.args,F.weight,-d-1,F.when))}return N}},{key:"registerCommandAndKeybindingRule",value:function(F){return Object($.h)(this.registerKeybindingRule(F),se.a.registerCommand(F))}},{key:"_registerDefaultKeybinding",value:function(F,W,N,H,d,D){var C=this,x=this._coreKeybindings.push({keybinding:F,command:W,commandArgs:N,when:D,weight1:H,weight2:d,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,Object($.l)(function(){x(),C._cachedMergedKeybindings=null})}},{key:"getDefaultKeybindings",value:function(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(ne)),this._cachedMergedKeybindings.slice(0)}}],[{key:"bindToCurrentPlatform",value:function(F){if(ve.a===1){if(F&&F.win)return F.win}else if(ve.a===2){if(F&&F.mac)return F.mac}else if(F&&F.linux)return F.linux;return F}}]),V}(),E=new Y,Z={EditorModes:"platform.keybindingsRegistry"};te.a.add(Z.EditorModes,E);function ne(V,B){if(V.weight1!==B.weight1)return V.weight1-B.weight1;if(V.command&&B.command){if(V.command<B.command)return-1;if(V.command>B.command)return 1}return V.weight2-B.weight2}},nuFA:function(mn,U,a){"use strict";a.d(U,"a",function(){return ce});var ce;(function(we){function w($,_){if($.start>=_.end||_.start>=$.end)return{start:0,end:0};var Y=Math.max($.start,_.start),E=Math.min($.end,_.end);return E-Y<=0?{start:0,end:0}:{start:Y,end:E}}we.intersect=w;function ve($){return $.end-$.start<=0}we.isEmpty=ve;function se($,_){return!ve(w($,_))}we.intersects=se;function te($,_){var Y=[],E={start:$.start,end:Math.min(_.start,$.end)},Z={start:Math.max(_.end,$.start),end:$.end};return ve(E)||Y.push(E),ve(Z)||Y.push(Z),Y}we.relativeComplement=te})(ce||(ce={}))},"o/5H":function(mn,U,a){},o39E:function(mn,U,a){"use strict";a.d(U,"a",function(){return Y});var ce=a("fWQN"),we=a("mtLc"),w=a("w4Tj"),ve=a("oZsa"),se=a("yKVA"),te=a("879j"),$=a("pmY6"),_=a("MI8n"),Y=function(E){Object(se.a)(ne,E);var Z=Object(te.a)(ne);function ne(V,B){var F;return Object(ce.a)(this,ne),F=Z.call(this),F._onDidChange=F._register(new _.b),F.onDidChange=F._onDidChange.event,F._referenceDomElement=V,F._width=-1,F._height=-1,F._resizeObserver=null,F.measureReferenceDomElement(!1,B),F}return Object(we.a)(ne,[{key:"dispose",value:function(){this.stopObserving(),Object(w.a)(Object(ve.a)(ne.prototype),"dispose",this).call(this)}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"startObserving",value:function(){var B=this;!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(function(F){F&&F[0]&&F[0].contentRect?B.observe({width:F[0].contentRect.width,height:F[0].contentRect.height}):B.observe()}),this._resizeObserver.observe(this._referenceDomElement))}},{key:"stopObserving",value:function(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}},{key:"observe",value:function(B){this.measureReferenceDomElement(!0,B)}},{key:"measureReferenceDomElement",value:function(B,F){var W=0,N=0;F?(W=F.width,N=F.height):this._referenceDomElement&&(W=this._referenceDomElement.clientWidth,N=this._referenceDomElement.clientHeight),W=Math.max(5,W),N=Math.max(5,N),(this._width!==W||this._height!==N)&&(this._width=W,this._height=N,B&&this._onDidChange.fire())}}]),ne}($.a)},oAzg:function(mn,U,a){},oF4g:function(mn,U,a){"use strict";a.d(U,"b",function(){return se}),a.d(U,"a",function(){return $});var ce=a("fWQN"),we=a("mtLc"),w=a("Cg/j"),ve=a("3/fG"),se=Object(w.c)("audioCue"),te=function(){function _(Y){Object(ce.a)(this,_),this.fileName=Y}return Object(we.a)(_,null,[{key:"register",value:function(E){var Z=new _(E.fileName);return Z}}]),_}();te.error=te.register({fileName:"error.mp3"}),te.warning=te.register({fileName:"warning.mp3"}),te.foldedArea=te.register({fileName:"foldedAreas.mp3"}),te.break=te.register({fileName:"break.mp3"}),te.quickFixes=te.register({fileName:"quickFixes.mp3"}),te.taskCompleted=te.register({fileName:"taskCompleted.mp3"}),te.taskFailed=te.register({fileName:"taskFailed.mp3"}),te.terminalBell=te.register({fileName:"terminalBell.mp3"}),te.diffLineInserted=te.register({fileName:"diffLineInserted.mp3"}),te.diffLineDeleted=te.register({fileName:"diffLineDeleted.mp3"}),te.diffLineModified=te.register({fileName:"diffLineModified.mp3"});var $=function(){function _(Y,E,Z){Object(ce.a)(this,_),this.sound=Y,this.name=E,this.settingsKey=Z}return Object(we.a)(_,null,[{key:"register",value:function(E){var Z=new _(E.sound,E.name,E.settingsKey);return _._audioCues.add(Z),Z}}]),_}();$._audioCues=new Set,$.error=$.register({name:Object(ve.b)("audioCues.lineHasError.name","Error on Line"),sound:te.error,settingsKey:"audioCues.lineHasError"}),$.warning=$.register({name:Object(ve.b)("audioCues.lineHasWarning.name","Warning on Line"),sound:te.warning,settingsKey:"audioCues.lineHasWarning"}),$.foldedArea=$.register({name:Object(ve.b)("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:te.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),$.break=$.register({name:Object(ve.b)("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:te.break,settingsKey:"audioCues.lineHasBreakpoint"}),$.inlineSuggestion=$.register({name:Object(ve.b)("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:te.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),$.terminalQuickFix=$.register({name:Object(ve.b)("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:te.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),$.onDebugBreak=$.register({name:Object(ve.b)("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:te.break,settingsKey:"audioCues.onDebugBreak"}),$.noInlayHints=$.register({name:Object(ve.b)("audioCues.noInlayHints","No Inlay Hints on Line"),sound:te.error,settingsKey:"audioCues.noInlayHints"}),$.taskCompleted=$.register({name:Object(ve.b)("audioCues.taskCompleted","Task Completed"),sound:te.taskCompleted,settingsKey:"audioCues.taskCompleted"}),$.taskFailed=$.register({name:Object(ve.b)("audioCues.taskFailed","Task Failed"),sound:te.taskFailed,settingsKey:"audioCues.taskFailed"}),$.terminalCommandFailed=$.register({name:Object(ve.b)("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:te.error,settingsKey:"audioCues.terminalCommandFailed"}),$.terminalBell=$.register({name:Object(ve.b)("audioCues.terminalBell","Terminal Bell"),sound:te.terminalBell,settingsKey:"audioCues.terminalBell"}),$.notebookCellCompleted=$.register({name:Object(ve.b)("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:te.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),$.notebookCellFailed=$.register({name:Object(ve.b)("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:te.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),$.diffLineInserted=$.register({name:Object(ve.b)("audioCues.diffLineInserted","Diff Line Inserted"),sound:te.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),$.diffLineDeleted=$.register({name:Object(ve.b)("audioCues.diffLineDeleted","Diff Line Deleted"),sound:te.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),$.diffLineModified=$.register({name:Object(ve.b)("audioCues.diffLineModified","Diff Line Modified"),sound:te.diffLineModified,settingsKey:"audioCues.diffLineModified"})},oFSf:function(mn,U,a){"use strict";a.d(U,"b",function(){return W}),a.d(U,"a",function(){return N});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("3/fG"),se=a("/cxE"),te=a("gCVg"),$=a("bY76"),_=a("jRcv"),Y=a("HpOR"),E=a("gslv");function Z(H){return H.toString()}var ne=function(){function H(d,D,C,x,O,T,z){Object(we.a)(this,H),this.beforeVersionId=d,this.afterVersionId=D,this.beforeEOL=C,this.afterEOL=x,this.beforeCursorState=O,this.afterCursorState=T,this.changes=z}return Object(w.a)(H,[{key:"append",value:function(D,C,x,O,T){C.length>0&&(this.changes=Object(_.b)(this.changes,C)),this.afterEOL=x,this.afterVersionId=O,this.afterCursorState=T}},{key:"serialize",value:function(){var D=4+4+1+1+H._writeSelectionsSize(this.beforeCursorState)+H._writeSelectionsSize(this.afterCursorState)+4,C=Object(ce.a)(this.changes),x;try{for(C.s();!(x=C.n()).done;){var O=x.value;D+=O.writeSize()}}catch(fe){C.e(fe)}finally{C.f()}var T=new Uint8Array(D),z=0;Y.f(T,this.beforeVersionId,z),z+=4,Y.f(T,this.afterVersionId,z),z+=4,Y.g(T,this.beforeEOL,z),z+=1,Y.g(T,this.afterEOL,z),z+=1,z=H._writeSelections(T,this.beforeCursorState,z),z=H._writeSelections(T,this.afterCursorState,z),Y.f(T,this.changes.length,z),z+=4;var I=Object(ce.a)(this.changes),de;try{for(I.s();!(de=I.n()).done;){var pe=de.value;z=pe.write(T,z)}}catch(fe){I.e(fe)}finally{I.f()}return T.buffer}}],[{key:"create",value:function(D,C){var x=D.getAlternativeVersionId(),O=F(D);return new H(x,x,O,O,C,C,[])}},{key:"_writeSelectionsSize",value:function(D){return 4+4*4*(D?D.length:0)}},{key:"_writeSelections",value:function(D,C,x){if(Y.f(D,C?C.length:0,x),x+=4,C){var O=Object(ce.a)(C),T;try{for(O.s();!(T=O.n()).done;){var z=T.value;Y.f(D,z.selectionStartLineNumber,x),x+=4,Y.f(D,z.selectionStartColumn,x),x+=4,Y.f(D,z.positionLineNumber,x),x+=4,Y.f(D,z.positionColumn,x),x+=4}}catch(I){O.e(I)}finally{O.f()}}return x}},{key:"_readSelections",value:function(D,C,x){var O=Y.c(D,C);C+=4;for(var T=0;T<O;T++){var z=Y.c(D,C);C+=4;var I=Y.c(D,C);C+=4;var de=Y.c(D,C);C+=4;var pe=Y.c(D,C);C+=4,x.push(new te.a(z,I,de,pe))}return C}},{key:"deserialize",value:function(D){var C=new Uint8Array(D),x=0,O=Y.c(C,x);x+=4;var T=Y.c(C,x);x+=4;var z=Y.d(C,x);x+=1;var I=Y.d(C,x);x+=1;var de=[];x=H._readSelections(C,x,de);var pe=[];x=H._readSelections(C,x,pe);var fe=Y.c(C,x);x+=4;for(var ke=[],A=0;A<fe;A++)x=_.a.read(C,x,ke);return new H(O,T,z,I,de,pe,ke)}}]),H}(),V=function(){function H(d,D,C,x){Object(we.a)(this,H),this.label=d,this.code=D,this.model=C,this._data=ne.create(C,x)}return Object(w.a)(H,[{key:"type",get:function(){return 0}},{key:"resource",get:function(){return $.a.isUri(this.model)?this.model:this.model.uri}},{key:"toString",value:function(){var D=this._data instanceof ne?this._data:ne.deserialize(this._data);return D.changes.map(function(C){return C.toString()}).join(", ")}},{key:"matchesResource",value:function(D){var C=$.a.isUri(this.model)?this.model:this.model.uri;return C.toString()===D.toString()}},{key:"setModel",value:function(D){this.model=D}},{key:"canAppend",value:function(D){return this.model===D&&this._data instanceof ne}},{key:"append",value:function(D,C,x,O,T){this._data instanceof ne&&this._data.append(D,C,x,O,T)}},{key:"close",value:function(){this._data instanceof ne&&(this._data=this._data.serialize())}},{key:"open",value:function(){this._data instanceof ne||(this._data=ne.deserialize(this._data))}},{key:"undo",value:function(){if($.a.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof ne&&(this._data=this._data.serialize());var D=ne.deserialize(this._data);this.model._applyUndo(D.changes,D.beforeEOL,D.beforeVersionId,D.beforeCursorState)}},{key:"redo",value:function(){if($.a.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof ne&&(this._data=this._data.serialize());var D=ne.deserialize(this._data);this.model._applyRedo(D.changes,D.afterEOL,D.afterVersionId,D.afterCursorState)}},{key:"heapSize",value:function(){return this._data instanceof ne&&(this._data=this._data.serialize()),this._data.byteLength+168}}]),H}(),B=function(){function H(d,D,C){Object(we.a)(this,H),this.label=d,this.code=D,this.type=1,this._isOpen=!0,this._editStackElementsArr=C.slice(0),this._editStackElementsMap=new Map;var x=Object(ce.a)(this._editStackElementsArr),O;try{for(x.s();!(O=x.n()).done;){var T=O.value,z=Z(T.resource);this._editStackElementsMap.set(z,T)}}catch(I){x.e(I)}finally{x.f()}this._delegate=null}return Object(w.a)(H,[{key:"resources",get:function(){return this._editStackElementsArr.map(function(D){return D.resource})}},{key:"prepareUndoRedo",value:function(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}},{key:"matchesResource",value:function(D){var C=Z(D);return this._editStackElementsMap.has(C)}},{key:"setModel",value:function(D){var C=Z($.a.isUri(D)?D:D.uri);this._editStackElementsMap.has(C)&&this._editStackElementsMap.get(C).setModel(D)}},{key:"canAppend",value:function(D){if(!this._isOpen)return!1;var C=Z(D.uri);if(this._editStackElementsMap.has(C)){var x=this._editStackElementsMap.get(C);return x.canAppend(D)}return!1}},{key:"append",value:function(D,C,x,O,T){var z=Z(D.uri),I=this._editStackElementsMap.get(z);I.append(D,C,x,O,T)}},{key:"close",value:function(){this._isOpen=!1}},{key:"open",value:function(){}},{key:"undo",value:function(){this._isOpen=!1;var D=Object(ce.a)(this._editStackElementsArr),C;try{for(D.s();!(C=D.n()).done;){var x=C.value;x.undo()}}catch(O){D.e(O)}finally{D.f()}}},{key:"redo",value:function(){var D=Object(ce.a)(this._editStackElementsArr),C;try{for(D.s();!(C=D.n()).done;){var x=C.value;x.redo()}}catch(O){D.e(O)}finally{D.f()}}},{key:"heapSize",value:function(D){var C=Z(D);if(this._editStackElementsMap.has(C)){var x=this._editStackElementsMap.get(C);return x.heapSize()}return 0}},{key:"split",value:function(){return this._editStackElementsArr}},{key:"toString",value:function(){var D=[],C=Object(ce.a)(this._editStackElementsArr),x;try{for(C.s();!(x=C.n()).done;){var O=x.value;D.push("".concat(Object(E.b)(O.resource),": ").concat(O))}}catch(T){C.e(T)}finally{C.f()}return"{".concat(D.join(", "),"}")}}]),H}();function F(H){var d=H.getEOL();return d===`
`?0:1}function W(H){return H?H instanceof V||H instanceof B:!1}var N=function(){function H(d,D){Object(we.a)(this,H),this._model=d,this._undoRedoService=D}return Object(w.a)(H,[{key:"pushStackElement",value:function(){var D=this._undoRedoService.getLastElement(this._model.uri);W(D)&&D.close()}},{key:"popStackElement",value:function(){var D=this._undoRedoService.getLastElement(this._model.uri);W(D)&&D.open()}},{key:"clear",value:function(){this._undoRedoService.removeElements(this._model.uri)}},{key:"_getOrCreateEditStackElement",value:function(D,C){var x=this._undoRedoService.getLastElement(this._model.uri);if(W(x)&&x.canAppend(this._model))return x;var O=new V(ve.b("edit","Typing"),"undoredo.textBufferEdit",this._model,D);return this._undoRedoService.pushElement(O,C),O}},{key:"pushEOL",value:function(D){var C=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(D),C.append(this._model,[],F(this._model),this._model.getAlternativeVersionId(),null)}},{key:"pushEditOperation",value:function(D,C,x,O){var T=this._getOrCreateEditStackElement(D,O),z=this._model.applyEdits(C,!0),I=H._computeCursorState(x,z),de=z.map(function(pe,fe){return{index:fe,textChange:pe.textChange}});return de.sort(function(pe,fe){return pe.textChange.oldPosition===fe.textChange.oldPosition?pe.index-fe.index:pe.textChange.oldPosition-fe.textChange.oldPosition}),T.append(this._model,de.map(function(pe){return pe.textChange}),F(this._model),this._model.getAlternativeVersionId(),I),I}}],[{key:"_computeCursorState",value:function(D,C){try{return D?D(C):null}catch(x){return Object(se.h)(x),null}}}]),H}()},oIHe:function(mn,U,a){"use strict";a.d(U,"e",function(){return te}),a.d(U,"a",function(){return $}),a.d(U,"c",function(){return _}),a.d(U,"b",function(){return Y}),a.d(U,"d",function(){return E});var ce=a("N0LK"),we=a("PXCW"),w=a("p1iI"),ve=a("AYRw");function se(Z,ne,V){var B=Z.tokenization.getLanguageIdAtPosition(ne,0);if(ne>1){var F,W=-1;for(F=ne-1;F>=1;F--){if(Z.tokenization.getLanguageIdAtPosition(F,0)!==B)return W;var N=Z.getLineContent(F);if(V.shouldIgnore(N)||/^\s+$/.test(N)||N===""){W=F;continue}return F}}return-1}function te(Z,ne,V){var B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,F=arguments.length>4?arguments[4]:void 0;if(Z<4)return null;var W=F.getLanguageConfiguration(ne.tokenization.getLanguageId()).indentRulesSupport;if(!W)return null;if(V<=1)return{indentation:"",action:null};for(var N=V-1;N>0&&ne.getLineContent(N)==="";N--)if(N===1)return{indentation:"",action:null};var H=se(ne,V,W);if(H<0)return null;if(H<1)return{indentation:"",action:null};var d=ne.getLineContent(H);if(W.shouldIncrease(d)||W.shouldIndentNextLine(d))return{indentation:ce.x(d),action:we.b.Indent,line:H};if(W.shouldDecrease(d))return{indentation:ce.x(d),action:null,line:H};if(H===1)return{indentation:ce.x(ne.getLineContent(H)),action:null,line:H};var D=H-1,C=W.getIndentMetadata(ne.getLineContent(D));if(!(C&(1|2))&&C&4){for(var x=0,O=D-1;O>0;O--)if(!W.shouldIndentNextLine(ne.getLineContent(O))){x=O;break}return{indentation:ce.x(ne.getLineContent(x+1)),action:null,line:x+1}}if(B)return{indentation:ce.x(ne.getLineContent(H)),action:null,line:H};for(var T=H;T>0;T--){var z=ne.getLineContent(T);if(W.shouldIncrease(z))return{indentation:ce.x(z),action:we.b.Indent,line:T};if(W.shouldIndentNextLine(z)){for(var I=0,de=T-1;de>0;de--)if(!W.shouldIndentNextLine(ne.getLineContent(T))){I=de;break}return{indentation:ce.x(ne.getLineContent(I+1)),action:null,line:I+1}}else if(W.shouldDecrease(z))return{indentation:ce.x(z),action:null,line:T}}return{indentation:ce.x(ne.getLineContent(1)),action:null,line:1}}function $(Z,ne,V,B,F,W){if(Z<4)return null;var N=W.getLanguageConfiguration(V);if(!N)return null;var H=W.getLanguageConfiguration(V).indentRulesSupport;if(!H)return null;var d=te(Z,ne,B,void 0,W),D=ne.getLineContent(B);if(d){var C=d.line;if(C!==void 0){for(var x=!0,O=C;O<B-1;O++)if(!/^\s*$/.test(ne.getLineContent(O))){x=!1;break}if(x){var T=N.onEnter(Z,"",ne.getLineContent(C),"");if(T){var z=ce.x(ne.getLineContent(C));return T.removeText&&(z=z.substring(0,z.length-T.removeText)),T.indentAction===we.b.Indent||T.indentAction===we.b.IndentOutdent?z=F.shiftIndent(z):T.indentAction===we.b.Outdent&&(z=F.unshiftIndent(z)),H.shouldDecrease(D)&&(z=F.unshiftIndent(z)),T.appendText&&(z+=T.appendText),ce.x(z)}}}return H.shouldDecrease(D)?d.action===we.b.Indent?d.indentation:F.unshiftIndent(d.indentation):d.action===we.b.Indent?F.shiftIndent(d.indentation):d.indentation}return null}function _(Z,ne,V,B,F){if(Z<4)return null;ne.tokenization.forceTokenization(V.startLineNumber);var W=ne.tokenization.getLineTokens(V.startLineNumber),N=Object(w.a)(W,V.startColumn-1),H=N.getLineContent(),d=!1,D;N.firstCharOffset>0&&W.getLanguageId(0)!==N.languageId?(d=!0,D=H.substr(0,V.startColumn-1-N.firstCharOffset)):D=W.getLineContent().substring(0,V.startColumn-1);var C;if(V.isEmpty())C=H.substr(V.startColumn-1-N.firstCharOffset);else{var x=Object(ve.c)(ne,V.endLineNumber,V.endColumn);C=x.getLineContent().substr(V.endColumn-1-N.firstCharOffset)}var O=F.getLanguageConfiguration(N.languageId).indentRulesSupport;if(!O)return null;var T=D,z=ce.x(D),I={tokenization:{getLineTokens:function(P){return ne.tokenization.getLineTokens(P)},getLanguageId:function(){return ne.getLanguageId()},getLanguageIdAtPosition:function(P,G){return ne.getLanguageIdAtPosition(P,G)}},getLineContent:function(P){return P===V.startLineNumber?T:ne.getLineContent(P)}},de=ce.x(W.getLineContent()),pe=te(Z,I,V.startLineNumber+1,void 0,F);if(!pe){var fe=d?de:z;return{beforeEnter:fe,afterEnter:fe}}var ke=d?de:pe.indentation;return pe.action===we.b.Indent&&(ke=B.shiftIndent(ke)),O.shouldDecrease(C)&&(ke=B.unshiftIndent(ke)),{beforeEnter:d?de:z,afterEnter:ke}}function Y(Z,ne,V,B,F,W){if(Z<4)return null;var N=Object(ve.c)(ne,V.startLineNumber,V.startColumn);if(N.firstCharOffset)return null;var H=W.getLanguageConfiguration(N.languageId).indentRulesSupport;if(!H)return null;var d=N.getLineContent(),D=d.substr(0,V.startColumn-1-N.firstCharOffset),C;if(V.isEmpty())C=d.substr(V.startColumn-1-N.firstCharOffset);else{var x=Object(ve.c)(ne,V.endLineNumber,V.endColumn);C=x.getLineContent().substr(V.endColumn-1-N.firstCharOffset)}if(!H.shouldDecrease(D+C)&&H.shouldDecrease(D+B+C)){var O=te(Z,ne,V.startLineNumber,!1,W);if(!O)return null;var T=O.indentation;return O.action!==we.b.Indent&&(T=F.unshiftIndent(T)),T}return null}function E(Z,ne,V){var B=V.getLanguageConfiguration(Z.getLanguageId()).indentRulesSupport;return!B||ne<1||ne>Z.getLineCount()?null:B.getIndentMetadata(Z.getLineContent(ne))}},"p+Yh":function(mn,U,a){"use strict";a.d(U,"a",function(){return se});var ce=a("fWQN"),we=a("mtLc"),w=a("MI8n"),ve=function(){function te(){Object(ce.a)(this,te),this._tabFocusTerminal=!1,this._tabFocusEditor=!1,this._onDidChangeTabFocus=new w.b,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return Object(we.a)(te,[{key:"getTabFocusMode",value:function(_){return _==="terminalFocus"?this._tabFocusTerminal:this._tabFocusEditor}},{key:"setTabFocusMode",value:function(_,Y){Y==="terminalFocus"?this._tabFocusTerminal=_:this._tabFocusEditor=_,this._onDidChangeTabFocus.fire()}}]),te}(),se=new ve},"p/Xk":function(mn,U,a){"use strict";a.d(U,"f",function(){return ve}),a.d(U,"b",function(){return se}),a.d(U,"g",function(){return te}),a.d(U,"h",function(){return $}),a.d(U,"i",function(){return _}),a.d(U,"e",function(){return Y}),a.d(U,"d",function(){return E}),a.d(U,"c",function(){return Z}),a.d(U,"a",function(){return ne});var ce=a("rAM+"),we=a("mtLc"),w=a("fWQN"),ve=Object(we.a)(function V(){Object(w.a)(this,V),this.changeType=1}),se=function(){function V(B,F,W,N,H){Object(w.a)(this,V),this.ownerId=B,this.lineNumber=F,this.column=W,this.options=N,this.order=H}return Object(we.a)(V,null,[{key:"applyInjectedText",value:function(F,W){if(!W||W.length===0)return F;var N="",H=0,d=Object(ce.a)(W),D;try{for(d.s();!(D=d.n()).done;){var C=D.value;N+=F.substring(H,C.column-1),H=C.column-1,N+=C.options.content}}catch(x){d.e(x)}finally{d.f()}return N+=F.substring(H),N}},{key:"fromDecorations",value:function(F){var W=[],N=Object(ce.a)(F),H;try{for(N.s();!(H=N.n()).done;){var d=H.value;d.options.before&&d.options.before.content.length>0&&W.push(new V(d.ownerId,d.range.startLineNumber,d.range.startColumn,d.options.before,0)),d.options.after&&d.options.after.content.length>0&&W.push(new V(d.ownerId,d.range.endLineNumber,d.range.endColumn,d.options.after,1))}}catch(D){N.e(D)}finally{N.f()}return W.sort(function(D,C){return D.lineNumber===C.lineNumber?D.column===C.column?D.order-C.order:D.column-C.column:D.lineNumber-C.lineNumber}),W}}]),V}(),te=Object(we.a)(function V(B,F,W){Object(w.a)(this,V),this.changeType=2,this.lineNumber=B,this.detail=F,this.injectedText=W}),$=Object(we.a)(function V(B,F){Object(w.a)(this,V),this.changeType=3,this.fromLineNumber=B,this.toLineNumber=F}),_=Object(we.a)(function V(B,F,W,N){Object(w.a)(this,V),this.changeType=4,this.injectedTexts=N,this.fromLineNumber=B,this.toLineNumber=F,this.detail=W}),Y=Object(we.a)(function V(){Object(w.a)(this,V),this.changeType=5}),E=function(){function V(B,F,W,N){Object(w.a)(this,V),this.changes=B,this.versionId=F,this.isUndoing=W,this.isRedoing=N,this.resultingSelection=null}return Object(we.a)(V,[{key:"containsEvent",value:function(F){for(var W=0,N=this.changes.length;W<N;W++){var H=this.changes[W];if(H.changeType===F)return!0}return!1}}],[{key:"merge",value:function(F,W){var N=[].concat(F.changes).concat(W.changes),H=W.versionId,d=F.isUndoing||W.isUndoing,D=F.isRedoing||W.isRedoing;return new V(N,H,d,D)}}]),V}(),Z=Object(we.a)(function V(B){Object(w.a)(this,V),this.changes=B}),ne=function(){function V(B,F){Object(w.a)(this,V),this.rawContentChangedEvent=B,this.contentChangedEvent=F}return Object(we.a)(V,[{key:"merge",value:function(F){var W=E.merge(this.rawContentChangedEvent,F.rawContentChangedEvent),N=V._mergeChangeEvents(this.contentChangedEvent,F.contentChangedEvent);return new V(W,N)}}],[{key:"_mergeChangeEvents",value:function(F,W){var N=[].concat(F.changes).concat(W.changes),H=W.eol,d=W.versionId,D=F.isUndoing||W.isUndoing,C=F.isRedoing||W.isRedoing,x=F.isFlush||W.isFlush,O=F.isEolChange&&W.isEolChange;return{changes:N,eol:H,isEolChange:O,versionId:d,isUndoing:D,isRedoing:C,isFlush:x}}}]),V}()},p1iI:function(mn,U,a){"use strict";a.d(U,"a",function(){return w}),a.d(U,"b",function(){return se});var ce=a("fWQN"),we=a("mtLc");function w(te,$){for(var _=te.getCount(),Y=te.findTokenIndexAtOffset($),E=te.getLanguageId(Y),Z=Y;Z+1<_&&te.getLanguageId(Z+1)===E;)Z++;for(var ne=Y;ne>0&&te.getLanguageId(ne-1)===E;)ne--;return new ve(te,E,ne,Z+1,te.getStartOffset(ne),te.getEndOffset(Z))}var ve=function(){function te($,_,Y,E,Z,ne){Object(ce.a)(this,te),this._scopedLineTokensBrand=void 0,this._actual=$,this.languageId=_,this._firstTokenIndex=Y,this._lastTokenIndex=E,this.firstCharOffset=Z,this._lastCharOffset=ne}return Object(we.a)(te,[{key:"getLineContent",value:function(){var _=this._actual.getLineContent();return _.substring(this.firstCharOffset,this._lastCharOffset)}},{key:"getActualLineContentBefore",value:function(_){var Y=this._actual.getLineContent();return Y.substring(0,this.firstCharOffset+_)}},{key:"getTokenCount",value:function(){return this._lastTokenIndex-this._firstTokenIndex}},{key:"findTokenIndexAtOffset",value:function(_){return this._actual.findTokenIndexAtOffset(_+this.firstCharOffset)-this._firstTokenIndex}},{key:"getStandardTokenType",value:function(_){return this._actual.getStandardTokenType(_+this._firstTokenIndex)}}]),te}();function se(te){return(te&3)!=0}},"pED+":function(mn,U,a){},pYKB:function(mn,U,a){},"pZ+Q":function(mn,U,a){},pdYq:function(mn,U,a){"use strict";a.d(U,"a",function(){return W});var ce=a("fWQN"),we=a("mtLc"),w=a("5IQS"),ve=a("DZFm"),se=a("lwGy"),te=a("pvvD");function $(H){if(H.length===0)return null;if(H.length===1)return H[0];var d=0;function D(){if(d>=H.length)return null;var z=d,I=H[z].listHeight;for(d++;d<H.length&&H[d].listHeight===I;)d++;return d-z>=2?_(z===0&&d===H.length?H:H.slice(z,d),!1):H[z]}var C=D(),x=D();if(!x)return C;for(var O=D();O;O=D())Y(C,x)<=Y(x,O)?(C=E(C,x),x=O):x=E(x,O);var T=E(C,x);return T}function _(H){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H.length===0)return null;if(H.length===1)return H[0];for(var D=H.length;D>3;){for(var C=D>>1,x=0;x<C;x++){var O=x<<1;H[x]=w.c.create23(H[O],H[O+1],O+3===D?H[O+2]:null,d)}D=C}return w.c.create23(H[0],H[1],D>=3?H[2]:null,d)}function Y(H,d){return Math.abs(H.listHeight-d.listHeight)}function E(H,d){return H.listHeight===d.listHeight?w.c.create23(H,d,null,!1):H.listHeight>d.listHeight?Z(H,d):ne(d,H)}function Z(H,d){H=H.toMutable();for(var D=H,C=[],x;;){if(d.listHeight===D.listHeight){x=d;break}if(D.kind!==4)throw new Error("unexpected");C.push(D),D=D.makeLastElementMutable()}for(var O=C.length-1;O>=0;O--){var T=C[O];x?T.childrenLength>=3?x=w.c.create23(T.unappendChild(),x,null,!1):(T.appendChildOfSameHeight(x),x=void 0):T.handleChildrenChanged()}return x?w.c.create23(H,x,null,!1):H}function ne(H,d){H=H.toMutable();for(var D=H,C=[];d.listHeight!==D.listHeight;){if(D.kind!==4)throw new Error("unexpected");C.push(D),D=D.makeFirstElementMutable()}for(var x=d,O=C.length-1;O>=0;O--){var T=C[O];x?T.childrenLength>=3?x=w.c.create23(x,T.unprependChild(),null,!1):(T.prependChildOfSameHeight(x),x=void 0):T.handleChildrenChanged()}return x?w.c.create23(x,H,null,!1):H}var V=function(){function H(d){Object(ce.a)(this,H),this.lastOffset=te.m,this.nextNodes=[d],this.offsets=[te.m],this.idxs=[]}return Object(we.a)(H,[{key:"readLongestNodeAt",value:function(D,C){if(Object(te.i)(D,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=D;;){var x=F(this.nextNodes);if(!x)return;var O=F(this.offsets);if(Object(te.i)(D,O))return;if(Object(te.i)(O,D))if(Object(te.a)(O,x.length)<=D)this.nextNodeAfterCurrent();else{var T=B(x);T!==-1?(this.nextNodes.push(x.getChild(T)),this.offsets.push(O),this.idxs.push(T)):this.nextNodeAfterCurrent()}else{if(C(x))return this.nextNodeAfterCurrent(),x;var z=B(x);if(z===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(x.getChild(z)),this.offsets.push(O),this.idxs.push(z)}}}},{key:"nextNodeAfterCurrent",value:function(){for(;;){var D=F(this.offsets),C=F(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;var x=F(this.nextNodes),O=B(x,this.idxs[this.idxs.length-1]);if(O!==-1){this.nextNodes.push(x.getChild(O)),this.offsets.push(Object(te.a)(D,C.length)),this.idxs[this.idxs.length-1]=O;break}else this.idxs.pop()}}}]),H}();function B(H){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;;){if(d++,d>=H.childrenLength)return-1;if(H.getChild(d))return d}}function F(H){return H.length>0?H[H.length-1]:void 0}function W(H,d,D,C){var x=new N(H,d,D,C);return x.parseDocument()}var N=function(){function H(d,D,C,x){if(Object(ce.a)(this,H),this.tokenizer=d,this.createImmutableLists=x,this._itemsConstructed=0,this._itemsFromCache=0,C&&x)throw new Error("Not supported");this.oldNodeReader=C?new V(C):void 0,this.positionMapper=new ve.a(D)}return Object(we.a)(H,[{key:"parseDocument",value:function(){this._itemsConstructed=0,this._itemsFromCache=0;var D=this.parseList(se.b.getEmpty(),0);return D||(D=w.c.getEmpty()),D}},{key:"parseList",value:function(D,C){for(var x=[];;){var O=this.tryReadChildFromCache(D);if(!O){var T=this.tokenizer.peek();if(!T||T.kind===2&&T.bracketIds.intersects(D))break;O=this.parseChild(D,C+1)}O.kind===4&&O.childrenLength===0||x.push(O)}var z=this.oldNodeReader?$(x):_(x,this.createImmutableLists);return z}},{key:"tryReadChildFromCache",value:function(D){if(this.oldNodeReader){var C=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(C===null||!Object(te.h)(C)){var x=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),function(O){if(C!==null&&!Object(te.i)(O.length,C))return!1;var T=O.canBeReused(D);return T});if(x)return this._itemsFromCache++,this.tokenizer.skip(x.length),x}}}},{key:"parseChild",value:function(D,C){this._itemsConstructed++;var x=this.tokenizer.read();switch(x.kind){case 2:return new w.b(x.bracketIds,x.length);case 0:return x.astNode;case 1:{if(C>300)return new w.e(x.length);var O=D.merge(x.bracketIds),T=this.parseList(O,C+1),z=this.tokenizer.peek();return z&&z.kind===2&&(z.bracketId===x.bracketId||z.bracketIds.intersects(x.bracketIds))?(this.tokenizer.read(),w.d.create(x.astNode,T,z.astNode)):w.d.create(x.astNode,T,null)}default:throw new Error("unexpected")}}}]),H}()},pg8w:function(mn,U,a){"use strict";a.d(U,"a",function(){return F}),a.d(U,"b",function(){return W});var ce=a("rAM+"),we=a("oBTY"),w=a("fWQN"),ve=a("mtLc"),se=a("w4Tj"),te=a("oZsa"),$=a("yKVA"),_=a("879j"),Y=a("EffR"),E=a("6OMU"),Z=a("ZCR3"),ne=a("pmY6"),V=a("24hK"),B=function(N,H,d,D){var C=arguments.length,x=C<3?H:D===null?D=Object.getOwnPropertyDescriptor(H,d):D,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(N,H,d,D);else for(var T=N.length-1;T>=0;T--)(O=N[T])&&(x=(C<3?O(x):C>3?O(H,d,x):O(H,d))||x);return C>3&&x&&Object.defineProperty(H,d,x),x},F;(function(N){N.Tap="-monaco-gesturetap",N.Change="-monaco-gesturechange",N.Start="-monaco-gesturestart",N.End="-monaco-gesturesend",N.Contextmenu="-monaco-gesturecontextmenu"})(F||(F={}));var W=function(N){Object($.a)(d,N);var H=Object(_.a)(d);function d(){var D;return Object(w.a)(this,d),D=H.call(this),D.dispatched=!1,D.targets=new V.a,D.ignoreTargets=new V.a,D.activeTouches={},D.handle=null,D._lastSetTapCountTime=0,D._register(Y.addDisposableListener(document,"touchstart",function(C){return D.onTouchStart(C)},{passive:!1})),D._register(Y.addDisposableListener(document,"touchend",function(C){return D.onTouchEnd(C)})),D._register(Y.addDisposableListener(document,"touchmove",function(C){return D.onTouchMove(C)},{passive:!1})),D}return Object(ve.a)(d,[{key:"dispose",value:function(){this.handle&&(this.handle.dispose(),this.handle=null),Object(se.a)(Object(te.a)(d.prototype),"dispose",this).call(this)}},{key:"onTouchStart",value:function(C){var x=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(var O=0,T=C.targetTouches.length;O<T;O++){var z=C.targetTouches.item(O);this.activeTouches[z.identifier]={id:z.identifier,initialTarget:z.target,initialTimeStamp:x,initialPageX:z.pageX,initialPageY:z.pageY,rollingTimestamps:[x],rollingPageX:[z.pageX],rollingPageY:[z.pageY]};var I=this.newGestureEvent(F.Start,z.target);I.pageX=z.pageX,I.pageY=z.pageY,this.dispatchEvent(I)}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}},{key:"onTouchEnd",value:function(C){for(var x=this,O=Date.now(),T=Object.keys(this.activeTouches).length,z=function(ke,A){var P=C.changedTouches.item(ke);if(!x.activeTouches.hasOwnProperty(String(P.identifier)))return console.warn("move of an UNKNOWN touch",P),"continue";var G=x.activeTouches[P.identifier],re=Date.now()-G.initialTimeStamp;if(re<d.HOLD_DELAY&&Math.abs(G.initialPageX-E.C(G.rollingPageX))<30&&Math.abs(G.initialPageY-E.C(G.rollingPageY))<30){var ae=x.newGestureEvent(F.Tap,G.initialTarget);ae.pageX=E.C(G.rollingPageX),ae.pageY=E.C(G.rollingPageY),x.dispatchEvent(ae)}else if(re>=d.HOLD_DELAY&&Math.abs(G.initialPageX-E.C(G.rollingPageX))<30&&Math.abs(G.initialPageY-E.C(G.rollingPageY))<30){var Q=x.newGestureEvent(F.Contextmenu,G.initialTarget);Q.pageX=E.C(G.rollingPageX),Q.pageY=E.C(G.rollingPageY),x.dispatchEvent(Q)}else if(T===1){var J=E.C(G.rollingPageX),me=E.C(G.rollingPageY),ge=E.C(G.rollingTimestamps)-G.rollingTimestamps[0],L=J-G.rollingPageX[0],De=me-G.rollingPageY[0],Ae=Object(we.a)(x.targets).filter(function(Oe){return G.initialTarget instanceof Node&&Oe.contains(G.initialTarget)});x.inertia(Ae,O,Math.abs(L)/ge,L>0?1:-1,J,Math.abs(De)/ge,De>0?1:-1,me)}x.dispatchEvent(x.newGestureEvent(F.End,G.initialTarget)),delete x.activeTouches[P.identifier]},I=0,de=C.changedTouches.length;I<de;I++)var pe=z(I,de);this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}},{key:"newGestureEvent",value:function(C,x){var O=document.createEvent("CustomEvent");return O.initEvent(C,!1,!0),O.initialTarget=x,O.tapCount=0,O}},{key:"dispatchEvent",value:function(C){if(C.type===F.Tap){var x=new Date().getTime(),O=0;x-this._lastSetTapCountTime>d.CLEAR_TAP_COUNT_TIME?O=1:O=2,this._lastSetTapCountTime=x,C.tapCount=O}else(C.type===F.Change||C.type===F.Contextmenu)&&(this._lastSetTapCountTime=0);if(C.initialTarget instanceof Node){var T=Object(ce.a)(this.ignoreTargets),z;try{for(T.s();!(z=T.n()).done;){var I=z.value;if(I.contains(C.initialTarget))return}}catch(ke){T.e(ke)}finally{T.f()}var de=Object(ce.a)(this.targets),pe;try{for(de.s();!(pe=de.n()).done;){var fe=pe.value;fe.contains(C.initialTarget)&&(fe.dispatchEvent(C),this.dispatched=!0)}}catch(ke){de.e(ke)}finally{de.f()}}}},{key:"inertia",value:function(C,x,O,T,z,I,de,pe){var fe=this;this.handle=Y.scheduleAtNextAnimationFrame(function(){var ke=Date.now(),A=ke-x,P=0,G=0,re=!0;O+=d.SCROLL_FRICTION*A,I+=d.SCROLL_FRICTION*A,O>0&&(re=!1,P=T*O*A),I>0&&(re=!1,G=de*I*A);var ae=fe.newGestureEvent(F.Change);ae.translationX=P,ae.translationY=G,C.forEach(function(Q){return Q.dispatchEvent(ae)}),re||fe.inertia(C,ke,O,T,z+P,I,de,pe+G)})}},{key:"onTouchMove",value:function(C){for(var x=Date.now(),O=0,T=C.changedTouches.length;O<T;O++){var z=C.changedTouches.item(O);if(!this.activeTouches.hasOwnProperty(String(z.identifier))){console.warn("end of an UNKNOWN touch",z);continue}var I=this.activeTouches[z.identifier],de=this.newGestureEvent(F.Change,I.initialTarget);de.translationX=z.pageX-E.C(I.rollingPageX),de.translationY=z.pageY-E.C(I.rollingPageY),de.pageX=z.pageX,de.pageY=z.pageY,this.dispatchEvent(de),I.rollingPageX.length>3&&(I.rollingPageX.shift(),I.rollingPageY.shift(),I.rollingTimestamps.shift()),I.rollingPageX.push(z.pageX),I.rollingPageY.push(z.pageY),I.rollingTimestamps.push(x)}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}}],[{key:"addTarget",value:function(C){if(!d.isTouchDevice())return ne.a.None;d.INSTANCE||(d.INSTANCE=new d);var x=d.INSTANCE.targets.push(C);return Object(ne.l)(x)}},{key:"ignoreTarget",value:function(C){if(!d.isTouchDevice())return ne.a.None;d.INSTANCE||(d.INSTANCE=new d);var x=d.INSTANCE.ignoreTargets.push(C);return Object(ne.l)(x)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0}}]),d}(ne.a);W.SCROLL_FRICTION=-.005,W.HOLD_DELAY=700,W.CLEAR_TAP_COUNT_TIME=400,B([Z.a],W,"isTouchDevice",null)},pmY6:function(mn,U,a){"use strict";a.d(U,"k",function(){return B}),a.d(U,"j",function(){return F}),a.d(U,"i",function(){return W}),a.d(U,"h",function(){return N}),a.d(U,"l",function(){return H}),a.d(U,"c",function(){return d}),a.d(U,"a",function(){return D}),a.d(U,"e",function(){return C}),a.d(U,"f",function(){return x}),a.d(U,"g",function(){return O}),a.d(U,"d",function(){return T}),a.d(U,"b",function(){return z});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("C/vA"),se=a("JYp7"),te=!1,$=null;function _(I){$=I}if(te){var Y="__is_disposable_tracked__";_(new(function(){function I(){Object(we.a)(this,I)}return Object(w.a)(I,[{key:"trackDisposable",value:function(pe){var fe=new Error("Potentially leaked disposable").stack;setTimeout(function(){pe[Y]||console.log(fe)},3e3)}},{key:"setParent",value:function(pe,fe){if(pe&&pe!==D.None)try{pe[Y]=!0}catch(ke){}}},{key:"markAsDisposed",value:function(pe){if(pe&&pe!==D.None)try{pe[Y]=!0}catch(fe){}}},{key:"markAsSingleton",value:function(pe){}}]),I}()))}function E(I){return $==null||$.trackDisposable(I),I}function Z(I){$==null||$.markAsDisposed(I)}function ne(I,de){$==null||$.setParent(I,de)}function V(I,de){if(!!$){var pe=Object(ce.a)(I),fe;try{for(pe.s();!(fe=pe.n()).done;){var ke=fe.value;$.setParent(ke,de)}}catch(A){pe.e(A)}finally{pe.f()}}}function B(I){return $==null||$.markAsSingleton(I),I}function F(I){return typeof I.dispose=="function"&&I.dispose.length===0}function W(I){if(se.a.is(I)){var de=[],pe=Object(ce.a)(I),fe;try{for(pe.s();!(fe=pe.n()).done;){var ke=fe.value;if(ke)try{ke.dispose()}catch(A){de.push(A)}}}catch(A){pe.e(A)}finally{pe.f()}if(de.length===1)throw de[0];if(de.length>1)throw new AggregateError(de,"Encountered errors while disposing of store");return Array.isArray(I)?[]:I}else if(I)return I.dispose(),I}function N(){for(var I=arguments.length,de=new Array(I),pe=0;pe<I;pe++)de[pe]=arguments[pe];var fe=H(function(){return W(de)});return V(de,fe),fe}function H(I){var de=E({dispose:Object(ve.a)(function(){Z(de),I()})});return de}var d=function(){function I(){Object(we.a)(this,I),this._toDispose=new Set,this._isDisposed=!1,E(this)}return Object(w.a)(I,[{key:"dispose",value:function(){this._isDisposed||(Z(this),this._isDisposed=!0,this.clear())}},{key:"isDisposed",get:function(){return this._isDisposed}},{key:"clear",value:function(){if(this._toDispose.size!==0)try{W(this._toDispose)}finally{this._toDispose.clear()}}},{key:"add",value:function(pe){if(!pe)return pe;if(pe===this)throw new Error("Cannot register a disposable on itself!");return ne(pe,this),this._isDisposed?I.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(pe),pe}}]),I}();d.DISABLE_DISPOSED_WARNING=!1;var D=function(){function I(){Object(we.a)(this,I),this._store=new d,E(this),ne(this._store,this)}return Object(w.a)(I,[{key:"dispose",value:function(){Z(this),this._store.dispose()}},{key:"_register",value:function(pe){if(pe===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(pe)}}]),I}();D.None=Object.freeze({dispose:function(){}});var C=function(){function I(){Object(we.a)(this,I),this._isDisposed=!1,E(this)}return Object(w.a)(I,[{key:"value",get:function(){return this._isDisposed?void 0:this._value},set:function(pe){var fe;this._isDisposed||pe===this._value||((fe=this._value)===null||fe===void 0||fe.dispose(),pe&&ne(pe,this),this._value=pe)}},{key:"clear",value:function(){this.value=void 0}},{key:"dispose",value:function(){var pe;this._isDisposed=!0,Z(this),(pe=this._value)===null||pe===void 0||pe.dispose(),this._value=void 0}}]),I}(),x=function(){function I(de){Object(we.a)(this,I),this._disposable=de,this._counter=1}return Object(w.a)(I,[{key:"acquire",value:function(){return this._counter++,this}},{key:"release",value:function(){return--this._counter==0&&this._disposable.dispose(),this}}]),I}(),O=function(){function I(){Object(we.a)(this,I),this.dispose=function(){},this.unset=function(){},this.isset=function(){return!1},E(this)}return Object(w.a)(I,[{key:"set",value:function(pe){var fe=this,ke=pe;return this.unset=function(){return ke=void 0},this.isset=function(){return ke!==void 0},this.dispose=function(){ke&&(ke(),ke=void 0,Z(fe))},this}}]),I}(),T=function(){function I(de){Object(we.a)(this,I),this.object=de}return Object(w.a)(I,[{key:"dispose",value:function(){}}]),I}(),z=function(I){function de(){Object(we.a)(this,de),this._store=new Map,this._isDisposed=!1,E(this)}return Object(w.a)(de,[{key:"dispose",value:function(){Z(this),this._isDisposed=!0,this.clearAndDisposeAll()}},{key:"clearAndDisposeAll",value:function(){if(!!this._store.size)try{W(this._store.values())}finally{this._store.clear()}}},{key:"get",value:function(fe){return this._store.get(fe)}},{key:"set",value:function(fe,ke){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,P;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),A||(P=this._store.get(fe))===null||P===void 0||P.dispose(),this._store.set(fe,ke)}},{key:"deleteAndDispose",value:function(fe){var ke;(ke=this._store.get(fe))===null||ke===void 0||ke.dispose(),this._store.delete(fe)}},{key:I,value:function(){return this._store[Symbol.iterator]()}}]),de}(Symbol.iterator)},prHu:function(mn,U,a){},pvvD:function(mn,U,a){"use strict";a.d(U,"b",function(){return te}),a.d(U,"m",function(){return $}),a.d(U,"h",function(){return _}),a.d(U,"q",function(){return E}),a.d(U,"l",function(){return Z}),a.d(U,"f",function(){return ne}),a.d(U,"e",function(){return V}),a.d(U,"a",function(){return B}),a.d(U,"p",function(){return F}),a.d(U,"d",function(){return W}),a.d(U,"c",function(){return N}),a.d(U,"i",function(){return H}),a.d(U,"j",function(){return d}),a.d(U,"g",function(){return D}),a.d(U,"o",function(){return C}),a.d(U,"n",function(){return x}),a.d(U,"k",function(){return O});var ce=a("fWQN"),we=a("mtLc"),w=a("N0LK"),ve=a("aokT"),se=function(){function T(z,I){Object(ce.a)(this,T),this.lineCount=z,this.columnCount=I}return Object(we.a)(T,[{key:"toString",value:function(){return"".concat(this.lineCount,",").concat(this.columnCount)}}]),T}();se.zero=new se(0,0);function te(T,z,I,de){return T!==I?E(I-T,de):E(0,de-z)}var $=0;function _(T){return T===0}var Y=Math.pow(2,26);function E(T,z){return T*Y+z}function Z(T){var z=T,I=Math.floor(z/Y),de=z-I*Y;return new se(I,de)}function ne(T){return Math.floor(T/Y)}function V(T){return T}function B(T,z){var I=T+z;return z>=Y&&(I=I-T%Y),I}function F(T,z){return T.reduce(function(I,de){return B(I,z(de))},$)}function W(T,z){return T===z}function N(T,z){var I=T,de=z,pe=de-I;if(pe<=0)return $;var fe=Math.floor(I/Y),ke=Math.floor(de/Y),A=de-ke*Y;if(fe===ke){var P=I-fe*Y;return E(0,A-P)}else return E(ke-fe,A)}function H(T,z){return T<z}function d(T,z){return T<=z}function D(T,z){return T>=z}function C(T){return E(T.lineNumber-1,T.column-1)}function x(T,z){var I=T,de=Math.floor(I/Y),pe=I-de*Y,fe=z,ke=Math.floor(fe/Y),A=fe-ke*Y;return new ve.a(de+1,pe+1,ke+1,A+1)}function O(T){var z=Object(w.S)(T);return E(z.length-1,z[z.length-1].length)}},"q/I2":function(mn,U,a){},q63c:function(mn,U,a){"use strict";a.d(U,"b",function(){return w}),a.d(U,"a",function(){return ve});var ce=a("fWQN"),we=a("mtLc"),w=function(){function se(te){Object(ce.a)(this,se),this.fn=te,this.lastCache=void 0,this.lastArgKey=void 0}return Object(we.a)(se,[{key:"get",value:function($){var _=JSON.stringify($);return this.lastArgKey!==_&&(this.lastArgKey=_,this.lastCache=this.fn($)),this.lastCache}}]),se}(),ve=function(){function se(te){Object(ce.a)(this,se),this.fn=te,this._map=new Map}return Object(we.a)(se,[{key:"cachedValues",get:function(){return this._map}},{key:"get",value:function($){if(this._map.has($))return this._map.get($);var _=this.fn($);return this._map.set($,_),_}}]),se}()},qj0h:function(mn,U,a){"use strict";a.d(U,"c",function(){return ve}),a.d(U,"d",function(){return se}),a.d(U,"a",function(){return $}),a.d(U,"g",function(){return Y}),a.d(U,"e",function(){return E}),a.d(U,"f",function(){return ne}),a.d(U,"b",function(){return V});var ce=a("rAM+"),we=a("tJVT"),w=a("746U");function ve(B){if(!B||typeof B!="object"||B instanceof RegExp)return B;var F=Array.isArray(B)?[]:{};return Object.entries(B).forEach(function(W){var N=Object(we.a)(W,2),H=N[0],d=N[1];F[H]=d&&typeof d=="object"?ve(d):d}),F}function se(B){if(!B||typeof B!="object")return B;for(var F=[B];F.length>0;){var W=F.shift();Object.freeze(W);for(var N in W)if(te.call(W,N)){var H=W[N];typeof H=="object"&&!Object.isFrozen(H)&&!Object(w.j)(H)&&F.push(H)}}return B}var te=Object.prototype.hasOwnProperty;function $(B,F){return _(B,F,new Set)}function _(B,F,W){if(Object(w.l)(B))return B;var N=F(B);if(typeof N!="undefined")return N;if(Array.isArray(B)){var H=[],d=Object(ce.a)(B),D;try{for(d.s();!(D=d.n()).done;){var C=D.value;H.push(_(C,F,W))}}catch(T){d.e(T)}finally{d.f()}return H}if(Object(w.h)(B)){if(W.has(B))throw new Error("Cannot clone recursive data-structure");W.add(B);var x={};for(var O in B)te.call(B,O)&&(x[O]=_(B[O],F,W));return W.delete(B),x}return B}function Y(B,F){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Object(w.h)(B)?(Object(w.h)(F)&&Object.keys(F).forEach(function(N){N in B?W&&(Object(w.h)(B[N])&&Object(w.h)(F[N])?Y(B[N],F[N],W):B[N]=F[N]):B[N]=F[N]}),B):F}function E(B,F){if(B===F)return!0;if(B==null||F===null||F===void 0||typeof B!=typeof F||typeof B!="object"||Array.isArray(B)!==Array.isArray(F))return!1;var W,N;if(Array.isArray(B)){if(B.length!==F.length)return!1;for(W=0;W<B.length;W++)if(!E(B[W],F[W]))return!1}else{var H=[];for(N in B)H.push(N);H.sort();var d=[];for(N in F)d.push(N);if(d.sort(),!E(H,d))return!1;for(W=0;W<H.length;W++)if(!E(B[H[W]],F[H[W]]))return!1}return!0}function Z(B){for(var F=[],W=Object.getPrototypeOf(B);Object.prototype!==W;)F=F.concat(Object.getOwnPropertyNames(W)),W=Object.getPrototypeOf(W);return F}function ne(B){var F=[],W=Object(ce.a)(Z(B)),N;try{for(W.s();!(N=W.n()).done;){var H=N.value;typeof B[H]=="function"&&F.push(H)}}catch(d){W.e(d)}finally{W.f()}return F}function V(B,F){var W=function(x){return function(){var O=Array.prototype.slice.call(arguments,0);return F(x,O)}},N={},H=Object(ce.a)(B),d;try{for(H.s();!(d=H.n()).done;){var D=d.value;N[D]=W(D)}}catch(C){H.e(C)}finally{H.f()}return N}},r0BQ:function(mn,U,a){"use strict";a.d(U,"a",function(){return w});var ce=a("mtLc"),we=a("fWQN"),w=Object(ce.a)(function ve(se){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object(we.a)(this,ve),this.ctor=se,this.staticArguments=te,this.supportsDelayedInstantiation=$})},r6Ki:function(mn,U,a){},"rAM+":function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Qw5x");function we(w,ve){var se=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!se){if(Array.isArray(w)||(se=Object(ce.a)(w))||ve&&w&&typeof w.length=="number"){se&&(w=se);var te=0,$=function(){};return{s:$,n:function(){return te>=w.length?{done:!0}:{done:!1,value:w[te++]}},e:function(ne){throw ne},f:$}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,Y=!1,E;return{s:function(){se=se.call(w)},n:function(){var ne=se.next();return _=ne.done,ne},e:function(ne){Y=!0,E=ne},f:function(){try{!_&&se.return!=null&&se.return()}finally{if(Y)throw E}}}}},rKjB:function(mn,U,a){},rmIC:function(mn,U,a){},rmhi:function(mn,U,a){"use strict";a.d(U,"a",function(){return In});var ce=a("EFp3"),we=a("1wcP"),w=a("+L6B"),ve=a("KQm4"),se=a("wx14"),te=a("Ue1A"),$=a("2BaD"),_=a("RCxd"),Y=a("+YFz"),E=a("bJ/+"),Z=a("q1tI"),ne=a.n(Z),V=a("wEI+"),B=a("rePB"),F=a("TSYQ"),W=a.n(F),N=a("lkze"),H=a("EXcs"),d=a("4i/N"),D=a("hzQT"),C=a("2/Rp"),x=a("zvFY"),O=a("H84U"),T=a("ihLV"),z=a("YMnH"),I=a("+f9I"),de=a("R3zJ"),pe=a("ul5b"),fe=function(Dt,jn){var _n={};for(var Nn in Dt)Object.prototype.hasOwnProperty.call(Dt,Nn)&&jn.indexOf(Nn)<0&&(_n[Nn]=Dt[Nn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ei=0,Nn=Object.getOwnPropertySymbols(Dt);ei<Nn.length;ei++)jn.indexOf(Nn[ei])<0&&Object.prototype.propertyIsEnumerable.call(Dt,Nn[ei])&&(_n[Nn[ei]]=Dt[Nn[ei]]);return _n},ke,A=function(jn){ke={x:jn.pageX,y:jn.pageY},setTimeout(function(){ke=null},100)};Object(de.a)()&&document.documentElement.addEventListener("click",A,!0);var P=function(jn){var _n,Nn,ei=Z.useContext(O.b),kn=ei.getPopupContainer,Pn=ei.getPrefixCls,qi=ei.direction,gi=function(Sn){var Ii=jn.onCancel;Ii==null||Ii(Sn)},ir=function(Sn){var Ii=jn.onOk;Ii==null||Ii(Sn)},yi=jn.prefixCls,mi=jn.footer,gr=jn.visible,zn=jn.open,Ki=zn===void 0?!1:zn,Bn=jn.wrapClassName,ai=jn.centered,dn=jn.getContainer,Jn=jn.closeIcon,Yt=jn.focusTriggerAfterClose,Ct=Yt===void 0?!0:Yt,Dn=jn.width,gn=Dn===void 0?520:Dn,en=fe(jn,["prefixCls","footer","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","width"]),yn=Pn("modal",yi),Qn=Pn(),pi=Z.createElement(z.a,{componentName:"Modal",defaultLocale:Object(pe.b)()},function(Rn){var Sn=jn.okText,Ii=jn.okType,Hi=Ii===void 0?"primary":Ii,wt=jn.cancelText,Pi=jn.confirmLoading,Ut=Pi===void 0?!1:Pi;return Z.createElement(Z.Fragment,null,Z.createElement(C.a,Object(se.a)({onClick:gi},jn.cancelButtonProps),wt||Rn.cancelText),Z.createElement(C.a,Object(se.a)({},Object(x.a)(Hi),{loading:Ut,onClick:ir},jn.okButtonProps),Sn!=null?Sn:Rn.okText))}),Pt=Z.createElement("span",{className:"".concat(yn,"-close-x")},Jn||Z.createElement(d.a,{className:"".concat(yn,"-close-icon")})),yt=W()(Bn,(_n={},Object(B.a)(_n,"".concat(yn,"-centered"),!!ai),Object(B.a)(_n,"".concat(yn,"-wrap-rtl"),qi==="rtl"),_n));return Z.createElement(I.a,null,Z.createElement(T.e,{status:!0,override:!0},Z.createElement(D.a,Object(se.a)({width:gn},en,{getContainer:dn===void 0?kn:dn,prefixCls:yn,wrapClassName:yt,footer:mi===void 0?pi:mi,visible:Ki||gr,mousePosition:(Nn=en.mousePosition)!==null&&Nn!==void 0?Nn:ke,onClose:gi,closeIcon:Pt,focusTriggerAfterClose:Ct,transitionName:Object(H.c)(Qn,"zoom",jn.transitionName),maskTransitionName:Object(H.c)(Qn,"fade",jn.maskTransitionName)}))))},G=P,re=function(jn){var _n=jn.icon,Nn=jn.onCancel,ei=jn.onOk,kn=jn.close,Pn=jn.zIndex,qi=jn.afterClose,gi=jn.visible,ir=jn.open,yi=jn.keyboard,mi=jn.centered,gr=jn.getContainer,zn=jn.maskStyle,Ki=jn.okText,Bn=jn.okButtonProps,ai=jn.cancelText,dn=jn.cancelButtonProps,Jn=jn.direction,Yt=jn.prefixCls,Ct=jn.wrapClassName,Dn=jn.rootPrefixCls,gn=jn.iconPrefixCls,en=jn.bodyStyle,yn=jn.closable,Qn=yn===void 0?!1:yn,pi=jn.closeIcon,Pt=jn.modalRender,yt=jn.focusTriggerAfterClose,Rn=jn.okType||"primary",Sn="".concat(Yt,"-confirm"),Ii="okCancel"in jn?jn.okCancel:!0,Hi=jn.width||416,wt=jn.style||{},Pi=jn.mask===void 0?!0:jn.mask,Ut=jn.maskClosable===void 0?!1:jn.maskClosable,We=jn.autoFocusButton===null?!1:jn.autoFocusButton||"ok",Tn=W()(Sn,"".concat(Sn,"-").concat(jn.type),Object(B.a)({},"".concat(Sn,"-rtl"),Jn==="rtl"),jn.className),ar=Ii&&Z.createElement(N.a,{actionFn:Nn,close:kn,autoFocus:We==="cancel",buttonProps:dn,prefixCls:"".concat(Dn,"-btn")},ai);return Z.createElement(V.a,{prefixCls:Dn,iconPrefixCls:gn,direction:Jn},Z.createElement(G,{prefixCls:Yt,className:Tn,wrapClassName:W()(Object(B.a)({},"".concat(Sn,"-centered"),!!jn.centered),Ct),onCancel:function(){return kn==null?void 0:kn({triggerCancel:!0})},open:ir||gi,title:"",footer:"",transitionName:Object(H.c)(Dn,"zoom",jn.transitionName),maskTransitionName:Object(H.c)(Dn,"fade",jn.maskTransitionName),mask:Pi,maskClosable:Ut,maskStyle:zn,style:wt,bodyStyle:en,width:Hi,zIndex:Pn,afterClose:qi,keyboard:yi,centered:mi,getContainer:gr,closable:Qn,closeIcon:pi,modalRender:Pt,focusTriggerAfterClose:yt},Z.createElement("div",{className:"".concat(Sn,"-body-wrapper")},Z.createElement("div",{className:"".concat(Sn,"-body")},_n,jn.title===void 0?null:Z.createElement("span",{className:"".concat(Sn,"-title")},jn.title),Z.createElement("div",{className:"".concat(Sn,"-content")},jn.content)),Z.createElement("div",{className:"".concat(Sn,"-btns")},ar,Z.createElement(N.a,{type:Rn,actionFn:ei,close:kn,autoFocus:We==="ok",buttonProps:Bn,prefixCls:"".concat(Dn,"-btn")},Ki)))))},ae=re,Q=[],J=Q,me=function(Dt,jn){var _n={};for(var Nn in Dt)Object.prototype.hasOwnProperty.call(Dt,Nn)&&jn.indexOf(Nn)<0&&(_n[Nn]=Dt[Nn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ei=0,Nn=Object.getOwnPropertySymbols(Dt);ei<Nn.length;ei++)jn.indexOf(Nn[ei])<0&&Object.prototype.propertyIsEnumerable.call(Dt,Nn[ei])&&(_n[Nn[ei]]=Dt[Nn[ei]]);return _n},ge="";function L(){return ge}function De(Dt){var jn=document.createDocumentFragment(),_n=Object(se.a)(Object(se.a)({},Dt),{close:Pn,open:!0}),Nn;function ei(){for(var gi=arguments.length,ir=new Array(gi),yi=0;yi<gi;yi++)ir[yi]=arguments[yi];var mi=ir.some(function(Ki){return Ki&&Ki.triggerCancel});Dt.onCancel&&mi&&Dt.onCancel.apply(Dt,[function(){}].concat(Object(ve.a)(ir.slice(1))));for(var gr=0;gr<J.length;gr++){var zn=J[gr];if(zn===Pn){J.splice(gr,1);break}}Object(E.b)(jn)}function kn(gi){var ir=gi.okText,yi=gi.cancelText,mi=gi.prefixCls,gr=me(gi,["okText","cancelText","prefixCls"]);clearTimeout(Nn),Nn=setTimeout(function(){var zn=Object(pe.b)(),Ki=Object(V.b)(),Bn=Ki.getPrefixCls,ai=Ki.getIconPrefixCls,dn=Bn(void 0,L()),Jn=mi||"".concat(dn,"-modal"),Yt=ai();Object(E.a)(Z.createElement(ae,Object(se.a)({},gr,{prefixCls:Jn,rootPrefixCls:dn,iconPrefixCls:Yt,okText:ir||(gr.okCancel?zn.okText:zn.justOkText),cancelText:yi||zn.cancelText})),jn)})}function Pn(){for(var gi=this,ir=arguments.length,yi=new Array(ir),mi=0;mi<ir;mi++)yi[mi]=arguments[mi];_n=Object(se.a)(Object(se.a)({},_n),{open:!1,afterClose:function(){typeof Dt.afterClose=="function"&&Dt.afterClose(),ei.apply(gi,yi)}}),_n.visible&&delete _n.visible,kn(_n)}function qi(gi){typeof gi=="function"?_n=gi(_n):_n=Object(se.a)(Object(se.a)({},_n),gi),kn(_n)}return kn(_n),J.push(Pn),{destroy:Pn,update:qi}}function Ae(Dt){return Object(se.a)(Object(se.a)({icon:Z.createElement(_.a,null),okCancel:!1},Dt),{type:"warning"})}function Oe(Dt){return Object(se.a)(Object(se.a)({icon:Z.createElement(Y.a,null),okCancel:!1},Dt),{type:"info"})}function Pe(Dt){return Object(se.a)(Object(se.a)({icon:Z.createElement(te.a,null),okCancel:!1},Dt),{type:"success"})}function Ne(Dt){return Object(se.a)(Object(se.a)({icon:Z.createElement($.a,null),okCancel:!1},Dt),{type:"error"})}function Fe(Dt){return Object(se.a)(Object(se.a)({icon:Z.createElement(_.a,null),okCancel:!0},Dt),{type:"confirm"})}function Xe(Dt){var jn=Dt.rootPrefixCls;ge=jn}var Et=a("ODXe");function Ft(){var Dt=Z.useState([]),jn=Object(Et.a)(Dt,2),_n=jn[0],Nn=jn[1],ei=Z.useCallback(function(kn){return Nn(function(Pn){return[].concat(Object(ve.a)(Pn),[kn])}),function(){Nn(function(Pn){return Pn.filter(function(qi){return qi!==kn})})}},[]);return[_n,ei]}var Ot=a("ZvpZ"),pt=function(jn,_n){var Nn=jn.afterClose,ei=jn.config,kn=Z.useState(!0),Pn=Object(Et.a)(kn,2),qi=Pn[0],gi=Pn[1],ir=Z.useState(ei),yi=Object(Et.a)(ir,2),mi=yi[0],gr=yi[1],zn=Z.useContext(O.b),Ki=zn.direction,Bn=zn.getPrefixCls,ai=Bn("modal"),dn=Bn(),Jn=function(){gi(!1);for(var Ct=arguments.length,Dn=new Array(Ct),gn=0;gn<Ct;gn++)Dn[gn]=arguments[gn];var en=Dn.some(function(yn){return yn&&yn.triggerCancel});mi.onCancel&&en&&mi.onCancel.apply(mi,[function(){}].concat(Object(ve.a)(Dn.slice(1))))};return Z.useImperativeHandle(_n,function(){return{destroy:Jn,update:function(Ct){gr(function(Dn){return Object(se.a)(Object(se.a)({},Dn),Ct)})}}}),Z.createElement(z.a,{componentName:"Modal",defaultLocale:Ot.a.Modal},function(Yt){return Z.createElement(ae,Object(se.a)({prefixCls:ai,rootPrefixCls:dn},mi,{close:Jn,open:qi,afterClose:Nn,okText:mi.okText||(mi.okCancel?Yt.okText:Yt.justOkText),direction:Ki,cancelText:mi.cancelText||Yt.cancelText}))})},Lt=Z.forwardRef(pt),et=0,Vt=Z.memo(Z.forwardRef(function(Dt,jn){var _n=Ft(),Nn=Object(Et.a)(_n,2),ei=Nn[0],kn=Nn[1];return Z.useImperativeHandle(jn,function(){return{patchElement:kn}},[]),Z.createElement(Z.Fragment,null,ei)}));function Re(){var Dt=Z.useRef(null),jn=Z.useState([]),_n=Object(Et.a)(jn,2),Nn=_n[0],ei=_n[1];Z.useEffect(function(){if(Nn.length){var qi=Object(ve.a)(Nn);qi.forEach(function(gi){gi()}),ei([])}},[Nn]);var kn=Z.useCallback(function(qi){return function(ir){var yi;et+=1;var mi=Z.createRef(),gr,zn=Z.createElement(Lt,{key:"modal-".concat(et),config:qi(ir),ref:mi,afterClose:function(){gr==null||gr()}});return gr=(yi=Dt.current)===null||yi===void 0?void 0:yi.patchElement(zn),{destroy:function(){function Bn(){var ai;(ai=mi.current)===null||ai===void 0||ai.destroy()}mi.current?Bn():ei(function(ai){return[].concat(Object(ve.a)(ai),[Bn])})},update:function(Bn){function ai(){var dn;(dn=mi.current)===null||dn===void 0||dn.update(Bn)}mi.current?ai():ei(function(dn){return[].concat(Object(ve.a)(dn),[ai])})}}}},[]),Pn=Z.useMemo(function(){return{info:kn(Oe),success:kn(Pe),error:kn(Ne),warning:kn(Ae),confirm:kn(Fe)}},[]);return[Pn,Z.createElement(Vt,{ref:Dt})]}function Ce(Dt){return De(Ae(Dt))}var ye=G;ye.useModal=Re,ye.info=function(jn){return De(Oe(jn))},ye.success=function(jn){return De(Pe(jn))},ye.error=function(jn){return De(Ne(jn))},ye.warning=Ce,ye.warn=Ce,ye.confirm=function(jn){return De(Fe(jn))},ye.destroyAll=function(){for(;J.length;){var jn=J.pop();jn&&jn()}},ye.config=Xe;var Te=ye,Qe=a("x+uP"),$e=a("HaE+"),ze=a("VTBJ"),ot=a("GNNt"),He=a("Ff2n"),Ge=a("nKUr"),Je=a("2oH+"),ft=a.n(Je),qt=a("6cGi"),bt=a("Kwbf"),Bt=a("i8i4"),rn=a("T1Ok"),an=["children","trigger","onVisibleChange","modalProps","onFinish","submitTimeout","title","width","visible"];function In(Dt){var jn,_n,Nn,ei,kn=Dt.children,Pn=Dt.trigger,qi=Dt.onVisibleChange,gi=Dt.modalProps,ir=Dt.onFinish,yi=Dt.submitTimeout,mi=Dt.title,gr=Dt.width,zn=Dt.visible,Ki=Object(He.a)(Dt,an);Object(bt.b)(!Ki.footer||!(gi==null?void 0:gi.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var Bn=Object(Z.useContext)(V.a.ConfigContext),ai=Object(Z.useState)([]),dn=Object(Et.a)(ai,2),Jn=dn[1],Yt=Object(Z.useState)(!1),Ct=Object(Et.a)(Yt,2),Dn=Ct[0],gn=Ct[1],en=Object(qt.a)(!!zn,{value:zn,onChange:qi}),yn=Object(Et.a)(en,2),Qn=yn[0],pi=yn[1],Pt=Object(Z.useRef)(null),yt=Object(Z.useCallback)(function(Ut){Pt.current===null&&Ut&&Jn([]),Pt.current=Ut},[]),Rn=Object(Z.useRef)(),Sn=Object(Z.useCallback)(function(){var Ut,We,Tn,ar=(Ut=(We=Ki.form)!==null&&We!==void 0?We:(Tn=Ki.formRef)===null||Tn===void 0?void 0:Tn.current)!==null&&Ut!==void 0?Ut:Rn.current;ar&&(gi==null?void 0:gi.destroyOnClose)&&ar.resetFields()},[gi==null?void 0:gi.destroyOnClose,Ki.form,Ki.formRef]);Object(Z.useEffect)(function(){Qn&&zn&&(qi==null||qi(!0))},[zn,Qn]);var Ii=Object(Z.useMemo)(function(){return Pn?ne.a.cloneElement(Pn,Object(ze.a)(Object(ze.a)({key:"trigger"},Pn.props),{},{onClick:function(){var Ut=Object($e.a)(Object(Qe.a)().mark(function Tn(ar){var Br,Yr;return Object(Qe.a)().wrap(function(bi){for(;;)switch(bi.prev=bi.next){case 0:pi(!Qn),(Br=Pn.props)===null||Br===void 0||(Yr=Br.onClick)===null||Yr===void 0||Yr.call(Br,ar);case 2:case"end":return bi.stop()}},Tn)}));function We(Tn){return Ut.apply(this,arguments)}return We}()})):null},[pi,Pn,Qn]),Hi=Object(Z.useMemo)(function(){var Ut,We,Tn,ar,Br,Yr,ti,bi;return Ki.submitter===!1?!1:ft()({searchConfig:{submitText:(Ut=(We=gi==null?void 0:gi.okText)!==null&&We!==void 0?We:(Tn=Bn.locale)===null||Tn===void 0||(ar=Tn.Modal)===null||ar===void 0?void 0:ar.okText)!==null&&Ut!==void 0?Ut:"\u786E\u8BA4",resetText:(Br=(Yr=gi==null?void 0:gi.cancelText)!==null&&Yr!==void 0?Yr:(ti=Bn.locale)===null||ti===void 0||(bi=ti.Modal)===null||bi===void 0?void 0:bi.cancelText)!==null&&Br!==void 0?Br:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:yi?Dn:void 0,onClick:function(En){var Nt;pi(!1),Sn(),gi==null||(Nt=gi.onCancel)===null||Nt===void 0||Nt.call(gi,En)}}},Ki.submitter)},[(jn=Bn.locale)===null||jn===void 0||(_n=jn.Modal)===null||_n===void 0?void 0:_n.cancelText,(Nn=Bn.locale)===null||Nn===void 0||(ei=Nn.Modal)===null||ei===void 0?void 0:ei.okText,gi,Ki.submitter,pi,Dn,yi,Sn]),wt=Object(Z.useCallback)(function(Ut,We){return Object(Ge.jsxs)(Ge.Fragment,{children:[Ut,Pt.current&&We?Object(Bt.createPortal)(We,Pt.current):We]})},[]),Pi=Object(Z.useCallback)(function(){var Ut=Object($e.a)(Object(Qe.a)().mark(function We(Tn){var ar,Br,Yr;return Object(Qe.a)().wrap(function(bi){for(;;)switch(bi.prev=bi.next){case 0:return ar=ir==null?void 0:ir(Tn),yi&&ar instanceof Promise&&(gn(!0),Br=setTimeout(function(){return gn(!1)},yi),ar.finally(function(){clearTimeout(Br),gn(!1)})),bi.next=4,ar;case 4:return Yr=bi.sent,Yr&&pi(!1),bi.abrupt("return",Yr);case 7:case"end":return bi.stop()}},We)}));return function(We){return Ut.apply(this,arguments)}}(),[ir,pi,yi]);return Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)(Te,Object(ze.a)(Object(ze.a)({title:mi,width:gr||800},gi),{},{visible:Qn,onCancel:function(We){var Tn;yi&&Dn||(pi(!1),gi==null||(Tn=gi.onCancel)===null||Tn===void 0||Tn.call(gi,We))},afterClose:function(){var We;Sn(),gi==null||(We=gi.afterClose)===null||We===void 0||We.call(gi)},footer:Ki.submitter!==!1&&Object(Ge.jsx)("div",{ref:yt,style:{display:"flex",justifyContent:"flex-end"}}),children:Object(Ge.jsx)(rn.a,Object(ze.a)(Object(ze.a)({formComponentType:"ModalForm",layout:"vertical",formRef:Rn},Ki),{},{submitter:Hi,onFinish:function(){var Ut=Object($e.a)(Object(Qe.a)().mark(function Tn(ar){var Br;return Object(Qe.a)().wrap(function(ti){for(;;)switch(ti.prev=ti.next){case 0:return ti.next=2,Pi(ar);case 2:return Br=ti.sent,Br===!0&&Sn(),ti.abrupt("return",Br);case 5:case"end":return ti.stop()}},Tn)}));function We(Tn){return Ut.apply(this,arguments)}return We}(),contentRender:wt,children:kn}))})),Ii]})}},s1IP:function(mn,U,a){},s3yj:function(mn,U,a){"use strict";a.d(U,"a",function(){return w});var ce=a("PXCW"),we=a("AYRw");function w(ve,se,te,$){var _=Object(we.c)(se,te.startLineNumber,te.startColumn),Y=$.getLanguageConfiguration(_.languageId);if(!Y)return null;var E=_.getLineContent(),Z=E.substr(0,te.startColumn-1-_.firstCharOffset),ne;if(te.isEmpty())ne=E.substr(te.startColumn-1-_.firstCharOffset);else{var V=Object(we.c)(se,te.endLineNumber,te.endColumn);ne=V.getLineContent().substr(te.endColumn-1-_.firstCharOffset)}var B="";if(te.startLineNumber>1&&_.firstCharOffset===0){var F=Object(we.c)(se,te.startLineNumber-1);F.languageId===_.languageId&&(B=F.getLineContent())}var W=Y.onEnter(ve,B,Z,ne);if(!W)return null;var N=W.indentAction,H=W.appendText,d=W.removeText||0;H?N===ce.b.Indent&&(H="	"+H):N===ce.b.Indent||N===ce.b.IndentOutdent?H="	":H="";var D=Object(we.b)(se,te.startLineNumber,te.startColumn);return d&&(D=D.substring(0,D.length-d)),{indentAction:N,appendText:H,removeText:d,indentation:D}}},sE09:function(mn,U,a){},sFUC:function(mn,U,a){"use strict";a.d(U,"b",function(){return we}),a.d(U,"c",function(){return w}),a.d(U,"a",function(){return se});var ce=a("iuje");function we(te){return te&&typeof te.getEditorType=="function"?te.getEditorType()===ce.a.ICodeEditor:!1}function w(te){return te&&typeof te.getEditorType=="function"?te.getEditorType()===ce.a.IDiffEditor:!1}function ve(te){return!!te&&typeof te=="object"&&typeof te.onDidChangeActiveEditor=="function"}function se(te){return we(te)?te:w(te)?te.getModifiedEditor():ve(te)&&we(te.activeCodeEditor)?te.activeCodeEditor:null}},sM1p:function(mn,U,a){"use strict";a.d(U,"c",function(){return se}),a.d(U,"a",function(){return te}),a.d(U,"b",function(){return $});var ce=a("mtLc"),we=a("fWQN"),w=a("S3by"),ve=a("Cg/j"),se=w.a,te=Object(ve.c)("notificationService"),$=Object(ce.a)(function _(){Object(we.a)(this,_)})},sVcW:function(mn,U,a){"use strict";a.d(U,"b",function(){return Y}),a.d(U,"a",function(){return E});var ce=a("fWQN"),we=a("mtLc"),w=a("746U"),ve=a("LLum"),se=a("mJFO"),te=a("6FFW"),$=a("cGHE"),_=a("aokT"),Y=function(){function Z(){Object(ce.a)(this,Z)}return Object(we.a)(Z,null,[{key:"addCursorDown",value:function(V,B,F){for(var W=[],N=0,H=0,d=B.length;H<d;H++){var D=B[H];W[N++]=new ve.b(D.modelState,D.viewState),F?W[N++]=ve.b.fromModelState(se.a.translateDown(V.cursorConfig,V.model,D.modelState)):W[N++]=ve.b.fromViewState(se.a.translateDown(V.cursorConfig,V,D.viewState))}return W}},{key:"addCursorUp",value:function(V,B,F){for(var W=[],N=0,H=0,d=B.length;H<d;H++){var D=B[H];W[N++]=new ve.b(D.modelState,D.viewState),F?W[N++]=ve.b.fromModelState(se.a.translateUp(V.cursorConfig,V.model,D.modelState)):W[N++]=ve.b.fromViewState(se.a.translateUp(V.cursorConfig,V,D.viewState))}return W}},{key:"moveToBeginningOfLine",value:function(V,B,F){for(var W=[],N=0,H=B.length;N<H;N++){var d=B[N];W[N]=this._moveToLineStart(V,d,F)}return W}},{key:"_moveToLineStart",value:function(V,B,F){var W=B.viewState.position.column,N=B.modelState.position.column,H=W===N,d=B.viewState.position.lineNumber,D=V.getLineFirstNonWhitespaceColumn(d),C=W===D;return!H&&!C?this._moveToLineStartByView(V,B,F):this._moveToLineStartByModel(V,B,F)}},{key:"_moveToLineStartByView",value:function(V,B,F){return ve.b.fromViewState(se.a.moveToBeginningOfLine(V.cursorConfig,V,B.viewState,F))}},{key:"_moveToLineStartByModel",value:function(V,B,F){return ve.b.fromModelState(se.a.moveToBeginningOfLine(V.cursorConfig,V.model,B.modelState,F))}},{key:"moveToEndOfLine",value:function(V,B,F,W){for(var N=[],H=0,d=B.length;H<d;H++){var D=B[H];N[H]=this._moveToLineEnd(V,D,F,W)}return N}},{key:"_moveToLineEnd",value:function(V,B,F,W){var N=B.viewState.position,H=V.getLineMaxColumn(N.lineNumber),d=N.column===H,D=B.modelState.position,C=V.model.getLineMaxColumn(D.lineNumber),x=H-N.column==C-D.column;return d||x?this._moveToLineEndByModel(V,B,F,W):this._moveToLineEndByView(V,B,F,W)}},{key:"_moveToLineEndByView",value:function(V,B,F,W){return ve.b.fromViewState(se.a.moveToEndOfLine(V.cursorConfig,V,B.viewState,F,W))}},{key:"_moveToLineEndByModel",value:function(V,B,F,W){return ve.b.fromModelState(se.a.moveToEndOfLine(V.cursorConfig,V.model,B.modelState,F,W))}},{key:"expandLineSelection",value:function(V,B){for(var F=[],W=0,N=B.length;W<N;W++){var H=B[W],d=H.modelState.selection.startLineNumber,D=V.model.getLineCount(),C=H.modelState.selection.endLineNumber,x=void 0;C===D?x=V.model.getLineMaxColumn(D):(C++,x=1),F[W]=ve.b.fromModelState(new ve.d(new _.a(d,1,d,1),0,0,new $.a(C,x),0))}return F}},{key:"moveToBeginningOfBuffer",value:function(V,B,F){for(var W=[],N=0,H=B.length;N<H;N++){var d=B[N];W[N]=ve.b.fromModelState(se.a.moveToBeginningOfBuffer(V.cursorConfig,V.model,d.modelState,F))}return W}},{key:"moveToEndOfBuffer",value:function(V,B,F){for(var W=[],N=0,H=B.length;N<H;N++){var d=B[N];W[N]=ve.b.fromModelState(se.a.moveToEndOfBuffer(V.cursorConfig,V.model,d.modelState,F))}return W}},{key:"selectAll",value:function(V,B){var F=V.model.getLineCount(),W=V.model.getLineMaxColumn(F);return ve.b.fromModelState(new ve.d(new _.a(1,1,1,1),0,0,new $.a(F,W),0))}},{key:"line",value:function(V,B,F,W,N){var H=V.model.validatePosition(W),d=N?V.coordinatesConverter.validateViewPosition(new $.a(N.lineNumber,N.column),H):V.coordinatesConverter.convertModelPositionToViewPosition(H);if(!F){var D=V.model.getLineCount(),C=H.lineNumber+1,x=1;return C>D&&(C=D,x=V.model.getLineMaxColumn(C)),ve.b.fromModelState(new ve.d(new _.a(H.lineNumber,1,C,x),2,0,new $.a(C,x),0))}var O=B.modelState.selectionStart.getStartPosition().lineNumber;if(H.lineNumber<O)return ve.b.fromViewState(B.viewState.move(!0,d.lineNumber,1,0));if(H.lineNumber>O){var T=V.getLineCount(),z=d.lineNumber+1,I=1;return z>T&&(z=T,I=V.getLineMaxColumn(z)),ve.b.fromViewState(B.viewState.move(!0,z,I,0))}else{var de=B.modelState.selectionStart.getEndPosition();return ve.b.fromModelState(B.modelState.move(!0,de.lineNumber,de.column,0))}}},{key:"word",value:function(V,B,F,W){var N=V.model.validatePosition(W);return ve.b.fromModelState(te.a.word(V.cursorConfig,V.model,B.modelState,F,N))}},{key:"cancelSelection",value:function(V,B){if(!B.modelState.hasSelection())return new ve.b(B.modelState,B.viewState);var F=B.viewState.position.lineNumber,W=B.viewState.position.column;return ve.b.fromViewState(new ve.d(new _.a(F,W,F,W),0,0,new $.a(F,W),0))}},{key:"moveTo",value:function(V,B,F,W,N){if(F){if(B.modelState.selectionStartKind===1)return this.word(V,B,F,W);if(B.modelState.selectionStartKind===2)return this.line(V,B,F,W,N)}var H=V.model.validatePosition(W),d=N?V.coordinatesConverter.validateViewPosition(new $.a(N.lineNumber,N.column),H):V.coordinatesConverter.convertModelPositionToViewPosition(H);return ve.b.fromViewState(B.viewState.move(F,d.lineNumber,d.column,0))}},{key:"simpleMove",value:function(V,B,F,W,N,H){switch(F){case 0:return H===4?this._moveHalfLineLeft(V,B,W):this._moveLeft(V,B,W,N);case 1:return H===4?this._moveHalfLineRight(V,B,W):this._moveRight(V,B,W,N);case 2:return H===2?this._moveUpByViewLines(V,B,W,N):this._moveUpByModelLines(V,B,W,N);case 3:return H===2?this._moveDownByViewLines(V,B,W,N):this._moveDownByModelLines(V,B,W,N);case 4:return H===2?B.map(function(d){return ve.b.fromViewState(se.a.moveToPrevBlankLine(V.cursorConfig,V,d.viewState,W))}):B.map(function(d){return ve.b.fromModelState(se.a.moveToPrevBlankLine(V.cursorConfig,V.model,d.modelState,W))});case 5:return H===2?B.map(function(d){return ve.b.fromViewState(se.a.moveToNextBlankLine(V.cursorConfig,V,d.viewState,W))}):B.map(function(d){return ve.b.fromModelState(se.a.moveToNextBlankLine(V.cursorConfig,V.model,d.modelState,W))});case 6:return this._moveToViewMinColumn(V,B,W);case 7:return this._moveToViewFirstNonWhitespaceColumn(V,B,W);case 8:return this._moveToViewCenterColumn(V,B,W);case 9:return this._moveToViewMaxColumn(V,B,W);case 10:return this._moveToViewLastNonWhitespaceColumn(V,B,W);default:return null}}},{key:"viewportMove",value:function(V,B,F,W,N){var H=V.getCompletelyVisibleViewRange(),d=V.coordinatesConverter.convertViewRangeToModelRange(H);switch(F){case 11:{var D=this._firstLineNumberInRange(V.model,d,N),C=V.model.getLineFirstNonWhitespaceColumn(D);return[this._moveToModelPosition(V,B[0],W,D,C)]}case 13:{var x=this._lastLineNumberInRange(V.model,d,N),O=V.model.getLineFirstNonWhitespaceColumn(x);return[this._moveToModelPosition(V,B[0],W,x,O)]}case 12:{var T=Math.round((d.startLineNumber+d.endLineNumber)/2),z=V.model.getLineFirstNonWhitespaceColumn(T);return[this._moveToModelPosition(V,B[0],W,T,z)]}case 14:{for(var I=[],de=0,pe=B.length;de<pe;de++){var fe=B[de];I[de]=this.findPositionInViewportIfOutside(V,fe,H,W)}return I}default:return null}}},{key:"findPositionInViewportIfOutside",value:function(V,B,F,W){var N=B.viewState.position.lineNumber;if(F.startLineNumber<=N&&N<=F.endLineNumber-1)return new ve.b(B.modelState,B.viewState);var H;N>F.endLineNumber-1?H=F.endLineNumber-1:N<F.startLineNumber?H=F.startLineNumber:H=N;var d=se.a.vertical(V.cursorConfig,V,N,B.viewState.position.column,B.viewState.leftoverVisibleColumns,H,!1);return ve.b.fromViewState(B.viewState.move(W,d.lineNumber,d.column,d.leftoverVisibleColumns))}},{key:"_firstLineNumberInRange",value:function(V,B,F){var W=B.startLineNumber;return B.startColumn!==V.getLineMinColumn(W)&&W++,Math.min(B.endLineNumber,W+F-1)}},{key:"_lastLineNumberInRange",value:function(V,B,F){var W=B.startLineNumber;return B.startColumn!==V.getLineMinColumn(W)&&W++,Math.max(W,B.endLineNumber-F+1)}},{key:"_moveLeft",value:function(V,B,F,W){return B.map(function(N){return ve.b.fromViewState(se.a.moveLeft(V.cursorConfig,V,N.viewState,F,W))})}},{key:"_moveHalfLineLeft",value:function(V,B,F){for(var W=[],N=0,H=B.length;N<H;N++){var d=B[N],D=d.viewState.position.lineNumber,C=Math.round(V.getLineContent(D).length/2);W[N]=ve.b.fromViewState(se.a.moveLeft(V.cursorConfig,V,d.viewState,F,C))}return W}},{key:"_moveRight",value:function(V,B,F,W){return B.map(function(N){return ve.b.fromViewState(se.a.moveRight(V.cursorConfig,V,N.viewState,F,W))})}},{key:"_moveHalfLineRight",value:function(V,B,F){for(var W=[],N=0,H=B.length;N<H;N++){var d=B[N],D=d.viewState.position.lineNumber,C=Math.round(V.getLineContent(D).length/2);W[N]=ve.b.fromViewState(se.a.moveRight(V.cursorConfig,V,d.viewState,F,C))}return W}},{key:"_moveDownByViewLines",value:function(V,B,F,W){for(var N=[],H=0,d=B.length;H<d;H++){var D=B[H];N[H]=ve.b.fromViewState(se.a.moveDown(V.cursorConfig,V,D.viewState,F,W))}return N}},{key:"_moveDownByModelLines",value:function(V,B,F,W){for(var N=[],H=0,d=B.length;H<d;H++){var D=B[H];N[H]=ve.b.fromModelState(se.a.moveDown(V.cursorConfig,V.model,D.modelState,F,W))}return N}},{key:"_moveUpByViewLines",value:function(V,B,F,W){for(var N=[],H=0,d=B.length;H<d;H++){var D=B[H];N[H]=ve.b.fromViewState(se.a.moveUp(V.cursorConfig,V,D.viewState,F,W))}return N}},{key:"_moveUpByModelLines",value:function(V,B,F,W){for(var N=[],H=0,d=B.length;H<d;H++){var D=B[H];N[H]=ve.b.fromModelState(se.a.moveUp(V.cursorConfig,V.model,D.modelState,F,W))}return N}},{key:"_moveToViewPosition",value:function(V,B,F,W,N){return ve.b.fromViewState(B.viewState.move(F,W,N,0))}},{key:"_moveToModelPosition",value:function(V,B,F,W,N){return ve.b.fromModelState(B.modelState.move(F,W,N,0))}},{key:"_moveToViewMinColumn",value:function(V,B,F){for(var W=[],N=0,H=B.length;N<H;N++){var d=B[N],D=d.viewState.position.lineNumber,C=V.getLineMinColumn(D);W[N]=this._moveToViewPosition(V,d,F,D,C)}return W}},{key:"_moveToViewFirstNonWhitespaceColumn",value:function(V,B,F){for(var W=[],N=0,H=B.length;N<H;N++){var d=B[N],D=d.viewState.position.lineNumber,C=V.getLineFirstNonWhitespaceColumn(D);W[N]=this._moveToViewPosition(V,d,F,D,C)}return W}},{key:"_moveToViewCenterColumn",value:function(V,B,F){for(var W=[],N=0,H=B.length;N<H;N++){var d=B[N],D=d.viewState.position.lineNumber,C=Math.round((V.getLineMaxColumn(D)+V.getLineMinColumn(D))/2);W[N]=this._moveToViewPosition(V,d,F,D,C)}return W}},{key:"_moveToViewMaxColumn",value:function(V,B,F){for(var W=[],N=0,H=B.length;N<H;N++){var d=B[N],D=d.viewState.position.lineNumber,C=V.getLineMaxColumn(D);W[N]=this._moveToViewPosition(V,d,F,D,C)}return W}},{key:"_moveToViewLastNonWhitespaceColumn",value:function(V,B,F){for(var W=[],N=0,H=B.length;N<H;N++){var d=B[N],D=d.viewState.position.lineNumber,C=V.getLineLastNonWhitespaceColumn(D);W[N]=this._moveToViewPosition(V,d,F,D,C)}return W}}]),Z}(),E;(function(Z){var ne=function(F){if(!w.h(F))return!1;var W=F;return!(!w.i(W.to)||!w.k(W.select)&&!w.c(W.select)||!w.k(W.by)&&!w.i(W.by)||!w.k(W.value)&&!w.g(W.value))};Z.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:ne,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},Z.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},Z.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function V(B){if(!B.to)return null;var F;switch(B.to){case Z.RawDirection.Left:F=0;break;case Z.RawDirection.Right:F=1;break;case Z.RawDirection.Up:F=2;break;case Z.RawDirection.Down:F=3;break;case Z.RawDirection.PrevBlankLine:F=4;break;case Z.RawDirection.NextBlankLine:F=5;break;case Z.RawDirection.WrappedLineStart:F=6;break;case Z.RawDirection.WrappedLineFirstNonWhitespaceCharacter:F=7;break;case Z.RawDirection.WrappedLineColumnCenter:F=8;break;case Z.RawDirection.WrappedLineEnd:F=9;break;case Z.RawDirection.WrappedLineLastNonWhitespaceCharacter:F=10;break;case Z.RawDirection.ViewPortTop:F=11;break;case Z.RawDirection.ViewPortBottom:F=13;break;case Z.RawDirection.ViewPortCenter:F=12;break;case Z.RawDirection.ViewPortIfOutside:F=14;break;default:return null}var W=0;switch(B.by){case Z.RawUnit.Line:W=1;break;case Z.RawUnit.WrappedLine:W=2;break;case Z.RawUnit.Character:W=3;break;case Z.RawUnit.HalfLine:W=4;break}return{direction:F,unit:W,select:!!B.select,value:B.value||1}}Z.parse=V})(E||(E={}))},siPX:function(mn,U,a){},sswD:function(mn,U,a){"use strict";a.d(U,"a",function(){return x}),a.d(U,"f",function(){return O}),a.d(U,"d",function(){return z}),a.d(U,"b",function(){return I}),a.d(U,"g",function(){return de}),a.d(U,"c",function(){return pe}),a.d(U,"o",function(){return fe}),a.d(U,"l",function(){return ke}),a.d(U,"k",function(){return A}),a.d(U,"p",function(){return P}),a.d(U,"n",function(){return G}),a.d(U,"m",function(){return re}),a.d(U,"e",function(){return ae}),a.d(U,"j",function(){return ge}),a.d(U,"h",function(){return L}),a.d(U,"i",function(){return De});var ce=a("oBTY"),we=a("yKVA"),w=a("879j"),ve=a("rAM+"),se=a("fWQN"),te=a("mtLc"),$=a("3/fG"),_=a("bY76"),Y=a("Vxe3"),E=a("cGHE"),Z=a("lEqV"),ne=a("t49l"),V=a("fjLI"),B=a("nnTU"),F=a("T8No"),W=a("Cg/j"),N=a("nrhi"),H=a("ic2d"),d=a("XXUj"),D=a("746U"),C=a("09fa"),x=function(){function Ae(Oe){Object(se.a)(this,Ae),this.id=Oe.id,this.precondition=Oe.precondition,this._kbOpts=Oe.kbOpts,this._menuOpts=Oe.menuOpts,this._description=Oe.description}return Object(te.a)(Ae,[{key:"register",value:function(){var Pe=this;if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){var Ne=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts],Fe=Object(ve.a)(Ne),Xe;try{for(Fe.s();!(Xe=Fe.n()).done;){var Et=Xe.value,Ft=Et.kbExpr;this.precondition&&(Ft?Ft=F.a.and(Ft,this.precondition):Ft=this.precondition);var Ot={id:this.id,weight:Et.weight,args:Et.args,when:Ft,primary:Et.primary,secondary:Et.secondary,win:Et.win,linux:Et.linux,mac:Et.mac};N.a.registerKeybindingRule(Ot)}}catch(pt){Fe.e(pt)}finally{Fe.f()}}B.a.registerCommand({id:this.id,handler:function(Lt,et){return Pe.runCommand(Lt,et)},description:this._description})}},{key:"_registerMenuItem",value:function(Pe){V.e.appendMenuItem(Pe.menuId,{group:Pe.group,command:{id:this.id,title:Pe.title,icon:Pe.icon,precondition:this.precondition},when:Pe.when,order:Pe.order})}}]),Ae}(),O=function(Ae){Object(we.a)(Pe,Ae);var Oe=Object(w.a)(Pe);function Pe(){var Ne;return Object(se.a)(this,Pe),Ne=Oe.apply(this,arguments),Ne._implementations=[],Ne}return Object(te.a)(Pe,[{key:"addImplementation",value:function(Fe,Xe,Et){var Ft=this;return this._implementations.push({priority:Fe,name:Xe,implementation:Et}),this._implementations.sort(function(Ot,pt){return pt.priority-Ot.priority}),{dispose:function(){for(var pt=0;pt<Ft._implementations.length;pt++)if(Ft._implementations[pt].implementation===Et){Ft._implementations.splice(pt,1);return}}}}},{key:"runCommand",value:function(Fe,Xe){var Et=Fe.get(C.b);Et.trace("Executing Command '".concat(this.id,"' which has ").concat(this._implementations.length," bound."));var Ft=Object(ve.a)(this._implementations),Ot;try{for(Ft.s();!(Ot=Ft.n()).done;){var pt=Ot.value,Lt=pt.implementation(Fe,Xe);if(Lt)return Et.trace("Command '".concat(this.id,"' was handled by '").concat(pt.name,"'.")),typeof Lt=="boolean"?void 0:Lt}}catch(et){Ft.e(et)}finally{Ft.f()}Et.trace("The Command '".concat(this.id,"' was not handled by any implementation."))}}]),Pe}(x),T=function(Ae){Object(we.a)(Pe,Ae);var Oe=Object(w.a)(Pe);function Pe(Ne,Fe){var Xe;return Object(se.a)(this,Pe),Xe=Oe.call(this,Fe),Xe.command=Ne,Xe}return Object(te.a)(Pe,[{key:"runCommand",value:function(Fe,Xe){return this.command.runCommand(Fe,Xe)}}]),Pe}(x),z=function(Ae){Object(we.a)(Pe,Ae);var Oe=Object(w.a)(Pe);function Pe(){return Object(se.a)(this,Pe),Oe.apply(this,arguments)}return Object(te.a)(Pe,[{key:"runCommand",value:function(Fe,Xe){var Et=this;return Pe.runEditorCommand(Fe,Xe,this.precondition,function(Ft,Ot,pt){return Et.runEditorCommand(Ft,Ot,pt)})}}],[{key:"bindToContribution",value:function(Fe){return function(Xe){Object(we.a)(Ft,Xe);var Et=Object(w.a)(Ft);function Ft(Ot){var pt;return Object(se.a)(this,Ft),pt=Et.call(this,Ot),pt._callback=Ot.handler,pt}return Object(te.a)(Ft,[{key:"runEditorCommand",value:function(pt,Lt,et){var Vt=Fe(Lt);Vt&&this._callback(Vt,et)}}]),Ft}(Pe)}},{key:"runEditorCommand",value:function(Fe,Xe,Et,Ft){var Ot=Fe.get(Y.a),pt=Ot.getFocusedCodeEditor()||Ot.getActiveCodeEditor();if(!!pt)return pt.invokeWithinContext(function(Lt){var et=Lt.get(F.b);if(!!et.contextMatchesRules(Object(D.n)(Et)))return Ft(Lt,pt,Xe)})}}]),Pe}(x),I=function(Ae){Object(we.a)(Pe,Ae);var Oe=Object(w.a)(Pe);function Pe(Ne){var Fe;return Object(se.a)(this,Pe),Fe=Oe.call(this,Pe.convertOptions(Ne)),Fe.label=Ne.label,Fe.alias=Ne.alias,Fe}return Object(te.a)(Pe,[{key:"runEditorCommand",value:function(Fe,Xe,Et){return this.reportTelemetry(Fe,Xe),this.run(Fe,Xe,Et||{})}},{key:"reportTelemetry",value:function(Fe,Xe){Fe.get(d.a).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}],[{key:"convertOptions",value:function(Fe){var Xe;Array.isArray(Fe.menuOpts)?Xe=Fe.menuOpts:Fe.menuOpts?Xe=[Fe.menuOpts]:Xe=[];function Et(Ot){return Ot.menuId||(Ot.menuId=V.c.EditorContext),Ot.title||(Ot.title=Fe.label),Ot.when=F.a.and(Fe.precondition,Ot.when),Ot}if(Array.isArray(Fe.contextMenuOpts)){var Ft;(Ft=Xe).push.apply(Ft,Object(ce.a)(Fe.contextMenuOpts.map(Et)))}else Fe.contextMenuOpts&&Xe.push(Et(Fe.contextMenuOpts));return Fe.menuOpts=Xe,Fe}}]),Pe}(z),de=function(Ae){Object(we.a)(Pe,Ae);var Oe=Object(w.a)(Pe);function Pe(){var Ne;return Object(se.a)(this,Pe),Ne=Oe.apply(this,arguments),Ne._implementations=[],Ne}return Object(te.a)(Pe,[{key:"addImplementation",value:function(Fe,Xe){var Et=this;return this._implementations.push([Fe,Xe]),this._implementations.sort(function(Ft,Ot){return Ot[0]-Ft[0]}),{dispose:function(){for(var Ot=0;Ot<Et._implementations.length;Ot++)if(Et._implementations[Ot][1]===Xe){Et._implementations.splice(Ot,1);return}}}}},{key:"run",value:function(Fe,Xe,Et){var Ft=Object(ve.a)(this._implementations),Ot;try{for(Ft.s();!(Ot=Ft.n()).done;){var pt=Ot.value,Lt=pt[1](Fe,Xe,Et);if(Lt)return typeof Lt=="boolean"?void 0:Lt}}catch(et){Ft.e(et)}finally{Ft.f()}}}]),Pe}(I),pe=function(Ae){Object(we.a)(Pe,Ae);var Oe=Object(w.a)(Pe);function Pe(){return Object(se.a)(this,Pe),Oe.apply(this,arguments)}return Object(te.a)(Pe,[{key:"run",value:function(Fe){for(var Xe=this,Et=arguments.length,Ft=new Array(Et>1?Et-1:0),Ot=1;Ot<Et;Ot++)Ft[Ot-1]=arguments[Ot];var pt=Fe.get(Y.a),Lt=pt.getFocusedCodeEditor()||pt.getActiveCodeEditor();if(!!Lt)return Lt.invokeWithinContext(function(et){var Vt,Re=et.get(F.b),Ce=et.get(C.b),ye=Re.contextMatchesRules(Object(D.n)(Xe.desc.precondition));if(!ye){Ce.debug("[EditorAction2] NOT running command because its precondition is FALSE",Xe.desc.id,(Vt=Xe.desc.precondition)===null||Vt===void 0?void 0:Vt.serialize());return}return Xe.runEditorCommand.apply(Xe,[et,Lt].concat(Ft))})}}]),Pe}(V.a);function fe(Ae,Oe){B.a.registerCommand(Ae,function(Pe){for(var Ne=arguments.length,Fe=new Array(Ne>1?Ne-1:0),Xe=1;Xe<Ne;Xe++)Fe[Xe-1]=arguments[Xe];var Et=Pe.get(W.a),Ft=Fe[0],Ot=Fe[1];Object(D.b)(_.a.isUri(Ft)),Object(D.b)(E.a.isIPosition(Ot));var pt=Pe.get(Z.a).getModel(Ft);if(pt){var Lt=E.a.lift(Ot);return Et.invokeFunction.apply(Et,[Oe,pt,Lt].concat(Object(ce.a)(Fe.slice(2))))}return Pe.get(ne.a).createModelReference(Ft).then(function(et){return new Promise(function(Vt,Re){try{var Ce=Et.invokeFunction(Oe,et.object.textEditorModel,E.a.lift(Ot),Fe.slice(2));Vt(Ce)}catch(ye){Re(ye)}}).finally(function(){et.dispose()})})})}function ke(Ae){return J.INSTANCE.registerEditorCommand(Ae),Ae}function A(Ae){var Oe=new Ae;return J.INSTANCE.registerEditorAction(Oe),Oe}function P(Ae){return J.INSTANCE.registerEditorAction(Ae),Ae}function G(Ae){J.INSTANCE.registerEditorAction(Ae)}function re(Ae,Oe,Pe){J.INSTANCE.registerEditorContribution(Ae,Oe,Pe)}var ae;(function(Ae){function Oe(Et){return J.INSTANCE.getEditorCommand(Et)}Ae.getEditorCommand=Oe;function Pe(){return J.INSTANCE.getEditorActions()}Ae.getEditorActions=Pe;function Ne(){return J.INSTANCE.getEditorContributions()}Ae.getEditorContributions=Ne;function Fe(Et){return J.INSTANCE.getEditorContributions().filter(function(Ft){return Et.indexOf(Ft.id)>=0})}Ae.getSomeEditorContributions=Fe;function Xe(){return J.INSTANCE.getDiffEditorContributions()}Ae.getDiffEditorContributions=Xe})(ae||(ae={}));var Q={EditorCommonContributions:"editor.contributions"},J=function(){function Ae(){Object(se.a)(this,Ae),this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return Object(te.a)(Ae,[{key:"registerEditorContribution",value:function(Pe,Ne,Fe){this.editorContributions.push({id:Pe,ctor:Ne,instantiation:Fe})}},{key:"getEditorContributions",value:function(){return this.editorContributions.slice(0)}},{key:"getDiffEditorContributions",value:function(){return this.diffEditorContributions.slice(0)}},{key:"registerEditorAction",value:function(Pe){Pe.register(),this.editorActions.push(Pe)}},{key:"getEditorActions",value:function(){return this.editorActions}},{key:"registerEditorCommand",value:function(Pe){Pe.register(),this.editorCommands[Pe.id]=Pe}},{key:"getEditorCommand",value:function(Pe){return this.editorCommands[Pe]||null}}]),Ae}();J.INSTANCE=new J,H.a.add(Q.EditorCommonContributions,J.INSTANCE);function me(Ae){return Ae.register(),Ae}var ge=me(new O({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:V.c.MenubarEditMenu,group:"1_do",title:$.b({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:V.c.CommandPalette,group:"",title:$.b("undo","Undo"),order:1}]}));me(new T(ge,{id:"default:undo",precondition:void 0}));var L=me(new O({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:V.c.MenubarEditMenu,group:"1_do",title:$.b({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:V.c.CommandPalette,group:"",title:$.b("redo","Redo"),order:1}]}));me(new T(L,{id:"default:redo",precondition:void 0}));var De=me(new O({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:V.c.MenubarSelectionMenu,group:"1_basic",title:$.b({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:V.c.CommandPalette,group:"",title:$.b("selectAll","Select All"),order:1}]}))},t3cU:function(mn,U,a){"use strict";a.r(U);var ce=a("bbsP"),we=a("/wGt"),w=a("T2oS"),ve=a("W9HT"),se=a("7Kak"),te=a("9yH6"),$=a("OaEy"),_=a("2fM7"),Y=a("14J3"),E=a("BMrR"),Z=a("jCWc"),ne=a("kPKH"),V=a("5NDa"),B=a("5rEg"),F=a("+L6B"),W=a("2/Rp"),N=a("miYZ"),H=a("tsqr"),d=a("qLMh"),D=a("9og8"),C=a("y8nQ"),x=a("Vl3Y"),O=a("tJVT"),T=a("xvlK"),z=a("q1tI"),I=a("tMyG"),de=a("Qiat"),pe=a("ZfpI"),fe=a("Dp36"),ke=a("8z58"),A=a("fWQN"),P=a("mtLc"),G=a("rAM+");/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var re=Object.defineProperty,ae=Object.getOwnPropertyDescriptor,Q=Object.getOwnPropertyNames,J=Object.prototype.hasOwnProperty,me=function(o,e,i,t){if(e&&typeof e=="object"||typeof e=="function"){var n=Object(G.a)(Q(e)),r;try{var l=function(){var h=r.value;!J.call(o,h)&&h!==i&&re(o,h,{get:function(){return e[h]},enumerable:!(t=ae(e,h))||t.enumerable})};for(n.s();!(r=n.n()).done;)l()}catch(c){n.e(c)}finally{n.f()}}return o},ge=function(o,e,i){return me(o,e,"default"),i&&me(i,e,"default")},L={};ge(L,ke);var De={},Ae={},Oe=function(){function s(o){var e=this;Object(A.a)(this,s),this._languageId=void 0,this._loadingTriggered=void 0,this._lazyLoadPromise=void 0,this._lazyLoadPromiseResolve=void 0,this._lazyLoadPromiseReject=void 0,this._languageId=o,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(i,t){e._lazyLoadPromiseResolve=i,e._lazyLoadPromiseReject=t})}return Object(P.a)(s,[{key:"load",value:function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,De[this._languageId].loader().then(function(i){return e._lazyLoadPromiseResolve(i)},function(i){return e._lazyLoadPromiseReject(i)})),this._lazyLoadPromise}}],[{key:"getOrCreate",value:function(e){return Ae[e]||(Ae[e]=new s(e)),Ae[e]}}]),s}();function Pe(s){return Ne.apply(this,arguments)}function Ne(){return Ne=Object(D.a)(Object(d.a)().mark(function s(o){var e;return Object(d.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe.getOrCreate(o).load();case 2:e=L.editor.createModel("",o),e.dispose();case 4:case"end":return t.stop()}},s)})),Ne.apply(this,arguments)}function Fe(s){var o=s.id;De[o]=s,L.languages.register(s);var e=Oe.getOrCreate(o);L.languages.registerTokensProviderFactory(o,{create:function(){var i=Object(D.a)(Object(d.a)().mark(function n(){var r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.load();case 2:return r=c.sent,c.abrupt("return",r.language);case 4:case"end":return c.stop()}},n)}));function t(){return i.apply(this,arguments)}return t}()}),L.languages.onLanguageEncountered(o,Object(D.a)(Object(d.a)().mark(function i(){var t;return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.load();case 2:t=r.sent,L.languages.setLanguageConfiguration(o,t.conf);case 4:case"end":return r.stop()}},i)})))}/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return a.e(20).then(a.bind(null,"6Xso"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return a.e(21).then(a.bind(null,"aA7r"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return a.e(22).then(a.bind(null,"NlLO"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return a.e(23).then(a.bind(null,"7s2V"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return a.e(24).then(a.bind(null,"CGdV"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return a.e(25).then(a.bind(null,"3VBA"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return a.e(26).then(a.bind(null,"AoeA"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return a.e(27).then(a.bind(null,"2ZXa"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return a.e(5).then(a.bind(null,"fhwZ"))}}),Fe({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return a.e(5).then(a.bind(null,"fhwZ"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return a.e(28).then(a.bind(null,"/Om3"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return a.e(29).then(a.bind(null,"p+q7"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return a.e(30).then(a.bind(null,"v7Iz"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:function(){return a.e(31).then(a.bind(null,"VB8O"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return a.e(32).then(a.bind(null,"hf0J"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return a.e(33).then(a.bind(null,"Dsrv"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return a.e(34).then(a.bind(null,"VqYA"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return a.e(35).then(a.bind(null,"ljTP"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:function(){return a.e(36).then(a.bind(null,"sm4X"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return a.e(37).then(a.bind(null,"yswY"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagAutoInterpolationDollar})}}),Fe({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagAngleInterpolationDollar})}}),Fe({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagBracketInterpolationDollar})}}),Fe({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagAngleInterpolationBracket})}}),Fe({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagBracketInterpolationBracket})}}),Fe({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagAutoInterpolationDollar})}}),Fe({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagAutoInterpolationBracket})}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return a.e(38).then(a.bind(null,"lHAa"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return a.e(39).then(a.bind(null,"Eg73"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return a.e(40).then(a.bind(null,"O3xE"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return a.e(41).then(a.bind(null,"AXZt"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return a.e(42).then(a.bind(null,"tpLM"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return a.e(43).then(a.bind(null,"On+f"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return a.e(44).then(a.bind(null,"BjZ/"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return a.e(19).then(a.bind(null,"7Xl7"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return a.e(45).then(a.bind(null,"kx9O"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return a.e(46).then(a.bind(null,"y0OK"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return a.e(47).then(a.bind(null,"OfHX"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return a.e(48).then(a.bind(null,"ge0q"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return a.e(50).then(a.bind(null,"yUwd"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return a.e(49).then(a.bind(null,"Icy6"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return a.e(51).then(a.bind(null,"PH8j"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return a.e(52).then(a.bind(null,"PhST"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return a.e(53).then(a.bind(null,"DTUS"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return a.e(54).then(a.bind(null,"8m5U"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return a.e(55).then(a.bind(null,"tGOS"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return a.e(56).then(a.bind(null,"fYNN"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return a.e(57).then(a.bind(null,"meXB"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return a.e(58).then(a.bind(null,"ywQP"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:function(){return a.e(59).then(a.bind(null,"QKwv"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return a.e(60).then(a.bind(null,"HGU1"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return a.e(61).then(a.bind(null,"lXEz"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"pla",extensions:[".pla"],loader:function(){return a.e(62).then(a.bind(null,"JNvW"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return a.e(63).then(a.bind(null,"YdqL"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return a.e(64).then(a.bind(null,"W1QP"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return a.e(65).then(a.bind(null,"ppMK"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:function(){return a.e(66).then(a.bind(null,"paYk"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return a.e(67).then(a.bind(null,"I+Au"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return a.e(68).then(a.bind(null,"8ahN"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return a.e(69).then(a.bind(null,"vWcP"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return a.e(70).then(a.bind(null,"Qx4d"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return a.e(71).then(a.bind(null,"Fzfo"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return a.e(72).then(a.bind(null,"j6Xs"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return a.e(73).then(a.bind(null,"KpXS"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return a.e(74).then(a.bind(null,"LdT9"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return a.e(75).then(a.bind(null,"3MdH"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return a.e(76).then(a.bind(null,"/0xJ"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return a.e(77).then(a.bind(null,"ynbn"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return a.e(78).then(a.bind(null,"VZ+T"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return a.e(79).then(a.bind(null,"fB/Z"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return a.e(80).then(a.bind(null,"QJnQ"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return a.e(81).then(a.bind(null,"l/4i"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return a.e(82).then(a.bind(null,"Csoz"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return a.e(83).then(a.bind(null,"cOMg"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return a.e(84).then(a.bind(null,"I3f2"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return a.e(85).then(a.bind(null,"Czvm"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return a.e(86).then(a.bind(null,"rMIR"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return a.e(87).then(a.bind(null,"05+/"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return a.e(6).then(a.bind(null,"BX0I"))}}),Fe({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return a.e(6).then(a.bind(null,"BX0I"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return a.e(88).then(a.bind(null,"xT+r"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return a.e(89).then(a.bind(null,"nNVF"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return a.e(90).then(a.bind(null,"87dK"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return a.e(91).then(a.bind(null,"eXtt"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:function(){return a.e(92).then(a.bind(null,"eJHP"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return a.e(93).then(a.bind(null,"aH2L"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Fe({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return a.e(94).then(a.bind(null,"EaLm"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*//*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var Xe=Object.defineProperty,Et=Object.getOwnPropertyDescriptor,Ft=Object.getOwnPropertyNames,Ot=Object.prototype.hasOwnProperty,pt=function(o,e,i,t){if(e&&typeof e=="object"||typeof e=="function"){var n=Object(G.a)(Ft(e)),r;try{var l=function(){var h=r.value;!Ot.call(o,h)&&h!==i&&Xe(o,h,{get:function(){return e[h]},enumerable:!(t=Et(e,h))||t.enumerable})};for(n.s();!(r=n.n()).done;)l()}catch(c){n.e(c)}finally{n.f()}}return o},Lt=function(o,e,i){return pt(o,e,"default"),i&&pt(i,e,"default")},et={};Lt(et,ke);var Vt=function(){function s(o,e,i){Object(A.a)(this,s),this._onDidChange=new et.Emitter,this._options=void 0,this._modeConfiguration=void 0,this._languageId=void 0,this._languageId=o,this.setOptions(e),this.setModeConfiguration(i)}return Object(P.a)(s,[{key:"onDidChange",get:function(){return this._onDidChange.event}},{key:"languageId",get:function(){return this._languageId}},{key:"modeConfiguration",get:function(){return this._modeConfiguration}},{key:"diagnosticsOptions",get:function(){return this.options}},{key:"options",get:function(){return this._options}},{key:"setOptions",value:function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}},{key:"setDiagnosticsOptions",value:function(e){this.setOptions(e)}},{key:"setModeConfiguration",value:function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}}]),s}(),Re={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},Ce={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},ye=new Vt("css",Re,Ce),Te=new Vt("scss",Re,Ce),Qe=new Vt("less",Re,Ce);et.languages.css={cssDefaults:ye,lessDefaults:Qe,scssDefaults:Te};function $e(){return a.e(95).then(a.bind(null,"20/g"))}et.languages.onLanguage("less",function(){$e().then(function(s){return s.setupMode(Qe)})}),et.languages.onLanguage("scss",function(){$e().then(function(s){return s.setupMode(Te)})}),et.languages.onLanguage("css",function(){$e().then(function(s){return s.setupMode(ye)})});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var ze=Object.defineProperty,ot=Object.getOwnPropertyDescriptor,He=Object.getOwnPropertyNames,Ge=Object.prototype.hasOwnProperty,Je=function(o,e,i,t){if(e&&typeof e=="object"||typeof e=="function"){var n=Object(G.a)(He(e)),r;try{var l=function(){var h=r.value;!Ge.call(o,h)&&h!==i&&ze(o,h,{get:function(){return e[h]},enumerable:!(t=ot(e,h))||t.enumerable})};for(n.s();!(r=n.n()).done;)l()}catch(c){n.e(c)}finally{n.f()}}return o},ft=function(o,e,i){return Je(o,e,"default"),i&&Je(i,e,"default")},qt={};ft(qt,ke);var bt=function(){function s(o,e,i){Object(A.a)(this,s),this._onDidChange=new qt.Emitter,this._options=void 0,this._modeConfiguration=void 0,this._languageId=void 0,this._languageId=o,this.setOptions(e),this.setModeConfiguration(i)}return Object(P.a)(s,[{key:"onDidChange",get:function(){return this._onDidChange.event}},{key:"languageId",get:function(){return this._languageId}},{key:"options",get:function(){return this._options}},{key:"modeConfiguration",get:function(){return this._modeConfiguration}},{key:"setOptions",value:function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}},{key:"setModeConfiguration",value:function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}}]),s}(),Bt={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},rn={format:Bt,suggest:{},data:{useDefaultDataProvider:!0}};function an(s){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:s===In,documentFormattingEdits:s===In,documentRangeFormattingEdits:s===In}}var In="html",Dt="handlebars",jn="razor",_n=ir(In,rn,an(In)),Nn=_n.defaults,ei=ir(Dt,rn,an(Dt)),kn=ei.defaults,Pn=ir(jn,rn,an(jn)),qi=Pn.defaults;qt.languages.html={htmlDefaults:Nn,razorDefaults:qi,handlebarDefaults:kn,htmlLanguageService:_n,handlebarLanguageService:ei,razorLanguageService:Pn,registerHTMLLanguageService:ir};function gi(){return a.e(96).then(a.bind(null,"+lu7"))}function ir(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rn,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:an(s),i=new bt(s,o,e),t,n=qt.languages.onLanguage(s,Object(D.a)(Object(d.a)().mark(function r(){return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,gi();case 2:t=c.sent.setupMode(i);case 3:case"end":return c.stop()}},r)})));return{defaults:i,dispose:function(){var l;n.dispose(),(l=t)===null||l===void 0||l.dispose(),t=void 0}}}/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var yi=Object.defineProperty,mi=Object.getOwnPropertyDescriptor,gr=Object.getOwnPropertyNames,zn=Object.prototype.hasOwnProperty,Ki=function(o,e,i,t){if(e&&typeof e=="object"||typeof e=="function"){var n=Object(G.a)(gr(e)),r;try{var l=function(){var h=r.value;!zn.call(o,h)&&h!==i&&yi(o,h,{get:function(){return e[h]},enumerable:!(t=mi(e,h))||t.enumerable})};for(n.s();!(r=n.n()).done;)l()}catch(c){n.e(c)}finally{n.f()}}return o},Bn=function(o,e,i){return Ki(o,e,"default"),i&&Ki(i,e,"default")},ai={};Bn(ai,ke);var dn=function(){function s(o,e,i){Object(A.a)(this,s),this._onDidChange=new ai.Emitter,this._diagnosticsOptions=void 0,this._modeConfiguration=void 0,this._languageId=void 0,this._languageId=o,this.setDiagnosticsOptions(e),this.setModeConfiguration(i)}return Object(P.a)(s,[{key:"onDidChange",get:function(){return this._onDidChange.event}},{key:"languageId",get:function(){return this._languageId}},{key:"modeConfiguration",get:function(){return this._modeConfiguration}},{key:"diagnosticsOptions",get:function(){return this._diagnosticsOptions}},{key:"setDiagnosticsOptions",value:function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}},{key:"setModeConfiguration",value:function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}}]),s}(),Jn={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},Yt={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},Ct=new dn("json",Jn,Yt);ai.languages.json={jsonDefaults:Ct};function Dn(){return a.e(97).then(a.bind(null,"R7lK"))}ai.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),ai.languages.onLanguage("json",function(){Dn().then(function(s){return s.setupMode(Ct)})});var gn=a("z3hU"),en=a("BJRu"),yn=a("nB0o"),Qn=a("SmQN"),pi=a("0Lb2"),Pt=a("yKVA"),yt=a("879j"),Rn=a("OBOq"),Sn=a("eLzo"),Ii=a("/kV6"),Hi=a("2uFs"),wt=a("sswD"),Pi=a("gCVg"),Ut=a("wQH0"),We=a("3/fG"),Tn=a("T8No"),ar=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Br=function(s,o){return function(e,i){o(e,i,s)}},Yr=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},ti=new Tn.c("selectionAnchorSet",!1),bi=function(){function s(o,e){var i=this;Object(A.a)(this,s),this.editor=o,this.selectionAnchorSetContextKey=ti.bindTo(e),this.modelChangeListener=o.onDidChangeModel(function(){return i.selectionAnchorSetContextKey.reset()})}return Object(P.a)(s,[{key:"setSelectionAnchor",value:function(){var e=this;if(this.editor.hasModel()){var i=this.editor.getPosition();this.editor.changeDecorations(function(t){e.decorationId&&t.removeDecoration(e.decorationId),e.decorationId=t.addDecoration(Pi.a.fromPositions(i,i),{description:"selection-anchor",stickiness:1,hoverMessage:new Sn.a().appendText(Object(We.b)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),Object(Rn.a)(Object(We.b)("anchorSet","Anchor set at {0}:{1}",i.lineNumber,i.column))}}},{key:"goToSelectionAnchor",value:function(){if(this.editor.hasModel()&&this.decorationId){var e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}},{key:"selectFromAnchorToCursor",value:function(){if(this.editor.hasModel()&&this.decorationId){var e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){var i=this.editor.getPosition();this.editor.setSelection(Pi.a.fromPositions(e.getStartPosition(),i)),this.cancelSelectionAnchor()}}}},{key:"cancelSelectionAnchor",value:function(){var e=this;if(this.decorationId){var i=this.decorationId;this.editor.changeDecorations(function(t){t.removeDecoration(i),e.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}},{key:"dispose",value:function(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();bi.ID="editor.contrib.selectionAnchorController",bi=ar([Br(1,Tn.b)],bi);var Kn=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.setSelectionAnchor",label:Object(We.b)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|32),weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;return Yr(this,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:(r=bi.get(n))===null||r===void 0||r.setSelectionAnchor();case 1:case"end":return h.stop()}},l)}))}}]),e}(wt.b),En=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.goToSelectionAnchor",label:Object(We.b)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:ti})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;return Yr(this,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:(r=bi.get(n))===null||r===void 0||r.goToSelectionAnchor();case 1:case"end":return h.stop()}},l)}))}}]),e}(wt.b),Nt=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.selectFromAnchorToCursor",label:Object(We.b)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:ti,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|41),weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;return Yr(this,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:(r=bi.get(n))===null||r===void 0||r.selectFromAnchorToCursor();case 1:case"end":return h.stop()}},l)}))}}]),e}(wt.b),Gt=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.cancelSelectionAnchor",label:Object(We.b)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:ti,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:9,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;return Yr(this,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:(r=bi.get(n))===null||r===void 0||r.cancelSelectionAnchor();case 1:case"end":return h.stop()}},l)}))}}]),e}(wt.b);Object(wt.m)(bi.ID,bi,4),Object(wt.k)(Kn),Object(wt.k)(En),Object(wt.k)(Nt),Object(wt.k)(Gt);var mt=a("X+cX"),Ye=a("pmY6"),vn=a("tPKf"),nt=a("cGHE"),Ze=a("aokT"),Zt=a("M1Kb"),hn=a("tX9W"),Ht=a("fjLI"),lt=a("MD5Z"),si=a("t9D7"),Oi=Object(lt.Fc)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},We.b("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),Ji=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.jumpToBracket",label:We.b("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|1024|93,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;(r=Gi.get(n))===null||r===void 0||r.jumpToBracket()}}]),e}(wt.b),Wi=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.selectToBracket",label:We.b("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){var l,c=!0;r&&r.selectBrackets===!1&&(c=!1),(l=Gi.get(n))===null||l===void 0||l.selectToBracket(c)}}]),e}(wt.b),Yi=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.removeBrackets",label:We.b("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|512|1,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;(r=Gi.get(n))===null||r===void 0||r.removeBrackets(this.id)}}]),e}(wt.b),Bi=Object(P.a)(function s(o,e,i){Object(A.a)(this,s),this.position=o,this.brackets=e,this.options=i}),Gi=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t._editor=i,t._lastBracketsData=[],t._lastVersionId=0,t._decorations=t._editor.createDecorationsCollection(),t._updateBracketsSoon=t._register(new mt.g(function(){return t._updateBrackets()},50)),t._matchBrackets=t._editor.getOption(69),t._updateBracketsSoon.schedule(),t._register(i.onDidChangeCursorPosition(function(n){t._matchBrackets!=="never"&&t._updateBracketsSoon.schedule()})),t._register(i.onDidChangeModelContent(function(n){t._updateBracketsSoon.schedule()})),t._register(i.onDidChangeModel(function(n){t._lastBracketsData=[],t._updateBracketsSoon.schedule()})),t._register(i.onDidChangeModelLanguageConfiguration(function(n){t._lastBracketsData=[],t._updateBracketsSoon.schedule()})),t._register(i.onDidChangeConfiguration(function(n){n.hasChanged(69)&&(t._matchBrackets=t._editor.getOption(69),t._decorations.clear(),t._lastBracketsData=[],t._lastVersionId=0,t._updateBracketsSoon.schedule())})),t._register(i.onDidBlurEditorWidget(function(){t._updateBracketsSoon.schedule()})),t._register(i.onDidFocusEditorWidget(function(){t._updateBracketsSoon.schedule()})),t}return Object(P.a)(e,[{key:"jumpToBracket",value:function(){if(!!this._editor.hasModel()){var t=this._editor.getModel(),n=this._editor.getSelections().map(function(r){var l=r.getStartPosition(),c=t.bracketPairs.matchBracket(l),h=null;if(c)c[0].containsPosition(l)&&!c[1].containsPosition(l)?h=c[1].getStartPosition():c[1].containsPosition(l)&&(h=c[0].getStartPosition());else{var f=t.bracketPairs.findEnclosingBrackets(l);if(f)h=f[1].getStartPosition();else{var R=t.bracketPairs.findNextBracket(l);R&&R.range&&(h=R.range.getStartPosition())}}return h?new Pi.a(h.lineNumber,h.column,h.lineNumber,h.column):new Pi.a(l.lineNumber,l.column,l.lineNumber,l.column)});this._editor.setSelections(n),this._editor.revealRange(n[0])}}},{key:"selectToBracket",value:function(t){if(!!this._editor.hasModel()){var n=this._editor.getModel(),r=[];this._editor.getSelections().forEach(function(l){var c=l.getStartPosition(),h=n.bracketPairs.matchBracket(c);if(!h&&(h=n.bracketPairs.findEnclosingBrackets(c),!h)){var f=n.bracketPairs.findNextBracket(c);f&&f.range&&(h=n.bracketPairs.matchBracket(f.range.getStartPosition()))}var R=null,X=null;if(h){h.sort(Ze.a.compareRangesUsingStarts);var oe=h,je=Object(O.a)(oe,2),Me=je[0],st=je[1];if(R=t?Me.getStartPosition():Me.getEndPosition(),X=t?st.getEndPosition():st.getStartPosition(),st.containsPosition(c)){var gt=R;R=X,X=gt}}R&&X&&r.push(new Pi.a(R.lineNumber,R.column,X.lineNumber,X.column))}),r.length>0&&(this._editor.setSelections(r),this._editor.revealRange(r[0]))}}},{key:"removeBrackets",value:function(t){var n=this;if(!!this._editor.hasModel()){var r=this._editor.getModel();this._editor.getSelections().forEach(function(l){var c=l.getPosition(),h=r.bracketPairs.matchBracket(c);h||(h=r.bracketPairs.findEnclosingBrackets(c)),h&&(n._editor.pushUndoStop(),n._editor.executeEdits(t,[{range:h[0],text:""},{range:h[1],text:""}]),n._editor.pushUndoStop())})}}},{key:"_updateBrackets",value:function(){if(this._matchBrackets!=="never"){this._recomputeBrackets();var t=[],n=0,r=Object(G.a)(this._lastBracketsData),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=c.brackets;h&&(t[n++]={range:h[0],options:c.options},t[n++]={range:h[1],options:c.options})}}catch(f){r.e(f)}finally{r.f()}this._decorations.set(t)}}},{key:"_recomputeBrackets",value:function(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}var t=this._editor.getSelections();if(t.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}var n=this._editor.getModel(),r=n.getVersionId(),l=[];this._lastVersionId===r&&(l=this._lastBracketsData);for(var c=[],h=0,f=0,R=t.length;f<R;f++){var X=t[f];X.isEmpty()&&(c[h++]=X.getStartPosition())}c.length>1&&c.sort(nt.a.compare);for(var oe=[],je=0,Me=0,st=l.length,gt=0,jt=c.length;gt<jt;gt++){for(var Xt=c[gt];Me<st&&l[Me].position.isBefore(Xt);)Me++;if(Me<st&&l[Me].position.equals(Xt))oe[je++]=l[Me];else{var sn=n.bracketPairs.matchBracket(Xt,20),qn=e._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!sn&&this._matchBrackets==="always"&&(sn=n.bracketPairs.findEnclosingBrackets(Xt,20),qn=e._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),oe[je++]=new Bi(Xt,sn,qn)}}this._lastBracketsData=oe,this._lastVersionId=r}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);Gi.ID="editor.contrib.bracketMatchingController",Gi._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=hn.b.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Object(si.f)(Oi),position:Zt.f.Center}}),Gi._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=hn.b.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),Object(wt.m)(Gi.ID,Gi,1),Object(wt.k)(Wi),Object(wt.k)(Ji),Object(wt.k)(Yi),Ht.e.appendMenuItem(Ht.c.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:We.b({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});var Gr=function(){function s(o,e){Object(A.a)(this,s),this._selection=o,this._isMovingLeft=e}return Object(P.a)(s,[{key:"getEditOperations",value:function(e,i){if(!(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())){var t=this._selection.startLineNumber,n=this._selection.startColumn,r=this._selection.endColumn;if(!(this._isMovingLeft&&n===1)&&!(!this._isMovingLeft&&r===e.getLineMaxColumn(t)))if(this._isMovingLeft){var l=new Ze.a(t,n-1,t,n),c=e.getValueInRange(l);i.addEditOperation(l,null),i.addEditOperation(new Ze.a(t,r,t,r),c)}else{var h=new Ze.a(t,r,t,r+1),f=e.getValueInRange(h);i.addEditOperation(h,null),i.addEditOperation(new Ze.a(t,n,t,n),f)}}}},{key:"computeCursorState",value:function(e,i){return this._isMovingLeft?new Pi.a(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Pi.a(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}]),s}(),kr=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this,t),n.left=i,n}return Object(P.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=[],l=n.getSelections(),c=Object(G.a)(l),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;r.push(new Gr(f,this.left))}}catch(R){c.e(R)}finally{c.f()}n.pushUndoStop(),n.executeCommands(this.id,r),n.pushUndoStop()}}}]),e}(wt.b),sa=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:We.b("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:Ut.a.writable})}return Object(P.a)(e)}(kr),Fr=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!1,{id:"editor.action.moveCarretRightAction",label:We.b("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:Ut.a.writable})}return Object(P.a)(e)}(kr);Object(wt.k)(sa),Object(wt.k)(Fr);var ua=a("LCkn"),pn=a("mJFO"),Ln=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.transposeLetters",label:We.b("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=n.getModel(),l=[],c=n.getSelections(),h=Object(G.a)(c),f;try{for(h.s();!(f=h.n()).done;){var R=f.value;if(!!R.isEmpty()){var X=R.startLineNumber,oe=R.startColumn,je=r.getLineMaxColumn(X);if(!(X===1&&(oe===1||oe===2&&je===2))){var Me=oe===je?R.getPosition():pn.a.rightPosition(r,R.getPosition().lineNumber,R.getPosition().column),st=pn.a.leftPosition(r,Me),gt=pn.a.leftPosition(r,st),jt=r.getValueInRange(Ze.a.fromPositions(gt,st)),Xt=r.getValueInRange(Ze.a.fromPositions(st,Me)),sn=Ze.a.fromPositions(gt,Me);l.push(new ua.a(sn,Xt+jt))}}}}catch(qn){h.e(qn)}finally{h.f()}l.length>0&&(n.pushUndoStop(),n.executeCommands(this.id,l),n.pushUndoStop())}}}]),e}(wt.b);Object(wt.k)(Ln);var ct=a("D3Dy"),Mt=a("MNsG"),At=a("5TxY"),zt=a("Vxe3"),$t=a("9XeP"),Un=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Vn="9_cutcopypaste",Gn=Mt.k||document.queryCommandSupported("cut"),oi=Mt.k||document.queryCommandSupported("copy"),_i=typeof navigator.clipboard=="undefined"||ct.isFirefox?document.queryCommandSupported("paste"):!0;function Cn(s){return s.register(),s}var ui=Gn?Cn(new wt.f({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Mt.k?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:Ht.c.MenubarEditMenu,group:"2_ccp",title:We.b({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:Ht.c.EditorContext,group:Vn,title:We.b("actions.clipboard.cutLabel","Cut"),when:Ut.a.writable,order:1},{menuId:Ht.c.CommandPalette,group:"",title:We.b("actions.clipboard.cutLabel","Cut"),order:1},{menuId:Ht.c.SimpleEditorContext,group:Vn,title:We.b("actions.clipboard.cutLabel","Cut"),when:Ut.a.writable,order:1}]})):void 0,Si=oi?Cn(new wt.f({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Mt.k?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:Ht.c.MenubarEditMenu,group:"2_ccp",title:We.b({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:Ht.c.EditorContext,group:Vn,title:We.b("actions.clipboard.copyLabel","Copy"),order:2},{menuId:Ht.c.CommandPalette,group:"",title:We.b("actions.clipboard.copyLabel","Copy"),order:1},{menuId:Ht.c.SimpleEditorContext,group:Vn,title:We.b("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Ht.e.appendMenuItem(Ht.c.MenubarEditMenu,{submenu:Ht.c.MenubarCopy,title:{value:We.b("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),Ht.e.appendMenuItem(Ht.c.EditorContext,{submenu:Ht.c.EditorContextCopy,title:{value:We.b("copy as","Copy As"),original:"Copy As"},group:Vn,order:3}),Ht.e.appendMenuItem(Ht.c.EditorContext,{submenu:Ht.c.EditorContextShare,title:{value:We.b("share","Share"),original:"Share"},group:"11_share",order:-1,when:Tn.a.and(Tn.a.notEquals("resourceScheme","output"),Ut.a.editorTextFocus)}),Ht.e.appendMenuItem(Ht.c.EditorTitleContext,{submenu:Ht.c.EditorTitleContextShare,title:{value:We.b("share","Share"),original:"Share"},group:"11_share",order:-1}),Ht.e.appendMenuItem(Ht.c.ExplorerContext,{submenu:Ht.c.ExplorerContextShare,title:{value:We.b("share","Share"),original:"Share"},group:"11_share",order:-1});var Ui=_i?Cn(new wt.f({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Mt.k?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:Ht.c.MenubarEditMenu,group:"2_ccp",title:We.b({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:Ht.c.EditorContext,group:Vn,title:We.b("actions.clipboard.pasteLabel","Paste"),when:Ut.a.writable,order:4},{menuId:Ht.c.CommandPalette,group:"",title:We.b("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:Ht.c.SimpleEditorContext,group:Vn,title:We.b("actions.clipboard.pasteLabel","Paste"),when:Ut.a.writable,order:4}]})):void 0,Lr=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:We.b("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:0,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=n.getOption(35);!r&&n.getSelection().isEmpty()||(At.a.forceCopyWithSyntaxHighlighting=!0,n.focus(),document.execCommand("copy"),At.a.forceCopyWithSyntaxHighlighting=!1)}}}]),e}(wt.b);function or(s,o){!s||(s.addImplementation(1e4,"code-editor",function(e,i){var t=e.get(zt.a).getFocusedCodeEditor();if(t&&t.hasTextFocus()){var n=t.getOption(35),r=t.getSelection();return r&&r.isEmpty()&&!n||document.execCommand(o),!0}return!1}),s.addImplementation(0,"generic-dom",function(e,i){return document.execCommand(o),!0}))}or(ui,"cut"),or(Si,"copy"),Ui&&(Ui.addImplementation(1e4,"code-editor",function(s,o){var e=s.get(zt.a),i=s.get($t.a),t=e.getFocusedCodeEditor();if(t&&t.hasTextFocus()){var n=document.execCommand("paste");return!n&&Mt.m?function(){return Un(void 0,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,i.readText();case 2:l=oe.sent,l!==""&&(c=At.b.INSTANCE.get(l),h=!1,f=null,R=null,c&&(h=t.getOption(35)&&!!c.isFromEmptySelection,f=typeof c.multicursorText!="undefined"?c.multicursorText:null,R=c.mode),t.trigger("keyboard","paste",{text:l,pasteOnNewLine:h,multicursorText:f,mode:R}));case 4:case"end":return oe.stop()}},r)}))}():!0}return!1}),Ui.addImplementation(0,"generic-dom",function(s,o){return document.execCommand("paste"),!0})),oi&&Object(wt.k)(Lr);var Er=a("ZdAd"),vr=a("N0LK"),on=a("oBTY"),Wn=a("6OMU"),Zn=a("JQT/"),Li=a("/cxE"),_r=a("bY76"),Nr=a("x/UI"),$i=a("c0Ay"),Jr=a("lEqV"),ja=a("87Gm"),$r=a("nnTU"),Ra=a("sM1p"),Ua=a("tTk5"),Ka=a("XXUj"),ws=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Zr=function(){function s(o){Object(A.a)(this,s),this.value=o}return Object(P.a)(s,[{key:"equals",value:function(e){return this.value===e.value}},{key:"contains",value:function(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+s.sep)}},{key:"intersects",value:function(e){return this.contains(e)||e.contains(this)}},{key:"append",value:function(e){return new s(this.value+s.sep+e)}}]),s}();Zr.sep=".",Zr.None=new Zr("@@none@@"),Zr.Empty=new Zr(""),Zr.QuickFix=new Zr("quickfix"),Zr.Refactor=new Zr("refactor"),Zr.RefactorExtract=Zr.Refactor.append("extract"),Zr.RefactorInline=Zr.Refactor.append("inline"),Zr.RefactorMove=Zr.Refactor.append("move"),Zr.RefactorRewrite=Zr.Refactor.append("rewrite"),Zr.Source=new Zr("source"),Zr.SourceOrganizeImports=Zr.Source.append("organizeImports"),Zr.SourceFixAll=Zr.Source.append("fixAll"),Zr.SurroundWith=Zr.Refactor.append("surround");var Xa;(function(s){s.Refactor="refactor",s.RefactorPreview="refactor preview",s.Lightbulb="lightbulb",s.Default="other (default)",s.SourceAction="source action",s.QuickFix="quick fix action",s.FixAll="fix all",s.OrganizeImports="organize imports",s.AutoFix="auto fix",s.QuickFixHover="quick fix hover window",s.OnSave="save participants",s.ProblemsView="problems view"})(Xa||(Xa={}));function Go(s,o){return!(s.include&&!s.include.intersects(o)||s.excludes&&s.excludes.some(function(e){return qo(o,e,s.include)})||!s.includeSourceActions&&Zr.Source.contains(o))}function lo(s,o){var e=o.kind?new Zr(o.kind):void 0;return!(s.include&&(!e||!s.include.contains(e))||s.excludes&&e&&s.excludes.some(function(i){return qo(e,i,s.include)})||!s.includeSourceActions&&e&&Zr.Source.contains(e)||s.onlyIncludePreferredActions&&!o.isPreferred)}function qo(s,o,e){return!(!o.contains(s)||e&&o.contains(e))}var _a=function(){function s(o,e,i){Object(A.a)(this,s),this.kind=o,this.apply=e,this.preferred=i}return Object(P.a)(s,null,[{key:"fromUser",value:function(e,i){return!e||typeof e!="object"?new s(i.kind,i.apply,!1):new s(s.getKindFromUser(e,i.kind),s.getApplyFromUser(e,i.apply),s.getPreferredUser(e))}},{key:"getApplyFromUser",value:function(e,i){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}},{key:"getKindFromUser",value:function(e,i){return typeof e.kind=="string"?new Zr(e.kind):i}},{key:"getPreferredUser",value:function(e){return typeof e.preferred=="boolean"?e.preferred:!1}}]),s}(),la=function(){function s(o,e){Object(A.a)(this,s),this.action=o,this.provider=e}return Object(P.a)(s,[{key:"resolve",value:function(e){var i;return ws(this,void 0,void 0,Object(d.a)().mark(function t(){var n;return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(((i=this.provider)===null||i===void 0?void 0:i.resolveCodeAction)&&!this.action.edit)){l.next=11;break}return l.prev=1,l.next=4,this.provider.resolveCodeAction(this.action,e);case 4:n=l.sent,l.next=10;break;case 7:l.prev=7,l.t0=l.catch(1),Object(Li.i)(l.t0);case 10:n&&(this.action.edit=n.edit);case 11:return l.abrupt("return",this);case 12:case"end":return l.stop()}},t,this,[[1,7]])}))}}]),s}(),La=Object(d.a)().mark(ut),Ro=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},$o="editor.action.codeAction",Rt="editor.action.quickFix",tt="editor.action.autoFix",_e="editor.action.refactor",ee="editor.action.sourceAction",j="editor.action.organizeImports",k="editor.action.fixAll",K=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r.documentation=t,r._register(n),r.allActions=Object(on.a)(i).sort(e.codeActionsComparator),r.validActions=r.allActions.filter(function(l){var c=l.action;return!c.disabled}),r}return Object(P.a)(e,[{key:"hasAutoFix",get:function(){return this.validActions.some(function(t){var n=t.action;return!!n.kind&&Zr.QuickFix.contains(new Zr(n.kind))&&!!n.isPreferred})}}],[{key:"codeActionsPreferredComparator",value:function(t,n){return t.isPreferred&&!n.isPreferred?-1:!t.isPreferred&&n.isPreferred?1:0}},{key:"codeActionsComparator",value:function(t,n){var r=t.action,l=n.action;return Object(Wn.s)(r.diagnostics)?Object(Wn.s)(l.diagnostics)?e.codeActionsPreferredComparator(r,l):-1:Object(Wn.s)(l.diagnostics)?1:e.codeActionsPreferredComparator(r,l)}}]),e}(Ye.a),ue={actions:[],documentation:void 0};function xe(s,o,e,i,t,n){var r;return Ro(this,void 0,void 0,Object(d.a)().mark(function l(){var c=this,h,f,R,X,oe,je,Me,st,gt,jt;return Object(d.a)().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:return h=i.filter||{},f={only:(r=h.include)===null||r===void 0?void 0:r.value,trigger:i.type},R=new ja.c(o,n),X=Ve(s,o,h),oe=new Ye.c,je=X.map(function(qn){return Ro(c,void 0,void 0,Object(d.a)().mark(function Hn(){var fi,Ci,wi;return Object(d.a)().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:return jr.prev=0,t.report(qn),jr.next=4,qn.provideCodeActions(o,e,f,R.token);case 4:if(fi=jr.sent,fi&&oe.add(fi),!R.token.isCancellationRequested){jr.next=8;break}return jr.abrupt("return",ue);case 8:return Ci=((fi==null?void 0:fi.actions)||[]).filter(function(dr){return dr&&lo(h,dr)}),wi=_t(qn,Ci,h.include),jr.abrupt("return",{actions:Ci.map(function(dr){return new la(dr,qn)}),documentation:wi});case 13:if(jr.prev=13,jr.t0=jr.catch(0),!Object(Li.g)(jr.t0)){jr.next=17;break}throw jr.t0;case 17:return Object(Li.i)(jr.t0),jr.abrupt("return",ue);case 19:case"end":return jr.stop()}},Hn,null,[[0,13]])}))}),Me=s.onDidChange(function(){var qn=s.all(o);Object(Wn.j)(qn,X)||R.cancel()}),sn.prev=7,sn.next=10,Promise.all(je);case 10:return st=sn.sent,gt=st.map(function(qn){return qn.actions}).flat(),jt=[].concat(Object(on.a)(Object(Wn.f)(st.map(function(qn){return qn.documentation}))),Object(on.a)(ut(s,o,i,gt))),sn.abrupt("return",new K(gt,jt,oe));case 14:return sn.prev=14,Me.dispose(),R.dispose(),sn.finish(14);case 18:case"end":return sn.stop()}},l,null,[[7,,14,18]])}))}function Ve(s,o,e){return s.all(o).filter(function(i){return i.providedCodeActionKinds?i.providedCodeActionKinds.some(function(t){return Go(e,new Zr(t))}):!0})}function ut(s,o,e,i){var t,n,r,l,c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!(o&&i.length)){R.next=18;break}l=Object(G.a)(s.all(o)),R.prev=2,l.s();case 4:if((c=l.n()).done){R.next=10;break}if(h=c.value,!h._getAdditionalMenuItems){R.next=8;break}return R.delegateYield((t=h._getAdditionalMenuItems)===null||t===void 0?void 0:t.call(h,{trigger:e.type,only:(r=(n=e.filter)===null||n===void 0?void 0:n.include)===null||r===void 0?void 0:r.value},i.map(function(X){return X.action})),"t0",8);case 8:R.next=4;break;case 10:R.next=15;break;case 12:R.prev=12,R.t1=R.catch(2),l.e(R.t1);case 15:return R.prev=15,l.f(),R.finish(15);case 18:case"end":return R.stop()}},La,null,[[2,12,15,18]])}function _t(s,o,e){if(!!s.documentation){var i=s.documentation.map(function(je){return{kind:new Zr(je.kind),command:je.command}});if(e){var t,n=Object(G.a)(i),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;l.kind.contains(e)&&(t?t.kind.contains(l.kind)&&(t=l):t=l)}}catch(je){n.e(je)}finally{n.f()}if(t)return t==null?void 0:t.command}var c=Object(G.a)(o),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;if(!!f.kind){var R=Object(G.a)(i),X;try{for(R.s();!(X=R.n()).done;){var oe=X.value;if(oe.kind.contains(new Zr(f.kind)))return oe.command}}catch(je){R.e(je)}finally{R.f()}}}}catch(je){c.e(je)}finally{c.f()}}}var xt;(function(s){s.OnSave="onSave",s.FromProblemsView="fromProblemsView",s.FromCodeActions="fromCodeActions"})(xt||(xt={}));function un(s,o,e,i){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Zn.a.None,n;return Ro(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f,R,X;return Object(d.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return l=s.get(Nr.a),c=s.get($r.b),h=s.get(Ka.a),f=s.get(Ra.a),h.publicLog2("codeAction.applyCodeAction",{codeActionTitle:o.action.title,codeActionKind:o.action.kind,codeActionIsPreferred:!!o.action.isPreferred,reason:e}),je.next=7,o.resolve(t);case 7:if(!t.isCancellationRequested){je.next=9;break}return je.abrupt("return");case 9:if(!((n=o.action.edit)===null||n===void 0?void 0:n.edits.length)){je.next=15;break}return je.next=12,l.apply(o.action.edit,{editor:i==null?void 0:i.editor,label:o.action.title,quotableLabel:o.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:e!==xt.OnSave,showPreview:i==null?void 0:i.preview});case 12:if(R=je.sent,R.isApplied){je.next=15;break}return je.abrupt("return");case 15:if(!o.action.command){je.next=25;break}return je.prev=16,je.next=19,c.executeCommand.apply(c,[o.action.command.id].concat(Object(on.a)(o.action.command.arguments||[])));case 19:je.next=25;break;case 21:je.prev=21,je.t0=je.catch(16),X=ln(je.t0),f.error(typeof X=="string"?X:We.b("applyCodeActionFailed","An unknown error occurred while applying the code action"));case 25:case"end":return je.stop()}},r,null,[[16,21]])}))}function ln(s){return typeof s=="string"?s:s instanceof Error&&typeof s.message=="string"?s.message:void 0}$r.a.registerCommand("_executeCodeActionProvider",function(s,o,e,i,t){return Ro(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R,X,oe,je;return Object(d.a)().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(o instanceof _r.a){st.next=2;break}throw Object(Li.e)();case 2:if(r=s.get($i.a),l=r.codeActionProvider,c=s.get(Jr.a).getModel(o),c){st.next=6;break}throw Object(Li.e)();case 6:if(h=Pi.a.isISelection(e)?Pi.a.liftSelection(e):Ze.a.isIRange(e)?c.validateRange(e):void 0,h){st.next=9;break}throw Object(Li.e)();case 9:return f=typeof i=="string"?new Zr(i):void 0,st.next=12,xe(l,c,h,{type:1,triggerAction:Xa.Default,filter:{includeSourceActions:!0,include:f}},Ua.c.None,Zn.a.None);case 12:for(R=st.sent,X=[],oe=Math.min(R.validActions.length,typeof t=="number"?t:0),je=0;je<oe;je++)X.push(R.validActions[je].resolve(Zn.a.None));return st.prev=16,st.next=19,Promise.all(X);case 19:return st.abrupt("return",R.validActions.map(function(gt){return gt.action}));case 20:return st.prev=20,setTimeout(function(){return R.dispose()},100),st.finish(20);case 23:case"end":return st.stop()}},n,null,[[16,,20,23]])}))});var nn=a("tS8v"),bn=a("w4Tj"),An=a("oZsa"),It=a("EffR"),er=a("QdLL"),Mi=a("bexQ"),wr=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},hr=function(s,o){return function(e,i){o(e,i,s)}},xi=function(){function s(o){Object(A.a)(this,s),this.keybindingService=o}return Object(P.a)(s,[{key:"getResolver",value:function(){var e=this,i=new er.a(function(){return e.keybindingService.getKeybindings().filter(function(t){return s.codeActionCommands.indexOf(t.command)>=0}).filter(function(t){return t.resolvedKeybinding}).map(function(t){var n=t.commandArgs;return t.command===j?n={kind:Zr.SourceOrganizeImports.value}:t.command===k&&(n={kind:Zr.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},_a.fromUser(n,{kind:Zr.None,apply:"never"}))})});return function(t){if(t.kind){var n=e.bestKeybindingForCodeAction(t,i.value);return n==null?void 0:n.resolvedKeybinding}}}},{key:"bestKeybindingForCodeAction",value:function(e,i){if(!!e.kind){var t=new Zr(e.kind);return i.filter(function(n){return n.kind.contains(t)}).filter(function(n){return n.preferred?e.isPreferred:!0}).reduceRight(function(n,r){return n?n.kind.contains(r.kind)?r:n:r},void 0)}}}]),s}();xi.codeActionCommands=[_e,$o,ee,j,k],xi=wr([hr(0,Mi.a)],xi);var Ar=a("HgMQ"),zr=a("8tI9"),Tr=a("Vhoy"),ba=a("PPCJ"),Sa=Object(lt.Fc)("symbolIcon.arrayForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Va=Object(lt.Fc)("symbolIcon.booleanForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ja=Object(lt.Fc)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},Object(We.b)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ba=Object(lt.Fc)("symbolIcon.colorForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bo=Object(lt.Fc)("symbolIcon.constantForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),yo=Object(lt.Fc)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},Object(We.b)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Vo=Object(lt.Fc)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},Object(We.b)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),js=Object(lt.Fc)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Object(We.b)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Qo=Object(lt.Fc)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},Object(We.b)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ho=Object(lt.Fc)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Object(We.b)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),us=Object(lt.Fc)("symbolIcon.fileForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),go=Object(lt.Fc)("symbolIcon.folderForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Uo=Object(lt.Fc)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},Object(We.b)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Yo=Object(lt.Fc)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Object(We.b)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zo=Object(lt.Fc)("symbolIcon.keyForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Bs=Object(lt.Fc)("symbolIcon.keywordForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),du=Object(lt.Fc)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},Object(We.b)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hu=Object(lt.Fc)("symbolIcon.moduleForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Is=Object(lt.Fc)("symbolIcon.namespaceForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hl=Object(lt.Fc)("symbolIcon.nullForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ks=Object(lt.Fc)("symbolIcon.numberForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fu=Object(lt.Fc)("symbolIcon.objectForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fl=Object(lt.Fc)("symbolIcon.operatorForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vl=Object(lt.Fc)("symbolIcon.packageForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zl=Object(lt.Fc)("symbolIcon.propertyForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ll=Object(lt.Fc)("symbolIcon.referenceForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hc=Object(lt.Fc)("symbolIcon.snippetForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ho=Object(lt.Fc)("symbolIcon.stringForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zu=Object(lt.Fc)("symbolIcon.structForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),oo=Object(lt.Fc)("symbolIcon.textForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ml=Object(lt.Fc)("symbolIcon.typeParameterForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_o=Object(lt.Fc)("symbolIcon.unitForeground",{dark:lt.mb,light:lt.mb,hcDark:lt.mb,hcLight:lt.mb},Object(We.b)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ra=Object(lt.Fc)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Object(We.b)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Kl=Object.freeze({kind:Zr.Empty,title:Object(We.b)("codeAction.widget.id.more","More Actions...")}),Ws=Object.freeze([{kind:Zr.QuickFix,title:Object(We.b)("codeAction.widget.id.quickfix","Quick Fix...")},{kind:Zr.RefactorExtract,title:Object(We.b)("codeAction.widget.id.extract","Extract..."),icon:Tr.a.wrench},{kind:Zr.RefactorInline,title:Object(We.b)("codeAction.widget.id.inline","Inline..."),icon:Tr.a.wrench},{kind:Zr.RefactorRewrite,title:Object(We.b)("codeAction.widget.id.convert","Rewrite..."),icon:Tr.a.wrench},{kind:Zr.RefactorMove,title:Object(We.b)("codeAction.widget.id.move","Move..."),icon:Tr.a.wrench},{kind:Zr.SurroundWith,title:Object(We.b)("codeAction.widget.id.surround","Surround With..."),icon:Tr.a.symbolSnippet},{kind:Zr.Source,title:Object(We.b)("codeAction.widget.id.source","Source Action..."),icon:Tr.a.symbolFile},Kl]);function _s(s,o,e){if(!o)return s.map(function(jt){return{kind:"action",item:jt,group:Kl,disabled:!!jt.action.disabled,label:jt.action.disabled||jt.action.title}});var i=Ws.map(function(jt){return{group:jt,actions:[]}}),t=Object(G.a)(s),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=r.action.kind?new Zr(r.action.kind):Zr.None,c=Object(G.a)(i),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;if(f.group.kind.contains(l)){f.actions.push(r);break}}}catch(jt){c.e(jt)}finally{c.f()}}}catch(jt){t.e(jt)}finally{t.f()}var R=[],X=Object(G.a)(i),oe;try{for(X.s();!(oe=X.n()).done;){var je=oe.value;if(je.actions.length){R.push({kind:"header",group:je.group});var Me=Object(G.a)(je.actions),st;try{for(Me.s();!(st=Me.n()).done;){var gt=st.value;R.push({kind:"action",item:gt,group:je.group,label:gt.action.title,disabled:!!gt.action.disabled,keybinding:e(gt.action)})}}catch(jt){Me.e(jt)}finally{Me.f()}}}}catch(jt){X.e(jt)}finally{X.f()}return R}var Es=a("pg8w"),ca=a("MI8n"),Fa=a("T5lh"),ya=a("746U"),oa=a("YRwz"),Wa=a("16Jm"),Co=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},es=function(s,o){return function(e,i){o(e,i,s)}},To;(function(s){s.Hidden={type:0};var o=Object(P.a)(function e(i,t,n,r){Object(A.a)(this,e),this.actions=i,this.trigger=t,this.editorPosition=n,this.widgetPosition=r,this.type=1});s.Showing=o})(To||(To={}));var cs=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n._editor=i,n._onClick=n._register(new ca.b),n.onClick=n._onClick.event,n._state=To.Hidden,n._domNode=It.$("div.lightBulbWidget"),n._register(Es.b.ignoreTarget(n._domNode)),n._editor.addContentWidget(Object(nn.a)(n)),n._register(n._editor.onDidChangeModelContent(function(r){var l=n._editor.getModel();(n.state.type!==1||!l||n.state.editorPosition.lineNumber>=l.getLineCount())&&n.hide()})),n._register(It.addStandardDisposableGenericMouseDownListener(n._domNode,function(r){if(n.state.type===1){n._editor.focus(),r.preventDefault();var l=It.getDomNodePagePosition(n._domNode),c=l.top,h=l.height,f=n._editor.getOption(64),R=Math.floor(f/3);n.state.widgetPosition.position!==null&&n.state.widgetPosition.position.lineNumber<n.state.editorPosition.lineNumber&&(R+=f),n._onClick.fire({x:r.posx,y:c+h+R,actions:n.state.actions,trigger:n.state.trigger})}})),n._register(It.addDisposableListener(n._domNode,"mouseenter",function(r){(r.buttons&1)==1&&n.hide()})),n._register(n._editor.onDidChangeConfiguration(function(r){r.hasChanged(62)&&!n._editor.getOption(62).enabled&&n.hide()})),n._register(ca.c.runAndSubscribe(t.onDidUpdateKeybindings,function(){var r,l;n._preferredKbLabel=Object(ya.n)((r=t.lookupKeybinding(tt))===null||r===void 0?void 0:r.getLabel()),n._quickFixKbLabel=Object(ya.n)((l=t.lookupKeybinding(Rt))===null||l===void 0?void 0:l.getLabel()),n._updateLightBulbTitleAndIcon()})),n}return Object(P.a)(e,[{key:"dispose",value:function(){Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this),this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"LightBulbWidget"}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return this._state.type===1?this._state.widgetPosition:null}},{key:"update",value:function(t,n,r){var l=this;if(t.validActions.length<=0)return this.hide();var c=this._editor.getOptions();if(!c.get(62).enabled)return this.hide();var h=this._editor.getModel();if(!h)return this.hide();var f=h.validatePosition(r),R=f.lineNumber,X=f.column,oe=h.getOptions().tabSize,je=c.get(48),Me=h.getLineContent(R),st=Object(Wa.a)(Me,oe),gt=je.spaceWidth*st>22,jt=function(qn){return qn>2&&l._editor.getTopForLineNumber(qn)===l._editor.getTopForLineNumber(qn-1)},Xt=R;if(!gt){if(R>1&&!jt(R-1))Xt-=1;else if(!jt(R+1))Xt+=1;else if(X*je.spaceWidth<22)return this.hide()}this.state=new To.Showing(t,n,r,{position:{lineNumber:Xt,column:1},preference:e._posPref}),this._editor.layoutContentWidget(this)}},{key:"hide",value:function(){this.state!==To.Hidden&&(this.state=To.Hidden,this._editor.layoutContentWidget(this))}},{key:"state",get:function(){return this._state},set:function(t){this._state=t,this._updateLightBulbTitleAndIcon()}},{key:"_updateLightBulbTitleAndIcon",value:function(){var t,n;if(this.state.type===1&&this.state.actions.hasAutoFix){var r,l;if((r=this._domNode.classList).remove.apply(r,Object(on.a)(Fa.a.asClassNameArray(Tr.a.lightBulb))),(l=this._domNode.classList).add.apply(l,Object(on.a)(Fa.a.asClassNameArray(Tr.a.lightbulbAutofix))),this._preferredKbLabel){this.title=We.b("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel);return}}(t=this._domNode.classList).remove.apply(t,Object(on.a)(Fa.a.asClassNameArray(Tr.a.lightbulbAutofix))),(n=this._domNode.classList).add.apply(n,Object(on.a)(Fa.a.asClassNameArray(Tr.a.lightBulb))),this._quickFixKbLabel?this.title=We.b("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):this.title=We.b("codeAction","Show Code Actions")}},{key:"title",set:function(t){this._domNode.title=t}}]),e}(Ye.a);cs.ID="editor.contrib.lightbulbWidget",cs._posPref=[0],cs=Co([es(1,Mi.a)],cs);var Gs=a("6nEQ"),Vs=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Hs=function(s,o){return function(e,i){o(e,i,s)}},ps=function(){function s(o,e){Object(A.a)(this,s),this._messageWidget=new Ye.e,this._messageListeners=new Ye.c,this._editor=o,this._visible=s.MESSAGE_VISIBLE.bindTo(e)}return Object(P.a)(s,[{key:"dispose",value:function(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}},{key:"showMessage",value:function(e,i){var t=this;Object(Rn.a)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Rs(this._editor,i,e),this._messageListeners.add(this._editor.onDidBlurEditorText(function(){return t.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(function(){return t.closeMessage()})),this._messageListeners.add(this._editor.onDidDispose(function(){return t.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeModel(function(){return t.closeMessage()})),this._messageListeners.add(new mt.i(function(){return t.closeMessage()},3e3));var n;this._messageListeners.add(this._editor.onMouseMove(function(r){!r.target.position||(n?n.containsPosition(r.target.position)||t.closeMessage():n=new Ze.a(i.lineNumber-3,1,r.target.position.lineNumber+3,1))}))}},{key:"closeMessage",value:function(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Rs.fadeOut(this._messageWidget.value))}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();ps.ID="editor.contrib.messageController",ps.MESSAGE_VISIBLE=new Tn.c("messageVisible",!1,We.b("messageVisible","Whether the editor is currently showing an inline message")),ps=Vs([Hs(1,Tn.b)],ps);var fc=wt.d.bindToContribution(ps.get);Object(wt.l)(new fc({id:"leaveEditorMessage",precondition:ps.MESSAGE_VISIBLE,handler:function(o){return o.closeMessage()},kbOpts:{weight:100+30,primary:9}}));var Rs=function(){function s(o,e,i){var t=e.lineNumber,n=e.column;Object(A.a)(this,s),this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=o,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:n},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";var r=document.createElement("div");r.classList.add("anchor","top"),this._domNode.appendChild(r);var l=document.createElement("div");l.classList.add("message"),l.textContent=i,this._domNode.appendChild(l);var c=document.createElement("div");c.classList.add("anchor","below"),this._domNode.appendChild(c),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return Object(P.a)(s,[{key:"dispose",value:function(){this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"messageoverlay"}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{position:this._position,preference:[1,2],positionAffinity:1}}},{key:"afterRender",value:function(e){this._domNode.classList.toggle("below",e===2)}}],[{key:"fadeOut",value:function(e){var i=function n(){e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",n)},t=setTimeout(i,110);return e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}}}]),s}();Object(wt.m)(ps.ID,ps,4);var Us=a("WqXY"),Bc=a("wcGD"),qs=a("ZKkB"),Eu=a("jaoW"),Ku=a("cqdO"),Ns=a("Uzvx"),Gl=a("99AM"),Gu=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Tl=function(s,o){return function(e,i){o(e,i,s)}},$u="acceptSelectedCodeAction",Qu="previewSelectedCodeAction",vu=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"templateId",get:function(){return"header"}},{key:"renderTemplate",value:function(e){e.classList.add("group-header");var i=document.createElement("span");return e.append(i),{container:e,text:i}}},{key:"renderElement",value:function(e,i,t){var n,r;t.text.textContent=(r=(n=e.group)===null||n===void 0?void 0:n.title)!==null&&r!==void 0?r:""}},{key:"disposeTemplate",value:function(e){}}]),s}(),Yu=function(){function s(o,e){Object(A.a)(this,s),this._supportsPreview=o,this._keybindingService=e}return Object(P.a)(s,[{key:"templateId",get:function(){return"action"}},{key:"renderTemplate",value:function(e){e.classList.add(this.templateId);var i=document.createElement("div");i.className="icon",e.append(i);var t=document.createElement("span");t.className="title",e.append(t);var n=new Eu.a(e,Mt.a);return{container:e,icon:i,text:t,keybinding:n}}},{key:"renderElement",value:function(e,i,t){var n,r,l;if(((n=e.group)===null||n===void 0?void 0:n.icon)?(t.icon.className=Fa.a.asClassName(e.group.icon),e.group.icon.color&&(t.icon.style.color=Object(lt.c)(e.group.icon.color.id))):(t.icon.className=Fa.a.asClassName(Tr.a.lightBulb),t.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!(!e.item||!e.label)){t.text.textContent=ds(e.label),t.keybinding.set(e.keybinding),It.setVisibility(!!e.keybinding,t.keybinding.element);var c=(r=this._keybindingService.lookupKeybinding($u))===null||r===void 0?void 0:r.getLabel(),h=(l=this._keybindingService.lookupKeybinding(Qu))===null||l===void 0?void 0:l.getLabel();t.container.classList.toggle("option-disabled",e.disabled),e.disabled?t.container.title=e.label:c&&h?this._supportsPreview?t.container.title=Object(We.b)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",c,h):t.container.title=Object(We.b)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",c):t.container.title=""}}},{key:"disposeTemplate",value:function(e){}}]),s}();Yu=Gu([Tl(1,Mi.a)],Yu);var Wc=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,"acceptSelectedAction")}return Object(P.a)(e)}(Object(qs.a)(UIEvent)),Zu=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,"previewSelectedAction")}return Object(P.a)(e)}(Object(qs.a)(UIEvent)),Xu=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c){var h;Object(A.a)(this,e),h=o.call(this),h._delegate=r,h._contextViewService=l,h._keybindingService=c,h._actionLineHeight=24,h._headerLineHeight=26,h.domNode=document.createElement("div"),h.domNode.classList.add("actionList");var f={getHeight:function(X){return X.kind==="header"?h._headerLineHeight:h._actionLineHeight},getTemplateId:function(X){return X.kind}};return h._list=h._register(new Ku.b(i,h.domNode,f,[new Yu(t,h._keybindingService),new vu],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:function(X){if(X.kind==="action"){var oe=X.label?ds(X==null?void 0:X.label):"";return X.disabled&&(oe=Object(We.b)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",oe,X.disabled)),oe}return null},getWidgetAriaLabel:function(){return Object(We.b)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget")},getRole:function(X){return X.kind==="action"?"option":"separator"},getWidgetRole:function(){return"listbox"}}})),h._list.style(Gl.f),h._register(h._list.onMouseClick(function(R){return h.onListClick(R)})),h._register(h._list.onMouseOver(function(R){return h.onListHover(R)})),h._register(h._list.onDidChangeFocus(function(){return h._list.domFocus()})),h._register(h._list.onDidChangeSelection(function(R){return h.onListSelection(R)})),h._allMenuItems=n,h._list.splice(0,h._list.length,h._allMenuItems),h._list.length&&h.focusNext(),h}return Object(P.a)(e,[{key:"focusCondition",value:function(t){return!t.disabled&&t.kind==="action"}},{key:"hide",value:function(t){this._delegate.onHide(t),this._contextViewService.hideContextView()}},{key:"layout",value:function(t){var n=this,r=this._allMenuItems.filter(function(oe){return oe.kind==="header"}).length,l=this._allMenuItems.length*this._actionLineHeight,c=l+r*this._headerLineHeight-r*this._actionLineHeight;this._list.layout(c);var h=this._allMenuItems.map(function(oe,je){var Me=document.getElementById(n._list.getElementID(je));if(Me){Me.style.width="auto";var st=Me.getBoundingClientRect().width;return Me.style.width="",st}return 0}),f=Math.max.apply(Math,Object(on.a)(h).concat([t])),R=.7,X=Math.min(c,document.body.clientHeight*R);return this._list.layout(X,f),this.domNode.style.height="".concat(X,"px"),this._list.domFocus(),f}},{key:"focusPrevious",value:function(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}},{key:"focusNext",value:function(){this._list.focusNext(1,!0,void 0,this.focusCondition)}},{key:"acceptSelected",value:function(t){var n=this._list.getFocus();if(n.length!==0){var r=n[0],l=this._list.element(r);if(!!this.focusCondition(l)){var c=t?new Zu:new Wc;this._list.setSelection([r],c)}}}},{key:"onListSelection",value:function(t){if(!!t.elements.length){var n=t.elements[0];n.item&&this.focusCondition(n)?this._delegate.onSelect(n.item,t.browserEvent instanceof Zu):this._list.setSelection([])}}},{key:"onListHover",value:function(t){this._list.setFocus(typeof t.index=="number"?[t.index]:[])}},{key:"onListClick",value:function(t){t.element&&this.focusCondition(t.element)&&this._list.setFocus([])}}]),e}(Ye.a);Xu=Gu([Tl(4,Ns.b),Tl(5,Mi.a)],Xu);function ds(s){return s.replace(/\r\n|\r|\n/g," ")}var Cs=a("9fML"),ia=a("Cg/j"),vc=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Lu=function(s,o){return function(e,i){o(e,i,s)}},$l={Visible:new Tn.c("codeActionMenuVisible",!1,Object(We.b)("codeActionMenuVisible","Whether the action widget list is visible"))},gl=Object(ia.c)("actionWidgetService"),gu=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r._contextViewService=i,r._contextKeyService=t,r._instantiationService=n,r._list=r._register(new Ye.e),r}return Object(P.a)(e,[{key:"isVisible",get:function(){return $l.Visible.getValue(this._contextKeyService)||!1}},{key:"show",value:function(t,n,r,l,c,h,f){var R=this,X=$l.Visible.bindTo(this._contextKeyService),oe=this._instantiationService.createInstance(Xu,t,n,r,l);this._contextViewService.showContextView({getAnchor:function(){return c},render:function(Me){return X.set(!0),R._renderWidget(Me,oe,f!=null?f:[])},onHide:function(Me){X.reset(),R._onWidgetClosed(Me)}},h,!1)}},{key:"acceptSelected",value:function(t){var n;(n=this._list.value)===null||n===void 0||n.acceptSelected(t)}},{key:"focusPrevious",value:function(){var t,n;(n=(t=this._list)===null||t===void 0?void 0:t.value)===null||n===void 0||n.focusPrevious()}},{key:"focusNext",value:function(){var t,n;(n=(t=this._list)===null||t===void 0?void 0:t.value)===null||n===void 0||n.focusNext()}},{key:"hide",value:function(){var t;(t=this._list.value)===null||t===void 0||t.hide(),this._list.clear()}},{key:"_renderWidget",value:function(t,n,r){var l=this,c,h=document.createElement("div");if(h.classList.add("action-widget"),t.appendChild(h),this._list.value=n,this._list.value)h.appendChild(this._list.value.domNode);else throw new Error("List has no value");var f=new Ye.c,R=document.createElement("div"),X=t.appendChild(R);X.classList.add("context-view-block"),f.add(It.addDisposableListener(X,It.EventType.MOUSE_DOWN,function(Xt){return Xt.stopPropagation()}));var oe=document.createElement("div"),je=t.appendChild(oe);je.classList.add("context-view-pointerBlock"),f.add(It.addDisposableListener(je,It.EventType.POINTER_MOVE,function(){return je.remove()})),f.add(It.addDisposableListener(je,It.EventType.MOUSE_DOWN,function(){return je.remove()}));var Me=0;if(r.length){var st=this._createActionBar(".action-widget-action-bar",r);st&&(h.appendChild(st.getContainer().parentElement),f.add(st),Me=st.getContainer().offsetWidth)}var gt=(c=this._list.value)===null||c===void 0?void 0:c.layout(Me);h.style.width="".concat(gt,"px");var jt=f.add(It.trackFocus(t));return f.add(jt.onDidBlur(function(){return l.hide()})),f}},{key:"_createActionBar",value:function(t,n){if(!!n.length){var r=It.$(t),l=new Us.a(r);return l.push(n,{icon:!1,label:!0}),l}}},{key:"_onWidgetClosed",value:function(t){var n;(n=this._list.value)===null||n===void 0||n.hide(t)}}]),e}(Ye.a);gu=vc([Lu(0,Ns.b),Lu(1,Tn.b),Lu(2,ia.a)],gu),Object(Cs.b)(gl,gu,1);var Ju=100+1e3;Object(Ht.i)(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"hideCodeActionWidget",title:{value:Object(We.b)("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:$l.Visible,keybinding:{weight:Ju,primary:9,secondary:[1024|9]}})}return Object(P.a)(e,[{key:"run",value:function(t){t.get(gl).hide()}}]),e}(Ht.a)),Object(Ht.i)(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"selectPrevCodeAction",title:{value:Object(We.b)("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:$l.Visible,keybinding:{weight:Ju,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})}return Object(P.a)(e,[{key:"run",value:function(t){var n=t.get(gl);n instanceof gu&&n.focusPrevious()}}]),e}(Ht.a)),Object(Ht.i)(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"selectNextCodeAction",title:{value:Object(We.b)("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:$l.Visible,keybinding:{weight:Ju,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})}return Object(P.a)(e,[{key:"run",value:function(t){var n=t.get(gl);n instanceof gu&&n.focusNext()}}]),e}(Ht.a)),Object(Ht.i)(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:$u,title:{value:Object(We.b)("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:$l.Visible,keybinding:{weight:Ju,primary:3,secondary:[2048|89]}})}return Object(P.a)(e,[{key:"run",value:function(t){var n=t.get(gl);n instanceof gu&&n.acceptSelected()}}]),e}(Ht.a)),Object(Ht.i)(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:Qu,title:{value:Object(We.b)("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:$l.Visible,keybinding:{weight:Ju,primary:2048|3}})}return Object(P.a)(e,[{key:"run",value:function(t){var n=t.get(gl);n instanceof gu&&n.acceptSelected(!0)}}]),e}(Ht.a));var Do=a("+7oY"),Zo=a("tADe"),mo=a("gslv"),gc=function(s,o,e,i){if(e==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?s!==o||!i:!o.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?i:e==="a"?i.call(s):i?i.value:o.get(s)},qu=function(s,o,e,i,t){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!t)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?s!==o||!t:!o.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?t.call(s,e):t?t.value=e:o.set(s,e),e},Ls,Vc=new Tn.c("supportedCodeAction",""),Ql=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:250;return Object(A.a)(this,e),r=o.call(this),r._editor=i,r._markerService=t,r._signalChange=n,r._delay=l,r._autoTriggerTimer=r._register(new mt.i),r._register(r._markerService.onMarkerChanged(function(c){return r._onMarkerChanges(c)})),r._register(r._editor.onDidChangeCursorPosition(function(){return r._tryAutoTrigger()})),r}return Object(P.a)(e,[{key:"trigger",value:function(t){var n=this._getRangeOfSelectionUnlessWhitespaceEnclosed(t);this._signalChange(n?{trigger:t,selection:n}:void 0)}},{key:"_onMarkerChanges",value:function(t){var n=this._editor.getModel();n&&t.some(function(r){return Object(mo.g)(r,n.uri)})&&this._tryAutoTrigger()}},{key:"_tryAutoTrigger",value:function(){var t=this;this._autoTriggerTimer.cancelAndSet(function(){t.trigger({type:2,triggerAction:Xa.Default})},this._delay)}},{key:"_getRangeOfSelectionUnlessWhitespaceEnclosed",value:function(t){if(!!this._editor.hasModel()){var n=this._editor.getModel(),r=this._editor.getSelection();if(r.isEmpty()&&t.type===2){var l=r.getPosition(),c=l.lineNumber,h=l.column,f=n.getLineContent(c);if(f.length===0)return;if(h===1){if(/\s/.test(f[0]))return}else if(h===n.getLineMaxColumn(c)){if(/\s/.test(f[f.length-1]))return}else if(/\s/.test(f[h-2])&&/\s/.test(f[h-1]))return}return r}}}]),e}(Ye.a),ml;(function(s){s.Empty={type:0};var o=function(){function e(i,t,n){Object(A.a)(this,e),this.trigger=i,this.position=t,this._cancellablePromise=n,this.type=1,this.actions=n.catch(function(r){if(Object(Li.g)(r))return Hc;throw r})}return Object(P.a)(e,[{key:"cancel",value:function(){this._cancellablePromise.cancel()}}]),e}();s.Triggered=o})(ml||(ml={}));var Hc=Object.freeze({allActions:[],validActions:[],dispose:function(){},documentation:[],hasAutoFix:!1}),Il=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l){var c;return Object(A.a)(this,e),c=o.call(this),c._editor=i,c._registry=t,c._markerService=n,c._progressService=l,c._codeActionOracle=c._register(new Ye.e),c._state=ml.Empty,c._onDidChangeState=c._register(new ca.b),c.onDidChangeState=c._onDidChangeState.event,Ls.set(Object(nn.a)(c),!1),c._supportedCodeActions=Vc.bindTo(r),c._register(c._editor.onDidChangeModel(function(){return c._update()})),c._register(c._editor.onDidChangeModelLanguage(function(){return c._update()})),c._register(c._registry.onDidChange(function(){return c._update()})),c._update(),c}return Object(P.a)(e,[{key:"dispose",value:function(){gc(this,Ls,"f")||(qu(this,Ls,!0,"f"),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this),this.setState(ml.Empty,!0))}},{key:"_update",value:function(){var t=this;if(!gc(this,Ls,"f")){this._codeActionOracle.value=void 0,this.setState(ml.Empty);var n=this._editor.getModel();if(n&&this._registry.has(n)&&!this._editor.getOption(88)){var r=this._registry.all(n).flatMap(function(l){var c;return(c=l.providedCodeActionKinds)!==null&&c!==void 0?c:[]});this._supportedCodeActions.set(r.join(" ")),this._codeActionOracle.value=new Ql(this._editor,this._markerService,function(l){var c;if(!l){t.setState(ml.Empty);return}var h=Object(mt.k)(function(f){return xe(t._registry,n,l.selection,l.trigger,Ua.c.None,f)});l.trigger.type===1&&((c=t._progressService)===null||c===void 0||c.showWhile(h,250)),t.setState(new ml.Triggered(l.trigger,l.selection.getStartPosition(),h))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:Xa.Default})}else this._supportedCodeActions.reset()}}},{key:"trigger",value:function(t){var n;(n=this._codeActionOracle.value)===null||n===void 0||n.trigger(t)}},{key:"setState",value:function(t,n){t!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=t,!n&&!gc(this,Ls,"f")&&this._onDidChangeState.fire(t))}}]),e}(Ye.a);Ls=new WeakMap;var th=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},$s=function(s,o){return function(e,i){o(e,i,s)}},al=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Mu=function(s,o,e,i,t){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!t)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?s!==o||!t:!o.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?t.call(s,e):t?t.value=e:o.set(s,e),e},mc=function(s,o,e,i){if(e==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?s!==o||!i:!o.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?i:e==="a"?i.call(s):i?i.value:o.get(s)},Os,Pl=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h,f,R,X){var oe;return Object(A.a)(this,e),oe=o.call(this),oe._commandService=h,oe._configurationService=f,oe._actionWidgetService=R,oe._instantiationService=X,oe._activeCodeActions=oe._register(new Ye.e),oe._showDisabled=!1,Os.set(Object(nn.a)(oe),!1),oe._editor=i,oe._model=oe._register(new Il(oe._editor,l.codeActionProvider,t,n,c)),oe._register(oe._model.onDidChangeState(function(je){return oe.update(je)})),oe._lightBulbWidget=new er.a(function(){var je=oe._editor.getContribution(cs.ID);return je&&oe._register(je.onClick(function(Me){return oe.showCodeActionList(Me.actions,Me,{includeDisabledActions:!1,fromLightbulb:!0})})),je}),oe._resolver=r.createInstance(xi),oe._register(oe._editor.onDidLayoutChange(function(){return oe._actionWidgetService.hide()})),oe}return Object(P.a)(e,[{key:"dispose",value:function(){Mu(this,Os,!0,"f"),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"showCodeActions",value:function(t,n,r){return this.showCodeActionList(n,r,{includeDisabledActions:!1,fromLightbulb:!1})}},{key:"manualTriggerAtCurrentPosition",value:function(t,n,r,l){var c;if(!!this._editor.hasModel()){(c=ps.get(this._editor))===null||c===void 0||c.closeMessage();var h=this._editor.getPosition();this._trigger({type:1,triggerAction:n,filter:r,autoApply:l,context:{notAvailableMessage:t,position:h}})}}},{key:"_trigger",value:function(t){return this._model.trigger(t)}},{key:"_applyCodeAction",value:function(t,n,r){return al(this,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,this._instantiationService.invokeFunction(un,t,xt.FromCodeActions,{preview:r,editor:this._editor});case 3:return h.prev=3,n&&this._trigger({type:2,triggerAction:Xa.QuickFix,filter:{}}),h.finish(3);case 6:case"end":return h.stop()}},l,this,[[0,,3,6]])}))}},{key:"update",value:function(t){var n,r,l,c,h,f,R;return al(this,void 0,void 0,Object(d.a)().mark(function X(){var oe,je,Me,st;return Object(d.a)().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:if(t.type===1){jt.next=3;break}return(n=this._lightBulbWidget.rawValue)===null||n===void 0||n.hide(),jt.abrupt("return");case 3:return jt.prev=3,jt.next=6,t.actions;case 6:oe=jt.sent,jt.next=13;break;case 9:return jt.prev=9,jt.t0=jt.catch(3),Object(Li.h)(jt.t0),jt.abrupt("return");case 13:if(!mc(this,Os,"f")){jt.next=15;break}return jt.abrupt("return");case 15:if((r=this._lightBulbWidget.value)===null||r===void 0||r.update(oe,t.trigger,t.position),t.trigger.type!==1){jt.next=45;break}if(!((l=t.trigger.filter)===null||l===void 0?void 0:l.include)){jt.next=34;break}if(je=this.tryGetValidActionToApply(t.trigger,oe),!je){jt.next=28;break}return jt.prev=20,(c=this._lightBulbWidget.value)===null||c===void 0||c.hide(),jt.next=24,this._applyCodeAction(je,!1,!1);case 24:return jt.prev=24,oe.dispose(),jt.finish(24);case 27:return jt.abrupt("return");case 28:if(!t.trigger.context){jt.next=34;break}if(Me=this.getInvalidActionThatWouldHaveBeenApplied(t.trigger,oe),!(Me&&Me.action.disabled)){jt.next=34;break}return(h=ps.get(this._editor))===null||h===void 0||h.showMessage(Me.action.disabled,t.trigger.context.position),oe.dispose(),jt.abrupt("return");case 34:if(st=!!((f=t.trigger.filter)===null||f===void 0?void 0:f.include),!t.trigger.context){jt.next=41;break}if(!(!oe.allActions.length||!st&&!oe.validActions.length)){jt.next=41;break}return(R=ps.get(this._editor))===null||R===void 0||R.showMessage(t.trigger.context.notAvailableMessage,t.trigger.context.position),this._activeCodeActions.value=oe,oe.dispose(),jt.abrupt("return");case 41:this._activeCodeActions.value=oe,this.showCodeActionList(oe,this.toCoords(t.position),{includeDisabledActions:st,fromLightbulb:!1}),jt.next=46;break;case 45:this._actionWidgetService.isVisible?oe.dispose():this._activeCodeActions.value=oe;case 46:case"end":return jt.stop()}},X,this,[[3,9],[20,,24,27]])}))}},{key:"getInvalidActionThatWouldHaveBeenApplied",value:function(t,n){if(!!n.allActions.length&&(t.autoApply==="first"&&n.validActions.length===0||t.autoApply==="ifSingle"&&n.allActions.length===1))return n.allActions.find(function(r){var l=r.action;return l.disabled})}},{key:"tryGetValidActionToApply",value:function(t,n){if(!!n.validActions.length&&(t.autoApply==="first"&&n.validActions.length>0||t.autoApply==="ifSingle"&&n.validActions.length===1))return n.validActions[0]}},{key:"showCodeActionList",value:function(t,n,r){return al(this,void 0,void 0,Object(d.a)().mark(function l(){var c=this,h,f,R,X;return Object(d.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(h=this._editor.getDomNode(),h){je.next=3;break}return je.abrupt("return");case 3:if(f=r.includeDisabledActions&&(this._showDisabled||t.validActions.length===0)?t.allActions:t.validActions,f.length){je.next=6;break}return je.abrupt("return");case 6:R=nt.a.isIPosition(n)?this.toCoords(n):n,X={onSelect:function(st,gt){return al(c,void 0,void 0,Object(d.a)().mark(function jt(){return Object(d.a)().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:this._applyCodeAction(st,!0,!!gt),this._actionWidgetService.hide();case 2:case"end":return sn.stop()}},jt,this)}))},onHide:function(){var st;(st=c._editor)===null||st===void 0||st.focus()}},this._actionWidgetService.show("codeActionWidget",!0,_s(f,this._shouldShowHeaders(),this._resolver.getResolver()),X,R,h,this._getActionBarActions(t,n,r));case 9:case"end":return je.stop()}},l,this)}))}},{key:"toCoords",value:function(t){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(t,1),this._editor.render();var n=this._editor.getScrolledVisiblePosition(t),r=Object(It.getDomNodePagePosition)(this._editor.getDomNode()),l=r.left+n.left,c=r.top+n.top+n.height;return{x:l,y:c}}},{key:"_shouldShowHeaders",value:function(){var t,n=(t=this._editor)===null||t===void 0?void 0:t.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:n==null?void 0:n.uri})}},{key:"_getActionBarActions",value:function(t,n,r){var l=this;if(r.fromLightbulb)return[];var c=t.documentation.map(function(h){var f;return{id:h.id,label:h.title,tooltip:(f=h.tooltip)!==null&&f!==void 0?f:"",class:void 0,enabled:!0,run:function(){var X,oe;return(X=l._commandService).executeCommand.apply(X,[h.id].concat(Object(on.a)((oe=h.arguments)!==null&&oe!==void 0?oe:[])))}}});return r.includeDisabledActions&&t.validActions.length>0&&t.allActions.length!==t.validActions.length&&c.push(this._showDisabled?{id:"hideMoreActions",label:Object(We.b)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:function(){return l._showDisabled=!1,l.showCodeActionList(t,n,r)}}:{id:"showMoreActions",label:Object(We.b)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:function(){return l._showDisabled=!0,l.showCodeActionList(t,n,r)}}),c}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);Os=new WeakMap,Pl.ID="editor.contrib.codeActionController",Pl=th([$s(1,Zo.b),$s(2,Tn.b),$s(3,ia.a),$s(4,$i.a),$s(5,Ua.a),$s(6,$r.b),$s(7,Do.a),$s(8,gl),$s(9,ia.a)],Pl);function Tu(s){return Tn.a.regex(Vc.keys()[0],new RegExp("(\\s|^)"+Object(vr.t)(s.value)+"\\b"))}var Iu={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:We.b("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:We.b("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[We.b("args.schema.apply.first","Always apply the first returned code action."),We.b("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),We.b("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:We.b("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function Al(s,o,e,i){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Xa.Default;if(s.hasModel()){var n=Pl.get(s);n==null||n.manualTriggerAtCurrentPosition(o,t,e,i)}}var Uc=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:Rt,label:We.b("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Tn.a.and(Ut.a.writable,Ut.a.hasCodeActionsProvider),kbOpts:{kbExpr:Ut.a.textInputFocus,primary:2048|89,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){return Al(n,We.b("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,Xa.QuickFix)}}]),e}(wt.b),Xh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:$o,precondition:Tn.a.and(Ut.a.writable,Ut.a.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Iu}]}})}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n,r){var l=_a.fromUser(r,{kind:Zr.Empty,apply:"ifSingle"});return Al(n,typeof(r==null?void 0:r.kind)=="string"?l.preferred?We.b("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",r.kind):We.b("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",r.kind):l.preferred?We.b("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):We.b("editor.action.codeAction.noneMessage","No code actions available"),{include:l.kind,includeSourceActions:!0,onlyIncludePreferredActions:l.preferred},l.apply)}}]),e}(wt.d),pd=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:_e,label:We.b("refactor.label","Refactor..."),alias:"Refactor...",precondition:Tn.a.and(Ut.a.writable,Ut.a.hasCodeActionsProvider),kbOpts:{kbExpr:Ut.a.textInputFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Tn.a.and(Ut.a.writable,Tu(Zr.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Iu}]}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){var l=_a.fromUser(r,{kind:Zr.Refactor,apply:"never"});return Al(n,typeof(r==null?void 0:r.kind)=="string"?l.preferred?We.b("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",r.kind):We.b("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",r.kind):l.preferred?We.b("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):We.b("editor.action.refactor.noneMessage","No refactorings available"),{include:Zr.Refactor.contains(l.kind)?l.kind:Zr.None,onlyIncludePreferredActions:l.preferred},l.apply,Xa.Refactor)}}]),e}(wt.b),pl=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:ee,label:We.b("source.label","Source Action..."),alias:"Source Action...",precondition:Tn.a.and(Ut.a.writable,Ut.a.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Tn.a.and(Ut.a.writable,Tu(Zr.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Iu}]}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){var l=_a.fromUser(r,{kind:Zr.Source,apply:"never"});return Al(n,typeof(r==null?void 0:r.kind)=="string"?l.preferred?We.b("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",r.kind):We.b("editor.action.source.noneMessage.kind","No source actions for '{0}' available",r.kind):l.preferred?We.b("editor.action.source.noneMessage.preferred","No preferred source actions available"):We.b("editor.action.source.noneMessage","No source actions available"),{include:Zr.Source.contains(l.kind)?l.kind:Zr.None,includeSourceActions:!0,onlyIncludePreferredActions:l.preferred},l.apply,Xa.SourceAction)}}]),e}(wt.b),zc=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:j,label:We.b("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Tn.a.and(Ut.a.writable,Tu(Zr.SourceOrganizeImports)),kbOpts:{kbExpr:Ut.a.textInputFocus,primary:1024|512|45,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){return Al(n,We.b("editor.action.organize.noneMessage","No organize imports action available"),{include:Zr.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",Xa.OrganizeImports)}}]),e}(wt.b),Yl=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:k,label:We.b("fixAll.label","Fix All"),alias:"Fix All",precondition:Tn.a.and(Ut.a.writable,Tu(Zr.SourceFixAll))})}return Object(P.a)(e,[{key:"run",value:function(t,n){return Al(n,We.b("fixAll.noneMessage","No fix all action available"),{include:Zr.SourceFixAll,includeSourceActions:!0},"ifSingle",Xa.FixAll)}}]),e}(wt.b),Ri=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:tt,label:We.b("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Tn.a.and(Ut.a.writable,Tu(Zr.QuickFix)),kbOpts:{kbExpr:Ut.a.textInputFocus,primary:512|1024|89,mac:{primary:2048|512|89},weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){return Al(n,We.b("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Zr.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",Xa.AutoFix)}}]),e}(wt.b),bd=a("CRAX"),Qs=a("ic2d");Object(wt.m)(Pl.ID,Pl,3),Object(wt.m)(cs.ID,cs,4),Object(wt.k)(Uc),Object(wt.k)(pd),Object(wt.k)(pl),Object(wt.k)(zc),Object(wt.k)(Ri),Object(wt.k)(Yl),Object(wt.l)(new Xh),Qs.a.as(bd.a.Configuration).registerConfiguration(Object.assign(Object.assign({},Er.a),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:We.b("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}));var pc=a("OQeR"),hs=a("/UlZ"),Zl=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},ol=function(){function s(){Object(A.a)(this,s),this.lenses=[],this._disposables=new Ye.c}return Object(P.a)(s,[{key:"dispose",value:function(){this._disposables.dispose()}},{key:"isDisposed",get:function(){return this._disposables.isDisposed}},{key:"add",value:function(e,i){this._disposables.add(e);var t=Object(G.a)(e.lenses),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;this.lenses.push({symbol:r,provider:i})}}catch(l){t.e(l)}finally{t.f()}}}]),s}();function Kc(s,o,e){return Zl(this,void 0,void 0,Object(d.a)().mark(function i(){var t=this,n,r,l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=s.ordered(o),r=new Map,l=new ol,c=n.map(function(R,X){return Zl(t,void 0,void 0,Object(d.a)().mark(function oe(){var je;return Object(d.a)().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return r.set(R,X),st.prev=1,st.next=4,Promise.resolve(R.provideCodeLenses(o,e));case 4:je=st.sent,je&&l.add(je,R),st.next=11;break;case 8:st.prev=8,st.t0=st.catch(1),Object(Li.i)(st.t0);case 11:case"end":return st.stop()}},oe,null,[[1,8]])}))}),f.next=6,Promise.all(c);case 6:return l.lenses=l.lenses.sort(function(R,X){return R.symbol.range.startLineNumber<X.symbol.range.startLineNumber?-1:R.symbol.range.startLineNumber>X.symbol.range.startLineNumber?1:r.get(R.provider)<r.get(X.provider)?-1:r.get(R.provider)>r.get(X.provider)?1:R.symbol.range.startColumn<X.symbol.range.startColumn?-1:R.symbol.range.startColumn>X.symbol.range.startColumn?1:0}),f.abrupt("return",l);case 8:case"end":return f.stop()}},i)}))}$r.a.registerCommand("_executeCodeLensProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];var t=e[0],n=e[1];Object(ya.b)(_r.a.isUri(t)),Object(ya.b)(typeof n=="number"||!n);var r=s.get($i.a),l=r.codeLensProvider,c=s.get(Jr.a).getModel(t);if(!c)throw Object(Li.e)();var h=[],f=new Ye.c;return Kc(l,c,Zn.a.None).then(function(R){f.add(R);var X=[],oe=Object(G.a)(R.lenses),je;try{var Me=function(){var gt=je.value;n==null||Boolean(gt.symbol.command)?h.push(gt.symbol):n-- >0&&gt.provider.resolveCodeLens&&X.push(Promise.resolve(gt.provider.resolveCodeLens(c,gt.symbol,Zn.a.None)).then(function(jt){return h.push(jt||gt.symbol)}))};for(oe.s();!(je=oe.n()).done;)Me()}catch(st){oe.e(st)}finally{oe.f()}return Promise.all(X)}).then(function(){return h}).finally(function(){setTimeout(function(){return f.dispose()},100)})});var yd=a("C/vA"),Xl=a("QDVR"),el=a("A+jI"),Jh=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},qh=function(s,o){return function(e,i){o(e,i,s)}},Pu=Object(ia.c)("ICodeLensCache"),_d=Object(P.a)(function s(o,e){Object(A.a)(this,s),this.lineCount=o,this.data=e}),bc=function(){function s(o){var e=this;Object(A.a)(this,s),this._fakeProvider=new(function(){function r(){Object(A.a)(this,r)}return Object(P.a)(r,[{key:"provideCodeLenses",value:function(){throw new Error("not supported")}}]),r}()),this._cache=new Xl.a(20,.75);var i="codelens/cache";Object(mt.p)(function(){return o.remove(i,1)});var t="codelens/cache2",n=o.get(t,1,"{}");this._deserialize(n),Object(yd.a)(o.onWillSaveState)(function(r){r.reason===el.c.SHUTDOWN&&o.store(t,e._serialize(),1,1)})}return Object(P.a)(s,[{key:"put",value:function(e,i){var t=i.lenses.map(function(l){var c;return{range:l.symbol.range,command:l.symbol.command&&{id:"",title:(c=l.symbol.command)===null||c===void 0?void 0:c.title}}}),n=new ol;n.add({lenses:t,dispose:function(){}},this._fakeProvider);var r=new _d(e.getLineCount(),n);this._cache.set(e.uri.toString(),r)}},{key:"get",value:function(e){var i=this._cache.get(e.uri.toString());return i&&i.lineCount===e.getLineCount()?i.data:void 0}},{key:"delete",value:function(e){this._cache.delete(e.uri.toString())}},{key:"_serialize",value:function(){var e=Object.create(null),i=Object(G.a)(this._cache),t;try{for(i.s();!(t=i.n()).done;){var n=t.value,r=Object(O.a)(n,2),l=r[0],c=r[1],h=new Set,f=Object(G.a)(c.data.lenses),R;try{for(f.s();!(R=f.n()).done;){var X=R.value;h.add(X.symbol.range.startLineNumber)}}catch(oe){f.e(oe)}finally{f.f()}e[l]={lineCount:c.lineCount,lines:Object(on.a)(h.values())}}}catch(oe){i.e(oe)}finally{i.f()}return JSON.stringify(e)}},{key:"_deserialize",value:function(e){try{var i=JSON.parse(e);for(var t in i){var n=i[t],r=[],l=Object(G.a)(n.lines),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;r.push({range:new Ze.a(h,1,h,11)})}}catch(R){l.e(R)}finally{l.f()}var f=new ol;f.add({lenses:r,dispose:function(){}},this._fakeProvider),this._cache.set(t,new _d(n.lineCount,f))}}catch(R){}}}]),s}();bc=Jh([qh(0,el.a)],bc),Object(Cs.b)(Pu,bc,1);var Cd=a("fdyd"),yc=a("rKjB"),bl=function(){function s(o,e,i){Object(A.a)(this,s),this.afterColumn=1073741824,this.afterLineNumber=o,this.heightInPx=e,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return Object(P.a)(s,[{key:"onComputedHeight",value:function(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}},{key:"isVisible",value:function(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}]),s}(),nh=function(){function s(o,e){Object(A.a)(this,s),this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=o,this._id="codelens.widget-".concat(s._idPool++),this.updatePosition(e),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}return Object(P.a)(s,[{key:"withCommands",value:function(e,i){this._commands.clear();for(var t=[],n=!1,r=0;r<e.length;r++){var l=e[r];if(!!l&&(n=!0,l.command)){var c=Object(Cd.a)(l.command.title.trim());l.command.id?(t.push(It.$.apply(It,["a",{id:String(r),title:l.command.tooltip,role:"button"}].concat(Object(on.a)(c)))),this._commands.set(String(r),l.command)):t.push(It.$.apply(It,["span",{title:l.command.tooltip}].concat(Object(on.a)(c)))),r+1<e.length&&t.push(It.$("span",void 0,"\xA0|\xA0"))}}n?(It.reset.apply(It,[this._domNode].concat(t)),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):It.reset(this._domNode,It.$("span",void 0,"no commands"))}},{key:"getCommand",value:function(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}},{key:"getId",value:function(){return this._id}},{key:"getDomNode",value:function(){return this._domNode}},{key:"updatePosition",value:function(e){var i=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:i},preference:[1]}}},{key:"getPosition",value:function(){return this._widgetPosition||null}}]),s}();nh._idPool=0;var Rl=function(){function s(){Object(A.a)(this,s),this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return Object(P.a)(s,[{key:"addDecoration",value:function(e,i){this._addDecorations.push(e),this._addDecorationsCallbacks.push(i)}},{key:"removeDecoration",value:function(e){this._removeDecorations.push(e)}},{key:"commit",value:function(e){for(var i=e.deltaDecorations(this._removeDecorations,this._addDecorations),t=0,n=i.length;t<n;t++)this._addDecorationsCallbacks[t](i[t])}}]),s}(),_c=hn.b.register({collapseOnReplaceEdit:!0,description:"codelens"}),Od=function(){function s(o,e,i,t,n,r){var l=this;Object(A.a)(this,s),this._isDisposed=!1,this._editor=e,this._data=o,this._decorationIds=[];var c,h=[];this._data.forEach(function(f,R){f.symbol.command&&h.push(f.symbol),i.addDecoration({range:f.symbol.range,options:_c},function(X){return l._decorationIds[R]=X}),c?c=Ze.a.plusRange(c,f.symbol.range):c=Ze.a.lift(f.symbol.range)}),this._viewZone=new bl(c.startLineNumber-1,n,r),this._viewZoneId=t.addZone(this._viewZone),h.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(h,!1))}return Object(P.a)(s,[{key:"_createContentWidgetIfNecessary",value:function(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new nh(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}},{key:"dispose",value:function(e,i){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],i==null||i.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}},{key:"isDisposed",value:function(){return this._isDisposed}},{key:"isValid",value:function(){var e=this;return this._decorationIds.some(function(i,t){var n=e._editor.getModel().getDecorationRange(i),r=e._data[t].symbol;return!!(n&&Ze.a.isEmpty(r.range)===n.isEmpty())})}},{key:"updateCodeLensSymbols",value:function(e,i){var t=this;this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=e,this._data.forEach(function(n,r){i.addDecoration({range:n.symbol.range,options:_c},function(l){return t._decorationIds[r]=l})})}},{key:"updateHeight",value:function(e,i){this._viewZone.heightInPx=e,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}},{key:"computeIfNecessary",value:function(e){if(!this._viewZone.isVisible())return null;for(var i=0;i<this._decorationIds.length;i++){var t=e.getDecorationRange(this._decorationIds[i]);t&&(this._data[i].symbol.range=t)}return this._data}},{key:"updateCommands",value:function(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(var i=0;i<this._data.length;i++){var t=e[i];if(t){var n=this._data[i].symbol;n.command=t.command||n.command}}}},{key:"getCommand",value:function(e){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(e)}},{key:"getLineNumber",value:function(){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}},{key:"update",value:function(e){if(this.isValid()){var i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}]),s}(),yl=a("Zr1c"),Ms=a("6XFq"),Sd=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Nl=function(s,o){return function(e,i){o(e,i,s)}},kd=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Ys=function(){function s(o,e,i,t,n,r){var l=this;Object(A.a)(this,s),this._editor=o,this._languageFeaturesService=e,this._commandService=t,this._notificationService=n,this._codeLensCache=r,this._disposables=new Ye.c,this._localToDispose=new Ye.c,this._lenses=[],this._oldCodeLensModels=new Ye.c,this._provideCodeLensDebounce=i.for(e.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(e.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new mt.g(function(){return l._resolveCodeLensesInViewport()},this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(function(){return l._onModelChange()})),this._disposables.add(this._editor.onDidChangeModelLanguage(function(){return l._onModelChange()})),this._disposables.add(this._editor.onDidChangeConfiguration(function(c){(c.hasChanged(48)||c.hasChanged(17)||c.hasChanged(16))&&l._updateLensStyle(),c.hasChanged(15)&&l._onModelChange()})),this._disposables.add(e.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}return Object(P.a)(s,[{key:"dispose",value:function(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose()}},{key:"_getLayoutInfo",value:function(){var e=Math.max(1.3,this._editor.getOption(64)/this._editor.getOption(50)),i=this._editor.getOption(17);return(!i||i<5)&&(i=this._editor.getOption(50)*.9|0),{fontSize:i,codeLensHeight:i*e|0}}},{key:"_updateLensStyle",value:function(){var e=this,i=this._getLayoutInfo(),t=i.codeLensHeight,n=i.fontSize,r=this._editor.getOption(16),l=this._editor.getOption(48),c=this._editor.getContainerDomNode(),h=c.style;h.setProperty("--vscode-editorCodeLens-lineHeight","".concat(t,"px")),h.setProperty("--vscode-editorCodeLens-fontSize","".concat(n,"px")),h.setProperty("--vscode-editorCodeLens-fontFeatureSettings",l.fontFeatureSettings),r&&(h.setProperty("--vscode-editorCodeLens-fontFamily",r),h.setProperty("--vscode-editorCodeLens-fontFamilyDefault",hs.d.fontFamily)),this._editor.changeViewZones(function(f){var R=Object(G.a)(e._lenses),X;try{for(R.s();!(X=R.n()).done;){var oe=X.value;oe.updateHeight(t,f)}}catch(je){R.e(je)}finally{R.f()}})}},{key:"_localDispose",value:function(){var e,i,t;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(i=this._resolveCodeLensesPromise)===null||i===void 0||i.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(t=this._currentCodeLensModel)===null||t===void 0||t.dispose()}},{key:"_onModelChange",value:function(){var e=this;this._localDispose();var i=this._editor.getModel();if(!!i&&!!this._editor.getOption(15)){var t=this._codeLensCache.get(i);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(i)){t&&this._localToDispose.add(Object(mt.l)(function(){var f=e._codeLensCache.get(i);t===f&&(e._codeLensCache.delete(i),e._onModelChange())},30*1e3));return}var n=Object(G.a)(this._languageFeaturesService.codeLensProvider.all(i)),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;if(typeof l.onDidChange=="function"){var c=l.onDidChange(function(){return h.schedule()});this._localToDispose.add(c)}}}catch(f){n.e(f)}finally{n.f()}var h=new mt.g(function(){var f,R=Date.now();(f=e._getCodeLensModelPromise)===null||f===void 0||f.cancel(),e._getCodeLensModelPromise=Object(mt.k)(function(X){return Kc(e._languageFeaturesService.codeLensProvider,i,X)}),e._getCodeLensModelPromise.then(function(X){e._currentCodeLensModel&&e._oldCodeLensModels.add(e._currentCodeLensModel),e._currentCodeLensModel=X,e._codeLensCache.put(i,X);var oe=e._provideCodeLensDebounce.update(i,Date.now()-R);h.delay=oe,e._renderCodeLensSymbols(X),e._resolveCodeLensesInViewportSoon()},Li.h)},this._provideCodeLensDebounce.get(i));this._localToDispose.add(h),this._localToDispose.add(Object(Ye.l)(function(){return e._resolveCodeLensesScheduler.cancel()})),this._localToDispose.add(this._editor.onDidChangeModelContent(function(){var f;e._editor.changeDecorations(function(R){e._editor.changeViewZones(function(X){var oe=[],je=-1;e._lenses.forEach(function(st){!st.isValid()||je===st.getLineNumber()?oe.push(st):(st.update(X),je=st.getLineNumber())});var Me=new Rl;oe.forEach(function(st){st.dispose(Me,X),e._lenses.splice(e._lenses.indexOf(st),1)}),Me.commit(R)})}),h.schedule(),e._resolveCodeLensesScheduler.cancel(),(f=e._resolveCodeLensesPromise)===null||f===void 0||f.cancel(),e._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(function(){h.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(function(f){f.scrollTopChanged&&e._lenses.length>0&&e._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(function(){e._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(Object(Ye.l)(function(){if(e._editor.getModel()){var f=pc.a.capture(e._editor);e._editor.changeDecorations(function(R){e._editor.changeViewZones(function(X){e._disposeAllLenses(R,X)})}),f.restore(e._editor)}else e._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(function(f){if(f.target.type===9){var R=f.target.element;if((R==null?void 0:R.tagName)==="SPAN"&&(R=R.parentElement),(R==null?void 0:R.tagName)==="A"){var X=Object(G.a)(e._lenses),oe;try{for(X.s();!(oe=X.n()).done;){var je=oe.value,Me=je.getCommand(R);if(Me){var st;(st=e._commandService).executeCommand.apply(st,[Me.id].concat(Object(on.a)(Me.arguments||[]))).catch(function(gt){return e._notificationService.error(gt)});break}}}catch(gt){X.e(gt)}finally{X.f()}}}})),h.schedule()}}},{key:"_disposeAllLenses",value:function(e,i){var t=new Rl,n=Object(G.a)(this._lenses),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;l.dispose(t,i)}}catch(c){n.e(c)}finally{n.f()}e&&t.commit(e),this._lenses.length=0}},{key:"_renderCodeLensSymbols",value:function(e){var i=this;if(!!this._editor.hasModel()){var t=this._editor.getModel().getLineCount(),n=[],r,l=Object(G.a)(e.lenses),c;try{for(l.s();!(c=l.n()).done;){var h=c.value,f=h.symbol.range.startLineNumber;f<1||f>t||(r&&r[r.length-1].symbol.range.startLineNumber===f?r.push(h):(r=[h],n.push(r)))}}catch(oe){l.e(oe)}finally{l.f()}if(!(!n.length&&!this._lenses.length)){var R=pc.a.capture(this._editor),X=this._getLayoutInfo();this._editor.changeDecorations(function(oe){i._editor.changeViewZones(function(je){for(var Me=new Rl,st=0,gt=0;gt<n.length&&st<i._lenses.length;){var jt=n[gt][0].symbol.range.startLineNumber,Xt=i._lenses[st].getLineNumber();Xt<jt?(i._lenses[st].dispose(Me,je),i._lenses.splice(st,1)):Xt===jt?(i._lenses[st].updateCodeLensSymbols(n[gt],Me),gt++,st++):(i._lenses.splice(st,0,new Od(n[gt],i._editor,Me,je,X.codeLensHeight,function(){return i._resolveCodeLensesInViewportSoon()})),st++,gt++)}for(;st<i._lenses.length;)i._lenses[st].dispose(Me,je),i._lenses.splice(st,1);for(;gt<n.length;)i._lenses.push(new Od(n[gt],i._editor,Me,je,X.codeLensHeight,function(){return i._resolveCodeLensesInViewportSoon()})),gt++;Me.commit(oe)})}),R.restore(this._editor)}}}},{key:"_resolveCodeLensesInViewportSoon",value:function(){var e=this._editor.getModel();e&&this._resolveCodeLensesScheduler.schedule()}},{key:"_resolveCodeLensesInViewport",value:function(){var e=this,i;(i=this._resolveCodeLensesPromise)===null||i===void 0||i.cancel(),this._resolveCodeLensesPromise=void 0;var t=this._editor.getModel();if(!!t){var n=[],r=[];if(this._lenses.forEach(function(h){var f=h.computeIfNecessary(t);f&&(n.push(f),r.push(h))}),n.length!==0){var l=Date.now(),c=Object(mt.k)(function(h){var f=n.map(function(R,X){var oe=new Array(R.length),je=R.map(function(Me,st){return!Me.symbol.command&&typeof Me.provider.resolveCodeLens=="function"?Promise.resolve(Me.provider.resolveCodeLens(t,Me.symbol,h)).then(function(gt){oe[st]=gt},Li.i):(oe[st]=Me.symbol,Promise.resolve(void 0))});return Promise.all(je).then(function(){!h.isCancellationRequested&&!r[X].isDisposed()&&r[X].updateCommands(oe)})});return Promise.all(f)});this._resolveCodeLensesPromise=c,this._resolveCodeLensesPromise.then(function(){var h=e._resolveCodeLensesDebounce.update(t,Date.now()-l);e._resolveCodeLensesScheduler.delay=h,e._currentCodeLensModel&&e._codeLensCache.put(t,e._currentCodeLensModel),e._oldCodeLensModels.clear(),c===e._resolveCodeLensesPromise&&(e._resolveCodeLensesPromise=void 0)},function(h){Object(Li.h)(h),c===e._resolveCodeLensesPromise&&(e._resolveCodeLensesPromise=void 0)})}}}},{key:"getModel",value:function(){return this._currentCodeLensModel}}]),s}();Ys.ID="css.editor.codeLens",Ys=Sd([Nl(1,$i.a),Nl(2,Ms.a),Nl(3,$r.b),Nl(4,Ra.a),Nl(5,Pu)],Ys),Object(wt.m)(Ys.ID,Ys,1),Object(wt.k)(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"codelens.showLensesInCurrentLine",precondition:Ut.a.hasCodeLensProvider,label:Object(We.b)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}return Object(P.a)(e,[{key:"run",value:function(t,n){return kd(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f,R,X,oe,je,Me,st,gt;return Object(d.a)().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:if(n.hasModel()){Xt.next=2;break}return Xt.abrupt("return");case 2:if(l=t.get(yl.a),c=t.get($r.b),h=t.get(Ra.a),f=n.getSelection().positionLineNumber,R=n.getContribution(Ys.ID),R){Xt.next=9;break}return Xt.abrupt("return");case 9:if(X=R.getModel(),X){Xt.next=12;break}return Xt.abrupt("return");case 12:oe=[],je=Object(G.a)(X.lenses);try{for(je.s();!(Me=je.n()).done;)st=Me.value,st.symbol.command&&st.symbol.range.startLineNumber===f&&oe.push({label:st.symbol.command.title,command:st.symbol.command})}catch(sn){je.e(sn)}finally{je.f()}if(oe.length!==0){Xt.next=17;break}return Xt.abrupt("return");case 17:return Xt.next=19,l.pick(oe,{canPickMany:!1});case 19:if(gt=Xt.sent,gt){Xt.next=22;break}return Xt.abrupt("return");case 22:if(!X.isDisposed){Xt.next=26;break}return Xt.next=25,c.executeCommand(this.id);case 25:return Xt.abrupt("return",Xt.sent);case 26:return Xt.prev=26,Xt.next=29,c.executeCommand.apply(c,[gt.command.id].concat(Object(on.a)(gt.command.arguments||[])));case 29:Xt.next=34;break;case 31:Xt.prev=31,Xt.t0=Xt.catch(26),h.error(Xt.t0);case 34:case"end":return Xt.stop()}},r,this,[[26,31]])}))}}]),e}(wt.b));var Ma=a("zrhQ"),fs=a("5Y4S"),Dd=a("QRuL"),Gc=a("KBqF"),po=a("AYRw"),No=a("2CIB"),$c=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Qc=function(s,o){return function(e,i){o(e,i,s)}},Cc=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},sl=function(){function s(o,e){Object(A.a)(this,s),this._editorWorkerClient=new Gc.a(o,!1,"editorWorkerService",e)}return Object(P.a)(s,[{key:"provideDocumentColors",value:function(e,i){return Cc(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this._editorWorkerClient.computeDefaultDocumentColors(e.uri));case 1:case"end":return r.stop()}},t,this)}))}},{key:"provideColorPresentations",value:function(e,i,t){var n=i.range,r=i.color,l=r.alpha,c=new Ma.a(new Ma.d(Math.round(255*r.red),Math.round(255*r.green),Math.round(255*r.blue),l)),h=l?Ma.a.Format.CSS.formatRGB(c):Ma.a.Format.CSS.formatRGBA(c),f=l?Ma.a.Format.CSS.formatHSL(c):Ma.a.Format.CSS.formatHSLA(c),R=l?Ma.a.Format.CSS.formatHex(c):Ma.a.Format.CSS.formatHexA(c),X=[];return X.push({label:h,textEdit:{range:n,text:h}}),X.push({label:f,textEdit:{range:n,text:f}}),X.push({label:R,textEdit:{range:n,text:R}}),X}}]),s}(),_l=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r._register(n.colorProvider.register("*",new sl(i,t))),r}return Object(P.a)(e)}(Ye.a);_l=$c([Qc(0,Jr.a),Qc(1,po.a),Qc(2,$i.a)],_l),Object(No.b)(_l);var Ts=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function Ps(s,o,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Ts(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",wo(new wd,s,o,e,i));case 1:case"end":return r.stop()}},t)}))}function mu(s,o,e,i){return Promise.resolve(e.provideColorPresentations(s,o,i))}var wd=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"compute",value:function(e,i,t,n){return Ts(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f;return Object(d.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,e.provideDocumentColors(i,t);case 2:if(l=X.sent,Array.isArray(l)){c=Object(G.a)(l);try{for(c.s();!(h=c.n()).done;)f=h.value,n.push({colorInfo:f,provider:e})}catch(oe){c.e(oe)}finally{c.f()}}return X.abrupt("return",Array.isArray(l));case 5:case"end":return X.stop()}},r)}))}}]),s}(),Au=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"compute",value:function(e,i,t,n){return Ts(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f;return Object(d.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,e.provideDocumentColors(i,t);case 2:if(l=X.sent,Array.isArray(l)){c=Object(G.a)(l);try{for(c.s();!(h=c.n()).done;)f=h.value,n.push({range:f.range,color:[f.color.red,f.color.green,f.color.blue,f.color.alpha]})}catch(oe){c.e(oe)}finally{c.f()}}return X.abrupt("return",Array.isArray(l));case 5:case"end":return X.stop()}},r)}))}}]),s}(),ih=function(){function s(o){Object(A.a)(this,s),this.colorInfo=o}return Object(P.a)(s,[{key:"compute",value:function(e,i,t,n){return Ts(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,e.provideColorPresentations(i,this.colorInfo,Zn.a.None);case 2:return l=h.sent,Array.isArray(l)&&n.push.apply(n,Object(on.a)(l)),h.abrupt("return",Array.isArray(l));case 5:case"end":return h.stop()}},r,this)}))}}]),s}();function wo(s,o,e,i,t){return Ts(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:r=!1,c=[],h=o.ordered(e),f=h.length-1;case 4:if(!(f>=0)){oe.next=23;break}if(R=h[f],!(R instanceof sl)){oe.next=10;break}l=R,oe.next=20;break;case 10:return oe.prev=10,oe.next=13,s.compute(R,e,i,c);case 13:if(!oe.sent){oe.next=15;break}r=!0;case 15:oe.next=20;break;case 17:oe.prev=17,oe.t0=oe.catch(10),Object(Li.i)(oe.t0);case 20:f--,oe.next=4;break;case 23:if(!r){oe.next=25;break}return oe.abrupt("return",c);case 25:if(!(l&&t)){oe.next=29;break}return oe.next=28,s.compute(l,e,i,c);case 28:return oe.abrupt("return",c);case 29:return oe.abrupt("return",[]);case 30:case"end":return oe.stop()}},n,null,[[10,17]])}))}function rh(s,o){var e=s.get($i.a),i=e.colorProvider,t=s.get(Jr.a).getModel(o);if(!t)throw Object(Li.e)();var n=s.get(Do.a).getValue("editor.defaultColorDecorators",{resource:o});return{model:t,colorProviderRegistry:i,isDefaultColorDecoratorsEnabled:n}}$r.a.registerCommand("_executeDocumentColorProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];var t=e[0];if(!(t instanceof _r.a))throw Object(Li.e)();var n=rh(s,t),r=n.model,l=n.colorProviderRegistry,c=n.isDefaultColorDecoratorsEnabled;return wo(new Au,l,r,Zn.a.None,c)}),$r.a.registerCommand("_executeColorPresentationProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];var t=e[0],n=e[1],r=n.uri,l=n.range;if(!(r instanceof _r.a)||!Array.isArray(t)||t.length!==4||!Ze.a.isIRange(l))throw Object(Li.e)();var c=rh(s,r),h=c.model,f=c.colorProviderRegistry,R=c.isDefaultColorDecoratorsEnabled,X=Object(O.a)(t,4),oe=X[0],je=X[1],Me=X[2],st=X[3];return wo(new ih({range:l,color:{red:oe,green:je,blue:Me,alpha:st}}),f,h,Zn.a.None,R)});var Oc=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},ec=function(s,o){return function(e,i){o(e,i,s)}},Yc=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Jl=Object.create({}),Cl=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;return Object(A.a)(this,e),l=o.call(this),l._editor=i,l._configurationService=t,l._languageFeaturesService=n,l._localToDispose=l._register(new Ye.c),l._decorationsIds=[],l._colorDatas=new Map,l._colorDecoratorIds=l._editor.createDecorationsCollection(),l._ruleFactory=new Dd.b(l._editor),l._decoratorLimitReporter=new tc,l._colorDecorationClassRefs=l._register(new Ye.c),l._debounceInformation=r.for(n.colorProvider,"Document Colors",{min:e.RECOMPUTE_TIME}),l._register(i.onDidChangeModel(function(){l._isColorDecoratorsEnabled=l.isEnabled(),l.updateColors()})),l._register(i.onDidChangeModelLanguage(function(){return l.updateColors()})),l._register(n.colorProvider.onDidChange(function(){return l.updateColors()})),l._register(i.onDidChangeConfiguration(function(c){var h=l._isColorDecoratorsEnabled;l._isColorDecoratorsEnabled=l.isEnabled(),l._isDefaultColorDecoratorsEnabled=l._editor.getOption(142);var f=h!==l._isColorDecoratorsEnabled||c.hasChanged(19),R=c.hasChanged(142);(f||R)&&(l._isColorDecoratorsEnabled?l.updateColors():l.removeAllDecorations())})),l._timeoutTimer=null,l._computePromise=null,l._isColorDecoratorsEnabled=l.isEnabled(),l._isDefaultColorDecoratorsEnabled=l._editor.getOption(142),l.updateColors(),l}return Object(P.a)(e,[{key:"isEnabled",value:function(){var t=this._editor.getModel();if(!t)return!1;var n=t.getLanguageId(),r=this._configurationService.getValue(n);if(r&&typeof r=="object"){var l=r.colorDecorators;if(l&&l.enable!==void 0&&!l.enable)return l.enable}return this._editor.getOption(18)}},{key:"dispose",value:function(){this.stop(),this.removeAllDecorations(),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"updateColors",value:function(){var t=this;if(this.stop(),!!this._isColorDecoratorsEnabled){var n=this._editor.getModel();!n||!this._languageFeaturesService.colorProvider.has(n)||(this._localToDispose.add(this._editor.onDidChangeModelContent(function(){t._timeoutTimer||(t._timeoutTimer=new mt.i,t._timeoutTimer.cancelAndSet(function(){t._timeoutTimer=null,t.beginCompute()},t._debounceInformation.get(n)))})),this.beginCompute())}}},{key:"beginCompute",value:function(){return Yc(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this._computePromise=Object(mt.k)(function(h){return Yc(n,void 0,void 0,Object(d.a)().mark(function f(){var R,X,oe;return Object(d.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(R=this._editor.getModel(),R){Me.next=3;break}return Me.abrupt("return",[]);case 3:return X=new fs.a(!1),Me.next=6,Ps(this._languageFeaturesService.colorProvider,R,h,this._isDefaultColorDecoratorsEnabled);case 6:return oe=Me.sent,this._debounceInformation.update(R,X.elapsed()),Me.abrupt("return",oe);case 9:case"end":return Me.stop()}},f,this)}))}),c.prev=1,c.next=4,this._computePromise;case 4:r=c.sent,this.updateDecorations(r),this.updateColorDecorators(r),this._computePromise=null,c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),Object(Li.h)(c.t0);case 13:case"end":return c.stop()}},t,this,[[1,10]])}))}},{key:"stop",value:function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}},{key:"updateDecorations",value:function(t){var n=this,r=t.map(function(l){return{range:{startLineNumber:l.colorInfo.range.startLineNumber,startColumn:l.colorInfo.range.startColumn,endLineNumber:l.colorInfo.range.endLineNumber,endColumn:l.colorInfo.range.endColumn},options:hn.b.EMPTY}});this._editor.changeDecorations(function(l){n._decorationsIds=l.deltaDecorations(n._decorationsIds,r),n._colorDatas=new Map,n._decorationsIds.forEach(function(c,h){return n._colorDatas.set(c,t[h])})})}},{key:"updateColorDecorators",value:function(t){this._colorDecorationClassRefs.clear();for(var n=[],r=this._editor.getOption(19),l=0;l<t.length&&n.length<r;l++){var c=t[l].colorInfo.color,h=c.red,f=c.green,R=c.blue,X=c.alpha,oe=new Ma.d(Math.round(h*255),Math.round(f*255),Math.round(R*255),X),je="rgba(".concat(oe.r,", ").concat(oe.g,", ").concat(oe.b,", ").concat(oe.a,")"),Me=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:je}));n.push({range:{startLineNumber:t[l].colorInfo.range.startLineNumber,startColumn:t[l].colorInfo.range.startColumn,endLineNumber:t[l].colorInfo.range.endLineNumber,endColumn:t[l].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:vr.M,inlineClassName:"".concat(Me.className," colorpicker-color-decoration"),inlineClassNameAffectsLetterSpacing:!0,attachedData:Jl}}})}var st=r<t.length?r:!1;this._decoratorLimitReporter.update(t.length,st),this._colorDecoratorIds.set(n)}},{key:"removeAllDecorations",value:function(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}},{key:"getColorData",value:function(t){var n=this,r=this._editor.getModel();if(!r)return null;var l=r.getDecorationsInRange(Ze.a.fromPositions(t,t)).filter(function(c){return n._colorDatas.has(c.id)});return l.length===0?null:this._colorDatas.get(l[0].id)}},{key:"isColorDecoration",value:function(t){return this._colorDecoratorIds.has(t)}}],[{key:"get",value:function(t){return t.getContribution(this.ID)}}]),e}(Ye.a);Cl.ID="editor.contrib.colorDetector",Cl.RECOMPUTE_TIME=1e3,Cl=Oc([ec(1,Do.a),ec(2,$i.a),ec(3,Ms.a)],Cl);var tc=function(){function s(){Object(A.a)(this,s),this._onDidChange=new ca.b,this._computed=0,this._limited=!1}return Object(P.a)(s,[{key:"update",value:function(e,i){(e!==this._computed||i!==this._limited)&&(this._computed=e,this._limited=i,this._onDidChange.fire())}}]),s}();Object(wt.m)(Cl.ID,Cl,1);var Zc=function(){function s(o,e,i){Object(A.a)(this,s),this.presentationIndex=i,this._onColorFlushed=new ca.b,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new ca.b,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new ca.b,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=o,this._color=o,this._colorPresentations=e}return Object(P.a)(s,[{key:"color",get:function(){return this._color},set:function(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}},{key:"presentation",get:function(){return this.colorPresentations[this.presentationIndex]}},{key:"colorPresentations",get:function(){return this._colorPresentations},set:function(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}},{key:"selectNextColorPresentation",value:function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}},{key:"guessColorPresentation",value:function(e,i){for(var t=-1,n=0;n<this.colorPresentations.length;n++)if(i.toLowerCase()===this.colorPresentations[n].label){t=n;break}if(t===-1){for(var r=i.split("(")[0].toLowerCase(),l=0;l<this.colorPresentations.length;l++)if(this.colorPresentations[l].label.toLowerCase().startsWith(r)){t=l;break}}t!==-1&&t!==this.presentationIndex&&(this.presentationIndex=t,this._onDidChangePresentation.fire(this.presentation))}},{key:"flushColor",value:function(){this._onColorFlushed.fire(this._color)}}]),s}(),Xc=a("a4d6"),Ru=a("G300"),Ke=a("n8z0"),be=a("v1vZ"),v=It.$,m=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;Object(A.a)(this,e),r=o.call(this),r.model=t,r.showingStandaloneColorPicker=l,r._closeButton=null,r._domNode=v(".colorpicker-header"),It.append(i,r._domNode),r._pickedColorNode=It.append(r._domNode,v(".picked-color"));var c=Object(We.b)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");return r._pickedColorNode.setAttribute("title",c),r._originalColorNode=It.append(r._domNode,v(".original-color")),r._originalColorNode.style.backgroundColor=Ma.a.Format.CSS.format(r.model.originalColor)||"",r.backgroundColor=n.getColorTheme().getColor(lt.Q)||Ma.a.white,r._register(n.onDidColorThemeChange(function(h){r.backgroundColor=h.getColor(lt.Q)||Ma.a.white})),r._register(It.addDisposableListener(r._pickedColorNode,It.EventType.CLICK,function(){return r.model.selectNextColorPresentation()})),r._register(It.addDisposableListener(r._originalColorNode,It.EventType.CLICK,function(){r.model.color=r.model.originalColor,r.model.flushColor()})),r._register(t.onDidChangeColor(r.onDidChangeColor,Object(nn.a)(r))),r._register(t.onDidChangePresentation(r.onDidChangePresentation,Object(nn.a)(r))),r._pickedColorNode.style.backgroundColor=Ma.a.Format.CSS.format(t.color)||"",r._pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?r.backgroundColor.isLighter():t.color.isLighter()),r.onDidChangeColor(r.model.color),r.showingStandaloneColorPicker&&(r._domNode.classList.add("standalone-colorpicker"),r._closeButton=r._register(new u(r._domNode))),r}return Object(P.a)(e,[{key:"closeButton",get:function(){return this._closeButton}},{key:"pickedColorNode",get:function(){return this._pickedColorNode}},{key:"originalColorNode",get:function(){return this._originalColorNode}},{key:"onDidChangeColor",value:function(t){this._pickedColorNode.style.backgroundColor=Ma.a.Format.CSS.format(t)||"",this._pickedColorNode.classList.toggle("light",t.rgba.a<.5?this.backgroundColor.isLighter():t.isLighter()),this.onDidChangePresentation()}},{key:"onDidChangePresentation",value:function(){this._pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this._pickedColorNode.prepend(v(".codicon.codicon-color-mode"))}}]),e}(Ye.a),u=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;Object(A.a)(this,e),t=o.call(this),t._onClicked=t._register(new ca.b),t.onClicked=t._onClicked.event,t._button=document.createElement("div"),t._button.classList.add("close-button"),It.append(i,t._button);var n=document.createElement("div");n.classList.add("close-button-inner-div"),It.append(t._button,n);var r=It.append(n,v(".button"+Fa.a.asCSSSelector(Object(be.b)("color-picker-close",Tr.a.close,Object(We.b)("closeIcon","Icon to close the color picker")))));return r.classList.add("close-icon"),t._button.onclick=function(){t._onClicked.fire()},t}return Object(P.a)(e)}(Ye.a),g=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object(A.a)(this,e),r=o.call(this),r.model=t,r.pixelRatio=n,r._insertButton=null,r._domNode=v(".colorpicker-body"),It.append(i,r._domNode),r._saturationBox=new S(r._domNode,r.model,r.pixelRatio),r._register(r._saturationBox),r._register(r._saturationBox.onDidChange(r.onDidSaturationValueChange,Object(nn.a)(r))),r._register(r._saturationBox.onColorFlushed(r.flushColor,Object(nn.a)(r))),r._opacityStrip=new Ee(r._domNode,r.model,l),r._register(r._opacityStrip),r._register(r._opacityStrip.onDidChange(r.onDidOpacityChange,Object(nn.a)(r))),r._register(r._opacityStrip.onColorFlushed(r.flushColor,Object(nn.a)(r))),r._hueStrip=new Le(r._domNode,r.model,l),r._register(r._hueStrip),r._register(r._hueStrip.onDidChange(r.onDidHueChange,Object(nn.a)(r))),r._register(r._hueStrip.onColorFlushed(r.flushColor,Object(nn.a)(r))),l&&(r._insertButton=r._register(new at(r._domNode)),r._domNode.classList.add("standalone-colorpicker")),r}return Object(P.a)(e,[{key:"flushColor",value:function(){this.model.flushColor()}},{key:"onDidSaturationValueChange",value:function(t){var n=t.s,r=t.v,l=this.model.color.hsva;this.model.color=new Ma.a(new Ma.c(l.h,n,r,l.a))}},{key:"onDidOpacityChange",value:function(t){var n=this.model.color.hsva;this.model.color=new Ma.a(new Ma.c(n.h,n.s,n.v,t))}},{key:"onDidHueChange",value:function(t){var n=this.model.color.hsva,r=(1-t)*360;this.model.color=new Ma.a(new Ma.c(r===360?0:r,n.s,n.v,n.a))}},{key:"domNode",get:function(){return this._domNode}},{key:"saturationBox",get:function(){return this._saturationBox}},{key:"enterButton",get:function(){return this._insertButton}},{key:"layout",value:function(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}]),e}(Ye.a),S=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r.model=t,r.pixelRatio=n,r._onDidChange=new ca.b,r.onDidChange=r._onDidChange.event,r._onColorFlushed=new ca.b,r.onColorFlushed=r._onColorFlushed.event,r._domNode=v(".saturation-wrap"),It.append(i,r._domNode),r._canvas=document.createElement("canvas"),r._canvas.className="saturation-box",It.append(r._domNode,r._canvas),r.selection=v(".saturation-selection"),It.append(r._domNode,r.selection),r.layout(),r._register(It.addDisposableListener(r._domNode,It.EventType.POINTER_DOWN,function(l){return r.onPointerDown(l)})),r._register(r.model.onDidChangeColor(r.onDidChangeColor,Object(nn.a)(r))),r.monitor=null,r}return Object(P.a)(e,[{key:"domNode",get:function(){return this._domNode}},{key:"onPointerDown",value:function(t){var n=this;if(!(!t.target||!(t.target instanceof Element))){this.monitor=this._register(new Xc.a);var r=It.getDomNodePagePosition(this._domNode);t.target!==this.selection&&this.onDidChangePosition(t.offsetX,t.offsetY),this.monitor.startMonitoring(t.target,t.pointerId,t.buttons,function(c){return n.onDidChangePosition(c.pageX-r.left,c.pageY-r.top)},function(){return null});var l=It.addDisposableListener(document,It.EventType.POINTER_UP,function(){n._onColorFlushed.fire(),l.dispose(),n.monitor&&(n.monitor.stopMonitoring(!0),n.monitor=null)},!0)}}},{key:"onDidChangePosition",value:function(t,n){var r=Math.max(0,Math.min(1,t/this.width)),l=Math.max(0,Math.min(1,1-n/this.height));this.paintSelection(r,l),this._onDidChange.fire({s:r,v:l})}},{key:"layout",value:function(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();var t=this.model.color.hsva;this.paintSelection(t.s,t.v)}},{key:"paint",value:function(){var t=this.model.color.hsva,n=new Ma.a(new Ma.c(t.h,1,1,1)),r=this._canvas.getContext("2d"),l=r.createLinearGradient(0,0,this._canvas.width,0);l.addColorStop(0,"rgba(255, 255, 255, 1)"),l.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),l.addColorStop(1,"rgba(255, 255, 255, 0)");var c=r.createLinearGradient(0,0,0,this._canvas.height);c.addColorStop(0,"rgba(0, 0, 0, 0)"),c.addColorStop(1,"rgba(0, 0, 0, 1)"),r.rect(0,0,this._canvas.width,this._canvas.height),r.fillStyle=Ma.a.Format.CSS.format(n),r.fill(),r.fillStyle=l,r.fill(),r.fillStyle=c,r.fill()}},{key:"paintSelection",value:function(t,n){this.selection.style.left="".concat(t*this.width,"px"),this.selection.style.top="".concat(this.height-n*this.height,"px")}},{key:"onDidChangeColor",value:function(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}]),e}(Ye.a),ie=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Object(A.a)(this,e),n=o.call(this),n.model=t,n._onDidChange=new ca.b,n.onDidChange=n._onDidChange.event,n._onColorFlushed=new ca.b,n.onColorFlushed=n._onColorFlushed.event,r?(n.domNode=It.append(i,v(".standalone-strip")),n.overlay=It.append(n.domNode,v(".standalone-overlay"))):(n.domNode=It.append(i,v(".strip")),n.overlay=It.append(n.domNode,v(".overlay"))),n.slider=It.append(n.domNode,v(".slider")),n.slider.style.top="0px",n._register(It.addDisposableListener(n.domNode,It.EventType.POINTER_DOWN,function(l){return n.onPointerDown(l)})),n.layout(),n}return Object(P.a)(e,[{key:"layout",value:function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var t=this.getValue(this.model.color);this.updateSliderPosition(t)}},{key:"onPointerDown",value:function(t){var n=this;if(!(!t.target||!(t.target instanceof Element))){var r=this._register(new Xc.a),l=It.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),t.target!==this.slider&&this.onDidChangeTop(t.offsetY),r.startMonitoring(t.target,t.pointerId,t.buttons,function(h){return n.onDidChangeTop(h.pageY-l.top)},function(){return null});var c=It.addDisposableListener(document,It.EventType.POINTER_UP,function(){n._onColorFlushed.fire(),c.dispose(),r.stopMonitoring(!0),n.domNode.classList.remove("grabbing")},!0)}}},{key:"onDidChangeTop",value:function(t){var n=Math.max(0,Math.min(1,1-t/this.height));this.updateSliderPosition(n),this._onDidChange.fire(n)}},{key:"updateSliderPosition",value:function(t){this.slider.style.top="".concat((1-t)*this.height,"px")}}]),e}(Ye.a),Ee=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Object(A.a)(this,e),n=o.call(this,i,t,r),n.domNode.classList.add("opacity-strip"),n._register(t.onDidChangeColor(n.onDidChangeColor,Object(nn.a)(n))),n.onDidChangeColor(n.model.color),n}return Object(P.a)(e,[{key:"onDidChangeColor",value:function(t){var n=t.rgba,r=n.r,l=n.g,c=n.b,h=new Ma.a(new Ma.d(r,l,c,1)),f=new Ma.a(new Ma.d(r,l,c,0));this.overlay.style.background="linear-gradient(to bottom, ".concat(h," 0%, ").concat(f," 100%)")}},{key:"getValue",value:function(t){return t.hsva.a}}]),e}(ie),Le=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Object(A.a)(this,e),n=o.call(this,i,t,r),n.domNode.classList.add("hue-strip"),n}return Object(P.a)(e,[{key:"getValue",value:function(t){return 1-t.hsva.h/360}}]),e}(ie),at=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t._onClicked=t._register(new ca.b),t.onClicked=t._onClicked.event,t._button=It.append(i,document.createElement("button")),t._button.classList.add("insert-button"),t._button.textContent="Insert",t._button.onclick=function(n){t._onClicked.fire()},t}return Object(P.a)(e,[{key:"button",get:function(){return this._button}}]),e}(Ye.a),kt=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;Object(A.a)(this,e),l=o.call(this),l.model=t,l.pixelRatio=n,l._register(ct.PixelRatio.onDidChange(function(){return l.layout()}));var h=v(".colorpicker-widget");return i.appendChild(h),l.header=l._register(new m(h,l.model,r,c)),l.body=l._register(new g(h,l.model,l.pixelRatio,c)),l}return Object(P.a)(e,[{key:"layout",value:function(){this.body.layout()}}]),e}(Ru.a),Tt=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Qt=function(s,o){return function(e,i){o(e,i,s)}},Wt=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},vt=function(){function s(o,e,i,t){Object(A.a)(this,s),this.owner=o,this.range=e,this.model=i,this.provider=t,this.forceShowAtRange=!0}return Object(P.a)(s,[{key:"isValidForHoverAnchor",value:function(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),s}(),wn=function(){function s(o,e){Object(A.a)(this,s),this._editor=o,this._themeService=e,this.hoverOrdinal=2}return Object(P.a)(s,[{key:"computeSync",value:function(e,i){return[]}},{key:"computeAsync",value:function(e,i,t){return mt.a.fromPromise(this._computeAsync(e,i,t))}},{key:"_computeAsync",value:function(e,i,t){return Wt(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(this._editor.hasModel()){oe.next=2;break}return oe.abrupt("return",[]);case 2:if(r=Cl.get(this._editor),r){oe.next=5;break}return oe.abrupt("return",[]);case 5:l=Object(G.a)(i),oe.prev=6,l.s();case 8:if((c=l.n()).done){oe.next=20;break}if(h=c.value,r.isColorDecoration(h)){oe.next=12;break}return oe.abrupt("continue",18);case 12:if(f=r.getColorData(h.range.getStartPosition()),!f){oe.next=18;break}return oe.next=16,hi(this,this._editor.getModel(),f.colorInfo,f.provider);case 16:return R=oe.sent,oe.abrupt("return",[R]);case 18:oe.next=8;break;case 20:oe.next=25;break;case 22:oe.prev=22,oe.t0=oe.catch(6),l.e(oe.t0);case 25:return oe.prev=25,l.f(),oe.finish(25);case 28:return oe.abrupt("return",[]);case 29:case"end":return oe.stop()}},n,this,[[6,22,25,28]])}))}},{key:"renderHoverParts",value:function(e,i){return ki(this,this._editor,this._themeService,i,e)}}]),s}();wn=Tt([Qt(1,si.b)],wn);var xn=Object(P.a)(function s(o,e,i,t){Object(A.a)(this,s),this.owner=o,this.range=e,this.model=i,this.provider=t}),ri=function(){function s(o,e){Object(A.a)(this,s),this._editor=o,this._themeService=e,this._color=null}return Object(P.a)(s,[{key:"createColorHover",value:function(e,i,t){return Wt(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R,X,oe,je,Me,st;return Object(d.a)().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:if(this._editor.hasModel()){jt.next=2;break}return jt.abrupt("return",null);case 2:if(r=Cl.get(this._editor),r){jt.next=5;break}return jt.abrupt("return",null);case 5:return jt.next=7,Ps(t,this._editor.getModel(),Zn.a.None);case 7:l=jt.sent,c=null,h=null,f=Object(G.a)(l);try{for(f.s();!(R=f.n()).done;)X=R.value,oe=X.colorInfo,Ze.a.containsRange(oe.range,e.range)&&(c=oe,h=X.provider)}catch(Xt){f.e(Xt)}finally{f.f()}return je=c!=null?c:e,Me=h!=null?h:i,st=!!c,jt.next=17,hi(this,this._editor.getModel(),je,Me);case 17:return jt.t0=jt.sent,jt.t1=st,jt.abrupt("return",{colorHover:jt.t0,foundInEditor:jt.t1});case 20:case"end":return jt.stop()}},n,this)}))}},{key:"updateEditorModel",value:function(e){return Wt(this,void 0,void 0,Object(d.a)().mark(function i(){var t,n;return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this._editor.hasModel()){l.next=2;break}return l.abrupt("return");case 2:if(t=e.model,n=new Ze.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn),!this._color){l.next=8;break}return l.next=7,rr(this._editor.getModel(),t,this._color,n,e);case 7:n=Di(this._editor,n,t);case 8:case"end":return l.stop()}},i,this)}))}},{key:"renderHoverParts",value:function(e,i){return ki(this,this._editor,this._themeService,i,e)}},{key:"color",get:function(){return this._color},set:function(e){this._color=e}}]),s}();ri=Tt([Qt(1,si.b)],ri);function hi(s,o,e,i){return Wt(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R,X,oe,je;return Object(d.a)().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return n=o.getValueInRange(e.range),r=e.color,l=r.red,c=r.green,h=r.blue,f=r.alpha,R=new Ma.d(Math.round(l*255),Math.round(c*255),Math.round(h*255),f),X=new Ma.a(R),st.next=6,mu(o,e,i,Zn.a.None);case 6:if(oe=st.sent,je=new Zc(X,[],0),je.colorPresentations=oe||[],je.guessColorPresentation(X,n),!(s instanceof wn)){st.next=14;break}return st.abrupt("return",new vt(s,Ze.a.lift(e.range),je,i));case 14:return st.abrupt("return",new xn(s,Ze.a.lift(e.range),je,i));case 15:case"end":return st.stop()}},t)}))}function ki(s,o,e,i,t){var n=this;if(i.length===0||!o.hasModel())return Ye.a.None;var r=new Ye.c,l=i[0],c=o.getModel(),h=l.model,f=r.add(new kt(t.fragment,h,o.getOption(138),e,s instanceof ri));t.setColorPicker(f);var R=new Ze.a(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn);if(s instanceof ri){var X=i[0].model.color;s.color=X,rr(c,h,X,R,l),r.add(h.onColorFlushed(function(oe){s.color=oe}))}else r.add(h.onColorFlushed(function(oe){return Wt(n,void 0,void 0,Object(d.a)().mark(function je(){return Object(d.a)().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return st.next=2,rr(c,h,oe,R,l);case 2:R=Di(o,R,h,t);case 3:case"end":return st.stop()}},je)}))}));return r.add(h.onDidChangeColor(function(oe){rr(c,h,oe,R,l)})),r}function Di(s,o,e,i){var t,n;if(e.presentation.textEdit){t=[e.presentation.textEdit],n=new Ze.a(e.presentation.textEdit.range.startLineNumber,e.presentation.textEdit.range.startColumn,e.presentation.textEdit.range.endLineNumber,e.presentation.textEdit.range.endColumn);var r=s.getModel()._setTrackedRange(null,n,3);s.pushUndoStop(),s.executeEdits("colorpicker",t),n=s.getModel()._getTrackedRange(r)||n}else t=[{range:o,text:e.presentation.label,forceMoveMarkers:!1}],n=o.setEndPosition(o.endLineNumber,o.startColumn+e.presentation.label.length),s.pushUndoStop(),s.executeEdits("colorpicker",t);return e.presentation.additionalTextEdits&&(t=Object(on.a)(e.presentation.additionalTextEdits),s.executeEdits("colorpicker",t),i&&i.hide()),s.pushUndoStop(),n}function rr(s,o,e,i,t){return Wt(this,void 0,void 0,Object(d.a)().mark(function n(){var r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,mu(s,{range:i,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},t.provider,Zn.a.None);case 2:r=c.sent,o.colorPresentations=r||[];case 4:case"end":return c.stop()}},n)}))}var Ti=a("CGdd"),Vi=a("SDKL"),Qi=a("t49l");function yr(s,o){return!!s[o]}var Rr=Object(P.a)(function s(o,e){Object(A.a)(this,s),this.target=o.target,this.isLeftClick=o.event.leftButton,this.isMiddleClick=o.event.middleButton,this.isRightClick=o.event.rightButton,this.hasTriggerModifier=yr(o.event,e.triggerModifier),this.hasSideBySideModifier=yr(o.event,e.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=o.event.detail<=1}),Qr=Object(P.a)(function s(o,e){Object(A.a)(this,s),this.keyCodeIsTriggerKey=o.keyCode===e.triggerKey,this.keyCodeIsSideBySideKey=o.keyCode===e.triggerSideBySideKey,this.hasTriggerModifier=yr(o,e.triggerModifier)}),ha=function(){function s(o,e,i,t){Object(A.a)(this,s),this.triggerKey=o,this.triggerModifier=e,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=t}return Object(P.a)(s,[{key:"equals",value:function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}]),s}();function Oa(s){return s==="altKey"?Mt.i?new ha(57,"metaKey",6,"altKey"):new ha(5,"ctrlKey",6,"altKey"):Mt.i?new ha(6,"altKey",57,"metaKey"):new ha(6,"altKey",5,"ctrlKey")}var qr=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n._onMouseMoveOrRelevantKeyDown=n._register(new ca.b),n.onMouseMoveOrRelevantKeyDown=n._onMouseMoveOrRelevantKeyDown.event,n._onExecute=n._register(new ca.b),n.onExecute=n._onExecute.event,n._onCancel=n._register(new ca.b),n.onCancel=n._onCancel.event,n._editor=i,n._alwaysFireExecuteOnMouseUp=t,n._opts=Oa(n._editor.getOption(75)),n._lastMouseMoveEvent=null,n._hasTriggerKeyOnMouseDown=!1,n._lineNumberOnMouseDown=0,n._register(n._editor.onDidChangeConfiguration(function(r){if(r.hasChanged(75)){var l=Oa(n._editor.getOption(75));if(n._opts.equals(l))return;n._opts=l,n._lastMouseMoveEvent=null,n._hasTriggerKeyOnMouseDown=!1,n._lineNumberOnMouseDown=0,n._onCancel.fire()}})),n._register(n._editor.onMouseMove(function(r){return n._onEditorMouseMove(new Rr(r,n._opts))})),n._register(n._editor.onMouseDown(function(r){return n._onEditorMouseDown(new Rr(r,n._opts))})),n._register(n._editor.onMouseUp(function(r){return n._onEditorMouseUp(new Rr(r,n._opts))})),n._register(n._editor.onKeyDown(function(r){return n._onEditorKeyDown(new Qr(r,n._opts))})),n._register(n._editor.onKeyUp(function(r){return n._onEditorKeyUp(new Qr(r,n._opts))})),n._register(n._editor.onMouseDrag(function(){return n._resetHandler()})),n._register(n._editor.onDidChangeCursorSelection(function(r){return n._onDidChangeCursorSelection(r)})),n._register(n._editor.onDidChangeModel(function(r){return n._resetHandler()})),n._register(n._editor.onDidChangeModelContent(function(){return n._resetHandler()})),n._register(n._editor.onDidScrollChange(function(r){(r.scrollTopChanged||r.scrollLeftChanged)&&n._resetHandler()})),n}return Object(P.a)(e,[{key:"_onDidChangeCursorSelection",value:function(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this._resetHandler()}},{key:"_onEditorMouseMove",value:function(t){this._lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])}},{key:"_onEditorMouseDown",value:function(t){this._hasTriggerKeyOnMouseDown=t.hasTriggerModifier,this._lineNumberOnMouseDown=t.target.position?t.target.position.lineNumber:0}},{key:"_onEditorMouseUp",value:function(t){var n=t.target.position?t.target.position.lineNumber:0;(this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===n||this._alwaysFireExecuteOnMouseUp)&&this._onExecute.fire(t)}},{key:"_onEditorKeyDown",value:function(t){this._lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()}},{key:"_onEditorKeyUp",value:function(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()}},{key:"_resetHandler",value:function(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}]),e}(Ye.a),ka=a("8HAY"),Ya=a("qj0h"),Bo=a("v63x"),Oo=a("R3nR"),ts=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Aa=function(s,o){return function(e,i){o(e,i,s)}},xa=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h,f,R,X,oe,je,Me){var st,gt;return Object(A.a)(this,e),gt=o.call(this,i,Object.assign(Object.assign({},r.getRawOptions()),{overflowWidgetsDomNode:r.getOverflowWidgetsDomNode()}),n,l,c,h,f,R,X,oe,je,Me),gt._parentEditor=r,gt._overwriteOptions=t,Object(bn.a)((st=Object(nn.a)(gt),Object(An.a)(e.prototype)),"updateOptions",st).call(st,gt._overwriteOptions),gt._register(r.onDidChangeConfiguration(function(jt){return gt._onParentConfigurationChanged(jt)})),gt}return Object(P.a)(e,[{key:"getParentEditor",value:function(){return this._parentEditor}},{key:"_onParentConfigurationChanged",value:function(t){Object(bn.a)(Object(An.a)(e.prototype),"updateOptions",this).call(this,this._parentEditor.getRawOptions()),Object(bn.a)(Object(An.a)(e.prototype),"updateOptions",this).call(this,this._overwriteOptions)}},{key:"updateOptions",value:function(t){Ya.g(this._overwriteOptions,t,!0),Object(bn.a)(Object(An.a)(e.prototype),"updateOptions",this).call(this,this._overwriteOptions)}}]),e}(yn.a);xa=ts([Aa(4,ia.a),Aa(5,zt.a),Aa(6,$r.b),Aa(7,Tn.b),Aa(8,si.b),Aa(9,Ra.a),Aa(10,Oo.b),Aa(11,po.a),Aa(12,$i.a)],xa);var fo=a("cMOf"),vs=a("nD70"),ll=a("WHLJ"),pu=new Ma.a(new Ma.d(0,122,204)),zs={showArrow:!0,showFrame:!0,className:"",frameColor:pu,arrowColor:pu,keepEditorSelection:!1},xl="vs.editor.contrib.zoneWidget",rs=function(){function s(o,e,i,t,n,r,l,c){Object(A.a)(this,s),this.id="",this.domNode=o,this.afterLineNumber=e,this.afterColumn=i,this.heightInLines=t,this.showInHiddenAreas=l,this.ordinal=c,this._onDomNodeTop=n,this._onComputedHeight=r}return Object(P.a)(s,[{key:"onDomNodeTop",value:function(e){this._onDomNodeTop(e)}},{key:"onComputedHeight",value:function(e){this._onComputedHeight(e)}}]),s}(),Fl=function(){function s(o,e){Object(A.a)(this,s),this._id=o,this._domNode=e}return Object(P.a)(s,[{key:"getId",value:function(){return this._id}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return null}}]),s}(),ql=function(){function s(o){Object(A.a)(this,s),this._editor=o,this._ruleName=s._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}return Object(P.a)(s,[{key:"dispose",value:function(){this.hide(),It.removeCSSRulesContainingSelector(this._ruleName)}},{key:"color",set:function(e){this._color!==e&&(this._color=e,this._updateStyle())}},{key:"height",set:function(e){this._height!==e&&(this._height=e,this._updateStyle())}},{key:"_updateStyle",value:function(){It.removeCSSRulesContainingSelector(this._ruleName),It.createCSSRule(".monaco-editor ".concat(this._ruleName),"border-style: solid; border-color: transparent; border-bottom-color: ".concat(this._color,"; border-width: ").concat(this._height,"px; bottom: -").concat(this._height,"px; margin-left: -").concat(this._height,"px; "))}},{key:"show",value:function(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:Ze.a.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}},{key:"hide",value:function(){this._decorations.clear()}}]),s}();ql._IdGenerator=new vs.a(".arrow-decoration-");var Sc=function(){function s(o){var e=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object(A.a)(this,s),this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new Ye.c,this.container=null,this._isShowing=!1,this.editor=o,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=Ya.c(i),Ya.g(this.options,zs,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(function(t){var n=e._getWidth(t);e.domNode.style.width=n+"px",e.domNode.style.left=e._getLeft(t)+"px",e._onWidth(n)}))}return Object(P.a)(s,[{key:"dispose",value:function(){var e=this;this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(function(i){e._viewZone&&i.removeZone(e._viewZone.id),e._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}},{key:"create",value:function(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new ql(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}},{key:"style",value:function(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}},{key:"_applyStyles",value:function(){if(this.container&&this.options.frameColor){var e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){var i=this.options.arrowColor.toString();this._arrow.color=i}}},{key:"_getWidth",value:function(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}},{key:"_getLeft",value:function(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}},{key:"_onViewZoneTop",value:function(e){this.domNode.style.top=e+"px"}},{key:"_onViewZoneHeight",value:function(e){var i;if(this.domNode.style.height="".concat(e,"px"),this.container){var t=e-this._decoratingElementsHeight();this.container.style.height="".concat(t,"px");var n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}(i=this._resizeSash)===null||i===void 0||i.layout()}},{key:"position",get:function(){var e=this._positionMarkerId.getRange(0);if(!!e)return e.getStartPosition()}},{key:"show",value:function(e,i){var t=Ze.a.isIRange(e)?Ze.a.lift(e):Ze.a.fromPositions(e);this._isShowing=!0,this._showImpl(t,i),this._isShowing=!1,this._positionMarkerId.set([{range:t,options:hn.b.EMPTY}])}},{key:"hide",value:function(){var e=this,i;this._viewZone&&(this.editor.changeViewZones(function(t){e._viewZone&&t.removeZone(e._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(i=this._arrow)===null||i===void 0||i.hide(),this._positionMarkerId.clear()}},{key:"_decoratingElementsHeight",value:function(){var e=this.editor.getOption(64),i=0;if(this.options.showArrow){var t=Math.round(e/3);i+=2*t}if(this.options.showFrame){var n=Math.round(e/9);i+=2*n}return i}},{key:"_showImpl",value:function(e,i){var t=this,n=e.getStartPosition(),r=this.editor.getLayoutInfo(),l=this._getWidth(r);this.domNode.style.width="".concat(l,"px"),this.domNode.style.left=this._getLeft(r)+"px";var c=document.createElement("div");c.style.overflow="hidden";var h=this.editor.getOption(64);if(!this.options.allowUnlimitedHeight){var f=Math.max(12,this.editor.getLayoutInfo().height/h*.8);i=Math.min(i,f)}var R=0,X=0;if(this._arrow&&this.options.showArrow&&(R=Math.round(h/3),this._arrow.height=R,this._arrow.show(n)),this.options.showFrame&&(X=Math.round(h/9)),this.editor.changeViewZones(function(gt){t._viewZone&&gt.removeZone(t._viewZone.id),t._overlayWidget&&(t.editor.removeOverlayWidget(t._overlayWidget),t._overlayWidget=null),t.domNode.style.top="-1000px",t._viewZone=new rs(c,n.lineNumber,n.column,i,function(jt){return t._onViewZoneTop(jt)},function(jt){return t._onViewZoneHeight(jt)},t.options.showInHiddenAreas,t.options.ordinal),t._viewZone.id=gt.addZone(t._viewZone),t._overlayWidget=new Fl(xl+t._viewZone.id,t.domNode),t.editor.addOverlayWidget(t._overlayWidget)}),this.container&&this.options.showFrame){var oe=this.options.frameWidth?this.options.frameWidth:X;this.container.style.borderTopWidth=oe+"px",this.container.style.borderBottomWidth=oe+"px"}var je=i*h-this._decoratingElementsHeight();this.container&&(this.container.style.top=R+"px",this.container.style.height=je+"px",this.container.style.overflow="hidden"),this._doLayout(je,l),this.options.keepEditorSelection||this.editor.setSelection(e);var Me=this.editor.getModel();if(Me){var st=Me.validateRange(new Ze.a(e.startLineNumber,1,e.endLineNumber+1,1));this.revealRange(st,st.startLineNumber===Me.getLineCount())}}},{key:"revealRange",value:function(e,i){i?this.editor.revealLineNearTop(e.endLineNumber,0):this.editor.revealRange(e,0)}},{key:"setCssClass",value:function(e,i){!this.container||(i&&this.container.classList.remove(i),this.container.classList.add(e))}},{key:"_onWidth",value:function(e){}},{key:"_doLayout",value:function(e,i){}},{key:"_relayout",value:function(e){var i=this;this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(function(t){i._viewZone&&(i._viewZone.heightInLines=e,t.layoutZone(i._viewZone.id))})}},{key:"_initSash",value:function(){var e=this;if(!this._resizeSash){this._resizeSash=this._disposables.add(new fo.b(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);var i;this._disposables.add(this._resizeSash.onDidStart(function(t){e._viewZone&&(i={startY:t.startY,heightInLines:e._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(function(){i=void 0})),this._disposables.add(this._resizeSash.onDidChange(function(t){if(i){var n=(t.currentY-i.startY)/e.editor.getOption(64),r=n<0?Math.ceil(n):Math.floor(n),l=i.heightInLines+r;l>5&&l<35&&e._relayout(l)}}))}}},{key:"getHorizontalSashLeft",value:function(){return 0}},{key:"getHorizontalSashTop",value:function(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}},{key:"getHorizontalSashWidth",value:function(){var e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}]),s}(),Ol=a("eUTo"),eu=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},tu=function(s,o){return function(e,i){o(e,i,s)}},Bl=Object(ia.c)("IPeekViewService");Object(Cs.b)(Bl,function(){function s(){Object(A.a)(this,s),this._widgets=new Map}return Object(P.a)(s,[{key:"addExclusiveWidget",value:function(e,i){var t=this,n=this._widgets.get(e);n&&(n.listener.dispose(),n.widget.dispose());var r=function(){var c=t._widgets.get(e);c&&c.widget===i&&(c.listener.dispose(),t._widgets.delete(e))};this._widgets.set(e,{widget:i,listener:i.onDidClose(r)})}}]),s}(),1);var ns;(function(s){s.inPeekEditor=new Tn.c("inReferenceSearchEditor",!0,We.b("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),s.notInPeekEditor=s.inPeekEditor.toNegated()})(ns||(ns={}));var tl=function(){function s(o,e){Object(A.a)(this,s),o instanceof xa&&ns.inPeekEditor.bindTo(e)}return Object(P.a)(s,[{key:"dispose",value:function(){}}]),s}();tl.ID="editor.contrib.referenceController",tl=eu([tu(1,Tn.b)],tl),Object(wt.m)(tl.ID,tl,0);function as(s){var o=s.get(zt.a).getFocusedCodeEditor();return o instanceof xa?o.getParentEditor():o}var Nu={headerBackgroundColor:Ma.a.white,primaryHeadingColor:Ma.a.fromHex("#333333"),secondaryHeadingColor:Ma.a.fromHex("#6c6c6cb3")},xu=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this,i,t),r.instantiationService=n,r._onDidClose=new ca.b,r.onDidClose=r._onDidClose.event,Ya.g(r.options,Nu,!1),r}return Object(P.a)(e,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this),this._onDidClose.fire(this))}},{key:"style",value:function(t){var n=this.options;t.headerBackgroundColor&&(n.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(n.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(n.secondaryHeadingColor=t.secondaryHeadingColor),Object(bn.a)(Object(An.a)(e.prototype),"style",this).call(this,t)}},{key:"_applyStyles",value:function(){Object(bn.a)(Object(An.a)(e.prototype),"_applyStyles",this).call(this);var t=this.options;this._headElement&&t.headerBackgroundColor&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&t.primaryHeadingColor&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&t.secondaryHeadingColor&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&t.frameColor&&(this._bodyElement.style.borderColor=t.frameColor.toString())}},{key:"_fillContainer",value:function(t){this.setCssClass("peekview-widget"),this._headElement=It.$(".head"),this._bodyElement=It.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),t.appendChild(this._headElement),t.appendChild(this._bodyElement)}},{key:"_fillHead",value:function(t,n){var r=this;this._titleElement=It.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),It.addStandardDisposableListener(this._titleElement,"click",function(h){return r._onTitleClick(h)})),It.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=It.$("span.filename"),this._secondaryHeading=It.$("span.dirname"),this._metaHeading=It.$("span.meta"),It.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);var l=It.$(".peekview-actions");It.append(this._headElement,l);var c=this._getActionBarOptions();this._actionbarWidget=new Us.a(l,c),this._disposables.add(this._actionbarWidget),n||this._actionbarWidget.push(new ka.a("peekview.close",We.b("label.close","Close"),Fa.a.asClassName(Tr.a.close),!0,function(){return r.dispose(),Promise.resolve()}),{label:!1,icon:!0})}},{key:"_fillTitleIcon",value:function(t){}},{key:"_getActionBarOptions",value:function(){return{actionViewItemProvider:Ol.b.bind(void 0,this.instantiationService),orientation:0}}},{key:"_onTitleClick",value:function(t){}},{key:"setTitle",value:function(t,n){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=t,this._primaryHeading.setAttribute("title",t),n?this._secondaryHeading.innerText=n:It.clearNode(this._secondaryHeading))}},{key:"setMetaTitle",value:function(t){this._metaHeading&&(t?(this._metaHeading.innerText=t,It.show(this._metaHeading)):It.hide(this._metaHeading))}},{key:"_doLayout",value:function(t,n){if(!this._isShowing&&t<0){this.dispose();return}var r=Math.ceil(this.editor.getOption(64)*1.2),l=Math.round(t-(r+2));this._doLayoutHead(r,n),this._doLayoutBody(l,n)}},{key:"_doLayoutHead",value:function(t,n){this._headElement&&(this._headElement.style.height="".concat(t,"px"),this._headElement.style.lineHeight=this._headElement.style.height)}},{key:"_doLayoutBody",value:function(t,n){this._bodyElement&&(this._bodyElement.style.height="".concat(t,"px"))}}]),e}(Sc);xu=eu([tu(2,ia.a)],xu);var ah=Object(lt.Fc)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:Ma.a.black,hcLight:Ma.a.white},We.b("peekViewTitleBackground","Background color of the peek view title area.")),oh=Object(lt.Fc)("peekViewTitleLabel.foreground",{dark:Ma.a.white,light:Ma.a.black,hcDark:Ma.a.white,hcLight:lt.O},We.b("peekViewTitleForeground","Color of the peek view title.")),ef=Object(lt.Fc)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},We.b("peekViewTitleInfoForeground","Color of the peek view title info.")),Jf=Object(lt.Fc)("peekView.border",{dark:lt.U,light:lt.U,hcDark:lt.w,hcLight:lt.w},We.b("peekViewBorder","Color of the peek view borders and arrow.")),tf=Object(lt.Fc)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:Ma.a.black,hcLight:Ma.a.white},We.b("peekViewResultsBackground","Background color of the peek view result list.")),sh=Object(lt.Fc)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:Ma.a.white,hcLight:lt.O},We.b("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),Jc=Object(lt.Fc)("peekViewResult.fileForeground",{dark:Ma.a.white,light:"#1E1E1E",hcDark:Ma.a.white,hcLight:lt.O},We.b("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),qf=Object(lt.Fc)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},We.b("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),ev=Object(lt.Fc)("peekViewResult.selectionForeground",{dark:Ma.a.white,light:"#6C6C6C",hcDark:Ma.a.white,hcLight:lt.O},We.b("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),bu=Object(lt.Fc)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:Ma.a.black,hcLight:Ma.a.white},We.b("peekViewEditorBackground","Background color of the peek view editor.")),nf=Object(lt.Fc)("peekViewEditorGutter.background",{dark:bu,light:bu,hcDark:bu,hcLight:bu},We.b("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),yu=Object(lt.Fc)("peekViewEditorStickyScroll.background",{dark:bu,light:bu,hcDark:bu,hcLight:bu},We.b("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),Cm=Object(lt.Fc)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},We.b("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),tv=Object(lt.Fc)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},We.b("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),lh=Object(lt.Fc)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:lt.b,hcLight:lt.b},We.b("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor.")),nc=a("sFUC"),so=a("LloX"),Sl=a("nrhi"),nu=a("k9mg"),nv=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},_u=function(){function s(o,e,i,t){Object(A.a)(this,s),this.isProviderFirst=o,this.parent=e,this.link=i,this._rangeCallback=t,this.id=vs.b.nextId()}return Object(P.a)(s,[{key:"uri",get:function(){return this.link.uri}},{key:"range",get:function(){var e,i;return(i=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&i!==void 0?i:this.link.range},set:function(e){this._range=e,this._rangeCallback(this)}},{key:"ariaMessage",get:function(){var e,i=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return i?Object(We.b)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",i.value,Object(mo.b)(this.uri),this.range.startLineNumber,this.range.startColumn):Object(We.b)("aria.oneReference","in {0} on line {1} at column {2}",Object(mo.b)(this.uri),this.range.startLineNumber,this.range.startColumn)}}]),s}(),uh=function(){function s(o){Object(A.a)(this,s),this._modelReference=o}return Object(P.a)(s,[{key:"dispose",value:function(){this._modelReference.dispose()}},{key:"preview",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,t=this._modelReference.object.textEditorModel;if(!!t){var n=e.startLineNumber,r=e.startColumn,l=e.endLineNumber,c=e.endColumn,h=t.getWordUntilPosition({lineNumber:n,column:r-i}),f=new Ze.a(n,h.startColumn,n,r),R=new Ze.a(l,c,l,1073741824),X=t.getValueInRange(f).replace(/^\s+/,""),oe=t.getValueInRange(e),je=t.getValueInRange(R).replace(/\s+$/,"");return{value:X+oe+je,highlight:{start:X.length,end:X.length+oe.length}}}}}]),s}(),qc=function(){function s(o,e){Object(A.a)(this,s),this.parent=o,this.uri=e,this.children=[],this._previews=new Xl.b}return Object(P.a)(s,[{key:"dispose",value:function(){Object(Ye.i)(this._previews.values()),this._previews.clear()}},{key:"getPreview",value:function(e){return this._previews.get(e.uri)}},{key:"ariaMessage",get:function(){var e=this.children.length;return e===1?Object(We.b)("aria.fileReferences.1","1 symbol in {0}, full path {1}",Object(mo.b)(this.uri),this.uri.fsPath):Object(We.b)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Object(mo.b)(this.uri),this.uri.fsPath)}},{key:"resolve",value:function(e){return nv(this,void 0,void 0,Object(d.a)().mark(function i(){var t,n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this._previews.size===0){h.next=2;break}return h.abrupt("return",this);case 2:t=Object(G.a)(this.children),h.prev=3,t.s();case 5:if((n=t.n()).done){h.next=21;break}if(r=n.value,!this._previews.has(r.uri)){h.next=9;break}return h.abrupt("continue",19);case 9:return h.prev=9,h.next=12,e.createModelReference(r.uri);case 12:l=h.sent,this._previews.set(r.uri,new uh(l)),h.next=19;break;case 16:h.prev=16,h.t0=h.catch(9),Object(Li.h)(h.t0);case 19:h.next=5;break;case 21:h.next=26;break;case 23:h.prev=23,h.t1=h.catch(3),t.e(h.t1);case 26:return h.prev=26,t.f(),h.finish(26);case 29:return h.abrupt("return",this);case 30:case"end":return h.stop()}},i,this,[[3,23,26,29],[9,16]])}))}}]),s}(),ta=function(){function s(o,e){var i=this;Object(A.a)(this,s),this.groups=[],this.references=[],this._onDidChangeReferenceRange=new ca.b,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=o,this._title=e;var t=Object(O.a)(o,1),n=t[0];o.sort(s._compareReferences);var r,l=Object(G.a)(o),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;if((!r||!mo.e.isEqual(r.uri,h.uri,!0))&&(r=new qc(this,h.uri),this.groups.push(r)),r.children.length===0||s._compareReferences(h,r.children[r.children.length-1])!==0){var f=new _u(n===h,r,h,function(R){return i._onDidChangeReferenceRange.fire(R)});this.references.push(f),r.children.push(f)}}}catch(R){l.e(R)}finally{l.f()}}return Object(P.a)(s,[{key:"dispose",value:function(){Object(Ye.i)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}},{key:"clone",value:function(){return new s(this._links,this._title)}},{key:"title",get:function(){return this._title}},{key:"isEmpty",get:function(){return this.groups.length===0}},{key:"ariaMessage",get:function(){return this.isEmpty?Object(We.b)("aria.result.0","No results found"):this.references.length===1?Object(We.b)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?Object(We.b)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Object(We.b)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}},{key:"nextOrPreviousReference",value:function(e,i){var t=e.parent,n=t.children.indexOf(e),r=t.children.length,l=t.parent.groups.length;return l===1||i&&n+1<r||!i&&n>0?(i?n=(n+1)%r:n=(n+r-1)%r,t.children[n]):(n=t.parent.groups.indexOf(t),i?(n=(n+1)%l,t.parent.groups[n].children[0]):(n=(n+l-1)%l,t.parent.groups[n].children[t.parent.groups[n].children.length-1]))}},{key:"nearestReference",value:function(e,i){var t=this.references.map(function(n,r){return{idx:r,prefixLen:vr.f(n.uri.toString(),e.toString()),offsetDist:Math.abs(n.range.startLineNumber-i.lineNumber)*100+Math.abs(n.range.startColumn-i.column)}}).sort(function(n,r){return n.prefixLen>r.prefixLen?-1:n.prefixLen<r.prefixLen?1:n.offsetDist<r.offsetDist?-1:n.offsetDist>r.offsetDist?1:0})[0];if(t)return this.references[t.idx]}},{key:"referenceAt",value:function(e,i){var t=Object(G.a)(this.references),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.uri.toString()===e.toString()&&Ze.a.containsPosition(r.range,i))return r}}catch(l){t.e(l)}finally{t.f()}}},{key:"firstReference",value:function(){var e=Object(G.a)(this.references),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;if(t.isProviderFirst)return t}}catch(n){e.e(n)}finally{e.f()}return this.references[0]}}],[{key:"_compareReferences",value:function(e,i){return mo.e.compare(e.uri,i.uri)||Ze.a.compareRangesUsingStarts(e.range,i.range)}}]),s}(),kc=a("44XX"),no=a("tYmi"),Om=a("rmIC"),jd=a("y0ET"),ch=a("O/se"),Ed=a("7lZ/"),Dc=a("xONI"),gs=a("fpMC"),wc=a("R8sh"),ed=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},td=function(s,o){return function(e,i){o(e,i,s)}},rf=function(){function s(o){Object(A.a)(this,s),this._resolverService=o}return Object(P.a)(s,[{key:"hasChildren",value:function(e){return e instanceof ta||e instanceof qc}},{key:"getChildren",value:function(e){if(e instanceof ta)return e.groups;if(e instanceof qc)return e.resolve(this._resolverService).then(function(i){return i.children});throw new Error("bad tree")}}]),s}();rf=ed([td(0,Qi.a)],rf);var ug=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"getHeight",value:function(){return 23}},{key:"getTemplateId",value:function(e){return e instanceof qc?nd.id:hh.id}}]),s}(),Ld=function(){function s(o){Object(A.a)(this,s),this._keybindingService=o}return Object(P.a)(s,[{key:"getKeyboardNavigationLabel",value:function(e){var i;if(e instanceof _u){var t=(i=e.parent.getPreview(e))===null||i===void 0?void 0:i.preview(e.range);if(t)return t.value}return Object(mo.b)(e.uri)}}]),s}();Ld=ed([td(0,Mi.a)],Ld);var iv=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"getId",value:function(e){return e instanceof _u?e.id:e.uri}}]),s}(),dh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;Object(A.a)(this,e),n=o.call(this),n._labelService=t;var r=document.createElement("div");return r.classList.add("reference-file"),n.file=n._register(new Dc.a(r,{supportHighlights:!0})),n.badge=new ch.a(It.append(r,It.$(".count")),{},Gl.b),i.appendChild(r),n}return Object(P.a)(e,[{key:"set",value:function(t,n){var r=Object(mo.d)(t.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(t.uri),this._labelService.getUriLabel(r,{relative:!0}),{title:this._labelService.getUriLabel(t.uri),matches:n});var l=t.children.length;this.badge.setCount(l),l>1?this.badge.setTitleFormat(Object(We.b)("referencesCount","{0} references",l)):this.badge.setTitleFormat(Object(We.b)("referenceCount","{0} reference",l))}}]),e}(Ye.a);dh=ed([td(1,wc.a)],dh);var nd=function(){function s(o){Object(A.a)(this,s),this._instantiationService=o,this.templateId=s.id}return Object(P.a)(s,[{key:"renderTemplate",value:function(e){return this._instantiationService.createInstance(dh,e)}},{key:"renderElement",value:function(e,i,t){t.set(e.element,Object(gs.d)(e.filterData))}},{key:"disposeTemplate",value:function(e){e.dispose()}}]),s}();nd.id="FileReferencesRenderer",nd=ed([td(0,ia.a)],nd);var rv=function(){function s(o){Object(A.a)(this,s),this.label=new Ed.a(o)}return Object(P.a)(s,[{key:"set",value:function(e,i){var t,n=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(!n||!n.value)this.label.set("".concat(Object(mo.b)(e.uri),":").concat(e.range.startLineNumber+1,":").concat(e.range.startColumn+1));else{var r=n.value,l=n.highlight;i&&!gs.a.isDefault(i)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(r,Object(gs.d)(i))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(r,[l]))}}}]),s}(),hh=function(){function s(){Object(A.a)(this,s),this.templateId=s.id}return Object(P.a)(s,[{key:"renderTemplate",value:function(e){return new rv(e)}},{key:"renderElement",value:function(e,i,t){t.set(e.element,e.filterData)}},{key:"disposeTemplate",value:function(){}}]),s}();hh.id="OneReferenceRenderer";var av=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"getWidgetAriaLabel",value:function(){return Object(We.b)("treeAriaLabel","References")}},{key:"getAriaLabel",value:function(e){return e.ariaMessage}}]),s}(),ov=a("OAO6"),sv=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},iu=function(s,o){return function(e,i){o(e,i,s)}},af=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},fh=function(){function s(o,e){var i=this;Object(A.a)(this,s),this._editor=o,this._model=e,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Ye.c,this._callOnModelChange=new Ye.c,this._callOnDispose.add(this._editor.onDidChangeModel(function(){return i._onModelChanged()})),this._onModelChanged()}return Object(P.a)(s,[{key:"dispose",value:function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}},{key:"_onModelChanged",value:function(){this._callOnModelChange.clear();var e=this._editor.getModel();if(!!e){var i=Object(G.a)(this._model.references),t;try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.uri.toString()===e.uri.toString()){this._addDecorations(n.parent);return}}}catch(r){i.e(r)}finally{i.f()}}}},{key:"_addDecorations",value:function(e){var i=this;if(!!this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(function(){return i._onDecorationChanged()}));for(var t=[],n=[],r=0,l=e.children.length;r<l;r++){var c=e.children[r];this._decorationIgnoreSet.has(c.id)||c.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:c.range,options:s.DecorationOptions}),n.push(r))}this._editor.changeDecorations(function(h){for(var f=h.deltaDecorations([],t),R=0;R<f.length;R++)i._decorations.set(f[R],e.children[n[R]])})}}},{key:"_onDecorationChanged",value:function(){var e=[],i=this._editor.getModel();if(!!i){var t=Object(G.a)(this._decorations),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=Object(O.a)(r,2),c=l[0],h=l[1],f=i.getDecorationRange(c);if(!!f){var R=!1;if(!Ze.a.equalsRange(f,h.range)){if(Ze.a.spansMultipleLines(f))R=!0;else{var X=h.range.endColumn-h.range.startColumn,oe=f.endColumn-f.startColumn;X!==oe&&(R=!0)}R?(this._decorationIgnoreSet.add(h.id),e.push(c)):h.range=f}}}}catch(st){t.e(st)}finally{t.f()}for(var je=0,Me=e.length;je<Me;je++)this._decorations.delete(e[je]);this._editor.removeDecorations(e)}}},{key:"removeDecorations",value:function(){this._editor.removeDecorations(Object(on.a)(this._decorations.keys())),this._decorations.clear()}}]),s}();fh.DecorationOptions=hn.b.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});var lv=function(){function s(){Object(A.a)(this,s),this.ratio=.7,this.heightInLines=18}return Object(P.a)(s,null,[{key:"fromJSON",value:function(e){var i,t;try{var n=JSON.parse(e);i=n.ratio,t=n.heightInLines}catch(r){}return{ratio:i||.7,heightInLines:t||18}}}]),s}(),uv=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e)}(nu.c),vh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h,f,R,X,oe,je){var Me;return Object(A.a)(this,e),Me=o.call(this,i,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},c),Me._defaultTreeKeyboardSupport=t,Me.layoutData=n,Me._textModelResolverService=l,Me._instantiationService=c,Me._peekViewService=h,Me._uriLabel=f,Me._undoRedoService=R,Me._keybindingService=X,Me._languageService=oe,Me._languageConfigurationService=je,Me._disposeOnNewModel=new Ye.c,Me._callOnDispose=new Ye.c,Me._onDidSelectReference=new ca.b,Me.onDidSelectReference=Me._onDidSelectReference.event,Me._dim=new It.Dimension(0,0),Me._applyTheme(r.getColorTheme()),Me._callOnDispose.add(r.onDidColorThemeChange(Me._applyTheme.bind(Object(nn.a)(Me)))),Me._peekViewService.addExclusiveWidget(i,Object(nn.a)(Me)),Me.create(),Me}return Object(P.a)(e,[{key:"dispose",value:function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Object(Ye.i)(this._preview),Object(Ye.i)(this._previewNotAvailableMessage),Object(Ye.i)(this._tree),Object(Ye.i)(this._previewModelReference),this._splitView.dispose(),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"_applyTheme",value:function(t){var n=t.getColor(Jf)||Ma.a.transparent;this.style({arrowColor:n,frameColor:n,headerBackgroundColor:t.getColor(ah)||Ma.a.transparent,primaryHeadingColor:t.getColor(oh),secondaryHeadingColor:t.getColor(ef)})}},{key:"show",value:function(t){Object(bn.a)(Object(An.a)(e.prototype),"show",this).call(this,t,this.layoutData.heightInLines||18)}},{key:"focusOnReferenceTree",value:function(){this._tree.domFocus()}},{key:"focusOnPreviewEditor",value:function(){this._preview.focus()}},{key:"isPreviewEditorFocused",value:function(){return this._preview.hasTextFocus()}},{key:"_onTitleClick",value:function(t){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"title"})}},{key:"_fillBody",value:function(t){var n=this;this.setCssClass("reference-zone-widget"),this._messageContainer=It.append(t,It.$("div.messages")),It.hide(this._messageContainer),this._splitView=new kc.b(t,{orientation:1}),this._previewContainer=It.append(t,It.$("div.preview.inline"));var r={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(xa,this._previewContainer,r,{},this.editor),It.hide(this._previewContainer),this._previewNotAvailableMessage=new hn.c(We.b("missingPreviewMessage","no preview available"),jd.b,hn.c.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=It.append(t,It.$("div.ref-tree.inline"));var l={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new av,keyboardNavigationLabelProvider:this._instantiationService.createInstance(Ld),identityProvider:new iv,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:tf}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(It.addStandardDisposableListener(this._treeContainer,"keydown",function(h){h.equals(9)&&(n._keybindingService.dispatchEvent(h,h.target),h.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(uv,"ReferencesWidget",this._treeContainer,new ug,[this._instantiationService.createInstance(nd),this._instantiationService.createInstance(hh)],this._instantiationService.createInstance(rf),l),this._splitView.addView({onDidChange:ca.c.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(f){n._preview.layout({height:n._dim.height,width:f})}},kc.a.Distribute),this._splitView.addView({onDidChange:ca.c.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(f){n._treeContainer.style.height="".concat(n._dim.height,"px"),n._treeContainer.style.width="".concat(f,"px"),n._tree.layout(n._dim.height,f)}},kc.a.Distribute),this._disposables.add(this._splitView.onDidSashChange(function(){n._dim.width&&(n.layoutData.ratio=n._splitView.getViewSize(0)/n._dim.width)},void 0));var c=function(f,R){f instanceof _u&&(R==="show"&&n._revealReference(f,!1),n._onDidSelectReference.fire({element:f,kind:R,source:"tree"}))};this._tree.onDidOpen(function(h){h.sideBySide?c(h.element,"side"):h.editorOptions.pinned?c(h.element,"goto"):c(h.element,"show")}),It.hide(this._treeContainer)}},{key:"_onWidth",value:function(t){this._dim&&this._doLayoutBody(this._dim.height,t)}},{key:"_doLayoutBody",value:function(t,n){Object(bn.a)(Object(An.a)(e.prototype),"_doLayoutBody",this).call(this,t,n),this._dim=new It.Dimension(n,t),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(n),this._splitView.resizeView(0,n*this.layoutData.ratio)}},{key:"setSelection",value:function(t){var n=this;return this._revealReference(t,!0).then(function(){!n._model||(n._tree.setSelection([t]),n._tree.setFocus([t]))})}},{key:"setModel",value:function(t){return this._disposeOnNewModel.clear(),this._model=t,this._model?this._onNewModel():Promise.resolve()}},{key:"_onNewModel",value:function(){var t=this;return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=We.b("noResults","No results"),It.show(this._messageContainer),Promise.resolve(void 0)):(It.hide(this._messageContainer),this._decorationsManager=new fh(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(function(n){return t._tree.rerender(n)})),this._disposeOnNewModel.add(this._preview.onMouseDown(function(n){var r=n.event,l=n.target;if(r.detail===2){var c=t._getFocusedReference();!c||t._onDidSelectReference.fire({element:{uri:c.uri,range:l.range},kind:r.ctrlKey||r.metaKey||r.altKey?"side":"open",source:"editor"})}})),this.container.classList.add("results-loaded"),It.show(this._treeContainer),It.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}},{key:"_getFocusedReference",value:function(){var t=this._tree.getFocus(),n=Object(O.a)(t,1),r=n[0];if(r instanceof _u)return r;if(r instanceof qc&&r.children.length>0)return r.children[0]}},{key:"revealReference",value:function(t){return af(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this._revealReference(t,!1);case 2:this._onDidSelectReference.fire({element:t,kind:"goto",source:"tree"});case 3:case"end":return l.stop()}},n,this)}))}},{key:"_revealReference",value:function(t,n){return af(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(this._revealedReference!==t){oe.next=2;break}return oe.abrupt("return");case 2:if(this._revealedReference=t,t.uri.scheme!==no.c.inMemory?this.setTitle(Object(mo.c)(t.uri),this._uriLabel.getUriLabel(Object(mo.d)(t.uri))):this.setTitle(We.b("peekView.alternateTitle","References")),l=this._textModelResolverService.createModelReference(t.uri),this._tree.getInput()!==t.parent){oe.next=9;break}this._tree.reveal(t),oe.next=13;break;case 9:return n&&this._tree.reveal(t.parent),oe.next=12,this._tree.expand(t.parent);case 12:this._tree.reveal(t);case 13:return oe.next=15,l;case 15:if(c=oe.sent,this._model){oe.next=19;break}return c.dispose(),oe.abrupt("return");case 19:Object(Ye.i)(this._previewModelReference),h=c.object,h?(f=this._preview.getModel()===h.textEditorModel?0:1,R=Ze.a.lift(t.range).collapseToStart(),this._previewModelReference=c,this._preview.setModel(h.textEditorModel),this._preview.setSelection(R),this._preview.revealRangeInCenter(R,f)):(this._preview.setModel(this._previewNotAvailableMessage),c.dispose());case 22:case"end":return oe.stop()}},r,this)}))}}]),e}(xu);vh=sv([iu(3,si.b),iu(4,Qi.a),iu(5,ia.a),iu(6,Bl),iu(7,wc.a),iu(8,ov.a),iu(9,Mi.a),iu(10,Ti.a),iu(11,po.a)],vh);var of=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},jc=function(s,o){return function(e,i){o(e,i,s)}},sf=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},ic=new Tn.c("referenceSearchVisible",!1,We.b("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'")),Cu=function(){function s(o,e,i,t,n,r,l,c){Object(A.a)(this,s),this._defaultTreeKeyboardSupport=o,this._editor=e,this._editorService=t,this._notificationService=n,this._instantiationService=r,this._storageService=l,this._configurationService=c,this._disposables=new Ye.c,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ic.bindTo(i)}return Object(P.a)(s,[{key:"dispose",value:function(){var e,i;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(i=this._model)===null||i===void 0||i.dispose(),this._widget=void 0,this._model=void 0}},{key:"toggleWidget",value:function(e,i,t){var n=this,r;if(this._widget&&(r=this._widget.position),this.closeWidget(),!(!!r&&e.containsPosition(r))){this._peekMode=t,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(function(){n.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(function(){n._ignoreModelChangeEvent||n.closeWidget()}));var l="peekViewLayout",c=lv.fromJSON(this._storageService.get(l,0,"{}"));this._widget=this._instantiationService.createInstance(vh,this._editor,this._defaultTreeKeyboardSupport,c),this._widget.setTitle(We.b("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(function(){i.cancel(),n._widget&&(n._storageService.store(l,JSON.stringify(n._widget.layoutData),0,1),n._widget=void 0),n.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(function(f){var R=f.element,X=f.kind;if(!!R)switch(X){case"open":(f.source!=="editor"||!n._configurationService.getValue("editor.stablePeek"))&&n.openReference(R,!1,!1);break;case"side":n.openReference(R,!0,!1);break;case"goto":t?n._gotoReference(R,!0):n.openReference(R,!1,!0);break}}));var h=++this._requestIdPool;i.then(function(f){var R;if(h!==n._requestIdPool||!n._widget){f.dispose();return}return(R=n._model)===null||R===void 0||R.dispose(),n._model=f,n._widget.setModel(n._model).then(function(){if(n._widget&&n._model&&n._editor.hasModel()){n._model.isEmpty?n._widget.setMetaTitle(""):n._widget.setMetaTitle(We.b("metaTitle.N","{0} ({1})",n._model.title,n._model.references.length));var X=n._editor.getModel().uri,oe=new nt.a(e.startLineNumber,e.startColumn),je=n._model.nearestReference(X,oe);if(je)return n._widget.setSelection(je).then(function(){n._widget&&n._editor.getOption(84)==="editor"&&n._widget.focusOnPreviewEditor()})}})},function(f){n._notificationService.error(f)})}}},{key:"changeFocusBetweenPreviewAndReferences",value:function(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}},{key:"goToNextOrPreviousReference",value:function(e){return sf(this,void 0,void 0,Object(d.a)().mark(function i(){var t,n,r,l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(!this._editor.hasModel()||!this._model||!this._widget)){f.next=2;break}return f.abrupt("return");case 2:if(t=this._widget.position,t){f.next=5;break}return f.abrupt("return");case 5:if(n=this._model.nearestReference(this._editor.getModel().uri,t),n){f.next=8;break}return f.abrupt("return");case 8:return r=this._model.nextOrPreviousReference(n,e),l=this._editor.hasTextFocus(),c=this._widget.isPreviewEditorFocused(),f.next=13,this._widget.setSelection(r);case 13:return f.next=15,this._gotoReference(r,!1);case 15:l?this._editor.focus():this._widget&&c&&this._widget.focusOnPreviewEditor();case 16:case"end":return f.stop()}},i,this)}))}},{key:"revealReference",value:function(e){return sf(this,void 0,void 0,Object(d.a)().mark(function i(){return Object(d.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(!this._editor.hasModel()||!this._model||!this._widget)){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,this._widget.revealReference(e);case 4:case"end":return n.stop()}},i,this)}))}},{key:"closeWidget",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i,t;(i=this._widget)===null||i===void 0||i.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}},{key:"_gotoReference",value:function(e,i){var t=this,n;(n=this._widget)===null||n===void 0||n.hide(),this._ignoreModelChangeEvent=!0;var r=Ze.a.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:r,selectionSource:"code.jump",pinned:i}},this._editor).then(function(l){var c;if(t._ignoreModelChangeEvent=!1,!l||!t._widget){t.closeWidget();return}if(t._editor===l)t._widget.show(r),t._widget.focusOnReferenceTree();else{var h=s.get(l),f=t._model.clone();t.closeWidget(),l.focus(),h==null||h.toggleWidget(r,Object(mt.k)(function(R){return Promise.resolve(f)}),(c=t._peekMode)!==null&&c!==void 0?c:!1)}},function(l){t._ignoreModelChangeEvent=!1,Object(Li.h)(l)})}},{key:"openReference",value:function(e,i,t){i||this.closeWidget();var n=e.uri,r=e.range;this._editorService.openCodeEditor({resource:n,options:{selection:r,selectionSource:"code.jump",pinned:t}},this._editor,i)}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();Cu.ID="editor.contrib.referencesController",Cu=of([jc(2,Tn.b),jc(3,zt.a),jc(4,Ra.a),jc(5,ia.a),jc(6,el.a),jc(7,Do.a)],Cu);function rc(s,o){var e=as(s);if(!!e){var i=Cu.get(e);i&&o(i)}}Sl.a.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Object(Ii.c)(2048|41,60),when:Tn.a.or(ic,ns.inPeekEditor),handler:function(o){rc(o,function(e){e.changeFocusBetweenPreviewAndReferences()})}}),Sl.a.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:Tn.a.or(ic,ns.inPeekEditor),handler:function(o){rc(o,function(e){e.goToNextOrPreviousReference(!0)})}}),Sl.a.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:Tn.a.or(ic,ns.inPeekEditor),handler:function(o){rc(o,function(e){e.goToNextOrPreviousReference(!1)})}}),$r.a.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),$r.a.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),$r.a.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),$r.a.registerCommand("closeReferenceSearch",function(s){return rc(s,function(o){return o.closeWidget()})}),Sl.a.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:Tn.a.and(ns.inPeekEditor,Tn.a.not("config.editor.stablePeek"))}),Sl.a.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:Tn.a.and(ic,Tn.a.not("config.editor.stablePeek"))}),Sl.a.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:Tn.a.and(ic,nu.e,nu.f.negate(),nu.g.negate()),handler:function(o){var e,i=o.get(nu.a),t=(e=i.lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(t)&&t[0]instanceof _u&&rc(o,function(n){return n.revealReference(t[0])})}}),Sl.a.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:Tn.a.and(ic,nu.e,nu.f.negate(),nu.g.negate()),handler:function(o){var e,i=o.get(nu.a),t=(e=i.lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(t)&&t[0]instanceof _u&&rc(o,function(n){return n.openReference(t[0],!0,!0)})}}),$r.a.registerCommand("openReference",function(s){var o,e=s.get(nu.a),i=(o=e.lastFocusedList)===null||o===void 0?void 0:o.getFocus();Array.isArray(i)&&i[0]instanceof _u&&rc(s,function(t){return t.openReference(i[0],!1,!0)})});var lf=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},id=function(s,o){return function(e,i){o(e,i,s)}},Md=new Tn.c("hasSymbols",!1,Object(We.b)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),gh=Object(ia.c)("ISymbolNavigationService"),mh=function(){function s(o,e,i,t){Object(A.a)(this,s),this._editorService=e,this._notificationService=i,this._keybindingService=t,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Md.bindTo(o)}return Object(P.a)(s,[{key:"reset",value:function(){var e,i;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(i=this._currentMessage)===null||i===void 0||i.dispose(),this._currentModel=void 0,this._currentIdx=-1}},{key:"put",value:function(e){var i=this,t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();var n=new ph(this._editorService),r=n.onDidChange(function(l){if(!i._ignoreEditorChange){var c=i._editorService.getActiveCodeEditor();if(!!c){var h=c.getModel(),f=c.getPosition();if(!(!h||!f)){var R=!1,X=!1,oe=Object(G.a)(t.references),je;try{for(oe.s();!(je=oe.n()).done;){var Me=je.value;if(Object(mo.g)(Me.uri,h.uri))R=!0,X=X||Ze.a.containsPosition(Me.range,f);else if(R)break}}catch(st){oe.e(st)}finally{oe.f()}(!R||!X)&&i.reset()}}}});this._currentState=Object(Ye.h)(n,r)}},{key:"revealNext",value:function(e){var i=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:Ze.a.collapseToStart(t.range),selectionRevealType:3}},e).finally(function(){i._ignoreEditorChange=!1})}},{key:"_showMessage",value:function(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();var i=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),t=i?Object(We.b)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,i.getLabel()):Object(We.b)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)}}]),s}();mh=lf([id(0,Tn.b),id(1,zt.a),id(2,Ra.a),id(3,Mi.a)],mh),Object(Cs.b)(gh,mh,1),Object(wt.l)(new(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:Md,kbOpts:{weight:100,primary:70}})}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n){return t.get(gh).revealNext(n)}}]),e}(wt.d))),Sl.a.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Md,primary:9,handler:function(o){o.get(gh).reset()}});var ph=function(){function s(o){Object(A.a)(this,s),this._listener=new Map,this._disposables=new Ye.c,this._onDidChange=new ca.b,this.onDidChange=this._onDidChange.event,this._disposables.add(o.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(o.onCodeEditorAdd(this._onDidAddEditor,this)),o.listCodeEditors().forEach(this._onDidAddEditor,this)}return Object(P.a)(s,[{key:"dispose",value:function(){this._disposables.dispose(),this._onDidChange.dispose(),Object(Ye.i)(this._listener.values())}},{key:"_onDidAddEditor",value:function(e){var i=this;this._listener.set(e,Object(Ye.h)(e.onDidChangeCursorPosition(function(t){return i._onDidChange.fire({editor:e})}),e.onDidChangeModelContent(function(t){return i._onDidChange.fire({editor:e})})))}},{key:"_onDidRemoveEditor",value:function(e){var i;(i=this._listener.get(e))===null||i===void 0||i.dispose(),this._listener.delete(e)}}]),s}();ph=lf([id(0,zt.a)],ph);var bh=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function rd(s,o,e,i){return bh(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return n=e.ordered(s),r=n.map(function(f){return Promise.resolve(i(f,s,o)).then(void 0,function(R){Object(Li.i)(R)})}),h.next=4,Promise.all(r);case 4:return l=h.sent,h.abrupt("return",Object(Wn.f)(l.flat()));case 6:case"end":return h.stop()}},t)}))}function Td(s,o,e,i){return rd(o,e,s,function(t,n,r){return t.provideDefinition(n,r,i)})}function uf(s,o,e,i){return rd(o,e,s,function(t,n,r){return t.provideDeclaration(n,r,i)})}function cv(s,o,e,i){return rd(o,e,s,function(t,n,r){return t.provideImplementation(n,r,i)})}function Id(s,o,e,i){return rd(o,e,s,function(t,n,r){return t.provideTypeDefinition(n,r,i)})}function Pd(s,o,e,i,t){var n=this;return rd(o,e,s,function(r,l,c){return bh(n,void 0,void 0,Object(d.a)().mark(function h(){var f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,r.provideReferences(l,c,{includeDeclaration:!0},t);case 2:if(f=oe.sent,!(!i||!f||f.length!==2)){oe.next=5;break}return oe.abrupt("return",f);case 5:return oe.next=7,r.provideReferences(l,c,{includeDeclaration:!1},t);case 7:if(R=oe.sent,!(R&&R.length===1)){oe.next=10;break}return oe.abrupt("return",R);case 10:return oe.abrupt("return",f);case 11:case"end":return oe.stop()}},h)}))})}function ad(s){return bh(this,void 0,void 0,Object(d.a)().mark(function o(){var e,i,t;return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s();case 2:return e=r.sent,i=new ta(e,""),t=i.references.map(function(l){return l.link}),i.dispose(),r.abrupt("return",t);case 7:case"end":return r.stop()}},o)}))}Object(wt.o)("_executeDefinitionProvider",function(s,o,e){var i=s.get($i.a),t=Td(i.definitionProvider,o,e,Zn.a.None);return ad(function(){return t})}),Object(wt.o)("_executeTypeDefinitionProvider",function(s,o,e){var i=s.get($i.a),t=Id(i.typeDefinitionProvider,o,e,Zn.a.None);return ad(function(){return t})}),Object(wt.o)("_executeDeclarationProvider",function(s,o,e){var i=s.get($i.a),t=uf(i.declarationProvider,o,e,Zn.a.None);return ad(function(){return t})}),Object(wt.o)("_executeReferenceProvider",function(s,o,e){var i=s.get($i.a),t=Pd(i.referenceProvider,o,e,!1,Zn.a.None);return ad(function(){return t})}),Object(wt.o)("_executeImplementationProvider",function(s,o,e){var i=s.get($i.a),t=cv(i.implementationProvider,o,e,Zn.a.None);return ad(function(){return t})});var Ou=a("JYp7"),kl=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},yh,Ec,Ad,_h,Rd,od,Ch,Oh;Ht.e.appendMenuItem(Ht.c.EditorContext,{submenu:Ht.c.EditorContextPeek,title:We.b("peek.submenu","Peek"),group:"navigation",order:100});var Lc=function(){function s(o,e){Object(A.a)(this,s),this.model=o,this.position=e}return Object(P.a)(s,null,[{key:"is",value:function(e){return!e||typeof e!="object"?!1:!!(e instanceof s||nt.a.isIPosition(e.position)&&e.model)}}]),s}(),Su=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this,e._patchConfig(t)),n.configuration=i,e._allSymbolNavigationCommands.set(t.id,Object(nn.a)(n)),n}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n,r,l){var c=this;if(!n.hasModel())return Promise.resolve(void 0);var h=t.get(Ra.a),f=t.get(zt.a),R=t.get(Ua.a),X=t.get(gh),oe=t.get($i.a),je=t.get(ia.a),Me=n.getModel(),st=n.getPosition(),gt=Lc.is(r)?r:new Lc(Me,st),jt=new ja.b(n,1|4),Xt=Object(mt.o)(this._getLocationModel(oe,gt.model,gt.position,jt.token),jt.token).then(function(sn){return kl(c,void 0,void 0,Object(d.a)().mark(function qn(){var Hn=this,fi,Ci,wi,Ai,jr;return Object(d.a)().wrap(function(Dr){for(;;)switch(Dr.prev=Dr.next){case 0:if(!(!sn||jt.token.isCancellationRequested)){Dr.next=2;break}return Dr.abrupt("return");case 2:if(Object(Rn.a)(sn.ariaMessage),sn.referenceAt(Me.uri,st)&&(wi=this._getAlternativeCommand(n),!e._activeAlternativeCommands.has(wi)&&e._allSymbolNavigationCommands.has(wi)&&(Ci=e._allSymbolNavigationCommands.get(wi))),Ai=sn.references.length,Ai!==0){Dr.next=9;break}this.configuration.muteMessage||(jr=Me.getWordAtPosition(st),(fi=ps.get(n))===null||fi===void 0||fi.showMessage(this._getNoResultFoundMessage(jr),st)),Dr.next=15;break;case 9:if(!(Ai===1&&Ci)){Dr.next=14;break}e._activeAlternativeCommands.add(this.desc.id),je.invokeFunction(function(Kr){return Ci.runEditorCommand(Kr,n,r,l).finally(function(){e._activeAlternativeCommands.delete(Hn.desc.id)})}),Dr.next=15;break;case 14:return Dr.abrupt("return",this._onResult(f,X,n,sn,l));case 15:case"end":return Dr.stop()}},qn,this)}))},function(sn){h.error(sn)}).finally(function(){jt.dispose()});return R.showWhile(Xt,250),Xt}},{key:"_onResult",value:function(t,n,r,l,c){return kl(this,void 0,void 0,Object(d.a)().mark(function h(){var f,R,X,oe;return Object(d.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(f=this._getGoToPreference(r),!(!(r instanceof xa)&&(this.configuration.openInPeek||f==="peek"&&l.references.length>1))){Me.next=5;break}this._openInPeek(r,l,c),Me.next=12;break;case 5:return R=l.firstReference(),X=l.references.length>1&&f==="gotoAndPeek",Me.next=9,this._openReference(r,t,R,this.configuration.openToSide,!X);case 9:oe=Me.sent,X&&oe?this._openInPeek(oe,l,c):l.dispose(),f==="goto"&&n.put(R);case 12:case"end":return Me.stop()}},h,this)}))}},{key:"_openReference",value:function(t,n,r,l,c){return kl(this,void 0,void 0,Object(d.a)().mark(function h(){var f,R,X,oe;return Object(d.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(f=void 0,Object(so.o)(r)&&(f=r.targetSelectionRange),f||(f=r.range),f){Me.next=5;break}return Me.abrupt("return",void 0);case 5:return Me.next=7,n.openCodeEditor({resource:r.uri,options:{selection:Ze.a.collapseToStart(f),selectionRevealType:3,selectionSource:"code.jump"}},t,l);case 7:if(R=Me.sent,R){Me.next=10;break}return Me.abrupt("return",void 0);case 10:return c&&(X=R.getModel(),oe=R.createDecorationsCollection([{range:f,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]),setTimeout(function(){R.getModel()===X&&oe.clear()},350)),Me.abrupt("return",R);case 12:case"end":return Me.stop()}},h)}))}},{key:"_openInPeek",value:function(t,n,r){var l=Cu.get(t);l&&t.hasModel()?l.toggleWidget(r!=null?r:t.getSelection(),Object(mt.k)(function(c){return Promise.resolve(n)}),this.configuration.openInPeek):n.dispose()}}],[{key:"all",value:function(){return e._allSymbolNavigationCommands.values()}},{key:"_patchConfig",value:function(t){var n=Object.assign(Object.assign({},t),{f1:!0});if(n.menu){var r=Object(G.a)(Ou.a.wrap(n.menu)),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;(c.id===Ht.c.EditorContext||c.id===Ht.c.EditorContextPeek)&&(c.when=Tn.a.and(t.precondition,c.when))}}catch(h){r.e(h)}finally{r.f()}}return n}}]),e}(wt.c);Su._allSymbolNavigationCommands=new Map,Su._activeAlternativeCommands=new Set;var Mc=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return kl(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=ta,f.next=3,Td(t.definitionProvider,n,r,l);case 3:return f.t1=f.sent,f.t2=We.b("def.title","Definitions"),f.abrupt("return",new f.t0(f.t1,f.t2));case 6:case"end":return f.stop()}},c)}))}},{key:"_getNoResultFoundMessage",value:function(t){return t&&t.word?We.b("noResultWord","No definition found for '{0}'",t.word):We.b("generic.noResults","No definition found")}},{key:"_getAlternativeCommand",value:function(t){return t.getOption(56).alternativeDefinitionCommand}},{key:"_getGoToPreference",value:function(t){return t.getOption(56).multipleDefinitions}}]),e}(Su),Nd=Mt.m&&!Object(ct.isStandalone)()?2048|70:70;Object(Ht.i)((yh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,title:{value:We.b("actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:We.b({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:Tn.a.and(Ut.a.hasDefinitionProvider,Ut.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:Ut.a.editorTextFocus,primary:Nd,weight:100},menu:[{id:Ht.c.EditorContext,group:"navigation",order:1.1},{id:Ht.c.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),$r.a.registerCommandAlias("editor.action.goToDeclaration",e.id),i}return Object(P.a)(e)}(Mc),yh.id="editor.action.revealDefinition",yh)),Object(Ht.i)((Ec=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this,{openToSide:!0,openInPeek:!1,muteMessage:!1},{id:e.id,title:{value:We.b("actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:Tn.a.and(Ut.a.hasDefinitionProvider,Ut.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,Nd),weight:100}}),$r.a.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id),i}return Object(P.a)(e)}(Mc),Ec.id="editor.action.revealDefinitionAside",Ec)),Object(Ht.i)((Ad=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.id,title:{value:We.b("actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:Tn.a.and(Ut.a.hasDefinitionProvider,ns.notInPeekEditor,Ut.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:Ut.a.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},menu:{id:Ht.c.EditorContextPeek,group:"peek",order:2}}),$r.a.registerCommandAlias("editor.action.previewDeclaration",e.id),i}return Object(P.a)(e)}(Mc),Ad.id="editor.action.peekDefinition",Ad));var cf=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return kl(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=ta,f.next=3,uf(t.declarationProvider,n,r,l);case 3:return f.t1=f.sent,f.t2=We.b("decl.title","Declarations"),f.abrupt("return",new f.t0(f.t1,f.t2));case 6:case"end":return f.stop()}},c)}))}},{key:"_getNoResultFoundMessage",value:function(t){return t&&t.word?We.b("decl.noResultWord","No declaration found for '{0}'",t.word):We.b("decl.generic.noResults","No declaration found")}},{key:"_getAlternativeCommand",value:function(t){return t.getOption(56).alternativeDeclarationCommand}},{key:"_getGoToPreference",value:function(t){return t.getOption(56).multipleDeclarations}}]),e}(Su);Object(Ht.i)((_h=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,title:{value:We.b("actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:We.b({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:Tn.a.and(Ut.a.hasDeclarationProvider,Ut.a.isInWalkThroughSnippet.toNegated()),menu:[{id:Ht.c.EditorContext,group:"navigation",order:1.3},{id:Ht.c.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}return Object(P.a)(e,[{key:"_getNoResultFoundMessage",value:function(t){return t&&t.word?We.b("decl.noResultWord","No declaration found for '{0}'",t.word):We.b("decl.generic.noResults","No declaration found")}}]),e}(cf),_h.id="editor.action.revealDeclaration",_h)),Object(Ht.i)(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:We.b("actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:Tn.a.and(Ut.a.hasDeclarationProvider,ns.notInPeekEditor,Ut.a.isInWalkThroughSnippet.toNegated()),menu:{id:Ht.c.EditorContextPeek,group:"peek",order:3}})}return Object(P.a)(e)}(cf));var df=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return kl(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=ta,f.next=3,Id(t.typeDefinitionProvider,n,r,l);case 3:return f.t1=f.sent,f.t2=We.b("typedef.title","Type Definitions"),f.abrupt("return",new f.t0(f.t1,f.t2));case 6:case"end":return f.stop()}},c)}))}},{key:"_getNoResultFoundMessage",value:function(t){return t&&t.word?We.b("goToTypeDefinition.noResultWord","No type definition found for '{0}'",t.word):We.b("goToTypeDefinition.generic.noResults","No type definition found")}},{key:"_getAlternativeCommand",value:function(t){return t.getOption(56).alternativeTypeDefinitionCommand}},{key:"_getGoToPreference",value:function(t){return t.getOption(56).multipleTypeDefinitions}}]),e}(Su);Object(Ht.i)((Rd=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,title:{value:We.b("actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:We.b({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:Tn.a.and(Ut.a.hasTypeDefinitionProvider,Ut.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:Ut.a.editorTextFocus,primary:0,weight:100},menu:[{id:Ht.c.EditorContext,group:"navigation",order:1.4},{id:Ht.c.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}return Object(P.a)(e)}(df),Rd.ID="editor.action.goToTypeDefinition",Rd)),Object(Ht.i)((od=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,title:{value:We.b("actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:Tn.a.and(Ut.a.hasTypeDefinitionProvider,ns.notInPeekEditor,Ut.a.isInWalkThroughSnippet.toNegated()),menu:{id:Ht.c.EditorContextPeek,group:"peek",order:4}})}return Object(P.a)(e)}(df),od.ID="editor.action.peekTypeDefinition",od));var Sh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return kl(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=ta,f.next=3,cv(t.implementationProvider,n,r,l);case 3:return f.t1=f.sent,f.t2=We.b("impl.title","Implementations"),f.abrupt("return",new f.t0(f.t1,f.t2));case 6:case"end":return f.stop()}},c)}))}},{key:"_getNoResultFoundMessage",value:function(t){return t&&t.word?We.b("goToImplementation.noResultWord","No implementation found for '{0}'",t.word):We.b("goToImplementation.generic.noResults","No implementation found")}},{key:"_getAlternativeCommand",value:function(t){return t.getOption(56).alternativeImplementationCommand}},{key:"_getGoToPreference",value:function(t){return t.getOption(56).multipleImplementations}}]),e}(Su);Object(Ht.i)((Ch=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,title:{value:We.b("actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:We.b({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:Tn.a.and(Ut.a.hasImplementationProvider,Ut.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:Ut.a.editorTextFocus,primary:2048|70,weight:100},menu:[{id:Ht.c.EditorContext,group:"navigation",order:1.45},{id:Ht.c.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}return Object(P.a)(e)}(Sh),Ch.ID="editor.action.goToImplementation",Ch)),Object(Ht.i)((Oh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,title:{value:We.b("actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:Tn.a.and(Ut.a.hasImplementationProvider,ns.notInPeekEditor,Ut.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:Ut.a.editorTextFocus,primary:2048|1024|70,weight:100},menu:{id:Ht.c.EditorContextPeek,group:"peek",order:5}})}return Object(P.a)(e)}(Sh),Oh.ID="editor.action.peekImplementation",Oh));var hf=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"_getNoResultFoundMessage",value:function(t){return t?We.b("references.no","No references found for '{0}'",t.word):We.b("references.noGeneric","No references found")}},{key:"_getAlternativeCommand",value:function(t){return t.getOption(56).alternativeReferenceCommand}},{key:"_getGoToPreference",value:function(t){return t.getOption(56).multipleReferences}}]),e}(Su);Object(Ht.i)(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:We.b("goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:We.b({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:Tn.a.and(Ut.a.hasReferenceProvider,ns.notInPeekEditor,Ut.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:Ut.a.editorTextFocus,primary:1024|70,weight:100},menu:[{id:Ht.c.EditorContext,group:"navigation",order:1.45},{id:Ht.c.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}return Object(P.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return kl(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=ta,f.next=3,Pd(t.referenceProvider,n,r,!0,l);case 3:return f.t1=f.sent,f.t2=We.b("ref.title","References"),f.abrupt("return",new f.t0(f.t1,f.t2));case 6:case"end":return f.stop()}},c)}))}}]),e}(hf)),Object(Ht.i)(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:We.b("references.action.label","Peek References"),original:"Peek References"},precondition:Tn.a.and(Ut.a.hasReferenceProvider,ns.notInPeekEditor,Ut.a.isInWalkThroughSnippet.toNegated()),menu:{id:Ht.c.EditorContextPeek,group:"peek",order:6}})}return Object(P.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return kl(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=ta,f.next=3,Pd(t.referenceProvider,n,r,!1,l);case 3:return f.t1=f.sent,f.t2=We.b("ref.title","References"),f.abrupt("return",new f.t0(f.t1,f.t2));case 6:case"end":return f.stop()}},c)}))}}]),e}(hf));var ff=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this,i,{id:"editor.action.goToLocation",title:{value:We.b("label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:Tn.a.and(ns.notInPeekEditor,Ut.a.isInWalkThroughSnippet.toNegated())}),r._references=t,r._gotoMultipleBehaviour=n,r}return Object(P.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return kl(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",new ta(this._references,We.b("generic.title","Locations")));case 1:case"end":return f.stop()}},c,this)}))}},{key:"_getNoResultFoundMessage",value:function(t){return t&&We.b("generic.noResult","No results for '{0}'",t.word)||""}},{key:"_getGoToPreference",value:function(t){var n;return(n=this._gotoMultipleBehaviour)!==null&&n!==void 0?n:t.getOption(56).multipleReferences}},{key:"_getAlternativeCommand",value:function(){return""}}]),e}(Su);$r.a.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:_r.a},{name:"position",description:"The position at which to start",constraint:nt.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:function(o,e,i,t,n,r,l){return kl(void 0,void 0,void 0,Object(d.a)().mark(function c(){var h,f;return Object(d.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return Object(ya.b)(_r.a.isUri(e)),Object(ya.b)(nt.a.isIPosition(i)),Object(ya.b)(Array.isArray(t)),Object(ya.b)(typeof n=="undefined"||typeof n=="string"),Object(ya.b)(typeof l=="undefined"||typeof l=="boolean"),h=o.get(zt.a),X.next=8,h.openCodeEditor({resource:e},h.getFocusedCodeEditor());case 8:if(f=X.sent,!Object(nc.b)(f)){X.next=13;break}return f.setPosition(i),f.revealPositionInCenterIfOutsideViewport(i,0),X.abrupt("return",f.invokeWithinContext(function(oe){var je=new(function(Me){Object(Pt.a)(gt,Me);var st=Object(yt.a)(gt);function gt(){return Object(A.a)(this,gt),st.apply(this,arguments)}return Object(P.a)(gt,[{key:"_getNoResultFoundMessage",value:function(Xt){return r||Object(bn.a)(Object(An.a)(gt.prototype),"_getNoResultFoundMessage",this).call(this,Xt)}}]),gt}(ff))({muteMessage:!Boolean(r),openInPeek:Boolean(l),openToSide:!1},t,n);oe.get(ia.a).invokeFunction(je.run.bind(je),f)}));case 13:case"end":return X.stop()}},c)}))}}),$r.a.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:_r.a},{name:"position",description:"The position at which to start",constraint:nt.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(o,e,i,t,n){return kl(void 0,void 0,void 0,Object(d.a)().mark(function r(){return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:o.get($r.b).executeCommand("editor.action.goToLocations",e,i,t,n,void 0,!0);case 1:case"end":return c.stop()}},r)}))}}),$r.a.registerCommand({id:"editor.action.findReferences",handler:function(o,e,i){Object(ya.b)(_r.a.isUri(e)),Object(ya.b)(nt.a.isIPosition(i));var t=o.get($i.a),n=o.get(zt.a);return n.openCodeEditor({resource:e},n.getFocusedCodeEditor()).then(function(r){if(!(!Object(nc.b)(r)||!r.hasModel())){var l=Cu.get(r);if(!!l){var c=Object(mt.k)(function(f){return Pd(t.referenceProvider,r.getModel(),nt.a.lift(i),!1,f).then(function(R){return new ta(R,We.b("ref.title","References"))})}),h=new Ze.a(i.lineNumber,i.column,i.lineNumber,i.column);return Promise.resolve(l.toggleWidget(h,c,!1))}}})}}),$r.a.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");var dv=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},kh=function(s,o){return function(e,i){o(e,i,s)}},Dh=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},ac=function(){function s(o,e,i,t){var n=this;Object(A.a)(this,s),this.textModelResolverService=e,this.languageService=i,this.languageFeaturesService=t,this.toUnhook=new Ye.c,this.toUnhookForKeyboard=new Ye.c,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=o,this.linkDecorations=this.editor.createDecorationsCollection();var r=new qr(o);this.toUnhook.add(r),this.toUnhook.add(r.onMouseMoveOrRelevantKeyDown(function(l){var c=Object(O.a)(l,2),h=c[0],f=c[1];n.startFindDefinitionFromMouse(h,Object(ya.n)(f))})),this.toUnhook.add(r.onExecute(function(l){n.isEnabled(l)&&n.gotoDefinition(l.target.position,l.hasSideBySideModifier).catch(function(c){Object(Li.h)(c)}).finally(function(){n.removeLinkDecorations()})})),this.toUnhook.add(r.onCancel(function(){n.removeLinkDecorations(),n.currentWordAtPosition=null}))}return Object(P.a)(s,[{key:"startFindDefinitionFromCursor",value:function(e){return Dh(this,void 0,void 0,Object(d.a)().mark(function i(){var t=this;return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.startFindDefinition(e);case 2:this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(function(){t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(function(l){l&&(t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear())}));case 4:case"end":return r.stop()}},i,this)}))}},{key:"startFindDefinitionFromMouse",value:function(e,i){if(!(e.target.type===9&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(e,i)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}var t=e.target.position;this.startFindDefinition(t)}}},{key:"startFindDefinition",value:function(e){var i;return Dh(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r,l,c,h,f,R,X,oe,je,Me;return Object(d.a)().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:if(this.toUnhookForKeyboard.clear(),r=e?(i=this.editor.getModel())===null||i===void 0?void 0:i.getWordAtPosition(e):null,r){gt.next=6;break}return this.currentWordAtPosition=null,this.removeLinkDecorations(),gt.abrupt("return");case 6:if(!(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===r.startColumn&&this.currentWordAtPosition.endColumn===r.endColumn&&this.currentWordAtPosition.word===r.word)){gt.next=8;break}return gt.abrupt("return");case 8:return this.currentWordAtPosition=r,l=new ja.a(this.editor,4|1|2|8),this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Object(mt.k)(function(jt){return n.findDefinition(e,jt)}),gt.prev=12,gt.next=15,this.previousPromise;case 15:c=gt.sent,gt.next=22;break;case 18:return gt.prev=18,gt.t0=gt.catch(12),Object(Li.h)(gt.t0),gt.abrupt("return");case 22:if(!(!c||!c.length||!l.validate(this.editor))){gt.next=25;break}return this.removeLinkDecorations(),gt.abrupt("return");case 25:if(h=c[0].originSelectionRange?Ze.a.lift(c[0].originSelectionRange):new Ze.a(e.lineNumber,r.startColumn,e.lineNumber,r.endColumn),!(c.length>1)){gt.next=33;break}f=h,R=Object(G.a)(c);try{for(R.s();!(X=R.n()).done;)oe=X.value,je=oe.originSelectionRange,je&&(f=Ze.a.plusRange(f,je))}catch(jt){R.e(jt)}finally{R.f()}this.addDecoration(f,new Sn.a().appendText(We.b("multipleResults","Click to show {0} definitions.",c.length))),gt.next=37;break;case 33:if(Me=c[0],Me.uri){gt.next=36;break}return gt.abrupt("return");case 36:this.textModelResolverService.createModelReference(Me.uri).then(function(jt){if(!jt.object||!jt.object.textEditorModel){jt.dispose();return}var Xt=jt.object.textEditorModel,sn=Me.range.startLineNumber;if(sn<1||sn>Xt.getLineCount()){jt.dispose();return}var qn=n.getPreviewValue(Xt,sn,Me),Hn=n.languageService.guessLanguageIdByFilepathOrFirstLine(Xt.uri);n.addDecoration(h,qn?new Sn.a().appendCodeblock(Hn||"",qn):void 0),jt.dispose()});case 37:case"end":return gt.stop()}},t,this,[[12,18]])}))}},{key:"getPreviewValue",value:function(e,i,t){var n=t.range,r=n.endLineNumber-n.startLineNumber;r>=s.MAX_SOURCE_PREVIEW_LINES&&(n=this.getPreviewRangeBasedOnIndentation(e,i));var l=this.stripIndentationFromPreviewRange(e,i,n);return l}},{key:"stripIndentationFromPreviewRange",value:function(e,i,t){for(var n=e.getLineFirstNonWhitespaceColumn(i),r=n,l=i+1;l<t.endLineNumber;l++){var c=e.getLineFirstNonWhitespaceColumn(l);r=Math.min(r,c)}var h=e.getValueInRange(t).replace(new RegExp("^\\s{".concat(r-1,"}"),"gm"),"").trim();return h}},{key:"getPreviewRangeBasedOnIndentation",value:function(e,i){for(var t=e.getLineFirstNonWhitespaceColumn(i),n=Math.min(e.getLineCount(),i+s.MAX_SOURCE_PREVIEW_LINES),r=i+1;r<n;r++){var l=e.getLineFirstNonWhitespaceColumn(r);if(t===l)break}return new Ze.a(i,1,r+1,1)}},{key:"addDecoration",value:function(e,i){var t={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:i}};this.linkDecorations.set([t])}},{key:"removeLinkDecorations",value:function(){this.linkDecorations.clear()}},{key:"isEnabled",value:function(e,i){var t;return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&e.target.type===6&&!(((t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options)instanceof hn.a)&&(e.hasTriggerModifier||(i?i.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}},{key:"findDefinition",value:function(e,i){var t=this.editor.getModel();return t?Td(this.languageFeaturesService.definitionProvider,t,e,i):Promise.resolve(null)}},{key:"gotoDefinition",value:function(e,i){var t=this;return this.editor.setPosition(e),this.editor.invokeWithinContext(function(n){var r=!i&&t.editor.getOption(85)&&!t.isInPeekEditor(n),l=new Mc({openToSide:i,openInPeek:r,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0});return l.run(n)})}},{key:"isInPeekEditor",value:function(e){var i=e.get(Tn.b);return ns.inPeekEditor.getValue(i)}},{key:"dispose",value:function(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();ac.ID="editor.contrib.gotodefinitionatposition",ac.MAX_SOURCE_PREVIEW_LINES=8,ac=dv([kh(1,Qi.a),kh(2,Ti.a),kh(3,$i.a)],ac),Object(wt.m)(ac.ID,ac,2);var vf=a("uDWl"),Tc=a("GJhM"),cg=a("vAKA"),sd=It.$,xd=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this),i.containerDomNode=document.createElement("div"),i.containerDomNode.className="monaco-hover",i.containerDomNode.tabIndex=0,i.containerDomNode.setAttribute("role","tooltip"),i.contentsDomNode=document.createElement("div"),i.contentsDomNode.className="monaco-hover-content",i.scrollbar=i._register(new Tc.a(i.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),i.containerDomNode.appendChild(i.scrollbar.getDomNode()),i}return Object(P.a)(e,[{key:"onContentsChanged",value:function(){this.scrollbar.scanDomNode()}}]),e}(Ye.a),hv=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;Object(A.a)(this,e),r=o.call(this),r.actionContainer=It.append(i,sd("div.action-container")),r.actionContainer.setAttribute("tabindex","0"),r.action=It.append(r.actionContainer,sd("a.action")),r.action.setAttribute("role","button"),t.iconClass&&It.append(r.action,sd("span.icon.".concat(t.iconClass)));var l=It.append(r.action,sd("span"));return l.textContent=n?"".concat(t.label," (").concat(n,")"):t.label,r._register(It.addDisposableListener(r.actionContainer,It.EventType.CLICK,function(c){c.stopPropagation(),c.preventDefault(),t.run(r.actionContainer)})),r._register(It.addDisposableListener(r.actionContainer,It.EventType.KEY_DOWN,function(c){var h=new vf.a(c);(h.equals(3)||h.equals(10))&&(c.stopPropagation(),c.preventDefault(),t.run(r.actionContainer))})),r.setEnabled(!0),r}return Object(P.a)(e,[{key:"setEnabled",value:function(t){t?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}],[{key:"render",value:function(t,n,r){return new e(t,n,r)}}]),e}(Ye.a),fv=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},gf=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s[Symbol.asyncIterator],e;return o?o.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=s[n]&&function(r){return new Promise(function(l,c){r=s[n](r),t(l,c,r.done,r.value)})}}function t(n,r,l,c){Promise.resolve(c).then(function(h){n({value:h,done:l})},r)}},vv=Object(P.a)(function s(o,e,i){Object(A.a)(this,s),this.value=o,this.isComplete=e,this.hasLoadingMessage=i}),gv=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n._editor=i,n._computer=t,n._onResult=n._register(new ca.b),n.onResult=n._onResult.event,n._firstWaitScheduler=n._register(new mt.g(function(){return n._triggerAsyncComputation()},0)),n._secondWaitScheduler=n._register(new mt.g(function(){return n._triggerSyncComputation()},0)),n._loadingMessageScheduler=n._register(new mt.g(function(){return n._triggerLoadingMessage()},0)),n._state=0,n._asyncIterable=null,n._asyncIterableDone=!1,n._result=[],n}return Object(P.a)(e,[{key:"dispose",value:function(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"_hoverTime",get:function(){return this._editor.getOption(58).delay}},{key:"_firstWaitTime",get:function(){return this._hoverTime/2}},{key:"_secondWaitTime",get:function(){return this._hoverTime-this._firstWaitTime}},{key:"_loadingMessageTime",get:function(){return 3*this._hoverTime}},{key:"_setState",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this._state=t,n&&this._fireResult()}},{key:"_triggerAsyncComputation",value:function(){var t=this;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=Object(mt.j)(function(n){return t._computer.computeAsync(n)}),function(){return fv(t,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R,X,oe;return Object(d.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:Me.prev=0,Me.prev=1,f=!0,R=gf(this._asyncIterable);case 3:return Me.next=5,R.next();case 5:if(X=Me.sent,r=X.done,r){Me.next=15;break}h=X.value,f=!1,oe=h,oe&&(this._result.push(oe),this._fireResult());case 12:f=!0,Me.next=3;break;case 15:Me.next=20;break;case 17:Me.prev=17,Me.t0=Me.catch(1),l={error:Me.t0};case 20:if(Me.prev=20,Me.prev=21,!(!f&&!r&&(c=R.return))){Me.next=25;break}return Me.next=25,c.call(R);case 25:if(Me.prev=25,!l){Me.next=28;break}throw l.error;case 28:return Me.finish(25);case 29:return Me.finish(20);case 30:this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0),Me.next=37;break;case 34:Me.prev=34,Me.t1=Me.catch(0),Object(Li.h)(Me.t1);case 37:case"end":return Me.stop()}},n,this,[[0,34],[1,17,20,30],[21,,25,29]])}))}()):this._asyncIterableDone=!0}},{key:"_triggerSyncComputation",value:function(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}},{key:"_triggerLoadingMessage",value:function(){this._state===3&&this._setState(4)}},{key:"_fireResult",value:function(){if(!(this._state===1||this._state===2)){var t=this._state===0,n=this._state===4;this._onResult.fire(new vv(this._result.slice(0),t,n))}}},{key:"start",value:function(t){if(t===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}},{key:"cancel",value:function(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}]),e}(Ye.a),Ue=function(){function s(o,e,i,t){Object(A.a)(this,s),this.priority=o,this.range=e,this.initialMousePosX=i,this.initialMousePosY=t,this.type=1}return Object(P.a)(s,[{key:"equals",value:function(e){return e.type===1&&this.range.equalsRange(e.range)}},{key:"canAdoptVisibleHover",value:function(e,i){return e.type===1&&i.lineNumber===this.range.startLineNumber}}]),s}(),Be=function(){function s(o,e,i,t,n,r){Object(A.a)(this,s),this.priority=o,this.owner=e,this.range=i,this.initialMousePosX=t,this.initialMousePosY=n,this.supportsMarkerHover=r,this.type=2}return Object(P.a)(s,[{key:"equals",value:function(e){return e.type===2&&this.owner===e.owner}},{key:"canAdoptVisibleHover",value:function(e,i){return e.type===2&&this.owner===e.owner}}]),s}(),St=new(function(){function s(){Object(A.a)(this,s),this._participants=[]}return Object(P.a)(s,[{key:"register",value:function(e){this._participants.push(e)}},{key:"getAll",value:function(){return this._participants}}]),s}()),rt=a("jrin"),ht,Kt=function(){function s(){Object(A.a)(this,s),this.value="",this.pos=0}return Object(P.a)(s,[{key:"text",value:function(e){this.value=e,this.pos=0}},{key:"tokenText",value:function(e){return this.value.substr(e.pos,e.len)}},{key:"next",value:function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var e=this.pos,i=0,t=this.value.charCodeAt(e),n;if(n=s._table[t],typeof n=="number")return this.pos+=1,{type:n,pos:e,len:1};if(s.isDigitCharacter(t)){n=8;do i+=1,t=this.value.charCodeAt(e+i);while(s.isDigitCharacter(t));return this.pos+=i,{type:n,pos:e,len:i}}if(s.isVariableCharacter(t)){n=9;do t=this.value.charCodeAt(e+ ++i);while(s.isVariableCharacter(t)||s.isDigitCharacter(t));return this.pos+=i,{type:n,pos:e,len:i}}n=10;do i+=1,t=this.value.charCodeAt(e+i);while(!isNaN(t)&&typeof s._table[t]=="undefined"&&!s.isDigitCharacter(t)&&!s.isVariableCharacter(t));return this.pos+=i,{type:n,pos:e,len:i}}}],[{key:"isDigitCharacter",value:function(e){return e>=48&&e<=57}},{key:"isVariableCharacter",value:function(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}}]),s}();Kt._table=(ht={},Object(rt.a)(ht,36,0),Object(rt.a)(ht,58,1),Object(rt.a)(ht,44,2),Object(rt.a)(ht,123,3),Object(rt.a)(ht,125,4),Object(rt.a)(ht,92,5),Object(rt.a)(ht,47,6),Object(rt.a)(ht,124,7),Object(rt.a)(ht,43,11),Object(rt.a)(ht,45,12),Object(rt.a)(ht,63,13),ht);var fn=function(){function s(){Object(A.a)(this,s),this._children=[]}return Object(P.a)(s,[{key:"appendChild",value:function(e){return e instanceof tn&&this._children[this._children.length-1]instanceof tn?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}},{key:"replace",value:function(e,i){var t=e.parent,n=t.children.indexOf(e),r=t.children.slice(0);r.splice.apply(r,[n,1].concat(Object(on.a)(i))),t._children=r,function l(c,h){var f=Object(G.a)(c),R;try{for(f.s();!(R=f.n()).done;){var X=R.value;X.parent=h,l(X.children,X)}}catch(oe){f.e(oe)}finally{f.f()}}(i,t)}},{key:"children",get:function(){return this._children}},{key:"rightMostDescendant",get:function(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}},{key:"snippet",get:function(){for(var e=this;;){if(!e)return;if(e instanceof Ni)return e;e=e.parent}}},{key:"toString",value:function(){return this.children.reduce(function(e,i){return e+i.toString()},"")}},{key:"len",value:function(){return 0}}]),s}(),tn=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t.value=i,t}return Object(P.a)(e,[{key:"toString",value:function(){return this.value}},{key:"len",value:function(){return this.value.length}},{key:"clone",value:function(){return new e(this.value)}}]),e}(fn),On=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e)}(fn),Fn=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t.index=i,t}return Object(P.a)(e,[{key:"isFinalTabstop",get:function(){return this.index===0}},{key:"choice",get:function(){return this._children.length===1&&this._children[0]instanceof li?this._children[0]:void 0}},{key:"clone",value:function(){var t=new e(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(function(n){return n.clone()}),t}}],[{key:"compareByIndex",value:function(t,n){return t.index===n.index?0:t.isFinalTabstop?1:n.isFinalTabstop||t.index<n.index?-1:t.index>n.index?1:0}}]),e}(On),li=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.apply(this,arguments),i.options=[],i}return Object(P.a)(e,[{key:"appendChild",value:function(t){return t instanceof tn&&(t.parent=this,this.options.push(t)),this}},{key:"toString",value:function(){return this.options[0].value}},{key:"len",value:function(){return this.options[0].len()}},{key:"clone",value:function(){var t=new e;return this.options.forEach(t.appendChild,t),t}}]),e}(fn),Xn=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.apply(this,arguments),i.regexp=new RegExp(""),i}return Object(P.a)(e,[{key:"resolve",value:function(t){var n=this,r=!1,l=t.replace(this.regexp,function(){return r=!0,n._replace(Array.prototype.slice.call(arguments,0,-2))});return!r&&this._children.some(function(c){return c instanceof Yn&&Boolean(c.elseValue)})&&(l=this._replace([])),l}},{key:"_replace",value:function(t){var n="",r=Object(G.a)(this._children),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;if(c instanceof Yn){var h=t[c.index]||"";h=c.resolve(h),n+=h}else n+=c.toString()}}catch(f){r.e(f)}finally{r.f()}return n}},{key:"toString",value:function(){return""}},{key:"clone",value:function(){var t=new e;return t.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),t._children=this.children.map(function(n){return n.clone()}),t}}]),e}(fn),Yn=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;return Object(A.a)(this,e),l=o.call(this),l.index=i,l.shorthandName=t,l.ifValue=n,l.elseValue=r,l}return Object(P.a)(e,[{key:"resolve",value:function(t){return this.shorthandName==="upcase"?t?t.toLocaleUpperCase():"":this.shorthandName==="downcase"?t?t.toLocaleLowerCase():"":this.shorthandName==="capitalize"?t?t[0].toLocaleUpperCase()+t.substr(1):"":this.shorthandName==="pascalcase"?t?this._toPascalCase(t):"":this.shorthandName==="camelcase"?t?this._toCamelCase(t):"":Boolean(t)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(t)&&typeof this.elseValue=="string"?this.elseValue:t||""}},{key:"_toPascalCase",value:function(t){var n=t.match(/[a-z0-9]+/gi);return n?n.map(function(r){return r.charAt(0).toUpperCase()+r.substr(1)}).join(""):t}},{key:"_toCamelCase",value:function(t){var n=t.match(/[a-z0-9]+/gi);return n?n.map(function(r,l){return l===0?r.charAt(0).toLowerCase()+r.substr(1):r.charAt(0).toUpperCase()+r.substr(1)}).join(""):t}},{key:"clone",value:function(){var t=new e(this.index,this.shorthandName,this.ifValue,this.elseValue);return t}}]),e}(fn),ci=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t.name=i,t}return Object(P.a)(e,[{key:"resolve",value:function(t){var n=t.resolve(this);return this.transform&&(n=this.transform.resolve(n||"")),n!==void 0?(this._children=[new tn(n)],!0):!1}},{key:"clone",value:function(){var t=new e(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(function(n){return n.clone()}),t}}]),e}(On);function ji(s,o){for(var e=Object(on.a)(s);e.length>0;){var i=e.shift(),t=o(i);if(!t)break;e.unshift.apply(e,Object(on.a)(i.children))}}var Ni=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"placeholderInfo",get:function(){if(!this._placeholders){var t=[],n;this.walk(function(r){return r instanceof Fn&&(t.push(r),n=!n||n.index<r.index?r:n),!0}),this._placeholders={all:t,last:n}}return this._placeholders}},{key:"placeholders",get:function(){var t=this.placeholderInfo.all;return t}},{key:"offset",value:function(t){var n=0,r=!1;return this.walk(function(l){return l===t?(r=!0,!1):(n+=l.len(),!0)}),r?n:-1}},{key:"fullLen",value:function(t){var n=0;return ji([t],function(r){return n+=r.len(),!0}),n}},{key:"enclosingPlaceholders",value:function(t){for(var n=[],r=t.parent;r;)r instanceof Fn&&n.push(r),r=r.parent;return n}},{key:"resolveVariables",value:function(t){var n=this;return this.walk(function(r){return r instanceof ci&&r.resolve(t)&&(n._placeholders=void 0),!0}),this}},{key:"appendChild",value:function(t){return this._placeholders=void 0,Object(bn.a)(Object(An.a)(e.prototype),"appendChild",this).call(this,t)}},{key:"replace",value:function(t,n){return this._placeholders=void 0,Object(bn.a)(Object(An.a)(e.prototype),"replace",this).call(this,t,n)}},{key:"clone",value:function(){var t=new e;return this._children=this.children.map(function(n){return n.clone()}),t}},{key:"walk",value:function(t){ji(this.children,t)}}]),e}(fn),Ei=function(){function s(){Object(A.a)(this,s),this._scanner=new Kt,this._token={type:14,pos:0,len:0}}return Object(P.a)(s,[{key:"parse",value:function(e,i,t){var n=new Ni;return this.parseFragment(e,n),this.ensureFinalTabstop(n,t!=null?t:!1,i!=null?i:!1),n}},{key:"parseFragment",value:function(e,i){var t=i.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(i););var n=new Map,r=[];i.walk(function(X){return X instanceof Fn&&(X.isFinalTabstop?n.set(0,void 0):!n.has(X.index)&&X.children.length>0?n.set(X.index,X.children):r.push(X)),!0});for(var l=function X(oe,je){var Me=n.get(oe.index);if(!!Me){var st=new Fn(oe.index);st.transform=oe.transform;var gt=Object(G.a)(Me),jt;try{for(gt.s();!(jt=gt.n()).done;){var Xt=jt.value,sn=Xt.clone();st.appendChild(sn),sn instanceof Fn&&n.has(sn.index)&&!je.has(sn.index)&&(je.add(sn.index),X(sn,je),je.delete(sn.index))}}catch(qn){gt.e(qn)}finally{gt.f()}i.replace(oe,[st])}},c=new Set,h=0,f=r;h<f.length;h++){var R=f[h];l(R,c)}return i.children.slice(t)}},{key:"ensureFinalTabstop",value:function(e,i,t){if(i||t&&e.placeholders.length>0){var n=e.placeholders.find(function(r){return r.index===0});n||e.appendChild(new Fn(0))}}},{key:"_accept",value:function(e,i){if(e===void 0||this._token.type===e){var t=i?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),t}return!1}},{key:"_backTo",value:function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}},{key:"_until",value:function(e){for(var i=this._token;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){var t=this._scanner.next();if(t.type!==0&&t.type!==4&&t.type!==5)return!1}this._token=this._scanner.next()}var n=this._scanner.value.substring(i.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}},{key:"_parse",value:function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}},{key:"_parseEscaped",value:function(e){var i;return(i=this._accept(5,!0))?(i=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||i,e.appendChild(new tn(i)),!0):!1}},{key:"_parseTabstopOrVariableName",value:function(e){var i,t=this._token,n=this._accept(0)&&(i=this._accept(9,!0)||this._accept(8,!0));return n?(e.appendChild(/^\d+$/.test(i)?new Fn(Number(i)):new ci(i)),!0):this._backTo(t)}},{key:"_parseComplexPlaceholder",value:function(e){var i,t=this._token,n=this._accept(0)&&this._accept(3)&&(i=this._accept(8,!0));if(!n)return this._backTo(t);var r=new Fn(Number(i));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new tn("${"+i+":")),r.children.forEach(e.appendChild,e),!0}else if(r.index>0&&this._accept(7))for(var l=new li;;){if(this._parseChoiceElement(l)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(l),this._accept(4)))return e.appendChild(r),!0}return this._backTo(t),!1}else return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(t),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(t)}},{key:"_parseChoiceElement",value:function(e){for(var i=this._token,t=[];!(this._token.type===2||this._token.type===7);){var n=void 0;if((n=this._accept(5,!0))?n=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:n=this._accept(void 0,!0),!n)return this._backTo(i),!1;t.push(n)}return t.length===0?(this._backTo(i),!1):(e.appendChild(new tn(t.join(""))),!0)}},{key:"_parseComplexVariable",value:function(e){var i,t=this._token,n=this._accept(0)&&this._accept(3)&&(i=this._accept(9,!0));if(!n)return this._backTo(t);var r=new ci(i);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new tn("${"+i+":")),r.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(t),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(t)}},{key:"_parseTransform",value:function(e){for(var i=new Xn,t="",n="";!this._accept(6);){var r=void 0;if(r=this._accept(5,!0)){r=this._accept(6,!0)||r,t+=r;continue}if(this._token.type!==14){t+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){var l=void 0;if(l=this._accept(5,!0)){l=this._accept(5,!0)||this._accept(6,!0)||l,i.appendChild(new tn(l));continue}if(!(this._parseFormatString(i)||this._parseAnything(i)))return!1}for(;!this._accept(4);){if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}try{i.regexp=new RegExp(t,n)}catch(c){return!1}return e.transform=i,!0}},{key:"_parseFormatString",value:function(e){var i=this._token;if(!this._accept(0))return!1;var t=!1;this._accept(3)&&(t=!0);var n=this._accept(8,!0);if(n)if(t){if(this._accept(4))return e.appendChild(new Yn(Number(n))),!0;if(!this._accept(1))return this._backTo(i),!1}else return e.appendChild(new Yn(Number(n))),!0;else return this._backTo(i),!1;if(this._accept(6)){var r=this._accept(9,!0);return!r||!this._accept(4)?(this._backTo(i),!1):(e.appendChild(new Yn(Number(n),r)),!0)}else if(this._accept(11)){var l=this._until(4);if(l)return e.appendChild(new Yn(Number(n),void 0,l,void 0)),!0}else if(this._accept(12)){var c=this._until(4);if(c)return e.appendChild(new Yn(Number(n),void 0,void 0,c)),!0}else if(this._accept(13)){var h=this._until(1);if(h){var f=this._until(4);if(f)return e.appendChild(new Yn(Number(n),void 0,h,f)),!0}}else{var R=this._until(4);if(R)return e.appendChild(new Yn(Number(n),void 0,void 0,R)),!0}return this._backTo(i),!1}},{key:"_parseAnything",value:function(e){return this._token.type!==14?(e.appendChild(new tn(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}],[{key:"escape",value:function(e){return e.replace(/\$|}|\\/g,"\\$&")}},{key:"guessNeedsClipboard",value:function(e){return/\${?CLIPBOARD/.test(e)}}]),s}(),Zi=a("6BjD"),Xi=a("kXS7"),Cr=a("0+8E"),br=a("yqFB"),Ir=We.b("defaultLabel","input"),cr=We.b("label.preserveCaseToggle","Preserve Case"),Mr=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){return Object(A.a)(this,e),o.call(this,{icon:Tr.a.preserveCase,title:cr+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}return Object(P.a)(e)}(Xi.a),tr=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;Object(A.a)(this,e),l=o.call(this),l._showOptionButtons=n,l.fixFocusOnOptionClickEnabled=!0,l.cachedOptionsWidth=0,l._onDidOptionChange=l._register(new ca.b),l.onDidOptionChange=l._onDidOptionChange.event,l._onKeyDown=l._register(new ca.b),l.onKeyDown=l._onKeyDown.event,l._onMouseDown=l._register(new ca.b),l._onInput=l._register(new ca.b),l._onKeyUp=l._register(new ca.b),l._onPreserveCaseKeyDown=l._register(new ca.b),l.onPreserveCaseKeyDown=l._onPreserveCaseKeyDown.event,l.contextViewProvider=t,l.placeholder=r.placeholder||"",l.validation=r.validation,l.label=r.label||Ir;var c=r.appendPreserveCaseLabel||"",h=r.history||[],f=!!r.flexibleHeight,R=!!r.flexibleWidth,X=r.flexibleMaxHeight;l.domNode=document.createElement("div"),l.domNode.classList.add("monaco-findInput"),l.inputBox=l._register(new Cr.a(l.domNode,l.contextViewProvider,{ariaLabel:l.label||"",placeholder:l.placeholder||"",validationOptions:{validation:l.validation},history:h,showHistoryHint:r.showHistoryHint,flexibleHeight:f,flexibleWidth:R,flexibleMaxHeight:X,inputBoxStyles:r.inputBoxStyles})),l.preserveCase=l._register(new Mr(Object.assign({appendTitle:c,isChecked:!1},r.toggleStyles))),l._register(l.preserveCase.onChange(function(Me){l._onDidOptionChange.fire(Me),!Me&&l.fixFocusOnOptionClickEnabled&&l.inputBox.focus(),l.validate()})),l._register(l.preserveCase.onKeyDown(function(Me){l._onPreserveCaseKeyDown.fire(Me)})),l._showOptionButtons?l.cachedOptionsWidth=l.preserveCase.width():l.cachedOptionsWidth=0;var oe=[l.preserveCase.domNode];l.onkeydown(l.domNode,function(Me){if(Me.equals(15)||Me.equals(17)||Me.equals(9)){var st=oe.indexOf(document.activeElement);if(st>=0){var gt=-1;Me.equals(17)?gt=(st+1)%oe.length:Me.equals(15)&&(st===0?gt=oe.length-1:gt=st-1),Me.equals(9)?(oe[st].blur(),l.inputBox.focus()):gt>=0&&oe[gt].focus(),It.EventHelper.stop(Me,!0)}}});var je=document.createElement("div");return je.className="controls",je.style.display=l._showOptionButtons?"block":"none",je.appendChild(l.preserveCase.domNode),l.domNode.appendChild(je),i==null||i.appendChild(l.domNode),l.onkeydown(l.inputBox.inputElement,function(Me){return l._onKeyDown.fire(Me)}),l.onkeyup(l.inputBox.inputElement,function(Me){return l._onKeyUp.fire(Me)}),l.oninput(l.inputBox.inputElement,function(Me){return l._onInput.fire()}),l.onmousedown(l.inputBox.inputElement,function(Me){return l._onMouseDown.fire(Me)}),l}return Object(P.a)(e,[{key:"enable",value:function(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}},{key:"disable",value:function(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}},{key:"setEnabled",value:function(t){t?this.enable():this.disable()}},{key:"select",value:function(){this.inputBox.select()}},{key:"focus",value:function(){this.inputBox.focus()}},{key:"getPreserveCase",value:function(){return this.preserveCase.checked}},{key:"setPreserveCase",value:function(t){this.preserveCase.checked=t}},{key:"focusOnPreserve",value:function(){this.preserveCase.focus()}},{key:"validate",value:function(){var t;(t=this.inputBox)===null||t===void 0||t.validate()}},{key:"width",set:function(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=t+"px"}},{key:"dispose",value:function(){Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}}]),e}(Ru.a),Fi=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},zi=function(s,o){return function(e,i){o(e,i,s)}},lr=new Tn.c("suggestWidgetVisible",!1,Object(We.b)("suggestWidgetVisible","Whether suggestion are visible")),pr="historyNavigationWidgetFocus",Or="historyNavigationForwardsEnabled",ur="historyNavigationBackwardsEnabled",nr=void 0,Pr=[];function Hr(s,o){if(Pr.includes(o))throw new Error("Cannot register the same widget multiple times");Pr.push(o);var e=new Ye.c,i=new Tn.c(pr,!1).bindTo(s),t=new Tn.c(Or,!0).bindTo(s),n=new Tn.c(ur,!0).bindTo(s),r=function(){i.set(!0),nr=o},l=function(){i.set(!1),nr===o&&(nr=void 0)};return o.element===document.activeElement&&r(),e.add(o.onDidFocus(function(){return r()})),e.add(o.onDidBlur(function(){return l()})),e.add(Object(Ye.l)(function(){Pr.splice(Pr.indexOf(o),1),l()})),{historyNavigationForwardsEnablement:t,historyNavigationBackwardsEnablement:n,dispose:function(){e.dispose()}}}var Ur=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;Object(A.a)(this,e),l=o.call(this,i,t,n);var c=l._register(r.createScoped(l.inputBox.element));return l._register(Hr(c,l.inputBox)),l}return Object(P.a)(e)}(Zi.a);Ur=Fi([zi(3,Tn.b)],Ur);var aa=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;Object(A.a)(this,e),l=o.call(this,i,t,c,n);var h=l._register(r.createScoped(l.inputBox.element));return l._register(Hr(h,l.inputBox)),l}return Object(P.a)(e)}(tr);aa=Fi([zi(3,Tn.b)],aa),Sl.a.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Tn.a.and(Tn.a.has(pr),Tn.a.equals(ur,!0),lr.isEqualTo(!1)),primary:16,secondary:[512|16],handler:function(o){nr==null||nr.showPreviousValue()}}),Sl.a.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Tn.a.and(Tn.a.has(pr),Tn.a.equals(Or,!0),lr.isEqualTo(!1)),primary:18,secondary:[512|18],handler:function(o){nr==null||nr.showNextValue()}});var Da=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Sr={Visible:lr,HasFocusedSuggestion:new Tn.c("suggestWidgetHasFocusedSuggestion",!1,Object(We.b)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new Tn.c("suggestWidgetDetailsVisible",!1,Object(We.b)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new Tn.c("suggestWidgetMultipleSuggestions",!1,Object(We.b)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new Tn.c("suggestionMakesTextEdit",!0,Object(We.b)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new Tn.c("acceptSuggestionOnEnter",!0,Object(We.b)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new Tn.c("suggestionHasInsertAndReplaceRange",!1,Object(We.b)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new Tn.c("suggestionInsertMode",void 0,{type:"string",description:Object(We.b)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new Tn.c("suggestionCanResolve",!1,Object(We.b)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},da=new Ht.c("suggestWidgetStatusBar"),Ea=function(){function s(o,e,i,t){Object(A.a)(this,s);var n;this.position=o,this.completion=e,this.container=i,this.provider=t,this.isInvalid=!1,this.score=gs.a.Default,this.distance=0,this.textLabel=typeof e.label=="string"?e.label:(n=e.label)===null||n===void 0?void 0:n.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=e.sortText&&e.sortText.toLowerCase(),this.filterTextLow=e.filterText&&e.filterText.toLowerCase(),this.extensionId=e.extensionId,Ze.a.isIRange(e.range)?(this.editStart=new nt.a(e.range.startLineNumber,e.range.startColumn),this.editInsertEnd=new nt.a(e.range.endLineNumber,e.range.endColumn),this.editReplaceEnd=new nt.a(e.range.endLineNumber,e.range.endColumn),this.isInvalid=this.isInvalid||Ze.a.spansMultipleLines(e.range)||e.range.startLineNumber!==o.lineNumber):(this.editStart=new nt.a(e.range.insert.startLineNumber,e.range.insert.startColumn),this.editInsertEnd=new nt.a(e.range.insert.endLineNumber,e.range.insert.endColumn),this.editReplaceEnd=new nt.a(e.range.replace.endLineNumber,e.range.replace.endColumn),this.isInvalid=this.isInvalid||Ze.a.spansMultipleLines(e.range.insert)||Ze.a.spansMultipleLines(e.range.replace)||e.range.insert.startLineNumber!==o.lineNumber||e.range.replace.startLineNumber!==o.lineNumber||e.range.insert.startColumn!==e.range.replace.startColumn),typeof t.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}return Object(P.a)(s,[{key:"isResolved",get:function(){return!!this._isResolved}},{key:"resolve",value:function(e){return Da(this,void 0,void 0,Object(d.a)().mark(function i(){var t=this,n;return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this._resolveCache||(n=e.onCancellationRequested(function(){t._resolveCache=void 0,t._isResolved=!1}),this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(function(c){Object.assign(t.completion,c),t._isResolved=!0,n.dispose()},function(c){Object(Li.g)(c)&&(t._resolveCache=void 0,t._isResolved=!1)})),l.abrupt("return",this._resolveCache);case 2:case"end":return l.stop()}},i,this)}))}}]),s}(),he=Object(P.a)(function s(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new Map,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;Object(A.a)(this,s),this.snippetSortOrder=o,this.kindFilter=e,this.providerFilter=i,this.providerItemsToReuse=t,this.showDeprecated=n});he.default=new he;var le;function b(){return le}var y=Object(P.a)(function s(o,e,i,t){Object(A.a)(this,s),this.items=o,this.needsClipboard=e,this.durations=i,this.disposable=t});function p(s,o,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:he.default,t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{triggerKind:0},n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Zn.a.None;return Da(this,void 0,void 0,Object(d.a)().mark(function r(){var l=this,c,h,f,R,X,oe,je,Me,st,gt,jt,Xt,sn,qn;return Object(d.a)().wrap(function(fi){for(;;)switch(fi.prev=fi.next){case 0:c=new fs.a(!0),e=e.clone(),h=o.getWordAtPosition(e),f=h?new Ze.a(e.lineNumber,h.startColumn,e.lineNumber,h.endColumn):Ze.a.fromPositions(e),R={replace:f,insert:f.setEndPosition(e.lineNumber,e.column)},X=[],oe=new Ye.c,je=[],Me=!1,st=function(wi,Ai,jr){var dr,Dr,Kr,pa=!1;if(!Ai)return pa;var xr=Object(G.a)(Ai.suggestions),Pa;try{for(xr.s();!(Pa=xr.n()).done;){var Ca=Pa.value;if(!i.kindFilter.has(Ca.kind)){if(!i.showDeprecated&&((dr=Ca==null?void 0:Ca.tags)===null||dr===void 0?void 0:dr.includes(1)))continue;Ca.range||(Ca.range=R),Ca.sortText||(Ca.sortText=typeof Ca.label=="string"?Ca.label:Ca.label.label),!Me&&Ca.insertTextRules&&Ca.insertTextRules&4&&(Me=Ei.guessNeedsClipboard(Ca.insertText)),X.push(new Ea(e,Ca,Ai,wi)),pa=!0}}}catch(fa){xr.e(fa)}finally{xr.f()}return Object(Ye.j)(Ai)&&oe.add(Ai),je.push({providerName:(Dr=wi._debugDisplayName)!==null&&Dr!==void 0?Dr:"unknown_provider",elapsedProvider:(Kr=Ai.duration)!==null&&Kr!==void 0?Kr:-1,elapsedOverall:jr.elapsed()}),pa},gt=function(){return Da(l,void 0,void 0,Object(d.a)().mark(function Ci(){var wi,Ai,jr;return Object(d.a)().wrap(function(Dr){for(;;)switch(Dr.prev=Dr.next){case 0:if(!(!le||i.kindFilter.has(27))){Dr.next=2;break}return Dr.abrupt("return");case 2:if(wi=i.providerItemsToReuse.get(le),!wi){Dr.next=6;break}return wi.forEach(function(Kr){return X.push(Kr)}),Dr.abrupt("return");case 6:if(!(i.providerFilter.size>0&&!i.providerFilter.has(le))){Dr.next=8;break}return Dr.abrupt("return");case 8:return Ai=new fs.a(!0),Dr.next=11,le.provideCompletionItems(o,e,t,n);case 11:jr=Dr.sent,st(le,jr,Ai);case 13:case"end":return Dr.stop()}},Ci)}))}(),jt=Object(G.a)(s.orderedGroups(o)),fi.prev=12,sn=Object(d.a)().mark(function Ci(){var wi,Ai;return Object(d.a)().wrap(function(dr){for(;;)switch(dr.prev=dr.next){case 0:return wi=Xt.value,Ai=!1,dr.next=4,Promise.all(wi.map(function(Dr){return Da(l,void 0,void 0,Object(d.a)().mark(function Kr(){var pa,xr,Pa;return Object(d.a)().wrap(function(fa){for(;;)switch(fa.prev=fa.next){case 0:if(!i.providerItemsToReuse.has(Dr)){fa.next=5;break}return pa=i.providerItemsToReuse.get(Dr),pa.forEach(function(co){return X.push(co)}),Ai=Ai||pa.length>0,fa.abrupt("return");case 5:if(!(i.providerFilter.size>0&&!i.providerFilter.has(Dr))){fa.next=7;break}return fa.abrupt("return");case 7:return fa.prev=7,xr=new fs.a(!0),fa.next=11,Dr.provideCompletionItems(o,e,t,n);case 11:Pa=fa.sent,Ai=st(Dr,Pa,xr)||Ai,fa.next=18;break;case 15:fa.prev=15,fa.t0=fa.catch(7),Object(Li.i)(fa.t0);case 18:case"end":return fa.stop()}},Kr,null,[[7,15]])}))}));case 4:if(!(Ai||n.isCancellationRequested)){dr.next=6;break}return dr.abrupt("return","break");case 6:case"end":return dr.stop()}},Ci)}),jt.s();case 15:if((Xt=jt.n()).done){fi.next=22;break}return fi.delegateYield(sn(),"t0",17);case 17:if(qn=fi.t0,qn!=="break"){fi.next=20;break}return fi.abrupt("break",22);case 20:fi.next=15;break;case 22:fi.next=27;break;case 24:fi.prev=24,fi.t1=fi.catch(12),jt.e(fi.t1);case 27:return fi.prev=27,jt.f(),fi.finish(27);case 30:return fi.next=32,gt;case 32:if(!n.isCancellationRequested){fi.next=35;break}return oe.dispose(),fi.abrupt("return",Promise.reject(new Li.b));case 35:return fi.abrupt("return",new y(X.sort(qe(i.snippetSortOrder)),Me,{entries:je,elapsed:c.elapsed()},oe));case 36:case"end":return fi.stop()}},r,null,[[12,24,27,30]])}))}function M(s,o){if(s.sortTextLow&&o.sortTextLow){if(s.sortTextLow<o.sortTextLow)return-1;if(s.sortTextLow>o.sortTextLow)return 1}return s.textLabel<o.textLabel?-1:s.textLabel>o.textLabel?1:s.completion.kind-o.completion.kind}function q(s,o){if(s.completion.kind!==o.completion.kind){if(s.completion.kind===27)return-1;if(o.completion.kind===27)return 1}return M(s,o)}function Se(s,o){if(s.completion.kind!==o.completion.kind){if(s.completion.kind===27)return 1;if(o.completion.kind===27)return-1}return M(s,o)}var Ie=new Map;Ie.set(0,q),Ie.set(2,Se),Ie.set(1,M);function qe(s){return Ie.get(s)}$r.a.registerCommand("_executeCompletionItemProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return Da(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R,X,oe,je,Me,st,gt,jt;return Object(d.a)().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:return n=e[0],r=e[1],l=e[2],c=e[3],Object(ya.b)(_r.a.isUri(n)),Object(ya.b)(nt.a.isIPosition(r)),Object(ya.b)(typeof l=="string"||!l),Object(ya.b)(typeof c=="number"||!c),h=s.get($i.a),f=h.completionProvider,sn.next=8,s.get(Qi.a).createModelReference(n);case 8:return R=sn.sent,sn.prev=9,X={incomplete:!1,suggestions:[]},oe=[],je=R.object.textEditorModel.validatePosition(r),sn.next=15,p(f,R.object.textEditorModel,je,void 0,{triggerCharacter:l!=null?l:void 0,triggerKind:l?1:0});case 15:Me=sn.sent,st=Object(G.a)(Me.items);try{for(st.s();!(gt=st.n()).done;)jt=gt.value,oe.length<(c!=null?c:0)&&oe.push(jt.resolve(Zn.a.None)),X.incomplete=X.incomplete||jt.container.incomplete,X.suggestions.push(jt.completion)}catch(qn){st.e(qn)}finally{st.f()}return sn.prev=18,sn.next=21,Promise.all(oe);case 21:return sn.abrupt("return",X);case 22:return sn.prev=22,setTimeout(function(){return Me.disposable.dispose()},100),sn.finish(22);case 25:return sn.prev=25,R.dispose(),sn.finish(25);case 28:case"end":return sn.stop()}},t,null,[[9,,25,28],[18,,22,25]])}))});function it(s,o){var e;(e=s.getContribution("editor.contrib.suggestController"))===null||e===void 0||e.triggerSuggest(new Set().add(o),void 0,!0)}var dt=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,null,[{key:"isAllOff",value:function(e){return e.other==="off"&&e.comments==="off"&&e.strings==="off"}},{key:"isAllOn",value:function(e){return e.other==="on"&&e.comments==="on"&&e.strings==="on"}},{key:"valueFor",value:function(e,i){switch(i){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}]),s}(),Jt=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},cn=function(s,o){return function(e,i){o(e,i,s)}},Mn=It.$,vi=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;Object(A.a)(this,e),r=o.call(this),r._editor=i,r._instantiationService=t,r._keybindingService=n,r._widget=r._register(r._instantiationService.createInstance(ni,r._editor)),r._currentResult=null,r._participants=[];var l=Object(G.a)(St.getAll()),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;r._participants.push(r._instantiationService.createInstance(h,r._editor))}}catch(f){l.e(f)}finally{l.f()}return r._participants.sort(function(f,R){return f.hoverOrdinal-R.hoverOrdinal}),r._computer=new mr(r._editor,r._participants),r._hoverOperation=r._register(new gv(r._editor,r._computer)),r._register(r._hoverOperation.onResult(function(f){if(!!r._computer.anchor){var R=f.hasLoadingMessage?r._addLoadingMessage(f.value):f.value;r._withResult(new ii(r._computer.anchor,R,f.isComplete))}})),r._register(It.addStandardDisposableListener(r._widget.getDomNode(),"keydown",function(f){f.equals(9)&&r.hide()})),r._register(so.m.onDidChange(function(){r._widget.position&&r._currentResult&&(r._widget.clear(),r._setCurrentResult(r._currentResult))})),r}return Object(P.a)(e,[{key:"maybeShowAt",value:function(t){var n=[],r=Object(G.a)(this._participants),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;if(c.suggestHoverAnchor){var h=c.suggestHoverAnchor(t);h&&n.push(h)}}}catch(X){r.e(X)}finally{r.f()}var f=t.target;if(f.type===6&&n.push(new Ue(0,f.range,t.event.posx,t.event.posy)),f.type===7){var R=this._editor.getOption(48).typicalHalfwidthCharacterWidth/2;!f.detail.isAfterLines&&typeof f.detail.horizontalDistanceToText=="number"&&f.detail.horizontalDistanceToText<R&&n.push(new Ue(0,f.range,t.event.posx,t.event.posy))}return n.length===0?this._startShowingOrUpdateHover(null,0,0,!1,t):(n.sort(function(X,oe){return oe.priority-X.priority}),this._startShowingOrUpdateHover(n[0],0,0,!1,t))}},{key:"startShowingAtRange",value:function(t,n,r,l){this._startShowingOrUpdateHover(new Ue(0,t,void 0,void 0),n,r,l,null)}},{key:"_startShowingOrUpdateHover",value:function(t,n,r,l,c){if(!this._widget.position||!this._currentResult)return t?(this._startHoverOperationIfNecessary(t,n,r,l,!1),!0):!1;var h=this._editor.getOption(58).sticky,f=h&&c&&this._widget.isMouseGettingCloser(c.event.posx,c.event.posy);return f?(t&&this._startHoverOperationIfNecessary(t,n,r,l,!0),!0):t?t&&this._currentResult.anchor.equals(t)?!0:t.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(t)),this._startHoverOperationIfNecessary(t,n,r,l,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(t,n,r,l,!1),!0):(this._setCurrentResult(null),!1)}},{key:"_startHoverOperationIfNecessary",value:function(t,n,r,l,c){this._computer.anchor&&this._computer.anchor.equals(t)||(this._hoverOperation.cancel(),this._computer.anchor=t,this._computer.shouldFocus=l,this._computer.source=r,this._computer.insistOnKeepingHoverVisible=c,this._hoverOperation.start(n))}},{key:"_setCurrentResult",value:function(t){this._currentResult!==t&&(t&&t.messages.length===0&&(t=null),this._currentResult=t,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}},{key:"hide",value:function(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}},{key:"isColorPickerVisible",value:function(){return this._widget.isColorPickerVisible}},{key:"isVisibleFromKeyboard",value:function(){return this._widget.isVisibleFromKeyboard}},{key:"isVisible",value:function(){return this._widget.isVisible}},{key:"containsNode",value:function(t){return t?this._widget.getDomNode().contains(t):!1}},{key:"_addLoadingMessage",value:function(t){if(this._computer.anchor){var n=Object(G.a)(this._participants),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;if(l.createLoadingMessage){var c=l.createLoadingMessage(this._computer.anchor);if(c)return t.slice(0).concat([c])}}}catch(h){n.e(h)}finally{n.f()}}return t}},{key:"_withResult",value:function(t){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!t.isComplete||this._computer.insistOnKeepingHoverVisible&&t.messages.length===0)||this._setCurrentResult(t)}},{key:"_renderMessages",value:function(t,n){var r=this,l=e.computeHoverRanges(this._editor,t.range,n),c=l.showAtPosition,h=l.showAtSecondaryPosition,f=l.highlightRange,R=new Ye.c,X=R.add(new sr(this._keybindingService)),oe=document.createDocumentFragment(),je=null,Me={fragment:oe,statusBar:X,setColorPicker:function(Hn){return je=Hn},onContentsChanged:function(){return r._widget.onContentsChanged()},hide:function(){return r.hide()}},st=Object(G.a)(this._participants),gt;try{var jt=function(){var Hn=gt.value,fi=n.filter(function(Ci){return Ci.owner===Hn});fi.length>0&&R.add(Hn.renderHoverParts(Me,fi))};for(st.s();!(gt=st.n()).done;)jt()}catch(qn){st.e(qn)}finally{st.f()}var Xt=n.some(function(qn){return qn.isBeforeContent});if(X.hasContent&&oe.appendChild(X.hoverElement),oe.hasChildNodes()){if(f){var sn=this._editor.createDecorationsCollection();sn.set([{range:f,options:e._DECORATION_OPTIONS}]),R.add(Object(Ye.l)(function(){sn.clear()}))}this._widget.showAt(oe,new $n(je,c,h,this._editor.getOption(58).above,this._computer.shouldFocus,this._computer.source,Xt,t.initialMousePosX,t.initialMousePosY,R))}else R.dispose()}},{key:"focus",value:function(){this._widget.focus()}},{key:"scrollUp",value:function(){this._widget.scrollUp()}},{key:"scrollDown",value:function(){this._widget.scrollDown()}},{key:"scrollLeft",value:function(){this._widget.scrollLeft()}},{key:"scrollRight",value:function(){this._widget.scrollRight()}},{key:"pageUp",value:function(){this._widget.pageUp()}},{key:"pageDown",value:function(){this._widget.pageDown()}},{key:"goToTop",value:function(){this._widget.goToTop()}},{key:"goToBottom",value:function(){this._widget.goToBottom()}},{key:"escape",value:function(){this._widget.escape()}}],[{key:"computeHoverRanges",value:function(t,n,r){var l=1;if(t.hasModel()){var c=t._getViewModel(),h=c.coordinatesConverter,f=h.convertModelRangeToViewRange(n),R=new nt.a(f.startLineNumber,c.getLineMinColumn(f.startLineNumber));l=h.convertViewPositionToModelPosition(R).column}var X=n.startLineNumber,oe=n.startColumn,je=r[0].range,Me=null,st=Object(G.a)(r),gt;try{for(st.s();!(gt=st.n()).done;){var jt=gt.value;je=Ze.a.plusRange(je,jt.range),jt.range.startLineNumber===X&&jt.range.endLineNumber===X&&(oe=Math.max(Math.min(oe,jt.range.startColumn),l)),jt.forceShowAtRange&&(Me=jt.range)}}catch(Xt){st.e(Xt)}finally{st.f()}return{showAtPosition:Me?Me.getStartPosition():new nt.a(X,n.startColumn),showAtSecondaryPosition:Me?Me.getStartPosition():new nt.a(X,oe),highlightRange:je}}}]),e}(Ye.a);vi._DECORATION_OPTIONS=hn.b.register({description:"content-hover-highlight",className:"hoverHighlight"}),vi=Jt([cn(1,ia.a),cn(2,Mi.a)],vi);var ii=function(){function s(o,e,i){Object(A.a)(this,s),this.anchor=o,this.messages=e,this.isComplete=i}return Object(P.a)(s,[{key:"filter",value:function(e){var i=this.messages.filter(function(t){return t.isValidForHoverAnchor(e)});return i.length===this.messages.length?this:new di(this,this.anchor,i,this.isComplete)}}]),s}(),di=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;return Object(A.a)(this,e),l=o.call(this,t,n,r),l.original=i,l}return Object(P.a)(e,[{key:"filter",value:function(t){return this.original.filter(t)}}]),e}(ii),$n=Object(P.a)(function s(o,e,i,t,n,r,l,c,h,f){Object(A.a)(this,s),this.colorPicker=o,this.showAtPosition=e,this.showAtSecondaryPosition=i,this.preferAbove=t,this.stoleFocus=n,this.source=r,this.isBeforeContent=l,this.initialMousePosX=c,this.initialMousePosY=h,this.disposables=f,this.closestMouseDistance=void 0}),ni=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n._editor=i,n._contextKeyService=t,n.allowEditorOverflow=!0,n._hoverVisibleKey=Ut.a.hoverVisible.bindTo(n._contextKeyService),n._hoverFocusedKey=Ut.a.hoverFocused.bindTo(n._contextKeyService),n._hover=n._register(new xd),n._focusTracker=n._register(It.trackFocus(n.getDomNode())),n._horizontalScrollingBy=30,n._visibleData=null,n._register(n._editor.onDidLayoutChange(function(){return n._layout()})),n._register(n._editor.onDidChangeConfiguration(function(r){r.hasChanged(48)&&n._updateFont()})),n._setVisibleData(null),n._layout(),n._editor.addContentWidget(Object(nn.a)(n)),n._register(n._focusTracker.onDidFocus(function(){n._hoverFocusedKey.set(!0)})),n._register(n._focusTracker.onDidBlur(function(){n._hoverFocusedKey.set(!1)})),n}return Object(P.a)(e,[{key:"position",get:function(){var t,n;return(n=(t=this._visibleData)===null||t===void 0?void 0:t.showAtPosition)!==null&&n!==void 0?n:null}},{key:"isColorPickerVisible",get:function(){var t;return Boolean((t=this._visibleData)===null||t===void 0?void 0:t.colorPicker)}},{key:"isVisibleFromKeyboard",get:function(){var t;return((t=this._visibleData)===null||t===void 0?void 0:t.source)===1}},{key:"isVisible",get:function(){var t;return(t=this._hoverVisibleKey.get())!==null&&t!==void 0?t:!1}},{key:"dispose",value:function(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){if(!this._visibleData)return null;var t=this._visibleData.preferAbove;!t&&this._contextKeyService.getContextKeyValue(Sr.Visible.key)&&(t=!0);var n=this._visibleData.isBeforeContent?3:void 0;return{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,preference:t?[1,2]:[2,1],positionAffinity:n}}},{key:"isMouseGettingCloser",value:function(t,n){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX=="undefined"||typeof this._visibleData.initialMousePosY=="undefined")return this._visibleData.initialMousePosX=t,this._visibleData.initialMousePosY=n,!1;var r=It.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance=="undefined"&&(this._visibleData.closestMouseDistance=fr(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,r.left,r.top,r.width,r.height));var l=fr(t,n,r.left,r.top,r.width,r.height);return l>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,l),!0)}},{key:"_setVisibleData",value:function(t){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=t,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}},{key:"_layout",value:function(){var t=Math.max(this._editor.getLayoutInfo().height/4,250),n=this._editor.getOption(48),r=n.fontSize,l=n.lineHeight;this._hover.contentsDomNode.style.fontSize="".concat(r,"px"),this._hover.contentsDomNode.style.lineHeight="".concat(l/r),this._hover.contentsDomNode.style.maxHeight="".concat(t,"px"),this._hover.contentsDomNode.style.maxWidth="".concat(Math.max(this._editor.getLayoutInfo().width*.66,500),"px")}},{key:"_updateFont",value:function(){var t=this,n=Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code"));n.forEach(function(r){return t._editor.applyFontInfo(r)})}},{key:"showAt",value:function(t,n){var r;this._setVisibleData(n),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),n.stoleFocus&&this._hover.containerDomNode.focus(),(r=n.colorPicker)===null||r===void 0||r.layout()}},{key:"hide",value:function(){if(this._visibleData){var t=this._visibleData.stoleFocus;this._setVisibleData(null),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),t&&this._editor.focus()}}},{key:"onContentsChanged",value:function(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();var t=this._hover.scrollbar.getScrollDimensions(),n=t.scrollWidth>t.width;if(n){var r="".concat(this._hover.scrollbar.options.horizontalScrollbarSize,"px");this._hover.contentsDomNode.style.paddingBottom!==r&&(this._hover.contentsDomNode.style.paddingBottom=r,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}},{key:"clear",value:function(){this._hover.contentsDomNode.textContent=""}},{key:"focus",value:function(){this._hover.containerDomNode.focus()}},{key:"scrollUp",value:function(){var t=this._hover.scrollbar.getScrollPosition().scrollTop,n=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:t-n.lineHeight})}},{key:"scrollDown",value:function(){var t=this._hover.scrollbar.getScrollPosition().scrollTop,n=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:t+n.lineHeight})}},{key:"scrollLeft",value:function(){var t=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:t-this._horizontalScrollingBy})}},{key:"scrollRight",value:function(){var t=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:t+this._horizontalScrollingBy})}},{key:"pageUp",value:function(){var t=this._hover.scrollbar.getScrollPosition().scrollTop,n=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:t-n})}},{key:"pageDown",value:function(){var t=this._hover.scrollbar.getScrollPosition().scrollTop,n=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:t+n})}},{key:"goToTop",value:function(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}},{key:"goToBottom",value:function(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}},{key:"escape",value:function(){this._editor.focus()}}]),e}(Ye.a);ni.ID="editor.contrib.contentHoverWidget",ni=Jt([cn(1,Tn.b)],ni);var sr=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t._keybindingService=i,t._hasContent=!1,t.hoverElement=Mn("div.hover-row.status-bar"),t.actionsElement=It.append(t.hoverElement,Mn("div.actions")),t}return Object(P.a)(e,[{key:"hasContent",get:function(){return this._hasContent}},{key:"addAction",value:function(t){var n=this._keybindingService.lookupKeybinding(t.commandId),r=n?n.getLabel():null;return this._hasContent=!0,this._register(hv.render(this.actionsElement,t,r))}},{key:"append",value:function(t){var n=It.append(this.actionsElement,t);return this._hasContent=!0,n}}]),e}(Ye.a);sr=Jt([cn(0,Mi.a)],sr);var mr=function(){function s(o,e){Object(A.a)(this,s),this._editor=o,this._participants=e,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}return Object(P.a)(s,[{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor=e}},{key:"shouldFocus",get:function(){return this._shouldFocus},set:function(e){this._shouldFocus=e}},{key:"source",get:function(){return this._source},set:function(e){this._source=e}},{key:"insistOnKeepingHoverVisible",get:function(){return this._insistOnKeepingHoverVisible},set:function(e){this._insistOnKeepingHoverVisible=e}},{key:"computeAsync",value:function(e){var i=this._anchor;if(!this._editor.hasModel()||!i)return mt.a.EMPTY;var t=s._getLineDecorations(this._editor,i);return mt.a.merge(this._participants.map(function(n){return n.computeAsync?n.computeAsync(i,t,e):mt.a.EMPTY}))}},{key:"computeSync",value:function(){if(!this._editor.hasModel()||!this._anchor)return[];var e=s._getLineDecorations(this._editor,this._anchor),i=[],t=Object(G.a)(this._participants),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;i=i.concat(r.computeSync(this._anchor,e))}}catch(l){t.e(l)}finally{t.f()}return Object(Wn.f)(i)}}],[{key:"_getLineDecorations",value:function(e,i){if(i.type!==1&&!i.supportsMarkerHover)return[];var t=e.getModel(),n=i.range.startLineNumber;if(n>t.getLineCount())return[];var r=t.getLineMaxColumn(n);return e.getLineDecorations(n).filter(function(l){if(l.options.isWholeLine)return!0;var c=l.range.startLineNumber===n?l.range.startColumn:1,h=l.range.endLineNumber===n?l.range.endColumn:r;if(l.options.showIfCollapsed){if(c>i.range.startColumn+1||i.range.endColumn-1>h)return!1}else if(c>i.range.startColumn||i.range.endColumn>h)return!1;return!0})}}]),s}();function fr(s,o,e,i,t,n){var r=e+t/2,l=i+n/2,c=Math.max(Math.abs(s-r)-t/2,0),h=Math.max(Math.abs(o-l)-n/2,0);return Math.sqrt(c*c+h*h)}var Xr=a("w5yO"),Vr=a("c9Qy"),na=a("YI90"),va=a("DMKg"),Ta=a("Udvv"),io=a("W9cx"),bs=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Za=function(s,o){return function(e,i){o(e,i,s)}},Na=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},ga=function(){function s(o,e,i){Object(A.a)(this,s),this._options=o,this._languageService=e,this._openerService=i,this._onDidRenderAsync=new ca.b,this.onDidRenderAsync=this._onDidRenderAsync.event}return Object(P.a)(s,[{key:"dispose",value:function(){this._onDidRenderAsync.dispose()}},{key:"render",value:function(e,i,t){if(!e){var n=document.createElement("span");return{element:n,dispose:function(){}}}var r=new Ye.c,l=r.add(Object(Xr.a)(e,Object.assign(Object.assign({},this._getRenderOptions(e,r)),i),t));return l.element.classList.add("rendered-markdown"),{element:l.element,dispose:function(){return r.dispose()}}}},{key:"_getRenderOptions",value:function(e,i){var t=this;return{codeBlockRenderer:function(r,l){return Na(t,void 0,void 0,Object(d.a)().mark(function c(){var h,f,R,X,oe,je,Me;return Object(d.a)().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return r?X=this._languageService.getLanguageIdByLanguageName(r):this._options.editor&&(X=(h=this._options.editor.getModel())===null||h===void 0?void 0:h.getLanguageId()),X||(X=jd.b),gt.next=4,Object(Ta.b)(this._languageService,l,X);case 4:return oe=gt.sent,je=document.createElement("span"),je.innerHTML=(R=(f=s._ttpTokenizer)===null||f===void 0?void 0:f.createHTML(oe))!==null&&R!==void 0?R:oe,this._options.editor?(Me=this._options.editor.getOption(48),Object(va.a)(je,Me)):this._options.codeBlockFontFamily&&(je.style.fontFamily=this._options.codeBlockFontFamily),this._options.codeBlockFontSize!==void 0&&(je.style.fontSize=this._options.codeBlockFontSize),gt.abrupt("return",je);case 10:case"end":return gt.stop()}},c,this)}))},asyncRenderCallback:function(){return t._onDidRenderAsync.fire()},actionHandler:{callback:function(r){return ea(t._openerService,r,e.isTrusted)},disposables:i}}}}]),s}();ga._ttpTokenizer=Object(Vr.a)("tokenizeToString",{createHTML:function(o){return o}}),ga=bs([Za(1,Ti.a),Za(2,io.a)],ga);function ea(s,o,e){return Na(this,void 0,void 0,Object(d.a)().mark(function i(){return Object(d.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.open(o,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:Ga(e)});case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),Object(Li.h)(n.t0),n.abrupt("return",!1);case 10:case"end":return n.stop()}},i,null,[[0,6]])}))}function Ga(s){return s===!0?!0:s&&Array.isArray(s.enabledCommands)?s.enabledCommands:!1}var Io=It.$,Ko=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r._renderDisposeables=r._register(new Ye.c),r._editor=i,r._isVisible=!1,r._messages=[],r._hover=r._register(new xd),r._hover.containerDomNode.classList.toggle("hidden",!r._isVisible),r._markdownRenderer=r._register(new ga({editor:r._editor},t,n)),r._computer=new xo(r._editor),r._hoverOperation=r._register(new gv(r._editor,r._computer)),r._register(r._hoverOperation.onResult(function(l){r._withResult(l.value)})),r._register(r._editor.onDidChangeModelDecorations(function(){return r._onModelDecorationsChanged()})),r._register(r._editor.onDidChangeConfiguration(function(l){l.hasChanged(48)&&r._updateFont()})),r._editor.addOverlayWidget(Object(nn.a)(r)),r}return Object(P.a)(e,[{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){return null}},{key:"_updateFont",value:function(){var t=this,n=Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code"));n.forEach(function(r){return t._editor.applyFontInfo(r)})}},{key:"_onModelDecorationsChanged",value:function(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}},{key:"startShowingAt",value:function(t){this._computer.lineNumber!==t&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=t,this._hoverOperation.start(0))}},{key:"hide",value:function(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}},{key:"_withResult",value:function(t){this._messages=t,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}},{key:"_renderMessages",value:function(t,n){this._renderDisposeables.clear();var r=document.createDocumentFragment(),l=Object(G.a)(n),c;try{for(l.s();!(c=l.n()).done;){var h=c.value,f=Io("div.hover-row.markdown-hover"),R=It.append(f,Io("div.hover-contents")),X=this._renderDisposeables.add(this._markdownRenderer.render(h.value));R.appendChild(X.element),r.appendChild(f)}}catch(oe){l.e(oe)}finally{l.f()}this._updateContents(r),this._showAt(t)}},{key:"_updateContents",value:function(t){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._updateFont()}},{key:"_showAt",value:function(t){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));var n=this._editor.getLayoutInfo(),r=this._editor.getTopForLineNumber(t),l=this._editor.getScrollTop(),c=this._editor.getOption(64),h=this._hover.containerDomNode.clientHeight,f=r-l-(h-c)/2;this._hover.containerDomNode.style.left="".concat(n.glyphMarginLeft+n.glyphMarginWidth,"px"),this._hover.containerDomNode.style.top="".concat(Math.max(Math.round(f),0),"px")}}]),e}(Ye.a);Ko.ID="editor.contrib.modesGlyphHoverWidget";var xo=function(){function s(o){Object(A.a)(this,s),this._editor=o,this._lineNumber=-1}return Object(P.a)(s,[{key:"lineNumber",get:function(){return this._lineNumber},set:function(e){this._lineNumber=e}},{key:"computeSync",value:function(){var e=function(f){return{value:f}},i=this._editor.getLineDecorations(this._lineNumber),t=[];if(!i)return t;var n=Object(G.a)(i),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;if(!!l.options.glyphMarginClassName){var c=l.options.glyphMarginHoverMessage;!c||Object(Sn.c)(c)||t.push.apply(t,Object(on.a)(Object(Wn.d)(c).map(e)))}}}catch(h){n.e(h)}finally{n.f()}return t}}]),s}(),Xo=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},is=Object(P.a)(function s(o,e,i){Object(A.a)(this,s),this.provider=o,this.hover=e,this.ordinal=i});function Wl(s,o,e,i,t){return Xo(this,void 0,void 0,Object(d.a)().mark(function n(){var r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Promise.resolve(s.provideHover(e,i,t));case 3:if(r=c.sent,!(r&&jo(r))){c.next=6;break}return c.abrupt("return",new is(s,r,o));case 6:c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),Object(Li.i)(c.t0);case 11:return c.abrupt("return",void 0);case 12:case"end":return c.stop()}},n,null,[[0,8]])}))}function Ha(s,o,e,i){var t=s.ordered(o),n=t.map(function(r,l){return Wl(r,l,o,e,i)});return mt.a.fromPromises(n).coalesce()}function Ia(s,o,e,i){return Ha(s,o,e,i).map(function(t){return t.hover}).toPromise()}Object(wt.o)("_executeHoverProvider",function(s,o,e){var i=s.get($i.a);return Ia(i.hoverProvider,o,e,Zn.a.None)});function jo(s){var o=typeof s.range!="undefined",e=typeof s.contents!="undefined"&&s.contents&&s.contents.length>0;return o&&e}var So=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Wo=function(s,o){return function(e,i){o(e,i,s)}},Eo=It.$,Wr=function(){function s(o,e,i,t,n){Object(A.a)(this,s),this.owner=o,this.range=e,this.contents=i,this.isBeforeContent=t,this.ordinal=n}return Object(P.a)(s,[{key:"isValidForHoverAnchor",value:function(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),s}(),ma=function(){function s(o,e,i,t,n){Object(A.a)(this,s),this._editor=o,this._languageService=e,this._openerService=i,this._configurationService=t,this._languageFeaturesService=n,this.hoverOrdinal=3}return Object(P.a)(s,[{key:"createLoadingMessage",value:function(e){return new Wr(this,e.range,[new Sn.a().appendText(We.b("modesContentHover.loading","Loading..."))],!1,2e3)}},{key:"computeSync",value:function(e,i){if(!this._editor.hasModel()||e.type!==1)return[];var t=this._editor.getModel(),n=e.range.startLineNumber,r=t.getLineMaxColumn(n),l=[],c=1e3,h=t.getLineLength(n),f=t.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),R=this._editor.getOption(113),X=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:f}),oe=!1;R>=0&&h>R&&e.range.startColumn>=R&&(oe=!0,l.push(new Wr(this,e.range,[{value:We.b("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,c++))),!oe&&typeof X=="number"&&h>=X&&l.push(new Wr(this,e.range,[{value:We.b("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,c++));var je=!1,Me=Object(G.a)(i),st;try{for(Me.s();!(st=Me.n()).done;){var gt=st.value,jt=gt.range.startLineNumber===n?gt.range.startColumn:1,Xt=gt.range.endLineNumber===n?gt.range.endColumn:r,sn=gt.options.hoverMessage;if(!(!sn||Object(Sn.c)(sn))){gt.options.beforeContentClassName&&(je=!0);var qn=new Ze.a(e.range.startLineNumber,jt,e.range.startLineNumber,Xt);l.push(new Wr(this,qn,Object(Wn.d)(sn),je,c++))}}}catch(Hn){Me.e(Hn)}finally{Me.f()}return l}},{key:"computeAsync",value:function(e,i,t){var n=this;if(!this._editor.hasModel()||e.type!==1)return mt.a.EMPTY;var r=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(r))return mt.a.EMPTY;var l=new nt.a(e.range.startLineNumber,e.range.startColumn);return Ha(this._languageFeaturesService.hoverProvider,r,l,t).filter(function(c){return!Object(Sn.c)(c.hover.contents)}).map(function(c){var h=c.hover.range?Ze.a.lift(c.hover.range):e.range;return new Wr(n,h,c.hover.contents,!1,c.ordinal)})}},{key:"renderHoverParts",value:function(e,i){return $a(e,i,this._editor,this._languageService,this._openerService)}}]),s}();ma=So([Wo(1,Ti.a),Wo(2,io.a),Wo(3,Do.a),Wo(4,$i.a)],ma);function $a(s,o,e,i,t){o.sort(function(oe,je){return oe.ordinal-je.ordinal});var n=new Ye.c,r=Object(G.a)(o),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=Object(G.a)(c.contents),f;try{var R=function(){var je=f.value;if(Object(Sn.c)(je))return"continue";var Me=Eo("div.hover-row.markdown-hover"),st=It.append(Me,Eo("div.hover-contents")),gt=n.add(new ga({editor:e},i,t));n.add(gt.onDidRenderAsync(function(){st.className="hover-contents code-hover-contents",s.onContentsChanged()}));var jt=n.add(gt.render(je));st.appendChild(jt.element),s.fragment.appendChild(Me)};for(h.s();!(f=h.n()).done;)var X=R()}catch(oe){h.e(oe)}finally{h.f()}}}catch(oe){r.e(oe)}finally{r.f()}return n}var ko=a("eQg+"),Ss=a("24hK"),ks=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Po=function(s,o){return function(e,i){o(e,i,s)}},Dl=Object(P.a)(function s(o,e,i){Object(A.a)(this,s),this.marker=o,this.index=e,this.total=i}),Vl=function(){function s(o,e,i){var t=this;Object(A.a)(this,s),this._markerService=e,this._configService=i,this._onDidChange=new ca.b,this.onDidChange=this._onDidChange.event,this._dispoables=new Ye.c,this._markers=[],this._nextIdx=-1,_r.a.isUri(o)?this._resourceFilter=function(c){return c.toString()===o.toString()}:o&&(this._resourceFilter=o);var n=this._configService.getValue("problems.sortOrder"),r=function(h,f){var R=Object(vr.h)(h.resource.toString(),f.resource.toString());return R===0&&(n==="position"?R=Ze.a.compareRangesUsingStarts(h,f)||Zo.c.compare(h.severity,f.severity):R=Zo.c.compare(h.severity,f.severity)||Ze.a.compareRangesUsingStarts(h,f)),R},l=function(){t._markers=t._markerService.read({resource:_r.a.isUri(o)?o:void 0,severities:Zo.c.Error|Zo.c.Warning|Zo.c.Info}),typeof o=="function"&&(t._markers=t._markers.filter(function(h){return t._resourceFilter(h.resource)})),t._markers.sort(r)};l(),this._dispoables.add(e.onMarkerChanged(function(c){(!t._resourceFilter||c.some(function(h){return t._resourceFilter(h)}))&&(l(),t._nextIdx=-1,t._onDidChange.fire())}))}return Object(P.a)(s,[{key:"dispose",value:function(){this._dispoables.dispose(),this._onDidChange.dispose()}},{key:"matches",value:function(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}},{key:"selected",get:function(){var e=this._markers[this._nextIdx];return e&&new Dl(e,this._nextIdx+1,this._markers.length)}},{key:"_initIdx",value:function(e,i,t){var n=!1,r=this._markers.findIndex(function(f){return f.resource.toString()===e.uri.toString()});r<0&&(r=Object(Wn.e)(this._markers,{resource:e.uri},function(f,R){return Object(vr.h)(f.resource.toString(),R.resource.toString())}),r<0&&(r=~r));for(var l=r;l<this._markers.length;l++){var c=Ze.a.lift(this._markers[l]);if(c.isEmpty()){var h=e.getWordAtPosition(c.getStartPosition());h&&(c=new Ze.a(c.startLineNumber,h.startColumn,c.startLineNumber,h.endColumn))}if(i&&(c.containsPosition(i)||i.isBeforeOrEqual(c.getStartPosition()))){this._nextIdx=l,n=!0;break}if(this._markers[l].resource.toString()!==e.uri.toString())break}n||(this._nextIdx=t?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}},{key:"resetIndex",value:function(){this._nextIdx=-1}},{key:"move",value:function(e,i,t){if(this._markers.length===0)return!1;var n=this._nextIdx;return this._nextIdx===-1?this._initIdx(i,t,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),n!==this._nextIdx}},{key:"find",value:function(e,i){var t=this._markers.findIndex(function(n){return n.resource.toString()===e.toString()});if(!(t<0)){for(;t<this._markers.length;t++)if(Ze.a.containsPosition(this._markers[t],i))return new Dl(this._markers[t],t+1,this._markers.length)}}}]),s}();Vl=ks([Po(1,Zo.b),Po(2,Do.a)],Vl);var nl=Object(ia.c)("IMarkerNavigationService"),ku=function(){function s(o,e){Object(A.a)(this,s),this._markerService=o,this._configService=e,this._provider=new Ss.a}return Object(P.a)(s,[{key:"getMarkerList",value:function(e){var i=Object(G.a)(this._provider),t;try{for(i.s();!(t=i.n()).done;){var n=t.value,r=n.getMarkerList(e);if(r)return r}}catch(l){i.e(l)}finally{i.f()}return new Vl(e,this._markerService,this._configService)}}]),s}();ku=ks([Po(0,Zo.b),Po(1,Do.a)],ku),Object(Cs.b)(nl,ku,1);var Ic=a("yv4k"),Fd=a("s1IP"),ru=a("S3by"),oc;(function(s){function o(e){switch(e){case ru.a.Ignore:return"severity-ignore "+Fa.a.asClassName(Tr.a.info);case ru.a.Info:return Fa.a.asClassName(Tr.a.info);case ru.a.Warning:return Fa.a.asClassName(Tr.a.warning);case ru.a.Error:return Fa.a.asClassName(Tr.a.error);default:return""}}s.className=o})(oc||(oc={}));var uo=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},qa=function(s,o){return function(e,i){o(e,i,s)}},os=function(){function s(o,e,i,t,n){var r=this;Object(A.a)(this,s),this._openerService=t,this._labelService=n,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Ye.c,this._editor=e;var l=document.createElement("div");l.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),l.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),l.appendChild(this._relatedBlock),this._disposables.add(It.addStandardDisposableListener(this._relatedBlock,"click",function(c){c.preventDefault();var h=r._relatedDiagnostics.get(c.target);h&&i(h)})),this._scrollable=new Tc.c(l,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),o.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(function(c){l.style.left="-".concat(c.scrollLeft,"px"),l.style.top="-".concat(c.scrollTop,"px")})),this._disposables.add(this._scrollable)}return Object(P.a)(s,[{key:"dispose",value:function(){Object(Ye.i)(this._disposables)}},{key:"update",value:function(e){var i=this,t=e.source,n=e.message,r=e.relatedInformation,l=e.code,c=((t==null?void 0:t.length)||0)+"()".length;l&&(typeof l=="string"?c+=l.length:c+=l.value.length);var h=Object(vr.S)(n);this._lines=h.length,this._longestLineLength=0;var f=Object(G.a)(h),R;try{for(f.s();!(R=f.n()).done;){var X=R.value;this._longestLineLength=Math.max(X.length+c,this._longestLineLength)}}catch(pa){f.e(pa)}finally{f.f()}It.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);var oe=this._messageBlock,je=Object(G.a)(h),Me;try{for(je.s();!(Me=je.n()).done;){var st=Me.value;oe=document.createElement("div"),oe.innerText=st,st===""&&(oe.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(oe)}}catch(pa){je.e(pa)}finally{je.f()}if(t||l){var gt=document.createElement("span");if(gt.classList.add("details"),oe.appendChild(gt),t){var jt=document.createElement("span");jt.innerText=t,jt.classList.add("source"),gt.appendChild(jt)}if(l)if(typeof l=="string"){var Xt=document.createElement("span");Xt.innerText="(".concat(l,")"),Xt.classList.add("code"),gt.appendChild(Xt)}else{this._codeLink=It.$("a.code-link"),this._codeLink.setAttribute("href","".concat(l.target.toString())),this._codeLink.onclick=function(pa){i._openerService.open(l.target,{allowCommands:!0}),pa.preventDefault(),pa.stopPropagation()};var sn=It.append(this._codeLink,It.$("span"));sn.innerText=l.value,gt.appendChild(this._codeLink)}}if(It.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Object(Wn.s)(r)){var qn=this._relatedBlock.appendChild(document.createElement("div"));qn.style.paddingTop="".concat(Math.floor(this._editor.getOption(64)*.66),"px"),this._lines+=1;var Hn=Object(G.a)(r),fi;try{for(Hn.s();!(fi=Hn.n()).done;){var Ci=fi.value,wi=document.createElement("div"),Ai=document.createElement("a");Ai.classList.add("filename"),Ai.innerText="".concat(this._labelService.getUriBasenameLabel(Ci.resource),"(").concat(Ci.startLineNumber,", ").concat(Ci.startColumn,"): "),Ai.title=this._labelService.getUriLabel(Ci.resource),this._relatedDiagnostics.set(Ai,Ci);var jr=document.createElement("span");jr.innerText=Ci.message,wi.appendChild(Ai),wi.appendChild(jr),this._lines+=1,qn.appendChild(wi)}}catch(pa){Hn.e(pa)}finally{Hn.f()}}var dr=this._editor.getOption(48),Dr=Math.ceil(dr.typicalFullwidthCharacterWidth*this._longestLineLength*.75),Kr=dr.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:Dr,scrollHeight:Kr})}},{key:"layout",value:function(e,i){this._scrollable.getDomNode().style.height="".concat(e,"px"),this._scrollable.getDomNode().style.width="".concat(i,"px"),this._scrollable.setScrollDimensions({width:i,height:e})}},{key:"getHeightInLines",value:function(){return Math.min(17,this._lines)}},{key:"getAriaLabel",value:function(e){var i="";switch(e.severity){case Zo.c.Error:i=We.b("Error","Error");break;case Zo.c.Warning:i=We.b("Warning","Warning");break;case Zo.c.Info:i=We.b("Info","Info");break;case Zo.c.Hint:i=We.b("Hint","Hint");break}var t=We.b("marker aria","{0} at {1}. ",i,e.startLineNumber+":"+e.startColumn),n=this._editor.getModel();if(n&&e.startLineNumber<=n.getLineCount()&&e.startLineNumber>=1){var r=n.getLineContent(e.startLineNumber);t="".concat(r,", ").concat(t)}return t}}]),s}(),Zs=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h){var f;return Object(A.a)(this,e),f=o.call(this,i,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},l),f._themeService=t,f._openerService=n,f._menuService=r,f._contextKeyService=c,f._labelService=h,f._callOnDispose=new Ye.c,f._onDidSelectRelatedInformation=new ca.b,f.onDidSelectRelatedInformation=f._onDidSelectRelatedInformation.event,f._severity=Zo.c.Warning,f._backgroundColor=Ma.a.white,f._applyTheme(t.getColorTheme()),f._callOnDispose.add(t.onDidColorThemeChange(f._applyTheme.bind(Object(nn.a)(f)))),f.create(),f}return Object(P.a)(e,[{key:"_applyTheme",value:function(t){this._backgroundColor=t.getColor(Dm);var n=ud,r=mf;this._severity===Zo.c.Warning?(n=wh,r=Sm):this._severity===Zo.c.Info&&(n=pf,r=km);var l=t.getColor(n),c=t.getColor(r);this.style({arrowColor:l,frameColor:l,headerBackgroundColor:c,primaryHeadingColor:t.getColor(oh),secondaryHeadingColor:t.getColor(ef)})}},{key:"_applyStyles",value:function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),Object(bn.a)(Object(An.a)(e.prototype),"_applyStyles",this).call(this)}},{key:"dispose",value:function(){this._callOnDispose.dispose(),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"_fillHead",value:function(t){var n=this;Object(bn.a)(Object(An.a)(e.prototype),"_fillHead",this).call(this,t),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(function(c){return n.editor.focus()}));var r=[],l=this._menuService.createMenu(e.TitleMenu,this._contextKeyService);Object(Ol.c)(l,void 0,r),this._actionbarWidget.push(r,{label:!1,icon:!0,index:0}),l.dispose()}},{key:"_fillTitleIcon",value:function(t){this._icon=It.append(t,It.$(""))}},{key:"_fillBody",value:function(t){var n=this;this._parentContainer=t,t.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),t.appendChild(this._container),this._message=new os(this._container,this.editor,function(r){return n._onDidSelectRelatedInformation.fire(r)},this._openerService,this._labelService),this._disposables.add(this._message)}},{key:"show",value:function(){throw new Error("call showAtMarker")}},{key:"showAtMarker",value:function(t,n,r){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getColorTheme());var l=Ze.a.lift(t),c=this.editor.getPosition(),h=c&&l.containsPosition(c)?c:l.getStartPosition();Object(bn.a)(Object(An.a)(e.prototype),"show",this).call(this,h,this.computeRequiredHeight());var f=this.editor.getModel();if(f){var R=r>1?We.b("problems","{0} of {1} problems",n,r):We.b("change","{0} of {1} problem",n,r);this.setTitle(Object(mo.b)(f.uri),R)}this._icon.className="codicon ".concat(oc.className(Zo.c.toSeverity(this._severity))),this.editor.revealPositionNearTop(h,0),this.editor.focus()}},{key:"updateMarker",value:function(t){this._container.classList.remove("stale"),this._message.update(t)}},{key:"showStale",value:function(){this._container.classList.add("stale"),this._relayout()}},{key:"_doLayoutBody",value:function(t,n){Object(bn.a)(Object(An.a)(e.prototype),"_doLayoutBody",this).call(this,t,n),this._heightInPixel=t,this._message.layout(t,n),this._container.style.height="".concat(t,"px")}},{key:"_onWidth",value:function(t){this._message.layout(this._heightInPixel,t)}},{key:"_relayout",value:function(){Object(bn.a)(Object(An.a)(e.prototype),"_relayout",this).call(this,this.computeRequiredHeight())}},{key:"computeRequiredHeight",value:function(){return 3+this._message.getHeightInLines()}}]),e}(xu);Zs.TitleMenu=new Ht.c("gotoErrorTitleMenu"),Zs=uo([qa(1,si.b),qa(2,io.a),qa(3,Ht.b),qa(4,ia.a),qa(5,Tn.b),qa(6,wc.a)],Zs);var ms=Object(lt.qc)(lt.H,lt.G),ld=Object(lt.qc)(lt.fb,lt.eb),il=Object(lt.qc)(lt.U,lt.T),ud=Object(lt.Fc)("editorMarkerNavigationError.background",{dark:ms,light:ms,hcDark:lt.w,hcLight:lt.w},We.b("editorMarkerNavigationError","Editor marker navigation widget error color.")),mf=Object(lt.Fc)("editorMarkerNavigationError.headerBackground",{dark:Object(lt.Sc)(ud,.1),light:Object(lt.Sc)(ud,.1),hcDark:null,hcLight:null},We.b("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),wh=Object(lt.Fc)("editorMarkerNavigationWarning.background",{dark:ld,light:ld,hcDark:lt.w,hcLight:lt.w},We.b("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Sm=Object(lt.Fc)("editorMarkerNavigationWarning.headerBackground",{dark:Object(lt.Sc)(wh,.1),light:Object(lt.Sc)(wh,.1),hcDark:"#0C141F",hcLight:Object(lt.Sc)(wh,.2)},We.b("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),pf=Object(lt.Fc)("editorMarkerNavigationInfo.background",{dark:il,light:il,hcDark:lt.w,hcLight:lt.w},We.b("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),km=Object(lt.Fc)("editorMarkerNavigationInfo.headerBackground",{dark:Object(lt.Sc)(pf,.1),light:Object(lt.Sc)(pf,.1),hcDark:null,hcLight:null},We.b("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Dm=Object(lt.Fc)("editorMarkerNavigation.background",{dark:lt.F,light:lt.F,hcDark:lt.F,hcLight:lt.F},We.b("editorMarkerNavigationBackground","Editor marker navigation widget background.")),dg=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},cd=function(s,o){return function(e,i){o(e,i,s)}},bf=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Fu=function(){function s(o,e,i,t,n){Object(A.a)(this,s),this._markerNavigationService=e,this._contextKeyService=i,this._editorService=t,this._instantiationService=n,this._sessionDispoables=new Ye.c,this._editor=o,this._widgetVisible=pv.bindTo(this._contextKeyService)}return Object(P.a)(s,[{key:"dispose",value:function(){this._cleanUp(),this._sessionDispoables.dispose()}},{key:"_cleanUp",value:function(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}},{key:"_getOrCreateModel",value:function(e){var i=this;if(this._model&&this._model.matches(e))return this._model;var t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Zs,this._editor),this._widget.onDidClose(function(){return i.close()},this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(function(n){var r,l,c;(!((r=i._model)===null||r===void 0?void 0:r.selected)||!Ze.a.containsPosition((l=i._model)===null||l===void 0?void 0:l.selected.marker,n.position))&&((c=i._model)===null||c===void 0||c.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(function(){if(!(!i._widget||!i._widget.position||!i._model)){var n=i._model.find(i._editor.getModel().uri,i._widget.position);n?i._widget.updateMarker(n.marker):i._widget.showStale()}})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(function(n){i._editorService.openCodeEditor({resource:n.resource,options:{pinned:!0,revealIfOpened:!0,selection:Ze.a.lift(n).collapseToStart()}},i._editor),i.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(function(){return i._cleanUp()})),this._model}},{key:"close",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this._cleanUp(),e&&this._editor.focus()}},{key:"showAtMarker",value:function(e){if(this._editor.hasModel()){var i=this._getOrCreateModel(this._editor.getModel().uri);i.resetIndex(),i.move(!0,this._editor.getModel(),new nt.a(e.startLineNumber,e.startColumn)),i.selected&&this._widget.showAtMarker(i.selected.marker,i.selected.index,i.selected.total)}}},{key:"nagivate",value:function(e,i){var t,n;return bf(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!this._editor.hasModel()){f.next=14;break}if(l=this._getOrCreateModel(i?void 0:this._editor.getModel().uri),l.move(e,this._editor.getModel(),this._editor.getPosition()),l.selected){f.next=5;break}return f.abrupt("return");case 5:if(l.selected.marker.resource.toString()===this._editor.getModel().uri.toString()){f.next=13;break}return this._cleanUp(),f.next=9,this._editorService.openCodeEditor({resource:l.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:l.selected.marker}},this._editor);case 9:c=f.sent,c&&((t=s.get(c))===null||t===void 0||t.close(),(n=s.get(c))===null||n===void 0||n.nagivate(e,i)),f.next=14;break;case 13:this._widget.showAtMarker(l.selected.marker,l.selected.index,l.selected.total);case 14:case"end":return f.stop()}},r,this)}))}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();Fu.ID="editor.contrib.markerController",Fu=dg([cd(1,nl),cd(2,Tn.b),cd(3,zt.a),cd(4,ia.a)],Fu);var yf=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this,n),r._next=i,r._multiFile=t,r}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;return bf(this,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:n.hasModel()&&((r=Fu.get(n))===null||r===void 0||r.nagivate(this._next,this._multiFile));case 1:case"end":return h.stop()}},l,this)}))}}]),e}(wt.b),jh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!0,!1,{id:e.ID,label:e.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ut.a.focus,primary:512|66,weight:100},menuOpts:{menuId:Zs.TitleMenu,title:e.LABEL,icon:Object(be.b)("marker-navigation-next",Tr.a.arrowDown,We.b("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}return Object(P.a)(e)}(yf);jh.ID="editor.action.marker.next",jh.LABEL=We.b("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");var _f=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!1,!1,{id:e.ID,label:e.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ut.a.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:Zs.TitleMenu,title:e.LABEL,icon:Object(be.b)("marker-navigation-previous",Tr.a.arrowUp,We.b("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}return Object(P.a)(e)}(yf);_f.ID="editor.action.marker.prev",_f.LABEL=We.b("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");var hg=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:We.b("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ut.a.focus,primary:66,weight:100},menuOpts:{menuId:Ht.c.MenubarGoMenu,title:We.b({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}return Object(P.a)(e)}(yf),mv=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:We.b("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ut.a.focus,primary:1024|66,weight:100},menuOpts:{menuId:Ht.c.MenubarGoMenu,title:We.b({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}return Object(P.a)(e)}(yf);Object(wt.m)(Fu.ID,Fu,4),Object(wt.k)(jh),Object(wt.k)(_f),Object(wt.k)(hg),Object(wt.k)(mv);var pv=new Tn.c("markersNavigationVisible",!1),wm=wt.d.bindToContribution(Fu.get);Object(wt.l)(new wm({id:"closeMarkersNavigation",precondition:pv,handler:function(o){return o.close()},kbOpts:{weight:100+50,kbExpr:Ut.a.focus,primary:9,secondary:[1024|9]}}));var bv=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},yv=function(s,o){return function(e,i){o(e,i,s)}},au=It.$,jm=function(){function s(o,e,i){Object(A.a)(this,s),this.owner=o,this.range=e,this.marker=i}return Object(P.a)(s,[{key:"isValidForHoverAnchor",value:function(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),s}(),fg={type:1,filter:{include:Zr.QuickFix},triggerAction:Xa.QuickFixHover},eo=function(){function s(o,e,i,t){Object(A.a)(this,s),this._editor=o,this._markerDecorationsService=e,this._openerService=i,this._languageFeaturesService=t,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}return Object(P.a)(s,[{key:"computeSync",value:function(e,i){if(!this._editor.hasModel()||e.type!==1&&!e.supportsMarkerHover)return[];var t=this._editor.getModel(),n=e.range.startLineNumber,r=t.getLineMaxColumn(n),l=[],c=Object(G.a)(i),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,R=f.range.startLineNumber===n?f.range.startColumn:1,X=f.range.endLineNumber===n?f.range.endColumn:r,oe=this._markerDecorationsService.getMarker(t.uri,f);if(!!oe){var je=new Ze.a(e.range.startLineNumber,R,e.range.startLineNumber,X);l.push(new jm(this,je,oe))}}}catch(Me){c.e(Me)}finally{c.f()}return l}},{key:"renderHoverParts",value:function(e,i){var t=this;if(!i.length)return Ye.a.None;var n=new Ye.c;i.forEach(function(l){return e.fragment.appendChild(t.renderMarkerHover(l,n))});var r=i.length===1?i[0]:i.sort(function(l,c){return Zo.c.compare(l.marker.severity,c.marker.severity)})[0];return this.renderMarkerStatusbar(e,r,n),n}},{key:"renderMarkerHover",value:function(e,i){var t=this,n=au("div.hover-row"),r=It.append(n,au("div.marker.hover-contents")),l=e.marker,c=l.source,h=l.message,f=l.code,R=l.relatedInformation;this._editor.applyFontInfo(r);var X=It.append(r,au("span"));if(X.style.whiteSpace="pre-wrap",X.innerText=h,c||f)if(f&&typeof f!="string"){var oe=au("span");if(c){var je=It.append(oe,au("span"));je.innerText=c}var Me=It.append(oe,au("a.code-link"));Me.setAttribute("href",f.target.toString()),i.add(It.addDisposableListener(Me,"click",function(Hn){t._openerService.open(f.target,{allowCommands:!0}),Hn.preventDefault(),Hn.stopPropagation()}));var st=It.append(Me,au("span"));st.innerText=f.value;var gt=It.append(r,oe);gt.style.opacity="0.6",gt.style.paddingLeft="6px"}else{var jt=It.append(r,au("span"));jt.style.opacity="0.6",jt.style.paddingLeft="6px",jt.innerText=c&&f?"".concat(c,"(").concat(f,")"):c||"(".concat(f,")")}if(Object(Wn.s)(R)){var Xt=Object(G.a)(R),sn;try{var qn=function(){var fi=sn.value,Ci=fi.message,wi=fi.resource,Ai=fi.startLineNumber,jr=fi.startColumn;{var dr=It.append(r,au("div"));dr.style.marginTop="8px";var Dr=It.append(dr,au("a"));Dr.innerText="".concat(Object(mo.b)(wi),"(").concat(Ai,", ").concat(jr,"): "),Dr.style.cursor="pointer",i.add(It.addDisposableListener(Dr,"click",function(pa){pa.stopPropagation(),pa.preventDefault(),t._openerService&&t._openerService.open(wi,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Ai,startColumn:jr}}}).catch(Li.h)}));var Kr=It.append(dr,au("span"));Kr.innerText=Ci,t._editor.applyFontInfo(Kr)}};for(Xt.s();!(sn=Xt.n()).done;)qn()}catch(Hn){Xt.e(Hn)}finally{Xt.f()}}return n}},{key:"renderMarkerStatusbar",value:function(e,i,t){var n=this;if((i.marker.severity===Zo.c.Error||i.marker.severity===Zo.c.Warning||i.marker.severity===Zo.c.Info)&&e.statusBar.addAction({label:We.b("view problem","View Problem"),commandId:jh.ID,run:function(){var f;e.hide(),(f=Fu.get(n._editor))===null||f===void 0||f.showAtMarker(i.marker),n._editor.focus()}}),!this._editor.getOption(88)){var r=e.statusBar.append(au("div"));this.recentMarkerCodeActionsInfo&&(Zo.a.makeKey(this.recentMarkerCodeActionsInfo.marker)===Zo.a.makeKey(i.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(r.textContent=We.b("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);var l=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?Ye.a.None:t.add(Object(mt.l)(function(){return r.textContent=We.b("checkingForQuickFixes","Checking for quick fixes...")},200));r.textContent||(r.textContent=String.fromCharCode(160));var c=this.getCodeActions(i.marker);t.add(Object(Ye.l)(function(){return c.cancel()})),c.then(function(h){if(l.dispose(),n.recentMarkerCodeActionsInfo={marker:i.marker,hasCodeActions:h.validActions.length>0},!n.recentMarkerCodeActionsInfo.hasCodeActions){h.dispose(),r.textContent=We.b("noQuickFixes","No quick fixes available");return}r.style.display="none";var f=!1;t.add(Object(Ye.l)(function(){f||h.dispose()})),e.statusBar.addAction({label:We.b("quick fixes","Quick Fix..."),commandId:Rt,run:function(X){f=!0;var oe=Pl.get(n._editor),je=It.getDomNodePagePosition(X);e.hide(),oe==null||oe.showCodeActions(fg,h,{x:je.left,y:je.top,width:je.width,height:je.height})}})},Li.h)}}},{key:"getCodeActions",value:function(e){var i=this;return Object(mt.k)(function(t){return xe(i._languageFeaturesService.codeActionProvider,i._editor.getModel(),new Ze.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),fg,Ua.c.None,t)})}}]),s}();eo=bv([yv(1,ko.a),yv(2,io.a),yv(3,$i.a)],eo);var Lo;function As(s){Lo=s}function xs(){return Lo}var Em=function(){function s(){Object(A.a)(this,s),this.indentation=0,this.changedObservablesSets=new WeakMap}return Object(P.a)(s,[{key:"textToConsoleArgs",value:function(e){return Pc([Eh(CC("|  ",this.indentation)),e])}},{key:"formatInfo",value:function(e){return e.didChange?[Eh(" "),ou(Bd(e.oldValue,70),{color:"red",strikeThrough:!0}),Eh(" "),ou(Bd(e.newValue,60),{color:"green"})]:[Eh(" (unchanged)")]}},{key:"handleObservableChanged",value:function(e,i){var t;(t=console).log.apply(t,Object(on.a)(this.textToConsoleArgs([dd("observable value changed"),ou(e.debugName,{color:"BlueViolet"})].concat(Object(on.a)(this.formatInfo(i))))))}},{key:"formatChanges",value:function(e){if(e.size!==0)return ou(" (changed deps: "+Object(on.a)(e).map(function(i){return i.debugName}).join(", ")+")",{color:"gray"})}},{key:"handleDerivedCreated",value:function(e){var i=this,t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=function(n,r){return i.changedObservablesSets.get(e).add(n),t.apply(e,[n,r])}}},{key:"handleDerivedRecomputed",value:function(e,i){var t,n=this.changedObservablesSets.get(e);(t=console).log.apply(t,Object(on.a)(this.textToConsoleArgs([dd("derived recomputed"),ou(e.debugName,{color:"BlueViolet"})].concat(Object(on.a)(this.formatInfo(i)),[this.formatChanges(n)])))),n.clear()}},{key:"handleFromEventObservableTriggered",value:function(e,i){var t;(t=console).log.apply(t,Object(on.a)(this.textToConsoleArgs([dd("observable from event triggered"),ou(e.debugName,{color:"BlueViolet"})].concat(Object(on.a)(this.formatInfo(i))))))}},{key:"handleAutorunCreated",value:function(e){var i=this,t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=function(n,r){return i.changedObservablesSets.get(e).add(n),t.apply(e,[n,r])}}},{key:"handleAutorunTriggered",value:function(e){var i,t=this.changedObservablesSets.get(e);(i=console).log.apply(i,Object(on.a)(this.textToConsoleArgs([dd("autorun"),ou(e.debugName,{color:"BlueViolet"}),this.formatChanges(t)]))),t.clear()}},{key:"handleBeginTransaction",value:function(e){var i,t=e.getDebugName();t===void 0&&(t=""),(i=console).log.apply(i,Object(on.a)(this.textToConsoleArgs([dd("transaction"),ou(t,{color:"BlueViolet"})]))),this.indentation++}},{key:"handleEndTransaction",value:function(){this.indentation--}}]),s}();function Pc(s){var o=new Array,e={},i=e,t="";function n(l){if("length"in l){var c=Object(G.a)(l),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;f&&n(f)}}catch(R){c.e(R)}finally{c.f()}}else"text"in l?(t+="%c".concat(l.text),o.push(l.style),l.data&&Object.assign(i,l.data)):"data"in l&&Object.assign(i,l.data)}n(s);var r=[t].concat(o);return Object.keys(i).length>0&&r.push(i),r}function Eh(s){return ou(s,{color:"black"})}function dd(s){return ou(OC("".concat(s,": "),10),{color:"black",bold:!0})}function ou(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{color:"black"};function e(t){return Object.entries(t).reduce(function(n,r){var l=Object(O.a)(r,2),c=l[0],h=l[1];return"".concat(n).concat(c,":").concat(h,";")},"")}var i={color:o.color};return o.strikeThrough&&(i["text-decoration"]="line-through"),o.bold&&(i["font-weight"]="bold"),{text:s,style:e(i)}}function Bd(s,o){switch(typeof s){case"number":return""+s;case"string":return s.length+2<=o?'"'.concat(s,'"'):'"'.concat(s.substr(0,o-7),'"+...');case"boolean":return s?"true":"false";case"undefined":return"undefined";case"object":return s===null?"null":Array.isArray(s)?yC(s,o):_C(s,o);case"symbol":return s.toString();case"function":return"[[Function".concat(s.name?" "+s.name:"","]]");default:return""+s}}function yC(s,o){var e="[ ",i=!0,t=Object(G.a)(s),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;if(i||(e+=", "),e.length-5>o){e+="...";break}i=!1,e+="".concat(Bd(r,o-e.length))}}catch(l){t.e(l)}finally{t.f()}return e+=" ]",e}function _C(s,o){for(var e="{ ",i=!0,t=0,n=Object.entries(s);t<n.length;t++){var r=n[t],l=Object(O.a)(r,2),c=l[0],h=l[1];if(i||(e+=", "),e.length-5>o){e+="...";break}i=!1,e+="".concat(c,": ").concat(Bd(h,o-e.length))}return e+=" }",e}function CC(s,o){for(var e="",i=1;i<=o;i++)e+=s;return e}function OC(s,o){for(;s.length<o;)s+=" ";return s}var Ub;function SC(s){Ub=s}var zb=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"TChange",get:function(){return null}},{key:"reportChanges",value:function(){this.get()}},{key:"read",value:function(e){return e?e.readObservable(this):this.get()}},{key:"map",value:function(e){var i=this;return Ub(function(){var t=Lm(e);return t!==void 0?t:"".concat(i.debugName," (mapped)")},function(t){return e(i.read(t),t)})}}]),s}(),_v=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.apply(this,arguments),i.observers=new Set,i}return Object(P.a)(e,[{key:"addObserver",value:function(t){var n=this.observers.size;this.observers.add(t),n===0&&this.onFirstObserverAdded()}},{key:"removeObserver",value:function(t){var n=this.observers.delete(t);n&&this.observers.size===0&&this.onLastObserverRemoved()}},{key:"onFirstObserverAdded",value:function(){}},{key:"onLastObserverRemoved",value:function(){}}]),e}(zb);function wl(s,o){var e,i,t=new Gb(s,o);try{(e=xs())===null||e===void 0||e.handleBeginTransaction(t),s(t)}finally{t.finish(),(i=xs())===null||i===void 0||i.handleEndTransaction()}}function Kb(s,o,e){s?o(s):wl(o,e)}var Gb=function(){function s(o,e){Object(A.a)(this,s),this.fn=o,this._getDebugName=e,this.updatingObservers=[]}return Object(P.a)(s,[{key:"getDebugName",value:function(){return this._getDebugName?this._getDebugName():Lm(this.fn)}},{key:"updateObserver",value:function(e,i){this.updatingObservers.push({observer:e,observable:i}),e.beginUpdate(i)}},{key:"finish",value:function(){var e=this.updatingObservers;this.updatingObservers=null;var i=Object(G.a)(e),t;try{for(i.s();!(t=i.n()).done;){var n=t.value,r=n.observer,l=n.observable;r.endUpdate(l)}}catch(c){i.e(c)}finally{i.f()}}}]),s}();function Lm(s){var o=s.toString(),e=/\/\*\*\s*@description\s*([^*]*)\*\//,i=e.exec(o),t=i?i[1]:void 0;return t==null?void 0:t.trim()}function Cf(s,o){return new $b(s,o)}var $b=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n.debugName=i,n._value=t,n}return Object(P.a)(e,[{key:"get",value:function(){return this._value}},{key:"set",value:function(t,n,r){var l=this,c;if(this._value!==t){var h;n||(n=h=new Gb(function(){},function(){return"Setting ".concat(l.debugName)}));try{var f=this._value;this._setValue(t),(c=xs())===null||c===void 0||c.handleObservableChanged(this,{oldValue:f,newValue:t,change:r,didChange:!0});var R=Object(G.a)(this.observers),X;try{for(R.s();!(X=R.n()).done;){var oe=X.value;n.updateObserver(oe,this),oe.handleChange(this,r)}}catch(je){R.e(je)}finally{R.f()}}finally{h&&h.finish()}}}},{key:"toString",value:function(){return"".concat(this.debugName,": ").concat(this._value)}},{key:"_setValue",value:function(t){this._value=t}}]),e}(_v);function Mm(s,o){return new kC(s,o)}var kC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"_setValue",value:function(t){this._value!==t&&(this._value&&this._value.dispose(),this._value=t)}},{key:"dispose",value:function(){var t;(t=this._value)===null||t===void 0||t.dispose()}}]),e}($b);function Bu(s,o){return new Qb(s,o,void 0,void 0)}function DC(s,o,e){return new Qb(s,e,o.createEmptyChangeSummary,o.handleChange)}SC(Bu);var Qb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;Object(A.a)(this,e);var c,h;return l=o.call(this),l._debugName=i,l.computeFn=t,l.createChangeSummary=n,l._handleChange=r,l.state=0,l.value=void 0,l.updateCount=0,l.dependencies=new Set,l.dependenciesToBeRemoved=new Set,l.changeSummary=void 0,l.changeSummary=(c=l.createChangeSummary)===null||c===void 0?void 0:c.call(Object(nn.a)(l)),(h=xs())===null||h===void 0||h.handleDerivedCreated(Object(nn.a)(l)),l}return Object(P.a)(e,[{key:"debugName",get:function(){return typeof this._debugName=="function"?this._debugName():this._debugName}},{key:"onLastObserverRemoved",value:function(){this.state=0,this.value=void 0;var t=Object(G.a)(this.dependencies),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;r.removeObserver(this)}}catch(l){t.e(l)}finally{t.f()}this.dependencies.clear()}},{key:"get",value:function(){var t;if(this.observers.size===0){var n=this.computeFn(this,(t=this.createChangeSummary)===null||t===void 0?void 0:t.call(this));return this.onLastObserverRemoved(),n}else{do{if(this.state===1){this.state=3;var r=Object(G.a)(this.dependencies),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;if(c.reportChanges(),this.state===2)break}}catch(h){r.e(h)}finally{r.f()}}this._recomputeIfNeeded()}while(this.state!==3);return this.value}}},{key:"_recomputeIfNeeded",value:function(){var t,n;if(this.state!==3){var r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;var l=this.state!==0,c=this.value;this.state=3;var h=this.changeSummary;this.changeSummary=(t=this.createChangeSummary)===null||t===void 0?void 0:t.call(this);try{this.value=this.computeFn(this,h)}finally{var f=Object(G.a)(this.dependenciesToBeRemoved),R;try{for(f.s();!(R=f.n()).done;){var X=R.value;X.removeObserver(this)}}catch(gt){f.e(gt)}finally{f.f()}this.dependenciesToBeRemoved.clear()}var oe=l&&c!==this.value;if((n=xs())===null||n===void 0||n.handleDerivedRecomputed(this,{oldValue:c,newValue:this.value,change:void 0,didChange:oe}),oe){var je=Object(G.a)(this.observers),Me;try{for(je.s();!(Me=je.n()).done;){var st=Me.value;st.handleChange(this,void 0)}}catch(gt){je.e(gt)}finally{je.f()}}}}},{key:"toString",value:function(){return"LazyDerived<".concat(this.debugName,">")}},{key:"beginUpdate",value:function(t){this.updateCount++;var n=this.updateCount===1;if(this.state===3&&(this.state=1,!n)){var r=Object(G.a)(this.observers),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;c.handlePossibleChange(this)}}catch(X){r.e(X)}finally{r.f()}}if(n){var h=Object(G.a)(this.observers),f;try{for(h.s();!(f=h.n()).done;){var R=f.value;R.beginUpdate(this)}}catch(X){h.e(X)}finally{h.f()}}}},{key:"endUpdate",value:function(t){if(this.updateCount--,this.updateCount===0){var n=Object(on.a)(this.observers),r=Object(G.a)(n),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;c.endUpdate(this)}}catch(h){r.e(h)}finally{r.f()}}if(this.updateCount<0)throw new Li.a}},{key:"handlePossibleChange",value:function(t){if(this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){this.state=1;var n=Object(G.a)(this.observers),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;l.handlePossibleChange(this)}}catch(c){n.e(c)}finally{n.f()}}}},{key:"handleChange",value:function(t,n){if(this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){var r=this._handleChange?this._handleChange({changedObservable:t,change:n,didChange:function(X){return X===t}},this.changeSummary):!0,l=this.state===3;if(r&&(this.state===1||l)&&(this.state=2,l)){var c=Object(G.a)(this.observers),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;f.handlePossibleChange(this)}}catch(R){c.e(R)}finally{c.f()}}}}},{key:"readObservable",value:function(t){t.addObserver(this);var n=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),n}},{key:"addObserver",value:function(t){var n=!this.observers.has(t)&&this.updateCount>0;Object(bn.a)(Object(An.a)(e.prototype),"addObserver",this).call(this,t),n&&t.beginUpdate(this)}},{key:"removeObserver",value:function(t){var n=this.observers.has(t)&&this.updateCount>0;Object(bn.a)(Object(An.a)(e.prototype),"removeObserver",this).call(this,t),n&&t.endUpdate(this)}}]),e}(_v),Yb=a("FWmy");function Hl(s,o){return new Zb(s,o,void 0,void 0)}function wC(s,o){return jC(o,s)}function jC(s,o){var e=new Ye.c,i=Hl(o,function(t){e.clear(),s(t,e)});return Object(Ye.l)(function(){i.dispose(),e.dispose()})}var Zb=function(){function s(o,e,i,t){Object(A.a)(this,s);var n,r;this.debugName=o,this.runFn=e,this.createChangeSummary=i,this._handleChange=t,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this),(r=xs())===null||r===void 0||r.handleAutorunCreated(this),this._runIfNeeded()}return Object(P.a)(s,[{key:"dispose",value:function(){this.disposed=!0;var e=Object(G.a)(this.dependencies),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;t.removeObserver(this)}}catch(n){e.e(n)}finally{e.f()}this.dependencies.clear()}},{key:"_runIfNeeded",value:function(){var e,i;if(this.state!==3){var t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3,(e=xs())===null||e===void 0||e.handleAutorunTriggered(this);try{var n=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this),this.runFn(this,n)}finally{var r=Object(G.a)(this.dependenciesToBeRemoved),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;c.removeObserver(this)}}catch(h){r.e(h)}finally{r.f()}this.dependenciesToBeRemoved.clear()}}}},{key:"toString",value:function(){return"Autorun<".concat(this.debugName,">")}},{key:"beginUpdate",value:function(){this.state===3&&(this.state=1),this.updateCount++}},{key:"endUpdate",value:function(){var e=this;if(this.updateCount===1)do{if(this.state===1){this.state=3;var i=Object(G.a)(this.dependencies),t;try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.reportChanges(),this.state===2)break}}catch(r){i.e(r)}finally{i.f()}}this._runIfNeeded()}while(this.state!==3);this.updateCount--,Object(Yb.a)(function(){return e.updateCount>=0})}},{key:"handlePossibleChange",value:function(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}},{key:"handleChange",value:function(e,i){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){var t=this._handleChange?this._handleChange({changedObservable:e,change:i,didChange:function(r){return r===e}},this.changeSummary):!0;t&&(this.state=2)}}},{key:"readObservable",value:function(e){if(this.disposed)return e.get();e.addObserver(this);var i=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),i}}]),s}();(function(s){s.Observer=Zb})(Hl||(Hl={}));function Xb(s){return new EC(s)}var EC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t.value=i,t}return Object(P.a)(e,[{key:"debugName",get:function(){return this.toString()}},{key:"get",value:function(){return this.value}},{key:"addObserver",value:function(t){}},{key:"removeObserver",value:function(t){}},{key:"toString",value:function(){return"Const: ".concat(this.value)}}]),e}(zb);function Wd(s,o){return new Jb(s,o)}var Jb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n.event=i,n.getValue=t,n.hasValue=!1,n.handleEvent=function(r){var l,c=n.getValue(r),h=!n.hasValue||n.value!==c;(l=xs())===null||l===void 0||l.handleFromEventObservableTriggered(Object(nn.a)(n),{oldValue:n.value,newValue:c,change:void 0,didChange:h}),h&&(n.value=c,n.hasValue&&wl(function(f){var R=Object(G.a)(n.observers),X;try{for(R.s();!(X=R.n()).done;){var oe=X.value;f.updateObserver(oe,Object(nn.a)(n)),oe.handleChange(Object(nn.a)(n),void 0)}}catch(je){R.e(je)}finally{R.f()}},function(){var f=n.getDebugName();return"Event fired"+(f?": ".concat(f):"")}),n.hasValue=!0)},n}return Object(P.a)(e,[{key:"getDebugName",value:function(){return Lm(this.getValue)}},{key:"debugName",get:function(){var t=this.getDebugName();return"From Event"+(t?": ".concat(t):"")}},{key:"onFirstObserverAdded",value:function(){this.subscription=this.event(this.handleEvent)}},{key:"onLastObserverRemoved",value:function(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}},{key:"get",value:function(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this.getValue(void 0)}}]),e}(_v);(function(s){s.Observer=Jb})(Wd||(Wd={}));function LC(s,o){return new MC(s,o)}var MC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n.debugName=i,n.event=t,n.handleEvent=function(){wl(function(r){var l=Object(G.a)(n.observers),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;r.updateObserver(h,Object(nn.a)(n)),h.handleChange(Object(nn.a)(n),void 0)}}catch(f){l.e(f)}finally{l.f()}},function(){return n.debugName})},n}return Object(P.a)(e,[{key:"onFirstObserverAdded",value:function(){this.subscription=this.event(this.handleEvent)}},{key:"onLastObserverRemoved",value:function(){this.subscription.dispose(),this.subscription=void 0}},{key:"get",value:function(){}}]),e}(_v);function TC(s){return new IC(s)}var IC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t.debugName=i,t}return Object(P.a)(e,[{key:"trigger",value:function(t,n){var r=this;if(!t){wl(function(f){r.trigger(f,n)},function(){return"Trigger signal ".concat(r.debugName)});return}var l=Object(G.a)(this.observers),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;t.updateObserver(h,this),h.handleChange(this,n)}}catch(f){l.e(f)}finally{l.f()}}},{key:"get",value:function(){}}]),e}(_v);function PC(s,o){var e=new AC(o!=null?o:!1);return s.addObserver(e),o&&s.reportChanges(),Object(Ye.l)(function(){s.removeObserver(e)})}var AC=function(){function s(o){Object(A.a)(this,s),this.forceRecompute=o,this.counter=0}return Object(P.a)(s,[{key:"beginUpdate",value:function(e){this.counter++}},{key:"endUpdate",value:function(e){this.counter--,this.counter===0&&this.forceRecompute&&e.reportChanges()}},{key:"handlePossibleChange",value:function(e){}},{key:"handleChange",value:function(e,i){}}]),s}(),RC=!1;RC&&As(new Em);var AE=a("l6qN"),qb="editor.action.inlineSuggest.commit",ey="editor.action.inlineSuggest.showPrevious",ty="editor.action.inlineSuggest.showNext",ny=a("cV9m"),RE=a("ml8V"),NC=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},xC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{orientation:0};return Object(A.a)(this,e),n=o.call(this),n.submenuActionViewItems=[],n.hasSecondaryActions=!1,n._onDidChangeDropdownVisibility=n._register(new ca.f),n.onDidChangeDropdownVisibility=n._onDidChangeDropdownVisibility.event,n.disposables=new Ye.c,n.options=r,n.lookupKeybindings=typeof n.options.getKeyBinding=="function",n.toggleMenuAction=n._register(new Tm(function(){var l;return(l=n.toggleMenuActionViewItem)===null||l===void 0?void 0:l.show()},r.toggleMenuTitle)),n.element=document.createElement("div"),n.element.className="monaco-toolbar",i.appendChild(n.element),n.actionBar=n._register(new Us.a(n.element,{orientation:r.orientation,ariaLabel:r.ariaLabel,actionRunner:r.actionRunner,allowContextMenu:r.allowContextMenu,actionViewItemProvider:function(c,h){var f;if(c.id===Tm.ID)return n.toggleMenuActionViewItem=new ny.a(c,c.menuActions,t,{actionViewItemProvider:n.options.actionViewItemProvider,actionRunner:n.actionRunner,keybindingProvider:n.options.getKeyBinding,classNames:Fa.a.asClassNameArray((f=r.moreIcon)!==null&&f!==void 0?f:Tr.a.toolBarMore),anchorAlignmentProvider:n.options.anchorAlignmentProvider,menuAsChild:!!n.options.renderDropdownAsChildElement}),n.toggleMenuActionViewItem.setActionContext(n.actionBar.context),n.disposables.add(n._onDidChangeDropdownVisibility.add(n.toggleMenuActionViewItem.onDidChangeVisibility)),n.toggleMenuActionViewItem;if(r.actionViewItemProvider){var R=r.actionViewItemProvider(c,h);if(R)return R}if(c instanceof ka.e){var X=new ny.a(c,c.actions,t,{actionViewItemProvider:n.options.actionViewItemProvider,actionRunner:n.actionRunner,keybindingProvider:n.options.getKeyBinding,classNames:c.class,anchorAlignmentProvider:n.options.anchorAlignmentProvider,menuAsChild:!!n.options.renderDropdownAsChildElement});return X.setActionContext(n.actionBar.context),n.submenuActionViewItems.push(X),n.disposables.add(n._onDidChangeDropdownVisibility.add(X.onDidChangeVisibility)),X}}})),n}return Object(P.a)(e,[{key:"actionRunner",get:function(){return this.actionBar.actionRunner},set:function(t){this.actionBar.actionRunner=t}},{key:"getElement",value:function(){return this.element}},{key:"getItemAction",value:function(t){return this.actionBar.getAction(t)}},{key:"setActions",value:function(t,n){var r=this;this.clear();var l=t?t.slice(0):[];this.hasSecondaryActions=!!(n&&n.length>0),this.hasSecondaryActions&&n&&(this.toggleMenuAction.menuActions=n.slice(0),l.push(this.toggleMenuAction)),l.forEach(function(c){r.actionBar.push(c,{icon:!0,label:!1,keybinding:r.getKeybindingLabel(c)})})}},{key:"getKeybindingLabel",value:function(t){var n,r,l=this.lookupKeybindings?(r=(n=this.options).getKeyBinding)===null||r===void 0?void 0:r.call(n,t):void 0;return Object(ya.n)(l==null?void 0:l.getLabel())}},{key:"clear",value:function(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}},{key:"dispose",value:function(){this.clear(),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}}]),e}(Ye.a),Tm=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),t=t||We.b("moreActions","More Actions..."),n=o.call(this,e.ID,t,void 0,!0),n._menuActions=[],n.toggleDropdownMenu=i,n}return Object(P.a)(e,[{key:"run",value:function(){return NC(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:this.toggleDropdownMenu();case 1:case"end":return r.stop()}},t,this)}))}},{key:"menuActions",get:function(){return this._menuActions},set:function(t){this._menuActions=t}}]),e}(ka.a);Tm.ID="toolbar.toggle.more";var FC=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Cv=function(s,o){return function(e,i){o(e,i,s)}},Im=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h){var f;return Object(A.a)(this,e),f=o.call(this,i,l,Object.assign(Object.assign({getKeyBinding:function(X){var oe;return(oe=c.lookupKeybinding(X.id))!==null&&oe!==void 0?oe:void 0}},t),{allowContextMenu:!0})),f._options=t,f._menuService=n,f._contextKeyService=r,f._contextMenuService=l,f._sessionDisposables=f._store.add(new Ye.c),(t==null?void 0:t.telemetrySource)&&f._store.add(f.actionBar.onDidRun(function(R){return h.publicLog2("workbenchActionExecuted",{id:R.action.id,from:t.telemetrySource})})),f}return Object(P.a)(e,[{key:"setActions",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c,h,f;this._sessionDisposables.clear();var R=t.slice(),X=r.slice(),oe=[],je=0,Me=[],st=!1;if(((c=this._options)===null||c===void 0?void 0:c.hiddenItemStrategy)!==-1)for(var gt=0;gt<R.length;gt++){var jt=R[gt];!(jt instanceof Ht.d)&&!(jt instanceof Ht.f)||!jt.hideActions||(oe.push(jt.hideActions.toggle),jt.hideActions.toggle.checked&&je++,jt.hideActions.isHidden&&(st=!0,R[gt]=void 0,((h=this._options)===null||h===void 0?void 0:h.hiddenItemStrategy)!==0&&(Me[gt]=jt)))}if(((f=this._options)===null||f===void 0?void 0:f.maxNumberOfItems)!==void 0)for(var Xt=0,sn=0;sn<R.length;sn++){var qn=R[sn];!qn||++Xt>=this._options.maxNumberOfItems&&(R[sn]=void 0,Me[sn]=qn)}Object(Wn.g)(R),Object(Wn.g)(Me),Object(bn.a)(Object(An.a)(e.prototype),"setActions",this).call(this,R,ka.d.join(Me,X)),oe.length>0&&this._sessionDisposables.add(Object(It.addDisposableListener)(this.getElement(),"contextmenu",function(Hn){var fi,Ci,wi,Ai,jr=n.getItemAction(Hn.target);if(!!jr){Hn.preventDefault(),Hn.stopPropagation();var dr=!1;if(je===1&&((fi=n._options)===null||fi===void 0?void 0:fi.hiddenItemStrategy)===0){dr=!0;for(var Dr=0;Dr<oe.length;Dr++)if(oe[Dr].checked){oe[Dr]=Object(ka.f)({id:jr.id,label:jr.label,checked:!0,enabled:!1,run:function(){}});break}}var Kr;if(!dr&&(jr instanceof Ht.d||jr instanceof Ht.f)){if(!jr.hideActions)return;Kr=jr.hideActions.hide}else Kr=Object(ka.f)({id:"label",label:Object(We.b)("hide","Hide"),enabled:!1,run:function(){}});var pa=ka.d.join([Kr],oe);((Ci=n._options)===null||Ci===void 0?void 0:Ci.resetMenu)&&!l&&(l=[n._options.resetMenu]),st&&l&&(pa.push(new ka.d),pa.push(Object(ka.f)({id:"resetThisMenu",label:Object(We.b)("resetThisMenu","Reset Menu"),run:function(){return n._menuService.resetHiddenStates(l)}}))),n._contextMenuService.showContextMenu({getAnchor:function(){return Hn},getActions:function(){return pa},menuId:(wi=n._options)===null||wi===void 0?void 0:wi.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},(Ai=n._options)===null||Ai===void 0?void 0:Ai.menuOptions),contextKeyService:n._contextKeyService})}}))}}]),e}(xC);Im=FC([Cv(2,Ht.b),Cv(3,Tn.b),Cv(4,Ns.a),Cv(5,Mi.a),Cv(6,Ka.a)],Im);var Pm=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},sc=function(s,o){return function(e,i){o(e,i,s)}},Am=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r.editor=i,r.model=t,r.instantiationService=n,r.alwaysShowToolbar=Wd(r.editor.onDidChangeConfiguration,function(){return r.editor.getOption(60).showToolbar==="always"}),r.sessionPosition=void 0,r.position=Bu("position",function(l){var c,h,f,R=(c=r.model.read(l))===null||c===void 0?void 0:c.ghostText.read(l);if(!r.alwaysShowToolbar.read(l)||!R||R.parts.length===0)return r.sessionPosition=void 0,null;var X=R.parts[0].column;r.sessionPosition&&r.sessionPosition.lineNumber!==R.lineNumber&&(r.sessionPosition=void 0);var oe=new nt.a(R.lineNumber,Math.min(X,(f=(h=r.sessionPosition)===null||h===void 0?void 0:h.column)!==null&&f!==void 0?f:Number.MAX_SAFE_INTEGER));return r.sessionPosition=oe,oe}),r._register(wC("setup content widget",function(l,c){var h=r.model.read(l);if(!(!h||!r.alwaysShowToolbar.read(l))){var f=c.add(r.instantiationService.createInstance(Vd,r.editor,!0,r.position,h.selectedInlineCompletionIndex,h.inlineCompletionsCount,h.selectedInlineCompletion.map(function(R){var X;return(X=R==null?void 0:R.inlineCompletion.source.inlineCompletions.commands)!==null&&X!==void 0?X:[]})));i.addContentWidget(f),c.add(Object(Ye.l)(function(){return i.removeContentWidget(f)})),c.add(Hl("request explicit",function(R){var X=r.position.read(R);!X||h.lastTriggerKind.read(R)!==so.g.Explicit&&h.triggerExplicitly()}))}})),r}return Object(P.a)(e)}(Ye.a);Am=Pm([sc(2,ia.a)],Am);var BC=Object(be.b)("inline-suggestion-hints-next",Tr.a.chevronRight,Object(We.b)("parameterHintsNextIcon","Icon for show next parameter hint.")),WC=Object(be.b)("inline-suggestion-hints-previous",Tr.a.chevronLeft,Object(We.b)("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),Vd=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h,f,R,X,oe){var je;Object(A.a)(this,e),je=o.call(this),je.editor=i,je.withBorder=t,je._position=n,je._currentSuggestionIdx=r,je._suggestionCount=l,je._extraCommands=c,je._commandService=h,je.keybindingService=R,je._contextKeyService=X,je._menuService=oe,je.id="InlineSuggestionHintsContentWidget".concat(e.id++),je.allowEditorOverflow=!0,je.suppressMouseDown=!1,je.nodes=Object(It.h)("div.inlineSuggestionsHints",{className:je.withBorder?".withBorder":""},[Object(It.h)("div",{style:{display:"flex"}},[Object(It.h)("div@actionBar",{className:"custom-actions"}),Object(It.h)("div@toolBar")])]),je.previousAction=je.createCommandAction(ey,Object(We.b)("previous","Previous"),Fa.a.asClassName(WC)),je.availableSuggestionCountAction=new ka.a("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),je.nextAction=je.createCommandAction(ty,Object(We.b)("next","Next"),Fa.a.asClassName(BC)),je.inlineCompletionsActionsMenus=je._register(je._menuService.createMenu(Ht.c.InlineCompletionsActions,je._contextKeyService)),je.clearAvailableSuggestionCountLabelDebounced=je._register(new mt.g(function(){je.availableSuggestionCountAction.label=""},100)),je.disableButtonsDebounced=je._register(new mt.g(function(){je.previousAction.enabled=je.nextAction.enabled=!1},100)),je.lastCommands=[];var Me=je._register(new Us.a(je.nodes.actionBar));return Me.push(je.previousAction,{icon:!0,label:!1}),Me.push(je.availableSuggestionCountAction),Me.push(je.nextAction,{icon:!0,label:!1}),je.toolBar=je._register(f.createInstance(Rm,je.nodes.toolBar,Ht.c.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:function(gt){return gt.startsWith("primary")}},actionViewItemProvider:function(gt,jt){return gt instanceof Ht.d?f.createInstance(VC,gt,void 0):void 0},telemetrySource:"InlineSuggestionToolbar"})),je._register(je.toolBar.onDidChangeDropdownVisibility(function(st){e._dropDownVisible=st})),je._register(Hl("update position",function(st){je._position.read(st),je.editor.layoutContentWidget(Object(nn.a)(je))})),je._register(Hl("counts",function(st){var gt=je._suggestionCount.read(st),jt=je._currentSuggestionIdx.read(st);gt!==void 0?(je.clearAvailableSuggestionCountLabelDebounced.cancel(),je.availableSuggestionCountAction.label="".concat(jt+1,"/").concat(gt)):je.clearAvailableSuggestionCountLabelDebounced.schedule(),gt!==void 0&&gt>1?(je.disableButtonsDebounced.cancel(),je.previousAction.enabled=je.nextAction.enabled=!0):je.disableButtonsDebounced.schedule()})),je._register(Hl("extra commands",function(st){var gt=je._extraCommands.read(st);if(!Object(Wn.j)(je.lastCommands,gt)){je.lastCommands=gt;var jt=gt.map(function(dr){return{class:void 0,id:dr.id,enabled:!0,tooltip:dr.tooltip||"",label:dr.title,run:function(Kr){return je._commandService.executeCommand(dr.id)}}}),Xt=Object(G.a)(je.inlineCompletionsActionsMenus.getActions()),sn;try{for(Xt.s();!(sn=Xt.n()).done;){var qn=sn.value,Hn=Object(O.a)(qn,2),fi=Hn[0],Ci=Hn[1],wi=Object(G.a)(Ci),Ai;try{for(wi.s();!(Ai=wi.n()).done;){var jr=Ai.value;jr instanceof Ht.d&&jt.push(jr)}}catch(dr){wi.e(dr)}finally{wi.f()}}}catch(dr){Xt.e(dr)}finally{Xt.f()}jt.length>0&&jt.unshift(new ka.d),je.toolBar.setAdditionalSecondaryActions(jt)}})),je}return Object(P.a)(e,[{key:"createCommandAction",value:function(t,n,r){var l=this,c=new ka.a(t,n,r,!0,function(){return l._commandService.executeCommand(t)}),h=this.keybindingService.lookupKeybinding(t,this._contextKeyService),f=n;return h&&(f=Object(We.b)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",n,h.getLabel())),c.tooltip=f,c}},{key:"getId",value:function(){return this.id}},{key:"getDomNode",value:function(){return this.nodes.root}},{key:"getPosition",value:function(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}}],[{key:"dropDownVisible",get:function(){return this._dropDownVisible}}]),e}(Ye.a);Vd._dropDownVisible=!1,Vd.id=0,Vd=Pm([sc(6,$r.b),sc(7,ia.a),sc(8,Mi.a),sc(9,Tn.b),sc(10,Ht.b)],Vd);var VC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"updateLabel",value:function(){var t=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!t)return Object(bn.a)(Object(An.a)(e.prototype),"updateLabel",this).call(this);if(this.label){var n=Object(It.h)("div.keybinding").root,r=new Eu.a(n,Mt.a,Object.assign({disableTitle:!0},Eu.b));r.set(t),this.label.textContent=this._action.label,this.label.appendChild(n),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}]),e}(Ol.a),Rm=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h,f){var R;return Object(A.a)(this,e),R=o.call(this,i,Object.assign({resetMenu:t},n),r,l,c,h,f),R.menuId=t,R.options2=n,R.menuService=r,R.contextKeyService=l,R.menu=R._store.add(R.menuService.createMenu(R.menuId,R.contextKeyService,{emitEventsForSubmenuChanges:!0})),R.additionalActions=[],R._store.add(R.menu.onDidChange(function(){return R.updateToolbar()})),R.updateToolbar(),R}return Object(P.a)(e,[{key:"updateToolbar",value:function(){var t,n,r,l,c,h,f,R=[],X=[];Object(Ol.c)(this.menu,(t=this.options2)===null||t===void 0?void 0:t.menuOptions,{primary:R,secondary:X},(r=(n=this.options2)===null||n===void 0?void 0:n.toolbarOptions)===null||r===void 0?void 0:r.primaryGroup,(c=(l=this.options2)===null||l===void 0?void 0:l.toolbarOptions)===null||c===void 0?void 0:c.shouldInlineSubmenu,(f=(h=this.options2)===null||h===void 0?void 0:h.toolbarOptions)===null||f===void 0?void 0:f.useSeparatorsInPrimaryActions),X.push.apply(X,Object(on.a)(this.additionalActions)),this.setActions(R,X)}},{key:"setAdditionalSecondaryActions",value:function(t){Object(Wn.j)(this.additionalActions,t,function(n,r){return n===r})||(this.additionalActions=t,this.updateToolbar())}}]),e}(Im);Rm=Pm([sc(3,Ht.b),sc(4,Tn.b),sc(5,Ns.a),sc(6,Mi.a),sc(7,Ka.a)],Rm);var NE=a("Up+r"),HC=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},vg=function(s,o){return function(e,i){o(e,i,s)}},ul=function(){function s(o,e,i,t,n){var r=this;Object(A.a)(this,s),this._editor=o,this._instantiationService=e,this._openerService=i,this._languageService=t,this._keybindingService=n,this._toUnhook=new Ye.c,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(function(l){l.hasChanged(58)&&(r._unhookEvents(),r._hookEvents())})}return Object(P.a)(s,[{key:"_hookEvents",value:function(){var e=this,i=function(){return e._hideWidgets()},t=this._editor.getOption(58);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(function(n){return e._onEditorMouseDown(n)})),this._toUnhook.add(this._editor.onMouseUp(function(n){return e._onEditorMouseUp(n)})),this._toUnhook.add(this._editor.onMouseMove(function(n){return e._onEditorMouseMove(n)})),this._toUnhook.add(this._editor.onKeyDown(function(n){return e._onKeyDown(n)}))):(this._toUnhook.add(this._editor.onMouseMove(function(n){return e._onEditorMouseMove(n)})),this._toUnhook.add(this._editor.onKeyDown(function(n){return e._onKeyDown(n)}))),this._toUnhook.add(this._editor.onMouseLeave(function(n){return e._onEditorMouseLeave(n)})),this._toUnhook.add(this._editor.onDidChangeModel(i)),this._toUnhook.add(this._editor.onDidScrollChange(function(n){return e._onEditorScrollChanged(n)}))}},{key:"_unhookEvents",value:function(){this._toUnhook.clear()}},{key:"_onEditorScrollChanged",value:function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}},{key:"_onEditorMouseDown",value:function(e){this._isMouseDown=!0;var i=e.target;if(i.type===9&&i.detail===ni.ID){this._hoverClicked=!0;return}i.type===12&&i.detail===Ko.ID||(i.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}},{key:"_onEditorMouseUp",value:function(e){this._isMouseDown=!1}},{key:"_onEditorMouseLeave",value:function(e){var i,t=e.event.browserEvent.relatedTarget;((i=this._contentWidget)===null||i===void 0?void 0:i.containsNode(t))||this._hideWidgets()}},{key:"_onEditorMouseMove",value:function(e){var i,t,n,r,l,c,h,f,R=e.target;if(!(this._isMouseDown&&this._hoverClicked)&&!(this._isHoverSticky&&R.type===9&&R.detail===ni.ID)&&!(this._isHoverSticky&&((i=this._contentWidget)===null||i===void 0?void 0:i.containsNode((t=e.event.browserEvent.view)===null||t===void 0?void 0:t.document.activeElement))&&!((r=(n=e.event.browserEvent.view)===null||n===void 0?void 0:n.getSelection())===null||r===void 0?void 0:r.isCollapsed))&&!(!this._isHoverSticky&&R.type===9&&R.detail===ni.ID&&((l=this._contentWidget)===null||l===void 0?void 0:l.isColorPickerVisible()))&&!(this._isHoverSticky&&R.type===12&&R.detail===Ko.ID)&&!(this._isHoverSticky&&((c=this._contentWidget)===null||c===void 0?void 0:c.isVisibleFromKeyboard()))){if(!this._isHoverEnabled){this._hideWidgets();return}var X=this._getOrCreateContentWidget();if(X.maybeShowAt(e)){(h=this._glyphWidget)===null||h===void 0||h.hide();return}if(R.type===2&&R.position){(f=this._contentWidget)===null||f===void 0||f.hide(),this._glyphWidget||(this._glyphWidget=new Ko(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(R.position.lineNumber);return}this._hideWidgets()}}},{key:"_onKeyDown",value:function(e){var i;if(!!this._editor.hasModel()){var t=this._keybindingService.softDispatch(e,this._editor.getDomNode()),n=t.kind===1||t.kind===2&&t.commandId==="editor.action.showHover"&&((i=this._contentWidget)===null||i===void 0?void 0:i.isVisible());e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&!n&&this._hideWidgets()}}},{key:"_hideWidgets",value:function(){var e,i,t;this._isMouseDown&&this._hoverClicked&&((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||Vd.dropDownVisible||(this._hoverClicked=!1,(i=this._glyphWidget)===null||i===void 0||i.hide(),(t=this._contentWidget)===null||t===void 0||t.hide())}},{key:"_getOrCreateContentWidget",value:function(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(vi,this._editor)),this._contentWidget}},{key:"isColorPickerVisible",value:function(){var e;return((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||!1}},{key:"showContentHover",value:function(e,i,t,n){this._getOrCreateContentWidget().startShowingAtRange(e,i,t,n)}},{key:"focus",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.focus()}},{key:"scrollUp",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollUp()}},{key:"scrollDown",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollDown()}},{key:"scrollLeft",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollLeft()}},{key:"scrollRight",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollRight()}},{key:"pageUp",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.pageUp()}},{key:"pageDown",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.pageDown()}},{key:"goToTop",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.goToTop()}},{key:"goToBottom",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.goToBottom()}},{key:"escape",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.escape()}},{key:"isHoverVisible",value:function(){var e;return(e=this._contentWidget)===null||e===void 0?void 0:e.isVisible()}},{key:"dispose",value:function(){var e,i;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(i=this._contentWidget)===null||i===void 0||i.dispose()}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();ul.ID="editor.contrib.hover",ul=HC([vg(1,ia.a),vg(2,io.a),vg(3,Ti.a),vg(4,Mi.a)],ul);var UC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.showHover",label:We.b({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse.","If the hover is already visible, it will take focus."]},"Show or Focus Hover"),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|39),weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=ul.get(n);if(!!l){var c=n.getPosition(),h=new Ze.a(c.lineNumber,c.column,c.lineNumber,c.column),f=n.getOption(2)===2||!!(r==null?void 0:r.focus);l.isHoverVisible()?l.focus():l.showContentHover(h,1,1,f)}}}}]),e}(wt.b),zC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.showDefinitionPreviewHover",label:We.b({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=ul.get(n);if(!!r){var l=n.getPosition();if(!!l){var c=new Ze.a(l.lineNumber,l.column,l.lineNumber,l.column),h=ac.get(n);if(!!h){var f=h.startFindDefinitionFromCursor(l);f.then(function(){r.showContentHover(c,1,1,!0)})}}}}}]),e}(wt.b),KC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.scrollUpHover",label:We.b({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:Ut.a.hoverFocused,kbOpts:{kbExpr:Ut.a.hoverFocused,primary:16,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=ul.get(n);!r||r.scrollUp()}}]),e}(wt.b),GC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.scrollDownHover",label:We.b({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:Ut.a.hoverFocused,kbOpts:{kbExpr:Ut.a.hoverFocused,primary:18,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=ul.get(n);!r||r.scrollDown()}}]),e}(wt.b),$C=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.scrollLeftHover",label:We.b({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:Ut.a.hoverFocused,kbOpts:{kbExpr:Ut.a.hoverFocused,primary:15,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=ul.get(n);!r||r.scrollLeft()}}]),e}(wt.b),QC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.scrollRightHover",label:We.b({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:Ut.a.hoverFocused,kbOpts:{kbExpr:Ut.a.hoverFocused,primary:17,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=ul.get(n);!r||r.scrollRight()}}]),e}(wt.b),YC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.pageUpHover",label:We.b({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:Ut.a.hoverFocused,kbOpts:{kbExpr:Ut.a.hoverFocused,primary:11,secondary:[512|16],weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=ul.get(n);!r||r.pageUp()}}]),e}(wt.b),ZC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.pageDownHover",label:We.b({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:Ut.a.hoverFocused,kbOpts:{kbExpr:Ut.a.hoverFocused,primary:12,secondary:[512|18],weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=ul.get(n);!r||r.pageDown()}}]),e}(wt.b),XC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.goToTopHover",label:We.b({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:Ut.a.hoverFocused,kbOpts:{kbExpr:Ut.a.hoverFocused,primary:14,secondary:[2048|16],weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=ul.get(n);!r||r.goToTop()}}]),e}(wt.b),JC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.goToBottomHover",label:We.b({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:Ut.a.hoverFocused,kbOpts:{kbExpr:Ut.a.hoverFocused,primary:13,secondary:[2048|18],weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=ul.get(n);!r||r.goToBottom()}}]),e}(wt.b),qC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.escapeFocusHover",label:We.b({key:"escapeFocusHover",comment:["Action that allows to escape from the hover widget with the escape command when the hover widget is focused."]},"Escape Focus Hover"),alias:"Escape Focus Hover",precondition:Ut.a.hoverFocused,kbOpts:{kbExpr:Ut.a.hoverFocused,primary:9,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=ul.get(n);!r||r.escape()}}]),e}(wt.b);Object(wt.m)(ul.ID,ul,2),Object(wt.k)(UC),Object(wt.k)(zC),Object(wt.k)(KC),Object(wt.k)(GC),Object(wt.k)($C),Object(wt.k)(QC),Object(wt.k)(YC),Object(wt.k)(ZC),Object(wt.k)(XC),Object(wt.k)(JC),Object(wt.k)(qC),St.register(ma),St.register(eo),Object(si.e)(function(s,o){var e=s.getColor(lt.R);e&&(o.addRule(".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(e.transparent(.5),"; }")),o.addRule(".monaco-editor .monaco-hover hr { border-top: 1px solid ".concat(e.transparent(.5),"; }")),o.addRule(".monaco-editor .monaco-hover hr { border-bottom: 0px solid ".concat(e.transparent(.5),"; }")))});var Nm=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t._editor=i,t._register(i.onMouseDown(function(n){return t.onMouseDown(n)})),t}return Object(P.a)(e,[{key:"dispose",value:function(){Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"onMouseDown",value:function(t){var n=t.target;if(n.type===6&&!!n.detail.injectedText&&n.detail.injectedText.options.attachedData===Jl&&!!n.range){var r=this._editor.getContribution(ul.ID);if(!!r&&!r.isColorPickerVisible()){var l=new Ze.a(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);r.showContentHover(l,1,0,!1)}}}}]),e}(Ye.a);Nm.ID="editor.contrib.colorContribution",Object(wt.m)(Nm.ID,Nm,2),St.register(wn);var iy=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},lc=function(s,o){return function(e,i){o(e,i,s)}},ry=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Hd=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h){var f;return Object(A.a)(this,e),f=o.call(this),f._editor=i,f._modelService=n,f._keybindingService=r,f._instantiationService=l,f._languageFeatureService=c,f._languageConfigurationService=h,f._standaloneColorPickerWidget=null,f._standaloneColorPickerVisible=Ut.a.standaloneColorPickerVisible.bindTo(t),f._standaloneColorPickerFocused=Ut.a.standaloneColorPickerFocused.bindTo(t),f}return Object(P.a)(e,[{key:"showOrFocus",value:function(){var t;!this._editor.hasModel()||(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(t=this._standaloneColorPickerWidget)===null||t===void 0||t.focus():this._standaloneColorPickerWidget=new gg(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}},{key:"hide",value:function(){var t;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(t=this._standaloneColorPickerWidget)===null||t===void 0||t.hide(),this._editor.focus()}},{key:"insertColor",value:function(){var t;(t=this._standaloneColorPickerWidget)===null||t===void 0||t.updateEditor(),this.hide()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);Hd.ID="editor.contrib.standaloneColorPickerController",Hd=iy([lc(1,Tn.b),lc(2,Jr.a),lc(3,Mi.a),lc(4,ia.a),lc(5,$i.a),lc(6,po.a)],Hd),Object(wt.m)(Hd.ID,Hd,1);var ay=8,e1=22,gg=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h,f){var R;Object(A.a)(this,e);var X;R=o.call(this),R._editor=i,R._standaloneColorPickerVisible=t,R._standaloneColorPickerFocused=n,R._modelService=l,R._keybindingService=c,R._languageFeaturesService=h,R._languageConfigurationService=f,R.body=document.createElement("div"),R._position=void 0,R._colorHover=null,R._selectionSetInEditor=!1,R._onResult=R._register(new ca.b),R.onResult=R._onResult.event,R._standaloneColorPickerVisible.set(!0),R._standaloneColorPickerParticipant=r.createInstance(ri,R._editor),R._position=(X=R._editor._getViewModel())===null||X===void 0?void 0:X.getPrimaryCursorState().viewState.position;var oe=R._editor.getSelection(),je=oe?{startLineNumber:oe.startLineNumber,startColumn:oe.startColumn,endLineNumber:oe.endLineNumber,endColumn:oe.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},Me=R._register(It.trackFocus(R.body));return R._register(Me.onDidBlur(function(st){R.hide()})),R._register(Me.onDidFocus(function(st){R.focus()})),R._register(R._editor.onDidChangeCursorPosition(function(){R._selectionSetInEditor?R._selectionSetInEditor=!1:R.hide()})),R._register(R._editor.onMouseMove(function(st){var gt,jt=(gt=st.target.element)===null||gt===void 0?void 0:gt.classList;jt&&jt.contains("colorpicker-color-decoration")&&R.hide()})),R._register(R.onResult(function(st){R._render(st.value,st.foundInEditor)})),R._start(je),R._editor.addContentWidget(Object(nn.a)(R)),R}return Object(P.a)(e,[{key:"updateEditor",value:function(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}},{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this.body}},{key:"getPosition",value:function(){if(!this._position)return null;var t=this._editor.getOption(58).above;return{position:this._position,secondaryPosition:this._position,preference:t?[1,2]:[2,1],positionAffinity:2}}},{key:"hide",value:function(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}},{key:"focus",value:function(){this._standaloneColorPickerFocused.set(!0),this.body.focus()}},{key:"_start",value:function(t){return ry(this,void 0,void 0,Object(d.a)().mark(function n(){var r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._computeAsync(t);case 2:if(r=c.sent,r){c.next=5;break}return c.abrupt("return");case 5:this._onResult.fire(new t1(r.result,r.foundInEditor));case 6:case"end":return c.stop()}},n,this)}))}},{key:"_computeAsync",value:function(t){return ry(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this._editor.hasModel()){h.next=2;break}return h.abrupt("return",null);case 2:return r={range:t,color:{red:0,green:0,blue:0,alpha:1}},h.next=5,this._standaloneColorPickerParticipant.createColorHover(r,new sl(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);case 5:if(l=h.sent,l){h.next=8;break}return h.abrupt("return",null);case 8:return h.abrupt("return",{result:l.colorHover,foundInEditor:l.foundInEditor});case 9:case"end":return h.stop()}},n,this)}))}},{key:"_render",value:function(t,n){var r=this,l=document.createDocumentFragment(),c=this._register(new sr(this._keybindingService)),h,f={fragment:l,statusBar:c,setColorPicker:function(sn){return h=sn},onContentsChanged:function(){},hide:function(){return r.hide()}};if(this._colorHover=t,this._register(this._standaloneColorPickerParticipant.renderHoverParts(f,[t])),h!==void 0){this.body.classList.add("standalone-colorpicker-body"),this.body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this.body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this.body.tabIndex=0,this.body.appendChild(l),h.layout();var R=h.body,X=R.saturationBox.domNode.clientWidth,oe=R.domNode.clientWidth-X-e1-ay,je=h.body.enterButton;je==null||je.onClicked(function(){r.updateEditor(),r.hide()});var Me=h.header,st=Me.pickedColorNode;st.style.width=X+ay+"px";var gt=Me.originalColorNode;gt.style.width=oe+"px";var jt=h.header.closeButton;jt==null||jt.onClicked(function(){r.hide()}),n&&(je&&(je.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(t.range)),this._editor.layoutContentWidget(this)}}}]),e}(Ye.a);gg.ID="editor.contrib.standaloneColorPickerWidget",gg=iy([lc(3,ia.a),lc(4,Jr.a),lc(5,Mi.a),lc(6,$i.a),lc(7,po.a)],gg);var t1=Object(P.a)(function s(o,e){Object(A.a)(this,s),this.value=o,this.foundInEditor=e}),n1=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:Object(We.b)("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:Object(We.b)({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker"),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:Ht.c.CommandPalette}]})}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n){var r;(r=Hd.get(n))===null||r===void 0||r.showOrFocus()}}]),e}(wt.c),i1=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.hideColorPicker",label:Object(We.b)({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:Ut.a.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;(r=Hd.get(n))===null||r===void 0||r.hide()}}]),e}(wt.b),r1=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.insertColorWithStandaloneColorPicker",label:Object(We.b)({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:Ut.a.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;(r=Hd.get(n))===null||r===void 0||r.insertColor()}}]),e}(wt.b);Object(wt.k)(i1),Object(wt.k)(r1),Object(Ht.i)(n1);var Jo=a("0/Sa"),Ov=function(){function s(o,e,i){Object(A.a)(this,s),this.languageConfigurationService=i,this._selection=o,this._insertSpace=e,this._usedEndToken=null}return Object(P.a)(s,[{key:"_createOperationsForBlockComment",value:function(e,i,t,n,r,l){var c=e.startLineNumber,h=e.startColumn,f=e.endLineNumber,R=e.endColumn,X=r.getLineContent(c),oe=r.getLineContent(f),je=X.lastIndexOf(i,h-1+i.length),Me=oe.indexOf(t,R-1-t.length);if(je!==-1&&Me!==-1)if(c===f){var st=X.substring(je+i.length,Me);st.indexOf(t)>=0&&(je=-1,Me=-1)}else{var gt=X.substring(je+i.length),jt=oe.substring(0,Me);(gt.indexOf(t)>=0||jt.indexOf(t)>=0)&&(je=-1,Me=-1)}var Xt;je!==-1&&Me!==-1?(n&&je+i.length<X.length&&X.charCodeAt(je+i.length)===32&&(i=i+" "),n&&Me>0&&oe.charCodeAt(Me-1)===32&&(t=" "+t,Me-=1),Xt=s._createRemoveBlockCommentOperations(new Ze.a(c,je+i.length+1,f,Me+1),i,t)):(Xt=s._createAddBlockCommentOperations(e,i,t,this._insertSpace),this._usedEndToken=Xt.length===1?t:null);var sn=Object(G.a)(Xt),qn;try{for(sn.s();!(qn=sn.n()).done;){var Hn=qn.value;l.addTrackedEditOperation(Hn.range,Hn.text)}}catch(fi){sn.e(fi)}finally{sn.f()}}},{key:"getEditOperations",value:function(e,i){var t=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenization.tokenizeIfCheap(t);var r=e.getLanguageIdAtPosition(t,n),l=this.languageConfigurationService.getLanguageConfiguration(r).comments;!l||!l.blockCommentStartToken||!l.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,l.blockCommentStartToken,l.blockCommentEndToken,this._insertSpace,e,i)}},{key:"computeCursorState",value:function(e,i){var t=i.getInverseEditOperations();if(t.length===2){var n=t[0],r=t[1];return new Pi.a(n.range.endLineNumber,n.range.endColumn,r.range.startLineNumber,r.range.startColumn)}else{var l=t[0].range,c=this._usedEndToken?-this._usedEndToken.length-1:0;return new Pi.a(l.endLineNumber,l.endColumn+c,l.endLineNumber,l.endColumn+c)}}}],[{key:"_haystackHasNeedleAtOffset",value:function(e,i,t){if(t<0)return!1;var n=i.length,r=e.length;if(t+n>r)return!1;for(var l=0;l<n;l++){var c=e.charCodeAt(t+l),h=i.charCodeAt(l);if(c!==h&&!(c>=65&&c<=90&&c+32===h)&&!(h>=65&&h<=90&&h+32===c))return!1}return!0}},{key:"_createRemoveBlockCommentOperations",value:function(e,i,t){var n=[];return Ze.a.isEmpty(e)?n.push(Jo.a.delete(new Ze.a(e.startLineNumber,e.startColumn-i.length,e.endLineNumber,e.endColumn+t.length))):(n.push(Jo.a.delete(new Ze.a(e.startLineNumber,e.startColumn-i.length,e.startLineNumber,e.startColumn))),n.push(Jo.a.delete(new Ze.a(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+t.length)))),n}},{key:"_createAddBlockCommentOperations",value:function(e,i,t,n){var r=[];return Ze.a.isEmpty(e)?r.push(Jo.a.replace(new Ze.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),i+"  "+t)):(r.push(Jo.a.insert(new nt.a(e.startLineNumber,e.startColumn),i+(n?" ":""))),r.push(Jo.a.insert(new nt.a(e.endLineNumber,e.endColumn),(n?" ":"")+t))),r}}]),s}(),a1=function(){function s(o,e,i,t,n,r,l){Object(A.a)(this,s),this.languageConfigurationService=o,this._selection=e,this._tabSize=i,this._type=t,this._insertSpace=n,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=l||!1}return Object(P.a)(s,[{key:"_executeLineComments",value:function(e,i,t,n){var r;t.shouldRemoveComments?r=s._createRemoveLineCommentsOperations(t.lines,n.startLineNumber):(s._normalizeInsertionPoint(e,t.lines,n.startLineNumber,this._tabSize),r=this._createAddLineCommentsOperations(t.lines,n.startLineNumber));for(var l=new nt.a(n.positionLineNumber,n.positionColumn),c=0,h=r.length;c<h;c++)if(i.addEditOperation(r[c].range,r[c].text),Ze.a.isEmpty(r[c].range)&&Ze.a.getStartPosition(r[c].range).equals(l)){var f=e.getLineContent(l.lineNumber);f.length+1===l.column&&(this._deltaColumn=(r[c].text||"").length)}this._selectionId=i.trackSelection(n)}},{key:"_attemptRemoveBlockComment",value:function(e,i,t,n){var r=i.startLineNumber,l=i.endLineNumber,c=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.startColumn),h=e.getLineContent(r).lastIndexOf(t,c-1),f=e.getLineContent(l).indexOf(n,i.endColumn-1-t.length);return h!==-1&&f===-1&&(f=e.getLineContent(r).indexOf(n,h+t.length),l=r),h===-1&&f!==-1&&(h=e.getLineContent(l).lastIndexOf(t,f),r=l),i.isEmpty()&&(h===-1||f===-1)&&(h=e.getLineContent(r).indexOf(t),h!==-1&&(f=e.getLineContent(r).indexOf(n,h+t.length))),h!==-1&&e.getLineContent(r).charCodeAt(h+t.length)===32&&(t+=" "),f!==-1&&e.getLineContent(l).charCodeAt(f-1)===32&&(n=" "+n,f-=1),h!==-1&&f!==-1?Ov._createRemoveBlockCommentOperations(new Ze.a(r,h+t.length+1,l,f+1),t,n):null}},{key:"_executeBlockComment",value:function(e,i,t){e.tokenization.tokenizeIfCheap(t.startLineNumber);var n=e.getLanguageIdAtPosition(t.startLineNumber,1),r=this.languageConfigurationService.getLanguageConfiguration(n).comments;if(!(!r||!r.blockCommentStartToken||!r.blockCommentEndToken)){var l=r.blockCommentStartToken,c=r.blockCommentEndToken,h=this._attemptRemoveBlockComment(e,t,l,c);if(!h){if(t.isEmpty()){var f=e.getLineContent(t.startLineNumber),R=vr.u(f);R===-1&&(R=f.length),h=Ov._createAddBlockCommentOperations(new Ze.a(t.startLineNumber,R+1,t.startLineNumber,f.length+1),l,c,this._insertSpace)}else h=Ov._createAddBlockCommentOperations(new Ze.a(t.startLineNumber,e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.endLineNumber,e.getLineMaxColumn(t.endLineNumber)),l,c,this._insertSpace);h.length===1&&(this._deltaColumn=l.length+1)}this._selectionId=i.trackSelection(t);var X=Object(G.a)(h),oe;try{for(X.s();!(oe=X.n()).done;){var je=oe.value;i.addEditOperation(je.range,je.text)}}catch(Me){X.e(Me)}finally{X.f()}}}},{key:"getEditOperations",value:function(e,i){var t=this._selection;if(this._moveEndPositionDown=!1,t.startLineNumber===t.endLineNumber&&this._ignoreFirstLine){i.addEditOperation(new Ze.a(t.startLineNumber,e.getLineMaxColumn(t.startLineNumber),t.startLineNumber+1,1),t.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=i.trackSelection(t);return}t.startLineNumber<t.endLineNumber&&t.endColumn===1&&(this._moveEndPositionDown=!0,t=t.setEndPosition(t.endLineNumber-1,e.getLineMaxColumn(t.endLineNumber-1)));var n=s._gatherPreflightData(this._type,this._insertSpace,e,t.startLineNumber,t.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return n.supported?this._executeLineComments(e,i,n,t):this._executeBlockComment(e,i,t)}},{key:"computeCursorState",value:function(e,i){var t=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(t=t.setEndPosition(t.endLineNumber+1,1)),new Pi.a(t.selectionStartLineNumber,t.selectionStartColumn+this._deltaColumn,t.positionLineNumber,t.positionColumn+this._deltaColumn)}},{key:"_createAddLineCommentsOperations",value:function(e,i){for(var t=[],n=this._insertSpace?" ":"",r=0,l=e.length;r<l;r++){var c=e[r];c.ignore||t.push(Jo.a.insert(new nt.a(i+r,c.commentStrOffset+1),c.commentStr+n))}return t}}],[{key:"_gatherPreflightCommentStrings",value:function(e,i,t,n){e.tokenization.tokenizeIfCheap(i);var r=e.getLanguageIdAtPosition(i,1),l=n.getLanguageConfiguration(r).comments,c=l?l.lineCommentToken:null;if(!c)return null;for(var h=[],f=0,R=t-i+1;f<R;f++)h[f]={ignore:!1,commentStr:c,commentStrOffset:0,commentStrLength:c.length};return h}},{key:"_analyzeLines",value:function(e,i,t,n,r,l,c,h){var f=!0,R;e===0?R=!0:e===1?R=!1:R=!0;for(var X=0,oe=n.length;X<oe;X++){var je=n[X],Me=r+X;if(Me===r&&c){je.ignore=!0;continue}var st=t.getLineContent(Me),gt=vr.u(st);if(gt===-1){je.ignore=l,je.commentStrOffset=st.length;continue}if(f=!1,je.ignore=!1,je.commentStrOffset=gt,R&&!Ov._haystackHasNeedleAtOffset(st,je.commentStr,gt)&&(e===0?R=!1:e===1||(je.ignore=!0)),R&&i){var jt=gt+je.commentStrLength;jt<st.length&&st.charCodeAt(jt)===32&&(je.commentStrLength+=1)}}if(e===0&&f){R=!1;for(var Xt=0,sn=n.length;Xt<sn;Xt++)n[Xt].ignore=!1}return{supported:!0,shouldRemoveComments:R,lines:n}}},{key:"_gatherPreflightData",value:function(e,i,t,n,r,l,c,h){var f=s._gatherPreflightCommentStrings(t,n,r,h);return f===null?{supported:!1}:s._analyzeLines(e,i,t,f,n,l,c,h)}},{key:"_createRemoveLineCommentsOperations",value:function(e,i){for(var t=[],n=0,r=e.length;n<r;n++){var l=e[n];l.ignore||t.push(Jo.a.delete(new Ze.a(i+n,l.commentStrOffset+1,i+n,l.commentStrOffset+l.commentStrLength+1)))}return t}},{key:"nextVisibleColumn",value:function(e,i,t,n){return t?e+(i-e%i):e+n}},{key:"_normalizeInsertionPoint",value:function(e,i,t,n){for(var r=1073741824,l,c,h=0,f=i.length;h<f;h++)if(!i[h].ignore){for(var R=e.getLineContent(t+h),X=0,oe=0,je=i[h].commentStrOffset;X<r&&oe<je;oe++)X=s.nextVisibleColumn(X,n,R.charCodeAt(oe)===9,1);X<r&&(r=X)}r=Math.floor(r/n)*n;for(var Me=0,st=i.length;Me<st;Me++)if(!i[Me].ignore){var gt=e.getLineContent(t+Me),jt=0;for(l=0,c=i[Me].commentStrOffset;jt<r&&l<c;l++)jt=s.nextVisibleColumn(jt,n,gt.charCodeAt(l)===9,1);jt>r?i[Me].commentStrOffset=l-1:i[Me].commentStrOffset=l}}}]),s}(),xm=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this,t),n._type=i,n}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=t.get(po.a);if(!!n.hasModel()){var l=n.getModel(),c=[],h=l.getOptions(),f=n.getOption(21),R=n.getSelections().map(function(jt,Xt){return{selection:jt,index:Xt,ignoreFirstLine:!1}});R.sort(function(jt,Xt){return Ze.a.compareRangesUsingStarts(jt.selection,Xt.selection)});for(var X=R[0],oe=1;oe<R.length;oe++){var je=R[oe];X.selection.endLineNumber===je.selection.startLineNumber&&(X.index<je.index?je.ignoreFirstLine=!0:(X.ignoreFirstLine=!0,X=je))}var Me=Object(G.a)(R),st;try{for(Me.s();!(st=Me.n()).done;){var gt=st.value;c.push(new a1(r,gt.selection,h.tabSize,this._type,f.insertSpace,f.ignoreEmptyLines,gt.ignoreFirstLine))}}catch(jt){Me.e(jt)}finally{Me.f()}n.pushUndoStop(),n.executeCommands(this.id,c),n.pushUndoStop()}}}]),e}(wt.b),o1=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,0,{id:"editor.action.commentLine",label:We.b("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|90,weight:100},menuOpts:{menuId:Ht.c.MenubarEditMenu,group:"5_insert",title:We.b({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}return Object(P.a)(e)}(xm),s1=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,1,{id:"editor.action.addCommentLine",label:We.b("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|33),weight:100}})}return Object(P.a)(e)}(xm),l1=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,2,{id:"editor.action.removeCommentLine",label:We.b("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|51),weight:100}})}return Object(P.a)(e)}(xm),u1=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.blockComment",label:We.b("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:Ht.c.MenubarEditMenu,group:"5_insert",title:We.b({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=t.get(po.a);if(!!n.hasModel()){var l=n.getOption(21),c=[],h=n.getSelections(),f=Object(G.a)(h),R;try{for(f.s();!(R=f.n()).done;){var X=R.value;c.push(new Ov(X,l.insertSpace,r))}}catch(oe){f.e(oe)}finally{f.f()}n.pushUndoStop(),n.executeCommands(this.id,c),n.pushUndoStop()}}}]),e}(wt.b);Object(wt.k)(o1),Object(wt.k)(s1),Object(wt.k)(l1),Object(wt.k)(u1);var oy=a("7/Ik"),Du=a("EWX2"),c1=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Lh=function(s,o){return function(e,i){o(e,i,s)}},Of=function(){function s(o,e,i,t,n,r,l,c){var h=this;Object(A.a)(this,s),this._contextMenuService=e,this._contextViewService=i,this._contextKeyService=t,this._keybindingService=n,this._menuService=r,this._configurationService=l,this._workspaceContextService=c,this._toDispose=new Ye.c,this._contextMenuIsBeingShownCount=0,this._editor=o,this._toDispose.add(this._editor.onContextMenu(function(f){return h._onContextMenu(f)})),this._toDispose.add(this._editor.onMouseWheel(function(f){if(h._contextMenuIsBeingShownCount>0){var R=h._contextViewService.getContextViewElement(),X=f.srcElement;X.shadowRoot&&It.getShadowRoot(R)===X.shadowRoot||h._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(function(f){!h._editor.getOption(22)||f.keyCode===58&&(f.preventDefault(),f.stopPropagation(),h.showContextMenu())}))}return Object(P.a)(s,[{key:"_onContextMenu",value:function(e){if(!!this._editor.hasModel()){if(!this._editor.getOption(22)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type!==12&&!(e.target.type===6&&e.target.detail.injectedText)){if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu({x:e.event.posx-1,width:2,y:e.event.posy-1,height:2});if(!(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)){if(this._editor.focus(),e.target.position){var i=!1,t=Object(G.a)(this._editor.getSelections()),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.containsPosition(e.target.position)){i=!0;break}}}catch(c){t.e(c)}finally{t.f()}i||this._editor.setPosition(e.target.position)}var l=null;e.target.type!==1&&(l={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(l)}}}}},{key:"showContextMenu",value:function(e){if(!!this._editor.getOption(22)&&!!this._editor.hasModel()){var i=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?Ht.c.SimpleEditorContext:Ht.c.EditorContext);i.length>0&&this._doShowContextMenu(i,e)}}},{key:"_getMenuActions",value:function(e,i){var t=[],n=this._menuService.createMenu(i,this._contextKeyService),r=n.getActions({arg:e.uri});n.dispose();var l=Object(G.a)(r),c;try{for(l.s();!(c=l.n()).done;){var h=c.value,f=Object(O.a)(h,2),R=f[1],X=0,oe=Object(G.a)(R),je;try{for(oe.s();!(je=oe.n()).done;){var Me=je.value;if(Me instanceof Ht.f){var st=this._getMenuActions(e,Me.item.submenu);st.length>0&&(t.push(new ka.e(Me.id,Me.label,st)),X++)}else t.push(Me),X++}}catch(gt){oe.e(gt)}finally{oe.f()}X&&t.push(new ka.d)}}catch(gt){l.e(gt)}finally{l.f()}return t.length&&t.pop(),t}},{key:"_doShowContextMenu",value:function(e){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!!this._editor.hasModel()){var n=this._editor.getOption(58);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var r=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),l=It.getDomNodePagePosition(this._editor.getDomNode()),c=l.left+r.left,h=l.top+r.top+r.height;t={x:c,y:h}}var f=this._editor.getOption(123)&&!Mt.f;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:f?this._editor.getDomNode():void 0,getAnchor:function(){return t},getActions:function(){return e},getActionViewItem:function(X){var oe=i._keybindingFor(X);if(oe)return new oy.a(X,X,{label:!0,keybinding:oe.getLabel(),isMenu:!0});var je=X;return typeof je.getActionViewItem=="function"?je.getActionViewItem():new oy.a(X,X,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(X){return i._keybindingFor(X)},onHide:function(X){i._contextMenuIsBeingShownCount--,i._editor.updateOptions({hover:n})}})}}},{key:"_showScrollbarContextMenu",value:function(e){var i=this;if(!!this._editor.hasModel()&&!Object(Du.g)(this._workspaceContextService.getWorkspace())){var t=this._editor.getOption(70),n=0,r=function(X){return{id:"menu-action-".concat(++n),label:X.label,tooltip:"",class:void 0,enabled:typeof X.enabled=="undefined"?!0:X.enabled,checked:X.checked,run:X.run}},l=function(X,oe){return new ka.e("menu-action-".concat(++n),X,oe,void 0)},c=function(X,oe,je,Me,st){if(!oe)return r({label:X,enabled:oe,run:function(){}});var gt=function(fi){return function(){i._configurationService.updateValue(je,fi)}},jt=[],Xt=Object(G.a)(st),sn;try{for(Xt.s();!(sn=Xt.n()).done;){var qn=sn.value;jt.push(r({label:qn.label,checked:Me===qn.value,run:gt(qn.value)}))}}catch(Hn){Xt.e(Hn)}finally{Xt.f()}return l(X,jt)},h=[];h.push(r({label:We.b("context.minimap.minimap","Minimap"),checked:t.enabled,run:function(){i._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),h.push(new ka.d),h.push(r({label:We.b("context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:function(){i._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),h.push(c(We.b("context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:We.b("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:We.b("context.minimap.size.fill","Fill"),value:"fill"},{label:We.b("context.minimap.size.fit","Fit"),value:"fit"}])),h.push(c(We.b("context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:We.b("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:We.b("context.minimap.slider.always","Always"),value:"always"}]));var f=this._editor.getOption(123)&&!Mt.f;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:f?this._editor.getDomNode():void 0,getAnchor:function(){return e},getActions:function(){return h},onHide:function(X){i._contextMenuIsBeingShownCount--,i._editor.focus()}})}}},{key:"_keybindingFor",value:function(e){return this._keybindingService.lookupKeybinding(e.id)}},{key:"dispose",value:function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();Of.ID="editor.contrib.contextmenu",Of=c1([Lh(1,Ns.a),Lh(2,Ns.b),Lh(3,Tn.b),Lh(4,Mi.a),Lh(5,Ht.b),Lh(6,Do.a),Lh(7,Du.a)],Of);var d1=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.showContextMenu",label:We.b("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:1024|68,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;(r=Of.get(n))===null||r===void 0||r.showContextMenu()}}]),e}(wt.b);Object(wt.m)(Of.ID,Of,2),Object(wt.k)(d1);var Fm=function(){function s(o){Object(A.a)(this,s),this.selections=o}return Object(P.a)(s,[{key:"equals",value:function(e){var i=this.selections.length,t=e.selections.length;if(i!==t)return!1;for(var n=0;n<i;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0}}]),s}(),Bm=Object(P.a)(function s(o,e,i){Object(A.a)(this,s),this.cursorState=o,this.scrollTop=e,this.scrollLeft=i}),Sv=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t._editor=i,t._isCursorUndoRedo=!1,t._undoStack=[],t._redoStack=[],t._register(i.onDidChangeModel(function(n){t._undoStack=[],t._redoStack=[]})),t._register(i.onDidChangeModelContent(function(n){t._undoStack=[],t._redoStack=[]})),t._register(i.onDidChangeCursorSelection(function(n){if(!t._isCursorUndoRedo&&!!n.oldSelections&&n.oldModelVersionId===n.modelVersionId){var r=new Fm(n.oldSelections),l=t._undoStack.length>0&&t._undoStack[t._undoStack.length-1].cursorState.equals(r);l||(t._undoStack.push(new Bm(r,i.getScrollTop(),i.getScrollLeft())),t._redoStack=[],t._undoStack.length>50&&t._undoStack.shift())}})),t}return Object(P.a)(e,[{key:"cursorUndo",value:function(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new Bm(new Fm(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}},{key:"cursorRedo",value:function(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new Bm(new Fm(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}},{key:"_applyState",value:function(t){this._isCursorUndoRedo=!0,this._editor.setSelections(t.cursorState.selections),this._editor.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),this._isCursorUndoRedo=!1}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);Sv.ID="editor.contrib.cursorUndoRedoController";var h1=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"cursorUndo",label:We.b("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:2048|51,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){var l;(l=Sv.get(n))===null||l===void 0||l.cursorUndo()}}]),e}(wt.b),f1=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"cursorRedo",label:We.b("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){var l;(l=Sv.get(n))===null||l===void 0||l.cursorRedo()}}]),e}(wt.b);Object(wt.m)(Sv.ID,Sv,0),Object(wt.k)(h1),Object(wt.k)(f1);var xE=a("2zAJ"),v1=function(){function s(o,e,i){Object(A.a)(this,s),this.selection=o,this.targetPosition=e,this.copy=i,this.targetSelection=null}return Object(P.a)(s,[{key:"getEditOperations",value:function(e,i){var t=e.getValueInRange(this.selection);if(this.copy||i.addEditOperation(this.selection,null),i.addEditOperation(new Ze.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),t),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new Pi.a(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new Pi.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new Pi.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Pi.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Pi.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}},{key:"computeCursorState",value:function(e,i){return this.targetSelection}}]),s}();function Sf(s){return Mt.i?s.altKey:s.ctrlKey}var kv=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t._editor=i,t._dndDecorationIds=t._editor.createDecorationsCollection(),t._register(t._editor.onMouseDown(function(n){return t._onEditorMouseDown(n)})),t._register(t._editor.onMouseUp(function(n){return t._onEditorMouseUp(n)})),t._register(t._editor.onMouseDrag(function(n){return t._onEditorMouseDrag(n)})),t._register(t._editor.onMouseDrop(function(n){return t._onEditorMouseDrop(n)})),t._register(t._editor.onMouseDropCanceled(function(){return t._onEditorMouseDropCanceled()})),t._register(t._editor.onKeyDown(function(n){return t.onEditorKeyDown(n)})),t._register(t._editor.onKeyUp(function(n){return t.onEditorKeyUp(n)})),t._register(t._editor.onDidBlurEditorWidget(function(){return t.onEditorBlur()})),t._register(t._editor.onDidBlurEditorText(function(){return t.onEditorBlur()})),t._mouseDown=!1,t._modifierPressed=!1,t._dragSelection=null,t}return Object(P.a)(e,[{key:"onEditorBlur",value:function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}},{key:"onEditorKeyDown",value:function(t){!this._editor.getOption(33)||this._editor.getOption(20)||(Sf(t)&&(this._modifierPressed=!0),this._mouseDown&&Sf(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}},{key:"onEditorKeyUp",value:function(t){!this._editor.getOption(33)||this._editor.getOption(20)||(Sf(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===e.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}},{key:"_onEditorMouseDown",value:function(t){this._mouseDown=!0}},{key:"_onEditorMouseUp",value:function(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}},{key:"_onEditorMouseDrag",value:function(t){var n=t.target;if(this._dragSelection===null){var r=this._editor.getSelections()||[],l=r.filter(function(c){return n.position&&c.containsPosition(n.position)});if(l.length===1)this._dragSelection=l[0];else return}Sf(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),n.position&&(this._dragSelection.containsPosition(n.position)?this._removeDecoration():this.showAt(n.position))}},{key:"_onEditorMouseDropCanceled",value:function(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}},{key:"_onEditorMouseDrop",value:function(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){var n=new nt.a(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){var r=null;if(t.event.shiftKey){var l=this._editor.getSelection();if(l){var c=l.selectionStartLineNumber,h=l.selectionStartColumn;r=[new Pi.a(c,h,n.lineNumber,n.column)]}}else r=(this._editor.getSelections()||[]).map(function(f){return f.containsPosition(n)?new Pi.a(n.lineNumber,n.column,n.lineNumber,n.column):f});this._editor.setSelections(r||[],"mouse",3)}else(!this._dragSelection.containsPosition(n)||(Sf(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(n)||this._dragSelection.getStartPosition().equals(n)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(e.ID,new v1(this._dragSelection,n,Sf(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}},{key:"showAt",value:function(t){this._dndDecorationIds.set([{range:new Ze.a(t.lineNumber,t.column,t.lineNumber,t.column),options:e._DECORATION_OPTIONS}]),this._editor.revealPosition(t,1)}},{key:"_removeDecoration",value:function(){this._dndDecorationIds.clear()}},{key:"_hitContent",value:function(t){return t.type===6||t.type===7}},{key:"_hitMargin",value:function(t){return t.type===2||t.type===3||t.type===4}},{key:"dispose",value:function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}}]),e}(Ye.a);kv.ID="editor.contrib.dragAndDrop",kv.TRIGGER_KEY_VALUE=Mt.i?6:5,kv._DECORATION_OPTIONS=hn.b.register({description:"dnd-target",className:"dnd-target"}),Object(wt.m)(kv.ID,kv,2);var mg=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);var s;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?s=crypto.getRandomValues.bind(crypto):s=function(n){for(var r=0;r<n.length;r++)n[r]=Math.floor(Math.random()*256);return n};for(var o=new Uint8Array(16),e=[],i=0;i<256;i++)e.push(i.toString(16).padStart(2,"0"));return function(){s(o),o[6]=o[6]&15|64,o[8]=o[8]&63|128;var n=0,r="";return r+=e[o[n++]],r+=e[o[n++]],r+=e[o[n++]],r+=e[o[n++]],r+="-",r+=e[o[n++]],r+=e[o[n++]],r+="-",r+=e[o[n++]],r+=e[o[n++]],r+="-",r+=e[o[n++]],r+=e[o[n++]],r+="-",r+=e[o[n++]],r+=e[o[n++]],r+=e[o[n++]],r+=e[o[n++]],r+=e[o[n++]],r+=e[o[n++]],r}}(),sy=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function Wm(s){var o=this;return{asString:function(){return sy(o,void 0,void 0,Object(d.a)().mark(function i(){return Object(d.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",s);case 1:case"end":return n.stop()}},i)}))},asFile:function(){},value:typeof s=="string"?s:void 0}}function g1(s,o,e){var i=this,t={id:mg(),name:s,uri:o,data:e};return{asString:function(){return sy(i,void 0,void 0,Object(d.a)().mark(function r(){return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return","");case 1:case"end":return c.stop()}},r)}))},asFile:function(){return t},value:void 0}}var ly=function(s){function o(){Object(A.a)(this,o),this._entries=new Map}return Object(P.a)(o,[{key:"size",get:function(){var i=0,t=Object(G.a)(this._entries),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;i++}}catch(l){t.e(l)}finally{t.f()}return i}},{key:"has",value:function(i){return this._entries.has(this.toKey(i))}},{key:"matches",value:function(i){var t=Object(on.a)(this._entries.keys());return Ou.a.some(this,function(n){var r=Object(O.a)(n,2),l=r[0],c=r[1];return c.asFile()})&&t.push("files"),uy(pg(i),t)}},{key:"get",value:function(i){var t;return(t=this._entries.get(this.toKey(i)))===null||t===void 0?void 0:t[0]}},{key:"append",value:function(i,t){var n=this._entries.get(i);n?n.push(t):this._entries.set(this.toKey(i),[t])}},{key:"replace",value:function(i,t){this._entries.set(this.toKey(i),[t])}},{key:"delete",value:function(i){this._entries.delete(this.toKey(i))}},{key:s,value:Object(d.a)().mark(function e(){var i,t,n,r,l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:i=Object(G.a)(this._entries),oe.prev=1,i.s();case 3:if((t=i.n()).done){oe.next=27;break}n=t.value,r=Object(O.a)(n,2),l=r[0],c=r[1],h=Object(G.a)(c),oe.prev=9,h.s();case 11:if((f=h.n()).done){oe.next=17;break}return R=f.value,oe.next=15,[l,R];case 15:oe.next=11;break;case 17:oe.next=22;break;case 19:oe.prev=19,oe.t0=oe.catch(9),h.e(oe.t0);case 22:return oe.prev=22,h.f(),oe.finish(22);case 25:oe.next=3;break;case 27:oe.next=32;break;case 29:oe.prev=29,oe.t1=oe.catch(1),i.e(oe.t1);case 32:return oe.prev=32,i.f(),oe.finish(32);case 35:case"end":return oe.stop()}},e,this,[[1,29,32,35],[9,19,22,25]])})},{key:"toKey",value:function(i){return pg(i)}}]),o}(Symbol.iterator);function pg(s){return s.toLowerCase()}function m1(s,o){return uy(pg(s),o.map(pg))}function uy(s,o){if(s==="*/*")return o.length>0;if(o.includes(s))return!0;var e=s.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!e)return!1;var i=Object(O.a)(e,3),t=i[0],n=i[1],r=i[2];return r==="*"?o.some(function(l){return l.startsWith(n+"/")}):!1}var bg=Object.freeze({create:function(o){return Object(Wn.i)(o.map(function(e){return e.toString()})).join(`\r
`)},split:function(o){return o.split(`\r
`)},parse:function(o){return bg.split(o).filter(function(e){return!e.startsWith("#")})}}),jl=a("ubTv"),Vm=a("ZQ78"),cy={EDITORS:"CodeEditors",FILES:"CodeFiles"},p1=Object(P.a)(function s(){Object(A.a)(this,s)}),b1={DragAndDropContribution:"workbench.contributions.dragAndDrop"};Qs.a.add(b1.DragAndDropContribution,new p1);var Hm=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"hasData",value:function(e){return e&&e===this.proto}},{key:"getData",value:function(e){if(this.hasData(e))return this.data}}],[{key:"getInstance",value:function(){return s.INSTANCE}}]),s}();Hm.INSTANCE=new Hm;var y1=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function dy(s){var o=new ly,e=Object(G.a)(s.items),i;try{var t=function(){var r=i.value,l=r.type;if(r.kind==="string"){var c=new Promise(function(f){return r.getAsString(f)});o.append(l,Wm(c))}else if(r.kind==="file"){var h=r.getAsFile();h&&o.append(l,_1(h))}};for(e.s();!(i=e.n()).done;)t()}catch(n){e.e(n)}finally{e.f()}return o}function _1(s){var o=this,e=s.path?_r.a.parse(s.path):void 0;return g1(s.name,e,function(){return y1(o,void 0,void 0,Object(d.a)().mark(function i(){return Object(d.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Uint8Array,n.next=3,s.arrayBuffer();case 3:return n.t1=n.sent,n.abrupt("return",new n.t0(n.t1));case 5:case"end":return n.stop()}},i)}))})}var C1=Object.freeze([cy.EDITORS,cy.FILES,Vm.a.RESOURCES,Vm.a.INTERNAL_URI_LIST]);function hy(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=dy(s),i=e.get(Vm.a.INTERNAL_URI_LIST);if(i)e.replace(jl.a.uriList,i);else if(o||!e.has(jl.a.uriList)){var t=[],n=Object(G.a)(s.items),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=l.getAsFile();if(c){var h=c.path;try{h?t.push(_r.a.file(h).toString()):t.push(_r.a.parse(c.name,!0).toString())}catch(oe){}}}}catch(oe){n.e(oe)}finally{n.f()}t.length&&e.replace(jl.a.uriList,Wm(bg.create(t)))}var f=Object(G.a)(C1),R;try{for(f.s();!(R=f.n()).done;){var X=R.value;e.delete(X)}}catch(oe){f.e(oe)}finally{f.f()}return e}function O1(s,o,e){var i,t;return{edits:[].concat(Object(on.a)(o.map(function(n){return new Nr.c(s,typeof e.insertText=="string"?{range:n,text:e.insertText,insertAsSnippet:!1}:{range:n,text:e.insertText.snippet,insertAsSnippet:!0})})),Object(on.a)((t=(i=e.additionalEdit)===null||i===void 0?void 0:i.edits)!==null&&t!==void 0?t:[]))}}var FE=a("wj68"),S1=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},k1=function(s,o){return function(e,i){o(e,i,s)}},D1=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},w1=hn.b.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:vr.M,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}}),fy=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l){var c;return Object(A.a)(this,e),c=o.call(this),c.typeId=i,c.editor=t,c.range=n,c.delegate=l,c.allowEditorOverflow=!1,c.suppressMouseDown=!0,c.create(r),c.editor.addContentWidget(Object(nn.a)(c)),c.editor.layoutContentWidget(Object(nn.a)(c)),c}return Object(P.a)(e,[{key:"create",value:function(t){var n,r=this;this.domNode=It.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=t;var l=It.$("span.icon");this.domNode.append(l),(n=l.classList).add.apply(n,Object(on.a)(Fa.a.asClassNameArray(Tr.a.loading)).concat(["codicon-modifier-spin"]));var c=function(){var f=r.editor.getOption(64);r.domNode.style.height="".concat(f,"px"),r.domNode.style.width="".concat(Math.ceil(.8*f),"px")};c(),this._register(this.editor.onDidChangeConfiguration(function(h){(h.hasChanged(50)||h.hasChanged(64))&&c()})),this._register(It.addDisposableListener(this.domNode,It.EventType.CLICK,function(h){r.delegate.cancel()}))}},{key:"getId",value:function(){return e.baseId+"."+this.typeId}},{key:"getDomNode",value:function(){return this.domNode}},{key:"getPosition",value:function(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}},{key:"dispose",value:function(){Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this),this.editor.removeContentWidget(this)}}]),e}(Ye.a);fy.baseId="editor.widget.inlineProgressWidget";var yg=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r.id=i,r._editor=t,r._instantiationService=n,r._showDelay=500,r._showPromise=r._register(new Ye.e),r._currentWidget=new Ye.e,r._operationIdPool=0,r._currentDecorations=t.createDecorationsCollection(),r}return Object(P.a)(e,[{key:"showWhile",value:function(t,n,r){return D1(this,void 0,void 0,Object(d.a)().mark(function l(){var c=this,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return h=this._operationIdPool++,this._currentOperation=h,this.clear(),this._showPromise.value=Object(mt.l)(function(){var X=Ze.a.fromPositions(t),oe=c._currentDecorations.set([{range:X,options:w1}]);oe.length>0&&(c._currentWidget.value=c._instantiationService.createInstance(fy,c.id,c._editor,X,n,r))},this._showDelay),R.prev=4,R.next=7,r;case 7:return R.abrupt("return",R.sent);case 8:return R.prev=8,this._currentOperation===h&&(this.clear(),this._currentOperation=void 0),R.finish(8);case 11:case"end":return R.stop()}},l,this,[[4,,8,11]])}))}},{key:"clear",value:function(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}}]),e}(Ye.a);yg=S1([k1(2,ia.a)],yg);var j1=a("+vFt"),BE=a("lVKV"),vy=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Dv=function(s,o){return function(e,i){o(e,i,s)}},gy=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},_g=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h,f,R,X){var oe;return Object(A.a)(this,e),oe=o.call(this),oe.typeId=i,oe.editor=t,oe.showCommand=r,oe.range=l,oe.edits=c,oe.onSelectNewEdit=h,oe._contextMenuService=f,oe._keybindingService=X,oe.allowEditorOverflow=!0,oe.suppressMouseDown=!0,oe.create(),oe.visibleContext=n.bindTo(R),oe.visibleContext.set(!0),oe._register(Object(Ye.l)(function(){return oe.visibleContext.reset()})),oe.editor.addContentWidget(Object(nn.a)(oe)),oe.editor.layoutContentWidget(Object(nn.a)(oe)),oe._register(Object(Ye.l)(function(){return oe.editor.removeContentWidget(Object(nn.a)(oe))})),oe._register(oe.editor.onDidChangeCursorPosition(function(je){l.containsPosition(je.position)||oe.dispose()})),oe._register(ca.c.runAndSubscribe(X.onDidUpdateKeybindings,function(){oe._updateButtonTitle()})),oe}return Object(P.a)(e,[{key:"_updateButtonTitle",value:function(){var t,n=(t=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||t===void 0?void 0:t.getLabel();this.button.element.title=this.showCommand.label+(n?" (".concat(n,")"):"")}},{key:"create",value:function(){var t=this;this.domNode=It.$(".post-edit-widget"),this.button=this._register(new j1.a(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(It.addDisposableListener(this.domNode,It.EventType.CLICK,function(){return t.showSelector()}))}},{key:"getId",value:function(){return e.baseId+"."+this.typeId}},{key:"getDomNode",value:function(){return this.domNode}},{key:"getPosition",value:function(){return{position:this.range.getEndPosition(),preference:[2]}}},{key:"showSelector",value:function(){var t=this;this._contextMenuService.showContextMenu({getAnchor:function(){var r=It.getDomNodePagePosition(t.button.element);return{x:r.left+r.width,y:r.top+r.height}},getActions:function(){return t.edits.allEdits.map(function(r,l){return Object(ka.f)({id:"",label:r.label,checked:l===t.edits.activeEditIndex,run:function(){if(l!==t.edits.activeEditIndex)return t.onSelectNewEdit(l)}})})}})}}]),e}(Ye.a);_g.baseId="editor.widget.postEditWidget",_g=vy([Dv(7,Ns.a),Dv(8,Tn.b),Dv(9,Mi.a)],_g);var Cg=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c){var h;return Object(A.a)(this,e),h=o.call(this),h._id=i,h._editor=t,h._visibleContext=n,h._showCommand=r,h._instantiationService=l,h._bulkEditService=c,h._currentWidget=h._register(new Ye.e),h._register(ca.c.any(t.onDidChangeModel,t.onDidChangeModelContent)(function(){return h.clear()})),h}return Object(P.a)(e,[{key:"applyEditAndShowIfNeeded",value:function(t,n,r,l){var c,h;return gy(this,void 0,void 0,Object(d.a)().mark(function f(){var R=this,X,oe,je,Me,st,gt,jt;return Object(d.a)().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:if(X=this._editor.getModel(),!(!X||!t.length)){sn.next=3;break}return sn.abrupt("return");case 3:if(oe=n.allEdits[n.activeEditIndex],oe){sn.next=6;break}return sn.abrupt("return");case 6:return je={edits:[].concat(Object(on.a)(t.map(function(qn){return new Nr.c(X.uri,typeof oe.insertText=="string"?{range:qn,text:oe.insertText,insertAsSnippet:!1}:{range:qn,text:oe.insertText.snippet,insertAsSnippet:!0})})),Object(on.a)((h=(c=oe.additionalEdit)===null||c===void 0?void 0:c.edits)!==null&&h!==void 0?h:[]))},Me=t[0],st=X.deltaDecorations([],[{range:Me,options:{description:"paste-line-suffix",stickiness:0}}]),sn.prev=9,sn.next=12,this._bulkEditService.apply(je,{editor:this._editor,token:l});case 12:gt=sn.sent,jt=X.getDecorationRange(st[0]);case 14:return sn.prev=14,X.deltaDecorations(st,[]),sn.finish(14);case 17:r&&gt.isApplied&&n.allEdits.length>1&&this.show(jt!=null?jt:Me,n,function(qn){return gy(R,void 0,void 0,Object(d.a)().mark(function Hn(){var fi;return Object(d.a)().wrap(function(wi){for(;;)switch(wi.prev=wi.next){case 0:if(fi=this._editor.getModel(),fi){wi.next=3;break}return wi.abrupt("return");case 3:return wi.next=5,fi.undo();case 5:this.applyEditAndShowIfNeeded(t,{activeEditIndex:qn,allEdits:n.allEdits},r,l);case 6:case"end":return wi.stop()}},Hn,this)}))});case 18:case"end":return sn.stop()}},f,this,[[9,,14,17]])}))}},{key:"show",value:function(t,n,r){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(_g,this._id,this._editor,this._visibleContext,this._showCommand,t,n,r))}},{key:"clear",value:function(){this._currentWidget.clear()}},{key:"tryShowSelector",value:function(){var t;(t=this._currentWidget.value)===null||t===void 0||t.showSelector()}}]),e}(Ye.a);Cg=vy([Dv(4,ia.a),Dv(5,Nr.a)],Cg);var E1=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},kf=function(s,o){return function(e,i){o(e,i,s)}},Ud=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},my="editor.changePasteType",py=new Tn.c("pasteWidgetVisible",!1,Object(We.b)("pasteWidgetVisible","Whether the paste widget is showing")),Um="application/vnd.code.copyMetadata",Mh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h){var f;Object(A.a)(this,e),f=o.call(this),f._bulkEditService=n,f._clipboardService=r,f._languageFeaturesService=l,f._quickInputService=c,f._progressService=h,f._editor=i;var R=i.getContainerDomNode();return f._register(Object(It.addDisposableListener)(R,"copy",function(X){return f.handleCopy(X)})),f._register(Object(It.addDisposableListener)(R,"cut",function(X){return f.handleCopy(X)})),f._register(Object(It.addDisposableListener)(R,"paste",function(X){return f.handlePaste(X)},!0)),f._pasteProgressManager=f._register(new yg("pasteIntoEditor",i,t)),f._postPasteWidgetManager=f._register(t.createInstance(Cg,"pasteIntoEditor",i,py,{id:my,label:Object(We.b)("postPasteWidgetTitle","Show paste options...")})),f}return Object(P.a)(e,[{key:"changePasteType",value:function(){this._postPasteWidgetManager.tryShowSelector()}},{key:"pasteAs",value:function(t){this._editor.focus();try{this._pasteAsActionContext={preferredId:t},document.execCommand("paste")}finally{this._pasteAsActionContext=void 0}}},{key:"isPasteAsEnabled",value:function(){return this._editor.getOption(82).enabled&&!this._editor.getOption(88)}},{key:"handleCopy",value:function(t){var n=this,r,l;if(!(!t.clipboardData||!this._editor.hasTextFocus()||!this.isPasteAsEnabled())){var c=this._editor.getModel(),h=this._editor.getSelections();if(!(!c||!(h==null?void 0:h.length))){var f=this._editor.getOption(35),R=h,X=h.length===1&&h[0].isEmpty();if(X){if(!f)return;R=[new Ze.a(R[0].startLineNumber,1,R[0].startLineNumber,1+c.getLineLength(R[0].startLineNumber))]}var oe=(r=this._editor._getViewModel())===null||r===void 0?void 0:r.getPlainTextToCopy(h,f,Mt.o),je=Array.isArray(oe)?oe:null,Me={multicursorText:je,pasteOnNewLine:X,mode:null},st=this._languageFeaturesService.documentPasteEditProvider.ordered(c).filter(function(qn){return!!qn.prepareDocumentPaste});if(!st.length){this.setCopyMetadata(t.clipboardData,{defaultPastePayload:Me});return}var gt=dy(t.clipboardData),jt=st.flatMap(function(qn){var Hn;return(Hn=qn.copyMimeTypes)!==null&&Hn!==void 0?Hn:[]}),Xt=mg();this.setCopyMetadata(t.clipboardData,{id:Xt,providerCopyMimeTypes:jt,defaultPastePayload:Me});var sn=Object(mt.k)(function(qn){return Ud(n,void 0,void 0,Object(d.a)().mark(function Hn(){var fi=this,Ci,wi,Ai,jr,dr,Dr,Kr,pa,xr,Pa;return Object(d.a)().wrap(function(fa){for(;;)switch(fa.prev=fa.next){case 0:return fa.t0=Wn.f,fa.next=3,Promise.all(st.map(function(co){return Ud(fi,void 0,void 0,Object(d.a)().mark(function ls(){return Object(d.a)().wrap(function(Fo){for(;;)switch(Fo.prev=Fo.next){case 0:return Fo.prev=0,Fo.next=3,co.prepareDocumentPaste(c,R,gt,qn);case 3:return Fo.abrupt("return",Fo.sent);case 6:return Fo.prev=6,Fo.t0=Fo.catch(0),console.error(Fo.t0),Fo.abrupt("return",void 0);case 10:case"end":return Fo.stop()}},ls,null,[[0,6]])}))}));case 3:fa.t1=fa.sent,Ci=(0,fa.t0)(fa.t1),Ci.reverse(),wi=Object(G.a)(Ci);try{for(wi.s();!(Ai=wi.n()).done;){jr=Ai.value,dr=Object(G.a)(jr);try{for(dr.s();!(Dr=dr.n()).done;)Kr=Dr.value,pa=Object(O.a)(Kr,2),xr=pa[0],Pa=pa[1],gt.replace(xr,Pa)}catch(co){dr.e(co)}finally{dr.f()}}}catch(co){wi.e(co)}finally{wi.f()}return fa.abrupt("return",gt);case 9:case"end":return fa.stop()}},Hn)}))});(l=this._currentCopyOperation)===null||l===void 0||l.dataTransferPromise.cancel(),this._currentCopyOperation={handle:Xt,dataTransferPromise:sn}}}}},{key:"handlePaste",value:function(t){var n,r;return Ud(this,void 0,void 0,Object(d.a)().mark(function l(){var c,h,f,R,X,oe;return Object(d.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(!(!t.clipboardData||!this._editor.hasTextFocus())){Me.next=2;break}return Me.abrupt("return");case 2:if((n=this._currentPasteOperation)===null||n===void 0||n.cancel(),this._currentPasteOperation=void 0,c=this._editor.getModel(),h=this._editor.getSelections(),!(!(h==null?void 0:h.length)||!c)){Me.next=8;break}return Me.abrupt("return");case 8:if(this.isPasteAsEnabled()){Me.next=10;break}return Me.abrupt("return");case 10:if(f=this.fetchCopyMetadata(t.clipboardData),R=hy(t.clipboardData),R.delete(Um),X=[].concat(Object(on.a)(t.clipboardData.types),Object(on.a)((r=f==null?void 0:f.providerCopyMimeTypes)!==null&&r!==void 0?r:[]),[jl.a.uriList]),oe=this._languageFeaturesService.documentPasteEditProvider.ordered(c).filter(function(st){var gt;return(gt=st.pasteMimeTypes)===null||gt===void 0?void 0:gt.some(function(jt){return m1(jt,X)})}),oe.length){Me.next=17;break}return Me.abrupt("return");case 17:t.preventDefault(),t.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,oe,h,R,f):this.doPasteInline(oe,h,R,f);case 20:case"end":return Me.stop()}},l,this)}))}},{key:"doPasteInline",value:function(t,n,r,l){var c=this,h=Object(mt.k)(function(f){return Ud(c,void 0,void 0,Object(d.a)().mark(function R(){var X,oe,je,Me,st,gt;return Object(d.a)().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:if(X=this._editor,X.hasModel()){Xt.next=3;break}return Xt.abrupt("return");case 3:return oe=X.getModel(),je=new ja.b(X,1|2,void 0,f),Xt.prev=5,Xt.next=8,this.mergeInDataFromCopy(r,l,je.token);case 8:if(!je.token.isCancellationRequested){Xt.next=10;break}return Xt.abrupt("return");case 10:if(Me=t.filter(function(sn){return by(sn,r)}),!(!Me.length||Me.length===1&&Me[0].id==="text")){Xt.next=15;break}return Xt.next=14,this.applyDefaultPasteHandler(r,l,je.token);case 14:return Xt.abrupt("return");case 15:return Xt.next=17,this.getPasteEdits(Me,r,oe,n,je.token);case 17:if(st=Xt.sent,!je.token.isCancellationRequested){Xt.next=20;break}return Xt.abrupt("return");case 20:if(!st.length){Xt.next=23;break}return gt=X.getOption(82).showPasteSelector==="afterPaste",Xt.abrupt("return",this._postPasteWidgetManager.applyEditAndShowIfNeeded(n,{activeEditIndex:0,allEdits:st},gt,je.token));case 23:return Xt.next=25,this.applyDefaultPasteHandler(r,l,je.token);case 25:return Xt.prev=25,je.dispose(),this._currentPasteOperation===h&&(this._currentPasteOperation=void 0),Xt.finish(25);case 29:case"end":return Xt.stop()}},R,this,[[5,,25,29]])}))});this._pasteProgressManager.showWhile(n[0].getEndPosition(),Object(We.b)("pasteIntoEditorProgress","Running paste handlers. Click to cancel"),h),this._currentPasteOperation=h}},{key:"showPasteAsPick",value:function(t,n,r,l,c){var h=this,f=Object(mt.k)(function(R){return Ud(h,void 0,void 0,Object(d.a)().mark(function X(){var oe,je,Me,st,gt,jt,Xt,sn;return Object(d.a)().wrap(function(Hn){for(;;)switch(Hn.prev=Hn.next){case 0:if(oe=this._editor,oe.hasModel()){Hn.next=3;break}return Hn.abrupt("return");case 3:return je=oe.getModel(),Me=new ja.b(oe,1|2,void 0,R),Hn.prev=5,Hn.next=8,this.mergeInDataFromCopy(l,c,Me.token);case 8:if(!Me.token.isCancellationRequested){Hn.next=10;break}return Hn.abrupt("return");case 10:return st=n.filter(function(fi){return by(fi,l)}),Hn.next=13,this.getPasteEdits(st,l,je,r,Me.token);case 13:if(gt=Hn.sent,!Me.token.isCancellationRequested){Hn.next=16;break}return Hn.abrupt("return");case 16:if(gt.length){Hn.next=18;break}return Hn.abrupt("return");case 18:if(typeof t!="string"){Hn.next=22;break}jt=gt.find(function(fi){return fi.id===t}),Hn.next=26;break;case 22:return Hn.next=24,this._quickInputService.pick(gt.map(function(fi){return{label:fi.label,description:fi.id,detail:fi.detail,edit:fi}}),{placeHolder:Object(We.b)("pasteAsPickerPlaceholder","Select Paste Action")});case 24:Xt=Hn.sent,jt=Xt==null?void 0:Xt.edit;case 26:if(jt){Hn.next=28;break}return Hn.abrupt("return");case 28:return sn=O1(je.uri,r,jt),Hn.next=31,this._bulkEditService.apply(sn,{editor:this._editor});case 31:return Hn.prev=31,Me.dispose(),this._currentPasteOperation===f&&(this._currentPasteOperation=void 0),Hn.finish(31);case 35:case"end":return Hn.stop()}},X,this,[[5,,31,35]])}))});this._progressService.withProgress({location:10,title:Object(We.b)("pasteAsProgress","Running paste handlers")},function(){return f})}},{key:"setCopyMetadata",value:function(t,n){t.setData(Um,JSON.stringify(n))}},{key:"fetchCopyMetadata",value:function(t){var n=t.getData(Um);if(n)try{return JSON.parse(n)}catch(r){return}}},{key:"mergeInDataFromCopy",value:function(t,n,r){var l;return Ud(this,void 0,void 0,Object(d.a)().mark(function c(){var h,f,R,X,oe,je,Me,st;return Object(d.a)().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:if(!((n==null?void 0:n.id)&&((l=this._currentCopyOperation)===null||l===void 0?void 0:l.handle)===n.id)){jt.next=8;break}return jt.next=3,this._currentCopyOperation.dataTransferPromise;case 3:if(h=jt.sent,!r.isCancellationRequested){jt.next=6;break}return jt.abrupt("return");case 6:f=Object(G.a)(h);try{for(f.s();!(R=f.n()).done;)X=R.value,oe=Object(O.a)(X,2),je=oe[0],Me=oe[1],t.replace(je,Me)}catch(Xt){f.e(Xt)}finally{f.f()}case 8:if(t.has(jl.a.uriList)){jt.next=15;break}return jt.next=11,this._clipboardService.readResources();case 11:if(st=jt.sent,!r.isCancellationRequested){jt.next=14;break}return jt.abrupt("return");case 14:st.length&&t.append(jl.a.uriList,Wm(bg.create(st)));case 15:case"end":return jt.stop()}},c,this)}))}},{key:"getPasteEdits",value:function(t,n,r,l,c){return Ud(this,void 0,void 0,Object(d.a)().mark(function h(){var f;return Object(d.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,Object(mt.o)(Promise.all(t.map(function(oe){var je;try{return(je=oe.provideDocumentPasteEdits)===null||je===void 0?void 0:je.call(oe,r,l,n,c)}catch(Me){console.error(Me);return}})).then(Wn.f),c);case 2:return f=X.sent,f==null||f.sort(function(oe,je){return je.priority-oe.priority}),X.abrupt("return",f!=null?f:[]);case 5:case"end":return X.stop()}},h)}))}},{key:"applyDefaultPasteHandler",value:function(t,n,r){var l,c,h;return Ud(this,void 0,void 0,Object(d.a)().mark(function f(){var R,X,oe;return Object(d.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(R=(l=t.get(jl.a.text))!==null&&l!==void 0?l:t.get("text"),R){Me.next=3;break}return Me.abrupt("return");case 3:return Me.next=5,R.asString();case 5:if(X=Me.sent,!r.isCancellationRequested){Me.next=8;break}return Me.abrupt("return");case 8:oe={text:X,pasteOnNewLine:(c=n==null?void 0:n.defaultPastePayload.pasteOnNewLine)!==null&&c!==void 0?c:!1,multicursorText:(h=n==null?void 0:n.defaultPastePayload.multicursorText)!==null&&h!==void 0?h:null,mode:null},this._editor.trigger("keyboard","paste",oe);case 10:case"end":return Me.stop()}},f,this)}))}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);Mh.ID="editor.contrib.copyPasteActionController",Mh=E1([kf(1,ia.a),kf(2,Nr.a),kf(3,$t.a),kf(4,$i.a),kf(5,yl.a),kf(6,Ua.b)],Mh);function by(s,o){var e;return Boolean((e=s.pasteMimeTypes)===null||e===void 0?void 0:e.some(function(i){return o.matches(i)}))}var zm=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},wv=function(s,o){return function(e,i){o(e,i,s)}},Df=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Km=Object(We.b)("builtIn","Built-in"),Gm=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"provideDocumentPasteEdits",value:function(e,i,t,n){return Df(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.getEdit(t,n);case 2:return l=h.sent,h.abrupt("return",l?{id:this.id,insertText:l.insertText,label:l.label,detail:l.detail,priority:l.priority}:void 0);case 4:case"end":return h.stop()}},r,this)}))}},{key:"provideDocumentOnDropEdits",value:function(e,i,t,n){return Df(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.getEdit(t,n);case 2:return l=h.sent,h.abrupt("return",l?{id:this.id,insertText:l.insertText,label:l.label,priority:l.priority}:void 0);case 4:case"end":return h.stop()}},r,this)}))}}]),s}(),yy=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.apply(this,arguments),i.id="text",i.dropMimeTypes=[jl.a.text],i.pasteMimeTypes=[jl.a.text],i}return Object(P.a)(e,[{key:"getEdit",value:function(t,n){return Df(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(l=t.get(jl.a.text),l){f.next=3;break}return f.abrupt("return");case 3:if(!t.has(jl.a.uriList)){f.next=5;break}return f.abrupt("return");case 5:return f.next=7,l.asString();case 7:return c=f.sent,f.abrupt("return",{id:this.id,priority:0,label:Object(We.b)("text.label","Insert Plain Text"),detail:Km,insertText:c});case 9:case"end":return f.stop()}},r,this)}))}}]),e}(Gm),_y=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.apply(this,arguments),i.id="uri",i.dropMimeTypes=[jl.a.uriList],i.pasteMimeTypes=[jl.a.uriList],i}return Object(P.a)(e,[{key:"getEdit",value:function(t,n){return Df(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f;return Object(d.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,Cy(t);case 2:if(l=X.sent,!(!l.length||n.isCancellationRequested)){X.next=5;break}return X.abrupt("return");case 5:return c=0,h=l.map(function(oe){var je=oe.uri,Me=oe.originalText;return je.scheme===no.c.file?je.fsPath:(c++,Me)}).join(" "),c>0?f=l.length>1?Object(We.b)("defaultDropProvider.uriList.uris","Insert Uris"):Object(We.b)("defaultDropProvider.uriList.uri","Insert Uri"):f=l.length>1?Object(We.b)("defaultDropProvider.uriList.paths","Insert Paths"):Object(We.b)("defaultDropProvider.uriList.path","Insert Path"),X.abrupt("return",{id:this.id,priority:0,insertText:h,label:f,detail:Km});case 9:case"end":return X.stop()}},r,this)}))}}]),e}(Gm),Og=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t._workspaceContextService=i,t.id="relativePath",t.dropMimeTypes=[jl.a.uriList],t.pasteMimeTypes=[jl.a.uriList],t}return Object(P.a)(e,[{key:"getEdit",value:function(t,n){return Df(this,void 0,void 0,Object(d.a)().mark(function r(){var l=this,c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,Cy(t);case 2:if(c=R.sent,!(!c.length||n.isCancellationRequested)){R.next=5;break}return R.abrupt("return");case 5:if(h=Object(Wn.f)(c.map(function(X){var oe=X.uri,je=l._workspaceContextService.getWorkspaceFolder(oe);return je?Object(mo.k)(je.uri,oe):void 0})),h.length){R.next=8;break}return R.abrupt("return");case 8:return R.abrupt("return",{id:this.id,priority:0,insertText:h.join(" "),label:c.length>1?Object(We.b)("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):Object(We.b)("defaultDropProvider.uriList.relativePath","Insert Relative Path"),detail:Km});case 9:case"end":return R.stop()}},r,this)}))}}]),e}(Gm);Og=zm([wv(0,Du.a)],Og);function Cy(s){return Df(this,void 0,void 0,Object(d.a)().mark(function o(){var e,i,t,n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=s.get(jl.a.uriList),e){h.next=3;break}return h.abrupt("return",[]);case 3:return h.next=5,e.asString();case 5:i=h.sent,t=[],n=Object(G.a)(bg.parse(i));try{for(n.s();!(r=n.n()).done;){l=r.value;try{t.push({uri:_r.a.parse(l),originalText:l})}catch(f){}}}catch(f){n.e(f)}finally{n.f()}return h.abrupt("return",t);case 10:case"end":return h.stop()}},o)}))}var $m=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n._register(i.documentOnDropEditProvider.register("*",new yy)),n._register(i.documentOnDropEditProvider.register("*",new _y)),n._register(i.documentOnDropEditProvider.register("*",new Og(t))),n}return Object(P.a)(e)}(Ye.a);$m=zm([wv(0,$i.a),wv(1,Du.a)],$m);var Qm=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n._register(i.documentPasteEditProvider.register("*",new yy)),n._register(i.documentPasteEditProvider.register("*",new _y)),n._register(i.documentPasteEditProvider.register("*",new Og(t))),n}return Object(P.a)(e)}(Ye.a);Qm=zm([wv(0,$i.a),wv(1,Du.a)],Qm),Object(wt.m)(Mh.ID,Mh,0),Object(No.b)(Qm),Object(wt.l)(new(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:my,precondition:py,kbOpts:{weight:100,primary:2048|89}})}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n,r){var l;return(l=Mh.get(n))===null||l===void 0?void 0:l.changePasteType()}}]),e}(wt.d))),Object(wt.k)(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.pasteAs",label:We.b("pasteAs","Paste As..."),alias:"Paste As...",precondition:void 0,description:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:We.b("pasteAs.id","The id of the paste edit to try applying. If not provided, the editor will show a picker.")}}}}]}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){var l,c=typeof(r==null?void 0:r.id)=="string"?r.id:void 0;return(l=Mh.get(n))===null||l===void 0?void 0:l.pasteAs(c)}}]),e}(wt.b));var L1=function(){function s(){Object(A.a)(this,s),this._dragOperations=new Map}return Object(P.a)(s,[{key:"removeDragOperationTransfer",value:function(e){if(e&&this._dragOperations.has(e)){var i=this._dragOperations.get(e);return this._dragOperations.delete(e),i}}}]),s}(),Oy=Object(P.a)(function s(o){Object(A.a)(this,s),this.identifier=o}),Sy=Object(ia.c)("treeViewsDndService");Object(Cs.b)(Sy,L1,1);var M1=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Ym=function(s,o){return function(e,i){o(e,i,s)}},Sg=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},ky="editor.changeDropType",Dy=new Tn.c("dropWidgetVisible",!1,Object(We.b)("dropWidgetVisible","Whether the drop widget is showing")),wf=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;return Object(A.a)(this,e),l=o.call(this),l._languageFeaturesService=n,l._treeViewsDragAndDropService=r,l.treeItemsTransfer=Hm.getInstance(),l._dropProgressManager=l._register(t.createInstance(yg,"dropIntoEditor",i)),l._postDropWidgetManager=l._register(t.createInstance(Cg,"dropIntoEditor",i,Dy,{id:ky,label:Object(We.b)("postDropWidgetTitle","Show drop options...")})),l._register(i.onDropIntoEditor(function(c){return l.onDropIntoEditor(i,c.position,c.event)})),l}return Object(P.a)(e,[{key:"changeDropType",value:function(){this._postDropWidgetManager.tryShowSelector()}},{key:"onDropIntoEditor",value:function(t,n,r){var l;return Sg(this,void 0,void 0,Object(d.a)().mark(function c(){var h=this,f;return Object(d.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!(!r.dataTransfer||!t.hasModel())){X.next=2;break}return X.abrupt("return");case 2:(l=this._currentOperation)===null||l===void 0||l.cancel(),t.focus(),t.setPosition(n),f=Object(mt.k)(function(oe){return Sg(h,void 0,void 0,Object(d.a)().mark(function je(){var Me,st,gt,jt,Xt,sn;return Object(d.a)().wrap(function(Hn){for(;;)switch(Hn.prev=Hn.next){case 0:return Me=new ja.b(t,1,void 0,oe),Hn.prev=1,Hn.next=4,this.extractDataTransferData(r);case 4:if(st=Hn.sent,!(st.size===0||Me.token.isCancellationRequested)){Hn.next=7;break}return Hn.abrupt("return");case 7:if(gt=t.getModel(),gt){Hn.next=10;break}return Hn.abrupt("return");case 10:return jt=this._languageFeaturesService.documentOnDropEditProvider.ordered(gt).filter(function(fi){return fi.dropMimeTypes?fi.dropMimeTypes.some(function(Ci){return st.matches(Ci)}):!0}),Hn.next=13,this.getDropEdits(jt,gt,n,st,Me);case 13:if(Xt=Hn.sent,!Me.token.isCancellationRequested){Hn.next=16;break}return Hn.abrupt("return");case 16:if(!Xt.length){Hn.next=20;break}return sn=t.getOption(34).showDropSelector==="afterDrop",Hn.next=20,this._postDropWidgetManager.applyEditAndShowIfNeeded([Ze.a.fromPositions(n)],{activeEditIndex:0,allEdits:Xt},sn,oe);case 20:return Hn.prev=20,Me.dispose(),this._currentOperation===f&&(this._currentOperation=void 0),Hn.finish(20);case 24:case"end":return Hn.stop()}},je,this,[[1,,20,24]])}))}),this._dropProgressManager.showWhile(n,Object(We.b)("dropIntoEditorProgress","Running drop handlers. Click to cancel"),f),this._currentOperation=f;case 8:case"end":return X.stop()}},c,this)}))}},{key:"getDropEdits",value:function(t,n,r,l,c){return Sg(this,void 0,void 0,Object(d.a)().mark(function h(){var f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,Object(mt.o)(Promise.all(t.map(function(je){return je.provideDocumentOnDropEdits(n,r,l,c.token)})),c.token);case 2:return f=oe.sent,R=Object(Wn.f)(f!=null?f:[]),R.sort(function(je,Me){return Me.priority-je.priority}),oe.abrupt("return",R);case 6:case"end":return oe.stop()}},h)}))}},{key:"extractDataTransferData",value:function(t){return Sg(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R,X,oe,je,Me,st,gt;return Object(d.a)().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:if(t.dataTransfer){Xt.next=2;break}return Xt.abrupt("return",new ly);case 2:if(r=hy(t.dataTransfer),!this.treeItemsTransfer.hasData(Oy.prototype)){Xt.next=25;break}if(l=this.treeItemsTransfer.getData(Oy.prototype),!Array.isArray(l)){Xt.next=25;break}c=Object(G.a)(l),Xt.prev=7,c.s();case 9:if((h=c.n()).done){Xt.next=17;break}return f=h.value,Xt.next=13,this._treeViewsDragAndDropService.removeDragOperationTransfer(f.identifier);case 13:if(R=Xt.sent,R){X=Object(G.a)(R);try{for(X.s();!(oe=X.n()).done;)je=oe.value,Me=Object(O.a)(je,2),st=Me[0],gt=Me[1],r.replace(st,gt)}catch(sn){X.e(sn)}finally{X.f()}}case 15:Xt.next=9;break;case 17:Xt.next=22;break;case 19:Xt.prev=19,Xt.t0=Xt.catch(7),c.e(Xt.t0);case 22:return Xt.prev=22,c.f(),Xt.finish(22);case 25:return Xt.abrupt("return",r);case 26:case"end":return Xt.stop()}},n,this,[[7,19,22,25]])}))}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);wf.ID="editor.contrib.dropIntoEditorController",wf=M1([Ym(1,ia.a),Ym(2,$i.a),Ym(3,Sy)],wf),Object(wt.m)(wf.ID,wf,2),Object(wt.l)(new(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:ky,precondition:Dy,kbOpts:{weight:100,primary:2048|89}})}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n,r){var l;(l=wf.get(n))===null||l===void 0||l.changeDropType()}}]),e}(wt.d))),Object(No.b)($m);var wy=a("3IFt"),T1=a("jAJ/"),Th=function(){function s(o){Object(A.a)(this,s),this._editor=o,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return Object(P.a)(s,[{key:"dispose",value:function(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}},{key:"reset",value:function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}},{key:"getCount",value:function(){return this._decorations.length}},{key:"getFindScope",value:function(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}},{key:"getFindScopes",value:function(){var e=this;if(this._findScopeDecorationIds.length){var i=this._findScopeDecorationIds.map(function(t){return e._editor.getModel().getDecorationRange(t)}).filter(function(t){return!!t});if(i.length)return i}return null}},{key:"getStartPosition",value:function(){return this._startPosition}},{key:"setStartPosition",value:function(e){this._startPosition=e,this.setCurrentFindMatch(null)}},{key:"_getDecorationIndex",value:function(e){var i=this._decorations.indexOf(e);return i>=0?i+1:1}},{key:"getDecorationRangeAt",value:function(e){var i=e<this._decorations.length?this._decorations[e]:null;return i?this._editor.getModel().getDecorationRange(i):null}},{key:"getCurrentMatchesPosition",value:function(e){var i=this._editor.getModel().getDecorationsInRange(e),t=Object(G.a)(i),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=r.options;if(l===s._FIND_MATCH_DECORATION||l===s._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(r.id)}}catch(c){t.e(c)}finally{t.f()}return 0}},{key:"setCurrentFindMatch",value:function(e){var i=this,t=null,n=0;if(e)for(var r=0,l=this._decorations.length;r<l;r++){var c=this._editor.getModel().getDecorationRange(this._decorations[r]);if(e.equalsRange(c)){t=this._decorations[r],n=r+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(function(h){if(i._highlightedDecorationId!==null&&(h.changeDecorationOptions(i._highlightedDecorationId,s._FIND_MATCH_DECORATION),i._highlightedDecorationId=null),t!==null&&(i._highlightedDecorationId=t,h.changeDecorationOptions(i._highlightedDecorationId,s._CURRENT_FIND_MATCH_DECORATION)),i._rangeHighlightDecorationId!==null&&(h.removeDecoration(i._rangeHighlightDecorationId),i._rangeHighlightDecorationId=null),t!==null){var f=i._editor.getModel().getDecorationRange(t);if(f.startLineNumber!==f.endLineNumber&&f.endColumn===1){var R=f.endLineNumber-1,X=i._editor.getModel().getLineMaxColumn(R);f=new Ze.a(f.startLineNumber,f.startColumn,R,X)}i._rangeHighlightDecorationId=h.addDecoration(f,s._RANGE_HIGHLIGHT_DECORATION)}}),n}},{key:"set",value:function(e,i){var t=this;this._editor.changeDecorations(function(n){var r=s._FIND_MATCH_DECORATION,l=[];if(e.length>1e3){r=s._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var c=t._editor.getModel().getLineCount(),h=t._editor.getLayoutInfo().height,f=h/c,R=Math.max(2,Math.ceil(3/f)),X=e[0].range.startLineNumber,oe=e[0].range.endLineNumber,je=1,Me=e.length;je<Me;je++){var st=e[je].range;oe+R>=st.startLineNumber?st.endLineNumber>oe&&(oe=st.endLineNumber):(l.push({range:new Ze.a(X,1,oe,1),options:s._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),X=st.startLineNumber,oe=st.endLineNumber)}l.push({range:new Ze.a(X,1,oe,1),options:s._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}for(var gt=new Array(e.length),jt=0,Xt=e.length;jt<Xt;jt++)gt[jt]={range:e[jt].range,options:r};t._decorations=n.deltaDecorations(t._decorations,gt),t._overviewRulerApproximateDecorations=n.deltaDecorations(t._overviewRulerApproximateDecorations,l),t._rangeHighlightDecorationId&&(n.removeDecoration(t._rangeHighlightDecorationId),t._rangeHighlightDecorationId=null),t._findScopeDecorationIds.length&&(t._findScopeDecorationIds.forEach(function(sn){return n.removeDecoration(sn)}),t._findScopeDecorationIds=[]),(i==null?void 0:i.length)&&(t._findScopeDecorationIds=i.map(function(sn){return n.addDecoration(sn,s._FIND_SCOPE_DECORATION)}))})}},{key:"matchBeforePosition",value:function(e){if(this._decorations.length===0)return null;for(var i=this._decorations.length-1;i>=0;i--){var t=this._decorations[i],n=this._editor.getModel().getDecorationRange(t);if(!(!n||n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}},{key:"matchAfterPosition",value:function(e){if(this._decorations.length===0)return null;for(var i=0,t=this._decorations.length;i<t;i++){var n=this._decorations[i],r=this._editor.getModel().getDecorationRange(n);if(!(!r||r.startLineNumber<e.lineNumber)){if(r.startLineNumber>e.lineNumber)return r;if(!(r.startColumn<e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[0])}},{key:"_allDecorations",value:function(){var e=[];if(e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length){var i;(i=e).push.apply(i,Object(on.a)(this._findScopeDecorationIds))}return this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}]),s}();Th._CURRENT_FIND_MATCH_DECORATION=hn.b.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Object(si.f)(lt.rc),position:Zt.f.Center},minimap:{color:Object(si.f)(lt.lc),position:Zt.e.Inline}}),Th._FIND_MATCH_DECORATION=hn.b.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Object(si.f)(lt.rc),position:Zt.f.Center},minimap:{color:Object(si.f)(lt.lc),position:Zt.e.Inline}}),Th._FIND_MATCH_NO_OVERVIEW_DECORATION=hn.b.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),Th._FIND_MATCH_ONLY_OVERVIEW_DECORATION=hn.b.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Object(si.f)(lt.rc),position:Zt.f.Center}}),Th._RANGE_HIGHLIGHT_DECORATION=hn.b.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),Th._FIND_SCOPE_DECORATION=hn.b.register({description:"find-scope",className:"findScope",isWholeLine:!0});var I1=function(){function s(o,e,i){Object(A.a)(this,s),this._editorSelection=o,this._ranges=e,this._replaceStrings=i,this._trackedEditorSelectionId=null}return Object(P.a)(s,[{key:"getEditOperations",value:function(e,i){if(this._ranges.length>0){for(var t=[],n=0;n<this._ranges.length;n++)t.push({range:this._ranges[n],text:this._replaceStrings[n]});t.sort(function(X,oe){return Ze.a.compareRangesUsingStarts(X.range,oe.range)});for(var r=[],l=t[0],c=1;c<t.length;c++)l.range.endLineNumber===t[c].range.startLineNumber&&l.range.endColumn===t[c].range.startColumn?(l.range=l.range.plusRange(t[c].range),l.text=l.text+t[c].text):(r.push(l),l=t[c]);r.push(l);for(var h=0,f=r;h<f.length;h++){var R=f[h];i.addEditOperation(R.range,R.text)}}this._trackedEditorSelectionId=i.trackSelection(this._editorSelection)}},{key:"computeCursorState",value:function(e,i){return i.getTrackedSelection(this._trackedEditorSelectionId)}}]),s}();function jy(s,o){if(s&&s[0]!==""){var e=Ey(s,o,"-"),i=Ey(s,o,"_");return e&&!i?Ly(s,o,"-"):!e&&i?Ly(s,o,"_"):s[0].toUpperCase()===s[0]?o.toUpperCase():s[0].toLowerCase()===s[0]?o.toLowerCase():vr.o(s[0][0])&&o.length>0?o[0].toUpperCase()+o.substr(1):s[0][0].toUpperCase()!==s[0][0]&&o.length>0?o[0].toLowerCase()+o.substr(1):o}else return o}function Ey(s,o,e){var i=s[0].indexOf(e)!==-1&&o.indexOf(e)!==-1;return i&&s[0].split(e).length===o.split(e).length}function Ly(s,o,e){var i=o.split(e),t=s[0].split(e),n="";return i.forEach(function(r,l){n+=jy([t[l]],r)+e}),n.slice(0,-1)}var My=Object(P.a)(function s(o){Object(A.a)(this,s),this.staticValue=o,this.kind=0}),P1=Object(P.a)(function s(o){Object(A.a)(this,s),this.pieces=o,this.kind=1}),Zm=function(){function s(o){Object(A.a)(this,s),!o||o.length===0?this._state=new My(""):o.length===1&&o[0].staticValue!==null?this._state=new My(o[0].staticValue):this._state=new P1(o)}return Object(P.a)(s,[{key:"hasReplacementPatterns",get:function(){return this._state.kind===1}},{key:"buildReplaceString",value:function(e,i){if(this._state.kind===0)return i?jy(e,this._state.staticValue):this._state.staticValue;for(var t="",n=0,r=this._state.pieces.length;n<r;n++){var l=this._state.pieces[n];if(l.staticValue!==null){t+=l.staticValue;continue}var c=s._substitute(l.matchIndex,e);if(l.caseOps!==null&&l.caseOps.length>0){for(var h=[],f=l.caseOps.length,R=0,X=0,oe=c.length;X<oe;X++){if(R>=f){h.push(c.slice(X));break}switch(l.caseOps[R]){case"U":h.push(c[X].toUpperCase());break;case"u":h.push(c[X].toUpperCase()),R++;break;case"L":h.push(c[X].toLowerCase());break;case"l":h.push(c[X].toLowerCase()),R++;break;default:h.push(c[X])}}c=h.join("")}t+=c}return t}}],[{key:"fromStaticValue",value:function(e){return new s([kg.staticValue(e)])}},{key:"_substitute",value:function(e,i){if(i===null)return"";if(e===0)return i[0];for(var t="";e>0;){if(e<i.length){var n=i[e]||"";return n+t}t=String(e%10)+t,e=Math.floor(e/10)}return"$"+t}}]),s}(),kg=function(){function s(o,e,i){Object(A.a)(this,s),this.staticValue=o,this.matchIndex=e,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}return Object(P.a)(s,null,[{key:"staticValue",value:function(e){return new s(e,-1,null)}},{key:"caseOps",value:function(e,i){return new s(null,e,i)}}]),s}(),A1=function(){function s(o){Object(A.a)(this,s),this._source=o,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return Object(P.a)(s,[{key:"emitUnchanged",value:function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}},{key:"emitStatic",value:function(e,i){this._emitStatic(e),this._lastCharIndex=i}},{key:"_emitStatic",value:function(e){e.length!==0&&(this._currentStaticPiece+=e)}},{key:"emitMatchIndex",value:function(e,i,t){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=kg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=kg.caseOps(e,t),this._lastCharIndex=i}},{key:"finalize",value:function(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=kg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Zm(this._result)}}]),s}();function R1(s){if(!s||s.length===0)return new Zm(null);for(var o=[],e=new A1(s),i=0,t=s.length;i<t;i++){var n=s.charCodeAt(i);if(n===92){if(i++,i>=t)break;var r=s.charCodeAt(i);switch(r){case 92:e.emitUnchanged(i-1),e.emitStatic("\\",i+1);break;case 110:e.emitUnchanged(i-1),e.emitStatic(`
`,i+1);break;case 116:e.emitUnchanged(i-1),e.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:e.emitUnchanged(i-1),e.emitStatic("",i+1),o.push(String.fromCharCode(r));break}continue}if(n===36){if(i++,i>=t)break;var l=s.charCodeAt(i);if(l===36){e.emitUnchanged(i-1),e.emitStatic("$",i+1);continue}if(l===48||l===38){e.emitUnchanged(i-1),e.emitMatchIndex(0,i+1,o),o.length=0;continue}if(49<=l&&l<=57){var c=l-48;if(i+1<t){var h=s.charCodeAt(i+1);if(48<=h&&h<=57){i++,c=c*10+(h-48),e.emitUnchanged(i-2),e.emitMatchIndex(c,i+1,o),o.length=0;continue}}e.emitUnchanged(i-1),e.emitMatchIndex(c,i+1,o),o.length=0;continue}}}return e.finalize()}var hd=new Tn.c("findWidgetVisible",!1),WE=hd.toNegated(),Dg=new Tn.c("findInputFocussed",!1),Xm=new Tn.c("replaceInputFocussed",!1),wg={primary:512|33,mac:{primary:2048|512|33}},jg={primary:512|53,mac:{primary:2048|512|53}},Eg={primary:512|48,mac:{primary:2048|512|48}},Lg={primary:512|42,mac:{primary:2048|512|42}},Mg={primary:512|46,mac:{primary:2048|512|46}},Mo={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},zd=19999,N1=240,x1=function(){function s(o,e){var i=this;Object(A.a)(this,s),this._toDispose=new Ye.c,this._editor=o,this._state=e,this._isDisposed=!1,this._startSearchingTimer=new mt.i,this._decorations=new Th(o),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new mt.g(function(){return i.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(function(t){(t.reason===3||t.reason===5||t.reason===6)&&i._decorations.setStartPosition(i._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(function(t){i._ignoreModelContentChanged||(t.isFlush&&i._decorations.reset(),i._decorations.setStartPosition(i._editor.getPosition()),i._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(function(t){return i._onStateChanged(t)})),this.research(!1,this._state.searchScope)}return Object(P.a)(s,[{key:"dispose",value:function(){this._isDisposed=!0,Object(Ye.i)(this._startSearchingTimer),this._toDispose.dispose()}},{key:"_onStateChanged",value:function(e){var i=this;if(!this._isDisposed&&!!this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){var t=this._editor.getModel();t.isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(function(){e.searchScope?i.research(e.moveCursor,i._state.searchScope):i.research(e.moveCursor)},N1)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}}},{key:"research",value:function(e,i){var t=this,n=null;typeof i!="undefined"?i!==null&&(Array.isArray(i)?n=i:n=[i]):n=this._decorations.getFindScopes(),n!==null&&(n=n.map(function(f){if(f.startLineNumber!==f.endLineNumber){var R=f.endLineNumber;return f.endColumn===1&&(R=R-1),new Ze.a(f.startLineNumber,1,R,t._editor.getModel().getLineMaxColumn(R))}return f}));var r=this._findMatches(n,!1,zd);this._decorations.set(r,n);var l=this._editor.getSelection(),c=this._decorations.getCurrentMatchesPosition(l);if(c===0&&r.length>0){var h=Object(Wn.k)(r.map(function(f){return f.range}),function(f){return Ze.a.compareRangesUsingStarts(f,l)>=0});c=h>0?h-1+1:c}this._state.changeMatchInfo(c,this._decorations.getCount(),void 0),e&&this._editor.getOption(39).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}},{key:"_hasMatches",value:function(){return this._state.matchesCount>0}},{key:"_cannotFind",value:function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}},{key:"_setCurrentFindMatch",value:function(e){var i=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(i,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}},{key:"_prevSearchPosition",value:function(e){var i=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),t=e.lineNumber,n=e.column,r=this._editor.getModel();return i||n===1?(t===1?t=r.getLineCount():t--,n=r.getLineMaxColumn(t)):n--,new nt.a(t,n)}},{key:"_moveToPrevMatch",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this._state.canNavigateBack()){var t=this._decorations.matchAfterPosition(e);t&&this._setCurrentFindMatch(t);return}if(this._decorations.getCount()<zd){var n=this._decorations.matchBeforePosition(e);n&&n.isEmpty()&&n.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),n=this._decorations.matchBeforePosition(e)),n&&this._setCurrentFindMatch(n);return}if(!this._cannotFind()){var r=this._decorations.getFindScope(),l=s._getSearchRange(this._editor.getModel(),r);l.getEndPosition().isBefore(e)&&(e=l.getEndPosition()),e.isBefore(l.getStartPosition())&&(e=l.getEndPosition());var c=e,h=c.lineNumber,f=c.column,R=this._editor.getModel(),X=new nt.a(h,f),oe=R.findPreviousMatch(this._state.searchString,X,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,!1);if(oe&&oe.range.isEmpty()&&oe.range.getStartPosition().equals(X)&&(X=this._prevSearchPosition(X),oe=R.findPreviousMatch(this._state.searchString,X,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,!1)),!!oe){if(!i&&!l.containsRange(oe.range))return this._moveToPrevMatch(oe.range.getStartPosition(),!0);this._setCurrentFindMatch(oe.range)}}}},{key:"moveToPrevMatch",value:function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}},{key:"_nextSearchPosition",value:function(e){var i=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),t=e.lineNumber,n=e.column,r=this._editor.getModel();return i||n===r.getLineMaxColumn(t)?(t===r.getLineCount()?t=1:t++,n=1):n++,new nt.a(t,n)}},{key:"_moveToNextMatch",value:function(e){if(!this._state.canNavigateForward()){var i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<zd){var t=this._decorations.matchAfterPosition(e);t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),t&&this._setCurrentFindMatch(t);return}var n=this._getNextMatch(e,!1,!0);n&&this._setCurrentFindMatch(n.range)}},{key:"_getNextMatch",value:function(e,i,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this._cannotFind())return null;var r=this._decorations.getFindScope(),l=s._getSearchRange(this._editor.getModel(),r);l.getEndPosition().isBefore(e)&&(e=l.getStartPosition()),e.isBefore(l.getStartPosition())&&(e=l.getStartPosition());var c=e,h=c.lineNumber,f=c.column,R=this._editor.getModel(),X=new nt.a(h,f),oe=R.findNextMatch(this._state.searchString,X,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,i);return t&&oe&&oe.range.isEmpty()&&oe.range.getStartPosition().equals(X)&&(X=this._nextSearchPosition(X),oe=R.findNextMatch(this._state.searchString,X,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,i)),oe?!n&&!l.containsRange(oe.range)?this._getNextMatch(oe.range.getEndPosition(),i,t,!0):oe:null}},{key:"moveToNextMatch",value:function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}},{key:"_moveToMatch",value:function(e){var i=this._decorations.getDecorationRangeAt(e);i&&this._setCurrentFindMatch(i)}},{key:"moveToMatch",value:function(e){this._moveToMatch(e)}},{key:"_getReplacePattern",value:function(){return this._state.isRegex?R1(this._state.replaceString):Zm.fromStaticValue(this._state.replaceString)}},{key:"replace",value:function(){if(!!this._hasMatches()){var e=this._getReplacePattern(),i=this._editor.getSelection(),t=this._getNextMatch(i.getStartPosition(),!0,!1);if(t)if(i.equalsRange(t.range)){var n=e.buildReplaceString(t.matches,this._state.preserveCase),r=new ua.a(i,n);this._executeEditorCommand("replace",r),this._decorations.setStartPosition(new nt.a(i.startLineNumber,i.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(t.range)}}},{key:"_findMatches",value:function(e,i,t){var n=this,r=(e||[null]).map(function(l){return s._getSearchRange(n._editor.getModel(),l)});return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,i,t)}},{key:"replaceAll",value:function(){if(!!this._hasMatches()){var e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=zd?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}}},{key:"_largeReplaceAll",value:function(){var e=new T1.a(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null),i=e.parseSearchRequest();if(!!i){var t=i.regex;if(!t.multiline){var n="mu";t.ignoreCase&&(n+="i"),t.global&&(n+="g"),t=new RegExp(t.source,n)}var r=this._editor.getModel(),l=r.getValue(1),c=r.getFullModelRange(),h=this._getReplacePattern(),f,R=this._state.preserveCase;h.hasReplacementPatterns||R?f=l.replace(t,function(){return h.buildReplaceString(arguments,R)}):f=l.replace(t,h.buildReplaceString(null,R));var X=new ua.b(c,f,this._editor.getSelection());this._executeEditorCommand("replaceAll",X)}}},{key:"_regularReplaceAll",value:function(e){for(var i=this._getReplacePattern(),t=this._findMatches(e,i.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[],r=0,l=t.length;r<l;r++)n[r]=i.buildReplaceString(t[r].matches,this._state.preserveCase);var c=new I1(this._editor.getSelection(),t.map(function(h){return h.range}),n);this._executeEditorCommand("replaceAll",c)}},{key:"selectAllMatches",value:function(){if(!!this._hasMatches()){for(var e=this._decorations.getFindScopes(),i=this._findMatches(e,!1,1073741824),t=i.map(function(h){return new Pi.a(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)}),n=this._editor.getSelection(),r=0,l=t.length;r<l;r++){var c=t[r];if(c.equalsRange(n)){t=[n].concat(t.slice(0,r)).concat(t.slice(r+1));break}}this._editor.setSelections(t)}}},{key:"_executeEditorCommand",value:function(e,i){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,i),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}],[{key:"_getSearchRange",value:function(e,i){return i||e.getFullModelRange()}}]),s}(),VE=a("KWsz"),Jm=a("bZhu"),Ty=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;Object(A.a)(this,e),r=o.call(this),r._hideSoon=r._register(new mt.g(function(){return r._hide()},2e3)),r._isVisible=!1,r._editor=i,r._state=t,r._keybindingService=n,r._domNode=document.createElement("div"),r._domNode.className="findOptionsWidget",r._domNode.style.display="none",r._domNode.style.top="10px",r._domNode.style.zIndex="12",r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true");var l={inputActiveOptionBorder:Object(lt.c)(lt.pb),inputActiveOptionForeground:Object(lt.c)(lt.qb),inputActiveOptionBackground:Object(lt.c)(lt.ob)};return r.caseSensitive=r._register(new Jm.a(Object.assign({appendTitle:r._keybindingLabelFor(Mo.ToggleCaseSensitiveCommand),isChecked:r._state.matchCase},l))),r._domNode.appendChild(r.caseSensitive.domNode),r._register(r.caseSensitive.onChange(function(){r._state.change({matchCase:r.caseSensitive.checked},!1)})),r.wholeWords=r._register(new Jm.c(Object.assign({appendTitle:r._keybindingLabelFor(Mo.ToggleWholeWordCommand),isChecked:r._state.wholeWord},l))),r._domNode.appendChild(r.wholeWords.domNode),r._register(r.wholeWords.onChange(function(){r._state.change({wholeWord:r.wholeWords.checked},!1)})),r.regex=r._register(new Jm.b(Object.assign({appendTitle:r._keybindingLabelFor(Mo.ToggleRegexCommand),isChecked:r._state.isRegex},l))),r._domNode.appendChild(r.regex.domNode),r._register(r.regex.onChange(function(){r._state.change({isRegex:r.regex.checked},!1)})),r._editor.addOverlayWidget(Object(nn.a)(r)),r._register(r._state.onFindReplaceStateChange(function(c){var h=!1;c.isRegex&&(r.regex.checked=r._state.isRegex,h=!0),c.wholeWord&&(r.wholeWords.checked=r._state.wholeWord,h=!0),c.matchCase&&(r.caseSensitive.checked=r._state.matchCase,h=!0),!r._state.isRevealed&&h&&r._revealTemporarily()})),r._register(It.addDisposableListener(r._domNode,It.EventType.MOUSE_LEAVE,function(c){return r._onMouseLeave()})),r._register(It.addDisposableListener(r._domNode,"mouseover",function(c){return r._onMouseOver()})),r}return Object(P.a)(e,[{key:"_keybindingLabelFor",value:function(t){var n=this._keybindingService.lookupKeybinding(t);return n?" (".concat(n.getLabel(),")"):""}},{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{preference:0}}},{key:"highlightFindOptions",value:function(){this._revealTemporarily()}},{key:"_revealTemporarily",value:function(){this._show(),this._hideSoon.schedule()}},{key:"_onMouseLeave",value:function(){this._hideSoon.schedule()}},{key:"_onMouseOver",value:function(){this._hideSoon.cancel()}},{key:"_show",value:function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}},{key:"_hide",value:function(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}}]),e}(Ru.a);Ty.ID="editor.contrib.findOptionsWidget";function Tg(s,o){return s===1?!0:s===2?!1:o}var F1=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this),i._onFindReplaceStateChange=i._register(new ca.b),i.onFindReplaceStateChange=i._onFindReplaceStateChange.event,i._searchString="",i._replaceString="",i._isRevealed=!1,i._isReplaceRevealed=!1,i._isRegex=!1,i._isRegexOverride=0,i._wholeWord=!1,i._wholeWordOverride=0,i._matchCase=!1,i._matchCaseOverride=0,i._preserveCase=!1,i._preserveCaseOverride=0,i._searchScope=null,i._matchesPosition=0,i._matchesCount=0,i._currentMatch=null,i._loop=!0,i._isSearching=!1,i._filters=null,i}return Object(P.a)(e,[{key:"searchString",get:function(){return this._searchString}},{key:"replaceString",get:function(){return this._replaceString}},{key:"isRevealed",get:function(){return this._isRevealed}},{key:"isReplaceRevealed",get:function(){return this._isReplaceRevealed}},{key:"isRegex",get:function(){return Tg(this._isRegexOverride,this._isRegex)}},{key:"wholeWord",get:function(){return Tg(this._wholeWordOverride,this._wholeWord)}},{key:"matchCase",get:function(){return Tg(this._matchCaseOverride,this._matchCase)}},{key:"preserveCase",get:function(){return Tg(this._preserveCaseOverride,this._preserveCase)}},{key:"actualIsRegex",get:function(){return this._isRegex}},{key:"actualWholeWord",get:function(){return this._wholeWord}},{key:"actualMatchCase",get:function(){return this._matchCase}},{key:"actualPreserveCase",get:function(){return this._preserveCase}},{key:"searchScope",get:function(){return this._searchScope}},{key:"matchesPosition",get:function(){return this._matchesPosition}},{key:"matchesCount",get:function(){return this._matchesCount}},{key:"currentMatch",get:function(){return this._currentMatch}},{key:"changeMatchInfo",value:function(t,n,r){var l={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},c=!1;n===0&&(t=0),t>n&&(t=n),this._matchesPosition!==t&&(this._matchesPosition=t,l.matchesPosition=!0,c=!0),this._matchesCount!==n&&(this._matchesCount=n,l.matchesCount=!0,c=!0),typeof r!="undefined"&&(Ze.a.equalsRange(this._currentMatch,r)||(this._currentMatch=r,l.currentMatch=!0,c=!0)),c&&this._onFindReplaceStateChange.fire(l)}},{key:"change",value:function(t,n){var r=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c,h={moveCursor:n,updateHistory:l,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},f=!1,R=this.isRegex,X=this.wholeWord,oe=this.matchCase,je=this.preserveCase;typeof t.searchString!="undefined"&&this._searchString!==t.searchString&&(this._searchString=t.searchString,h.searchString=!0,f=!0),typeof t.replaceString!="undefined"&&this._replaceString!==t.replaceString&&(this._replaceString=t.replaceString,h.replaceString=!0,f=!0),typeof t.isRevealed!="undefined"&&this._isRevealed!==t.isRevealed&&(this._isRevealed=t.isRevealed,h.isRevealed=!0,f=!0),typeof t.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==t.isReplaceRevealed&&(this._isReplaceRevealed=t.isReplaceRevealed,h.isReplaceRevealed=!0,f=!0),typeof t.isRegex!="undefined"&&(this._isRegex=t.isRegex),typeof t.wholeWord!="undefined"&&(this._wholeWord=t.wholeWord),typeof t.matchCase!="undefined"&&(this._matchCase=t.matchCase),typeof t.preserveCase!="undefined"&&(this._preserveCase=t.preserveCase),typeof t.searchScope!="undefined"&&(((c=t.searchScope)===null||c===void 0?void 0:c.every(function(Me){var st;return(st=r._searchScope)===null||st===void 0?void 0:st.some(function(gt){return!Ze.a.equalsRange(gt,Me)})}))||(this._searchScope=t.searchScope,h.searchScope=!0,f=!0)),typeof t.loop!="undefined"&&this._loop!==t.loop&&(this._loop=t.loop,h.loop=!0,f=!0),typeof t.isSearching!="undefined"&&this._isSearching!==t.isSearching&&(this._isSearching=t.isSearching,h.isSearching=!0,f=!0),typeof t.filters!="undefined"&&(this._filters?this._filters.update(t.filters):this._filters=t.filters,h.filters=!0,f=!0),this._isRegexOverride=typeof t.isRegexOverride!="undefined"?t.isRegexOverride:0,this._wholeWordOverride=typeof t.wholeWordOverride!="undefined"?t.wholeWordOverride:0,this._matchCaseOverride=typeof t.matchCaseOverride!="undefined"?t.matchCaseOverride:0,this._preserveCaseOverride=typeof t.preserveCaseOverride!="undefined"?t.preserveCaseOverride:0,R!==this.isRegex&&(f=!0,h.isRegex=!0),X!==this.wholeWord&&(f=!0,h.wholeWord=!0),oe!==this.matchCase&&(f=!0,h.matchCase=!0),je!==this.preserveCase&&(f=!0,h.preserveCase=!0),f&&this._onFindReplaceStateChange.fire(h)}},{key:"canNavigateBack",value:function(){return this.canNavigateInLoop()||this.matchesPosition!==1}},{key:"canNavigateForward",value:function(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}},{key:"canNavigateInLoop",value:function(){return this._loop||this.matchesCount>=zd}}]),e}(Ye.a),HE=a("+lfL");function Iy(s){var o,e;return((o=s.lookupKeybinding("history.showPrevious"))===null||o===void 0?void 0:o.getElectronAccelerator())==="Up"&&((e=s.lookupKeybinding("history.showNext"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Down"}var jf=a("nEHx"),B1=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},W1=Object(be.b)("find-selection",Tr.a.selection,We.b("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),Py=Object(be.b)("find-collapsed",Tr.a.chevronRight,We.b("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),Ay=Object(be.b)("find-expanded",Tr.a.chevronDown,We.b("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),V1=Object(be.b)("find-replace",Tr.a.replace,We.b("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),H1=Object(be.b)("find-replace-all",Tr.a.replaceAll,We.b("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),U1=Object(be.b)("find-previous-match",Tr.a.arrowUp,We.b("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),z1=Object(be.b)("find-next-match",Tr.a.arrowDown,We.b("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),K1=We.b("label.find","Find"),G1=We.b("placeholder.find","Find"),$1=We.b("label.previousMatchButton","Previous Match"),Q1=We.b("label.nextMatchButton","Next Match"),Y1=We.b("label.toggleSelectionFind","Find in Selection"),Z1=We.b("label.closeButton","Close"),X1=We.b("label.replace","Replace"),J1=We.b("placeholder.replace","Replace"),q1=We.b("label.replaceButton","Replace"),eO=We.b("label.replaceAllButton","Replace All"),tO=We.b("label.toggleReplaceButton","Toggle Replace"),nO=We.b("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",zd),iO=We.b("label.matchesLocation","{0} of {1}"),Ry=We.b("label.noResults","No results"),Ac=419,rO=275,aO=rO-54,jv=69,oO=33,Ny="ctrlEnterReplaceAll.windows.donotask",xy=Mt.i?256:2048,qm=Object(P.a)(function s(o){Object(A.a)(this,s),this.afterLineNumber=o,this.heightInPx=oO,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"});function Fy(s,o,e){var i=!!o.match(/\n/);if(e&&i&&e.selectionStart>0){s.stopPropagation();return}}function By(s,o,e){var i=!!o.match(/\n/);if(e&&i&&e.selectionEnd<e.value.length){s.stopPropagation();return}}var Wy=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h,f,R){var X;return Object(A.a)(this,e),X=o.call(this),X._cachedHeight=null,X._revealTimeouts=[],X._codeEditor=i,X._controller=t,X._state=n,X._contextViewProvider=r,X._keybindingService=l,X._contextKeyService=c,X._storageService=f,X._notificationService=R,X._ctrlEnterReplaceAllWarningPrompted=!!f.getBoolean(Ny,0),X._isVisible=!1,X._isReplaceVisible=!1,X._ignoreChangeEvent=!1,X._updateHistoryDelayer=new mt.c(500),X._register(Object(Ye.l)(function(){return X._updateHistoryDelayer.cancel()})),X._register(X._state.onFindReplaceStateChange(function(oe){return X._onStateChanged(oe)})),X._buildDomNode(),X._updateButtons(),X._tryUpdateWidgetWidth(),X._findInput.inputBox.layout(),X._register(X._codeEditor.onDidChangeConfiguration(function(oe){if(oe.hasChanged(88)&&(X._codeEditor.getOption(88)&&X._state.change({isReplaceRevealed:!1},!1),X._updateButtons()),oe.hasChanged(140)&&X._tryUpdateWidgetWidth(),oe.hasChanged(2)&&X.updateAccessibilitySupport(),oe.hasChanged(39)){var je=X._codeEditor.getOption(39).loop;X._state.change({loop:je},!1);var Me=X._codeEditor.getOption(39).addExtraSpaceOnTop;Me&&!X._viewZone&&(X._viewZone=new qm(0),X._showViewZone()),!Me&&X._viewZone&&X._removeViewZone()}})),X.updateAccessibilitySupport(),X._register(X._codeEditor.onDidChangeCursorSelection(function(){X._isVisible&&X._updateToggleSelectionFindButton()})),X._register(X._codeEditor.onDidFocusEditorWidget(function(){return B1(Object(nn.a)(X),void 0,void 0,Object(d.a)().mark(function oe(){var je;return Object(d.a)().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(!this._isVisible){st.next=5;break}return st.next=3,this._controller.getGlobalBufferTerm();case 3:je=st.sent,je&&je!==this._state.searchString&&(this._state.change({searchString:je},!1),this._findInput.select());case 5:case"end":return st.stop()}},oe,this)}))})),X._findInputFocused=Dg.bindTo(c),X._findFocusTracker=X._register(It.trackFocus(X._findInput.inputBox.inputElement)),X._register(X._findFocusTracker.onDidFocus(function(){X._findInputFocused.set(!0),X._updateSearchScope()})),X._register(X._findFocusTracker.onDidBlur(function(){X._findInputFocused.set(!1)})),X._replaceInputFocused=Xm.bindTo(c),X._replaceFocusTracker=X._register(It.trackFocus(X._replaceInput.inputBox.inputElement)),X._register(X._replaceFocusTracker.onDidFocus(function(){X._replaceInputFocused.set(!0),X._updateSearchScope()})),X._register(X._replaceFocusTracker.onDidBlur(function(){X._replaceInputFocused.set(!1)})),X._codeEditor.addOverlayWidget(Object(nn.a)(X)),X._codeEditor.getOption(39).addExtraSpaceOnTop&&(X._viewZone=new qm(0)),X._register(X._codeEditor.onDidChangeModel(function(){!X._isVisible||(X._viewZoneId=void 0)})),X._register(X._codeEditor.onDidScrollChange(function(oe){if(oe.scrollTopChanged){X._layoutViewZone();return}setTimeout(function(){X._layoutViewZone()},0)})),X}return Object(P.a)(e,[{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return this._isVisible?{preference:0}:null}},{key:"_onStateChanged",value:function(t){if(t.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(t.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),t.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),t.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(88)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=It.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(t.isRevealed||t.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),t.isRegex&&this._findInput.setRegex(this._state.isRegex),t.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),t.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),t.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),t.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),t.searchString||t.matchesCount||t.matchesPosition){var n=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",n),this._updateMatchesCount(),this._updateButtons()}(t.searchString||t.currentMatch)&&this._layoutViewZone(),t.updateHistory&&this._delayedUpdateHistory(),t.loop&&this._updateButtons()}},{key:"_delayedUpdateHistory",value:function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Li.h)}},{key:"_updateHistory",value:function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}},{key:"_updateMatchesCount",value:function(){this._matchesCount.style.minWidth=jv+"px",this._state.matchesCount>=zd?this._matchesCount.title=nO:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);var t;if(this._state.matchesCount>0){var n=String(this._state.matchesCount);this._state.matchesCount>=zd&&(n+="+");var r=String(this._state.matchesPosition);r==="0"&&(r="?"),t=vr.v(iO,r,n)}else t=Ry;this._matchesCount.appendChild(document.createTextNode(t)),Object(Rn.a)(this._getAriaLabel(t,this._state.currentMatch,this._state.searchString)),jv=Math.max(jv,this._matchesCount.clientWidth)}},{key:"_getAriaLabel",value:function(t,n,r){if(t===Ry)return r===""?We.b("ariaSearchNoResultEmpty","{0} found",t):We.b("ariaSearchNoResult","{0} found for '{1}'",t,r);if(n){var l=We.b("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",t,r,n.startLineNumber+":"+n.startColumn),c=this._codeEditor.getModel();if(c&&n.startLineNumber<=c.getLineCount()&&n.startLineNumber>=1){var h=c.getLineContent(n.startLineNumber);return"".concat(h,", ").concat(l)}return l}return We.b("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",t,r)}},{key:"_updateToggleSelectionFindButton",value:function(){var t=this._codeEditor.getSelection(),n=t?t.startLineNumber!==t.endLineNumber||t.startColumn!==t.endColumn:!1,r=this._toggleSelectionFind.checked;this._isVisible&&(r||n)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}},{key:"_updateButtons",value:function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var t=this._state.searchString.length>0,n=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&t&&n&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&t&&n&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var r=!this._codeEditor.getOption(88);this._toggleReplaceBtn.setEnabled(this._isVisible&&r)}},{key:"_reveal",value:function(){var t=this;if(this._revealTimeouts.forEach(function(st){clearTimeout(st)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;var n=this._codeEditor.getSelection();switch(this._codeEditor.getOption(39).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{var r=!!n&&n.startLineNumber!==n.endLineNumber;this._toggleSelectionFind.checked=r;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(function(){t._domNode.classList.add("visible"),t._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(function(){t._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);var l=!0;if(this._codeEditor.getOption(39).seedSearchStringFromSelection&&n){var c=this._codeEditor.getDomNode();if(c){var h=It.getDomNodePagePosition(c),f=this._codeEditor.getScrolledVisiblePosition(n.getStartPosition()),R=h.left+(f?f.left:0),X=f?f.top:0;if(this._viewZone&&X<this._viewZone.heightInPx){n.endLineNumber>n.startLineNumber&&(l=!1);var oe=It.getTopLeftOffset(this._domNode).left;R>oe&&(l=!1);var je=this._codeEditor.getScrolledVisiblePosition(n.getEndPosition()),Me=h.left+(je?je.left:0);Me>oe&&(l=!1)}}}this._showViewZone(l)}}},{key:"_hide",value:function(t){this._revealTimeouts.forEach(function(n){clearTimeout(n)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),t&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}},{key:"_layoutViewZone",value:function(t){var n=this,r=this._codeEditor.getOption(39).addExtraSpaceOnTop;if(!r){this._removeViewZone();return}if(!!this._isVisible){var l=this._viewZone;this._viewZoneId!==void 0||!l||this._codeEditor.changeViewZones(function(c){l.heightInPx=n._getHeight(),n._viewZoneId=c.addZone(l),n._codeEditor.setScrollTop(t||n._codeEditor.getScrollTop()+l.heightInPx)})}}},{key:"_showViewZone",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!!this._isVisible){var r=this._codeEditor.getOption(39).addExtraSpaceOnTop;if(!!r){this._viewZone===void 0&&(this._viewZone=new qm(0));var l=this._viewZone;this._codeEditor.changeViewZones(function(c){if(t._viewZoneId!==void 0){var h=t._getHeight();if(h===l.heightInPx)return;var f=h-l.heightInPx;l.heightInPx=h,c.layoutZone(t._viewZoneId),n&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+f);return}else{var R=t._getHeight();if(R-=t._codeEditor.getOption(81).top,R<=0)return;l.heightInPx=R,t._viewZoneId=c.addZone(l),n&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+R)}})}}}},{key:"_removeViewZone",value:function(){var t=this;this._codeEditor.changeViewZones(function(n){t._viewZoneId!==void 0&&(n.removeZone(t._viewZoneId),t._viewZoneId=void 0,t._viewZone&&(t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()-t._viewZone.heightInPx),t._viewZone=void 0))})}},{key:"_tryUpdateWidgetWidth",value:function(){if(!!this._isVisible&&!!It.isInDOM(this._domNode)){var t=this._codeEditor.getLayoutInfo(),n=t.contentWidth;if(n<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");var r=t.width,l=t.minimap.minimapWidth,c=!1,h=!1,f=!1;if(this._resized){var R=It.getTotalWidth(this._domNode);if(R>Ac){this._domNode.style.maxWidth="".concat(r-28-l-15,"px"),this._replaceInput.width=It.getTotalWidth(this._findInput.domNode);return}}if(Ac+28+l>=r&&(h=!0),Ac+28+l-jv>=r&&(f=!0),Ac+28+l-jv>=r+50&&(c=!0),this._domNode.classList.toggle("collapsed-find-widget",c),this._domNode.classList.toggle("narrow-find-widget",f),this._domNode.classList.toggle("reduced-find-widget",h),!f&&!c&&(this._domNode.style.maxWidth="".concat(r-28-l-15,"px")),this._findInput.layout({collapsedFindWidget:c,narrowFindWidget:f,reducedFindWidget:h}),this._resized){var X=this._findInput.inputBox.element.clientWidth;X>0&&(this._replaceInput.width=X)}else this._isReplaceVisible&&(this._replaceInput.width=It.getTotalWidth(this._findInput.domNode))}}},{key:"_getHeight",value:function(){var t=0;return t+=4,t+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(t+=4,t+=this._replaceInput.inputBox.height+2),t+=4,t}},{key:"_tryUpdateHeight",value:function(){var t=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===t?!1:(this._cachedHeight=t,this._domNode.style.height="".concat(t,"px"),!0)}},{key:"focusFindInput",value:function(){this._findInput.select(),this._findInput.focus()}},{key:"focusReplaceInput",value:function(){this._replaceInput.select(),this._replaceInput.focus()}},{key:"highlightFindOptions",value:function(){this._findInput.highlightFindOptions()}},{key:"_updateSearchScope",value:function(){var t=this;if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var n=this._codeEditor.getSelections();n.map(function(r){r.endColumn===1&&r.endLineNumber>r.startLineNumber&&(r=r.setEndPosition(r.endLineNumber-1,t._codeEditor.getModel().getLineMaxColumn(r.endLineNumber-1)));var l=t._state.currentMatch;return r.startLineNumber!==r.endLineNumber&&!Ze.a.equalsRange(r,l)?r:null}).filter(function(r){return!!r}),n.length&&this._state.change({searchScope:n},!0)}}},{key:"_onFindInputMouseDown",value:function(t){t.middleButton&&t.stopPropagation()}},{key:"_onFindInputKeyDown",value:function(t){if(t.equals(xy|3))if(this._keybindingService.dispatchEvent(t,t.target)){t.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),t.preventDefault();return}if(t.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),t.preventDefault();return}if(t.equals(2048|18)){this._codeEditor.focus(),t.preventDefault();return}if(t.equals(16))return Fy(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(t.equals(18))return By(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}},{key:"_onReplaceInputKeyDown",value:function(t){if(t.equals(xy|3))if(this._keybindingService.dispatchEvent(t,t.target)){t.preventDefault();return}else{Mt.o&&Mt.k&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(We.b("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Ny,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),t.preventDefault();return}if(t.equals(2)){this._findInput.focusOnCaseSensitive(),t.preventDefault();return}if(t.equals(1024|2)){this._findInput.focus(),t.preventDefault();return}if(t.equals(2048|18)){this._codeEditor.focus(),t.preventDefault();return}if(t.equals(16))return Fy(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(t.equals(18))return By(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}},{key:"getVerticalSashLeft",value:function(t){return 0}},{key:"_keybindingLabelFor",value:function(t){var n=this._keybindingService.lookupKeybinding(t);return n?" (".concat(n.getLabel(),")"):""}},{key:"_buildDomNode",value:function(){var t=this,n=!0,r=!0;this._findInput=this._register(new Ur(null,this._contextViewProvider,{width:aO,label:K1,placeholder:G1,appendCaseSensitiveLabel:this._keybindingLabelFor(Mo.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Mo.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Mo.ToggleRegexCommand),validation:function(oe){if(oe.length===0||!t._findInput.getRegex())return null;try{return new RegExp(oe,"gu"),null}catch(je){return{content:je.message}}},flexibleHeight:n,flexibleWidth:r,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:function(){return Iy(t._keybindingService)},inputBoxStyles:Gl.d,toggleStyles:Gl.j},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(function(X){return t._onFindInputKeyDown(X)})),this._register(this._findInput.inputBox.onDidChange(function(){t._ignoreChangeEvent||t._state.change({searchString:t._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){t._state.change({isRegex:t._findInput.getRegex(),wholeWord:t._findInput.getWholeWords(),matchCase:t._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(X){X.equals(1024|2)&&t._isReplaceVisible&&(t._replaceInput.focus(),X.preventDefault())})),this._register(this._findInput.onRegexKeyDown(function(X){X.equals(2)&&t._isReplaceVisible&&(t._replaceInput.focusOnPreserve(),X.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(function(X){t._tryUpdateHeight()&&t._showViewZone()})),Mt.g&&this._register(this._findInput.onMouseDown(function(X){return t._onFindInputMouseDown(X)})),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Ef({label:$1+this._keybindingLabelFor(Mo.PreviousMatchFindAction),icon:U1,onTrigger:function(){Object(ya.a)(t._codeEditor.getAction(Mo.PreviousMatchFindAction)).run().then(void 0,Li.h)}})),this._nextBtn=this._register(new Ef({label:Q1+this._keybindingLabelFor(Mo.NextMatchFindAction),icon:z1,onTrigger:function(){Object(ya.a)(t._codeEditor.getAction(Mo.NextMatchFindAction)).run().then(void 0,Li.h)}}));var l=document.createElement("div");l.className="find-part",l.appendChild(this._findInput.domNode);var c=document.createElement("div");c.className="find-actions",l.appendChild(c),c.appendChild(this._matchesCount),c.appendChild(this._prevBtn.domNode),c.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Xi.a({icon:W1,title:Y1+this._keybindingLabelFor(Mo.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:Object(lt.c)(lt.ob),inputActiveOptionBorder:Object(lt.c)(lt.pb),inputActiveOptionForeground:Object(lt.c)(lt.qb)})),this._register(this._toggleSelectionFind.onChange(function(){if(t._toggleSelectionFind.checked){if(t._codeEditor.hasModel()){var X=t._codeEditor.getSelections();X.map(function(oe){return oe.endColumn===1&&oe.endLineNumber>oe.startLineNumber&&(oe=oe.setEndPosition(oe.endLineNumber-1,t._codeEditor.getModel().getLineMaxColumn(oe.endLineNumber-1))),oe.isEmpty()?null:oe}).filter(function(oe){return!!oe}),X.length&&t._state.change({searchScope:X},!0)}}else t._state.change({searchScope:null},!0)})),c.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Ef({label:Z1+this._keybindingLabelFor(Mo.CloseFindWidgetCommand),icon:be.c,onTrigger:function(){t._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(oe){oe.equals(2)&&t._isReplaceVisible&&(t._replaceBtn.isEnabled()?t._replaceBtn.focus():t._codeEditor.focus(),oe.preventDefault())}})),c.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new aa(null,void 0,{label:X1,placeholder:J1,appendPreserveCaseLabel:this._keybindingLabelFor(Mo.TogglePreserveCaseCommand),history:[],flexibleHeight:n,flexibleWidth:r,flexibleMaxHeight:118,showHistoryHint:function(){return Iy(t._keybindingService)},inputBoxStyles:Gl.d,toggleStyles:Gl.j},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(function(X){return t._onReplaceInputKeyDown(X)})),this._register(this._replaceInput.inputBox.onDidChange(function(){t._state.change({replaceString:t._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(function(X){t._isReplaceVisible&&t._tryUpdateHeight()&&t._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(function(){t._state.change({preserveCase:t._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(function(X){X.equals(2)&&(t._prevBtn.isEnabled()?t._prevBtn.focus():t._nextBtn.isEnabled()?t._nextBtn.focus():t._toggleSelectionFind.enabled?t._toggleSelectionFind.focus():t._closeBtn.isEnabled()&&t._closeBtn.focus(),X.preventDefault())})),this._replaceBtn=this._register(new Ef({label:q1+this._keybindingLabelFor(Mo.ReplaceOneAction),icon:V1,onTrigger:function(){t._controller.replace()},onKeyDown:function(oe){oe.equals(1024|2)&&(t._closeBtn.focus(),oe.preventDefault())}})),this._replaceAllBtn=this._register(new Ef({label:eO+this._keybindingLabelFor(Mo.ReplaceAllAction),icon:H1,onTrigger:function(){t._controller.replaceAll()}}));var h=document.createElement("div");h.className="replace-part",h.appendChild(this._replaceInput.domNode);var f=document.createElement("div");f.className="replace-actions",h.appendChild(f),f.appendChild(this._replaceBtn.domNode),f.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Ef({label:tO,className:"codicon toggle left",onTrigger:function(){t._state.change({isReplaceRevealed:!t._isReplaceVisible},!1),t._isReplaceVisible&&(t._replaceInput.width=It.getTotalWidth(t._findInput.domNode),t._replaceInput.inputBox.layout()),t._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="".concat(Ac,"px"),this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(l),this._domNode.appendChild(h),this._resizeSash=new fo.b(this._domNode,this,{orientation:0,size:2}),this._resized=!1;var R=Ac;this._register(this._resizeSash.onDidStart(function(){R=It.getTotalWidth(t._domNode)})),this._register(this._resizeSash.onDidChange(function(X){t._resized=!0;var oe=R+X.startX-X.currentX;if(!(oe<Ac)){var je=parseFloat(It.getComputedStyle(t._domNode).maxWidth)||0;oe>je||(t._domNode.style.width="".concat(oe,"px"),t._isReplaceVisible&&(t._replaceInput.width=It.getTotalWidth(t._findInput.domNode)),t._findInput.inputBox.layout(),t._tryUpdateHeight())}})),this._register(this._resizeSash.onDidReset(function(){var X=It.getTotalWidth(t._domNode);if(!(X<Ac)){var oe=Ac;if(!t._resized||X===Ac){var je=t._codeEditor.getLayoutInfo();oe=je.width-28-je.minimap.minimapWidth-15,t._resized=!0}t._domNode.style.width="".concat(oe,"px"),t._isReplaceVisible&&(t._replaceInput.width=It.getTotalWidth(t._findInput.domNode)),t._findInput.inputBox.layout()}}))}},{key:"updateAccessibilitySupport",value:function(){var t=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(t!==2)}}]),e}(Ru.a);Wy.ID="editor.contrib.findWidget";var Ef=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;Object(A.a)(this,e),t=o.call(this),t._opts=i;var n="button";return t._opts.className&&(n=n+" "+t._opts.className),t._opts.icon&&(n=n+" "+Fa.a.asClassName(t._opts.icon)),t._domNode=document.createElement("div"),t._domNode.title=t._opts.label,t._domNode.tabIndex=0,t._domNode.className=n,t._domNode.setAttribute("role","button"),t._domNode.setAttribute("aria-label",t._opts.label),t.onclick(t._domNode,function(r){t._opts.onTrigger(),r.preventDefault()}),t.onkeydown(t._domNode,function(r){var l,c;if(r.equals(10)||r.equals(3)){t._opts.onTrigger(),r.preventDefault();return}(c=(l=t._opts).onKeyDown)===null||c===void 0||c.call(l,r)}),t}return Object(P.a)(e,[{key:"domNode",get:function(){return this._domNode}},{key:"isEnabled",value:function(){return this._domNode.tabIndex>=0}},{key:"focus",value:function(){this._domNode.focus()}},{key:"setEnabled",value:function(t){this._domNode.classList.toggle("disabled",!t),this._domNode.setAttribute("aria-disabled",String(!t)),this._domNode.tabIndex=t?0:-1}},{key:"setExpanded",value:function(t){if(this._domNode.setAttribute("aria-expanded",String(!!t)),t){var n,r;(n=this._domNode.classList).remove.apply(n,Object(on.a)(Fa.a.asClassNameArray(Py))),(r=this._domNode.classList).add.apply(r,Object(on.a)(Fa.a.asClassNameArray(Ay)))}else{var l,c;(l=this._domNode.classList).remove.apply(l,Object(on.a)(Fa.a.asClassNameArray(Ay))),(c=this._domNode.classList).add.apply(c,Object(on.a)(Fa.a.asClassNameArray(Py)))}}}]),e}(Ru.a);Object(si.e)(function(s,o){var e=function(gt,jt){jt&&o.addRule(".monaco-editor ".concat(gt," { background-color: ").concat(jt,"; }"))};e(".findMatch",s.getColor(lt.K)),e(".currentFindMatch",s.getColor(lt.I)),e(".findScope",s.getColor(lt.M));var i=s.getColor(lt.gb);e(".find-widget",i);var t=s.getColor(lt.Wc);t&&o.addRule(".monaco-editor .find-widget { box-shadow: 0 0 8px 2px ".concat(t,"; }"));var n=s.getColor(lt.Vc);n&&o.addRule(".monaco-editor .find-widget { border-left: 1px solid ".concat(n,"; border-right: 1px solid ").concat(n,"; border-bottom: 1px solid ").concat(n,"; }"));var r=s.getColor(lt.L);r&&o.addRule(".monaco-editor .findMatch { border: 1px ".concat(Object(jf.c)(s.type)?"dotted":"solid"," ").concat(r,"; box-sizing: border-box; }"));var l=s.getColor(lt.J);l&&o.addRule(".monaco-editor .currentFindMatch { border: 2px solid ".concat(l,"; padding: 1px; box-sizing: border-box; }"));var c=s.getColor(lt.N);c&&o.addRule(".monaco-editor .findScope { border: 1px ".concat(Object(jf.c)(s.type)?"dashed":"solid"," ").concat(c,"; }"));var h=s.getColor(lt.w);h&&o.addRule(".monaco-editor .find-widget { border: 1px solid ".concat(h,"; }"));var f=s.getColor(lt.ib);f&&o.addRule(".monaco-editor .find-widget { color: ".concat(f,"; }"));var R=s.getColor(lt.kb);R&&o.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: ".concat(R,"; }"));var X=s.getColor(lt.jb);if(X)o.addRule(".monaco-editor .find-widget .monaco-sash { background-color: ".concat(X,"; }"));else{var oe=s.getColor(lt.hb);oe&&o.addRule(".monaco-editor .find-widget .monaco-sash { background-color: ".concat(oe,"; }"))}var je=s.getColor(lt.Rc);je&&o.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: `.concat(je,` !important;
		}
	`));var Me=s.getColor(lt.lb);Me&&o.addRule(".monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ".concat(Me,"; }"))});var Vy=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Rc=function(s,o){return function(e,i){o(e,i,s)}},Ih=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},sO=524288;function ep(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"single",e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!s.hasModel())return null;var i=s.getSelection();if(o==="single"&&i.startLineNumber===i.endLineNumber||o==="multiple"){if(i.isEmpty()){var t=s.getConfiguredWordAtPosition(i.getStartPosition());if(t&&e===!1)return t.word}else if(s.getModel().getValueLengthInRange(i)<sO)return s.getModel().getValueInRange(i)}return null}var cl=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;return Object(A.a)(this,e),l=o.call(this),l._editor=i,l._findWidgetVisible=hd.bindTo(t),l._contextKeyService=t,l._storageService=n,l._clipboardService=r,l._updateHistoryDelayer=new mt.c(500),l._state=l._register(new F1),l.loadQueryState(),l._register(l._state.onFindReplaceStateChange(function(c){return l._onStateChanged(c)})),l._model=null,l._register(l._editor.onDidChangeModel(function(){var c=l._editor.getModel()&&l._state.isRevealed;l.disposeModel(),l._state.change({searchScope:null,matchCase:l._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:l._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:l._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:l._storageService.getBoolean("editor.preserveCase",1,!1)},!1),c&&l._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:l._editor.getOption(39).loop})})),l}return Object(P.a)(e,[{key:"editor",get:function(){return this._editor}},{key:"dispose",value:function(){this.disposeModel(),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"disposeModel",value:function(){this._model&&(this._model.dispose(),this._model=null)}},{key:"_onStateChanged",value:function(t){this.saveQueryState(t),t.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),t.searchString&&this.setGlobalBufferTerm(this._state.searchString)}},{key:"saveQueryState",value:function(t){t.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),t.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),t.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),t.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}},{key:"loadQueryState",value:function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}},{key:"isFindInputFocused",value:function(){return!!Dg.getValue(this._contextKeyService)}},{key:"getState",value:function(){return this._state}},{key:"closeFindWidget",value:function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}},{key:"toggleCaseSensitive",value:function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"toggleWholeWords",value:function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"toggleRegex",value:function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"togglePreserveCase",value:function(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"toggleSearchScope",value:function(){var t=this;if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var n=this._editor.getSelections();n.map(function(r){return r.endColumn===1&&r.endLineNumber>r.startLineNumber&&(r=r.setEndPosition(r.endLineNumber-1,t._editor.getModel().getLineMaxColumn(r.endLineNumber-1))),r.isEmpty()?null:r}).filter(function(r){return!!r}),n.length&&this._state.change({searchScope:n},!0)}}},{key:"setSearchString",value:function(t){this._state.isRegex&&(t=vr.t(t)),this._state.change({searchString:t},!1)}},{key:"highlightFindOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1}},{key:"_start",value:function(t,n){return Ih(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(this.disposeModel(),this._editor.hasModel()){oe.next=3;break}return oe.abrupt("return");case 3:if(l=Object.assign(Object.assign({},n),{isRevealed:!0}),t.seedSearchStringFromSelection==="single"?(c=ep(this._editor,t.seedSearchStringFromSelection,t.seedSearchStringFromNonEmptySelection),c&&(this._state.isRegex?l.searchString=vr.t(c):l.searchString=c)):t.seedSearchStringFromSelection==="multiple"&&!t.updateSearchScope&&(h=ep(this._editor,t.seedSearchStringFromSelection),h&&(l.searchString=h)),!(!l.searchString&&t.seedSearchStringFromGlobalClipboard)){oe.next=12;break}return oe.next=8,this.getGlobalBufferTerm();case 8:if(f=oe.sent,this._editor.hasModel()){oe.next=11;break}return oe.abrupt("return");case 11:f&&(l.searchString=f);case 12:t.forceRevealReplace||l.isReplaceRevealed?l.isReplaceRevealed=!0:this._findWidgetVisible.get()||(l.isReplaceRevealed=!1),t.updateSearchScope&&(R=this._editor.getSelections(),R.some(function(je){return!je.isEmpty()})&&(l.searchScope=R)),l.loop=t.loop,this._state.change(l,!1),this._model||(this._model=new x1(this._editor,this._state));case 17:case"end":return oe.stop()}},r,this)}))}},{key:"start",value:function(t,n){return this._start(t,n)}},{key:"moveToNextMatch",value:function(){return this._model?(this._model.moveToNextMatch(),!0):!1}},{key:"moveToPrevMatch",value:function(){return this._model?(this._model.moveToPrevMatch(),!0):!1}},{key:"goToMatch",value:function(t){return this._model?(this._model.moveToMatch(t),!0):!1}},{key:"replace",value:function(){return this._model?(this._model.replace(),!0):!1}},{key:"replaceAll",value:function(){return this._model?(this._model.replaceAll(),!0):!1}},{key:"selectAllMatches",value:function(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}},{key:"getGlobalBufferTerm",value:function(){return Ih(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this._editor.getOption(39).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing())){r.next=2;break}return r.abrupt("return",this._clipboardService.readFindText());case 2:return r.abrupt("return","");case 3:case"end":return r.stop()}},t,this)}))}},{key:"setGlobalBufferTerm",value:function(t){this._editor.getOption(39).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(t)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);cl.ID="editor.contrib.findController",cl=Vy([Rc(1,Tn.b),Rc(2,el.a),Rc(3,$t.a)],cl);var tp=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h,f){var R;return Object(A.a)(this,e),R=o.call(this,i,n,h,f),R._contextViewService=t,R._keybindingService=r,R._themeService=l,R._notificationService=c,R._widget=null,R._findOptionsWidget=null,R}return Object(P.a)(e,[{key:"_start",value:function(t,n){var r=this,l=Object.create(null,{_start:{get:function(){return Object(bn.a)(Object(An.a)(e.prototype),"_start",r)}}});return Ih(this,void 0,void 0,Object(d.a)().mark(function c(){var h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:this._widget||this._createFindWidget(),h=this._editor.getSelection(),f=!1,oe.t0=this._editor.getOption(39).autoFindInSelection,oe.next=oe.t0==="always"?6:oe.t0==="never"?8:oe.t0==="multiline"?10:13;break;case 6:return f=!0,oe.abrupt("break",14);case 8:return f=!1,oe.abrupt("break",14);case 10:return R=!!h&&h.startLineNumber!==h.endLineNumber,f=R,oe.abrupt("break",14);case 13:return oe.abrupt("break",14);case 14:return t.updateSearchScope=t.updateSearchScope||f,oe.next=17,l._start.call(this,t,n);case 17:this._widget&&(t.shouldFocus===2?this._widget.focusReplaceInput():t.shouldFocus===1&&this._widget.focusFindInput());case 18:case"end":return oe.stop()}},c,this)}))}},{key:"highlightFindOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._widget||this._createFindWidget(),this._state.isRevealed&&!t?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}},{key:"_createFindWidget",value:function(){this._widget=this._register(new Wy(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new Ty(this._editor,this._state,this._keybindingService))}}]),e}(cl);tp=Vy([Rc(1,Ns.b),Rc(2,Tn.b),Rc(3,Mi.a),Rc(4,si.b),Rc(5,Ra.a),Rc(6,el.a),Rc(7,$t.a)],tp);var lO=Object(wt.p)(new wt.g({id:Mo.StartFindAction,label:We.b("startFindAction","Find"),alias:"Find",precondition:Tn.a.or(Ut.a.focus,Tn.a.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:Ht.c.MenubarEditMenu,group:"3_find",title:We.b({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));lO.addImplementation(0,function(s,o,e){var i=cl.get(o);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:o.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:o.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:o.getOption(39).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:o.getOption(39).loop}):!1});var uO={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:We.b("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:We.b("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:We.b("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:We.b("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]},cO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:Mo.StartFindWithArgs,label:We.b("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:uO})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){return Ih(this,void 0,void 0,Object(d.a)().mark(function l(){var c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(c=cl.get(n),!c){R.next=6;break}return h=r?{searchString:r.searchString,replaceString:r.replaceString,isReplaceRevealed:r.replaceString!==void 0,isRegex:r.isRegex,wholeWord:r.matchWholeWord,matchCase:r.isCaseSensitive,preserveCase:r.preserveCase}:{},R.next=5,c.start({forceRevealReplace:!1,seedSearchStringFromSelection:c.getState().searchString.length===0&&n.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:n.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(r==null?void 0:r.findInSelection)||!1,loop:n.getOption(39).loop},h);case 5:c.setGlobalBufferTerm(c.getState().searchString);case 6:case"end":return R.stop()}},l)}))}}]),e}(wt.b),dO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:Mo.StartFindWithSelection,label:We.b("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){return Ih(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l=cl.get(n),!l){h.next=5;break}return h.next=4,l.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(39).loop});case 4:l.setGlobalBufferTerm(l.getState().searchString);case 5:case"end":return h.stop()}},r)}))}}]),e}(wt.b),Hy=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"run",value:function(t,n){return Ih(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l=cl.get(n),!(l&&!this._run(l))){h.next=5;break}return h.next=4,l.start({forceRevealReplace:!1,seedSearchStringFromSelection:l.getState().searchString.length===0&&n.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:n.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(39).loop});case 4:this._run(l);case 5:case"end":return h.stop()}},r,this)}))}}]),e}(wt.b),hO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:Mo.NextMatchFindAction,label:We.b("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:Ut.a.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:Tn.a.and(Ut.a.focus,Dg),primary:3,weight:100}]})}return Object(P.a)(e,[{key:"_run",value:function(t){var n=t.moveToNextMatch();return n?(t.editor.pushUndoStop(),!0):!1}}]),e}(Hy),fO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:Mo.PreviousMatchFindAction,label:We.b("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:Ut.a.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:Tn.a.and(Ut.a.focus,Dg),primary:1024|3,weight:100}]})}return Object(P.a)(e,[{key:"_run",value:function(t){return t.moveToPrevMatch()}}]),e}(Hy),vO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this,{id:Mo.GoToMatchFindAction,label:We.b("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:hd}),i._highlightDecorations=[],i}return Object(P.a)(e,[{key:"run",value:function(t,n,r){var l=this,c=cl.get(n);if(!!c){var h=c.getState().matchesCount;if(h<1){var f=t.get(Ra.a);f.notify({severity:Ra.c.Warning,message:We.b("findMatchAction.noResults","No matches. Try searching for something else.")});return}var R=t.get(yl.a),X=R.createInputBox();X.placeholder=We.b("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",h);var oe=function(st){var gt=parseInt(st);if(!isNaN(gt)){var jt=c.getState().matchesCount;if(gt>0&&gt<=jt)return gt-1;if(gt<0&&gt>=-jt)return jt+gt}},je=function(st){var gt=oe(st);if(typeof gt=="number"){X.validationMessage=void 0,c.goToMatch(gt);var jt=c.getState().currentMatch;jt&&l.addDecorations(n,jt)}else X.validationMessage=We.b("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",c.getState().matchesCount),l.clearDecorations(n)};X.onDidChangeValue(function(Me){je(Me)}),X.onDidAccept(function(){var Me=oe(X.value);typeof Me=="number"?(c.goToMatch(Me),X.hide()):X.validationMessage=We.b("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",c.getState().matchesCount)}),X.onDidHide(function(){l.clearDecorations(n),X.dispose()}),X.show()}}},{key:"clearDecorations",value:function(t){var n=this;t.changeDecorations(function(r){n._highlightDecorations=r.deltaDecorations(n._highlightDecorations,[])})}},{key:"addDecorations",value:function(t,n){var r=this;t.changeDecorations(function(l){r._highlightDecorations=l.deltaDecorations(r._highlightDecorations,[{range:n,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:n,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:Object(si.f)(wy.H),position:Zt.f.Full}}}])})}}]),e}(wt.b),Uy=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"run",value:function(t,n){return Ih(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(l=cl.get(n),l){f.next=3;break}return f.abrupt("return");case 3:if(c=ep(n,"single",!1),c&&l.setSearchString(c),this._run(l)){f.next=9;break}return f.next=8,l.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(39).loop});case 8:this._run(l);case 9:case"end":return f.stop()}},r,this)}))}}]),e}(wt.b),gO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:Mo.NextSelectionMatchFindAction,label:We.b("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:Ut.a.focus,primary:2048|61,weight:100}})}return Object(P.a)(e,[{key:"_run",value:function(t){return t.moveToNextMatch()}}]),e}(Uy),mO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:Mo.PreviousSelectionMatchFindAction,label:We.b("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:Ut.a.focus,primary:2048|1024|61,weight:100}})}return Object(P.a)(e,[{key:"_run",value:function(t){return t.moveToPrevMatch()}}]),e}(Uy),pO=Object(wt.p)(new wt.g({id:Mo.StartFindReplaceAction,label:We.b("startReplace","Replace"),alias:"Replace",precondition:Tn.a.or(Ut.a.focus,Tn.a.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:Ht.c.MenubarEditMenu,group:"3_find",title:We.b({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));pO.addImplementation(0,function(s,o,e){if(!o.hasModel()||o.getOption(88))return!1;var i=cl.get(o);if(!i)return!1;var t=o.getSelection(),n=i.isFindInputFocused(),r=!t.isEmpty()&&t.startLineNumber===t.endLineNumber&&o.getOption(39).seedSearchStringFromSelection!=="never"&&!n,l=n||r?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:r?"single":"none",seedSearchStringFromNonEmptySelection:o.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:o.getOption(39).seedSearchStringFromSelection!=="never",shouldFocus:l,shouldAnimate:!0,updateSearchScope:!1,loop:o.getOption(39).loop})}),Object(wt.m)(cl.ID,tp,0),Object(wt.k)(cO),Object(wt.k)(dO),Object(wt.k)(hO),Object(wt.k)(fO),Object(wt.k)(vO),Object(wt.k)(gO),Object(wt.k)(mO);var uc=wt.d.bindToContribution(cl.get);Object(wt.l)(new uc({id:Mo.CloseFindWidgetCommand,precondition:hd,handler:function(o){return o.closeFindWidget()},kbOpts:{weight:100+5,kbExpr:Tn.a.and(Ut.a.focus,Tn.a.not("isComposing")),primary:9,secondary:[1024|9]}})),Object(wt.l)(new uc({id:Mo.ToggleCaseSensitiveCommand,precondition:void 0,handler:function(o){return o.toggleCaseSensitive()},kbOpts:{weight:100+5,kbExpr:Ut.a.focus,primary:wg.primary,mac:wg.mac,win:wg.win,linux:wg.linux}})),Object(wt.l)(new uc({id:Mo.ToggleWholeWordCommand,precondition:void 0,handler:function(o){return o.toggleWholeWords()},kbOpts:{weight:100+5,kbExpr:Ut.a.focus,primary:jg.primary,mac:jg.mac,win:jg.win,linux:jg.linux}})),Object(wt.l)(new uc({id:Mo.ToggleRegexCommand,precondition:void 0,handler:function(o){return o.toggleRegex()},kbOpts:{weight:100+5,kbExpr:Ut.a.focus,primary:Eg.primary,mac:Eg.mac,win:Eg.win,linux:Eg.linux}})),Object(wt.l)(new uc({id:Mo.ToggleSearchScopeCommand,precondition:void 0,handler:function(o){return o.toggleSearchScope()},kbOpts:{weight:100+5,kbExpr:Ut.a.focus,primary:Lg.primary,mac:Lg.mac,win:Lg.win,linux:Lg.linux}})),Object(wt.l)(new uc({id:Mo.TogglePreserveCaseCommand,precondition:void 0,handler:function(o){return o.togglePreserveCase()},kbOpts:{weight:100+5,kbExpr:Ut.a.focus,primary:Mg.primary,mac:Mg.mac,win:Mg.win,linux:Mg.linux}})),Object(wt.l)(new uc({id:Mo.ReplaceOneAction,precondition:hd,handler:function(o){return o.replace()},kbOpts:{weight:100+5,kbExpr:Ut.a.focus,primary:2048|1024|22}})),Object(wt.l)(new uc({id:Mo.ReplaceOneAction,precondition:hd,handler:function(o){return o.replace()},kbOpts:{weight:100+5,kbExpr:Tn.a.and(Ut.a.focus,Xm),primary:3}})),Object(wt.l)(new uc({id:Mo.ReplaceAllAction,precondition:hd,handler:function(o){return o.replaceAll()},kbOpts:{weight:100+5,kbExpr:Ut.a.focus,primary:2048|512|3}})),Object(wt.l)(new uc({id:Mo.ReplaceAllAction,precondition:hd,handler:function(o){return o.replaceAll()},kbOpts:{weight:100+5,kbExpr:Tn.a.and(Ut.a.focus,Xm),primary:void 0,mac:{primary:2048|3}}})),Object(wt.l)(new uc({id:Mo.SelectAllMatchesAction,precondition:hd,handler:function(o){return o.selectAllMatches()},kbOpts:{weight:100+5,kbExpr:Ut.a.focus,primary:512|3}}));var UE=a("dzw2"),Ev,bO=(Ev={},Object(rt.a)(Ev,0," "),Object(rt.a)(Ev,1,"u"),Object(rt.a)(Ev,2,"r"),Ev),zy=65535,cc=16777215,Ky=4278190080,np=function(){function s(o){Object(A.a)(this,s);var e=Math.ceil(o/32);this._states=new Uint32Array(e)}return Object(P.a)(s,[{key:"get",value:function(e){var i=e/32|0,t=e%32;return(this._states[i]&1<<t)!=0}},{key:"set",value:function(e,i){var t=e/32|0,n=e%32,r=this._states[t];i?this._states[t]=r|1<<n:this._states[t]=r&~(1<<n)}}]),s}(),Wu=function(){function s(o,e,i){if(Object(A.a)(this,s),o.length!==e.length||o.length>zy)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=o,this._endIndexes=e,this._collapseStates=new np(o.length),this._userDefinedStates=new np(o.length),this._recoveredStates=new np(o.length),this._types=i,this._parentsComputed=!1}return Object(P.a)(s,[{key:"ensureParentIndices",value:function(){var e=this;if(!this._parentsComputed){this._parentsComputed=!0;for(var i=[],t=function(R,X){var oe=i[i.length-1];return e.getStartLineNumber(oe)<=R&&e.getEndLineNumber(oe)>=X},n=0,r=this._startIndexes.length;n<r;n++){var l=this._startIndexes[n],c=this._endIndexes[n];if(l>cc||c>cc)throw new Error("startLineNumber or endLineNumber must not exceed "+cc);for(;i.length>0&&!t(l,c);)i.pop();var h=i.length>0?i[i.length-1]:-1;i.push(n),this._startIndexes[n]=l+((h&255)<<24),this._endIndexes[n]=c+((h&65280)<<16)}}}},{key:"length",get:function(){return this._startIndexes.length}},{key:"getStartLineNumber",value:function(e){return this._startIndexes[e]&cc}},{key:"getEndLineNumber",value:function(e){return this._endIndexes[e]&cc}},{key:"getType",value:function(e){return this._types?this._types[e]:void 0}},{key:"hasTypes",value:function(){return!!this._types}},{key:"isCollapsed",value:function(e){return this._collapseStates.get(e)}},{key:"setCollapsed",value:function(e,i){this._collapseStates.set(e,i)}},{key:"isUserDefined",value:function(e){return this._userDefinedStates.get(e)}},{key:"setUserDefined",value:function(e,i){return this._userDefinedStates.set(e,i)}},{key:"isRecovered",value:function(e){return this._recoveredStates.get(e)}},{key:"setRecovered",value:function(e,i){return this._recoveredStates.set(e,i)}},{key:"getSource",value:function(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}},{key:"setSource",value:function(e,i){i===1?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):i===2?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}},{key:"setCollapsedAllOfType",value:function(e,i){var t=!1;if(this._types)for(var n=0;n<this._types.length;n++)this._types[n]===e&&(this.setCollapsed(n,i),t=!0);return t}},{key:"toRegion",value:function(e){return new yO(this,e)}},{key:"getParentIndex",value:function(e){this.ensureParentIndices();var i=((this._startIndexes[e]&Ky)>>>24)+((this._endIndexes[e]&Ky)>>>16);return i===zy?-1:i}},{key:"contains",value:function(e,i){return this.getStartLineNumber(e)<=i&&this.getEndLineNumber(e)>=i}},{key:"findIndex",value:function(e){var i=0,t=this._startIndexes.length;if(t===0)return-1;for(;i<t;){var n=Math.floor((i+t)/2);e<this.getStartLineNumber(n)?t=n:i=n+1}return i-1}},{key:"findRange",value:function(e){var i=this.findIndex(e);if(i>=0){var t=this.getEndLineNumber(i);if(t>=e)return i;for(i=this.getParentIndex(i);i!==-1;){if(this.contains(i,e))return i;i=this.getParentIndex(i)}}return-1}},{key:"toString",value:function(){for(var e=[],i=0;i<this.length;i++)e[i]="[".concat(bO[this.getSource(i)]).concat(this.isCollapsed(i)?"+":"-","] ").concat(this.getStartLineNumber(i),"/").concat(this.getEndLineNumber(i));return e.join(", ")}},{key:"toFoldRange",value:function(e){return{startLineNumber:this._startIndexes[e]&cc,endLineNumber:this._endIndexes[e]&cc,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}}],[{key:"fromFoldRanges",value:function(e){for(var i=e.length,t=new Uint32Array(i),n=new Uint32Array(i),r=[],l=!1,c=0;c<i;c++){var h=e[c];t[c]=h.startLineNumber,n[c]=h.endLineNumber,r.push(h.type),h.type&&(l=!0)}l||(r=void 0);for(var f=new s(t,n,r),R=0;R<i;R++)e[R].isCollapsed&&f.setCollapsed(R,!0),f.setSource(R,e[R].source);return f}},{key:"sanitizeAndMerge",value:function(e,i,t){t=t!=null?t:Number.MAX_VALUE;for(var n=function(sn,qn){return Array.isArray(sn)?function(Hn){return Hn<qn?sn[Hn]:void 0}:function(Hn){return Hn<qn?sn.toFoldRange(Hn):void 0}},r=n(e,e.length),l=n(i,i.length),c=0,h=0,f=r(0),R=l(0),X=[],oe,je=0,Me=[];f||R;){var st=void 0;if(R&&(!f||f.startLineNumber>=R.startLineNumber))f&&f.startLineNumber===R.startLineNumber?(R.source===1?st=R:(st=f,st.isCollapsed=R.isCollapsed&&f.endLineNumber===R.endLineNumber,st.source=0),f=r(++c)):(st=R,R.isCollapsed&&R.source===0&&(st.source=2)),R=l(++h);else{for(var gt=h,jt=R;;){if(!jt||jt.startLineNumber>f.endLineNumber){st=f;break}if(jt.source===1&&jt.endLineNumber>f.endLineNumber)break;jt=l(++gt)}f=r(++c)}if(st){for(;oe&&oe.endLineNumber<st.startLineNumber;)oe=X.pop();st.endLineNumber>st.startLineNumber&&st.startLineNumber>je&&st.endLineNumber<=t&&(!oe||oe.endLineNumber>=st.endLineNumber)&&(Me.push(st),je=st.startLineNumber,oe&&X.push(oe),oe=st)}}return Me}}]),s}(),yO=function(){function s(o,e){Object(A.a)(this,s),this.ranges=o,this.index=e}return Object(P.a)(s,[{key:"startLineNumber",get:function(){return this.ranges.getStartLineNumber(this.index)}},{key:"endLineNumber",get:function(){return this.ranges.getEndLineNumber(this.index)}},{key:"regionIndex",get:function(){return this.index}},{key:"parentIndex",get:function(){return this.ranges.getParentIndex(this.index)}},{key:"isCollapsed",get:function(){return this.ranges.isCollapsed(this.index)}},{key:"containedBy",value:function(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}},{key:"containsLine",value:function(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}]),s}(),Gy=a("7afs"),_O=function(){function s(o,e){Object(A.a)(this,s),this._updateEventEmitter=new ca.b,this.onDidChange=this._updateEventEmitter.event,this._textModel=o,this._decorationProvider=e,this._regions=new Wu(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}return Object(P.a)(s,[{key:"regions",get:function(){return this._regions}},{key:"textModel",get:function(){return this._textModel}},{key:"toggleCollapseState",value:function(e){var i=this;if(!!e.length){e=e.sort(function(n,r){return n.regionIndex-r.regionIndex});var t={};this._decorationProvider.changeDecorations(function(n){var r=0,l=-1,c=-1,h=function(gt){for(;r<gt;){var jt=i._regions.getEndLineNumber(r),Xt=i._regions.isCollapsed(r);if(jt<=l){var sn=i.regions.getSource(r)!==0;n.changeDecorationOptions(i._editorDecorationIds[r],i._decorationProvider.getDecorationOption(Xt,jt<=c,sn))}Xt&&jt>c&&(c=jt),r++}},f=Object(G.a)(e),R;try{for(f.s();!(R=f.n()).done;){var X=R.value,oe=X.regionIndex,je=i._editorDecorationIds[oe];if(je&&!t[je]){t[je]=!0,h(oe);var Me=!i._regions.isCollapsed(oe);i._regions.setCollapsed(oe,Me),l=Math.max(l,i._regions.getEndLineNumber(oe))}}}catch(st){f.e(st)}finally{f.f()}h(i._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}}},{key:"removeManualRanges",value:function(e){for(var i=new Array,t=function(c){var h=Object(G.a)(e),f;try{for(h.s();!(f=h.n()).done;){var R=f.value;if(!(R.startLineNumber>c.endLineNumber||c.startLineNumber>R.endLineNumber))return!0}}catch(X){h.e(X)}finally{h.f()}return!1},n=0;n<this._regions.length;n++){var r=this._regions.toFoldRange(n);(r.source===0||!t(r))&&i.push(r)}this.updatePost(Wu.fromFoldRanges(i))}},{key:"update",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=this._currentFoldedOrManualRanges(i),n=Wu.sanitizeAndMerge(e,t,this._textModel.getLineCount());this.updatePost(Wu.fromFoldRanges(n))}},{key:"updatePost",value:function(e){for(var i=this,t=[],n=-1,r=0,l=e.length;r<l;r++){var c=e.getStartLineNumber(r),h=e.getEndLineNumber(r),f=e.isCollapsed(r),R=e.getSource(r)!==0,X={startLineNumber:c,startColumn:this._textModel.getLineMaxColumn(c),endLineNumber:h,endColumn:this._textModel.getLineMaxColumn(h)+1};t.push({range:X,options:this._decorationProvider.getDecorationOption(f,h<=n,R)}),f&&h>n&&(n=h)}this._decorationProvider.changeDecorations(function(oe){return i._editorDecorationIds=oe.deltaDecorations(i._editorDecorationIds,t)}),this._regions=e,this._updateEventEmitter.fire({model:this})}},{key:"_currentFoldedOrManualRanges",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=function(X,oe){var je=Object(G.a)(e),Me;try{for(je.s();!(Me=je.n()).done;){var st=Me.value;if(X<st&&st<=oe)return!0}}catch(gt){je.e(gt)}finally{je.f()}return!1},t=[],n=0,r=this._regions.length;n<r;n++){var l=this.regions.isCollapsed(n),c=this.regions.getSource(n);if(l||c!==0){var h=this._regions.toFoldRange(n),f=this._textModel.getDecorationRange(this._editorDecorationIds[n]);f&&(l&&i(f.startLineNumber,f.endLineNumber)&&(l=!1),t.push({startLineNumber:f.startLineNumber,endLineNumber:f.endLineNumber,type:h.type,isCollapsed:l,source:c}))}}return t}},{key:"getMemento",value:function(){for(var e=this._currentFoldedOrManualRanges(),i=[],t=this._textModel.getLineCount(),n=0,r=e.length;n<r;n++){var l=e[n];if(!(l.startLineNumber>=l.endLineNumber||l.startLineNumber<1||l.endLineNumber>t)){var c=this._getLinesChecksum(l.startLineNumber+1,l.endLineNumber);i.push({startLineNumber:l.startLineNumber,endLineNumber:l.endLineNumber,isCollapsed:l.isCollapsed,source:l.source,checksum:c})}}return i.length>0?i:void 0}},{key:"applyMemento",value:function(e){var i,t;if(!!Array.isArray(e)){var n=[],r=this._textModel.getLineCount(),l=Object(G.a)(e),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;if(!(h.startLineNumber>=h.endLineNumber||h.startLineNumber<1||h.endLineNumber>r)){var f=this._getLinesChecksum(h.startLineNumber+1,h.endLineNumber);(!h.checksum||f===h.checksum)&&n.push({startLineNumber:h.startLineNumber,endLineNumber:h.endLineNumber,type:void 0,isCollapsed:(i=h.isCollapsed)!==null&&i!==void 0?i:!0,source:(t=h.source)!==null&&t!==void 0?t:0})}}}catch(X){l.e(X)}finally{l.f()}var R=Wu.sanitizeAndMerge(this._regions,n,r);this.updatePost(Wu.fromFoldRanges(R))}}},{key:"_getLinesChecksum",value:function(e,i){var t=Object(Gy.c)(this._textModel.getLineContent(e)+this._textModel.getLineContent(i));return t%1e6}},{key:"dispose",value:function(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}},{key:"getAllRegionsAtLine",value:function(e,i){var t=[];if(this._regions)for(var n=this._regions.findRange(e),r=1;n>=0;){var l=this._regions.toRegion(n);(!i||i(l,r))&&t.push(l),r++,n=l.parentIndex}return t}},{key:"getRegionAtLine",value:function(e){if(this._regions){var i=this._regions.findRange(e);if(i>=0)return this._regions.toRegion(i)}return null}},{key:"getRegionsInside",value:function(e,i){var t=[],n=e?e.regionIndex+1:0,r=e?e.endLineNumber:Number.MAX_VALUE;if(i&&i.length===2)for(var l=[],c=n,h=this._regions.length;c<h;c++){var f=this._regions.toRegion(c);if(this._regions.getStartLineNumber(c)<r){for(;l.length>0&&!f.containedBy(l[l.length-1]);)l.pop();l.push(f),i(f,l.length)&&t.push(f)}else break}else for(var R=n,X=this._regions.length;R<X;R++){var oe=this._regions.toRegion(R);if(this._regions.getStartLineNumber(R)<r)(!i||i(oe))&&t.push(oe);else break}return t}}]),s}();function CO(s,o,e){var i=[],t=Object(G.a)(e),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=s.getRegionAtLine(r);l&&function(){var c=!l.isCollapsed;if(i.push(l),o>1){var h=s.getRegionsInside(l,function(f,R){return f.isCollapsed!==c&&R<o});i.push.apply(i,Object(on.a)(h))}}()}}catch(c){t.e(c)}finally{t.f()}s.toggleCollapseState(i)}function Lf(s,o){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.MAX_VALUE,i=arguments.length>3?arguments[3]:void 0,t=[];if(i&&i.length>0){var n=Object(G.a)(i),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=s.getRegionAtLine(l);if(c&&(c.isCollapsed!==o&&t.push(c),e>1)){var h=s.getRegionsInside(c,function(R,X){return R.isCollapsed!==o&&X<e});t.push.apply(t,Object(on.a)(h))}}}catch(R){n.e(R)}finally{n.f()}}else{var f=s.getRegionsInside(null,function(R,X){return R.isCollapsed!==o&&X<e});t.push.apply(t,Object(on.a)(f))}s.toggleCollapseState(t)}function $y(s,o,e,i){var t=[],n=Object(G.a)(i),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=s.getAllRegionsAtLine(l,function(h,f){return h.isCollapsed!==o&&f<=e});t.push.apply(t,Object(on.a)(c))}}catch(h){n.e(h)}finally{n.f()}s.toggleCollapseState(t)}function OO(s,o,e){var i=[],t=Object(G.a)(e),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=s.getAllRegionsAtLine(r,function(c){return c.isCollapsed!==o});l.length>0&&i.push(l[0])}}catch(c){t.e(c)}finally{t.f()}s.toggleCollapseState(i)}function SO(s,o,e,i){var t=function(l,c){return c===o&&l.isCollapsed!==e&&!i.some(function(h){return l.containsLine(h)})},n=s.getRegionsInside(null,t);s.toggleCollapseState(n)}function Qy(s,o,e){var i=[],t=Object(G.a)(e),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=s.getAllRegionsAtLine(r,void 0);l.length>0&&i.push(l[0])}}catch(f){t.e(f)}finally{t.f()}var c=function(R){return i.every(function(X){return!X.containedBy(R)&&!R.containedBy(X)})&&R.isCollapsed!==o},h=s.getRegionsInside(null,c);s.toggleCollapseState(h)}function ip(s,o,e){for(var i=s.textModel,t=s.regions,n=[],r=t.length-1;r>=0;r--)if(e!==t.isCollapsed(r)){var l=t.getStartLineNumber(r);o.test(i.getLineContent(l))&&n.push(t.toRegion(r))}s.toggleCollapseState(n)}function rp(s,o,e){for(var i=s.regions,t=[],n=i.length-1;n>=0;n--)e!==i.isCollapsed(n)&&o===i.getType(n)&&t.push(i.toRegion(n));s.toggleCollapseState(t)}function kO(s,o){var e=null,i=o.getRegionAtLine(s);if(i!==null&&(e=i.startLineNumber,s===e)){var t=i.parentIndex;t!==-1?e=o.regions.getStartLineNumber(t):e=null}return e}function DO(s,o){var e=o.getRegionAtLine(s);if(e!==null&&e.startLineNumber===s){if(s!==e.startLineNumber)return e.startLineNumber;var i=e.parentIndex,t=0;for(i!==-1&&(t=o.regions.getStartLineNumber(e.parentIndex));e!==null;)if(e.regionIndex>0){if(e=o.regions.toRegion(e.regionIndex-1),e.startLineNumber<=t)return null;if(e.parentIndex===i)return e.startLineNumber}else return null}else if(o.regions.length>0)for(e=o.regions.toRegion(o.regions.length-1);e!==null;){if(e.startLineNumber<s)return e.startLineNumber;e.regionIndex>0?e=o.regions.toRegion(e.regionIndex-1):e=null}return null}function wO(s,o){var e=o.getRegionAtLine(s);if(e!==null&&e.startLineNumber===s){var i=e.parentIndex,t=0;if(i!==-1)t=o.regions.getEndLineNumber(e.parentIndex);else{if(o.regions.length===0)return null;t=o.regions.getEndLineNumber(o.regions.length-1)}for(;e!==null;)if(e.regionIndex<o.regions.length){if(e=o.regions.toRegion(e.regionIndex+1),e.startLineNumber>=t)return null;if(e.parentIndex===i)return e.startLineNumber}else return null}else if(o.regions.length>0)for(e=o.regions.toRegion(0);e!==null;){if(e.startLineNumber>s)return e.startLineNumber;e.regionIndex<o.regions.length?e=o.regions.toRegion(e.regionIndex+1):e=null}return null}var jO=a("CsXQ"),EO=function(){function s(o){var e=this;Object(A.a)(this,s),this._updateEventEmitter=new ca.b,this._hasLineChanges=!1,this._foldingModel=o,this._foldingModelListener=o.onDidChange(function(i){return e.updateHiddenRanges()}),this._hiddenRanges=[],o.regions.length&&this.updateHiddenRanges()}return Object(P.a)(s,[{key:"onDidChange",get:function(){return this._updateEventEmitter.event}},{key:"hiddenRanges",get:function(){return this._hiddenRanges}},{key:"notifyChangeModelContent",value:function(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(function(i){return i.range.endLineNumber!==i.range.startLineNumber||Object(jO.a)(i.text)[0]!==0}))}},{key:"updateHiddenRanges",value:function(){for(var e=!1,i=[],t=0,n=0,r=Number.MAX_VALUE,l=-1,c=this._foldingModel.regions;t<c.length;t++)if(!!c.isCollapsed(t)){var h=c.getStartLineNumber(t)+1,f=c.getEndLineNumber(t);r<=h&&f<=l||(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===h&&this._hiddenRanges[n].endLineNumber===f?(i.push(this._hiddenRanges[n]),n++):(e=!0,i.push(new Ze.a(h,1,f,1))),r=h,l=f)}(this._hasLineChanges||e||n<this._hiddenRanges.length)&&this.applyHiddenRanges(i)}},{key:"applyHiddenRanges",value:function(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}},{key:"hasRanges",value:function(){return this._hiddenRanges.length>0}},{key:"isHidden",value:function(e){return Yy(this._hiddenRanges,e)!==null}},{key:"adjustSelections",value:function(e){for(var i=this,t=!1,n=this._foldingModel.textModel,r=null,l=function(je){return(!r||!LO(je,r))&&(r=Yy(i._hiddenRanges,je)),r?r.startLineNumber-1:null},c=0,h=e.length;c<h;c++){var f=e[c],R=l(f.startLineNumber);R&&(f=f.setStartPosition(R,n.getLineMaxColumn(R)),t=!0);var X=l(f.endLineNumber);X&&(f=f.setEndPosition(X,n.getLineMaxColumn(X)),t=!0),e[c]=f}return t}},{key:"dispose",value:function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}]),s}();function LO(s,o){return s>=o.startLineNumber&&s<=o.endLineNumber}function Yy(s,o){var e=Object(Wn.k)(s,function(i){return o<i.startLineNumber})-1;return e>=0&&s[e].endLineNumber>=o?s[e]:null}var MO=5e3,TO="indent",ap=function(){function s(o,e,i){Object(A.a)(this,s),this.editorModel=o,this.languageConfigurationService=e,this.foldingRangesLimit=i,this.id=TO}return Object(P.a)(s,[{key:"dispose",value:function(){}},{key:"compute",value:function(e){var i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,t=i&&!!i.offSide,n=i&&i.markers;return Promise.resolve(AO(this.editorModel,t,n,this.foldingRangesLimit))}}]),s}(),IO=function(){function s(o){Object(A.a)(this,s),this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=o}return Object(P.a)(s,[{key:"insertFirst",value:function(e,i,t){if(!(e>cc||i>cc)){var n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=i,this._length++,t<1e3&&(this._indentOccurrences[t]=(this._indentOccurrences[t]||0)+1)}}},{key:"toIndentRanges",value:function(e){var i=this._foldingRangesLimit.limit;if(this._length<=i){this._foldingRangesLimit.update(this._length,!1);for(var t=new Uint32Array(this._length),n=new Uint32Array(this._length),r=this._length-1,l=0;r>=0;r--,l++)t[l]=this._startIndexes[r],n[l]=this._endIndexes[r];return new Wu(t,n)}else{this._foldingRangesLimit.update(this._length,i);for(var c=0,h=this._indentOccurrences.length,f=0;f<this._indentOccurrences.length;f++){var R=this._indentOccurrences[f];if(R){if(R+c>i){h=f;break}c+=R}}for(var X=e.getOptions().tabSize,oe=new Uint32Array(i),je=new Uint32Array(i),Me=this._length-1,st=0;Me>=0;Me--){var gt=this._startIndexes[Me],jt=e.getLineContent(gt),Xt=Object(Wa.a)(jt,X);(Xt<h||Xt===h&&c++<i)&&(oe[st]=gt,je[st]=this._endIndexes[Me],st++)}return new Wu(oe,je)}}}]),s}(),PO={limit:MO,update:function(){}};function AO(s,o,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:PO,t=s.getOptions().tabSize,n=new IO(i),r=void 0;e&&(r=new RegExp("(".concat(e.start.source,")|(?:").concat(e.end.source,")")));var l=[],c=s.getLineCount()+1;l.push({indent:-1,endAbove:c,line:c});for(var h=s.getLineCount();h>0;h--){var f=s.getLineContent(h),R=Object(Wa.a)(f,t),X=l[l.length-1];if(R===-1){o&&(X.endAbove=h);continue}var oe=void 0;if(r&&(oe=f.match(r)))if(oe[1]){for(var je=l.length-1;je>0&&l[je].indent!==-2;)je--;if(je>0){l.length=je+1,X=l[je],n.insertFirst(h,X.line,R),X.line=h,X.indent=R,X.endAbove=h;continue}}else{l.push({indent:-2,endAbove:h,line:h});continue}if(X.indent>R){do l.pop(),X=l[l.length-1];while(X.indent>R);var Me=X.endAbove-1;Me-h>=1&&n.insertFirst(h,Me,R)}X.indent===R?X.endAbove=h:l.push({indent:R,endAbove:h,line:h})}return n.toIndentRanges(s)}var RO=Object(lt.Fc)("editor.foldBackground",{light:Object(lt.Sc)(lt.bb,.3),dark:Object(lt.Sc)(lt.bb,.3),hcDark:null,hcLight:null},Object(We.b)("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);Object(lt.Fc)("editorGutter.foldingControlForeground",{dark:lt.nb,light:lt.nb,hcDark:lt.nb,hcLight:lt.nb},Object(We.b)("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));var op=Object(be.b)("folding-expanded",Tr.a.chevronDown,Object(We.b)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),sp=Object(be.b)("folding-collapsed",Tr.a.chevronRight,Object(We.b)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),Zy=Object(be.b)("folding-manual-collapsed",sp,Object(We.b)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),Xy=Object(be.b)("folding-manual-expanded",op,Object(We.b)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),lp={color:Object(si.f)(RO),position:Zt.e.Inline},wu=function(){function s(o){Object(A.a)(this,s),this.editor=o,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}return Object(P.a)(s,[{key:"getDecorationOption",value:function(e,i,t){return i?s.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?e?this.showFoldingHighlights?s.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:s.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:s.NO_CONTROLS_EXPANDED_RANGE_DECORATION:e?t?this.showFoldingHighlights?s.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:s.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?s.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:s.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?t?s.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:s.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:t?s.MANUALLY_EXPANDED_VISUAL_DECORATION:s.EXPANDED_VISUAL_DECORATION}},{key:"changeDecorations",value:function(e){return this.editor.changeDecorations(e)}},{key:"removeDecorations",value:function(e){this.editor.removeDecorations(e)}}]),s}();wu.COLLAPSED_VISUAL_DECORATION=hn.b.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Fa.a.asClassName(sp)}),wu.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=hn.b.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:lp,isWholeLine:!0,firstLineDecorationClassName:Fa.a.asClassName(sp)}),wu.MANUALLY_COLLAPSED_VISUAL_DECORATION=hn.b.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Fa.a.asClassName(Zy)}),wu.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=hn.b.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:lp,isWholeLine:!0,firstLineDecorationClassName:Fa.a.asClassName(Zy)}),wu.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=hn.b.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),wu.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=hn.b.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:lp,isWholeLine:!0}),wu.EXPANDED_VISUAL_DECORATION=hn.b.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Fa.a.asClassName(op)}),wu.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=hn.b.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Fa.a.asClassName(op)}),wu.MANUALLY_EXPANDED_VISUAL_DECORATION=hn.b.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Fa.a.asClassName(Xy)}),wu.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=hn.b.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:Fa.a.asClassName(Xy)}),wu.NO_CONTROLS_EXPANDED_RANGE_DECORATION=hn.b.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),wu.HIDDEN_RANGE_DECORATION=hn.b.register({description:"folding-hidden-range-decoration",stickiness:1});var NO={},xO="syntax",up=function(){function s(o,e,i,t,n){Object(A.a)(this,s),this.editorModel=o,this.providers=e,this.handleFoldingRangesChange=i,this.foldingRangesLimit=t,this.fallbackRangeProvider=n,this.id=xO,this.disposables=new Ye.c,n&&this.disposables.add(n);var r=Object(G.a)(e),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;typeof c.onDidChange=="function"&&this.disposables.add(c.onDidChange(i))}}catch(h){r.e(h)}finally{r.f()}}return Object(P.a)(s,[{key:"compute",value:function(e){var i=this;return FO(this.providers,this.editorModel,e).then(function(t){var n,r;if(t){var l=WO(t,i.foldingRangesLimit);return l}return(r=(n=i.fallbackRangeProvider)===null||n===void 0?void 0:n.compute(e))!==null&&r!==void 0?r:null})}},{key:"dispose",value:function(){this.disposables.dispose()}}]),s}();function FO(s,o,e){var i=null,t=s.map(function(n,r){return Promise.resolve(n.provideFoldingRanges(o,NO,e)).then(function(l){if(!e.isCancellationRequested&&Array.isArray(l)){Array.isArray(i)||(i=[]);var c=o.getLineCount(),h=Object(G.a)(l),f;try{for(h.s();!(f=h.n()).done;){var R=f.value;R.start>0&&R.end>R.start&&R.end<=c&&i.push({start:R.start,end:R.end,rank:r,kind:R.kind})}}catch(X){h.e(X)}finally{h.f()}}},Li.i)});return Promise.all(t).then(function(n){return i})}var BO=function(){function s(o){Object(A.a)(this,s),this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=o}return Object(P.a)(s,[{key:"add",value:function(e,i,t,n){if(!(e>cc||i>cc)){var r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=i,this._nestingLevels[r]=n,this._types[r]=t,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}}},{key:"toIndentRanges",value:function(){var e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);for(var i=new Uint32Array(this._length),t=new Uint32Array(this._length),n=0;n<this._length;n++)i[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new Wu(i,t,this._types)}else{this._foldingRangesLimit.update(this._length,e);for(var r=0,l=this._nestingLevelCounts.length,c=0;c<this._nestingLevelCounts.length;c++){var h=this._nestingLevelCounts[c];if(h){if(h+r>e){l=c;break}r+=h}}for(var f=new Uint32Array(e),R=new Uint32Array(e),X=[],oe=0,je=0;oe<this._length;oe++){var Me=this._nestingLevels[oe];(Me<l||Me===l&&r++<e)&&(f[je]=this._startIndexes[oe],R[je]=this._endIndexes[oe],X[je]=this._types[oe],je++)}return new Wu(f,R,X)}}}]),s}();function WO(s,o){var e=s.sort(function(h,f){var R=h.start-f.start;return R===0&&(R=h.rank-f.rank),R}),i=new BO(o),t=void 0,n=[],r=Object(G.a)(e),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;if(!t)t=c,i.add(c.start,c.end,c.kind&&c.kind.value,n.length);else if(c.start>t.start)if(c.end<=t.end)n.push(t),t=c,i.add(c.start,c.end,c.kind&&c.kind.value,n.length);else{if(c.start>t.end){do t=n.pop();while(t&&c.start>t.end);t&&n.push(t),t=c}i.add(c.start,c.end,c.kind&&c.kind.value,n.length)}}}catch(h){r.e(h)}finally{r.f()}return i.toIndentRanges()}var VO=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Lv=function(s,o){return function(e,i){o(e,i,s)}},HO=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Xs=new Tn.c("foldingEnabled",!1),fd=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c){var h;Object(A.a)(this,e),h=o.call(this),h.contextKeyService=t,h.languageConfigurationService=n,h.languageFeaturesService=c,h.localToDispose=h._register(new Ye.c),h.editor=i,h._foldingLimitReporter=new Jy(i);var f=h.editor.getOptions();return h._isEnabled=f.get(41),h._useFoldingProviders=f.get(42)!=="indentation",h._unfoldOnClickAfterEndOfLine=f.get(46),h._restoringViewState=!1,h._currentModelHasFoldedImports=!1,h._foldingImportsByDefault=f.get(44),h.updateDebounceInfo=l.for(c.foldingRangeProvider,"Folding",{min:200}),h.foldingModel=null,h.hiddenRangeModel=null,h.rangeProvider=null,h.foldingRegionPromise=null,h.foldingModelPromise=null,h.updateScheduler=null,h.cursorChangedScheduler=null,h.mouseDownInfo=null,h.foldingDecorationProvider=new wu(i),h.foldingDecorationProvider.showFoldingControls=f.get(106),h.foldingDecorationProvider.showFoldingHighlights=f.get(43),h.foldingEnabled=Xs.bindTo(h.contextKeyService),h.foldingEnabled.set(h._isEnabled),h._register(h.editor.onDidChangeModel(function(){return h.onModelChanged()})),h._register(h.editor.onDidChangeConfiguration(function(R){if(R.hasChanged(41)&&(h._isEnabled=h.editor.getOptions().get(41),h.foldingEnabled.set(h._isEnabled),h.onModelChanged()),R.hasChanged(45)&&h.onModelChanged(),R.hasChanged(106)||R.hasChanged(43)){var X=h.editor.getOptions();h.foldingDecorationProvider.showFoldingControls=X.get(106),h.foldingDecorationProvider.showFoldingHighlights=X.get(43),h.triggerFoldingModelChanged()}R.hasChanged(42)&&(h._useFoldingProviders=h.editor.getOptions().get(42)!=="indentation",h.onFoldingStrategyChanged()),R.hasChanged(46)&&(h._unfoldOnClickAfterEndOfLine=h.editor.getOptions().get(46)),R.hasChanged(44)&&(h._foldingImportsByDefault=h.editor.getOptions().get(44))})),h.onModelChanged(),h}return Object(P.a)(e,[{key:"saveViewState",value:function(){var t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization())return{};if(this.foldingModel){var n=this.foldingModel.getMemento(),r=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:n,lineCount:t.getLineCount(),provider:r,foldedImports:this._currentModelHasFoldedImports}}}},{key:"restoreViewState",value:function(t){var n=this.editor.getModel();if(!(!n||!this._isEnabled||n.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!!t&&(this._currentModelHasFoldedImports=!!t.foldedImports,t.collapsedRegions&&t.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(t.collapsedRegions)}finally{this._restoringViewState=!1}}}},{key:"onModelChanged",value:function(){var t=this;this.localToDispose.clear();var n=this.editor.getModel();!this._isEnabled||!n||n.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new _O(n,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new EO(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(function(r){return t.onHiddenRangesChanges(r)})),this.updateScheduler=new mt.c(this.updateDebounceInfo.get(n)),this.cursorChangedScheduler=new mt.g(function(){return t.revealCursor()},200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(function(){return t.onFoldingStrategyChanged()})),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(function(){return t.onFoldingStrategyChanged()})),this.localToDispose.add(this.editor.onDidChangeModelContent(function(r){return t.onDidChangeModelContent(r)})),this.localToDispose.add(this.editor.onDidChangeCursorPosition(function(){return t.onCursorPositionChanged()})),this.localToDispose.add(this.editor.onMouseDown(function(r){return t.onEditorMouseDown(r)})),this.localToDispose.add(this.editor.onMouseUp(function(r){return t.onEditorMouseUp(r)})),this.localToDispose.add({dispose:function(){var l,c;t.foldingRegionPromise&&(t.foldingRegionPromise.cancel(),t.foldingRegionPromise=null),(l=t.updateScheduler)===null||l===void 0||l.cancel(),t.updateScheduler=null,t.foldingModel=null,t.foldingModelPromise=null,t.hiddenRangeModel=null,t.cursorChangedScheduler=null,(c=t.rangeProvider)===null||c===void 0||c.dispose(),t.rangeProvider=null}}),this.triggerFoldingModelChanged())}},{key:"onFoldingStrategyChanged",value:function(){var t;(t=this.rangeProvider)===null||t===void 0||t.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}},{key:"getRangeProvider",value:function(t){var n=this;if(this.rangeProvider)return this.rangeProvider;var r=new ap(t,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=r,this._useFoldingProviders&&this.foldingModel){var l=e.getFoldingRangeProviders(this.languageFeaturesService,t);l.length>0&&(this.rangeProvider=new up(t,l,function(){return n.triggerFoldingModelChanged()},this._foldingLimitReporter,r))}return this.rangeProvider}},{key:"getFoldingModel",value:function(){return this.foldingModelPromise}},{key:"onDidChangeModelContent",value:function(t){var n;(n=this.hiddenRangeModel)===null||n===void 0||n.notifyChangeModelContent(t),this.triggerFoldingModelChanged()}},{key:"triggerFoldingModelChanged",value:function(){var t=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(function(){var n=t.foldingModel;if(!n)return null;var r=new fs.a(!0),l=t.getRangeProvider(n.textModel),c=t.foldingRegionPromise=Object(mt.k)(function(h){return l.compute(h)});return c.then(function(h){if(h&&c===t.foldingRegionPromise){var f;if(t._foldingImportsByDefault&&!t._currentModelHasFoldedImports){var R=h.setCollapsedAllOfType(so.e.Imports.value,!0);R&&(f=pc.a.capture(t.editor),t._currentModelHasFoldedImports=R)}var X=t.editor.getSelections(),oe=X?X.map(function(Me){return Me.startLineNumber}):[];n.update(h,oe),f==null||f.restore(t.editor);var je=t.updateDebounceInfo.update(n.textModel,r.elapsed());t.updateScheduler&&(t.updateScheduler.defaultDelay=je)}return n})}).then(void 0,function(n){return Object(Li.h)(n),null}))}},{key:"onHiddenRangesChanges",value:function(t){if(this.hiddenRangeModel&&t.length&&!this._restoringViewState){var n=this.editor.getSelections();n&&this.hiddenRangeModel.adjustSelections(n)&&this.editor.setSelections(n)}this.editor.setHiddenAreas(t,this)}},{key:"onCursorPositionChanged",value:function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}},{key:"revealCursor",value:function(){var t=this,n=this.getFoldingModel();!n||n.then(function(r){if(r){var l=t.editor.getSelections();if(l&&l.length>0){var c=[],h=Object(G.a)(l),f;try{var R=function(){var oe=f.value,je=oe.selectionStartLineNumber;t.hiddenRangeModel&&t.hiddenRangeModel.isHidden(je)&&c.push.apply(c,Object(on.a)(r.getAllRegionsAtLine(je,function(Me){return Me.isCollapsed&&je>Me.startLineNumber})))};for(h.s();!(f=h.n()).done;)R()}catch(X){h.e(X)}finally{h.f()}c.length&&(r.toggleCollapseState(c),t.reveal(l[0].getPosition()))}}}).then(void 0,Li.h)}},{key:"onEditorMouseDown",value:function(t){if(this.mouseDownInfo=null,!(!this.hiddenRangeModel||!t.target||!t.target.range)&&!(!t.event.leftButton&&!t.event.middleButton)){var n=t.target.range,r=!1;switch(t.target.type){case 4:{var l=t.target.detail,c=t.target.element.offsetLeft,h=l.offsetX-c;if(h<5)return;r=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){var f=t.target.detail;if(!f.isAfterLines)break}return}case 6:{if(this.hiddenRangeModel.hasRanges()){var R=this.editor.getModel();if(R&&n.startColumn===R.getLineMaxColumn(n.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:n.startLineNumber,iconClicked:r}}}},{key:"onEditorMouseUp",value:function(t){var n=this.foldingModel;if(!(!n||!this.mouseDownInfo||!t.target)){var r=this.mouseDownInfo.lineNumber,l=this.mouseDownInfo.iconClicked,c=t.target.range;if(!(!c||c.startLineNumber!==r)){if(l){if(t.target.type!==4)return}else{var h=this.editor.getModel();if(!h||c.startColumn!==h.getLineMaxColumn(r))return}var f=n.getRegionAtLine(r);if(f&&f.startLineNumber===r){var R=f.isCollapsed;if(l||R){var X=t.event.altKey,oe=[];if(X){var je=function(Ci){return!Ci.containedBy(f)&&!f.containedBy(Ci)},Me=n.getRegionsInside(null,je),st=Object(G.a)(Me),gt;try{for(st.s();!(gt=st.n()).done;){var jt=gt.value;jt.isCollapsed&&oe.push(jt)}}catch(fi){st.e(fi)}finally{st.f()}oe.length===0&&(oe=Me)}else{var Xt=t.event.middleButton||t.event.shiftKey;if(Xt){var sn=Object(G.a)(n.getRegionsInside(f)),qn;try{for(sn.s();!(qn=sn.n()).done;){var Hn=qn.value;Hn.isCollapsed===R&&oe.push(Hn)}}catch(fi){sn.e(fi)}finally{sn.f()}}(R||!Xt||oe.length===0)&&oe.push(f)}n.toggleCollapseState(oe),this.reveal({lineNumber:r,column:1})}}}}}},{key:"reveal",value:function(t){this.editor.revealPositionInCenterIfOutsideViewport(t,0)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}},{key:"getFoldingRangeProviders",value:function(t,n){var r,l,c=t.foldingRangeProvider.ordered(n);return(l=(r=e._foldingRangeSelector)===null||r===void 0?void 0:r.call(e,c,n))!==null&&l!==void 0?l:c}}]),e}(Ye.a);fd.ID="editor.contrib.folding",fd=VO([Lv(1,Tn.b),Lv(2,po.a),Lv(3,Ra.a),Lv(4,Ms.a),Lv(5,$i.a)],fd);var Jy=function(){function s(o){Object(A.a)(this,s),this.editor=o,this._onDidChange=new ca.b,this._computed=0,this._limited=!1}return Object(P.a)(s,[{key:"limit",get:function(){return this.editor.getOptions().get(45)}},{key:"update",value:function(e,i){(e!==this._computed||i!==this._limited)&&(this._computed=e,this._limited=i,this._onDidChange.fire())}}]),s}(),rl=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n,r){var l=this,c=t.get(po.a),h=fd.get(n);if(!!h){var f=h.getFoldingModel();if(f)return this.reportTelemetry(t,n),f.then(function(R){if(R){l.invoke(h,R,n,r,c);var X=n.getSelection();X&&h.reveal(X.getStartPosition())}})}}},{key:"getSelectedLines",value:function(t){var n=t.getSelections();return n?n.map(function(r){return r.startLineNumber}):[]}},{key:"getLineNumbers",value:function(t,n){return t&&t.selectionLines?t.selectionLines.map(function(r){return r+1}):this.getSelectedLines(n)}},{key:"run",value:function(t,n){}}]),e}(wt.b);function qy(s){if(!ya.k(s)){if(!ya.h(s))return!1;var o=s;if(!ya.k(o.levels)&&!ya.g(o.levels)||!ya.k(o.direction)&&!ya.i(o.direction)||!ya.k(o.selectionLines)&&(!Array.isArray(o.selectionLines)||!o.selectionLines.every(ya.g)))return!1}return!0}var UO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.unfold",label:We.b("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|1024|94,mac:{primary:2048|512|94},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:qy,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r,l){var c=l&&l.levels||1,h=this.getLineNumbers(l,r);l&&l.direction==="up"?$y(n,!1,c,h):Lf(n,!1,c,h)}}]),e}(rl),zO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.unfoldRecursively",label:We.b("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|94),weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r,l){Lf(n,!1,Number.MAX_VALUE,this.getSelectedLines(r))}}]),e}(rl),KO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.fold",label:We.b("foldAction.label","Fold"),alias:"Fold",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|1024|92,mac:{primary:2048|512|92},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:qy,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r,l){var c=this.getLineNumbers(l,r),h=l&&l.levels,f=l&&l.direction;typeof h!="number"&&typeof f!="string"?OO(n,!0,c):f==="up"?$y(n,!0,h||1,c):Lf(n,!0,h||1,c)}}]),e}(rl),GO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.toggleFold",label:We.b("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|42),weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);CO(n,1,l)}}]),e}(rl),$O=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.foldRecursively",label:We.b("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|92),weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);Lf(n,!0,Number.MAX_VALUE,l)}}]),e}(rl),QO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.foldAllBlockComments",label:We.b("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|90),weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r,l,c){if(n.regions.hasTypes())rp(n,so.e.Comment.value,!0);else{var h=r.getModel();if(!h)return;var f=c.getLanguageConfiguration(h.getLanguageId()).comments;if(f&&f.blockCommentStartToken){var R=new RegExp("^\\s*"+Object(vr.t)(f.blockCommentStartToken));ip(n,R,!0)}}}}]),e}(rl),YO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.foldAllMarkerRegions",label:We.b("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|29),weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r,l,c){if(n.regions.hasTypes())rp(n,so.e.Region.value,!0);else{var h=r.getModel();if(!h)return;var f=c.getLanguageConfiguration(h.getLanguageId()).foldingRules;if(f&&f.markers&&f.markers.start){var R=new RegExp(f.markers.start);ip(n,R,!0)}}}}]),e}(rl),ZO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.unfoldAllMarkerRegions",label:We.b("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|30),weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r,l,c){if(n.regions.hasTypes())rp(n,so.e.Region.value,!1);else{var h=r.getModel();if(!h)return;var f=c.getLanguageConfiguration(h.getLanguageId()).foldingRules;if(f&&f.markers&&f.markers.start){var R=new RegExp(f.markers.start);ip(n,R,!1)}}}}]),e}(rl),XO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.foldAllExcept",label:We.b("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|88),weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);Qy(n,!0,l)}}]),e}(rl),JO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.unfoldAllExcept",label:We.b("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|86),weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);Qy(n,!1,l)}}]),e}(rl),qO=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.foldAll",label:We.b("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|21),weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r){Lf(n,!0)}}]),e}(rl),eS=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.unfoldAll",label:We.b("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|40),weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r){Lf(n,!1)}}]),e}(rl),Mv=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"getFoldingLevel",value:function(){return parseInt(this.id.substr(e.ID_PREFIX.length))}},{key:"invoke",value:function(t,n,r){SO(n,this.getFoldingLevel(),!0,this.getSelectedLines(r))}}]),e}(rl);Mv.ID_PREFIX="editor.foldLevel",Mv.ID=function(s){return Mv.ID_PREFIX+s};var tS=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.gotoParentFold",label:We.b("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);if(l.length>0){var c=kO(l[0],n);c!==null&&r.setSelection({startLineNumber:c,startColumn:1,endLineNumber:c,endColumn:1})}}}]),e}(rl),nS=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.gotoPreviousFold",label:We.b("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);if(l.length>0){var c=DO(l[0],n);c!==null&&r.setSelection({startLineNumber:c,startColumn:1,endLineNumber:c,endColumn:1})}}}]),e}(rl),iS=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.gotoNextFold",label:We.b("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);if(l.length>0){var c=wO(l[0],n);c!==null&&r.setSelection({startLineNumber:c,startColumn:1,endLineNumber:c,endColumn:1})}}}]),e}(rl),rS=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.createFoldingRangeFromSelection",label:We.b("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|87),weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r){var l,c=[],h=r.getSelections();if(h){var f=Object(G.a)(h),R;try{for(f.s();!(R=f.n()).done;){var X=R.value,oe=X.endLineNumber;X.endColumn===1&&--oe,oe>X.startLineNumber&&(c.push({startLineNumber:X.startLineNumber,endLineNumber:oe,type:void 0,isCollapsed:!0,source:1}),r.setSelection({startLineNumber:X.startLineNumber,startColumn:1,endLineNumber:X.startLineNumber,endColumn:1}))}}catch(Me){f.e(Me)}finally{f.f()}if(c.length>0){c.sort(function(Me,st){return Me.startLineNumber-st.startLineNumber});var je=Wu.sanitizeAndMerge(n.regions,c,(l=r.getModel())===null||l===void 0?void 0:l.getLineCount());n.updatePost(Wu.fromFoldRanges(je))}}}}]),e}(rl),aS=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.removeManualFoldingRanges",label:We.b("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|89),weight:100}})}return Object(P.a)(e,[{key:"invoke",value:function(t,n,r){var l=r.getSelections();if(l){var c=[],h=Object(G.a)(l),f;try{for(h.s();!(f=h.n()).done;){var R=f.value,X=R.startLineNumber,oe=R.endLineNumber;c.push(oe>=X?{startLineNumber:X,endLineNumber:oe}:{endLineNumber:oe,startLineNumber:X})}}catch(je){h.e(je)}finally{h.f()}n.removeManualRanges(c),t.triggerFoldingModelChanged()}}}]),e}(rl);Object(wt.m)(fd.ID,fd,0),Object(wt.k)(UO),Object(wt.k)(zO),Object(wt.k)(KO),Object(wt.k)($O),Object(wt.k)(qO),Object(wt.k)(eS),Object(wt.k)(QO),Object(wt.k)(YO),Object(wt.k)(ZO),Object(wt.k)(XO),Object(wt.k)(JO),Object(wt.k)(GO),Object(wt.k)(tS),Object(wt.k)(nS),Object(wt.k)(iS),Object(wt.k)(rS),Object(wt.k)(aS);for(var Mf=1;Mf<=7;Mf++)Object(wt.n)(new Mv({id:Mv.ID(Mf),label:We.b("foldLevelAction.label","Fold Level {0}",Mf),alias:"Fold Level ".concat(Mf),precondition:Xs,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|21+Mf),weight:100}}));$r.a.registerCommand("_executeFoldingRangeProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return HO(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R,X,oe,je,Me,st,gt,jt;return Object(d.a)().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:if(n=e[0],n instanceof _r.a){sn.next=3;break}throw Object(Li.e)();case 3:if(r=s.get($i.a),l=s.get(Jr.a).getModel(n),l){sn.next=7;break}throw Object(Li.e)();case 7:if(c=s.get(Do.a),c.getValue("editor.folding",{resource:n})){sn.next=10;break}return sn.abrupt("return",[]);case 10:return h=s.get(po.a),f=c.getValue("editor.foldingStrategy",{resource:n}),sn.t0=function(Hn,fi){},R={get limit(){return c.getValue("editor.foldingMaximumRegions",{resource:n})},update:sn.t0},X=new ap(l,h,R),oe=X,f!=="indentation"&&(je=fd.getFoldingRangeProviders(r,l),je.length&&(oe=new up(l,je,function(){},R,X))),sn.next=19,oe.compute(Zn.a.None);case 19:if(Me=sn.sent,st=[],sn.prev=21,Me)for(gt=0;gt<Me.length;gt++)jt=Me.getType(gt),st.push({start:Me.getStartLineNumber(gt),end:Me.getEndLineNumber(gt),kind:jt?so.e.fromValue(jt):void 0});return sn.abrupt("return",st);case 24:return sn.prev=24,oe.dispose(),sn.finish(24);case 27:case"end":return sn.stop()}},t,null,[[21,,24,27]])}))});var Tv=a("Yr1X"),oS=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.fontZoomIn",label:We.b("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n){Tv.a.setZoomLevel(Tv.a.getZoomLevel()+1)}}]),e}(wt.b),sS=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.fontZoomOut",label:We.b("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n){Tv.a.setZoomLevel(Tv.a.getZoomLevel()-1)}}]),e}(wt.b),lS=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.fontZoomReset",label:We.b("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n){Tv.a.setZoomLevel(0)}}]),e}(wt.b);Object(wt.k)(oS),Object(wt.k)(sS),Object(wt.k)(lS);var Ig=a("MXAL"),Iv=a("Cdua"),Pv=a("ezu8"),uS=a("dfpW"),e_=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Pg=function(s,o){return function(e,i){o(e,i,s)}},cp=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Av=function(){function s(o,e,i){var t=this;Object(A.a)(this,s),this._editor=o,this._languageFeaturesService=e,this._workerService=i,this._disposables=new Ye.c,this._sessionDisposables=new Ye.c,this._disposables.add(e.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(o.onDidChangeModel(function(){return t._update()})),this._disposables.add(o.onDidChangeModelLanguage(function(){return t._update()})),this._disposables.add(o.onDidChangeConfiguration(function(n){n.hasChanged(54)&&t._update()})),this._update()}return Object(P.a)(s,[{key:"dispose",value:function(){this._disposables.dispose(),this._sessionDisposables.dispose()}},{key:"_update",value:function(){var e=this;if(this._sessionDisposables.clear(),!!this._editor.getOption(54)&&!!this._editor.hasModel()){var i=this._editor.getModel(),t=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(i),n=Object(O.a)(t,1),r=n[0];if(!(!r||!r.autoFormatTriggerCharacters)){var l=new Ig.b,c=Object(G.a)(r.autoFormatTriggerCharacters),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;l.add(f.charCodeAt(0))}}catch(R){c.e(R)}finally{c.f()}this._sessionDisposables.add(this._editor.onDidType(function(R){var X=R.charCodeAt(R.length-1);l.has(X)&&e._trigger(String.fromCharCode(X))}))}}}},{key:"_trigger",value:function(e){var i=this;if(!!this._editor.hasModel()&&!(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())){var t=this._editor.getModel(),n=this._editor.getPosition(),r=new Zn.b,l=this._editor.onDidChangeModelContent(function(c){if(c.isFlush){r.cancel(),l.dispose();return}for(var h=0,f=c.changes.length;h<f;h++){var R=c.changes[h];if(R.range.endLineNumber<=n.lineNumber){r.cancel(),l.dispose();return}}});Object(Pv.e)(this._workerService,this._languageFeaturesService,t,n,e,t.getFormattingOptions(),r.token).then(function(c){r.token.isCancellationRequested||Object(Wn.s)(c)&&(uS.a.execute(i._editor,c,!0),Object(Pv.b)(c))}).finally(function(){l.dispose()})}}}]),s}();Av.ID="editor.contrib.autoFormat",Av=e_([Pg(1,$i.a),Pg(2,Iv.a)],Av);var Rv=function(){function s(o,e,i){var t=this;Object(A.a)(this,s),this.editor=o,this._languageFeaturesService=e,this._instantiationService=i,this._callOnDispose=new Ye.c,this._callOnModel=new Ye.c,this._callOnDispose.add(o.onDidChangeConfiguration(function(){return t._update()})),this._callOnDispose.add(o.onDidChangeModel(function(){return t._update()})),this._callOnDispose.add(o.onDidChangeModelLanguage(function(){return t._update()})),this._callOnDispose.add(e.documentRangeFormattingEditProvider.onDidChange(this._update,this))}return Object(P.a)(s,[{key:"dispose",value:function(){this._callOnDispose.dispose(),this._callOnModel.dispose()}},{key:"_update",value:function(){var e=this;this._callOnModel.clear(),!!this.editor.getOption(53)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(function(i){var t=i.range;return e._trigger(t)})))}},{key:"_trigger",value:function(e){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Pv.c,this.editor,e,2,Ua.c.None,Zn.a.None).catch(Li.h)}}]),s}();Rv.ID="editor.contrib.formatOnPaste",Rv=e_([Pg(1,$i.a),Pg(2,ia.a)],Rv);var cS=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.formatDocument",label:We.b("formatDocument.label","Format Document"),alias:"Format Document",precondition:Tn.a.and(Ut.a.notInCompositeEditor,Ut.a.writable,Ut.a.hasDocumentFormattingProvider),kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}return Object(P.a)(e,[{key:"run",value:function(t,n){return cp(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!n.hasModel()){f.next=5;break}return l=t.get(ia.a),c=t.get(Ua.a),f.next=5,c.showWhile(l.invokeFunction(Pv.d,n,1,Ua.c.None,Zn.a.None),250);case 5:case"end":return f.stop()}},r)}))}}]),e}(wt.b),dS=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.formatSelection",label:We.b("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Tn.a.and(Ut.a.writable,Ut.a.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|36),weight:100},contextMenuOpts:{when:Ut.a.hasNonEmptySelection,group:"1_modification",order:1.31}})}return Object(P.a)(e,[{key:"run",value:function(t,n){return cp(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f;return Object(d.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(n.hasModel()){X.next=2;break}return X.abrupt("return");case 2:return l=t.get(ia.a),c=n.getModel(),h=n.getSelections().map(function(oe){return oe.isEmpty()?new Ze.a(oe.startLineNumber,1,oe.startLineNumber,c.getLineMaxColumn(oe.startLineNumber)):oe}),f=t.get(Ua.a),X.next=8,f.showWhile(l.invokeFunction(Pv.c,n,h,1,Ua.c.None,Zn.a.None),250);case 8:case"end":return X.stop()}},r)}))}}]),e}(wt.b);Object(wt.m)(Av.ID,Av,2),Object(wt.m)(Rv.ID,Rv,2),Object(wt.k)(cS),Object(wt.k)(dS),$r.a.registerCommand("editor.action.format",function(s){return cp(void 0,void 0,void 0,Object(d.a)().mark(function o(){var e,i;return Object(d.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e=s.get(zt.a).getFocusedCodeEditor(),!(!e||!e.hasModel())){n.next=3;break}return n.abrupt("return");case 3:if(i=s.get($r.b),!e.getSelection().isEmpty()){n.next=9;break}return n.next=7,i.executeCommand("editor.action.formatDocument");case 7:n.next=11;break;case 9:return n.next=11,i.executeCommand("editor.action.formatSelection");case 11:case"end":return n.stop()}},o)}))});var hS=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},dp=function(s,o){return function(e,i){o(e,i,s)}},fS=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Tf=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"remove",value:function(){var e;(e=this.parent)===null||e===void 0||e.children.delete(this.id)}}],[{key:"findId",value:function(e,i){var t;typeof e=="string"?t="".concat(i.id,"/").concat(e):(t="".concat(i.id,"/").concat(e.name),i.children.get(t)!==void 0&&(t="".concat(i.id,"/").concat(e.name,"_").concat(e.range.startLineNumber,"_").concat(e.range.startColumn)));for(var n=t,r=0;i.children.get(n)!==void 0;r++)n="".concat(t,"_").concat(r);return n}},{key:"empty",value:function(e){return e.children.size===0}}]),s}(),hp=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r.id=i,r.parent=t,r.symbol=n,r.children=new Map,r}return Object(P.a)(e)}(Tf),t_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;return Object(A.a)(this,e),l=o.call(this),l.id=i,l.parent=t,l.label=n,l.order=r,l.children=new Map,l}return Object(P.a)(e)}(Tf),n_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t.uri=i,t.id="root",t.parent=void 0,t._groups=new Map,t.children=new Map,t.id="root",t.parent=void 0,t}return Object(P.a)(e,[{key:"_compact",value:function(){var t=0,n=Object(G.a)(this._groups),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=Object(O.a)(l,2),h=c[0],f=c[1];f.children.size===0?this._groups.delete(h):t+=1}}catch(gt){n.e(gt)}finally{n.f()}if(t!==1)this.children=this._groups;else{var R=Ou.a.first(this._groups.values()),X=Object(G.a)(R.children),oe;try{for(X.s();!(oe=X.n()).done;){var je=oe.value,Me=Object(O.a)(je,2),st=Me[1];st.parent=this,this.children.set(st.id,st)}}catch(gt){X.e(gt)}finally{X.f()}}return this}},{key:"getTopLevelSymbols",value:function(){var t=[],n=Object(G.a)(this.children.values()),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;l instanceof hp?t.push(l.symbol):t.push.apply(t,Object(on.a)(Ou.a.map(l.children.values(),function(c){return c.symbol})))}}catch(c){n.e(c)}finally{n.f()}return t.sort(function(c,h){return Ze.a.compareRangesUsingStarts(c.range,h.range)})}},{key:"asListOfDocumentSymbols",value:function(){var t=this.getTopLevelSymbols(),n=[];return e._flattenDocumentSymbols(n,t,""),n.sort(function(r,l){return nt.a.compare(Ze.a.getStartPosition(r.range),Ze.a.getStartPosition(l.range))||nt.a.compare(Ze.a.getEndPosition(l.range),Ze.a.getEndPosition(r.range))})}}],[{key:"create",value:function(t,n,r){var l=new Zn.b(r),c=new e(n.uri),h=t.ordered(n),f=h.map(function(X,oe){var je,Me=Tf.findId("provider_".concat(oe),c),st=new t_(Me,c,(je=X.displayName)!==null&&je!==void 0?je:"Unknown Outline Provider",oe);return Promise.resolve(X.provideDocumentSymbols(n,l.token)).then(function(gt){var jt=Object(G.a)(gt||[]),Xt;try{for(jt.s();!(Xt=jt.n()).done;){var sn=Xt.value;e._makeOutlineElement(sn,st)}}catch(qn){jt.e(qn)}finally{jt.f()}return st},function(gt){return Object(Li.i)(gt),st}).then(function(gt){Tf.empty(gt)?gt.remove():c._groups.set(Me,gt)})}),R=t.onDidChange(function(){var X=t.ordered(n);Object(Wn.j)(X,h)||l.cancel()});return Promise.all(f).then(function(){return l.token.isCancellationRequested&&!r.isCancellationRequested?e.create(t,n,r):c._compact()}).finally(function(){R.dispose()})}},{key:"_makeOutlineElement",value:function(t,n){var r=Tf.findId(t,n),l=new hp(r,n,t);if(t.children){var c=Object(G.a)(t.children),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;e._makeOutlineElement(f,l)}}catch(R){c.e(R)}finally{c.f()}}n.children.set(l.id,l)}},{key:"_flattenDocumentSymbols",value:function(t,n,r){var l=Object(G.a)(n),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;t.push({kind:h.kind,tags:h.tags,name:h.name,detail:h.detail,containerName:h.containerName||r,range:h.range,selectionRange:h.selectionRange,children:void 0}),h.children&&e._flattenDocumentSymbols(t,h.children,h.name)}}catch(f){l.e(f)}finally{l.f()}}}]),e}(Tf),Ag=Object(ia.c)("IOutlineModelService"),fp=function(){function s(o,e,i){var t=this;Object(A.a)(this,s),this._languageFeaturesService=o,this._disposables=new Ye.c,this._cache=new Xl.a(10,.7),this._debounceInformation=e.for(o.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved(function(n){t._cache.delete(n.id)}))}return Object(P.a)(s,[{key:"dispose",value:function(){this._disposables.dispose()}},{key:"getOrCreate",value:function(e,i){return fS(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r,l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(r=this._languageFeaturesService.documentSymbolProvider,l=r.ordered(e),c=this._cache.get(e.id),(!c||c.versionId!==e.getVersionId()||!Object(Wn.j)(c.provider,l))&&(h=new Zn.b,c={versionId:e.getVersionId(),provider:l,promiseCnt:0,source:h,promise:n_.create(r,e,h.token),model:void 0},this._cache.set(e.id,c),f=Date.now(),c.promise.then(function(je){c.model=je,n._debounceInformation.update(e,Date.now()-f)}).catch(function(je){n._cache.delete(e.id)})),!c.model){oe.next=6;break}return oe.abrupt("return",c.model);case 6:return c.promiseCnt+=1,R=i.onCancellationRequested(function(){--c.promiseCnt==0&&(c.source.cancel(),n._cache.delete(e.id))}),oe.prev=8,oe.next=11,c.promise;case 11:return oe.abrupt("return",oe.sent);case 12:return oe.prev=12,R.dispose(),oe.finish(12);case 15:case"end":return oe.stop()}},t,this,[[8,,12,15]])}))}}]),s}();fp=hS([dp(0,$i.a),dp(1,Ms.a),dp(2,Jr.a)],fp),Object(Cs.b)(Ag,fp,1);var vS=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};$r.a.registerCommand("_executeDocumentSymbolProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return vS(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=e[0],Object(ya.b)(_r.a.isUri(n)),r=s.get(Ag),l=s.get(Qi.a),f.next=6,l.createModelReference(n);case 6:return c=f.sent,f.prev=7,f.next=10,r.getOrCreate(c.object.textEditorModel,Zn.a.None);case 10:return f.abrupt("return",f.sent.getTopLevelSymbols());case 11:return f.prev=11,c.dispose(),f.finish(11);case 14:case"end":return f.stop()}},t,null,[[7,,11,14]])}))});var gS=a("JLfW"),El=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n.contextKeyService=i,n.model=t,n.inlineCompletionVisible=e.inlineSuggestionVisible.bindTo(n.contextKeyService),n.inlineCompletionSuggestsIndentation=e.inlineSuggestionHasIndentation.bindTo(n.contextKeyService),n.inlineCompletionSuggestsIndentationLessThanTabSize=e.inlineSuggestionHasIndentationLessThanTabSize.bindTo(n.contextKeyService),n.suppressSuggestions=e.suppressSuggestions.bindTo(n.contextKeyService),n._register(Hl("update context key: inlineCompletionVisible, suppressSuggestions",function(r){var l=n.model.read(r),c=l==null?void 0:l.selectedInlineCompletion.read(r),h=l==null?void 0:l.ghostText.read(r),f=l==null?void 0:l.selectedSuggestItem.read(r);n.inlineCompletionVisible.set(f===void 0&&h!==void 0&&!h.isEmpty()),h&&c&&n.suppressSuggestions.set(c.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),n._register(Hl("update context key: inlineCompletionSuggestsIndentation, inlineCompletionSuggestsIndentationLessThanTabSize",function(r){var l=n.model.read(r),c=!1,h=!0,f=l==null?void 0:l.ghostText.read(r);if(!!(l==null?void 0:l.selectedSuggestItem)&&f&&f.parts.length>0){var R=f.parts[0],X=R.column,oe=R.lines,je=oe[0],Me=l.textModel.getLineIndentColumn(f.lineNumber),st=X<=Me;if(st){var gt=Object(vr.u)(je);gt===-1&&(gt=je.length-1),c=gt>0;var jt=l.textModel.getOptions().tabSize,Xt=gS.a.visibleColumnFromColumn(je,gt+1,jt);h=Xt<jt}}n.inlineCompletionSuggestsIndentation.set(c),n.inlineCompletionSuggestsIndentationLessThanTabSize.set(h)})),n}return Object(P.a)(e)}(Ye.a);El.inlineSuggestionVisible=new Tn.c("inlineSuggestionVisible",!1,Object(We.b)("inlineSuggestionVisible","Whether an inline suggestion is visible")),El.inlineSuggestionHasIndentation=new Tn.c("inlineSuggestionHasIndentation",!1,Object(We.b)("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),El.inlineSuggestionHasIndentationLessThanTabSize=new Tn.c("inlineSuggestionHasIndentationLessThanTabSize",!0,Object(We.b)("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),El.suppressSuggestions=new Tn.c("inlineSuggestionSuppressSuggestions",void 0,Object(We.b)("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"));var zE=a("HIzu"),i_=a("erNZ"),mS=a("zhcO"),vp=a("dBaI"),Rg=a("baJR");function pS(s,o){var e=new bS(s),i=o.map(function(l){var c=Ze.a.lift(l.range);return{startOffset:e.getOffset(c.getStartPosition()),endOffset:e.getOffset(c.getEndPosition()),text:l.text}});i.sort(function(l,c){return c.startOffset-l.startOffset});var t=Object(G.a)(i),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;s=s.substring(0,r.startOffset)+r.text+s.substring(r.endOffset)}}catch(l){t.e(l)}finally{t.f()}return s}var bS=function(){function s(o){Object(A.a)(this,s),this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(var e=0;e<o.length;e++)o.charAt(e)===`
`&&this.lineStartOffsetByLineIdx.push(e+1)}return Object(P.a)(s,[{key:"getOffset",value:function(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}]),s}(),yS=[];function _S(){return yS}var CS=function(){function s(o,e){if(Object(A.a)(this,s),this.startColumn=o,this.endColumnExclusive=e,o>e)throw new Li.a("startColumn ".concat(o," cannot be after endColumnExclusive ").concat(e))}return Object(P.a)(s,[{key:"toRange",value:function(e){return new Ze.a(e,this.startColumn,e,this.endColumnExclusive)}}]),s}();function OS(s,o){var e=new Ye.c,i=s.createDecorationsCollection();return e.add(Hl("Apply decorations from ".concat(o.debugName),function(t){var n=o.read(t);i.set(n)})),e.add({dispose:function(){i.clear()}}),e}function gp(s,o){return new nt.a(s.lineNumber+o.lineNumber-1,o.lineNumber===1?s.column+o.column-1:o.column)}function mp(s){var o=1,e=1,i=Object(G.a)(s),t;try{for(i.s();!(t=i.n()).done;){var n=t.value;n===`
`?(o++,e=1):e++}}catch(r){i.e(r)}finally{i.f()}return new nt.a(o,e)}var r_=function(){function s(o,e){Object(A.a)(this,s),this.lineNumber=o,this.parts=e}return Object(P.a)(s,[{key:"renderForScreenReader",value:function(e){if(this.parts.length===0)return"";var i=this.parts[this.parts.length-1],t=e.substr(0,i.column-1),n=pS(t,this.parts.map(function(r){return{range:{startLineNumber:1,endLineNumber:1,startColumn:r.column,endColumn:r.column},text:r.lines.join(`
`)}}));return n.substring(this.parts[0].column-1)}},{key:"isEmpty",value:function(){return this.parts.every(function(e){return e.lines.length===0})}},{key:"lineCount",get:function(){return 1+this.parts.reduce(function(e,i){return e+i.lines.length-1},0)}}]),s}(),pp=Object(P.a)(function s(o,e,i){Object(A.a)(this,s),this.column=o,this.lines=e,this.preview=i}),SS=function(){function s(o,e,i){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;Object(A.a)(this,s),this.lineNumber=o,this.columnRange=e,this.newLines=i,this.additionalReservedLineCount=t,this.parts=[new pp(this.columnRange.endColumnExclusive,this.newLines,!1)]}return Object(P.a)(s,[{key:"renderForScreenReader",value:function(e){return this.newLines.join(`
`)}},{key:"lineCount",get:function(){return this.newLines.length}},{key:"isEmpty",value:function(){return this.parts.every(function(e){return e.lines.length===0})}}]),s}(),kS=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},DS=function(s,o){return function(e,i){o(e,i,s)}},bp=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r.editor=i,r.model=t,r.languageService=n,r.isDisposed=Cf("isDisposed",!1),r.currentTextModel=Wd(r.editor.onDidChangeModel,function(){return r.editor.getModel()}),r.uiState=Bu("uiState",function(l){if(r.isDisposed.read(l))return;var c=r.currentTextModel.read(l);if(c!==r.model.targetTextModel.read(l))return;var h=r.model.ghostText.read(l);if(!h)return;var f=h instanceof SS?h.columnRange:void 0,R=[],X=[];function oe(Hn,fi){if(X.length>0){var Ci=X[X.length-1];fi&&Ci.decorations.push(new vp.a(Ci.content.length+1,Ci.content.length+1+Hn[0].length,fi,0)),Ci.content+=Hn[0],Hn=Hn.slice(1)}var wi=Object(G.a)(Hn),Ai;try{for(wi.s();!(Ai=wi.n()).done;){var jr=Ai.value;X.push({content:jr,decorations:fi?[new vp.a(1,jr.length+1,fi,0)]:[]})}}catch(dr){wi.e(dr)}finally{wi.f()}}var je=c.getLineContent(h.lineNumber),Me=void 0,st=0,gt=Object(G.a)(h.parts),jt;try{for(gt.s();!(jt=gt.n()).done;){var Xt=jt.value,sn=Xt.lines;Me===void 0?(R.push({column:Xt.column,text:sn[0],preview:Xt.preview}),sn=sn.slice(1)):oe([je.substring(st,Xt.column-1)],void 0),sn.length>0&&(oe(sn,"ghost-text"),Me===void 0&&Xt.column<=je.length&&(Me=Xt.column)),st=Xt.column-1}}catch(Hn){gt.e(Hn)}finally{gt.f()}Me!==void 0&&oe([je.substring(st)],void 0);var qn=Me!==void 0?new CS(Me,je.length+1):void 0;return{replacedRange:f,inlineTexts:R,additionalLines:X,hiddenRange:qn,lineNumber:h.lineNumber,additionalReservedLineCount:r.model.minReservedLineCount.read(l),targetTextModel:c}}),r.decorations=Bu("decorations",function(l){var c=r.uiState.read(l);if(!c)return[];var h=[];c.replacedRange&&h.push({range:c.replacedRange.toRange(c.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),c.hiddenRange&&h.push({range:c.hiddenRange.toRange(c.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});var f=Object(G.a)(c.inlineTexts),R;try{for(f.s();!(R=f.n()).done;){var X=R.value;h.push({range:Ze.a.fromPositions(new nt.a(c.lineNumber,X.column)),options:{description:"ghost-text",after:{content:X.text,inlineClassName:X.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:Zt.d.Left},showIfCollapsed:!0}})}}catch(oe){f.e(oe)}finally{f.f()}return h}),r.additionalLinesWidget=r._register(new wS(r.editor,r.languageService.languageIdCodec,Bu("lines",function(l){var c=r.uiState.read(l);return c?{lineNumber:c.lineNumber,additionalLines:c.additionalLines,minReservedLineCount:c.additionalReservedLineCount,targetTextModel:c.targetTextModel}:void 0}))),r._register(Object(Ye.l)(function(){r.isDisposed.set(!0,void 0)})),r._register(OS(r.editor,r.decorations)),r}return Object(P.a)(e,[{key:"ownsViewZone",value:function(t){return this.additionalLinesWidget.viewZoneId===t}}]),e}(Ye.a);bp=kS([DS(2,Ti.a)],bp);var wS=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r.editor=i,r.languageIdCodec=t,r.lines=n,r._viewZoneId=void 0,r.editorOptionsChanged=LC("editorOptionChanged",ca.c.filter(r.editor.onDidChangeConfiguration,function(l){return l.hasChanged(31)||l.hasChanged(113)||l.hasChanged(95)||l.hasChanged(90)||l.hasChanged(49)||l.hasChanged(48)||l.hasChanged(64)})),r._register(Hl("update view zone",function(l){var c=r.lines.read(l);r.editorOptionsChanged.read(l),c?r.updateLines(c.lineNumber,c.additionalLines,c.minReservedLineCount):r.clear()})),r}return Object(P.a)(e,[{key:"viewZoneId",get:function(){return this._viewZoneId}},{key:"dispose",value:function(){Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this),this.clear()}},{key:"clear",value:function(){var t=this;this.editor.changeViewZones(function(n){t._viewZoneId&&(n.removeZone(t._viewZoneId),t._viewZoneId=void 0)})}},{key:"updateLines",value:function(t,n,r){var l=this,c=this.editor.getModel();if(!!c){var h=c.getOptions(),f=h.tabSize;this.editor.changeViewZones(function(R){l._viewZoneId&&(R.removeZone(l._viewZoneId),l._viewZoneId=void 0);var X=Math.max(n.length,r);if(X>0){var oe=document.createElement("div");jS(oe,f,n,l.editor.getOptions(),l.languageIdCodec),l._viewZoneId=R.addZone({afterLineNumber:t,heightInLines:X,domNode:oe,afterColumnAffinity:1})}})}}}]),e}(Ye.a);function jS(s,o,e,i,t){var n=i.get(31),r=i.get(113),l="none",c=i.get(90),h=i.get(49),f=i.get(48),R=i.get(64),X=new i_.a(1e4);X.appendString('<div class="suggest-preview-text">');for(var oe=0,je=e.length;oe<je;oe++){var Me=e[oe],st=Me.content;X.appendString('<div class="view-line'),X.appendString('" style="top:'),X.appendString(String(oe*R)),X.appendString('px;width:1000000px;">');var gt=vr.B(st),jt=vr.m(st),Xt=mS.a.createEmpty(st,t);Object(Rg.d)(new Rg.c(f.isMonospace&&!n,f.canUseHalfwidthRightwardsArrow,st,!1,gt,jt,0,Xt,Me.decorations,o,0,f.spaceWidth,f.middotWidth,f.wsmiddotWidth,r,l,c,h!==hs.e.OFF,null),X),X.appendString("</div>")}X.appendString("</div>"),Object(va.a)(s,f);var sn=X.build(),qn=a_?a_.createHTML(sn):sn;s.innerHTML=qn}var a_=Object(Vr.a)("editorGhostText",{createHTML:function(o){return o}}),ES=a("Gw4z"),yp=function(){function s(o,e){Object(A.a)(this,s),this.range=o,this.text=e}return Object(P.a)(s,[{key:"removeCommonPrefix",value:function(e,i){var t=i?this.range.intersectRanges(i):this.range;if(!t)return this;var n=e.getValueInRange(t,1),r=Object(vr.f)(n,this.text),l=gp(this.range.getStartPosition(),mp(n.substring(0,r))),c=this.text.substring(r),h=Ze.a.fromPositions(l,this.range.getEndPosition());return new s(h,c)}},{key:"augments",value:function(e){return this.text.startsWith(e.text)&&LS(this.range,e.range)}},{key:"computeGhostText",value:function(e,i,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=this.removeCommonPrefix(e);if(r.range.endLineNumber===r.range.startLineNumber){var l=e.getLineContent(r.range.startLineNumber),c=Object(vr.x)(l).length,h=r.range.startColumn-1<=c;if(h){var f=Object(vr.x)(r.text).length,R=l.substring(r.range.startColumn-1,c),X=Ze.a.fromPositions(r.range.getStartPosition().delta(0,R.length),r.range.getEndPosition()),oe=r.text.startsWith(R)?r.text.substring(R.length):r.text.substring(f);r=new s(X,oe)}var je=e.getValueInRange(r.range),Me=MS(je,r.text);if(!!Me){var st=r.range.startLineNumber,gt=new Array;if(i==="prefix"){var jt=Me.filter(function(Kr){return Kr.originalLength===0});if(jt.length>1||jt.length===1&&jt[0].originalStart!==je.length)return}var Xt=r.text.length-n,sn=Object(G.a)(Me),qn;try{for(sn.s();!(qn=sn.n()).done;){var Hn=qn.value,fi=r.range.startColumn+Hn.originalStart+Hn.originalLength;if(i==="subwordSmart"&&t&&t.lineNumber===r.range.startLineNumber&&fi<t.column||Hn.originalLength>0)return;if(Hn.modifiedLength!==0){var Ci=Hn.modifiedStart+Hn.modifiedLength,wi=Math.max(Hn.modifiedStart,Math.min(Ci,Xt)),Ai=r.text.substring(Hn.modifiedStart,wi),jr=r.text.substring(wi,Math.max(Hn.modifiedStart,Ci));if(Ai.length>0){var dr=Object(vr.S)(Ai);gt.push(new pp(fi,dr,!1))}if(jr.length>0){var Dr=Object(vr.S)(jr);gt.push(new pp(fi,Dr,!0))}}}}catch(Kr){sn.e(Kr)}finally{sn.f()}return new r_(st,gt)}}}}]),s}();function LS(s,o){return o.getStartPosition().equals(s.getStartPosition())&&o.getEndPosition().isBeforeOrEqual(s.getEndPosition())}var Nc=void 0;function MS(s,o){if((Nc==null?void 0:Nc.originalValue)===s&&(Nc==null?void 0:Nc.newValue)===o)return Nc==null?void 0:Nc.changes;var e=s_(s,o,!0);if(e){var i=o_(e);if(i>0){var t=s_(s,o,!1);t&&o_(t)<i&&(e=t)}}return Nc={originalValue:s,newValue:o,changes:e},e}function o_(s){var o=0,e=Object(G.a)(s),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;o+=t.originalLength}}catch(n){e.e(n)}finally{e.f()}return o}function s_(s,o,e){if(s.length>5e3||o.length>5e3)return;function i(h){for(var f=0,R=0,X=h.length;R<X;R++){var oe=h.charCodeAt(R);oe>f&&(f=oe)}return f}var t=Math.max(i(s),i(o));function n(h){if(h<0)throw new Error("unexpected");return t+h+1}function r(h){for(var f=0,R=0,X=new Int32Array(h.length),oe=0,je=h.length;oe<je;oe++)if(e&&h[oe]==="("){var Me=R*100+f;X[oe]=n(2*Me),f++}else if(e&&h[oe]===")"){f=Math.max(f-1,0);var st=R*100+f;X[oe]=n(2*st+1),f===0&&R++}else X[oe]=h.charCodeAt(oe);return X}var l=r(s),c=r(o);return new ES.a({getElements:function(){return l}},{getElements:function(){return c}}).ComputeDiff(!1).changes}var TS=a("bzmS"),Kd=a("pvvD"),IS=a("pdYq"),PS=a("lwGy"),AS=a("t4hb");function RS(s,o){var e=new PS.a,i=new TS.a(e,function(h){return o.getLanguageConfiguration(h)}),t=new AS.b(new NS([s]),i),n=Object(IS.a)(t,[],void 0,!0),r="",l=s.getLineContent();function c(h,f){if(h.kind===2)if(c(h.openingBracket,f),f=Object(Kd.a)(f,h.openingBracket.length),h.child&&(c(h.child,f),f=Object(Kd.a)(f,h.child.length)),h.closingBracket)c(h.closingBracket,f),f=Object(Kd.a)(f,h.closingBracket.length);else{var R=i.getSingleLanguageBracketTokens(h.openingBracket.languageId),X=R.findClosingTokenText(h.openingBracket.bracketIds);r+=X}else if(h.kind!==3){if(h.kind===0||h.kind===1)r+=l.substring(Object(Kd.e)(f),Object(Kd.e)(Object(Kd.a)(f,h.length)));else if(h.kind===4){var oe=Object(G.a)(h.children),je;try{for(oe.s();!(je=oe.n()).done;){var Me=je.value;c(Me,f),f=Object(Kd.a)(f,Me.length)}}catch(st){oe.e(st)}finally{oe.f()}}}}return c(n,Kd.m),r}var NS=function(){function s(o){var e=this;Object(A.a)(this,s),this.lines=o,this.tokenization={getLineTokens:function(t){return e.lines[t-1]}}}return Object(P.a)(s,[{key:"getLineCount",value:function(){return this.lines.length}},{key:"getLineLength",value:function(e){return this.lines[e-1].getLineContent().length}}]),s}(),l_=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function xS(s,o,e,i){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Zn.a.None,n=arguments.length>5?arguments[5]:void 0;return l_(this,void 0,void 0,Object(d.a)().mark(function r(){var l=this,c,h,f,R,X,oe,je,Me,st,gt,jt,Xt,sn,qn;return Object(d.a)().wrap(function(fi){for(;;)switch(fi.prev=fi.next){case 0:return c=VS(o,e),h=s.all(e),fi.next=4,Promise.all(h.map(function(Ci){return l_(l,void 0,void 0,Object(d.a)().mark(function wi(){var Ai;return Object(d.a)().wrap(function(dr){for(;;)switch(dr.prev=dr.next){case 0:return dr.prev=0,dr.next=3,Ci.provideInlineCompletions(e,o,i,t);case 3:return Ai=dr.sent,dr.abrupt("return",{provider:Ci,completions:Ai});case 7:dr.prev=7,dr.t0=dr.catch(0),Object(Li.i)(dr.t0);case 10:return dr.abrupt("return",{provider:Ci,completions:void 0});case 11:case"end":return dr.stop()}},wi,null,[[0,7]])}))}));case 4:f=fi.sent,R=new Map,X=[],oe=Object(G.a)(f),fi.prev=8,oe.s();case 10:if((je=oe.n()).done){fi.next=21;break}if(Me=je.value,st=Me.completions,st){fi.next=15;break}return fi.abrupt("continue",19);case 15:gt=new BS(st,Me.provider),X.push(gt),jt=Object(G.a)(st.items);try{for(jt.s();!(Xt=jt.n()).done;)sn=Xt.value,qn=WS.from(sn,gt,c,e,n),R.set(qn.hash(),qn)}catch(Ci){jt.e(Ci)}finally{jt.f()}case 19:fi.next=10;break;case 21:fi.next=26;break;case 23:fi.prev=23,fi.t0=fi.catch(8),oe.e(fi.t0);case 26:return fi.prev=26,oe.f(),fi.finish(26);case 29:return fi.abrupt("return",new FS(Array.from(R.values()),new Set(R.keys()),X));case 30:case"end":return fi.stop()}},r,null,[[8,23,26,29]])}))}var FS=function(){function s(o,e,i){Object(A.a)(this,s),this.completions=o,this.hashs=e,this.providerResults=i}return Object(P.a)(s,[{key:"has",value:function(e){return this.hashs.has(e.hash())}},{key:"dispose",value:function(){var e=Object(G.a)(this.providerResults),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;t.removeRef()}}catch(n){e.e(n)}finally{e.f()}}}]),s}(),BS=function(){function s(o,e){Object(A.a)(this,s),this.inlineCompletions=o,this.provider=e,this.refCount=1}return Object(P.a)(s,[{key:"addRef",value:function(){this.refCount++}},{key:"removeRef",value:function(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}]),s}(),WS=function(){function s(o,e,i,t,n,r,l,c){Object(A.a)(this,s),this.filterText=o,this.command=e,this.range=i,this.insertText=t,this.snippetInfo=n,this.additionalTextEdits=r,this.sourceInlineCompletion=l,this.source=c,o=o.replace(/\r\n|\r/g,`
`),t=o.replace(/\r\n|\r/g,`
`)}return Object(P.a)(s,[{key:"withRange",value:function(e){return new s(this.filterText,this.command,e,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}},{key:"hash",value:function(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}],[{key:"from",value:function(e,i,t,n,r){var l,c,h=e.range?Ze.a.lift(e.range):t;if(typeof e.insertText=="string"){if(l=e.insertText,r&&e.completeBracketPairs){l=u_(l,h.getStartPosition(),n,r);var f=l.length-e.insertText.length;f!==0&&(h=new Ze.a(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn+f))}c=void 0}else if("snippet"in e.insertText){var R=e.insertText.snippet.length;if(r&&e.completeBracketPairs){e.insertText.snippet=u_(e.insertText.snippet,h.getStartPosition(),n,r);var X=e.insertText.snippet.length-R;X!==0&&(h=new Ze.a(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn+X))}var oe=new Ei().parse(e.insertText.snippet);oe.children.length===1&&oe.children[0]instanceof tn?(l=oe.children[0].value,c=void 0):(l=oe.toString(),c={snippet:e.insertText.snippet,range:h})}else Object(Yb.b)(e.insertText);return new s(l,e.command,h,l,c,e.additionalTextEdits||_S(),e,i)}}]),s}();function VS(s,o){var e=o.getWordAtPosition(s),i=o.getLineMaxColumn(s.lineNumber);return e?new Ze.a(s.lineNumber,e.startColumn,s.lineNumber,i):Ze.a.fromPositions(s,s.with(void 0,i))}function u_(s,o,e,i){var t=e.getLineContent(o.lineNumber).substring(0,o.column-1),n=t+s,r=e.tokenization.tokenizeLineWithEdit(o,n.length-(o.column-1),s),l=r==null?void 0:r.sliceAndInflate(o.column-1,n.length,0);if(!l)return s;var c=RS(l,i);return c}var HS=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},c_=function(s,o){return function(e,i){o(e,i,s)}},US=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},_p=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l){var c;return Object(A.a)(this,e),c=o.call(this),c.textModel=i,c.versionId=t,c._debounceValue=n,c.languageFeaturesService=r,c.languageConfigurationService=l,c._updateOperation=c._register(new Ye.e),c.inlineCompletions=Mm("inlineCompletions",void 0),c.suggestWidgetInlineCompletions=Mm("suggestWidgetInlineCompletions",void 0),c._register(c.textModel.onDidChangeContent(function(){c._updateOperation.clear()})),c}return Object(P.a)(e,[{key:"fetch",value:function(t,n,r){var l=this,c,h,f=new KS(t,n,this.textModel.getVersionId()),R=n.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if((c=this._updateOperation.value)===null||c===void 0?void 0:c.request.satisfies(f))return this._updateOperation.value.promise;if((h=R.get())===null||h===void 0?void 0:h.request.satisfies(f))return Promise.resolve(!0);var X=!!this._updateOperation.value;this._updateOperation.clear();var oe=new Zn.b,je=function(){return US(l,void 0,void 0,Object(d.a)().mark(function st(){var gt,jt,Xt,sn,qn,Hn;return Object(d.a)().wrap(function(Ci){for(;;)switch(Ci.prev=Ci.next){case 0:if(gt=X||n.triggerKind===so.g.Automatic,!gt){Ci.next=4;break}return Ci.next=4,zS(this._debounceValue.get(this.textModel));case 4:if(!(oe.token.isCancellationRequested||this.textModel.getVersionId()!==f.versionId)){Ci.next=6;break}return Ci.abrupt("return",!1);case 6:return jt=new Date,Ci.next=9,xS(this.languageFeaturesService.inlineCompletionsProvider,t,this.textModel,n,oe.token,this.languageConfigurationService);case 9:if(Xt=Ci.sent,!(oe.token.isCancellationRequested||this.textModel.getVersionId()!==f.versionId)){Ci.next=12;break}return Ci.abrupt("return",!1);case 12:return sn=new Date,this._debounceValue.update(this.textModel,sn.getTime()-jt.getTime()),qn=new QS(Xt,f,this.textModel,this.versionId),r&&(Hn=r.toInlineCompletion(void 0),r.canBeReused(this.textModel,t)&&!Xt.has(Hn)&&qn.prepend(r.inlineCompletion,Hn.range,!0)),this._updateOperation.clear(),wl(function(wi){R.set(qn,wi)}),Ci.abrupt("return",!0);case 19:case"end":return Ci.stop()}},st,this)}))}(),Me=new $S(f,oe,je);return this._updateOperation.value=Me,je}},{key:"clear",value:function(t){this._updateOperation.clear(),this.inlineCompletions.set(void 0,t),this.suggestWidgetInlineCompletions.set(void 0,t)}},{key:"clearSuggestWidgetInlineCompletions",value:function(t){var n;((n=this._updateOperation.value)===null||n===void 0?void 0:n.request.context.selectedSuggestionInfo)&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,t)}},{key:"cancelUpdate",value:function(){this._updateOperation.clear()}}]),e}(Ye.a);_p=HS([c_(3,$i.a),c_(4,po.a)],_p);function zS(s,o){return new Promise(function(e){var i=void 0,t=setTimeout(function(){i&&i.dispose(),e()},s);o&&(i=o.onCancellationRequested(function(){clearTimeout(t),i&&i.dispose(),e()}))})}var KS=function(){function s(o,e,i){Object(A.a)(this,s),this.position=o,this.context=e,this.versionId=i}return Object(P.a)(s,[{key:"satisfies",value:function(e){return this.position.equals(e.position)&&GS(this.context.selectedSuggestionInfo,e.context.selectedSuggestionInfo,function(i,t){return i.equals(t)})&&(e.context.triggerKind===so.g.Automatic||this.context.triggerKind===so.g.Explicit)&&this.versionId===e.versionId}}]),s}();function GS(s,o,e){return!s||!o?s===o:e(s,o)}var $S=function(){function s(o,e,i){Object(A.a)(this,s),this.request=o,this.cancellationTokenSource=e,this.promise=i}return Object(P.a)(s,[{key:"dispose",value:function(){this.cancellationTokenSource.cancel()}}]),s}(),QS=function(){function s(o,e,i,t){var n=this;Object(A.a)(this,s),this.inlineCompletionProviderResult=o,this.request=e,this.textModel=i,this.versionId=t,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=Bu("ranges",function(l){n.versionId.read(l);var c=!1,h=Object(G.a)(n._inlineCompletions),f;try{for(h.s();!(f=h.n()).done;){var R=f.value;c=c||R._updateRange(n.textModel)}}catch(X){h.e(X)}finally{h.f()}return c&&n._rangeVersionIdValue++,n._rangeVersionIdValue});var r=i.deltaDecorations([],o.completions.map(function(l){return{range:l.range,options:{description:"inline-completion-tracking-range"}}}));this._inlineCompletions=o.completions.map(function(l,c){return new d_(l,r[c],n._rangeVersionId)})}return Object(P.a)(s,[{key:"inlineCompletions",get:function(){return this._inlineCompletions}},{key:"clone",value:function(){return this._refCount++,this}},{key:"dispose",value:function(){if(this._refCount--,this._refCount===0){this.textModel.deltaDecorations(this._inlineCompletions.map(function(n){return n.decorationId}),[]),this.inlineCompletionProviderResult.dispose();var e=Object(G.a)(this._prependedInlineCompletionItems),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;t.source.removeRef()}}catch(n){e.e(n)}finally{e.f()}}}},{key:"prepend",value:function(e,i,t){t&&e.source.addRef();var n=this.textModel.deltaDecorations([],[{range:i,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new d_(e,n,this._rangeVersionId,i)),this._prependedInlineCompletionItems.push(e)}}]),s}(),d_=function(){function s(o,e,i,t){Object(A.a)(this,s),this.inlineCompletion=o,this.decorationId=e,this.rangeVersion=i,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=t!=null?t:o.range}return Object(P.a)(s,[{key:"forwardStable",get:function(){var e;return(e=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&e!==void 0?e:!1}},{key:"toInlineCompletion",value:function(e){return this.inlineCompletion.withRange(this._getUpdatedRange(e))}},{key:"toSingleTextEdit",value:function(e){return new yp(this._getUpdatedRange(e),this.inlineCompletion.insertText)}},{key:"isVisible",value:function(e,i,t){var n=this._toFilterTextReplacement(t).removeCommonPrefix(e);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(t).getStartPosition())||i.lineNumber!==n.range.startLineNumber)return!1;var r=e.getValueInRange(n.range,1).toLowerCase(),l=n.text.toLowerCase(),c=Math.max(0,i.column-n.range.startColumn),h=l.substring(0,c),f=l.substring(c),R=r.substring(0,c),X=r.substring(c),oe=e.getLineIndentColumn(n.range.startLineNumber);return n.range.startColumn<=oe&&(R=R.trimStart(),R.length===0&&(X=X.trimStart()),h=h.trimStart(),h.length===0&&(f=f.trimStart())),h.startsWith(R)&&!!Object(gs.j)(X,f)}},{key:"canBeReused",value:function(e,i){var t=this._isValid&&this._getUpdatedRange(void 0).containsPosition(i)&&this.isVisible(e,i,void 0)&&!this._isSmallerThanOriginal(void 0);return t}},{key:"_toFilterTextReplacement",value:function(e){return new yp(this._getUpdatedRange(e),this.inlineCompletion.filterText)}},{key:"_isSmallerThanOriginal",value:function(e){return h_(this._getUpdatedRange(e)).isBefore(h_(this.inlineCompletion.range))}},{key:"_getUpdatedRange",value:function(e){return this.rangeVersion.read(e),this._updatedRange}},{key:"_updateRange",value:function(e){var i=e.getDecorationRange(this.decorationId);return i?this._updatedRange.equalsRange(i)?!1:(this._updatedRange=i,!0):(this._isValid=!1,!0)}}]),s}();function h_(s){return s.startLineNumber===s.endLineNumber?new nt.a(1,1+s.endColumn-s.startColumn):new nt.a(1+s.endLineNumber-s.startLineNumber,s.endColumn)}var Ng=a("09fa"),KE=a("1nB5"),YS=a("PTeM");function f_(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mt.o;return Object(YS.b)(s,o)?s.charAt(0).toUpperCase()+s.slice(1):s}var GE=Object.create(null),vd=a("MrjW"),ZS=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},XS=function(s,o){return function(e,i){o(e,i,s)}},$E=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0}),v_=function(){function s(o){Object(A.a)(this,s),this._delegates=o}return Object(P.a)(s,[{key:"resolve",value:function(e){var i=Object(G.a)(this._delegates),t;try{for(i.s();!(t=i.n()).done;){var n=t.value,r=n.resolve(e);if(r!==void 0)return r}}catch(l){i.e(l)}finally{i.f()}}}]),s}(),g_=function(){function s(o,e,i,t){Object(A.a)(this,s),this._model=o,this._selection=e,this._selectionIdx=i,this._overtypingCapturer=t}return Object(P.a)(s,[{key:"resolve",value:function(e){var i=e.name;if(i==="SELECTION"||i==="TM_SELECTED_TEXT"){var t=this._model.getValueInRange(this._selection)||void 0,n=this._selection.startLineNumber!==this._selection.endLineNumber;if(!t&&this._overtypingCapturer){var r=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);r&&(t=r.value,n=r.multiline)}if(t&&n&&e.snippet){var l=this._model.getLineContent(this._selection.startLineNumber),c=Object(vr.x)(l,0,this._selection.startColumn-1),h=c;e.snippet.walk(function(X){return X===e?!1:(X instanceof tn&&(h=Object(vr.x)(Object(vr.S)(X.value).pop())),!0)});var f=Object(vr.f)(h,c);t=t.replace(/(\r\n|\r|\n)(.*)/g,function(X,oe,je){return"".concat(oe).concat(h.substr(f)).concat(je)})}return t}else{if(i==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(i==="TM_CURRENT_WORD"){var R=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return R&&R.word||void 0}else{if(i==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(i==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(i==="CURSOR_INDEX")return String(this._selectionIdx);if(i==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}]),s}(),m_=function(){function s(o,e){Object(A.a)(this,s),this._labelService=o,this._model=e}return Object(P.a)(s,[{key:"resolve",value:function(e){var i=e.name;if(i==="TM_FILENAME")return vd.a(this._model.uri.fsPath);if(i==="TM_FILENAME_BASE"){var t=vd.a(this._model.uri.fsPath),n=t.lastIndexOf(".");return n<=0?t:t.slice(0,n)}else{if(i==="TM_DIRECTORY")return vd.b(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(Object(mo.d)(this._model.uri));if(i==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(i==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}]),s}(),p_=function(){function s(o,e,i,t){Object(A.a)(this,s),this._readClipboardText=o,this._selectionIdx=e,this._selectionCount=i,this._spread=t}return Object(P.a)(s,[{key:"resolve",value:function(e){if(e.name==="CLIPBOARD"){var i=this._readClipboardText();if(!!i){if(this._spread){var t=i.split(/\r\n|\n|\r/).filter(function(n){return!Object(vr.D)(n)});if(t.length===this._selectionCount)return t[this._selectionIdx]}return i}}}}]),s}(),xg=function(){function s(o,e,i){Object(A.a)(this,s),this._model=o,this._selection=e,this._languageConfigurationService=i}return Object(P.a)(s,[{key:"resolve",value:function(e){var i=e.name,t=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),n=this._languageConfigurationService.getLanguageConfiguration(t).comments;if(!!n){if(i==="LINE_COMMENT")return n.lineCommentToken||void 0;if(i==="BLOCK_COMMENT_START")return n.blockCommentStartToken||void 0;if(i==="BLOCK_COMMENT_END")return n.blockCommentEndToken||void 0}}}]),s}();xg=ZS([XS(2,po.a)],xg);var If=function(){function s(){Object(A.a)(this,s),this._date=new Date}return Object(P.a)(s,[{key:"resolve",value:function(e){var i=e.name;if(i==="CURRENT_YEAR")return String(this._date.getFullYear());if(i==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(i==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(i==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(i==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(i==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(i==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(i==="CURRENT_DAY_NAME")return s.dayNames[this._date.getDay()];if(i==="CURRENT_DAY_NAME_SHORT")return s.dayNamesShort[this._date.getDay()];if(i==="CURRENT_MONTH_NAME")return s.monthNames[this._date.getMonth()];if(i==="CURRENT_MONTH_NAME_SHORT")return s.monthNamesShort[this._date.getMonth()];if(i==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(i==="CURRENT_TIMEZONE_OFFSET"){var t=this._date.getTimezoneOffset(),n=t>0?"-":"+",r=Math.trunc(Math.abs(t/60)),l=r<10?"0"+r:r,c=Math.abs(t)-r*60,h=c<10?"0"+c:c;return n+l+":"+h}}}]),s}();If.dayNames=[We.b("Sunday","Sunday"),We.b("Monday","Monday"),We.b("Tuesday","Tuesday"),We.b("Wednesday","Wednesday"),We.b("Thursday","Thursday"),We.b("Friday","Friday"),We.b("Saturday","Saturday")],If.dayNamesShort=[We.b("SundayShort","Sun"),We.b("MondayShort","Mon"),We.b("TuesdayShort","Tue"),We.b("WednesdayShort","Wed"),We.b("ThursdayShort","Thu"),We.b("FridayShort","Fri"),We.b("SaturdayShort","Sat")],If.monthNames=[We.b("January","January"),We.b("February","February"),We.b("March","March"),We.b("April","April"),We.b("May","May"),We.b("June","June"),We.b("July","July"),We.b("August","August"),We.b("September","September"),We.b("October","October"),We.b("November","November"),We.b("December","December")],If.monthNamesShort=[We.b("JanuaryShort","Jan"),We.b("FebruaryShort","Feb"),We.b("MarchShort","Mar"),We.b("AprilShort","Apr"),We.b("MayShort","May"),We.b("JuneShort","Jun"),We.b("JulyShort","Jul"),We.b("AugustShort","Aug"),We.b("SeptemberShort","Sep"),We.b("OctoberShort","Oct"),We.b("NovemberShort","Nov"),We.b("DecemberShort","Dec")];var b_=function(){function s(o){Object(A.a)(this,s),this._workspaceService=o}return Object(P.a)(s,[{key:"resolve",value:function(e){if(!!this._workspaceService){var i=Object(Du.h)(this._workspaceService.getWorkspace());if(!Object(Du.e)(i)){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(i);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(i)}}}},{key:"_resolveWorkspaceName",value:function(e){if(Object(Du.f)(e))return vd.a(e.uri.path);var i=vd.a(e.configPath.path);return i.endsWith(Du.c)&&(i=i.substr(0,i.length-Du.c.length-1)),i}},{key:"_resoveWorkspacePath",value:function(e){if(Object(Du.f)(e))return f_(e.uri.fsPath);var i=vd.a(e.configPath.path),t=e.configPath.fsPath;return t.endsWith(i)&&(t=t.substr(0,t.length-i.length-1)),t?f_(t):"/"}}]),s}(),y_=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"resolve",value:function(e){var i=e.name;if(i==="RANDOM")return Math.random().toString().slice(-6);if(i==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(i==="UUID")return mg()}}]),s}(),JS=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},qS=function(s,o){return function(e,i){o(e,i,s)}},Cp=function(){function s(o,e,i){Object(A.a)(this,s),this._editor=o,this._snippet=e,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=Object(Wn.q)(e.placeholders,Fn.compareByIndex),this._placeholderGroupsIdx=-1}return Object(P.a)(s,[{key:"initialize",value:function(e){this._offset=e.newPosition}},{key:"dispose",value:function(){this._placeholderDecorations&&this._editor.removeDecorations(Object(on.a)(this._placeholderDecorations.values())),this._placeholderGroups.length=0}},{key:"_initDecorations",value:function(){var e=this;if(this._offset===-1)throw new Error("Snippet not initialized!");if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var i=this._editor.getModel();this._editor.changeDecorations(function(t){var n=Object(G.a)(e._snippet.placeholders),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=e._snippet.offset(l),h=e._snippet.fullLen(l),f=Ze.a.fromPositions(i.getPositionAt(e._offset+c),i.getPositionAt(e._offset+c+h)),R=l.isFinalTabstop?s._decor.inactiveFinal:s._decor.inactive,X=t.addDecoration(f,R);e._placeholderDecorations.set(l,X)}}catch(oe){n.e(oe)}finally{n.f()}})}}},{key:"move",value:function(e){var i=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){var t=[],n=Object(G.a)(this._placeholderGroups[this._placeholderGroupsIdx]),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;if(l.transform){for(var c=this._placeholderDecorations.get(l),h=this._editor.getModel().getDecorationRange(c),f=this._editor.getModel().getValueInRange(h),R=l.transform.resolve(f).split(/\r\n|\r|\n/),X=1;X<R.length;X++)R[X]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+R[X]);t.push(Jo.a.replace(h,R.join(this._editor.getModel().getEOL())))}}}catch(Me){n.e(Me)}finally{n.f()}t.length>0&&this._editor.executeEdits("snippet.placeholderTransform",t)}var oe=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,oe=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,oe=!0);var je=this._editor.getModel().changeDecorations(function(Me){var st=new Set,gt=[],jt=Object(G.a)(i._placeholderGroups[i._placeholderGroupsIdx]),Xt;try{for(jt.s();!(Xt=jt.n()).done;){var sn=Xt.value,qn=i._placeholderDecorations.get(sn),Hn=i._editor.getModel().getDecorationRange(qn);gt.push(new Pi.a(Hn.startLineNumber,Hn.startColumn,Hn.endLineNumber,Hn.endColumn)),oe=oe&&i._hasPlaceholderBeenCollapsed(sn),Me.changeDecorationOptions(qn,sn.isFinalTabstop?s._decor.activeFinal:s._decor.active),st.add(sn);var fi=Object(G.a)(i._snippet.enclosingPlaceholders(sn)),Ci;try{for(fi.s();!(Ci=fi.n()).done;){var wi=Ci.value,Ai=i._placeholderDecorations.get(wi);Me.changeDecorationOptions(Ai,wi.isFinalTabstop?s._decor.activeFinal:s._decor.active),st.add(wi)}}catch(Pa){fi.e(Pa)}finally{fi.f()}}}catch(Pa){jt.e(Pa)}finally{jt.f()}var jr=Object(G.a)(i._placeholderDecorations),dr;try{for(jr.s();!(dr=jr.n()).done;){var Dr=dr.value,Kr=Object(O.a)(Dr,2),pa=Kr[0],xr=Kr[1];st.has(pa)||Me.changeDecorationOptions(xr,pa.isFinalTabstop?s._decor.inactiveFinal:s._decor.inactive)}}catch(Pa){jr.e(Pa)}finally{jr.f()}return gt});return oe?this.move(e):je!=null?je:[]}},{key:"_hasPlaceholderBeenCollapsed",value:function(e){for(var i=e;i;){if(i instanceof Fn){var t=this._placeholderDecorations.get(i),n=this._editor.getModel().getDecorationRange(t);if(n.isEmpty()&&i.toString().length>0)return!0}i=i.parent}return!1}},{key:"isAtFirstPlaceholder",get:function(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}},{key:"isAtLastPlaceholder",get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}},{key:"hasPlaceholder",get:function(){return this._snippet.placeholders.length>0}},{key:"isTrivialSnippet",get:function(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){var e=Object(O.a)(this._snippet.placeholders,1),i=e[0];if(i.isFinalTabstop&&this._snippet.rightMostDescendant===i)return!0}return!1}},{key:"computePossibleSelections",value:function(){var e=new Map,i=Object(G.a)(this._placeholderGroups),t;try{for(i.s();!(t=i.n()).done;){var n=t.value,r=void 0,l=Object(G.a)(n),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;if(h.isFinalTabstop)break;r||(r=[],e.set(h.index,r));var f=this._placeholderDecorations.get(h),R=this._editor.getModel().getDecorationRange(f);if(!R){e.delete(h.index);break}r.push(R)}}catch(X){l.e(X)}finally{l.f()}}}catch(X){i.e(X)}finally{i.f()}return e}},{key:"activeChoice",get:function(){if(!!this._placeholderDecorations){var e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!!(e==null?void 0:e.choice)){var i=this._placeholderDecorations.get(e);if(!!i){var t=this._editor.getModel().getDecorationRange(i);if(!!t)return{range:t,choice:e.choice}}}}}},{key:"hasChoice",get:function(){var e=!1;return this._snippet.walk(function(i){return e=i instanceof li,!e}),e}},{key:"merge",value:function(e){var i=this,t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(function(n){var r=Object(G.a)(i._placeholderGroups[i._placeholderGroupsIdx]),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=e.shift();console.assert(h._offset!==-1),console.assert(!h._placeholderDecorations);var f=h._snippet.placeholderInfo.last.index,R=Object(G.a)(h._snippet.placeholderInfo.all),X;try{for(R.s();!(X=R.n()).done;){var oe=X.value;oe.isFinalTabstop?oe.index=c.index+(f+1)/i._nestingLevel:oe.index=c.index+oe.index/i._nestingLevel}}catch(Hn){R.e(Hn)}finally{R.f()}i._snippet.replace(c,h._snippet.children);var je=i._placeholderDecorations.get(c);n.removeDecoration(je),i._placeholderDecorations.delete(c);var Me=Object(G.a)(h._snippet.placeholders),st;try{for(Me.s();!(st=Me.n()).done;){var gt=st.value,jt=h._snippet.offset(gt),Xt=h._snippet.fullLen(gt),sn=Ze.a.fromPositions(t.getPositionAt(h._offset+jt),t.getPositionAt(h._offset+jt+Xt)),qn=n.addDecoration(sn,s._decor.inactive);i._placeholderDecorations.set(gt,qn)}}catch(Hn){Me.e(Hn)}finally{Me.f()}}}catch(Hn){r.e(Hn)}finally{r.f()}i._placeholderGroups=Object(Wn.q)(i._snippet.placeholders,Fn.compareByIndex)})}}]),s}();Cp._decor={active:hn.b.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:hn.b.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:hn.b.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:hn.b.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var __={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},Fg=function(){function s(o,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:__,t=arguments.length>3?arguments[3]:void 0;Object(A.a)(this,s),this._editor=o,this._template=e,this._options=i,this._languageConfigurationService=t,this._templateMerges=[],this._snippets=[]}return Object(P.a)(s,[{key:"dispose",value:function(){Object(Ye.i)(this._snippets)}},{key:"_logInfo",value:function(){return'template="'.concat(this._template,'", merged_templates="').concat(this._templateMerges.join(" -> "),'"')}},{key:"insert",value:function(){var e=this;if(!!this._editor.hasModel()){var i=typeof this._template=="string"?s.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):s.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService),t=i.edits,n=i.snippets;this._snippets=n,this._editor.executeEdits("snippet",t,function(r){for(var l=r.filter(function(h){return!!h.identifier}),c=0;c<n.length;c++)n[c].initialize(l[c].textChange);return e._snippets[0].hasPlaceholder?e._move(!0):l.map(function(h){return Pi.a.fromPositions(h.range.getEndPosition())})}),this._editor.revealRange(this._editor.getSelections()[0])}}},{key:"merge",value:function(e){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:__;if(!!this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);var n=s.createEditsAndSnippetsFromSelections(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer,this._languageConfigurationService),r=n.edits,l=n.snippets;this._editor.executeEdits("snippet",r,function(c){for(var h=c.filter(function(Me){return!!Me.identifier}),f=0;f<l.length;f++)l[f].initialize(h[f].textChange);var R=l[0].isTrivialSnippet;if(!R){var X=Object(G.a)(i._snippets),oe;try{for(X.s();!(oe=X.n()).done;){var je=oe.value;je.merge(l)}}catch(Me){X.e(Me)}finally{X.f()}console.assert(l.length===0)}return i._snippets[0].hasPlaceholder&&!R?i._move(void 0):h.map(function(Me){return Pi.a.fromPositions(Me.range.getEndPosition())})})}}},{key:"next",value:function(){var e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}},{key:"prev",value:function(){var e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}},{key:"_move",value:function(e){var i=[],t=Object(G.a)(this._snippets),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=r.move(e);i.push.apply(i,Object(on.a)(l))}}catch(c){t.e(c)}finally{t.f()}return i}},{key:"isAtFirstPlaceholder",get:function(){return this._snippets[0].isAtFirstPlaceholder}},{key:"isAtLastPlaceholder",get:function(){return this._snippets[0].isAtLastPlaceholder}},{key:"hasPlaceholder",get:function(){return this._snippets[0].hasPlaceholder}},{key:"hasChoice",get:function(){return this._snippets[0].hasChoice}},{key:"activeChoice",get:function(){return this._snippets[0].activeChoice}},{key:"isSelectionWithinPlaceholders",value:function(){if(!this.hasPlaceholder)return!1;var e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;var i=new Map,t=Object(G.a)(this._snippets),n;try{var r=function(){var st=n.value,gt=st.computePossibleSelections();if(i.size===0){var jt=Object(G.a)(gt),Xt;try{for(jt.s();!(Xt=jt.n()).done;){var sn=Xt.value,qn=Object(O.a)(sn,2),Hn=qn[0],fi=qn[1];fi.sort(Ze.a.compareRangesUsingStarts);var Ci=Object(G.a)(e),wi;try{for(Ci.s();!(wi=Ci.n()).done;){var Ai=wi.value;if(fi[0].containsRange(Ai)){i.set(Hn,[]);break}}}catch(jr){Ci.e(jr)}finally{Ci.f()}}}catch(jr){jt.e(jr)}finally{jt.f()}}if(i.size===0)return{v:!1};i.forEach(function(jr,dr){jr.push.apply(jr,Object(on.a)(gt.get(dr)))})};for(t.s();!(n=t.n()).done;){var l=r();if(typeof l=="object")return l.v}}catch(Me){t.e(Me)}finally{t.f()}e.sort(Ze.a.compareRangesUsingStarts);var c=Object(G.a)(i),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,R=Object(O.a)(f,2),X=R[0],oe=R[1];if(oe.length!==e.length){i.delete(X);continue}oe.sort(Ze.a.compareRangesUsingStarts);for(var je=0;je<oe.length;je++)if(!oe[je].containsRange(e[je])){i.delete(X);continue}}}catch(Me){c.e(Me)}finally{c.f()}return i.size>0}}],[{key:"adjustWhitespace",value:function(e,i,t,n,r){var l=e.getLineContent(i.lineNumber),c=Object(vr.x)(l,0,i.column-1),h;return n.walk(function(f){if(!(f instanceof tn)||f.parent instanceof li||r&&!r.has(f))return!0;var R=f.value.split(/\r\n|\r|\n/);if(t){var X=n.offset(f);if(X===0)R[0]=e.normalizeIndentation(R[0]);else{h=h!=null?h:n.toString();var oe=h.charCodeAt(X-1);(oe===10||oe===13)&&(R[0]=e.normalizeIndentation(c+R[0]))}for(var je=1;je<R.length;je++)R[je]=e.normalizeIndentation(c+R[je])}var Me=R.join(e.getEOL());return Me!==f.value&&(f.parent.replace(f,[new tn(Me)]),h=void 0),!0}),c}},{key:"adjustSelection",value:function(e,i,t,n){if(t!==0||n!==0){var r=i,l=r.positionLineNumber,c=r.positionColumn,h=c-t,f=c+n,R=e.validateRange({startLineNumber:l,startColumn:h,endLineNumber:l,endColumn:f});i=Pi.a.createWithDirection(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn,i.getDirection())}return i}},{key:"createEditsAndSnippetsFromSelections",value:function(e,i,t,n,r,l,c,h,f){var R=[],X=[];if(!e.hasModel())return{edits:R,snippets:X};var oe=e.getModel(),je=e.invokeWithinContext(function(xr){return xr.get(Du.a)}),Me=e.invokeWithinContext(function(xr){return new m_(xr.get(wc.a),oe)}),st=function(){return c},gt=oe.getValueInRange(s.adjustSelection(oe,e.getSelection(),t,0)),jt=oe.getValueInRange(s.adjustSelection(oe,e.getSelection(),0,n)),Xt=oe.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),sn=e.getSelections().map(function(xr,Pa){return{selection:xr,idx:Pa}}).sort(function(xr,Pa){return Ze.a.compareRangesUsingStarts(xr.selection,Pa.selection)}),qn=Object(G.a)(sn),Hn;try{for(qn.s();!(Hn=qn.n()).done;){var fi=Hn.value,Ci=fi.selection,wi=fi.idx,Ai=s.adjustSelection(oe,Ci,t,0),jr=s.adjustSelection(oe,Ci,0,n);gt!==oe.getValueInRange(Ai)&&(Ai=Ci),jt!==oe.getValueInRange(jr)&&(jr=Ci);var dr=Ci.setStartPosition(Ai.startLineNumber,Ai.startColumn).setEndPosition(jr.endLineNumber,jr.endColumn),Dr=new Ei().parse(i,!0,r),Kr=dr.getStartPosition(),pa=s.adjustWhitespace(oe,Kr,l||wi>0&&Xt!==oe.getLineFirstNonWhitespaceColumn(Ci.positionLineNumber),Dr);Dr.resolveVariables(new v_([Me,new p_(st,wi,sn.length,e.getOption(76)==="spread"),new g_(oe,Ci,wi,h),new xg(oe,Ci,f),new If,new b_(je),new y_])),R[wi]=Jo.a.replace(dr,Dr.toString()),R[wi].identifier={major:wi,minor:0},R[wi]._isTracked=!0,X[wi]=new Cp(e,Dr,pa)}}catch(xr){qn.e(xr)}finally{qn.f()}return{edits:R,snippets:X}}},{key:"createEditsAndSnippetsFromEdits",value:function(e,i,t,n,r,l,c){if(!e.hasModel()||i.length===0)return{edits:[],snippets:[]};var h=[],f=e.getModel(),R=new Ei,X=new Ni,oe=new v_([e.invokeWithinContext(function(Ai){return new m_(Ai.get(wc.a),f)}),new p_(function(){return r},0,e.getSelections().length,e.getOption(76)==="spread"),new g_(f,e.getSelection(),0,l),new xg(f,e.getSelection(),c),new If,new b_(e.invokeWithinContext(function(Ai){return Ai.get(Du.a)})),new y_]);i=i.sort(function(Ai,jr){return Ze.a.compareRangesUsingStarts(Ai.range,jr.range)});for(var je=0,Me=0;Me<i.length;Me++){var st=i[Me],gt=st.range,jt=st.template;if(Me>0){var Xt=i[Me-1].range,sn=Ze.a.fromPositions(Xt.getEndPosition(),gt.getStartPosition()),qn=new tn(f.getValueInRange(sn));X.appendChild(qn),je+=qn.value.length}var Hn=R.parseFragment(jt,X);s.adjustWhitespace(f,gt.getStartPosition(),!0,X,new Set(Hn)),X.resolveVariables(oe);var fi=X.toString(),Ci=fi.slice(je);je=fi.length;var wi=Jo.a.replace(gt,Ci);wi.identifier={major:Me,minor:0},wi._isTracked=!0,h.push(wi)}return R.ensureFinalTabstop(X,t,!0),{edits:h,snippets:[new Cp(e,X,"")]}}}]),s}();Fg=JS([qS(3,po.a)],Fg);var ek=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Bg=function(s,o){return function(e,i){o(e,i,s)}},C_={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},Fs=function(){function s(o,e,i,t,n){Object(A.a)(this,s),this._editor=o,this._logService=e,this._languageFeaturesService=i,this._languageConfigurationService=n,this._snippetListener=new Ye.c,this._modelVersionId=-1,this._inSnippet=s.InSnippetMode.bindTo(t),this._hasNextTabstop=s.HasNextTabstop.bindTo(t),this._hasPrevTabstop=s.HasPrevTabstop.bindTo(t)}return Object(P.a)(s,[{key:"dispose",value:function(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}},{key:"insert",value:function(e,i){try{this._doInsert(e,typeof i=="undefined"?C_:Object.assign(Object.assign({},C_),i))}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}},{key:"_doInsert",value:function(e,i){var t=this,n;if(!!this._editor.hasModel()){if(this._snippetListener.clear(),i.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof e!="string"&&this.cancel(),this._session?(Object(ya.b)(typeof e=="string"),this._session.merge(e,i)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new Fg(this._editor,e,i,this._languageConfigurationService),this._session.insert()),i.undoStopAfter&&this._editor.getModel().pushStackElement(),(n=this._session)===null||n===void 0?void 0:n.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:function(c,h){if(!(!t._session||c!==t._editor.getModel()||!nt.a.equals(t._editor.getPosition(),h))){var f=t._session.activeChoice;if(!(!f||f.choice.options.length===0)){for(var R=c.getValueInRange(f.range),X=Boolean(f.choice.options.find(function(st){return st.value===R})),oe=[],je=0;je<f.choice.options.length;je++){var Me=f.choice.options[je];oe.push({kind:13,label:Me.value,insertText:Me.value,sortText:"a".repeat(je+1),range:f.range,filterText:X?"".concat(R,"_").concat(Me.value):void 0,command:{id:"jumpToNextSnippetPlaceholder",title:Object(We.b)("next","Go to next placeholder...")}})}return{suggestions:oe}}}}};var r=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme,exclusive:!0},this._choiceCompletionItemProvider);this._snippetListener.add(r)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(function(l){return l.isFlush&&t.cancel()})),this._snippetListener.add(this._editor.onDidChangeModel(function(){return t.cancel()})),this._snippetListener.add(this._editor.onDidChangeCursorSelection(function(){return t._updateState()}))}}},{key:"_updateState",value:function(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}},{key:"_handleChoice",value:function(){var e=this;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}var i=this._session.activeChoice;if(!i||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==i.choice&&(this._currentChoice=i.choice,queueMicrotask(function(){it(e._editor,e._choiceCompletionItemProvider)}))}},{key:"finish",value:function(){for(;this._inSnippet.get();)this.next()}},{key:"cancel",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(i=this._session)===null||i===void 0||i.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}},{key:"prev",value:function(){var e;(e=this._session)===null||e===void 0||e.prev(),this._updateState()}},{key:"next",value:function(){var e;(e=this._session)===null||e===void 0||e.next(),this._updateState()}},{key:"isInSnippet",value:function(){return Boolean(this._inSnippet.get())}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();Fs.ID="snippetController2",Fs.InSnippetMode=new Tn.c("inSnippetMode",!1,Object(We.b)("inSnippetMode","Whether the editor in current in snippet mode")),Fs.HasNextTabstop=new Tn.c("hasNextTabstop",!1,Object(We.b)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),Fs.HasPrevTabstop=new Tn.c("hasPrevTabstop",!1,Object(We.b)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),Fs=ek([Bg(1,Ng.b),Bg(2,$i.a),Bg(3,Tn.b),Bg(4,po.a)],Fs),Object(wt.m)(Fs.ID,Fs,4);var Wg=wt.d.bindToContribution(Fs.get);Object(wt.l)(new Wg({id:"jumpToNextSnippetPlaceholder",precondition:Tn.a.and(Fs.InSnippetMode,Fs.HasNextTabstop),handler:function(o){return o.next()},kbOpts:{weight:100+30,kbExpr:Ut.a.editorTextFocus,primary:2}})),Object(wt.l)(new Wg({id:"jumpToPrevSnippetPlaceholder",precondition:Tn.a.and(Fs.InSnippetMode,Fs.HasPrevTabstop),handler:function(o){return o.prev()},kbOpts:{weight:100+30,kbExpr:Ut.a.editorTextFocus,primary:1024|2}})),Object(wt.l)(new Wg({id:"leaveSnippet",precondition:Fs.InSnippetMode,handler:function(o){return o.cancel(!0)},kbOpts:{weight:100+30,kbExpr:Ut.a.editorTextFocus,primary:9,secondary:[1024|9]}})),Object(wt.l)(new Wg({id:"acceptSnippet",precondition:Fs.InSnippetMode,handler:function(o){return o.finish()}}));var tk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Op=function(s,o){return function(e,i){o(e,i,s)}},Pf=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},ju;(function(s){s[s.Undo=0]="Undo",s[s.Redo=1]="Redo",s[s.AcceptWord=2]="AcceptWord",s[s.Other=3]="Other"})(ju||(ju={}));var Sp=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h,f,R,X,oe,je){var Me;Object(A.a)(this,e),Me=o.call(this),Me.textModel=i,Me.selectedSuggestItem=t,Me.cursorPosition=n,Me.textModelVersionId=r,Me._debounceValue=l,Me._suggestPreviewEnabled=c,Me._suggestPreviewMode=h,Me._inlineSuggestMode=f,Me._enabled=R,Me._instantiationService=X,Me._commandService=oe,Me._languageConfigurationService=je,Me._source=Me._register(Me._instantiationService.createInstance(_p,Me.textModel,Me.textModelVersionId,Me._debounceValue)),Me._isActive=Cf("isActive",!1),Me._forceUpdate=TC("forceUpdate"),Me._selectedInlineCompletionId=Cf("selectedInlineCompletionId",void 0),Me._isAcceptingPartially=!1,Me._isNavigatingCurrentInlineCompletion=!1,Me._preserveCurrentCompletionReasons=new Set([ju.Redo,ju.Undo,ju.AcceptWord]),Me._fetchInlineCompletions=DC("fetch inline completions",{createEmptyChangeSummary:function(){return{preserveCurrentCompletion:!1,inlineCompletionTriggerKind:so.g.Automatic}},handleChange:function(jt,Xt){return jt.didChange(Me.textModelVersionId)&&Me._preserveCurrentCompletionReasons.has(jt.change)?Xt.preserveCurrentCompletion=!0:jt.didChange(Me._forceUpdate)&&(Xt.inlineCompletionTriggerKind=jt.change),!0}},function(gt,jt){Me._forceUpdate.read(gt);var Xt=Me._enabled.read(gt)&&Me.selectedSuggestItem.read(gt)||Me._isActive.read(gt);if(!Xt){Me._source.cancelUpdate();return}Me.textModelVersionId.read(gt);var sn=Me.selectedInlineCompletion.get(),qn=jt.preserveCurrentCompletion||(sn==null?void 0:sn.forwardStable)?sn:void 0,Hn=Me._source.suggestWidgetInlineCompletions.get(),fi=Me.selectedSuggestItem.read(gt);if(Hn&&!fi){var Ci=Me._source.inlineCompletions.get();wl(function(jr){Ci&&Hn.request.versionId>Ci.request.versionId&&Me._source.inlineCompletions.set(Hn.clone(),jr),Me._source.clearSuggestWidgetInlineCompletions(jr)})}var wi=Me.cursorPosition.read(gt),Ai={triggerKind:jt.inlineCompletionTriggerKind,selectedSuggestionInfo:fi==null?void 0:fi.toSelectedSuggestionInfo()};return Me._source.fetch(wi,Ai,qn)}),Me._filteredInlineCompletionItems=Bu("filteredInlineCompletionItems",function(gt){var jt=Me._source.inlineCompletions.read(gt);if(!jt)return[];var Xt=Me.cursorPosition.read(gt),sn=jt.inlineCompletions.filter(function(qn){return qn.isVisible(Me.textModel,Xt,gt)});return sn}),Me.selectedInlineCompletionIndex=Bu("selectedCachedCompletionIndex",function(gt){var jt=Me._selectedInlineCompletionId.read(gt),Xt=Me._filteredInlineCompletionItems.read(gt),sn=Me._selectedInlineCompletionId===void 0?-1:Xt.findIndex(function(qn){return qn.semanticId===jt});return sn===-1?(Me._selectedInlineCompletionId.set(void 0,void 0),0):sn}),Me.selectedInlineCompletion=Bu("selectedCachedCompletion",function(gt){var jt=Me._filteredInlineCompletionItems.read(gt),Xt=Me.selectedInlineCompletionIndex.read(gt);return jt[Xt]}),Me.lastTriggerKind=Me._source.inlineCompletions.map(function(gt){return gt==null?void 0:gt.request.context.triggerKind}),Me.inlineCompletionsCount=Bu("selectedInlineCompletionsCount",function(gt){if(Me.lastTriggerKind.read(gt)===so.g.Explicit)return Me._filteredInlineCompletionItems.read(gt).length}),Me.state=Bu("ghostTextAndCompletion",function(gt){var jt,Xt=Me.textModel,sn=Me.selectedSuggestItem.read(gt);if(sn){var qn=Me._source.suggestWidgetInlineCompletions.read(gt),Hn=qn?qn.inlineCompletions:[Me.selectedInlineCompletion.read(gt)].filter(ya.d),fi=sn.toSingleTextEdit().removeCommonPrefix(Xt),Ci=Object(Wn.t)(Hn,function(ls){var vo=ls.toSingleTextEdit(gt);return vo=vo.removeCommonPrefix(Xt,Ze.a.fromPositions(vo.range.getStartPosition(),sn.range.getEndPosition())),vo.augments(fi)?{edit:vo,completion:ls}:void 0}),wi=Me._suggestPreviewEnabled.read(gt);if(!wi&&!Ci)return;var Ai=(jt=Ci==null?void 0:Ci.edit)!==null&&jt!==void 0?jt:fi,jr=Ci?Ci.edit.text.length-fi.text.length:0,dr=Me._suggestPreviewMode.read(gt),Dr=Me.cursorPosition.read(gt),Kr=Ai.computeGhostText(Xt,dr,Dr,jr),pa=Kr!=null?Kr:new r_(Ai.range.endLineNumber,[]);return{ghostText:pa,completion:Ci==null?void 0:Ci.completion,suggestItem:sn}}else{if(!Me._isActive.read(gt))return;var xr=Me.selectedInlineCompletion.read(gt);if(!xr)return;var Pa=xr.toSingleTextEdit(gt),Ca=Me._inlineSuggestMode.read(gt),fa=Me.cursorPosition.read(gt),co=Pa.computeGhostText(Xt,Ca,fa);return co?{ghostText:co,completion:xr,suggestItem:void 0}:void 0}}),Me.ghostText=Bu("ghostText",function(gt){var jt=Me.state.read(gt);if(!!jt)return jt.ghostText}),Me._register(PC(Me._fetchInlineCompletions,!0));var st=void 0;return Me._register(Hl("call handleItemDidShow",function(gt){var jt,Xt,sn=Me.state.read(gt),qn=sn==null?void 0:sn.completion;if((qn==null?void 0:qn.semanticId)!==(st==null?void 0:st.semanticId)&&(st=qn,qn)){var Hn=qn.inlineCompletion,fi=Hn.source;(Xt=(jt=fi.provider).handleItemDidShow)===null||Xt===void 0||Xt.call(jt,fi.inlineCompletions,Hn.sourceInlineCompletion,Hn.insertText)}})),Me}return Object(P.a)(e,[{key:"isAcceptingPartially",get:function(){return this._isAcceptingPartially}},{key:"isNavigatingCurrentInlineCompletion",get:function(){return this._isNavigatingCurrentInlineCompletion}},{key:"trigger",value:function(t){return Pf(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this._isActive.set(!0,t),l.next=3,this._fetchInlineCompletions.get();case 3:case"end":return l.stop()}},n,this)}))}},{key:"triggerExplicitly",value:function(t){return Pf(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return Kb(t,function(h){r._isActive.set(!0,h),r._forceUpdate.trigger(h,so.g.Explicit)}),c.next=3,this._fetchInlineCompletions.get();case 3:case"end":return c.stop()}},n,this)}))}},{key:"stop",value:function(t){var n=this;Kb(t,function(r){n._isActive.set(!1,r),n._source.clear(r)})}},{key:"_deltaSelectedInlineCompletionIndex",value:function(t){return Pf(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.triggerExplicitly();case 2:this._isNavigatingCurrentInlineCompletion=!0;try{r=this._filteredInlineCompletionItems.get()||[],r.length>0?(l=(this.selectedInlineCompletionIndex.get()+t+r.length)%r.length,this._selectedInlineCompletionId.set(r[l].semanticId,void 0)):this._selectedInlineCompletionId.set(void 0,void 0)}finally{this._isNavigatingCurrentInlineCompletion=!1}case 4:case"end":return h.stop()}},n,this)}))}},{key:"next",value:function(){return Pf(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._deltaSelectedInlineCompletionIndex(1);case 2:case"end":return r.stop()}},t,this)}))}},{key:"previous",value:function(){return Pf(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._deltaSelectedInlineCompletionIndex(-1);case 2:case"end":return r.stop()}},t,this)}))}},{key:"accept",value:function(t){var n,r;return Pf(this,void 0,void 0,Object(d.a)().mark(function l(){var c=this,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(t.getModel()===this.textModel){oe.next=2;break}throw new Li.a;case 2:if(h=this.ghostText.get(),f=(n=this.selectedInlineCompletion.get())===null||n===void 0?void 0:n.toInlineCompletion(void 0),!(!h||!f)){oe.next=6;break}return oe.abrupt("return");case 6:if(t.pushUndoStop(),f.snippetInfo?(t.executeEdits("inlineSuggestion.accept",[Jo.a.replaceMove(f.range,"")].concat(Object(on.a)(f.additionalTextEdits))),t.setPosition(f.snippetInfo.range.getStartPosition()),(r=Fs.get(t))===null||r===void 0||r.insert(f.snippetInfo.snippet,{undoStopBefore:!1})):t.executeEdits("inlineSuggestion.accept",[Jo.a.replaceMove(f.range,f.insertText)].concat(Object(on.a)(f.additionalTextEdits))),!f.command){oe.next=11;break}return oe.next=11,(R=this._commandService).executeCommand.apply(R,[f.command.id].concat(Object(on.a)(f.command.arguments||[]))).then(void 0,Li.i);case 11:wl(function(je){c._source.clear(je),c._isActive.set(!1,je)});case 12:case"end":return oe.stop()}},l,this)}))}},{key:"acceptNextWord",value:function(t){var n=this;this._acceptNext(t,function(r,l){var c=n.textModel.getLanguageIdAtPosition(r.lineNumber,r.column),h=n._languageConfigurationService.getLanguageConfiguration(c),f=new RegExp(h.wordDefinition.source,h.wordDefinition.flags.replace("g","")),R=l.match(f),X=0;R&&R.index!==void 0?R.index===0?X=R[0].length:X=R.index:X=l.length;var oe=/\s+/g,je=oe.exec(l);return je&&je.index!==void 0&&je.index+je[0].length<X&&(X=je.index+je[0].length),X})}},{key:"acceptNextLine",value:function(t){this._acceptNext(t,function(n,r){var l=r.match(/\n/);return l&&l.index!==void 0?l.index+1:r.length})}},{key:"_acceptNext",value:function(t,n){var r;if(t.getModel()!==this.textModel)throw new Li.a;var l=this.ghostText.get(),c=(r=this.selectedInlineCompletion.get())===null||r===void 0?void 0:r.toInlineCompletion(void 0);if(!(!l||!c)){if(c.snippetInfo||c.filterText!==c.insertText){this.accept(t);return}if(l.parts.length!==0){var h=l.parts[0],f=new nt.a(l.lineNumber,h.column),R=h.lines.join(`
`),X=n(f,R);if(X===R.length&&l.parts.length===1){this.accept(t);return}var oe=R.substring(0,X);this._isAcceptingPartially=!0;try{t.pushUndoStop(),t.executeEdits("inlineSuggestion.accept",[Jo.a.replace(Ze.a.fromPositions(f),oe)]);var je=mp(oe);t.setPosition(gp(f,je))}finally{this._isAcceptingPartially=!1}if(c.source.provider.handlePartialAccept){var Me=Ze.a.fromPositions(c.range.getStartPosition(),gp(f,mp(oe))),st=t.getModel().getValueInRange(Me,1);c.source.provider.handlePartialAccept(c.source.inlineCompletions,c.sourceInlineCompletion,st.length)}}}}}]),e}(Ye.a);Sp=tk([Op(9,ia.a),Op(10,$r.b),Op(11,po.a)],Sp);var O_=a("Szf2"),nk=a("i55F"),ik=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},S_=function(s,o){return function(e,i){o(e,i,s)}},kp=function(){function s(o){Object(A.a)(this,s),this.name=o}return Object(P.a)(s,[{key:"select",value:function(e,i,t){if(t.length===0)return 0;for(var n=t[0].score[0],r=0;r<t.length;r++){var l=t[r],c=l.score,h=l.completion;if(c[0]!==n)break;if(h.preselect)return r}return 0}}]),s}(),k_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,"first")}return Object(P.a)(e,[{key:"memorize",value:function(t,n,r){}},{key:"toJSON",value:function(){}},{key:"fromJSON",value:function(){}}]),e}(kp),rk=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this,"recentlyUsed"),i._cache=new Xl.a(300,.66),i._seq=0,i}return Object(P.a)(e,[{key:"memorize",value:function(t,n,r){var l="".concat(t.getLanguageId(),"/").concat(r.textLabel);this._cache.set(l,{touch:this._seq++,type:r.completion.kind,insertText:r.completion.insertText})}},{key:"select",value:function(t,n,r){if(r.length===0)return 0;var l=t.getLineContent(n.lineNumber).substr(n.column-10,n.column-1);if(/\s$/.test(l))return Object(bn.a)(Object(An.a)(e.prototype),"select",this).call(this,t,n,r);for(var c=r[0].score[0],h=-1,f=-1,R=-1,X=0;X<r.length&&r[X].score[0]===c;X++){var oe="".concat(t.getLanguageId(),"/").concat(r[X].textLabel),je=this._cache.peek(oe);if(je&&je.touch>R&&je.type===r[X].completion.kind&&je.insertText===r[X].completion.insertText&&(R=je.touch,f=X),r[X].completion.preselect&&h===-1)return h=X}return f!==-1?f:h!==-1?h:0}},{key:"toJSON",value:function(){return this._cache.toJSON()}},{key:"fromJSON",value:function(t){this._cache.clear();var n=0,r=Object(G.a)(t),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=Object(O.a)(c,2),f=h[0],R=h[1];R.touch=n,R.type=typeof R.type=="number"?R.type:so.b.fromString(R.type),this._cache.set(f,R)}}catch(X){r.e(X)}finally{r.f()}this._seq=this._cache.size}}]),e}(kp),ak=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this,"recentlyUsedByPrefix"),i._trie=nk.a.forStrings(),i._seq=0,i}return Object(P.a)(e,[{key:"memorize",value:function(t,n,r){var l=t.getWordUntilPosition(n),c=l.word,h="".concat(t.getLanguageId(),"/").concat(c);this._trie.set(h,{type:r.completion.kind,insertText:r.completion.insertText,touch:this._seq++})}},{key:"select",value:function(t,n,r){var l=t.getWordUntilPosition(n),c=l.word;if(!c)return Object(bn.a)(Object(An.a)(e.prototype),"select",this).call(this,t,n,r);var h="".concat(t.getLanguageId(),"/").concat(c),f=this._trie.get(h);if(f||(f=this._trie.findSubstr(h)),f)for(var R=0;R<r.length;R++){var X=r[R].completion,oe=X.kind,je=X.insertText;if(oe===f.type&&je===f.insertText)return R}return Object(bn.a)(Object(An.a)(e.prototype),"select",this).call(this,t,n,r)}},{key:"toJSON",value:function(){var t=[];return this._trie.forEach(function(n,r){return t.push([r,n])}),t.sort(function(n,r){return-(n[1].touch-r[1].touch)}).forEach(function(n,r){return n[1].touch=r}),t.slice(0,200)}},{key:"fromJSON",value:function(t){if(this._trie.clear(),t.length>0){this._seq=t[0][1].touch+1;var n=Object(G.a)(t),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=Object(O.a)(l,2),h=c[0],f=c[1];f.type=typeof f.type=="number"?f.type:so.b.fromString(f.type),this._trie.set(h,f)}}catch(R){n.e(R)}finally{n.f()}}}}]),e}(kp),Nv=function(){function s(o,e){var i=this;Object(A.a)(this,s),this._storageService=o,this._configService=e,this._disposables=new Ye.c,this._persistSoon=new mt.g(function(){return i._saveState()},500),this._disposables.add(o.onWillSaveState(function(t){t.reason===el.c.SHUTDOWN&&i._saveState()}))}return Object(P.a)(s,[{key:"dispose",value:function(){this._disposables.dispose(),this._persistSoon.dispose()}},{key:"memorize",value:function(e,i,t){this._withStrategy(e,i).memorize(e,i,t),this._persistSoon.schedule()}},{key:"select",value:function(e,i,t){return this._withStrategy(e,i).select(e,i,t)}},{key:"_withStrategy",value:function(e,i){var t,n=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(i.lineNumber,i.column),resource:e.uri});if(((t=this._strategy)===null||t===void 0?void 0:t.name)!==n){this._saveState();var r=s._strategyCtors.get(n)||k_;this._strategy=new r;try{var l=this._configService.getValue("editor.suggest.shareSuggestSelections"),c=l?0:1,h=this._storageService.get("".concat(s._storagePrefix,"/").concat(n),c);h&&this._strategy.fromJSON(JSON.parse(h))}catch(f){}}return this._strategy}},{key:"_saveState",value:function(){if(this._strategy){var e=this._configService.getValue("editor.suggest.shareSuggestSelections"),i=e?0:1,t=JSON.stringify(this._strategy);this._storageService.store("".concat(s._storagePrefix,"/").concat(this._strategy.name),t,i,1)}}}]),s}();Nv._strategyCtors=new Map([["recentlyUsedByPrefix",ak],["recentlyUsed",rk],["first",k_]]),Nv._storagePrefix="suggest/memories",Nv=ik([S_(0,el.a),S_(1,Do.a)],Nv);var Vg=Object(ia.c)("ISuggestMemories");Object(Cs.b)(Vg,Nv,1);var ok=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},sk=function(s,o){return function(e,i){o(e,i,s)}},xv=function(){function s(o,e){var i=this;Object(A.a)(this,s),this._editor=o,this._enabled=!1,this._ckAtEnd=s.AtEnd.bindTo(e),this._configListener=this._editor.onDidChangeConfiguration(function(t){return t.hasChanged(119)&&i._update()}),this._update()}return Object(P.a)(s,[{key:"dispose",value:function(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}},{key:"_update",value:function(){var e=this,i=this._editor.getOption(119)==="on";if(this._enabled!==i)if(this._enabled=i,this._enabled){var t=function(){if(!e._editor.hasModel()){e._ckAtEnd.set(!1);return}var r=e._editor.getModel(),l=e._editor.getSelection(),c=r.getWordAtPosition(l.getStartPosition());if(!c){e._ckAtEnd.set(!1);return}e._ckAtEnd.set(c.endColumn===l.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}}]),s}();xv.AtEnd=new Tn.c("atEndOfWord",!1),xv=ok([sk(1,Tn.b)],xv);var lk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},uk=function(s,o){return function(e,i){o(e,i,s)}},Ph=function(){function s(o,e){Object(A.a)(this,s),this._editor=o,this._index=0,this._ckOtherSuggestions=s.OtherSuggestions.bindTo(e)}return Object(P.a)(s,[{key:"dispose",value:function(){this.reset()}},{key:"reset",value:function(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}},{key:"set",value:function(e,i){var t=this,n=e.model,r=e.index;if(n.items.length===0){this.reset();return}var l=s._moveIndex(!0,n,r);if(l===r){this.reset();return}this._acceptNext=i,this._model=n,this._index=r,this._listener=this._editor.onDidChangeCursorPosition(function(){t._ignore||t.reset()}),this._ckOtherSuggestions.set(!0)}},{key:"next",value:function(){this._move(!0)}},{key:"prev",value:function(){this._move(!1)}},{key:"_move",value:function(e){if(!!this._model)try{this._ignore=!0,this._index=s._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}}],[{key:"_moveIndex",value:function(e,i,t){for(var n=t,r=i.items.length;r>0&&(n=(n+i.items.length+(e?1:-1))%i.items.length,!(n===t||!i.items[n].completion.additionalTextEdits));r--);return n}}]),s}();Ph.OtherSuggestions=new Tn.c("hasOtherSuggestions",!1),Ph=lk([uk(1,Tn.b)],Ph);var ck=function(){function s(o,e,i,t){var n=this;Object(A.a)(this,s),this._disposables=new Ye.c,this._disposables.add(i.onDidSuggest(function(r){r.completionModel.items.length===0&&n.reset()})),this._disposables.add(i.onDidCancel(function(r){n.reset()})),this._disposables.add(e.onDidShow(function(){return n._onItem(e.getFocusedItem())})),this._disposables.add(e.onDidFocus(this._onItem,this)),this._disposables.add(e.onDidHide(this.reset,this)),this._disposables.add(o.onWillType(function(r){if(n._active&&!e.isFrozen()&&i.state!==0){var l=r.charCodeAt(r.length-1);n._active.acceptCharacters.has(l)&&o.getOption(0)&&t(n._active.item)}}))}return Object(P.a)(s,[{key:"_onItem",value:function(e){if(!e||!Object(Wn.s)(e.item.completion.commitCharacters)){this.reset();return}if(!(this._active&&this._active.item.item===e.item)){var i=new Ig.b,t=Object(G.a)(e.item.completion.commitCharacters),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;r.length>0&&i.add(r.charCodeAt(0))}}catch(l){t.e(l)}finally{t.f()}this._active={acceptCharacters:i,item:e}}}},{key:"reset",value:function(){this._active=void 0}},{key:"dispose",value:function(){this._disposables.dispose()}}]),s}(),dk=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Hg=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"provideSelectionRanges",value:function(e,i){return dk(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:n=[],r=Object(G.a)(i),f.prev=2,c=Object(d.a)().mark(function R(){var X,oe,je;return Object(d.a)().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return X=l.value,oe=[],n.push(oe),je=new Map,st.next=6,new Promise(function(gt){return s._bracketsRightYield(gt,0,e,X,je)});case 6:return st.next=8,new Promise(function(gt){return s._bracketsLeftYield(gt,0,e,X,je,oe)});case 8:case"end":return st.stop()}},R)}),r.s();case 5:if((l=r.n()).done){f.next=9;break}return f.delegateYield(c(),"t0",7);case 7:f.next=5;break;case 9:f.next=14;break;case 11:f.prev=11,f.t1=f.catch(2),r.e(f.t1);case 14:return f.prev=14,r.f(),f.finish(14);case 17:return f.abrupt("return",n);case 18:case"end":return f.stop()}},t,null,[[2,11,14,17]])}))}}],[{key:"_bracketsRightYield",value:function(e,i,t,n,r){for(var l=new Map,c=Date.now();;){if(i>=s._maxRounds){e();break}if(!n){e();break}var h=t.bracketPairs.findNextBracket(n);if(!h){e();break}var f=Date.now()-c;if(f>s._maxDuration){setTimeout(function(){return s._bracketsRightYield(e,i+1,t,n,r)});break}if(h.bracketInfo.isOpeningBracket){var R=h.bracketInfo.bracketText,X=l.has(R)?l.get(R):0;l.set(R,X+1)}else{var oe=h.bracketInfo.getOpeningBrackets()[0].bracketText,je=l.has(oe)?l.get(oe):0;if(je-=1,l.set(oe,Math.max(0,je)),je<0){var Me=r.get(oe);Me||(Me=new Ss.a,r.set(oe,Me)),Me.push(h.range)}}n=h.range.getEndPosition()}}},{key:"_bracketsLeftYield",value:function(e,i,t,n,r,l){for(var c=new Map,h=Date.now();;){if(i>=s._maxRounds&&r.size===0){e();break}if(!n){e();break}var f=t.bracketPairs.findPrevBracket(n);if(!f){e();break}var R=Date.now()-h;if(R>s._maxDuration){setTimeout(function(){return s._bracketsLeftYield(e,i+1,t,n,r,l)});break}if(f.bracketInfo.isOpeningBracket){var je=f.bracketInfo.bracketText,Me=c.has(je)?c.get(je):0;if(Me-=1,c.set(je,Math.max(0,Me)),Me<0){var st=r.get(je);if(st){var gt=st.shift();st.size===0&&r.delete(je);var jt=Ze.a.fromPositions(f.range.getEndPosition(),gt.getStartPosition()),Xt=Ze.a.fromPositions(f.range.getStartPosition(),gt.getEndPosition());l.push({range:jt}),l.push({range:Xt}),s._addBracketLeading(t,Xt,l)}}}else{var X=f.bracketInfo.getOpeningBrackets()[0].bracketText,oe=c.has(X)?c.get(X):0;c.set(X,oe+1)}n=f.range.getStartPosition()}}},{key:"_addBracketLeading",value:function(e,i,t){if(i.startLineNumber!==i.endLineNumber){var n=i.startLineNumber,r=e.getLineFirstNonWhitespaceColumn(n);r!==0&&r!==i.startColumn&&(t.push({range:Ze.a.fromPositions(new nt.a(n,r),i.getEndPosition())}),t.push({range:Ze.a.fromPositions(new nt.a(n,1),i.getEndPosition())}));var l=n-1;if(l>0){var c=e.getLineFirstNonWhitespaceColumn(l);c===i.startColumn&&c!==e.getLineLastNonWhitespaceColumn(l)&&(t.push({range:Ze.a.fromPositions(new nt.a(l,c),i.getEndPosition())}),t.push({range:Ze.a.fromPositions(new nt.a(l,1),i.getEndPosition())}))}}}}]),s}();Hg._maxDuration=30,Hg._maxRounds=2;var hk=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Ug=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,null,[{key:"create",value:function(e,i){return hk(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(i.getOption(114).localityBonus){oe.next=2;break}return oe.abrupt("return",s.None);case 2:if(i.hasModel()){oe.next=4;break}return oe.abrupt("return",s.None);case 4:if(n=i.getModel(),r=i.getPosition(),e.canComputeWordRanges(n.uri)){oe.next=8;break}return oe.abrupt("return",s.None);case 8:return oe.next=10,new Hg().provideSelectionRanges(n,[r]);case 10:if(l=oe.sent,c=Object(O.a)(l,1),h=c[0],h.length!==0){oe.next=15;break}return oe.abrupt("return",s.None);case 15:return oe.next=17,e.computeWordRanges(n.uri,h[0].range);case 17:if(f=oe.sent,f){oe.next=20;break}return oe.abrupt("return",s.None);case 20:return R=n.getWordUntilPosition(r),delete f[R.word],oe.abrupt("return",new(function(je){Object(Pt.a)(st,je);var Me=Object(yt.a)(st);function st(){return Object(A.a)(this,st),Me.apply(this,arguments)}return Object(P.a)(st,[{key:"distance",value:function(jt,Xt){if(!r.equals(i.getPosition()))return 0;if(Xt.kind===17)return 2<<20;var sn=typeof Xt.label=="string"?Xt.label:Xt.label.label,qn=f[sn];if(Object(Wn.r)(qn))return 2<<20;var Hn=Object(Wn.e)(qn,Ze.a.fromPositions(jt),Ze.a.compareRangesUsingStarts),fi=Hn>=0?qn[Hn]:qn[Math.max(0,~Hn-1)],Ci=h.length,wi=Object(G.a)(h),Ai;try{for(wi.s();!(Ai=wi.n()).done;){var jr=Ai.value;if(!Ze.a.containsRange(jr.range,fi))break;Ci-=1}}catch(dr){wi.e(dr)}finally{wi.f()}return Ci}}]),st}(s)));case 23:case"end":return oe.stop()}},t)}))}}]),s}();Ug.None=new(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"distance",value:function(){return 0}}]),e}(Ug));var D_=Object(P.a)(function s(o,e){Object(A.a)(this,s),this.leadingLineContent=o,this.characterCountDelta=e}),w_=function(){function s(o,e,i,t,n,r){var l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:gs.b.default,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0;Object(A.a)(this,s),this.clipboardText=c,this._snippetCompareFn=s._compareCompletionItems,this._items=o,this._column=e,this._wordDistance=t,this._options=n,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=l,r==="top"?this._snippetCompareFn=s._compareCompletionItemsSnippetsUp:r==="bottom"&&(this._snippetCompareFn=s._compareCompletionItemsSnippetsDown)}return Object(P.a)(s,[{key:"lineContext",get:function(){return this._lineContext},set:function(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}},{key:"items",get:function(){return this._ensureCachedState(),this._filteredItems}},{key:"getItemsByProvider",value:function(){return this._ensureCachedState(),this._itemsByProvider}},{key:"getIncompleteProvider",value:function(){this._ensureCachedState();var e=new Set,i=Object(G.a)(this.getItemsByProvider()),t;try{for(i.s();!(t=i.n()).done;){var n=t.value,r=Object(O.a)(n,2),l=r[0],c=r[1];c.length>0&&c[0].container.incomplete&&e.add(l)}}catch(h){i.e(h)}finally{i.f()}return e}},{key:"stats",get:function(){return this._ensureCachedState(),this._stats}},{key:"_ensureCachedState",value:function(){this._refilterKind!==0&&this._createCachedState()}},{key:"_createCachedState",value:function(){this._itemsByProvider=new Map;for(var e=[],i=this._lineContext,t=i.leadingLineContent,n=i.characterCountDelta,r="",l="",c=this._refilterKind===1?this._items:this._filteredItems,h=[],f=!this._options.filterGraceful||c.length>2e3?gs.e:gs.f,R=0;R<c.length;R++){var X=c[R];if(!X.isInvalid){var oe=this._itemsByProvider.get(X.provider);oe?oe.push(X):this._itemsByProvider.set(X.provider,[X]);var je=X.position.column-X.editStart.column,Me=je+n-(X.position.column-this._column);if(r.length!==Me&&(r=Me===0?"":t.slice(-Me),l=r.toLowerCase()),X.word=r,Me===0)X.score=gs.a.Default;else{for(var st=0;st<je;){var gt=r.charCodeAt(st);if(gt===32||gt===9)st+=1;else break}if(st>=Me)X.score=gs.a.Default;else if(typeof X.completion.filterText=="string"){var jt=f(r,l,st,X.completion.filterText,X.filterTextLow,0,this._fuzzyScoreOptions);if(!jt)continue;Object(vr.i)(X.completion.filterText,X.textLabel)===0?X.score=jt:(X.score=Object(gs.c)(r,l,st,X.textLabel,X.labelLow,0),X.score[0]=jt[0])}else{var Xt=f(r,l,st,X.textLabel,X.labelLow,0,this._fuzzyScoreOptions);if(!Xt)continue;X.score=Xt}}X.idx=R,X.distance=this._wordDistance.distance(X.position,X.completion),h.push(X),e.push(X.textLabel.length)}}this._filteredItems=h.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?Object(Wn.y)(e.length-.85,e,function(sn,qn){return sn-qn}):0}}}],[{key:"_compareCompletionItems",value:function(e,i){return e.score[0]>i.score[0]?-1:e.score[0]<i.score[0]?1:e.distance<i.distance?-1:e.distance>i.distance?1:e.idx<i.idx?-1:e.idx>i.idx?1:0}},{key:"_compareCompletionItemsSnippetsDown",value:function(e,i){if(e.completion.kind!==i.completion.kind){if(e.completion.kind===27)return 1;if(i.completion.kind===27)return-1}return s._compareCompletionItems(e,i)}},{key:"_compareCompletionItemsSnippetsUp",value:function(e,i){if(e.completion.kind!==i.completion.kind){if(e.completion.kind===27)return-1;if(i.completion.kind===27)return 1}return s._compareCompletionItems(e,i)}}]),s}(),fk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Ah=function(s,o){return function(e,i){o(e,i,s)}},vk=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Rh=function(){function s(o,e,i){Object(A.a)(this,s),this.leadingLineContent=o.getLineContent(e.lineNumber).substr(0,e.column-1),this.leadingWord=o.getWordUntilPosition(e),this.lineNumber=e.lineNumber,this.column=e.column,this.triggerOptions=i}return Object(P.a)(s,null,[{key:"shouldAutoTrigger",value:function(e){if(!e.hasModel())return!1;var i=e.getModel(),t=e.getPosition();i.tokenization.tokenizeIfCheap(t.lineNumber);var n=i.getWordAtPosition(t);return!(!n||n.endColumn!==t.column&&n.startColumn+1!==t.column||!isNaN(Number(n.word)))}}]),s}();function gk(s,o,e){if(!Boolean(o.getContextKeyValue(El.inlineSuggestionVisible.key)))return!0;var i=o.getContextKeyValue(El.suppressSuggestions.key);return i!==void 0?!i:!s.getOption(60).suppressSuggestions}function mk(s,o,e){if(!Boolean(o.getContextKeyValue("inlineSuggestionVisible")))return!0;var i=o.getContextKeyValue(El.suppressSuggestions.key);return i!==void 0?!i:!s.getOption(60).suppressSuggestions}var Dp=function(){function s(o,e,i,t,n,r,l,c){var h=this;Object(A.a)(this,s),this._editor=o,this._editorWorkerService=e,this._clipboardService=i,this._telemetryService=t,this._logService=n,this._contextKeyService=r,this._configurationService=l,this._languageFeaturesService=c,this._toDispose=new Ye.c,this._triggerCharacterListener=new Ye.c,this._triggerQuickSuggest=new mt.i,this._triggerState=void 0,this._completionDisposables=new Ye.c,this._onDidCancel=new ca.b,this._onDidTrigger=new ca.b,this._onDidSuggest=new ca.b,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Pi.a(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(function(){h._updateTriggerCharacters(),h.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(function(){h._updateTriggerCharacters(),h.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(function(){h._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(function(){h._updateTriggerCharacters(),h._updateActiveSuggestSession()}));var f=!1;this._toDispose.add(this._editor.onDidCompositionStart(function(){f=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(function(){f=!1,h._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(function(R){f||h._onCursorChange(R)})),this._toDispose.add(this._editor.onDidChangeModelContent(function(){!f&&h._triggerState!==void 0&&h._refilterCompletionItems()})),this._updateTriggerCharacters()}return Object(P.a)(s,[{key:"dispose",value:function(){Object(Ye.i)(this._triggerCharacterListener),Object(Ye.i)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}},{key:"_updateTriggerCharacters",value:function(){var e=this;if(this._triggerCharacterListener.clear(),!(this._editor.getOption(88)||!this._editor.hasModel()||!this._editor.getOption(117))){var i=new Map,t=Object(G.a)(this._languageFeaturesService.completionProvider.all(this._editor.getModel())),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=Object(G.a)(r.triggerCharacters||[]),c;try{for(l.s();!(c=l.n()).done;){var h=c.value,f=i.get(h);f||(f=new Set,f.add(b()),i.set(h,f)),f.add(r)}}catch(X){l.e(X)}finally{l.f()}}}catch(X){t.e(X)}finally{t.f()}var R=function(oe){var je;if(!!mk(e._editor,e._contextKeyService,e._configurationService)&&!Rh.shouldAutoTrigger(e._editor)){if(!oe){var Me=e._editor.getPosition(),st=e._editor.getModel();oe=st.getLineContent(Me.lineNumber).substr(0,Me.column-1)}var gt="";Object(vr.G)(oe.charCodeAt(oe.length-1))?Object(vr.F)(oe.charCodeAt(oe.length-2))&&(gt=oe.substr(oe.length-2)):gt=oe.charAt(oe.length-1);var jt=i.get(gt);if(jt){var Xt=new Map;if(e._completionModel){var sn=Object(G.a)(e._completionModel.getItemsByProvider()),qn;try{for(sn.s();!(qn=sn.n()).done;){var Hn=qn.value,fi=Object(O.a)(Hn,2),Ci=fi[0],wi=fi[1];jt.has(Ci)||Xt.set(Ci,wi)}}catch(Ai){sn.e(Ai)}finally{sn.f()}}e.trigger({auto:!0,triggerKind:1,triggerCharacter:gt,retrigger:Boolean(e._completionModel),clipboardText:(je=e._completionModel)===null||je===void 0?void 0:je.clipboardText,completionOptions:{providerFilter:jt,providerItemsToReuse:Xt}})}}};this._triggerCharacterListener.add(this._editor.onDidType(R)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(function(){return R()}))}}},{key:"state",get:function(){return this._triggerState?this._triggerState.auto?2:1:0}},{key:"cancel",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(i=this._requestToken)===null||i===void 0||i.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}},{key:"clear",value:function(){this._completionDisposables.clear()}},{key:"_updateActiveSuggestSession",value:function(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}},{key:"_onCursorChange",value:function(e){if(!!this._editor.hasModel()){var i=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&e.reason===0?(i.containsRange(this._currentSelection)||i.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&e.reason===3&&this._refilterCompletionItems()}}},{key:"_onCompositionEnd",value:function(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}},{key:"_doTriggerQuickSuggest",value:function(){var e=this,i;dt.isAllOff(this._editor.getOption(86))||this._editor.getOption(114).snippetsPreventQuickSuggestions&&((i=Fs.get(this._editor))===null||i===void 0?void 0:i.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(function(){if(e._triggerState===void 0&&!!Rh.shouldAutoTrigger(e._editor)&&!(!e._editor.hasModel()||!e._editor.hasWidgetFocus())){var t=e._editor.getModel(),n=e._editor.getPosition(),r=e._editor.getOption(86);if(!dt.isAllOff(r)){if(!dt.isAllOn(r)){t.tokenization.tokenizeIfCheap(n.lineNumber);var l=t.tokenization.getLineTokens(n.lineNumber),c=l.getStandardTokenType(l.findTokenIndexAtOffset(Math.max(n.column-1-1,0)));if(dt.valueFor(r,c)!=="on")return}!gk(e._editor,e._contextKeyService,e._configurationService)||!e._languageFeaturesService.completionProvider.has(t)||e.trigger({auto:!0})}}},this._editor.getOption(87)))}},{key:"_refilterCompletionItems",value:function(){Object(ya.b)(this._editor.hasModel()),Object(ya.b)(this._triggerState!==void 0);var e=this._editor.getModel(),i=this._editor.getPosition(),t=new Rh(e,i,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(t)}},{key:"trigger",value:function(e){var i=this,t,n,r,l,c,h;if(!!this._editor.hasModel()){var f=this._editor.getModel(),R=new Rh(f,this._editor.getPosition(),e);this.cancel(e.retrigger),this._triggerState=e,this._onDidTrigger.fire({auto:e.auto,shy:(t=e.shy)!==null&&t!==void 0?t:!1,position:this._editor.getPosition()}),this._context=R;var X={triggerKind:(n=e.triggerKind)!==null&&n!==void 0?n:0};e.triggerCharacter&&(X={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new Zn.b;var oe=this._editor.getOption(108),je=1;switch(oe){case"top":je=0;break;case"bottom":je=2;break}var Me=s._createSuggestFilter(this._editor),st=Me.itemKind,gt=Me.showDeprecated,jt=new he(je,(l=(r=e.completionOptions)===null||r===void 0?void 0:r.kindFilter)!==null&&l!==void 0?l:st,(c=e.completionOptions)===null||c===void 0?void 0:c.providerFilter,(h=e.completionOptions)===null||h===void 0?void 0:h.providerItemsToReuse,gt),Xt=Ug.create(this._editorWorkerService,this._editor),sn=p(this._languageFeaturesService.completionProvider,f,this._editor.getPosition(),jt,X,this._requestToken.token);Promise.all([sn,Xt]).then(function(qn){var Hn=Object(O.a)(qn,2),fi=Hn[0],Ci=Hn[1];return vk(i,void 0,void 0,Object(d.a)().mark(function wi(){var Ai,jr,dr,Dr,Kr;return Object(d.a)().wrap(function(xr){for(;;)switch(xr.prev=xr.next){case 0:if((Ai=this._requestToken)===null||Ai===void 0||Ai.dispose(),this._editor.hasModel()){xr.next=3;break}return xr.abrupt("return");case 3:if(jr=e==null?void 0:e.clipboardText,!(!jr&&fi.needsClipboard)){xr.next=8;break}return xr.next=7,this._clipboardService.readText();case 7:jr=xr.sent;case 8:if(this._triggerState!==void 0){xr.next=10;break}return xr.abrupt("return");case 10:dr=this._editor.getModel(),Dr=new Rh(dr,this._editor.getPosition(),e),Kr=Object.assign(Object.assign({},gs.b.default),{firstMatchCanBeWeak:!this._editor.getOption(114).matchOnWordStartOnly}),this._completionModel=new w_(fi.items,this._context.column,{leadingLineContent:Dr.leadingLineContent,characterCountDelta:Dr.column-this._context.column},Ci,this._editor.getOption(114),this._editor.getOption(108),Kr,jr),this._completionDisposables.add(fi.disposable),this._onNewContext(Dr),this._reportDurationsTelemetry(fi.durations);case 17:case"end":return xr.stop()}},wi,this)}))}).catch(Li.h)}}},{key:"_reportDurationsTelemetry",value:function(e){var i=this;this._telemetryGate++%230==0&&setTimeout(function(){i._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),i._logService.debug("suggest.durations.json",e)})}},{key:"_onNewContext",value:function(e){if(!!this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(Object(vr.x)(e.leadingLineContent)!==Object(vr.x)(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(!!this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){var i=Rh.shouldAutoTrigger(this._editor);if(i&&this._context){var t=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:t}})}return}if(e.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&e.leadingWord.word.length!==0){var n=new Map,r=new Set,l=Object(G.a)(this._completionModel.getItemsByProvider()),c;try{for(l.s();!(c=l.n()).done;){var h=c.value,f=Object(O.a)(h,2),R=f[0],X=f[1];X.length>0&&X[0].container.incomplete?r.add(R):n.set(R,X)}}catch(st){l.e(st)}finally{l.f()}this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:r,providerItemsToReuse:n}})}else{var oe=this._completionModel.lineContext,je=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){var Me=Rh.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(Me&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=oe,je=this._completionModel.items.length>0,je&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:e.triggerOptions,isFrozen:je})}}}}}],[{key:"_createSuggestFilter",value:function(e){var i=new Set,t=e.getOption(108);t==="none"&&i.add(27);var n=e.getOption(114);return n.showMethods||i.add(0),n.showFunctions||i.add(1),n.showConstructors||i.add(2),n.showFields||i.add(3),n.showVariables||i.add(4),n.showClasses||i.add(5),n.showStructs||i.add(6),n.showInterfaces||i.add(7),n.showModules||i.add(8),n.showProperties||i.add(9),n.showEvents||i.add(10),n.showOperators||i.add(11),n.showUnits||i.add(12),n.showValues||i.add(13),n.showConstants||i.add(14),n.showEnums||i.add(15),n.showEnumMembers||i.add(16),n.showKeywords||i.add(17),n.showWords||i.add(18),n.showColors||i.add(19),n.showFiles||i.add(20),n.showReferences||i.add(21),n.showColors||i.add(22),n.showFolders||i.add(23),n.showTypeParameters||i.add(24),n.showSnippets||i.add(27),n.showUsers||i.add(25),n.showIssues||i.add(26),{itemKind:i,showDeprecated:n.showDeprecated}}}]),s}();Dp=fk([Ah(1,Iv.a),Ah(2,$t.a),Ah(3,Ka.a),Ah(4,Ng.b),Ah(5,Tn.b),Ah(6,Do.a),Ah(7,$i.a)],Dp);var j_=function(){function s(o,e){var i=this;Object(A.a)(this,s),this._disposables=new Ye.c,this._lastOvertyped=[],this._locked=!1,this._disposables.add(o.onWillType(function(){if(!(i._locked||!o.hasModel())){for(var t=o.getSelections(),n=t.length,r=!1,l=0;l<n;l++)if(!t[l].isEmpty()){r=!0;break}if(!r){i._lastOvertyped.length!==0&&(i._lastOvertyped.length=0);return}i._lastOvertyped=[];for(var c=o.getModel(),h=0;h<n;h++){var f=t[h];if(c.getValueLengthInRange(f)>s._maxSelectionLength)return;i._lastOvertyped[h]={value:c.getValueInRange(f),multiline:f.startLineNumber!==f.endLineNumber}}}})),this._disposables.add(e.onDidTrigger(function(t){i._locked=!0})),this._disposables.add(e.onDidCancel(function(t){i._locked=!1}))}return Object(P.a)(s,[{key:"getLastOvertypedInfo",value:function(e){if(e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}},{key:"dispose",value:function(){this._disposables.dispose()}}]),s}();j_._maxSelectionLength=51200;var pk=a("Sdnv"),QE=a("pYKB"),bk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},wp=function(s,o){return function(e,i){o(e,i,s)}},yk=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"updateLabel",value:function(){var t=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!t)return Object(bn.a)(Object(An.a)(e.prototype),"updateLabel",this).call(this);this.label&&(this.label.textContent=Object(We.b)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,e.symbolPrintEnter(t)))}}],[{key:"symbolPrintEnter",value:function(t){var n;return(n=t.getLabel())===null||n===void 0?void 0:n.replace(/\benter\b/gi,"\u23CE")}}]),e}(Ol.a),jp=function(){function s(o,e,i,t,n){Object(A.a)(this,s),this._menuId=e,this._menuService=t,this._contextKeyService=n,this._menuDisposables=new Ye.c,this.element=It.append(o,It.$(".suggest-status-bar"));var r=function(c){return c instanceof Ht.d?i.createInstance(yk,c,void 0):void 0};this._leftActions=new Us.a(this.element,{actionViewItemProvider:r}),this._rightActions=new Us.a(this.element,{actionViewItemProvider:r}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}return Object(P.a)(s,[{key:"dispose",value:function(){this._menuDisposables.dispose(),this.element.remove()}},{key:"show",value:function(){var e=this,i=this._menuService.createMenu(this._menuId,this._contextKeyService),t=function(){var r=[],l=[],c=Object(G.a)(i.getActions()),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,R=Object(O.a)(f,2),X=R[0],oe=R[1];X==="left"?r.push.apply(r,Object(on.a)(oe)):l.push.apply(l,Object(on.a)(oe))}}catch(je){c.e(je)}finally{c.f()}e._leftActions.clear(),e._leftActions.push(r),e._rightActions.clear(),e._rightActions.push(l)};this._menuDisposables.add(i.onDidChange(function(){return t()})),this._menuDisposables.add(i)}},{key:"hide",value:function(){this._menuDisposables.clear()}}]),s}();jp=bk([wp(2,ia.a),wp(3,Ht.b),wp(4,Tn.b)],jp);var E_=function(){function s(){var o=this;Object(A.a)(this,s),this._onDidWillResize=new ca.b,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new ca.b,this.onDidResize=this._onDidResize.event,this._sashListener=new Ye.c,this._size=new It.Dimension(0,0),this._minSize=new It.Dimension(0,0),this._maxSize=new It.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new fo.b(this.domNode,{getVerticalSashLeft:function(){return o._size.width}},{orientation:0}),this._westSash=new fo.b(this.domNode,{getVerticalSashLeft:function(){return 0}},{orientation:0}),this._northSash=new fo.b(this.domNode,{getHorizontalSashTop:function(){return 0}},{orientation:1,orthogonalEdge:fo.a.North}),this._southSash=new fo.b(this.domNode,{getHorizontalSashTop:function(){return o._size.height}},{orientation:1,orthogonalEdge:fo.a.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;var e,i=0,t=0;this._sashListener.add(ca.c.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(function(){e===void 0&&(o._onDidWillResize.fire(),e=o._size,i=0,t=0)})),this._sashListener.add(ca.c.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(function(){e!==void 0&&(e=void 0,i=0,t=0,o._onDidResize.fire({dimension:o._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(function(n){e&&(t=n.currentX-n.startX,o.layout(e.height+i,e.width+t),o._onDidResize.fire({dimension:o._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(function(n){e&&(t=-(n.currentX-n.startX),o.layout(e.height+i,e.width+t),o._onDidResize.fire({dimension:o._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(function(n){e&&(i=-(n.currentY-n.startY),o.layout(e.height+i,e.width+t),o._onDidResize.fire({dimension:o._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(function(n){e&&(i=n.currentY-n.startY,o.layout(e.height+i,e.width+t),o._onDidResize.fire({dimension:o._size,done:!1,south:!0}))})),this._sashListener.add(ca.c.any(this._eastSash.onDidReset,this._westSash.onDidReset)(function(n){o._preferredSize&&(o.layout(o._size.height,o._preferredSize.width),o._onDidResize.fire({dimension:o._size,done:!0}))})),this._sashListener.add(ca.c.any(this._northSash.onDidReset,this._southSash.onDidReset)(function(n){o._preferredSize&&(o.layout(o._preferredSize.height,o._size.width),o._onDidResize.fire({dimension:o._size,done:!0}))}))}return Object(P.a)(s,[{key:"dispose",value:function(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}},{key:"enableSashes",value:function(e,i,t,n){this._northSash.state=e?3:0,this._eastSash.state=i?3:0,this._southSash.state=t?3:0,this._westSash.state=n?3:0}},{key:"layout",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.size.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size.width,t=this._minSize,n=t.height,r=t.width,l=this._maxSize,c=l.height,h=l.width;e=Math.max(n,Math.min(c,e)),i=Math.max(r,Math.min(h,i));var f=new It.Dimension(i,e);It.Dimension.equals(f,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=i+"px",this._size=f,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}},{key:"clearSashHoverState",value:function(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=e}},{key:"minSize",get:function(){return this._minSize},set:function(e){this._minSize=e}},{key:"preferredSize",get:function(){return this._preferredSize},set:function(e){this._preferredSize=e}}]),s}(),_k=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Ck=function(s,o){return function(e,i){o(e,i,s)}};function Ep(s){return!!s&&Boolean(s.completion.documentation||s.completion.detail&&s.completion.detail!==s.completion.label)}var Lp=function(){function s(o,e){var i=this;Object(A.a)(this,s),this._editor=o,this._onDidClose=new ca.b,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new ca.b,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Ye.c,this._renderDisposeable=new Ye.c,this._borderWidth=1,this._size=new It.Dimension(330,0),this.domNode=It.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=e.createInstance(ga,{editor:o}),this._body=It.$(".body"),this._scrollbar=new Tc.a(this._body,{alwaysConsumeMouseWheel:!0}),It.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=It.append(this._body,It.$(".header")),this._close=It.append(this._header,It.$("span"+Fa.a.asCSSSelector(Tr.a.close))),this._close.title=We.b("details.close","Close"),this._type=It.append(this._header,It.$("p.type")),this._docs=It.append(this._body,It.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(function(t){t.hasChanged(48)&&i._configureFont()}))}return Object(P.a)(s,[{key:"dispose",value:function(){this._disposables.dispose(),this._renderDisposeable.dispose()}},{key:"_configureFont",value:function(){var e=this._editor.getOptions(),i=e.get(48),t=i.getMassagedFontFamily(),n=e.get(115)||i.fontSize,r=e.get(116)||i.lineHeight,l=i.fontWeight,c="".concat(n,"px"),h="".concat(r,"px");this.domNode.style.fontSize=c,this.domNode.style.lineHeight="".concat(r/n),this.domNode.style.fontWeight=l,this.domNode.style.fontFeatureSettings=i.fontFeatureSettings,this._type.style.fontFamily=t,this._close.style.height=h,this._close.style.width=h}},{key:"getLayoutInfo",value:function(){var e=this._editor.getOption(116)||this._editor.getOption(48).lineHeight,i=this._borderWidth,t=i*2;return{lineHeight:e,borderWidth:i,borderHeight:t,verticalPadding:22,horizontalPadding:14}}},{key:"renderLoading",value:function(){this._type.textContent=We.b("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}},{key:"renderItem",value:function(e,i){var t=this,n,r;this._renderDisposeable.clear();var l=e.completion,c=l.detail,h=l.documentation;if(i){var f="";f+="score: ".concat(e.score[0],`
`),f+="prefix: ".concat((n=e.word)!==null&&n!==void 0?n:"(no prefix)",`
`),f+="word: ".concat(e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel,`
`),f+="distance: ".concat(e.distance,` (localityBonus-setting)
`),f+="index: ".concat(e.idx,", based on ").concat(e.completion.sortText&&'sortText: "'.concat(e.completion.sortText,'"')||"label",`
`),f+="commit_chars: ".concat((r=e.completion.commitCharacters)===null||r===void 0?void 0:r.join(""),`
`),h=new Sn.a().appendCodeblock("empty",f),c="Provider: ".concat(e.provider._debugDisplayName)}if(!i&&!Ep(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),c){var R=c.length>1e5?"".concat(c.substr(0,1e5),"\u2026"):c;this._type.textContent=R,this._type.title=R,It.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(R))}else It.clearNode(this._type),this._type.title="",It.hide(this._type),this.domNode.classList.add("no-type");if(It.clearNode(this._docs),typeof h=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=h;else if(h){this._docs.classList.add("markdown-docs"),It.clearNode(this._docs);var X=this._markdownRenderer.render(h);this._docs.appendChild(X.element),this._renderDisposeable.add(X),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(function(){t.layout(t._size.width,t._type.clientHeight+t._docs.clientHeight),t._onDidChangeContents.fire(t)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=function(oe){oe.preventDefault(),oe.stopPropagation()},this._close.onclick=function(oe){oe.preventDefault(),oe.stopPropagation(),t._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}},{key:"clearContents",value:function(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}},{key:"size",get:function(){return this._size}},{key:"layout",value:function(e,i){var t=new It.Dimension(e,i);It.Dimension.equals(t,this._size)||(this._size=t,It.size(this.domNode,e,i)),this._scrollbar.scanDomNode()}},{key:"scrollDown",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;this._body.scrollTop+=e}},{key:"scrollUp",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;this._body.scrollTop-=e}},{key:"scrollTop",value:function(){this._body.scrollTop=0}},{key:"scrollBottom",value:function(){this._body.scrollTop=this._body.scrollHeight}},{key:"pageDown",value:function(){this.scrollDown(80)}},{key:"pageUp",value:function(){this.scrollUp(80)}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(e){this._borderWidth=e}}]),s}();Lp=_k([Ck(1,ia.a)],Lp);var Ok=function(){function s(o,e){var i=this;Object(A.a)(this,s),this.widget=o,this._editor=e,this._disposables=new Ye.c,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new E_,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(o.domNode),this._resizable.enableSashes(!1,!0,!0,!1);var t,n,r=0,l=0;this._disposables.add(this._resizable.onDidWillResize(function(){t=i._topLeft,n=i._resizable.size})),this._disposables.add(this._resizable.onDidResize(function(c){if(t&&n){i.widget.layout(c.dimension.width,c.dimension.height);var h=!1;c.west&&(l=n.width-c.dimension.width,h=!0),c.north&&(r=n.height-c.dimension.height,h=!0),h&&i._applyTopLeft({top:t.top+r,left:t.left+l})}c.done&&(t=void 0,n=void 0,r=0,l=0,i._userSize=c.dimension)})),this._disposables.add(this.widget.onDidChangeContents(function(){var c;i._anchorBox&&i._placeAtAnchor(i._anchorBox,(c=i._userSize)!==null&&c!==void 0?c:i.widget.size,i._preferAlignAtTop)}))}return Object(P.a)(s,[{key:"dispose",value:function(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}},{key:"getId",value:function(){return"suggest.details"}},{key:"getDomNode",value:function(){return this._resizable.domNode}},{key:"getPosition",value:function(){return null}},{key:"show",value:function(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}},{key:"hide",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}},{key:"placeAtAnchor",value:function(e,i){var t,n=e.getBoundingClientRect();this._anchorBox=n,this._preferAlignAtTop=i,this._placeAtAnchor(this._anchorBox,(t=this._userSize)!==null&&t!==void 0?t:this.widget.size,i)}},{key:"_placeAtAnchor",value:function(e,i,t){var n,r=It.getClientArea(document.body),l=this.widget.getLayoutInfo(),c=new It.Dimension(220,2*l.lineHeight),h=e.top,f=function(){var sn=r.width-(e.left+e.width+l.borderWidth+l.horizontalPadding),qn=-l.borderWidth+e.left+e.width,Hn=new It.Dimension(sn,r.height-e.top-l.borderHeight-l.verticalPadding),fi=Hn.with(void 0,e.top+e.height-l.borderHeight-l.verticalPadding);return{top:h,left:qn,fit:sn-i.width,maxSizeTop:Hn,maxSizeBottom:fi,minSize:c.with(Math.min(sn,c.width))}}(),R=function(){var sn=e.left-l.borderWidth-l.horizontalPadding,qn=Math.max(l.horizontalPadding,e.left-i.width-l.borderWidth),Hn=new It.Dimension(sn,r.height-e.top-l.borderHeight-l.verticalPadding),fi=Hn.with(void 0,e.top+e.height-l.borderHeight-l.verticalPadding);return{top:h,left:qn,fit:sn-i.width,maxSizeTop:Hn,maxSizeBottom:fi,minSize:c.with(Math.min(sn,c.width))}}(),X=function(){var sn=e.left,qn=-l.borderWidth+e.top+e.height,Hn=new It.Dimension(e.width-l.borderHeight,r.height-e.top-e.height-l.verticalPadding);return{top:qn,left:sn,fit:Hn.height-i.height,maxSizeBottom:Hn,maxSizeTop:Hn,minSize:c.with(Hn.width)}}(),oe=[f,R,X],je=(n=oe.find(function(sn){return sn.fit>=0}))!==null&&n!==void 0?n:oe.sort(function(sn,qn){return qn.fit-sn.fit})[0],Me=e.top+e.height-l.borderHeight,st,gt=i.height,jt=Math.max(je.maxSizeTop.height,je.maxSizeBottom.height);gt>jt&&(gt=jt);var Xt;t?gt<=je.maxSizeTop.height?(st=!0,Xt=je.maxSizeTop):(st=!1,Xt=je.maxSizeBottom):gt<=je.maxSizeBottom.height?(st=!1,Xt=je.maxSizeBottom):(st=!0,Xt=je.maxSizeTop),this._applyTopLeft({left:je.left,top:st?je.top:Me-gt}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!st,je===f,st,je!==f),this._resizable.minSize=je.minSize,this._resizable.maxSize=Xt,this._resizable.layout(gt,Math.min(Xt.width,i.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}},{key:"_applyTopLeft",value:function(e){this._topLeft=e,this.getDomNode().style.left="".concat(this._topLeft.left,"px"),this.getDomNode().style.top="".concat(this._topLeft.top,"px")}}]),s}(),gd;(function(s){s[s.FILE=0]="FILE",s[s.FOLDER=1]="FOLDER",s[s.ROOT_FOLDER=2]="ROOT_FOLDER"})(gd||(gd={}));var Sk=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function zg(s,o,e,i){var t=i===gd.ROOT_FOLDER?["rootfolder-icon"]:i===gd.FOLDER?["folder-icon"]:["file-icon"];if(e){var n;if(e.scheme===no.c.data){var r=mo.a.parseMetaData(e);n=r.get(mo.a.META_DATA_LABEL)}else{var l=e.path.match(Sk);l?(n=Kg(l[2].toLowerCase()),l[1]&&t.push("".concat(Kg(l[1].toLowerCase()),"-name-dir-icon"))):n=Kg(e.authority.toLowerCase())}if(i===gd.FOLDER)t.push("".concat(n,"-name-folder-icon"));else{if(n){if(t.push("".concat(n,"-name-file-icon")),t.push("name-file-icon"),n.length<=255)for(var c=n.split("."),h=1;h<c.length;h++)t.push("".concat(c.slice(h).join("."),"-ext-file-icon"));t.push("ext-file-icon")}var f=kk(s,o,e);f&&t.push("".concat(Kg(f),"-lang-file-icon"))}}return t}function kk(s,o,e){if(!e)return null;var i=null;if(e.scheme===no.c.data){var t=mo.a.parseMetaData(e),n=t.get(mo.a.META_DATA_MIME);n&&(i=o.getLanguageIdByMimeType(n))}else{var r=s.getModel(e);r&&(i=r.getLanguageId())}return i&&i!==jd.b?i:o.guessLanguageIdByFilepathOrFirstLine(e)}function Kg(s){return s.replace(/[\11\12\14\15\40]/g,"/")}var Dk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Mp=function(s,o){return function(e,i){o(e,i,s)}},Fv;function L_(s){return"suggest-aria-id:".concat(s)}var wk=Object(be.b)("suggest-more-info",Tr.a.chevronRight,We.b("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),jk=new(Fv=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"extract",value:function(e,i){if(e.textLabel.match(s._regexStrict))return i[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(s._regexStrict))return i[0]=e.completion.detail,!0;if(typeof e.completion.documentation=="string"){var t=s._regexRelaxed.exec(e.completion.documentation);if(t&&(t.index===0||t.index+t[0].length===e.completion.documentation.length))return i[0]=t[0],!0}return!1}}]),s}(),Fv._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Fv._regexStrict=new RegExp("^".concat(Fv._regexRelaxed.source,"$"),"i"),Fv),Tp=function(){function s(o,e,i,t){Object(A.a)(this,s),this._editor=o,this._modelService=e,this._languageService=i,this._themeService=t,this._onDidToggleDetails=new ca.b,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}return Object(P.a)(s,[{key:"dispose",value:function(){this._onDidToggleDetails.dispose()}},{key:"renderTemplate",value:function(e){var i=this,t=new Ye.c,n=e;n.classList.add("show-file-icons");var r=Object(It.append)(e,Object(It.$)(".icon")),l=Object(It.append)(r,Object(It.$)("span.colorspan")),c=Object(It.append)(e,Object(It.$)(".contents")),h=Object(It.append)(c,Object(It.$)(".main")),f=Object(It.append)(h,Object(It.$)(".icon-label.codicon")),R=Object(It.append)(h,Object(It.$)("span.left")),X=Object(It.append)(h,Object(It.$)("span.right")),oe=new Dc.a(R,{supportHighlights:!0,supportIcons:!0});t.add(oe);var je=Object(It.append)(R,Object(It.$)("span.signature-label")),Me=Object(It.append)(R,Object(It.$)("span.qualifier-label")),st=Object(It.append)(X,Object(It.$)("span.details-label")),gt=Object(It.append)(X,Object(It.$)("span.readMore"+Fa.a.asCSSSelector(wk)));gt.title=We.b("readMore","Read More");var jt=function(){var sn=i._editor.getOptions(),qn=sn.get(48),Hn=qn.getMassagedFontFamily(),fi=qn.fontFeatureSettings,Ci=sn.get(115)||qn.fontSize,wi=sn.get(116)||qn.lineHeight,Ai=qn.fontWeight,jr=qn.letterSpacing,dr="".concat(Ci,"px"),Dr="".concat(wi,"px"),Kr="".concat(jr,"px");n.style.fontSize=dr,n.style.fontWeight=Ai,n.style.letterSpacing=Kr,h.style.fontFamily=Hn,h.style.fontFeatureSettings=fi,h.style.lineHeight=Dr,r.style.height=Dr,r.style.width=Dr,gt.style.height=Dr,gt.style.width=Dr};return jt(),t.add(this._editor.onDidChangeConfiguration(function(Xt){(Xt.hasChanged(48)||Xt.hasChanged(115)||Xt.hasChanged(116))&&jt()})),{root:n,left:R,right:X,icon:r,colorspan:l,iconLabel:oe,iconContainer:f,parametersLabel:je,qualifierLabel:Me,detailsLabel:st,readMore:gt,disposables:t}}},{key:"renderElement",value:function(e,i,t){var n=this,r=e.completion;t.root.id=L_(i),t.colorspan.style.backgroundColor="";var l={labelEscapeNewLines:!0,matches:Object(gs.d)(e.score)},c=[];if(r.kind===19&&jk.extract(e,c))t.icon.className="icon customcolor",t.iconContainer.className="icon hide",t.colorspan.style.backgroundColor=c[0];else if(r.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){t.icon.className="icon hide",t.iconContainer.className="icon hide";var h=zg(this._modelService,this._languageService,_r.a.from({scheme:"fake",path:e.textLabel}),gd.FILE),f=zg(this._modelService,this._languageService,_r.a.from({scheme:"fake",path:r.detail}),gd.FILE);l.extraClasses=h.length>f.length?h:f}else if(r.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons)t.icon.className="icon hide",t.iconContainer.className="icon hide",l.extraClasses=[zg(this._modelService,this._languageService,_r.a.from({scheme:"fake",path:e.textLabel}),gd.FOLDER),zg(this._modelService,this._languageService,_r.a.from({scheme:"fake",path:r.detail}),gd.FOLDER)].flat();else{var R;t.icon.className="icon hide",t.iconContainer.className="",(R=t.iconContainer.classList).add.apply(R,["suggest-icon"].concat(Object(on.a)(Fa.a.asClassNameArray(so.b.toIcon(r.kind)))))}r.tags&&r.tags.indexOf(1)>=0&&(l.extraClasses=(l.extraClasses||[]).concat(["deprecated"]),l.matches=[]),t.iconLabel.setLabel(e.textLabel,void 0,l),typeof r.label=="string"?(t.parametersLabel.textContent="",t.detailsLabel.textContent=Ip(r.detail||""),t.root.classList.add("string-label")):(t.parametersLabel.textContent=Ip(r.label.detail||""),t.detailsLabel.textContent=Ip(r.label.description||""),t.root.classList.remove("string-label")),this._editor.getOption(114).showInlineDetails?Object(It.show)(t.detailsLabel):Object(It.hide)(t.detailsLabel),Ep(e)?(t.right.classList.add("can-expand-details"),Object(It.show)(t.readMore),t.readMore.onmousedown=function(X){X.stopPropagation(),X.preventDefault()},t.readMore.onclick=function(X){X.stopPropagation(),X.preventDefault(),n._onDidToggleDetails.fire()}):(t.right.classList.remove("can-expand-details"),Object(It.hide)(t.readMore),t.readMore.onmousedown=null,t.readMore.onclick=null)}},{key:"disposeTemplate",value:function(e){e.disposables.dispose()}}]),s}();Tp=Dk([Mp(1,Jr.a),Mp(2,Ti.a),Mp(3,si.b)],Tp);function Ip(s){return s.replace(/\r\n|\r|\n/g,"")}var Ek=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Gg=function(s,o){return function(e,i){o(e,i,s)}},Lk=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};Object(lt.Fc)("editorSuggestWidget.background",{dark:lt.gb,light:lt.gb,hcDark:lt.gb,hcLight:lt.gb},We.b("editorSuggestWidgetBackground","Background color of the suggest widget.")),Object(lt.Fc)("editorSuggestWidget.border",{dark:lt.hb,light:lt.hb,hcDark:lt.hb,hcLight:lt.hb},We.b("editorSuggestWidgetBorder","Border color of the suggest widget."));var $g=Object(lt.Fc)("editorSuggestWidget.foreground",{dark:lt.O,light:lt.O,hcDark:lt.O,hcLight:lt.O},We.b("editorSuggestWidgetForeground","Foreground color of the suggest widget."));Object(lt.Fc)("editorSuggestWidget.selectedForeground",{dark:lt.Cc,light:lt.Cc,hcDark:lt.Cc,hcLight:lt.Cc},We.b("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),Object(lt.Fc)("editorSuggestWidget.selectedIconForeground",{dark:lt.Dc,light:lt.Dc,hcDark:lt.Dc,hcLight:lt.Dc},We.b("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));var Mk=Object(lt.Fc)("editorSuggestWidget.selectedBackground",{dark:lt.Bc,light:lt.Bc,hcDark:lt.Bc,hcLight:lt.Bc},We.b("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));Object(lt.Fc)("editorSuggestWidget.highlightForeground",{dark:lt.Ub,light:lt.Ub,hcDark:lt.Ub,hcLight:lt.Ub},We.b("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),Object(lt.Fc)("editorSuggestWidget.focusHighlightForeground",{dark:lt.Sb,light:lt.Sb,hcDark:lt.Sb,hcLight:lt.Sb},We.b("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),Object(lt.Fc)("editorSuggestWidgetStatus.foreground",{dark:Object(lt.Sc)($g,.5),light:Object(lt.Sc)($g,.5),hcDark:Object(lt.Sc)($g,.5),hcLight:Object(lt.Sc)($g,.5)},We.b("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));var Tk=function(){function s(o,e){Object(A.a)(this,s),this._service=o,this._key="suggestWidget.size/".concat(e.getEditorType(),"/").concat(e instanceof xa)}return Object(P.a)(s,[{key:"restore",value:function(){var e,i=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{var t=JSON.parse(i);if(It.Dimension.is(t))return It.Dimension.lift(t)}catch(n){}}},{key:"store",value:function(e){this._service.store(this._key,JSON.stringify(e),0,1)}},{key:"reset",value:function(){this._service.remove(this._key,0)}}]),s}(),Bv=function(){function s(o,e,i,t,n){var r=this;Object(A.a)(this,s),this.editor=o,this._storageService=e,this._state=0,this._isAuto=!1,this._pendingLayout=new Ye.e,this._pendingShowDetails=new Ye.e,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new mt.i,this._disposables=new Ye.c,this._onDidSelect=new ca.h,this._onDidFocus=new ca.h,this._onDidHide=new ca.b,this._onDidShow=new ca.b,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new ca.b,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new E_,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Ik(this,o),this._persistedSize=new Tk(e,o);var l=Object(P.a)(function oe(je,Me){var st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,gt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;Object(A.a)(this,oe),this.persistedSize=je,this.currentSize=Me,this.persistHeight=st,this.persistWidth=gt}),c;this._disposables.add(this.element.onDidWillResize(function(){r._contentWidget.lockPreference(),c=new l(r._persistedSize.restore(),r.element.size)})),this._disposables.add(this.element.onDidResize(function(oe){var je,Me,st,gt;if(r._resize(oe.dimension.width,oe.dimension.height),c&&(c.persistHeight=c.persistHeight||!!oe.north||!!oe.south,c.persistWidth=c.persistWidth||!!oe.east||!!oe.west),!!oe.done){if(c){var jt=r.getLayoutInfo(),Xt=jt.itemHeight,sn=jt.defaultSize,qn=Math.round(Xt/2),Hn=r.element.size,fi=Hn.width,Ci=Hn.height;(!c.persistHeight||Math.abs(c.currentSize.height-Ci)<=qn)&&(Ci=(Me=(je=c.persistedSize)===null||je===void 0?void 0:je.height)!==null&&Me!==void 0?Me:sn.height),(!c.persistWidth||Math.abs(c.currentSize.width-fi)<=qn)&&(fi=(gt=(st=c.persistedSize)===null||st===void 0?void 0:st.width)!==null&&gt!==void 0?gt:sn.width),r._persistedSize.store(new It.Dimension(fi,Ci))}r._contentWidget.unlockPreference(),c=void 0}})),this._messageElement=It.append(this.element.domNode,It.$(".message")),this._listElement=It.append(this.element.domNode,It.$(".tree"));var h=n.createInstance(Lp,this.editor);h.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Ok(h,this.editor);var f=function(){return r.element.domNode.classList.toggle("no-icons",!r.editor.getOption(114).showIcons)};f();var R=n.createInstance(Tp,this.editor);this._disposables.add(R),this._disposables.add(R.onDidToggleDetails(function(){return r.toggleDetails()})),this._list=new Ku.b("SuggestWidget",this._listElement,{getHeight:function(je){return r.getLayoutInfo().itemHeight},getTemplateId:function(je){return"suggestion"}},[R],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:function(){return"option"},getWidgetAriaLabel:function(){return We.b("suggest","Suggest")},getWidgetRole:function(){return"listbox"},getAriaLabel:function(je){var Me=je.textLabel;if(typeof je.completion.label!="string"){var st=je.completion.label,gt=st.detail,jt=st.description;gt&&jt?Me=We.b("label.full","{0}{1}, {2}",Me,gt,jt):gt?Me=We.b("label.detail","{0}{1}",Me,gt):jt&&(Me=We.b("label.desc","{0}, {1}",Me,jt))}if(!je.isResolved||!r._isDetailsVisible())return Me;var Xt=je.completion,sn=Xt.documentation,qn=Xt.detail,Hn=vr.v("{0}{1}",qn||"",sn?typeof sn=="string"?sn:sn.value:"");return We.b("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",Me,Hn)}}}),this._list.style(Object(Gl.k)({listInactiveFocusBackground:Mk,listInactiveFocusOutline:lt.b})),this._status=n.createInstance(jp,this.element.domNode,da);var X=function(){return r.element.domNode.classList.toggle("with-status-bar",r.editor.getOption(114).showStatusBar)};X(),this._disposables.add(t.onDidColorThemeChange(function(oe){return r._onThemeChange(oe)})),this._onThemeChange(t.getColorTheme()),this._disposables.add(this._list.onMouseDown(function(oe){return r._onListMouseDownOrTap(oe)})),this._disposables.add(this._list.onTap(function(oe){return r._onListMouseDownOrTap(oe)})),this._disposables.add(this._list.onDidChangeSelection(function(oe){return r._onListSelection(oe)})),this._disposables.add(this._list.onDidChangeFocus(function(oe){return r._onListFocus(oe)})),this._disposables.add(this.editor.onDidChangeCursorSelection(function(){return r._onCursorSelectionChanged()})),this._disposables.add(this.editor.onDidChangeConfiguration(function(oe){oe.hasChanged(114)&&(X(),f())})),this._ctxSuggestWidgetVisible=Sr.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=Sr.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=Sr.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=Sr.HasFocusedSuggestion.bindTo(i),this._disposables.add(It.addStandardDisposableListener(this._details.widget.domNode,"keydown",function(oe){r._onDetailsKeydown.fire(oe)})),this._disposables.add(this.editor.onMouseDown(function(oe){return r._onEditorMouseDown(oe)}))}return Object(P.a)(s,[{key:"dispose",value:function(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}},{key:"_onEditorMouseDown",value:function(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}},{key:"_onCursorSelectionChanged",value:function(){this._state!==0&&this._contentWidget.layout()}},{key:"_onListMouseDownOrTap",value:function(e){typeof e.element=="undefined"||typeof e.index=="undefined"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}},{key:"_onListSelection",value:function(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}},{key:"_select",value:function(e,i){var t=this._completionModel;t&&(this._onDidSelect.fire({item:e,index:i,model:t}),this.editor.focus())}},{key:"_onThemeChange",value:function(e){this._details.widget.borderWidth=Object(jf.c)(e.type)?2:1}},{key:"_onListFocus",value:function(e){var i=this,t;if(!this._ignoreFocusEvents){if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!!this._completionModel){this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);var n=e.elements[0],r=e.indexes[0];n!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=n,this._list.reveal(r),this._currentSuggestionDetails=Object(mt.k)(function(l){return Lk(i,void 0,void 0,Object(d.a)().mark(function c(){var h=this,f,R,X;return Object(d.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return f=Object(mt.l)(function(){h._isDetailsVisible()&&h.showDetails(!0)},250),R=l.onCancellationRequested(function(){return f.dispose()}),je.next=4,n.resolve(l);case 4:return X=je.sent,f.dispose(),R.dispose(),je.abrupt("return",X);case 8:case"end":return je.stop()}},c)}))}),this._currentSuggestionDetails.then(function(){r>=i._list.length||n!==i._list.element(r)||(i._ignoreFocusEvents=!0,i._list.splice(r,1,[n]),i._list.setFocus([r]),i._ignoreFocusEvents=!1,i._isDetailsVisible()?i.showDetails(!1):i.element.domNode.classList.remove("docs-side"),i.editor.setAriaOptions({activeDescendant:L_(r)}))}).catch(Li.h)),this._onDidFocus.fire({item:n,index:r,model:this._completionModel})}}}},{key:"_setState",value:function(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:It.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=s.LOADING_MESSAGE,It.hide(this._listElement,this._status.element),It.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=s.NO_SUGGESTIONS_MESSAGE,It.hide(this._listElement,this._status.element),It.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:It.hide(this._messageElement),It.show(this._listElement,this._status.element),this._show();break;case 4:It.hide(this._messageElement),It.show(this._listElement,this._status.element),this._show();break;case 5:It.hide(this._messageElement),It.show(this._listElement,this._status.element),this._details.show(),this._show();break}}},{key:"_show",value:function(){var e=this;this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(function(){e.element.domNode.classList.add("visible"),e._onDidShow.fire(e)},100)}},{key:"showTriggered",value:function(e,i){var t=this;this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=Object(mt.l)(function(){return t._setState(1)},i)))}},{key:"showSuggestions",value:function(e,i,t,n,r){var l=this,c,h;if(this._contentWidget.setPosition(this.editor.getPosition()),(c=this._loadingTimeout)===null||c===void 0||c.dispose(),(h=this._currentSuggestionDetails)===null||h===void 0||h.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),t&&this._state!==2&&this._state!==0){this._setState(4);return}var f=this._completionModel.items.length,R=f===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(f>1),R){this._setState(n?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(t?4:3),this._list.reveal(i,0),this._list.setFocus(r?[]:[i])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=It.runAtThisOrScheduleAtNextAnimationFrame(function(){l._pendingLayout.clear(),l._layout(l.element.size),l._details.widget.domNode.classList.remove("focused")})}},{key:"focusSelected",value:function(){this._list.length>0&&this._list.setFocus([0])}},{key:"selectNextPage",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}},{key:"selectNext",value:function(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}},{key:"selectLast",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}},{key:"selectPreviousPage",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}},{key:"selectPrevious",value:function(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}},{key:"selectFirst",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}},{key:"getFocusedItem",value:function(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}},{key:"toggleDetailsFocus",value:function(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}},{key:"toggleDetails",value:function(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Ep(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}},{key:"showDetails",value:function(e){var i=this;this._pendingShowDetails.value=It.runAtThisOrScheduleAtNextAnimationFrame(function(){i._pendingShowDetails.clear(),i._details.show(),e?i._details.widget.renderLoading():i._details.widget.renderItem(i._list.getFocusedElements()[0],i._explainMode),i._positionDetails(),i.editor.focus(),i.element.domNode.classList.add("shows-details")})}},{key:"toggleExplainMode",value:function(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}},{key:"resetPersistedSize",value:function(){this._persistedSize.reset()}},{key:"hideWidget",value:function(){var e;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();var i=this._persistedSize.restore(),t=Math.ceil(this.getLayoutInfo().itemHeight*4.3);i&&i.height<t&&this._persistedSize.store(i.with(void 0,t))}},{key:"isFrozen",value:function(){return this._state===4}},{key:"_afterRender",value:function(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}},{key:"_layout",value:function(e){var i,t,n;if(!!this.editor.hasModel()&&!!this.editor.getDomNode()){var r=It.getClientArea(document.body),l=this.getLayoutInfo();e||(e=l.defaultSize);var c=e.height,h=e.width;if(this._status.element.style.height="".concat(l.itemHeight,"px"),this._state===2||this._state===1)c=l.itemHeight+l.borderHeight,h=l.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new It.Dimension(h,c),this._contentWidget.setPreference(2);else{var f=r.width-l.borderHeight-2*l.horizontalPadding;h>f&&(h=f);var R=this._completionModel?this._completionModel.stats.pLabelLen*l.typicalHalfwidthCharacterWidth:h,X=l.statusBarHeight+this._list.contentHeight+l.borderHeight,oe=l.itemHeight+l.statusBarHeight,je=It.getDomNodePagePosition(this.editor.getDomNode()),Me=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),st=je.top+Me.top+Me.height,gt=Math.min(r.height-st-l.verticalPadding,X),jt=je.top+Me.top-l.verticalPadding,Xt=Math.min(jt,X),sn=Math.min(Math.max(Xt,gt)+l.borderHeight,X);c===((i=this._cappedHeight)===null||i===void 0?void 0:i.capped)&&(c=this._cappedHeight.wanted),c<oe&&(c=oe),c>sn&&(c=sn);var qn=150;c>gt||this._forceRenderingAbove&&jt>qn?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),sn=Xt):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),sn=gt),this.element.preferredSize=new It.Dimension(R,l.defaultSize.height),this.element.maxSize=new It.Dimension(f,sn),this.element.minSize=new It.Dimension(220,oe),this._cappedHeight=c===X?{wanted:(n=(t=this._cappedHeight)===null||t===void 0?void 0:t.wanted)!==null&&n!==void 0?n:e.height,capped:c}:void 0}this._resize(h,c)}}},{key:"_resize",value:function(e,i){var t=this.element.maxSize,n=t.width,r=t.height;e=Math.min(n,e),i=Math.min(r,i);var l=this.getLayoutInfo(),c=l.statusBarHeight;this._list.layout(i-c,e),this._listElement.style.height="".concat(i-c,"px"),this.element.layout(i,e),this._contentWidget.layout(),this._positionDetails()}},{key:"_positionDetails",value:function(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}},{key:"getLayoutInfo",value:function(){var e=this.editor.getOption(48),i=Object(pk.c)(this.editor.getOption(116)||e.lineHeight,8,1e3),t=!this.editor.getOption(114).showStatusBar||this._state===2||this._state===1?0:i,n=this._details.widget.borderWidth,r=2*n;return{itemHeight:i,statusBarHeight:t,borderWidth:n,borderHeight:r,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new It.Dimension(430,t+12*i+r)}}},{key:"_isDetailsVisible",value:function(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}},{key:"_setDetailsVisible",value:function(e){this._storageService.store("expandSuggestionDocs",e,0,0)}},{key:"forceRenderingAbove",value:function(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}},{key:"stopForceRenderingAbove",value:function(){this._forceRenderingAbove=!1}}]),s}();Bv.LOADING_MESSAGE=We.b("suggestWidget.loading","Loading..."),Bv.NO_SUGGESTIONS_MESSAGE=We.b("suggestWidget.noSuggestions","No suggestions."),Bv=Ek([Gg(1,el.a),Gg(2,Tn.b),Gg(3,si.b),Gg(4,ia.a)],Bv);var Ik=function(){function s(o,e){Object(A.a)(this,s),this._widget=o,this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}return Object(P.a)(s,[{key:"dispose",value:function(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}},{key:"getId",value:function(){return"editor.widget.suggestWidget"}},{key:"getDomNode",value:function(){return this._widget.element.domNode}},{key:"show",value:function(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}},{key:"hide",value:function(){this._hidden||(this._hidden=!0,this.layout())}},{key:"layout",value:function(){this._editor.layoutContentWidget(this)}},{key:"getPosition",value:function(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}},{key:"beforeRender",value:function(){var e=this._widget.element.size,i=e.height,t=e.width,n=this._widget.getLayoutInfo(),r=n.borderWidth,l=n.horizontalPadding;return new It.Dimension(t+2*r+l,i+2*r)}},{key:"afterRender",value:function(e){this._widget._afterRender(e)}},{key:"setPreference",value:function(e){this._preferenceLocked||(this._preference=e)}},{key:"lockPreference",value:function(){this._preferenceLocked=!0}},{key:"unlockPreference",value:function(){this._preferenceLocked=!1}},{key:"setPosition",value:function(e){this._position=e}}]),s}(),Pk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Af=function(s,o){return function(e,i){o(e,i,s)}},Ak=!1,Rk=function(){function s(o,e){Object(A.a)(this,s),this._model=o,this._position=e;var i=o.getLineMaxColumn(e.lineNumber);if(i!==e.column){var t=o.getOffsetAt(e),n=o.getPositionAt(t+1);this._marker=o.deltaDecorations([],[{range:Ze.a.fromPositions(e,n),options:{description:"suggest-line-suffix",stickiness:1}}])}}return Object(P.a)(s,[{key:"dispose",value:function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}},{key:"delta",value:function(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){var i=this._model.getDecorationRange(this._marker[0]),t=this._model.getOffsetAt(i.getStartPosition());return t-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}}]),s}(),Vu=function(){function s(o,e,i,t,n,r,l){var c=this;Object(A.a)(this,s),this._memoryService=e,this._commandService=i,this._contextKeyService=t,this._instantiationService=n,this._logService=r,this._telemetryService=l,this._lineSuffix=new Ye.e,this._toDispose=new Ye.c,this._selectors=new Nk(function(X){return X.priority}),this._telemetryGate=0,this.editor=o,this.model=n.createInstance(Dp,this.editor),this._selectors.register({priority:0,select:function(oe,je,Me){return c._memoryService.select(oe,je,Me)}});var h=Sr.InsertMode.bindTo(t);h.set(o.getOption(114).insertMode),this.model.onDidTrigger(function(){return h.set(o.getOption(114).insertMode)}),this.widget=this._toDispose.add(new mt.d(function(){var X=c._instantiationService.createInstance(Bv,c.editor);c._toDispose.add(X),c._toDispose.add(X.onDidSelect(function(gt){return c._insertSuggestion(gt,0)},c));var oe=new ck(c.editor,X,c.model,function(gt){return c._insertSuggestion(gt,2)});c._toDispose.add(oe);var je=Sr.MakesTextEdit.bindTo(c._contextKeyService),Me=Sr.HasInsertAndReplaceRange.bindTo(c._contextKeyService),st=Sr.CanResolve.bindTo(c._contextKeyService);return c._toDispose.add(Object(Ye.l)(function(){je.reset(),Me.reset(),st.reset()})),c._toDispose.add(X.onDidFocus(function(gt){var jt=gt.item,Xt=c.editor.getPosition(),sn=jt.editStart.column,qn=Xt.column,Hn=!0;if(c.editor.getOption(1)==="smart"&&c.model.state===2&&!jt.completion.additionalTextEdits&&!(jt.completion.insertTextRules&4)&&qn-sn===jt.completion.insertText.length){var fi=c.editor.getModel().getValueInRange({startLineNumber:Xt.lineNumber,startColumn:sn,endLineNumber:Xt.lineNumber,endColumn:qn});Hn=fi!==jt.completion.insertText}je.set(Hn),Me.set(!nt.a.equals(jt.editInsertEnd,jt.editReplaceEnd)),st.set(Boolean(jt.provider.resolveCompletionItem)||Boolean(jt.completion.documentation)||jt.completion.detail!==jt.completion.label)})),c._toDispose.add(X.onDetailsKeyDown(function(gt){if(gt.toKeyCodeChord().equals(new O_.a(!0,!1,!1,!1,33))||Mt.i&&gt.toKeyCodeChord().equals(new O_.a(!1,!1,!1,!0,33))){gt.stopPropagation();return}gt.toKeyCodeChord().isModifierKey()||c.editor.focus()})),X})),this._overtypingCapturer=this._toDispose.add(new mt.d(function(){return c._toDispose.add(new j_(c.editor,c.model))})),this._alternatives=this._toDispose.add(new mt.d(function(){return c._toDispose.add(new Ph(c.editor,c._contextKeyService))})),this._toDispose.add(n.createInstance(xv,o)),this._toDispose.add(this.model.onDidTrigger(function(X){c.widget.value.showTriggered(X.auto,X.shy?250:50),c._lineSuffix.value=new Rk(c.editor.getModel(),X.position)})),this._toDispose.add(this.model.onDidSuggest(function(X){if(!X.triggerOptions.shy){var oe=-1,je=Object(G.a)(c._selectors.itemsOrderedByPriorityDesc),Me;try{for(je.s();!(Me=je.n()).done;){var st=Me.value;if(oe=st.select(c.editor.getModel(),c.editor.getPosition(),X.completionModel.items),oe!==-1)break}}catch(Xt){je.e(Xt)}finally{je.f()}oe===-1&&(oe=0);var gt=!1;if(X.triggerOptions.auto){var jt=c.editor.getOption(114);jt.selectionMode==="never"||jt.selectionMode==="always"?gt=jt.selectionMode==="never":jt.selectionMode==="whenTriggerCharacter"?gt=X.triggerOptions.triggerKind!==1:jt.selectionMode==="whenQuickSuggestion"&&(gt=X.triggerOptions.triggerKind===1&&!X.triggerOptions.refilter)}c.widget.value.showSuggestions(X.completionModel,oe,X.isFrozen,X.triggerOptions.auto,gt)}})),this._toDispose.add(this.model.onDidCancel(function(X){X.retrigger||c.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(function(){Ak||(c.model.cancel(),c.model.clear())}));var f=Sr.AcceptSuggestionsOnEnter.bindTo(t),R=function(){var oe=c.editor.getOption(1);f.set(oe==="on"||oe==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(function(){return R()})),R()}return Object(P.a)(s,[{key:"dispose",value:function(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}},{key:"_insertSuggestion",value:function(e,i){var t=this;if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!!this.editor.hasModel()){var n=Fs.get(this.editor);if(!!n){var r=this.editor.getModel(),l=r.getAlternativeVersionId(),c=e.item,h=[],f=new Zn.b;i&1||this.editor.pushUndoStop();var R=this.getOverwriteInfo(c,Boolean(i&8));if(this._memoryService.memorize(r,this.editor.getPosition(),c),Array.isArray(c.completion.additionalTextEdits)){this.model.cancel();var X=pc.a.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",c.completion.additionalTextEdits.map(function(qn){return Jo.a.replaceMove(Ze.a.lift(qn.range),qn.text)})),X.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!c.isResolved){var oe=new fs.a(!0),je,Me=r.onDidChangeContent(function(qn){if(qn.isFlush){f.cancel(),Me.dispose();return}var Hn=Object(G.a)(qn.changes),fi;try{for(Hn.s();!(fi=Hn.n()).done;){var Ci=fi.value,wi=Ze.a.getEndPosition(Ci.range);(!je||nt.a.isBefore(wi,je))&&(je=wi)}}catch(Ai){Hn.e(Ai)}finally{Hn.f()}}),st=i;i|=2;var gt=!1,jt=this.editor.onWillType(function(){jt.dispose(),gt=!0,st&2||t.editor.pushUndoStop()});h.push(c.resolve(f.token).then(function(){if(!c.completion.additionalTextEdits||f.token.isCancellationRequested||je&&c.completion.additionalTextEdits.some(function(Hn){return nt.a.isBefore(je,Ze.a.getStartPosition(Hn.range))}))return!1;gt&&t.editor.pushUndoStop();var qn=pc.a.capture(t.editor);return t.editor.executeEdits("suggestController.additionalTextEdits.async",c.completion.additionalTextEdits.map(function(Hn){return Jo.a.replaceMove(Ze.a.lift(Hn.range),Hn.text)})),qn.restoreRelativeVerticalPositionOfCursor(t.editor),(gt||!(st&2))&&t.editor.pushUndoStop(),!0}).then(function(qn){t._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",oe.elapsed(),qn),Me.dispose(),jt.dispose()}))}var Xt=c.completion.insertText;if(c.completion.insertTextRules&4||(Xt=Ei.escape(Xt)),this.model.cancel(),n.insert(Xt,{overwriteBefore:R.overwriteBefore,overwriteAfter:R.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(c.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),i&2||this.editor.pushUndoStop(),c.completion.command)if(c.completion.command.id===Pp.id)this.model.trigger({auto:!0,retrigger:!0});else{var sn;h.push((sn=this._commandService).executeCommand.apply(sn,[c.completion.command.id].concat(Object(on.a)(c.completion.command.arguments?Object(on.a)(c.completion.command.arguments):[]))).catch(function(qn){c.completion.extensionId?Object(Li.i)(qn):Object(Li.h)(qn)}))}i&4&&this._alternatives.value.set(e,function(qn){for(f.cancel();r.canUndo();){l!==r.getAlternativeVersionId()&&r.undo(),t._insertSuggestion(qn,1|2|(i&8?8:0));break}}),this._alertCompletionItem(c),Promise.all(h).finally(function(){t._reportSuggestionAcceptedTelemetry(c,r,e),t.model.clear(),f.dispose()})}}}},{key:"_reportSuggestionAcceptedTelemetry",value:function(e,i,t){var n;if(this._telemetryGate++%100==0){var r=e.extensionId?e.extensionId.value:((n=t.item.provider._debugDisplayName)!==null&&n!==void 0?n:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:r,kind:e.completion.kind,basenameHash:Object(Gy.c)(Object(mo.b)(i.uri)).toString(16),languageId:i.getLanguageId(),fileExtension:Object(mo.f)(i.uri)})}}},{key:"getOverwriteInfo",value:function(e,i){Object(ya.b)(this.editor.hasModel());var t=this.editor.getOption(114).insertMode==="replace";i&&(t=!t);var n=e.position.column-e.editStart.column,r=(t?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,l=this.editor.getPosition().column-e.position.column,c=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:n+l,overwriteAfter:r+c}}},{key:"_alertCompletionItem",value:function(e){if(Object(Wn.s)(e.completion.additionalTextEdits)){var i=We.b("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);Object(Rn.a)(i)}}},{key:"triggerSuggest",value:function(e,i,t){this.editor.hasModel()&&(this.model.trigger({auto:i!=null?i:!1,completionOptions:{providerFilter:e,kindFilter:t?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}},{key:"triggerSuggestAndAcceptBest",value:function(e){var i=this;if(!!this.editor.hasModel()){var t=this.editor.getPosition(),n=function(){t.equals(i.editor.getPosition())&&i._commandService.executeCommand(e.fallback)},r=function(c){if(c.completion.insertTextRules&4||c.completion.additionalTextEdits)return!0;var h=i.editor.getPosition(),f=c.editStart.column,R=h.column;if(R-f!==c.completion.insertText.length)return!0;var X=i.editor.getModel().getValueInRange({startLineNumber:h.lineNumber,startColumn:f,endLineNumber:h.lineNumber,endColumn:R});return X!==c.completion.insertText};ca.c.once(this.model.onDidTrigger)(function(l){var c=[];ca.c.any(i.model.onDidTrigger,i.model.onDidCancel)(function(){Object(Ye.i)(c),n()},void 0,c),i.model.onDidSuggest(function(h){var f=h.completionModel;if(Object(Ye.i)(c),f.items.length===0){n();return}var R=i._memoryService.select(i.editor.getModel(),i.editor.getPosition(),f.items),X=f.items[R];if(!r(X)){n();return}i.editor.pushUndoStop(),i._insertSuggestion({index:R,item:X,model:f},4|1|2)},void 0,c)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}}},{key:"acceptSelectedSuggestion",value:function(e,i){var t=this.widget.value.getFocusedItem(),n=0;e&&(n|=4),i&&(n|=8),this._insertSuggestion(t,n)}},{key:"acceptNextSuggestion",value:function(){this._alternatives.value.next()}},{key:"acceptPrevSuggestion",value:function(){this._alternatives.value.prev()}},{key:"cancelSuggestWidget",value:function(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}},{key:"focusSuggestion",value:function(){this.widget.value.focusSelected()}},{key:"selectNextSuggestion",value:function(){this.widget.value.selectNext()}},{key:"selectNextPageSuggestion",value:function(){this.widget.value.selectNextPage()}},{key:"selectLastSuggestion",value:function(){this.widget.value.selectLast()}},{key:"selectPrevSuggestion",value:function(){this.widget.value.selectPrevious()}},{key:"selectPrevPageSuggestion",value:function(){this.widget.value.selectPreviousPage()}},{key:"selectFirstSuggestion",value:function(){this.widget.value.selectFirst()}},{key:"toggleSuggestionDetails",value:function(){this.widget.value.toggleDetails()}},{key:"toggleExplainMode",value:function(){this.widget.value.toggleExplainMode()}},{key:"toggleSuggestionFocus",value:function(){this.widget.value.toggleDetailsFocus()}},{key:"resetWidgetSize",value:function(){this.widget.value.resetPersistedSize()}},{key:"forceRenderingAbove",value:function(){this.widget.value.forceRenderingAbove()}},{key:"stopForceRenderingAbove",value:function(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}},{key:"registerSelector",value:function(e){return this._selectors.register(e)}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();Vu.ID="editor.contrib.suggestController",Vu=Pk([Af(1,Vg),Af(2,$r.b),Af(3,Tn.b),Af(4,ia.a),Af(5,Ng.b),Af(6,Ka.a)],Vu);var Nk=function(){function s(o){Object(A.a)(this,s),this.prioritySelector=o,this._items=new Array}return Object(P.a)(s,[{key:"register",value:function(e){var i=this;if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort(function(t,n){return i.prioritySelector(n)-i.prioritySelector(t)}),{dispose:function(){var n=i._items.indexOf(e);n>=0&&i._items.splice(n,1)}}}},{key:"itemsOrderedByPriorityDesc",get:function(){return this._items}}]),s}(),Pp=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.id,label:We.b("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Tn.a.and(Ut.a.writable,Ut.a.hasCompletionItemProvider,Sr.Visible.toNegated()),kbOpts:{kbExpr:Ut.a.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){var l=Vu.get(n);if(!!l){var c;r&&typeof r=="object"&&r.auto===!0&&(c=!0),l.triggerSuggest(void 0,c,void 0)}}}]),e}(wt.b);Pp.id="editor.action.triggerSuggest",Object(wt.m)(Vu.ID,Vu,2),Object(wt.k)(Pp);var su=100+90,dl=wt.d.bindToContribution(Vu.get);Object(wt.l)(new dl({id:"acceptSelectedSuggestion",precondition:Tn.a.and(Sr.Visible,Sr.HasFocusedSuggestion),handler:function(o){o.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:Tn.a.and(Sr.Visible,Ut.a.textInputFocus),weight:su},{primary:3,kbExpr:Tn.a.and(Sr.Visible,Ut.a.textInputFocus,Sr.AcceptSuggestionsOnEnter,Sr.MakesTextEdit),weight:su}],menuOpts:[{menuId:da,title:We.b("accept.insert","Insert"),group:"left",order:1,when:Sr.HasInsertAndReplaceRange.toNegated()},{menuId:da,title:We.b("accept.insert","Insert"),group:"left",order:1,when:Tn.a.and(Sr.HasInsertAndReplaceRange,Sr.InsertMode.isEqualTo("insert"))},{menuId:da,title:We.b("accept.replace","Replace"),group:"left",order:1,when:Tn.a.and(Sr.HasInsertAndReplaceRange,Sr.InsertMode.isEqualTo("replace"))}]})),Object(wt.l)(new dl({id:"acceptAlternativeSelectedSuggestion",precondition:Tn.a.and(Sr.Visible,Ut.a.textInputFocus,Sr.HasFocusedSuggestion),kbOpts:{weight:su,kbExpr:Ut.a.textInputFocus,primary:1024|3,secondary:[1024|2]},handler:function(o){o.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:da,group:"left",order:2,when:Tn.a.and(Sr.HasInsertAndReplaceRange,Sr.InsertMode.isEqualTo("insert")),title:We.b("accept.replace","Replace")},{menuId:da,group:"left",order:2,when:Tn.a.and(Sr.HasInsertAndReplaceRange,Sr.InsertMode.isEqualTo("replace")),title:We.b("accept.insert","Insert")}]})),$r.a.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),Object(wt.l)(new dl({id:"hideSuggestWidget",precondition:Sr.Visible,handler:function(o){return o.cancelSuggestWidget()},kbOpts:{weight:su,kbExpr:Ut.a.textInputFocus,primary:9,secondary:[1024|9]}})),Object(wt.l)(new dl({id:"selectNextSuggestion",precondition:Tn.a.and(Sr.Visible,Tn.a.or(Sr.MultipleSuggestions,Sr.HasFocusedSuggestion.negate())),handler:function(o){return o.selectNextSuggestion()},kbOpts:{weight:su,kbExpr:Ut.a.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),Object(wt.l)(new dl({id:"selectNextPageSuggestion",precondition:Tn.a.and(Sr.Visible,Tn.a.or(Sr.MultipleSuggestions,Sr.HasFocusedSuggestion.negate())),handler:function(o){return o.selectNextPageSuggestion()},kbOpts:{weight:su,kbExpr:Ut.a.textInputFocus,primary:12,secondary:[2048|12]}})),Object(wt.l)(new dl({id:"selectLastSuggestion",precondition:Tn.a.and(Sr.Visible,Tn.a.or(Sr.MultipleSuggestions,Sr.HasFocusedSuggestion.negate())),handler:function(o){return o.selectLastSuggestion()}})),Object(wt.l)(new dl({id:"selectPrevSuggestion",precondition:Tn.a.and(Sr.Visible,Tn.a.or(Sr.MultipleSuggestions,Sr.HasFocusedSuggestion.negate())),handler:function(o){return o.selectPrevSuggestion()},kbOpts:{weight:su,kbExpr:Ut.a.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),Object(wt.l)(new dl({id:"selectPrevPageSuggestion",precondition:Tn.a.and(Sr.Visible,Tn.a.or(Sr.MultipleSuggestions,Sr.HasFocusedSuggestion.negate())),handler:function(o){return o.selectPrevPageSuggestion()},kbOpts:{weight:su,kbExpr:Ut.a.textInputFocus,primary:11,secondary:[2048|11]}})),Object(wt.l)(new dl({id:"selectFirstSuggestion",precondition:Tn.a.and(Sr.Visible,Tn.a.or(Sr.MultipleSuggestions,Sr.HasFocusedSuggestion.negate())),handler:function(o){return o.selectFirstSuggestion()}})),Object(wt.l)(new dl({id:"focusSuggestion",precondition:Tn.a.and(Sr.Visible,Sr.HasFocusedSuggestion.negate()),handler:function(o){return o.focusSuggestion()},kbOpts:{weight:su,kbExpr:Ut.a.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}}})),Object(wt.l)(new dl({id:"focusAndAcceptSuggestion",precondition:Tn.a.and(Sr.Visible,Sr.HasFocusedSuggestion.negate()),handler:function(o){o.focusSuggestion(),o.acceptSelectedSuggestion(!0,!1)}})),Object(wt.l)(new dl({id:"toggleSuggestionDetails",precondition:Tn.a.and(Sr.Visible,Sr.HasFocusedSuggestion),handler:function(o){return o.toggleSuggestionDetails()},kbOpts:{weight:su,kbExpr:Ut.a.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:da,group:"right",order:1,when:Tn.a.and(Sr.DetailsVisible,Sr.CanResolve),title:We.b("detail.more","show less")},{menuId:da,group:"right",order:1,when:Tn.a.and(Sr.DetailsVisible.toNegated(),Sr.CanResolve),title:We.b("detail.less","show more")}]})),Object(wt.l)(new dl({id:"toggleExplainMode",precondition:Sr.Visible,handler:function(o){return o.toggleExplainMode()},kbOpts:{weight:100,primary:2048|90}})),Object(wt.l)(new dl({id:"toggleSuggestionFocus",precondition:Sr.Visible,handler:function(o){return o.toggleSuggestionFocus()},kbOpts:{weight:su,kbExpr:Ut.a.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),Object(wt.l)(new dl({id:"insertBestCompletion",precondition:Tn.a.and(Ut.a.textInputFocus,Tn.a.equals("config.editor.tabCompletion","on"),xv.AtEnd,Sr.Visible.toNegated(),Ph.OtherSuggestions.toNegated(),Fs.InSnippetMode.toNegated()),handler:function(o,e){o.triggerSuggestAndAcceptBest(Object(ya.h)(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:su,primary:2}})),Object(wt.l)(new dl({id:"insertNextSuggestion",precondition:Tn.a.and(Ut.a.textInputFocus,Tn.a.equals("config.editor.tabCompletion","on"),Ph.OtherSuggestions,Sr.Visible.toNegated(),Fs.InSnippetMode.toNegated()),handler:function(o){return o.acceptNextSuggestion()},kbOpts:{weight:su,kbExpr:Ut.a.textInputFocus,primary:2}})),Object(wt.l)(new dl({id:"insertPrevSuggestion",precondition:Tn.a.and(Ut.a.textInputFocus,Tn.a.equals("config.editor.tabCompletion","on"),Ph.OtherSuggestions,Sr.Visible.toNegated(),Fs.InSnippetMode.toNegated()),handler:function(o){return o.acceptPrevSuggestion()},kbOpts:{weight:su,kbExpr:Ut.a.textInputFocus,primary:1024|2}})),Object(wt.k)(function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.resetSuggestSize",label:We.b("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;(r=Vu.get(n))===null||r===void 0||r.resetWidgetSize()}}]),e}(wt.b));var xk=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;Object(A.a)(this,e),r=o.call(this),r.editor=i,r.suggestControllerPreselector=t,r.checkModelVersion=n,r.isSuggestWidgetVisible=!1,r.isShiftKeyPressed=!1,r._isActive=!1,r._currentSuggestItemInfo=void 0,r._selectedItem=Cf("suggestWidgetInlineCompletionProvider.selectedItem",void 0),r._register(i.onKeyDown(function(f){f.shiftKey&&!r.isShiftKeyPressed&&(r.isShiftKeyPressed=!0,r.update(r._isActive))})),r._register(i.onKeyUp(function(f){f.shiftKey&&r.isShiftKeyPressed&&(r.isShiftKeyPressed=!1,r.update(r._isActive))}));var l=Vu.get(r.editor);if(l){r._register(l.registerSelector({priority:100,select:function(R,X,oe){var je;wl(function(sn){return r.checkModelVersion(sn)});var Me=r.editor.getModel();if(!Me)return-1;var st=(je=r.suggestControllerPreselector())===null||je===void 0?void 0:je.removeCommonPrefix(Me);if(!st)return-1;var gt=nt.a.lift(X),jt=oe.map(function(sn,qn){var Hn=M_.fromSuggestion(l,Me,gt,sn,r.isShiftKeyPressed),fi=Hn.toSingleTextEdit().removeCommonPrefix(Me),Ci=st.augments(fi);return{index:qn,valid:Ci,prefixLength:fi.text.length,suggestItem:sn}}).filter(function(sn){return sn&&sn.valid&&sn.prefixLength>0}),Xt=Object(Wn.n)(jt,Object(Wn.h)(function(sn){return sn.prefixLength},Wn.u));return Xt?Xt.index:-1}}));var c=!1,h=function(){c||(c=!0,r._register(l.widget.value.onDidShow(function(){r.isSuggestWidgetVisible=!0,r.update(!0)})),r._register(l.widget.value.onDidHide(function(){r.isSuggestWidgetVisible=!1,r.update(!1)})),r._register(l.widget.value.onDidFocus(function(){r.isSuggestWidgetVisible=!0,r.update(!0)})))};r._register(ca.c.once(l.model.onDidTrigger)(function(f){h()}))}return r.update(r._isActive),r}return Object(P.a)(e,[{key:"selectedItem",get:function(){return this._selectedItem}},{key:"update",value:function(t){var n=this,r=this.getSuggestItemInfo();(this._isActive!==t||!Fk(this._currentSuggestItemInfo,r))&&(this._isActive=t,this._currentSuggestItemInfo=r,wl(function(l){n.checkModelVersion(l),n._selectedItem.set(n._isActive?n._currentSuggestItemInfo:void 0,l)}))}},{key:"getSuggestItemInfo",value:function(){var t=Vu.get(this.editor);if(!(!t||!this.isSuggestWidgetVisible)){var n=t.widget.value.getFocusedItem(),r=this.editor.getPosition(),l=this.editor.getModel();if(!(!n||!r||!l))return M_.fromSuggestion(t,l,r,n.item,this.isShiftKeyPressed)}}},{key:"stopForceRenderingAbove",value:function(){var t=Vu.get(this.editor);t==null||t.stopForceRenderingAbove()}},{key:"forceRenderingAbove",value:function(){var t=Vu.get(this.editor);t==null||t.forceRenderingAbove()}}]),e}(Ye.a),M_=function(){function s(o,e,i,t){Object(A.a)(this,s),this.range=o,this.insertText=e,this.completionItemKind=i,this.isSnippetText=t}return Object(P.a)(s,[{key:"equals",value:function(e){return this.range.equalsRange(e.range)&&this.insertText===e.insertText&&this.completionItemKind===e.completionItemKind&&this.isSnippetText===e.isSnippetText}},{key:"toSelectedSuggestionInfo",value:function(){return new so.i(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}},{key:"toSingleTextEdit",value:function(){return new yp(this.range,this.insertText)}}],[{key:"fromSuggestion",value:function(e,i,t,n,r){var l=n.completion.insertText,c=!1;if(n.completion.insertTextRules&4){var h=new Ei().parse(l);h.children.length<100&&Fg.adjustWhitespace(i,t,!0,h),l=h.toString(),c=!0}var f=e.getOverwriteInfo(n,r);return new s(Ze.a.fromPositions(t.delta(0,-f.overwriteBefore),t.delta(0,Math.max(f.overwriteAfter,0))),l,n.completion.kind,c)}}]),s}();function Fk(s,o){return s===o?!0:!s||!o?!1:s.equals(o)}var T_=a("oF4g"),Bk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Nh=function(s,o){return function(e,i){o(e,i,s)}},lu=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h,f){var R;Object(A.a)(this,e),R=o.call(this),R.editor=i,R.instantiationService=t,R.contextKeyService=n,R.configurationService=r,R.commandService=l,R.debounceService=c,R.languageFeaturesService=h,R.audioCueService=f,R.model=Mm("inlineCompletionModel",void 0),R.textModelVersionId=Cf("textModelVersionId",-1),R.cursorPosition=Cf("cursorPosition",new nt.a(1,1)),R.suggestWidgetAdaptor=R._register(new xk(R.editor,function(){var je,Me;return(Me=(je=R.model.get())===null||je===void 0?void 0:je.selectedInlineCompletion.get())===null||Me===void 0?void 0:Me.toSingleTextEdit(void 0)},function(je){return R.updateObservables(je,ju.Other)})),R._enabled=Wd(R.editor.onDidChangeConfiguration,function(){return R.editor.getOption(60).enabled}),R.ghostTextWidget=R._register(R.instantiationService.createInstance(bp,R.editor,{ghostText:R.model.map(function(je,Me){return je==null?void 0:je.ghostText.read(Me)}),minReservedLineCount:Xb(0),targetTextModel:R.model.map(function(je){return je==null?void 0:je.textModel})})),R._debounceValue=R.debounceService.for(R.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),R._register(new El(R.contextKeyService,R.model)),R._register(ca.c.runAndSubscribe(i.onDidChangeModel,function(){return wl(function(je){R.model.set(void 0,je),R.updateObservables(je,ju.Other);var Me=i.getModel();if(Me){var st=t.createInstance(Sp,Me,R.suggestWidgetAdaptor.selectedItem,R.cursorPosition,R.textModelVersionId,R._debounceValue,Wd(i.onDidChangeConfiguration,function(){return i.getOption(114).preview}),Wd(i.onDidChangeConfiguration,function(){return i.getOption(114).previewMode}),Wd(i.onDidChangeConfiguration,function(){return i.getOption(60).mode}),R._enabled);R.model.set(st,je)}})}));var X=function(Me){var st;return Me.isUndoing?ju.Undo:Me.isRedoing?ju.Redo:((st=R.model.get())===null||st===void 0?void 0:st.isAcceptingPartially)?ju.AcceptWord:ju.Other};R._register(i.onDidChangeModelContent(function(je){return wl(function(Me){return R.updateObservables(Me,X(je))})})),R._register(i.onDidChangeCursorPosition(function(je){return wl(function(Me){var st;R.updateObservables(Me,ju.Other),je.reason===3&&((st=R.model.get())===null||st===void 0||st.stop(Me))})})),R._register(i.onDidType(function(){return wl(function(je){var Me;R.updateObservables(je,ju.Other),R._enabled.get()&&((Me=R.model.get())===null||Me===void 0||Me.trigger(je))})})),R._register(R.commandService.onDidExecuteCommand(function(je){var Me=new Set([en.a.Tab.id,en.a.DeleteLeft.id,en.a.DeleteRight.id,qb,"acceptSelectedSuggestion"]);Me.has(je.commandId)&&i.hasTextFocus()&&R._enabled.get()&&wl(function(st){var gt;(gt=R.model.get())===null||gt===void 0||gt.trigger(st)})})),R._register(R.editor.onDidBlurEditorWidget(function(){R.configurationService.getValue("editor.inlineSuggest.keepOnBlur")||i.getOption(60).keepOnBlur||Vd.dropDownVisible||wl(function(je){var Me;(Me=R.model.get())===null||Me===void 0||Me.stop(je)})})),R._register(Hl("forceRenderingAbove",function(je){var Me,st=(Me=R.model.read(je))===null||Me===void 0?void 0:Me.state.read(je);(st==null?void 0:st.suggestItem)?st.ghostText.lineCount>=2&&R.suggestWidgetAdaptor.forceRenderingAbove():R.suggestWidgetAdaptor.stopForceRenderingAbove()})),R._register(Object(Ye.l)(function(){R.suggestWidgetAdaptor.stopForceRenderingAbove()}));var oe=void 0;return R._register(Hl("play audio cue & read suggestion",function(je){var Me=R.model.read(je),st=Me==null?void 0:Me.state.read(je);if(!Me||!st||!st.completion){oe=void 0;return}if(st.completion.semanticId!==oe){if(oe=st.completion.semanticId,Me.isNavigatingCurrentInlineCompletion)return;R.audioCueService.playAudioCue(T_.a.inlineSuggestion).then(function(){if(R.editor.getOption(6)){var gt=Me.textModel.getLineContent(st.ghostText.lineNumber);Object(Rn.a)(st.ghostText.renderForScreenReader(gt))}})}})),R._register(new Am(R.editor,R.model,R.instantiationService)),R}return Object(P.a)(e,[{key:"updateObservables",value:function(t,n){var r,l,c=this.editor.getModel();this.textModelVersionId.set((r=c==null?void 0:c.getVersionId())!==null&&r!==void 0?r:-1,t,n),this.cursorPosition.set((l=this.editor.getPosition())!==null&&l!==void 0?l:new nt.a(1,1),t)}},{key:"shouldShowHoverAt",value:function(t){var n,r=(n=this.model.get())===null||n===void 0?void 0:n.ghostText.get();return r?r.parts.some(function(l){return t.containsPosition(new nt.a(r.lineNumber,l.column))}):!1}},{key:"shouldShowHoverAtViewZone",value:function(t){return this.ghostTextWidget.ownsViewZone(t)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);lu.ID="editor.contrib.inlineCompletionsController",lu=Bk([Nh(1,ia.a),Nh(2,Tn.b),Nh(3,Do.a),Nh(4,$r.b),Nh(5,Ms.a),Nh(6,$i.a),Nh(7,T_.b)],lu);var Gd=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},I_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,label:We.b("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Tn.a.and(Ut.a.writable,El.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|94}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;return Gd(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=lu.get(n),(r=c==null?void 0:c.model.get())===null||r===void 0||r.next();case 2:case"end":return f.stop()}},l)}))}}]),e}(wt.b);I_.ID=ty;var P_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,label:We.b("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Tn.a.and(Ut.a.writable,El.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|92}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;return Gd(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=lu.get(n),(r=c==null?void 0:c.model.get())===null||r===void 0||r.previous();case 2:case"end":return f.stop()}},l)}))}}]),e}(wt.b);P_.ID=ey;var Wk=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.inlineSuggest.trigger",label:We.b("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;return Gd(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=lu.get(n),(r=c==null?void 0:c.model.get())===null||r===void 0||r.triggerExplicitly();case 2:case"end":return f.stop()}},l)}))}}]),e}(wt.b),Vk=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.inlineSuggest.acceptNextWord",label:We.b("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:Tn.a.and(Ut.a.writable,El.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2048|17},menuOpts:[{menuId:Ht.c.InlineSuggestionToolbar,title:We.b("acceptWord","Accept Word"),group:"primary",order:2}]})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;return Gd(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=lu.get(n),(r=c==null?void 0:c.model.get())===null||r===void 0||r.acceptNextWord(c.editor);case 2:case"end":return f.stop()}},l)}))}}]),e}(wt.b),Hk=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.inlineSuggest.acceptNextLine",label:We.b("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:Tn.a.and(Ut.a.writable,El.inlineSuggestionVisible),kbOpts:{weight:100+1},menuOpts:[{menuId:Ht.c.InlineSuggestionToolbar,title:We.b("acceptLine","Accept Line"),group:"secondary",order:2}]})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;return Gd(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=lu.get(n),(r=c==null?void 0:c.model.get())===null||r===void 0||r.acceptNextLine(c.editor);case 2:case"end":return f.stop()}},l)}))}}]),e}(wt.b),Uk=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:qb,label:We.b("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:El.inlineSuggestionVisible,menuOpts:[{menuId:Ht.c.InlineSuggestionToolbar,title:We.b("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:Tn.a.and(El.inlineSuggestionVisible,Ut.a.tabMovesFocus.toNegated(),El.inlineSuggestionHasIndentationLessThanTabSize)}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r;return Gd(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=lu.get(n),c&&((r=c.model.get())===null||r===void 0||r.accept(c.editor),c.editor.focus());case 2:case"end":return f.stop()}},l)}))}}]),e}(wt.b),A_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,label:We.b("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:El.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}return Object(P.a)(e,[{key:"run",value:function(t,n){return Gd(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:l=lu.get(n),wl(function(f){var R;(R=l==null?void 0:l.model.get())===null||R===void 0||R.stop(f)});case 2:case"end":return h.stop()}},r)}))}}]),e}(wt.b);A_.ID="editor.action.inlineSuggest.hide";var R_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,title:We.b("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:Ht.c.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:Tn.a.equals("config.editor.inlineSuggest.showToolbar","always")})}return Object(P.a)(e,[{key:"run",value:function(t,n){return Gd(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:l=t.get(Do.a),c=l.getValue("editor.inlineSuggest.showToolbar"),h=c==="always"?"onHover":"always",l.updateValue("editor.inlineSuggest.showToolbar",h);case 4:case"end":return R.stop()}},r)}))}}]),e}(Ht.a);R_.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";var zk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Wv=function(s,o){return function(e,i){o(e,i,s)}},Kk=function(){function s(o,e,i){Object(A.a)(this,s),this.owner=o,this.range=e,this.controller=i}return Object(P.a)(s,[{key:"isValidForHoverAnchor",value:function(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),s}(),Ap=function(){function s(o,e,i,t,n,r){Object(A.a)(this,s),this._editor=o,this._languageService=e,this._openerService=i,this.accessibilityService=t,this._instantiationService=n,this._telemetryService=r,this.hoverOrdinal=4}return Object(P.a)(s,[{key:"suggestHoverAnchor",value:function(e){var i=lu.get(this._editor);if(!i)return null;var t=e.target;if(t.type===8){var n=t.detail;if(i.shouldShowHoverAtViewZone(n.viewZoneId))return new Be(1e3,this,Ze.a.fromPositions(this._editor.getModel().validatePosition(n.positionBefore||n.position)),e.event.posx,e.event.posy,!1)}if(t.type===7&&i.shouldShowHoverAt(t.range))return new Be(1e3,this,t.range,e.event.posx,e.event.posy,!1);if(t.type===6){var r=t.detail.mightBeForeignElement;if(r&&i.shouldShowHoverAt(t.range))return new Be(1e3,this,t.range,e.event.posx,e.event.posy,!1)}return null}},{key:"computeSync",value:function(e,i){if(this._editor.getOption(60).showToolbar==="always")return[];var t=lu.get(this._editor);return t&&t.shouldShowHoverAt(e.range)?[new Kk(this,e.range,t)]:[]}},{key:"renderHoverParts",value:function(e,i){var t=new Ye.c,n=i[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,n,t);var r=n.controller.model.get(),l=this._instantiationService.createInstance(Vd,this._editor,!1,Xb(null),r.selectedInlineCompletionIndex,r.inlineCompletionsCount,r.selectedInlineCompletion.map(function(c){var h;return(h=c==null?void 0:c.inlineCompletion.source.inlineCompletions.commands)!==null&&h!==void 0?h:[]}));return e.fragment.appendChild(l.getDomNode()),r.triggerExplicitly(),t.add(l),t}},{key:"renderScreenReaderText",value:function(e,i,t){var n=this,r=It.$,l=r("div.hover-row.markdown-hover"),c=It.append(l,r("div.hover-contents",Object(rt.a)({},"aria-live","assertive"))),h=t.add(new ga({editor:this._editor},this._languageService,this._openerService)),f=function(X){t.add(h.onDidRenderAsync(function(){c.className="hover-contents code-hover-contents",e.onContentsChanged()}));var oe=We.b("inlineSuggestionFollows","Suggestion:"),je=t.add(h.render(new Sn.a().appendText(oe).appendCodeblock("text",X)));c.replaceChildren(je.element)};t.add(Hl("update hover",function(R){var X,oe=(X=i.controller.model.read(R))===null||X===void 0?void 0:X.ghostText.read(R);if(oe){var je=n._editor.getModel().getLineContent(oe.lineNumber);f(oe.renderForScreenReader(je))}else It.reset(c)})),e.fragment.appendChild(l)}}]),s}();Ap=zk([Wv(1,Ti.a),Wv(2,io.a),Wv(3,Oo.b),Wv(4,ia.a),Wv(5,Ka.a)],Ap),Object(wt.m)(lu.ID,lu,3),Object(wt.k)(Wk),Object(wt.k)(I_),Object(wt.k)(P_),Object(wt.k)(Vk),Object(wt.k)(Hk),Object(wt.k)(Uk),Object(wt.k)(A_),Object(Ht.i)(R_),St.register(Ap);var Rf=a("zN7H");function Ul(s,o){for(var e=0,i=0;i<s.length;i++)s.charAt(i)==="	"?e+=o:e++;return e}function Vv(s,o,e){s=s<0?0:s;var i="";if(!e){var t=Math.floor(s/o);s=s%o;for(var n=0;n<t;n++)i+="	"}for(var r=0;r<s;r++)i+=" ";return i}var N_=a("QgJK"),xh=a("oIHe"),Gk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},$k=function(s,o){return function(e,i){o(e,i,s)}};function x_(s,o,e,i,t){if(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)return[];var n=o.getLanguageConfiguration(s.getLanguageId()).indentationRules;if(!n)return[];for(i=Math.min(i,s.getLineCount());e<=i&&n.unIndentedLinePattern;){var r=s.getLineContent(e);if(!n.unIndentedLinePattern.test(r))break;e++}if(e>i-1)return[];var l=s.getOptions(),c=l.tabSize,h=l.indentSize,f=l.insertSpaces,R=function(fi,Ci){return Ci=Ci||1,Rf.a.shiftIndent(fi,fi.length+Ci,c,h,f)},X=function(fi,Ci){return Ci=Ci||1,Rf.a.unshiftIndent(fi,fi.length+Ci,c,h,f)},oe=[],je,Me=s.getLineContent(e),st=Me;if(t!=null){je=t;var gt=vr.x(Me);st=je+Me.substring(gt.length),n.decreaseIndentPattern&&n.decreaseIndentPattern.test(st)&&(je=X(je),st=je+Me.substring(gt.length)),Me!==st&&oe.push(Jo.a.replaceMove(new Pi.a(e,1,e,gt.length+1),Object(N_.a)(je,h,f)))}else je=vr.x(Me);var jt=je;n.increaseIndentPattern&&n.increaseIndentPattern.test(st)?(jt=R(jt),je=R(je)):n.indentNextLinePattern&&n.indentNextLinePattern.test(st)&&(jt=R(jt)),e++;for(var Xt=e;Xt<=i;Xt++){var r=s.getLineContent(Xt),sn=vr.x(r),qn=jt+r.substring(sn.length);n.decreaseIndentPattern&&n.decreaseIndentPattern.test(qn)&&(jt=X(jt),je=X(je)),sn!==jt&&oe.push(Jo.a.replaceMove(new Pi.a(Xt,1,Xt,sn.length+1),Object(N_.a)(jt,h,f))),!(n.unIndentedLinePattern&&n.unIndentedLinePattern.test(r))&&(n.increaseIndentPattern&&n.increaseIndentPattern.test(qn)?(je=R(je),jt=je):n.indentNextLinePattern&&n.indentNextLinePattern.test(qn)?jt=R(jt):jt=je)}return oe}var F_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,label:We.b("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=n.getModel();if(!!r){var l=r.getOptions(),c=n.getSelection();if(!!c){var h=new Xk(c,l.tabSize);n.pushUndoStop(),n.executeCommands(this.id,[h]),n.pushUndoStop(),r.updateOptions({insertSpaces:!0})}}}}]),e}(wt.b);F_.ID="editor.action.indentationToSpaces";var B_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,label:We.b("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=n.getModel();if(!!r){var l=r.getOptions(),c=n.getSelection();if(!!c){var h=new Jk(c,l.tabSize);n.pushUndoStop(),n.executeCommands(this.id,[h]),n.pushUndoStop(),r.updateOptions({insertSpaces:!1})}}}}]),e}(wt.b);B_.ID="editor.action.indentationToTabs";var Rp=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this,n),r.insertSpaces=i,r.displaySizeOnly=t,r}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=this,l=t.get(yl.a),c=t.get(Jr.a),h=n.getModel();if(!!h){var f=c.getCreationOptions(h.getLanguageId(),h.uri,h.isForSimpleWidget),R=h.getOptions(),X=[1,2,3,4,5,6,7,8].map(function(je){return{id:je.toString(),label:je.toString(),description:je===f.tabSize&&je===R.tabSize?We.b("configuredTabSize","Configured Tab Size"):je===f.tabSize?We.b("defaultTabSize","Default Tab Size"):je===R.tabSize?We.b("currentTabSize","Current Tab Size"):void 0}}),oe=Math.min(h.getOptions().tabSize-1,7);setTimeout(function(){l.pick(X,{placeHolder:We.b({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:X[oe]}).then(function(je){if(je&&h&&!h.isDisposed()){var Me=parseInt(je.label,10);r.displaySizeOnly?h.updateOptions({tabSize:Me}):h.updateOptions({tabSize:Me,indentSize:Me,insertSpaces:r.insertSpaces})}})},50)}}}]),e}(wt.b),W_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!1,!1,{id:e.ID,label:We.b("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}return Object(P.a)(e)}(Rp);W_.ID="editor.action.indentUsingTabs";var V_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!0,!1,{id:e.ID,label:We.b("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}return Object(P.a)(e)}(Rp);V_.ID="editor.action.indentUsingSpaces";var H_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!0,!0,{id:e.ID,label:We.b("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}return Object(P.a)(e)}(Rp);H_.ID="editor.action.changeTabDisplaySize";var U_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,label:We.b("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=t.get(Jr.a),l=n.getModel();if(!!l){var c=r.getCreationOptions(l.getLanguageId(),l.uri,l.isForSimpleWidget);l.detectIndentation(c.insertSpaces,c.tabSize)}}}]),e}(wt.b);U_.ID="editor.action.detectIndentation";var Qk=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.reindentlines",label:We.b("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=t.get(po.a),l=n.getModel();if(!!l){var c=x_(l,r,1,l.getLineCount());c.length>0&&(n.pushUndoStop(),n.executeEdits(this.id,c),n.pushUndoStop())}}}]),e}(wt.b),Yk=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.reindentselectedlines",label:We.b("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=t.get(po.a),l=n.getModel();if(!!l){var c=n.getSelections();if(c!==null){var h=[],f=Object(G.a)(c),R;try{for(f.s();!(R=f.n()).done;){var X=R.value,oe=X.startLineNumber,je=X.endLineNumber;if(oe!==je&&X.endColumn===1&&je--,oe===1){if(oe===je)continue}else oe--;var Me=x_(l,r,oe,je);h.push.apply(h,Object(on.a)(Me))}}catch(st){f.e(st)}finally{f.f()}h.length>0&&(n.pushUndoStop(),n.executeEdits(this.id,h),n.pushUndoStop())}}}}]),e}(wt.b),Zk=function(){function s(o,e){Object(A.a)(this,s),this._initialSelection=e,this._edits=[],this._selectionId=null;var i=Object(G.a)(o),t;try{for(i.s();!(t=i.n()).done;){var n=t.value;n.range&&typeof n.text=="string"&&this._edits.push(n)}}catch(r){i.e(r)}finally{i.f()}}return Object(P.a)(s,[{key:"getEditOperations",value:function(e,i){var t=Object(G.a)(this._edits),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;i.addEditOperation(Ze.a.lift(r.range),r.text)}}catch(c){t.e(c)}finally{t.f()}var l=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(l=!0,this._selectionId=i.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(l=!0,this._selectionId=i.trackSelection(this._initialSelection,!1))),l||(this._selectionId=i.trackSelection(this._initialSelection))}},{key:"computeCursorState",value:function(e,i){return i.getTrackedSelection(this._selectionId)}}]),s}(),Hv=function(){function s(o,e){var i=this;Object(A.a)(this,s),this.editor=o,this._languageConfigurationService=e,this.callOnDispose=new Ye.c,this.callOnModel=new Ye.c,this.callOnDispose.add(o.onDidChangeConfiguration(function(){return i.update()})),this.callOnDispose.add(o.onDidChangeModel(function(){return i.update()})),this.callOnDispose.add(o.onDidChangeModelLanguage(function(){return i.update()}))}return Object(P.a)(s,[{key:"update",value:function(){var e=this;this.callOnModel.clear(),!(this.editor.getOption(10)<4||this.editor.getOption(53))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(function(i){var t=i.range;e.trigger(t)})))}},{key:"trigger",value:function(e){var i=this.editor.getSelections();if(!(i===null||i.length>1)){var t=this.editor.getModel();if(!!t&&!!t.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber)){for(var n=this.editor.getOption(10),r=t.getOptions(),l=r.tabSize,c=r.indentSize,h=r.insertSpaces,f=[],R={shiftIndent:function(Ca){return Rf.a.shiftIndent(Ca,Ca.length+1,l,c,h)},unshiftIndent:function(Ca){return Rf.a.unshiftIndent(Ca,Ca.length+1,l,c,h)}},X=e.startLineNumber;X<=e.endLineNumber;){if(this.shouldIgnoreLine(t,X)){X++;continue}break}if(!(X>e.endLineNumber)){var oe=t.getLineContent(X);if(!/\S/.test(oe.substring(0,e.startColumn-1))){var je=Object(xh.a)(n,t,t.getLanguageId(),X,R,this._languageConfigurationService);if(je!==null){var Me=vr.x(oe),st=Ul(je,l),gt=Ul(Me,l);if(st!==gt){var jt=Vv(st,l,h);f.push({range:new Ze.a(X,1,X,Me.length+1),text:jt}),oe=jt+oe.substr(Me.length)}else{var Xt=Object(xh.d)(t,X,this._languageConfigurationService);if(Xt===0||Xt===8)return}}}for(var sn=X;X<e.endLineNumber;){if(!/\S/.test(t.getLineContent(X+1))){X++;continue}break}if(X!==e.endLineNumber){var qn={tokenization:{getLineTokens:function(Ca){return t.tokenization.getLineTokens(Ca)},getLanguageId:function(){return t.getLanguageId()},getLanguageIdAtPosition:function(Ca,fa){return t.getLanguageIdAtPosition(Ca,fa)}},getLineContent:function(Ca){return Ca===sn?oe:t.getLineContent(Ca)}},Hn=Object(xh.a)(n,qn,t.getLanguageId(),X+1,R,this._languageConfigurationService);if(Hn!==null){var fi=Ul(Hn,l),Ci=Ul(vr.x(t.getLineContent(X+1)),l);if(fi!==Ci)for(var wi=fi-Ci,Ai=X+1;Ai<=e.endLineNumber;Ai++){var jr=t.getLineContent(Ai),dr=vr.x(jr),Dr=Ul(dr,l),Kr=Dr+wi,pa=Vv(Kr,l,h);pa!==dr&&f.push({range:new Ze.a(Ai,1,Ai,dr.length+1),text:pa})}}}if(f.length>0){this.editor.pushUndoStop();var xr=new Zk(f,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",xr),this.editor.pushUndoStop()}}}}}},{key:"shouldIgnoreLine",value:function(e,i){e.tokenization.forceTokenization(i);var t=e.getLineFirstNonWhitespaceColumn(i);if(t===0)return!0;var n=e.tokenization.getLineTokens(i);if(n.getCount()>0){var r=n.findTokenIndexAtOffset(t);if(r>=0&&n.getStandardTokenType(r)===1)return!0}return!1}},{key:"dispose",value:function(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}]),s}();Hv.ID="editor.contrib.autoIndentOnPaste",Hv=Gk([$k(1,po.a)],Hv);function z_(s,o,e,i){if(!(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)){for(var t="",n=0;n<e;n++)t+=" ";for(var r=new RegExp(t,"gi"),l=1,c=s.getLineCount();l<=c;l++){var h=s.getLineFirstNonWhitespaceColumn(l);if(h===0&&(h=s.getLineMaxColumn(l)),h!==1){var f=new Ze.a(l,1,l,h),R=s.getValueInRange(f),X=i?R.replace(/\t/ig,t):R.replace(r,"	");o.addEditOperation(f,X)}}}}var Xk=function(){function s(o,e){Object(A.a)(this,s),this.selection=o,this.tabSize=e,this.selectionId=null}return Object(P.a)(s,[{key:"getEditOperations",value:function(e,i){this.selectionId=i.trackSelection(this.selection),z_(e,i,this.tabSize,!0)}},{key:"computeCursorState",value:function(e,i){return i.getTrackedSelection(this.selectionId)}}]),s}(),Jk=function(){function s(o,e){Object(A.a)(this,s),this.selection=o,this.tabSize=e,this.selectionId=null}return Object(P.a)(s,[{key:"getEditOperations",value:function(e,i){this.selectionId=i.trackSelection(this.selection),z_(e,i,this.tabSize,!1)}},{key:"computeCursorState",value:function(e,i){return i.getTrackedSelection(this.selectionId)}}]),s}();Object(wt.m)(Hv.ID,Hv,2),Object(wt.k)(F_),Object(wt.k)(B_),Object(wt.k)(W_),Object(wt.k)(V_),Object(wt.k)(H_),Object(wt.k)(U_),Object(wt.k)(Qk),Object(wt.k)(Yk);var Qg=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},K_=Object(P.a)(function s(o,e){Object(A.a)(this,s),this.range=o,this.direction=e}),qk=function(){function s(o,e,i){Object(A.a)(this,s),this.hint=o,this.anchor=e,this.provider=i,this._isResolved=!1}return Object(P.a)(s,[{key:"with",value:function(e){var i=new s(this.hint,e.anchor,this.provider);return i._isResolved=this._isResolved,i._currentResolve=this._currentResolve,i}},{key:"resolve",value:function(e){return Qg(this,void 0,void 0,Object(d.a)().mark(function i(){var t=this;return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(typeof this.provider.resolveInlayHint=="function"){r.next=2;break}return r.abrupt("return");case 2:if(!this._currentResolve){r.next=8;break}return r.next=5,this._currentResolve;case 5:if(!e.isCancellationRequested){r.next=7;break}return r.abrupt("return");case 7:return r.abrupt("return",this.resolve(e));case 8:return this._isResolved||(this._currentResolve=this._doResolve(e).finally(function(){return t._currentResolve=void 0})),r.next=11,this._currentResolve;case 11:case"end":return r.stop()}},i,this)}))}},{key:"_doResolve",value:function(e){var i,t;return Qg(this,void 0,void 0,Object(d.a)().mark(function n(){var r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Promise.resolve(this.provider.resolveInlayHint(this.hint,e));case 3:r=c.sent,this.hint.tooltip=(i=r==null?void 0:r.tooltip)!==null&&i!==void 0?i:this.hint.tooltip,this.hint.label=(t=r==null?void 0:r.label)!==null&&t!==void 0?t:this.hint.label,this._isResolved=!0,c.next=13;break;case 9:c.prev=9,c.t0=c.catch(0),Object(Li.i)(c.t0),this._isResolved=!1;case 13:case"end":return c.stop()}},n,this,[[0,9]])}))}}]),s}(),G_=function(){function s(o,e,i){Object(A.a)(this,s),this._disposables=new Ye.c,this.ranges=o,this.provider=new Set;var t=[],n=Object(G.a)(e),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=Object(O.a)(l,2),h=c[0],f=c[1];this._disposables.add(h),this.provider.add(f);var R=Object(G.a)(h.hints),X;try{for(R.s();!(X=R.n()).done;){var oe=X.value,je=i.validatePosition(oe.position),Me="before",st=s._getRangeAtPosition(i,je),gt=void 0;st.getStartPosition().isBefore(je)?(gt=Ze.a.fromPositions(st.getStartPosition(),je),Me="after"):(gt=Ze.a.fromPositions(je,st.getEndPosition()),Me="before"),t.push(new qk(oe,new K_(gt,Me),f))}}catch(jt){R.e(jt)}finally{R.f()}}}catch(jt){n.e(jt)}finally{n.f()}this.items=t.sort(function(jt,Xt){return nt.a.compare(jt.hint.position,Xt.hint.position)})}return Object(P.a)(s,[{key:"dispose",value:function(){this._disposables.dispose()}}],[{key:"create",value:function(e,i,t,n){return Qg(this,void 0,void 0,Object(d.a)().mark(function r(){var l=this,c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return c=[],h=e.ordered(i).reverse().map(function(X){return t.map(function(oe){return Qg(l,void 0,void 0,Object(d.a)().mark(function je(){var Me;return Object(d.a)().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return gt.prev=0,gt.next=3,X.provideInlayHints(i,oe,n);case 3:Me=gt.sent,(Me==null?void 0:Me.hints.length)&&c.push([Me,X]),gt.next=10;break;case 7:gt.prev=7,gt.t0=gt.catch(0),Object(Li.i)(gt.t0);case 10:case"end":return gt.stop()}},je,null,[[0,7]])}))})}),R.next=4,Promise.all(h.flat());case 4:if(!(n.isCancellationRequested||i.isDisposed())){R.next=6;break}throw new Li.b;case 6:return R.abrupt("return",new s(t,c,i));case 7:case"end":return R.stop()}},r)}))}},{key:"_getRangeAtPosition",value:function(e,i){var t=i.lineNumber,n=e.getWordAtPosition(i);if(n)return new Ze.a(t,n.startColumn,t,n.endColumn);e.tokenization.tokenizeIfCheap(t);var r=e.tokenization.getLineTokens(t),l=i.column-1,c=r.findTokenIndexAtOffset(l),h=r.getStartOffset(c),f=r.getEndOffset(c);return f-h==1&&(h===l&&c>1?(h=r.getStartOffset(c-1),f=r.getEndOffset(c-1)):f===l&&c<r.getCount()-1&&(h=r.getStartOffset(c+1),f=r.getEndOffset(c+1))),new Ze.a(t,h+1,t,f+1)}}]),s}();function eD(s){return _r.a.from({scheme:no.c.command,path:s.id,query:s.arguments&&encodeURIComponent(JSON.stringify(s.arguments))}).toString()}var Uv=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function tD(s,o,e,i){var t;return Uv(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this,l,c,h,f,R,X,oe,je,Me,st,gt,jt,Xt;return Object(d.a)().wrap(function(qn){for(;;)switch(qn.prev=qn.next){case 0:return l=s.get(Qi.a),c=s.get(Ns.a),h=s.get($r.b),f=s.get(ia.a),R=s.get(Ra.a),qn.next=7,i.item.resolve(Zn.a.None);case 7:if(i.part.location){qn.next=9;break}return qn.abrupt("return");case 9:X=i.part.location,oe=[],je=new Set(Ht.e.getMenuItems(Ht.c.EditorContext).map(function(Hn){return Object(Ht.g)(Hn)?Hn.command.id:mg()})),Me=Object(G.a)(Su.all());try{for(gt=function(){var fi=st.value;je.has(fi.desc.id)&&oe.push(new ka.a(fi.desc.id,Ht.d.label(fi.desc,{renderShortTitle:!0}),void 0,!0,function(){return Uv(r,void 0,void 0,Object(d.a)().mark(function Ci(){var wi,Ai,jr;return Object(d.a)().wrap(function(Dr){for(;;)switch(Dr.prev=Dr.next){case 0:return Dr.next=2,l.createModelReference(X.uri);case 2:return wi=Dr.sent,Dr.prev=3,Ai=new Lc(wi.object.textEditorModel,Ze.a.getStartPosition(X.range)),jr=i.item.anchor.range,Dr.next=8,f.invokeFunction(fi.runEditorCommand.bind(fi),o,Ai,jr);case 8:return Dr.prev=8,wi.dispose(),Dr.finish(8);case 11:case"end":return Dr.stop()}},Ci,null,[[3,,8,11]])}))}))},Me.s();!(st=Me.n()).done;)gt()}catch(Hn){Me.e(Hn)}finally{Me.f()}i.part.command&&(jt=i.part.command,oe.push(new ka.d),oe.push(new ka.a(jt.id,jt.title,void 0,!0,function(){return Uv(r,void 0,void 0,Object(d.a)().mark(function Hn(){var fi;return Object(d.a)().wrap(function(wi){for(;;)switch(wi.prev=wi.next){case 0:return wi.prev=0,wi.next=3,h.executeCommand.apply(h,[jt.id].concat(Object(on.a)((fi=jt.arguments)!==null&&fi!==void 0?fi:[])));case 3:wi.next=8;break;case 5:wi.prev=5,wi.t0=wi.catch(0),R.notify({severity:Ra.c.Error,source:i.item.provider.displayName,message:wi.t0});case 8:case"end":return wi.stop()}},Hn,null,[[0,5]])}))}))),Xt=o.getOption(123),c.showContextMenu({domForShadowRoot:Xt&&(t=o.getDomNode())!==null&&t!==void 0?t:void 0,getAnchor:function(){var fi=It.getDomNodePagePosition(e);return{x:fi.left,y:fi.top+fi.height+8}},getActions:function(){return oe},onHide:function(){o.focus()},autoSelectFirstItem:!0});case 17:case"end":return qn.stop()}},n)}))}function $_(s,o,e,i){return Uv(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return r=s.get(Qi.a),h.next=3,r.createModelReference(i.uri);case 3:return l=h.sent,h.next=6,e.invokeWithinContext(function(f){return Uv(n,void 0,void 0,Object(d.a)().mark(function R(){var X,oe,je,Me,st;return Object(d.a)().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:return X=o.hasSideBySideModifier,oe=f.get(Tn.b),je=ns.inPeekEditor.getValue(oe),Me=!X&&e.getOption(85)&&!je,st=new Mc({openToSide:X,openInPeek:Me,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}),jt.abrupt("return",st.run(f,new Lc(l.object.textEditorModel,Ze.a.getStartPosition(i.range)),Ze.a.lift(i.range)));case 6:case"end":return jt.stop()}},R)}))});case 6:l.dispose();case 7:case"end":return h.stop()}},t)}))}var nD=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Nf=function(s,o){return function(e,i){o(e,i,s)}},xf=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},iD=function(){function s(){Object(A.a)(this,s),this._entries=new Xl.a(50)}return Object(P.a)(s,[{key:"get",value:function(e){var i=s._key(e);return this._entries.get(i)}},{key:"set",value:function(e,i){var t=s._key(e);this._entries.set(t,i)}}],[{key:"_key",value:function(e){return"".concat(e.uri.toString(),"/").concat(e.getVersionId())}}]),s}(),Q_=Object(ia.c)("IInlayHintsCache");Object(Cs.b)(Q_,iD,1);var Np=function(){function s(o,e){Object(A.a)(this,s),this.item=o,this.index=e}return Object(P.a)(s,[{key:"part",get:function(){var e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}}]),s}(),rD=Object(P.a)(function s(o,e){Object(A.a)(this,s),this.part=o,this.hasTriggerModifier=e}),Fh=function(){function s(o,e,i,t,n,r,l){var c=this;Object(A.a)(this,s),this._editor=o,this._languageFeaturesService=e,this._inlayHintsCache=t,this._commandService=n,this._notificationService=r,this._instaService=l,this._disposables=new Ye.c,this._sessionDisposables=new Ye.c,this._decorationsMetadata=new Map,this._ruleFactory=new Dd.b(this._editor),this._activeRenderMode=0,this._debounceInfo=i.for(e.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(e.inlayHintsProvider.onDidChange(function(){return c._update()})),this._disposables.add(o.onDidChangeModel(function(){return c._update()})),this._disposables.add(o.onDidChangeModelLanguage(function(){return c._update()})),this._disposables.add(o.onDidChangeConfiguration(function(h){h.hasChanged(136)&&c._update()})),this._update()}return Object(P.a)(s,[{key:"dispose",value:function(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}},{key:"_update",value:function(){var e=this;this._sessionDisposables.clear(),this._removeAllDecorations();var i=this._editor.getOption(136);if(i.enabled!=="off"){var t=this._editor.getModel();if(!(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))){var n=this._inlayHintsCache.get(t);n&&this._updateHintsDecorators([t.getFullModelRange()],n),this._sessionDisposables.add(Object(Ye.l)(function(){t.isDisposed()||e._cacheHintsForFastRestore(t)}));var r,l=new Set,c=new mt.g(function(){return xf(e,void 0,void 0,Object(d.a)().mark(function R(){var X,oe,je,Me,st,gt,jt;return Object(d.a)().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:return X=Date.now(),r==null||r.dispose(!0),r=new Zn.b,oe=t.onWillDispose(function(){return r==null?void 0:r.cancel()}),sn.prev=4,je=r.token,sn.next=8,G_.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),je);case 8:if(Me=sn.sent,c.delay=this._debounceInfo.update(t,Date.now()-X),!je.isCancellationRequested){sn.next=13;break}return Me.dispose(),sn.abrupt("return");case 13:st=Object(G.a)(Me.provider);try{for(st.s();!(gt=st.n()).done;)jt=gt.value,typeof jt.onDidChangeInlayHints=="function"&&!l.has(jt)&&(l.add(jt),this._sessionDisposables.add(jt.onDidChangeInlayHints(function(){c.isScheduled()||c.schedule()})))}catch(qn){st.e(qn)}finally{st.f()}this._sessionDisposables.add(Me),this._updateHintsDecorators(Me.ranges,Me.items),this._cacheHintsForFastRestore(t),sn.next=23;break;case 20:sn.prev=20,sn.t0=sn.catch(4),Object(Li.h)(sn.t0);case 23:return sn.prev=23,r.dispose(),oe.dispose(),sn.finish(23);case 27:case"end":return sn.stop()}},R,this,[[4,20,23,27]])}))},this._debounceInfo.get(t));if(this._sessionDisposables.add(c),this._sessionDisposables.add(Object(Ye.l)(function(){return r==null?void 0:r.dispose(!0)})),c.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(function(R){(R.scrollTopChanged||!c.isScheduled())&&c.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(function(R){var X=Math.max(c.delay,1250);c.schedule(X)})),i.enabled==="on")this._activeRenderMode=0;else{var h,f;i.enabled==="onUnlessPressed"?(h=0,f=1):(h=1,f=0),this._activeRenderMode=h,this._sessionDisposables.add(It.ModifierKeyEmitter.getInstance().event(function(R){if(!!e._editor.hasModel()){var X=R.altKey&&R.ctrlKey&&!(R.shiftKey||R.metaKey)?f:h;if(X!==e._activeRenderMode){e._activeRenderMode=X;var oe=e._editor.getModel(),je=e._copyInlayHintsWithCurrentAnchor(oe);e._updateHintsDecorators([oe.getFullModelRange()],je),c.schedule(0)}}}))}this._sessionDisposables.add(this._installDblClickGesture(function(){return c.schedule(0)})),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}}}},{key:"_installLinkGesture",value:function(){var e=this,i=new Ye.c,t=i.add(new qr(this._editor)),n=new Ye.c;return i.add(n),i.add(t.onMouseMoveOrRelevantKeyDown(function(r){var l=Object(O.a)(r,1),c=l[0],h=e._getInlayHintLabelPart(c),f=e._editor.getModel();if(!h||!f){n.clear();return}var R=new Zn.b;n.add(Object(Ye.l)(function(){return R.dispose(!0)})),h.item.resolve(R.token),e._activeInlayHintPart=h.part.command||h.part.location?new rD(h,c.hasTriggerModifier):void 0;var X=f.validatePosition(h.item.hint.position).lineNumber,oe=new Ze.a(X,1,X,f.getLineMaxColumn(X)),je=e._getInlineHintsForRange(oe);e._updateHintsDecorators([oe],je),n.add(Object(Ye.l)(function(){e._activeInlayHintPart=void 0,e._updateHintsDecorators([oe],je)}))})),i.add(t.onCancel(function(){return n.clear()})),i.add(t.onExecute(function(r){return xf(e,void 0,void 0,Object(d.a)().mark(function l(){var c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(c=this._getInlayHintLabelPart(r),!c){R.next=10;break}if(h=c.part,!h.location){R.next=7;break}this._instaService.invokeFunction($_,r,this._editor,h.location),R.next=10;break;case 7:if(!so.a.is(h.command)){R.next=10;break}return R.next=10,this._invokeCommand(h.command,c.item);case 10:case"end":return R.stop()}},l,this)}))})),i}},{key:"_getInlineHintsForRange",value:function(e){var i=new Set,t=Object(G.a)(this._decorationsMetadata.values()),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;e.containsRange(r.item.anchor.range)&&i.add(r.item)}}catch(l){t.e(l)}finally{t.f()}return Array.from(i)}},{key:"_installDblClickGesture",value:function(e){var i=this;return this._editor.onMouseUp(function(t){return xf(i,void 0,void 0,Object(d.a)().mark(function n(){var r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.event.detail===2){h.next=2;break}return h.abrupt("return");case 2:if(r=this._getInlayHintLabelPart(t),r){h.next=5;break}return h.abrupt("return");case 5:return t.event.preventDefault(),h.next=8,r.item.resolve(Zn.a.None);case 8:Object(Wn.s)(r.item.hint.textEdits)&&(l=r.item.hint.textEdits.map(function(f){return Jo.a.replace(Ze.a.lift(f.range),f.text)}),this._editor.executeEdits("inlayHint.default",l),e());case 9:case"end":return h.stop()}},n,this)}))})}},{key:"_installContextMenu",value:function(){var e=this;return this._editor.onContextMenu(function(i){return xf(e,void 0,void 0,Object(d.a)().mark(function t(){var n;return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(i.event.target instanceof HTMLElement){l.next=2;break}return l.abrupt("return");case 2:if(n=this._getInlayHintLabelPart(i),!n){l.next=6;break}return l.next=6,this._instaService.invokeFunction(tD,this._editor,i.event.target,n);case 6:case"end":return l.stop()}},t,this)}))})}},{key:"_getInlayHintLabelPart",value:function(e){var i;if(e.target.type===6){var t=(i=e.target.detail.injectedText)===null||i===void 0?void 0:i.options;if(t instanceof hn.a&&(t==null?void 0:t.attachedData)instanceof Np)return t.attachedData}}},{key:"_invokeCommand",value:function(e,i){var t;return xf(this,void 0,void 0,Object(d.a)().mark(function n(){var r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(r=this._commandService).executeCommand.apply(r,[e.id].concat(Object(on.a)((t=e.arguments)!==null&&t!==void 0?t:[])));case 3:c.next=8;break;case 5:c.prev=5,c.t0=c.catch(0),this._notificationService.notify({severity:Ra.c.Error,source:i.provider.displayName,message:c.t0});case 8:case"end":return c.stop()}},n,this,[[0,5]])}))}},{key:"_cacheHintsForFastRestore",value:function(e){var i=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,i)}},{key:"_copyInlayHintsWithCurrentAnchor",value:function(e){var i=new Map,t=Object(G.a)(this._decorationsMetadata),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=Object(O.a)(r,2),c=l[0],h=l[1];if(!i.has(h.item)){var f=e.getDecorationRange(c);if(f){var R=new K_(f,h.item.anchor.direction),X=h.item.with({anchor:R});i.set(h.item,X)}}}}catch(oe){t.e(oe)}finally{t.f()}return Array.from(i.values())}},{key:"_getHintsRanges",value:function(){var e=30,i=this._editor.getModel(),t=this._editor.getVisibleRangesPlusViewportAboveBelow(),n=[],r=Object(G.a)(t.sort(Ze.a.compareRangesUsingStarts)),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=i.validateRange(new Ze.a(c.startLineNumber-e,c.startColumn,c.endLineNumber+e,c.endColumn));n.length===0||!Ze.a.areIntersectingOrTouching(n[n.length-1],h)?n.push(h):n[n.length-1]=Ze.a.plusRange(n[n.length-1],h)}}catch(f){r.e(f)}finally{r.f()}return n}},{key:"_updateHintsDecorators",value:function(e,i){var t=this,n,r,l=[],c=function(co,ls,vo,Fo,cu){var dc={content:vo,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:ls.className,cursorStops:Fo,attachedData:cu};l.push({item:co,classNameRef:ls,decoration:{range:co.anchor.range,options:Object(rt.a)({description:"InlayHint",showIfCollapsed:co.anchor.range.isEmpty(),collapseOnReplaceEdit:!co.anchor.range.isEmpty(),stickiness:0},co.anchor.direction,t._activeRenderMode===0?dc:void 0)}})},h=function(co,ls){var vo=t._ruleFactory.createClassNameRef({width:"".concat(R/3|0,"px"),display:"inline-block"});c(co,vo,"\u200A",ls?Zt.d.Right:Zt.d.None)},f=this._getLayoutInfo(),R=f.fontSize,X=f.fontFamily,oe=f.padding,je=f.isUniform,Me="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Me,X);var st=Object(G.a)(i),gt;try{for(st.s();!(gt=st.n()).done;){var jt=gt.value;jt.hint.paddingLeft&&h(jt,!1);for(var Xt=typeof jt.hint.label=="string"?[{label:jt.hint.label}]:jt.hint.label,sn=0;sn<Xt.length;sn++){var qn=Xt[sn],Hn=sn===0,fi=sn===Xt.length-1,Ci={fontSize:"".concat(R,"px"),fontFamily:"var(".concat(Me,"), ").concat(hs.d.fontFamily),verticalAlign:je?"baseline":"middle",unicodeBidi:"isolate"};Object(Wn.s)(jt.hint.textEdits)&&(Ci.cursor="default"),this._fillInColors(Ci,jt.hint),(qn.command||qn.location)&&((n=this._activeInlayHintPart)===null||n===void 0?void 0:n.part.item)===jt&&this._activeInlayHintPart.part.index===sn&&(Ci.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(Ci.color=Object(si.f)(lt.E),Ci.cursor="pointer")),oe&&(Hn&&fi?(Ci.padding="1px ".concat(Math.max(1,R/4)|0,"px"),Ci.borderRadius="".concat(R/4|0,"px")):Hn?(Ci.padding="1px 0 1px ".concat(Math.max(1,R/4)|0,"px"),Ci.borderRadius="".concat(R/4|0,"px 0 0 ").concat(R/4|0,"px")):fi?(Ci.padding="1px ".concat(Math.max(1,R/4)|0,"px 1px 0"),Ci.borderRadius="0 ".concat(R/4|0,"px ").concat(R/4|0,"px 0")):Ci.padding="1px 0 1px 0"),c(jt,this._ruleFactory.createClassNameRef(Ci),aD(qn.label),fi&&!jt.hint.paddingRight?Zt.d.Right:Zt.d.None,new Np(jt,sn))}if(jt.hint.paddingRight&&h(jt,!0),l.length>s._MAX_DECORATORS)break}}catch(fa){st.e(fa)}finally{st.f()}var wi=[],Ai=Object(G.a)(e),jr;try{for(Ai.s();!(jr=Ai.n()).done;){var dr=jr.value,Dr=Object(G.a)((r=this._editor.getDecorationsInRange(dr))!==null&&r!==void 0?r:[]),Kr;try{for(Dr.s();!(Kr=Dr.n()).done;){var pa=Kr.value,xr=pa.id,Pa=this._decorationsMetadata.get(xr);Pa&&(wi.push(xr),Pa.classNameRef.dispose(),this._decorationsMetadata.delete(xr))}}catch(fa){Dr.e(fa)}finally{Dr.f()}}}catch(fa){Ai.e(fa)}finally{Ai.f()}var Ca=pc.a.capture(this._editor);this._editor.changeDecorations(function(fa){for(var co=fa.deltaDecorations(wi,l.map(function(Fo){return Fo.decoration})),ls=0;ls<co.length;ls++){var vo=l[ls];t._decorationsMetadata.set(co[ls],vo)}}),Ca.restore(this._editor)}},{key:"_fillInColors",value:function(e,i){i.kind===so.f.Parameter?(e.backgroundColor=Object(si.f)(lt.X),e.color=Object(si.f)(lt.Y)):i.kind===so.f.Type?(e.backgroundColor=Object(si.f)(lt.Z),e.color=Object(si.f)(lt.ab)):(e.backgroundColor=Object(si.f)(lt.V),e.color=Object(si.f)(lt.W))}},{key:"_getLayoutInfo",value:function(){var e=this._editor.getOption(136),i=e.padding,t=this._editor.getOption(50),n=this._editor.getOption(47),r=e.fontSize;(!r||r<5||r>t)&&(r=t);var l=e.fontFamily||n,c=!i&&l===n&&r===t;return{fontSize:r,fontFamily:l,padding:i,isUniform:c}}},{key:"_removeAllDecorations",value:function(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));var e=Object(G.a)(this._decorationsMetadata.values()),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;t.classNameRef.dispose()}}catch(n){e.e(n)}finally{e.f()}this._decorationsMetadata.clear()}}],[{key:"get",value:function(e){var i;return(i=e.getContribution(s.ID))!==null&&i!==void 0?i:void 0}}]),s}();Fh.ID="editor.contrib.InlayHints",Fh._MAX_DECORATORS=1500,Fh=nD([Nf(1,$i.a),Nf(2,Ms.a),Nf(3,Q_),Nf(4,$r.b),Nf(5,Ra.a),Nf(6,ia.a)],Fh);function aD(s){var o="\xA0";return s.replace(/[ \t]/g,o)}$r.a.registerCommand("_executeInlayHintProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return xf(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return n=e[0],r=e[1],Object(ya.b)(_r.a.isUri(n)),Object(ya.b)(Ze.a.isIRange(r)),l=s.get($i.a),c=l.inlayHintsProvider,oe.next=6,s.get(Qi.a).createModelReference(n);case 6:return h=oe.sent,oe.prev=7,oe.next=10,G_.create(c,h.object.textEditorModel,[Ze.a.lift(r)],Zn.a.None);case 10:return f=oe.sent,R=f.items.map(function(je){return je.hint}),setTimeout(function(){return f.dispose()},0),oe.abrupt("return",R);case 14:return oe.prev=14,h.dispose(),oe.finish(14);case 17:case"end":return oe.stop()}},t,null,[[7,,14,17]])}))});var oD=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},zv=function(s,o){return function(e,i){o(e,i,s)}},Y_=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},sD=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s[Symbol.asyncIterator],e;return o?o.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=s[n]&&function(r){return new Promise(function(l,c){r=s[n](r),t(l,c,r.done,r.value)})}}function t(n,r,l,c){Promise.resolve(c).then(function(h){n({value:h,done:l})},r)}},Z_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;return Object(A.a)(this,e),l=o.call(this,10,t,i.item.anchor.range,n,r,!0),l.part=i,l}return Object(P.a)(e)}(Be),xp=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c){var h;return Object(A.a)(this,e),h=o.call(this,i,t,n,r,c),h._resolverService=l,h.hoverOrdinal=6,h}return Object(P.a)(e,[{key:"suggestHoverAnchor",value:function(t){var n,r=Fh.get(this._editor);if(!r||t.target.type!==6)return null;var l=(n=t.target.detail.injectedText)===null||n===void 0?void 0:n.options;return l instanceof hn.a&&l.attachedData instanceof Np?new Z_(l.attachedData,this,t.event.posx,t.event.posy):null}},{key:"computeSync",value:function(){return[]}},{key:"computeAsync",value:function(t,n,r){var l=this;return t instanceof Z_?new mt.a(function(c){return Y_(l,void 0,void 0,Object(d.a)().mark(function h(){var f,R,X,oe,je,Me,st,gt,jt,Xt,sn,qn,Hn,fi,Ci;return Object(d.a)().wrap(function(Ai){for(;;)switch(Ai.prev=Ai.next){case 0:return je=t.part,Ai.next=3,je.item.resolve(r);case 3:if(!r.isCancellationRequested){Ai.next=5;break}return Ai.abrupt("return");case 5:return typeof je.item.hint.tooltip=="string"?Me=new Sn.a().appendText(je.item.hint.tooltip):je.item.hint.tooltip&&(Me=je.item.hint.tooltip),Me&&c.emitOne(new Wr(this,t.range,[Me],!1,0)),Object(Wn.s)(je.item.hint.textEdits)&&c.emitOne(new Wr(this,t.range,[new Sn.a().appendText(Object(We.b)("hint.dbl","Double-click to insert"))],!1,10001)),typeof je.part.tooltip=="string"?st=new Sn.a().appendText(je.part.tooltip):je.part.tooltip&&(st=je.part.tooltip),st&&c.emitOne(new Wr(this,t.range,[st],!1,1)),(je.part.location||je.part.command)&&(jt=this._editor.getOption(75)==="altKey",Xt=jt?Mt.i?Object(We.b)("links.navigate.kb.meta.mac","cmd + click"):Object(We.b)("links.navigate.kb.meta","ctrl + click"):Mt.i?Object(We.b)("links.navigate.kb.alt.mac","option + click"):Object(We.b)("links.navigate.kb.alt","alt + click"),je.part.location&&je.part.command?gt=new Sn.a().appendText(Object(We.b)("hint.defAndCommand","Go to Definition ({0}), right click for more",Xt)):je.part.location?gt=new Sn.a().appendText(Object(We.b)("hint.def","Go to Definition ({0})",Xt)):je.part.command&&(gt=new Sn.a("[".concat(Object(We.b)("hint.cmd","Execute Command"),"](").concat(eD(je.part.command),' "').concat(je.part.command.title,'") (').concat(Xt,")"),{isTrusted:!0})),gt&&c.emitOne(new Wr(this,t.range,[gt],!1,1e4))),Ai.next=13,this._resolveInlayHintLabelPartHover(je,r);case 13:sn=Ai.sent,Ai.prev=14,qn=!0,Hn=sD(sn);case 16:return Ai.next=18,Hn.next();case 18:if(fi=Ai.sent,f=fi.done,f){Ai.next=28;break}oe=fi.value,qn=!1,Ci=oe,c.emitOne(Ci);case 25:qn=!0,Ai.next=16;break;case 28:Ai.next=33;break;case 30:Ai.prev=30,Ai.t0=Ai.catch(14),R={error:Ai.t0};case 33:if(Ai.prev=33,Ai.prev=34,!(!qn&&!f&&(X=Hn.return))){Ai.next=38;break}return Ai.next=38,X.call(Hn);case 38:if(Ai.prev=38,!R){Ai.next=41;break}throw R.error;case 41:return Ai.finish(38);case 42:return Ai.finish(33);case 43:case"end":return Ai.stop()}},h,this,[[14,30,33,43],[34,,38,42]])}))}):mt.a.EMPTY}},{key:"_resolveInlayHintLabelPartHover",value:function(t,n){return Y_(this,void 0,void 0,Object(d.a)().mark(function r(){var l=this,c,h,f,R,X;return Object(d.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(t.part.location){je.next=2;break}return je.abrupt("return",mt.a.EMPTY);case 2:return c=t.part.location,h=c.uri,f=c.range,je.next=5,this._resolverService.createModelReference(h);case 5:if(R=je.sent,je.prev=6,X=R.object.textEditorModel,this._languageFeaturesService.hoverProvider.has(X)){je.next=10;break}return je.abrupt("return",mt.a.EMPTY);case 10:return je.abrupt("return",Ha(this._languageFeaturesService.hoverProvider,X,new nt.a(f.startLineNumber,f.startColumn),n).filter(function(Me){return!Object(Sn.c)(Me.hover.contents)}).map(function(Me){return new Wr(l,t.item.anchor.range,Me.hover.contents,!1,2+Me.ordinal)}));case 11:return je.prev=11,R.dispose(),je.finish(11);case 14:case"end":return je.stop()}},r,this,[[6,,11,14]])}))}}]),e}(ma);xp=oD([zv(1,Ti.a),zv(2,io.a),zv(3,Do.a),zv(4,Qi.a),zv(5,$i.a)],xp),Object(wt.m)(Fh.ID,Fh,1),St.register(xp);var lD=function(){function s(o,e,i){Object(A.a)(this,s),this._editRange=o,this._originalSelection=e,this._text=i}return Object(P.a)(s,[{key:"getEditOperations",value:function(e,i){i.addTrackedEditOperation(this._editRange,this._text)}},{key:"computeCursorState",value:function(e,i){var t=i.getInverseEditOperations(),n=t[0].range;return this._originalSelection.isEmpty()?new Pi.a(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new Pi.a(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}]),s}(),YE=a("14gw"),uD=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},cD=function(s,o){return function(e,i){o(e,i,s)}},$d=function(){function s(o,e){Object(A.a)(this,s),this.editor=o,this.editorWorkerService=e,this.decorations=this.editor.createDecorationsCollection()}return Object(P.a)(s,[{key:"dispose",value:function(){}},{key:"run",value:function(e,i){var t=this,n;(n=this.currentRequest)===null||n===void 0||n.cancel();var r=this.editor.getSelection(),l=this.editor.getModel();if(!(!l||!r)){var c=r;if(c.startLineNumber===c.endLineNumber){var h=new ja.a(this.editor,1|4),f=l.uri;return this.editorWorkerService.canNavigateValueSet(f)?(this.currentRequest=Object(mt.k)(function(R){return t.editorWorkerService.navigateValueSet(f,c,i)}),this.currentRequest.then(function(R){var X;if(!(!R||!R.range||!R.value)&&!!h.validate(t.editor)){var oe=Ze.a.lift(R.range),je=R.range,Me=R.value.length-(c.endColumn-c.startColumn);je={startLineNumber:je.startLineNumber,startColumn:je.startColumn,endLineNumber:je.endLineNumber,endColumn:je.startColumn+R.value.length},Me>1&&(c=new Pi.a(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn+Me-1));var st=new lD(oe,c,R.value);t.editor.pushUndoStop(),t.editor.executeCommand(e,st),t.editor.pushUndoStop(),t.decorations.set([{range:je,options:s.DECORATION}]),(X=t.decorationRemover)===null||X===void 0||X.cancel(),t.decorationRemover=Object(mt.q)(350),t.decorationRemover.then(function(){return t.decorations.clear()}).catch(Li.h)}}).catch(Li.h)):Promise.resolve(void 0)}}}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();$d.ID="editor.contrib.inPlaceReplaceController",$d.DECORATION=hn.b.register({description:"in-place-replace",className:"valueSetReplacement"}),$d=uD([cD(1,Iv.a)],$d);var dD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.inPlaceReplace.up",label:We.b("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|1024|87,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=$d.get(n);return r?r.run(this.id,!1):Promise.resolve(void 0)}}]),e}(wt.b),hD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.inPlaceReplace.down",label:We.b("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|1024|89,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=$d.get(n);return r?r.run(this.id,!0):Promise.resolve(void 0)}}]),e}(wt.b);Object(wt.m)($d.ID,$d,4),Object(wt.k)(dD),Object(wt.k)(hD);var Fp=a("sVcW"),fD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"expandLineSelection",label:We.b("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:Ut.a.textInputFocus,primary:2048|42}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){if(r=r||{},!!n.hasModel()){var l=n._getViewModel();l.model.pushStackElement(),l.setCursorStates(r.source,3,Fp.b.expandLineSelection(l,l.getCursorStates())),l.revealPrimaryCursor(r.source,!0)}}}]),e}(wt.b);Object(wt.k)(fD);var vD=function(){function s(o,e){Object(A.a)(this,s),this._selection=o,this._cursors=e,this._selectionId=null}return Object(P.a)(s,[{key:"getEditOperations",value:function(e,i){for(var t=gD(e,this._cursors),n=0,r=t.length;n<r;n++){var l=t[n];i.addEditOperation(l.range,l.text)}this._selectionId=i.trackSelection(this._selection)}},{key:"computeCursorState",value:function(e,i){return i.getTrackedSelection(this._selectionId)}}]),s}();function gD(s,o){o.sort(function(je,Me){return je.lineNumber===Me.lineNumber?je.column-Me.column:je.lineNumber-Me.lineNumber});for(var e=o.length-2;e>=0;e--)o[e].lineNumber===o[e+1].lineNumber&&o.splice(e,1);for(var i=[],t=0,n=0,r=o.length,l=1,c=s.getLineCount();l<=c;l++){var h=s.getLineContent(l),f=h.length+1,R=0;if(!(n<r&&o[n].lineNumber===l&&(R=o[n].column,n++,R===f))&&h.length!==0){var X=vr.J(h),oe=0;if(X===-1)oe=1;else if(X!==h.length-1)oe=X+2;else continue;oe=Math.max(R,oe),i[t++]=Jo.a.delete(new Ze.a(l,oe,l,f))}}return i}var Bp=a("HHK3"),X_=function(){function s(o,e,i){Object(A.a)(this,s),this._selection=o,this._isCopyingDown=e,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}return Object(P.a)(s,[{key:"getEditOperations",value:function(e,i){var t=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,t.startLineNumber<t.endLineNumber&&t.endColumn===1&&(this._endLineNumberDelta=1,t=t.setEndPosition(t.endLineNumber-1,e.getLineMaxColumn(t.endLineNumber-1)));for(var n=[],r=t.startLineNumber;r<=t.endLineNumber;r++)n.push(e.getLineContent(r));var l=n.join(`
`);l===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?i.addEditOperation(new Ze.a(t.endLineNumber,e.getLineMaxColumn(t.endLineNumber),t.endLineNumber+1,1),t.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?i.addEditOperation(new Ze.a(t.startLineNumber,1,t.startLineNumber,1),l+`
`):i.addEditOperation(new Ze.a(t.endLineNumber,e.getLineMaxColumn(t.endLineNumber),t.endLineNumber,e.getLineMaxColumn(t.endLineNumber)),`
`+l),this._selectionId=i.trackSelection(t),this._selectionDirection=this._selection.getDirection()}},{key:"computeCursorState",value:function(e,i){var t=i.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){var n=t.startLineNumber,r=t.startColumn,l=t.endLineNumber,c=t.endColumn;this._startLineNumberDelta!==0&&(n=n+this._startLineNumberDelta,r=1),this._endLineNumberDelta!==0&&(l=l+this._endLineNumberDelta,c=1),t=Pi.a.createWithDirection(n,r,l,c,this._selectionDirection)}return t}}]),s}(),Yg=a("PXCW"),Wp=a("s3yj"),mD=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},pD=function(s,o){return function(e,i){o(e,i,s)}},Vp=function(){function s(o,e,i,t){Object(A.a)(this,s),this._languageConfigurationService=t,this._selection=o,this._isMovingDown=e,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}return Object(P.a)(s,[{key:"getEditOperations",value:function(e,i){var t=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===t){this._selectionId=i.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=i.trackSelection(this._selection);return}this._moveEndPositionDown=!1;var n=this._selection;n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));var r=e.getOptions(),l=r.tabSize,c=r.indentSize,h=r.insertSpaces,f=this.buildIndentConverter(l,c,h),R={tokenization:{getLineTokens:function(Fo){return e.tokenization.getLineTokens(Fo)},getLanguageId:function(){return e.getLanguageId()},getLanguageIdAtPosition:function(Fo,cu){return e.getLanguageIdAtPosition(Fo,cu)}},getLineContent:null};if(n.startLineNumber===n.endLineNumber&&e.getLineMaxColumn(n.startLineNumber)===1){var X=n.startLineNumber,oe=this._isMovingDown?X+1:X-1;e.getLineMaxColumn(oe)===1?i.addEditOperation(new Ze.a(1,1,1,1),null):(i.addEditOperation(new Ze.a(X,1,X,1),e.getLineContent(oe)),i.addEditOperation(new Ze.a(oe,1,oe,e.getLineMaxColumn(oe)),null)),n=new Pi.a(oe,1,oe,1)}else{var je,Me;if(this._isMovingDown){je=n.endLineNumber+1,Me=e.getLineContent(je),i.addEditOperation(new Ze.a(je-1,e.getLineMaxColumn(je-1),je,e.getLineMaxColumn(je)),null);var st=Me;if(this.shouldAutoIndent(e,n)){var gt=this.matchEnterRule(e,f,l,je,n.startLineNumber-1);if(gt!==null){var jt=vr.x(e.getLineContent(je)),Xt=gt+Ul(jt,l),sn=Vv(Xt,l,h);st=sn+this.trimLeft(Me)}else{R.getLineContent=function(vo){return vo===n.startLineNumber?e.getLineContent(je):e.getLineContent(vo)};var qn=Object(xh.a)(this._autoIndent,R,e.getLanguageIdAtPosition(je,1),n.startLineNumber,f,this._languageConfigurationService);if(qn!==null){var Hn=vr.x(e.getLineContent(je)),fi=Ul(qn,l),Ci=Ul(Hn,l);if(fi!==Ci){var wi=Vv(fi,l,h);st=wi+this.trimLeft(Me)}}}i.addEditOperation(new Ze.a(n.startLineNumber,1,n.startLineNumber,1),st+`
`);var Ai=this.matchEnterRuleMovingDown(e,f,l,n.startLineNumber,je,st);if(Ai!==null)Ai!==0&&this.getIndentEditsOfMovingBlock(e,i,n,l,h,Ai);else{R.getLineContent=function(vo){return vo===n.startLineNumber?st:vo>=n.startLineNumber+1&&vo<=n.endLineNumber+1?e.getLineContent(vo-1):e.getLineContent(vo)};var jr=Object(xh.a)(this._autoIndent,R,e.getLanguageIdAtPosition(je,1),n.startLineNumber+1,f,this._languageConfigurationService);if(jr!==null){var dr=vr.x(e.getLineContent(n.startLineNumber)),Dr=Ul(jr,l),Kr=Ul(dr,l);if(Dr!==Kr){var pa=Dr-Kr;this.getIndentEditsOfMovingBlock(e,i,n,l,h,pa)}}}}else i.addEditOperation(new Ze.a(n.startLineNumber,1,n.startLineNumber,1),st+`
`)}else if(je=n.startLineNumber-1,Me=e.getLineContent(je),i.addEditOperation(new Ze.a(je,1,je+1,1),null),i.addEditOperation(new Ze.a(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),`
`+Me),this.shouldAutoIndent(e,n)){R.getLineContent=function(vo){return vo===je?e.getLineContent(n.startLineNumber):e.getLineContent(vo)};var xr=this.matchEnterRule(e,f,l,n.startLineNumber,n.startLineNumber-2);if(xr!==null)xr!==0&&this.getIndentEditsOfMovingBlock(e,i,n,l,h,xr);else{var Pa=Object(xh.a)(this._autoIndent,R,e.getLanguageIdAtPosition(n.startLineNumber,1),je,f,this._languageConfigurationService);if(Pa!==null){var Ca=vr.x(e.getLineContent(n.startLineNumber)),fa=Ul(Pa,l),co=Ul(Ca,l);if(fa!==co){var ls=fa-co;this.getIndentEditsOfMovingBlock(e,i,n,l,h,ls)}}}}}this._selectionId=i.trackSelection(n)}},{key:"buildIndentConverter",value:function(e,i,t){return{shiftIndent:function(r){return Rf.a.shiftIndent(r,r.length+1,e,i,t)},unshiftIndent:function(r){return Rf.a.unshiftIndent(r,r.length+1,e,i,t)}}}},{key:"parseEnterResult",value:function(e,i,t,n,r){if(r){var l=r.indentation;r.indentAction===Yg.b.None||r.indentAction===Yg.b.Indent?l=r.indentation+r.appendText:r.indentAction===Yg.b.IndentOutdent?l=r.indentation:r.indentAction===Yg.b.Outdent&&(l=i.unshiftIndent(r.indentation)+r.appendText);var c=e.getLineContent(n);if(this.trimLeft(c).indexOf(this.trimLeft(l))>=0){var h=vr.x(e.getLineContent(n)),f=vr.x(l),R=Object(xh.d)(e,n,this._languageConfigurationService);R!==null&&R&2&&(f=i.unshiftIndent(f));var X=Ul(f,t),oe=Ul(h,t);return X-oe}}return null}},{key:"matchEnterRuleMovingDown",value:function(e,i,t,n,r,l){if(vr.J(l)>=0){var c=e.getLineMaxColumn(r),h=Object(Wp.a)(this._autoIndent,e,new Ze.a(r,c,r,c),this._languageConfigurationService);return this.parseEnterResult(e,i,t,n,h)}else{for(var f=n-1;f>=1;){var R=e.getLineContent(f),X=vr.J(R);if(X>=0)break;f--}if(f<1||n>e.getLineCount())return null;var oe=e.getLineMaxColumn(f),je=Object(Wp.a)(this._autoIndent,e,new Ze.a(f,oe,f,oe),this._languageConfigurationService);return this.parseEnterResult(e,i,t,n,je)}}},{key:"matchEnterRule",value:function(e,i,t,n,r,l){for(var c=r;c>=1;){var h=void 0;c===r&&l!==void 0?h=l:h=e.getLineContent(c);var f=vr.J(h);if(f>=0)break;c--}if(c<1||n>e.getLineCount())return null;var R=e.getLineMaxColumn(c),X=Object(Wp.a)(this._autoIndent,e,new Ze.a(c,R,c,R),this._languageConfigurationService);return this.parseEnterResult(e,i,t,n,X)}},{key:"trimLeft",value:function(e){return e.replace(/^\s+/,"")}},{key:"shouldAutoIndent",value:function(e,i){if(this._autoIndent<4||!e.tokenization.isCheapToTokenize(i.startLineNumber))return!1;var t=e.getLanguageIdAtPosition(i.startLineNumber,1),n=e.getLanguageIdAtPosition(i.endLineNumber,1);return!(t!==n||this._languageConfigurationService.getLanguageConfiguration(t).indentRulesSupport===null)}},{key:"getIndentEditsOfMovingBlock",value:function(e,i,t,n,r,l){for(var c=t.startLineNumber;c<=t.endLineNumber;c++){var h=e.getLineContent(c),f=vr.x(h),R=Ul(f,n),X=R+l,oe=Vv(X,n,r);oe!==f&&(i.addEditOperation(new Ze.a(c,1,c,f.length+1),oe),c===t.endLineNumber&&t.endColumn<=f.length+1&&oe===""&&(this._moveEndLineSelectionShrink=!0))}}},{key:"computeCursorState",value:function(e,i){var t=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(t=t.setEndPosition(t.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&t.startLineNumber<t.endLineNumber&&(t=t.setEndPosition(t.endLineNumber,2)),t}}]),s}();Vp=mD([pD(3,po.a)],Vp);var Zg=function(){function s(o,e){Object(A.a)(this,s),this.selection=o,this.descending=e,this.selectionId=null}return Object(P.a)(s,[{key:"getEditOperations",value:function(e,i){var t=bD(e,this.selection,this.descending);t&&i.addEditOperation(t.range,t.text),this.selectionId=i.trackSelection(this.selection)}},{key:"computeCursorState",value:function(e,i){return i.getTrackedSelection(this.selectionId)}}],[{key:"getCollator",value:function(){return s._COLLATOR||(s._COLLATOR=new Intl.Collator),s._COLLATOR}},{key:"canRun",value:function(e,i,t){if(e===null)return!1;var n=J_(e,i,t);if(!n)return!1;for(var r=0,l=n.before.length;r<l;r++)if(n.before[r]!==n.after[r])return!0;return!1}}]),s}();Zg._COLLATOR=null;function J_(s,o,e){var i=o.startLineNumber,t=o.endLineNumber;if(o.endColumn===1&&t--,i>=t)return null;for(var n=[],r=i;r<=t;r++)n.push(s.getLineContent(r));var l=n.slice(0);return l.sort(Zg.getCollator().compare),e===!0&&(l=l.reverse()),{startLineNumber:i,endLineNumber:t,before:n,after:l}}function bD(s,o,e){var i=J_(s,o,e);return i?Jo.a.replace(new Ze.a(i.startLineNumber,1,i.endLineNumber,s.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}var q_=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this,t),n.down=i,n}return Object(P.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=n.getSelections().map(function(je,Me){return{selection:je,index:Me,ignore:!1}});r.sort(function(je,Me){return Ze.a.compareRangesUsingStarts(je.selection,Me.selection)});for(var l=r[0],c=1;c<r.length;c++){var h=r[c];l.selection.endLineNumber===h.selection.startLineNumber&&(l.index<h.index?h.ignore=!0:(l.ignore=!0,l=h))}var f=[],R=Object(G.a)(r),X;try{for(R.s();!(X=R.n()).done;){var oe=X.value;f.push(new X_(oe.selection,this.down,oe.ignore))}}catch(je){R.e(je)}finally{R.f()}n.pushUndoStop(),n.executeCommands(this.id,f),n.pushUndoStop()}}}]),e}(wt.b),yD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!1,{id:"editor.action.copyLinesUpAction",label:We.b("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"2_line",title:We.b({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}return Object(P.a)(e)}(q_),_D=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!0,{id:"editor.action.copyLinesDownAction",label:We.b("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"2_line",title:We.b({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}return Object(P.a)(e)}(q_),CD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.duplicateSelection",label:We.b("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:Ut.a.writable,menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"2_line",title:We.b({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=[],c=n.getSelections(),h=n.getModel(),f=Object(G.a)(c),R;try{for(f.s();!(R=f.n()).done;){var X=R.value;if(X.isEmpty())l.push(new X_(X,!0));else{var oe=new Pi.a(X.endLineNumber,X.endColumn,X.endLineNumber,X.endColumn);l.push(new ua.c(oe,h.getValueInRange(X)))}}}catch(je){f.e(je)}finally{f.f()}n.pushUndoStop(),n.executeCommands(this.id,l),n.pushUndoStop()}}}]),e}(wt.b),e0=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this,t),n.down=i,n}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=t.get(po.a),l=[],c=n.getSelections()||[],h=n.getOption(10),f=Object(G.a)(c),R;try{for(f.s();!(R=f.n()).done;){var X=R.value;l.push(new Vp(X,this.down,h,r))}}catch(oe){f.e(oe)}finally{f.f()}n.pushUndoStop(),n.executeCommands(this.id,l),n.pushUndoStop()}}]),e}(wt.b),OD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!1,{id:"editor.action.moveLinesUpAction",label:We.b("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"2_line",title:We.b({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}return Object(P.a)(e)}(e0),SD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!0,{id:"editor.action.moveLinesDownAction",label:We.b("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"2_line",title:We.b({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}return Object(P.a)(e)}(e0),t0=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this,t),n.descending=i,n}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=n.getSelections()||[],l=Object(G.a)(r),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;if(!Zg.canRun(n.getModel(),h,this.descending))return}}catch(oe){l.e(oe)}finally{l.f()}for(var f=[],R=0,X=r.length;R<X;R++)f[R]=new Zg(r[R],this.descending);n.pushUndoStop(),n.executeCommands(this.id,f),n.pushUndoStop()}}]),e}(wt.b),kD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!1,{id:"editor.action.sortLinesAscending",label:We.b("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:Ut.a.writable})}return Object(P.a)(e)}(t0),DD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!0,{id:"editor.action.sortLinesDescending",label:We.b("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:Ut.a.writable})}return Object(P.a)(e)}(t0),wD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.removeDuplicateLines",label:We.b("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=n.getModel();if(!(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)){var l=[],c=[],h=0,f=Object(G.a)(n.getSelections()),R;try{for(f.s();!(R=f.n()).done;){for(var X=R.value,oe=new Set,je=[],Me=X.startLineNumber;Me<=X.endLineNumber;Me++){var st=r.getLineContent(Me);oe.has(st)||(je.push(st),oe.add(st))}var gt=new Pi.a(X.startLineNumber,1,X.endLineNumber,r.getLineMaxColumn(X.endLineNumber)),jt=X.startLineNumber-h,Xt=new Pi.a(jt,1,jt+je.length-1,je[je.length-1].length);l.push(Jo.a.replace(gt,je.join(`
`))),c.push(Xt),h+=X.endLineNumber-X.startLineNumber+1-je.length}}catch(sn){f.e(sn)}finally{f.f()}n.pushUndoStop(),n.executeEdits(this.id,l,c),n.pushUndoStop()}}}}]),e}(wt.b),n0=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,label:We.b("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:Object(Ii.c)(2048|41,2048|54),weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){var l=[];r.reason==="auto-save"&&(l=(n.getSelections()||[]).map(function(f){return new nt.a(f.positionLineNumber,f.positionColumn)}));var c=n.getSelection();if(c!==null){var h=new vD(c,l);n.pushUndoStop(),n.executeCommands(this.id,[h]),n.pushUndoStop()}}}]),e}(wt.b);n0.ID="editor.action.trimTrailingWhitespace";var jD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.deleteLines",label:We.b("lines.delete","Delete Line"),alias:"Delete Line",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:2048|1024|41,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=this._getLinesToRemove(n),l=n.getModel();if(!(l.getLineCount()===1&&l.getLineMaxColumn(1)===1)){for(var c=0,h=[],f=[],R=0,X=r.length;R<X;R++){var oe=r[R],je=oe.startLineNumber,Me=oe.endLineNumber,st=1,gt=l.getLineMaxColumn(Me);Me<l.getLineCount()?(Me+=1,gt=1):je>1&&(je-=1,st=l.getLineMaxColumn(je)),h.push(Jo.a.replace(new Pi.a(je,st,Me,gt),"")),f.push(new Pi.a(je-c,oe.positionColumn,je-c,oe.positionColumn)),c+=oe.endLineNumber-oe.startLineNumber+1}n.pushUndoStop(),n.executeEdits(this.id,h,f),n.pushUndoStop()}}}},{key:"_getLinesToRemove",value:function(t){var n=t.getSelections().map(function(h){var f=h.endLineNumber;return h.startLineNumber<h.endLineNumber&&h.endColumn===1&&(f-=1),{startLineNumber:h.startLineNumber,selectionStartColumn:h.selectionStartColumn,endLineNumber:f,positionColumn:h.positionColumn}});n.sort(function(h,f){return h.startLineNumber===f.startLineNumber?h.endLineNumber-f.endLineNumber:h.startLineNumber-f.startLineNumber});for(var r=[],l=n[0],c=1;c<n.length;c++)l.endLineNumber+1>=n[c].startLineNumber?l.endLineNumber=n[c].endLineNumber:(r.push(l),l=n[c]);return r.push(l),r}}]),e}(wt.b),ED=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.indentLines",label:We.b("lines.indent","Indent Line"),alias:"Indent Line",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|94,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=n._getViewModel();!r||(n.pushUndoStop(),n.executeCommands(this.id,Bp.b.indent(r.cursorConfig,n.getModel(),n.getSelections())),n.pushUndoStop())}}]),e}(wt.b),LD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.outdentLines",label:We.b("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|92,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){en.a.Outdent.runEditorCommand(t,n,null)}}]),e}(wt.b),MD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.insertLineBefore",label:We.b("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|1024|3,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=n._getViewModel();!r||(n.pushUndoStop(),n.executeCommands(this.id,Bp.b.lineInsertBefore(r.cursorConfig,n.getModel(),n.getSelections())))}}]),e}(wt.b),TD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.insertLineAfter",label:We.b("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|3,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=n._getViewModel();!r||(n.pushUndoStop(),n.executeCommands(this.id,Bp.b.lineInsertAfter(r.cursorConfig,n.getModel(),n.getSelections())))}}]),e}(wt.b),i0=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){for(var r=n.getSelection(),l=this._getRangesToDelete(n),c=[],h=0,f=l.length-1;h<f;h++){var R=l[h],X=l[h+1];Ze.a.intersectRanges(R,X)===null?c.push(R):l[h+1]=Ze.a.plusRange(R,X)}c.push(l[l.length-1]);var oe=this._getEndCursorState(r,c),je=c.map(function(Me){return Jo.a.replace(Me,"")});n.pushUndoStop(),n.executeEdits(this.id,je,oe),n.pushUndoStop()}}}]),e}(wt.b),ID=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"deleteAllLeft",label:We.b("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}return Object(P.a)(e,[{key:"_getEndCursorState",value:function(t,n){var r=null,l=[],c=0;return n.forEach(function(h){var f;if(h.endColumn===1&&c>0){var R=h.startLineNumber-c;f=new Pi.a(R,h.startColumn,R,h.startColumn)}else f=new Pi.a(h.startLineNumber,h.startColumn,h.startLineNumber,h.startColumn);c+=h.endLineNumber-h.startLineNumber,h.intersectRanges(t)?r=f:l.push(f)}),r&&l.unshift(r),l}},{key:"_getRangesToDelete",value:function(t){var n=t.getSelections();if(n===null)return[];var r=n,l=t.getModel();return l===null?[]:(r.sort(Ze.a.compareRangesUsingStarts),r=r.map(function(c){if(c.isEmpty())if(c.startColumn===1){var h=Math.max(1,c.startLineNumber-1),f=c.startLineNumber===1?1:l.getLineContent(h).length+1;return new Ze.a(h,f,c.startLineNumber,1)}else return new Ze.a(c.startLineNumber,1,c.startLineNumber,c.startColumn);else return new Ze.a(c.startLineNumber,1,c.endLineNumber,c.endColumn)}),r)}}]),e}(i0),PD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"deleteAllRight",label:We.b("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}return Object(P.a)(e,[{key:"_getEndCursorState",value:function(t,n){for(var r=null,l=[],c=0,h=n.length,f=0;c<h;c++){var R=n[c],X=new Pi.a(R.startLineNumber-f,R.startColumn,R.startLineNumber-f,R.startColumn);R.intersectRanges(t)?r=X:l.push(X)}return r&&l.unshift(r),l}},{key:"_getRangesToDelete",value:function(t){var n=t.getModel();if(n===null)return[];var r=t.getSelections();if(r===null)return[];var l=r.map(function(c){if(c.isEmpty()){var h=n.getLineMaxColumn(c.startLineNumber);return c.startColumn===h?new Ze.a(c.startLineNumber,c.startColumn,c.startLineNumber+1,1):new Ze.a(c.startLineNumber,c.startColumn,c.startLineNumber,h)}return c});return l.sort(Ze.a.compareRangesUsingStarts),l}}]),e}(i0),AD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.joinLines",label:We.b("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=n.getSelections();if(r!==null){var l=n.getSelection();if(l!==null){r.sort(Ze.a.compareRangesUsingStarts);var c=[],h=r.reduce(function(Pa,Ca){return Pa.isEmpty()?Pa.endLineNumber===Ca.startLineNumber?(l.equalsSelection(Pa)&&(l=Ca),Ca):Ca.startLineNumber>Pa.endLineNumber+1?(c.push(Pa),Ca):new Pi.a(Pa.startLineNumber,Pa.startColumn,Ca.endLineNumber,Ca.endColumn):Ca.startLineNumber>Pa.endLineNumber?(c.push(Pa),Ca):new Pi.a(Pa.startLineNumber,Pa.startColumn,Ca.endLineNumber,Ca.endColumn)});c.push(h);var f=n.getModel();if(f!==null){for(var R=[],X=[],oe=l,je=0,Me=0,st=c.length;Me<st;Me++){var gt=c[Me],jt=gt.startLineNumber,Xt=1,sn=0,qn=void 0,Hn=void 0,fi=f.getLineContent(gt.endLineNumber).length-gt.endColumn;if(gt.isEmpty()||gt.startLineNumber===gt.endLineNumber){var Ci=gt.getStartPosition();Ci.lineNumber<f.getLineCount()?(qn=jt+1,Hn=f.getLineMaxColumn(qn)):(qn=Ci.lineNumber,Hn=f.getLineMaxColumn(Ci.lineNumber))}else qn=gt.endLineNumber,Hn=f.getLineMaxColumn(qn);for(var wi=f.getLineContent(jt),Ai=jt+1;Ai<=qn;Ai++){var jr=f.getLineContent(Ai),dr=f.getLineFirstNonWhitespaceColumn(Ai);if(dr>=1){var Dr=!0;wi===""&&(Dr=!1),Dr&&(wi.charAt(wi.length-1)===" "||wi.charAt(wi.length-1)==="	")&&(Dr=!1,wi=wi.replace(/[\s\uFEFF\xA0]+$/g," "));var Kr=jr.substr(dr-1);wi+=(Dr?" ":"")+Kr,Dr?sn=Kr.length+1:sn=Kr.length}else sn=0}var pa=new Ze.a(jt,Xt,qn,Hn);if(!pa.isEmpty()){var xr=void 0;gt.isEmpty()?(R.push(Jo.a.replace(pa,wi)),xr=new Pi.a(pa.startLineNumber-je,wi.length-sn+1,jt-je,wi.length-sn+1)):gt.startLineNumber===gt.endLineNumber?(R.push(Jo.a.replace(pa,wi)),xr=new Pi.a(gt.startLineNumber-je,gt.startColumn,gt.endLineNumber-je,gt.endColumn)):(R.push(Jo.a.replace(pa,wi)),xr=new Pi.a(gt.startLineNumber-je,gt.startColumn,gt.startLineNumber-je,wi.length-fi)),Ze.a.intersectRanges(pa,l)!==null?oe=xr:X.push(xr)}je+=pa.endLineNumber-pa.startLineNumber}X.unshift(oe),n.pushUndoStop(),n.executeEdits(this.id,R,X),n.pushUndoStop()}}}}}]),e}(wt.b),RD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.transpose",label:We.b("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=n.getSelections();if(r!==null){var l=n.getModel();if(l!==null){for(var c=[],h=0,f=r.length;h<f;h++){var R=r[h];if(!!R.isEmpty()){var X=R.getStartPosition(),oe=l.getLineMaxColumn(X.lineNumber);if(X.column>=oe){if(X.lineNumber===l.getLineCount())continue;var je=new Ze.a(X.lineNumber,Math.max(1,X.column-1),X.lineNumber+1,1),Me=l.getValueInRange(je).split("").reverse().join("");c.push(new ua.a(new Pi.a(X.lineNumber,Math.max(1,X.column-1),X.lineNumber+1,1),Me))}else{var st=new Ze.a(X.lineNumber,Math.max(1,X.column-1),X.lineNumber,X.column+1),gt=l.getValueInRange(st).split("").reverse().join("");c.push(new ua.b(st,gt,new Pi.a(X.lineNumber,X.column+1,X.lineNumber,X.column+1)))}}}n.pushUndoStop(),n.executeCommands(this.id,c),n.pushUndoStop()}}}}]),e}(wt.b),Ff=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=n.getSelections();if(r!==null){var l=n.getModel();if(l!==null){var c=n.getOption(126),h=[],f=Object(G.a)(r),R;try{for(f.s();!(R=f.n()).done;){var X=R.value;if(X.isEmpty()){var oe=X.getStartPosition(),je=n.getConfiguredWordAtPosition(oe);if(!je)continue;var Me=new Ze.a(oe.lineNumber,je.startColumn,oe.lineNumber,je.endColumn),st=l.getValueInRange(Me);h.push(Jo.a.replace(Me,this._modifyText(st,c)))}else{var gt=l.getValueInRange(X);h.push(Jo.a.replace(X,this._modifyText(gt,c)))}}}catch(jt){f.e(jt)}finally{f.f()}n.pushUndoStop(),n.executeEdits(this.id,h),n.pushUndoStop()}}}}]),e}(wt.b),ND=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.transformToUppercase",label:We.b("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"_modifyText",value:function(t,n){return t.toLocaleUpperCase()}}]),e}(Ff),xD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.transformToLowercase",label:We.b("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"_modifyText",value:function(t,n){return t.toLocaleLowerCase()}}]),e}(Ff),Bh=function(){function s(o,e){Object(A.a)(this,s),this._pattern=o,this._flags=e,this._actual=null,this._evaluated=!1}return Object(P.a)(s,[{key:"get",value:function(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}},{key:"isSupported",value:function(){return this.get()!==null}}]),s}(),Hp=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.transformToTitlecase",label:We.b("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"_modifyText",value:function(t,n){var r=e.titleBoundary.get();return r?t.toLocaleLowerCase().replace(r,function(l){return l.toLocaleUpperCase()}):t}}]),e}(Ff);Hp.titleBoundary=new Bh("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");var Kv=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.transformToSnakecase",label:We.b("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"_modifyText",value:function(t,n){var r=e.caseBoundary.get(),l=e.singleLetters.get();return!r||!l?t:t.replace(r,"$1_$2").replace(l,"$1_$2$3").toLocaleLowerCase()}}]),e}(Ff);Kv.caseBoundary=new Bh("(\\p{Ll})(\\p{Lu})","gmu"),Kv.singleLetters=new Bh("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");var Up=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.transformToCamelcase",label:We.b("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"_modifyText",value:function(t,n){var r=e.wordBoundary.get();if(!r)return t;var l=t.split(r),c=l.shift();return c+l.map(function(h){return h.substring(0,1).toLocaleUpperCase()+h.substring(1)}).join("")}}]),e}(Ff);Up.wordBoundary=new Bh("[_\\s-]","gm");var Gv=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.transformToKebabcase",label:We.b("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:Ut.a.writable})}return Object(P.a)(e,[{key:"_modifyText",value:function(t,n){var r=e.caseBoundary.get(),l=e.singleLetters.get(),c=e.underscoreBoundary.get();return!r||!l||!c?t:t.replace(c,"$1-$3").replace(r,"$1-$2").replace(l,"$1-$2").toLocaleLowerCase()}}],[{key:"isSupported",value:function(){var t=[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(function(n){return n.isSupported()});return t}}]),e}(Ff);Gv.caseBoundary=new Bh("(\\p{Ll})(\\p{Lu})","gmu"),Gv.singleLetters=new Bh("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Gv.underscoreBoundary=new Bh("(\\S)(_)(\\S)","gm"),Object(wt.k)(yD),Object(wt.k)(_D),Object(wt.k)(CD),Object(wt.k)(OD),Object(wt.k)(SD),Object(wt.k)(kD),Object(wt.k)(DD),Object(wt.k)(wD),Object(wt.k)(n0),Object(wt.k)(jD),Object(wt.k)(ED),Object(wt.k)(LD),Object(wt.k)(MD),Object(wt.k)(TD),Object(wt.k)(ID),Object(wt.k)(PD),Object(wt.k)(AD),Object(wt.k)(RD),Object(wt.k)(ND),Object(wt.k)(xD),Kv.caseBoundary.isSupported()&&Kv.singleLetters.isSupported()&&Object(wt.k)(Kv),Up.wordBoundary.isSupported()&&Object(wt.k)(Up),Hp.titleBoundary.isSupported()&&Object(wt.k)(Hp),Gv.isSupported()&&Object(wt.k)(Gv);var ZE=a("StRq"),FD=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Xg=function(s,o){return function(e,i){o(e,i,s)}},zp=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},r0=new Tn.c("LinkedEditingInputVisible",!1),BD="linked-editing-decoration",Qd=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l){var c;return Object(A.a)(this,e),c=o.call(this),c.languageConfigurationService=r,c._syncRangesToken=0,c._localToDispose=c._register(new Ye.c),c._editor=i,c._providers=n.linkedEditingRangeProvider,c._enabled=!1,c._visibleContextKey=r0.bindTo(t),c._debounceInformation=l.for(c._providers,"Linked Editing",{max:200}),c._currentDecorations=c._editor.createDecorationsCollection(),c._languageWordPattern=null,c._currentWordPattern=null,c._ignoreChangeEvent=!1,c._localToDispose=c._register(new Ye.c),c._rangeUpdateTriggerPromise=null,c._rangeSyncTriggerPromise=null,c._currentRequest=null,c._currentRequestPosition=null,c._currentRequestModelVersion=null,c._register(c._editor.onDidChangeModel(function(){return c.reinitialize(!0)})),c._register(c._editor.onDidChangeConfiguration(function(h){(h.hasChanged(67)||h.hasChanged(89))&&c.reinitialize(!1)})),c._register(c._providers.onDidChange(function(){return c.reinitialize(!1)})),c._register(c._editor.onDidChangeModelLanguage(function(){return c.reinitialize(!0)})),c.reinitialize(!0),c}return Object(P.a)(e,[{key:"reinitialize",value:function(t){var n=this,r=this._editor.getModel(),l=r!==null&&(this._editor.getOption(67)||this._editor.getOption(89))&&this._providers.has(r);if(!(l===this._enabled&&!t)&&(this._enabled=l,this.clearRanges(),this._localToDispose.clear(),!(!l||r===null))){this._localToDispose.add(ca.c.runAndSubscribe(r.onDidChangeLanguageConfiguration,function(){n._languageWordPattern=n.languageConfigurationService.getLanguageConfiguration(r.getLanguageId()).getWordDefinition()}));var c=new mt.c(this._debounceInformation.get(r)),h=function(){var oe;n._rangeUpdateTriggerPromise=c.trigger(function(){return n.updateRanges()},(oe=n._debounceDuration)!==null&&oe!==void 0?oe:n._debounceInformation.get(r))},f=new mt.c(0),R=function(oe){n._rangeSyncTriggerPromise=f.trigger(function(){return n._syncRanges(oe)})};this._localToDispose.add(this._editor.onDidChangeCursorPosition(function(){h()})),this._localToDispose.add(this._editor.onDidChangeModelContent(function(X){if(!n._ignoreChangeEvent&&n._currentDecorations.length>0){var oe=n._currentDecorations.getRange(0);if(oe&&X.changes.every(function(je){return oe.intersectRanges(je.range)})){R(n._syncRangesToken);return}}h()})),this._localToDispose.add({dispose:function(){c.dispose(),f.dispose()}}),this.updateRanges()}}},{key:"_syncRanges",value:function(t){if(!(!this._editor.hasModel()||t!==this._syncRangesToken||this._currentDecorations.length===0)){var n=this._editor.getModel(),r=this._currentDecorations.getRange(0);if(!r||r.startLineNumber!==r.endLineNumber)return this.clearRanges();var l=n.getValueInRange(r);if(this._currentWordPattern){var c=l.match(this._currentWordPattern),h=c?c[0].length:0;if(h!==l.length)return this.clearRanges()}for(var f=[],R=1,X=this._currentDecorations.length;R<X;R++){var oe=this._currentDecorations.getRange(R);if(!!oe)if(oe.startLineNumber!==oe.endLineNumber)f.push({range:oe,text:l});else{var je=n.getValueInRange(oe),Me=l,st=oe.startColumn,gt=oe.endColumn,jt=vr.f(je,Me);st+=jt,je=je.substr(jt),Me=Me.substr(jt);var Xt=vr.g(je,Me);gt-=Xt,je=je.substr(0,je.length-Xt),Me=Me.substr(0,Me.length-Xt),(st!==gt||Me.length!==0)&&f.push({range:new Ze.a(oe.startLineNumber,st,oe.endLineNumber,gt),text:Me})}}if(f.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;var sn=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",f),this._editor._getViewModel().setPrevEditOperationType(sn)}finally{this._ignoreChangeEvent=!1}}}},{key:"dispose",value:function(){this.clearRanges(),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"clearRanges",value:function(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}},{key:"updateRanges",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return zp(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this,l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(this._editor.hasModel()){oe.next=3;break}return this.clearRanges(),oe.abrupt("return");case 3:if(l=this._editor.getPosition(),!(!this._enabled&&!t||this._editor.getSelections().length>1)){oe.next=7;break}return this.clearRanges(),oe.abrupt("return");case 7:if(c=this._editor.getModel(),h=c.getVersionId(),!(this._currentRequestPosition&&this._currentRequestModelVersion===h)){oe.next=16;break}if(!l.equals(this._currentRequestPosition)){oe.next=12;break}return oe.abrupt("return");case 12:if(!(this._currentDecorations.length>0)){oe.next=16;break}if(f=this._currentDecorations.getRange(0),!(f&&f.containsPosition(l))){oe.next=16;break}return oe.abrupt("return");case 16:return this.clearRanges(),this._currentRequestPosition=l,this._currentRequestModelVersion=h,R=Object(mt.k)(function(je){return zp(r,void 0,void 0,Object(d.a)().mark(function Me(){var st,gt,jt,Xt,sn,qn,Hn,fi;return Object(d.a)().wrap(function(wi){for(;;)switch(wi.prev=wi.next){case 0:return wi.prev=0,st=new fs.a(!1),wi.next=4,a0(this._providers,c,l,je);case 4:if(gt=wi.sent,this._debounceInformation.update(c,st.elapsed()),R===this._currentRequest){wi.next=8;break}return wi.abrupt("return");case 8:if(this._currentRequest=null,h===c.getVersionId()){wi.next=11;break}return wi.abrupt("return");case 11:jt=[],(gt==null?void 0:gt.ranges)&&(jt=gt.ranges),this._currentWordPattern=(gt==null?void 0:gt.wordPattern)||this._languageWordPattern,Xt=!1,sn=0,qn=jt.length;case 16:if(!(sn<qn)){wi.next=24;break}if(!Ze.a.containsPosition(jt[sn],l)){wi.next=21;break}return Xt=!0,sn!==0&&(Hn=jt[sn],jt.splice(sn,1),jt.unshift(Hn)),wi.abrupt("break",24);case 21:sn++,wi.next=16;break;case 24:if(Xt){wi.next=27;break}return this.clearRanges(),wi.abrupt("return");case 27:fi=jt.map(function(Ai){return{range:Ai,options:e.DECORATION}}),this._visibleContextKey.set(!0),this._currentDecorations.set(fi),this._syncRangesToken++,wi.next=37;break;case 33:wi.prev=33,wi.t0=wi.catch(0),Object(Li.g)(wi.t0)||Object(Li.h)(wi.t0),(this._currentRequest===R||!this._currentRequest)&&this.clearRanges();case 37:case"end":return wi.stop()}},Me,this,[[0,33]])}))}),this._currentRequest=R,oe.abrupt("return",R);case 22:case"end":return oe.stop()}},n,this)}))}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);Qd.ID="editor.contrib.linkedEditing",Qd.DECORATION=hn.b.register({description:"linked-editing",stickiness:0,className:BD}),Qd=FD([Xg(1,Tn.b),Xg(2,$i.a),Xg(3,po.a),Xg(4,Ms.a)],Qd);var WD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.linkedEditing",label:We.b("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:Tn.a.and(Ut.a.writable,Ut.a.hasRenameProvider),kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|1024|60,weight:100}})}return Object(P.a)(e,[{key:"runCommand",value:function(t,n){var r=this,l=t.get(zt.a),c=Array.isArray(n)&&n||[void 0,void 0],h=Object(O.a)(c,2),f=h[0],R=h[1];return _r.a.isUri(f)&&nt.a.isIPosition(R)?l.openCodeEditor({resource:f},l.getActiveCodeEditor()).then(function(X){!X||(X.setPosition(R),X.invokeWithinContext(function(oe){return r.reportTelemetry(oe,X),r.run(oe,X)}))},Li.h):Object(bn.a)(Object(An.a)(e.prototype),"runCommand",this).call(this,t,n)}},{key:"run",value:function(t,n){var r=Qd.get(n);return r?Promise.resolve(r.updateRanges(!0)):Promise.resolve()}}]),e}(wt.b),VD=wt.d.bindToContribution(Qd.get);Object(wt.l)(new VD({id:"cancelLinkedEditingInput",precondition:r0,handler:function(o){return o.clearRanges()},kbOpts:{kbExpr:Ut.a.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function a0(s,o,e,i){var t=this,n=s.ordered(o);return Object(mt.m)(n.map(function(r){return function(){return zp(t,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,r.provideLinkedEditingRanges(o,e,i);case 3:return h.abrupt("return",h.sent);case 6:return h.prev=6,h.t0=h.catch(0),Object(Li.i)(h.t0),h.abrupt("return",void 0);case 10:case"end":return h.stop()}},l,null,[[0,6]])}))}}),function(r){return!!r&&Wn.s(r==null?void 0:r.ranges)})}var XE=Object(lt.Fc)("editor.linkedEditingBackground",{dark:Ma.a.fromHex("#f00").transparent(.3),light:Ma.a.fromHex("#f00").transparent(.3),hcDark:Ma.a.fromHex("#f00").transparent(.3),hcLight:Ma.a.white},We.b("editorLinkedEditingBackground","Background color when the editor auto renames on type."));Object(wt.o)("_executeLinkedEditingProvider",function(s,o,e){var i=s.get($i.a),t=i.linkedEditingRangeProvider;return a0(t,o,e,Zn.a.None)}),Object(wt.m)(Qd.ID,Qd,1),Object(wt.k)(WD);var JE=a("tvLE"),o0=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},HD=function(){function s(o,e){Object(A.a)(this,s),this._link=o,this._provider=e}return Object(P.a)(s,[{key:"toJSON",value:function(){return{range:this.range,url:this.url,tooltip:this.tooltip}}},{key:"range",get:function(){return this._link.range}},{key:"url",get:function(){return this._link.url}},{key:"tooltip",get:function(){return this._link.tooltip}},{key:"resolve",value:function(e){return o0(this,void 0,void 0,Object(d.a)().mark(function i(){var t=this;return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this._link.url){r.next=2;break}return r.abrupt("return",this._link.url);case 2:if(typeof this._provider.resolveLink!="function"){r.next=4;break}return r.abrupt("return",Promise.resolve(this._provider.resolveLink(this._link,e)).then(function(l){return t._link=l||t._link,t._link.url?t.resolve(e):Promise.reject(new Error("missing"))}));case 4:return r.abrupt("return",Promise.reject(new Error("missing")));case 5:case"end":return r.stop()}},i,this)}))}}]),s}(),s0=function(){function s(o){var e=this;Object(A.a)(this,s),this._disposables=new Ye.c;var i=[],t=Object(G.a)(o),n;try{var r=function(){var h=n.value;l=Object(O.a)(h,2);var f=l[0],R=l[1],X=f.links.map(function(oe){return new HD(oe,R)});i=s._union(i,X),Object(Ye.j)(f)&&e._disposables.add(f)};for(t.s();!(n=t.n()).done;){var l;r()}}catch(c){t.e(c)}finally{t.f()}this.links=i}return Object(P.a)(s,[{key:"dispose",value:function(){this._disposables.dispose(),this.links.length=0}}],[{key:"_union",value:function(e,i){var t=[],n,r,l,c;for(n=0,l=0,r=e.length,c=i.length;n<r&&l<c;){var h=e[n],f=i[l];if(Ze.a.areIntersectingOrTouching(h.range,f.range)){n++;continue}var R=Ze.a.compareRangesUsingStarts(h.range,f.range);R<0?(t.push(h),n++):(t.push(f),l++)}for(;n<r;n++)t.push(e[n]);for(;l<c;l++)t.push(i[l]);return t}}]),s}();function l0(s,o,e){var i=[],t=s.ordered(o).reverse().map(function(n,r){return Promise.resolve(n.provideLinks(o,e)).then(function(l){l&&(i[r]=[l,n])},Li.i)});return Promise.all(t).then(function(){var n=new s0(Object(Wn.f)(i));return e.isCancellationRequested?(n.dispose(),new s0([])):n})}$r.a.registerCommand("_executeLinkProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return o0(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R,X;return Object(d.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(n=e[0],r=e[1],Object(ya.b)(n instanceof _r.a),typeof r!="number"&&(r=0),l=s.get($i.a),c=l.linkProvider,h=s.get(Jr.a).getModel(n),h){je.next=7;break}return je.abrupt("return",[]);case 7:return je.next=9,l0(c,h,Zn.a.None);case 9:if(f=je.sent,f){je.next=12;break}return je.abrupt("return",[]);case 12:R=0;case 13:if(!(R<Math.min(r,f.links.length))){je.next=19;break}return je.next=16,f.links[R].resolve(Zn.a.None);case 16:R++,je.next=13;break;case 19:return X=f.links.slice(0),f.dispose(),je.abrupt("return",X);case 22:case"end":return je.stop()}},t)}))});var UD=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Jg=function(s,o){return function(e,i){o(e,i,s)}},zD=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Bf=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l){var c;Object(A.a)(this,e),c=o.call(this),c.editor=i,c.openerService=t,c.notificationService=n,c.languageFeaturesService=r,c.providers=c.languageFeaturesService.linkProvider,c.debounceInformation=l.for(c.providers,"Links",{min:1e3,max:4e3}),c.computeLinks=c._register(new mt.g(function(){return c.computeLinksNow()},1e3)),c.computePromise=null,c.activeLinksList=null,c.currentOccurrences={},c.activeLinkDecorationId=null;var h=c._register(new qr(i));return c._register(h.onMouseMoveOrRelevantKeyDown(function(f){var R=Object(O.a)(f,2),X=R[0],oe=R[1];c._onEditorMouseMove(X,oe)})),c._register(h.onExecute(function(f){c.onEditorMouseUp(f)})),c._register(h.onCancel(function(f){c.cleanUpActiveLinkDecoration()})),c._register(i.onDidChangeConfiguration(function(f){!f.hasChanged(68)||(c.updateDecorations([]),c.stop(),c.computeLinks.schedule(0))})),c._register(i.onDidChangeModelContent(function(f){!c.editor.hasModel()||c.computeLinks.schedule(c.debounceInformation.get(c.editor.getModel()))})),c._register(i.onDidChangeModel(function(f){c.currentOccurrences={},c.activeLinkDecorationId=null,c.stop(),c.computeLinks.schedule(0)})),c._register(i.onDidChangeModelLanguage(function(f){c.stop(),c.computeLinks.schedule(0)})),c._register(c.providers.onDidChange(function(f){c.stop(),c.computeLinks.schedule(0)})),c.computeLinks.schedule(0),c}return Object(P.a)(e,[{key:"computeLinksNow",value:function(){return zD(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(!this.editor.hasModel()||!this.editor.getOption(68))){h.next=2;break}return h.abrupt("return");case 2:if(r=this.editor.getModel(),this.providers.has(r)){h.next=5;break}return h.abrupt("return");case 5:return this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=Object(mt.k)(function(f){return l0(n.providers,r,f)}),h.prev=7,l=new fs.a(!1),h.next=11,this.computePromise;case 11:if(this.activeLinksList=h.sent,this.debounceInformation.update(r,l.elapsed()),!r.isDisposed()){h.next=15;break}return h.abrupt("return");case 15:this.updateDecorations(this.activeLinksList.links),h.next=21;break;case 18:h.prev=18,h.t0=h.catch(7),Object(Li.h)(h.t0);case 21:return h.prev=21,this.computePromise=null,h.finish(21);case 24:case"end":return h.stop()}},t,this,[[7,18,21,24]])}))}},{key:"updateDecorations",value:function(t){for(var n=this,r=this.editor.getOption(75)==="altKey",l=[],c=Object.keys(this.currentOccurrences),h=0,f=c;h<f.length;h++){var R=f[h],X=this.currentOccurrences[R];l.push(X.decorationId)}var oe=[];if(t){var je=Object(G.a)(t),Me;try{for(je.s();!(Me=je.n()).done;){var st=Me.value;oe.push(c0.decoration(st,r))}}catch(gt){je.e(gt)}finally{je.f()}}this.editor.changeDecorations(function(gt){var jt=gt.deltaDecorations(l,oe);n.currentOccurrences={},n.activeLinkDecorationId=null;for(var Xt=0,sn=jt.length;Xt<sn;Xt++){var qn=new c0(t[Xt],jt[Xt]);n.currentOccurrences[qn.decorationId]=qn}})}},{key:"_onEditorMouseMove",value:function(t,n){var r=this,l=this.editor.getOption(75)==="altKey";if(this.isEnabled(t,n)){this.cleanUpActiveLinkDecoration();var c=this.getLinkOccurrence(t.target.position);c&&this.editor.changeDecorations(function(h){c.activate(h,l),r.activeLinkDecorationId=c.decorationId})}else this.cleanUpActiveLinkDecoration()}},{key:"cleanUpActiveLinkDecoration",value:function(){var t=this.editor.getOption(75)==="altKey";if(this.activeLinkDecorationId){var n=this.currentOccurrences[this.activeLinkDecorationId];n&&this.editor.changeDecorations(function(r){n.deactivate(r,t)}),this.activeLinkDecorationId=null}}},{key:"onEditorMouseUp",value:function(t){if(!!this.isEnabled(t)){var n=this.getLinkOccurrence(t.target.position);!n||this.openLinkOccurrence(n,t.hasSideBySideModifier,!0)}}},{key:"openLinkOccurrence",value:function(t,n){var r=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!!this.openerService){var c=t.link;c.resolve(Zn.a.None).then(function(h){if(typeof h=="string"&&r.editor.hasModel()){var f=r.editor.getModel().uri;if(f.scheme===no.c.file&&h.startsWith("".concat(no.c.file,":"))){var R=_r.a.parse(h);if(R.scheme===no.c.file){var X=mo.j(R),oe=null;X.startsWith("/./")?oe=".".concat(X.substr(1)):X.startsWith("//./")&&(oe=".".concat(X.substr(2))),oe&&(h=mo.h(f,oe))}}}return r.openerService.open(h,{openToSide:n,fromUserGesture:l,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},function(h){var f=h instanceof Error?h.message:h;f==="invalid"?r.notificationService.warn(We.b("invalid.url","Failed to open this link because it is not well-formed: {0}",c.url.toString())):f==="missing"?r.notificationService.warn(We.b("missing.url","Failed to open this link because its target is missing.")):Object(Li.h)(h)})}}},{key:"getLinkOccurrence",value:function(t){if(!this.editor.hasModel()||!t)return null;var n=this.editor.getModel().getDecorationsInRange({startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column},0,!0),r=Object(G.a)(n),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=this.currentOccurrences[c.id];if(h)return h}}catch(f){r.e(f)}finally{r.f()}return null}},{key:"isEnabled",value:function(t,n){return Boolean(t.target.type===6&&(t.hasTriggerModifier||n&&n.keyCodeIsTriggerKey))}},{key:"stop",value:function(){var t;this.computeLinks.cancel(),this.activeLinksList&&((t=this.activeLinksList)===null||t===void 0||t.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}},{key:"dispose",value:function(){Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this),this.stop()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);Bf.ID="editor.linkDetector",Bf=UD([Jg(1,io.a),Jg(2,Ra.a),Jg(3,$i.a),Jg(4,Ms.a)],Bf);var u0={general:hn.b.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:hn.b.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},c0=function(){function s(o,e){Object(A.a)(this,s),this.link=o,this.decorationId=e}return Object(P.a)(s,[{key:"activate",value:function(e,i){e.changeDecorationOptions(this.decorationId,s._getOptions(this.link,i,!0))}},{key:"deactivate",value:function(e,i){e.changeDecorationOptions(this.decorationId,s._getOptions(this.link,i,!1))}}],[{key:"decoration",value:function(e,i){return{range:e.range,options:s._getOptions(e,i,!1)}}},{key:"_getOptions",value:function(e,i,t){var n=Object.assign({},t?u0.active:u0.general);return n.hoverMessage=KD(e,i),n}}]),s}();function KD(s,o){var e=s.url&&/^command:/i.test(s.url.toString()),i=s.tooltip?s.tooltip:e?We.b("links.navigate.executeCmd","Execute command"):We.b("links.navigate.follow","Follow link"),t=o?Mt.i?We.b("links.navigate.kb.meta.mac","cmd + click"):We.b("links.navigate.kb.meta","ctrl + click"):Mt.i?We.b("links.navigate.kb.alt.mac","option + click"):We.b("links.navigate.kb.alt","alt + click");if(s.url){var n="";if(/^command:/i.test(s.url.toString())){var r=s.url.toString().match(/^command:([^?#]+)/);if(r){var l=r[1];n=We.b("tooltip.explanation","Execute command {0}",l)}}var c=new Sn.a("",!0).appendLink(s.url.toString(!0).replace(/ /g,"%20"),i,n).appendMarkdown(" (".concat(t,")"));return c}else return new Sn.a().appendText("".concat(i," (").concat(t,")"))}var GD=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.openLink",label:We.b("label","Open Link"),alias:"Open Link",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=Bf.get(n);if(!!r&&!!n.hasModel()){var l=n.getSelections(),c=Object(G.a)(l),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,R=r.getLinkOccurrence(f.getEndPosition());R&&r.openLinkOccurrence(R,!1)}}catch(X){c.e(X)}finally{c.f()}}}}]),e}(wt.b);Object(wt.m)(Bf.ID,Bf,1),Object(wt.k)(GD);var Kp=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t._editor=i,t._register(t._editor.onMouseDown(function(n){var r=t._editor.getOption(113);r>=0&&n.target.type===6&&n.target.position.column>=r&&t._editor.updateOptions({stopRenderingLineAfter:-1})})),t}return Object(P.a)(e)}(Ye.a);Kp.ID="editor.contrib.longLinesHelper",Object(wt.m)(Kp.ID,Kp,2);var qE=a("wU4A"),qg=Object(lt.Fc)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},We.b("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);Object(lt.Fc)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},We.b("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),Object(lt.Fc)("editor.wordHighlightTextBackground",{light:qg,dark:qg,hcDark:qg,hcLight:qg},We.b("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);var em=Object(lt.Fc)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:lt.b,hcLight:lt.b},We.b("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));Object(lt.Fc)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:lt.b,hcLight:lt.b},We.b("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),Object(lt.Fc)("editor.wordHighlightTextBorder",{light:em,dark:em,hcDark:em,hcLight:em},We.b("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));var $D=Object(lt.Fc)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},We.b("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),QD=Object(lt.Fc)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},We.b("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),YD=Object(lt.Fc)("editorOverviewRuler.wordHighlightTextForeground",{dark:lt.sc,light:lt.sc,hcDark:lt.sc,hcLight:lt.sc},We.b("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),ZD=hn.b.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Object(si.f)(QD),position:Zt.f.Center},minimap:{color:Object(si.f)(lt.oc),position:Zt.e.Inline}}),XD=hn.b.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:Object(si.f)(YD),position:Zt.f.Center},minimap:{color:Object(si.f)(lt.oc),position:Zt.e.Inline}}),JD=hn.b.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(si.f)(lt.sc),position:Zt.f.Center},minimap:{color:Object(si.f)(lt.oc),position:Zt.e.Inline}}),qD=hn.b.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),ew=hn.b.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:Object(si.f)($D),position:Zt.f.Center},minimap:{color:Object(si.f)(lt.oc),position:Zt.e.Inline}});function tw(s){return s===so.c.Write?ZD:s===so.c.Text?XD:ew}function nw(s){return s?qD:JD}Object(si.e)(function(s,o){var e=s.getColor(lt.db);e&&o.addRule(".monaco-editor .selectionHighlight { background-color: ".concat(e.transparent(.5),"; }"))});var iw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},rw=function(s,o){return function(e,i){o(e,i,s)}};function Yd(s,o){var e=o.filter(function(n){return!s.find(function(r){return r.equals(n)})});if(e.length>=1){var i=e.map(function(n){return"line ".concat(n.viewState.position.lineNumber," column ").concat(n.viewState.position.column)}).join(", "),t=e.length===1?We.b("cursorAdded","Cursor added: {0}",i):We.b("cursorsAdded","Cursors added: {0}",i);Object(Rn.c)(t)}}var aw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.insertCursorAbove",label:We.b("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"3_multi",title:We.b({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=!0;r&&r.logicalLine===!1&&(l=!1);var c=n._getViewModel();if(!c.cursorConfig.readOnly){c.model.pushStackElement();var h=c.getCursorStates();c.setCursorStates(r.source,3,Fp.b.addCursorUp(c,h,l)),c.revealTopMostCursor(r.source),Yd(h,c.getCursorStates())}}}}]),e}(wt.b),ow=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.insertCursorBelow",label:We.b("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"3_multi",title:We.b({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=!0;r&&r.logicalLine===!1&&(l=!1);var c=n._getViewModel();if(!c.cursorConfig.readOnly){c.model.pushStackElement();var h=c.getCursorStates();c.setCursorStates(r.source,3,Fp.b.addCursorDown(c,h,l)),c.revealBottomMostCursor(r.source),Yd(h,c.getCursorStates())}}}}]),e}(wt.b),sw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:We.b("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"3_multi",title:We.b({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}return Object(P.a)(e,[{key:"getCursorsForSelection",value:function(t,n,r){if(!t.isEmpty()){for(var l=t.startLineNumber;l<t.endLineNumber;l++){var c=n.getLineMaxColumn(l);r.push(new Pi.a(l,c,l,c))}t.endColumn>1&&r.push(new Pi.a(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn))}}},{key:"run",value:function(t,n){var r=this;if(!!n.hasModel()){var l=n.getModel(),c=n.getSelections(),h=n._getViewModel(),f=h.getCursorStates(),R=[];c.forEach(function(X){return r.getCursorsForSelection(X,l,R)}),R.length>0&&n.setSelections(R),Yd(f,h.getCursorStates())}}}]),e}(wt.b),lw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.addCursorsToBottom",label:We.b("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){for(var r=n.getSelections(),l=n.getModel().getLineCount(),c=[],h=r[0].startLineNumber;h<=l;h++)c.push(new Pi.a(h,r[0].startColumn,h,r[0].endColumn));var f=n._getViewModel(),R=f.getCursorStates();c.length>0&&n.setSelections(c),Yd(R,f.getCursorStates())}}}]),e}(wt.b),uw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.addCursorsToTop",label:We.b("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){for(var r=n.getSelections(),l=[],c=r[0].startLineNumber;c>=1;c--)l.push(new Pi.a(c,r[0].startColumn,c,r[0].endColumn));var h=n._getViewModel(),f=h.getCursorStates();l.length>0&&n.setSelections(l),Yd(f,h.getCursorStates())}}}]),e}(wt.b),tm=Object(P.a)(function s(o,e,i){Object(A.a)(this,s),this.selections=o,this.revealRange=e,this.revealScrollType=i}),d0=function(){function s(o,e,i,t,n,r,l){Object(A.a)(this,s),this._editor=o,this.findController=e,this.isDisconnectedFromFindController=i,this.searchText=t,this.wholeWord=n,this.matchCase=r,this.currentMatch=l}return Object(P.a)(s,[{key:"addSelectionToNextFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var i=this._editor.getSelections();return new tm(i.concat(e),e,0)}},{key:"moveSelectionToNextFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var i=this._editor.getSelections();return new tm(i.slice(0,i.length-1).concat(e),e,0)}},{key:"_getNextMatch",value:function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var i=this._editor.getSelections(),t=i[i.length-1],n=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(126):null,!1);return n?new Pi.a(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}},{key:"addSelectionToPreviousFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var i=this._editor.getSelections();return new tm(i.concat(e),e,0)}},{key:"moveSelectionToPreviousFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var i=this._editor.getSelections();return new tm(i.slice(0,i.length-1).concat(e),e,0)}},{key:"_getPreviousMatch",value:function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var i=this._editor.getSelections(),t=i[i.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(126):null,!1);return n?new Pi.a(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}},{key:"selectAll",value:function(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();var i=this._editor.getModel();return e?i.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(126):null,!1,1073741824):i.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(126):null,!1,1073741824)}}],[{key:"create",value:function(e,i){if(!e.hasModel())return null;var t=i.getState();if(!e.hasTextFocus()&&t.isRevealed&&t.searchString.length>0)return new s(e,i,!1,t.searchString,t.wholeWord,t.matchCase,null);var n=!1,r,l,c=e.getSelections();c.length===1&&c[0].isEmpty()?(n=!0,r=!0,l=!0):(r=t.wholeWord,l=t.matchCase);var h=e.getSelection(),f,R=null;if(h.isEmpty()){var X=e.getConfiguredWordAtPosition(h.getStartPosition());if(!X)return null;f=X.word,R=new Pi.a(h.startLineNumber,X.startColumn,h.startLineNumber,X.endColumn)}else f=e.getModel().getValueInRange(h).replace(/\r\n/g,`
`);return new s(e,i,n,f,r,l,R)}}]),s}(),$v=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t._sessionDispose=t._register(new Ye.c),t._editor=i,t._ignoreSelectionChange=!1,t._session=null,t}return Object(P.a)(e,[{key:"dispose",value:function(){this._endSession(),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"_beginSessionIfNeeded",value:function(t){var n=this;if(!this._session){var r=d0.create(this._editor,t);if(!r)return;this._session=r;var l={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(l.wholeWordOverride=1,l.matchCaseOverride=1,l.isRegexOverride=2),t.getState().change(l,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(function(c){n._ignoreSelectionChange||n._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(function(){n._endSession()})),this._sessionDispose.add(t.getState().onFindReplaceStateChange(function(c){(c.matchCase||c.wholeWord)&&n._endSession()}))}}},{key:"_endSession",value:function(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){var t={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(t,!1)}this._session=null}},{key:"_setSelections",value:function(t){this._ignoreSelectionChange=!0,this._editor.setSelections(t),this._ignoreSelectionChange=!1}},{key:"_expandEmptyToWord",value:function(t,n){if(!n.isEmpty())return n;var r=this._editor.getConfiguredWordAtPosition(n.getStartPosition());return r?new Pi.a(n.startLineNumber,r.startColumn,n.startLineNumber,r.endColumn):n}},{key:"_applySessionResult",value:function(t){!t||(this._setSelections(t.selections),t.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(t.revealRange,t.revealScrollType))}},{key:"getSession",value:function(t){return this._session}},{key:"addSelectionToNextFindMatch",value:function(t){if(!!this._editor.hasModel()){if(!this._session){var n=this._editor.getSelections();if(n.length>1){var r=t.getState(),l=r.matchCase,c=h0(this._editor.getModel(),n,l);if(!c){for(var h=this._editor.getModel(),f=[],R=0,X=n.length;R<X;R++)f[R]=this._expandEmptyToWord(h,n[R]);this._editor.setSelections(f);return}}}this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}},{key:"addSelectionToPreviousFindMatch",value:function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}},{key:"moveSelectionToNextFindMatch",value:function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}},{key:"moveSelectionToPreviousFindMatch",value:function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}},{key:"selectAll",value:function(t){if(!!this._editor.hasModel()){var n=null,r=t.getState();if(r.isRevealed&&r.searchString.length>0&&r.isRegex){var l=this._editor.getModel();r.searchScope?n=l.findMatches(r.searchString,r.searchScope,r.isRegex,r.matchCase,r.wholeWord?this._editor.getOption(126):null,!1,1073741824):n=l.findMatches(r.searchString,!0,r.isRegex,r.matchCase,r.wholeWord?this._editor.getOption(126):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(t),!this._session)return;n=this._session.selectAll(r.searchScope)}if(n.length>0){for(var c=this._editor.getSelection(),h=0,f=n.length;h<f;h++){var R=n[h],X=R.range.intersectRanges(c);if(X){n[h]=n[0],n[0]=R;break}}this._setSelections(n.map(function(oe){return new Pi.a(oe.range.startLineNumber,oe.range.startColumn,oe.range.endLineNumber,oe.range.endColumn)}))}}}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);$v.ID="editor.contrib.multiCursorController";var Wf=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=$v.get(n);if(!!r){var l=n._getViewModel();if(l){var c=l.getCursorStates(),h=cl.get(n);if(h)this._run(r,h);else{var f=t.get(ia.a).createInstance(cl,n);this._run(r,f),f.dispose()}Yd(c,l.getCursorStates())}}}}]),e}(wt.b),cw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:We.b("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Ut.a.focus,primary:2048|34,weight:100},menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"3_multi",title:We.b({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}return Object(P.a)(e,[{key:"_run",value:function(t,n){t.addSelectionToNextFindMatch(n)}}]),e}(Wf),dw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:We.b("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"3_multi",title:We.b({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}return Object(P.a)(e,[{key:"_run",value:function(t,n){t.addSelectionToPreviousFindMatch(n)}}]),e}(Wf),hw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:We.b("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Ut.a.focus,primary:Object(Ii.c)(2048|41,2048|34),weight:100}})}return Object(P.a)(e,[{key:"_run",value:function(t,n){t.moveSelectionToNextFindMatch(n)}}]),e}(Wf),fw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:We.b("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}return Object(P.a)(e,[{key:"_run",value:function(t,n){t.moveSelectionToPreviousFindMatch(n)}}]),e}(Wf),vw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.selectHighlights",label:We.b("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:Ut.a.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"3_multi",title:We.b({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}return Object(P.a)(e,[{key:"_run",value:function(t,n){t.selectAll(n)}}]),e}(Wf),gw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.changeAll",label:We.b("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Tn.a.and(Ut.a.writable,Ut.a.editorTextFocus),kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}return Object(P.a)(e,[{key:"_run",value:function(t,n){t.selectAll(n)}}]),e}(Wf),mw=function(){function s(o,e,i,t,n){Object(A.a)(this,s),this._model=o,this._searchText=e,this._matchCase=i,this._wordSeparators=t,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,n&&this._model===n._model&&this._searchText===n._searchText&&this._matchCase===n._matchCase&&this._wordSeparators===n._wordSeparators&&this._modelVersionId===n._modelVersionId&&(this._cachedFindMatches=n._cachedFindMatches)}return Object(P.a)(s,[{key:"findMatches",value:function(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(function(e){return e.range}),this._cachedFindMatches.sort(Ze.a.compareRangesUsingStarts)),this._cachedFindMatches}}]),s}(),Qv=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;Object(A.a)(this,e),n=o.call(this),n._languageFeaturesService=t,n.editor=i,n._isEnabled=i.getOption(104),n._decorations=i.createDecorationsCollection(),n.updateSoon=n._register(new mt.g(function(){return n._update()},300)),n.state=null,n._register(i.onDidChangeConfiguration(function(l){n._isEnabled=i.getOption(104)})),n._register(i.onDidChangeCursorSelection(function(l){!n._isEnabled||(l.selection.isEmpty()?l.reason===3?(n.state&&n._setState(null),n.updateSoon.schedule()):n._setState(null):n._update())})),n._register(i.onDidChangeModel(function(l){n._setState(null)})),n._register(i.onDidChangeModelContent(function(l){n._isEnabled&&n.updateSoon.schedule()}));var r=cl.get(i);return r&&n._register(r.getState().onFindReplaceStateChange(function(l){n._update()})),n.updateSoon.schedule(),n}return Object(P.a)(e,[{key:"_update",value:function(){this._setState(e._createState(this.state,this._isEnabled,this.editor))}},{key:"_setState",value:function(t){if(this.state=t,!this.state){this._decorations.clear();return}if(!!this.editor.hasModel()){var n=this.editor.getModel();if(!n.isTooLargeForTokenization()){var r=this.state.findMatches(),l=this.editor.getSelections();l.sort(Ze.a.compareRangesUsingStarts);for(var c=[],h=0,f=0,R=r.length,X=l.length;h<R;){var oe=r[h];if(f>=X)c.push(oe),h++;else{var je=Ze.a.compareRangesUsingStarts(oe,l[f]);je<0?((l[f].isEmpty()||!Ze.a.areIntersecting(oe,l[f]))&&c.push(oe),h++):(je>0||h++,f++)}}var Me=this._languageFeaturesService.documentHighlightProvider.has(n)&&this.editor.getOption(78),st=c.map(function(gt){return{range:gt,options:nw(Me)}});this._decorations.set(st)}}}},{key:"dispose",value:function(){this._setState(null),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}}],[{key:"_createState",value:function(t,n,r){if(!n||!r.hasModel())return null;var l=r.getSelection();if(l.startLineNumber!==l.endLineNumber)return null;var c=$v.get(r);if(!c)return null;var h=cl.get(r);if(!h)return null;var f=c.getSession(h);if(!f){var R=r.getSelections();if(R.length>1){var X=h.getState(),oe=X.matchCase,je=h0(r.getModel(),R,oe);if(!je)return null}f=d0.create(r,h)}if(!f||f.currentMatch||/^[ \t]+$/.test(f.searchText)||f.searchText.length>200)return null;var Me=h.getState(),st=Me.matchCase;if(Me.isRevealed){var gt=Me.searchString;st||(gt=gt.toLowerCase());var jt=f.searchText;if(st||(jt=jt.toLowerCase()),gt===jt&&f.matchCase===Me.matchCase&&f.wholeWord===Me.wholeWord&&!Me.isRegex)return null}return new mw(r.getModel(),f.searchText,f.matchCase,f.wholeWord?r.getOption(126):null,t)}}]),e}(Ye.a);Qv.ID="editor.contrib.selectionHighlighter",Qv=iw([rw(1,$i.a)],Qv);function h0(s,o,e){for(var i=f0(s,o[0],!e),t=1,n=o.length;t<n;t++){var r=o[t];if(r.isEmpty())return!1;var l=f0(s,r,!e);if(i!==l)return!1}return!0}function f0(s,o,e){var i=s.getValueInRange(o);return e?i.toLowerCase():i}var pw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.focusNextCursor",label:We.b("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:We.b("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=n._getViewModel();if(!l.cursorConfig.readOnly){l.model.pushStackElement();var c=Array.from(l.getCursorStates()),h=c.shift();!h||(c.push(h),l.setCursorStates(r.source,3,c),l.revealPrimaryCursor(r.source,!0),Yd(c,l.getCursorStates()))}}}}]),e}(wt.b),bw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.focusPreviousCursor",label:We.b("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:We.b("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=n._getViewModel();if(!l.cursorConfig.readOnly){l.model.pushStackElement();var c=Array.from(l.getCursorStates()),h=c.pop();!h||(c.unshift(h),l.setCursorStates(r.source,3,c),l.revealPrimaryCursor(r.source,!0),Yd(c,l.getCursorStates()))}}}}]),e}(wt.b);Object(wt.m)($v.ID,$v,4),Object(wt.m)(Qv.ID,Qv,1),Object(wt.k)(aw),Object(wt.k)(ow),Object(wt.k)(sw),Object(wt.k)(cw),Object(wt.k)(dw),Object(wt.k)(hw),Object(wt.k)(fw),Object(wt.k)(vw),Object(wt.k)(gw),Object(wt.k)(lw),Object(wt.k)(uw),Object(wt.k)(pw),Object(wt.k)(bw);var v0=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Wh={Visible:new Tn.c("parameterHintsVisible",!1),MultipleSignatures:new Tn.c("parameterHintsMultipleSignatures",!1)};function g0(s,o,e,i,t){return v0(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f;return Object(d.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:r=s.ordered(o),l=Object(G.a)(r),X.prev=2,l.s();case 4:if((c=l.n()).done){X.next=19;break}return h=c.value,X.prev=6,X.next=9,h.provideSignatureHelp(o,e,t,i);case 9:if(f=X.sent,!f){X.next=12;break}return X.abrupt("return",f);case 12:X.next=17;break;case 14:X.prev=14,X.t0=X.catch(6),Object(Li.i)(X.t0);case 17:X.next=4;break;case 19:X.next=24;break;case 21:X.prev=21,X.t1=X.catch(2),l.e(X.t1);case 24:return X.prev=24,l.f(),X.finish(24);case 27:return X.abrupt("return",void 0);case 28:case"end":return X.stop()}},n,null,[[2,21,24,27],[6,14]])}))}$r.a.registerCommand("_executeSignatureHelpProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return v0(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f;return Object(d.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return n=e[0],r=e[1],l=e[2],Object(ya.b)(_r.a.isUri(n)),Object(ya.b)(nt.a.isIPosition(r)),Object(ya.b)(typeof l=="string"||!l),c=s.get($i.a),X.next=7,s.get(Qi.a).createModelReference(n);case 7:return h=X.sent,X.prev=8,X.next=11,g0(c.signatureHelpProvider,h.object.textEditorModel,nt.a.lift(r),{triggerKind:so.j.Invoke,isRetrigger:!1,triggerCharacter:l},Zn.a.None);case 11:if(f=X.sent,f){X.next=14;break}return X.abrupt("return",void 0);case 14:return setTimeout(function(){return f.dispose()},0),X.abrupt("return",f.value);case 16:return X.prev=16,h.dispose(),X.finish(16);case 19:case"end":return X.stop()}},t,null,[[8,,16,19]])}))});var yw=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Zd;(function(s){s.Default={type:0};var o=Object(P.a)(function i(t,n){Object(A.a)(this,i),this.request=t,this.previouslyActiveHints=n,this.type=2});s.Pending=o;var e=Object(P.a)(function i(t){Object(A.a)(this,i),this.hints=t,this.type=1});s.Active=e})(Zd||(Zd={}));var m0=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.DEFAULT_DELAY;return Object(A.a)(this,e),n=o.call(this),n._onChangedHints=n._register(new ca.b),n.onChangedHints=n._onChangedHints.event,n.triggerOnType=!1,n._state=Zd.Default,n._pendingTriggers=[],n._lastSignatureHelpResult=n._register(new Ye.e),n.triggerChars=new Ig.b,n.retriggerChars=new Ig.b,n.triggerId=0,n.editor=i,n.providers=t,n.throttledDelayer=new mt.c(r),n._register(n.editor.onDidBlurEditorWidget(function(){return n.cancel()})),n._register(n.editor.onDidChangeConfiguration(function(){return n.onEditorConfigurationChange()})),n._register(n.editor.onDidChangeModel(function(l){return n.onModelChanged()})),n._register(n.editor.onDidChangeModelLanguage(function(l){return n.onModelChanged()})),n._register(n.editor.onDidChangeCursorSelection(function(l){return n.onCursorChange(l)})),n._register(n.editor.onDidChangeModelContent(function(l){return n.onModelContentChange()})),n._register(n.providers.onDidChange(n.onModelChanged,Object(nn.a)(n))),n._register(n.editor.onDidType(function(l){return n.onDidType(l)})),n.onEditorConfigurationChange(),n.onModelChanged(),n}return Object(P.a)(e,[{key:"state",get:function(){return this._state},set:function(t){this._state.type===2&&this._state.request.cancel(),this._state=t}},{key:"cancel",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.state=Zd.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)}},{key:"trigger",value:function(t,n){var r=this,l=this.editor.getModel();if(!(!l||!this.providers.has(l))){var c=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger(function(){return r.doTrigger(c)},n).catch(Li.h)}}},{key:"next",value:function(){if(this.state.type===1){var t=this.state.hints.signatures.length,n=this.state.hints.activeSignature,r=n%t==t-1,l=this.editor.getOption(83).cycle;if((t<2||r)&&!l){this.cancel();return}this.updateActiveSignature(r&&l?0:n+1)}}},{key:"previous",value:function(){if(this.state.type===1){var t=this.state.hints.signatures.length,n=this.state.hints.activeSignature,r=n===0,l=this.editor.getOption(83).cycle;if((t<2||r)&&!l){this.cancel();return}this.updateActiveSignature(r&&l?t-1:n-1)}}},{key:"updateActiveSignature",value:function(t){this.state.type===1&&(this.state=new Zd.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:t})),this._onChangedHints.fire(this.state.hints))}},{key:"doTrigger",value:function(t){return yw(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this,l,c,h,f,R,X,oe;return Object(d.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(l=this.state.type===1||this.state.type===2,c=this.getLastActiveHints(),this.cancel(!0),this._pendingTriggers.length!==0){Me.next=5;break}return Me.abrupt("return",!1);case 5:if(h=this._pendingTriggers.reduce(_w),this._pendingTriggers=[],f={triggerKind:h.triggerKind,triggerCharacter:h.triggerCharacter,isRetrigger:l,activeSignatureHelp:c},this.editor.hasModel()){Me.next=10;break}return Me.abrupt("return",!1);case 10:return R=this.editor.getModel(),X=this.editor.getPosition(),this.state=new Zd.Pending(Object(mt.k)(function(st){return g0(r.providers,R,X,f,st)}),c),Me.prev=13,Me.next=16,this.state.request;case 16:if(oe=Me.sent,t===this.triggerId){Me.next=20;break}return oe==null||oe.dispose(),Me.abrupt("return",!1);case 20:if(!(!oe||!oe.value.signatures||oe.value.signatures.length===0)){Me.next=27;break}return oe==null||oe.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),Me.abrupt("return",!1);case 27:return this.state=new Zd.Active(oe.value),this._lastSignatureHelpResult.value=oe,this._onChangedHints.fire(this.state.hints),Me.abrupt("return",!0);case 31:Me.next=38;break;case 33:return Me.prev=33,Me.t0=Me.catch(13),t===this.triggerId&&(this.state=Zd.Default),Object(Li.h)(Me.t0),Me.abrupt("return",!1);case 38:case"end":return Me.stop()}},n,this,[[13,33]])}))}},{key:"getLastActiveHints",value:function(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}},{key:"isTriggered",get:function(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}},{key:"onModelChanged",value:function(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();var t=this.editor.getModel();if(!!t){var n=Object(G.a)(this.providers.ordered(t)),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=Object(G.a)(l.signatureHelpTriggerCharacters||[]),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;if(f.length){var R=f.charCodeAt(0);this.triggerChars.add(R),this.retriggerChars.add(R)}}}catch(Me){c.e(Me)}finally{c.f()}var X=Object(G.a)(l.signatureHelpRetriggerCharacters||[]),oe;try{for(X.s();!(oe=X.n()).done;){var je=oe.value;je.length&&this.retriggerChars.add(je.charCodeAt(0))}}catch(Me){X.e(Me)}finally{X.f()}}}catch(Me){n.e(Me)}finally{n.f()}}}},{key:"onDidType",value:function(t){if(!!this.triggerOnType){var n=t.length-1,r=t.charCodeAt(n);(this.triggerChars.has(r)||this.isTriggered&&this.retriggerChars.has(r))&&this.trigger({triggerKind:so.j.TriggerCharacter,triggerCharacter:t.charAt(n)})}}},{key:"onCursorChange",value:function(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:so.j.ContentChange})}},{key:"onModelContentChange",value:function(){this.isTriggered&&this.trigger({triggerKind:so.j.ContentChange})}},{key:"onEditorConfigurationChange",value:function(){this.triggerOnType=this.editor.getOption(83).enabled,this.triggerOnType||this.cancel()}},{key:"dispose",value:function(){this.cancel(!0),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}}]),e}(Ye.a);m0.DEFAULT_DELAY=120;function _w(s,o){switch(o.triggerKind){case so.j.Invoke:return o;case so.j.ContentChange:return s;case so.j.TriggerCharacter:default:return o}}var eL=a("REzY"),Cw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Gp=function(s,o){return function(e,i){o(e,i,s)}},uu=It.$,Ow=Object(be.b)("parameter-hints-next",Tr.a.chevronDown,We.b("parameterHintsNextIcon","Icon for show next parameter hint.")),Sw=Object(be.b)("parameter-hints-previous",Tr.a.chevronUp,We.b("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),nm=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l){var c;return Object(A.a)(this,e),c=o.call(this),c.editor=i,c.model=t,c.renderDisposeables=c._register(new Ye.c),c.visible=!1,c.announcedLabel=null,c.allowEditorOverflow=!0,c.markdownRenderer=c._register(new ga({editor:i},l,r)),c.keyVisible=Wh.Visible.bindTo(n),c.keyMultipleSignatures=Wh.MultipleSignatures.bindTo(n),c}return Object(P.a)(e,[{key:"createParameterHintDOMNodes",value:function(){var t=this,n=uu(".editor-widget.parameter-hints-widget"),r=It.append(n,uu(".phwrapper"));r.tabIndex=-1;var l=It.append(r,uu(".controls")),c=It.append(l,uu(".button"+Fa.a.asCSSSelector(Sw))),h=It.append(l,uu(".overloads")),f=It.append(l,uu(".button"+Fa.a.asCSSSelector(Ow)));this._register(It.addDisposableListener(c,"click",function(st){It.EventHelper.stop(st),t.previous()})),this._register(It.addDisposableListener(f,"click",function(st){It.EventHelper.stop(st),t.next()}));var R=uu(".body"),X=new Tc.a(R,{alwaysConsumeMouseWheel:!0});this._register(X),r.appendChild(X.getDomNode());var oe=It.append(R,uu(".signature")),je=It.append(R,uu(".docs"));n.style.userSelect="text",this.domNodes={element:n,signature:oe,overloads:h,docs:je,scrollbar:X},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(function(st){t.visible&&t.editor.layoutContentWidget(t)}));var Me=function(){if(!!t.domNodes){var gt=t.editor.getOption(48);t.domNodes.element.style.fontSize="".concat(gt.fontSize,"px"),t.domNodes.element.style.lineHeight="".concat(gt.lineHeight/gt.fontSize)}};Me(),this._register(ca.c.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(st){return st.hasChanged(48)}).on(Me,null)),this._register(this.editor.onDidLayoutChange(function(st){return t.updateMaxHeight()})),this.updateMaxHeight()}},{key:"show",value:function(){var t=this;this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(function(){var n;(n=t.domNodes)===null||n===void 0||n.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}},{key:"hide",value:function(){var t;this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(t=this.domNodes)===null||t===void 0||t.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}},{key:"getPosition",value:function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}},{key:"render",value:function(t){var n;if(this.renderDisposeables.clear(),!!this.domNodes){var r=t.signatures.length>1;this.domNodes.element.classList.toggle("multiple",r),this.keyMultipleSignatures.set(r),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";var l=t.signatures[t.activeSignature];if(!!l){var c=It.append(this.domNodes.signature,uu(".code")),h=this.editor.getOption(48);c.style.fontSize="".concat(h.fontSize,"px"),c.style.fontFamily=h.fontFamily;var f=l.parameters.length>0,R=(n=l.activeParameter)!==null&&n!==void 0?n:t.activeParameter;if(f)this.renderParameters(c,l,R);else{var X=It.append(c,uu("span"));X.textContent=l.label}var oe=l.parameters[R];if(oe==null?void 0:oe.documentation){var je=uu("span.documentation");if(typeof oe.documentation=="string")je.textContent=oe.documentation;else{var Me=this.renderMarkdownDocs(oe.documentation);je.appendChild(Me.element)}It.append(this.domNodes.docs,uu("p",{},je))}if(l.documentation!==void 0)if(typeof l.documentation=="string")It.append(this.domNodes.docs,uu("p",{},l.documentation));else{var st=this.renderMarkdownDocs(l.documentation);It.append(this.domNodes.docs,st.element)}var gt=this.hasDocs(l,oe);if(this.domNodes.signature.classList.toggle("has-docs",gt),this.domNodes.docs.classList.toggle("empty",!gt),this.domNodes.overloads.textContent=String(t.activeSignature+1).padStart(t.signatures.length.toString().length,"0")+"/"+t.signatures.length,oe){var jt="",Xt=l.parameters[R];Array.isArray(Xt.label)?jt=l.label.substring(Xt.label[0],Xt.label[1]):jt=Xt.label,Xt.documentation&&(jt+=typeof Xt.documentation=="string"?", ".concat(Xt.documentation):", ".concat(Xt.documentation.value)),l.documentation&&(jt+=typeof l.documentation=="string"?", ".concat(l.documentation):", ".concat(l.documentation.value)),this.announcedLabel!==jt&&(Rn.a(We.b("hint","{0}, hint",jt)),this.announcedLabel=jt)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}}},{key:"renderMarkdownDocs",value:function(t){var n=this,r=this.renderDisposeables.add(this.markdownRenderer.render(t,{asyncRenderCallback:function(){var c;(c=n.domNodes)===null||c===void 0||c.scrollbar.scanDomNode()}}));return r.element.classList.add("markdown-docs"),r}},{key:"hasDocs",value:function(t,n){return!!(n&&typeof n.documentation=="string"&&Object(ya.a)(n.documentation).length>0||n&&typeof n.documentation=="object"&&Object(ya.a)(n.documentation).value.length>0||t.documentation&&typeof t.documentation=="string"&&Object(ya.a)(t.documentation).length>0||t.documentation&&typeof t.documentation=="object"&&Object(ya.a)(t.documentation.value).length>0)}},{key:"renderParameters",value:function(t,n,r){var l=this.getParameterLabelOffsets(n,r),c=Object(O.a)(l,2),h=c[0],f=c[1],R=document.createElement("span");R.textContent=n.label.substring(0,h);var X=document.createElement("span");X.textContent=n.label.substring(h,f),X.className="parameter active";var oe=document.createElement("span");oe.textContent=n.label.substring(f),It.append(t,R,X,oe)}},{key:"getParameterLabelOffsets",value:function(t,n){var r=t.parameters[n];if(r){if(Array.isArray(r.label))return r.label;if(r.label.length){var l=new RegExp("(\\W|^)".concat(Object(vr.t)(r.label),"(?=\\W|$)"),"g");l.test(t.label);var c=l.lastIndex-r.label.length;return c>=0?[c,l.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}},{key:"next",value:function(){this.editor.focus(),this.model.next()}},{key:"previous",value:function(){this.editor.focus(),this.model.previous()}},{key:"getDomNode",value:function(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}},{key:"getId",value:function(){return e.ID}},{key:"updateMaxHeight",value:function(){if(!!this.domNodes){var t=Math.max(this.editor.getLayoutInfo().height/4,250),n="".concat(t,"px");this.domNodes.element.style.maxHeight=n;var r=this.domNodes.element.getElementsByClassName("phwrapper");r.length&&(r[0].style.maxHeight=n)}}}]),e}(Ye.a);nm.ID="editor.widget.parameterHintsWidget",nm=Cw([Gp(2,Tn.b),Gp(3,io.a),Gp(4,Ti.a)],nm),Object(lt.Fc)("editorHoverWidget.highlightForeground",{dark:lt.Ub,light:lt.Ub,hcDark:lt.Ub,hcLight:lt.Ub},We.b("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var kw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},p0=function(s,o){return function(e,i){o(e,i,s)}},Vh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r.editor=i,r.model=r._register(new m0(i,n.signatureHelpProvider)),r._register(r.model.onChangedHints(function(l){var c;l?(r.widget.value.show(),r.widget.value.render(l)):(c=r.widget.rawValue)===null||c===void 0||c.hide()})),r.widget=new er.a(function(){return r._register(t.createInstance(nm,r.editor,r.model))}),r}return Object(P.a)(e,[{key:"cancel",value:function(){this.model.cancel()}},{key:"previous",value:function(){var t;(t=this.widget.rawValue)===null||t===void 0||t.previous()}},{key:"next",value:function(){var t;(t=this.widget.rawValue)===null||t===void 0||t.next()}},{key:"trigger",value:function(t){this.model.trigger(t,0)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);Vh.ID="editor.controller.parameterHints",Vh=kw([p0(1,ia.a),p0(2,$i.a)],Vh);var Dw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.triggerParameterHints",label:We.b("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:Ut.a.hasSignatureHelpProvider,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:2048|1024|10,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=Vh.get(n);r==null||r.trigger({triggerKind:so.j.Invoke})}}]),e}(wt.b);Object(wt.m)(Vh.ID,Vh,2),Object(wt.k)(Dw);var $p=100+75,Qp=wt.d.bindToContribution(Vh.get);Object(wt.l)(new Qp({id:"closeParameterHints",precondition:Wh.Visible,handler:function(o){return o.cancel()},kbOpts:{weight:$p,kbExpr:Ut.a.focus,primary:9,secondary:[1024|9]}})),Object(wt.l)(new Qp({id:"showPrevParameterHint",precondition:Tn.a.and(Wh.Visible,Wh.MultipleSignatures),handler:function(o){return o.previous()},kbOpts:{weight:$p,kbExpr:Ut.a.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),Object(wt.l)(new Qp({id:"showNextParameterHint",precondition:Tn.a.and(Wh.Visible,Wh.MultipleSignatures),handler:function(o){return o.next()},kbOpts:{weight:$p,kbExpr:Ut.a.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}));var ww=a("db+f"),tL=a("nEy2"),jw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Yp=function(s,o){return function(e,i){o(e,i,s)}},im=new Tn.c("renameInputVisible",!1,Object(We.b)("renameInputVisible","Whether the rename input widget is visible")),Zp=function(){function s(o,e,i,t,n){var r=this;Object(A.a)(this,s),this._editor=o,this._acceptKeybindings=e,this._themeService=i,this._keybindingService=t,this._disposables=new Ye.c,this.allowEditorOverflow=!0,this._visibleContextKey=im.bindTo(n),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(function(l){l.hasChanged(48)&&r._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}return Object(P.a)(s,[{key:"dispose",value:function(){this._disposables.dispose(),this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"__renameInputWidget"}},{key:"getDomNode",value:function(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",Object(We.b)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}},{key:"_updateStyles",value:function(e){var i,t,n,r;if(!(!this._input||!this._domNode)){var l=e.getColor(lt.Wc),c=e.getColor(lt.Vc);this._domNode.style.backgroundColor=String((i=e.getColor(lt.gb))!==null&&i!==void 0?i:""),this._domNode.style.boxShadow=l?" 0 0 8px 2px ".concat(l):"",this._domNode.style.border=c?"1px solid ".concat(c):"",this._domNode.style.color=String((t=e.getColor(lt.tb))!==null&&t!==void 0?t:""),this._input.style.backgroundColor=String((n=e.getColor(lt.rb))!==null&&n!==void 0?n:"");var h=e.getColor(lt.sb);this._input.style.borderWidth=h?"1px":"0px",this._input.style.borderStyle=h?"solid":"none",this._input.style.borderColor=(r=h==null?void 0:h.toString())!==null&&r!==void 0?r:"none"}}},{key:"_updateFont",value:function(){if(!(!this._input||!this._label)){var e=this._editor.getOption(48);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize="".concat(e.fontSize,"px"),this._label.style.fontSize="".concat(e.fontSize*.8,"px")}}},{key:"getPosition",value:function(){return this._visible?{position:this._position,preference:[2,1]}:null}},{key:"beforeRender",value:function(){var e,i,t=Object(O.a)(this._acceptKeybindings,2),n=t[0],r=t[1];return this._label.innerText=Object(We.b)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(e=this._keybindingService.lookupKeybinding(n))===null||e===void 0?void 0:e.getLabel(),(i=this._keybindingService.lookupKeybinding(r))===null||i===void 0?void 0:i.getLabel()),null}},{key:"afterRender",value:function(e){e||this.cancelInput(!0)}},{key:"acceptInput",value:function(e){var i;(i=this._currentAcceptInput)===null||i===void 0||i.call(this,e)}},{key:"cancelInput",value:function(e){var i;(i=this._currentCancelInput)===null||i===void 0||i.call(this,e)}},{key:"getInput",value:function(e,i,t,n,r,l){var c=this;this._domNode.classList.toggle("preview",r),this._position=new nt.a(e.startLineNumber,e.startColumn),this._input.value=i,this._input.setAttribute("selectionStart",t.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);var h=new Ye.c;return new Promise(function(f){c._currentCancelInput=function(R){return c._currentAcceptInput=void 0,c._currentCancelInput=void 0,f(R),!0},c._currentAcceptInput=function(R){if(c._input.value.trim().length===0||c._input.value===i){c.cancelInput(!0);return}c._currentAcceptInput=void 0,c._currentCancelInput=void 0,f({newName:c._input.value,wantsPreview:r&&R})},h.add(l.onCancellationRequested(function(){return c.cancelInput(!0)})),h.add(c._editor.onDidBlurEditorWidget(function(){return c.cancelInput(!document.hasFocus())})),c._show()}).finally(function(){h.dispose(),c._hide()})}},{key:"_show",value:function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(function(){e._input.focus(),e._input.setSelectionRange(parseInt(e._input.getAttribute("selectionStart")),parseInt(e._input.getAttribute("selectionEnd")))},100)}},{key:"_hide",value:function(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}}]),s}();Zp=jw([Yp(2,si.b),Yp(3,Mi.a),Yp(4,Tn.b)],Zp);var Ew=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Hh=function(s,o){return function(e,i){o(e,i,s)}},Uh=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Xp=function(){function s(o,e,i){Object(A.a)(this,s),this.model=o,this.position=e,this._providerRenameIdx=0,this._providers=i.ordered(o)}return Object(P.a)(s,[{key:"hasProvider",value:function(){return this._providers.length>0}},{key:"resolveRenameLocation",value:function(e){return Uh(this,void 0,void 0,Object(d.a)().mark(function i(){var t,n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:t=[],this._providerRenameIdx=0;case 2:if(!(this._providerRenameIdx<this._providers.length)){h.next=18;break}if(n=this._providers[this._providerRenameIdx],n.resolveRenameLocation){h.next=6;break}return h.abrupt("break",18);case 6:return h.next=8,n.resolveRenameLocation(this.model,this.position,e);case 8:if(r=h.sent,r){h.next=11;break}return h.abrupt("continue",15);case 11:if(!r.rejectReason){h.next=14;break}return t.push(r.rejectReason),h.abrupt("continue",15);case 14:return h.abrupt("return",r);case 15:this._providerRenameIdx++,h.next=2;break;case 18:if(l=this.model.getWordAtPosition(this.position),l){h.next=21;break}return h.abrupt("return",{range:Ze.a.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0});case 21:return h.abrupt("return",{range:new Ze.a(this.position.lineNumber,l.startColumn,this.position.lineNumber,l.endColumn),text:l.word,rejectReason:t.length>0?t.join(`
`):void 0});case 22:case"end":return h.stop()}},i,this)}))}},{key:"provideRenameEdits",value:function(e,i){return Uh(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this._provideRenameEdits(e,this._providerRenameIdx,[],i));case 1:case"end":return r.stop()}},t,this)}))}},{key:"_provideRenameEdits",value:function(e,i,t,n){return Uh(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(l=this._providers[i],l){f.next=3;break}return f.abrupt("return",{edits:[],rejectReason:t.join(`
`)});case 3:return f.next=5,l.provideRenameEdits(this.model,this.position,e,n);case 5:if(c=f.sent,c){f.next=10;break}return f.abrupt("return",this._provideRenameEdits(e,i+1,t.concat(We.b("no result","No result.")),n));case 10:if(!c.rejectReason){f.next=12;break}return f.abrupt("return",this._provideRenameEdits(e,i+1,t.concat(c.rejectReason),n));case 12:return f.abrupt("return",c);case 13:case"end":return f.stop()}},r,this)}))}}]),s}();function Lw(s,o,e,i){return Uh(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=new Xp(o,e,s),c.next=3,n.resolveRenameLocation(Zn.a.None);case 3:if(r=c.sent,!(r==null?void 0:r.rejectReason)){c.next=6;break}return c.abrupt("return",{edits:[],rejectReason:r.rejectReason});case 6:return c.abrupt("return",n.provideRenameEdits(i,Zn.a.None));case 7:case"end":return c.stop()}},t)}))}var zh=function(){function s(o,e,i,t,n,r,l,c){Object(A.a)(this,s),this.editor=o,this._instaService=e,this._notificationService=i,this._bulkEditService=t,this._progressService=n,this._logService=r,this._configService=l,this._languageFeaturesService=c,this._disposableStore=new Ye.c,this._cts=new Zn.b,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(Zp,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}return Object(P.a)(s,[{key:"dispose",value:function(){this._disposableStore.dispose(),this._cts.dispose(!0)}},{key:"run",value:function(){var e,i;return Uh(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r,l,c,h,f,R,X,oe,je,Me,st,gt;return Object(d.a)().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:if(this._cts.dispose(!0),this._cts=new Zn.b,this.editor.hasModel()){Xt.next=4;break}return Xt.abrupt("return",void 0);case 4:if(r=this.editor.getPosition(),l=new Xp(this.editor.getModel(),r,this._languageFeaturesService.renameProvider),l.hasProvider()){Xt.next=8;break}return Xt.abrupt("return",void 0);case 8:return c=new ja.b(this.editor,4|1,void 0,this._cts.token),Xt.prev=9,f=l.resolveRenameLocation(c.token),this._progressService.showWhile(f,250),Xt.next=14,f;case 14:h=Xt.sent,Xt.next=21;break;case 17:return Xt.prev=17,Xt.t0=Xt.catch(9),(e=ps.get(this.editor))===null||e===void 0||e.showMessage(Xt.t0||We.b("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),r),Xt.abrupt("return",void 0);case 21:return Xt.prev=21,c.dispose(),Xt.finish(21);case 24:if(h){Xt.next=26;break}return Xt.abrupt("return",void 0);case 26:if(!h.rejectReason){Xt.next=29;break}return(i=ps.get(this.editor))===null||i===void 0||i.showMessage(h.rejectReason,r),Xt.abrupt("return",void 0);case 29:if(!c.token.isCancellationRequested){Xt.next=31;break}return Xt.abrupt("return",void 0);case 31:return R=new ja.b(this.editor,4|1,h.range,this._cts.token),X=this.editor.getSelection(),oe=0,je=h.text.length,!Ze.a.isEmpty(X)&&!Ze.a.spansMultipleLines(X)&&Ze.a.containsRange(h.range,X)&&(oe=Math.max(0,X.startColumn-h.range.startColumn),je=Math.min(h.range.endColumn,X.endColumn)-h.range.startColumn),Me=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Xt.next=39,this._renameInputField.getInput(h.range,h.text,oe,je,Me,R.token);case 39:if(st=Xt.sent,typeof st!="boolean"){Xt.next=44;break}return st&&this.editor.focus(),R.dispose(),Xt.abrupt("return",void 0);case 44:return this.editor.focus(),gt=Object(mt.o)(l.provideRenameEdits(st.newName,R.token),R.token).then(function(sn){return Uh(n,void 0,void 0,Object(d.a)().mark(function qn(){var Hn=this;return Object(d.a)().wrap(function(Ci){for(;;)switch(Ci.prev=Ci.next){case 0:if(!(!sn||!this.editor.hasModel())){Ci.next=2;break}return Ci.abrupt("return");case 2:if(!sn.rejectReason){Ci.next=5;break}return this._notificationService.info(sn.rejectReason),Ci.abrupt("return");case 5:this.editor.setSelection(Ze.a.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(sn,{editor:this.editor,showPreview:st.wantsPreview,label:We.b("label","Renaming '{0}' to '{1}'",h==null?void 0:h.text,st.newName),code:"undoredo.rename",quotableLabel:We.b("quotableLabel","Renaming {0} to {1}",h==null?void 0:h.text,st.newName),respectAutoSaveConfig:!0}).then(function(wi){wi.ariaSummary&&Object(Rn.a)(We.b("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",h.text,st.newName,wi.ariaSummary))}).catch(function(wi){Hn._notificationService.error(We.b("rename.failedApply","Rename failed to apply edits")),Hn._logService.error(wi)});case 7:case"end":return Ci.stop()}},qn,this)}))},function(sn){n._notificationService.error(We.b("rename.failed","Rename failed to compute edits")),n._logService.error(sn)}).finally(function(){R.dispose()}),this._progressService.showWhile(gt,250),Xt.abrupt("return",gt);case 48:case"end":return Xt.stop()}},t,this,[[9,17,21,24]])}))}},{key:"acceptRenameInput",value:function(e){this._renameInputField.acceptInput(e)}},{key:"cancelRenameInput",value:function(){this._renameInputField.cancelInput(!0)}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();zh.ID="editor.contrib.renameController",zh=Ew([Hh(1,ia.a),Hh(2,Ra.a),Hh(3,Nr.a),Hh(4,Ua.a),Hh(5,Ng.b),Hh(6,ww.a),Hh(7,$i.a)],zh);var Mw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.rename",label:We.b("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Tn.a.and(Ut.a.writable,Ut.a.hasRenameProvider),kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}return Object(P.a)(e,[{key:"runCommand",value:function(t,n){var r=this,l=t.get(zt.a),c=Array.isArray(n)&&n||[void 0,void 0],h=Object(O.a)(c,2),f=h[0],R=h[1];return _r.a.isUri(f)&&nt.a.isIPosition(R)?l.openCodeEditor({resource:f},l.getActiveCodeEditor()).then(function(X){!X||(X.setPosition(R),X.invokeWithinContext(function(oe){return r.reportTelemetry(oe,X),r.run(oe,X)}))},Li.h):Object(bn.a)(Object(An.a)(e.prototype),"runCommand",this).call(this,t,n)}},{key:"run",value:function(t,n){var r=zh.get(n);return r?r.run():Promise.resolve()}}]),e}(wt.b);Object(wt.m)(zh.ID,zh,4),Object(wt.k)(Mw);var Jp=wt.d.bindToContribution(zh.get);Object(wt.l)(new Jp({id:"acceptRenameInput",precondition:im,handler:function(o){return o.acceptRenameInput(!1)},kbOpts:{weight:100+99,kbExpr:Tn.a.and(Ut.a.focus,Tn.a.not("isComposing")),primary:3}})),Object(wt.l)(new Jp({id:"acceptRenameInputWithPreview",precondition:Tn.a.and(im,Tn.a.has("config.editor.rename.enablePreview")),handler:function(o){return o.acceptRenameInput(!0)},kbOpts:{weight:100+99,kbExpr:Tn.a.and(Ut.a.focus,Tn.a.not("isComposing")),primary:1024+3}})),Object(wt.l)(new Jp({id:"cancelRenameInput",precondition:im,handler:function(o){return o.cancelRenameInput()},kbOpts:{weight:100+99,kbExpr:Ut.a.focus,primary:9,secondary:[1024|9]}})),Object(wt.o)("_executeDocumentRenameProvider",function(s,o,e){for(var i=arguments.length,t=new Array(i>3?i-3:0),n=3;n<i;n++)t[n-3]=arguments[n];var r=t[0];Object(ya.b)(typeof r=="string");var l=s.get($i.a),c=l.renameProvider;return Lw(c,o,e,r)}),Object(wt.o)("_executePrepareRename",function(s,o,e){return Uh(this,void 0,void 0,Object(d.a)().mark(function i(){var t,n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return t=s.get($i.a),n=t.renameProvider,r=new Xp(o,e,n),h.next=4,r.resolveRenameLocation(Zn.a.None);case 4:if(l=h.sent,!(l==null?void 0:l.rejectReason)){h.next=7;break}throw new Error(l.rejectReason);case 7:return h.abrupt("return",l);case 8:case"end":return h.stop()}},i)}))}),Qs.a.as(bd.a.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:We.b("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var b0=a("JS/N"),Tw=a("HpOR");function Iw(s){for(var o=0,e=s.length;o<e;o+=4){var i=s[o+0],t=s[o+1],n=s[o+2],r=s[o+3];s[o+0]=r,s[o+1]=n,s[o+2]=t,s[o+3]=i}}function Pw(s){var o=new Uint8Array(s.buffer,s.byteOffset,s.length*4);return Mt.h()||Iw(o),Tw.a.wrap(o)}function y0(s){var o=new Uint32Array(Aw(s)),e=0;if(o[e++]=s.id,s.type==="full")o[e++]=1,o[e++]=s.data.length,o.set(s.data,e),e+=s.data.length;else{o[e++]=2,o[e++]=s.deltas.length;var i=Object(G.a)(s.deltas),t;try{for(i.s();!(t=i.n()).done;){var n=t.value;o[e++]=n.start,o[e++]=n.deleteCount,n.data?(o[e++]=n.data.length,o.set(n.data,e),e+=n.data.length):o[e++]=0}}catch(r){i.e(r)}finally{i.f()}}return Pw(o)}function Aw(s){var o=0;if(o+=1+1,s.type==="full")o+=1+s.data.length;else{o+=1,o+=(1+1+1)*s.deltas.length;var e=Object(G.a)(s.deltas),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;t.data&&(o+=t.data.length)}}catch(n){e.e(n)}finally{e.f()}}return o}var Xd=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function rm(s){return s&&!!s.data}function _0(s){return s&&Array.isArray(s.edits)}var Rw=Object(P.a)(function s(o,e,i){Object(A.a)(this,s),this.provider=o,this.tokens=e,this.error=i});function C0(s,o){return s.has(o)}function Nw(s,o){var e=s.orderedGroups(o);return e.length>0?e[0]:[]}function O0(s,o,e,i,t){return Xd(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this,l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return l=Nw(s,o),oe.next=3,Promise.all(l.map(function(je){return Xd(r,void 0,void 0,Object(d.a)().mark(function Me(){var st,gt;return Object(d.a)().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:return gt=null,Xt.prev=1,Xt.next=4,je.provideDocumentSemanticTokens(o,je===e?i:null,t);case 4:st=Xt.sent,Xt.next=11;break;case 7:Xt.prev=7,Xt.t0=Xt.catch(1),gt=Xt.t0,st=null;case 11:return(!st||!rm(st)&&!_0(st))&&(st=null),Xt.abrupt("return",new Rw(je,st,gt));case 13:case"end":return Xt.stop()}},Me,null,[[1,7]])}))}));case 3:c=oe.sent,h=Object(G.a)(c),oe.prev=5,h.s();case 7:if((f=h.n()).done){oe.next=15;break}if(R=f.value,!R.error){oe.next=11;break}throw R.error;case 11:if(!R.tokens){oe.next=13;break}return oe.abrupt("return",R);case 13:oe.next=7;break;case 15:oe.next=20;break;case 17:oe.prev=17,oe.t0=oe.catch(5),h.e(oe.t0);case 20:return oe.prev=20,h.f(),oe.finish(20);case 23:if(!(c.length>0)){oe.next=25;break}return oe.abrupt("return",c[0]);case 25:return oe.abrupt("return",null);case 26:case"end":return oe.stop()}},n,null,[[5,17,20,23]])}))}function xw(s,o){var e=s.orderedGroups(o);return e.length>0?e[0]:null}var Fw=Object(P.a)(function s(o,e){Object(A.a)(this,s),this.provider=o,this.tokens=e});function Bw(s,o){return s.has(o)}function S0(s,o){var e=s.orderedGroups(o);return e.length>0?e[0]:[]}function qp(s,o,e,i){return Xd(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r,l,c,h,f;return Object(d.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return r=S0(s,o),X.next=3,Promise.all(r.map(function(oe){return Xd(n,void 0,void 0,Object(d.a)().mark(function je(){var Me;return Object(d.a)().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return gt.prev=0,gt.next=3,oe.provideDocumentRangeSemanticTokens(o,e,i);case 3:Me=gt.sent,gt.next=10;break;case 6:gt.prev=6,gt.t0=gt.catch(0),Object(Li.i)(gt.t0),Me=null;case 10:return(!Me||!rm(Me))&&(Me=null),gt.abrupt("return",new Fw(oe,Me));case 12:case"end":return gt.stop()}},je,null,[[0,6]])}))}));case 3:l=X.sent,c=Object(G.a)(l),X.prev=5,c.s();case 7:if((h=c.n()).done){X.next=13;break}if(f=h.value,!f.tokens){X.next=11;break}return X.abrupt("return",f);case 11:X.next=7;break;case 13:X.next=18;break;case 15:X.prev=15,X.t0=X.catch(5),c.e(X.t0);case 18:return X.prev=18,c.f(),X.finish(18);case 21:if(!(l.length>0)){X.next=23;break}return X.abrupt("return",l[0]);case 23:return X.abrupt("return",null);case 24:case"end":return X.stop()}},t,null,[[5,15,18,21]])}))}$r.a.registerCommand("_provideDocumentSemanticTokensLegend",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return Xd(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(n=e[0],Object(ya.b)(n instanceof _r.a),r=s.get(Jr.a).getModel(n),r){R.next=5;break}return R.abrupt("return",void 0);case 5:if(l=s.get($i.a),c=l.documentSemanticTokensProvider,h=xw(c,r),h){R.next=9;break}return R.abrupt("return",s.get($r.b).executeCommand("_provideDocumentRangeSemanticTokensLegend",n));case 9:return R.abrupt("return",h[0].getLegend());case 10:case"end":return R.stop()}},t)}))}),$r.a.registerCommand("_provideDocumentSemanticTokens",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return Xd(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R,X;return Object(d.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(n=e[0],Object(ya.b)(n instanceof _r.a),r=s.get(Jr.a).getModel(n),r){je.next=5;break}return je.abrupt("return",void 0);case 5:if(l=s.get($i.a),c=l.documentSemanticTokensProvider,C0(c,r)){je.next=8;break}return je.abrupt("return",s.get($r.b).executeCommand("_provideDocumentRangeSemanticTokens",n,r.getFullModelRange()));case 8:return je.next=10,O0(c,r,null,null,Zn.a.None);case 10:if(h=je.sent,h){je.next=13;break}return je.abrupt("return",void 0);case 13:if(f=h.provider,R=h.tokens,!(!R||!rm(R))){je.next=16;break}return je.abrupt("return",void 0);case 16:return X=y0({id:0,type:"full",data:R.data}),R.resultId&&f.releaseDocumentSemanticTokens(R.resultId),je.abrupt("return",X);case 19:case"end":return je.stop()}},t)}))}),$r.a.registerCommand("_provideDocumentRangeSemanticTokensLegend",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return Xd(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(n=e[0],r=e[1],Object(ya.b)(n instanceof _r.a),l=s.get(Jr.a).getModel(n),l){oe.next=5;break}return oe.abrupt("return",void 0);case 5:if(c=s.get($i.a),h=c.documentRangeSemanticTokensProvider,f=S0(h,l),f.length!==0){oe.next=9;break}return oe.abrupt("return",void 0);case 9:if(f.length!==1){oe.next=11;break}return oe.abrupt("return",f[0].getLegend());case 11:if(!(!r||!Ze.a.isIRange(r))){oe.next=14;break}return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),oe.abrupt("return",f[0].getLegend());case 14:return oe.next=16,qp(h,l,Ze.a.lift(r),Zn.a.None);case 16:if(R=oe.sent,R){oe.next=19;break}return oe.abrupt("return",void 0);case 19:return oe.abrupt("return",R.provider.getLegend());case 20:case"end":return oe.stop()}},t)}))}),$r.a.registerCommand("_provideDocumentRangeSemanticTokens",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return Xd(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f;return Object(d.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(n=e[0],r=e[1],Object(ya.b)(n instanceof _r.a),Object(ya.b)(Ze.a.isIRange(r)),l=s.get(Jr.a).getModel(n),l){X.next=6;break}return X.abrupt("return",void 0);case 6:return c=s.get($i.a),h=c.documentRangeSemanticTokensProvider,X.next=9,qp(h,l,Ze.a.lift(r),Zn.a.None);case 9:if(f=X.sent,!(!f||!f.tokens)){X.next=12;break}return X.abrupt("return",void 0);case 12:return X.abrupt("return",y0({id:0,type:"full",data:f.tokens.data}));case 13:case"end":return X.stop()}},t)}))});var eb=a("DF6W"),tb="editor.semanticHighlighting";function nb(s,o,e){var i,t=(i=e.getValue(tb,{overrideIdentifier:s.getLanguageId(),resource:s.uri}))===null||i===void 0?void 0:i.enabled;return typeof t=="boolean"?t:o.getColorTheme().semanticHighlighting}var k0=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},xc=function(s,o){return function(e,i){o(e,i,s)}},ib=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c){var h;Object(A.a)(this,e),h=o.call(this),h._watchers=Object.create(null);var f=function(je){h._watchers[je.uri.toString()]=new Yv(je,i,n,l,c)},R=function(je,Me){Me.dispose(),delete h._watchers[je.uri.toString()]},X=function(){var je=Object(G.a)(t.getModels()),Me;try{for(je.s();!(Me=je.n()).done;){var st=Me.value,gt=h._watchers[st.uri.toString()];nb(st,n,r)?gt||f(st):gt&&R(st,gt)}}catch(jt){je.e(jt)}finally{je.f()}};return h._register(t.onModelAdded(function(oe){nb(oe,n,r)&&f(oe)})),h._register(t.onModelRemoved(function(oe){var je=h._watchers[oe.uri.toString()];je&&R(oe,je)})),h._register(r.onDidChangeConfiguration(function(oe){oe.affectsConfiguration(tb)&&X()})),h._register(n.onDidColorThemeChange(X)),h}return Object(P.a)(e,[{key:"dispose",value:function(){for(var t=0,n=Object.values(this._watchers);t<n.length;t++){var r=n[t];r.dispose()}Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}}]),e}(Ye.a);ib=k0([xc(0,eb.a),xc(1,Jr.a),xc(2,si.b),xc(3,Do.a),xc(4,Ms.a),xc(5,$i.a)],ib);var Yv=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l){var c;Object(A.a)(this,e),c=o.call(this),c._semanticTokensStylingService=t,c._isDisposed=!1,c._model=i,c._provider=l.documentSemanticTokensProvider,c._debounceInformation=r.for(c._provider,"DocumentSemanticTokens",{min:e.REQUEST_MIN_DELAY,max:e.REQUEST_MAX_DELAY}),c._fetchDocumentSemanticTokens=c._register(new mt.g(function(){return c._fetchDocumentSemanticTokensNow()},e.REQUEST_MIN_DELAY)),c._currentDocumentResponse=null,c._currentDocumentRequestCancellationTokenSource=null,c._documentProvidersChangeListeners=[],c._providersChangedDuringRequest=!1,c._register(c._model.onDidChangeContent(function(){c._fetchDocumentSemanticTokens.isScheduled()||c._fetchDocumentSemanticTokens.schedule(c._debounceInformation.get(c._model))})),c._register(c._model.onDidChangeAttached(function(){c._fetchDocumentSemanticTokens.isScheduled()||c._fetchDocumentSemanticTokens.schedule(c._debounceInformation.get(c._model))})),c._register(c._model.onDidChangeLanguage(function(){c._currentDocumentResponse&&(c._currentDocumentResponse.dispose(),c._currentDocumentResponse=null),c._currentDocumentRequestCancellationTokenSource&&(c._currentDocumentRequestCancellationTokenSource.cancel(),c._currentDocumentRequestCancellationTokenSource=null),c._setDocumentSemanticTokens(null,null,null,[]),c._fetchDocumentSemanticTokens.schedule(0)}));var h=function(){Object(Ye.i)(c._documentProvidersChangeListeners),c._documentProvidersChangeListeners=[];var R=Object(G.a)(c._provider.all(i)),X;try{for(R.s();!(X=R.n()).done;){var oe=X.value;typeof oe.onDidChange=="function"&&c._documentProvidersChangeListeners.push(oe.onDidChange(function(){if(c._currentDocumentRequestCancellationTokenSource){c._providersChangedDuringRequest=!0;return}c._fetchDocumentSemanticTokens.schedule(0)}))}}catch(je){R.e(je)}finally{R.f()}};return h(),c._register(c._provider.onDidChange(function(){h(),c._fetchDocumentSemanticTokens.schedule(c._debounceInformation.get(c._model))})),c._register(n.onDidColorThemeChange(function(f){c._setDocumentSemanticTokens(null,null,null,[]),c._fetchDocumentSemanticTokens.schedule(c._debounceInformation.get(c._model))})),c._fetchDocumentSemanticTokens.schedule(0),c}return Object(P.a)(e,[{key:"dispose",value:function(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"_fetchDocumentSemanticTokensNow",value:function(){var t=this;if(!this._currentDocumentRequestCancellationTokenSource){if(!C0(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!!this._model.isAttachedToEditor()){var n=new Zn.b,r=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,l=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,c=O0(this._provider,this._model,r,l,n.token);this._currentDocumentRequestCancellationTokenSource=n,this._providersChangedDuringRequest=!1;var h=[],f=this._model.onDidChangeContent(function(X){h.push(X)}),R=new fs.a(!1);c.then(function(X){if(t._debounceInformation.update(t._model,R.elapsed()),t._currentDocumentRequestCancellationTokenSource=null,f.dispose(),!X)t._setDocumentSemanticTokens(null,null,null,h);else{var oe=X.provider,je=X.tokens,Me=t._semanticTokensStylingService.getStyling(oe);t._setDocumentSemanticTokens(oe,je||null,Me,h)}},function(X){var oe=X&&(Li.g(X)||typeof X.message=="string"&&X.message.indexOf("busy")!==-1);oe||Li.h(X),t._currentDocumentRequestCancellationTokenSource=null,f.dispose(),(h.length>0||t._providersChangedDuringRequest)&&(t._fetchDocumentSemanticTokens.isScheduled()||t._fetchDocumentSemanticTokens.schedule(t._debounceInformation.get(t._model)))})}}}},{key:"_setDocumentSemanticTokens",value:function(t,n,r,l){var c=this,h=this._currentDocumentResponse,f=function(){(l.length>0||c._providersChangedDuringRequest)&&!c._fetchDocumentSemanticTokens.isScheduled()&&c._fetchDocumentSemanticTokens.schedule(c._debounceInformation.get(c._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){t&&n&&t.releaseDocumentSemanticTokens(n.resultId);return}if(!t||!r){this._model.tokenization.setSemanticTokens(null,!1);return}if(!n){this._model.tokenization.setSemanticTokens(null,!0),f();return}if(_0(n)){if(!h){this._model.tokenization.setSemanticTokens(null,!0);return}if(n.edits.length===0)n={resultId:n.resultId,data:h.data};else{var R=0,X=Object(G.a)(n.edits),oe;try{for(X.s();!(oe=X.n()).done;){var je=oe.value;R+=(je.data?je.data.length:0)-je.deleteCount}}catch(xr){X.e(xr)}finally{X.f()}for(var Me=h.data,st=new Uint32Array(Me.length+R),gt=Me.length,jt=st.length,Xt=n.edits.length-1;Xt>=0;Xt--){var sn=n.edits[Xt];if(sn.start>Me.length){r.warnInvalidEditStart(h.resultId,n.resultId,Xt,sn.start,Me.length),this._model.tokenization.setSemanticTokens(null,!0);return}var qn=gt-(sn.start+sn.deleteCount);qn>0&&(e._copy(Me,gt-qn,st,jt-qn,qn),jt-=qn),sn.data&&(e._copy(sn.data,0,st,jt-sn.data.length,sn.data.length),jt-=sn.data.length),gt=sn.start}gt>0&&e._copy(Me,0,st,0,gt),n={resultId:n.resultId,data:st}}}if(rm(n)){this._currentDocumentResponse=new Ww(t,n.resultId,n.data);var Hn=Object(b0.b)(n,r,this._model.getLanguageId());if(l.length>0){var fi=Object(G.a)(l),Ci;try{for(fi.s();!(Ci=fi.n()).done;){var wi=Ci.value,Ai=Object(G.a)(Hn),jr;try{for(Ai.s();!(jr=Ai.n()).done;){var dr=jr.value,Dr=Object(G.a)(wi.changes),Kr;try{for(Dr.s();!(Kr=Dr.n()).done;){var pa=Kr.value;dr.applyEdit(pa.range,pa.text)}}catch(xr){Dr.e(xr)}finally{Dr.f()}}}catch(xr){Ai.e(xr)}finally{Ai.f()}}}catch(xr){fi.e(xr)}finally{fi.f()}}this._model.tokenization.setSemanticTokens(Hn,!0)}else this._model.tokenization.setSemanticTokens(null,!0);f()}}],[{key:"_copy",value:function(t,n,r,l,c){c=Math.min(c,r.length-l,t.length-n);for(var h=0;h<c;h++)r[l+h]=t[n+h]}}]),e}(Ye.a);Yv.REQUEST_MIN_DELAY=300,Yv.REQUEST_MAX_DELAY=2e3,Yv=k0([xc(1,eb.a),xc(2,si.b),xc(3,Ms.a),xc(4,$i.a)],Yv);var Ww=function(){function s(o,e,i){Object(A.a)(this,s),this.provider=o,this.resultId=e,this.data=i}return Object(P.a)(s,[{key:"dispose",value:function(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}]),s}();Object(No.b)(ib);var Vw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Zv=function(s,o){return function(e,i){o(e,i,s)}},Xv=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c){var h;Object(A.a)(this,e),h=o.call(this),h._semanticTokensStylingService=t,h._themeService=n,h._configurationService=r,h._editor=i,h._provider=c.documentRangeSemanticTokensProvider,h._debounceInformation=l.for(h._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),h._tokenizeViewport=h._register(new mt.g(function(){return h._tokenizeViewportNow()},100)),h._outstandingRequests=[];var f=function(){h._editor.hasModel()&&h._tokenizeViewport.schedule(h._debounceInformation.get(h._editor.getModel()))};return h._register(h._editor.onDidScrollChange(function(){f()})),h._register(h._editor.onDidChangeModel(function(){h._cancelAll(),f()})),h._register(h._editor.onDidChangeModelContent(function(R){h._cancelAll(),f()})),h._register(h._provider.onDidChange(function(){h._cancelAll(),f()})),h._register(h._configurationService.onDidChangeConfiguration(function(R){R.affectsConfiguration(tb)&&(h._cancelAll(),f())})),h._register(h._themeService.onDidColorThemeChange(function(){h._cancelAll(),f()})),f(),h}return Object(P.a)(e,[{key:"_cancelAll",value:function(){var t=Object(G.a)(this._outstandingRequests),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;r.cancel()}}catch(l){t.e(l)}finally{t.f()}this._outstandingRequests=[]}},{key:"_removeOutstandingRequest",value:function(t){for(var n=0,r=this._outstandingRequests.length;n<r;n++)if(this._outstandingRequests[n]===t){this._outstandingRequests.splice(n,1);return}}},{key:"_tokenizeViewportNow",value:function(){var t=this;if(!!this._editor.hasModel()){var n=this._editor.getModel();if(!n.tokenization.hasCompleteSemanticTokens()){if(!nb(n,this._themeService,this._configurationService)){n.tokenization.hasSomeSemanticTokens()&&n.tokenization.setSemanticTokens(null,!1);return}if(!Bw(this._provider,n)){n.tokenization.hasSomeSemanticTokens()&&n.tokenization.setSemanticTokens(null,!1);return}var r=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(r.map(function(l){return t._requestRange(n,l)}))}}}},{key:"_requestRange",value:function(t,n){var r=this,l=t.getVersionId(),c=Object(mt.k)(function(f){return Promise.resolve(qp(r._provider,t,n,f))}),h=new fs.a(!1);return c.then(function(f){if(r._debounceInformation.update(t,h.elapsed()),!(!f||!f.tokens||t.isDisposed()||t.getVersionId()!==l)){var R=f.provider,X=f.tokens,oe=r._semanticTokensStylingService.getStyling(R);t.tokenization.setPartialSemanticTokens(n,Object(b0.b)(X,oe,t.getLanguageId()))}}).then(function(){return r._removeOutstandingRequest(c)},function(){return r._removeOutstandingRequest(c)}),c}}]),e}(Ye.a);Xv.ID="editor.contrib.viewportSemanticTokens",Xv=Vw([Zv(1,eb.a),Zv(2,si.b),Zv(3,Do.a),Zv(4,Ms.a),Zv(5,$i.a)],Xv),Object(wt.m)(Xv.ID,Xv,1);var Hw=function(){function s(){Object(A.a)(this,s)}return Object(P.a)(s,[{key:"provideSelectionRanges",value:function(e,i){var t=[],n=Object(G.a)(i),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=[];t.push(c),this._addInWordRanges(c,e,l),this._addWordRanges(c,e,l),this._addWhitespaceLine(c,e,l),c.push({range:e.getFullModelRange()})}}catch(h){n.e(h)}finally{n.f()}return t}},{key:"_addInWordRanges",value:function(e,i,t){var n=i.getWordAtPosition(t);if(!!n){for(var r=n.word,l=n.startColumn,c=t.column-l,h=c,f=c,R=0;h>=0;h--){var X=r.charCodeAt(h);if(h!==c&&(X===95||X===45))break;if(Object(vr.H)(X)&&Object(vr.I)(R))break;R=X}for(h+=1;f<r.length;f++){var oe=r.charCodeAt(f);if(Object(vr.I)(oe)&&Object(vr.H)(R))break;if(oe===95||oe===45)break;R=oe}h<f&&e.push({range:new Ze.a(t.lineNumber,l+h,t.lineNumber,l+f)})}}},{key:"_addWordRanges",value:function(e,i,t){var n=i.getWordAtPosition(t);n&&e.push({range:new Ze.a(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn)})}},{key:"_addWhitespaceLine",value:function(e,i,t){i.getLineLength(t.lineNumber)>0&&i.getLineFirstNonWhitespaceColumn(t.lineNumber)===0&&i.getLineLastNonWhitespaceColumn(t.lineNumber)===0&&e.push({range:new Ze.a(t.lineNumber,1,t.lineNumber,i.getLineMaxColumn(t.lineNumber))})}}]),s}(),Uw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},zw=function(s,o){return function(e,i){o(e,i,s)}},am=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Kw=function(){function s(o,e){Object(A.a)(this,s),this.index=o,this.ranges=e}return Object(P.a)(s,[{key:"mov",value:function(e){var i=this.index+(e?1:-1);if(i<0||i>=this.ranges.length)return this;var t=new s(i,this.ranges);return t.ranges[i].equalsRange(this.ranges[this.index])?t.mov(e):t}}]),s}(),Vf=function(){function s(o,e){Object(A.a)(this,s),this._editor=o,this._languageFeaturesService=e,this._ignoreSelection=!1}return Object(P.a)(s,[{key:"dispose",value:function(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}},{key:"run",value:function(e){return am(this,void 0,void 0,Object(d.a)().mark(function i(){var t=this,n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this._editor.hasModel()){h.next=2;break}return h.abrupt("return");case 2:if(n=this._editor.getSelections(),r=this._editor.getModel(),this._state){h.next=7;break}return h.next=7,w0(this._languageFeaturesService.selectionRangeProvider,r,n.map(function(f){return f.getPosition()}),this._editor.getOption(109),Zn.a.None).then(function(f){var R;if(!(!Wn.s(f)||f.length!==n.length)&&!(!t._editor.hasModel()||!Wn.j(t._editor.getSelections(),n,function(je,Me){return je.equalsSelection(Me)}))){for(var X=function(Me){f[Me]=f[Me].filter(function(st){return st.containsPosition(n[Me].getStartPosition())&&st.containsPosition(n[Me].getEndPosition())}),f[Me].unshift(n[Me])},oe=0;oe<f.length;oe++)X(oe);t._state=f.map(function(je){return new Kw(0,je)}),(R=t._selectionListener)===null||R===void 0||R.dispose(),t._selectionListener=t._editor.onDidChangeCursorPosition(function(){var je;t._ignoreSelection||((je=t._selectionListener)===null||je===void 0||je.dispose(),t._state=void 0)})}});case 7:if(this._state){h.next=9;break}return h.abrupt("return");case 9:this._state=this._state.map(function(f){return f.mov(e)}),l=this._state.map(function(f){return Pi.a.fromPositions(f.ranges[f.index].getStartPosition(),f.ranges[f.index].getEndPosition())}),this._ignoreSelection=!0;try{this._editor.setSelections(l)}finally{this._ignoreSelection=!1}case 13:case"end":return h.stop()}},i,this)}))}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();Vf.ID="editor.contrib.smartSelectController",Vf=Uw([zw(1,$i.a)],Vf);var D0=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this,t),n._forward=i,n}return Object(P.a)(e,[{key:"run",value:function(t,n){return am(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l=Vf.get(n),!l){h.next=4;break}return h.next=4,l.run(this._forward);case 4:case"end":return h.stop()}},r,this)}))}}]),e}(wt.b),Gw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!0,{id:"editor.action.smartSelect.expand",label:We.b("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"1_basic",title:We.b({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}return Object(P.a)(e)}(D0);$r.a.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var $w=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!1,{id:"editor.action.smartSelect.shrink",label:We.b("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:Ht.c.MenubarSelectionMenu,group:"1_basic",title:We.b({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}return Object(P.a)(e)}(D0);Object(wt.m)(Vf.ID,Vf,4),Object(wt.k)(Gw),Object(wt.k)($w);function w0(s,o,e,i,t){return am(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:r=s.all(o).concat(new Hw),r.length===1&&r.unshift(new Hg),l=[],c=[],h=Object(G.a)(r);try{for(h.s();!(f=h.n()).done;)R=f.value,l.push(Promise.resolve(R.provideSelectionRanges(o,e,t)).then(function(je){if(Wn.s(je)&&je.length===e.length)for(var Me=0;Me<e.length;Me++){c[Me]||(c[Me]=[]);var st=Object(G.a)(je[Me]),gt;try{for(st.s();!(gt=st.n()).done;){var jt=gt.value;Ze.a.isIRange(jt.range)&&Ze.a.containsPosition(jt.range,e[Me])&&c[Me].push(Ze.a.lift(jt.range))}}catch(Xt){st.e(Xt)}finally{st.f()}}},Li.i))}catch(je){h.e(je)}finally{h.f()}return oe.next=8,Promise.all(l);case 8:return oe.abrupt("return",c.map(function(je){if(je.length===0)return[];je.sort(function(Ai,jr){return nt.a.isBefore(Ai.getStartPosition(),jr.getStartPosition())?1:nt.a.isBefore(jr.getStartPosition(),Ai.getStartPosition())||nt.a.isBefore(Ai.getEndPosition(),jr.getEndPosition())?-1:nt.a.isBefore(jr.getEndPosition(),Ai.getEndPosition())?1:0});var Me=[],st,gt=Object(G.a)(je),jt;try{for(gt.s();!(jt=gt.n()).done;){var Xt=jt.value;(!st||Ze.a.containsRange(Xt,st)&&!Ze.a.equalsRange(Xt,st))&&(Me.push(Xt),st=Xt)}}catch(Ai){gt.e(Ai)}finally{gt.f()}if(!i.selectLeadingAndTrailingWhitespace)return Me;for(var sn=[Me[0]],qn=1;qn<Me.length;qn++){var Hn=Me[qn-1],fi=Me[qn];if(fi.startLineNumber!==Hn.startLineNumber||fi.endLineNumber!==Hn.endLineNumber){var Ci=new Ze.a(Hn.startLineNumber,o.getLineFirstNonWhitespaceColumn(Hn.startLineNumber),Hn.endLineNumber,o.getLineLastNonWhitespaceColumn(Hn.endLineNumber));Ci.containsRange(Hn)&&!Ci.equalsRange(Hn)&&fi.containsRange(Ci)&&!fi.equalsRange(Ci)&&sn.push(Ci);var wi=new Ze.a(Hn.startLineNumber,1,Hn.endLineNumber,o.getLineMaxColumn(Hn.endLineNumber));wi.containsRange(Hn)&&!wi.equalsRange(Ci)&&fi.containsRange(wi)&&!fi.equalsRange(wi)&&sn.push(wi)}sn.push(fi)}return sn}));case 9:case"end":return oe.stop()}},n)}))}$r.a.registerCommand("_executeSelectionRangeProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return am(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=e[0],r=e[1],Object(ya.b)(_r.a.isUri(n)),l=s.get($i.a).selectionRangeProvider,f.next=5,s.get(Qi.a).createModelReference(n);case 5:return c=f.sent,f.prev=6,f.abrupt("return",w0(l,c.object.textEditorModel,r,{selectLeadingAndTrailingWhitespace:!0},Zn.a.None));case 8:return f.prev=8,c.dispose(),f.finish(8);case 11:case"end":return f.stop()}},t,null,[[6,,8,11]])}))});var Qw=Object.freeze({View:{value:Object(We.b)("view","View"),original:"View"},Help:{value:Object(We.b)("help","Help"),original:"Help"},Test:{value:Object(We.b)("test","Test"),original:"Test"},File:{value:Object(We.b)("file","File"),original:"File"},Preferences:{value:Object(We.b)("preferences","Preferences"),original:"Preferences"},Developer:{value:Object(We.b)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}}),Yw=a("XSiN"),nL=a("o/5H"),j0=Object(P.a)(function s(o,e){Object(A.a)(this,s),this.lineNumbers=o,this.lastLineRelativePosition=e}),E0=Object(Vr.a)("stickyScrollViewLayer",{createHTML:function(o){return o}}),Zw=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t._editor=i,t._rootDomNode=document.createElement("div"),t._disposableStore=t._register(new Ye.c),t._lineNumbers=[],t._lastLineRelativePosition=0,t._hoverOnLine=-1,t._hoverOnColumn=-1,t._layoutInfo=t._editor.getLayoutInfo(),t._rootDomNode=document.createElement("div"),t._rootDomNode.className="sticky-widget",t._rootDomNode.classList.toggle("peek",i instanceof xa),t._rootDomNode.style.width="".concat(t._layoutInfo.width-t._layoutInfo.minimap.minimapCanvasOuterWidth-t._layoutInfo.verticalScrollbarWidth,"px"),t}return Object(P.a)(e,[{key:"hoverOnLine",get:function(){return this._hoverOnLine}},{key:"hoverOnColumn",get:function(){return this._hoverOnColumn}},{key:"lineNumbers",get:function(){return this._lineNumbers}},{key:"getCurrentLines",value:function(){return this._lineNumbers}},{key:"setState",value:function(t){It.clearNode(this._rootDomNode),this._disposableStore.clear(),this._lineNumbers.length=0;var n=this._editor.getOption(64),r=t.lineNumbers.length*n+t.lastLineRelativePosition;r>0?(this._lastLineRelativePosition=t.lastLineRelativePosition,this._lineNumbers=t.lineNumbers):(this._lastLineRelativePosition=0,this._lineNumbers=[]),this._renderRootNode()}},{key:"_renderRootNode",value:function(){if(!!this._editor._getViewModel()){var t=Object(G.a)(this._lineNumbers.entries()),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=Object(O.a)(r,2),c=l[0],h=l[1],f=this._renderChildNode(c,h);this._rootDomNode.appendChild(f)}}catch(je){t.e(je)}finally{t.f()}var R=this._editor.getOption(64),X=this._lineNumbers.length*R+this._lastLineRelativePosition;this._rootDomNode.style.display=X>0?"block":"none",this._rootDomNode.style.height=X.toString()+"px",this._rootDomNode.setAttribute("role","list");var oe=this._editor.getOption(70).side;oe==="left"&&(this._rootDomNode.style.marginLeft=this._editor.getLayoutInfo().minimap.minimapCanvasOuterWidth+"px")}}},{key:"_renderChildNode",value:function(t,n){var r=this,l=document.createElement("div"),c=this._editor._getViewModel(),h=c.coordinatesConverter.convertModelPositionToViewPosition(new nt.a(n,1)).lineNumber,f=c.getViewLineRenderingData(h),R=this._editor.getLayoutInfo(),X=R.width-R.minimap.minimapCanvasOuterWidth-R.verticalScrollbarWidth,oe=this._editor.getOption(70).side,je=this._editor.getOption(64),Me=this._editor.getOption(65),st;try{st=vp.a.filter(f.inlineDecorations,h,f.minColumn,f.maxColumn)}catch(fi){st=[]}var gt=new Rg.c(!0,!0,f.content,f.continuesWithWrappedLine,f.isBasicASCII,f.containsRTL,0,f.tokens,st,f.tabSize,f.startVisibleColumn,1,1,1,500,"none",!0,!0,null),jt=new i_.a(2e3);Object(Rg.d)(gt,jt);var Xt;E0?Xt=E0.createHTML(jt.build()):Xt=jt.build();var sn=document.createElement("span");sn.className="sticky-line",sn.classList.add("stickyLine".concat(n)),sn.style.lineHeight="".concat(je,"px"),sn.innerHTML=Xt;var qn=document.createElement("span");qn.className="sticky-line",qn.style.lineHeight="".concat(je,"px"),oe==="left"?qn.style.width="".concat(R.contentLeft-R.minimap.minimapCanvasOuterWidth,"px"):oe==="right"&&(qn.style.width="".concat(R.contentLeft,"px"));var Hn=document.createElement("span");return Me.renderType===1||Me.renderType===3&&n%10==0?Hn.innerText=n.toString():Me.renderType===2&&(Hn.innerText=Math.abs(n-this._editor.getPosition().lineNumber).toString()),Hn.className="sticky-line-number",Hn.style.lineHeight="".concat(je,"px"),Hn.style.width="".concat(R.lineNumbersWidth,"px"),oe==="left"?Hn.style.paddingLeft="".concat(R.lineNumbersLeft-R.minimap.minimapCanvasOuterWidth,"px"):oe==="right"&&(Hn.style.paddingLeft="".concat(R.lineNumbersLeft,"px")),qn.appendChild(Hn),this._editor.applyFontInfo(sn),this._editor.applyFontInfo(Hn),l.appendChild(qn),l.appendChild(sn),l.className="sticky-line-root",l.setAttribute("role","listitem"),l.tabIndex=0,l.style.lineHeight="".concat(je,"px"),l.style.width="".concat(X,"px"),l.style.height="".concat(je,"px"),l.style.zIndex="0",t===this._lineNumbers.length-1&&(l.style.position="relative",l.style.zIndex="-1",l.style.top=this._lastLineRelativePosition+"px"),this._disposableStore.add(It.addDisposableListener(l,"mouseover",function(fi){if(r._editor.hasModel()){var Ci=new Yw.a(fi),wi=Ci.target.innerText;r._hoverOnLine=n,r._hoverOnColumn=r._editor.getModel().getLineContent(n).indexOf(wi)+1||-1}})),l}},{key:"getId",value:function(){return"editor.contrib.stickyScrollWidget"}},{key:"getDomNode",value:function(){return this._rootDomNode}},{key:"getPosition",value:function(){return{preference:null}}}]),e}(Ye.a),Jv=Object(P.a)(function s(o,e){Object(A.a)(this,s),this.startLineNumber=o,this.endLineNumber=e}),om=Object(P.a)(function s(o,e,i){Object(A.a)(this,s),this.range=o,this.children=e,this.parent=i}),rb=Object(P.a)(function s(o,e,i,t){Object(A.a)(this,s),this.uri=o,this.version=e,this.element=i,this.outlineProviderId=t}),sm=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},qv=function(s,o){return function(e,i){o(e,i,s)}},L0=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},eg;(function(s){s.OUTLINE_MODEL="outlineModel",s.FOLDING_PROVIDER_MODEL="foldingProviderModel",s.INDENTATION_MODEL="indentationModel"})(eg||(eg={}));var Jd;(function(s){s[s.VALID=0]="VALID",s[s.INVALID=1]="INVALID",s[s.CANCELED=2]="CANCELED"})(Jd||(Jd={}));var ab=function(){function s(o,e,i,t){Object(A.a)(this,s),this._editor=o,this._languageConfigurationService=e,this._languageFeaturesService=i,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=new mt.c(300);var n=new ob(i),r=new lb(this._editor,i),l=new sb(this._editor,e);switch(t){case eg.OUTLINE_MODEL:this._modelProviders.push(n),this._modelProviders.push(r),this._modelProviders.push(l);break;case eg.FOLDING_PROVIDER_MODEL:this._modelProviders.push(r),this._modelProviders.push(l);break;case eg.INDENTATION_MODEL:this._modelProviders.push(l);break}this._store=new Ye.c}return Object(P.a)(s,[{key:"_cancelModelPromise",value:function(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}},{key:"update",value:function(e,i,t){return L0(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this._store.clear(),this._store.add({dispose:function(){var f;r._cancelModelPromise(),(f=r._updateScheduler)===null||f===void 0||f.cancel()}}),this._cancelModelPromise(),c.next=5,this._updateScheduler.trigger(function(){return L0(r,void 0,void 0,Object(d.a)().mark(function h(){var f,R,X,oe,je,Me,st;return Object(d.a)().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:f=Object(G.a)(this._modelProviders),jt.prev=1,f.s();case 3:if((R=f.n()).done){jt.next=20;break}return X=R.value,oe=X.computeStickyModel(e,i,t),je=oe.statusPromise,Me=oe.modelPromise,this._modelPromise=Me,jt.next=9,je;case 9:if(st=jt.sent,this._modelPromise===Me){jt.next=12;break}return jt.abrupt("return",null);case 12:jt.t0=st,jt.next=jt.t0===Jd.CANCELED?15:jt.t0===Jd.VALID?17:18;break;case 15:return this._store.clear(),jt.abrupt("return",null);case 17:return jt.abrupt("return",X.stickyModel);case 18:jt.next=3;break;case 20:jt.next=25;break;case 22:jt.prev=22,jt.t1=jt.catch(1),f.e(jt.t1);case 25:return jt.prev=25,f.f(),jt.finish(25);case 28:return jt.abrupt("return",null);case 29:case"end":return jt.stop()}},h,this,[[1,22,25,28]])}))});case 5:return c.abrupt("return",c.sent);case 6:case"end":return c.stop()}},n,this)}))}}]),s}();ab=sm([qv(1,po.a),qv(2,$i.a)],ab);var M0=function(){function s(){Object(A.a)(this,s),this._stickyModel=null}return Object(P.a)(s,[{key:"stickyModel",get:function(){return this._stickyModel}},{key:"_invalid",value:function(){return this._stickyModel=null,Jd.INVALID}},{key:"computeStickyModel",value:function(e,i,t){var n=this;if(t.isCancellationRequested||!this.isProviderValid(e))return{statusPromise:this._invalid(),modelPromise:null};var r=Object(mt.k)(function(l){return n.createModelFromProvider(e,i,l)});return{statusPromise:r.then(function(l){return n.isModelValid(l)?t.isCancellationRequested?Jd.CANCELED:(n._stickyModel=n.createStickyModel(e,i,t,l),Jd.VALID):n._invalid()}).then(void 0,function(l){return Object(Li.h)(l),Jd.CANCELED}),modelPromise:r}}},{key:"isModelValid",value:function(e){return!0}},{key:"isProviderValid",value:function(e){return!0}}]),s}(),ob=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t._languageFeaturesService=i,t}return Object(P.a)(e,[{key:"createModelFromProvider",value:function(t,n,r){return n_.create(this._languageFeaturesService.documentSymbolProvider,t,r)}},{key:"createStickyModel",value:function(t,n,r,l){var c,h=this._stickyModelFromOutlineModel(l,(c=this._stickyModel)===null||c===void 0?void 0:c.outlineProviderId),f=h.stickyOutlineElement,R=h.providerID;return new rb(t.uri,n,f,R)}},{key:"isModelValid",value:function(t){return t&&t.children.size>0}},{key:"_stickyModelFromOutlineModel",value:function(t,n){var r=this,l;if(Ou.a.first(t.children.values())instanceof t_){var c=Ou.a.find(t.children.values(),function(wi){return wi.id===n});if(c)l=c.children;else{var h="",f=-1,R=void 0,X=Object(G.a)(t.children.entries()),oe;try{for(X.s();!(oe=X.n()).done;){var je=oe.value,Me=Object(O.a)(je,2),st=Me[0],gt=Me[1],jt=this._findSumOfRangesOfGroup(gt);jt>f&&(R=gt,f=jt,h=gt.id)}}catch(wi){X.e(wi)}finally{X.f()}n=h,l=R.children}}else l=t.children;var Xt=[],sn=Array.from(l.values()).sort(function(wi,Ai){var jr=new Jv(wi.symbol.range.startLineNumber,wi.symbol.range.endLineNumber),dr=new Jv(Ai.symbol.range.startLineNumber,Ai.symbol.range.endLineNumber);return r._comparator(jr,dr)}),qn=Object(G.a)(sn),Hn;try{for(qn.s();!(Hn=qn.n()).done;){var fi=Hn.value;Xt.push(this._stickyModelFromOutlineElement(fi,fi.symbol.selectionRange.startLineNumber))}}catch(wi){qn.e(wi)}finally{qn.f()}var Ci=new om(void 0,Xt,void 0);return{stickyOutlineElement:Ci,providerID:n}}},{key:"_stickyModelFromOutlineElement",value:function(t,n){var r=this,l=[],c=Object(G.a)(t.children.values()),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;if(f.symbol.selectionRange.startLineNumber!==f.symbol.range.endLineNumber)if(f.symbol.selectionRange.startLineNumber!==n)l.push(this._stickyModelFromOutlineElement(f,f.symbol.selectionRange.startLineNumber));else{var R=Object(G.a)(f.children.values()),X;try{for(R.s();!(X=R.n()).done;){var oe=X.value;l.push(this._stickyModelFromOutlineElement(oe,f.symbol.selectionRange.startLineNumber))}}catch(Me){R.e(Me)}finally{R.f()}}}}catch(Me){c.e(Me)}finally{c.f()}l.sort(function(Me,st){return r._comparator(Me.range,st.range)});var je=new Jv(t.symbol.selectionRange.startLineNumber,t.symbol.range.endLineNumber);return new om(je,l,void 0)}},{key:"_comparator",value:function(t,n){return t.startLineNumber!==n.startLineNumber?t.startLineNumber-n.startLineNumber:n.endLineNumber-t.endLineNumber}},{key:"_findSumOfRangesOfGroup",value:function(t){var n=0,r=Object(G.a)(t.children.values()),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;n+=this._findSumOfRangesOfGroup(c)}}catch(h){r.e(h)}finally{r.f()}return t instanceof hp?n+t.symbol.range.endLineNumber-t.symbol.selectionRange.startLineNumber:n}}]),e}(M0);ob=sm([qv(0,$i.a)],ob);var T0=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t._foldingLimitReporter=new Jy(i),t}return Object(P.a)(e,[{key:"createStickyModel",value:function(t,n,r,l){var c=this._fromFoldingRegions(l);return new rb(t.uri,n,c,void 0)}},{key:"isModelValid",value:function(t){return t!==null}},{key:"_fromFoldingRegions",value:function(t){for(var n=t.length,r=[],l=new om(void 0,[],void 0),c=0;c<n;c++){var h=t.getParentIndex(c),f=void 0;h!==-1?f=r[h]:f=l;var R=new om(new Jv(t.getStartLineNumber(c),t.getEndLineNumber(c)+1),[],f);f.children.push(R),r.push(R)}return l}}]),e}(M0),sb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this,i),n._languageConfigurationService=t,n}return Object(P.a)(e,[{key:"createModelFromProvider",value:function(t,n,r){var l=new ap(t,this._languageConfigurationService,this._foldingLimitReporter);return l.compute(r)}}]),e}(T0);sb=sm([qv(1,po.a)],sb);var lb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this,i),n._languageFeaturesService=t,n}return Object(P.a)(e,[{key:"isProviderValid",value:function(t){var n=fd.getFoldingRangeProviders(this._languageFeaturesService,t);return n.length>0}},{key:"createModelFromProvider",value:function(t,n,r){var l=this,c=fd.getFoldingRangeProviders(this._languageFeaturesService,t),h=new up(t,c,function(){return l.createModelFromProvider(t,n,r)},this._foldingLimitReporter,void 0);return h.compute(r)}}]),e}(T0);lb=sm([qv(1,$i.a)],lb);var Xw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},I0=function(s,o){return function(e,i){o(e,i,s)}},P0=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Jw=Object(P.a)(function s(o,e,i){Object(A.a)(this,s),this.startLineNumber=o,this.endLineNumber=e,this.nestingDepth=i}),ub=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r._languageFeaturesService=t,r._languageConfigurationService=n,r._onDidChangeStickyScroll=r._store.add(new ca.b),r.onDidChangeStickyScroll=r._onDidChangeStickyScroll.event,r._options=null,r._model=null,r._cts=null,r._stickyModelProvider=null,r._editor=i,r._sessionStore=new Ye.c,r._updateSoon=r._register(new mt.g(function(){return r.update()},50)),r._register(r._editor.onDidChangeConfiguration(function(l){l.hasChanged(111)&&r.readConfiguration()})),r.readConfiguration(),r}return Object(P.a)(e,[{key:"dispose",value:function(){Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this),this._sessionStore.dispose()}},{key:"readConfiguration",value:function(){var t=this;if(this._options=this._editor.getOption(111),!this._options.enabled){this._sessionStore.clear();return}this._stickyModelProvider=new ab(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel),this._sessionStore.add(this._editor.onDidChangeModel(function(){return t.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(function(){return t.update()})),this._sessionStore.add(this._editor.onDidChangeModelContent(function(){return t._updateSoon.schedule()})),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(function(){return t.update()})),this.update()}},{key:"getVersionId",value:function(){var t;return(t=this._model)===null||t===void 0?void 0:t.version}},{key:"update",value:function(){var t;return P0(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return(t=this._cts)===null||t===void 0||t.dispose(!0),this._cts=new Zn.b,l.next=4,this.updateStickyModel(this._cts.token);case 4:this._onDidChangeStickyScroll.fire();case 5:case"end":return l.stop()}},n,this)}))}},{key:"updateStickyModel",value:function(t){return P0(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this,l,c,h,f;return Object(d.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!(!this._editor.hasModel()||!this._stickyModelProvider)){X.next=2;break}return X.abrupt("return");case 2:return l=this._editor.getModel(),c=l.getVersionId(),h=this._model?!Object(mo.g)(this._model.uri,l.uri):!1,f=h?setTimeout(function(){t.isCancellationRequested||(r._model=new rb(l.uri,l.getVersionId(),void 0,void 0),r._onDidChangeStickyScroll.fire())},75):void 0,X.next=8,this._stickyModelProvider.update(l,c,t);case 8:this._model=X.sent,clearTimeout(f);case 10:case"end":return X.stop()}},n,this)}))}},{key:"updateIndex",value:function(t){return t===-1?t=0:t<0&&(t=-t-2),t}},{key:"getCandidateStickyLinesIntersectingFromStickyModel",value:function(t,n,r,l,c){if(n.children.length!==0){for(var h=c,f=[],R=0;R<n.children.length;R++){var X=n.children[R];X.range&&f.push(X.range.startLineNumber)}for(var oe=this.updateIndex(Object(Wn.e)(f,t.startLineNumber,function(Xt,sn){return Xt-sn})),je=this.updateIndex(Object(Wn.e)(f,t.startLineNumber+l,function(Xt,sn){return Xt-sn})),Me=oe;Me<=je;Me++){var st=n.children[Me];if(!st)return;if(st.range){var gt=st.range.startLineNumber,jt=st.range.endLineNumber;t.startLineNumber<=jt+1&&gt-1<=t.endLineNumber&&gt!==h&&(h=gt,r.push(new Jw(gt,jt-1,l+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(t,st,r,l+1,gt))}else this.getCandidateStickyLinesIntersectingFromStickyModel(t,st,r,l,c)}}}},{key:"getCandidateStickyLinesIntersecting",value:function(t){var n,r;if(!((n=this._model)===null||n===void 0?void 0:n.element))return[];var l=[];this.getCandidateStickyLinesIntersectingFromStickyModel(t,this._model.element,l,0,-1);var c=(r=this._editor._getViewModel())===null||r===void 0?void 0:r.getHiddenAreas();if(c){var h=Object(G.a)(c),f;try{var R=function(){var oe=f.value;l=l.filter(function(je){return!(je.startLineNumber>=oe.startLineNumber&&je.endLineNumber<=oe.endLineNumber+1)})};for(h.s();!(f=h.n()).done;)R()}catch(X){h.e(X)}finally{h.f()}}return l}}]),e}(Ye.a);ub=Xw([I0(1,$i.a),I0(2,po.a)],ub);var qw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Hf=function(s,o){return function(e,i){o(e,i,s)}},A0=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Fc=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h){var f;Object(A.a)(this,e),f=o.call(this),f._editor=i,f._contextMenuService=t,f._languageFeaturesService=n,f._instaService=r,f._contextKeyService=h,f._sessionStore=new Ye.c,f._maxStickyLines=Number.MAX_SAFE_INTEGER,f._candidateDefinitionsLength=-1,f._focusedStickyElementIndex=-1,f._enabled=!1,f._focused=!1,f._positionRevealed=!1,f._onMouseDown=!1,f._stickyScrollWidget=new Zw(f._editor),f._stickyLineCandidateProvider=new ub(f._editor,n,l),f._register(f._stickyScrollWidget),f._register(f._stickyLineCandidateProvider),f._widgetState=new j0([],0),f._readConfiguration(),f._register(f._editor.onDidChangeConfiguration(function(X){X.hasChanged(111)&&f._readConfiguration()})),f._register(It.addDisposableListener(f._stickyScrollWidget.getDomNode(),It.EventType.CONTEXT_MENU,function(X){return A0(Object(nn.a)(f),void 0,void 0,Object(d.a)().mark(function oe(){return Object(d.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:this._onContextMenu(X);case 1:case"end":return Me.stop()}},oe,this)}))})),f._stickyScrollFocusedContextKey=Ut.a.stickyScrollFocused.bindTo(f._contextKeyService),f._stickyScrollVisibleContextKey=Ut.a.stickyScrollVisible.bindTo(f._contextKeyService);var R=f._register(It.trackFocus(f._stickyScrollWidget.getDomNode()));return f._register(R.onDidBlur(function(X){var oe=f._stickyScrollWidget.getDomNode().clientHeight;f._positionRevealed===!1&&oe===0?(f._focusedStickyElementIndex=-1,f.focus()):f._disposeFocusStickyScrollStore()})),f._register(R.onDidFocus(function(X){f.focus()})),f._register(f._createClickLinkGesture()),f._register(It.addDisposableListener(f._stickyScrollWidget.getDomNode(),It.EventType.MOUSE_DOWN,function(X){f._onMouseDown=!0})),f}return Object(P.a)(e,[{key:"_disposeFocusStickyScrollStore",value:function(){var t;this._stickyScrollFocusedContextKey.set(!1),(t=this._focusDisposableStore)===null||t===void 0||t.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}},{key:"focus",value:function(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}var t=this._stickyScrollFocusedContextKey.get();if(t!==!0){this._focused=!0,this._focusDisposableStore=new Ye.c,this._stickyScrollFocusedContextKey.set(!0);var n=this._stickyScrollWidget.getDomNode();n.lastElementChild.focus(),this._stickyElements=n.children,this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1}}},{key:"focusNext",value:function(){this._focusedStickyElementIndex<this._stickyElements.length-1&&this._focusNav(!0)}},{key:"focusPrevious",value:function(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}},{key:"selectEditor",value:function(){this._editor.focus()}},{key:"_focusNav",value:function(t){this._focusedStickyElementIndex=t?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyElements.item(this._focusedStickyElementIndex).focus()}},{key:"goToFocused",value:function(){var t=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:t[this._focusedStickyElementIndex],column:1})}},{key:"_revealPosition",value:function(t){this._positionRevealed=!0,this._editor.revealPosition(t),this._editor.setSelection(Ze.a.fromPositions(t)),this._editor.focus()}},{key:"_createClickLinkGesture",value:function(){var t=this,n=new Ye.c,r=new Ye.c;n.add(r);var l=new qr(this._editor,!0);return n.add(l),n.add(l.onMouseMoveOrRelevantKeyDown(function(c){var h=Object(O.a)(c,2),f=h[0],R=h[1];if(!t._editor.hasModel()||!f.hasTriggerModifier){r.clear();return}var X=f.target;if(X.detail===t._stickyScrollWidget.getId()&&X.element.innerText===X.element.innerHTML){var oe=X.element.innerText;if(t._stickyScrollWidget.hoverOnColumn===-1)return;var je=t._stickyScrollWidget.hoverOnLine,Me=t._stickyScrollWidget.hoverOnColumn,st=new Ze.a(je,Me,je,Me+oe.length);if(!st.equalsRange(t._stickyRangeProjectedOnEditor))t._stickyRangeProjectedOnEditor=st,r.clear();else if(X.element.style.textDecoration==="underline")return;var gt=new Zn.b;r.add(Object(Ye.l)(function(){return gt.dispose(!0)}));var jt;Td(t._languageFeaturesService.definitionProvider,t._editor.getModel(),new nt.a(je,Me+1),gt.token).then(function(Xt){if(!gt.token.isCancellationRequested)if(Xt.length!==0){t._candidateDefinitionsLength=Xt.length;var sn=X.element;jt!==sn?(r.clear(),jt=sn,jt.style.textDecoration="underline",r.add(Object(Ye.l)(function(){jt.style.textDecoration="none"}))):jt||(jt=sn,jt.style.textDecoration="underline",r.add(Object(Ye.l)(function(){jt.style.textDecoration="none"})))}else r.clear()})}else r.clear()})),n.add(l.onCancel(function(){r.clear()})),n.add(l.onExecute(function(c){return A0(t,void 0,void 0,Object(d.a)().mark(function h(){return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(c.target.detail===this._stickyScrollWidget.getId()){R.next=2;break}return R.abrupt("return");case 2:c.hasTriggerModifier?(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:this._stickyScrollWidget.hoverOnLine,column:1})),this._instaService.invokeFunction($_,c,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})):c.isRightClick||(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:this._stickyScrollWidget.hoverOnLine,column:this._stickyScrollWidget.hoverOnColumn}));case 3:case"end":return R.stop()}},h,this)}))})),n}},{key:"_onContextMenu",value:function(t){this._contextMenuService.showContextMenu({menuId:Ht.c.StickyScrollContext,getAnchor:function(){return t}})}},{key:"_readConfiguration",value:function(){var t=this,n=this._editor.getOption(111);if(n.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else n.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(function(){return t._renderStickyScroll()})),this._sessionStore.add(this._editor.onDidLayoutChange(function(){return t._onDidResize()})),this._sessionStore.add(this._editor.onDidChangeModelTokens(function(l){return t._onTokensChange(l)})),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(function(){return t._renderStickyScroll()})),this._enabled=!0);var r=this._editor.getOption(65);r.renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(function(){return t._renderStickyScroll()}))}},{key:"_needsUpdate",value:function(t){var n=this._stickyScrollWidget.getCurrentLines(),r=Object(G.a)(n),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=Object(G.a)(t.ranges),f;try{for(h.s();!(f=h.n()).done;){var R=f.value;if(c>=R.fromLineNumber&&c<=R.toLineNumber)return!0}}catch(X){h.e(X)}finally{h.f()}}}catch(X){r.e(X)}finally{r.f()}return!1}},{key:"_onTokensChange",value:function(t){this._needsUpdate(t)&&this._renderStickyScroll()}},{key:"_onDidResize",value:function(){var t=this._editor.getLayoutInfo(),n=t.width-t.minimap.minimapCanvasOuterWidth-t.verticalScrollbarWidth;this._stickyScrollWidget.getDomNode().style.width="".concat(n,"px");var r=t.height/this._editor.getOption(64);this._maxStickyLines=Math.round(r*.25)}},{key:"_renderStickyScroll",value:function(){if(!!this._editor.hasModel()){var t=this._editor.getModel(),n=this._stickyLineCandidateProvider.getVersionId();if(n===void 0||n===t.getVersionId())if(this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.lineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState);else if(this._stickyElements=this._stickyScrollWidget.getDomNode().children,this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState),this._focusedStickyElementIndex=this._stickyElements.length-1,this._focusedStickyElementIndex!==-1&&this._stickyElements.item(this._focusedStickyElementIndex).focus();else{var r=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];if(this._stickyScrollWidget.setState(this._widgetState),this._stickyElements.length===0)this._focusedStickyElementIndex=-1;else{var l=this._stickyScrollWidget.lineNumbers.includes(r);l||(this._focusedStickyElementIndex=this._stickyElements.length-1),this._stickyElements.item(this._focusedStickyElementIndex).focus()}}}}},{key:"findScrollWidgetState",value:function(){var t=this._editor.getOption(64),n=Math.min(this._maxStickyLines,this._editor.getOption(111).maxLineCount),r=this._editor.getScrollTop(),l=0,c=[],h=this._editor.getVisibleRanges();if(h.length!==0){var f=new Jv(h[0].startLineNumber,h[h.length-1].endLineNumber),R=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(f),X=Object(G.a)(R),oe;try{for(X.s();!(oe=X.n()).done;){var je=oe.value,Me=je.startLineNumber,st=je.endLineNumber,gt=je.nestingDepth;if(st-Me>0){var jt=(gt-1)*t,Xt=gt*t,sn=this._editor.getBottomForLineNumber(Me)-r,qn=this._editor.getTopForLineNumber(st)-r,Hn=this._editor.getBottomForLineNumber(st)-r;if(jt>qn&&jt<=Hn){c.push(Me),l=Hn-Xt;break}else Xt>sn&&Xt<=Hn&&c.push(Me);if(c.length===n)break}}}catch(fi){X.e(fi)}finally{X.f()}}return new j0(c,l)}},{key:"dispose",value:function(){Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this),this._sessionStore.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);Fc.ID="store.contrib.stickyScrollController",Fc=qw([Hf(1,Ns.a),Hf(2,$i.a),Hf(3,ia.a),Hf(4,po.a),Hf(5,Ms.a),Hf(6,Tn.b)],Fc);var ej=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},tj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.toggleStickyScroll",title:{value:Object(We.b)("toggleStickyScroll","Toggle Sticky Scroll"),mnemonicTitle:Object(We.b)({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Sticky Scroll"),original:"Toggle Sticky Scroll"},category:Qw.View,toggled:{condition:Tn.a.equals("config.editor.stickyScroll.enabled",!0),title:Object(We.b)("stickyScroll","Sticky Scroll"),mnemonicTitle:Object(We.b)({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:Ht.c.CommandPalette},{id:Ht.c.MenubarViewMenu,group:"5_editor",order:2},{id:Ht.c.StickyScrollContext}]})}return Object(P.a)(e,[{key:"run",value:function(t){return ej(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return r=t.get(Do.a),l=!r.getValue("editor.stickyScroll.enabled"),h.abrupt("return",r.updateValue("editor.stickyScroll.enabled",l));case 3:case"end":return h.stop()}},n)}))}}]),e}(Ht.a),lm=100,nj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.focusStickyScroll",title:{value:Object(We.b)("focusStickyScroll","Focus Sticky Scroll"),mnemonicTitle:Object(We.b)({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll"),original:"Focus Sticky Scroll"},precondition:Tn.a.and(Tn.a.has("config.editor.stickyScroll.enabled"),Ut.a.stickyScrollVisible),menu:[{id:Ht.c.CommandPalette}]})}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n){var r;(r=Fc.get(n))===null||r===void 0||r.focus()}}]),e}(wt.c),ij=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.selectNextStickyScrollLine",title:{value:Object(We.b)("selectNextStickyScrollLine.title","Select next sticky scroll line"),original:"Select next sticky scroll line"},precondition:Ut.a.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:lm,primary:18}})}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n){var r;(r=Fc.get(n))===null||r===void 0||r.focusNext()}}]),e}(wt.c),rj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.selectPreviousStickyScrollLine",title:{value:Object(We.b)("selectPreviousStickyScrollLine.title","Select previous sticky scroll line"),original:"Select previous sticky scroll line"},precondition:Ut.a.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:lm,primary:16}})}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n){var r;(r=Fc.get(n))===null||r===void 0||r.focusPrevious()}}]),e}(wt.c),aj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.goToFocusedStickyScrollLine",title:{value:Object(We.b)("goToFocusedStickyScrollLine.title","Go to focused sticky scroll line"),original:"Go to focused sticky scroll line"},precondition:Ut.a.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:lm,primary:3}})}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n){var r;(r=Fc.get(n))===null||r===void 0||r.goToFocused()}}]),e}(wt.c),oj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.selectEditor",title:{value:Object(We.b)("selectEditor.title","Select Editor"),original:"Select Editor"},precondition:Ut.a.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:lm,primary:9}})}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n){var r;(r=Fc.get(n))===null||r===void 0||r.selectEditor()}}]),e}(wt.c);Object(wt.m)(Fc.ID,Fc,1),Object(Ht.i)(tj),Object(Ht.i)(nj),Object(Ht.i)(rj),Object(Ht.i)(ij),Object(Ht.i)(aj),Object(Ht.i)(oj);var cb=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Kh=function(s,o){return function(e,i){o(e,i,s)}},sj=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},lj=Object(P.a)(function s(o,e,i,t,n,r){Object(A.a)(this,s),this.range=o,this.insertText=e,this.filterText=i,this.additionalTextEdits=t,this.command=n,this.completion=r}),db=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c){var h;return Object(A.a)(this,e),h=o.call(this,l.disposable),h.model=i,h.line=t,h.word=n,h.completionModel=r,h._suggestMemoryService=c,h}return Object(P.a)(e,[{key:"canBeReused",value:function(t,n,r){return this.model===t&&this.line===n&&this.word.word.length>0&&this.word.startColumn===r.startColumn&&this.word.endColumn<r.endColumn&&this.completionModel.getIncompleteProvider().size===0}},{key:"items",get:function(){var t,n=[],r=this.completionModel.items,l=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},r),c=Ou.a.slice(r,l),h=Ou.a.slice(r,0,l),f=5,R=Object(G.a)(Ou.a.concat(c,h)),X;try{for(R.s();!(X=R.n()).done;){var oe=X.value;if(oe.score!==gs.a.Default){var je=new Ze.a(oe.editStart.lineNumber,oe.editStart.column,oe.editInsertEnd.lineNumber,oe.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),Me=oe.completion.insertTextRules&&oe.completion.insertTextRules&4?{snippet:oe.completion.insertText}:oe.completion.insertText;n.push(new lj(je,Me,(t=oe.filterTextLow)!==null&&t!==void 0?t:oe.labelLow,oe.completion.additionalTextEdits,oe.completion.command,oe)),f-->=0&&oe.resolve(Zn.a.None)}}}catch(st){R.e(st)}finally{R.f()}return n}}]),e}(Ye.f);db=cb([Kh(5,Vg)],db);var hb=function(){function s(o,e,i,t){Object(A.a)(this,s),this._getEditorOption=o,this._languageFeatureService=e,this._clipboardService=i,this._suggestMemoryService=t}return Object(P.a)(s,[{key:"provideInlineCompletions",value:function(e,i,t,n){var r;return sj(this,void 0,void 0,Object(d.a)().mark(function l(){var c,h,f,R,X,oe,je,Me,st,gt,jt;return Object(d.a)().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:if(!t.selectedSuggestionInfo){sn.next=2;break}return sn.abrupt("return");case 2:if(c=this._getEditorOption(86,e),!dt.isAllOff(c)){sn.next=5;break}return sn.abrupt("return");case 5:if(e.tokenization.tokenizeIfCheap(i.lineNumber),h=e.tokenization.getLineTokens(i.lineNumber),f=h.getStandardTokenType(h.findTokenIndexAtOffset(Math.max(i.column-1-1,0))),dt.valueFor(c,f)==="inline"){sn.next=10;break}return sn.abrupt("return",void 0);case 10:if(R=e.getWordAtPosition(i),(R==null?void 0:R.word)||(X=this._getTriggerCharacterInfo(e,i)),!(!(R==null?void 0:R.word)&&!X)){sn.next=14;break}return sn.abrupt("return");case 14:if(R||(R=e.getWordUntilPosition(i)),R.endColumn===i.column){sn.next=17;break}return sn.abrupt("return");case 17:if(je=e.getValueInRange(new Ze.a(i.lineNumber,1,i.lineNumber,i.column)),!(!X&&((r=this._lastResult)===null||r===void 0?void 0:r.canBeReused(e,i.lineNumber,R)))){sn.next=25;break}Me=new D_(je,i.column-this._lastResult.word.endColumn),this._lastResult.completionModel.lineContext=Me,this._lastResult.acquire(),oe=this._lastResult,sn.next=34;break;case 25:return sn.next=27,p(this._languageFeatureService.completionProvider,e,i,new he(void 0,void 0,X==null?void 0:X.providers),X&&{triggerKind:1,triggerCharacter:X.ch},n);case 27:if(st=sn.sent,!st.needsClipboard){sn.next=32;break}return sn.next=31,this._clipboardService.readText();case 31:gt=sn.sent;case 32:jt=new w_(st.items,i.column,new D_(je,0),Ug.None,this._getEditorOption(114,e),this._getEditorOption(108,e),{boostFullMatch:!1,firstMatchCanBeWeak:!1},gt),oe=new db(e,i.lineNumber,R,jt,st,this._suggestMemoryService);case 34:return this._lastResult=oe,sn.abrupt("return",oe);case 36:case"end":return sn.stop()}},l,this)}))}},{key:"handleItemDidShow",value:function(e,i){i.completion.resolve(Zn.a.None)}},{key:"freeInlineCompletions",value:function(e){e.release()}},{key:"_getTriggerCharacterInfo",value:function(e,i){var t,n=e.getValueInRange(Ze.a.fromPositions({lineNumber:i.lineNumber,column:i.column-1},i)),r=new Set,l=Object(G.a)(this._languageFeatureService.completionProvider.all(e)),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;((t=h.triggerCharacters)===null||t===void 0?void 0:t.includes(n))&&r.add(h)}}catch(f){l.e(f)}finally{l.f()}if(r.size!==0)return{providers:r,ch:n}}}]),s}();hb=cb([Kh(1,$i.a),Kh(2,$t.a),Kh(3,Vg)],hb);var um=function(){function s(o,e,i,t){if(Object(A.a)(this,s),++s._counter==1){var n=t.createInstance(hb,function(r,l){var c,h=(c=i.listCodeEditors().find(function(f){return f.getModel()===l}))!==null&&c!==void 0?c:o;return h.getOption(r)});s._disposable=e.inlineCompletionsProvider.register("*",n)}}return Object(P.a)(s,[{key:"dispose",value:function(){var e;--s._counter==0&&((e=s._disposable)===null||e===void 0||e.dispose(),s._disposable=void 0)}}]),s}();um._counter=0,um=cb([Kh(1,$i.a),Kh(2,zt.a),Kh(3,ia.a)],um),Object(wt.m)("suggest.inlineCompletionsProvider",um,0);var uj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.forceRetokenize",label:We.b("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=n.getModel();r.tokenization.resetTokenization();var l=new fs.a(!0);r.tokenization.forceTokenization(r.getLineCount()),l.stop(),console.log("tokenization took ".concat(l.elapsed()))}}}]),e}(wt.b);Object(wt.k)(uj);var R0=a("p+Yh"),cm=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,title:{value:We.b({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2048|43,mac:{primary:256|1024|43},weight:100},f1:!0})}return Object(P.a)(e,[{key:"run",value:function(t){var n=t.get(Tn.b).getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus",r=R0.a.getTabFocusMode(n),l=!r;R0.a.setTabFocusMode(l,n),l?Object(Rn.a)(We.b("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Object(Rn.a)(We.b("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}]),e}(Ht.a);cm.ID="editor.action.toggleTabFocusMode",Object(Ht.i)(cm);var iL=a("Gbfa"),N0=a("hcYv"),Uf=a("H9a+"),rL=a("iMk3"),fb=a("4y0V"),aL=a("a3Ze"),cj=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},dj=function(s,o){return function(e,i){o(e,i,s)}},vb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;Object(A.a)(this,e);var c;n=o.call(this),n._link=t,n._enabled=!0,n.el=Object(It.append)(i,Object(It.$)("a.monaco-link",{tabIndex:(c=t.tabIndex)!==null&&c!==void 0?c:0,href:t.href,title:t.title},t.label)),n.el.setAttribute("role","button");var h=n._register(new fb.a(n.el,"click")),f=n._register(new fb.a(n.el,"keypress")),R=ca.c.chain(f.event).map(function(je){return new vf.a(je)}).filter(function(je){return je.keyCode===3}).event,X=n._register(new fb.a(n.el,Es.a.Tap)).event;n._register(Es.b.addTarget(n.el));var oe=ca.c.any(h.event,R,X);return n._register(oe(function(je){!n.enabled||(It.EventHelper.stop(je,!0),(r==null?void 0:r.opener)?r.opener(n._link.href):l.open(n._link.href,{allowCommands:!0}))})),n.enabled=!0,n}return Object(P.a)(e,[{key:"enabled",get:function(){return this._enabled},set:function(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}}]),e}(Ye.a);vb=cj([dj(3,io.a)],vb);var x0=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},F0=function(s,o){return function(e,i){o(e,i,s)}},hj=26,gb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n._editor=i,n.instantiationService=t,n.banner=n._register(n.instantiationService.createInstance(mb)),n}return Object(P.a)(e,[{key:"hide",value:function(){this._editor.setBanner(null,0),this.banner.clear()}},{key:"show",value:function(t){var n=this;this.banner.show(Object.assign(Object.assign({},t),{onClose:function(){var l;n.hide(),(l=t.onClose)===null||l===void 0||l.call(t)}})),this._editor.setBanner(this.banner.element,hj)}}]),e}(Ye.a);gb=x0([F0(1,ia.a)],gb);var mb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t.instantiationService=i,t.markdownRenderer=t.instantiationService.createInstance(ga,{}),t.element=Object(It.$)("div.editor-banner"),t.element.tabIndex=0,t}return Object(P.a)(e,[{key:"getAriaLabel",value:function(t){if(t.ariaLabel)return t.ariaLabel;if(typeof t.message=="string")return t.message}},{key:"getBannerMessage",value:function(t){if(typeof t=="string"){var n=Object(It.$)("span");return n.innerText=t,n}return this.markdownRenderer.render(t).element}},{key:"clear",value:function(){Object(It.clearNode)(this.element)}},{key:"show",value:function(t){Object(It.clearNode)(this.element);var n=this.getAriaLabel(t);n&&this.element.setAttribute("aria-label",n);var r=Object(It.append)(this.element,Object(It.$)("div.icon-container"));r.setAttribute("aria-hidden","true"),t.icon&&r.appendChild(Object(It.$)("div".concat(Fa.a.asCSSSelector(t.icon))));var l=Object(It.append)(this.element,Object(It.$)("div.message-container"));if(l.setAttribute("aria-hidden","true"),l.appendChild(this.getBannerMessage(t.message)),this.messageActionsContainer=Object(It.append)(this.element,Object(It.$)("div.message-actions-container")),t.actions){var c=Object(G.a)(t.actions),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;this._register(this.instantiationService.createInstance(vb,this.messageActionsContainer,Object.assign(Object.assign({},f),{tabIndex:-1}),{}))}}catch(X){c.e(X)}finally{c.f()}}var R=Object(It.append)(this.element,Object(It.$)("div.action-container"));this.actionBar=this._register(new Us.a(R)),this.actionBar.push(this._register(new ka.a("banner.close","Close Banner",Fa.a.asClassName(be.c),!0,function(){typeof t.onClose=="function"&&t.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}}]),e}(Ye.a);mb=x0([F0(0,ia.a)],mb);var fj=a("fvt3"),pb=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},zf=function(s,o){return function(e,i){o(e,i,s)}},Js=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},vj=Object(be.b)("extensions-warning-message",Tr.a.warning,We.b("warningIcon","Icon shown with a warning message in the extensions editor.")),Kf=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;return Object(A.a)(this,e),l=o.call(this),l._editor=i,l._editorWorkerService=t,l._workspaceTrustService=n,l._highlighter=null,l._bannerClosed=!1,l._updateState=function(c){if(c&&c.hasMore){if(l._bannerClosed)return;var h=Math.max(c.ambiguousCharacterCount,c.nonBasicAsciiCharacterCount,c.invisibleCharacterCount),f;if(c.nonBasicAsciiCharacterCount>=h)f={message:We.b("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new fm};else if(c.ambiguousCharacterCount>=h)f={message:We.b("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Gf};else if(c.invisibleCharacterCount>=h)f={message:We.b("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new hm};else throw new Error("Unreachable");l._bannerController.show({id:"unicodeHighlightBanner",message:f.message,icon:vj,actions:[{label:f.command.shortLabel,href:"command:".concat(f.command.id)}],onClose:function(){l._bannerClosed=!0}})}else l._bannerController.hide()},l._bannerController=l._register(r.createInstance(gb,i)),l._register(l._editor.onDidChangeModel(function(){l._bannerClosed=!1,l._updateHighlighter()})),l._options=i.getOption(121),l._register(n.onDidChangeTrust(function(c){l._updateHighlighter()})),l._register(i.onDidChangeConfiguration(function(c){c.hasChanged(121)&&(l._options=i.getOption(121),l._updateHighlighter())})),l._updateHighlighter(),l}return Object(P.a)(e,[{key:"dispose",value:function(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"_updateHighlighter",value:function(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!!this._editor.hasModel()){var t=gj(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if(![t.nonBasicASCII,t.ambiguousCharacters,t.invisibleCharacters].every(function(r){return r===!1})){var n={nonBasicASCII:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments,includeStrings:t.includeStrings,allowedCodePoints:Object.keys(t.allowedCharacters).map(function(r){return r.codePointAt(0)}),allowedLocales:Object.keys(t.allowedLocales).map(function(r){if(r==="_os"){var l=new Intl.NumberFormat().resolvedOptions().locale;return l}else if(r==="_vscode")return Mt.p;return r})};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new bb(this._editor,n,this._updateState,this._editorWorkerService):this._highlighter=new mj(this._editor,n,this._updateState)}}}},{key:"getDecorationInfo",value:function(t){return this._highlighter?this._highlighter.getDecorationInfo(t):null}}]),e}(Ye.a);Kf.ID="editor.contrib.unicodeHighlighter",Kf=pb([zf(1,Iv.a),zf(2,fj.a),zf(3,ia.a)],Kf);function gj(s,o){return{nonBasicASCII:o.nonBasicASCII===hs.p?!s:o.nonBasicASCII,ambiguousCharacters:o.ambiguousCharacters,invisibleCharacters:o.invisibleCharacters,includeComments:o.includeComments===hs.p?!s:o.includeComments,includeStrings:o.includeStrings===hs.p?!s:o.includeStrings,allowedCharacters:o.allowedCharacters,allowedLocales:o.allowedLocales}}var bb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;return Object(A.a)(this,e),l=o.call(this),l._editor=i,l._options=t,l._updateState=n,l._editorWorkerService=r,l._model=l._editor.getModel(),l._decorations=l._editor.createDecorationsCollection(),l._updateSoon=l._register(new mt.g(function(){return l._update()},250)),l._register(l._editor.onDidChangeModelContent(function(){l._updateSoon.schedule()})),l._updateSoon.schedule(),l}return Object(P.a)(e,[{key:"dispose",value:function(){this._decorations.clear(),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"_update",value:function(){var t=this;if(!this._model.isDisposed()){if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}var n=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(function(r){if(!t._model.isDisposed()&&t._model.getVersionId()===n){t._updateState(r);var l=[];if(!r.hasMore){var c=Object(G.a)(r.ranges),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;l.push({range:f,options:dm.instance.getDecorationFromOptions(t._options)})}}catch(R){c.e(R)}finally{c.f()}}t._decorations.set(l)}})}}},{key:"getDecorationInfo",value:function(t){if(!this._decorations.has(t))return null;var n=this._editor.getModel();if(!Object(Uf.d)(n,t))return null;var r=n.getValueInRange(t.range);return{reason:B0(r,this._options),inComment:Object(Uf.b)(n,t),inString:Object(Uf.c)(n,t)}}}]),e}(Ye.a);bb=pb([zf(3,Iv.a)],bb);var mj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r._editor=i,r._options=t,r._updateState=n,r._model=r._editor.getModel(),r._decorations=r._editor.createDecorationsCollection(),r._updateSoon=r._register(new mt.g(function(){return r._update()},250)),r._register(r._editor.onDidLayoutChange(function(){r._updateSoon.schedule()})),r._register(r._editor.onDidScrollChange(function(){r._updateSoon.schedule()})),r._register(r._editor.onDidChangeHiddenAreas(function(){r._updateSoon.schedule()})),r._register(r._editor.onDidChangeModelContent(function(){r._updateSoon.schedule()})),r._updateSoon.schedule(),r}return Object(P.a)(e,[{key:"dispose",value:function(){this._decorations.clear(),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"_update",value:function(){if(!this._model.isDisposed()){if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}var t=this._editor.getVisibleRanges(),n=[],r={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1},l=Object(G.a)(t),c;try{for(l.s();!(c=l.n()).done;){var h=c.value,f=N0.a.computeUnicodeHighlights(this._model,this._options,h),R=Object(G.a)(f.ranges),X;try{for(R.s();!(X=R.n()).done;){var oe=X.value;r.ranges.push(oe)}}catch(gt){R.e(gt)}finally{R.f()}r.ambiguousCharacterCount+=r.ambiguousCharacterCount,r.invisibleCharacterCount+=r.invisibleCharacterCount,r.nonBasicAsciiCharacterCount+=r.nonBasicAsciiCharacterCount,r.hasMore=r.hasMore||f.hasMore}}catch(gt){l.e(gt)}finally{l.f()}if(!r.hasMore){var je=Object(G.a)(r.ranges),Me;try{for(je.s();!(Me=je.n()).done;){var st=Me.value;n.push({range:st,options:dm.instance.getDecorationFromOptions(this._options)})}}catch(gt){je.e(gt)}finally{je.f()}}this._updateState(r),this._decorations.set(n)}}},{key:"getDecorationInfo",value:function(t){if(!this._decorations.has(t))return null;var n=this._editor.getModel(),r=n.getValueInRange(t.range);return Object(Uf.d)(n,t)?{reason:B0(r,this._options),inComment:Object(Uf.b)(n,t),inString:Object(Uf.c)(n,t)}:null}}]),e}(Ye.a),yb=function(){function s(o,e,i){Object(A.a)(this,s),this._editor=o,this._languageService=e,this._openerService=i,this.hoverOrdinal=5}return Object(P.a)(s,[{key:"computeSync",value:function(e,i){if(!this._editor.hasModel()||e.type!==1)return[];var t=this._editor.getModel(),n=this._editor.getContribution(Kf.ID);if(!n)return[];var r=[],l=300,c=Object(G.a)(i),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,R=n.getDecorationInfo(f);if(!!R){var X=t.getValueInRange(f.range),oe=X.codePointAt(0),je=Cb(oe),Me=void 0;switch(R.reason.kind){case 0:{Object(vr.B)(R.reason.confusableWith)?Me=We.b("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",je,Cb(R.reason.confusableWith.codePointAt(0))):Me=We.b("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",je,Cb(R.reason.confusableWith.codePointAt(0)));break}case 1:Me=We.b("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",je);break;case 2:Me=We.b("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",je);break}var st={codePoint:oe,reason:R.reason,inComment:R.inComment,inString:R.inString},gt=We.b("unicodeHighlight.adjustSettings","Adjust settings"),jt="command:".concat(Ob.ID,"?").concat(encodeURIComponent(JSON.stringify(st))),Xt=new Sn.a("",!0).appendMarkdown(Me).appendText(" ").appendLink(jt,gt);r.push(new Wr(this,f.range,[Xt],!1,l++))}}}catch(sn){c.e(sn)}finally{c.f()}return r}},{key:"renderHoverParts",value:function(e,i){return $a(e,i,this._editor,this._languageService,this._openerService)}}]),s}();yb=pb([zf(1,Ti.a),zf(2,io.a)],yb);function _b(s){return"U+".concat(s.toString(16).padStart(4,"0"))}function Cb(s){var o="`".concat(_b(s),"`");return vr.c.isInvisibleCharacter(s)||(o+=' "'.concat("".concat(pj(s)),'"')),o}function pj(s){return s===96?"`` ` ``":"`"+String.fromCodePoint(s)+"`"}function B0(s,o){return N0.a.computeUnicodeHighlightReason(s,o)}var dm=function(){function s(){Object(A.a)(this,s),this.map=new Map}return Object(P.a)(s,[{key:"getDecorationFromOptions",value:function(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}},{key:"getDecoration",value:function(e,i){var t="".concat(e).concat(i),n=this.map.get(t);return n||(n=hn.b.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:i}),this.map.set(t,n)),n}}]),s}();dm.instance=new dm;var bj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this,{id:Gf.ID,label:We.b("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),i.shortLabel=We.b("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments"),i}return Object(P.a)(e,[{key:"run",value:function(t,n,r){return Js(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=t==null?void 0:t.get(Do.a),c&&this.runAction(c);case 2:case"end":return f.stop()}},l,this)}))}},{key:"runAction",value:function(t){return Js(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.updateValue(hs.r.includeComments,!1,2);case 2:case"end":return l.stop()}},n)}))}}]),e}(wt.b),yj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this,{id:Gf.ID,label:We.b("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),i.shortLabel=We.b("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings"),i}return Object(P.a)(e,[{key:"run",value:function(t,n,r){return Js(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=t==null?void 0:t.get(Do.a),c&&this.runAction(c);case 2:case"end":return f.stop()}},l,this)}))}},{key:"runAction",value:function(t){return Js(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.updateValue(hs.r.includeStrings,!1,2);case 2:case"end":return l.stop()}},n)}))}}]),e}(wt.b),Gf=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this,{id:e.ID,label:We.b("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),i.shortLabel=We.b("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight"),i}return Object(P.a)(e,[{key:"run",value:function(t,n,r){return Js(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=t==null?void 0:t.get(Do.a),c&&this.runAction(c);case 2:case"end":return f.stop()}},l,this)}))}},{key:"runAction",value:function(t){return Js(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.updateValue(hs.r.ambiguousCharacters,!1,2);case 2:case"end":return l.stop()}},n)}))}}]),e}(wt.b);Gf.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";var hm=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this,{id:e.ID,label:We.b("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),i.shortLabel=We.b("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight"),i}return Object(P.a)(e,[{key:"run",value:function(t,n,r){return Js(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=t==null?void 0:t.get(Do.a),c&&this.runAction(c);case 2:case"end":return f.stop()}},l,this)}))}},{key:"runAction",value:function(t){return Js(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.updateValue(hs.r.invisibleCharacters,!1,2);case 2:case"end":return l.stop()}},n)}))}}]),e}(wt.b);hm.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";var fm=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this,{id:e.ID,label:We.b("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),i.shortLabel=We.b("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight"),i}return Object(P.a)(e,[{key:"run",value:function(t,n,r){return Js(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=t==null?void 0:t.get(Do.a),c&&this.runAction(c);case 2:case"end":return f.stop()}},l,this)}))}},{key:"runAction",value:function(t){return Js(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.updateValue(hs.r.nonBasicASCII,!1,2);case 2:case"end":return l.stop()}},n)}))}}]),e}(wt.b);fm.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";var Ob=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,label:We.b("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){return Js(this,void 0,void 0,Object(d.a)().mark(function l(){var c=this,h,f,R,X,oe,je,Me,st,gt,jt,Xt,sn,qn,Hn,fi,Ci,wi,Ai;return Object(d.a)().wrap(function(dr){for(;;)switch(dr.prev=dr.next){case 0:if(st=function(Kr){return vr.c.isInvisibleCharacter(Kr)?We.b("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",_b(Kr)):We.b("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted","".concat(_b(Kr),' "').concat(oe,'"'))},h=r.codePoint,f=r.reason,R=r.inString,X=r.inComment,oe=String.fromCodePoint(h),je=t.get(yl.a),Me=t.get(Do.a),gt=[],f.kind===0){jt=Object(G.a)(f.notAmbiguousInLocales);try{for(sn=function(){var Kr=Xt.value;gt.push({label:We.b("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',Kr),run:function(){return Js(c,void 0,void 0,Object(d.a)().mark(function xr(){return Object(d.a)().wrap(function(Ca){for(;;)switch(Ca.prev=Ca.next){case 0:Cj(Me,[Kr]);case 1:case"end":return Ca.stop()}},xr)}))}})},jt.s();!(Xt=jt.n()).done;)sn()}catch(Dr){jt.e(Dr)}finally{jt.f()}}return gt.push({label:st(h),run:function(){return _j(Me,[h])}}),X?(qn=new bj,gt.push({label:qn.label,run:function(){return Js(c,void 0,void 0,Object(d.a)().mark(function Kr(){return Object(d.a)().wrap(function(xr){for(;;)switch(xr.prev=xr.next){case 0:return xr.abrupt("return",qn.runAction(Me));case 1:case"end":return xr.stop()}},Kr)}))}})):R&&(Hn=new yj,gt.push({label:Hn.label,run:function(){return Js(c,void 0,void 0,Object(d.a)().mark(function Kr(){return Object(d.a)().wrap(function(xr){for(;;)switch(xr.prev=xr.next){case 0:return xr.abrupt("return",Hn.runAction(Me));case 1:case"end":return xr.stop()}},Kr)}))}})),f.kind===0?(fi=new Gf,gt.push({label:fi.label,run:function(){return Js(c,void 0,void 0,Object(d.a)().mark(function Kr(){return Object(d.a)().wrap(function(xr){for(;;)switch(xr.prev=xr.next){case 0:return xr.abrupt("return",fi.runAction(Me));case 1:case"end":return xr.stop()}},Kr)}))}})):f.kind===1?(Ci=new hm,gt.push({label:Ci.label,run:function(){return Js(c,void 0,void 0,Object(d.a)().mark(function Kr(){return Object(d.a)().wrap(function(xr){for(;;)switch(xr.prev=xr.next){case 0:return xr.abrupt("return",Ci.runAction(Me));case 1:case"end":return xr.stop()}},Kr)}))}})):f.kind===2?(wi=new fm,gt.push({label:wi.label,run:function(){return Js(c,void 0,void 0,Object(d.a)().mark(function Kr(){return Object(d.a)().wrap(function(xr){for(;;)switch(xr.prev=xr.next){case 0:return xr.abrupt("return",wi.runAction(Me));case 1:case"end":return xr.stop()}},Kr)}))}})):Oj(f),dr.next=12,je.pick(gt,{title:We.b("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});case 12:if(Ai=dr.sent,!Ai){dr.next=16;break}return dr.next=16,Ai.run();case 16:case"end":return dr.stop()}},l)}))}}]),e}(wt.b);Ob.ID="editor.action.unicodeHighlight.showExcludeOptions";function _j(s,o){return Js(this,void 0,void 0,Object(d.a)().mark(function e(){var i,t,n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:i=s.getValue(hs.r.allowedCharacters),typeof i=="object"&&i?t=i:t={},n=Object(G.a)(o);try{for(n.s();!(r=n.n()).done;)l=r.value,t[String.fromCodePoint(l)]=!0}catch(f){n.e(f)}finally{n.f()}return h.next=6,s.updateValue(hs.r.allowedCharacters,t,2);case 6:case"end":return h.stop()}},e)}))}function Cj(s,o){var e;return Js(this,void 0,void 0,Object(d.a)().mark(function i(){var t,n,r,l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:t=(e=s.inspect(hs.r.allowedLocales).user)===null||e===void 0?void 0:e.value,typeof t=="object"&&t?n=Object.assign({},t):n={},r=Object(G.a)(o);try{for(r.s();!(l=r.n()).done;)c=l.value,n[c]=!0}catch(R){r.e(R)}finally{r.f()}return f.next=6,s.updateValue(hs.r.allowedLocales,n,2);case 6:case"end":return f.stop()}},i)}))}function Oj(s){throw new Error("Unexpected value: ".concat(s))}Object(wt.k)(Gf),Object(wt.k)(hm),Object(wt.k)(fm),Object(wt.k)(Ob),Object(wt.m)(Kf.ID,Kf,1),St.register(yb);var Sb=a("6vuP"),Sj=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},W0=function(s,o){return function(e,i){o(e,i,s)}},kj=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},V0="ignoreUnusualLineTerminators";function Dj(s,o,e){s.setModelProperty(o.uri,V0,e)}function wj(s,o){return s.getModelProperty(o.uri,V0)}var tg=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r._editor=i,r._dialogService=t,r._codeEditorService=n,r._isPresentingDialog=!1,r._config=r._editor.getOption(122),r._register(r._editor.onDidChangeConfiguration(function(l){l.hasChanged(122)&&(r._config=r._editor.getOption(122),r._checkForUnusualLineTerminators())})),r._register(r._editor.onDidChangeModel(function(){r._checkForUnusualLineTerminators()})),r._register(r._editor.onDidChangeModelContent(function(l){l.isUndoing||r._checkForUnusualLineTerminators()})),r._checkForUnusualLineTerminators(),r}return Object(P.a)(e,[{key:"_checkForUnusualLineTerminators",value:function(){return kj(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this._config!=="off"){h.next=2;break}return h.abrupt("return");case 2:if(this._editor.hasModel()){h.next=4;break}return h.abrupt("return");case 4:if(n=this._editor.getModel(),n.mightContainUnusualLineTerminators()){h.next=7;break}return h.abrupt("return");case 7:if(r=wj(this._codeEditorService,n),r!==!0){h.next=10;break}return h.abrupt("return");case 10:if(!this._editor.getOption(88)){h.next=12;break}return h.abrupt("return");case 12:if(this._config!=="auto"){h.next=15;break}return n.removeUnusualLineTerminators(this._editor.getSelections()),h.abrupt("return");case 15:if(!this._isPresentingDialog){h.next=17;break}return h.abrupt("return");case 17:return h.prev=17,this._isPresentingDialog=!0,h.next=21,this._dialogService.confirm({title:We.b("unusualLineTerminators.title","Unusual Line Terminators"),message:We.b("unusualLineTerminators.message","Detected unusual line terminators"),detail:We.b("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",Object(mo.b)(n.uri)),primaryButton:We.b({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:We.b("unusualLineTerminators.ignore","Ignore")});case 21:l=h.sent;case 22:return h.prev=22,this._isPresentingDialog=!1,h.finish(22);case 25:if(l.confirmed){h.next=28;break}return Dj(this._codeEditorService,n,!0),h.abrupt("return");case 28:n.removeUnusualLineTerminators(this._editor.getSelections());case 29:case"end":return h.stop()}},t,this,[[17,,22,25]])}))}}]),e}(Ye.a);tg.ID="editor.contrib.unusualLineTerminatorsDetector",tg=Sj([W0(1,Sb.a),W0(2,zt.a)],tg),Object(wt.m)(tg.ID,tg,1);var jj=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},H0=function(s,o){return function(e,i){o(e,i,s)}},vm=new Tn.c("hasWordHighlights",!1);function U0(s,o,e,i){var t=s.ordered(o);return Object(mt.m)(t.map(function(n){return function(){return Promise.resolve(n.provideDocumentHighlights(o,e,i)).then(void 0,Li.i)}}),Wn.s)}var z0=function(){function s(o,e,i){Object(A.a)(this,s),this._model=o,this._selection=e,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(o,e),this._result=null}return Object(P.a)(s,[{key:"result",get:function(){var e=this;return this._result||(this._result=Object(mt.k)(function(i){return e._compute(e._model,e._selection,e._wordSeparators,i)})),this._result}},{key:"_getCurrentWordRange",value:function(e,i){var t=e.getWordAtPosition(i.getPosition());return t?new Ze.a(i.startLineNumber,t.startColumn,i.startLineNumber,t.endColumn):null}},{key:"isValid",value:function(e,i,t){for(var n=i.startLineNumber,r=i.startColumn,l=i.endColumn,c=this._getCurrentWordRange(e,i),h=Boolean(this._wordRange&&this._wordRange.equalsRange(c)),f=0,R=t.length;!h&&f<R;f++){var X=t.getRange(f);X&&X.startLineNumber===n&&X.startColumn<=r&&X.endColumn>=l&&(h=!0)}return h}},{key:"cancel",value:function(){this.result.cancel()}}]),s}(),Ej=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;return Object(A.a)(this,e),l=o.call(this,i,t,n),l._providers=r,l}return Object(P.a)(e,[{key:"_compute",value:function(t,n,r,l){return U0(this._providers,t,n.getPosition(),l).then(function(c){return c||[]})}}]),e}(z0),Lj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this,i,t,n),r._selectionIsEmpty=t.isEmpty(),r}return Object(P.a)(e,[{key:"_compute",value:function(t,n,r,l){return Object(mt.q)(250,l).then(function(){if(!n.isEmpty())return[];var c=t.getWordAtPosition(n.getPosition());if(!c||c.word.length>1e3)return[];var h=t.findMatches(c.word,!0,!1,!0,r,!1);return h.map(function(f){return{range:f.range,kind:so.c.Text}})})}},{key:"isValid",value:function(t,n,r){var l=n.isEmpty();return this._selectionIsEmpty!==l?!1:Object(bn.a)(Object(An.a)(e.prototype),"isValid",this).call(this,t,n,r)}}]),e}(z0);function Mj(s,o,e,i){return s.has(o)?new Ej(o,e,i,s):new Lj(o,e,i)}Object(wt.o)("_executeDocumentHighlights",function(s,o,e){var i=s.get($i.a);return U0(i.documentHighlightProvider,o,e,Zn.a.None)});var Tj=function(){function s(o,e,i){var t=this;Object(A.a)(this,s),this.toUnhook=new Ye.c,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=o,this.providers=e,this._hasWordHighlights=vm.bindTo(i),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(78),this.model=this.editor.getModel(),this.toUnhook.add(o.onDidChangeCursorPosition(function(n){t._ignorePositionChangeEvent||!t.occurrencesHighlight||t._onPositionChanged(n)})),this.toUnhook.add(o.onDidChangeModelContent(function(n){t._stopAll()})),this.toUnhook.add(o.onDidChangeConfiguration(function(n){var r=t.editor.getOption(78);t.occurrencesHighlight!==r&&(t.occurrencesHighlight=r,t._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return Object(P.a)(s,[{key:"hasDecorations",value:function(){return this.decorations.length>0}},{key:"restore",value:function(){!this.occurrencesHighlight||this._run()}},{key:"_getSortedHighlights",value:function(){return this.decorations.getRanges().sort(Ze.a.compareRangesUsingStarts)}},{key:"moveNext",value:function(){var e=this,i=this._getSortedHighlights(),t=i.findIndex(function(h){return h.containsPosition(e.editor.getPosition())}),n=(t+1)%i.length,r=i[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);var l=this._getWord();if(l){var c=this.editor.getModel().getLineContent(r.startLineNumber);Object(Rn.a)("".concat(c,", ").concat(n+1," of ").concat(i.length," for '").concat(l.word,"'"))}}finally{this._ignorePositionChangeEvent=!1}}},{key:"moveBack",value:function(){var e=this,i=this._getSortedHighlights(),t=i.findIndex(function(h){return h.containsPosition(e.editor.getPosition())}),n=(t-1+i.length)%i.length,r=i[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);var l=this._getWord();if(l){var c=this.editor.getModel().getLineContent(r.startLineNumber);Object(Rn.a)("".concat(c,", ").concat(n+1," of ").concat(i.length," for '").concat(l.word,"'"))}}finally{this._ignorePositionChangeEvent=!1}}},{key:"_removeDecorations",value:function(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}},{key:"_stopAll",value:function(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}},{key:"_onPositionChanged",value:function(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()}},{key:"_getWord",value:function(){var e=this.editor.getSelection(),i=e.startLineNumber,t=e.startColumn;return this.model.getWordAtPosition({lineNumber:i,column:t})}},{key:"_run",value:function(){var e=this,i=this.editor.getSelection();if(i.startLineNumber!==i.endLineNumber){this._stopAll();return}var t=i.startColumn,n=i.endColumn,r=this._getWord();if(!r||r.startColumn>t||r.endColumn<n){this._stopAll();return}var l=this.workerRequest&&this.workerRequest.isValid(this.model,i,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),l)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var c=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=Mj(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(126)),this.workerRequest.result.then(function(h){c===e.workerRequestTokenId&&(e.workerRequestCompleted=!0,e.workerRequestValue=h||[],e._beginRenderDecorations())},Li.h)}}},{key:"_beginRenderDecorations",value:function(){var e=this,i=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;i>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(function(){e.renderDecorations()},t-i)}},{key:"renderDecorations",value:function(){this.renderDecorationsTimer=-1;var e=[],i=Object(G.a)(this.workerRequestValue),t;try{for(i.s();!(t=i.n()).done;){var n=t.value;n.range&&e.push({range:n.range,options:tw(n.kind)})}}catch(r){i.e(r)}finally{i.f()}this.decorations.set(e),this._hasWordHighlights.set(this.hasDecorations())}},{key:"dispose",value:function(){this._stopAll(),this.toUnhook.dispose()}}]),s}(),Gh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;Object(A.a)(this,e),r=o.call(this),r.wordHighlighter=null;var l=function(){i.hasModel()&&(r.wordHighlighter=new Tj(i,n.documentHighlightProvider,t))};return r._register(i.onDidChangeModel(function(c){r.wordHighlighter&&(r.wordHighlighter.dispose(),r.wordHighlighter=null),l()})),l(),r}return Object(P.a)(e,[{key:"saveViewState",value:function(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}},{key:"moveNext",value:function(){var t;(t=this.wordHighlighter)===null||t===void 0||t.moveNext()}},{key:"moveBack",value:function(){var t;(t=this.wordHighlighter)===null||t===void 0||t.moveBack()}},{key:"restoreViewState",value:function(t){this.wordHighlighter&&t&&this.wordHighlighter.restore()}},{key:"dispose",value:function(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);Gh.ID="editor.contrib.wordHighlighter",Gh=jj([H0(1,Tn.b),H0(2,$i.a)],Gh);var K0=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this,t),n._isNext=i,n}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=Gh.get(n);!r||(this._isNext?r.moveNext():r.moveBack())}}]),e}(wt.b),Ij=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!0,{id:"editor.action.wordHighlight.next",label:We.b("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:vm,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:65,weight:100}})}return Object(P.a)(e)}(K0),Pj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,!1,{id:"editor.action.wordHighlight.prev",label:We.b("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:vm,kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:1024|65,weight:100}})}return Object(P.a)(e)}(K0),Aj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.wordHighlight.trigger",label:We.b("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:vm.toNegated(),kbOpts:{kbExpr:Ut.a.editorTextFocus,primary:0,weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){var l=Gh.get(n);!l||l.restoreViewState(!0)}}]),e}(wt.b);Object(wt.m)(Gh.ID,Gh,0),Object(wt.k)(Ij),Object(wt.k)(Pj),Object(wt.k)(Aj);var Rj=a("LLum"),md=a("6FFW"),$h=a("Vk6M"),gm=a("FmXZ"),mm=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this,i),t._inSelectionMode=i.inSelectionMode,t._wordNavigationType=i.wordNavigationType,t}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n,r){var l=this;if(!!n.hasModel()){var c=Object($h.a)(n.getOption(126)),h=n.getModel(),f=n.getSelections(),R=f.map(function(oe){var je=new nt.a(oe.positionLineNumber,oe.positionColumn),Me=l._move(c,h,je,l._wordNavigationType);return l._moveTo(oe,Me,l._inSelectionMode)});if(h.pushStackElement(),n._getViewModel().setCursorStates("moveWordCommand",3,R.map(function(oe){return Rj.b.fromModelSelection(oe)})),R.length===1){var X=new nt.a(R[0].positionLineNumber,R[0].positionColumn);n.revealPosition(X,0)}}}},{key:"_moveTo",value:function(t,n,r){return r?new Pi.a(t.selectionStartLineNumber,t.selectionStartColumn,n.lineNumber,n.column):new Pi.a(n.lineNumber,n.column,n.lineNumber,n.column)}}]),e}(wt.d),qd=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"_move",value:function(t,n,r,l){return md.a.moveWordLeft(t,n,r,l)}}]),e}(mm),eh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"_move",value:function(t,n,r,l){return md.a.moveWordRight(t,n,r,l)}}]),e}(mm),Nj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}return Object(P.a)(e)}(qd),xj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}return Object(P.a)(e)}(qd),Fj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){Object(A.a)(this,e);var i;return o.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:Tn.a.and(Ut.a.textInputFocus,(i=Tn.a.and(Oo.a,gm.b))===null||i===void 0?void 0:i.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}return Object(P.a)(e)}(qd),Bj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}return Object(P.a)(e)}(qd),Wj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}return Object(P.a)(e)}(qd),Vj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){Object(A.a)(this,e);var i;return o.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:Tn.a.and(Ut.a.textInputFocus,(i=Tn.a.and(Oo.a,gm.b))===null||i===void 0?void 0:i.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}return Object(P.a)(e)}(qd),Hj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}return Object(P.a)(e,[{key:"_move",value:function(t,n,r,l){return Object(bn.a)(Object(An.a)(e.prototype),"_move",this).call(this,Object($h.a)(hs.h.wordSeparators.defaultValue),n,r,l)}}]),e}(qd),Uj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}return Object(P.a)(e,[{key:"_move",value:function(t,n,r,l){return Object(bn.a)(Object(An.a)(e.prototype),"_move",this).call(this,Object($h.a)(hs.h.wordSeparators.defaultValue),n,r,l)}}]),e}(qd),zj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}return Object(P.a)(e)}(eh),Kj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){Object(A.a)(this,e);var i;return o.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:Tn.a.and(Ut.a.textInputFocus,(i=Tn.a.and(Oo.a,gm.b))===null||i===void 0?void 0:i.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}return Object(P.a)(e)}(eh),Gj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}return Object(P.a)(e)}(eh),$j=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}return Object(P.a)(e)}(eh),Qj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){Object(A.a)(this,e);var i;return o.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:Tn.a.and(Ut.a.textInputFocus,(i=Tn.a.and(Oo.a,gm.b))===null||i===void 0?void 0:i.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}return Object(P.a)(e)}(eh),Yj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}return Object(P.a)(e)}(eh),Zj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}return Object(P.a)(e,[{key:"_move",value:function(t,n,r,l){return Object(bn.a)(Object(An.a)(e.prototype),"_move",this).call(this,Object($h.a)(hs.h.wordSeparators.defaultValue),n,r,l)}}]),e}(eh),Xj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}return Object(P.a)(e,[{key:"_move",value:function(t,n,r,l){return Object(bn.a)(Object(An.a)(e.prototype),"_move",this).call(this,Object($h.a)(hs.h.wordSeparators.defaultValue),n,r,l)}}]),e}(eh),pm=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this,i),t._whitespaceHeuristics=i.whitespaceHeuristics,t._wordNavigationType=i.wordNavigationType,t}return Object(P.a)(e,[{key:"runEditorCommand",value:function(t,n,r){var l=this,c=t.get(po.a);if(!!n.hasModel()){var h=Object($h.a)(n.getOption(126)),f=n.getModel(),R=n.getSelections(),X=n.getOption(5),oe=n.getOption(9),je=c.getLanguageConfiguration(f.getLanguageId()).getAutoClosingPairs(),Me=n._getViewModel(),st=R.map(function(gt){var jt=l._delete({wordSeparators:h,model:f,selection:gt,whitespaceHeuristics:l._whitespaceHeuristics,autoClosingDelete:n.getOption(7),autoClosingBrackets:X,autoClosingQuotes:oe,autoClosingPairs:je,autoClosedCharacters:Me.getCursorAutoClosedCharacters()},l._wordNavigationType);return new ua.a(jt,"")});n.pushUndoStop(),n.executeCommands(this.id,st),n.pushUndoStop()}}}]),e}(wt.d),kb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"_delete",value:function(t,n){var r=md.a.deleteWordLeft(t,n);return r||new Ze.a(1,1,1,1)}}]),e}(pm),Db=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"_delete",value:function(t,n){var r=md.a.deleteWordRight(t,n);if(r)return r;var l=t.model.getLineCount(),c=t.model.getLineMaxColumn(l);return new Ze.a(l,c,l,c)}}]),e}(pm),Jj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:Ut.a.writable})}return Object(P.a)(e)}(kb),qj=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:Ut.a.writable})}return Object(P.a)(e)}(kb),eE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}return Object(P.a)(e)}(kb),tE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:Ut.a.writable})}return Object(P.a)(e)}(Db),nE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:Ut.a.writable})}return Object(P.a)(e)}(Db),iE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}return Object(P.a)(e)}(Db),rE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"deleteInsideWord",precondition:Ut.a.writable,label:We.b("deleteInsideWord","Delete Word"),alias:"Delete Word"})}return Object(P.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=Object($h.a)(n.getOption(126)),c=n.getModel(),h=n.getSelections(),f=h.map(function(R){var X=md.a.deleteInsideWord(l,c,R);return new ua.a(X,"")});n.pushUndoStop(),n.executeCommands(this.id,f),n.pushUndoStop()}}}]),e}(wt.b);Object(wt.l)(new Nj),Object(wt.l)(new xj),Object(wt.l)(new Fj),Object(wt.l)(new Bj),Object(wt.l)(new Wj),Object(wt.l)(new Vj),Object(wt.l)(new zj),Object(wt.l)(new Kj),Object(wt.l)(new Gj),Object(wt.l)(new $j),Object(wt.l)(new Qj),Object(wt.l)(new Yj),Object(wt.l)(new Hj),Object(wt.l)(new Uj),Object(wt.l)(new Zj),Object(wt.l)(new Xj),Object(wt.l)(new Jj),Object(wt.l)(new qj),Object(wt.l)(new eE),Object(wt.l)(new tE),Object(wt.l)(new nE),Object(wt.l)(new iE),Object(wt.k)(rE);var aE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}return Object(P.a)(e,[{key:"_delete",value:function(t,n){var r=md.b.deleteWordPartLeft(t);return r||new Ze.a(1,1,1,1)}}]),e}(pm),oE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:Ut.a.writable,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}return Object(P.a)(e,[{key:"_delete",value:function(t,n){var r=md.b.deleteWordPartRight(t);if(r)return r;var l=t.model.getLineCount(),c=t.model.getLineMaxColumn(l);return new Ze.a(l,c,l,c)}}]),e}(pm),G0=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"_move",value:function(t,n,r,l){return md.b.moveWordPartLeft(t,n,r)}}]),e}(mm),sE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}return Object(P.a)(e)}(G0);$r.a.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var lE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}return Object(P.a)(e)}(G0);$r.a.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var $0=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.apply(this,arguments)}return Object(P.a)(e,[{key:"_move",value:function(t,n,r,l){return md.b.moveWordPartRight(t,n,r)}}]),e}(mm),uE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}return Object(P.a)(e)}($0),cE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:Ut.a.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}return Object(P.a)(e)}($0);Object(wt.l)(new aE),Object(wt.l)(new oE),Object(wt.l)(new sE),Object(wt.l)(new lE),Object(wt.l)(new uE),Object(wt.l)(new cE);var wb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t.editor=i,t._register(t.editor.onDidAttemptReadOnlyEdit(function(){return t._onDidAttemptReadOnlyEdit()})),t}return Object(P.a)(e,[{key:"_onDidAttemptReadOnlyEdit",value:function(){var t=ps.get(this.editor);t&&this.editor.hasModel()&&(this.editor.isSimpleWidget?t.showMessage(We.b("editor.simple.readonly","Cannot edit in read-only input"),this.editor.getPosition()):t.showMessage(We.b("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition()))}}]),e}(Ye.a);wb.ID="editor.contrib.readOnlyMessageController",Object(wt.m)(wb.ID,wb,2);var Ao=a("A9l+"),oL=a("QaAZ"),Q0=a("ZlPH"),Y0=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},bm=function(s,o){return function(e,i){o(e,i,s)}},Z0=new Tn.c("accessibilityHelpWidgetVisible",!1),Qh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n._editor=i,n._widget=n._register(t.createInstance($f,n._editor)),n}return Object(P.a)(e,[{key:"show",value:function(){this._widget.show()}},{key:"hide",value:function(){this._widget.hide()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);Qh.ID="editor.contrib.accessibilityHelpController",Qh=Y0([bm(1,ia.a)],Qh);function dE(s,o){return!s||s.length===0?Ao.a.noSelection:s.length===1?o?vr.v(Ao.a.singleSelectionRange,s[0].positionLineNumber,s[0].positionColumn,o):vr.v(Ao.a.singleSelection,s[0].positionLineNumber,s[0].positionColumn):o?vr.v(Ao.a.multiSelectionRange,s.length,o):s.length>0?vr.v(Ao.a.multiSelection,s.length):""}var $f=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r){var l;Object(A.a)(this,e),l=o.call(this),l._contextKeyService=t,l._keybindingService=n,l._openerService=r,l._editor=i,l._isVisibleKey=Z0.bindTo(l._contextKeyService),l._domNode=Object(Q0.b)(document.createElement("div")),l._domNode.setClassName("accessibilityHelpWidget"),l._domNode.setDisplay("none"),l._domNode.setAttribute("role","dialog"),l._domNode.setAttribute("aria-modal","true"),l._domNode.setAttribute("aria-hidden","true");var c=Object(It.append)(l._domNode.domNode,Object(It.$)("h1",void 0,Ao.a.accessibilityHelpTitle));return c.id="help-dialog-heading",l._domNode.setAttribute("aria-labelledby",c.id),l._contentDomNode=Object(Q0.b)(document.createElement("div")),l._contentDomNode.setAttribute("role","document"),l._contentDomNode.domNode.id="help-dialog-content",l._domNode.appendChild(l._contentDomNode),l._contentDomNode.setAttribute("aria-describedby",l._contentDomNode.domNode.id),l._isVisible=!1,l._register(l._editor.onDidLayoutChange(function(){l._isVisible&&l._layout()})),l._register(Object(It.addStandardDisposableListener)(l._contentDomNode.domNode,"keydown",function(h){if(!!l._isVisible&&(h.equals(2048|35)&&(Object(Rn.a)(Ao.a.emergencyConfOn),l._editor.updateOptions({accessibilitySupport:"on"}),Object(It.clearNode)(l._contentDomNode.domNode),l._buildContent(),l._contentDomNode.domNode.focus(),h.preventDefault(),h.stopPropagation()),h.equals(2048|38))){Object(Rn.a)(Ao.a.openingDocs);var f=l._editor.getRawOptions().accessibilityHelpUrl;typeof f=="undefined"&&(f="https://go.microsoft.com/fwlink/?linkid=852450"),l._openerService.open(_r.a.parse(f)),h.preventDefault(),h.stopPropagation()}})),l.onblur(l._contentDomNode.domNode,function(){l.hide()}),l._editor.addOverlayWidget(Object(nn.a)(l)),l}return Object(P.a)(e,[{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this._domNode.domNode}},{key:"getPosition",value:function(){return{preference:null}}},{key:"show",value:function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}},{key:"_descriptionForCommand",value:function(t,n,r){var l=this._keybindingService.lookupKeybinding(t);return l?vr.v(n,l.getAriaLabel()):vr.v(r,t)}},{key:"_buildContent",value:function(){var t=this._contentDomNode.domNode,n=this._editor.getOptions(),r=this._editor.getSelections(),l=0;if(r){var c=this._editor.getModel();c&&r.forEach(function(oe){l+=c.getValueLengthInRange(oe)})}Object(It.append)(t,Object(It.$)("p",void 0,dE(r,l)));var h=Object(It.append)(t,Object(It.$)("p"));n.get(59)?n.get(88)?h.textContent=Ao.a.readonlyDiffEditor:h.textContent=Ao.a.editableDiffEditor:n.get(88)?h.textContent=Ao.a.readonlyEditor:h.textContent=Ao.a.editableEditor;var f=Object(It.append)(t,Object(It.$)("ul")),R=Mt.i?Ao.a.changeConfigToOnMac:Ao.a.changeConfigToOnWinLinux;switch(n.get(2)){case 0:Object(It.append)(f,Object(It.$)("li",void 0,R));break;case 2:Object(It.append)(f,Object(It.$)("li",void 0,Ao.a.auto_on));break;case 1:Object(It.append)(f,Object(It.$)("li",void 0,Ao.a.auto_off,R));break}n.get(139)?Object(It.append)(f,Object(It.$)("li",void 0,this._descriptionForCommand(cm.ID,Ao.a.tabFocusModeOnMsg,Ao.a.tabFocusModeOnMsgNoKb))):Object(It.append)(f,Object(It.$)("li",void 0,this._descriptionForCommand(cm.ID,Ao.a.tabFocusModeOffMsg,Ao.a.tabFocusModeOffMsgNoKb)));var X=Mt.i?Ao.a.openDocMac:Ao.a.openDocWinLinux;Object(It.append)(f,Object(It.$)("li",void 0,X)),Object(It.append)(t,Object(It.$)("p",void 0,Ao.a.outroMsg))}},{key:"hide",value:function(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,Object(It.clearNode)(this._contentDomNode.domNode),this._editor.focus())}},{key:"_layout",value:function(){var t=this._editor.getLayoutInfo(),n=Math.max(5,Math.min(e.WIDTH,t.width-40)),r=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(n),this._domNode.setHeight(r);var l=Math.round((t.height-r)/2);this._domNode.setTop(l);var c=Math.round((t.width-n)/2);this._domNode.setLeft(c)}}]),e}(Ru.a);$f.ID="editor.contrib.accessibilityHelpWidget",$f.WIDTH=500,$f.HEIGHT=300,$f=Y0([bm(1,Tn.b),bm(2,Mi.a),bm(3,io.a)],$f);var hE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.showAccessibilityHelp",label:Ao.a.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=Qh.get(n);r==null||r.show()}}]),e}(wt.b);Object(wt.m)(Qh.ID,Qh,4),Object(wt.k)(hE);var fE=wt.d.bindToContribution(Qh.get);Object(wt.l)(new fE({id:"closeAccessibilityHelp",precondition:Z0,handler:function(o){return o.hide()},kbOpts:{weight:100+100,kbExpr:Ut.a.focus,primary:9,secondary:[1024|9]}}));var sL=a("ci+S"),jb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t.editor=i,t.widget=null,Mt.f&&(t._register(i.onDidChangeConfiguration(function(){return t.update()})),t.update()),t}return Object(P.a)(e,[{key:"update",value:function(){var t=!this.editor.getOption(88);!this.widget&&t?this.widget=new X0(this.editor):this.widget&&!t&&(this.widget.dispose(),this.widget=null)}},{key:"dispose",value:function(){Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this),this.widget&&(this.widget.dispose(),this.widget=null)}}]),e}(Ye.a);jb.ID="editor.contrib.iPadShowKeyboard";var X0=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t.editor=i,t._domNode=document.createElement("textarea"),t._domNode.className="iPadShowKeyboard",t._register(It.addDisposableListener(t._domNode,"touchstart",function(n){t.editor.focus()})),t._register(It.addDisposableListener(t._domNode,"focus",function(n){t.editor.focus()})),t.editor.addOverlayWidget(Object(nn.a)(t)),t}return Object(P.a)(e,[{key:"dispose",value:function(){this.editor.removeOverlayWidget(this),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{preference:1}}}]),e}(Ye.a);X0.ID="editor.contrib.ShowKeyboardWidget",Object(wt.m)(jb.ID,jb,3);var lL=a("EzsQ"),ng=a("VGTv"),Eb=a("7AJZ"),J0=a("C+7e"),vE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},q0=function(s,o){return function(e,i){o(e,i,s)}},Qf=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this),r._editor=i,r._languageService=n,r._widget=null,r._register(r._editor.onDidChangeModel(function(l){return r.stop()})),r._register(r._editor.onDidChangeModelLanguage(function(l){return r.stop()})),r._register(so.m.onDidChange(function(l){return r.stop()})),r._register(r._editor.onKeyUp(function(l){return l.keyCode===9&&r.stop()})),r}return Object(P.a)(e,[{key:"dispose",value:function(){this.stop(),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"launch",value:function(){this._widget||!this._editor.hasModel()||(this._widget=new eC(this._editor,this._languageService))}},{key:"stop",value:function(){this._widget&&(this._widget.dispose(),this._widget=null)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ye.a);Qf.ID="editor.contrib.inspectTokens",Qf=vE([q0(1,J0.a),q0(2,Ti.a)],Qf);var gE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:"editor.action.inspectTokens",label:Ao.c.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=Qf.get(n);r==null||r.launch()}}]),e}(wt.b);function mE(s){for(var o="",e=0,i=s.length;e<i;e++){var t=s.charCodeAt(e);switch(t){case 9:o+="\u2192";break;case 32:o+="\xB7";break;default:o+=String.fromCharCode(t)}}return o}function pE(s,o){var e=so.m.get(o);if(e)return e;var i=s.encodeLanguageId(o);return{getInitialState:function(){return Eb.a},tokenize:function(n,r,l){return Object(Eb.b)(o,l)},tokenizeEncoded:function(n,r,l){return Object(Eb.c)(i,l)}}}var eC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n.allowEditorOverflow=!0,n._editor=i,n._languageService=t,n._model=n._editor.getModel(),n._domNode=document.createElement("div"),n._domNode.className="tokens-inspect-widget",n._tokenizationSupport=pE(n._languageService.languageIdCodec,n._model.getLanguageId()),n._compute(n._editor.getPosition()),n._register(n._editor.onDidChangeCursorPosition(function(r){return n._compute(n._editor.getPosition())})),n._editor.addContentWidget(Object(nn.a)(n)),n}return Object(P.a)(e,[{key:"dispose",value:function(){this._editor.removeContentWidget(this),Object(bn.a)(Object(An.a)(e.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return e._ID}},{key:"_compute",value:function(t){for(var n=this._getTokensAtLine(t.lineNumber),r=0,l=n.tokens1.length-1;l>=0;l--){var c=n.tokens1[l];if(t.column-1>=c.offset){r=l;break}}for(var h=0,f=n.tokens2.length>>>1;f>=0;f--)if(t.column-1>=n.tokens2[f<<1]){h=f;break}var R=this._model.getLineContent(t.lineNumber),X="";if(r<n.tokens1.length){var oe=n.tokens1[r].offset,je=r+1<n.tokens1.length?n.tokens1[r+1].offset:R.length;X=R.substring(oe,je)}Object(It.reset)(this._domNode,Object(It.$)("h2.tm-token",void 0,mE(X),Object(It.$)("span.tm-token-length",void 0,"".concat(X.length," ").concat(X.length===1?"char":"chars")))),Object(It.append)(this._domNode,Object(It.$)("hr.tokens-inspect-separator",{style:"clear:both"}));var Me=(h<<1)+1<n.tokens2.length?this._decodeMetadata(n.tokens2[(h<<1)+1]):null;Object(It.append)(this._domNode,Object(It.$)("table.tm-metadata-table",void 0,Object(It.$)("tbody",void 0,Object(It.$)("tr",void 0,Object(It.$)("td.tm-metadata-key",void 0,"language"),Object(It.$)("td.tm-metadata-value",void 0,"".concat(Me?Me.languageId:"-?-"))),Object(It.$)("tr",void 0,Object(It.$)("td.tm-metadata-key",void 0,"token type"),Object(It.$)("td.tm-metadata-value",void 0,"".concat(Me?this._tokenTypeToString(Me.tokenType):"-?-"))),Object(It.$)("tr",void 0,Object(It.$)("td.tm-metadata-key",void 0,"font style"),Object(It.$)("td.tm-metadata-value",void 0,"".concat(Me?this._fontStyleToString(Me.fontStyle):"-?-"))),Object(It.$)("tr",void 0,Object(It.$)("td.tm-metadata-key",void 0,"foreground"),Object(It.$)("td.tm-metadata-value",void 0,"".concat(Me?Ma.a.Format.CSS.formatHex(Me.foreground):"-?-"))),Object(It.$)("tr",void 0,Object(It.$)("td.tm-metadata-key",void 0,"background"),Object(It.$)("td.tm-metadata-value",void 0,"".concat(Me?Ma.a.Format.CSS.formatHex(Me.background):"-?-")))))),Object(It.append)(this._domNode,Object(It.$)("hr.tokens-inspect-separator")),r<n.tokens1.length&&Object(It.append)(this._domNode,Object(It.$)("span.tm-token-type",void 0,n.tokens1[r].type)),this._editor.layoutContentWidget(this)}},{key:"_decodeMetadata",value:function(t){var n=so.m.getColorMap(),r=ng.a.getLanguageId(t),l=ng.a.getTokenType(t),c=ng.a.getFontStyle(t),h=ng.a.getForeground(t),f=ng.a.getBackground(t);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(r),tokenType:l,fontStyle:c,foreground:n[h],background:n[f]}}},{key:"_tokenTypeToString",value:function(t){switch(t){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}},{key:"_fontStyleToString",value:function(t){var n="";return t&1&&(n+="italic "),t&2&&(n+="bold "),t&4&&(n+="underline "),t&8&&(n+="strikethrough "),n.length===0&&(n="---"),n}},{key:"_getTokensAtLine",value:function(t){var n=this._getStateBeforeLine(t),r=this._tokenizationSupport.tokenize(this._model.getLineContent(t),!0,n),l=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(t),!0,n);return{startState:n,tokens1:r.tokens,tokens2:l.tokens,endState:r.endState}}},{key:"_getStateBeforeLine",value:function(t){for(var n=this._tokenizationSupport.getInitialState(),r=1;r<t;r++){var l=this._tokenizationSupport.tokenize(this._model.getLineContent(r),!0,n);n=l.endState}return n}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{position:this._editor.getPosition(),preference:[2,1]}}}]),e}(Ye.a);eC._ID="editor.contrib.inspectTokensWidget",Object(wt.m)(Qf.ID,Qf,4),Object(wt.k)(gE);var ig=a("Lx4V"),bE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},tC=function(s,o){return function(e,i){o(e,i,s)}},ym=function(){function s(o,e){Object(A.a)(this,s),this.quickInputService=o,this.keybindingService=e,this.registry=Qs.a.as(ig.b.Quickaccess)}return Object(P.a)(s,[{key:"provide",value:function(e){var i=this,t=new Ye.c;return t.add(e.onDidAccept(function(){var n=Object(O.a)(e.selectedItems,1),r=n[0];r&&i.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(function(n){var r=i.registry.getQuickAccessProvider(n.substr(s.PREFIX.length));r&&r.prefix&&r.prefix!==s.PREFIX&&i.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders().filter(function(n){return n.prefix!==s.PREFIX}),t}},{key:"getQuickAccessProviders",value:function(){var e=this,i=this.registry.getQuickAccessProviders().sort(function(t,n){return t.prefix.localeCompare(n.prefix)}).flatMap(function(t){return e.createPicks(t)});return i}},{key:"createPicks",value:function(e){var i=this;return e.helpEntries.map(function(t){var n=t.prefix||e.prefix,r=n||"\u2026";return{prefix:n,label:r,keybinding:t.commandId?i.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:Object(We.b)("helpPickAriaLabel","{0}, {1}",r,t.description),description:t.description}})}}]),s}();ym.PREFIX="?",ym=bE([tC(0,yl.a),tC(1,Mi.a)],ym),Qs.a.as(ig.b.Quickaccess).registerQuickAccessProvider({ctor:ym,prefix:"",helpEntries:[{description:Ao.e.helpQuickAccessActionLabel}]});var nC=function(){function s(o){Object(A.a)(this,s),this.options=o,this.rangeHighlightDecorationId=void 0}return Object(P.a)(s,[{key:"provide",value:function(e,i){var t=this,n,r=new Ye.c;e.canAcceptInBackground=!!((n=this.options)===null||n===void 0?void 0:n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;var l=r.add(new Ye.e);return l.value=this.doProvide(e,i),r.add(this.onDidActiveTextEditorControlChange(function(){l.value=void 0,l.value=t.doProvide(e,i)})),r}},{key:"doProvide",value:function(e,i){var t=this,n=new Ye.c,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){var l={editor:r},c=Object(nc.a)(r);if(c){var h=Object(ya.n)(r.saveViewState());n.add(c.onDidChangeCursorPosition(function(){h=Object(ya.n)(r.saveViewState())})),l.restoreViewState=function(){h&&r===t.activeTextEditorControl&&r.restoreViewState(h)},n.add(Object(yd.a)(i.onCancellationRequested)(function(){var f;return(f=l.restoreViewState)===null||f===void 0?void 0:f.call(l)}))}n.add(Object(Ye.l)(function(){return t.clearDecorations(r)})),n.add(this.provideWithTextEditor(l,e,i))}else n.add(this.provideWithoutTextEditor(e,i));return n}},{key:"canProvideWithTextEditor",value:function(e){return!0}},{key:"gotoLocation",value:function(e,i){var t=e.editor;t.setSelection(i.range),t.revealRangeInCenter(i.range,0),i.preserveFocus||t.focus();var n=t.getModel();n&&"getLineContent"in n&&Object(Rn.a)("".concat(n.getLineContent(i.range.startLineNumber)))}},{key:"getModel",value:function(e){var i;return Object(nc.c)(e)?(i=e.getModel())===null||i===void 0?void 0:i.modified:e.getModel()}},{key:"addDecorations",value:function(e,i){var t=this;e.changeDecorations(function(n){var r=[];t.rangeHighlightDecorationId&&(r.push(t.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(t.rangeHighlightDecorationId.rangeHighlightId),t.rangeHighlightDecorationId=void 0);var l=[{range:i,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:i,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:Object(si.f)(wy.H),position:Zt.f.Full}}}],c=n.deltaDecorations(r,l),h=Object(O.a)(c,2),f=h[0],R=h[1];t.rangeHighlightDecorationId={rangeHighlightId:f,overviewRulerDecorationId:R}})}},{key:"clearDecorations",value:function(e){var i=this.rangeHighlightDecorationId;i&&(e.changeDecorations(function(t){t.deltaDecorations([i.overviewRulerDecorationId,i.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}]),s}(),iC=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{canAcceptInBackground:!0})}return Object(P.a)(e,[{key:"provideWithoutTextEditor",value:function(t){var n=Object(We.b)("cannotRunGotoLine","Open a text editor first to go to a line.");return t.items=[{label:n}],t.ariaLabel=n,Ye.a.None}},{key:"provideWithTextEditor",value:function(t,n,r){var l=this,c=t.editor,h=new Ye.c;h.add(n.onDidAccept(function(je){var Me=Object(O.a)(n.selectedItems,1),st=Me[0];if(st){if(!l.isValidLineNumber(c,st.lineNumber))return;l.gotoLocation(t,{range:l.toRange(st.lineNumber,st.column),keyMods:n.keyMods,preserveFocus:je.inBackground}),je.inBackground||n.hide()}}));var f=function(){var Me=l.parsePosition(c,n.value.trim().substr(e.PREFIX.length)),st=l.getPickLabel(c,Me.lineNumber,Me.column);if(n.items=[{lineNumber:Me.lineNumber,column:Me.column,label:st}],n.ariaLabel=st,!l.isValidLineNumber(c,Me.lineNumber)){l.clearDecorations(c);return}var gt=l.toRange(Me.lineNumber,Me.column);c.revealRangeInCenter(gt,0),l.addDecorations(c,gt)};f(),h.add(n.onDidChangeValue(function(){return f()}));var R=Object(nc.a)(c);if(R){var X=R.getOptions(),oe=X.get(65);oe.renderType===2&&(R.updateOptions({lineNumbers:"on"}),h.add(Object(Ye.l)(function(){return R.updateOptions({lineNumbers:"relative"})})))}return h}},{key:"toRange",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{startLineNumber:t,startColumn:n,endLineNumber:t,endColumn:n}}},{key:"parsePosition",value:function(t,n){var r=n.split(/,|:|#/).map(function(c){return parseInt(c,10)}).filter(function(c){return!isNaN(c)}),l=this.lineCount(t)+1;return{lineNumber:r[0]>0?r[0]:l+r[0],column:r[1]}}},{key:"getPickLabel",value:function(t,n,r){if(this.isValidLineNumber(t,n))return this.isValidColumn(t,n,r)?Object(We.b)("gotoLineColumnLabel","Go to line {0} and character {1}.",n,r):Object(We.b)("gotoLineLabel","Go to line {0}.",n);var l=t.getPosition()||{lineNumber:1,column:1},c=this.lineCount(t);return c>1?Object(We.b)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",l.lineNumber,l.column,c):Object(We.b)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",l.lineNumber,l.column)}},{key:"isValidLineNumber",value:function(t,n){return!n||typeof n!="number"?!1:n>0&&n<=this.lineCount(t)}},{key:"isValidColumn",value:function(t,n,r){if(!r||typeof r!="number")return!1;var l=this.getModel(t);if(!l)return!1;var c={lineNumber:n,column:r};return l.validatePosition(c).equals(c)}},{key:"lineCount",value:function(t){var n,r;return(r=(n=this.getModel(t))===null||n===void 0?void 0:n.getLineCount())!==null&&r!==void 0?r:0}}]),e}(nC);iC.PREFIX=":";var yE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},_E=function(s,o){return function(e,i){o(e,i,s)}},rg=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i){var t;return Object(A.a)(this,e),t=o.call(this),t.editorService=i,t.onDidActiveTextEditorControlChange=ca.c.None,t}return Object(P.a)(e,[{key:"activeTextEditorControl",get:function(){return Object(ya.n)(this.editorService.getFocusedCodeEditor())}}]),e}(iC);rg=yE([_E(0,zt.a)],rg);var Lb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,label:Ao.b.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:Ut.a.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}return Object(P.a)(e,[{key:"run",value:function(t){t.get(yl.a).quickAccess.show(rg.PREFIX)}}]),e}(wt.b);Lb.ID="editor.action.gotoLine",Object(wt.k)(Lb),Qs.a.as(ig.b.Quickaccess).registerQuickAccessProvider({ctor:rg,prefix:rg.PREFIX,helpEntries:[{description:Ao.b.gotoLineActionLabel,commandId:Lb.ID}]});var rC=[void 0,[]];function Mb(s,o){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,t=o;return t.values&&t.values.length>1?CE(s,t.values,e,i):aC(s,o,e,i)}function CE(s,o,e,i){var t=0,n=[],r=Object(G.a)(o),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=aC(s,c,e,i),f=Object(O.a)(h,2),R=f[0],X=f[1];if(typeof R!="number")return rC;t+=R,n.push.apply(n,Object(on.a)(X))}}catch(oe){r.e(oe)}finally{r.f()}return[t,OE(n)]}function aC(s,o,e,i){var t=Object(gs.e)(o.original,o.originalLowercase,e,s,s.toLowerCase(),i,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?[t[0],Object(gs.d)(t)]:rC}var uL=Object.freeze({score:0});function OE(s){var o=s.sort(function(l,c){return l.start-c.start}),e=[],i=void 0,t=Object(G.a)(o),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;!i||!SE(i,r)?(i=r,e.push(r)):(i.start=Math.min(i.start,r.start),i.end=Math.max(i.end,r.end))}}catch(l){t.e(l)}finally{t.f()}return e}function SE(s,o){return!(s.end<o.start||o.end<s.start)}function oC(s){return s.startsWith('"')&&s.endsWith('"')}var sC=" ";function Tb(s){typeof s!="string"&&(s="");var o=s.toLowerCase(),e=lC(s),i=e.pathNormalized,t=e.normalized,n=e.normalizedLowercase,r=i.indexOf(vd.h)>=0,l=oC(s),c=void 0,h=s.split(sC);if(h.length>1){var f=Object(G.a)(h),R;try{for(f.s();!(R=f.n()).done;){var X=R.value,oe=oC(X),je=lC(X),Me=je.pathNormalized,st=je.normalized,gt=je.normalizedLowercase;st&&(c||(c=[]),c.push({original:X,originalLowercase:X.toLowerCase(),pathNormalized:Me,normalized:st,normalizedLowercase:gt,expectContiguousMatch:oe}))}}catch(jt){f.e(jt)}finally{f.f()}}return{original:s,originalLowercase:o,pathNormalized:i,normalized:t,normalizedLowercase:n,values:c,containsPathSeparator:r,expectContiguousMatch:l}}function lC(s){var o;Mt.o?o=s.replace(/\//g,vd.h):o=s.replace(/\\/g,vd.h);var e=Object(vr.V)(o).replace(/\s|"/g,"");return{pathNormalized:o,normalized:e,normalizedLowercase:e.toLowerCase()}}function uC(s){return Array.isArray(s)?Tb(s.map(function(o){return o.original}).join(sC)):Tb(s.original)}var ss,kE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},cC=function(s,o){return function(e,i){o(e,i,s)}},ag=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Hu=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.create(null);return Object(A.a)(this,e),n=o.call(this,r),n._languageFeaturesService=i,n._outlineModelService=t,n.options=r,n.options.canAcceptInBackground=!0,n}return Object(P.a)(e,[{key:"provideWithoutTextEditor",value:function(t){return this.provideLabelPick(t,Object(We.b)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),Ye.a.None}},{key:"provideWithTextEditor",value:function(t,n,r){var l=t.editor,c=this.getModel(l);return c?this._languageFeaturesService.documentSymbolProvider.has(c)?this.doProvideWithEditorSymbols(t,c,n,r):this.doProvideWithoutEditorSymbols(t,c,n,r):Ye.a.None}},{key:"doProvideWithoutEditorSymbols",value:function(t,n,r,l){var c=this,h=new Ye.c;return this.provideLabelPick(r,Object(We.b)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),function(){return ag(c,void 0,void 0,Object(d.a)().mark(function f(){var R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,this.waitForLanguageSymbolRegistry(n,h);case 2:if(R=oe.sent,!(!R||l.isCancellationRequested)){oe.next=5;break}return oe.abrupt("return");case 5:h.add(this.doProvideWithEditorSymbols(t,n,r,l));case 6:case"end":return oe.stop()}},f,this)}))}(),h}},{key:"provideLabelPick",value:function(t,n){t.items=[{label:n,index:0,kind:14}],t.ariaLabel=n}},{key:"waitForLanguageSymbolRegistry",value:function(t,n){return ag(this,void 0,void 0,Object(d.a)().mark(function r(){var l=this,c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!this._languageFeaturesService.documentSymbolProvider.has(t)){R.next=2;break}return R.abrupt("return",!0);case 2:return c=new mt.b,h=n.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(function(){l._languageFeaturesService.documentSymbolProvider.has(t)&&(h.dispose(),c.complete(!0))})),n.add(Object(Ye.l)(function(){return c.complete(!1)})),R.abrupt("return",c.p);case 6:case"end":return R.stop()}},r,this)}))}},{key:"doProvideWithEditorSymbols",value:function(t,n,r,l){var c=this,h,f=t.editor,R=new Ye.c;R.add(r.onDidAccept(function(Me){var st=Object(O.a)(r.selectedItems,1),gt=st[0];gt&&gt.range&&(c.gotoLocation(t,{range:gt.range.selection,keyMods:r.keyMods,preserveFocus:Me.inBackground}),Me.inBackground||r.hide())})),R.add(r.onDidTriggerItemButton(function(Me){var st=Me.item;st&&st.range&&(c.gotoLocation(t,{range:st.range.selection,keyMods:r.keyMods,forceSideBySide:!0}),r.hide())}));var X=this.getDocumentSymbols(n,l),oe=void 0,je=function(st){return ag(c,void 0,void 0,Object(d.a)().mark(function gt(){var jt,Xt,sn;return Object(d.a)().wrap(function(Hn){for(;;)switch(Hn.prev=Hn.next){case 0:return oe==null||oe.dispose(!0),r.busy=!1,oe=new Zn.b(l),r.busy=!0,Hn.prev=4,jt=Tb(r.value.substr(e.PREFIX.length).trim()),Hn.next=8,this.doGetSymbolPicks(X,jt,void 0,oe.token);case 8:if(Xt=Hn.sent,!l.isCancellationRequested){Hn.next=11;break}return Hn.abrupt("return");case 11:Xt.length>0?(r.items=Xt,st&&jt.original.length===0&&(sn=Object(Wn.l)(Xt,function(fi){return Boolean(fi.type!=="separator"&&fi.range&&Ze.a.containsPosition(fi.range.decoration,st))}),sn&&(r.activeItems=[sn]))):jt.original.length>0?this.provideLabelPick(r,Object(We.b)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(r,Object(We.b)("noSymbolResults","No editor symbols"));case 12:return Hn.prev=12,l.isCancellationRequested||(r.busy=!1),Hn.finish(12);case 15:case"end":return Hn.stop()}},gt,this,[[4,,12,15]])}))};return R.add(r.onDidChangeValue(function(){return je(void 0)})),je((h=f.getSelection())===null||h===void 0?void 0:h.getPosition()),R.add(r.onDidChangeActive(function(){var Me=Object(O.a)(r.activeItems,1),st=Me[0];st&&st.range&&(f.revealRangeInCenter(st.range.selection,0),c.addDecorations(f,st.range.decoration))})),R}},{key:"doGetSymbolPicks",value:function(t,n,r,l){var c,h;return ag(this,void 0,void 0,Object(d.a)().mark(function f(){var R=this,X,oe,je,Me,st,gt,jt,Xt,sn,qn,Hn,fi,Ci,wi,Ai,jr,dr,Dr,Kr,pa,xr,Pa,Ca,fa,co,ls,vo,Fo,cu,dc,za,to,Qa,ro,ys;return Object(d.a)().wrap(function(Ds){for(;;)switch(Ds.prev=Ds.next){case 0:return Ds.next=2,t;case 2:if(X=Ds.sent,!l.isCancellationRequested){Ds.next=5;break}return Ds.abrupt("return",[]);case 5:oe=n.original.indexOf(e.SCOPE_PREFIX)===0,je=oe?1:0,n.values&&n.values.length>1?(Me=uC(n.values[0]),st=uC(n.values.slice(1))):Me=n,jt=(h=(c=this.options)===null||c===void 0?void 0:c.openSideBySideDirection)===null||h===void 0?void 0:h.call(c),jt&&(gt=[{iconClass:jt==="right"?Fa.a.asClassName(Tr.a.splitHorizontal):Fa.a.asClassName(Tr.a.splitVertical),tooltip:jt==="right"?Object(We.b)("openToSide","Open to the Side"):Object(We.b)("openToBottom","Open to the Bottom")}]),Xt=[],sn=0;case 12:if(!(sn<X.length)){Ds.next=43;break}if(qn=X[sn],Hn=Object(vr.W)(qn.name),fi="$(".concat(so.k.toIcon(qn.kind).id,") ").concat(Hn),Ci=fi.length-Hn.length,wi=qn.containerName,(r==null?void 0:r.extraContainerLabel)&&(wi?wi="".concat(r.extraContainerLabel," \u2022 ").concat(wi):wi=r.extraContainerLabel),Ai=void 0,jr=void 0,dr=void 0,Dr=void 0,!(n.original.length>je)){Ds.next=38;break}if(Kr=!1,Me!==n&&(pa=Mb(fi,Object.assign(Object.assign({},n),{values:void 0}),je,Ci),xr=Object(O.a)(pa,2),Ai=xr[0],jr=xr[1],typeof Ai=="number"&&(Kr=!0)),typeof Ai=="number"){Ds.next=33;break}if(Pa=Mb(fi,Me,je,Ci),Ca=Object(O.a)(Pa,2),Ai=Ca[0],jr=Ca[1],typeof Ai=="number"){Ds.next=33;break}return Ds.abrupt("continue",40);case 33:if(!(!Kr&&st)){Ds.next=38;break}if(wi&&st.original.length>0&&(fa=Mb(wi,st),co=Object(O.a)(fa,2),dr=co[0],Dr=co[1]),typeof dr=="number"){Ds.next=37;break}return Ds.abrupt("continue",40);case 37:typeof Ai=="number"&&(Ai+=dr);case 38:ls=qn.tags&&qn.tags.indexOf(1)>=0,Xt.push({index:sn,kind:qn.kind,score:Ai,label:fi,ariaLabel:Hn,description:wi,highlights:ls?void 0:{label:jr,description:Dr},range:{selection:Ze.a.collapseToStart(qn.selectionRange),decoration:qn.range},strikethrough:ls,buttons:gt});case 40:sn++,Ds.next=12;break;case 43:if(vo=Xt.sort(function(Uu,bC){return oe?R.compareByKindAndScore(Uu,bC):R.compareByScore(Uu,bC)}),Fo=[],oe){cu=function(){za&&typeof dc=="number"&&to>0&&(za.label=Object(vr.v)(Pb[dc]||Ib,to))},dc=void 0,za=void 0,to=0,Qa=Object(G.a)(vo);try{for(Qa.s();!(ro=Qa.n()).done;)ys=ro.value,dc!==ys.kind?(cu(),dc=ys.kind,to=1,za={type:"separator"},Fo.push(za)):to++,Fo.push(ys)}catch(Uu){Qa.e(Uu)}finally{Qa.f()}cu()}else vo.length>0&&(Fo=[{label:Object(We.b)("symbols","symbols ({0})",Xt.length),type:"separator"}].concat(Object(on.a)(vo)));return Ds.abrupt("return",Fo);case 47:case"end":return Ds.stop()}},f,this)}))}},{key:"compareByScore",value:function(t,n){if(typeof t.score!="number"&&typeof n.score=="number")return 1;if(typeof t.score=="number"&&typeof n.score!="number")return-1;if(typeof t.score=="number"&&typeof n.score=="number"){if(t.score>n.score)return-1;if(t.score<n.score)return 1}return t.index<n.index?-1:t.index>n.index?1:0}},{key:"compareByKindAndScore",value:function(t,n){var r=Pb[t.kind]||Ib,l=Pb[n.kind]||Ib,c=r.localeCompare(l);return c===0?this.compareByScore(t,n):c}},{key:"getDocumentSymbols",value:function(t,n){return ag(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this._outlineModelService.getOrCreate(t,n);case 2:return l=h.sent,h.abrupt("return",n.isCancellationRequested?[]:l.asListOfDocumentSymbols());case 4:case"end":return h.stop()}},r,this)}))}}]),e}(nC);Hu.PREFIX="@",Hu.SCOPE_PREFIX=":",Hu.PREFIX_BY_CATEGORY="".concat(Hu.PREFIX).concat(Hu.SCOPE_PREFIX),Hu=kE([cC(0,$i.a),cC(1,Ag)],Hu);var Ib=Object(We.b)("property","properties ({0})"),Pb=(ss={},Object(rt.a)(ss,5,Object(We.b)("method","methods ({0})")),Object(rt.a)(ss,11,Object(We.b)("function","functions ({0})")),Object(rt.a)(ss,8,Object(We.b)("_constructor","constructors ({0})")),Object(rt.a)(ss,12,Object(We.b)("variable","variables ({0})")),Object(rt.a)(ss,4,Object(We.b)("class","classes ({0})")),Object(rt.a)(ss,22,Object(We.b)("struct","structs ({0})")),Object(rt.a)(ss,23,Object(We.b)("event","events ({0})")),Object(rt.a)(ss,24,Object(We.b)("operator","operators ({0})")),Object(rt.a)(ss,10,Object(We.b)("interface","interfaces ({0})")),Object(rt.a)(ss,2,Object(We.b)("namespace","namespaces ({0})")),Object(rt.a)(ss,3,Object(We.b)("package","packages ({0})")),Object(rt.a)(ss,25,Object(We.b)("typeParameter","type parameters ({0})")),Object(rt.a)(ss,1,Object(We.b)("modules","modules ({0})")),Object(rt.a)(ss,6,Object(We.b)("property","properties ({0})")),Object(rt.a)(ss,9,Object(We.b)("enum","enumerations ({0})")),Object(rt.a)(ss,21,Object(We.b)("enumMember","enumeration members ({0})")),Object(rt.a)(ss,14,Object(We.b)("string","strings ({0})")),Object(rt.a)(ss,0,Object(We.b)("file","files ({0})")),Object(rt.a)(ss,17,Object(We.b)("array","arrays ({0})")),Object(rt.a)(ss,15,Object(We.b)("number","numbers ({0})")),Object(rt.a)(ss,16,Object(We.b)("boolean","booleans ({0})")),Object(rt.a)(ss,18,Object(We.b)("object","objects ({0})")),Object(rt.a)(ss,19,Object(We.b)("key","keys ({0})")),Object(rt.a)(ss,7,Object(We.b)("field","fields ({0})")),Object(rt.a)(ss,13,Object(We.b)("constant","constants ({0})")),ss),DE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Ab=function(s,o){return function(e,i){o(e,i,s)}},Rb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n){var r;return Object(A.a)(this,e),r=o.call(this,t,n),r.editorService=i,r.onDidActiveTextEditorControlChange=ca.c.None,r}return Object(P.a)(e,[{key:"activeTextEditorControl",get:function(){return Object(ya.n)(this.editorService.getFocusedCodeEditor())}}]),e}(Hu);Rb=DE([Ab(0,zt.a),Ab(1,$i.a),Ab(2,Ag)],Rb);var Nb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,label:Ao.f.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:Ut.a.hasDocumentSymbolProvider,kbOpts:{kbExpr:Ut.a.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}return Object(P.a)(e,[{key:"run",value:function(t){t.get(yl.a).quickAccess.show(Hu.PREFIX,{itemActivation:yl.b.NONE})}}]),e}(wt.b);Nb.ID="editor.action.quickOutline",Object(wt.k)(Nb),Qs.a.as(ig.b.Quickaccess).registerQuickAccessProvider({ctor:Rb,prefix:Hu.PREFIX,helpEntries:[{description:Ao.f.quickOutlineActionLabel,prefix:Hu.PREFIX,commandId:Nb.ID},{description:Ao.f.quickOutlineByCategoryActionLabel,prefix:Hu.PREFIX_BY_CATEGORY}]});var wE=a("EJc0");function xb(s,o){return o&&(s.stack||s.stacktrace)?We.b("stackTrace.format","{0}: {1}",hC(s),dC(s.stack)||dC(s.stacktrace)):hC(s)}function dC(s){return Array.isArray(s)?s.join(`
`):s}function hC(s){return s.code==="ERR_UNC_HOST_NOT_ALLOWED"?"".concat(s.message,". Please update the 'security.allowedUNCHosts' setting if you want to allow this host."):typeof s.code=="string"&&typeof s.errno=="number"&&typeof s.syscall=="string"?We.b("nodeExceptionMessage","A system error occurred ({0})",s.message):s.message||We.b("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function fC(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!s)return We.b("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(s)){var e=Wn.f(s),i=fC(e[0],o);return e.length>1?We.b("error.moreErrors","{0} ({1} errors in total)",i,e.length):i}if(ya.i(s))return s;if(s.detail){var t=s.detail;if(t.error)return xb(t.error,o);if(t.exception)return xb(t.exception,o)}return s.stack?xb(s,o):s.message?s.message:We.b("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var og=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Yf;(function(s){s[s.NO_ACTION=0]="NO_ACTION",s[s.CLOSE_PICKER=1]="CLOSE_PICKER",s[s.REFRESH_PICKER=2]="REFRESH_PICKER",s[s.REMOVE_ITEM=3]="REMOVE_ITEM"})(Yf||(Yf={}));function Fb(s){var o=s;return Array.isArray(o.items)}function vC(s){var o=s;return!!o.picks&&o.additionalPicks instanceof Promise}var jE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n.prefix=i,n.options=t,n}return Object(P.a)(e,[{key:"provide",value:function(t,n,r){var l=this,c,h=new Ye.c;t.canAcceptInBackground=!!((c=this.options)===null||c===void 0?void 0:c.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;var f=void 0,R=h.add(new Ye.e),X=function(){return og(l,void 0,void 0,Object(d.a)().mark(function je(){var Me=this,st,gt,jt,Xt,sn,qn,Hn;return Object(d.a)().wrap(function(Ci){for(;;)switch(Ci.prev=Ci.next){case 0:if(st=R.value=new Ye.c,f==null||f.dispose(!0),t.busy=!1,f=new Zn.b(n),gt=f.token,jt=t.value.substr(this.prefix.length).trim(),Xt=this._getPicks(jt,st,gt,r),sn=function(Ai,jr){var dr,Dr,Kr=void 0;if(Fb(Ai)?(Dr=Ai.items,Kr=Ai.active):Dr=Ai,Dr.length===0){if(jr)return!1;(jt.length>0||t.hideInput)&&((dr=Me.options)===null||dr===void 0?void 0:dr.noResultsPick)&&(Object(ya.e)(Me.options.noResultsPick)?Dr=[Me.options.noResultsPick(jt)]:Dr=[Me.options.noResultsPick])}return t.items=Dr,Kr&&(t.activeItems=[Kr]),!0},qn=function(Ai){return og(Me,void 0,void 0,Object(d.a)().mark(function jr(){var dr=this,Dr,Kr;return Object(d.a)().wrap(function(xr){for(;;)switch(xr.prev=xr.next){case 0:return Dr=!1,Kr=!1,xr.next=4,Promise.all([function(){return og(dr,void 0,void 0,Object(d.a)().mark(function Pa(){return Object(d.a)().wrap(function(fa){for(;;)switch(fa.prev=fa.next){case 0:if(typeof Ai.mergeDelay!="number"){fa.next=5;break}return fa.next=3,Object(mt.q)(Ai.mergeDelay);case 3:if(!gt.isCancellationRequested){fa.next=5;break}return fa.abrupt("return");case 5:Kr||(Dr=sn(Ai.picks,!0));case 6:case"end":return fa.stop()}},Pa)}))}(),function(){return og(dr,void 0,void 0,Object(d.a)().mark(function Pa(){var Ca,fa,co,ls,vo,Fo,cu;return Object(d.a)().wrap(function(za){for(;;)switch(za.prev=za.next){case 0:return t.busy=!0,za.prev=1,za.next=4,Ai.additionalPicks;case 4:if(Ca=za.sent,!gt.isCancellationRequested){za.next=7;break}return za.abrupt("return");case 7:co=void 0,Fb(Ai.picks)?(fa=Ai.picks.items,co=Ai.picks.active):fa=Ai.picks,vo=void 0,Fb(Ca)?(ls=Ca.items,vo=Ca.active):ls=Ca,(ls.length>0||!Dr)&&(Fo=void 0,!co&&!vo&&(cu=t.activeItems[0],cu&&fa.indexOf(cu)!==-1&&(Fo=cu)),sn({items:[].concat(Object(on.a)(fa),Object(on.a)(ls)),active:co||vo||Fo}));case 12:return za.prev=12,gt.isCancellationRequested||(t.busy=!1),Kr=!0,za.finish(12);case 16:case"end":return za.stop()}},Pa,null,[[1,,12,16]])}))}()]);case 4:case"end":return xr.stop()}},jr)}))},Xt!==null){Ci.next=12;break}Ci.next=37;break;case 12:if(!vC(Xt)){Ci.next=17;break}return Ci.next=15,qn(Xt);case 15:Ci.next=37;break;case 17:if(Xt instanceof Promise){Ci.next=21;break}sn(Xt),Ci.next=37;break;case 21:return t.busy=!0,Ci.prev=22,Ci.next=25,Xt;case 25:if(Hn=Ci.sent,!gt.isCancellationRequested){Ci.next=28;break}return Ci.abrupt("return");case 28:if(!vC(Hn)){Ci.next=33;break}return Ci.next=31,qn(Hn);case 31:Ci.next=34;break;case 33:sn(Hn);case 34:return Ci.prev=34,gt.isCancellationRequested||(t.busy=!1),Ci.finish(34);case 37:case"end":return Ci.stop()}},je,this,[[22,,34,37]])}))};return h.add(t.onDidChangeValue(function(){return X()})),X(),h.add(t.onDidAccept(function(oe){var je=Object(O.a)(t.selectedItems,1),Me=je[0];typeof(Me==null?void 0:Me.accept)=="function"&&(oe.inBackground||t.hide(),Me.accept(t.keyMods,oe))})),h.add(t.onDidTriggerItemButton(function(oe){var je=oe.button,Me=oe.item;return og(l,void 0,void 0,Object(d.a)().mark(function st(){var gt,jt,Xt,sn,qn,Hn,fi,Ci,wi,Ai;return Object(d.a)().wrap(function(dr){for(;;)switch(dr.prev=dr.next){case 0:if(typeof Me.trigger!="function"){dr.next=25;break}if(Xt=(jt=(gt=Me.buttons)===null||gt===void 0?void 0:gt.indexOf(je))!==null&&jt!==void 0?jt:-1,!(Xt>=0)){dr.next=25;break}if(sn=Me.trigger(Xt,t.keyMods),typeof sn!="number"){dr.next=8;break}dr.t0=sn,dr.next=11;break;case 8:return dr.next=10,sn;case 10:dr.t0=dr.sent;case 11:if(qn=dr.t0,!n.isCancellationRequested){dr.next=14;break}return dr.abrupt("return");case 14:dr.t1=qn,dr.next=dr.t1===Yf.NO_ACTION?17:dr.t1===Yf.CLOSE_PICKER?18:dr.t1===Yf.REFRESH_PICKER?20:dr.t1===Yf.REMOVE_ITEM?22:25;break;case 17:return dr.abrupt("break",25);case 18:return t.hide(),dr.abrupt("break",25);case 20:return X(),dr.abrupt("break",25);case 22:return Hn=t.items.indexOf(Me),Hn!==-1&&(fi=t.items.slice(),Ci=fi.splice(Hn,1),wi=t.activeItems.filter(function(Dr){return Dr!==Ci[0]}),Ai=t.keepScrollPosition,t.keepScrollPosition=!0,t.items=fi,wi&&(t.activeItems=wi),t.keepScrollPosition=Ai),dr.abrupt("break",25);case 25:case"end":return dr.stop()}},st)}))})),h}}]),e}(Ye.a),gC=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Yh=function(s,o){return function(e,i){o(e,i,s)}},Bb=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},sg=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c){var h;return Object(A.a)(this,e),h=o.call(this,e.PREFIX,i),h.instantiationService=t,h.keybindingService=n,h.commandService=r,h.telemetryService=l,h.dialogService=c,h.commandsHistory=h._register(h.instantiationService.createInstance(Zh)),h.options=i,h}return Object(P.a)(e,[{key:"_getPicks",value:function(t,n,r,l){var c,h;return Bb(this,void 0,void 0,Object(d.a)().mark(function f(){var R=this,X,oe,je,Me,st,gt,jt,Xt,sn,qn,Hn,fi,Ci,wi,Ai,jr,dr;return Object(d.a)().wrap(function(Kr){for(;;)switch(Kr.prev=Kr.next){case 0:return Kr.next=2,this.getCommandPicks(r);case 2:if(X=Kr.sent,!r.isCancellationRequested){Kr.next=5;break}return Kr.abrupt("return",[]);case 5:oe=[],je=Object(G.a)(X);try{for(je.s();!(Me=je.n()).done;)st=Me.value,gt=Object(ya.n)(e.WORD_FILTER(t,st.label)),jt=st.commandAlias?Object(ya.n)(e.WORD_FILTER(t,st.commandAlias)):void 0,gt||jt?(st.highlights={label:gt,detail:this.options.showAlias?jt:void 0},oe.push(st)):t===st.commandId&&oe.push(st)}catch(pa){je.e(pa)}finally{je.f()}for(Xt=new Map,sn=0,qn=oe;sn<qn.length;sn++)Hn=qn[sn],fi=Xt.get(Hn.label),fi?(Hn.description=Hn.commandId,fi.description=fi.commandId):Xt.set(Hn.label,Hn);for(oe.sort(function(pa,xr){var Pa=R.commandsHistory.peek(pa.commandId),Ca=R.commandsHistory.peek(xr.commandId);if(Pa&&Ca)return Pa>Ca?-1:1;if(Pa)return-1;if(Ca)return 1;if(R.options.suggestedCommandIds){var fa=R.options.suggestedCommandIds.has(pa.commandId),co=R.options.suggestedCommandIds.has(xr.commandId);if(fa&&co)return 0;if(fa)return-1;if(co)return 1}return pa.label.localeCompare(xr.label)}),Ci=[],wi=!1,Ai=!!this.options.suggestedCommandIds,jr=0;jr<oe.length;jr++)dr=oe[jr],jr===0&&this.commandsHistory.peek(dr.commandId)&&(Ci.push({type:"separator",label:Object(We.b)("recentlyUsed","recently used")}),wi=!0),Ai&&!this.commandsHistory.peek(dr.commandId)&&((c=this.options.suggestedCommandIds)===null||c===void 0?void 0:c.has(dr.commandId))&&(Ci.push({type:"separator",label:Object(We.b)("commonlyUsed","commonly used")}),wi=!0,Ai=!1),wi&&!this.commandsHistory.peek(dr.commandId)&&!((h=this.options.suggestedCommandIds)===null||h===void 0?void 0:h.has(dr.commandId))&&(Ci.push({type:"separator",label:Object(We.b)("morecCommands","other commands")}),wi=!1),Ci.push(this.toCommandPick(dr,l));if(this.hasAdditionalCommandPicks(t,r)){Kr.next=17;break}return Kr.abrupt("return",Ci);case 17:return Kr.abrupt("return",{picks:Ci,additionalPicks:function(){return Bb(R,void 0,void 0,Object(d.a)().mark(function pa(){var xr=this,Pa;return Object(d.a)().wrap(function(fa){for(;;)switch(fa.prev=fa.next){case 0:return fa.next=2,this.getAdditionalCommandPicks(X,oe,t,r);case 2:if(Pa=fa.sent,!r.isCancellationRequested){fa.next=5;break}return fa.abrupt("return",[]);case 5:return fa.abrupt("return",Pa.map(function(co){return xr.toCommandPick(co,l)}));case 6:case"end":return fa.stop()}},pa,this)}))}()});case 18:case"end":return Kr.stop()}},f,this)}))}},{key:"toCommandPick",value:function(t,n){var r=this;if(t.type==="separator")return t;var l=this.keybindingService.lookupKeybinding(t.commandId),c=l?Object(We.b)("commandPickAriaLabelWithKeybinding","{0}, {1}",t.label,l.getAriaLabel()):t.label;return Object.assign(Object.assign({},t),{ariaLabel:c,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:l,accept:function(){return Bb(r,void 0,void 0,Object(d.a)().mark(function f(){var R;return Object(d.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:(R=n==null?void 0:n.from)!==null&&R!==void 0?R:"quick open"}),oe.prev=2,oe.next=5,this.commandService.executeCommand(t.commandId);case 5:oe.next=10;break;case 7:oe.prev=7,oe.t0=oe.catch(2),Object(Li.g)(oe.t0)||this.dialogService.error(Object(We.b)("canNotRun","Command '{0}' resulted in an error",t.label),fC(oe.t0));case 10:case"end":return oe.stop()}},f,this,[[2,7]])}))}})}}]),e}(jE);sg.PREFIX=">",sg.WORD_FILTER=Object(gs.l)(gs.i,gs.k,gs.g),sg=gC([Yh(1,ia.a),Yh(2,Mi.a),Yh(3,$r.b),Yh(4,Ka.a),Yh(5,Sb.a)],sg);var Zh=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t){var n;return Object(A.a)(this,e),n=o.call(this),n.storageService=i,n.configurationService=t,n.configuredCommandsHistoryLength=0,n.updateConfiguration(),n.load(),n.registerListeners(),n}return Object(P.a)(e,[{key:"registerListeners",value:function(){var t=this;this._register(this.configurationService.onDidChangeConfiguration(function(n){return t.updateConfiguration(n)}))}},{key:"updateConfiguration",value:function(t){t&&!t.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=e.getConfiguredCommandHistoryLength(this.configurationService),e.cache&&e.cache.limit!==this.configuredCommandsHistoryLength&&(e.cache.limit=this.configuredCommandsHistoryLength,e.saveState(this.storageService)))}},{key:"load",value:function(){var t=this.storageService.get(e.PREF_KEY_CACHE,0),n;if(t)try{n=JSON.parse(t)}catch(c){}var r=e.cache=new Xl.a(this.configuredCommandsHistoryLength,1);if(n){var l;n.usesLRU?l=n.entries:l=n.entries.sort(function(c,h){return c.value-h.value}),l.forEach(function(c){return r.set(c.key,c.value)})}e.counter=this.storageService.getNumber(e.PREF_KEY_COUNTER,0,e.counter)}},{key:"push",value:function(t){!e.cache||(e.cache.set(t,e.counter++),e.saveState(this.storageService))}},{key:"peek",value:function(t){var n;return(n=e.cache)===null||n===void 0?void 0:n.peek(t)}}],[{key:"saveState",value:function(t){if(!!e.cache){var n={usesLRU:!0,entries:[]};e.cache.forEach(function(r,l){return n.entries.push({key:l,value:r})}),t.store(e.PREF_KEY_CACHE,JSON.stringify(n),0,0),t.store(e.PREF_KEY_COUNTER,e.counter,0,0)}}},{key:"getConfiguredCommandHistoryLength",value:function(t){var n,r,l=t.getValue(),c=(r=(n=l.workbench)===null||n===void 0?void 0:n.commandPalette)===null||r===void 0?void 0:r.history;return typeof c=="number"?c:e.DEFAULT_COMMANDS_HISTORY_LENGTH}}]),e}(Ye.a);Zh.DEFAULT_COMMANDS_HISTORY_LENGTH=50,Zh.PREF_KEY_CACHE="commandPalette.mru.cache",Zh.PREF_KEY_COUNTER="commandPalette.mru.counter",Zh.counter=1,Zh=gC([Yh(0,el.a),Yh(1,Do.a)],Zh);var EE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c){return Object(A.a)(this,e),o.call(this,i,t,n,r,l,c)}return Object(P.a)(e,[{key:"getCodeEditorCommandPicks",value:function(){var t=this.activeTextEditorControl;if(!t)return[];var n=[],r=Object(G.a)(t.getSupportedActions()),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;n.push({commandId:c.id,commandAlias:c.alias,label:Object(wE.f)(c.label)||c.id})}}catch(h){r.e(h)}finally{r.f()}return n}}]),e}(sg),LE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Zf=function(s,o){return function(e,i){o(e,i,s)}},mC=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},lg=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c){var h;return Object(A.a)(this,e),h=o.call(this,{showAlias:!1},i,n,r,l,c),h.codeEditorService=t,h}return Object(P.a)(e,[{key:"activeTextEditorControl",get:function(){return Object(ya.n)(this.codeEditorService.getFocusedCodeEditor())}},{key:"getCommandPicks",value:function(){return mC(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.getCodeEditorCommandPicks());case 1:case"end":return r.stop()}},t,this)}))}},{key:"hasAdditionalCommandPicks",value:function(){return!1}},{key:"getAdditionalCommandPicks",value:function(){return mC(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",[]);case 1:case"end":return r.stop()}},t)}))}}]),e}(EE);lg=LE([Zf(0,ia.a),Zf(1,zt.a),Zf(2,Mi.a),Zf(3,$r.b),Zf(4,Ka.a),Zf(5,Sb.a)],lg);var Wb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){return Object(A.a)(this,e),o.call(this,{id:e.ID,label:Ao.d.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:Ut.a.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}return Object(P.a)(e,[{key:"run",value:function(t){t.get(yl.a).quickAccess.show(lg.PREFIX)}}]),e}(wt.b);Wb.ID="editor.action.quickCommand",Object(wt.k)(Wb),Qs.a.as(ig.b.Quickaccess).registerQuickAccessProvider({ctor:lg,prefix:lg.PREFIX,helpEntries:[{description:Ao.d.quickCommandHelp,commandId:Wb.ID}]});var ME=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Xf=function(s,o){return function(e,i){o(e,i,s)}},Vb=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(i,t,n,r,l,c,h){return Object(A.a)(this,e),o.call(this,!0,i,t,n,r,l,c,h)}return Object(P.a)(e)}(Cu);Vb=ME([Xf(1,Tn.b),Xf(2,zt.a),Xf(3,Ra.a),Xf(4,ia.a),Xf(5,el.a),Xf(6,Do.a)],Vb),Object(wt.m)(Cu.ID,Vb,4);var _m=a("e0E1"),TE=function(s){Object(Pt.a)(e,s);var o=Object(yt.a)(e);function e(){var i;return Object(A.a)(this,e),i=o.call(this,{id:"editor.action.toggleHighContrast",label:Ao.i.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),i._originalThemeName=null,i}return Object(P.a)(e,[{key:"run",value:function(t,n){var r=t.get(J0.a),l=r.getColorTheme();Object(jf.c)(l.type)?(r.setTheme(this._originalThemeName||(Object(jf.b)(l.type)?_m.d:_m.e)),this._originalThemeName=null):(r.setTheme(Object(jf.b)(l.type)?_m.a:_m.b),this._originalThemeName=l.themeName)}}]),e}(wt.b);Object(wt.k)(TE);var wa=a("nKUr");self.MonacoEnvironment={getWorkerUrl:function(o,e){return e==="json"?"./json.worker.bundle.js":e==="css"||e==="scss"||e==="less"?"./css.worker.bundle.js":e==="html"||e==="handlebars"||e==="razor"?"./html.worker.bundle.js":e==="typescript"||e==="javascript"?"./ts.worker.bundle.js":"./editor.worker.bundle.js"}};var IE=function(o){var e=o.onChange,i=o.language,t=o.value,n=o.height,r=o.isReadOnly,l=o.formVisible,c=Object(z.useRef)(null),h=Object(z.useRef)();return Object(z.useEffect)(function(){return c.current&&l&&(h.current=ke.editor.create(c.current,{language:i,value:t,readOnly:r||!1,lineNumbers:"on",roundedSelection:!1,scrollBeyondLastLine:!1,theme:"vs-dark",automaticLayout:!0}),h.current.onDidBlurEditorText(function(){e&&h.current&&e(h.current.getValue())})),function(){h.current&&(h.current.dispose(),h.current=void 0)}},[c,h,i,t,r,l]),Object(wa.jsx)("div",{style:{width:"100%",height:n||200+"px"},ref:c})},Hb=IE,pC=a("whJP"),PE=function(){var o=Object(z.useRef)(),e=x.a.useForm(),i=Object(O.a)(e,1),t=i[0],n=Object(z.useState)(),r=Object(O.a)(n,2),l=r[0],c=r[1],h=Object(z.useState)(!0),f=Object(O.a)(h,2),R=f[0],X=f[1],oe=Object(z.useState)(!1),je=Object(O.a)(oe,2),Me=je[0],st=je[1],gt=Object(z.useState)(!1),jt=Object(O.a)(gt,2),Xt=jt[0],sn=jt[1],qn=Object(z.useState)(!1),Hn=Object(O.a)(qn,2),fi=Hn[0],Ci=Hn[1],wi=Object(z.useState)(!1),Ai=Object(O.a)(wi,2),jr=Ai[0],dr=Ai[1],Dr=Object(z.useState)(!1),Kr=Object(O.a)(Dr,2),pa=Kr[0],xr=Kr[1],Pa=function(){var za=Object(D.a)(Object(d.a)().mark(function to(Qa){var ro,ys,ao;return Object(d.a)().wrap(function(Uu){for(;;)switch(Uu.prev=Uu.next){case 0:return Uu.next=2,Object(fe.a)("/aio/operator/list",Qa);case 2:return ao=Uu.sent,Uu.abrupt("return",{data:ao==null||(ro=ao.data)===null||ro===void 0?void 0:ro.list,total:ao==null||(ys=ao.data)===null||ys===void 0?void 0:ys.total,success:ao==null?void 0:ao.success});case 4:case"end":return Uu.stop()}},to)}));return function(Qa){return za.apply(this,arguments)}}(),Ca=function(){var za=Object(D.a)(Object(d.a)().mark(function to(){var Qa;return Object(d.a)().wrap(function(ys){for(;;)switch(ys.prev=ys.next){case 0:return t.resetFields(),ys.next=3,Object(fe.a)("/aio/operator/config/default");case 3:Qa=ys.sent,t.setFieldsValue(Qa==null?void 0:Qa.data),st(!0),X(!0);case 7:case"end":return ys.stop()}},to)}));return function(){return za.apply(this,arguments)}}(),fa=function(){var za=Object(D.a)(Object(d.a)().mark(function to(Qa,ro){var ys;return Object(d.a)().wrap(function(Ds){for(;;)switch(Ds.prev=Ds.next){case 0:return dr(!0),Ds.next=3,Object(fe.a)("/aio/operator/get",{id:Qa.id});case 3:ys=Ds.sent,ys!=null&&ys.success&&ro(ys.data),dr(!1);case 6:case"end":return Ds.stop()}},to)}));return function(Qa,ro){return za.apply(this,arguments)}}(),co=function(){var za=Object(D.a)(Object(d.a)().mark(function to(Qa){var ro;return Object(d.a)().wrap(function(ao){for(;;)switch(ao.prev=ao.next){case 0:return ao.next=2,Object(fe.b)(R?"/aio/operator/add":"/aio/operator/edit",Qa);case 2:ro=ao.sent,ro!=null&&ro.success&&(st(!1),H.default.success((R?"\u65B0\u5EFA":"\u4FEE\u6539")+"\u6210\u529F\uFF01"),o.current&&o.current.reload());case 4:case"end":return ao.stop()}},to)}));return function(Qa){return za.apply(this,arguments)}}(),ls=function(){var za=Object(D.a)(Object(d.a)().mark(function to(Qa){var ro;return Object(d.a)().wrap(function(ao){for(;;)switch(ao.prev=ao.next){case 0:return ao.next=2,Object(fe.b)("/aio/operator/remove",{id:Qa.id});case 2:ro=ao.sent,ro!=null&&ro.success&&(st(!1),H.default.success("\u5220\u9664\u6210\u529F\uFF01"),o.current&&o.current.reload());case 4:case"end":return ao.stop()}},to)}));return function(Qa){return za.apply(this,arguments)}}(),vo=function(){var za=Object(D.a)(Object(d.a)().mark(function to(Qa){var ro;return Object(d.a)().wrap(function(ao){for(;;)switch(ao.prev=ao.next){case 0:return xr(!0),ao.next=3,Object(fe.b)("/aio/api/online",{id:Qa.id,apiType:"OPERATOR"});case 3:ro=ao.sent,xr(!1),ro!=null&&ro.success&&(H.default.success("\u53D1\u5E03\u6210\u529F\uFF01"),o.current&&o.current.reload());case 6:case"end":return ao.stop()}},to)}));return function(Qa){return za.apply(this,arguments)}}(),Fo=function(){var za=Object(D.a)(Object(d.a)().mark(function to(Qa){var ro;return Object(d.a)().wrap(function(ao){for(;;)switch(ao.prev=ao.next){case 0:return ao.next=2,Object(fe.b)("/aio/api/offline",{id:Qa.id,apiType:"OPERATOR"});case 2:ro=ao.sent,ro!=null&&ro.success&&(H.default.success("\u4E0B\u7EBF\u6210\u529F\uFF01"),o.current&&o.current.reload());case 4:case"end":return ao.stop()}},to)}));return function(Qa){return za.apply(this,arguments)}}(),cu=function(){var za=Object(D.a)(Object(d.a)().mark(function to(Qa){var ro;return Object(d.a)().wrap(function(ao){for(;;)switch(ao.prev=ao.next){case 0:return ao.next=2,Object(fe.b)("/aio/api/invoke",{id:Qa.id,apiType:"OPERATOR",inputParam:Qa.inputParam});case 2:ro=ao.sent,ro!=null&&ro.success&&(H.default.success("\u8C03\u7528\u6210\u529F\uFF01"),t.setFieldsValue({outputParam:ro.data}));case 4:case"end":return ao.stop()}},to)}));return function(Qa){return za.apply(this,arguments)}}(),dc=[{title:"\u7B97\u5B50\u6807\u8BC6",dataIndex:"opCode",valueType:"textarea",render:function(to,Qa){return Object(wa.jsx)("a",{onClick:function(){c(void 0),fa(Qa,c),sn(!0)},children:to})}},{title:"\u7B97\u5B50\u540D\u79F0",dataIndex:"opName",valueType:"textarea"},{title:"\u7B97\u5B50\u72B6\u6001",dataIndex:"isDisabled",valueType:"textarea",search:!1,render:function(to){return Object(wa.jsx)("div",{children:to==1?"\u505C\u7528":"\u542F\u7528"})}},{title:"API\u72B6\u6001",dataIndex:"apiStatus",valueType:"textarea",search:!1,render:function(to){return Object(wa.jsx)("div",{children:to=="ONLINE"?"\u5728\u7EBF":to=="OFFLINE"?"\u79BB\u7EBF":"-"})}},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"gmtModified",valueType:"dateTime",search:!1},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(to,Qa){return[Object(wa.jsx)("a",{onClick:function(){t.resetFields(),X(!1),sn(!1),fa(Qa,t.setFieldsValue),st(!0)},children:"\u4FEE\u6539"},"edit"),Object(wa.jsx)("a",{onClick:function(){ls(Qa)},children:"\u5220\u9664"},"remove"),Object(wa.jsx)("a",{onClick:function(){vo(Qa)},children:"API\u4E0A\u7EBF"},"online"),Object(wa.jsx)("a",{onClick:function(){Fo(Qa)},children:"API\u4E0B\u7EBF"},"offline"),Object(wa.jsx)("a",{onClick:function(){t.resetFields(),t.setFieldsValue({id:Qa.id}),t.setFieldsValue({inputParam:Qa.inputParam}),Ci(!0)},children:"API\u8C03\u8BD5"},"invoke")]}}];return Object(wa.jsx)(ve.a,{spinning:pa,children:Object(wa.jsxs)(I.a,{children:[Object(wa.jsx)(de.a,{headerTitle:"\u7B97\u5B50\u5217\u8868",actionRef:o,bordered:!0,rowKey:"id",search:{labelWidth:65},toolBarRender:function(){return[Object(wa.jsxs)(W.a,{type:"primary",onClick:Ca,children:[Object(wa.jsx)(T.a,{}),"\u65B0\u5EFA"]},"primary")]},request:Pa,columns:dc,pagination:{pageSize:8}}),Object(wa.jsx)(we.a,{title:R?"\u65B0\u5EFA":"\u4FEE\u6539",width:720,onClose:function(){st(!1)},visible:Me,bodyStyle:{paddingBottom:80},footer:Object(wa.jsxs)("div",{style:{textAlign:"right"},children:[Object(wa.jsx)(W.a,{onClick:function(){st(!1)},style:{marginRight:8},children:"\u53D6\u6D88"}),Object(wa.jsx)(W.a,{type:"primary",onClick:function(){t.submit()},children:"\u63D0\u4EA4"})]}),children:Object(wa.jsx)(ve.a,{spinning:jr,children:Object(wa.jsxs)(x.a,{layout:"vertical",form:t,onFinish:co,children:[Object(wa.jsxs)(E.a,{gutter:16,children:[Object(wa.jsx)(ne.a,{span:12,children:Object(wa.jsx)(x.a.Item,{name:"opCode",label:"\u7B97\u5B50\u7F16\u7801",rules:[{required:!0}],children:Object(wa.jsx)(B.a,{disabled:!R,placeholder:"3~20\u4F4D\u5B57\u7B26\uFF0C\u53EA\u80FD\u5305\u542B\u82F1\u6587\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u4E0B\u5212\u7EBF"})})}),Object(wa.jsx)(ne.a,{span:12,children:Object(wa.jsx)(x.a.Item,{name:"opName",label:"\u7B97\u5B50\u540D\u79F0",rules:[{required:!0}],children:Object(wa.jsx)(B.a,{placeholder:"1~20\u4F4D\u5B57\u7B26"})})})]}),Object(wa.jsxs)(E.a,{gutter:16,children:[Object(wa.jsx)(ne.a,{span:12,children:Object(wa.jsx)(x.a.Item,{name:"algoLanguage",label:"\u7F16\u7A0B\u8BED\u8A00",rules:[{required:!0}],children:Object(wa.jsx)(_.a,{style:{width:"100%"},options:[{value:"python",label:"python"}]})})}),Object(wa.jsx)(ne.a,{span:12,children:Object(wa.jsx)(x.a.Item,{name:"isDisabled",label:"\u7B97\u5B50\u72B6\u6001",rules:[{required:!0}],children:Object(wa.jsxs)(te.a.Group,{children:[Object(wa.jsx)(te.a,{value:1,children:"\u505C\u7528"}),Object(wa.jsx)(te.a,{value:0,children:"\u542F\u7528"})]})})})]}),Object(wa.jsx)(E.a,{gutter:16,children:Object(wa.jsx)(ne.a,{span:24,children:Object(wa.jsx)(x.a.Item,{name:"algoCode",label:"\u7B97\u5B50\u4EE3\u7801",rules:[{required:!0}],children:Object(wa.jsx)(Hb,{height:200,language:t.getFieldValue("algoLanguage")||"python",value:t.getFieldValue("algoCode")||"",onChange:function(to){t.setFieldsValue({algoCode:to})},formVisible:Me})})})}),Object(wa.jsx)(E.a,{gutter:16,children:Object(wa.jsx)(ne.a,{span:24,children:Object(wa.jsx)(x.a.Item,{name:"inputParam",label:"\u7B97\u5B50\u5165\u53C2",rules:[{required:!0}],children:Object(wa.jsx)(Hb,{height:100,language:"json",value:t.getFieldValue("inputParam")||"{}",onChange:function(to){t.setFieldsValue({inputParam:to})},formVisible:Me})})})}),Object(wa.jsx)(E.a,{gutter:16,children:Object(wa.jsx)(ne.a,{span:24,children:Object(wa.jsx)(x.a.Item,{name:"outputParam",label:"\u7B97\u5B50\u51FA\u53C2",rules:[{required:!0}],children:Object(wa.jsx)(Hb,{height:100,language:"json",value:t.getFieldValue("outputParam")||"{}",onChange:function(to){t.setFieldsValue({outputParam:to})},formVisible:Me})})})}),Object(wa.jsx)(x.a.Item,{name:"id"})]})})}),Object(wa.jsx)(we.a,{width:720,visible:Xt,onClose:function(){c(void 0),sn(!1)},closable:!1,children:Object(wa.jsx)(pe.a,{column:2,title:"\u7B97\u5B50\u8BE6\u60C5",request:Object(D.a)(Object(d.a)().mark(function za(){return Object(d.a)().wrap(function(Qa){for(;;)switch(Qa.prev=Qa.next){case 0:return Qa.abrupt("return",{data:l||{}});case 1:case"end":return Qa.stop()}},za)})),params:{id:l==null?void 0:l.id},columns:dc})}),Object(wa.jsx)(we.a,{title:"API\u8C03\u8BD5",width:720,onClose:function(){Ci(!1)},visible:fi,bodyStyle:{paddingBottom:80},footer:Object(wa.jsxs)("div",{style:{textAlign:"right"},children:[Object(wa.jsx)(W.a,{onClick:function(){Ci(!1)},style:{marginRight:8},children:"\u53D6\u6D88"}),Object(wa.jsx)(W.a,{type:"primary",onClick:function(){t.submit()},children:"\u63D0\u4EA4"})]}),children:Object(wa.jsx)(ve.a,{spinning:jr,children:Object(wa.jsxs)(x.a,{layout:"vertical",form:t,onFinish:cu,children:[Object(wa.jsx)(E.a,{gutter:16,children:Object(wa.jsx)(ne.a,{span:24,children:Object(wa.jsx)(x.a.Item,{name:"inputParam",label:"\u7B97\u5B50\u5165\u53C2",children:Object(wa.jsx)(pC.a,{showCount:!0,maxLength:1e3,autoSize:!0})})})}),Object(wa.jsx)(E.a,{gutter:16,children:Object(wa.jsx)(ne.a,{span:24,children:Object(wa.jsx)(x.a.Item,{name:"outputParam",label:"\u7B97\u5B50\u51FA\u53C2",children:Object(wa.jsx)(pC.a,{showCount:!0,maxLength:1e3,autoSize:!0})})})}),Object(wa.jsx)(x.a.Item,{name:"id"})]})})})]})})},cL=U.default=PE},t49l:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("Cg/j"),we=Object(ce.c)("textModelService")},t4hb:function(mn,U,a){"use strict";a.d(U,"c",function(){return _}),a.d(U,"b",function(){return Y}),a.d(U,"a",function(){return Z});var ce=a("mtLc"),we=a("fWQN"),w=a("/cxE"),ve=a("VGTv"),se=a("5IQS"),te=a("pvvD"),$=a("lwGy"),_=Object(ce.a)(function ne(V,B,F,W,N){Object(we.a)(this,ne),this.length=V,this.kind=B,this.bracketId=F,this.bracketIds=W,this.astNode=N}),Y=function(){function ne(V,B){Object(we.a)(this,ne),this.textModel=V,this.bracketTokens=B,this.reader=new E(this.textModel,this.bracketTokens),this._offset=te.m,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=V.getLineCount(),this.textBufferLastLineLength=V.getLineLength(this.textBufferLineCount)}return Object(ce.a)(ne,[{key:"offset",get:function(){return this._offset}},{key:"length",get:function(){return Object(te.q)(this.textBufferLineCount-1,this.textBufferLastLineLength)}},{key:"skip",value:function(B){this.didPeek=!1,this._offset=Object(te.a)(this._offset,B);var F=Object(te.l)(this._offset);this.reader.setPosition(F.lineCount,F.columnCount)}},{key:"read",value:function(){var B;return this.peeked?(this.didPeek=!1,B=this.peeked):B=this.reader.read(),B&&(this._offset=Object(te.a)(this._offset,B.length)),B}},{key:"peek",value:function(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}]),ne}(),E=function(){function ne(V,B){Object(we.a)(this,ne),this.textModel=V,this.bracketTokens=B,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=V.getLineCount(),this.textBufferLastLineLength=V.getLineLength(this.textBufferLineCount)}return Object(ce.a)(ne,[{key:"setPosition",value:function(B,F){B===this.lineIdx?(this.lineCharOffset=F,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=B,this.lineCharOffset=F,this.line=null),this.peekedToken=null}},{key:"read",value:function(){if(this.peekedToken){var B=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=Object(te.e)(B.length),B}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));for(var F=this.lineIdx,W=this.lineCharOffset,N=0;;){var H=this.lineTokens,d=H.getCount(),D=null;if(this.lineTokenOffset<d){for(var C=H.getMetadata(this.lineTokenOffset);this.lineTokenOffset+1<d&&C===H.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;var x=ve.a.getTokenType(C)===0,O=ve.a.containsBalancedBrackets(C),T=H.getEndOffset(this.lineTokenOffset);if(O&&x&&this.lineCharOffset<T){var z=H.getLanguageId(this.lineTokenOffset),I=this.line.substring(this.lineCharOffset,T),de=this.bracketTokens.getSingleLanguageBracketTokens(z),pe=de.regExpGlobal;if(pe){pe.lastIndex=0;var fe=pe.exec(I);fe&&(D=de.getToken(fe[0]),D&&(this.lineCharOffset+=fe.index))}}if(N+=T-this.lineCharOffset,D)if(F!==this.lineIdx||W!==this.lineCharOffset){this.peekedToken=D;break}else return this.lineCharOffset+=Object(te.e)(D.length),D;else this.lineTokenOffset++,this.lineCharOffset=T}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,N+=33,N>1e3))break;if(N>1500)break}var ke=Object(te.b)(F,W,this.lineIdx,this.lineCharOffset);return new _(ke,0,-1,$.b.getEmpty(),new se.e(ke))}}]),ne}(),Z=function(){function ne(V,B){Object(we.a)(this,ne),this.text=V,this._offset=te.m,this.idx=0;for(var F=B.getRegExpStr(),W=F?new RegExp(F+`|
`,"gi"):null,N=[],H,d=0,D=0,C=0,x=0,O=[],T=0;T<60;T++)O.push(new _(Object(te.q)(0,T),0,-1,$.b.getEmpty(),new se.e(Object(te.q)(0,T))));for(var z=[],I=0;I<60;I++)z.push(new _(Object(te.q)(1,I),0,-1,$.b.getEmpty(),new se.e(Object(te.q)(1,I))));if(W)for(W.lastIndex=0;(H=W.exec(V))!==null;){var de=H.index,pe=H[0];if(pe===`
`)d++,D=de+1;else{if(C!==de){var fe=void 0;if(x===d){var ke=de-C;if(ke<O.length)fe=O[ke];else{var A=Object(te.q)(0,ke);fe=new _(A,0,-1,$.b.getEmpty(),new se.e(A))}}else{var P=d-x,G=de-D;if(P===1&&G<z.length)fe=z[G];else{var re=Object(te.q)(P,G);fe=new _(re,0,-1,$.b.getEmpty(),new se.e(re))}}N.push(fe)}N.push(B.getToken(pe)),C=de+pe.length,x=d}}var ae=V.length;if(C!==ae){var Q=x===d?Object(te.q)(0,ae-C):Object(te.q)(d-x,ae-D);N.push(new _(Q,0,-1,$.b.getEmpty(),new se.e(Q)))}this.length=Object(te.q)(d,ae-D),this.tokens=N}return Object(ce.a)(ne,[{key:"offset",get:function(){return this._offset}},{key:"read",value:function(){return this.tokens[this.idx++]||null}},{key:"peek",value:function(){return this.tokens[this.idx]||null}},{key:"skip",value:function(B){throw new w.c}}]),ne}()},t9D7:function(mn,U,a){"use strict";a.d(U,"b",function(){return E}),a.d(U,"f",function(){return Z}),a.d(U,"d",function(){return ne}),a.d(U,"a",function(){return V}),a.d(U,"e",function(){return W}),a.d(U,"c",function(){return N});var ce=a("yKVA"),we=a("879j"),w=a("fWQN"),ve=a("mtLc"),se=a("MI8n"),te=a("pmY6"),$=a("Cg/j"),_=a("ic2d"),Y=a("nEHx"),E=Object($.c)("themeService");function Z(H){return{id:H}}function ne(H){switch(H){case Y.a.DARK:return"vs-dark";case Y.a.HIGH_CONTRAST_DARK:return"hc-black";case Y.a.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}var V={ThemingContribution:"base.contributions.theming"},B=function(){function H(){Object(w.a)(this,H),this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new se.b}return Object(ve.a)(H,[{key:"onColorThemeChange",value:function(D){var C=this;return this.themingParticipants.push(D),this.onThemingParticipantAddedEmitter.fire(D),Object(te.l)(function(){var x=C.themingParticipants.indexOf(D);C.themingParticipants.splice(x,1)})}},{key:"getThemingParticipants",value:function(){return this.themingParticipants}}]),H}(),F=new B;_.a.add(V.ThemingContribution,F);function W(H){return F.onColorThemeChange(H)}var N=function(H){Object(ce.a)(D,H);var d=Object(we.a)(D);function D(C){var x;return Object(w.a)(this,D),x=d.call(this),x.themeService=C,x.theme=C.getColorTheme(),x._register(x.themeService.onDidColorThemeChange(function(O){return x.onThemeChange(O)})),x}return Object(ve.a)(D,[{key:"onThemeChange",value:function(x){this.theme=x,this.updateStyles()}},{key:"updateStyles",value:function(){}}]),D}(te.a)},tADe:function(mn,U,a){"use strict";a.d(U,"c",function(){return ve}),a.d(U,"a",function(){return se}),a.d(U,"b",function(){return te});var ce=a("S3by"),we=a("3/fG"),w=a("Cg/j"),ve;(function($){$[$.Hint=1]="Hint",$[$.Info=2]="Info",$[$.Warning=4]="Warning",$[$.Error=8]="Error"})(ve||(ve={})),function($){function _(V,B){return B-V}$.compare=_;var Y=Object.create(null);Y[$.Error]=Object(we.b)("sev.error","Error"),Y[$.Warning]=Object(we.b)("sev.warning","Warning"),Y[$.Info]=Object(we.b)("sev.info","Info");function E(V){return Y[V]||""}$.toString=E;function Z(V){switch(V){case ce.a.Error:return $.Error;case ce.a.Warning:return $.Warning;case ce.a.Info:return $.Info;case ce.a.Ignore:return $.Hint}}$.fromSeverity=Z;function ne(V){switch(V){case $.Error:return ce.a.Error;case $.Warning:return ce.a.Warning;case $.Info:return ce.a.Info;case $.Hint:return ce.a.Ignore}}$.toSeverity=ne}(ve||(ve={}));var se;(function($){var _="";function Y(Z){return E(Z,!0)}$.makeKey=Y;function E(Z,ne){var V=[_];return Z.source?V.push(Z.source.replace("\xA6","\\\xA6")):V.push(_),Z.code?typeof Z.code=="string"?V.push(Z.code.replace("\xA6","\\\xA6")):V.push(Z.code.value.replace("\xA6","\\\xA6")):V.push(_),Z.severity!==void 0&&Z.severity!==null?V.push(ve.toString(Z.severity)):V.push(_),Z.message&&ne?V.push(Z.message.replace("\xA6","\\\xA6")):V.push(_),Z.startLineNumber!==void 0&&Z.startLineNumber!==null?V.push(Z.startLineNumber.toString()):V.push(_),Z.startColumn!==void 0&&Z.startColumn!==null?V.push(Z.startColumn.toString()):V.push(_),Z.endLineNumber!==void 0&&Z.endLineNumber!==null?V.push(Z.endLineNumber.toString()):V.push(_),Z.endColumn!==void 0&&Z.endColumn!==null?V.push(Z.endColumn.toString()):V.push(_),V.push(_),V.join("\xA6")}$.makeKeyOptionalMessage=E})(se||(se={}));var te=Object(w.c)("markerService")},tPKf:function(mn,U,a){},tReJ:function(mn,U,a){"use strict";var ce=a("y8nQ"),we=a("Vl3Y"),w=a("Ff2n"),ve=a("VTBJ"),se=a("Q9mQ"),te=a("diRs"),$=a("GNNt"),_=a("wEI+"),Y=a("ODXe"),E=a("nKUr"),Z=a.n(E),ne=a("ye1Q"),V=a("q1tI"),B=a.n(V),F=a("hGVw"),W=a.n(F),N=["label","rules","name","children","popoverProps"],H=["errorType","rules","name","popoverProps","children"],d={marginTop:-5,marginBottom:-5,marginLeft:0,marginRight:0},D=function(O){var T=O.inputProps,z=O.input,I=O.extra,de=O.errorList,pe=O.popoverProps,fe=Object(V.useState)(!1),ke=Object(Y.a)(fe,2),A=ke[0],P=ke[1],G=Object(V.useState)([]),re=Object(Y.a)(G,2),ae=re[0],Q=re[1],J=Object(V.useContext)(_.a.ConfigContext),me=J.getPrefixCls;Object(V.useEffect)(function(){T.validateStatus!=="validating"&&Q(T.errors)},[T.errors,T.validateStatus]);var ge=me();return Object(E.jsx)(te.a,Object(ve.a)(Object(ve.a)({trigger:(pe==null?void 0:pe.trigger)||"focus",placement:(pe==null?void 0:pe.placement)||"topRight",visible:ae.length<1?!1:A,onVisibleChange:function(De){De!==A&&P(De)},getPopupContainer:pe==null?void 0:pe.getPopupContainer,getTooltipContainer:pe==null?void 0:pe.getTooltipContainer,content:Object(E.jsxs)("div",{className:"".concat(ge,"-form-item-with-help"),children:[T.validateStatus==="validating"?Object(E.jsx)(ne.a,{}):null,de]})},pe),{},{children:Object(E.jsxs)("div",{children:[z,I]})}),"popover")},C=function(O){var T=O.label,z=O.rules,I=O.name,de=O.children,pe=O.popoverProps,fe=Object(w.a)(O,N);return Object(E.jsx)(we.a.Item,Object(ve.a)(Object(ve.a)({preserve:!1,name:I,rules:z,hasFeedback:!0,_internalItemRender:{mark:"pro_table_render",render:function(A,P){return Object(E.jsx)(D,Object(ve.a)({inputProps:A,popoverProps:pe},P))}}},fe),{},{style:Object(ve.a)(Object(ve.a)({},d),fe==null?void 0:fe.style),children:de}))};U.a=function(x){var O=x.errorType,T=x.rules,z=x.name,I=x.popoverProps,de=x.children,pe=Object(w.a)(x,H);return z&&(T==null?void 0:T.length)&&O==="popover"?Object(E.jsx)(C,Object(ve.a)(Object(ve.a)({name:z,rules:T,popoverProps:I},pe),{},{children:de})):Object(E.jsx)(we.a.Item,Object(ve.a)(Object(ve.a)({rules:T},pe),{},{style:Object(ve.a)(Object(ve.a)({},d),pe.style),name:z,children:de}))}},tTk5:function(mn,U,a){"use strict";a.d(U,"b",function(){return ve}),a.d(U,"c",function(){return te}),a.d(U,"a",function(){return $});var ce=a("fWQN"),we=a("mtLc"),w=a("Cg/j"),ve=Object(w.c)("progressService"),se=Object.freeze({total:function(){},worked:function(){},done:function(){}}),te=function(){function _(Y){Object(ce.a)(this,_),this.callback=Y}return Object(we.a)(_,[{key:"report",value:function(E){this._value=E,this.callback(this._value)}}]),_}();te.None=Object.freeze({report:function(){}});var $=Object(w.c)("editorProgressService")},tU7J:function(mn,U,a){"use strict";var ce=a("EFp3"),we=a.n(ce),w=a("/qDX"),ve=a.n(w),se=a("5NDa"),te=a("5Dmo")},tX9W:function(mn,U,a){"use strict";a.d(U,"c",function(){return $i}),a.d(U,"a",function(){return Go}),a.d(U,"b",function(){return lo});var ce=a("rAM+"),we=a("tJVT"),w=a("tS8v"),ve=a("w4Tj"),se=a("oZsa"),te=a("yKVA"),$=a("879j"),_=a("fWQN"),Y=a("mtLc"),E=a("6OMU"),Z=a("zrhQ"),ne=a("/cxE"),V=a("MI8n"),B=a("pmY6"),F=a("N0LK"),W=a("bY76"),N=a("CsXQ"),H=a("QgJK"),d=a("cGHE"),D=a("aokT"),C=a("gCVg"),x=a("vX7u"),O=a("CGdd"),T=a("AYRw"),z=a("M1Kb"),I=a("p1iI"),de=a("g/5D"),pe=Object(Y.a)(function Rt(tt,_e,ee,j){Object(_.a)(this,Rt),this.range=tt,this.nestingLevel=_e,this.nestingLevelOfEqualBracketType=ee,this.isInvalid=j}),fe=function(){function Rt(tt,_e,ee,j,k,K){Object(_.a)(this,Rt),this.range=tt,this.openingBracketRange=_e,this.closingBracketRange=ee,this.nestingLevel=j,this.nestingLevelOfEqualBracketType=k,this.bracketPairNode=K}return Object(Y.a)(Rt,[{key:"openingBracketInfo",get:function(){return this.bracketPairNode.openingBracket.bracketInfo}}]),Rt}(),ke=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee,j,k,K,ue,xe,Ve){var ut;return Object(_.a)(this,_e),ut=tt.call(this,ee,j,k,K,ue,xe),ut.minVisibleColumnIndentation=Ve,ut}return Object(Y.a)(_e)}(fe),A=a("DZFm"),P=a("bzmS"),G=a("pvvD"),re=a("pdYq"),ae=a("lwGy"),Q=a("t4hb");function J(Rt,tt){if(Rt.length===0)return tt;if(tt.length===0)return Rt;var _e=new E.a(ge(Rt)),ee=ge(tt);ee.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});var j=_e.dequeue();function k(er){if(er===void 0){var Mi=_e.takeWhile(function(Tr){return!0})||[];return j&&Mi.unshift(j),Mi}for(var wr=[];j&&!Object(G.h)(er);){var hr=j.splitAt(er),xi=Object(we.a)(hr,2),Ar=xi[0],zr=xi[1];wr.push(Ar),er=Object(G.c)(Ar.lengthAfter,er),j=zr!=null?zr:_e.dequeue()}return Object(G.h)(er)||wr.push(new me(!1,er,er)),wr}var K=[];function ue(er,Mi,wr){if(K.length>0&&Object(G.d)(K[K.length-1].endOffset,er)){var hr=K[K.length-1];K[K.length-1]=new A.b(hr.startOffset,Mi,Object(G.a)(hr.newLength,wr))}else K.push({startOffset:er,endOffset:Mi,newLength:wr})}var xe=G.m,Ve=Object(ce.a)(ee),ut;try{for(Ve.s();!(ut=Ve.n()).done;){var _t=ut.value,xt=k(_t.lengthBefore);if(_t.modified){var un=Object(G.p)(xt,function(er){return er.lengthBefore}),ln=Object(G.a)(xe,un);ue(xe,ln,_t.lengthAfter),xe=ln}else{var nn=Object(ce.a)(xt),bn;try{for(nn.s();!(bn=nn.n()).done;){var An=bn.value,It=xe;xe=Object(G.a)(xe,An.lengthBefore),An.modified&&ue(It,xe,An.lengthAfter)}}catch(er){nn.e(er)}finally{nn.f()}}}}catch(er){Ve.e(er)}finally{Ve.f()}return K}var me=function(){function Rt(tt,_e,ee){Object(_.a)(this,Rt),this.modified=tt,this.lengthBefore=_e,this.lengthAfter=ee}return Object(Y.a)(Rt,[{key:"splitAt",value:function(_e){var ee=Object(G.c)(_e,this.lengthAfter);return Object(G.d)(ee,G.m)?[this,void 0]:this.modified?[new Rt(this.modified,this.lengthBefore,_e),new Rt(this.modified,G.m,ee)]:[new Rt(this.modified,_e,_e),new Rt(this.modified,ee,ee)]}},{key:"toString",value:function(){return"".concat(this.modified?"M":"U",":").concat(Object(G.l)(this.lengthBefore)," -> ").concat(Object(G.l)(this.lengthAfter))}}]),Rt}();function ge(Rt){var tt=[],_e=G.m,ee=Object(ce.a)(Rt),j;try{for(ee.s();!(j=ee.n()).done;){var k=j.value,K=Object(G.c)(_e,k.startOffset);Object(G.h)(K)||tt.push(new me(!1,K,K));var ue=Object(G.c)(k.startOffset,k.endOffset);tt.push(new me(!0,ue,k.newLength)),_e=k.endOffset}}catch(xe){ee.e(xe)}finally{ee.f()}return tt}var L=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee,j){var k;if(Object(_.a)(this,_e),k=tt.call(this),k.textModel=ee,k.getLanguageConfiguration=j,k.didChangeEmitter=new V.b,k.denseKeyProvider=new ae.a,k.brackets=new P.a(k.denseKeyProvider,k.getLanguageConfiguration),k.onDidChange=k.didChangeEmitter.event,k.queuedTextEditsForInitialAstWithoutTokens=[],k.queuedTextEdits=[],ee.tokenization.hasTokens)ee.tokenization.backgroundTokenizationState===2?(k.initialAstWithoutTokens=void 0,k.astWithTokens=k.parseDocumentFromTextBuffer([],void 0,!1)):(k.initialAstWithoutTokens=k.parseDocumentFromTextBuffer([],void 0,!0),k.astWithTokens=k.initialAstWithoutTokens);else{var K=k.brackets.getSingleLanguageBracketTokens(k.textModel.getLanguageId()),ue=new Q.a(k.textModel.getValue(),K);k.initialAstWithoutTokens=Object(re.a)(ue,[],void 0,!0),k.astWithTokens=k.initialAstWithoutTokens}return k}return Object(Y.a)(_e,[{key:"didLanguageChange",value:function(j){return this.brackets.didLanguageChange(j)}},{key:"handleDidChangeBackgroundTokenizationState",value:function(){if(this.textModel.tokenization.backgroundTokenizationState===2){var j=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,j||this.didChangeEmitter.fire()}}},{key:"handleDidChangeTokens",value:function(j){var k=j.ranges,K=k.map(function(ue){return new A.b(Object(G.q)(ue.fromLineNumber-1,0),Object(G.q)(ue.toLineNumber,0),Object(G.q)(ue.toLineNumber-ue.fromLineNumber+1,0))});this.handleEdits(K,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}},{key:"handleContentChanged",value:function(j){var k=A.b.fromModelContentChanges(j.changes);this.handleEdits(k,!1)}},{key:"handleEdits",value:function(j,k){var K=J(this.queuedTextEdits,j);this.queuedTextEdits=K,this.initialAstWithoutTokens&&!k&&(this.queuedTextEditsForInitialAstWithoutTokens=J(this.queuedTextEditsForInitialAstWithoutTokens,j))}},{key:"flushQueue",value:function(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}},{key:"parseDocumentFromTextBuffer",value:function(j,k,K){var ue=!1,xe=ue?k==null?void 0:k.deepClone():k,Ve=new Q.b(this.textModel,this.brackets),ut=Object(re.a)(Ve,j,xe,K);return ut}},{key:"getBracketsInRange",value:function(j,k){var K=this;this.flushQueue();var ue=Object(G.q)(j.startLineNumber-1,j.startColumn-1),xe=Object(G.q)(j.endLineNumber-1,j.endColumn-1);return new E.b(function(Ve){var ut=K.initialAstWithoutTokens||K.astWithTokens;Oe(ut,G.m,ut.length,ue,xe,Ve,0,0,new Map,k)})}},{key:"getBracketPairsInRange",value:function(j,k){var K=this;this.flushQueue();var ue=Object(G.o)(j.getStartPosition()),xe=Object(G.o)(j.getEndPosition());return new E.b(function(Ve){var ut=K.initialAstWithoutTokens||K.astWithTokens,_t=new Pe(Ve,k,K.textModel);Ne(ut,G.m,ut.length,ue,xe,_t,0,new Map)})}},{key:"getFirstBracketAfter",value:function(j){this.flushQueue();var k=this.initialAstWithoutTokens||this.astWithTokens;return Ae(k,G.m,k.length,Object(G.o)(j))}},{key:"getFirstBracketBefore",value:function(j){this.flushQueue();var k=this.initialAstWithoutTokens||this.astWithTokens;return De(k,G.m,k.length,Object(G.o)(j))}}]),_e}(B.a);function De(Rt,tt,_e,ee){if(Rt.kind===4||Rt.kind===2){var j=[],k=Object(ce.a)(Rt.children),K;try{for(k.s();!(K=k.n()).done;){var ue=K.value;_e=Object(G.a)(tt,ue.length),j.push({nodeOffsetStart:tt,nodeOffsetEnd:_e}),tt=_e}}catch(ln){k.e(ln)}finally{k.f()}for(var xe=j.length-1;xe>=0;xe--){var Ve=j[xe],ut=Ve.nodeOffsetStart,_t=Ve.nodeOffsetEnd;if(Object(G.i)(ut,ee)){var xt=De(Rt.children[xe],ut,_t,ee);if(xt)return xt}}return null}else{if(Rt.kind===3)return null;if(Rt.kind===1){var un=Object(G.n)(tt,_e);return{bracketInfo:Rt.bracketInfo,range:un}}}return null}function Ae(Rt,tt,_e,ee){if(Rt.kind===4||Rt.kind===2){var j=Object(ce.a)(Rt.children),k;try{for(j.s();!(k=j.n()).done;){var K=k.value;if(_e=Object(G.a)(tt,K.length),Object(G.i)(ee,_e)){var ue=Ae(K,tt,_e,ee);if(ue)return ue}tt=_e}}catch(Ve){j.e(Ve)}finally{j.f()}return null}else{if(Rt.kind===3)return null;if(Rt.kind===1){var xe=Object(G.n)(tt,_e);return{bracketInfo:Rt.bracketInfo,range:xe}}}return null}function Oe(Rt,tt,_e,ee,j,k,K,ue,xe,Ve){var ut=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!1;if(K>200)return!0;e:for(;;)switch(Rt.kind){case 4:{for(var _t=Rt.childrenLength,xt=0;xt<_t;xt++){var un=Rt.getChild(xt);if(!!un){if(_e=Object(G.a)(tt,un.length),Object(G.j)(tt,j)&&Object(G.g)(_e,ee)){var ln=Object(G.g)(_e,j);if(ln){Rt=un;continue e}var nn=Oe(un,tt,_e,ee,j,k,K,0,xe,Ve);if(!nn)return!1}tt=_e}}return!0}case 2:{var bn=!Ve||!Rt.closingBracket||Rt.closingBracket.bracketInfo.closesColorized(Rt.openingBracket.bracketInfo),An=0;if(xe){var It=xe.get(Rt.openingBracket.text);It===void 0&&(It=0),An=It,bn&&(It++,xe.set(Rt.openingBracket.text,It))}for(var er=Rt.childrenLength,Mi=0;Mi<er;Mi++){var wr=Rt.getChild(Mi);if(!!wr){if(_e=Object(G.a)(tt,wr.length),Object(G.j)(tt,j)&&Object(G.g)(_e,ee)){var hr=Object(G.g)(_e,j);if(hr&&wr.kind!==1){Rt=wr,bn?(K++,ue=An+1):ue=An;continue e}if(bn||wr.kind!==1||!Rt.closingBracket){var xi=Oe(wr,tt,_e,ee,j,k,bn?K+1:K,bn?An+1:An,xe,Ve,!Rt.closingBracket);if(!xi)return!1}}tt=_e}}return xe==null||xe.set(Rt.openingBracket.text,An),!0}case 3:{var Ar=Object(G.n)(tt,_e);return k(new pe(Ar,K-1,0,!0))}case 1:{var zr=Object(G.n)(tt,_e);return k(new pe(zr,K-1,ue-1,ut))}case 0:return!0}}var Pe=Object(Y.a)(function Rt(tt,_e,ee){Object(_.a)(this,Rt),this.push=tt,this.includeMinIndentation=_e,this.textModel=ee});function Ne(Rt,tt,_e,ee,j,k,K,ue){var xe;if(K>200)return!0;var Ve=!0;if(Rt.kind===2){var ut=0;if(ue){var _t=ue.get(Rt.openingBracket.text);_t===void 0&&(_t=0),ut=_t,_t++,ue.set(Rt.openingBracket.text,_t)}var xt=Object(G.a)(tt,Rt.openingBracket.length),un=-1;if(k.includeMinIndentation&&(un=Rt.computeMinIndentation(tt,k.textModel)),Ve=k.push(new ke(Object(G.n)(tt,_e),Object(G.n)(tt,xt),Rt.closingBracket?Object(G.n)(Object(G.a)(xt,((xe=Rt.child)===null||xe===void 0?void 0:xe.length)||G.m),_e):void 0,K,ut,Rt,un)),tt=xt,Ve&&Rt.child){var ln=Rt.child;if(_e=Object(G.a)(tt,ln.length),Object(G.j)(tt,j)&&Object(G.g)(_e,ee)&&(Ve=Ne(ln,tt,_e,ee,j,k,K+1,ue),!Ve))return!1}ue==null||ue.set(Rt.openingBracket.text,ut)}else{var nn=tt,bn=Object(ce.a)(Rt.children),An;try{for(bn.s();!(An=bn.n()).done;){var It=An.value,er=nn;if(nn=Object(G.a)(nn,It.length),Object(G.j)(er,j)&&Object(G.j)(ee,nn)&&(Ve=Ne(It,er,nn,ee,j,k,K,ue),!Ve))return!1}}catch(Mi){bn.e(Mi)}finally{bn.f()}}return Ve}var Fe=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee,j){var k;return Object(_.a)(this,_e),k=tt.call(this),k.textModel=ee,k.languageConfigurationService=j,k.bracketPairsTree=k._register(new B.e),k.onDidChangeEmitter=new V.b,k.onDidChange=k.onDidChangeEmitter.event,k.bracketsRequested=!1,k._register(k.languageConfigurationService.onDidChange(function(K){var ue;(!K.languageId||((ue=k.bracketPairsTree.value)===null||ue===void 0?void 0:ue.object.didLanguageChange(K.languageId)))&&(k.bracketPairsTree.clear(),k.updateBracketPairsTree())})),k}return Object(Y.a)(_e,[{key:"canBuildAST",get:function(){var j=5e4*100;return this.textModel.getValueLength()<=j}},{key:"handleDidChangeOptions",value:function(j){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}},{key:"handleDidChangeLanguage",value:function(j){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}},{key:"handleDidChangeContent",value:function(j){var k;(k=this.bracketPairsTree.value)===null||k===void 0||k.object.handleContentChanged(j)}},{key:"handleDidChangeBackgroundTokenizationState",value:function(){var j;(j=this.bracketPairsTree.value)===null||j===void 0||j.object.handleDidChangeBackgroundTokenizationState()}},{key:"handleDidChangeTokens",value:function(j){var k;(k=this.bracketPairsTree.value)===null||k===void 0||k.object.handleDidChangeTokens(j)}},{key:"updateBracketPairsTree",value:function(){var j=this;if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){var k=new B.c;this.bracketPairsTree.value=Xe(k.add(new L(this.textModel,function(K){return j.languageConfigurationService.getLanguageConfiguration(K)})),k),k.add(this.bracketPairsTree.value.object.onDidChange(function(K){return j.onDidChangeEmitter.fire(K)})),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}},{key:"getBracketPairsInRange",value:function(j){var k;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((k=this.bracketPairsTree.value)===null||k===void 0?void 0:k.object.getBracketPairsInRange(j,!1))||E.b.empty}},{key:"getBracketPairsInRangeWithMinIndentation",value:function(j){var k;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((k=this.bracketPairsTree.value)===null||k===void 0?void 0:k.object.getBracketPairsInRange(j,!0))||E.b.empty}},{key:"getBracketsInRange",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((K=this.bracketPairsTree.value)===null||K===void 0?void 0:K.object.getBracketsInRange(j,k))||E.b.empty}},{key:"findMatchingBracketUp",value:function(j,k,K){var ue=this.textModel.validatePosition(k),xe=this.textModel.getLanguageIdAtPosition(ue.lineNumber,ue.column);if(this.canBuildAST){var Ve=this.languageConfigurationService.getLanguageConfiguration(xe).bracketsNew.getClosingBracketInfo(j);if(!Ve)return null;var ut=this.getBracketPairsInRange(D.a.fromPositions(k,k)).findLast(function(ln){return Ve.closes(ln.openingBracketInfo)});return ut?ut.openingBracketRange:null}else{var _t=j.toLowerCase(),xt=this.languageConfigurationService.getLanguageConfiguration(xe).brackets;if(!xt)return null;var un=xt.textIsBracket[_t];return un?Ot(this._findMatchingBracketUp(un,ue,Et(K))):null}}},{key:"matchBracket",value:function(j,k){if(this.canBuildAST){var K=this.getBracketPairsInRange(D.a.fromPositions(j,j)).filter(function(xe){return xe.closingBracketRange!==void 0&&(xe.openingBracketRange.containsPosition(j)||xe.closingBracketRange.containsPosition(j))}).findLastMaxBy(Object(E.h)(function(xe){return xe.openingBracketRange.containsPosition(j)?xe.openingBracketRange:xe.closingBracketRange},D.a.compareRangesUsingStarts));return K?[K.openingBracketRange,K.closingBracketRange]:null}else{var ue=Et(k);return this._matchBracket(this.textModel.validatePosition(j),ue)}}},{key:"_establishBracketSearchOffsets",value:function(j,k,K,ue){for(var xe=k.getCount(),Ve=k.getLanguageId(ue),ut=Math.max(0,j.column-1-K.maxBracketLength),_t=ue-1;_t>=0;_t--){var xt=k.getEndOffset(_t);if(xt<=ut)break;if(Object(I.b)(k.getStandardTokenType(_t))||k.getLanguageId(_t)!==Ve){ut=xt;break}}for(var un=Math.min(k.getLineContent().length,j.column-1+K.maxBracketLength),ln=ue+1;ln<xe;ln++){var nn=k.getStartOffset(ln);if(nn>=un)break;if(Object(I.b)(k.getStandardTokenType(ln))||k.getLanguageId(ln)!==Ve){un=nn;break}}return{searchStartOffset:ut,searchEndOffset:un}}},{key:"_matchBracket",value:function(j,k){var K=j.lineNumber,ue=this.textModel.tokenization.getLineTokens(K),xe=this.textModel.getLineContent(K),Ve=ue.findTokenIndexAtOffset(j.column-1);if(Ve<0)return null;var ut=this.languageConfigurationService.getLanguageConfiguration(ue.getLanguageId(Ve)).brackets;if(ut&&!Object(I.b)(ue.getStandardTokenType(Ve))){for(var _t=this._establishBracketSearchOffsets(j,ue,ut,Ve),xt=_t.searchStartOffset,un=_t.searchEndOffset,ln=null;;){var nn=de.a.findNextBracketInRange(ut.forwardRegex,K,xe,xt,un);if(!nn)break;if(nn.startColumn<=j.column&&j.column<=nn.endColumn){var bn=xe.substring(nn.startColumn-1,nn.endColumn-1).toLowerCase(),An=this._matchFoundBracket(nn,ut.textIsBracket[bn],ut.textIsOpenBracket[bn],k);if(An){if(An instanceof Ft)return null;ln=An}}xt=nn.endColumn-1}if(ln)return ln}if(Ve>0&&ue.getStartOffset(Ve)===j.column-1){var It=Ve-1,er=this.languageConfigurationService.getLanguageConfiguration(ue.getLanguageId(It)).brackets;if(er&&!Object(I.b)(ue.getStandardTokenType(It))){var Mi=this._establishBracketSearchOffsets(j,ue,er,It),wr=Mi.searchStartOffset,hr=Mi.searchEndOffset,xi=de.a.findPrevBracketInRange(er.reversedRegex,K,xe,wr,hr);if(xi&&xi.startColumn<=j.column&&j.column<=xi.endColumn){var Ar=xe.substring(xi.startColumn-1,xi.endColumn-1).toLowerCase(),zr=this._matchFoundBracket(xi,er.textIsBracket[Ar],er.textIsOpenBracket[Ar],k);if(zr)return zr instanceof Ft?null:zr}}}return null}},{key:"_matchFoundBracket",value:function(j,k,K,ue){if(!k)return null;var xe=K?this._findMatchingBracketDown(k,j.getEndPosition(),ue):this._findMatchingBracketUp(k,j.getStartPosition(),ue);return xe?xe instanceof Ft?xe:[j,xe]:null}},{key:"_findMatchingBracketUp",value:function(j,k,K){for(var ue=j.languageId,xe=j.reversedRegex,Ve=-1,ut=0,_t=function(Ar,zr,Tr,ba){for(;;){if(K&&++ut%100==0&&!K())return Ft.INSTANCE;var Sa=de.a.findPrevBracketInRange(xe,Ar,zr,Tr,ba);if(!Sa)break;var Va=zr.substring(Sa.startColumn-1,Sa.endColumn-1).toLowerCase();if(j.isOpen(Va)?Ve++:j.isClose(Va)&&Ve--,Ve===0)return Sa;ba=Sa.startColumn-1}return null},xt=k.lineNumber;xt>=1;xt--){var un=this.textModel.tokenization.getLineTokens(xt),ln=un.getCount(),nn=this.textModel.getLineContent(xt),bn=ln-1,An=nn.length,It=nn.length;xt===k.lineNumber&&(bn=un.findTokenIndexAtOffset(k.column-1),An=k.column-1,It=k.column-1);for(var er=!0;bn>=0;bn--){var Mi=un.getLanguageId(bn)===ue&&!Object(I.b)(un.getStandardTokenType(bn));if(Mi)er?An=un.getStartOffset(bn):(An=un.getStartOffset(bn),It=un.getEndOffset(bn));else if(er&&An!==It){var wr=_t(xt,nn,An,It);if(wr)return wr}er=Mi}if(er&&An!==It){var hr=_t(xt,nn,An,It);if(hr)return hr}}return null}},{key:"_findMatchingBracketDown",value:function(j,k,K){for(var ue=j.languageId,xe=j.forwardRegex,Ve=1,ut=0,_t=function(zr,Tr,ba,Sa){for(;;){if(K&&++ut%100==0&&!K())return Ft.INSTANCE;var Va=de.a.findNextBracketInRange(xe,zr,Tr,ba,Sa);if(!Va)break;var Ja=Tr.substring(Va.startColumn-1,Va.endColumn-1).toLowerCase();if(j.isOpen(Ja)?Ve++:j.isClose(Ja)&&Ve--,Ve===0)return Va;ba=Va.endColumn-1}return null},xt=this.textModel.getLineCount(),un=k.lineNumber;un<=xt;un++){var ln=this.textModel.tokenization.getLineTokens(un),nn=ln.getCount(),bn=this.textModel.getLineContent(un),An=0,It=0,er=0;un===k.lineNumber&&(An=ln.findTokenIndexAtOffset(k.column-1),It=k.column-1,er=k.column-1);for(var Mi=!0;An<nn;An++){var wr=ln.getLanguageId(An)===ue&&!Object(I.b)(ln.getStandardTokenType(An));if(wr)Mi||(It=ln.getStartOffset(An)),er=ln.getEndOffset(An);else if(Mi&&It!==er){var hr=_t(un,bn,It,er);if(hr)return hr}Mi=wr}if(Mi&&It!==er){var xi=_t(un,bn,It,er);if(xi)return xi}}return null}},{key:"findPrevBracket",value:function(j){var k,K=this.textModel.validatePosition(j);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((k=this.bracketPairsTree.value)===null||k===void 0?void 0:k.object.getFirstBracketBefore(K))||null;for(var ue=null,xe=null,Ve=null,ut=K.lineNumber;ut>=1;ut--){var _t=this.textModel.tokenization.getLineTokens(ut),xt=_t.getCount(),un=this.textModel.getLineContent(ut),ln=xt-1,nn=un.length,bn=un.length;if(ut===K.lineNumber){ln=_t.findTokenIndexAtOffset(K.column-1),nn=K.column-1,bn=K.column-1;var An=_t.getLanguageId(ln);ue!==An&&(ue=An,xe=this.languageConfigurationService.getLanguageConfiguration(ue).brackets,Ve=this.languageConfigurationService.getLanguageConfiguration(ue).bracketsNew)}for(var It=!0;ln>=0;ln--){var er=_t.getLanguageId(ln);if(ue!==er){if(xe&&Ve&&It&&nn!==bn){var Mi=de.a.findPrevBracketInRange(xe.reversedRegex,ut,un,nn,bn);if(Mi)return this._toFoundBracket(Ve,Mi);It=!1}ue=er,xe=this.languageConfigurationService.getLanguageConfiguration(ue).brackets,Ve=this.languageConfigurationService.getLanguageConfiguration(ue).bracketsNew}var wr=!!xe&&!Object(I.b)(_t.getStandardTokenType(ln));if(wr)It?nn=_t.getStartOffset(ln):(nn=_t.getStartOffset(ln),bn=_t.getEndOffset(ln));else if(Ve&&xe&&It&&nn!==bn){var hr=de.a.findPrevBracketInRange(xe.reversedRegex,ut,un,nn,bn);if(hr)return this._toFoundBracket(Ve,hr)}It=wr}if(Ve&&xe&&It&&nn!==bn){var xi=de.a.findPrevBracketInRange(xe.reversedRegex,ut,un,nn,bn);if(xi)return this._toFoundBracket(Ve,xi)}}return null}},{key:"findNextBracket",value:function(j){var k,K=this.textModel.validatePosition(j);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((k=this.bracketPairsTree.value)===null||k===void 0?void 0:k.object.getFirstBracketAfter(K))||null;for(var ue=this.textModel.getLineCount(),xe=null,Ve=null,ut=null,_t=K.lineNumber;_t<=ue;_t++){var xt=this.textModel.tokenization.getLineTokens(_t),un=xt.getCount(),ln=this.textModel.getLineContent(_t),nn=0,bn=0,An=0;if(_t===K.lineNumber){nn=xt.findTokenIndexAtOffset(K.column-1),bn=K.column-1,An=K.column-1;var It=xt.getLanguageId(nn);xe!==It&&(xe=It,Ve=this.languageConfigurationService.getLanguageConfiguration(xe).brackets,ut=this.languageConfigurationService.getLanguageConfiguration(xe).bracketsNew)}for(var er=!0;nn<un;nn++){var Mi=xt.getLanguageId(nn);if(xe!==Mi){if(ut&&Ve&&er&&bn!==An){var wr=de.a.findNextBracketInRange(Ve.forwardRegex,_t,ln,bn,An);if(wr)return this._toFoundBracket(ut,wr);er=!1}xe=Mi,Ve=this.languageConfigurationService.getLanguageConfiguration(xe).brackets,ut=this.languageConfigurationService.getLanguageConfiguration(xe).bracketsNew}var hr=!!Ve&&!Object(I.b)(xt.getStandardTokenType(nn));if(hr)er||(bn=xt.getStartOffset(nn)),An=xt.getEndOffset(nn);else if(ut&&Ve&&er&&bn!==An){var xi=de.a.findNextBracketInRange(Ve.forwardRegex,_t,ln,bn,An);if(xi)return this._toFoundBracket(ut,xi)}er=hr}if(ut&&Ve&&er&&bn!==An){var Ar=de.a.findNextBracketInRange(Ve.forwardRegex,_t,ln,bn,An);if(Ar)return this._toFoundBracket(ut,Ar)}}return null}},{key:"findEnclosingBrackets",value:function(j,k){var K=this,ue=this.textModel.validatePosition(j);if(this.canBuildAST){var xe=D.a.fromPositions(ue),Ve=this.getBracketPairsInRange(D.a.fromPositions(ue,ue)).findLast(function(yo){return yo.closingBracketRange!==void 0&&yo.range.strictContainsRange(xe)});return Ve?[Ve.openingBracketRange,Ve.closingBracketRange]:null}for(var ut=Et(k),_t=this.textModel.getLineCount(),xt=new Map,un=[],ln=function(Vo,js){if(!xt.has(Vo)){for(var Qo=[],Ho=0,us=js?js.brackets.length:0;Ho<us;Ho++)Qo[Ho]=0;xt.set(Vo,Qo)}un=xt.get(Vo)},nn=0,bn=function(Vo,js,Qo,Ho,us){for(;;){if(ut&&++nn%100==0&&!ut())return Ft.INSTANCE;var go=de.a.findNextBracketInRange(Vo.forwardRegex,js,Qo,Ho,us);if(!go)break;var Uo=Qo.substring(go.startColumn-1,go.endColumn-1).toLowerCase(),Yo=Vo.textIsBracket[Uo];if(Yo&&(Yo.isOpen(Uo)?un[Yo.index]++:Yo.isClose(Uo)&&un[Yo.index]--,un[Yo.index]===-1))return K._matchFoundBracket(go,Yo,!1,ut);Ho=go.endColumn-1}return null},An=null,It=null,er=ue.lineNumber;er<=_t;er++){var Mi=this.textModel.tokenization.getLineTokens(er),wr=Mi.getCount(),hr=this.textModel.getLineContent(er),xi=0,Ar=0,zr=0;if(er===ue.lineNumber){xi=Mi.findTokenIndexAtOffset(ue.column-1),Ar=ue.column-1,zr=ue.column-1;var Tr=Mi.getLanguageId(xi);An!==Tr&&(An=Tr,It=this.languageConfigurationService.getLanguageConfiguration(An).brackets,ln(An,It))}for(var ba=!0;xi<wr;xi++){var Sa=Mi.getLanguageId(xi);if(An!==Sa){if(It&&ba&&Ar!==zr){var Va=bn(It,er,hr,Ar,zr);if(Va)return Ot(Va);ba=!1}An=Sa,It=this.languageConfigurationService.getLanguageConfiguration(An).brackets,ln(An,It)}var Ja=!!It&&!Object(I.b)(Mi.getStandardTokenType(xi));if(Ja)ba||(Ar=Mi.getStartOffset(xi)),zr=Mi.getEndOffset(xi);else if(It&&ba&&Ar!==zr){var Ba=bn(It,er,hr,Ar,zr);if(Ba)return Ot(Ba)}ba=Ja}if(It&&ba&&Ar!==zr){var bo=bn(It,er,hr,Ar,zr);if(bo)return Ot(bo)}}return null}},{key:"_toFoundBracket",value:function(j,k){if(!k)return null;var K=this.textModel.getValueInRange(k);K=K.toLowerCase();var ue=j.getBracketInfo(K);return ue?{range:k,bracketInfo:ue}:null}}]),_e}(B.a);function Xe(Rt,tt){return{object:Rt,dispose:function(){return tt==null?void 0:tt.dispose()}}}function Et(Rt){if(typeof Rt=="undefined")return function(){return!0};var tt=Date.now();return function(){return Date.now()-tt<=Rt}}var Ft=Object(Y.a)(function Rt(){Object(_.a)(this,Rt),this._searchCanceledBrand=void 0});Ft.INSTANCE=new Ft;function Ot(Rt){return Rt instanceof Ft?null:Rt}var pt=a("3IFt"),Lt=a("t9D7"),et=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee){var j;return Object(_.a)(this,_e),j=tt.call(this),j.textModel=ee,j.colorProvider=new Vt,j.onDidChangeEmitter=new V.b,j.onDidChange=j.onDidChangeEmitter.event,j.colorizationOptions=ee.getOptions().bracketPairColorizationOptions,j._register(ee.bracketPairs.onDidChange(function(k){j.onDidChangeEmitter.fire()})),j}return Object(Y.a)(_e,[{key:"handleDidChangeOptions",value:function(j){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}},{key:"getDecorationsInRange",value:function(j,k,K,ue){var xe=this;if(ue)return[];if(k===void 0)return[];if(!this.colorizationOptions.enabled)return[];var Ve=this.textModel.bracketPairs.getBracketsInRange(j,!0).map(function(ut){return{id:"bracket".concat(ut.range.toString(),"-").concat(ut.nestingLevel),options:{description:"BracketPairColorization",inlineClassName:xe.colorProvider.getInlineClassName(ut,xe.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:ut.range}}).toArray();return Ve}},{key:"getAllDecorations",value:function(j,k){return j===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new D.a(1,1,this.textModel.getLineCount(),1),j,k):[]}}]),_e}(B.a),Vt=function(){function Rt(){Object(_.a)(this,Rt),this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}return Object(Y.a)(Rt,[{key:"getInlineClassName",value:function(_e,ee){return _e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(ee?_e.nestingLevelOfEqualBracketType:_e.nestingLevel)}},{key:"getInlineClassNameOfLevel",value:function(_e){return"bracket-highlighting-".concat(_e%30)}}]),Rt}();Object(Lt.e)(function(Rt,tt){var _e=[pt.b,pt.c,pt.d,pt.e,pt.f,pt.g],ee=new Vt;tt.addRule(".monaco-editor .".concat(ee.unexpectedClosingBracketClassName," { color: ").concat(Rt.getColor(pt.h),"; }"));for(var j=_e.map(function(ue){return Rt.getColor(ue)}).filter(function(ue){return!!ue}).filter(function(ue){return!ue.isTransparent()}),k=0;k<30;k++){var K=j[k%j.length];tt.addRule(".monaco-editor .".concat(ee.getInlineClassNameOfLevel(k)," { color: ").concat(K,"; }"))}});var Re=a("oFSf"),Ce=a("6apY"),ye=Object(Y.a)(function Rt(){Object(_.a)(this,Rt),this.spacesDiff=0,this.looksLikeAlignment=!1});function Te(Rt,tt,_e,ee,j){j.spacesDiff=0,j.looksLikeAlignment=!1;var k;for(k=0;k<tt&&k<ee;k++){var K=Rt.charCodeAt(k),ue=_e.charCodeAt(k);if(K!==ue)break}for(var xe=0,Ve=0,ut=k;ut<tt;ut++){var _t=Rt.charCodeAt(ut);_t===32?xe++:Ve++}for(var xt=0,un=0,ln=k;ln<ee;ln++){var nn=_e.charCodeAt(ln);nn===32?xt++:un++}if(!(xe>0&&Ve>0)&&!(xt>0&&un>0)){var bn=Math.abs(Ve-un),An=Math.abs(xe-xt);if(bn===0){j.spacesDiff=An,An>0&&0<=xt-1&&xt-1<Rt.length&&xt<_e.length&&_e.charCodeAt(xt)!==32&&Rt.charCodeAt(xt-1)===32&&Rt.charCodeAt(Rt.length-1)===44&&(j.looksLikeAlignment=!0);return}if(An%bn==0){j.spacesDiff=An/bn;return}}}function Qe(Rt,tt,_e){for(var ee=Math.min(Rt.getLineCount(),1e4),j=0,k=0,K="",ue=0,xe=[2,4,6,8,3,5,7],Ve=8,ut=[0,0,0,0,0,0,0,0,0],_t=new ye,xt=1;xt<=ee;xt++){for(var un=Rt.getLineLength(xt),ln=Rt.getLineContent(xt),nn=un<=65536,bn=!1,An=0,It=0,er=0,Mi=0,wr=un;Mi<wr;Mi++){var hr=nn?ln.charCodeAt(Mi):Rt.getLineCharCode(xt,Mi);if(hr===9)er++;else if(hr===32)It++;else{bn=!0,An=Mi;break}}if(!!bn&&(er>0?j++:It>1&&k++,Te(K,ue,ln,An,_t),!(_t.looksLikeAlignment&&!(_e&&tt===_t.spacesDiff)))){var xi=_t.spacesDiff;xi<=Ve&&ut[xi]++,K=ln,ue=An}}var Ar=_e;j!==k&&(Ar=j<k);var zr=tt;if(Ar){var Tr=Ar?0:.1*ee;xe.forEach(function(ba){var Sa=ut[ba];Sa>Tr&&(Tr=Sa,zr=ba)}),zr===4&&ut[4]>0&&ut[2]>0&&ut[2]>=ut[4]/2&&(zr=2)}return{insertSpaces:Ar,tabSize:zr}}function $e(Rt){return(Rt.metadata&1)>>>0}function ze(Rt,tt){Rt.metadata=Rt.metadata&254|tt<<0}function ot(Rt){return(Rt.metadata&2)>>>1==1}function He(Rt,tt){Rt.metadata=Rt.metadata&253|(tt?1:0)<<1}function Ge(Rt){return(Rt.metadata&4)>>>2==1}function Je(Rt,tt){Rt.metadata=Rt.metadata&251|(tt?1:0)<<2}function ft(Rt){return(Rt.metadata&64)>>>6==1}function qt(Rt,tt){Rt.metadata=Rt.metadata&191|(tt?1:0)<<6}function bt(Rt){return(Rt.metadata&24)>>>3}function Bt(Rt,tt){Rt.metadata=Rt.metadata&231|tt<<3}function rn(Rt){return(Rt.metadata&32)>>>5==1}function an(Rt,tt){Rt.metadata=Rt.metadata&223|(tt?1:0)<<5}var In=function(){function Rt(tt,_e,ee){Object(_.a)(this,Rt),this.metadata=0,this.parent=this,this.left=this,this.right=this,ze(this,1),this.start=_e,this.end=ee,this.delta=0,this.maxEnd=ee,this.id=tt,this.ownerId=0,this.options=null,Je(this,!1),qt(this,!1),Bt(this,1),an(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=_e,this.cachedAbsoluteEnd=ee,this.range=null,He(this,!1)}return Object(Y.a)(Rt,[{key:"reset",value:function(_e,ee,j,k){this.start=ee,this.end=j,this.maxEnd=j,this.cachedVersionId=_e,this.cachedAbsoluteStart=ee,this.cachedAbsoluteEnd=j,this.range=k}},{key:"setOptions",value:function(_e){this.options=_e;var ee=this.options.className;Je(this,ee==="squiggly-error"||ee==="squiggly-warning"||ee==="squiggly-info"),qt(this,this.options.glyphMarginClassName!==null),Bt(this,this.options.stickiness),an(this,this.options.collapseOnReplaceEdit)}},{key:"setCachedOffsets",value:function(_e,ee,j){this.cachedVersionId!==j&&(this.range=null),this.cachedVersionId=j,this.cachedAbsoluteStart=_e,this.cachedAbsoluteEnd=ee}},{key:"detach",value:function(){this.parent=null,this.left=null,this.right=null}}]),Rt}(),Dt=new In(null,0,0);Dt.parent=Dt,Dt.left=Dt,Dt.right=Dt,ze(Dt,0);var jn=function(){function Rt(){Object(_.a)(this,Rt),this.root=Dt,this.requestNormalizeDelta=!1}return Object(Y.a)(Rt,[{key:"intervalSearch",value:function(_e,ee,j,k,K,ue){return this.root===Dt?[]:yi(this,_e,ee,j,k,K,ue)}},{key:"search",value:function(_e,ee,j,k){return this.root===Dt?[]:ir(this,_e,ee,j,k)}},{key:"collectNodesFromOwner",value:function(_e){return qi(this,_e)}},{key:"collectNodesPostOrder",value:function(){return gi(this)}},{key:"insert",value:function(_e){mi(this,_e),this._normalizeDeltaIfNecessary()}},{key:"delete",value:function(_e){zn(this,_e),this._normalizeDeltaIfNecessary()}},{key:"resolveNode",value:function(_e,ee){for(var j=_e,k=0;_e!==this.root;)_e===_e.parent.right&&(k+=_e.parent.delta),_e=_e.parent;var K=j.start+k,ue=j.end+k;j.setCachedOffsets(K,ue,ee)}},{key:"acceptReplace",value:function(_e,ee,j,k){for(var K=kn(this,_e,_e+ee),ue=0,xe=K.length;ue<xe;ue++){var Ve=K[ue];zn(this,Ve)}this._normalizeDeltaIfNecessary(),Pn(this,_e,_e+ee,j),this._normalizeDeltaIfNecessary();for(var ut=0,_t=K.length;ut<_t;ut++){var xt=K[ut];xt.start=xt.cachedAbsoluteStart,xt.end=xt.cachedAbsoluteEnd,ei(xt,_e,_e+ee,j,k),xt.maxEnd=xt.end,mi(this,xt)}this._normalizeDeltaIfNecessary()}},{key:"_normalizeDeltaIfNecessary",value:function(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,_n(this))}}]),Rt}();function _n(Rt){for(var tt=Rt.root,_e=0;tt!==Dt;){if(tt.left!==Dt&&!ot(tt.left)){tt=tt.left;continue}if(tt.right!==Dt&&!ot(tt.right)){_e+=tt.delta,tt=tt.right;continue}tt.start=_e+tt.start,tt.end=_e+tt.end,tt.delta=0,Yt(tt),He(tt,!0),He(tt.left,!1),He(tt.right,!1),tt===tt.parent.right&&(_e-=tt.parent.delta),tt=tt.parent}He(Rt.root,!1)}function Nn(Rt,tt,_e,ee){return Rt<_e?!0:Rt>_e||ee===1?!1:ee===2?!0:tt}function ei(Rt,tt,_e,ee,j){var k=bt(Rt),K=k===0||k===2,ue=k===1||k===2,xe=_e-tt,Ve=ee,ut=Math.min(xe,Ve),_t=Rt.start,xt=!1,un=Rt.end,ln=!1;tt<=_t&&un<=_e&&rn(Rt)&&(Rt.start=tt,xt=!0,Rt.end=tt,ln=!0);{var nn=j?1:xe>0?2:0;!xt&&Nn(_t,K,tt,nn)&&(xt=!0),!ln&&Nn(un,ue,tt,nn)&&(ln=!0)}if(ut>0&&!j){var bn=xe>Ve?2:0;!xt&&Nn(_t,K,tt+ut,bn)&&(xt=!0),!ln&&Nn(un,ue,tt+ut,bn)&&(ln=!0)}{var An=j?1:0;!xt&&Nn(_t,K,_e,An)&&(Rt.start=tt+Ve,xt=!0),!ln&&Nn(un,ue,_e,An)&&(Rt.end=tt+Ve,ln=!0)}var It=Ve-xe;xt||(Rt.start=Math.max(0,_t+It)),ln||(Rt.end=Math.max(0,un+It)),Rt.start>Rt.end&&(Rt.end=Rt.start)}function kn(Rt,tt,_e){for(var ee=Rt.root,j=0,k=0,K=0,ue=0,xe=[],Ve=0;ee!==Dt;){if(ot(ee)){He(ee.left,!1),He(ee.right,!1),ee===ee.parent.right&&(j-=ee.parent.delta),ee=ee.parent;continue}if(!ot(ee.left)){if(k=j+ee.maxEnd,k<tt){He(ee,!0);continue}if(ee.left!==Dt){ee=ee.left;continue}}if(K=j+ee.start,K>_e){He(ee,!0);continue}if(ue=j+ee.end,ue>=tt&&(ee.setCachedOffsets(K,ue,0),xe[Ve++]=ee),He(ee,!0),ee.right!==Dt&&!ot(ee.right)){j+=ee.delta,ee=ee.right;continue}}return He(Rt.root,!1),xe}function Pn(Rt,tt,_e,ee){for(var j=Rt.root,k=0,K=0,ue=0,xe=ee-(_e-tt);j!==Dt;){if(ot(j)){He(j.left,!1),He(j.right,!1),j===j.parent.right&&(k-=j.parent.delta),Yt(j),j=j.parent;continue}if(!ot(j.left)){if(K=k+j.maxEnd,K<tt){He(j,!0);continue}if(j.left!==Dt){j=j.left;continue}}if(ue=k+j.start,ue>_e){j.start+=xe,j.end+=xe,j.delta+=xe,(j.delta<-1073741824||j.delta>1073741824)&&(Rt.requestNormalizeDelta=!0),He(j,!0);continue}if(He(j,!0),j.right!==Dt&&!ot(j.right)){k+=j.delta,j=j.right;continue}}He(Rt.root,!1)}function qi(Rt,tt){for(var _e=Rt.root,ee=[],j=0;_e!==Dt;){if(ot(_e)){He(_e.left,!1),He(_e.right,!1),_e=_e.parent;continue}if(_e.left!==Dt&&!ot(_e.left)){_e=_e.left;continue}if(_e.ownerId===tt&&(ee[j++]=_e),He(_e,!0),_e.right!==Dt&&!ot(_e.right)){_e=_e.right;continue}}return He(Rt.root,!1),ee}function gi(Rt){for(var tt=Rt.root,_e=[],ee=0;tt!==Dt;){if(ot(tt)){He(tt.left,!1),He(tt.right,!1),tt=tt.parent;continue}if(tt.left!==Dt&&!ot(tt.left)){tt=tt.left;continue}if(tt.right!==Dt&&!ot(tt.right)){tt=tt.right;continue}_e[ee++]=tt,He(tt,!0)}return He(Rt.root,!1),_e}function ir(Rt,tt,_e,ee,j){for(var k=Rt.root,K=0,ue=0,xe=0,Ve=[],ut=0;k!==Dt;){if(ot(k)){He(k.left,!1),He(k.right,!1),k===k.parent.right&&(K-=k.parent.delta),k=k.parent;continue}if(k.left!==Dt&&!ot(k.left)){k=k.left;continue}ue=K+k.start,xe=K+k.end,k.setCachedOffsets(ue,xe,ee);var _t=!0;if(tt&&k.ownerId&&k.ownerId!==tt&&(_t=!1),_e&&Ge(k)&&(_t=!1),j&&!ft(k)&&(_t=!1),_t&&(Ve[ut++]=k),He(k,!0),k.right!==Dt&&!ot(k.right)){K+=k.delta,k=k.right;continue}}return He(Rt.root,!1),Ve}function yi(Rt,tt,_e,ee,j,k,K){for(var ue=Rt.root,xe=0,Ve=0,ut=0,_t=0,xt=[],un=0;ue!==Dt;){if(ot(ue)){He(ue.left,!1),He(ue.right,!1),ue===ue.parent.right&&(xe-=ue.parent.delta),ue=ue.parent;continue}if(!ot(ue.left)){if(Ve=xe+ue.maxEnd,Ve<tt){He(ue,!0);continue}if(ue.left!==Dt){ue=ue.left;continue}}if(ut=xe+ue.start,ut>_e){He(ue,!0);continue}if(_t=xe+ue.end,_t>=tt){ue.setCachedOffsets(ut,_t,k);var ln=!0;ee&&ue.ownerId&&ue.ownerId!==ee&&(ln=!1),j&&Ge(ue)&&(ln=!1),K&&!ft(ue)&&(ln=!1),ln&&(xt[un++]=ue)}if(He(ue,!0),ue.right!==Dt&&!ot(ue.right)){xe+=ue.delta,ue=ue.right;continue}}return He(Rt.root,!1),xt}function mi(Rt,tt){if(Rt.root===Dt)return tt.parent=Dt,tt.left=Dt,tt.right=Dt,ze(tt,0),Rt.root=tt,Rt.root;gr(Rt,tt),Ct(tt.parent);for(var _e=tt;_e!==Rt.root&&$e(_e.parent)===1;)if(_e.parent===_e.parent.parent.left){var ee=_e.parent.parent.right;$e(ee)===1?(ze(_e.parent,0),ze(ee,0),ze(_e.parent.parent,1),_e=_e.parent.parent):(_e===_e.parent.right&&(_e=_e.parent,ai(Rt,_e)),ze(_e.parent,0),ze(_e.parent.parent,1),dn(Rt,_e.parent.parent))}else{var j=_e.parent.parent.left;$e(j)===1?(ze(_e.parent,0),ze(j,0),ze(_e.parent.parent,1),_e=_e.parent.parent):(_e===_e.parent.left&&(_e=_e.parent,dn(Rt,_e)),ze(_e.parent,0),ze(_e.parent.parent,1),ai(Rt,_e.parent.parent))}return ze(Rt.root,0),tt}function gr(Rt,tt){for(var _e=0,ee=Rt.root,j=tt.start,k=tt.end;;){var K=Dn(j,k,ee.start+_e,ee.end+_e);if(K<0)if(ee.left===Dt){tt.start-=_e,tt.end-=_e,tt.maxEnd-=_e,ee.left=tt;break}else ee=ee.left;else if(ee.right===Dt){tt.start-=_e+ee.delta,tt.end-=_e+ee.delta,tt.maxEnd-=_e+ee.delta,ee.right=tt;break}else _e+=ee.delta,ee=ee.right}tt.parent=ee,tt.left=Dt,tt.right=Dt,ze(tt,1)}function zn(Rt,tt){var _e,ee;if(tt.left===Dt?(_e=tt.right,ee=tt,_e.delta+=tt.delta,(_e.delta<-1073741824||_e.delta>1073741824)&&(Rt.requestNormalizeDelta=!0),_e.start+=tt.delta,_e.end+=tt.delta):tt.right===Dt?(_e=tt.left,ee=tt):(ee=Ki(tt.right),_e=ee.right,_e.start+=ee.delta,_e.end+=ee.delta,_e.delta+=ee.delta,(_e.delta<-1073741824||_e.delta>1073741824)&&(Rt.requestNormalizeDelta=!0),ee.start+=tt.delta,ee.end+=tt.delta,ee.delta=tt.delta,(ee.delta<-1073741824||ee.delta>1073741824)&&(Rt.requestNormalizeDelta=!0)),ee===Rt.root){Rt.root=_e,ze(_e,0),tt.detach(),Bn(),Yt(_e),Rt.root.parent=Dt;return}var j=$e(ee)===1;if(ee===ee.parent.left?ee.parent.left=_e:ee.parent.right=_e,ee===tt?_e.parent=ee.parent:(ee.parent===tt?_e.parent=ee:_e.parent=ee.parent,ee.left=tt.left,ee.right=tt.right,ee.parent=tt.parent,ze(ee,$e(tt)),tt===Rt.root?Rt.root=ee:tt===tt.parent.left?tt.parent.left=ee:tt.parent.right=ee,ee.left!==Dt&&(ee.left.parent=ee),ee.right!==Dt&&(ee.right.parent=ee)),tt.detach(),j){Ct(_e.parent),ee!==tt&&(Ct(ee),Ct(ee.parent)),Bn();return}Ct(_e),Ct(_e.parent),ee!==tt&&(Ct(ee),Ct(ee.parent));for(var k;_e!==Rt.root&&$e(_e)===0;)_e===_e.parent.left?(k=_e.parent.right,$e(k)===1&&(ze(k,0),ze(_e.parent,1),ai(Rt,_e.parent),k=_e.parent.right),$e(k.left)===0&&$e(k.right)===0?(ze(k,1),_e=_e.parent):($e(k.right)===0&&(ze(k.left,0),ze(k,1),dn(Rt,k),k=_e.parent.right),ze(k,$e(_e.parent)),ze(_e.parent,0),ze(k.right,0),ai(Rt,_e.parent),_e=Rt.root)):(k=_e.parent.left,$e(k)===1&&(ze(k,0),ze(_e.parent,1),dn(Rt,_e.parent),k=_e.parent.left),$e(k.left)===0&&$e(k.right)===0?(ze(k,1),_e=_e.parent):($e(k.left)===0&&(ze(k.right,0),ze(k,1),ai(Rt,k),k=_e.parent.left),ze(k,$e(_e.parent)),ze(_e.parent,0),ze(k.left,0),dn(Rt,_e.parent),_e=Rt.root));ze(_e,0),Bn()}function Ki(Rt){for(;Rt.left!==Dt;)Rt=Rt.left;return Rt}function Bn(){Dt.parent=Dt,Dt.delta=0,Dt.start=0,Dt.end=0}function ai(Rt,tt){var _e=tt.right;_e.delta+=tt.delta,(_e.delta<-1073741824||_e.delta>1073741824)&&(Rt.requestNormalizeDelta=!0),_e.start+=tt.delta,_e.end+=tt.delta,tt.right=_e.left,_e.left!==Dt&&(_e.left.parent=tt),_e.parent=tt.parent,tt.parent===Dt?Rt.root=_e:tt===tt.parent.left?tt.parent.left=_e:tt.parent.right=_e,_e.left=tt,tt.parent=_e,Yt(tt),Yt(_e)}function dn(Rt,tt){var _e=tt.left;tt.delta-=_e.delta,(tt.delta<-1073741824||tt.delta>1073741824)&&(Rt.requestNormalizeDelta=!0),tt.start-=_e.delta,tt.end-=_e.delta,tt.left=_e.right,_e.right!==Dt&&(_e.right.parent=tt),_e.parent=tt.parent,tt.parent===Dt?Rt.root=_e:tt===tt.parent.right?tt.parent.right=_e:tt.parent.left=_e,_e.right=tt,tt.parent=_e,Yt(tt),Yt(_e)}function Jn(Rt){var tt=Rt.end;if(Rt.left!==Dt){var _e=Rt.left.maxEnd;_e>tt&&(tt=_e)}if(Rt.right!==Dt){var ee=Rt.right.maxEnd+Rt.delta;ee>tt&&(tt=ee)}return tt}function Yt(Rt){Rt.maxEnd=Jn(Rt)}function Ct(Rt){for(;Rt!==Dt;){var tt=Jn(Rt);if(Rt.maxEnd===tt)return;Rt.maxEnd=tt,Rt=Rt.parent}}function Dn(Rt,tt,_e,ee){return Rt===_e?tt-ee:Rt-_e}var gn=function(){function Rt(tt,_e){Object(_.a)(this,Rt),this.piece=tt,this.color=_e,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}return Object(Y.a)(Rt,[{key:"next",value:function(){if(this.right!==en)return yn(this.right);for(var _e=this;_e.parent!==en&&_e.parent.left!==_e;)_e=_e.parent;return _e.parent===en?en:_e.parent}},{key:"prev",value:function(){if(this.left!==en)return Qn(this.left);for(var _e=this;_e.parent!==en&&_e.parent.right!==_e;)_e=_e.parent;return _e.parent===en?en:_e.parent}},{key:"detach",value:function(){this.parent=null,this.left=null,this.right=null}}]),Rt}(),en=new gn(null,0);en.parent=en,en.left=en,en.right=en,en.color=0;function yn(Rt){for(;Rt.left!==en;)Rt=Rt.left;return Rt}function Qn(Rt){for(;Rt.right!==en;)Rt=Rt.right;return Rt}function pi(Rt){return Rt===en?0:Rt.size_left+Rt.piece.length+pi(Rt.right)}function Pt(Rt){return Rt===en?0:Rt.lf_left+Rt.piece.lineFeedCnt+Pt(Rt.right)}function yt(){en.parent=en}function Rn(Rt,tt){var _e=tt.right;_e.size_left+=tt.size_left+(tt.piece?tt.piece.length:0),_e.lf_left+=tt.lf_left+(tt.piece?tt.piece.lineFeedCnt:0),tt.right=_e.left,_e.left!==en&&(_e.left.parent=tt),_e.parent=tt.parent,tt.parent===en?Rt.root=_e:tt.parent.left===tt?tt.parent.left=_e:tt.parent.right=_e,_e.left=tt,tt.parent=_e}function Sn(Rt,tt){var _e=tt.left;tt.left=_e.right,_e.right!==en&&(_e.right.parent=tt),_e.parent=tt.parent,tt.size_left-=_e.size_left+(_e.piece?_e.piece.length:0),tt.lf_left-=_e.lf_left+(_e.piece?_e.piece.lineFeedCnt:0),tt.parent===en?Rt.root=_e:tt===tt.parent.right?tt.parent.right=_e:tt.parent.left=_e,_e.right=tt,tt.parent=_e}function Ii(Rt,tt){var _e,ee;if(tt.left===en?(ee=tt,_e=ee.right):tt.right===en?(ee=tt,_e=ee.left):(ee=yn(tt.right),_e=ee.right),ee===Rt.root){Rt.root=_e,_e.color=0,tt.detach(),yt(),Rt.root.parent=en;return}var j=ee.color===1;if(ee===ee.parent.left?ee.parent.left=_e:ee.parent.right=_e,ee===tt?(_e.parent=ee.parent,Pi(Rt,_e)):(ee.parent===tt?_e.parent=ee:_e.parent=ee.parent,Pi(Rt,_e),ee.left=tt.left,ee.right=tt.right,ee.parent=tt.parent,ee.color=tt.color,tt===Rt.root?Rt.root=ee:tt===tt.parent.left?tt.parent.left=ee:tt.parent.right=ee,ee.left!==en&&(ee.left.parent=ee),ee.right!==en&&(ee.right.parent=ee),ee.size_left=tt.size_left,ee.lf_left=tt.lf_left,Pi(Rt,ee)),tt.detach(),_e.parent.left===_e){var k=pi(_e),K=Pt(_e);if(k!==_e.parent.size_left||K!==_e.parent.lf_left){var ue=k-_e.parent.size_left,xe=K-_e.parent.lf_left;_e.parent.size_left=k,_e.parent.lf_left=K,wt(Rt,_e.parent,ue,xe)}}if(Pi(Rt,_e.parent),j){yt();return}for(var Ve;_e!==Rt.root&&_e.color===0;)_e===_e.parent.left?(Ve=_e.parent.right,Ve.color===1&&(Ve.color=0,_e.parent.color=1,Rn(Rt,_e.parent),Ve=_e.parent.right),Ve.left.color===0&&Ve.right.color===0?(Ve.color=1,_e=_e.parent):(Ve.right.color===0&&(Ve.left.color=0,Ve.color=1,Sn(Rt,Ve),Ve=_e.parent.right),Ve.color=_e.parent.color,_e.parent.color=0,Ve.right.color=0,Rn(Rt,_e.parent),_e=Rt.root)):(Ve=_e.parent.left,Ve.color===1&&(Ve.color=0,_e.parent.color=1,Sn(Rt,_e.parent),Ve=_e.parent.left),Ve.left.color===0&&Ve.right.color===0?(Ve.color=1,_e=_e.parent):(Ve.left.color===0&&(Ve.right.color=0,Ve.color=1,Rn(Rt,Ve),Ve=_e.parent.left),Ve.color=_e.parent.color,_e.parent.color=0,Ve.left.color=0,Sn(Rt,_e.parent),_e=Rt.root));_e.color=0,yt()}function Hi(Rt,tt){for(Pi(Rt,tt);tt!==Rt.root&&tt.parent.color===1;)if(tt.parent===tt.parent.parent.left){var _e=tt.parent.parent.right;_e.color===1?(tt.parent.color=0,_e.color=0,tt.parent.parent.color=1,tt=tt.parent.parent):(tt===tt.parent.right&&(tt=tt.parent,Rn(Rt,tt)),tt.parent.color=0,tt.parent.parent.color=1,Sn(Rt,tt.parent.parent))}else{var ee=tt.parent.parent.left;ee.color===1?(tt.parent.color=0,ee.color=0,tt.parent.parent.color=1,tt=tt.parent.parent):(tt===tt.parent.left&&(tt=tt.parent,Sn(Rt,tt)),tt.parent.color=0,tt.parent.parent.color=1,Rn(Rt,tt.parent.parent))}Rt.root.color=0}function wt(Rt,tt,_e,ee){for(;tt!==Rt.root&&tt!==en;)tt.parent.left===tt&&(tt.parent.size_left+=_e,tt.parent.lf_left+=ee),tt=tt.parent}function Pi(Rt,tt){var _e=0,ee=0;if(tt!==Rt.root){for(;tt!==Rt.root&&tt===tt.parent.right;)tt=tt.parent;if(tt!==Rt.root)for(tt=tt.parent,_e=pi(tt.left)-tt.size_left,ee=Pt(tt.left)-tt.lf_left,tt.size_left+=_e,tt.lf_left+=ee;tt!==Rt.root&&(_e!==0||ee!==0);)tt.parent.left===tt&&(tt.parent.size_left+=_e,tt.parent.lf_left+=ee),tt=tt.parent}}var Ut=a("jAJ/"),We=65535;function Tn(Rt){var tt;return Rt[Rt.length-1]<65536?tt=new Uint16Array(Rt.length):tt=new Uint32Array(Rt.length),tt.set(Rt,0),tt}var ar=Object(Y.a)(function Rt(tt,_e,ee,j,k){Object(_.a)(this,Rt),this.lineStarts=tt,this.cr=_e,this.lf=ee,this.crlf=j,this.isBasicASCII=k});function Br(Rt){for(var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_e=[0],ee=1,j=0,k=Rt.length;j<k;j++){var K=Rt.charCodeAt(j);K===13?j+1<k&&Rt.charCodeAt(j+1)===10?(_e[ee++]=j+2,j++):_e[ee++]=j+1:K===10&&(_e[ee++]=j+1)}return tt?Tn(_e):_e}function Yr(Rt,tt){Rt.length=0,Rt[0]=0;for(var _e=1,ee=0,j=0,k=0,K=!0,ue=0,xe=tt.length;ue<xe;ue++){var Ve=tt.charCodeAt(ue);Ve===13?ue+1<xe&&tt.charCodeAt(ue+1)===10?(k++,Rt[_e++]=ue+2,ue++):(ee++,Rt[_e++]=ue+1):Ve===10?(j++,Rt[_e++]=ue+1):K&&Ve!==9&&(Ve<32||Ve>126)&&(K=!1)}var ut=new ar(Tn(Rt),ee,j,k,K);return Rt.length=0,ut}var ti=Object(Y.a)(function Rt(tt,_e,ee,j,k){Object(_.a)(this,Rt),this.bufferIndex=tt,this.start=_e,this.end=ee,this.lineFeedCnt=j,this.length=k}),bi=Object(Y.a)(function Rt(tt,_e){Object(_.a)(this,Rt),this.buffer=tt,this.lineStarts=_e}),Kn=function(){function Rt(tt,_e){var ee=this;Object(_.a)(this,Rt),this._pieces=[],this._tree=tt,this._BOM=_e,this._index=0,tt.root!==en&&tt.iterate(tt.root,function(j){return j!==en&&ee._pieces.push(j.piece),!0})}return Object(Y.a)(Rt,[{key:"read",value:function(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}]),Rt}(),En=function(){function Rt(tt){Object(_.a)(this,Rt),this._limit=tt,this._cache=[]}return Object(Y.a)(Rt,[{key:"get",value:function(_e){for(var ee=this._cache.length-1;ee>=0;ee--){var j=this._cache[ee];if(j.nodeStartOffset<=_e&&j.nodeStartOffset+j.node.piece.length>=_e)return j}return null}},{key:"get2",value:function(_e){for(var ee=this._cache.length-1;ee>=0;ee--){var j=this._cache[ee];if(j.nodeStartLineNumber&&j.nodeStartLineNumber<_e&&j.nodeStartLineNumber+j.node.piece.lineFeedCnt>=_e)return j}return null}},{key:"set",value:function(_e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(_e)}},{key:"validate",value:function(_e){for(var ee=!1,j=this._cache,k=0;k<j.length;k++){var K=j[k];if(K.node.parent===null||K.nodeStartOffset>=_e){j[k]=null,ee=!0;continue}}if(ee){var ue=[],xe=Object(ce.a)(j),Ve;try{for(xe.s();!(Ve=xe.n()).done;){var ut=Ve.value;ut!==null&&ue.push(ut)}}catch(_t){xe.e(_t)}finally{xe.f()}this._cache=ue}}}]),Rt}(),Nt=function(){function Rt(tt,_e,ee){Object(_.a)(this,Rt),this.create(tt,_e,ee)}return Object(Y.a)(Rt,[{key:"create",value:function(_e,ee,j){this._buffers=[new bi("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=en,this._lineCnt=1,this._length=0,this._EOL=ee,this._EOLLength=ee.length,this._EOLNormalized=j;for(var k=null,K=0,ue=_e.length;K<ue;K++)if(_e[K].buffer.length>0){_e[K].lineStarts||(_e[K].lineStarts=Br(_e[K].buffer));var xe=new ti(K+1,{line:0,column:0},{line:_e[K].lineStarts.length-1,column:_e[K].buffer.length-_e[K].lineStarts[_e[K].lineStarts.length-1]},_e[K].lineStarts.length-1,_e[K].buffer.length);this._buffers.push(_e[K]),k=this.rbInsertRight(k,xe)}this._searchCache=new En(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}},{key:"normalizeEOL",value:function(_e){var ee=this,j=We,k=j-Math.floor(j/3),K=k*2,ue="",xe=0,Ve=[];if(this.iterate(this.root,function(_t){var xt=ee.getNodeContent(_t),un=xt.length;if(xe<=k||xe+un<K)return ue+=xt,xe+=un,!0;var ln=ue.replace(/\r\n|\r|\n/g,_e);return Ve.push(new bi(ln,Br(ln))),ue=xt,xe=un,!0}),xe>0){var ut=ue.replace(/\r\n|\r|\n/g,_e);Ve.push(new bi(ut,Br(ut)))}this.create(Ve,_e,!0)}},{key:"getEOL",value:function(){return this._EOL}},{key:"setEOL",value:function(_e){this._EOL=_e,this._EOLLength=this._EOL.length,this.normalizeEOL(_e)}},{key:"createSnapshot",value:function(_e){return new Kn(this,_e)}},{key:"getOffsetAt",value:function(_e,ee){for(var j=0,k=this.root;k!==en;)if(k.left!==en&&k.lf_left+1>=_e)k=k.left;else if(k.lf_left+k.piece.lineFeedCnt+1>=_e){j+=k.size_left;var K=this.getAccumulatedValue(k,_e-k.lf_left-2);return j+=K+ee-1}else _e-=k.lf_left+k.piece.lineFeedCnt,j+=k.size_left+k.piece.length,k=k.right;return j}},{key:"getPositionAt",value:function(_e){_e=Math.floor(_e),_e=Math.max(0,_e);for(var ee=this.root,j=0,k=_e;ee!==en;)if(ee.size_left!==0&&ee.size_left>=_e)ee=ee.left;else if(ee.size_left+ee.piece.length>=_e){var K=this.getIndexOf(ee,_e-ee.size_left);if(j+=ee.lf_left+K.index,K.index===0){var ue=this.getOffsetAt(j+1,1),xe=k-ue;return new d.a(j+1,xe+1)}return new d.a(j+1,K.remainder+1)}else if(_e-=ee.size_left+ee.piece.length,j+=ee.lf_left+ee.piece.lineFeedCnt,ee.right===en){var Ve=this.getOffsetAt(j+1,1),ut=k-_e-Ve;return new d.a(j+1,ut+1)}else ee=ee.right;return new d.a(1,1)}},{key:"getValueInRange",value:function(_e,ee){if(_e.startLineNumber===_e.endLineNumber&&_e.startColumn===_e.endColumn)return"";var j=this.nodeAt2(_e.startLineNumber,_e.startColumn),k=this.nodeAt2(_e.endLineNumber,_e.endColumn),K=this.getValueInRange2(j,k);return ee?ee!==this._EOL||!this._EOLNormalized?K.replace(/\r\n|\r|\n/g,ee):ee===this.getEOL()&&this._EOLNormalized?K:K.replace(/\r\n|\r|\n/g,ee):K}},{key:"getValueInRange2",value:function(_e,ee){if(_e.node===ee.node){var j=_e.node,k=this._buffers[j.piece.bufferIndex].buffer,K=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);return k.substring(K+_e.remainder,K+ee.remainder)}var ue=_e.node,xe=this._buffers[ue.piece.bufferIndex].buffer,Ve=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start),ut=xe.substring(Ve+_e.remainder,Ve+ue.piece.length);for(ue=ue.next();ue!==en;){var _t=this._buffers[ue.piece.bufferIndex].buffer,xt=this.offsetInBuffer(ue.piece.bufferIndex,ue.piece.start);if(ue===ee.node){ut+=_t.substring(xt,xt+ee.remainder);break}else ut+=_t.substr(xt,ue.piece.length);ue=ue.next()}return ut}},{key:"getLinesContent",value:function(){var _e=this,ee=[],j=0,k="",K=!1;return this.iterate(this.root,function(ue){if(ue===en)return!0;var xe=ue.piece,Ve=xe.length;if(Ve===0)return!0;var ut=_e._buffers[xe.bufferIndex].buffer,_t=_e._buffers[xe.bufferIndex].lineStarts,xt=xe.start.line,un=xe.end.line,ln=_t[xt]+xe.start.column;if(K&&(ut.charCodeAt(ln)===10&&(ln++,Ve--),ee[j++]=k,k="",K=!1,Ve===0))return!0;if(xt===un)return!_e._EOLNormalized&&ut.charCodeAt(ln+Ve-1)===13?(K=!0,k+=ut.substr(ln,Ve-1)):k+=ut.substr(ln,Ve),!0;k+=_e._EOLNormalized?ut.substring(ln,Math.max(ln,_t[xt+1]-_e._EOLLength)):ut.substring(ln,_t[xt+1]).replace(/(\r\n|\r|\n)$/,""),ee[j++]=k;for(var nn=xt+1;nn<un;nn++)k=_e._EOLNormalized?ut.substring(_t[nn],_t[nn+1]-_e._EOLLength):ut.substring(_t[nn],_t[nn+1]).replace(/(\r\n|\r|\n)$/,""),ee[j++]=k;return!_e._EOLNormalized&&ut.charCodeAt(_t[un]+xe.end.column-1)===13?(K=!0,xe.end.column===0?j--:k=ut.substr(_t[un],xe.end.column-1)):k=ut.substr(_t[un],xe.end.column),!0}),K&&(ee[j++]=k,k=""),ee[j++]=k,ee}},{key:"getLength",value:function(){return this._length}},{key:"getLineCount",value:function(){return this._lineCnt}},{key:"getLineContent",value:function(_e){return this._lastVisitedLine.lineNumber===_e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=_e,_e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(_e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(_e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(_e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}},{key:"_getCharCode",value:function(_e){if(_e.remainder===_e.node.piece.length){var ee=_e.node.next();if(!ee)return 0;var j=this._buffers[ee.piece.bufferIndex],k=this.offsetInBuffer(ee.piece.bufferIndex,ee.piece.start);return j.buffer.charCodeAt(k)}else{var K=this._buffers[_e.node.piece.bufferIndex],ue=this.offsetInBuffer(_e.node.piece.bufferIndex,_e.node.piece.start),xe=ue+_e.remainder;return K.buffer.charCodeAt(xe)}}},{key:"getLineCharCode",value:function(_e,ee){var j=this.nodeAt2(_e,ee+1);return this._getCharCode(j)}},{key:"getLineLength",value:function(_e){if(_e===this.getLineCount()){var ee=this.getOffsetAt(_e,1);return this.getLength()-ee}return this.getOffsetAt(_e+1,1)-this.getOffsetAt(_e,1)-this._EOLLength}},{key:"findMatchesInNode",value:function(_e,ee,j,k,K,ue,xe,Ve,ut,_t,xt){var un=this._buffers[_e.piece.bufferIndex],ln=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start),nn=this.offsetInBuffer(_e.piece.bufferIndex,K),bn=this.offsetInBuffer(_e.piece.bufferIndex,ue),An,It={line:0,column:0},er,Mi;ee._wordSeparators?(er=un.buffer.substring(nn,bn),Mi=function(zr){return zr+nn},ee.reset(0)):(er=un.buffer,Mi=function(zr){return zr},ee.reset(nn));do if(An=ee.next(er),An){if(Mi(An.index)>=bn)return _t;this.positionInBuffer(_e,Mi(An.index)-ln,It);var wr=this.getLineFeedCnt(_e.piece.bufferIndex,K,It),hr=It.line===K.line?It.column-K.column+k:It.column+1,xi=hr+An[0].length;if(xt[_t++]=Object(Ut.d)(new D.a(j+wr,hr,j+wr,xi),An,Ve),Mi(An.index)+An[0].length>=bn||_t>=ut)return _t}while(An);return _t}},{key:"findMatchesLineByLine",value:function(_e,ee,j,k){var K=[],ue=0,xe=new Ut.b(ee.wordSeparators,ee.regex),Ve=this.nodeAt2(_e.startLineNumber,_e.startColumn);if(Ve===null)return[];var ut=this.nodeAt2(_e.endLineNumber,_e.endColumn);if(ut===null)return[];var _t=this.positionInBuffer(Ve.node,Ve.remainder),xt=this.positionInBuffer(ut.node,ut.remainder);if(Ve.node===ut.node)return this.findMatchesInNode(Ve.node,xe,_e.startLineNumber,_e.startColumn,_t,xt,ee,j,k,ue,K),K;for(var un=_e.startLineNumber,ln=Ve.node;ln!==ut.node;){var nn=this.getLineFeedCnt(ln.piece.bufferIndex,_t,ln.piece.end);if(nn>=1){var bn=this._buffers[ln.piece.bufferIndex].lineStarts,An=this.offsetInBuffer(ln.piece.bufferIndex,ln.piece.start),It=bn[_t.line+nn],er=un===_e.startLineNumber?_e.startColumn:1;if(ue=this.findMatchesInNode(ln,xe,un,er,_t,this.positionInBuffer(ln,It-An),ee,j,k,ue,K),ue>=k)return K;un+=nn}var Mi=un===_e.startLineNumber?_e.startColumn-1:0;if(un===_e.endLineNumber){var wr=this.getLineContent(un).substring(Mi,_e.endColumn-1);return ue=this._findMatchesInLine(ee,xe,wr,_e.endLineNumber,Mi,ue,K,j,k),K}if(ue=this._findMatchesInLine(ee,xe,this.getLineContent(un).substr(Mi),un,Mi,ue,K,j,k),ue>=k)return K;un++,Ve=this.nodeAt2(un,1),ln=Ve.node,_t=this.positionInBuffer(Ve.node,Ve.remainder)}if(un===_e.endLineNumber){var hr=un===_e.startLineNumber?_e.startColumn-1:0,xi=this.getLineContent(un).substring(hr,_e.endColumn-1);return ue=this._findMatchesInLine(ee,xe,xi,_e.endLineNumber,hr,ue,K,j,k),K}var Ar=un===_e.startLineNumber?_e.startColumn:1;return ue=this.findMatchesInNode(ut.node,xe,un,Ar,_t,xt,ee,j,k,ue,K),K}},{key:"_findMatchesInLine",value:function(_e,ee,j,k,K,ue,xe,Ve,ut){var _t=_e.wordSeparators;if(!Ve&&_e.simpleSearch){for(var xt=_e.simpleSearch,un=xt.length,ln=j.length,nn=-un;(nn=j.indexOf(xt,nn+un))!==-1;)if((!_t||Object(Ut.e)(_t,j,ln,nn,un))&&(xe[ue++]=new z.b(new D.a(k,nn+1+K,k,nn+1+un+K),null),ue>=ut))return ue;return ue}var bn;ee.reset(0);do if(bn=ee.next(j),bn&&(xe[ue++]=Object(Ut.d)(new D.a(k,bn.index+1+K,k,bn.index+1+bn[0].length+K),bn,Ve),ue>=ut))return ue;while(bn);return ue}},{key:"insert",value:function(_e,ee){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this._EOLNormalized=this._EOLNormalized&&j,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==en){var k=this.nodeAt(_e),K=k.node,ue=k.remainder,xe=k.nodeStartOffset,Ve=K.piece,ut=Ve.bufferIndex,_t=this.positionInBuffer(K,ue);if(K.piece.bufferIndex===0&&Ve.end.line===this._lastChangeBufferPos.line&&Ve.end.column===this._lastChangeBufferPos.column&&xe+Ve.length===_e&&ee.length<We){this.appendToNode(K,ee),this.computeBufferMetadata();return}if(xe===_e)this.insertContentToNodeLeft(ee,K),this._searchCache.validate(_e);else if(xe+K.piece.length>_e){var xt=[],un=new ti(Ve.bufferIndex,_t,Ve.end,this.getLineFeedCnt(Ve.bufferIndex,_t,Ve.end),this.offsetInBuffer(ut,Ve.end)-this.offsetInBuffer(ut,_t));if(this.shouldCheckCRLF()&&this.endWithCR(ee)){var ln=this.nodeCharCodeAt(K,ue);if(ln===10){var nn={line:un.start.line+1,column:0};un=new ti(un.bufferIndex,nn,un.end,this.getLineFeedCnt(un.bufferIndex,nn,un.end),un.length-1),ee+=`
`}}if(this.shouldCheckCRLF()&&this.startWithLF(ee)){var bn=this.nodeCharCodeAt(K,ue-1);if(bn===13){var An=this.positionInBuffer(K,ue-1);this.deleteNodeTail(K,An),ee="\r"+ee,K.piece.length===0&&xt.push(K)}else this.deleteNodeTail(K,_t)}else this.deleteNodeTail(K,_t);var It=this.createNewPieces(ee);un.length>0&&this.rbInsertRight(K,un);for(var er=K,Mi=0;Mi<It.length;Mi++)er=this.rbInsertRight(er,It[Mi]);this.deleteNodes(xt)}else this.insertContentToNodeRight(ee,K)}else for(var wr=this.createNewPieces(ee),hr=this.rbInsertLeft(null,wr[0]),xi=1;xi<wr.length;xi++)hr=this.rbInsertRight(hr,wr[xi]);this.computeBufferMetadata()}},{key:"delete",value:function(_e,ee){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(ee<=0||this.root===en)){var j=this.nodeAt(_e),k=this.nodeAt(_e+ee),K=j.node,ue=k.node;if(K===ue){var xe=this.positionInBuffer(K,j.remainder),Ve=this.positionInBuffer(K,k.remainder);if(j.nodeStartOffset===_e){if(ee===K.piece.length){var ut=K.next();Ii(this,K),this.validateCRLFWithPrevNode(ut),this.computeBufferMetadata();return}this.deleteNodeHead(K,Ve),this._searchCache.validate(_e),this.validateCRLFWithPrevNode(K),this.computeBufferMetadata();return}if(j.nodeStartOffset+K.piece.length===_e+ee){this.deleteNodeTail(K,xe),this.validateCRLFWithNextNode(K),this.computeBufferMetadata();return}this.shrinkNode(K,xe,Ve),this.computeBufferMetadata();return}var _t=[],xt=this.positionInBuffer(K,j.remainder);this.deleteNodeTail(K,xt),this._searchCache.validate(_e),K.piece.length===0&&_t.push(K);var un=this.positionInBuffer(ue,k.remainder);this.deleteNodeHead(ue,un),ue.piece.length===0&&_t.push(ue);for(var ln=K.next(),nn=ln;nn!==en&&nn!==ue;nn=nn.next())_t.push(nn);var bn=K.piece.length===0?K.prev():K;this.deleteNodes(_t),this.validateCRLFWithNextNode(bn),this.computeBufferMetadata()}}},{key:"insertContentToNodeLeft",value:function(_e,ee){var j=[];if(this.shouldCheckCRLF()&&this.endWithCR(_e)&&this.startWithLF(ee)){var k=ee.piece,K={line:k.start.line+1,column:0},ue=new ti(k.bufferIndex,K,k.end,this.getLineFeedCnt(k.bufferIndex,K,k.end),k.length-1);ee.piece=ue,_e+=`
`,wt(this,ee,-1,-1),ee.piece.length===0&&j.push(ee)}for(var xe=this.createNewPieces(_e),Ve=this.rbInsertLeft(ee,xe[xe.length-1]),ut=xe.length-2;ut>=0;ut--)Ve=this.rbInsertLeft(Ve,xe[ut]);this.validateCRLFWithPrevNode(Ve),this.deleteNodes(j)}},{key:"insertContentToNodeRight",value:function(_e,ee){this.adjustCarriageReturnFromNext(_e,ee)&&(_e+=`
`);for(var j=this.createNewPieces(_e),k=this.rbInsertRight(ee,j[0]),K=k,ue=1;ue<j.length;ue++)K=this.rbInsertRight(K,j[ue]);this.validateCRLFWithPrevNode(k)}},{key:"positionInBuffer",value:function(_e,ee,j){for(var k=_e.piece,K=_e.piece.bufferIndex,ue=this._buffers[K].lineStarts,xe=ue[k.start.line]+k.start.column,Ve=xe+ee,ut=k.start.line,_t=k.end.line,xt=0,un=0,ln=0;ut<=_t&&(xt=ut+(_t-ut)/2|0,ln=ue[xt],xt!==_t);)if(un=ue[xt+1],Ve<ln)_t=xt-1;else if(Ve>=un)ut=xt+1;else break;return j?(j.line=xt,j.column=Ve-ln,null):{line:xt,column:Ve-ln}}},{key:"getLineFeedCnt",value:function(_e,ee,j){if(j.column===0)return j.line-ee.line;var k=this._buffers[_e].lineStarts;if(j.line===k.length-1)return j.line-ee.line;var K=k[j.line+1],ue=k[j.line]+j.column;if(K>ue+1)return j.line-ee.line;var xe=ue-1,Ve=this._buffers[_e].buffer;return Ve.charCodeAt(xe)===13?j.line-ee.line+1:j.line-ee.line}},{key:"offsetInBuffer",value:function(_e,ee){var j=this._buffers[_e].lineStarts;return j[ee.line]+ee.column}},{key:"deleteNodes",value:function(_e){for(var ee=0;ee<_e.length;ee++)Ii(this,_e[ee])}},{key:"createNewPieces",value:function(_e){if(_e.length>We){for(var ee=[];_e.length>We;){var j=_e.charCodeAt(We-1),k=void 0;j===13||j>=55296&&j<=56319?(k=_e.substring(0,We-1),_e=_e.substring(We-1)):(k=_e.substring(0,We),_e=_e.substring(We));var K=Br(k);ee.push(new ti(this._buffers.length,{line:0,column:0},{line:K.length-1,column:k.length-K[K.length-1]},K.length-1,k.length)),this._buffers.push(new bi(k,K))}var ue=Br(_e);return ee.push(new ti(this._buffers.length,{line:0,column:0},{line:ue.length-1,column:_e.length-ue[ue.length-1]},ue.length-1,_e.length)),this._buffers.push(new bi(_e,ue)),ee}var xe=this._buffers[0].buffer.length,Ve=Br(_e,!1),ut=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===xe&&xe!==0&&this.startWithLF(_e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},ut=this._lastChangeBufferPos;for(var _t=0;_t<Ve.length;_t++)Ve[_t]+=xe+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Ve.slice(1)),this._buffers[0].buffer+="_"+_e,xe+=1}else{if(xe!==0)for(var xt=0;xt<Ve.length;xt++)Ve[xt]+=xe;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Ve.slice(1)),this._buffers[0].buffer+=_e}var un=this._buffers[0].buffer.length,ln=this._buffers[0].lineStarts.length-1,nn=un-this._buffers[0].lineStarts[ln],bn={line:ln,column:nn},An=new ti(0,ut,bn,this.getLineFeedCnt(0,ut,bn),un-xe);return this._lastChangeBufferPos=bn,[An]}},{key:"getLineRawContent",value:function(_e){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=this.root,k="",K=this._searchCache.get2(_e);if(K){j=K.node;var ue=this.getAccumulatedValue(j,_e-K.nodeStartLineNumber-1),xe=this._buffers[j.piece.bufferIndex].buffer,Ve=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);if(K.nodeStartLineNumber+j.piece.lineFeedCnt===_e)k=xe.substring(Ve+ue,Ve+j.piece.length);else{var ut=this.getAccumulatedValue(j,_e-K.nodeStartLineNumber);return xe.substring(Ve+ue,Ve+ut-ee)}}else for(var _t=0,xt=_e;j!==en;)if(j.left!==en&&j.lf_left>=_e-1)j=j.left;else if(j.lf_left+j.piece.lineFeedCnt>_e-1){var un=this.getAccumulatedValue(j,_e-j.lf_left-2),ln=this.getAccumulatedValue(j,_e-j.lf_left-1),nn=this._buffers[j.piece.bufferIndex].buffer,bn=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);return _t+=j.size_left,this._searchCache.set({node:j,nodeStartOffset:_t,nodeStartLineNumber:xt-(_e-1-j.lf_left)}),nn.substring(bn+un,bn+ln-ee)}else if(j.lf_left+j.piece.lineFeedCnt===_e-1){var An=this.getAccumulatedValue(j,_e-j.lf_left-2),It=this._buffers[j.piece.bufferIndex].buffer,er=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);k=It.substring(er+An,er+j.piece.length);break}else _e-=j.lf_left+j.piece.lineFeedCnt,_t+=j.size_left+j.piece.length,j=j.right;for(j=j.next();j!==en;){var Mi=this._buffers[j.piece.bufferIndex].buffer;if(j.piece.lineFeedCnt>0){var wr=this.getAccumulatedValue(j,0),hr=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);return k+=Mi.substring(hr,hr+wr-ee),k}else{var xi=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);k+=Mi.substr(xi,j.piece.length)}j=j.next()}return k}},{key:"computeBufferMetadata",value:function(){for(var _e=this.root,ee=1,j=0;_e!==en;)ee+=_e.lf_left+_e.piece.lineFeedCnt,j+=_e.size_left+_e.piece.length,_e=_e.right;this._lineCnt=ee,this._length=j,this._searchCache.validate(this._length)}},{key:"getIndexOf",value:function(_e,ee){var j=_e.piece,k=this.positionInBuffer(_e,ee),K=k.line-j.start.line;if(this.offsetInBuffer(j.bufferIndex,j.end)-this.offsetInBuffer(j.bufferIndex,j.start)===ee){var ue=this.getLineFeedCnt(_e.piece.bufferIndex,j.start,k);if(ue!==K)return{index:ue,remainder:0}}return{index:K,remainder:k.column}}},{key:"getAccumulatedValue",value:function(_e,ee){if(ee<0)return 0;var j=_e.piece,k=this._buffers[j.bufferIndex].lineStarts,K=j.start.line+ee+1;return K>j.end.line?k[j.end.line]+j.end.column-k[j.start.line]-j.start.column:k[K]-k[j.start.line]-j.start.column}},{key:"deleteNodeTail",value:function(_e,ee){var j=_e.piece,k=j.lineFeedCnt,K=this.offsetInBuffer(j.bufferIndex,j.end),ue=ee,xe=this.offsetInBuffer(j.bufferIndex,ue),Ve=this.getLineFeedCnt(j.bufferIndex,j.start,ue),ut=Ve-k,_t=xe-K,xt=j.length+_t;_e.piece=new ti(j.bufferIndex,j.start,ue,Ve,xt),wt(this,_e,_t,ut)}},{key:"deleteNodeHead",value:function(_e,ee){var j=_e.piece,k=j.lineFeedCnt,K=this.offsetInBuffer(j.bufferIndex,j.start),ue=ee,xe=this.getLineFeedCnt(j.bufferIndex,ue,j.end),Ve=this.offsetInBuffer(j.bufferIndex,ue),ut=xe-k,_t=K-Ve,xt=j.length+_t;_e.piece=new ti(j.bufferIndex,ue,j.end,xe,xt),wt(this,_e,_t,ut)}},{key:"shrinkNode",value:function(_e,ee,j){var k=_e.piece,K=k.start,ue=k.end,xe=k.length,Ve=k.lineFeedCnt,ut=ee,_t=this.getLineFeedCnt(k.bufferIndex,k.start,ut),xt=this.offsetInBuffer(k.bufferIndex,ee)-this.offsetInBuffer(k.bufferIndex,K);_e.piece=new ti(k.bufferIndex,k.start,ut,_t,xt),wt(this,_e,xt-xe,_t-Ve);var un=new ti(k.bufferIndex,j,ue,this.getLineFeedCnt(k.bufferIndex,j,ue),this.offsetInBuffer(k.bufferIndex,ue)-this.offsetInBuffer(k.bufferIndex,j)),ln=this.rbInsertRight(_e,un);this.validateCRLFWithPrevNode(ln)}},{key:"appendToNode",value:function(_e,ee){this.adjustCarriageReturnFromNext(ee,_e)&&(ee+=`
`);var j=this.shouldCheckCRLF()&&this.startWithLF(ee)&&this.endWithCR(_e),k=this._buffers[0].buffer.length;this._buffers[0].buffer+=ee;for(var K=Br(ee,!1),ue=0;ue<K.length;ue++)K[ue]+=k;if(j){var xe=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:k-xe}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(K.slice(1));var Ve=this._buffers[0].lineStarts.length-1,ut=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Ve],_t={line:Ve,column:ut},xt=_e.piece.length+ee.length,un=_e.piece.lineFeedCnt,ln=this.getLineFeedCnt(0,_e.piece.start,_t),nn=ln-un;_e.piece=new ti(_e.piece.bufferIndex,_e.piece.start,_t,ln,xt),this._lastChangeBufferPos=_t,wt(this,_e,ee.length,nn)}},{key:"nodeAt",value:function(_e){var ee=this.root,j=this._searchCache.get(_e);if(j)return{node:j.node,nodeStartOffset:j.nodeStartOffset,remainder:_e-j.nodeStartOffset};for(var k=0;ee!==en;)if(ee.size_left>_e)ee=ee.left;else if(ee.size_left+ee.piece.length>=_e){k+=ee.size_left;var K={node:ee,remainder:_e-ee.size_left,nodeStartOffset:k};return this._searchCache.set(K),K}else _e-=ee.size_left+ee.piece.length,k+=ee.size_left+ee.piece.length,ee=ee.right;return null}},{key:"nodeAt2",value:function(_e,ee){for(var j=this.root,k=0;j!==en;)if(j.left!==en&&j.lf_left>=_e-1)j=j.left;else if(j.lf_left+j.piece.lineFeedCnt>_e-1){var K=this.getAccumulatedValue(j,_e-j.lf_left-2),ue=this.getAccumulatedValue(j,_e-j.lf_left-1);return k+=j.size_left,{node:j,remainder:Math.min(K+ee-1,ue),nodeStartOffset:k}}else if(j.lf_left+j.piece.lineFeedCnt===_e-1){var xe=this.getAccumulatedValue(j,_e-j.lf_left-2);if(xe+ee-1<=j.piece.length)return{node:j,remainder:xe+ee-1,nodeStartOffset:k};ee-=j.piece.length-xe;break}else _e-=j.lf_left+j.piece.lineFeedCnt,k+=j.size_left+j.piece.length,j=j.right;for(j=j.next();j!==en;){if(j.piece.lineFeedCnt>0){var Ve=this.getAccumulatedValue(j,0),ut=this.offsetOfNode(j);return{node:j,remainder:Math.min(ee-1,Ve),nodeStartOffset:ut}}else if(j.piece.length>=ee-1){var _t=this.offsetOfNode(j);return{node:j,remainder:ee-1,nodeStartOffset:_t}}else ee-=j.piece.length;j=j.next()}return null}},{key:"nodeCharCodeAt",value:function(_e,ee){if(_e.piece.lineFeedCnt<1)return-1;var j=this._buffers[_e.piece.bufferIndex],k=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start)+ee;return j.buffer.charCodeAt(k)}},{key:"offsetOfNode",value:function(_e){if(!_e)return 0;for(var ee=_e.size_left;_e!==this.root;)_e.parent.right===_e&&(ee+=_e.parent.size_left+_e.parent.piece.length),_e=_e.parent;return ee}},{key:"shouldCheckCRLF",value:function(){return!(this._EOLNormalized&&this._EOL===`
`)}},{key:"startWithLF",value:function(_e){if(typeof _e=="string")return _e.charCodeAt(0)===10;if(_e===en||_e.piece.lineFeedCnt===0)return!1;var ee=_e.piece,j=this._buffers[ee.bufferIndex].lineStarts,k=ee.start.line,K=j[k]+ee.start.column;if(k===j.length-1)return!1;var ue=j[k+1];return ue>K+1?!1:this._buffers[ee.bufferIndex].buffer.charCodeAt(K)===10}},{key:"endWithCR",value:function(_e){return typeof _e=="string"?_e.charCodeAt(_e.length-1)===13:_e===en||_e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(_e,_e.piece.length-1)===13}},{key:"validateCRLFWithPrevNode",value:function(_e){if(this.shouldCheckCRLF()&&this.startWithLF(_e)){var ee=_e.prev();this.endWithCR(ee)&&this.fixCRLF(ee,_e)}}},{key:"validateCRLFWithNextNode",value:function(_e){if(this.shouldCheckCRLF()&&this.endWithCR(_e)){var ee=_e.next();this.startWithLF(ee)&&this.fixCRLF(_e,ee)}}},{key:"fixCRLF",value:function(_e,ee){var j=[],k=this._buffers[_e.piece.bufferIndex].lineStarts,K;_e.piece.end.column===0?K={line:_e.piece.end.line-1,column:k[_e.piece.end.line]-k[_e.piece.end.line-1]-1}:K={line:_e.piece.end.line,column:_e.piece.end.column-1};var ue=_e.piece.length-1,xe=_e.piece.lineFeedCnt-1;_e.piece=new ti(_e.piece.bufferIndex,_e.piece.start,K,xe,ue),wt(this,_e,-1,-1),_e.piece.length===0&&j.push(_e);var Ve={line:ee.piece.start.line+1,column:0},ut=ee.piece.length-1,_t=this.getLineFeedCnt(ee.piece.bufferIndex,Ve,ee.piece.end);ee.piece=new ti(ee.piece.bufferIndex,Ve,ee.piece.end,_t,ut),wt(this,ee,-1,-1),ee.piece.length===0&&j.push(ee);var xt=this.createNewPieces(`\r
`);this.rbInsertRight(_e,xt[0]);for(var un=0;un<j.length;un++)Ii(this,j[un])}},{key:"adjustCarriageReturnFromNext",value:function(_e,ee){if(this.shouldCheckCRLF()&&this.endWithCR(_e)){var j=ee.next();if(this.startWithLF(j)){if(_e+=`
`,j.piece.length===1)Ii(this,j);else{var k=j.piece,K={line:k.start.line+1,column:0},ue=k.length-1,xe=this.getLineFeedCnt(k.bufferIndex,K,k.end);j.piece=new ti(k.bufferIndex,K,k.end,xe,ue),wt(this,j,-1,-1)}return!0}}return!1}},{key:"iterate",value:function(_e,ee){if(_e===en)return ee(en);var j=this.iterate(_e.left,ee);return j&&ee(_e)&&this.iterate(_e.right,ee)}},{key:"getNodeContent",value:function(_e){if(_e===en)return"";var ee=this._buffers[_e.piece.bufferIndex],j=_e.piece,k=this.offsetInBuffer(j.bufferIndex,j.start),K=this.offsetInBuffer(j.bufferIndex,j.end),ue=ee.buffer.substring(k,K);return ue}},{key:"getPieceContent",value:function(_e){var ee=this._buffers[_e.bufferIndex],j=this.offsetInBuffer(_e.bufferIndex,_e.start),k=this.offsetInBuffer(_e.bufferIndex,_e.end),K=ee.buffer.substring(j,k);return K}},{key:"rbInsertRight",value:function(_e,ee){var j=new gn(ee,1);j.left=en,j.right=en,j.parent=en,j.size_left=0,j.lf_left=0;var k=this.root;if(k===en)this.root=j,j.color=0;else if(_e.right===en)_e.right=j,j.parent=_e;else{var K=yn(_e.right);K.left=j,j.parent=K}return Hi(this,j),j}},{key:"rbInsertLeft",value:function(_e,ee){var j=new gn(ee,1);if(j.left=en,j.right=en,j.parent=en,j.size_left=0,j.lf_left=0,this.root===en)this.root=j,j.color=0;else if(_e.left===en)_e.left=j,j.parent=_e;else{var k=Qn(_e.left);k.right=j,j.parent=k}return Hi(this,j),j}}]),Rt}(),Gt=a("jRcv"),mt=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee,j,k,K,ue,xe,Ve){var ut;return Object(_.a)(this,_e),ut=tt.call(this),ut._onDidChangeContent=ut._register(new V.b),ut._BOM=j,ut._mightContainNonBasicASCII=!xe,ut._mightContainRTL=K,ut._mightContainUnusualLineTerminators=ue,ut._pieceTree=new Nt(ee,k,Ve),ut}return Object(Y.a)(_e,[{key:"mightContainRTL",value:function(){return this._mightContainRTL}},{key:"mightContainUnusualLineTerminators",value:function(){return this._mightContainUnusualLineTerminators}},{key:"resetMightContainUnusualLineTerminators",value:function(){this._mightContainUnusualLineTerminators=!1}},{key:"mightContainNonBasicASCII",value:function(){return this._mightContainNonBasicASCII}},{key:"getBOM",value:function(){return this._BOM}},{key:"getEOL",value:function(){return this._pieceTree.getEOL()}},{key:"createSnapshot",value:function(j){return this._pieceTree.createSnapshot(j?this._BOM:"")}},{key:"getOffsetAt",value:function(j,k){return this._pieceTree.getOffsetAt(j,k)}},{key:"getPositionAt",value:function(j){return this._pieceTree.getPositionAt(j)}},{key:"getRangeAt",value:function(j,k){var K=j+k,ue=this.getPositionAt(j),xe=this.getPositionAt(K);return new D.a(ue.lineNumber,ue.column,xe.lineNumber,xe.column)}},{key:"getValueInRange",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(j.isEmpty())return"";var K=this._getEndOfLine(k);return this._pieceTree.getValueInRange(j,K)}},{key:"getValueLengthInRange",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(j.isEmpty())return 0;if(j.startLineNumber===j.endLineNumber)return j.endColumn-j.startColumn;var K=this.getOffsetAt(j.startLineNumber,j.startColumn),ue=this.getOffsetAt(j.endLineNumber,j.endColumn),xe=0,Ve=this._getEndOfLine(k),ut=this.getEOL();if(Ve.length!==ut.length){var _t=Ve.length-ut.length,xt=j.endLineNumber-j.startLineNumber;xe=_t*xt}return ue-K+xe}},{key:"getCharacterCountInRange",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._mightContainNonBasicASCII){for(var K=0,ue=j.startLineNumber,xe=j.endLineNumber,Ve=ue;Ve<=xe;Ve++)for(var ut=this.getLineContent(Ve),_t=Ve===ue?j.startColumn-1:0,xt=Ve===xe?j.endColumn-1:ut.length,un=_t;un<xt;un++)F.F(ut.charCodeAt(un))?(K=K+1,un=un+1):K=K+1;return K+=this._getEndOfLine(k).length*(xe-ue),K}return this.getValueLengthInRange(j,k)}},{key:"getLength",value:function(){return this._pieceTree.getLength()}},{key:"getLineCount",value:function(){return this._pieceTree.getLineCount()}},{key:"getLinesContent",value:function(){return this._pieceTree.getLinesContent()}},{key:"getLineContent",value:function(j){return this._pieceTree.getLineContent(j)}},{key:"getLineCharCode",value:function(j,k){return this._pieceTree.getLineCharCode(j,k)}},{key:"getLineLength",value:function(j){return this._pieceTree.getLineLength(j)}},{key:"getLineFirstNonWhitespaceColumn",value:function(j){var k=F.u(this.getLineContent(j));return k===-1?0:k+1}},{key:"getLineLastNonWhitespaceColumn",value:function(j){var k=F.J(this.getLineContent(j));return k===-1?0:k+2}},{key:"_getEndOfLine",value:function(j){switch(j){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}},{key:"setEOL",value:function(j){this._pieceTree.setEOL(j)}},{key:"applyEdits",value:function(j,k,K){for(var ue=this._mightContainRTL,xe=this._mightContainUnusualLineTerminators,Ve=this._mightContainNonBasicASCII,ut=!0,_t=[],xt=0;xt<j.length;xt++){var un=j[xt];ut&&un._isTracked&&(ut=!1);var ln=un.range;if(un.text){var nn=!0;Ve||(nn=!F.B(un.text),Ve=nn),!ue&&nn&&(ue=F.m(un.text)),!xe&&nn&&(xe=F.n(un.text))}var bn="",An=0,It=0,er=0;if(un.text){var Mi=void 0,wr=Object(N.a)(un.text),hr=Object(we.a)(wr,4);An=hr[0],It=hr[1],er=hr[2],Mi=hr[3];var xi=this.getEOL(),Ar=xi===`\r
`?2:1;Mi===0||Mi===Ar?bn=un.text:bn=un.text.replace(/\r\n|\r|\n/g,xi)}_t[xt]={sortIndex:xt,identifier:un.identifier||null,range:ln,rangeOffset:this.getOffsetAt(ln.startLineNumber,ln.startColumn),rangeLength:this.getValueLengthInRange(ln),text:bn,eolCount:An,firstLineLength:It,lastLineLength:er,forceMoveMarkers:Boolean(un.forceMoveMarkers),isAutoWhitespaceEdit:un.isAutoWhitespaceEdit||!1}}_t.sort(_e._sortOpsAscending);for(var zr=!1,Tr=0,ba=_t.length-1;Tr<ba;Tr++){var Sa=_t[Tr].range.getEndPosition(),Va=_t[Tr+1].range.getStartPosition();if(Va.isBeforeOrEqual(Sa)){if(Va.isBefore(Sa))throw new Error("Overlapping ranges are not allowed!");zr=!0}}ut&&(_t=this._reduceOperations(_t));var Ja=K||k?_e._getInverseEditRanges(_t):[],Ba=[];if(k)for(var bo=0;bo<_t.length;bo++){var yo=_t[bo],Vo=Ja[bo];if(yo.isAutoWhitespaceEdit&&yo.range.isEmpty())for(var js=Vo.startLineNumber;js<=Vo.endLineNumber;js++){var Qo="";js===Vo.startLineNumber&&(Qo=this.getLineContent(yo.range.startLineNumber),F.u(Qo)!==-1)||Ba.push({lineNumber:js,oldContent:Qo})}}var Ho=null;if(K){var us=0;Ho=[];for(var go=0;go<_t.length;go++){var Uo=_t[go],Yo=Ja[go],zo=this.getValueInRange(Uo.range),Bs=Uo.rangeOffset+us;us+=Uo.text.length-zo.length,Ho[go]={sortIndex:Uo.sortIndex,identifier:Uo.identifier,range:Yo,text:zo,textChange:new Gt.a(Uo.rangeOffset,zo,Bs,Uo.text)}}zr||Ho.sort(function(vl,zl){return vl.sortIndex-zl.sortIndex})}this._mightContainRTL=ue,this._mightContainUnusualLineTerminators=xe,this._mightContainNonBasicASCII=Ve;var du=this._doApplyEdits(_t),hu=null;if(k&&Ba.length>0){Ba.sort(function(vl,zl){return zl.lineNumber-vl.lineNumber}),hu=[];for(var Is=0,hl=Ba.length;Is<hl;Is++){var Ks=Ba[Is].lineNumber;if(!(Is>0&&Ba[Is-1].lineNumber===Ks)){var fu=Ba[Is].oldContent,fl=this.getLineContent(Ks);fl.length===0||fl===fu||F.u(fl)!==-1||hu.push(Ks)}}}return this._onDidChangeContent.fire(),new z.a(Ho,du,hu)}},{key:"_reduceOperations",value:function(j){return j.length<1e3?j:[this._toSingleEditOperation(j)]}},{key:"_toSingleEditOperation",value:function(j){for(var k=!1,K=j[0].range,ue=j[j.length-1].range,xe=new D.a(K.startLineNumber,K.startColumn,ue.endLineNumber,ue.endColumn),Ve=K.startLineNumber,ut=K.startColumn,_t=[],xt=0,un=j.length;xt<un;xt++){var ln=j[xt],nn=ln.range;k=k||ln.forceMoveMarkers,_t.push(this.getValueInRange(new D.a(Ve,ut,nn.startLineNumber,nn.startColumn))),ln.text.length>0&&_t.push(ln.text),Ve=nn.endLineNumber,ut=nn.endColumn}var bn=_t.join(""),An=Object(N.a)(bn),It=Object(we.a)(An,3),er=It[0],Mi=It[1],wr=It[2];return{sortIndex:0,identifier:j[0].identifier,range:xe,rangeOffset:this.getOffsetAt(xe.startLineNumber,xe.startColumn),rangeLength:this.getValueLengthInRange(xe,0),text:bn,eolCount:er,firstLineLength:Mi,lastLineLength:wr,forceMoveMarkers:k,isAutoWhitespaceEdit:!1}}},{key:"_doApplyEdits",value:function(j){j.sort(_e._sortOpsDescending);for(var k=[],K=0;K<j.length;K++){var ue=j[K],xe=ue.range.startLineNumber,Ve=ue.range.startColumn,ut=ue.range.endLineNumber,_t=ue.range.endColumn;if(!(xe===ut&&Ve===_t&&ue.text.length===0)){ue.text?(this._pieceTree.delete(ue.rangeOffset,ue.rangeLength),this._pieceTree.insert(ue.rangeOffset,ue.text,!0)):this._pieceTree.delete(ue.rangeOffset,ue.rangeLength);var xt=new D.a(xe,Ve,ut,_t);k.push({range:xt,rangeLength:ue.rangeLength,text:ue.text,rangeOffset:ue.rangeOffset,forceMoveMarkers:ue.forceMoveMarkers})}}return k}},{key:"findMatchesLineByLine",value:function(j,k,K,ue){return this._pieceTree.findMatchesLineByLine(j,k,K,ue)}}],[{key:"_getInverseEditRanges",value:function(j){for(var k=[],K=0,ue=0,xe=null,Ve=0,ut=j.length;Ve<ut;Ve++){var _t=j[Ve],xt=void 0,un=void 0;xe?xe.range.endLineNumber===_t.range.startLineNumber?(xt=K,un=ue+(_t.range.startColumn-xe.range.endColumn)):(xt=K+(_t.range.startLineNumber-xe.range.endLineNumber),un=_t.range.startColumn):(xt=_t.range.startLineNumber,un=_t.range.startColumn);var ln=void 0;if(_t.text.length>0){var nn=_t.eolCount+1;nn===1?ln=new D.a(xt,un,xt,un+_t.firstLineLength):ln=new D.a(xt,un,xt+nn-1,_t.lastLineLength+1)}else ln=new D.a(xt,un,xt,un);K=ln.endLineNumber,ue=ln.endColumn,k.push(ln),xe=_t}return k}},{key:"_sortOpsAscending",value:function(j,k){var K=D.a.compareRangesUsingEnds(j.range,k.range);return K===0?j.sortIndex-k.sortIndex:K}},{key:"_sortOpsDescending",value:function(j,k){var K=D.a.compareRangesUsingEnds(j.range,k.range);return K===0?k.sortIndex-j.sortIndex:-K}}]),_e}(B.a),Ye=function(){function Rt(tt,_e,ee,j,k,K,ue,xe,Ve){Object(_.a)(this,Rt),this._chunks=tt,this._bom=_e,this._cr=ee,this._lf=j,this._crlf=k,this._containsRTL=K,this._containsUnusualLineTerminators=ue,this._isBasicASCII=xe,this._normalizeEOL=Ve}return Object(Y.a)(Rt,[{key:"_getEOL",value:function(_e){var ee=this._cr+this._lf+this._crlf,j=this._cr+this._crlf;return ee===0?_e===1?`
`:`\r
`:j>ee/2?`\r
`:`
`}},{key:"create",value:function(_e){var ee=this._getEOL(_e),j=this._chunks;if(this._normalizeEOL&&(ee===`\r
`&&(this._cr>0||this._lf>0)||ee===`
`&&(this._cr>0||this._crlf>0)))for(var k=0,K=j.length;k<K;k++){var ue=j[k].buffer.replace(/\r\n|\r|\n/g,ee),xe=Br(ue);j[k]=new bi(ue,xe)}var Ve=new mt(j,this._bom,ee,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Ve,disposable:Ve}}}]),Rt}(),vn=function(){function Rt(){Object(_.a)(this,Rt),this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}return Object(Y.a)(Rt,[{key:"acceptChunk",value:function(_e){if(_e.length!==0){this.chunks.length===0&&F.U(_e)&&(this.BOM=F.e,_e=_e.substr(1));var ee=_e.charCodeAt(_e.length-1);ee===13||ee>=55296&&ee<=56319?(this._acceptChunk1(_e.substr(0,_e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=ee):(this._acceptChunk1(_e,!1),this._hasPreviousChar=!1,this._previousChar=ee)}}},{key:"_acceptChunk1",value:function(_e,ee){!ee&&_e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+_e):this._acceptChunk2(_e))}},{key:"_acceptChunk2",value:function(_e){var ee=Yr(this._tmpLineStarts,_e);this.chunks.push(new bi(_e,ee.lineStarts)),this.cr+=ee.cr,this.lf+=ee.lf,this.crlf+=ee.crlf,ee.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=F.m(_e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=F.n(_e)))}},{key:"finish",value:function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this._finish(),new Ye(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,_e)}},{key:"_finish",value:function(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;var _e=this.chunks[this.chunks.length-1];_e.buffer+=String.fromCharCode(this._previousChar);var ee=Br(_e.buffer);_e.lineStarts=ee,this._previousChar===13&&this.cr++}}}]),Rt}(),nt=a("oBTY"),Ze=a("X+cX"),Zt=a("VHWv"),hn=a("h5s8"),Ht=a("LloX"),lt=a("j9oM"),si=a("MNsG"),Oi=a("5Y4S"),Ji=a("7/IO"),Wi=a("7AJZ"),Yi=function(){function Rt(tt){Object(_.a)(this,Rt),this._default=tt,this._store=[]}return Object(Y.a)(Rt,[{key:"get",value:function(_e){return _e<this._store.length?this._store[_e]:this._default}},{key:"set",value:function(_e,ee){for(;_e>=this._store.length;)this._store[this._store.length]=this._default;this._store[_e]=ee}},{key:"replace",value:function(_e,ee,j){if(!(_e>=this._store.length)){if(ee===0){this.insert(_e,j);return}else if(j===0){this.delete(_e,ee);return}var k=this._store.slice(0,_e),K=this._store.slice(_e+ee),ue=Bi(j,this._default);this._store=k.concat(ue,K)}}},{key:"delete",value:function(_e,ee){ee===0||_e>=this._store.length||this._store.splice(_e,ee)}},{key:"insert",value:function(_e,ee){if(!(ee===0||_e>=this._store.length)){for(var j=[],k=0;k<ee;k++)j[k]=this._default;this._store=Object(E.c)(this._store,_e,j)}}}]),Rt}();function Bi(Rt,tt){for(var _e=[],ee=0;ee<Rt;ee++)_e[ee]=tt;return _e}var Gi=function(){function Rt(tt,_e){Object(_.a)(this,Rt),this._startLineNumber=tt,this._tokens=_e}return Object(Y.a)(Rt,[{key:"startLineNumber",get:function(){return this._startLineNumber}},{key:"endLineNumber",get:function(){return this._startLineNumber+this._tokens.length-1}},{key:"getLineTokens",value:function(_e){return this._tokens[_e-this._startLineNumber]}},{key:"appendLineTokens",value:function(_e){this._tokens.push(_e)}}]),Rt}(),Gr=function(){function Rt(){Object(_.a)(this,Rt),this._tokens=[]}return Object(Y.a)(Rt,[{key:"add",value:function(_e,ee){if(this._tokens.length>0){var j=this._tokens[this._tokens.length-1];if(j.endLineNumber+1===_e){j.appendLineTokens(ee);return}}this._tokens.push(new Gi(_e,[ee]))}},{key:"finalize",value:function(){return this._tokens}}]),Rt}(),kr=a("zhcO"),sa=function(){function Rt(tt,_e){Object(_.a)(this,Rt),this.tokenizationSupport=_e,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new ua(tt)}return Object(Y.a)(Rt,[{key:"getStartState",value:function(_e){return _e===1?this.initialState:this.store.getEndState(_e-1)}}]),Rt}(),Fr=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee,j,k,K){var ue;return Object(_.a)(this,_e),ue=tt.call(this,ee,j),ue._textModel=k,ue._languageIdCodec=K,ue}return Object(Y.a)(_e,[{key:"updateTokensUntilLine",value:function(j,k){for(var K=this._textModel.getLanguageId();;){var ue=this.store.getFirstInvalidEndStateLineNumber();if(!ue||ue>k)break;var xe=this._textModel.getLineContent(ue),Ve=this.getStartState(ue),ut=ct(this._languageIdCodec,K,this.tokenizationSupport,xe,!0,Ve);j.add(ue,ut.tokens),this.store.setEndState(ue,ut.endState)}}},{key:"getTokenTypeIfInsertingCharacter",value:function(j,k){var K=this.getStartState(j.lineNumber);if(!K)return 0;var ue=this._textModel.getLanguageId(),xe=this._textModel.getLineContent(j.lineNumber),Ve=xe.substring(0,j.column-1)+k+xe.substring(j.column-1),ut=ct(this._languageIdCodec,ue,this.tokenizationSupport,Ve,!0,K),_t=new kr.a(ut.tokens,Ve,this._languageIdCodec);if(_t.getCount()===0)return 0;var xt=_t.findTokenIndexAtOffset(j.column-1);return _t.getStandardTokenType(xt)}},{key:"tokenizeLineWithEdit",value:function(j,k,K){var ue=j.lineNumber,xe=j.column,Ve=this.getStartState(ue);if(!Ve)return null;var ut=this._textModel.getLineContent(ue),_t=ut.substring(0,xe-1)+K+ut.substring(xe-1+k),xt=this._textModel.getLanguageIdAtPosition(ue,0),un=ct(this._languageIdCodec,xt,this.tokenizationSupport,_t,!0,Ve),ln=new kr.a(un.tokens,_t,this._languageIdCodec);return ln}},{key:"isCheapToTokenize",value:function(j){var k=this.store.getFirstInvalidEndStateLineNumberOrMax();return j<k||j===k&&this._textModel.getLineLength(j)<2048}},{key:"tokenizeHeuristically",value:function(j,k,K){if(K<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(k<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(j,K),{heuristicTokens:!1};for(var ue=this.guessStartState(k),xe=this._textModel.getLanguageId(),Ve=k;Ve<=K;Ve++){var ut=this._textModel.getLineContent(Ve),_t=ct(this._languageIdCodec,xe,this.tokenizationSupport,ut,!0,ue);j.add(Ve,_t.tokens),ue=_t.endState}return{heuristicTokens:!0}}},{key:"guessStartState",value:function(j){for(var k=this._textModel.getLineFirstNonWhitespaceColumn(j),K=[],ue=null,xe=j-1;k>1&&xe>=1;xe--){var Ve=this._textModel.getLineFirstNonWhitespaceColumn(xe);if(Ve!==0&&Ve<k&&(K.push(this._textModel.getLineContent(xe)),k=Ve,ue=this.getStartState(xe),ue))break}ue||(ue=this.tokenizationSupport.getInitialState()),K.reverse();for(var ut=this._textModel.getLanguageId(),_t=ue,xt=0,un=K;xt<un.length;xt++){var ln=un[xt],nn=ct(this._languageIdCodec,ut,this.tokenizationSupport,ln,!1,_t);_t=nn.endState}return _t}}]),_e}(sa),ua=function(){function Rt(tt){Object(_.a)(this,Rt),this.lineCount=tt,this.tokenizationStateStore=new pn,this._invalidEndStatesLineNumbers=new Ln,this._invalidEndStatesLineNumbers.addRange(new Ji.a(1,tt+1))}return Object(Y.a)(Rt,[{key:"getEndState",value:function(_e){return this.tokenizationStateStore.getEndState(_e)}},{key:"setEndState",value:function(_e,ee){for(;;){var j=this._invalidEndStatesLineNumbers.min;if(j!==null&&j<=_e)this._invalidEndStatesLineNumbers.removeMin();else break}var k=this.tokenizationStateStore.setEndState(_e,ee);return k&&_e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new Ji.a(_e+1,_e+2)),k}},{key:"acceptChange",value:function(_e,ee){this.lineCount+=ee-_e.length,this.tokenizationStateStore.acceptChange(_e,ee),this._invalidEndStatesLineNumbers.addRangeAndResize(new Ji.a(_e.startLineNumber,_e.endLineNumberExclusive),ee)}},{key:"acceptChanges",value:function(_e){var ee=Object(ce.a)(_e),j;try{for(ee.s();!(j=ee.n()).done;){var k=j.value,K=Object(N.a)(k.text),ue=Object(we.a)(K,1),xe=ue[0];this.acceptChange(new Zt.a(k.range.startLineNumber,k.range.endLineNumber+1),xe+1)}}catch(Ve){ee.e(Ve)}finally{ee.f()}}},{key:"invalidateEndStateRange",value:function(_e){this._invalidEndStatesLineNumbers.addRange(new Ji.a(_e.startLineNumber,_e.endLineNumberExclusive))}},{key:"getFirstInvalidEndStateLineNumber",value:function(){return this._invalidEndStatesLineNumbers.min}},{key:"getFirstInvalidEndStateLineNumberOrMax",value:function(){return this._invalidEndStatesLineNumbers.min||Number.MAX_SAFE_INTEGER}},{key:"isTokenizationComplete",value:function(){return this._invalidEndStatesLineNumbers.min===null}}]),Rt}(),pn=function(){function Rt(){Object(_.a)(this,Rt),this._lineEndStates=new Yi(null)}return Object(Y.a)(Rt,[{key:"getEndState",value:function(_e){return this._lineEndStates.get(_e)}},{key:"setEndState",value:function(_e,ee){var j=this._lineEndStates.get(_e);return j&&j.equals(ee)?!1:(this._lineEndStates.set(_e,ee),!0)}},{key:"acceptChange",value:function(_e,ee){var j=_e.length;ee>0&&j>0&&(j--,ee--),this._lineEndStates.replace(_e.startLineNumber,j,ee)}}]),Rt}(),Ln=function(){function Rt(){Object(_.a)(this,Rt),this._ranges=[]}return Object(Y.a)(Rt,[{key:"min",get:function(){return this._ranges.length===0?null:this._ranges[0].start}},{key:"removeMin",value:function(){if(this._ranges.length===0)return null;var _e=this._ranges[0];return _e.start+1===_e.endExclusive?this._ranges.shift():this._ranges[0]=new Ji.a(_e.start+1,_e.endExclusive),_e.start}},{key:"addRange",value:function(_e){Ji.a.addRange(_e,this._ranges)}},{key:"addRangeAndResize",value:function(_e,ee){for(var j=0;!(j>=this._ranges.length||_e.start<=this._ranges[j].endExclusive);)j++;for(var k=j;!(k>=this._ranges.length||_e.endExclusive<this._ranges[k].start);)k++;for(var K=ee-_e.length,ue=k;ue<this._ranges.length;ue++)this._ranges[ue]=this._ranges[ue].delta(K);if(j===k){var xe=new Ji.a(_e.start,_e.start+ee);xe.isEmpty||this._ranges.splice(j,0,xe)}else{var Ve=Math.min(_e.start,this._ranges[j].start),ut=Math.max(_e.endExclusive,this._ranges[k-1].endExclusive),_t=new Ji.a(Ve,ut+K);_t.isEmpty?this._ranges.splice(j,k-j):this._ranges.splice(j,k-j,_t)}}},{key:"toString",value:function(){return this._ranges.map(function(_e){return _e.toString()}).join(" + ")}}]),Rt}();function ct(Rt,tt,_e,ee,j,k){var K=null;if(_e)try{K=_e.tokenizeEncoded(ee,j,k.clone())}catch(ue){Object(ne.h)(ue)}return K||(K=Object(Wi.c)(Rt.encodeLanguageId(tt),k)),kr.a.convertToEndOffset(K.tokens,ee.length),K}var Mt=function(){function Rt(tt,_e){Object(_.a)(this,Rt),this._tokenizerWithStateStore=tt,this._backgroundTokenStore=_e,this._isDisposed=!1,this._isScheduled=!1}return Object(Y.a)(Rt,[{key:"dispose",value:function(){this._isDisposed=!0}},{key:"handleChanges",value:function(){this._beginBackgroundTokenization()}},{key:"_beginBackgroundTokenization",value:function(){var _e=this;this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,Object(Ze.p)(function(ee){_e._isScheduled=!1,_e._backgroundTokenizeWithDeadline(ee)}))}},{key:"_backgroundTokenizeWithDeadline",value:function(_e){var ee=this,j=Date.now()+_e.timeRemaining(),k=function K(){ee._isDisposed||!ee._tokenizerWithStateStore._textModel.isAttachedToEditor()||!ee._hasLinesToTokenize()||(ee._backgroundTokenizeForAtLeast1ms(),Date.now()<j?Object(si.q)(K):ee._beginBackgroundTokenization())};k()}},{key:"_backgroundTokenizeForAtLeast1ms",value:function(){var _e=this._tokenizerWithStateStore._textModel.getLineCount(),ee=new Gr,j=Oi.a.create(!1);do{if(j.elapsed()>1)break;var k=this._tokenizeOneInvalidLine(ee);if(k>=_e)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(ee.finalize()),this.checkFinished()}},{key:"_hasLinesToTokenize",value:function(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.isTokenizationComplete():!1}},{key:"_tokenizeOneInvalidLine",value:function(_e){if(!this._tokenizerWithStateStore||!this._hasLinesToTokenize())return this._tokenizerWithStateStore._textModel.getLineCount()+1;var ee=this._tokenizerWithStateStore.store.getFirstInvalidEndStateLineNumber();return this._tokenizerWithStateStore.updateTokensUntilLine(_e,ee),ee}},{key:"checkFinished",value:function(){this._isDisposed||this._tokenizerWithStateStore.store.isTokenizationComplete()&&this._backgroundTokenStore.backgroundTokenizationFinished()}},{key:"requestTokens",value:function(_e,ee){this._tokenizerWithStateStore.store.invalidateEndStateRange(new Zt.a(_e,ee))}}]),Rt}(),At=new Uint32Array(0).buffer,zt=function(){function Rt(){Object(_.a)(this,Rt)}return Object(Y.a)(Rt,null,[{key:"deleteBeginning",value:function(_e,ee){return _e===null||_e===At?_e:Rt.delete(_e,0,ee)}},{key:"deleteEnding",value:function(_e,ee){if(_e===null||_e===At)return _e;var j=$t(_e),k=j[j.length-2];return Rt.delete(_e,ee,k)}},{key:"delete",value:function(_e,ee,j){if(_e===null||_e===At||ee===j)return _e;var k=$t(_e),K=k.length>>>1;if(ee===0&&k[k.length-2]===j)return At;var ue=kr.a.findIndexInTokensArray(k,ee),xe=ue>0?k[ue-1<<1]:0,Ve=k[ue<<1];if(j<Ve){for(var ut=j-ee,_t=ue;_t<K;_t++)k[_t<<1]-=ut;return _e}var xt,un;xe!==ee?(k[ue<<1]=ee,xt=ue+1<<1,un=ee):(xt=ue<<1,un=xe);for(var ln=j-ee,nn=ue+1;nn<K;nn++){var bn=k[nn<<1]-ln;bn>un&&(k[xt++]=bn,k[xt++]=k[(nn<<1)+1],un=bn)}if(xt===k.length)return _e;var An=new Uint32Array(xt);return An.set(k.subarray(0,xt),0),An.buffer}},{key:"append",value:function(_e,ee){if(ee===At)return _e;if(_e===At)return ee;if(_e===null)return _e;if(ee===null)return null;var j=$t(_e),k=$t(ee),K=k.length>>>1,ue=new Uint32Array(j.length+k.length);ue.set(j,0);for(var xe=j.length,Ve=j[j.length-2],ut=0;ut<K;ut++)ue[xe++]=k[ut<<1]+Ve,ue[xe++]=k[(ut<<1)+1];return ue.buffer}},{key:"insert",value:function(_e,ee,j){if(_e===null||_e===At)return _e;var k=$t(_e),K=k.length>>>1,ue=kr.a.findIndexInTokensArray(k,ee);if(ue>0){var xe=k[ue-1<<1];xe===ee&&ue--}for(var Ve=ue;Ve<K;Ve++)k[Ve<<1]+=j;return _e}}]),Rt}();function $t(Rt){return Rt instanceof Uint32Array?Rt:new Uint32Array(Rt)}var Un=a("VGTv"),Vn=function(){function Rt(tt){Object(_.a)(this,Rt),this._lineTokens=[],this._len=0,this._languageIdCodec=tt}return Object(Y.a)(Rt,[{key:"flush",value:function(){this._lineTokens=[],this._len=0}},{key:"hasTokens",get:function(){return this._lineTokens.length>0}},{key:"getTokens",value:function(_e,ee,j){var k=null;if(ee<this._len&&(k=this._lineTokens[ee]),k!==null&&k!==At)return new kr.a($t(k),j,this._languageIdCodec);var K=new Uint32Array(2);return K[0]=j.length,K[1]=Gn(this._languageIdCodec.encodeLanguageId(_e)),new kr.a(K,j,this._languageIdCodec)}},{key:"_ensureLine",value:function(_e){for(;_e>=this._len;)this._lineTokens[this._len]=null,this._len++}},{key:"_deleteLines",value:function(_e,ee){ee!==0&&(_e+ee>this._len&&(ee=this._len-_e),this._lineTokens.splice(_e,ee),this._len-=ee)}},{key:"_insertLines",value:function(_e,ee){if(ee!==0){for(var j=[],k=0;k<ee;k++)j[k]=null;this._lineTokens=E.c(this._lineTokens,_e,j),this._len+=ee}}},{key:"setTokens",value:function(_e,ee,j,k,K){var ue=Rt._massageTokens(this._languageIdCodec.encodeLanguageId(_e),j,k);this._ensureLine(ee);var xe=this._lineTokens[ee];return this._lineTokens[ee]=ue,K?!Rt._equals(xe,ue):!1}},{key:"acceptEdit",value:function(_e,ee,j){this._acceptDeleteRange(_e),this._acceptInsertText(new d.a(_e.startLineNumber,_e.startColumn),ee,j)}},{key:"_acceptDeleteRange",value:function(_e){var ee=_e.startLineNumber-1;if(!(ee>=this._len)){if(_e.startLineNumber===_e.endLineNumber){if(_e.startColumn===_e.endColumn)return;this._lineTokens[ee]=zt.delete(this._lineTokens[ee],_e.startColumn-1,_e.endColumn-1);return}this._lineTokens[ee]=zt.deleteEnding(this._lineTokens[ee],_e.startColumn-1);var j=_e.endLineNumber-1,k=null;j<this._len&&(k=zt.deleteBeginning(this._lineTokens[j],_e.endColumn-1)),this._lineTokens[ee]=zt.append(this._lineTokens[ee],k),this._deleteLines(_e.startLineNumber,_e.endLineNumber-_e.startLineNumber)}}},{key:"_acceptInsertText",value:function(_e,ee,j){if(!(ee===0&&j===0)){var k=_e.lineNumber-1;if(!(k>=this._len)){if(ee===0){this._lineTokens[k]=zt.insert(this._lineTokens[k],_e.column-1,j);return}this._lineTokens[k]=zt.deleteEnding(this._lineTokens[k],_e.column-1),this._lineTokens[k]=zt.insert(this._lineTokens[k],_e.column-1,j),this._insertLines(_e.lineNumber,ee)}}}},{key:"setMultilineTokens",value:function(_e,ee){if(_e.length===0)return{changes:[]};for(var j=[],k=0,K=_e.length;k<K;k++){for(var ue=_e[k],xe=0,Ve=0,ut=!1,_t=ue.startLineNumber;_t<=ue.endLineNumber;_t++)if(ut)this.setTokens(ee.getLanguageId(),_t-1,ee.getLineLength(_t),ue.getLineTokens(_t),!1),Ve=_t;else{var xt=this.setTokens(ee.getLanguageId(),_t-1,ee.getLineLength(_t),ue.getLineTokens(_t),!0);xt&&(ut=!0,xe=_t,Ve=_t)}ut&&j.push({fromLineNumber:xe,toLineNumber:Ve})}return{changes:j}}}],[{key:"_massageTokens",value:function(_e,ee,j){var k=j?$t(j):null;if(ee===0){var K=!1;if(k&&k.length>1&&(K=Un.a.getLanguageId(k[1])!==_e),!K)return At}if(!k||k.length===0){var ue=new Uint32Array(2);return ue[0]=ee,ue[1]=Gn(_e),ue.buffer}return k[k.length-2]=ee,k.byteOffset===0&&k.byteLength===k.buffer.byteLength?k.buffer:k}},{key:"_equals",value:function(_e,ee){if(!_e||!ee)return!_e&&!ee;var j=$t(_e),k=$t(ee);if(j.length!==k.length)return!1;for(var K=0,ue=j.length;K<ue;K++)if(j[K]!==k[K])return!1;return!0}}]),Rt}();function Gn(Rt){return(Rt<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}var oi=function(){function Rt(tt){Object(_.a)(this,Rt),this._pieces=[],this._isComplete=!1,this._languageIdCodec=tt}return Object(Y.a)(Rt,[{key:"flush",value:function(){this._pieces=[],this._isComplete=!1}},{key:"isEmpty",value:function(){return this._pieces.length===0}},{key:"set",value:function(_e,ee){this._pieces=_e||[],this._isComplete=ee}},{key:"setPartial",value:function(_e,ee){var j=_e;if(ee.length>0){var k=ee[0].getRange(),K=ee[ee.length-1].getRange();if(!k||!K)return _e;j=_e.plusRange(k).plusRange(K)}for(var ue=null,xe=0,Ve=this._pieces.length;xe<Ve;xe++){var ut=this._pieces[xe];if(!(ut.endLineNumber<j.startLineNumber)){if(ut.startLineNumber>j.endLineNumber){ue=ue||{index:xe};break}if(ut.removeTokens(j),ut.isEmpty()){this._pieces.splice(xe,1),xe--,Ve--;continue}if(!(ut.endLineNumber<j.startLineNumber)){if(ut.startLineNumber>j.endLineNumber){ue=ue||{index:xe};continue}var _t=ut.split(j),xt=Object(we.a)(_t,2),un=xt[0],ln=xt[1];if(un.isEmpty()){ue=ue||{index:xe};continue}ln.isEmpty()||(this._pieces.splice(xe,1,un,ln),xe++,Ve++,ue=ue||{index:xe})}}}return ue=ue||{index:this._pieces.length},ee.length>0&&(this._pieces=E.c(this._pieces,ue.index,ee)),j}},{key:"isComplete",value:function(){return this._isComplete}},{key:"addSparseTokens",value:function(_e,ee){if(ee.getLineContent().length===0)return ee;var j=this._pieces;if(j.length===0)return ee;var k=Rt._findFirstPieceWithLine(j,_e),K=j[k].getLineTokens(_e);if(!K)return ee;for(var ue=ee.getCount(),xe=K.getCount(),Ve=0,ut=[],_t=0,xt=0,un=function(hr,xi){hr!==xt&&(xt=hr,ut[_t++]=hr,ut[_t++]=xi)},ln=0;ln<xe;ln++){for(var nn=K.getStartCharacter(ln),bn=K.getEndCharacter(ln),An=K.getMetadata(ln),It=((An&1?2048:0)|(An&2?4096:0)|(An&4?8192:0)|(An&8?16384:0)|(An&16?16744448:0)|(An&32?4278190080:0))>>>0,er=~It>>>0;Ve<ue&&ee.getEndOffset(Ve)<=nn;)un(ee.getEndOffset(Ve),ee.getMetadata(Ve)),Ve++;for(Ve<ue&&ee.getStartOffset(Ve)<nn&&un(nn,ee.getMetadata(Ve));Ve<ue&&ee.getEndOffset(Ve)<bn;)un(ee.getEndOffset(Ve),ee.getMetadata(Ve)&er|An&It),Ve++;if(Ve<ue)un(bn,ee.getMetadata(Ve)&er|An&It),ee.getEndOffset(Ve)===bn&&Ve++;else{var Mi=Math.min(Math.max(0,Ve-1),ue-1);un(bn,ee.getMetadata(Mi)&er|An&It)}}for(;Ve<ue;)un(ee.getEndOffset(Ve),ee.getMetadata(Ve)),Ve++;return new kr.a(new Uint32Array(ut),ee.getLineContent(),this._languageIdCodec)}},{key:"acceptEdit",value:function(_e,ee,j,k,K){var ue=Object(ce.a)(this._pieces),xe;try{for(ue.s();!(xe=ue.n()).done;){var Ve=xe.value;Ve.acceptEdit(_e,ee,j,k,K)}}catch(ut){ue.e(ut)}finally{ue.f()}}}],[{key:"_findFirstPieceWithLine",value:function(_e,ee){for(var j=0,k=_e.length-1;j<k;){var K=j+Math.floor((k-j)/2);if(_e[K].endLineNumber<ee)j=K+1;else if(_e[K].startLineNumber>ee)k=K-1;else{for(;K>j&&_e[K-1].startLineNumber<=ee&&ee<=_e[K-1].endLineNumber;)K--;return K}}return j}}]),Rt}(),_i=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee,j,k,K,ue,xe){var Ve;return Object(_.a)(this,_e),Ve=tt.call(this),Ve._languageService=ee,Ve._languageConfigurationService=j,Ve._textModel=k,Ve._bracketPairsTextModelPart=K,Ve._languageId=ue,Ve._attachedViews=xe,Ve._semanticTokens=new oi(Ve._languageService.languageIdCodec),Ve._onDidChangeLanguage=Ve._register(new V.b),Ve.onDidChangeLanguage=Ve._onDidChangeLanguage.event,Ve._onDidChangeLanguageConfiguration=Ve._register(new V.b),Ve.onDidChangeLanguageConfiguration=Ve._onDidChangeLanguageConfiguration.event,Ve._onDidChangeTokens=Ve._register(new V.b),Ve.onDidChangeTokens=Ve._onDidChangeTokens.event,Ve.grammarTokens=Ve._register(new Cn(Ve._languageService.languageIdCodec,Ve._textModel,function(){return Ve._languageId},Ve._attachedViews)),Ve._register(Ve._languageConfigurationService.onDidChange(function(ut){ut.affects(Ve._languageId)&&Ve._onDidChangeLanguageConfiguration.fire({})})),Ve._register(Ve.grammarTokens.onDidChangeTokens(function(ut){Ve._emitModelTokensChangedEvent(ut)})),Ve._register(Ve.grammarTokens.onDidChangeBackgroundTokenizationState(function(ut){Ve._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),Ve}return Object(Y.a)(_e,[{key:"handleDidChangeContent",value:function(j){if(j.isFlush)this._semanticTokens.flush();else if(!j.isEolChange){var k=Object(ce.a)(j.changes),K;try{for(k.s();!(K=k.n()).done;){var ue=K.value,xe=Object(N.a)(ue.text),Ve=Object(we.a)(xe,3),ut=Ve[0],_t=Ve[1],xt=Ve[2];this._semanticTokens.acceptEdit(ue.range,ut,_t,xt,ue.text.length>0?ue.text.charCodeAt(0):0)}}catch(un){k.e(un)}finally{k.f()}}this.grammarTokens.handleDidChangeContent(j)}},{key:"handleDidChangeAttached",value:function(){this.grammarTokens.handleDidChangeAttached()}},{key:"getLineTokens",value:function(j){this.validateLineNumber(j);var k=this.grammarTokens.getLineTokens(j);return this._semanticTokens.addSparseTokens(j,k)}},{key:"_emitModelTokensChangedEvent",value:function(j){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(j),this._onDidChangeTokens.fire(j))}},{key:"validateLineNumber",value:function(j){if(j<1||j>this._textModel.getLineCount())throw new ne.a("Illegal value for lineNumber")}},{key:"hasTokens",get:function(){return this.grammarTokens.hasTokens}},{key:"resetTokenization",value:function(){this.grammarTokens.resetTokenization()}},{key:"backgroundTokenizationState",get:function(){return this.grammarTokens.backgroundTokenizationState}},{key:"forceTokenization",value:function(j){this.validateLineNumber(j),this.grammarTokens.forceTokenization(j)}},{key:"isCheapToTokenize",value:function(j){return this.validateLineNumber(j),this.grammarTokens.isCheapToTokenize(j)}},{key:"tokenizeIfCheap",value:function(j){this.validateLineNumber(j),this.grammarTokens.tokenizeIfCheap(j)}},{key:"getTokenTypeIfInsertingCharacter",value:function(j,k,K){return this.grammarTokens.getTokenTypeIfInsertingCharacter(j,k,K)}},{key:"tokenizeLineWithEdit",value:function(j,k,K){return this.grammarTokens.tokenizeLineWithEdit(j,k,K)}},{key:"setSemanticTokens",value:function(j,k){this._semanticTokens.set(j,k),this._emitModelTokensChangedEvent({semanticTokensApplied:j!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}},{key:"hasCompleteSemanticTokens",value:function(){return this._semanticTokens.isComplete()}},{key:"hasSomeSemanticTokens",value:function(){return!this._semanticTokens.isEmpty()}},{key:"setPartialSemanticTokens",value:function(j,k){if(!this.hasCompleteSemanticTokens()){var K=this._textModel.validateRange(this._semanticTokens.setPartial(j,k));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:K.startLineNumber,toLineNumber:K.endLineNumber}]})}}},{key:"getWordAtPosition",value:function(j){this.assertNotDisposed();var k=this._textModel.validatePosition(j),K=this._textModel.getLineContent(k.lineNumber),ue=this.getLineTokens(k.lineNumber),xe=ue.findTokenIndexAtOffset(k.column-1),Ve=_e._findLanguageBoundaries(ue,xe),ut=Object(we.a)(Ve,2),_t=ut[0],xt=ut[1],un=Object(hn.d)(k.column,this.getLanguageConfiguration(ue.getLanguageId(xe)).getWordDefinition(),K.substring(_t,xt),_t);if(un&&un.startColumn<=j.column&&j.column<=un.endColumn)return un;if(xe>0&&_t===k.column-1){var ln=_e._findLanguageBoundaries(ue,xe-1),nn=Object(we.a)(ln,2),bn=nn[0],An=nn[1],It=Object(hn.d)(k.column,this.getLanguageConfiguration(ue.getLanguageId(xe-1)).getWordDefinition(),K.substring(bn,An),bn);if(It&&It.startColumn<=j.column&&j.column<=It.endColumn)return It}return null}},{key:"getLanguageConfiguration",value:function(j){return this._languageConfigurationService.getLanguageConfiguration(j)}},{key:"getWordUntilPosition",value:function(j){var k=this.getWordAtPosition(j);return k?{word:k.word.substr(0,j.column-k.startColumn),startColumn:k.startColumn,endColumn:j.column}:{word:"",startColumn:j.column,endColumn:j.column}}},{key:"getLanguageId",value:function(){return this._languageId}},{key:"getLanguageIdAtPosition",value:function(j,k){var K=this._textModel.validatePosition(new d.a(j,k)),ue=this.getLineTokens(K.lineNumber);return ue.getLanguageId(ue.findTokenIndexAtOffset(K.column-1))}},{key:"setLanguageId",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api";if(this._languageId!==j){var K={oldLanguage:this._languageId,newLanguage:j,source:k};this._languageId=j,this._bracketPairsTextModelPart.handleDidChangeLanguage(K),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(K),this._onDidChangeLanguageConfiguration.fire({})}}}],[{key:"_findLanguageBoundaries",value:function(j,k){for(var K=j.getLanguageId(k),ue=0,xe=k;xe>=0&&j.getLanguageId(xe)===K;xe--)ue=j.getStartOffset(xe);for(var Ve=j.getLineContent().length,ut=k,_t=j.getCount();ut<_t&&j.getLanguageId(ut)===K;ut++)Ve=j.getEndOffset(ut);return[ue,Ve]}}]),_e}(lt.a),Cn=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee,j,k,K){var ue;return Object(_.a)(this,_e),ue=tt.call(this),ue._languageIdCodec=ee,ue._textModel=j,ue.getLanguageId=k,ue._tokenizer=null,ue._defaultBackgroundTokenizer=null,ue._backgroundTokenizer=ue._register(new B.e),ue._tokens=new Vn(ue._languageIdCodec),ue._debugBackgroundTokenizer=ue._register(new B.e),ue._backgroundTokenizationState=1,ue._onDidChangeBackgroundTokenizationState=ue._register(new V.b),ue.onDidChangeBackgroundTokenizationState=ue._onDidChangeBackgroundTokenizationState.event,ue._onDidChangeTokens=ue._register(new V.b),ue.onDidChangeTokens=ue._onDidChangeTokens.event,ue._attachedViewStates=ue._register(new B.b),ue._register(Ht.m.onDidChange(function(xe){var Ve=ue.getLanguageId();xe.changedLanguages.indexOf(Ve)!==-1&&ue.resetTokenization()})),ue.resetTokenization(),ue._register(K.onDidChangeVisibleRanges(function(xe){var Ve=xe.view,ut=xe.state;if(ut){var _t=ue._attachedViewStates.get(Ve);_t||(_t=new ui(function(){return ue.refreshRanges(_t.lineRanges)}),ue._attachedViewStates.set(Ve,_t)),_t.handleStateChange(ut)}else ue._attachedViewStates.deleteAndDispose(Ve)})),ue}return Object(Y.a)(_e,[{key:"backgroundTokenizationState",get:function(){return this._backgroundTokenizationState}},{key:"resetTokenization",value:function(){var j=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,K;this._tokens.flush(),(K=this._debugBackgroundTokens)===null||K===void 0||K.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new ua(this._textModel.getLineCount())),k&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});var ue=function(){if(j._textModel.isTooLargeForTokenization())return[null,null];var ln=Ht.m.get(j.getLanguageId());if(!ln)return[null,null];var nn;try{nn=ln.getInitialState()}catch(bn){return Object(ne.h)(bn),[null,null]}return[ln,nn]},xe=ue(),Ve=Object(we.a)(xe,2),ut=Ve[0],_t=Ve[1];if(ut&&_t?this._tokenizer=new Fr(this._textModel.getLineCount(),ut,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){var xt={setTokens:function(ln){j.setTokens(ln)},backgroundTokenizationFinished:function(){if(j._backgroundTokenizationState!==2){var ln=2;j._backgroundTokenizationState=ln,j._onDidChangeBackgroundTokenizationState.fire()}},setEndState:function(ln,nn){var bn,An,It;if(!nn)throw new ne.a;var er=(An=(bn=j._tokenizer)===null||bn===void 0?void 0:bn.store.getFirstInvalidEndStateLineNumber())!==null&&An!==void 0?An:void 0;er!==void 0&&ln>=er&&((It=j._tokenizer)===null||It===void 0||It.store.setEndState(ln,nn))}};ut&&ut.createBackgroundTokenizer&&!ut.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=ut.createBackgroundTokenizer(this._textModel,xt)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new Mt(this._tokenizer,xt),this._defaultBackgroundTokenizer.handleChanges()),(ut==null?void 0:ut.backgroundTokenizerShouldOnlyVerifyTokens)&&ut.createBackgroundTokenizer?(this._debugBackgroundTokens=new Vn(this._languageIdCodec),this._debugBackgroundStates=new ua(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=ut.createBackgroundTokenizer(this._textModel,{setTokens:function(ln){var nn;(nn=j._debugBackgroundTokens)===null||nn===void 0||nn.setMultilineTokens(ln,j._textModel)},backgroundTokenizationFinished:function(){},setEndState:function(ln,nn){var bn;(bn=j._debugBackgroundStates)===null||bn===void 0||bn.setEndState(ln,nn)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}},{key:"handleDidChangeAttached",value:function(){var j;(j=this._defaultBackgroundTokenizer)===null||j===void 0||j.handleChanges()}},{key:"handleDidChangeContent",value:function(j){var k,K,ue;if(j.isFlush)this.resetTokenization(!1);else if(!j.isEolChange){var xe=Object(ce.a)(j.changes),Ve;try{for(xe.s();!(Ve=xe.n()).done;){var ut=Ve.value,_t=Object(N.a)(ut.text),xt=Object(we.a)(_t,2),un=xt[0],ln=xt[1];this._tokens.acceptEdit(ut.range,un,ln),(k=this._debugBackgroundTokens)===null||k===void 0||k.acceptEdit(ut.range,un,ln)}}catch(nn){xe.e(nn)}finally{xe.f()}(K=this._debugBackgroundStates)===null||K===void 0||K.acceptChanges(j.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(j.changes),(ue=this._defaultBackgroundTokenizer)===null||ue===void 0||ue.handleChanges()}}},{key:"setTokens",value:function(j){var k=this._tokens.setMultilineTokens(j,this._textModel),K=k.changes;return K.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:K}),{changes:K}}},{key:"refreshAllVisibleLineTokens",value:function(){var j=Zt.a.joinMany(Object(nt.a)(this._attachedViewStates).map(function(k){var K=Object(we.a)(k,2),ue=K[0],xe=K[1];return xe.lineRanges}));this.refreshRanges(j)}},{key:"refreshRanges",value:function(j){var k=Object(ce.a)(j),K;try{for(k.s();!(K=k.n()).done;){var ue=K.value;this.refreshRange(ue.startLineNumber,ue.endLineNumberExclusive-1)}}catch(xe){k.e(xe)}finally{k.f()}}},{key:"refreshRange",value:function(j,k){var K,ue;if(!!this._tokenizer){j=Math.max(1,Math.min(this._textModel.getLineCount(),j)),k=Math.min(this._textModel.getLineCount(),k);var xe=new Gr,Ve=this._tokenizer.tokenizeHeuristically(xe,j,k),ut=Ve.heuristicTokens,_t=this.setTokens(xe.finalize());if(ut){var xt=Object(ce.a)(_t.changes),un;try{for(xt.s();!(un=xt.n()).done;){var ln=un.value;(K=this._backgroundTokenizer.value)===null||K===void 0||K.requestTokens(ln.fromLineNumber,ln.toLineNumber+1)}}catch(nn){xt.e(nn)}finally{xt.f()}}(ue=this._defaultBackgroundTokenizer)===null||ue===void 0||ue.checkFinished()}}},{key:"forceTokenization",value:function(j){var k,K,ue=new Gr;(k=this._tokenizer)===null||k===void 0||k.updateTokensUntilLine(ue,j),this.setTokens(ue.finalize()),(K=this._defaultBackgroundTokenizer)===null||K===void 0||K.checkFinished()}},{key:"isCheapToTokenize",value:function(j){return this._tokenizer?this._tokenizer.isCheapToTokenize(j):!0}},{key:"tokenizeIfCheap",value:function(j){this.isCheapToTokenize(j)&&this.forceTokenization(j)}},{key:"getLineTokens",value:function(j){var k,K=this._textModel.getLineContent(j),ue=this._tokens.getTokens(this._textModel.getLanguageId(),j-1,K);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>j&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>j){var xe=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),j-1,K);!ue.equals(xe)&&((k=this._debugBackgroundTokenizer.value)===null||k===void 0?void 0:k.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(j)}return ue}},{key:"getTokenTypeIfInsertingCharacter",value:function(j,k,K){if(!this._tokenizer)return 0;var ue=this._textModel.validatePosition(new d.a(j,k));return this.forceTokenization(ue.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(ue,K)}},{key:"tokenizeLineWithEdit",value:function(j,k,K){if(!this._tokenizer)return null;var ue=this._textModel.validatePosition(j);return this.forceTokenization(ue.lineNumber),this._tokenizer.tokenizeLineWithEdit(ue,k,K)}},{key:"hasTokens",get:function(){return this._tokens.hasTokens}}]),_e}(B.a),ui=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee){var j;return Object(_.a)(this,_e),j=tt.call(this),j._refreshTokens=ee,j.runner=j._register(new Ze.g(function(){return j.update()},50)),j._computedLineRanges=[],j._lineRanges=[],j}return Object(Y.a)(_e,[{key:"lineRanges",get:function(){return this._lineRanges}},{key:"update",value:function(){Object(E.j)(this._computedLineRanges,this._lineRanges)||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}},{key:"handleStateChange",value:function(j){this._lineRanges=j.visibleLineRanges,j.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}]),_e}(B.a),Si=a("p/Xk"),Ui=a("OAO6"),Lr=function(Rt,tt,_e,ee){var j=arguments.length,k=j<3?tt:ee===null?ee=Object.getOwnPropertyDescriptor(tt,_e):ee,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(Rt,tt,_e,ee);else for(var ue=Rt.length-1;ue>=0;ue--)(K=Rt[ue])&&(k=(j<3?K(k):j>3?K(tt,_e,k):K(tt,_e))||k);return j>3&&k&&Object.defineProperty(tt,_e,k),k},or=function(Rt,tt){return function(_e,ee){tt(_e,ee,Rt)}};function Er(Rt){var tt=new vn;return tt.acceptChunk(Rt),tt.finish()}function vr(Rt){for(var tt=new vn,_e;typeof(_e=Rt.read())=="string";)tt.acceptChunk(_e);return tt.finish()}function on(Rt,tt){var _e;return typeof Rt=="string"?_e=Er(Rt):z.j(Rt)?_e=vr(Rt):_e=Rt,_e.create(tt)}var Wn=0,Zn=999,Li=1e4,_r=function(){function Rt(tt){Object(_.a)(this,Rt),this._source=tt,this._eos=!1}return Object(Y.a)(Rt,[{key:"read",value:function(){if(this._eos)return null;var _e=[],ee=0,j=0;do{var k=this._source.read();if(k===null)return this._eos=!0,ee===0?null:_e.join("");if(k.length>0&&(_e[ee++]=k,j+=k.length),j>=64*1024)return _e.join("")}while(!0)}}]),Rt}(),Nr=function(){throw new Error("Invalid change accessor")},$i=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee,j,k){var K,ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,xe=arguments.length>4?arguments[4]:void 0,Ve=arguments.length>5?arguments[5]:void 0,ut=arguments.length>6?arguments[6]:void 0;Object(_.a)(this,_e),K=tt.call(this),K._undoRedoService=xe,K._languageService=Ve,K._languageConfigurationService=ut,K._onWillDispose=K._register(new V.b),K.onWillDispose=K._onWillDispose.event,K._onDidChangeDecorations=K._register(new la(function(An){return K.handleBeforeFireDecorationsChangedEvent(An)})),K.onDidChangeDecorations=K._onDidChangeDecorations.event,K._onDidChangeOptions=K._register(new V.b),K.onDidChangeOptions=K._onDidChangeOptions.event,K._onDidChangeAttached=K._register(new V.b),K.onDidChangeAttached=K._onDidChangeAttached.event,K._onDidChangeInjectedText=K._register(new V.b),K._eventEmitter=K._register(new La),K._languageSelectionListener=K._register(new B.e),K._deltaDecorationCallCnt=0,K._attachedViews=new Ro,Wn++,K.id="$model"+Wn,K.isForSimpleWidget=k.isForSimpleWidget,typeof ue=="undefined"||ue===null?K._associatedResource=W.a.parse("inmemory://model/"+Wn):K._associatedResource=ue,K._attachedEditorCount=0;var _t=on(ee,k.defaultEOL),xt=_t.textBuffer,un=_t.disposable;K._buffer=xt,K._bufferDisposable=un,K._options=_e.resolveOptions(K._buffer,k);var ln=typeof j=="string"?j:j.languageId;typeof j!="string"&&(K._languageSelectionListener.value=j.onDidChange(function(){return K._setLanguage(j.languageId)})),K._bracketPairs=K._register(new Fe(Object(w.a)(K),K._languageConfigurationService)),K._guidesTextModelPart=K._register(new Ce.b(Object(w.a)(K),K._languageConfigurationService)),K._decorationProvider=K._register(new et(Object(w.a)(K))),K._tokenizationTextModelPart=new _i(K._languageService,K._languageConfigurationService,Object(w.a)(K),K._bracketPairs,ln,K._attachedViews);var nn=K._buffer.getLineCount(),bn=K._buffer.getValueLengthInRange(new D.a(1,1,nn,K._buffer.getLineLength(nn)+1),0);return k.largeFileOptimizations?K._isTooLargeForTokenization=bn>_e.LARGE_FILE_SIZE_THRESHOLD||nn>_e.LARGE_FILE_LINE_COUNT_THRESHOLD:K._isTooLargeForTokenization=!1,K._isTooLargeForSyncing=bn>_e._MODEL_SYNC_LIMIT,K._versionId=1,K._alternativeVersionId=1,K._initialUndoRedoSnapshot=null,K._isDisposed=!1,K.__isDisposing=!1,K._instanceId=F.R(Wn),K._lastDecorationId=0,K._decorations=Object.create(null),K._decorationsTree=new Ra,K._commandManager=new Re.a(Object(w.a)(K),K._undoRedoService),K._isUndoing=!1,K._isRedoing=!1,K._trimAutoWhitespaceLines=null,K._register(K._decorationProvider.onDidChange(function(){K._onDidChangeDecorations.beginDeferredEmit(),K._onDidChangeDecorations.fire(),K._onDidChangeDecorations.endDeferredEmit()})),K._languageService.requestRichLanguageFeatures(ln),K}return Object(Y.a)(_e,[{key:"onDidChangeLanguage",get:function(){return this._tokenizationTextModelPart.onDidChangeLanguage}},{key:"onDidChangeLanguageConfiguration",get:function(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}},{key:"onDidChangeTokens",get:function(){return this._tokenizationTextModelPart.onDidChangeTokens}},{key:"onDidChangeContent",value:function(j){return this._eventEmitter.slowEvent(function(k){return j(k.contentChangedEvent)})}},{key:"onDidChangeContentOrInjectedText",value:function(j){return Object(B.h)(this._eventEmitter.fastEvent(function(k){return j(k)}),this._onDidChangeInjectedText.event(function(k){return j(k)}))}},{key:"_isDisposing",value:function(){return this.__isDisposing}},{key:"tokenization",get:function(){return this._tokenizationTextModelPart}},{key:"bracketPairs",get:function(){return this._bracketPairs}},{key:"guides",get:function(){return this._guidesTextModelPart}},{key:"dispose",value:function(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,Object(ve.a)(Object(se.a)(_e.prototype),"dispose",this).call(this),this._bufferDisposable.dispose(),this.__isDisposing=!1;var j=new mt([],"",`
`,!1,!1,!0,!0);j.dispose(),this._buffer=j,this._bufferDisposable=B.a.None}},{key:"_assertNotDisposed",value:function(){if(this._isDisposed)throw new Error("Model is disposed!")}},{key:"_emitContentChangedEvent",value:function(j,k){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(k),this._bracketPairs.handleDidChangeContent(k),this._eventEmitter.fire(new Si.a(j,k)))}},{key:"setValue",value:function(j){if(this._assertNotDisposed(),j==null)throw Object(ne.e)();var k=on(j,this._options.defaultEOL),K=k.textBuffer,ue=k.disposable;this._setValueFromTextBuffer(K,ue)}},{key:"_createContentChanged2",value:function(j,k,K,ue,xe,Ve,ut,_t){return{changes:[{range:j,rangeOffset:k,rangeLength:K,text:ue}],eol:this._buffer.getEOL(),isEolChange:_t,versionId:this.getVersionId(),isUndoing:xe,isRedoing:Ve,isFlush:ut}}},{key:"_setValueFromTextBuffer",value:function(j,k){this._assertNotDisposed();var K=this.getFullModelRange(),ue=this.getValueLengthInRange(K),xe=this.getLineCount(),Ve=this.getLineMaxColumn(xe);this._buffer=j,this._bufferDisposable.dispose(),this._bufferDisposable=k,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Ra,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Si.d([new Si.f],this._versionId,!1,!1),this._createContentChanged2(new D.a(1,1,xe,Ve),0,ue,this.getValue(),!1,!1,!0,!1))}},{key:"setEOL",value:function(j){this._assertNotDisposed();var k=j===1?`\r
`:`
`;if(this._buffer.getEOL()!==k){var K=this.getFullModelRange(),ue=this.getValueLengthInRange(K),xe=this.getLineCount(),Ve=this.getLineMaxColumn(xe);this._onBeforeEOLChange(),this._buffer.setEOL(k),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Si.d([new Si.e],this._versionId,!1,!1),this._createContentChanged2(new D.a(1,1,xe,Ve),0,ue,this.getValue(),!1,!1,!1,!0))}}},{key:"_onBeforeEOLChange",value:function(){this._decorationsTree.ensureAllNodesHaveRanges(this)}},{key:"_onAfterEOLChange",value:function(){for(var j=this.getVersionId(),k=this._decorationsTree.collectNodesPostOrder(),K=0,ue=k.length;K<ue;K++){var xe=k[K],Ve=xe.range,ut=xe.cachedAbsoluteStart-xe.start,_t=this._buffer.getOffsetAt(Ve.startLineNumber,Ve.startColumn),xt=this._buffer.getOffsetAt(Ve.endLineNumber,Ve.endColumn);xe.cachedAbsoluteStart=_t,xe.cachedAbsoluteEnd=xt,xe.cachedVersionId=j,xe.start=_t-ut,xe.end=xt-ut,Yt(xe)}}},{key:"onBeforeAttached",value:function(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}},{key:"onBeforeDetached",value:function(j){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(j)}},{key:"isAttachedToEditor",value:function(){return this._attachedEditorCount>0}},{key:"getAttachedEditorCount",value:function(){return this._attachedEditorCount}},{key:"isTooLargeForSyncing",value:function(){return this._isTooLargeForSyncing}},{key:"isTooLargeForTokenization",value:function(){return this._isTooLargeForTokenization}},{key:"isDisposed",value:function(){return this._isDisposed}},{key:"isDominatedByLongLines",value:function(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;for(var j=0,k=0,K=this._buffer.getLineCount(),ue=1;ue<=K;ue++){var xe=this._buffer.getLineLength(ue);xe>=Li?k+=xe:j+=xe}return k>j}},{key:"uri",get:function(){return this._associatedResource}},{key:"getOptions",value:function(){return this._assertNotDisposed(),this._options}},{key:"getFormattingOptions",value:function(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}},{key:"updateOptions",value:function(j){this._assertNotDisposed();var k=typeof j.tabSize!="undefined"?j.tabSize:this._options.tabSize,K=typeof j.indentSize!="undefined"?j.indentSize:this._options.originalIndentSize,ue=typeof j.insertSpaces!="undefined"?j.insertSpaces:this._options.insertSpaces,xe=typeof j.trimAutoWhitespace!="undefined"?j.trimAutoWhitespace:this._options.trimAutoWhitespace,Ve=typeof j.bracketColorizationOptions!="undefined"?j.bracketColorizationOptions:this._options.bracketPairColorizationOptions,ut=new z.h({tabSize:k,indentSize:K,insertSpaces:ue,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:xe,bracketPairColorizationOptions:Ve});if(!this._options.equals(ut)){var _t=this._options.createChangeEvent(ut);this._options=ut,this._bracketPairs.handleDidChangeOptions(_t),this._decorationProvider.handleDidChangeOptions(_t),this._onDidChangeOptions.fire(_t)}}},{key:"detectIndentation",value:function(j,k){this._assertNotDisposed();var K=Qe(this._buffer,k,j);this.updateOptions({insertSpaces:K.insertSpaces,tabSize:K.tabSize,indentSize:K.tabSize})}},{key:"normalizeIndentation",value:function(j){return this._assertNotDisposed(),Object(H.a)(j,this._options.indentSize,this._options.insertSpaces)}},{key:"getVersionId",value:function(){return this._assertNotDisposed(),this._versionId}},{key:"mightContainRTL",value:function(){return this._buffer.mightContainRTL()}},{key:"mightContainUnusualLineTerminators",value:function(){return this._buffer.mightContainUnusualLineTerminators()}},{key:"removeUnusualLineTerminators",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,k=this.findMatches(F.d.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(j,k.map(function(K){return{range:K.range,text:null}}),function(){return null})}},{key:"mightContainNonBasicASCII",value:function(){return this._buffer.mightContainNonBasicASCII()}},{key:"getAlternativeVersionId",value:function(){return this._assertNotDisposed(),this._alternativeVersionId}},{key:"getInitialUndoRedoSnapshot",value:function(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}},{key:"getOffsetAt",value:function(j){this._assertNotDisposed();var k=this._validatePosition(j.lineNumber,j.column,0);return this._buffer.getOffsetAt(k.lineNumber,k.column)}},{key:"getPositionAt",value:function(j){this._assertNotDisposed();var k=Math.min(this._buffer.getLength(),Math.max(0,j));return this._buffer.getPositionAt(k)}},{key:"_increaseVersionId",value:function(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}},{key:"_overwriteVersionId",value:function(j){this._versionId=j}},{key:"_overwriteAlternativeVersionId",value:function(j){this._alternativeVersionId=j}},{key:"_overwriteInitialUndoRedoSnapshot",value:function(j){this._initialUndoRedoSnapshot=j}},{key:"getValue",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._assertNotDisposed();var K=this.getFullModelRange(),ue=this.getValueInRange(K,j);return k?this._buffer.getBOM()+ue:ue}},{key:"createSnapshot",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return new _r(this._buffer.createSnapshot(j))}},{key:"getValueLength",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._assertNotDisposed();var K=this.getFullModelRange(),ue=this.getValueLengthInRange(K,j);return k?this._buffer.getBOM().length+ue:ue}},{key:"getValueInRange",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(j),k)}},{key:"getValueLengthInRange",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(j),k)}},{key:"getCharacterCountInRange",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(j),k)}},{key:"getLineCount",value:function(){return this._assertNotDisposed(),this._buffer.getLineCount()}},{key:"getLineContent",value:function(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new ne.a("Illegal value for lineNumber");return this._buffer.getLineContent(j)}},{key:"getLineLength",value:function(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new ne.a("Illegal value for lineNumber");return this._buffer.getLineLength(j)}},{key:"getLinesContent",value:function(){return this._assertNotDisposed(),this._buffer.getLinesContent()}},{key:"getEOL",value:function(){return this._assertNotDisposed(),this._buffer.getEOL()}},{key:"getEndOfLineSequence",value:function(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}},{key:"getLineMinColumn",value:function(j){return this._assertNotDisposed(),1}},{key:"getLineMaxColumn",value:function(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new ne.a("Illegal value for lineNumber");return this._buffer.getLineLength(j)+1}},{key:"getLineFirstNonWhitespaceColumn",value:function(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new ne.a("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(j)}},{key:"getLineLastNonWhitespaceColumn",value:function(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new ne.a("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(j)}},{key:"_validateRangeRelaxedNoAllocations",value:function(j){var k=this._buffer.getLineCount(),K=j.startLineNumber,ue=j.startColumn,xe=Math.floor(typeof K=="number"&&!isNaN(K)?K:1),Ve=Math.floor(typeof ue=="number"&&!isNaN(ue)?ue:1);if(xe<1)xe=1,Ve=1;else if(xe>k)xe=k,Ve=this.getLineMaxColumn(xe);else if(Ve<=1)Ve=1;else{var ut=this.getLineMaxColumn(xe);Ve>=ut&&(Ve=ut)}var _t=j.endLineNumber,xt=j.endColumn,un=Math.floor(typeof _t=="number"&&!isNaN(_t)?_t:1),ln=Math.floor(typeof xt=="number"&&!isNaN(xt)?xt:1);if(un<1)un=1,ln=1;else if(un>k)un=k,ln=this.getLineMaxColumn(un);else if(ln<=1)ln=1;else{var nn=this.getLineMaxColumn(un);ln>=nn&&(ln=nn)}return K===xe&&ue===Ve&&_t===un&&xt===ln&&j instanceof D.a&&!(j instanceof C.a)?j:new D.a(xe,Ve,un,ln)}},{key:"_isValidPosition",value:function(j,k,K){if(typeof j!="number"||typeof k!="number"||isNaN(j)||isNaN(k)||j<1||k<1||(j|0)!==j||(k|0)!==k)return!1;var ue=this._buffer.getLineCount();if(j>ue)return!1;if(k===1)return!0;var xe=this.getLineMaxColumn(j);if(k>xe)return!1;if(K===1){var Ve=this._buffer.getLineCharCode(j,k-2);if(F.F(Ve))return!1}return!0}},{key:"_validatePosition",value:function(j,k,K){var ue=Math.floor(typeof j=="number"&&!isNaN(j)?j:1),xe=Math.floor(typeof k=="number"&&!isNaN(k)?k:1),Ve=this._buffer.getLineCount();if(ue<1)return new d.a(1,1);if(ue>Ve)return new d.a(Ve,this.getLineMaxColumn(Ve));if(xe<=1)return new d.a(ue,1);var ut=this.getLineMaxColumn(ue);if(xe>=ut)return new d.a(ue,ut);if(K===1){var _t=this._buffer.getLineCharCode(ue,xe-2);if(F.F(_t))return new d.a(ue,xe-1)}return new d.a(ue,xe)}},{key:"validatePosition",value:function(j){var k=1;return this._assertNotDisposed(),j instanceof d.a&&this._isValidPosition(j.lineNumber,j.column,k)?j:this._validatePosition(j.lineNumber,j.column,k)}},{key:"_isValidRange",value:function(j,k){var K=j.startLineNumber,ue=j.startColumn,xe=j.endLineNumber,Ve=j.endColumn;if(!this._isValidPosition(K,ue,0)||!this._isValidPosition(xe,Ve,0))return!1;if(k===1){var ut=ue>1?this._buffer.getLineCharCode(K,ue-2):0,_t=Ve>1&&Ve<=this._buffer.getLineLength(xe)?this._buffer.getLineCharCode(xe,Ve-2):0,xt=F.F(ut),un=F.F(_t);return!xt&&!un}return!0}},{key:"validateRange",value:function(j){var k=1;if(this._assertNotDisposed(),j instanceof D.a&&!(j instanceof C.a)&&this._isValidRange(j,k))return j;var K=this._validatePosition(j.startLineNumber,j.startColumn,0),ue=this._validatePosition(j.endLineNumber,j.endColumn,0),xe=K.lineNumber,Ve=K.column,ut=ue.lineNumber,_t=ue.column;if(k===1){var xt=Ve>1?this._buffer.getLineCharCode(xe,Ve-2):0,un=_t>1&&_t<=this._buffer.getLineLength(ut)?this._buffer.getLineCharCode(ut,_t-2):0,ln=F.F(xt),nn=F.F(un);return!ln&&!nn?new D.a(xe,Ve,ut,_t):xe===ut&&Ve===_t?new D.a(xe,Ve-1,ut,_t-1):ln&&nn?new D.a(xe,Ve-1,ut,_t+1):ln?new D.a(xe,Ve-1,ut,_t):new D.a(xe,Ve,ut,_t+1)}return new D.a(xe,Ve,ut,_t)}},{key:"modifyPosition",value:function(j,k){this._assertNotDisposed();var K=this.getOffsetAt(j)+k;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,K)))}},{key:"getFullModelRange",value:function(){this._assertNotDisposed();var j=this.getLineCount();return new D.a(1,1,j,this.getLineMaxColumn(j))}},{key:"findMatchesLineByLine",value:function(j,k,K,ue){return this._buffer.findMatchesLineByLine(j,k,K,ue)}},{key:"findMatches",value:function(j,k,K,ue,xe,Ve){var ut=this,_t=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Zn;this._assertNotDisposed();var xt=null;k!==null&&(Array.isArray(k)||(k=[k]),k.every(function(An){return D.a.isIRange(An)})&&(xt=k.map(function(An){return ut.validateRange(An)}))),xt===null&&(xt=[this.getFullModelRange()]),xt=xt.sort(function(An,It){return An.startLineNumber-It.startLineNumber||An.startColumn-It.startColumn});var un=[];un.push(xt.reduce(function(An,It){return D.a.areIntersecting(An,It)?An.plusRange(It):(un.push(An),It)}));var ln;if(!K&&j.indexOf(`
`)<0){var nn=new Ut.a(j,K,ue,xe),bn=nn.parseSearchRequest();if(!bn)return[];ln=function(It){return ut.findMatchesLineByLine(It,bn,Ve,_t)}}else ln=function(It){return Ut.c.findMatches(ut,new Ut.a(j,K,ue,xe),It,Ve,_t)};return un.map(ln).reduce(function(An,It){return An.concat(It)},[])}},{key:"findNextMatch",value:function(j,k,K,ue,xe,Ve){this._assertNotDisposed();var ut=this.validatePosition(k);if(!K&&j.indexOf(`
`)<0){var _t=new Ut.a(j,K,ue,xe),xt=_t.parseSearchRequest();if(!xt)return null;var un=this.getLineCount(),ln=new D.a(ut.lineNumber,ut.column,un,this.getLineMaxColumn(un)),nn=this.findMatchesLineByLine(ln,xt,Ve,1);return Ut.c.findNextMatch(this,new Ut.a(j,K,ue,xe),ut,Ve),nn.length>0||(ln=new D.a(1,1,ut.lineNumber,this.getLineMaxColumn(ut.lineNumber)),nn=this.findMatchesLineByLine(ln,xt,Ve,1),nn.length>0)?nn[0]:null}return Ut.c.findNextMatch(this,new Ut.a(j,K,ue,xe),ut,Ve)}},{key:"findPreviousMatch",value:function(j,k,K,ue,xe,Ve){this._assertNotDisposed();var ut=this.validatePosition(k);return Ut.c.findPreviousMatch(this,new Ut.a(j,K,ue,xe),ut,Ve)}},{key:"pushStackElement",value:function(){this._commandManager.pushStackElement()}},{key:"popStackElement",value:function(){this._commandManager.popStackElement()}},{key:"pushEOL",value:function(j){var k=this.getEOL()===`
`?0:1;if(k!==j)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(j)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}},{key:"_validateEditOperation",value:function(j){return j instanceof z.i?j:new z.i(j.identifier||null,this.validateRange(j.range),j.text,j.forceMoveMarkers||!1,j.isAutoWhitespaceEdit||!1,j._isTracked||!1)}},{key:"_validateEditOperations",value:function(j){for(var k=[],K=0,ue=j.length;K<ue;K++)k[K]=this._validateEditOperation(j[K]);return k}},{key:"pushEditOperations",value:function(j,k,K,ue){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(j,this._validateEditOperations(k),K,ue)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}},{key:"_pushEditOperations",value:function(j,k,K,ue){var xe=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){var Ve=k.map(function(Ja){return{range:xe.validateRange(Ja.range),text:Ja.text}}),ut=!0;if(j)for(var _t=0,xt=j.length;_t<xt;_t++){for(var un=j[_t],ln=!1,nn=0,bn=Ve.length;nn<bn;nn++){var An=Ve[nn].range,It=An.startLineNumber>un.endLineNumber,er=un.startLineNumber>An.endLineNumber;if(!It&&!er){ln=!0;break}}if(!ln){ut=!1;break}}if(ut)for(var Mi=0,wr=this._trimAutoWhitespaceLines.length;Mi<wr;Mi++){for(var hr=this._trimAutoWhitespaceLines[Mi],xi=this.getLineMaxColumn(hr),Ar=!0,zr=0,Tr=Ve.length;zr<Tr;zr++){var ba=Ve[zr].range,Sa=Ve[zr].text;if(!(hr<ba.startLineNumber||hr>ba.endLineNumber)&&!(hr===ba.startLineNumber&&ba.startColumn===xi&&ba.isEmpty()&&Sa&&Sa.length>0&&Sa.charAt(0)===`
`)&&!(hr===ba.startLineNumber&&ba.startColumn===1&&ba.isEmpty()&&Sa&&Sa.length>0&&Sa.charAt(Sa.length-1)===`
`)){Ar=!1;break}}if(Ar){var Va=new D.a(hr,1,hr,xi);k.push(new z.i(null,Va,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(j,k,K,ue)}},{key:"_applyUndo",value:function(j,k,K,ue){var xe=this,Ve=j.map(function(ut){var _t=xe.getPositionAt(ut.newPosition),xt=xe.getPositionAt(ut.newEnd);return{range:new D.a(_t.lineNumber,_t.column,xt.lineNumber,xt.column),text:ut.oldText}});this._applyUndoRedoEdits(Ve,k,!0,!1,K,ue)}},{key:"_applyRedo",value:function(j,k,K,ue){var xe=this,Ve=j.map(function(ut){var _t=xe.getPositionAt(ut.oldPosition),xt=xe.getPositionAt(ut.oldEnd);return{range:new D.a(_t.lineNumber,_t.column,xt.lineNumber,xt.column),text:ut.newText}});this._applyUndoRedoEdits(Ve,k,!1,!0,K,ue)}},{key:"_applyUndoRedoEdits",value:function(j,k,K,ue,xe,Ve){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=K,this._isRedoing=ue,this.applyEdits(j,!1),this.setEOL(k),this._overwriteAlternativeVersionId(xe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Ve),this._onDidChangeDecorations.endDeferredEmit()}}},{key:"applyEdits",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();var K=this._validateEditOperations(j);return this._doApplyEdits(K,k)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}},{key:"_doApplyEdits",value:function(j,k){var K=this,ue=this._buffer.getLineCount(),xe=this._buffer.applyEdits(j,this._options.trimAutoWhitespace,k),Ve=this._buffer.getLineCount(),ut=xe.changes;if(this._trimAutoWhitespaceLines=xe.trimAutoWhitespaceLineNumbers,ut.length!==0){for(var _t=0,xt=ut.length;_t<xt;_t++){var un=ut[_t];this._decorationsTree.acceptReplace(un.rangeOffset,un.rangeLength,un.text.length,un.forceMoveMarkers)}var ln=[];this._increaseVersionId();for(var nn=ue,bn=0,An=ut.length;bn<An;bn++){var It=ut[bn],er=Object(N.a)(It.text),Mi=Object(we.a)(er,1),wr=Mi[0];this._onDidChangeDecorations.fire();for(var hr=It.range.startLineNumber,xi=It.range.endLineNumber,Ar=xi-hr,zr=wr,Tr=Math.min(Ar,zr),ba=zr-Ar,Sa=Ve-nn-ba+hr,Va=Sa,Ja=Sa+zr,Ba=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new d.a(Va,1)),this.getOffsetAt(new d.a(Ja,this.getLineMaxColumn(Ja))),0),bo=Si.b.fromDecorations(Ba),yo=new E.a(bo),Vo=function(Is){var hl=hr+Is,Ks=Sa+Is;yo.takeFromEndWhile(function(fl){return fl.lineNumber>Ks});var fu=yo.takeFromEndWhile(function(fl){return fl.lineNumber===Ks});ln.push(new Si.g(hl,K.getLineContent(Ks),fu))},js=Tr;js>=0;js--)Vo(js);if(Tr<Ar){var Qo=hr+Tr;ln.push(new Si.h(Qo+1,xi))}if(Tr<zr){for(var Ho=new E.a(bo),us=hr+Tr,go=zr-Tr,Uo=Ve-nn-go+us+1,Yo=[],zo=[],Bs=function(Is){var hl=Uo+Is;zo[Is]=K.getLineContent(hl),Ho.takeWhile(function(Ks){return Ks.lineNumber<hl}),Yo[Is]=Ho.takeWhile(function(Ks){return Ks.lineNumber===hl})},du=0;du<go;du++)Bs(du);ln.push(new Si.i(us+1,hr+zr,zo,Yo))}nn+=ba}this._emitContentChangedEvent(new Si.d(ln,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ut,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return xe.reverseEdits===null?void 0:xe.reverseEdits}},{key:"undo",value:function(){return this._undoRedoService.undo(this.uri)}},{key:"canUndo",value:function(){return this._undoRedoService.canUndo(this.uri)}},{key:"redo",value:function(){return this._undoRedoService.redo(this.uri)}},{key:"canRedo",value:function(){return this._undoRedoService.canRedo(this.uri)}},{key:"handleBeforeFireDecorationsChangedEvent",value:function(j){var k=this;if(!(j===null||j.size===0)){var K=Array.from(j),ue=K.map(function(xe){return new Si.g(xe,k.getLineContent(xe),k._getInjectedTextInLine(xe))});this._onDidChangeInjectedText.fire(new Si.c(ue))}}},{key:"changeDecorations",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(k,j)}finally{this._onDidChangeDecorations.endDeferredEmit()}}},{key:"_changeDecorations",value:function(j,k){var K=this,ue={addDecoration:function(ut,_t){return K._deltaDecorationsImpl(j,[],[{range:ut,options:_t}])[0]},changeDecoration:function(ut,_t){K._changeDecorationImpl(ut,_t)},changeDecorationOptions:function(ut,_t){K._changeDecorationOptionsImpl(ut,_a(_t))},removeDecoration:function(ut){K._deltaDecorationsImpl(j,[ut],[])},deltaDecorations:function(ut,_t){return ut.length===0&&_t.length===0?[]:K._deltaDecorationsImpl(j,ut,_t)}},xe=null;try{xe=k(ue)}catch(Ve){Object(ne.h)(Ve)}return ue.addDecoration=Nr,ue.changeDecoration=Nr,ue.changeDecorationOptions=Nr,ue.removeDecoration=Nr,ue.deltaDecorations=Nr,xe}},{key:"deltaDecorations",value:function(j,k){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this._assertNotDisposed(),j||(j=[]),j.length===0&&k.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),Object(ne.h)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(K,j,k)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}},{key:"_getTrackedRange",value:function(j){return this.getDecorationRange(j)}},{key:"_setTrackedRange",value:function(j,k,K){var ue=j?this._decorations[j]:null;if(!ue)return k?this._deltaDecorationsImpl(0,[],[{range:k,options:qo[K]}],!0)[0]:null;if(!k)return this._decorationsTree.delete(ue),delete this._decorations[ue.id],null;var xe=this._validateRangeRelaxedNoAllocations(k),Ve=this._buffer.getOffsetAt(xe.startLineNumber,xe.startColumn),ut=this._buffer.getOffsetAt(xe.endLineNumber,xe.endColumn);return this._decorationsTree.delete(ue),ue.reset(this.getVersionId(),Ve,ut,xe),ue.setOptions(qo[K]),this._decorationsTree.insert(ue),ue.id}},{key:"removeAllDecorationsWithOwnerId",value:function(j){if(!this._isDisposed)for(var k=this._decorationsTree.collectNodesFromOwner(j),K=0,ue=k.length;K<ue;K++){var xe=k[K];this._decorationsTree.delete(xe),delete this._decorations[xe.id]}}},{key:"getDecorationOptions",value:function(j){var k=this._decorations[j];return k?k.options:null}},{key:"getDecorationRange",value:function(j){var k=this._decorations[j];return k?this._decorationsTree.getNodeRange(this,k):null}},{key:"getLineDecorations",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return j<1||j>this.getLineCount()?[]:this.getLinesDecorations(j,j,k,K)}},{key:"getLinesDecorations",value:function(j,k){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,xe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,Ve=this.getLineCount(),ut=Math.min(Ve,Math.max(1,j)),_t=Math.min(Ve,Math.max(1,k)),xt=this.getLineMaxColumn(_t),un=new D.a(ut,1,_t,xt),ln=this._getDecorationsInRange(un,K,ue,xe);return Object(E.v)(ln,this._decorationProvider.getDecorationsInRange(un,K,ue)),ln}},{key:"getDecorationsInRange",value:function(j){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,xe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,Ve=this.validateRange(j),ut=this._getDecorationsInRange(Ve,k,K,xe);return Object(E.v)(ut,this._decorationProvider.getDecorationsInRange(Ve,k,K,ue)),ut}},{key:"getOverviewRulerDecorations",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._decorationsTree.getAll(this,j,k,!0,!1)}},{key:"getInjectedTextDecorations",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this._decorationsTree.getAllInjectedText(this,j)}},{key:"_getInjectedTextInLine",value:function(j){var k=this._buffer.getOffsetAt(j,1),K=k+this._buffer.getLineLength(j),ue=this._decorationsTree.getInjectedTextInInterval(this,k,K,0);return Si.b.fromDecorations(ue).filter(function(xe){return xe.lineNumber===j})}},{key:"getAllDecorations",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K=this._decorationsTree.getAll(this,j,k,!1,!1);return K=K.concat(this._decorationProvider.getAllDecorations(j,k)),K}},{key:"getAllMarginDecorations",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this._decorationsTree.getAll(this,j,!1,!1,!0)}},{key:"_getDecorationsInRange",value:function(j,k,K,ue){var xe=this._buffer.getOffsetAt(j.startLineNumber,j.startColumn),Ve=this._buffer.getOffsetAt(j.endLineNumber,j.endColumn);return this._decorationsTree.getAllInInterval(this,xe,Ve,k,K,ue)}},{key:"getRangeAt",value:function(j,k){return this._buffer.getRangeAt(j,k-j)}},{key:"_changeDecorationImpl",value:function(j,k){var K=this._decorations[j];if(!!K){if(K.options.after){var ue=this.getDecorationRange(j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ue.endLineNumber)}if(K.options.before){var xe=this.getDecorationRange(j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(xe.startLineNumber)}var Ve=this._validateRangeRelaxedNoAllocations(k),ut=this._buffer.getOffsetAt(Ve.startLineNumber,Ve.startColumn),_t=this._buffer.getOffsetAt(Ve.endLineNumber,Ve.endColumn);this._decorationsTree.delete(K),K.reset(this.getVersionId(),ut,_t,Ve),this._decorationsTree.insert(K),this._onDidChangeDecorations.checkAffectedAndFire(K.options),K.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ve.endLineNumber),K.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ve.startLineNumber)}}},{key:"_changeDecorationOptionsImpl",value:function(j,k){var K=this._decorations[j];if(!!K){var ue=!!(K.options.overviewRuler&&K.options.overviewRuler.color),xe=!!(k.overviewRuler&&k.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(K.options),this._onDidChangeDecorations.checkAffectedAndFire(k),K.options.after||k.after){var Ve=this._decorationsTree.getNodeRange(this,K);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ve.endLineNumber)}if(K.options.before||k.before){var ut=this._decorationsTree.getNodeRange(this,K);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ut.startLineNumber)}ue!==xe?(this._decorationsTree.delete(K),K.setOptions(k),this._decorationsTree.insert(K)):K.setOptions(k)}}},{key:"_deltaDecorationsImpl",value:function(j,k,K){var ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,xe=this.getVersionId(),Ve=k.length,ut=0,_t=K.length,xt=0;this._onDidChangeDecorations.beginDeferredEmit();try{for(var un=new Array(_t);ut<Ve||xt<_t;){var ln=null;if(ut<Ve){do ln=this._decorations[k[ut++]];while(!ln&&ut<Ve);if(ln){if(ln.options.after){var nn=this._decorationsTree.getNodeRange(this,ln);this._onDidChangeDecorations.recordLineAffectedByInjectedText(nn.endLineNumber)}if(ln.options.before){var bn=this._decorationsTree.getNodeRange(this,ln);this._onDidChangeDecorations.recordLineAffectedByInjectedText(bn.startLineNumber)}this._decorationsTree.delete(ln),ue||this._onDidChangeDecorations.checkAffectedAndFire(ln.options)}}if(xt<_t){if(!ln){var An=++this._lastDecorationId,It="".concat(this._instanceId,";").concat(An);ln=new In(It,0,0),this._decorations[It]=ln}var er=K[xt],Mi=this._validateRangeRelaxedNoAllocations(er.range),wr=_a(er.options),hr=this._buffer.getOffsetAt(Mi.startLineNumber,Mi.startColumn),xi=this._buffer.getOffsetAt(Mi.endLineNumber,Mi.endColumn);ln.ownerId=j,ln.reset(xe,hr,xi,Mi),ln.setOptions(wr),ln.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Mi.endLineNumber),ln.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Mi.startLineNumber),ue||this._onDidChangeDecorations.checkAffectedAndFire(wr),this._decorationsTree.insert(ln),un[xt]=ln.id,xt++}else ln&&delete this._decorations[ln.id]}return un}finally{this._onDidChangeDecorations.endDeferredEmit()}}},{key:"getLanguageId",value:function(){return this.tokenization.getLanguageId()}},{key:"setLanguage",value:function(j,k){var K=this;typeof j=="string"?(this._languageSelectionListener.clear(),this._setLanguage(j,k)):(this._languageSelectionListener.value=j.onDidChange(function(){return K._setLanguage(j.languageId,k)}),this._setLanguage(j.languageId,k))}},{key:"_setLanguage",value:function(j,k){this.tokenization.setLanguageId(j,k),this._languageService.requestRichLanguageFeatures(j)}},{key:"getLanguageIdAtPosition",value:function(j,k){return this.tokenization.getLanguageIdAtPosition(j,k)}},{key:"getWordAtPosition",value:function(j){return this._tokenizationTextModelPart.getWordAtPosition(j)}},{key:"getWordUntilPosition",value:function(j){return this._tokenizationTextModelPart.getWordUntilPosition(j)}},{key:"normalizePosition",value:function(j,k){return j}},{key:"getLineIndentColumn",value:function(j){return Jr(this.getLineContent(j))+1}}],[{key:"resolveOptions",value:function(j,k){if(k.detectIndentation){var K=Qe(j,k.tabSize,k.insertSpaces);return new z.h({tabSize:K.tabSize,indentSize:"tabSize",insertSpaces:K.insertSpaces,trimAutoWhitespace:k.trimAutoWhitespace,defaultEOL:k.defaultEOL,bracketPairColorizationOptions:k.bracketPairColorizationOptions})}return new z.h(k)}}]),_e}(B.a);$i._MODEL_SYNC_LIMIT=50*1024*1024,$i.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,$i.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,$i.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:x.a.tabSize,indentSize:x.a.indentSize,insertSpaces:x.a.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:x.a.trimAutoWhitespace,largeFileOptimizations:x.a.largeFileOptimizations,bracketPairColorizationOptions:x.a.bracketPairColorizationOptions},$i=Lr([or(4,Ui.a),or(5,O.a),or(6,T.a)],$i);function Jr(Rt){var tt=0,_e=Object(ce.a)(Rt),ee;try{for(_e.s();!(ee=_e.n()).done;){var j=ee.value;if(j===" "||j==="	")tt++;else break}}catch(k){_e.e(k)}finally{_e.f()}return tt}function ja(Rt){return!!(Rt.options.overviewRuler&&Rt.options.overviewRuler.color)}function $r(Rt){return!!Rt.options.after||!!Rt.options.before}var Ra=function(){function Rt(){Object(_.a)(this,Rt),this._decorationsTree0=new jn,this._decorationsTree1=new jn,this._injectedTextDecorationsTree=new jn}return Object(Y.a)(Rt,[{key:"ensureAllNodesHaveRanges",value:function(_e){this.getAll(_e,0,!1,!1,!1)}},{key:"_ensureNodesHaveRanges",value:function(_e,ee){var j=Object(ce.a)(ee),k;try{for(j.s();!(k=j.n()).done;){var K=k.value;K.range===null&&(K.range=_e.getRangeAt(K.cachedAbsoluteStart,K.cachedAbsoluteEnd))}}catch(ue){j.e(ue)}finally{j.f()}return ee}},{key:"getAllInInterval",value:function(_e,ee,j,k,K,ue){var xe=_e.getVersionId(),Ve=this._intervalSearch(ee,j,k,K,xe,ue);return this._ensureNodesHaveRanges(_e,Ve)}},{key:"_intervalSearch",value:function(_e,ee,j,k,K,ue){var xe=this._decorationsTree0.intervalSearch(_e,ee,j,k,K,ue),Ve=this._decorationsTree1.intervalSearch(_e,ee,j,k,K,ue),ut=this._injectedTextDecorationsTree.intervalSearch(_e,ee,j,k,K,ue);return xe.concat(Ve).concat(ut)}},{key:"getInjectedTextInInterval",value:function(_e,ee,j,k){var K=_e.getVersionId(),ue=this._injectedTextDecorationsTree.intervalSearch(ee,j,k,!1,K,!1);return this._ensureNodesHaveRanges(_e,ue).filter(function(xe){return xe.options.showIfCollapsed||!xe.range.isEmpty()})}},{key:"getAllInjectedText",value:function(_e,ee){var j=_e.getVersionId(),k=this._injectedTextDecorationsTree.search(ee,!1,j,!1);return this._ensureNodesHaveRanges(_e,k).filter(function(K){return K.options.showIfCollapsed||!K.range.isEmpty()})}},{key:"getAll",value:function(_e,ee,j,k,K){var ue=_e.getVersionId(),xe=this._search(ee,j,k,ue,K);return this._ensureNodesHaveRanges(_e,xe)}},{key:"_search",value:function(_e,ee,j,k,K){if(j)return this._decorationsTree1.search(_e,ee,k,K);var ue=this._decorationsTree0.search(_e,ee,k,K),xe=this._decorationsTree1.search(_e,ee,k,K),Ve=this._injectedTextDecorationsTree.search(_e,ee,k,K);return ue.concat(xe).concat(Ve)}},{key:"collectNodesFromOwner",value:function(_e){var ee=this._decorationsTree0.collectNodesFromOwner(_e),j=this._decorationsTree1.collectNodesFromOwner(_e),k=this._injectedTextDecorationsTree.collectNodesFromOwner(_e);return ee.concat(j).concat(k)}},{key:"collectNodesPostOrder",value:function(){var _e=this._decorationsTree0.collectNodesPostOrder(),ee=this._decorationsTree1.collectNodesPostOrder(),j=this._injectedTextDecorationsTree.collectNodesPostOrder();return _e.concat(ee).concat(j)}},{key:"insert",value:function(_e){$r(_e)?this._injectedTextDecorationsTree.insert(_e):ja(_e)?this._decorationsTree1.insert(_e):this._decorationsTree0.insert(_e)}},{key:"delete",value:function(_e){$r(_e)?this._injectedTextDecorationsTree.delete(_e):ja(_e)?this._decorationsTree1.delete(_e):this._decorationsTree0.delete(_e)}},{key:"getNodeRange",value:function(_e,ee){var j=_e.getVersionId();return ee.cachedVersionId!==j&&this._resolveNode(ee,j),ee.range===null&&(ee.range=_e.getRangeAt(ee.cachedAbsoluteStart,ee.cachedAbsoluteEnd)),ee.range}},{key:"_resolveNode",value:function(_e,ee){$r(_e)?this._injectedTextDecorationsTree.resolveNode(_e,ee):ja(_e)?this._decorationsTree1.resolveNode(_e,ee):this._decorationsTree0.resolveNode(_e,ee)}},{key:"acceptReplace",value:function(_e,ee,j,k){this._decorationsTree0.acceptReplace(_e,ee,j,k),this._decorationsTree1.acceptReplace(_e,ee,j,k),this._injectedTextDecorationsTree.acceptReplace(_e,ee,j,k)}}]),Rt}();function Ua(Rt){return Rt.replace(/[^a-z0-9\-_]/gi," ")}var Ka=Object(Y.a)(function Rt(tt){Object(_.a)(this,Rt),this.color=tt.color||"",this.darkColor=tt.darkColor||""}),ws=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee){var j;return Object(_.a)(this,_e),j=tt.call(this,ee),j._resolvedColor=null,j.position=typeof ee.position=="number"?ee.position:z.f.Center,j}return Object(Y.a)(_e,[{key:"getColor",value:function(j){return this._resolvedColor||(j.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,j):this._resolvedColor=this._resolveColor(this.color,j)),this._resolvedColor}},{key:"invalidateCachedColor",value:function(){this._resolvedColor=null}},{key:"_resolveColor",value:function(j,k){if(typeof j=="string")return j;var K=j?k.getColor(j.id):null;return K?K.toString():""}}]),_e}(Ka),Zr=Object(Y.a)(function Rt(tt){Object(_.a)(this,Rt);var _e;this.position=(_e=tt==null?void 0:tt.position)!==null&&_e!==void 0?_e:z.c.Left}),Xa=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee){var j;return Object(_.a)(this,_e),j=tt.call(this,ee),j.position=ee.position,j}return Object(Y.a)(_e,[{key:"getColor",value:function(j){return this._resolvedColor||(j.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,j):this._resolvedColor=this._resolveColor(this.color,j)),this._resolvedColor}},{key:"invalidateCachedColor",value:function(){this._resolvedColor=void 0}},{key:"_resolveColor",value:function(j,k){return typeof j=="string"?Z.a.fromHex(j):k.getColor(j.id)}}]),_e}(Ka),Go=function(){function Rt(tt){Object(_.a)(this,Rt),this.content=tt.content||"",this.inlineClassName=tt.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=tt.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=tt.attachedData||null,this.cursorStops=tt.cursorStops||null}return Object(Y.a)(Rt,null,[{key:"from",value:function(_e){return _e instanceof Rt?_e:new Rt(_e)}}]),Rt}(),lo=function(){function Rt(tt){Object(_.a)(this,Rt);var _e,ee,j,k,K;this.description=tt.description,this.blockClassName=tt.blockClassName?Ua(tt.blockClassName):null,this.blockDoesNotCollapse=(_e=tt.blockDoesNotCollapse)!==null&&_e!==void 0?_e:null,this.blockIsAfterEnd=(ee=tt.blockIsAfterEnd)!==null&&ee!==void 0?ee:null,this.blockPadding=(j=tt.blockPadding)!==null&&j!==void 0?j:null,this.stickiness=tt.stickiness||0,this.zIndex=tt.zIndex||0,this.className=tt.className?Ua(tt.className):null,this.hoverMessage=tt.hoverMessage||null,this.glyphMarginHoverMessage=tt.glyphMarginHoverMessage||null,this.isWholeLine=tt.isWholeLine||!1,this.showIfCollapsed=tt.showIfCollapsed||!1,this.collapseOnReplaceEdit=tt.collapseOnReplaceEdit||!1,this.overviewRuler=tt.overviewRuler?new ws(tt.overviewRuler):null,this.minimap=tt.minimap?new Xa(tt.minimap):null,this.glyphMargin=tt.glyphMarginClassName?new Zr(tt.glyphMargin):null,this.glyphMarginClassName=tt.glyphMarginClassName?Ua(tt.glyphMarginClassName):null,this.linesDecorationsClassName=tt.linesDecorationsClassName?Ua(tt.linesDecorationsClassName):null,this.firstLineDecorationClassName=tt.firstLineDecorationClassName?Ua(tt.firstLineDecorationClassName):null,this.marginClassName=tt.marginClassName?Ua(tt.marginClassName):null,this.inlineClassName=tt.inlineClassName?Ua(tt.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=tt.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=tt.beforeContentClassName?Ua(tt.beforeContentClassName):null,this.afterContentClassName=tt.afterContentClassName?Ua(tt.afterContentClassName):null,this.after=tt.after?Go.from(tt.after):null,this.before=tt.before?Go.from(tt.before):null,this.hideInCommentTokens=(k=tt.hideInCommentTokens)!==null&&k!==void 0?k:!1,this.hideInStringTokens=(K=tt.hideInStringTokens)!==null&&K!==void 0?K:!1}return Object(Y.a)(Rt,null,[{key:"register",value:function(_e){return new Rt(_e)}},{key:"createDynamic",value:function(_e){return new Rt(_e)}}]),Rt}();lo.EMPTY=lo.register({description:"empty"});var qo=[lo.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),lo.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),lo.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),lo.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function _a(Rt){return Rt instanceof lo?Rt:lo.createDynamic(Rt)}var la=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(ee){var j;return Object(_.a)(this,_e),j=tt.call(this),j.handleBeforeFire=ee,j._actual=j._register(new V.b),j.event=j._actual.event,j._affectedInjectedTextLines=null,j._deferredCnt=0,j._shouldFireDeferred=!1,j._affectsMinimap=!1,j._affectsOverviewRuler=!1,j._affectsGlyphMargin=!1,j}return Object(Y.a)(_e,[{key:"beginDeferredEmit",value:function(){this._deferredCnt++}},{key:"endDeferredEmit",value:function(){var j;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(j=this._affectedInjectedTextLines)===null||j===void 0||j.clear(),this._affectedInjectedTextLines=null)}},{key:"recordLineAffectedByInjectedText",value:function(j){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(j)}},{key:"checkAffectedAndFire",value:function(j){this._affectsMinimap||(this._affectsMinimap=!!(j.minimap&&j.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(j.overviewRuler&&j.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!j.glyphMarginClassName),this.tryFire()}},{key:"fire",value:function(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}},{key:"tryFire",value:function(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}},{key:"doFire",value:function(){this.handleBeforeFire(this._affectedInjectedTextLines);var j={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(j)}}]),_e}(B.a),La=function(Rt){Object(te.a)(_e,Rt);var tt=Object($.a)(_e);function _e(){var ee;return Object(_.a)(this,_e),ee=tt.call(this),ee._fastEmitter=ee._register(new V.b),ee.fastEvent=ee._fastEmitter.event,ee._slowEmitter=ee._register(new V.b),ee.slowEvent=ee._slowEmitter.event,ee._deferredCnt=0,ee._deferredEvent=null,ee}return Object(Y.a)(_e,[{key:"beginDeferredEmit",value:function(){this._deferredCnt++}},{key:"endDeferredEmit",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=j;var k=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(k),this._slowEmitter.fire(k)}}},{key:"fire",value:function(j){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(j):this._deferredEvent=j;return}this._fastEmitter.fire(j),this._slowEmitter.fire(j)}}]),_e}(B.a),Ro=function(){function Rt(){Object(_.a)(this,Rt),this._onDidChangeVisibleRanges=new V.b,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}return Object(Y.a)(Rt,[{key:"attachView",value:function(){var _e=this,ee=new $o(function(j){_e._onDidChangeVisibleRanges.fire({view:ee,state:j})});return this._views.add(ee),ee}},{key:"detachView",value:function(_e){this._views.delete(_e),this._onDidChangeVisibleRanges.fire({view:_e,state:void 0})}}]),Rt}(),$o=function(){function Rt(tt){Object(_.a)(this,Rt),this.handleStateChange=tt}return Object(Y.a)(Rt,[{key:"setVisibleLines",value:function(_e,ee){var j=_e.map(function(k){return new Zt.a(k.startLineNumber,k.endLineNumber+1)});this.handleStateChange({visibleLineRanges:j,stabilized:ee})}}]),Rt}()},tYmi:function(mn,U,a){"use strict";a.d(U,"c",function(){return te}),a.d(U,"b",function(){return Y}),a.d(U,"a",function(){return Z});var ce=a("fWQN"),we=a("mtLc"),w=a("/cxE"),ve=a("MNsG"),se=a("bY76"),te;(function(V){V.inMemory="inmemory",V.vscode="vscode",V.internal="private",V.walkThrough="walkThrough",V.walkThroughSnippet="walkThroughSnippet",V.http="http",V.https="https",V.file="file",V.mailto="mailto",V.untitled="untitled",V.data="data",V.command="command",V.vscodeRemote="vscode-remote",V.vscodeRemoteResource="vscode-remote-resource",V.vscodeUserData="vscode-userdata",V.vscodeCustomEditor="vscode-custom-editor",V.vscodeNotebookCell="vscode-notebook-cell",V.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",V.vscodeNotebookCellOutput="vscode-notebook-cell-output",V.vscodeInteractive="vscode-interactive",V.vscodeInteractiveInput="vscode-interactive-input",V.vscodeSettings="vscode-settings",V.vscodeWorkspaceTrust="vscode-workspace-trust",V.vscodeTerminal="vscode-terminal",V.vscodeChatSesssion="vscode-chat-editor",V.webviewPanel="webview-panel",V.vscodeWebview="vscode-webview",V.extension="extension",V.vscodeFileResource="vscode-file",V.tmp="tmp",V.vsls="vsls",V.vscodeSourceControl="vscode-scm"})(te||(te={}));var $="tkn",_=function(){function V(){Object(ce.a)(this,V),this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath="/".concat(te.vscodeRemoteResource)}return Object(we.a)(V,[{key:"setPreferredWebSchema",value:function(F){this._preferredWebSchema=F}},{key:"rewrite",value:function(F){if(this._delegate)try{return this._delegate(F)}catch(C){return w.h(C),F}var W=F.authority,N=this._hosts[W];N&&N.indexOf(":")!==-1&&N.indexOf("[")===-1&&(N="[".concat(N,"]"));var H=this._ports[W],d=this._connectionTokens[W],D="path=".concat(encodeURIComponent(F.path));return typeof d=="string"&&(D+="&".concat($,"=").concat(encodeURIComponent(d))),se.a.from({scheme:ve.m?this._preferredWebSchema:te.vscodeRemoteResource,authority:"".concat(N,":").concat(H),path:this._remoteResourcesPath,query:D})}}]),V}(),Y=new _,E=function(){function V(){Object(ce.a)(this,V)}return Object(we.a)(V,[{key:"uriToBrowserUri",value:function(F){return F.scheme===te.vscodeRemote?Y.rewrite(F):F.scheme===te.file&&(ve.k||ve.n&&ve.b.origin==="".concat(te.vscodeFileResource,"://").concat(V.FALLBACK_AUTHORITY))?F.with({scheme:te.vscodeFileResource,authority:F.authority||V.FALLBACK_AUTHORITY,query:null,fragment:null}):F}}]),V}();E.FALLBACK_AUTHORITY="vscode-app";var Z=new E,ne;(function(V){var B=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);V.CoopAndCoep=Object.freeze(B.get("3"));var F="vscode-coi";function W(H){var d;typeof H=="string"?d=new URL(H).searchParams:H instanceof URL?d=H.searchParams:se.a.isUri(H)&&(d=new URL(H.toString(!0)).searchParams);var D=d==null?void 0:d.get(F);if(!!D)return B.get(D)}V.getHeadersFromQuery=W;function N(H,d,D){if(!!globalThis.crossOriginIsolated){var C=d&&D?"3":D?"2":"1";H instanceof URLSearchParams?H.set(F,C):H[F]=C}}V.addSearchParam=N})(ne||(ne={}))},tkDr:function(mn,U,a){},tvLE:function(mn,U,a){},u1OI:function(mn,U,a){},uD7z:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("hkzD"),we=ce.a.Group},uDWl:function(mn,U,a){"use strict";a.d(U,"a",function(){return ne});var ce=a("fWQN"),we=a("mtLc"),w=a("D3Dy"),ve=a("/kV6"),se=a("Szf2"),te=a("MNsG");function $(V){if(V.charCode){var B=String.fromCharCode(V.charCode).toUpperCase();return ve.d.fromString(B)}var F=V.keyCode;if(F===3)return 7;if(w.isFirefox)switch(F){case 59:return 85;case 60:if(te.g)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(te.i)return 57;break}else if(w.isWebKit){if(te.i&&F===93)return 57;if(!te.i&&F===92)return 57}return ve.a[F]||0}var _=te.i?256:2048,Y=512,E=1024,Z=te.i?2048:256,ne=function(){function V(B){Object(ce.a)(this,V),this._standardKeyboardEventBrand=!0;var F=B;this.browserEvent=F,this.target=F.target,this.ctrlKey=F.ctrlKey,this.shiftKey=F.shiftKey,this.altKey=F.altKey,this.metaKey=F.metaKey,this.altGraphKey=F.getModifierState("AltGraph"),this.keyCode=$(F),this.code=F.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}return Object(we.a)(V,[{key:"preventDefault",value:function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}},{key:"toKeyCodeChord",value:function(){return this._asKeyCodeChord}},{key:"equals",value:function(F){return this._asKeybinding===F}},{key:"_computeKeybinding",value:function(){var F=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(F=this.keyCode);var W=0;return this.ctrlKey&&(W|=_),this.altKey&&(W|=Y),this.shiftKey&&(W|=E),this.metaKey&&(W|=Z),W|=F,W}},{key:"_computeKeyCodeChord",value:function(){var F=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(F=this.keyCode),new se.a(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,F)}}]),V}()},ubTv:function(mn,U,a){"use strict";a.d(U,"a",function(){return ce});var ce=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},undH:function(mn,U,a){},v1vZ:function(mn,U,a){"use strict";a.d(U,"b",function(){return H}),a.d(U,"a",function(){return d}),a.d(U,"c",function(){return T});var ce=a("rAM+"),we=a("fWQN"),w=a("mtLc"),ve=a("X+cX"),se=a("Vhoy"),te=a("T5lh"),$=a("MI8n"),_=a("746U"),Y=a("bY76"),E=a("3/fG"),Z=a("3Rsk"),ne=a("ic2d"),V={IconContribution:"base.contributions.icons"},B;(function(fe){function ke(A,P){for(var G=A.defaults;te.a.isThemeIcon(G);){var re=N.getIcon(G.id);if(!re)return;G=re.defaults}return G}fe.getDefinition=ke})(B||(B={}));var F;(function(fe){function ke(P){return{weight:P.weight,style:P.style,src:P.src.map(function(G){return{format:G.format,location:G.location.toString()}})}}fe.toJSONObject=ke;function A(P){var G=function(ae){return Object(_.i)(ae)?ae:void 0};if(P&&Array.isArray(P.src)&&P.src.every(function(re){return Object(_.i)(re.format)&&Object(_.i)(re.location)}))return{weight:G(P.weight),style:G(P.style),src:P.src.map(function(re){return{format:re.format,location:Y.a.parse(re.location)}})}}fe.fromJSONObject=A})(F||(F={}));var W=function(){function fe(){Object(we.a)(this,fe),this._onDidChange=new $.b,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:Object(E.b)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:Object(E.b)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:"^".concat(te.a.iconNameExpression,"$"),enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}return Object(w.a)(fe,[{key:"registerIcon",value:function(A,P,G,re){var ae=this.iconsById[A];if(ae){if(G&&!ae.description){ae.description=G,this.iconSchema.properties[A].markdownDescription="".concat(G," $(").concat(A,")");var Q=this.iconReferenceSchema.enum.indexOf(A);Q!==-1&&(this.iconReferenceSchema.enumDescriptions[Q]=G),this._onDidChange.fire()}return ae}var J={id:A,description:G,defaults:P,deprecationMessage:re};this.iconsById[A]=J;var me={$ref:"#/definitions/icons"};return re&&(me.deprecationMessage=re),G&&(me.markdownDescription="".concat(G,": $(").concat(A,")")),this.iconSchema.properties[A]=me,this.iconReferenceSchema.enum.push(A),this.iconReferenceSchema.enumDescriptions.push(G||""),this._onDidChange.fire(),{id:A}}},{key:"getIcons",value:function(){var A=this;return Object.keys(this.iconsById).map(function(P){return A.iconsById[P]})}},{key:"getIcon",value:function(A){return this.iconsById[A]}},{key:"getIconSchema",value:function(){return this.iconSchema}},{key:"toString",value:function(){var A=this,P=function(Oe,Pe){return Oe.id.localeCompare(Pe.id)},G=function(Oe){for(;te.a.isThemeIcon(Oe.defaults);)Oe=A.iconsById[Oe.defaults.id];return"codicon codicon-".concat(Oe?Oe.id:"")},re=[];re.push("| preview     | identifier                        | default codicon ID                | description"),re.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");var ae=Object.keys(this.iconsById).map(function(Ae){return A.iconsById[Ae]}),Q=Object(ce.a)(ae.filter(function(Ae){return!!Ae.description}).sort(P)),J;try{for(Q.s();!(J=Q.n()).done;){var me=J.value;re.push('|<i class="'.concat(G(me),'"></i>|').concat(me.id,"|").concat(te.a.isThemeIcon(me.defaults)?me.defaults.id:me.id,"|").concat(me.description||"","|"))}}catch(Ae){Q.e(Ae)}finally{Q.f()}re.push("| preview     | identifier                        "),re.push("| ----------- | --------------------------------- |");var ge=Object(ce.a)(ae.filter(function(Ae){return!te.a.isThemeIcon(Ae.defaults)}).sort(P)),L;try{for(ge.s();!(L=ge.n()).done;){var De=L.value;re.push('|<i class="'.concat(G(De),'"></i>|').concat(De.id,"|"))}}catch(Ae){ge.e(Ae)}finally{ge.f()}return re.join(`
`)}}]),fe}(),N=new W;ne.a.add(V.IconContribution,N);function H(fe,ke,A,P){return N.registerIcon(fe,ke,A,P)}function d(){return N}function D(){var fe=Object(se.b)();for(var ke in fe){var A="\\"+fe[ke].toString(16);N.registerIcon(ke,{fontCharacter:A})}}D();var C="vscode://schemas/icons",x=ne.a.as(Z.a.JSONContribution);x.registerSchema(C,N.getIconSchema());var O=new ve.g(function(){return x.notifySchemaChanged(C)},200);N.onDidChange(function(){O.isScheduled()||O.schedule()});var T=H("widget-close",se.a.close,Object(E.b)("widgetClose","Icon for the close action in widgets.")),z=H("goto-previous-location",se.a.arrowUp,Object(E.b)("previousChangeIcon","Icon for goto previous editor location.")),I=H("goto-next-location",se.a.arrowDown,Object(E.b)("nextChangeIcon","Icon for goto next editor location.")),de=te.a.modify(se.a.sync,"spin"),pe=te.a.modify(se.a.loading,"spin")},v63x:function(mn,U,a){},vAKA:function(mn,U,a){},vX7u:function(mn,U,a){"use strict";a.d(U,"a",function(){return ce});var ce={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},w4Tj:function(mn,U,a){"use strict";a.d(U,"a",function(){return w});var ce=a("oZsa");function we(ve,se){for(;!Object.prototype.hasOwnProperty.call(ve,se)&&(ve=Object(ce.a)(ve),ve!==null););return ve}function w(){return typeof Reflect!="undefined"&&Reflect.get?w=Reflect.get.bind():w=function(se,te,$){var _=we(se,te);if(!!_){var Y=Object.getOwnPropertyDescriptor(_,te);return Y.get?Y.get.call(arguments.length<3?se:$):Y.value}},w.apply(this,arguments)}},w5yO:function(mn,U,a){"use strict";a.d(U,"a",function(){return De}),a.d(U,"b",function(){return Xe});var ce=a("rAM+"),we=a("oBTY"),w=a("EffR"),ve=a("ddRO"),se=a("4y0V"),te=a("Md8J"),$=a("uDWl"),_=a("XSiN"),Y=a("fdyd"),E=a("/cxE"),Z=a("MI8n"),ne=a("eLzo"),V=a("EJc0"),B=a("nD70"),F=a("QdLL"),W=a("pmY6"),N={};(function(){function Ge(Je,ft){ft(N)}Ge.amd=!0,function(Je,ft){typeof Ge=="function"&&Ge.amd?Ge(["exports"],ft):typeof exports=="object"&&typeof mn!="undefined"?ft(exports):(Je=typeof globalThis!="undefined"?globalThis:Je||self,ft(Je.marked={}))}(this,function(Je){"use strict";function ft(mt,Ye){for(var vn=0;vn<Ye.length;vn++){var nt=Ye[vn];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(mt,nt.key,nt)}}function qt(mt,Ye,vn){return Ye&&ft(mt.prototype,Ye),vn&&ft(mt,vn),Object.defineProperty(mt,"prototype",{writable:!1}),mt}function bt(mt,Ye){if(!!mt){if(typeof mt=="string")return Bt(mt,Ye);var vn=Object.prototype.toString.call(mt).slice(8,-1);if(vn==="Object"&&mt.constructor&&(vn=mt.constructor.name),vn==="Map"||vn==="Set")return Array.from(mt);if(vn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vn))return Bt(mt,Ye)}}function Bt(mt,Ye){(Ye==null||Ye>mt.length)&&(Ye=mt.length);for(var vn=0,nt=new Array(Ye);vn<Ye;vn++)nt[vn]=mt[vn];return nt}function rn(mt,Ye){var vn=typeof Symbol!="undefined"&&mt[Symbol.iterator]||mt["@@iterator"];if(vn)return(vn=vn.call(mt)).next.bind(vn);if(Array.isArray(mt)||(vn=bt(mt))||Ye&&mt&&typeof mt.length=="number"){vn&&(mt=vn);var nt=0;return function(){return nt>=mt.length?{done:!0}:{done:!1,value:mt[nt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function an(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Je.defaults=an();function In(mt){Je.defaults=mt}var Dt=/[&<>"']/,jn=/[&<>"']/g,_n=/[<>"']|&(?!#?\w+;)/,Nn=/[<>"']|&(?!#?\w+;)/g,ei={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kn=function(Ye){return ei[Ye]};function Pn(mt,Ye){if(Ye){if(Dt.test(mt))return mt.replace(jn,kn)}else if(_n.test(mt))return mt.replace(Nn,kn);return mt}var qi=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function gi(mt){return mt.replace(qi,function(Ye,vn){return vn=vn.toLowerCase(),vn==="colon"?":":vn.charAt(0)==="#"?vn.charAt(1)==="x"?String.fromCharCode(parseInt(vn.substring(2),16)):String.fromCharCode(+vn.substring(1)):""})}var ir=/(^|[^\[])\^/g;function yi(mt,Ye){mt=typeof mt=="string"?mt:mt.source,Ye=Ye||"";var vn={replace:function(Ze,Zt){return Zt=Zt.source||Zt,Zt=Zt.replace(ir,"$1"),mt=mt.replace(Ze,Zt),vn},getRegex:function(){return new RegExp(mt,Ye)}};return vn}var mi=/[^\w:]/g,gr=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function zn(mt,Ye,vn){if(mt){var nt;try{nt=decodeURIComponent(gi(vn)).replace(mi,"").toLowerCase()}catch(Ze){return null}if(nt.indexOf("javascript:")===0||nt.indexOf("vbscript:")===0||nt.indexOf("data:")===0)return null}Ye&&!gr.test(vn)&&(vn=Jn(Ye,vn));try{vn=encodeURI(vn).replace(/%25/g,"%")}catch(Ze){return null}return vn}var Ki={},Bn=/^[^:]+:\/*[^/]*$/,ai=/^([^:]+:)[\s\S]*$/,dn=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Jn(mt,Ye){Ki[" "+mt]||(Bn.test(mt)?Ki[" "+mt]=mt+"/":Ki[" "+mt]=gn(mt,"/",!0)),mt=Ki[" "+mt];var vn=mt.indexOf(":")===-1;return Ye.substring(0,2)==="//"?vn?Ye:mt.replace(ai,"$1")+Ye:Ye.charAt(0)==="/"?vn?Ye:mt.replace(dn,"$1")+Ye:mt+Ye}var Yt={exec:function(){}};function Ct(mt){for(var Ye=1,vn,nt;Ye<arguments.length;Ye++){vn=arguments[Ye];for(nt in vn)Object.prototype.hasOwnProperty.call(vn,nt)&&(mt[nt]=vn[nt])}return mt}function Dn(mt,Ye){var vn=mt.replace(/\|/g,function(Zt,hn,Ht){for(var lt=!1,si=hn;--si>=0&&Ht[si]==="\\";)lt=!lt;return lt?"|":" |"}),nt=vn.split(/ \|/),Ze=0;if(nt[0].trim()||nt.shift(),nt.length>0&&!nt[nt.length-1].trim()&&nt.pop(),nt.length>Ye)nt.splice(Ye);else for(;nt.length<Ye;)nt.push("");for(;Ze<nt.length;Ze++)nt[Ze]=nt[Ze].trim().replace(/\\\|/g,"|");return nt}function gn(mt,Ye,vn){var nt=mt.length;if(nt===0)return"";for(var Ze=0;Ze<nt;){var Zt=mt.charAt(nt-Ze-1);if(Zt===Ye&&!vn)Ze++;else if(Zt!==Ye&&vn)Ze++;else break}return mt.slice(0,nt-Ze)}function en(mt,Ye){if(mt.indexOf(Ye[1])===-1)return-1;for(var vn=mt.length,nt=0,Ze=0;Ze<vn;Ze++)if(mt[Ze]==="\\")Ze++;else if(mt[Ze]===Ye[0])nt++;else if(mt[Ze]===Ye[1]&&(nt--,nt<0))return Ze;return-1}function yn(mt){mt&&mt.sanitize&&!mt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Qn(mt,Ye){if(Ye<1)return"";for(var vn="";Ye>1;)Ye&1&&(vn+=mt),Ye>>=1,mt+=mt;return vn+mt}function pi(mt,Ye,vn,nt){var Ze=Ye.href,Zt=Ye.title?Pn(Ye.title):null,hn=mt[1].replace(/\\([\[\]])/g,"$1");if(mt[0].charAt(0)!=="!"){nt.state.inLink=!0;var Ht={type:"link",raw:vn,href:Ze,title:Zt,text:hn,tokens:nt.inlineTokens(hn)};return nt.state.inLink=!1,Ht}return{type:"image",raw:vn,href:Ze,title:Zt,text:Pn(hn)}}function Pt(mt,Ye){var vn=mt.match(/^(\s+)(?:```)/);if(vn===null)return Ye;var nt=vn[1];return Ye.split(`
`).map(function(Ze){var Zt=Ze.match(/^\s+/);if(Zt===null)return Ze;var hn=Zt[0];return hn.length>=nt.length?Ze.slice(nt.length):Ze}).join(`
`)}var yt=function(){function mt(vn){this.options=vn||Je.defaults}var Ye=mt.prototype;return Ye.space=function(nt){var Ze=this.rules.block.newline.exec(nt);if(Ze&&Ze[0].length>0)return{type:"space",raw:Ze[0]}},Ye.code=function(nt){var Ze=this.rules.block.code.exec(nt);if(Ze){var Zt=Ze[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ze[0],codeBlockStyle:"indented",text:this.options.pedantic?Zt:gn(Zt,`
`)}}},Ye.fences=function(nt){var Ze=this.rules.block.fences.exec(nt);if(Ze){var Zt=Ze[0],hn=Pt(Zt,Ze[3]||"");return{type:"code",raw:Zt,lang:Ze[2]?Ze[2].trim():Ze[2],text:hn}}},Ye.heading=function(nt){var Ze=this.rules.block.heading.exec(nt);if(Ze){var Zt=Ze[2].trim();if(/#$/.test(Zt)){var hn=gn(Zt,"#");(this.options.pedantic||!hn||/ $/.test(hn))&&(Zt=hn.trim())}return{type:"heading",raw:Ze[0],depth:Ze[1].length,text:Zt,tokens:this.lexer.inline(Zt)}}},Ye.hr=function(nt){var Ze=this.rules.block.hr.exec(nt);if(Ze)return{type:"hr",raw:Ze[0]}},Ye.blockquote=function(nt){var Ze=this.rules.block.blockquote.exec(nt);if(Ze){var Zt=Ze[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Ze[0],tokens:this.lexer.blockTokens(Zt,[]),text:Zt}}},Ye.list=function(nt){var Ze=this.rules.block.list.exec(nt);if(Ze){var Zt,hn,Ht,lt,si,Oi,Ji,Wi,Yi,Bi,Gi,Gr,kr=Ze[1].trim(),sa=kr.length>1,Fr={type:"list",raw:"",ordered:sa,start:sa?+kr.slice(0,-1):"",loose:!1,items:[]};kr=sa?"\\d{1,9}\\"+kr.slice(-1):"\\"+kr,this.options.pedantic&&(kr=sa?kr:"[*+-]");for(var ua=new RegExp("^( {0,3}"+kr+")((?:[	 ][^\\n]*)?(?:\\n|$))");nt&&(Gr=!1,!(!(Ze=ua.exec(nt))||this.rules.block.hr.test(nt)));){if(Zt=Ze[0],nt=nt.substring(Zt.length),Wi=Ze[2].split(`
`,1)[0],Yi=nt.split(`
`,1)[0],this.options.pedantic?(lt=2,Gi=Wi.trimLeft()):(lt=Ze[2].search(/[^ ]/),lt=lt>4?1:lt,Gi=Wi.slice(lt),lt+=Ze[1].length),Oi=!1,!Wi&&/^ *$/.test(Yi)&&(Zt+=Yi+`
`,nt=nt.substring(Yi.length+1),Gr=!0),!Gr)for(var pn=new RegExp("^ {0,"+Math.min(3,lt-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ln=new RegExp("^ {0,"+Math.min(3,lt-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),ct=new RegExp("^ {0,"+Math.min(3,lt-1)+"}(?:```|~~~)"),Mt=new RegExp("^ {0,"+Math.min(3,lt-1)+"}#");nt&&(Bi=nt.split(`
`,1)[0],Wi=Bi,this.options.pedantic&&(Wi=Wi.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ct.test(Wi)||Mt.test(Wi)||pn.test(Wi)||Ln.test(nt)));){if(Wi.search(/[^ ]/)>=lt||!Wi.trim())Gi+=`
`+Wi.slice(lt);else if(!Oi)Gi+=`
`+Wi;else break;!Oi&&!Wi.trim()&&(Oi=!0),Zt+=Bi+`
`,nt=nt.substring(Bi.length+1)}Fr.loose||(Ji?Fr.loose=!0:/\n *\n *$/.test(Zt)&&(Ji=!0)),this.options.gfm&&(hn=/^\[[ xX]\] /.exec(Gi),hn&&(Ht=hn[0]!=="[ ] ",Gi=Gi.replace(/^\[[ xX]\] +/,""))),Fr.items.push({type:"list_item",raw:Zt,task:!!hn,checked:Ht,loose:!1,text:Gi}),Fr.raw+=Zt}Fr.items[Fr.items.length-1].raw=Zt.trimRight(),Fr.items[Fr.items.length-1].text=Gi.trimRight(),Fr.raw=Fr.raw.trimRight();var At=Fr.items.length;for(si=0;si<At;si++){this.lexer.state.top=!1,Fr.items[si].tokens=this.lexer.blockTokens(Fr.items[si].text,[]);var zt=Fr.items[si].tokens.filter(function(Un){return Un.type==="space"}),$t=zt.every(function(Un){for(var Vn=Un.raw.split(""),Gn=0,oi=rn(Vn),_i;!(_i=oi()).done;){var Cn=_i.value;if(Cn===`
`&&(Gn+=1),Gn>1)return!0}return!1});!Fr.loose&&zt.length&&$t&&(Fr.loose=!0,Fr.items[si].loose=!0)}return Fr}},Ye.html=function(nt){var Ze=this.rules.block.html.exec(nt);if(Ze){var Zt={type:"html",raw:Ze[0],pre:!this.options.sanitizer&&(Ze[1]==="pre"||Ze[1]==="script"||Ze[1]==="style"),text:Ze[0]};if(this.options.sanitize){var hn=this.options.sanitizer?this.options.sanitizer(Ze[0]):Pn(Ze[0]);Zt.type="paragraph",Zt.text=hn,Zt.tokens=this.lexer.inline(hn)}return Zt}},Ye.def=function(nt){var Ze=this.rules.block.def.exec(nt);if(Ze){Ze[3]&&(Ze[3]=Ze[3].substring(1,Ze[3].length-1));var Zt=Ze[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Zt,raw:Ze[0],href:Ze[2],title:Ze[3]}}},Ye.table=function(nt){var Ze=this.rules.block.table.exec(nt);if(Ze){var Zt={type:"table",header:Dn(Ze[1]).map(function(Ji){return{text:Ji}}),align:Ze[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Ze[3]&&Ze[3].trim()?Ze[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Zt.header.length===Zt.align.length){Zt.raw=Ze[0];var hn=Zt.align.length,Ht,lt,si,Oi;for(Ht=0;Ht<hn;Ht++)/^ *-+: *$/.test(Zt.align[Ht])?Zt.align[Ht]="right":/^ *:-+: *$/.test(Zt.align[Ht])?Zt.align[Ht]="center":/^ *:-+ *$/.test(Zt.align[Ht])?Zt.align[Ht]="left":Zt.align[Ht]=null;for(hn=Zt.rows.length,Ht=0;Ht<hn;Ht++)Zt.rows[Ht]=Dn(Zt.rows[Ht],Zt.header.length).map(function(Ji){return{text:Ji}});for(hn=Zt.header.length,lt=0;lt<hn;lt++)Zt.header[lt].tokens=this.lexer.inline(Zt.header[lt].text);for(hn=Zt.rows.length,lt=0;lt<hn;lt++)for(Oi=Zt.rows[lt],si=0;si<Oi.length;si++)Oi[si].tokens=this.lexer.inline(Oi[si].text);return Zt}}},Ye.lheading=function(nt){var Ze=this.rules.block.lheading.exec(nt);if(Ze)return{type:"heading",raw:Ze[0],depth:Ze[2].charAt(0)==="="?1:2,text:Ze[1],tokens:this.lexer.inline(Ze[1])}},Ye.paragraph=function(nt){var Ze=this.rules.block.paragraph.exec(nt);if(Ze){var Zt=Ze[1].charAt(Ze[1].length-1)===`
`?Ze[1].slice(0,-1):Ze[1];return{type:"paragraph",raw:Ze[0],text:Zt,tokens:this.lexer.inline(Zt)}}},Ye.text=function(nt){var Ze=this.rules.block.text.exec(nt);if(Ze)return{type:"text",raw:Ze[0],text:Ze[0],tokens:this.lexer.inline(Ze[0])}},Ye.escape=function(nt){var Ze=this.rules.inline.escape.exec(nt);if(Ze)return{type:"escape",raw:Ze[0],text:Pn(Ze[1])}},Ye.tag=function(nt){var Ze=this.rules.inline.tag.exec(nt);if(Ze)return!this.lexer.state.inLink&&/^<a /i.test(Ze[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ze[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ze[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ze[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Ze[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ze[0]):Pn(Ze[0]):Ze[0]}},Ye.link=function(nt){var Ze=this.rules.inline.link.exec(nt);if(Ze){var Zt=Ze[2].trim();if(!this.options.pedantic&&/^</.test(Zt)){if(!/>$/.test(Zt))return;var hn=gn(Zt.slice(0,-1),"\\");if((Zt.length-hn.length)%2==0)return}else{var Ht=en(Ze[2],"()");if(Ht>-1){var lt=Ze[0].indexOf("!")===0?5:4,si=lt+Ze[1].length+Ht;Ze[2]=Ze[2].substring(0,Ht),Ze[0]=Ze[0].substring(0,si).trim(),Ze[3]=""}}var Oi=Ze[2],Ji="";if(this.options.pedantic){var Wi=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Oi);Wi&&(Oi=Wi[1],Ji=Wi[3])}else Ji=Ze[3]?Ze[3].slice(1,-1):"";return Oi=Oi.trim(),/^</.test(Oi)&&(this.options.pedantic&&!/>$/.test(Zt)?Oi=Oi.slice(1):Oi=Oi.slice(1,-1)),pi(Ze,{href:Oi&&Oi.replace(this.rules.inline._escapes,"$1"),title:Ji&&Ji.replace(this.rules.inline._escapes,"$1")},Ze[0],this.lexer)}},Ye.reflink=function(nt,Ze){var Zt;if((Zt=this.rules.inline.reflink.exec(nt))||(Zt=this.rules.inline.nolink.exec(nt))){var hn=(Zt[2]||Zt[1]).replace(/\s+/g," ");if(hn=Ze[hn.toLowerCase()],!hn||!hn.href){var Ht=Zt[0].charAt(0);return{type:"text",raw:Ht,text:Ht}}return pi(Zt,hn,Zt[0],this.lexer)}},Ye.emStrong=function(nt,Ze,Zt){Zt===void 0&&(Zt="");var hn=this.rules.inline.emStrong.lDelim.exec(nt);if(!!hn&&!(hn[3]&&Zt.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Ht=hn[1]||hn[2]||"";if(!Ht||Ht&&(Zt===""||this.rules.inline.punctuation.exec(Zt))){var lt=hn[0].length-1,si,Oi,Ji=lt,Wi=0,Yi=hn[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Yi.lastIndex=0,Ze=Ze.slice(-1*nt.length+lt);(hn=Yi.exec(Ze))!=null;)if(si=hn[1]||hn[2]||hn[3]||hn[4]||hn[5]||hn[6],!!si){if(Oi=si.length,hn[3]||hn[4]){Ji+=Oi;continue}else if((hn[5]||hn[6])&&lt%3&&!((lt+Oi)%3)){Wi+=Oi;continue}if(Ji-=Oi,!(Ji>0)){if(Oi=Math.min(Oi,Oi+Ji+Wi),Math.min(lt,Oi)%2){var Bi=nt.slice(1,lt+hn.index+Oi);return{type:"em",raw:nt.slice(0,lt+hn.index+Oi+1),text:Bi,tokens:this.lexer.inlineTokens(Bi)}}var Gi=nt.slice(2,lt+hn.index+Oi-1);return{type:"strong",raw:nt.slice(0,lt+hn.index+Oi+1),text:Gi,tokens:this.lexer.inlineTokens(Gi)}}}}}},Ye.codespan=function(nt){var Ze=this.rules.inline.code.exec(nt);if(Ze){var Zt=Ze[2].replace(/\n/g," "),hn=/[^ ]/.test(Zt),Ht=/^ /.test(Zt)&&/ $/.test(Zt);return hn&&Ht&&(Zt=Zt.substring(1,Zt.length-1)),Zt=Pn(Zt,!0),{type:"codespan",raw:Ze[0],text:Zt}}},Ye.br=function(nt){var Ze=this.rules.inline.br.exec(nt);if(Ze)return{type:"br",raw:Ze[0]}},Ye.del=function(nt){var Ze=this.rules.inline.del.exec(nt);if(Ze)return{type:"del",raw:Ze[0],text:Ze[2],tokens:this.lexer.inlineTokens(Ze[2])}},Ye.autolink=function(nt,Ze){var Zt=this.rules.inline.autolink.exec(nt);if(Zt){var hn,Ht;return Zt[2]==="@"?(hn=Pn(this.options.mangle?Ze(Zt[1]):Zt[1]),Ht="mailto:"+hn):(hn=Pn(Zt[1]),Ht=hn),{type:"link",raw:Zt[0],text:hn,href:Ht,tokens:[{type:"text",raw:hn,text:hn}]}}},Ye.url=function(nt,Ze){var Zt;if(Zt=this.rules.inline.url.exec(nt)){var hn,Ht;if(Zt[2]==="@")hn=Pn(this.options.mangle?Ze(Zt[0]):Zt[0]),Ht="mailto:"+hn;else{var lt;do lt=Zt[0],Zt[0]=this.rules.inline._backpedal.exec(Zt[0])[0];while(lt!==Zt[0]);hn=Pn(Zt[0]),Zt[1]==="www."?Ht="http://"+hn:Ht=hn}return{type:"link",raw:Zt[0],text:hn,href:Ht,tokens:[{type:"text",raw:hn,text:hn}]}}},Ye.inlineText=function(nt,Ze){var Zt=this.rules.inline.text.exec(nt);if(Zt){var hn;return this.lexer.state.inRawBlock?hn=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Zt[0]):Pn(Zt[0]):Zt[0]:hn=Pn(this.options.smartypants?Ze(Zt[0]):Zt[0]),{type:"text",raw:Zt[0],text:hn}}},mt}(),Rn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Yt,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Rn._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Rn._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Rn.def=yi(Rn.def).replace("label",Rn._label).replace("title",Rn._title).getRegex(),Rn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Rn.listItemStart=yi(/^( *)(bull) */).replace("bull",Rn.bullet).getRegex(),Rn.list=yi(Rn.list).replace(/bull/g,Rn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Rn.def.source+")").getRegex(),Rn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Rn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Rn.html=yi(Rn.html,"i").replace("comment",Rn._comment).replace("tag",Rn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Rn.paragraph=yi(Rn._paragraph).replace("hr",Rn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Rn._tag).getRegex(),Rn.blockquote=yi(Rn.blockquote).replace("paragraph",Rn.paragraph).getRegex(),Rn.normal=Ct({},Rn),Rn.gfm=Ct({},Rn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Rn.gfm.table=yi(Rn.gfm.table).replace("hr",Rn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Rn._tag).getRegex(),Rn.gfm.paragraph=yi(Rn._paragraph).replace("hr",Rn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Rn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Rn._tag).getRegex(),Rn.pedantic=Ct({},Rn.normal,{html:yi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Rn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Yt,paragraph:yi(Rn.normal._paragraph).replace("hr",Rn.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Rn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Sn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Yt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Yt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Sn._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Sn.punctuation=yi(Sn.punctuation).replace(/punctuation/g,Sn._punctuation).getRegex(),Sn.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Sn.escapedEmSt=/\\\*|\\_/g,Sn._comment=yi(Rn._comment).replace("(?:-->|$)","-->").getRegex(),Sn.emStrong.lDelim=yi(Sn.emStrong.lDelim).replace(/punct/g,Sn._punctuation).getRegex(),Sn.emStrong.rDelimAst=yi(Sn.emStrong.rDelimAst,"g").replace(/punct/g,Sn._punctuation).getRegex(),Sn.emStrong.rDelimUnd=yi(Sn.emStrong.rDelimUnd,"g").replace(/punct/g,Sn._punctuation).getRegex(),Sn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Sn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Sn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Sn.autolink=yi(Sn.autolink).replace("scheme",Sn._scheme).replace("email",Sn._email).getRegex(),Sn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Sn.tag=yi(Sn.tag).replace("comment",Sn._comment).replace("attribute",Sn._attribute).getRegex(),Sn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Sn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Sn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Sn.link=yi(Sn.link).replace("label",Sn._label).replace("href",Sn._href).replace("title",Sn._title).getRegex(),Sn.reflink=yi(Sn.reflink).replace("label",Sn._label).replace("ref",Rn._label).getRegex(),Sn.nolink=yi(Sn.nolink).replace("ref",Rn._label).getRegex(),Sn.reflinkSearch=yi(Sn.reflinkSearch,"g").replace("reflink",Sn.reflink).replace("nolink",Sn.nolink).getRegex(),Sn.normal=Ct({},Sn),Sn.pedantic=Ct({},Sn.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:yi(/^!?\[(label)\]\((.*?)\)/).replace("label",Sn._label).getRegex(),reflink:yi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Sn._label).getRegex()}),Sn.gfm=Ct({},Sn.normal,{escape:yi(Sn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Sn.gfm.url=yi(Sn.gfm.url,"i").replace("email",Sn.gfm._extended_email).getRegex(),Sn.breaks=Ct({},Sn.gfm,{br:yi(Sn.br).replace("{2,}","*").getRegex(),text:yi(Sn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ii(mt){return mt.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Hi(mt){var Ye="",vn,nt,Ze=mt.length;for(vn=0;vn<Ze;vn++)nt=mt.charCodeAt(vn),Math.random()>.5&&(nt="x"+nt.toString(16)),Ye+="&#"+nt+";";return Ye}var wt=function(){function mt(vn){this.tokens=[],this.tokens.links=Object.create(null),this.options=vn||Je.defaults,this.options.tokenizer=this.options.tokenizer||new yt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var nt={block:Rn.normal,inline:Sn.normal};this.options.pedantic?(nt.block=Rn.pedantic,nt.inline=Sn.pedantic):this.options.gfm&&(nt.block=Rn.gfm,this.options.breaks?nt.inline=Sn.breaks:nt.inline=Sn.gfm),this.tokenizer.rules=nt}mt.lex=function(nt,Ze){var Zt=new mt(Ze);return Zt.lex(nt)},mt.lexInline=function(nt,Ze){var Zt=new mt(Ze);return Zt.inlineTokens(nt)};var Ye=mt.prototype;return Ye.lex=function(nt){nt=nt.replace(/\r\n|\r/g,`
`),this.blockTokens(nt,this.tokens);for(var Ze;Ze=this.inlineQueue.shift();)this.inlineTokens(Ze.src,Ze.tokens);return this.tokens},Ye.blockTokens=function(nt,Ze){var Zt=this;Ze===void 0&&(Ze=[]),this.options.pedantic?nt=nt.replace(/\t/g,"    ").replace(/^ +$/gm,""):nt=nt.replace(/^( *)(\t+)/gm,function(Ji,Wi,Yi){return Wi+"    ".repeat(Yi.length)});for(var hn,Ht,lt,si;nt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ji){return(hn=Ji.call({lexer:Zt},nt,Ze))?(nt=nt.substring(hn.raw.length),Ze.push(hn),!0):!1}))){if(hn=this.tokenizer.space(nt)){nt=nt.substring(hn.raw.length),hn.raw.length===1&&Ze.length>0?Ze[Ze.length-1].raw+=`
`:Ze.push(hn);continue}if(hn=this.tokenizer.code(nt)){nt=nt.substring(hn.raw.length),Ht=Ze[Ze.length-1],Ht&&(Ht.type==="paragraph"||Ht.type==="text")?(Ht.raw+=`
`+hn.raw,Ht.text+=`
`+hn.text,this.inlineQueue[this.inlineQueue.length-1].src=Ht.text):Ze.push(hn);continue}if(hn=this.tokenizer.fences(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.heading(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.hr(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.blockquote(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.list(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.html(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.def(nt)){nt=nt.substring(hn.raw.length),Ht=Ze[Ze.length-1],Ht&&(Ht.type==="paragraph"||Ht.type==="text")?(Ht.raw+=`
`+hn.raw,Ht.text+=`
`+hn.raw,this.inlineQueue[this.inlineQueue.length-1].src=Ht.text):this.tokens.links[hn.tag]||(this.tokens.links[hn.tag]={href:hn.href,title:hn.title});continue}if(hn=this.tokenizer.table(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.lheading(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(lt=nt,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ji=Infinity,Wi=nt.slice(1),Yi=void 0;Zt.options.extensions.startBlock.forEach(function(Bi){Yi=Bi.call({lexer:this},Wi),typeof Yi=="number"&&Yi>=0&&(Ji=Math.min(Ji,Yi))}),Ji<Infinity&&Ji>=0&&(lt=nt.substring(0,Ji+1))}(),this.state.top&&(hn=this.tokenizer.paragraph(lt))){Ht=Ze[Ze.length-1],si&&Ht.type==="paragraph"?(Ht.raw+=`
`+hn.raw,Ht.text+=`
`+hn.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ht.text):Ze.push(hn),si=lt.length!==nt.length,nt=nt.substring(hn.raw.length);continue}if(hn=this.tokenizer.text(nt)){nt=nt.substring(hn.raw.length),Ht=Ze[Ze.length-1],Ht&&Ht.type==="text"?(Ht.raw+=`
`+hn.raw,Ht.text+=`
`+hn.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ht.text):Ze.push(hn);continue}if(nt){var Oi="Infinite loop on byte: "+nt.charCodeAt(0);if(this.options.silent){console.error(Oi);break}else throw new Error(Oi)}}return this.state.top=!0,Ze},Ye.inline=function(nt,Ze){return Ze===void 0&&(Ze=[]),this.inlineQueue.push({src:nt,tokens:Ze}),Ze},Ye.inlineTokens=function(nt,Ze){var Zt=this;Ze===void 0&&(Ze=[]);var hn,Ht,lt,si=nt,Oi,Ji,Wi;if(this.tokens.links){var Yi=Object.keys(this.tokens.links);if(Yi.length>0)for(;(Oi=this.tokenizer.rules.inline.reflinkSearch.exec(si))!=null;)Yi.includes(Oi[0].slice(Oi[0].lastIndexOf("[")+1,-1))&&(si=si.slice(0,Oi.index)+"["+Qn("a",Oi[0].length-2)+"]"+si.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Oi=this.tokenizer.rules.inline.blockSkip.exec(si))!=null;)si=si.slice(0,Oi.index)+"["+Qn("a",Oi[0].length-2)+"]"+si.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Oi=this.tokenizer.rules.inline.escapedEmSt.exec(si))!=null;)si=si.slice(0,Oi.index)+"++"+si.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;nt;)if(Ji||(Wi=""),Ji=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Gi){return(hn=Gi.call({lexer:Zt},nt,Ze))?(nt=nt.substring(hn.raw.length),Ze.push(hn),!0):!1}))){if(hn=this.tokenizer.escape(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.tag(nt)){nt=nt.substring(hn.raw.length),Ht=Ze[Ze.length-1],Ht&&hn.type==="text"&&Ht.type==="text"?(Ht.raw+=hn.raw,Ht.text+=hn.text):Ze.push(hn);continue}if(hn=this.tokenizer.link(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.reflink(nt,this.tokens.links)){nt=nt.substring(hn.raw.length),Ht=Ze[Ze.length-1],Ht&&hn.type==="text"&&Ht.type==="text"?(Ht.raw+=hn.raw,Ht.text+=hn.text):Ze.push(hn);continue}if(hn=this.tokenizer.emStrong(nt,si,Wi)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.codespan(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.br(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.del(nt)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(hn=this.tokenizer.autolink(nt,Hi)){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(!this.state.inLink&&(hn=this.tokenizer.url(nt,Hi))){nt=nt.substring(hn.raw.length),Ze.push(hn);continue}if(lt=nt,this.options.extensions&&this.options.extensions.startInline&&function(){var Gi=Infinity,Gr=nt.slice(1),kr=void 0;Zt.options.extensions.startInline.forEach(function(sa){kr=sa.call({lexer:this},Gr),typeof kr=="number"&&kr>=0&&(Gi=Math.min(Gi,kr))}),Gi<Infinity&&Gi>=0&&(lt=nt.substring(0,Gi+1))}(),hn=this.tokenizer.inlineText(lt,Ii)){nt=nt.substring(hn.raw.length),hn.raw.slice(-1)!=="_"&&(Wi=hn.raw.slice(-1)),Ji=!0,Ht=Ze[Ze.length-1],Ht&&Ht.type==="text"?(Ht.raw+=hn.raw,Ht.text+=hn.text):Ze.push(hn);continue}if(nt){var Bi="Infinite loop on byte: "+nt.charCodeAt(0);if(this.options.silent){console.error(Bi);break}else throw new Error(Bi)}}return Ze},qt(mt,null,[{key:"rules",get:function(){return{block:Rn,inline:Sn}}}]),mt}(),Pi=function(){function mt(vn){this.options=vn||Je.defaults}var Ye=mt.prototype;return Ye.code=function(nt,Ze,Zt){var hn=(Ze||"").match(/\S*/)[0];if(this.options.highlight){var Ht=this.options.highlight(nt,hn);Ht!=null&&Ht!==nt&&(Zt=!0,nt=Ht)}return nt=nt.replace(/\n$/,"")+`
`,hn?'<pre><code class="'+this.options.langPrefix+Pn(hn,!0)+'">'+(Zt?nt:Pn(nt,!0))+`</code></pre>
`:"<pre><code>"+(Zt?nt:Pn(nt,!0))+`</code></pre>
`},Ye.blockquote=function(nt){return`<blockquote>
`+nt+`</blockquote>
`},Ye.html=function(nt){return nt},Ye.heading=function(nt,Ze,Zt,hn){if(this.options.headerIds){var Ht=this.options.headerPrefix+hn.slug(Zt);return"<h"+Ze+' id="'+Ht+'">'+nt+"</h"+Ze+`>
`}return"<h"+Ze+">"+nt+"</h"+Ze+`>
`},Ye.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Ye.list=function(nt,Ze,Zt){var hn=Ze?"ol":"ul",Ht=Ze&&Zt!==1?' start="'+Zt+'"':"";return"<"+hn+Ht+`>
`+nt+"</"+hn+`>
`},Ye.listitem=function(nt){return"<li>"+nt+`</li>
`},Ye.checkbox=function(nt){return"<input "+(nt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ye.paragraph=function(nt){return"<p>"+nt+`</p>
`},Ye.table=function(nt,Ze){return Ze&&(Ze="<tbody>"+Ze+"</tbody>"),`<table>
<thead>
`+nt+`</thead>
`+Ze+`</table>
`},Ye.tablerow=function(nt){return`<tr>
`+nt+`</tr>
`},Ye.tablecell=function(nt,Ze){var Zt=Ze.header?"th":"td",hn=Ze.align?"<"+Zt+' align="'+Ze.align+'">':"<"+Zt+">";return hn+nt+("</"+Zt+`>
`)},Ye.strong=function(nt){return"<strong>"+nt+"</strong>"},Ye.em=function(nt){return"<em>"+nt+"</em>"},Ye.codespan=function(nt){return"<code>"+nt+"</code>"},Ye.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ye.del=function(nt){return"<del>"+nt+"</del>"},Ye.link=function(nt,Ze,Zt){if(nt=zn(this.options.sanitize,this.options.baseUrl,nt),nt===null)return Zt;var hn='<a href="'+Pn(nt)+'"';return Ze&&(hn+=' title="'+Ze+'"'),hn+=">"+Zt+"</a>",hn},Ye.image=function(nt,Ze,Zt){if(nt=zn(this.options.sanitize,this.options.baseUrl,nt),nt===null)return Zt;var hn='<img src="'+nt+'" alt="'+Zt+'"';return Ze&&(hn+=' title="'+Ze+'"'),hn+=this.options.xhtml?"/>":">",hn},Ye.text=function(nt){return nt},mt}(),Ut=function(){function mt(){}var Ye=mt.prototype;return Ye.strong=function(nt){return nt},Ye.em=function(nt){return nt},Ye.codespan=function(nt){return nt},Ye.del=function(nt){return nt},Ye.html=function(nt){return nt},Ye.text=function(nt){return nt},Ye.link=function(nt,Ze,Zt){return""+Zt},Ye.image=function(nt,Ze,Zt){return""+Zt},Ye.br=function(){return""},mt}(),We=function(){function mt(){this.seen={}}var Ye=mt.prototype;return Ye.serialize=function(nt){return nt.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ye.getNextSafeSlug=function(nt,Ze){var Zt=nt,hn=0;if(this.seen.hasOwnProperty(Zt)){hn=this.seen[nt];do hn++,Zt=nt+"-"+hn;while(this.seen.hasOwnProperty(Zt))}return Ze||(this.seen[nt]=hn,this.seen[Zt]=0),Zt},Ye.slug=function(nt,Ze){Ze===void 0&&(Ze={});var Zt=this.serialize(nt);return this.getNextSafeSlug(Zt,Ze.dryrun)},mt}(),Tn=function(){function mt(vn){this.options=vn||Je.defaults,this.options.renderer=this.options.renderer||new Pi,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ut,this.slugger=new We}mt.parse=function(nt,Ze){var Zt=new mt(Ze);return Zt.parse(nt)},mt.parseInline=function(nt,Ze){var Zt=new mt(Ze);return Zt.parseInline(nt)};var Ye=mt.prototype;return Ye.parse=function(nt,Ze){Ze===void 0&&(Ze=!0);var Zt="",hn,Ht,lt,si,Oi,Ji,Wi,Yi,Bi,Gi,Gr,kr,sa,Fr,ua,pn,Ln,ct,Mt,At=nt.length;for(hn=0;hn<At;hn++){if(Gi=nt[hn],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Gi.type]&&(Mt=this.options.extensions.renderers[Gi.type].call({parser:this},Gi),Mt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Gi.type))){Zt+=Mt||"";continue}switch(Gi.type){case"space":continue;case"hr":{Zt+=this.renderer.hr();continue}case"heading":{Zt+=this.renderer.heading(this.parseInline(Gi.tokens),Gi.depth,gi(this.parseInline(Gi.tokens,this.textRenderer)),this.slugger);continue}case"code":{Zt+=this.renderer.code(Gi.text,Gi.lang,Gi.escaped);continue}case"table":{for(Yi="",Wi="",si=Gi.header.length,Ht=0;Ht<si;Ht++)Wi+=this.renderer.tablecell(this.parseInline(Gi.header[Ht].tokens),{header:!0,align:Gi.align[Ht]});for(Yi+=this.renderer.tablerow(Wi),Bi="",si=Gi.rows.length,Ht=0;Ht<si;Ht++){for(Ji=Gi.rows[Ht],Wi="",Oi=Ji.length,lt=0;lt<Oi;lt++)Wi+=this.renderer.tablecell(this.parseInline(Ji[lt].tokens),{header:!1,align:Gi.align[lt]});Bi+=this.renderer.tablerow(Wi)}Zt+=this.renderer.table(Yi,Bi);continue}case"blockquote":{Bi=this.parse(Gi.tokens),Zt+=this.renderer.blockquote(Bi);continue}case"list":{for(Gr=Gi.ordered,kr=Gi.start,sa=Gi.loose,si=Gi.items.length,Bi="",Ht=0;Ht<si;Ht++)ua=Gi.items[Ht],pn=ua.checked,Ln=ua.task,Fr="",ua.task&&(ct=this.renderer.checkbox(pn),sa?ua.tokens.length>0&&ua.tokens[0].type==="paragraph"?(ua.tokens[0].text=ct+" "+ua.tokens[0].text,ua.tokens[0].tokens&&ua.tokens[0].tokens.length>0&&ua.tokens[0].tokens[0].type==="text"&&(ua.tokens[0].tokens[0].text=ct+" "+ua.tokens[0].tokens[0].text)):ua.tokens.unshift({type:"text",text:ct}):Fr+=ct),Fr+=this.parse(ua.tokens,sa),Bi+=this.renderer.listitem(Fr,Ln,pn);Zt+=this.renderer.list(Bi,Gr,kr);continue}case"html":{Zt+=this.renderer.html(Gi.text);continue}case"paragraph":{Zt+=this.renderer.paragraph(this.parseInline(Gi.tokens));continue}case"text":{for(Bi=Gi.tokens?this.parseInline(Gi.tokens):Gi.text;hn+1<At&&nt[hn+1].type==="text";)Gi=nt[++hn],Bi+=`
`+(Gi.tokens?this.parseInline(Gi.tokens):Gi.text);Zt+=Ze?this.renderer.paragraph(Bi):Bi;continue}default:{var zt='Token with "'+Gi.type+'" type was not found.';if(this.options.silent){console.error(zt);return}else throw new Error(zt)}}}return Zt},Ye.parseInline=function(nt,Ze){Ze=Ze||this.renderer;var Zt="",hn,Ht,lt,si=nt.length;for(hn=0;hn<si;hn++){if(Ht=nt[hn],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ht.type]&&(lt=this.options.extensions.renderers[Ht.type].call({parser:this},Ht),lt!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Ht.type))){Zt+=lt||"";continue}switch(Ht.type){case"escape":{Zt+=Ze.text(Ht.text);break}case"html":{Zt+=Ze.html(Ht.text);break}case"link":{Zt+=Ze.link(Ht.href,Ht.title,this.parseInline(Ht.tokens,Ze));break}case"image":{Zt+=Ze.image(Ht.href,Ht.title,Ht.text);break}case"strong":{Zt+=Ze.strong(this.parseInline(Ht.tokens,Ze));break}case"em":{Zt+=Ze.em(this.parseInline(Ht.tokens,Ze));break}case"codespan":{Zt+=Ze.codespan(Ht.text);break}case"br":{Zt+=Ze.br();break}case"del":{Zt+=Ze.del(this.parseInline(Ht.tokens,Ze));break}case"text":{Zt+=Ze.text(Ht.text);break}default:{var Oi='Token with "'+Ht.type+'" type was not found.';if(this.options.silent){console.error(Oi);return}else throw new Error(Oi)}}}return Zt},mt}();function ar(mt,Ye,vn){if(typeof mt=="undefined"||mt===null)throw new Error("marked(): input parameter is undefined or null");if(typeof mt!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(mt)+", string expected");if(typeof Ye=="function"&&(vn=Ye,Ye=null),Ye=Ct({},ar.defaults,Ye||{}),yn(Ye),vn){var nt=Ye.highlight,Ze;try{Ze=wt.lex(mt,Ye)}catch(si){return vn(si)}var Zt=function(Oi){var Ji;if(!Oi)try{Ye.walkTokens&&ar.walkTokens(Ze,Ye.walkTokens),Ji=Tn.parse(Ze,Ye)}catch(Wi){Oi=Wi}return Ye.highlight=nt,Oi?vn(Oi):vn(null,Ji)};if(!nt||nt.length<3||(delete Ye.highlight,!Ze.length))return Zt();var hn=0;ar.walkTokens(Ze,function(si){si.type==="code"&&(hn++,setTimeout(function(){nt(si.text,si.lang,function(Oi,Ji){if(Oi)return Zt(Oi);Ji!=null&&Ji!==si.text&&(si.text=Ji,si.escaped=!0),hn--,hn===0&&Zt()})},0))}),hn===0&&Zt();return}function Ht(si){if(si.message+=`
Please report this to https://github.com/markedjs/marked.`,Ye.silent)return"<p>An error occurred:</p><pre>"+Pn(si.message+"",!0)+"</pre>";throw si}try{var lt=wt.lex(mt,Ye);if(Ye.walkTokens){if(Ye.async)return Promise.all(ar.walkTokens(lt,Ye.walkTokens)).then(function(){return Tn.parse(lt,Ye)}).catch(Ht);ar.walkTokens(lt,Ye.walkTokens)}return Tn.parse(lt,Ye)}catch(si){Ht(si)}}ar.options=ar.setOptions=function(mt){return Ct(ar.defaults,mt),In(ar.defaults),ar},ar.getDefaults=an,ar.defaults=Je.defaults,ar.use=function(){for(var mt=arguments.length,Ye=new Array(mt),vn=0;vn<mt;vn++)Ye[vn]=arguments[vn];var nt=Ct.apply(void 0,[{}].concat(Ye)),Ze=ar.defaults.extensions||{renderers:{},childTokens:{}},Zt;Ye.forEach(function(hn){if(hn.extensions&&(Zt=!0,hn.extensions.forEach(function(lt){if(!lt.name)throw new Error("extension name required");if(lt.renderer){var si=Ze.renderers?Ze.renderers[lt.name]:null;si?Ze.renderers[lt.name]=function(){for(var Oi=arguments.length,Ji=new Array(Oi),Wi=0;Wi<Oi;Wi++)Ji[Wi]=arguments[Wi];var Yi=lt.renderer.apply(this,Ji);return Yi===!1&&(Yi=si.apply(this,Ji)),Yi}:Ze.renderers[lt.name]=lt.renderer}if(lt.tokenizer){if(!lt.level||lt.level!=="block"&&lt.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Ze[lt.level]?Ze[lt.level].unshift(lt.tokenizer):Ze[lt.level]=[lt.tokenizer],lt.start&&(lt.level==="block"?Ze.startBlock?Ze.startBlock.push(lt.start):Ze.startBlock=[lt.start]:lt.level==="inline"&&(Ze.startInline?Ze.startInline.push(lt.start):Ze.startInline=[lt.start]))}lt.childTokens&&(Ze.childTokens[lt.name]=lt.childTokens)})),hn.renderer&&function(){var lt=ar.defaults.renderer||new Pi,si=function(Wi){var Yi=lt[Wi];lt[Wi]=function(){for(var Bi=arguments.length,Gi=new Array(Bi),Gr=0;Gr<Bi;Gr++)Gi[Gr]=arguments[Gr];var kr=hn.renderer[Wi].apply(lt,Gi);return kr===!1&&(kr=Yi.apply(lt,Gi)),kr}};for(var Oi in hn.renderer)si(Oi);nt.renderer=lt}(),hn.tokenizer&&function(){var lt=ar.defaults.tokenizer||new yt,si=function(Wi){var Yi=lt[Wi];lt[Wi]=function(){for(var Bi=arguments.length,Gi=new Array(Bi),Gr=0;Gr<Bi;Gr++)Gi[Gr]=arguments[Gr];var kr=hn.tokenizer[Wi].apply(lt,Gi);return kr===!1&&(kr=Yi.apply(lt,Gi)),kr}};for(var Oi in hn.tokenizer)si(Oi);nt.tokenizer=lt}(),hn.walkTokens){var Ht=ar.defaults.walkTokens;nt.walkTokens=function(lt){var si=[];return si.push(hn.walkTokens.call(this,lt)),Ht&&(si=si.concat(Ht.call(this,lt))),si}}Zt&&(nt.extensions=Ze),ar.setOptions(nt)})},ar.walkTokens=function(mt,Ye){for(var vn=[],nt=function(){var Ht=Zt.value;switch(vn=vn.concat(Ye.call(ar,Ht)),Ht.type){case"table":{for(var lt=rn(Ht.header),si;!(si=lt()).done;){var Oi=si.value;vn=vn.concat(ar.walkTokens(Oi.tokens,Ye))}for(var Ji=rn(Ht.rows),Wi;!(Wi=Ji()).done;)for(var Yi=Wi.value,Bi=rn(Yi),Gi;!(Gi=Bi()).done;){var Gr=Gi.value;vn=vn.concat(ar.walkTokens(Gr.tokens,Ye))}break}case"list":{vn=vn.concat(ar.walkTokens(Ht.items,Ye));break}default:ar.defaults.extensions&&ar.defaults.extensions.childTokens&&ar.defaults.extensions.childTokens[Ht.type]?ar.defaults.extensions.childTokens[Ht.type].forEach(function(kr){vn=vn.concat(ar.walkTokens(Ht[kr],Ye))}):Ht.tokens&&(vn=vn.concat(ar.walkTokens(Ht.tokens,Ye)))}},Ze=rn(mt),Zt;!(Zt=Ze()).done;)nt();return vn},ar.parseInline=function(mt,Ye){if(typeof mt=="undefined"||mt===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof mt!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(mt)+", string expected");Ye=Ct({},ar.defaults,Ye||{}),yn(Ye);try{var vn=wt.lexInline(mt,Ye);return Ye.walkTokens&&ar.walkTokens(vn,Ye.walkTokens),Tn.parseInline(vn,Ye)}catch(nt){if(nt.message+=`
Please report this to https://github.com/markedjs/marked.`,Ye.silent)return"<p>An error occurred:</p><pre>"+Pn(nt.message+"",!0)+"</pre>";throw nt}},ar.Parser=Tn,ar.parser=Tn.parse,ar.Renderer=Pi,ar.TextRenderer=Ut,ar.Lexer=wt,ar.lexer=wt.lex,ar.Tokenizer=yt,ar.Slugger=We,ar.parse=ar;var Br=ar.options,Yr=ar.setOptions,ti=ar.use,bi=ar.walkTokens,Kn=ar.parseInline,En=ar,Nt=Tn.parse,Gt=wt.lex;Je.Lexer=wt,Je.Parser=Tn,Je.Renderer=Pi,Je.Slugger=We,Je.TextRenderer=Ut,Je.Tokenizer=yt,Je.getDefaults=an,Je.lexer=Gt,Je.marked=ar,Je.options=Br,Je.parse=En,Je.parseInline=Kn,Je.parser=Nt,Je.setOptions=Yr,Je.use=ti,Je.walkTokens=bi,Object.defineProperty(Je,"__esModule",{value:!0})})})();var H=N.Lexer||exports.Lexer,d=N.Parser||exports.Parser,D=N.Renderer||exports.Renderer,C=N.Slugger||exports.Slugger,x=N.TextRenderer||exports.TextRenderer,O=N.Tokenizer||exports.Tokenizer,T=N.getDefaults||exports.getDefaults,z=N.lexer||exports.lexer,I=N.marked||exports.marked,de=N.options||exports.options,pe=N.parse||exports.parse,fe=N.parseInline||exports.parseInline,ke=N.parser||exports.parser,A=N.setOptions||exports.setOptions,P=N.use||exports.use,G=N.walkTokens||exports.walkTokens,re=a("Q4rV"),ae=a("tYmi"),Q=a("qj0h"),J=a("gslv"),me=a("N0LK"),ge=a("bY76"),L=Object.freeze({image:function(Je,ft,qt){var bt=[],Bt=[];if(Je){var rn=Object(ne.f)(Je);Je=rn.href,bt=rn.dimensions,Bt.push('src="'.concat(Object(ne.b)(Je),'"'))}return qt&&Bt.push('alt="'.concat(Object(ne.b)(qt),'"')),ft&&Bt.push('title="'.concat(Object(ne.b)(ft),'"')),bt.length&&(Bt=Bt.concat(bt)),"<img "+Bt.join(" ")+">"},paragraph:function(Je){return"<p>".concat(Je,"</p>")},link:function(Je,ft,qt){return typeof Je!="string"?"":(Je===qt&&(qt=Object(ne.g)(qt)),ft=typeof ft=="string"?Object(ne.b)(Object(ne.g)(ft)):"",Je=Object(ne.g)(Je),Je=Je.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),'<a href="'.concat(Je,'" title="').concat(ft||Je,'">').concat(qt,"</a>"))}});function De(Ge){var Je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},qt,bt,Bt=new W.c,rn=!1,an=Object(te.a)(Je),In=function(Qn){var pi;try{pi=Object(re.a)(decodeURIComponent(Qn))}catch(Pt){}return pi?(pi=Object(Q.a)(pi,function(Pt){if(Ge.uris&&Ge.uris[Pt])return ge.a.revive(Ge.uris[Pt])}),encodeURIComponent(JSON.stringify(pi))):Qn},Dt=function(Qn,pi){var Pt=Ge.uris&&Ge.uris[Qn],yt=ge.a.revive(Pt);return pi?Qn.startsWith(ae.c.data+":")?Qn:(yt||(yt=ge.a.parse(Qn)),ae.a.uriToBrowserUri(yt).toString(!0)):!yt||ge.a.parse(Qn).toString()===yt.toString()?Qn:(yt.query&&(yt=yt.with({query:In(yt.query)})),yt.toString())},jn=new I.Renderer;jn.image=L.image,jn.link=L.link,jn.paragraph=L.paragraph;var _n=[],Nn=[];if(Je.codeBlockRendererSync?jn.code=function(yn,Qn){var pi=B.b.nextId(),Pt=Je.codeBlockRendererSync(Ae(Qn),yn);return Nn.push([pi,Pt]),'<div class="code" data-code="'.concat(pi,'">').concat(Object(me.s)(yn),"</div>")}:Je.codeBlockRenderer&&(jn.code=function(yn,Qn){var pi=B.b.nextId(),Pt=Je.codeBlockRenderer(Ae(Qn),yn);return _n.push(Pt.then(function(yt){return[pi,yt]})),'<div class="code" data-code="'.concat(pi,'">').concat(Object(me.s)(yn),"</div>")}),Je.actionHandler){var ei=function(Qn){var pi=Qn.target;if(!(pi.tagName!=="A"&&(pi=pi.parentElement,!pi||pi.tagName!=="A")))try{var Pt=pi.dataset.href;Pt&&(Ge.baseUri&&(Pt=Oe(ge.a.from(Ge.baseUri),Pt)),Je.actionHandler.callback(Pt,Qn))}catch(yt){Object(E.h)(yt)}finally{Qn.preventDefault()}},kn=Je.actionHandler.disposables.add(new se.a(an,"click")),Pn=Je.actionHandler.disposables.add(new se.a(an,"auxclick"));Je.actionHandler.disposables.add(Z.c.any(kn.event,Pn.event)(function(yn){var Qn=new _.a(yn);!Qn.leftButton&&!Qn.middleButton||ei(Qn)})),Je.actionHandler.disposables.add(w.addDisposableListener(an,"keydown",function(yn){var Qn=new $.a(yn);!Qn.equals(10)&&!Qn.equals(3)||ei(Qn)}))}Ge.supportHtml||(ft.sanitizer=function(yn){var Qn=Ge.isTrusted?yn.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0;return Qn?yn:""},ft.sanitize=!0,ft.silent=!0),ft.renderer=jn;var qi=(qt=Ge.value)!==null&&qt!==void 0?qt:"";qi.length>1e5&&(qi="".concat(qi.substr(0,1e5),"\u2026")),Ge.supportThemeIcons&&(qi=Object(V.c)(qi));var gi;if(Je.fillInIncompleteTokens){var ir=Object.assign(Object.assign({},I.defaults),ft),yi=I.lexer(qi,ir),mi=et(yi);gi=I.parser(mi,ir)}else gi=I.parse(qi,ft);if(Ge.supportThemeIcons){var gr=Object(Y.a)(gi);gi=gr.map(function(yn){return typeof yn=="string"?yn:yn.outerHTML}).join("")}var zn=new DOMParser,Ki=zn.parseFromString(Pe(Ge,gi),"text/html");if(Ki.body.querySelectorAll("img").forEach(function(yn){var Qn=yn.getAttribute("src");if(Qn){var pi=Qn;try{Ge.baseUri&&(pi=Oe(ge.a.from(Ge.baseUri),pi))}catch(Pt){}yn.src=Dt(pi,!0)}}),Ki.body.querySelectorAll("a").forEach(function(yn){var Qn=yn.getAttribute("href");if(yn.setAttribute("href",""),!Qn||/^data:|javascript:/i.test(Qn)||/^command:/i.test(Qn)&&!Ge.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Qn))yn.replaceWith.apply(yn,Object(we.a)(yn.childNodes));else{var pi=Dt(Qn,!1);Ge.baseUri&&(pi=Oe(ge.a.from(Ge.baseUri),Qn)),yn.dataset.href=pi}}),an.innerHTML=Pe(Ge,Ki.body.innerHTML),_n.length>0)Promise.all(_n).then(function(yn){var Qn,pi;if(!rn){var Pt=new Map(yn),yt=an.querySelectorAll("div[data-code]"),Rn=Object(ce.a)(yt),Sn;try{for(Rn.s();!(Sn=Rn.n()).done;){var Ii=Sn.value,Hi=Pt.get((Qn=Ii.dataset.code)!==null&&Qn!==void 0?Qn:"");Hi&&w.reset(Ii,Hi)}}catch(wt){Rn.e(wt)}finally{Rn.f()}(pi=Je.asyncRenderCallback)===null||pi===void 0||pi.call(Je)}});else if(Nn.length>0){var Bn=new Map(Nn),ai=an.querySelectorAll("div[data-code]"),dn=Object(ce.a)(ai),Jn;try{for(dn.s();!(Jn=dn.n()).done;){var Yt=Jn.value,Ct=Bn.get((bt=Yt.dataset.code)!==null&&bt!==void 0?bt:"");Ct&&w.reset(Yt,Ct)}}catch(yn){dn.e(yn)}finally{dn.f()}}if(Je.asyncRenderCallback){var Dn=Object(ce.a)(an.getElementsByTagName("img")),gn;try{var en=function(){var Qn=gn.value,pi=Bt.add(w.addDisposableListener(Qn,"load",function(){pi.dispose(),Je.asyncRenderCallback()}))};for(Dn.s();!(gn=Dn.n()).done;)en()}catch(yn){Dn.e(yn)}finally{Dn.f()}}return{element:an,dispose:function(){rn=!0,Bt.dispose()}}}function Ae(Ge){if(!Ge)return"";var Je=Ge.split(/[\s+|:|,|\{|\?]/,1);return Je.length?Je[0]:Ge}function Oe(Ge,Je){var ft=/^\w[\w\d+.-]*:/.test(Je);return ft?Je:Ge.path.endsWith("/")?Object(J.l)(Ge,Je).toString():Object(J.l)(Object(J.d)(Ge),Je).toString()}function Pe(Ge,Je){var ft=Fe(Ge),qt=ft.config,bt=ft.allowedSchemes;ve.a("uponSanitizeAttribute",function(rn,an){if(an.attrName==="style"||an.attrName==="class"){if(rn.tagName==="SPAN"){if(an.attrName==="style"){an.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(an.attrValue);return}else if(an.attrName==="class"){an.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(an.attrValue);return}}an.keepAttr=!1;return}});var Bt=w.hookDomPurifyHrefAndSrcSanitizer(bt);try{return ve.c(Je,Object.assign(Object.assign({},qt),{RETURN_TRUSTED_TYPE:!0}))}finally{ve.b("uponSanitizeAttribute"),Bt.dispose()}}var Ne=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function Fe(Ge){var Je=[ae.c.http,ae.c.https,ae.c.mailto,ae.c.data,ae.c.file,ae.c.vscodeFileResource,ae.c.vscodeRemote,ae.c.vscodeRemoteResource];return Ge.isTrusted&&Je.push(ae.c.command),{config:{ALLOWED_TAGS:Object(we.a)(w.basicMarkupHtmlTags),ALLOWED_ATTR:Ne,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:Je}}function Xe(Ge){return typeof Ge=="string"?Ge:Et(Ge)}function Et(Ge){var Je,ft=(Je=Ge.value)!==null&&Je!==void 0?Je:"";ft.length>1e5&&(ft="".concat(ft.substr(0,1e5),"\u2026"));var qt=I.parse(ft,{renderer:Ot.value}).replace(/&(#\d+|[a-zA-Z]+);/g,function(bt){var Bt;return(Bt=Ft.get(bt))!==null&&Bt!==void 0?Bt:bt});return Pe({isTrusted:!1},qt).toString()}var Ft=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),Ot=new F.a(function(){var Ge=new I.Renderer;return Ge.code=function(Je){return Je},Ge.blockquote=function(Je){return Je},Ge.html=function(Je){return""},Ge.heading=function(Je,ft,qt){return Je+`
`},Ge.hr=function(){return""},Ge.list=function(Je,ft){return Je},Ge.listitem=function(Je){return Je+`
`},Ge.paragraph=function(Je){return Je+`
`},Ge.table=function(Je,ft){return Je+ft+`
`},Ge.tablerow=function(Je){return Je},Ge.tablecell=function(Je,ft){return Je+" "},Ge.strong=function(Je){return Je},Ge.em=function(Je){return Je},Ge.codespan=function(Je){return Je},Ge.br=function(){return`
`},Ge.del=function(Je){return Je},Ge.image=function(Je,ft,qt){return""},Ge.text=function(Je){return Je},Ge.link=function(Je,ft,qt){return qt},Ge});function pt(Ge){var Je="";return Ge.forEach(function(ft){Je+=ft.raw}),Je}function Lt(Ge){var Je=Object(ce.a)(Ge.tokens),ft;try{for(Je.s();!(ft=Je.n()).done;){var qt=ft.value;if(qt.type==="text"){var bt=qt.raw.split(`
`),Bt=bt[bt.length-1];if(Bt.includes("`"))return Re(Ge);if(Bt.includes("**"))return $e(Ge);if(Bt.match(/\*\w/))return Ce(Ge);if(Bt.match(/(^|\s)__\w/))return ze(Ge);if(Bt.match(/(^|\s)_\w/))return ye(Ge);if(Bt.match(/(^|\s)\[.*\]\(\w*/))return Te(Ge);if(Bt.match(/(^|\s)\[\w/))return Qe(Ge)}}}catch(rn){Je.e(rn)}finally{Je.f()}}function et(Ge){var Je,ft;for(Je=0;Je<Ge.length;Je++){var qt=Ge[Je];if(qt.type==="paragraph"&&qt.raw.match(/(\n|^)```/)){ft=Vt(Ge.slice(Je));break}if(qt.type==="paragraph"&&qt.raw.match(/(\n|^)\|/)){ft=He(Ge.slice(Je));break}if(Je===Ge.length-1&&qt.type==="paragraph"){var bt=Lt(qt);if(bt){ft=[bt];break}}}if(ft){var Bt=[].concat(Object(we.a)(Ge.slice(0,Je)),Object(we.a)(ft));return Bt.links=Ge.links,Bt}return Ge}function Vt(Ge){var Je=pt(Ge);return I.lexer(Je+"\n```")}function Re(Ge){return ot(Ge,"`")}function Ce(Ge){return ot(Ge,"*")}function ye(Ge){return ot(Ge,"_")}function Te(Ge){return ot(Ge,")")}function Qe(Ge){return ot(Ge,"](about:blank)")}function $e(Ge){return ot(Ge,"**")}function ze(Ge){return ot(Ge,"__")}function ot(Ge,Je){var ft=pt(Array.isArray(Ge)?Ge:[Ge]);return I.lexer(ft+Je)[0]}function He(Ge){for(var Je=pt(Ge),ft=Je.split(`
`),qt,bt=!1,Bt=0;Bt<ft.length;Bt++){var rn=ft[Bt].trim();if(typeof qt=="undefined"&&rn.match(/^\s*\|/)){var an=rn.match(/(\|[^\|]+)(?=\||$)/g);an&&(qt=an.length)}else if(typeof qt=="number")if(rn.match(/^\s*\|/)){if(Bt!==ft.length-1)return;bt=!0}else return}if(typeof qt=="number"&&qt>0){var In=bt?ft.slice(0,-1).join(`
`):Je,Dt=!!In.match(/\|\s*$/),jn=In+(Dt?"":"|")+`
|`.concat(" --- |".repeat(qt));return I.lexer(jn)}}},wFNa:function(mn,U,a){},wFql:function(mn,U,a){"use strict";var ce=a("wx14"),we=a("U8pU"),w=a("q1tI"),ve=a("rePB"),se=a("ODXe"),te=a("bRQS"),$=a("lfch"),_=a("G3dp"),Y=a("TSYQ"),E=a.n(Y),Z=a("+QRC"),ne=a.n(Z),V=a("t23M"),B=a("Zm9Q"),F=a("TNol"),W=a("6cGi"),N=a("bT9E"),H=a("c+Xe"),d=a("H84U"),D=a("YMnH"),C=a("gDlH"),x=a("tl68"),O=a("3S7+"),T=a("VTBJ"),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},I=z,de=a("6VBw"),pe=function(Nn,ei){return w.createElement(de.a,Object(T.a)(Object(T.a)({},Nn),{},{ref:ei,icon:I}))};pe.displayName="EnterOutlined";var fe=w.forwardRef(pe),ke=a("4IlW"),A=a("whJP"),P=a("0n0R"),G=function(Nn){var ei=Nn.prefixCls,kn=Nn["aria-label"],Pn=Nn.className,qi=Nn.style,gi=Nn.direction,ir=Nn.maxLength,yi=Nn.autoSize,mi=yi===void 0?!0:yi,gr=Nn.value,zn=Nn.onSave,Ki=Nn.onCancel,Bn=Nn.onEnd,ai=Nn.component,dn=Nn.enterIcon,Jn=dn===void 0?w.createElement(fe,null):dn,Yt=w.useRef(null),Ct=w.useRef(!1),Dn=w.useRef(),gn=w.useState(gr),en=Object(se.a)(gn,2),yn=en[0],Qn=en[1];w.useEffect(function(){Qn(gr)},[gr]),w.useEffect(function(){if(Yt.current&&Yt.current.resizableTextArea){var Ut=Yt.current.resizableTextArea.textArea;Ut.focus();var We=Ut.value.length;Ut.setSelectionRange(We,We)}},[]);var pi=function(We){var Tn=We.target;Qn(Tn.value.replace(/[\n\r]/g,""))},Pt=function(){Ct.current=!0},yt=function(){Ct.current=!1},Rn=function(We){var Tn=We.keyCode;Ct.current||(Dn.current=Tn)},Sn=function(){zn(yn.trim())},Ii=function(We){var Tn=We.keyCode,ar=We.ctrlKey,Br=We.altKey,Yr=We.metaKey,ti=We.shiftKey;Dn.current===Tn&&!Ct.current&&!ar&&!Br&&!Yr&&!ti&&(Tn===ke.a.ENTER?(Sn(),Bn==null||Bn()):Tn===ke.a.ESC&&Ki())},Hi=function(){Sn()},wt=ai?"".concat(ei,"-").concat(ai):"",Pi=E()(ei,"".concat(ei,"-edit-content"),Object(ve.a)({},"".concat(ei,"-rtl"),gi==="rtl"),Pn,wt);return w.createElement("div",{className:Pi,style:qi},w.createElement(A.a,{ref:Yt,maxLength:ir,value:yn,onChange:pi,onKeyDown:Rn,onKeyUp:Ii,onCompositionStart:Pt,onCompositionEnd:yt,onBlur:Hi,"aria-label":kn,rows:1,autoSize:mi}),Jn!==null?Object(P.a)(Jn,{className:"".concat(ei,"-edit-content-confirm")}):null)},re=G;function ae(_n,Nn){return w.useMemo(function(){var ei=!!_n;return[ei,Object(ce.a)(Object(ce.a)({},Nn),ei&&Object(we.a)(_n)==="object"?_n:null)]},[_n])}var Q=function(Nn,ei){var kn=w.useRef(!1);w.useEffect(function(){kn.current?Nn():kn.current=!0},ei)},J=Q,me=function(_n,Nn){var ei={};for(var kn in _n)Object.prototype.hasOwnProperty.call(_n,kn)&&Nn.indexOf(kn)<0&&(ei[kn]=_n[kn]);if(_n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pn=0,kn=Object.getOwnPropertySymbols(_n);Pn<kn.length;Pn++)Nn.indexOf(kn[Pn])<0&&Object.prototype.propertyIsEnumerable.call(_n,kn[Pn])&&(ei[kn[Pn]]=_n[kn[Pn]]);return ei},ge=w.forwardRef(function(_n,Nn){var ei=_n.prefixCls,kn=_n.component,Pn=kn===void 0?"article":kn,qi=_n.className,gi=_n.setContentRef,ir=_n.children,yi=_n.direction,mi=me(_n,["prefixCls","component","className","setContentRef","children","direction"]),gr=w.useContext(d.b),zn=gr.getPrefixCls,Ki=gr.direction,Bn=yi!=null?yi:Ki,ai=Nn;gi&&(ai=Object(H.a)(Nn,gi));var dn=zn("typography",ei),Jn=E()(dn,Object(ve.a)({},"".concat(dn,"-rtl"),Bn==="rtl"),qi);return w.createElement(Pn,Object(ce.a)({className:Jn,ref:ai},mi),ir)}),L=ge;function De(_n){var Nn=Object(we.a)(_n);return Nn==="string"||Nn==="number"}function Ae(_n){var Nn=0;return _n.forEach(function(ei){De(ei)?Nn+=String(ei).length:Nn+=1}),Nn}function Oe(_n,Nn){for(var ei=0,kn=[],Pn=0;Pn<_n.length;Pn+=1){if(ei===Nn)return kn;var qi=_n[Pn],gi=De(qi),ir=gi?String(qi).length:1,yi=ei+ir;if(yi>Nn){var mi=Nn-ei;return kn.push(String(qi).slice(0,mi)),kn}kn.push(qi),ei=yi}return _n}var Pe=0,Ne=1,Fe=2,Xe=3,Et=4,Ft=function(Nn){var ei=Nn.enabledMeasure,kn=Nn.children,Pn=Nn.text,qi=Nn.width,gi=Nn.fontSize,ir=Nn.rows,yi=Nn.onEllipsis,mi=w.useState([0,0,0]),gr=Object(se.a)(mi,2),zn=Object(se.a)(gr[0],3),Ki=zn[0],Bn=zn[1],ai=zn[2],dn=gr[1],Jn=w.useState(Pe),Yt=Object(se.a)(Jn,2),Ct=Yt[0],Dn=Yt[1],gn=w.useState(0),en=Object(se.a)(gn,2),yn=en[0],Qn=en[1],pi=w.useRef(null),Pt=w.useRef(null),yt=w.useMemo(function(){return Object(B.a)(Pn)},[Pn]),Rn=w.useMemo(function(){return Ae(yt)},[yt]),Sn=w.useMemo(function(){return!ei||Ct!==Xe?kn(yt,!1):kn(Oe(yt,Bn),Bn<Rn)},[ei,Ct,kn,yt,Bn,Rn]);Object(F.a)(function(){ei&&qi&&gi&&Rn&&(Dn(Ne),dn([0,Math.ceil(Rn/2),Rn]))},[ei,qi,gi,Pn,Rn,ir]),Object(F.a)(function(){var Pi;Ct===Ne&&Qn(((Pi=pi.current)===null||Pi===void 0?void 0:Pi.offsetHeight)||0)},[Ct]),Object(F.a)(function(){var Pi,Ut;if(yn){if(Ct===Ne){var We=((Pi=Pt.current)===null||Pi===void 0?void 0:Pi.offsetHeight)||0,Tn=ir*yn;We<=Tn?(Dn(Et),yi(!1)):Dn(Fe)}else if(Ct===Fe)if(Ki!==ai){var ar=((Ut=Pt.current)===null||Ut===void 0?void 0:Ut.offsetHeight)||0,Br=ir*yn,Yr=Ki,ti=ai;Ki===ai-1?ti=Ki:ar<=Br?Yr=Bn:ti=Bn;var bi=Math.ceil((Yr+ti)/2);dn([Yr,bi,ti])}else Dn(Xe),yi(!0)}},[Ct,Ki,ai,ir,yn]);var Ii={width:qi,whiteSpace:"normal",margin:0,padding:0},Hi=function(Ut,We,Tn){return w.createElement("span",{"aria-hidden":!0,ref:We,style:Object(ce.a)({position:"fixed",display:"block",left:0,top:0,zIndex:-9999,visibility:"hidden",pointerEvents:"none",fontSize:Math.floor(gi/2)*2},Tn)},Ut)},wt=function(Ut,We){var Tn=Oe(yt,Ut);return Hi(kn(Tn,!0),We,Ii)};return w.createElement(w.Fragment,null,Sn,ei&&Ct!==Xe&&Ct!==Et&&w.createElement(w.Fragment,null,Hi("lg",pi,{wordBreak:"keep-all",whiteSpace:"nowrap"}),Ct===Ne?Hi(kn(yt,!1),Pt,Ii):wt(Bn,Pt)))},Ot=Ft,pt=function(Nn){var ei=Nn.enabledEllipsis,kn=Nn.isEllipsis,Pn=Nn.children,qi=Nn.tooltipProps;return!(qi==null?void 0:qi.title)||!ei?Pn:w.createElement(O.a,Object(ce.a)({open:kn?void 0:!1},qi),Pn)},Lt=pt,et=function(_n,Nn){var ei={};for(var kn in _n)Object.prototype.hasOwnProperty.call(_n,kn)&&Nn.indexOf(kn)<0&&(ei[kn]=_n[kn]);if(_n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pn=0,kn=Object.getOwnPropertySymbols(_n);Pn<kn.length;Pn++)Nn.indexOf(kn[Pn])<0&&Object.prototype.propertyIsEnumerable.call(_n,kn[Pn])&&(ei[kn[Pn]]=_n[kn[Pn]]);return ei};function Vt(_n,Nn){var ei=_n.mark,kn=_n.code,Pn=_n.underline,qi=_n.delete,gi=_n.strong,ir=_n.keyboard,yi=_n.italic,mi=Nn;function gr(zn,Ki){!zn||(mi=w.createElement(Ki,{},mi))}return gr(gi,"strong"),gr(Pn,"u"),gr(qi,"del"),gr(kn,"code"),gr(ei,"mark"),gr(ir,"kbd"),gr(yi,"i"),mi}function Re(_n,Nn,ei){return _n===!0||_n===void 0?Nn:_n||ei&&Nn}function Ce(_n){return _n===!1?[!1,!1]:Array.isArray(_n)?_n:[_n]}var ye="...",Te=w.forwardRef(function(_n,Nn){var ei,kn,Pn,qi=_n.prefixCls,gi=_n.className,ir=_n.style,yi=_n.type,mi=_n.disabled,gr=_n.children,zn=_n.ellipsis,Ki=_n.editable,Bn=_n.copyable,ai=_n.component,dn=_n.title,Jn=et(_n,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),Yt=w.useContext(d.b),Ct=Yt.getPrefixCls,Dn=Yt.direction,gn=Object(D.b)("Text")[0],en=w.useRef(null),yn=w.useRef(null),Qn=Ct("typography",qi),pi=Object(N.a)(Jn,["mark","code","delete","underline","strong","keyboard","italic"]),Pt=ae(Ki),yt=Object(se.a)(Pt,2),Rn=yt[0],Sn=yt[1],Ii=Object(W.a)(!1,{value:Sn.editing}),Hi=Object(se.a)(Ii,2),wt=Hi[0],Pi=Hi[1],Ut=Sn.triggerType,We=Ut===void 0?["icon"]:Ut,Tn=function(la){var La;la&&((La=Sn.onStart)===null||La===void 0||La.call(Sn)),Pi(la)};J(function(){var _a;wt||(_a=yn.current)===null||_a===void 0||_a.focus()},[wt]);var ar=function(la){la==null||la.preventDefault(),Tn(!0)},Br=function(la){var La;(La=Sn.onChange)===null||La===void 0||La.call(Sn,la),Tn(!1)},Yr=function(){var la;(la=Sn.onCancel)===null||la===void 0||la.call(Sn),Tn(!1)},ti=ae(Bn),bi=Object(se.a)(ti,2),Kn=bi[0],En=bi[1],Nt=w.useState(!1),Gt=Object(se.a)(Nt,2),mt=Gt[0],Ye=Gt[1],vn=w.useRef(),nt={};En.format&&(nt.format=En.format);var Ze=function(){window.clearTimeout(vn.current)},Zt=function(la){var La;la==null||la.preventDefault(),la==null||la.stopPropagation(),ne()(En.text||String(gr)||"",nt),Ye(!0),Ze(),vn.current=window.setTimeout(function(){Ye(!1)},3e3),(La=En.onCopy)===null||La===void 0||La.call(En,la)};w.useEffect(function(){return Ze},[]);var hn=w.useState(!1),Ht=Object(se.a)(hn,2),lt=Ht[0],si=Ht[1],Oi=w.useState(!1),Ji=Object(se.a)(Oi,2),Wi=Ji[0],Yi=Ji[1],Bi=w.useState(!1),Gi=Object(se.a)(Bi,2),Gr=Gi[0],kr=Gi[1],sa=w.useState(!1),Fr=Object(se.a)(sa,2),ua=Fr[0],pn=Fr[1],Ln=w.useState(!1),ct=Object(se.a)(Ln,2),Mt=ct[0],At=ct[1],zt=w.useState(!0),$t=Object(se.a)(zt,2),Un=$t[0],Vn=$t[1],Gn=ae(zn,{expandable:!1}),oi=Object(se.a)(Gn,2),_i=oi[0],Cn=oi[1],ui=_i&&!Gr,Si=Cn.rows,Ui=Si===void 0?1:Si,Lr=w.useMemo(function(){return!ui||Cn.suffix!==void 0||Cn.onEllipsis||Cn.expandable||Rn||Kn},[ui,Cn,Rn,Kn]);Object(F.a)(function(){_i&&!Lr&&(si(Object(x.a)("webkitLineClamp")),Yi(Object(x.a)("textOverflow")))},[Lr,_i]);var or=w.useMemo(function(){return Lr?!1:Ui===1?Wi:lt},[Lr,Wi,lt]),Er=ui&&(or?Mt:ua),vr=ui&&Ui===1&&or,on=ui&&Ui>1&&or,Wn=function(la){var La;kr(!0),(La=Cn.onExpand)===null||La===void 0||La.call(Cn,la)},Zn=w.useState(0),Li=Object(se.a)(Zn,2),_r=Li[0],Nr=Li[1],$i=w.useState(0),Jr=Object(se.a)($i,2),ja=Jr[0],$r=Jr[1],Ra=function(la,La){var Ro=la.offsetWidth,$o;Nr(Ro),$r(parseInt(($o=window.getComputedStyle)===null||$o===void 0?void 0:$o.call(window,La).fontSize,10)||0)},Ua=function(la){var La;pn(la),ua!==la&&((La=Cn.onEllipsis)===null||La===void 0||La.call(Cn,la))};w.useEffect(function(){var _a=en.current;if(_i&&or&&_a){var la=on?_a.offsetHeight<_a.scrollHeight:_a.offsetWidth<_a.scrollWidth;Mt!==la&&At(la)}},[_i,or,gr,on,Un]),w.useEffect(function(){var _a=en.current;if(!(typeof IntersectionObserver=="undefined"||!_a||!or||!ui)){var la=new IntersectionObserver(function(){Vn(!!_a.offsetParent)});return la.observe(_a),function(){la.disconnect()}}},[or,ui]);var Ka={};Cn.tooltip===!0?Ka={title:(ei=Sn.text)!==null&&ei!==void 0?ei:gr}:w.isValidElement(Cn.tooltip)?Ka={title:Cn.tooltip}:Object(we.a)(Cn.tooltip)==="object"?Ka=Object(ce.a)({title:(kn=Sn.text)!==null&&kn!==void 0?kn:gr},Cn.tooltip):Ka={title:Cn.tooltip};var ws=w.useMemo(function(){var _a=function(La){return["string","number"].includes(Object(we.a)(La))};if(!(!_i||or)){if(_a(Sn.text))return Sn.text;if(_a(gr))return gr;if(_a(dn))return dn;if(_a(Ka.title))return Ka.title}},[_i,or,dn,Ka.title,Er]);if(wt)return w.createElement(re,{value:(Pn=Sn.text)!==null&&Pn!==void 0?Pn:typeof gr=="string"?gr:"",onSave:Br,onCancel:Yr,onEnd:Sn.onEnd,prefixCls:Qn,className:gi,style:ir,direction:Dn,component:ai,maxLength:Sn.maxLength,autoSize:Sn.autoSize,enterIcon:Sn.enterIcon});var Zr=function(){var la=Cn.expandable,La=Cn.symbol;if(!la)return null;var Ro;return La?Ro=La:Ro=gn.expand,w.createElement("a",{key:"expand",className:"".concat(Qn,"-expand"),onClick:Wn,"aria-label":gn.expand},Ro)},Xa=function(){if(!!Rn){var la=Sn.icon,La=Sn.tooltip,Ro=Object(B.a)(La)[0]||gn.edit,$o=typeof Ro=="string"?Ro:"";return We.includes("icon")?w.createElement(O.a,{key:"edit",title:La===!1?"":Ro},w.createElement(C.a,{ref:yn,className:"".concat(Qn,"-edit"),onClick:ar,"aria-label":$o},la||w.createElement(_.a,{role:"button"}))):null}},Go=function(){if(!!Kn){var la=En.tooltips,La=En.icon,Ro=Ce(la),$o=Ce(La),Rt=mt?Re(Ro[1],gn.copied):Re(Ro[0],gn.copy),tt=mt?gn.copied:gn.copy,_e=typeof Rt=="string"?Rt:tt;return w.createElement(O.a,{key:"copy",title:Rt},w.createElement(C.a,{className:E()("".concat(Qn,"-copy"),mt&&"".concat(Qn,"-copy-success")),onClick:Zt,"aria-label":_e},mt?Re($o[1],w.createElement(te.a,null),!0):Re($o[0],w.createElement($.a,null),!0)))}},lo=function(la){return[la&&Zr(),Xa(),Go()]},qo=function(la){return[la&&w.createElement("span",{"aria-hidden":!0,key:"ellipsis"},ye),Cn.suffix,lo(la)]};return w.createElement(V.a,{onResize:Ra,disabled:!ui||or},function(_a){var la;return w.createElement(Lt,{tooltipProps:Ka,enabledEllipsis:ui,isEllipsis:Er},w.createElement(L,Object(ce.a)({className:E()((la={},Object(ve.a)(la,"".concat(Qn,"-").concat(yi),yi),Object(ve.a)(la,"".concat(Qn,"-disabled"),mi),Object(ve.a)(la,"".concat(Qn,"-ellipsis"),_i),Object(ve.a)(la,"".concat(Qn,"-single-line"),ui&&Ui===1),Object(ve.a)(la,"".concat(Qn,"-ellipsis-single-line"),vr),Object(ve.a)(la,"".concat(Qn,"-ellipsis-multiple-line"),on),la),gi),prefixCls:qi,style:Object(ce.a)(Object(ce.a)({},ir),{WebkitLineClamp:on?Ui:void 0}),component:ai,ref:Object(H.a)(_a,en,Nn),direction:Dn,onClick:We.includes("text")?ar:void 0,"aria-label":ws==null?void 0:ws.toString(),title:dn},pi),w.createElement(Ot,{enabledMeasure:ui&&!or,text:gr,rows:Ui,width:_r,fontSize:ja,onEllipsis:Ua},function(La,Ro){var $o=La;La.length&&Ro&&ws&&($o=w.createElement("span",{key:"show-content","aria-hidden":!0},$o));var Rt=Vt(_n,w.createElement(w.Fragment,null,$o,qo(Ro)));return Rt})))})}),Qe=Te,$e=function(_n,Nn){var ei={};for(var kn in _n)Object.prototype.hasOwnProperty.call(_n,kn)&&Nn.indexOf(kn)<0&&(ei[kn]=_n[kn]);if(_n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pn=0,kn=Object.getOwnPropertySymbols(_n);Pn<kn.length;Pn++)Nn.indexOf(kn[Pn])<0&&Object.prototype.propertyIsEnumerable.call(_n,kn[Pn])&&(ei[kn[Pn]]=_n[kn[Pn]]);return ei},ze=w.forwardRef(function(_n,Nn){var ei=_n.ellipsis,kn=_n.rel,Pn=$e(_n,["ellipsis","rel"]),qi=Object(ce.a)(Object(ce.a)({},Pn),{rel:kn===void 0&&Pn.target==="_blank"?"noopener noreferrer":kn});return delete qi.navigate,w.createElement(Qe,Object(ce.a)({},qi,{ref:Nn,ellipsis:!!ei,component:"a"}))}),ot=ze,He=w.forwardRef(function(_n,Nn){return w.createElement(Qe,Object(ce.a)({ref:Nn},_n,{component:"div"}))}),Ge=He,Je=function(_n,Nn){var ei={};for(var kn in _n)Object.prototype.hasOwnProperty.call(_n,kn)&&Nn.indexOf(kn)<0&&(ei[kn]=_n[kn]);if(_n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pn=0,kn=Object.getOwnPropertySymbols(_n);Pn<kn.length;Pn++)Nn.indexOf(kn[Pn])<0&&Object.prototype.propertyIsEnumerable.call(_n,kn[Pn])&&(ei[kn[Pn]]=_n[kn[Pn]]);return ei},ft=function(Nn,ei){var kn=Nn.ellipsis,Pn=Je(Nn,["ellipsis"]),qi=w.useMemo(function(){return kn&&Object(we.a)(kn)==="object"?Object(N.a)(kn,["expandable","rows"]):kn},[kn]);return w.createElement(Qe,Object(ce.a)({ref:ei},Pn,{ellipsis:qi,component:"span"}))},qt=w.forwardRef(ft),bt=a("CWQg"),Bt=function(_n,Nn){var ei={};for(var kn in _n)Object.prototype.hasOwnProperty.call(_n,kn)&&Nn.indexOf(kn)<0&&(ei[kn]=_n[kn]);if(_n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pn=0,kn=Object.getOwnPropertySymbols(_n);Pn<kn.length;Pn++)Nn.indexOf(kn[Pn])<0&&Object.prototype.propertyIsEnumerable.call(_n,kn[Pn])&&(ei[kn[Pn]]=_n[kn[Pn]]);return ei},rn=Object(bt.b)(1,2,3,4,5),an=w.forwardRef(function(_n,Nn){var ei=_n.level,kn=ei===void 0?1:ei,Pn=Bt(_n,["level"]),qi;return rn.includes(kn)?qi="h".concat(kn):qi="h1",w.createElement(Qe,Object(ce.a)({ref:Nn},Pn,{component:qi}))}),In=an,Dt=L;Dt.Text=qt,Dt.Link=ot,Dt.Title=In,Dt.Paragraph=Ge;var jn=U.a=Dt},wQH0:function(mn,U,a){"use strict";a.d(U,"a",function(){return w});var ce=a("3/fG"),we=a("T8No"),w;(function(ve){ve.editorSimpleInput=new we.c("editorSimpleInput",!1,!0),ve.editorTextFocus=new we.c("editorTextFocus",!1,ce.b("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),ve.focus=new we.c("editorFocus",!1,ce.b("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),ve.textInputFocus=new we.c("textInputFocus",!1,ce.b("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),ve.readOnly=new we.c("editorReadonly",!1,ce.b("editorReadonly","Whether the editor is read only")),ve.inDiffEditor=new we.c("inDiffEditor",!1,ce.b("inDiffEditor","Whether the context is a diff editor")),ve.isEmbeddedDiffEditor=new we.c("isEmbeddedDiffEditor",!1,ce.b("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),ve.columnSelection=new we.c("editorColumnSelection",!1,ce.b("editorColumnSelection","Whether `editor.columnSelection` is enabled")),ve.writable=ve.readOnly.toNegated(),ve.hasNonEmptySelection=new we.c("editorHasSelection",!1,ce.b("editorHasSelection","Whether the editor has text selected")),ve.hasOnlyEmptySelection=ve.hasNonEmptySelection.toNegated(),ve.hasMultipleSelections=new we.c("editorHasMultipleSelections",!1,ce.b("editorHasMultipleSelections","Whether the editor has multiple selections")),ve.hasSingleSelection=ve.hasMultipleSelections.toNegated(),ve.tabMovesFocus=new we.c("editorTabMovesFocus",!1,ce.b("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),ve.tabDoesNotMoveFocus=ve.tabMovesFocus.toNegated(),ve.isInWalkThroughSnippet=new we.c("isInEmbeddedEditor",!1,!0),ve.canUndo=new we.c("canUndo",!1,!0),ve.canRedo=new we.c("canRedo",!1,!0),ve.hoverVisible=new we.c("editorHoverVisible",!1,ce.b("editorHoverVisible","Whether the editor hover is visible")),ve.hoverFocused=new we.c("editorHoverFocused",!1,ce.b("editorHoverFocused","Whether the editor hover is focused")),ve.stickyScrollFocused=new we.c("stickyScrollFocused",!1,ce.b("stickyScrollFocused","Whether the sticky scroll is focused")),ve.stickyScrollVisible=new we.c("stickyScrollVisible",!1,ce.b("stickyScrollVisible","Whether the sticky scroll is visible")),ve.standaloneColorPickerVisible=new we.c("standaloneColorPickerVisible",!1,ce.b("standaloneColorPickerVisible","Whether the standalone color picker is visible")),ve.standaloneColorPickerFocused=new we.c("standaloneColorPickerFocused",!1,ce.b("standaloneColorPickerFocused","Whether the standalone color picker is focused")),ve.inCompositeEditor=new we.c("inCompositeEditor",void 0,ce.b("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),ve.notInCompositeEditor=ve.inCompositeEditor.toNegated(),ve.languageId=new we.c("editorLangId","",ce.b("editorLangId","The language identifier of the editor")),ve.hasCompletionItemProvider=new we.c("editorHasCompletionItemProvider",!1,ce.b("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),ve.hasCodeActionsProvider=new we.c("editorHasCodeActionsProvider",!1,ce.b("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),ve.hasCodeLensProvider=new we.c("editorHasCodeLensProvider",!1,ce.b("editorHasCodeLensProvider","Whether the editor has a code lens provider")),ve.hasDefinitionProvider=new we.c("editorHasDefinitionProvider",!1,ce.b("editorHasDefinitionProvider","Whether the editor has a definition provider")),ve.hasDeclarationProvider=new we.c("editorHasDeclarationProvider",!1,ce.b("editorHasDeclarationProvider","Whether the editor has a declaration provider")),ve.hasImplementationProvider=new we.c("editorHasImplementationProvider",!1,ce.b("editorHasImplementationProvider","Whether the editor has an implementation provider")),ve.hasTypeDefinitionProvider=new we.c("editorHasTypeDefinitionProvider",!1,ce.b("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),ve.hasHoverProvider=new we.c("editorHasHoverProvider",!1,ce.b("editorHasHoverProvider","Whether the editor has a hover provider")),ve.hasDocumentHighlightProvider=new we.c("editorHasDocumentHighlightProvider",!1,ce.b("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),ve.hasDocumentSymbolProvider=new we.c("editorHasDocumentSymbolProvider",!1,ce.b("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),ve.hasReferenceProvider=new we.c("editorHasReferenceProvider",!1,ce.b("editorHasReferenceProvider","Whether the editor has a reference provider")),ve.hasRenameProvider=new we.c("editorHasRenameProvider",!1,ce.b("editorHasRenameProvider","Whether the editor has a rename provider")),ve.hasSignatureHelpProvider=new we.c("editorHasSignatureHelpProvider",!1,ce.b("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),ve.hasInlayHintsProvider=new we.c("editorHasInlayHintsProvider",!1,ce.b("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),ve.hasDocumentFormattingProvider=new we.c("editorHasDocumentFormattingProvider",!1,ce.b("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),ve.hasDocumentSelectionFormattingProvider=new we.c("editorHasDocumentSelectionFormattingProvider",!1,ce.b("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),ve.hasMultipleDocumentFormattingProvider=new we.c("editorHasMultipleDocumentFormattingProvider",!1,ce.b("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),ve.hasMultipleDocumentSelectionFormattingProvider=new we.c("editorHasMultipleDocumentSelectionFormattingProvider",!1,ce.b("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(w||(w={}))},wU4A:function(mn,U,a){},wcGD:function(mn,U,a){},wj68:function(mn,U,a){},wxcJ:function(mn,U,a){"use strict";(function(ce){a.d(U,"a",function(){return se}),a.d(U,"b",function(){return te}),a.d(U,"c",function(){return $});var we=a("MNsG"),w;if(typeof we.b.vscode!="undefined"&&typeof we.b.vscode.process!="undefined"){var ve=we.b.vscode.process;w={get platform(){return ve.platform},get arch(){return ve.arch},get env(){return ve.env},cwd:function(){return ve.cwd()}}}else typeof ce!="undefined"?w={get platform(){return ce.platform},get arch(){return ce.arch},get env(){return Object({NODE_ENV:"production"})},cwd:function(){return Object({NODE_ENV:"production"}).VSCODE_CWD||ce.cwd()}}:w={get platform(){return we.o?"win32":we.i?"darwin":"linux"},get arch(){},get env(){return{}},cwd:function(){return"/"}};var se=w.cwd,te=w.env,$=w.platform}).call(this,a("Q2Ig"))},"x/UI":function(mn,U,a){"use strict";a.d(U,"a",function(){return _}),a.d(U,"b",function(){return Y}),a.d(U,"c",function(){return E});var ce=a("yKVA"),we=a("879j"),w=a("fWQN"),ve=a("mtLc"),se=a("Cg/j"),te=a("bY76"),$=a("746U"),_=Object(se.c)("IWorkspaceEditService"),Y=function(){function ne(V){Object(w.a)(this,ne),this.metadata=V}return Object(ve.a)(ne,null,[{key:"convert",value:function(B){return B.edits.map(function(F){if(E.is(F))return E.lift(F);if(Z.is(F))return Z.lift(F);throw new Error("Unsupported edit")})}}]),ne}(),E=function(ne){Object(ce.a)(B,ne);var V=Object(we.a)(B);function B(F,W){var N,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0;return Object(w.a)(this,B),N=V.call(this,d),N.resource=F,N.textEdit=W,N.versionId=H,N}return Object(ve.a)(B,null,[{key:"is",value:function(W){return W instanceof B?!0:Object($.h)(W)&&te.a.isUri(W.resource)&&Object($.h)(W.textEdit)}},{key:"lift",value:function(W){return W instanceof B?W:new B(W.resource,W.textEdit,W.versionId,W.metadata)}}]),B}(Y),Z=function(ne){Object(ce.a)(B,ne);var V=Object(we.a)(B);function B(F,W){var N,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3?arguments[3]:void 0;return Object(w.a)(this,B),N=V.call(this,d),N.oldResource=F,N.newResource=W,N.options=H,N}return Object(ve.a)(B,null,[{key:"is",value:function(W){return W instanceof B?!0:Object($.h)(W)&&(Boolean(W.newResource)||Boolean(W.oldResource))}},{key:"lift",value:function(W){return W instanceof B?W:new B(W.oldResource,W.newResource,W.options,W.metadata)}}]),B}(Y)},xONI:function(mn,U,a){"use strict";a.d(U,"a",function(){return H});var ce=a("rAM+"),we=a("oBTY"),w=a("w4Tj"),ve=a("oZsa"),se=a("yKVA"),te=a("879j"),$=a("fWQN"),_=a("mtLc"),Y=a("KgQ1"),E=a.n(Y),Z=a("EffR"),ne=a("7lZ/"),V=a("SMG5"),B=a("pmY6"),F=a("qj0h"),W=a("nuFA"),N=function(){function x(O){Object($.a)(this,x),this._element=O}return Object(_.a)(x,[{key:"element",get:function(){return this._element}},{key:"textContent",set:function(T){this.disposed||T===this._textContent||(this._textContent=T,this._element.textContent=T)}},{key:"className",set:function(T){this.disposed||T===this._className||(this._className=T,this._element.className=T)}},{key:"empty",set:function(T){this.disposed||T===this._empty||(this._empty=T,this._element.style.marginLeft=T?"0":"")}},{key:"dispose",value:function(){this.disposed=!0}}]),x}(),H=function(x){Object(se.a)(T,x);var O=Object(te.a)(T);function T(z,I){var de;Object($.a)(this,T),de=O.call(this),de.customHovers=new Map,de.creationOptions=I,de.domNode=de._register(new N(Z.append(z,Z.$(".monaco-icon-label")))),de.labelContainer=Z.append(de.domNode.element,Z.$(".monaco-icon-label-container"));var pe=Z.append(de.labelContainer,Z.$("span.monaco-icon-name-container"));return(I==null?void 0:I.supportHighlights)||(I==null?void 0:I.supportIcons)?de.nameNode=new C(pe,!!I.supportIcons):de.nameNode=new d(pe),de.hoverDelegate=I==null?void 0:I.hoverDelegate,de}return Object(_.a)(T,[{key:"element",get:function(){return this.domNode.element}},{key:"setLabel",value:function(I,de,pe){var fe=["monaco-icon-label"],ke=["monaco-icon-label-container"];if(pe&&(pe.extraClasses&&fe.push.apply(fe,Object(we.a)(pe.extraClasses)),pe.italic&&fe.push("italic"),pe.strikethrough&&fe.push("strikethrough"),pe.disabledCommand&&ke.push("disabled")),this.domNode.className=fe.join(" "),this.labelContainer.className=ke.join(" "),this.setupHover((pe==null?void 0:pe.descriptionTitle)?this.labelContainer:this.element,pe==null?void 0:pe.title),this.nameNode.setLabel(I,pe),de||this.descriptionNode){var A=this.getOrCreateDescriptionNode();A instanceof ne.a?(A.set(de||"",pe?pe.descriptionMatches:void 0,void 0,pe==null?void 0:pe.labelEscapeNewLines),this.setupHover(A.element,pe==null?void 0:pe.descriptionTitle)):(A.textContent=de&&(pe==null?void 0:pe.labelEscapeNewLines)?ne.a.escapeNewLines(de,[]):de||"",this.setupHover(A.element,(pe==null?void 0:pe.descriptionTitle)||""),A.empty=!de)}}},{key:"setupHover",value:function(I,de){var pe=this.customHovers.get(I);if(pe&&(pe.dispose(),this.customHovers.delete(I)),!de){I.removeAttribute("title");return}if(!this.hoverDelegate)Object(V.b)(I,de);else{var fe=Object(V.a)(this.hoverDelegate,I,de);fe&&this.customHovers.set(I,fe)}}},{key:"dispose",value:function(){Object(w.a)(Object(ve.a)(T.prototype),"dispose",this).call(this);var I=Object(ce.a)(this.customHovers.values()),de;try{for(I.s();!(de=I.n()).done;){var pe=de.value;pe.dispose()}}catch(fe){I.e(fe)}finally{I.f()}this.customHovers.clear()}},{key:"getOrCreateDescriptionNode",value:function(){var I;if(!this.descriptionNode){var de=this._register(new N(Z.append(this.labelContainer,Z.$("span.monaco-icon-description-container"))));((I=this.creationOptions)===null||I===void 0?void 0:I.supportDescriptionHighlights)?this.descriptionNode=new ne.a(Z.append(de.element,Z.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new N(Z.append(de.element,Z.$("span.label-description"))))}return this.descriptionNode}}]),T}(B.a),d=function(){function x(O){Object($.a)(this,x),this.container=O,this.label=void 0,this.singleLabel=void 0}return Object(_.a)(x,[{key:"setLabel",value:function(T,z){if(!(this.label===T&&Object(F.e)(this.options,z)))if(this.label=T,this.options=z,typeof T=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=Z.append(this.container,Z.$("a.label-name",{id:z==null?void 0:z.domId}))),this.singleLabel.textContent=T;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(var I=0;I<T.length;I++){var de=T[I],pe=(z==null?void 0:z.domId)&&"".concat(z==null?void 0:z.domId,"_").concat(I);Z.append(this.container,Z.$("a.label-name",{id:pe,"data-icon-label-count":T.length,"data-icon-label-index":I,role:"treeitem"},de)),I<T.length-1&&Z.append(this.container,Z.$("span.label-separator",void 0,(z==null?void 0:z.separator)||"/"))}}}}]),x}();function D(x,O,T){if(!!T){var z=0;return x.map(function(I){var de={start:z,end:z+I.length},pe=T.map(function(fe){return W.a.intersect(de,fe)}).filter(function(fe){return!W.a.isEmpty(fe)}).map(function(fe){var ke=fe.start,A=fe.end;return{start:ke-z,end:A-z}});return z=de.end+O.length,pe})}}var C=function(){function x(O,T){Object($.a)(this,x),this.container=O,this.supportIcons=T,this.label=void 0,this.singleLabel=void 0}return Object(_.a)(x,[{key:"setLabel",value:function(T,z){if(!(this.label===T&&Object(F.e)(this.options,z)))if(this.label=T,this.options=z,typeof T=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new ne.a(Z.append(this.container,Z.$("a.label-name",{id:z==null?void 0:z.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(T,z==null?void 0:z.matches,void 0,z==null?void 0:z.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(var I=(z==null?void 0:z.separator)||"/",de=D(T,I,z==null?void 0:z.matches),pe=0;pe<T.length;pe++){var fe=T[pe],ke=de?de[pe]:void 0,A=(z==null?void 0:z.domId)&&"".concat(z==null?void 0:z.domId,"_").concat(pe),P=Z.$("a.label-name",{id:A,"data-icon-label-count":T.length,"data-icon-label-index":pe,role:"treeitem"}),G=new ne.a(Z.append(this.container,P),{supportIcons:this.supportIcons});G.set(fe,ke,void 0,z==null?void 0:z.labelEscapeNewLines),pe<T.length-1&&Z.append(P,Z.$("span.label-separator",void 0,I))}}}}]),x}()},y0ET:function(mn,U,a){"use strict";a.d(U,"a",function(){return E}),a.d(U,"b",function(){return Z});var ce=a("fWQN"),we=a("mtLc"),w=a("3/fG"),ve=a("MI8n"),se=a("ic2d"),te=a("ubTv"),$=a("CRAX"),_={ModesRegistry:"editor.modesRegistry"},Y=function(){function V(){Object(ce.a)(this,V),this._onDidChangeLanguages=new ve.b,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}return Object(we.a)(V,[{key:"registerLanguage",value:function(F){var W=this;return this._languages.push(F),this._onDidChangeLanguages.fire(void 0),{dispose:function(){for(var H=0,d=W._languages.length;H<d;H++)if(W._languages[H]===F){W._languages.splice(H,1);return}}}}},{key:"getLanguages",value:function(){return this._languages}}]),V}(),E=new Y;se.a.add(_.ModesRegistry,E);var Z="plaintext",ne=".txt";E.registerLanguage({id:Z,extensions:[ne],aliases:[w.b("plainText.alias","Plain Text"),"text"],mimetypes:[te.a.text]}),se.a.as($.a.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},yEoX:function(mn,U,a){},yqFB:function(mn,U,a){},yv4k:function(mn,U,a){},z3hU:function(mn,U,a){"use strict";a.d(U,"a",function(){return C});var ce=a("fWQN"),we=a("mtLc"),w=a("rAM+"),ve=a("8z58");/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var se=Object.defineProperty,te=Object.getOwnPropertyDescriptor,$=Object.getOwnPropertyNames,_=Object.prototype.hasOwnProperty,Y=function(de,pe,fe,ke){if(pe&&typeof pe=="object"||typeof pe=="function"){var A=Object(w.a)($(pe)),P;try{var G=function(){var ae=P.value;!_.call(de,ae)&&ae!==fe&&se(de,ae,{get:function(){return pe[ae]},enumerable:!(ke=te(pe,ae))||ke.enumerable})};for(A.s();!(P=A.n()).done;)G()}catch(re){A.e(re)}finally{A.f()}}return de},E=function(de,pe,fe){return Y(de,pe,"default"),fe&&Y(fe,pe,"default")},Z="5.0.2",ne={};E(ne,ve);var V=function(I){return I[I.None=0]="None",I[I.CommonJS=1]="CommonJS",I[I.AMD=2]="AMD",I[I.UMD=3]="UMD",I[I.System=4]="System",I[I.ES2015=5]="ES2015",I[I.ESNext=99]="ESNext",I}(V||{}),B=function(I){return I[I.None=0]="None",I[I.Preserve=1]="Preserve",I[I.React=2]="React",I[I.ReactNative=3]="ReactNative",I[I.ReactJSX=4]="ReactJSX",I[I.ReactJSXDev=5]="ReactJSXDev",I}(B||{}),F=function(I){return I[I.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",I[I.LineFeed=1]="LineFeed",I}(F||{}),W=function(I){return I[I.ES3=0]="ES3",I[I.ES5=1]="ES5",I[I.ES2015=2]="ES2015",I[I.ES2016=3]="ES2016",I[I.ES2017=4]="ES2017",I[I.ES2018=5]="ES2018",I[I.ES2019=6]="ES2019",I[I.ES2020=7]="ES2020",I[I.ESNext=99]="ESNext",I[I.JSON=100]="JSON",I[I.Latest=99]="Latest",I}(W||{}),N=function(I){return I[I.Classic=1]="Classic",I[I.NodeJs=2]="NodeJs",I}(N||{}),H=function(){function I(de,pe,fe,ke,A){Object(ce.a)(this,I),this._onDidChange=new ne.Emitter,this._onDidExtraLibsChange=new ne.Emitter,this._extraLibs=void 0,this._removedExtraLibs=void 0,this._eagerModelSync=void 0,this._compilerOptions=void 0,this._diagnosticsOptions=void 0,this._workerOptions=void 0,this._onDidExtraLibsChangeTimeout=void 0,this._inlayHintsOptions=void 0,this._modeConfiguration=void 0,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(de),this.setDiagnosticsOptions(pe),this.setWorkerOptions(fe),this.setInlayHintsOptions(ke),this.setModeConfiguration(A),this._onDidExtraLibsChangeTimeout=-1}return Object(we.a)(I,[{key:"onDidChange",get:function(){return this._onDidChange.event}},{key:"onDidExtraLibsChange",get:function(){return this._onDidExtraLibsChange.event}},{key:"modeConfiguration",get:function(){return this._modeConfiguration}},{key:"workerOptions",get:function(){return this._workerOptions}},{key:"inlayHintsOptions",get:function(){return this._inlayHintsOptions}},{key:"getExtraLibs",value:function(){return this._extraLibs}},{key:"addExtraLib",value:function(pe,fe){var ke=this,A;if(typeof fe=="undefined"?A="ts:extralib-".concat(Math.random().toString(36).substring(2,15)):A=fe,this._extraLibs[A]&&this._extraLibs[A].content===pe)return{dispose:function(){}};var P=1;return this._removedExtraLibs[A]&&(P=this._removedExtraLibs[A]+1),this._extraLibs[A]&&(P=this._extraLibs[A].version+1),this._extraLibs[A]={content:pe,version:P},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var re=ke._extraLibs[A];!re||re.version===P&&(delete ke._extraLibs[A],ke._removedExtraLibs[A]=P,ke._fireOnDidExtraLibsChangeSoon())}}}},{key:"setExtraLibs",value:function(pe){for(var fe in this._extraLibs)this._removedExtraLibs[fe]=this._extraLibs[fe].version;if(this._extraLibs=Object.create(null),pe&&pe.length>0){var ke=Object(w.a)(pe),A;try{for(ke.s();!(A=ke.n()).done;){var P=A.value,G=P.filePath||"ts:extralib-".concat(Math.random().toString(36).substring(2,15)),re=P.content,ae=1;this._removedExtraLibs[G]&&(ae=this._removedExtraLibs[G]+1),this._extraLibs[G]={content:re,version:ae}}}catch(Q){ke.e(Q)}finally{ke.f()}}this._fireOnDidExtraLibsChangeSoon()}},{key:"_fireOnDidExtraLibsChangeSoon",value:function(){var pe=this;this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(function(){pe._onDidExtraLibsChangeTimeout=-1,pe._onDidExtraLibsChange.fire(void 0)},0))}},{key:"getCompilerOptions",value:function(){return this._compilerOptions}},{key:"setCompilerOptions",value:function(pe){this._compilerOptions=pe||Object.create(null),this._onDidChange.fire(void 0)}},{key:"getDiagnosticsOptions",value:function(){return this._diagnosticsOptions}},{key:"setDiagnosticsOptions",value:function(pe){this._diagnosticsOptions=pe||Object.create(null),this._onDidChange.fire(void 0)}},{key:"setWorkerOptions",value:function(pe){this._workerOptions=pe||Object.create(null),this._onDidChange.fire(void 0)}},{key:"setInlayHintsOptions",value:function(pe){this._inlayHintsOptions=pe||Object.create(null),this._onDidChange.fire(void 0)}},{key:"setMaximumWorkerIdleTime",value:function(pe){}},{key:"setEagerModelSync",value:function(pe){this._eagerModelSync=pe}},{key:"getEagerModelSync",value:function(){return this._eagerModelSync}},{key:"setModeConfiguration",value:function(pe){this._modeConfiguration=pe||Object.create(null),this._onDidChange.fire(void 0)}}]),I}(),d=Z,D={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},C=new H({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},D),x=new H({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},D),O=function(){return z().then(function(de){return de.getTypeScriptWorker()})},T=function(){return z().then(function(de){return de.getJavaScriptWorker()})};ne.languages.typescript={ModuleKind:V,JsxEmit:B,NewLineKind:F,ScriptTarget:W,ModuleResolutionKind:N,typescriptVersion:d,typescriptDefaults:C,javascriptDefaults:x,getTypeScriptWorker:O,getJavaScriptWorker:T};function z(){return a.e(98).then(a.bind(null,"4yiN"))}ne.languages.onLanguage("typescript",function(){return z().then(function(I){return I.setupTypeScript(C)})}),ne.languages.onLanguage("javascript",function(){return z().then(function(I){return I.setupJavaScript(x)})})},zN7H:function(mn,U,a){"use strict";a.d(U,"a",function(){return V});var ce=a("fWQN"),we=a("mtLc"),w=a("N0LK"),ve=a("JLfW"),se=a("aokT"),te=a("gCVg"),$=a("s3yj"),_=a("AYRw"),Y=function(B,F,W,N){var H=arguments.length,d=H<3?F:N===null?N=Object.getOwnPropertyDescriptor(F,W):N,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(B,F,W,N);else for(var C=B.length-1;C>=0;C--)(D=B[C])&&(d=(H<3?D(d):H>3?D(F,W,d):D(F,W))||d);return H>3&&d&&Object.defineProperty(F,W,d),d},E=function(B,F){return function(W,N){F(W,N,B)}},Z=Object.create(null);function ne(B,F){if(F<=0)return"";Z[B]||(Z[B]=["",B]);for(var W=Z[B],N=W.length;N<=F;N++)W[N]=W[N-1]+B;return W[F]}var V=function(){function B(F,W,N){Object(ce.a)(this,B),this._languageConfigurationService=N,this._opts=W,this._selection=F,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}return Object(we.a)(B,[{key:"_addEditOperation",value:function(W,N,H){this._useLastEditRangeForCursorEndPosition?W.addTrackedEditOperation(N,H):W.addEditOperation(N,H)}},{key:"getEditOperations",value:function(W,N){var H=this._selection.startLineNumber,d=this._selection.endLineNumber;this._selection.endColumn===1&&H!==d&&(d=d-1);var D=this._opts,C=D.tabSize,x=D.indentSize,O=D.insertSpaces,T=H===d;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(W.getLineContent(H))&&(this._useLastEditRangeForCursorEndPosition=!0);for(var z=0,I=0,de=H;de<=d;de++,z=I){I=0;var pe=W.getLineContent(de),fe=w.u(pe);if(!(this._opts.isUnshift&&(pe.length===0||fe===0))&&!(!T&&!this._opts.isUnshift&&pe.length===0)){if(fe===-1&&(fe=pe.length),de>1){var ke=ve.a.visibleColumnFromColumn(pe,fe+1,C);if(ke%x!=0&&W.tokenization.isCheapToTokenize(de-1)){var A=Object($.a)(this._opts.autoIndent,W,new se.a(de-1,W.getLineMaxColumn(de-1),de-1,W.getLineMaxColumn(de-1)),this._languageConfigurationService);if(A){if(I=z,A.appendText)for(var P=0,G=A.appendText.length;P<G&&I<x&&A.appendText.charCodeAt(P)===32;P++)I++;A.removeText&&(I=Math.max(0,I-A.removeText));for(var re=0;re<I&&!(fe===0||pe.charCodeAt(fe-1)!==32);re++)fe--}}}if(!(this._opts.isUnshift&&fe===0)){var ae=void 0;this._opts.isUnshift?ae=B.unshiftIndent(pe,fe+1,C,x,O):ae=B.shiftIndent(pe,fe+1,C,x,O),this._addEditOperation(N,new se.a(de,1,de,fe+1),ae),de===H&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=fe+1)}}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&W.getLineLength(H)===0&&(this._useLastEditRangeForCursorEndPosition=!0);for(var Q=O?ne(" ",x):"	",J=H;J<=d;J++){var me=W.getLineContent(J),ge=w.u(me);if(!(this._opts.isUnshift&&(me.length===0||ge===0))&&!(!T&&!this._opts.isUnshift&&me.length===0)&&(ge===-1&&(ge=me.length),!(this._opts.isUnshift&&ge===0)))if(this._opts.isUnshift){ge=Math.min(ge,x);for(var L=0;L<ge;L++){var De=me.charCodeAt(L);if(De===9){ge=L+1;break}}this._addEditOperation(N,new se.a(J,1,J,ge+1),"")}else this._addEditOperation(N,new se.a(J,1,J,1),Q),J===H&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=N.trackSelection(this._selection)}},{key:"computeCursorState",value:function(W,N){if(this._useLastEditRangeForCursorEndPosition){var H=N.getInverseEditOperations()[0];return new te.a(H.range.endLineNumber,H.range.endColumn,H.range.endLineNumber,H.range.endColumn)}var d=N.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var D=this._selection.startColumn,C=d.startColumn;return C<=D?d:d.getDirection()===0?new te.a(d.startLineNumber,D,d.endLineNumber,d.endColumn):new te.a(d.endLineNumber,d.endColumn,d.startLineNumber,D)}return d}}],[{key:"unshiftIndent",value:function(W,N,H,d,D){var C=ve.a.visibleColumnFromColumn(W,N,H);if(D){var x=ne(" ",d),O=ve.a.prevIndentTabStop(C,d),T=O/d;return ne(x,T)}else{var z="	",I=ve.a.prevRenderTabStop(C,H),de=I/H;return ne(z,de)}}},{key:"shiftIndent",value:function(W,N,H,d,D){var C=ve.a.visibleColumnFromColumn(W,N,H);if(D){var x=ne(" ",d),O=ve.a.nextIndentTabStop(C,d),T=O/d;return ne(x,T)}else{var z="	",I=ve.a.nextRenderTabStop(C,H),de=I/H;return ne(z,de)}}}]),B}();V=Y([E(2,_.a)],V)},zP5H:function(mn,U,a){"use strict";a.d(U,"a",function(){return we});var ce=a("q1tI");function we(ve){var se=ce.createContext(null);function te(_){var Y=ve(_.initialState);return ce.createElement(se.Provider,{value:Y},_.children)}function $(){var _=ce.useContext(se);if(_===null)throw new Error("Component must be wrapped with <Container.Provider>");return _}return{Provider:te,useContainer:$}}function w(ve){return ve.useContainer()}},zhcO:function(mn,U,a){"use strict";a.d(U,"a",function(){return ve});var ce=a("fWQN"),we=a("mtLc"),w=a("VGTv"),ve=function(){function te($,_,Y){Object(ce.a)(this,te),this._lineTokensBrand=void 0,this._tokens=$,this._tokensCount=this._tokens.length>>>1,this._text=_,this._languageIdCodec=Y}return Object(we.a)(te,[{key:"equals",value:function(_){return _ instanceof te?this.slicedEquals(_,0,this._tokensCount):!1}},{key:"slicedEquals",value:function(_,Y,E){if(this._text!==_._text||this._tokensCount!==_._tokensCount)return!1;for(var Z=Y<<1,ne=Z+(E<<1),V=Z;V<ne;V++)if(this._tokens[V]!==_._tokens[V])return!1;return!0}},{key:"getLineContent",value:function(){return this._text}},{key:"getCount",value:function(){return this._tokensCount}},{key:"getStartOffset",value:function(_){return _>0?this._tokens[_-1<<1]:0}},{key:"getMetadata",value:function(_){var Y=this._tokens[(_<<1)+1];return Y}},{key:"getLanguageId",value:function(_){var Y=this._tokens[(_<<1)+1],E=w.a.getLanguageId(Y);return this._languageIdCodec.decodeLanguageId(E)}},{key:"getStandardTokenType",value:function(_){var Y=this._tokens[(_<<1)+1];return w.a.getTokenType(Y)}},{key:"getForeground",value:function(_){var Y=this._tokens[(_<<1)+1];return w.a.getForeground(Y)}},{key:"getClassName",value:function(_){var Y=this._tokens[(_<<1)+1];return w.a.getClassNameFromMetadata(Y)}},{key:"getInlineStyle",value:function(_,Y){var E=this._tokens[(_<<1)+1];return w.a.getInlineStyleFromMetadata(E,Y)}},{key:"getPresentation",value:function(_){var Y=this._tokens[(_<<1)+1];return w.a.getPresentationFromMetadata(Y)}},{key:"getEndOffset",value:function(_){return this._tokens[_<<1]}},{key:"findTokenIndexAtOffset",value:function(_){return te.findIndexInTokensArray(this._tokens,_)}},{key:"inflate",value:function(){return this}},{key:"sliceAndInflate",value:function(_,Y,E){return new se(this,_,Y,E)}},{key:"withInserted",value:function(_){if(_.length===0)return this;for(var Y=0,E=0,Z="",ne=new Array,V=0;;){var B=Y<this._tokensCount?this._tokens[Y<<1]:-1,F=E<_.length?_[E]:null;if(B!==-1&&(F===null||B<=F.offset)){Z+=this._text.substring(V,B);var W=this._tokens[(Y<<1)+1];ne.push(Z.length,W),Y++,V=B}else if(F){if(F.offset>V){Z+=this._text.substring(V,F.offset);var N=this._tokens[(Y<<1)+1];ne.push(Z.length,N),V=F.offset}Z+=F.text,ne.push(Z.length,F.tokenMetadata),E++}else break}return new te(new Uint32Array(ne),Z,this._languageIdCodec)}}],[{key:"createEmpty",value:function(_,Y){var E=te.defaultTokenMetadata,Z=new Uint32Array(2);return Z[0]=_.length,Z[1]=E,new te(Z,_,Y)}},{key:"convertToEndOffset",value:function(_,Y){for(var E=_.length>>>1,Z=E-1,ne=0;ne<Z;ne++)_[ne<<1]=_[ne+1<<1];_[Z<<1]=Y}},{key:"findIndexInTokensArray",value:function(_,Y){if(_.length<=2)return 0;for(var E=0,Z=(_.length>>>1)-1;E<Z;){var ne=E+Math.floor((Z-E)/2),V=_[ne<<1];if(V===Y)return ne+1;V<Y?E=ne+1:V>Y&&(Z=ne)}return E}}]),te}();ve.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;var se=function(){function te($,_,Y,E){Object(ce.a)(this,te),this._source=$,this._startOffset=_,this._endOffset=Y,this._deltaOffset=E,this._firstTokenIndex=$.findTokenIndexAtOffset(_),this._tokensCount=0;for(var Z=this._firstTokenIndex,ne=$.getCount();Z<ne;Z++){var V=$.getStartOffset(Z);if(V>=Y)break;this._tokensCount++}}return Object(we.a)(te,[{key:"getMetadata",value:function(_){return this._source.getMetadata(this._firstTokenIndex+_)}},{key:"getLanguageId",value:function(_){return this._source.getLanguageId(this._firstTokenIndex+_)}},{key:"getLineContent",value:function(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}},{key:"equals",value:function(_){return _ instanceof te?this._startOffset===_._startOffset&&this._endOffset===_._endOffset&&this._deltaOffset===_._deltaOffset&&this._source.slicedEquals(_._source,this._firstTokenIndex,this._tokensCount):!1}},{key:"getCount",value:function(){return this._tokensCount}},{key:"getForeground",value:function(_){return this._source.getForeground(this._firstTokenIndex+_)}},{key:"getEndOffset",value:function(_){var Y=this._source.getEndOffset(this._firstTokenIndex+_);return Math.min(this._endOffset,Y)-this._startOffset+this._deltaOffset}},{key:"getClassName",value:function(_){return this._source.getClassName(this._firstTokenIndex+_)}},{key:"getInlineStyle",value:function(_,Y){return this._source.getInlineStyle(this._firstTokenIndex+_,Y)}},{key:"getPresentation",value:function(_){return this._source.getPresentation(this._firstTokenIndex+_)}},{key:"findTokenIndexAtOffset",value:function(_){return this._source.findTokenIndexAtOffset(_+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}]),te}()},zrhQ:function(mn,U,a){"use strict";a.d(U,"d",function(){return ve}),a.d(U,"b",function(){return se}),a.d(U,"c",function(){return te}),a.d(U,"a",function(){return $});var ce=a("fWQN"),we=a("mtLc");function w(_,Y){var E=Math.pow(10,Y);return Math.round(_*E)/E}var ve=function(){function _(Y,E,Z){var ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;Object(ce.a)(this,_),this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,Y))|0,this.g=Math.min(255,Math.max(0,E))|0,this.b=Math.min(255,Math.max(0,Z))|0,this.a=w(Math.max(Math.min(1,ne),0),3)}return Object(we.a)(_,null,[{key:"equals",value:function(E,Z){return E.r===Z.r&&E.g===Z.g&&E.b===Z.b&&E.a===Z.a}}]),_}(),se=function(){function _(Y,E,Z,ne){Object(ce.a)(this,_),this._hslaBrand=void 0,this.h=Math.max(Math.min(360,Y),0)|0,this.s=w(Math.max(Math.min(1,E),0),3),this.l=w(Math.max(Math.min(1,Z),0),3),this.a=w(Math.max(Math.min(1,ne),0),3)}return Object(we.a)(_,null,[{key:"equals",value:function(E,Z){return E.h===Z.h&&E.s===Z.s&&E.l===Z.l&&E.a===Z.a}},{key:"fromRGBA",value:function(E){var Z=E.r/255,ne=E.g/255,V=E.b/255,B=E.a,F=Math.max(Z,ne,V),W=Math.min(Z,ne,V),N=0,H=0,d=(W+F)/2,D=F-W;if(D>0){switch(H=Math.min(d<=.5?D/(2*d):D/(2-2*d),1),F){case Z:N=(ne-V)/D+(ne<V?6:0);break;case ne:N=(V-Z)/D+2;break;case V:N=(Z-ne)/D+4;break}N*=60,N=Math.round(N)}return new _(N,H,d,B)}},{key:"_hue2rgb",value:function(E,Z,ne){return ne<0&&(ne+=1),ne>1&&(ne-=1),ne<1/6?E+(Z-E)*6*ne:ne<1/2?Z:ne<2/3?E+(Z-E)*(2/3-ne)*6:E}},{key:"toRGBA",value:function(E){var Z=E.h/360,ne=E.s,V=E.l,B=E.a,F,W,N;if(ne===0)F=W=N=V;else{var H=V<.5?V*(1+ne):V+ne-V*ne,d=2*V-H;F=_._hue2rgb(d,H,Z+1/3),W=_._hue2rgb(d,H,Z),N=_._hue2rgb(d,H,Z-1/3)}return new ve(Math.round(F*255),Math.round(W*255),Math.round(N*255),B)}}]),_}(),te=function(){function _(Y,E,Z,ne){Object(ce.a)(this,_),this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,Y),0)|0,this.s=w(Math.max(Math.min(1,E),0),3),this.v=w(Math.max(Math.min(1,Z),0),3),this.a=w(Math.max(Math.min(1,ne),0),3)}return Object(we.a)(_,null,[{key:"equals",value:function(E,Z){return E.h===Z.h&&E.s===Z.s&&E.v===Z.v&&E.a===Z.a}},{key:"fromRGBA",value:function(E){var Z=E.r/255,ne=E.g/255,V=E.b/255,B=Math.max(Z,ne,V),F=Math.min(Z,ne,V),W=B-F,N=B===0?0:W/B,H;return W===0?H=0:B===Z?H=((ne-V)/W%6+6)%6:B===ne?H=(V-Z)/W+2:H=(Z-ne)/W+4,new _(Math.round(H*60),N,B,E.a)}},{key:"toRGBA",value:function(E){var Z=E.h,ne=E.s,V=E.v,B=E.a,F=V*ne,W=F*(1-Math.abs(Z/60%2-1)),N=V-F,H=0,d=0,D=0;return Z<60?(H=F,d=W):Z<120?(H=W,d=F):Z<180?(d=F,D=W):Z<240?(d=W,D=F):Z<300?(H=W,D=F):Z<=360&&(H=F,D=W),H=Math.round((H+N)*255),d=Math.round((d+N)*255),D=Math.round((D+N)*255),new ve(H,d,D,B)}}]),_}(),$=function(){function _(Y){if(Object(ce.a)(this,_),Y)if(Y instanceof ve)this.rgba=Y;else if(Y instanceof se)this._hsla=Y,this.rgba=se.toRGBA(Y);else if(Y instanceof te)this._hsva=Y,this.rgba=te.toRGBA(Y);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}return Object(we.a)(_,[{key:"hsla",get:function(){return this._hsla?this._hsla:se.fromRGBA(this.rgba)}},{key:"hsva",get:function(){return this._hsva?this._hsva:te.fromRGBA(this.rgba)}},{key:"equals",value:function(E){return!!E&&ve.equals(this.rgba,E.rgba)&&se.equals(this.hsla,E.hsla)&&te.equals(this.hsva,E.hsva)}},{key:"getRelativeLuminance",value:function(){var E=_._relativeLuminanceForComponent(this.rgba.r),Z=_._relativeLuminanceForComponent(this.rgba.g),ne=_._relativeLuminanceForComponent(this.rgba.b),V=.2126*E+.7152*Z+.0722*ne;return w(V,4)}},{key:"isLighter",value:function(){var E=(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3;return E>=128}},{key:"isLighterThan",value:function(E){var Z=this.getRelativeLuminance(),ne=E.getRelativeLuminance();return Z>ne}},{key:"isDarkerThan",value:function(E){var Z=this.getRelativeLuminance(),ne=E.getRelativeLuminance();return Z<ne}},{key:"lighten",value:function(E){return new _(new se(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*E,this.hsla.a))}},{key:"darken",value:function(E){return new _(new se(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*E,this.hsla.a))}},{key:"transparent",value:function(E){var Z=this.rgba,ne=Z.r,V=Z.g,B=Z.b,F=Z.a;return new _(new ve(ne,V,B,F*E))}},{key:"isTransparent",value:function(){return this.rgba.a===0}},{key:"isOpaque",value:function(){return this.rgba.a===1}},{key:"opposite",value:function(){return new _(new ve(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}},{key:"makeOpaque",value:function(E){if(this.isOpaque()||E.rgba.a!==1)return this;var Z=this.rgba,ne=Z.r,V=Z.g,B=Z.b,F=Z.a;return new _(new ve(E.rgba.r-F*(E.rgba.r-ne),E.rgba.g-F*(E.rgba.g-V),E.rgba.b-F*(E.rgba.b-B),1))}},{key:"toString",value:function(){return this._toString||(this._toString=_.Format.CSS.format(this)),this._toString}}],[{key:"fromHex",value:function(E){return _.Format.CSS.parseHex(E)||_.red}},{key:"equals",value:function(E,Z){return!E&&!Z?!0:!E||!Z?!1:E.equals(Z)}},{key:"_relativeLuminanceForComponent",value:function(E){var Z=E/255;return Z<=.03928?Z/12.92:Math.pow((Z+.055)/1.055,2.4)}},{key:"getLighterColor",value:function(E,Z,ne){if(E.isLighterThan(Z))return E;ne=ne||.5;var V=E.getRelativeLuminance(),B=Z.getRelativeLuminance();return ne=ne*(B-V)/B,E.lighten(ne)}},{key:"getDarkerColor",value:function(E,Z,ne){if(E.isDarkerThan(Z))return E;ne=ne||.5;var V=E.getRelativeLuminance(),B=Z.getRelativeLuminance();return ne=ne*(V-B)/V,E.darken(ne)}}]),_}();$.white=new $(new ve(255,255,255,1)),$.black=new $(new ve(0,0,0,1)),$.red=new $(new ve(255,0,0,1)),$.blue=new $(new ve(0,0,255,1)),$.green=new $(new ve(0,255,0,1)),$.cyan=new $(new ve(0,255,255,1)),$.lightgrey=new $(new ve(211,211,211,1)),$.transparent=new $(new ve(0,0,0,0)),function(_){var Y;(function(E){var Z;(function(ne){function V(O){return O.rgba.a===1?"rgb(".concat(O.rgba.r,", ").concat(O.rgba.g,", ").concat(O.rgba.b,")"):_.Format.CSS.formatRGBA(O)}ne.formatRGB=V;function B(O){return"rgba(".concat(O.rgba.r,", ").concat(O.rgba.g,", ").concat(O.rgba.b,", ").concat(+O.rgba.a.toFixed(2),")")}ne.formatRGBA=B;function F(O){return O.hsla.a===1?"hsl(".concat(O.hsla.h,", ").concat((O.hsla.s*100).toFixed(2),"%, ").concat((O.hsla.l*100).toFixed(2),"%)"):_.Format.CSS.formatHSLA(O)}ne.formatHSL=F;function W(O){return"hsla(".concat(O.hsla.h,", ").concat((O.hsla.s*100).toFixed(2),"%, ").concat((O.hsla.l*100).toFixed(2),"%, ").concat(O.hsla.a.toFixed(2),")")}ne.formatHSLA=W;function N(O){var T=O.toString(16);return T.length!==2?"0"+T:T}function H(O){return"#".concat(N(O.rgba.r)).concat(N(O.rgba.g)).concat(N(O.rgba.b))}ne.formatHex=H;function d(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return T&&O.rgba.a===1?_.Format.CSS.formatHex(O):"#".concat(N(O.rgba.r)).concat(N(O.rgba.g)).concat(N(O.rgba.b)).concat(N(Math.round(O.rgba.a*255)))}ne.formatHexA=d;function D(O){return O.isOpaque()?_.Format.CSS.formatHex(O):_.Format.CSS.formatRGBA(O)}ne.format=D;function C(O){var T=O.length;if(T===0||O.charCodeAt(0)!==35)return null;if(T===7){var z=16*x(O.charCodeAt(1))+x(O.charCodeAt(2)),I=16*x(O.charCodeAt(3))+x(O.charCodeAt(4)),de=16*x(O.charCodeAt(5))+x(O.charCodeAt(6));return new _(new ve(z,I,de,1))}if(T===9){var pe=16*x(O.charCodeAt(1))+x(O.charCodeAt(2)),fe=16*x(O.charCodeAt(3))+x(O.charCodeAt(4)),ke=16*x(O.charCodeAt(5))+x(O.charCodeAt(6)),A=16*x(O.charCodeAt(7))+x(O.charCodeAt(8));return new _(new ve(pe,fe,ke,A/255))}if(T===4){var P=x(O.charCodeAt(1)),G=x(O.charCodeAt(2)),re=x(O.charCodeAt(3));return new _(new ve(16*P+P,16*G+G,16*re+re))}if(T===5){var ae=x(O.charCodeAt(1)),Q=x(O.charCodeAt(2)),J=x(O.charCodeAt(3)),me=x(O.charCodeAt(4));return new _(new ve(16*ae+ae,16*Q+Q,16*J+J,(16*me+me)/255))}return null}ne.parseHex=C;function x(O){switch(O){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(Z=E.CSS||(E.CSS={}))})(Y=_.Format||(_.Format={}))}($||($={}))}}]);
