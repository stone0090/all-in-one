(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{"4yiN":function(De,_,C){"use strict";C.r(_),C.d(_,"Adapter",function(){return R}),C.d(_,"CodeActionAdaptor",function(){return se}),C.d(_,"DefinitionAdapter",function(){return re}),C.d(_,"DiagnosticsAdapter",function(){return G}),C.d(_,"DocumentHighlightAdapter",function(){return ee}),C.d(_,"FormatAdapter",function(){return ie}),C.d(_,"FormatHelper",function(){return H}),C.d(_,"FormatOnTypeAdapter",function(){return ae}),C.d(_,"InlayHintsAdapter",function(){return oe}),C.d(_,"Kind",function(){return k}),C.d(_,"LibFiles",function(){return Q}),C.d(_,"OutlineAdapter",function(){return ne}),C.d(_,"QuickInfoAdapter",function(){return q}),C.d(_,"ReferenceAdapter",function(){return te}),C.d(_,"RenameAdapter",function(){return ue}),C.d(_,"SignatureHelpAdapter",function(){return Z}),C.d(_,"SuggestAdapter",function(){return X}),C.d(_,"WorkerManager",function(){return J}),C.d(_,"flattenDiagnosticMessageText",function(){return W}),C.d(_,"getJavaScriptWorker",function(){return ke}),C.d(_,"getTypeScriptWorker",function(){return je}),C.d(_,"setupJavaScript",function(){return Oe}),C.d(_,"setupTypeScript",function(){return ye});var U=C("k1fw"),de=C("Pv/L"),E=C("yKVA"),M=C("879j"),A=C("qLMh"),L=C("9og8"),P=C("fWQN"),T=C("mtLc"),N=C("rAM+"),fe=C("8z58"),pe=C("z3hU");/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var x=Object.defineProperty,ge=Object.getOwnPropertyDescriptor,be=Object.getOwnPropertyNames,he=Object.prototype.hasOwnProperty,me=function(s,r,n){return r in s?x(s,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[r]=n},z=function(s,r,n,a){if(r&&typeof r=="object"||typeof r=="function"){var t=Object(N.a)(be(r)),e;try{var i=function(){var v=e.value;!he.call(s,v)&&v!==n&&x(s,v,{get:function(){return r[v]},enumerable:!(a=ge(r,v))||a.enumerable})};for(t.s();!(e=t.n()).done;)i()}catch(o){t.e(o)}finally{t.f()}}return s},ve=function(s,r,n){return z(s,r,"default"),n&&z(n,r,"default")},w=function(s,r,n){return me(s,typeof r!="symbol"?r+"":r,n),n},g={};ve(g,fe);var J=function(){function d(s,r){var n=this;Object(P.a)(this,d),this._configChangeListener=void 0,this._updateExtraLibsToken=void 0,this._extraLibsChangeListener=void 0,this._worker=void 0,this._client=void 0,this._modeId=s,this._defaults=r,this._worker=null,this._client=null,this._configChangeListener=this._defaults.onDidChange(function(){return n._stopWorker()}),this._updateExtraLibsToken=0,this._extraLibsChangeListener=this._defaults.onDidExtraLibsChange(function(){return n._updateExtraLibs()})}return Object(T.a)(d,[{key:"dispose",value:function(){this._configChangeListener.dispose(),this._extraLibsChangeListener.dispose(),this._stopWorker()}},{key:"_stopWorker",value:function(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}},{key:"_updateExtraLibs",value:function(){var s=Object(L.a)(Object(A.a)().mark(function n(){var a,t;return Object(A.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(this._worker){i.next=2;break}return i.abrupt("return");case 2:return a=++this._updateExtraLibsToken,i.next=5,this._worker.getProxy();case 5:if(t=i.sent,this._updateExtraLibsToken===a){i.next=8;break}return i.abrupt("return");case 8:t.updateExtraLibs(this._defaults.getExtraLibs());case 9:case"end":return i.stop()}},n,this)}));function r(){return s.apply(this,arguments)}return r}()},{key:"_getClient",value:function(){var r=this;return this._client||(this._client=Object(L.a)(Object(A.a)().mark(function n(){return Object(A.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r._worker=g.editor.createWebWorker({moduleId:"vs/language/typescript/tsWorker",label:r._modeId,keepIdleModels:!0,createData:{compilerOptions:r._defaults.getCompilerOptions(),extraLibs:r._defaults.getExtraLibs(),customWorkerPath:r._defaults.workerOptions.customWorkerPath,inlayHintsOptions:r._defaults.inlayHintsOptions}}),!r._defaults.getEagerModelSync()){t.next=5;break}return t.next=4,r._worker.withSyncedResources(g.editor.getModels().filter(function(e){return e.getLanguageId()===r._modeId}).map(function(e){return e.uri}));case 4:return t.abrupt("return",t.sent);case 5:return t.next=7,r._worker.getProxy();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},n)}))()),this._client}},{key:"getLanguageServiceWorker",value:function(){var s=Object(L.a)(Object(A.a)().mark(function n(){var a,t,e,i,o=arguments;return Object(A.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this._getClient();case 2:if(a=h.sent,!this._worker){h.next=7;break}for(t=o.length,e=new Array(t),i=0;i<t;i++)e[i]=o[i];return h.next=7,this._worker.withSyncedResources(e);case 7:return h.abrupt("return",a);case 8:case"end":return h.stop()}},n,this)}));function r(){return s.apply(this,arguments)}return r}()}]),d}(),f={};f["lib.d.ts"]=!0,f["lib.decorators.d.ts"]=!0,f["lib.decorators.legacy.d.ts"]=!0,f["lib.dom.d.ts"]=!0,f["lib.dom.iterable.d.ts"]=!0,f["lib.es2015.collection.d.ts"]=!0,f["lib.es2015.core.d.ts"]=!0,f["lib.es2015.d.ts"]=!0,f["lib.es2015.generator.d.ts"]=!0,f["lib.es2015.iterable.d.ts"]=!0,f["lib.es2015.promise.d.ts"]=!0,f["lib.es2015.proxy.d.ts"]=!0,f["lib.es2015.reflect.d.ts"]=!0,f["lib.es2015.symbol.d.ts"]=!0,f["lib.es2015.symbol.wellknown.d.ts"]=!0,f["lib.es2016.array.include.d.ts"]=!0,f["lib.es2016.d.ts"]=!0,f["lib.es2016.full.d.ts"]=!0,f["lib.es2017.d.ts"]=!0,f["lib.es2017.full.d.ts"]=!0,f["lib.es2017.intl.d.ts"]=!0,f["lib.es2017.object.d.ts"]=!0,f["lib.es2017.sharedmemory.d.ts"]=!0,f["lib.es2017.string.d.ts"]=!0,f["lib.es2017.typedarrays.d.ts"]=!0,f["lib.es2018.asyncgenerator.d.ts"]=!0,f["lib.es2018.asynciterable.d.ts"]=!0,f["lib.es2018.d.ts"]=!0,f["lib.es2018.full.d.ts"]=!0,f["lib.es2018.intl.d.ts"]=!0,f["lib.es2018.promise.d.ts"]=!0,f["lib.es2018.regexp.d.ts"]=!0,f["lib.es2019.array.d.ts"]=!0,f["lib.es2019.d.ts"]=!0,f["lib.es2019.full.d.ts"]=!0,f["lib.es2019.intl.d.ts"]=!0,f["lib.es2019.object.d.ts"]=!0,f["lib.es2019.string.d.ts"]=!0,f["lib.es2019.symbol.d.ts"]=!0,f["lib.es2020.bigint.d.ts"]=!0,f["lib.es2020.d.ts"]=!0,f["lib.es2020.date.d.ts"]=!0,f["lib.es2020.full.d.ts"]=!0,f["lib.es2020.intl.d.ts"]=!0,f["lib.es2020.number.d.ts"]=!0,f["lib.es2020.promise.d.ts"]=!0,f["lib.es2020.sharedmemory.d.ts"]=!0,f["lib.es2020.string.d.ts"]=!0,f["lib.es2020.symbol.wellknown.d.ts"]=!0,f["lib.es2021.d.ts"]=!0,f["lib.es2021.full.d.ts"]=!0,f["lib.es2021.intl.d.ts"]=!0,f["lib.es2021.promise.d.ts"]=!0,f["lib.es2021.string.d.ts"]=!0,f["lib.es2021.weakref.d.ts"]=!0,f["lib.es2022.array.d.ts"]=!0,f["lib.es2022.d.ts"]=!0,f["lib.es2022.error.d.ts"]=!0,f["lib.es2022.full.d.ts"]=!0,f["lib.es2022.intl.d.ts"]=!0,f["lib.es2022.object.d.ts"]=!0,f["lib.es2022.regexp.d.ts"]=!0,f["lib.es2022.sharedmemory.d.ts"]=!0,f["lib.es2022.string.d.ts"]=!0,f["lib.es2023.array.d.ts"]=!0,f["lib.es2023.d.ts"]=!0,f["lib.es2023.full.d.ts"]=!0,f["lib.es5.d.ts"]=!0,f["lib.es6.d.ts"]=!0,f["lib.esnext.d.ts"]=!0,f["lib.esnext.full.d.ts"]=!0,f["lib.esnext.intl.d.ts"]=!0,f["lib.scripthost.d.ts"]=!0,f["lib.webworker.d.ts"]=!0,f["lib.webworker.importscripts.d.ts"]=!0,f["lib.webworker.iterable.d.ts"]=!0;function W(d,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(typeof d=="string")return d;if(d===void 0)return"";var n="";if(r){n+=s;for(var a=0;a<r;a++)n+="  "}if(n+=d.messageText,r++,d.next){var t=Object(N.a)(d.next),e;try{for(t.s();!(e=t.n()).done;){var i=e.value;n+=W(i,s,r)}}catch(o){t.e(o)}finally{t.f()}}return n}function K(d){return d?d.map(function(s){return s.text}).join(""):""}var R=function(){function d(s){Object(P.a)(this,d),this._worker=s}return Object(T.a)(d,[{key:"_textSpanToRange",value:function(r,n){var a=r.getPositionAt(n.start),t=r.getPositionAt(n.start+n.length),e=a.lineNumber,i=a.column,o=t.lineNumber,v=t.column;return{startLineNumber:e,startColumn:i,endLineNumber:o,endColumn:v}}}]),d}(),Q=function(){function d(s){Object(P.a)(this,d),this._libFiles=void 0,this._hasFetchedLibFiles=void 0,this._fetchLibFilesPromise=void 0,this._worker=s,this._libFiles={},this._hasFetchedLibFiles=!1,this._fetchLibFilesPromise=null}return Object(T.a)(d,[{key:"isLibFile",value:function(r){return r&&r.path.indexOf("/lib.")===0?!!f[r.path.slice(1)]:!1}},{key:"getOrCreateModel",value:function(r){var n=g.Uri.parse(r),a=g.editor.getModel(n);if(a)return a;if(this.isLibFile(n)&&this._hasFetchedLibFiles)return g.editor.createModel(this._libFiles[n.path.slice(1)],"typescript",n);var t=pe.a.getExtraLibs()[r];return t?g.editor.createModel(t.content,"typescript",n):null}},{key:"_containsLibFile",value:function(r){var n=Object(N.a)(r),a;try{for(n.s();!(a=n.n()).done;){var t=a.value;if(this.isLibFile(t))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"fetchLibFilesIfNecessary",value:function(){var s=Object(L.a)(Object(A.a)().mark(function n(a){return Object(A.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._containsLibFile(a)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._fetchLibFiles();case 4:case"end":return e.stop()}},n,this)}));function r(n){return s.apply(this,arguments)}return r}()},{key:"_fetchLibFiles",value:function(){var r=this;return this._fetchLibFilesPromise||(this._fetchLibFilesPromise=this._worker().then(function(n){return n.getLibFiles()}).then(function(n){r._hasFetchedLibFiles=!0,r._libFiles=n})),this._fetchLibFilesPromise}}]),d}(),G=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(n,a,t,e){var i;Object(P.a)(this,r),i=s.call(this,e),i._disposables=[],i._listener=Object.create(null),i._libFiles=n,i._defaults=a,i._selector=t;var o=function(l){if(l.getLanguageId()===t){var p=function(){var b=i._defaults.getDiagnosticsOptions(),O=b.onlyVisible;O?l.isAttachedToEditor()&&i._doValidate(l):i._doValidate(l)},y,u=l.onDidChangeContent(function(){clearTimeout(y),y=window.setTimeout(p,500)}),j=l.onDidChangeAttached(function(){var c=i._defaults.getDiagnosticsOptions(),b=c.onlyVisible;b&&(l.isAttachedToEditor()?p():g.editor.setModelMarkers(l,i._selector,[]))});i._listener[l.uri.toString()]={dispose:function(){u.dispose(),j.dispose(),clearTimeout(y)}},p()}},v=function(l){g.editor.setModelMarkers(l,i._selector,[]);var p=l.uri.toString();i._listener[p]&&(i._listener[p].dispose(),delete i._listener[p])};i._disposables.push(g.editor.onDidCreateModel(function(m){return o(m)})),i._disposables.push(g.editor.onWillDisposeModel(v)),i._disposables.push(g.editor.onDidChangeModelLanguage(function(m){v(m.model),o(m.model)})),i._disposables.push({dispose:function(){var l=Object(N.a)(g.editor.getModels()),p;try{for(l.s();!(p=l.n()).done;){var y=p.value;v(y)}}catch(u){l.e(u)}finally{l.f()}}});var h=function(){var l=Object(N.a)(g.editor.getModels()),p;try{for(l.s();!(p=l.n()).done;){var y=p.value;v(y),o(y)}}catch(u){l.e(u)}finally{l.f()}};return i._disposables.push(i._defaults.onDidChange(h)),i._disposables.push(i._defaults.onDidExtraLibsChange(h)),g.editor.getModels().forEach(function(m){return o(m)}),i}return Object(T.a)(r,[{key:"dispose",value:function(){this._disposables.forEach(function(a){return a&&a.dispose()}),this._disposables=[]}},{key:"_doValidate",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e){var i=this,o,v,h,m,l,p,y,u,j;return Object(A.a)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._worker(e.uri);case 2:if(o=b.sent,!e.isDisposed()){b.next=5;break}return b.abrupt("return");case 5:return v=[],h=this._defaults.getDiagnosticsOptions(),m=h.noSyntaxValidation,l=h.noSemanticValidation,p=h.noSuggestionDiagnostics,m||v.push(o.getSyntacticDiagnostics(e.uri.toString())),l||v.push(o.getSemanticDiagnostics(e.uri.toString())),p||v.push(o.getSuggestionDiagnostics(e.uri.toString())),b.next=12,Promise.all(v);case 12:if(y=b.sent,!(!y||e.isDisposed())){b.next=15;break}return b.abrupt("return");case 15:return u=y.reduce(function(O,S){return S.concat(O)},[]).filter(function(O){return(i._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore||[]).indexOf(O.code)===-1}),j=u.map(function(O){return O.relatedInformation||[]}).reduce(function(O,S){return S.concat(O)},[]).map(function(O){return O.file?g.Uri.parse(O.file.fileName):null}),b.next=19,this._libFiles.fetchLibFilesIfNecessary(j);case 19:if(!e.isDisposed()){b.next=21;break}return b.abrupt("return");case 21:g.editor.setModelMarkers(e,this._selector,u.map(function(O){return i._convertDiagnostics(e,O)}));case 22:case"end":return b.stop()}},t,this)}));function a(t){return n.apply(this,arguments)}return a}()},{key:"_convertDiagnostics",value:function(a,t){var e=t.start||0,i=t.length||1,o=a.getPositionAt(e),v=o.lineNumber,h=o.column,m=a.getPositionAt(e+i),l=m.lineNumber,p=m.column,y=[];return t.reportsUnnecessary&&y.push(g.MarkerTag.Unnecessary),t.reportsDeprecated&&y.push(g.MarkerTag.Deprecated),{severity:this._tsDiagnosticCategoryToMarkerSeverity(t.category),startLineNumber:v,startColumn:h,endLineNumber:l,endColumn:p,message:W(t.messageText,`
`),code:t.code.toString(),tags:y,relatedInformation:this._convertRelatedInformation(a,t.relatedInformation)}}},{key:"_convertRelatedInformation",value:function(a,t){var e=this;if(!t)return[];var i=[];return t.forEach(function(o){var v=a;if(o.file&&(v=e._libFiles.getOrCreateModel(o.file.fileName)),!!v){var h=o.start||0,m=o.length||1,l=v.getPositionAt(h),p=l.lineNumber,y=l.column,u=v.getPositionAt(h+m),j=u.lineNumber,c=u.column;i.push({resource:v.uri,startLineNumber:p,startColumn:y,endLineNumber:j,endColumn:c,message:W(o.messageText,`
`)})}}),i}},{key:"_tsDiagnosticCategoryToMarkerSeverity",value:function(a){switch(a){case 1:return g.MarkerSeverity.Error;case 3:return g.MarkerSeverity.Info;case 0:return g.MarkerSeverity.Warning;case 2:return g.MarkerSeverity.Hint}return g.MarkerSeverity.Info}}]),r}(R),X=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(){return Object(P.a)(this,r),s.apply(this,arguments)}return Object(T.a)(r,[{key:"triggerCharacters",get:function(){return["."]}},{key:"provideCompletionItems",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i,o,v){var h,m,l,p,y,u,j;return Object(A.a)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=e.getWordUntilPosition(i),m=new g.Range(i.lineNumber,h.startColumn,i.lineNumber,h.endColumn),l=e.uri,p=e.getOffsetAt(i),b.next=6,this._worker(l);case 6:if(y=b.sent,!e.isDisposed()){b.next=9;break}return b.abrupt("return");case 9:return b.next=11,y.getCompletionsAtPosition(l.toString(),p);case 11:if(u=b.sent,!(!u||e.isDisposed())){b.next=14;break}return b.abrupt("return");case 14:return j=u.entries.map(function(O){var S=m;if(O.replacementSpan){var F=e.getPositionAt(O.replacementSpan.start),D=e.getPositionAt(O.replacementSpan.start+O.replacementSpan.length);S=new g.Range(F.lineNumber,F.column,D.lineNumber,D.column)}var V=[];return O.kindModifiers!==void 0&&O.kindModifiers.indexOf("deprecated")!==-1&&V.push(g.languages.CompletionItemTag.Deprecated),{uri:l,position:i,offset:p,range:S,label:O.name,insertText:O.name,sortText:O.sortText,kind:r.convertKind(O.kind),tags:V}}),b.abrupt("return",{suggestions:j});case 16:case"end":return b.stop()}},t,this)}));function a(t,e,i,o){return n.apply(this,arguments)}return a}()},{key:"resolveCompletionItem",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i){var o,v,h,m,l,p;return Object(A.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=e,v=o.uri,h=o.position,m=o.offset,u.next=6,this._worker(v);case 6:return l=u.sent,u.next=9,l.getCompletionEntryDetails(v.toString(),m,o.label);case 9:if(p=u.sent,p){u.next=12;break}return u.abrupt("return",o);case 12:return u.abrupt("return",{uri:v,position:h,label:p.name,kind:r.convertKind(p.kind),detail:K(p.displayParts),documentation:{value:r.createDocumentationString(p)}});case 13:case"end":return u.stop()}},t,this)}));function a(t,e){return n.apply(this,arguments)}return a}()}],[{key:"convertKind",value:function(a){switch(a){case k.primitiveType:case k.keyword:return g.languages.CompletionItemKind.Keyword;case k.variable:case k.localVariable:return g.languages.CompletionItemKind.Variable;case k.memberVariable:case k.memberGetAccessor:case k.memberSetAccessor:return g.languages.CompletionItemKind.Field;case k.function:case k.memberFunction:case k.constructSignature:case k.callSignature:case k.indexSignature:return g.languages.CompletionItemKind.Function;case k.enum:return g.languages.CompletionItemKind.Enum;case k.module:return g.languages.CompletionItemKind.Module;case k.class:return g.languages.CompletionItemKind.Class;case k.interface:return g.languages.CompletionItemKind.Interface;case k.warning:return g.languages.CompletionItemKind.File}return g.languages.CompletionItemKind.Property}},{key:"createDocumentationString",value:function(a){var t=K(a.documentation);if(a.tags){var e=Object(N.a)(a.tags),i;try{for(e.s();!(i=e.n()).done;){var o=i.value;t+=`

`.concat(Y(o))}}catch(v){e.e(v)}finally{e.f()}}return t}}]),r}(R);function Y(d){var s="*@".concat(d.name,"*");if(d.name==="param"&&d.text){var r=Object(de.a)(d.text),n=r[0],a=r.slice(1);s+="`".concat(n.text,"`"),a.length>0&&(s+=" \u2014 ".concat(a.map(function(t){return t.text}).join(" ")))}else Array.isArray(d.text)?s+=" \u2014 ".concat(d.text.map(function(t){return t.text}).join(" ")):d.text&&(s+=" \u2014 ".concat(d.text));return s}var Z=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(){var n;Object(P.a)(this,r);for(var a=arguments.length,t=new Array(a),e=0;e<a;e++)t[e]=arguments[e];return n=s.call.apply(s,[this].concat(t)),n.signatureHelpTriggerCharacters=["(",","],n}return Object(T.a)(r,[{key:"provideSignatureHelp",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i,o,v){var h,m,l,p,y;return Object(A.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return h=e.uri,m=e.getOffsetAt(i),j.next=4,this._worker(h);case 4:if(l=j.sent,!e.isDisposed()){j.next=7;break}return j.abrupt("return");case 7:return j.next=9,l.getSignatureHelpItems(h.toString(),m,{triggerReason:r._toSignatureHelpTriggerReason(v)});case 9:if(p=j.sent,!(!p||e.isDisposed())){j.next=12;break}return j.abrupt("return");case 12:return y={activeSignature:p.selectedItemIndex,activeParameter:p.argumentIndex,signatures:[]},p.items.forEach(function(c){var b={label:"",parameters:[]};b.documentation={value:K(c.documentation)},b.label+=K(c.prefixDisplayParts),c.parameters.forEach(function(O,S,F){var D=K(O.displayParts),V={label:D,documentation:{value:K(O.documentation)}};b.label+=D,b.parameters.push(V),S<F.length-1&&(b.label+=K(c.separatorDisplayParts))}),b.label+=K(c.suffixDisplayParts),y.signatures.push(b)}),j.abrupt("return",{value:y,dispose:function(){}});case 15:case"end":return j.stop()}},t,this)}));function a(t,e,i,o){return n.apply(this,arguments)}return a}()}],[{key:"_toSignatureHelpTriggerReason",value:function(a){switch(a.triggerKind){case g.languages.SignatureHelpTriggerKind.TriggerCharacter:return a.triggerCharacter?a.isRetrigger?{kind:"retrigger",triggerCharacter:a.triggerCharacter}:{kind:"characterTyped",triggerCharacter:a.triggerCharacter}:{kind:"invoked"};case g.languages.SignatureHelpTriggerKind.ContentChange:return a.isRetrigger?{kind:"retrigger"}:{kind:"invoked"};case g.languages.SignatureHelpTriggerKind.Invoke:default:return{kind:"invoked"}}}}]),r}(R),q=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(){return Object(P.a)(this,r),s.apply(this,arguments)}return Object(T.a)(r,[{key:"provideHover",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i,o){var v,h,m,l,p,y,u;return Object(A.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return v=e.uri,h=e.getOffsetAt(i),c.next=4,this._worker(v);case 4:if(m=c.sent,!e.isDisposed()){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,m.getQuickInfoAtPosition(v.toString(),h);case 9:if(l=c.sent,!(!l||e.isDisposed())){c.next=12;break}return c.abrupt("return");case 12:return p=K(l.documentation),y=l.tags?l.tags.map(function(b){return Y(b)}).join(`  

`):"",u=K(l.displayParts),c.abrupt("return",{range:this._textSpanToRange(e,l.textSpan),contents:[{value:"```typescript\n"+u+"\n```\n"},{value:p+(y?`

`+y:"")}]});case 16:case"end":return c.stop()}},t,this)}));function a(t,e,i){return n.apply(this,arguments)}return a}()}]),r}(R),ee=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(){return Object(P.a)(this,r),s.apply(this,arguments)}return Object(T.a)(r,[{key:"provideDocumentHighlights",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i,o){var v=this,h,m,l,p;return Object(A.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h=e.uri,m=e.getOffsetAt(i),u.next=4,this._worker(h);case 4:if(l=u.sent,!e.isDisposed()){u.next=7;break}return u.abrupt("return");case 7:return u.next=9,l.getDocumentHighlights(h.toString(),m,[h.toString()]);case 9:if(p=u.sent,!(!p||e.isDisposed())){u.next=12;break}return u.abrupt("return");case 12:return u.abrupt("return",p.flatMap(function(j){return j.highlightSpans.map(function(c){return{range:v._textSpanToRange(e,c.textSpan),kind:c.kind==="writtenReference"?g.languages.DocumentHighlightKind.Write:g.languages.DocumentHighlightKind.Text}})}));case 13:case"end":return u.stop()}},t,this)}));function a(t,e,i){return n.apply(this,arguments)}return a}()}]),r}(R),re=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(n,a){var t;return Object(P.a)(this,r),t=s.call(this,a),t._libFiles=n,t}return Object(T.a)(r,[{key:"provideDefinition",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i,o){var v,h,m,l,p,y,u,j,c;return Object(A.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return v=e.uri,h=e.getOffsetAt(i),O.next=4,this._worker(v);case 4:if(m=O.sent,!e.isDisposed()){O.next=7;break}return O.abrupt("return");case 7:return O.next=9,m.getDefinitionAtPosition(v.toString(),h);case 9:if(l=O.sent,!(!l||e.isDisposed())){O.next=12;break}return O.abrupt("return");case 12:return O.next=14,this._libFiles.fetchLibFilesIfNecessary(l.map(function(S){return g.Uri.parse(S.fileName)}));case 14:if(!e.isDisposed()){O.next=16;break}return O.abrupt("return");case 16:p=[],y=Object(N.a)(l);try{for(y.s();!(u=y.n()).done;)j=u.value,c=this._libFiles.getOrCreateModel(j.fileName),c&&p.push({uri:c.uri,range:this._textSpanToRange(c,j.textSpan)})}catch(S){y.e(S)}finally{y.f()}return O.abrupt("return",p);case 20:case"end":return O.stop()}},t,this)}));function a(t,e,i){return n.apply(this,arguments)}return a}()}]),r}(R),te=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(n,a){var t;return Object(P.a)(this,r),t=s.call(this,a),t._libFiles=n,t}return Object(T.a)(r,[{key:"provideReferences",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i,o,v){var h,m,l,p,y,u,j,c,b;return Object(A.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return h=e.uri,m=e.getOffsetAt(i),S.next=4,this._worker(h);case 4:if(l=S.sent,!e.isDisposed()){S.next=7;break}return S.abrupt("return");case 7:return S.next=9,l.getReferencesAtPosition(h.toString(),m);case 9:if(p=S.sent,!(!p||e.isDisposed())){S.next=12;break}return S.abrupt("return");case 12:return S.next=14,this._libFiles.fetchLibFilesIfNecessary(p.map(function(F){return g.Uri.parse(F.fileName)}));case 14:if(!e.isDisposed()){S.next=16;break}return S.abrupt("return");case 16:y=[],u=Object(N.a)(p);try{for(u.s();!(j=u.n()).done;)c=j.value,b=this._libFiles.getOrCreateModel(c.fileName),b&&y.push({uri:b.uri,range:this._textSpanToRange(b,c.textSpan)})}catch(F){u.e(F)}finally{u.f()}return S.abrupt("return",y);case 20:case"end":return S.stop()}},t,this)}));function a(t,e,i,o){return n.apply(this,arguments)}return a}()}]),r}(R),ne=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(){return Object(P.a)(this,r),s.apply(this,arguments)}return Object(T.a)(r,[{key:"provideDocumentSymbols",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i){var o=this,v,h,m,l,p;return Object(A.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return v=e.uri,u.next=3,this._worker(v);case 3:if(h=u.sent,!e.isDisposed()){u.next=6;break}return u.abrupt("return");case 6:return u.next=8,h.getNavigationTree(v.toString());case 8:if(m=u.sent,!(!m||e.isDisposed())){u.next=11;break}return u.abrupt("return");case 11:return l=function j(c,b){var O,S={name:c.text,detail:"",kind:I[c.kind]||g.languages.SymbolKind.Variable,range:o._textSpanToRange(e,c.spans[0]),selectionRange:o._textSpanToRange(e,c.spans[0]),tags:[],children:(O=c.childItems)===null||O===void 0?void 0:O.map(function(F){return j(F,c.text)}),containerName:b};return S},p=m.childItems?m.childItems.map(function(j){return l(j)}):[],u.abrupt("return",p);case 14:case"end":return u.stop()}},t,this)}));function a(t,e){return n.apply(this,arguments)}return a}()}]),r}(R),k=Object(T.a)(function d(){Object(P.a)(this,d)});w(k,"unknown",""),w(k,"keyword","keyword"),w(k,"script","script"),w(k,"module","module"),w(k,"class","class"),w(k,"interface","interface"),w(k,"type","type"),w(k,"enum","enum"),w(k,"variable","var"),w(k,"localVariable","local var"),w(k,"function","function"),w(k,"localFunction","local function"),w(k,"memberFunction","method"),w(k,"memberGetAccessor","getter"),w(k,"memberSetAccessor","setter"),w(k,"memberVariable","property"),w(k,"constructorImplementation","constructor"),w(k,"callSignature","call"),w(k,"indexSignature","index"),w(k,"constructSignature","construct"),w(k,"parameter","parameter"),w(k,"typeParameter","type parameter"),w(k,"primitiveType","primitive type"),w(k,"label","label"),w(k,"alias","alias"),w(k,"const","const"),w(k,"let","let"),w(k,"warning","warning");var I=Object.create(null);I[k.module]=g.languages.SymbolKind.Module,I[k.class]=g.languages.SymbolKind.Class,I[k.enum]=g.languages.SymbolKind.Enum,I[k.interface]=g.languages.SymbolKind.Interface,I[k.memberFunction]=g.languages.SymbolKind.Method,I[k.memberVariable]=g.languages.SymbolKind.Property,I[k.memberGetAccessor]=g.languages.SymbolKind.Property,I[k.memberSetAccessor]=g.languages.SymbolKind.Property,I[k.variable]=g.languages.SymbolKind.Variable,I[k.const]=g.languages.SymbolKind.Variable,I[k.localVariable]=g.languages.SymbolKind.Variable,I[k.variable]=g.languages.SymbolKind.Variable,I[k.function]=g.languages.SymbolKind.Function,I[k.localFunction]=g.languages.SymbolKind.Function;var H=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(){return Object(P.a)(this,r),s.apply(this,arguments)}return Object(T.a)(r,[{key:"_convertTextChanges",value:function(a,t){return{text:t.newText,range:this._textSpanToRange(a,t.span)}}}],[{key:"_convertOptions",value:function(a){return{ConvertTabsToSpaces:a.insertSpaces,TabSize:a.tabSize,IndentSize:a.tabSize,IndentStyle:2,NewLineCharacter:`
`,InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1,PlaceOpenBraceOnNewLineForFunctions:!1}}}]),r}(R),ie=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(){var n;Object(P.a)(this,r);for(var a=arguments.length,t=new Array(a),e=0;e<a;e++)t[e]=arguments[e];return n=s.call.apply(s,[this].concat(t)),n.canFormatMultipleRanges=!1,n}return Object(T.a)(r,[{key:"provideDocumentRangeFormattingEdits",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i,o,v){var h=this,m,l,p,y,u;return Object(A.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return m=e.uri,l=e.getOffsetAt({lineNumber:i.startLineNumber,column:i.startColumn}),p=e.getOffsetAt({lineNumber:i.endLineNumber,column:i.endColumn}),c.next=5,this._worker(m);case 5:if(y=c.sent,!e.isDisposed()){c.next=8;break}return c.abrupt("return");case 8:return c.next=10,y.getFormattingEditsForRange(m.toString(),l,p,H._convertOptions(o));case 10:if(u=c.sent,!(!u||e.isDisposed())){c.next=13;break}return c.abrupt("return");case 13:return c.abrupt("return",u.map(function(b){return h._convertTextChanges(e,b)}));case 14:case"end":return c.stop()}},t,this)}));function a(t,e,i,o){return n.apply(this,arguments)}return a}()}]),r}(H),ae=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(){return Object(P.a)(this,r),s.apply(this,arguments)}return Object(T.a)(r,[{key:"autoFormatTriggerCharacters",get:function(){return[";","}",`
`]}},{key:"provideOnTypeFormattingEdits",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i,o,v,h){var m=this,l,p,y,u;return Object(A.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l=e.uri,p=e.getOffsetAt(i),c.next=4,this._worker(l);case 4:if(y=c.sent,!e.isDisposed()){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,y.getFormattingEditsAfterKeystroke(l.toString(),p,o,H._convertOptions(v));case 9:if(u=c.sent,!(!u||e.isDisposed())){c.next=12;break}return c.abrupt("return");case 12:return c.abrupt("return",u.map(function(b){return m._convertTextChanges(e,b)}));case 13:case"end":return c.stop()}},t,this)}));function a(t,e,i,o,v){return n.apply(this,arguments)}return a}()}]),r}(H),se=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(){return Object(P.a)(this,r),s.apply(this,arguments)}return Object(T.a)(r,[{key:"provideCodeActions",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i,o,v){var h=this,m,l,p,y,u,j,c,b;return Object(A.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return m=e.uri,l=e.getOffsetAt({lineNumber:i.startLineNumber,column:i.startColumn}),p=e.getOffsetAt({lineNumber:i.endLineNumber,column:i.endColumn}),y=H._convertOptions(e.getOptions()),u=o.markers.filter(function(F){return F.code}).map(function(F){return F.code}).map(Number),S.next=7,this._worker(m);case 7:if(j=S.sent,!e.isDisposed()){S.next=10;break}return S.abrupt("return");case 10:return S.next=12,j.getCodeFixesAtPosition(m.toString(),l,p,u,y);case 12:if(c=S.sent,!(!c||e.isDisposed())){S.next=15;break}return S.abrupt("return",{actions:[],dispose:function(){}});case 15:return b=c.filter(function(F){return F.changes.filter(function(D){return D.isNewFile}).length===0}).map(function(F){return h._tsCodeFixActionToMonacoCodeAction(e,o,F)}),S.abrupt("return",{actions:b,dispose:function(){}});case 17:case"end":return S.stop()}},t,this)}));function a(t,e,i,o){return n.apply(this,arguments)}return a}()},{key:"_tsCodeFixActionToMonacoCodeAction",value:function(a,t,e){var i=[],o=Object(N.a)(e.changes),v;try{for(o.s();!(v=o.n()).done;){var h=v.value,m=Object(N.a)(h.textChanges),l;try{for(m.s();!(l=m.n()).done;){var p=l.value;i.push({resource:a.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(a,p.span),text:p.newText}})}}catch(u){m.e(u)}finally{m.f()}}}catch(u){o.e(u)}finally{o.f()}var y={title:e.description,edit:{edits:i},diagnostics:t.markers,kind:"quickfix"};return y}}]),r}(H),ue=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(n,a){var t;return Object(P.a)(this,r),t=s.call(this,a),t._libFiles=n,t}return Object(T.a)(r,[{key:"provideRenameEdits",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i,o,v){var h,m,l,p,y,u,j,c,b,O,S;return Object(A.a)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return h=e.uri,m=h.toString(),l=e.getOffsetAt(i),D.next=5,this._worker(h);case 5:if(p=D.sent,!e.isDisposed()){D.next=8;break}return D.abrupt("return");case 8:return D.next=10,p.getRenameInfo(m,l,{allowRenameOfImportPath:!1});case 10:if(y=D.sent,y.canRename!==!1){D.next=13;break}return D.abrupt("return",{edits:[],rejectReason:y.localizedErrorMessage});case 13:if(y.fileToRename===void 0){D.next=15;break}throw new Error("Renaming files is not supported.");case 15:return D.next=17,p.findRenameLocations(m,l,!1,!1,!1);case 17:if(u=D.sent,!(!u||e.isDisposed())){D.next=20;break}return D.abrupt("return");case 20:j=[],c=Object(N.a)(u),D.prev=22,c.s();case 24:if((b=c.n()).done){D.next=34;break}if(O=b.value,S=this._libFiles.getOrCreateModel(O.fileName),!S){D.next=31;break}j.push({resource:S.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(S,O.textSpan),text:o}}),D.next=32;break;case 31:throw new Error("Unknown file ".concat(O.fileName,"."));case 32:D.next=24;break;case 34:D.next=39;break;case 36:D.prev=36,D.t0=D.catch(22),c.e(D.t0);case 39:return D.prev=39,c.f(),D.finish(39);case 42:return D.abrupt("return",{edits:j});case 43:case"end":return D.stop()}},t,this,[[22,36,39,42]])}));function a(t,e,i,o){return n.apply(this,arguments)}return a}()}]),r}(R),oe=function(d){Object(E.a)(r,d);var s=Object(M.a)(r);function r(){return Object(P.a)(this,r),s.apply(this,arguments)}return Object(T.a)(r,[{key:"provideInlayHints",value:function(){var n=Object(L.a)(Object(A.a)().mark(function t(e,i,o){var v=this,h,m,l,p,y,u,j;return Object(A.a)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=e.uri,m=h.toString(),l=e.getOffsetAt({lineNumber:i.startLineNumber,column:i.startColumn}),p=e.getOffsetAt({lineNumber:i.endLineNumber,column:i.endColumn}),b.next=6,this._worker(h);case 6:if(y=b.sent,!e.isDisposed()){b.next=9;break}return b.abrupt("return",null);case 9:return b.next=11,y.provideInlayHints(m,l,p);case 11:return u=b.sent,j=u.map(function(O){return Object(U.a)(Object(U.a)({},O),{},{label:O.text,position:e.getPositionAt(O.position),kind:v._convertHintKind(O.kind)})}),b.abrupt("return",{hints:j,dispose:function(){}});case 14:case"end":return b.stop()}},t,this)}));function a(t,e,i){return n.apply(this,arguments)}return a}()},{key:"_convertHintKind",value:function(a){switch(a){case"Parameter":return g.languages.InlayHintKind.Parameter;case"Type":return g.languages.InlayHintKind.Type;default:return g.languages.InlayHintKind.Type}}}]),r}(R),$,B;function ye(d){B=le(d,"typescript")}function Oe(d){$=le(d,"javascript")}function ke(){return new Promise(function(d,s){if(!$)return s("JavaScript not registered!");d($)})}function je(){return new Promise(function(d,s){if(!B)return s("TypeScript not registered!");d(B)})}function le(d,s){var r=[],n=[],a=new J(s,d);r.push(a);var t=function(){return a.getLanguageServiceWorker.apply(a,arguments)},e=new Q(t);function i(){var o=d.modeConfiguration;ce(n),o.completionItems&&n.push(g.languages.registerCompletionItemProvider(s,new X(t))),o.signatureHelp&&n.push(g.languages.registerSignatureHelpProvider(s,new Z(t))),o.hovers&&n.push(g.languages.registerHoverProvider(s,new q(t))),o.documentHighlights&&n.push(g.languages.registerDocumentHighlightProvider(s,new ee(t))),o.definitions&&n.push(g.languages.registerDefinitionProvider(s,new re(e,t))),o.references&&n.push(g.languages.registerReferenceProvider(s,new te(e,t))),o.documentSymbols&&n.push(g.languages.registerDocumentSymbolProvider(s,new ne(t))),o.rename&&n.push(g.languages.registerRenameProvider(s,new ue(e,t))),o.documentRangeFormattingEdits&&n.push(g.languages.registerDocumentRangeFormattingEditProvider(s,new ie(t))),o.onTypeFormattingEdits&&n.push(g.languages.registerOnTypeFormattingEditProvider(s,new ae(t))),o.codeActions&&n.push(g.languages.registerCodeActionProvider(s,new se(t))),o.inlayHints&&n.push(g.languages.registerInlayHintsProvider(s,new oe(t))),o.diagnostics&&n.push(new G(e,d,s,t))}return i(),r.push(Se(n)),t}function Se(d){return{dispose:function(){return ce(d)}}}function ce(d){for(;d.length;)d.pop().dispose()}}}]);
