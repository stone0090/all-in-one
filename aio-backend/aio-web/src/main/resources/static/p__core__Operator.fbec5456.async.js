(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+3Gp":function(fn,K,a){"use strict";a.d(K,"a",function(){return L}),a.d(K,"b",function(){return ee});var le=a("yKVA"),De=a("879j"),E=a("fWQN"),ve=a("mtLc"),re=a("MNsG"),J=a("/UlZ"),$=a("Yr1X"),y=re.i?1.5:1.35,Q=8,L=function(){function H(W){Object(E.a)(this,H),this._bareFontInfoBrand=void 0,this.pixelRatio=W.pixelRatio,this.fontFamily=String(W.fontFamily),this.fontWeight=String(W.fontWeight),this.fontSize=W.fontSize,this.fontFeatureSettings=W.fontFeatureSettings,this.fontVariationSettings=W.fontVariationSettings,this.lineHeight=W.lineHeight|0,this.letterSpacing=W.letterSpacing}return Object(ve.a)(H,[{key:"getId",value:function(){return"".concat(this.pixelRatio,"-").concat(this.fontFamily,"-").concat(this.fontWeight,"-").concat(this.fontSize,"-").concat(this.fontFeatureSettings,"-").concat(this.fontVariationSettings,"-").concat(this.lineHeight,"-").concat(this.letterSpacing)}},{key:"getMassagedFontFamily",value:function(){var F=J.d.fontFamily,V=H._wrapInQuotes(this.fontFamily);return F&&this.fontFamily!==F?"".concat(V,", ").concat(F):V}}],[{key:"createFromValidatedSettings",value:function(F,V,N){var U=F.get(47),d=F.get(51),j=F.get(50),C=F.get(49),x=F.get(52),S=F.get(64),T=F.get(61);return H._create(U,d,j,C,x,S,T,V,N)}},{key:"_create",value:function(F,V,N,U,d,j,C,x,S){j===0?j=y*N:j<Q&&(j=j*N),j=Math.round(j),j<Q&&(j=Q);var T=1+(S?0:$.a.getZoomLevel()*.1);if(N*=T,j*=T,d===J.f.TRANSLATE)if(V==="normal"||V==="bold")d=J.f.OFF;else{var z=parseInt(V,10);d="'wght' ".concat(z),V="normal"}return new H({pixelRatio:x,fontFamily:F,fontWeight:V,fontSize:N,fontFeatureSettings:U,fontVariationSettings:d,lineHeight:j,letterSpacing:C})}},{key:"_wrapInQuotes",value:function(F){return/[,"']/.test(F)?F:/[+ ]/.test(F)?'"'.concat(F,'"'):F}}]),H}(),ne=2,ee=function(H){Object(le.a)(F,H);var W=Object(De.a)(F);function F(V,N){var U;return Object(E.a)(this,F),U=W.call(this,V),U._editorStylingBrand=void 0,U.version=ne,U.isTrusted=N,U.isMonospace=V.isMonospace,U.typicalHalfwidthCharacterWidth=V.typicalHalfwidthCharacterWidth,U.typicalFullwidthCharacterWidth=V.typicalFullwidthCharacterWidth,U.canUseHalfwidthRightwardsArrow=V.canUseHalfwidthRightwardsArrow,U.spaceWidth=V.spaceWidth,U.middotWidth=V.middotWidth,U.wsmiddotWidth=V.wsmiddotWidth,U.maxDigitWidth=V.maxDigitWidth,U}return Object(ve.a)(F,[{key:"equals",value:function(N){return this.fontFamily===N.fontFamily&&this.fontWeight===N.fontWeight&&this.fontSize===N.fontSize&&this.fontFeatureSettings===N.fontFeatureSettings&&this.fontVariationSettings===N.fontVariationSettings&&this.lineHeight===N.lineHeight&&this.letterSpacing===N.letterSpacing&&this.typicalHalfwidthCharacterWidth===N.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===N.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===N.canUseHalfwidthRightwardsArrow&&this.spaceWidth===N.spaceWidth&&this.middotWidth===N.middotWidth&&this.wsmiddotWidth===N.wsmiddotWidth&&this.maxDigitWidth===N.maxDigitWidth}}]),F}(L)},"+7oY":function(fn,K,a){"use strict";a.d(K,"a",function(){return E}),a.d(K,"f",function(){return ve}),a.d(K,"b",function(){return re}),a.d(K,"e",function(){return J}),a.d(K,"c",function(){return y}),a.d(K,"d",function(){return Q});var le=a("rAM+"),De=a("Cg/j"),E=Object(De.c)("configurationService");function ve(L,ne){var ee=Object.create(null);for(var H in L)re(ee,H,L[H],ne);return ee}function re(L,ne,ee,H){for(var W=ne.split("."),F=W.pop(),V=L,N=0;N<W.length;N++){var U=W[N],d=V[U];switch(typeof d){case"undefined":d=V[U]=Object.create(null);break;case"object":break;default:H("Ignoring ".concat(ne," as ").concat(W.slice(0,N+1).join(".")," is ").concat(JSON.stringify(d)));return}V=d}if(typeof V=="object"&&V!==null)try{V[F]=ee}catch(j){H("Ignoring ".concat(ne," as ").concat(W.join(".")," is ").concat(JSON.stringify(V)))}else H("Ignoring ".concat(ne," as ").concat(W.join(".")," is ").concat(JSON.stringify(V)))}function J(L,ne){var ee=ne.split(".");$(L,ee)}function $(L,ne){var ee=ne.shift();if(ne.length===0){delete L[ee];return}if(Object.keys(L).indexOf(ee)!==-1){var H=L[ee];typeof H=="object"&&!Array.isArray(H)&&($(H,ne),Object.keys(H).length===0&&delete L[ee])}}function y(L,ne,ee){function H(V,N){var U=V,d=Object(le.a)(N),j;try{for(d.s();!(j=d.n()).done;){var C=j.value;if(typeof U!="object"||U===null)return;U=U[C]}}catch(x){d.e(x)}finally{d.f()}return U}var W=ne.split("."),F=H(L,W);return typeof F=="undefined"?ee:F}function Q(L){return L.replace(/[\[\]]/g,"")}},"+QRC":function(fn,K,a){"use strict";var le=a("E9nw"),De={"text/plain":"Text","text/html":"Url",default:"Text"},E="Copy to clipboard: #{key}, Enter";function ve(J){var $=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return J.replace(/#{\s*key\s*}/g,$)}function re(J,$){var y,Q,L,ne,ee,H,W=!1;$||($={}),y=$.debug||!1;try{L=le(),ne=document.createRange(),ee=document.getSelection(),H=document.createElement("span"),H.textContent=J,H.ariaHidden="true",H.style.all="unset",H.style.position="fixed",H.style.top=0,H.style.clip="rect(0, 0, 0, 0)",H.style.whiteSpace="pre",H.style.webkitUserSelect="text",H.style.MozUserSelect="text",H.style.msUserSelect="text",H.style.userSelect="text",H.addEventListener("copy",function(V){if(V.stopPropagation(),$.format)if(V.preventDefault(),typeof V.clipboardData=="undefined"){y&&console.warn("unable to use e.clipboardData"),y&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var N=De[$.format]||De.default;window.clipboardData.setData(N,J)}else V.clipboardData.clearData(),V.clipboardData.setData($.format,J);$.onCopy&&(V.preventDefault(),$.onCopy(V.clipboardData))}),document.body.appendChild(H),ne.selectNodeContents(H),ee.addRange(ne);var F=document.execCommand("copy");if(!F)throw new Error("copy command was unsuccessful");W=!0}catch(V){y&&console.error("unable to copy using execCommand: ",V),y&&console.warn("trying IE specific stuff");try{window.clipboardData.setData($.format||"text",J),$.onCopy&&$.onCopy(window.clipboardData),W=!0}catch(N){y&&console.error("unable to copy using clipboardData: ",N),y&&console.error("falling back to prompt"),Q=ve("message"in $?$.message:E),window.prompt(Q,J)}}finally{ee&&(typeof ee.removeRange=="function"?ee.removeRange(ne):ee.removeAllRanges()),H&&document.body.removeChild(H),L()}return W}fn.exports=re},"+caW":function(fn,K,a){"use strict";a.d(K,"a",function(){return S});var le=a("bbsP"),De=a("/wGt"),E=a("x+uP"),ve=a("HaE+"),re=a("VTBJ"),J=a("ODXe"),$=a("GNNt"),y=a("wEI+"),Q=a("Ff2n"),L=a("nKUr"),ne=a.n(L),ee=a("+i8S"),H=a("2oH+"),W=a.n(H),F=a("6cGi"),V=a("Kwbf"),N=a("q1tI"),U=a.n(N),d=a("i8i4"),j=a.n(d),C=a("T1Ok"),x=["children","trigger","onVisibleChange","drawerProps","onFinish","submitTimeout","title","width","visible"];function S(T){var z,A,ue,be,de=T.children,ke=T.trigger,he=T.onVisibleChange,ge=T.drawerProps,ce=T.onFinish,k=T.submitTimeout,w=T.title,B=T.width,Y=T.visible,pe=Object(Q.a)(T,x);Object(V.b)(!pe.footer||!(ge==null?void 0:ge.footer),"DrawerForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var me=Object(N.useContext)(y.a.ConfigContext),I=Object(N.useState)([]),we=Object(J.a)(I,2),Re=we[1],Oe=Object(N.useState)(!1),Pe=Object(J.a)(Oe,2),Ne=Pe[0],Ke=Pe[1],Xe=Object(F.a)(!!Y,{value:Y,onChange:he}),wt=Object(J.a)(Xe,2),Ct=wt[0],bt=wt[1],mt=Object(N.useRef)(null),jt=Object(N.useCallback)(function(Ge){mt.current===null&&Ge&&Re([]),mt.current=Ge},[]),Je=Object(N.useRef)(),Wt=Object(N.useCallback)(function(){var Ge,$e,We,it=(Ge=($e=(We=pe.formRef)===null||We===void 0?void 0:We.current)!==null&&$e!==void 0?$e:pe.form)!==null&&Ge!==void 0?Ge:Je.current;it&&(ge==null?void 0:ge.destroyOnClose)&&it.resetFields()},[ge==null?void 0:ge.destroyOnClose,pe.form,pe.formRef]);Object(N.useEffect)(function(){Ct&&Y&&(he==null||he(!0))},[Y,Ct]);var Te=Object(N.useMemo)(function(){return ke?U.a.cloneElement(ke,Object(re.a)(Object(re.a)({key:"trigger"},ke.props),{},{onClick:function(){var Ge=Object(ve.a)(Object(E.a)().mark(function We(it){var Fe,He;return Object(E.a)().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:bt(!Ct),(Fe=ke.props)===null||Fe===void 0||(He=Fe.onClick)===null||He===void 0||He.call(Fe,it);case 2:case"end":return ot.stop()}},We)}));function $e(We){return Ge.apply(this,arguments)}return $e}()})):null},[bt,ke,Ct]),fe=Object(N.useMemo)(function(){var Ge,$e,We,it,Fe,He;return pe.submitter===!1?!1:W()({searchConfig:{submitText:(Ge=($e=me.locale)===null||$e===void 0||(We=$e.Modal)===null||We===void 0?void 0:We.okText)!==null&&Ge!==void 0?Ge:"\u786E\u8BA4",resetText:(it=(Fe=me.locale)===null||Fe===void 0||(He=Fe.Modal)===null||He===void 0?void 0:He.cancelText)!==null&&it!==void 0?it:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:k?Ne:void 0,onClick:function(ot){var Kt;bt(!1),Wt(),ge==null||(Kt=ge.onClose)===null||Kt===void 0||Kt.call(ge,ot)}}},pe.submitter)},[pe.submitter,(z=me.locale)===null||z===void 0||(A=z.Modal)===null||A===void 0?void 0:A.okText,(ue=me.locale)===null||ue===void 0||(be=ue.Modal)===null||be===void 0?void 0:be.cancelText,k,Ne,bt,Wt,ge]),ye=Object(N.useCallback)(function(Ge,$e){return Object(L.jsxs)(L.Fragment,{children:[Ge,mt.current&&$e?Object(d.createPortal)($e,mt.current):$e]})},[]),Ee=Object(ee.a)(function(){var Ge=Object(ve.a)(Object(E.a)().mark(function $e(We){var it,Fe,He;return Object(E.a)().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:return it=ce==null?void 0:ce(We),k&&it instanceof Promise&&(Ke(!0),Fe=setTimeout(function(){return Ke(!1)},k),it.finally(function(){clearTimeout(Fe),Ke(!1)})),ot.next=4,it;case 4:return He=ot.sent,He&&bt(!1),ot.abrupt("return",He);case 7:case"end":return ot.stop()}},$e)}));return function($e){return Ge.apply(this,arguments)}}());return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(De.a,Object(re.a)(Object(re.a)({title:w,width:B||800},ge),{},{visible:Ct,onClose:function($e){var We;k&&Ne||(Wt(),bt(!1),ge==null||(We=ge.onClose)===null||We===void 0||We.call(ge,$e))},afterVisibleChange:function($e){var We;$e||Wt(),ge==null||(We=ge.afterVisibleChange)===null||We===void 0||We.call(ge,$e)},footer:pe.submitter!==!1&&Object(L.jsx)("div",{ref:jt,style:{display:"flex",justifyContent:"flex-end"}}),children:Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(C.a,Object(re.a)(Object(re.a)({formComponentType:"DrawerForm",layout:"vertical",formRef:Je},pe),{},{submitter:fe,onFinish:function(){var Ge=Object(ve.a)(Object(E.a)().mark(function We(it){var Fe;return Object(E.a)().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Ye.next=2,Ee(it);case 2:return Fe=Ye.sent,Fe===!0&&Wt(),Ye.abrupt("return",Fe);case 5:case"end":return Ye.stop()}},We)}));function $e(We){return Ge.apply(this,arguments)}return $e}(),contentRender:ye,children:de}))})})),Te]})}},"+lfL":function(fn,K,a){},"+vFt":function(fn,K,a){"use strict";a.d(K,"a",function(){return j});var le=a("oBTY"),De=a("rAM+"),E=a("fWQN"),ve=a("mtLc"),re=a("yKVA"),J=a("879j"),$=a("EffR"),y=a("ddRO"),Q=a("uDWl"),L=a("w5yO"),ne=a("pg8w"),ee=a("fdyd"),H=a("zrhQ"),W=a("MI8n"),F=a("eLzo"),V=a("pmY6"),N=a("/6w4"),U=a.n(N),d={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:H.a.white.toString(),buttonForeground:H.a.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0},j=function(C){Object(re.a)(S,C);var x=Object(J.a)(S);function S(T,z){var A;Object(E.a)(this,S),A=x.call(this),A._label="",A._onDidClick=A._register(new W.b),A.options=z,A._element=document.createElement("a"),A._element.classList.add("monaco-button"),A._element.tabIndex=0,A._element.setAttribute("role","button");var ue=z.secondary?z.buttonSecondaryBackground:z.buttonBackground,be=z.secondary?z.buttonSecondaryForeground:z.buttonForeground;return A._element.style.color=be||"",A._element.style.backgroundColor=ue||"",z.supportShortLabel&&(A._labelShortElement=document.createElement("div"),A._labelShortElement.classList.add("monaco-button-label-short"),A._element.appendChild(A._labelShortElement),A._labelElement=document.createElement("div"),A._labelElement.classList.add("monaco-button-label"),A._element.appendChild(A._labelElement),A._element.classList.add("monaco-text-button-with-short-label")),T.appendChild(A._element),A._register(ne.b.addTarget(A._element)),[$.EventType.CLICK,ne.a.Tap].forEach(function(de){A._register(Object($.addDisposableListener)(A._element,de,function(ke){if(!A.enabled){$.EventHelper.stop(ke);return}A._onDidClick.fire(ke)}))}),A._register(Object($.addDisposableListener)(A._element,$.EventType.KEY_DOWN,function(de){var ke=new Q.a(de),he=!1;A.enabled&&(ke.equals(3)||ke.equals(10))?(A._onDidClick.fire(de),he=!0):ke.equals(9)&&(A._element.blur(),he=!0),he&&$.EventHelper.stop(ke,!0)})),A._register(Object($.addDisposableListener)(A._element,$.EventType.MOUSE_OVER,function(de){A._element.classList.contains("disabled")||A.updateBackground(!0)})),A._register(Object($.addDisposableListener)(A._element,$.EventType.MOUSE_OUT,function(de){A.updateBackground(!1)})),A.focusTracker=A._register(Object($.trackFocus)(A._element)),A._register(A.focusTracker.onDidFocus(function(){A.enabled&&A.updateBackground(!0)})),A._register(A.focusTracker.onDidBlur(function(){A.enabled&&A.updateBackground(!1)})),A}return Object(ve.a)(S,[{key:"onDidClick",get:function(){return this._onDidClick.event}},{key:"getContentElements",value:function(z){var A=[],ue=Object(De.a)(Object(ee.a)(z)),be;try{for(ue.s();!(be=ue.n()).done;){var de=be.value;if(typeof de=="string"){if(de=de.trim(),de==="")continue;var ke=document.createElement("span");ke.textContent=de,A.push(ke)}else A.push(de)}}catch(he){ue.e(he)}finally{ue.f()}return A}},{key:"updateBackground",value:function(z){var A;this.options.secondary?A=z?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:A=z?this.options.buttonHoverBackground:this.options.buttonBackground,A&&(this._element.style.backgroundColor=A)}},{key:"element",get:function(){return this._element}},{key:"label",get:function(){return this._label},set:function(z){var A;if(this._label!==z&&!(Object(F.d)(this._label)&&Object(F.d)(z)&&Object(F.e)(this._label,z))){this._element.classList.add("monaco-text-button");var ue=this.options.supportShortLabel?this._labelElement:this._element;if(Object(F.d)(z)){var be=Object(L.a)(z,{inline:!0});be.dispose();var de=(A=be.element.querySelector("p"))===null||A===void 0?void 0:A.innerHTML;if(de){var ke=Object(y.c)(de,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});ue.innerHTML=ke}else Object($.reset)(ue)}else this.options.supportIcons?$.reset.apply(void 0,[ue].concat(Object(le.a)(this.getContentElements(z)))):ue.textContent=z;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=Object(L.b)(z)),this._label=z}}},{key:"enabled",get:function(){return!this._element.classList.contains("disabled")},set:function(z){z?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}}]),S}(V.a)},"/6w4":function(fn,K,a){},"/UlZ":function(fn,K,a){"use strict";a.d(K,"i",function(){return V}),a.d(K,"c",function(){return N}),a.d(K,"b",function(){return U}),a.d(K,"a",function(){return j}),a.d(K,"k",function(){return T}),a.d(K,"m",function(){return A}),a.d(K,"l",function(){return be}),a.d(K,"q",function(){return he}),a.d(K,"j",function(){return pe}),a.d(K,"e",function(){return Oe}),a.d(K,"f",function(){return Pe}),a.d(K,"g",function(){return bt}),a.d(K,"o",function(){return He}),a.d(K,"p",function(){return gt}),a.d(K,"r",function(){return Ft}),a.d(K,"d",function(){return Ei}),a.d(K,"n",function(){return Cr}),a.d(K,"h",function(){return dr});var le=a("tJVT"),De=a("jrin"),E=a("w4Tj"),ve=a("oZsa"),re=a("rAM+"),J=a("yKVA"),$=a("879j"),y=a("fWQN"),Q=a("mtLc"),L=a("3/fG"),ne=a("MNsG"),ee=a("h5s8"),H=a("6OMU"),W=a("qj0h"),F=a("vX7u"),V=8,N=function(){function Hn(mi){Object(y.a)(this,Hn),this._values=mi}return Object(Q.a)(Hn,[{key:"hasChanged",value:function(hn){return this._values[hn]}}]),Hn}(),U=Object(Q.a)(function Hn(){Object(y.a)(this,Hn),this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}),d=function(){function Hn(mi,hn,Xn,en){Object(y.a)(this,Hn),this.id=mi,this.name=hn,this.defaultValue=Xn,this.schema=en}return Object(Q.a)(Hn,[{key:"applyUpdate",value:function(hn,Xn){return C(hn,Xn)}},{key:"compute",value:function(hn,Xn,en){return en}}]),Hn}(),j=Object(Q.a)(function Hn(mi,hn){Object(y.a)(this,Hn),this.newValue=mi,this.didChange=hn});function C(Hn,mi){if(typeof Hn!="object"||typeof mi!="object"||!Hn||!mi)return new j(mi,Hn!==mi);if(Array.isArray(Hn)||Array.isArray(mi)){var hn=Array.isArray(Hn)&&Array.isArray(mi)&&H.j(Hn,mi);return new j(mi,!hn)}var Xn=!1;for(var en in mi)if(mi.hasOwnProperty(en)){var yt=C(Hn[en],mi[en]);yt.didChange&&(Hn[en]=yt.newValue,Xn=!0)}return new j(Hn,Xn)}var x=function(){function Hn(mi){Object(y.a)(this,Hn),this.schema=void 0,this.id=mi,this.name="_never_",this.defaultValue=void 0}return Object(Q.a)(Hn,[{key:"applyUpdate",value:function(hn,Xn){return C(hn,Xn)}},{key:"validate",value:function(hn){return this.defaultValue}}]),Hn}(),S=function(){function Hn(mi,hn,Xn,en){Object(y.a)(this,Hn),this.id=mi,this.name=hn,this.defaultValue=Xn,this.schema=en}return Object(Q.a)(Hn,[{key:"applyUpdate",value:function(hn,Xn){return C(hn,Xn)}},{key:"validate",value:function(hn){return typeof hn=="undefined"?this.defaultValue:hn}},{key:"compute",value:function(hn,Xn,en){return en}}]),Hn}();function T(Hn,mi){return typeof Hn=="undefined"?mi:Hn==="false"?!1:Boolean(Hn)}var z=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(Xn,en,yt){var wn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;return Object(y.a)(this,hn),typeof wn!="undefined"&&(wn.type="boolean",wn.default=yt),mi.call(this,Xn,en,yt,wn)}return Object(Q.a)(hn,[{key:"validate",value:function(en){return T(en,this.defaultValue)}}]),hn}(S);function A(Hn,mi,hn,Xn){if(typeof Hn=="undefined")return mi;var en=parseInt(Hn,10);return isNaN(en)?mi:(en=Math.max(hn,en),en=Math.min(Xn,en),en|0)}var ue=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(Xn,en,yt,wn,gn){var rn,bn=arguments.length>5&&arguments[5]!==void 0?arguments[5]:void 0;return Object(y.a)(this,hn),typeof bn!="undefined"&&(bn.type="integer",bn.default=yt,bn.minimum=wn,bn.maximum=gn),rn=mi.call(this,Xn,en,yt,bn),rn.minimum=wn,rn.maximum=gn,rn}return Object(Q.a)(hn,[{key:"validate",value:function(en){return hn.clampedInt(en,this.defaultValue,this.minimum,this.maximum)}}],[{key:"clampedInt",value:function(en,yt,wn,gn){return A(en,yt,wn,gn)}}]),hn}(S);function be(Hn,mi,hn,Xn){if(typeof Hn=="undefined")return mi;var en=de.float(Hn,mi);return de.clamp(en,hn,Xn)}var de=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(Xn,en,yt,wn,gn){var rn;return Object(y.a)(this,hn),typeof gn!="undefined"&&(gn.type="number",gn.default=yt),rn=mi.call(this,Xn,en,yt,gn),rn.validationFn=wn,rn}return Object(Q.a)(hn,[{key:"validate",value:function(en){return this.validationFn(hn.float(en,this.defaultValue))}}],[{key:"clamp",value:function(en,yt,wn){return en<yt?yt:en>wn?wn:en}},{key:"float",value:function(en,yt){if(typeof en=="number")return en;if(typeof en=="undefined")return yt;var wn=parseFloat(en);return isNaN(wn)?yt:wn}}]),hn}(S),ke=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(Xn,en,yt){var wn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;return Object(y.a)(this,hn),typeof wn!="undefined"&&(wn.type="string",wn.default=yt),mi.call(this,Xn,en,yt,wn)}return Object(Q.a)(hn,[{key:"validate",value:function(en){return hn.string(en,this.defaultValue)}}],[{key:"string",value:function(en,yt){return typeof en!="string"?yt:en}}]),hn}(S);function he(Hn,mi,hn,Xn){return typeof Hn!="string"?mi:Xn&&Hn in Xn?Xn[Hn]:hn.indexOf(Hn)===-1?mi:Hn}var ge=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(Xn,en,yt,wn){var gn,rn=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;return Object(y.a)(this,hn),typeof rn!="undefined"&&(rn.type="string",rn.enum=wn,rn.default=yt),gn=mi.call(this,Xn,en,yt,rn),gn._allowedValues=wn,gn}return Object(Q.a)(hn,[{key:"validate",value:function(en){return he(en,this.defaultValue,this._allowedValues)}}]),hn}(S),ce=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(Xn,en,yt,wn,gn,rn){var bn,Qn=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0;return Object(y.a)(this,hn),typeof Qn!="undefined"&&(Qn.type="string",Qn.enum=gn,Qn.default=wn),bn=mi.call(this,Xn,en,yt,Qn),bn._allowedValues=gn,bn._convert=rn,bn}return Object(Q.a)(hn,[{key:"validate",value:function(en){return typeof en!="string"?this.defaultValue:this._allowedValues.indexOf(en)===-1?this.defaultValue:this._convert(en)}}]),hn}(d);function k(Hn){switch(Hn){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}var w=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[L.b("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached"),L.b("accessibilitySupport.on","Optimize for usage with a Screen Reader"),L.b("accessibilitySupport.off","Assume a screen reader is not attached")],default:"auto",tags:["accessibility"],description:L.b("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}return Object(Q.a)(hn,[{key:"validate",value:function(en){switch(en){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}},{key:"compute",value:function(en,yt,wn){return wn===0?en.accessibilitySupport:wn}}]),hn}(d),B=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={insertSpace:!0,ignoreEmptyLines:!0};return mi.call(this,21,"comments",Xn,{"editor.comments.insertSpace":{type:"boolean",default:Xn.insertSpace,description:L.b("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Xn.ignoreEmptyLines,description:L.b("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{insertSpace:T(yt.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:T(yt.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}]),hn}(d);function Y(Hn){switch(Hn){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var pe;(function(Hn){Hn[Hn.Line=1]="Line",Hn[Hn.Block=2]="Block",Hn[Hn.Underline=3]="Underline",Hn[Hn.LineThin=4]="LineThin",Hn[Hn.BlockOutline=5]="BlockOutline",Hn[Hn.UnderlineThin=6]="UnderlineThin"})(pe||(pe={}));function me(Hn){switch(Hn){case"line":return pe.Line;case"block":return pe.Block;case"underline":return pe.Underline;case"line-thin":return pe.LineThin;case"block-outline":return pe.BlockOutline;case"underline-thin":return pe.UnderlineThin}}var I=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,137)}return Object(Q.a)(hn,[{key:"compute",value:function(en,yt,wn){var gn=["monaco-editor"];return yt.get(37)&&gn.push(yt.get(37)),en.extraEditorClassName&&gn.push(en.extraEditorClassName),yt.get(71)==="default"?gn.push("mouse-default"):yt.get(71)==="copy"&&gn.push("mouse-copy"),yt.get(107)&&gn.push("showUnused"),yt.get(135)&&gn.push("showDeprecated"),gn.join(" ")}}]),hn}(x),we=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,35,"emptySelectionClipboard",!0,{description:L.b("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}return Object(Q.a)(hn,[{key:"compute",value:function(en,yt,wn){return wn&&en.emptySelectionClipboard}}]),hn}(z),Re=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};return mi.call(this,39,"find",Xn,{"editor.find.cursorMoveOnType":{type:"boolean",default:Xn.cursorMoveOnType,description:L.b("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Xn.seedSearchStringFromSelection,enumDescriptions:[L.b("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),L.b("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),L.b("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:L.b("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Xn.autoFindInSelection,enumDescriptions:[L.b("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),L.b("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),L.b("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:L.b("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Xn.globalFindClipboard,description:L.b("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:ne.i},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Xn.addExtraSpaceOnTop,description:L.b("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Xn.loop,description:L.b("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{cursorMoveOnType:T(yt.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof en.seedSearchStringFromSelection=="boolean"?en.seedSearchStringFromSelection?"always":"never":he(yt.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof en.autoFindInSelection=="boolean"?en.autoFindInSelection?"always":"never":he(yt.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:T(yt.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:T(yt.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:T(yt.loop,this.defaultValue.loop)}}}]),hn}(d),Oe=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,49,"fontLigatures",hn.OFF,{anyOf:[{type:"boolean",description:L.b("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:L.b("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:L.b("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}return Object(Q.a)(hn,[{key:"validate",value:function(en){return typeof en=="undefined"?this.defaultValue:typeof en=="string"?en==="false"?hn.OFF:en==="true"?hn.ON:en:Boolean(en)?hn.ON:hn.OFF}}]),hn}(d);Oe.OFF='"liga" off, "calt" off',Oe.ON='"liga" on, "calt" on';var Pe=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,52,"fontVariations",hn.OFF,{anyOf:[{type:"boolean",description:L.b("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:L.b("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:L.b("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}return Object(Q.a)(hn,[{key:"validate",value:function(en){return typeof en=="undefined"?this.defaultValue:typeof en=="string"?en==="false"?hn.OFF:en==="true"?hn.TRANSLATE:en:Boolean(en)?hn.TRANSLATE:hn.OFF}},{key:"compute",value:function(en,yt,wn){return en.fontInfo.fontVariationSettings}}]),hn}(d);Pe.OFF="normal",Pe.TRANSLATE="translate";var Ne=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,48)}return Object(Q.a)(hn,[{key:"compute",value:function(en,yt,wn){return en.fontInfo}}]),hn}(x),Ke=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,50,"fontSize",Ei.fontSize,{type:"number",minimum:6,maximum:100,default:Ei.fontSize,description:L.b("fontSize","Controls the font size in pixels.")})}return Object(Q.a)(hn,[{key:"validate",value:function(en){var yt=de.float(en,this.defaultValue);return yt===0?Ei.fontSize:de.clamp(yt,6,100)}},{key:"compute",value:function(en,yt,wn){return en.fontInfo.fontSize}}]),hn}(S),Xe=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,51,"fontWeight",Ei.fontWeight,{anyOf:[{type:"number",minimum:hn.MINIMUM_VALUE,maximum:hn.MAXIMUM_VALUE,errorMessage:L.b("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:hn.SUGGESTION_VALUES}],default:Ei.fontWeight,description:L.b("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}return Object(Q.a)(hn,[{key:"validate",value:function(en){return en==="normal"||en==="bold"?en:String(ue.clampedInt(en,Ei.fontWeight,hn.MINIMUM_VALUE,hn.MAXIMUM_VALUE))}}]),hn}(d);Xe.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Xe.MINIMUM_VALUE=1,Xe.MAXIMUM_VALUE=1e3;var wt=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},en={type:"string",enum:["peek","gotoAndPeek","goto"],default:Xn.multiple,enumDescriptions:[L.b("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),L.b("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),L.b("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},yt=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];return mi.call(this,56,"gotoLocation",Xn,{"editor.gotoLocation.multiple":{deprecationMessage:L.b("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:L.b("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},en),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:L.b("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},en),"editor.gotoLocation.multipleDeclarations":Object.assign({description:L.b("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},en),"editor.gotoLocation.multipleImplementations":Object.assign({description:L.b("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},en),"editor.gotoLocation.multipleReferences":Object.assign({description:L.b("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},en),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Xn.alternativeDefinitionCommand,enum:yt,description:L.b("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Xn.alternativeTypeDefinitionCommand,enum:yt,description:L.b("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Xn.alternativeDeclarationCommand,enum:yt,description:L.b("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Xn.alternativeImplementationCommand,enum:yt,description:L.b("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Xn.alternativeReferenceCommand,enum:yt,description:L.b("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){var yt,wn,gn,rn,bn;if(!en||typeof en!="object")return this.defaultValue;var Qn=en;return{multiple:he(Qn.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(yt=Qn.multipleDefinitions)!==null&&yt!==void 0?yt:he(Qn.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(wn=Qn.multipleTypeDefinitions)!==null&&wn!==void 0?wn:he(Qn.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(gn=Qn.multipleDeclarations)!==null&&gn!==void 0?gn:he(Qn.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(rn=Qn.multipleImplementations)!==null&&rn!==void 0?rn:he(Qn.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(bn=Qn.multipleReferences)!==null&&bn!==void 0?bn:he(Qn.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:ke.string(Qn.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:ke.string(Qn.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:ke.string(Qn.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:ke.string(Qn.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:ke.string(Qn.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}]),hn}(d),Ct=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={enabled:!0,delay:300,sticky:!0,above:!0};return mi.call(this,58,"hover",Xn,{"editor.hover.enabled":{type:"boolean",default:Xn.enabled,description:L.b("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Xn.delay,minimum:0,maximum:1e4,description:L.b("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Xn.sticky,description:L.b("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Xn.above,description:L.b("hover.above","Prefer showing hovers above the line, if there's space.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{enabled:T(yt.enabled,this.defaultValue.enabled),delay:ue.clampedInt(yt.delay,this.defaultValue.delay,0,1e4),sticky:T(yt.sticky,this.defaultValue.sticky),above:T(yt.above,this.defaultValue.above)}}}]),hn}(d),bt=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,140)}return Object(Q.a)(hn,[{key:"compute",value:function(en,yt,wn){return hn.computeLayout(yt,{memory:en.memory,outerWidth:en.outerWidth,outerHeight:en.outerHeight,isDominatedByLongLines:en.isDominatedByLongLines,lineHeight:en.fontInfo.lineHeight,viewLineCount:en.viewLineCount,lineNumbersDigitCount:en.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:en.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:en.fontInfo.maxDigitWidth,pixelRatio:en.pixelRatio,glyphMarginDecorationLaneCount:en.glyphMarginDecorationLaneCount})}}],[{key:"computeContainedMinimapLineCount",value:function(en){var yt=en.height/en.lineHeight,wn=Math.floor(en.paddingTop/en.lineHeight),gn=Math.floor(en.paddingBottom/en.lineHeight);en.scrollBeyondLastLine&&(gn=Math.max(gn,yt-1));var rn=(wn+en.viewLineCount+gn)/(en.pixelRatio*en.height),bn=Math.floor(en.viewLineCount/rn);return{typicalViewportLineCount:yt,extraLinesBeforeFirstLine:wn,extraLinesBeyondLastLine:gn,desiredRatio:rn,minimapLineCount:bn}}},{key:"_computeMinimapLayout",value:function(en,yt){var wn=en.outerWidth,gn=en.outerHeight,rn=en.pixelRatio;if(!en.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(rn*gn),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:gn};var bn=yt.stableMinimapLayoutInput,Qn=bn&&en.outerHeight===bn.outerHeight&&en.lineHeight===bn.lineHeight&&en.typicalHalfwidthCharacterWidth===bn.typicalHalfwidthCharacterWidth&&en.pixelRatio===bn.pixelRatio&&en.scrollBeyondLastLine===bn.scrollBeyondLastLine&&en.paddingTop===bn.paddingTop&&en.paddingBottom===bn.paddingBottom&&en.minimap.enabled===bn.minimap.enabled&&en.minimap.side===bn.minimap.side&&en.minimap.size===bn.minimap.size&&en.minimap.showSlider===bn.minimap.showSlider&&en.minimap.renderCharacters===bn.minimap.renderCharacters&&en.minimap.maxColumn===bn.minimap.maxColumn&&en.minimap.scale===bn.minimap.scale&&en.verticalScrollbarWidth===bn.verticalScrollbarWidth&&en.isViewportWrapping===bn.isViewportWrapping,Ci=en.lineHeight,yr=en.typicalHalfwidthCharacterWidth,_i=en.scrollBeyondLastLine,Bn=en.minimap.renderCharacters,tt=rn>=2?Math.round(en.minimap.scale*2):en.minimap.scale,Lt=en.minimap.maxColumn,xi=en.minimap.size,Qi=en.minimap.side,mr=en.verticalScrollbarWidth,pr=en.viewLineCount,St=en.remainingWidth,Gi=en.isViewportWrapping,an=Bn?2:3,Qe=Math.floor(rn*gn),Jn=Qe/rn,ii=!1,Li=!1,Fn=an*tt,jn=tt/rn,Nt=1;if(xi==="fill"||xi==="fit"){var Gt=hn.computeContainedMinimapLineCount({viewLineCount:pr,scrollBeyondLastLine:_i,paddingTop:en.paddingTop,paddingBottom:en.paddingBottom,height:gn,lineHeight:Ci,pixelRatio:rn}),Et=Gt.typicalViewportLineCount,Rt=Gt.extraLinesBeforeFirstLine,dn=Gt.extraLinesBeyondLastLine,et=Gt.desiredRatio,Ze=Gt.minimapLineCount,on=pr/Ze;if(on>1)ii=!0,Li=!0,tt=1,Fn=1,jn=tt/rn;else{var tn=!1,Dt=tt+1;if(xi==="fit"){var pn=Math.ceil((Rt+pr+dn)*Fn);Gi&&Qn&&St<=yt.stableFitRemainingWidth?(tn=!0,Dt=yt.stableFitMaxMinimapScale):tn=pn>Qe}if(xi==="fill"||tn){ii=!0;var ti=tt;Fn=Math.min(Ci*rn,Math.max(1,Math.floor(1/et))),Gi&&Qn&&St<=yt.stableFitRemainingWidth&&(Dt=yt.stableFitMaxMinimapScale),tt=Math.min(Dt,Math.max(1,Math.floor(Fn/an))),tt>ti&&(Nt=Math.min(2,tt/ti)),jn=tt/rn/Nt,Qe=Math.ceil(Math.max(Et,Rt+pr+dn)*Fn),Gi?(yt.stableMinimapLayoutInput=en,yt.stableFitRemainingWidth=St,yt.stableFitMaxMinimapScale=tt):(yt.stableMinimapLayoutInput=null,yt.stableFitRemainingWidth=0)}}}var kn=Math.floor(Lt*jn),Vt=Math.min(kn,Math.max(0,Math.floor((St-mr-2)*jn/(yr+jn)))+V),Oi=Math.floor(rn*Vt),Yi=Oi/rn;Oi=Math.floor(Oi*Nt);var Hi=Bn?1:2,qi=Qi==="left"?0:wn-Vt-mr;return{renderMinimap:Hi,minimapLeft:qi,minimapWidth:Vt,minimapHeightIsEditorHeight:ii,minimapIsSampling:Li,minimapScale:tt,minimapLineHeight:Fn,minimapCanvasInnerWidth:Oi,minimapCanvasInnerHeight:Qe,minimapCanvasOuterWidth:Yi,minimapCanvasOuterHeight:Jn}}},{key:"computeLayout",value:function(en,yt){var wn=yt.outerWidth|0,gn=yt.outerHeight|0,rn=yt.lineHeight|0,bn=yt.lineNumbersDigitCount|0,Qn=yt.typicalHalfwidthCharacterWidth,Ci=yt.maxDigitWidth,yr=yt.pixelRatio,_i=yt.viewLineCount,Bn=en.get(132),tt=Bn==="inherit"?en.get(131):Bn,Lt=tt==="inherit"?en.get(127):tt,xi=en.get(130),Qi=yt.isDominatedByLongLines,mr=en.get(55),pr=en.get(65).renderType!==0,St=en.get(66),Gi=en.get(101),an=en.get(81),Qe=en.get(70),Jn=en.get(99),ii=Jn.verticalScrollbarSize,Li=Jn.verticalHasArrows,Fn=Jn.arrowSize,jn=Jn.horizontalScrollbarSize,Nt=en.get(41),Gt=en.get(106)!=="never",Et=en.get(63);Nt&&Gt&&(Et+=16);var Rt=0;if(pr){var dn=Math.max(bn,St);Rt=Math.round(dn*Ci)}var et=0;mr&&(et=rn*yt.glyphMarginDecorationLaneCount);var Ze=0,on=Ze+et,tn=on+Rt,Dt=tn+Et,pn=wn-et-Rt-Et,ti=!1,kn=!1,Vt=-1;tt==="inherit"&&Qi?(ti=!0,kn=!0):Lt==="on"||Lt==="bounded"?kn=!0:Lt==="wordWrapColumn"&&(Vt=xi);var Oi=hn._computeMinimapLayout({outerWidth:wn,outerHeight:gn,lineHeight:rn,typicalHalfwidthCharacterWidth:Qn,pixelRatio:yr,scrollBeyondLastLine:Gi,paddingTop:an.top,paddingBottom:an.bottom,minimap:Qe,verticalScrollbarWidth:ii,viewLineCount:_i,remainingWidth:pn,isViewportWrapping:kn},yt.memory||new U);Oi.renderMinimap!==0&&Oi.minimapLeft===0&&(Ze+=Oi.minimapWidth,on+=Oi.minimapWidth,tn+=Oi.minimapWidth,Dt+=Oi.minimapWidth);var Yi=pn-Oi.minimapWidth,Hi=Math.max(1,Math.floor((Yi-ii-2)/Qn)),qi=Li?Fn:0;return kn&&(Vt=Math.max(1,Hi),Lt==="bounded"&&(Vt=Math.min(Vt,xi))),{width:wn,height:gn,glyphMarginLeft:Ze,glyphMarginWidth:et,glyphMarginDecorationLaneCount:yt.glyphMarginDecorationLaneCount,lineNumbersLeft:on,lineNumbersWidth:Rt,decorationsLeft:tn,decorationsWidth:Et,contentLeft:Dt,contentWidth:Yi,minimap:Oi,viewportColumn:Hi,isWordWrapMinified:ti,isViewportWrapping:kn,wrappingColumn:Vt,verticalScrollbarWidth:ii,horizontalScrollbarHeight:jn,overviewRuler:{top:qi,width:ii,height:gn-2*qi,right:0}}}}]),hn}(x),mt=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,134,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[L.b("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),L.b("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:L.b("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){return he(en,"simple",["simple","advanced"])}},{key:"compute",value:function(en,yt,wn){var gn=yt.get(2);return gn===2?"advanced":wn}}]),hn}(d),jt=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={enabled:!0};return mi.call(this,62,"lightbulb",Xn,{"editor.lightbulb.enabled":{type:"boolean",default:Xn.enabled,description:L.b("codeActions","Enables the Code Action lightbulb in the editor.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{enabled:T(yt.enabled,this.defaultValue.enabled)}}}]),hn}(d),Je=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={enabled:!1,maxLineCount:5,defaultModel:"outlineModel"};return mi.call(this,111,"stickyScroll",Xn,{"editor.stickyScroll.enabled":{type:"boolean",default:Xn.enabled,description:L.b("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:Xn.maxLineCount,minimum:1,maximum:10,description:L.b("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:Xn.defaultModel,description:L.b("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{enabled:T(yt.enabled,this.defaultValue.enabled),maxLineCount:ue.clampedInt(yt.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:he(yt.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"])}}}]),hn}(d),Wt=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={enabled:"on",fontSize:0,fontFamily:"",padding:!1};return mi.call(this,136,"inlayHints",Xn,{"editor.inlayHints.enabled":{type:"string",default:Xn.enabled,description:L.b("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[L.b("editor.inlayHints.on","Inlay hints are enabled"),L.b("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",ne.i?"Ctrl+Option":"Ctrl+Alt"),L.b("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",ne.i?"Ctrl+Option":"Ctrl+Alt"),L.b("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Xn.fontSize,markdownDescription:L.b("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Xn.fontFamily,markdownDescription:L.b("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Xn.padding,description:L.b("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return typeof yt.enabled=="boolean"&&(yt.enabled=yt.enabled?"on":"off"),{enabled:he(yt.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:ue.clampedInt(yt.fontSize,this.defaultValue.fontSize,0,100),fontFamily:ke.string(yt.fontFamily,this.defaultValue.fontFamily),padding:T(yt.padding,this.defaultValue.padding)}}}]),hn}(d),Te=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,63,"lineDecorationsWidth",10)}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(typeof en=="string"&&/^\d+(\.\d+)?ch$/.test(en)){var yt=parseFloat(en.substring(0,en.length-2));return-yt}else return ue.clampedInt(en,this.defaultValue,0,1e3)}},{key:"compute",value:function(en,yt,wn){return wn<0?ue.clampedInt(-wn*en.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):wn}}]),hn}(d),fe=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,64,"lineHeight",Ei.lineHeight,function(Xn){return de.clamp(Xn,0,150)},{markdownDescription:L.b("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}return Object(Q.a)(hn,[{key:"compute",value:function(en,yt,wn){return en.fontInfo.lineHeight}}]),hn}(de),ye=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};return mi.call(this,70,"minimap",Xn,{"editor.minimap.enabled":{type:"boolean",default:Xn.enabled,description:L.b("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Xn.autohide,description:L.b("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[L.b("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),L.b("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),L.b("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Xn.size,description:L.b("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Xn.side,description:L.b("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Xn.showSlider,description:L.b("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Xn.scale,minimum:1,maximum:3,enum:[1,2,3],description:L.b("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Xn.renderCharacters,description:L.b("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Xn.maxColumn,description:L.b("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{enabled:T(yt.enabled,this.defaultValue.enabled),autohide:T(yt.autohide,this.defaultValue.autohide),size:he(yt.size,this.defaultValue.size,["proportional","fill","fit"]),side:he(yt.side,this.defaultValue.side,["right","left"]),showSlider:he(yt.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:T(yt.renderCharacters,this.defaultValue.renderCharacters),scale:ue.clampedInt(yt.scale,1,1,3),maxColumn:ue.clampedInt(yt.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}]),hn}(d);function Ee(Hn){return Hn==="ctrlCmd"?ne.i?"metaKey":"ctrlKey":"altKey"}var Ge=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,81,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:L.b("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:L.b("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{top:ue.clampedInt(yt.top,0,0,1e3),bottom:ue.clampedInt(yt.bottom,0,0,1e3)}}}]),hn}(d),$e=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={enabled:!0,cycle:!0};return mi.call(this,83,"parameterHints",Xn,{"editor.parameterHints.enabled":{type:"boolean",default:Xn.enabled,description:L.b("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Xn.cycle,description:L.b("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{enabled:T(yt.enabled,this.defaultValue.enabled),cycle:T(yt.cycle,this.defaultValue.cycle)}}}]),hn}(d),We=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,138)}return Object(Q.a)(hn,[{key:"compute",value:function(en,yt,wn){return en.pixelRatio}}]),hn}(x),it=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){var Xn;Object(y.a)(this,hn);var en={other:"on",comments:"off",strings:"off"},yt=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[L.b("on","Quick suggestions show inside the suggest widget"),L.b("inline","Quick suggestions show as ghost text"),L.b("off","Quick suggestions are disabled")]}];return Xn=mi.call(this,86,"quickSuggestions",en,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:yt,default:en.strings,description:L.b("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:yt,default:en.comments,description:L.b("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:yt,default:en.other,description:L.b("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:en,markdownDescription:L.b("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),Xn.defaultValue=en,Xn}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(typeof en=="boolean"){var yt=en?"on":"off";return{comments:yt,strings:yt,other:yt}}if(!en||typeof en!="object")return this.defaultValue;var wn=en.other,gn=en.comments,rn=en.strings,bn=["on","inline","off"],Qn,Ci,yr;return typeof wn=="boolean"?Qn=wn?"on":"off":Qn=he(wn,this.defaultValue.other,bn),typeof gn=="boolean"?Ci=gn?"on":"off":Ci=he(gn,this.defaultValue.comments,bn),typeof rn=="boolean"?yr=rn?"on":"off":yr=he(rn,this.defaultValue.strings,bn),{other:Qn,comments:Ci,strings:yr}}}]),hn}(d),Fe=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,65,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[L.b("lineNumbers.off","Line numbers are not rendered."),L.b("lineNumbers.on","Line numbers are rendered as absolute number."),L.b("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),L.b("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:L.b("lineNumbers","Controls the display of line numbers.")})}return Object(Q.a)(hn,[{key:"validate",value:function(en){var yt=this.defaultValue.renderType,wn=this.defaultValue.renderFn;return typeof en!="undefined"&&(typeof en=="function"?(yt=4,wn=en):en==="interval"?yt=3:en==="relative"?yt=2:en==="on"?yt=1:yt=0),{renderType:yt,renderFn:wn}}}]),hn}(d);function He(Hn){var mi=Hn.get(94);return mi==="editable"?Hn.get(88):mi!=="on"}var Ye=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn=[],en={type:"number",description:L.b("rulers.size","Number of monospace characters at which this editor ruler will render.")};return mi.call(this,98,"rulers",Xn,{type:"array",items:{anyOf:[en,{type:["object"],properties:{column:en,color:{type:"string",description:L.b("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Xn,description:L.b("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(Array.isArray(en)){var yt=[],wn=Object(re.a)(en),gn;try{for(wn.s();!(gn=wn.n()).done;){var rn=gn.value;if(typeof rn=="number")yt.push({column:ue.clampedInt(rn,0,0,1e4),color:null});else if(rn&&typeof rn=="object"){var bn=rn;yt.push({column:ue.clampedInt(bn.column,0,0,1e4),color:bn.color})}}}catch(Qn){wn.e(Qn)}finally{wn.f()}return yt.sort(function(Qn,Ci){return Qn.column-Ci.column}),yt}return this.defaultValue}}]),hn}(d);function ot(Hn,mi){if(typeof Hn!="string")return mi;switch(Hn){case"hidden":return 2;case"visible":return 3;default:return 1}}var Kt=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};return mi.call(this,99,"scrollbar",Xn,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[L.b("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),L.b("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),L.b("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:L.b("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[L.b("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),L.b("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),L.b("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:L.b("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Xn.verticalScrollbarSize,description:L.b("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Xn.horizontalScrollbarSize,description:L.b("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Xn.scrollByPage,description:L.b("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en,wn=ue.clampedInt(yt.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),gn=ue.clampedInt(yt.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:ue.clampedInt(yt.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ot(yt.vertical,this.defaultValue.vertical),horizontal:ot(yt.horizontal,this.defaultValue.horizontal),useShadows:T(yt.useShadows,this.defaultValue.useShadows),verticalHasArrows:T(yt.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:T(yt.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:T(yt.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:T(yt.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:wn,horizontalSliderSize:ue.clampedInt(yt.horizontalSliderSize,wn,0,1e3),verticalScrollbarSize:gn,verticalSliderSize:ue.clampedInt(yt.verticalSliderSize,gn,0,1e3),scrollByPage:T(yt.scrollByPage,this.defaultValue.scrollByPage)}}}]),hn}(d),gt="inUntrustedWorkspace",Ft={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"},Jt=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){var Xn;Object(y.a)(this,hn);var en={nonBasicASCII:gt,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:gt,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};return mi.call(this,121,"unicodeHighlight",en,(Xn={},Object(De.a)(Xn,Ft.nonBasicASCII,{restricted:!0,type:["boolean","string"],enum:[!0,!1,gt],default:en.nonBasicASCII,description:L.b("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")}),Object(De.a)(Xn,Ft.invisibleCharacters,{restricted:!0,type:"boolean",default:en.invisibleCharacters,description:L.b("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")}),Object(De.a)(Xn,Ft.ambiguousCharacters,{restricted:!0,type:"boolean",default:en.ambiguousCharacters,description:L.b("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")}),Object(De.a)(Xn,Ft.includeComments,{restricted:!0,type:["boolean","string"],enum:[!0,!1,gt],default:en.includeComments,description:L.b("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")}),Object(De.a)(Xn,Ft.includeStrings,{restricted:!0,type:["boolean","string"],enum:[!0,!1,gt],default:en.includeStrings,description:L.b("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")}),Object(De.a)(Xn,Ft.allowedCharacters,{restricted:!0,type:"object",default:en.allowedCharacters,description:L.b("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}}),Object(De.a)(Xn,Ft.allowedLocales,{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:en.allowedLocales,description:L.b("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}),Xn))}return Object(Q.a)(hn,[{key:"applyUpdate",value:function(en,yt){var wn=!1;yt.allowedCharacters&&en&&(W.e(en.allowedCharacters,yt.allowedCharacters)||(en=Object.assign(Object.assign({},en),{allowedCharacters:yt.allowedCharacters}),wn=!0)),yt.allowedLocales&&en&&(W.e(en.allowedLocales,yt.allowedLocales)||(en=Object.assign(Object.assign({},en),{allowedLocales:yt.allowedLocales}),wn=!0));var gn=Object(E.a)(Object(ve.a)(hn.prototype),"applyUpdate",this).call(this,en,yt);return wn?new j(gn.newValue,!0):gn}},{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{nonBasicASCII:si(yt.nonBasicASCII,gt,[!0,!1,gt]),invisibleCharacters:T(yt.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:T(yt.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:si(yt.includeComments,gt,[!0,!1,gt]),includeStrings:si(yt.includeStrings,gt,[!0,!1,gt]),allowedCharacters:this.validateBooleanMap(en.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(en.allowedLocales,this.defaultValue.allowedLocales)}}},{key:"validateBooleanMap",value:function(en,yt){if(typeof en!="object"||!en)return yt;for(var wn={},gn=0,rn=Object.entries(en);gn<rn.length;gn++){var bn=rn[gn],Qn=Object(le.a)(bn,2),Ci=Qn[0],yr=Qn[1];yr===!0&&(wn[Ci]=!0)}return wn}}]),hn}(d),qt=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};return mi.call(this,60,"inlineSuggest",Xn,{"editor.inlineSuggest.enabled":{type:"boolean",default:Xn.enabled,description:L.b("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:Xn.showToolbar,enum:["always","onHover"],enumDescriptions:[L.b("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),L.b("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion.")],description:L.b("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:Xn.suppressSuggestions,description:L.b("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{enabled:T(yt.enabled,this.defaultValue.enabled),mode:he(yt.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:he(yt.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:T(yt.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:T(yt.keepOnBlur,this.defaultValue.keepOnBlur)}}}]),hn}(d),En=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={enabled:F.a.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:F.a.bracketPairColorizationOptions.independentColorPoolPerBracketType};return mi.call(this,13,"bracketPairColorization",Xn,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Xn.enabled,markdownDescription:L.b("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Xn.independentColorPoolPerBracketType,description:L.b("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{enabled:T(yt.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:T(yt.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}]),hn}(d),It=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};return mi.call(this,14,"guides",Xn,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[L.b("editor.guides.bracketPairs.true","Enables bracket pair guides."),L.b("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),L.b("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Xn.bracketPairs,description:L.b("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[L.b("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),L.b("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),L.b("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Xn.bracketPairsHorizontal,description:L.b("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Xn.highlightActiveBracketPair,description:L.b("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Xn.indentation,description:L.b("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[L.b("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),L.b("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),L.b("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Xn.highlightActiveIndentation,description:L.b("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{bracketPairs:si(yt.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:si(yt.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:T(yt.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:T(yt.indentation,this.defaultValue.indentation),highlightActiveIndentation:si(yt.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}]),hn}(d);function si(Hn,mi,hn){var Xn=hn.indexOf(Hn);return Xn===-1?mi:hn[Xn]}var On=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};return mi.call(this,114,"suggest",Xn,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[L.b("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),L.b("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Xn.insertMode,description:L.b("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Xn.filterGraceful,description:L.b("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Xn.localityBonus,description:L.b("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Xn.shareSuggestSelections,markdownDescription:L.b("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[L.b("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),L.b("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),L.b("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),L.b("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:Xn.selectionMode,markdownDescription:L.b("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Xn.snippetsPreventQuickSuggestions,description:L.b("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Xn.showIcons,description:L.b("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Xn.showStatusBar,description:L.b("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Xn.preview,description:L.b("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Xn.showInlineDetails,description:L.b("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:L.b("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:L.b("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:L.b("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{insertMode:he(yt.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:T(yt.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:T(yt.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:T(yt.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:T(yt.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:he(yt.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:T(yt.showIcons,this.defaultValue.showIcons),showStatusBar:T(yt.showStatusBar,this.defaultValue.showStatusBar),preview:T(yt.preview,this.defaultValue.preview),previewMode:he(yt.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:T(yt.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:T(yt.showMethods,this.defaultValue.showMethods),showFunctions:T(yt.showFunctions,this.defaultValue.showFunctions),showConstructors:T(yt.showConstructors,this.defaultValue.showConstructors),showDeprecated:T(yt.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:T(yt.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:T(yt.showFields,this.defaultValue.showFields),showVariables:T(yt.showVariables,this.defaultValue.showVariables),showClasses:T(yt.showClasses,this.defaultValue.showClasses),showStructs:T(yt.showStructs,this.defaultValue.showStructs),showInterfaces:T(yt.showInterfaces,this.defaultValue.showInterfaces),showModules:T(yt.showModules,this.defaultValue.showModules),showProperties:T(yt.showProperties,this.defaultValue.showProperties),showEvents:T(yt.showEvents,this.defaultValue.showEvents),showOperators:T(yt.showOperators,this.defaultValue.showOperators),showUnits:T(yt.showUnits,this.defaultValue.showUnits),showValues:T(yt.showValues,this.defaultValue.showValues),showConstants:T(yt.showConstants,this.defaultValue.showConstants),showEnums:T(yt.showEnums,this.defaultValue.showEnums),showEnumMembers:T(yt.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:T(yt.showKeywords,this.defaultValue.showKeywords),showWords:T(yt.showWords,this.defaultValue.showWords),showColors:T(yt.showColors,this.defaultValue.showColors),showFiles:T(yt.showFiles,this.defaultValue.showFiles),showReferences:T(yt.showReferences,this.defaultValue.showReferences),showFolders:T(yt.showFolders,this.defaultValue.showFolders),showTypeParameters:T(yt.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:T(yt.showSnippets,this.defaultValue.showSnippets),showUsers:T(yt.showUsers,this.defaultValue.showUsers),showIssues:T(yt.showIssues,this.defaultValue.showIssues)}}}]),hn}(d),Gn=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,109,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:L.b("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){return!en||typeof en!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:T(en.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}]),hn}(d),ci=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,133,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[L.b("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),L.b("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),L.b("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),L.b("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:L.b("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){switch(en){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}},{key:"compute",value:function(en,yt,wn){var gn=yt.get(2);return gn===2?0:wn}}]),hn}(d),Dn=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){return Object(y.a)(this,hn),mi.call(this,141)}return Object(Q.a)(hn,[{key:"compute",value:function(en,yt,wn){var gn=yt.get(140);return{isDominatedByLongLines:en.isDominatedByLongLines,isWordWrapMinified:gn.isWordWrapMinified,isViewportWrapping:gn.isViewportWrapping,wrappingColumn:gn.wrappingColumn}}}]),hn}(x),An=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={enabled:!0,showDropSelector:"afterDrop"};return mi.call(this,34,"dropIntoEditor",Xn,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Xn.enabled,markdownDescription:L.b("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:L.b("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[L.b("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),L.b("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{enabled:T(yt.enabled,this.defaultValue.enabled),showDropSelector:he(yt.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}]),hn}(d),fr=function(Hn){Object(J.a)(hn,Hn);var mi=Object($.a)(hn);function hn(){Object(y.a)(this,hn);var Xn={enabled:!0,showPasteSelector:"afterPaste"};return mi.call(this,82,"pasteAs",Xn,{"editor.pasteAs.enabled":{type:"boolean",default:Xn.enabled,markdownDescription:L.b("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:L.b("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[L.b("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),L.b("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}return Object(Q.a)(hn,[{key:"validate",value:function(en){if(!en||typeof en!="object")return this.defaultValue;var yt=en;return{enabled:T(yt.enabled,this.defaultValue.enabled),showPasteSelector:he(yt.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}]),hn}(d),Vi="Consolas, 'Courier New', monospace",Sr="Menlo, Monaco, 'Courier New', monospace",Pi="'Droid Sans Mono', 'monospace', monospace",Ei={fontFamily:ne.i?Sr:ne.g?Pi:Vi,fontWeight:"normal",fontSize:ne.i?12:14,lineHeight:0,letterSpacing:0},Cr=[];function zn(Hn){return Cr[Hn.id]=Hn,Hn}var dr={acceptSuggestionOnCommitCharacter:zn(new z(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:L.b("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:zn(new ge(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",L.b("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:L.b("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:zn(new w),accessibilityPageSize:zn(new ue(3,"accessibilityPageSize",10,1,1073741824,{description:L.b("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:zn(new ke(4,"ariaLabel",L.b("editorViewAccessibleLabel","Editor content"))),screenReaderAnnounceInlineSuggestion:zn(new z(6,"screenReaderAnnounceInlineSuggestion",!0,{description:L.b("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:zn(new ge(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",L.b("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),L.b("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:L.b("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:zn(new ge(7,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",L.b("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:L.b("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:zn(new ge(8,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",L.b("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:L.b("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:zn(new ge(9,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",L.b("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),L.b("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:L.b("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:zn(new ce(10,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],k,{enumDescriptions:[L.b("editor.autoIndent.none","The editor will not insert indentation automatically."),L.b("editor.autoIndent.keep","The editor will keep the current line's indentation."),L.b("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),L.b("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),L.b("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:L.b("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:zn(new z(11,"automaticLayout",!1)),autoSurround:zn(new ge(12,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[L.b("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),L.b("editor.autoSurround.quotes","Surround with quotes but not brackets."),L.b("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:L.b("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:zn(new En),bracketPairGuides:zn(new It),stickyTabStops:zn(new z(112,"stickyTabStops",!1,{description:L.b("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:zn(new z(15,"codeLens",!0,{description:L.b("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:zn(new ke(16,"codeLensFontFamily","",{description:L.b("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:zn(new ue(17,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:L.b("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:zn(new z(18,"colorDecorators",!0,{description:L.b("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorsLimit:zn(new ue(19,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:L.b("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:zn(new z(20,"columnSelection",!1,{description:L.b("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:zn(new B),contextmenu:zn(new z(22,"contextmenu",!0)),copyWithSyntaxHighlighting:zn(new z(23,"copyWithSyntaxHighlighting",!0,{description:L.b("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:zn(new ce(24,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],Y,{description:L.b("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:zn(new ge(25,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[L.b("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),L.b("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),L.b("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:L.b("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:zn(new ce(26,"cursorStyle",pe.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],me,{description:L.b("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:zn(new ue(27,"cursorSurroundingLines",0,0,1073741824,{description:L.b("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:zn(new ge(28,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[L.b("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),L.b("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:L.b("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:zn(new ue(29,"cursorWidth",0,0,1073741824,{markdownDescription:L.b("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:zn(new z(30,"disableLayerHinting",!1)),disableMonospaceOptimizations:zn(new z(31,"disableMonospaceOptimizations",!1)),domReadOnly:zn(new z(32,"domReadOnly",!1)),dragAndDrop:zn(new z(33,"dragAndDrop",!0,{description:L.b("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:zn(new we),dropIntoEditor:zn(new An),stickyScroll:zn(new Je),experimentalWhitespaceRendering:zn(new ge(36,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[L.b("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),L.b("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),L.b("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:L.b("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:zn(new ke(37,"extraEditorClassName","")),fastScrollSensitivity:zn(new de(38,"fastScrollSensitivity",5,function(Hn){return Hn<=0?5:Hn},{markdownDescription:L.b("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:zn(new Re),fixedOverflowWidgets:zn(new z(40,"fixedOverflowWidgets",!1)),folding:zn(new z(41,"folding",!0,{description:L.b("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:zn(new ge(42,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[L.b("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),L.b("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:L.b("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:zn(new z(43,"foldingHighlight",!0,{description:L.b("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:zn(new z(44,"foldingImportsByDefault",!1,{description:L.b("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:zn(new ue(45,"foldingMaximumRegions",5e3,10,65e3,{description:L.b("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:zn(new z(46,"unfoldOnClickAfterEndOfLine",!1,{description:L.b("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:zn(new ke(47,"fontFamily",Ei.fontFamily,{description:L.b("fontFamily","Controls the font family.")})),fontInfo:zn(new Ne),fontLigatures2:zn(new Oe),fontSize:zn(new Ke),fontWeight:zn(new Xe),fontVariations:zn(new Pe),formatOnPaste:zn(new z(53,"formatOnPaste",!1,{description:L.b("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:zn(new z(54,"formatOnType",!1,{description:L.b("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:zn(new z(55,"glyphMargin",!0,{description:L.b("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:zn(new wt),hideCursorInOverviewRuler:zn(new z(57,"hideCursorInOverviewRuler",!1,{description:L.b("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:zn(new Ct),inDiffEditor:zn(new z(59,"inDiffEditor",!1)),letterSpacing:zn(new de(61,"letterSpacing",Ei.letterSpacing,function(Hn){return de.clamp(Hn,-5,20)},{description:L.b("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:zn(new jt),lineDecorationsWidth:zn(new Te),lineHeight:zn(new fe),lineNumbers:zn(new Fe),lineNumbersMinChars:zn(new ue(66,"lineNumbersMinChars",5,1,300)),linkedEditing:zn(new z(67,"linkedEditing",!1,{description:L.b("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:zn(new z(68,"links",!0,{description:L.b("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:zn(new ge(69,"matchBrackets","always",["always","near","never"],{description:L.b("matchBrackets","Highlight matching brackets.")})),minimap:zn(new ye),mouseStyle:zn(new ge(71,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:zn(new de(72,"mouseWheelScrollSensitivity",1,function(Hn){return Hn===0?1:Hn},{markdownDescription:L.b("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:zn(new z(73,"mouseWheelZoom",!1,{markdownDescription:L.b("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:zn(new z(74,"multiCursorMergeOverlapping",!0,{description:L.b("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:zn(new ce(75,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Ee,{markdownEnumDescriptions:[L.b("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),L.b("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:L.b({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:zn(new ge(76,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[L.b("multiCursorPaste.spread","Each cursor pastes a single line of the text."),L.b("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:L.b("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:zn(new ue(77,"multiCursorLimit",1e4,1,1e5,{markdownDescription:L.b("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:zn(new z(78,"occurrencesHighlight",!0,{description:L.b("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:zn(new z(79,"overviewRulerBorder",!0,{description:L.b("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:zn(new ue(80,"overviewRulerLanes",3,0,3)),padding:zn(new Ge),pasteAs:zn(new fr),parameterHints:zn(new $e),peekWidgetDefaultFocus:zn(new ge(84,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[L.b("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),L.b("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:L.b("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:zn(new z(85,"definitionLinkOpensInPeek",!1,{description:L.b("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:zn(new it),quickSuggestionsDelay:zn(new ue(87,"quickSuggestionsDelay",10,0,1073741824,{description:L.b("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:zn(new z(88,"readOnly",!1)),renameOnType:zn(new z(89,"renameOnType",!1,{description:L.b("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:L.b("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:zn(new z(90,"renderControlCharacters",!0,{description:L.b("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:zn(new ge(91,"renderFinalNewline",ne.g?"dimmed":"on",["off","on","dimmed"],{description:L.b("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:zn(new ge(92,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",L.b("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:L.b("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:zn(new z(93,"renderLineHighlightOnlyWhenFocus",!1,{description:L.b("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:zn(new ge(94,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:zn(new ge(95,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",L.b("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),L.b("renderWhitespace.selection","Render whitespace characters only on selected text."),L.b("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:L.b("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:zn(new ue(96,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:zn(new z(97,"roundedSelection",!0,{description:L.b("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:zn(new Ye),scrollbar:zn(new Kt),scrollBeyondLastColumn:zn(new ue(100,"scrollBeyondLastColumn",4,0,1073741824,{description:L.b("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:zn(new z(101,"scrollBeyondLastLine",!0,{description:L.b("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:zn(new z(102,"scrollPredominantAxis",!0,{description:L.b("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:zn(new z(103,"selectionClipboard",!0,{description:L.b("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:ne.g})),selectionHighlight:zn(new z(104,"selectionHighlight",!0,{description:L.b("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:zn(new z(105,"selectOnLineNumbers",!0)),showFoldingControls:zn(new ge(106,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[L.b("showFoldingControls.always","Always show the folding controls."),L.b("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),L.b("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:L.b("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:zn(new z(107,"showUnused",!0,{description:L.b("showUnused","Controls fading out of unused code.")})),showDeprecated:zn(new z(135,"showDeprecated",!0,{description:L.b("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:zn(new Wt),snippetSuggestions:zn(new ge(108,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[L.b("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),L.b("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),L.b("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),L.b("snippetSuggestions.none","Do not show snippet suggestions.")],description:L.b("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:zn(new Gn),smoothScrolling:zn(new z(110,"smoothScrolling",!1,{description:L.b("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:zn(new ue(113,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:zn(new On),inlineSuggest:zn(new qt),suggestFontSize:zn(new ue(115,"suggestFontSize",0,0,1e3,{markdownDescription:L.b("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:zn(new ue(116,"suggestLineHeight",0,0,1e3,{markdownDescription:L.b("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:zn(new z(117,"suggestOnTriggerCharacters",!0,{description:L.b("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:zn(new ge(118,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[L.b("suggestSelection.first","Always select the first suggestion."),L.b("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),L.b("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:L.b("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:zn(new ge(119,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[L.b("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),L.b("tabCompletion.off","Disable tab completions."),L.b("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:L.b("tabCompletion","Enables tab completions.")})),tabIndex:zn(new ue(120,"tabIndex",0,-1,1073741824)),unicodeHighlight:zn(new Jt),unusualLineTerminators:zn(new ge(122,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[L.b("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),L.b("unusualLineTerminators.off","Unusual line terminators are ignored."),L.b("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:L.b("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:zn(new z(123,"useShadowDOM",!0)),useTabStops:zn(new z(124,"useTabStops",!0,{description:L.b("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:zn(new ge(125,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[L.b("wordBreak.normal","Use the default line break rule."),L.b("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:L.b("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:zn(new ke(126,"wordSeparators",ee.b,{description:L.b("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:zn(new ge(127,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[L.b("wordWrap.off","Lines will never wrap."),L.b("wordWrap.on","Lines will wrap at the viewport width."),L.b({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),L.b({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:L.b({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:zn(new ke(128,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:zn(new ke(129,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:zn(new ue(130,"wordWrapColumn",80,1,1073741824,{markdownDescription:L.b({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:zn(new ge(131,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:zn(new ge(132,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:zn(new I),defaultColorDecorators:zn(new z(142,"defaultColorDecorators",!1,{markdownDescription:L.b("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:zn(new We),tabFocusMode:zn(new z(139,"tabFocusMode",!1,{markdownDescription:L.b("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:zn(new bt),wrappingInfo:zn(new Dn),wrappingIndent:zn(new ci),wrappingStrategy:zn(new mt)}},"/cxE":function(fn,K,a){"use strict";a.d(K,"h",function(){return Q}),a.d(K,"i",function(){return L}),a.d(K,"j",function(){return ne}),a.d(K,"g",function(){return H}),a.d(K,"b",function(){return W}),a.d(K,"d",function(){return F}),a.d(K,"e",function(){return V}),a.d(K,"f",function(){return N}),a.d(K,"c",function(){return U}),a.d(K,"a",function(){return j});var le=a("tS8v"),De=a("yKVA"),E=a("879j"),ve=a("ZKkB"),re=a("fWQN"),J=a("mtLc"),$=function(){function C(){Object(re.a)(this,C),this.listeners=[],this.unexpectedErrorHandler=function(x){setTimeout(function(){throw x.stack?d.isErrorNoTelemetry(x)?new d(x.message+`

`+x.stack):new Error(x.message+`

`+x.stack):x},0)}}return Object(J.a)(C,[{key:"emit",value:function(S){this.listeners.forEach(function(T){T(S)})}},{key:"onUnexpectedError",value:function(S){this.unexpectedErrorHandler(S),this.emit(S)}},{key:"onUnexpectedExternalError",value:function(S){this.unexpectedErrorHandler(S)}}]),C}(),y=new $;function Q(C){H(C)||y.onUnexpectedError(C)}function L(C){H(C)||y.onUnexpectedExternalError(C)}function ne(C){if(C instanceof Error){var x=C.name,S=C.message,T=C.stacktrace||C.stack;return{$isError:!0,name:x,message:S,stack:T,noTelemetry:d.isErrorNoTelemetry(C)}}return C}var ee="Canceled";function H(C){return C instanceof W?!0:C instanceof Error&&C.name===ee&&C.message===ee}var W=function(C){Object(De.a)(S,C);var x=Object(E.a)(S);function S(){var T;return Object(re.a)(this,S),T=x.call(this,ee),T.name=T.message,T}return Object(J.a)(S)}(Object(ve.a)(Error));function F(){var C=new Error(ee);return C.name=C.message,C}function V(C){return C?new Error("Illegal argument: ".concat(C)):new Error("Illegal argument")}function N(C){return C?new Error("Illegal state: ".concat(C)):new Error("Illegal state")}var U=function(C){Object(De.a)(S,C);var x=Object(E.a)(S);function S(T){var z;return Object(re.a)(this,S),z=x.call(this,"NotSupported"),T&&(z.message=T),z}return Object(J.a)(S)}(Object(ve.a)(Error)),d=function(C){Object(De.a)(S,C);var x=Object(E.a)(S);function S(T){var z;return Object(re.a)(this,S),z=x.call(this,T),z.name="CodeExpectedError",z}return Object(J.a)(S,null,[{key:"fromError",value:function(z){if(z instanceof S)return z;var A=new S;return A.message=z.message,A.stack=z.stack,A}},{key:"isErrorNoTelemetry",value:function(z){return z.name==="CodeExpectedError"}}]),S}(Object(ve.a)(Error)),j=function(C){Object(De.a)(S,C);var x=Object(E.a)(S);function S(T){var z;return Object(re.a)(this,S),z=x.call(this,T||"An unexpected bug occurred."),Object.setPrototypeOf(Object(le.a)(z),S.prototype),z}return Object(J.a)(S)}(Object(ve.a)(Error))},"/kV6":function(fn,K,a){"use strict";a.d(K,"a",function(){return y}),a.d(K,"b",function(){return H}),a.d(K,"d",function(){return N}),a.d(K,"c",function(){return U});for(var le=a("tJVT"),De=a("fWQN"),E=a("mtLc"),ve=function(){function d(){Object(De.a)(this,d),this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return Object(E.a)(d,[{key:"define",value:function(C,x){this._keyCodeToStr[C]=x,this._strToKeyCode[x.toLowerCase()]=C}},{key:"keyCodeToStr",value:function(C){return this._keyCodeToStr[C]}},{key:"strToKeyCode",value:function(C){return this._strToKeyCode[C.toLowerCase()]||0}}]),d}(),re=new ve,J=new ve,$=new ve,y=new Array(230),Q={},L=[],ne=Object.create(null),ee=Object.create(null),H=[],W=[],F=0;F<=193;F++)H[F]=-1;for(var V=0;V<=132;V++)W[V]=-1;(function(){for(var d="",j=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",d,d],[1,1,"Hyper",0,d,0,d,d,d],[1,2,"Super",0,d,0,d,d,d],[1,3,"Fn",0,d,0,d,d,d],[1,4,"FnLock",0,d,0,d,d,d],[1,5,"Suspend",0,d,0,d,d,d],[1,6,"Resume",0,d,0,d,d,d],[1,7,"Turbo",0,d,0,d,d,d],[1,8,"Sleep",0,d,0,"VK_SLEEP",d,d],[1,9,"WakeUp",0,d,0,d,d,d],[0,10,"KeyA",31,"A",65,"VK_A",d,d],[0,11,"KeyB",32,"B",66,"VK_B",d,d],[0,12,"KeyC",33,"C",67,"VK_C",d,d],[0,13,"KeyD",34,"D",68,"VK_D",d,d],[0,14,"KeyE",35,"E",69,"VK_E",d,d],[0,15,"KeyF",36,"F",70,"VK_F",d,d],[0,16,"KeyG",37,"G",71,"VK_G",d,d],[0,17,"KeyH",38,"H",72,"VK_H",d,d],[0,18,"KeyI",39,"I",73,"VK_I",d,d],[0,19,"KeyJ",40,"J",74,"VK_J",d,d],[0,20,"KeyK",41,"K",75,"VK_K",d,d],[0,21,"KeyL",42,"L",76,"VK_L",d,d],[0,22,"KeyM",43,"M",77,"VK_M",d,d],[0,23,"KeyN",44,"N",78,"VK_N",d,d],[0,24,"KeyO",45,"O",79,"VK_O",d,d],[0,25,"KeyP",46,"P",80,"VK_P",d,d],[0,26,"KeyQ",47,"Q",81,"VK_Q",d,d],[0,27,"KeyR",48,"R",82,"VK_R",d,d],[0,28,"KeyS",49,"S",83,"VK_S",d,d],[0,29,"KeyT",50,"T",84,"VK_T",d,d],[0,30,"KeyU",51,"U",85,"VK_U",d,d],[0,31,"KeyV",52,"V",86,"VK_V",d,d],[0,32,"KeyW",53,"W",87,"VK_W",d,d],[0,33,"KeyX",54,"X",88,"VK_X",d,d],[0,34,"KeyY",55,"Y",89,"VK_Y",d,d],[0,35,"KeyZ",56,"Z",90,"VK_Z",d,d],[0,36,"Digit1",22,"1",49,"VK_1",d,d],[0,37,"Digit2",23,"2",50,"VK_2",d,d],[0,38,"Digit3",24,"3",51,"VK_3",d,d],[0,39,"Digit4",25,"4",52,"VK_4",d,d],[0,40,"Digit5",26,"5",53,"VK_5",d,d],[0,41,"Digit6",27,"6",54,"VK_6",d,d],[0,42,"Digit7",28,"7",55,"VK_7",d,d],[0,43,"Digit8",29,"8",56,"VK_8",d,d],[0,44,"Digit9",30,"9",57,"VK_9",d,d],[0,45,"Digit0",21,"0",48,"VK_0",d,d],[1,46,"Enter",3,"Enter",13,"VK_RETURN",d,d],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",d,d],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",d,d],[1,49,"Tab",2,"Tab",9,"VK_TAB",d,d],[1,50,"Space",10,"Space",32,"VK_SPACE",d,d],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,d,0,d,d,d],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",d,d],[1,64,"F1",59,"F1",112,"VK_F1",d,d],[1,65,"F2",60,"F2",113,"VK_F2",d,d],[1,66,"F3",61,"F3",114,"VK_F3",d,d],[1,67,"F4",62,"F4",115,"VK_F4",d,d],[1,68,"F5",63,"F5",116,"VK_F5",d,d],[1,69,"F6",64,"F6",117,"VK_F6",d,d],[1,70,"F7",65,"F7",118,"VK_F7",d,d],[1,71,"F8",66,"F8",119,"VK_F8",d,d],[1,72,"F9",67,"F9",120,"VK_F9",d,d],[1,73,"F10",68,"F10",121,"VK_F10",d,d],[1,74,"F11",69,"F11",122,"VK_F11",d,d],[1,75,"F12",70,"F12",123,"VK_F12",d,d],[1,76,"PrintScreen",0,d,0,d,d,d],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",d,d],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",d,d],[1,79,"Insert",19,"Insert",45,"VK_INSERT",d,d],[1,80,"Home",14,"Home",36,"VK_HOME",d,d],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",d,d],[1,82,"Delete",20,"Delete",46,"VK_DELETE",d,d],[1,83,"End",13,"End",35,"VK_END",d,d],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",d,d],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",d],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",d],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",d],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",d],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",d,d],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",d,d],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",d,d],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",d,d],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",d,d],[1,94,"NumpadEnter",3,d,0,d,d,d],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",d,d],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",d,d],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",d,d],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",d,d],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",d,d],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",d,d],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",d,d],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",d,d],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",d,d],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",d,d],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",d,d],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",d,d],[1,107,"ContextMenu",58,"ContextMenu",93,d,d,d],[1,108,"Power",0,d,0,d,d,d],[1,109,"NumpadEqual",0,d,0,d,d,d],[1,110,"F13",71,"F13",124,"VK_F13",d,d],[1,111,"F14",72,"F14",125,"VK_F14",d,d],[1,112,"F15",73,"F15",126,"VK_F15",d,d],[1,113,"F16",74,"F16",127,"VK_F16",d,d],[1,114,"F17",75,"F17",128,"VK_F17",d,d],[1,115,"F18",76,"F18",129,"VK_F18",d,d],[1,116,"F19",77,"F19",130,"VK_F19",d,d],[1,117,"F20",78,"F20",131,"VK_F20",d,d],[1,118,"F21",79,"F21",132,"VK_F21",d,d],[1,119,"F22",80,"F22",133,"VK_F22",d,d],[1,120,"F23",81,"F23",134,"VK_F23",d,d],[1,121,"F24",82,"F24",135,"VK_F24",d,d],[1,122,"Open",0,d,0,d,d,d],[1,123,"Help",0,d,0,d,d,d],[1,124,"Select",0,d,0,d,d,d],[1,125,"Again",0,d,0,d,d,d],[1,126,"Undo",0,d,0,d,d,d],[1,127,"Cut",0,d,0,d,d,d],[1,128,"Copy",0,d,0,d,d,d],[1,129,"Paste",0,d,0,d,d,d],[1,130,"Find",0,d,0,d,d,d],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",d,d],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",d,d],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",d,d],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",d,d],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",d,d],[1,136,"KanaMode",0,d,0,d,d,d],[0,137,"IntlYen",0,d,0,d,d,d],[1,138,"Convert",0,d,0,d,d,d],[1,139,"NonConvert",0,d,0,d,d,d],[1,140,"Lang1",0,d,0,d,d,d],[1,141,"Lang2",0,d,0,d,d,d],[1,142,"Lang3",0,d,0,d,d,d],[1,143,"Lang4",0,d,0,d,d,d],[1,144,"Lang5",0,d,0,d,d,d],[1,145,"Abort",0,d,0,d,d,d],[1,146,"Props",0,d,0,d,d,d],[1,147,"NumpadParenLeft",0,d,0,d,d,d],[1,148,"NumpadParenRight",0,d,0,d,d,d],[1,149,"NumpadBackspace",0,d,0,d,d,d],[1,150,"NumpadMemoryStore",0,d,0,d,d,d],[1,151,"NumpadMemoryRecall",0,d,0,d,d,d],[1,152,"NumpadMemoryClear",0,d,0,d,d,d],[1,153,"NumpadMemoryAdd",0,d,0,d,d,d],[1,154,"NumpadMemorySubtract",0,d,0,d,d,d],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",d,d],[1,156,"NumpadClearEntry",0,d,0,d,d,d],[1,0,d,5,"Ctrl",17,"VK_CONTROL",d,d],[1,0,d,4,"Shift",16,"VK_SHIFT",d,d],[1,0,d,6,"Alt",18,"VK_MENU",d,d],[1,0,d,57,"Meta",91,"VK_COMMAND",d,d],[1,157,"ControlLeft",5,d,0,"VK_LCONTROL",d,d],[1,158,"ShiftLeft",4,d,0,"VK_LSHIFT",d,d],[1,159,"AltLeft",6,d,0,"VK_LMENU",d,d],[1,160,"MetaLeft",57,d,0,"VK_LWIN",d,d],[1,161,"ControlRight",5,d,0,"VK_RCONTROL",d,d],[1,162,"ShiftRight",4,d,0,"VK_RSHIFT",d,d],[1,163,"AltRight",6,d,0,"VK_RMENU",d,d],[1,164,"MetaRight",57,d,0,"VK_RWIN",d,d],[1,165,"BrightnessUp",0,d,0,d,d,d],[1,166,"BrightnessDown",0,d,0,d,d,d],[1,167,"MediaPlay",0,d,0,d,d,d],[1,168,"MediaRecord",0,d,0,d,d,d],[1,169,"MediaFastForward",0,d,0,d,d,d],[1,170,"MediaRewind",0,d,0,d,d,d],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",d,d],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",d,d],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",d,d],[1,174,"Eject",0,d,0,d,d,d],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",d,d],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",d,d],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",d,d],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",d,d],[1,179,"LaunchApp1",0,d,0,"VK_MEDIA_LAUNCH_APP1",d,d],[1,180,"SelectTask",0,d,0,d,d,d],[1,181,"LaunchScreenSaver",0,d,0,d,d,d],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",d,d],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",d,d],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",d,d],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",d,d],[1,186,"BrowserStop",0,d,0,"VK_BROWSER_STOP",d,d],[1,187,"BrowserRefresh",0,d,0,"VK_BROWSER_REFRESH",d,d],[1,188,"BrowserFavorites",0,d,0,"VK_BROWSER_FAVORITES",d,d],[1,189,"ZoomToggle",0,d,0,d,d,d],[1,190,"MailReply",0,d,0,d,d,d],[1,191,"MailForward",0,d,0,d,d,d],[1,192,"MailSend",0,d,0,d,d,d],[1,0,d,114,"KeyInComposition",229,d,d,d],[1,0,d,116,"ABNT_C2",194,"VK_ABNT_C2",d,d],[1,0,d,96,"OEM_8",223,"VK_OEM_8",d,d],[1,0,d,0,d,0,"VK_KANA",d,d],[1,0,d,0,d,0,"VK_HANGUL",d,d],[1,0,d,0,d,0,"VK_JUNJA",d,d],[1,0,d,0,d,0,"VK_FINAL",d,d],[1,0,d,0,d,0,"VK_HANJA",d,d],[1,0,d,0,d,0,"VK_KANJI",d,d],[1,0,d,0,d,0,"VK_CONVERT",d,d],[1,0,d,0,d,0,"VK_NONCONVERT",d,d],[1,0,d,0,d,0,"VK_ACCEPT",d,d],[1,0,d,0,d,0,"VK_MODECHANGE",d,d],[1,0,d,0,d,0,"VK_SELECT",d,d],[1,0,d,0,d,0,"VK_PRINT",d,d],[1,0,d,0,d,0,"VK_EXECUTE",d,d],[1,0,d,0,d,0,"VK_SNAPSHOT",d,d],[1,0,d,0,d,0,"VK_HELP",d,d],[1,0,d,0,d,0,"VK_APPS",d,d],[1,0,d,0,d,0,"VK_PROCESSKEY",d,d],[1,0,d,0,d,0,"VK_PACKET",d,d],[1,0,d,0,d,0,"VK_DBE_SBCSCHAR",d,d],[1,0,d,0,d,0,"VK_DBE_DBCSCHAR",d,d],[1,0,d,0,d,0,"VK_ATTN",d,d],[1,0,d,0,d,0,"VK_CRSEL",d,d],[1,0,d,0,d,0,"VK_EXSEL",d,d],[1,0,d,0,d,0,"VK_EREOF",d,d],[1,0,d,0,d,0,"VK_PLAY",d,d],[1,0,d,0,d,0,"VK_ZOOM",d,d],[1,0,d,0,d,0,"VK_NONAME",d,d],[1,0,d,0,d,0,"VK_PA1",d,d],[1,0,d,0,d,0,"VK_OEM_CLEAR",d,d]],C=[],x=[],S=0,T=j;S<T.length;S++){var z=T[S],A=Object(le.a)(z,9),ue=A[0],be=A[1],de=A[2],ke=A[3],he=A[4],ge=A[5],ce=A[6],k=A[7],w=A[8];if(x[be]||(x[be]=!0,L[be]=de,ne[de]=be,ee[de.toLowerCase()]=be,ue&&(H[be]=ke,ke!==0&&ke!==3&&ke!==5&&ke!==4&&ke!==6&&ke!==57&&(W[ke]=be))),!C[ke]){if(C[ke]=!0,!he)throw new Error("String representation missing for key code ".concat(ke," around scan code ").concat(de));re.define(ke,he),J.define(ke,k||he),$.define(ke,w||k||he)}ge&&(y[ge]=ke),ce&&(Q[ce]=ke)}W[3]=46})();var N;(function(d){function j(A){return re.keyCodeToStr(A)}d.toString=j;function C(A){return re.strToKeyCode(A)}d.fromString=C;function x(A){return J.keyCodeToStr(A)}d.toUserSettingsUS=x;function S(A){return $.keyCodeToStr(A)}d.toUserSettingsGeneral=S;function T(A){return J.strToKeyCode(A)||$.strToKeyCode(A)}d.fromUserSettings=T;function z(A){if(A>=98&&A<=113)return null;switch(A){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return re.keyCodeToStr(A)}d.toElectronAccelerator=z})(N||(N={}));function U(d,j){var C=(j&65535)<<16>>>0;return(d|C)>>>0}},"/qDX":function(fn,K,a){},"/wGt":function(fn,K,a){"use strict";var le=a("wx14"),De=a("rePB"),E=a("ODXe"),ve=a("4i/N"),re=a("TSYQ"),J=a.n(re),$=a("VTBJ"),y=a("q1tI"),Q=a("bTyn"),L=a("TNol"),ne=a("8XRh"),ee=function(me){var I=me.prefixCls,we=me.className,Re=me.style,Oe=me.children,Pe=me.containerRef;return y.createElement(y.Fragment,null,y.createElement("div",{className:J()("".concat(I,"-content"),we),style:Object($.a)({},Re),"aria-modal":"true",role:"dialog",ref:Pe},Oe))},H=ee,W=y.createContext(null),F=W,V=a("4IlW"),N=a("Kwbf"),U=a("MNnm");function d(pe){return typeof pe=="string"&&String(Number(pe))===pe?(Object(N.a)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(pe)):pe}function j(pe){Object(N.a)(!("wrapperClassName"in pe),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),Object(N.a)(Object(U.a)()||!pe.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var C={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function x(pe,me){var I,we,Re,Oe,Pe=pe.prefixCls,Ne=pe.open,Ke=pe.placement,Xe=pe.inline,wt=pe.push,Ct=pe.forceRender,bt=pe.autoFocus,mt=pe.keyboard,jt=pe.rootClassName,Je=pe.rootStyle,Wt=pe.zIndex,Te=pe.className,fe=pe.style,ye=pe.motion,Ee=pe.width,Ge=pe.height,$e=pe.children,We=pe.contentWrapperStyle,it=pe.mask,Fe=pe.maskClosable,He=pe.maskMotion,Ye=pe.maskClassName,ot=pe.maskStyle,Kt=pe.afterOpenChange,gt=pe.onClose,Ft=y.useRef(),Jt=y.useRef(),qt=y.useRef();y.useImperativeHandle(me,function(){return Ft.current});var En=function(dr){var Hn=dr.keyCode,mi=dr.shiftKey;switch(Hn){case V.a.TAB:{if(Hn===V.a.TAB){if(!mi&&document.activeElement===qt.current){var hn;(hn=Jt.current)===null||hn===void 0||hn.focus({preventScroll:!0})}else if(mi&&document.activeElement===Jt.current){var Xn;(Xn=qt.current)===null||Xn===void 0||Xn.focus({preventScroll:!0})}}break}case V.a.ESC:{gt&&mt&&(dr.stopPropagation(),gt(dr));break}}};y.useEffect(function(){if(Ne&&bt){var zn;(zn=Ft.current)===null||zn===void 0||zn.focus({preventScroll:!0})}},[Ne]);var It=y.useState(!1),si=Object(E.a)(It,2),On=si[0],Gn=si[1],ci=y.useContext(F),Dn;wt===!1?Dn={distance:0}:wt===!0?Dn={}:Dn=wt||{};var An=(I=(we=(Re=Dn)===null||Re===void 0?void 0:Re.distance)!==null&&we!==void 0?we:ci==null?void 0:ci.pushDistance)!==null&&I!==void 0?I:180,fr=y.useMemo(function(){return{pushDistance:An,push:function(){Gn(!0)},pull:function(){Gn(!1)}}},[An]);y.useEffect(function(){if(Ne){var zn;ci==null||(zn=ci.push)===null||zn===void 0||zn.call(ci)}else{var dr;ci==null||(dr=ci.pull)===null||dr===void 0||dr.call(ci)}},[Ne]),y.useEffect(function(){return function(){var zn;ci==null||(zn=ci.pull)===null||zn===void 0||zn.call(ci)}},[]);var Vi=it&&y.createElement(ne.b,Object(le.a)({key:"mask"},He,{visible:Ne}),function(zn,dr){var Hn=zn.className,mi=zn.style;return y.createElement("div",{className:J()("".concat(Pe,"-mask"),Hn,Ye),style:Object($.a)(Object($.a)({},mi),ot),onClick:Fe&&Ne?gt:void 0,ref:dr})}),Sr=typeof ye=="function"?ye(Ke):ye,Pi={};if(On&&An)switch(Ke){case"top":Pi.transform="translateY(".concat(An,"px)");break;case"bottom":Pi.transform="translateY(".concat(-An,"px)");break;case"left":Pi.transform="translateX(".concat(An,"px)");break;default:Pi.transform="translateX(".concat(-An,"px)");break}Ke==="left"||Ke==="right"?Pi.width=d(Ee):Pi.height=d(Ge);var Ei=y.createElement(ne.b,Object(le.a)({key:"panel"},Sr,{visible:Ne,forceRender:Ct,onVisibleChanged:function(dr){Kt==null||Kt(dr)},removeOnLeave:!1,leavedClassName:"".concat(Pe,"-content-wrapper-hidden")}),function(zn,dr){var Hn=zn.className,mi=zn.style;return y.createElement("div",{className:J()("".concat(Pe,"-content-wrapper"),Hn),style:Object($.a)(Object($.a)(Object($.a)({},Pi),mi),We)},y.createElement(H,{containerRef:dr,prefixCls:Pe,className:Te,style:fe},$e))}),Cr=Object($.a)({},Je);return Wt&&(Cr.zIndex=Wt),y.createElement(F.Provider,{value:fr},y.createElement("div",{className:J()(Pe,"".concat(Pe,"-").concat(Ke),jt,(Oe={},Object(De.a)(Oe,"".concat(Pe,"-open"),Ne),Object(De.a)(Oe,"".concat(Pe,"-inline"),Xe),Oe)),style:Cr,tabIndex:-1,ref:Ft,onKeyDown:En},Vi,y.createElement("div",{tabIndex:0,ref:Jt,style:C,"aria-hidden":"true","data-sentinel":"start"}),Ei,y.createElement("div",{tabIndex:0,ref:qt,style:C,"aria-hidden":"true","data-sentinel":"end"})))}var S=y.forwardRef(x),T=S,z=function(me){var I=me.open,we=I===void 0?!1:I,Re=me.prefixCls,Oe=Re===void 0?"rc-drawer":Re,Pe=me.placement,Ne=Pe===void 0?"right":Pe,Ke=me.autoFocus,Xe=Ke===void 0?!0:Ke,wt=me.keyboard,Ct=wt===void 0?!0:wt,bt=me.width,mt=bt===void 0?378:bt,jt=me.mask,Je=jt===void 0?!0:jt,Wt=me.maskClosable,Te=Wt===void 0?!0:Wt,fe=me.getContainer,ye=me.forceRender,Ee=me.afterOpenChange,Ge=me.destroyOnClose,$e=y.useState(!1),We=Object(E.a)($e,2),it=We[0],Fe=We[1],He=y.useState(!1),Ye=Object(E.a)(He,2),ot=Ye[0],Kt=Ye[1];Object(L.a)(function(){Kt(!0)},[]);var gt=ot?we:!1,Ft=y.useRef(),Jt=y.useRef();Object(L.a)(function(){gt&&(Jt.current=document.activeElement)},[gt]);var qt=function(si){var On;if(Fe(si),Ee==null||Ee(si),!si&&Jt.current&&!((On=Ft.current)===null||On===void 0?void 0:On.contains(Jt.current))){var Gn;(Gn=Jt.current)===null||Gn===void 0||Gn.focus({preventScroll:!0})}};if(!ye&&!it&&!gt&&Ge)return null;var En=Object($.a)(Object($.a)({},me),{},{open:gt,prefixCls:Oe,placement:Ne,autoFocus:Xe,keyboard:Ct,width:mt,mask:Je,maskClosable:Te,inline:fe===!1,afterOpenChange:qt,ref:Ft});return y.createElement(Q.a,{open:gt||ye||it,autoDestroy:!1,getContainer:fe,autoLock:Je&&(gt||it)},y.createElement(T,En))},A=z,ue=A,be=a("H84U"),de=a("ihLV"),ke=a("EXcs"),he=a("CWQg"),ge=a("+f9I"),ce=function(pe,me){var I={};for(var we in pe)Object.prototype.hasOwnProperty.call(pe,we)&&me.indexOf(we)<0&&(I[we]=pe[we]);if(pe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Re=0,we=Object.getOwnPropertySymbols(pe);Re<we.length;Re++)me.indexOf(we[Re])<0&&Object.prototype.propertyIsEnumerable.call(pe,we[Re])&&(I[we[Re]]=pe[we[Re]]);return I},k=Object(he.a)("default","large"),w={distance:180};function B(pe){var me=pe.width,I=pe.height,we=pe.size,Re=we===void 0?"default":we,Oe=pe.closable,Pe=Oe===void 0?!0:Oe,Ne=pe.mask,Ke=Ne===void 0?!0:Ne,Xe=pe.push,wt=Xe===void 0?w:Xe,Ct=pe.closeIcon,bt=Ct===void 0?y.createElement(ve.a,null):Ct,mt=pe.bodyStyle,jt=pe.drawerStyle,Je=pe.className,Wt=pe.visible,Te=pe.open,fe=pe.children,ye=pe.style,Ee=pe.title,Ge=pe.headerStyle,$e=pe.onClose,We=pe.footer,it=pe.footerStyle,Fe=pe.prefixCls,He=pe.getContainer,Ye=pe.extra,ot=pe.afterVisibleChange,Kt=pe.afterOpenChange,gt=ce(pe,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),Ft=y.useContext(be.b),Jt=Ft.getPopupContainer,qt=Ft.getPrefixCls,En=Ft.direction,It=qt("drawer",Fe),si=He===void 0&&Jt?function(){return Jt(document.body)}:He,On=Pe&&y.createElement("button",{type:"button",onClick:$e,"aria-label":"Close",className:"".concat(It,"-close")},bt);[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach(function(Pi){var Ei=Object(E.a)(Pi,2),Cr=Ei[0],zn=Ei[1]});function Gn(){return!Ee&&!Pe?null:y.createElement("div",{className:J()("".concat(It,"-header"),Object(De.a)({},"".concat(It,"-header-close-only"),Pe&&!Ee&&!Ye)),style:Ge},y.createElement("div",{className:"".concat(It,"-header-title")},On,Ee&&y.createElement("div",{className:"".concat(It,"-title")},Ee)),Ye&&y.createElement("div",{className:"".concat(It,"-extra")},Ye))}function ci(){if(!We)return null;var Pi="".concat(It,"-footer");return y.createElement("div",{className:Pi,style:it},We)}var Dn=J()(Object(De.a)({"no-mask":!Ke},"".concat(It,"-rtl"),En==="rtl"),Je),An=y.useMemo(function(){return me!=null?me:Re==="large"?736:378},[me,Re]),fr=y.useMemo(function(){return I!=null?I:Re==="large"?736:378},[I,Re]),Vi={motionName:Object(ke.c)(It,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},Sr=function(Ei){return{motionName:Object(ke.c)(It,"panel-motion-".concat(Ei)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}};return y.createElement(ge.a,null,y.createElement(de.e,{status:!0,override:!0},y.createElement(ue,Object(le.a)({prefixCls:It,onClose:$e},gt,{open:Te!=null?Te:Wt,mask:Ke,push:wt,width:An,height:fr,rootClassName:Dn,getContainer:si,afterOpenChange:function(Ei){Kt==null||Kt(Ei),ot==null||ot(Ei)},maskMotion:Vi,motion:Sr,rootStyle:ye}),y.createElement("div",{className:"".concat(It,"-wrapper-body"),style:Object(le.a)({},jt)},Gn(),y.createElement("div",{className:"".concat(It,"-body"),style:mt},fe),ci()))))}var Y=K.a=B},"/zsF":function(fn,K,a){"use strict";var le=a("EFp3"),De=a.n(le),E=a("bE4E"),ve=a.n(E)},"0+8E":function(fn,K,a){"use strict";a.d(K,"b",function(){return S}),a.d(K,"a",function(){return z});var le=a("fWQN"),De=a("mtLc"),E=a("tS8v"),ve=a("w4Tj"),re=a("oZsa"),J=a("yKVA"),$=a("879j"),y=a("EffR"),Q=a("4y0V"),L=a("Md8J"),ne=a("WqXY"),ee=a("OBOq"),H=a("GJhM"),W=a("G300"),F=a("MI8n"),V=a("rAM+"),N=function(){function A(ue){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ue.length,ke=arguments.length>3&&arguments[3]!==void 0?arguments[3]:be-1;Object(le.a)(this,A),this.items=ue,this.start=be,this.end=de,this.index=ke}return Object(De.a)(A,[{key:"current",value:function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}},{key:"next",value:function(){return this.index=Math.min(this.index+1,this.end),this.current()}},{key:"previous",value:function(){return this.index=Math.max(this.index-1,this.start-1),this.current()}},{key:"first",value:function(){return this.index=this.start,this.current()}},{key:"last",value:function(){return this.index=this.end-1,this.current()}}]),A}(),U=function(){function A(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;Object(le.a)(this,A),this._initialize(ue),this._limit=be,this._onChange()}return Object(De.a)(A,[{key:"getHistory",value:function(){return this._elements}},{key:"add",value:function(be){this._history.delete(be),this._history.add(be),this._onChange()}},{key:"next",value:function(){return this._navigator.next()}},{key:"previous",value:function(){return this._currentPosition()!==0?this._navigator.previous():null}},{key:"current",value:function(){return this._navigator.current()}},{key:"first",value:function(){return this._navigator.first()}},{key:"last",value:function(){return this._navigator.last()}},{key:"isLast",value:function(){return this._currentPosition()>=this._elements.length-1}},{key:"isNowhere",value:function(){return this._navigator.current()===null}},{key:"has",value:function(be){return this._history.has(be)}},{key:"_onChange",value:function(){this._reduceToLimit();var be=this._elements;this._navigator=new N(be,0,be.length,be.length)}},{key:"_reduceToLimit",value:function(){var be=this._elements;be.length>this._limit&&this._initialize(be.slice(be.length-this._limit))}},{key:"_currentPosition",value:function(){var be=this._navigator.current();return be?this._elements.indexOf(be):-1}},{key:"_initialize",value:function(be){this._history=new Set;var de=Object(V.a)(be),ke;try{for(de.s();!(ke=de.n()).done;){var he=ke.value;this._history.add(he)}}catch(ge){de.e(ge)}finally{de.f()}}},{key:"_elements",get:function(){var be=[];return this._history.forEach(function(de){return be.push(de)}),be}}]),A}(),d=a("qj0h"),j=a("i/Rh"),C=a("3/fG"),x=y.$,S={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0},T=function(A){Object(J.a)(be,A);var ue=Object($.a)(be);function be(de,ke,he){var ge;Object(le.a)(this,be);var ce;ge=ue.call(this),ge.state="idle",ge.maxHeight=Number.POSITIVE_INFINITY,ge._onDidChange=ge._register(new F.b),ge.onDidChange=ge._onDidChange.event,ge._onDidHeightChange=ge._register(new F.b),ge.onDidHeightChange=ge._onDidHeightChange.event,ge.contextViewProvider=ke,ge.options=he,ge.message=null,ge.placeholder=ge.options.placeholder||"",ge.tooltip=(ce=ge.options.tooltip)!==null&&ce!==void 0?ce:ge.placeholder||"",ge.ariaLabel=ge.options.ariaLabel||"",ge.options.validationOptions&&(ge.validation=ge.options.validationOptions.validation),ge.element=y.append(de,x(".monaco-inputbox.idle"));var k=ge.options.flexibleHeight?"textarea":"input",w=y.append(ge.element,x(".ibwrapper"));if(ge.input=y.append(w,x(k+".input.empty")),ge.input.setAttribute("autocorrect","off"),ge.input.setAttribute("autocapitalize","off"),ge.input.setAttribute("spellcheck","false"),ge.onfocus(ge.input,function(){return ge.element.classList.add("synthetic-focus")}),ge.onblur(ge.input,function(){return ge.element.classList.remove("synthetic-focus")}),ge.options.flexibleHeight){ge.maxHeight=typeof ge.options.flexibleMaxHeight=="number"?ge.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,ge.mirror=y.append(w,x("div.mirror")),ge.mirror.innerText="\xA0",ge.scrollableElement=new H.c(ge.element,{vertical:1}),ge.options.flexibleWidth&&(ge.input.setAttribute("wrap","off"),ge.mirror.style.whiteSpace="pre",ge.mirror.style.wordWrap="initial"),y.append(de,ge.scrollableElement.getDomNode()),ge._register(ge.scrollableElement),ge._register(ge.scrollableElement.onScroll(function(pe){return ge.input.scrollTop=pe.scrollTop}));var B=ge._register(new Q.a(document,"selectionchange")),Y=F.c.filter(B.event,function(){var pe=document.getSelection();return(pe==null?void 0:pe.anchorNode)===w});ge._register(Y(ge.updateScrollDimensions,Object(E.a)(ge))),ge._register(ge.onDidHeightChange(ge.updateScrollDimensions,Object(E.a)(ge)))}else ge.input.type=ge.options.type||"text",ge.input.setAttribute("wrap","off");return ge.ariaLabel&&ge.input.setAttribute("aria-label",ge.ariaLabel),ge.placeholder&&!ge.options.showPlaceholderOnFocus&&ge.setPlaceHolder(ge.placeholder),ge.tooltip&&ge.setTooltip(ge.tooltip),ge.oninput(ge.input,function(){return ge.onValueChange()}),ge.onblur(ge.input,function(){return ge.onBlur()}),ge.onfocus(ge.input,function(){return ge.onFocus()}),ge._register(ge.ignoreGesture(ge.input)),setTimeout(function(){return ge.updateMirror()},0),ge.options.actions&&(ge.actionbar=ge._register(new ne.a(ge.element)),ge.actionbar.push(ge.options.actions,{icon:!0,label:!1})),ge.applyStyles(),ge}return Object(De.a)(be,[{key:"onBlur",value:function(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}},{key:"onFocus",value:function(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}},{key:"setPlaceHolder",value:function(ke){this.placeholder=ke,this.input.setAttribute("placeholder",ke)}},{key:"setTooltip",value:function(ke){this.tooltip=ke,this.input.title=ke}},{key:"inputElement",get:function(){return this.input}},{key:"value",get:function(){return this.input.value},set:function(ke){this.input.value!==ke&&(this.input.value=ke,this.onValueChange())}},{key:"height",get:function(){return typeof this.cachedHeight=="number"?this.cachedHeight:y.getTotalHeight(this.element)}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"hasFocus",value:function(){return document.activeElement===this.input}},{key:"select",value:function(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.input.select(),ke&&(this.input.setSelectionRange(ke.start,ke.end),ke.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}},{key:"isSelectionAtEnd",value:function(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}},{key:"enable",value:function(){this.input.removeAttribute("disabled")}},{key:"disable",value:function(){this.blur(),this.input.disabled=!0,this._hideMessage()}},{key:"paddingRight",set:function(ke){this.input.style.width="calc(100% - ".concat(ke,"px)"),this.mirror&&(this.mirror.style.paddingRight=ke+"px")}},{key:"updateScrollDimensions",value:function(){if(!(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)){var ke=this.cachedContentHeight,he=this.cachedHeight,ge=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:ke,height:he}),this.scrollableElement.setScrollPosition({scrollTop:ge})}}},{key:"showMessage",value:function(ke,he){if(!(this.state==="open"&&Object(d.e)(this.message,ke))){this.message=ke,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(ke.type));var ge=this.stylesForType(this.message.type);this.element.style.border="1px solid ".concat(y.asCssValueWithDefault(ge.border,"transparent")),this.message.content&&(this.hasFocus()||he)&&this._showMessage()}}},{key:"hideMessage",value:function(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}},{key:"validate",value:function(){var ke=null;return this.validation&&(ke=this.validation(this.value),ke?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(ke)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),ke==null?void 0:ke.type}},{key:"stylesForType",value:function(ke){var he=this.options.inputBoxStyles;switch(ke){case 1:return{border:he.inputValidationInfoBorder,background:he.inputValidationInfoBackground,foreground:he.inputValidationInfoForeground};case 2:return{border:he.inputValidationWarningBorder,background:he.inputValidationWarningBackground,foreground:he.inputValidationWarningForeground};default:return{border:he.inputValidationErrorBorder,background:he.inputValidationErrorBackground,foreground:he.inputValidationErrorForeground}}}},{key:"classForType",value:function(ke){switch(ke){case 1:return"info";case 2:return"warning";default:return"error"}}},{key:"_showMessage",value:function(){var ke=this;if(!(!this.contextViewProvider||!this.message)){var he,ge=function(){return he.style.width=y.getTotalWidth(ke.element)+"px"};this.contextViewProvider.showContextView({getAnchor:function(){return ke.element},anchorAlignment:1,render:function(w){var B,Y;if(!ke.message)return null;he=y.append(w,x(".monaco-inputbox-container")),ge();var pe={inline:!0,className:"monaco-inputbox-message"},me=ke.message.formatContent?Object(L.b)(ke.message.content,pe):Object(L.c)(ke.message.content,pe);me.classList.add(ke.classForType(ke.message.type));var I=ke.stylesForType(ke.message.type);return me.style.backgroundColor=(B=I.background)!==null&&B!==void 0?B:"",me.style.color=(Y=I.foreground)!==null&&Y!==void 0?Y:"",me.style.border=I.border?"1px solid ".concat(I.border):"",y.append(he,me),null},onHide:function(){ke.state="closed"},layout:ge});var ce;this.message.type===3?ce=C.b("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?ce=C.b("alertWarningMessage","Warning: {0}",this.message.content):ce=C.b("alertInfoMessage","Info: {0}",this.message.content),ee.a(ce),this.state="open"}}},{key:"_hideMessage",value:function(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}},{key:"onValueChange",value:function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}},{key:"updateMirror",value:function(){if(!!this.mirror){var ke=this.value,he=ke.charCodeAt(ke.length-1),ge=he===10?" ":"",ce=(ke+ge).replace(/\u000c/g,"");ce?this.mirror.textContent=ke+ge:this.mirror.innerText="\xA0",this.layout()}}},{key:"applyStyles",value:function(){var ke,he,ge,ce=this.options.inputBoxStyles,k=(ke=ce.inputBackground)!==null&&ke!==void 0?ke:"",w=(he=ce.inputForeground)!==null&&he!==void 0?he:"",B=(ge=ce.inputBorder)!==null&&ge!==void 0?ge:"";this.element.style.backgroundColor=k,this.element.style.color=w,this.input.style.backgroundColor="inherit",this.input.style.color=w,this.element.style.border="1px solid ".concat(y.asCssValueWithDefault(B,"transparent"))}},{key:"layout",value:function(){if(!!this.mirror){var ke=this.cachedContentHeight;this.cachedContentHeight=y.getTotalHeight(this.mirror),ke!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}}},{key:"insertAtCursor",value:function(ke){var he=this.inputElement,ge=he.selectionStart,ce=he.selectionEnd,k=he.value;ge!==null&&ce!==null&&(this.value=k.substr(0,ge)+ke+k.substr(ce),he.setSelectionRange(ge+1,ge+1),this.layout())}},{key:"dispose",value:function(){var ke;this._hideMessage(),this.message=null,(ke=this.actionbar)===null||ke===void 0||ke.dispose(),Object(ve.a)(Object(re.a)(be.prototype),"dispose",this).call(this)}}]),be}(W.a),z=function(A){Object(J.a)(be,A);var ue=Object($.a)(be);function be(de,ke,he){var ge;Object(le.a)(this,be);var ce=C.b({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),k=" or \u21C5 ".concat(ce),w=" (\u21C5 ".concat(ce,")");ge=ue.call(this,de,ke,he),ge._onDidFocus=ge._register(new F.b),ge.onDidFocus=ge._onDidFocus.event,ge._onDidBlur=ge._register(new F.b),ge.onDidBlur=ge._onDidBlur.event,ge.history=new U(he.history,100);var B=function(){if(he.showHistoryHint&&he.showHistoryHint()&&!ge.placeholder.endsWith(k)&&!ge.placeholder.endsWith(w)&&ge.history.getHistory().length){var pe=ge.placeholder.endsWith(")")?k:w,me=ge.placeholder+pe;he.showPlaceholderOnFocus&&document.activeElement!==ge.input?ge.placeholder=me:ge.setPlaceHolder(me)}};return ge.observer=new MutationObserver(function(Y,pe){Y.forEach(function(me){me.target.textContent||B()})}),ge.observer.observe(ge.input,{attributeFilter:["class"]}),ge.onfocus(ge.input,function(){return B()}),ge.onblur(ge.input,function(){var Y=function(me){if(ge.placeholder.endsWith(me)){var I=ge.placeholder.slice(0,ge.placeholder.length-me.length);return he.showPlaceholderOnFocus?ge.placeholder=I:ge.setPlaceHolder(I),!0}else return!1};Y(w)||Y(k)}),ge}return Object(De.a)(be,[{key:"dispose",value:function(){Object(ve.a)(Object(re.a)(be.prototype),"dispose",this).call(this),this.observer&&(this.observer.disconnect(),this.observer=void 0)}},{key:"addToHistory",value:function(ke){this.value&&(ke||this.value!==this.getCurrentValue())&&this.history.add(this.value)}},{key:"isAtLastInHistory",value:function(){return this.history.isLast()}},{key:"isNowhereInHistory",value:function(){return this.history.isNowhere()}},{key:"showNextValue",value:function(){this.history.has(this.value)||this.addToHistory();var ke=this.getNextValue();ke&&(ke=ke===this.value?this.getNextValue():ke),this.value=ke!=null?ke:"",ee.c(this.value?this.value:C.b("clearedInput","Cleared Input"))}},{key:"showPreviousValue",value:function(){this.history.has(this.value)||this.addToHistory();var ke=this.getPreviousValue();ke&&(ke=ke===this.value?this.getPreviousValue():ke),ke&&(this.value=ke,ee.c(this.value))}},{key:"onBlur",value:function(){Object(ve.a)(Object(re.a)(be.prototype),"onBlur",this).call(this),this._onDidBlur.fire()}},{key:"onFocus",value:function(){Object(ve.a)(Object(re.a)(be.prototype),"onFocus",this).call(this),this._onDidFocus.fire()}},{key:"getCurrentValue",value:function(){var ke=this.history.current();return ke||(ke=this.history.last(),this.history.next()),ke}},{key:"getPreviousValue",value:function(){return this.history.previous()||this.history.first()}},{key:"getNextValue",value:function(){return this.history.next()}}]),be}(T)},"0/Sa":function(fn,K,a){"use strict";a.d(K,"a",function(){return ve});var le=a("fWQN"),De=a("mtLc"),E=a("aokT"),ve=function(){function re(){Object(le.a)(this,re)}return Object(De.a)(re,null,[{key:"insert",value:function($,y){return{range:new E.a($.lineNumber,$.column,$.lineNumber,$.column),text:y,forceMoveMarkers:!0}}},{key:"delete",value:function($){return{range:$,text:null}}},{key:"replace",value:function($,y){return{range:$,text:y}}},{key:"replaceMove",value:function($,y){return{range:$,text:y,forceMoveMarkers:!0}}}]),re}()},"09fa":function(fn,K,a){"use strict";a.d(K,"b",function(){return ee}),a.d(K,"c",function(){return H}),a.d(K,"a",function(){return V}),a.d(K,"d",function(){return N});var le=a("rAM+"),De=a("w4Tj"),E=a("oZsa"),ve=a("fWQN"),re=a("mtLc"),J=a("yKVA"),$=a("879j"),y=a("MI8n"),Q=a("pmY6"),L=a("T8No"),ne=a("Cg/j"),ee=Object(ne.c)("logService"),H;(function(j){j[j.Off=0]="Off",j[j.Trace=1]="Trace",j[j.Debug=2]="Debug",j[j.Info=3]="Info",j[j.Warning=4]="Warning",j[j.Error=5]="Error"})(H||(H={}));var W=H.Info,F=function(j){Object(J.a)(x,j);var C=Object($.a)(x);function x(){var S;return Object(ve.a)(this,x),S=C.apply(this,arguments),S.level=W,S._onDidChangeLogLevel=S._register(new y.b),S.onDidChangeLogLevel=S._onDidChangeLogLevel.event,S}return Object(re.a)(x,[{key:"setLevel",value:function(T){this.level!==T&&(this.level=T,this._onDidChangeLogLevel.fire(this.level))}},{key:"getLevel",value:function(){return this.level}},{key:"checkLogLevel",value:function(T){return this.level!==H.Off&&this.level<=T}}]),x}(Q.a),V=function(j){Object(J.a)(x,j);var C=Object($.a)(x);function x(){var S,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Object(ve.a)(this,x),S=C.call(this),S.useColors=z,S.setLevel(T),S}return Object(re.a)(x,[{key:"trace",value:function(T){if(this.checkLogLevel(H.Trace)){for(var z=arguments.length,A=new Array(z>1?z-1:0),ue=1;ue<z;ue++)A[ue-1]=arguments[ue];if(this.useColors){var be;(be=console).log.apply(be,["%cTRACE","color: #888",T].concat(A))}else{var de;(de=console).log.apply(de,[T].concat(A))}}}},{key:"debug",value:function(T){if(this.checkLogLevel(H.Debug)){for(var z=arguments.length,A=new Array(z>1?z-1:0),ue=1;ue<z;ue++)A[ue-1]=arguments[ue];if(this.useColors){var be;(be=console).log.apply(be,["%cDEBUG","background: #eee; color: #888",T].concat(A))}else{var de;(de=console).log.apply(de,[T].concat(A))}}}},{key:"info",value:function(T){if(this.checkLogLevel(H.Info)){for(var z=arguments.length,A=new Array(z>1?z-1:0),ue=1;ue<z;ue++)A[ue-1]=arguments[ue];if(this.useColors){var be;(be=console).log.apply(be,["%c INFO","color: #33f",T].concat(A))}else{var de;(de=console).log.apply(de,[T].concat(A))}}}},{key:"error",value:function(T){if(this.checkLogLevel(H.Error)){for(var z=arguments.length,A=new Array(z>1?z-1:0),ue=1;ue<z;ue++)A[ue-1]=arguments[ue];if(this.useColors){var be;(be=console).log.apply(be,["%c  ERR","color: #f33",T].concat(A))}else{var de;(de=console).error.apply(de,[T].concat(A))}}}},{key:"dispose",value:function(){}}]),x}(F),N=function(j){Object(J.a)(x,j);var C=Object($.a)(x);function x(S){var T;return Object(ve.a)(this,x),T=C.call(this),T.loggers=S,S.length&&T.setLevel(S[0].getLevel()),T}return Object(re.a)(x,[{key:"setLevel",value:function(T){var z=Object(le.a)(this.loggers),A;try{for(z.s();!(A=z.n()).done;){var ue=A.value;ue.setLevel(T)}}catch(be){z.e(be)}finally{z.f()}Object(De.a)(Object(E.a)(x.prototype),"setLevel",this).call(this,T)}},{key:"trace",value:function(T){for(var z=arguments.length,A=new Array(z>1?z-1:0),ue=1;ue<z;ue++)A[ue-1]=arguments[ue];var be=Object(le.a)(this.loggers),de;try{for(be.s();!(de=be.n()).done;){var ke=de.value;ke.trace.apply(ke,[T].concat(A))}}catch(he){be.e(he)}finally{be.f()}}},{key:"debug",value:function(T){for(var z=arguments.length,A=new Array(z>1?z-1:0),ue=1;ue<z;ue++)A[ue-1]=arguments[ue];var be=Object(le.a)(this.loggers),de;try{for(be.s();!(de=be.n()).done;){var ke=de.value;ke.debug.apply(ke,[T].concat(A))}}catch(he){be.e(he)}finally{be.f()}}},{key:"info",value:function(T){for(var z=arguments.length,A=new Array(z>1?z-1:0),ue=1;ue<z;ue++)A[ue-1]=arguments[ue];var be=Object(le.a)(this.loggers),de;try{for(be.s();!(de=be.n()).done;){var ke=de.value;ke.info.apply(ke,[T].concat(A))}}catch(he){be.e(he)}finally{be.f()}}},{key:"error",value:function(T){for(var z=arguments.length,A=new Array(z>1?z-1:0),ue=1;ue<z;ue++)A[ue-1]=arguments[ue];var be=Object(le.a)(this.loggers),de;try{for(be.s();!(de=be.n()).done;){var ke=de.value;ke.error.apply(ke,[T].concat(A))}}catch(he){be.e(he)}finally{be.f()}}},{key:"dispose",value:function(){var T=Object(le.a)(this.loggers),z;try{for(T.s();!(z=T.n()).done;){var A=z.value;A.dispose()}}catch(ue){T.e(ue)}finally{T.f()}}}]),x}(F);function U(j){switch(j){case H.Trace:return"trace";case H.Debug:return"debug";case H.Info:return"info";case H.Warning:return"warn";case H.Error:return"error";case H.Off:return"off"}}var d=new L.c("logLevel",U(H.Info))},"0Lb2":function(fn,K,a){"use strict";a.d(K,"a",function(){return U});var le=a("fWQN"),De=a("mtLc"),E=a("w4Tj"),ve=a("oZsa"),re=a("yKVA"),J=a("879j"),$=a("FWmy"),y=a("MI8n"),Q=a("pmY6"),L=a("qj0h"),ne=a("aokT"),ee=a("oF4g"),H=a("Vxe3"),W=a("R3nR"),F=function(d,j,C,x){var S=arguments.length,T=S<3?j:x===null?x=Object.getOwnPropertyDescriptor(j,C):x,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(d,j,C,x);else for(var A=d.length-1;A>=0;A--)(z=d[A])&&(T=(S<3?z(T):S>3?z(j,C,T):z(j,C))||T);return S>3&&T&&Object.defineProperty(j,C,T),T},V=function(d,j){return function(C,x){j(C,x,d)}},N={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0,findResultLoop:!0},U=function(d){Object(re.a)(C,d);var j=Object(J.a)(C);function C(x){var S,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,ue=arguments.length>4?arguments[4]:void 0;return Object(le.a)(this,C),S=j.call(this),S._audioCueService=z,S._codeEditorService=A,S._accessibilityService=ue,S._onDidUpdate=S._register(new y.b),S._editor=x,S._options=L.g(T,N,!1),S.disposed=!1,S.nextIdx=-1,S.ranges=[],S.ignoreSelectionChange=!1,S.revealFirst=Boolean(S._options.alwaysRevealFirst),S._register(S._editor.onDidUpdateDiff(function(){return S._onDiffUpdated()})),S._options.followsCaret&&S._register(S._editor.getModifiedEditor().onDidChangeCursorPosition(function(be){S.ignoreSelectionChange||(S._updateAccessibilityState(be.position.lineNumber),S.nextIdx=-1)})),S._init(),S}return Object(De.a)(C,[{key:"_init",value:function(){var S=this._editor.getLineChanges()}},{key:"_onDiffUpdated",value:function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}},{key:"_compute",value:function(S){var T=this;this.ranges=[],S&&S.forEach(function(z){!T._options.ignoreCharChanges&&z.charChanges?z.charChanges.forEach(function(A){T.ranges.push({rhs:!0,range:new ne.a(A.modifiedStartLineNumber,A.modifiedStartColumn,A.modifiedEndLineNumber,A.modifiedEndColumn)})}):z.modifiedEndLineNumber===0?T.ranges.push({rhs:!0,range:new ne.a(z.modifiedStartLineNumber,1,z.modifiedStartLineNumber+1,1)}):T.ranges.push({rhs:!0,range:new ne.a(z.modifiedStartLineNumber,1,z.modifiedEndLineNumber+1,1)})}),this.ranges.sort(function(z,A){return ne.a.compareRangesUsingStarts(z.range,A.range)}),this._onDidUpdate.fire(this)}},{key:"_initIdx",value:function(S){var T=!1,z=this._editor.getPosition();if(!z){this.nextIdx=0;return}for(var A=0,ue=this.ranges.length;A<ue&&!T;A++){var be=this.ranges[A].range;z.isBeforeOrEqual(be.getStartPosition())&&(this.nextIdx=A+(S?0:-1),T=!0)}T||(this.nextIdx=S?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}},{key:"_move",value:function(S,T){if($.d(!this.disposed,"Illegal State - diff navigator has been disposed"),!!this.canNavigate()){this.nextIdx===-1?this._initIdx(S):S?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var z=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var A=z.range.getStartPosition();this._editor.setPosition(A),this._editor.revealRangeInCenter(z.range,T),this._updateAccessibilityState(A.lineNumber,!0)}finally{this.ignoreSelectionChange=!1}}}},{key:"_updateAccessibilityState",value:function(S,T){var z,A=(z=this._editor.getModel())===null||z===void 0?void 0:z.modified;if(!!A){var ue=A.getLineDecorations(S).find(function(de){return de.options.className==="line-insert"});if(ue)this._audioCueService.playAudioCue(ee.a.diffLineModified,!0);else if(T)this._audioCueService.playAudioCue(ee.a.diffLineDeleted,!0);else return;var be=this._codeEditorService.getActiveCodeEditor();T&&be&&ue&&this._accessibilityService.isScreenReaderOptimized()&&(be.setSelection({startLineNumber:S,startColumn:0,endLineNumber:S,endColumn:Number.MAX_VALUE}),be.writeScreenReaderContent("diff-navigation"))}}},{key:"canNavigate",value:function(){return this.ranges&&this.ranges.length>0}},{key:"next",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!this.canNavigateNext()||this._move(!0,S)}},{key:"previous",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!this.canNavigatePrevious()||this._move(!1,S)}},{key:"canNavigateNext",value:function(){return this.canNavigateLoop()||this.nextIdx<this.ranges.length-1}},{key:"canNavigatePrevious",value:function(){return this.canNavigateLoop()||this.nextIdx!==0}},{key:"canNavigateLoop",value:function(){return Boolean(this._options.findResultLoop)}},{key:"dispose",value:function(){Object(E.a)(Object(ve.a)(C.prototype),"dispose",this).call(this),this.ranges=[],this.disposed=!0}}]),C}(Q.a);U=F([V(2,ee.b),V(3,H.a),V(4,W.b)],U)},"14gw":function(fn,K,a){},"16Jm":function(fn,K,a){"use strict";a.d(K,"a",function(){return le});function le(De,E){for(var ve=0,re=0,J=De.length;re<J;){var $=De.charCodeAt(re);if($===32)ve++;else if($===9)ve=ve-ve%E+E;else break;re++}return re===J?-1:ve}},"1CjY":function(fn,K,a){"use strict";a.d(K,"a",function(){return E}),a.d(K,"b",function(){return ve}),a.d(K,"c",function(){return re});var le=a("mtLc"),De=a("fWQN"),E;(function(J){J[J.Disabled=0]="Disabled",J[J.EnabledForActive=1]="EnabledForActive",J[J.Enabled=2]="Enabled"})(E||(E={}));var ve=Object(le.a)(function J($,y,Q,L,ne,ee){if(Object(De.a)(this,J),this.visibleColumn=$,this.column=y,this.className=Q,this.horizontalLine=L,this.forWrappedLinesAfterColumn=ne,this.forWrappedLinesBeforeOrAtColumn=ee,$!==-1==(y!==-1))throw new Error}),re=Object(le.a)(function J($,y){Object(De.a)(this,J),this.top=$,this.endColumn=y})},"1nB5":function(fn,K,a){},"1rVb":function(fn,K,a){"use strict";a.d(K,"a",function(){return ve}),a.d(K,"b",function(){return re});var le=a("fWQN"),De=a("mtLc"),E=function(){function J($,y,Q){Object(le.a)(this,J),this._colorZoneBrand=void 0,this.from=$|0,this.to=y|0,this.colorId=Q|0}return Object(De.a)(J,null,[{key:"compare",value:function(y,Q){return y.colorId===Q.colorId?y.from===Q.from?y.to-Q.to:y.from-Q.from:y.colorId-Q.colorId}}]),J}(),ve=function(){function J($,y,Q,L){Object(le.a)(this,J),this._overviewRulerZoneBrand=void 0,this.startLineNumber=$,this.endLineNumber=y,this.heightInLines=Q,this.color=L,this._colorZone=null}return Object(De.a)(J,[{key:"setColorZone",value:function(y){this._colorZone=y}},{key:"getColorZones",value:function(){return this._colorZone}}],[{key:"compare",value:function(y,Q){return y.color===Q.color?y.startLineNumber===Q.startLineNumber?y.heightInLines===Q.heightInLines?y.endLineNumber-Q.endLineNumber:y.heightInLines-Q.heightInLines:y.startLineNumber-Q.startLineNumber:y.color<Q.color?-1:1}}]),J}(),re=function(){function J($){Object(le.a)(this,J),this._getVerticalOffsetForLine=$,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return Object(De.a)(J,[{key:"getId2Color",value:function(){return this._id2Color}},{key:"setZones",value:function(y){this._zones=y,this._zones.sort(ve.compare)}},{key:"setLineHeight",value:function(y){return this._lineHeight===y?!1:(this._lineHeight=y,this._colorZonesInvalid=!0,!0)}},{key:"setPixelRatio",value:function(y){this._pixelRatio=y,this._colorZonesInvalid=!0}},{key:"getDOMWidth",value:function(){return this._domWidth}},{key:"getCanvasWidth",value:function(){return this._domWidth*this._pixelRatio}},{key:"setDOMWidth",value:function(y){return this._domWidth===y?!1:(this._domWidth=y,this._colorZonesInvalid=!0,!0)}},{key:"getDOMHeight",value:function(){return this._domHeight}},{key:"getCanvasHeight",value:function(){return this._domHeight*this._pixelRatio}},{key:"setDOMHeight",value:function(y){return this._domHeight===y?!1:(this._domHeight=y,this._colorZonesInvalid=!0,!0)}},{key:"getOuterHeight",value:function(){return this._outerHeight}},{key:"setOuterHeight",value:function(y){return this._outerHeight===y?!1:(this._outerHeight=y,this._colorZonesInvalid=!0,!0)}},{key:"resolveColorZones",value:function(){for(var y=this._colorZonesInvalid,Q=Math.floor(this._lineHeight),L=Math.floor(this.getCanvasHeight()),ne=Math.floor(this._outerHeight),ee=L/ne,H=Math.floor(4*this._pixelRatio/2),W=[],F=0,V=this._zones.length;F<V;F++){var N=this._zones[F];if(!y){var U=N.getColorZones();if(U){W.push(U);continue}}var d=this._getVerticalOffsetForLine(N.startLineNumber),j=N.heightInLines===0?this._getVerticalOffsetForLine(N.endLineNumber)+Q:d+N.heightInLines*Q,C=Math.floor(ee*d),x=Math.floor(ee*j),S=Math.floor((C+x)/2),T=x-S;T<H&&(T=H),S-T<0&&(S=T),S+T>L&&(S=L-T);var z=N.color,A=this._color2Id[z];A||(A=++this._lastAssignedId,this._color2Id[z]=A,this._id2Color[A]=z);var ue=new E(S-T,S+T,A);N.setColorZone(ue),W.push(ue)}return this._colorZonesInvalid=!1,W.sort(E.compare),W}}]),J}()},"1wcP":function(fn,K,a){},"24hK":function(fn,K,a){"use strict";a.d(K,"a",function(){return re});var le=a("qLMh"),De=a("mtLc"),E=a("fWQN"),ve=Object(De.a)(function J($){Object(E.a)(this,J),this.element=$,this.next=J.Undefined,this.prev=J.Undefined});ve.Undefined=new ve(void 0);var re=function(J){function $(){Object(E.a)(this,$),this._first=ve.Undefined,this._last=ve.Undefined,this._size=0}return Object(De.a)($,[{key:"size",get:function(){return this._size}},{key:"isEmpty",value:function(){return this._first===ve.Undefined}},{key:"clear",value:function(){for(var Q=this._first;Q!==ve.Undefined;){var L=Q.next;Q.prev=ve.Undefined,Q.next=ve.Undefined,Q=L}this._first=ve.Undefined,this._last=ve.Undefined,this._size=0}},{key:"unshift",value:function(Q){return this._insert(Q,!1)}},{key:"push",value:function(Q){return this._insert(Q,!0)}},{key:"_insert",value:function(Q,L){var ne=this,ee=new ve(Q);if(this._first===ve.Undefined)this._first=ee,this._last=ee;else if(L){var H=this._last;this._last=ee,ee.prev=H,H.next=ee}else{var W=this._first;this._first=ee,ee.next=W,W.prev=ee}this._size+=1;var F=!1;return function(){F||(F=!0,ne._remove(ee))}}},{key:"shift",value:function(){if(this._first!==ve.Undefined){var Q=this._first.element;return this._remove(this._first),Q}}},{key:"pop",value:function(){if(this._last!==ve.Undefined){var Q=this._last.element;return this._remove(this._last),Q}}},{key:"_remove",value:function(Q){if(Q.prev!==ve.Undefined&&Q.next!==ve.Undefined){var L=Q.prev;L.next=Q.next,Q.next.prev=L}else Q.prev===ve.Undefined&&Q.next===ve.Undefined?(this._first=ve.Undefined,this._last=ve.Undefined):Q.next===ve.Undefined?(this._last=this._last.prev,this._last.next=ve.Undefined):Q.prev===ve.Undefined&&(this._first=this._first.next,this._first.prev=ve.Undefined);this._size-=1}},{key:J,value:Object(le.a)().mark(function y(){var Q;return Object(le.a)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:Q=this._first;case 1:if(Q===ve.Undefined){ne.next=7;break}return ne.next=4,Q.element;case 4:Q=Q.next,ne.next=1;break;case 7:case"end":return ne.stop()}},y,this)})}]),$}(Symbol.iterator)},"2CIB":function(fn,K,a){"use strict";a.d(K,"b",function(){return De}),a.d(K,"a",function(){return E});var le=[];function De(ve){le.push(ve)}function E(){return le.slice(0)}},"2MPD":function(fn,K,a){},"2Tsy":function(fn,K,a){},"2V9f":function(fn,K,a){},"2oH+":function(fn,K,a){(function(le,De){var E=200,ve="__lodash_hash_undefined__",re=800,J=16,$=9007199254740991,y="[object Arguments]",Q="[object Array]",L="[object AsyncFunction]",ne="[object Boolean]",ee="[object Date]",H="[object Error]",W="[object Function]",F="[object GeneratorFunction]",V="[object Map]",N="[object Number]",U="[object Null]",d="[object Object]",j="[object Proxy]",C="[object RegExp]",x="[object Set]",S="[object String]",T="[object Undefined]",z="[object WeakMap]",A="[object ArrayBuffer]",ue="[object DataView]",be="[object Float32Array]",de="[object Float64Array]",ke="[object Int8Array]",he="[object Int16Array]",ge="[object Int32Array]",ce="[object Uint8Array]",k="[object Uint8ClampedArray]",w="[object Uint16Array]",B="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,pe=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,I={};I[be]=I[de]=I[ke]=I[he]=I[ge]=I[ce]=I[k]=I[w]=I[B]=!0,I[y]=I[Q]=I[A]=I[ne]=I[ue]=I[ee]=I[H]=I[W]=I[V]=I[N]=I[d]=I[C]=I[x]=I[S]=I[z]=!1;var we=typeof le=="object"&&le&&le.Object===Object&&le,Re=typeof self=="object"&&self&&self.Object===Object&&self,Oe=we||Re||Function("return this")(),Pe=K&&!K.nodeType&&K,Ne=Pe&&typeof De=="object"&&De&&!De.nodeType&&De,Ke=Ne&&Ne.exports===Pe,Xe=Ke&&we.process,wt=function(){try{var Sn=Ne&&Ne.require&&Ne.require("util").types;return Sn||Xe&&Xe.binding&&Xe.binding("util")}catch(ri){}}(),Ct=wt&&wt.isTypedArray;function bt(Sn,ri,Vn){switch(Vn.length){case 0:return Sn.call(ri);case 1:return Sn.call(ri,Vn[0]);case 2:return Sn.call(ri,Vn[0],Vn[1]);case 3:return Sn.call(ri,Vn[0],Vn[1],Vn[2])}return Sn.apply(ri,Vn)}function mt(Sn,ri){for(var Vn=-1,Ai=Array(Sn);++Vn<Sn;)Ai[Vn]=ri(Vn);return Ai}function jt(Sn){return function(ri){return Sn(ri)}}function Je(Sn,ri){return Sn==null?void 0:Sn[ri]}function Wt(Sn,ri){return function(Vn){return Sn(ri(Vn))}}var Te=Array.prototype,fe=Function.prototype,ye=Object.prototype,Ee=Oe["__core-js_shared__"],Ge=fe.toString,$e=ye.hasOwnProperty,We=function(){var Sn=/[^.]+$/.exec(Ee&&Ee.keys&&Ee.keys.IE_PROTO||"");return Sn?"Symbol(src)_1."+Sn:""}(),it=ye.toString,Fe=Ge.call(Object),He=RegExp("^"+Ge.call($e).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ye=Ke?Oe.Buffer:void 0,ot=Oe.Symbol,Kt=Oe.Uint8Array,gt=Ye?Ye.allocUnsafe:void 0,Ft=Wt(Object.getPrototypeOf,Object),Jt=Object.create,qt=ye.propertyIsEnumerable,En=Te.splice,It=ot?ot.toStringTag:void 0,si=function(){try{var Sn=pn(Object,"defineProperty");return Sn({},"",{}),Sn}catch(ri){}}(),On=Ye?Ye.isBuffer:void 0,Gn=Math.max,ci=Date.now,Dn=pn(Oe,"Map"),An=pn(Object,"create"),fr=function(){function Sn(){}return function(ri){if(!oi(ri))return{};if(Jt)return Jt(ri);Sn.prototype=ri;var Vn=new Sn;return Sn.prototype=void 0,Vn}}();function Vi(Sn){var ri=-1,Vn=Sn==null?0:Sn.length;for(this.clear();++ri<Vn;){var Ai=Sn[ri];this.set(Ai[0],Ai[1])}}function Sr(){this.__data__=An?An(null):{},this.size=0}function Pi(Sn){var ri=this.has(Sn)&&delete this.__data__[Sn];return this.size-=ri?1:0,ri}function Ei(Sn){var ri=this.__data__;if(An){var Vn=ri[Sn];return Vn===ve?void 0:Vn}return $e.call(ri,Sn)?ri[Sn]:void 0}function Cr(Sn){var ri=this.__data__;return An?ri[Sn]!==void 0:$e.call(ri,Sn)}function zn(Sn,ri){var Vn=this.__data__;return this.size+=this.has(Sn)?0:1,Vn[Sn]=An&&ri===void 0?ve:ri,this}Vi.prototype.clear=Sr,Vi.prototype.delete=Pi,Vi.prototype.get=Ei,Vi.prototype.has=Cr,Vi.prototype.set=zn;function dr(Sn){var ri=-1,Vn=Sn==null?0:Sn.length;for(this.clear();++ri<Vn;){var Ai=Sn[ri];this.set(Ai[0],Ai[1])}}function Hn(){this.__data__=[],this.size=0}function mi(Sn){var ri=this.__data__,Vn=pr(ri,Sn);if(Vn<0)return!1;var Ai=ri.length-1;return Vn==Ai?ri.pop():En.call(ri,Vn,1),--this.size,!0}function hn(Sn){var ri=this.__data__,Vn=pr(ri,Sn);return Vn<0?void 0:ri[Vn][1]}function Xn(Sn){return pr(this.__data__,Sn)>-1}function en(Sn,ri){var Vn=this.__data__,Ai=pr(Vn,Sn);return Ai<0?(++this.size,Vn.push([Sn,ri])):Vn[Ai][1]=ri,this}dr.prototype.clear=Hn,dr.prototype.delete=mi,dr.prototype.get=hn,dr.prototype.has=Xn,dr.prototype.set=en;function yt(Sn){var ri=-1,Vn=Sn==null?0:Sn.length;for(this.clear();++ri<Vn;){var Ai=Sn[ri];this.set(Ai[0],Ai[1])}}function wn(){this.size=0,this.__data__={hash:new Vi,map:new(Dn||dr),string:new Vi}}function gn(Sn){var ri=Dt(this,Sn).delete(Sn);return this.size-=ri?1:0,ri}function rn(Sn){return Dt(this,Sn).get(Sn)}function bn(Sn){return Dt(this,Sn).has(Sn)}function Qn(Sn,ri){var Vn=Dt(this,Sn),Ai=Vn.size;return Vn.set(Sn,ri),this.size+=Vn.size==Ai?0:1,this}yt.prototype.clear=wn,yt.prototype.delete=gn,yt.prototype.get=rn,yt.prototype.has=bn,yt.prototype.set=Qn;function Ci(Sn){var ri=this.__data__=new dr(Sn);this.size=ri.size}function yr(){this.__data__=new dr,this.size=0}function _i(Sn){var ri=this.__data__,Vn=ri.delete(Sn);return this.size=ri.size,Vn}function Bn(Sn){return this.__data__.get(Sn)}function tt(Sn){return this.__data__.has(Sn)}function Lt(Sn,ri){var Vn=this.__data__;if(Vn instanceof dr){var Ai=Vn.__data__;if(!Dn||Ai.length<E-1)return Ai.push([Sn,ri]),this.size=++Vn.size,this;Vn=this.__data__=new yt(Ai)}return Vn.set(Sn,ri),this.size=Vn.size,this}Ci.prototype.clear=yr,Ci.prototype.delete=_i,Ci.prototype.get=Bn,Ci.prototype.has=tt,Ci.prototype.set=Lt;function xi(Sn,ri){var Vn=Pt(Sn),Ai=!Vn&&Tt(Sn),or=!Vn&&!Ai&&Nn(Sn),Zi=!Vn&&!Ai&&!or&&li(Sn),zi=Vn||Ai||or||Zi,Wr=zi?mt(Sn.length,String):[],Ra=Wr.length;for(var Nr in Sn)(ri||$e.call(Sn,Nr))&&!(zi&&(Nr=="length"||or&&(Nr=="offset"||Nr=="parent")||Zi&&(Nr=="buffer"||Nr=="byteLength"||Nr=="byteOffset")||Vt(Nr,Ra)))&&Wr.push(Nr);return Wr}function Qi(Sn,ri,Vn){(Vn!==void 0&&!ut(Sn[ri],Vn)||Vn===void 0&&!(ri in Sn))&&St(Sn,ri,Vn)}function mr(Sn,ri,Vn){var Ai=Sn[ri];(!($e.call(Sn,ri)&&ut(Ai,Vn))||Vn===void 0&&!(ri in Sn))&&St(Sn,ri,Vn)}function pr(Sn,ri){for(var Vn=Sn.length;Vn--;)if(ut(Sn[Vn][0],ri))return Vn;return-1}function St(Sn,ri,Vn){ri=="__proto__"&&si?si(Sn,ri,{configurable:!0,enumerable:!0,value:Vn,writable:!0}):Sn[ri]=Vn}var Gi=tn();function an(Sn){return Sn==null?Sn===void 0?T:U:It&&It in Object(Sn)?ti(Sn):Mr(Sn)}function Qe(Sn){return bi(Sn)&&an(Sn)==y}function Jn(Sn){if(!oi(Sn)||Hi(Sn))return!1;var ri=In(Sn)?He:pe;return ri.test(Ln(Sn))}function ii(Sn){return bi(Sn)&&Wn(Sn.length)&&!!I[an(Sn)]}function Li(Sn){if(!oi(Sn))return Qr(Sn);var ri=qi(Sn),Vn=[];for(var Ai in Sn)Ai=="constructor"&&(ri||!$e.call(Sn,Ai))||Vn.push(Ai);return Vn}function Fn(Sn,ri,Vn,Ai,or){Sn!==ri&&Gi(ri,function(Zi,zi){if(or||(or=new Ci),oi(Zi))jn(Sn,ri,zi,Vn,Fn,Ai,or);else{var Wr=Ai?Ai(Br(Sn,zi),Zi,zi+"",Sn,ri,or):void 0;Wr===void 0&&(Wr=Zi),Qi(Sn,zi,Wr)}},Ki)}function jn(Sn,ri,Vn,Ai,or,Zi,zi){var Wr=Br(Sn,Vn),Ra=Br(ri,Vn),Nr=zi.get(Ra);if(Nr){Qi(Sn,Vn,Nr);return}var xa=Zi?Zi(Wr,Ra,Vn+"",Sn,ri,zi):void 0,Qa=xa===void 0;if(Qa){var ia=Pt(Ra),io=!ia&&Nn(Ra),ro=!ia&&!io&&li(Ra);xa=Ra,ia||io||ro?Pt(Wr)?xa=Wr:Ut(Wr)?xa=et(Wr):io?(Qa=!1,xa=Et(Ra,!0)):ro?(Qa=!1,xa=dn(Ra,!0)):xa=[]:_n(Ra)||Tt(Ra)?(xa=Wr,Tt(Wr)?xa=ki(Wr):(!oi(Wr)||In(Wr))&&(xa=kn(Ra))):Qa=!1}Qa&&(zi.set(Ra,xa),or(xa,Ra,Ai,Zi,zi),zi.delete(Ra)),Qi(Sn,Vn,xa)}function Nt(Sn,ri){return ha(na(Sn,ri,Er),Sn+"")}var Gt=si?function(Sn,ri){return si(Sn,"toString",{configurable:!0,enumerable:!1,value:ir(ri),writable:!0})}:Er;function Et(Sn,ri){if(ri)return Sn.slice();var Vn=Sn.length,Ai=gt?gt(Vn):new Sn.constructor(Vn);return Sn.copy(Ai),Ai}function Rt(Sn){var ri=new Sn.constructor(Sn.byteLength);return new Kt(ri).set(new Kt(Sn)),ri}function dn(Sn,ri){var Vn=ri?Rt(Sn.buffer):Sn.buffer;return new Sn.constructor(Vn,Sn.byteOffset,Sn.length)}function et(Sn,ri){var Vn=-1,Ai=Sn.length;for(ri||(ri=Array(Ai));++Vn<Ai;)ri[Vn]=Sn[Vn];return ri}function Ze(Sn,ri,Vn,Ai){var or=!Vn;Vn||(Vn={});for(var Zi=-1,zi=ri.length;++Zi<zi;){var Wr=ri[Zi],Ra=Ai?Ai(Vn[Wr],Sn[Wr],Wr,Vn,Sn):void 0;Ra===void 0&&(Ra=Sn[Wr]),or?St(Vn,Wr,Ra):mr(Vn,Wr,Ra)}return Vn}function on(Sn){return Nt(function(ri,Vn){var Ai=-1,or=Vn.length,Zi=or>1?Vn[or-1]:void 0,zi=or>2?Vn[2]:void 0;for(Zi=Sn.length>3&&typeof Zi=="function"?(or--,Zi):void 0,zi&&Oi(Vn[0],Vn[1],zi)&&(Zi=or<3?void 0:Zi,or=1),ri=Object(ri);++Ai<or;){var Wr=Vn[Ai];Wr&&Sn(ri,Wr,Ai,Zi)}return ri})}function tn(Sn){return function(ri,Vn,Ai){for(var or=-1,Zi=Object(ri),zi=Ai(ri),Wr=zi.length;Wr--;){var Ra=zi[Sn?Wr:++or];if(Vn(Zi[Ra],Ra,Zi)===!1)break}return ri}}function Dt(Sn,ri){var Vn=Sn.__data__;return Yi(ri)?Vn[typeof ri=="string"?"string":"hash"]:Vn.map}function pn(Sn,ri){var Vn=Je(Sn,ri);return Jn(Vn)?Vn:void 0}function ti(Sn){var ri=$e.call(Sn,It),Vn=Sn[It];try{Sn[It]=void 0;var Ai=!0}catch(Zi){}var or=it.call(Sn);return Ai&&(ri?Sn[It]=Vn:delete Sn[It]),or}function kn(Sn){return typeof Sn.constructor=="function"&&!qi(Sn)?fr(Ft(Sn)):{}}function Vt(Sn,ri){var Vn=typeof Sn;return ri=ri==null?$:ri,!!ri&&(Vn=="number"||Vn!="symbol"&&me.test(Sn))&&Sn>-1&&Sn%1==0&&Sn<ri}function Oi(Sn,ri,Vn){if(!oi(Vn))return!1;var Ai=typeof ri;return(Ai=="number"?Zt(Vn)&&Vt(ri,Vn.length):Ai=="string"&&ri in Vn)?ut(Vn[ri],Sn):!1}function Yi(Sn){var ri=typeof Sn;return ri=="string"||ri=="number"||ri=="symbol"||ri=="boolean"?Sn!=="__proto__":Sn===null}function Hi(Sn){return!!We&&We in Sn}function qi(Sn){var ri=Sn&&Sn.constructor,Vn=typeof ri=="function"&&ri.prototype||ye;return Sn===Vn}function Qr(Sn){var ri=[];if(Sn!=null)for(var Vn in Object(Sn))ri.push(Vn);return ri}function Mr(Sn){return it.call(Sn)}function na(Sn,ri,Vn){return ri=Gn(ri===void 0?Sn.length-1:ri,0),function(){for(var Ai=arguments,or=-1,Zi=Gn(Ai.length-ri,0),zi=Array(Zi);++or<Zi;)zi[or]=Ai[ri+or];or=-1;for(var Wr=Array(ri+1);++or<ri;)Wr[or]=Ai[or];return Wr[ri]=Vn(zi),bt(Sn,this,Wr)}}function Br(Sn,ri){if(!(ri==="constructor"&&typeof Sn[ri]=="function")&&ri!="__proto__")return Sn[ri]}var ha=vn(Gt);function vn(Sn){var ri=0,Vn=0;return function(){var Ai=ci(),or=J-(Ai-Vn);if(Vn=Ai,or>0){if(++ri>=re)return arguments[0]}else ri=0;return Sn.apply(void 0,arguments)}}function Ln(Sn){if(Sn!=null){try{return Ge.call(Sn)}catch(ri){}try{return Sn+""}catch(ri){}}return""}function ut(Sn,ri){return Sn===ri||Sn!==Sn&&ri!==ri}var Tt=Qe(function(){return arguments}())?Qe:function(Sn){return bi(Sn)&&$e.call(Sn,"callee")&&!qt.call(Sn,"callee")},Pt=Array.isArray;function Zt(Sn){return Sn!=null&&Wn(Sn.length)&&!In(Sn)}function Ut(Sn){return bi(Sn)&&Zt(Sn)}var Nn=On||va;function In(Sn){if(!oi(Sn))return!1;var ri=an(Sn);return ri==W||ri==F||ri==L||ri==j}function Wn(Sn){return typeof Sn=="number"&&Sn>-1&&Sn%1==0&&Sn<=$}function oi(Sn){var ri=typeof Sn;return Sn!=null&&(ri=="object"||ri=="function")}function bi(Sn){return Sn!=null&&typeof Sn=="object"}function _n(Sn){if(!bi(Sn)||an(Sn)!=d)return!1;var ri=Ft(Sn);if(ri===null)return!0;var Vn=$e.call(ri,"constructor")&&ri.constructor;return typeof Vn=="function"&&Vn instanceof Vn&&Ge.call(Vn)==Fe}var li=Ct?jt(Ct):ii;function ki(Sn){return Ze(Sn,Ki(Sn))}function Ki(Sn){return Zt(Sn)?xi(Sn,!0):Li(Sn)}var Tr=on(function(Sn,ri,Vn){Fn(Sn,ri,Vn)});function ir(Sn){return function(){return Sn}}function Er(Sn){return Sn}function va(){return!1}De.exports=Tr}).call(this,a("IyRk"),a("hOG+")(fn))},"2qtc":function(fn,K,a){"use strict";var le=a("EFp3"),De=a.n(le),E=a("1wcP"),ve=a.n(E),re=a("+L6B")},"2uFs":function(fn,K,a){},"2zAJ":function(fn,K,a){},"3/fG":function(fn,K,a){"use strict";a.d(K,"b",function(){return L}),a.d(K,"a",function(){return ne});var le=a("qLMh"),De=function(F,V,N,U){function d(j){return j instanceof N?j:new N(function(C){C(j)})}return new(N||(N=Promise))(function(j,C){function x(z){try{T(U.next(z))}catch(A){C(A)}}function S(z){try{T(U.throw(z))}catch(A){C(A)}}function T(z){z.done?j(z.value):d(z.value).then(x,S)}T((U=U.apply(F,V||[])).next())})},E=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0,ve="i-default";function re(F,V){var N;return V.length===0?N=F:N=F.replace(/\{(\d+)\}/g,function(U,d){var j=d[0],C=V[j],x=U;return typeof C=="string"?x=C:(typeof C=="number"||typeof C=="boolean"||C===void 0||C===null)&&(x=String(C)),x}),E&&(N="\uFF3B"+N.replace(/[aouei]/g,"$&$&")+"\uFF3D"),N}function J(F,V){var N=F[V];return N||(N=F["*"],N)?N:null}function $(F){return F.charAt(F.length-1)==="/"?F:F+"/"}function y(F,V,N){return De(this,void 0,void 0,Object(le.a)().mark(function U(){var d,j,C;return Object(le.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return d=$(F)+$(V)+"vscode/"+$(N),S.next=3,fetch(d);case 3:if(j=S.sent,!j.ok){S.next=9;break}return S.next=7,j.json();case 7:return C=S.sent,S.abrupt("return",C);case 9:throw new Error("".concat(j.status," - ").concat(j.statusText));case 10:case"end":return S.stop()}},U)}))}function Q(F){return function(V,N){var U=Array.prototype.slice.call(arguments,2);return re(F[V],U)}}function L(F,V){for(var N=arguments.length,U=new Array(N>2?N-2:0),d=2;d<N;d++)U[d-2]=arguments[d];return re(V,U)}function ne(F){}function ee(F){E=F}function H(F,V){var N;return{localize:Q(V[F]),getConfiguredDefaultLocale:(N=V.getConfiguredDefaultLocale)!==null&&N!==void 0?N:function(U){}}}function W(F,V,N,U){var d=this,j,C=(j=U["vs/nls"])!==null&&j!==void 0?j:{};if(!F||F.length===0)return N({localize:L,getConfiguredDefaultLocale:function(){var ue;return(ue=C.availableLanguages)===null||ue===void 0?void 0:ue["*"]}});var x=C.availableLanguages?J(C.availableLanguages,F):null,S=x===null||x===ve,T=".nls";S||(T=T+"."+x);var z=function(ue){Array.isArray(ue)?ue.localize=Q(ue):ue.localize=Q(ue[F]),ue.getConfiguredDefaultLocale=function(){var be;return(be=C.availableLanguages)===null||be===void 0?void 0:be["*"]},N(ue)};typeof C.loadBundle=="function"?C.loadBundle(F,x,function(A,ue){A?V([F+".nls"],z):z(ue)}):C.translationServiceUrl&&!S?function(){return De(d,void 0,void 0,Object(le.a)().mark(function A(){var ue,be,de,ke;return Object(le.a)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.prev=0,ge.next=3,y(C.translationServiceUrl,x,F);case 3:return be=ge.sent,ge.abrupt("return",z(be));case 7:if(ge.prev=7,ge.t0=ge.catch(0),x.includes("-")){ge.next=12;break}return console.error(ge.t0),ge.abrupt("return",V([F+".nls"],z));case 12:return ge.prev=12,de=x.split("-")[0],ge.next=16,y(C.translationServiceUrl,de,F);case 16:return ke=ge.sent,(ue=C.availableLanguages)!==null&&ue!==void 0||(C.availableLanguages={}),C.availableLanguages["*"]=de,ge.abrupt("return",z(ke));case 22:return ge.prev=22,ge.t1=ge.catch(12),console.error(ge.t1),ge.abrupt("return",V([F+".nls"],z));case 26:case"end":return ge.stop()}},A,null,[[0,7],[12,22]])}))}():V([F+T],z,function(A){if(T===".nls"){console.error("Failed trying to load default language strings",A);return}console.error("Failed to load message bundle for language ".concat(x,". Falling back to the default language:"),A),V([F+".nls"],z)})}},"3IFt":function(fn,K,a){"use strict";a.d(K,"y",function(){return re}),a.d(K,"z",function(){return J}),a.d(K,"v",function(){return ne}),a.d(K,"u",function(){return ee}),a.d(K,"E",function(){return H}),a.d(K,"x",function(){return W}),a.d(K,"a",function(){return F}),a.d(K,"A",function(){return V}),a.d(K,"w",function(){return d}),a.d(K,"C",function(){return T}),a.d(K,"B",function(){return z}),a.d(K,"D",function(){return be}),a.d(K,"H",function(){return ce}),a.d(K,"F",function(){return k}),a.d(K,"I",function(){return w}),a.d(K,"G",function(){return B}),a.d(K,"b",function(){return Y}),a.d(K,"c",function(){return pe}),a.d(K,"d",function(){return me}),a.d(K,"e",function(){return I}),a.d(K,"f",function(){return we}),a.d(K,"g",function(){return Re}),a.d(K,"h",function(){return Oe}),a.d(K,"o",function(){return Pe}),a.d(K,"p",function(){return Ne}),a.d(K,"q",function(){return Ke}),a.d(K,"r",function(){return Xe}),a.d(K,"s",function(){return wt}),a.d(K,"t",function(){return Ct}),a.d(K,"i",function(){return bt}),a.d(K,"j",function(){return mt}),a.d(K,"k",function(){return jt}),a.d(K,"l",function(){return Je}),a.d(K,"m",function(){return Wt}),a.d(K,"n",function(){return Te});var le=a("3/fG"),De=a("zrhQ"),E=a("MD5Z"),ve=a("t9D7"),re=Object(E.Fc)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},le.b("lineHighlight","Background color for the highlight of line at the cursor position.")),J=Object(E.Fc)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:E.w},le.b("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),$=Object(E.Fc)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},le.b("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),y=Object(E.Fc)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:E.b,hcLight:E.b},le.b("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),Q=Object(E.Fc)("editor.symbolHighlightBackground",{dark:E.K,light:E.K,hcDark:null,hcLight:null},le.b("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),L=Object(E.Fc)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:E.b,hcLight:E.b},le.b("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),ne=Object(E.Fc)("editorCursor.foreground",{dark:"#AEAFAD",light:De.a.black,hcDark:De.a.white,hcLight:"#0F4A85"},le.b("caret","Color of the editor cursor.")),ee=Object(E.Fc)("editorCursor.background",null,le.b("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),H=Object(E.Fc)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},le.b("editorWhitespaces","Color of whitespace characters in the editor.")),W=Object(E.Fc)("editorIndentGuide.background",{dark:H,light:H,hcDark:H,hcLight:H},le.b("editorIndentGuides","Color of the editor indentation guides.")),F=Object(E.Fc)("editorIndentGuide.activeBackground",{dark:H,light:H,hcDark:H,hcLight:H},le.b("editorActiveIndentGuide","Color of the active editor indentation guides.")),V=Object(E.Fc)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:De.a.white,hcLight:"#292929"},le.b("editorLineNumbers","Color of editor line numbers.")),N=Object(E.Fc)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:E.b,hcLight:E.b},le.b("editorActiveLineNumber","Color of editor active line number"),!1,le.b("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),U=Object(E.Fc)("editorLineNumber.activeForeground",{dark:N,light:N,hcDark:N,hcLight:N},le.b("editorActiveLineNumber","Color of editor active line number")),d=Object(E.Fc)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},le.b("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),j=Object(E.Fc)("editorRuler.foreground",{dark:"#5A5A5A",light:De.a.lightgrey,hcDark:De.a.white,hcLight:"#292929"},le.b("editorRuler","Color of the editor rulers.")),C=Object(E.Fc)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},le.b("editorCodeLensForeground","Foreground color of editor CodeLens")),x=Object(E.Fc)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},le.b("editorBracketMatchBackground","Background color behind matching brackets")),S=Object(E.Fc)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:E.w,hcLight:E.w},le.b("editorBracketMatchBorder","Color for matching brackets boxes")),T=Object(E.Fc)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},le.b("editorOverviewRulerBorder","Color of the overview ruler border.")),z=Object(E.Fc)("editorOverviewRuler.background",null,le.b("editorOverviewRulerBackground","Background color of the editor overview ruler.")),A=Object(E.Fc)("editorGutter.background",{dark:E.F,light:E.F,hcDark:E.F,hcLight:E.F},le.b("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),ue=Object(E.Fc)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:De.a.fromHex("#fff").transparent(.8),hcLight:E.w},le.b("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),be=Object(E.Fc)("editorUnnecessaryCode.opacity",{dark:De.a.fromHex("#000a"),light:De.a.fromHex("#0007"),hcDark:null,hcLight:null},le.b("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),de=Object(E.Fc)("editorGhostText.border",{dark:null,light:null,hcDark:De.a.fromHex("#fff").transparent(.8),hcLight:De.a.fromHex("#292929").transparent(.8)},le.b("editorGhostTextBorder","Border color of ghost text in the editor.")),ke=Object(E.Fc)("editorGhostText.foreground",{dark:De.a.fromHex("#ffffff56"),light:De.a.fromHex("#0007"),hcDark:null,hcLight:null},le.b("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),he=Object(E.Fc)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},le.b("editorGhostTextBackground","Background color of the ghost text in the editor.")),ge=new De.a(new De.d(0,122,204,.6)),ce=Object(E.Fc)("editorOverviewRuler.rangeHighlightForeground",{dark:ge,light:ge,hcDark:ge,hcLight:ge},le.b("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),k=Object(E.Fc)("editorOverviewRuler.errorForeground",{dark:new De.a(new De.d(255,18,18,.7)),light:new De.a(new De.d(255,18,18,.7)),hcDark:new De.a(new De.d(255,50,50,1)),hcLight:"#B5200D"},le.b("overviewRuleError","Overview ruler marker color for errors.")),w=Object(E.Fc)("editorOverviewRuler.warningForeground",{dark:E.fb,light:E.fb,hcDark:E.eb,hcLight:E.eb},le.b("overviewRuleWarning","Overview ruler marker color for warnings.")),B=Object(E.Fc)("editorOverviewRuler.infoForeground",{dark:E.U,light:E.U,hcDark:E.T,hcLight:E.T},le.b("overviewRuleInfo","Overview ruler marker color for infos.")),Y=Object(E.Fc)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},le.b("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),pe=Object(E.Fc)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},le.b("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),me=Object(E.Fc)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},le.b("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),I=Object(E.Fc)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),we=Object(E.Fc)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Re=Object(E.Fc)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Oe=Object(E.Fc)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new De.a(new De.d(255,18,18,.8)),light:new De.a(new De.d(255,18,18,.8)),hcDark:new De.a(new De.d(255,50,50,1)),hcLight:""},le.b("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Pe=Object(E.Fc)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Ne=Object(E.Fc)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Ke=Object(E.Fc)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Xe=Object(E.Fc)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),wt=Object(E.Fc)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Ct=Object(E.Fc)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),bt=Object(E.Fc)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),mt=Object(E.Fc)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),jt=Object(E.Fc)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Je=Object(E.Fc)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Wt=Object(E.Fc)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Te=Object(E.Fc)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},le.b("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),fe=Object(E.Fc)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},le.b("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),ye=Object(E.Fc)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},le.b("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));Object(ve.e)(function(Ee,Ge){var $e=Ee.getColor(E.F),We=Ee.getColor(re),it=We&&!We.isTransparent()?We:$e;it&&Ge.addRule(".monaco-editor .inputarea.ime-input { background-color: ".concat(it,"; }"))})},"3Rsk":function(fn,K,a){"use strict";a.d(K,"a",function(){return re});var le=a("fWQN"),De=a("mtLc"),E=a("MI8n"),ve=a("ic2d"),re={JSONContribution:"base.contributions.json"};function J(Q){return Q.length>0&&Q.charAt(Q.length-1)==="#"?Q.substring(0,Q.length-1):Q}var $=function(){function Q(){Object(le.a)(this,Q),this._onDidChangeSchema=new E.b,this.schemasById={}}return Object(De.a)(Q,[{key:"registerSchema",value:function(ne,ee){this.schemasById[J(ne)]=ee,this._onDidChangeSchema.fire(ne)}},{key:"notifySchemaChanged",value:function(ne){this._onDidChangeSchema.fire(ne)}}]),Q}(),y=new $;ve.a.add(re.JSONContribution,y)},"3fZx":function(fn,K,a){"use strict";a.d(K,"a",function(){return le});var le=Symbol("MicrotaskDelay")},"3j9d":function(fn,K,a){"use strict";var le=a("J+/v"),De=a("MoRW"),E=a("1OyB"),ve=a("vuIU"),re=a("Ji7U"),J=a("LK+K"),$=a("nKUr"),y=a.n($),Q=a("q1tI"),L=a.n(Q),ne=function(ee){Object(re.a)(W,ee);var H=Object(J.a)(W);function W(){var F;Object(E.a)(this,W);for(var V=arguments.length,N=new Array(V),U=0;U<V;U++)N[U]=arguments[U];return F=H.call.apply(H,[this].concat(N)),F.state={hasError:!1,errorInfo:""},F}return Object(ve.a)(W,[{key:"componentDidCatch",value:function(V,N){console.log(V,N)}},{key:"render",value:function(){return this.state.hasError?Object($.jsx)(De.a,{status:"error",title:"Something went wrong.",extra:this.state.errorInfo}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(V){return{hasError:!0,errorInfo:V.message}}}]),W}(L.a.Component);K.a=ne},"44XX":function(fn,K,a){"use strict";a.d(K,"a",function(){return ue}),a.d(K,"b",function(){return be});var le=a("oBTY"),De=a("rAM+"),E=a("w4Tj"),ve=a("oZsa"),re=a("yKVA"),J=a("879j"),$=a("fWQN"),y=a("mtLc"),Q=a("EffR"),L=a("4y0V"),ne=a("cMOf"),ee=a("GJhM"),H=a("6OMU"),W=a("zrhQ"),F=a("MI8n"),V=a("pmY6"),N=a("Sdnv"),U=a("QuOb"),d=a("746U"),j=a("51B1"),C=a.n(j),x={separatorBorder:W.a.transparent},S=function(){function de(ke,he,ge,ce){Object($.a)(this,de),this.container=ke,this.view=he,this.disposable=ce,this._cachedVisibleSize=void 0,typeof ge=="number"?(this._size=ge,this._cachedVisibleSize=void 0,ke.classList.add("visible")):(this._size=0,this._cachedVisibleSize=ge.cachedVisibleSize)}return Object(y.a)(de,[{key:"size",get:function(){return this._size},set:function(he){this._size=he}},{key:"visible",get:function(){return typeof this._cachedVisibleSize=="undefined"}},{key:"setVisible",value:function(he,ge){var ce,k;he!==this.visible&&(he?(this.size=Object(N.c)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof ge=="number"?ge:this.size,this.size=0),this.container.classList.toggle("visible",he),(k=(ce=this.view).setVisible)===null||k===void 0||k.call(ce,he))}},{key:"minimumSize",get:function(){return this.visible?this.view.minimumSize:0}},{key:"viewMinimumSize",get:function(){return this.view.minimumSize}},{key:"maximumSize",get:function(){return this.visible?this.view.maximumSize:0}},{key:"viewMaximumSize",get:function(){return this.view.maximumSize}},{key:"priority",get:function(){return this.view.priority}},{key:"proportionalLayout",get:function(){var he;return(he=this.view.proportionalLayout)!==null&&he!==void 0?he:!0}},{key:"snap",get:function(){return!!this.view.snap}},{key:"enabled",set:function(he){this.container.style.pointerEvents=he?"":"none"}},{key:"layout",value:function(he,ge){this.layoutContainer(he),this.view.layout(this.size,he,ge)}},{key:"dispose",value:function(){return this.disposable.dispose(),this.view}}]),de}(),T=function(de){Object(re.a)(he,de);var ke=Object(J.a)(he);function he(){return Object($.a)(this,he),ke.apply(this,arguments)}return Object(y.a)(he,[{key:"layoutContainer",value:function(ce){this.container.style.top="".concat(ce,"px"),this.container.style.height="".concat(this.size,"px")}}]),he}(S),z=function(de){Object(re.a)(he,de);var ke=Object(J.a)(he);function he(){return Object($.a)(this,he),ke.apply(this,arguments)}return Object(y.a)(he,[{key:"layoutContainer",value:function(ce){this.container.style.left="".concat(ce,"px"),this.container.style.width="".concat(this.size,"px")}}]),he}(S),A;(function(de){de[de.Idle=0]="Idle",de[de.Busy=1]="Busy"})(A||(A={}));var ue;(function(de){de.Distribute={type:"distribute"};function ke(ge){return{type:"split",index:ge}}de.Split=ke;function he(ge){return{type:"invisible",cachedVisibleSize:ge}}de.Invisible=he})(ue||(ue={}));var be=function(de){Object(re.a)(he,de);var ke=Object(J.a)(he);function he(ge){var ce,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object($.a)(this,he);var w,B,Y,pe,me;ce=ke.call(this),ce.size=0,ce.contentSize=0,ce.proportions=void 0,ce.viewItems=[],ce.sashItems=[],ce.state=A.Idle,ce._onDidSashChange=ce._register(new F.b),ce._onDidSashReset=ce._register(new F.b),ce._startSnappingEnabled=!0,ce._endSnappingEnabled=!0,ce.onDidSashChange=ce._onDidSashChange.event,ce.onDidSashReset=ce._onDidSashReset.event,ce.orientation=(w=k.orientation)!==null&&w!==void 0?w:0,ce.inverseAltBehavior=(B=k.inverseAltBehavior)!==null&&B!==void 0?B:!1,ce.proportionalLayout=(Y=k.proportionalLayout)!==null&&Y!==void 0?Y:!0,ce.getSashOrthogonalSize=k.getSashOrthogonalSize,ce.el=document.createElement("div"),ce.el.classList.add("monaco-split-view2"),ce.el.classList.add(ce.orientation===0?"vertical":"horizontal"),ge.appendChild(ce.el),ce.sashContainer=Object(Q.append)(ce.el,Object(Q.$)(".sash-container")),ce.viewContainer=Object(Q.$)(".split-view-container"),ce.scrollable=new U.a({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:Q.scheduleAtNextAnimationFrame}),ce.scrollableElement=ce._register(new ee.d(ce.viewContainer,{vertical:ce.orientation===0?(pe=k.scrollbarVisibility)!==null&&pe!==void 0?pe:1:2,horizontal:ce.orientation===1?(me=k.scrollbarVisibility)!==null&&me!==void 0?me:1:2},ce.scrollable));var I=ce._register(new L.a(ce.viewContainer,"scroll")).event;return ce._register(I(function(we){var Re=ce.scrollableElement.getScrollPosition(),Oe=Math.abs(ce.viewContainer.scrollLeft-Re.scrollLeft)<=1?void 0:ce.viewContainer.scrollLeft,Pe=Math.abs(ce.viewContainer.scrollTop-Re.scrollTop)<=1?void 0:ce.viewContainer.scrollTop;(Oe!==void 0||Pe!==void 0)&&ce.scrollableElement.setScrollPosition({scrollLeft:Oe,scrollTop:Pe})})),ce.onDidScroll=ce.scrollableElement.onScroll,ce._register(ce.onDidScroll(function(we){we.scrollTopChanged&&(ce.viewContainer.scrollTop=we.scrollTop),we.scrollLeftChanged&&(ce.viewContainer.scrollLeft=we.scrollLeft)})),Object(Q.append)(ce.el,ce.scrollableElement.getDomNode()),ce.style(k.styles||x),k.descriptor&&(ce.size=k.descriptor.size,k.descriptor.views.forEach(function(we,Re){var Oe=d.k(we.visible)||we.visible?we.size:{type:"invisible",cachedVisibleSize:we.size},Pe=we.view;ce.doAddView(Pe,Oe,Re,!0)}),ce.contentSize=ce.viewItems.reduce(function(we,Re){return we+Re.size},0),ce.saveProportions()),ce}return Object(y.a)(he,[{key:"orthogonalStartSash",get:function(){return this._orthogonalStartSash},set:function(ce){var k=Object(De.a)(this.sashItems),w;try{for(k.s();!(w=k.n()).done;){var B=w.value;B.sash.orthogonalStartSash=ce}}catch(Y){k.e(Y)}finally{k.f()}this._orthogonalStartSash=ce}},{key:"orthogonalEndSash",get:function(){return this._orthogonalEndSash},set:function(ce){var k=Object(De.a)(this.sashItems),w;try{for(k.s();!(w=k.n()).done;){var B=w.value;B.sash.orthogonalEndSash=ce}}catch(Y){k.e(Y)}finally{k.f()}this._orthogonalEndSash=ce}},{key:"startSnappingEnabled",get:function(){return this._startSnappingEnabled},set:function(ce){this._startSnappingEnabled!==ce&&(this._startSnappingEnabled=ce,this.updateSashEnablement())}},{key:"endSnappingEnabled",get:function(){return this._endSnappingEnabled},set:function(ce){this._endSnappingEnabled!==ce&&(this._endSnappingEnabled=ce,this.updateSashEnablement())}},{key:"style",value:function(ce){ce.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",ce.separatorBorder.toString()))}},{key:"addView",value:function(ce,k){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.viewItems.length,B=arguments.length>3?arguments[3]:void 0;this.doAddView(ce,k,w,B)}},{key:"layout",value:function(ce,k){var w=this,B=Math.max(this.size,this.contentSize);if(this.size=ce,this.layoutContext=k,this.proportions){for(var I=0,we=0;we<this.viewItems.length;we++){var Re=this.viewItems[we],Oe=this.proportions[we];typeof Oe=="number"?I+=Oe:ce-=Re.size}for(var Pe=0;Pe<this.viewItems.length;Pe++){var Ne=this.viewItems[Pe],Ke=this.proportions[Pe];typeof Ke=="number"&&(Ne.size=Object(N.c)(Math.round(Ke*ce/I),Ne.minimumSize,Ne.maximumSize))}}else{var Y=Object(H.z)(this.viewItems.length),pe=Y.filter(function(Xe){return w.viewItems[Xe].priority===1}),me=Y.filter(function(Xe){return w.viewItems[Xe].priority===2});this.resize(this.viewItems.length-1,ce-B,void 0,pe,me)}this.distributeEmptySpace(),this.layoutViews()}},{key:"saveProportions",value:function(){var ce=this;this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(function(k){return k.proportionalLayout?k.size/ce.contentSize:void 0}))}},{key:"onSashStart",value:function(ce){var k=this,w=ce.sash,B=ce.start,Y=ce.alt,pe=Object(De.a)(this.viewItems),me;try{for(pe.s();!(me=pe.n()).done;){var I=me.value;I.enabled=!1}}catch(Pe){pe.e(Pe)}finally{pe.f()}var we=this.sashItems.findIndex(function(Pe){return Pe.sash===w}),Re=Object(V.h)(Object(Q.addDisposableListener)(document.body,"keydown",function(Pe){return Oe(k.sashDragState.current,Pe.altKey)}),Object(Q.addDisposableListener)(document.body,"keyup",function(){return Oe(k.sashDragState.current,!1)})),Oe=function(Ne,Ke){var Xe=k.viewItems.map(function(Ft){return Ft.size}),wt=Number.NEGATIVE_INFINITY,Ct=Number.POSITIVE_INFINITY;if(k.inverseAltBehavior&&(Ke=!Ke),Ke){var bt=we===k.sashItems.length-1;if(bt){var mt=k.viewItems[we];wt=(mt.minimumSize-mt.size)/2,Ct=(mt.maximumSize-mt.size)/2}else{var jt=k.viewItems[we+1];wt=(jt.size-jt.maximumSize)/2,Ct=(jt.size-jt.minimumSize)/2}}var Je,Wt;if(!Ke){var Te=Object(H.z)(we,-1),fe=Object(H.z)(we+1,k.viewItems.length),ye=Te.reduce(function(Ft,Jt){return Ft+(k.viewItems[Jt].minimumSize-Xe[Jt])},0),Ee=Te.reduce(function(Ft,Jt){return Ft+(k.viewItems[Jt].viewMaximumSize-Xe[Jt])},0),Ge=fe.length===0?Number.POSITIVE_INFINITY:fe.reduce(function(Ft,Jt){return Ft+(Xe[Jt]-k.viewItems[Jt].minimumSize)},0),$e=fe.length===0?Number.NEGATIVE_INFINITY:fe.reduce(function(Ft,Jt){return Ft+(Xe[Jt]-k.viewItems[Jt].viewMaximumSize)},0),We=Math.max(ye,$e),it=Math.min(Ge,Ee),Fe=k.findFirstSnapIndex(Te),He=k.findFirstSnapIndex(fe);if(typeof Fe=="number"){var Ye=k.viewItems[Fe],ot=Math.floor(Ye.viewMinimumSize/2);Je={index:Fe,limitDelta:Ye.visible?We-ot:We+ot,size:Ye.size}}if(typeof He=="number"){var Kt=k.viewItems[He],gt=Math.floor(Kt.viewMinimumSize/2);Wt={index:He,limitDelta:Kt.visible?it+gt:it-gt,size:Kt.size}}}k.sashDragState={start:Ne,current:Ne,index:we,sizes:Xe,minDelta:wt,maxDelta:Ct,alt:Ke,snapBefore:Je,snapAfter:Wt,disposable:Re}};Oe(B,Y)}},{key:"onSashChange",value:function(ce){var k=ce.current,w=this.sashDragState,B=w.index,Y=w.start,pe=w.sizes,me=w.alt,I=w.minDelta,we=w.maxDelta,Re=w.snapBefore,Oe=w.snapAfter;this.sashDragState.current=k;var Pe=k-Y,Ne=this.resize(B,Pe,pe,void 0,void 0,I,we,Re,Oe);if(me){var Ke=B===this.sashItems.length-1,Xe=this.viewItems.map(function(Je){return Je.size}),wt=Ke?B:B+1,Ct=this.viewItems[wt],bt=Ct.size-Ct.maximumSize,mt=Ct.size-Ct.minimumSize,jt=Ke?B-1:B+1;this.resize(jt,-Ne,Xe,void 0,void 0,bt,mt)}this.distributeEmptySpace(),this.layoutViews()}},{key:"onSashEnd",value:function(ce){this._onDidSashChange.fire(ce),this.sashDragState.disposable.dispose(),this.saveProportions();var k=Object(De.a)(this.viewItems),w;try{for(k.s();!(w=k.n()).done;){var B=w.value;B.enabled=!0}}catch(Y){k.e(Y)}finally{k.f()}}},{key:"onViewChange",value:function(ce,k){var w=this.viewItems.indexOf(ce);w<0||w>=this.viewItems.length||(k=typeof k=="number"?k:ce.size,k=Object(N.c)(k,ce.minimumSize,ce.maximumSize),this.inverseAltBehavior&&w>0?(this.resize(w-1,Math.floor((ce.size-k)/2)),this.distributeEmptySpace(),this.layoutViews()):(ce.size=k,this.relayout([w],void 0)))}},{key:"resizeView",value:function(ce,k){var w=this;if(this.state!==A.Idle)throw new Error("Cant modify splitview");if(this.state=A.Busy,!(ce<0||ce>=this.viewItems.length)){var B=Object(H.z)(this.viewItems.length).filter(function(I){return I!==ce}),Y=[].concat(Object(le.a)(B.filter(function(I){return w.viewItems[I].priority===1})),[ce]),pe=B.filter(function(I){return w.viewItems[I].priority===2}),me=this.viewItems[ce];k=Math.round(k),k=Object(N.c)(k,me.minimumSize,Math.min(me.maximumSize,this.size)),me.size=k,this.relayout(Y,pe),this.state=A.Idle}}},{key:"distributeViewSizes",value:function(){var ce=this,k=[],w=0,B=Object(De.a)(this.viewItems),Y;try{for(B.s();!(Y=B.n()).done;){var pe=Y.value;pe.maximumSize-pe.minimumSize>0&&(k.push(pe),w+=pe.size)}}catch(Ke){B.e(Ke)}finally{B.f()}for(var me=Math.floor(w/k.length),I=0,we=k;I<we.length;I++){var Re=we[I];Re.size=Object(N.c)(me,Re.minimumSize,Re.maximumSize)}var Oe=Object(H.z)(this.viewItems.length),Pe=Oe.filter(function(Ke){return ce.viewItems[Ke].priority===1}),Ne=Oe.filter(function(Ke){return ce.viewItems[Ke].priority===2});this.relayout(Pe,Ne)}},{key:"getViewSize",value:function(ce){return ce<0||ce>=this.viewItems.length?-1:this.viewItems[ce].size}},{key:"doAddView",value:function(ce,k){var w=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.viewItems.length,Y=arguments.length>3?arguments[3]:void 0;if(this.state!==A.Idle)throw new Error("Cant modify splitview");this.state=A.Busy;var pe=Object(Q.$)(".split-view-view");B===this.viewItems.length?this.viewContainer.appendChild(pe):this.viewContainer.insertBefore(pe,this.viewContainer.children.item(B));var me=ce.onDidChange(function(ye){return w.onViewChange(Oe,ye)}),I=Object(V.l)(function(){return w.viewContainer.removeChild(pe)}),we=Object(V.h)(me,I),Re;typeof k=="number"?Re=k:k.type==="split"?Re=this.getViewSize(k.index)/2:k.type==="invisible"?Re={cachedVisibleSize:k.cachedVisibleSize}:Re=ce.minimumSize;var Oe=this.orientation===0?new T(pe,ce,Re,we):new z(pe,ce,Re,we);if(this.viewItems.splice(B,0,Oe),this.viewItems.length>1){var Pe={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},Ne=this.orientation===0?new ne.b(this.sashContainer,{getHorizontalSashTop:function(Ee){return w.getSashPosition(Ee)},getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},Pe),{orientation:1})):new ne.b(this.sashContainer,{getVerticalSashLeft:function(Ee){return w.getSashPosition(Ee)},getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},Pe),{orientation:0})),Ke=this.orientation===0?function(ye){return{sash:Ne,start:ye.startY,current:ye.currentY,alt:ye.altKey}}:function(ye){return{sash:Ne,start:ye.startX,current:ye.currentX,alt:ye.altKey}},Xe=F.c.map(Ne.onDidStart,Ke),wt=Xe(this.onSashStart,this),Ct=F.c.map(Ne.onDidChange,Ke),bt=Ct(this.onSashChange,this),mt=F.c.map(Ne.onDidEnd,function(){return w.sashItems.findIndex(function(ye){return ye.sash===Ne})}),jt=mt(this.onSashEnd,this),Je=Ne.onDidReset(function(){var ye=w.sashItems.findIndex(function(it){return it.sash===Ne}),Ee=Object(H.z)(ye,-1),Ge=Object(H.z)(ye+1,w.viewItems.length),$e=w.findFirstSnapIndex(Ee),We=w.findFirstSnapIndex(Ge);typeof $e=="number"&&!w.viewItems[$e].visible||typeof We=="number"&&!w.viewItems[We].visible||w._onDidSashReset.fire(ye)}),Wt=Object(V.h)(wt,bt,jt,Je,Ne),Te={sash:Ne,disposable:Wt};this.sashItems.splice(B-1,0,Te)}pe.appendChild(ce.element);var fe;typeof k!="number"&&k.type==="split"&&(fe=[k.index]),Y||this.relayout([B],fe),this.state=A.Idle,!Y&&typeof k!="number"&&k.type==="distribute"&&this.distributeViewSizes()}},{key:"relayout",value:function(ce,k){var w=this.viewItems.reduce(function(B,Y){return B+Y.size},0);this.resize(this.viewItems.length-1,this.size-w,void 0,ce,k),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}},{key:"resize",value:function(ce,k){var w=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.viewItems.map(function(Gn){return Gn.size}),Y=arguments.length>3?arguments[3]:void 0,pe=arguments.length>4?arguments[4]:void 0,me=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Number.NEGATIVE_INFINITY,I=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Number.POSITIVE_INFINITY,we=arguments.length>7?arguments[7]:void 0,Re=arguments.length>8?arguments[8]:void 0;if(ce<0||ce>=this.viewItems.length)return 0;var Oe=Object(H.z)(ce,-1),Pe=Object(H.z)(ce+1,this.viewItems.length);if(pe){var Ne=Object(De.a)(pe),Ke;try{for(Ne.s();!(Ke=Ne.n()).done;){var Xe=Ke.value;Object(H.x)(Oe,Xe),Object(H.x)(Pe,Xe)}}catch(Gn){Ne.e(Gn)}finally{Ne.f()}}if(Y){var wt=Object(De.a)(Y),Ct;try{for(wt.s();!(Ct=wt.n()).done;){var bt=Ct.value;Object(H.w)(Oe,bt),Object(H.w)(Pe,bt)}}catch(Gn){wt.e(Gn)}finally{wt.f()}}var mt=Oe.map(function(Gn){return w.viewItems[Gn]}),jt=Oe.map(function(Gn){return B[Gn]}),Je=Pe.map(function(Gn){return w.viewItems[Gn]}),Wt=Pe.map(function(Gn){return B[Gn]}),Te=Oe.reduce(function(Gn,ci){return Gn+(w.viewItems[ci].minimumSize-B[ci])},0),fe=Oe.reduce(function(Gn,ci){return Gn+(w.viewItems[ci].maximumSize-B[ci])},0),ye=Pe.length===0?Number.POSITIVE_INFINITY:Pe.reduce(function(Gn,ci){return Gn+(B[ci]-w.viewItems[ci].minimumSize)},0),Ee=Pe.length===0?Number.NEGATIVE_INFINITY:Pe.reduce(function(Gn,ci){return Gn+(B[ci]-w.viewItems[ci].maximumSize)},0),Ge=Math.max(Te,Ee,me),$e=Math.min(ye,fe,I),We=!1;if(we){var it=this.viewItems[we.index],Fe=k>=we.limitDelta;We=Fe!==it.visible,it.setVisible(Fe,we.size)}if(!We&&Re){var He=this.viewItems[Re.index],Ye=k<Re.limitDelta;We=Ye!==He.visible,He.setVisible(Ye,Re.size)}if(We)return this.resize(ce,k,B,Y,pe,me,I);k=Object(N.c)(k,Ge,$e);for(var ot=0,Kt=k;ot<mt.length;ot++){var gt=mt[ot],Ft=Object(N.c)(jt[ot]+Kt,gt.minimumSize,gt.maximumSize),Jt=Ft-jt[ot];Kt-=Jt,gt.size=Ft}for(var qt=0,En=k;qt<Je.length;qt++){var It=Je[qt],si=Object(N.c)(Wt[qt]-En,It.minimumSize,It.maximumSize),On=si-Wt[qt];En+=On,It.size=si}return k}},{key:"distributeEmptySpace",value:function(ce){var k=this,w=this.viewItems.reduce(function(bt,mt){return bt+mt.size},0),B=this.size-w,Y=Object(H.z)(this.viewItems.length-1,-1),pe=Y.filter(function(bt){return k.viewItems[bt].priority===1}),me=Y.filter(function(bt){return k.viewItems[bt].priority===2}),I=Object(De.a)(me),we;try{for(I.s();!(we=I.n()).done;){var Re=we.value;Object(H.x)(Y,Re)}}catch(bt){I.e(bt)}finally{I.f()}var Oe=Object(De.a)(pe),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var Ne=Pe.value;Object(H.w)(Y,Ne)}}catch(bt){Oe.e(bt)}finally{Oe.f()}typeof ce=="number"&&Object(H.w)(Y,ce);for(var Ke=0;B!==0&&Ke<Y.length;Ke++){var Xe=this.viewItems[Y[Ke]],wt=Object(N.c)(Xe.size+B,Xe.minimumSize,Xe.maximumSize),Ct=wt-Xe.size;B-=Ct,Xe.size=wt}}},{key:"layoutViews",value:function(){this.contentSize=this.viewItems.reduce(function(Y,pe){return Y+pe.size},0);var ce=0,k=Object(De.a)(this.viewItems),w;try{for(k.s();!(w=k.n()).done;){var B=w.value;B.layout(ce,this.layoutContext),ce+=B.size}}catch(Y){k.e(Y)}finally{k.f()}this.sashItems.forEach(function(Y){return Y.sash.layout()}),this.updateSashEnablement(),this.updateScrollableElement()}},{key:"updateScrollableElement",value:function(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}},{key:"updateSashEnablement",value:function(){var ce=!1,k=this.viewItems.map(function(mt){return ce=mt.size-mt.minimumSize>0||ce});ce=!1;var w=this.viewItems.map(function(mt){return ce=mt.maximumSize-mt.size>0||ce}),B=Object(le.a)(this.viewItems).reverse();ce=!1;var Y=B.map(function(mt){return ce=mt.size-mt.minimumSize>0||ce}).reverse();ce=!1;for(var pe=B.map(function(mt){return ce=mt.maximumSize-mt.size>0||ce}).reverse(),me=0,I=0;I<this.sashItems.length;I++){var we=this.sashItems[I].sash,Re=this.viewItems[I];me+=Re.size;var Oe=!(k[I]&&pe[I+1]),Pe=!(w[I]&&Y[I+1]);if(Oe&&Pe){var Ne=Object(H.z)(I,-1),Ke=Object(H.z)(I+1,this.viewItems.length),Xe=this.findFirstSnapIndex(Ne),wt=this.findFirstSnapIndex(Ke),Ct=typeof Xe=="number"&&!this.viewItems[Xe].visible,bt=typeof wt=="number"&&!this.viewItems[wt].visible;Ct&&Y[I]&&(me>0||this.startSnappingEnabled)?we.state=1:bt&&k[I]&&(me<this.contentSize||this.endSnappingEnabled)?we.state=2:we.state=0}else Oe&&!Pe?we.state=1:!Oe&&Pe?we.state=2:we.state=3}}},{key:"getSashPosition",value:function(ce){for(var k=0,w=0;w<this.sashItems.length;w++)if(k+=this.viewItems[w].size,this.sashItems[w].sash===ce)return k;return 0}},{key:"findFirstSnapIndex",value:function(ce){var k=Object(De.a)(ce),w;try{for(k.s();!(w=k.n()).done;){var B=w.value,Y=this.viewItems[B];if(!!Y.visible&&Y.snap)return B}}catch(Re){k.e(Re)}finally{k.f()}var pe=Object(De.a)(ce),me;try{for(pe.s();!(me=pe.n()).done;){var I=me.value,we=this.viewItems[I];if(we.visible&&we.maximumSize-we.minimumSize>0)return;if(!we.visible&&we.snap)return I}}catch(Re){pe.e(Re)}finally{pe.f()}}},{key:"dispose",value:function(){var ce;(ce=this.sashDragState)===null||ce===void 0||ce.disposable.dispose(),Object(V.i)(this.viewItems),this.viewItems=[],this.sashItems.forEach(function(k){return k.disposable.dispose()}),this.sashItems=[],Object(E.a)(Object(ve.a)(he.prototype),"dispose",this).call(this)}}]),he}(V.a)},"49sm":function(fn,K){var a={}.toString;fn.exports=Array.isArray||function(le){return a.call(le)=="[object Array]"}},"4rho":function(fn,K,a){},"4y0V":function(fn,K,a){"use strict";a.d(K,"a",function(){return ve});var le=a("fWQN"),De=a("mtLc"),E=a("MI8n"),ve=function(){function re(J,$,y){var Q=this;Object(le.a)(this,re);var L=function(ee){return Q.emitter.fire(ee)};this.emitter=new E.b({onWillAddFirstListener:function(){return J.addEventListener($,L,y)},onDidRemoveLastListener:function(){return J.removeEventListener($,L,y)}})}return Object(De.a)(re,[{key:"event",get:function(){return this.emitter.event}},{key:"dispose",value:function(){this.emitter.dispose()}}]),re}()},"51B1":function(fn,K,a){},"51su":function(fn,K,a){"use strict";a.d(K,"a",function(){return E});var le=a("8LL/"),De=a.n(le),E="monaco-mouse-cursor-text"},"5IQS":function(fn,K,a){"use strict";a.d(K,"d",function(){return ne}),a.d(K,"c",function(){return ee}),a.d(K,"e",function(){return d}),a.d(K,"a",function(){return j}),a.d(K,"b",function(){return C});var le=a("oBTY"),De=a("yKVA"),E=a("879j"),ve=a("fWQN"),re=a("mtLc"),J=a("/cxE"),$=a("JLfW"),y=a("pvvD"),Q=a("lwGy"),L=function(){function x(S){Object(ve.a)(this,x),this._length=S}return Object(re.a)(x,[{key:"length",get:function(){return this._length}}]),x}(),ne=function(x){Object(De.a)(T,x);var S=Object(E.a)(T);function T(z,A,ue,be,de){var ke;return Object(ve.a)(this,T),ke=S.call(this,z),ke.openingBracket=A,ke.child=ue,ke.closingBracket=be,ke.missingOpeningBracketIds=de,ke}return Object(re.a)(T,[{key:"kind",get:function(){return 2}},{key:"listHeight",get:function(){return 0}},{key:"childrenLength",get:function(){return 3}},{key:"getChild",value:function(A){switch(A){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}},{key:"children",get:function(){var A=[];return A.push(this.openingBracket),this.child&&A.push(this.child),this.closingBracket&&A.push(this.closingBracket),A}},{key:"canBeReused",value:function(A){return!(this.closingBracket===null||A.intersects(this.missingOpeningBracketIds))}},{key:"deepClone",value:function(){return new T(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}},{key:"computeMinIndentation",value:function(A,ue){return this.child?this.child.computeMinIndentation(Object(y.a)(A,this.openingBracket.length),ue):Number.MAX_SAFE_INTEGER}}],[{key:"create",value:function(A,ue,be){var de=A.length;return ue&&(de=Object(y.a)(de,ue.length)),be&&(de=Object(y.a)(de,be.length)),new T(de,A,ue,be,ue?ue.missingOpeningBracketIds:Q.b.getEmpty())}}]),T}(L),ee=function(x){Object(De.a)(T,x);var S=Object(E.a)(T);function T(z,A,ue){var be;return Object(ve.a)(this,T),be=S.call(this,z),be.listHeight=A,be._missingOpeningBracketIds=ue,be.cachedMinIndentation=-1,be}return Object(re.a)(T,[{key:"kind",get:function(){return 4}},{key:"missingOpeningBracketIds",get:function(){return this._missingOpeningBracketIds}},{key:"throwIfImmutable",value:function(){}},{key:"makeLastElementMutable",value:function(){this.throwIfImmutable();var A=this.childrenLength;if(A!==0){var ue=this.getChild(A-1),be=ue.kind===4?ue.toMutable():ue;return ue!==be&&this.setChild(A-1,be),be}}},{key:"makeFirstElementMutable",value:function(){this.throwIfImmutable();var A=this.childrenLength;if(A!==0){var ue=this.getChild(0),be=ue.kind===4?ue.toMutable():ue;return ue!==be&&this.setChild(0,be),be}}},{key:"canBeReused",value:function(A){if(A.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;for(var ue=this;ue.kind===4;){var be=ue.childrenLength;if(be===0)throw new J.a;ue=ue.getChild(be-1)}return ue.canBeReused(A)}},{key:"handleChildrenChanged",value:function(){this.throwIfImmutable();for(var A=this.childrenLength,ue=this.getChild(0).length,be=this.getChild(0).missingOpeningBracketIds,de=1;de<A;de++){var ke=this.getChild(de);ue=Object(y.a)(ue,ke.length),be=be.merge(ke.missingOpeningBracketIds)}this._length=ue,this._missingOpeningBracketIds=be,this.cachedMinIndentation=-1}},{key:"computeMinIndentation",value:function(A,ue){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;for(var be=Number.MAX_SAFE_INTEGER,de=A,ke=0;ke<this.childrenLength;ke++){var he=this.getChild(ke);he&&(be=Math.min(be,he.computeMinIndentation(de,ue)),de=Object(y.a)(de,he.length))}return this.cachedMinIndentation=be,be}}],[{key:"create23",value:function(A,ue,be){var de=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,ke=A.length,he=A.missingOpeningBracketIds;if(A.listHeight!==ue.listHeight)throw new Error("Invalid list heights");if(ke=Object(y.a)(ke,ue.length),he=he.merge(ue.missingOpeningBracketIds),be){if(A.listHeight!==be.listHeight)throw new Error("Invalid list heights");ke=Object(y.a)(ke,be.length),he=he.merge(be.missingOpeningBracketIds)}return de?new W(ke,A.listHeight+1,A,ue,be,he):new H(ke,A.listHeight+1,A,ue,be,he)}},{key:"getEmpty",value:function(){return new V(y.m,0,[],Q.b.getEmpty())}}]),T}(L),H=function(x){Object(De.a)(T,x);var S=Object(E.a)(T);function T(z,A,ue,be,de,ke){var he;return Object(ve.a)(this,T),he=S.call(this,z,A,ke),he._item1=ue,he._item2=be,he._item3=de,he}return Object(re.a)(T,[{key:"childrenLength",get:function(){return this._item3!==null?3:2}},{key:"getChild",value:function(A){switch(A){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}},{key:"setChild",value:function(A,ue){switch(A){case 0:this._item1=ue;return;case 1:this._item2=ue;return;case 2:this._item3=ue;return}throw new Error("Invalid child index")}},{key:"children",get:function(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}},{key:"item1",get:function(){return this._item1}},{key:"item2",get:function(){return this._item2}},{key:"item3",get:function(){return this._item3}},{key:"deepClone",value:function(){return new T(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}},{key:"appendChildOfSameHeight",value:function(A){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=A,this.handleChildrenChanged()}},{key:"unappendChild",value:function(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var A=this._item3;return this._item3=null,this.handleChildrenChanged(),A}},{key:"prependChildOfSameHeight",value:function(A){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=A,this.handleChildrenChanged()}},{key:"unprependChild",value:function(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var A=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),A}},{key:"toMutable",value:function(){return this}}]),T}(ee),W=function(x){Object(De.a)(T,x);var S=Object(E.a)(T);function T(){return Object(ve.a)(this,T),S.apply(this,arguments)}return Object(re.a)(T,[{key:"toMutable",value:function(){return new H(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}},{key:"throwIfImmutable",value:function(){throw new Error("this instance is immutable")}}]),T}(H),F=function(x){Object(De.a)(T,x);var S=Object(E.a)(T);function T(z,A,ue,be){var de;return Object(ve.a)(this,T),de=S.call(this,z,A,be),de._children=ue,de}return Object(re.a)(T,[{key:"childrenLength",get:function(){return this._children.length}},{key:"getChild",value:function(A){return this._children[A]}},{key:"setChild",value:function(A,ue){this._children[A]=ue}},{key:"children",get:function(){return this._children}},{key:"deepClone",value:function(){for(var A=new Array(this._children.length),ue=0;ue<this._children.length;ue++)A[ue]=this._children[ue].deepClone();return new T(this.length,this.listHeight,A,this.missingOpeningBracketIds)}},{key:"appendChildOfSameHeight",value:function(A){this.throwIfImmutable(),this._children.push(A),this.handleChildrenChanged()}},{key:"unappendChild",value:function(){this.throwIfImmutable();var A=this._children.pop();return this.handleChildrenChanged(),A}},{key:"prependChildOfSameHeight",value:function(A){this.throwIfImmutable(),this._children.unshift(A),this.handleChildrenChanged()}},{key:"unprependChild",value:function(){this.throwIfImmutable();var A=this._children.shift();return this.handleChildrenChanged(),A}},{key:"toMutable",value:function(){return this}}]),T}(ee),V=function(x){Object(De.a)(T,x);var S=Object(E.a)(T);function T(){return Object(ve.a)(this,T),S.apply(this,arguments)}return Object(re.a)(T,[{key:"toMutable",value:function(){return new F(this.length,this.listHeight,Object(le.a)(this.children),this.missingOpeningBracketIds)}},{key:"throwIfImmutable",value:function(){throw new Error("this instance is immutable")}}]),T}(F),N=[],U=function(x){Object(De.a)(T,x);var S=Object(E.a)(T);function T(){return Object(ve.a)(this,T),S.apply(this,arguments)}return Object(re.a)(T,[{key:"listHeight",get:function(){return 0}},{key:"childrenLength",get:function(){return 0}},{key:"getChild",value:function(A){return null}},{key:"children",get:function(){return N}},{key:"deepClone",value:function(){return this}}]),T}(L),d=function(x){Object(De.a)(T,x);var S=Object(E.a)(T);function T(){return Object(ve.a)(this,T),S.apply(this,arguments)}return Object(re.a)(T,[{key:"kind",get:function(){return 0}},{key:"missingOpeningBracketIds",get:function(){return Q.b.getEmpty()}},{key:"canBeReused",value:function(A){return!0}},{key:"computeMinIndentation",value:function(A,ue){for(var be=Object(y.l)(A),de=(be.columnCount===0?be.lineCount:be.lineCount+1)+1,ke=Object(y.f)(Object(y.a)(A,this.length))+1,he=Number.MAX_SAFE_INTEGER,ge=de;ge<=ke;ge++){var ce=ue.getLineFirstNonWhitespaceColumn(ge),k=ue.getLineContent(ge);if(ce!==0){var w=$.a.visibleColumnFromColumn(k,ce,ue.getOptions().tabSize);he=Math.min(he,w)}}return he}}]),T}(U),j=function(x){Object(De.a)(T,x);var S=Object(E.a)(T);function T(z,A,ue){var be;return Object(ve.a)(this,T),be=S.call(this,z),be.bracketInfo=A,be.bracketIds=ue,be}return Object(re.a)(T,[{key:"kind",get:function(){return 1}},{key:"missingOpeningBracketIds",get:function(){return Q.b.getEmpty()}},{key:"text",get:function(){return this.bracketInfo.bracketText}},{key:"languageId",get:function(){return this.bracketInfo.languageId}},{key:"canBeReused",value:function(A){return!1}},{key:"computeMinIndentation",value:function(A,ue){return Number.MAX_SAFE_INTEGER}}],[{key:"create",value:function(A,ue,be){var de=new T(A,ue,be);return de}}]),T}(U),C=function(x){Object(De.a)(T,x);var S=Object(E.a)(T);function T(z,A){var ue;return Object(ve.a)(this,T),ue=S.call(this,A),ue.missingOpeningBracketIds=z,ue}return Object(re.a)(T,[{key:"kind",get:function(){return 3}},{key:"canBeReused",value:function(A){return!A.intersects(this.missingOpeningBracketIds)}},{key:"computeMinIndentation",value:function(A,ue){return Number.MAX_SAFE_INTEGER}}]),T}(U)},"5TxY":function(fn,K,a){"use strict";a.d(K,"d",function(){return j}),a.d(K,"a",function(){return C}),a.d(K,"b",function(){return x}),a.d(K,"c",function(){return T}),a.d(K,"e",function(){return A});var le=a("tJVT"),De=a("w4Tj"),E=a("oZsa"),ve=a("yKVA"),re=a("879j"),J=a("fWQN"),$=a("mtLc"),y=a("D3Dy"),Q=a("EffR"),L=a("4y0V"),ne=a("uDWl"),ee=a("W7of"),H=a("X+cX"),W=a("MI8n"),F=a("pmY6"),V=a("ubTv"),N=a("N0LK"),U=a("Comh"),d=a("gCVg"),j;(function(ue){ue.Tap="-monaco-textarea-synthetic-tap"})(j||(j={}));var C={forceCopyWithSyntaxHighlighting:!1},x=function(){function ue(){Object(J.a)(this,ue),this._lastState=null}return Object($.a)(ue,[{key:"set",value:function(de,ke){this._lastState={lastCopiedValue:de,data:ke}}},{key:"get",value:function(de){return this._lastState&&this._lastState.lastCopiedValue===de?this._lastState.data:(this._lastState=null,null)}}]),ue}();x.INSTANCE=new x;var S=function(){function ue(){Object(J.a)(this,ue),this._lastTypeTextLength=0}return Object($.a)(ue,[{key:"handleCompositionUpdate",value:function(de){de=de||"";var ke={text:de,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=de.length,ke}}]),ue}(),T=function(ue){Object(ve.a)(de,ue);var be=Object(re.a)(de);function de(ke,he,ge,ce){var k;Object(J.a)(this,de),k=be.call(this),k._host=ke,k._textArea=he,k._OS=ge,k._browser=ce,k._onFocus=k._register(new W.b),k.onFocus=k._onFocus.event,k._onBlur=k._register(new W.b),k.onBlur=k._onBlur.event,k._onKeyDown=k._register(new W.b),k.onKeyDown=k._onKeyDown.event,k._onKeyUp=k._register(new W.b),k.onKeyUp=k._onKeyUp.event,k._onCut=k._register(new W.b),k.onCut=k._onCut.event,k._onPaste=k._register(new W.b),k.onPaste=k._onPaste.event,k._onType=k._register(new W.b),k.onType=k._onType.event,k._onCompositionStart=k._register(new W.b),k.onCompositionStart=k._onCompositionStart.event,k._onCompositionUpdate=k._register(new W.b),k.onCompositionUpdate=k._onCompositionUpdate.event,k._onCompositionEnd=k._register(new W.b),k.onCompositionEnd=k._onCompositionEnd.event,k._onSelectionChangeRequest=k._register(new W.b),k.onSelectionChangeRequest=k._onSelectionChangeRequest.event,k._asyncTriggerCut=k._register(new H.g(function(){return k._onCut.fire()},0)),k._asyncFocusGainWriteScreenReaderContent=k._register(new H.g(function(){return k.writeScreenReaderContent("asyncFocusGain")},0)),k._textAreaState=U.b.EMPTY,k._selectionChangeListener=null,k.writeScreenReaderContent("ctor"),k._hasFocus=!1,k._currentComposition=null;var w=null;return k._register(k._textArea.onKeyDown(function(B){var Y=new ne.a(B);(Y.keyCode===114||k._currentComposition&&Y.keyCode===1)&&Y.stopPropagation(),Y.equals(9)&&Y.preventDefault(),w=Y,k._onKeyDown.fire(Y)})),k._register(k._textArea.onKeyUp(function(B){var Y=new ne.a(B);k._onKeyUp.fire(Y)})),k._register(k._textArea.onCompositionStart(function(B){U.c&&console.log("[compositionstart]",B);var Y=new S;if(k._currentComposition){k._currentComposition=Y;return}if(k._currentComposition=Y,k._OS===2&&w&&w.equals(114)&&k._textAreaState.selectionStart===k._textAreaState.selectionEnd&&k._textAreaState.selectionStart>0&&k._textAreaState.value.substr(k._textAreaState.selectionStart-1,1)===B.data&&(w.code==="ArrowRight"||w.code==="ArrowLeft")){U.c&&console.log("[compositionstart] Handling long press case on macOS + arrow key",B),Y.handleCompositionUpdate("x"),k._onCompositionStart.fire({data:B.data});return}if(k._browser.isAndroid){k._onCompositionStart.fire({data:B.data});return}k._onCompositionStart.fire({data:B.data})})),k._register(k._textArea.onCompositionUpdate(function(B){U.c&&console.log("[compositionupdate]",B);var Y=k._currentComposition;if(!!Y){if(k._browser.isAndroid){var pe=U.b.readFromTextArea(k._textArea,k._textAreaState),me=U.b.deduceAndroidCompositionInput(k._textAreaState,pe);k._textAreaState=pe,k._onType.fire(me),k._onCompositionUpdate.fire(B);return}var I=Y.handleCompositionUpdate(B.data);k._textAreaState=U.b.readFromTextArea(k._textArea,k._textAreaState),k._onType.fire(I),k._onCompositionUpdate.fire(B)}})),k._register(k._textArea.onCompositionEnd(function(B){U.c&&console.log("[compositionend]",B);var Y=k._currentComposition;if(!!Y){if(k._currentComposition=null,k._browser.isAndroid){var pe=U.b.readFromTextArea(k._textArea,k._textAreaState),me=U.b.deduceAndroidCompositionInput(k._textAreaState,pe);k._textAreaState=pe,k._onType.fire(me),k._onCompositionEnd.fire();return}var I=Y.handleCompositionUpdate(B.data);k._textAreaState=U.b.readFromTextArea(k._textArea,k._textAreaState),k._onType.fire(I),k._onCompositionEnd.fire()}})),k._register(k._textArea.onInput(function(B){if(U.c&&console.log("[input]",B),k._textArea.setIgnoreSelectionChangeTime("received input event"),!k._currentComposition){var Y=U.b.readFromTextArea(k._textArea,k._textAreaState),pe=U.b.deduceInput(k._textAreaState,Y,k._OS===2);pe.replacePrevCharCnt===0&&pe.text.length===1&&(N.F(pe.text.charCodeAt(0))||pe.text.charCodeAt(0)===127)||(k._textAreaState=Y,(pe.text!==""||pe.replacePrevCharCnt!==0||pe.replaceNextCharCnt!==0||pe.positionDelta!==0)&&k._onType.fire(pe))}})),k._register(k._textArea.onCut(function(B){k._textArea.setIgnoreSelectionChangeTime("received cut event"),k._ensureClipboardGetsEditorSelection(B),k._asyncTriggerCut.schedule()})),k._register(k._textArea.onCopy(function(B){k._ensureClipboardGetsEditorSelection(B)})),k._register(k._textArea.onPaste(function(B){if(k._textArea.setIgnoreSelectionChangeTime("received paste event"),B.preventDefault(),!!B.clipboardData){var Y=z.getTextData(B.clipboardData),pe=Object(le.a)(Y,2),me=pe[0],I=pe[1];!me||(I=I||x.INSTANCE.get(me),k._onPaste.fire({text:me,metadata:I}))}})),k._register(k._textArea.onFocus(function(){var B=k._hasFocus;k._setHasFocus(!0),k._browser.isSafari&&!B&&k._hasFocus&&k._asyncFocusGainWriteScreenReaderContent.schedule()})),k._register(k._textArea.onBlur(function(){k._currentComposition&&(k._currentComposition=null,k.writeScreenReaderContent("blurWithoutCompositionEnd"),k._onCompositionEnd.fire()),k._setHasFocus(!1)})),k._register(k._textArea.onSyntheticTap(function(){k._browser.isAndroid&&k._currentComposition&&(k._currentComposition=null,k.writeScreenReaderContent("tapWithoutCompositionEnd"),k._onCompositionEnd.fire())})),k}return Object($.a)(de,[{key:"textAreaState",get:function(){return this._textAreaState}},{key:"_installSelectionChangeListener",value:function(){var he=this,ge=0;return Q.addDisposableListener(document,"selectionchange",function(ce){if(ee.a.onSelectionChange(),!!he._hasFocus&&!he._currentComposition&&!!he._browser.isChrome){var k=Date.now(),w=k-ge;if(ge=k,!(w<5)){var B=k-he._textArea.getIgnoreSelectionChangeTime();if(he._textArea.resetSelectionChangeTime(),!(B<100)&&!!he._textAreaState.selection){var Y=he._textArea.getValue();if(he._textAreaState.value===Y){var pe=he._textArea.getSelectionStart(),me=he._textArea.getSelectionEnd();if(!(he._textAreaState.selectionStart===pe&&he._textAreaState.selectionEnd===me)){var I=he._textAreaState.deduceEditorPosition(pe),we=he._host.deduceModelPosition(I[0],I[1],I[2]),Re=he._textAreaState.deduceEditorPosition(me),Oe=he._host.deduceModelPosition(Re[0],Re[1],Re[2]),Pe=new d.a(we.lineNumber,we.column,Oe.lineNumber,Oe.column);he._onSelectionChangeRequest.fire(Pe)}}}}}})}},{key:"dispose",value:function(){Object(De.a)(Object(E.a)(de.prototype),"dispose",this).call(this),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}},{key:"focusTextArea",value:function(){this._setHasFocus(!0),this.refreshFocusState()}},{key:"isFocused",value:function(){return this._hasFocus}},{key:"refreshFocusState",value:function(){this._setHasFocus(this._textArea.hasFocus())}},{key:"_setHasFocus",value:function(he){this._hasFocus!==he&&(this._hasFocus=he,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}},{key:"_setAndWriteTextAreaState",value:function(he,ge){this._hasFocus||(ge=ge.collapseSelection()),ge.writeToTextArea(he,this._textArea,this._hasFocus),this._textAreaState=ge}},{key:"writeScreenReaderContent",value:function(he){this._currentComposition||this._setAndWriteTextAreaState(he,this._host.getScreenReaderContent())}},{key:"_ensureClipboardGetsEditorSelection",value:function(he){var ge=this._host.getDataToCopy(),ce={version:1,isFromEmptySelection:ge.isFromEmptySelection,multicursorText:ge.multicursorText,mode:ge.mode};x.INSTANCE.set(this._browser.isFirefox?ge.text.replace(/\r\n/g,`
`):ge.text,ce),he.preventDefault(),he.clipboardData&&z.setTextData(he.clipboardData,ge.text,ge.html,ce)}}]),de}(F.a),z=function(){function ue(){Object(J.a)(this,ue)}return Object($.a)(ue,null,[{key:"getTextData",value:function(de){var ke=de.getData(V.a.text),he=null,ge=de.getData("vscode-editor-data");if(typeof ge=="string")try{he=JSON.parse(ge),he.version!==1&&(he=null)}catch(k){}if(ke.length===0&&he===null&&de.files.length>0){var ce=Array.prototype.slice.call(de.files,0);return[ce.map(function(k){return k.name}).join(`
`),null]}return[ke,he]}},{key:"setTextData",value:function(de,ke,he,ge){de.setData(V.a.text,ke),typeof he=="string"&&de.setData("text/html",he),de.setData("vscode-editor-data",JSON.stringify(ge))}}]),ue}(),A=function(ue){Object(ve.a)(de,ue);var be=Object(re.a)(de);function de(ke){var he;return Object(J.a)(this,de),he=be.call(this),he._actual=ke,he.onKeyDown=he._register(new L.a(he._actual,"keydown")).event,he.onKeyUp=he._register(new L.a(he._actual,"keyup")).event,he.onCompositionStart=he._register(new L.a(he._actual,"compositionstart")).event,he.onCompositionUpdate=he._register(new L.a(he._actual,"compositionupdate")).event,he.onCompositionEnd=he._register(new L.a(he._actual,"compositionend")).event,he.onBeforeInput=he._register(new L.a(he._actual,"beforeinput")).event,he.onInput=he._register(new L.a(he._actual,"input")).event,he.onCut=he._register(new L.a(he._actual,"cut")).event,he.onCopy=he._register(new L.a(he._actual,"copy")).event,he.onPaste=he._register(new L.a(he._actual,"paste")).event,he.onFocus=he._register(new L.a(he._actual,"focus")).event,he.onBlur=he._register(new L.a(he._actual,"blur")).event,he._onSyntheticTap=he._register(new W.b),he.onSyntheticTap=he._onSyntheticTap.event,he._ignoreSelectionChangeTime=0,he._register(he.onKeyDown(function(){return ee.a.onKeyDown()})),he._register(he.onBeforeInput(function(){return ee.a.onBeforeInput()})),he._register(he.onInput(function(){return ee.a.onInput()})),he._register(he.onKeyUp(function(){return ee.a.onKeyUp()})),he._register(Q.addDisposableListener(he._actual,j.Tap,function(){return he._onSyntheticTap.fire()})),he}return Object($.a)(de,[{key:"hasFocus",value:function(){var he=Q.getShadowRoot(this._actual);return he?he.activeElement===this._actual:Q.isInDOM(this._actual)?document.activeElement===this._actual:!1}},{key:"setIgnoreSelectionChangeTime",value:function(he){this._ignoreSelectionChangeTime=Date.now()}},{key:"getIgnoreSelectionChangeTime",value:function(){return this._ignoreSelectionChangeTime}},{key:"resetSelectionChangeTime",value:function(){this._ignoreSelectionChangeTime=0}},{key:"getValue",value:function(){return this._actual.value}},{key:"setValue",value:function(he,ge){var ce=this._actual;ce.value!==ge&&(this.setIgnoreSelectionChangeTime("setValue"),ce.value=ge)}},{key:"getSelectionStart",value:function(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}},{key:"getSelectionEnd",value:function(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}},{key:"setSelectionRange",value:function(he,ge,ce){var k=this._actual,w=null,B=Q.getShadowRoot(k);B?w=B.activeElement:w=document.activeElement;var Y=w===k,pe=k.selectionStart,me=k.selectionEnd;if(Y&&pe===ge&&me===ce){y.isFirefox&&window.parent!==window&&k.focus();return}if(Y){this.setIgnoreSelectionChangeTime("setSelectionRange"),k.setSelectionRange(ge,ce),y.isFirefox&&window.parent!==window&&k.focus();return}try{var I=Q.saveParentsScrollTop(k);this.setIgnoreSelectionChangeTime("setSelectionRange"),k.focus(),k.setSelectionRange(ge,ce),Q.restoreParentsScrollTop(k,I)}catch(we){}}}]),de}(F.a)},"5Y4S":function(fn,K,a){"use strict";a.d(K,"a",function(){return re});var le=a("fWQN"),De=a("mtLc"),E=a("MNsG"),ve=E.b.performance&&typeof E.b.performance.now=="function",re=function(){function J($){Object(le.a)(this,J),this._highResolution=ve&&$,this._startTime=this._now(),this._stopTime=-1}return Object(De.a)(J,[{key:"stop",value:function(){this._stopTime=this._now()}},{key:"elapsed",value:function(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}},{key:"_now",value:function(){return this._highResolution?E.b.performance.now():Date.now()}}],[{key:"create",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return new J(y)}}]),J}()},"6BjD":function(fn,K,a){"use strict";a.d(K,"a",function(){return V});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("yKVA"),re=a("879j"),J=a("EffR"),$=a("bZhu"),y=a("0+8E"),Q=a("G300"),L=a("MI8n"),ne=a("yqFB"),ee=a.n(ne),H=a("3/fG"),W=a("pmY6"),F=H.b("defaultLabel","input"),V=function(N){Object(ve.a)(d,N);var U=Object(re.a)(d);function d(j,C,x){var S;Object(De.a)(this,d),S=U.call(this),S.fixFocusOnOptionClickEnabled=!0,S.imeSessionInProgress=!1,S.additionalTogglesDisposables=new W.c,S.additionalToggles=[],S._onDidOptionChange=S._register(new L.b),S.onDidOptionChange=S._onDidOptionChange.event,S._onKeyDown=S._register(new L.b),S.onKeyDown=S._onKeyDown.event,S._onMouseDown=S._register(new L.b),S.onMouseDown=S._onMouseDown.event,S._onInput=S._register(new L.b),S._onKeyUp=S._register(new L.b),S._onCaseSensitiveKeyDown=S._register(new L.b),S.onCaseSensitiveKeyDown=S._onCaseSensitiveKeyDown.event,S._onRegexKeyDown=S._register(new L.b),S.onRegexKeyDown=S._onRegexKeyDown.event,S._lastHighlightFindOptions=0,S.placeholder=x.placeholder||"",S.validation=x.validation,S.label=x.label||F,S.showCommonFindToggles=!!x.showCommonFindToggles;var T=x.appendCaseSensitiveLabel||"",z=x.appendWholeWordsLabel||"",A=x.appendRegexLabel||"",ue=x.history||[],be=!!x.flexibleHeight,de=!!x.flexibleWidth,ke=x.flexibleMaxHeight;if(S.domNode=document.createElement("div"),S.domNode.classList.add("monaco-findInput"),S.inputBox=S._register(new y.a(S.domNode,C,{placeholder:S.placeholder||"",ariaLabel:S.label||"",validationOptions:{validation:S.validation},history:ue,showHistoryHint:x.showHistoryHint,flexibleHeight:be,flexibleWidth:de,flexibleMaxHeight:ke,inputBoxStyles:x.inputBoxStyles})),S.showCommonFindToggles){S.regex=S._register(new $.b(Object.assign({appendTitle:A,isChecked:!1},x.toggleStyles))),S._register(S.regex.onChange(function(ge){S._onDidOptionChange.fire(ge),!ge&&S.fixFocusOnOptionClickEnabled&&S.inputBox.focus(),S.validate()})),S._register(S.regex.onKeyDown(function(ge){S._onRegexKeyDown.fire(ge)})),S.wholeWords=S._register(new $.c(Object.assign({appendTitle:z,isChecked:!1},x.toggleStyles))),S._register(S.wholeWords.onChange(function(ge){S._onDidOptionChange.fire(ge),!ge&&S.fixFocusOnOptionClickEnabled&&S.inputBox.focus(),S.validate()})),S.caseSensitive=S._register(new $.a(Object.assign({appendTitle:T,isChecked:!1},x.toggleStyles))),S._register(S.caseSensitive.onChange(function(ge){S._onDidOptionChange.fire(ge),!ge&&S.fixFocusOnOptionClickEnabled&&S.inputBox.focus(),S.validate()})),S._register(S.caseSensitive.onKeyDown(function(ge){S._onCaseSensitiveKeyDown.fire(ge)}));var he=[S.caseSensitive.domNode,S.wholeWords.domNode,S.regex.domNode];S.onkeydown(S.domNode,function(ge){if(ge.equals(15)||ge.equals(17)||ge.equals(9)){var ce=he.indexOf(document.activeElement);if(ce>=0){var k=-1;ge.equals(17)?k=(ce+1)%he.length:ge.equals(15)&&(ce===0?k=he.length-1:k=ce-1),ge.equals(9)?(he[ce].blur(),S.inputBox.focus()):k>=0&&he[k].focus(),J.EventHelper.stop(ge,!0)}}})}return S.controls=document.createElement("div"),S.controls.className="controls",S.controls.style.display=S.showCommonFindToggles?"":"none",S.caseSensitive&&S.controls.append(S.caseSensitive.domNode),S.wholeWords&&S.controls.appendChild(S.wholeWords.domNode),S.regex&&S.controls.appendChild(S.regex.domNode),S.setAdditionalToggles(x==null?void 0:x.additionalToggles),S.controls&&S.domNode.appendChild(S.controls),j==null||j.appendChild(S.domNode),S._register(J.addDisposableListener(S.inputBox.inputElement,"compositionstart",function(ge){S.imeSessionInProgress=!0})),S._register(J.addDisposableListener(S.inputBox.inputElement,"compositionend",function(ge){S.imeSessionInProgress=!1,S._onInput.fire()})),S.onkeydown(S.inputBox.inputElement,function(ge){return S._onKeyDown.fire(ge)}),S.onkeyup(S.inputBox.inputElement,function(ge){return S._onKeyUp.fire(ge)}),S.oninput(S.inputBox.inputElement,function(ge){return S._onInput.fire()}),S.onmousedown(S.inputBox.inputElement,function(ge){return S._onMouseDown.fire(ge)}),S}return Object(E.a)(d,[{key:"onDidChange",get:function(){return this.inputBox.onDidChange}},{key:"layout",value:function(C){this.inputBox.layout(),this.updateInputBoxPadding(C.collapsedFindWidget)}},{key:"enable",value:function(){var C,x,S;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(C=this.regex)===null||C===void 0||C.enable(),(x=this.wholeWords)===null||x===void 0||x.enable(),(S=this.caseSensitive)===null||S===void 0||S.enable();var T=Object(le.a)(this.additionalToggles),z;try{for(T.s();!(z=T.n()).done;){var A=z.value;A.enable()}}catch(ue){T.e(ue)}finally{T.f()}}},{key:"disable",value:function(){var C,x,S;this.domNode.classList.add("disabled"),this.inputBox.disable(),(C=this.regex)===null||C===void 0||C.disable(),(x=this.wholeWords)===null||x===void 0||x.disable(),(S=this.caseSensitive)===null||S===void 0||S.disable();var T=Object(le.a)(this.additionalToggles),z;try{for(T.s();!(z=T.n()).done;){var A=z.value;A.disable()}}catch(ue){T.e(ue)}finally{T.f()}}},{key:"setFocusInputOnOptionClick",value:function(C){this.fixFocusOnOptionClickEnabled=C}},{key:"setEnabled",value:function(C){C?this.enable():this.disable()}},{key:"setAdditionalToggles",value:function(C){var x=this,S=Object(le.a)(this.additionalToggles),T;try{for(S.s();!(T=S.n()).done;){var z=T.value;z.domNode.remove()}}catch(de){S.e(de)}finally{S.f()}this.additionalToggles=[],this.additionalTogglesDisposables.dispose(),this.additionalTogglesDisposables=new W.c;var A=Object(le.a)(C!=null?C:[]),ue;try{for(A.s();!(ue=A.n()).done;){var be=ue.value;this.additionalTogglesDisposables.add(be),this.controls.appendChild(be.domNode),this.additionalTogglesDisposables.add(be.onChange(function(de){x._onDidOptionChange.fire(de),!de&&x.fixFocusOnOptionClickEnabled&&x.inputBox.focus()})),this.additionalToggles.push(be)}}catch(de){A.e(de)}finally{A.f()}this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}},{key:"updateInputBoxPadding",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,x,S,T,z,A,ue;C?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((S=(x=this.caseSensitive)===null||x===void 0?void 0:x.width())!==null&&S!==void 0?S:0)+((z=(T=this.wholeWords)===null||T===void 0?void 0:T.width())!==null&&z!==void 0?z:0)+((ue=(A=this.regex)===null||A===void 0?void 0:A.width())!==null&&ue!==void 0?ue:0)+this.additionalToggles.reduce(function(be,de){return be+de.width()},0)}},{key:"getValue",value:function(){return this.inputBox.value}},{key:"setValue",value:function(C){this.inputBox.value!==C&&(this.inputBox.value=C)}},{key:"select",value:function(){this.inputBox.select()}},{key:"focus",value:function(){this.inputBox.focus()}},{key:"getCaseSensitive",value:function(){var C,x;return(x=(C=this.caseSensitive)===null||C===void 0?void 0:C.checked)!==null&&x!==void 0?x:!1}},{key:"setCaseSensitive",value:function(C){this.caseSensitive&&(this.caseSensitive.checked=C)}},{key:"getWholeWords",value:function(){var C,x;return(x=(C=this.wholeWords)===null||C===void 0?void 0:C.checked)!==null&&x!==void 0?x:!1}},{key:"setWholeWords",value:function(C){this.wholeWords&&(this.wholeWords.checked=C)}},{key:"getRegex",value:function(){var C,x;return(x=(C=this.regex)===null||C===void 0?void 0:C.checked)!==null&&x!==void 0?x:!1}},{key:"setRegex",value:function(C){this.regex&&(this.regex.checked=C,this.validate())}},{key:"focusOnCaseSensitive",value:function(){var C;(C=this.caseSensitive)===null||C===void 0||C.focus()}},{key:"highlightFindOptions",value:function(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}},{key:"validate",value:function(){this.inputBox.validate()}},{key:"showMessage",value:function(C){this.inputBox.showMessage(C)}},{key:"clearMessage",value:function(){this.inputBox.hideMessage()}}]),d}(Q.a)},"6FFW":function(fn,K,a){"use strict";a.d(K,"a",function(){return ne}),a.d(K,"b",function(){return ee});var le=a("yKVA"),De=a("879j"),E=a("fWQN"),ve=a("mtLc"),re=a("N0LK"),J=a("LLum"),$=a("jtXd"),y=a("Vk6M"),Q=a("cGHE"),L=a("aokT"),ne=function(){function W(){Object(E.a)(this,W)}return Object(ve.a)(W,null,[{key:"_createWord",value:function(V,N,U,d,j){return{start:d,end:j,wordType:N,nextCharClass:U}}},{key:"_findPreviousWordOnLine",value:function(V,N,U){var d=N.getLineContent(U.lineNumber);return this._doFindPreviousWordOnLine(d,V,U)}},{key:"_doFindPreviousWordOnLine",value:function(V,N,U){for(var d=0,j=U.column-2;j>=0;j--){var C=V.charCodeAt(j),x=N.get(C);if(x===0){if(d===2)return this._createWord(V,d,x,j+1,this._findEndOfWord(V,N,d,j+1));d=1}else if(x===2){if(d===1)return this._createWord(V,d,x,j+1,this._findEndOfWord(V,N,d,j+1));d=2}else if(x===1&&d!==0)return this._createWord(V,d,x,j+1,this._findEndOfWord(V,N,d,j+1))}return d!==0?this._createWord(V,d,1,0,this._findEndOfWord(V,N,d,0)):null}},{key:"_findEndOfWord",value:function(V,N,U,d){for(var j=V.length,C=d;C<j;C++){var x=V.charCodeAt(C),S=N.get(x);if(S===1||U===1&&S===2||U===2&&S===0)return C}return j}},{key:"_findNextWordOnLine",value:function(V,N,U){var d=N.getLineContent(U.lineNumber);return this._doFindNextWordOnLine(d,V,U)}},{key:"_doFindNextWordOnLine",value:function(V,N,U){for(var d=0,j=V.length,C=U.column-1;C<j;C++){var x=V.charCodeAt(C),S=N.get(x);if(S===0){if(d===2)return this._createWord(V,d,S,this._findStartOfWord(V,N,d,C-1),C);d=1}else if(S===2){if(d===1)return this._createWord(V,d,S,this._findStartOfWord(V,N,d,C-1),C);d=2}else if(S===1&&d!==0)return this._createWord(V,d,S,this._findStartOfWord(V,N,d,C-1),C)}return d!==0?this._createWord(V,d,1,this._findStartOfWord(V,N,d,j-1),j):null}},{key:"_findStartOfWord",value:function(V,N,U,d){for(var j=d;j>=0;j--){var C=V.charCodeAt(j),x=N.get(C);if(x===1||U===1&&x===2||U===2&&x===0)return j+1}return 0}},{key:"moveWordLeft",value:function(V,N,U,d){var j=U.lineNumber,C=U.column;C===1&&j>1&&(j=j-1,C=N.getLineMaxColumn(j));var x=W._findPreviousWordOnLine(V,N,new Q.a(j,C));if(d===0)return new Q.a(j,x?x.start+1:1);if(d===1)return x&&x.wordType===2&&x.end-x.start==1&&x.nextCharClass===0&&(x=W._findPreviousWordOnLine(V,N,new Q.a(j,x.start+1))),new Q.a(j,x?x.start+1:1);if(d===3){for(;x&&x.wordType===2;)x=W._findPreviousWordOnLine(V,N,new Q.a(j,x.start+1));return new Q.a(j,x?x.start+1:1)}return x&&C<=x.end+1&&(x=W._findPreviousWordOnLine(V,N,new Q.a(j,x.start+1))),new Q.a(j,x?x.end+1:1)}},{key:"_moveWordPartLeft",value:function(V,N){var U=N.lineNumber,d=V.getLineMaxColumn(U);if(N.column===1)return U>1?new Q.a(U-1,V.getLineMaxColumn(U-1)):N;for(var j=V.getLineContent(U),C=N.column-1;C>1;C--){var x=j.charCodeAt(C-2),S=j.charCodeAt(C-1);if(x===95&&S!==95)return new Q.a(U,C);if(x===45&&S!==45)return new Q.a(U,C);if((re.H(x)||re.A(x))&&re.I(S))return new Q.a(U,C);if(re.I(x)&&re.I(S)&&C+1<d){var T=j.charCodeAt(C);if(re.H(T)||re.A(T))return new Q.a(U,C)}}return new Q.a(U,1)}},{key:"moveWordRight",value:function(V,N,U,d){var j=U.lineNumber,C=U.column,x=!1;C===N.getLineMaxColumn(j)&&j<N.getLineCount()&&(x=!0,j=j+1,C=1);var S=W._findNextWordOnLine(V,N,new Q.a(j,C));if(d===2)S&&S.wordType===2&&S.end-S.start==1&&S.nextCharClass===0&&(S=W._findNextWordOnLine(V,N,new Q.a(j,S.end+1))),S?C=S.end+1:C=N.getLineMaxColumn(j);else if(d===3){for(x&&(C=0);S&&(S.wordType===2||S.start+1<=C);)S=W._findNextWordOnLine(V,N,new Q.a(j,S.end+1));S?C=S.start+1:C=N.getLineMaxColumn(j)}else S&&!x&&C>=S.start+1&&(S=W._findNextWordOnLine(V,N,new Q.a(j,S.end+1))),S?C=S.start+1:C=N.getLineMaxColumn(j);return new Q.a(j,C)}},{key:"_moveWordPartRight",value:function(V,N){var U=N.lineNumber,d=V.getLineMaxColumn(U);if(N.column===d)return U<V.getLineCount()?new Q.a(U+1,1):N;for(var j=V.getLineContent(U),C=N.column+1;C<d;C++){var x=j.charCodeAt(C-2),S=j.charCodeAt(C-1);if(x!==95&&S===95)return new Q.a(U,C);if(x!==45&&S===45)return new Q.a(U,C);if((re.H(x)||re.A(x))&&re.I(S))return new Q.a(U,C);if(re.I(x)&&re.I(S)&&C+1<d){var T=j.charCodeAt(C);if(re.H(T)||re.A(T))return new Q.a(U,C)}}return new Q.a(U,d)}},{key:"_deleteWordLeftWhitespace",value:function(V,N){var U=V.getLineContent(N.lineNumber),d=N.column-2,j=re.J(U,d);return j+1<d?new L.a(N.lineNumber,j+2,N.lineNumber,N.column):null}},{key:"deleteWordLeft",value:function(V,N){var U=V.wordSeparators,d=V.model,j=V.selection,C=V.whitespaceHeuristics;if(!j.isEmpty())return j;if($.a.isAutoClosingPairDelete(V.autoClosingDelete,V.autoClosingBrackets,V.autoClosingQuotes,V.autoClosingPairs.autoClosingPairsOpenByEnd,V.model,[V.selection],V.autoClosedCharacters)){var x=V.selection.getPosition();return new L.a(x.lineNumber,x.column-1,x.lineNumber,x.column+1)}var S=new Q.a(j.positionLineNumber,j.positionColumn),T=S.lineNumber,z=S.column;if(T===1&&z===1)return null;if(C){var A=this._deleteWordLeftWhitespace(d,S);if(A)return A}var ue=W._findPreviousWordOnLine(U,d,S);return N===0?ue?z=ue.start+1:z>1?z=1:(T--,z=d.getLineMaxColumn(T)):(ue&&z<=ue.end+1&&(ue=W._findPreviousWordOnLine(U,d,new Q.a(T,ue.start+1))),ue?z=ue.end+1:z>1?z=1:(T--,z=d.getLineMaxColumn(T))),new L.a(T,z,S.lineNumber,S.column)}},{key:"deleteInsideWord",value:function(V,N,U){if(!U.isEmpty())return U;var d=new Q.a(U.positionLineNumber,U.positionColumn),j=this._deleteInsideWordWhitespace(N,d);return j||this._deleteInsideWordDetermineDeleteRange(V,N,d)}},{key:"_charAtIsWhitespace",value:function(V,N){var U=V.charCodeAt(N);return U===32||U===9}},{key:"_deleteInsideWordWhitespace",value:function(V,N){var U=V.getLineContent(N.lineNumber),d=U.length;if(d===0)return null;var j=Math.max(N.column-2,0);if(!this._charAtIsWhitespace(U,j))return null;var C=Math.min(N.column-1,d-1);if(!this._charAtIsWhitespace(U,C))return null;for(;j>0&&this._charAtIsWhitespace(U,j-1);)j--;for(;C+1<d&&this._charAtIsWhitespace(U,C+1);)C++;return new L.a(N.lineNumber,j+1,N.lineNumber,C+2)}},{key:"_deleteInsideWordDetermineDeleteRange",value:function(V,N,U){var d=this,j=N.getLineContent(U.lineNumber),C=j.length;if(C===0)return U.lineNumber>1?new L.a(U.lineNumber-1,N.getLineMaxColumn(U.lineNumber-1),U.lineNumber,1):U.lineNumber<N.getLineCount()?new L.a(U.lineNumber,1,U.lineNumber+1,1):new L.a(U.lineNumber,1,U.lineNumber,1);var x=function(be){return be.start+1<=U.column&&U.column<=be.end+1},S=function(be,de){return be=Math.min(be,U.column),de=Math.max(de,U.column),new L.a(U.lineNumber,be,U.lineNumber,de)},T=function(be){for(var de=be.start+1,ke=be.end+1,he=!1;ke-1<C&&d._charAtIsWhitespace(j,ke-1);)he=!0,ke++;if(!he)for(;de>1&&d._charAtIsWhitespace(j,de-2);)de--;return S(de,ke)},z=W._findPreviousWordOnLine(V,N,U);if(z&&x(z))return T(z);var A=W._findNextWordOnLine(V,N,U);return A&&x(A)?T(A):z&&A?S(z.end+1,A.start+1):z?S(z.start+1,z.end+1):A?S(A.start+1,A.end+1):S(1,C+1)}},{key:"_deleteWordPartLeft",value:function(V,N){if(!N.isEmpty())return N;var U=N.getPosition(),d=W._moveWordPartLeft(V,U);return new L.a(U.lineNumber,U.column,d.lineNumber,d.column)}},{key:"_findFirstNonWhitespaceChar",value:function(V,N){for(var U=V.length,d=N;d<U;d++){var j=V.charAt(d);if(j!==" "&&j!=="	")return d}return U}},{key:"_deleteWordRightWhitespace",value:function(V,N){var U=V.getLineContent(N.lineNumber),d=N.column-1,j=this._findFirstNonWhitespaceChar(U,d);return d+1<j?new L.a(N.lineNumber,N.column,N.lineNumber,j+1):null}},{key:"deleteWordRight",value:function(V,N){var U=V.wordSeparators,d=V.model,j=V.selection,C=V.whitespaceHeuristics;if(!j.isEmpty())return j;var x=new Q.a(j.positionLineNumber,j.positionColumn),S=x.lineNumber,T=x.column,z=d.getLineCount(),A=d.getLineMaxColumn(S);if(S===z&&T===A)return null;if(C){var ue=this._deleteWordRightWhitespace(d,x);if(ue)return ue}var be=W._findNextWordOnLine(U,d,x);return N===2?be?T=be.end+1:T<A||S===z?T=A:(S++,be=W._findNextWordOnLine(U,d,new Q.a(S,1)),be?T=be.start+1:T=d.getLineMaxColumn(S)):(be&&T>=be.start+1&&(be=W._findNextWordOnLine(U,d,new Q.a(S,be.end+1))),be?T=be.start+1:T<A||S===z?T=A:(S++,be=W._findNextWordOnLine(U,d,new Q.a(S,1)),be?T=be.start+1:T=d.getLineMaxColumn(S))),new L.a(S,T,x.lineNumber,x.column)}},{key:"_deleteWordPartRight",value:function(V,N){if(!N.isEmpty())return N;var U=N.getPosition(),d=W._moveWordPartRight(V,U);return new L.a(U.lineNumber,U.column,d.lineNumber,d.column)}},{key:"_createWordAtPosition",value:function(V,N,U){var d=new L.a(N,U.start+1,N,U.end+1);return{word:V.getValueInRange(d),startColumn:d.startColumn,endColumn:d.endColumn}}},{key:"getWordAtPosition",value:function(V,N,U){var d=Object(y.a)(N),j=W._findPreviousWordOnLine(d,V,U);if(j&&j.wordType===1&&j.start<=U.column-1&&U.column-1<=j.end)return W._createWordAtPosition(V,U.lineNumber,j);var C=W._findNextWordOnLine(d,V,U);return C&&C.wordType===1&&C.start<=U.column-1&&U.column-1<=C.end?W._createWordAtPosition(V,U.lineNumber,C):null}},{key:"word",value:function(V,N,U,d,j){var C=Object(y.a)(V.wordSeparators),x=W._findPreviousWordOnLine(C,N,j),S=W._findNextWordOnLine(C,N,j);if(!d){var T,z;return x&&x.wordType===1&&x.start<=j.column-1&&j.column-1<=x.end?(T=x.start+1,z=x.end+1):S&&S.wordType===1&&S.start<=j.column-1&&j.column-1<=S.end?(T=S.start+1,z=S.end+1):(x?T=x.end+1:T=1,S?z=S.start+1:z=N.getLineMaxColumn(j.lineNumber)),new J.d(new L.a(j.lineNumber,T,j.lineNumber,z),1,0,new Q.a(j.lineNumber,z),0)}var A,ue;x&&x.wordType===1&&x.start<j.column-1&&j.column-1<x.end?(A=x.start+1,ue=x.end+1):S&&S.wordType===1&&S.start<j.column-1&&j.column-1<S.end?(A=S.start+1,ue=S.end+1):(A=j.column,ue=j.column);var be=j.lineNumber,de;if(U.selectionStart.containsPosition(j))de=U.selectionStart.endColumn;else if(j.isBeforeOrEqual(U.selectionStart.getStartPosition())){de=A;var ke=new Q.a(be,de);U.selectionStart.containsPosition(ke)&&(de=U.selectionStart.endColumn)}else{de=ue;var he=new Q.a(be,de);U.selectionStart.containsPosition(he)&&(de=U.selectionStart.startColumn)}return U.move(!0,be,de,0)}}]),W}(),ee=function(W){Object(le.a)(V,W);var F=Object(De.a)(V);function V(){return Object(E.a)(this,V),F.apply(this,arguments)}return Object(ve.a)(V,null,[{key:"deleteWordPartLeft",value:function(U){var d=H([ne.deleteWordLeft(U,0),ne.deleteWordLeft(U,2),ne._deleteWordPartLeft(U.model,U.selection)]);return d.sort(L.a.compareRangesUsingEnds),d[2]}},{key:"deleteWordPartRight",value:function(U){var d=H([ne.deleteWordRight(U,0),ne.deleteWordRight(U,2),ne._deleteWordPartRight(U.model,U.selection)]);return d.sort(L.a.compareRangesUsingStarts),d[0]}},{key:"moveWordPartLeft",value:function(U,d,j){var C=H([ne.moveWordLeft(U,d,j,0),ne.moveWordLeft(U,d,j,2),ne._moveWordPartLeft(d,j)]);return C.sort(Q.a.compare),C[2]}},{key:"moveWordPartRight",value:function(U,d,j){var C=H([ne.moveWordRight(U,d,j,0),ne.moveWordRight(U,d,j,2),ne._moveWordPartRight(d,j)]);return C.sort(Q.a.compare),C[0]}}]),V}(ne);function H(W){return W.filter(function(F){return Boolean(F)})}},"6OMU":function(fn,K,a){"use strict";a.d(K,"C",function(){return ve}),a.d(K,"D",function(){return re}),a.d(K,"j",function(){return J}),a.d(K,"A",function(){return $}),a.d(K,"e",function(){return y}),a.d(K,"k",function(){return L}),a.d(K,"y",function(){return ne}),a.d(K,"q",function(){return ee}),a.d(K,"f",function(){return H}),a.d(K,"g",function(){return W}),a.d(K,"r",function(){return F}),a.d(K,"s",function(){return V}),a.d(K,"i",function(){return N}),a.d(K,"l",function(){return U}),a.d(K,"p",function(){return j}),a.d(K,"z",function(){return C}),a.d(K,"c",function(){return x}),a.d(K,"x",function(){return S}),a.d(K,"w",function(){return T}),a.d(K,"v",function(){return z}),a.d(K,"d",function(){return A}),a.d(K,"t",function(){return ue}),a.d(K,"B",function(){return de}),a.d(K,"h",function(){return ge}),a.d(K,"u",function(){return ce}),a.d(K,"n",function(){return k}),a.d(K,"m",function(){return w}),a.d(K,"o",function(){return B}),a.d(K,"a",function(){return Y}),a.d(K,"b",function(){return pe});var le=a("fWQN"),De=a("mtLc"),E=a("rAM+");function ve(me){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return me[me.length-(1+I)]}function re(me){if(me.length===0)throw new Error("Invalid tail call");return[me.slice(0,me.length-1),me[me.length-1]]}function J(me,I){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(Pe,Ne){return Pe===Ne};if(me===I)return!0;if(!me||!I||me.length!==I.length)return!1;for(var Re=0,Oe=me.length;Re<Oe;Re++)if(!we(me[Re],I[Re]))return!1;return!0}function $(me,I){var we=me.length-1;I<we&&(me[I]=me[we]),me.pop()}function y(me,I,we){return Q(me.length,function(Re){return we(me[Re],I)})}function Q(me,I){for(var we=0,Re=me-1;we<=Re;){var Oe=(we+Re)/2|0,Pe=I(Oe);if(Pe<0)we=Oe+1;else if(Pe>0)Re=Oe-1;else return Oe}return-(we+1)}function L(me,I){var we=0,Re=me.length;if(Re===0)return 0;for(;we<Re;){var Oe=Math.floor((we+Re)/2);I(me[Oe])?Re=Oe:we=Oe+1}return we}function ne(me,I,we){if(me=me|0,me>=I.length)throw new TypeError("invalid index");var Re=I[Math.floor(I.length*Math.random())],Oe=[],Pe=[],Ne=[],Ke=Object(E.a)(I),Xe;try{for(Ke.s();!(Xe=Ke.n()).done;){var wt=Xe.value,Ct=we(wt,Re);Ct<0?Oe.push(wt):Ct>0?Pe.push(wt):Ne.push(wt)}}catch(bt){Ke.e(bt)}finally{Ke.f()}return me<Oe.length?ne(me,Oe,we):me<Oe.length+Ne.length?Ne[0]:ne(me-(Oe.length+Ne.length),Pe,we)}function ee(me,I){var we=[],Re=void 0,Oe=Object(E.a)(me.slice(0).sort(I)),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var Ne=Pe.value;!Re||I(Re[0],Ne)!==0?(Re=[Ne],we.push(Re)):Re.push(Ne)}}catch(Ke){Oe.e(Ke)}finally{Oe.f()}return we}function H(me){return me.filter(function(I){return!!I})}function W(me){for(var I=0,we=0;we<me.length;we++)me[we]&&(me[I]=me[we],I+=1);me.length=I}function F(me){return!Array.isArray(me)||me.length===0}function V(me){return Array.isArray(me)&&me.length>0}function N(me){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(Re){return Re},we=new Set;return me.filter(function(Re){var Oe=I(Re);return we.has(Oe)?!1:(we.add(Oe),!0)})}function U(me,I){var we=d(me,I);if(we!==-1)return me[we]}function d(me,I){for(var we=me.length-1;we>=0;we--){var Re=me[we];if(I(Re))return we}return-1}function j(me,I){return me.length>0?me[0]:I}function C(me,I){var we=typeof I=="number"?me:0;typeof I=="number"?we=me:(we=0,I=me);var Re=[];if(we<=I)for(var Oe=we;Oe<I;Oe++)Re.push(Oe);else for(var Pe=we;Pe>I;Pe--)Re.push(Pe);return Re}function x(me,I,we){var Re=me.slice(0,I),Oe=me.slice(I);return Re.concat(we,Oe)}function S(me,I){var we=me.indexOf(I);we>-1&&(me.splice(we,1),me.unshift(I))}function T(me,I){var we=me.indexOf(I);we>-1&&(me.splice(we,1),me.push(I))}function z(me,I){var we=Object(E.a)(I),Re;try{for(we.s();!(Re=we.n()).done;){var Oe=Re.value;me.push(Oe)}}catch(Pe){we.e(Pe)}finally{we.f()}}function A(me){return Array.isArray(me)?me:[me]}function ue(me,I){var we=Object(E.a)(me),Re;try{for(we.s();!(Re=we.n()).done;){var Oe=Re.value,Pe=I(Oe);if(Pe!==void 0)return Pe}}catch(Ne){we.e(Ne)}finally{we.f()}}function be(me,I,we){var Re=ke(me,I),Oe=me.length,Pe=we.length;me.length=Oe+Pe;for(var Ne=Oe-1;Ne>=Re;Ne--)me[Ne+Pe]=me[Ne];for(var Ke=0;Ke<Pe;Ke++)me[Ke+Re]=we[Ke]}function de(me,I,we,Re){var Oe=ke(me,I),Pe=me.splice(Oe,we);return be(me,Oe,Re),Pe}function ke(me,I){return I<0?Math.max(I+me.length,0):Math.min(I,me.length)}var he;(function(me){function I(Oe){return Oe<0}me.isLessThan=I;function we(Oe){return Oe>0}me.isGreaterThan=we;function Re(Oe){return Oe===0}me.isNeitherLessOrGreaterThan=Re,me.greaterThan=1,me.lessThan=-1,me.neitherLessOrGreaterThan=0})(he||(he={}));function ge(me,I){return function(we,Re){return I(me(we),me(Re))}}var ce=function(I,we){return I-we};function k(me,I){if(me.length!==0){for(var we=me[0],Re=1;Re<me.length;Re++){var Oe=me[Re];I(Oe,we)>0&&(we=Oe)}return we}}function w(me,I){if(me.length!==0){for(var we=me[0],Re=1;Re<me.length;Re++){var Oe=me[Re];I(Oe,we)>=0&&(we=Oe)}return we}}function B(me,I){return k(me,function(we,Re){return-I(we,Re)})}var Y=function(){function me(I){Object(le.a)(this,me),this.items=I,this.firstIdx=0,this.lastIdx=this.items.length-1}return Object(De.a)(me,[{key:"length",get:function(){return this.lastIdx-this.firstIdx+1}},{key:"takeWhile",value:function(we){for(var Re=this.firstIdx;Re<this.items.length&&we(this.items[Re]);)Re++;var Oe=Re===this.firstIdx?null:this.items.slice(this.firstIdx,Re);return this.firstIdx=Re,Oe}},{key:"takeFromEndWhile",value:function(we){for(var Re=this.lastIdx;Re>=0&&we(this.items[Re]);)Re--;var Oe=Re===this.lastIdx?null:this.items.slice(Re+1,this.lastIdx+1);return this.lastIdx=Re,Oe}},{key:"peek",value:function(){if(this.length!==0)return this.items[this.firstIdx]}},{key:"dequeue",value:function(){var we=this.items[this.firstIdx];return this.firstIdx++,we}},{key:"takeCount",value:function(we){var Re=this.items.slice(this.firstIdx,this.firstIdx+we);return this.firstIdx+=we,Re}}]),me}(),pe=function(){function me(I){Object(le.a)(this,me),this.iterate=I}return Object(De.a)(me,[{key:"toArray",value:function(){var we=[];return this.iterate(function(Re){return we.push(Re),!0}),we}},{key:"filter",value:function(we){var Re=this;return new me(function(Oe){return Re.iterate(function(Pe){return we(Pe)?Oe(Pe):!0})})}},{key:"map",value:function(we){var Re=this;return new me(function(Oe){return Re.iterate(function(Pe){return Oe(we(Pe))})})}},{key:"findLast",value:function(we){var Re;return this.iterate(function(Oe){return we(Oe)&&(Re=Oe),!0}),Re}},{key:"findLastMaxBy",value:function(we){var Re,Oe=!0;return this.iterate(function(Pe){return(Oe||he.isGreaterThan(we(Pe,Re)))&&(Oe=!1,Re=Pe),!0}),Re}}]),me}();pe.empty=new pe(function(me){})},"6XFq":function(fn,K,a){"use strict";a.d(K,"a",function(){return W});var le=a("rAM+"),De=a("tJVT"),E=a("fWQN"),ve=a("mtLc"),re=a("7afs"),J=a("QDVR"),$=a("Sdnv"),y=a("9fML"),Q=a("Cg/j"),L=a("09fa"),ne=a("W9cx"),ee=function(U,d,j,C){var x=arguments.length,S=x<3?d:C===null?C=Object.getOwnPropertyDescriptor(d,j):C,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(U,d,j,C);else for(var z=U.length-1;z>=0;z--)(T=U[z])&&(S=(x<3?T(S):x>3?T(d,j,S):T(d,j))||S);return x>3&&S&&Object.defineProperty(d,j,S),S},H=function(U,d){return function(j,C){d(j,C,U)}},W=Object(Q.c)("ILanguageFeatureDebounceService"),F;(function(U){var d=new WeakMap,j=0;function C(x){var S=d.get(x);return S===void 0&&(S=++j,d.set(x,S)),S}U.of=C})(F||(F={}));var V=function(){function U(d,j,C,x,S,T){Object(E.a)(this,U),this._logService=d,this._name=j,this._registry=C,this._default=x,this._min=S,this._max=T,this._cache=new J.a(50,.7)}return Object(ve.a)(U,[{key:"_key",value:function(j){return j.id+this._registry.all(j).reduce(function(C,x){return Object(re.b)(F.of(x),C)},0)}},{key:"get",value:function(j){var C=this._key(j),x=this._cache.get(C);return x?Object($.c)(x.value,this._min,this._max):this.default()}},{key:"update",value:function(j,C){var x=this._key(j),S=this._cache.get(x);S||(S=new $.b(6),this._cache.set(x,S));var T=Object($.c)(S.update(C),this._min,this._max);return Object(ne.c)(j.uri,"output")||this._logService.trace("[DEBOUNCE: ".concat(this._name,"] for ").concat(j.uri.toString()," is ").concat(T,"ms")),T}},{key:"_overall",value:function(){var j=new $.a,C=Object(le.a)(this._cache),x;try{for(C.s();!(x=C.n()).done;){var S=x.value,T=Object(De.a)(S,2),z=T[1];j.update(z.value)}}catch(A){C.e(A)}finally{C.f()}return j.value}},{key:"default",value:function(){var j=this._overall()|0||this._default;return Object($.c)(j,this._min,this._max)}}]),U}(),N=function(){function U(d){Object(E.a)(this,U),this._logService=d,this._data=new Map}return Object(ve.a)(U,[{key:"for",value:function(j,C,x){var S,T,z,A=(S=x==null?void 0:x.min)!==null&&S!==void 0?S:50,ue=(T=x==null?void 0:x.max)!==null&&T!==void 0?T:Math.pow(A,2),be=(z=x==null?void 0:x.key)!==null&&z!==void 0?z:void 0,de="".concat(F.of(j),",").concat(A).concat(be?","+be:""),ke=this._data.get(de);return ke||(ke=new V(this._logService,C,j,this._overallAverage()|0||A*1.5,A,ue),this._data.set(de,ke)),ke}},{key:"_overallAverage",value:function(){var j=new $.a,C=Object(le.a)(this._data.values()),x;try{for(C.s();!(x=C.n()).done;){var S=x.value;j.update(S.default())}}catch(T){C.e(T)}finally{C.f()}return j.value}}]),U}();N=ee([H(0,L.b)],N),Object(y.b)(W,N,1)},"6apY":function(fn,K,a){"use strict";a.d(K,"b",function(){return W}),a.d(K,"a",function(){return F});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("yKVA"),re=a("879j"),J=a("6OMU"),$=a("N0LK"),y=a("JLfW"),Q=a("aokT"),L=a("j9oM"),ne=a("16Jm"),ee=a("1CjY"),H=a("/cxE"),W=function(V){Object(ve.a)(U,V);var N=Object(re.a)(U);function U(d,j){var C;return Object(De.a)(this,U),C=N.call(this),C.textModel=d,C.languageConfigurationService=j,C}return Object(E.a)(U,[{key:"getLanguageConfiguration",value:function(j){return this.languageConfigurationService.getLanguageConfiguration(j)}},{key:"_computeIndentLevel",value:function(j){return Object(ne.a)(this.textModel.getLineContent(j+1),this.textModel.getOptions().tabSize)}},{key:"getActiveIndentGuide",value:function(j,C,x){var S=this;this.assertNotDisposed();var T=this.textModel.getLineCount();if(j<1||j>T)throw new H.a("Illegal value for lineNumber");for(var z=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,A=Boolean(z&&z.offSide),ue=-2,be=-1,de=-2,ke=-1,he=function(mt){if(ue!==-1&&(ue===-2||ue>mt-1)){ue=-1,be=-1;for(var jt=mt-2;jt>=0;jt--){var Je=S._computeIndentLevel(jt);if(Je>=0){ue=jt,be=Je;break}}}if(de===-2){de=-1,ke=-1;for(var Wt=mt;Wt<T;Wt++){var Te=S._computeIndentLevel(Wt);if(Te>=0){de=Wt,ke=Te;break}}}},ge=-2,ce=-1,k=-2,w=-1,B=function(mt){if(ge===-2){ge=-1,ce=-1;for(var jt=mt-2;jt>=0;jt--){var Je=S._computeIndentLevel(jt);if(Je>=0){ge=jt,ce=Je;break}}}if(k!==-1&&(k===-2||k<mt-1)){k=-1,w=-1;for(var Wt=mt;Wt<T;Wt++){var Te=S._computeIndentLevel(Wt);if(Te>=0){k=Wt,w=Te;break}}}},Y=0,pe=!0,me=0,I=!0,we=0,Re=0,Oe=0;pe||I;Oe++){var Pe=j-Oe,Ne=j+Oe;Oe>1&&(Pe<1||Pe<C)&&(pe=!1),Oe>1&&(Ne>T||Ne>x)&&(I=!1),Oe>5e4&&(pe=!1,I=!1);var Ke=-1;if(pe&&Pe>=1){var Xe=this._computeIndentLevel(Pe-1);Xe>=0?(de=Pe-1,ke=Xe,Ke=Math.ceil(Xe/this.textModel.getOptions().indentSize)):(he(Pe),Ke=this._getIndentLevelForWhitespaceLine(A,be,ke))}var wt=-1;if(I&&Ne<=T){var Ct=this._computeIndentLevel(Ne-1);Ct>=0?(ge=Ne-1,ce=Ct,wt=Math.ceil(Ct/this.textModel.getOptions().indentSize)):(B(Ne),wt=this._getIndentLevelForWhitespaceLine(A,ce,w))}if(Oe===0){Re=Ke;continue}if(Oe===1){if(Ne<=T&&wt>=0&&Re+1===wt){pe=!1,Y=Ne,me=Ne,we=wt;continue}if(Pe>=1&&Ke>=0&&Ke-1===Re){I=!1,Y=Pe,me=Pe,we=Ke;continue}if(Y=j,me=j,we=Re,we===0)return{startLineNumber:Y,endLineNumber:me,indent:we}}pe&&(Ke>=we?Y=Pe:pe=!1),I&&(wt>=we?me=Ne:I=!1)}return{startLineNumber:Y,endLineNumber:me,indent:we}}},{key:"getLinesBracketGuides",value:function(j,C,x,S){for(var T,z=[],A=j;A<=C;A++)z.push([]);var ue=!0,be=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new Q.a(j,1,C,this.textModel.getLineMaxColumn(C))).toArray(),de=void 0;if(x&&be.length>0){var ke=(j<=x.lineNumber&&x.lineNumber<=C?be:this.textModel.bracketPairs.getBracketPairsInRange(Q.a.fromPositions(x)).toArray()).filter(function(Wt){return Q.a.strictContainsPosition(Wt.range,x)});de=(T=Object(J.l)(ke,function(Wt){return ue||Wt.range.startLineNumber!==Wt.range.endLineNumber}))===null||T===void 0?void 0:T.range}var he=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,ge=new F,ce=Object(le.a)(be),k;try{for(ce.s();!(k=ce.n()).done;){var w=k.value;if(!!w.closingBracketRange){var B=de&&w.range.equalsRange(de);if(!(!B&&!S.includeInactive)){var Y=ge.getInlineClassName(w.nestingLevel,w.nestingLevelOfEqualBracketType,he)+(S.highlightActive&&B?" "+ge.activeClassName:""),pe=w.openingBracketRange.getStartPosition(),me=w.closingBracketRange.getStartPosition(),I=S.horizontalGuides===ee.a.Enabled||S.horizontalGuides===ee.a.EnabledForActive&&B;if(w.range.startLineNumber===w.range.endLineNumber){ue&&I&&z[w.range.startLineNumber-j].push(new ee.b(-1,w.openingBracketRange.getEndPosition().column,Y,new ee.c(!1,me.column),-1,-1));continue}var we=this.getVisibleColumnFromPosition(me),Re=this.getVisibleColumnFromPosition(w.openingBracketRange.getStartPosition()),Oe=Math.min(Re,we,w.minVisibleColumnIndentation+1),Pe=!1,Ne=$.u(this.textModel.getLineContent(w.closingBracketRange.startLineNumber)),Ke=Ne<w.closingBracketRange.startColumn-1;Ke&&(Pe=!0);for(var Xe=Math.max(pe.lineNumber,j),wt=Math.min(me.lineNumber,C),Ct=Pe?1:0,bt=Xe;bt<wt+Ct;bt++)z[bt-j].push(new ee.b(Oe,-1,Y,null,bt===pe.lineNumber?pe.column:-1,bt===me.lineNumber?me.column:-1));I&&(pe.lineNumber>=j&&Re>Oe&&z[pe.lineNumber-j].push(new ee.b(Oe,-1,Y,new ee.c(!1,pe.column),-1,-1)),me.lineNumber<=C&&we>Oe&&z[me.lineNumber-j].push(new ee.b(Oe,-1,Y,new ee.c(!Pe,me.column),-1,-1)))}}}}catch(Wt){ce.e(Wt)}finally{ce.f()}for(var mt=0,jt=z;mt<jt.length;mt++){var Je=jt[mt];Je.sort(function(Wt,Te){return Wt.visibleColumn-Te.visibleColumn})}return z}},{key:"getVisibleColumnFromPosition",value:function(j){return y.a.visibleColumnFromColumn(this.textModel.getLineContent(j.lineNumber),j.column,this.textModel.getOptions().tabSize)+1}},{key:"getLinesIndentGuides",value:function(j,C){this.assertNotDisposed();var x=this.textModel.getLineCount();if(j<1||j>x)throw new Error("Illegal value for startLineNumber");if(C<1||C>x)throw new Error("Illegal value for endLineNumber");for(var S=this.textModel.getOptions(),T=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,z=Boolean(T&&T.offSide),A=new Array(C-j+1),ue=-2,be=-1,de=-2,ke=-1,he=j;he<=C;he++){var ge=he-j,ce=this._computeIndentLevel(he-1);if(ce>=0){ue=he-1,be=ce,A[ge]=Math.ceil(ce/S.indentSize);continue}if(ue===-2){ue=-1,be=-1;for(var k=he-2;k>=0;k--){var w=this._computeIndentLevel(k);if(w>=0){ue=k,be=w;break}}}if(de!==-1&&(de===-2||de<he-1)){de=-1,ke=-1;for(var B=he;B<x;B++){var Y=this._computeIndentLevel(B);if(Y>=0){de=B,ke=Y;break}}}A[ge]=this._getIndentLevelForWhitespaceLine(z,be,ke)}return A}},{key:"_getIndentLevelForWhitespaceLine",value:function(j,C,x){var S=this.textModel.getOptions();return C===-1||x===-1?0:C<x?1+Math.floor(C/S.indentSize):C===x||j?Math.ceil(x/S.indentSize):1+Math.floor(x/S.indentSize)}}]),U}(L.a),F=function(){function V(){Object(De.a)(this,V),this.activeClassName="indent-active"}return Object(E.a)(V,[{key:"getInlineClassName",value:function(U,d,j){return this.getInlineClassNameOfLevel(j?d:U)}},{key:"getInlineClassNameOfLevel",value:function(U){return"bracket-indent-guide lvl-".concat(U%30)}}]),V}()},"6nEQ":function(fn,K,a){},"6vuP":function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("dialogService")},"7/IO":function(fn,K,a){"use strict";a.d(K,"a",function(){return ve});var le=a("fWQN"),De=a("mtLc"),E=a("/cxE"),ve=function(){function re(J,$){if(Object(le.a)(this,re),this.start=J,this.endExclusive=$,J>$)throw new E.a("Invalid range: ".concat(this.toString()))}return Object(De.a)(re,[{key:"isEmpty",get:function(){return this.start===this.endExclusive}},{key:"delta",value:function($){return new re(this.start+$,this.endExclusive+$)}},{key:"length",get:function(){return this.endExclusive-this.start}},{key:"toString",value:function(){return"[".concat(this.start,", ").concat(this.endExclusive,")")}},{key:"equals",value:function($){return this.start===$.start&&this.endExclusive===$.endExclusive}},{key:"containsRange",value:function($){return this.start<=$.start&&$.endExclusive<=this.endExclusive}},{key:"join",value:function($){return new re(Math.min(this.start,$.start),Math.max(this.endExclusive,$.endExclusive))}},{key:"intersect",value:function($){var y=Math.max(this.start,$.start),Q=Math.min(this.endExclusive,$.endExclusive);if(y<=Q)return new re(y,Q)}}],[{key:"addRange",value:function($,y){for(var Q=0;Q<y.length&&y[Q].endExclusive<$.start;)Q++;for(var L=Q;L<y.length&&y[L].start<=$.endExclusive;)L++;if(Q===L)y.splice(Q,0,$);else{var ne=Math.min($.start,y[Q].start),ee=Math.max($.endExclusive,y[L-1].endExclusive);y.splice(Q,L-Q,new re(ne,ee))}}},{key:"tryCreate",value:function($,y){if(!($>y))return new re($,y)}}]),re}()},"7/Ik":function(fn,K,a){"use strict";a.d(K,"b",function(){return B}),a.d(K,"a",function(){return Y}),a.d(K,"c",function(){return pe});var le=a("oBTY"),De=a("fWQN"),E=a("mtLc"),ve=a("tS8v"),re=a("w4Tj"),J=a("oZsa"),$=a("yKVA"),y=a("879j"),Q=a("D3Dy"),L=a("ZQ78"),ne=a("EffR"),ee=a("pg8w"),H=a("SMG5"),W=a("4y0V"),F=a("uDWl"),V=a("w5yO"),N=a("cqdO"),U=a("6OMU"),d=a("MI8n"),j=a("/kV6"),C=a("pmY6"),x=a("MNsG"),S=a("Tdkv"),T=a("3/fG"),z=ne.$,A="selectOption.entry.template",ue=function(){function me(){Object(De.a)(this,me)}return Object(E.a)(me,[{key:"templateId",get:function(){return A}},{key:"renderTemplate",value:function(we){var Re=Object.create(null);return Re.root=we,Re.text=ne.append(we,z(".option-text")),Re.detail=ne.append(we,z(".option-detail")),Re.decoratorRight=ne.append(we,z(".option-decorator-right")),Re}},{key:"renderElement",value:function(we,Re,Oe){var Pe=Oe,Ne=we.text,Ke=we.detail,Xe=we.decoratorRight,wt=we.isDisabled;Pe.text.textContent=Ne,Pe.detail.textContent=Ke||"",Pe.decoratorRight.innerText=Xe||"",wt?Pe.root.classList.add("option-disabled"):Pe.root.classList.remove("option-disabled")}},{key:"disposeTemplate",value:function(we){}}]),me}(),be=function(me){Object($.a)(we,me);var I=Object(y.a)(we);function we(Re,Oe,Pe,Ne,Ke){var Xe;return Object(De.a)(this,we),Xe=I.call(this),Xe.options=[],Xe._currentSelection=0,Xe._hasDetails=!1,Xe._skipLayout=!1,Xe._sticky=!1,Xe._isVisible=!1,Xe.styles=Ne,Xe.selectBoxOptions=Ke||Object.create(null),typeof Xe.selectBoxOptions.minBottomMargin!="number"?Xe.selectBoxOptions.minBottomMargin=we.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:Xe.selectBoxOptions.minBottomMargin<0&&(Xe.selectBoxOptions.minBottomMargin=0),Xe.selectElement=document.createElement("select"),Xe.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof Xe.selectBoxOptions.ariaLabel=="string"&&Xe.selectElement.setAttribute("aria-label",Xe.selectBoxOptions.ariaLabel),typeof Xe.selectBoxOptions.ariaDescription=="string"&&Xe.selectElement.setAttribute("aria-description",Xe.selectBoxOptions.ariaDescription),Xe._onDidSelect=new d.b,Xe._register(Xe._onDidSelect),Xe.registerListeners(),Xe.constructSelectDropDown(Pe),Xe.selected=Oe||0,Re&&Xe.setOptions(Re,Oe),Xe.initStyleSheet(),Xe}return Object(E.a)(we,[{key:"getHeight",value:function(){return 22}},{key:"getTemplateId",value:function(){return A}},{key:"constructSelectDropDown",value:function(Oe){this.contextViewProvider=Oe,this.selectDropDownContainer=ne.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=ne.append(this.selectDropDownContainer,z(".select-box-details-pane"));var Pe=ne.append(this.selectDropDownContainer,z(".select-box-dropdown-container-width-control")),Ne=ne.append(Pe,z(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",ne.append(Ne,this.widthControlElement),this._dropDownPosition=0,this.styleElement=ne.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(ne.addDisposableListener(this.selectDropDownContainer,ne.EventType.DRAG_START,function(Ke){ne.EventHelper.stop(Ke,!0)}))}},{key:"registerListeners",value:function(){var Oe=this;this._register(ne.addStandardDisposableListener(this.selectElement,"change",function(Ne){Oe.selected=Ne.target.selectedIndex,Oe._onDidSelect.fire({index:Ne.target.selectedIndex,selected:Ne.target.value}),!!Oe.options[Oe.selected]&&!!Oe.options[Oe.selected].text&&(Oe.selectElement.title=Oe.options[Oe.selected].text)})),this._register(ne.addDisposableListener(this.selectElement,ne.EventType.CLICK,function(Ne){ne.EventHelper.stop(Ne),Oe._isVisible?Oe.hideSelectDropDown(!0):Oe.showSelectDropDown()})),this._register(ne.addDisposableListener(this.selectElement,ne.EventType.MOUSE_DOWN,function(Ne){ne.EventHelper.stop(Ne)}));var Pe;this._register(ne.addDisposableListener(this.selectElement,"touchstart",function(Ne){Pe=Oe._isVisible})),this._register(ne.addDisposableListener(this.selectElement,"touchend",function(Ne){ne.EventHelper.stop(Ne),Pe?Oe.hideSelectDropDown(!0):Oe.showSelectDropDown()})),this._register(ne.addDisposableListener(this.selectElement,ne.EventType.KEY_DOWN,function(Ne){var Ke=new F.a(Ne),Xe=!1;x.i?(Ke.keyCode===18||Ke.keyCode===16||Ke.keyCode===10||Ke.keyCode===3)&&(Xe=!0):(Ke.keyCode===18&&Ke.altKey||Ke.keyCode===16&&Ke.altKey||Ke.keyCode===10||Ke.keyCode===3)&&(Xe=!0),Xe&&(Oe.showSelectDropDown(),ne.EventHelper.stop(Ne,!0))}))}},{key:"onDidSelect",get:function(){return this._onDidSelect.event}},{key:"setOptions",value:function(Oe,Pe){var Ne=this;U.j(this.options,Oe)||(this.options=Oe,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach(function(Ke,Xe){Ne.selectElement.add(Ne.createOption(Ke.text,Xe,Ke.isDisabled)),typeof Ke.description=="string"&&(Ne._hasDetails=!0)})),Pe!==void 0&&(this.select(Pe),this._currentSelection=this.selected)}},{key:"setOptionsList",value:function(){var Oe;(Oe=this.selectList)===null||Oe===void 0||Oe.splice(0,this.selectList.length,this.options)}},{key:"select",value:function(Oe){Oe>=0&&Oe<this.options.length?this.selected=Oe:Oe>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}},{key:"focus",value:function(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}},{key:"blur",value:function(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}},{key:"setFocusable",value:function(Oe){this.selectElement.tabIndex=Oe?0:-1}},{key:"render",value:function(Oe){this.container=Oe,Oe.classList.add("select-container"),Oe.appendChild(this.selectElement),this.styleSelectElement()}},{key:"initStyleSheet",value:function(){var Oe=[];this.styles.listFocusBackground&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ".concat(this.styles.listFocusBackground," !important; }")),this.styles.listFocusForeground&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ".concat(this.styles.listFocusForeground," !important; }")),this.styles.decoratorRightForeground&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ".concat(this.styles.decoratorRightForeground,"; }")),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(Oe.push(".monaco-select-box-dropdown-container { border: 1px solid ".concat(this.styles.selectBorder," } ")),Oe.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ".concat(this.styles.selectBorder," } ")),Oe.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ".concat(this.styles.selectBorder," } "))):this.styles.selectListBorder&&(Oe.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ".concat(this.styles.selectListBorder," } ")),Oe.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ".concat(this.styles.selectListBorder," } "))),this.styles.listHoverForeground&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ".concat(this.styles.listHoverForeground," !important; }")),this.styles.listHoverBackground&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ".concat(this.styles.listHoverBackground," !important; }")),this.styles.listFocusOutline&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ".concat(this.styles.listFocusOutline," !important; outline-offset: -1.6px !important; }")),this.styles.listHoverOutline&&Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ".concat(this.styles.listHoverOutline," !important; outline-offset: -1.6px !important; }")),Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),Oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=Oe.join(`
`)}},{key:"styleSelectElement",value:function(){var Oe,Pe,Ne,Ke=(Oe=this.styles.selectBackground)!==null&&Oe!==void 0?Oe:"",Xe=(Pe=this.styles.selectForeground)!==null&&Pe!==void 0?Pe:"",wt=(Ne=this.styles.selectBorder)!==null&&Ne!==void 0?Ne:"";this.selectElement.style.backgroundColor=Ke,this.selectElement.style.color=Xe,this.selectElement.style.borderColor=wt}},{key:"styleList",value:function(){var Oe,Pe,Ne=(Oe=this.styles.selectBackground)!==null&&Oe!==void 0?Oe:"",Ke=ne.asCssValueWithDefault(this.styles.selectListBackground,Ne);this.selectDropDownListContainer.style.backgroundColor=Ke,this.selectionDetailsPane.style.backgroundColor=Ke;var Xe=(Pe=this.styles.focusBorder)!==null&&Pe!==void 0?Pe:"";this.selectDropDownContainer.style.outlineColor=Xe,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}},{key:"createOption",value:function(Oe,Pe,Ne){var Ke=document.createElement("option");return Ke.value=Oe,Ke.text=Oe,Ke.disabled=!!Ne,Ke}},{key:"showSelectDropDown",value:function(){var Oe=this;this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:function(){return Oe.selectElement},render:function(Ne){return Oe.renderSelectDropDown(Ne,!0)},layout:function(){Oe.layoutSelectDropDown()},onHide:function(){Oe.selectDropDownContainer.classList.remove("visible"),Oe.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:function(){return Oe.selectElement},render:function(Ne){return Oe.renderSelectDropDown(Ne)},layout:function(){return Oe.layoutSelectDropDown()},onHide:function(){Oe.selectDropDownContainer.classList.remove("visible"),Oe.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}},{key:"hideSelectDropDown",value:function(Oe){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),Oe&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}},{key:"renderSelectDropDown",value:function(Oe,Pe){var Ne=this;return Oe.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(Pe),{dispose:function(){try{Oe.removeChild(Ne.selectDropDownContainer)}catch(Xe){}}}}},{key:"measureMaxDetailsHeight",value:function(){var Oe=this,Pe=0;return this.options.forEach(function(Ne,Ke){Oe.updateDetail(Ke),Oe.selectionDetailsPane.offsetHeight>Pe&&(Pe=Oe.selectionDetailsPane.offsetHeight)}),Pe}},{key:"layoutSelectDropDown",value:function(Oe){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");var Pe=ne.getDomNodePagePosition(this.selectElement),Ne=getComputedStyle(this.selectElement),Ke=parseFloat(Ne.getPropertyValue("--dropdown-padding-top"))+parseFloat(Ne.getPropertyValue("--dropdown-padding-bottom")),Xe=window.innerHeight-Pe.top-Pe.height-(this.selectBoxOptions.minBottomMargin||0),wt=Pe.top-we.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,Ct=this.selectElement.offsetWidth,bt=this.setWidthControlElement(this.widthControlElement),mt=Math.max(bt,Math.round(Ct)).toString()+"px";this.selectDropDownContainer.style.width=mt,this.selectList.getHTMLElement().style.height="",this.selectList.layout();var jt=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());var Je=this._hasDetails?this._cachedMaxDetailsHeight:0,Wt=jt+Ke+Je,Te=Math.floor((Xe-Ke-Je)/this.getHeight()),fe=Math.floor((wt-Ke-Je)/this.getHeight());if(Oe)return Pe.top+Pe.height>window.innerHeight-22||Pe.top<we.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||Te<1&&fe<1?!1:(Te<we.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&fe>Te&&this.options.length>Te?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(Pe.top+Pe.height>window.innerHeight-22||Pe.top<we.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&Te<1||this._dropDownPosition===1&&fe<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&Te+fe<1)return this.hideSelectDropDown(!0),!1;Wt>Xe&&(jt=Te*this.getHeight())}else Wt>wt&&(jt=fe*this.getHeight());return this.selectList.layout(jt),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=jt+Ke+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=jt+Ke+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=mt,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}},{key:"setWidthControlElement",value:function(Oe){var Pe=0;if(Oe){var Ne=0,Ke=0;this.options.forEach(function(Xe,wt){var Ct=Xe.detail?Xe.detail.length:0,bt=Xe.decoratorRight?Xe.decoratorRight.length:0,mt=Xe.text.length+Ct+bt;mt>Ke&&(Ne=wt,Ke=mt)}),Oe.textContent=this.options[Ne].text+(this.options[Ne].decoratorRight?this.options[Ne].decoratorRight+" ":""),Pe=ne.getTotalWidth(Oe)}return Pe}},{key:"createSelectList",value:function(Oe){var Pe=this;if(!this.selectList){this.selectDropDownListContainer=ne.append(Oe,z(".select-box-dropdown-list-container")),this.listRenderer=new ue,this.selectList=new N.b("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:function(wt){var Ct=wt.text;return wt.detail&&(Ct+=". ".concat(wt.detail)),wt.decoratorRight&&(Ct+=". ".concat(wt.decoratorRight)),wt.description&&(Ct+=". ".concat(wt.description)),Ct},getWidgetAriaLabel:function(){return Object(T.b)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box")},getRole:function(){return x.i?"":"option"},getWidgetRole:function(){return"listbox"}}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);var Ne=this._register(new W.a(this.selectDropDownListContainer,"keydown")),Ke=d.c.chain(Ne.event).filter(function(){return Pe.selectList.length>0}).map(function(Xe){return new F.a(Xe)});this._register(Ke.filter(function(Xe){return Xe.keyCode===3}).on(function(Xe){return Pe.onEnter(Xe)},this)),this._register(Ke.filter(function(Xe){return Xe.keyCode===2}).on(function(Xe){return Pe.onEnter(Xe)},this)),this._register(Ke.filter(function(Xe){return Xe.keyCode===9}).on(function(Xe){return Pe.onEscape(Xe)},this)),this._register(Ke.filter(function(Xe){return Xe.keyCode===16}).on(function(Xe){return Pe.onUpArrow(Xe)},this)),this._register(Ke.filter(function(Xe){return Xe.keyCode===18}).on(function(Xe){return Pe.onDownArrow(Xe)},this)),this._register(Ke.filter(function(Xe){return Xe.keyCode===12}).on(this.onPageDown,this)),this._register(Ke.filter(function(Xe){return Xe.keyCode===11}).on(this.onPageUp,this)),this._register(Ke.filter(function(Xe){return Xe.keyCode===14}).on(this.onHome,this)),this._register(Ke.filter(function(Xe){return Xe.keyCode===13}).on(this.onEnd,this)),this._register(Ke.filter(function(Xe){return Xe.keyCode>=21&&Xe.keyCode<=56||Xe.keyCode>=85&&Xe.keyCode<=113}).on(this.onCharacter,this)),this._register(ne.addDisposableListener(this.selectList.getHTMLElement(),ne.EventType.POINTER_UP,function(Xe){return Pe.onPointerUp(Xe)})),this._register(this.selectList.onMouseOver(function(Xe){return typeof Xe.index!="undefined"&&Pe.selectList.setFocus([Xe.index])})),this._register(this.selectList.onDidChangeFocus(function(Xe){return Pe.onListFocus(Xe)})),this._register(ne.addDisposableListener(this.selectDropDownContainer,ne.EventType.FOCUS_OUT,function(Xe){!Pe._isVisible||ne.isAncestor(Xe.relatedTarget,Pe.selectDropDownContainer)||Pe.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}}},{key:"onPointerUp",value:function(Oe){if(!!this.selectList.length){ne.EventHelper.stop(Oe);var Pe=Oe.target;if(!!Pe&&!Pe.classList.contains("slider")){var Ne=Pe.closest(".monaco-list-row");if(!!Ne){var Ke=Number(Ne.getAttribute("data-index")),Xe=Ne.classList.contains("option-disabled");Ke>=0&&Ke<this.options.length&&!Xe&&(this.selected=Ke,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}}}}},{key:"onListBlur",value:function(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}},{key:"renderDescriptionMarkdown",value:function(Oe,Pe){var Ne=function Xe(wt){for(var Ct=0;Ct<wt.childNodes.length;Ct++){var bt=wt.childNodes.item(Ct),mt=bt.tagName&&bt.tagName.toLowerCase();mt==="img"?wt.removeChild(bt):Xe(bt)}},Ke=Object(V.a)({value:Oe,supportThemeIcons:!0},{actionHandler:Pe});return Ke.element.classList.add("select-box-description-markdown"),Ne(Ke.element),Ke.element}},{key:"onListFocus",value:function(Oe){!this._isVisible||!this._hasDetails||this.updateDetail(Oe.indexes[0])}},{key:"updateDetail",value:function(Oe){var Pe,Ne;this.selectionDetailsPane.innerText="";var Ke=this.options[Oe],Xe=(Pe=Ke==null?void 0:Ke.description)!==null&&Pe!==void 0?Pe:"",wt=(Ne=Ke==null?void 0:Ke.descriptionIsMarkdown)!==null&&Ne!==void 0?Ne:!1;if(Xe){if(wt){var Ct=Ke.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(Xe,Ct))}else this.selectionDetailsPane.innerText=Xe;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}},{key:"onEscape",value:function(Oe){ne.EventHelper.stop(Oe),this.select(this._currentSelection),this.hideSelectDropDown(!0)}},{key:"onEnter",value:function(Oe){ne.EventHelper.stop(Oe),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}},{key:"onDownArrow",value:function(Oe){if(this.selected<this.options.length-1){ne.EventHelper.stop(Oe,!0);var Pe=this.options[this.selected+1].isDisabled;if(Pe&&this.options.length>this.selected+2)this.selected+=2;else{if(Pe)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}},{key:"onUpArrow",value:function(Oe){if(this.selected>0){ne.EventHelper.stop(Oe,!0);var Pe=this.options[this.selected-1].isDisabled;Pe&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}},{key:"onPageUp",value:function(Oe){var Pe=this;ne.EventHelper.stop(Oe),this.selectList.focusPreviousPage(),setTimeout(function(){Pe.selected=Pe.selectList.getFocus()[0],Pe.options[Pe.selected].isDisabled&&Pe.selected<Pe.options.length-1&&(Pe.selected++,Pe.selectList.setFocus([Pe.selected])),Pe.selectList.reveal(Pe.selected),Pe.select(Pe.selected)},1)}},{key:"onPageDown",value:function(Oe){var Pe=this;ne.EventHelper.stop(Oe),this.selectList.focusNextPage(),setTimeout(function(){Pe.selected=Pe.selectList.getFocus()[0],Pe.options[Pe.selected].isDisabled&&Pe.selected>0&&(Pe.selected--,Pe.selectList.setFocus([Pe.selected])),Pe.selectList.reveal(Pe.selected),Pe.select(Pe.selected)},1)}},{key:"onHome",value:function(Oe){ne.EventHelper.stop(Oe),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}},{key:"onEnd",value:function(Oe){ne.EventHelper.stop(Oe),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}},{key:"onCharacter",value:function(Oe){for(var Pe=j.d.toString(Oe.keyCode),Ne=-1,Ke=0;Ke<this.options.length-1;Ke++)if(Ne=(Ke+this.selected+1)%this.options.length,this.options[Ne].text.charAt(0).toUpperCase()===Pe&&!this.options[Ne].isDisabled){this.select(Ne),this.selectList.setFocus([Ne]),this.selectList.reveal(this.selectList.getFocus()[0]),ne.EventHelper.stop(Oe);break}}},{key:"dispose",value:function(){this.hideSelectDropDown(!1),Object(re.a)(Object(J.a)(we.prototype),"dispose",this).call(this)}}]),we}(C.a);be.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,be.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,be.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;var de=function(me){Object($.a)(we,me);var I=Object(y.a)(we);function we(Re,Oe,Pe,Ne){var Ke;return Object(De.a)(this,we),Ke=I.call(this),Ke.selected=0,Ke.selectBoxOptions=Ne||Object.create(null),Ke.options=[],Ke.selectElement=document.createElement("select"),Ke.selectElement.className="monaco-select-box",typeof Ke.selectBoxOptions.ariaLabel=="string"&&Ke.selectElement.setAttribute("aria-label",Ke.selectBoxOptions.ariaLabel),typeof Ke.selectBoxOptions.ariaDescription=="string"&&Ke.selectElement.setAttribute("aria-description",Ke.selectBoxOptions.ariaDescription),Ke._onDidSelect=Ke._register(new d.b),Ke.styles=Pe,Ke.registerListeners(),Ke.setOptions(Re,Oe),Ke}return Object(E.a)(we,[{key:"registerListeners",value:function(){var Oe=this;this._register(ee.b.addTarget(this.selectElement)),[ee.a.Tap].forEach(function(Pe){Oe._register(ne.addDisposableListener(Oe.selectElement,Pe,function(Ne){Oe.selectElement.focus()}))}),this._register(ne.addStandardDisposableListener(this.selectElement,"click",function(Pe){ne.EventHelper.stop(Pe,!0)})),this._register(ne.addStandardDisposableListener(this.selectElement,"change",function(Pe){Oe.selectElement.title=Pe.target.value,Oe._onDidSelect.fire({index:Pe.target.selectedIndex,selected:Pe.target.value})})),this._register(ne.addStandardDisposableListener(this.selectElement,"keydown",function(Pe){var Ne=!1;x.i?(Pe.keyCode===18||Pe.keyCode===16||Pe.keyCode===10)&&(Ne=!0):(Pe.keyCode===18&&Pe.altKey||Pe.keyCode===10||Pe.keyCode===3)&&(Ne=!0),Ne&&Pe.stopPropagation()}))}},{key:"onDidSelect",get:function(){return this._onDidSelect.event}},{key:"setOptions",value:function(Oe,Pe){var Ne=this;(!this.options||!U.j(this.options,Oe))&&(this.options=Oe,this.selectElement.options.length=0,this.options.forEach(function(Ke,Xe){Ne.selectElement.add(Ne.createOption(Ke.text,Xe,Ke.isDisabled))})),Pe!==void 0&&this.select(Pe)}},{key:"select",value:function(Oe){this.options.length===0?this.selected=0:Oe>=0&&Oe<this.options.length?this.selected=Oe:Oe>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}},{key:"focus",value:function(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}},{key:"blur",value:function(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}},{key:"setFocusable",value:function(Oe){this.selectElement.tabIndex=Oe?0:-1}},{key:"render",value:function(Oe){Oe.classList.add("select-container"),Oe.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}},{key:"applyStyles",value:function(){var Oe,Pe,Ne;this.selectElement&&(this.selectElement.style.backgroundColor=(Oe=this.styles.selectBackground)!==null&&Oe!==void 0?Oe:"",this.selectElement.style.color=(Pe=this.styles.selectForeground)!==null&&Pe!==void 0?Pe:"",this.selectElement.style.borderColor=(Ne=this.styles.selectBorder)!==null&&Ne!==void 0?Ne:"")}},{key:"createOption",value:function(Oe,Pe,Ne){var Ke=document.createElement("option");return Ke.value=Oe,Ke.text=Oe,Ke.disabled=!!Ne,Ke}}]),we}(C.a),ke=a("G300"),he=a("YftQ"),ge=function(me){Object($.a)(we,me);var I=Object(y.a)(we);function we(Re,Oe,Pe,Ne,Ke){var Xe;return Object(De.a)(this,we),Xe=I.call(this),x.i&&!(Ke==null?void 0:Ke.useCustomDrawn)?Xe.selectBoxDelegate=new de(Re,Oe,Ne,Ke):Xe.selectBoxDelegate=new be(Re,Oe,Pe,Ne,Ke),Xe._register(Xe.selectBoxDelegate),Xe}return Object(E.a)(we,[{key:"onDidSelect",get:function(){return this.selectBoxDelegate.onDidSelect}},{key:"setOptions",value:function(Oe,Pe){this.selectBoxDelegate.setOptions(Oe,Pe)}},{key:"select",value:function(Oe){this.selectBoxDelegate.select(Oe)}},{key:"focus",value:function(){this.selectBoxDelegate.focus()}},{key:"blur",value:function(){this.selectBoxDelegate.blur()}},{key:"setFocusable",value:function(Oe){this.selectBoxDelegate.setFocusable(Oe)}},{key:"render",value:function(Oe){this.selectBoxDelegate.render(Oe)}}]),we}(ke.a),ce=a("8HAY"),k=a("746U"),w=a("yEoX"),B=function(me){Object($.a)(we,me);var I=Object(y.a)(we);function we(Re,Oe){var Pe,Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object(De.a)(this,we),Pe=I.call(this),Pe.options=Ne,Pe._context=Re||Object(ve.a)(Pe),Pe._action=Oe,Oe instanceof ce.a&&Pe._register(Oe.onDidChange(function(Ke){!Pe.element||Pe.handleActionChangeEvent(Ke)})),Pe}return Object(E.a)(we,[{key:"action",get:function(){return this._action}},{key:"handleActionChangeEvent",value:function(Oe){Oe.enabled!==void 0&&this.updateEnabled(),Oe.checked!==void 0&&this.updateChecked(),Oe.class!==void 0&&this.updateClass(),Oe.label!==void 0&&(this.updateLabel(),this.updateTooltip()),Oe.tooltip!==void 0&&this.updateTooltip()}},{key:"actionRunner",get:function(){return this._actionRunner||(this._actionRunner=this._register(new ce.b)),this._actionRunner},set:function(Oe){this._actionRunner=Oe}},{key:"isEnabled",value:function(){return this._action.enabled}},{key:"setActionContext",value:function(Oe){this._context=Oe}},{key:"render",value:function(Oe){var Pe=this,Ne=this.element=Oe;this._register(ee.b.addTarget(Oe));var Ke=this.options&&this.options.draggable;Ke&&(Oe.draggable=!0,Q.isFirefox&&this._register(Object(ne.addDisposableListener)(Oe,ne.EventType.DRAG_START,function(Xe){var wt;return(wt=Xe.dataTransfer)===null||wt===void 0?void 0:wt.setData(L.a.TEXT,Pe._action.label)}))),this._register(Object(ne.addDisposableListener)(Ne,ee.a.Tap,function(Xe){return Pe.onClick(Xe,!0)})),this._register(Object(ne.addDisposableListener)(Ne,ne.EventType.MOUSE_DOWN,function(Xe){Ke||ne.EventHelper.stop(Xe,!0),Pe._action.enabled&&Xe.button===0&&Ne.classList.add("active")})),x.i&&this._register(Object(ne.addDisposableListener)(Ne,ne.EventType.CONTEXT_MENU,function(Xe){Xe.button===0&&Xe.ctrlKey===!0&&Pe.onClick(Xe)})),this._register(Object(ne.addDisposableListener)(Ne,ne.EventType.CLICK,function(Xe){ne.EventHelper.stop(Xe,!0),Pe.options&&Pe.options.isMenu||Pe.onClick(Xe)})),this._register(Object(ne.addDisposableListener)(Ne,ne.EventType.DBLCLICK,function(Xe){ne.EventHelper.stop(Xe,!0)})),[ne.EventType.MOUSE_UP,ne.EventType.MOUSE_OUT].forEach(function(Xe){Pe._register(Object(ne.addDisposableListener)(Ne,Xe,function(wt){ne.EventHelper.stop(wt),Ne.classList.remove("active")}))})}},{key:"onClick",value:function(Oe){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ne;ne.EventHelper.stop(Oe,!0);var Ke=k.l(this._context)?((Ne=this.options)===null||Ne===void 0?void 0:Ne.useEventAsContext)?Oe:{preserveFocus:Pe}:this._context;this.actionRunner.run(this._action,Ke)}},{key:"focus",value:function(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}},{key:"blur",value:function(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}},{key:"setFocusable",value:function(Oe){this.element&&(this.element.tabIndex=Oe?0:-1)}},{key:"trapsArrowNavigation",get:function(){return!1}},{key:"updateEnabled",value:function(){}},{key:"updateLabel",value:function(){}},{key:"getTooltip",value:function(){return this.action.tooltip}},{key:"updateTooltip",value:function(){var Oe;if(!!this.element){var Pe=(Oe=this.getTooltip())!==null&&Oe!==void 0?Oe:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(Pe):(this.customHover=Object(H.a)(this.options.hoverDelegate,this.element,Pe),this._store.add(this.customHover))):this.element.title=Pe}}},{key:"updateAriaLabel",value:function(){var Oe;if(this.element){var Pe=(Oe=this.getTooltip())!==null&&Oe!==void 0?Oe:"";this.element.setAttribute("aria-label",Pe)}}},{key:"updateClass",value:function(){}},{key:"updateChecked",value:function(){}},{key:"dispose",value:function(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,Object(re.a)(Object(J.a)(we.prototype),"dispose",this).call(this)}}]),we}(C.a),Y=function(me){Object($.a)(we,me);var I=Object(y.a)(we);function we(Re,Oe,Pe){var Ne;return Object(De.a)(this,we),Ne=I.call(this,Re,Oe,Pe),Ne.options=Pe,Ne.options.icon=Pe.icon!==void 0?Pe.icon:!1,Ne.options.label=Pe.label!==void 0?Pe.label:!0,Ne.cssClass="",Ne}return Object(E.a)(we,[{key:"render",value:function(Oe){Object(re.a)(Object(J.a)(we.prototype),"render",this).call(this,Oe),this.element&&(this.label=Object(ne.append)(this.element,Object(ne.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this.getDefaultAriaRole()),this.options.label&&this.options.keybinding&&this.element&&(Object(ne.append)(this.element,Object(ne.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}},{key:"getDefaultAriaRole",value:function(){return this._action.id===ce.d.ID?"presentation":this.options.isMenu?"menuitem":"button"}},{key:"focus",value:function(){this.label&&(this.label.tabIndex=0,this.label.focus())}},{key:"blur",value:function(){this.label&&(this.label.tabIndex=-1)}},{key:"setFocusable",value:function(Oe){this.label&&(this.label.tabIndex=Oe?0:-1)}},{key:"updateLabel",value:function(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}},{key:"getTooltip",value:function(){var Oe=null;return this.action.tooltip?Oe=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(Oe=this.action.label,this.options.keybinding&&(Oe=T.b({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",Oe,this.options.keybinding))),Oe!=null?Oe:void 0}},{key:"updateClass",value:function(){var Oe;if(this.cssClass&&this.label){var Pe;(Pe=this.label.classList).remove.apply(Pe,Object(le.a)(this.cssClass.split(" ")))}if(this.options.icon){if(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass)){var Ne;(Ne=this.label.classList).add.apply(Ne,Object(le.a)(this.cssClass.split(" ")))}this.updateEnabled()}else(Oe=this.label)===null||Oe===void 0||Oe.classList.remove("codicon")}},{key:"updateEnabled",value:function(){var Oe,Pe;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(Oe=this.element)===null||Oe===void 0||Oe.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(Pe=this.element)===null||Pe===void 0||Pe.classList.add("disabled"))}},{key:"updateAriaLabel",value:function(){var Oe;if(this.label){var Pe=(Oe=this.getTooltip())!==null&&Oe!==void 0?Oe:"";this.label.setAttribute("aria-label",Pe)}}},{key:"updateChecked",value:function(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.setAttribute("aria-checked",""),this.label.setAttribute("role",this.getDefaultAriaRole())))}}]),we}(B),pe=function(me){Object($.a)(we,me);var I=Object(y.a)(we);function we(Re,Oe,Pe,Ne,Ke,Xe,wt){var Ct;return Object(De.a)(this,we),Ct=I.call(this,Re,Oe),Ct.selectBox=new ge(Pe,Ne,Ke,Xe,wt),Ct.selectBox.setFocusable(!1),Ct._register(Ct.selectBox),Ct.registerListeners(),Ct}return Object(E.a)(we,[{key:"select",value:function(Oe){this.selectBox.select(Oe)}},{key:"registerListeners",value:function(){var Oe=this;this._register(this.selectBox.onDidSelect(function(Pe){return Oe.runAction(Pe.selected,Pe.index)}))}},{key:"runAction",value:function(Oe,Pe){this.actionRunner.run(this._action,this.getActionContext(Oe,Pe))}},{key:"getActionContext",value:function(Oe,Pe){return Oe}},{key:"setFocusable",value:function(Oe){this.selectBox.setFocusable(Oe)}},{key:"focus",value:function(){var Oe;(Oe=this.selectBox)===null||Oe===void 0||Oe.focus()}},{key:"blur",value:function(){var Oe;(Oe=this.selectBox)===null||Oe===void 0||Oe.blur()}},{key:"render",value:function(Oe){this.selectBox.render(Oe)}}]),we}(B)},"746U":function(fn,K,a){"use strict";a.d(K,"i",function(){return le}),a.d(K,"h",function(){return De}),a.d(K,"j",function(){return E}),a.d(K,"g",function(){return ve}),a.d(K,"f",function(){return re}),a.d(K,"c",function(){return J}),a.d(K,"k",function(){return $}),a.d(K,"d",function(){return y}),a.d(K,"l",function(){return Q}),a.d(K,"b",function(){return L}),a.d(K,"a",function(){return ne}),a.d(K,"e",function(){return ee}),a.d(K,"m",function(){return H}),a.d(K,"n",function(){return F}),a.d(K,"o",function(){return V});function le(N){return typeof N=="string"}function De(N){return typeof N=="object"&&N!==null&&!Array.isArray(N)&&!(N instanceof RegExp)&&!(N instanceof Date)}function E(N){var U=Object.getPrototypeOf(Uint8Array);return typeof N=="object"&&N instanceof U}function ve(N){return typeof N=="number"&&!isNaN(N)}function re(N){return!!N&&typeof N[Symbol.iterator]=="function"}function J(N){return N===!0||N===!1}function $(N){return typeof N=="undefined"}function y(N){return!Q(N)}function Q(N){return $(N)||N===null}function L(N,U){if(!N)throw new Error(U?"Unexpected type, expected '".concat(U,"'"):"Unexpected type")}function ne(N){if(Q(N))throw new Error("Assertion Failed: argument is undefined or null");return N}function ee(N){return typeof N=="function"}function H(N,U){for(var d=Math.min(N.length,U.length),j=0;j<d;j++)W(N[j],U[j])}function W(N,U){if(le(U)){if(typeof N!==U)throw new Error("argument does not match constraint: typeof ".concat(U))}else if(ee(U)){try{if(N instanceof U)return}catch(d){}if(!Q(N)&&N.constructor===U||U.length===1&&U.call(void 0,N)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function F(N){return N===null?void 0:N}function V(N){return typeof N=="undefined"?null:N}},"7AJZ":function(fn,K,a){"use strict";a.d(K,"a",function(){return ve}),a.d(K,"b",function(){return re}),a.d(K,"c",function(){return J});var le=a("fWQN"),De=a("mtLc"),E=a("LloX"),ve=new(function(){function $(){Object(le.a)(this,$)}return Object(De.a)($,[{key:"clone",value:function(){return this}},{key:"equals",value:function(Q){return this===Q}}]),$}());function re($,y){return new E.n([new E.l(0,"",$)],y)}function J($,y){var Q=new Uint32Array(2);return Q[0]=0,Q[1]=($<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new E.d(Q,y===null?ve:y)}},"7GBL":function(fn,K,a){},"7afs":function(fn,K,a){"use strict";a.d(K,"c",function(){return ve}),a.d(K,"b",function(){return re}),a.d(K,"d",function(){return y}),a.d(K,"a",function(){return F});var le=a("fWQN"),De=a("mtLc"),E=a("N0LK");function ve(V){return re(V,0)}function re(V,N){switch(typeof V){case"object":return V===null?J(349,N):Array.isArray(V)?Q(V,N):L(V,N);case"string":return y(V,N);case"boolean":return $(V,N);case"number":return J(V,N);case"undefined":return J(937,N);default:return J(617,N)}}function J(V,N){return(N<<5)-N+V|0}function $(V,N){return J(V?433:863,N)}function y(V,N){N=J(149417,N);for(var U=0,d=V.length;U<d;U++)N=J(V.charCodeAt(U),N);return N}function Q(V,N){return N=J(104579,N),V.reduce(function(U,d){return re(d,U)},N)}function L(V,N){return N=J(181387,N),Object.keys(V).sort().reduce(function(U,d){return U=y(d,U),re(V[d],U)},N)}function ne(V,N){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:32,d=U-N,j=~((1<<d)-1);return(V<<N|(j&V)>>>d)>>>0}function ee(V){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V.byteLength,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,j=0;j<U;j++)V[N+j]=d}function H(V,N){for(var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";V.length<N;)V=U+V;return V}function W(V){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:32;return V instanceof ArrayBuffer?Array.from(new Uint8Array(V)).map(function(U){return U.toString(16).padStart(2,"0")}).join(""):H((V>>>0).toString(16),N/4)}var F=function(){function V(){Object(le.a)(this,V),this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}return Object(De.a)(V,[{key:"update",value:function(U){var d=U.length;if(d!==0){var j=this._buff,C=this._buffLen,x=this._leftoverHighSurrogate,S,T;for(x!==0?(S=x,T=-1,x=0):(S=U.charCodeAt(0),T=0);;){var z=S;if(E.F(S))if(T+1<d){var A=U.charCodeAt(T+1);E.G(A)?(T++,z=E.l(S,A)):z=65533}else{x=S;break}else E.G(S)&&(z=65533);if(C=this._push(j,C,z),T++,T<d)S=U.charCodeAt(T);else break}this._buffLen=C,this._leftoverHighSurrogate=x}}},{key:"_push",value:function(U,d,j){return j<128?U[d++]=j:j<2048?(U[d++]=192|(j&1984)>>>6,U[d++]=128|(j&63)>>>0):j<65536?(U[d++]=224|(j&61440)>>>12,U[d++]=128|(j&4032)>>>6,U[d++]=128|(j&63)>>>0):(U[d++]=240|(j&1835008)>>>18,U[d++]=128|(j&258048)>>>12,U[d++]=128|(j&4032)>>>6,U[d++]=128|(j&63)>>>0),d>=64&&(this._step(),d-=64,this._totalLen+=64,U[0]=U[64+0],U[1]=U[64+1],U[2]=U[64+2]),d}},{key:"digest",value:function(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),W(this._h0)+W(this._h1)+W(this._h2)+W(this._h3)+W(this._h4)}},{key:"_wrapUp",value:function(){this._buff[this._buffLen++]=128,ee(this._buff,this._buffLen),this._buffLen>56&&(this._step(),ee(this._buff));var U=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(U/4294967296),!1),this._buffDV.setUint32(60,U%4294967296,!1),this._step()}},{key:"_step",value:function(){for(var U=V._bigBlock32,d=this._buffDV,j=0;j<64;j+=4)U.setUint32(j,d.getUint32(j,!1),!1);for(var C=64;C<320;C+=4)U.setUint32(C,ne(U.getUint32(C-12,!1)^U.getUint32(C-32,!1)^U.getUint32(C-56,!1)^U.getUint32(C-64,!1),1),!1);for(var x=this._h0,S=this._h1,T=this._h2,z=this._h3,A=this._h4,ue,be,de,ke=0;ke<80;ke++)ke<20?(ue=S&T|~S&z,be=1518500249):ke<40?(ue=S^T^z,be=1859775393):ke<60?(ue=S&T|S&z|T&z,be=2400959708):(ue=S^T^z,be=3395469782),de=ne(x,5)+ue+A+be+U.getUint32(ke*4,!1)&4294967295,A=z,z=T,T=ne(S,30),S=x,x=de;this._h0=this._h0+x&4294967295,this._h1=this._h1+S&4294967295,this._h2=this._h2+T&4294967295,this._h3=this._h3+z&4294967295,this._h4=this._h4+A&4294967295}}]),V}();F._bigBlock32=new DataView(new ArrayBuffer(320))},"7lZ/":function(fn,K,a){"use strict";a.d(K,"a",function(){return y});var le=a("oBTY"),De=a("rAM+"),E=a("fWQN"),ve=a("mtLc"),re=a("EffR"),J=a("fdyd"),$=a("qj0h"),y=function(){function Q(L,ne){Object(E.a)(this,Q);var ee;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(ee=ne==null?void 0:ne.supportIcons)!==null&&ee!==void 0?ee:!1,this.domNode=re.append(L,re.$("span.monaco-highlighted-label"))}return Object(ve.a)(Q,[{key:"element",get:function(){return this.domNode}},{key:"set",value:function(ne){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",W=arguments.length>3?arguments[3]:void 0;ne||(ne=""),W&&(ne=Q.escapeNewLines(ne,ee)),!(this.didEverRender&&this.text===ne&&this.title===H&&$.e(this.highlights,ee))&&(this.text=ne,this.title=H,this.highlights=ee,this.render())}},{key:"render",value:function(){var ne=[],ee=0,H=Object(De.a)(this.highlights),W;try{for(H.s();!(W=H.n()).done;){var F=W.value;if(F.end!==F.start){if(ee<F.start){var V=this.text.substring(ee,F.start);this.supportIcons?ne.push.apply(ne,Object(le.a)(Object(J.a)(V))):ne.push(V),ee=F.start}var N=this.text.substring(ee,F.end),U=re.$.apply(re,["span.highlight",void 0].concat(Object(le.a)(this.supportIcons?Object(J.a)(N):[N])));if(F.extraClasses){var d;(d=U.classList).add.apply(d,Object(le.a)(F.extraClasses))}ne.push(U),ee=F.end}}}catch(C){H.e(C)}finally{H.f()}if(ee<this.text.length){var j=this.text.substring(ee);this.supportIcons?ne.push.apply(ne,Object(le.a)(Object(J.a)(j))):ne.push(j)}re.reset.apply(re,[this.domNode].concat(ne)),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}}],[{key:"escapeNewLines",value:function(ne,ee){var H=0,W=0;return ne.replace(/\r\n|\r|\n/g,function(F,V){W=F===`\r
`?-1:0,V+=H;var N=Object(De.a)(ee),U;try{for(N.s();!(U=N.n()).done;){var d=U.value;d.end<=V||(d.start>=V&&(d.start+=W),d.end>=V&&(d.end+=W))}}catch(j){N.e(j)}finally{N.f()}return H+=W,"\u23CE"})}}]),Q}()},"7z/i":function(fn,K,a){"use strict";(function(le){var De=typeof le!="undefined"&&le.versions!=null&&le.versions.node!=null,E=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!De};K.a=E}).call(this,a("Q2Ig"))},"7zd4":function(fn,K,a){},"87Gm":function(fn,K,a){"use strict";a.d(K,"a",function(){return C}),a.d(K,"b",function(){return x}),a.d(K,"c",function(){return S});var le=a("w4Tj"),De=a("oZsa"),E=a("yKVA"),ve=a("879j"),re=a("fWQN"),J=a("mtLc"),$=a("N0LK"),y=a("aokT"),Q=a("JQT/"),L=a("pmY6"),ne=a("tS8v"),ee=a("sswD"),H=a("T8No"),W=a("24hK"),F=a("Cg/j"),V=a("9fML"),N=a("3/fG"),U=Object(F.c)("IEditorCancelService"),d=new H.c("cancellableOperation",!1,Object(N.b)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Object(V.b)(U,function(){function T(){Object(re.a)(this,T),this._tokens=new WeakMap}return Object(J.a)(T,[{key:"add",value:function(A,ue){var be=this._tokens.get(A);be||(be=A.invokeWithinContext(function(ke){var he=d.bindTo(ke.get(H.b)),ge=new W.a;return{key:he,tokens:ge}}),this._tokens.set(A,be));var de;return be.key.set(!0),de=be.tokens.push(ue),function(){de&&(de(),be.key.set(!be.tokens.isEmpty()),de=void 0)}}},{key:"cancel",value:function(A){var ue=this._tokens.get(A);if(!!ue){var be=ue.tokens.pop();be&&(be.cancel(),ue.key.set(!ue.tokens.isEmpty()))}}}]),T}(),1);var j=function(T){Object(E.a)(A,T);var z=Object(ve.a)(A);function A(ue,be){var de;return Object(re.a)(this,A),de=z.call(this,be),de.editor=ue,de._unregister=ue.invokeWithinContext(function(ke){return ke.get(U).add(ue,Object(ne.a)(de))}),de}return Object(J.a)(A,[{key:"dispose",value:function(){this._unregister(),Object(le.a)(Object(De.a)(A.prototype),"dispose",this).call(this)}}]),A}(Q.b);Object(ee.l)(new(function(T){Object(E.a)(A,T);var z=Object(ve.a)(A);function A(){return Object(re.a)(this,A),z.call(this,{id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:d})}return Object(J.a)(A,[{key:"runEditorCommand",value:function(be,de){be.get(U).cancel(de)}}]),A}(ee.d)));var C=function(){function T(z,A){if(Object(re.a)(this,T),this.flags=A,(this.flags&1)!=0){var ue=z.getModel();this.modelVersionId=ue?$.v("{0}#{1}",ue.uri.toString(),ue.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=z.getPosition():this.position=null,(this.flags&2)!=0?this.selection=z.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=z.getScrollLeft(),this.scrollTop=z.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}return Object(J.a)(T,[{key:"_equals",value:function(A){if(!(A instanceof T))return!1;var ue=A;return!(this.modelVersionId!==ue.modelVersionId||this.scrollLeft!==ue.scrollLeft||this.scrollTop!==ue.scrollTop||!this.position&&ue.position||this.position&&!ue.position||this.position&&ue.position&&!this.position.equals(ue.position)||!this.selection&&ue.selection||this.selection&&!ue.selection||this.selection&&ue.selection&&!this.selection.equalsRange(ue.selection))}},{key:"validate",value:function(A){return this._equals(new T(A,this.flags))}}]),T}(),x=function(T){Object(E.a)(A,T);var z=Object(ve.a)(A);function A(ue,be,de,ke){var he;return Object(re.a)(this,A),he=z.call(this,ue,ke),he._listener=new L.c,be&4&&he._listener.add(ue.onDidChangeCursorPosition(function(ge){(!de||!y.a.containsPosition(de,ge.position))&&he.cancel()})),be&2&&he._listener.add(ue.onDidChangeCursorSelection(function(ge){(!de||!y.a.containsRange(de,ge.selection))&&he.cancel()})),be&8&&he._listener.add(ue.onDidScrollChange(function(ge){return he.cancel()})),be&1&&(he._listener.add(ue.onDidChangeModel(function(ge){return he.cancel()})),he._listener.add(ue.onDidChangeModelContent(function(ge){return he.cancel()}))),he}return Object(J.a)(A,[{key:"dispose",value:function(){this._listener.dispose(),Object(le.a)(Object(De.a)(A.prototype),"dispose",this).call(this)}}]),A}(j),S=function(T){Object(E.a)(A,T);var z=Object(ve.a)(A);function A(ue,be){var de;return Object(re.a)(this,A),de=z.call(this,be),de._listener=ue.onDidChangeContent(function(){return de.cancel()}),de}return Object(J.a)(A,[{key:"dispose",value:function(){this._listener.dispose(),Object(le.a)(Object(De.a)(A.prototype),"dispose",this).call(this)}}]),A}(Q.b)},"8HAY":function(fn,K,a){"use strict";a.d(K,"a",function(){return ne}),a.d(K,"b",function(){return ee}),a.d(K,"d",function(){return H}),a.d(K,"e",function(){return W}),a.d(K,"c",function(){return F}),a.d(K,"f",function(){return V});var le=a("oBTY"),De=a("qLMh"),E=a("fWQN"),ve=a("mtLc"),re=a("yKVA"),J=a("879j"),$=a("MI8n"),y=a("pmY6"),Q=a("3/fG"),L=function(N,U,d,j){function C(x){return x instanceof d?x:new d(function(S){S(x)})}return new(d||(d=Promise))(function(x,S){function T(ue){try{A(j.next(ue))}catch(be){S(be)}}function z(ue){try{A(j.throw(ue))}catch(be){S(be)}}function A(ue){ue.done?x(ue.value):C(ue.value).then(T,z)}A((j=j.apply(N,U||[])).next())})},ne=function(N){Object(re.a)(d,N);var U=Object(J.a)(d);function d(j){var C,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,z=arguments.length>4?arguments[4]:void 0;return Object(E.a)(this,d),C=U.call(this),C._onDidChange=C._register(new $.b),C.onDidChange=C._onDidChange.event,C._enabled=!0,C._id=j,C._label=x,C._cssClass=S,C._enabled=T,C._actionCallback=z,C}return Object(ve.a)(d,[{key:"id",get:function(){return this._id}},{key:"label",get:function(){return this._label},set:function(C){this._setLabel(C)}},{key:"_setLabel",value:function(C){this._label!==C&&(this._label=C,this._onDidChange.fire({label:C}))}},{key:"tooltip",get:function(){return this._tooltip||""},set:function(C){this._setTooltip(C)}},{key:"_setTooltip",value:function(C){this._tooltip!==C&&(this._tooltip=C,this._onDidChange.fire({tooltip:C}))}},{key:"class",get:function(){return this._cssClass},set:function(C){this._setClass(C)}},{key:"_setClass",value:function(C){this._cssClass!==C&&(this._cssClass=C,this._onDidChange.fire({class:C}))}},{key:"enabled",get:function(){return this._enabled},set:function(C){this._setEnabled(C)}},{key:"_setEnabled",value:function(C){this._enabled!==C&&(this._enabled=C,this._onDidChange.fire({enabled:C}))}},{key:"checked",get:function(){return this._checked},set:function(C){this._setChecked(C)}},{key:"_setChecked",value:function(C){this._checked!==C&&(this._checked=C,this._onDidChange.fire({checked:C}))}},{key:"run",value:function(C,x){return L(this,void 0,void 0,Object(De.a)().mark(function S(){return Object(De.a)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!this._actionCallback){z.next=3;break}return z.next=3,this._actionCallback(C);case 3:case"end":return z.stop()}},S,this)}))}}]),d}(y.a),ee=function(N){Object(re.a)(d,N);var U=Object(J.a)(d);function d(){var j;return Object(E.a)(this,d),j=U.apply(this,arguments),j._onWillRun=j._register(new $.b),j.onWillRun=j._onWillRun.event,j._onDidRun=j._register(new $.b),j.onDidRun=j._onDidRun.event,j}return Object(ve.a)(d,[{key:"run",value:function(C,x){return L(this,void 0,void 0,Object(De.a)().mark(function S(){var T;return Object(De.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(C.enabled){A.next=2;break}return A.abrupt("return");case 2:return this._onWillRun.fire({action:C}),T=void 0,A.prev=4,A.next=7,this.runAction(C,x);case 7:A.next=12;break;case 9:A.prev=9,A.t0=A.catch(4),T=A.t0;case 12:this._onDidRun.fire({action:C,error:T});case 13:case"end":return A.stop()}},S,this,[[4,9]])}))}},{key:"runAction",value:function(C,x){return L(this,void 0,void 0,Object(De.a)().mark(function S(){return Object(De.a)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,C.run(x);case 2:case"end":return z.stop()}},S)}))}}]),d}(y.a),H=function(){function N(){Object(E.a)(this,N),this.id=N.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}return Object(ve.a)(N,[{key:"run",value:function(){return L(this,void 0,void 0,Object(De.a)().mark(function d(){return Object(De.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:case"end":return C.stop()}},d)}))}}],[{key:"join",value:function(){for(var d=[],j=arguments.length,C=new Array(j),x=0;x<j;x++)C[x]=arguments[x];for(var S=0,T=C;S<T.length;S++){var z=T[S];z.length&&(d.length?d=[].concat(Object(le.a)(d),[new N],Object(le.a)(z)):d=z)}return d}}]),N}();H.ID="vs.actions.separator";var W=function(){function N(U,d,j,C){Object(E.a)(this,N),this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=U,this.label=d,this.class=C,this._actions=j}return Object(ve.a)(N,[{key:"actions",get:function(){return this._actions}},{key:"run",value:function(){return L(this,void 0,void 0,Object(De.a)().mark(function d(){return Object(De.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:case"end":return C.stop()}},d)}))}}]),N}(),F=function(N){Object(re.a)(d,N);var U=Object(J.a)(d);function d(){return Object(E.a)(this,d),U.call(this,d.ID,Q.b("submenu.empty","(empty)"),void 0,!1)}return Object(ve.a)(d)}(ne);F.ID="vs.actions.empty";function V(N){var U=this,d,j;return{id:N.id,label:N.label,class:void 0,enabled:(d=N.enabled)!==null&&d!==void 0?d:!0,checked:(j=N.checked)!==null&&j!==void 0?j:!1,run:function(){return L(U,void 0,void 0,Object(De.a)().mark(function x(){return Object(De.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",N.run());case 1:case"end":return T.stop()}},x)}))},tooltip:N.label}}},"8HsV":function(fn,K,a){"use strict";a.d(K,"a",function(){return ve});var le=a("tJVT"),De=a("fWQN"),E=a("mtLc"),ve=function(){function re(){Object(De.a)(this,re),this._entries=new Map;for(var J=arguments.length,$=new Array(J),y=0;y<J;y++)$[y]=arguments[y];for(var Q=0,L=$;Q<L.length;Q++){var ne=L[Q],ee=Object(le.a)(ne,2),H=ee[0],W=ee[1];this.set(H,W)}}return Object(E.a)(re,[{key:"set",value:function($,y){var Q=this._entries.get($);return this._entries.set($,y),Q}},{key:"get",value:function($){return this._entries.get($)}}]),re}()},"8LL/":function(fn,K,a){},"8gvo":function(fn,K,a){},"8tI9":function(fn,K,a){},"8txm":function(fn,K,a){},"8z58":function(fn,K,a){"use strict";a.r(K),a.d(K,"CancellationTokenSource",function(){return Ui}),a.d(K,"Emitter",function(){return $i}),a.d(K,"KeyCode",function(){return sr}),a.d(K,"KeyMod",function(){return Dr}),a.d(K,"Position",function(){return wr}),a.d(K,"Range",function(){return lr}),a.d(K,"Selection",function(){return ar}),a.d(K,"SelectionDirection",function(){return Rr}),a.d(K,"MarkerSeverity",function(){return zr}),a.d(K,"MarkerTag",function(){return Vr}),a.d(K,"Uri",function(){return la}),a.d(K,"Token",function(){return Ta}),a.d(K,"editor",function(){return ga}),a.d(K,"languages",function(){return ma});var le=a("/UlZ"),De=a("QkrF"),E=a("qLMh"),ve=a("oBTY"),re=a("siPX"),J=a("pmY6"),$=a("N0LK"),y=a("bY76"),Q=a("aKo+"),L=a("Vxe3"),ne=a("0Lb2"),ee=a("+3Gp"),H=a("iuje"),W=a("M1Kb"),F=a("LloX"),V=a("AYRw"),N=a("7AJZ"),U=a("CGdd"),d=a("lEqV"),j=a("rAM+"),C=a("fWQN"),x=a("mtLc"),S=a("yKVA"),T=a("879j"),z=a("qj0h"),A=a("KBqF");function ue(se,ae,b){return new be(se,ae,b)}var be=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P){var X;return Object(C.a)(this,b),X=ae.call(this,_,P.keepIdleModels||!1,P.label,p),X._foreignModuleId=P.moduleId,X._foreignModuleCreateData=P.createData||null,X._foreignModuleHost=P.host||null,X._foreignProxy=null,X}return Object(x.a)(b,[{key:"fhr",value:function(p,P){if(!this._foreignModuleHost||typeof this._foreignModuleHost[p]!="function")return Promise.reject(new Error("Missing method "+p+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[p].apply(this._foreignModuleHost,P))}catch(X){return Promise.reject(X)}}},{key:"_getForeignProxy",value:function(){var p=this;return this._foreignProxy||(this._foreignProxy=this._getProxy().then(function(P){var X=p._foreignModuleHost?Object(z.f)(p._foreignModuleHost):[];return P.loadForeignModule(p._foreignModuleId,p._foreignModuleCreateData,X).then(function(Se){p._foreignModuleCreateData=null;var Ae=function(gi,Zn){return P.fmr(gi,Zn)},qe=function(gi,Zn){return function(){var di=Array.prototype.slice.call(arguments,0);return Zn(gi,di)}},rt={},ct=Object(j.a)(Se),Xt;try{for(ct.s();!(Xt=ct.n()).done;){var cn=Xt.value;rt[cn]=qe(cn,Ae)}}catch(Mn){ct.e(Mn)}finally{ct.f()}return rt})})),this._foreignProxy}},{key:"getProxy",value:function(){return this._getForeignProxy()}},{key:"withSyncedResources",value:function(p){var P=this;return this._withSyncedResources(p).then(function(X){return P.getProxy()})}}]),b}(A.a),de=a("aIFW"),ke=a("c9Qy"),he=a("zhcO"),ge=a("baJR"),ce=a("YNuV");function k(se){return Array.isArray(se)}function w(se){return!k(se)}function B(se){return typeof se=="string"}function Y(se){return!B(se)}function pe(se){return!se}function me(se,ae){return se.ignoreCase&&ae?ae.toLowerCase():ae}function I(se){return se.replace(/[&<>'"_]/g,"-")}function we(se,ae){console.log("".concat(se.languageId,": ").concat(ae))}function Re(se,ae){return new Error("".concat(se.languageId,": ").concat(ae))}function Oe(se,ae,b,_,p){var P=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,X=null;return ae.replace(P,function(Se,Ae,qe,rt,ct,Xt,cn,Mn,gi){return pe(qe)?pe(rt)?!pe(ct)&&ct<_.length?me(se,_[ct]):!pe(cn)&&se&&typeof se[cn]=="string"?se[cn]:(X===null&&(X=p.split("."),X.unshift(p)),!pe(Xt)&&Xt<X.length?me(se,X[Xt]):""):me(se,b):"$"})}function Pe(se,ae){for(var b=ae;b&&b.length>0;){var _=se.tokenizer[b];if(_)return _;var p=b.lastIndexOf(".");p<0?b=null:b=b.substr(0,p)}return null}function Ne(se,ae){for(var b=ae;b&&b.length>0;){var _=se.stateNames[b];if(_)return!0;var p=b.lastIndexOf(".");p<0?b=null:b=b.substr(0,p)}return!1}var Ke=a("+7oY"),Xe=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},wt=function(se,ae){return function(b,_){ae(b,_,se)}},Ct=5,bt=function(){function se(ae){Object(C.a)(this,se),this._maxCacheDepth=ae,this._entries=Object.create(null)}return Object(x.a)(se,[{key:"create",value:function(b,_){if(b!==null&&b.depth>=this._maxCacheDepth)return new mt(b,_);var p=mt.getStackElementId(b);p.length>0&&(p+="|"),p+=_;var P=this._entries[p];return P||(P=new mt(b,_),this._entries[p]=P,P)}}],[{key:"create",value:function(b,_){return this._INSTANCE.create(b,_)}}]),se}();bt._INSTANCE=new bt(Ct);var mt=function(){function se(ae,b){Object(C.a)(this,se),this.parent=ae,this.state=b,this.depth=(this.parent?this.parent.depth:0)+1}return Object(x.a)(se,[{key:"equals",value:function(b){return se._equals(this,b)}},{key:"push",value:function(b){return bt.create(this,b)}},{key:"pop",value:function(){return this.parent}},{key:"popall",value:function(){for(var b=this;b.parent;)b=b.parent;return b}},{key:"switchTo",value:function(b){return bt.create(this.parent,b)}}],[{key:"getStackElementId",value:function(b){for(var _="";b!==null;)_.length>0&&(_+="|"),_+=b.state,b=b.parent;return _}},{key:"_equals",value:function(b,_){for(;b!==null&&_!==null;){if(b===_)return!0;if(b.state!==_.state)return!1;b=b.parent,_=_.parent}return b===null&&_===null}}]),se}(),jt=function(){function se(ae,b){Object(C.a)(this,se),this.languageId=ae,this.state=b}return Object(x.a)(se,[{key:"equals",value:function(b){return this.languageId===b.languageId&&this.state.equals(b.state)}},{key:"clone",value:function(){var b=this.state.clone();return b===this.state?this:new se(this.languageId,this.state)}}]),se}(),Je=function(){function se(ae){Object(C.a)(this,se),this._maxCacheDepth=ae,this._entries=Object.create(null)}return Object(x.a)(se,[{key:"create",value:function(b,_){if(_!==null)return new Wt(b,_);if(b!==null&&b.depth>=this._maxCacheDepth)return new Wt(b,_);var p=mt.getStackElementId(b),P=this._entries[p];return P||(P=new Wt(b,null),this._entries[p]=P,P)}}],[{key:"create",value:function(b,_){return this._INSTANCE.create(b,_)}}]),se}();Je._INSTANCE=new Je(Ct);var Wt=function(){function se(ae,b){Object(C.a)(this,se),this.stack=ae,this.embeddedLanguageData=b}return Object(x.a)(se,[{key:"clone",value:function(){var b=this.embeddedLanguageData?this.embeddedLanguageData.clone():null;return b===this.embeddedLanguageData?this:Je.create(this.stack,this.embeddedLanguageData)}},{key:"equals",value:function(b){return!(b instanceof se)||!this.stack.equals(b.stack)?!1:this.embeddedLanguageData===null&&b.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||b.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(b.embeddedLanguageData)}}]),se}(),Te=function(){function se(){Object(C.a)(this,se),this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}return Object(x.a)(se,[{key:"enterLanguage",value:function(b){this._languageId=b}},{key:"emit",value:function(b,_){this._lastTokenType===_&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=_,this._lastTokenLanguage=this._languageId,this._tokens.push(new F.l(b,_,this._languageId)))}},{key:"nestedLanguageTokenize",value:function(b,_,p,P){var X=p.languageId,Se=p.state,Ae=F.m.get(X);if(!Ae)return this.enterLanguage(X),this.emit(P,""),Se;var qe=Ae.tokenize(b,_,Se);if(P!==0){var rt=Object(j.a)(qe.tokens),ct;try{for(rt.s();!(ct=rt.n()).done;){var Xt=ct.value;this._tokens.push(new F.l(Xt.offset+P,Xt.type,Xt.language))}}catch(cn){rt.e(cn)}finally{rt.f()}}else this._tokens=this._tokens.concat(qe.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,qe.endState}},{key:"finalize",value:function(b){return new F.n(this._tokens,b)}}]),se}(),fe=function(){function se(ae,b){Object(C.a)(this,se),this._languageService=ae,this._theme=b,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}return Object(x.a)(se,[{key:"enterLanguage",value:function(b){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(b)}},{key:"emit",value:function(b,_){var p=this._theme.match(this._currentLanguageId,_)|1024;this._lastTokenMetadata!==p&&(this._lastTokenMetadata=p,this._tokens.push(b),this._tokens.push(p))}},{key:"nestedLanguageTokenize",value:function(b,_,p,P){var X=p.languageId,Se=p.state,Ae=F.m.get(X);if(!Ae)return this.enterLanguage(X),this.emit(P,""),Se;var qe=Ae.tokenizeEncoded(b,_,Se);if(P!==0)for(var rt=0,ct=qe.tokens.length;rt<ct;rt+=2)qe.tokens[rt]+=P;return this._prependTokens=se._merge(this._prependTokens,this._tokens,qe.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,qe.endState}},{key:"finalize",value:function(b){return new F.d(se._merge(this._prependTokens,this._tokens,null),b)}}],[{key:"_merge",value:function(b,_,p){var P=b!==null?b.length:0,X=_.length,Se=p!==null?p.length:0;if(P===0&&X===0&&Se===0)return new Uint32Array(0);if(P===0&&X===0)return p;if(X===0&&Se===0)return b;var Ae=new Uint32Array(P+X+Se);b!==null&&Ae.set(b);for(var qe=0;qe<X;qe++)Ae[P+qe]=_[qe];return p!==null&&Ae.set(p,P+X),Ae}}]),se}(),ye=function(){function se(ae,b,_,p,P){var X=this;Object(C.a)(this,se),this._configurationService=P,this._languageService=ae,this._standaloneThemeService=b,this._languageId=_,this._lexer=p,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);var Se=!1;this._tokenizationRegistryListener=F.m.onDidChange(function(Ae){if(!Se){for(var qe=!1,rt=0,ct=Ae.changedLanguages.length;rt<ct;rt++){var Xt=Ae.changedLanguages[rt];if(X._embeddedLanguages[Xt]){qe=!0;break}}qe&&(Se=!0,F.m.handleChange([X._languageId]),Se=!1)}}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(function(Ae){Ae.affectsConfiguration("editor.maxTokenizationLineLength")&&(X._maxTokenizationLineLength=X._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:X._languageId}))})}return Object(x.a)(se,[{key:"dispose",value:function(){this._tokenizationRegistryListener.dispose()}},{key:"getLoadStatus",value:function(){var b=[];for(var _ in this._embeddedLanguages){var p=F.m.get(_);if(p){if(p instanceof se){var P=p.getLoadStatus();P.loaded===!1&&b.push(P.promise)}continue}F.m.isResolved(_)||b.push(F.m.getOrCreate(_))}return b.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(b).then(function(X){})}}},{key:"getInitialState",value:function(){var b=bt.create(null,this._lexer.start);return Je.create(b,null)}},{key:"tokenize",value:function(b,_,p){if(b.length>=this._maxTokenizationLineLength)return Object(N.b)(this._languageId,p);var P=new Te,X=this._tokenize(b,_,p,P);return P.finalize(X)}},{key:"tokenizeEncoded",value:function(b,_,p){if(b.length>=this._maxTokenizationLineLength)return Object(N.c)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),p);var P=new fe(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),X=this._tokenize(b,_,p,P);return P.finalize(X)}},{key:"_tokenize",value:function(b,_,p,P){return p.embeddedLanguageData?this._nestedTokenize(b,_,p,0,P):this._myTokenize(b,_,p,0,P)}},{key:"_findLeavingNestedLanguageOffset",value:function(b,_){var p=this._lexer.tokenizer[_.stack.state];if(!p&&(p=Pe(this._lexer,_.stack.state),!p))throw Re(this._lexer,"tokenizer state is not defined: "+_.stack.state);var P=-1,X=!1,Se=Object(j.a)(p),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value;if(!(!Y(qe.action)||qe.action.nextEmbedded!=="@pop")){X=!0;var rt=qe.regex,ct=qe.regex.source;if(ct.substr(0,4)==="^(?:"&&ct.substr(ct.length-1,1)===")"){var Xt=(rt.ignoreCase?"i":"")+(rt.unicode?"u":"");rt=new RegExp(ct.substr(4,ct.length-5),Xt)}var cn=b.search(rt);cn===-1||cn!==0&&qe.matchOnlyAtLineStart||(P===-1||cn<P)&&(P=cn)}}}catch(Mn){Se.e(Mn)}finally{Se.f()}if(!X)throw Re(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+_.stack.state);return P}},{key:"_nestedTokenize",value:function(b,_,p,P,X){var Se=this._findLeavingNestedLanguageOffset(b,p);if(Se===-1){var Ae=X.nestedLanguageTokenize(b,_,p.embeddedLanguageData,P);return Je.create(p.stack,new jt(p.embeddedLanguageData.languageId,Ae))}var qe=b.substring(0,Se);qe.length>0&&X.nestedLanguageTokenize(qe,!1,p.embeddedLanguageData,P);var rt=b.substring(Se);return this._myTokenize(rt,_,p,P+Se,X)}},{key:"_safeRuleName",value:function(b){return b?b.name:"(unknown)"}},{key:"_myTokenize",value:function(b,_,p,P,X){var Se=this;X.enterLanguage(this._languageId);for(var Ae=b.length,qe=_&&this._lexer.includeLF?b+`
`:b,rt=qe.length,ct=p.embeddedLanguageData,Xt=p.stack,cn=0,Mn=null,gi=!0;gi||cn<rt;){var Zn=cn,di=Xt.depth,Un=Mn?Mn.groups.length:0,qn=Xt.state,ur=null,_r=null,cr=null,Zr=null,Kr=null;if(Mn){ur=Mn.matches;var Jr=Mn.groups.shift();_r=Jr.matched,cr=Jr.action,Zr=Mn.rule,Mn.groups.length===0&&(Mn=null)}else{if(!gi&&cn>=rt)break;gi=!1;var pa=this._lexer.tokenizer[qn];if(!pa&&(pa=Pe(this._lexer,qn),!pa))throw Re(this._lexer,"tokenizer state is not defined: "+qn);var Ma=qe.substr(cn),Vo=Object(j.a)(pa),vs;try{for(Vo.s();!(vs=Vo.n()).done;){var Xa=vs.value;if((cn===0||!Xa.matchOnlyAtLineStart)&&(ur=Ma.match(Xa.regex),ur)){_r=ur[0],cr=Xa.action;break}}}catch(Pa){Vo.e(Pa)}finally{Vo.f()}}if(ur||(ur=[""],_r=""),cr||(cn<rt&&(ur=[qe.charAt(cn)],_r=ur[0]),cr=this._lexer.defaultToken),_r===null)break;for(cn+=_r.length;w(cr)&&Y(cr)&&cr.test;)cr=cr.test(_r,ur,qn,cn===rt);var Ea=null;if(typeof cr=="string"||Array.isArray(cr))Ea=cr;else if(cr.group)Ea=cr.group;else if(cr.token!==null&&cr.token!==void 0){if(cr.tokenSubst?Ea=Oe(this._lexer,cr.token,_r,ur,qn):Ea=cr.token,cr.nextEmbedded)if(cr.nextEmbedded==="@pop"){if(!ct)throw Re(this._lexer,"cannot pop embedded language if not inside one");ct=null}else{if(ct)throw Re(this._lexer,"cannot enter embedded language from within an embedded language");Kr=Oe(this._lexer,cr.nextEmbedded,_r,ur,qn)}if(cr.goBack&&(cn=Math.max(0,cn-cr.goBack)),cr.switchTo&&typeof cr.switchTo=="string"){var wa=Oe(this._lexer,cr.switchTo,_r,ur,qn);if(wa[0]==="@"&&(wa=wa.substr(1)),Pe(this._lexer,wa))Xt=Xt.switchTo(wa);else throw Re(this._lexer,"trying to switch to a state '"+wa+"' that is undefined in rule: "+this._safeRuleName(Zr))}else{if(cr.transform&&typeof cr.transform=="function")throw Re(this._lexer,"action.transform not supported");if(cr.next)if(cr.next==="@push"){if(Xt.depth>=this._lexer.maxStack)throw Re(this._lexer,"maximum tokenizer stack size reached: ["+Xt.state+","+Xt.parent.state+",...]");Xt=Xt.push(qn)}else if(cr.next==="@pop"){if(Xt.depth<=1)throw Re(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Zr));Xt=Xt.pop()}else if(cr.next==="@popall")Xt=Xt.popall();else{var qr=Oe(this._lexer,cr.next,_r,ur,qn);if(qr[0]==="@"&&(qr=qr.substr(1)),Pe(this._lexer,qr))Xt=Xt.push(qr);else throw Re(this._lexer,"trying to set a next state '"+qr+"' that is undefined in rule: "+this._safeRuleName(Zr))}}cr.log&&typeof cr.log=="string"&&we(this._lexer,this._lexer.languageId+": "+Oe(this._lexer,cr.log,_r,ur,qn))}if(Ea===null)throw Re(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Zr));var Ua=function(ko){var co=Se._languageService.getLanguageIdByLanguageName(ko)||Se._languageService.getLanguageIdByMimeType(ko)||ko,as=Se._getNestedEmbeddedLanguageData(co);if(cn<rt){var jo=b.substr(cn);return Se._nestedTokenize(jo,_,Je.create(Xt,as),P+cn,X)}else return Je.create(Xt,as)};if(Array.isArray(Ea)){if(Mn&&Mn.groups.length>0)throw Re(this._lexer,"groups cannot be nested: "+this._safeRuleName(Zr));if(ur.length!==Ea.length+1)throw Re(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Zr));for(var to=0,ls=1;ls<ur.length;ls++)to+=ur[ls].length;if(to!==_r.length)throw Re(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Zr));Mn={rule:Zr,matches:ur,groups:[]};for(var xo=0;xo<Ea.length;xo++)Mn.groups[xo]={action:Ea[xo],matched:ur[xo+1]};cn-=_r.length;continue}else{if(Ea==="@rematch"&&(cn-=_r.length,_r="",ur=null,Ea="",Kr!==null))return Ua(Kr);if(_r.length===0){if(rt===0||di!==Xt.depth||qn!==Xt.state||(Mn?Mn.groups.length:0)!==Un)continue;throw Re(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Zr))}var Qo=null;if(B(Ea)&&Ea.indexOf("@brackets")===0){var Ho=Ea.substr("@brackets".length),xl=Ee(this._lexer,_r);if(!xl)throw Re(this._lexer,"@brackets token returned but no bracket defined as: "+_r);Qo=I(xl.token+Ho)}else{var za=Ea===""?"":Ea+this._lexer.tokenPostfix;Qo=I(za)}Zn<Ae&&X.emit(Zn+P,Qo)}if(Kr!==null)return Ua(Kr)}return Je.create(Xt,ct)}},{key:"_getNestedEmbeddedLanguageData",value:function(b){if(!this._languageService.isRegisteredLanguageId(b))return new jt(b,N.a);b!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(b),F.m.getOrCreate(b),this._embeddedLanguages[b]=!0);var _=F.m.get(b);return _?new jt(b,_.getInitialState()):new jt(b,N.a)}}]),se}();ye=Xe([wt(4,Ke.a)],ye);function Ee(se,ae){if(!ae)return null;ae=me(se,ae);var b=se.brackets,_=Object(j.a)(b),p;try{for(_.s();!(p=_.n()).done;){var P=p.value;if(P.open===ae)return{token:P.token,bracketType:1};if(P.close===ae)return{token:P.token,bracketType:-1}}}catch(X){_.e(X)}finally{_.f()}return null}var Ge=function(se,ae,b,_){function p(P){return P instanceof b?P:new b(function(X){X(P)})}return new(b||(b=Promise))(function(P,X){function Se(rt){try{qe(_.next(rt))}catch(ct){X(ct)}}function Ae(rt){try{qe(_.throw(rt))}catch(ct){X(ct)}}function qe(rt){rt.done?P(rt.value):p(rt.value).then(Se,Ae)}qe((_=_.apply(se,ae||[])).next())})},$e=Object(ke.a)("standaloneColorizer",{createHTML:function(ae){return ae}}),We=function(){function se(){Object(C.a)(this,se)}return Object(x.a)(se,null,[{key:"colorizeElement",value:function(b,_,p,P){P=P||{};var X=P.theme||"vs",Se=P.mimeType||p.getAttribute("lang")||p.getAttribute("data-lang");if(!Se)return console.error("Mode not detected"),Promise.resolve();var Ae=_.getLanguageIdByMimeType(Se)||Se;b.setTheme(X);var qe=p.firstChild?p.firstChild.nodeValue:"";p.className+=" "+X;var rt=function(Xt){var cn,Mn=(cn=$e==null?void 0:$e.createHTML(Xt))!==null&&cn!==void 0?cn:Xt;p.innerHTML=Mn};return this.colorize(_,qe||"",Ae,P).then(rt,function(ct){return console.error(ct)})}},{key:"colorize",value:function(b,_,p,P){return Ge(this,void 0,void 0,Object(E.a)().mark(function X(){var Se,Ae,qe,rt;return Object(E.a)().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:if(Se=b.languageIdCodec,Ae=4,P&&typeof P.tabSize=="number"&&(Ae=P.tabSize),$.U(_)&&(_=_.substr(1)),qe=$.S(_),b.isRegisteredLanguageId(p)){Xt.next=7;break}return Xt.abrupt("return",Fe(qe,Ae,Se));case 7:return Xt.next=9,F.m.getOrCreate(p);case 9:if(rt=Xt.sent,!rt){Xt.next=12;break}return Xt.abrupt("return",it(qe,Ae,rt,Se));case 12:return Xt.abrupt("return",Fe(qe,Ae,Se));case 13:case"end":return Xt.stop()}},X)}))}},{key:"colorizeLine",value:function(b,_,p,P){var X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:4,Se=ce.f.isBasicASCII(b,_),Ae=ce.f.containsRTL(b,Se,p),qe=Object(ge.e)(new ge.c(!1,!0,b,!1,Se,Ae,0,P,[],X,0,0,0,0,-1,"none",!1,!1,null));return qe.html}},{key:"colorizeModelLine",value:function(b,_){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:4,P=b.getLineContent(_);b.tokenization.forceTokenization(_);var X=b.tokenization.getLineTokens(_),Se=X.inflate();return this.colorizeLine(P,b.mightContainNonBasicASCII(),b.mightContainRTL(),Se,p)}}]),se}();function it(se,ae,b,_){return new Promise(function(p,P){var X=function Se(){var Ae=He(se,ae,b,_);if(b instanceof ye){var qe=b.getLoadStatus();if(qe.loaded===!1){qe.promise.then(Se,P);return}}p(Ae)};X()})}function Fe(se,ae,b){var _=[],p=(0<<11|1<<15|2<<24)>>>0,P=new Uint32Array(2);P[0]=0,P[1]=p;for(var X=0,Se=se.length;X<Se;X++){var Ae=se[X];P[0]=Ae.length;var qe=new he.a(P,Ae,b),rt=ce.f.isBasicASCII(Ae,!0),ct=ce.f.containsRTL(Ae,rt,!0),Xt=Object(ge.e)(new ge.c(!1,!0,Ae,!1,rt,ct,0,qe,[],ae,0,0,0,0,-1,"none",!1,!1,null));_=_.concat(Xt.html),_.push("<br/>")}return _.join("")}function He(se,ae,b,_){for(var p=[],P=b.getInitialState(),X=0,Se=se.length;X<Se;X++){var Ae=se[X],qe=b.tokenizeEncoded(Ae,!0,P);he.a.convertToEndOffset(qe.tokens,Ae.length);var rt=new he.a(qe.tokens,Ae,_),ct=ce.f.isBasicASCII(Ae,!0),Xt=ce.f.containsRTL(Ae,ct,!0),cn=Object(ge.e)(new ge.c(!1,!0,Ae,!1,ct,Xt,0,rt.inflate(),[],ae,0,0,0,0,-1,"none",!1,!1,null));p=p.concat(cn.html),p.push("<br/>"),P=qe.endState}return p.join("")}var Ye=a("w4Tj"),ot=a("oZsa"),Kt=a("OBOq"),gt=a("nB0o"),Ft=a("SmQN"),Jt=a("9Y+e"),qt=a("tJVT"),En=a("tS8v"),It=a("EffR"),si=a("tYmi"),On=a("MI8n"),Gn=a("24hK"),ci=a("t9D7"),Dn=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},An=function(se,ae){return function(b,_){ae(b,_,se)}},fr=function(se,ae,b,_){function p(P){return P instanceof b?P:new b(function(X){X(P)})}return new(b||(b=Promise))(function(P,X){function Se(rt){try{qe(_.next(rt))}catch(ct){X(ct)}}function Ae(rt){try{qe(_.throw(rt))}catch(ct){X(ct)}}function qe(rt){rt.done?P(rt.value):p(rt.value).then(Se,Ae)}qe((_=_.apply(se,ae||[])).next())})},Vi=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_){var p;return Object(C.a)(this,b),p=ae.call(this),p._themeService=_,p._onWillCreateCodeEditor=p._register(new On.b),p._onCodeEditorAdd=p._register(new On.b),p.onCodeEditorAdd=p._onCodeEditorAdd.event,p._onCodeEditorRemove=p._register(new On.b),p.onCodeEditorRemove=p._onCodeEditorRemove.event,p._onWillCreateDiffEditor=p._register(new On.b),p._onDiffEditorAdd=p._register(new On.b),p.onDiffEditorAdd=p._onDiffEditorAdd.event,p._onDiffEditorRemove=p._register(new On.b),p.onDiffEditorRemove=p._onDiffEditorRemove.event,p._decorationOptionProviders=new Map,p._codeEditorOpenHandlers=new Gn.a,p._modelProperties=new Map,p._codeEditors=Object.create(null),p._diffEditors=Object.create(null),p._globalStyleSheet=null,p}return Object(x.a)(b,[{key:"willCreateCodeEditor",value:function(){this._onWillCreateCodeEditor.fire()}},{key:"addCodeEditor",value:function(p){this._codeEditors[p.getId()]=p,this._onCodeEditorAdd.fire(p)}},{key:"removeCodeEditor",value:function(p){delete this._codeEditors[p.getId()]&&this._onCodeEditorRemove.fire(p)}},{key:"listCodeEditors",value:function(){var p=this;return Object.keys(this._codeEditors).map(function(P){return p._codeEditors[P]})}},{key:"willCreateDiffEditor",value:function(){this._onWillCreateDiffEditor.fire()}},{key:"addDiffEditor",value:function(p){this._diffEditors[p.getId()]=p,this._onDiffEditorAdd.fire(p)}},{key:"removeDiffEditor",value:function(p){delete this._diffEditors[p.getId()]&&this._onDiffEditorRemove.fire(p)}},{key:"listDiffEditors",value:function(){var p=this;return Object.keys(this._diffEditors).map(function(P){return p._diffEditors[P]})}},{key:"getFocusedCodeEditor",value:function(){var p=null,P=this.listCodeEditors(),X=Object(j.a)(P),Se;try{for(X.s();!(Se=X.n()).done;){var Ae=Se.value;if(Ae.hasTextFocus())return Ae;Ae.hasWidgetFocus()&&(p=Ae)}}catch(qe){X.e(qe)}finally{X.f()}return p}},{key:"removeDecorationType",value:function(p){var P=this._decorationOptionProviders.get(p);P&&(P.refCount--,P.refCount<=0&&(this._decorationOptionProviders.delete(p),P.dispose(),this.listCodeEditors().forEach(function(X){return X.removeDecorationsByType(p)})))}},{key:"setModelProperty",value:function(p,P,X){var Se=p.toString(),Ae;this._modelProperties.has(Se)?Ae=this._modelProperties.get(Se):(Ae=new Map,this._modelProperties.set(Se,Ae)),Ae.set(P,X)}},{key:"getModelProperty",value:function(p,P){var X=p.toString();if(this._modelProperties.has(X)){var Se=this._modelProperties.get(X);return Se.get(P)}}},{key:"openCodeEditor",value:function(p,P,X){return fr(this,void 0,void 0,Object(E.a)().mark(function Se(){var Ae,qe,rt,ct;return Object(E.a)().wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:Ae=Object(j.a)(this._codeEditorOpenHandlers),cn.prev=1,Ae.s();case 3:if((qe=Ae.n()).done){cn.next=12;break}return rt=qe.value,cn.next=7,rt(p,P,X);case 7:if(ct=cn.sent,ct===null){cn.next=10;break}return cn.abrupt("return",ct);case 10:cn.next=3;break;case 12:cn.next=17;break;case 14:cn.prev=14,cn.t0=cn.catch(1),Ae.e(cn.t0);case 17:return cn.prev=17,Ae.f(),cn.finish(17);case 20:return cn.abrupt("return",null);case 21:case"end":return cn.stop()}},Se,this,[[1,14,17,20]])}))}},{key:"registerCodeEditorOpenHandler",value:function(p){var P=this._codeEditorOpenHandlers.unshift(p);return Object(J.l)(P)}}]),b}(J.a);Vi=Dn([An(0,ci.b)],Vi);var Sr=Object(x.a)(function se(ae){Object(C.a)(this,se),this._styleSheet=ae}),Pi=a("T8No"),Ei=a("9fML"),Cr=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},zn=function(se,ae){return function(b,_){ae(b,_,se)}},dr=function(se,ae,b,_){function p(P){return P instanceof b?P:new b(function(X){X(P)})}return new(b||(b=Promise))(function(P,X){function Se(rt){try{qe(_.next(rt))}catch(ct){X(ct)}}function Ae(rt){try{qe(_.throw(rt))}catch(ct){X(ct)}}function qe(rt){rt.done?P(rt.value):p(rt.value).then(Se,Ae)}qe((_=_.apply(se,ae||[])).next())})},Hn=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p){var P;return Object(C.a)(this,b),P=ae.call(this,p),P.onCodeEditorAdd(function(){return P._checkContextKey()}),P.onCodeEditorRemove(function(){return P._checkContextKey()}),P._editorIsOpen=_.createKey("editorIsOpen",!1),P._activeCodeEditor=null,P.registerCodeEditorOpenHandler(function(X,Se,Ae){return dr(Object(En.a)(P),void 0,void 0,Object(E.a)().mark(function qe(){return Object(E.a)().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:if(Se){ct.next=2;break}return ct.abrupt("return",null);case 2:return ct.abrupt("return",this.doOpenEditor(Se,X));case 3:case"end":return ct.stop()}},qe,this)}))}),P}return Object(x.a)(b,[{key:"_checkContextKey",value:function(){var p=!1,P=Object(j.a)(this.listCodeEditors()),X;try{for(P.s();!(X=P.n()).done;){var Se=X.value;if(!Se.isSimpleWidget){p=!0;break}}}catch(Ae){P.e(Ae)}finally{P.f()}this._editorIsOpen.set(p)}},{key:"setActiveCodeEditor",value:function(p){this._activeCodeEditor=p}},{key:"getActiveCodeEditor",value:function(){return this._activeCodeEditor}},{key:"doOpenEditor",value:function(p,P){var X=this.findModel(p,P.resource);if(!X){if(P.resource){var Se=P.resource.scheme;if(Se===si.c.http||Se===si.c.https)return Object(It.windowOpenNoOpener)(P.resource.toString()),p}return null}var Ae=P.options?P.options.selection:null;if(Ae)if(typeof Ae.endLineNumber=="number"&&typeof Ae.endColumn=="number")p.setSelection(Ae),p.revealRangeInCenter(Ae,1);else{var qe={lineNumber:Ae.startLineNumber,column:Ae.startColumn};p.setPosition(qe),p.revealPositionInCenter(qe,1)}return p}},{key:"findModel",value:function(p,P){var X=p.getModel();return X&&X.uri.toString()!==P.toString()?null:X}}]),b}(Vi);Hn=Cr([zn(0,Pi.b),zn(1,ci.b)],Hn),Object(Ei.b)(L.a,Hn,0);var mi=a("Cg/j"),hn=Object(mi.c)("layoutService"),Xn=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},en=function(se,ae){return function(b,_){ae(b,_,se)}},yt=function(){function se(ae){Object(C.a)(this,se),this._codeEditorService=ae,this.onDidLayout=On.c.None,this.offset={top:0,quickPickTop:0}}return Object(x.a)(se,[{key:"dimension",get:function(){return this._dimension||(this._dimension=It.getClientArea(window.document.body)),this._dimension}},{key:"hasContainer",get:function(){return!1}},{key:"container",get:function(){throw new Error("ILayoutService.container is not available in the standalone editor!")}},{key:"focus",value:function(){var b;(b=this._codeEditorService.getFocusedCodeEditor())===null||b===void 0||b.focus()}}]),se}();yt=Xn([en(0,L.a)],yt);var wn=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p){var P;return Object(C.a)(this,b),P=ae.call(this,p),P._container=_,P}return Object(x.a)(b,[{key:"hasContainer",get:function(){return!1}},{key:"container",get:function(){return this._container}}]),b}(yt);wn=Xn([en(1,L.a)],wn),Object(Ei.b)(hn,yt,1);var gn=a("/cxE"),rn=a("S3by"),bn=a("3/fG"),Qn=a("6vuP"),Ci=a("sM1p"),yr=a("OAO6"),_i=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},Bn=function(se,ae){return function(b,_){ae(b,_,se)}},tt=function(se,ae,b,_){function p(P){return P instanceof b?P:new b(function(X){X(P)})}return new(b||(b=Promise))(function(P,X){function Se(rt){try{qe(_.next(rt))}catch(ct){X(ct)}}function Ae(rt){try{qe(_.throw(rt))}catch(ct){X(ct)}}function qe(rt){rt.done?P(rt.value):p(rt.value).then(Se,Ae)}qe((_=_.apply(se,ae||[])).next())})},Lt=!1;function xi(se){return se.scheme===si.c.file?se.fsPath:se.path}var Qi=0,mr=function(){function se(ae,b,_,p,P,X,Se){Object(C.a)(this,se),this.id=++Qi,this.type=0,this.actual=ae,this.label=ae.label,this.confirmBeforeUndo=ae.confirmBeforeUndo||!1,this.resourceLabel=b,this.strResource=_,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=p,this.groupOrder=P,this.sourceId=X,this.sourceOrder=Se,this.isValid=!0}return Object(x.a)(se,[{key:"setValid",value:function(b){this.isValid=b}},{key:"toString",value:function(){return"[id:".concat(this.id,"] [group:").concat(this.groupId,"] [").concat(this.isValid?"  VALID":"INVALID","] ").concat(this.actual.constructor.name," - ").concat(this.actual)}}]),se}(),pr=Object(x.a)(function se(ae,b){Object(C.a)(this,se),this.resourceLabel=ae,this.reason=b}),St=function(){function se(){Object(C.a)(this,se),this.elements=new Map}return Object(x.a)(se,[{key:"createMessage",value:function(){var b=[],_=[],p=Object(j.a)(this.elements),P;try{for(p.s();!(P=p.n()).done;){var X=P.value,Se=Object(qt.a)(X,2),Ae=Se[1],qe=Ae.reason===0?b:_;qe.push(Ae.resourceLabel)}}catch(ct){p.e(ct)}finally{p.f()}var rt=[];return b.length>0&&rt.push(bn.b({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",b.join(", "))),_.length>0&&rt.push(bn.b({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",_.join(", "))),rt.join(`
`)}},{key:"size",get:function(){return this.elements.size}},{key:"has",value:function(b){return this.elements.has(b)}},{key:"set",value:function(b,_){this.elements.set(b,_)}},{key:"delete",value:function(b){return this.elements.delete(b)}}]),se}(),Gi=function(){function se(ae,b,_,p,P,X,Se){Object(C.a)(this,se),this.id=++Qi,this.type=1,this.actual=ae,this.label=ae.label,this.confirmBeforeUndo=ae.confirmBeforeUndo||!1,this.resourceLabels=b,this.strResources=_,this.groupId=p,this.groupOrder=P,this.sourceId=X,this.sourceOrder=Se,this.removedResources=null,this.invalidatedResources=null}return Object(x.a)(se,[{key:"canSplit",value:function(){return typeof this.actual.split=="function"}},{key:"removeResource",value:function(b,_,p){this.removedResources||(this.removedResources=new St),this.removedResources.has(_)||this.removedResources.set(_,new pr(b,p))}},{key:"setValid",value:function(b,_,p){p?this.invalidatedResources&&(this.invalidatedResources.delete(_),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new St),this.invalidatedResources.has(_)||this.invalidatedResources.set(_,new pr(b,0)))}},{key:"toString",value:function(){return"[id:".concat(this.id,"] [group:").concat(this.groupId,"] [").concat(this.invalidatedResources?"INVALID":"  VALID","] ").concat(this.actual.constructor.name," - ").concat(this.actual)}}]),se}(),an=function(){function se(ae,b){Object(C.a)(this,se),this.resourceLabel=ae,this.strResource=b,this._past=[],this._future=[],this.locked=!1,this.versionId=1}return Object(x.a)(se,[{key:"dispose",value:function(){var b=Object(j.a)(this._past),_;try{for(b.s();!(_=b.n()).done;){var p=_.value;p.type===1&&p.removeResource(this.resourceLabel,this.strResource,0)}}catch(Ae){b.e(Ae)}finally{b.f()}var P=Object(j.a)(this._future),X;try{for(P.s();!(X=P.n()).done;){var Se=X.value;Se.type===1&&Se.removeResource(this.resourceLabel,this.strResource,0)}}catch(Ae){P.e(Ae)}finally{P.f()}this.versionId++}},{key:"toString",value:function(){var b=[];b.push("* ".concat(this.strResource,":"));for(var _=0;_<this._past.length;_++)b.push("   * [UNDO] ".concat(this._past[_]));for(var p=this._future.length-1;p>=0;p--)b.push("   * [REDO] ".concat(this._future[p]));return b.join(`
`)}},{key:"flushAllElements",value:function(){this._past=[],this._future=[],this.versionId++}},{key:"_setElementValidFlag",value:function(b,_){b.type===1?b.setValid(this.resourceLabel,this.strResource,_):b.setValid(_)}},{key:"setElementsValidFlag",value:function(b,_){var p=Object(j.a)(this._past),P;try{for(p.s();!(P=p.n()).done;){var X=P.value;_(X.actual)&&this._setElementValidFlag(X,b)}}catch(rt){p.e(rt)}finally{p.f()}var Se=Object(j.a)(this._future),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value;_(qe.actual)&&this._setElementValidFlag(qe,b)}}catch(rt){Se.e(rt)}finally{Se.f()}}},{key:"pushElement",value:function(b){var _=Object(j.a)(this._future),p;try{for(_.s();!(p=_.n()).done;){var P=p.value;P.type===1&&P.removeResource(this.resourceLabel,this.strResource,1)}}catch(X){_.e(X)}finally{_.f()}this._future=[],this._past.push(b),this.versionId++}},{key:"createSnapshot",value:function(b){for(var _=[],p=0,P=this._past.length;p<P;p++)_.push(this._past[p].id);for(var X=this._future.length-1;X>=0;X--)_.push(this._future[X].id);return new yr.b(b,_)}},{key:"restoreSnapshot",value:function(b){for(var _=b.elements.length,p=!0,P=0,X=-1,Se=0,Ae=this._past.length;Se<Ae;Se++,P++){var qe=this._past[Se];p&&(P>=_||qe.id!==b.elements[P])&&(p=!1,X=0),!p&&qe.type===1&&qe.removeResource(this.resourceLabel,this.strResource,0)}for(var rt=-1,ct=this._future.length-1;ct>=0;ct--,P++){var Xt=this._future[ct];p&&(P>=_||Xt.id!==b.elements[P])&&(p=!1,rt=ct),!p&&Xt.type===1&&Xt.removeResource(this.resourceLabel,this.strResource,0)}X!==-1&&(this._past=this._past.slice(0,X)),rt!==-1&&(this._future=this._future.slice(rt+1)),this.versionId++}},{key:"getElements",value:function(){var b=[],_=[],p=Object(j.a)(this._past),P;try{for(p.s();!(P=p.n()).done;){var X=P.value;b.push(X.actual)}}catch(rt){p.e(rt)}finally{p.f()}var Se=Object(j.a)(this._future),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value;_.push(qe.actual)}}catch(rt){Se.e(rt)}finally{Se.f()}return{past:b,future:_}}},{key:"getClosestPastElement",value:function(){return this._past.length===0?null:this._past[this._past.length-1]}},{key:"getSecondClosestPastElement",value:function(){return this._past.length<2?null:this._past[this._past.length-2]}},{key:"getClosestFutureElement",value:function(){return this._future.length===0?null:this._future[this._future.length-1]}},{key:"hasPastElements",value:function(){return this._past.length>0}},{key:"hasFutureElements",value:function(){return this._future.length>0}},{key:"splitPastWorkspaceElement",value:function(b,_){for(var p=this._past.length-1;p>=0;p--)if(this._past[p]===b){_.has(this.strResource)?this._past[p]=_.get(this.strResource):this._past.splice(p,1);break}this.versionId++}},{key:"splitFutureWorkspaceElement",value:function(b,_){for(var p=this._future.length-1;p>=0;p--)if(this._future[p]===b){_.has(this.strResource)?this._future[p]=_.get(this.strResource):this._future.splice(p,1);break}this.versionId++}},{key:"moveBackward",value:function(b){this._past.pop(),this._future.push(b),this.versionId++}},{key:"moveForward",value:function(b){this._future.pop(),this._past.push(b),this.versionId++}}]),se}(),Qe=function(){function se(ae){Object(C.a)(this,se),this.editStacks=ae,this._versionIds=[];for(var b=0,_=this.editStacks.length;b<_;b++)this._versionIds[b]=this.editStacks[b].versionId}return Object(x.a)(se,[{key:"isValid",value:function(){for(var b=0,_=this.editStacks.length;b<_;b++)if(this._versionIds[b]!==this.editStacks[b].versionId)return!1;return!0}}]),se}(),Jn=new an("","");Jn.locked=!0;var ii=function(){function se(ae,b){Object(C.a)(this,se),this._dialogService=ae,this._notificationService=b,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}return Object(x.a)(se,[{key:"getUriComparisonKey",value:function(b){var _=Object(j.a)(this._uriComparisonKeyComputers),p;try{for(_.s();!(p=_.n()).done;){var P=p.value;if(P[0]===b.scheme)return P[1].getComparisonKey(b)}}catch(X){_.e(X)}finally{_.f()}return b.toString()}},{key:"_print",value:function(b){console.log("------------------------------------"),console.log("AFTER ".concat(b,": "));var _=[],p=Object(j.a)(this._editStacks),P;try{for(p.s();!(P=p.n()).done;){var X=P.value;_.push(X[1].toString())}}catch(Se){p.e(Se)}finally{p.f()}console.log(_.join(`
`))}},{key:"pushElement",value:function(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yr.c.None,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yr.d.None;if(b.type===0){var P=xi(b.resource),X=this.getUriComparisonKey(b.resource);this._pushElement(new mr(b,P,X,_.id,_.nextOrder(),p.id,p.nextOrder()))}else{var Se=new Set,Ae=[],qe=[],rt=Object(j.a)(b.resources),ct;try{for(rt.s();!(ct=rt.n()).done;){var Xt=ct.value,cn=xi(Xt),Mn=this.getUriComparisonKey(Xt);Se.has(Mn)||(Se.add(Mn),Ae.push(cn),qe.push(Mn))}}catch(gi){rt.e(gi)}finally{rt.f()}Ae.length===1?this._pushElement(new mr(b,Ae[0],qe[0],_.id,_.nextOrder(),p.id,p.nextOrder())):this._pushElement(new Gi(b,Ae,qe,_.id,_.nextOrder(),p.id,p.nextOrder()))}Lt&&this._print("pushElement")}},{key:"_pushElement",value:function(b){for(var _=0,p=b.strResources.length;_<p;_++){var P=b.resourceLabels[_],X=b.strResources[_],Se=void 0;this._editStacks.has(X)?Se=this._editStacks.get(X):(Se=new an(P,X),this._editStacks.set(X,Se)),Se.pushElement(b)}}},{key:"getLastElement",value:function(b){var _=this.getUriComparisonKey(b);if(this._editStacks.has(_)){var p=this._editStacks.get(_);if(p.hasFutureElements())return null;var P=p.getClosestPastElement();return P?P.actual:null}return null}},{key:"_splitPastWorkspaceElement",value:function(b,_){var p=b.actual.split(),P=new Map,X=Object(j.a)(p),Se;try{for(X.s();!(Se=X.n()).done;){var Ae=Se.value,qe=xi(Ae.resource),rt=this.getUriComparisonKey(Ae.resource),ct=new mr(Ae,qe,rt,0,0,0,0);P.set(ct.strResource,ct)}}catch(Zn){X.e(Zn)}finally{X.f()}var Xt=Object(j.a)(b.strResources),cn;try{for(Xt.s();!(cn=Xt.n()).done;){var Mn=cn.value;if(!(_&&_.has(Mn))){var gi=this._editStacks.get(Mn);gi.splitPastWorkspaceElement(b,P)}}}catch(Zn){Xt.e(Zn)}finally{Xt.f()}}},{key:"_splitFutureWorkspaceElement",value:function(b,_){var p=b.actual.split(),P=new Map,X=Object(j.a)(p),Se;try{for(X.s();!(Se=X.n()).done;){var Ae=Se.value,qe=xi(Ae.resource),rt=this.getUriComparisonKey(Ae.resource),ct=new mr(Ae,qe,rt,0,0,0,0);P.set(ct.strResource,ct)}}catch(Zn){X.e(Zn)}finally{X.f()}var Xt=Object(j.a)(b.strResources),cn;try{for(Xt.s();!(cn=Xt.n()).done;){var Mn=cn.value;if(!(_&&_.has(Mn))){var gi=this._editStacks.get(Mn);gi.splitFutureWorkspaceElement(b,P)}}}catch(Zn){Xt.e(Zn)}finally{Xt.f()}}},{key:"removeElements",value:function(b){var _=typeof b=="string"?b:this.getUriComparisonKey(b);if(this._editStacks.has(_)){var p=this._editStacks.get(_);p.dispose(),this._editStacks.delete(_)}Lt&&this._print("removeElements")}},{key:"setElementsValidFlag",value:function(b,_,p){var P=this.getUriComparisonKey(b);if(this._editStacks.has(P)){var X=this._editStacks.get(P);X.setElementsValidFlag(_,p)}Lt&&this._print("setElementsValidFlag")}},{key:"createSnapshot",value:function(b){var _=this.getUriComparisonKey(b);if(this._editStacks.has(_)){var p=this._editStacks.get(_);return p.createSnapshot(b)}return new yr.b(b,[])}},{key:"restoreSnapshot",value:function(b){var _=this.getUriComparisonKey(b.resource);if(this._editStacks.has(_)){var p=this._editStacks.get(_);p.restoreSnapshot(b),!p.hasPastElements()&&!p.hasFutureElements()&&(p.dispose(),this._editStacks.delete(_))}Lt&&this._print("restoreSnapshot")}},{key:"getElements",value:function(b){var _=this.getUriComparisonKey(b);if(this._editStacks.has(_)){var p=this._editStacks.get(_);return p.getElements()}return{past:[],future:[]}}},{key:"_findClosestUndoElementWithSource",value:function(b){if(!b)return[null,null];var _=null,p=null,P=Object(j.a)(this._editStacks),X;try{for(P.s();!(X=P.n()).done;){var Se=X.value,Ae=Object(qt.a)(Se,2),qe=Ae[0],rt=Ae[1],ct=rt.getClosestPastElement();!ct||ct.sourceId===b&&(!_||ct.sourceOrder>_.sourceOrder)&&(_=ct,p=qe)}}catch(Xt){P.e(Xt)}finally{P.f()}return[_,p]}},{key:"canUndo",value:function(b){if(b instanceof yr.d){var _=this._findClosestUndoElementWithSource(b.id),p=Object(qt.a)(_,2),P=p[1];return!!P}var X=this.getUriComparisonKey(b);if(this._editStacks.has(X)){var Se=this._editStacks.get(X);return Se.hasPastElements()}return!1}},{key:"_onError",value:function(b,_){Object(gn.h)(b);var p=Object(j.a)(_.strResources),P;try{for(p.s();!(P=p.n()).done;){var X=P.value;this.removeElements(X)}}catch(Se){p.e(Se)}finally{p.f()}this._notificationService.error(b)}},{key:"_acquireLocks",value:function(b){var _=Object(j.a)(b.editStacks),p;try{for(_.s();!(p=_.n()).done;){var P=p.value;if(P.locked)throw new Error("Cannot acquire edit stack lock")}}catch(qe){_.e(qe)}finally{_.f()}var X=Object(j.a)(b.editStacks),Se;try{for(X.s();!(Se=X.n()).done;){var Ae=Se.value;Ae.locked=!0}}catch(qe){X.e(qe)}finally{X.f()}return function(){var qe=Object(j.a)(b.editStacks),rt;try{for(qe.s();!(rt=qe.n()).done;){var ct=rt.value;ct.locked=!1}}catch(Xt){qe.e(Xt)}finally{qe.f()}}}},{key:"_safeInvokeWithLocks",value:function(b,_,p,P,X){var Se=this,Ae=this._acquireLocks(p),qe;try{qe=_()}catch(rt){return Ae(),P.dispose(),this._onError(rt,b)}return qe?qe.then(function(){return Ae(),P.dispose(),X()},function(rt){return Ae(),P.dispose(),Se._onError(rt,b)}):(Ae(),P.dispose(),X())}},{key:"_invokeWorkspacePrepare",value:function(b){return tt(this,void 0,void 0,Object(E.a)().mark(function _(){var p;return Object(E.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(typeof b.actual.prepareUndoRedo!="undefined"){X.next=2;break}return X.abrupt("return",J.a.None);case 2:if(p=b.actual.prepareUndoRedo(),typeof p!="undefined"){X.next=5;break}return X.abrupt("return",J.a.None);case 5:return X.abrupt("return",p);case 6:case"end":return X.stop()}},_)}))}},{key:"_invokeResourcePrepare",value:function(b,_){if(b.actual.type!==1||typeof b.actual.prepareUndoRedo=="undefined")return _(J.a.None);var p=b.actual.prepareUndoRedo();return p?Object(J.j)(p)?_(p):p.then(function(P){return _(P)}):_(J.a.None)}},{key:"_getAffectedEditStacks",value:function(b){var _=[],p=Object(j.a)(b.strResources),P;try{for(p.s();!(P=p.n()).done;){var X=P.value;_.push(this._editStacks.get(X)||Jn)}}catch(Se){p.e(Se)}finally{p.f()}return new Qe(_)}},{key:"_tryToSplitAndUndo",value:function(b,_,p,P){if(_.canSplit())return this._splitPastWorkspaceElement(_,p),this._notificationService.warn(P),new Li(this._undo(b,0,!0));var X=Object(j.a)(_.strResources),Se;try{for(X.s();!(Se=X.n()).done;){var Ae=Se.value;this.removeElements(Ae)}}catch(qe){X.e(qe)}finally{X.f()}return this._notificationService.warn(P),new Li}},{key:"_checkWorkspaceUndo",value:function(b,_,p,P){if(_.removedResources)return this._tryToSplitAndUndo(b,_,_.removedResources,bn.b({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",_.label,_.removedResources.createMessage()));if(P&&_.invalidatedResources)return this._tryToSplitAndUndo(b,_,_.invalidatedResources,bn.b({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",_.label,_.invalidatedResources.createMessage()));var X=[],Se=Object(j.a)(p.editStacks),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value;qe.getClosestPastElement()!==_&&X.push(qe.resourceLabel)}}catch(Mn){Se.e(Mn)}finally{Se.f()}if(X.length>0)return this._tryToSplitAndUndo(b,_,null,bn.b({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",_.label,X.join(", ")));var rt=[],ct=Object(j.a)(p.editStacks),Xt;try{for(ct.s();!(Xt=ct.n()).done;){var cn=Xt.value;cn.locked&&rt.push(cn.resourceLabel)}}catch(Mn){ct.e(Mn)}finally{ct.f()}return rt.length>0?this._tryToSplitAndUndo(b,_,null,bn.b({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",_.label,rt.join(", "))):p.isValid()?null:this._tryToSplitAndUndo(b,_,null,bn.b({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",_.label))}},{key:"_workspaceUndo",value:function(b,_,p){var P=this._getAffectedEditStacks(_),X=this._checkWorkspaceUndo(b,_,P,!1);return X?X.returnValue:this._confirmAndExecuteWorkspaceUndo(b,_,P,p)}},{key:"_isPartOfUndoGroup",value:function(b){if(!b.groupId)return!1;var _=Object(j.a)(this._editStacks),p;try{for(_.s();!(p=_.n()).done;){var P=p.value,X=Object(qt.a)(P,2),Se=X[1],Ae=Se.getClosestPastElement();if(!!Ae){if(Ae===b){var qe=Se.getSecondClosestPastElement();if(qe&&qe.groupId===b.groupId)return!0}if(Ae.groupId===b.groupId)return!0}}}catch(rt){_.e(rt)}finally{_.f()}return!1}},{key:"_confirmAndExecuteWorkspaceUndo",value:function(b,_,p,P){return tt(this,void 0,void 0,Object(E.a)().mark(function X(){var Se=this,Ae,qe,rt,ct,Xt,cn,Mn,gi,Zn;return Object(E.a)().wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:if(!(_.canSplit()&&!this._isPartOfUndoGroup(_))){Un.next=15;break}return function(qn){qn[qn.All=0]="All",qn[qn.This=1]="This",qn[qn.Cancel=2]="Cancel"}(Ae||(Ae={})),Un.next=4,this._dialogService.prompt({type:rn.a.Info,message:bn.b("confirmWorkspace","Would you like to undo '{0}' across all files?",_.label),buttons:[{label:bn.b({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",p.editStacks.length),run:function(){return Ae.All}},{label:bn.b({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:function(){return Ae.This}}],cancelButton:{run:function(){return Ae.Cancel}}});case 4:if(qe=Un.sent,rt=qe.result,rt!==Ae.Cancel){Un.next=8;break}return Un.abrupt("return");case 8:if(rt!==Ae.This){Un.next=11;break}return this._splitPastWorkspaceElement(_,null),Un.abrupt("return",this._undo(b,0,!0));case 11:if(ct=this._checkWorkspaceUndo(b,_,p,!1),!ct){Un.next=14;break}return Un.abrupt("return",ct.returnValue);case 14:P=!0;case 15:return Un.prev=15,Un.next=18,this._invokeWorkspacePrepare(_);case 18:Xt=Un.sent,Un.next=24;break;case 21:return Un.prev=21,Un.t0=Un.catch(15),Un.abrupt("return",this._onError(Un.t0,_));case 24:if(cn=this._checkWorkspaceUndo(b,_,p,!0),!cn){Un.next=28;break}return Xt.dispose(),Un.abrupt("return",cn.returnValue);case 28:Mn=Object(j.a)(p.editStacks);try{for(Mn.s();!(gi=Mn.n()).done;)Zn=gi.value,Zn.moveBackward(_)}catch(qn){Mn.e(qn)}finally{Mn.f()}return Un.abrupt("return",this._safeInvokeWithLocks(_,function(){return _.actual.undo()},p,Xt,function(){return Se._continueUndoInGroup(_.groupId,P)}));case 31:case"end":return Un.stop()}},X,this,[[15,21]])}))}},{key:"_resourceUndo",value:function(b,_,p){var P=this;if(!_.isValid){b.flushAllElements();return}if(b.locked){var X=bn.b({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",_.label);this._notificationService.warn(X);return}return this._invokeResourcePrepare(_,function(Se){return b.moveBackward(_),P._safeInvokeWithLocks(_,function(){return _.actual.undo()},new Qe([b]),Se,function(){return P._continueUndoInGroup(_.groupId,p)})})}},{key:"_findClosestUndoElementInGroup",value:function(b){if(!b)return[null,null];var _=null,p=null,P=Object(j.a)(this._editStacks),X;try{for(P.s();!(X=P.n()).done;){var Se=X.value,Ae=Object(qt.a)(Se,2),qe=Ae[0],rt=Ae[1],ct=rt.getClosestPastElement();!ct||ct.groupId===b&&(!_||ct.groupOrder>_.groupOrder)&&(_=ct,p=qe)}}catch(Xt){P.e(Xt)}finally{P.f()}return[_,p]}},{key:"_continueUndoInGroup",value:function(b,_){if(!!b){var p=this._findClosestUndoElementInGroup(b),P=Object(qt.a)(p,2),X=P[1];if(X)return this._undo(X,0,_)}}},{key:"undo",value:function(b){if(b instanceof yr.d){var _=this._findClosestUndoElementWithSource(b.id),p=Object(qt.a)(_,2),P=p[1];return P?this._undo(P,b.id,!1):void 0}return typeof b=="string"?this._undo(b,0,!1):this._undo(this.getUriComparisonKey(b),0,!1)}},{key:"_undo",value:function(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=arguments.length>2?arguments[2]:void 0;if(!!this._editStacks.has(b)){var P=this._editStacks.get(b),X=P.getClosestPastElement();if(!!X){if(X.groupId){var Se=this._findClosestUndoElementInGroup(X.groupId),Ae=Object(qt.a)(Se,2),qe=Ae[0],rt=Ae[1];if(X!==qe&&rt)return this._undo(rt,_,p)}var ct=X.sourceId!==_||X.confirmBeforeUndo;if(ct&&!p)return this._confirmAndContinueUndo(b,_,X);try{return X.type===1?this._workspaceUndo(b,X,p):this._resourceUndo(P,X,p)}finally{Lt&&this._print("undo")}}}}},{key:"_confirmAndContinueUndo",value:function(b,_,p){return tt(this,void 0,void 0,Object(E.a)().mark(function P(){var X;return Object(E.a)().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,this._dialogService.confirm({message:bn.b("confirmDifferentSource","Would you like to undo '{0}'?",p.label),primaryButton:bn.b({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:bn.b("confirmDifferentSource.no","No")});case 2:if(X=Ae.sent,X.confirmed){Ae.next=5;break}return Ae.abrupt("return");case 5:return Ae.abrupt("return",this._undo(b,_,!0));case 6:case"end":return Ae.stop()}},P,this)}))}},{key:"_findClosestRedoElementWithSource",value:function(b){if(!b)return[null,null];var _=null,p=null,P=Object(j.a)(this._editStacks),X;try{for(P.s();!(X=P.n()).done;){var Se=X.value,Ae=Object(qt.a)(Se,2),qe=Ae[0],rt=Ae[1],ct=rt.getClosestFutureElement();!ct||ct.sourceId===b&&(!_||ct.sourceOrder<_.sourceOrder)&&(_=ct,p=qe)}}catch(Xt){P.e(Xt)}finally{P.f()}return[_,p]}},{key:"canRedo",value:function(b){if(b instanceof yr.d){var _=this._findClosestRedoElementWithSource(b.id),p=Object(qt.a)(_,2),P=p[1];return!!P}var X=this.getUriComparisonKey(b);if(this._editStacks.has(X)){var Se=this._editStacks.get(X);return Se.hasFutureElements()}return!1}},{key:"_tryToSplitAndRedo",value:function(b,_,p,P){if(_.canSplit())return this._splitFutureWorkspaceElement(_,p),this._notificationService.warn(P),new Li(this._redo(b));var X=Object(j.a)(_.strResources),Se;try{for(X.s();!(Se=X.n()).done;){var Ae=Se.value;this.removeElements(Ae)}}catch(qe){X.e(qe)}finally{X.f()}return this._notificationService.warn(P),new Li}},{key:"_checkWorkspaceRedo",value:function(b,_,p,P){if(_.removedResources)return this._tryToSplitAndRedo(b,_,_.removedResources,bn.b({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",_.label,_.removedResources.createMessage()));if(P&&_.invalidatedResources)return this._tryToSplitAndRedo(b,_,_.invalidatedResources,bn.b({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",_.label,_.invalidatedResources.createMessage()));var X=[],Se=Object(j.a)(p.editStacks),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value;qe.getClosestFutureElement()!==_&&X.push(qe.resourceLabel)}}catch(Mn){Se.e(Mn)}finally{Se.f()}if(X.length>0)return this._tryToSplitAndRedo(b,_,null,bn.b({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",_.label,X.join(", ")));var rt=[],ct=Object(j.a)(p.editStacks),Xt;try{for(ct.s();!(Xt=ct.n()).done;){var cn=Xt.value;cn.locked&&rt.push(cn.resourceLabel)}}catch(Mn){ct.e(Mn)}finally{ct.f()}return rt.length>0?this._tryToSplitAndRedo(b,_,null,bn.b({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",_.label,rt.join(", "))):p.isValid()?null:this._tryToSplitAndRedo(b,_,null,bn.b({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",_.label))}},{key:"_workspaceRedo",value:function(b,_){var p=this._getAffectedEditStacks(_),P=this._checkWorkspaceRedo(b,_,p,!1);return P?P.returnValue:this._executeWorkspaceRedo(b,_,p)}},{key:"_executeWorkspaceRedo",value:function(b,_,p){return tt(this,void 0,void 0,Object(E.a)().mark(function P(){var X=this,Se,Ae,qe,rt,ct;return Object(E.a)().wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:return cn.prev=0,cn.next=3,this._invokeWorkspacePrepare(_);case 3:Se=cn.sent,cn.next=9;break;case 6:return cn.prev=6,cn.t0=cn.catch(0),cn.abrupt("return",this._onError(cn.t0,_));case 9:if(Ae=this._checkWorkspaceRedo(b,_,p,!0),!Ae){cn.next=13;break}return Se.dispose(),cn.abrupt("return",Ae.returnValue);case 13:qe=Object(j.a)(p.editStacks);try{for(qe.s();!(rt=qe.n()).done;)ct=rt.value,ct.moveForward(_)}catch(Mn){qe.e(Mn)}finally{qe.f()}return cn.abrupt("return",this._safeInvokeWithLocks(_,function(){return _.actual.redo()},p,Se,function(){return X._continueRedoInGroup(_.groupId)}));case 16:case"end":return cn.stop()}},P,this,[[0,6]])}))}},{key:"_resourceRedo",value:function(b,_){var p=this;if(!_.isValid){b.flushAllElements();return}if(b.locked){var P=bn.b({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",_.label);this._notificationService.warn(P);return}return this._invokeResourcePrepare(_,function(X){return b.moveForward(_),p._safeInvokeWithLocks(_,function(){return _.actual.redo()},new Qe([b]),X,function(){return p._continueRedoInGroup(_.groupId)})})}},{key:"_findClosestRedoElementInGroup",value:function(b){if(!b)return[null,null];var _=null,p=null,P=Object(j.a)(this._editStacks),X;try{for(P.s();!(X=P.n()).done;){var Se=X.value,Ae=Object(qt.a)(Se,2),qe=Ae[0],rt=Ae[1],ct=rt.getClosestFutureElement();!ct||ct.groupId===b&&(!_||ct.groupOrder<_.groupOrder)&&(_=ct,p=qe)}}catch(Xt){P.e(Xt)}finally{P.f()}return[_,p]}},{key:"_continueRedoInGroup",value:function(b){if(!!b){var _=this._findClosestRedoElementInGroup(b),p=Object(qt.a)(_,2),P=p[1];if(P)return this._redo(P)}}},{key:"redo",value:function(b){if(b instanceof yr.d){var _=this._findClosestRedoElementWithSource(b.id),p=Object(qt.a)(_,2),P=p[1];return P?this._redo(P):void 0}return typeof b=="string"?this._redo(b):this._redo(this.getUriComparisonKey(b))}},{key:"_redo",value:function(b){if(!!this._editStacks.has(b)){var _=this._editStacks.get(b),p=_.getClosestFutureElement();if(!!p){if(p.groupId){var P=this._findClosestRedoElementInGroup(p.groupId),X=Object(qt.a)(P,2),Se=X[0],Ae=X[1];if(p!==Se&&Ae)return this._redo(Ae)}try{return p.type===1?this._workspaceRedo(b,p):this._resourceRedo(_,p)}finally{Lt&&this._print("redo")}}}}}]),se}();ii=_i([Bn(0,Qn.a),Bn(1,Ci.a)],ii);var Li=Object(x.a)(function se(ae){Object(C.a)(this,se),this.returnValue=ae});Object(Ei.b)(yr.a,ii,1);var Fn=a("6XFq"),jn=a("09fa"),Nt=a("JS/N"),Gt=a("DF6W"),Et=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},Rt=function(se,ae){return function(b,_){ae(b,_,se)}},dn=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P){var X;return Object(C.a)(this,b),X=ae.call(this),X._themeService=_,X._logService=p,X._languageService=P,X._caches=new WeakMap,X._register(X._themeService.onDidColorThemeChange(function(){X._caches=new WeakMap})),X}return Object(x.a)(b,[{key:"getStyling",value:function(p){return this._caches.has(p)||this._caches.set(p,new Nt.a(p.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(p)}}]),b}(J.a);dn=Et([Rt(0,ci.b),Rt(1,jn.b),Rt(2,U.a)],dn),Object(Ei.b)(Gt.a,dn,1);var et=a("X+cX"),Ze=a("PTeM"),on=a("QDVR"),tn=a("MrjW"),Dt=a("MNsG"),pn=function(se,ae,b,_){function p(P){return P instanceof b?P:new b(function(X){X(P)})}return new(b||(b=Promise))(function(P,X){function Se(rt){try{qe(_.next(rt))}catch(ct){X(ct)}}function Ae(rt){try{qe(_.throw(rt))}catch(ct){X(ct)}}function qe(rt){rt.done?P(rt.value):p(rt.value).then(Se,Ae)}qe((_=_.apply(se,ae||[])).next())})},ti="**",kn="/",Vt="[/\\\\]",Oi="[^/\\\\]",Yi=/\//g;function Hi(se,ae){switch(se){case 0:return"";case 1:return"".concat(Oi,"*?");default:return"(?:".concat(Vt,"|").concat(Oi,"+").concat(Vt).concat(ae?"|".concat(Vt).concat(Oi,"+"):"",")*?")}}function qi(se,ae){if(!se)return[];var b=[],_=!1,p=!1,P="",X=Object(j.a)(se),Se;try{for(X.s();!(Se=X.n()).done;){var Ae=Se.value;switch(Ae){case ae:if(!_&&!p){b.push(P),P="";continue}break;case"{":_=!0;break;case"}":_=!1;break;case"[":p=!0;break;case"]":p=!1;break}P+=Ae}}catch(qe){X.e(qe)}finally{X.f()}return P&&b.push(P),b}function Qr(se){if(!se)return"";var ae="",b=qi(se,kn);if(b.every(function(p){return p===ti}))ae=".*";else{var _=!1;b.forEach(function(p,P){if(p===ti){if(_)return;ae+=Hi(2,P===b.length-1)}else{var X=!1,Se="",Ae=!1,qe="",rt=Object(j.a)(p),ct;try{for(rt.s();!(ct=rt.n()).done;){var Xt=ct.value;if(Xt!=="}"&&X){Se+=Xt;continue}if(Ae&&(Xt!=="]"||!qe)){var cn=void 0;Xt==="-"?cn=Xt:(Xt==="^"||Xt==="!")&&!qe?cn="^":Xt===kn?cn="":cn=Object($.t)(Xt),qe+=cn;continue}switch(Xt){case"{":X=!0;continue;case"[":Ae=!0;continue;case"}":{var Mn=qi(Se,","),gi="(?:".concat(Mn.map(function(Zn){return Qr(Zn)}).join("|"),")");ae+=gi,X=!1,Se="";break}case"]":{ae+="["+qe+"]",Ae=!1,qe="";break}case"?":ae+=Oi;continue;case"*":ae+=Hi(1);continue;default:ae+=Object($.t)(Xt)}}}catch(Zn){rt.e(Zn)}finally{rt.f()}P<b.length-1&&(b[P+1]!==ti||P+2<b.length)&&(ae+=Vt)}_=p===ti})}return ae}var Mr=/^\*\*\/\*\.[\w\.-]+$/,na=/^\*\*\/([\w\.-]+)\/?$/,Br=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,ha=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,vn=/^\*\*((\/[\w\.-]+)+)\/?$/,Ln=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,ut=new on.a(1e4),Tt=function(){return!1},Pt=function(){return null};function Zt(se,ae){if(!se)return Pt;var b;typeof se!="string"?b=se.pattern:b=se,b=b.trim();var _="".concat(b,"_").concat(!!ae.trimForExclusions),p=ut.get(_);if(p)return Ut(p,se);var P;return Mr.test(b)?p=In(b.substr(4),b):(P=na.exec(Nn(b,ae)))?p=Wn(P[1],b):(ae.trimForExclusions?ha:Br).test(b)?p=oi(b,ae):(P=vn.exec(Nn(b,ae)))?p=bi(P[1].substr(1),b,!0):(P=Ln.exec(Nn(b,ae)))?p=bi(P[1],b,!1):p=_n(b),ut.set(_,p),Ut(p,se)}function Ut(se,ae){if(typeof ae=="string")return se;var b=function(p,P){return Object(Ze.c)(p,ae.base,!Dt.g)?se(Object($.K)(p.substr(ae.base.length),tn.h),P):null};return b.allBasenames=se.allBasenames,b.allPaths=se.allPaths,b.basenames=se.basenames,b.patterns=se.patterns,b}function Nn(se,ae){return ae.trimForExclusions&&se.endsWith("/**")?se.substr(0,se.length-2):se}function In(se,ae){return function(b,_){return typeof b=="string"&&b.endsWith(se)?ae:null}}function Wn(se,ae){var b="/".concat(se),_="\\".concat(se),p=function(Se,Ae){return typeof Se!="string"?null:Ae?Ae===se?ae:null:Se===se||Se.endsWith(b)||Se.endsWith(_)?ae:null},P=[se];return p.basenames=P,p.patterns=[ae],p.allBasenames=P,p}function oi(se,ae){var b=Er(se.slice(1,-1).split(",").map(function(Se){return Zt(Se,ae)}).filter(function(Se){return Se!==Pt}),se),_=b.length;if(!_)return Pt;if(_===1)return b[0];var p=function(Ae,qe){for(var rt=0,ct=b.length;rt<ct;rt++)if(b[rt](Ae,qe))return se;return null},P=b.find(function(Se){return!!Se.allBasenames});P&&(p.allBasenames=P.allBasenames);var X=b.reduce(function(Se,Ae){return Ae.allPaths?Se.concat(Ae.allPaths):Se},[]);return X.length&&(p.allPaths=X),p}function bi(se,ae,b){var _=tn.h===tn.e.sep,p=_?se:se.replace(Yi,tn.h),P=tn.h+p,X=tn.e.sep+se,Se;return b?Se=function(qe,rt){return typeof qe=="string"&&(qe===p||qe.endsWith(P)||!_&&(qe===se||qe.endsWith(X)))?ae:null}:Se=function(qe,rt){return typeof qe=="string"&&(qe===p||!_&&qe===se)?ae:null},Se.allPaths=[(b?"*/":"./")+se],Se}function _n(se){try{var ae=new RegExp("^".concat(Qr(se),"$"));return function(b){return ae.lastIndex=0,typeof b=="string"&&ae.test(b)?se:null}}catch(b){return Pt}}function li(se,ae,b){return!se||typeof ae!="string"?!1:ki(se)(ae,void 0,b)}function ki(se){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!se)return Tt;if(typeof se=="string"||Ki(se)){var b=Zt(se,ae);if(b===Pt)return Tt;var _=function(P,X){return!!b(P,X)};return b.allBasenames&&(_.allBasenames=b.allBasenames),b.allPaths&&(_.allPaths=b.allPaths),_}return Tr(se,ae)}function Ki(se){var ae=se;return ae?typeof ae.base=="string"&&typeof ae.pattern=="string":!1}function Tr(se,ae){var b=Er(Object.getOwnPropertyNames(se).map(function(rt){return ir(rt,se[rt],ae)}).filter(function(rt){return rt!==Pt})),_=b.length;if(!_)return Pt;if(!b.some(function(rt){return!!rt.requiresSiblings})){if(_===1)return b[0];var p=function(ct,Xt){for(var cn=this,Mn=void 0,gi=0,Zn=b.length;gi<Zn;gi++){var di=b[gi](ct,Xt);if(typeof di=="string")return di;Object(et.n)(di)&&(Mn||(Mn=[]),Mn.push(di))}return Mn?function(){return pn(cn,void 0,void 0,Object(E.a)().mark(function Un(){var qn,ur,_r,cr;return Object(E.a)().wrap(function(Kr){for(;;)switch(Kr.prev=Kr.next){case 0:qn=Object(j.a)(Mn),Kr.prev=1,qn.s();case 3:if((ur=qn.n()).done){Kr.next=12;break}return _r=ur.value,Kr.next=7,_r;case 7:if(cr=Kr.sent,typeof cr!="string"){Kr.next=10;break}return Kr.abrupt("return",cr);case 10:Kr.next=3;break;case 12:Kr.next=17;break;case 14:Kr.prev=14,Kr.t0=Kr.catch(1),qn.e(Kr.t0);case 17:return Kr.prev=17,qn.f(),Kr.finish(17);case 20:return Kr.abrupt("return",null);case 21:case"end":return Kr.stop()}},Un,null,[[1,14,17,20]])}))}():null},P=b.find(function(rt){return!!rt.allBasenames});P&&(p.allBasenames=P.allBasenames);var X=b.reduce(function(rt,ct){return ct.allPaths?rt.concat(ct.allPaths):rt},[]);return X.length&&(p.allPaths=X),p}var Se=function(ct,Xt,cn){for(var Mn=this,gi=void 0,Zn=void 0,di=0,Un=b.length;di<Un;di++){var qn=b[di];qn.requiresSiblings&&cn&&(Xt||(Xt=Object(tn.a)(ct)),gi||(gi=Xt.substr(0,Xt.length-Object(tn.c)(ct).length)));var ur=qn(ct,Xt,gi,cn);if(typeof ur=="string")return ur;Object(et.n)(ur)&&(Zn||(Zn=[]),Zn.push(ur))}return Zn?function(){return pn(Mn,void 0,void 0,Object(E.a)().mark(function _r(){var cr,Zr,Kr,Jr;return Object(E.a)().wrap(function(Ma){for(;;)switch(Ma.prev=Ma.next){case 0:cr=Object(j.a)(Zn),Ma.prev=1,cr.s();case 3:if((Zr=cr.n()).done){Ma.next=12;break}return Kr=Zr.value,Ma.next=7,Kr;case 7:if(Jr=Ma.sent,typeof Jr!="string"){Ma.next=10;break}return Ma.abrupt("return",Jr);case 10:Ma.next=3;break;case 12:Ma.next=17;break;case 14:Ma.prev=14,Ma.t0=Ma.catch(1),cr.e(Ma.t0);case 17:return Ma.prev=17,cr.f(),Ma.finish(17);case 20:return Ma.abrupt("return",null);case 21:case"end":return Ma.stop()}},_r,null,[[1,14,17,20]])}))}():null},Ae=b.find(function(rt){return!!rt.allBasenames});Ae&&(Se.allBasenames=Ae.allBasenames);var qe=b.reduce(function(rt,ct){return ct.allPaths?rt.concat(ct.allPaths):rt},[]);return qe.length&&(Se.allPaths=qe),Se}function ir(se,ae,b){if(ae===!1)return Pt;var _=Zt(se,b);if(_===Pt)return Pt;if(typeof ae=="boolean")return _;if(ae){var p=ae.when;if(typeof p=="string"){var P=function(Se,Ae,qe,rt){if(!rt||!_(Se,Ae))return null;var ct=p.replace("$(basename)",function(){return qe}),Xt=rt(ct);return Object(et.n)(Xt)?Xt.then(function(cn){return cn?se:null}):Xt?se:null};return P.requiresSiblings=!0,P}}return _}function Er(se,ae){var b=se.filter(function(qe){return!!qe.basenames});if(b.length<2)return se;var _=b.reduce(function(qe,rt){var ct=rt.basenames;return ct?qe.concat(ct):qe},[]),p;if(ae){p=[];for(var P=0,X=_.length;P<X;P++)p.push(ae)}else p=b.reduce(function(qe,rt){var ct=rt.patterns;return ct?qe.concat(ct):qe},[]);var Se=function(rt,ct){if(typeof rt!="string")return null;if(!ct){var Xt;for(Xt=rt.length;Xt>0;Xt--){var cn=rt.charCodeAt(Xt-1);if(cn===47||cn===92)break}ct=rt.substr(Xt)}var Mn=_.indexOf(ct);return Mn!==-1?p[Mn]:null};Se.basenames=_,Se.patterns=p,Se.allBasenames=_;var Ae=se.filter(function(qe){return!qe.basenames});return Ae.push(Se),Ae}function va(se,ae,b,_,p,P){if(Array.isArray(se)){var X=0,Se=Object(j.a)(se),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value,rt=va(qe,ae,b,_,p,P);if(rt===10)return rt;rt>X&&(X=rt)}}catch(Un){Se.e(Un)}finally{Se.f()}return X}else{if(typeof se=="string")return _?se==="*"?5:se===b?10:0:0;if(se){var ct=se.language,Xt=se.pattern,cn=se.scheme,Mn=se.hasAccessToAllModels,gi=se.notebookType;if(!_&&!Mn)return 0;gi&&p&&(ae=p);var Zn=0;if(cn)if(cn===ae.scheme)Zn=10;else if(cn==="*")Zn=5;else return 0;if(ct)if(ct===b)Zn=10;else if(ct==="*")Zn=Math.max(Zn,5);else return 0;if(gi)if(gi===P)Zn=10;else if(gi==="*"&&P!==void 0)Zn=Math.max(Zn,5);else return 0;if(Xt){var di;if(typeof Xt=="string"?di=Xt:di=Object.assign(Object.assign({},Xt),{base:Object(tn.d)(Xt.base)}),di===ae.fsPath||li(di,ae.fsPath))Zn=10;else return 0}return Zn}else return 0}}function Sn(se){return typeof se=="string"?!1:Array.isArray(se)?se.every(Sn):!!se.exclusive}var ri=function(){function se(ae,b,_,p){Object(C.a)(this,se),this.uri=ae,this.languageId=b,this.notebookUri=_,this.notebookType=p}return Object(x.a)(se,[{key:"equals",value:function(b){var _,p;return this.notebookType===b.notebookType&&this.languageId===b.languageId&&this.uri.toString()===b.uri.toString()&&((_=this.notebookUri)===null||_===void 0?void 0:_.toString())===((p=b.notebookUri)===null||p===void 0?void 0:p.toString())}}]),se}(),Vn=function(){function se(ae){Object(C.a)(this,se),this._notebookInfoResolver=ae,this._clock=0,this._entries=[],this._onDidChange=new On.b,this.onDidChange=this._onDidChange.event}return Object(x.a)(se,[{key:"register",value:function(b,_){var p=this,P={selector:b,provider:_,_score:-1,_time:this._clock++};return this._entries.push(P),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Object(J.l)(function(){if(P){var X=p._entries.indexOf(P);X>=0&&(p._entries.splice(X,1),p._lastCandidate=void 0,p._onDidChange.fire(p._entries.length),P=void 0)}})}},{key:"has",value:function(b){return this.all(b).length>0}},{key:"all",value:function(b){if(!b)return[];this._updateScores(b);var _=[],p=Object(j.a)(this._entries),P;try{for(p.s();!(P=p.n()).done;){var X=P.value;X._score>0&&_.push(X.provider)}}catch(Se){p.e(Se)}finally{p.f()}return _}},{key:"ordered",value:function(b){var _=[];return this._orderedForEach(b,function(p){return _.push(p.provider)}),_}},{key:"orderedGroups",value:function(b){var _=[],p,P;return this._orderedForEach(b,function(X){p&&P===X._score?p.push(X.provider):(P=X._score,p=[X.provider],_.push(p))}),_}},{key:"_orderedForEach",value:function(b,_){this._updateScores(b);var p=Object(j.a)(this._entries),P;try{for(p.s();!(P=p.n()).done;){var X=P.value;X._score>0&&_(X)}}catch(Se){p.e(Se)}finally{p.f()}}},{key:"_updateScores",value:function(b){var _,p,P=(_=this._notebookInfoResolver)===null||_===void 0?void 0:_.call(this,b.uri),X=P?new ri(b.uri,b.getLanguageId(),P.uri,P.type):new ri(b.uri,b.getLanguageId(),void 0,void 0);if(!((p=this._lastCandidate)===null||p===void 0?void 0:p.equals(X))){this._lastCandidate=X;var Se=Object(j.a)(this._entries),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value;if(qe._score=va(qe.selector,X.uri,X.languageId,Object(W.k)(b),X.notebookUri,X.notebookType),Sn(qe.selector)&&qe._score>0){var rt=Object(j.a)(this._entries),ct;try{for(rt.s();!(ct=rt.n()).done;){var Xt=ct.value;Xt._score=0}}catch(cn){rt.e(cn)}finally{rt.f()}qe._score=1e3;break}}}catch(cn){Se.e(cn)}finally{Se.f()}this._entries.sort(se._compareByScoreAndTime)}}}],[{key:"_compareByScoreAndTime",value:function(b,_){return b._score<_._score?1:b._score>_._score?-1:Ai(b.selector)&&!Ai(_.selector)?1:!Ai(b.selector)&&Ai(_.selector)?-1:b._time<_._time?1:b._time>_._time?-1:0}}]),se}();function Ai(se){return typeof se=="string"?!1:Array.isArray(se)?se.some(Ai):Boolean(se.isBuiltin)}var or=a("c0Ay"),Zi=function(){function se(){Object(C.a)(this,se),this.referenceProvider=new Vn(this._score.bind(this)),this.renameProvider=new Vn(this._score.bind(this)),this.codeActionProvider=new Vn(this._score.bind(this)),this.definitionProvider=new Vn(this._score.bind(this)),this.typeDefinitionProvider=new Vn(this._score.bind(this)),this.declarationProvider=new Vn(this._score.bind(this)),this.implementationProvider=new Vn(this._score.bind(this)),this.documentSymbolProvider=new Vn(this._score.bind(this)),this.inlayHintsProvider=new Vn(this._score.bind(this)),this.colorProvider=new Vn(this._score.bind(this)),this.codeLensProvider=new Vn(this._score.bind(this)),this.documentFormattingEditProvider=new Vn(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Vn(this._score.bind(this)),this.onTypeFormattingEditProvider=new Vn(this._score.bind(this)),this.signatureHelpProvider=new Vn(this._score.bind(this)),this.hoverProvider=new Vn(this._score.bind(this)),this.documentHighlightProvider=new Vn(this._score.bind(this)),this.selectionRangeProvider=new Vn(this._score.bind(this)),this.foldingRangeProvider=new Vn(this._score.bind(this)),this.linkProvider=new Vn(this._score.bind(this)),this.inlineCompletionsProvider=new Vn(this._score.bind(this)),this.completionProvider=new Vn(this._score.bind(this)),this.linkedEditingRangeProvider=new Vn(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Vn(this._score.bind(this)),this.documentSemanticTokensProvider=new Vn(this._score.bind(this)),this.documentOnDropEditProvider=new Vn(this._score.bind(this)),this.documentPasteEditProvider=new Vn(this._score.bind(this))}return Object(x.a)(se,[{key:"_score",value:function(b){var _;return(_=this._notebookTypeResolver)===null||_===void 0?void 0:_.call(this,b)}}]),se}();Object(Ei.b)(or.a,Zi,1);var zi=a("uDWl"),Wr=a("Szf2"),Ra=a("x/UI"),Nr=a("ZdAd"),xa=a("0/Sa"),Qa=a("cGHE"),ia=a("aokT"),io=a("t49l"),ro=a("db+f"),vo=a("nnTU"),Zo=a("6OMU"),Hr=a("746U"),ao=a("CRAX"),ka=a("ic2d");function ua(se){return Object.isFrozen(se)?se:z.d(se)}var La=function(){function se(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],p=arguments.length>3?arguments[3]:void 0;Object(C.a)(this,se),this._contents=ae,this._keys=b,this._overrides=_,this.raw=p,this.overrideConfigurations=new Map}return Object(x.a)(se,[{key:"rawConfiguration",get:function(){var b;if(!this._rawConfiguration)if((b=this.raw)===null||b===void 0?void 0:b.length){var _=this.raw.map(function(p){if(p instanceof se)return p;var P=new Mo("");return P.parseRaw(p),P.configurationModel});this._rawConfiguration=_.reduce(function(p,P){return P===p?P:p.merge(P)},_[0])}else this._rawConfiguration=this;return this._rawConfiguration}},{key:"contents",get:function(){return this._contents}},{key:"overrides",get:function(){return this._overrides}},{key:"keys",get:function(){return this._keys}},{key:"isEmpty",value:function(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}},{key:"getValue",value:function(b){return b?Object(Ke.c)(this.contents,b):this.contents}},{key:"inspect",value:function(b,_){var p=this.rawConfiguration.getValue(b),P=_?this.rawConfiguration.getOverrideValue(b,_):void 0,X=_?this.rawConfiguration.override(_).getValue(b):p;return{value:p,override:P,merged:X}}},{key:"getOverrideValue",value:function(b,_){var p=this.getContentsForOverrideIdentifer(_);return p?b?Object(Ke.c)(p,b):p:void 0}},{key:"override",value:function(b){var _=this.overrideConfigurations.get(b);return _||(_=this.createOverrideConfigurationModel(b),this.overrideConfigurations.set(b,_)),_}},{key:"merge",value:function(){for(var b=this,_,p,P=z.c(this.contents),X=z.c(this.overrides),Se=Object(ve.a)(this.keys),Ae=((_=this.raw)===null||_===void 0?void 0:_.length)?Object(ve.a)(this.raw):[this],qe=arguments.length,rt=new Array(qe),ct=0;ct<qe;ct++)rt[ct]=arguments[ct];for(var Xt=0,cn=rt;Xt<cn.length;Xt++){var Mn=cn[Xt];if(Ae.push.apply(Ae,Object(ve.a)(((p=Mn.raw)===null||p===void 0?void 0:p.length)?Mn.raw:[Mn])),!Mn.isEmpty()){this.mergeContents(P,Mn.contents);var gi=Object(j.a)(Mn.overrides),Zn;try{var di=function(){var cr=Zn.value,Zr=X.filter(function(Ma){return Zo.j(Ma.identifiers,cr.identifiers)}),Kr=Object(qt.a)(Zr,1),Jr=Kr[0];if(Jr){var pa;b.mergeContents(Jr.contents,cr.contents),(pa=Jr.keys).push.apply(pa,Object(ve.a)(cr.keys)),Jr.keys=Zo.i(Jr.keys)}else X.push(z.c(cr))};for(gi.s();!(Zn=gi.n()).done;)di()}catch(_r){gi.e(_r)}finally{gi.f()}var Un=Object(j.a)(Mn.keys),qn;try{for(Un.s();!(qn=Un.n()).done;){var ur=qn.value;Se.indexOf(ur)===-1&&Se.push(ur)}}catch(_r){Un.e(_r)}finally{Un.f()}}}return new se(P,Se,X,Ae.every(function(_r){return _r instanceof se})?void 0:Ae)}},{key:"createOverrideConfigurationModel",value:function(b){var _=this.getContentsForOverrideIdentifer(b);if(!_||typeof _!="object"||!Object.keys(_).length)return this;var p={},P=Object(j.a)(Zo.i([].concat(Object(ve.a)(Object.keys(this.contents)),Object(ve.a)(Object.keys(_))))),X;try{for(P.s();!(X=P.n()).done;){var Se=X.value,Ae=this.contents[Se],qe=_[Se];qe&&(typeof Ae=="object"&&typeof qe=="object"?(Ae=z.c(Ae),this.mergeContents(Ae,qe)):Ae=qe),p[Se]=Ae}}catch(rt){P.e(rt)}finally{P.f()}return new se(p,this.keys,this.overrides)}},{key:"mergeContents",value:function(b,_){for(var p=0,P=Object.keys(_);p<P.length;p++){var X=P[p];if(X in b&&Hr.h(b[X])&&Hr.h(_[X])){this.mergeContents(b[X],_[X]);continue}b[X]=z.c(_[X])}}},{key:"getContentsForOverrideIdentifer",value:function(b){var _=this,p=null,P=null,X=function(ct){ct&&(P?_.mergeContents(P,ct):P=z.c(ct))},Se=Object(j.a)(this.overrides),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value;Zo.j(qe.identifiers,[b])?p=qe.contents:qe.identifiers.includes(b)&&X(qe.contents)}}catch(rt){Se.e(rt)}finally{Se.f()}return X(p),P}},{key:"toJSON",value:function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}},{key:"addValue",value:function(b,_){this.updateValue(b,_,!0)}},{key:"setValue",value:function(b,_){this.updateValue(b,_,!1)}},{key:"removeValue",value:function(b){var _=this.keys.indexOf(b);_!==-1&&(this.keys.splice(_,1),Object(Ke.e)(this.contents,b),ao.b.test(b)&&this.overrides.splice(this.overrides.findIndex(function(p){return Zo.j(p.identifiers,Object(ao.c)(b))}),1))}},{key:"updateValue",value:function(b,_,p){Object(Ke.b)(this.contents,b,_,function(P){return console.error(P)}),p=p||this.keys.indexOf(b)===-1,p&&this.keys.push(b),ao.b.test(b)&&this.overrides.push({identifiers:Object(ao.c)(b),keys:Object.keys(this.contents[b]),contents:Object(Ke.f)(this.contents[b],function(P){return console.error(P)})})}}]),se}(),Mo=function(){function se(ae){Object(C.a)(this,se),this._name=ae,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}return Object(x.a)(se,[{key:"configurationModel",get:function(){return this._configurationModel||new La}},{key:"parseRaw",value:function(b,_){this._raw=b;var p=this.doParseRaw(b,_),P=p.contents,X=p.keys,Se=p.overrides,Ae=p.restricted,qe=p.hasExcludedProperties;this._configurationModel=new La(P,X,Se,qe?[b]:void 0),this._restrictedConfigurations=Ae||[]}},{key:"doParseRaw",value:function(b,_){var p=this,P=ka.a.as(ao.a.Configuration).getConfigurationProperties(),X=this.filter(b,P,!0,_);b=X.raw;var Se=Object(Ke.f)(b,function(rt){return console.error("Conflict in settings file ".concat(p._name,": ").concat(rt))}),Ae=Object.keys(b),qe=this.toOverrides(b,function(rt){return console.error("Conflict in settings file ".concat(p._name,": ").concat(rt))});return{contents:Se,keys:Ae,overrides:qe,restricted:X.restricted,hasExcludedProperties:X.hasExcludedProperties}}},{key:"filter",value:function(b,_,p,P){var X=!1;if(!(P==null?void 0:P.scopes)&&!(P==null?void 0:P.skipRestricted))return{raw:b,restricted:[],hasExcludedProperties:X};var Se={},Ae=[];for(var qe in b)if(ao.b.test(qe)&&p){var rt=this.filter(b[qe],_,!1,P);Se[qe]=rt.raw,X=X||rt.hasExcludedProperties,Ae.push.apply(Ae,Object(ve.a)(rt.restricted))}else{var ct=_[qe],Xt=ct?typeof ct.scope!="undefined"?ct.scope:3:void 0;(ct==null?void 0:ct.restricted)&&Ae.push(qe),(Xt===void 0||P.scopes===void 0||P.scopes.includes(Xt))&&!(P.skipRestricted&&(ct==null?void 0:ct.restricted))?Se[qe]=b[qe]:X=!0}return{raw:Se,restricted:Ae,hasExcludedProperties:X}}},{key:"toOverrides",value:function(b,_){for(var p=[],P=0,X=Object.keys(b);P<X.length;P++){var Se=X[P];if(ao.b.test(Se)){var Ae={};for(var qe in b[Se])Ae[qe]=b[Se][qe];p.push({identifiers:Object(ao.c)(Se),keys:Object.keys(Ae),contents:Object(Ke.f)(Ae,_)})}}return p}}]),se}(),ts=function(){function se(ae,b,_,p,P,X,Se,Ae,qe,rt,ct,Xt,cn){Object(C.a)(this,se),this.key=ae,this.overrides=b,this._value=_,this.overrideIdentifiers=p,this.defaultConfiguration=P,this.policyConfiguration=X,this.applicationConfiguration=Se,this.userConfiguration=Ae,this.localUserConfiguration=qe,this.remoteUserConfiguration=rt,this.workspaceConfiguration=ct,this.folderConfigurationModel=Xt,this.memoryConfigurationModel=cn}return Object(x.a)(se,[{key:"inspect",value:function(b,_,p){var P=b.inspect(_,p);return{get value(){return ua(P.value)},get override(){return ua(P.override)},get merged(){return ua(P.merged)}}}},{key:"userInspectValue",get:function(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}},{key:"user",get:function(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}]),se}(),At=function(){function se(ae,b,_,p){var P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:new La,X=arguments.length>5&&arguments[5]!==void 0?arguments[5]:new La,Se=arguments.length>6&&arguments[6]!==void 0?arguments[6]:new on.b,Ae=arguments.length>7&&arguments[7]!==void 0?arguments[7]:new La,qe=arguments.length>8&&arguments[8]!==void 0?arguments[8]:new on.b;Object(C.a)(this,se),this._defaultConfiguration=ae,this._policyConfiguration=b,this._applicationConfiguration=_,this._localUserConfiguration=p,this._remoteUserConfiguration=P,this._workspaceConfiguration=X,this._folderConfigurations=Se,this._memoryConfiguration=Ae,this._memoryConfigurationByResource=qe,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new on.b,this._userConfiguration=null}return Object(x.a)(se,[{key:"getValue",value:function(b,_,p){var P=this.getConsolidatedConfigurationModel(b,_,p);return P.getValue(b)}},{key:"updateValue",value:function(b,_){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P;p.resource?(P=this._memoryConfigurationByResource.get(p.resource),P||(P=new La,this._memoryConfigurationByResource.set(p.resource,P))):P=this._memoryConfiguration,_===void 0?P.removeValue(b):P.setValue(b,_),p.resource||(this._workspaceConsolidatedConfiguration=null)}},{key:"inspect",value:function(b,_,p){var P=this.getConsolidatedConfigurationModel(b,_,p),X=this.getFolderConfigurationModelForResource(_.resource,p),Se=_.resource?this._memoryConfigurationByResource.get(_.resource)||this._memoryConfiguration:this._memoryConfiguration,Ae=new Set,qe=Object(j.a)(P.overrides),rt;try{for(qe.s();!(rt=qe.n()).done;){var ct=rt.value,Xt=Object(j.a)(ct.identifiers),cn;try{for(Xt.s();!(cn=Xt.n()).done;){var Mn=cn.value;P.getOverrideValue(b,Mn)!==void 0&&Ae.add(Mn)}}catch(gi){Xt.e(gi)}finally{Xt.f()}}}catch(gi){qe.e(gi)}finally{qe.f()}return new ts(b,_,P.getValue(b),Ae.size?Object(ve.a)(Ae):void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,p?this._workspaceConfiguration:void 0,X||void 0,Se)}},{key:"applicationConfiguration",get:function(){return this._applicationConfiguration}},{key:"userConfiguration",get:function(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}},{key:"localUserConfiguration",get:function(){return this._localUserConfiguration}},{key:"remoteUserConfiguration",get:function(){return this._remoteUserConfiguration}},{key:"getConsolidatedConfigurationModel",value:function(b,_,p){var P=this.getConsolidatedConfigurationModelForResource(_,p);return _.overrideIdentifier&&(P=P.override(_.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(b)!==void 0&&(P=P.merge(this._policyConfiguration)),P}},{key:"getConsolidatedConfigurationModelForResource",value:function(b,_){var p=b.resource,P=this.getWorkspaceConsolidatedConfiguration();if(_&&p){var X=_.getFolder(p);X&&(P=this.getFolderConsolidatedConfiguration(X.uri)||P);var Se=this._memoryConfigurationByResource.get(p);Se&&(P=P.merge(Se))}return P}},{key:"getWorkspaceConsolidatedConfiguration",value:function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}},{key:"getFolderConsolidatedConfiguration",value:function(b){var _=this._foldersConsolidatedConfigurations.get(b);if(!_){var p=this.getWorkspaceConsolidatedConfiguration(),P=this._folderConfigurations.get(b);P?(_=p.merge(P),this._foldersConsolidatedConfigurations.set(b,_)):_=p}return _}},{key:"getFolderConfigurationModelForResource",value:function(b,_){if(_&&b){var p=_.getFolder(b);if(p)return this._folderConfigurations.get(p.uri)}}},{key:"toData",value:function(){var b=this;return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:Object(ve.a)(this._folderConfigurations.keys()).reduce(function(_,p){var P=b._folderConfigurations.get(p),X=P.contents,Se=P.overrides,Ae=P.keys;return _.push([p,{contents:X,overrides:Se,keys:Ae}]),_},[])}}}],[{key:"parse",value:function(b){var _=this,p=this.parseConfigurationModel(b.defaults),P=this.parseConfigurationModel(b.policy),X=this.parseConfigurationModel(b.application),Se=this.parseConfigurationModel(b.user),Ae=this.parseConfigurationModel(b.workspace),qe=b.folders.reduce(function(rt,ct){return rt.set(y.a.revive(ct[0]),_.parseConfigurationModel(ct[1])),rt},new on.b);return new se(p,P,X,Se,new La,Ae,qe,new La,new on.b)}},{key:"parseConfigurationModel",value:function(b){return new La(b.contents,b.keys,b.overrides)}}]),se}(),nt=function(){function se(ae,b,_,p){Object(C.a)(this,se),this.change=ae,this.previous=b,this.currentConfiguraiton=_,this.currentWorkspace=p,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;var P=Object(j.a)(ae.keys),X;try{for(P.s();!(X=P.n()).done;){var Se=X.value;this.affectedKeys.add(Se)}}catch(qn){P.e(qn)}finally{P.f()}var Ae=Object(j.a)(ae.overrides),qe;try{for(Ae.s();!(qe=Ae.n()).done;){var rt=qe.value,ct=Object(qt.a)(rt,2),Xt=ct[1],cn=Object(j.a)(Xt),Mn;try{for(cn.s();!(Mn=cn.n()).done;){var gi=Mn.value;this.affectedKeys.add(gi)}}catch(qn){cn.e(qn)}finally{cn.f()}}}catch(qn){Ae.e(qn)}finally{Ae.f()}this._affectsConfigStr=this._marker;var Zn=Object(j.a)(this.affectedKeys),di;try{for(Zn.s();!(di=Zn.n()).done;){var Un=di.value;this._affectsConfigStr+=Un+this._marker}}catch(qn){Zn.e(qn)}finally{Zn.f()}}return Object(x.a)(se,[{key:"previousConfiguration",get:function(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=At.parse(this.previous.data)),this._previousConfiguration}},{key:"affectsConfiguration",value:function(b,_){var p,P=this._marker+b,X=this._affectsConfigStr.indexOf(P);if(X<0)return!1;var Se=X+P.length;if(Se>=this._affectsConfigStr.length)return!1;var Ae=this._affectsConfigStr.charCodeAt(Se);if(Ae!==this._markerCode1&&Ae!==this._markerCode2)return!1;if(_){var qe=this.previousConfiguration?this.previousConfiguration.getValue(b,_,(p=this.previous)===null||p===void 0?void 0:p.workspace):void 0,rt=this.currentConfiguraiton.getValue(b,_,this.currentWorkspace);return!z.e(qe,rt)}return!0}}]),se}(),_e=a("bvvZ"),q={kind:0},M={kind:1};function D(se,ae,b){return{kind:2,commandId:se,commandArgs:ae,isBubble:b}}var G=function(){function se(ae,b,_){Object(C.a)(this,se);var p;this._log=_,this._defaultKeybindings=ae,this._defaultBoundCommands=new Map;var P=Object(j.a)(ae),X;try{for(P.s();!(X=P.n()).done;){var Se=X.value,Ae=Se.command;Ae&&Ae.charAt(0)!=="-"&&this._defaultBoundCommands.set(Ae,!0)}}catch(cn){P.e(cn)}finally{P.f()}this._map=new Map,this._lookupMap=new Map,this._keybindings=se.handleRemovals([].concat(ae).concat(b));for(var qe=0,rt=this._keybindings.length;qe<rt;qe++){var ct=this._keybindings[qe];if(ct.chords.length!==0){var Xt=(p=ct.when)===null||p===void 0?void 0:p.substituteConstants();Xt&&Xt.type===0||this._addKeyPress(ct.chords[0],ct)}}}return Object(x.a)(se,[{key:"_addKeyPress",value:function(b,_){var p=this._map.get(b);if(typeof p=="undefined"){this._map.set(b,[_]),this._addToLookupMap(_);return}for(var P=p.length-1;P>=0;P--){var X=p[P];if(X.command!==_.command){for(var Se=!0,Ae=1;Ae<X.chords.length&&Ae<_.chords.length;Ae++)if(X.chords[Ae]!==_.chords[Ae]){Se=!1;break}!Se||se.whenIsEntirelyIncluded(X.when,_.when)&&this._removeFromLookupMap(X)}}p.push(_),this._addToLookupMap(_)}},{key:"_addToLookupMap",value:function(b){if(!!b.command){var _=this._lookupMap.get(b.command);typeof _=="undefined"?(_=[b],this._lookupMap.set(b.command,_)):_.push(b)}}},{key:"_removeFromLookupMap",value:function(b){if(!!b.command){var _=this._lookupMap.get(b.command);if(typeof _!="undefined"){for(var p=0,P=_.length;p<P;p++)if(_[p]===b){_.splice(p,1);return}}}}},{key:"getKeybindings",value:function(){return this._keybindings}},{key:"lookupPrimaryKeybinding",value:function(b,_){var p=this._lookupMap.get(b);if(typeof p=="undefined"||p.length===0)return null;if(p.length===1)return p[0];for(var P=p.length-1;P>=0;P--){var X=p[P];if(_.contextMatchesRules(X.when))return X}return p[p.length-1]}},{key:"resolve",value:function(b,_,p){var P=[].concat(Object(ve.a)(_),[p]);this._log("| Resolving ".concat(P));var X=this._map.get(P[0]);if(X===void 0)return this._log("\\ No keybinding entries."),q;var Se=null;if(P.length<2)Se=X;else{Se=[];for(var Ae=0,qe=X.length;Ae<qe;Ae++){var rt=X[Ae];if(!(P.length>rt.chords.length)){for(var ct=!0,Xt=1;Xt<P.length;Xt++)if(rt.chords[Xt]!==P[Xt]){ct=!1;break}ct&&Se.push(rt)}}}var cn=this._findCommand(b,Se);return cn?P.length<cn.chords.length?(this._log("\\ From ".concat(Se.length," keybinding entries, awaiting ").concat(cn.chords.length-P.length," more chord(s), when: ").concat(oe(cn.when),", source: ").concat(xe(cn),".")),M):(this._log("\\ From ".concat(Se.length," keybinding entries, matched ").concat(cn.command,", when: ").concat(oe(cn.when),", source: ").concat(xe(cn),".")),D(cn.command,cn.commandArgs,cn.bubble)):(this._log("\\ From ".concat(Se.length," keybinding entries, no when clauses matched the context.")),q)}},{key:"_findCommand",value:function(b,_){for(var p=_.length-1;p>=0;p--){var P=_[p];if(!!se._contextMatchesRules(b,P.when))return P}return null}}],[{key:"_isTargetedForRemoval",value:function(b,_,p){if(_){for(var P=0;P<_.length;P++)if(_[P]!==b.chords[P])return!1}return!(p&&p.type!==1&&(!b.when||!Object(Pi.d)(p,b.when)))}},{key:"handleRemovals",value:function(b){for(var _=new Map,p=0,P=b.length;p<P;p++){var X=b[p];if(X.command&&X.command.charAt(0)==="-"){var Se=X.command.substring(1);_.has(Se)?_.get(Se).push(X):_.set(Se,[X])}}if(_.size===0)return b;for(var Ae=[],qe=0,rt=b.length;qe<rt;qe++){var ct=b[qe];if(!ct.command||ct.command.length===0){Ae.push(ct);continue}if(ct.command.charAt(0)!=="-"){var Xt=_.get(ct.command);if(!Xt||!ct.isDefault){Ae.push(ct);continue}var cn=!1,Mn=Object(j.a)(Xt),gi;try{for(Mn.s();!(gi=Mn.n()).done;){var Zn=gi.value,di=Zn.when;if(this._isTargetedForRemoval(ct,Zn.chords,di)){cn=!0;break}}}catch(Un){Mn.e(Un)}finally{Mn.f()}if(!cn){Ae.push(ct);continue}}}return Ae}},{key:"whenIsEntirelyIncluded",value:function(b,_){return!_||_.type===1?!0:!b||b.type===1?!1:Object(Pi.e)(b,_)}},{key:"_contextMatchesRules",value:function(b,_){return _?_.evaluate(b):!0}}]),se}();function oe(se){return se?"".concat(se.serialize()):"no when condition"}function xe(se){return se.extensionId?se.isBuiltinExtension?"built-in extension ".concat(se.extensionId):"user extension ".concat(se.extensionId):se.isDefault?"built-in":"user"}var Ve=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/,lt=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X,Se){var Ae;return Object(C.a)(this,b),Ae=ae.call(this),Ae._contextKeyService=_,Ae._commandService=p,Ae._telemetryService=P,Ae._notificationService=X,Ae._logService=Se,Ae._onDidUpdateKeybindings=Ae._register(new On.b),Ae._currentChords=[],Ae._currentChordChecker=new et.e,Ae._currentChordStatusMessage=null,Ae._ignoreSingleModifiers=pt.EMPTY,Ae._currentSingleModifier=null,Ae._currentSingleModifierClearTimeout=new et.i,Ae._logging=!1,Ae}return Object(x.a)(b,[{key:"onDidUpdateKeybindings",get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:On.c.None}},{key:"inChordMode",get:function(){return this._currentChords.length>0}},{key:"dispose",value:function(){Object(Ye.a)(Object(ot.a)(b.prototype),"dispose",this).call(this)}},{key:"_log",value:function(p){this._logging&&this._logService.info("[KeybindingService]: ".concat(p))}},{key:"getKeybindings",value:function(){return this._getResolver().getKeybindings()}},{key:"lookupKeybinding",value:function(p,P){var X=this._getResolver().lookupPrimaryKeybinding(p,P||this._contextKeyService);if(!!X)return X.resolvedKeybinding}},{key:"dispatchEvent",value:function(p,P){return this._dispatch(p,P)}},{key:"softDispatch",value:function(p,P){this._log("/ Soft dispatching keyboard event");var X=this.resolveKeyboardEvent(p);if(X.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),q;var Se=X.getDispatchChords(),Ae=Object(qt.a)(Se,1),qe=Ae[0];if(qe===null)return this._log("\\ Keyboard event cannot be dispatched"),q;var rt=this._contextKeyService.getContext(P),ct=this._currentChords.map(function(Xt){var cn=Xt.keypress;return cn});return this._getResolver().resolve(rt,ct,qe)}},{key:"_scheduleLeaveChordMode",value:function(){var p=this,P=Date.now();this._currentChordChecker.cancelAndSet(function(){if(!p._documentHasFocus()){p._leaveChordMode();return}Date.now()-P>5e3&&p._leaveChordMode()},500)}},{key:"_expectAnotherChord",value:function(p,P){switch(this._currentChords.push({keypress:p,label:P}),this._currentChords.length){case 0:throw Object(gn.f)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(bn.b("first.chord","({0}) was pressed. Waiting for second key of chord...",P));break;default:{var X=this._currentChords.map(function(Se){var Ae=Se.label;return Ae}).join(", ");this._currentChordStatusMessage=this._notificationService.status(bn.b("next.chord","({0}) was pressed. Waiting for next key of chord...",X))}}this._scheduleLeaveChordMode(),_e.a.enabled&&_e.a.disable()}},{key:"_leaveChordMode",value:function(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],_e.a.enable()}},{key:"_dispatch",value:function(p,P){return this._doDispatch(this.resolveKeyboardEvent(p),P,!1)}},{key:"_singleModifierDispatch",value:function(p,P){var X=this,Se=this.resolveKeyboardEvent(p),Ae=Se.getSingleModifierDispatchChords(),qe=Object(qt.a)(Ae,1),rt=qe[0];if(rt)return this._ignoreSingleModifiers.has(rt)?(this._log("+ Ignoring single modifier ".concat(rt," due to it being pressed together with other keys.")),this._ignoreSingleModifiers=pt.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=pt.EMPTY,this._currentSingleModifier===null?(this._log("+ Storing single modifier for possible chord ".concat(rt,".")),this._currentSingleModifier=rt,this._currentSingleModifierClearTimeout.cancelAndSet(function(){X._log("+ Clearing single modifier due to 300ms elapsed."),X._currentSingleModifier=null},300),!1):rt===this._currentSingleModifier?(this._log("/ Dispatching single modifier chord ".concat(rt," ").concat(rt)),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(Se,P,!0)):(this._log("+ Clearing single modifier due to modifier mismatch: ".concat(this._currentSingleModifier," ").concat(rt)),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));var ct=Se.getChords(),Xt=Object(qt.a)(ct,1),cn=Xt[0];return this._ignoreSingleModifiers=new pt(cn),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}},{key:"_doDispatch",value:function(p,P){var X=this,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ae,qe=!1;if(p.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;var rt=null,ct=null;if(Se){var Xt=p.getSingleModifierDispatchChords(),cn=Object(qt.a)(Xt,1),Mn=cn[0];rt=Mn,ct=Mn?[Mn]:[]}else{var gi=p.getDispatchChords(),Zn=Object(qt.a)(gi,1);rt=Zn[0],ct=this._currentChords.map(function(cr){var Zr=cr.keypress;return Zr})}if(rt===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),qe;var di=this._contextKeyService.getContext(P),Un=p.getLabel(),qn=this._getResolver().resolve(di,ct,rt);switch(qn.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",Un,"[ No matching keybinding ]"),this.inChordMode){var ur=this._currentChords.map(function(cr){var Zr=cr.label;return Zr}).join(", ");this._log('+ Leaving multi-chord mode: Nothing bound to "'.concat(ur,", ").concat(Un,'".')),this._notificationService.status(bn.b("missing.chord","The key combination ({0}, {1}) is not a command.",ur,Un),{hideAfter:10*1e3}),this._leaveChordMode(),qe=!0}return qe}case 1:return this._logService.trace("KeybindingService#dispatch",Un,"[ Several keybindings match - more chords needed ]"),qe=!0,this._expectAnotherChord(rt,Un),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),qe;case 2:{if(this._logService.trace("KeybindingService#dispatch",Un,"[ Will dispatch command ".concat(qn.commandId," ]")),qn.commandId===null||qn.commandId===""){if(this.inChordMode){var _r=this._currentChords.map(function(cr){var Zr=cr.label;return Zr}).join(", ");this._log('+ Leaving chord mode: Nothing bound to "'.concat(_r,", ").concat(Un,'".')),this._notificationService.status(bn.b("missing.chord","The key combination ({0}, {1}) is not a command.",_r,Un),{hideAfter:10*1e3}),this._leaveChordMode(),qe=!0}}else this.inChordMode&&this._leaveChordMode(),qn.isBubble||(qe=!0),this._log("+ Invoking command ".concat(qn.commandId,".")),typeof qn.commandArgs=="undefined"?this._commandService.executeCommand(qn.commandId).then(void 0,function(cr){return X._notificationService.warn(cr)}):this._commandService.executeCommand(qn.commandId,qn.commandArgs).then(void 0,function(cr){return X._notificationService.warn(cr)}),Ve.test(qn.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:qn.commandId,from:"keybinding",detail:(Ae=p.getUserSettingsLabel())!==null&&Ae!==void 0?Ae:void 0});return qe}}}},{key:"mightProducePrintableCharacter",value:function(p){return p.ctrlKey||p.metaKey?!1:p.keyCode>=31&&p.keyCode<=56||p.keyCode>=21&&p.keyCode<=30}}]),b}(J.a),pt=function(){function se(ae){Object(C.a)(this,se),this._ctrlKey=ae?ae.ctrlKey:!1,this._shiftKey=ae?ae.shiftKey:!1,this._altKey=ae?ae.altKey:!1,this._metaKey=ae?ae.metaKey:!1}return Object(x.a)(se,[{key:"has",value:function(b){switch(b){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}]),se}();pt.EMPTY=new pt(null);var xt=a("bexQ"),sn=a("nrhi"),ln=Object(x.a)(function se(ae,b,_,p,P,X,Se){Object(C.a)(this,se),this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=ae,this.chords=ae?mn(ae.getDispatchChords()):[],ae&&this.chords.length===0&&(this.chords=mn(ae.getSingleModifierDispatchChords())),this.bubble=b?b.charCodeAt(0)===94:!1,this.command=this.bubble?b.substr(1):b,this.commandArgs=_,this.when=p,this.isDefault=P,this.extensionId=X,this.isBuiltinExtension=Se});function mn(se){for(var ae=[],b=0,_=se.length;b<_;b++){var p=se[b];if(!p)return[];ae.push(p)}return ae}var Tn=a("/kV6"),ai=a("i04g"),pi=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p){var P;if(Object(C.a)(this,b),P=ae.call(this),p.length===0)throw Object(gn.e)("chords");return P._os=_,P._chords=p,P}return Object(x.a)(b,[{key:"getLabel",value:function(){var p=this;return ai.c.toLabel(this._os,this._chords,function(P){return p._getLabel(P)})}},{key:"getAriaLabel",value:function(){var p=this;return ai.a.toLabel(this._os,this._chords,function(P){return p._getAriaLabel(P)})}},{key:"getElectronAccelerator",value:function(){var p=this;return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:ai.b.toLabel(this._os,this._chords,function(P){return p._getElectronAccelerator(P)})}},{key:"getUserSettingsLabel",value:function(){var p=this;return ai.d.toLabel(this._os,this._chords,function(P){return p._getUserSettingsLabel(P)})}},{key:"hasMultipleChords",value:function(){return this._chords.length>1}},{key:"getChords",value:function(){var p=this;return this._chords.map(function(P){return p._getChord(P)})}},{key:"_getChord",value:function(p){return new Wr.b(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,this._getLabel(p),this._getAriaLabel(p))}},{key:"getDispatchChords",value:function(){var p=this;return this._chords.map(function(P){return p._getChordDispatch(P)})}},{key:"getSingleModifierDispatchChords",value:function(){var p=this;return this._chords.map(function(P){return p._getSingleModifierChordDispatch(P)})}}]),b}(Wr.c),yi=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p){return Object(C.a)(this,b),ae.call(this,p,_)}return Object(x.a)(b,[{key:"_keyCodeToUILabel",value:function(p){if(this._os===2)switch(p){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return Tn.d.toString(p)}},{key:"_getLabel",value:function(p){return p.isDuplicateModifierCase()?"":this._keyCodeToUILabel(p.keyCode)}},{key:"_getAriaLabel",value:function(p){return p.isDuplicateModifierCase()?"":Tn.d.toString(p.keyCode)}},{key:"_getElectronAccelerator",value:function(p){return Tn.d.toElectronAccelerator(p.keyCode)}},{key:"_getUserSettingsLabel",value:function(p){if(p.isDuplicateModifierCase())return"";var P=Tn.d.toUserSettingsUS(p.keyCode);return P&&P.toLowerCase()}},{key:"_getChordDispatch",value:function(p){return b.getDispatchStr(p)}},{key:"_getSingleModifierChordDispatch",value:function(p){return p.keyCode===5&&!p.shiftKey&&!p.altKey&&!p.metaKey?"ctrl":p.keyCode===4&&!p.ctrlKey&&!p.altKey&&!p.metaKey?"shift":p.keyCode===6&&!p.ctrlKey&&!p.shiftKey&&!p.metaKey?"alt":p.keyCode===57&&!p.ctrlKey&&!p.shiftKey&&!p.altKey?"meta":null}}],[{key:"getDispatchStr",value:function(p){if(p.isModifierKey())return null;var P="";return p.ctrlKey&&(P+="ctrl+"),p.shiftKey&&(P+="shift+"),p.altKey&&(P+="alt+"),p.metaKey&&(P+="meta+"),P+=Tn.d.toString(p.keyCode),P}},{key:"_scanCodeToKeyCode",value:function(p){var P=Tn.b[p];if(P!==-1)return P;switch(p){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}},{key:"_toKeyCodeChord",value:function(p){if(!p)return null;if(p instanceof Wr.a)return p;var P=this._scanCodeToKeyCode(p.scanCode);return P===0?null:new Wr.a(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,P)}},{key:"resolveKeybinding",value:function(p,P){var X=this,Se=mn(p.chords.map(function(Ae){return X._toKeyCodeChord(Ae)}));return Se.length>0?[new b(Se,P)]:[]}}]),b}(pi),vi=a("R8sh"),Bt=a("tTk5"),hr=a("XXUj"),Ii=a("EWX2"),Ar=a("A9l+"),Gr=a("gslv"),ea=a("fvt3"),ya=a("Uzvx"),Da=a("CjF5"),ta=a("nuFA"),Ya=a("TT2d"),Va;(function(se){se[se.AVOID=0]="AVOID",se[se.ALIGN=1]="ALIGN"})(Va||(Va={}));function mo(se,ae,b){var _=b.mode===Va.ALIGN?b.offset:b.offset+b.size,p=b.mode===Va.ALIGN?b.offset+b.size:b.offset;return b.position===0?ae<=se-_?_:ae<=p?p-ae:Math.max(se-ae,0):ae<=p?p-ae:ae<=se-_?_:0}var po=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p){var P;return Object(C.a)(this,b),P=ae.call(this),P.container=null,P.delegate=null,P.toDisposeOnClean=J.a.None,P.toDisposeOnSetContainer=J.a.None,P.shadowRoot=null,P.shadowRootHostElement=null,P.view=It.$(".context-view"),P.useFixedPosition=!1,P.useShadowDOM=!1,It.hide(P.view),P.setContainer(_,p),P._register(Object(J.l)(function(){return P.setContainer(null,1)})),P}return Object(x.a)(b,[{key:"setContainer",value:function(p,P){var X=this,Se;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(Se=this.shadowRootHostElement)===null||Se===void 0||Se.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),p){if(this.container=p,this.useFixedPosition=P!==1,this.useShadowDOM=P===3,this.useShadowDOM){this.shadowRootHostElement=It.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});var Ae=document.createElement("style");Ae.textContent=zo,this.shadowRoot.appendChild(Ae),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(It.$("slot"))}else this.container.appendChild(this.view);var qe=new J.c;b.BUBBLE_UP_EVENTS.forEach(function(rt){qe.add(It.addStandardDisposableListener(X.container,rt,function(ct){X.onDOMEvent(ct,!1)}))}),b.BUBBLE_DOWN_EVENTS.forEach(function(rt){qe.add(It.addStandardDisposableListener(X.container,rt,function(ct){X.onDOMEvent(ct,!0)},!0))}),this.toDisposeOnSetContainer=qe}}},{key:"show",value:function(p){var P,X;this.isVisible()&&this.hide(),It.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",It.show(this.view),this.toDisposeOnClean=p.render(this.view)||J.a.None,this.delegate=p,this.doLayout(),(X=(P=this.delegate).focus)===null||X===void 0||X.call(P)}},{key:"getViewElement",value:function(){return this.view}},{key:"layout",value:function(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(Dt.f&&Da.a.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}},{key:"doLayout",value:function(){if(!!this.isVisible()){var p=this.delegate.getAnchor(),P;if(It.isHTMLElement(p)){var X=It.getDomNodePagePosition(p),Se=It.getDomNodeZoomLevel(p);P={top:X.top*Se,left:X.left*Se,width:X.width*Se,height:X.height*Se}}else P={top:p.y,left:p.x,width:p.width||1,height:p.height||2};var Ae=It.getTotalWidth(this.view),qe=It.getTotalHeight(this.view),rt=this.delegate.anchorPosition||0,ct=this.delegate.anchorAlignment||0,Xt=this.delegate.anchorAxisAlignment||0,cn,Mn;if(Xt===0){var gi={offset:P.top-window.pageYOffset,size:P.height,position:rt===0?0:1},Zn={offset:P.left,size:P.width,position:ct===0?0:1,mode:Va.ALIGN};cn=mo(window.innerHeight,qe,gi)+window.pageYOffset,ta.a.intersects({start:cn,end:cn+qe},{start:gi.offset,end:gi.offset+gi.size})&&(Zn.mode=Va.AVOID),Mn=mo(window.innerWidth,Ae,Zn)}else{var di={offset:P.left,size:P.width,position:ct===0?0:1},Un={offset:P.top,size:P.height,position:rt===0?0:1,mode:Va.ALIGN};Mn=mo(window.innerWidth,Ae,di),ta.a.intersects({start:Mn,end:Mn+Ae},{start:di.offset,end:di.offset+di.size})&&(Un.mode=Va.AVOID),cn=mo(window.innerHeight,qe,Un)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(rt===0?"bottom":"top"),this.view.classList.add(ct===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);var qn=It.getDomNodePagePosition(this.container);this.view.style.top="".concat(cn-(this.useFixedPosition?It.getDomNodePagePosition(this.view).top:qn.top),"px"),this.view.style.left="".concat(Mn-(this.useFixedPosition?It.getDomNodePagePosition(this.view).left:qn.left),"px"),this.view.style.width="initial"}}},{key:"hide",value:function(p){var P=this.delegate;this.delegate=null,(P==null?void 0:P.onHide)&&P.onHide(p),this.toDisposeOnClean.dispose(),It.hide(this.view)}},{key:"isVisible",value:function(){return!!this.delegate}},{key:"onDOMEvent",value:function(p,P){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(p,document.activeElement):P&&!It.isAncestor(p.target,this.container)&&this.hide())}},{key:"dispose",value:function(){this.hide(),Object(Ye.a)(Object(ot.a)(b.prototype),"dispose",this).call(this)}}]),b}(J.a);po.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],po.BUBBLE_DOWN_EVENTS=["click"];var zo=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`,Ss=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},Xo=function(se,ae){return function(b,_){ae(b,_,se)}},Ko=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_){var p;return Object(C.a)(this,b),p=ae.call(this),p.layoutService=_,p.currentViewDisposable=J.a.None,p.container=_.hasContainer?_.container:null,p.contextView=p._register(new po(p.container,1)),p.layout(),p._register(_.onDidLayout(function(){return p.layout()})),p}return Object(x.a)(b,[{key:"setContainer",value:function(p,P){this.contextView.setContainer(p,P||1)}},{key:"showContextView",value:function(p,P,X){var Se=this;P?(P!==this.container||this.shadowRoot!==X)&&(this.container=P,this.setContainer(P,X?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=X,this.contextView.show(p);var Ae=Object(J.l)(function(){Se.currentViewDisposable===Ae&&Se.hideContextView()});return this.currentViewDisposable=Ae,Ae}},{key:"getContextViewElement",value:function(){return this.contextView.getViewElement()}},{key:"layout",value:function(){this.contextView.layout()}},{key:"hideContextView",value:function(p){this.contextView.hide(p)}}]),b}(J.a);Ko=Ss([Xo(0,hn)],Ko);var ds=a("ubTv"),go=a("y0ET"),Go=[],Jo=[],$o=[];function As(se){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ou(se,!1,ae)}function ou(se,ae,b){var _=su(se,ae);Go.push(_),_.userConfigured?$o.push(_):Jo.push(_),b&&!_.userConfigured&&Go.forEach(function(p){p.mime===_.mime||p.userConfigured||(_.extension&&p.extension===_.extension&&console.warn("Overwriting extension <<".concat(_.extension,">> to now point to mime <<").concat(_.mime,">>")),_.filename&&p.filename===_.filename&&console.warn("Overwriting filename <<".concat(_.filename,">> to now point to mime <<").concat(_.mime,">>")),_.filepattern&&p.filepattern===_.filepattern&&console.warn("Overwriting filepattern <<".concat(_.filepattern,">> to now point to mime <<").concat(_.mime,">>")),_.firstline&&p.firstline===_.firstline&&console.warn("Overwriting firstline <<".concat(_.firstline,">> to now point to mime <<").concat(_.mime,">>")))})}function su(se,ae){return{id:se.id,mime:se.mime,filename:se.filename,extension:se.extension,filepattern:se.filepattern,firstline:se.firstline,userConfigured:ae,filenameLowercase:se.filename?se.filename.toLowerCase():void 0,extensionLowercase:se.extension?se.extension.toLowerCase():void 0,filepatternLowercase:se.filepattern?ki(se.filepattern.toLowerCase()):void 0,filepatternOnPath:se.filepattern?se.filepattern.indexOf(tn.e.sep)>=0:!1}}function Es(){Go=Go.filter(function(se){return se.userConfigured}),Jo=[]}function ul(se,ae){return Us(se,ae).map(function(b){return b.id})}function Us(se,ae){var b;if(se)switch(se.scheme){case si.c.file:b=se.fsPath;break;case si.c.data:{var _=Gr.a.parseMetaData(se);b=_.get(Gr.a.META_DATA_LABEL);break}case si.c.vscodeNotebookCell:b=void 0;break;default:b=se.path}if(!b)return[{id:"unknown",mime:ds.a.unknown}];b=b.toLowerCase();var p=Object(tn.a)(b),P=lu(b,p,$o);if(P)return[P,{id:go.b,mime:ds.a.text}];var X=lu(b,p,Jo);if(X)return[X,{id:go.b,mime:ds.a.text}];if(ae){var Se=cl(ae);if(Se)return[Se,{id:go.b,mime:ds.a.text}]}return[{id:"unknown",mime:ds.a.unknown}]}function lu(se,ae,b){for(var _,p=void 0,P=void 0,X=void 0,Se=b.length-1;Se>=0;Se--){var Ae=b[Se];if(ae===Ae.filenameLowercase){p=Ae;break}if(Ae.filepattern&&(!P||Ae.filepattern.length>P.filepattern.length)){var qe=Ae.filepatternOnPath?se:ae;((_=Ae.filepatternLowercase)===null||_===void 0?void 0:_.call(Ae,qe))&&(P=Ae)}Ae.extension&&(!X||Ae.extension.length>X.extension.length)&&ae.endsWith(Ae.extensionLowercase)&&(X=Ae)}if(p)return p;if(P)return P;if(X)return X}function cl(se){if(Object($.U)(se)&&(se=se.substr(1)),se.length>0)for(var ae=Go.length-1;ae>=0;ae--){var b=Go[ae];if(!!b.firstline){var _=se.match(b.firstline);if(_&&_.length>0)return b}}}var dl=Object.prototype.hasOwnProperty,Wl="vs.editor.nullLanguage",Dl=function(){function se(){Object(C.a)(this,se),this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Wl,0),this._register(go.b,1),this._nextLanguageId=2}return Object(x.a)(se,[{key:"_register",value:function(b,_){this._languageIdToLanguage[_]=b,this._languageToLanguageId.set(b,_)}},{key:"register",value:function(b){if(!this._languageToLanguageId.has(b)){var _=this._nextLanguageId++;this._register(b,_)}}},{key:"encodeLanguageId",value:function(b){return this._languageToLanguageId.get(b)||0}},{key:"decodeLanguageId",value:function(b){return this._languageIdToLanguage[b]||Wl}}]),se}(),fc=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(){var _,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Object(C.a)(this,b),_=ae.call(this),_._onDidChange=_._register(new On.b),_.onDidChange=_._onDidChange.event,b.instanceCount++,_._warnOnOverwrite=P,_.languageIdCodec=new Dl,_._dynamicLanguages=[],_._languages={},_._mimeTypesMap={},_._nameMap={},_._lowercaseNameMap={},p&&(_._initializeFromRegistry(),_._register(go.a.onDidChangeLanguages(function(X){_._initializeFromRegistry()}))),_}return Object(x.a)(b,[{key:"dispose",value:function(){b.instanceCount--,Object(Ye.a)(Object(ot.a)(b.prototype),"dispose",this).call(this)}},{key:"_initializeFromRegistry",value:function(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Es();var p=[].concat(go.a.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(p)}},{key:"_registerLanguages",value:function(p){var P=this,X=Object(j.a)(p),Se;try{for(X.s();!(Se=X.n()).done;){var Ae=Se.value;this._registerLanguage(Ae)}}catch(qe){X.e(qe)}finally{X.f()}this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(function(qe){var rt=P._languages[qe];rt.name&&(P._nameMap[rt.name]=rt.identifier),rt.aliases.forEach(function(ct){P._lowercaseNameMap[ct.toLowerCase()]=rt.identifier}),rt.mimetypes.forEach(function(ct){P._mimeTypesMap[ct]=rt.identifier})}),ka.a.as(ao.a.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}},{key:"_registerLanguage",value:function(p){var P=p.id,X;dl.call(this._languages,P)?X=this._languages[P]:(this.languageIdCodec.register(P),X={identifier:P,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[P]=X),this._mergeLanguage(X,p)}},{key:"_mergeLanguage",value:function(p,P){var X=P.id,Se=null;if(Array.isArray(P.mimetypes)&&P.mimetypes.length>0){var Ae;(Ae=p.mimetypes).push.apply(Ae,Object(ve.a)(P.mimetypes)),Se=P.mimetypes[0]}if(Se||(Se="text/x-".concat(X),p.mimetypes.push(Se)),Array.isArray(P.extensions)){P.configuration?p.extensions=P.extensions.concat(p.extensions):p.extensions=p.extensions.concat(P.extensions);var qe=Object(j.a)(P.extensions),rt;try{for(qe.s();!(rt=qe.n()).done;){var ct=rt.value;As({id:X,mime:Se,extension:ct},this._warnOnOverwrite)}}catch(pa){qe.e(pa)}finally{qe.f()}}if(Array.isArray(P.filenames)){var Xt=Object(j.a)(P.filenames),cn;try{for(Xt.s();!(cn=Xt.n()).done;){var Mn=cn.value;As({id:X,mime:Se,filename:Mn},this._warnOnOverwrite),p.filenames.push(Mn)}}catch(pa){Xt.e(pa)}finally{Xt.f()}}if(Array.isArray(P.filenamePatterns)){var gi=Object(j.a)(P.filenamePatterns),Zn;try{for(gi.s();!(Zn=gi.n()).done;){var di=Zn.value;As({id:X,mime:Se,filepattern:di},this._warnOnOverwrite)}}catch(pa){gi.e(pa)}finally{gi.f()}}if(typeof P.firstLine=="string"&&P.firstLine.length>0){var Un=P.firstLine;Un.charAt(0)!=="^"&&(Un="^"+Un);try{var qn=new RegExp(Un);Object($.P)(qn)||As({id:X,mime:Se,firstline:qn},this._warnOnOverwrite)}catch(pa){console.warn("[".concat(P.id,"]: Invalid regular expression `").concat(Un,"`: "),pa)}}p.aliases.push(X);var ur=null;if(typeof P.aliases!="undefined"&&Array.isArray(P.aliases)&&(P.aliases.length===0?ur=[null]:ur=P.aliases),ur!==null){var _r=Object(j.a)(ur),cr;try{for(_r.s();!(cr=_r.n()).done;){var Zr=cr.value;!Zr||Zr.length===0||p.aliases.push(Zr)}}catch(pa){_r.e(pa)}finally{_r.f()}}var Kr=ur!==null&&ur.length>0;if(!(Kr&&ur[0]===null)){var Jr=(Kr?ur[0]:null)||X;(Kr||!p.name)&&(p.name=Jr)}P.configuration&&p.configurationFiles.push(P.configuration),P.icon&&p.icons.push(P.icon)}},{key:"isRegisteredLanguageId",value:function(p){return p?dl.call(this._languages,p):!1}},{key:"getRegisteredLanguageIds",value:function(){return Object.keys(this._languages)}},{key:"getLanguageIdByLanguageName",value:function(p){var P=p.toLowerCase();return dl.call(this._lowercaseNameMap,P)?this._lowercaseNameMap[P]:null}},{key:"getLanguageIdByMimeType",value:function(p){return p&&dl.call(this._mimeTypesMap,p)?this._mimeTypesMap[p]:null}},{key:"guessLanguageIdByFilepathOrFirstLine",value:function(p,P){return!p&&!P?[]:ul(p,P)}}]),b}(J.a);fc.instanceCount=0;var uo=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(){var _,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Object(C.a)(this,b),_=ae.call(this),_._onDidRequestBasicLanguageFeatures=_._register(new On.b),_.onDidRequestBasicLanguageFeatures=_._onDidRequestBasicLanguageFeatures.event,_._onDidRequestRichLanguageFeatures=_._register(new On.b),_.onDidRequestRichLanguageFeatures=_._onDidRequestRichLanguageFeatures.event,_._onDidChange=_._register(new On.b({leakWarningThreshold:200})),_.onDidChange=_._onDidChange.event,_._requestedBasicLanguages=new Set,_._requestedRichLanguages=new Set,b.instanceCount++,_._registry=_._register(new fc(!0,p)),_.languageIdCodec=_._registry.languageIdCodec,_._register(_._registry.onDidChange(function(){return _._onDidChange.fire()})),_}return Object(x.a)(b,[{key:"dispose",value:function(){b.instanceCount--,Object(Ye.a)(Object(ot.a)(b.prototype),"dispose",this).call(this)}},{key:"isRegisteredLanguageId",value:function(p){return this._registry.isRegisteredLanguageId(p)}},{key:"getLanguageIdByLanguageName",value:function(p){return this._registry.getLanguageIdByLanguageName(p)}},{key:"getLanguageIdByMimeType",value:function(p){return this._registry.getLanguageIdByMimeType(p)}},{key:"guessLanguageIdByFilepathOrFirstLine",value:function(p,P){var X=this._registry.guessLanguageIdByFilepathOrFirstLine(p,P);return Object(Zo.p)(X,null)}},{key:"createById",value:function(p){var P=this;return new Ku(this.onDidChange,function(){return P._createAndGetLanguageIdentifier(p)})}},{key:"createByFilepathOrFirstLine",value:function(p,P){var X=this;return new Ku(this.onDidChange,function(){var Se=X.guessLanguageIdByFilepathOrFirstLine(p,P);return X._createAndGetLanguageIdentifier(Se)})}},{key:"_createAndGetLanguageIdentifier",value:function(p){return(!p||!this.isRegisteredLanguageId(p))&&(p=go.b),p}},{key:"requestBasicLanguageFeatures",value:function(p){this._requestedBasicLanguages.has(p)||(this._requestedBasicLanguages.add(p),this._onDidRequestBasicLanguageFeatures.fire(p))}},{key:"requestRichLanguageFeatures",value:function(p){this._requestedRichLanguages.has(p)||(this._requestedRichLanguages.add(p),this.requestBasicLanguageFeatures(p),F.m.getOrCreate(p),this._onDidRequestRichLanguageFeatures.fire(p))}}]),b}(J.a);uo.instanceCount=0;var Ku=function(){function se(ae,b){Object(C.a)(this,se),this._onDidChangeLanguages=ae,this._selector=b,this._listener=null,this._emitter=null,this.languageId=this._selector()}return Object(x.a)(se,[{key:"_dispose",value:function(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}},{key:"onDidChange",get:function(){var b=this;return this._listener||(this._listener=this._onDidChangeLanguages(function(){return b._evaluate()})),this._emitter||(this._emitter=new On.b({onDidRemoveLastListener:function(){b._dispose()}})),this._emitter.event}},{key:"_evaluate",value:function(){var b,_=this._selector();_!==this.languageId&&(this.languageId=_,(b=this._emitter)===null||b===void 0||b.fire(this.languageId))}}]),se}(),eo=a("8HAY"),wl=a("eUTo"),bo=a("fjLI"),aa=a("XSiN"),Lu=a("D3Dy"),zs=a("pg8w"),ks=a("WqXY"),Ls=a("7/Ik"),vc=a("GJhM"),jl=a("Vhoy"),Vl=a("T5lh"),rr=a("EJc0"),oa=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Yr=/(&amp;)?(&amp;)([^\s&])/g,os;(function(se){se[se.Right=0]="Right",se[se.Left=1]="Left"})(os||(os={}));var Fo=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X){var Se;Object(C.a)(this,b),_.classList.add("monaco-menu-container"),_.setAttribute("role","presentation");var Ae=document.createElement("div");Ae.classList.add("monaco-menu"),Ae.setAttribute("role","presentation"),Se=ae.call(this,Ae,{orientation:1,actionViewItemProvider:function(Xt){return Se.doGetActionViewItem(Xt,P,qe)},context:P.context,actionRunner:P.actionRunner,ariaLabel:P.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3].concat(Object(ve.a)(Dt.i||Dt.g?[10]:[])),keyDown:!0}}),Se.menuStyles=X,Se.menuElement=Ae,Se.actionsList.tabIndex=0,Se.menuDisposables=Se._register(new J.c),Se.initializeOrUpdateStyleSheet(_,X),Se._register(zs.b.addTarget(Ae)),Object(It.addDisposableListener)(Ae,It.EventType.KEY_DOWN,function(ct){var Xt=new zi.a(ct);Xt.equals(2)&&ct.preventDefault()}),P.enableMnemonics&&Se.menuDisposables.add(Object(It.addDisposableListener)(Ae,It.EventType.KEY_DOWN,function(ct){var Xt=ct.key.toLocaleLowerCase();if(Se.mnemonics.has(Xt)){It.EventHelper.stop(ct,!0);var cn=Se.mnemonics.get(Xt);if(cn.length===1&&(cn[0]instanceof Ns&&cn[0].container&&Se.focusItemByElement(cn[0].container),cn[0].onClick(ct)),cn.length>1){var Mn=cn.shift();Mn&&Mn.container&&(Se.focusItemByElement(Mn.container),cn.push(Mn)),Se.mnemonics.set(Xt,cn)}}})),Dt.g&&Se._register(Object(It.addDisposableListener)(Ae,It.EventType.KEY_DOWN,function(ct){var Xt=new zi.a(ct);Xt.equals(14)||Xt.equals(11)?(Se.focusedItem=Se.viewItems.length-1,Se.focusNext(),It.EventHelper.stop(ct,!0)):(Xt.equals(13)||Xt.equals(12))&&(Se.focusedItem=0,Se.focusPrevious(),It.EventHelper.stop(ct,!0))})),Se._register(Object(It.addDisposableListener)(Se.domNode,It.EventType.MOUSE_OUT,function(ct){var Xt=ct.relatedTarget;Object(It.isAncestor)(Xt,Se.domNode)||(Se.focusedItem=void 0,Se.updateFocus(),ct.stopPropagation())})),Se._register(Object(It.addDisposableListener)(Se.actionsList,It.EventType.MOUSE_OVER,function(ct){var Xt=ct.target;if(!(!Xt||!Object(It.isAncestor)(Xt,Se.actionsList)||Xt===Se.actionsList)){for(;Xt.parentElement!==Se.actionsList&&Xt.parentElement!==null;)Xt=Xt.parentElement;if(Xt.classList.contains("action-item")){var cn=Se.focusedItem;Se.setFocusedItem(Xt),cn!==Se.focusedItem&&Se.updateFocus()}}})),Se._register(zs.b.addTarget(Se.actionsList)),Se._register(Object(It.addDisposableListener)(Se.actionsList,zs.a.Tap,function(ct){var Xt=ct.initialTarget;if(!(!Xt||!Object(It.isAncestor)(Xt,Se.actionsList)||Xt===Se.actionsList)){for(;Xt.parentElement!==Se.actionsList&&Xt.parentElement!==null;)Xt=Xt.parentElement;if(Xt.classList.contains("action-item")){var cn=Se.focusedItem;Se.setFocusedItem(Xt),cn!==Se.focusedItem&&Se.updateFocus()}}}));var qe={parent:Object(En.a)(Se)};Se.mnemonics=new Map,Se.scrollableElement=Se._register(new vc.a(Ae,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));var rt=Se.scrollableElement.getDomNode();return rt.style.position="",Se.styleScrollElement(rt,X),Se._register(Object(It.addDisposableListener)(Ae,zs.a.Change,function(ct){It.EventHelper.stop(ct,!0);var Xt=Se.scrollableElement.getScrollPosition().scrollTop;Se.scrollableElement.setScrollPosition({scrollTop:Xt-ct.translationY})})),Se._register(Object(It.addDisposableListener)(rt,It.EventType.MOUSE_UP,function(ct){ct.preventDefault()})),Ae.style.maxHeight="".concat(Math.max(10,window.innerHeight-_.getBoundingClientRect().top-35),"px"),p=p.filter(function(ct){var Xt;return((Xt=P.submenuIds)===null||Xt===void 0?void 0:Xt.has(ct.id))?(console.warn("Found submenu cycle: ".concat(ct.id)),!1):!0}),Se.push(p,{icon:!0,label:!0,isMenu:!0}),_.appendChild(Se.scrollableElement.getDomNode()),Se.scrollableElement.scanDomNode(),Se.viewItems.filter(function(ct){return!(ct instanceof ps)}).forEach(function(ct,Xt,cn){ct.updatePositionInSet(Xt+1,cn.length)}),Se}return Object(x.a)(b,[{key:"initializeOrUpdateStyleSheet",value:function(p,P){this.styleSheet||(Object(It.isInShadowDOM)(p)?this.styleSheet=Object(It.createStyleSheet)(p):(b.globalStyleSheet||(b.globalStyleSheet=Object(It.createStyleSheet)()),this.styleSheet=b.globalStyleSheet)),this.styleSheet.textContent=mc(P,Object(It.isInShadowDOM)(p))}},{key:"styleScrollElement",value:function(p,P){var X,Se,Ae=(X=P.foregroundColor)!==null&&X!==void 0?X:"",qe=(Se=P.backgroundColor)!==null&&Se!==void 0?Se:"",rt=P.borderColor?"1px solid ".concat(P.borderColor):"",ct="5px",Xt=P.shadowColor?"0 2px 8px ".concat(P.shadowColor):"";p.style.outline=rt,p.style.borderRadius=ct,p.style.color=Ae,p.style.backgroundColor=qe,p.style.boxShadow=Xt}},{key:"getContainer",value:function(){return this.scrollableElement.getDomNode()}},{key:"onScroll",get:function(){return this.scrollableElement.onScroll}},{key:"focusItemByElement",value:function(p){var P=this.focusedItem;this.setFocusedItem(p),P!==this.focusedItem&&this.updateFocus()}},{key:"setFocusedItem",value:function(p){for(var P=0;P<this.actionsList.children.length;P++){var X=this.actionsList.children[P];if(p===X){this.focusedItem=P;break}}}},{key:"updateFocus",value:function(p){Object(Ye.a)(Object(ot.a)(b.prototype),"updateFocus",this).call(this,p,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}},{key:"doGetActionViewItem",value:function(p,P,X){if(p instanceof eo.d)return new ps(P.context,p,{icon:!0},this.menuStyles);if(p instanceof eo.e){var Se=new Ns(p,p.actions,X,Object.assign(Object.assign({},P),{submenuIds:new Set([].concat(Object(ve.a)(P.submenuIds||[]),[p.id]))}),this.menuStyles);if(P.enableMnemonics){var Ae=Se.getMnemonic();if(Ae&&Se.isEnabled()){var qe=[];this.mnemonics.has(Ae)&&(qe=this.mnemonics.get(Ae)),qe.push(Se),this.mnemonics.set(Ae,qe)}}return Se}else{var rt={enableMnemonics:P.enableMnemonics,useEventAsContext:P.useEventAsContext};if(P.getKeyBinding){var ct=P.getKeyBinding(p);if(ct){var Xt=ct.getLabel();Xt&&(rt.keybinding=Xt)}}var cn=new Rs(P.context,p,rt,this.menuStyles);if(P.enableMnemonics){var Mn=cn.getMnemonic();if(Mn&&cn.isEnabled()){var gi=[];this.mnemonics.has(Mn)&&(gi=this.mnemonics.get(Mn)),gi.push(cn),this.mnemonics.set(Mn,gi)}}return cn}}}]),b}(ks.a),Rs=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X){var Se;if(Object(C.a)(this,b),P.isMenu=!0,Se=ae.call(this,p,p,P),Se.menuStyle=X,Se.options=P,Se.options.icon=P.icon!==void 0?P.icon:!1,Se.options.label=P.label!==void 0?P.label:!0,Se.cssClass="",Se.options.label&&P.enableMnemonics){var Ae=Se.action.label;if(Ae){var qe=oa.exec(Ae);qe&&(Se.mnemonic=(qe[1]?qe[1]:qe[3]).toLocaleLowerCase())}}return Se.runOnceToEnableMouseUp=new et.g(function(){!Se.element||(Se._register(Object(It.addDisposableListener)(Se.element,It.EventType.MOUSE_UP,function(rt){if(It.EventHelper.stop(rt,!0),Lu.isFirefox){var ct=new aa.a(rt);if(ct.rightButton)return;Se.onClick(rt)}else setTimeout(function(){Se.onClick(rt)},0)})),Se._register(Object(It.addDisposableListener)(Se.element,It.EventType.CONTEXT_MENU,function(rt){It.EventHelper.stop(rt,!0)})))},100),Se._register(Se.runOnceToEnableMouseUp),Se}return Object(x.a)(b,[{key:"render",value:function(p){Object(Ye.a)(Object(ot.a)(b.prototype),"render",this).call(this,p),!!this.element&&(this.container=p,this.item=Object(It.append)(this.element,Object(It.$)("a.action-menu-item")),this._action.id===eo.d.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts","".concat(this.mnemonic))),this.check=Object(It.append)(this.item,Object(It.$)("span.menu-item-check"+Vl.a.asCSSSelector(jl.a.menuSelection))),this.check.setAttribute("role","none"),this.label=Object(It.append)(this.item,Object(It.$)("span.action-label")),this.options.label&&this.options.keybinding&&(Object(It.append)(this.item,Object(It.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}},{key:"blur",value:function(){Object(Ye.a)(Object(ot.a)(b.prototype),"blur",this).call(this),this.applyStyle()}},{key:"focus",value:function(){var p;Object(Ye.a)(Object(ot.a)(b.prototype),"focus",this).call(this),(p=this.item)===null||p===void 0||p.focus(),this.applyStyle()}},{key:"updatePositionInSet",value:function(p,P){this.item&&(this.item.setAttribute("aria-posinset","".concat(p)),this.item.setAttribute("aria-setsize","".concat(P)))}},{key:"updateLabel",value:function(){var p;if(!!this.label&&this.options.label){Object(It.clearNode)(this.label);var P=Object(rr.f)(this.action.label);if(P){var X=hs(P);this.options.enableMnemonics||(P=X),this.label.setAttribute("aria-label",X.replace(/&&/g,"&"));var Se=oa.exec(P);if(Se){P=$.s(P),Yr.lastIndex=0;for(var Ae=Yr.exec(P);Ae&&Ae[1];)Ae=Yr.exec(P);var qe=function(ct){return ct.replace(/&amp;&amp;/g,"&amp;")};Ae?this.label.append($.K(qe(P.substr(0,Ae.index))," "),Object(It.$)("u",{"aria-hidden":"true"},Ae[3]),$.Q(qe(P.substr(Ae.index+Ae[0].length))," ")):this.label.innerText=qe(P).trim(),(p=this.item)===null||p===void 0||p.setAttribute("aria-keyshortcuts",(Se[1]?Se[1]:Se[3]).toLocaleLowerCase())}else this.label.innerText=P.replace(/&&/g,"&").trim()}}}},{key:"updateTooltip",value:function(){}},{key:"updateClass",value:function(){if(this.cssClass&&this.item){var p;(p=this.item.classList).remove.apply(p,Object(ve.a)(this.cssClass.split(" ")))}if(this.options.icon&&this.label){if(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass){var P;(P=this.label.classList).add.apply(P,Object(ve.a)(this.cssClass.split(" ")))}this.updateEnabled()}else this.label&&this.label.classList.remove("icon")}},{key:"updateEnabled",value:function(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}},{key:"updateChecked",value:function(){if(!!this.item){var p=this.action.checked;this.item.classList.toggle("checked",!!p),p!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",p?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}}},{key:"getMnemonic",value:function(){return this.mnemonic}},{key:"applyStyle",value:function(){var p=this.element&&this.element.classList.contains("focused"),P=p&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,X=p&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,Se=p&&this.menuStyle.selectionBorderColor?"1px solid ".concat(this.menuStyle.selectionBorderColor):"",Ae=p&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=P!=null?P:"",this.item.style.backgroundColor=X!=null?X:"",this.item.style.outline=Se,this.item.style.outlineOffset=Ae),this.check&&(this.check.style.color=P!=null?P:"")}}]),b}(Ls.b),Ns=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X,Se){var Ae;return Object(C.a)(this,b),Ae=ae.call(this,_,_,X,Se),Ae.submenuActions=p,Ae.parentData=P,Ae.submenuOptions=X,Ae.mysubmenu=null,Ae.submenuDisposables=Ae._register(new J.c),Ae.mouseOver=!1,Ae.expandDirection=X&&X.expandDirection!==void 0?X.expandDirection:os.Right,Ae.showScheduler=new et.g(function(){Ae.mouseOver&&(Ae.cleanupExistingSubmenu(!1),Ae.createSubmenu(!1))},250),Ae.hideScheduler=new et.g(function(){Ae.element&&!Object(It.isAncestor)(Object(It.getActiveElement)(),Ae.element)&&Ae.parentData.submenu===Ae.mysubmenu&&(Ae.parentData.parent.focus(!1),Ae.cleanupExistingSubmenu(!0))},750),Ae}return Object(x.a)(b,[{key:"render",value:function(p){var P=this;Object(Ye.a)(Object(ot.a)(b.prototype),"render",this).call(this,p),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Object(It.append)(this.item,Object(It.$)("span.submenu-indicator"+Vl.a.asCSSSelector(jl.a.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(Object(It.addDisposableListener)(this.element,It.EventType.KEY_UP,function(X){var Se=new zi.a(X);(Se.equals(17)||Se.equals(3))&&(It.EventHelper.stop(X,!0),P.createSubmenu(!0))})),this._register(Object(It.addDisposableListener)(this.element,It.EventType.KEY_DOWN,function(X){var Se=new zi.a(X);Object(It.getActiveElement)()===P.item&&(Se.equals(17)||Se.equals(3))&&It.EventHelper.stop(X,!0)})),this._register(Object(It.addDisposableListener)(this.element,It.EventType.MOUSE_OVER,function(X){P.mouseOver||(P.mouseOver=!0,P.showScheduler.schedule())})),this._register(Object(It.addDisposableListener)(this.element,It.EventType.MOUSE_LEAVE,function(X){P.mouseOver=!1})),this._register(Object(It.addDisposableListener)(this.element,It.EventType.FOCUS_OUT,function(X){P.element&&!Object(It.isAncestor)(Object(It.getActiveElement)(),P.element)&&P.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(function(){P.parentData.submenu===P.mysubmenu&&(P.parentData.parent.focus(!1),P.cleanupExistingSubmenu(!0))})))}},{key:"updateEnabled",value:function(){}},{key:"onClick",value:function(p){It.EventHelper.stop(p,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}},{key:"cleanupExistingSubmenu",value:function(p){if(this.parentData.submenu&&(p||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(P){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}},{key:"calculateSubmenuMenuLayout",value:function(p,P,X,Se){var Ae={top:0,left:0};return Ae.left=mo(p.width,P.width,{position:Se===os.Right?0:1,offset:X.left,size:X.width}),Ae.left>=X.left&&Ae.left<X.left+X.width&&(X.left+10+P.width<=p.width&&(Ae.left=X.left+10),X.top+=10,X.height=0),Ae.top=mo(p.height,P.height,{position:0,offset:X.top,size:0}),Ae.top+P.height===X.top&&Ae.top+X.height+P.height<=p.height&&(Ae.top+=X.height),Ae}},{key:"createSubmenu",value:function(){var p=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Object(It.append)(this.element,Object(It.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");var X=getComputedStyle(this.parentData.parent.domNode),Se=parseFloat(X.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Fo(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new eo.c],this.submenuOptions,this.menuStyle);var Ae=this.element.getBoundingClientRect(),qe={top:Ae.top-Se,left:Ae.left,height:Ae.height+2*Se,width:Ae.width},rt=this.submenuContainer.getBoundingClientRect(),ct=this.calculateSubmenuMenuLayout(new It.Dimension(window.innerWidth,window.innerHeight),It.Dimension.lift(rt),qe,this.expandDirection),Xt=ct.top,cn=ct.left;this.submenuContainer.style.left="".concat(cn-rt.left,"px"),this.submenuContainer.style.top="".concat(Xt-rt.top,"px"),this.submenuDisposables.add(Object(It.addDisposableListener)(this.submenuContainer,It.EventType.KEY_UP,function(Mn){var gi=new zi.a(Mn);gi.equals(15)&&(It.EventHelper.stop(Mn,!0),p.parentData.parent.focus(),p.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(Object(It.addDisposableListener)(this.submenuContainer,It.EventType.KEY_DOWN,function(Mn){var gi=new zi.a(Mn);gi.equals(15)&&It.EventHelper.stop(Mn,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(function(){p.parentData.parent.focus(),p.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(P),this.mysubmenu=this.parentData.submenu}}},{key:"updateAriaExpanded",value:function(p){var P;this.item&&((P=this.item)===null||P===void 0||P.setAttribute("aria-expanded",p))}},{key:"applyStyle",value:function(){Object(Ye.a)(Object(ot.a)(b.prototype),"applyStyle",this).call(this);var p=this.element&&this.element.classList.contains("focused"),P=p&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=P!=null?P:"")}},{key:"dispose",value:function(){Object(Ye.a)(Object(ot.a)(b.prototype),"dispose",this).call(this),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}]),b}(Rs),ps=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X){var Se;return Object(C.a)(this,b),Se=ae.call(this,_,p,P),Se.menuStyles=X,Se}return Object(x.a)(b,[{key:"render",value:function(p){Object(Ye.a)(Object(ot.a)(b.prototype),"render",this).call(this,p),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?"".concat(this.menuStyles.separatorColor):"")}}]),b}(Ls.a);function hs(se){var ae=oa,b=ae.exec(se);if(!b)return se;var _=!b[1];return se.replace(ae,_?"$2$3":"").trim()}function gc(se){var ae=Object(jl.b)()[se.id];return".codicon-".concat(se.id,":before { content: '\\").concat(ae.toString(16),"'; }")}function mc(se,ae){var b=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

`.concat(gc(jl.a.menuSelection),`
`).concat(gc(jl.a.menuSubmenu),`

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`);if(ae){b+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;var _=se.scrollbarShadow;_&&(b+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: `.concat(_,` 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: `).concat(_,` 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: `).concat(_,` 6px 6px 6px -6px inset;
				}
			`));var p=se.scrollbarSliderBackground;p&&(b+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: `.concat(p,`;
				}
			`));var P=se.scrollbarSliderHoverBackground;P&&(b+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: `.concat(P,`;
				}
			`));var X=se.scrollbarSliderActiveBackground;X&&(b+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: `.concat(X,`;
				}
			`))}return b}var xs=a("99AM"),ns=function(){function se(ae,b,_,p){Object(C.a)(this,se),this.contextViewService=ae,this.telemetryService=b,this.notificationService=_,this.keybindingService=p,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}return Object(x.a)(se,[{key:"configure",value:function(b){this.options=b}},{key:"showContextMenu",value:function(b){var _=this,p=b.getActions();if(!!p.length){this.focusToReturn=document.activeElement;var P,X=Object(It.isHTMLElement)(b.domForShadowRoot)?b.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:function(){return b.getAnchor()},canRelayout:!1,anchorAlignment:b.anchorAlignment,anchorAxisAlignment:b.anchorAxisAlignment,render:function(Ae){var qe;_.lastContainer=Ae;var rt=b.getMenuClassName?b.getMenuClassName():"";rt&&(Ae.className+=" "+rt),_.options.blockMouse&&(_.block=Ae.appendChild(Object(It.$)(".context-view-block")),_.block.style.position="fixed",_.block.style.cursor="initial",_.block.style.left="0",_.block.style.top="0",_.block.style.width="100%",_.block.style.height="100%",_.block.style.zIndex="-1",(qe=_.blockDisposable)===null||qe===void 0||qe.dispose(),_.blockDisposable=Object(It.addDisposableListener)(_.block,It.EventType.MOUSE_DOWN,function(cn){return cn.stopPropagation()}));var ct=new J.c,Xt=b.actionRunner||new eo.b;return Xt.onWillRun(function(cn){return _.onActionRun(cn,!b.skipTelemetry)},_,ct),Xt.onDidRun(_.onDidActionRun,_,ct),P=new Fo(Ae,p,{actionViewItemProvider:b.getActionViewItem,context:b.getActionsContext?b.getActionsContext():null,actionRunner:Xt,getKeyBinding:b.getKeyBinding?b.getKeyBinding:function(cn){return _.keybindingService.lookupKeybinding(cn.id)}},xs.g),P.onDidCancel(function(){return _.contextViewService.hideContextView(!0)},null,ct),P.onDidBlur(function(){return _.contextViewService.hideContextView(!0)},null,ct),ct.add(Object(It.addDisposableListener)(window,It.EventType.BLUR,function(){return _.contextViewService.hideContextView(!0)})),ct.add(Object(It.addDisposableListener)(window,It.EventType.MOUSE_DOWN,function(cn){if(!cn.defaultPrevented){var Mn=new aa.a(cn),gi=Mn.target;if(!Mn.rightButton){for(;gi;){if(gi===Ae)return;gi=gi.parentElement}_.contextViewService.hideContextView(!0)}}})),Object(J.h)(ct,P)},focus:function(){P==null||P.focus(!!b.autoSelectFirstItem)},onHide:function(Ae){var qe,rt,ct;(qe=b.onHide)===null||qe===void 0||qe.call(b,!!Ae),_.block&&(_.block.remove(),_.block=null),(rt=_.blockDisposable)===null||rt===void 0||rt.dispose(),_.blockDisposable=null,!!_.lastContainer&&(Object(It.getActiveElement)()===_.lastContainer||Object(It.isAncestor)(Object(It.getActiveElement)(),_.lastContainer))&&((ct=_.focusToReturn)===null||ct===void 0||ct.focus()),_.lastContainer=null}},X,!!X)}}},{key:"onActionRun",value:function(b,_){_&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:b.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}},{key:"onDidActionRun",value:function(b){b.error&&!Object(gn.g)(b.error)&&this.notificationService.error(b.error)}}]),se}(),pc=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},Zs=function(se,ae){return function(b,_){ae(b,_,se)}},hl=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X,Se,Ae){var qe;return Object(C.a)(this,b),qe=ae.call(this),qe.telemetryService=_,qe.notificationService=p,qe.contextViewService=P,qe.keybindingService=X,qe.menuService=Se,qe.contextKeyService=Ae,qe._contextMenuHandler=void 0,qe._onDidShowContextMenu=qe._store.add(new On.b),qe._onDidHideContextMenu=qe._store.add(new On.b),qe}return Object(x.a)(b,[{key:"contextMenuHandler",get:function(){return this._contextMenuHandler||(this._contextMenuHandler=new ns(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}},{key:"configure",value:function(p){this.contextMenuHandler.configure(p)}},{key:"showContextMenu",value:function(p){var P=this;p=Hc.transform(p,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},p),{onHide:function(Se){var Ae;(Ae=p.onHide)===null||Ae===void 0||Ae.call(p,Se),P._onDidHideContextMenu.fire()}})),It.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}}]),b}(J.a);hl=pc([Zs(0,hr.a),Zs(1,Ci.a),Zs(2,ya.b),Zs(3,xt.a),Zs(4,bo.b),Zs(5,Pi.b)],hl);var Hc;(function(se){function ae(_){return _&&_.menuId instanceof bo.c}function b(_,p,P){if(!ae(_))return _;var X=_.menuId,Se=_.menuActionOptions,Ae=_.contextKeyService;return Object.assign(Object.assign({},_),{getActions:function(){var rt=[];if(X){var ct=p.createMenu(X,Ae!=null?Ae:P);Object(wl.d)(ct,Se,rt),ct.dispose()}return _.getActions?eo.d.join(_.getActions(),rt):rt}})}se.transform=b})(Hc||(Hc={}));var uu=a("JQT/"),bc=a("Q4rV"),Gu;(function(se){se[se.API=0]="API",se[se.USER=1]="USER"})(Gu||(Gu={}));var Ms=a("W9cx"),fl=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},$u=function(se,ae){return function(b,_){ae(b,_,se)}},El=function(se,ae,b,_){function p(P){return P instanceof b?P:new b(function(X){X(P)})}return new(b||(b=Promise))(function(P,X){function Se(rt){try{qe(_.next(rt))}catch(ct){X(ct)}}function Ae(rt){try{qe(_.throw(rt))}catch(ct){X(ct)}}function qe(rt){rt.done?P(rt.value):p(rt.value).then(Se,Ae)}qe((_=_.apply(se,ae||[])).next())})},yc=function(){function se(ae){Object(C.a)(this,se),this._commandService=ae}return Object(x.a)(se,[{key:"open",value:function(b,_){return El(this,void 0,void 0,Object(E.a)().mark(function p(){var P,X;return Object(E.a)().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(Object(Ms.c)(b,si.c.command)){Ae.next=2;break}return Ae.abrupt("return",!1);case 2:if(_==null?void 0:_.allowCommands){Ae.next=4;break}return Ae.abrupt("return",!0);case 4:if(typeof b=="string"&&(b=y.a.parse(b)),!Array.isArray(_.allowCommands)){Ae.next=8;break}if(_.allowCommands.includes(b.path)){Ae.next=8;break}return Ae.abrupt("return",!0);case 8:X=[];try{X=Object(bc.a)(decodeURIComponent(b.query))}catch(qe){try{X=Object(bc.a)(b.query)}catch(rt){}}return Array.isArray(X)||(X=[X]),Ae.next=13,(P=this._commandService).executeCommand.apply(P,[b.path].concat(Object(ve.a)(X)));case 13:return Ae.abrupt("return",!0);case 14:case"end":return Ae.stop()}},p,this)}))}}]),se}();yc=fl([$u(0,vo.b)],yc);var _c=function(){function se(ae){Object(C.a)(this,se),this._editorService=ae}return Object(x.a)(se,[{key:"open",value:function(b,_){return El(this,void 0,void 0,Object(E.a)().mark(function p(){var P,X,Se;return Object(E.a)().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return typeof b=="string"&&(b=y.a.parse(b)),P=Object(Ms.b)(b),X=P.selection,Se=P.uri,b=Se,b.scheme===si.c.file&&(b=Object(Gr.i)(b)),qe.next=6,this._editorService.openCodeEditor({resource:b,options:Object.assign({selection:X,source:(_==null?void 0:_.fromUserGesture)?Gu.USER:Gu.API},_==null?void 0:_.editorOptions)},this._editorService.getFocusedCodeEditor(),_==null?void 0:_.openToSide);case 6:return qe.abrupt("return",!0);case 7:case"end":return qe.stop()}},p,this)}))}}]),se}();_c=fl([$u(0,L.a)],_c);var Cc=function(){function se(ae,b){var _=this;Object(C.a)(this,se),this._openers=new Gn.a,this._validators=new Gn.a,this._resolvers=new Gn.a,this._resolvedUriTargets=new on.b(function(p){return p.with({path:null,fragment:null,query:null}).toString()}),this._externalOpeners=new Gn.a,this._defaultExternalOpener={openExternal:function(P){return El(_,void 0,void 0,Object(E.a)().mark(function X(){return Object(E.a)().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Object(Ms.d)(P,si.c.http,si.c.https)?It.windowOpenNoOpener(P):window.location.href=P,Ae.abrupt("return",!0);case 2:case"end":return Ae.stop()}},X)}))}},this._openers.push({open:function(P,X){return El(_,void 0,void 0,Object(E.a)().mark(function Se(){return Object(E.a)().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(!((X==null?void 0:X.openExternal)||Object(Ms.d)(P,si.c.mailto,si.c.http,si.c.https,si.c.vsls))){qe.next=4;break}return qe.next=3,this._doOpenExternal(P,X);case 3:return qe.abrupt("return",!0);case 4:return qe.abrupt("return",!1);case 5:case"end":return qe.stop()}},Se,this)}))}}),this._openers.push(new yc(b)),this._openers.push(new _c(ae))}return Object(x.a)(se,[{key:"registerOpener",value:function(b){var _=this._openers.unshift(b);return{dispose:_}}},{key:"open",value:function(b,_){var p;return El(this,void 0,void 0,Object(E.a)().mark(function P(){var X,Se,Ae,qe,rt,ct,Xt,cn,Mn;return Object(E.a)().wrap(function(Zn){for(;;)switch(Zn.prev=Zn.next){case 0:X=typeof b=="string"?y.a.parse(b):b,Se=(p=this._resolvedUriTargets.get(X))!==null&&p!==void 0?p:b,Ae=Object(j.a)(this._validators),Zn.prev=3,Ae.s();case 5:if((qe=Ae.n()).done){Zn.next=13;break}return rt=qe.value,Zn.next=9,rt.shouldOpen(Se,_);case 9:if(Zn.sent){Zn.next=11;break}return Zn.abrupt("return",!1);case 11:Zn.next=5;break;case 13:Zn.next=18;break;case 15:Zn.prev=15,Zn.t0=Zn.catch(3),Ae.e(Zn.t0);case 18:return Zn.prev=18,Ae.f(),Zn.finish(18);case 21:ct=Object(j.a)(this._openers),Zn.prev=22,ct.s();case 24:if((Xt=ct.n()).done){Zn.next=33;break}return cn=Xt.value,Zn.next=28,cn.open(b,_);case 28:if(Mn=Zn.sent,!Mn){Zn.next=31;break}return Zn.abrupt("return",!0);case 31:Zn.next=24;break;case 33:Zn.next=38;break;case 35:Zn.prev=35,Zn.t1=Zn.catch(22),ct.e(Zn.t1);case 38:return Zn.prev=38,ct.f(),Zn.finish(38);case 41:return Zn.abrupt("return",!1);case 42:case"end":return Zn.stop()}},P,this,[[3,15,18,21],[22,35,38,41]])}))}},{key:"resolveExternalUri",value:function(b,_){return El(this,void 0,void 0,Object(E.a)().mark(function p(){var P,X,Se,Ae;return Object(E.a)().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:P=Object(j.a)(this._resolvers),rt.prev=1,P.s();case 3:if((X=P.n()).done){rt.next=18;break}return Se=X.value,rt.prev=5,rt.next=8,Se.resolveExternalUri(b,_);case 8:if(Ae=rt.sent,!Ae){rt.next=12;break}return this._resolvedUriTargets.has(Ae.resolved)||this._resolvedUriTargets.set(Ae.resolved,b),rt.abrupt("return",Ae);case 12:rt.next=16;break;case 14:rt.prev=14,rt.t0=rt.catch(5);case 16:rt.next=3;break;case 18:rt.next=23;break;case 20:rt.prev=20,rt.t1=rt.catch(1),P.e(rt.t1);case 23:return rt.prev=23,P.f(),rt.finish(23);case 26:throw new Error("Could not resolve external URI: "+b.toString());case 27:case"end":return rt.stop()}},p,this,[[1,20,23,26],[5,14]])}))}},{key:"_doOpenExternal",value:function(b,_){return El(this,void 0,void 0,Object(E.a)().mark(function p(){var P,X,Se,Ae,qe,rt,ct,Xt;return Object(E.a)().wrap(function(Mn){for(;;)switch(Mn.prev=Mn.next){case 0:return P=typeof b=="string"?y.a.parse(b):b,Mn.prev=1,Mn.next=4,this.resolveExternalUri(P,_);case 4:X=Mn.sent.resolved,Mn.next=10;break;case 7:Mn.prev=7,Mn.t0=Mn.catch(1),X=P;case 10:if(typeof b=="string"&&P.toString()===X.toString()?Se=b:Se=encodeURI(X.toString(!0)),!(_==null?void 0:_.allowContributedOpeners)){Mn.next=33;break}Ae=typeof(_==null?void 0:_.allowContributedOpeners)=="string"?_==null?void 0:_.allowContributedOpeners:void 0,qe=Object(j.a)(this._externalOpeners),Mn.prev=14,qe.s();case 16:if((rt=qe.n()).done){Mn.next=25;break}return ct=rt.value,Mn.next=20,ct.openExternal(Se,{sourceUri:P,preferredOpenerId:Ae},uu.a.None);case 20:if(Xt=Mn.sent,!Xt){Mn.next=23;break}return Mn.abrupt("return",!0);case 23:Mn.next=16;break;case 25:Mn.next=30;break;case 27:Mn.prev=27,Mn.t1=Mn.catch(14),qe.e(Mn.t1);case 30:return Mn.prev=30,qe.f(),Mn.finish(30);case 33:return Mn.abrupt("return",this._defaultExternalOpener.openExternal(Se,{sourceUri:P},uu.a.None));case 34:case"end":return Mn.stop()}},p,this,[[1,7],[14,27,30,33]])}))}},{key:"dispose",value:function(){this._validators.clear()}}]),se}();Cc=fl([$u(0,L.a),$u(1,vo.b)],Cc);var Qu=a("Cdua"),bs=a("tADe"),rl=a("3IFt"),_o=a("MD5Z"),Yu=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},Xs=function(se,ae){return function(b,_){ae(b,_,se)}},Ia=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_){var p;return Object(C.a)(this,b),p=ae.call(this),p.model=_,p._markersData=new Map,p._register(Object(J.l)(function(){p.model.deltaDecorations(Object(ve.a)(p._markersData.keys()),[]),p._markersData.clear()})),p}return Object(x.a)(b,[{key:"update",value:function(p,P){var X=Object(ve.a)(this._markersData.keys());this._markersData.clear();for(var Se=this.model.deltaDecorations(X,P),Ae=0;Ae<Se.length;Ae++)this._markersData.set(Se[Ae],p[Ae]);return X.length!==0||Se.length!==0}},{key:"getMarker",value:function(p){return this._markersData.get(p.id)}}]),b}(J.a),Oc=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p){var P;return Object(C.a)(this,b),P=ae.call(this),P._markerService=p,P._onDidChangeMarker=P._register(new On.b),P._markerDecorations=new on.b,_.getModels().forEach(function(X){return P._onModelAdded(X)}),P._register(_.onModelAdded(P._onModelAdded,Object(En.a)(P))),P._register(_.onModelRemoved(P._onModelRemoved,Object(En.a)(P))),P._register(P._markerService.onMarkerChanged(P._handleMarkerChange,Object(En.a)(P))),P}return Object(x.a)(b,[{key:"dispose",value:function(){Object(Ye.a)(Object(ot.a)(b.prototype),"dispose",this).call(this),this._markerDecorations.forEach(function(p){return p.dispose()}),this._markerDecorations.clear()}},{key:"getMarker",value:function(p,P){var X=this._markerDecorations.get(p);return X&&X.getMarker(P)||null}},{key:"_handleMarkerChange",value:function(p){var P=this;p.forEach(function(X){var Se=P._markerDecorations.get(X);Se&&P._updateDecorations(Se)})}},{key:"_onModelAdded",value:function(p){var P=new Ia(p);this._markerDecorations.set(p.uri,P),this._updateDecorations(P)}},{key:"_onModelRemoved",value:function(p){var P=this,X,Se=this._markerDecorations.get(p.uri);Se&&(Se.dispose(),this._markerDecorations.delete(p.uri)),(p.uri.scheme===si.c.inMemory||p.uri.scheme===si.c.internal||p.uri.scheme===si.c.vscode)&&((X=this._markerService)===null||X===void 0||X.read({resource:p.uri}).map(function(Ae){return Ae.owner}).forEach(function(Ae){return P._markerService.remove(Ae,[p.uri])}))}},{key:"_updateDecorations",value:function(p){var P=this,X=this._markerService.read({resource:p.model.uri,take:500}),Se=X.map(function(Ae){return{range:P._createDecorationRange(p.model,Ae),options:P._createDecorationOption(Ae)}});p.update(X,Se)&&this._onDidChangeMarker.fire(p.model)}},{key:"_createDecorationRange",value:function(p,P){var X=ia.a.lift(P);if(P.severity===bs.c.Hint&&!this._hasMarkerTag(P,1)&&!this._hasMarkerTag(P,2)&&(X=X.setEndPosition(X.startLineNumber,X.startColumn+2)),X=p.validateRange(X),X.isEmpty()){var Se=p.getLineLastNonWhitespaceColumn(X.startLineNumber)||p.getLineMaxColumn(X.startLineNumber);if(Se===1||X.endColumn>=Se)return X;var Ae=p.getWordAtPosition(X.getStartPosition());Ae&&(X=new ia.a(X.startLineNumber,Ae.startColumn,X.endLineNumber,Ae.endColumn))}else if(P.endColumn===Number.MAX_VALUE&&P.startColumn===1&&X.startLineNumber===X.endLineNumber){var qe=p.getLineFirstNonWhitespaceColumn(P.startLineNumber);qe<X.endColumn&&(X=new ia.a(X.startLineNumber,qe,X.endLineNumber,X.endColumn),P.startColumn=qe)}return X}},{key:"_createDecorationOption",value:function(p){var P,X=void 0,Se,Ae=void 0,qe;switch(p.severity){case bs.c.Hint:this._hasMarkerTag(p,2)?P=void 0:this._hasMarkerTag(p,1)?P="squiggly-unnecessary":P="squiggly-hint",Se=0;break;case bs.c.Warning:P="squiggly-warning",X=Object(ci.f)(rl.I),Se=20,qe={color:Object(ci.f)(_o.pc),position:W.e.Inline};break;case bs.c.Info:P="squiggly-info",X=Object(ci.f)(rl.G),Se=10;break;case bs.c.Error:default:P="squiggly-error",X=Object(ci.f)(rl.F),Se=30,qe={color:Object(ci.f)(_o.kc),position:W.e.Inline};break}return p.tags&&(p.tags.indexOf(1)!==-1&&(Ae="squiggly-inline-unnecessary"),p.tags.indexOf(2)!==-1&&(Ae="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:P,showIfCollapsed:!0,overviewRuler:{color:X,position:W.f.Right},minimap:qe,zIndex:Se,inlineClassName:Ae}}},{key:"_hasMarkerTag",value:function(p,P){return p.tags?p.tags.indexOf(P)>=0:!1}}]),b}(J.a);Oc=Yu([Xs(0,d.a),Xs(1,bs.b)],Oc);var Uc=a("eQg+"),cu=a("tX9W"),Js=a("vX7u"),Hl=a("7afs"),vl=a("oFSf"),Po=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},Ao=function(se,ae){return function(b,_){ae(b,_,se)}};function Za(se){return se.toString()}function Sc(se){for(var ae=new Hl.a,b=se.createSnapshot(),_;_=b.read();)ae.update(_);return ae.digest()}var Ul=function(){function se(ae,b,_){Object(C.a)(this,se),this.model=ae,this._modelEventListeners=new J.c,this.model=ae,this._modelEventListeners.add(ae.onWillDispose(function(){return b(ae)})),this._modelEventListeners.add(ae.onDidChangeLanguage(function(p){return _(ae,p)}))}return Object(x.a)(se,[{key:"dispose",value:function(){this._modelEventListeners.dispose()}}]),se}(),Ll=Dt.g||Dt.i?1:2,kc=Object(x.a)(function se(ae,b,_,p,P,X,Se,Ae){Object(C.a)(this,se),this.uri=ae,this.initialUndoRedoSnapshot=b,this.time=_,this.sharesUndoRedoStack=p,this.heapSize=P,this.sha1=X,this.versionId=Se,this.alternativeVersionId=Ae}),Ml=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X,Se){var Ae;return Object(C.a)(this,b),Ae=ae.call(this),Ae._configurationService=_,Ae._resourcePropertiesService=p,Ae._undoRedoService=P,Ae._languageService=X,Ae._languageConfigurationService=Se,Ae._onModelAdded=Ae._register(new On.b),Ae.onModelAdded=Ae._onModelAdded.event,Ae._onModelRemoved=Ae._register(new On.b),Ae.onModelRemoved=Ae._onModelRemoved.event,Ae._onModelModeChanged=Ae._register(new On.b),Ae.onModelLanguageChanged=Ae._onModelModeChanged.event,Ae._modelCreationOptionsByLanguageAndResource=Object.create(null),Ae._models={},Ae._disposedModels=new Map,Ae._disposedModelsHeapSize=0,Ae._register(Ae._configurationService.onDidChangeConfiguration(function(qe){return Ae._updateModelOptions(qe)})),Ae._updateModelOptions(void 0),Ae}return Object(x.a)(b,[{key:"_getEOL",value:function(p,P){if(p)return this._resourcePropertiesService.getEOL(p,P);var X=this._configurationService.getValue("files.eol",{overrideIdentifier:P});return X&&typeof X=="string"&&X!=="auto"?X:Dt.a===3||Dt.a===2?`
`:`\r
`}},{key:"_shouldRestoreUndoStack",value:function(){var p=this._configurationService.getValue("files.restoreUndoStack");return typeof p=="boolean"?p:!0}},{key:"getCreationOptions",value:function(p,P,X){var Se=typeof p=="string"?p:p.languageId,Ae=this._modelCreationOptionsByLanguageAndResource[Se+P];if(!Ae){var qe=this._configurationService.getValue("editor",{overrideIdentifier:Se,resource:P}),rt=this._getEOL(P,Se);Ae=b._readModelOptions({editor:qe,eol:rt},X),this._modelCreationOptionsByLanguageAndResource[Se+P]=Ae}return Ae}},{key:"_updateModelOptions",value:function(p){var P=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);for(var X=Object.keys(this._models),Se=0,Ae=X.length;Se<Ae;Se++){var qe=X[Se],rt=this._models[qe],ct=rt.model.getLanguageId(),Xt=rt.model.uri;if(!(p&&!p.affectsConfiguration("editor",{overrideIdentifier:ct,resource:Xt})&&!p.affectsConfiguration("files.eol",{overrideIdentifier:ct,resource:Xt}))){var cn=P[ct+Xt],Mn=this.getCreationOptions(ct,Xt,rt.model.isForSimpleWidget);b._setModelOptionsForModel(rt.model,Mn,cn)}}}},{key:"_insertDisposedModel",value:function(p){this._disposedModels.set(Za(p.uri),p),this._disposedModelsHeapSize+=p.heapSize}},{key:"_removeDisposedModel",value:function(p){var P=this._disposedModels.get(Za(p));return P&&(this._disposedModelsHeapSize-=P.heapSize),this._disposedModels.delete(Za(p)),P}},{key:"_ensureDisposedModelsHeapSize",value:function(p){if(this._disposedModelsHeapSize>p){var P=[];for(this._disposedModels.forEach(function(Se){Se.sharesUndoRedoStack||P.push(Se)}),P.sort(function(Se,Ae){return Se.time-Ae.time});P.length>0&&this._disposedModelsHeapSize>p;){var X=P.shift();this._removeDisposedModel(X.uri),X.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(X.initialUndoRedoSnapshot)}}}},{key:"_createModelData",value:function(p,P,X,Se){var Ae=this,qe=this.getCreationOptions(P,X,Se),rt=new cu.c(p,P,qe,X,this._undoRedoService,this._languageService,this._languageConfigurationService);if(X&&this._disposedModels.has(Za(X))){var ct=this._removeDisposedModel(X),Xt=this._undoRedoService.getElements(X),cn=Sc(rt)===ct.sha1;if(cn||ct.sharesUndoRedoStack){var Mn=Object(j.a)(Xt.past),gi;try{for(Mn.s();!(gi=Mn.n()).done;){var Zn=gi.value;Object(vl.b)(Zn)&&Zn.matchesResource(X)&&Zn.setModel(rt)}}catch(cr){Mn.e(cr)}finally{Mn.f()}var di=Object(j.a)(Xt.future),Un;try{for(di.s();!(Un=di.n()).done;){var qn=Un.value;Object(vl.b)(qn)&&qn.matchesResource(X)&&qn.setModel(rt)}}catch(cr){di.e(cr)}finally{di.f()}this._undoRedoService.setElementsValidFlag(X,!0,function(cr){return Object(vl.b)(cr)&&cr.matchesResource(X)}),cn&&(rt._overwriteVersionId(ct.versionId),rt._overwriteAlternativeVersionId(ct.alternativeVersionId),rt._overwriteInitialUndoRedoSnapshot(ct.initialUndoRedoSnapshot))}else ct.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ct.initialUndoRedoSnapshot)}var ur=Za(rt.uri);if(this._models[ur])throw new Error("ModelService: Cannot add model because it already exists!");var _r=new Ul(rt,function(cr){return Ae._onWillDispose(cr)},function(cr,Zr){return Ae._onDidChangeLanguage(cr,Zr)});return this._models[ur]=_r,_r}},{key:"createModel",value:function(p,P,X){var Se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Ae;return P?Ae=this._createModelData(p,P,X,Se):Ae=this._createModelData(p,go.b,X,Se),this._onModelAdded.fire(Ae.model),Ae.model}},{key:"getModels",value:function(){for(var p=[],P=Object.keys(this._models),X=0,Se=P.length;X<Se;X++){var Ae=P[X];p.push(this._models[Ae].model)}return p}},{key:"getModel",value:function(p){var P=Za(p),X=this._models[P];return X?X.model:null}},{key:"_schemaShouldMaintainUndoRedoElements",value:function(p){return p.scheme===si.c.file||p.scheme===si.c.vscodeRemote||p.scheme===si.c.vscodeUserData||p.scheme===si.c.vscodeNotebookCell||p.scheme==="fake-fs"}},{key:"_onWillDispose",value:function(p){var P=Za(p.uri),X=this._models[P],Se=this._undoRedoService.getUriComparisonKey(p.uri)!==p.uri.toString(),Ae=!1,qe=0;if(Se||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(p.uri)){var rt=this._undoRedoService.getElements(p.uri);if(rt.past.length>0||rt.future.length>0){var ct=Object(j.a)(rt.past),Xt;try{for(ct.s();!(Xt=ct.n()).done;){var cn=Xt.value;Object(vl.b)(cn)&&cn.matchesResource(p.uri)&&(Ae=!0,qe+=cn.heapSize(p.uri),cn.setModel(p.uri))}}catch(ur){ct.e(ur)}finally{ct.f()}var Mn=Object(j.a)(rt.future),gi;try{for(Mn.s();!(gi=Mn.n()).done;){var Zn=gi.value;Object(vl.b)(Zn)&&Zn.matchesResource(p.uri)&&(Ae=!0,qe+=Zn.heapSize(p.uri),Zn.setModel(p.uri))}}catch(ur){Mn.e(ur)}finally{Mn.f()}}}var di=b.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(Ae)if(!Se&&qe>di){var qn=X.model.getInitialUndoRedoSnapshot();qn!==null&&this._undoRedoService.restoreSnapshot(qn)}else this._ensureDisposedModelsHeapSize(di-qe),this._undoRedoService.setElementsValidFlag(p.uri,!1,function(ur){return Object(vl.b)(ur)&&ur.matchesResource(p.uri)}),this._insertDisposedModel(new kc(p.uri,X.model.getInitialUndoRedoSnapshot(),Date.now(),Se,qe,Sc(p),p.getVersionId(),p.getAlternativeVersionId()));else if(!Se){var Un=X.model.getInitialUndoRedoSnapshot();Un!==null&&this._undoRedoService.restoreSnapshot(Un)}delete this._models[P],X.dispose(),delete this._modelCreationOptionsByLanguageAndResource[p.getLanguageId()+p.uri],this._onModelRemoved.fire(p)}},{key:"_onDidChangeLanguage",value:function(p,P){var X=P.oldLanguage,Se=p.getLanguageId(),Ae=this.getCreationOptions(X,p.uri,p.isForSimpleWidget),qe=this.getCreationOptions(Se,p.uri,p.isForSimpleWidget);b._setModelOptionsForModel(p,qe,Ae),this._onModelModeChanged.fire({model:p,oldLanguageId:X})}}],[{key:"_readModelOptions",value:function(p,P){var X,Se=Js.a.tabSize;if(p.editor&&typeof p.editor.tabSize!="undefined"){var Ae=parseInt(p.editor.tabSize,10);isNaN(Ae)||(Se=Ae),Se<1&&(Se=1)}var qe="tabSize";if(p.editor&&typeof p.editor.indentSize!="undefined"&&p.editor.indentSize!=="tabSize"){var rt=parseInt(p.editor.indentSize,10);isNaN(rt)||(qe=Math.max(rt,1))}var ct=Js.a.insertSpaces;p.editor&&typeof p.editor.insertSpaces!="undefined"&&(ct=p.editor.insertSpaces==="false"?!1:Boolean(p.editor.insertSpaces));var Xt=Ll,cn=p.eol;cn===`\r
`?Xt=2:cn===`
`&&(Xt=1);var Mn=Js.a.trimAutoWhitespace;p.editor&&typeof p.editor.trimAutoWhitespace!="undefined"&&(Mn=p.editor.trimAutoWhitespace==="false"?!1:Boolean(p.editor.trimAutoWhitespace));var gi=Js.a.detectIndentation;p.editor&&typeof p.editor.detectIndentation!="undefined"&&(gi=p.editor.detectIndentation==="false"?!1:Boolean(p.editor.detectIndentation));var Zn=Js.a.largeFileOptimizations;p.editor&&typeof p.editor.largeFileOptimizations!="undefined"&&(Zn=p.editor.largeFileOptimizations==="false"?!1:Boolean(p.editor.largeFileOptimizations));var di=Js.a.bracketPairColorizationOptions;return((X=p.editor)===null||X===void 0?void 0:X.bracketPairColorization)&&typeof p.editor.bracketPairColorization=="object"&&(di={enabled:!!p.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!p.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:P,tabSize:Se,indentSize:qe,insertSpaces:ct,detectIndentation:gi,defaultEOL:Xt,trimAutoWhitespace:Mn,largeFileOptimizations:Zn,bracketPairColorizationOptions:di}}},{key:"_setModelOptionsForModel",value:function(p,P,X){X&&X.defaultEOL!==P.defaultEOL&&p.getLineCount()===1&&p.setEOL(P.defaultEOL===1?0:1),!(X&&X.detectIndentation===P.detectIndentation&&X.insertSpaces===P.insertSpaces&&X.tabSize===P.tabSize&&X.indentSize===P.indentSize&&X.trimAutoWhitespace===P.trimAutoWhitespace&&Object(z.e)(X.bracketPairColorizationOptions,P.bracketPairColorizationOptions))&&(P.detectIndentation?(p.detectIndentation(P.insertSpaces,P.tabSize),p.updateOptions({trimAutoWhitespace:P.trimAutoWhitespace,bracketColorizationOptions:P.bracketPairColorizationOptions})):p.updateOptions({insertSpaces:P.insertSpaces,tabSize:P.tabSize,indentSize:P.indentSize,trimAutoWhitespace:P.trimAutoWhitespace,bracketColorizationOptions:P.bracketPairColorizationOptions}))}}]),b}(J.a);Ml.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,Ml=Po([Ao(0,Ke.a),Ao(1,ro.b),Ao(2,yr.a),Ao(3,U.a),Ao(4,V.a)],Ml);var du=a("Z1pP"),Zu=a("sswD"),zl=a("k9mg"),Mu=a("C/vA"),qs=a("Lx4V"),Cs=a("Zr1c"),zc=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},fd=function(se,ae){return function(b,_){ae(b,_,se)}},hu=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p){var P;return Object(C.a)(this,b),P=ae.call(this),P.quickInputService=_,P.instantiationService=p,P.registry=ka.a.as(qs.b.Quickaccess),P.mapProviderToDescriptor=new Map,P.lastAcceptedPickerValues=new Map,P.visibleQuickAccess=void 0,P}return Object(x.a)(b,[{key:"show",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1?arguments[1]:void 0;this.doShowOrPick(p,!1,P)}},{key:"doShowOrPick",value:function(p,P,X){var Se,Ae=this.getOrInstantiateProvider(p),qe=Object(qt.a)(Ae,2),rt=qe[0],ct=qe[1],Xt=this.visibleQuickAccess,cn=Xt==null?void 0:Xt.descriptor;if(Xt&&ct&&cn===ct){p!==ct.prefix&&!(X==null?void 0:X.preserveValue)&&(Xt.picker.value=p),this.adjustValueSelection(Xt.picker,ct,X);return}if(ct&&!(X==null?void 0:X.preserveValue)){var Mn=void 0;if(Xt&&cn&&cn!==ct){var gi=Xt.value.substr(cn.prefix.length);gi&&(Mn="".concat(ct.prefix).concat(gi))}if(!Mn){var Zn=rt==null?void 0:rt.defaultFilterValue;Zn===qs.a.LAST?Mn=this.lastAcceptedPickerValues.get(ct):typeof Zn=="string"&&(Mn="".concat(ct.prefix).concat(Zn))}typeof Mn=="string"&&(p=Mn)}var di=new J.c,Un=di.add(this.quickInputService.createQuickPick());Un.value=p,this.adjustValueSelection(Un,ct,X),Un.placeholder=ct==null?void 0:ct.placeholder,Un.quickNavigate=X==null?void 0:X.quickNavigateConfiguration,Un.hideInput=!!Un.quickNavigate&&!Xt,(typeof(X==null?void 0:X.itemActivation)=="number"||(X==null?void 0:X.quickNavigateConfiguration))&&(Un.itemActivation=(Se=X==null?void 0:X.itemActivation)!==null&&Se!==void 0?Se:Cs.b.SECOND),Un.contextKey=ct==null?void 0:ct.contextKey,Un.filterValue=function(_r){return _r.substring(ct?ct.prefix.length:0)};var qn=void 0;P&&(qn=new et.b,di.add(Object(Mu.a)(Un.onWillAccept)(function(_r){_r.veto(),Un.hide()}))),di.add(this.registerPickerListeners(Un,rt,ct,p,X==null?void 0:X.providerOptions));var ur=di.add(new uu.b);if(rt&&di.add(rt.provide(Un,ur.token,X==null?void 0:X.providerOptions)),Object(Mu.a)(Un.onDidHide)(function(){Un.selectedItems.length===0&&ur.cancel(),di.dispose(),qn==null||qn.complete(Un.selectedItems.slice(0))}),Un.show(),P)return qn==null?void 0:qn.p}},{key:"adjustValueSelection",value:function(p,P,X){var Se,Ae;(X==null?void 0:X.preserveValue)?Ae=[p.value.length,p.value.length]:Ae=[(Se=P==null?void 0:P.prefix.length)!==null&&Se!==void 0?Se:0,p.value.length],p.valueSelection=Ae}},{key:"registerPickerListeners",value:function(p,P,X,Se,Ae){var qe=this,rt=new J.c,ct=this.visibleQuickAccess={picker:p,descriptor:X,value:Se};return rt.add(Object(J.l)(function(){ct===qe.visibleQuickAccess&&(qe.visibleQuickAccess=void 0)})),rt.add(p.onDidChangeValue(function(Xt){var cn=qe.getOrInstantiateProvider(Xt),Mn=Object(qt.a)(cn,1),gi=Mn[0];gi!==P?qe.show(Xt,{preserveValue:!0,providerOptions:Ae}):ct.value=Xt})),X&&rt.add(p.onDidAccept(function(){qe.lastAcceptedPickerValues.set(X,p.value)})),rt}},{key:"getOrInstantiateProvider",value:function(p){var P=this.registry.getQuickAccessProvider(p);if(!P)return[void 0,void 0];var X=this.mapProviderToDescriptor.get(P);return X||(X=this.instantiationService.createInstance(P.ctor),this.mapProviderToDescriptor.set(P,X)),[X,P]}}]),b}(J.a);hu=zc([fd(0,Cs.a),fd(1,mi.a)],hu);var Tl=a("+vFt"),fu=a("O/se"),vd=a("HyZH"),Kl="done",gl="active",Kc="infinite",Gl="infinite-long-running",Fi="discrete",Jd=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p){var P;return Object(C.a)(this,b),P=ae.call(this),P.workedVal=0,P.showDelayedScheduler=P._register(new et.g(function(){return Object(It.show)(P.element)},0)),P.longRunningScheduler=P._register(new et.g(function(){return P.infiniteLongRunning()},b.LONG_RUNNING_INFINITE_THRESHOLD)),P.create(_,p),P}return Object(x.a)(b,[{key:"create",value:function(p,P){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),p.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(P==null?void 0:P.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}},{key:"off",value:function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(gl,Kc,Gl,Fi),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}},{key:"stop",value:function(){return this.doDone(!1)}},{key:"doDone",value:function(p){var P=this;return this.element.classList.add(Kl),this.element.classList.contains(Kc)?(this.bit.style.opacity="0",p?setTimeout(function(){return P.off()},200):this.off()):(this.bit.style.width="inherit",p?setTimeout(function(){return P.off()},200):this.off()),this}},{key:"infinite",value:function(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Fi,Kl,Gl),this.element.classList.add(gl,Kc),this.longRunningScheduler.schedule(),this}},{key:"infiniteLongRunning",value:function(){this.element.classList.add(Gl)}},{key:"getContainer",value:function(){return this.element}}]),b}(J.a);Jd.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var Tu=a("kXS7"),iv=a("oAzg"),Gc=a("6BjD"),Fs=It.$,Bs=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P){var X;Object(C.a)(this,b),X=ae.call(this),X.parent=_,X.onKeyDown=function(Ae){return It.addDisposableListener(X.findInput.inputBox.inputElement,It.EventType.KEY_DOWN,function(qe){Ae(new zi.a(qe))})},X.onMouseDown=function(Ae){return It.addDisposableListener(X.findInput.inputBox.inputElement,It.EventType.MOUSE_DOWN,function(qe){Ae(new aa.a(qe))})},X.onDidChange=function(Ae){return X.findInput.onDidChange(Ae)},X.container=It.append(X.parent,Fs(".quick-input-box")),X.findInput=X._register(new Gc.a(X.container,void 0,{label:"",inputBoxStyles:p,toggleStyles:P}));var Se=X.findInput.inputBox.inputElement;return Se.role="combobox",Se.ariaHasPopup="menu",Se.ariaAutoComplete="list",Se.ariaExpanded="true",X}return Object(x.a)(b,[{key:"value",get:function(){return this.findInput.getValue()},set:function(p){this.findInput.setValue(p)}},{key:"select",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.findInput.inputBox.select(p)}},{key:"isSelectionAtEnd",value:function(){return this.findInput.inputBox.isSelectionAtEnd()}},{key:"placeholder",get:function(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""},set:function(p){this.findInput.inputBox.setPlaceHolder(p)}},{key:"password",get:function(){return this.findInput.inputBox.inputElement.type==="password"},set:function(p){this.findInput.inputBox.inputElement.type=p?"password":"text"}},{key:"enabled",set:function(p){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!p)}},{key:"toggles",set:function(p){this.findInput.setAdditionalToggles(p)}},{key:"setAttribute",value:function(p,P){this.findInput.inputBox.inputElement.setAttribute(p,P)}},{key:"showDecoration",value:function(p){p===rn.a.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:p===rn.a.Info?1:p===rn.a.Warning?2:3,content:""})}},{key:"stylesForType",value:function(p){return this.findInput.inputBox.stylesForType(p===rn.a.Info?1:p===rn.a.Warning?2:3)}},{key:"setFocus",value:function(){this.findInput.focus()}},{key:"layout",value:function(){this.findInput.inputBox.layout()}}]),b}(J.a),fs=a("xONI"),gd=a("jaoW"),Xu=a("QdLL"),Dc=new Xu.a(function(){var se=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:se,collatorIsNumeric:se.resolvedOptions().numeric}}),qd=new Xu.a(function(){var se=new Intl.Collator(void 0,{numeric:!0});return{collator:se}}),Ju=new Xu.a(function(){var se=new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"});return{collator:se}});function Ws(se,ae){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=se||"",p=ae||"",P=Dc.value.collator.compare(_,p);return Dc.value.collatorIsNumeric&&P===0&&_!==p?_<p?-1:1:P}function eh(se,ae,b){var _=se.toLowerCase(),p=ae.toLowerCase(),P=md(se,ae,b);if(P)return P;var X=_.endsWith(b),Se=p.endsWith(b);if(X!==Se)return X?-1:1;var Ae=Ws(_,p);return Ae!==0?Ae:_.localeCompare(p)}function md(se,ae,b){var _=se.toLowerCase(),p=ae.toLowerCase(),P=_.startsWith(b),X=p.startsWith(b);if(P!==X)return P?-1:1;if(P&&X){if(_.length<p.length)return-1;if(_.length>p.length)return 1}return 0}var $c=a("ZCR3"),Iu=a("4y0V"),el=a("fdyd"),qh=a("nD70"),Pu=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},Qc=function(){function se(ae){Object(C.a)(this,se),this.nodes=ae}return Object(x.a)(se,[{key:"toString",value:function(){return this.nodes.map(function(b){return typeof b=="string"?b:b.label}).join("")}}]),se}();Pu([$c.a],Qc.prototype,"toString",null);var pd=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function Yc(se){for(var ae=[],b=0,_;_=pd.exec(se);){_.index-b>0&&ae.push(se.substring(b,_.index));var p=_,P=Object(qt.a)(p,5),X=P[1],Se=P[2],Ae=P[4];Ae?ae.push({label:X,href:Se,title:Ae}):ae.push({label:X,href:Se}),b=_.index+_[0].length}return b<se.length&&ae.push(se.substring(b)),new Qc(ae)}var vu={},Zc=new qh.a("quick-input-button-icon-");function Vs(se){if(!!se){var ae,b=se.dark.toString();return vu[b]?ae=vu[b]:(ae=Zc.nextId(),It.createCSSRule(".".concat(ae,", .hc-light .").concat(ae),"background-image: ".concat(It.asCSSUrl(se.light||se.dark))),It.createCSSRule(".vs-dark .".concat(ae,", .hc-black .").concat(ae),"background-image: ".concat(It.asCSSUrl(se.dark))),vu[b]=ae),ae}}function Ks(se,ae,b){It.reset(ae);var _=Yc(se),p=0,P=Object(j.a)(_.nodes),X;try{var Se=function(){var qe=X.value;if(typeof qe=="string")ae.append.apply(ae,Object(ve.a)(Object(el.a)(qe)));else{var rt=qe.title;!rt&&qe.href.startsWith("command:")?rt=Object(bn.b)("executeCommand","Click to execute command '{0}'",qe.href.substring("command:".length)):rt||(rt=qe.href);var ct=It.$("a",{href:qe.href,title:rt,tabIndex:p++},qe.label);ct.style.textDecoration="underline";var Xt=function(Un){It.isEventLike(Un)&&It.EventHelper.stop(Un,!0),b.callback(qe.href)},cn=b.disposables.add(new Iu.a(ct,It.EventType.CLICK)).event,Mn=b.disposables.add(new Iu.a(ct,It.EventType.KEY_DOWN)).event,gi=b.disposables.add(On.c.chain(Mn)).filter(function(di){var Un=new zi.a(di);return Un.equals(10)||Un.equals(3)}).event;b.disposables.add(zs.b.addTarget(ct));var Zn=b.disposables.add(new Iu.a(ct,zs.a.Tap)).event;On.c.any(cn,Zn,gi)(Xt,null,b.disposables),ae.appendChild(ct)}};for(P.s();!(X=P.n()).done;)Se()}catch(Ae){P.e(Ae)}finally{P.f()}}var $l=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},qu=function(se,ae,b,_){function p(P){return P instanceof b?P:new b(function(X){X(P)})}return new(b||(b=Promise))(function(P,X){function Se(rt){try{qe(_.next(rt))}catch(ct){X(ct)}}function Ae(rt){try{qe(_.throw(rt))}catch(ct){X(ct)}}function qe(rt){rt.done?P(rt.value):p(rt.value).then(Se,Ae)}qe((_=_.apply(se,ae||[])).next())})},ml=It.$,Au=function(){function se(ae){Object(C.a)(this,se),this.hidden=!1,this._onChecked=new On.b,this.onChecked=this._onChecked.event,Object.assign(this,ae)}return Object(x.a)(se,[{key:"checked",get:function(){return!!this._checked},set:function(b){b!==this._checked&&(this._checked=b,this._onChecked.fire(b))}},{key:"dispose",value:function(){this._onChecked.dispose()}}]),se}(),ja=function(){function se(){Object(C.a)(this,se)}return Object(x.a)(se,[{key:"templateId",get:function(){return se.ID}},{key:"renderTemplate",value:function(b){var _=Object.create(null);_.toDisposeElement=[],_.toDisposeTemplate=[],_.entry=It.append(b,ml(".quick-input-list-entry"));var p=It.append(_.entry,ml("label.quick-input-list-label"));_.toDisposeTemplate.push(It.addStandardDisposableListener(p,It.EventType.CLICK,function(rt){_.checkbox.offsetParent||rt.preventDefault()})),_.checkbox=It.append(p,ml("input.quick-input-list-checkbox")),_.checkbox.type="checkbox",_.toDisposeTemplate.push(It.addStandardDisposableListener(_.checkbox,It.EventType.CHANGE,function(rt){_.element.checked=_.checkbox.checked}));var P=It.append(p,ml(".quick-input-list-rows")),X=It.append(P,ml(".quick-input-list-row")),Se=It.append(P,ml(".quick-input-list-row"));_.label=new fs.a(X,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});var Ae=It.append(X,ml(".quick-input-list-entry-keybinding"));_.keybinding=new gd.a(Ae,Dt.a);var qe=It.append(Se,ml(".quick-input-list-label-meta"));return _.detail=new fs.a(qe,{supportHighlights:!0,supportIcons:!0}),_.separator=It.append(_.entry,ml(".quick-input-list-separator")),_.actionBar=new ks.a(_.entry),_.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),_.toDisposeTemplate.push(_.actionBar),_}},{key:"renderElement",value:function(b,_,p){p.element=b,b.element=Object(Hr.n)(p.entry);var P=b.item?b.item:b.separator;p.checkbox.checked=b.checked,p.toDisposeElement.push(b.onChecked(function(ct){return p.checkbox.checked=ct}));var X=b.labelHighlights,Se=b.descriptionHighlights,Ae=b.detailHighlights,qe=Object.create(null);qe.matches=X||[],qe.descriptionTitle=b.saneDescription,qe.descriptionMatches=Se||[],P.type!=="separator"?(qe.extraClasses=P.iconClasses,qe.italic=P.italic,qe.strikethrough=P.strikethrough,p.entry.classList.remove("quick-input-list-separator-as-item")):p.entry.classList.add("quick-input-list-separator-as-item"),p.label.setLabel(b.saneLabel,b.saneDescription,qe),p.keybinding.set(P.type==="separator"?void 0:P.keybinding),b.saneDetail?(p.detail.element.style.display="",p.detail.setLabel(b.saneDetail,void 0,{matches:Ae,title:b.saneDetail})):p.detail.element.style.display="none",b.item&&b.separator&&b.separator.label?(p.separator.textContent=b.separator.label,p.separator.style.display=""):p.separator.style.display="none",p.entry.classList.toggle("quick-input-list-separator-border",!!b.separator);var rt=P.buttons;rt&&rt.length?(p.actionBar.push(rt.map(function(ct,Xt){var cn=ct.iconClass||(ct.iconPath?Vs(ct.iconPath):void 0);return ct.alwaysVisible&&(cn=cn?"".concat(cn," always-visible"):"always-visible"),{id:"id-".concat(Xt),class:cn,enabled:!0,label:"",tooltip:ct.tooltip||"",run:function(){P.type!=="separator"?b.fireButtonTriggered({button:ct,item:P}):b.fireSeparatorButtonTriggered({button:ct,separator:P})}}}),{icon:!0,label:!1}),p.entry.classList.add("has-actions")):p.entry.classList.remove("has-actions")}},{key:"disposeElement",value:function(b,_,p){p.toDisposeElement=Object(J.i)(p.toDisposeElement),p.actionBar.clear()}},{key:"disposeTemplate",value:function(b){b.toDisposeElement=Object(J.i)(b.toDisposeElement),b.toDisposeTemplate=Object(J.i)(b.toDisposeTemplate)}}]),se}();ja.ID="listelement";var Ds=function(){function se(){Object(C.a)(this,se)}return Object(x.a)(se,[{key:"getHeight",value:function(b){return b.item?b.saneDetail?44:22:24}},{key:"getTemplateId",value:function(b){return ja.ID}}]),se}(),Bo;(function(se){se[se.First=1]="First",se[se.Second=2]="Second",se[se.Last=3]="Last",se[se.Next=4]="Next",se[se.Previous=5]="Previous",se[se.NextPage=6]="NextPage",se[se.PreviousPage=7]="PreviousPage"})(Bo||(Bo={}));var Xc=function(){function se(ae,b,_){var p=this;Object(C.a)(this,se),this.parent=ae,this.options=_,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new On.b,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new On.b,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new On.b,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new On.b,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new On.b,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new On.b,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new On.b,this.onKeyDown=this._onKeyDown.event,this._onLeave=new On.b,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=b,this.container=It.append(this.parent,ml(".quick-input-list"));var P=new Ds,X=new pl;this.list=_.createList("QuickInput",this.container,P,[new ja],{identityProvider:{getId:function(qe){return qe.saneLabel}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:X}),this.list.getHTMLElement().id=b,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(function(Ae){var qe=new zi.a(Ae);switch(qe.keyCode){case 10:p.toggleCheckbox();break;case 31:(Dt.i?Ae.metaKey:Ae.ctrlKey)&&p.list.setFocus(Object(Zo.z)(p.list.length));break;case 16:{var rt=p.list.getFocus();rt.length===1&&rt[0]===0&&p._onLeave.fire();break}case 18:{var ct=p.list.getFocus();ct.length===1&&ct[0]===p.list.length-1&&p._onLeave.fire();break}}p._onKeyDown.fire(qe)})),this.disposables.push(this.list.onMouseDown(function(Ae){Ae.browserEvent.button!==2&&Ae.browserEvent.preventDefault()})),this.disposables.push(It.addDisposableListener(this.container,It.EventType.CLICK,function(Ae){(Ae.x||Ae.y)&&p._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(function(Ae){p._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(function(Ae){typeof Ae.index=="number"&&(Ae.browserEvent.preventDefault(),p.list.setSelection([Ae.index]))}));var Se=new et.h(_.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(function(Ae){return qu(p,void 0,void 0,Object(E.a)().mark(function qe(){var rt=this,ct;return Object(E.a)().wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:if(!(Ae.browserEvent.target instanceof HTMLAnchorElement)){cn.next=3;break}return Se.cancel(),cn.abrupt("return");case 3:if(!(!(Ae.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&It.isAncestor(Ae.browserEvent.relatedTarget,(ct=Ae.element)===null||ct===void 0?void 0:ct.element))){cn.next=5;break}return cn.abrupt("return");case 5:return cn.prev=5,cn.next=8,Se.trigger(function(){return qu(rt,void 0,void 0,Object(E.a)().mark(function Mn(){return Object(E.a)().wrap(function(Zn){for(;;)switch(Zn.prev=Zn.next){case 0:Ae.element&&this.showHover(Ae.element);case 1:case"end":return Zn.stop()}},Mn,this)}))});case 8:cn.next=14;break;case 10:if(cn.prev=10,cn.t0=cn.catch(5),Object(gn.g)(cn.t0)){cn.next=14;break}throw cn.t0;case 14:case"end":return cn.stop()}},qe,null,[[5,10]])}))})),this.disposables.push(this.list.onMouseOut(function(Ae){var qe;It.isAncestor(Ae.browserEvent.relatedTarget,(qe=Ae.element)===null||qe===void 0?void 0:qe.element)||Se.cancel()})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown,Se)}return Object(x.a)(se,[{key:"onDidChangeFocus",get:function(){return On.c.map(this.list.onDidChangeFocus,function(b){return b.elements.map(function(_){return _.item})})}},{key:"onDidChangeSelection",get:function(){return On.c.map(this.list.onDidChangeSelection,function(b){return{items:b.elements.map(function(_){return _.item}),event:b.browserEvent}})}},{key:"scrollTop",get:function(){return this.list.scrollTop},set:function(b){this.list.scrollTop=b}},{key:"ariaLabel",get:function(){return this.list.getHTMLElement().ariaLabel},set:function(b){this.list.getHTMLElement().ariaLabel=b}},{key:"getAllVisibleChecked",value:function(){return this.allVisibleChecked(this.elements,!1)}},{key:"allVisibleChecked",value:function(b){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,p=0,P=b.length;p<P;p++){var X=b[p];if(!X.hidden)if(X.checked)_=!0;else return!1}return _}},{key:"getCheckedCount",value:function(){for(var b=0,_=this.elements,p=0,P=_.length;p<P;p++)_[p].checked&&b++;return b}},{key:"getVisibleCount",value:function(){for(var b=0,_=this.elements,p=0,P=_.length;p<P;p++)_[p].hidden||b++;return b}},{key:"setAllVisibleChecked",value:function(b){try{this._fireCheckedEvents=!1,this.elements.forEach(function(_){_.hidden||(_.checked=b)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}},{key:"setElements",value:function(b){var _=this;this.elementDisposables=Object(J.i)(this.elementDisposables);var p=function(Se){return _.fireButtonTriggered(Se)},P=function(Se){return _.fireSeparatorButtonTriggered(Se)};this.inputElements=b,this.elements=b.reduce(function(X,Se,Ae){var qe,rt,ct,Xt=Ae&&b[Ae-1],cn=Se.label?Se.label.replace(/\r?\n/g," "):"",Mn=Object(rr.e)(cn).text.trim(),gi,Zn,di,Un,qn,ur,_r;Se.type!=="separator"&&(gi=Se.meta&&Se.meta.replace(/\r?\n/g," "),Zn=Se.description&&Se.description.replace(/\r?\n/g," "),di=Se.detail&&Se.detail.replace(/\r?\n/g," "),Un=(qe=Se.highlights)===null||qe===void 0?void 0:qe.label,qn=(rt=Se.highlights)===null||rt===void 0?void 0:rt.description,ur=(ct=Se.highlights)===null||ct===void 0?void 0:ct.detail,_r=Se.tooltip);var cr=Se.ariaLabel||[cn,Zn,di].map(function(pa){return Object(rr.b)(pa)}).filter(function(pa){return!!pa}).join(", "),Zr=_.parent.classList.contains("show-checkboxes"),Kr;if(Se.type==="separator"){if(!Se.buttons)return X;Kr=Se}else Xt&&Xt.type==="separator"&&!Xt.buttons&&(Kr=Xt);var Jr=new Au({hasCheckbox:Zr,index:Ae,item:Se.type!=="separator"?Se:void 0,saneLabel:cn,saneSortLabel:Mn,saneMeta:gi,saneAriaLabel:cr,saneDescription:Zn,saneDetail:di,saneTooltip:_r,labelHighlights:Un,descriptionHighlights:qn,detailHighlights:ur,checked:!1,separator:Kr,fireButtonTriggered:p,fireSeparatorButtonTriggered:P});return _.elementDisposables.push(Jr),_.elementDisposables.push(Jr.onChecked(function(){return _.fireCheckedEvents()})),X.push(Jr),X},[]),this.elementsToIndexes=this.elements.reduce(function(X,Se,Ae){var qe;return X.set((qe=Se.item)!==null&&qe!==void 0?qe:Se.separator,Ae),X},new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}},{key:"getFocusedElements",value:function(){return this.list.getFocusedElements().map(function(b){return b.item})}},{key:"setFocusedElements",value:function(b){var _=this;if(this.list.setFocus(b.filter(function(P){return _.elementsToIndexes.has(P)}).map(function(P){return _.elementsToIndexes.get(P)})),b.length>0){var p=this.list.getFocus()[0];typeof p=="number"&&this.list.reveal(p)}}},{key:"getActiveDescendant",value:function(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}},{key:"setSelectedElements",value:function(b){var _=this;this.list.setSelection(b.filter(function(p){return _.elementsToIndexes.has(p)}).map(function(p){return _.elementsToIndexes.get(p)}))}},{key:"getCheckedElements",value:function(){return this.elements.filter(function(b){return b.checked}).map(function(b){return b.item}).filter(function(b){return!!b})}},{key:"setCheckedElements",value:function(b){try{this._fireCheckedEvents=!1;var _=new Set,p=Object(j.a)(b),P;try{for(p.s();!(P=p.n()).done;){var X=P.value;_.add(X)}}catch(rt){p.e(rt)}finally{p.f()}var Se=Object(j.a)(this.elements),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value;qe.checked=_.has(qe.item)}}catch(rt){Se.e(rt)}finally{Se.f()}}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}},{key:"enabled",set:function(b){this.list.getHTMLElement().style.pointerEvents=b?"":"none"}},{key:"focus",value:function(b){if(!!this.list.length){switch(b===Bo.Second&&this.list.length<2&&(b=Bo.First),b){case Bo.First:this.list.scrollTop=0,this.list.focusFirst(void 0,function(X){return!!X.item});break;case Bo.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,function(X){return!!X.item});break;case Bo.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,function(X){return!!X.item});break;case Bo.Next:{this.list.focusNext(void 0,!0,void 0,function(X){return!!X.item});var _=this.list.getFocus()[0];_!==0&&!this.elements[_-1].item&&this.list.firstVisibleIndex>_-1&&this.list.reveal(_-1);break}case Bo.Previous:{this.list.focusPrevious(void 0,!0,void 0,function(X){return!!X.item});var p=this.list.getFocus()[0];p!==0&&!this.elements[p-1].item&&this.list.firstVisibleIndex>p-1&&this.list.reveal(p-1);break}case Bo.NextPage:this.list.focusNextPage(void 0,function(X){return!!X.item});break;case Bo.PreviousPage:this.list.focusPreviousPage(void 0,function(X){return!!X.item});break}var P=this.list.getFocus()[0];typeof P=="number"&&this.list.reveal(P)}}},{key:"clearFocus",value:function(){this.list.setFocus([])}},{key:"domFocus",value:function(){this.list.domFocus()}},{key:"showHover",value:function(b){var _=this,p,P,X;this._lastHover&&!this._lastHover.isDisposed&&((P=(p=this.options.hoverDelegate).onDidHideHover)===null||P===void 0||P.call(p),(X=this._lastHover)===null||X===void 0||X.dispose()),!(!b.element||!b.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:b.saneTooltip,target:b.element,linkHandler:function(Ae){_.options.linkOpenerDelegate(Ae)},showPointer:!0,container:this.container,hoverPosition:1},!1))}},{key:"layout",value:function(b){this.list.getHTMLElement().style.maxHeight=b?"".concat(Math.floor(b/44)*44+6,"px"):"",this.list.layout()}},{key:"filter",value:function(b){var _=this;if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;var p=b;if(b=b.trim(),!b||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(function(Ae){Ae.labelHighlights=void 0,Ae.descriptionHighlights=void 0,Ae.detailHighlights=void 0,Ae.hidden=!1;var qe=Ae.index&&_.inputElements[Ae.index-1];Ae.item&&(Ae.separator=qe&&qe.type==="separator"&&!qe.buttons?qe:void 0)});else{var P;this.elements.forEach(function(Ae){var qe;_.matchOnLabelMode==="fuzzy"?qe=_.matchOnLabel?Object(Hr.n)(Object(rr.d)(b,Object(rr.e)(Ae.saneLabel))):void 0:qe=_.matchOnLabel?Object(Hr.n)(Ro(p,Object(rr.e)(Ae.saneLabel))):void 0;var rt=_.matchOnDescription?Object(Hr.n)(Object(rr.d)(b,Object(rr.e)(Ae.saneDescription||""))):void 0,ct=_.matchOnDetail?Object(Hr.n)(Object(rr.d)(b,Object(rr.e)(Ae.saneDetail||""))):void 0,Xt=_.matchOnMeta?Object(Hr.n)(Object(rr.d)(b,Object(rr.e)(Ae.saneMeta||""))):void 0;if(qe||rt||ct||Xt?(Ae.labelHighlights=qe,Ae.descriptionHighlights=rt,Ae.detailHighlights=ct,Ae.hidden=!1):(Ae.labelHighlights=void 0,Ae.descriptionHighlights=void 0,Ae.detailHighlights=void 0,Ae.hidden=Ae.item?!Ae.item.alwaysShow:!0),Ae.item?Ae.separator=void 0:Ae.separator&&(Ae.hidden=!0),!_.sortByLabel){var cn=Ae.index&&_.inputElements[Ae.index-1];P=cn&&cn.type==="separator"?cn:P,P&&!Ae.hidden&&(Ae.separator=P,P=void 0)}})}var X=this.elements.filter(function(Ae){return!Ae.hidden});if(this.sortByLabel&&b){var Se=b.toLowerCase();X.sort(function(Ae,qe){return Il(Ae,qe,Se)})}return this.elementsToIndexes=X.reduce(function(Ae,qe,rt){var ct;return Ae.set((ct=qe.item)!==null&&ct!==void 0?ct:qe.separator,rt),Ae},new Map),this.list.splice(0,this.list.length,X),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(X.length),!0}},{key:"toggleCheckbox",value:function(){try{this._fireCheckedEvents=!1;var b=this.list.getFocusedElements(),_=this.allVisibleChecked(b),p=Object(j.a)(b),P;try{for(p.s();!(P=p.n()).done;){var X=P.value;X.checked=!_}}catch(Se){p.e(Se)}finally{p.f()}}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}},{key:"display",value:function(b){this.container.style.display=b?"":"none"}},{key:"isDisplayed",value:function(){return this.container.style.display!=="none"}},{key:"dispose",value:function(){this.elementDisposables=Object(J.i)(this.elementDisposables),this.disposables=Object(J.i)(this.disposables)}},{key:"fireCheckedEvents",value:function(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}},{key:"fireButtonTriggered",value:function(b){this._onButtonTriggered.fire(b)}},{key:"fireSeparatorButtonTriggered",value:function(b){this._onSeparatorButtonTriggered.fire(b)}},{key:"style",value:function(b){this.list.style(b)}},{key:"toggleHover",value:function(){var b=this,_=this.list.getFocusedElements()[0];if(!!_.saneTooltip){if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}var p=this.list.getFocusedElements()[0];if(!!p){this.showHover(p);var P=new J.c;P.add(this.list.onDidChangeFocus(function(X){X.indexes.length&&b.showHover(X.elements[0])})),this._lastHover&&P.add(this._lastHover),this._toggleHover=P,this.elementDisposables.push(this._toggleHover)}}}}]),se}();$l([$c.a],Xc.prototype,"onDidChangeFocus",null),$l([$c.a],Xc.prototype,"onDidChangeSelection",null);function Ro(se,ae){var b=ae.text,_=ae.iconOffsets;if(!_||_.length===0)return gu(se,b);var p=Object($.K)(b," "),P=b.length-p.length,X=gu(se,p);if(X){var Se=Object(j.a)(X),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value,rt=_[qe.start+P]+P;qe.start+=rt,qe.end+=rt}}catch(ct){Se.e(ct)}finally{Se.f()}}return X}function gu(se,ae){var b=ae.toLowerCase().indexOf(se.toLowerCase());return b!==-1?[{start:b,end:b+se.length}]:null}function Il(se,ae,b){var _=se.labelHighlights||[],p=ae.labelHighlights||[];return _.length&&!p.length?-1:!_.length&&p.length?1:_.length===0&&p.length===0?0:eh(se.saneSortLabel,ae.saneSortLabel,b)}var pl=function(){function se(){Object(C.a)(this,se)}return Object(x.a)(se,[{key:"getWidgetAriaLabel",value:function(){return Object(bn.b)("quickInput","Quick Input")}},{key:"getAriaLabel",value:function(b){var _;return((_=b.separator)===null||_===void 0?void 0:_.label)?"".concat(b.saneAriaLabel,", ").concat(b.separator.label):b.saneAriaLabel}},{key:"getWidgetRole",value:function(){return"listbox"}},{key:"getRole",value:function(b){return b.hasCheckbox?"checkbox":"option"}},{key:"isChecked",value:function(b){if(!!b.hasCheckbox)return{value:b.checked,onDidChange:b.onChecked}}}]),se}(),Gs=function(se,ae,b,_){function p(P){return P instanceof b?P:new b(function(X){X(P)})}return new(b||(b=Promise))(function(P,X){function Se(rt){try{qe(_.next(rt))}catch(ct){X(ct)}}function Ae(rt){try{qe(_.throw(rt))}catch(ct){X(ct)}}function qe(rt){rt.done?P(rt.value):p(rt.value).then(Se,Ae)}qe((_=_.apply(se,ae||[])).next())})},ws=It.$,Ql={iconClass:Vl.a.asClassName(jl.a.quickInputBack),tooltip:Object(bn.b)("quickInput.back","Back"),handle:-1},Ru=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_){var p;return Object(C.a)(this,b),p=ae.call(this),p.ui=_,p._widgetUpdated=!1,p.visible=!1,p._enabled=!0,p._busy=!1,p._ignoreFocusOut=!1,p._buttons=[],p.buttonsUpdated=!1,p._toggles=[],p.togglesUpdated=!1,p.noValidationMessage=b.noPromptMessage,p._severity=rn.a.Ignore,p.onDidTriggerButtonEmitter=p._register(new On.b),p.onDidHideEmitter=p._register(new On.b),p.onDisposeEmitter=p._register(new On.b),p.visibleDisposables=p._register(new J.c),p.onDidHide=p.onDidHideEmitter.event,p}return Object(x.a)(b,[{key:"title",get:function(){return this._title},set:function(p){this._title=p,this.update()}},{key:"description",get:function(){return this._description},set:function(p){this._description=p,this.update()}},{key:"step",get:function(){return this._steps},set:function(p){this._steps=p,this.update()}},{key:"totalSteps",get:function(){return this._totalSteps},set:function(p){this._totalSteps=p,this.update()}},{key:"enabled",get:function(){return this._enabled},set:function(p){this._enabled=p,this.update()}},{key:"contextKey",get:function(){return this._contextKey},set:function(p){this._contextKey=p,this.update()}},{key:"busy",get:function(){return this._busy},set:function(p){this._busy=p,this.update()}},{key:"ignoreFocusOut",get:function(){return this._ignoreFocusOut},set:function(p){var P=this._ignoreFocusOut!==p&&!Dt.f;this._ignoreFocusOut=p&&!Dt.f,P&&this.update()}},{key:"buttons",get:function(){return this._buttons},set:function(p){this._buttons=p,this.buttonsUpdated=!0,this.update()}},{key:"toggles",get:function(){return this._toggles},set:function(p){this._toggles=p!=null?p:[],this.togglesUpdated=!0,this.update()}},{key:"validationMessage",get:function(){return this._validationMessage},set:function(p){this._validationMessage=p,this.update()}},{key:"severity",get:function(){return this._severity},set:function(p){this._severity=p,this.update()}},{key:"show",value:function(){var p=this;this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(function(P){p.buttons.indexOf(P)!==-1&&p.onDidTriggerButtonEmitter.fire(P)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}},{key:"hide",value:function(){!this.visible||this.ui.hide()}},{key:"didHide",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cs.d.Other;this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:p})}},{key:"update",value:function(){var p=this,P,X;if(!!this.visible){var Se=this.getTitle();Se&&this.ui.title.textContent!==Se?this.ui.title.textContent=Se:!Se&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");var Ae=this.getDescription();if(this.ui.description1.textContent!==Ae&&(this.ui.description1.textContent=Ae),this.ui.description2.textContent!==Ae&&(this.ui.description2.textContent=Ae),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?It.reset(this.ui.widget,this._widget):It.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new et.i,this.busyDelay.setIfNotSet(function(){p.visible&&p.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();var qe=this.buttons.filter(function(cn){return cn===Ql});this.ui.leftActionBar.push(qe.map(function(cn,Mn){var gi=new eo.a("id-".concat(Mn),"",cn.iconClass||Vs(cn.iconPath),!0,function(){return Gs(p,void 0,void 0,Object(E.a)().mark(function Zn(){return Object(E.a)().wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:this.onDidTriggerButtonEmitter.fire(cn);case 1:case"end":return Un.stop()}},Zn,this)}))});return gi.tooltip=cn.tooltip||"",gi}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();var rt=this.buttons.filter(function(cn){return cn!==Ql});this.ui.rightActionBar.push(rt.map(function(cn,Mn){var gi=new eo.a("id-".concat(Mn),"",cn.iconClass||Vs(cn.iconPath),!0,function(){return Gs(p,void 0,void 0,Object(E.a)().mark(function Zn(){return Object(E.a)().wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:this.onDidTriggerButtonEmitter.fire(cn);case 1:case"end":return Un.stop()}},Zn,this)}))});return gi.tooltip=cn.tooltip||"",gi}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;var ct=(X=(P=this.toggles)===null||P===void 0?void 0:P.filter(function(cn){return cn instanceof Tu.a}))!==null&&X!==void 0?X:[];this.ui.inputBox.toggles=ct}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);var Xt=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==Xt&&(this._lastValidationMessage=Xt,It.reset(this.ui.message),Ks(Xt,this.ui.message,{callback:function(Mn){p.ui.linkOpenerDelegate(Mn)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}}},{key:"getTitle",value:function(){return this.title&&this.step?"".concat(this.title," (").concat(this.getSteps(),")"):this.title?this.title:this.step?this.getSteps():""}},{key:"getDescription",value:function(){return this.description||""}},{key:"getSteps",value:function(){return this.step&&this.totalSteps?Object(bn.b)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}},{key:"showMessageDecoration",value:function(p){if(this.ui.inputBox.showDecoration(p),p!==rn.a.Ignore){var P=this.ui.inputBox.stylesForType(p);this.ui.message.style.color=P.foreground?"".concat(P.foreground):"",this.ui.message.style.backgroundColor=P.background?"".concat(P.background):"",this.ui.message.style.border=P.border?"1px solid ".concat(P.border):"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}},{key:"dispose",value:function(){this.hide(),this.onDisposeEmitter.fire(),Object(Ye.a)(Object(ot.a)(b.prototype),"dispose",this).call(this)}}]),b}(J.a);Ru.noPromptMessage=Object(bn.b)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");var mu=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(){var _;return Object(C.a)(this,b),_=ae.apply(this,arguments),_._value="",_.onDidChangeValueEmitter=_._register(new On.b),_.onWillAcceptEmitter=_._register(new On.b),_.onDidAcceptEmitter=_._register(new On.b),_.onDidCustomEmitter=_._register(new On.b),_._items=[],_.itemsUpdated=!1,_._canSelectMany=!1,_._canAcceptInBackground=!1,_._matchOnDescription=!1,_._matchOnDetail=!1,_._matchOnLabel=!0,_._matchOnLabelMode="fuzzy",_._sortByLabel=!0,_._autoFocusOnList=!0,_._keepScrollPosition=!1,_._itemActivation=Cs.b.FIRST,_._activeItems=[],_.activeItemsUpdated=!1,_.activeItemsToConfirm=[],_.onDidChangeActiveEmitter=_._register(new On.b),_._selectedItems=[],_.selectedItemsUpdated=!1,_.selectedItemsToConfirm=[],_.onDidChangeSelectionEmitter=_._register(new On.b),_.onDidTriggerItemButtonEmitter=_._register(new On.b),_.onDidTriggerSeparatorButtonEmitter=_._register(new On.b),_.valueSelectionUpdated=!0,_._ok="default",_._customButton=!1,_.filterValue=function(p){return p},_.onDidChangeValue=_.onDidChangeValueEmitter.event,_.onWillAccept=_.onWillAcceptEmitter.event,_.onDidAccept=_.onDidAcceptEmitter.event,_.onDidChangeActive=_.onDidChangeActiveEmitter.event,_.onDidChangeSelection=_.onDidChangeSelectionEmitter.event,_.onDidTriggerItemButton=_.onDidTriggerItemButtonEmitter.event,_.onDidTriggerSeparatorButton=_.onDidTriggerSeparatorButtonEmitter.event,_}return Object(x.a)(b,[{key:"quickNavigate",get:function(){return this._quickNavigate},set:function(p){this._quickNavigate=p,this.update()}},{key:"value",get:function(){return this._value},set:function(p){this.doSetValue(p)}},{key:"doSetValue",value:function(p,P){if(this._value!==p){if(this._value=p,P||this.update(),this.visible){var X=this.ui.list.filter(this.filterValue(this._value));X&&this.trySelectFirst()}this.onDidChangeValueEmitter.fire(this._value)}}},{key:"ariaLabel",get:function(){return this._ariaLabel},set:function(p){this._ariaLabel=p,this.update()}},{key:"placeholder",get:function(){return this._placeholder},set:function(p){this._placeholder=p,this.update()}},{key:"items",get:function(){return this._items},set:function(p){this._items=p,this.itemsUpdated=!0,this.update()}},{key:"scrollTop",get:function(){return this.ui.list.scrollTop},set:function(p){this.ui.list.scrollTop=p}},{key:"canSelectMany",get:function(){return this._canSelectMany},set:function(p){this._canSelectMany=p,this.update()}},{key:"canAcceptInBackground",get:function(){return this._canAcceptInBackground},set:function(p){this._canAcceptInBackground=p}},{key:"matchOnDescription",get:function(){return this._matchOnDescription},set:function(p){this._matchOnDescription=p,this.update()}},{key:"matchOnDetail",get:function(){return this._matchOnDetail},set:function(p){this._matchOnDetail=p,this.update()}},{key:"matchOnLabel",get:function(){return this._matchOnLabel},set:function(p){this._matchOnLabel=p,this.update()}},{key:"matchOnLabelMode",get:function(){return this._matchOnLabelMode},set:function(p){this._matchOnLabelMode=p,this.update()}},{key:"sortByLabel",get:function(){return this._sortByLabel},set:function(p){this._sortByLabel=p,this.update()}},{key:"autoFocusOnList",get:function(){return this._autoFocusOnList},set:function(p){this._autoFocusOnList=p,this.update()}},{key:"keepScrollPosition",get:function(){return this._keepScrollPosition},set:function(p){this._keepScrollPosition=p}},{key:"itemActivation",get:function(){return this._itemActivation},set:function(p){this._itemActivation=p}},{key:"activeItems",get:function(){return this._activeItems},set:function(p){this._activeItems=p,this.activeItemsUpdated=!0,this.update()}},{key:"selectedItems",get:function(){return this._selectedItems},set:function(p){this._selectedItems=p,this.selectedItemsUpdated=!0,this.update()}},{key:"keyMods",get:function(){return this._quickNavigate?Cs.c:this.ui.keyMods}},{key:"valueSelection",set:function(p){this._valueSelection=p,this.valueSelectionUpdated=!0,this.update()}},{key:"customButton",get:function(){return this._customButton},set:function(p){this._customButton=p,this.update()}},{key:"customLabel",get:function(){return this._customButtonLabel},set:function(p){this._customButtonLabel=p,this.update()}},{key:"customHover",get:function(){return this._customButtonHover},set:function(p){this._customButtonHover=p,this.update()}},{key:"ok",get:function(){return this._ok},set:function(p){this._ok=p,this.update()}},{key:"hideInput",get:function(){return!!this._hideInput},set:function(p){this._hideInput=p,this.update()}},{key:"trySelectFirst",value:function(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Bo.First))}},{key:"show",value:function(){var p=this;this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(function(P){p.doSetValue(P,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(function(P){p.autoFocusOnList||p.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(function(P){switch(P.keyCode){case 18:p.ui.list.focus(Bo.Next),p.canSelectMany&&p.ui.list.domFocus(),It.EventHelper.stop(P,!0);break;case 16:p.ui.list.getFocusedElements().length?p.ui.list.focus(Bo.Previous):p.ui.list.focus(Bo.Last),p.canSelectMany&&p.ui.list.domFocus(),It.EventHelper.stop(P,!0);break;case 12:p.ui.list.focus(Bo.NextPage),p.canSelectMany&&p.ui.list.domFocus(),It.EventHelper.stop(P,!0);break;case 11:p.ui.list.focus(Bo.PreviousPage),p.canSelectMany&&p.ui.list.domFocus(),It.EventHelper.stop(P,!0);break;case 17:if(!p._canAcceptInBackground||!p.ui.inputBox.isSelectionAtEnd())return;p.activeItems[0]&&(p._selectedItems=[p.activeItems[0]],p.onDidChangeSelectionEmitter.fire(p.selectedItems),p.handleAccept(!0));break;case 14:(P.ctrlKey||P.metaKey)&&!P.shiftKey&&!P.altKey&&(p.ui.list.focus(Bo.First),It.EventHelper.stop(P,!0));break;case 13:(P.ctrlKey||P.metaKey)&&!P.shiftKey&&!P.altKey&&(p.ui.list.focus(Bo.Last),It.EventHelper.stop(P,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(function(){p.canSelectMany?p.ui.list.getCheckedElements().length||(p._selectedItems=[],p.onDidChangeSelectionEmitter.fire(p.selectedItems)):p.activeItems[0]&&(p._selectedItems=[p.activeItems[0]],p.onDidChangeSelectionEmitter.fire(p.selectedItems)),p.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(function(){p.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(function(P){p.activeItemsUpdated||p.activeItemsToConfirm!==p._activeItems&&Object(Zo.j)(P,p._activeItems,function(X,Se){return X===Se})||(p._activeItems=P,p.onDidChangeActiveEmitter.fire(P))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(function(P){var X=P.items,Se=P.event;if(p.canSelectMany){X.length&&p.ui.list.setSelectedElements([]);return}p.selectedItemsToConfirm!==p._selectedItems&&Object(Zo.j)(X,p._selectedItems,function(Ae,qe){return Ae===qe})||(p._selectedItems=X,p.onDidChangeSelectionEmitter.fire(X),X.length&&p.handleAccept(Se instanceof MouseEvent&&Se.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(function(P){!p.canSelectMany||p.selectedItemsToConfirm!==p._selectedItems&&Object(Zo.j)(P,p._selectedItems,function(X,Se){return X===Se})||(p._selectedItems=P,p.onDidChangeSelectionEmitter.fire(P))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(function(P){return p.onDidTriggerItemButtonEmitter.fire(P)})),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(function(P){return p.onDidTriggerSeparatorButtonEmitter.fire(P)})),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),Object(Ye.a)(Object(ot.a)(b.prototype),"show",this).call(this)}},{key:"handleAccept",value:function(p){var P=!1;this.onWillAcceptEmitter.fire({veto:function(){return P=!0}}),P||this.onDidAcceptEmitter.fire({inBackground:p})}},{key:"registerQuickNavigation",value:function(){var p=this;return It.addDisposableListener(this.ui.container,It.EventType.KEY_UP,function(P){if(!(p.canSelectMany||!p._quickNavigate)){var X=new zi.a(P),Se=X.keyCode,Ae=p._quickNavigate.keybindings,qe=Ae.some(function(rt){var ct=rt.getChords();return ct.length>1?!1:ct[0].shiftKey&&Se===4?!(X.ctrlKey||X.altKey||X.metaKey):!!(ct[0].altKey&&Se===6||ct[0].ctrlKey&&Se===5||ct[0].metaKey&&Se===57)});qe&&(p.activeItems[0]&&(p._selectedItems=[p.activeItems[0]],p.onDidChangeSelectionEmitter.fire(p.selectedItems),p.handleAccept(!1)),p._quickNavigate=void 0)}})}},{key:"update",value:function(){if(!!this.visible){var p=this.keepScrollPosition?this.scrollTop:0,P=!!this.description,X={title:!!this.title||!!this.step||!!this.buttons.length,description:P,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||P,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(X),Object(Ye.a)(Object(ot.a)(b.prototype),"update",this).call(this),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");var Se=this.ariaLabel;if(!Se&&X.inputBox&&(Se=this.placeholder||b.DEFAULT_ARIA_LABEL,this.title&&(Se+=" - ".concat(this.title))),this.ui.list.ariaLabel!==Se&&(this.ui.list.ariaLabel=Object(Hr.o)(Se)),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Cs.b.NONE:this._itemActivation=Cs.b.FIRST;break;case Cs.b.SECOND:this.ui.list.focus(Bo.Second),this._itemActivation=Cs.b.FIRST;break;case Cs.b.LAST:this.ui.list.focus(Bo.Last),this._itemActivation=Cs.b.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",X.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Bo.First)),this.keepScrollPosition&&(this.scrollTop=p)}}}]),b}(Ru);mu.DEFAULT_ARIA_LABEL=Object(bn.b)("quickInputBox.ariaLabel","Type to narrow down results.");var bd=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(){var _;return Object(C.a)(this,b),_=ae.apply(this,arguments),_._value="",_.valueSelectionUpdated=!0,_._password=!1,_.onDidValueChangeEmitter=_._register(new On.b),_.onDidAcceptEmitter=_._register(new On.b),_.onDidChangeValue=_.onDidValueChangeEmitter.event,_.onDidAccept=_.onDidAcceptEmitter.event,_}return Object(x.a)(b,[{key:"value",get:function(){return this._value},set:function(p){this._value=p||"",this.update()}},{key:"placeholder",get:function(){return this._placeholder},set:function(p){this._placeholder=p,this.update()}},{key:"password",get:function(){return this._password},set:function(p){this._password=p,this.update()}},{key:"show",value:function(){var p=this;this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(function(P){P!==p.value&&(p._value=P,p.onDidValueChangeEmitter.fire(P))})),this.visibleDisposables.add(this.ui.onDidAccept(function(){return p.onDidAcceptEmitter.fire()})),this.valueSelectionUpdated=!0),Object(Ye.a)(Object(ot.a)(b.prototype),"show",this).call(this)}},{key:"update",value:function(){if(!!this.visible){this.ui.container.classList.remove("hidden-input");var p={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0};this.ui.setVisibilities(p),Object(Ye.a)(Object(ot.a)(b.prototype),"update",this).call(this),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}}]),b}(Ru),wo=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_){var p;return Object(C.a)(this,b),p=ae.call(this),p.options=_,p.enabled=!0,p.onDidAcceptEmitter=p._register(new On.b),p.onDidCustomEmitter=p._register(new On.b),p.onDidTriggerButtonEmitter=p._register(new On.b),p.keyMods={ctrlCmd:!1,alt:!1},p.controller=null,p.onShowEmitter=p._register(new On.b),p.onShow=p.onShowEmitter.event,p.onHideEmitter=p._register(new On.b),p.onHide=p.onHideEmitter.event,p.idPrefix=_.idPrefix,p.parentElement=_.container,p.styles=_.styles,p.registerKeyModsListeners(),p}return Object(x.a)(b,[{key:"registerKeyModsListeners",value:function(){var p=this,P=function(Se){p.keyMods.ctrlCmd=Se.ctrlKey||Se.metaKey,p.keyMods.alt=Se.altKey};this._register(It.addDisposableListener(window,It.EventType.KEY_DOWN,P,!0)),this._register(It.addDisposableListener(window,It.EventType.KEY_UP,P,!0)),this._register(It.addDisposableListener(window,It.EventType.MOUSE_DOWN,P,!0))}},{key:"getUI",value:function(){var p=this;if(this.ui)return this.ui;var P=It.append(this.parentElement,ws(".quick-input-widget.show-file-icons"));P.tabIndex=-1,P.style.display="none";var X=It.createStyleSheet(P),Se=It.append(P,ws(".quick-input-titlebar")),Ae=this._register(new ks.a(Se));Ae.domNode.classList.add("quick-input-left-action-bar");var qe=It.append(Se,ws(".quick-input-title")),rt=this._register(new ks.a(Se));rt.domNode.classList.add("quick-input-right-action-bar");var ct=It.append(P,ws(".quick-input-description")),Xt=It.append(P,ws(".quick-input-header")),cn=It.append(Xt,ws("input.quick-input-check-all"));cn.type="checkbox",cn.setAttribute("aria-label",Object(bn.b)("quickInput.checkAll","Toggle all checkboxes")),this._register(It.addStandardDisposableListener(cn,It.EventType.CHANGE,function(wa){var qr=cn.checked;Xa.setAllVisibleChecked(qr)})),this._register(It.addDisposableListener(cn,It.EventType.CLICK,function(wa){(wa.x||wa.y)&&di.setFocus()}));var Mn=It.append(Xt,ws(".quick-input-description")),gi=It.append(Xt,ws(".quick-input-and-message")),Zn=It.append(gi,ws(".quick-input-filter")),di=this._register(new Bs(Zn,this.styles.inputBox,this.styles.toggle));di.setAttribute("aria-describedby","".concat(this.idPrefix,"message"));var Un=It.append(Zn,ws(".quick-input-visible-count"));Un.setAttribute("aria-live","polite"),Un.setAttribute("aria-atomic","true");var qn=new fu.a(Un,{countFormat:Object(bn.b)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),ur=It.append(Zn,ws(".quick-input-count"));ur.setAttribute("aria-live","polite");var _r=new fu.a(ur,{countFormat:Object(bn.b)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),cr=It.append(Xt,ws(".quick-input-action")),Zr=new Tl.a(cr,this.styles.button);Zr.label=Object(bn.b)("ok","OK"),this._register(Zr.onDidClick(function(wa){p.onDidAcceptEmitter.fire()}));var Kr=It.append(Xt,ws(".quick-input-action")),Jr=new Tl.a(Kr,this.styles.button);Jr.label=Object(bn.b)("custom","Custom"),this._register(Jr.onDidClick(function(wa){p.onDidCustomEmitter.fire()}));var pa=It.append(gi,ws("#".concat(this.idPrefix,"message.quick-input-message"))),Ma=new Jd(P,this.styles.progressBar);Ma.getContainer().classList.add("quick-input-progress");var Vo=It.append(P,ws(".quick-input-html-widget"));Vo.tabIndex=-1;var vs=this.idPrefix+"list",Xa=this._register(new Xc(P,vs,this.options));di.setAttribute("aria-controls",vs),this._register(Xa.onDidChangeFocus(function(){var wa;di.setAttribute("aria-activedescendant",(wa=Xa.getActiveDescendant())!==null&&wa!==void 0?wa:"")})),this._register(Xa.onChangedAllVisibleChecked(function(wa){cn.checked=wa})),this._register(Xa.onChangedVisibleCount(function(wa){qn.setCount(wa)})),this._register(Xa.onChangedCheckedCount(function(wa){_r.setCount(wa)})),this._register(Xa.onLeave(function(){setTimeout(function(){di.setFocus(),p.controller instanceof mu&&p.controller.canSelectMany&&Xa.clearFocus()},0)}));var Ea=It.trackFocus(P);return this._register(Ea),this._register(It.addDisposableListener(P,It.EventType.FOCUS,function(wa){p.previousFocusElement=wa.relatedTarget instanceof HTMLElement?wa.relatedTarget:void 0},!0)),this._register(Ea.onDidBlur(function(){!p.getUI().ignoreFocusOut&&!p.options.ignoreFocusOut()&&p.hide(Cs.d.Blur),p.previousFocusElement=void 0})),this._register(It.addDisposableListener(P,It.EventType.FOCUS,function(wa){di.setFocus()})),this._register(It.addDisposableListener(P,It.EventType.KEY_DOWN,function(wa){var qr=new zi.a(wa);switch(qr.keyCode){case 3:It.EventHelper.stop(wa,!0),p.enabled&&p.onDidAcceptEmitter.fire();break;case 9:It.EventHelper.stop(wa,!0),p.hide(Cs.d.Gesture);break;case 2:if(!qr.altKey&&!qr.ctrlKey&&!qr.metaKey){var Ua=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(P.classList.contains("show-checkboxes")?Ua.push("input"):Ua.push("input[type=text]"),p.getUI().list.isDisplayed()&&Ua.push(".monaco-list"),p.getUI().message&&Ua.push(".quick-input-message a"),p.getUI().widget){if(It.isAncestor(qr.target,p.getUI().widget))break;Ua.push(".quick-input-html-widget")}var to=P.querySelectorAll(Ua.join(", "));qr.shiftKey&&qr.target===to[0]?(It.EventHelper.stop(wa,!0),Xa.clearFocus()):!qr.shiftKey&&It.isAncestor(qr.target,to[to.length-1])&&(It.EventHelper.stop(wa,!0),to[0].focus())}break;case 10:qr.ctrlKey&&(It.EventHelper.stop(wa,!0),p.getUI().list.toggleHover());break}})),this.ui={container:P,styleSheet:X,leftActionBar:Ae,titleBar:Se,title:qe,description1:ct,description2:Mn,widget:Vo,rightActionBar:rt,checkAll:cn,filterContainer:Zn,inputBox:di,visibleCountContainer:Un,visibleCount:qn,countContainer:ur,count:_r,okContainer:cr,ok:Zr,message:pa,customButtonContainer:Kr,customButton:Jr,list:Xa,progressBar:Ma,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:function(qr){return p.show(qr)},hide:function(){return p.hide()},setVisibilities:function(qr){return p.setVisibilities(qr)},setEnabled:function(qr){return p.setEnabled(qr)},setContextKey:function(qr){return p.options.setContextKey(qr)},linkOpenerDelegate:function(qr){return p.options.linkOpenerDelegate(qr)}},this.updateStyles(),this.ui}},{key:"pick",value:function(p){var P=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uu.a.None;return new Promise(function(Ae,qe){var rt=function(gi){var Zn;rt=Ae,(Zn=X.onKeyMods)===null||Zn===void 0||Zn.call(X,ct.keyMods),Ae(gi)};if(Se.isCancellationRequested){rt(void 0);return}var ct=P.createQuickPick(),Xt,cn=[ct,ct.onDidAccept(function(){if(ct.canSelectMany)rt(ct.selectedItems.slice()),ct.hide();else{var Mn=ct.activeItems[0];Mn&&(rt(Mn),ct.hide())}}),ct.onDidChangeActive(function(Mn){var gi=Mn[0];gi&&X.onDidFocus&&X.onDidFocus(gi)}),ct.onDidChangeSelection(function(Mn){if(!ct.canSelectMany){var gi=Mn[0];gi&&(rt(gi),ct.hide())}}),ct.onDidTriggerItemButton(function(Mn){return X.onDidTriggerItemButton&&X.onDidTriggerItemButton(Object.assign(Object.assign({},Mn),{removeItem:function(){var Zn=ct.items.indexOf(Mn.item);if(Zn!==-1){var di=ct.items.slice(),Un=di.splice(Zn,1),qn=ct.activeItems.filter(function(_r){return _r!==Un[0]}),ur=ct.keepScrollPosition;ct.keepScrollPosition=!0,ct.items=di,qn&&(ct.activeItems=qn),ct.keepScrollPosition=ur}}}))}),ct.onDidTriggerSeparatorButton(function(Mn){var gi;return(gi=X.onDidTriggerSeparatorButton)===null||gi===void 0?void 0:gi.call(X,Mn)}),ct.onDidChangeValue(function(Mn){Xt&&!Mn&&(ct.activeItems.length!==1||ct.activeItems[0]!==Xt)&&(ct.activeItems=[Xt])}),Se.onCancellationRequested(function(){ct.hide()}),ct.onDidHide(function(){Object(J.i)(cn),rt(void 0)})];ct.title=X.title,ct.canSelectMany=!!X.canPickMany,ct.placeholder=X.placeHolder,ct.ignoreFocusOut=!!X.ignoreFocusLost,ct.matchOnDescription=!!X.matchOnDescription,ct.matchOnDetail=!!X.matchOnDetail,ct.matchOnLabel=X.matchOnLabel===void 0||X.matchOnLabel,ct.autoFocusOnList=X.autoFocusOnList===void 0||X.autoFocusOnList,ct.quickNavigate=X.quickNavigate,ct.hideInput=!!X.hideInput,ct.contextKey=X.contextKey,ct.busy=!0,Promise.all([p,X.activeItem]).then(function(Mn){var gi=Object(qt.a)(Mn,2),Zn=gi[0],di=gi[1];Xt=di,ct.busy=!1,ct.items=Zn,ct.canSelectMany&&(ct.selectedItems=Zn.filter(function(Un){return Un.type!=="separator"&&Un.picked})),Xt&&(ct.activeItems=[Xt])}),ct.show(),Promise.resolve(p).then(void 0,function(Mn){qe(Mn),ct.hide()})})}},{key:"createQuickPick",value:function(){var p=this.getUI();return new mu(p)}},{key:"createInputBox",value:function(){var p=this.getUI();return new bd(p)}},{key:"show",value:function(p){var P=this.getUI();this.onShowEmitter.fire();var X=this.controller;this.controller=p,X==null||X.didHide(),this.setEnabled(!0),P.leftActionBar.clear(),P.title.textContent="",P.description1.textContent="",P.description2.textContent="",It.reset(P.widget),P.rightActionBar.clear(),P.checkAll.checked=!1,P.inputBox.placeholder="",P.inputBox.password=!1,P.inputBox.showDecoration(rn.a.Ignore),P.visibleCount.setCount(0),P.count.setCount(0),It.reset(P.message),P.progressBar.stop(),P.list.setElements([]),P.list.matchOnDescription=!1,P.list.matchOnDetail=!1,P.list.matchOnLabel=!0,P.list.sortByLabel=!0,P.ignoreFocusOut=!1,P.inputBox.toggles=void 0;var Se=this.options.backKeybindingLabel();Ql.tooltip=Se?Object(bn.b)("quickInput.backWithKeybinding","Back ({0})",Se):Object(bn.b)("quickInput.back","Back"),P.container.style.display="",this.updateLayout(),P.inputBox.setFocus()}},{key:"setVisibilities",value:function(p){var P=this.getUI();P.title.style.display=p.title?"":"none",P.description1.style.display=p.description&&(p.inputBox||p.checkAll)?"":"none",P.description2.style.display=p.description&&!(p.inputBox||p.checkAll)?"":"none",P.checkAll.style.display=p.checkAll?"":"none",P.filterContainer.style.display=p.inputBox?"":"none",P.visibleCountContainer.style.display=p.visibleCount?"":"none",P.countContainer.style.display=p.count?"":"none",P.okContainer.style.display=p.ok?"":"none",P.customButtonContainer.style.display=p.customButton?"":"none",P.message.style.display=p.message?"":"none",P.progressBar.getContainer().style.display=p.progressBar?"":"none",P.list.display(!!p.list),P.container.classList.toggle("show-checkboxes",!!p.checkBox),P.container.classList.toggle("hidden-input",!p.inputBox&&!p.description),this.updateLayout()}},{key:"setEnabled",value:function(p){if(p!==this.enabled){this.enabled=p;var P=Object(j.a)(this.getUI().leftActionBar.viewItems),X;try{for(P.s();!(X=P.n()).done;){var Se=X.value;Se.action.enabled=p}}catch(ct){P.e(ct)}finally{P.f()}var Ae=Object(j.a)(this.getUI().rightActionBar.viewItems),qe;try{for(Ae.s();!(qe=Ae.n()).done;){var rt=qe.value;rt.action.enabled=p}}catch(ct){Ae.e(ct)}finally{Ae.f()}this.getUI().checkAll.disabled=!p,this.getUI().inputBox.enabled=p,this.getUI().ok.enabled=p,this.getUI().list.enabled=p}}},{key:"hide",value:function(p){var P,X=this.controller;if(X){var Se=!((P=this.ui)===null||P===void 0?void 0:P.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!Se){for(var Ae=this.previousFocusElement;Ae&&!Ae.offsetParent;)Ae=Object(Hr.n)(Ae.parentElement);(Ae==null?void 0:Ae.offsetParent)?(Ae.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}X.didHide(p)}}},{key:"layout",value:function(p,P){this.dimension=p,this.titleBarOffset=P,this.updateLayout()}},{key:"updateLayout",value:function(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top="".concat(this.titleBarOffset,"px");var p=this.ui.container.style,P=Math.min(this.dimension.width*.62,b.MAX_WIDTH);p.width=P+"px",p.marginLeft="-"+P/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}},{key:"applyStyles",value:function(p){this.styles=p,this.updateStyles()}},{key:"updateStyles",value:function(){if(this.ui){var p=this.styles.widget,P=p.quickInputTitleBackground,X=p.quickInputBackground,Se=p.quickInputForeground,Ae=p.widgetBorder,qe=p.widgetShadow;this.ui.titleBar.style.backgroundColor=P!=null?P:"",this.ui.container.style.backgroundColor=X!=null?X:"",this.ui.container.style.color=Se!=null?Se:"",this.ui.container.style.border=Ae?"1px solid ".concat(Ae):"",this.ui.container.style.boxShadow=qe?"0 0 8px 2px ".concat(qe):"",this.ui.list.style(this.styles.list);var rt=[];this.styles.pickerGroup.pickerGroupBorder&&rt.push(".quick-input-list .quick-input-list-entry { border-top-color:  ".concat(this.styles.pickerGroup.pickerGroupBorder,"; }")),this.styles.pickerGroup.pickerGroupForeground&&rt.push(".quick-input-list .quick-input-list-separator { color:  ".concat(this.styles.pickerGroup.pickerGroupForeground,"; }")),this.styles.pickerGroup.pickerGroupForeground&&rt.push(".quick-input-list .quick-input-list-separator-as-item { color:  ".concat(this.styles.pickerGroup.pickerGroupForeground,"; }")),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(rt.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&rt.push("background-color: ".concat(this.styles.keybindingLabel.keybindingLabelBackground,";")),this.styles.keybindingLabel.keybindingLabelBorder&&rt.push("border-color: ".concat(this.styles.keybindingLabel.keybindingLabelBorder,";")),this.styles.keybindingLabel.keybindingLabelBottomBorder&&rt.push("border-bottom-color: ".concat(this.styles.keybindingLabel.keybindingLabelBottomBorder,";")),this.styles.keybindingLabel.keybindingLabelShadow&&rt.push("box-shadow: inset 0 -1px 0 ".concat(this.styles.keybindingLabel.keybindingLabelShadow,";")),this.styles.keybindingLabel.keybindingLabelForeground&&rt.push("color: ".concat(this.styles.keybindingLabel.keybindingLabelForeground,";")),rt.push("}"));var ct=rt.join(`
`);ct!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=ct)}}},{key:"isDisplayed",value:function(){return this.ui&&this.ui.container.style.display!=="none"}}]),b}(J.a);wo.MAX_WIDTH=600;var ef=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},wc=function(se,ae){return function(b,_){ae(b,_,se)}},ec=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X){var Se;return Object(C.a)(this,b),Se=ae.call(this,P),Se.instantiationService=_,Se.contextKeyService=p,Se.layoutService=X,Se._onShow=Se._register(new On.b),Se._onHide=Se._register(new On.b),Se.contexts=new Map,Se}return Object(x.a)(b,[{key:"controller",get:function(){return this._controller||(this._controller=this._register(this.createController())),this._controller}},{key:"hasController",get:function(){return!!this._controller}},{key:"quickAccess",get:function(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(hu))),this._quickAccess}},{key:"createController",value:function(){var p=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.layoutService,X=arguments.length>1?arguments[1]:void 0,Se={idPrefix:"quickInput_",container:P.container,ignoreFocusOut:function(){return!1},backKeybindingLabel:function(){},setContextKey:function(rt){return p.setContextKey(rt)},linkOpenerDelegate:function(rt){p.instantiationService.invokeFunction(function(ct){var Xt=ct.get(Ms.a);Xt.open(rt,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:function(){return P.focus()},createList:function(rt,ct,Xt,cn,Mn){return p.instantiationService.createInstance(zl.d,rt,ct,Xt,cn,Mn)},hoverDelegate:{showHover:function(rt,ct){},delay:200},styles:this.computeStyles()},Ae=this._register(new wo(Object.assign(Object.assign({},Se),X)));return Ae.layout(P.dimension,P.offset.quickPickTop),this._register(P.onDidLayout(function(qe){return Ae.layout(qe,P.offset.quickPickTop)})),this._register(Ae.onShow(function(){p.resetContextKeys(),p._onShow.fire()})),this._register(Ae.onHide(function(){p.resetContextKeys(),p._onHide.fire()})),Ae}},{key:"setContextKey",value:function(p){var P;p&&(P=this.contexts.get(p),P||(P=new Pi.c(p,!1).bindTo(this.contextKeyService),this.contexts.set(p,P))),!(P&&P.get())&&(this.resetContextKeys(),P==null||P.set(!0))}},{key:"resetContextKeys",value:function(){this.contexts.forEach(function(p){p.get()&&p.reset()})}},{key:"pick",value:function(p){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uu.a.None;return this.controller.pick(p,P,X)}},{key:"createQuickPick",value:function(){return this.controller.createQuickPick()}},{key:"createInputBox",value:function(){return this.controller.createInputBox()}},{key:"updateStyles",value:function(){this.hasController&&this.controller.applyStyles(this.computeStyles())}},{key:"computeStyles",value:function(){return{widget:{quickInputBackground:Object(_o.c)(_o.zc),quickInputForeground:Object(_o.c)(_o.Ac),quickInputTitleBackground:Object(_o.c)(_o.Ec),widgetBorder:Object(_o.c)(_o.Vc),widgetShadow:Object(_o.c)(_o.Wc)},inputBox:xs.d,toggle:xs.j,countBadge:xs.b,button:xs.a,progressBar:xs.h,keybindingLabel:xs.e,list:Object(xs.k)({listBackground:_o.zc,listFocusBackground:_o.Bc,listFocusForeground:_o.Cc,listInactiveFocusForeground:_o.Cc,listInactiveSelectionIconForeground:_o.Dc,listInactiveFocusBackground:_o.Bc,listFocusOutline:_o.b,listInactiveFocusOutline:_o.b}),pickerGroup:{pickerGroupBorder:Object(_o.c)(_o.tc),pickerGroupForeground:Object(_o.c)(_o.uc)}}}}]),b}(ci.c);ec=ef([wc(0,mi.a),wc(1,Pi.b),wc(2,ci.b),wc(3,hn)],ec);var Jc=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},pu=function(se,ae){return function(b,_){ae(b,_,se)}},tc=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X,Se){var Ae;Object(C.a)(this,b),Ae=ae.call(this,p,P,X,new wn(_.getContainerDomNode(),Se)),Ae.host=void 0;var qe=jc.get(_);if(qe){var rt=qe.widget;Ae.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return rt.getDomNode()},get dimension(){return _.getLayoutInfo()},get onDidLayout(){return _.onDidLayoutChange},focus:function(){return _.focus()},offset:{top:0,quickPickTop:0}}}else Ae.host=void 0;return Ae}return Object(x.a)(b,[{key:"createController",value:function(){return Object(Ye.a)(Object(ot.a)(b.prototype),"createController",this).call(this,this.host)}}]),b}(ec);tc=Jc([pu(1,mi.a),pu(2,Pi.b),pu(3,ci.b),pu(4,L.a)],tc);var Nu=function(){function se(ae,b){Object(C.a)(this,se),this.instantiationService=ae,this.codeEditorService=b,this.mapEditorToService=new Map}return Object(x.a)(se,[{key:"activeService",get:function(){var b=this,_=this.codeEditorService.getFocusedCodeEditor();if(!_)throw new Error("Quick input service needs a focused editor to work.");var p=this.mapEditorToService.get(_);if(!p){var P=p=this.instantiationService.createInstance(tc,_);this.mapEditorToService.set(_,p),Object(Mu.a)(_.onDidDispose)(function(){P.dispose(),b.mapEditorToService.delete(_)})}return p}},{key:"quickAccess",get:function(){return this.activeService.quickAccess}},{key:"pick",value:function(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uu.a.None;return this.activeService.pick(b,_,p)}},{key:"createQuickPick",value:function(){return this.activeService.createQuickPick()}},{key:"createInputBox",value:function(){return this.activeService.createInputBox()}}]),se}();Nu=Jc([pu(0,mi.a),pu(1,L.a)],Nu);var jc=function(){function se(ae){Object(C.a)(this,se),this.editor=ae,this.widget=new Pl(this.editor)}return Object(x.a)(se,[{key:"dispose",value:function(){this.widget.dispose()}}],[{key:"get",value:function(b){return b.getContribution(se.ID)}}]),se}();jc.ID="editor.controller.quickInput";var Pl=function(){function se(ae){Object(C.a)(this,se),this.codeEditor=ae,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}return Object(x.a)(se,[{key:"getId",value:function(){return se.ID}},{key:"getDomNode",value:function(){return this.domNode}},{key:"getPosition",value:function(){return{preference:2}}},{key:"dispose",value:function(){this.codeEditor.removeOverlayWidget(this)}}]),se}();Pl.ID="editor.contrib.quickInputWidget",Object(Zu.m)(jc.ID,jc,4);var th=a("e0E1"),ze=a("C+7e"),Ce=a("R3nR"),v=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},m=function(se,ae){return function(b,_){ae(b,_,se)}},u=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P){var X;Object(C.a)(this,b),X=ae.call(this),X._contextKeyService=_,X._layoutService=p,X._configurationService=P,X._accessibilitySupport=0,X._onDidChangeScreenReaderOptimized=new On.b,X._onDidChangeReducedMotion=new On.b,X._accessibilityModeEnabledContext=Ce.a.bindTo(X._contextKeyService);var Se=function(){return X._accessibilityModeEnabledContext.set(X.isScreenReaderOptimized())};X._register(X._configurationService.onDidChangeConfiguration(function(qe){qe.affectsConfiguration("editor.accessibilitySupport")&&(Se(),X._onDidChangeScreenReaderOptimized.fire()),qe.affectsConfiguration("workbench.reduceMotion")&&(X._configMotionReduced=X._configurationService.getValue("workbench.reduceMotion"),X._onDidChangeReducedMotion.fire())})),Se(),X._register(X.onDidChangeScreenReaderOptimized(function(){return Se()}));var Ae=window.matchMedia("(prefers-reduced-motion: reduce)");return X._systemMotionReduced=Ae.matches,X._configMotionReduced=X._configurationService.getValue("workbench.reduceMotion"),X.initReducedMotionListeners(Ae),X}return Object(x.a)(b,[{key:"initReducedMotionListeners",value:function(p){var P=this;if(!!this._layoutService.hasContainer){this._register(Object(It.addDisposableListener)(p,"change",function(){P._systemMotionReduced=p.matches,P._configMotionReduced==="auto"&&P._onDidChangeReducedMotion.fire()}));var X=function(){var Ae=P.isMotionReduced();P._layoutService.container.classList.toggle("reduce-motion",Ae),P._layoutService.container.classList.toggle("enable-motion",!Ae)};X(),this._register(this.onDidChangeReducedMotion(function(){return X()}))}}},{key:"onDidChangeScreenReaderOptimized",get:function(){return this._onDidChangeScreenReaderOptimized.event}},{key:"isScreenReaderOptimized",value:function(){var p=this._configurationService.getValue("editor.accessibilitySupport");return p==="on"||p==="auto"&&this._accessibilitySupport===2}},{key:"onDidChangeReducedMotion",get:function(){return this._onDidChangeReducedMotion.event}},{key:"isMotionReduced",value:function(){var p=this._configMotionReduced;return p==="on"||p==="auto"&&this._systemMotionReduced}},{key:"getAccessibilitySupport",value:function(){return this._accessibilitySupport}}]),b}(J.a);u=v([m(0,Pi.b),m(1,hn),m(2,Ke.a)],u);var g=a("A+jI"),O=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},te=function(se,ae){return function(b,_){ae(b,_,se)}},Le=function(){function se(ae,b){Object(C.a)(this,se),this._commandService=ae,this._hiddenStates=new Me(b)}return Object(x.a)(se,[{key:"createMenu",value:function(b,_,p){return new Ot(b,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},p),this._commandService,_)}},{key:"resetHiddenStates",value:function(b){this._hiddenStates.reset(b)}}]),se}();Le=O([te(0,vo.b),te(1,g.a)],Le);var Me=function(){function se(ae){var b=this;Object(C.a)(this,se),this._storageService=ae,this._disposables=new J.c,this._onDidChange=new On.b,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{var _=ae.get(se._key,0,"{}");this._data=JSON.parse(_)}catch(p){this._data=Object.create(null)}this._disposables.add(ae.onDidChangeValue(function(p){if(p.key===se._key){if(!b._ignoreChangeEvent)try{var P=ae.get(se._key,0,"{}");b._data=JSON.parse(P)}catch(X){console.log("FAILED to read storage after UPDATE",X)}b._onDidChange.fire()}}))}return Object(x.a)(se,[{key:"dispose",value:function(){this._onDidChange.dispose(),this._disposables.dispose()}},{key:"_isHiddenByDefault",value:function(b,_){var p;return(p=this._hiddenByDefaultCache.get("".concat(b.id,"/").concat(_)))!==null&&p!==void 0?p:!1}},{key:"setDefaultState",value:function(b,_,p){this._hiddenByDefaultCache.set("".concat(b.id,"/").concat(_),p)}},{key:"isHidden",value:function(b,_){var p,P,X=this._isHiddenByDefault(b,_),Se=(P=(p=this._data[b.id])===null||p===void 0?void 0:p.includes(_))!==null&&P!==void 0?P:!1;return X?!Se:Se}},{key:"updateHidden",value:function(b,_,p){var P=this._isHiddenByDefault(b,_);P&&(p=!p);var X=this._data[b.id];if(p)if(!X)this._data[b.id]=[_];else{var Ae=X.indexOf(_);Ae<0&&X.push(_)}else if(X){var Se=X.indexOf(_);Se>=0&&Object(Zo.A)(X,Se),X.length===0&&delete this._data[b.id]}this._persist()}},{key:"reset",value:function(b){if(b===void 0)this._data=Object.create(null),this._persist();else{var _=Object(j.a)(b),p;try{for(_.s();!(p=_.n()).done;){var P=p.value,X=P.id;this._data[X]&&delete this._data[X]}}catch(Se){_.e(Se)}finally{_.f()}this._persist()}}},{key:"_persist",value:function(){try{this._ignoreChangeEvent=!0;var b=JSON.stringify(this._data);this._storageService.store(se._key,b,0,0)}finally{this._ignoreChangeEvent=!1}}}]),se}();Me._key="menu.hiddenCommands",Me=O([te(0,g.a)],Me);var at=function(){function se(ae,b,_,p,P){Object(C.a)(this,se),this._id=ae,this._hiddenStates=b,this._collectContextKeysForSubmenus=_,this._commandService=p,this._contextKeyService=P,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}return Object(x.a)(se,[{key:"structureContextKeys",get:function(){return this._structureContextKeys}},{key:"preconditionContextKeys",get:function(){return this._preconditionContextKeys}},{key:"toggledContextKeys",get:function(){return this._toggledContextKeys}},{key:"refresh",value:function(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();var b=bo.e.getMenuItems(this._id),_;b.sort(se._compareMenuItems);var p=Object(j.a)(b),P;try{for(p.s();!(P=p.n()).done;){var X=P.value,Se=X.group||"";(!_||_[0]!==Se)&&(_=[Se,[]],this._menuGroups.push(_)),_[1].push(X),this._collectContextKeys(X)}}catch(Ae){p.e(Ae)}finally{p.f()}}},{key:"_collectContextKeys",value:function(b){if(se._fillInKbExprKeys(b.when,this._structureContextKeys),Object(bo.g)(b)){if(b.command.precondition&&se._fillInKbExprKeys(b.command.precondition,this._preconditionContextKeys),b.command.toggled){var _=b.command.toggled.condition||b.command.toggled;se._fillInKbExprKeys(_,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&bo.e.getMenuItems(b.submenu).forEach(this._collectContextKeys,this)}},{key:"createActionGroups",value:function(b){var _=[],p=Object(j.a)(this._menuGroups),P;try{for(p.s();!(P=p.n()).done;){var X=P.value,Se=Object(qt.a)(X,2),Ae=Se[0],qe=Se[1],rt=[],ct=Object(j.a)(qe),Xt;try{for(ct.s();!(Xt=ct.n()).done;){var cn=Xt.value;if(this._contextKeyService.contextMatchesRules(cn.when)){var Mn=Object(bo.g)(cn);Mn&&this._hiddenStates.setDefaultState(this._id,cn.command.id,!!cn.isHiddenByDefault);var gi=Mt(this._id,Mn?cn.command:cn,this._hiddenStates);if(Mn)rt.push(new bo.d(cn.command,cn.alt,b,gi,this._contextKeyService,this._commandService));else{var Zn=new se(cn.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(b),di=eo.d.join.apply(eo.d,Object(ve.a)(Zn.map(function(Un){return Un[1]})));di.length>0&&rt.push(new bo.f(cn,gi,di))}}}}catch(Un){ct.e(Un)}finally{ct.f()}rt.length>0&&_.push([Ae,rt])}}catch(Un){p.e(Un)}finally{p.f()}return _}}],[{key:"_fillInKbExprKeys",value:function(b,_){if(b){var p=Object(j.a)(b.keys()),P;try{for(p.s();!(P=p.n()).done;){var X=P.value;_.add(X)}}catch(Se){p.e(Se)}finally{p.f()}}}},{key:"_compareMenuItems",value:function(b,_){var p=b.group,P=_.group;if(p!==P){if(p){if(!P)return-1}else return 1;if(p==="navigation")return-1;if(P==="navigation")return 1;var X=p.localeCompare(P);if(X!==0)return X}var Se=b.order||0,Ae=_.order||0;return Se<Ae?-1:Se>Ae?1:se._compareTitles(Object(bo.g)(b)?b.command.title:b.title,Object(bo.g)(_)?_.command.title:_.title)}},{key:"_compareTitles",value:function(b,_){var p=typeof b=="string"?b:b.original,P=typeof _=="string"?_:_.original;return p.localeCompare(P)}}]),se}();at=O([te(3,vo.b),te(4,Pi.b)],at);var Ot=function(){function se(ae,b,_,p,P){var X=this;Object(C.a)(this,se),this._disposables=new J.c,this._menuInfo=new at(ae,b,_.emitEventsForSubmenuChanges,p,P);var Se=new et.g(function(){X._menuInfo.refresh(),X._onDidChange.fire({menu:X,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},_.eventDebounceDelay);this._disposables.add(Se),this._disposables.add(bo.e.onDidChangeMenu(function(ct){ct.has(ae)&&Se.schedule()}));var Ae=this._disposables.add(new J.c),qe=function(Xt){var cn=!1,Mn=!1,gi=!1,Zn=Object(j.a)(Xt),di;try{for(Zn.s();!(di=Zn.n()).done;){var Un=di.value;if(cn=cn||Un.isStructuralChange,Mn=Mn||Un.isEnablementChange,gi=gi||Un.isToggleChange,cn&&Mn&&gi)break}}catch(qn){Zn.e(qn)}finally{Zn.f()}return{menu:X,isStructuralChange:cn,isEnablementChange:Mn,isToggleChange:gi}},rt=function(){Ae.add(P.onDidChangeContext(function(Xt){var cn=Xt.affectsSome(X._menuInfo.structureContextKeys),Mn=Xt.affectsSome(X._menuInfo.preconditionContextKeys),gi=Xt.affectsSome(X._menuInfo.toggledContextKeys);(cn||Mn||gi)&&X._onDidChange.fire({menu:X,isStructuralChange:cn,isEnablementChange:Mn,isToggleChange:gi})})),Ae.add(b.onDidChange(function(Xt){X._onDidChange.fire({menu:X,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new On.a({onWillAddFirstListener:rt,onDidRemoveLastListener:Ae.clear.bind(Ae),delay:_.eventDebounceDelay,merge:qe}),this.onDidChange=this._onDidChange.event}return Object(x.a)(se,[{key:"getActions",value:function(b){return this._menuInfo.createActionGroups(b)}},{key:"dispose",value:function(){this._disposables.dispose(),this._onDidChange.dispose()}}]),se}();Ot=O([te(3,vo.b),te(4,Pi.b)],Ot);function Mt(se,ae,b){var _=Object(bo.h)(ae)?ae.submenu.id:ae.id,p=typeof ae.title=="string"?ae.title:ae.title.value,P=Object(eo.f)({id:"hide/".concat(se.id,"/").concat(_),label:Object(bn.b)("hide.label","Hide '{0}'",p),run:function(){b.updateHidden(se,_,!0)}}),X=Object(eo.f)({id:"toggle/".concat(se.id,"/").concat(_),label:p,get checked(){return!b.isHidden(se,_)},run:function(){b.updateHidden(se,_,!!this.checked)}});return{hide:P,toggle:X,get isHidden(){return!X.checked}}}var Qt=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},Ht=function(se,ae){return function(b,_){ae(b,_,se)}},dt=function(se,ae,b,_){function p(P){return P instanceof b?P:new b(function(X){X(P)})}return new(b||(b=Promise))(function(P,X){function Se(rt){try{qe(_.next(rt))}catch(ct){X(ct)}}function Ae(rt){try{qe(_.throw(rt))}catch(ct){X(ct)}}function qe(rt){rt.done?P(rt.value):p(rt.value).then(Se,Ae)}qe((_=_.apply(se,ae||[])).next())})},Cn=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p){var P;return Object(C.a)(this,b),P=ae.call(this),P.layoutService=_,P.logService=p,P.mapTextToType=new Map,P.findText="",P.resources=[],(Lu.isSafari||Lu.isWebkitWebView)&&P.installWebKitWriteTextWorkaround(),P}return Object(x.a)(b,[{key:"installWebKitWriteTextWorkaround",value:function(){var p=this,P=function(){var Se=new et.b;p.webKitPendingClipboardWritePromise&&!p.webKitPendingClipboardWritePromise.isSettled&&p.webKitPendingClipboardWritePromise.cancel(),p.webKitPendingClipboardWritePromise=Se,navigator.clipboard.write([new ClipboardItem({"text/plain":Se.p})]).catch(function(Ae){return dt(p,void 0,void 0,Object(E.a)().mark(function qe(){return Object(E.a)().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:(!(Ae instanceof Error)||Ae.name!=="NotAllowedError"||!Se.isRejected)&&this.logService.error(Ae);case 1:case"end":return ct.stop()}},qe,this)}))})};this.layoutService.hasContainer&&(this._register(Object(It.addDisposableListener)(this.layoutService.container,"click",P)),this._register(Object(It.addDisposableListener)(this.layoutService.container,"keydown",P)))}},{key:"writeText",value:function(p,P){return dt(this,void 0,void 0,Object(E.a)().mark(function X(){var Se,Ae;return Object(E.a)().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:if(!P){rt.next=3;break}return this.mapTextToType.set(P,p),rt.abrupt("return");case 3:if(!this.webKitPendingClipboardWritePromise){rt.next=5;break}return rt.abrupt("return",this.webKitPendingClipboardWritePromise.complete(p));case 5:return rt.prev=5,rt.next=8,navigator.clipboard.writeText(p);case 8:return rt.abrupt("return",rt.sent);case 11:rt.prev=11,rt.t0=rt.catch(5),console.error(rt.t0);case 14:return Se=document.activeElement,Ae=document.body.appendChild(Object(It.$)("textarea",{"aria-hidden":!0})),Ae.style.height="1px",Ae.style.width="1px",Ae.style.position="absolute",Ae.value=p,Ae.focus(),Ae.select(),document.execCommand("copy"),Se instanceof HTMLElement&&Se.focus(),document.body.removeChild(Ae),rt.abrupt("return");case 26:case"end":return rt.stop()}},X,this,[[5,11]])}))}},{key:"readText",value:function(p){return dt(this,void 0,void 0,Object(E.a)().mark(function P(){return Object(E.a)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(!p){Se.next=2;break}return Se.abrupt("return",this.mapTextToType.get(p)||"");case 2:return Se.prev=2,Se.next=5,navigator.clipboard.readText();case 5:return Se.abrupt("return",Se.sent);case 8:return Se.prev=8,Se.t0=Se.catch(2),console.error(Se.t0),Se.abrupt("return","");case 12:case"end":return Se.stop()}},P,this,[[2,8]])}))}},{key:"readFindText",value:function(){return dt(this,void 0,void 0,Object(E.a)().mark(function p(){return Object(E.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.abrupt("return",this.findText);case 1:case"end":return X.stop()}},p,this)}))}},{key:"writeFindText",value:function(p){return dt(this,void 0,void 0,Object(E.a)().mark(function P(){return Object(E.a)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:this.findText=p;case 1:case"end":return Se.stop()}},P,this)}))}},{key:"readResources",value:function(){return dt(this,void 0,void 0,Object(E.a)().mark(function p(){return Object(E.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.abrupt("return",this.resources);case 1:case"end":return X.stop()}},p,this)}))}}]),b}(J.a);Cn=Qt([Ht(0,hn),Ht(1,jn.b)],Cn);var Pn=a("9XeP"),ni=a("JYp7"),hi=a("i55F"),Di=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},wi=function(se,ae){return function(b,_){ae(b,_,se)}},nr="data-keybinding-context",Ni=function(){function se(ae,b){Object(C.a)(this,se),this._id=ae,this._parent=b,this._value=Object.create(null),this._value._contextId=ae}return Object(x.a)(se,[{key:"value",get:function(){return Object.assign({},this._value)}},{key:"setValue",value:function(b,_){return this._value[b]!==_?(this._value[b]=_,!0):!1}},{key:"removeValue",value:function(b){return b in this._value?(delete this._value[b],!0):!1}},{key:"getValue",value:function(b){var _=this._value[b];return typeof _=="undefined"&&this._parent?this._parent.getValue(b):_}}]),se}(),Wi=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(){return Object(C.a)(this,b),ae.call(this,-1,null)}return Object(x.a)(b,[{key:"setValue",value:function(p,P){return!1}},{key:"removeValue",value:function(p){return!1}},{key:"getValue",value:function(p){}}]),b}(Ni);Wi.INSTANCE=new Wi;var er=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P){var X;return Object(C.a)(this,b),X=ae.call(this,_,null),X._configurationService=p,X._values=hi.a.forConfigKeys(),X._listener=X._configurationService.onDidChangeConfiguration(function(Se){if(Se.source===7){var Ae=Array.from(X._values,function(gi){var Zn=Object(qt.a)(gi,1),di=Zn[0];return di});X._values.clear(),P.fire(new Ur(Ae))}else{var qe=[],rt=Object(j.a)(Se.affectedKeys),ct;try{for(rt.s();!(ct=rt.n()).done;){var Xt=ct.value,cn="config.".concat(Xt),Mn=X._values.findSuperstr(cn);Mn!==void 0&&(qe.push.apply(qe,Object(ve.a)(ni.a.map(Mn,function(gi){var Zn=Object(qt.a)(gi,1),di=Zn[0];return di}))),X._values.deleteSuperstr(cn)),X._values.has(cn)&&(qe.push(cn),X._values.delete(cn))}}catch(gi){rt.e(gi)}finally{rt.f()}P.fire(new Ur(qe))}}),X}return Object(x.a)(b,[{key:"dispose",value:function(){this._listener.dispose()}},{key:"getValue",value:function(p){if(p.indexOf(b._keyPrefix)!==0)return Object(Ye.a)(Object(ot.a)(b.prototype),"getValue",this).call(this,p);if(this._values.has(p))return this._values.get(p);var P=p.substr(b._keyPrefix.length),X=this._configurationService.getValue(P),Se=void 0;switch(typeof X){case"number":case"boolean":case"string":Se=X;break;default:Array.isArray(X)?Se=JSON.stringify(X):Se=X}return this._values.set(p,Se),Se}},{key:"setValue",value:function(p,P){return Object(Ye.a)(Object(ot.a)(b.prototype),"setValue",this).call(this,p,P)}},{key:"removeValue",value:function(p){return Object(Ye.a)(Object(ot.a)(b.prototype),"removeValue",this).call(this,p)}}]),b}(Ni);er._keyPrefix="config.";var br=function(){function se(ae,b,_){Object(C.a)(this,se),this._service=ae,this._key=b,this._defaultValue=_,this.reset()}return Object(x.a)(se,[{key:"set",value:function(b){this._service.setContext(this._key,b)}},{key:"reset",value:function(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}},{key:"get",value:function(){return this._service.getContextKeyValue(this._key)}}]),se}(),xr=function(){function se(ae){Object(C.a)(this,se),this.key=ae}return Object(x.a)(se,[{key:"affectsSome",value:function(b){return b.has(this.key)}},{key:"allKeysContainedIn",value:function(b){return this.affectsSome(b)}}]),se}(),Ur=function(){function se(ae){Object(C.a)(this,se),this.keys=ae}return Object(x.a)(se,[{key:"affectsSome",value:function(b){var _=Object(j.a)(this.keys),p;try{for(_.s();!(p=_.n()).done;){var P=p.value;if(b.has(P))return!0}}catch(X){_.e(X)}finally{_.f()}return!1}},{key:"allKeysContainedIn",value:function(b){return this.keys.every(function(_){return b.has(_)})}}]),se}(),ca=function(){function se(ae){Object(C.a)(this,se),this.events=ae}return Object(x.a)(se,[{key:"affectsSome",value:function(b){var _=Object(j.a)(this.events),p;try{for(_.s();!(p=_.n()).done;){var P=p.value;if(P.affectsSome(b))return!0}}catch(X){_.e(X)}finally{_.f()}return!1}},{key:"allKeysContainedIn",value:function(b){return this.events.every(function(_){return _.allKeysContainedIn(b)})}}]),se}();function Ca(se,ae){return se.allKeysContainedIn(new Set(Object.keys(ae)))}var ra=function(){function se(ae){Object(C.a)(this,se),this._onDidChangeContext=new On.h({merge:function(_){return new ca(_)}}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=ae}return Object(x.a)(se,[{key:"createKey",value:function(b,_){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new br(this,b,_)}},{key:"bufferChangeEvents",value:function(b){this._onDidChangeContext.pause();try{b()}finally{this._onDidChangeContext.resume()}}},{key:"createScoped",value:function(b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Ja(this,b)}},{key:"contextMatchesRules",value:function(b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");var _=this.getContextValuesContainer(this._myContextId),p=b?b.evaluate(_):!0;return p}},{key:"getContextKeyValue",value:function(b){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(b)}},{key:"setContext",value:function(b,_){if(!this._isDisposed){var p=this.getContextValuesContainer(this._myContextId);!p||p.setValue(b,_)&&this._onDidChangeContext.fire(new xr(b))}}},{key:"removeContext",value:function(b){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(b)&&this._onDidChangeContext.fire(new xr(b))}},{key:"getContext",value:function(b){return this._isDisposed?Wi.INSTANCE:this.getContextValuesContainer(So(b))}}]),se}(),Ha=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_){var p;Object(C.a)(this,b),p=ae.call(this,0),p._contexts=new Map,p._toDispose=new J.c,p._lastContextId=0;var P=new er(p._myContextId,_,p._onDidChangeContext);return p._contexts.set(p._myContextId,P),p._toDispose.add(P),p}return Object(x.a)(b,[{key:"dispose",value:function(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}},{key:"getContextValuesContainer",value:function(p){return this._isDisposed?Wi.INSTANCE:this._contexts.get(p)||Wi.INSTANCE}},{key:"createChildContext",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._myContextId;if(this._isDisposed)throw new Error("ContextKeyService has been disposed");var P=++this._lastContextId;return this._contexts.set(P,new Ni(P,this.getContextValuesContainer(p))),P}},{key:"disposeContext",value:function(p){this._isDisposed||this._contexts.delete(p)}}]),b}(ra);Ha=Di([wi(0,Ke.a)],Ha);var Ja=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p){var P;if(Object(C.a)(this,b),P=ae.call(this,_.createChildContext()),P._parentChangeListener=new J.e,P._parent=_,P._updateParentChangeListener(),P._domNode=p,P._domNode.hasAttribute(nr)){var X="";P._domNode.classList&&(X=Array.from(P._domNode.classList.values()).join(", ")),console.error("Element already has context attribute".concat(X?": "+X:""))}return P._domNode.setAttribute(nr,String(P._myContextId)),P}return Object(x.a)(b,[{key:"_updateParentChangeListener",value:function(){var p=this;this._parentChangeListener.value=this._parent.onDidChangeContext(function(P){var X=p._parent.getContextValuesContainer(p._myContextId),Se=X.value;Ca(P,Se)||p._onDidChangeContext.fire(P)})}},{key:"dispose",value:function(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(nr),this._isDisposed=!0)}},{key:"getContextValuesContainer",value:function(p){return this._isDisposed?Wi.INSTANCE:this._parent.getContextValuesContainer(p)}},{key:"createChildContext",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._myContextId;if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(p)}},{key:"disposeContext",value:function(p){this._isDisposed||this._parent.disposeContext(p)}}]),b}(ra);function So(se){for(;se;){if(se.hasAttribute(nr)){var ae=se.getAttribute(nr);return ae?parseInt(ae,10):NaN}se=se.parentElement}return 0}function Ba(se,ae,b){var _=se.get(Pi.b);_.createKey(String(ae),Wo(b))}function Wo(se){return Object(z.a)(se,function(ae){if(typeof ae=="object"&&ae.$mid===1)return y.a.revive(ae).toString();if(ae instanceof y.a)return ae.toString()})}vo.a.registerCommand("_setContext",Ba),vo.a.registerCommand({id:"getContextKeyInfo",handler:function(){return Object(ve.a)(Pi.c.all()).sort(function(ae,b){return ae.key.localeCompare(b.key)})},description:{description:Object(bn.b)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),vo.a.registerCommand("_generateContextKeyInfo",function(){var se=[],ae=new Set,b=Object(j.a)(Pi.c.all()),_;try{for(b.s();!(_=b.n()).done;){var p=_.value;ae.has(p.key)||(ae.add(p.key),se.push(p))}}catch(P){b.e(P)}finally{b.f()}se.sort(function(P,X){return P.key.localeCompare(X.key)}),console.log(JSON.stringify(se,void 0,2))});var Ka=a("r0BQ"),Wa=a("ZKkB"),No=Object(x.a)(function se(ae,b){Object(C.a)(this,se),this.key=ae,this.data=b,this.incoming=new Map,this.outgoing=new Map}),To=function(){function se(ae){Object(C.a)(this,se),this._hashFn=ae,this._nodes=new Map}return Object(x.a)(se,[{key:"roots",value:function(){var b=[],_=Object(j.a)(this._nodes.values()),p;try{for(_.s();!(p=_.n()).done;){var P=p.value;P.outgoing.size===0&&b.push(P)}}catch(X){_.e(X)}finally{_.f()}return b}},{key:"insertEdge",value:function(b,_){var p=this.lookupOrInsertNode(b),P=this.lookupOrInsertNode(_);p.outgoing.set(P.key,P),P.incoming.set(p.key,p)}},{key:"removeNode",value:function(b){var _=this._hashFn(b);this._nodes.delete(_);var p=Object(j.a)(this._nodes.values()),P;try{for(p.s();!(P=p.n()).done;){var X=P.value;X.outgoing.delete(_),X.incoming.delete(_)}}catch(Se){p.e(Se)}finally{p.f()}}},{key:"lookupOrInsertNode",value:function(b){var _=this._hashFn(b),p=this._nodes.get(_);return p||(p=new No(_,b),this._nodes.set(_,p)),p}},{key:"isEmpty",value:function(){return this._nodes.size===0}},{key:"toString",value:function(){var b=[],_=Object(j.a)(this._nodes),p;try{for(_.s();!(p=_.n()).done;){var P=p.value,X=Object(qt.a)(P,2),Se=X[0],Ae=X[1];b.push("".concat(Se,`
	(-> incoming)[`).concat(Object(ve.a)(Ae.incoming.keys()).join(", "),`]
	(outgoing ->)[`).concat(Object(ve.a)(Ae.outgoing.keys()).join(","),`]
`))}}catch(qe){_.e(qe)}finally{_.f()}return b.join(`
`)}},{key:"findCycleSlow",value:function(){var b=Object(j.a)(this._nodes),_;try{for(b.s();!(_=b.n()).done;){var p=_.value,P=Object(qt.a)(p,2),X=P[0],Se=P[1],Ae=new Set([X]),qe=this._findCycle(Se,Ae);if(qe)return qe}}catch(rt){b.e(rt)}finally{b.f()}}},{key:"_findCycle",value:function(b,_){var p=Object(j.a)(b.outgoing),P;try{for(p.s();!(P=p.n()).done;){var X=P.value,Se=Object(qt.a)(X,2),Ae=Se[0],qe=Se[1];if(_.has(Ae))return[].concat(Object(ve.a)(_),[Ae]).join(" -> ");_.add(Ae);var rt=this._findCycle(qe,_);if(rt)return rt;_.delete(Ae)}}catch(ct){p.e(ct)}finally{p.f()}}}]),se}(),ys=a("8HsV"),$s=!1,Is=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_){var p;Object(C.a)(this,b);var P;return p=ae.call(this,"cyclic dependency between services"),p.message=(P=_.findCycleSlow())!==null&&P!==void 0?P:`UNABLE to detect cycle, dumping graph: 
`.concat(_.toString()),p}return Object(x.a)(b)}(Object(Wa.a)(Error)),Yl=function(){function se(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new ys.a,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=arguments.length>2?arguments[2]:void 0,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$s;Object(C.a)(this,se);var P;this._services=ae,this._strict=b,this._parent=_,this._enableTracing=p,this._activeInstantiations=new Set,this._services.set(mi.a,this),this._globalGraph=p?(P=_==null?void 0:_._globalGraph)!==null&&P!==void 0?P:new To(function(X){return X}):void 0}return Object(x.a)(se,[{key:"createChild",value:function(b){return new se(b,this._strict,this,this._enableTracing)}},{key:"invokeFunction",value:function(b){var _=this,p=is.traceInvocation(this._enableTracing,b),P=!1;try{for(var X={get:function(ct){if(P)throw Object(gn.f)("service accessor is only valid during the invocation of its target method");var Xt=_._getOrCreateServiceInstance(ct,p);if(!Xt)throw new Error("[invokeFunction] unknown service '".concat(ct,"'"));return Xt}},Se=arguments.length,Ae=new Array(Se>1?Se-1:0),qe=1;qe<Se;qe++)Ae[qe-1]=arguments[qe];return b.apply(void 0,[X].concat(Ae))}finally{P=!0,p.stop()}}},{key:"createInstance",value:function(b){for(var _,p,P=arguments.length,X=new Array(P>1?P-1:0),Se=1;Se<P;Se++)X[Se-1]=arguments[Se];return b instanceof Ka.a?(_=is.traceCreation(this._enableTracing,b.ctor),p=this._createInstance(b.ctor,b.staticArguments.concat(X),_)):(_=is.traceCreation(this._enableTracing,b),p=this._createInstance(b,X,_)),_.stop(),p}},{key:"_createInstance",value:function(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],p=arguments.length>2?arguments[2]:void 0,P=mi.b.getServiceDependencies(b).sort(function(cn,Mn){return cn.index-Mn.index}),X=[],Se=Object(j.a)(P),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value,rt=this._getOrCreateServiceInstance(qe.id,p);rt||this._throwIfStrict("[createInstance] ".concat(b.name," depends on UNKNOWN service ").concat(qe.id,"."),!1),X.push(rt)}}catch(cn){Se.e(cn)}finally{Se.f()}var ct=P.length>0?P[0].index:_.length;if(_.length!==ct){console.trace("[createInstance] First service dependency of ".concat(b.name," at position ").concat(ct+1," conflicts with ").concat(_.length," static arguments"));var Xt=ct-_.length;Xt>0?_=_.concat(new Array(Xt)):_=_.slice(0,ct)}return Reflect.construct(b,_.concat(X))}},{key:"_setServiceInstance",value:function(b,_){if(this._services.get(b)instanceof Ka.a)this._services.set(b,_);else if(this._parent)this._parent._setServiceInstance(b,_);else throw new Error("illegalState - setting UNKNOWN service instance")}},{key:"_getServiceInstanceOrDescriptor",value:function(b){var _=this._services.get(b);return!_&&this._parent?this._parent._getServiceInstanceOrDescriptor(b):_}},{key:"_getOrCreateServiceInstance",value:function(b,_){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(b));var p=this._getServiceInstanceOrDescriptor(b);return p instanceof Ka.a?this._safeCreateAndCacheServiceInstance(b,p,_.branch(b,!0)):(_.branch(b,!1),p)}},{key:"_safeCreateAndCacheServiceInstance",value:function(b,_,p){if(this._activeInstantiations.has(b))throw new Error("illegal state - RECURSIVELY instantiating service '".concat(b,"'"));this._activeInstantiations.add(b);try{return this._createAndCacheServiceInstance(b,_,p)}finally{this._activeInstantiations.delete(b)}}},{key:"_createAndCacheServiceInstance",value:function(b,_,p){for(var P,X=new To(function(cr){return cr.id.toString()}),Se=0,Ae=[{id:b,desc:_,_trace:p}];Ae.length;){var qe=Ae.pop();if(X.lookupOrInsertNode(qe),Se++>1e3)throw new Is(X);var rt=Object(j.a)(mi.b.getServiceDependencies(qe.desc.ctor)),ct;try{for(rt.s();!(ct=rt.n()).done;){var Xt=ct.value,cn=this._getServiceInstanceOrDescriptor(Xt.id);if(cn||this._throwIfStrict("[createInstance] ".concat(b," depends on ").concat(Xt.id," which is NOT registered."),!0),(P=this._globalGraph)===null||P===void 0||P.insertEdge(String(qe.id),String(Xt.id)),cn instanceof Ka.a){var Mn={id:Xt.id,desc:cn,_trace:qe._trace.branch(Xt.id,!0)};X.insertEdge(qe,Mn),Ae.push(Mn)}}}catch(cr){rt.e(cr)}finally{rt.f()}}for(;;){var gi=X.roots();if(gi.length===0){if(!X.isEmpty())throw new Is(X);break}var Zn=Object(j.a)(gi),di;try{for(Zn.s();!(di=Zn.n()).done;){var Un=di.value,qn=Un.data;{var ur=this._getServiceInstanceOrDescriptor(qn.id);if(ur instanceof Ka.a){var _r=this._createServiceInstanceWithOwner(qn.id,qn.desc.ctor,qn.desc.staticArguments,qn.desc.supportsDelayedInstantiation,qn._trace);this._setServiceInstance(qn.id,_r)}X.removeNode(qn)}}}catch(cr){Zn.e(cr)}finally{Zn.f()}}return this._getServiceInstanceOrDescriptor(b)}},{key:"_createServiceInstanceWithOwner",value:function(b,_){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],P=arguments.length>3?arguments[3]:void 0,X=arguments.length>4?arguments[4]:void 0;if(this._services.get(b)instanceof Ka.a)return this._createServiceInstance(b,_,p,P,X);if(this._parent)return this._parent._createServiceInstanceWithOwner(b,_,p,P,X);throw new Error("illegalState - creating UNKNOWN service instance ".concat(_.name))}},{key:"_createServiceInstance",value:function(b,_){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],P=arguments.length>3?arguments[3]:void 0,X=arguments.length>4?arguments[4]:void 0;if(P){var Se=new se(void 0,this._strict,this,this._enableTracing);Se._globalGraphImplicitDependency=String(b);var Ae=new Map,qe=new et.d(function(){var rt=Se._createInstance(_,p,X),ct=Object(j.a)(Ae),Xt;try{for(ct.s();!(Xt=ct.n()).done;){var cn=Xt.value,Mn=Object(qt.a)(cn,2),gi=Mn[0],Zn=Mn[1],di=rt[gi];if(typeof di=="function"){var Un=Object(j.a)(Zn),qn;try{for(Un.s();!(qn=Un.n()).done;){var ur=qn.value;di.apply(rt,ur)}}catch(_r){Un.e(_r)}finally{Un.f()}}}}catch(_r){ct.e(_r)}finally{ct.f()}return Ae.clear(),rt});return new Proxy(Object.create(null),{get:function(ct,Xt){if(!qe.isInitialized&&typeof Xt=="string"&&(Xt.startsWith("onDid")||Xt.startsWith("onWill"))){var cn=Ae.get(Xt);cn||(cn=new Gn.a,Ae.set(Xt,cn));var Mn=function(Un,qn,ur){var _r=cn.push([Un,qn,ur]);return Object(J.l)(_r)};return Mn}if(Xt in ct)return ct[Xt];var gi=qe.value,Zn=gi[Xt];return typeof Zn!="function"||(Zn=Zn.bind(gi),ct[Xt]=Zn),Zn},set:function(ct,Xt,cn){return qe.value[Xt]=cn,!0},getPrototypeOf:function(ct){return _.prototype}})}else return this._createInstance(_,p,X)}},{key:"_throwIfStrict",value:function(b,_){if(_&&console.warn(b),this._strict)throw new Error(b)}}]),se}(),is=function(){function se(ae,b){Object(C.a)(this,se),this.type=ae,this.name=b,this._start=Date.now(),this._dep=[]}return Object(x.a)(se,[{key:"branch",value:function(b,_){var p=new se(3,b.toString());return this._dep.push([b,_,p]),p}},{key:"stop",value:function(){var b=Date.now()-this._start;se._totals+=b;var _=!1;function p(X,Se){var Ae=[],qe=new Array(X+1).join("	"),rt=Object(j.a)(Se._dep),ct;try{for(rt.s();!(ct=rt.n()).done;){var Xt=ct.value,cn=Object(qt.a)(Xt,3),Mn=cn[0],gi=cn[1],Zn=cn[2];if(gi&&Zn){_=!0,Ae.push("".concat(qe,"CREATES -> ").concat(Mn));var di=p(X+1,Zn);di&&Ae.push(di)}else Ae.push("".concat(qe,"uses -> ").concat(Mn))}}catch(Un){rt.e(Un)}finally{rt.f()}return Ae.join(`
`)}var P=["".concat(this.type===1?"CREATE":"CALL"," ").concat(this.name),"".concat(p(1,this)),"DONE, took ".concat(b.toFixed(2),"ms (grand total ").concat(se._totals.toFixed(2),"ms)")];(b>2||_)&&se.all.add(P.join(`
`))}}],[{key:"traceInvocation",value:function(b,_){return b?new se(2,_.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):se._None}},{key:"traceCreation",value:function(b,_){return b?new se(1,_.name):se._None}}]),se}();is.all=new Set,is._None=new(function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(){return Object(C.a)(this,b),ae.call(this,0,null)}return Object(x.a)(b,[{key:"stop",value:function(){}},{key:"branch",value:function(){return this}}]),b}(is)),is._totals=0;var Al=new Set([si.c.inMemory,si.c.vscodeSourceControl,si.c.walkThrough,si.c.walkThroughSnippet]),bu=function(){function se(){Object(C.a)(this,se),this._byResource=new on.b,this._byOwner=new Map}return Object(x.a)(se,[{key:"set",value:function(b,_,p){var P=this._byResource.get(b);P||(P=new Map,this._byResource.set(b,P)),P.set(_,p);var X=this._byOwner.get(_);X||(X=new on.b,this._byOwner.set(_,X)),X.set(b,p)}},{key:"get",value:function(b,_){var p=this._byResource.get(b);return p==null?void 0:p.get(_)}},{key:"delete",value:function(b,_){var p=!1,P=!1,X=this._byResource.get(b);X&&(p=X.delete(_));var Se=this._byOwner.get(_);if(Se&&(P=Se.delete(b)),p!==P)throw new Error("illegal state");return p&&P}},{key:"values",value:function(b){var _,p,P,X;return typeof b=="string"?(p=(_=this._byOwner.get(b))===null||_===void 0?void 0:_.values())!==null&&p!==void 0?p:ni.a.empty():y.a.isUri(b)?(X=(P=this._byResource.get(b))===null||P===void 0?void 0:P.values())!==null&&X!==void 0?X:ni.a.empty():ni.a.map(ni.a.concat.apply(ni.a,Object(ve.a)(this._byOwner.values())),function(Se){return Se[1]})}}]),se}(),Ec=function(){function se(ae){Object(C.a)(this,se),this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new on.b,this._service=ae,this._subscription=ae.onMarkerChanged(this._update,this)}return Object(x.a)(se,[{key:"dispose",value:function(){this._subscription.dispose()}},{key:"_update",value:function(b){var _=Object(j.a)(b),p;try{for(_.s();!(p=_.n()).done;){var P=p.value,X=this._data.get(P);X&&this._substract(X);var Se=this._resourceStats(P);this._add(Se),this._data.set(P,Se)}}catch(Ae){_.e(Ae)}finally{_.f()}}},{key:"_resourceStats",value:function(b){var _={errors:0,warnings:0,infos:0,unknowns:0};if(Al.has(b.scheme))return _;var p=Object(j.a)(this._service.read({resource:b})),P;try{for(p.s();!(P=p.n()).done;){var X=P.value,Se=X.severity;Se===bs.c.Error?_.errors+=1:Se===bs.c.Warning?_.warnings+=1:Se===bs.c.Info?_.infos+=1:_.unknowns+=1}}catch(Ae){p.e(Ae)}finally{p.f()}return _}},{key:"_substract",value:function(b){this.errors-=b.errors,this.warnings-=b.warnings,this.infos-=b.infos,this.unknowns-=b.unknowns}},{key:"_add",value:function(b){this.errors+=b.errors,this.warnings+=b.warnings,this.infos+=b.infos,this.unknowns+=b.unknowns}}]),se}(),xu=function(){function se(){Object(C.a)(this,se),this._onMarkerChanged=new On.a({delay:0,merge:se._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new bu,this._stats=new Ec(this)}return Object(x.a)(se,[{key:"dispose",value:function(){this._stats.dispose(),this._onMarkerChanged.dispose()}},{key:"remove",value:function(b,_){var p=Object(j.a)(_||[]),P;try{for(p.s();!(P=p.n()).done;){var X=P.value;this.changeOne(b,X,[])}}catch(Se){p.e(Se)}finally{p.f()}}},{key:"changeOne",value:function(b,_,p){if(Object(Zo.r)(p)){var P=this._data.delete(_,b);P&&this._onMarkerChanged.fire([_])}else{var X=[],Se=Object(j.a)(p),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value,rt=se._toMarker(b,_,qe);rt&&X.push(rt)}}catch(ct){Se.e(ct)}finally{Se.f()}this._data.set(_,b,X),this._onMarkerChanged.fire([_])}}},{key:"changeAll",value:function(b,_){var p=[],P=this._data.values(b);if(P){var X=Object(j.a)(P),Se;try{for(X.s();!(Se=X.n()).done;){var Ae=Se.value,qe=ni.a.first(Ae);qe&&(p.push(qe.resource),this._data.delete(qe.resource,b))}}catch(Kr){X.e(Kr)}finally{X.f()}}if(Object(Zo.s)(_)){var rt=new on.b,ct=Object(j.a)(_),Xt;try{for(ct.s();!(Xt=ct.n()).done;){var cn=Xt.value,Mn=cn.resource,gi=cn.marker,Zn=se._toMarker(b,Mn,gi);if(!!Zn){var di=rt.get(Mn);di?di.push(Zn):(rt.set(Mn,[Zn]),p.push(Mn))}}}catch(Kr){ct.e(Kr)}finally{ct.f()}var Un=Object(j.a)(rt),qn;try{for(Un.s();!(qn=Un.n()).done;){var ur=qn.value,_r=Object(qt.a)(ur,2),cr=_r[0],Zr=_r[1];this._data.set(cr,b,Zr)}}catch(Kr){Un.e(Kr)}finally{Un.f()}}p.length>0&&this._onMarkerChanged.fire(p)}},{key:"read",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Object.create(null),_=b.owner,p=b.resource,P=b.severities,X=b.take;if((!X||X<0)&&(X=-1),_&&p){var Se=this._data.get(p,_);if(Se){var Ae=[],qe=Object(j.a)(Se),rt;try{for(qe.s();!(rt=qe.n()).done;){var ct=rt.value;if(se._accept(ct,P)){var Xt=Ae.push(ct);if(X>0&&Xt===X)break}}}catch(Xa){qe.e(Xa)}finally{qe.f()}return Ae}else return[]}else if(!_&&!p){var cn=[],Mn=Object(j.a)(this._data.values()),gi;try{for(Mn.s();!(gi=Mn.n()).done;){var Zn=gi.value,di=Object(j.a)(Zn),Un;try{for(di.s();!(Un=di.n()).done;){var qn=Un.value;if(se._accept(qn,P)){var ur=cn.push(qn);if(X>0&&ur===X)return cn}}}catch(Xa){di.e(Xa)}finally{di.f()}}}catch(Xa){Mn.e(Xa)}finally{Mn.f()}return cn}else{var _r=this._data.values(p!=null?p:_),cr=[],Zr=Object(j.a)(_r),Kr;try{for(Zr.s();!(Kr=Zr.n()).done;){var Jr=Kr.value,pa=Object(j.a)(Jr),Ma;try{for(pa.s();!(Ma=pa.n()).done;){var Vo=Ma.value;if(se._accept(Vo,P)){var vs=cr.push(Vo);if(X>0&&vs===X)return cr}}}catch(Xa){pa.e(Xa)}finally{pa.f()}}}catch(Xa){Zr.e(Xa)}finally{Zr.f()}return cr}}}],[{key:"_toMarker",value:function(b,_,p){var P=p.code,X=p.severity,Se=p.message,Ae=p.source,qe=p.startLineNumber,rt=p.startColumn,ct=p.endLineNumber,Xt=p.endColumn,cn=p.relatedInformation,Mn=p.tags;if(!!Se)return qe=qe>0?qe:1,rt=rt>0?rt:1,ct=ct>=qe?ct:qe,Xt=Xt>0?Xt:rt,{resource:_,owner:b,code:P,severity:X,message:Se,source:Ae,startLineNumber:qe,startColumn:rt,endLineNumber:ct,endColumn:Xt,relatedInformation:cn,tags:Mn}}},{key:"_accept",value:function(b,_){return _===void 0||(_&b.severity)===b.severity}},{key:"_merge",value:function(b){var _=new on.b,p=Object(j.a)(b),P;try{for(p.s();!(P=p.n()).done;){var X=P.value,Se=Object(j.a)(X),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value;_.set(qe,!0)}}catch(rt){Se.e(rt)}finally{Se.f()}}}catch(rt){p.e(rt)}finally{p.f()}return Array.from(_.keys())}}]),se}(),Zl=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(){var _;return Object(C.a)(this,b),_=ae.apply(this,arguments),_._configurationModel=new La,_}return Object(x.a)(b,[{key:"configurationModel",get:function(){return this._configurationModel}},{key:"reload",value:function(){return this.resetConfigurationModel(),this.configurationModel}},{key:"getConfigurationDefaultOverrides",value:function(){return{}}},{key:"resetConfigurationModel",value:function(){this._configurationModel=new La;var p=ka.a.as(ao.a.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(p),p)}},{key:"updateConfigurationModel",value:function(p,P){var X=this.getConfigurationDefaultOverrides(),Se=Object(j.a)(p),Ae;try{for(Se.s();!(Ae=Se.n()).done;){var qe=Ae.value,rt=X[qe],ct=P[qe];rt!==void 0?this._configurationModel.addValue(qe,rt):ct?this._configurationModel.addValue(qe,ct.default):this._configurationModel.removeValue(qe)}}catch(Xt){Se.e(Xt)}finally{Se.f()}}}]),b}(J.a),yu=a("oF4g"),tl=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_){var p,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object(C.a)(this,b),p=ae.call(this),p.logger=new jn.d([_].concat(Object(ve.a)(P))),p._register(_.onDidChangeLogLevel(function(X){return p.setLevel(X)})),p}return Object(x.a)(b,[{key:"onDidChangeLogLevel",get:function(){return this.logger.onDidChangeLogLevel}},{key:"setLevel",value:function(p){this.logger.setLevel(p)}},{key:"getLevel",value:function(){return this.logger.getLevel()}},{key:"trace",value:function(p){for(var P,X=arguments.length,Se=new Array(X>1?X-1:0),Ae=1;Ae<X;Ae++)Se[Ae-1]=arguments[Ae];(P=this.logger).trace.apply(P,[p].concat(Se))}},{key:"debug",value:function(p){for(var P,X=arguments.length,Se=new Array(X>1?X-1:0),Ae=1;Ae<X;Ae++)Se[Ae-1]=arguments[Ae];(P=this.logger).debug.apply(P,[p].concat(Se))}},{key:"info",value:function(p){for(var P,X=arguments.length,Se=new Array(X>1?X-1:0),Ae=1;Ae<X;Ae++)Se[Ae-1]=arguments[Ae];(P=this.logger).info.apply(P,[p].concat(Se))}},{key:"error",value:function(p){for(var P,X=arguments.length,Se=new Array(X>1?X-1:0),Ae=1;Ae<X;Ae++)Se[Ae-1]=arguments[Ae];(P=this.logger).error.apply(P,[p].concat(Se))}}]),b}(J.a),Xl=a("2CIB"),Rl=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},rs=function(se,ae){return function(b,_){ae(b,_,se)}},ss=function(se,ae,b,_){function p(P){return P instanceof b?P:new b(function(X){X(P)})}return new(b||(b=Promise))(function(P,X){function Se(rt){try{qe(_.next(rt))}catch(ct){X(ct)}}function Ae(rt){try{qe(_.throw(rt))}catch(ct){X(ct)}}function qe(rt){rt.done?P(rt.value):p(rt.value).then(Se,Ae)}qe((_=_.apply(se,ae||[])).next())})},_u=function(){function se(ae){Object(C.a)(this,se),this.disposed=!1,this.model=ae,this._onWillDispose=new On.b}return Object(x.a)(se,[{key:"textEditorModel",get:function(){return this.model}},{key:"dispose",value:function(){this.disposed=!0,this._onWillDispose.fire()}}]),se}(),nh=function(){function se(ae){Object(C.a)(this,se),this.modelService=ae}return Object(x.a)(se,[{key:"createModelReference",value:function(b){var _=this.modelService.getModel(b);return _?Promise.resolve(new J.d(new _u(_))):Promise.reject(new Error("Model not found"))}}]),se}();nh=Rl([rs(0,d.a)],nh);var tf=function(){function se(){Object(C.a)(this,se)}return Object(x.a)(se,[{key:"show",value:function(){return se.NULL_PROGRESS_RUNNER}},{key:"showWhile",value:function(b,_){return ss(this,void 0,void 0,Object(E.a)().mark(function p(){return Object(E.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,b;case 2:case"end":return X.stop()}},p)}))}}]),se}();tf.NULL_PROGRESS_RUNNER={done:function(){},total:function(){},worked:function(){}};var yd=function(){function se(){Object(C.a)(this,se)}return Object(x.a)(se,[{key:"withProgress",value:function(b,_,p){return _({report:function(){}})}}]),se}(),rv=function(){function se(){Object(C.a)(this,se)}return Object(x.a)(se,[{key:"confirm",value:function(b){return ss(this,void 0,void 0,Object(E.a)().mark(function _(){var p;return Object(E.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return p=this.doConfirm(b.message,b.detail),X.abrupt("return",{confirmed:p,checkboxChecked:!1});case 2:case"end":return X.stop()}},_,this)}))}},{key:"doConfirm",value:function(b,_){var p=b;return _&&(p=p+`

`+_),window.confirm(p)}},{key:"prompt",value:function(b){var _,p;return ss(this,void 0,void 0,Object(E.a)().mark(function P(){var X,Se,Ae;return Object(E.a)().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:if(X=void 0,Se=this.doConfirm(b.message,b.detail),!Se){rt.next=8;break}return Ae=Object(ve.a)((_=b.buttons)!==null&&_!==void 0?_:[]),b.cancelButton&&typeof b.cancelButton!="string"&&typeof b.cancelButton!="boolean"&&Ae.push(b.cancelButton),rt.next=7,(p=Ae[0])===null||p===void 0?void 0:p.run({checkboxChecked:!1});case 7:X=rt.sent;case 8:return rt.abrupt("return",{result:X});case 9:case"end":return rt.stop()}},P,this)}))}},{key:"error",value:function(b,_){return ss(this,void 0,void 0,Object(E.a)().mark(function p(){return Object(E.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,this.prompt({type:rn.a.Error,message:b,detail:_});case 2:case"end":return X.stop()}},p,this)}))}}]),se}(),ih=function(){function se(){Object(C.a)(this,se)}return Object(x.a)(se,[{key:"info",value:function(b){return this.notify({severity:rn.a.Info,message:b})}},{key:"warn",value:function(b){return this.notify({severity:rn.a.Warning,message:b})}},{key:"error",value:function(b){return this.notify({severity:rn.a.Error,message:b})}},{key:"notify",value:function(b){switch(b.severity){case rn.a.Error:console.error(b.message);break;case rn.a.Warning:console.warn(b.message);break;default:console.log(b.message);break}return se.NO_OP}},{key:"prompt",value:function(b,_,p,P){return se.NO_OP}},{key:"status",value:function(b,_){return J.a.None}}]),se}();ih.NO_OP=new Ci.b;var qc=function(){function se(ae){Object(C.a)(this,se),this._onWillExecuteCommand=new On.b,this._onDidExecuteCommand=new On.b,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=ae}return Object(x.a)(se,[{key:"executeCommand",value:function(b){var _=vo.a.getCommand(b);if(!_)return Promise.reject(new Error("command '".concat(b,"' not found")));try{for(var p=arguments.length,P=new Array(p>1?p-1:0),X=1;X<p;X++)P[X-1]=arguments[X];this._onWillExecuteCommand.fire({commandId:b,args:P});var Se=this._instantiationService.invokeFunction.apply(this._instantiationService,[_.handler].concat(P));return this._onDidExecuteCommand.fire({commandId:b,args:P}),Promise.resolve(Se)}catch(Ae){return Promise.reject(Ae)}}}]),se}();qc=Rl([rs(0,mi.a)],qc);var Lc=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X,Se,Ae){var qe;Object(C.a)(this,b),qe=ae.call(this,_,p,P,X,Se),qe._cachedResolver=null,qe._dynamicKeybindings=[],qe._domNodeListeners=[];var rt=function(di){var Un=new J.c;Un.add(It.addDisposableListener(di,It.EventType.KEY_DOWN,function(qn){var ur=new zi.a(qn),_r=qe._dispatch(ur,ur.target);_r&&(ur.preventDefault(),ur.stopPropagation())})),Un.add(It.addDisposableListener(di,It.EventType.KEY_UP,function(qn){var ur=new zi.a(qn),_r=qe._singleModifierDispatch(ur,ur.target);_r&&ur.preventDefault()})),qe._domNodeListeners.push(new nf(di,Un))},ct=function(di){for(var Un=0;Un<qe._domNodeListeners.length;Un++){var qn=qe._domNodeListeners[Un];qn.domNode===di&&(qe._domNodeListeners.splice(Un,1),qn.dispose())}},Xt=function(di){di.getOption(59)||rt(di.getContainerDomNode())},cn=function(di){di.getOption(59)||ct(di.getContainerDomNode())};qe._register(Ae.onCodeEditorAdd(Xt)),qe._register(Ae.onCodeEditorRemove(cn)),Ae.listCodeEditors().forEach(Xt);var Mn=function(di){rt(di.getContainerDomNode())},gi=function(di){ct(di.getContainerDomNode())};return qe._register(Ae.onDiffEditorAdd(Mn)),qe._register(Ae.onDiffEditorRemove(gi)),Ae.listDiffEditors().forEach(Mn),qe}return Object(x.a)(b,[{key:"addDynamicKeybinding",value:function(p,P,X,Se){return Object(J.h)(vo.a.registerCommand(p,X),this.addDynamicKeybindings([{keybinding:P,command:p,when:Se}]))}},{key:"addDynamicKeybindings",value:function(p){var P=this,X=p.map(function(Se){var Ae,qe=Object(Wr.d)(Se.keybinding,Dt.a);return{keybinding:qe,command:(Ae=Se.command)!==null&&Ae!==void 0?Ae:null,commandArgs:Se.commandArgs,when:Se.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(X),this.updateResolver(),Object(J.l)(function(){for(var Se=0;Se<P._dynamicKeybindings.length;Se++)if(P._dynamicKeybindings[Se]===X[0]){P._dynamicKeybindings.splice(Se,X.length),P.updateResolver();return}})}},{key:"updateResolver",value:function(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}},{key:"_getResolver",value:function(){var p=this;if(!this._cachedResolver){var P=this._toNormalizedKeybindingItems(sn.a.getDefaultKeybindings(),!0),X=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new G(P,X,function(Se){return p._log(Se)})}return this._cachedResolver}},{key:"_documentHasFocus",value:function(){return document.hasFocus()}},{key:"_toNormalizedKeybindingItems",value:function(p,P){var X=[],Se=0,Ae=Object(j.a)(p),qe;try{for(Ae.s();!(qe=Ae.n()).done;){var rt=qe.value,ct=rt.when||void 0,Xt=rt.keybinding;if(!Xt)X[Se++]=new ln(void 0,rt.command,rt.commandArgs,ct,P,null,!1);else{var cn=yi.resolveKeybinding(Xt,Dt.a),Mn=Object(j.a)(cn),gi;try{for(Mn.s();!(gi=Mn.n()).done;){var Zn=gi.value;X[Se++]=new ln(Zn,rt.command,rt.commandArgs,ct,P,null,!1)}}catch(di){Mn.e(di)}finally{Mn.f()}}}}catch(di){Ae.e(di)}finally{Ae.f()}return X}},{key:"resolveKeyboardEvent",value:function(p){var P=new Wr.a(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,p.keyCode);return new yi([P],Dt.a)}}]),b}(lt);Lc=Rl([rs(0,Pi.b),rs(1,vo.b),rs(2,hr.a),rs(3,Ci.a),rs(4,jn.b),rs(5,L.a)],Lc);var nf=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p){var P;return Object(C.a)(this,b),P=ae.call(this),P.domNode=_,P._register(p),P}return Object(x.a)(b)}(J.a);function av(se){return se&&typeof se=="object"&&(!se.overrideIdentifier||typeof se.overrideIdentifier=="string")&&(!se.resource||se.resource instanceof y.a)}var ov=function(){function se(){Object(C.a)(this,se),this._onDidChangeConfiguration=new On.b,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;var ae=new Zl;this._configuration=new At(ae.reload(),new La,new La,new La),ae.dispose()}return Object(x.a)(se,[{key:"getValue",value:function(b,_){var p=typeof b=="string"?b:void 0,P=av(b)?b:av(_)?_:{};return this._configuration.getValue(p,P,void 0)}},{key:"updateValues",value:function(b){var _={data:this._configuration.toData()},p=[],P=Object(j.a)(b),X;try{for(P.s();!(X=P.n()).done;){var Se=X.value,Ae=Object(qt.a)(Se,2),qe=Ae[0],rt=Ae[1];this.getValue(qe)!==rt&&(this._configuration.updateValue(qe,rt),p.push(qe))}}catch(Xt){P.e(Xt)}finally{P.f()}if(p.length>0){var ct=new nt({keys:p,overrides:[]},_,this._configuration);ct.source=8,ct.sourceConfig=null,this._onDidChangeConfiguration.fire(ct)}return Promise.resolve()}},{key:"updateValue",value:function(b,_,p,P){return this.updateValues([[b,_]])}},{key:"inspect",value:function(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._configuration.inspect(b,_,void 0)}}]),se}(),rf=function(){function se(ae,b,_){var p=this;Object(C.a)(this,se),this.configurationService=ae,this.modelService=b,this.languageService=_,this._onDidChangeConfiguration=new On.b,this.configurationService.onDidChangeConfiguration(function(P){p._onDidChangeConfiguration.fire({affectedKeys:P.affectedKeys,affectsConfiguration:function(Se,Ae){return P.affectsConfiguration(Ae)}})})}return Object(x.a)(se,[{key:"getValue",value:function(b,_,p){var P=Qa.a.isIPosition(_)?_:null,X=P?typeof p=="string"?p:void 0:typeof _=="string"?_:void 0,Se=b?this.getLanguage(b,P):void 0;return typeof X=="undefined"?this.configurationService.getValue({resource:b,overrideIdentifier:Se}):this.configurationService.getValue(X,{resource:b,overrideIdentifier:Se})}},{key:"getLanguage",value:function(b,_){var p=this.modelService.getModel(b);return p?_?p.getLanguageIdAtPosition(_.lineNumber,_.column):p.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(b)}}]),se}();rf=Rl([rs(0,Ke.a),rs(1,d.a),rs(2,U.a)],rf);var Cu=function(){function se(ae){Object(C.a)(this,se),this.configurationService=ae}return Object(x.a)(se,[{key:"getEOL",value:function(b,_){var p=this.configurationService.getValue("files.eol",{overrideIdentifier:_,resource:b});return p&&typeof p=="string"&&p!=="auto"?p:Dt.g||Dt.i?`
`:`\r
`}}]),se}();Cu=Rl([rs(0,Ke.a)],Cu);var nc=function(){function se(){Object(C.a)(this,se)}return Object(x.a)(se,[{key:"publicLog2",value:function(){}}]),se}(),sv=function(){function se(){Object(C.a)(this,se);var ae=y.a.from({scheme:se.SCHEME,authority:"model",path:"/"});this.workspace={id:Ii.b,folders:[new Ii.d({uri:ae,name:"",index:0})]}}return Object(x.a)(se,[{key:"getWorkspace",value:function(){return this.workspace}},{key:"getWorkspaceFolder",value:function(b){return b&&b.scheme===se.SCHEME?this.workspace.folders[0]:null}}]),se}();sv.SCHEME="inmemory";function rh(se,ae,b){if(!!ae&&se instanceof ov){var _=[];Object.keys(ae).forEach(function(p){Object(Nr.c)(p)&&_.push(["editor.".concat(p),ae[p]]),b&&Object(Nr.b)(p)&&_.push(["diffEditor.".concat(p),ae[p]])}),_.length>0&&se.updateValues(_)}}var af=function(){function se(ae){Object(C.a)(this,se),this._modelService=ae}return Object(x.a)(se,[{key:"hasPreviewHandler",value:function(){return!1}},{key:"apply",value:function(b,_){return ss(this,void 0,void 0,Object(E.a)().mark(function p(){var P,X,Se,Ae,qe,rt,ct,Xt,cn,Mn,gi,Zn,di,Un,qn;return Object(E.a)().wrap(function(_r){for(;;)switch(_r.prev=_r.next){case 0:P=Array.isArray(b)?b:Ra.b.convert(b),X=new Map,Se=Object(j.a)(P),_r.prev=3,Se.s();case 5:if((Ae=Se.n()).done){_r.next=19;break}if(qe=Ae.value,qe instanceof Ra.c){_r.next=9;break}throw new Error("bad edit - only text edits are supported");case 9:if(rt=this._modelService.getModel(qe.resource),rt){_r.next=12;break}throw new Error("bad edit - model not found");case 12:if(!(typeof qe.versionId=="number"&&rt.getVersionId()!==qe.versionId)){_r.next=14;break}throw new Error("bad state - model changed in the meantime");case 14:ct=X.get(rt),ct||(ct=[],X.set(rt,ct)),ct.push(xa.a.replaceMove(ia.a.lift(qe.textEdit.range),qe.textEdit.text));case 17:_r.next=5;break;case 19:_r.next=24;break;case 21:_r.prev=21,_r.t0=_r.catch(3),Se.e(_r.t0);case 24:return _r.prev=24,Se.f(),_r.finish(24);case 27:Xt=0,cn=0,Mn=Object(j.a)(X);try{for(Mn.s();!(gi=Mn.n()).done;)Zn=gi.value,di=Object(qt.a)(Zn,2),Un=di[0],qn=di[1],Un.pushStackElement(),Un.pushEditOperations([],qn,function(){return[]}),Un.pushStackElement(),cn+=1,Xt+=qn.length}catch(cr){Mn.e(cr)}finally{Mn.f()}return _r.abrupt("return",{ariaSummary:$.v(Ar.h.bulkEditServiceSummary,Xt,cn),isApplied:Xt>0});case 32:case"end":return _r.stop()}},p,this,[[3,21,24,27]])}))}}]),se}();af=Rl([rs(0,d.a)],af);var lv=function(){function se(){Object(C.a)(this,se)}return Object(x.a)(se,[{key:"getUriLabel",value:function(b,_){return b.scheme==="file"?b.fsPath:b.path}},{key:"getUriBasenameLabel",value:function(b){return Object(Gr.b)(b)}}]),se}(),of=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p){var P;return Object(C.a)(this,b),P=ae.call(this,_),P._codeEditorService=p,P}return Object(x.a)(b,[{key:"showContextView",value:function(p,P,X){if(!P){var Se=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Se&&(P=Se.getContainerDomNode())}return Object(Ye.a)(Object(ot.a)(b.prototype),"showContextView",this).call(this,p,P,X)}}]),b}(Ko);of=Rl([rs(0,hn),rs(1,L.a)],of);var ed=function(){function se(){Object(C.a)(this,se),this._neverEmitter=new On.b,this.onDidChangeTrust=this._neverEmitter.event}return Object(x.a)(se,[{key:"isWorkspaceTrusted",value:function(){return!0}}]),se}(),oo=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(){return Object(C.a)(this,b),ae.call(this)}return Object(x.a)(b)}(uo),Nl=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(){return Object(C.a)(this,b),ae.call(this,new jn.a)}return Object(x.a)(b)}(tl),bl=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X,Se,Ae){var qe;return Object(C.a)(this,b),qe=ae.call(this,_,p,P,X,Se,Ae),qe.configure({blockMouse:!1}),qe}return Object(x.a)(b)}(hl);bl=Rl([rs(0,hr.a),rs(1,Ci.a),rs(2,ya.b),rs(3,xt.a),rs(4,bo.b),rs(5,Pi.b)],bl);var uv=function(){function se(){Object(C.a)(this,se)}return Object(x.a)(se,[{key:"playAudioCue",value:function(b,_){return ss(this,void 0,void 0,Object(E.a)().mark(function p(){return Object(E.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:case"end":return X.stop()}},p)}))}}]),se}();Object(Ei.b)(Ke.a,ov,0),Object(Ei.b)(ro.a,rf,0),Object(Ei.b)(ro.b,Cu,0),Object(Ei.b)(Ii.a,sv,0),Object(Ei.b)(vi.a,lv,0),Object(Ei.b)(hr.a,nc,0),Object(Ei.b)(Qn.a,rv,0),Object(Ei.b)(Ci.a,ih,0),Object(Ei.b)(bs.b,xu,0),Object(Ei.b)(U.a,oo,0),Object(Ei.b)(ze.a,th.c,0),Object(Ei.b)(jn.b,Nl,0),Object(Ei.b)(d.a,Ml,0),Object(Ei.b)(Uc.a,Oc,0),Object(Ei.b)(Pi.b,Ha,0),Object(Ei.b)(Bt.b,yd,0),Object(Ei.b)(Bt.a,tf,0),Object(Ei.b)(g.a,g.b,0),Object(Ei.b)(Qu.a,A.b,0),Object(Ei.b)(Ra.a,af,0),Object(Ei.b)(ea.a,ed,0),Object(Ei.b)(io.a,nh,0),Object(Ei.b)(Ce.b,u,0),Object(Ei.b)(zl.a,zl.b,0),Object(Ei.b)(vo.b,qc,0),Object(Ei.b)(xt.a,Lc,0),Object(Ei.b)(Cs.a,Nu,0),Object(Ei.b)(ya.b,of,0),Object(Ei.b)(Ms.a,Cc,0),Object(Ei.b)(Pn.a,Cn,0),Object(Ei.b)(ya.a,bl,0),Object(Ei.b)(bo.b,Le,0),Object(Ei.b)(yu.b,uv,0);var sa;(function(se){var ae=new ys.a,b=Object(j.a)(Object(Ei.a)()),_;try{for(b.s();!(_=b.n()).done;){var p=_.value,P=Object(qt.a)(p,2),X=P[0],Se=P[1];ae.set(X,Se)}}catch(Xt){b.e(Xt)}finally{b.f()}var Ae=new Yl(ae,!0);ae.set(mi.a,Ae);function qe(Xt){var cn=ae.get(Xt);if(!cn)throw new Error("Missing service "+Xt);return cn instanceof Ka.a?Ae.invokeFunction(function(Mn){return Mn.get(Xt)}):cn}se.get=qe;var rt=!1;function ct(Xt){if(rt)return Ae;rt=!0;var cn=Object(j.a)(Object(Ei.a)()),Mn;try{for(cn.s();!(Mn=cn.n()).done;){var gi=Mn.value,Zn=Object(qt.a)(gi,2),di=Zn[0],Un=Zn[1];ae.get(di)||ae.set(di,Un)}}catch(pa){cn.e(pa)}finally{cn.f()}for(var qn in Xt)if(Xt.hasOwnProperty(qn)){var ur=Object(mi.c)(qn),_r=ae.get(ur);_r instanceof Ka.a&&ae.set(ur,Xt[qn])}var cr=Object(Xl.a)(),Zr=Object(j.a)(cr),Kr;try{for(Zr.s();!(Kr=Zr.n()).done;){var Jr=Kr.value;try{Ae.createInstance(Jr)}catch(pa){Object(gn.h)(pa)}}}catch(pa){Zr.e(pa)}finally{Zr.f()}return Ae}se.initialize=ct})(sa||(sa={}));var _d=function(se,ae,b,_){var p=arguments.length,P=p<3?ae:_===null?_=Object.getOwnPropertyDescriptor(ae,b):_,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(se,ae,b,_);else for(var Se=se.length-1;Se>=0;Se--)(X=se[Se])&&(P=(p<3?X(P):p>3?X(ae,b,P):X(ae,b))||P);return p>3&&P&&Object.defineProperty(ae,b,P),P},so=function(se,ae){return function(b,_){ae(b,_,se)}},Jl=0,Cd=!1;function ql(se){if(!se){if(Cd)return;Cd=!0}Kt.b(se||document.body)}var ah=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X,Se,Ae,qe,rt,ct,Xt,cn,Mn){var gi;Object(C.a)(this,b);var Zn=Object.assign({},p);return Zn.ariaLabel=Zn.ariaLabel||Ar.g.editorViewAccessibleLabel,Zn.ariaLabel=Zn.ariaLabel+";"+Ar.g.accessibilityHelpMessage,gi=ae.call(this,_,Zn,{},P,X,Se,Ae,rt,ct,Xt,cn,Mn),qe instanceof Lc?gi._standaloneKeybindingService=qe:gi._standaloneKeybindingService=null,ql(Zn.ariaContainerElement),gi}return Object(x.a)(b,[{key:"addCommand",value:function(p,P,X){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var Se="DYNAMIC_"+ ++Jl,Ae=Pi.a.deserialize(X);return this._standaloneKeybindingService.addDynamicKeybinding(Se,p,P,Ae),Se}},{key:"createContextKey",value:function(p,P){return this._contextKeyService.createKey(p,P)}},{key:"addAction",value:function(p){var P=this;if(typeof p.id!="string"||typeof p.label!="string"||typeof p.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),J.a.None;var X=p.id,Se=p.label,Ae=Pi.a.and(Pi.a.equals("editorId",this.getId()),Pi.a.deserialize(p.precondition)),qe=p.keybindings,rt=Pi.a.and(Ae,Pi.a.deserialize(p.keybindingContext)),ct=p.contextMenuGroupId||null,Xt=p.contextMenuOrder||0,cn=function(cr){for(var Zr=arguments.length,Kr=new Array(Zr>1?Zr-1:0),Jr=1;Jr<Zr;Jr++)Kr[Jr-1]=arguments[Jr];return Promise.resolve(p.run.apply(p,[P].concat(Kr)))},Mn=new J.c,gi=this.getId()+":"+X;if(Mn.add(vo.a.registerCommand(gi,cn)),ct){var Zn={command:{id:gi,title:Se},when:Ae,group:ct,order:Xt};Mn.add(bo.e.appendMenuItem(bo.c.EditorContext,Zn))}if(Array.isArray(qe)){var di=Object(j.a)(qe),Un;try{for(di.s();!(Un=di.n()).done;){var qn=Un.value;Mn.add(this._standaloneKeybindingService.addDynamicKeybinding(gi,qn,cn,rt))}}catch(_r){di.e(_r)}finally{di.f()}}var ur=new Jt.a(gi,Se,Se,Ae,function(){for(var _r=arguments.length,cr=new Array(_r),Zr=0;Zr<_r;Zr++)cr[Zr]=arguments[Zr];return Promise.resolve(p.run.apply(p,[P].concat(cr)))},this._contextKeyService);return this._actions.set(X,ur),Mn.add(Object(J.l)(function(){P._actions.delete(X)})),Mn}},{key:"_triggerCommand",value:function(p,P){if(this._codeEditorService instanceof Hn)try{this._codeEditorService.setActiveCodeEditor(this),Object(Ye.a)(Object(ot.a)(b.prototype),"_triggerCommand",this).call(this,p,P)}finally{this._codeEditorService.setActiveCodeEditor(null)}else Object(Ye.a)(Object(ot.a)(b.prototype),"_triggerCommand",this).call(this,p,P)}}]),b}(gt.a);ah=_d([so(2,mi.a),so(3,L.a),so(4,vo.b),so(5,Pi.b),so(6,xt.a),so(7,ci.b),so(8,Ci.a),so(9,Ce.b),so(10,V.a),so(11,or.a)],ah);var ic=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X,Se,Ae,qe,rt,ct,Xt,cn,Mn,gi,Zn,di){var Un;Object(C.a)(this,b);var qn=Object.assign({},p);rh(Xt,qn,!1);var ur=rt.registerEditorContainer(_);typeof qn.theme=="string"&&rt.setTheme(qn.theme),typeof qn.autoDetectHighContrast!="undefined"&&rt.setAutoDetectHighContrast(Boolean(qn.autoDetectHighContrast));var _r=qn.model;delete qn.model,Un=ae.call(this,_,qn,P,X,Se,Ae,qe,rt,ct,cn,Zn,di),Un._configurationService=Xt,Un._standaloneThemeService=rt,Un._register(ur);var cr;if(typeof _r=="undefined"){var Zr=gi.getLanguageIdByMimeType(qn.language)||qn.language||go.b;cr=sf(Mn,gi,qn.value||"",Zr,void 0),Un._ownsModel=!0}else cr=_r,Un._ownsModel=!1;if(Un._attachModel(cr),cr){var Kr={oldModelUrl:null,newModelUrl:cr.uri};Un._onDidChangeModel.fire(Kr)}return Un}return Object(x.a)(b,[{key:"dispose",value:function(){Object(Ye.a)(Object(ot.a)(b.prototype),"dispose",this).call(this)}},{key:"updateOptions",value:function(p){rh(this._configurationService,p,!1),typeof p.theme=="string"&&this._standaloneThemeService.setTheme(p.theme),typeof p.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(p.autoDetectHighContrast)),Object(Ye.a)(Object(ot.a)(b.prototype),"updateOptions",this).call(this,p)}},{key:"_postDetachModelCleanup",value:function(p){Object(Ye.a)(Object(ot.a)(b.prototype),"_postDetachModelCleanup",this).call(this,p),p&&this._ownsModel&&(p.dispose(),this._ownsModel=!1)}}]),b}(ah);ic=_d([so(2,mi.a),so(3,L.a),so(4,vo.b),so(5,Pi.b),so(6,xt.a),so(7,ze.a),so(8,Ci.a),so(9,Ke.a),so(10,Ce.b),so(11,d.a),so(12,U.a),so(13,V.a),so(14,or.a)],ic);var oh=function(se){Object(S.a)(b,se);var ae=Object(T.a)(b);function b(_,p,P,X,Se,Ae,qe,rt,ct,Xt,cn){var Mn;Object(C.a)(this,b);var gi=Object.assign({},p);rh(rt,gi,!0);var Zn=Ae.registerEditorContainer(_);return typeof gi.theme=="string"&&Ae.setTheme(gi.theme),typeof gi.autoDetectHighContrast!="undefined"&&Ae.setAutoDetectHighContrast(Boolean(gi.autoDetectHighContrast)),Mn=ae.call(this,_,gi,{},cn,X,P,Se,Ae,qe,ct,Xt),Mn._configurationService=rt,Mn._standaloneThemeService=Ae,Mn._register(Zn),Mn}return Object(x.a)(b,[{key:"dispose",value:function(){Object(Ye.a)(Object(ot.a)(b.prototype),"dispose",this).call(this)}},{key:"updateOptions",value:function(p){rh(this._configurationService,p,!0),typeof p.theme=="string"&&this._standaloneThemeService.setTheme(p.theme),typeof p.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(p.autoDetectHighContrast)),Object(Ye.a)(Object(ot.a)(b.prototype),"updateOptions",this).call(this,p)}},{key:"_createInnerEditor",value:function(p,P,X){return p.createInstance(ah,P,X)}},{key:"getOriginalEditor",value:function(){return Object(Ye.a)(Object(ot.a)(b.prototype),"getOriginalEditor",this).call(this)}},{key:"getModifiedEditor",value:function(){return Object(Ye.a)(Object(ot.a)(b.prototype),"getModifiedEditor",this).call(this)}},{key:"addCommand",value:function(p,P,X){return this.getModifiedEditor().addCommand(p,P,X)}},{key:"createContextKey",value:function(p,P){return this.getModifiedEditor().createContextKey(p,P)}},{key:"addAction",value:function(p){return this.getModifiedEditor().addAction(p)}}]),b}(Ft.a);oh=_d([so(2,mi.a),so(3,Pi.b),so(4,L.a),so(5,ze.a),so(6,Ci.a),so(7,Ke.a),so(8,ya.a),so(9,Bt.a),so(10,Pn.a)],oh);function sf(se,ae,b,_,p){if(b=b||"",!_){var P=b.indexOf(`
`),X=b;return P!==-1&&(X=b.substring(0,P)),sh(se,b,ae.createByFilepathOrFirstLine(p||null,X),p)}return sh(se,b,ae.createById(_),p)}function sh(se,ae,b,_){return se.createModel(ae,b,_)}var _s=a("jwCD"),Od=a("VHWv"),lh=a("Yr1X"),td=function(se,ae,b,_){function p(P){return P instanceof b?P:new b(function(X){X(P)})}return new(b||(b=Promise))(function(P,X){function Se(rt){try{qe(_.next(rt))}catch(ct){X(ct)}}function Ae(rt){try{qe(_.throw(rt))}catch(ct){X(ct)}}function qe(rt){rt.done?P(rt.value):p(rt.value).then(Se,Ae)}qe((_=_.apply(se,ae||[])).next())})};function uh(se,ae,b){var _=sa.initialize(b||{});return _.createInstance(ic,se,ae)}function cv(se){var ae=sa.get(L.a);return ae.onCodeEditorAdd(function(b){se(b)})}function ch(se){var ae=sa.get(L.a);return ae.onDiffEditorAdd(function(b){se(b)})}function dv(){var se=sa.get(L.a);return se.listCodeEditors()}function dh(){var se=sa.get(L.a);return se.listDiffEditors()}function nd(se,ae,b){var _=sa.initialize(b||{});return _.createInstance(oh,se,ae)}function hv(se,ae){var b=sa.initialize({});return b.createInstance(ne.a,se,ae)}function hh(se){if(typeof se.id!="string"||typeof se.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return vo.a.registerCommand(se.id,se.run)}function lf(se){if(typeof se.id!="string"||typeof se.label!="string"||typeof se.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");var ae=Pi.a.deserialize(se.precondition),b=function(Ae){for(var qe=arguments.length,rt=new Array(qe>1?qe-1:0),ct=1;ct<qe;ct++)rt[ct-1]=arguments[ct];return Zu.d.runEditorCommand(Ae,rt,ae,function(Xt,cn,Mn){return Promise.resolve(se.run.apply(se,[cn].concat(Object(ve.a)(Mn))))})},_=new J.c;if(_.add(vo.a.registerCommand(se.id,b)),se.contextMenuGroupId){var p={command:{id:se.id,title:se.label},when:ae,group:se.contextMenuGroupId,order:se.contextMenuOrder||0};_.add(bo.e.appendMenuItem(bo.c.EditorContext,p))}if(Array.isArray(se.keybindings)){var P=sa.get(xt.a);if(!(P instanceof Lc))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{var X=Pi.a.and(ae,Pi.a.deserialize(se.keybindingContext));_.add(P.addDynamicKeybindings(se.keybindings.map(function(Se){return{keybinding:Se,command:se.id,when:X}})))}}return _}function fv(se){return uf([se])}function uf(se){var ae=sa.get(xt.a);return ae instanceof Lc?ae.addDynamicKeybindings(se.map(function(b){return{keybinding:b.keybinding,command:b.command,commandArgs:b.commandArgs,when:Pi.a.deserialize(b.when)}})):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),J.a.None)}function Ou(se,ae,b){var _=sa.get(U.a),p=_.getLanguageIdByMimeType(ae)||ae;return sf(sa.get(d.a),_,se,p,b)}function cf(se,ae){var b=sa.get(U.a),_=b.getLanguageIdByMimeType(ae)||ae||go.b;se.setLanguage(b.createById(_))}function df(se,ae,b){if(se){var _=sa.get(bs.b);_.changeOne(ae,se.uri,b)}}function hf(se){var ae=sa.get(bs.b);ae.changeAll(se,[])}function vv(se){var ae=sa.get(bs.b);return ae.read(se)}function fh(se){var ae=sa.get(bs.b);return ae.onMarkerChanged(se)}function gv(se){var ae=sa.get(d.a);return ae.getModel(se)}function rc(){var se=sa.get(d.a);return se.getModels()}function ff(se){var ae=sa.get(d.a);return ae.onModelAdded(se)}function ac(se){var ae=sa.get(d.a);return ae.onModelRemoved(se)}function Fu(se){var ae=sa.get(d.a);return ae.onModelLanguageChanged(function(b){se({model:b.model,oldLanguage:b.oldLanguageId})})}function Bu(se){return ue(sa.get(d.a),sa.get(V.a),se)}function mv(se,ae){var b=sa.get(U.a),_=sa.get(ze.a);return _.registerEditorContainer(se),We.colorizeElement(_,b,se,ae)}function id(se,ae,b){var _=sa.get(U.a),p=sa.get(ze.a);return p.registerEditorContainer(document.body),We.colorize(_,se,ae,b)}function vh(se,ae){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:4,_=sa.get(ze.a);return _.registerEditorContainer(document.body),We.colorizeModelLine(se,ae,b)}function Sd(se){var ae=F.m.get(se);return ae||{getInitialState:function(){return N.a},tokenize:function(_,p,P){return Object(N.b)(se,P)}}}function gh(se,ae){F.m.getOrCreate(ae);for(var b=Sd(ae),_=Object($.S)(se),p=[],P=b.getInitialState(),X=0,Se=_.length;X<Se;X++){var Ae=_[X],qe=b.tokenize(Ae,!0,P);p[X]=qe.tokens,P=qe.endState}return p}function mh(se,ae){var b=sa.get(ze.a);b.defineTheme(se,ae)}function ph(se){var ae=sa.get(ze.a);ae.setTheme(se)}function kd(){Q.a.clearAllFontInfos()}function Mc(se,ae){return vo.a.registerCommand({id:se,handler:ae})}function vf(se){var ae=sa.get(Ms.a);return ae.registerOpener({open:function(_){return td(this,void 0,void 0,Object(E.a)().mark(function p(){return Object(E.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return typeof _=="string"&&(_=y.a.parse(_)),X.abrupt("return",se.open(_));case 2:case"end":return X.stop()}},p)}))}})}function gf(se){var ae=this,b=sa.get(L.a);return b.registerCodeEditorOpenHandler(function(_,p,P){return td(ae,void 0,void 0,Object(E.a)().mark(function X(){var Se,Ae,qe;return Object(E.a)().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:if(p){ct.next=2;break}return ct.abrupt("return",null);case 2:return Ae=(Se=_.options)===null||Se===void 0?void 0:Se.selection,Ae&&typeof Ae.endLineNumber=="number"&&typeof Ae.endColumn=="number"?qe=Ae:Ae&&(qe={lineNumber:Ae.startLineNumber,column:Ae.startColumn}),ct.next=6,se.openCodeEditor(p,_.resource,qe);case 6:if(!ct.sent){ct.next=8;break}return ct.abrupt("return",p);case 8:return ct.abrupt("return",null);case 9:case"end":return ct.stop()}},X)}))})}function mf(){return{create:uh,getEditors:dv,getDiffEditors:dh,onDidCreateEditor:cv,onDidCreateDiffEditor:ch,createDiffEditor:nd,createDiffNavigator:hv,addCommand:hh,addEditorAction:lf,addKeybindingRule:fv,addKeybindingRules:uf,createModel:Ou,setModelLanguage:cf,setModelMarkers:df,getModelMarkers:vv,removeAllMarkers:hf,onDidChangeMarkers:fh,getModels:rc,getModel:gv,onDidCreateModel:ff,onWillDisposeModel:ac,onDidChangeModelLanguage:Fu,createWebWorker:Bu,colorizeElement:mv,colorize:id,colorizeModelLine:vh,tokenize:gh,defineTheme:mh,setTheme:ph,remeasureFonts:kd,registerCommand:Mc,registerLinkOpener:vf,registerEditorOpener:gf,AccessibilitySupport:de.a,ContentWidgetPositionPreference:de.g,CursorChangeReason:de.h,DefaultEndOfLine:de.i,EditorAutoIndentStrategy:de.k,EditorOption:de.l,EndOfLinePreference:de.m,EndOfLineSequence:de.n,MinimapPosition:de.w,MouseTargetType:de.x,OverlayWidgetPositionPreference:de.y,OverviewRulerLane:de.z,GlyphMarginLane:de.o,RenderLineNumbersType:de.B,RenderMinimap:de.C,ScrollbarVisibility:de.E,ScrollType:de.D,TextEditorCursorBlinkingStyle:de.J,TextEditorCursorStyle:de.K,TrackedRangeStickiness:de.L,WrappingIndent:de.M,InjectedTextCursorStops:de.q,PositionAffinity:de.A,ConfigurationChangedEvent:le.c,BareFontInfo:ee.a,FontInfo:ee.b,TextModelResolvedOptions:W.h,FindMatch:W.b,ApplyUpdateResult:le.a,LineRange:Od.a,LineRangeMapping:_s.a,RangeMapping:_s.c,EditorZoom:lh.a,EditorType:H.a,EditorOptions:le.h}}var Dd=a("zrhQ");function rd(se,ae){if(!ae||!Array.isArray(ae))return!1;var b=Object(j.a)(ae),_;try{for(b.s();!(_=b.n()).done;){var p=_.value;if(!se(p))return!1}}catch(P){b.e(P)}finally{b.f()}return!0}function yl(se,ae){return typeof se=="boolean"?se:ae}function al(se,ae){return typeof se=="string"?se:ae}function bh(se){var ae={},b=Object(j.a)(se),_;try{for(b.s();!(_=b.n()).done;){var p=_.value;ae[p]=!0}}catch(P){b.e(P)}finally{b.f()}return ae}function wd(se){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ae&&(se=se.map(function(_){return _.toLowerCase()}));var b=bh(se);return ae?function(_){return b[_.toLowerCase()]!==void 0&&b.hasOwnProperty(_.toLowerCase())}:function(_){return b[_]!==void 0&&b.hasOwnProperty(_)}}function ad(se,ae){ae=ae.replace(/@@/g,"");var b=0,_;do _=!1,ae=ae.replace(/@(\w+)/g,function(P,X){_=!0;var Se="";if(typeof se[X]=="string")Se=se[X];else if(se[X]&&se[X]instanceof RegExp)Se=se[X].source;else throw se[X]===void 0?Re(se,"language definition does not contain attribute '"+X+"', used at: "+ae):Re(se,"attribute reference '"+X+"' must be a string, used at: "+ae);return pe(Se)?"":"(?:"+Se+")"}),b++;while(_&&b<5);ae=ae.replace(/\x01/g,"@");var p=(se.ignoreCase?"i":"")+(se.unicode?"u":"");return new RegExp(ae,p)}function yh(se,ae,b,_){if(_<0)return se;if(_<ae.length)return ae[_];if(_>=100){_=_-100;var p=b.split(".");if(p.unshift(b),_<p.length)return p[_]}return null}function _h(se,ae,b,_){var p=-1,P=b,X=b.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);X&&(X[3]&&(p=parseInt(X[3]),X[2]&&(p=p+100)),P=X[4]);var Se="~",Ae=P;!P||P.length===0?(Se="!=",Ae=""):/^\w*$/.test(Ae)?Se="==":(X=P.match(/^(@|!@|~|!~|==|!=)(.*)$/),X&&(Se=X[1],Ae=X[2]));var qe;if((Se==="~"||Se==="!~")&&/^(\w|\|)*$/.test(Ae)){var rt=wd(Ae.split("|"),se.ignoreCase);qe=function(di){return Se==="~"?rt(di):!rt(di)}}else if(Se==="@"||Se==="!@"){var ct=se[Ae];if(!ct)throw Re(se,"the @ match target '"+Ae+"' is not defined, in rule: "+ae);if(!rd(function(Zn){return typeof Zn=="string"},ct))throw Re(se,"the @ match target '"+Ae+"' must be an array of strings, in rule: "+ae);var Xt=wd(ct,se.ignoreCase);qe=function(di){return Se==="@"?Xt(di):!Xt(di)}}else if(Se==="~"||Se==="!~")if(Ae.indexOf("$")<0){var cn=ad(se,"^"+Ae+"$");qe=function(di){return Se==="~"?cn.test(di):!cn.test(di)}}else qe=function(di,Un,qn,ur){var _r=ad(se,"^"+Oe(se,Ae,Un,qn,ur)+"$");return _r.test(di)};else if(Ae.indexOf("$")<0){var Mn=me(se,Ae);qe=function(di){return Se==="=="?di===Mn:di!==Mn}}else{var gi=me(se,Ae);qe=function(di,Un,qn,ur,_r){var cr=Oe(se,gi,Un,qn,ur);return Se==="=="?di===cr:di!==cr}}return p===-1?{name:b,value:_,test:function(di,Un,qn,ur){return qe(di,di,Un,qn,ur)}}:{name:b,value:_,test:function(di,Un,qn,ur){var _r=yh(di,Un,qn,p);return qe(_r||"",di,Un,qn,ur)}}}function od(se,ae,b){if(b){if(typeof b=="string")return b;if(b.token||b.token===""){if(typeof b.token!="string")throw Re(se,"a 'token' attribute must be of type string, in rule: "+ae);var _={token:b.token};if(b.token.indexOf("$")>=0&&(_.tokenSubst=!0),typeof b.bracket=="string")if(b.bracket==="@open")_.bracket=1;else if(b.bracket==="@close")_.bracket=-1;else throw Re(se,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+ae);if(b.next){if(typeof b.next!="string")throw Re(se,"the next state must be a string value in rule: "+ae);var p=b.next;if(!/^(@pop|@push|@popall)$/.test(p)&&(p[0]==="@"&&(p=p.substr(1)),p.indexOf("$")<0&&!Ne(se,Oe(se,p,"",[],""))))throw Re(se,"the next state '"+b.next+"' is not defined in rule: "+ae);_.next=p}return typeof b.goBack=="number"&&(_.goBack=b.goBack),typeof b.switchTo=="string"&&(_.switchTo=b.switchTo),typeof b.log=="string"&&(_.log=b.log),typeof b.nextEmbedded=="string"&&(_.nextEmbedded=b.nextEmbedded,se.usesEmbedded=!0),_}else if(Array.isArray(b)){for(var P=[],X=0,Se=b.length;X<Se;X++)P[X]=od(se,ae,b[X]);return{group:P}}else if(b.cases){var Ae=[];for(var qe in b.cases)if(b.cases.hasOwnProperty(qe)){var rt=od(se,ae,b.cases[qe]);qe==="@default"||qe==="@"||qe===""?Ae.push({test:void 0,value:rt,name:qe}):qe==="@eos"?Ae.push({test:function(cn,Mn,gi,Zn){return Zn},value:rt,name:qe}):Ae.push(_h(se,ae,qe,rt))}var ct=se.defaultToken;return{test:function(cn,Mn,gi,Zn){var di=Object(j.a)(Ae),Un;try{for(di.s();!(Un=di.n()).done;){var qn=Un.value,ur=!qn.test||qn.test(cn,Mn,gi,Zn);if(ur)return qn.value}}catch(_r){di.e(_r)}finally{di.f()}return ct}}}else throw Re(se,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+ae)}else return{token:""}}var Ch=function(){function se(ae){Object(C.a)(this,se),this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=ae}return Object(x.a)(se,[{key:"setRegex",value:function(b,_){var p;if(typeof _=="string")p=_;else if(_ instanceof RegExp)p=_.source;else throw Re(b,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=p.length>0&&p[0]==="^",this.name=this.name+": "+p,this.regex=ad(b,"^(?:"+(this.matchOnlyAtLineStart?p.substr(1):p)+")")}},{key:"setAction",value:function(b,_){this.action=od(b,this.name,_)}}]),se}();function jd(se,ae){if(!ae||typeof ae!="object")throw new Error("Monarch: expecting a language definition object");var b={};b.languageId=se,b.includeLF=yl(ae.includeLF,!1),b.noThrow=!1,b.maxStack=100,b.start=typeof ae.start=="string"?ae.start:null,b.ignoreCase=yl(ae.ignoreCase,!1),b.unicode=yl(ae.unicode,!1),b.tokenPostfix=al(ae.tokenPostfix,"."+b.languageId),b.defaultToken=al(ae.defaultToken,"source"),b.usesEmbedded=!1;var _=ae;_.languageId=se,_.includeLF=b.includeLF,_.ignoreCase=b.ignoreCase,_.unicode=b.unicode,_.noThrow=b.noThrow,_.usesEmbedded=b.usesEmbedded,_.stateNames=ae.tokenizer,_.defaultToken=b.defaultToken;function p(Xt,cn,Mn){var gi=Object(j.a)(Mn),Zn;try{for(gi.s();!(Zn=gi.n()).done;){var di=Zn.value,Un=di.include;if(Un){if(typeof Un!="string")throw Re(b,"an 'include' attribute must be a string at: "+Xt);if(Un[0]==="@"&&(Un=Un.substr(1)),!ae.tokenizer[Un])throw Re(b,"include target '"+Un+"' is not defined at: "+Xt);p(Xt+"."+Un,cn,ae.tokenizer[Un])}else{var qn=new Ch(Xt);if(Array.isArray(di)&&di.length>=1&&di.length<=3)if(qn.setRegex(_,di[0]),di.length>=3)if(typeof di[1]=="string")qn.setAction(_,{token:di[1],next:di[2]});else if(typeof di[1]=="object"){var ur=di[1];ur.next=di[2],qn.setAction(_,ur)}else throw Re(b,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+Xt);else qn.setAction(_,di[1]);else{if(!di.regex)throw Re(b,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+Xt);di.name&&typeof di.name=="string"&&(qn.name=di.name),di.matchOnlyAtStart&&(qn.matchOnlyAtLineStart=yl(di.matchOnlyAtLineStart,!1)),qn.setRegex(_,di.regex),qn.setAction(_,di.action)}cn.push(qn)}}}catch(_r){gi.e(_r)}finally{gi.f()}}if(!ae.tokenizer||typeof ae.tokenizer!="object")throw Re(b,"a language definition must define the 'tokenizer' attribute as an object");b.tokenizer=[];for(var P in ae.tokenizer)if(ae.tokenizer.hasOwnProperty(P)){b.start||(b.start=P);var X=ae.tokenizer[P];b.tokenizer[P]=new Array,p("tokenizer."+P,b.tokenizer[P],X)}if(b.usesEmbedded=_.usesEmbedded,ae.brackets){if(!Array.isArray(ae.brackets))throw Re(b,"the 'brackets' attribute must be defined as an array")}else ae.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];var Se=[],Ae=Object(j.a)(ae.brackets),qe;try{for(Ae.s();!(qe=Ae.n()).done;){var rt=qe.value,ct=rt;if(ct&&Array.isArray(ct)&&ct.length===3&&(ct={token:ct[2],open:ct[0],close:ct[1]}),ct.open===ct.close)throw Re(b,"open and close brackets in a 'brackets' attribute must be different: "+ct.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof ct.open=="string"&&typeof ct.token=="string"&&typeof ct.close=="string")Se.push({token:ct.token+b.tokenPostfix,open:me(b,ct.open),close:me(b,ct.close)});else throw Re(b,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}}catch(Xt){Ae.e(Xt)}finally{Ae.f()}return b.brackets=Se,b.noThrow=!0,b}var Tc=function(se,ae,b,_){function p(P){return P instanceof b?P:new b(function(X){X(P)})}return new(b||(b=Promise))(function(P,X){function Se(rt){try{qe(_.next(rt))}catch(ct){X(ct)}}function Ae(rt){try{qe(_.throw(rt))}catch(ct){X(ct)}}function qe(rt){rt.done?P(rt.value):p(rt.value).then(Se,Ae)}qe((_=_.apply(se,ae||[])).next())})};function Su(se){go.a.registerLanguage(se)}function sd(){var se=[];return se=se.concat(go.a.getLanguages()),se}function Oh(se){var ae=sa.get(U.a);return ae.languageIdCodec.encodeLanguageId(se)}function pf(se,ae){var b=sa.get(U.a),_=b.onDidRequestRichLanguageFeatures(function(p){p===se&&(_.dispose(),ae())});return _}function Sh(se,ae){var b=sa.get(U.a),_=b.onDidRequestBasicLanguageFeatures(function(p){p===se&&(_.dispose(),ae())});return _}function bf(se,ae){var b=sa.get(U.a);if(!b.isRegisteredLanguageId(se))throw new Error("Cannot set configuration for unknown language ".concat(se));var _=sa.get(V.a);return _.register(se,ae,100)}var yf=function(){function se(ae,b){Object(C.a)(this,se),this._languageId=ae,this._actual=b}return Object(x.a)(se,[{key:"dispose",value:function(){}},{key:"getInitialState",value:function(){return this._actual.getInitialState()}},{key:"tokenize",value:function(b,_,p){if(typeof this._actual.tokenize=="function")return _f.adaptTokenize(this._languageId,this._actual,b,p);throw new Error("Not supported!")}},{key:"tokenizeEncoded",value:function(b,_,p){var P=this._actual.tokenizeEncoded(b,p);return new F.d(P.tokens,P.endState)}}]),se}(),_f=function(){function se(ae,b,_,p){Object(C.a)(this,se),this._languageId=ae,this._actual=b,this._languageService=_,this._standaloneThemeService=p}return Object(x.a)(se,[{key:"dispose",value:function(){}},{key:"getInitialState",value:function(){return this._actual.getInitialState()}},{key:"tokenize",value:function(b,_,p){return se.adaptTokenize(this._languageId,this._actual,b,p)}},{key:"_toBinaryTokens",value:function(b,_){for(var p=b.encodeLanguageId(this._languageId),P=this._standaloneThemeService.getColorTheme().tokenTheme,X=[],Se=0,Ae=0,qe=0,rt=_.length;qe<rt;qe++){var ct=_[qe],Xt=P.match(p,ct.scopes)|1024;if(!(Se>0&&X[Se-1]===Xt)){var cn=ct.startIndex;qe===0?cn=0:cn<Ae&&(cn=Ae),X[Se++]=cn,X[Se++]=Xt,Ae=cn}}for(var Mn=new Uint32Array(Se),gi=0;gi<Se;gi++)Mn[gi]=X[gi];return Mn}},{key:"tokenizeEncoded",value:function(b,_,p){var P=this._actual.tokenize(b,p),X=this._toBinaryTokens(this._languageService.languageIdCodec,P.tokens),Se;return P.endState.equals(p)?Se=p:Se=P.endState,new F.d(X,Se)}}],[{key:"_toClassicTokens",value:function(b,_){for(var p=[],P=0,X=0,Se=b.length;X<Se;X++){var Ae=b[X],qe=Ae.startIndex;X===0?qe=0:qe<P&&(qe=P),p[X]=new F.l(qe,Ae.scopes,_),P=qe}return p}},{key:"adaptTokenize",value:function(b,_,p,P){var X=_.tokenize(p,P),Se=se._toClassicTokens(X.tokens,b),Ae;return X.endState.equals(P)?Ae=P:Ae=X.endState,new F.n(Se,Ae)}}]),se}();function pv(se){return typeof se.getInitialState=="function"}function kh(se){return"tokenizeEncoded"in se}function Ed(se){return se&&typeof se.then=="function"}function oc(se){var ae=sa.get(ze.a);if(se){for(var b=[null],_=1,p=se.length;_<p;_++)b[_]=Dd.a.fromHex(se[_]);ae.setColorMapOverride(b)}else ae.setColorMapOverride(null)}function Dh(se,ae){return kh(ae)?new yf(se,ae):new _f(se,ae,sa.get(U.a),sa.get(ze.a))}function Ic(se,ae){var b=this,_=new F.h(function(){return Tc(b,void 0,void 0,Object(E.a)().mark(function p(){var P;return Object(E.a)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,Promise.resolve(ae.create());case 2:if(P=Se.sent,P){Se.next=5;break}return Se.abrupt("return",null);case 5:if(!pv(P)){Se.next=7;break}return Se.abrupt("return",Dh(se,P));case 7:return Se.abrupt("return",new ye(sa.get(U.a),sa.get(ze.a),se,jd(se,P),sa.get(Ke.a)));case 8:case"end":return Se.stop()}},p)}))});return F.m.registerFactory(se,_)}function Cg(se,ae){var b=sa.get(U.a);if(!b.isRegisteredLanguageId(se))throw new Error("Cannot set tokens provider for unknown language ".concat(se));return Ed(ae)?Ic(se,{create:function(){return ae}}):F.m.register(se,Dh(se,ae))}function Ld(se,ae){var b=function(p){return new ye(sa.get(U.a),sa.get(ze.a),se,jd(se,p),sa.get(Ke.a))};return Ed(ae)?Ic(se,{create:function(){return ae}}):F.m.register(se,b(ae))}function wh(se,ae){var b=sa.get(or.a);return b.referenceProvider.register(se,ae)}function bv(se,ae){var b=sa.get(or.a);return b.renameProvider.register(se,ae)}function Og(se,ae){var b=sa.get(or.a);return b.signatureHelpProvider.register(se,ae)}function Ue(se,ae){var b=sa.get(or.a);return b.hoverProvider.register(se,{provideHover:function(p,P,X){var Se=p.getWordAtPosition(P);return Promise.resolve(ae.provideHover(p,P,X)).then(function(Ae){if(!!Ae)return!Ae.range&&Se&&(Ae.range=new ia.a(P.lineNumber,Se.startColumn,P.lineNumber,Se.endColumn)),Ae.range||(Ae.range=new ia.a(P.lineNumber,P.column,P.lineNumber,P.column)),Ae})}})}function Be(se,ae){var b=sa.get(or.a);return b.documentSymbolProvider.register(se,ae)}function _t(se,ae){var b=sa.get(or.a);return b.documentHighlightProvider.register(se,ae)}function vt(se,ae){var b=sa.get(or.a);return b.linkedEditingRangeProvider.register(se,ae)}function ht(se,ae){var b=sa.get(or.a);return b.definitionProvider.register(se,ae)}function zt(se,ae){var b=sa.get(or.a);return b.implementationProvider.register(se,ae)}function Yt(se,ae){var b=sa.get(or.a);return b.typeDefinitionProvider.register(se,ae)}function nn(se,ae){var b=sa.get(or.a);return b.codeLensProvider.register(se,ae)}function yn(se,ae,b){var _=sa.get(or.a);return _.codeActionProvider.register(se,{providedCodeActionKinds:b==null?void 0:b.providedCodeActionKinds,documentation:b==null?void 0:b.documentation,provideCodeActions:function(P,X,Se,Ae){var qe=sa.get(bs.b),rt=qe.read({resource:P.uri}).filter(function(ct){return ia.a.areIntersectingOrTouching(ct,X)});return ae.provideCodeActions(P,X,{markers:rt,only:Se.only,trigger:Se.trigger},Ae)},resolveCodeAction:ae.resolveCodeAction})}function Rn(se,ae){var b=sa.get(or.a);return b.documentFormattingEditProvider.register(se,ae)}function ei(se,ae){var b=sa.get(or.a);return b.documentRangeFormattingEditProvider.register(se,ae)}function $n(se,ae){var b=sa.get(or.a);return b.onTypeFormattingEditProvider.register(se,ae)}function Kn(se,ae){var b=sa.get(or.a);return b.linkProvider.register(se,ae)}function ui(se,ae){var b=sa.get(or.a);return b.completionProvider.register(se,ae)}function Mi(se,ae){var b=sa.get(or.a);return b.colorProvider.register(se,ae)}function Ri(se,ae){var b=sa.get(or.a);return b.foldingRangeProvider.register(se,ae)}function Ti(se,ae){var b=sa.get(or.a);return b.declarationProvider.register(se,ae)}function Xi(se,ae){var b=sa.get(or.a);return b.selectionRangeProvider.register(se,ae)}function Ji(se,ae){var b=sa.get(or.a);return b.documentSemanticTokensProvider.register(se,ae)}function Or(se,ae){var b=sa.get(or.a);return b.documentRangeSemanticTokensProvider.register(se,ae)}function kr(se,ae){var b=sa.get(or.a);return b.inlineCompletionsProvider.register(se,ae)}function Pr(se,ae){var b=sa.get(or.a);return b.inlayHintsProvider.register(se,ae)}function vr(){return{register:Su,getLanguages:sd,onLanguage:pf,onLanguageEncountered:Sh,getEncodedLanguageId:Oh,setLanguageConfiguration:bf,setColorMap:oc,registerTokensProviderFactory:Ic,setTokensProvider:Cg,setMonarchTokensProvider:Ld,registerReferenceProvider:wh,registerRenameProvider:bv,registerCompletionItemProvider:ui,registerSignatureHelpProvider:Og,registerHoverProvider:Ue,registerDocumentSymbolProvider:Be,registerDocumentHighlightProvider:_t,registerLinkedEditingRangeProvider:vt,registerDefinitionProvider:ht,registerImplementationProvider:zt,registerTypeDefinitionProvider:Yt,registerCodeLensProvider:nn,registerCodeActionProvider:yn,registerDocumentFormattingEditProvider:Rn,registerDocumentRangeFormattingEditProvider:ei,registerOnTypeFormattingEditProvider:$n,registerLinkProvider:Kn,registerColorProvider:Mi,registerFoldingRangeProvider:Ri,registerDeclarationProvider:Ti,registerSelectionRangeProvider:Xi,registerDocumentSemanticTokensProvider:Ji,registerDocumentRangeSemanticTokensProvider:Or,registerInlineCompletionsProvider:kr,registerInlayHintsProvider:Pr,DocumentHighlightKind:de.j,CompletionItemKind:de.d,CompletionItemTag:de.e,CompletionItemInsertTextRule:de.c,SymbolKind:de.H,SymbolTag:de.I,IndentAction:de.p,CompletionTriggerKind:de.f,SignatureHelpTriggerKind:de.G,InlayHintKind:de.r,InlineCompletionTriggerKind:de.s,CodeActionTriggerType:de.b,FoldingRangeKind:F.e,SelectedSuggestionInfo:F.i}}var Ir=a("ezu8");le.h.wrappingIndent.defaultValue=0,le.h.glyphMargin.defaultValue=!1,le.h.autoIndent.defaultValue=3,le.h.overviewRulerLanes.defaultValue=2,Ir.a.setFormatterSelector(function(se,ae,b){return Promise.resolve(se[0])});var tr=Object(De.a)();tr.editor=mf(),tr.languages=vr();var Ui=tr.CancellationTokenSource,$i=tr.Emitter,sr=tr.KeyCode,Dr=tr.KeyMod,wr=tr.Position,lr=tr.Range,ar=tr.Selection,Rr=tr.SelectionDirection,zr=tr.MarkerSeverity,Vr=tr.MarkerTag,la=tr.Uri,Ta=tr.Token,ga=tr.editor,ma=tr.languages,Sa=globalThis.MonacoEnvironment;((Sa==null?void 0:Sa.globalAPI)||typeof define=="function"&&a("FzHg"))&&(globalThis.monaco=tr),typeof globalThis.require!="undefined"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},"99AM":function(fn,K,a){"use strict";a.d(K,"e",function(){return ve}),a.d(K,"a",function(){return re}),a.d(K,"h",function(){return J}),a.d(K,"j",function(){return $}),a.d(K,"d",function(){return L}),a.d(K,"c",function(){return ne}),a.d(K,"b",function(){return ee}),a.d(K,"f",function(){return W}),a.d(K,"k",function(){return F}),a.d(K,"i",function(){return V}),a.d(K,"g",function(){return N});var le=a("MD5Z"),De=a("zrhQ");function E(U,d){var j=Object.assign({},d);for(var C in U){var x=U[C];j[C]=x!==void 0?Object(le.c)(x):void 0}return j}var ve={keybindingLabelBackground:Object(le.c)(le.Db),keybindingLabelForeground:Object(le.c)(le.Gb),keybindingLabelBorder:Object(le.c)(le.Eb),keybindingLabelBottomBorder:Object(le.c)(le.Fb),keybindingLabelShadow:Object(le.c)(le.Wc)},re={buttonForeground:Object(le.c)(le.n),buttonSeparator:Object(le.c)(le.s),buttonBackground:Object(le.c)(le.l),buttonHoverBackground:Object(le.c)(le.o),buttonSecondaryForeground:Object(le.c)(le.q),buttonSecondaryBackground:Object(le.c)(le.p),buttonSecondaryHoverBackground:Object(le.c)(le.r),buttonBorder:Object(le.c)(le.m)},J={progressBarBackground:Object(le.c)(le.yc)},$={inputActiveOptionBorder:Object(le.c)(le.pb),inputActiveOptionForeground:Object(le.c)(le.qb),inputActiveOptionBackground:Object(le.c)(le.ob)},y={checkboxBackground:Object(le.c)(le.t),checkboxBorder:Object(le.c)(le.u),checkboxForeground:Object(le.c)(le.v)},Q={dialogBackground:Object(le.c)(le.gb),dialogForeground:Object(le.c)(le.ib),dialogShadow:Object(le.c)(le.Wc),dialogBorder:Object(le.c)(le.w),errorIconForeground:Object(le.c)(le.vc),warningIconForeground:Object(le.c)(le.xc),infoIconForeground:Object(le.c)(le.wc),textLinkForeground:Object(le.c)(le.Qc)},L={inputBackground:Object(le.c)(le.rb),inputForeground:Object(le.c)(le.tb),inputBorder:Object(le.c)(le.sb),inputValidationInfoBorder:Object(le.c)(le.yb),inputValidationInfoBackground:Object(le.c)(le.xb),inputValidationInfoForeground:Object(le.c)(le.zb),inputValidationWarningBorder:Object(le.c)(le.Bb),inputValidationWarningBackground:Object(le.c)(le.Ab),inputValidationWarningForeground:Object(le.c)(le.Cb),inputValidationErrorBorder:Object(le.c)(le.vb),inputValidationErrorBackground:Object(le.c)(le.ub),inputValidationErrorForeground:Object(le.c)(le.wb)},ne={listFilterWidgetBackground:Object(le.c)(le.Lb),listFilterWidgetOutline:Object(le.c)(le.Nb),listFilterWidgetNoMatchesOutline:Object(le.c)(le.Mb),listFilterWidgetShadow:Object(le.c)(le.Ob),inputBoxStyles:L,toggleStyles:$},ee={badgeBackground:Object(le.c)(le.f),badgeForeground:Object(le.c)(le.g),badgeBorder:Object(le.c)(le.w)},H={breadcrumbsBackground:Object(le.c)(le.i),breadcrumbsForeground:Object(le.c)(le.k),breadcrumbsHoverForeground:Object(le.c)(le.j),breadcrumbsFocusForeground:Object(le.c)(le.j),breadcrumbsFocusAndSelectionForeground:Object(le.c)(le.h)},W={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:Object(le.c)(le.Qb),listFocusForeground:Object(le.c)(le.Rb),listFocusOutline:Object(le.c)(le.Tb),listActiveSelectionBackground:Object(le.c)(le.Hb),listActiveSelectionForeground:Object(le.c)(le.Ib),listActiveSelectionIconForeground:Object(le.c)(le.Jb),listFocusAndSelectionOutline:Object(le.c)(le.Pb),listFocusAndSelectionBackground:Object(le.c)(le.Hb),listFocusAndSelectionForeground:Object(le.c)(le.Ib),listInactiveSelectionBackground:Object(le.c)(le.Zb),listInactiveSelectionIconForeground:Object(le.c)(le.bc),listInactiveSelectionForeground:Object(le.c)(le.ac),listInactiveFocusBackground:Object(le.c)(le.Xb),listInactiveFocusOutline:Object(le.c)(le.Yb),listHoverBackground:Object(le.c)(le.Vb),listHoverForeground:Object(le.c)(le.Wb),listDropBackground:Object(le.c)(le.Kb),listSelectionOutline:Object(le.c)(le.b),listHoverOutline:Object(le.c)(le.b),treeIndentGuidesStroke:Object(le.c)(le.Uc),treeInactiveIndentGuidesStroke:Object(le.c)(le.Tc),tableColumnsBorder:Object(le.c)(le.Oc),tableOddRowsBackgroundColor:Object(le.c)(le.Pc)};function F(U){return E(U,W)}var V={selectBackground:Object(le.c)(le.Kc),selectListBackground:Object(le.c)(le.Nc),selectForeground:Object(le.c)(le.Mc),decoratorRightForeground:Object(le.c)(le.uc),selectBorder:Object(le.c)(le.Lc),focusBorder:Object(le.c)(le.lb),listFocusBackground:Object(le.c)(le.Bc),listInactiveSelectionIconForeground:Object(le.c)(le.Dc),listFocusForeground:Object(le.c)(le.Cc),listFocusOutline:Object(le.e)(le.b,De.a.transparent.toString()),listHoverBackground:Object(le.c)(le.Vb),listHoverForeground:Object(le.c)(le.Wb),listHoverOutline:Object(le.c)(le.b),selectListBorder:Object(le.c)(le.hb),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},N={shadowColor:Object(le.c)(le.Wc),borderColor:Object(le.c)(le.dc),foregroundColor:Object(le.c)(le.ec),backgroundColor:Object(le.c)(le.cc),selectionForegroundColor:Object(le.c)(le.hc),selectionBackgroundColor:Object(le.c)(le.fc),selectionBorderColor:Object(le.c)(le.gc),separatorColor:Object(le.c)(le.ic),scrollbarShadow:Object(le.c)(le.Gc),scrollbarSliderBackground:Object(le.c)(le.Ic),scrollbarSliderHoverBackground:Object(le.c)(le.Jc),scrollbarSliderActiveBackground:Object(le.c)(le.Hc)}},"9XeP":function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("clipboardService")},"9Y+e":function(fn,K,a){"use strict";a.d(K,"a",function(){return E});var le=a("fWQN"),De=a("mtLc"),E=function(){function ve(re,J,$,y,Q,L){Object(le.a)(this,ve),this.id=re,this.label=J,this.alias=$,this._precondition=y,this._run=Q,this._contextKeyService=L}return Object(De.a)(ve,[{key:"isSupported",value:function(){return this._contextKeyService.contextMatchesRules(this._precondition)}},{key:"run",value:function(J){return this.isSupported()?this._run(J):Promise.resolve(void 0)}}]),ve}()},"9fML":function(fn,K,a){"use strict";a.d(K,"b",function(){return E}),a.d(K,"a",function(){return ve});var le=a("r0BQ"),De=[];function E(re,J,$){J instanceof le.a||(J=new le.a(J,[],Boolean($))),De.push([re,J])}function ve(){return De}},"A+jI":function(fn,K,a){"use strict";a.d(K,"a",function(){return j}),a.d(K,"c",function(){return C}),a.d(K,"b",function(){return T});var le=a("fWQN"),De=a("mtLc"),E=a("yKVA"),ve=a("879j"),re=a("MI8n"),J=a("pmY6"),$=a("746U"),y=a("qLMh"),Q=a("w4Tj"),L=a("oZsa"),ne=a("X+cX"),ee=a("Q4rV"),H=function(z,A,ue,be){function de(ke){return ke instanceof ue?ke:new ue(function(he){he(ke)})}return new(ue||(ue=Promise))(function(ke,he){function ge(w){try{k(be.next(w))}catch(B){he(B)}}function ce(w){try{k(be.throw(w))}catch(B){he(B)}}function k(w){w.done?ke(w.value):de(w.value).then(ge,ce)}k((be=be.apply(z,A||[])).next())})},W;(function(z){z[z.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",z[z.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(W||(W={}));var F;(function(z){z[z.None=0]="None",z[z.Initialized=1]="Initialized",z[z.Closed=2]="Closed"})(F||(F={}));var V=function(z){Object(E.a)(ue,z);var A=Object(ve.a)(ue);function ue(be){var de,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.create(null);return Object(le.a)(this,ue),de=A.call(this),de.database=be,de.options=ke,de._onDidChangeStorage=de._register(new re.b),de.onDidChangeStorage=de._onDidChangeStorage.event,de.state=F.None,de.cache=new Map,de.flushDelayer=new ne.h(ue.DEFAULT_FLUSH_DELAY),de.pendingDeletes=new Set,de.pendingInserts=new Map,de.whenFlushedCallbacks=[],de.registerListeners(),de}return Object(De.a)(ue,[{key:"registerListeners",value:function(){var de=this;this._register(this.database.onDidChangeItemsExternal(function(ke){return de.onDidChangeItemsExternal(ke)}))}},{key:"onDidChangeItemsExternal",value:function(de){var ke=this,he,ge;(he=de.changed)===null||he===void 0||he.forEach(function(ce,k){return ke.accept(k,ce)}),(ge=de.deleted)===null||ge===void 0||ge.forEach(function(ce){return ke.accept(ce,void 0)})}},{key:"accept",value:function(de,ke){if(this.state!==F.Closed){var he=!1;if(Object($.l)(ke))he=this.cache.delete(de);else{var ge=this.cache.get(de);ge!==ke&&(this.cache.set(de,ke),he=!0)}he&&this._onDidChangeStorage.fire(de)}}},{key:"get",value:function(de,ke){var he=this.cache.get(de);return Object($.l)(he)?ke:he}},{key:"getBoolean",value:function(de,ke){var he=this.get(de);return Object($.l)(he)?ke:he==="true"}},{key:"getNumber",value:function(de,ke){var he=this.get(de);return Object($.l)(he)?ke:parseInt(he,10)}},{key:"set",value:function(de,ke){return H(this,void 0,void 0,Object(y.a)().mark(function he(){var ge,ce;return Object(y.a)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(this.state!==F.Closed){w.next=2;break}return w.abrupt("return");case 2:if(!Object($.l)(ke)){w.next=4;break}return w.abrupt("return",this.delete(de));case 4:if(ge=Object($.h)(ke)||Array.isArray(ke)?Object(ee.b)(ke):String(ke),ce=this.cache.get(de),ce!==ge){w.next=8;break}return w.abrupt("return");case 8:return this.cache.set(de,ge),this.pendingInserts.set(de,ge),this.pendingDeletes.delete(de),this._onDidChangeStorage.fire(de),w.abrupt("return",this.doFlush());case 13:case"end":return w.stop()}},he,this)}))}},{key:"delete",value:function(de){return H(this,void 0,void 0,Object(y.a)().mark(function ke(){var he;return Object(y.a)().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(this.state!==F.Closed){ce.next=2;break}return ce.abrupt("return");case 2:if(he=this.cache.delete(de),he){ce.next=5;break}return ce.abrupt("return");case 5:return this.pendingDeletes.has(de)||this.pendingDeletes.add(de),this.pendingInserts.delete(de),this._onDidChangeStorage.fire(de),ce.abrupt("return",this.doFlush());case 9:case"end":return ce.stop()}},ke,this)}))}},{key:"hasPending",get:function(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}},{key:"flushPending",value:function(){return H(this,void 0,void 0,Object(y.a)().mark(function de(){var ke=this,he;return Object(y.a)().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(this.hasPending){ce.next=2;break}return ce.abrupt("return");case 2:return he={insert:this.pendingInserts,delete:this.pendingDeletes},this.pendingDeletes=new Set,this.pendingInserts=new Map,ce.abrupt("return",this.database.updateItems(he).finally(function(){var k;if(!ke.hasPending)for(;ke.whenFlushedCallbacks.length;)(k=ke.whenFlushedCallbacks.pop())===null||k===void 0||k()}));case 6:case"end":return ce.stop()}},de,this)}))}},{key:"doFlush",value:function(de){return H(this,void 0,void 0,Object(y.a)().mark(function ke(){var he=this;return Object(y.a)().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.abrupt("return",this.flushDelayer.trigger(function(){return he.flushPending()},de));case 1:case"end":return ce.stop()}},ke,this)}))}},{key:"dispose",value:function(){this.flushDelayer.dispose(),Object(Q.a)(Object(L.a)(ue.prototype),"dispose",this).call(this)}}]),ue}(J.a);V.DEFAULT_FLUSH_DELAY=100;var N=function(){function z(){Object(le.a)(this,z),this.onDidChangeItemsExternal=re.c.None,this.items=new Map}return Object(De.a)(z,[{key:"updateItems",value:function(ue){var be,de;return H(this,void 0,void 0,Object(y.a)().mark(function ke(){var he=this;return Object(y.a)().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:(be=ue.insert)===null||be===void 0||be.forEach(function(k,w){return he.items.set(w,k)}),(de=ue.delete)===null||de===void 0||de.forEach(function(k){return he.items.delete(k)});case 2:case"end":return ce.stop()}},ke)}))}}]),z}(),U=a("Cg/j"),d="__$__targetStorageMarker",j=Object(U.c)("storageService"),C;(function(z){z[z.NONE=0]="NONE",z[z.SHUTDOWN=1]="SHUTDOWN"})(C||(C={}));function x(z){var A=z.get(d);if(A)try{return JSON.parse(A)}catch(ue){}return Object.create(null)}var S=function(z){Object(E.a)(ue,z);var A=Object(ve.a)(ue);function ue(){var be,de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{flushInterval:ue.DEFAULT_FLUSH_INTERVAL};return Object(le.a)(this,ue),be=A.call(this),be.options=de,be._onDidChangeValue=be._register(new re.h),be.onDidChangeValue=be._onDidChangeValue.event,be._onDidChangeTarget=be._register(new re.h),be._onWillSaveState=be._register(new re.b),be.onWillSaveState=be._onWillSaveState.event,be._workspaceKeyTargets=void 0,be._profileKeyTargets=void 0,be._applicationKeyTargets=void 0,be}return Object(De.a)(ue,[{key:"emitDidChangeValue",value:function(de,ke){if(ke===d){switch(de){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:de})}else this._onDidChangeValue.fire({scope:de,key:ke,target:this.getKeyTargets(de)[ke]})}},{key:"get",value:function(de,ke,he){var ge;return(ge=this.getStorage(ke))===null||ge===void 0?void 0:ge.get(de,he)}},{key:"getBoolean",value:function(de,ke,he){var ge;return(ge=this.getStorage(ke))===null||ge===void 0?void 0:ge.getBoolean(de,he)}},{key:"getNumber",value:function(de,ke,he){var ge;return(ge=this.getStorage(ke))===null||ge===void 0?void 0:ge.getNumber(de,he)}},{key:"store",value:function(de,ke,he,ge){var ce=this;if(Object($.l)(ke)){this.remove(de,he);return}this.withPausedEmitters(function(){var k;ce.updateKeyTarget(de,he,ge),(k=ce.getStorage(he))===null||k===void 0||k.set(de,ke)})}},{key:"remove",value:function(de,ke){var he=this;this.withPausedEmitters(function(){var ge;he.updateKeyTarget(de,ke,void 0),(ge=he.getStorage(ke))===null||ge===void 0||ge.delete(de)})}},{key:"withPausedEmitters",value:function(de){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{de()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}},{key:"updateKeyTarget",value:function(de,ke,he){var ge,ce,k=this.getKeyTargets(ke);typeof he=="number"?k[de]!==he&&(k[de]=he,(ge=this.getStorage(ke))===null||ge===void 0||ge.set(d,JSON.stringify(k))):typeof k[de]=="number"&&(delete k[de],(ce=this.getStorage(ke))===null||ce===void 0||ce.set(d,JSON.stringify(k)))}},{key:"workspaceKeyTargets",get:function(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}},{key:"profileKeyTargets",get:function(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}},{key:"applicationKeyTargets",get:function(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}},{key:"getKeyTargets",value:function(de){switch(de){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}},{key:"loadKeyTargets",value:function(de){var ke=this.getStorage(de);return ke?x(ke):Object.create(null)}}]),ue}(J.a);S.DEFAULT_FLUSH_INTERVAL=60*1e3;var T=function(z){Object(E.a)(ue,z);var A=Object(ve.a)(ue);function ue(){var be;return Object(le.a)(this,ue),be=A.call(this),be.applicationStorage=be._register(new V(new N,{hint:W.STORAGE_IN_MEMORY})),be.profileStorage=be._register(new V(new N,{hint:W.STORAGE_IN_MEMORY})),be.workspaceStorage=be._register(new V(new N,{hint:W.STORAGE_IN_MEMORY})),be._register(be.workspaceStorage.onDidChangeStorage(function(de){return be.emitDidChangeValue(1,de)})),be._register(be.profileStorage.onDidChangeStorage(function(de){return be.emitDidChangeValue(0,de)})),be._register(be.applicationStorage.onDidChangeStorage(function(de){return be.emitDidChangeValue(-1,de)})),be}return Object(De.a)(ue,[{key:"getStorage",value:function(de){switch(de){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}]),ue}(S)},"A9l+":function(fn,K,a){"use strict";a.d(K,"a",function(){return De}),a.d(K,"c",function(){return E}),a.d(K,"b",function(){return ve}),a.d(K,"e",function(){return re}),a.d(K,"d",function(){return J}),a.d(K,"f",function(){return $}),a.d(K,"g",function(){return y}),a.d(K,"i",function(){return Q}),a.d(K,"h",function(){return L});var le=a("3/fG"),De;(function(ne){ne.noSelection=le.b("noSelection","No selection"),ne.singleSelectionRange=le.b("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),ne.singleSelection=le.b("singleSelection","Line {0}, Column {1}"),ne.multiSelectionRange=le.b("multiSelectionRange","{0} selections ({1} characters selected)"),ne.multiSelection=le.b("multiSelection","{0} selections"),ne.emergencyConfOn=le.b("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),ne.openingDocs=le.b("openingDocs","Now opening the Editor Accessibility documentation page."),ne.readonlyDiffEditor=le.b("readonlyDiffEditor"," in a read-only pane of a diff editor."),ne.editableDiffEditor=le.b("editableDiffEditor"," in a pane of a diff editor."),ne.readonlyEditor=le.b("readonlyEditor"," in a read-only code editor"),ne.editableEditor=le.b("editableEditor"," in a code editor"),ne.changeConfigToOnMac=le.b("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),ne.changeConfigToOnWinLinux=le.b("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),ne.auto_on=le.b("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),ne.auto_off=le.b("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),ne.tabFocusModeOnMsg=le.b("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),ne.tabFocusModeOnMsgNoKb=le.b("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),ne.tabFocusModeOffMsg=le.b("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),ne.tabFocusModeOffMsgNoKb=le.b("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),ne.openDocMac=le.b("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),ne.openDocWinLinux=le.b("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),ne.outroMsg=le.b("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),ne.showAccessibilityHelpAction=le.b("showAccessibilityHelpAction","Show Accessibility Help"),ne.accessibilityHelpTitle=le.b("accessibilityHelpTitle","Accessibility Help")})(De||(De={}));var E;(function(ne){ne.inspectTokensAction=le.b("inspectTokens","Developer: Inspect Tokens")})(E||(E={}));var ve;(function(ne){ne.gotoLineActionLabel=le.b("gotoLineActionLabel","Go to Line/Column...")})(ve||(ve={}));var re;(function(ne){ne.helpQuickAccessActionLabel=le.b("helpQuickAccess","Show all Quick Access Providers")})(re||(re={}));var J;(function(ne){ne.quickCommandActionLabel=le.b("quickCommandActionLabel","Command Palette"),ne.quickCommandHelp=le.b("quickCommandActionHelp","Show And Run Commands")})(J||(J={}));var $;(function(ne){ne.quickOutlineActionLabel=le.b("quickOutlineActionLabel","Go to Symbol..."),ne.quickOutlineByCategoryActionLabel=le.b("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})($||($={}));var y;(function(ne){ne.editorViewAccessibleLabel=le.b("editorViewAccessibleLabel","Editor content"),ne.accessibilityHelpMessage=le.b("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(y||(y={}));var Q;(function(ne){ne.toggleHighContrast=le.b("toggleHighContrast","Toggle High Contrast Theme")})(Q||(Q={}));var L;(function(ne){ne.bulkEditServiceSummary=le.b("bulkEditServiceSummary","Made {0} edits in {1} files")})(L||(L={}))},AYRw:function(fn,K,a){"use strict";a.d(K,"a",function(){return B}),a.d(K,"b",function(){return Re}),a.d(K,"c",function(){return Oe});var le=a("rAM+"),De=a("tJVT"),E=a("yKVA"),ve=a("879j"),re=a("fWQN"),J=a("mtLc"),$=a("MI8n"),y=a("pmY6"),Q=a("N0LK"),L=a("h5s8"),ne=a("PXCW"),ee=a("p1iI"),H=function(){function bt(mt){if(Object(re.a)(this,bt),mt.autoClosingPairs?this._autoClosingPairs=mt.autoClosingPairs.map(function(Je){return new ne.c(Je)}):mt.brackets?this._autoClosingPairs=mt.brackets.map(function(Je){return new ne.c({open:Je[0],close:Je[1]})}):this._autoClosingPairs=[],mt.__electricCharacterSupport&&mt.__electricCharacterSupport.docComment){var jt=mt.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new ne.c({open:jt.open,close:jt.close||""}))}this._autoCloseBeforeForQuotes=typeof mt.autoCloseBefore=="string"?mt.autoCloseBefore:bt.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof mt.autoCloseBefore=="string"?mt.autoCloseBefore:bt.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=mt.surroundingPairs||this._autoClosingPairs}return Object(J.a)(bt,[{key:"getAutoClosingPairs",value:function(){return this._autoClosingPairs}},{key:"getAutoCloseBeforeSet",value:function(jt){return jt?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}},{key:"getSurroundingPairs",value:function(){return this._surroundingPairs}}]),bt}();H.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,H.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;var W=a("6OMU"),F=a("g/5D"),V=function(){function bt(mt){Object(re.a)(this,bt),this._richEditBrackets=mt}return Object(J.a)(bt,[{key:"getElectricCharacters",value:function(){var jt=[];if(this._richEditBrackets){var Je=Object(le.a)(this._richEditBrackets.brackets),Wt;try{for(Je.s();!(Wt=Je.n()).done;){var Te=Wt.value,fe=Object(le.a)(Te.close),ye;try{for(fe.s();!(ye=fe.n()).done;){var Ee=ye.value,Ge=Ee.charAt(Ee.length-1);jt.push(Ge)}}catch($e){fe.e($e)}finally{fe.f()}}}catch($e){Je.e($e)}finally{Je.f()}}return Object(W.i)(jt)}},{key:"onElectricCharacter",value:function(jt,Je,Wt){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;var Te=Je.findTokenIndexAtOffset(Wt-1);if(Object(ee.b)(Je.getStandardTokenType(Te)))return null;var fe=this._richEditBrackets.reversedRegex,ye=Je.getLineContent().substring(0,Wt-1)+jt,Ee=F.a.findPrevBracketInRange(fe,1,ye,0,ye.length);if(!Ee)return null;var Ge=ye.substring(Ee.startColumn-1,Ee.endColumn-1).toLowerCase(),$e=this._richEditBrackets.textIsOpenBracket[Ge];if($e)return null;var We=Je.getActualLineContentBefore(Ee.startColumn-1);return/^\s*$/.test(We)?{matchOpenBracket:Ge}:null}}]),bt}();function N(bt){return bt.global&&(bt.lastIndex=0),!0}var U=function(){function bt(mt){Object(re.a)(this,bt),this._indentationRules=mt}return Object(J.a)(bt,[{key:"shouldIncrease",value:function(jt){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&N(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(jt))}},{key:"shouldDecrease",value:function(jt){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&N(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(jt))}},{key:"shouldIndentNextLine",value:function(jt){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&N(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(jt))}},{key:"shouldIgnore",value:function(jt){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&N(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(jt))}},{key:"getIndentMetadata",value:function(jt){var Je=0;return this.shouldIncrease(jt)&&(Je+=1),this.shouldDecrease(jt)&&(Je+=2),this.shouldIndentNextLine(jt)&&(Je+=4),this.shouldIgnore(jt)&&(Je+=8),Je}}]),bt}(),d=a("/cxE"),j=function(){function bt(mt){var jt=this;Object(re.a)(this,bt),mt=mt||{},mt.brackets=mt.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],mt.brackets.forEach(function(Je){var Wt=bt._createOpenBracketRegExp(Je[0]),Te=bt._createCloseBracketRegExp(Je[1]);Wt&&Te&&jt._brackets.push({open:Je[0],openRegExp:Wt,close:Je[1],closeRegExp:Te})}),this._regExpRules=mt.onEnterRules||[]}return Object(J.a)(bt,[{key:"onEnter",value:function(jt,Je,Wt,Te){if(jt>=3)for(var fe=0,ye=this._regExpRules.length;fe<ye;fe++){var Ee=this._regExpRules[fe],Ge=[{reg:Ee.beforeText,text:Wt},{reg:Ee.afterText,text:Te},{reg:Ee.previousLineText,text:Je}].every(function(ot){return ot.reg?(ot.reg.lastIndex=0,ot.reg.test(ot.text)):!0});if(Ge)return Ee.action}if(jt>=2&&Wt.length>0&&Te.length>0)for(var $e=0,We=this._brackets.length;$e<We;$e++){var it=this._brackets[$e];if(it.openRegExp.test(Wt)&&it.closeRegExp.test(Te))return{indentAction:ne.b.IndentOutdent}}if(jt>=2&&Wt.length>0)for(var Fe=0,He=this._brackets.length;Fe<He;Fe++){var Ye=this._brackets[Fe];if(Ye.openRegExp.test(Wt))return{indentAction:ne.b.Indent}}return null}}],[{key:"_createOpenBracketRegExp",value:function(jt){var Je=Q.t(jt);return/\B/.test(Je.charAt(0))||(Je="\\b"+Je),Je+="\\s*$",bt._safeRegExp(Je)}},{key:"_createCloseBracketRegExp",value:function(jt){var Je=Q.t(jt);return/\B/.test(Je.charAt(Je.length-1))||(Je=Je+"\\b"),Je="^\\s*"+Je,bt._safeRegExp(Je)}},{key:"_safeRegExp",value:function(jt){try{return new RegExp(jt)}catch(Je){return Object(d.h)(Je),null}}}]),bt}(),C=a("Cg/j"),x=a("+7oY"),S=a("CGdd"),T=a("9fML"),z=a("y0ET"),A=a("oBTY"),ue=a("q63c"),be=function(){function bt(mt,jt){var Je=this;Object(re.a)(this,bt),this.languageId=mt;var Wt=jt.brackets?de(jt.brackets):[],Te=new ue.a(function(si){var On=new Set;return{info:new he(Je,si,On),closing:On}}),fe=new ue.a(function(si){var On=new Set,Gn=new Set;return{info:new ge(Je,si,On,Gn),opening:On,openingColorized:Gn}}),ye=Object(le.a)(Wt),Ee;try{for(ye.s();!(Ee=ye.n()).done;){var Ge=Ee.value,$e=Object(De.a)(Ge,2),We=$e[0],it=$e[1],Fe=Te.get(We),He=fe.get(it);Fe.closing.add(He.info),He.opening.add(Fe.info)}}catch(si){ye.e(si)}finally{ye.f()}var Ye=jt.colorizedBracketPairs?de(jt.colorizedBracketPairs):Wt.filter(function(si){return!(si[0]==="<"&&si[1]===">")}),ot=Object(le.a)(Ye),Kt;try{for(ot.s();!(Kt=ot.n()).done;){var gt=Kt.value,Ft=Object(De.a)(gt,2),Jt=Ft[0],qt=Ft[1],En=Te.get(Jt),It=fe.get(qt);En.closing.add(It.info),It.openingColorized.add(En.info),It.opening.add(En.info)}}catch(si){ot.e(si)}finally{ot.f()}this._openingBrackets=new Map(Object(A.a)(Te.cachedValues).map(function(si){var On=Object(De.a)(si,2),Gn=On[0],ci=On[1];return[Gn,ci.info]})),this._closingBrackets=new Map(Object(A.a)(fe.cachedValues).map(function(si){var On=Object(De.a)(si,2),Gn=On[0],ci=On[1];return[Gn,ci.info]}))}return Object(J.a)(bt,[{key:"openingBrackets",get:function(){return Object(A.a)(this._openingBrackets.values())}},{key:"closingBrackets",get:function(){return Object(A.a)(this._closingBrackets.values())}},{key:"getOpeningBracketInfo",value:function(jt){return this._openingBrackets.get(jt)}},{key:"getClosingBracketInfo",value:function(jt){return this._closingBrackets.get(jt)}},{key:"getBracketInfo",value:function(jt){return this.getOpeningBracketInfo(jt)||this.getClosingBracketInfo(jt)}}]),bt}();function de(bt){return bt.filter(function(mt){var jt=Object(De.a)(mt,2),Je=jt[0],Wt=jt[1];return Je!==""&&Wt!==""})}var ke=function(){function bt(mt,jt){Object(re.a)(this,bt),this.config=mt,this.bracketText=jt}return Object(J.a)(bt,[{key:"languageId",get:function(){return this.config.languageId}}]),bt}(),he=function(bt){Object(E.a)(jt,bt);var mt=Object(ve.a)(jt);function jt(Je,Wt,Te){var fe;return Object(re.a)(this,jt),fe=mt.call(this,Je,Wt),fe.openedBrackets=Te,fe.isOpeningBracket=!0,fe}return Object(J.a)(jt)}(ke),ge=function(bt){Object(E.a)(jt,bt);var mt=Object(ve.a)(jt);function jt(Je,Wt,Te,fe){var ye;return Object(re.a)(this,jt),ye=mt.call(this,Je,Wt),ye.openingBrackets=Te,ye.openingColorizedBrackets=fe,ye.isOpeningBracket=!1,ye}return Object(J.a)(jt,[{key:"closes",value:function(Wt){return Wt.config!==this.config?!1:this.openingBrackets.has(Wt)}},{key:"closesColorized",value:function(Wt){return Wt.config!==this.config?!1:this.openingColorizedBrackets.has(Wt)}},{key:"getOpeningBrackets",value:function(){return Object(A.a)(this.openingBrackets)}}]),jt}(ke),ce=function(bt,mt,jt,Je){var Wt=arguments.length,Te=Wt<3?mt:Je===null?Je=Object.getOwnPropertyDescriptor(mt,jt):Je,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Te=Reflect.decorate(bt,mt,jt,Je);else for(var ye=bt.length-1;ye>=0;ye--)(fe=bt[ye])&&(Te=(Wt<3?fe(Te):Wt>3?fe(mt,jt,Te):fe(mt,jt))||Te);return Wt>3&&Te&&Object.defineProperty(mt,jt,Te),Te},k=function(bt,mt){return function(jt,Je){mt(jt,Je,bt)}},w=function(){function bt(mt){Object(re.a)(this,bt),this.languageId=mt}return Object(J.a)(bt,[{key:"affects",value:function(jt){return this.languageId?this.languageId===jt:!0}}]),bt}(),B=Object(C.c)("languageConfigurationService"),Y=function(bt){Object(E.a)(jt,bt);var mt=Object(ve.a)(jt);function jt(Je,Wt){var Te;Object(re.a)(this,jt),Te=mt.call(this),Te.configurationService=Je,Te.languageService=Wt,Te._registry=Te._register(new wt),Te.onDidChangeEmitter=Te._register(new $.b),Te.onDidChange=Te.onDidChangeEmitter.event,Te.configurations=new Map;var fe=new Set(Object.values(me));return Te._register(Te.configurationService.onDidChangeConfiguration(function(ye){var Ee=ye.change.keys.some(function(Fe){return fe.has(Fe)}),Ge=ye.change.overrides.filter(function(Fe){var He=Object(De.a)(Fe,2),Ye=He[0],ot=He[1];return ot.some(function(Kt){return fe.has(Kt)})}).map(function(Fe){var He=Object(De.a)(Fe,1),Ye=He[0];return Ye});if(Ee)Te.configurations.clear(),Te.onDidChangeEmitter.fire(new w(void 0));else{var $e=Object(le.a)(Ge),We;try{for($e.s();!(We=$e.n()).done;){var it=We.value;Te.languageService.isRegisteredLanguageId(it)&&(Te.configurations.delete(it),Te.onDidChangeEmitter.fire(new w(it)))}}catch(Fe){$e.e(Fe)}finally{$e.f()}}})),Te._register(Te._registry.onDidChange(function(ye){Te.configurations.delete(ye.languageId),Te.onDidChangeEmitter.fire(new w(ye.languageId))})),Te}return Object(J.a)(jt,[{key:"register",value:function(Wt,Te,fe){return this._registry.register(Wt,Te,fe)}},{key:"getLanguageConfiguration",value:function(Wt){var Te=this.configurations.get(Wt);return Te||(Te=pe(Wt,this._registry,this.configurationService,this.languageService),this.configurations.set(Wt,Te)),Te}}]),jt}(y.a);Y=ce([k(0,x.a),k(1,S.a)],Y);function pe(bt,mt,jt,Je){var Wt=mt.getLanguageConfiguration(bt);if(!Wt){if(!Je.isRegisteredLanguageId(bt))return new Ct(bt,{});Wt=new Ct(bt,{})}var Te=I(Wt.languageId,jt),fe=Ne([Wt.underlyingConfig,Te]),ye=new Ct(Wt.languageId,fe);return ye}var me={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function I(bt,mt){var jt=mt.getValue(me.brackets,{overrideIdentifier:bt}),Je=mt.getValue(me.colorizedBracketPairs,{overrideIdentifier:bt});return{brackets:we(jt),colorizedBracketPairs:we(Je)}}function we(bt){if(!!Array.isArray(bt))return bt.map(function(mt){if(!(!Array.isArray(mt)||mt.length!==2))return[mt[0],mt[1]]}).filter(function(mt){return!!mt})}function Re(bt,mt,jt){var Je=bt.getLineContent(mt),Wt=Q.x(Je);return Wt.length>jt-1&&(Wt=Wt.substring(0,jt-1)),Wt}function Oe(bt,mt,jt){bt.tokenization.forceTokenization(mt);var Je=bt.tokenization.getLineTokens(mt),Wt=typeof jt=="undefined"?bt.getLineMaxColumn(mt)-1:jt-1;return Object(ee.a)(Je,Wt)}var Pe=function(){function bt(mt){Object(re.a)(this,bt),this.languageId=mt,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}return Object(J.a)(bt,[{key:"register",value:function(jt,Je){var Wt=this,Te=new Ke(jt,Je,++this._order);return this._entries.push(Te),this._resolved=null,Object(y.l)(function(){for(var fe=0;fe<Wt._entries.length;fe++)if(Wt._entries[fe]===Te){Wt._entries.splice(fe,1),Wt._resolved=null;break}})}},{key:"getResolvedConfiguration",value:function(){if(!this._resolved){var jt=this._resolve();jt&&(this._resolved=new Ct(this.languageId,jt))}return this._resolved}},{key:"_resolve",value:function(){return this._entries.length===0?null:(this._entries.sort(Ke.cmp),Ne(this._entries.map(function(jt){return jt.configuration})))}}]),bt}();function Ne(bt){var mt={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0},jt=Object(le.a)(bt),Je;try{for(jt.s();!(Je=jt.n()).done;){var Wt=Je.value;mt={comments:Wt.comments||mt.comments,brackets:Wt.brackets||mt.brackets,wordPattern:Wt.wordPattern||mt.wordPattern,indentationRules:Wt.indentationRules||mt.indentationRules,onEnterRules:Wt.onEnterRules||mt.onEnterRules,autoClosingPairs:Wt.autoClosingPairs||mt.autoClosingPairs,surroundingPairs:Wt.surroundingPairs||mt.surroundingPairs,autoCloseBefore:Wt.autoCloseBefore||mt.autoCloseBefore,folding:Wt.folding||mt.folding,colorizedBracketPairs:Wt.colorizedBracketPairs||mt.colorizedBracketPairs,__electricCharacterSupport:Wt.__electricCharacterSupport||mt.__electricCharacterSupport}}}catch(Te){jt.e(Te)}finally{jt.f()}return mt}var Ke=function(){function bt(mt,jt,Je){Object(re.a)(this,bt),this.configuration=mt,this.priority=jt,this.order=Je}return Object(J.a)(bt,null,[{key:"cmp",value:function(jt,Je){return jt.priority===Je.priority?jt.order-Je.order:jt.priority-Je.priority}}]),bt}(),Xe=Object(J.a)(function bt(mt){Object(re.a)(this,bt),this.languageId=mt}),wt=function(bt){Object(E.a)(jt,bt);var mt=Object(ve.a)(jt);function jt(){var Je;return Object(re.a)(this,jt),Je=mt.call(this),Je._entries=new Map,Je._onDidChange=Je._register(new $.b),Je.onDidChange=Je._onDidChange.event,Je._register(Je.register(z.b,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0)),Je}return Object(J.a)(jt,[{key:"register",value:function(Wt,Te){var fe=this,ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Ee=this._entries.get(Wt);Ee||(Ee=new Pe(Wt),this._entries.set(Wt,Ee));var Ge=Ee.register(Te,ye);return this._onDidChange.fire(new Xe(Wt)),Object(y.l)(function(){Ge.dispose(),fe._onDidChange.fire(new Xe(Wt))})}},{key:"getLanguageConfiguration",value:function(Wt){var Te=this._entries.get(Wt);return(Te==null?void 0:Te.getResolvedConfiguration())||null}}]),jt}(y.a),Ct=function(){function bt(mt,jt){Object(re.a)(this,bt),this.languageId=mt,this.underlyingConfig=jt,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new j(this.underlyingConfig):null,this.comments=bt._handleComments(this.underlyingConfig),this.characterPair=new H(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||L.a,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new U(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new be(mt,this.underlyingConfig)}return Object(J.a)(bt,[{key:"getWordDefinition",value:function(){return Object(L.c)(this.wordDefinition)}},{key:"brackets",get:function(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new F.b(this.languageId,this.underlyingConfig.brackets)),this._brackets}},{key:"electricCharacter",get:function(){return this._electricCharacter||(this._electricCharacter=new V(this.brackets)),this._electricCharacter}},{key:"onEnter",value:function(jt,Je,Wt,Te){return this._onEnterSupport?this._onEnterSupport.onEnter(jt,Je,Wt,Te):null}},{key:"getAutoClosingPairs",value:function(){return new ne.a(this.characterPair.getAutoClosingPairs())}},{key:"getAutoCloseBeforeSet",value:function(jt){return this.characterPair.getAutoCloseBeforeSet(jt)}},{key:"getSurroundingPairs",value:function(){return this.characterPair.getSurroundingPairs()}}],[{key:"_handleComments",value:function(jt){var Je=jt.comments;if(!Je)return null;var Wt={};if(Je.lineComment&&(Wt.lineCommentToken=Je.lineComment),Je.blockComment){var Te=Object(De.a)(Je.blockComment,2),fe=Te[0],ye=Te[1];Wt.blockCommentStartToken=fe,Wt.blockCommentEndToken=ye}return Wt}}]),bt}();Object(T.b)(B,Y,1)},BJRu:function(fn,K,a){"use strict";a.d(K,"b",function(){return ue}),a.d(K,"a",function(){return he});var le=a("tJVT"),De=a("fWQN"),E=a("mtLc"),ve=a("yKVA"),re=a("879j"),J=a("3/fG"),$=a("D3Dy"),y=a("746U"),Q=a("OBOq"),L=a("sswD"),ne=a("Vxe3"),ee=a("LLum"),H=a("cGHE"),W=a("aokT"),F=function(){function k(){Object(De.a)(this,k)}return Object(E.a)(k,null,[{key:"columnSelect",value:function(B,Y,pe,me,I,we){for(var Re=Math.abs(I-pe)+1,Oe=pe>I,Pe=me>we,Ne=me<we,Ke=[],Xe=0;Xe<Re;Xe++){var wt=pe+(Oe?-Xe:Xe),Ct=B.columnFromVisibleColumn(Y,wt,me),bt=B.columnFromVisibleColumn(Y,wt,we),mt=B.visibleColumnFromColumn(Y,new H.a(wt,Ct)),jt=B.visibleColumnFromColumn(Y,new H.a(wt,bt));Ne&&(mt>we||jt<me)||Pe&&(jt>me||mt<we)||Ke.push(new ee.d(new W.a(wt,Ct,wt,Ct),0,0,new H.a(wt,bt),0))}if(Ke.length===0)for(var Je=0;Je<Re;Je++){var Wt=pe+(Oe?-Je:Je),Te=Y.getLineMaxColumn(Wt);Ke.push(new ee.d(new W.a(Wt,Te,Wt,Te),0,0,new H.a(Wt,Te),0))}return{viewStates:Ke,reversed:Oe,fromLineNumber:pe,fromVisualColumn:me,toLineNumber:I,toVisualColumn:we}}},{key:"columnSelectLeft",value:function(B,Y,pe){var me=pe.toViewVisualColumn;return me>0&&me--,k.columnSelect(B,Y,pe.fromViewLineNumber,pe.fromViewVisualColumn,pe.toViewLineNumber,me)}},{key:"columnSelectRight",value:function(B,Y,pe){for(var me=0,I=Math.min(pe.fromViewLineNumber,pe.toViewLineNumber),we=Math.max(pe.fromViewLineNumber,pe.toViewLineNumber),Re=I;Re<=we;Re++){var Oe=Y.getLineMaxColumn(Re),Pe=B.visibleColumnFromColumn(Y,new H.a(Re,Oe));me=Math.max(me,Pe)}var Ne=pe.toViewVisualColumn;return Ne<me&&Ne++,this.columnSelect(B,Y,pe.fromViewLineNumber,pe.fromViewVisualColumn,pe.toViewLineNumber,Ne)}},{key:"columnSelectUp",value:function(B,Y,pe,me){var I=me?B.pageSize:1,we=Math.max(1,pe.toViewLineNumber-I);return this.columnSelect(B,Y,pe.fromViewLineNumber,pe.fromViewVisualColumn,we,pe.toViewVisualColumn)}},{key:"columnSelectDown",value:function(B,Y,pe,me){var I=me?B.pageSize:1,we=Math.min(Y.getLineCount(),pe.toViewLineNumber+I);return this.columnSelect(B,Y,pe.fromViewLineNumber,pe.fromViewVisualColumn,we,pe.toViewVisualColumn)}}]),k}(),V=a("jtXd"),N=a("sVcW"),U=a("HHK3"),d=a("wQH0"),j=a("T8No"),C=a("nrhi"),x=0,S=function(k){Object(ve.a)(B,k);var w=Object(re.a)(B);function B(){return Object(De.a)(this,B),w.apply(this,arguments)}return Object(E.a)(B,[{key:"runEditorCommand",value:function(pe,me,I){var we=me._getViewModel();!we||this.runCoreEditorCommand(we,I||{})}}]),B}(L.d),T;(function(k){var w=function(pe){if(!y.h(pe))return!1;var me=pe;return!(!y.i(me.to)||!y.k(me.by)&&!y.i(me.by)||!y.k(me.value)&&!y.g(me.value)||!y.k(me.revealCursor)&&!y.c(me.revealCursor))};k.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:w,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},k.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},k.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function B(Y){var pe;switch(Y.to){case k.RawDirection.Up:pe=1;break;case k.RawDirection.Right:pe=2;break;case k.RawDirection.Down:pe=3;break;case k.RawDirection.Left:pe=4;break;default:return null}var me;switch(Y.by){case k.RawUnit.Line:me=1;break;case k.RawUnit.WrappedLine:me=2;break;case k.RawUnit.Page:me=3;break;case k.RawUnit.HalfPage:me=4;break;case k.RawUnit.Editor:me=5;break;case k.RawUnit.Column:me=6;break;default:me=2}var I=Math.floor(Y.value||1),we=!!Y.revealCursor;return{direction:pe,unit:me,value:I,revealCursor:we,select:!!Y.select}}k.parse=B})(T||(T={}));var z;(function(k){var w=function(Y){if(!y.h(Y))return!1;var pe=Y;return!(!y.g(pe.lineNumber)&&!y.i(pe.lineNumber)||!y.k(pe.at)&&!y.i(pe.at))};k.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:w,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},k.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(z||(z={}));var A=function(){function k(w){var B=this;Object(De.a)(this,k),w.addImplementation(1e4,"code-editor",function(Y,pe){var me=Y.get(ne.a).getFocusedCodeEditor();return me&&me.hasTextFocus()?B._runEditorCommand(Y,me,pe):!1}),w.addImplementation(1e3,"generic-dom-input-textarea",function(Y,pe){var me=document.activeElement;return me&&["input","textarea"].indexOf(me.tagName.toLowerCase())>=0?(B.runDOMCommand(),!0):!1}),w.addImplementation(0,"generic-dom",function(Y,pe){var me=Y.get(ne.a).getActiveCodeEditor();return me?(me.focus(),B._runEditorCommand(Y,me,pe)):!1})}return Object(E.a)(k,[{key:"_runEditorCommand",value:function(B,Y,pe){var me=this.runEditorCommand(B,Y,pe);return me||!0}}]),k}(),ue;(function(k){var w=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._inSelectionMode=Wt.inSelectionMode,Te}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){if(!!fe.position){Te.model.pushStackElement();var ye=Te.setCursorStates(fe.source,3,[N.b.moveTo(Te,Te.getPrimaryCursorState(),this._inSelectionMode,fe.position,fe.viewPosition)]);ye&&fe.revealType!==2&&Te.revealPrimaryCursor(fe.source,!0,!0)}}}]),Je}(S);k.MoveTo=Object(L.l)(new w({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),k.MoveToSelect=Object(L.l)(new w({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));var B=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.apply(this,arguments)}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){Te.model.pushStackElement();var ye=this._getColumnSelectResult(Te,Te.getPrimaryCursorState(),Te.getCursorColumnSelectData(),fe);ye!==null&&(Te.setCursorStates(fe.source,3,ye.viewStates.map(function(Ee){return ee.b.fromViewState(Ee)})),Te.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ye.fromLineNumber,fromViewVisualColumn:ye.fromVisualColumn,toViewLineNumber:ye.toLineNumber,toViewVisualColumn:ye.toVisualColumn}),ye.reversed?Te.revealTopMostCursor(fe.source):Te.revealBottomMostCursor(fe.source))}}]),Je}(S);k.ColumnSelect=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"columnSelect",precondition:void 0})}return Object(E.a)(Je,[{key:"_getColumnSelectResult",value:function(Te,fe,ye,Ee){if(typeof Ee.position=="undefined"||typeof Ee.viewPosition=="undefined"||typeof Ee.mouseColumn=="undefined")return null;var Ge=Te.model.validatePosition(Ee.position),$e=Te.coordinatesConverter.validateViewPosition(new H.a(Ee.viewPosition.lineNumber,Ee.viewPosition.column),Ge),We=Ee.doColumnSelect?ye.fromViewLineNumber:$e.lineNumber,it=Ee.doColumnSelect?ye.fromViewVisualColumn:Ee.mouseColumn-1;return F.columnSelect(Te.cursorConfig,Te,We,it,$e.lineNumber,Ee.mouseColumn-1)}}]),Je}(B))),k.CursorColumnSelectLeft=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}return Object(E.a)(Je,[{key:"_getColumnSelectResult",value:function(Te,fe,ye,Ee){return F.columnSelectLeft(Te.cursorConfig,Te,ye)}}]),Je}(B))),k.CursorColumnSelectRight=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}return Object(E.a)(Je,[{key:"_getColumnSelectResult",value:function(Te,fe,ye,Ee){return F.columnSelectRight(Te.cursorConfig,Te,ye)}}]),Je}(B)));var Y=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._isPaged=Wt.isPaged,Te}return Object(E.a)(Je,[{key:"_getColumnSelectResult",value:function(Te,fe,ye,Ee){return F.columnSelectUp(Te.cursorConfig,Te,ye,this._isPaged)}}]),Je}(B);k.CursorColumnSelectUp=Object(L.l)(new Y({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),k.CursorColumnSelectPageUp=Object(L.l)(new Y({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));var pe=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._isPaged=Wt.isPaged,Te}return Object(E.a)(Je,[{key:"_getColumnSelectResult",value:function(Te,fe,ye,Ee){return F.columnSelectDown(Te.cursorConfig,Te,ye,this._isPaged)}}]),Je}(B);k.CursorColumnSelectDown=Object(L.l)(new pe({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),k.CursorColumnSelectPageDown=Object(L.l)(new pe({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));var me=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"cursorMove",precondition:void 0,description:N.a.description})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){var ye=N.a.parse(fe);!ye||this._runCursorMove(Te,fe.source,ye)}},{key:"_runCursorMove",value:function(Te,fe,ye){Te.model.pushStackElement(),Te.setCursorStates(fe,3,Je._move(Te,Te.getCursorStates(),ye)),Te.revealPrimaryCursor(fe,!0)}}],[{key:"_move",value:function(Te,fe,ye){var Ee=ye.select,Ge=ye.value;switch(ye.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return N.b.simpleMove(Te,fe,ye.direction,Ee,Ge,ye.unit);case 11:case 13:case 12:case 14:return N.b.viewportMove(Te,fe,ye.direction,Ee,Ge);default:return null}}}]),Je}(S);k.CursorMoveImpl=me,k.CursorMove=Object(L.l)(new me);var I=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._staticArgs=Wt.args,Te}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){var ye=this._staticArgs;this._staticArgs.value===-1&&(ye={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:fe.pageSize||Te.cursorConfig.pageSize}),Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,N.b.simpleMove(Te,Te.getCursorStates(),ye.direction,ye.select,ye.value,ye.unit)),Te.revealPrimaryCursor(fe.source,!0)}}]),Je}(S);k.CursorLeft=Object(L.l)(new I({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),k.CursorLeftSelect=Object(L.l)(new I({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|15}})),k.CursorRight=Object(L.l)(new I({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),k.CursorRightSelect=Object(L.l)(new I({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|17}})),k.CursorUp=Object(L.l)(new I({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),k.CursorUpSelect=Object(L.l)(new I({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),k.CursorPageUp=Object(L.l)(new I({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:11}})),k.CursorPageUpSelect=Object(L.l)(new I({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|11}})),k.CursorDown=Object(L.l)(new I({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),k.CursorDownSelect=Object(L.l)(new I({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),k.CursorPageDown=Object(L.l)(new I({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:12}})),k.CursorPageDownSelect=Object(L.l)(new I({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|12}})),k.CreateCursor=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"createCursor",precondition:void 0})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){if(!!fe.position){var ye;fe.wholeLine?ye=N.b.line(Te,Te.getPrimaryCursorState(),!1,fe.position,fe.viewPosition):ye=N.b.moveTo(Te,Te.getPrimaryCursorState(),!1,fe.position,fe.viewPosition);var Ee=Te.getCursorStates();if(Ee.length>1)for(var Ge=ye.modelState?ye.modelState.position:null,$e=ye.viewState?ye.viewState.position:null,We=0,it=Ee.length;We<it;We++){var Fe=Ee[We];if(!(Ge&&!Fe.modelState.selection.containsPosition(Ge))&&!($e&&!Fe.viewState.selection.containsPosition($e))){Ee.splice(We,1),Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,Ee);return}}Ee.push(ye),Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,Ee)}}}]),Je}(S))),k.LastCursorMoveToSelect=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"_lastCursorMoveToSelect",precondition:void 0})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){if(!!fe.position){var ye=Te.getLastAddedCursorIndex(),Ee=Te.getCursorStates(),Ge=Ee.slice(0);Ge[ye]=N.b.moveTo(Te,Ee[ye],!0,fe.position,fe.viewPosition),Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,Ge)}}}]),Je}(S)));var we=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._inSelectionMode=Wt.inSelectionMode,Te}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,N.b.moveToBeginningOfLine(Te,Te.getCursorStates(),this._inSelectionMode)),Te.revealPrimaryCursor(fe.source,!0)}}]),Je}(S);k.CursorHome=Object(L.l)(new we({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),k.CursorHomeSelect=Object(L.l)(new we({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));var Re=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._inSelectionMode=Wt.inSelectionMode,Te}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,this._exec(Te.getCursorStates())),Te.revealPrimaryCursor(fe.source,!0)}},{key:"_exec",value:function(Te){for(var fe=[],ye=0,Ee=Te.length;ye<Ee;ye++){var Ge=Te[ye],$e=Ge.modelState.position.lineNumber;fe[ye]=ee.b.fromModelState(Ge.modelState.move(this._inSelectionMode,$e,1,0))}return fe}}]),Je}(S);k.CursorLineStart=Object(L.l)(new Re({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:0,mac:{primary:256|31}}})),k.CursorLineStartSelect=Object(L.l)(new Re({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));var Oe=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._inSelectionMode=Wt.inSelectionMode,Te}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,N.b.moveToEndOfLine(Te,Te.getCursorStates(),this._inSelectionMode,fe.sticky||!1)),Te.revealPrimaryCursor(fe.source,!0)}}]),Je}(S);k.CursorEnd=Object(L.l)(new Oe({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:x,kbExpr:d.a.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:J.b("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),k.CursorEndSelect=Object(L.l)(new Oe({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:x,kbExpr:d.a.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:J.b("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));var Pe=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._inSelectionMode=Wt.inSelectionMode,Te}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,this._exec(Te,Te.getCursorStates())),Te.revealPrimaryCursor(fe.source,!0)}},{key:"_exec",value:function(Te,fe){for(var ye=[],Ee=0,Ge=fe.length;Ee<Ge;Ee++){var $e=fe[Ee],We=$e.modelState.position.lineNumber,it=Te.model.getLineMaxColumn(We);ye[Ee]=ee.b.fromModelState($e.modelState.move(this._inSelectionMode,We,it,0))}return ye}}]),Je}(S);k.CursorLineEnd=Object(L.l)(new Pe({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:0,mac:{primary:256|35}}})),k.CursorLineEndSelect=Object(L.l)(new Pe({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));var Ne=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._inSelectionMode=Wt.inSelectionMode,Te}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,N.b.moveToBeginningOfBuffer(Te,Te.getCursorStates(),this._inSelectionMode)),Te.revealPrimaryCursor(fe.source,!0)}}]),Je}(S);k.CursorTop=Object(L.l)(new Ne({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),k.CursorTopSelect=Object(L.l)(new Ne({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));var Ke=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._inSelectionMode=Wt.inSelectionMode,Te}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,N.b.moveToEndOfBuffer(Te,Te.getCursorStates(),this._inSelectionMode)),Te.revealPrimaryCursor(fe.source,!0)}}]),Je}(S);k.CursorBottom=Object(L.l)(new Ke({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),k.CursorBottomSelect=Object(L.l)(new Ke({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));var Xe=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"editorScroll",precondition:void 0,description:T.description})}return Object(E.a)(Je,[{key:"determineScrollMethod",value:function(Te){var fe=[6],ye=[1,2,3,4,5,6],Ee=[4,2],Ge=[1,3];return fe.includes(Te.unit)&&Ee.includes(Te.direction)?this._runHorizontalEditorScroll.bind(this):ye.includes(Te.unit)&&Ge.includes(Te.direction)?this._runVerticalEditorScroll.bind(this):null}},{key:"runCoreEditorCommand",value:function(Te,fe){var ye=T.parse(fe);if(!!ye){var Ee=this.determineScrollMethod(ye);!Ee||Ee(Te,fe.source,ye)}}},{key:"_runVerticalEditorScroll",value:function(Te,fe,ye){var Ee=this._computeDesiredScrollTop(Te,ye);if(ye.revealCursor){var Ge=Te.getCompletelyVisibleViewRangeAtScrollTop(Ee);Te.setCursorStates(fe,3,[N.b.findPositionInViewportIfOutside(Te,Te.getPrimaryCursorState(),Ge,ye.select)])}Te.viewLayout.setScrollPosition({scrollTop:Ee},0)}},{key:"_computeDesiredScrollTop",value:function(Te,fe){if(fe.unit===1){var ye=Te.viewLayout.getFutureViewport(),Ee=Te.getCompletelyVisibleViewRangeAtScrollTop(ye.top),Ge=Te.coordinatesConverter.convertViewRangeToModelRange(Ee),$e;fe.direction===1?$e=Math.max(1,Ge.startLineNumber-fe.value):$e=Math.min(Te.model.getLineCount(),Ge.startLineNumber+fe.value);var We=Te.coordinatesConverter.convertModelPositionToViewPosition(new H.a($e,1));return Te.viewLayout.getVerticalOffsetForLineNumber(We.lineNumber)}if(fe.unit===5){var it=0;return fe.direction===3&&(it=Te.model.getLineCount()-Te.cursorConfig.pageSize),Te.viewLayout.getVerticalOffsetForLineNumber(it)}var Fe;fe.unit===3?Fe=Te.cursorConfig.pageSize*fe.value:fe.unit===4?Fe=Math.round(Te.cursorConfig.pageSize/2)*fe.value:Fe=fe.value;var He=(fe.direction===1?-1:1)*Fe;return Te.viewLayout.getCurrentScrollTop()+He*Te.cursorConfig.lineHeight}},{key:"_runHorizontalEditorScroll",value:function(Te,fe,ye){var Ee=this._computeDesiredScrollLeft(Te,ye);Te.viewLayout.setScrollPosition({scrollLeft:Ee},0)}},{key:"_computeDesiredScrollLeft",value:function(Te,fe){var ye=(fe.direction===4?-1:1)*fe.value;return Te.viewLayout.getCurrentScrollLeft()+ye*Te.cursorConfig.typicalHalfwidthCharacterWidth}}]),Je}(S);k.EditorScrollImpl=Xe,k.EditorScroll=Object(L.l)(new Xe),k.ScrollLineUp=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"scrollLineUp",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){k.EditorScroll.runCoreEditorCommand(Te,{to:T.RawDirection.Up,by:T.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:fe.source})}}]),Je}(S))),k.ScrollPageUp=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"scrollPageUp",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){k.EditorScroll.runCoreEditorCommand(Te,{to:T.RawDirection.Up,by:T.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:fe.source})}}]),Je}(S))),k.ScrollEditorTop=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus}})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){k.EditorScroll.runCoreEditorCommand(Te,{to:T.RawDirection.Up,by:T.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:fe.source})}}]),Je}(S))),k.ScrollLineDown=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"scrollLineDown",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){k.EditorScroll.runCoreEditorCommand(Te,{to:T.RawDirection.Down,by:T.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:fe.source})}}]),Je}(S))),k.ScrollPageDown=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"scrollPageDown",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){k.EditorScroll.runCoreEditorCommand(Te,{to:T.RawDirection.Down,by:T.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:fe.source})}}]),Je}(S))),k.ScrollEditorBottom=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus}})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){k.EditorScroll.runCoreEditorCommand(Te,{to:T.RawDirection.Down,by:T.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:fe.source})}}]),Je}(S))),k.ScrollLeft=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"scrollLeft",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus}})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){k.EditorScroll.runCoreEditorCommand(Te,{to:T.RawDirection.Left,by:T.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:fe.source})}}]),Je}(S))),k.ScrollRight=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"scrollRight",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus}})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){k.EditorScroll.runCoreEditorCommand(Te,{to:T.RawDirection.Right,by:T.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:fe.source})}}]),Je}(S)));var wt=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._inSelectionMode=Wt.inSelectionMode,Te}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){!fe.position||(Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,[N.b.word(Te,Te.getPrimaryCursorState(),this._inSelectionMode,fe.position)]),fe.revealType!==2&&Te.revealPrimaryCursor(fe.source,!0,!0))}}]),Je}(S);k.WordSelect=Object(L.l)(new wt({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),k.WordSelectDrag=Object(L.l)(new wt({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),k.LastCursorWordSelect=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"lastCursorWordSelect",precondition:void 0})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){if(!!fe.position){var ye=Te.getLastAddedCursorIndex(),Ee=Te.getCursorStates(),Ge=Ee.slice(0),$e=Ee[ye];Ge[ye]=N.b.word(Te,$e,$e.modelState.hasSelection(),fe.position),Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,Ge)}}}]),Je}(S)));var Ct=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._inSelectionMode=Wt.inSelectionMode,Te}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){!fe.position||(Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,[N.b.line(Te,Te.getPrimaryCursorState(),this._inSelectionMode,fe.position,fe.viewPosition)]),fe.revealType!==2&&Te.revealPrimaryCursor(fe.source,!1,!0))}}]),Je}(S);k.LineSelect=Object(L.l)(new Ct({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),k.LineSelectDrag=Object(L.l)(new Ct({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));var bt=function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(Wt){var Te;return Object(De.a)(this,Je),Te=jt.call(this,Wt),Te._inSelectionMode=Wt.inSelectionMode,Te}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){if(!!fe.position){var ye=Te.getLastAddedCursorIndex(),Ee=Te.getCursorStates(),Ge=Ee.slice(0);Ge[ye]=N.b.line(Te,Ee[ye],this._inSelectionMode,fe.position,fe.viewPosition),Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,Ge)}}}]),Je}(S);k.LastCursorLineSelect=Object(L.l)(new bt({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),k.LastCursorLineSelectDrag=Object(L.l)(new bt({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),k.CancelSelection=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"cancelSelection",precondition:d.a.hasNonEmptySelection,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:9,secondary:[1024|9]}})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,[N.b.cancelSelection(Te,Te.getPrimaryCursorState())]),Te.revealPrimaryCursor(fe.source,!0)}}]),Je}(S))),k.RemoveSecondaryCursors=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"removeSecondaryCursors",precondition:d.a.hasMultipleSelections,kbOpts:{weight:x+1,kbExpr:d.a.textInputFocus,primary:9,secondary:[1024|9]}})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,[Te.getPrimaryCursorState()]),Te.revealPrimaryCursor(fe.source,!0),Object(Q.c)(J.b("removedCursor","Removed secondary cursors"))}}]),Je}(S))),k.RevealLine=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"revealLine",precondition:void 0,description:z.description})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){var ye=fe,Ee=ye.lineNumber||0,Ge=typeof Ee=="number"?Ee+1:parseInt(Ee)+1;Ge<1&&(Ge=1);var $e=Te.model.getLineCount();Ge>$e&&(Ge=$e);var We=new W.a(Ge,1,Ge,Te.model.getLineMaxColumn(Ge)),it=0;if(ye.at)switch(ye.at){case z.RawAtArgument.Top:it=3;break;case z.RawAtArgument.Center:it=1;break;case z.RawAtArgument.Bottom:it=4;break;default:break}var Fe=Te.coordinatesConverter.convertModelRangeToViewRange(We);Te.revealRange(fe.source,!1,Fe,it,0)}}]),Je}(S))),k.SelectAll=new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,L.i)}return Object(E.a)(Je,[{key:"runDOMCommand",value:function(){$.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}},{key:"runEditorCommand",value:function(Te,fe,ye){var Ee=fe._getViewModel();!Ee||this.runCoreEditorCommand(Ee,ye)}},{key:"runCoreEditorCommand",value:function(Te,fe){Te.model.pushStackElement(),Te.setCursorStates("keyboard",3,[N.b.selectAll(Te,Te.getPrimaryCursorState())])}}]),Je}(A)),k.SetSelection=Object(L.l)(new(function(mt){Object(ve.a)(Je,mt);var jt=Object(re.a)(Je);function Je(){return Object(De.a)(this,Je),jt.call(this,{id:"setSelection",precondition:void 0})}return Object(E.a)(Je,[{key:"runCoreEditorCommand",value:function(Te,fe){!fe.selection||(Te.model.pushStackElement(),Te.setCursorStates(fe.source,3,[ee.b.fromModelSelection(fe.selection)]))}}]),Je}(S)))})(ue||(ue={}));var be=j.a.and(d.a.textInputFocus,d.a.columnSelection);function de(k,w){C.a.registerKeybindingRule({id:k,primary:w,when:be,weight:x+1})}de(ue.CursorColumnSelectLeft.id,1024|15),de(ue.CursorColumnSelectRight.id,1024|17),de(ue.CursorColumnSelectUp.id,1024|16),de(ue.CursorColumnSelectPageUp.id,1024|11),de(ue.CursorColumnSelectDown.id,1024|18),de(ue.CursorColumnSelectPageDown.id,1024|12);function ke(k){return k.register(),k}var he;(function(k){var w=function(B){Object(ve.a)(pe,B);var Y=Object(re.a)(pe);function pe(){return Object(De.a)(this,pe),Y.apply(this,arguments)}return Object(E.a)(pe,[{key:"runEditorCommand",value:function(I,we,Re){var Oe=we._getViewModel();!Oe||this.runCoreEditingCommand(we,Oe,Re||{})}}]),pe}(L.d);k.CoreEditingCommand=w,k.LineBreakInsert=Object(L.l)(new(function(B){Object(ve.a)(pe,B);var Y=Object(re.a)(pe);function pe(){return Object(De.a)(this,pe),Y.call(this,{id:"lineBreakInsert",precondition:d.a.writable,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:0,mac:{primary:256|45}}})}return Object(E.a)(pe,[{key:"runCoreEditingCommand",value:function(I,we,Re){I.pushUndoStop(),I.executeCommands(this.id,U.b.lineBreakInsert(we.cursorConfig,we.model,we.getCursorStates().map(function(Oe){return Oe.modelState.selection})))}}]),pe}(w))),k.Outdent=Object(L.l)(new(function(B){Object(ve.a)(pe,B);var Y=Object(re.a)(pe);function pe(){return Object(De.a)(this,pe),Y.call(this,{id:"outdent",precondition:d.a.writable,kbOpts:{weight:x,kbExpr:j.a.and(d.a.editorTextFocus,d.a.tabDoesNotMoveFocus),primary:1024|2}})}return Object(E.a)(pe,[{key:"runCoreEditingCommand",value:function(I,we,Re){I.pushUndoStop(),I.executeCommands(this.id,U.b.outdent(we.cursorConfig,we.model,we.getCursorStates().map(function(Oe){return Oe.modelState.selection}))),I.pushUndoStop()}}]),pe}(w))),k.Tab=Object(L.l)(new(function(B){Object(ve.a)(pe,B);var Y=Object(re.a)(pe);function pe(){return Object(De.a)(this,pe),Y.call(this,{id:"tab",precondition:d.a.writable,kbOpts:{weight:x,kbExpr:j.a.and(d.a.editorTextFocus,d.a.tabDoesNotMoveFocus),primary:2}})}return Object(E.a)(pe,[{key:"runCoreEditingCommand",value:function(I,we,Re){I.pushUndoStop(),I.executeCommands(this.id,U.b.tab(we.cursorConfig,we.model,we.getCursorStates().map(function(Oe){return Oe.modelState.selection}))),I.pushUndoStop()}}]),pe}(w))),k.DeleteLeft=Object(L.l)(new(function(B){Object(ve.a)(pe,B);var Y=Object(re.a)(pe);function pe(){return Object(De.a)(this,pe),Y.call(this,{id:"deleteLeft",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}return Object(E.a)(pe,[{key:"runCoreEditingCommand",value:function(I,we,Re){var Oe=V.a.deleteLeft(we.getPrevEditOperationType(),we.cursorConfig,we.model,we.getCursorStates().map(function(Xe){return Xe.modelState.selection}),we.getCursorAutoClosedCharacters()),Pe=Object(le.a)(Oe,2),Ne=Pe[0],Ke=Pe[1];Ne&&I.pushUndoStop(),I.executeCommands(this.id,Ke),we.setPrevEditOperationType(2)}}]),pe}(w))),k.DeleteRight=Object(L.l)(new(function(B){Object(ve.a)(pe,B);var Y=Object(re.a)(pe);function pe(){return Object(De.a)(this,pe),Y.call(this,{id:"deleteRight",precondition:void 0,kbOpts:{weight:x,kbExpr:d.a.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}return Object(E.a)(pe,[{key:"runCoreEditingCommand",value:function(I,we,Re){var Oe=V.a.deleteRight(we.getPrevEditOperationType(),we.cursorConfig,we.model,we.getCursorStates().map(function(Xe){return Xe.modelState.selection})),Pe=Object(le.a)(Oe,2),Ne=Pe[0],Ke=Pe[1];Ne&&I.pushUndoStop(),I.executeCommands(this.id,Ke),we.setPrevEditOperationType(3)}}]),pe}(w))),k.Undo=new(function(B){Object(ve.a)(pe,B);var Y=Object(re.a)(pe);function pe(){return Object(De.a)(this,pe),Y.call(this,L.j)}return Object(E.a)(pe,[{key:"runDOMCommand",value:function(){document.execCommand("undo")}},{key:"runEditorCommand",value:function(I,we,Re){if(!(!we.hasModel()||we.getOption(88)===!0))return we.getModel().undo()}}]),pe}(A)),k.Redo=new(function(B){Object(ve.a)(pe,B);var Y=Object(re.a)(pe);function pe(){return Object(De.a)(this,pe),Y.call(this,L.h)}return Object(E.a)(pe,[{key:"runDOMCommand",value:function(){document.execCommand("redo")}},{key:"runEditorCommand",value:function(I,we,Re){if(!(!we.hasModel()||we.getOption(88)===!0))return we.getModel().redo()}}]),pe}(A))})(he||(he={}));var ge=function(k){Object(ve.a)(B,k);var w=Object(re.a)(B);function B(Y,pe,me){var I;return Object(De.a)(this,B),I=w.call(this,{id:Y,precondition:void 0,description:me}),I._handlerId=pe,I}return Object(E.a)(B,[{key:"runCommand",value:function(pe,me){var I=pe.get(ne.a).getFocusedCodeEditor();!I||I.trigger("keyboard",this._handlerId,me)}}]),B}(L.a);function ce(k,w){ke(new ge("default:"+k,k)),ke(new ge(k,k,w))}ce("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),ce("replacePreviousChar"),ce("compositionType"),ce("compositionStart"),ce("compositionEnd"),ce("paste"),ce("cut")},BY2G:function(fn,K,a){"use strict";var le=function(E){if(E&&E!==!0)return E};K.a=le},"C+7e":function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("themeService")},"C/vA":function(fn,K,a){"use strict";a.d(K,"a",function(){return le});function le(De){var E=this,ve=!1,re;return function(){return ve||(ve=!0,re=De.apply(E,arguments)),re}}},C6rC:function(fn,K,a){},CGdd:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("languageService")},CRAX:function(fn,K,a){"use strict";a.d(K,"a",function(){return ee}),a.d(K,"b",function(){return z}),a.d(K,"c",function(){return A});var le=a("oBTY"),De=a("rAM+"),E=a("fWQN"),ve=a("mtLc"),re=a("6OMU"),J=a("MI8n"),$=a("746U"),y=a("3/fG"),Q=a("+7oY"),L=a("3Rsk"),ne=a("ic2d"),ee={Configuration:"base.contributions.configuration"},H={properties:{},patternProperties:{}},W={properties:{},patternProperties:{}},F={properties:{},patternProperties:{}},V={properties:{},patternProperties:{}},N={properties:{},patternProperties:{}},U={properties:{},patternProperties:{}},d="vscode://schemas/settings/resourceLanguage",j=ne.a.as(L.a.JSONContribution),C=function(){function ke(){Object(E.a)(this,ke),this.overrideIdentifiers=new Set,this._onDidSchemaChange=new J.b,this._onDidUpdateConfiguration=new J.b,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:y.b("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},j.registerSchema(d,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}return Object(ve.a)(ke,[{key:"registerConfiguration",value:function(ge){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.registerConfigurations([ge],ce)}},{key:"registerConfigurations",value:function(ge){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=new Set;this.doRegisterConfigurations(ge,ce,k),j.registerSchema(d,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:k})}},{key:"registerDefaultConfigurations",value:function(ge){var ce=new Set;this.doRegisterDefaultConfigurations(ge,ce),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:ce,defaultsOverrides:!0})}},{key:"doRegisterDefaultConfigurations",value:function(ge,ce){var k,w=[],B=Object(De.a)(ge),Y;try{for(B.s();!(Y=B.n()).done;){var pe=Y.value,me=pe.overrides,I=pe.source;for(var we in me)if(ce.add(we),z.test(we)){var Re=this.configurationDefaultsOverrides.get(we),Oe=(k=Re==null?void 0:Re.valuesSources)!==null&&k!==void 0?k:new Map;if(I)for(var Pe=0,Ne=Object.keys(me[we]);Pe<Ne.length;Pe++){var Ke=Ne[Pe];Oe.set(Ke,I)}var Xe=Object.assign(Object.assign({},(Re==null?void 0:Re.value)||{}),me[we]);this.configurationDefaultsOverrides.set(we,{source:I,value:Xe,valuesSources:Oe});var wt=Object(Q.d)(we),Ct={type:"object",default:Xe,description:y.b("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",wt),$ref:d,defaultDefaultValue:Xe,source:$.i(I)?void 0:I,defaultValueSource:I};w.push.apply(w,Object(le.a)(A(we))),this.configurationProperties[we]=Ct,this.defaultLanguageConfigurationOverridesNode.properties[we]=Ct}else{this.configurationDefaultsOverrides.set(we,{value:me[we],source:I});var bt=this.configurationProperties[we];bt&&(this.updatePropertyDefaultValue(we,bt),this.updateSchema(we,bt))}}}catch(mt){B.e(mt)}finally{B.f()}this.doRegisterOverrideIdentifiers(w)}},{key:"registerOverrideIdentifiers",value:function(ge){this.doRegisterOverrideIdentifiers(ge),this._onDidSchemaChange.fire()}},{key:"doRegisterOverrideIdentifiers",value:function(ge){var ce=Object(De.a)(ge),k;try{for(ce.s();!(k=ce.n()).done;){var w=k.value;this.overrideIdentifiers.add(w)}}catch(B){ce.e(B)}finally{ce.f()}this.updateOverridePropertyPatternKey()}},{key:"doRegisterConfigurations",value:function(ge,ce,k){var w=this;ge.forEach(function(B){w.validateAndRegisterProperties(B,ce,B.extensionInfo,B.restrictedProperties,void 0,k),w.configurationContributors.push(B),w.registerJSONConfiguration(B)})}},{key:"validateAndRegisterProperties",value:function(ge){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,k=arguments.length>2?arguments[2]:void 0,w=arguments.length>3?arguments[3]:void 0,B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:3,Y=arguments.length>5?arguments[5]:void 0,pe;B=$.l(ge.scope)?B:ge.scope;var me=ge.properties;if(me)for(var I in me){var we=me[I];if(ce&&de(I,we)){delete me[I];continue}if(we.source=k,we.defaultDefaultValue=me[I].default,this.updatePropertyDefaultValue(I,we),z.test(I)?we.scope=void 0:(we.scope=$.l(we.scope)?B:we.scope,we.restricted=$.l(we.restricted)?!!(w==null?void 0:w.includes(I)):we.restricted),me[I].hasOwnProperty("included")&&!me[I].included){this.excludedConfigurationProperties[I]=me[I],delete me[I];continue}else this.configurationProperties[I]=me[I],((pe=me[I].policy)===null||pe===void 0?void 0:pe.name)&&this.policyConfigurations.set(me[I].policy.name,I);!me[I].deprecationMessage&&me[I].markdownDeprecationMessage&&(me[I].deprecationMessage=me[I].markdownDeprecationMessage),Y.add(I)}var Re=ge.allOf;if(Re){var Oe=Object(De.a)(Re),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var Ne=Pe.value;this.validateAndRegisterProperties(Ne,ce,k,w,B,Y)}}catch(Ke){Oe.e(Ke)}finally{Oe.f()}}}},{key:"getConfigurationProperties",value:function(){return this.configurationProperties}},{key:"getPolicyConfigurations",value:function(){return this.policyConfigurations}},{key:"registerJSONConfiguration",value:function(ge){var ce=this,k=function w(B){var Y=B.properties;if(Y)for(var pe in Y)ce.updateSchema(pe,Y[pe]);var me=B.allOf;me==null||me.forEach(w)};k(ge)}},{key:"updateSchema",value:function(ge,ce){switch(H.properties[ge]=ce,ce.scope){case 1:W.properties[ge]=ce;break;case 2:F.properties[ge]=ce;break;case 6:V.properties[ge]=ce;break;case 3:N.properties[ge]=ce;break;case 4:U.properties[ge]=ce;break;case 5:U.properties[ge]=ce,this.resourceLanguageSettingsSchema.properties[ge]=ce;break}}},{key:"updateOverridePropertyPatternKey",value:function(){var ge=Object(De.a)(this.overrideIdentifiers.values()),ce;try{for(ge.s();!(ce=ge.n()).done;){var k=ce.value,w="[".concat(k,"]"),B={type:"object",description:y.b("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:y.b("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:d};this.updatePropertyDefaultValue(w,B),H.properties[w]=B,W.properties[w]=B,F.properties[w]=B,V.properties[w]=B,N.properties[w]=B,U.properties[w]=B}}catch(Y){ge.e(Y)}finally{ge.f()}}},{key:"registerOverridePropertyPatternKey",value:function(){var ge={type:"object",description:y.b("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:y.b("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:d};H.patternProperties[T]=ge,W.patternProperties[T]=ge,F.patternProperties[T]=ge,V.patternProperties[T]=ge,N.patternProperties[T]=ge,U.patternProperties[T]=ge,this._onDidSchemaChange.fire()}},{key:"updatePropertyDefaultValue",value:function(ge,ce){var k=this.configurationDefaultsOverrides.get(ge),w=k==null?void 0:k.value,B=k==null?void 0:k.source;$.k(w)&&(w=ce.defaultDefaultValue,B=void 0),$.k(w)&&(w=ue(ce.type)),ce.default=w,ce.defaultValueSource=B}}]),ke}(),x="\\[([^\\]]+)\\]",S=new RegExp(x,"g"),T="^(".concat(x,")+$"),z=new RegExp(T);function A(ke){var he=[];if(z.test(ke))for(var ge=S.exec(ke);ge==null?void 0:ge.length;){var ce=ge[1].trim();ce&&he.push(ce),ge=S.exec(ke)}return Object(re.i)(he)}function ue(ke){var he=Array.isArray(ke)?ke[0]:ke;switch(he){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var be=new C;ne.a.add(ee.Configuration,be);function de(ke,he){var ge,ce,k,w;return ke.trim()?z.test(ke)?y.b("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",ke):be.getConfigurationProperties()[ke]!==void 0?y.b("config.property.duplicate","Cannot register '{0}'. This property is already registered.",ke):((ge=he.policy)===null||ge===void 0?void 0:ge.name)&&be.getPolicyConfigurations().get((ce=he.policy)===null||ce===void 0?void 0:ce.name)!==void 0?y.b("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",ke,(k=he.policy)===null||k===void 0?void 0:k.name,be.getPolicyConfigurations().get((w=he.policy)===null||w===void 0?void 0:w.name)):null:y.b("config.property.empty","Cannot register an empty property")}},"CWI+":function(fn,K,a){},CZ1j:function(fn,K,a){"use strict";a.d(K,"b",function(){return le}),a.d(K,"a",function(){return De});function le(E){return E<0?0:E>255?255:E|0}function De(E){return E<0?0:E>4294967295?4294967295:E|0}},Cdua:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("editorWorkerService")},"Cg/j":function(fn,K,a){"use strict";a.d(K,"b",function(){return le}),a.d(K,"a",function(){return De}),a.d(K,"c",function(){return ve});var le;(function(re){re.serviceIds=new Map,re.DI_TARGET="$di$target",re.DI_DEPENDENCIES="$di$dependencies";function J($){return $[re.DI_DEPENDENCIES]||[]}re.getServiceDependencies=J})(le||(le={}));var De=ve("instantiationService");function E(re,J,$){J[le.DI_TARGET]===J?J[le.DI_DEPENDENCIES].push({id:re,index:$}):(J[le.DI_DEPENDENCIES]=[{id:re,index:$}],J[le.DI_TARGET]=J)}function ve(re){if(le.serviceIds.has(re))return le.serviceIds.get(re);var J=function $(y,Q,L){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");E($,y,L)};return J.toString=function(){return re},le.serviceIds.set(re,J),J}},CjF5:function(fn,K,a){"use strict";a.d(K,"a",function(){return E});var le=a("D3Dy"),De=a("MNsG"),E={clipboard:{writeText:De.k||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:De.k||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:function(){return De.k||le.isStandalone()?0:navigator.keyboard||le.isSafari?1:2}(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},Comh:function(fn,K,a){"use strict";a.d(K,"c",function(){return re}),a.d(K,"b",function(){return J}),a.d(K,"a",function(){return $});var le=a("fWQN"),De=a("mtLc"),E=a("N0LK"),ve=a("aokT"),re=!1,J=function(){function y(Q,L,ne,ee,H){Object(le.a)(this,y),this.value=Q,this.selectionStart=L,this.selectionEnd=ne,this.selection=ee,this.newlineCountBeforeSelection=H}return Object(De.a)(y,[{key:"toString",value:function(){return"[ <".concat(this.value,">, selectionStart: ").concat(this.selectionStart,", selectionEnd: ").concat(this.selectionEnd,"]")}},{key:"collapseSelection",value:function(){return this.selectionStart===this.value.length?this:new y(this.value,this.value.length,this.value.length,null,void 0)}},{key:"writeToTextArea",value:function(L,ne,ee){re&&console.log("writeToTextArea ".concat(L,": ").concat(this.toString())),ne.setValue(L,this.value),ee&&ne.setSelectionRange(L,this.selectionStart,this.selectionEnd)}},{key:"deduceEditorPosition",value:function(L){var ne,ee,H,W,F,V,N,U;if(L<=this.selectionStart){var d=this.value.substring(L,this.selectionStart);return this._finishDeduceEditorPosition((ee=(ne=this.selection)===null||ne===void 0?void 0:ne.getStartPosition())!==null&&ee!==void 0?ee:null,d,-1)}if(L>=this.selectionEnd){var j=this.value.substring(this.selectionEnd,L);return this._finishDeduceEditorPosition((W=(H=this.selection)===null||H===void 0?void 0:H.getEndPosition())!==null&&W!==void 0?W:null,j,1)}var C=this.value.substring(this.selectionStart,L);if(C.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((V=(F=this.selection)===null||F===void 0?void 0:F.getStartPosition())!==null&&V!==void 0?V:null,C,1);var x=this.value.substring(L,this.selectionEnd);return this._finishDeduceEditorPosition((U=(N=this.selection)===null||N===void 0?void 0:N.getEndPosition())!==null&&U!==void 0?U:null,x,-1)}},{key:"_finishDeduceEditorPosition",value:function(L,ne,ee){for(var H=0,W=-1;(W=ne.indexOf(`
`,W+1))!==-1;)H++;return[L,ee*ne.length,H]}}],[{key:"readFromTextArea",value:function(L,ne){var ee=L.getValue(),H=L.getSelectionStart(),W=L.getSelectionEnd(),F=void 0;if(ne){var V=ee.substring(0,H),N=ne.value.substring(0,ne.selectionStart);V===N&&(F=ne.newlineCountBeforeSelection)}return new y(ee,H,W,null,F)}},{key:"deduceInput",value:function(L,ne,ee){if(!L)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};re&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: ".concat(L.toString())),console.log("CURRENT STATE: ".concat(ne.toString())));var H=Math.min(E.f(L.value,ne.value),L.selectionStart,ne.selectionStart),W=Math.min(E.g(L.value,ne.value),L.value.length-L.selectionEnd,ne.value.length-ne.selectionEnd),F=L.value.substring(H,L.value.length-W),V=ne.value.substring(H,ne.value.length-W),N=L.selectionStart-H,U=L.selectionEnd-H,d=ne.selectionStart-H,j=ne.selectionEnd-H;if(re&&(console.log("AFTER DIFFING PREVIOUS STATE: <".concat(F,">, selectionStart: ").concat(N,", selectionEnd: ").concat(U)),console.log("AFTER DIFFING CURRENT STATE: <".concat(V,">, selectionStart: ").concat(d,", selectionEnd: ").concat(j))),d===j){var C=L.selectionStart-H;return re&&console.log("REMOVE PREVIOUS: ".concat(C," chars")),{text:V,replacePrevCharCnt:C,replaceNextCharCnt:0,positionDelta:0}}var x=U-N;return{text:V,replacePrevCharCnt:x,replaceNextCharCnt:0,positionDelta:0}}},{key:"deduceAndroidCompositionInput",value:function(L,ne){if(!L)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(re&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: ".concat(L.toString())),console.log("CURRENT STATE: ".concat(ne.toString()))),L.value===ne.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:ne.selectionEnd-L.selectionEnd};var ee=Math.min(E.f(L.value,ne.value),L.selectionEnd),H=Math.min(E.g(L.value,ne.value),L.value.length-L.selectionEnd),W=L.value.substring(ee,L.value.length-H),F=ne.value.substring(ee,ne.value.length-H),V=L.selectionStart-ee,N=L.selectionEnd-ee,U=ne.selectionStart-ee,d=ne.selectionEnd-ee;return re&&(console.log("AFTER DIFFING PREVIOUS STATE: <".concat(W,">, selectionStart: ").concat(V,", selectionEnd: ").concat(N)),console.log("AFTER DIFFING CURRENT STATE: <".concat(F,">, selectionStart: ").concat(U,", selectionEnd: ").concat(d))),{text:F,replacePrevCharCnt:N,replaceNextCharCnt:W.length-N,positionDelta:d-F.length}}}]),y}();J.EMPTY=new J("",0,0,null,void 0);var $=function(){function y(){Object(le.a)(this,y)}return Object(De.a)(y,null,[{key:"_getPageOfLine",value:function(L,ne){return Math.floor((L-1)/ne)}},{key:"_getRangeForPage",value:function(L,ne){var ee=L*ne,H=ee+1,W=ee+ne;return new ve.a(H,1,W+1,1)}},{key:"fromEditorSelection",value:function(L,ne,ee,H){var W=500,F=y._getPageOfLine(ne.startLineNumber,ee),V=y._getRangeForPage(F,ee),N=y._getPageOfLine(ne.endLineNumber,ee),U=y._getRangeForPage(N,ee),d=V.intersectRanges(new ve.a(1,1,ne.startLineNumber,ne.startColumn));if(H&&L.getValueLengthInRange(d,1)>W){var j=L.modifyPosition(d.getEndPosition(),-W);d=ve.a.fromPositions(j,d.getEndPosition())}var C=L.getValueInRange(d,1),x=L.getLineCount(),S=L.getLineMaxColumn(x),T=U.intersectRanges(new ve.a(ne.endLineNumber,ne.endColumn,x,S));if(H&&L.getValueLengthInRange(T,1)>W){var z=L.modifyPosition(T.getStartPosition(),W);T=ve.a.fromPositions(T.getStartPosition(),z)}var A=L.getValueInRange(T,1),ue;if(F===N||F+1===N)ue=L.getValueInRange(ne,1);else{var be=V.intersectRanges(ne),de=U.intersectRanges(ne);ue=L.getValueInRange(be,1)+String.fromCharCode(8230)+L.getValueInRange(de,1)}return H&&ue.length>2*W&&(ue=ue.substring(0,W)+String.fromCharCode(8230)+ue.substring(ue.length-W,ue.length)),new J(C+ue+A,C.length,C.length+ue.length,ne,d.endLineNumber-d.startLineNumber)}}]),y}()},CsXQ:function(fn,K,a){"use strict";a.d(K,"a",function(){return le});function le(De){for(var E=0,ve=0,re=0,J=0,$=0,y=De.length;$<y;$++){var Q=De.charCodeAt($);Q===13?(E===0&&(ve=$),E++,$+1<y&&De.charCodeAt($+1)===10?(J|=2,$++):J|=3,re=$+1):Q===10&&(J|=1,E===0&&(ve=$),E++,re=$+1)}return E===0&&(ve=De.length),[E,ve,De.length-re,J]}},D3Dy:function(fn,K,a){"use strict";a.r(K),a.d(K,"addMatchMediaChangeListener",function(){return ne}),a.d(K,"PixelRatio",function(){return ee}),a.d(K,"getZoomFactor",function(){return H}),a.d(K,"isFirefox",function(){return F}),a.d(K,"isWebKit",function(){return V}),a.d(K,"isChrome",function(){return N}),a.d(K,"isSafari",function(){return U}),a.d(K,"isWebkitWebView",function(){return d}),a.d(K,"isElectron",function(){return j}),a.d(K,"isAndroid",function(){return C}),a.d(K,"isStandalone",function(){return z});var le=a("yKVA"),De=a("879j"),E=a("fWQN"),ve=a("mtLc"),re=a("MI8n"),J=a("pmY6"),$=function(){function A(){Object(E.a)(this,A),this._zoomFactor=1}return Object(ve.a)(A,[{key:"getZoomFactor",value:function(){return this._zoomFactor}}]),A}();$.INSTANCE=new $;var y=function(A){Object(le.a)(be,A);var ue=Object(De.a)(be);function be(){var de;return Object(E.a)(this,be),de=ue.call(this),de._onDidChange=de._register(new re.b),de.onDidChange=de._onDidChange.event,de._listener=function(){return de._handleChange(!0)},de._mediaQueryList=null,de._handleChange(!1),de}return Object(ve.a)(be,[{key:"_handleChange",value:function(ke){var he;(he=this._mediaQueryList)===null||he===void 0||he.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")),this._mediaQueryList.addEventListener("change",this._listener),ke&&this._onDidChange.fire()}}]),be}(J.a),Q=function(A){Object(le.a)(be,A);var ue=Object(De.a)(be);function be(){var de;Object(E.a)(this,be),de=ue.call(this),de._onDidChange=de._register(new re.b),de.onDidChange=de._onDidChange.event,de._value=de._getPixelRatio();var ke=de._register(new y);return de._register(ke.onDidChange(function(){de._value=de._getPixelRatio(),de._onDidChange.fire(de._value)})),de}return Object(ve.a)(be,[{key:"value",get:function(){return this._value}},{key:"_getPixelRatio",value:function(){var ke=document.createElement("canvas").getContext("2d"),he=window.devicePixelRatio||1,ge=ke.webkitBackingStorePixelRatio||ke.mozBackingStorePixelRatio||ke.msBackingStorePixelRatio||ke.oBackingStorePixelRatio||ke.backingStorePixelRatio||1;return he/ge}}]),be}(J.a),L=function(){function A(){Object(E.a)(this,A),this._pixelRatioMonitor=null}return Object(ve.a)(A,[{key:"_getOrCreatePixelRatioMonitor",value:function(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=Object(J.k)(new Q)),this._pixelRatioMonitor}},{key:"value",get:function(){return this._getOrCreatePixelRatioMonitor().value}},{key:"onDidChange",get:function(){return this._getOrCreatePixelRatioMonitor().onDidChange}}]),A}();function ne(A,ue){typeof A=="string"&&(A=window.matchMedia(A)),A.addEventListener("change",ue)}var ee=new L;function H(){return $.INSTANCE.getZoomFactor()}var W=navigator.userAgent,F=W.indexOf("Firefox")>=0,V=W.indexOf("AppleWebKit")>=0,N=W.indexOf("Chrome")>=0,U=!N&&W.indexOf("Safari")>=0,d=!N&&!U&&V,j=W.indexOf("Electron/")>=0,C=W.indexOf("Android")>=0,x=!1;if(window.matchMedia){var S=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),T=window.matchMedia("(display-mode: fullscreen)");x=S.matches,ne(S,function(A){var ue=A.matches;x&&T.matches||(x=ue)})}function z(){return x}},DF6W:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("semanticTokensStylingService")},DMKg:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("ZlPH");function De(E,ve){E instanceof le.a?(E.setFontFamily(ve.getMassagedFontFamily()),E.setFontWeight(ve.fontWeight),E.setFontSize(ve.fontSize),E.setFontFeatureSettings(ve.fontFeatureSettings),E.setFontVariationSettings(ve.fontVariationSettings),E.setLineHeight(ve.lineHeight),E.setLetterSpacing(ve.letterSpacing)):(E.style.fontFamily=ve.getMassagedFontFamily(),E.style.fontWeight=ve.fontWeight,E.style.fontSize=ve.fontSize+"px",E.style.fontFeatureSettings=ve.fontFeatureSettings,E.style.fontVariationSettings=ve.fontVariationSettings,E.style.lineHeight=ve.lineHeight+"px",E.style.letterSpacing=ve.letterSpacing+"px")}},DTDp:function(fn,K,a){},DZFm:function(fn,K,a){"use strict";a.d(K,"b",function(){return re}),a.d(K,"a",function(){return J});var le=a("fWQN"),De=a("mtLc"),E=a("aokT"),ve=a("pvvD"),re=function(){function y(Q,L,ne){Object(le.a)(this,y),this.startOffset=Q,this.endOffset=L,this.newLength=ne}return Object(De.a)(y,[{key:"toString",value:function(){return"[".concat(Object(ve.l)(this.startOffset),"...").concat(Object(ve.l)(this.endOffset),") -> ").concat(Object(ve.l)(this.newLength))}}],[{key:"fromModelContentChanges",value:function(L){var ne=L.map(function(ee){var H=E.a.lift(ee.range);return new y(Object(ve.o)(H.getStartPosition()),Object(ve.o)(H.getEndPosition()),Object(ve.k)(ee.text))}).reverse();return ne}}]),y}(),J=function(){function y(Q){Object(le.a)(this,y),this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=Q.map(function(L){return $.from(L)})}return Object(De.a)(y,[{key:"getOffsetBeforeChange",value:function(L){return this.adjustNextEdit(L),this.translateCurToOld(L)}},{key:"getDistanceToNextChange",value:function(L){this.adjustNextEdit(L);var ne=this.edits[this.nextEditIdx],ee=ne?this.translateOldToCur(ne.offsetObj):null;return ee===null?null:Object(ve.c)(L,ee)}},{key:"translateOldToCur",value:function(L){return L.lineCount===this.deltaLineIdxInOld?Object(ve.q)(L.lineCount+this.deltaOldToNewLineCount,L.columnCount+this.deltaOldToNewColumnCount):Object(ve.q)(L.lineCount+this.deltaOldToNewLineCount,L.columnCount)}},{key:"translateCurToOld",value:function(L){var ne=Object(ve.l)(L);return ne.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?Object(ve.q)(ne.lineCount-this.deltaOldToNewLineCount,ne.columnCount-this.deltaOldToNewColumnCount):Object(ve.q)(ne.lineCount-this.deltaOldToNewLineCount,ne.columnCount)}},{key:"adjustNextEdit",value:function(L){for(;this.nextEditIdx<this.edits.length;){var ne=this.edits[this.nextEditIdx],ee=this.translateOldToCur(ne.endOffsetAfterObj);if(Object(ve.j)(ee,L)){this.nextEditIdx++;var H=Object(ve.l)(ee),W=Object(ve.l)(this.translateOldToCur(ne.endOffsetBeforeObj)),F=H.lineCount-W.lineCount;this.deltaOldToNewLineCount+=F;var V=this.deltaLineIdxInOld===ne.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,N=H.columnCount-W.columnCount;this.deltaOldToNewColumnCount=V+N,this.deltaLineIdxInOld=ne.endOffsetBeforeObj.lineCount}else break}}}]),y}(),$=function(){function y(Q,L,ne){Object(le.a)(this,y),this.endOffsetBeforeObj=Object(ve.l)(L),this.endOffsetAfterObj=Object(ve.l)(Object(ve.a)(Q,ne)),this.offsetObj=Object(ve.l)(Q)}return Object(De.a)(y,null,[{key:"from",value:function(L){return new y(L.startOffset,L.endOffset,L.newLength)}}]),y}()},DjyN:function(fn,K,a){"use strict";var le=a("EFp3"),De=a.n(le),E=a("Urep"),ve=a.n(E),re=a("OaEy")},E9nw:function(fn,K){fn.exports=function(){var a=document.getSelection();if(!a.rangeCount)return function(){};for(var le=document.activeElement,De=[],E=0;E<a.rangeCount;E++)De.push(a.getRangeAt(E));switch(le.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":le.blur();break;default:le=null;break}return a.removeAllRanges(),function(){a.type==="Caret"&&a.removeAllRanges(),a.rangeCount||De.forEach(function(ve){a.addRange(ve)}),le&&le.focus()}}},EJc0:function(fn,K,a){"use strict";a.d(K,"a",function(){return y}),a.d(K,"c",function(){return L}),a.d(K,"f",function(){return ee}),a.d(K,"b",function(){return H}),a.d(K,"e",function(){return F}),a.d(K,"d",function(){return V});var le=a("rAM+"),De=a("fpMC"),E=a("N0LK"),ve=a("T5lh"),re="$(",J=new RegExp("\\$\\(".concat(ve.a.iconNameExpression,"(?:").concat(ve.a.iconModifierExpression,")?\\)"),"g"),$=new RegExp("(\\\\)?".concat(J.source),"g");function y(N){return N.replace($,function(U,d){return d?U:"\\".concat(U)})}var Q=new RegExp("\\\\".concat(J.source),"g");function L(N){return N.replace(Q,function(U){return"\\".concat(U)})}var ne=new RegExp("(\\s)?(\\\\)?".concat(J.source,"(\\s)?"),"g");function ee(N){return N.indexOf(re)===-1?N:N.replace(ne,function(U,d,j,C){return j?U:d||C||""})}function H(N){return N?N.replace(/\$\((.*?)\)/g,function(U,d){return" ".concat(d," ")}).trim():""}var W=new RegExp("\\$\\(".concat(ve.a.iconNameCharacter,"+\\)"),"g");function F(N){W.lastIndex=0;for(var U="",d=[],j=0;;){var C=W.lastIndex,x=W.exec(N),S=N.substring(C,x==null?void 0:x.index);if(S.length>0){U+=S;for(var T=0;T<S.length;T++)d.push(j)}if(!x)break;j+=x[0].length}return{text:U,iconOffsets:d}}function V(N,U){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,j=U.text,C=U.iconOffsets;if(!C||C.length===0)return Object(De.h)(N,j,d);var x=Object(E.K)(j," "),S=j.length-x.length,T=Object(De.h)(N,x,d);if(T){var z=Object(le.a)(T),A;try{for(z.s();!(A=z.n()).done;){var ue=A.value,be=C[ue.start+S]+S;ue.start+=be,ue.end+=be}}catch(de){z.e(de)}finally{z.f()}}return T}},EWX2:function(fn,K,a){"use strict";a.d(K,"a",function(){return Q}),a.d(K,"f",function(){return L}),a.d(K,"e",function(){return ne}),a.d(K,"h",function(){return W}),a.d(K,"d",function(){return N}),a.d(K,"c",function(){return U}),a.d(K,"b",function(){return j}),a.d(K,"g",function(){return C});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("3/fG"),re=a("MrjW"),J=a("i55F"),$=a("bY76"),y=a("Cg/j"),Q=Object(y.c)("contextService");function L(x){var S=x;return typeof(S==null?void 0:S.id)=="string"&&$.a.isUri(S.uri)}function ne(x){var S=x;return typeof(S==null?void 0:S.id)=="string"&&!L(x)&&!F(x)}var ee={id:"ext-dev"},H={id:"empty-window"};function W(x,S){if(typeof x=="string"||typeof x=="undefined")return typeof x=="string"?{id:Object(re.a)(x)}:S?ee:H;var T=x;return T.configuration?{id:T.id,configPath:T.configuration}:T.folders.length===1?{id:T.id,uri:T.folders[0].uri}:{id:T.id}}function F(x){var S=x;return typeof(S==null?void 0:S.id)=="string"&&$.a.isUri(S.configPath)}var V=function(){function x(S,T,z,A,ue){Object(De.a)(this,x),this._id=S,this._transient=z,this._configuration=A,this._ignorePathCasing=ue,this._foldersMap=J.a.forUris(this._ignorePathCasing,function(){return!0}),this.folders=T}return Object(E.a)(x,[{key:"folders",get:function(){return this._folders},set:function(T){this._folders=T,this.updateFoldersMap()}},{key:"id",get:function(){return this._id}},{key:"transient",get:function(){return this._transient}},{key:"configuration",get:function(){return this._configuration},set:function(T){this._configuration=T}},{key:"getFolder",value:function(T){return T&&this._foldersMap.findSubstr(T)||null}},{key:"updateFoldersMap",value:function(){this._foldersMap=J.a.forUris(this._ignorePathCasing,function(){return!0});var T=Object(le.a)(this.folders),z;try{for(T.s();!(z=T.n()).done;){var A=z.value;this._foldersMap.set(A.uri,A)}}catch(ue){T.e(ue)}finally{T.f()}}},{key:"toJSON",value:function(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}]),x}(),N=function(){function x(S,T){Object(De.a)(this,x),this.raw=T,this.uri=S.uri,this.index=S.index,this.name=S.name}return Object(E.a)(x,[{key:"toJSON",value:function(){return{uri:this.uri,name:this.name,index:this.index}}}]),x}(),U="code-workspace",d=[{name:Object(ve.b)("codeWorkspace","Code Workspace"),extensions:[U]}],j="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function C(x){return x.id===j}},EffR:function(fn,K,a){"use strict";a.r(K),a.d(K,"clearNode",function(){return x}),a.d(K,"isInDOM",function(){return S}),a.d(K,"addDisposableListener",function(){return z}),a.d(K,"addStandardDisposableListener",function(){return be}),a.d(K,"addStandardDisposableGenericMouseDownListener",function(){return de}),a.d(K,"addStandardDisposableGenericMouseUpListener",function(){return ke}),a.d(K,"addDisposableGenericMouseDownListener",function(){return he}),a.d(K,"addDisposableGenericMouseUpListener",function(){return ge}),a.d(K,"runAtThisOrScheduleAtNextAnimationFrame",function(){return ce}),a.d(K,"scheduleAtNextAnimationFrame",function(){return k}),a.d(K,"getComputedStyle",function(){return B}),a.d(K,"getClientArea",function(){return Y}),a.d(K,"Dimension",function(){return me}),a.d(K,"getTopLeftOffset",function(){return I}),a.d(K,"size",function(){return we}),a.d(K,"getDomNodePagePosition",function(){return Re}),a.d(K,"getDomNodeZoomLevel",function(){return Oe}),a.d(K,"getTotalWidth",function(){return Pe}),a.d(K,"getContentWidth",function(){return Ne}),a.d(K,"getContentHeight",function(){return Ke}),a.d(K,"getTotalHeight",function(){return Xe}),a.d(K,"isAncestor",function(){return wt}),a.d(K,"findParentWithClass",function(){return Ct}),a.d(K,"hasParentWithClass",function(){return bt}),a.d(K,"isShadowRoot",function(){return mt}),a.d(K,"isInShadowDOM",function(){return jt}),a.d(K,"getShadowRoot",function(){return Je}),a.d(K,"getActiveElement",function(){return Wt}),a.d(K,"createStyleSheet",function(){return Te}),a.d(K,"createCSSRule",function(){return Ge}),a.d(K,"removeCSSRulesContainingSelector",function(){return $e}),a.d(K,"isHTMLElement",function(){return We}),a.d(K,"EventType",function(){return it}),a.d(K,"isEventLike",function(){return Fe}),a.d(K,"EventHelper",function(){return He}),a.d(K,"saveParentsScrollTop",function(){return Ye}),a.d(K,"restoreParentsScrollTop",function(){return ot}),a.d(K,"trackFocus",function(){return gt}),a.d(K,"append",function(){return Ft}),a.d(K,"prepend",function(){return Jt}),a.d(K,"reset",function(){return qt}),a.d(K,"Namespace",function(){return It}),a.d(K,"$",function(){return On}),a.d(K,"setVisibility",function(){return Gn}),a.d(K,"show",function(){return ci}),a.d(K,"hide",function(){return Dn}),a.d(K,"computeScreenAwareSize",function(){return An}),a.d(K,"windowOpenNoOpener",function(){return fr}),a.d(K,"animate",function(){return Vi}),a.d(K,"asCSSUrl",function(){return Sr}),a.d(K,"asCSSPropertyValue",function(){return Pi}),a.d(K,"asCssValueWithDefault",function(){return Ei}),a.d(K,"hookDomPurifyHrefAndSrcSanitizer",function(){return Cr}),a.d(K,"basicMarkupHtmlTags",function(){return zn}),a.d(K,"ModifierKeyEmitter",function(){return Hn}),a.d(K,"DragAndDropObserver",function(){return mi}),a.d(K,"h",function(){return Xn});var le=a("rAM+"),De=a("QyJ8"),E=a("iZzK"),ve=a("yKVA");function re(){re=function(Qn,Ci){return new gn(Qn,void 0,Ci)};var yt=RegExp.prototype,wn=new WeakMap;function gn(bn,Qn,Ci){var yr=new RegExp(bn,Qn);return wn.set(yr,Ci||wn.get(bn)),Object(E.a)(yr,gn.prototype)}function rn(bn,Qn){var Ci=wn.get(Qn);return Object.keys(Ci).reduce(function(yr,_i){return yr[_i]=bn[Ci[_i]],yr},Object.create(null))}return Object(ve.a)(gn,RegExp),gn.prototype.exec=function(bn){var Qn=yt.exec.call(this,bn);return Qn&&(Qn.groups=rn(Qn,this)),Qn},gn.prototype[Symbol.replace]=function(bn,Qn){if(typeof Qn=="string"){var Ci=wn.get(this);return yt[Symbol.replace].call(this,bn,Qn.replace(/\$<([^>]+)>/g,function(_i,Bn){return"$"+Ci[Bn]}))}if(typeof Qn=="function"){var yr=this;return yt[Symbol.replace].call(this,bn,function(){var _i=arguments;return Object(De.a)(_i[_i.length-1])!="object"&&(_i=[].slice.call(_i)).push(rn(_i,yr)),Qn.apply(this,_i)})}return yt[Symbol.replace].call(this,bn,Qn)},re.apply(this,arguments)}var J=a("w4Tj"),$=a("oZsa"),y=a("tJVT"),Q=a("879j"),L=a("fWQN"),ne=a("mtLc"),ee=a("D3Dy"),H=a("CjF5"),W=a("uDWl"),F=a("XSiN"),V=a("/cxE"),N=a("MI8n"),U=a("ddRO"),d=a("pmY6"),j=a("tYmi"),C=a("MNsG");function x(yt){for(;yt.firstChild;)yt.firstChild.remove()}function S(yt){var wn;return(wn=yt==null?void 0:yt.isConnected)!==null&&wn!==void 0?wn:!1}var T=function(){function yt(wn,gn,rn,bn){Object(L.a)(this,yt),this._node=wn,this._type=gn,this._handler=rn,this._options=bn||!1,this._node.addEventListener(this._type,this._handler,this._options)}return Object(ne.a)(yt,[{key:"dispose",value:function(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}]),yt}();function z(yt,wn,gn,rn){return new T(yt,wn,gn,rn)}function A(yt){return function(wn){return yt(new F.a(wn))}}function ue(yt){return function(wn){return yt(new W.a(wn))}}var be=function(wn,gn,rn,bn){var Qn=rn;return gn==="click"||gn==="mousedown"?Qn=A(rn):(gn==="keydown"||gn==="keypress"||gn==="keyup")&&(Qn=ue(rn)),z(wn,gn,Qn,bn)},de=function(wn,gn,rn){var bn=A(gn);return he(wn,bn,rn)},ke=function(wn,gn,rn){var bn=A(gn);return ge(wn,bn,rn)};function he(yt,wn,gn){return z(yt,C.f&&H.a.pointerEvents?it.POINTER_DOWN:it.MOUSE_DOWN,wn,gn)}function ge(yt,wn,gn){return z(yt,C.f&&H.a.pointerEvents?it.POINTER_UP:it.MOUSE_UP,wn,gn)}var ce,k,w=function(){function yt(wn){var gn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Object(L.a)(this,yt),this._runner=wn,this.priority=gn,this._canceled=!1}return Object(ne.a)(yt,[{key:"dispose",value:function(){this._canceled=!0}},{key:"execute",value:function(){if(!this._canceled)try{this._runner()}catch(gn){Object(V.h)(gn)}}}],[{key:"sort",value:function(gn,rn){return rn.priority-gn.priority}}]),yt}();(function(){var yt=[],wn=null,gn=!1,rn=!1,bn=function(){for(gn=!1,wn=yt,yt=[],rn=!0;wn.length>0;){wn.sort(w.sort);var Ci=wn.shift();Ci.execute()}rn=!1};k=function(Ci){var yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_i=new w(Ci,yr);return yt.push(_i),gn||(gn=!0,requestAnimationFrame(bn)),_i},ce=function(Ci,yr){if(rn){var _i=new w(Ci,yr);return wn.push(_i),_i}else return k(Ci,yr)}})();function B(yt){return document.defaultView.getComputedStyle(yt,null)}function Y(yt){if(yt!==document.body)return new me(yt.clientWidth,yt.clientHeight);if(C.f&&window.visualViewport)return new me(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new me(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new me(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new me(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}var pe=function(){function yt(){Object(L.a)(this,yt)}return Object(ne.a)(yt,null,[{key:"convertToPixels",value:function(gn,rn){return parseFloat(rn)||0}},{key:"getDimension",value:function(gn,rn,bn){var Qn=B(gn),Ci=Qn?Qn.getPropertyValue(rn):"0";return yt.convertToPixels(gn,Ci)}},{key:"getBorderLeftWidth",value:function(gn){return yt.getDimension(gn,"border-left-width","borderLeftWidth")}},{key:"getBorderRightWidth",value:function(gn){return yt.getDimension(gn,"border-right-width","borderRightWidth")}},{key:"getBorderTopWidth",value:function(gn){return yt.getDimension(gn,"border-top-width","borderTopWidth")}},{key:"getBorderBottomWidth",value:function(gn){return yt.getDimension(gn,"border-bottom-width","borderBottomWidth")}},{key:"getPaddingLeft",value:function(gn){return yt.getDimension(gn,"padding-left","paddingLeft")}},{key:"getPaddingRight",value:function(gn){return yt.getDimension(gn,"padding-right","paddingRight")}},{key:"getPaddingTop",value:function(gn){return yt.getDimension(gn,"padding-top","paddingTop")}},{key:"getPaddingBottom",value:function(gn){return yt.getDimension(gn,"padding-bottom","paddingBottom")}},{key:"getMarginLeft",value:function(gn){return yt.getDimension(gn,"margin-left","marginLeft")}},{key:"getMarginTop",value:function(gn){return yt.getDimension(gn,"margin-top","marginTop")}},{key:"getMarginRight",value:function(gn){return yt.getDimension(gn,"margin-right","marginRight")}},{key:"getMarginBottom",value:function(gn){return yt.getDimension(gn,"margin-bottom","marginBottom")}}]),yt}(),me=function(){function yt(wn,gn){Object(L.a)(this,yt),this.width=wn,this.height=gn}return Object(ne.a)(yt,[{key:"with",value:function(){var gn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.width,rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.height;return gn!==this.width||rn!==this.height?new yt(gn,rn):this}}],[{key:"is",value:function(gn){return typeof gn=="object"&&typeof gn.height=="number"&&typeof gn.width=="number"}},{key:"lift",value:function(gn){return gn instanceof yt?gn:new yt(gn.width,gn.height)}},{key:"equals",value:function(gn,rn){return gn===rn?!0:!gn||!rn?!1:gn.width===rn.width&&gn.height===rn.height}}]),yt}();me.None=new me(0,0);function I(yt){for(var wn=yt.offsetParent,gn=yt.offsetTop,rn=yt.offsetLeft;(yt=yt.parentNode)!==null&&yt!==document.body&&yt!==document.documentElement;){gn-=yt.scrollTop;var bn=mt(yt)?null:B(yt);bn&&(rn-=bn.direction!=="rtl"?yt.scrollLeft:-yt.scrollLeft),yt===wn&&(rn+=pe.getBorderLeftWidth(yt),gn+=pe.getBorderTopWidth(yt),gn+=yt.offsetTop,rn+=yt.offsetLeft,wn=yt.offsetParent)}return{left:rn,top:gn}}function we(yt,wn,gn){typeof wn=="number"&&(yt.style.width="".concat(wn,"px")),typeof gn=="number"&&(yt.style.height="".concat(gn,"px"))}function Re(yt){var wn=yt.getBoundingClientRect();return{left:wn.left+window.scrollX,top:wn.top+window.scrollY,width:wn.width,height:wn.height}}function Oe(yt){var wn=yt,gn=1;do{var rn=B(wn).zoom;rn!=null&&rn!=="1"&&(gn*=rn),wn=wn.parentElement}while(wn!==null&&wn!==document.documentElement);return gn}function Pe(yt){var wn=pe.getMarginLeft(yt)+pe.getMarginRight(yt);return yt.offsetWidth+wn}function Ne(yt){var wn=pe.getBorderLeftWidth(yt)+pe.getBorderRightWidth(yt),gn=pe.getPaddingLeft(yt)+pe.getPaddingRight(yt);return yt.offsetWidth-wn-gn}function Ke(yt){var wn=pe.getBorderTopWidth(yt)+pe.getBorderBottomWidth(yt),gn=pe.getPaddingTop(yt)+pe.getPaddingBottom(yt);return yt.offsetHeight-wn-gn}function Xe(yt){var wn=pe.getMarginTop(yt)+pe.getMarginBottom(yt);return yt.offsetHeight+wn}function wt(yt,wn){for(;yt;){if(yt===wn)return!0;yt=yt.parentNode}return!1}function Ct(yt,wn,gn){for(;yt&&yt.nodeType===yt.ELEMENT_NODE;){if(yt.classList.contains(wn))return yt;if(gn){if(typeof gn=="string"){if(yt.classList.contains(gn))return null}else if(yt===gn)return null}yt=yt.parentNode}return null}function bt(yt,wn,gn){return!!Ct(yt,wn,gn)}function mt(yt){return yt&&!!yt.host&&!!yt.mode}function jt(yt){return!!Je(yt)}function Je(yt){for(;yt.parentNode;){if(yt===document.body)return null;yt=yt.parentNode}return mt(yt)?yt:null}function Wt(){for(var yt=document.activeElement;yt==null?void 0:yt.shadowRoot;)yt=yt.shadowRoot.activeElement;return yt}function Te(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.getElementsByTagName("head")[0],wn=arguments.length>1?arguments[1]:void 0,gn=document.createElement("style");return gn.type="text/css",gn.media="screen",wn==null||wn(gn),yt.appendChild(gn),gn}var fe=null;function ye(){return fe||(fe=Te()),fe}function Ee(yt){var wn,gn;return((wn=yt==null?void 0:yt.sheet)===null||wn===void 0?void 0:wn.rules)?yt.sheet.rules:((gn=yt==null?void 0:yt.sheet)===null||gn===void 0?void 0:gn.cssRules)?yt.sheet.cssRules:[]}function Ge(yt,wn){var gn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ye();!gn||!wn||gn.sheet.insertRule(yt+"{"+wn+"}",0)}function $e(yt){var wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ye();if(!!wn){for(var gn=Ee(wn),rn=[],bn=0;bn<gn.length;bn++){var Qn=gn[bn];Qn.selectorText.indexOf(yt)!==-1&&rn.push(bn)}for(var Ci=rn.length-1;Ci>=0;Ci--)wn.sheet.deleteRule(rn[Ci])}}function We(yt){return typeof HTMLElement=="object"?yt instanceof HTMLElement:yt&&typeof yt=="object"&&yt.nodeType===1&&typeof yt.nodeName=="string"}var it={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:ee.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:ee.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:ee.isWebKit?"webkitAnimationIteration":"animationiteration"};function Fe(yt){var wn=yt;return!!(wn&&typeof wn.preventDefault=="function"&&typeof wn.stopPropagation=="function")}var He={stop:function(wn,gn){return wn.preventDefault(),gn&&wn.stopPropagation(),wn}};function Ye(yt){for(var wn=[],gn=0;yt&&yt.nodeType===yt.ELEMENT_NODE;gn++)wn[gn]=yt.scrollTop,yt=yt.parentNode;return wn}function ot(yt,wn){for(var gn=0;yt&&yt.nodeType===yt.ELEMENT_NODE;gn++)yt.scrollTop!==wn[gn]&&(yt.scrollTop=wn[gn]),yt=yt.parentNode}var Kt=function(yt){Object(ve.a)(gn,yt);var wn=Object(Q.a)(gn);function gn(rn){var bn;Object(L.a)(this,gn),bn=wn.call(this),bn._onDidFocus=bn._register(new N.b),bn.onDidFocus=bn._onDidFocus.event,bn._onDidBlur=bn._register(new N.b),bn.onDidBlur=bn._onDidBlur.event;var Qn=gn.hasFocusWithin(rn),Ci=!1,yr=function(){Ci=!1,Qn||(Qn=!0,bn._onDidFocus.fire())},_i=function(){Qn&&(Ci=!0,window.setTimeout(function(){Ci&&(Ci=!1,Qn=!1,bn._onDidBlur.fire())},0))};return bn._refreshStateHandler=function(){var Bn=gn.hasFocusWithin(rn);Bn!==Qn&&(Qn?_i():yr())},bn._register(z(rn,it.FOCUS,yr,!0)),bn._register(z(rn,it.BLUR,_i,!0)),bn._register(z(rn,it.FOCUS_IN,function(){return bn._refreshStateHandler()})),bn._register(z(rn,it.FOCUS_OUT,function(){return bn._refreshStateHandler()})),bn}return Object(ne.a)(gn,null,[{key:"hasFocusWithin",value:function(bn){var Qn=Je(bn),Ci=Qn?Qn.activeElement:document.activeElement;return wt(Ci,bn)}}]),gn}(d.a);function gt(yt){return new Kt(yt)}function Ft(yt){for(var wn=arguments.length,gn=new Array(wn>1?wn-1:0),rn=1;rn<wn;rn++)gn[rn-1]=arguments[rn];if(yt.append.apply(yt,gn),gn.length===1&&typeof gn[0]!="string")return gn[0]}function Jt(yt,wn){return yt.insertBefore(wn,yt.firstChild),wn}function qt(yt){yt.innerText="";for(var wn=arguments.length,gn=new Array(wn>1?wn-1:0),rn=1;rn<wn;rn++)gn[rn-1]=arguments[rn];Ft.apply(void 0,[yt].concat(gn))}var En=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/,It;(function(yt){yt.HTML="http://www.w3.org/1999/xhtml",yt.SVG="http://www.w3.org/2000/svg"})(It||(It={}));function si(yt,wn,gn){var rn,bn=En.exec(wn);if(!bn)throw new Error("Bad use of emmet");var Qn=bn[1]||"div",Ci;yt!==It.HTML?Ci=document.createElementNS(yt,Qn):Ci=document.createElement(Qn),bn[3]&&(Ci.id=bn[3]),bn[4]&&(Ci.className=bn[4].replace(/\./g," ").trim()),gn&&Object.entries(gn).forEach(function(tt){var Lt=Object(y.a)(tt,2),xi=Lt[0],Qi=Lt[1];typeof Qi!="undefined"&&(/^on\w+$/.test(xi)?Ci[xi]=Qi:xi==="selected"?Qi&&Ci.setAttribute(xi,"true"):Ci.setAttribute(xi,Qi))});for(var yr=arguments.length,_i=new Array(yr>3?yr-3:0),Bn=3;Bn<yr;Bn++)_i[Bn-3]=arguments[Bn];return(rn=Ci).append.apply(rn,_i),Ci}function On(yt,wn){for(var gn=arguments.length,rn=new Array(gn>2?gn-2:0),bn=2;bn<gn;bn++)rn[bn-2]=arguments[bn];return si.apply(void 0,[It.HTML,yt,wn].concat(rn))}On.SVG=function(yt,wn){for(var gn=arguments.length,rn=new Array(gn>2?gn-2:0),bn=2;bn<gn;bn++)rn[bn-2]=arguments[bn];return si.apply(void 0,[It.SVG,yt,wn].concat(rn))};function Gn(yt){for(var wn=arguments.length,gn=new Array(wn>1?wn-1:0),rn=1;rn<wn;rn++)gn[rn-1]=arguments[rn];yt?ci.apply(void 0,gn):Dn.apply(void 0,gn)}function ci(){for(var yt=arguments.length,wn=new Array(yt),gn=0;gn<yt;gn++)wn[gn]=arguments[gn];for(var rn=0,bn=wn;rn<bn.length;rn++){var Qn=bn[rn];Qn.style.display="",Qn.removeAttribute("aria-hidden")}}function Dn(){for(var yt=arguments.length,wn=new Array(yt),gn=0;gn<yt;gn++)wn[gn]=arguments[gn];for(var rn=0,bn=wn;rn<bn.length;rn++){var Qn=bn[rn];Qn.style.display="none",Qn.setAttribute("aria-hidden","true")}}function An(yt){var wn=window.devicePixelRatio*yt;return Math.max(1,Math.floor(wn))/window.devicePixelRatio}function fr(yt){window.open(yt,"_blank","noopener")}function Vi(yt){var wn=function rn(){yt(),gn=k(rn)},gn=k(wn);return Object(d.l)(function(){return gn.dispose()})}j.b.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Sr(yt){return yt?"url('".concat(j.a.uriToBrowserUri(yt).toString(!0).replace(/'/g,"%27"),"')"):"url('')"}function Pi(yt){return"'".concat(yt.replace(/'/g,"%27"),"'")}function Ei(yt,wn){if(yt!==void 0){var gn=yt.match(/^\s*var\((.+)\)$/);if(gn){var rn=gn[1].split(",",2);return rn.length===2&&(wn=Ei(rn[1].trim(),wn)),"var(".concat(rn[0],", ").concat(wn,")")}return yt}return wn}function Cr(yt){var wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,gn=document.createElement("a");return U.a("afterSanitizeAttributes",function(rn){for(var bn=0,Qn=["href","src"];bn<Qn.length;bn++){var Ci=Qn[bn];if(rn.hasAttribute(Ci)){var yr=rn.getAttribute(Ci);if(Ci==="href"&&yr.startsWith("#"))continue;if(gn.href=yr,!yt.includes(gn.protocol.replace(/:$/,""))){if(wn&&Ci==="src"&&gn.href.startsWith("data:"))continue;rn.removeAttribute(Ci)}}}}),Object(d.l)(function(){U.b("afterSanitizeAttributes")})}var zn=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),dr=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0}),Hn=function(yt){Object(ve.a)(gn,yt);var wn=Object(Q.a)(gn);function gn(){var rn;return Object(L.a)(this,gn),rn=wn.call(this),rn._subscriptions=new d.c,rn._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},rn._subscriptions.add(z(window,"keydown",function(bn){if(!bn.defaultPrevented){var Qn=new W.a(bn);if(!(Qn.keyCode===6&&bn.repeat)){if(bn.altKey&&!rn._keyStatus.altKey)rn._keyStatus.lastKeyPressed="alt";else if(bn.ctrlKey&&!rn._keyStatus.ctrlKey)rn._keyStatus.lastKeyPressed="ctrl";else if(bn.metaKey&&!rn._keyStatus.metaKey)rn._keyStatus.lastKeyPressed="meta";else if(bn.shiftKey&&!rn._keyStatus.shiftKey)rn._keyStatus.lastKeyPressed="shift";else if(Qn.keyCode!==6)rn._keyStatus.lastKeyPressed=void 0;else return;rn._keyStatus.altKey=bn.altKey,rn._keyStatus.ctrlKey=bn.ctrlKey,rn._keyStatus.metaKey=bn.metaKey,rn._keyStatus.shiftKey=bn.shiftKey,rn._keyStatus.lastKeyPressed&&(rn._keyStatus.event=bn,rn.fire(rn._keyStatus))}}},!0)),rn._subscriptions.add(z(window,"keyup",function(bn){bn.defaultPrevented||(!bn.altKey&&rn._keyStatus.altKey?rn._keyStatus.lastKeyReleased="alt":!bn.ctrlKey&&rn._keyStatus.ctrlKey?rn._keyStatus.lastKeyReleased="ctrl":!bn.metaKey&&rn._keyStatus.metaKey?rn._keyStatus.lastKeyReleased="meta":!bn.shiftKey&&rn._keyStatus.shiftKey?rn._keyStatus.lastKeyReleased="shift":rn._keyStatus.lastKeyReleased=void 0,rn._keyStatus.lastKeyPressed!==rn._keyStatus.lastKeyReleased&&(rn._keyStatus.lastKeyPressed=void 0),rn._keyStatus.altKey=bn.altKey,rn._keyStatus.ctrlKey=bn.ctrlKey,rn._keyStatus.metaKey=bn.metaKey,rn._keyStatus.shiftKey=bn.shiftKey,rn._keyStatus.lastKeyReleased&&(rn._keyStatus.event=bn,rn.fire(rn._keyStatus)))},!0)),rn._subscriptions.add(z(document.body,"mousedown",function(){rn._keyStatus.lastKeyPressed=void 0},!0)),rn._subscriptions.add(z(document.body,"mouseup",function(){rn._keyStatus.lastKeyPressed=void 0},!0)),rn._subscriptions.add(z(document.body,"mousemove",function(bn){bn.buttons&&(rn._keyStatus.lastKeyPressed=void 0)},!0)),rn._subscriptions.add(z(window,"blur",function(){rn.resetKeyStatus()})),rn}return Object(ne.a)(gn,[{key:"keyStatus",get:function(){return this._keyStatus}},{key:"resetKeyStatus",value:function(){this.doResetKeyStatus(),this.fire(this._keyStatus)}},{key:"doResetKeyStatus",value:function(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}},{key:"dispose",value:function(){Object(J.a)(Object($.a)(gn.prototype),"dispose",this).call(this),this._subscriptions.dispose()}}],[{key:"getInstance",value:function(){return gn.instance||(gn.instance=new gn),gn.instance}}]),gn}(N.b),mi=function(yt){Object(ve.a)(gn,yt);var wn=Object(Q.a)(gn);function gn(rn,bn){var Qn;return Object(L.a)(this,gn),Qn=wn.call(this),Qn.element=rn,Qn.callbacks=bn,Qn.counter=0,Qn.dragStartTime=0,Qn.registerListeners(),Qn}return Object(ne.a)(gn,[{key:"registerListeners",value:function(){var bn=this;this._register(z(this.element,it.DRAG_ENTER,function(Qn){bn.counter++,bn.dragStartTime=Qn.timeStamp,bn.callbacks.onDragEnter(Qn)})),this._register(z(this.element,it.DRAG_OVER,function(Qn){var Ci,yr;Qn.preventDefault(),(yr=(Ci=bn.callbacks).onDragOver)===null||yr===void 0||yr.call(Ci,Qn,Qn.timeStamp-bn.dragStartTime)})),this._register(z(this.element,it.DRAG_LEAVE,function(Qn){bn.counter--,bn.counter===0&&(bn.dragStartTime=0,bn.callbacks.onDragLeave(Qn))})),this._register(z(this.element,it.DRAG_END,function(Qn){bn.counter=0,bn.dragStartTime=0,bn.callbacks.onDragEnd(Qn)})),this._register(z(this.element,it.DROP,function(Qn){bn.counter=0,bn.dragStartTime=0,bn.callbacks.onDrop(Qn)}))}}]),gn}(d.a),hn=re(/([\w\-]+)?(?:#([\w\-]+))?((?:\.(?:[\w\-]+))*)(?:@((?:[\w\_])+))?/,{tag:1,id:2,class:3,name:4});function Xn(yt){var wn,gn;Array.isArray(arguments.length<=1?void 0:arguments[1])?(wn={},gn=arguments.length<=1?void 0:arguments[1]):(wn=(arguments.length<=1?void 0:arguments[1])||{},gn=arguments.length<=2?void 0:arguments[2]);var rn=hn.exec(yt);if(!rn||!rn.groups)throw new Error("Bad use of h");var bn=rn.groups.tag||"div",Qn=document.createElement(bn);rn.groups.id&&(Qn.id=rn.groups.id);var Ci=[];if(rn.groups.class){var yr=Object(le.a)(rn.groups.class.split(".")),_i;try{for(yr.s();!(_i=yr.n()).done;){var Bn=_i.value;Bn!==""&&Ci.push(Bn)}}catch(dn){yr.e(dn)}finally{yr.f()}}if(wn.className!==void 0){var tt=Object(le.a)(wn.className.split(".")),Lt;try{for(tt.s();!(Lt=tt.n()).done;){var xi=Lt.value;xi!==""&&Ci.push(xi)}}catch(dn){tt.e(dn)}finally{tt.f()}}Ci.length>0&&(Qn.className=Ci.join(" "));var Qi={};if(rn.groups.name&&(Qi[rn.groups.name]=Qn),gn){var mr=Object(le.a)(gn),pr;try{for(mr.s();!(pr=mr.n()).done;){var St=pr.value;St instanceof HTMLElement?Qn.appendChild(St):typeof St=="string"?Qn.append(St):"root"in St&&(Object.assign(Qi,St),Qn.appendChild(St.root))}}catch(dn){mr.e(dn)}finally{mr.f()}}for(var Gi=0,an=Object.entries(wn);Gi<an.length;Gi++){var Qe=an[Gi],Jn=Object(y.a)(Qe,2),ii=Jn[0],Li=Jn[1];if(ii!=="className")if(ii==="style")for(var Fn=0,jn=Object.entries(Li);Fn<jn.length;Fn++){var Nt=jn[Fn],Gt=Object(y.a)(Nt,2),Et=Gt[0],Rt=Gt[1];Qn.style.setProperty(en(Et),typeof Rt=="number"?Rt+"px":""+Rt)}else ii==="tabIndex"?Qn.tabIndex=Li:Qn.setAttribute(en(ii),Li.toString())}return Qi.root=Qn,Qi}function en(yt){return yt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},EzsQ:function(fn,K,a){},FWmy:function(fn,K,a){"use strict";a.d(K,"d",function(){return De}),a.d(K,"b",function(){return E}),a.d(K,"a",function(){return ve}),a.d(K,"c",function(){return re});var le=a("/cxE");function De(J,$){if(!J)throw new Error($?"Assertion failed (".concat($,")"):"Assertion Failed")}function E(J){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Unreachable";throw new Error($)}function ve(J){if(!J()){debugger;J(),Object(le.h)(new le.a("Assertion Failed"))}}function re(J,$){for(var y=0;y<J.length-1;){var Q=J[y],L=J[y+1];if(!$(Q,L))return!1;y++}return!0}},FmXZ:function(fn,K,a){"use strict";a.d(K,"b",function(){return J}),a.d(K,"a",function(){return H});var le=a("MNsG"),De=a("3/fG"),E=a("T8No"),ve=new E.c("isMac",le.i,Object(De.b)("isMac","Whether the operating system is macOS")),re=new E.c("isLinux",le.g,Object(De.b)("isLinux","Whether the operating system is Linux")),J=new E.c("isWindows",le.o,Object(De.b)("isWindows","Whether the operating system is Windows")),$=new E.c("isWeb",le.m,Object(De.b)("isWeb","Whether the platform is a web browser")),y=new E.c("isMacNative",le.i&&!le.m,Object(De.b)("isMacNative","Whether the operating system is macOS on a non-browser platform")),Q=new E.c("isIOS",le.f,Object(De.b)("isIOS","Whether the operating system is iOS")),L=new E.c("isMobile",le.j,Object(De.b)("isMobile","Whether the platform is a mobile web browser")),ne=new E.c("isDevelopment",!1,!0),ee=new E.c("productQualityType","",Object(De.b)("productQualityType","Quality type of VS Code")),H="inputFocus",W=new E.c(H,!1,Object(De.b)("inputFocus","Whether keyboard focus is inside an input box"))},FzHg:function(fn,K){(function(a,le){fn.exports=function(){var De={722:function(re){re.exports=a}},E={};function ve(re){if(E[re])return E[re].exports;var J=E[re]={exports:{}},$=!0;try{De[re](J,J.exports,ve),$=!1}finally{$&&delete E[re]}return J.exports}return ve.ab=le+"/",ve(722)}()}).call(this,{},"/")},G300:function(fn,K,a){"use strict";a.d(K,"a",function(){return L});var le=a("fWQN"),De=a("mtLc"),E=a("yKVA"),ve=a("879j"),re=a("EffR"),J=a("uDWl"),$=a("XSiN"),y=a("pg8w"),Q=a("pmY6"),L=function(ne){Object(E.a)(H,ne);var ee=Object(ve.a)(H);function H(){return Object(le.a)(this,H),ee.apply(this,arguments)}return Object(De.a)(H,[{key:"onclick",value:function(F,V){this._register(re.addDisposableListener(F,re.EventType.CLICK,function(N){return V(new $.a(N))}))}},{key:"onmousedown",value:function(F,V){this._register(re.addDisposableListener(F,re.EventType.MOUSE_DOWN,function(N){return V(new $.a(N))}))}},{key:"onmouseover",value:function(F,V){this._register(re.addDisposableListener(F,re.EventType.MOUSE_OVER,function(N){return V(new $.a(N))}))}},{key:"onmouseleave",value:function(F,V){this._register(re.addDisposableListener(F,re.EventType.MOUSE_LEAVE,function(N){return V(new $.a(N))}))}},{key:"onkeydown",value:function(F,V){this._register(re.addDisposableListener(F,re.EventType.KEY_DOWN,function(N){return V(new J.a(N))}))}},{key:"onkeyup",value:function(F,V){this._register(re.addDisposableListener(F,re.EventType.KEY_UP,function(N){return V(new J.a(N))}))}},{key:"oninput",value:function(F,V){this._register(re.addDisposableListener(F,re.EventType.INPUT,V))}},{key:"onblur",value:function(F,V){this._register(re.addDisposableListener(F,re.EventType.BLUR,V))}},{key:"onfocus",value:function(F,V){this._register(re.addDisposableListener(F,re.EventType.FOCUS,V))}},{key:"ignoreGesture",value:function(F){return y.b.ignoreTarget(F)}}]),H}(Q.a)},G3dp:function(fn,K,a){"use strict";var le=a("VTBJ"),De=a("q1tI"),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},ve=E,re=a("6VBw"),J=function(Q,L){return De.createElement(re.a,Object(le.a)(Object(le.a)({},Q),{},{ref:L,icon:ve}))};J.displayName="EditOutlined";var $=K.a=De.forwardRef(J)},GJhM:function(fn,K,a){"use strict";a.d(K,"b",function(){return w}),a.d(K,"c",function(){return Y}),a.d(K,"d",function(){return pe}),a.d(K,"a",function(){return me});var le=a("w4Tj"),De=a("oZsa"),E=a("yKVA"),ve=a("879j"),re=a("mtLc"),J=a("fWQN"),$=a("D3Dy"),y=a("EffR"),Q=a("ZlPH"),L=a("XSiN"),ne=a("a4d6"),ee=a("oBTY"),H=a("G300"),W=a("X+cX"),F=a("T5lh"),V=11,N=function(we){Object(E.a)(Oe,we);var Re=Object(ve.a)(Oe);function Oe(Pe){var Ne,Ke;return Object(J.a)(this,Oe),Ke=Re.call(this),Ke._onActivate=Pe.onActivate,Ke.bgDomNode=document.createElement("div"),Ke.bgDomNode.className="arrow-background",Ke.bgDomNode.style.position="absolute",Ke.bgDomNode.style.width=Pe.bgWidth+"px",Ke.bgDomNode.style.height=Pe.bgHeight+"px",typeof Pe.top!="undefined"&&(Ke.bgDomNode.style.top="0px"),typeof Pe.left!="undefined"&&(Ke.bgDomNode.style.left="0px"),typeof Pe.bottom!="undefined"&&(Ke.bgDomNode.style.bottom="0px"),typeof Pe.right!="undefined"&&(Ke.bgDomNode.style.right="0px"),Ke.domNode=document.createElement("div"),Ke.domNode.className=Pe.className,(Ne=Ke.domNode.classList).add.apply(Ne,Object(ee.a)(F.a.asClassNameArray(Pe.icon))),Ke.domNode.style.position="absolute",Ke.domNode.style.width=V+"px",Ke.domNode.style.height=V+"px",typeof Pe.top!="undefined"&&(Ke.domNode.style.top=Pe.top+"px"),typeof Pe.left!="undefined"&&(Ke.domNode.style.left=Pe.left+"px"),typeof Pe.bottom!="undefined"&&(Ke.domNode.style.bottom=Pe.bottom+"px"),typeof Pe.right!="undefined"&&(Ke.domNode.style.right=Pe.right+"px"),Ke._pointerMoveMonitor=Ke._register(new ne.a),Ke._register(y.addStandardDisposableListener(Ke.bgDomNode,y.EventType.POINTER_DOWN,function(Xe){return Ke._arrowPointerDown(Xe)})),Ke._register(y.addStandardDisposableListener(Ke.domNode,y.EventType.POINTER_DOWN,function(Xe){return Ke._arrowPointerDown(Xe)})),Ke._pointerdownRepeatTimer=Ke._register(new W.e),Ke._pointerdownScheduleRepeatTimer=Ke._register(new W.i),Ke}return Object(re.a)(Oe,[{key:"_arrowPointerDown",value:function(Ne){var Ke=this;if(!(!Ne.target||!(Ne.target instanceof Element))){var Xe=function(){Ke._pointerdownRepeatTimer.cancelAndSet(function(){return Ke._onActivate()},1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(Xe,200),this._pointerMoveMonitor.startMonitoring(Ne.target,Ne.pointerId,Ne.buttons,function(wt){},function(){Ke._pointerdownRepeatTimer.cancel(),Ke._pointerdownScheduleRepeatTimer.cancel()}),Ne.preventDefault()}}}]),Oe}(H.a),U=a("pmY6"),d=function(we){Object(E.a)(Oe,we);var Re=Object(ve.a)(Oe);function Oe(Pe,Ne,Ke){var Xe;return Object(J.a)(this,Oe),Xe=Re.call(this),Xe._visibility=Pe,Xe._visibleClassName=Ne,Xe._invisibleClassName=Ke,Xe._domNode=null,Xe._isVisible=!1,Xe._isNeeded=!1,Xe._rawShouldBeVisible=!1,Xe._shouldBeVisible=!1,Xe._revealTimer=Xe._register(new W.i),Xe}return Object(re.a)(Oe,[{key:"setVisibility",value:function(Ne){this._visibility!==Ne&&(this._visibility=Ne,this._updateShouldBeVisible())}},{key:"setShouldBeVisible",value:function(Ne){this._rawShouldBeVisible=Ne,this._updateShouldBeVisible()}},{key:"_applyVisibilitySetting",value:function(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}},{key:"_updateShouldBeVisible",value:function(){var Ne=this._applyVisibilitySetting();this._shouldBeVisible!==Ne&&(this._shouldBeVisible=Ne,this.ensureVisibility())}},{key:"setIsNeeded",value:function(Ne){this._isNeeded!==Ne&&(this._isNeeded=Ne,this.ensureVisibility())}},{key:"setDomNode",value:function(Ne){this._domNode=Ne,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}},{key:"ensureVisibility",value:function(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}},{key:"_reveal",value:function(){var Ne=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){var Ke;(Ke=Ne._domNode)===null||Ke===void 0||Ke.setClassName(Ne._visibleClassName)},0))}},{key:"_hide",value:function(Ne){var Ke;this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,(Ke=this._domNode)===null||Ke===void 0||Ke.setClassName(this._invisibleClassName+(Ne?" fade":"")))}}]),Oe}(U.a),j=a("MNsG"),C=140,x=function(we){Object(E.a)(Oe,we);var Re=Object(ve.a)(Oe);function Oe(Pe){var Ne;return Object(J.a)(this,Oe),Ne=Re.call(this),Ne._lazyRender=Pe.lazyRender,Ne._host=Pe.host,Ne._scrollable=Pe.scrollable,Ne._scrollByPage=Pe.scrollByPage,Ne._scrollbarState=Pe.scrollbarState,Ne._visibilityController=Ne._register(new d(Pe.visibility,"visible scrollbar "+Pe.extraScrollbarClassName,"invisible scrollbar "+Pe.extraScrollbarClassName)),Ne._visibilityController.setIsNeeded(Ne._scrollbarState.isNeeded()),Ne._pointerMoveMonitor=Ne._register(new ne.a),Ne._shouldRender=!0,Ne.domNode=Object(Q.b)(document.createElement("div")),Ne.domNode.setAttribute("role","presentation"),Ne.domNode.setAttribute("aria-hidden","true"),Ne._visibilityController.setDomNode(Ne.domNode),Ne.domNode.setPosition("absolute"),Ne._register(y.addDisposableListener(Ne.domNode.domNode,y.EventType.POINTER_DOWN,function(Ke){return Ne._domNodePointerDown(Ke)})),Ne}return Object(re.a)(Oe,[{key:"_createArrow",value:function(Ne){var Ke=this._register(new N(Ne));this.domNode.domNode.appendChild(Ke.bgDomNode),this.domNode.domNode.appendChild(Ke.domNode)}},{key:"_createSlider",value:function(Ne,Ke,Xe,wt){var Ct=this;this.slider=Object(Q.b)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(Ne),this.slider.setLeft(Ke),typeof Xe=="number"&&this.slider.setWidth(Xe),typeof wt=="number"&&this.slider.setHeight(wt),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(y.addDisposableListener(this.slider.domNode,y.EventType.POINTER_DOWN,function(bt){bt.button===0&&(bt.preventDefault(),Ct._sliderPointerDown(bt))})),this.onclick(this.slider.domNode,function(bt){bt.leftButton&&bt.stopPropagation()})}},{key:"_onElementSize",value:function(Ne){return this._scrollbarState.setVisibleSize(Ne)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"_onElementScrollSize",value:function(Ne){return this._scrollbarState.setScrollSize(Ne)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"_onElementScrollPosition",value:function(Ne){return this._scrollbarState.setScrollPosition(Ne)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"beginReveal",value:function(){this._visibilityController.setShouldBeVisible(!0)}},{key:"beginHide",value:function(){this._visibilityController.setShouldBeVisible(!1)}},{key:"render",value:function(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}},{key:"_domNodePointerDown",value:function(Ne){Ne.target===this.domNode.domNode&&this._onPointerDown(Ne)}},{key:"delegatePointerDown",value:function(Ne){var Ke=this.domNode.domNode.getClientRects()[0].top,Xe=Ke+this._scrollbarState.getSliderPosition(),wt=Ke+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),Ct=this._sliderPointerPosition(Ne);Xe<=Ct&&Ct<=wt?Ne.button===0&&(Ne.preventDefault(),this._sliderPointerDown(Ne)):this._onPointerDown(Ne)}},{key:"_onPointerDown",value:function(Ne){var Ke,Xe;if(Ne.target===this.domNode.domNode&&typeof Ne.offsetX=="number"&&typeof Ne.offsetY=="number")Ke=Ne.offsetX,Xe=Ne.offsetY;else{var wt=y.getDomNodePagePosition(this.domNode.domNode);Ke=Ne.pageX-wt.left,Xe=Ne.pageY-wt.top}var Ct=this._pointerDownRelativePosition(Ke,Xe);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(Ct):this._scrollbarState.getDesiredScrollPositionFromOffset(Ct)),Ne.button===0&&(Ne.preventDefault(),this._sliderPointerDown(Ne))}},{key:"_sliderPointerDown",value:function(Ne){var Ke=this;if(!(!Ne.target||!(Ne.target instanceof Element))){var Xe=this._sliderPointerPosition(Ne),wt=this._sliderOrthogonalPointerPosition(Ne),Ct=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(Ne.target,Ne.pointerId,Ne.buttons,function(bt){var mt=Ke._sliderOrthogonalPointerPosition(bt),jt=Math.abs(mt-wt);if(j.o&&jt>C){Ke._setDesiredScrollPositionNow(Ct.getScrollPosition());return}var Je=Ke._sliderPointerPosition(bt),Wt=Je-Xe;Ke._setDesiredScrollPositionNow(Ct.getDesiredScrollPositionFromDelta(Wt))},function(){Ke.slider.toggleClassName("active",!1),Ke._host.onDragEnd()}),this._host.onDragStart()}}},{key:"_setDesiredScrollPositionNow",value:function(Ne){var Ke={};this.writeScrollPosition(Ke,Ne),this._scrollable.setScrollPositionNow(Ke)}},{key:"updateScrollbarSize",value:function(Ne){this._updateScrollbarSize(Ne),this._scrollbarState.setScrollbarSize(Ne),this._shouldRender=!0,this._lazyRender||this.render()}},{key:"isNeeded",value:function(){return this._scrollbarState.isNeeded()}}]),Oe}(H.a),S=20,T=function(){function we(Re,Oe,Pe,Ne,Ke,Xe){Object(J.a)(this,we),this._scrollbarSize=Math.round(Oe),this._oppositeScrollbarSize=Math.round(Pe),this._arrowSize=Math.round(Re),this._visibleSize=Ne,this._scrollSize=Ke,this._scrollPosition=Xe,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return Object(re.a)(we,[{key:"clone",value:function(){return new we(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}},{key:"setVisibleSize",value:function(Oe){var Pe=Math.round(Oe);return this._visibleSize!==Pe?(this._visibleSize=Pe,this._refreshComputedValues(),!0):!1}},{key:"setScrollSize",value:function(Oe){var Pe=Math.round(Oe);return this._scrollSize!==Pe?(this._scrollSize=Pe,this._refreshComputedValues(),!0):!1}},{key:"setScrollPosition",value:function(Oe){var Pe=Math.round(Oe);return this._scrollPosition!==Pe?(this._scrollPosition=Pe,this._refreshComputedValues(),!0):!1}},{key:"setScrollbarSize",value:function(Oe){this._scrollbarSize=Math.round(Oe)}},{key:"setOppositeScrollbarSize",value:function(Oe){this._oppositeScrollbarSize=Math.round(Oe)}},{key:"_refreshComputedValues",value:function(){var Oe=we._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=Oe.computedAvailableSize,this._computedIsNeeded=Oe.computedIsNeeded,this._computedSliderSize=Oe.computedSliderSize,this._computedSliderRatio=Oe.computedSliderRatio,this._computedSliderPosition=Oe.computedSliderPosition}},{key:"getArrowSize",value:function(){return this._arrowSize}},{key:"getScrollPosition",value:function(){return this._scrollPosition}},{key:"getRectangleLargeSize",value:function(){return this._computedAvailableSize}},{key:"getRectangleSmallSize",value:function(){return this._scrollbarSize}},{key:"isNeeded",value:function(){return this._computedIsNeeded}},{key:"getSliderSize",value:function(){return this._computedSliderSize}},{key:"getSliderPosition",value:function(){return this._computedSliderPosition}},{key:"getDesiredScrollPositionFromOffset",value:function(Oe){if(!this._computedIsNeeded)return 0;var Pe=Oe-this._arrowSize-this._computedSliderSize/2;return Math.round(Pe/this._computedSliderRatio)}},{key:"getDesiredScrollPositionFromOffsetPaged",value:function(Oe){if(!this._computedIsNeeded)return 0;var Pe=Oe-this._arrowSize,Ne=this._scrollPosition;return Pe<this._computedSliderPosition?Ne-=this._visibleSize:Ne+=this._visibleSize,Ne}},{key:"getDesiredScrollPositionFromDelta",value:function(Oe){if(!this._computedIsNeeded)return 0;var Pe=this._computedSliderPosition+Oe;return Math.round(Pe/this._computedSliderRatio)}}],[{key:"_computeValues",value:function(Oe,Pe,Ne,Ke,Xe){var wt=Math.max(0,Ne-Oe),Ct=Math.max(0,wt-2*Pe),bt=Ke>0&&Ke>Ne;if(!bt)return{computedAvailableSize:Math.round(wt),computedIsNeeded:bt,computedSliderSize:Math.round(Ct),computedSliderRatio:0,computedSliderPosition:0};var mt=Math.round(Math.max(S,Math.floor(Ne*Ct/Ke))),jt=(Ct-mt)/(Ke-Ne),Je=Xe*jt;return{computedAvailableSize:Math.round(wt),computedIsNeeded:bt,computedSliderSize:Math.round(mt),computedSliderRatio:jt,computedSliderPosition:Math.round(Je)}}}]),we}(),z=a("Vhoy"),A=function(we){Object(E.a)(Oe,we);var Re=Object(ve.a)(Oe);function Oe(Pe,Ne,Ke){var Xe;Object(J.a)(this,Oe);var wt=Pe.getScrollDimensions(),Ct=Pe.getCurrentScrollPosition();if(Xe=Re.call(this,{lazyRender:Ne.lazyRender,host:Ke,scrollbarState:new T(Ne.horizontalHasArrows?Ne.arrowSize:0,Ne.horizontal===2?0:Ne.horizontalScrollbarSize,Ne.vertical===2?0:Ne.verticalScrollbarSize,wt.width,wt.scrollWidth,Ct.scrollLeft),visibility:Ne.horizontal,extraScrollbarClassName:"horizontal",scrollable:Pe,scrollByPage:Ne.scrollByPage}),Ne.horizontalHasArrows){var bt=(Ne.arrowSize-V)/2,mt=(Ne.horizontalScrollbarSize-V)/2;Xe._createArrow({className:"scra",icon:z.a.scrollbarButtonLeft,top:mt,left:bt,bottom:void 0,right:void 0,bgWidth:Ne.arrowSize,bgHeight:Ne.horizontalScrollbarSize,onActivate:function(){return Xe._host.onMouseWheel(new L.b(null,1,0))}}),Xe._createArrow({className:"scra",icon:z.a.scrollbarButtonRight,top:mt,left:void 0,bottom:void 0,right:bt,bgWidth:Ne.arrowSize,bgHeight:Ne.horizontalScrollbarSize,onActivate:function(){return Xe._host.onMouseWheel(new L.b(null,-1,0))}})}return Xe._createSlider(Math.floor((Ne.horizontalScrollbarSize-Ne.horizontalSliderSize)/2),0,void 0,Ne.horizontalSliderSize),Xe}return Object(re.a)(Oe,[{key:"_updateSlider",value:function(Ne,Ke){this.slider.setWidth(Ne),this.slider.setLeft(Ke)}},{key:"_renderDomNode",value:function(Ne,Ke){this.domNode.setWidth(Ne),this.domNode.setHeight(Ke),this.domNode.setLeft(0),this.domNode.setBottom(0)}},{key:"onDidScroll",value:function(Ne){return this._shouldRender=this._onElementScrollSize(Ne.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(Ne.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(Ne.width)||this._shouldRender,this._shouldRender}},{key:"_pointerDownRelativePosition",value:function(Ne,Ke){return Ne}},{key:"_sliderPointerPosition",value:function(Ne){return Ne.pageX}},{key:"_sliderOrthogonalPointerPosition",value:function(Ne){return Ne.pageY}},{key:"_updateScrollbarSize",value:function(Ne){this.slider.setHeight(Ne)}},{key:"writeScrollPosition",value:function(Ne,Ke){Ne.scrollLeft=Ke}},{key:"updateOptions",value:function(Ne){this.updateScrollbarSize(Ne.horizontal===2?0:Ne.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(Ne.vertical===2?0:Ne.verticalScrollbarSize),this._visibilityController.setVisibility(Ne.horizontal),this._scrollByPage=Ne.scrollByPage}}]),Oe}(x),ue=function(we){Object(E.a)(Oe,we);var Re=Object(ve.a)(Oe);function Oe(Pe,Ne,Ke){var Xe;Object(J.a)(this,Oe);var wt=Pe.getScrollDimensions(),Ct=Pe.getCurrentScrollPosition();if(Xe=Re.call(this,{lazyRender:Ne.lazyRender,host:Ke,scrollbarState:new T(Ne.verticalHasArrows?Ne.arrowSize:0,Ne.vertical===2?0:Ne.verticalScrollbarSize,0,wt.height,wt.scrollHeight,Ct.scrollTop),visibility:Ne.vertical,extraScrollbarClassName:"vertical",scrollable:Pe,scrollByPage:Ne.scrollByPage}),Ne.verticalHasArrows){var bt=(Ne.arrowSize-V)/2,mt=(Ne.verticalScrollbarSize-V)/2;Xe._createArrow({className:"scra",icon:z.a.scrollbarButtonUp,top:bt,left:mt,bottom:void 0,right:void 0,bgWidth:Ne.verticalScrollbarSize,bgHeight:Ne.arrowSize,onActivate:function(){return Xe._host.onMouseWheel(new L.b(null,0,1))}}),Xe._createArrow({className:"scra",icon:z.a.scrollbarButtonDown,top:void 0,left:mt,bottom:bt,right:void 0,bgWidth:Ne.verticalScrollbarSize,bgHeight:Ne.arrowSize,onActivate:function(){return Xe._host.onMouseWheel(new L.b(null,0,-1))}})}return Xe._createSlider(0,Math.floor((Ne.verticalScrollbarSize-Ne.verticalSliderSize)/2),Ne.verticalSliderSize,void 0),Xe}return Object(re.a)(Oe,[{key:"_updateSlider",value:function(Ne,Ke){this.slider.setHeight(Ne),this.slider.setTop(Ke)}},{key:"_renderDomNode",value:function(Ne,Ke){this.domNode.setWidth(Ke),this.domNode.setHeight(Ne),this.domNode.setRight(0),this.domNode.setTop(0)}},{key:"onDidScroll",value:function(Ne){return this._shouldRender=this._onElementScrollSize(Ne.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(Ne.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(Ne.height)||this._shouldRender,this._shouldRender}},{key:"_pointerDownRelativePosition",value:function(Ne,Ke){return Ke}},{key:"_sliderPointerPosition",value:function(Ne){return Ne.pageY}},{key:"_sliderOrthogonalPointerPosition",value:function(Ne){return Ne.pageX}},{key:"_updateScrollbarSize",value:function(Ne){this.slider.setWidth(Ne)}},{key:"writeScrollPosition",value:function(Ne,Ke){Ne.scrollTop=Ke}},{key:"updateOptions",value:function(Ne){this.updateScrollbarSize(Ne.vertical===2?0:Ne.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(Ne.vertical),this._scrollByPage=Ne.scrollByPage}}]),Oe}(x),be=a("MI8n"),de=a("QuOb"),ke=a("eq1K"),he=500,ge=50,ce=!0,k=Object(re.a)(function we(Re,Oe,Pe){Object(J.a)(this,we),this.timestamp=Re,this.deltaX=Oe,this.deltaY=Pe,this.score=0}),w=function(){function we(){Object(J.a)(this,we),this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}return Object(re.a)(we,[{key:"isPhysicalMouseWheel",value:function(){if(this._front===-1&&this._rear===-1)return!1;var Oe=1,Pe=0,Ne=1,Ke=this._rear;do{var Xe=Ke===this._front?Oe:Math.pow(2,-Ne);if(Oe-=Xe,Pe+=this._memory[Ke].score*Xe,Ke===this._front)break;Ke=(this._capacity+Ke-1)%this._capacity,Ne++}while(!0);return Pe<=.5}},{key:"acceptStandardWheelEvent",value:function(Oe){var Pe=window.devicePixelRatio/Object($.getZoomFactor)();j.o||j.g?this.accept(Date.now(),Oe.deltaX/Pe,Oe.deltaY/Pe):this.accept(Date.now(),Oe.deltaX,Oe.deltaY)}},{key:"accept",value:function(Oe,Pe,Ne){var Ke=new k(Oe,Pe,Ne);Ke.score=this._computeScore(Ke),this._front===-1&&this._rear===-1?(this._memory[0]=Ke,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=Ke)}},{key:"_computeScore",value:function(Oe){if(Math.abs(Oe.deltaX)>0&&Math.abs(Oe.deltaY)>0)return 1;var Pe=.5,Ne=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(Oe.deltaX)||!this._isAlmostInt(Oe.deltaY))&&(Pe+=.25),Math.min(Math.max(Pe,0),1)}},{key:"_isAlmostInt",value:function(Oe){var Pe=Math.abs(Math.round(Oe)-Oe);return Pe<.01}}]),we}();w.INSTANCE=new w;var B=function(we){Object(E.a)(Oe,we);var Re=Object(ve.a)(Oe);function Oe(Pe,Ne,Ke){var Xe;Object(J.a)(this,Oe),Xe=Re.call(this),Xe._onScroll=Xe._register(new be.b),Xe.onScroll=Xe._onScroll.event,Xe._onWillScroll=Xe._register(new be.b),Pe.style.overflow="hidden",Xe._options=I(Ne),Xe._scrollable=Ke,Xe._register(Xe._scrollable.onScroll(function(Ct){Xe._onWillScroll.fire(Ct),Xe._onDidScroll(Ct),Xe._onScroll.fire(Ct)}));var wt={onMouseWheel:function(bt){return Xe._onMouseWheel(bt)},onDragStart:function(){return Xe._onDragStart()},onDragEnd:function(){return Xe._onDragEnd()}};return Xe._verticalScrollbar=Xe._register(new ue(Xe._scrollable,Xe._options,wt)),Xe._horizontalScrollbar=Xe._register(new A(Xe._scrollable,Xe._options,wt)),Xe._domNode=document.createElement("div"),Xe._domNode.className="monaco-scrollable-element "+Xe._options.className,Xe._domNode.setAttribute("role","presentation"),Xe._domNode.style.position="relative",Xe._domNode.style.overflow="hidden",Xe._domNode.appendChild(Pe),Xe._domNode.appendChild(Xe._horizontalScrollbar.domNode.domNode),Xe._domNode.appendChild(Xe._verticalScrollbar.domNode.domNode),Xe._options.useShadows?(Xe._leftShadowDomNode=Object(Q.b)(document.createElement("div")),Xe._leftShadowDomNode.setClassName("shadow"),Xe._domNode.appendChild(Xe._leftShadowDomNode.domNode),Xe._topShadowDomNode=Object(Q.b)(document.createElement("div")),Xe._topShadowDomNode.setClassName("shadow"),Xe._domNode.appendChild(Xe._topShadowDomNode.domNode),Xe._topLeftShadowDomNode=Object(Q.b)(document.createElement("div")),Xe._topLeftShadowDomNode.setClassName("shadow"),Xe._domNode.appendChild(Xe._topLeftShadowDomNode.domNode)):(Xe._leftShadowDomNode=null,Xe._topShadowDomNode=null,Xe._topLeftShadowDomNode=null),Xe._listenOnDomNode=Xe._options.listenOnDomNode||Xe._domNode,Xe._mouseWheelToDispose=[],Xe._setListeningToMouseWheel(Xe._options.handleMouseWheel),Xe.onmouseover(Xe._listenOnDomNode,function(Ct){return Xe._onMouseOver(Ct)}),Xe.onmouseleave(Xe._listenOnDomNode,function(Ct){return Xe._onMouseLeave(Ct)}),Xe._hideTimeout=Xe._register(new W.i),Xe._isDragging=!1,Xe._mouseIsOver=!1,Xe._shouldRender=!0,Xe._revealOnScroll=!0,Xe}return Object(re.a)(Oe,[{key:"options",get:function(){return this._options}},{key:"dispose",value:function(){this._mouseWheelToDispose=Object(U.i)(this._mouseWheelToDispose),Object(le.a)(Object(De.a)(Oe.prototype),"dispose",this).call(this)}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getOverviewRulerLayoutInfo",value:function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}},{key:"delegateVerticalScrollbarPointerDown",value:function(Ne){this._verticalScrollbar.delegatePointerDown(Ne)}},{key:"getScrollDimensions",value:function(){return this._scrollable.getScrollDimensions()}},{key:"setScrollDimensions",value:function(Ne){this._scrollable.setScrollDimensions(Ne,!1)}},{key:"updateClassName",value:function(Ne){this._options.className=Ne,j.i&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}},{key:"updateOptions",value:function(Ne){typeof Ne.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=Ne.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof Ne.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=Ne.mouseWheelScrollSensitivity),typeof Ne.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=Ne.fastScrollSensitivity),typeof Ne.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=Ne.scrollPredominantAxis),typeof Ne.horizontal!="undefined"&&(this._options.horizontal=Ne.horizontal),typeof Ne.vertical!="undefined"&&(this._options.vertical=Ne.vertical),typeof Ne.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=Ne.horizontalScrollbarSize),typeof Ne.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=Ne.verticalScrollbarSize),typeof Ne.scrollByPage!="undefined"&&(this._options.scrollByPage=Ne.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}},{key:"delegateScrollFromMouseWheelEvent",value:function(Ne){this._onMouseWheel(new L.b(Ne))}},{key:"_setListeningToMouseWheel",value:function(Ne){var Ke=this,Xe=this._mouseWheelToDispose.length>0;if(Xe!==Ne&&(this._mouseWheelToDispose=Object(U.i)(this._mouseWheelToDispose),Ne)){var wt=function(bt){Ke._onMouseWheel(new L.b(bt))};this._mouseWheelToDispose.push(y.addDisposableListener(this._listenOnDomNode,y.EventType.MOUSE_WHEEL,wt,{passive:!1}))}}},{key:"_onMouseWheel",value:function(Ne){var Ke=w.INSTANCE;ce&&Ke.acceptStandardWheelEvent(Ne);var Xe=!1;if(Ne.deltaY||Ne.deltaX){var wt=Ne.deltaY*this._options.mouseWheelScrollSensitivity,Ct=Ne.deltaX*this._options.mouseWheelScrollSensitivity;if(this._options.scrollPredominantAxis&&(Math.abs(wt)>=Math.abs(Ct)?Ct=0:wt=0),this._options.flipAxes){var bt=[Ct,wt];wt=bt[0],Ct=bt[1]}var mt=!j.i&&Ne.browserEvent&&Ne.browserEvent.shiftKey;(this._options.scrollYToX||mt)&&!Ct&&(Ct=wt,wt=0),Ne.browserEvent&&Ne.browserEvent.altKey&&(Ct=Ct*this._options.fastScrollSensitivity,wt=wt*this._options.fastScrollSensitivity);var jt=this._scrollable.getFutureScrollPosition(),Je={};if(wt){var Wt=ge*wt,Te=jt.scrollTop-(Wt<0?Math.floor(Wt):Math.ceil(Wt));this._verticalScrollbar.writeScrollPosition(Je,Te)}if(Ct){var fe=ge*Ct,ye=jt.scrollLeft-(fe<0?Math.floor(fe):Math.ceil(fe));this._horizontalScrollbar.writeScrollPosition(Je,ye)}if(Je=this._scrollable.validateScrollPosition(Je),jt.scrollLeft!==Je.scrollLeft||jt.scrollTop!==Je.scrollTop){var Ee=ce&&this._options.mouseWheelSmoothScroll&&Ke.isPhysicalMouseWheel();Ee?this._scrollable.setScrollPositionSmooth(Je):this._scrollable.setScrollPositionNow(Je),Xe=!0}}var Ge=Xe;!Ge&&this._options.alwaysConsumeMouseWheel&&(Ge=!0),!Ge&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(Ge=!0),Ge&&(Ne.preventDefault(),Ne.stopPropagation())}},{key:"_onDidScroll",value:function(Ne){this._shouldRender=this._horizontalScrollbar.onDidScroll(Ne)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(Ne)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}},{key:"renderNow",value:function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}},{key:"_render",value:function(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var Ne=this._scrollable.getCurrentScrollPosition(),Ke=Ne.scrollTop>0,Xe=Ne.scrollLeft>0,wt=Xe?" left":"",Ct=Ke?" top":"",bt=Xe||Ke?" top-left-corner":"";this._leftShadowDomNode.setClassName("shadow".concat(wt)),this._topShadowDomNode.setClassName("shadow".concat(Ct)),this._topLeftShadowDomNode.setClassName("shadow".concat(bt).concat(Ct).concat(wt))}}},{key:"_onDragStart",value:function(){this._isDragging=!0,this._reveal()}},{key:"_onDragEnd",value:function(){this._isDragging=!1,this._hide()}},{key:"_onMouseLeave",value:function(Ne){this._mouseIsOver=!1,this._hide()}},{key:"_onMouseOver",value:function(Ne){this._mouseIsOver=!0,this._reveal()}},{key:"_reveal",value:function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}},{key:"_hide",value:function(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}},{key:"_scheduleHide",value:function(){var Ne=this;!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(function(){return Ne._hide()},he)}}]),Oe}(H.a),Y=function(we){Object(E.a)(Oe,we);var Re=Object(ve.a)(Oe);function Oe(Pe,Ne){var Ke;Object(J.a)(this,Oe),Ne=Ne||{},Ne.mouseWheelSmoothScroll=!1;var Xe=new de.a({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:function(Ct){return y.scheduleAtNextAnimationFrame(Ct)}});return Ke=Re.call(this,Pe,Ne,Xe),Ke._register(Xe),Ke}return Object(re.a)(Oe,[{key:"setScrollPosition",value:function(Ne){this._scrollable.setScrollPositionNow(Ne)}}]),Oe}(B),pe=function(we){Object(E.a)(Oe,we);var Re=Object(ve.a)(Oe);function Oe(Pe,Ne,Ke){return Object(J.a)(this,Oe),Re.call(this,Pe,Ne,Ke)}return Object(re.a)(Oe,[{key:"setScrollPosition",value:function(Ne){Ne.reuseAnimation?this._scrollable.setScrollPositionSmooth(Ne,Ne.reuseAnimation):this._scrollable.setScrollPositionNow(Ne)}},{key:"getScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}}]),Oe}(B),me=function(we){Object(E.a)(Oe,we);var Re=Object(ve.a)(Oe);function Oe(Pe,Ne){var Ke;Object(J.a)(this,Oe),Ne=Ne||{},Ne.mouseWheelSmoothScroll=!1;var Xe=new de.a({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:function(Ct){return y.scheduleAtNextAnimationFrame(Ct)}});return Ke=Re.call(this,Pe,Ne,Xe),Ke._register(Xe),Ke._element=Pe,Ke.onScroll(function(wt){wt.scrollTopChanged&&(Ke._element.scrollTop=wt.scrollTop),wt.scrollLeftChanged&&(Ke._element.scrollLeft=wt.scrollLeft)}),Ke.scanDomNode(),Ke}return Object(re.a)(Oe,[{key:"setScrollPosition",value:function(Ne){this._scrollable.setScrollPositionNow(Ne)}},{key:"getScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}},{key:"scanDomNode",value:function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}]),Oe}(B);function I(we){var Re={lazyRender:typeof we.lazyRender!="undefined"?we.lazyRender:!1,className:typeof we.className!="undefined"?we.className:"",useShadows:typeof we.useShadows!="undefined"?we.useShadows:!0,handleMouseWheel:typeof we.handleMouseWheel!="undefined"?we.handleMouseWheel:!0,flipAxes:typeof we.flipAxes!="undefined"?we.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof we.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?we.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof we.alwaysConsumeMouseWheel!="undefined"?we.alwaysConsumeMouseWheel:!1,scrollYToX:typeof we.scrollYToX!="undefined"?we.scrollYToX:!1,mouseWheelScrollSensitivity:typeof we.mouseWheelScrollSensitivity!="undefined"?we.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof we.fastScrollSensitivity!="undefined"?we.fastScrollSensitivity:5,scrollPredominantAxis:typeof we.scrollPredominantAxis!="undefined"?we.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof we.mouseWheelSmoothScroll!="undefined"?we.mouseWheelSmoothScroll:!0,arrowSize:typeof we.arrowSize!="undefined"?we.arrowSize:11,listenOnDomNode:typeof we.listenOnDomNode!="undefined"?we.listenOnDomNode:null,horizontal:typeof we.horizontal!="undefined"?we.horizontal:1,horizontalScrollbarSize:typeof we.horizontalScrollbarSize!="undefined"?we.horizontalScrollbarSize:10,horizontalSliderSize:typeof we.horizontalSliderSize!="undefined"?we.horizontalSliderSize:0,horizontalHasArrows:typeof we.horizontalHasArrows!="undefined"?we.horizontalHasArrows:!1,vertical:typeof we.vertical!="undefined"?we.vertical:1,verticalScrollbarSize:typeof we.verticalScrollbarSize!="undefined"?we.verticalScrollbarSize:10,verticalHasArrows:typeof we.verticalHasArrows!="undefined"?we.verticalHasArrows:!1,verticalSliderSize:typeof we.verticalSliderSize!="undefined"?we.verticalSliderSize:0,scrollByPage:typeof we.scrollByPage!="undefined"?we.scrollByPage:!1};return Re.horizontalSliderSize=typeof we.horizontalSliderSize!="undefined"?we.horizontalSliderSize:Re.horizontalScrollbarSize,Re.verticalSliderSize=typeof we.verticalSliderSize!="undefined"?we.verticalSliderSize:Re.verticalScrollbarSize,j.i&&(Re.className+=" mac"),Re}},Ga8k:function(fn,K,a){"use strict";a.d(K,"b",function(){return it}),a.d(K,"a",function(){return Ye});var le=a("y8nQ"),De=a("Vl3Y"),E=a("DYRE"),ve=a("zeV3"),re=a("rePB"),J=a("+L6B"),$=a("2/Rp"),y=a("VTBJ"),Q=a("EFp3"),L=a("8txm"),ne=a("MXD1"),ee=a("wx14"),H=a("bRQS"),W=a("4i/N"),F=a("TSYQ"),V=a.n(F),N=a("Ff2n"),U=a("1OyB"),d=a("vuIU"),j=a("JX7q"),C=a("Ji7U"),x=a("LK+K"),S=a("q1tI"),T=a.n(S),z=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick"];function A(ot){return typeof ot=="string"}var ue=function(ot){Object(C.a)(gt,ot);var Kt=Object(x.a)(gt);function gt(){var Ft;Object(U.a)(this,gt);for(var Jt=arguments.length,qt=new Array(Jt),En=0;En<Jt;En++)qt[En]=arguments[En];return Ft=Kt.call.apply(Kt,[this].concat(qt)),Object(re.a)(Object(j.a)(Ft),"onClick",function(){var It=Ft.props,si=It.onClick,On=It.onStepClick,Gn=It.stepIndex;si&&si.apply(void 0,arguments),On(Gn)}),Ft}return Object(d.a)(gt,[{key:"renderIconNode",value:function(){var Jt,qt=this.props,En=qt.prefixCls,It=qt.progressDot,si=qt.stepIcon,On=qt.stepNumber,Gn=qt.status,ci=qt.title,Dn=qt.description,An=qt.icon,fr=qt.iconPrefix,Vi=qt.icons,Sr,Pi=V()("".concat(En,"-icon"),"".concat(fr,"icon"),(Jt={},Object(re.a)(Jt,"".concat(fr,"icon-").concat(An),An&&A(An)),Object(re.a)(Jt,"".concat(fr,"icon-check"),!An&&Gn==="finish"&&(Vi&&!Vi.finish||!Vi)),Object(re.a)(Jt,"".concat(fr,"icon-cross"),!An&&Gn==="error"&&(Vi&&!Vi.error||!Vi)),Jt)),Ei=S.createElement("span",{className:"".concat(En,"-icon-dot")});return It?typeof It=="function"?Sr=S.createElement("span",{className:"".concat(En,"-icon")},It(Ei,{index:On-1,status:Gn,title:ci,description:Dn})):Sr=S.createElement("span",{className:"".concat(En,"-icon")},Ei):An&&!A(An)?Sr=S.createElement("span",{className:"".concat(En,"-icon")},An):Vi&&Vi.finish&&Gn==="finish"?Sr=S.createElement("span",{className:"".concat(En,"-icon")},Vi.finish):Vi&&Vi.error&&Gn==="error"?Sr=S.createElement("span",{className:"".concat(En,"-icon")},Vi.error):An||Gn==="finish"||Gn==="error"?Sr=S.createElement("span",{className:Pi}):Sr=S.createElement("span",{className:"".concat(En,"-icon")},On),si&&(Sr=si({index:On-1,status:Gn,title:ci,description:Dn,node:Sr})),Sr}},{key:"render",value:function(){var Jt,qt=this.props,En=qt.className,It=qt.prefixCls,si=qt.style,On=qt.active,Gn=qt.status,ci=Gn===void 0?"wait":Gn,Dn=qt.iconPrefix,An=qt.icon,fr=qt.wrapperStyle,Vi=qt.stepNumber,Sr=qt.disabled,Pi=qt.description,Ei=qt.title,Cr=qt.subTitle,zn=qt.progressDot,dr=qt.stepIcon,Hn=qt.tailContent,mi=qt.icons,hn=qt.stepIndex,Xn=qt.onStepClick,en=qt.onClick,yt=Object(N.a)(qt,z),wn=V()("".concat(It,"-item"),"".concat(It,"-item-").concat(ci),En,(Jt={},Object(re.a)(Jt,"".concat(It,"-item-custom"),An),Object(re.a)(Jt,"".concat(It,"-item-active"),On),Object(re.a)(Jt,"".concat(It,"-item-disabled"),Sr===!0),Jt)),gn=Object(y.a)({},si),rn={};return Xn&&!Sr&&(rn.role="button",rn.tabIndex=0,rn.onClick=this.onClick),S.createElement("div",Object(ee.a)({},yt,{className:wn,style:gn}),S.createElement("div",Object(ee.a)({onClick:en},rn,{className:"".concat(It,"-item-container")}),S.createElement("div",{className:"".concat(It,"-item-tail")},Hn),S.createElement("div",{className:"".concat(It,"-item-icon")},this.renderIconNode()),S.createElement("div",{className:"".concat(It,"-item-content")},S.createElement("div",{className:"".concat(It,"-item-title")},Ei,Cr&&S.createElement("div",{title:typeof Cr=="string"?Cr:void 0,className:"".concat(It,"-item-subtitle")},Cr)),Pi&&S.createElement("div",{className:"".concat(It,"-item-description")},Pi))))}}]),gt}(S.Component),be=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","items"],de=function(ot){Object(C.a)(gt,ot);var Kt=Object(x.a)(gt);function gt(){var Ft;Object(U.a)(this,gt);for(var Jt=arguments.length,qt=new Array(Jt),En=0;En<Jt;En++)qt[En]=arguments[En];return Ft=Kt.call.apply(Kt,[this].concat(qt)),Object(re.a)(Object(j.a)(Ft),"onStepClick",function(It){var si=Ft.props,On=si.onChange,Gn=si.current;On&&Gn!==It&&On(It)}),Ft}return Object(d.a)(gt,[{key:"render",value:function(){var Jt,qt=this,En=this.props,It=En.prefixCls,si=En.style,On=si===void 0?{}:si,Gn=En.className,ci=En.children,Dn=En.direction,An=En.type,fr=En.labelPlacement,Vi=En.iconPrefix,Sr=En.status,Pi=En.size,Ei=En.current,Cr=En.progressDot,zn=En.stepIcon,dr=En.initial,Hn=En.icons,mi=En.onChange,hn=En.items,Xn=hn===void 0?[]:hn,en=Object(N.a)(En,be),yt=An==="navigation",wn=Cr?"vertical":fr,gn=V()(It,"".concat(It,"-").concat(Dn),Gn,(Jt={},Object(re.a)(Jt,"".concat(It,"-").concat(Pi),Pi),Object(re.a)(Jt,"".concat(It,"-label-").concat(wn),Dn==="horizontal"),Object(re.a)(Jt,"".concat(It,"-dot"),!!Cr),Object(re.a)(Jt,"".concat(It,"-navigation"),yt),Jt));return T.a.createElement("div",Object(ee.a)({className:gn,style:On},en),Xn.filter(function(rn){return rn}).map(function(rn,bn){var Qn=Object(y.a)({},rn),Ci=dr+bn;return Sr==="error"&&bn===Ei-1&&(Qn.className="".concat(It,"-next-error")),Qn.status||(Ci===Ei?Qn.status=Sr:Ci<Ei?Qn.status="finish":Qn.status="wait"),T.a.createElement(ue,Object(ee.a)({},Qn,{active:Ci===Ei,stepNumber:Ci+1,stepIndex:Ci,key:Ci,prefixCls:It,iconPrefix:Vi,wrapperStyle:On,progressDot:Cr,stepIcon:zn,icons:Hn,onStepClick:mi&&qt.onStepClick}))}))}}]),gt}(T.a.Component);Object(re.a)(de,"Step",ue),Object(re.a)(de,"defaultProps",{type:"default",prefixCls:"rc-steps",iconPrefix:"rc",direction:"horizontal",labelPlacement:"horizontal",initial:0,current:0,status:"process",size:"",progressDot:!1});var ke=de,he=a("H84U"),ge=a("5OYt"),ce=a("CFYs"),k=a("Zm9Q");function w(ot){return ot.filter(function(Kt){return Kt})}function B(ot,Kt){if(ot)return ot;var gt=Object(k.a)(Kt).map(function(Ft){if(S.isValidElement(Ft)){var Jt=Ft.props,qt=Object(ee.a)({},Jt);return qt}return null});return w(gt)}var Y=function(ot,Kt){var gt={};for(var Ft in ot)Object.prototype.hasOwnProperty.call(ot,Ft)&&Kt.indexOf(Ft)<0&&(gt[Ft]=ot[Ft]);if(ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Jt=0,Ft=Object.getOwnPropertySymbols(ot);Jt<Ft.length;Jt++)Kt.indexOf(Ft[Jt])<0&&Object.prototype.propertyIsEnumerable.call(ot,Ft[Jt])&&(gt[Ft[Jt]]=ot[Ft[Jt]]);return gt},pe=function(Kt){var gt,Ft=Kt.percent,Jt=Kt.size,qt=Kt.className,En=Kt.direction,It=Kt.items,si=Kt.responsive,On=si===void 0?!0:si,Gn=Kt.current,ci=Gn===void 0?0:Gn,Dn=Kt.children,An=Y(Kt,["percent","size","className","direction","items","responsive","current","children"]),fr=Object(ge.a)(On),Vi=fr.xs,Sr=S.useContext(he.b),Pi=Sr.getPrefixCls,Ei=Sr.direction,Cr=S.useCallback(function(){return On&&Vi?"vertical":En},[Vi,En]),zn=Pi("steps",Kt.prefixCls),dr=Pi("",Kt.iconPrefix),Hn=B(It,Dn),mi=V()((gt={},Object(re.a)(gt,"".concat(zn,"-rtl"),Ei==="rtl"),Object(re.a)(gt,"".concat(zn,"-with-progress"),Ft!==void 0),gt),qt),hn={finish:S.createElement(H.a,{className:"".concat(zn,"-finish-icon")}),error:S.createElement(W.a,{className:"".concat(zn,"-error-icon")})},Xn=function(yt){var wn=yt.node,gn=yt.status;if(gn==="process"&&Ft!==void 0){var rn=Jt==="small"?32:40;return S.createElement("div",{className:"".concat(zn,"-progress-icon")},S.createElement(ce.a,{type:"circle",percent:Ft,width:rn,strokeWidth:4,format:function(){return null}}),wn)}return wn};return S.createElement(ke,Object(ee.a)({icons:hn},An,{current:ci,size:Jt,items:Hn,direction:Cr(),stepIcon:Xn,prefixCls:zn,iconPrefix:dr,className:mi}))};pe.Step=ke.Step;var me=pe,I=a("x+uP"),we=a("HaE+"),Re=a("KQm4"),Oe=a("ODXe"),Pe=a("GNNt"),Ne=a("wEI+"),Ke=a("jCWc"),Xe=a("kPKH"),wt=a("14J3"),Ct=a("BMrR"),bt=a("nKUr"),mt=a("LQCs"),jt=a("/PRe"),Je=a("+i8S"),Wt=a("6cGi"),Te=a("bpiW"),fe=a("Kwbf"),ye=a("T1Ok"),Ee=["onFinish","step","formRef","title","stepProps"];function Ge(ot){var Kt=Object(S.useRef)(),gt=Object(S.useContext)(it),Ft=ot.onFinish,Jt=ot.step,qt=ot.formRef,En=ot.title,It=ot.stepProps,si=Object(N.a)(ot,Ee);return Object(fe.b)(!si.submitter,"StepForm \u4E0D\u5305\u542B\u63D0\u4EA4\u6309\u94AE\uFF0C\u8BF7\u5728 StepsForm \u4E0A"),Object(S.useImperativeHandle)(qt,function(){return Kt.current}),Object(S.useEffect)(function(){if(!!(ot.name||ot.step)){var On=(ot.name||ot.step).toString();return gt==null||gt.regForm(On,ot),function(){gt==null||gt.unRegForm(On)}}},[]),gt&&(gt==null?void 0:gt.formArrayRef)&&(gt.formArrayRef.current[Jt||0]=Kt),Object(bt.jsx)(ye.a,Object(y.a)({formRef:Kt,onFinish:function(){var On=Object(we.a)(Object(I.a)().mark(function ci(Dn){var An;return Object(I.a)().wrap(function(Vi){for(;;)switch(Vi.prev=Vi.next){case 0:if(si.name&&(gt==null||gt.onFormFinish(si.name,Dn)),!Ft){Vi.next=9;break}return gt==null||gt.setLoading(!0),Vi.next=5,Ft==null?void 0:Ft(Dn);case 5:return An=Vi.sent,An&&(gt==null||gt.next()),gt==null||gt.setLoading(!1),Vi.abrupt("return");case 9:(gt==null?void 0:gt.lastStep)||gt==null||gt.next();case 10:case"end":return Vi.stop()}},ci)}));function Gn(ci){return On.apply(this,arguments)}return Gn}(),layout:"vertical"},si))}var $e=Ge,We=["current","onCurrentChange","submitter","stepsFormRender","stepsRender","stepFormRender","stepsProps","onFinish","formProps","containerStyle","formRef","formMapRef"],it=T.a.createContext(void 0),Fe={horizontal:function(Kt){var gt=Kt.stepsDom,Ft=Kt.formDom;return Object(bt.jsxs)(bt.Fragment,{children:[Object(bt.jsx)(Ct.a,{gutter:{xs:8,sm:16,md:24},children:Object(bt.jsx)(Xe.a,{span:24,children:gt})}),Object(bt.jsx)(Ct.a,{gutter:{xs:8,sm:16,md:24},children:Object(bt.jsx)(Xe.a,{span:24,children:Ft})})]})},vertical:function(Kt){var gt=Kt.stepsDom,Ft=Kt.formDom;return Object(bt.jsxs)(Ct.a,{align:"stretch",wrap:!0,gutter:{xs:8,sm:16,md:24},children:[Object(bt.jsx)(Xe.a,{xxl:4,xl:6,lg:7,md:8,sm:10,xs:12,children:T.a.cloneElement(gt,{style:{height:"100%"}})}),Object(bt.jsx)(Xe.a,{children:Object(bt.jsx)("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"100%"},children:Ft})})]})}};function He(ot){var Kt=Object(S.useContext)(Ne.a.ConfigContext),gt=Kt.getPrefixCls,Ft=gt("pro-steps-form"),Jt=ot.current,qt=ot.onCurrentChange,En=ot.submitter,It=ot.stepsFormRender,si=ot.stepsRender,On=ot.stepFormRender,Gn=ot.stepsProps,ci=ot.onFinish,Dn=ot.formProps,An=ot.containerStyle,fr=ot.formRef,Vi=ot.formMapRef,Sr=Object(N.a)(ot,We),Pi=Object(S.useRef)(new Map),Ei=Object(S.useRef)(new Map),Cr=Object(S.useRef)([]),zn=Object(S.useState)([]),dr=Object(Oe.a)(zn,2),Hn=dr[0],mi=dr[1],hn=Object(S.useState)(!1),Xn=Object(Oe.a)(hn,2),en=Xn[0],yt=Xn[1],wn=Object(mt.d)(),gn=Object(Wt.a)(0,{value:ot.current,onChange:ot.onCurrentChange}),rn=Object(Oe.a)(gn,2),bn=rn[0],Qn=rn[1],Ci=Object(S.useMemo)(function(){return Fe[(Gn==null?void 0:Gn.direction)||"horizontal"]},[Gn==null?void 0:Gn.direction]),yr=Object(S.useMemo)(function(){return bn===Hn.length-1},[Hn.length,bn]),_i=Object(S.useCallback)(function(Fn,jn){Ei.current.has(Fn)||mi(function(Nt){return[].concat(Object(Re.a)(Nt),[Fn])}),Ei.current.set(Fn,jn)},[]),Bn=Object(S.useCallback)(function(Fn){mi(function(jn){return jn.filter(function(Nt){return Nt!==Fn})}),Ei.current.delete(Fn),Pi.current.delete(Fn)},[]);Object(S.useImperativeHandle)(Vi,function(){return Cr.current}),Object(S.useImperativeHandle)(fr,function(){var Fn;return(Fn=Cr.current[bn||0])===null||Fn===void 0?void 0:Fn.current},[bn]);var tt=Object(S.useCallback)(function(){var Fn=Object(we.a)(Object(I.a)().mark(function jn(Nt,Gt){var Et,Rt;return Object(I.a)().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(Pi.current.set(Nt,Gt),!(!yr||!ci)){et.next=3;break}return et.abrupt("return");case 3:return yt(!0),Et=jt.a.apply(void 0,[{}].concat(Object(Re.a)(Array.from(Pi.current.values())))),et.prev=5,et.next=8,ci(Et);case 8:Rt=et.sent,Rt&&(Qn(0),Cr.current.forEach(function(Ze){var on;return(on=Ze.current)===null||on===void 0?void 0:on.resetFields()})),et.next=15;break;case 12:et.prev=12,et.t0=et.catch(5),console.log(et.t0);case 15:return et.prev=15,yt(!1),et.finish(15);case 18:case"end":return et.stop()}},jn,null,[[5,12,15,18]])}));return function(jn,Nt){return Fn.apply(this,arguments)}}(),[yr,ci,yt,Qn]),Lt=Object(S.useMemo)(function(){return Object(bt.jsx)("div",{className:"".concat(Ft,"-steps-container"),style:{maxWidth:Math.min(Hn.length*320,1160)},children:Object(bt.jsx)(me,Object(y.a)(Object(y.a)({},Gn),{},{current:bn,onChange:void 0,children:Hn.map(function(Fn){var jn=Ei.current.get(Fn);return Object(bt.jsx)(me.Step,Object(y.a)({title:jn==null?void 0:jn.title},jn==null?void 0:jn.stepProps),Fn)})}))})},[Hn,Ft,bn,Gn]),xi=Object(Je.a)(function(){var Fn,jn=Cr.current[bn];(Fn=jn.current)===null||Fn===void 0||Fn.submit()}),Qi=Object(Je.a)(function(){bn<1||Qn(bn-1)}),mr=Object(S.useMemo)(function(){return En!==!1&&Object(bt.jsx)($.a,Object(y.a)(Object(y.a)({type:"primary",loading:en},En==null?void 0:En.submitButtonProps),{},{onClick:function(){var jn;En==null||(jn=En.onSubmit)===null||jn===void 0||jn.call(En),xi()},children:wn.getMessage("stepsForm.next","\u4E0B\u4E00\u6B65")}),"next")},[wn,en,xi,En]),pr=Object(S.useMemo)(function(){return En!==!1&&Object(bt.jsx)($.a,Object(y.a)(Object(y.a)({},En==null?void 0:En.resetButtonProps),{},{onClick:function(){var jn;Qi(),En==null||(jn=En.onReset)===null||jn===void 0||jn.call(En)},children:wn.getMessage("stepsForm.prev","\u4E0A\u4E00\u6B65")}),"pre")},[wn,Qi,En]),St=Object(S.useMemo)(function(){return En!==!1&&Object(bt.jsx)($.a,Object(y.a)(Object(y.a)({type:"primary",loading:en},En==null?void 0:En.submitButtonProps),{},{onClick:function(){var jn;En==null||(jn=En.onSubmit)===null||jn===void 0||jn.call(En),xi()},children:wn.getMessage("stepsForm.submit","\u63D0\u4EA4")}),"submit")},[wn,en,xi,En]),Gi=Object(Je.a)(function(){bn>Hn.length-2||Qn(bn+1)}),an=Object(S.useMemo)(function(){var Fn=[],jn=bn||0;if(jn<1?Fn.push(mr):jn+1===Hn.length?Fn.push(pr,St):Fn.push(pr,mr),Fn=Fn.filter(T.a.isValidElement),En&&En.render){var Nt,Gt={form:(Nt=Cr.current[bn])===null||Nt===void 0?void 0:Nt.current,onSubmit:xi,step:bn,onPre:Qi};return En.render(Gt,Fn)}return En&&(En==null?void 0:En.render)===!1?null:Fn},[Hn.length,mr,xi,pr,Qi,bn,St,En]),Qe=Object(S.useMemo)(function(){return Object(k.a)(ot.children).map(function(Fn,jn){var Nt=Fn.props,Gt=Nt.name||"".concat(jn),Et=bn===jn,Rt=Et?{contentRender:On,submitter:!1}:{};return Object(bt.jsx)("div",{className:V()("".concat(Ft,"-step"),Object(re.a)({},"".concat(Ft,"-step-active"),Et)),children:T.a.cloneElement(Fn,Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)({},Rt),Dn),Nt),{},{name:Gt,step:jn,key:Gt}))},Gt)})},[Dn,Ft,ot.children,bn,On]),Jn=Object(S.useMemo)(function(){return si?si(Hn.map(function(Fn){var jn;return{key:Fn,title:(jn=Ei.current.get(Fn))===null||jn===void 0?void 0:jn.title}}),Lt):Lt},[Hn,Lt,si]),ii=Object(S.useMemo)(function(){return Object(bt.jsxs)("div",{className:"".concat(Ft,"-container"),style:An,children:[Qe,It?null:Object(bt.jsx)(ve.b,{children:an})]})},[An,Qe,Ft,It,an]),Li=Object(S.useMemo)(function(){var Fn={stepsDom:Jn,formDom:ii};return It?It(Ci(Fn),an):Ci(Fn)},[Jn,ii,Ci,It,an]);return Object(bt.jsx)("div",{className:Ft,children:Object(bt.jsx)(De.a.Provider,Object(y.a)(Object(y.a)({},Sr),{},{children:Object(bt.jsx)(it.Provider,{value:{loading:en,setLoading:yt,regForm:_i,keyArray:Hn,next:Gi,formArrayRef:Cr,formMapRef:Ei,lastStep:yr,unRegForm:Bn,onFormFinish:tt},children:Li})}))})}function Ye(ot){return Object(bt.jsx)(mt.a,{children:Object(bt.jsx)(He,Object(y.a)({},ot))})}Ye.StepForm=$e,Ye.useForm=De.a.useForm},Gbfa:function(fn,K,a){},Gw4z:function(fn,K,a){"use strict";a.d(K,"b",function(){return $}),a.d(K,"a",function(){return ne});var le=a("tJVT"),De=a("fWQN"),E=a("mtLc"),ve=function(){function ee(H,W,F,V){Object(De.a)(this,ee),this.originalStart=H,this.originalLength=W,this.modifiedStart=F,this.modifiedLength=V}return Object(E.a)(ee,[{key:"getOriginalEnd",value:function(){return this.originalStart+this.originalLength}},{key:"getModifiedEnd",value:function(){return this.modifiedStart+this.modifiedLength}}]),ee}(),re=a("7afs"),J=function(){function ee(H){Object(De.a)(this,ee),this.source=H}return Object(E.a)(ee,[{key:"getElements",value:function(){for(var W=this.source,F=new Int32Array(W.length),V=0,N=W.length;V<N;V++)F[V]=W.charCodeAt(V);return F}}]),ee}();function $(ee,H,W){return new ne(new J(ee),new J(H)).ComputeDiff(W).changes}var y=function(){function ee(){Object(De.a)(this,ee)}return Object(E.a)(ee,null,[{key:"Assert",value:function(W,F){if(!W)throw new Error(F)}}]),ee}(),Q=function(){function ee(){Object(De.a)(this,ee)}return Object(E.a)(ee,null,[{key:"Copy",value:function(W,F,V,N,U){for(var d=0;d<U;d++)V[N+d]=W[F+d]}},{key:"Copy2",value:function(W,F,V,N,U){for(var d=0;d<U;d++)V[N+d]=W[F+d]}}]),ee}(),L=function(){function ee(){Object(De.a)(this,ee),this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}return Object(E.a)(ee,[{key:"MarkNextChange",value:function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new ve(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}},{key:"AddOriginalElement",value:function(W,F){this.m_originalStart=Math.min(this.m_originalStart,W),this.m_modifiedStart=Math.min(this.m_modifiedStart,F),this.m_originalCount++}},{key:"AddModifiedElement",value:function(W,F){this.m_originalStart=Math.min(this.m_originalStart,W),this.m_modifiedStart=Math.min(this.m_modifiedStart,F),this.m_modifiedCount++}},{key:"getChanges",value:function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}},{key:"getReverseChanges",value:function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}]),ee}(),ne=function(){function ee(H,W){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;Object(De.a)(this,ee),this.ContinueProcessingPredicate=F,this._originalSequence=H,this._modifiedSequence=W;var V=ee._getElements(H),N=Object(le.a)(V,3),U=N[0],d=N[1],j=N[2],C=ee._getElements(W),x=Object(le.a)(C,3),S=x[0],T=x[1],z=x[2];this._hasStrings=j&&z,this._originalStringElements=U,this._originalElementsOrHash=d,this._modifiedStringElements=S,this._modifiedElementsOrHash=T,this.m_forwardHistory=[],this.m_reverseHistory=[]}return Object(E.a)(ee,[{key:"ElementsAreEqual",value:function(W,F){return this._originalElementsOrHash[W]!==this._modifiedElementsOrHash[F]?!1:this._hasStrings?this._originalStringElements[W]===this._modifiedStringElements[F]:!0}},{key:"ElementsAreStrictEqual",value:function(W,F){if(!this.ElementsAreEqual(W,F))return!1;var V=ee._getStrictElement(this._originalSequence,W),N=ee._getStrictElement(this._modifiedSequence,F);return V===N}},{key:"OriginalElementsAreEqual",value:function(W,F){return this._originalElementsOrHash[W]!==this._originalElementsOrHash[F]?!1:this._hasStrings?this._originalStringElements[W]===this._originalStringElements[F]:!0}},{key:"ModifiedElementsAreEqual",value:function(W,F){return this._modifiedElementsOrHash[W]!==this._modifiedElementsOrHash[F]?!1:this._hasStrings?this._modifiedStringElements[W]===this._modifiedStringElements[F]:!0}},{key:"ComputeDiff",value:function(W){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,W)}},{key:"_ComputeDiff",value:function(W,F,V,N,U){var d=[!1],j=this.ComputeDiffRecursive(W,F,V,N,d);return U&&(j=this.PrettifyChanges(j)),{quitEarly:d[0],changes:j}}},{key:"ComputeDiffRecursive",value:function(W,F,V,N,U){for(U[0]=!1;W<=F&&V<=N&&this.ElementsAreEqual(W,V);)W++,V++;for(;F>=W&&N>=V&&this.ElementsAreEqual(F,N);)F--,N--;if(W>F||V>N){var d;return V<=N?(y.Assert(W===F+1,"originalStart should only be one more than originalEnd"),d=[new ve(W,0,V,N-V+1)]):W<=F?(y.Assert(V===N+1,"modifiedStart should only be one more than modifiedEnd"),d=[new ve(W,F-W+1,V,0)]):(y.Assert(W===F+1,"originalStart should only be one more than originalEnd"),y.Assert(V===N+1,"modifiedStart should only be one more than modifiedEnd"),d=[]),d}var j=[0],C=[0],x=this.ComputeRecursionPoint(W,F,V,N,j,C,U),S=j[0],T=C[0];if(x!==null)return x;if(!U[0]){var z=this.ComputeDiffRecursive(W,S,V,T,U),A=[];return U[0]?A=[new ve(S+1,F-(S+1)+1,T+1,N-(T+1)+1)]:A=this.ComputeDiffRecursive(S+1,F,T+1,N,U),this.ConcatenateChanges(z,A)}return[new ve(W,F-W+1,V,N-V+1)]}},{key:"WALKTRACE",value:function(W,F,V,N,U,d,j,C,x,S,T,z,A,ue,be,de,ke,he){var ge=null,ce=null,k=new L,w=F,B=V,Y=A[0]-de[0]-N,pe=-1073741824,me=this.m_forwardHistory.length-1;do{var I=Y+W;I===w||I<B&&x[I-1]<x[I+1]?(T=x[I+1],ue=T-Y-N,T<pe&&k.MarkNextChange(),pe=T,k.AddModifiedElement(T+1,ue),Y=I+1-W):(T=x[I-1]+1,ue=T-Y-N,T<pe&&k.MarkNextChange(),pe=T-1,k.AddOriginalElement(T,ue+1),Y=I-1-W),me>=0&&(x=this.m_forwardHistory[me],W=x[0],w=1,B=x.length-1)}while(--me>=-1);if(ge=k.getReverseChanges(),he[0]){var we=A[0]+1,Re=de[0]+1;if(ge!==null&&ge.length>0){var Oe=ge[ge.length-1];we=Math.max(we,Oe.getOriginalEnd()),Re=Math.max(Re,Oe.getModifiedEnd())}ce=[new ve(we,z-we+1,Re,be-Re+1)]}else{k=new L,w=d,B=j,Y=A[0]-de[0]-C,pe=1073741824,me=ke?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{var Pe=Y+U;Pe===w||Pe<B&&S[Pe-1]>=S[Pe+1]?(T=S[Pe+1]-1,ue=T-Y-C,T>pe&&k.MarkNextChange(),pe=T+1,k.AddOriginalElement(T+1,ue+1),Y=Pe+1-U):(T=S[Pe-1],ue=T-Y-C,T>pe&&k.MarkNextChange(),pe=T,k.AddModifiedElement(T+1,ue+1),Y=Pe-1-U),me>=0&&(S=this.m_reverseHistory[me],U=S[0],w=1,B=S.length-1)}while(--me>=-1);ce=k.getChanges()}return this.ConcatenateChanges(ge,ce)}},{key:"ComputeRecursionPoint",value:function(W,F,V,N,U,d,j){var C=0,x=0,S=0,T=0,z=0,A=0;W--,V--,U[0]=0,d[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var ue=F-W+(N-V),be=ue+1,de=new Int32Array(be),ke=new Int32Array(be),he=N-V,ge=F-W,ce=W-V,k=F-N,w=ge-he,B=w%2==0;de[he]=W,ke[ge]=F,j[0]=!1;for(var Y=1;Y<=ue/2+1;Y++){var pe=0,me=0;S=this.ClipDiagonalBound(he-Y,Y,he,be),T=this.ClipDiagonalBound(he+Y,Y,he,be);for(var I=S;I<=T;I+=2){I===S||I<T&&de[I-1]<de[I+1]?C=de[I+1]:C=de[I-1]+1,x=C-(I-he)-ce;for(var we=C;C<F&&x<N&&this.ElementsAreEqual(C+1,x+1);)C++,x++;if(de[I]=C,C+x>pe+me&&(pe=C,me=x),!B&&Math.abs(I-ge)<=Y-1&&C>=ke[I])return U[0]=C,d[0]=x,we<=ke[I]&&1447>0&&Y<=1447+1?this.WALKTRACE(he,S,T,ce,ge,z,A,k,de,ke,C,F,U,x,N,d,B,j):null}var Re=(pe-W+(me-V)-Y)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(pe,Re))return j[0]=!0,U[0]=pe,d[0]=me,Re>0&&1447>0&&Y<=1447+1?this.WALKTRACE(he,S,T,ce,ge,z,A,k,de,ke,C,F,U,x,N,d,B,j):(W++,V++,[new ve(W,F-W+1,V,N-V+1)]);z=this.ClipDiagonalBound(ge-Y,Y,ge,be),A=this.ClipDiagonalBound(ge+Y,Y,ge,be);for(var Oe=z;Oe<=A;Oe+=2){Oe===z||Oe<A&&ke[Oe-1]>=ke[Oe+1]?C=ke[Oe+1]-1:C=ke[Oe-1],x=C-(Oe-ge)-k;for(var Pe=C;C>W&&x>V&&this.ElementsAreEqual(C,x);)C--,x--;if(ke[Oe]=C,B&&Math.abs(Oe-he)<=Y&&C<=de[Oe])return U[0]=C,d[0]=x,Pe>=de[Oe]&&1447>0&&Y<=1447+1?this.WALKTRACE(he,S,T,ce,ge,z,A,k,de,ke,C,F,U,x,N,d,B,j):null}if(Y<=1447){var Ne=new Int32Array(T-S+2);Ne[0]=he-S+1,Q.Copy2(de,S,Ne,1,T-S+1),this.m_forwardHistory.push(Ne),Ne=new Int32Array(A-z+2),Ne[0]=ge-z+1,Q.Copy2(ke,z,Ne,1,A-z+1),this.m_reverseHistory.push(Ne)}}return this.WALKTRACE(he,S,T,ce,ge,z,A,k,de,ke,C,F,U,x,N,d,B,j)}},{key:"PrettifyChanges",value:function(W){for(var F=0;F<W.length;F++){for(var V=W[F],N=F<W.length-1?W[F+1].originalStart:this._originalElementsOrHash.length,U=F<W.length-1?W[F+1].modifiedStart:this._modifiedElementsOrHash.length,d=V.originalLength>0,j=V.modifiedLength>0;V.originalStart+V.originalLength<N&&V.modifiedStart+V.modifiedLength<U&&(!d||this.OriginalElementsAreEqual(V.originalStart,V.originalStart+V.originalLength))&&(!j||this.ModifiedElementsAreEqual(V.modifiedStart,V.modifiedStart+V.modifiedLength));){var C=this.ElementsAreStrictEqual(V.originalStart,V.modifiedStart),x=this.ElementsAreStrictEqual(V.originalStart+V.originalLength,V.modifiedStart+V.modifiedLength);if(x&&!C)break;V.originalStart++,V.modifiedStart++}var S=[null];if(F<W.length-1&&this.ChangesOverlap(W[F],W[F+1],S)){W[F]=S[0],W.splice(F+1,1),F--;continue}}for(var T=W.length-1;T>=0;T--){var z=W[T],A=0,ue=0;if(T>0){var be=W[T-1];A=be.originalStart+be.originalLength,ue=be.modifiedStart+be.modifiedLength}for(var de=z.originalLength>0,ke=z.modifiedLength>0,he=0,ge=this._boundaryScore(z.originalStart,z.originalLength,z.modifiedStart,z.modifiedLength),ce=1;;ce++){var k=z.originalStart-ce,w=z.modifiedStart-ce;if(k<A||w<ue||de&&!this.OriginalElementsAreEqual(k,k+z.originalLength)||ke&&!this.ModifiedElementsAreEqual(w,w+z.modifiedLength))break;var B=k===A&&w===ue,Y=(B?5:0)+this._boundaryScore(k,z.originalLength,w,z.modifiedLength);Y>ge&&(ge=Y,he=ce)}z.originalStart-=he,z.modifiedStart-=he;var pe=[null];if(T>0&&this.ChangesOverlap(W[T-1],W[T],pe)){W[T-1]=pe[0],W.splice(T,1),T++;continue}}if(this._hasStrings)for(var me=1,I=W.length;me<I;me++){var we=W[me-1],Re=W[me],Oe=Re.originalStart-we.originalStart-we.originalLength,Pe=we.originalStart,Ne=Re.originalStart+Re.originalLength,Ke=Ne-Pe,Xe=we.modifiedStart,wt=Re.modifiedStart+Re.modifiedLength,Ct=wt-Xe;if(Oe<5&&Ke<20&&Ct<20){var bt=this._findBetterContiguousSequence(Pe,Ke,Xe,Ct,Oe);if(bt){var mt=Object(le.a)(bt,2),jt=mt[0],Je=mt[1];(jt!==we.originalStart+we.originalLength||Je!==we.modifiedStart+we.modifiedLength)&&(we.originalLength=jt-we.originalStart,we.modifiedLength=Je-we.modifiedStart,Re.originalStart=jt+Oe,Re.modifiedStart=Je+Oe,Re.originalLength=Ne-Re.originalStart,Re.modifiedLength=wt-Re.modifiedStart)}}}return W}},{key:"_findBetterContiguousSequence",value:function(W,F,V,N,U){if(F<U||N<U)return null;for(var d=W+F-U+1,j=V+N-U+1,C=0,x=0,S=0,T=W;T<d;T++)for(var z=V;z<j;z++){var A=this._contiguousSequenceScore(T,z,U);A>0&&A>C&&(C=A,x=T,S=z)}return C>0?[x,S]:null}},{key:"_contiguousSequenceScore",value:function(W,F,V){for(var N=0,U=0;U<V;U++){if(!this.ElementsAreEqual(W+U,F+U))return 0;N+=this._originalStringElements[W+U].length}return N}},{key:"_OriginalIsBoundary",value:function(W){return W<=0||W>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[W])}},{key:"_OriginalRegionIsBoundary",value:function(W,F){if(this._OriginalIsBoundary(W)||this._OriginalIsBoundary(W-1))return!0;if(F>0){var V=W+F;if(this._OriginalIsBoundary(V-1)||this._OriginalIsBoundary(V))return!0}return!1}},{key:"_ModifiedIsBoundary",value:function(W){return W<=0||W>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[W])}},{key:"_ModifiedRegionIsBoundary",value:function(W,F){if(this._ModifiedIsBoundary(W)||this._ModifiedIsBoundary(W-1))return!0;if(F>0){var V=W+F;if(this._ModifiedIsBoundary(V-1)||this._ModifiedIsBoundary(V))return!0}return!1}},{key:"_boundaryScore",value:function(W,F,V,N){var U=this._OriginalRegionIsBoundary(W,F)?1:0,d=this._ModifiedRegionIsBoundary(V,N)?1:0;return U+d}},{key:"ConcatenateChanges",value:function(W,F){var V=[];if(W.length===0||F.length===0)return F.length>0?F:W;if(this.ChangesOverlap(W[W.length-1],F[0],V)){var N=new Array(W.length+F.length-1);return Q.Copy(W,0,N,0,W.length-1),N[W.length-1]=V[0],Q.Copy(F,1,N,W.length,F.length-1),N}else{var U=new Array(W.length+F.length);return Q.Copy(W,0,U,0,W.length),Q.Copy(F,0,U,W.length,F.length),U}}},{key:"ChangesOverlap",value:function(W,F,V){if(y.Assert(W.originalStart<=F.originalStart,"Left change is not less than or equal to right change"),y.Assert(W.modifiedStart<=F.modifiedStart,"Left change is not less than or equal to right change"),W.originalStart+W.originalLength>=F.originalStart||W.modifiedStart+W.modifiedLength>=F.modifiedStart){var N=W.originalStart,U=W.originalLength,d=W.modifiedStart,j=W.modifiedLength;return W.originalStart+W.originalLength>=F.originalStart&&(U=F.originalStart+F.originalLength-W.originalStart),W.modifiedStart+W.modifiedLength>=F.modifiedStart&&(j=F.modifiedStart+F.modifiedLength-W.modifiedStart),V[0]=new ve(N,U,d,j),!0}else return V[0]=null,!1}},{key:"ClipDiagonalBound",value:function(W,F,V,N){if(W>=0&&W<N)return W;var U=V,d=N-V-1,j=F%2==0;if(W<0){var C=U%2==0;return j===C?0:1}else{var x=d%2==0;return j===x?N-1:N-2}}}],[{key:"_isStringArray",value:function(W){return W.length>0&&typeof W[0]=="string"}},{key:"_getElements",value:function(W){var F=W.getElements();if(ee._isStringArray(F)){for(var V=new Int32Array(F.length),N=0,U=F.length;N<U;N++)V[N]=Object(re.d)(F[N],0);return[F,V,!0]}return F instanceof Int32Array?[[],F,!1]:[[],new Int32Array(F),!1]}},{key:"_getStrictElement",value:function(W,F){return typeof W.getStrictElement=="function"?W.getStrictElement(F):null}}]),ee}()},H7XF:function(fn,K,a){"use strict";K.byteLength=y,K.toByteArray=L,K.fromByteArray=H;for(var le=[],De=[],E=typeof Uint8Array!="undefined"?Uint8Array:Array,ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",re=0,J=ve.length;re<J;++re)le[re]=ve[re],De[ve.charCodeAt(re)]=re;De["-".charCodeAt(0)]=62,De["_".charCodeAt(0)]=63;function $(W){var F=W.length;if(F%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var V=W.indexOf("=");V===-1&&(V=F);var N=V===F?0:4-V%4;return[V,N]}function y(W){var F=$(W),V=F[0],N=F[1];return(V+N)*3/4-N}function Q(W,F,V){return(F+V)*3/4-V}function L(W){var F,V=$(W),N=V[0],U=V[1],d=new E(Q(W,N,U)),j=0,C=U>0?N-4:N,x;for(x=0;x<C;x+=4)F=De[W.charCodeAt(x)]<<18|De[W.charCodeAt(x+1)]<<12|De[W.charCodeAt(x+2)]<<6|De[W.charCodeAt(x+3)],d[j++]=F>>16&255,d[j++]=F>>8&255,d[j++]=F&255;return U===2&&(F=De[W.charCodeAt(x)]<<2|De[W.charCodeAt(x+1)]>>4,d[j++]=F&255),U===1&&(F=De[W.charCodeAt(x)]<<10|De[W.charCodeAt(x+1)]<<4|De[W.charCodeAt(x+2)]>>2,d[j++]=F>>8&255,d[j++]=F&255),d}function ne(W){return le[W>>18&63]+le[W>>12&63]+le[W>>6&63]+le[W&63]}function ee(W,F,V){for(var N,U=[],d=F;d<V;d+=3)N=(W[d]<<16&16711680)+(W[d+1]<<8&65280)+(W[d+2]&255),U.push(ne(N));return U.join("")}function H(W){for(var F,V=W.length,N=V%3,U=[],d=16383,j=0,C=V-N;j<C;j+=d)U.push(ee(W,j,j+d>C?C:j+d));return N===1?(F=W[V-1],U.push(le[F>>2]+le[F<<4&63]+"==")):N===2&&(F=(W[V-2]<<8)+W[V-1],U.push(le[F>>10]+le[F>>4&63]+le[F<<2&63]+"=")),U.join("")}},"H9a+":function(fn,K,a){"use strict";a.d(K,"a",function(){return $}),a.d(K,"d",function(){return y}),a.d(K,"b",function(){return Q}),a.d(K,"c",function(){return L});var le=a("fWQN"),De=a("mtLc"),E=a("cGHE"),ve=a("aokT"),re=a("YNuV"),J=a("/UlZ"),$=function(){function ee(H,W,F,V,N){Object(le.a)(this,ee),this.editorId=H,this.model=W,this.configuration=F,this._linesCollection=V,this._coordinatesConverter=N,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}return Object(De.a)(ee,[{key:"_clearCachedModelDecorationsResolver",value:function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}},{key:"dispose",value:function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}},{key:"reset",value:function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}},{key:"onModelDecorationsChanged",value:function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}},{key:"onLineMappingChanged",value:function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}},{key:"_getOrCreateViewModelDecoration",value:function(W){var F=W.id,V=this._decorationsCache[F];if(!V){var N=W.range,U=W.options,d;if(U.isWholeLine){var j=this._coordinatesConverter.convertModelPositionToViewPosition(new E.a(N.startLineNumber,1),0),C=this._coordinatesConverter.convertModelPositionToViewPosition(new E.a(N.endLineNumber,this.model.getLineMaxColumn(N.endLineNumber)),1);d=new ve.a(j.lineNumber,j.column,C.lineNumber,C.column)}else d=this._coordinatesConverter.convertModelRangeToViewRange(N,1);V=new re.g(d,U),this._decorationsCache[F]=V}return V}},{key:"getMinimapDecorationsInRange",value:function(W){return this._getDecorationsInRange(W,!0,!1).decorations}},{key:"getDecorationsViewportData",value:function(W){var F=this._cachedModelDecorationsResolver!==null;return F=F&&W.equalsRange(this._cachedModelDecorationsResolverViewRange),F||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(W,!1,!1),this._cachedModelDecorationsResolverViewRange=W),this._cachedModelDecorationsResolver}},{key:"getInlineDecorationsOnLine",value:function(W){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,N=new ve.a(W,this._linesCollection.getViewLineMinColumn(W),W,this._linesCollection.getViewLineMaxColumn(W));return this._getDecorationsInRange(N,F,V).inlineDecorations[0]}},{key:"_getDecorationsInRange",value:function(W,F,V){for(var N=this._linesCollection.getDecorationsInRange(W,this.editorId,Object(J.o)(this.configuration.options),F,V),U=W.startLineNumber,d=W.endLineNumber,j=[],C=0,x=[],S=U;S<=d;S++)x[S-U]=[];for(var T=0,z=N.length;T<z;T++){var A=N[T],ue=A.options;if(!!y(this.model,A)){var be=this._getOrCreateViewModelDecoration(A),de=be.range;if(j[C++]=be,ue.inlineClassName)for(var ke=new re.a(de,ue.inlineClassName,ue.inlineClassNameAffectsLetterSpacing?3:0),he=Math.max(U,de.startLineNumber),ge=Math.min(d,de.endLineNumber),ce=he;ce<=ge;ce++)x[ce-U].push(ke);if(ue.beforeContentClassName&&U<=de.startLineNumber&&de.startLineNumber<=d){var k=new re.a(new ve.a(de.startLineNumber,de.startColumn,de.startLineNumber,de.startColumn),ue.beforeContentClassName,1);x[de.startLineNumber-U].push(k)}if(ue.afterContentClassName&&U<=de.endLineNumber&&de.endLineNumber<=d){var w=new re.a(new ve.a(de.endLineNumber,de.endColumn,de.endLineNumber,de.endColumn),ue.afterContentClassName,2);x[de.endLineNumber-U].push(w)}}}return{decorations:j,inlineDecorations:x}}}]),ee}();function y(ee,H){return!(H.options.hideInCommentTokens&&Q(ee,H)||H.options.hideInStringTokens&&L(ee,H))}function Q(ee,H){return ne(ee,H.range,function(W){return W===1})}function L(ee,H){return ne(ee,H.range,function(W){return W===2})}function ne(ee,H,W){for(var F=H.startLineNumber;F<=H.endLineNumber;F++)for(var V=ee.tokenization.getLineTokens(F),N=F===H.startLineNumber,U=F===H.endLineNumber,d=N?V.findTokenIndexAtOffset(H.startColumn-1):0;d<V.getCount();){if(U){var j=V.getStartOffset(d);if(j>H.endColumn-1)break}var C=W(V.getStandardTokenType(d));if(!C)return!1;d++}return!0}},HDXh:function(fn,K,a){"use strict";(function(le){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var De=a("H7XF"),E=a("kVK+"),ve=a("49sm");K.Buffer=y,K.SlowBuffer=U,K.INSPECT_MAX_BYTES=50,y.TYPED_ARRAY_SUPPORT=le.TYPED_ARRAY_SUPPORT!==void 0?le.TYPED_ARRAY_SUPPORT:re(),K.kMaxLength=J();function re(){try{var Te=new Uint8Array(1);return Te.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Te.foo()===42&&typeof Te.subarray=="function"&&Te.subarray(1,1).byteLength===0}catch(fe){return!1}}function J(){return y.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function $(Te,fe){if(J()<fe)throw new RangeError("Invalid typed array length");return y.TYPED_ARRAY_SUPPORT?(Te=new Uint8Array(fe),Te.__proto__=y.prototype):(Te===null&&(Te=new y(fe)),Te.length=fe),Te}function y(Te,fe,ye){if(!y.TYPED_ARRAY_SUPPORT&&!(this instanceof y))return new y(Te,fe,ye);if(typeof Te=="number"){if(typeof fe=="string")throw new Error("If encoding is specified then the first argument must be a string");return ee(this,Te)}return Q(this,Te,fe,ye)}y.poolSize=8192,y._augment=function(Te){return Te.__proto__=y.prototype,Te};function Q(Te,fe,ye,Ee){if(typeof fe=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&fe instanceof ArrayBuffer?F(Te,fe,ye,Ee):typeof fe=="string"?H(Te,fe,ye):V(Te,fe)}y.from=function(Te,fe,ye){return Q(null,Te,fe,ye)},y.TYPED_ARRAY_SUPPORT&&(y.prototype.__proto__=Uint8Array.prototype,y.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&y[Symbol.species]===y&&Object.defineProperty(y,Symbol.species,{value:null,configurable:!0}));function L(Te){if(typeof Te!="number")throw new TypeError('"size" argument must be a number');if(Te<0)throw new RangeError('"size" argument must not be negative')}function ne(Te,fe,ye,Ee){return L(fe),fe<=0?$(Te,fe):ye!==void 0?typeof Ee=="string"?$(Te,fe).fill(ye,Ee):$(Te,fe).fill(ye):$(Te,fe)}y.alloc=function(Te,fe,ye){return ne(null,Te,fe,ye)};function ee(Te,fe){if(L(fe),Te=$(Te,fe<0?0:N(fe)|0),!y.TYPED_ARRAY_SUPPORT)for(var ye=0;ye<fe;++ye)Te[ye]=0;return Te}y.allocUnsafe=function(Te){return ee(null,Te)},y.allocUnsafeSlow=function(Te){return ee(null,Te)};function H(Te,fe,ye){if((typeof ye!="string"||ye==="")&&(ye="utf8"),!y.isEncoding(ye))throw new TypeError('"encoding" must be a valid string encoding');var Ee=d(fe,ye)|0;Te=$(Te,Ee);var Ge=Te.write(fe,ye);return Ge!==Ee&&(Te=Te.slice(0,Ge)),Te}function W(Te,fe){var ye=fe.length<0?0:N(fe.length)|0;Te=$(Te,ye);for(var Ee=0;Ee<ye;Ee+=1)Te[Ee]=fe[Ee]&255;return Te}function F(Te,fe,ye,Ee){if(fe.byteLength,ye<0||fe.byteLength<ye)throw new RangeError("'offset' is out of bounds");if(fe.byteLength<ye+(Ee||0))throw new RangeError("'length' is out of bounds");return ye===void 0&&Ee===void 0?fe=new Uint8Array(fe):Ee===void 0?fe=new Uint8Array(fe,ye):fe=new Uint8Array(fe,ye,Ee),y.TYPED_ARRAY_SUPPORT?(Te=fe,Te.__proto__=y.prototype):Te=W(Te,fe),Te}function V(Te,fe){if(y.isBuffer(fe)){var ye=N(fe.length)|0;return Te=$(Te,ye),Te.length===0||fe.copy(Te,0,0,ye),Te}if(fe){if(typeof ArrayBuffer!="undefined"&&fe.buffer instanceof ArrayBuffer||"length"in fe)return typeof fe.length!="number"||Wt(fe.length)?$(Te,0):W(Te,fe);if(fe.type==="Buffer"&&ve(fe.data))return W(Te,fe.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function N(Te){if(Te>=J())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+J().toString(16)+" bytes");return Te|0}function U(Te){return+Te!=Te&&(Te=0),y.alloc(+Te)}y.isBuffer=function(fe){return!!(fe!=null&&fe._isBuffer)},y.compare=function(fe,ye){if(!y.isBuffer(fe)||!y.isBuffer(ye))throw new TypeError("Arguments must be Buffers");if(fe===ye)return 0;for(var Ee=fe.length,Ge=ye.length,$e=0,We=Math.min(Ee,Ge);$e<We;++$e)if(fe[$e]!==ye[$e]){Ee=fe[$e],Ge=ye[$e];break}return Ee<Ge?-1:Ge<Ee?1:0},y.isEncoding=function(fe){switch(String(fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(fe,ye){if(!ve(fe))throw new TypeError('"list" argument must be an Array of Buffers');if(fe.length===0)return y.alloc(0);var Ee;if(ye===void 0)for(ye=0,Ee=0;Ee<fe.length;++Ee)ye+=fe[Ee].length;var Ge=y.allocUnsafe(ye),$e=0;for(Ee=0;Ee<fe.length;++Ee){var We=fe[Ee];if(!y.isBuffer(We))throw new TypeError('"list" argument must be an Array of Buffers');We.copy(Ge,$e),$e+=We.length}return Ge};function d(Te,fe){if(y.isBuffer(Te))return Te.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Te)||Te instanceof ArrayBuffer))return Te.byteLength;typeof Te!="string"&&(Te=""+Te);var ye=Te.length;if(ye===0)return 0;for(var Ee=!1;;)switch(fe){case"ascii":case"latin1":case"binary":return ye;case"utf8":case"utf-8":case void 0:return Ct(Te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye*2;case"hex":return ye>>>1;case"base64":return jt(Te).length;default:if(Ee)return Ct(Te).length;fe=(""+fe).toLowerCase(),Ee=!0}}y.byteLength=d;function j(Te,fe,ye){var Ee=!1;if((fe===void 0||fe<0)&&(fe=0),fe>this.length||((ye===void 0||ye>this.length)&&(ye=this.length),ye<=0)||(ye>>>=0,fe>>>=0,ye<=fe))return"";for(Te||(Te="utf8");;)switch(Te){case"hex":return B(this,fe,ye);case"utf8":case"utf-8":return he(this,fe,ye);case"ascii":return k(this,fe,ye);case"latin1":case"binary":return w(this,fe,ye);case"base64":return ke(this,fe,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,fe,ye);default:if(Ee)throw new TypeError("Unknown encoding: "+Te);Te=(Te+"").toLowerCase(),Ee=!0}}y.prototype._isBuffer=!0;function C(Te,fe,ye){var Ee=Te[fe];Te[fe]=Te[ye],Te[ye]=Ee}y.prototype.swap16=function(){var fe=this.length;if(fe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ye=0;ye<fe;ye+=2)C(this,ye,ye+1);return this},y.prototype.swap32=function(){var fe=this.length;if(fe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ye=0;ye<fe;ye+=4)C(this,ye,ye+3),C(this,ye+1,ye+2);return this},y.prototype.swap64=function(){var fe=this.length;if(fe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ye=0;ye<fe;ye+=8)C(this,ye,ye+7),C(this,ye+1,ye+6),C(this,ye+2,ye+5),C(this,ye+3,ye+4);return this},y.prototype.toString=function(){var fe=this.length|0;return fe===0?"":arguments.length===0?he(this,0,fe):j.apply(this,arguments)},y.prototype.equals=function(fe){if(!y.isBuffer(fe))throw new TypeError("Argument must be a Buffer");return this===fe?!0:y.compare(this,fe)===0},y.prototype.inspect=function(){var fe="",ye=K.INSPECT_MAX_BYTES;return this.length>0&&(fe=this.toString("hex",0,ye).match(/.{2}/g).join(" "),this.length>ye&&(fe+=" ... ")),"<Buffer "+fe+">"},y.prototype.compare=function(fe,ye,Ee,Ge,$e){if(!y.isBuffer(fe))throw new TypeError("Argument must be a Buffer");if(ye===void 0&&(ye=0),Ee===void 0&&(Ee=fe?fe.length:0),Ge===void 0&&(Ge=0),$e===void 0&&($e=this.length),ye<0||Ee>fe.length||Ge<0||$e>this.length)throw new RangeError("out of range index");if(Ge>=$e&&ye>=Ee)return 0;if(Ge>=$e)return-1;if(ye>=Ee)return 1;if(ye>>>=0,Ee>>>=0,Ge>>>=0,$e>>>=0,this===fe)return 0;for(var We=$e-Ge,it=Ee-ye,Fe=Math.min(We,it),He=this.slice(Ge,$e),Ye=fe.slice(ye,Ee),ot=0;ot<Fe;++ot)if(He[ot]!==Ye[ot]){We=He[ot],it=Ye[ot];break}return We<it?-1:it<We?1:0};function x(Te,fe,ye,Ee,Ge){if(Te.length===0)return-1;if(typeof ye=="string"?(Ee=ye,ye=0):ye>2147483647?ye=2147483647:ye<-2147483648&&(ye=-2147483648),ye=+ye,isNaN(ye)&&(ye=Ge?0:Te.length-1),ye<0&&(ye=Te.length+ye),ye>=Te.length){if(Ge)return-1;ye=Te.length-1}else if(ye<0)if(Ge)ye=0;else return-1;if(typeof fe=="string"&&(fe=y.from(fe,Ee)),y.isBuffer(fe))return fe.length===0?-1:S(Te,fe,ye,Ee,Ge);if(typeof fe=="number")return fe=fe&255,y.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Ge?Uint8Array.prototype.indexOf.call(Te,fe,ye):Uint8Array.prototype.lastIndexOf.call(Te,fe,ye):S(Te,[fe],ye,Ee,Ge);throw new TypeError("val must be string, number or Buffer")}function S(Te,fe,ye,Ee,Ge){var $e=1,We=Te.length,it=fe.length;if(Ee!==void 0&&(Ee=String(Ee).toLowerCase(),Ee==="ucs2"||Ee==="ucs-2"||Ee==="utf16le"||Ee==="utf-16le")){if(Te.length<2||fe.length<2)return-1;$e=2,We/=2,it/=2,ye/=2}function Fe(gt,Ft){return $e===1?gt[Ft]:gt.readUInt16BE(Ft*$e)}var He;if(Ge){var Ye=-1;for(He=ye;He<We;He++)if(Fe(Te,He)===Fe(fe,Ye===-1?0:He-Ye)){if(Ye===-1&&(Ye=He),He-Ye+1===it)return Ye*$e}else Ye!==-1&&(He-=He-Ye),Ye=-1}else for(ye+it>We&&(ye=We-it),He=ye;He>=0;He--){for(var ot=!0,Kt=0;Kt<it;Kt++)if(Fe(Te,He+Kt)!==Fe(fe,Kt)){ot=!1;break}if(ot)return He}return-1}y.prototype.includes=function(fe,ye,Ee){return this.indexOf(fe,ye,Ee)!==-1},y.prototype.indexOf=function(fe,ye,Ee){return x(this,fe,ye,Ee,!0)},y.prototype.lastIndexOf=function(fe,ye,Ee){return x(this,fe,ye,Ee,!1)};function T(Te,fe,ye,Ee){ye=Number(ye)||0;var Ge=Te.length-ye;Ee?(Ee=Number(Ee),Ee>Ge&&(Ee=Ge)):Ee=Ge;var $e=fe.length;if($e%2!=0)throw new TypeError("Invalid hex string");Ee>$e/2&&(Ee=$e/2);for(var We=0;We<Ee;++We){var it=parseInt(fe.substr(We*2,2),16);if(isNaN(it))return We;Te[ye+We]=it}return We}function z(Te,fe,ye,Ee){return Je(Ct(fe,Te.length-ye),Te,ye,Ee)}function A(Te,fe,ye,Ee){return Je(bt(fe),Te,ye,Ee)}function ue(Te,fe,ye,Ee){return A(Te,fe,ye,Ee)}function be(Te,fe,ye,Ee){return Je(jt(fe),Te,ye,Ee)}function de(Te,fe,ye,Ee){return Je(mt(fe,Te.length-ye),Te,ye,Ee)}y.prototype.write=function(fe,ye,Ee,Ge){if(ye===void 0)Ge="utf8",Ee=this.length,ye=0;else if(Ee===void 0&&typeof ye=="string")Ge=ye,Ee=this.length,ye=0;else if(isFinite(ye))ye=ye|0,isFinite(Ee)?(Ee=Ee|0,Ge===void 0&&(Ge="utf8")):(Ge=Ee,Ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var $e=this.length-ye;if((Ee===void 0||Ee>$e)&&(Ee=$e),fe.length>0&&(Ee<0||ye<0)||ye>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ge||(Ge="utf8");for(var We=!1;;)switch(Ge){case"hex":return T(this,fe,ye,Ee);case"utf8":case"utf-8":return z(this,fe,ye,Ee);case"ascii":return A(this,fe,ye,Ee);case"latin1":case"binary":return ue(this,fe,ye,Ee);case"base64":return be(this,fe,ye,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,fe,ye,Ee);default:if(We)throw new TypeError("Unknown encoding: "+Ge);Ge=(""+Ge).toLowerCase(),We=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ke(Te,fe,ye){return fe===0&&ye===Te.length?De.fromByteArray(Te):De.fromByteArray(Te.slice(fe,ye))}function he(Te,fe,ye){ye=Math.min(Te.length,ye);for(var Ee=[],Ge=fe;Ge<ye;){var $e=Te[Ge],We=null,it=$e>239?4:$e>223?3:$e>191?2:1;if(Ge+it<=ye){var Fe,He,Ye,ot;switch(it){case 1:$e<128&&(We=$e);break;case 2:Fe=Te[Ge+1],(Fe&192)==128&&(ot=($e&31)<<6|Fe&63,ot>127&&(We=ot));break;case 3:Fe=Te[Ge+1],He=Te[Ge+2],(Fe&192)==128&&(He&192)==128&&(ot=($e&15)<<12|(Fe&63)<<6|He&63,ot>2047&&(ot<55296||ot>57343)&&(We=ot));break;case 4:Fe=Te[Ge+1],He=Te[Ge+2],Ye=Te[Ge+3],(Fe&192)==128&&(He&192)==128&&(Ye&192)==128&&(ot=($e&15)<<18|(Fe&63)<<12|(He&63)<<6|Ye&63,ot>65535&&ot<1114112&&(We=ot))}}We===null?(We=65533,it=1):We>65535&&(We-=65536,Ee.push(We>>>10&1023|55296),We=56320|We&1023),Ee.push(We),Ge+=it}return ce(Ee)}var ge=4096;function ce(Te){var fe=Te.length;if(fe<=ge)return String.fromCharCode.apply(String,Te);for(var ye="",Ee=0;Ee<fe;)ye+=String.fromCharCode.apply(String,Te.slice(Ee,Ee+=ge));return ye}function k(Te,fe,ye){var Ee="";ye=Math.min(Te.length,ye);for(var Ge=fe;Ge<ye;++Ge)Ee+=String.fromCharCode(Te[Ge]&127);return Ee}function w(Te,fe,ye){var Ee="";ye=Math.min(Te.length,ye);for(var Ge=fe;Ge<ye;++Ge)Ee+=String.fromCharCode(Te[Ge]);return Ee}function B(Te,fe,ye){var Ee=Te.length;(!fe||fe<0)&&(fe=0),(!ye||ye<0||ye>Ee)&&(ye=Ee);for(var Ge="",$e=fe;$e<ye;++$e)Ge+=wt(Te[$e]);return Ge}function Y(Te,fe,ye){for(var Ee=Te.slice(fe,ye),Ge="",$e=0;$e<Ee.length;$e+=2)Ge+=String.fromCharCode(Ee[$e]+Ee[$e+1]*256);return Ge}y.prototype.slice=function(fe,ye){var Ee=this.length;fe=~~fe,ye=ye===void 0?Ee:~~ye,fe<0?(fe+=Ee,fe<0&&(fe=0)):fe>Ee&&(fe=Ee),ye<0?(ye+=Ee,ye<0&&(ye=0)):ye>Ee&&(ye=Ee),ye<fe&&(ye=fe);var Ge;if(y.TYPED_ARRAY_SUPPORT)Ge=this.subarray(fe,ye),Ge.__proto__=y.prototype;else{var $e=ye-fe;Ge=new y($e,void 0);for(var We=0;We<$e;++We)Ge[We]=this[We+fe]}return Ge};function pe(Te,fe,ye){if(Te%1!=0||Te<0)throw new RangeError("offset is not uint");if(Te+fe>ye)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUIntLE=function(fe,ye,Ee){fe=fe|0,ye=ye|0,Ee||pe(fe,ye,this.length);for(var Ge=this[fe],$e=1,We=0;++We<ye&&($e*=256);)Ge+=this[fe+We]*$e;return Ge},y.prototype.readUIntBE=function(fe,ye,Ee){fe=fe|0,ye=ye|0,Ee||pe(fe,ye,this.length);for(var Ge=this[fe+--ye],$e=1;ye>0&&($e*=256);)Ge+=this[fe+--ye]*$e;return Ge},y.prototype.readUInt8=function(fe,ye){return ye||pe(fe,1,this.length),this[fe]},y.prototype.readUInt16LE=function(fe,ye){return ye||pe(fe,2,this.length),this[fe]|this[fe+1]<<8},y.prototype.readUInt16BE=function(fe,ye){return ye||pe(fe,2,this.length),this[fe]<<8|this[fe+1]},y.prototype.readUInt32LE=function(fe,ye){return ye||pe(fe,4,this.length),(this[fe]|this[fe+1]<<8|this[fe+2]<<16)+this[fe+3]*16777216},y.prototype.readUInt32BE=function(fe,ye){return ye||pe(fe,4,this.length),this[fe]*16777216+(this[fe+1]<<16|this[fe+2]<<8|this[fe+3])},y.prototype.readIntLE=function(fe,ye,Ee){fe=fe|0,ye=ye|0,Ee||pe(fe,ye,this.length);for(var Ge=this[fe],$e=1,We=0;++We<ye&&($e*=256);)Ge+=this[fe+We]*$e;return $e*=128,Ge>=$e&&(Ge-=Math.pow(2,8*ye)),Ge},y.prototype.readIntBE=function(fe,ye,Ee){fe=fe|0,ye=ye|0,Ee||pe(fe,ye,this.length);for(var Ge=ye,$e=1,We=this[fe+--Ge];Ge>0&&($e*=256);)We+=this[fe+--Ge]*$e;return $e*=128,We>=$e&&(We-=Math.pow(2,8*ye)),We},y.prototype.readInt8=function(fe,ye){return ye||pe(fe,1,this.length),this[fe]&128?(255-this[fe]+1)*-1:this[fe]},y.prototype.readInt16LE=function(fe,ye){ye||pe(fe,2,this.length);var Ee=this[fe]|this[fe+1]<<8;return Ee&32768?Ee|4294901760:Ee},y.prototype.readInt16BE=function(fe,ye){ye||pe(fe,2,this.length);var Ee=this[fe+1]|this[fe]<<8;return Ee&32768?Ee|4294901760:Ee},y.prototype.readInt32LE=function(fe,ye){return ye||pe(fe,4,this.length),this[fe]|this[fe+1]<<8|this[fe+2]<<16|this[fe+3]<<24},y.prototype.readInt32BE=function(fe,ye){return ye||pe(fe,4,this.length),this[fe]<<24|this[fe+1]<<16|this[fe+2]<<8|this[fe+3]},y.prototype.readFloatLE=function(fe,ye){return ye||pe(fe,4,this.length),E.read(this,fe,!0,23,4)},y.prototype.readFloatBE=function(fe,ye){return ye||pe(fe,4,this.length),E.read(this,fe,!1,23,4)},y.prototype.readDoubleLE=function(fe,ye){return ye||pe(fe,8,this.length),E.read(this,fe,!0,52,8)},y.prototype.readDoubleBE=function(fe,ye){return ye||pe(fe,8,this.length),E.read(this,fe,!1,52,8)};function me(Te,fe,ye,Ee,Ge,$e){if(!y.isBuffer(Te))throw new TypeError('"buffer" argument must be a Buffer instance');if(fe>Ge||fe<$e)throw new RangeError('"value" argument is out of bounds');if(ye+Ee>Te.length)throw new RangeError("Index out of range")}y.prototype.writeUIntLE=function(fe,ye,Ee,Ge){if(fe=+fe,ye=ye|0,Ee=Ee|0,!Ge){var $e=Math.pow(2,8*Ee)-1;me(this,fe,ye,Ee,$e,0)}var We=1,it=0;for(this[ye]=fe&255;++it<Ee&&(We*=256);)this[ye+it]=fe/We&255;return ye+Ee},y.prototype.writeUIntBE=function(fe,ye,Ee,Ge){if(fe=+fe,ye=ye|0,Ee=Ee|0,!Ge){var $e=Math.pow(2,8*Ee)-1;me(this,fe,ye,Ee,$e,0)}var We=Ee-1,it=1;for(this[ye+We]=fe&255;--We>=0&&(it*=256);)this[ye+We]=fe/it&255;return ye+Ee},y.prototype.writeUInt8=function(fe,ye,Ee){return fe=+fe,ye=ye|0,Ee||me(this,fe,ye,1,255,0),y.TYPED_ARRAY_SUPPORT||(fe=Math.floor(fe)),this[ye]=fe&255,ye+1};function I(Te,fe,ye,Ee){fe<0&&(fe=65535+fe+1);for(var Ge=0,$e=Math.min(Te.length-ye,2);Ge<$e;++Ge)Te[ye+Ge]=(fe&255<<8*(Ee?Ge:1-Ge))>>>(Ee?Ge:1-Ge)*8}y.prototype.writeUInt16LE=function(fe,ye,Ee){return fe=+fe,ye=ye|0,Ee||me(this,fe,ye,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[ye]=fe&255,this[ye+1]=fe>>>8):I(this,fe,ye,!0),ye+2},y.prototype.writeUInt16BE=function(fe,ye,Ee){return fe=+fe,ye=ye|0,Ee||me(this,fe,ye,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[ye]=fe>>>8,this[ye+1]=fe&255):I(this,fe,ye,!1),ye+2};function we(Te,fe,ye,Ee){fe<0&&(fe=4294967295+fe+1);for(var Ge=0,$e=Math.min(Te.length-ye,4);Ge<$e;++Ge)Te[ye+Ge]=fe>>>(Ee?Ge:3-Ge)*8&255}y.prototype.writeUInt32LE=function(fe,ye,Ee){return fe=+fe,ye=ye|0,Ee||me(this,fe,ye,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[ye+3]=fe>>>24,this[ye+2]=fe>>>16,this[ye+1]=fe>>>8,this[ye]=fe&255):we(this,fe,ye,!0),ye+4},y.prototype.writeUInt32BE=function(fe,ye,Ee){return fe=+fe,ye=ye|0,Ee||me(this,fe,ye,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[ye]=fe>>>24,this[ye+1]=fe>>>16,this[ye+2]=fe>>>8,this[ye+3]=fe&255):we(this,fe,ye,!1),ye+4},y.prototype.writeIntLE=function(fe,ye,Ee,Ge){if(fe=+fe,ye=ye|0,!Ge){var $e=Math.pow(2,8*Ee-1);me(this,fe,ye,Ee,$e-1,-$e)}var We=0,it=1,Fe=0;for(this[ye]=fe&255;++We<Ee&&(it*=256);)fe<0&&Fe===0&&this[ye+We-1]!==0&&(Fe=1),this[ye+We]=(fe/it>>0)-Fe&255;return ye+Ee},y.prototype.writeIntBE=function(fe,ye,Ee,Ge){if(fe=+fe,ye=ye|0,!Ge){var $e=Math.pow(2,8*Ee-1);me(this,fe,ye,Ee,$e-1,-$e)}var We=Ee-1,it=1,Fe=0;for(this[ye+We]=fe&255;--We>=0&&(it*=256);)fe<0&&Fe===0&&this[ye+We+1]!==0&&(Fe=1),this[ye+We]=(fe/it>>0)-Fe&255;return ye+Ee},y.prototype.writeInt8=function(fe,ye,Ee){return fe=+fe,ye=ye|0,Ee||me(this,fe,ye,1,127,-128),y.TYPED_ARRAY_SUPPORT||(fe=Math.floor(fe)),fe<0&&(fe=255+fe+1),this[ye]=fe&255,ye+1},y.prototype.writeInt16LE=function(fe,ye,Ee){return fe=+fe,ye=ye|0,Ee||me(this,fe,ye,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[ye]=fe&255,this[ye+1]=fe>>>8):I(this,fe,ye,!0),ye+2},y.prototype.writeInt16BE=function(fe,ye,Ee){return fe=+fe,ye=ye|0,Ee||me(this,fe,ye,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[ye]=fe>>>8,this[ye+1]=fe&255):I(this,fe,ye,!1),ye+2},y.prototype.writeInt32LE=function(fe,ye,Ee){return fe=+fe,ye=ye|0,Ee||me(this,fe,ye,4,2147483647,-2147483648),y.TYPED_ARRAY_SUPPORT?(this[ye]=fe&255,this[ye+1]=fe>>>8,this[ye+2]=fe>>>16,this[ye+3]=fe>>>24):we(this,fe,ye,!0),ye+4},y.prototype.writeInt32BE=function(fe,ye,Ee){return fe=+fe,ye=ye|0,Ee||me(this,fe,ye,4,2147483647,-2147483648),fe<0&&(fe=4294967295+fe+1),y.TYPED_ARRAY_SUPPORT?(this[ye]=fe>>>24,this[ye+1]=fe>>>16,this[ye+2]=fe>>>8,this[ye+3]=fe&255):we(this,fe,ye,!1),ye+4};function Re(Te,fe,ye,Ee,Ge,$e){if(ye+Ee>Te.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("Index out of range")}function Oe(Te,fe,ye,Ee,Ge){return Ge||Re(Te,fe,ye,4,34028234663852886e22,-34028234663852886e22),E.write(Te,fe,ye,Ee,23,4),ye+4}y.prototype.writeFloatLE=function(fe,ye,Ee){return Oe(this,fe,ye,!0,Ee)},y.prototype.writeFloatBE=function(fe,ye,Ee){return Oe(this,fe,ye,!1,Ee)};function Pe(Te,fe,ye,Ee,Ge){return Ge||Re(Te,fe,ye,8,17976931348623157e292,-17976931348623157e292),E.write(Te,fe,ye,Ee,52,8),ye+8}y.prototype.writeDoubleLE=function(fe,ye,Ee){return Pe(this,fe,ye,!0,Ee)},y.prototype.writeDoubleBE=function(fe,ye,Ee){return Pe(this,fe,ye,!1,Ee)},y.prototype.copy=function(fe,ye,Ee,Ge){if(Ee||(Ee=0),!Ge&&Ge!==0&&(Ge=this.length),ye>=fe.length&&(ye=fe.length),ye||(ye=0),Ge>0&&Ge<Ee&&(Ge=Ee),Ge===Ee||fe.length===0||this.length===0)return 0;if(ye<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("sourceStart out of bounds");if(Ge<0)throw new RangeError("sourceEnd out of bounds");Ge>this.length&&(Ge=this.length),fe.length-ye<Ge-Ee&&(Ge=fe.length-ye+Ee);var $e=Ge-Ee,We;if(this===fe&&Ee<ye&&ye<Ge)for(We=$e-1;We>=0;--We)fe[We+ye]=this[We+Ee];else if($e<1e3||!y.TYPED_ARRAY_SUPPORT)for(We=0;We<$e;++We)fe[We+ye]=this[We+Ee];else Uint8Array.prototype.set.call(fe,this.subarray(Ee,Ee+$e),ye);return $e},y.prototype.fill=function(fe,ye,Ee,Ge){if(typeof fe=="string"){if(typeof ye=="string"?(Ge=ye,ye=0,Ee=this.length):typeof Ee=="string"&&(Ge=Ee,Ee=this.length),fe.length===1){var $e=fe.charCodeAt(0);$e<256&&(fe=$e)}if(Ge!==void 0&&typeof Ge!="string")throw new TypeError("encoding must be a string");if(typeof Ge=="string"&&!y.isEncoding(Ge))throw new TypeError("Unknown encoding: "+Ge)}else typeof fe=="number"&&(fe=fe&255);if(ye<0||this.length<ye||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=ye)return this;ye=ye>>>0,Ee=Ee===void 0?this.length:Ee>>>0,fe||(fe=0);var We;if(typeof fe=="number")for(We=ye;We<Ee;++We)this[We]=fe;else{var it=y.isBuffer(fe)?fe:Ct(new y(fe,Ge).toString()),Fe=it.length;for(We=0;We<Ee-ye;++We)this[We+ye]=it[We%Fe]}return this};var Ne=/[^+\/0-9A-Za-z-_]/g;function Ke(Te){if(Te=Xe(Te).replace(Ne,""),Te.length<2)return"";for(;Te.length%4!=0;)Te=Te+"=";return Te}function Xe(Te){return Te.trim?Te.trim():Te.replace(/^\s+|\s+$/g,"")}function wt(Te){return Te<16?"0"+Te.toString(16):Te.toString(16)}function Ct(Te,fe){fe=fe||Infinity;for(var ye,Ee=Te.length,Ge=null,$e=[],We=0;We<Ee;++We){if(ye=Te.charCodeAt(We),ye>55295&&ye<57344){if(!Ge){if(ye>56319){(fe-=3)>-1&&$e.push(239,191,189);continue}else if(We+1===Ee){(fe-=3)>-1&&$e.push(239,191,189);continue}Ge=ye;continue}if(ye<56320){(fe-=3)>-1&&$e.push(239,191,189),Ge=ye;continue}ye=(Ge-55296<<10|ye-56320)+65536}else Ge&&(fe-=3)>-1&&$e.push(239,191,189);if(Ge=null,ye<128){if((fe-=1)<0)break;$e.push(ye)}else if(ye<2048){if((fe-=2)<0)break;$e.push(ye>>6|192,ye&63|128)}else if(ye<65536){if((fe-=3)<0)break;$e.push(ye>>12|224,ye>>6&63|128,ye&63|128)}else if(ye<1114112){if((fe-=4)<0)break;$e.push(ye>>18|240,ye>>12&63|128,ye>>6&63|128,ye&63|128)}else throw new Error("Invalid code point")}return $e}function bt(Te){for(var fe=[],ye=0;ye<Te.length;++ye)fe.push(Te.charCodeAt(ye)&255);return fe}function mt(Te,fe){for(var ye,Ee,Ge,$e=[],We=0;We<Te.length&&!((fe-=2)<0);++We)ye=Te.charCodeAt(We),Ee=ye>>8,Ge=ye%256,$e.push(Ge),$e.push(Ee);return $e}function jt(Te){return De.toByteArray(Ke(Te))}function Je(Te,fe,ye,Ee){for(var Ge=0;Ge<Ee&&!(Ge+ye>=fe.length||Ge>=Te.length);++Ge)fe[Ge+ye]=Te[Ge];return Ge}function Wt(Te){return Te!==Te}}).call(this,a("IyRk"))},HHK3:function(fn,K,a){"use strict";a.d(K,"b",function(){return T}),a.d(K,"c",function(){return z}),a.d(K,"a",function(){return A});var le=a("w4Tj"),De=a("oZsa"),E=a("yKVA"),ve=a("879j"),re=a("rAM+"),J=a("fWQN"),$=a("mtLc"),y=a("/cxE"),Q=a("N0LK"),L=a("LCkn"),ne=a("zN7H"),ee=a("aokT"),H=a("gCVg"),W=function(){function he(ge,ce,k){Object(J.a)(this,he),this._range=ge,this._charBeforeSelection=ce,this._charAfterSelection=k}return Object($.a)(he,[{key:"getEditOperations",value:function(ce,k){k.addTrackedEditOperation(new ee.a(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),k.addTrackedEditOperation(new ee.a(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}},{key:"computeCursorState",value:function(ce,k){var w=k.getInverseEditOperations(),B=w[0].range,Y=w[1].range;return new H.a(B.endLineNumber,B.endColumn,Y.endLineNumber,Y.endColumn-this._charAfterSelection.length)}}]),he}(),F=function(){function he(ge,ce,k){Object(J.a)(this,he),this._position=ge,this._text=ce,this._charAfter=k}return Object($.a)(he,[{key:"getEditOperations",value:function(ce,k){k.addTrackedEditOperation(new ee.a(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}},{key:"computeCursorState",value:function(ce,k){var w=k.getInverseEditOperations(),B=w[0].range;return new H.a(B.endLineNumber,B.startColumn,B.endLineNumber,B.endColumn-this._charAfter.length)}}]),he}(),V=a("LLum"),N=a("Vk6M"),U=a("cGHE"),d=a("PXCW"),j=a("AYRw"),C=a("p1iI"),x=a("oIHe"),S=a("s3yj"),T=function(){function he(){Object(J.a)(this,he)}return Object($.a)(he,null,[{key:"indent",value:function(ce,k,w){if(k===null||w===null)return[];for(var B=[],Y=0,pe=w.length;Y<pe;Y++)B[Y]=new ne.a(w[Y],{isUnshift:!1,tabSize:ce.tabSize,indentSize:ce.indentSize,insertSpaces:ce.insertSpaces,useTabStops:ce.useTabStops,autoIndent:ce.autoIndent},ce.languageConfigurationService);return B}},{key:"outdent",value:function(ce,k,w){for(var B=[],Y=0,pe=w.length;Y<pe;Y++)B[Y]=new ne.a(w[Y],{isUnshift:!0,tabSize:ce.tabSize,indentSize:ce.indentSize,insertSpaces:ce.insertSpaces,useTabStops:ce.useTabStops,autoIndent:ce.autoIndent},ce.languageConfigurationService);return B}},{key:"shiftIndent",value:function(ce,k,w){return w=w||1,ne.a.shiftIndent(k,k.length+w,ce.tabSize,ce.indentSize,ce.insertSpaces)}},{key:"unshiftIndent",value:function(ce,k,w){return w=w||1,ne.a.unshiftIndent(k,k.length+w,ce.tabSize,ce.indentSize,ce.insertSpaces)}},{key:"_distributedPaste",value:function(ce,k,w,B){for(var Y=[],pe=0,me=w.length;pe<me;pe++)Y[pe]=new L.a(w[pe],B[pe]);return new V.c(0,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}},{key:"_simplePaste",value:function(ce,k,w,B,Y){for(var pe=[],me=0,I=w.length;me<I;me++){var we=w[me],Re=we.getPosition();if(Y&&!we.isEmpty()&&(Y=!1),Y&&B.indexOf(`
`)!==B.length-1&&(Y=!1),Y){var Oe=new ee.a(Re.lineNumber,1,Re.lineNumber,1);pe[me]=new L.b(Oe,B,we,!0)}else pe[me]=new L.a(we,B)}return new V.c(0,pe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}},{key:"_distributePasteToCursors",value:function(ce,k,w,B,Y){if(B||k.length===1)return null;if(Y&&Y.length===k.length)return Y;if(ce.multiCursorPaste==="spread"){w.charCodeAt(w.length-1)===10&&(w=w.substr(0,w.length-1)),w.charCodeAt(w.length-1)===13&&(w=w.substr(0,w.length-1));var pe=Q.S(w);if(pe.length===k.length)return pe}return null}},{key:"paste",value:function(ce,k,w,B,Y,pe){var me=this._distributePasteToCursors(ce,w,B,Y,pe);return me?(w=w.sort(ee.a.compareRangesUsingStarts),this._distributedPaste(ce,k,w,me)):this._simplePaste(ce,k,w,B,Y)}},{key:"_goodIndentForLine",value:function(ce,k,w){var B=null,Y="",pe=Object(x.e)(ce.autoIndent,k,w,!1,ce.languageConfigurationService);if(pe)B=pe.action,Y=pe.indentation;else if(w>1){var me;for(me=w-1;me>=1;me--){var I=k.getLineContent(me),we=Q.J(I);if(we>=0)break}if(me<1)return null;var Re=k.getLineMaxColumn(me),Oe=Object(S.a)(ce.autoIndent,k,new ee.a(me,Re,me,Re),ce.languageConfigurationService);Oe&&(Y=Oe.indentation+Oe.appendText)}return B&&(B===d.b.Indent&&(Y=he.shiftIndent(ce,Y)),B===d.b.Outdent&&(Y=he.unshiftIndent(ce,Y)),Y=ce.normalizeIndentation(Y)),Y||null}},{key:"_replaceJumpToNextIndent",value:function(ce,k,w,B){var Y="",pe=w.getStartPosition();if(ce.insertSpaces)for(var me=ce.visibleColumnFromColumn(k,pe),I=ce.indentSize,we=I-me%I,Re=0;Re<we;Re++)Y+=" ";else Y="	";return new L.a(w,Y,B)}},{key:"tab",value:function(ce,k,w){for(var B=[],Y=0,pe=w.length;Y<pe;Y++){var me=w[Y];if(me.isEmpty()){var I=k.getLineContent(me.startLineNumber);if(/^\s*$/.test(I)&&k.tokenization.isCheapToTokenize(me.startLineNumber)){var we=this._goodIndentForLine(ce,k,me.startLineNumber);we=we||"	";var Re=ce.normalizeIndentation(we);if(!I.startsWith(Re)){B[Y]=new L.a(new ee.a(me.startLineNumber,1,me.startLineNumber,I.length+1),Re,!0);continue}}B[Y]=this._replaceJumpToNextIndent(ce,k,me,!0)}else{if(me.startLineNumber===me.endLineNumber){var Oe=k.getLineMaxColumn(me.startLineNumber);if(me.startColumn!==1||me.endColumn!==Oe){B[Y]=this._replaceJumpToNextIndent(ce,k,me,!1);continue}}B[Y]=new ne.a(me,{isUnshift:!1,tabSize:ce.tabSize,indentSize:ce.indentSize,insertSpaces:ce.insertSpaces,useTabStops:ce.useTabStops,autoIndent:ce.autoIndent},ce.languageConfigurationService)}}return B}},{key:"compositionType",value:function(ce,k,w,B,Y,pe,me,I){var we=this,Re=B.map(function(Oe){return we._compositionType(w,Oe,Y,pe,me,I)});return new V.c(4,Re,{shouldPushStackElementBefore:be(ce,4),shouldPushStackElementAfter:!1})}},{key:"_compositionType",value:function(ce,k,w,B,Y,pe){if(!k.isEmpty())return null;var me=k.getPosition(),I=Math.max(1,me.column-B),we=Math.min(ce.getLineMaxColumn(me.lineNumber),me.column+Y),Re=new ee.a(me.lineNumber,I,me.lineNumber,we),Oe=ce.getValueInRange(Re);return Oe===w&&pe===0?null:new L.d(Re,w,0,pe)}},{key:"_typeCommand",value:function(ce,k,w){return w?new L.e(ce,k,!0):new L.a(ce,k,!0)}},{key:"_enter",value:function(ce,k,w,B){if(ce.autoIndent===0)return he._typeCommand(B,`
`,w);if(!k.tokenization.isCheapToTokenize(B.getStartPosition().lineNumber)||ce.autoIndent===1){var Y=k.getLineContent(B.startLineNumber),pe=Q.x(Y).substring(0,B.startColumn-1);return he._typeCommand(B,`
`+ce.normalizeIndentation(pe),w)}var me=Object(S.a)(ce.autoIndent,k,B,ce.languageConfigurationService);if(me){if(me.indentAction===d.b.None)return he._typeCommand(B,`
`+ce.normalizeIndentation(me.indentation+me.appendText),w);if(me.indentAction===d.b.Indent)return he._typeCommand(B,`
`+ce.normalizeIndentation(me.indentation+me.appendText),w);if(me.indentAction===d.b.IndentOutdent){var I=ce.normalizeIndentation(me.indentation),we=ce.normalizeIndentation(me.indentation+me.appendText),Re=`
`+we+`
`+I;return w?new L.e(B,Re,!0):new L.d(B,Re,-1,we.length-I.length,!0)}else if(me.indentAction===d.b.Outdent){var Oe=he.unshiftIndent(ce,me.indentation);return he._typeCommand(B,`
`+ce.normalizeIndentation(Oe+me.appendText),w)}}var Pe=k.getLineContent(B.startLineNumber),Ne=Q.x(Pe).substring(0,B.startColumn-1);if(ce.autoIndent>=4){var Ke=Object(x.c)(ce.autoIndent,k,B,{unshiftIndent:function(Je){return he.unshiftIndent(ce,Je)},shiftIndent:function(Je){return he.shiftIndent(ce,Je)},normalizeIndentation:function(Je){return ce.normalizeIndentation(Je)}},ce.languageConfigurationService);if(Ke){var Xe=ce.visibleColumnFromColumn(k,B.getEndPosition()),wt=B.endColumn,Ct=k.getLineContent(B.endLineNumber),bt=Q.u(Ct);if(bt>=0?B=B.setEndPosition(B.endLineNumber,Math.max(B.endColumn,bt+1)):B=B.setEndPosition(B.endLineNumber,k.getLineMaxColumn(B.endLineNumber)),w)return new L.e(B,`
`+ce.normalizeIndentation(Ke.afterEnter),!0);var mt=0;return wt<=bt+1&&(ce.insertSpaces||(Xe=Math.ceil(Xe/ce.indentSize)),mt=Math.min(Xe+1-ce.normalizeIndentation(Ke.afterEnter).length-1,0)),new L.d(B,`
`+ce.normalizeIndentation(Ke.afterEnter),0,mt,!0)}}return he._typeCommand(B,`
`+ce.normalizeIndentation(Ne),w)}},{key:"_isAutoIndentType",value:function(ce,k,w){if(ce.autoIndent<4)return!1;for(var B=0,Y=w.length;B<Y;B++)if(!k.tokenization.isCheapToTokenize(w[B].getEndPosition().lineNumber))return!1;return!0}},{key:"_runAutoIndentType",value:function(ce,k,w,B){var Y=Object(j.b)(k,w.startLineNumber,w.startColumn),pe=Object(x.b)(ce.autoIndent,k,w,B,{shiftIndent:function(we){return he.shiftIndent(ce,we)},unshiftIndent:function(we){return he.unshiftIndent(ce,we)}},ce.languageConfigurationService);if(pe===null)return null;if(pe!==ce.normalizeIndentation(Y)){var me=k.getLineFirstNonWhitespaceColumn(w.startLineNumber);return me===0?he._typeCommand(new ee.a(w.startLineNumber,1,w.endLineNumber,w.endColumn),ce.normalizeIndentation(pe)+B,!1):he._typeCommand(new ee.a(w.startLineNumber,1,w.endLineNumber,w.endColumn),ce.normalizeIndentation(pe)+k.getLineContent(w.startLineNumber).substring(me-1,w.startColumn-1)+B,!1)}return null}},{key:"_isAutoClosingOvertype",value:function(ce,k,w,B,Y){if(ce.autoClosingOvertype==="never"||!ce.autoClosingPairs.autoClosingPairsCloseSingleChar.has(Y))return!1;for(var pe=0,me=w.length;pe<me;pe++){var I=w[pe];if(!I.isEmpty())return!1;var we=I.getPosition(),Re=k.getLineContent(we.lineNumber),Oe=Re.charAt(we.column-1);if(Oe!==Y)return!1;var Pe=Object(V.e)(Y),Ne=we.column>2?Re.charCodeAt(we.column-2):0;if(Ne===92&&Pe)return!1;if(ce.autoClosingOvertype==="auto"){for(var Ke=!1,Xe=0,wt=B.length;Xe<wt;Xe++){var Ct=B[Xe];if(we.lineNumber===Ct.startLineNumber&&we.column===Ct.startColumn){Ke=!0;break}}if(!Ke)return!1}}return!0}},{key:"_runAutoClosingOvertype",value:function(ce,k,w,B,Y){for(var pe=[],me=0,I=B.length;me<I;me++){var we=B[me],Re=we.getPosition(),Oe=new ee.a(Re.lineNumber,Re.column,Re.lineNumber,Re.column+1);pe[me]=new L.a(Oe,Y)}return new V.c(4,pe,{shouldPushStackElementBefore:be(ce,4),shouldPushStackElementAfter:!1})}},{key:"_isBeforeClosingBrace",value:function(ce,k){var w=k.charAt(0),B=ce.autoClosingPairs.autoClosingPairsOpenByStart.get(w)||[],Y=ce.autoClosingPairs.autoClosingPairsCloseByStart.get(w)||[],pe=B.some(function(I){return k.startsWith(I.open)}),me=Y.some(function(I){return k.startsWith(I.close)});return!pe&&me}},{key:"_findAutoClosingPairOpen",value:function(ce,k,w,B){var Y=ce.autoClosingPairs.autoClosingPairsOpenByEnd.get(B);if(!Y)return null;var pe=null,me=Object(re.a)(Y),I;try{for(me.s();!(I=me.n()).done;){var we=I.value;if(pe===null||we.open.length>pe.open.length){var Re=!0,Oe=Object(re.a)(w),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var Ne=Pe.value,Ke=k.getValueInRange(new ee.a(Ne.lineNumber,Ne.column-we.open.length+1,Ne.lineNumber,Ne.column));if(Ke+B!==we.open){Re=!1;break}}}catch(Xe){Oe.e(Xe)}finally{Oe.f()}Re&&(pe=we)}}}catch(Xe){me.e(Xe)}finally{me.f()}return pe}},{key:"_findContainedAutoClosingPair",value:function(ce,k){if(k.open.length<=1)return null;var w=k.close.charAt(k.close.length-1),B=ce.autoClosingPairs.autoClosingPairsCloseByEnd.get(w)||[],Y=null,pe=Object(re.a)(B),me;try{for(pe.s();!(me=pe.n()).done;){var I=me.value;I.open!==k.open&&k.open.includes(I.open)&&k.close.endsWith(I.close)&&(!Y||I.open.length>Y.open.length)&&(Y=I)}}catch(we){pe.e(we)}finally{pe.f()}return Y}},{key:"_getAutoClosingPairClose",value:function(ce,k,w,B,Y){var pe=Object(V.e)(B),me=pe?ce.autoClosingQuotes:ce.autoClosingBrackets,I=pe?ce.shouldAutoCloseBefore.quote:ce.shouldAutoCloseBefore.bracket;if(me==="never")return null;var we=Object(re.a)(w),Re;try{for(we.s();!(Re=we.n()).done;){var Oe=Re.value;if(!Oe.isEmpty())return null}}catch(ot){we.e(ot)}finally{we.f()}var Pe=w.map(function(ot){var Kt=ot.getPosition();return Y?{lineNumber:Kt.lineNumber,beforeColumn:Kt.column-B.length,afterColumn:Kt.column}:{lineNumber:Kt.lineNumber,beforeColumn:Kt.column,afterColumn:Kt.column}}),Ne=this._findAutoClosingPairOpen(ce,k,Pe.map(function(ot){return new U.a(ot.lineNumber,ot.beforeColumn)}),B);if(!Ne)return null;var Ke=this._findContainedAutoClosingPair(ce,Ne),Xe=Ke?Ke.close:"",wt=!0,Ct=Object(re.a)(Pe),bt;try{for(Ct.s();!(bt=Ct.n()).done;){var mt=bt.value,jt=mt.lineNumber,Je=mt.beforeColumn,Wt=mt.afterColumn,Te=k.getLineContent(jt),fe=Te.substring(0,Je-1),ye=Te.substring(Wt-1);if(ye.startsWith(Xe)||(wt=!1),ye.length>0){var Ee=ye.charAt(0),Ge=he._isBeforeClosingBrace(ce,ye);if(!Ge&&!I(Ee))return null}if(Ne.open.length===1&&(B==="'"||B==='"')&&me!=="always"){var $e=Object(N.a)(ce.wordSeparators);if(fe.length>0){var We=fe.charCodeAt(fe.length-1);if($e.get(We)===0)return null}}if(!k.tokenization.isCheapToTokenize(jt))return null;k.tokenization.forceTokenization(jt);var it=k.tokenization.getLineTokens(jt),Fe=Object(C.a)(it,Je-1);if(!Ne.shouldAutoClose(Fe,Je-Fe.firstCharOffset))return null;var He=Ne.findNeutralCharacter();if(He){var Ye=k.tokenization.getTokenTypeIfInsertingCharacter(jt,Je,He);if(!Ne.isOK(Ye))return null}}}catch(ot){Ct.e(ot)}finally{Ct.f()}return wt?Ne.close.substring(0,Ne.close.length-Xe.length):Ne.close}},{key:"_runAutoClosingOpenCharType",value:function(ce,k,w,B,Y,pe,me){for(var I=[],we=0,Re=B.length;we<Re;we++){var Oe=B[we];I[we]=new z(Oe,Y,!pe,me)}return new V.c(4,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}},{key:"_shouldSurroundChar",value:function(ce,k){return Object(V.e)(k)?ce.autoSurround==="quotes"||ce.autoSurround==="languageDefined":ce.autoSurround==="brackets"||ce.autoSurround==="languageDefined"}},{key:"_isSurroundSelectionType",value:function(ce,k,w,B){if(!he._shouldSurroundChar(ce,B)||!ce.surroundingPairs.hasOwnProperty(B))return!1;var Y=Object(V.e)(B),pe=Object(re.a)(w),me;try{for(pe.s();!(me=pe.n()).done;){var I=me.value;if(I.isEmpty())return!1;for(var we=!0,Re=I.startLineNumber;Re<=I.endLineNumber;Re++){var Oe=k.getLineContent(Re),Pe=Re===I.startLineNumber?I.startColumn-1:0,Ne=Re===I.endLineNumber?I.endColumn-1:Oe.length,Ke=Oe.substring(Pe,Ne);if(/[^ \t]/.test(Ke)){we=!1;break}}if(we)return!1;if(Y&&I.startLineNumber===I.endLineNumber&&I.startColumn+1===I.endColumn){var Xe=k.getValueInRange(I);if(Object(V.e)(Xe))return!1}}}catch(wt){pe.e(wt)}finally{pe.f()}return!0}},{key:"_runSurroundSelectionType",value:function(ce,k,w,B,Y){for(var pe=[],me=0,I=B.length;me<I;me++){var we=B[me],Re=k.surroundingPairs[Y];pe[me]=new W(we,Y,Re)}return new V.c(0,pe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}},{key:"_isTypeInterceptorElectricChar",value:function(ce,k,w){return!!(w.length===1&&k.tokenization.isCheapToTokenize(w[0].getEndPosition().lineNumber))}},{key:"_typeInterceptorElectricChar",value:function(ce,k,w,B,Y){if(!k.electricChars.hasOwnProperty(Y)||!B.isEmpty())return null;var pe=B.getPosition();w.tokenization.forceTokenization(pe.lineNumber);var me=w.tokenization.getLineTokens(pe.lineNumber),I;try{I=k.onElectricCharacter(Y,me,pe.column)}catch(jt){return Object(y.h)(jt),null}if(!I)return null;if(I.matchOpenBracket){var we=(me.getLineContent()+Y).lastIndexOf(I.matchOpenBracket)+1,Re=w.bracketPairs.findMatchingBracketUp(I.matchOpenBracket,{lineNumber:pe.lineNumber,column:we},500);if(Re){if(Re.startLineNumber===pe.lineNumber)return null;var Oe=w.getLineContent(Re.startLineNumber),Pe=Q.x(Oe),Ne=k.normalizeIndentation(Pe),Ke=w.getLineContent(pe.lineNumber),Xe=w.getLineFirstNonWhitespaceColumn(pe.lineNumber)||pe.column,wt=Ke.substring(Xe-1,pe.column-1),Ct=Ne+wt+Y,bt=new ee.a(pe.lineNumber,1,pe.lineNumber,pe.column),mt=new L.a(bt,Ct);return new V.c(ue(Ct,ce),[mt],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}},{key:"compositionEndWithInterceptors",value:function(ce,k,w,B,Y,pe){if(!B)return null;var me=null,I=Object(re.a)(B),we;try{for(I.s();!(we=I.n()).done;){var Re=we.value;if(me===null)me=Re.insertedText;else if(me!==Re.insertedText)return null}}catch(We){I.e(We)}finally{I.f()}if(!me||me.length!==1)return null;var Oe=me,Pe=!1,Ne=Object(re.a)(B),Ke;try{for(Ne.s();!(Ke=Ne.n()).done;){var Xe=Ke.value;if(Xe.deletedText.length!==0){Pe=!0;break}}}catch(We){Ne.e(We)}finally{Ne.f()}if(Pe){if(!he._shouldSurroundChar(k,Oe)||!k.surroundingPairs.hasOwnProperty(Oe))return null;var wt=Object(V.e)(Oe),Ct=Object(re.a)(B),bt;try{for(Ct.s();!(bt=Ct.n()).done;){var mt=bt.value;if(mt.deletedSelectionStart!==0||mt.deletedSelectionEnd!==mt.deletedText.length||/^[ \t]+$/.test(mt.deletedText)||wt&&Object(V.e)(mt.deletedText))return null}}catch(We){Ct.e(We)}finally{Ct.f()}var jt=[],Je=Object(re.a)(Y),Wt;try{for(Je.s();!(Wt=Je.n()).done;){var Te=Wt.value;if(!Te.isEmpty())return null;jt.push(Te.getPosition())}}catch(We){Je.e(We)}finally{Je.f()}if(jt.length!==B.length)return null;for(var fe=[],ye=0,Ee=jt.length;ye<Ee;ye++)fe.push(new F(jt[ye],B[ye].deletedText,k.surroundingPairs[Oe]));return new V.c(4,fe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(k,w,Y,pe,Oe)){var Ge=Y.map(function(We){return new L.a(new ee.a(We.positionLineNumber,We.positionColumn,We.positionLineNumber,We.positionColumn+1),"",!1)});return new V.c(4,Ge,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}var $e=this._getAutoClosingPairClose(k,w,Y,Oe,!0);return $e!==null?this._runAutoClosingOpenCharType(ce,k,w,Y,Oe,!0,$e):null}},{key:"typeWithInterceptors",value:function(ce,k,w,B,Y,pe,me){if(!ce&&me===`
`){for(var I=[],we=0,Re=Y.length;we<Re;we++)I[we]=he._enter(w,B,!1,Y[we]);return new V.c(4,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!ce&&this._isAutoIndentType(w,B,Y)){for(var Oe=[],Pe=!1,Ne=0,Ke=Y.length;Ne<Ke;Ne++)if(Oe[Ne]=this._runAutoIndentType(w,B,Y[Ne],me),!Oe[Ne]){Pe=!0;break}if(!Pe)return new V.c(4,Oe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(w,B,Y,pe,me))return this._runAutoClosingOvertype(k,w,B,Y,me);if(!ce){var Xe=this._getAutoClosingPairClose(w,B,Y,me,!1);if(Xe)return this._runAutoClosingOpenCharType(k,w,B,Y,me,!1,Xe)}if(!ce&&this._isSurroundSelectionType(w,B,Y,me))return this._runSurroundSelectionType(k,w,B,Y,me);if(!ce&&this._isTypeInterceptorElectricChar(w,B,Y)){var wt=this._typeInterceptorElectricChar(k,w,B,Y[0],me);if(wt)return wt}for(var Ct=[],bt=0,mt=Y.length;bt<mt;bt++)Ct[bt]=new L.a(Y[bt],me);var jt=ue(me,k);return new V.c(jt,Ct,{shouldPushStackElementBefore:be(k,jt),shouldPushStackElementAfter:!1})}},{key:"typeWithoutInterceptors",value:function(ce,k,w,B,Y){for(var pe=[],me=0,I=B.length;me<I;me++)pe[me]=new L.a(B[me],Y);var we=ue(Y,ce);return new V.c(we,pe,{shouldPushStackElementBefore:be(ce,we),shouldPushStackElementAfter:!1})}},{key:"lineInsertBefore",value:function(ce,k,w){if(k===null||w===null)return[];for(var B=[],Y=0,pe=w.length;Y<pe;Y++){var me=w[Y].positionLineNumber;if(me===1)B[Y]=new L.e(new ee.a(1,1,1,1),`
`);else{me--;var I=k.getLineMaxColumn(me);B[Y]=this._enter(ce,k,!1,new ee.a(me,I,me,I))}}return B}},{key:"lineInsertAfter",value:function(ce,k,w){if(k===null||w===null)return[];for(var B=[],Y=0,pe=w.length;Y<pe;Y++){var me=w[Y].positionLineNumber,I=k.getLineMaxColumn(me);B[Y]=this._enter(ce,k,!1,new ee.a(me,I,me,I))}return B}},{key:"lineBreakInsert",value:function(ce,k,w){for(var B=[],Y=0,pe=w.length;Y<pe;Y++)B[Y]=this._enter(ce,k,!0,w[Y]);return B}}]),he}(),z=function(he){Object(E.a)(ce,he);var ge=Object(ve.a)(ce);function ce(k,w,B,Y){var pe;return Object(J.a)(this,ce),pe=ge.call(this,k,(B?w:"")+Y,0,-Y.length),pe._openCharacter=w,pe._closeCharacter=Y,pe.closeCharacterRange=null,pe.enclosingRange=null,pe}return Object($.a)(ce,[{key:"computeCursorState",value:function(w,B){var Y=B.getInverseEditOperations(),pe=Y[0].range;return this.closeCharacterRange=new ee.a(pe.startLineNumber,pe.endColumn-this._closeCharacter.length,pe.endLineNumber,pe.endColumn),this.enclosingRange=new ee.a(pe.startLineNumber,pe.endColumn-this._openCharacter.length-this._closeCharacter.length,pe.endLineNumber,pe.endColumn),Object(le.a)(Object(De.a)(ce.prototype),"computeCursorState",this).call(this,w,B)}}]),ce}(L.d),A=Object($.a)(function he(ge,ce,k,w,B,Y){Object(J.a)(this,he),this.deletedText=ge,this.deletedSelectionStart=ce,this.deletedSelectionEnd=k,this.insertedText=w,this.insertedSelectionStart=B,this.insertedSelectionEnd=Y});function ue(he,ge){return he===" "?ge===5||ge===6?6:5:4}function be(he,ge){return ke(he)&&!ke(ge)?!0:he===5?!1:de(he)!==de(ge)}function de(he){return he===6||he===5?"space":he}function ke(he){return he===4||he===5||he===6}},HIzu:function(fn,K,a){},HgMQ:function(fn,K,a){},HpOR:function(fn,K,a){"use strict";(function(le){a.d(K,"a",function(){return y}),a.d(K,"b",function(){return Q}),a.d(K,"e",function(){return L}),a.d(K,"c",function(){return ne}),a.d(K,"f",function(){return ee}),a.d(K,"d",function(){return H}),a.d(K,"g",function(){return W});var De=a("fWQN"),E=a("mtLc"),ve=a("QdLL"),re=typeof le!="undefined",J=new ve.a(function(){return new Uint8Array(256)}),$,y=function(){function F(V){Object(De.a)(this,F),this.buffer=V,this.byteLength=this.buffer.byteLength}return Object(E.a)(F,[{key:"toString",value:function(){return re?this.buffer.toString():($||($=new TextDecoder),$.decode(this.buffer))}}],[{key:"wrap",value:function(N){return re&&!le.isBuffer(N)&&(N=le.from(N.buffer,N.byteOffset,N.byteLength)),new F(N)}}]),F}();function Q(F,V){return F[V+0]<<0>>>0|F[V+1]<<8>>>0}function L(F,V,N){F[N+0]=V&255,V=V>>>8,F[N+1]=V&255}function ne(F,V){return F[V]*Math.pow(2,24)+F[V+1]*Math.pow(2,16)+F[V+2]*Math.pow(2,8)+F[V+3]}function ee(F,V,N){F[N+3]=V,V=V>>>8,F[N+2]=V,V=V>>>8,F[N+1]=V,V=V>>>8,F[N]=V}function H(F,V){return F[V]}function W(F,V,N){F[N]=V}}).call(this,a("HDXh").Buffer)},HyZH:function(fn,K,a){},IzEo:function(fn,K,a){"use strict";var le=a("EFp3"),De=a.n(le),E=a("lnY3"),ve=a.n(E),re=a("cWXX"),J=a("Znn+")},"J+ZK":function(fn,K,a){},JF8p:function(fn,K,a){},JLfW:function(fn,K,a){"use strict";a.d(K,"a",function(){return ve});var le=a("fWQN"),De=a("mtLc"),E=a("N0LK"),ve=function(){function re(){Object(le.a)(this,re)}return Object(De.a)(re,null,[{key:"_nextVisibleColumn",value:function($,y,Q){return $===9?re.nextRenderTabStop(y,Q):E.E($)||E.C($)?y+2:y+1}},{key:"visibleColumnFromColumn",value:function($,y,Q){for(var L=Math.min(y-1,$.length),ne=$.substring(0,L),ee=new E.b(ne),H=0;!ee.eol();){var W=E.z(ne,L,ee.offset);ee.nextGraphemeLength(),H=this._nextVisibleColumn(W,H,Q)}return H}},{key:"columnFromVisibleColumn",value:function($,y,Q){if(y<=0)return 1;for(var L=$.length,ne=new E.b($),ee=0,H=1;!ne.eol();){var W=E.z($,L,ne.offset);ne.nextGraphemeLength();var F=this._nextVisibleColumn(W,ee,Q),V=ne.offset+1;if(F>=y){var N=y-ee,U=F-y;return U<N?V:H}ee=F,H=V}return L+1}},{key:"nextRenderTabStop",value:function($,y){return $+y-$%y}},{key:"nextIndentTabStop",value:function($,y){return $+y-$%y}},{key:"prevRenderTabStop",value:function($,y){return Math.max(0,$-1-($-1)%y)}},{key:"prevIndentTabStop",value:function($,y){return Math.max(0,$-1-($-1)%y)}}]),re}()},"JQT/":function(fn,K,a){"use strict";a.d(K,"a",function(){return re}),a.d(K,"b",function(){return $});var le=a("fWQN"),De=a("mtLc"),E=a("MI8n"),ve=Object.freeze(function(y,Q){var L=setTimeout(y.bind(Q),0);return{dispose:function(){clearTimeout(L)}}}),re;(function(y){function Q(L){return L===y.None||L===y.Cancelled||L instanceof J?!0:!L||typeof L!="object"?!1:typeof L.isCancellationRequested=="boolean"&&typeof L.onCancellationRequested=="function"}y.isCancellationToken=Q,y.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:E.c.None}),y.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ve})})(re||(re={}));var J=function(){function y(){Object(le.a)(this,y),this._isCancelled=!1,this._emitter=null}return Object(De.a)(y,[{key:"cancel",value:function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}},{key:"isCancellationRequested",get:function(){return this._isCancelled}},{key:"onCancellationRequested",get:function(){return this._isCancelled?ve:(this._emitter||(this._emitter=new E.b),this._emitter.event)}},{key:"dispose",value:function(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}]),y}(),$=function(){function y(Q){Object(le.a)(this,y),this._token=void 0,this._parentListener=void 0,this._parentListener=Q&&Q.onCancellationRequested(this.cancel,this)}return Object(De.a)(y,[{key:"token",get:function(){return this._token||(this._token=new J),this._token}},{key:"cancel",value:function(){this._token?this._token instanceof J&&this._token.cancel():this._token=re.Cancelled}},{key:"dispose",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ne;L&&this.cancel(),(ne=this._parentListener)===null||ne===void 0||ne.dispose(),this._token?this._token instanceof J&&this._token.dispose():this._token=re.None}}]),y}()},"JS/N":function(fn,K,a){"use strict";a.d(K,"a",function(){return N}),a.d(K,"b",function(){return U});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("VGTv"),re=a("t9D7"),J=a("09fa"),$=a("tJVT"),y=a("cGHE"),Q=a("aokT"),L=a("CsXQ"),ne=function(){function C(x,S){Object(De.a)(this,C),this._startLineNumber=x,this._tokens=S,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}return Object(E.a)(C,[{key:"startLineNumber",get:function(){return this._startLineNumber}},{key:"endLineNumber",get:function(){return this._endLineNumber}},{key:"toString",value:function(){return this._tokens.toString(this._startLineNumber)}},{key:"_updateEndLineNumber",value:function(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}},{key:"isEmpty",value:function(){return this._tokens.isEmpty()}},{key:"getLineTokens",value:function(S){return this._startLineNumber<=S&&S<=this._endLineNumber?this._tokens.getLineTokens(S-this._startLineNumber):null}},{key:"getRange",value:function(){var S=this._tokens.getRange();return S&&new Q.a(this._startLineNumber+S.startLineNumber,S.startColumn,this._startLineNumber+S.endLineNumber,S.endColumn)}},{key:"removeTokens",value:function(S){var T=S.startLineNumber-this._startLineNumber,z=S.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(T,S.startColumn-1,z,S.endColumn-1),this._updateEndLineNumber()}},{key:"split",value:function(S){var T=S.startLineNumber-this._startLineNumber,z=S.endLineNumber-this._startLineNumber,A=this._tokens.split(T,S.startColumn-1,z,S.endColumn-1),ue=Object($.a)(A,3),be=ue[0],de=ue[1],ke=ue[2];return[new C(this._startLineNumber,be),new C(this._startLineNumber+ke,de)]}},{key:"applyEdit",value:function(S,T){var z=Object(L.a)(T),A=Object($.a)(z,3),ue=A[0],be=A[1],de=A[2];this.acceptEdit(S,ue,be,de,T.length>0?T.charCodeAt(0):0)}},{key:"acceptEdit",value:function(S,T,z,A,ue){this._acceptDeleteRange(S),this._acceptInsertText(new y.a(S.startLineNumber,S.startColumn),T,z,A,ue),this._updateEndLineNumber()}},{key:"_acceptDeleteRange",value:function(S){if(!(S.startLineNumber===S.endLineNumber&&S.startColumn===S.endColumn)){var T=S.startLineNumber-this._startLineNumber,z=S.endLineNumber-this._startLineNumber;if(z<0){var A=z-T;this._startLineNumber-=A;return}var ue=this._tokens.getMaxDeltaLine();if(!(T>=ue+1)){if(T<0&&z>=ue+1){this._startLineNumber=0,this._tokens.clear();return}if(T<0){var be=-T;this._startLineNumber-=be,this._tokens.acceptDeleteRange(S.startColumn-1,0,0,z,S.endColumn-1)}else this._tokens.acceptDeleteRange(0,T,S.startColumn-1,z,S.endColumn-1)}}}},{key:"_acceptInsertText",value:function(S,T,z,A,ue){if(!(T===0&&z===0)){var be=S.lineNumber-this._startLineNumber;if(be<0){this._startLineNumber+=T;return}var de=this._tokens.getMaxDeltaLine();be>=de+1||this._tokens.acceptInsertText(be,S.column-1,T,z,A,ue)}}}],[{key:"create",value:function(S,T){return new C(S,new ee(T))}}]),C}(),ee=function(){function C(x){Object(De.a)(this,C),this._tokens=x,this._tokenCount=x.length/4}return Object(E.a)(C,[{key:"toString",value:function(S){for(var T=[],z=0;z<this._tokenCount;z++)T.push("(".concat(this._getDeltaLine(z)+S,",").concat(this._getStartCharacter(z),"-").concat(this._getEndCharacter(z),")"));return"[".concat(T.join(","),"]")}},{key:"getMaxDeltaLine",value:function(){var S=this._getTokenCount();return S===0?-1:this._getDeltaLine(S-1)}},{key:"getRange",value:function(){var S=this._getTokenCount();if(S===0)return null;var T=this._getStartCharacter(0),z=this._getDeltaLine(S-1),A=this._getEndCharacter(S-1);return new Q.a(0,T+1,z,A+1)}},{key:"_getTokenCount",value:function(){return this._tokenCount}},{key:"_getDeltaLine",value:function(S){return this._tokens[4*S]}},{key:"_getStartCharacter",value:function(S){return this._tokens[4*S+1]}},{key:"_getEndCharacter",value:function(S){return this._tokens[4*S+2]}},{key:"isEmpty",value:function(){return this._getTokenCount()===0}},{key:"getLineTokens",value:function(S){for(var T=0,z=this._getTokenCount()-1;T<z;){var A=T+Math.floor((z-T)/2),ue=this._getDeltaLine(A);if(ue<S)T=A+1;else if(ue>S)z=A-1;else{for(var be=A;be>T&&this._getDeltaLine(be-1)===S;)be--;for(var de=A;de<z&&this._getDeltaLine(de+1)===S;)de++;return new H(this._tokens.subarray(4*be,4*de+4))}}return this._getDeltaLine(T)===S?new H(this._tokens.subarray(4*T,4*T+4)):null}},{key:"clear",value:function(){this._tokenCount=0}},{key:"removeTokens",value:function(S,T,z,A){for(var ue=this._tokens,be=this._tokenCount,de=0,ke=!1,he=0,ge=0;ge<be;ge++){var ce=4*ge,k=ue[ce],w=ue[ce+1],B=ue[ce+2],Y=ue[ce+3];if((k>S||k===S&&B>=T)&&(k<z||k===z&&w<=A))ke=!0;else{if(de===0&&(he=k),ke){var pe=4*de;ue[pe]=k-he,ue[pe+1]=w,ue[pe+2]=B,ue[pe+3]=Y}de++}}return this._tokenCount=de,he}},{key:"split",value:function(S,T,z,A){for(var ue=this._tokens,be=this._tokenCount,de=[],ke=[],he=de,ge=0,ce=0,k=0;k<be;k++){var w=4*k,B=ue[w],Y=ue[w+1],pe=ue[w+2],me=ue[w+3];if(B>S||B===S&&pe>=T){if(B<z||B===z&&Y<=A)continue;he!==ke&&(he=ke,ge=0,ce=B)}he[ge++]=B-ce,he[ge++]=Y,he[ge++]=pe,he[ge++]=me}return[new C(new Uint32Array(de)),new C(new Uint32Array(ke)),ce]}},{key:"acceptDeleteRange",value:function(S,T,z,A,ue){for(var be=this._tokens,de=this._tokenCount,ke=A-T,he=0,ge=!1,ce=0;ce<de;ce++){var k=4*ce,w=be[k],B=be[k+1],Y=be[k+2],pe=be[k+3];if(w<T||w===T&&Y<=z){he++;continue}else if(w===T&&B<z)w===A&&Y>ue?Y-=ue-z:Y=z;else if(w===T&&B===z)if(w===A&&Y>ue)Y-=ue-z;else{ge=!0;continue}else if(w<A||w===A&&B<ue)if(w===A&&Y>ue)w=T,B=z,Y=B+(Y-ue);else{ge=!0;continue}else if(w>A){if(ke===0&&!ge){he=de;break}w-=ke}else if(w===A&&B>=ue)S&&w===0&&(B+=S,Y+=S),w-=ke,B-=ue-z,Y-=ue-z;else throw new Error("Not possible!");var me=4*he;be[me]=w,be[me+1]=B,be[me+2]=Y,be[me+3]=pe,he++}this._tokenCount=he}},{key:"acceptInsertText",value:function(S,T,z,A,ue,be){for(var de=z===0&&A===1&&(be>=48&&be<=57||be>=65&&be<=90||be>=97&&be<=122),ke=this._tokens,he=this._tokenCount,ge=0;ge<he;ge++){var ce=4*ge,k=ke[ce],w=ke[ce+1],B=ke[ce+2];if(!(k<S||k===S&&B<T)){if(k===S&&B===T)if(de)B+=1;else continue;else if(k===S&&w<T&&T<B)z===0?B+=A:B=T;else{if(k===S&&w===T&&de)continue;if(k===S)if(k+=z,z===0)w+=A,B+=A;else{var Y=B-w;w=ue+(w-T),B=w+Y}else k+=z}ke[ce]=k,ke[ce+1]=w,ke[ce+2]=B}}}}]),C}(),H=function(){function C(x){Object(De.a)(this,C),this._tokens=x}return Object(E.a)(C,[{key:"getCount",value:function(){return this._tokens.length/4}},{key:"getStartCharacter",value:function(S){return this._tokens[4*S+1]}},{key:"getEndCharacter",value:function(S){return this._tokens[4*S+2]}},{key:"getMetadata",value:function(S){return this._tokens[4*S+3]}}]),C}(),W=a("CGdd"),F=function(C,x,S,T){var z=arguments.length,A=z<3?x:T===null?T=Object.getOwnPropertyDescriptor(x,S):T,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(C,x,S,T);else for(var be=C.length-1;be>=0;be--)(ue=C[be])&&(A=(z<3?ue(A):z>3?ue(x,S,A):ue(x,S))||A);return z>3&&A&&Object.defineProperty(x,S,A),A},V=function(C,x){return function(S,T){x(S,T,C)}},N=function(){function C(x,S,T,z){Object(De.a)(this,C),this._legend=x,this._themeService=S,this._languageService=T,this._logService=z,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new j}return Object(E.a)(C,[{key:"getMetadata",value:function(S,T,z){var A=this._languageService.languageIdCodec.encodeLanguageId(z),ue=this._hashTable.get(S,T,A),be;if(ue)be=ue.metadata,this._logService.getLevel()===J.c.Trace&&this._logService.trace("SemanticTokensProviderStyling [CACHED] ".concat(S," / ").concat(T,": foreground ").concat(ve.a.getForeground(be),", fontStyle ").concat(ve.a.getFontStyle(be).toString(2)));else{var de=this._legend.tokenTypes[S],ke=[];if(de){for(var he=T,ge=0;he>0&&ge<this._legend.tokenModifiers.length;ge++)he&1&&ke.push(this._legend.tokenModifiers[ge]),he=he>>1;he>0&&this._logService.getLevel()===J.c.Trace&&(this._logService.trace("SemanticTokensProviderStyling: unknown token modifier index: ".concat(T.toString(2)," for legend: ").concat(JSON.stringify(this._legend.tokenModifiers))),ke.push("not-in-legend"));var ce=this._themeService.getColorTheme().getTokenStyleMetadata(de,ke,z);if(typeof ce=="undefined")be=2147483647;else{if(be=0,typeof ce.italic!="undefined"){var k=(ce.italic?1:0)<<11;be|=k|1}if(typeof ce.bold!="undefined"){var w=(ce.bold?2:0)<<11;be|=w|2}if(typeof ce.underline!="undefined"){var B=(ce.underline?4:0)<<11;be|=B|4}if(typeof ce.strikethrough!="undefined"){var Y=(ce.strikethrough?8:0)<<11;be|=Y|8}if(ce.foreground){var pe=ce.foreground<<15;be|=pe|16}be===0&&(be=2147483647)}}else this._logService.getLevel()===J.c.Trace&&this._logService.trace("SemanticTokensProviderStyling: unknown token type index: ".concat(S," for legend: ").concat(JSON.stringify(this._legend.tokenTypes))),be=2147483647,de="not-in-legend";this._hashTable.add(S,T,A,be),this._logService.getLevel()===J.c.Trace&&this._logService.trace("SemanticTokensProviderStyling ".concat(S," (").concat(de,") / ").concat(T," (").concat(ke.join(" "),"): foreground ").concat(ve.a.getForeground(be),", fontStyle ").concat(ve.a.getFontStyle(be).toString(2)))}return be}},{key:"warnOverlappingSemanticTokens",value:function(S,T){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn("Overlapping semantic tokens detected at lineNumber ".concat(S,", column ").concat(T)))}},{key:"warnInvalidLengthSemanticTokens",value:function(S,T){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn("Semantic token with invalid length detected at lineNumber ".concat(S,", column ").concat(T)))}},{key:"warnInvalidEditStart",value:function(S,T,z,A,ue){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn("Invalid semantic tokens edit detected (previousResultId: ".concat(S,", resultId: ").concat(T,") at edit #").concat(z,": The provided start offset ").concat(A," is outside the previous data (length ").concat(ue,").")))}}]),C}();N=F([V(1,re.b),V(2,W.a),V(3,J.b)],N);function U(C,x,S){for(var T=C.data,z=C.data.length/5|0,A=Math.max(Math.ceil(z/1024),400),ue=[],be=0,de=1,ke=0;be<z;){var he=be,ge=Math.min(he+A,z);if(ge<z){for(var ce=ge;ce-1>he&&T[5*ce]===0;)ce--;if(ce-1===he){for(var k=ge;k+1<z&&T[5*k]===0;)k++;ge=k}else ge=ce}for(var w=new Uint32Array((ge-he)*4),B=0,Y=0,pe=0,me=0;be<ge;){var I=5*be,we=T[I],Re=T[I+1],Oe=de+we|0,Pe=we===0?ke+Re|0:Re,Ne=T[I+2],Ke=Pe+Ne|0,Xe=T[I+3],wt=T[I+4];if(Ke<=Pe)x.warnInvalidLengthSemanticTokens(Oe,Pe+1);else if(pe===Oe&&me>Pe)x.warnOverlappingSemanticTokens(Oe,Pe+1);else{var Ct=x.getMetadata(Xe,wt,S);Ct!==2147483647&&(Y===0&&(Y=Oe),w[B]=Oe-Y,w[B+1]=Pe,w[B+2]=Ke,w[B+3]=Ct,B+=4,pe=Oe,me=Ke)}de=Oe,ke=Pe,be++}B!==w.length&&(w=w.subarray(0,B));var bt=ne.create(Y,w);ue.push(bt)}return ue}var d=Object(E.a)(function C(x,S,T,z){Object(De.a)(this,C),this.tokenTypeIndex=x,this.tokenModifierSet=S,this.languageId=T,this.metadata=z,this.next=null}),j=function(){function C(){Object(De.a)(this,C),this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength)}return Object(E.a)(C,[{key:"_hash2",value:function(S,T){return(S<<5)-S+T|0}},{key:"_hashFunc",value:function(S,T,z){return this._hash2(this._hash2(S,T),z)%this._currentLength}},{key:"get",value:function(S,T,z){for(var A=this._hashFunc(S,T,z),ue=this._elements[A];ue;){if(ue.tokenTypeIndex===S&&ue.tokenModifierSet===T&&ue.languageId===z)return ue;ue=ue.next}return null}},{key:"add",value:function(S,T,z,A){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){var ue=this._elements;this._currentLengthIndex++,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength);var be=Object(le.a)(ue),de;try{for(be.s();!(de=be.n()).done;)for(var ke=de.value,he=ke;he;){var ge=he.next;he.next=null,this._add(he),he=ge}}catch(ce){be.e(ce)}finally{be.f()}}this._add(new d(S,T,z,A))}},{key:"_add",value:function(S){var T=this._hashFunc(S.tokenTypeIndex,S.tokenModifierSet,S.languageId);S.next=this._elements[T],this._elements[T]=S}}],[{key:"_nullOutEntries",value:function(S,T){for(var z=0;z<T;z++)S[z]=null}}]),C}();j._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},JYp7:function(fn,K,a){"use strict";a.d(K,"a",function(){return ve});var le=a("jrin"),De=a("rAM+"),E=a("qLMh"),ve;(function(re){var J=Object(E.a)().mark(W),$=Object(E.a)().mark(C),y=Object(E.a)().mark(x),Q=Object(E.a)().mark(S),L=Object(E.a)().mark(z);function ne(ue){return ue&&typeof ue=="object"&&typeof ue[Symbol.iterator]=="function"}re.is=ne;var ee=Object.freeze([]);function H(){return ee}re.empty=H;function W(ue){return Object(E.a)().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,ue;case 2:case"end":return de.stop()}},J)}re.single=W;function F(ue){return ne(ue)?ue:W(ue)}re.wrap=F;function V(ue){return ue||ee}re.from=V;function N(ue){return!ue||ue[Symbol.iterator]().next().done===!0}re.isEmpty=N;function U(ue){return ue[Symbol.iterator]().next().value}re.first=U;function d(ue,be){var de=Object(De.a)(ue),ke;try{for(de.s();!(ke=de.n()).done;){var he=ke.value;if(be(he))return!0}}catch(ge){de.e(ge)}finally{de.f()}return!1}re.some=d;function j(ue,be){var de=Object(De.a)(ue),ke;try{for(de.s();!(ke=de.n()).done;){var he=ke.value;if(be(he))return he}}catch(ge){de.e(ge)}finally{de.f()}}re.find=j;function C(ue,be){var de,ke,he;return Object(E.a)().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:de=Object(De.a)(ue),ce.prev=1,de.s();case 3:if((ke=de.n()).done){ce.next=10;break}if(he=ke.value,!be(he)){ce.next=8;break}return ce.next=8,he;case 8:ce.next=3;break;case 10:ce.next=15;break;case 12:ce.prev=12,ce.t0=ce.catch(1),de.e(ce.t0);case 15:return ce.prev=15,de.f(),ce.finish(15);case 18:case"end":return ce.stop()}},$,null,[[1,12,15,18]])}re.filter=C;function x(ue,be){var de,ke,he,ge;return Object(E.a)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:de=0,ke=Object(De.a)(ue),k.prev=2,ke.s();case 4:if((he=ke.n()).done){k.next=10;break}return ge=he.value,k.next=8,be(ge,de++);case 8:k.next=4;break;case 10:k.next=15;break;case 12:k.prev=12,k.t0=k.catch(2),ke.e(k.t0);case 15:return k.prev=15,ke.f(),k.finish(15);case 18:case"end":return k.stop()}},y,null,[[2,12,15,18]])}re.map=x;function S(){var ue,be,de,ke,he,ge,ce,k,w,B=arguments;return Object(E.a)().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:for(ue=B.length,be=new Array(ue),de=0;de<ue;de++)be[de]=B[de];ke=0,he=be;case 2:if(!(ke<he.length)){pe.next=24;break}ge=he[ke],ce=Object(De.a)(ge),pe.prev=5,ce.s();case 7:if((k=ce.n()).done){pe.next=13;break}return w=k.value,pe.next=11,w;case 11:pe.next=7;break;case 13:pe.next=18;break;case 15:pe.prev=15,pe.t0=pe.catch(5),ce.e(pe.t0);case 18:return pe.prev=18,ce.f(),pe.finish(18);case 21:ke++,pe.next=2;break;case 24:case"end":return pe.stop()}},Q,null,[[5,15,18,21]])}re.concat=S;function T(ue,be,de){var ke=de,he=Object(De.a)(ue),ge;try{for(he.s();!(ge=he.n()).done;){var ce=ge.value;ke=be(ke,ce)}}catch(k){he.e(k)}finally{he.f()}return ke}re.reduce=T;function z(ue,be){var de,ke=arguments;return Object(E.a)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:de=ke.length>2&&ke[2]!==void 0?ke[2]:ue.length,be<0&&(be+=ue.length),de<0?de+=ue.length:de>ue.length&&(de=ue.length);case 3:if(!(be<de)){ge.next=9;break}return ge.next=6,ue[be];case 6:be++,ge.next=3;break;case 9:case"end":return ge.stop()}},L)}re.slice=z;function A(ue){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.POSITIVE_INFINITY,de=[];if(be===0)return[de,ue];for(var ke=ue[Symbol.iterator](),he=0;he<be;he++){var ge=ke.next();if(ge.done)return[de,re.empty()];de.push(ge.value)}return[de,Object(le.a)({},Symbol.iterator,function(){return ke})]}re.consume=A})(ve||(ve={}))},K5yz:function(fn,K,a){},KBqF:function(fn,K,a){"use strict";a.d(K,"b",function(){return Hi}),a.d(K,"a",function(){return ha});var le=a("rAM+"),De=a("qLMh"),E=a("fWQN"),ve=a("mtLc"),re=a("w4Tj"),J=a("oZsa"),$=a("yKVA"),y=a("879j"),Q=a("X+cX"),L=a("pmY6"),ne=a("/cxE"),ee=a("MI8n"),H=a("qj0h"),W=a("MNsG"),F=a("N0LK"),V="$initialize",N=!1;function U(vn){!W.m||(N||(N=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(vn.message))}var d=Object(ve.a)(function vn(Ln,ut,Tt,Pt){Object(E.a)(this,vn),this.vsWorker=Ln,this.req=ut,this.method=Tt,this.args=Pt,this.type=0}),j=Object(ve.a)(function vn(Ln,ut,Tt,Pt){Object(E.a)(this,vn),this.vsWorker=Ln,this.seq=ut,this.res=Tt,this.err=Pt,this.type=1}),C=Object(ve.a)(function vn(Ln,ut,Tt,Pt){Object(E.a)(this,vn),this.vsWorker=Ln,this.req=ut,this.eventName=Tt,this.arg=Pt,this.type=2}),x=Object(ve.a)(function vn(Ln,ut,Tt){Object(E.a)(this,vn),this.vsWorker=Ln,this.req=ut,this.event=Tt,this.type=3}),S=Object(ve.a)(function vn(Ln,ut){Object(E.a)(this,vn),this.vsWorker=Ln,this.req=ut,this.type=4}),T=function(){function vn(Ln){Object(E.a)(this,vn),this._workerId=-1,this._handler=Ln,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}return Object(ve.a)(vn,[{key:"setWorkerId",value:function(ut){this._workerId=ut}},{key:"sendMessage",value:function(ut,Tt){var Pt=this,Zt=String(++this._lastSentReq);return new Promise(function(Ut,Nn){Pt._pendingReplies[Zt]={resolve:Ut,reject:Nn},Pt._send(new d(Pt._workerId,Zt,ut,Tt))})}},{key:"listen",value:function(ut,Tt){var Pt=this,Zt=null,Ut=new ee.b({onWillAddFirstListener:function(){Zt=String(++Pt._lastSentReq),Pt._pendingEmitters.set(Zt,Ut),Pt._send(new C(Pt._workerId,Zt,ut,Tt))},onDidRemoveLastListener:function(){Pt._pendingEmitters.delete(Zt),Pt._send(new S(Pt._workerId,Zt)),Zt=null}});return Ut.event}},{key:"handleMessage",value:function(ut){!ut||!ut.vsWorker||this._workerId!==-1&&ut.vsWorker!==this._workerId||this._handleMessage(ut)}},{key:"_handleMessage",value:function(ut){switch(ut.type){case 1:return this._handleReplyMessage(ut);case 0:return this._handleRequestMessage(ut);case 2:return this._handleSubscribeEventMessage(ut);case 3:return this._handleEventMessage(ut);case 4:return this._handleUnsubscribeEventMessage(ut)}}},{key:"_handleReplyMessage",value:function(ut){if(!this._pendingReplies[ut.seq]){console.warn("Got reply to unknown seq");return}var Tt=this._pendingReplies[ut.seq];if(delete this._pendingReplies[ut.seq],ut.err){var Pt=ut.err;ut.err.$isError&&(Pt=new Error,Pt.name=ut.err.name,Pt.message=ut.err.message,Pt.stack=ut.err.stack),Tt.reject(Pt);return}Tt.resolve(ut.res)}},{key:"_handleRequestMessage",value:function(ut){var Tt=this,Pt=ut.req,Zt=this._handler.handleMessage(ut.method,ut.args);Zt.then(function(Ut){Tt._send(new j(Tt._workerId,Pt,Ut,void 0))},function(Ut){Ut.detail instanceof Error&&(Ut.detail=Object(ne.j)(Ut.detail)),Tt._send(new j(Tt._workerId,Pt,void 0,Object(ne.j)(Ut)))})}},{key:"_handleSubscribeEventMessage",value:function(ut){var Tt=this,Pt=ut.req,Zt=this._handler.handleEvent(ut.eventName,ut.arg)(function(Ut){Tt._send(new x(Tt._workerId,Pt,Ut))});this._pendingEvents.set(Pt,Zt)}},{key:"_handleEventMessage",value:function(ut){if(!this._pendingEmitters.has(ut.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(ut.req).fire(ut.event)}},{key:"_handleUnsubscribeEventMessage",value:function(ut){if(!this._pendingEvents.has(ut.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(ut.req).dispose(),this._pendingEvents.delete(ut.req)}},{key:"_send",value:function(ut){var Tt=[];if(ut.type===0)for(var Pt=0;Pt<ut.args.length;Pt++)ut.args[Pt]instanceof ArrayBuffer&&Tt.push(ut.args[Pt]);else ut.type===1&&ut.res instanceof ArrayBuffer&&Tt.push(ut.res);this._handler.sendMessage(ut,Tt)}}]),vn}(),z=function(vn){Object($.a)(ut,vn);var Ln=Object(y.a)(ut);function ut(Tt,Pt,Zt){var Ut;Object(E.a)(this,ut),Ut=Ln.call(this);var Nn=null;Ut._worker=Ut._register(Tt.create("vs/base/common/worker/simpleWorker",function(li){Ut._protocol.handleMessage(li)},function(li){Nn==null||Nn(li)})),Ut._protocol=new T({sendMessage:function(ki,Ki){Ut._worker.postMessage(ki,Ki)},handleMessage:function(ki,Ki){if(typeof Zt[ki]!="function")return Promise.reject(new Error("Missing method "+ki+" on main thread host."));try{return Promise.resolve(Zt[ki].apply(Zt,Ki))}catch(Tr){return Promise.reject(Tr)}},handleEvent:function(ki,Ki){if(ue(ki)){var Tr=Zt[ki].call(Zt,Ki);if(typeof Tr!="function")throw new Error("Missing dynamic event ".concat(ki," on main thread host."));return Tr}if(A(ki)){var ir=Zt[ki];if(typeof ir!="function")throw new Error("Missing event ".concat(ki," on main thread host."));return ir}throw new Error("Malformed event name ".concat(ki))}}),Ut._protocol.setWorkerId(Ut._worker.getId());var In=null,Wn=globalThis.require;typeof Wn!="undefined"&&typeof Wn.getConfig=="function"?In=Wn.getConfig():typeof globalThis.requirejs!="undefined"&&(In=globalThis.requirejs.s.contexts._.config);var oi=Object(H.f)(Zt);Ut._onModuleLoaded=Ut._protocol.sendMessage(V,[Ut._worker.getId(),JSON.parse(JSON.stringify(In)),Pt,oi]);var bi=function(ki,Ki){return Ut._request(ki,Ki)},_n=function(ki,Ki){return Ut._protocol.listen(ki,Ki)};return Ut._lazyProxy=new Promise(function(li,ki){Nn=ki,Ut._onModuleLoaded.then(function(Ki){li(be(Ki,bi,_n))},function(Ki){ki(Ki),Ut._onError("Worker failed to load "+Pt,Ki)})}),Ut}return Object(ve.a)(ut,[{key:"getProxyObject",value:function(){return this._lazyProxy}},{key:"_request",value:function(Pt,Zt){var Ut=this;return new Promise(function(Nn,In){Ut._onModuleLoaded.then(function(){Ut._protocol.sendMessage(Pt,Zt).then(Nn,In)},In)})}},{key:"_onError",value:function(Pt,Zt){console.error(Pt),console.info(Zt)}}]),ut}(L.a);function A(vn){return vn[0]==="o"&&vn[1]==="n"&&F.I(vn.charCodeAt(2))}function ue(vn){return/^onDynamic/.test(vn)&&F.I(vn.charCodeAt(9))}function be(vn,Ln,ut){var Tt=function(oi){return function(){var bi=Array.prototype.slice.call(arguments,0);return Ln(oi,bi)}},Pt=function(oi){return function(bi){return ut(oi,bi)}},Zt={},Ut=Object(le.a)(vn),Nn;try{for(Ut.s();!(Nn=Ut.n()).done;){var In=Nn.value;if(ue(In)){Zt[In]=Pt(In);continue}if(A(In)){Zt[In]=ut(In,void 0);continue}Zt[In]=Tt(In)}}catch(Wn){Ut.e(Wn)}finally{Ut.f()}return Zt}var de=function(){function vn(Ln,ut){var Tt=this;Object(E.a)(this,vn),this._requestHandlerFactory=ut,this._requestHandler=null,this._protocol=new T({sendMessage:function(Zt,Ut){Ln(Zt,Ut)},handleMessage:function(Zt,Ut){return Tt._handleMessage(Zt,Ut)},handleEvent:function(Zt,Ut){return Tt._handleEvent(Zt,Ut)}})}return Object(ve.a)(vn,[{key:"onmessage",value:function(ut){this._protocol.handleMessage(ut)}},{key:"_handleMessage",value:function(ut,Tt){if(ut===V)return this.initialize(Tt[0],Tt[1],Tt[2],Tt[3]);if(!this._requestHandler||typeof this._requestHandler[ut]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+ut));try{return Promise.resolve(this._requestHandler[ut].apply(this._requestHandler,Tt))}catch(Pt){return Promise.reject(Pt)}}},{key:"_handleEvent",value:function(ut,Tt){if(!this._requestHandler)throw new Error("Missing requestHandler");if(ue(ut)){var Pt=this._requestHandler[ut].call(this._requestHandler,Tt);if(typeof Pt!="function")throw new Error("Missing dynamic event ".concat(ut," on request handler."));return Pt}if(A(ut)){var Zt=this._requestHandler[ut];if(typeof Zt!="function")throw new Error("Missing event ".concat(ut," on request handler."));return Zt}throw new Error("Malformed event name ".concat(ut))}},{key:"initialize",value:function(ut,Tt,Pt,Zt){var Ut=this;this._protocol.setWorkerId(ut);var Nn=function(bi,_n){return Ut._protocol.sendMessage(bi,_n)},In=function(bi,_n){return Ut._protocol.listen(bi,_n)},Wn=be(Zt,Nn,In);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(Wn),Promise.resolve(Object(H.f)(this._requestHandler))):(Tt&&(typeof Tt.baseUrl!="undefined"&&delete Tt.baseUrl,typeof Tt.paths!="undefined"&&typeof Tt.paths.vs!="undefined"&&delete Tt.paths.vs,typeof Tt.trustedTypesPolicy!==void 0&&delete Tt.trustedTypesPolicy,Tt.catchError=!0,globalThis.require.config(Tt)),new Promise(function(oi,bi){var _n=globalThis.require;_n([Pt],function(li){if(Ut._requestHandler=li.create(Wn),!Ut._requestHandler){bi(new Error("No RequestHandler!"));return}oi(Object(H.f)(Ut._requestHandler))},bi)}))}}]),vn}();function ke(vn){return new de(vn,null)}var he=a("c9Qy"),ge=Object(he.a)("defaultWorkerFactory",{createScriptURL:function(Ln){return Ln}});function ce(vn){var Ln=globalThis.MonacoEnvironment;if(Ln){if(typeof Ln.getWorker=="function")return Ln.getWorker("workerMain.js",vn);if(typeof Ln.getWorkerUrl=="function"){var ut=Ln.getWorkerUrl("workerMain.js",vn);return new Worker(ge?ge.createScriptURL(ut):ut,{name:vn})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function k(vn){return typeof vn.then=="function"}var w=function(){function vn(Ln,ut,Tt,Pt,Zt){Object(E.a)(this,vn),this.id=ut;var Ut=ce(Tt);k(Ut)?this.worker=Ut:this.worker=Promise.resolve(Ut),this.postMessage(Ln,[]),this.worker.then(function(Nn){Nn.onmessage=function(In){Pt(In.data)},Nn.onmessageerror=Zt,typeof Nn.addEventListener=="function"&&Nn.addEventListener("error",Zt)})}return Object(ve.a)(vn,[{key:"getId",value:function(){return this.id}},{key:"postMessage",value:function(ut,Tt){var Pt;(Pt=this.worker)===null||Pt===void 0||Pt.then(function(Zt){return Zt.postMessage(ut,Tt)})}},{key:"dispose",value:function(){var ut;(ut=this.worker)===null||ut===void 0||ut.then(function(Tt){return Tt.terminate()}),this.worker=null}}]),vn}(),B=function(){function vn(Ln){Object(E.a)(this,vn),this._label=Ln,this._webWorkerFailedBeforeError=!1}return Object(ve.a)(vn,[{key:"create",value:function(ut,Tt,Pt){var Zt=this,Ut=++vn.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new w(ut,Ut,this._label||"anonymous"+Ut,Tt,function(Nn){U(Nn),Zt._webWorkerFailedBeforeError=Nn,Pt(Nn)})}}]),vn}();B.LAST_WORKER_ID=0;var Y=a("aokT"),pe=a("AYRw"),me=a("jrin"),I=a("Gw4z"),we=a("bY76"),Re=a("cGHE"),Oe=a("T/V3"),Pe=function(){function vn(Ln,ut,Tt,Pt){Object(E.a)(this,vn),this._uri=Ln,this._lines=ut,this._eol=Tt,this._versionId=Pt,this._lineStarts=null,this._cachedTextValue=null}return Object(ve.a)(vn,[{key:"dispose",value:function(){this._lines.length=0}},{key:"version",get:function(){return this._versionId}},{key:"getText",value:function(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}},{key:"onEvents",value:function(ut){ut.eol&&ut.eol!==this._eol&&(this._eol=ut.eol,this._lineStarts=null);var Tt=ut.changes,Pt=Object(le.a)(Tt),Zt;try{for(Pt.s();!(Zt=Pt.n()).done;){var Ut=Zt.value;this._acceptDeleteRange(Ut.range),this._acceptInsertText(new Re.a(Ut.range.startLineNumber,Ut.range.startColumn),Ut.text)}}catch(Nn){Pt.e(Nn)}finally{Pt.f()}this._versionId=ut.versionId,this._cachedTextValue=null}},{key:"_ensureLineStarts",value:function(){if(!this._lineStarts){for(var ut=this._eol.length,Tt=this._lines.length,Pt=new Uint32Array(Tt),Zt=0;Zt<Tt;Zt++)Pt[Zt]=this._lines[Zt].length+ut;this._lineStarts=new Oe.b(Pt)}}},{key:"_setLineText",value:function(ut,Tt){this._lines[ut]=Tt,this._lineStarts&&this._lineStarts.setValue(ut,this._lines[ut].length+this._eol.length)}},{key:"_acceptDeleteRange",value:function(ut){if(ut.startLineNumber===ut.endLineNumber){if(ut.startColumn===ut.endColumn)return;this._setLineText(ut.startLineNumber-1,this._lines[ut.startLineNumber-1].substring(0,ut.startColumn-1)+this._lines[ut.startLineNumber-1].substring(ut.endColumn-1));return}this._setLineText(ut.startLineNumber-1,this._lines[ut.startLineNumber-1].substring(0,ut.startColumn-1)+this._lines[ut.endLineNumber-1].substring(ut.endColumn-1)),this._lines.splice(ut.startLineNumber,ut.endLineNumber-ut.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(ut.startLineNumber,ut.endLineNumber-ut.startLineNumber)}},{key:"_acceptInsertText",value:function(ut,Tt){if(Tt.length!==0){var Pt=Object(F.S)(Tt);if(Pt.length===1){this._setLineText(ut.lineNumber-1,this._lines[ut.lineNumber-1].substring(0,ut.column-1)+Pt[0]+this._lines[ut.lineNumber-1].substring(ut.column-1));return}Pt[Pt.length-1]+=this._lines[ut.lineNumber-1].substring(ut.column-1),this._setLineText(ut.lineNumber-1,this._lines[ut.lineNumber-1].substring(0,ut.column-1)+Pt[0]);for(var Zt=new Uint32Array(Pt.length-1),Ut=1;Ut<Pt.length;Ut++)this._lines.splice(ut.lineNumber+Ut-1,0,Pt[Ut]),Zt[Ut-1]=Pt[Ut].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(ut.lineNumber,Zt)}}}]),vn}(),Ne=a("h5s8"),Ke=a("tJVT"),Xe=a("MXAL"),wt=function(){function vn(Ln,ut,Tt){Object(E.a)(this,vn);for(var Pt=new Uint8Array(Ln*ut),Zt=0,Ut=Ln*ut;Zt<Ut;Zt++)Pt[Zt]=Tt;this._data=Pt,this.rows=Ln,this.cols=ut}return Object(ve.a)(vn,[{key:"get",value:function(ut,Tt){return this._data[ut*this.cols+Tt]}},{key:"set",value:function(ut,Tt,Pt){this._data[ut*this.cols+Tt]=Pt}}]),vn}(),Ct=function(){function vn(Ln){Object(E.a)(this,vn);for(var ut=0,Tt=0,Pt=0,Zt=Ln.length;Pt<Zt;Pt++){var Ut=Object(Ke.a)(Ln[Pt],3),Nn=Ut[0],In=Ut[1],Wn=Ut[2];In>ut&&(ut=In),Nn>Tt&&(Tt=Nn),Wn>Tt&&(Tt=Wn)}ut++,Tt++;for(var oi=new wt(Tt,ut,0),bi=0,_n=Ln.length;bi<_n;bi++){var li=Object(Ke.a)(Ln[bi],3),ki=li[0],Ki=li[1],Tr=li[2];oi.set(ki,Ki,Tr)}this._states=oi,this._maxCharCode=ut}return Object(ve.a)(vn,[{key:"nextState",value:function(ut,Tt){return Tt<0||Tt>=this._maxCharCode?0:this._states.get(ut,Tt)}}]),vn}(),bt=null;function mt(){return bt===null&&(bt=new Ct([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),bt}var jt=null;function Je(){if(jt===null){jt=new Xe.a(0);for(var vn=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`,Ln=0;Ln<vn.length;Ln++)jt.set(vn.charCodeAt(Ln),1);for(var ut=".,;:",Tt=0;Tt<ut.length;Tt++)jt.set(ut.charCodeAt(Tt),2)}return jt}var Wt=function(){function vn(){Object(E.a)(this,vn)}return Object(ve.a)(vn,null,[{key:"_createLink",value:function(ut,Tt,Pt,Zt,Ut){var Nn=Ut-1;do{var In=Tt.charCodeAt(Nn),Wn=ut.get(In);if(Wn!==2)break;Nn--}while(Nn>Zt);if(Zt>0){var oi=Tt.charCodeAt(Zt-1),bi=Tt.charCodeAt(Nn);(oi===40&&bi===41||oi===91&&bi===93||oi===123&&bi===125)&&Nn--}return{range:{startLineNumber:Pt,startColumn:Zt+1,endLineNumber:Pt,endColumn:Nn+2},url:Tt.substring(Zt,Nn+1)}}},{key:"computeLinks",value:function(ut){for(var Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mt(),Pt=Je(),Zt=[],Ut=1,Nn=ut.getLineCount();Ut<=Nn;Ut++){for(var In=ut.getLineContent(Ut),Wn=In.length,oi=0,bi=0,_n=0,li=1,ki=!1,Ki=!1,Tr=!1,ir=!1;oi<Wn;){var Er=!1,va=In.charCodeAt(oi);if(li===13){var Sn=void 0;switch(va){case 40:ki=!0,Sn=0;break;case 41:Sn=ki?0:1;break;case 91:Tr=!0,Ki=!0,Sn=0;break;case 93:Tr=!1,Sn=Ki?0:1;break;case 123:ir=!0,Sn=0;break;case 125:Sn=ir?0:1;break;case 39:case 34:case 96:_n===va?Sn=1:_n===39||_n===34||_n===96?Sn=0:Sn=1;break;case 42:Sn=_n===42?1:0;break;case 124:Sn=_n===124?1:0;break;case 32:Sn=Tr?0:1;break;default:Sn=Pt.get(va)}Sn===1&&(Zt.push(vn._createLink(Pt,In,Ut,bi,oi)),Er=!0)}else if(li===12){var ri=void 0;va===91?(Ki=!0,ri=0):ri=Pt.get(va),ri===1?Er=!0:li=13}else li=Tt.nextState(li,va),li===0&&(Er=!0);Er&&(li=1,ki=!1,Ki=!1,ir=!1,bi=oi+1,_n=va),oi++}li===13&&Zt.push(vn._createLink(Pt,In,Ut,bi,Wn))}return Zt}}]),vn}();function Te(vn){return!vn||typeof vn.getLineCount!="function"||typeof vn.getLineContent!="function"?[]:Wt.computeLinks(vn)}var fe=function(){function vn(){Object(E.a)(this,vn),this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return Object(ve.a)(vn,[{key:"navigateValueSet",value:function(ut,Tt,Pt,Zt,Ut){if(ut&&Tt){var Nn=this.doNavigateValueSet(Tt,Ut);if(Nn)return{range:ut,value:Nn}}if(Pt&&Zt){var In=this.doNavigateValueSet(Zt,Ut);if(In)return{range:Pt,value:In}}return null}},{key:"doNavigateValueSet",value:function(ut,Tt){var Pt=this.numberReplace(ut,Tt);return Pt!==null?Pt:this.textReplace(ut,Tt)}},{key:"numberReplace",value:function(ut,Tt){var Pt=Math.pow(10,ut.length-(ut.lastIndexOf(".")+1)),Zt=Number(ut),Ut=parseFloat(ut);return!isNaN(Zt)&&!isNaN(Ut)&&Zt===Ut?Zt===0&&!Tt?null:(Zt=Math.floor(Zt*Pt),Zt+=Tt?Pt:-Pt,String(Zt/Pt)):null}},{key:"textReplace",value:function(ut,Tt){return this.valueSetsReplace(this._defaultValueSet,ut,Tt)}},{key:"valueSetsReplace",value:function(ut,Tt,Pt){for(var Zt=null,Ut=0,Nn=ut.length;Zt===null&&Ut<Nn;Ut++)Zt=this.valueSetReplace(ut[Ut],Tt,Pt);return Zt}},{key:"valueSetReplace",value:function(ut,Tt,Pt){var Zt=ut.indexOf(Tt);return Zt>=0?(Zt+=Pt?1:-1,Zt<0?Zt=ut.length-1:Zt%=ut.length,ut[Zt]):null}}]),vn}();fe.INSTANCE=new fe;var ye=a("QkrF"),Ee=a("5Y4S"),Ge=a("hcYv"),$e=a("jwCD"),We=a("FWmy"),it=a("VHWv"),Fe=3,He=function(){function vn(){Object(E.a)(this,vn)}return Object(ve.a)(vn,[{key:"computeDiff",value:function(ut,Tt,Pt){var Zt,Ut=new qt(ut,Tt,{maxComputationTime:Pt.maxComputationTimeMs,shouldIgnoreTrimWhitespace:Pt.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}),Nn=Ut.computeDiff(),In=[],Wn=null,oi=Object(le.a)(Nn.changes),bi;try{for(oi.s();!(bi=oi.n()).done;){var _n=bi.value,li=void 0;_n.originalEndLineNumber===0?li=new it.a(_n.originalStartLineNumber+1,_n.originalStartLineNumber+1):li=new it.a(_n.originalStartLineNumber,_n.originalEndLineNumber+1);var ki=void 0;_n.modifiedEndLineNumber===0?ki=new it.a(_n.modifiedStartLineNumber+1,_n.modifiedStartLineNumber+1):ki=new it.a(_n.modifiedStartLineNumber,_n.modifiedEndLineNumber+1);var Ki=new $e.a(li,ki,(Zt=_n.charChanges)===null||Zt===void 0?void 0:Zt.map(function(Tr){return new $e.c(new Y.a(Tr.originalStartLineNumber,Tr.originalStartColumn,Tr.originalEndLineNumber,Tr.originalEndColumn),new Y.a(Tr.modifiedStartLineNumber,Tr.modifiedStartColumn,Tr.modifiedEndLineNumber,Tr.modifiedEndColumn))}));Wn&&(Wn.modifiedRange.endLineNumberExclusive===Ki.modifiedRange.startLineNumber||Wn.originalRange.endLineNumberExclusive===Ki.originalRange.startLineNumber)&&(Ki=new $e.a(Wn.originalRange.join(Ki.originalRange),Wn.modifiedRange.join(Ki.modifiedRange),Wn.innerChanges&&Ki.innerChanges?Wn.innerChanges.concat(Ki.innerChanges):void 0),In.pop()),In.push(Ki),Wn=Ki}}catch(Tr){oi.e(Tr)}finally{oi.f()}return Object(We.a)(function(){return Object(We.c)(In,function(Tr,ir){return ir.originalRange.startLineNumber-Tr.originalRange.endLineNumberExclusive==ir.modifiedRange.startLineNumber-Tr.modifiedRange.endLineNumberExclusive&&Tr.originalRange.endLineNumberExclusive<ir.originalRange.startLineNumber&&Tr.modifiedRange.endLineNumberExclusive<ir.modifiedRange.startLineNumber})}),new $e.b(In,Nn.quitEarly)}}]),vn}();function Ye(vn,Ln,ut,Tt){var Pt=new I.a(vn,Ln,ut);return Pt.ComputeDiff(Tt)}var ot=function(){function vn(Ln){Object(E.a)(this,vn);for(var ut=[],Tt=[],Pt=0,Zt=Ln.length;Pt<Zt;Pt++)ut[Pt]=En(Ln[Pt],1),Tt[Pt]=It(Ln[Pt],1);this.lines=Ln,this._startColumns=ut,this._endColumns=Tt}return Object(ve.a)(vn,[{key:"getElements",value:function(){for(var ut=[],Tt=0,Pt=this.lines.length;Tt<Pt;Tt++)ut[Tt]=this.lines[Tt].substring(this._startColumns[Tt]-1,this._endColumns[Tt]-1);return ut}},{key:"getStrictElement",value:function(ut){return this.lines[ut]}},{key:"getStartLineNumber",value:function(ut){return ut+1}},{key:"getEndLineNumber",value:function(ut){return ut+1}},{key:"createCharSequence",value:function(ut,Tt,Pt){for(var Zt=[],Ut=[],Nn=[],In=0,Wn=Tt;Wn<=Pt;Wn++){for(var oi=this.lines[Wn],bi=ut?this._startColumns[Wn]:1,_n=ut?this._endColumns[Wn]:oi.length+1,li=bi;li<_n;li++)Zt[In]=oi.charCodeAt(li-1),Ut[In]=Wn+1,Nn[In]=li,In++;!ut&&Wn<Pt&&(Zt[In]=10,Ut[In]=Wn+1,Nn[In]=oi.length+1,In++)}return new Kt(Zt,Ut,Nn)}}]),vn}(),Kt=function(){function vn(Ln,ut,Tt){Object(E.a)(this,vn),this._charCodes=Ln,this._lineNumbers=ut,this._columns=Tt}return Object(ve.a)(vn,[{key:"toString",value:function(){var ut=this;return"["+this._charCodes.map(function(Tt,Pt){return(Tt===10?"\\n":String.fromCharCode(Tt))+"-(".concat(ut._lineNumbers[Pt],",").concat(ut._columns[Pt],")")}).join(", ")+"]"}},{key:"_assertIndex",value:function(ut,Tt){if(ut<0||ut>=Tt.length)throw new Error("Illegal index")}},{key:"getElements",value:function(){return this._charCodes}},{key:"getStartLineNumber",value:function(ut){return ut>0&&ut===this._lineNumbers.length?this.getEndLineNumber(ut-1):(this._assertIndex(ut,this._lineNumbers),this._lineNumbers[ut])}},{key:"getEndLineNumber",value:function(ut){return ut===-1?this.getStartLineNumber(ut+1):(this._assertIndex(ut,this._lineNumbers),this._charCodes[ut]===10?this._lineNumbers[ut]+1:this._lineNumbers[ut])}},{key:"getStartColumn",value:function(ut){return ut>0&&ut===this._columns.length?this.getEndColumn(ut-1):(this._assertIndex(ut,this._columns),this._columns[ut])}},{key:"getEndColumn",value:function(ut){return ut===-1?this.getStartColumn(ut+1):(this._assertIndex(ut,this._columns),this._charCodes[ut]===10?1:this._columns[ut]+1)}}]),vn}(),gt=function(){function vn(Ln,ut,Tt,Pt,Zt,Ut,Nn,In){Object(E.a)(this,vn),this.originalStartLineNumber=Ln,this.originalStartColumn=ut,this.originalEndLineNumber=Tt,this.originalEndColumn=Pt,this.modifiedStartLineNumber=Zt,this.modifiedStartColumn=Ut,this.modifiedEndLineNumber=Nn,this.modifiedEndColumn=In}return Object(ve.a)(vn,null,[{key:"createFromDiffChange",value:function(ut,Tt,Pt){var Zt=Tt.getStartLineNumber(ut.originalStart),Ut=Tt.getStartColumn(ut.originalStart),Nn=Tt.getEndLineNumber(ut.originalStart+ut.originalLength-1),In=Tt.getEndColumn(ut.originalStart+ut.originalLength-1),Wn=Pt.getStartLineNumber(ut.modifiedStart),oi=Pt.getStartColumn(ut.modifiedStart),bi=Pt.getEndLineNumber(ut.modifiedStart+ut.modifiedLength-1),_n=Pt.getEndColumn(ut.modifiedStart+ut.modifiedLength-1);return new vn(Zt,Ut,Nn,In,Wn,oi,bi,_n)}}]),vn}();function Ft(vn){if(vn.length<=1)return vn;for(var Ln=[vn[0]],ut=Ln[0],Tt=1,Pt=vn.length;Tt<Pt;Tt++){var Zt=vn[Tt],Ut=Zt.originalStart-(ut.originalStart+ut.originalLength),Nn=Zt.modifiedStart-(ut.modifiedStart+ut.modifiedLength),In=Math.min(Ut,Nn);In<Fe?(ut.originalLength=Zt.originalStart+Zt.originalLength-ut.originalStart,ut.modifiedLength=Zt.modifiedStart+Zt.modifiedLength-ut.modifiedStart):(Ln.push(Zt),ut=Zt)}return Ln}var Jt=function(){function vn(Ln,ut,Tt,Pt,Zt){Object(E.a)(this,vn),this.originalStartLineNumber=Ln,this.originalEndLineNumber=ut,this.modifiedStartLineNumber=Tt,this.modifiedEndLineNumber=Pt,this.charChanges=Zt}return Object(ve.a)(vn,null,[{key:"createFromDiffResult",value:function(ut,Tt,Pt,Zt,Ut,Nn,In){var Wn,oi,bi,_n,li=void 0;if(Tt.originalLength===0?(Wn=Pt.getStartLineNumber(Tt.originalStart)-1,oi=0):(Wn=Pt.getStartLineNumber(Tt.originalStart),oi=Pt.getEndLineNumber(Tt.originalStart+Tt.originalLength-1)),Tt.modifiedLength===0?(bi=Zt.getStartLineNumber(Tt.modifiedStart)-1,_n=0):(bi=Zt.getStartLineNumber(Tt.modifiedStart),_n=Zt.getEndLineNumber(Tt.modifiedStart+Tt.modifiedLength-1)),Nn&&Tt.originalLength>0&&Tt.originalLength<20&&Tt.modifiedLength>0&&Tt.modifiedLength<20&&Ut()){var ki=Pt.createCharSequence(ut,Tt.originalStart,Tt.originalStart+Tt.originalLength-1),Ki=Zt.createCharSequence(ut,Tt.modifiedStart,Tt.modifiedStart+Tt.modifiedLength-1);if(ki.getElements().length>0&&Ki.getElements().length>0){var Tr=Ye(ki,Ki,Ut,!0).changes;In&&(Tr=Ft(Tr)),li=[];for(var ir=0,Er=Tr.length;ir<Er;ir++)li.push(gt.createFromDiffChange(Tr[ir],ki,Ki))}}return new vn(Wn,oi,bi,_n,li)}}]),vn}(),qt=function(){function vn(Ln,ut,Tt){Object(E.a)(this,vn),this.shouldComputeCharChanges=Tt.shouldComputeCharChanges,this.shouldPostProcessCharChanges=Tt.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=Tt.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=Tt.shouldMakePrettyDiff,this.originalLines=Ln,this.modifiedLines=ut,this.original=new ot(Ln),this.modified=new ot(ut),this.continueLineDiff=si(Tt.maxComputationTime),this.continueCharDiff=si(Tt.maxComputationTime===0?0:Math.min(Tt.maxComputationTime,5e3))}return Object(ve.a)(vn,[{key:"computeDiff",value:function(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};var ut=Ye(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),Tt=ut.changes,Pt=ut.quitEarly;if(this.shouldIgnoreTrimWhitespace){for(var Zt=[],Ut=0,Nn=Tt.length;Ut<Nn;Ut++)Zt.push(Jt.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Tt[Ut],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:Pt,changes:Zt}}for(var In=[],Wn=0,oi=0,bi=-1,_n=Tt.length;bi<_n;bi++){for(var li=bi+1<_n?Tt[bi+1]:null,ki=li?li.originalStart:this.originalLines.length,Ki=li?li.modifiedStart:this.modifiedLines.length;Wn<ki&&oi<Ki;){var Tr=this.originalLines[Wn],ir=this.modifiedLines[oi];if(Tr!==ir){{for(var Er=En(Tr,1),va=En(ir,1);Er>1&&va>1;){var Sn=Tr.charCodeAt(Er-2),ri=ir.charCodeAt(va-2);if(Sn!==ri)break;Er--,va--}(Er>1||va>1)&&this._pushTrimWhitespaceCharChange(In,Wn+1,1,Er,oi+1,1,va)}{for(var Vn=It(Tr,1),Ai=It(ir,1),or=Tr.length+1,Zi=ir.length+1;Vn<or&&Ai<Zi;){var zi=Tr.charCodeAt(Vn-1),Wr=Tr.charCodeAt(Ai-1);if(zi!==Wr)break;Vn++,Ai++}(Vn<or||Ai<Zi)&&this._pushTrimWhitespaceCharChange(In,Wn+1,Vn,or,oi+1,Ai,Zi)}}Wn++,oi++}li&&(In.push(Jt.createFromDiffResult(this.shouldIgnoreTrimWhitespace,li,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),Wn+=li.originalLength,oi+=li.modifiedLength)}return{quitEarly:Pt,changes:In}}},{key:"_pushTrimWhitespaceCharChange",value:function(ut,Tt,Pt,Zt,Ut,Nn,In){if(!this._mergeTrimWhitespaceCharChange(ut,Tt,Pt,Zt,Ut,Nn,In)){var Wn=void 0;this.shouldComputeCharChanges&&(Wn=[new gt(Tt,Pt,Tt,Zt,Ut,Nn,Ut,In)]),ut.push(new Jt(Tt,Tt,Ut,Ut,Wn))}}},{key:"_mergeTrimWhitespaceCharChange",value:function(ut,Tt,Pt,Zt,Ut,Nn,In){var Wn=ut.length;if(Wn===0)return!1;var oi=ut[Wn-1];return oi.originalEndLineNumber===0||oi.modifiedEndLineNumber===0?!1:oi.originalEndLineNumber===Tt&&oi.modifiedEndLineNumber===Ut?(this.shouldComputeCharChanges&&oi.charChanges&&oi.charChanges.push(new gt(Tt,Pt,Tt,Zt,Ut,Nn,Ut,In)),!0):oi.originalEndLineNumber+1===Tt&&oi.modifiedEndLineNumber+1===Ut?(oi.originalEndLineNumber=Tt,oi.modifiedEndLineNumber=Ut,this.shouldComputeCharChanges&&oi.charChanges&&oi.charChanges.push(new gt(Tt,Pt,Tt,Zt,Ut,Nn,Ut,In)),!0):!1}}]),vn}();function En(vn,Ln){var ut=F.u(vn);return ut===-1?Ln:ut+1}function It(vn,Ln){var ut=F.J(vn);return ut===-1?Ln:ut+2}function si(vn){if(vn===0)return function(){return!0};var Ln=Date.now();return function(){return Date.now()-Ln<vn}}var On=a("oBTY"),Gn=a("7/IO"),ci=function(){function vn(Ln,ut){Object(E.a)(this,vn),this.diffs=Ln,this.hitTimeout=ut}return Object(ve.a)(vn,null,[{key:"trivial",value:function(ut,Tt){return new vn([new Dn(new Gn.a(0,ut.length),new Gn.a(0,Tt.length))],!1)}},{key:"trivialTimedOut",value:function(ut,Tt){return new vn([new Dn(new Gn.a(0,ut.length),new Gn.a(0,Tt.length))],!0)}}]),vn}(),Dn=function(){function vn(Ln,ut){Object(E.a)(this,vn),this.seq1Range=Ln,this.seq2Range=ut}return Object(ve.a)(vn,[{key:"reverse",value:function(){return new vn(this.seq2Range,this.seq1Range)}},{key:"toString",value:function(){return"".concat(this.seq1Range," <-> ").concat(this.seq2Range)}},{key:"join",value:function(ut){return new vn(this.seq1Range.join(ut.seq1Range),this.seq2Range.join(ut.seq2Range))}}]),vn}(),An=function(){function vn(){Object(E.a)(this,vn)}return Object(ve.a)(vn,[{key:"isValid",value:function(){return!0}}]),vn}();An.instance=new An;var fr=function(){function vn(Ln){if(Object(E.a)(this,vn),this.timeout=Ln,this.startTime=Date.now(),this.valid=!0,Ln<=0)throw new ne.a("timeout must be positive")}return Object(ve.a)(vn,[{key:"isValid",value:function(){var ut=Date.now()-this.startTime<this.timeout;if(!ut&&this.valid){this.valid=!1;debugger}return this.valid}}]),vn}(),Vi=function(){function vn(Ln,ut){Object(E.a)(this,vn),this.width=Ln,this.height=ut,this.array=[],this.array=new Array(Ln*ut)}return Object(ve.a)(vn,[{key:"get",value:function(ut,Tt){return this.array[ut+Tt*this.width]}},{key:"set",value:function(ut,Tt,Pt){this.array[ut+Tt*this.width]=Pt}}]),vn}(),Sr=function(){function vn(){Object(E.a)(this,vn)}return Object(ve.a)(vn,[{key:"compute",value:function(ut,Tt){var Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:An.instance,Zt=arguments.length>3?arguments[3]:void 0;if(ut.length===0||Tt.length===0)return ci.trivial(ut,Tt);for(var Ut=new Vi(ut.length,Tt.length),Nn=new Vi(ut.length,Tt.length),In=new Vi(ut.length,Tt.length),Wn=0;Wn<ut.length;Wn++)for(var oi=0;oi<Tt.length;oi++){if(!Pt.isValid())return ci.trivialTimedOut(ut,Tt);var bi=Wn===0?0:Ut.get(Wn-1,oi),_n=oi===0?0:Ut.get(Wn,oi-1),li=void 0;ut.getElement(Wn)===Tt.getElement(oi)?(Wn===0||oi===0?li=0:li=Ut.get(Wn-1,oi-1),Wn>0&&oi>0&&Nn.get(Wn-1,oi-1)===3&&(li+=In.get(Wn-1,oi-1)),li+=Zt?Zt(Wn,oi):1):li=-1;var ki=Math.max(bi,_n,li);if(ki===li){var Ki=Wn>0&&oi>0?In.get(Wn-1,oi-1):0;In.set(Wn,oi,Ki+1),Nn.set(Wn,oi,3)}else ki===bi?(In.set(Wn,oi,0),Nn.set(Wn,oi,1)):ki===_n&&(In.set(Wn,oi,0),Nn.set(Wn,oi,2));Ut.set(Wn,oi,ki)}var Tr=[],ir=ut.length,Er=Tt.length;function va(Vn,Ai){(Vn+1!==ir||Ai+1!==Er)&&Tr.push(new Dn(new Gn.a(Vn+1,ir),new Gn.a(Ai+1,Er))),ir=Vn,Er=Ai}for(var Sn=ut.length-1,ri=Tt.length-1;Sn>=0&&ri>=0;)Nn.get(Sn,ri)===3?(va(Sn,ri),Sn--,ri--):Nn.get(Sn,ri)===1?Sn--:ri--;return va(-1,-1),Tr.reverse(),new ci(Tr,!1)}}]),vn}();function Pi(vn,Ln,ut){var Tt=ut;return Tt=Cr(vn,Ln,Tt),Tt=zn(vn,Ln,Tt),Tt}function Ei(vn,Ln,ut){var Tt=[],Pt=Object(le.a)(ut),Zt;try{for(Pt.s();!(Zt=Pt.n()).done;){var Ut=Zt.value,Nn=Tt[Tt.length-1];if(!Nn){Tt.push(Ut);continue}Ut.seq1Range.start-Nn.seq1Range.endExclusive<=2||Ut.seq2Range.start-Nn.seq2Range.endExclusive<=2?Tt[Tt.length-1]=new Dn(Nn.seq1Range.join(Ut.seq1Range),Nn.seq2Range.join(Ut.seq2Range)):Tt.push(Ut)}}catch(In){Pt.e(In)}finally{Pt.f()}return Tt}function Cr(vn,Ln,ut){var Tt=[];ut.length>0&&Tt.push(ut[0]);for(var Pt=1;Pt<ut.length;Pt++){var Zt=Tt[Tt.length-1],Ut=ut[Pt];if(Ut.seq1Range.isEmpty){for(var Nn=!0,In=Ut.seq1Range.start-Zt.seq1Range.endExclusive,Wn=1;Wn<=In;Wn++)if(Ln.getElement(Ut.seq2Range.start-Wn)!==Ln.getElement(Ut.seq2Range.endExclusive-Wn)){Nn=!1;break}if(Nn){Tt[Tt.length-1]=new Dn(Zt.seq1Range,new Gn.a(Zt.seq2Range.start,Ut.seq2Range.endExclusive-In));continue}}Tt.push(Ut)}return Tt}function zn(vn,Ln,ut){if(!vn.getBoundaryScore||!Ln.getBoundaryScore)return ut;for(var Tt=0;Tt<ut.length;Tt++){var Pt=ut[Tt];if(Pt.seq1Range.isEmpty){var Zt=Tt>0?ut[Tt-1].seq2Range.endExclusive:-1,Ut=Tt+1<ut.length?ut[Tt+1].seq2Range.start:Ln.length;ut[Tt]=dr(Pt,vn,Ln,Ut,Zt)}else if(Pt.seq2Range.isEmpty){var Nn=Tt>0?ut[Tt-1].seq1Range.endExclusive:-1,In=Tt+1<ut.length?ut[Tt+1].seq1Range.start:vn.length;ut[Tt]=dr(Pt.reverse(),Ln,vn,In,Nn).reverse()}}return ut}function dr(vn,Ln,ut,Tt,Pt){for(var Zt=20,Ut=1;vn.seq2Range.start-Ut>Pt&&ut.getElement(vn.seq2Range.start-Ut)===ut.getElement(vn.seq2Range.endExclusive-Ut)&&Ut<Zt;)Ut++;Ut--;for(var Nn=0;vn.seq2Range.start+Nn<Tt&&ut.getElement(vn.seq2Range.start+Nn)===ut.getElement(vn.seq2Range.endExclusive+Nn)&&Nn<Zt;)Nn++;if(Ut===0&&Nn===0)return vn;for(var In=0,Wn=-1,oi=-Ut;oi<=Nn;oi++){var bi=vn.seq2Range.start+oi,_n=vn.seq2Range.endExclusive+oi,li=vn.seq1Range.start+oi,ki=Ln.getBoundaryScore(li)+ut.getBoundaryScore(bi)+ut.getBoundaryScore(_n);ki>Wn&&(Wn=ki,In=oi)}return In!==0?new Dn(vn.seq1Range.delta(In),vn.seq2Range.delta(In)):vn}var Hn=function(){function vn(){Object(E.a)(this,vn)}return Object(ve.a)(vn,[{key:"compute",value:function(ut,Tt){var Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:An.instance;if(ut.length===0||Tt.length===0)return ci.trivial(ut,Tt);function Zt(Vn,Ai){for(;Vn<ut.length&&Ai<Tt.length&&ut.getElement(Vn)===Tt.getElement(Ai);)Vn++,Ai++;return Vn}var Ut=0,Nn=new hn;Nn.set(0,Zt(0,0));var In=new Xn;In.set(0,Nn.get(0)===0?null:new mi(null,0,0,Nn.get(0)));var Wn=0;e:for(;;)for(Ut++,Wn=-Ut;Wn<=Ut;Wn+=2){if(!Pt.isValid())return ci.trivialTimedOut(ut,Tt);var oi=Wn===Ut?-1:Nn.get(Wn+1),bi=Wn===-Ut?-1:Nn.get(Wn-1)+1,_n=Math.min(Math.max(oi,bi),ut.length),li=_n-Wn,ki=Zt(_n,li);Nn.set(Wn,ki);var Ki=_n===oi?In.get(Wn+1):In.get(Wn-1);if(In.set(Wn,ki!==_n?new mi(Ki,_n,li,ki-_n):Ki),Nn.get(Wn)===ut.length&&Nn.get(Wn)-Wn===Tt.length)break e}for(var Tr=In.get(Wn),ir=[],Er=ut.length,va=Tt.length;;){var Sn=Tr?Tr.x+Tr.length:0,ri=Tr?Tr.y+Tr.length:0;if((Sn!==Er||ri!==va)&&ir.push(new Dn(new Gn.a(Sn,Er),new Gn.a(ri,va))),!Tr)break;Er=Tr.x,va=Tr.y,Tr=Tr.prev}return ir.reverse(),new ci(ir,!1)}}]),vn}(),mi=Object(ve.a)(function vn(Ln,ut,Tt,Pt){Object(E.a)(this,vn),this.prev=Ln,this.x=ut,this.y=Tt,this.length=Pt}),hn=function(){function vn(){Object(E.a)(this,vn),this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}return Object(ve.a)(vn,[{key:"get",value:function(ut){return ut<0?(ut=-ut-1,this.negativeArr[ut]):this.positiveArr[ut]}},{key:"set",value:function(ut,Tt){if(ut<0){if(ut=-ut-1,ut>=this.negativeArr.length){var Pt=this.negativeArr;this.negativeArr=new Int32Array(Pt.length*2),this.negativeArr.set(Pt)}this.negativeArr[ut]=Tt}else{if(ut>=this.positiveArr.length){var Zt=this.positiveArr;this.positiveArr=new Int32Array(Zt.length*2),this.positiveArr.set(Zt)}this.positiveArr[ut]=Tt}}}]),vn}(),Xn=function(){function vn(){Object(E.a)(this,vn),this.positiveArr=[],this.negativeArr=[]}return Object(ve.a)(vn,[{key:"get",value:function(ut){return ut<0?(ut=-ut-1,this.negativeArr[ut]):this.positiveArr[ut]}},{key:"set",value:function(ut,Tt){ut<0?(ut=-ut-1,this.negativeArr[ut]=Tt):this.positiveArr[ut]=Tt}}]),vn}(),en,yt=Object(De.a)().mark(Ci),wn=function(){function vn(){Object(E.a)(this,vn),this.dynamicProgrammingDiffing=new Sr,this.myersDiffingAlgorithm=new Hn}return Object(ve.a)(vn,[{key:"computeDiff",value:function(ut,Tt,Pt){var Zt=this,Ut=Pt.maxComputationTimeMs===0?An.instance:new fr(Pt.maxComputationTimeMs),Nn=!Pt.ignoreTrimWhitespace,In=new Map;function Wn(Zi){var zi=In.get(Zi);return zi===void 0&&(zi=In.size,In.set(Zi,zi)),zi}var oi=ut.map(function(Zi){return Wn(Zi.trim())}),bi=Tt.map(function(Zi){return Wn(Zi.trim())}),_n=new yr(oi,ut),li=new yr(bi,Tt),ki=function(){return _n.length+li.length<1500?Zt.dynamicProgrammingDiffing.compute(_n,li,Ut,function(Zi,zi){return ut[Zi]===Tt[zi]?Tt[zi].length===0?.1:1+Math.log(1+Tt[zi].length):.99}):Zt.myersDiffingAlgorithm.compute(_n,li)}(),Ki=ki.diffs,Tr=ki.hitTimeout;Ki=Pi(_n,li,Ki);var ir=[],Er=function(zi){if(!!Nn)for(var Wr=0;Wr<zi;Wr++){var Ra=va+Wr,Nr=Sn+Wr;if(ut[Ra]!==Tt[Nr]){var xa=Zt.refineDiff(ut,Tt,new Dn(new Gn.a(Ra,Ra+1),new Gn.a(Nr,Nr+1)),Ut,Nn),Qa=Object(le.a)(xa.mappings),ia;try{for(Qa.s();!(ia=Qa.n()).done;){var io=ia.value;ir.push(io)}}catch(ro){Qa.e(ro)}finally{Qa.f()}xa.hitTimeout&&(Tr=!0)}}},va=0,Sn=0,ri=Object(le.a)(Ki),Vn;try{var Ai=function(){var zi=Vn.value;Object(We.a)(function(){return zi.seq1Range.start-va==zi.seq2Range.start-Sn});var Wr=zi.seq1Range.start-va;Er(Wr),va=zi.seq1Range.endExclusive,Sn=zi.seq2Range.endExclusive;var Ra=Zt.refineDiff(ut,Tt,zi,Ut,Nn);Ra.hitTimeout&&(Tr=!0);var Nr=Object(le.a)(Ra.mappings),xa;try{for(Nr.s();!(xa=Nr.n()).done;){var Qa=xa.value;ir.push(Qa)}}catch(ia){Nr.e(ia)}finally{Nr.f()}};for(ri.s();!(Vn=ri.n()).done;)Ai()}catch(Zi){ri.e(Zi)}finally{ri.f()}Er(ut.length-va);var or=bn(ir,ut,Tt);return new $e.b(or,Tr)}},{key:"refineDiff",value:function(ut,Tt,Pt,Zt,Ut){var Nn=new Bn(ut,Pt.seq1Range,Ut),In=new Bn(Tt,Pt.seq2Range,Ut),Wn=Nn.length+In.length<500?this.dynamicProgrammingDiffing.compute(Nn,In,Zt):this.myersDiffingAlgorithm.compute(Nn,In,Zt),oi=Wn.diffs;oi=Pi(Nn,In,oi),oi=gn(Nn,In,oi),oi=Ei(Nn,In,oi);var bi=oi.map(function(_n){return new $e.c(Nn.translateRange(_n.seq1Range),In.translateRange(_n.seq2Range))});return{mappings:bi,hitTimeout:Wn.hitTimeout}}}]),vn}();function gn(vn,Ln,ut){var Tt=[],Pt=void 0;function Zt(){if(!!Pt){var oi=Pt.s1Range.length-Pt.deleted,bi=Pt.s2Range.length-Pt.added;Math.max(Pt.deleted,Pt.added)+(Pt.count-1)>oi&&Tt.push(new Dn(Pt.s1Range,Pt.s2Range)),Pt=void 0}}var Ut=Object(le.a)(ut),Nn;try{var In=function(){var bi=Nn.value;function _n(ir,Er){var va,Sn,ri,Vn;if(!Pt||!Pt.s1Range.containsRange(ir)||!Pt.s2Range.containsRange(Er))if(Pt&&!(Pt.s1Range.endExclusive<ir.start&&Pt.s2Range.endExclusive<Er.start)){var Ai=Gn.a.tryCreate(Pt.s1Range.endExclusive,ir.start),or=Gn.a.tryCreate(Pt.s2Range.endExclusive,Er.start);Pt.deleted+=(va=Ai==null?void 0:Ai.length)!==null&&va!==void 0?va:0,Pt.added+=(Sn=or==null?void 0:or.length)!==null&&Sn!==void 0?Sn:0,Pt.s1Range=Pt.s1Range.join(ir),Pt.s2Range=Pt.s2Range.join(Er)}else Zt(),Pt={added:0,deleted:0,count:0,s1Range:ir,s2Range:Er};var Zi=ir.intersect(bi.seq1Range),zi=Er.intersect(bi.seq2Range);Pt.count++,Pt.deleted+=(ri=Zi==null?void 0:Zi.length)!==null&&ri!==void 0?ri:0,Pt.added+=(Vn=zi==null?void 0:zi.length)!==null&&Vn!==void 0?Vn:0}var li=vn.findWordContaining(bi.seq1Range.start-1),ki=Ln.findWordContaining(bi.seq2Range.start-1),Ki=vn.findWordContaining(bi.seq1Range.endExclusive),Tr=Ln.findWordContaining(bi.seq2Range.endExclusive);li&&Ki&&ki&&Tr&&li.equals(Ki)&&ki.equals(Tr)?_n(li,ki):(li&&ki&&_n(li,ki),Ki&&Tr&&_n(Ki,Tr))};for(Ut.s();!(Nn=Ut.n()).done;)In()}catch(oi){Ut.e(oi)}finally{Ut.f()}Zt();var Wn=rn(ut,Tt);return Wn}function rn(vn,Ln){for(var ut=[];vn.length>0||Ln.length>0;){var Tt=vn[0],Pt=Ln[0],Zt=void 0;Tt&&(!Pt||Tt.seq1Range.start<Pt.seq1Range.start)?Zt=vn.shift():Zt=Ln.shift(),ut.length>0&&ut[ut.length-1].seq1Range.endExclusive>=Zt.seq1Range.start?ut[ut.length-1]=ut[ut.length-1].join(Zt):ut.push(Zt)}return ut}function bn(vn,Ln,ut){var Tt=[],Pt=Object(le.a)(Ci(vn.map(function(Wn){return Qn(Wn,Ln,ut)}),function(Wn,oi){return Wn.originalRange.overlapOrTouch(oi.originalRange)||Wn.modifiedRange.overlapOrTouch(oi.modifiedRange)})),Zt;try{for(Pt.s();!(Zt=Pt.n()).done;){var Ut=Zt.value,Nn=Ut[0],In=Ut[Ut.length-1];Tt.push(new $e.a(Nn.originalRange.join(In.originalRange),Nn.modifiedRange.join(In.modifiedRange),Ut.map(function(Wn){return Wn.innerChanges[0]})))}}catch(Wn){Pt.e(Wn)}finally{Pt.f()}return Object(We.a)(function(){return Object(We.c)(Tt,function(Wn,oi){return oi.originalRange.startLineNumber-Wn.originalRange.endLineNumberExclusive==oi.modifiedRange.startLineNumber-Wn.modifiedRange.endLineNumberExclusive&&Wn.originalRange.endLineNumberExclusive<oi.originalRange.startLineNumber&&Wn.modifiedRange.endLineNumberExclusive<oi.modifiedRange.startLineNumber})}),Tt}function Qn(vn,Ln,ut){var Tt=0,Pt=0;vn.modifiedRange.startColumn-1>=ut[vn.modifiedRange.startLineNumber-1].length&&vn.originalRange.startColumn-1>=Ln[vn.originalRange.startLineNumber-1].length&&(Tt=1),vn.modifiedRange.endColumn===1&&vn.originalRange.endColumn===1&&vn.originalRange.startLineNumber+Tt<=vn.originalRange.endLineNumber&&vn.modifiedRange.startLineNumber+Tt<=vn.modifiedRange.endLineNumber&&(Pt=-1);var Zt=new it.a(vn.originalRange.startLineNumber+Tt,vn.originalRange.endLineNumber+1+Pt),Ut=new it.a(vn.modifiedRange.startLineNumber+Tt,vn.modifiedRange.endLineNumber+1+Pt);return new $e.a(Zt,Ut,[vn])}function Ci(vn,Ln){var ut,Tt,Pt,Zt,Ut;return Object(De.a)().wrap(function(In){for(;;)switch(In.prev=In.next){case 0:Pt=Object(le.a)(vn),In.prev=1,Pt.s();case 3:if((Zt=Pt.n()).done){In.next=16;break}if(Ut=Zt.value,!(Tt!==void 0&&Ln(Tt,Ut))){In.next=9;break}ut.push(Ut),In.next=13;break;case 9:if(!ut){In.next=12;break}return In.next=12,ut;case 12:ut=[Ut];case 13:Tt=Ut;case 14:In.next=3;break;case 16:In.next=21;break;case 18:In.prev=18,In.t0=In.catch(1),Pt.e(In.t0);case 21:return In.prev=21,Pt.f(),In.finish(21);case 24:if(!ut){In.next=27;break}return In.next=27,ut;case 27:case"end":return In.stop()}},yt,null,[[1,18,21,24]])}var yr=function(){function vn(Ln,ut){Object(E.a)(this,vn),this.trimmedHash=Ln,this.lines=ut}return Object(ve.a)(vn,[{key:"getElement",value:function(ut){return this.trimmedHash[ut]}},{key:"length",get:function(){return this.trimmedHash.length}},{key:"getBoundaryScore",value:function(ut){var Tt=ut===0?0:_i(this.lines[ut-1]),Pt=ut===this.lines.length?0:_i(this.lines[ut]);return 1e3-(Tt+Pt)}}]),vn}();function _i(vn){for(var Ln=0;Ln<vn.length&&(vn.charCodeAt(Ln)===32||vn.charCodeAt(Ln)===9);)Ln++;return Ln}var Bn=function(){function vn(Ln,ut,Tt){Object(E.a)(this,vn),this.lines=Ln,this.considerWhitespaceChanges=Tt,this.elements=[],this.firstCharOffsetByLineMinusOne=[],this.offsetByLine=[];var Pt=!1;ut.start>0&&ut.endExclusive>=Ln.length&&(ut=new Gn.a(ut.start-1,ut.endExclusive),Pt=!0),this.lineRange=ut;for(var Zt=this.lineRange.start;Zt<this.lineRange.endExclusive;Zt++){var Ut=Ln[Zt],Nn=0;if(Pt)Nn=Ut.length,Ut="",Pt=!1;else if(!Tt){var In=Ut.trimStart();Nn=Ut.length-In.length,Ut=In.trimEnd()}this.offsetByLine.push(Nn);for(var Wn=0;Wn<Ut.length;Wn++)this.elements.push(Ut.charCodeAt(Wn));Zt<Ln.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLineMinusOne[Zt-this.lineRange.start]=this.elements.length)}this.offsetByLine.push(0)}return Object(ve.a)(vn,[{key:"toString",value:function(){return'Slice: "'.concat(this.text,'"')}},{key:"text",get:function(){return Object(On.a)(this.elements).map(function(ut){return String.fromCharCode(ut)}).join("")}},{key:"getElement",value:function(ut){return this.elements[ut]}},{key:"length",get:function(){return this.elements.length}},{key:"getBoundaryScore",value:function(ut){var Tt=Qi(ut>0?this.elements[ut-1]:-1),Pt=Qi(ut<this.elements.length?this.elements[ut]:-1);if(Tt===6&&Pt===7)return 0;var Zt=0;return Tt!==Pt&&(Zt+=10,Pt===1&&(Zt+=1)),Zt+=xi(Tt),Zt+=xi(Pt),Zt}},{key:"translateOffset",value:function(ut){if(this.lineRange.isEmpty)return new Re.a(this.lineRange.start+1,1);for(var Tt=0,Pt=this.firstCharOffsetByLineMinusOne.length;Tt<Pt;){var Zt=Math.floor((Tt+Pt)/2);this.firstCharOffsetByLineMinusOne[Zt]>ut?Pt=Zt:Tt=Zt+1}var Ut=Tt===0?0:this.firstCharOffsetByLineMinusOne[Tt-1];return new Re.a(this.lineRange.start+Tt+1,ut-Ut+1+this.offsetByLine[Tt])}},{key:"translateRange",value:function(ut){return Y.a.fromPositions(this.translateOffset(ut.start),this.translateOffset(ut.endExclusive))}},{key:"findWordContaining",value:function(ut){if(!(ut<0||ut>=this.elements.length)&&!!tt(this.elements[ut])){for(var Tt=ut;Tt>0&&tt(this.elements[Tt-1]);)Tt--;for(var Pt=ut;Pt<this.elements.length&&tt(this.elements[Pt]);)Pt++;return new Gn.a(Tt,Pt)}}}]),vn}();function tt(vn){return vn>=97&&vn<=122||vn>=65&&vn<=90||vn>=48&&vn<=57}var Lt=(en={},Object(me.a)(en,0,0),Object(me.a)(en,1,0),Object(me.a)(en,2,0),Object(me.a)(en,3,10),Object(me.a)(en,4,2),Object(me.a)(en,5,3),Object(me.a)(en,6,10),Object(me.a)(en,7,10),en);function xi(vn){return Lt[vn]}function Qi(vn){return vn===10?7:vn===13?6:mr(vn)?5:vn>=97&&vn<=122?0:vn>=65&&vn<=90?1:vn>=48&&vn<=57?2:vn===-1?3:4}function mr(vn){return vn===32||vn===9}var pr={legacy:new He,advanced:new wn},St=a("zrhQ");function Gi(vn){var Ln=[],ut=Object(le.a)(vn),Tt;try{for(ut.s();!(Tt=ut.n()).done;){var Pt=Tt.value,Zt=Number(Pt);(Zt||Zt===0&&Pt.replace(/\s/g,"")!=="")&&Ln.push(Zt)}}catch(Ut){ut.e(Ut)}finally{ut.f()}return Ln}function an(vn,Ln,ut,Tt){return{red:vn/255,blue:ut/255,green:Ln/255,alpha:Tt}}function Qe(vn,Ln){var ut=Ln.index,Tt=Ln[0].length;if(!!ut){var Pt=vn.positionAt(ut),Zt={startLineNumber:Pt.lineNumber,startColumn:Pt.column,endLineNumber:Pt.lineNumber,endColumn:Pt.column+Tt};return Zt}}function Jn(vn,Ln){if(!!vn){var ut=St.a.Format.CSS.parseHex(Ln);if(!!ut)return{range:vn,color:an(ut.rgba.r,ut.rgba.g,ut.rgba.b,ut.rgba.a)}}}function ii(vn,Ln,ut){if(!(!vn||Ln.length!==1)){var Tt=Ln[0],Pt=Tt.values(),Zt=Gi(Pt);return{range:vn,color:an(Zt[0],Zt[1],Zt[2],ut?Zt[3]:1)}}}function Li(vn,Ln,ut){if(!(!vn||Ln.length!==1)){var Tt=Ln[0],Pt=Tt.values(),Zt=Gi(Pt),Ut=new St.a(new St.b(Zt[0],Zt[1]/100,Zt[2]/100,ut?Zt[3]:1));return{range:vn,color:an(Ut.rgba.r,Ut.rgba.g,Ut.rgba.b,Ut.rgba.a)}}}function Fn(vn,Ln){return typeof vn=="string"?Object(On.a)(vn.matchAll(Ln)):vn.findMatches(Ln)}function jn(vn){var Ln=[],ut=/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm,Tt=Fn(vn,ut);if(Tt.length>0){var Pt=Object(le.a)(Tt),Zt;try{for(Pt.s();!(Zt=Pt.n()).done;){var Ut=Zt.value,Nn=Ut.filter(function(Ki){return Ki!==void 0}),In=Nn[1],Wn=Nn[2];if(!!Wn){var oi=void 0;if(In==="rgb"){var bi=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;oi=ii(Qe(vn,Ut),Fn(Wn,bi),!1)}else if(In==="rgba"){var _n=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;oi=ii(Qe(vn,Ut),Fn(Wn,_n),!0)}else if(In==="hsl"){var li=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;oi=Li(Qe(vn,Ut),Fn(Wn,li),!1)}else if(In==="hsla"){var ki=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;oi=Li(Qe(vn,Ut),Fn(Wn,ki),!0)}else In==="#"&&(oi=Jn(Qe(vn,Ut),In+Wn));oi&&Ln.push(oi)}}}catch(Ki){Pt.e(Ki)}finally{Pt.f()}}return Ln}function Nt(vn){return!vn||typeof vn.getValue!="function"||typeof vn.positionAt!="function"?[]:jn(vn)}var Gt=function(vn,Ln,ut,Tt){function Pt(Zt){return Zt instanceof ut?Zt:new ut(function(Ut){Ut(Zt)})}return new(ut||(ut=Promise))(function(Zt,Ut){function Nn(oi){try{Wn(Tt.next(oi))}catch(bi){Ut(bi)}}function In(oi){try{Wn(Tt.throw(oi))}catch(bi){Ut(bi)}}function Wn(oi){oi.done?Zt(oi.value):Pt(oi.value).then(Nn,In)}Wn((Tt=Tt.apply(vn,Ln||[])).next())})},Et=function(vn){Object($.a)(ut,vn);var Ln=Object(y.a)(ut);function ut(){return Object(E.a)(this,ut),Ln.apply(this,arguments)}return Object(ve.a)(ut,[{key:"uri",get:function(){return this._uri}},{key:"eol",get:function(){return this._eol}},{key:"getValue",value:function(){return this.getText()}},{key:"findMatches",value:function(Pt){for(var Zt=[],Ut=0;Ut<this._lines.length;Ut++){var Nn=this._lines[Ut],In=this.offsetAt(new Re.a(Ut+1,1)),Wn=Nn.matchAll(Pt),oi=Object(le.a)(Wn),bi;try{for(oi.s();!(bi=oi.n()).done;){var _n=bi.value;(_n.index||_n.index===0)&&(_n.index=_n.index+In),Zt.push(_n)}}catch(li){oi.e(li)}finally{oi.f()}}return Zt}},{key:"getLinesContent",value:function(){return this._lines.slice(0)}},{key:"getLineCount",value:function(){return this._lines.length}},{key:"getLineContent",value:function(Pt){return this._lines[Pt-1]}},{key:"getWordAtPosition",value:function(Pt,Zt){var Ut=Object(Ne.d)(Pt.column,Object(Ne.c)(Zt),this._lines[Pt.lineNumber-1],0);return Ut?new Y.a(Pt.lineNumber,Ut.startColumn,Pt.lineNumber,Ut.endColumn):null}},{key:"words",value:function(Pt){var Zt=this._lines,Ut=this._wordenize.bind(this),Nn=0,In="",Wn=0,oi=[];return Object(me.a)({},Symbol.iterator,Object(De.a)().mark(function bi(){var _n;return Object(De.a)().wrap(function(ki){for(;;)switch(ki.prev=ki.next){case 0:if(!(Wn<oi.length)){ki.next=8;break}return _n=In.substring(oi[Wn].start,oi[Wn].end),Wn+=1,ki.next=6,_n;case 6:ki.next=16;break;case 8:if(!(Nn<Zt.length)){ki.next=15;break}In=Zt[Nn],oi=Ut(In,Pt),Wn=0,Nn+=1,ki.next=16;break;case 15:return ki.abrupt("break",18);case 16:ki.next=0;break;case 18:case"end":return ki.stop()}},bi)}))}},{key:"getLineWords",value:function(Pt,Zt){var Ut=this._lines[Pt-1],Nn=this._wordenize(Ut,Zt),In=[],Wn=Object(le.a)(Nn),oi;try{for(Wn.s();!(oi=Wn.n()).done;){var bi=oi.value;In.push({word:Ut.substring(bi.start,bi.end),startColumn:bi.start+1,endColumn:bi.end+1})}}catch(_n){Wn.e(_n)}finally{Wn.f()}return In}},{key:"_wordenize",value:function(Pt,Zt){var Ut=[],Nn;for(Zt.lastIndex=0;(Nn=Zt.exec(Pt))&&Nn[0].length!==0;)Ut.push({start:Nn.index,end:Nn.index+Nn[0].length});return Ut}},{key:"getValueInRange",value:function(Pt){if(Pt=this._validateRange(Pt),Pt.startLineNumber===Pt.endLineNumber)return this._lines[Pt.startLineNumber-1].substring(Pt.startColumn-1,Pt.endColumn-1);var Zt=this._eol,Ut=Pt.startLineNumber-1,Nn=Pt.endLineNumber-1,In=[];In.push(this._lines[Ut].substring(Pt.startColumn-1));for(var Wn=Ut+1;Wn<Nn;Wn++)In.push(this._lines[Wn]);return In.push(this._lines[Nn].substring(0,Pt.endColumn-1)),In.join(Zt)}},{key:"offsetAt",value:function(Pt){return Pt=this._validatePosition(Pt),this._ensureLineStarts(),this._lineStarts.getPrefixSum(Pt.lineNumber-2)+(Pt.column-1)}},{key:"positionAt",value:function(Pt){Pt=Math.floor(Pt),Pt=Math.max(0,Pt),this._ensureLineStarts();var Zt=this._lineStarts.getIndexOf(Pt),Ut=this._lines[Zt.index].length;return{lineNumber:1+Zt.index,column:1+Math.min(Zt.remainder,Ut)}}},{key:"_validateRange",value:function(Pt){var Zt=this._validatePosition({lineNumber:Pt.startLineNumber,column:Pt.startColumn}),Ut=this._validatePosition({lineNumber:Pt.endLineNumber,column:Pt.endColumn});return Zt.lineNumber!==Pt.startLineNumber||Zt.column!==Pt.startColumn||Ut.lineNumber!==Pt.endLineNumber||Ut.column!==Pt.endColumn?{startLineNumber:Zt.lineNumber,startColumn:Zt.column,endLineNumber:Ut.lineNumber,endColumn:Ut.column}:Pt}},{key:"_validatePosition",value:function(Pt){if(!Re.a.isIPosition(Pt))throw new Error("bad position");var Zt=Pt.lineNumber,Ut=Pt.column,Nn=!1;if(Zt<1)Zt=1,Ut=1,Nn=!0;else if(Zt>this._lines.length)Zt=this._lines.length,Ut=this._lines[Zt-1].length+1,Nn=!0;else{var In=this._lines[Zt-1].length+1;Ut<1?(Ut=1,Nn=!0):Ut>In&&(Ut=In,Nn=!0)}return Nn?{lineNumber:Zt,column:Ut}:Pt}}]),ut}(Pe),Rt=function(){function vn(Ln,ut){Object(E.a)(this,vn),this._host=Ln,this._models=Object.create(null),this._foreignModuleFactory=ut,this._foreignModule=null}return Object(ve.a)(vn,[{key:"dispose",value:function(){this._models=Object.create(null)}},{key:"_getModel",value:function(ut){return this._models[ut]}},{key:"_getModels",value:function(){var ut=this,Tt=[];return Object.keys(this._models).forEach(function(Pt){return Tt.push(ut._models[Pt])}),Tt}},{key:"acceptNewModel",value:function(ut){this._models[ut.url]=new Et(we.a.parse(ut.url),ut.lines,ut.EOL,ut.versionId)}},{key:"acceptModelChanged",value:function(ut,Tt){if(!!this._models[ut]){var Pt=this._models[ut];Pt.onEvents(Tt)}}},{key:"acceptRemovedModel",value:function(ut){!this._models[ut]||delete this._models[ut]}},{key:"computeUnicodeHighlights",value:function(ut,Tt,Pt){return Gt(this,void 0,void 0,Object(De.a)().mark(function Zt(){var Ut;return Object(De.a)().wrap(function(In){for(;;)switch(In.prev=In.next){case 0:if(Ut=this._getModel(ut),Ut){In.next=3;break}return In.abrupt("return",{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0});case 3:return In.abrupt("return",Ge.a.computeUnicodeHighlights(Ut,Tt,Pt));case 4:case"end":return In.stop()}},Zt,this)}))}},{key:"computeDiff",value:function(ut,Tt,Pt,Zt){return Gt(this,void 0,void 0,Object(De.a)().mark(function Ut(){var Nn,In;return Object(De.a)().wrap(function(oi){for(;;)switch(oi.prev=oi.next){case 0:if(Nn=this._getModel(ut),In=this._getModel(Tt),!(!Nn||!In)){oi.next=4;break}return oi.abrupt("return",null);case 4:return oi.abrupt("return",vn.computeDiff(Nn,In,Pt,Zt));case 5:case"end":return oi.stop()}},Ut,this)}))}},{key:"computeMoreMinimalEdits",value:function(ut,Tt,Pt){return Gt(this,void 0,void 0,Object(De.a)().mark(function Zt(){var Ut,Nn,In,Wn,oi,bi,_n,li,ki,Ki,Tr,ir,Er,va,Sn,ri,Vn,Ai;return Object(De.a)().wrap(function(Zi){for(;;)switch(Zi.prev=Zi.next){case 0:if(Ut=this._getModel(ut),Ut){Zi.next=3;break}return Zi.abrupt("return",Tt);case 3:Nn=[],In=void 0,Tt=Tt.slice(0).sort(function(zi,Wr){if(zi.range&&Wr.range)return Y.a.compareRangesUsingStarts(zi.range,Wr.range);var Ra=zi.range?0:1,Nr=Wr.range?0:1;return Ra-Nr}),Wn=Object(le.a)(Tt),Zi.prev=7,Wn.s();case 9:if((oi=Wn.n()).done){Zi.next=30;break}if(bi=oi.value,_n=bi.range,li=bi.text,ki=bi.eol,typeof ki=="number"&&(In=ki),!(Y.a.isEmpty(_n)&&!li)){Zi.next=17;break}return Zi.abrupt("continue",28);case 17:if(Ki=Ut.getValueInRange(_n),li=li.replace(/\r\n|\n|\r/g,Ut.eol),Ki!==li){Zi.next=21;break}return Zi.abrupt("continue",28);case 21:if(!(Math.max(li.length,Ki.length)>vn._diffLimit)){Zi.next=24;break}return Nn.push({range:_n,text:li}),Zi.abrupt("continue",28);case 24:Tr=Object(I.b)(Ki,li,Pt),ir=Ut.offsetAt(Y.a.lift(_n).getStartPosition()),Er=Object(le.a)(Tr);try{for(Er.s();!(va=Er.n()).done;)Sn=va.value,ri=Ut.positionAt(ir+Sn.originalStart),Vn=Ut.positionAt(ir+Sn.originalStart+Sn.originalLength),Ai={text:li.substr(Sn.modifiedStart,Sn.modifiedLength),range:{startLineNumber:ri.lineNumber,startColumn:ri.column,endLineNumber:Vn.lineNumber,endColumn:Vn.column}},Ut.getValueInRange(Ai.range)!==Ai.text&&Nn.push(Ai)}catch(zi){Er.e(zi)}finally{Er.f()}case 28:Zi.next=9;break;case 30:Zi.next=35;break;case 32:Zi.prev=32,Zi.t0=Zi.catch(7),Wn.e(Zi.t0);case 35:return Zi.prev=35,Wn.f(),Zi.finish(35);case 38:return typeof In=="number"&&Nn.push({eol:In,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),Zi.abrupt("return",Nn);case 40:case"end":return Zi.stop()}},Zt,this,[[7,32,35,38]])}))}},{key:"computeLinks",value:function(ut){return Gt(this,void 0,void 0,Object(De.a)().mark(function Tt(){var Pt;return Object(De.a)().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:if(Pt=this._getModel(ut),Pt){Ut.next=3;break}return Ut.abrupt("return",null);case 3:return Ut.abrupt("return",Te(Pt));case 4:case"end":return Ut.stop()}},Tt,this)}))}},{key:"computeDefaultDocumentColors",value:function(ut){return Gt(this,void 0,void 0,Object(De.a)().mark(function Tt(){var Pt;return Object(De.a)().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:if(Pt=this._getModel(ut),Pt){Ut.next=3;break}return Ut.abrupt("return",null);case 3:return Ut.abrupt("return",Nt(Pt));case 4:case"end":return Ut.stop()}},Tt,this)}))}},{key:"textualSuggest",value:function(ut,Tt,Pt,Zt){return Gt(this,void 0,void 0,Object(De.a)().mark(function Ut(){var Nn,In,Wn,oi,bi,_n,li,ki,Ki,Tr;return Object(De.a)().wrap(function(Er){for(;;)switch(Er.prev=Er.next){case 0:Nn=new Ee.a(!0),In=new RegExp(Pt,Zt),Wn=new Set,oi=Object(le.a)(ut),Er.prev=4,oi.s();case 6:if((bi=oi.n()).done){Er.next=33;break}if(_n=bi.value,li=this._getModel(_n),li){Er.next=11;break}return Er.abrupt("continue",31);case 11:ki=Object(le.a)(li.words(In)),Er.prev=12,ki.s();case 14:if((Ki=ki.n()).done){Er.next=23;break}if(Tr=Ki.value,!(Tr===Tt||!isNaN(Number(Tr)))){Er.next=18;break}return Er.abrupt("continue",21);case 18:if(Wn.add(Tr),!(Wn.size>vn._suggestionsLimit)){Er.next=21;break}return Er.abrupt("break",33);case 21:Er.next=14;break;case 23:Er.next=28;break;case 25:Er.prev=25,Er.t0=Er.catch(12),ki.e(Er.t0);case 28:return Er.prev=28,ki.f(),Er.finish(28);case 31:Er.next=6;break;case 33:Er.next=38;break;case 35:Er.prev=35,Er.t1=Er.catch(4),oi.e(Er.t1);case 38:return Er.prev=38,oi.f(),Er.finish(38);case 41:return Er.abrupt("return",{words:Array.from(Wn),duration:Nn.elapsed()});case 42:case"end":return Er.stop()}},Ut,this,[[4,35,38,41],[12,25,28,31]])}))}},{key:"computeWordRanges",value:function(ut,Tt,Pt,Zt){return Gt(this,void 0,void 0,Object(De.a)().mark(function Ut(){var Nn,In,Wn,oi,bi,_n,li,ki,Ki;return Object(De.a)().wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:if(Nn=this._getModel(ut),Nn){ir.next=3;break}return ir.abrupt("return",Object.create(null));case 3:In=new RegExp(Pt,Zt),Wn=Object.create(null),oi=Tt.startLineNumber;case 6:if(!(oi<Tt.endLineNumber)){ir.next=31;break}bi=Nn.getLineWords(oi,In),_n=Object(le.a)(bi),ir.prev=9,_n.s();case 11:if((li=_n.n()).done){ir.next=20;break}if(ki=li.value,isNaN(Number(ki.word))){ir.next=15;break}return ir.abrupt("continue",18);case 15:Ki=Wn[ki.word],Ki||(Ki=[],Wn[ki.word]=Ki),Ki.push({startLineNumber:oi,startColumn:ki.startColumn,endLineNumber:oi,endColumn:ki.endColumn});case 18:ir.next=11;break;case 20:ir.next=25;break;case 22:ir.prev=22,ir.t0=ir.catch(9),_n.e(ir.t0);case 25:return ir.prev=25,_n.f(),ir.finish(25);case 28:oi++,ir.next=6;break;case 31:return ir.abrupt("return",Wn);case 32:case"end":return ir.stop()}},Ut,this,[[9,22,25,28]])}))}},{key:"navigateValueSet",value:function(ut,Tt,Pt,Zt,Ut){return Gt(this,void 0,void 0,Object(De.a)().mark(function Nn(){var In,Wn,oi,bi,_n,li;return Object(De.a)().wrap(function(Ki){for(;;)switch(Ki.prev=Ki.next){case 0:if(In=this._getModel(ut),In){Ki.next=3;break}return Ki.abrupt("return",null);case 3:if(Wn=new RegExp(Zt,Ut),Tt.startColumn===Tt.endColumn&&(Tt={startLineNumber:Tt.startLineNumber,startColumn:Tt.startColumn,endLineNumber:Tt.endLineNumber,endColumn:Tt.endColumn+1}),oi=In.getValueInRange(Tt),bi=In.getWordAtPosition({lineNumber:Tt.startLineNumber,column:Tt.startColumn},Wn),bi){Ki.next=9;break}return Ki.abrupt("return",null);case 9:return _n=In.getValueInRange(bi),li=fe.INSTANCE.navigateValueSet(Tt,oi,bi,_n,Pt),Ki.abrupt("return",li);case 12:case"end":return Ki.stop()}},Nn,this)}))}},{key:"loadForeignModule",value:function(ut,Tt,Pt){var Zt=this,Ut=function(oi,bi){return Zt._host.fhr(oi,bi)},Nn=Object(H.b)(Pt,Ut),In={host:Nn,getMirrorModels:function(){return Zt._getModels()}};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(In,Tt),Promise.resolve(Object(H.f)(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}},{key:"fmr",value:function(ut,Tt){if(!this._foreignModule||typeof this._foreignModule[ut]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+ut));try{return Promise.resolve(this._foreignModule[ut].apply(this._foreignModule,Tt))}catch(Pt){return Promise.reject(Pt)}}}],[{key:"computeDiff",value:function(ut,Tt,Pt,Zt){var Ut=Zt==="advanced"?pr.advanced:pr.legacy,Nn=ut.getLinesContent(),In=Tt.getLinesContent(),Wn=Ut.computeDiff(Nn,In,Pt),oi=Wn.changes.length>0?!1:this._modelsAreIdentical(ut,Tt);return{identical:oi,quitEarly:Wn.hitTimeout,changes:Wn.changes.map(function(bi){var _n;return[bi.originalRange.startLineNumber,bi.originalRange.endLineNumberExclusive,bi.modifiedRange.startLineNumber,bi.modifiedRange.endLineNumberExclusive,(_n=bi.innerChanges)===null||_n===void 0?void 0:_n.map(function(li){return[li.originalRange.startLineNumber,li.originalRange.startColumn,li.originalRange.endLineNumber,li.originalRange.endColumn,li.modifiedRange.startLineNumber,li.modifiedRange.startColumn,li.modifiedRange.endLineNumber,li.modifiedRange.endColumn]})]})}}},{key:"_modelsAreIdentical",value:function(ut,Tt){var Pt=ut.getLineCount(),Zt=Tt.getLineCount();if(Pt!==Zt)return!1;for(var Ut=1;Ut<=Pt;Ut++){var Nn=ut.getLineContent(Ut),In=Tt.getLineContent(Ut);if(Nn!==In)return!1}return!0}}]),vn}();Rt._diffLimit=1e5,Rt._suggestionsLimit=1e4;function dn(vn){return new Rt(vn,null)}typeof importScripts=="function"&&(globalThis.monaco=Object(ye.a)());var et=a("lEqV"),Ze=a("db+f"),on=a("6OMU"),tn=a("09fa"),Dt=a("c0Ay"),pn=function(vn,Ln,ut,Tt){var Pt=arguments.length,Zt=Pt<3?Ln:Tt===null?Tt=Object.getOwnPropertyDescriptor(Ln,ut):Tt,Ut;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Zt=Reflect.decorate(vn,Ln,ut,Tt);else for(var Nn=vn.length-1;Nn>=0;Nn--)(Ut=vn[Nn])&&(Zt=(Pt<3?Ut(Zt):Pt>3?Ut(Ln,ut,Zt):Ut(Ln,ut))||Zt);return Pt>3&&Zt&&Object.defineProperty(Ln,ut,Zt),Zt},ti=function(vn,Ln){return function(ut,Tt){Ln(ut,Tt,vn)}},kn=function(vn,Ln,ut,Tt){function Pt(Zt){return Zt instanceof ut?Zt:new ut(function(Ut){Ut(Zt)})}return new(ut||(ut=Promise))(function(Zt,Ut){function Nn(oi){try{Wn(Tt.next(oi))}catch(bi){Ut(bi)}}function In(oi){try{Wn(Tt.throw(oi))}catch(bi){Ut(bi)}}function Wn(oi){oi.done?Zt(oi.value):Pt(oi.value).then(Nn,In)}Wn((Tt=Tt.apply(vn,Ln||[])).next())})},Vt=60*1e3,Oi=5*60*1e3;function Yi(vn,Ln){var ut=vn.getModel(Ln);return!(!ut||ut.isTooLargeForSyncing())}var Hi=function(vn){Object($.a)(ut,vn);var Ln=Object(y.a)(ut);function ut(Tt,Pt,Zt,Ut,Nn){var In;return Object(E.a)(this,ut),In=Ln.call(this),In._modelService=Tt,In._workerManager=In._register(new Qr(In._modelService,Ut)),In._logService=Zt,In._register(Nn.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:function(oi,bi){return Yi(In._modelService,oi.uri)?In._workerManager.withWorker().then(function(_n){return _n.computeLinks(oi.uri)}).then(function(_n){return _n&&{links:_n}}):Promise.resolve({links:[]})}})),In._register(Nn.completionProvider.register("*",new qi(In._workerManager,Pt,In._modelService,Ut))),In}return Object(ve.a)(ut,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(ut.prototype),"dispose",this).call(this)}},{key:"canComputeUnicodeHighlights",value:function(Pt){return Yi(this._modelService,Pt)}},{key:"computedUnicodeHighlights",value:function(Pt,Zt,Ut){return this._workerManager.withWorker().then(function(Nn){return Nn.computedUnicodeHighlights(Pt,Zt,Ut)})}},{key:"computeDiff",value:function(Pt,Zt,Ut,Nn){return kn(this,void 0,void 0,Object(De.a)().mark(function In(){var Wn,oi;return Object(De.a)().wrap(function(_n){for(;;)switch(_n.prev=_n.next){case 0:return _n.next=2,this._workerManager.withWorker().then(function(li){return li.computeDiff(Pt,Zt,Ut,Nn)});case 2:if(Wn=_n.sent,Wn){_n.next=5;break}return _n.abrupt("return",null);case 5:return oi={identical:Wn.identical,quitEarly:Wn.quitEarly,changes:Wn.changes.map(function(li){var ki;return new $e.a(new it.a(li[0],li[1]),new it.a(li[2],li[3]),(ki=li[4])===null||ki===void 0?void 0:ki.map(function(Ki){return new $e.c(new Y.a(Ki[0],Ki[1],Ki[2],Ki[3]),new Y.a(Ki[4],Ki[5],Ki[6],Ki[7]))}))})},_n.abrupt("return",oi);case 7:case"end":return _n.stop()}},In,this)}))}},{key:"computeMoreMinimalEdits",value:function(Pt,Zt){var Ut=this,Nn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Object(on.s)(Zt)){if(!Yi(this._modelService,Pt))return Promise.resolve(Zt);var In=Ee.a.create(!0),Wn=this._workerManager.withWorker().then(function(oi){return oi.computeMoreMinimalEdits(Pt,Zt,Nn)});return Wn.finally(function(){return Ut._logService.trace("FORMAT#computeMoreMinimalEdits",Pt.toString(!0),In.elapsed())}),Promise.race([Wn,Object(Q.q)(1e3).then(function(){return Zt})])}else return Promise.resolve(void 0)}},{key:"canNavigateValueSet",value:function(Pt){return Yi(this._modelService,Pt)}},{key:"navigateValueSet",value:function(Pt,Zt,Ut){return this._workerManager.withWorker().then(function(Nn){return Nn.navigateValueSet(Pt,Zt,Ut)})}},{key:"canComputeWordRanges",value:function(Pt){return Yi(this._modelService,Pt)}},{key:"computeWordRanges",value:function(Pt,Zt){return this._workerManager.withWorker().then(function(Ut){return Ut.computeWordRanges(Pt,Zt)})}}]),ut}(L.a);Hi=pn([ti(0,et.a),ti(1,Ze.a),ti(2,tn.b),ti(3,pe.a),ti(4,Dt.a)],Hi);var qi=function(){function vn(Ln,ut,Tt,Pt){Object(E.a)(this,vn),this.languageConfigurationService=Pt,this._debugDisplayName="wordbasedCompletions",this._workerManager=Ln,this._configurationService=ut,this._modelService=Tt}return Object(ve.a)(vn,[{key:"provideCompletionItems",value:function(ut,Tt){return kn(this,void 0,void 0,Object(De.a)().mark(function Pt(){var Zt,Ut,Nn,In,Wn,oi,bi,_n,li,ki,Ki;return Object(De.a)().wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:if(Zt=this._configurationService.getValue(ut.uri,Tt,"editor"),Zt.wordBasedSuggestions){ir.next=3;break}return ir.abrupt("return",void 0);case 3:if(Ut=[],Zt.wordBasedSuggestionsMode!=="currentDocument"){ir.next=8;break}Yi(this._modelService,ut.uri)&&Ut.push(ut.uri),ir.next=26;break;case 8:Nn=Object(le.a)(this._modelService.getModels()),ir.prev=9,Nn.s();case 11:if((In=Nn.n()).done){ir.next=18;break}if(Wn=In.value,Yi(this._modelService,Wn.uri)){ir.next=15;break}return ir.abrupt("continue",16);case 15:Wn===ut?Ut.unshift(Wn.uri):(Zt.wordBasedSuggestionsMode==="allDocuments"||Wn.getLanguageId()===ut.getLanguageId())&&Ut.push(Wn.uri);case 16:ir.next=11;break;case 18:ir.next=23;break;case 20:ir.prev=20,ir.t0=ir.catch(9),Nn.e(ir.t0);case 23:return ir.prev=23,Nn.f(),ir.finish(23);case 26:if(Ut.length!==0){ir.next=28;break}return ir.abrupt("return",void 0);case 28:return oi=this.languageConfigurationService.getLanguageConfiguration(ut.getLanguageId()).getWordDefinition(),bi=ut.getWordAtPosition(Tt),_n=bi?new Y.a(Tt.lineNumber,bi.startColumn,Tt.lineNumber,bi.endColumn):Y.a.fromPositions(Tt),li=_n.setEndPosition(Tt.lineNumber,Tt.column),ir.next=34,this._workerManager.withWorker();case 34:return ki=ir.sent,ir.next=37,ki.textualSuggest(Ut,bi==null?void 0:bi.word,oi);case 37:if(Ki=ir.sent,Ki){ir.next=40;break}return ir.abrupt("return",void 0);case 40:return ir.abrupt("return",{duration:Ki.duration,suggestions:Ki.words.map(function(Er){return{kind:18,label:Er,insertText:Er,range:{insert:li,replace:_n}}})});case 41:case"end":return ir.stop()}},Pt,this,[[9,20,23,26]])}))}}]),vn}(),Qr=function(vn){Object($.a)(ut,vn);var Ln=Object(y.a)(ut);function ut(Tt,Pt){var Zt;Object(E.a)(this,ut),Zt=Ln.call(this),Zt.languageConfigurationService=Pt,Zt._modelService=Tt,Zt._editorWorkerClient=null,Zt._lastWorkerUsedTime=new Date().getTime();var Ut=Zt._register(new Q.e);return Ut.cancelAndSet(function(){return Zt._checkStopIdleWorker()},Math.round(Oi/2)),Zt._register(Zt._modelService.onModelRemoved(function(Nn){return Zt._checkStopEmptyWorker()})),Zt}return Object(ve.a)(ut,[{key:"dispose",value:function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),Object(re.a)(Object(J.a)(ut.prototype),"dispose",this).call(this)}},{key:"_checkStopEmptyWorker",value:function(){if(!!this._editorWorkerClient){var Pt=this._modelService.getModels();Pt.length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}}},{key:"_checkStopIdleWorker",value:function(){if(!!this._editorWorkerClient){var Pt=new Date().getTime()-this._lastWorkerUsedTime;Pt>Oi&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}}},{key:"withWorker",value:function(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new ha(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}]),ut}(L.a),Mr=function(vn){Object($.a)(ut,vn);var Ln=Object(y.a)(ut);function ut(Tt,Pt,Zt){var Ut;if(Object(E.a)(this,ut),Ut=Ln.call(this),Ut._syncedModels=Object.create(null),Ut._syncedModelsLastUsedTime=Object.create(null),Ut._proxy=Tt,Ut._modelService=Pt,!Zt){var Nn=new Q.e;Nn.cancelAndSet(function(){return Ut._checkStopModelSync()},Math.round(Vt/2)),Ut._register(Nn)}return Ut}return Object(ve.a)(ut,[{key:"dispose",value:function(){for(var Pt in this._syncedModels)Object(L.i)(this._syncedModels[Pt]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),Object(re.a)(Object(J.a)(ut.prototype),"dispose",this).call(this)}},{key:"ensureSyncedResources",value:function(Pt,Zt){var Ut=Object(le.a)(Pt),Nn;try{for(Ut.s();!(Nn=Ut.n()).done;){var In=Nn.value,Wn=In.toString();this._syncedModels[Wn]||this._beginModelSync(In,Zt),this._syncedModels[Wn]&&(this._syncedModelsLastUsedTime[Wn]=new Date().getTime())}}catch(oi){Ut.e(oi)}finally{Ut.f()}}},{key:"_checkStopModelSync",value:function(){var Pt=new Date().getTime(),Zt=[];for(var Ut in this._syncedModelsLastUsedTime){var Nn=Pt-this._syncedModelsLastUsedTime[Ut];Nn>Vt&&Zt.push(Ut)}for(var In=0,Wn=Zt;In<Wn.length;In++){var oi=Wn[In];this._stopModelSync(oi)}}},{key:"_beginModelSync",value:function(Pt,Zt){var Ut=this,Nn=this._modelService.getModel(Pt);if(!!Nn&&!(!Zt&&Nn.isTooLargeForSyncing())){var In=Pt.toString();this._proxy.acceptNewModel({url:Nn.uri.toString(),lines:Nn.getLinesContent(),EOL:Nn.getEOL(),versionId:Nn.getVersionId()});var Wn=new L.c;Wn.add(Nn.onDidChangeContent(function(oi){Ut._proxy.acceptModelChanged(In.toString(),oi)})),Wn.add(Nn.onWillDispose(function(){Ut._stopModelSync(In)})),Wn.add(Object(L.l)(function(){Ut._proxy.acceptRemovedModel(In)})),this._syncedModels[In]=Wn}}},{key:"_stopModelSync",value:function(Pt){var Zt=this._syncedModels[Pt];delete this._syncedModels[Pt],delete this._syncedModelsLastUsedTime[Pt],Object(L.i)(Zt)}}]),ut}(L.a),na=function(){function vn(Ln){Object(E.a)(this,vn),this._instance=Ln,this._proxyObj=Promise.resolve(this._instance)}return Object(ve.a)(vn,[{key:"dispose",value:function(){this._instance.dispose()}},{key:"getProxyObject",value:function(){return this._proxyObj}}]),vn}(),Br=function(){function vn(Ln){Object(E.a)(this,vn),this._workerClient=Ln}return Object(ve.a)(vn,[{key:"fhr",value:function(ut,Tt){return this._workerClient.fhr(ut,Tt)}}]),vn}(),ha=function(vn){Object($.a)(ut,vn);var Ln=Object(y.a)(ut);function ut(Tt,Pt,Zt,Ut){var Nn;return Object(E.a)(this,ut),Nn=Ln.call(this),Nn.languageConfigurationService=Ut,Nn._disposed=!1,Nn._modelService=Tt,Nn._keepIdleModels=Pt,Nn._workerFactory=new B(Zt),Nn._worker=null,Nn._modelManager=null,Nn}return Object(ve.a)(ut,[{key:"fhr",value:function(Pt,Zt){throw new Error("Not implemented!")}},{key:"_getOrCreateWorker",value:function(){if(!this._worker)try{this._worker=this._register(new z(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Br(this)))}catch(Pt){U(Pt),this._worker=new na(new Rt(new Br(this),null))}return this._worker}},{key:"_getProxy",value:function(){var Pt=this;return this._getOrCreateWorker().getProxyObject().then(void 0,function(Zt){return U(Zt),Pt._worker=new na(new Rt(new Br(Pt),null)),Pt._getOrCreateWorker().getProxyObject()})}},{key:"_getOrCreateModelManager",value:function(Pt){return this._modelManager||(this._modelManager=this._register(new Mr(Pt,this._modelService,this._keepIdleModels))),this._modelManager}},{key:"_withSyncedResources",value:function(Pt){var Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return kn(this,void 0,void 0,Object(De.a)().mark(function Ut(){var Nn=this;return Object(De.a)().wrap(function(Wn){for(;;)switch(Wn.prev=Wn.next){case 0:if(!this._disposed){Wn.next=2;break}return Wn.abrupt("return",Promise.reject(Object(ne.d)()));case 2:return Wn.abrupt("return",this._getProxy().then(function(oi){return Nn._getOrCreateModelManager(oi).ensureSyncedResources(Pt,Zt),oi}));case 3:case"end":return Wn.stop()}},Ut,this)}))}},{key:"computedUnicodeHighlights",value:function(Pt,Zt,Ut){return this._withSyncedResources([Pt]).then(function(Nn){return Nn.computeUnicodeHighlights(Pt.toString(),Zt,Ut)})}},{key:"computeDiff",value:function(Pt,Zt,Ut,Nn){return this._withSyncedResources([Pt,Zt],!0).then(function(In){return In.computeDiff(Pt.toString(),Zt.toString(),Ut,Nn)})}},{key:"computeMoreMinimalEdits",value:function(Pt,Zt,Ut){return this._withSyncedResources([Pt]).then(function(Nn){return Nn.computeMoreMinimalEdits(Pt.toString(),Zt,Ut)})}},{key:"computeLinks",value:function(Pt){return this._withSyncedResources([Pt]).then(function(Zt){return Zt.computeLinks(Pt.toString())})}},{key:"computeDefaultDocumentColors",value:function(Pt){return this._withSyncedResources([Pt]).then(function(Zt){return Zt.computeDefaultDocumentColors(Pt.toString())})}},{key:"textualSuggest",value:function(Pt,Zt,Ut){return kn(this,void 0,void 0,Object(De.a)().mark(function Nn(){var In,Wn,oi;return Object(De.a)().wrap(function(_n){for(;;)switch(_n.prev=_n.next){case 0:return _n.next=2,this._withSyncedResources(Pt);case 2:return In=_n.sent,Wn=Ut.source,oi=Object(F.O)(Ut),_n.abrupt("return",In.textualSuggest(Pt.map(function(li){return li.toString()}),Zt,Wn,oi));case 6:case"end":return _n.stop()}},Nn,this)}))}},{key:"computeWordRanges",value:function(Pt,Zt){var Ut=this;return this._withSyncedResources([Pt]).then(function(Nn){var In=Ut._modelService.getModel(Pt);if(!In)return Promise.resolve(null);var Wn=Ut.languageConfigurationService.getLanguageConfiguration(In.getLanguageId()).getWordDefinition(),oi=Wn.source,bi=Object(F.O)(Wn);return Nn.computeWordRanges(Pt.toString(),Zt,oi,bi)})}},{key:"navigateValueSet",value:function(Pt,Zt,Ut){var Nn=this;return this._withSyncedResources([Pt]).then(function(In){var Wn=Nn._modelService.getModel(Pt);if(!Wn)return null;var oi=Nn.languageConfigurationService.getLanguageConfiguration(Wn.getLanguageId()).getWordDefinition(),bi=oi.source,_n=Object(F.O)(oi);return In.navigateValueSet(Pt.toString(),Zt,Ut,bi,_n)})}},{key:"dispose",value:function(){Object(re.a)(Object(J.a)(ut.prototype),"dispose",this).call(this),this._disposed=!0}}]),ut}(L.a)},KIsX:function(fn,K,a){},KWsz:function(fn,K,a){},KgQ1:function(fn,K,a){},Krc3:function(fn,K,a){},KxFI:function(fn,K,a){},LCkn:function(fn,K,a){"use strict";a.d(K,"a",function(){return ve}),a.d(K,"c",function(){return re}),a.d(K,"e",function(){return J}),a.d(K,"d",function(){return $}),a.d(K,"b",function(){return y});var le=a("fWQN"),De=a("mtLc"),E=a("gCVg"),ve=function(){function Q(L,ne){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object(le.a)(this,Q),this._range=L,this._text=ne,this.insertsAutoWhitespace=ee}return Object(De.a)(Q,[{key:"getEditOperations",value:function(ne,ee){ee.addTrackedEditOperation(this._range,this._text)}},{key:"computeCursorState",value:function(ne,ee){var H=ee.getInverseEditOperations(),W=H[0].range;return E.a.fromPositions(W.getEndPosition())}}]),Q}(),re=function(){function Q(L,ne){Object(le.a)(this,Q),this._range=L,this._text=ne}return Object(De.a)(Q,[{key:"getEditOperations",value:function(ne,ee){ee.addTrackedEditOperation(this._range,this._text)}},{key:"computeCursorState",value:function(ne,ee){var H=ee.getInverseEditOperations(),W=H[0].range;return E.a.fromRange(W,0)}}]),Q}(),J=function(){function Q(L,ne){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object(le.a)(this,Q),this._range=L,this._text=ne,this.insertsAutoWhitespace=ee}return Object(De.a)(Q,[{key:"getEditOperations",value:function(ne,ee){ee.addTrackedEditOperation(this._range,this._text)}},{key:"computeCursorState",value:function(ne,ee){var H=ee.getInverseEditOperations(),W=H[0].range;return E.a.fromPositions(W.getStartPosition())}}]),Q}(),$=function(){function Q(L,ne,ee,H){var W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;Object(le.a)(this,Q),this._range=L,this._text=ne,this._columnDeltaOffset=H,this._lineNumberDeltaOffset=ee,this.insertsAutoWhitespace=W}return Object(De.a)(Q,[{key:"getEditOperations",value:function(ne,ee){ee.addTrackedEditOperation(this._range,this._text)}},{key:"computeCursorState",value:function(ne,ee){var H=ee.getInverseEditOperations(),W=H[0].range;return E.a.fromPositions(W.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}]),Q}(),y=function(){function Q(L,ne,ee){var H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;Object(le.a)(this,Q),this._range=L,this._text=ne,this._initialSelection=ee,this._forceMoveMarkers=H,this._selectionId=null}return Object(De.a)(Q,[{key:"getEditOperations",value:function(ne,ee){ee.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=ee.trackSelection(this._initialSelection)}},{key:"computeCursorState",value:function(ne,ee){return ee.getTrackedSelection(this._selectionId)}}]),Q}()},LLum:function(fn,K,a){"use strict";a.d(K,"a",function(){return H}),a.d(K,"b",function(){return W}),a.d(K,"d",function(){return N}),a.d(K,"c",function(){return U}),a.d(K,"e",function(){return d});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("cGHE"),re=a("aokT"),J=a("gCVg"),$=a("p1iI"),y=a("JLfW"),Q=a("QgJK"),L=function(){return!0},ne=function(){return!1},ee=function(C){return C===" "||C==="	"},H=function(){function j(C,x,S,T){Object(De.a)(this,j),this.languageConfigurationService=T,this._cursorMoveConfigurationBrand=void 0,this._languageId=C;var z=S.options,A=z.get(140),ue=z.get(48);this.readOnly=z.get(88),this.tabSize=x.tabSize,this.indentSize=x.indentSize,this.insertSpaces=x.insertSpaces,this.stickyTabStops=z.get(112),this.lineHeight=ue.lineHeight,this.typicalHalfwidthCharacterWidth=ue.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(A.height/this.lineHeight)-2),this.useTabStops=z.get(124),this.wordSeparators=z.get(126),this.emptySelectionClipboard=z.get(35),this.copyWithSyntaxHighlighting=z.get(23),this.multiCursorMergeOverlapping=z.get(74),this.multiCursorPaste=z.get(76),this.multiCursorLimit=z.get(77),this.autoClosingBrackets=z.get(5),this.autoClosingQuotes=z.get(9),this.autoClosingDelete=z.get(7),this.autoClosingOvertype=z.get(8),this.autoSurround=z.get(12),this.autoIndent=z.get(10),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(C,this.autoClosingQuotes,!0),bracket:this._getShouldAutoClose(C,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(C).getAutoClosingPairs();var be=this.languageConfigurationService.getLanguageConfiguration(C).getSurroundingPairs();if(be){var de=Object(le.a)(be),ke;try{for(de.s();!(ke=de.n()).done;){var he=ke.value;this.surroundingPairs[he.open]=he.close}}catch(ge){de.e(ge)}finally{de.f()}}}return Object(E.a)(j,[{key:"electricChars",get:function(){var x;if(!this._electricChars){this._electricChars={};var S=(x=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||x===void 0?void 0:x.getElectricCharacters();if(S){var T=Object(le.a)(S),z;try{for(T.s();!(z=T.n()).done;){var A=z.value;this._electricChars[A]=!0}}catch(ue){T.e(ue)}finally{T.f()}}}return this._electricChars}},{key:"onElectricCharacter",value:function(x,S,T){var z=Object($.a)(S,T-1),A=this.languageConfigurationService.getLanguageConfiguration(z.languageId).electricCharacter;return A?A.onElectricCharacter(x,z,T-z.firstCharOffset):null}},{key:"normalizeIndentation",value:function(x){return Object(Q.a)(x,this.indentSize,this.insertSpaces)}},{key:"_getShouldAutoClose",value:function(x,S,T){switch(S){case"beforeWhitespace":return ee;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(x,T);case"always":return L;case"never":return ne}}},{key:"_getLanguageDefinedShouldAutoClose",value:function(x,S){var T=this.languageConfigurationService.getLanguageConfiguration(x).getAutoCloseBeforeSet(S);return function(z){return T.indexOf(z)!==-1}}},{key:"visibleColumnFromColumn",value:function(x,S){return y.a.visibleColumnFromColumn(x.getLineContent(S.lineNumber),S.column,this.tabSize)}},{key:"columnFromVisibleColumn",value:function(x,S,T){var z=y.a.columnFromVisibleColumn(x.getLineContent(S),T,this.tabSize),A=x.getLineMinColumn(S);if(z<A)return A;var ue=x.getLineMaxColumn(S);return z>ue?ue:z}}],[{key:"shouldRecreate",value:function(x){return x.hasChanged(140)||x.hasChanged(126)||x.hasChanged(35)||x.hasChanged(74)||x.hasChanged(76)||x.hasChanged(77)||x.hasChanged(5)||x.hasChanged(9)||x.hasChanged(7)||x.hasChanged(8)||x.hasChanged(12)||x.hasChanged(124)||x.hasChanged(48)||x.hasChanged(88)}}]),j}(),W=function(){function j(C,x){Object(De.a)(this,j),this._cursorStateBrand=void 0,this.modelState=C,this.viewState=x}return Object(E.a)(j,[{key:"equals",value:function(x){return this.viewState.equals(x.viewState)&&this.modelState.equals(x.modelState)}}],[{key:"fromModelState",value:function(x){return new F(x)}},{key:"fromViewState",value:function(x){return new V(x)}},{key:"fromModelSelection",value:function(x){var S=J.a.liftSelection(x),T=new N(re.a.fromPositions(S.getSelectionStart()),0,0,S.getPosition(),0);return j.fromModelState(T)}},{key:"fromModelSelections",value:function(x){for(var S=[],T=0,z=x.length;T<z;T++)S[T]=this.fromModelSelection(x[T]);return S}}]),j}(),F=Object(E.a)(function j(C){Object(De.a)(this,j),this.modelState=C,this.viewState=null}),V=Object(E.a)(function j(C){Object(De.a)(this,j),this.modelState=null,this.viewState=C}),N=function(){function j(C,x,S,T,z){Object(De.a)(this,j),this.selectionStart=C,this.selectionStartKind=x,this.selectionStartLeftoverVisibleColumns=S,this.position=T,this.leftoverVisibleColumns=z,this._singleCursorStateBrand=void 0,this.selection=j._computeSelection(this.selectionStart,this.position)}return Object(E.a)(j,[{key:"equals",value:function(x){return this.selectionStartLeftoverVisibleColumns===x.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===x.leftoverVisibleColumns&&this.selectionStartKind===x.selectionStartKind&&this.position.equals(x.position)&&this.selectionStart.equalsRange(x.selectionStart)}},{key:"hasSelection",value:function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}},{key:"move",value:function(x,S,T,z){return x?new j(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new ve.a(S,T),z):new j(new re.a(S,T,S,T),0,z,new ve.a(S,T),z)}}],[{key:"_computeSelection",value:function(x,S){return x.isEmpty()||!S.isBeforeOrEqual(x.getStartPosition())?J.a.fromPositions(x.getStartPosition(),S):J.a.fromPositions(x.getEndPosition(),S)}}]),j}(),U=Object(E.a)(function j(C,x,S){Object(De.a)(this,j),this._editOperationResultBrand=void 0,this.type=C,this.commands=x,this.shouldPushStackElementBefore=S.shouldPushStackElementBefore,this.shouldPushStackElementAfter=S.shouldPushStackElementAfter});function d(j){return j==="'"||j==='"'||j==="`"}},LloX:function(fn,K,a){"use strict";a.d(K,"l",function(){return V}),a.d(K,"n",function(){return N}),a.d(K,"d",function(){return U}),a.d(K,"b",function(){return d}),a.d(K,"g",function(){return j}),a.d(K,"i",function(){return C}),a.d(K,"j",function(){return x}),a.d(K,"c",function(){return S}),a.d(K,"o",function(){return T}),a.d(K,"k",function(){return z}),a.d(K,"e",function(){return A}),a.d(K,"a",function(){return ue}),a.d(K,"f",function(){return be}),a.d(K,"h",function(){return de}),a.d(K,"m",function(){return ke});var le=a("fWQN"),De=a("mtLc"),E=a("Vhoy"),ve=a("bY76"),re=a("aokT"),J=a("w4Tj"),$=a("oZsa"),y=a("yKVA"),Q=a("879j"),L=a("qLMh"),ne=a("MI8n"),ee=a("pmY6"),H=function(he,ge,ce,k){function w(B){return B instanceof ce?B:new ce(function(Y){Y(B)})}return new(ce||(ce=Promise))(function(B,Y){function pe(we){try{I(k.next(we))}catch(Re){Y(Re)}}function me(we){try{I(k.throw(we))}catch(Re){Y(Re)}}function I(we){we.done?B(we.value):w(we.value).then(pe,me)}I((k=k.apply(he,ge||[])).next())})},W=function(){function he(){Object(le.a)(this,he),this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new ne.b,this.onDidChange=this._onDidChange.event,this._colorMap=null}return Object(De.a)(he,[{key:"handleChange",value:function(ce){this._onDidChange.fire({changedLanguages:ce,changedColorMap:!1})}},{key:"register",value:function(ce,k){var w=this;return this._tokenizationSupports.set(ce,k),this.handleChange([ce]),Object(ee.l)(function(){w._tokenizationSupports.get(ce)===k&&(w._tokenizationSupports.delete(ce),w.handleChange([ce]))})}},{key:"get",value:function(ce){return this._tokenizationSupports.get(ce)||null}},{key:"registerFactory",value:function(ce,k){var w=this,B;(B=this._factories.get(ce))===null||B===void 0||B.dispose();var Y=new F(this,ce,k);return this._factories.set(ce,Y),Object(ee.l)(function(){var pe=w._factories.get(ce);!pe||pe!==Y||(w._factories.delete(ce),pe.dispose())})}},{key:"getOrCreate",value:function(ce){return H(this,void 0,void 0,Object(L.a)().mark(function k(){var w,B;return Object(L.a)().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(w=this.get(ce),!w){pe.next=3;break}return pe.abrupt("return",w);case 3:if(B=this._factories.get(ce),!(!B||B.isResolved)){pe.next=6;break}return pe.abrupt("return",null);case 6:return pe.next=8,B.resolve();case 8:return pe.abrupt("return",this.get(ce));case 9:case"end":return pe.stop()}},k,this)}))}},{key:"isResolved",value:function(ce){var k=this.get(ce);if(k)return!0;var w=this._factories.get(ce);return!!(!w||w.isResolved)}},{key:"setColorMap",value:function(ce){this._colorMap=ce,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}},{key:"getColorMap",value:function(){return this._colorMap}},{key:"getDefaultBackground",value:function(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}]),he}(),F=function(he){Object(y.a)(ce,he);var ge=Object(Q.a)(ce);function ce(k,w,B){var Y;return Object(le.a)(this,ce),Y=ge.call(this),Y._registry=k,Y._languageId=w,Y._factory=B,Y._isDisposed=!1,Y._resolvePromise=null,Y._isResolved=!1,Y}return Object(De.a)(ce,[{key:"isResolved",get:function(){return this._isResolved}},{key:"dispose",value:function(){this._isDisposed=!0,Object(J.a)(Object($.a)(ce.prototype),"dispose",this).call(this)}},{key:"resolve",value:function(){return H(this,void 0,void 0,Object(L.a)().mark(function w(){return Object(L.a)().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return this._resolvePromise||(this._resolvePromise=this._create()),Y.abrupt("return",this._resolvePromise);case 2:case"end":return Y.stop()}},w,this)}))}},{key:"_create",value:function(){return H(this,void 0,void 0,Object(L.a)().mark(function w(){var B;return Object(L.a)().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return pe.next=2,this._factory.tokenizationSupport;case 2:B=pe.sent,this._isResolved=!0,B&&!this._isDisposed&&this._register(this._registry.register(this._languageId,B));case 5:case"end":return pe.stop()}},w,this)}))}}]),ce}(ee.a),V=function(){function he(ge,ce,k){Object(le.a)(this,he),this.offset=ge,this.type=ce,this.language=k,this._tokenBrand=void 0}return Object(De.a)(he,[{key:"toString",value:function(){return"("+this.offset+", "+this.type+")"}}]),he}(),N=Object(De.a)(function he(ge,ce){Object(le.a)(this,he),this.tokens=ge,this.endState=ce,this._tokenizationResultBrand=void 0}),U=Object(De.a)(function he(ge,ce){Object(le.a)(this,he),this.tokens=ge,this.endState=ce,this._encodedTokenizationResultBrand=void 0}),d;(function(he){var ge=new Map;ge.set(0,E.a.symbolMethod),ge.set(1,E.a.symbolFunction),ge.set(2,E.a.symbolConstructor),ge.set(3,E.a.symbolField),ge.set(4,E.a.symbolVariable),ge.set(5,E.a.symbolClass),ge.set(6,E.a.symbolStruct),ge.set(7,E.a.symbolInterface),ge.set(8,E.a.symbolModule),ge.set(9,E.a.symbolProperty),ge.set(10,E.a.symbolEvent),ge.set(11,E.a.symbolOperator),ge.set(12,E.a.symbolUnit),ge.set(13,E.a.symbolValue),ge.set(15,E.a.symbolEnum),ge.set(14,E.a.symbolConstant),ge.set(15,E.a.symbolEnum),ge.set(16,E.a.symbolEnumMember),ge.set(17,E.a.symbolKeyword),ge.set(27,E.a.symbolSnippet),ge.set(18,E.a.symbolText),ge.set(19,E.a.symbolColor),ge.set(20,E.a.symbolFile),ge.set(21,E.a.symbolReference),ge.set(22,E.a.symbolCustomColor),ge.set(23,E.a.symbolFolder),ge.set(24,E.a.symbolTypeParameter),ge.set(25,E.a.account),ge.set(26,E.a.issues);function ce(B){var Y=ge.get(B);return Y||(console.info("No codicon found for CompletionItemKind "+B),Y=E.a.symbolProperty),Y}he.toIcon=ce;var k=new Map;k.set("method",0),k.set("function",1),k.set("constructor",2),k.set("field",3),k.set("variable",4),k.set("class",5),k.set("struct",6),k.set("interface",7),k.set("module",8),k.set("property",9),k.set("event",10),k.set("operator",11),k.set("unit",12),k.set("value",13),k.set("constant",14),k.set("enum",15),k.set("enum-member",16),k.set("enumMember",16),k.set("keyword",17),k.set("snippet",27),k.set("text",18),k.set("color",19),k.set("file",20),k.set("reference",21),k.set("customcolor",22),k.set("folder",23),k.set("type-parameter",24),k.set("typeParameter",24),k.set("account",25),k.set("issue",26);function w(B,Y){var pe=k.get(B);return typeof pe=="undefined"&&!Y&&(pe=9),pe}he.fromString=w})(d||(d={}));var j;(function(he){he[he.Automatic=0]="Automatic",he[he.Explicit=1]="Explicit"})(j||(j={}));var C=function(){function he(ge,ce,k,w){Object(le.a)(this,he),this.range=ge,this.text=ce,this.completionKind=k,this.isSnippetText=w}return Object(De.a)(he,[{key:"equals",value:function(ce){return re.a.lift(this.range).equalsRange(ce.range)&&this.text===ce.text&&this.completionKind===ce.completionKind&&this.isSnippetText===ce.isSnippetText}}]),he}(),x;(function(he){he[he.Invoke=1]="Invoke",he[he.TriggerCharacter=2]="TriggerCharacter",he[he.ContentChange=3]="ContentChange"})(x||(x={}));var S;(function(he){he[he.Text=0]="Text",he[he.Read=1]="Read",he[he.Write=2]="Write"})(S||(S={}));function T(he){return he&&ve.a.isUri(he.uri)&&re.a.isIRange(he.range)&&(re.a.isIRange(he.originSelectionRange)||re.a.isIRange(he.targetSelectionRange))}var z;(function(he){var ge=new Map;ge.set(0,E.a.symbolFile),ge.set(1,E.a.symbolModule),ge.set(2,E.a.symbolNamespace),ge.set(3,E.a.symbolPackage),ge.set(4,E.a.symbolClass),ge.set(5,E.a.symbolMethod),ge.set(6,E.a.symbolProperty),ge.set(7,E.a.symbolField),ge.set(8,E.a.symbolConstructor),ge.set(9,E.a.symbolEnum),ge.set(10,E.a.symbolInterface),ge.set(11,E.a.symbolFunction),ge.set(12,E.a.symbolVariable),ge.set(13,E.a.symbolConstant),ge.set(14,E.a.symbolString),ge.set(15,E.a.symbolNumber),ge.set(16,E.a.symbolBoolean),ge.set(17,E.a.symbolArray),ge.set(18,E.a.symbolObject),ge.set(19,E.a.symbolKey),ge.set(20,E.a.symbolNull),ge.set(21,E.a.symbolEnumMember),ge.set(22,E.a.symbolStruct),ge.set(23,E.a.symbolEvent),ge.set(24,E.a.symbolOperator),ge.set(25,E.a.symbolTypeParameter);function ce(k){var w=ge.get(k);return w||(console.info("No codicon found for SymbolKind "+k),w=E.a.symbolProperty),w}he.toIcon=ce})(z||(z={}));var A=function(){function he(ge){Object(le.a)(this,he),this.value=ge}return Object(De.a)(he,null,[{key:"fromValue",value:function(ce){switch(ce){case"comment":return he.Comment;case"imports":return he.Imports;case"region":return he.Region}return new he(ce)}}]),he}();A.Comment=new A("comment"),A.Imports=new A("imports"),A.Region=new A("region");var ue;(function(he){function ge(ce){return!ce||typeof ce!="object"?!1:typeof ce.id=="string"&&typeof ce.title=="string"}he.is=ge})(ue||(ue={}));var be;(function(he){he[he.Type=1]="Type",he[he.Parameter=2]="Parameter"})(be||(be={}));var de=function(){function he(ge){Object(le.a)(this,he),this.createSupport=ge,this._tokenizationSupport=null}return Object(De.a)(he,[{key:"dispose",value:function(){this._tokenizationSupport&&this._tokenizationSupport.then(function(ce){ce&&ce.dispose()})}},{key:"tokenizationSupport",get:function(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}]),he}(),ke=new W},Lx4V:function(fn,K,a){"use strict";a.d(K,"a",function(){return $}),a.d(K,"b",function(){return y});var le=a("oBTY"),De=a("fWQN"),E=a("mtLc"),ve=a("6OMU"),re=a("pmY6"),J=a("ic2d"),$;(function(L){L[L.PRESERVE=0]="PRESERVE",L[L.LAST=1]="LAST"})($||($={}));var y={Quickaccess:"workbench.contributions.quickaccess"},Q=function(){function L(){Object(De.a)(this,L),this.providers=[],this.defaultProvider=void 0}return Object(E.a)(L,[{key:"registerQuickAccessProvider",value:function(ee){var H=this;return ee.prefix.length===0?this.defaultProvider=ee:this.providers.push(ee),this.providers.sort(function(W,F){return F.prefix.length-W.prefix.length}),Object(re.l)(function(){H.providers.splice(H.providers.indexOf(ee),1),H.defaultProvider===ee&&(H.defaultProvider=void 0)})}},{key:"getQuickAccessProviders",value:function(){return Object(ve.f)([this.defaultProvider].concat(Object(le.a)(this.providers)))}},{key:"getQuickAccessProvider",value:function(ee){var H=ee&&this.providers.find(function(W){return ee.startsWith(W.prefix)})||void 0;return H||this.defaultProvider}}]),L}();J.a.add(y.Quickaccess,new Q)},M1Kb:function(fn,K,a){"use strict";a.d(K,"f",function(){return ve}),a.d(K,"c",function(){return re}),a.d(K,"e",function(){return J}),a.d(K,"d",function(){return $}),a.d(K,"h",function(){return y}),a.d(K,"b",function(){return Q}),a.d(K,"j",function(){return L}),a.d(K,"i",function(){return ne}),a.d(K,"g",function(){return ee}),a.d(K,"a",function(){return H}),a.d(K,"k",function(){return W});var le=a("fWQN"),De=a("mtLc"),E=a("qj0h"),ve;(function(F){F[F.Left=1]="Left",F[F.Center=2]="Center",F[F.Right=4]="Right",F[F.Full=7]="Full"})(ve||(ve={}));var re;(function(F){F[F.Left=1]="Left",F[F.Right=2]="Right"})(re||(re={}));var J;(function(F){F[F.Inline=1]="Inline",F[F.Gutter=2]="Gutter"})(J||(J={}));var $;(function(F){F[F.Both=0]="Both",F[F.Right=1]="Right",F[F.Left=2]="Left",F[F.None=3]="None"})($||($={}));var y=function(){function F(V){Object(le.a)(this,F),this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,V.tabSize|0),V.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,V.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=Boolean(V.insertSpaces),this.defaultEOL=V.defaultEOL|0,this.trimAutoWhitespace=Boolean(V.trimAutoWhitespace),this.bracketPairColorizationOptions=V.bracketPairColorizationOptions}return Object(De.a)(F,[{key:"originalIndentSize",get:function(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}},{key:"equals",value:function(N){return this.tabSize===N.tabSize&&this._indentSizeIsTabSize===N._indentSizeIsTabSize&&this.indentSize===N.indentSize&&this.insertSpaces===N.insertSpaces&&this.defaultEOL===N.defaultEOL&&this.trimAutoWhitespace===N.trimAutoWhitespace&&Object(E.e)(this.bracketPairColorizationOptions,N.bracketPairColorizationOptions)}},{key:"createChangeEvent",value:function(N){return{tabSize:this.tabSize!==N.tabSize,indentSize:this.indentSize!==N.indentSize,insertSpaces:this.insertSpaces!==N.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==N.trimAutoWhitespace}}}]),F}(),Q=Object(De.a)(function F(V,N){Object(le.a)(this,F),this._findMatchBrand=void 0,this.range=V,this.matches=N});function L(F){return F&&typeof F.read=="function"}var ne=Object(De.a)(function F(V,N,U,d,j,C){Object(le.a)(this,F),this.identifier=V,this.range=N,this.text=U,this.forceMoveMarkers=d,this.isAutoWhitespaceEdit=j,this._isTracked=C}),ee=Object(De.a)(function F(V,N,U){Object(le.a)(this,F),this.regex=V,this.wordSeparators=N,this.simpleSearch=U}),H=Object(De.a)(function F(V,N,U){Object(le.a)(this,F),this.reverseEdits=V,this.changes=N,this.trimAutoWhitespaceLineNumbers=U});function W(F){return!F.isTooLargeForSyncing()&&!F.isForSimpleWidget}},MD5Z:function(fn,K,a){"use strict";a.d(K,"d",function(){return ne}),a.d(K,"c",function(){return ee}),a.d(K,"e",function(){return H}),a.d(K,"a",function(){return W}),a.d(K,"Fc",function(){return N}),a.d(K,"mb",function(){return U}),a.d(K,"kb",function(){return j}),a.d(K,"nb",function(){return x}),a.d(K,"lb",function(){return S}),a.d(K,"w",function(){return T}),a.d(K,"b",function(){return z}),a.d(K,"Qc",function(){return be}),a.d(K,"Wc",function(){return k}),a.d(K,"Vc",function(){return w}),a.d(K,"rb",function(){return B}),a.d(K,"tb",function(){return Y}),a.d(K,"sb",function(){return pe}),a.d(K,"pb",function(){return me}),a.d(K,"ob",function(){return we}),a.d(K,"qb",function(){return Re}),a.d(K,"xb",function(){return Pe}),a.d(K,"zb",function(){return Ne}),a.d(K,"yb",function(){return Ke}),a.d(K,"Ab",function(){return Xe}),a.d(K,"Cb",function(){return wt}),a.d(K,"Bb",function(){return Ct}),a.d(K,"ub",function(){return bt}),a.d(K,"wb",function(){return mt}),a.d(K,"vb",function(){return jt}),a.d(K,"Kc",function(){return Je}),a.d(K,"Nc",function(){return Wt}),a.d(K,"Mc",function(){return Te}),a.d(K,"Lc",function(){return fe}),a.d(K,"n",function(){return ye}),a.d(K,"s",function(){return Ee}),a.d(K,"l",function(){return Ge}),a.d(K,"o",function(){return $e}),a.d(K,"m",function(){return We}),a.d(K,"q",function(){return it}),a.d(K,"p",function(){return Fe}),a.d(K,"r",function(){return He}),a.d(K,"f",function(){return Ye}),a.d(K,"g",function(){return ot}),a.d(K,"Gc",function(){return Kt}),a.d(K,"Ic",function(){return gt}),a.d(K,"Jc",function(){return Ft}),a.d(K,"Hc",function(){return Jt}),a.d(K,"yc",function(){return qt}),a.d(K,"H",function(){return It}),a.d(K,"G",function(){return si}),a.d(K,"fb",function(){return Gn}),a.d(K,"eb",function(){return ci}),a.d(K,"U",function(){return An}),a.d(K,"T",function(){return fr}),a.d(K,"P",function(){return Vi}),a.d(K,"F",function(){return Ei}),a.d(K,"O",function(){return Cr}),a.d(K,"gb",function(){return Hn}),a.d(K,"ib",function(){return mi}),a.d(K,"hb",function(){return hn}),a.d(K,"jb",function(){return Xn}),a.d(K,"zc",function(){return en}),a.d(K,"Ac",function(){return yt}),a.d(K,"Ec",function(){return wn}),a.d(K,"uc",function(){return gn}),a.d(K,"tc",function(){return rn}),a.d(K,"Db",function(){return bn}),a.d(K,"Gb",function(){return Qn}),a.d(K,"Eb",function(){return Ci}),a.d(K,"Fb",function(){return yr}),a.d(K,"bb",function(){return _i}),a.d(K,"cb",function(){return Bn}),a.d(K,"S",function(){return tt}),a.d(K,"db",function(){return Lt}),a.d(K,"I",function(){return Qi}),a.d(K,"K",function(){return mr}),a.d(K,"M",function(){return pr}),a.d(K,"J",function(){return St}),a.d(K,"L",function(){return Gi}),a.d(K,"N",function(){return an}),a.d(K,"Q",function(){return Fn}),a.d(K,"R",function(){return Nt}),a.d(K,"E",function(){return Et}),a.d(K,"W",function(){return Rt}),a.d(K,"V",function(){return dn}),a.d(K,"ab",function(){return et}),a.d(K,"Z",function(){return Ze}),a.d(K,"Y",function(){return on}),a.d(K,"X",function(){return tn}),a.d(K,"x",function(){return ti}),a.d(K,"y",function(){return kn}),a.d(K,"A",function(){return Vt}),a.d(K,"D",function(){return Oi}),a.d(K,"B",function(){return Mr}),a.d(K,"C",function(){return na}),a.d(K,"z",function(){return Ln}),a.d(K,"Qb",function(){return Tt}),a.d(K,"Rb",function(){return Pt}),a.d(K,"Tb",function(){return Zt}),a.d(K,"Pb",function(){return Ut}),a.d(K,"Hb",function(){return Nn}),a.d(K,"Ib",function(){return In}),a.d(K,"Jb",function(){return Wn}),a.d(K,"Zb",function(){return oi}),a.d(K,"ac",function(){return bi}),a.d(K,"bc",function(){return _n}),a.d(K,"Xb",function(){return li}),a.d(K,"Yb",function(){return ki}),a.d(K,"Vb",function(){return Ki}),a.d(K,"Wb",function(){return Tr}),a.d(K,"Kb",function(){return ir}),a.d(K,"Ub",function(){return Er}),a.d(K,"Sb",function(){return va}),a.d(K,"Lb",function(){return Ai}),a.d(K,"Nb",function(){return or}),a.d(K,"Mb",function(){return Zi}),a.d(K,"Ob",function(){return zi}),a.d(K,"Uc",function(){return Nr}),a.d(K,"Tc",function(){return xa}),a.d(K,"Oc",function(){return Qa}),a.d(K,"Pc",function(){return ia}),a.d(K,"t",function(){return ro}),a.d(K,"v",function(){return Zo}),a.d(K,"u",function(){return Hr}),a.d(K,"Cc",function(){return ua}),a.d(K,"Dc",function(){return La}),a.d(K,"Bc",function(){return Mo}),a.d(K,"dc",function(){return ts}),a.d(K,"ec",function(){return At}),a.d(K,"cc",function(){return nt}),a.d(K,"hc",function(){return _e}),a.d(K,"fc",function(){return q}),a.d(K,"gc",function(){return M}),a.d(K,"ic",function(){return D}),a.d(K,"Rc",function(){return G}),a.d(K,"k",function(){return sn}),a.d(K,"i",function(){return ln}),a.d(K,"j",function(){return mn}),a.d(K,"h",function(){return Tn}),a.d(K,"rc",function(){return zo}),a.d(K,"sc",function(){return Ss}),a.d(K,"lc",function(){return Xo}),a.d(K,"oc",function(){return Ko}),a.d(K,"nc",function(){return ds}),a.d(K,"kc",function(){return go}),a.d(K,"pc",function(){return Go}),a.d(K,"jc",function(){return Jo}),a.d(K,"mc",function(){return $o}),a.d(K,"vc",function(){return Es}),a.d(K,"xc",function(){return ul}),a.d(K,"wc",function(){return Us}),a.d(K,"Sc",function(){return aa}),a.d(K,"qc",function(){return Lu});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("X+cX"),re=a("zrhQ"),J=a("MI8n"),$=a("FWmy"),y=a("3/fG"),Q=a("3Rsk"),L=a("ic2d");function ne(rr){return"--vscode-".concat(rr.replace(/\./g,"-"))}function ee(rr){return"var(".concat(ne(rr),")")}function H(rr,oa){return"var(".concat(ne(rr),", ").concat(oa,")")}var W={ColorContribution:"base.contributions.colors"},F=function(){function rr(){Object(De.a)(this,rr),this._onDidChangeSchema=new J.b,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}return Object(E.a)(rr,[{key:"registerColor",value:function(Yr,os,Fo){var Rs=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Ns=arguments.length>4?arguments[4]:void 0,ps={id:Yr,description:Fo,defaults:os,needsTransparency:Rs,deprecationMessage:Ns};this.colorsById[Yr]=ps;var hs={type:"string",description:Fo,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Ns&&(hs.deprecationMessage=Ns),this.colorSchema.properties[Yr]=hs,this.colorReferenceSchema.enum.push(Yr),this.colorReferenceSchema.enumDescriptions.push(Fo),this._onDidChangeSchema.fire(),Yr}},{key:"getColors",value:function(){var Yr=this;return Object.keys(this.colorsById).map(function(os){return Yr.colorsById[os]})}},{key:"resolveDefaultColor",value:function(Yr,os){var Fo=this.colorsById[Yr];if(Fo&&Fo.defaults){var Rs=Fo.defaults[os.type];return Ls(Rs,os)}}},{key:"getColorSchema",value:function(){return this.colorSchema}},{key:"toString",value:function(){var Yr=this,os=function(Rs,Ns){var ps=Rs.indexOf(".")===-1?0:1,hs=Ns.indexOf(".")===-1?0:1;return ps!==hs?ps-hs:Rs.localeCompare(Ns)};return Object.keys(this.colorsById).sort(os).map(function(Fo){return"- `".concat(Fo,"`: ").concat(Yr.colorsById[Fo].description)}).join(`
`)}}]),rr}(),V=new F;L.a.add(W.ColorContribution,V);function N(rr,oa,Yr,os,Fo){return V.registerColor(rr,oa,Yr,os,Fo)}var U=N("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},y.b("foreground","Overall foreground color. This color is only used if not overridden by a component.")),d=N("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},y.b("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),j=N("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},y.b("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),C=N("descriptionForeground",{light:"#717171",dark:aa(U,.7),hcDark:aa(U,.7),hcLight:aa(U,.7)},y.b("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),x=N("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},y.b("iconForeground","The default color for icons in the workbench.")),S=N("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},y.b("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),T=N("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},y.b("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),z=N("contrastActiveBorder",{light:null,dark:null,hcDark:S,hcLight:S},y.b("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),A=N("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},y.b("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),ue=N("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:re.a.black,hcLight:"#292929"},y.b("textSeparatorForeground","Color for text separators.")),be=N("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},y.b("textLinkForeground","Foreground color for links in text.")),de=N("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},y.b("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),ke=N("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},y.b("textPreformatForeground","Foreground color for preformatted text segments.")),he=N("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},y.b("textBlockQuoteBackground","Background color for block quotes in text.")),ge=N("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:re.a.white,hcLight:"#292929"},y.b("textBlockQuoteBorder","Border color for block quotes in text.")),ce=N("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:re.a.black,hcLight:"#F2F2F2"},y.b("textCodeBlockBackground","Background color for code blocks in text.")),k=N("widget.shadow",{dark:aa(re.a.black,.36),light:aa(re.a.black,.16),hcDark:null,hcLight:null},y.b("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),w=N("widget.border",{dark:null,light:null,hcDark:T,hcLight:T},y.b("widgetBorder","Border color of widgets such as find/replace inside the editor.")),B=N("input.background",{dark:"#3C3C3C",light:re.a.white,hcDark:re.a.black,hcLight:re.a.white},y.b("inputBoxBackground","Input box background.")),Y=N("input.foreground",{dark:U,light:U,hcDark:U,hcLight:U},y.b("inputBoxForeground","Input box foreground.")),pe=N("input.border",{dark:null,light:null,hcDark:T,hcLight:T},y.b("inputBoxBorder","Input box border.")),me=N("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:T,hcLight:T},y.b("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),I=N("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},y.b("inputOption.hoverBackground","Background color of activated options in input fields.")),we=N("inputOption.activeBackground",{dark:aa(S,.4),light:aa(S,.2),hcDark:re.a.transparent,hcLight:re.a.transparent},y.b("inputOption.activeBackground","Background hover color of options in input fields.")),Re=N("inputOption.activeForeground",{dark:re.a.white,light:re.a.black,hcDark:U,hcLight:U},y.b("inputOption.activeForeground","Foreground color of activated options in input fields.")),Oe=N("input.placeholderForeground",{light:aa(U,.5),dark:aa(U,.5),hcDark:aa(U,.7),hcLight:aa(U,.7)},y.b("inputPlaceholderForeground","Input box foreground color for placeholder text.")),Pe=N("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:re.a.black,hcLight:re.a.white},y.b("inputValidationInfoBackground","Input validation background color for information severity.")),Ne=N("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:U},y.b("inputValidationInfoForeground","Input validation foreground color for information severity.")),Ke=N("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:T,hcLight:T},y.b("inputValidationInfoBorder","Input validation border color for information severity.")),Xe=N("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:re.a.black,hcLight:re.a.white},y.b("inputValidationWarningBackground","Input validation background color for warning severity.")),wt=N("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:U},y.b("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Ct=N("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:T,hcLight:T},y.b("inputValidationWarningBorder","Input validation border color for warning severity.")),bt=N("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:re.a.black,hcLight:re.a.white},y.b("inputValidationErrorBackground","Input validation background color for error severity.")),mt=N("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:U},y.b("inputValidationErrorForeground","Input validation foreground color for error severity.")),jt=N("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:T,hcLight:T},y.b("inputValidationErrorBorder","Input validation border color for error severity.")),Je=N("dropdown.background",{dark:"#3C3C3C",light:re.a.white,hcDark:re.a.black,hcLight:re.a.white},y.b("dropdownBackground","Dropdown background.")),Wt=N("dropdown.listBackground",{dark:null,light:null,hcDark:re.a.black,hcLight:re.a.white},y.b("dropdownListBackground","Dropdown list background.")),Te=N("dropdown.foreground",{dark:"#F0F0F0",light:U,hcDark:re.a.white,hcLight:U},y.b("dropdownForeground","Dropdown foreground.")),fe=N("dropdown.border",{dark:Je,light:"#CECECE",hcDark:T,hcLight:T},y.b("dropdownBorder","Dropdown border.")),ye=N("button.foreground",{dark:re.a.white,light:re.a.white,hcDark:re.a.white,hcLight:re.a.white},y.b("buttonForeground","Button foreground color.")),Ee=N("button.separator",{dark:aa(ye,.4),light:aa(ye,.4),hcDark:aa(ye,.4),hcLight:aa(ye,.4)},y.b("buttonSeparator","Button separator color.")),Ge=N("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},y.b("buttonBackground","Button background color.")),$e=N("button.hoverBackground",{dark:bo(Ge,.2),light:wl(Ge,.2),hcDark:Ge,hcLight:Ge},y.b("buttonHoverBackground","Button background color when hovering.")),We=N("button.border",{dark:T,light:T,hcDark:T,hcLight:T},y.b("buttonBorder","Button border color.")),it=N("button.secondaryForeground",{dark:re.a.white,light:re.a.white,hcDark:re.a.white,hcLight:U},y.b("buttonSecondaryForeground","Secondary button foreground color.")),Fe=N("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:re.a.white},y.b("buttonSecondaryBackground","Secondary button background color.")),He=N("button.secondaryHoverBackground",{dark:bo(Fe,.2),light:wl(Fe,.2),hcDark:null,hcLight:null},y.b("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Ye=N("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:re.a.black,hcLight:"#0F4A85"},y.b("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),ot=N("badge.foreground",{dark:re.a.white,light:"#333",hcDark:re.a.white,hcLight:re.a.white},y.b("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Kt=N("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},y.b("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),gt=N("scrollbarSlider.background",{dark:re.a.fromHex("#797979").transparent(.4),light:re.a.fromHex("#646464").transparent(.4),hcDark:aa(T,.6),hcLight:aa(T,.4)},y.b("scrollbarSliderBackground","Scrollbar slider background color.")),Ft=N("scrollbarSlider.hoverBackground",{dark:re.a.fromHex("#646464").transparent(.7),light:re.a.fromHex("#646464").transparent(.7),hcDark:aa(T,.8),hcLight:aa(T,.8)},y.b("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Jt=N("scrollbarSlider.activeBackground",{dark:re.a.fromHex("#BFBFBF").transparent(.4),light:re.a.fromHex("#000000").transparent(.6),hcDark:T,hcLight:T},y.b("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),qt=N("progressBar.background",{dark:re.a.fromHex("#0E70C0"),light:re.a.fromHex("#0E70C0"),hcDark:T,hcLight:T},y.b("progressBarBackground","Background color of the progress bar that can show for long running operations.")),En=N("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},y.b("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),It=N("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},y.b("editorError.foreground","Foreground color of error squigglies in the editor.")),si=N("editorError.border",{dark:null,light:null,hcDark:re.a.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},y.b("errorBorder","If set, color of double underlines for errors in the editor.")),On=N("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},y.b("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Gn=N("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},y.b("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),ci=N("editorWarning.border",{dark:null,light:null,hcDark:re.a.fromHex("#FFCC00").transparent(.8),hcLight:re.a.fromHex("#FFCC00").transparent(.8)},y.b("warningBorder","If set, color of double underlines for warnings in the editor.")),Dn=N("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},y.b("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),An=N("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},y.b("editorInfo.foreground","Foreground color of info squigglies in the editor.")),fr=N("editorInfo.border",{dark:null,light:null,hcDark:re.a.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},y.b("infoBorder","If set, color of double underlines for infos in the editor.")),Vi=N("editorHint.foreground",{dark:re.a.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},y.b("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Sr=N("editorHint.border",{dark:null,light:null,hcDark:re.a.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},y.b("hintBorder","If set, color of double underlines for hints in the editor.")),Pi=N("sash.hoverBorder",{dark:S,light:S,hcDark:S,hcLight:S},y.b("sashActiveBorder","Border color of active sashes.")),Ei=N("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:re.a.black,hcLight:re.a.white},y.b("editorBackground","Editor background color.")),Cr=N("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:re.a.white,hcLight:U},y.b("editorForeground","Editor default foreground color.")),zn=N("editorStickyScroll.background",{light:Ei,dark:Ei,hcDark:Ei,hcLight:Ei},y.b("editorStickyScrollBackground","Sticky scroll background color for the editor")),dr=N("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:re.a.fromHex("#0F4A85").transparent(.1)},y.b("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),Hn=N("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:re.a.white},y.b("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),mi=N("editorWidget.foreground",{dark:U,light:U,hcDark:U,hcLight:U},y.b("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),hn=N("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:T,hcLight:T},y.b("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Xn=N("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},y.b("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),en=N("quickInput.background",{dark:Hn,light:Hn,hcDark:Hn,hcLight:Hn},y.b("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),yt=N("quickInput.foreground",{dark:mi,light:mi,hcDark:mi,hcLight:mi},y.b("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),wn=N("quickInputTitle.background",{dark:new re.a(new re.d(255,255,255,.105)),light:new re.a(new re.d(0,0,0,.06)),hcDark:"#000000",hcLight:re.a.white},y.b("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),gn=N("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:re.a.white,hcLight:"#0F4A85"},y.b("pickerGroupForeground","Quick picker color for grouping labels.")),rn=N("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:re.a.white,hcLight:"#0F4A85"},y.b("pickerGroupBorder","Quick picker color for grouping borders.")),bn=N("keybindingLabel.background",{dark:new re.a(new re.d(128,128,128,.17)),light:new re.a(new re.d(221,221,221,.4)),hcDark:re.a.transparent,hcLight:re.a.transparent},y.b("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Qn=N("keybindingLabel.foreground",{dark:re.a.fromHex("#CCCCCC"),light:re.a.fromHex("#555555"),hcDark:re.a.white,hcLight:U},y.b("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Ci=N("keybindingLabel.border",{dark:new re.a(new re.d(51,51,51,.6)),light:new re.a(new re.d(204,204,204,.4)),hcDark:new re.a(new re.d(111,195,223)),hcLight:T},y.b("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),yr=N("keybindingLabel.bottomBorder",{dark:new re.a(new re.d(68,68,68,.6)),light:new re.a(new re.d(187,187,187,.4)),hcDark:new re.a(new re.d(111,195,223)),hcLight:U},y.b("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),_i=N("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},y.b("editorSelectionBackground","Color of the editor selection.")),Bn=N("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:re.a.white},y.b("editorSelectionForeground","Color of the selected text for high contrast.")),tt=N("editor.inactiveSelectionBackground",{light:aa(_i,.5),dark:aa(_i,.5),hcDark:aa(_i,.7),hcLight:aa(_i,.5)},y.b("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Lt=N("editor.selectionHighlightBackground",{light:ks(_i,Ei,.3,.6),dark:ks(_i,Ei,.3,.6),hcDark:null,hcLight:null},y.b("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),xi=N("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:z,hcLight:z},y.b("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Qi=N("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},y.b("editorFindMatch","Color of the current search match.")),mr=N("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},y.b("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),pr=N("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},y.b("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),St=N("editor.findMatchBorder",{light:null,dark:null,hcDark:z,hcLight:z},y.b("editorFindMatchBorder","Border color of the current search match.")),Gi=N("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:z,hcLight:z},y.b("findMatchHighlightBorder","Border color of the other search matches.")),an=N("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:aa(z,.4),hcLight:aa(z,.4)},y.b("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Qe=N("searchEditor.findMatchBackground",{light:aa(mr,.66),dark:aa(mr,.66),hcDark:mr,hcLight:mr},y.b("searchEditor.queryMatch","Color of the Search Editor query matches.")),Jn=N("searchEditor.findMatchBorder",{light:aa(Gi,.66),dark:aa(Gi,.66),hcDark:Gi,hcLight:Gi},y.b("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),ii=N("search.resultsInfoForeground",{light:U,dark:aa(U,.65),hcDark:U,hcLight:U},y.b("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),Li=N("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},y.b("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Fn=N("editorHoverWidget.background",{light:Hn,dark:Hn,hcDark:Hn,hcLight:Hn},y.b("hoverBackground","Background color of the editor hover.")),jn=N("editorHoverWidget.foreground",{light:mi,dark:mi,hcDark:mi,hcLight:mi},y.b("hoverForeground","Foreground color of the editor hover.")),Nt=N("editorHoverWidget.border",{light:hn,dark:hn,hcDark:hn,hcLight:hn},y.b("hoverBorder","Border color of the editor hover.")),Gt=N("editorHoverWidget.statusBarBackground",{dark:bo(Fn,.2),light:wl(Fn,.05),hcDark:Hn,hcLight:Hn},y.b("statusBarBackground","Background color of the editor hover status bar.")),Et=N("editorLink.activeForeground",{dark:"#4E94CE",light:re.a.blue,hcDark:re.a.cyan,hcLight:"#292929"},y.b("activeLinkForeground","Color of active links.")),Rt=N("editorInlayHint.foreground",{dark:ot,light:ot,hcDark:re.a.black,hcLight:ot},y.b("editorInlayHintForeground","Foreground color of inline hints")),dn=N("editorInlayHint.background",{dark:aa(Ye,.8),light:aa(Ye,.6),hcDark:"#f38518",hcLight:Ye},y.b("editorInlayHintBackground","Background color of inline hints")),et=N("editorInlayHint.typeForeground",{dark:Rt,light:Rt,hcDark:Rt,hcLight:Rt},y.b("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Ze=N("editorInlayHint.typeBackground",{dark:dn,light:dn,hcDark:dn,hcLight:dn},y.b("editorInlayHintBackgroundTypes","Background color of inline hints for types")),on=N("editorInlayHint.parameterForeground",{dark:Rt,light:Rt,hcDark:Rt,hcLight:Rt},y.b("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),tn=N("editorInlayHint.parameterBackground",{dark:dn,light:dn,hcDark:dn,hcLight:dn},y.b("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Dt=N("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},y.b("editorLightBulbForeground","The color used for the lightbulb actions icon.")),pn=N("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},y.b("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),ti=new re.a(new re.d(155,185,85,.2)),kn=new re.a(new re.d(255,0,0,.2)),Vt=N("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},y.b("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Oi=N("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},y.b("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Yi=N("diffEditor.insertedLineBackground",{dark:ti,light:ti,hcDark:null,hcLight:null},y.b("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Hi=N("diffEditor.removedLineBackground",{dark:kn,light:kn,hcDark:null,hcLight:null},y.b("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),qi=N("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.b("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Qr=N("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.b("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),Mr=N("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.b("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),na=N("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.b("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Br=N("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},y.b("diffEditorInsertedOutline","Outline color for the text that got inserted.")),ha=N("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},y.b("diffEditorRemovedOutline","Outline color for text that got removed.")),vn=N("diffEditor.border",{dark:null,light:null,hcDark:T,hcLight:T},y.b("diffEditorBorder","Border color between the two text editors.")),Ln=N("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},y.b("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),ut=N("diffEditor.unchangedRegionBackground",{dark:"#000000",light:"#e4e4e4",hcDark:null,hcLight:null},y.b("diffEditor.unchangedRegionBackground","The color of unchanged blocks in diff editor.")),Tt=N("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.b("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Pt=N("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.b("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Zt=N("list.focusOutline",{dark:S,light:S,hcDark:z,hcLight:z},y.b("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ut=N("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},y.b("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Nn=N("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:re.a.fromHex("#0F4A85").transparent(.1)},y.b("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),In=N("list.activeSelectionForeground",{dark:re.a.white,light:re.a.white,hcDark:null,hcLight:null},y.b("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Wn=N("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.b("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),oi=N("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:re.a.fromHex("#0F4A85").transparent(.1)},y.b("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),bi=N("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.b("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),_n=N("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.b("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),li=N("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.b("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ki=N("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},y.b("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ki=N("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:re.a.white.transparent(.1),hcLight:re.a.fromHex("#0F4A85").transparent(.1)},y.b("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Tr=N("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.b("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),ir=N("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},y.b("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Er=N("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:S,hcLight:S},y.b("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),va=N("list.focusHighlightForeground",{dark:Er,light:zs(Nn,Er,"#BBE7FF"),hcDark:Er,hcLight:Er},y.b("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Sn=N("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},y.b("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),ri=N("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},y.b("listErrorForeground","Foreground color of list items containing errors.")),Vn=N("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},y.b("listWarningForeground","Foreground color of list items containing warnings.")),Ai=N("listFilterWidget.background",{light:wl(Hn,0),dark:bo(Hn,0),hcDark:Hn,hcLight:Hn},y.b("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),or=N("listFilterWidget.outline",{dark:re.a.transparent,light:re.a.transparent,hcDark:"#f38518",hcLight:"#007ACC"},y.b("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Zi=N("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:T,hcLight:T},y.b("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),zi=N("listFilterWidget.shadow",{dark:k,light:k,hcDark:k,hcLight:k},y.b("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),Wr=N("list.filterMatchBackground",{dark:mr,light:mr,hcDark:null,hcLight:null},y.b("listFilterMatchHighlight","Background color of the filtered match.")),Ra=N("list.filterMatchBorder",{dark:Gi,light:Gi,hcDark:T,hcLight:z},y.b("listFilterMatchHighlightBorder","Border color of the filtered match.")),Nr=N("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},y.b("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),xa=N("tree.inactiveIndentGuidesStroke",{dark:aa(Nr,.4),light:aa(Nr,.4),hcDark:aa(Nr,.4),hcLight:aa(Nr,.4)},y.b("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Qa=N("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},y.b("tableColumnsBorder","Table border color between columns.")),ia=N("tree.tableOddRowsBackground",{dark:aa(U,.04),light:aa(U,.04),hcDark:null,hcLight:null},y.b("tableOddRowsBackgroundColor","Background color for odd table rows.")),io=N("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},y.b("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),ro=N("checkbox.background",{dark:Je,light:Je,hcDark:Je,hcLight:Je},y.b("checkbox.background","Background color of checkbox widget.")),vo=N("checkbox.selectBackground",{dark:Hn,light:Hn,hcDark:Hn,hcLight:Hn},y.b("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Zo=N("checkbox.foreground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},y.b("checkbox.foreground","Foreground color of checkbox widget.")),Hr=N("checkbox.border",{dark:fe,light:fe,hcDark:fe,hcLight:fe},y.b("checkbox.border","Border color of checkbox widget.")),ao=N("checkbox.selectBorder",{dark:x,light:x,hcDark:x,hcLight:x},y.b("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),ka=N("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,y.b("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),ua=N("quickInputList.focusForeground",{dark:In,light:In,hcDark:In,hcLight:In},y.b("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),La=N("quickInputList.focusIconForeground",{dark:Wn,light:Wn,hcDark:Wn,hcLight:Wn},y.b("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Mo=N("quickInputList.focusBackground",{dark:Lu(ka,Nn),light:Lu(ka,Nn),hcDark:null,hcLight:null},y.b("quickInput.listFocusBackground","Quick picker background color for the focused item.")),ts=N("menu.border",{dark:null,light:null,hcDark:T,hcLight:T},y.b("menuBorder","Border color of menus.")),At=N("menu.foreground",{dark:Te,light:Te,hcDark:Te,hcLight:Te},y.b("menuForeground","Foreground color of menu items.")),nt=N("menu.background",{dark:Je,light:Je,hcDark:Je,hcLight:Je},y.b("menuBackground","Background color of menu items.")),_e=N("menu.selectionForeground",{dark:In,light:In,hcDark:In,hcLight:In},y.b("menuSelectionForeground","Foreground color of the selected menu item in menus.")),q=N("menu.selectionBackground",{dark:Nn,light:Nn,hcDark:Nn,hcLight:Nn},y.b("menuSelectionBackground","Background color of the selected menu item in menus.")),M=N("menu.selectionBorder",{dark:null,light:null,hcDark:z,hcLight:z},y.b("menuSelectionBorder","Border color of the selected menu item in menus.")),D=N("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:T,hcLight:T},y.b("menuSeparatorBackground","Color of a separator menu item in menus.")),G=N("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},y.b("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),oe=N("toolbar.hoverOutline",{dark:null,light:null,hcDark:z,hcLight:z},y.b("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),xe=N("toolbar.activeBackground",{dark:bo(G,.1),light:wl(G,.1),hcDark:null,hcLight:null},y.b("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),Ve=N("editor.snippetTabstopHighlightBackground",{dark:new re.a(new re.d(124,124,124,.3)),light:new re.a(new re.d(10,50,100,.2)),hcDark:new re.a(new re.d(124,124,124,.3)),hcLight:new re.a(new re.d(10,50,100,.2))},y.b("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),lt=N("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},y.b("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),pt=N("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.b("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),xt=N("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new re.a(new re.d(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},y.b("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),sn=N("breadcrumb.foreground",{light:aa(U,.8),dark:aa(U,.8),hcDark:aa(U,.8),hcLight:aa(U,.8)},y.b("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),ln=N("breadcrumb.background",{light:Ei,dark:Ei,hcDark:Ei,hcLight:Ei},y.b("breadcrumbsBackground","Background color of breadcrumb items.")),mn=N("breadcrumb.focusForeground",{light:wl(U,.2),dark:bo(U,.1),hcDark:bo(U,.1),hcLight:bo(U,.1)},y.b("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Tn=N("breadcrumb.activeSelectionForeground",{light:wl(U,.2),dark:bo(U,.1),hcDark:bo(U,.1),hcLight:bo(U,.1)},y.b("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),ai=N("breadcrumbPicker.background",{light:Hn,dark:Hn,hcDark:Hn,hcLight:Hn},y.b("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),pi=.5,yi=re.a.fromHex("#40C8AE").transparent(pi),vi=re.a.fromHex("#40A6FF").transparent(pi),Bt=re.a.fromHex("#606060").transparent(.4),hr=.4,Ii=1,Ar=N("merge.currentHeaderBackground",{dark:yi,light:yi,hcDark:null,hcLight:null},y.b("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Gr=N("merge.currentContentBackground",{dark:aa(Ar,hr),light:aa(Ar,hr),hcDark:aa(Ar,hr),hcLight:aa(Ar,hr)},y.b("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ea=N("merge.incomingHeaderBackground",{dark:vi,light:vi,hcDark:null,hcLight:null},y.b("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ya=N("merge.incomingContentBackground",{dark:aa(ea,hr),light:aa(ea,hr),hcDark:aa(ea,hr),hcLight:aa(ea,hr)},y.b("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Da=N("merge.commonHeaderBackground",{dark:Bt,light:Bt,hcDark:null,hcLight:null},y.b("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ta=N("merge.commonContentBackground",{dark:aa(Da,hr),light:aa(Da,hr),hcDark:aa(Da,hr),hcLight:aa(Da,hr)},y.b("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ya=N("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},y.b("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),Va=N("editorOverviewRuler.currentContentForeground",{dark:aa(Ar,Ii),light:aa(Ar,Ii),hcDark:Ya,hcLight:Ya},y.b("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),mo=N("editorOverviewRuler.incomingContentForeground",{dark:aa(ea,Ii),light:aa(ea,Ii),hcDark:Ya,hcLight:Ya},y.b("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),po=N("editorOverviewRuler.commonContentForeground",{dark:aa(Da,Ii),light:aa(Da,Ii),hcDark:Ya,hcLight:Ya},y.b("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),zo=N("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},y.b("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ss=N("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},y.b("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Xo=N("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},y.b("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Ko=N("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},y.b("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),ds=N("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},y.b("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),go=N("minimap.errorHighlight",{dark:new re.a(new re.d(255,18,18,.7)),light:new re.a(new re.d(255,18,18,.7)),hcDark:new re.a(new re.d(255,50,50,1)),hcLight:"#B5200D"},y.b("minimapError","Minimap marker color for errors.")),Go=N("minimap.warningHighlight",{dark:Gn,light:Gn,hcDark:ci,hcLight:ci},y.b("overviewRuleWarning","Minimap marker color for warnings.")),Jo=N("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},y.b("minimapBackground","Minimap background color.")),$o=N("minimap.foregroundOpacity",{dark:re.a.fromHex("#000f"),light:re.a.fromHex("#000f"),hcDark:re.a.fromHex("#000f"),hcLight:re.a.fromHex("#000f")},y.b("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),As=N("minimapSlider.background",{light:aa(gt,.5),dark:aa(gt,.5),hcDark:aa(gt,.5),hcLight:aa(gt,.5)},y.b("minimapSliderBackground","Minimap slider background color.")),ou=N("minimapSlider.hoverBackground",{light:aa(Ft,.5),dark:aa(Ft,.5),hcDark:aa(Ft,.5),hcLight:aa(Ft,.5)},y.b("minimapSliderHoverBackground","Minimap slider background color when hovering.")),su=N("minimapSlider.activeBackground",{light:aa(Jt,.5),dark:aa(Jt,.5),hcDark:aa(Jt,.5),hcLight:aa(Jt,.5)},y.b("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Es=N("problemsErrorIcon.foreground",{dark:It,light:It,hcDark:It,hcLight:It},y.b("problemsErrorIconForeground","The color used for the problems error icon.")),ul=N("problemsWarningIcon.foreground",{dark:Gn,light:Gn,hcDark:Gn,hcLight:Gn},y.b("problemsWarningIconForeground","The color used for the problems warning icon.")),Us=N("problemsInfoIcon.foreground",{dark:An,light:An,hcDark:An,hcLight:An},y.b("problemsInfoIconForeground","The color used for the problems info icon.")),lu=N("charts.foreground",{dark:U,light:U,hcDark:U,hcLight:U},y.b("chartsForeground","The foreground color used in charts.")),cl=N("charts.lines",{dark:aa(U,.5),light:aa(U,.5),hcDark:aa(U,.5),hcLight:aa(U,.5)},y.b("chartsLines","The color used for horizontal lines in charts.")),dl=N("charts.red",{dark:It,light:It,hcDark:It,hcLight:It},y.b("chartsRed","The red color used in chart visualizations.")),Wl=N("charts.blue",{dark:An,light:An,hcDark:An,hcLight:An},y.b("chartsBlue","The blue color used in chart visualizations.")),Dl=N("charts.yellow",{dark:Gn,light:Gn,hcDark:Gn,hcLight:Gn},y.b("chartsYellow","The yellow color used in chart visualizations.")),fc=N("charts.orange",{dark:Xo,light:Xo,hcDark:Xo,hcLight:Xo},y.b("chartsOrange","The orange color used in chart visualizations.")),uo=N("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},y.b("chartsGreen","The green color used in chart visualizations.")),Ku=N("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},y.b("chartsPurple","The purple color used in chart visualizations."));function eo(rr,oa){var Yr,os,Fo,Rs;switch(rr.op){case 0:return(Yr=Ls(rr.value,oa))===null||Yr===void 0?void 0:Yr.darken(rr.factor);case 1:return(os=Ls(rr.value,oa))===null||os===void 0?void 0:os.lighten(rr.factor);case 2:return(Fo=Ls(rr.value,oa))===null||Fo===void 0?void 0:Fo.transparent(rr.factor);case 3:{var Ns=Ls(rr.background,oa);return Ns?(Rs=Ls(rr.value,oa))===null||Rs===void 0?void 0:Rs.makeOpaque(Ns):Ls(rr.value,oa)}case 4:var ps=Object(le.a)(rr.values),hs;try{for(ps.s();!(hs=ps.n()).done;){var gc=hs.value,mc=Ls(gc,oa);if(mc)return mc}}catch(pc){ps.e(pc)}finally{ps.f()}return;case 6:return Ls(oa.defines(rr.if)?rr.then:rr.else,oa);case 5:{var xs=Ls(rr.value,oa);if(!xs)return;var ns=Ls(rr.background,oa);return ns?xs.isDarkerThan(ns)?re.a.getLighterColor(xs,ns,rr.factor).transparent(rr.transparency):re.a.getDarkerColor(xs,ns,rr.factor).transparent(rr.transparency):xs.transparent(rr.factor*rr.transparency)}default:throw Object($.b)(rr)}}function wl(rr,oa){return{op:0,value:rr,factor:oa}}function bo(rr,oa){return{op:1,value:rr,factor:oa}}function aa(rr,oa){return{op:2,value:rr,factor:oa}}function Lu(){for(var rr=arguments.length,oa=new Array(rr),Yr=0;Yr<rr;Yr++)oa[Yr]=arguments[Yr];return{op:4,values:oa}}function zs(rr,oa,Yr){return{op:6,if:rr,then:oa,else:Yr}}function ks(rr,oa,Yr,os){return{op:5,value:rr,background:oa,factor:Yr,transparency:os}}function Ls(rr,oa){if(rr!==null){if(typeof rr=="string")return rr[0]==="#"?re.a.fromHex(rr):oa.getColor(rr);if(rr instanceof re.a)return rr;if(typeof rr=="object")return eo(rr,oa)}}var vc="vscode://schemas/workbench-colors",jl=L.a.as(Q.a.JSONContribution);jl.registerSchema(vc,V.getColorSchema());var Vl=new ve.g(function(){return jl.notifySchemaChanged(vc)},200);V.onDidChangeSchema(function(){Vl.isScheduled()||Vl.schedule()})},MI8n:function(fn,K,a){"use strict";a.d(K,"c",function(){return N}),a.d(K,"b",function(){return S}),a.d(K,"e",function(){return T}),a.d(K,"h",function(){return ue}),a.d(K,"a",function(){return be}),a.d(K,"g",function(){return de}),a.d(K,"f",function(){return ke}),a.d(K,"d",function(){return he}),a.d(K,"i",function(){return ge});var le=a("w4Tj"),De=a("oZsa"),E=a("yKVA"),ve=a("879j"),re=a("rAM+"),J=a("tJVT"),$=a("fWQN"),y=a("mtLc"),Q=a("oBTY"),L=a("/cxE"),ne=a("C/vA"),ee=a("pmY6"),H=a("24hK"),W=a("5Y4S"),F=!1,V=!1,N;(function(ce){ce.None=function(){return ee.a.None};function k(Ge){if(V){var $e=Ge.onDidAddListener,We=C.create(),it=0;Ge.onDidAddListener=function(){++it==2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),We.print()),$e==null||$e()}}}function w(Ge,$e){return Pe(Ge,function(){},0,void 0,!0,void 0,$e)}ce.defer=w;function B(Ge){return function($e){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,it=arguments.length>2?arguments[2]:void 0,Fe=!1,He=void 0;return He=Ge(function(Ye){if(!Fe)return He?He.dispose():Fe=!0,$e.call(We,Ye)},null,it),Fe&&He.dispose(),He}}ce.once=B;function Y(Ge,$e,We){return Oe(function(it){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,He=arguments.length>2?arguments[2]:void 0;return Ge(function(Ye){return it.call(Fe,$e(Ye))},null,He)},We)}ce.map=Y;function pe(Ge,$e,We){return Oe(function(it){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,He=arguments.length>2?arguments[2]:void 0;return Ge(function(Ye){$e(Ye),it.call(Fe,Ye)},null,He)},We)}ce.forEach=pe;function me(Ge,$e,We){return Oe(function(it){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,He=arguments.length>2?arguments[2]:void 0;return Ge(function(Ye){return $e(Ye)&&it.call(Fe,Ye)},null,He)},We)}ce.filter=me;function I(Ge){return Ge}ce.signal=I;function we(){for(var Ge=arguments.length,$e=new Array(Ge),We=0;We<Ge;We++)$e[We]=arguments[We];return function(it){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,He=arguments.length>2?arguments[2]:void 0;return ee.h.apply(void 0,Object(Q.a)($e.map(function(Ye){return Ye(function(ot){return it.call(Fe,ot)},null,He)})))}}ce.any=we;function Re(Ge,$e,We,it){var Fe=We;return Y(Ge,function(He){return Fe=$e(Fe,He),Fe},it)}ce.reduce=Re;function Oe(Ge,$e){var We,it={onWillAddFirstListener:function(){We=Ge(Fe.fire,Fe)},onDidRemoveLastListener:function(){We==null||We.dispose()}};$e||k(it);var Fe=new S(it);return $e==null||$e.add(Fe),Fe.event}function Pe(Ge,$e){var We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,it=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Fe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,He=arguments.length>5?arguments[5]:void 0,Ye=arguments.length>6?arguments[6]:void 0,ot,Kt=void 0,gt=void 0,Ft=0,Jt,qt={leakWarningThreshold:He,onWillAddFirstListener:function(){ot=Ge(function(si){Ft++,Kt=$e(Kt,si),it&&!gt&&(En.fire(Kt),Kt=void 0),Jt=function(){var Gn=Kt;Kt=void 0,gt=void 0,(!it||Ft>1)&&En.fire(Gn),Ft=0},typeof We=="number"?(clearTimeout(gt),gt=setTimeout(Jt,We)):gt===void 0&&(gt=0,queueMicrotask(Jt))})},onWillRemoveListener:function(){Fe&&Ft>0&&(Jt==null||Jt())},onDidRemoveLastListener:function(){Jt=void 0,ot.dispose()}};Ye||k(qt);var En=new S(qt);return Ye==null||Ye.add(En),En.event}ce.debounce=Pe;function Ne(Ge){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,We=arguments.length>2?arguments[2]:void 0;return ce.debounce(Ge,function(it,Fe){return it?(it.push(Fe),it):[Fe]},$e,void 0,!0,void 0,We)}ce.accumulate=Ne;function Ke(Ge){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(He,Ye){return He===Ye},We=arguments.length>2?arguments[2]:void 0,it=!0,Fe;return me(Ge,function(He){var Ye=it||!$e(He,Fe);return it=!1,Fe=He,Ye},We)}ce.latch=Ke;function Xe(Ge,$e,We){return[ce.filter(Ge,$e,We),ce.filter(Ge,function(it){return!$e(it)},We)]}ce.split=Xe;function wt(Ge){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],it=We.slice(),Fe=Ge(function(ot){it?it.push(ot):Ye.fire(ot)}),He=function(){it==null||it.forEach(function(Kt){return Ye.fire(Kt)}),it=null},Ye=new S({onWillAddFirstListener:function(){Fe||(Fe=Ge(function(Kt){return Ye.fire(Kt)}))},onDidAddFirstListener:function(){it&&($e?setTimeout(He):He())},onDidRemoveLastListener:function(){Fe&&Fe.dispose(),Fe=null}});return Ye.event}ce.buffer=wt;var Ct=function(){function Ge($e){Object($.a)(this,Ge),this.event=$e,this.disposables=new ee.c}return Object(y.a)(Ge,[{key:"map",value:function(We){return new Ge(Y(this.event,We,this.disposables))}},{key:"forEach",value:function(We){return new Ge(pe(this.event,We,this.disposables))}},{key:"filter",value:function(We){return new Ge(me(this.event,We,this.disposables))}},{key:"reduce",value:function(We,it){return new Ge(Re(this.event,We,it,this.disposables))}},{key:"latch",value:function(){return new Ge(Ke(this.event,void 0,this.disposables))}},{key:"debounce",value:function(We){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,He=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Ye=arguments.length>4?arguments[4]:void 0;return new Ge(Pe(this.event,We,it,Fe,He,Ye,this.disposables))}},{key:"on",value:function(We,it,Fe){return this.event(We,it,Fe)}},{key:"once",value:function(We,it,Fe){return B(this.event)(We,it,Fe)}},{key:"dispose",value:function(){this.disposables.dispose()}}]),Ge}();function bt(Ge){return new Ct(Ge)}ce.chain=bt;function mt(Ge,$e){var We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(ot){return ot},it=function(){return Ye.fire(We.apply(void 0,arguments))},Fe=function(){return Ge.on($e,it)},He=function(){return Ge.removeListener($e,it)},Ye=new S({onWillAddFirstListener:Fe,onDidRemoveLastListener:He});return Ye.event}ce.fromNodeEventEmitter=mt;function jt(Ge,$e){var We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(ot){return ot},it=function(){return Ye.fire(We.apply(void 0,arguments))},Fe=function(){return Ge.addEventListener($e,it)},He=function(){return Ge.removeEventListener($e,it)},Ye=new S({onWillAddFirstListener:Fe,onDidRemoveLastListener:He});return Ye.event}ce.fromDOMEventEmitter=jt;function Je(Ge){return new Promise(function($e){return B(Ge)($e)})}ce.toPromise=Je;function Wt(Ge,$e){return $e(void 0),Ge(function(We){return $e(We)})}ce.runAndSubscribe=Wt;function Te(Ge,$e){var We=null;function it(He){We==null||We.dispose(),We=new ee.c,$e(He,We)}it(void 0);var Fe=Ge(function(He){return it(He)});return Object(ee.l)(function(){Fe.dispose(),We==null||We.dispose()})}ce.runAndSubscribeWithStore=Te;var fe=function(){function Ge($e,We){var it=this;Object($.a)(this,Ge),this._observable=$e,this._counter=0,this._hasChanged=!1;var Fe={onWillAddFirstListener:function(){$e.addObserver(it)},onDidRemoveLastListener:function(){$e.removeObserver(it)}};We||k(Fe),this.emitter=new S(Fe),We&&We.add(this.emitter)}return Object(y.a)(Ge,[{key:"beginUpdate",value:function(We){this._counter++}},{key:"handlePossibleChange",value:function(We){}},{key:"handleChange",value:function(We,it){this._hasChanged=!0}},{key:"endUpdate",value:function(We){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}]),Ge}();function ye(Ge,$e){var We=new fe(Ge,$e);return We.emitter.event}ce.fromObservable=ye;function Ee(Ge){return function($e){var We=0,it=!1,Fe={beginUpdate:function(){We++},endUpdate:function(){We--,We===0&&(Ge.reportChanges(),it&&(it=!1,$e()))},handlePossibleChange:function(){},handleChange:function(){it=!0}};return Ge.addObserver(Fe),{dispose:function(){Ge.removeObserver(Fe)}}}}ce.fromObservableLight=Ee})(N||(N={}));var U=function(){function ce(k){Object($.a)(this,ce),this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name="".concat(k,"_").concat(ce._idPool++),ce.all.add(this)}return Object(y.a)(ce,[{key:"start",value:function(w){this._stopWatch=new W.a(!0),this.listenerCount=w}},{key:"stop",value:function(){if(this._stopWatch){var w=this._stopWatch.elapsed();this.durations.push(w),this.elapsedOverall+=w,this.invocationCount+=1,this._stopWatch=void 0}}}]),ce}();U.all=new Set,U._idPool=0;var d=-1,j=function(){function ce(k){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Math.random().toString(18).slice(2,5);Object($.a)(this,ce),this.threshold=k,this.name=w,this._warnCountdown=0}return Object(y.a)(ce,[{key:"dispose",value:function(){var w;(w=this._stacks)===null||w===void 0||w.clear()}},{key:"check",value:function(w,B){var Y=this,pe=this.threshold;if(!(pe<=0||B<pe)){this._stacks||(this._stacks=new Map);var me=this._stacks.get(w.value)||0;if(this._stacks.set(w.value,me+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=pe*.5;var I,we=0,Re=Object(re.a)(this._stacks),Oe;try{for(Re.s();!(Oe=Re.n()).done;){var Pe=Oe.value,Ne=Object(J.a)(Pe,2),Ke=Ne[0],Xe=Ne[1];(!I||we<Xe)&&(I=Ke,we=Xe)}}catch(wt){Re.e(wt)}finally{Re.f()}console.warn("[".concat(this.name,"] potential listener LEAK detected, having ").concat(B," listeners already. MOST frequent listener (").concat(we,"):")),console.warn(I)}return function(){var wt=Y._stacks.get(w.value)||0;Y._stacks.set(w.value,wt-1)}}}}]),ce}(),C=function(){function ce(k){Object($.a)(this,ce),this.value=k}return Object(y.a)(ce,[{key:"print",value:function(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}],[{key:"create",value:function(){var w;return new ce((w=new Error().stack)!==null&&w!==void 0?w:"")}}]),ce}(),x=function(){function ce(k,w,B){Object($.a)(this,ce),this.callback=k,this.callbackThis=w,this.stack=B,this.subscription=new ee.g}return Object(y.a)(ce,[{key:"invoke",value:function(w){this.callback.call(this.callbackThis,w)}}]),ce}(),S=function(){function ce(k){Object($.a)(this,ce);var w,B,Y,pe,me;this._disposed=!1,this._options=k,this._leakageMon=d>0||((w=this._options)===null||w===void 0?void 0:w.leakWarningThreshold)?new j((Y=(B=this._options)===null||B===void 0?void 0:B.leakWarningThreshold)!==null&&Y!==void 0?Y:d):void 0,this._perfMon=((pe=this._options)===null||pe===void 0?void 0:pe._profName)?new U(this._options._profName):void 0,this._deliveryQueue=(me=this._options)===null||me===void 0?void 0:me.deliveryQueue}return Object(y.a)(ce,[{key:"dispose",value:function(){var w,B,Y,pe;if(!this._disposed){if(this._disposed=!0,this._listeners){if(F){var me=Array.from(this._listeners);queueMicrotask(function(){var I,we=Object(re.a)(me),Re;try{for(we.s();!(Re=we.n()).done;){var Oe=Re.value;Oe.subscription.isset()&&(Oe.subscription.unset(),(I=Oe.stack)===null||I===void 0||I.print())}}catch(Pe){we.e(Pe)}finally{we.f()}})}this._listeners.clear()}(w=this._deliveryQueue)===null||w===void 0||w.clear(this),(Y=(B=this._options)===null||B===void 0?void 0:B.onDidRemoveLastListener)===null||Y===void 0||Y.call(B),(pe=this._leakageMon)===null||pe===void 0||pe.dispose()}}},{key:"event",get:function(){var w=this;return this._event||(this._event=function(B,Y,pe){var me,I,we;if(w._listeners||(w._listeners=new H.a),w._leakageMon&&w._listeners.size>w._leakageMon.threshold*3)return console.warn("[".concat(w._leakageMon.name,"] REFUSES to accept new listeners because it exceeded its threshold by far")),ee.a.None;var Re=w._listeners.isEmpty();Re&&((me=w._options)===null||me===void 0?void 0:me.onWillAddFirstListener)&&w._options.onWillAddFirstListener(w);var Oe,Pe;w._leakageMon&&w._listeners.size>=Math.ceil(w._leakageMon.threshold*.2)&&(Pe=C.create(),Oe=w._leakageMon.check(Pe,w._listeners.size+1)),F&&(Pe=Pe!=null?Pe:C.create());var Ne=new x(B,Y,Pe),Ke=w._listeners.push(Ne);Re&&((I=w._options)===null||I===void 0?void 0:I.onDidAddFirstListener)&&w._options.onDidAddFirstListener(w),((we=w._options)===null||we===void 0?void 0:we.onDidAddListener)&&w._options.onDidAddListener(w,B,Y);var Xe=Ne.subscription.set(function(){var wt,Ct;if(Oe==null||Oe(),!w._disposed&&((Ct=(wt=w._options)===null||wt===void 0?void 0:wt.onWillRemoveListener)===null||Ct===void 0||Ct.call(wt,w),Ke(),w._options&&w._options.onDidRemoveLastListener)){var bt=w._listeners&&!w._listeners.isEmpty();bt||w._options.onDidRemoveLastListener(w)}});return pe instanceof ee.c?pe.add(Xe):Array.isArray(pe)&&pe.push(Xe),Xe}),this._event}},{key:"fire",value:function(w){var B,Y,pe;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new z((B=this._options)===null||B===void 0?void 0:B.onListenerError));var me=Object(re.a)(this._listeners),I;try{for(me.s();!(I=me.n()).done;){var we=I.value;this._deliveryQueue.push(this,we,w)}}catch(Re){me.e(Re)}finally{me.f()}(Y=this._perfMon)===null||Y===void 0||Y.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(pe=this._perfMon)===null||pe===void 0||pe.stop()}}},{key:"hasListeners",value:function(){return this._listeners?!this._listeners.isEmpty():!1}}]),ce}(),T=function(){function ce(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L.h;Object($.a)(this,ce),this._onListenerError=k,this._queue=new H.a}return Object(y.a)(ce,[{key:"size",get:function(){return this._queue.size}},{key:"push",value:function(w,B,Y){this._queue.push(new A(w,B,Y))}},{key:"clear",value:function(w){var B=new H.a,Y=Object(re.a)(this._queue),pe;try{for(Y.s();!(pe=Y.n()).done;){var me=pe.value;me.emitter!==w&&B.push(me)}}catch(I){Y.e(I)}finally{Y.f()}this._queue=B}},{key:"deliver",value:function(){for(;this._queue.size>0;){var w=this._queue.shift();try{w.listener.invoke(w.event)}catch(B){this._onListenerError(B)}}}}]),ce}(),z=function(ce){Object(E.a)(w,ce);var k=Object(ve.a)(w);function w(){return Object($.a)(this,w),k.apply(this,arguments)}return Object(y.a)(w,[{key:"clear",value:function(Y){this._queue.clear()}}]),w}(T),A=Object(y.a)(function ce(k,w,B){Object($.a)(this,ce),this.emitter=k,this.listener=w,this.event=B}),ue=function(ce){Object(E.a)(w,ce);var k=Object(ve.a)(w);function w(B){var Y;return Object($.a)(this,w),Y=k.call(this,B),Y._isPaused=0,Y._eventQueue=new H.a,Y._mergeFn=B==null?void 0:B.merge,Y}return Object(y.a)(w,[{key:"pause",value:function(){this._isPaused++}},{key:"resume",value:function(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){if(this._eventQueue.size>0){var Y=Array.from(this._eventQueue);this._eventQueue.clear(),Object(le.a)(Object(De.a)(w.prototype),"fire",this).call(this,this._mergeFn(Y))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)Object(le.a)(Object(De.a)(w.prototype),"fire",this).call(this,this._eventQueue.shift())}},{key:"fire",value:function(Y){this._listeners&&(this._isPaused!==0?this._eventQueue.push(Y):Object(le.a)(Object(De.a)(w.prototype),"fire",this).call(this,Y))}}]),w}(S),be=function(ce){Object(E.a)(w,ce);var k=Object(ve.a)(w);function w(B){var Y;Object($.a)(this,w);var pe;return Y=k.call(this,B),Y._delay=(pe=B.delay)!==null&&pe!==void 0?pe:100,Y}return Object(y.a)(w,[{key:"fire",value:function(Y){var pe=this;this._handle||(this.pause(),this._handle=setTimeout(function(){pe._handle=void 0,pe.resume()},this._delay)),Object(le.a)(Object(De.a)(w.prototype),"fire",this).call(this,Y)}}]),w}(ue),de=function(ce){Object(E.a)(w,ce);var k=Object(ve.a)(w);function w(B){var Y;return Object($.a)(this,w),Y=k.call(this,B),Y._queuedEvents=[],Y._mergeFn=B==null?void 0:B.merge,Y}return Object(y.a)(w,[{key:"fire",value:function(Y){var pe=this;!this.hasListeners()||(this._queuedEvents.push(Y),this._queuedEvents.length===1&&queueMicrotask(function(){pe._mergeFn?Object(le.a)(Object(De.a)(w.prototype),"fire",pe).call(pe,pe._mergeFn(pe._queuedEvents)):pe._queuedEvents.forEach(function(me){return Object(le.a)(Object(De.a)(w.prototype),"fire",pe).call(pe,me)}),pe._queuedEvents=[]}))}}]),w}(S),ke=function(){function ce(){var k=this;Object($.a)(this,ce),this.hasListeners=!1,this.events=[],this.emitter=new S({onWillAddFirstListener:function(){return k.onFirstListenerAdd()},onDidRemoveLastListener:function(){return k.onLastListenerRemove()}})}return Object(y.a)(ce,[{key:"event",get:function(){return this.emitter.event}},{key:"add",value:function(w){var B=this,Y={event:w,listener:null};this.events.push(Y),this.hasListeners&&this.hook(Y);var pe=function(){B.hasListeners&&B.unhook(Y);var I=B.events.indexOf(Y);B.events.splice(I,1)};return Object(ee.l)(Object(ne.a)(pe))}},{key:"onFirstListenerAdd",value:function(){var w=this;this.hasListeners=!0,this.events.forEach(function(B){return w.hook(B)})}},{key:"onLastListenerRemove",value:function(){var w=this;this.hasListeners=!1,this.events.forEach(function(B){return w.unhook(B)})}},{key:"hook",value:function(w){var B=this;w.listener=w.event(function(Y){return B.emitter.fire(Y)})}},{key:"unhook",value:function(w){w.listener&&w.listener.dispose(),w.listener=null}},{key:"dispose",value:function(){this.emitter.dispose()}}]),ce}(),he=function(){function ce(){Object($.a)(this,ce),this.buffers=[]}return Object(y.a)(ce,[{key:"wrapEvent",value:function(w){var B=this;return function(Y,pe,me){return w(function(I){var we=B.buffers[B.buffers.length-1];we?we.push(function(){return Y.call(pe,I)}):Y.call(pe,I)},void 0,me)}}},{key:"bufferEvents",value:function(w){var B=[];this.buffers.push(B);var Y=w();return this.buffers.pop(),B.forEach(function(pe){return pe()}),Y}}]),ce}(),ge=function(){function ce(){var k=this;Object($.a)(this,ce),this.listening=!1,this.inputEvent=N.None,this.inputEventListener=ee.a.None,this.emitter=new S({onDidAddFirstListener:function(){k.listening=!0,k.inputEventListener=k.inputEvent(k.emitter.fire,k.emitter)},onDidRemoveLastListener:function(){k.listening=!1,k.inputEventListener.dispose()}}),this.event=this.emitter.event}return Object(y.a)(ce,[{key:"input",set:function(w){this.inputEvent=w,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=w(this.emitter.fire,this.emitter))}},{key:"dispose",value:function(){this.inputEventListener.dispose(),this.emitter.dispose()}}]),ce}()},MNsG:function(fn,K,a){"use strict";(function(le,De){a.d(K,"b",function(){return C}),a.d(K,"o",function(){return ke}),a.d(K,"i",function(){return he}),a.d(K,"g",function(){return ge}),a.d(K,"k",function(){return ce}),a.d(K,"m",function(){return k}),a.d(K,"n",function(){return w}),a.d(K,"f",function(){return B}),a.d(K,"j",function(){return Y}),a.d(K,"p",function(){return me}),a.d(K,"q",function(){return we}),a.d(K,"a",function(){return Re}),a.d(K,"h",function(){return Ne}),a.d(K,"c",function(){return Ke}),a.d(K,"e",function(){return Xe}),a.d(K,"l",function(){return wt}),a.d(K,"d",function(){return Ct});var E=a("3/fG"),ve,re="en",J=!1,$=!1,y=!1,Q=!1,L=!1,ne=!1,ee=!1,H=!1,W=!1,F=!1,V=void 0,N=re,U=re,d=void 0,j=void 0,C=typeof self=="object"?self:typeof le=="object"?le:{},x=void 0;typeof C.vscode!="undefined"&&typeof C.vscode.process!="undefined"?x=C.vscode.process:typeof De!="undefined"&&(x=De);var S=typeof((ve=x==null?void 0:x.versions)===null||ve===void 0?void 0:ve.electron)=="string",T=S&&(x==null?void 0:x.type)==="renderer";if(typeof navigator=="object"&&!T){j=navigator.userAgent,J=j.indexOf("Windows")>=0,$=j.indexOf("Macintosh")>=0,H=(j.indexOf("Macintosh")>=0||j.indexOf("iPad")>=0||j.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,y=j.indexOf("Linux")>=0,F=(j==null?void 0:j.indexOf("Mobi"))>=0,ne=!0;var z=E.a(E.b({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"));V=z||re,N=V,U=navigator.language}else if(typeof x=="object"){J=x.platform==="win32",$=x.platform==="darwin",y=x.platform==="linux",Q=y&&!!x.env.SNAP&&!!x.env.SNAP_REVISION,ee=S,W=!!x.env.CI||!!x.env.BUILD_ARTIFACTSTAGINGDIRECTORY,V=re,N=re;var A=x.env.VSCODE_NLS_CONFIG;if(A)try{var ue=JSON.parse(A),be=ue.availableLanguages["*"];V=ue.locale,U=ue.osLocale,N=be||re,d=ue._translationsConfigFile}catch(mt){}L=!0}else console.error("Unable to resolve platform.");var de=0;$?de=1:J?de=3:y&&(de=2);var ke=J,he=$,ge=y,ce=L,k=ne,w=ne&&typeof C.importScripts=="function",B=H,Y=F,pe=j,me=N,I=typeof C.postMessage=="function"&&!C.importScripts,we=function(){if(I){var mt=[];C.addEventListener("message",function(Je){if(Je.data&&Je.data.vscodeScheduleAsyncWork)for(var Wt=0,Te=mt.length;Wt<Te;Wt++){var fe=mt[Wt];if(fe.id===Je.data.vscodeScheduleAsyncWork){mt.splice(Wt,1),fe.callback();return}}});var jt=0;return function(Je){var Wt=++jt;mt.push({id:Wt,callback:Je}),C.postMessage({vscodeScheduleAsyncWork:Wt},"*")}}return function(Je){return setTimeout(Je)}}(),Re=$||H?2:J?1:3,Oe=!0,Pe=!1;function Ne(){if(!Pe){Pe=!0;var mt=new Uint8Array(2);mt[0]=1,mt[1]=2;var jt=new Uint16Array(mt.buffer);Oe=jt[0]===(2<<8)+1}return Oe}var Ke=!!(pe&&pe.indexOf("Chrome")>=0),Xe=!!(pe&&pe.indexOf("Firefox")>=0),wt=!!(!Ke&&pe&&pe.indexOf("Safari")>=0),Ct=!!(pe&&pe.indexOf("Edg/")>=0),bt=!!(pe&&pe.indexOf("Android")>=0)}).call(this,a("IyRk"),a("Q2Ig"))},MXAL:function(fn,K,a){"use strict";a.d(K,"a",function(){return ve}),a.d(K,"b",function(){return re});var le=a("fWQN"),De=a("mtLc"),E=a("CZ1j"),ve=function(){function J($){Object(le.a)(this,J);var y=Object(E.b)($);this._defaultValue=y,this._asciiMap=J._createAsciiMap(y),this._map=new Map}return Object(De.a)(J,[{key:"set",value:function(y,Q){var L=Object(E.b)(Q);y>=0&&y<256?this._asciiMap[y]=L:this._map.set(y,L)}},{key:"get",value:function(y){return y>=0&&y<256?this._asciiMap[y]:this._map.get(y)||this._defaultValue}},{key:"clear",value:function(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}],[{key:"_createAsciiMap",value:function(y){var Q=new Uint8Array(256);return Q.fill(y),Q}}]),J}(),re=function(){function J(){Object(le.a)(this,J),this._actual=new ve(0)}return Object(De.a)(J,[{key:"add",value:function(y){this._actual.set(y,1)}},{key:"has",value:function(y){return this._actual.get(y)===1}},{key:"clear",value:function(){return this._actual.clear()}}]),J}()},Md8J:function(fn,K,a){"use strict";a.d(K,"c",function(){return ve}),a.d(K,"b",function(){return re}),a.d(K,"a",function(){return J});var le=a("fWQN"),De=a("mtLc"),E=a("EffR");function ve(ee){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=J(H);return W.textContent=ee,W}function re(ee){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=J(H);return y(W,Q(ee,!!H.renderCodeSegments),H.actionHandler,H.renderCodeSegments),W}function J(ee){var H=ee.inline?"span":"div",W=document.createElement(H);return ee.className&&(W.className=ee.className),W}var $=function(){function ee(H){Object(le.a)(this,ee),this.source=H,this.index=0}return Object(De.a)(ee,[{key:"eos",value:function(){return this.index>=this.source.length}},{key:"next",value:function(){var W=this.peek();return this.advance(),W}},{key:"peek",value:function(){return this.source[this.index]}},{key:"advance",value:function(){this.index++}}]),ee}();function y(ee,H,W,F){var V;if(H.type===2)V=document.createTextNode(H.content||"");else if(H.type===3)V=document.createElement("b");else if(H.type===4)V=document.createElement("i");else if(H.type===7&&F)V=document.createElement("code");else if(H.type===5&&W){var N=document.createElement("a");W.disposables.add(E.addStandardDisposableListener(N,"click",function(U){W.callback(String(H.index),U)})),V=N}else H.type===8?V=document.createElement("br"):H.type===1&&(V=ee);V&&ee!==V&&ee.appendChild(V),V&&Array.isArray(H.children)&&H.children.forEach(function(U){y(V,U,W,F)})}function Q(ee,H){for(var W={type:1,children:[]},F=0,V=W,N=[],U=new $(ee);!U.eos();){var d=U.next(),j=d==="\\"&&ne(U.peek(),H)!==0;if(j&&(d=U.next()),!j&&L(d,H)&&d===U.peek()){U.advance(),V.type===2&&(V=N.pop());var C=ne(d,H);if(V.type===C||V.type===5&&C===6)V=N.pop();else{var x={type:C,children:[]};C===5&&(x.index=F,F++),V.children.push(x),N.push(V),V=x}}else if(d===`
`)V.type===2&&(V=N.pop()),V.children.push({type:8});else if(V.type!==2){var S={type:2,content:d};V.children.push(S),N.push(V),V=S}else V.content+=d}return V.type===2&&(V=N.pop()),N.length,W}function L(ee,H){return ne(ee,H)!==0}function ne(ee,H){switch(ee){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return H?7:0;default:return 0}}},MrjW:function(fn,K,a){"use strict";a.d(K,"i",function(){return z}),a.d(K,"e",function(){return ue}),a.d(K,"d",function(){return be}),a.d(K,"g",function(){return de}),a.d(K,"f",function(){return ke}),a.d(K,"b",function(){return he}),a.d(K,"a",function(){return ge}),a.d(K,"c",function(){return ce}),a.d(K,"h",function(){return k});var le=a("mtLc"),De=a("fWQN"),E=a("yKVA"),ve=a("879j"),re=a("ZKkB"),J=a("wxcJ"),$=65,y=97,Q=90,L=122,ne=46,ee=47,H=92,W=58,F=63,V=function(w){Object(E.a)(Y,w);var B=Object(ve.a)(Y);function Y(pe,me,I){var we;Object(De.a)(this,Y);var Re;typeof me=="string"&&me.indexOf("not ")===0?(Re="must not be",me=me.replace(/^not /,"")):Re="must be";var Oe=pe.indexOf(".")!==-1?"property":"argument",Pe='The "'.concat(pe,'" ').concat(Oe," ").concat(Re," of type ").concat(me);return Pe+=". Received type ".concat(typeof I),we=B.call(this,Pe),we.code="ERR_INVALID_ARG_TYPE",we}return Object(le.a)(Y)}(Object(re.a)(Error));function N(w,B){if(w===null||typeof w!="object")throw new V(B,"Object",w)}function U(w,B){if(typeof w!="string")throw new V(B,"string",w)}var d=J.c==="win32";function j(w){return w===ee||w===H}function C(w){return w===ee}function x(w){return w>=$&&w<=Q||w>=y&&w<=L}function S(w,B,Y,pe){for(var me="",I=0,we=-1,Re=0,Oe=0,Pe=0;Pe<=w.length;++Pe){if(Pe<w.length)Oe=w.charCodeAt(Pe);else{if(pe(Oe))break;Oe=ee}if(pe(Oe)){if(!(we===Pe-1||Re===1))if(Re===2){if(me.length<2||I!==2||me.charCodeAt(me.length-1)!==ne||me.charCodeAt(me.length-2)!==ne){if(me.length>2){var Ne=me.lastIndexOf(Y);Ne===-1?(me="",I=0):(me=me.slice(0,Ne),I=me.length-1-me.lastIndexOf(Y)),we=Pe,Re=0;continue}else if(me.length!==0){me="",I=0,we=Pe,Re=0;continue}}B&&(me+=me.length>0?"".concat(Y,".."):"..",I=2)}else me.length>0?me+="".concat(Y).concat(w.slice(we+1,Pe)):me=w.slice(we+1,Pe),I=Pe-we-1;we=Pe,Re=0}else Oe===ne&&Re!==-1?++Re:Re=-1}return me}function T(w,B){N(B,"pathObject");var Y=B.dir||B.root,pe=B.base||"".concat(B.name||"").concat(B.ext||"");return Y?Y===B.root?"".concat(Y).concat(pe):"".concat(Y).concat(w).concat(pe):pe}var z={resolve:function(){for(var B="",Y="",pe=!1,me=arguments.length-1;me>=-1;me--){var I=void 0;if(me>=0){if(I=me<0||arguments.length<=me?void 0:arguments[me],U(I,"path"),I.length===0)continue}else B.length===0?I=J.a():(I=J.b["=".concat(B)]||J.a(),(I===void 0||I.slice(0,2).toLowerCase()!==B.toLowerCase()&&I.charCodeAt(2)===H)&&(I="".concat(B,"\\")));var we=I.length,Re=0,Oe="",Pe=!1,Ne=I.charCodeAt(0);if(we===1)j(Ne)&&(Re=1,Pe=!0);else if(j(Ne))if(Pe=!0,j(I.charCodeAt(1))){for(var Ke=2,Xe=Ke;Ke<we&&!j(I.charCodeAt(Ke));)Ke++;if(Ke<we&&Ke!==Xe){var wt=I.slice(Xe,Ke);for(Xe=Ke;Ke<we&&j(I.charCodeAt(Ke));)Ke++;if(Ke<we&&Ke!==Xe){for(Xe=Ke;Ke<we&&!j(I.charCodeAt(Ke));)Ke++;(Ke===we||Ke!==Xe)&&(Oe="\\\\".concat(wt,"\\").concat(I.slice(Xe,Ke)),Re=Ke)}}}else Re=1;else x(Ne)&&I.charCodeAt(1)===W&&(Oe=I.slice(0,2),Re=2,we>2&&j(I.charCodeAt(2))&&(Pe=!0,Re=3));if(Oe.length>0)if(B.length>0){if(Oe.toLowerCase()!==B.toLowerCase())continue}else B=Oe;if(pe){if(B.length>0)break}else if(Y="".concat(I.slice(Re),"\\").concat(Y),pe=Pe,Pe&&B.length>0)break}return Y=S(Y,!pe,"\\",j),pe?"".concat(B,"\\").concat(Y):"".concat(B).concat(Y)||"."},normalize:function(B){U(B,"path");var Y=B.length;if(Y===0)return".";var pe=0,me,I=!1,we=B.charCodeAt(0);if(Y===1)return C(we)?"\\":B;if(j(we))if(I=!0,j(B.charCodeAt(1))){for(var Re=2,Oe=Re;Re<Y&&!j(B.charCodeAt(Re));)Re++;if(Re<Y&&Re!==Oe){var Pe=B.slice(Oe,Re);for(Oe=Re;Re<Y&&j(B.charCodeAt(Re));)Re++;if(Re<Y&&Re!==Oe){for(Oe=Re;Re<Y&&!j(B.charCodeAt(Re));)Re++;if(Re===Y)return"\\\\".concat(Pe,"\\").concat(B.slice(Oe),"\\");Re!==Oe&&(me="\\\\".concat(Pe,"\\").concat(B.slice(Oe,Re)),pe=Re)}}}else pe=1;else x(we)&&B.charCodeAt(1)===W&&(me=B.slice(0,2),pe=2,Y>2&&j(B.charCodeAt(2))&&(I=!0,pe=3));var Ne=pe<Y?S(B.slice(pe),!I,"\\",j):"";return Ne.length===0&&!I&&(Ne="."),Ne.length>0&&j(B.charCodeAt(Y-1))&&(Ne+="\\"),me===void 0?I?"\\".concat(Ne):Ne:I?"".concat(me,"\\").concat(Ne):"".concat(me).concat(Ne)},isAbsolute:function(B){U(B,"path");var Y=B.length;if(Y===0)return!1;var pe=B.charCodeAt(0);return j(pe)||Y>2&&x(pe)&&B.charCodeAt(1)===W&&j(B.charCodeAt(2))},join:function(){if(arguments.length===0)return".";for(var B,Y,pe=0;pe<arguments.length;++pe){var me=pe<0||arguments.length<=pe?void 0:arguments[pe];U(me,"path"),me.length>0&&(B===void 0?B=Y=me:B+="\\".concat(me))}if(B===void 0)return".";var I=!0,we=0;if(typeof Y=="string"&&j(Y.charCodeAt(0))){++we;var Re=Y.length;Re>1&&j(Y.charCodeAt(1))&&(++we,Re>2&&(j(Y.charCodeAt(2))?++we:I=!1))}if(I){for(;we<B.length&&j(B.charCodeAt(we));)we++;we>=2&&(B="\\".concat(B.slice(we)))}return z.normalize(B)},relative:function(B,Y){if(U(B,"from"),U(Y,"to"),B===Y)return"";var pe=z.resolve(B),me=z.resolve(Y);if(pe===me||(B=pe.toLowerCase(),Y=me.toLowerCase(),B===Y))return"";for(var I=0;I<B.length&&B.charCodeAt(I)===H;)I++;for(var we=B.length;we-1>I&&B.charCodeAt(we-1)===H;)we--;for(var Re=we-I,Oe=0;Oe<Y.length&&Y.charCodeAt(Oe)===H;)Oe++;for(var Pe=Y.length;Pe-1>Oe&&Y.charCodeAt(Pe-1)===H;)Pe--;for(var Ne=Pe-Oe,Ke=Re<Ne?Re:Ne,Xe=-1,wt=0;wt<Ke;wt++){var Ct=B.charCodeAt(I+wt);if(Ct!==Y.charCodeAt(Oe+wt))break;Ct===H&&(Xe=wt)}if(wt!==Ke){if(Xe===-1)return me}else{if(Ne>Ke){if(Y.charCodeAt(Oe+wt)===H)return me.slice(Oe+wt+1);if(wt===2)return me.slice(Oe+wt)}Re>Ke&&(B.charCodeAt(I+wt)===H?Xe=wt:wt===2&&(Xe=3)),Xe===-1&&(Xe=0)}var bt="";for(wt=I+Xe+1;wt<=we;++wt)(wt===we||B.charCodeAt(wt)===H)&&(bt+=bt.length===0?"..":"\\..");return Oe+=Xe,bt.length>0?"".concat(bt).concat(me.slice(Oe,Pe)):(me.charCodeAt(Oe)===H&&++Oe,me.slice(Oe,Pe))},toNamespacedPath:function(B){if(typeof B!="string"||B.length===0)return B;var Y=z.resolve(B);if(Y.length<=2)return B;if(Y.charCodeAt(0)===H){if(Y.charCodeAt(1)===H){var pe=Y.charCodeAt(2);if(pe!==F&&pe!==ne)return"\\\\?\\UNC\\".concat(Y.slice(2))}}else if(x(Y.charCodeAt(0))&&Y.charCodeAt(1)===W&&Y.charCodeAt(2)===H)return"\\\\?\\".concat(Y);return B},dirname:function(B){U(B,"path");var Y=B.length;if(Y===0)return".";var pe=-1,me=0,I=B.charCodeAt(0);if(Y===1)return j(I)?B:".";if(j(I)){if(pe=me=1,j(B.charCodeAt(1))){for(var we=2,Re=we;we<Y&&!j(B.charCodeAt(we));)we++;if(we<Y&&we!==Re){for(Re=we;we<Y&&j(B.charCodeAt(we));)we++;if(we<Y&&we!==Re){for(Re=we;we<Y&&!j(B.charCodeAt(we));)we++;if(we===Y)return B;we!==Re&&(pe=me=we+1)}}}}else x(I)&&B.charCodeAt(1)===W&&(pe=Y>2&&j(B.charCodeAt(2))?3:2,me=pe);for(var Oe=-1,Pe=!0,Ne=Y-1;Ne>=me;--Ne)if(j(B.charCodeAt(Ne))){if(!Pe){Oe=Ne;break}}else Pe=!1;if(Oe===-1){if(pe===-1)return".";Oe=pe}return B.slice(0,Oe)},basename:function(B,Y){Y!==void 0&&U(Y,"ext"),U(B,"path");var pe=0,me=-1,I=!0,we;if(B.length>=2&&x(B.charCodeAt(0))&&B.charCodeAt(1)===W&&(pe=2),Y!==void 0&&Y.length>0&&Y.length<=B.length){if(Y===B)return"";var Re=Y.length-1,Oe=-1;for(we=B.length-1;we>=pe;--we){var Pe=B.charCodeAt(we);if(j(Pe)){if(!I){pe=we+1;break}}else Oe===-1&&(I=!1,Oe=we+1),Re>=0&&(Pe===Y.charCodeAt(Re)?--Re==-1&&(me=we):(Re=-1,me=Oe))}return pe===me?me=Oe:me===-1&&(me=B.length),B.slice(pe,me)}for(we=B.length-1;we>=pe;--we)if(j(B.charCodeAt(we))){if(!I){pe=we+1;break}}else me===-1&&(I=!1,me=we+1);return me===-1?"":B.slice(pe,me)},extname:function(B){U(B,"path");var Y=0,pe=-1,me=0,I=-1,we=!0,Re=0;B.length>=2&&B.charCodeAt(1)===W&&x(B.charCodeAt(0))&&(Y=me=2);for(var Oe=B.length-1;Oe>=Y;--Oe){var Pe=B.charCodeAt(Oe);if(j(Pe)){if(!we){me=Oe+1;break}continue}I===-1&&(we=!1,I=Oe+1),Pe===ne?pe===-1?pe=Oe:Re!==1&&(Re=1):pe!==-1&&(Re=-1)}return pe===-1||I===-1||Re===0||Re===1&&pe===I-1&&pe===me+1?"":B.slice(pe,I)},format:T.bind(null,"\\"),parse:function(B){U(B,"path");var Y={root:"",dir:"",base:"",ext:"",name:""};if(B.length===0)return Y;var pe=B.length,me=0,I=B.charCodeAt(0);if(pe===1)return j(I)?(Y.root=Y.dir=B,Y):(Y.base=Y.name=B,Y);if(j(I)){if(me=1,j(B.charCodeAt(1))){for(var we=2,Re=we;we<pe&&!j(B.charCodeAt(we));)we++;if(we<pe&&we!==Re){for(Re=we;we<pe&&j(B.charCodeAt(we));)we++;if(we<pe&&we!==Re){for(Re=we;we<pe&&!j(B.charCodeAt(we));)we++;we===pe?me=we:we!==Re&&(me=we+1)}}}}else if(x(I)&&B.charCodeAt(1)===W){if(pe<=2)return Y.root=Y.dir=B,Y;if(me=2,j(B.charCodeAt(2))){if(pe===3)return Y.root=Y.dir=B,Y;me=3}}me>0&&(Y.root=B.slice(0,me));for(var Oe=-1,Pe=me,Ne=-1,Ke=!0,Xe=B.length-1,wt=0;Xe>=me;--Xe){if(I=B.charCodeAt(Xe),j(I)){if(!Ke){Pe=Xe+1;break}continue}Ne===-1&&(Ke=!1,Ne=Xe+1),I===ne?Oe===-1?Oe=Xe:wt!==1&&(wt=1):Oe!==-1&&(wt=-1)}return Ne!==-1&&(Oe===-1||wt===0||wt===1&&Oe===Ne-1&&Oe===Pe+1?Y.base=Y.name=B.slice(Pe,Ne):(Y.name=B.slice(Pe,Oe),Y.base=B.slice(Pe,Ne),Y.ext=B.slice(Oe,Ne))),Pe>0&&Pe!==me?Y.dir=B.slice(0,Pe-1):Y.dir=Y.root,Y},sep:"\\",delimiter:";",win32:null,posix:null},A=function(){if(d){var w=/\\/g;return function(){var B=J.a().replace(w,"/");return B.slice(B.indexOf("/"))}}return function(){return J.a()}}(),ue={resolve:function(){for(var B="",Y=!1,pe=arguments.length-1;pe>=-1&&!Y;pe--){var me=pe>=0?pe<0||arguments.length<=pe?void 0:arguments[pe]:A();U(me,"path"),me.length!==0&&(B="".concat(me,"/").concat(B),Y=me.charCodeAt(0)===ee)}return B=S(B,!Y,"/",C),Y?"/".concat(B):B.length>0?B:"."},normalize:function(B){if(U(B,"path"),B.length===0)return".";var Y=B.charCodeAt(0)===ee,pe=B.charCodeAt(B.length-1)===ee;return B=S(B,!Y,"/",C),B.length===0?Y?"/":pe?"./":".":(pe&&(B+="/"),Y?"/".concat(B):B)},isAbsolute:function(B){return U(B,"path"),B.length>0&&B.charCodeAt(0)===ee},join:function(){if(arguments.length===0)return".";for(var B,Y=0;Y<arguments.length;++Y){var pe=Y<0||arguments.length<=Y?void 0:arguments[Y];U(pe,"path"),pe.length>0&&(B===void 0?B=pe:B+="/".concat(pe))}return B===void 0?".":ue.normalize(B)},relative:function(B,Y){if(U(B,"from"),U(Y,"to"),B===Y||(B=ue.resolve(B),Y=ue.resolve(Y),B===Y))return"";for(var pe=1,me=B.length,I=me-pe,we=1,Re=Y.length-we,Oe=I<Re?I:Re,Pe=-1,Ne=0;Ne<Oe;Ne++){var Ke=B.charCodeAt(pe+Ne);if(Ke!==Y.charCodeAt(we+Ne))break;Ke===ee&&(Pe=Ne)}if(Ne===Oe)if(Re>Oe){if(Y.charCodeAt(we+Ne)===ee)return Y.slice(we+Ne+1);if(Ne===0)return Y.slice(we+Ne)}else I>Oe&&(B.charCodeAt(pe+Ne)===ee?Pe=Ne:Ne===0&&(Pe=0));var Xe="";for(Ne=pe+Pe+1;Ne<=me;++Ne)(Ne===me||B.charCodeAt(Ne)===ee)&&(Xe+=Xe.length===0?"..":"/..");return"".concat(Xe).concat(Y.slice(we+Pe))},toNamespacedPath:function(B){return B},dirname:function(B){if(U(B,"path"),B.length===0)return".";for(var Y=B.charCodeAt(0)===ee,pe=-1,me=!0,I=B.length-1;I>=1;--I)if(B.charCodeAt(I)===ee){if(!me){pe=I;break}}else me=!1;return pe===-1?Y?"/":".":Y&&pe===1?"//":B.slice(0,pe)},basename:function(B,Y){Y!==void 0&&U(Y,"ext"),U(B,"path");var pe=0,me=-1,I=!0,we;if(Y!==void 0&&Y.length>0&&Y.length<=B.length){if(Y===B)return"";var Re=Y.length-1,Oe=-1;for(we=B.length-1;we>=0;--we){var Pe=B.charCodeAt(we);if(Pe===ee){if(!I){pe=we+1;break}}else Oe===-1&&(I=!1,Oe=we+1),Re>=0&&(Pe===Y.charCodeAt(Re)?--Re==-1&&(me=we):(Re=-1,me=Oe))}return pe===me?me=Oe:me===-1&&(me=B.length),B.slice(pe,me)}for(we=B.length-1;we>=0;--we)if(B.charCodeAt(we)===ee){if(!I){pe=we+1;break}}else me===-1&&(I=!1,me=we+1);return me===-1?"":B.slice(pe,me)},extname:function(B){U(B,"path");for(var Y=-1,pe=0,me=-1,I=!0,we=0,Re=B.length-1;Re>=0;--Re){var Oe=B.charCodeAt(Re);if(Oe===ee){if(!I){pe=Re+1;break}continue}me===-1&&(I=!1,me=Re+1),Oe===ne?Y===-1?Y=Re:we!==1&&(we=1):Y!==-1&&(we=-1)}return Y===-1||me===-1||we===0||we===1&&Y===me-1&&Y===pe+1?"":B.slice(Y,me)},format:T.bind(null,"/"),parse:function(B){U(B,"path");var Y={root:"",dir:"",base:"",ext:"",name:""};if(B.length===0)return Y;var pe=B.charCodeAt(0)===ee,me;pe?(Y.root="/",me=1):me=0;for(var I=-1,we=0,Re=-1,Oe=!0,Pe=B.length-1,Ne=0;Pe>=me;--Pe){var Ke=B.charCodeAt(Pe);if(Ke===ee){if(!Oe){we=Pe+1;break}continue}Re===-1&&(Oe=!1,Re=Pe+1),Ke===ne?I===-1?I=Pe:Ne!==1&&(Ne=1):I!==-1&&(Ne=-1)}if(Re!==-1){var Xe=we===0&&pe?1:we;I===-1||Ne===0||Ne===1&&I===Re-1&&I===we+1?Y.base=Y.name=B.slice(Xe,Re):(Y.name=B.slice(Xe,I),Y.base=B.slice(Xe,Re),Y.ext=B.slice(I,Re))}return we>0?Y.dir=B.slice(0,we-1):pe&&(Y.dir="/"),Y},sep:"/",delimiter:":",win32:null,posix:null};ue.win32=z.win32=z,ue.posix=z.posix=ue;var be=d?z.normalize:ue.normalize,de=d?z.resolve:ue.resolve,ke=d?z.relative:ue.relative,he=d?z.dirname:ue.dirname,ge=d?z.basename:ue.basename,ce=d?z.extname:ue.extname,k=d?z.sep:ue.sep},N0LK:function(fn,K,a){"use strict";a.d(K,"D",function(){return y}),a.d(K,"v",function(){return L}),a.d(K,"s",function(){return ne}),a.d(K,"t",function(){return ee}),a.d(K,"W",function(){return H}),a.d(K,"K",function(){return W}),a.d(K,"Q",function(){return F}),a.d(K,"p",function(){return V}),a.d(K,"V",function(){return N}),a.d(K,"q",function(){return U}),a.d(K,"P",function(){return d}),a.d(K,"O",function(){return j}),a.d(K,"S",function(){return C}),a.d(K,"u",function(){return x}),a.d(K,"x",function(){return S}),a.d(K,"J",function(){return T}),a.d(K,"h",function(){return z}),a.d(K,"j",function(){return A}),a.d(K,"i",function(){return ue}),a.d(K,"k",function(){return be}),a.d(K,"A",function(){return de}),a.d(K,"H",function(){return ke}),a.d(K,"I",function(){return he}),a.d(K,"r",function(){return ge}),a.d(K,"T",function(){return ce}),a.d(K,"f",function(){return k}),a.d(K,"g",function(){return w}),a.d(K,"F",function(){return B}),a.d(K,"G",function(){return Y}),a.d(K,"l",function(){return pe}),a.d(K,"z",function(){return me}),a.d(K,"b",function(){return Re}),a.d(K,"L",function(){return Oe}),a.d(K,"N",function(){return Pe}),a.d(K,"w",function(){return Ne}),a.d(K,"m",function(){return wt}),a.d(K,"B",function(){return bt}),a.d(K,"d",function(){return mt}),a.d(K,"n",function(){return jt}),a.d(K,"E",function(){return Je}),a.d(K,"C",function(){return Wt}),a.d(K,"e",function(){return Te}),a.d(K,"U",function(){return fe}),a.d(K,"o",function(){return ye}),a.d(K,"R",function(){return Ee}),a.d(K,"y",function(){return it}),a.d(K,"M",function(){return Ye}),a.d(K,"a",function(){return ot}),a.d(K,"c",function(){return Kt});var le=a("rAM+"),De=a("tJVT"),E=a("fWQN"),ve=a("mtLc"),re=a("q63c"),J=a("QdLL"),$;function y(gt){return!gt||typeof gt!="string"?!0:gt.trim().length===0}var Q=/{(\d+)}/g;function L(gt){for(var Ft=arguments.length,Jt=new Array(Ft>1?Ft-1:0),qt=1;qt<Ft;qt++)Jt[qt-1]=arguments[qt];return Jt.length===0?gt:gt.replace(Q,function(En,It){var si=parseInt(It,10);return isNaN(si)||si<0||si>=Jt.length?En:Jt[si]})}function ne(gt){return gt.replace(/[<>&]/g,function(Ft){switch(Ft){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Ft}})}function ee(gt){return gt.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function H(gt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",Jt=W(gt,Ft);return F(Jt,Ft)}function W(gt,Ft){if(!gt||!Ft)return gt;var Jt=Ft.length;if(Jt===0||gt.length===0)return gt;for(var qt=0;gt.indexOf(Ft,qt)===qt;)qt=qt+Jt;return gt.substring(qt)}function F(gt,Ft){if(!gt||!Ft)return gt;var Jt=Ft.length,qt=gt.length;if(Jt===0||qt===0)return gt;for(var En=qt,It=-1;It=gt.lastIndexOf(Ft,En-1),!(It===-1||It+Jt!==En);){if(It===0)return"";En=It}return gt.substring(0,En)}function V(gt){return gt.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function N(gt){return gt.replace(/\*/g,"")}function U(gt,Ft){var Jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!gt)throw new Error("Cannot create regex from empty string");Ft||(gt=ee(gt)),Jt.wholeWord&&(/\B/.test(gt.charAt(0))||(gt="\\b"+gt),/\B/.test(gt.charAt(gt.length-1))||(gt=gt+"\\b"));var qt="";return Jt.global&&(qt+="g"),Jt.matchCase||(qt+="i"),Jt.multiline&&(qt+="m"),Jt.unicode&&(qt+="u"),new RegExp(gt,qt)}function d(gt){if(gt.source==="^"||gt.source==="^$"||gt.source==="$"||gt.source==="^\\s*$")return!1;var Ft=gt.exec("");return!!(Ft&&gt.lastIndex===0)}function j(gt){return(gt.global?"g":"")+(gt.ignoreCase?"i":"")+(gt.multiline?"m":"")+(gt.unicode?"u":"")}function C(gt){return gt.split(/\r\n|\r|\n/)}function x(gt){for(var Ft=0,Jt=gt.length;Ft<Jt;Ft++){var qt=gt.charCodeAt(Ft);if(qt!==32&&qt!==9)return Ft}return-1}function S(gt){for(var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gt.length,qt=Ft;qt<Jt;qt++){var En=gt.charCodeAt(qt);if(En!==32&&En!==9)return gt.substring(Ft,qt)}return gt.substring(Ft,Jt)}function T(gt){for(var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gt.length-1,Jt=Ft;Jt>=0;Jt--){var qt=gt.charCodeAt(Jt);if(qt!==32&&qt!==9)return Jt}return-1}function z(gt,Ft){return gt<Ft?-1:gt>Ft?1:0}function A(gt,Ft){for(var Jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,qt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:gt.length,En=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,It=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Ft.length;Jt<qt&&En<It;Jt++,En++){var si=gt.charCodeAt(Jt),On=Ft.charCodeAt(En);if(si<On)return-1;if(si>On)return 1}var Gn=qt-Jt,ci=It-En;return Gn<ci?-1:Gn>ci?1:0}function ue(gt,Ft){return be(gt,Ft,0,gt.length,0,Ft.length)}function be(gt,Ft){for(var Jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,qt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:gt.length,En=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,It=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Ft.length;Jt<qt&&En<It;Jt++,En++){var si=gt.charCodeAt(Jt),On=Ft.charCodeAt(En);if(si!==On){if(si>=128||On>=128)return A(gt.toLowerCase(),Ft.toLowerCase(),Jt,qt,En,It);ke(si)&&(si-=32),ke(On)&&(On-=32);var Gn=si-On;if(Gn!==0)return Gn}}var ci=qt-Jt,Dn=It-En;return ci<Dn?-1:ci>Dn?1:0}function de(gt){return gt>=48&&gt<=57}function ke(gt){return gt>=97&&gt<=122}function he(gt){return gt>=65&&gt<=90}function ge(gt,Ft){return gt.length===Ft.length&&be(gt,Ft)===0}function ce(gt,Ft){var Jt=Ft.length;return Ft.length>gt.length?!1:be(gt,Ft,0,Jt)===0}function k(gt,Ft){var Jt=Math.min(gt.length,Ft.length),qt;for(qt=0;qt<Jt;qt++)if(gt.charCodeAt(qt)!==Ft.charCodeAt(qt))return qt;return Jt}function w(gt,Ft){var Jt=Math.min(gt.length,Ft.length),qt,En=gt.length-1,It=Ft.length-1;for(qt=0;qt<Jt;qt++)if(gt.charCodeAt(En-qt)!==Ft.charCodeAt(It-qt))return qt;return Jt}function B(gt){return 55296<=gt&&gt<=56319}function Y(gt){return 56320<=gt&&gt<=57343}function pe(gt,Ft){return(gt-55296<<10)+(Ft-56320)+65536}function me(gt,Ft,Jt){var qt=gt.charCodeAt(Jt);if(B(qt)&&Jt+1<Ft){var En=gt.charCodeAt(Jt+1);if(Y(En))return pe(qt,En)}return qt}function I(gt,Ft){var Jt=gt.charCodeAt(Ft-1);if(Y(Jt)&&Ft>1){var qt=gt.charCodeAt(Ft-2);if(B(qt))return pe(qt,Jt)}return Jt}var we=function(){function gt(Ft){var Jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Object(E.a)(this,gt),this._str=Ft,this._len=Ft.length,this._offset=Jt}return Object(ve.a)(gt,[{key:"offset",get:function(){return this._offset}},{key:"setOffset",value:function(Jt){this._offset=Jt}},{key:"prevCodePoint",value:function(){var Jt=I(this._str,this._offset);return this._offset-=Jt>=65536?2:1,Jt}},{key:"nextCodePoint",value:function(){var Jt=me(this._str,this._len,this._offset);return this._offset+=Jt>=65536?2:1,Jt}},{key:"eol",value:function(){return this._offset>=this._len}}]),gt}(),Re=function(){function gt(Ft){var Jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Object(E.a)(this,gt),this._iterator=new we(Ft,Jt)}return Object(ve.a)(gt,[{key:"offset",get:function(){return this._iterator.offset}},{key:"nextGraphemeLength",value:function(){for(var Jt=$e.getInstance(),qt=this._iterator,En=qt.offset,It=Jt.getGraphemeBreakType(qt.nextCodePoint());!qt.eol();){var si=qt.offset,On=Jt.getGraphemeBreakType(qt.nextCodePoint());if(Ge(It,On)){qt.setOffset(si);break}It=On}return qt.offset-En}},{key:"prevGraphemeLength",value:function(){for(var Jt=$e.getInstance(),qt=this._iterator,En=qt.offset,It=Jt.getGraphemeBreakType(qt.prevCodePoint());qt.offset>0;){var si=qt.offset,On=Jt.getGraphemeBreakType(qt.prevCodePoint());if(Ge(On,It)){qt.setOffset(si);break}It=On}return En-qt.offset}},{key:"eol",value:function(){return this._iterator.eol()}}]),gt}();function Oe(gt,Ft){var Jt=new Re(gt,Ft);return Jt.nextGraphemeLength()}function Pe(gt,Ft){var Jt=new Re(gt,Ft);return Jt.prevGraphemeLength()}function Ne(gt,Ft){Ft>0&&Y(gt.charCodeAt(Ft))&&Ft--;var Jt=Ft+Oe(gt,Ft),qt=Jt-Pe(gt,Jt);return[qt,Jt]}var Ke=void 0;function Xe(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function wt(gt){return Ke||(Ke=Xe()),Ke.test(gt)}var Ct=/^[\t\n\r\x20-\x7E]*$/;function bt(gt){return Ct.test(gt)}var mt=/[\u2028\u2029]/;function jt(gt){return mt.test(gt)}function Je(gt){return gt>=11904&&gt<=55215||gt>=63744&&gt<=64255||gt>=65281&&gt<=65374}function Wt(gt){return gt>=127462&&gt<=127487||gt===8986||gt===8987||gt===9200||gt===9203||gt>=9728&&gt<=10175||gt===11088||gt===11093||gt>=127744&&gt<=128591||gt>=128640&&gt<=128764||gt>=128992&&gt<=129008||gt>=129280&&gt<=129535||gt>=129648&&gt<=129782}var Te=String.fromCharCode(65279);function fe(gt){return!!(gt&&gt.length>0&&gt.charCodeAt(0)===65279)}function ye(gt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return gt?(Ft&&(gt=gt.replace(/\\./g,"")),gt.toLowerCase()!==gt):!1}function Ee(gt){var Ft=90-65+1;return gt=gt%(2*Ft),gt<Ft?String.fromCharCode(97+gt):String.fromCharCode(65+gt-Ft)}function Ge(gt,Ft){return gt===0?Ft!==5&&Ft!==7:gt===2&&Ft===3?!1:gt===4||gt===2||gt===3||Ft===4||Ft===2||Ft===3?!0:!(gt===8&&(Ft===8||Ft===9||Ft===11||Ft===12)||(gt===11||gt===9)&&(Ft===9||Ft===10)||(gt===12||gt===10)&&Ft===10||Ft===5||Ft===13||Ft===7||gt===1||gt===13&&Ft===14||gt===6&&Ft===6)}var $e=function(){function gt(){Object(E.a)(this,gt),this._data=We()}return Object(ve.a)(gt,[{key:"getGraphemeBreakType",value:function(Jt){if(Jt<32)return Jt===10?3:Jt===13?2:4;if(Jt<127)return 0;for(var qt=this._data,En=qt.length/3,It=1;It<=En;)if(Jt<qt[3*It])It=2*It;else if(Jt>qt[3*It+1])It=2*It+1;else return qt[3*It+2];return 0}}],[{key:"getInstance",value:function(){return gt._INSTANCE||(gt._INSTANCE=new gt),gt._INSTANCE}}]),gt}();$e._INSTANCE=null;function We(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function it(gt,Ft){if(gt===0)return 0;var Jt=Fe(gt,Ft);if(Jt!==void 0)return Jt;var qt=new we(Ft,gt);return qt.prevCodePoint(),qt.offset}function Fe(gt,Ft){for(var Jt=new we(Ft,gt),qt=Jt.prevCodePoint();He(qt)||qt===65039||qt===8419;){if(Jt.offset===0)return;qt=Jt.prevCodePoint()}if(!!Wt(qt)){var En=Jt.offset;if(En>0){var It=Jt.prevCodePoint();It===8205&&(En=Jt.offset)}return En}}function He(gt){return 127995<=gt&&gt<=127999}var Ye="\xA0",ot=function(){function gt(Ft){Object(E.a)(this,gt),this.confusableDictionary=Ft}return Object(ve.a)(gt,[{key:"isAmbiguous",value:function(Jt){return this.confusableDictionary.has(Jt)}},{key:"getPrimaryConfusable",value:function(Jt){return this.confusableDictionary.get(Jt)}},{key:"getConfusableCodePoints",value:function(){return new Set(this.confusableDictionary.keys())}}],[{key:"getInstance",value:function(Jt){return gt.cache.get(Array.from(Jt))}},{key:"getLocales",value:function(){return gt._locales.value}}]),gt}();$=ot,ot.ambiguousCharacterData=new J.a(function(){return JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')}),ot.cache=new re.b(function(gt){function Ft(Vi){for(var Sr=new Map,Pi=0;Pi<Vi.length;Pi+=2)Sr.set(Vi[Pi],Vi[Pi+1]);return Sr}function Jt(Vi,Sr){var Pi=new Map(Vi),Ei=Object(le.a)(Sr),Cr;try{for(Ei.s();!(Cr=Ei.n()).done;){var zn=Cr.value,dr=Object(De.a)(zn,2),Hn=dr[0],mi=dr[1];Pi.set(Hn,mi)}}catch(hn){Ei.e(hn)}finally{Ei.f()}return Pi}function qt(Vi,Sr){if(!Vi)return Sr;var Pi=new Map,Ei=Object(le.a)(Vi),Cr;try{for(Ei.s();!(Cr=Ei.n()).done;){var zn=Cr.value,dr=Object(De.a)(zn,2),Hn=dr[0],mi=dr[1];Sr.has(Hn)&&Pi.set(Hn,mi)}}catch(hn){Ei.e(hn)}finally{Ei.f()}return Pi}var En=$.ambiguousCharacterData.value,It=gt.filter(function(Vi){return!Vi.startsWith("_")&&Vi in En});It.length===0&&(It=["_default"]);var si=void 0,On=Object(le.a)(It),Gn;try{for(On.s();!(Gn=On.n()).done;){var ci=Gn.value,Dn=Ft(En[ci]);si=qt(si,Dn)}}catch(Vi){On.e(Vi)}finally{On.f()}var An=Ft(En._common),fr=Jt(An,si);return new ot(fr)}),ot._locales=new J.a(function(){return Object.keys(ot.ambiguousCharacterData.value).filter(function(gt){return!gt.startsWith("_")})});var Kt=function(){function gt(){Object(E.a)(this,gt)}return Object(ve.a)(gt,null,[{key:"getRawData",value:function(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}},{key:"getData",value:function(){return this._data||(this._data=new Set(gt.getRawData())),this._data}},{key:"isInvisibleCharacter",value:function(Jt){return gt.getData().has(Jt)}},{key:"codePoints",get:function(){return gt.getData()}}]),gt}();Kt._data=void 0},"O/se":function(fn,K,a){"use strict";a.d(K,"a",function(){return $});var le=a("fWQN"),De=a("mtLc"),E=a("EffR"),ve=a("N0LK"),re=a("VPJY"),J=a.n(re),$=function(){function y(Q,L,ne){Object(le.a)(this,y),this.options=L,this.styles=ne,this.count=0,this.element=Object(E.append)(Q,Object(E.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}return Object(De.a)(y,[{key:"setCount",value:function(L){this.count=L,this.render()}},{key:"setTitleFormat",value:function(L){this.titleFormat=L,this.render()}},{key:"render",value:function(){var L,ne;this.element.textContent=Object(ve.v)(this.countFormat,this.count),this.element.title=Object(ve.v)(this.titleFormat,this.count),this.element.style.backgroundColor=(L=this.styles.badgeBackground)!==null&&L!==void 0?L:"",this.element.style.color=(ne=this.styles.badgeForeground)!==null&&ne!==void 0?ne:"",this.styles.badgeBorder&&(this.element.style.border="1px solid ".concat(this.styles.badgeBorder))}}]),y}()},OAO6:function(fn,K,a){"use strict";a.d(K,"a",function(){return ve}),a.d(K,"b",function(){return re}),a.d(K,"c",function(){return J}),a.d(K,"d",function(){return $});var le=a("mtLc"),De=a("fWQN"),E=a("Cg/j"),ve=Object(E.c)("undoRedoService"),re=Object(le.a)(function y(Q,L){Object(De.a)(this,y),this.resource=Q,this.elements=L}),J=function(){function y(){Object(De.a)(this,y),this.id=y._ID++,this.order=1}return Object(le.a)(y,[{key:"nextOrder",value:function(){return this.id===0?0:this.order++}}]),y}();J._ID=0,J.None=new J;var $=function(){function y(){Object(De.a)(this,y),this.id=y._ID++,this.order=1}return Object(le.a)(y,[{key:"nextOrder",value:function(){return this.id===0?0:this.order++}}]),y}();$._ID=0,$.None=new $},OBOq:function(fn,K,a){"use strict";a.d(K,"b",function(){return ne}),a.d(K,"a",function(){return ee}),a.d(K,"c",function(){return H});var le=a("EffR"),De=a("MNsG"),E=a("UCkY"),ve=a.n(E),re=2e4,J,$,y,Q,L;function ne(F){J=document.createElement("div"),J.className="monaco-aria-container";var V=function(){var d=document.createElement("div");return d.className="monaco-alert",d.setAttribute("role","alert"),d.setAttribute("aria-atomic","true"),J.appendChild(d),d};$=V(),y=V();var N=function(){var d=document.createElement("div");return d.className="monaco-status",d.setAttribute("role","complementary"),d.setAttribute("aria-live","polite"),d.setAttribute("aria-atomic","true"),J.appendChild(d),d};Q=N(),L=N(),F.appendChild(J)}function ee(F){!J||($.textContent!==F?(le.clearNode(y),W($,F)):(le.clearNode($),W(y,F)))}function H(F){!J||(De.i?ee(F):Q.textContent!==F?(le.clearNode(L),W(Q,F)):(le.clearNode(Q),W(L,F)))}function W(F,V){le.clearNode(F),V.length>re&&(V=V.substr(0,re)),F.textContent=V,F.style.visibility="hidden",F.style.visibility="visible"}},OKK6:function(fn,K,a){},OQeR:function(fn,K,a){"use strict";a.d(K,"a",function(){return E});var le=a("fWQN"),De=a("mtLc"),E=function(){function ve(re,J,$,y,Q){Object(le.a)(this,ve),this._initialScrollTop=re,this._initialContentHeight=J,this._visiblePosition=$,this._visiblePositionScrollDelta=y,this._cursorPosition=Q}return Object(De.a)(ve,[{key:"restore",value:function(J){if(!(this._initialContentHeight===J.getContentHeight()&&this._initialScrollTop===J.getScrollTop())&&this._visiblePosition){var $=J.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);J.setScrollTop($+this._visiblePositionScrollDelta)}}},{key:"restoreRelativeVerticalPositionOfCursor",value:function(J){if(!(this._initialContentHeight===J.getContentHeight()&&this._initialScrollTop===J.getScrollTop())){var $=J.getPosition();if(!(!this._cursorPosition||!$)){var y=J.getTopForLineNumber($.lineNumber)-J.getTopForLineNumber(this._cursorPosition.lineNumber);J.setScrollTop(J.getScrollTop()+y)}}}}],[{key:"capture",value:function(J){if(J.getScrollTop()===0||J.hasPendingScrollAnimation())return new ve(J.getScrollTop(),J.getContentHeight(),null,0,null);var $=null,y=0,Q=J.getVisibleRanges();if(Q.length>0){$=Q[0].getStartPosition();var L=J.getTopForPosition($.lineNumber,$.column);y=J.getScrollTop()-L}return new ve(J.getScrollTop(),J.getContentHeight(),$,y,J.getPosition())}}]),ve}()},PArb:function(fn,K,a){"use strict";var le=a("wx14"),De=a("rePB"),E=a("TSYQ"),ve=a.n(E),re=a("q1tI"),J=a.n(re),$=a("H84U"),y=function(L,ne){var ee={};for(var H in L)Object.prototype.hasOwnProperty.call(L,H)&&ne.indexOf(H)<0&&(ee[H]=L[H]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function")for(var W=0,H=Object.getOwnPropertySymbols(L);W<H.length;W++)ne.indexOf(H[W])<0&&Object.prototype.propertyIsEnumerable.call(L,H[W])&&(ee[H[W]]=L[H[W]]);return ee},Q=function(ne){var ee,H=re.useContext($.b),W=H.getPrefixCls,F=H.direction,V=ne.prefixCls,N=ne.type,U=N===void 0?"horizontal":N,d=ne.orientation,j=d===void 0?"center":d,C=ne.orientationMargin,x=ne.className,S=ne.children,T=ne.dashed,z=ne.plain,A=y(ne,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),ue=W("divider",V),be=j.length>0?"-".concat(j):j,de=!!S,ke=j==="left"&&C!=null,he=j==="right"&&C!=null,ge=ve()(ue,"".concat(ue,"-").concat(U),(ee={},Object(De.a)(ee,"".concat(ue,"-with-text"),de),Object(De.a)(ee,"".concat(ue,"-with-text").concat(be),de),Object(De.a)(ee,"".concat(ue,"-dashed"),!!T),Object(De.a)(ee,"".concat(ue,"-plain"),!!z),Object(De.a)(ee,"".concat(ue,"-rtl"),F==="rtl"),Object(De.a)(ee,"".concat(ue,"-no-default-orientation-margin-left"),ke),Object(De.a)(ee,"".concat(ue,"-no-default-orientation-margin-right"),he),ee),x),ce=Object(le.a)(Object(le.a)({},ke&&{marginLeft:C}),he&&{marginRight:C});return re.createElement("div",Object(le.a)({className:ge},A,{role:"separator"}),S&&U!=="vertical"&&re.createElement("span",{className:"".concat(ue,"-inner-text"),style:ce},S))};K.a=Q},PNUv:function(fn,K,a){"use strict";a.d(K,"a",function(){return we});var le=a("GNNt"),De=a("wEI+"),E=a("Ff2n"),ve=a("y8nQ"),re=a("Vl3Y"),J=a("14J3"),$=a("BMrR"),y=a("/zsF"),Q=a("PArb"),L=a("jCWc"),ne=a("kPKH"),ee=a("ODXe"),H=a("VTBJ"),W=a("nKUr"),F=a("LQCs"),V=a("7z/i"),N=a("9mHw"),U=a("TSYQ"),d=a.n(U),j=a("t23M"),C=a("6cGi"),x=a("q1tI"),S=a.n(x),T=a("T1Ok"),z=a("DYRE"),A=a("zeV3"),ue=a("8Skl"),be=a("BY2G"),de=function(Oe,Pe,Ne,Ke){return Oe?Object(W.jsxs)(W.Fragment,{children:[Ne.getMessage("tableForm.collapsed","\u5C55\u5F00"),Ke&&"(".concat(Ke,")"),Object(W.jsx)(ue.a,{style:{marginLeft:"0.5em",transition:"0.3s all",transform:"rotate(".concat(Oe?0:.5,"turn)")}})]}):Object(W.jsxs)(W.Fragment,{children:[Ne.getMessage("tableForm.expand","\u6536\u8D77"),Object(W.jsx)(ue.a,{style:{marginLeft:"0.5em",transition:"0.3s all",transform:"rotate(".concat(Oe?0:.5,"turn)")}})]})},ke=function(Oe){var Pe=Oe.setCollapsed,Ne=Oe.collapsed,Ke=Ne===void 0?!1:Ne,Xe=Oe.submitter,wt=Oe.style,Ct=Oe.hiddenNum,bt=Object(x.useContext)(De.a.ConfigContext),mt=bt.getPrefixCls,jt=Object(F.d)(),Je=Object(be.a)(Oe.collapseRender)||de;return Object(W.jsxs)(A.b,{style:wt,size:16,children:[Xe,Oe.collapseRender!==!1&&Object(W.jsx)("a",{className:mt("pro-form-collapse-button"),onClick:function(){return Pe(!Ke)},children:Je==null?void 0:Je(Ke,Oe,jt,Ct)})]})},he=ke,ge=["collapsed","layout","defaultCollapsed","defaultColsNumber","span","searchGutter","searchText","resetText","optionRender","collapseRender","onReset","onCollapse","labelWidth","style","split","preserve","ignoreRules","showHiddenNum"],ce,k,w={xs:513,sm:513,md:785,lg:992,xl:1057,xxl:Infinity},B={vertical:[[513,1,"vertical"],[785,2,"vertical"],[1057,3,"vertical"],[Infinity,4,"vertical"]],default:[[513,1,"vertical"],[701,2,"vertical"],[1062,3,"horizontal"],[1352,3,"horizontal"],[Infinity,4,"horizontal"]]},Y=function(Oe,Pe,Ne){if(Ne&&typeof Ne=="number")return{span:Ne,layout:Oe};var Ke=Ne?["xs","sm","md","lg","xl","xxl"].map(function(wt){return[w[wt],24/Ne[wt],"horizontal"]}):B[Oe||"default"],Xe=(Ke||B.default).find(function(wt){return Pe<wt[0]+16});return{span:24/Xe[1],layout:Xe[2]}},pe=function(Oe,Pe){return Oe.flatMap(function(Ne){var Ke;if((Ne==null?void 0:Ne.type.displayName)==="ProForm-Group"&&!((Ke=Ne.props)===null||Ke===void 0?void 0:Ke.title))return Ne.props.children;if(Pe&&S.a.isValidElement(Ne)){var Xe;return S.a.cloneElement(Ne,Object(H.a)(Object(H.a)({},Ne.props),{},{formItemProps:Object(H.a)(Object(H.a)({},(Xe=Ne.props)===null||Xe===void 0?void 0:Xe.formItemProps),{},{rules:[]})}))}return Ne})},me=function(Oe){var Pe=Object(F.d)(),Ne=Oe.resetText||Pe.getMessage("tableForm.reset","\u91CD\u7F6E"),Ke=Oe.searchText||Pe.getMessage("tableForm.search","\u641C\u7D22"),Xe=Object(C.a)(function(){return Oe.defaultCollapsed&&!!Oe.submitter},{value:Oe.collapsed,onChange:Oe.onCollapse}),wt=Object(ee.a)(Xe,2),Ct=wt[0],bt=wt[1],mt=Oe.optionRender,jt=Oe.collapseRender,Je=Oe.split,Wt=Oe.items,Te=Oe.spanSize,fe=Oe.showLength,ye=Oe.searchGutter,Ee=Oe.showHiddenNum,Ge=Object(x.useMemo)(function(){return!Oe.submitter||mt===!1?null:S.a.cloneElement(Oe.submitter,Object(H.a)({searchConfig:{resetText:Ne,submitText:Ke},render:mt&&function(Jt,qt){return mt(Object(H.a)(Object(H.a)({},Oe),{},{resetText:Ne,searchText:Ke}),Oe,qt)}},Oe.submitter.props))},[Oe,Ne,Ke,mt]),$e=0,We=0,it=!1,Fe=0,He=0,Ye=pe(Wt,Oe.ignoreRules).map(function(Jt,qt){var En,It,si,On,Gn=S.a.isValidElement(Jt)&&(En=Jt==null||(It=Jt.props)===null||It===void 0?void 0:It.colSize)!==null&&En!==void 0?En:1,ci=Math.min(Te.span*(Gn||1),24);if($e+=ci,Fe+=Gn,qt===0){var Dn;it=ci===24&&!(Jt==null||(Dn=Jt.props)===null||Dn===void 0?void 0:Dn.hidden)}var An=(Jt==null||(si=Jt.props)===null||si===void 0?void 0:si.hidden)||Ct&&(it||Fe>fe-1)&&!!qt&&$e>=24;We+=1;var fr=S.a.isValidElement(Jt)&&(Jt.key||"".concat((On=Jt.props)===null||On===void 0?void 0:On.name))||qt;return S.a.isValidElement(Jt)&&An?Oe.preserve?{itemDom:S.a.cloneElement(Jt,{hidden:!0,key:fr||qt}),hidden:!0,colSpan:ci}:{itemDom:null,colSpan:0,hidden:!0}:{itemDom:Jt,colSpan:ci,hidden:!1}}),ot=Ye.map(function(Jt,qt){var En,It,si=Jt.itemDom,On=Jt.colSpan,Gn=si==null||(En=si.props)===null||En===void 0?void 0:En.hidden;if(Gn)return si;var ci=S.a.isValidElement(si)&&(si.key||"".concat((It=si.props)===null||It===void 0?void 0:It.name))||qt;24-He%24<On&&($e+=24-He%24,He+=24-He%24),He+=On;var Dn=Object(W.jsx)(ne.a,{span:On,children:si},ci);return Je&&He%24==0&&qt<We-1?[Dn,Object(W.jsx)(ne.a,{span:"24",children:Object(W.jsx)(Q.a,{style:{marginTop:-8,marginBottom:16},dashed:!0})},"line")]:Dn}),Kt=Ee&&Ye.filter(function(Jt){return Jt.hidden}).length,gt=Object(x.useMemo)(function(){return!($e<24||Fe<=fe)},[Fe,fe,$e]),Ft=Object(x.useMemo)(function(){var Jt=He%24+Te.span;return 24-Jt},[He,Te.span]);return Object(W.jsxs)($.a,{gutter:ye,justify:"start",children:[ot,Ge&&Object(W.jsx)(ne.a,{span:Te.span,offset:Ft,style:{textAlign:"right"},children:Object(W.jsx)(re.a.Item,{label:" ",colon:!1,className:"pro-form-query-filter-actions",children:Object(W.jsx)(he,{hiddenNum:Kt,collapsed:Ct,collapseRender:gt?jt:!1,submitter:Ge,setCollapsed:bt},"pro-form-query-filter-actions")})},"submitter")]},"resize-observer-row")},I=Object(V.a)()?(ce=document)===null||ce===void 0||(k=ce.body)===null||k===void 0?void 0:k.clientWidth:1024;function we(Re){var Oe=Re.collapsed,Pe=Re.layout,Ne=Re.defaultCollapsed,Ke=Ne===void 0?!0:Ne,Xe=Re.defaultColsNumber,wt=Re.span,Ct=Re.searchGutter,bt=Ct===void 0?24:Ct,mt=Re.searchText,jt=Re.resetText,Je=Re.optionRender,Wt=Re.collapseRender,Te=Re.onReset,fe=Re.onCollapse,ye=Re.labelWidth,Ee=ye===void 0?"80":ye,Ge=Re.style,$e=Re.split,We=Re.preserve,it=We===void 0?!0:We,Fe=Re.ignoreRules,He=Re.showHiddenNum,Ye=He===void 0?!1:He,ot=Object(E.a)(Re,ge),Kt=Object(x.useContext)(De.a.ConfigContext),gt=Kt.getPrefixCls("pro-form-query-filter"),Ft=Object(N.a)(function(){return typeof(Ge==null?void 0:Ge.width)=="number"?Ge==null?void 0:Ge.width:I}),Jt=Object(ee.a)(Ft,2),qt=Jt[0],En=Jt[1],It=Object(x.useMemo)(function(){return Y(Pe,qt+16,wt)},[Pe,qt,wt]),si=Object(x.useMemo)(function(){return Xe!==void 0?Xe-1:Math.max(1,24/It.span-1)},[Xe,It.span]),On=Object(x.useMemo)(function(){if(Ee&&It.layout!=="vertical"&&Ee!=="auto")return{labelCol:{flex:"0 0 ".concat(Ee,"px")},wrapperCol:{style:{maxWidth:"calc(100% - ".concat(Ee,"px)")}},style:{flexWrap:"nowrap"}}},[It.layout,Ee]);return Object(W.jsx)(j.a,{onResize:function(ci){qt!==ci.width&&ci.width>17&&En(ci.width)},children:Object(W.jsx)(T.a,Object(H.a)(Object(H.a)({isKeyPressSubmit:!0,preserve:it},ot),{},{className:d()(gt,ot.className),onReset:Te,style:Ge,layout:It.layout,fieldProps:{style:{width:"100%"}},formItemProps:On,groupProps:{titleStyle:{display:"inline-block",marginRight:16}},contentRender:function(ci,Dn,An){return Object(W.jsx)(me,{spanSize:It,collapsed:Oe,form:An,collapseRender:Wt,defaultCollapsed:Ke,onCollapse:fe,optionRender:Je,submitter:Dn,items:ci,split:$e,resetText:Re.resetText,searchText:Re.searchText,searchGutter:bt,preserve:it,ignoreRules:Fe,showLength:si,showHiddenNum:Ye})}}))},"resize-observer")}},PPCJ:function(fn,K,a){},PTeM:function(fn,K,a){"use strict";a.d(K,"e",function(){return re}),a.d(K,"d",function(){return J}),a.d(K,"a",function(){return $}),a.d(K,"c",function(){return y}),a.d(K,"b",function(){return L});var le=a("MrjW"),De=a("MNsG"),E=a("N0LK");function ve(ne){return ne===47||ne===92}function re(ne){return ne.replace(/[\\/]/g,le.e.sep)}function J(ne){return ne.indexOf("/")===-1&&(ne=re(ne)),/^[a-zA-Z]:(\/|$)/.test(ne)&&(ne="/"+ne),ne}function $(ne){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le.e.sep;if(!ne)return"";var H=ne.length,W=ne.charCodeAt(0);if(ve(W)){if(ve(ne.charCodeAt(1))&&!ve(ne.charCodeAt(2))){for(var F=3,V=F;F<H&&!ve(ne.charCodeAt(F));F++);if(V!==F&&!ve(ne.charCodeAt(F+1))){for(F+=1;F<H;F++)if(ve(ne.charCodeAt(F)))return ne.slice(0,F+1).replace(/[\\/]/g,ee)}}return ee}else if(Q(W)&&ne.charCodeAt(1)===58)return ve(ne.charCodeAt(2))?ne.slice(0,2)+ee:ne.slice(0,2);var N=ne.indexOf("://");if(N!==-1){for(N+=3;N<H;N++)if(ve(ne.charCodeAt(N)))return ne.slice(0,N+1)}return""}function y(ne,ee,H){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:le.h;if(ne===ee)return!0;if(!ne||!ee||ee.length>ne.length)return!1;if(H){var F=Object(E.T)(ne,ee);if(!F)return!1;if(ee.length===ne.length)return!0;var V=ee.length;return ee.charAt(ee.length-1)===W&&V--,ne.charAt(V)===W}return ee.charAt(ee.length-1)!==W&&(ee+=W),ne.indexOf(ee)===0}function Q(ne){return ne>=65&&ne<=90||ne>=97&&ne<=122}function L(ne){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:De.o;return ee?Q(ne.charCodeAt(0))&&ne.charCodeAt(1)===58:!1}},PXCW:function(fn,K,a){"use strict";a.d(K,"b",function(){return ve}),a.d(K,"c",function(){return re}),a.d(K,"a",function(){return J});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve;(function(y){y[y.None=0]="None",y[y.Indent=1]="Indent",y[y.IndentOutdent=2]="IndentOutdent",y[y.Outdent=3]="Outdent"})(ve||(ve={}));var re=function(){function y(Q){if(Object(De.a)(this,y),this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=Q.open,this.close=Q.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(Q.notIn))for(var L=0,ne=Q.notIn.length;L<ne;L++){var ee=Q.notIn[L];switch(ee){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}}return Object(E.a)(y,[{key:"isOK",value:function(L){switch(L){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}},{key:"shouldAutoClose",value:function(L,ne){if(L.getTokenCount()===0)return!0;var ee=L.findTokenIndexAtOffset(ne-2),H=L.getStandardTokenType(ee);return this.isOK(H)}},{key:"_findNeutralCharacterInRange",value:function(L,ne){for(var ee=L;ee<=ne;ee++){var H=String.fromCharCode(ee);if(!this.open.includes(H)&&!this.close.includes(H))return H}return null}},{key:"findNeutralCharacter",value:function(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}]),y}(),J=Object(E.a)(function y(Q){Object(De.a)(this,y),this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;var L=Object(le.a)(Q),ne;try{for(L.s();!(ne=L.n()).done;){var ee=ne.value;$(this.autoClosingPairsOpenByStart,ee.open.charAt(0),ee),$(this.autoClosingPairsOpenByEnd,ee.open.charAt(ee.open.length-1),ee),$(this.autoClosingPairsCloseByStart,ee.close.charAt(0),ee),$(this.autoClosingPairsCloseByEnd,ee.close.charAt(ee.close.length-1),ee),ee.close.length===1&&ee.open.length===1&&$(this.autoClosingPairsCloseSingleChar,ee.close,ee)}}catch(H){L.e(H)}finally{L.f()}});function $(y,Q,L){y.has(Q)?y.get(Q).push(L):y.set(Q,[L])}},"Pv/L":function(fn,K,a){"use strict";a.d(K,"a",function(){return re});var le=a("+kx5"),De=a("Y9hK"),E=a("Qw5x"),ve=a("u6e6");function re(J){return Object(le.a)(J)||Object(De.a)(J)||Object(E.a)(J)||Object(ve.a)()}},Q4rV:function(fn,K,a){"use strict";a.d(K,"b",function(){return ve}),a.d(K,"a",function(){return re});var le=a("HpOR"),De=a("N0LK"),E=a("bY76");function ve(y){return JSON.stringify(y,J)}function re(y){var Q=JSON.parse(y);return Q=$(Q),Q}function J(y,Q){return Q instanceof RegExp?{$mid:2,source:Q.source,flags:Object(De.O)(Q)}:Q}function $(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!y||Q>200)return y;if(typeof y=="object"){switch(y.$mid){case 1:return E.a.revive(y);case 2:return new RegExp(y.source,y.flags);case 16:return new Date(y.source)}if(y instanceof le.a||y instanceof Uint8Array)return y;if(Array.isArray(y))for(var L=0;L<y.length;++L)y[L]=$(y[L],Q+1);else for(var ne in y)Object.hasOwnProperty.call(y,ne)&&(y[ne]=$(y[ne],Q+1))}return y}},QDVR:function(fn,K,a){"use strict";a.d(K,"b",function(){return W}),a.d(K,"a",function(){return V});var le=a("w4Tj"),De=a("oZsa"),E=a("yKVA"),ve=a("879j"),re=a("jrin"),J=a("qLMh"),$=a("rAM+"),y=a("tJVT"),Q=a("mtLc"),L=a("fWQN"),ne,ee,H=Object(Q.a)(function N(U,d){Object(L.a)(this,N),this.uri=U,this.value=d}),W=function(N){function U(d,j){Object(L.a)(this,U),this[ne]="ResourceMap",d instanceof U?(this.map=new Map(d.map),this.toKey=j!=null?j:U.defaultToKey):(this.map=new Map,this.toKey=d!=null?d:U.defaultToKey)}return Object(Q.a)(U,[{key:"set",value:function(j,C){return this.map.set(this.toKey(j),new H(j,C)),this}},{key:"get",value:function(j){var C;return(C=this.map.get(this.toKey(j)))===null||C===void 0?void 0:C.value}},{key:"has",value:function(j){return this.map.has(this.toKey(j))}},{key:"size",get:function(){return this.map.size}},{key:"clear",value:function(){this.map.clear()}},{key:"delete",value:function(j){return this.map.delete(this.toKey(j))}},{key:"forEach",value:function(j,C){typeof C!="undefined"&&(j=j.bind(C));var x=Object($.a)(this.map),S;try{for(x.s();!(S=x.n()).done;){var T=S.value,z=Object(y.a)(T,2),A=z[0],ue=z[1];j(ue.value,ue.uri,this)}}catch(be){x.e(be)}finally{x.f()}}},{key:"values",value:Object(J.a)().mark(function d(){var j,C,x;return Object(J.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:j=Object($.a)(this.map.values()),T.prev=1,j.s();case 3:if((C=j.n()).done){T.next=9;break}return x=C.value,T.next=7,x.value;case 7:T.next=3;break;case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),j.e(T.t0);case 14:return T.prev=14,j.f(),T.finish(14);case 17:case"end":return T.stop()}},d,this,[[1,11,14,17]])})},{key:"keys",value:Object(J.a)().mark(function d(){var j,C,x;return Object(J.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:j=Object($.a)(this.map.values()),T.prev=1,j.s();case 3:if((C=j.n()).done){T.next=9;break}return x=C.value,T.next=7,x.uri;case 7:T.next=3;break;case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),j.e(T.t0);case 14:return T.prev=14,j.f(),T.finish(14);case 17:case"end":return T.stop()}},d,this,[[1,11,14,17]])})},{key:"entries",value:Object(J.a)().mark(function d(){var j,C,x;return Object(J.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:j=Object($.a)(this.map.values()),T.prev=1,j.s();case 3:if((C=j.n()).done){T.next=9;break}return x=C.value,T.next=7,[x.uri,x.value];case 7:T.next=3;break;case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),j.e(T.t0);case 14:return T.prev=14,j.f(),T.finish(14);case 17:case"end":return T.stop()}},d,this,[[1,11,14,17]])})},{key:N,value:Object(J.a)().mark(function d(){var j,C,x,S,T;return Object(J.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:j=Object($.a)(this.map),A.prev=1,j.s();case 3:if((C=j.n()).done){A.next=11;break}return x=C.value,S=Object(y.a)(x,2),T=S[1],A.next=9,[T.uri,T.value];case 9:A.next=3;break;case 11:A.next=16;break;case 13:A.prev=13,A.t0=A.catch(1),j.e(A.t0);case 16:return A.prev=16,j.f(),A.finish(16);case 19:case"end":return A.stop()}},d,this,[[1,13,16,19]])})}]),U}((ne=Symbol.toStringTag,Symbol.iterator));W.defaultToKey=function(N){return N.toString()};var F=function(N){function U(){Object(L.a)(this,U),this[ee]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}return Object(Q.a)(U,[{key:"clear",value:function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}},{key:"isEmpty",value:function(){return!this._head&&!this._tail}},{key:"size",get:function(){return this._size}},{key:"first",get:function(){var j;return(j=this._head)===null||j===void 0?void 0:j.value}},{key:"last",get:function(){var j;return(j=this._tail)===null||j===void 0?void 0:j.value}},{key:"has",value:function(j){return this._map.has(j)}},{key:"get",value:function(j){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=this._map.get(j);if(!!x)return C!==0&&this.touch(x,C),x.value}},{key:"set",value:function(j,C){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=this._map.get(j);if(S)S.value=C,x!==0&&this.touch(S,x);else{switch(S={key:j,value:C,next:void 0,previous:void 0},x){case 0:this.addItemLast(S);break;case 1:this.addItemFirst(S);break;case 2:this.addItemLast(S);break;default:this.addItemLast(S);break}this._map.set(j,S),this._size++}return this}},{key:"delete",value:function(j){return!!this.remove(j)}},{key:"remove",value:function(j){var C=this._map.get(j);if(!!C)return this._map.delete(j),this.removeItem(C),this._size--,C.value}},{key:"shift",value:function(){if(!(!this._head&&!this._tail)){if(!this._head||!this._tail)throw new Error("Invalid list");var j=this._head;return this._map.delete(j.key),this.removeItem(j),this._size--,j.value}}},{key:"forEach",value:function(j,C){for(var x=this._state,S=this._head;S;){if(C?j.bind(C)(S.value,S.key,this):j(S.value,S.key,this),this._state!==x)throw new Error("LinkedMap got modified during iteration.");S=S.next}}},{key:"keys",value:function(){var j,C=this,x=this._state,S=this._head,T=(j={},Object(re.a)(j,Symbol.iterator,function(){return T}),Object(re.a)(j,"next",function(){if(C._state!==x)throw new Error("LinkedMap got modified during iteration.");if(S){var A={value:S.key,done:!1};return S=S.next,A}else return{value:void 0,done:!0}}),j);return T}},{key:"values",value:function(){var j,C=this,x=this._state,S=this._head,T=(j={},Object(re.a)(j,Symbol.iterator,function(){return T}),Object(re.a)(j,"next",function(){if(C._state!==x)throw new Error("LinkedMap got modified during iteration.");if(S){var A={value:S.value,done:!1};return S=S.next,A}else return{value:void 0,done:!0}}),j);return T}},{key:"entries",value:function(){var j,C=this,x=this._state,S=this._head,T=(j={},Object(re.a)(j,Symbol.iterator,function(){return T}),Object(re.a)(j,"next",function(){if(C._state!==x)throw new Error("LinkedMap got modified during iteration.");if(S){var A={value:[S.key,S.value],done:!1};return S=S.next,A}else return{value:void 0,done:!0}}),j);return T}},{key:N,value:function(){return this.entries()}},{key:"trimOld",value:function(j){if(!(j>=this.size)){if(j===0){this.clear();return}for(var C=this._head,x=this.size;C&&x>j;)this._map.delete(C.key),C=C.next,x--;this._head=C,this._size=x,C&&(C.previous=void 0),this._state++}}},{key:"addItemFirst",value:function(j){if(!this._head&&!this._tail)this._tail=j;else if(this._head)j.next=this._head,this._head.previous=j;else throw new Error("Invalid list");this._head=j,this._state++}},{key:"addItemLast",value:function(j){if(!this._head&&!this._tail)this._head=j;else if(this._tail)j.previous=this._tail,this._tail.next=j;else throw new Error("Invalid list");this._tail=j,this._state++}},{key:"removeItem",value:function(j){if(j===this._head&&j===this._tail)this._head=void 0,this._tail=void 0;else if(j===this._head){if(!j.next)throw new Error("Invalid list");j.next.previous=void 0,this._head=j.next}else if(j===this._tail){if(!j.previous)throw new Error("Invalid list");j.previous.next=void 0,this._tail=j.previous}else{var C=j.next,x=j.previous;if(!C||!x)throw new Error("Invalid list");C.previous=x,x.next=C}j.next=void 0,j.previous=void 0,this._state++}},{key:"touch",value:function(j,C){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(C!==1&&C!==2)){if(C===1){if(j===this._head)return;var x=j.next,S=j.previous;j===this._tail?(S.next=void 0,this._tail=S):(x.previous=S,S.next=x),j.previous=void 0,j.next=this._head,this._head.previous=j,this._head=j,this._state++}else if(C===2){if(j===this._tail)return;var T=j.next,z=j.previous;j===this._head?(T.previous=void 0,this._head=T):(T.previous=z,z.next=T),j.next=void 0,j.previous=this._tail,this._tail.next=j,this._tail=j,this._state++}}}},{key:"toJSON",value:function(){var j=[];return this.forEach(function(C,x){j.push([x,C])}),j}},{key:"fromJSON",value:function(j){this.clear();var C=Object($.a)(j),x;try{for(C.s();!(x=C.n()).done;){var S=x.value,T=Object(y.a)(S,2),z=T[0],A=T[1];this.set(z,A)}}catch(ue){C.e(ue)}finally{C.f()}}}]),U}((ee=Symbol.toStringTag,Symbol.iterator)),V=function(N){Object(E.a)(d,N);var U=Object(ve.a)(d);function d(j){var C,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Object(L.a)(this,d),C=U.call(this),C._limit=j,C._ratio=Math.min(Math.max(0,x),1),C}return Object(Q.a)(d,[{key:"limit",get:function(){return this._limit},set:function(C){this._limit=C,this.checkTrim()}},{key:"get",value:function(C){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Object(le.a)(Object(De.a)(d.prototype),"get",this).call(this,C,x)}},{key:"peek",value:function(C){return Object(le.a)(Object(De.a)(d.prototype),"get",this).call(this,C,0)}},{key:"set",value:function(C,x){return Object(le.a)(Object(De.a)(d.prototype),"set",this).call(this,C,x,2),this.checkTrim(),this}},{key:"checkTrim",value:function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}]),d}(F)},QMLA:function(fn,K,a){},QRuL:function(fn,K,a){"use strict";a.d(K,"g",function(){return H}),a.d(K,"a",function(){return W}),a.d(K,"i",function(){return N}),a.d(K,"h",function(){return U}),a.d(K,"c",function(){return d}),a.d(K,"d",function(){return j}),a.d(K,"e",function(){return C}),a.d(K,"f",function(){return x}),a.d(K,"b",function(){return S});var le=a("tJVT"),De=a("rAM+"),E=a("yKVA"),ve=a("879j"),re=a("fWQN"),J=a("mtLc"),$=a("EffR"),y=a("a4d6"),Q=a("XSiN"),L=a("X+cX"),ne=a("pmY6"),ee=a("MD5Z"),H=function(){function A(ue,be){Object(re.a)(this,A),this.x=ue,this.y=be,this._pageCoordinatesBrand=void 0}return Object(J.a)(A,[{key:"toClientCoordinates",value:function(){return new W(this.x-window.scrollX,this.y-window.scrollY)}}]),A}(),W=function(){function A(ue,be){Object(re.a)(this,A),this.clientX=ue,this.clientY=be,this._clientCoordinatesBrand=void 0}return Object(J.a)(A,[{key:"toPageCoordinates",value:function(){return new H(this.clientX+window.scrollX,this.clientY+window.scrollY)}}]),A}(),F=Object(J.a)(function A(ue,be,de,ke){Object(re.a)(this,A),this.x=ue,this.y=be,this.width=de,this.height=ke,this._editorPagePositionBrand=void 0}),V=Object(J.a)(function A(ue,be){Object(re.a)(this,A),this.x=ue,this.y=be,this._positionRelativeToEditorBrand=void 0});function N(A){var ue=$.getDomNodePagePosition(A);return new F(ue.left,ue.top,ue.width,ue.height)}function U(A,ue,be){var de=ue.width/A.offsetWidth,ke=ue.height/A.offsetHeight,he=(be.x-ue.x)/de,ge=(be.y-ue.y)/ke;return new V(he,ge)}var d=function(A){Object(E.a)(be,A);var ue=Object(ve.a)(be);function be(de,ke,he){var ge;return Object(re.a)(this,be),ge=ue.call(this,de),ge._editorMouseEventBrand=void 0,ge.isFromPointerCapture=ke,ge.pos=new H(ge.posx,ge.posy),ge.editorPos=N(he),ge.relativePos=U(he,ge.editorPos,ge.pos),ge}return Object(J.a)(be)}(Q.a),j=function(){function A(ue){Object(re.a)(this,A),this._editorViewDomNode=ue}return Object(J.a)(A,[{key:"_create",value:function(be){return new d(be,!1,this._editorViewDomNode)}},{key:"onContextMenu",value:function(be,de){var ke=this;return $.addDisposableListener(be,"contextmenu",function(he){de(ke._create(he))})}},{key:"onMouseUp",value:function(be,de){var ke=this;return $.addDisposableListener(be,"mouseup",function(he){de(ke._create(he))})}},{key:"onMouseDown",value:function(be,de){var ke=this;return $.addDisposableListener(be,$.EventType.MOUSE_DOWN,function(he){de(ke._create(he))})}},{key:"onPointerDown",value:function(be,de){var ke=this;return $.addDisposableListener(be,$.EventType.POINTER_DOWN,function(he){de(ke._create(he),he.pointerId)})}},{key:"onMouseLeave",value:function(be,de){var ke=this;return $.addDisposableListener(be,$.EventType.MOUSE_LEAVE,function(he){de(ke._create(he))})}},{key:"onMouseMove",value:function(be,de){var ke=this;return $.addDisposableListener(be,"mousemove",function(he){return de(ke._create(he))})}}]),A}(),C=function(){function A(ue){Object(re.a)(this,A),this._editorViewDomNode=ue}return Object(J.a)(A,[{key:"_create",value:function(be){return new d(be,!1,this._editorViewDomNode)}},{key:"onPointerUp",value:function(be,de){var ke=this;return $.addDisposableListener(be,"pointerup",function(he){de(ke._create(he))})}},{key:"onPointerDown",value:function(be,de){var ke=this;return $.addDisposableListener(be,$.EventType.POINTER_DOWN,function(he){de(ke._create(he),he.pointerId)})}},{key:"onPointerLeave",value:function(be,de){var ke=this;return $.addDisposableListener(be,$.EventType.POINTER_LEAVE,function(he){de(ke._create(he))})}},{key:"onPointerMove",value:function(be,de){var ke=this;return $.addDisposableListener(be,"pointermove",function(he){return de(ke._create(he))})}}]),A}(),x=function(A){Object(E.a)(be,A);var ue=Object(ve.a)(be);function be(de){var ke;return Object(re.a)(this,be),ke=ue.call(this),ke._editorViewDomNode=de,ke._globalPointerMoveMonitor=ke._register(new y.a),ke._keydownListener=null,ke}return Object(J.a)(be,[{key:"startMonitoring",value:function(ke,he,ge,ce,k){var w=this;this._keydownListener=$.addStandardDisposableListener(document,"keydown",function(B){var Y=B.toKeyCodeChord();Y.isModifierKey()||w._globalPointerMoveMonitor.stopMonitoring(!0,B.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(ke,he,ge,function(B){ce(new d(B,!0,w._editorViewDomNode))},function(B){w._keydownListener.dispose(),k(B)})}},{key:"stopMonitoring",value:function(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}]),be}(ne.a),S=function(){function A(ue){var be=this;Object(re.a)(this,A),this._editor=ue,this._instanceId=++A._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new L.g(function(){return be.garbageCollect()},1e3)}return Object(J.a)(A,[{key:"createClassNameRef",value:function(be){var de=this,ke=this.getOrCreateRule(be);return ke.increaseRefCount(),{className:ke.className,dispose:function(){ke.decreaseRefCount(),de._garbageCollectionScheduler.schedule()}}}},{key:"getOrCreateRule",value:function(be){var de=this.computeUniqueKey(be),ke=this._rules.get(de);if(!ke){var he=this._counter++;ke=new T(de,"dyn-rule-".concat(this._instanceId,"-").concat(he),$.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,be),this._rules.set(de,ke)}return ke}},{key:"computeUniqueKey",value:function(be){return JSON.stringify(be)}},{key:"garbageCollect",value:function(){var be=Object(De.a)(this._rules.values()),de;try{for(be.s();!(de=be.n()).done;){var ke=de.value;ke.hasReferences()||(this._rules.delete(ke.key),ke.dispose())}}catch(he){be.e(he)}finally{be.f()}}}]),A}();S._idPool=0;var T=function(){function A(ue,be,de,ke){Object(re.a)(this,A),this.key=ue,this.className=be,this.properties=ke,this._referenceCount=0,this._styleElement=$.createStyleSheet(de),this._styleElement.textContent=this.getCssText(this.className,this.properties)}return Object(J.a)(A,[{key:"getCssText",value:function(be,de){var ke=".".concat(be," {");for(var he in de){var ge=de[he],ce=void 0;typeof ge=="object"?ce=Object(ee.c)(ge.id):ce=ge;var k=z(he);ke+=`
	`.concat(k,": ").concat(ce,";")}return ke+=`
}`,ke}},{key:"dispose",value:function(){this._styleElement.remove()}},{key:"increaseRefCount",value:function(){this._referenceCount++}},{key:"decreaseRefCount",value:function(){this._referenceCount--}},{key:"hasReferences",value:function(){return this._referenceCount>0}}]),A}();function z(A){return A.replace(/(^[A-Z])/,function(ue){var be=Object(le.a)(ue,1),de=be[0];return de.toLowerCase()}).replace(/([A-Z])/g,function(ue){var be=Object(le.a)(ue,1),de=be[0];return"-".concat(de.toLowerCase())})}},QaAZ:function(fn,K,a){},QdLL:function(fn,K,a){"use strict";a.d(K,"a",function(){return E});var le=a("fWQN"),De=a("mtLc"),E=function(){function ve(re){Object(le.a)(this,ve),this.executor=re,this._didRun=!1}return Object(De.a)(ve,[{key:"value",get:function(){if(!this._didRun)try{this._value=this.executor()}catch(J){this._error=J}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}},{key:"rawValue",get:function(){return this._value}}]),ve}()},QgJK:function(fn,K,a){"use strict";a.d(K,"a",function(){return ve});var le=a("N0LK"),De=a("JLfW");function E(re,J,$){for(var y=0,Q=0;Q<re.length;Q++)re.charAt(Q)==="	"?y=De.a.nextIndentTabStop(y,J):y++;var L="";if(!$){var ne=Math.floor(y/J);y=y%J;for(var ee=0;ee<ne;ee++)L+="	"}for(var H=0;H<y;H++)L+=" ";return L}function ve(re,J,$){var y=le.u(re);return y===-1&&(y=re.length),E(re.substring(0,y),J,$)+re.substring(y)}},Qiat:function(fn,K,a){"use strict";var le=a("LQCs"),De=a("x+uP"),E=a("HaE+"),ve=a("U8pU"),re=a("ODXe"),J=a("GNNt"),$=a("wEI+"),y=a("EFp3"),Q=a("pED+"),L=a("+L6B"),ne=a("sRBo"),ee=a("qVdP"),H=a("R9oj"),W=a("5NDa"),F=a("DjyN"),V=a("7Kak"),N=a("T2oS"),U=a("5Dmo"),d=a("KxFI"),j=a("rePB"),C=a("wx14"),x=a("TSYQ"),S=a.n(x),T=a("VTBJ"),z=a("KQm4"),A=a("q1tI"),ue=a.n(A),be=a("x/xZ"),de=a("bX4T"),ke=a("tl68"),he=a("Gytx"),ge=a.n(he),ce=a("Kwbf"),k=a("t23M"),w=a("qx4F");function B(Ue){return null}var Y=B;function pe(Ue){return null}var me=pe,I=a("Ff2n"),we=a("c+Xe"),Re="RC_TABLE_KEY";function Oe(Ue){return Ue==null?[]:Array.isArray(Ue)?Ue:[Ue]}function Pe(Ue,Be){if(!Be&&typeof Be!="number")return Ue;for(var _t=Oe(Be),vt=Ue,ht=0;ht<_t.length;ht+=1){if(!vt)return null;var zt=_t[ht];vt=vt[zt]}return vt}function Ne(Ue){var Be=[],_t={};return Ue.forEach(function(vt){for(var ht=vt||{},zt=ht.key,Yt=ht.dataIndex,nn=zt||Oe(Yt).join("-")||Re;_t[nn];)nn="".concat(nn,"_next");_t[nn]=!0,Be.push(nn)}),Be}function Ke(Ue){return Ue!=null}var Xe=A.createContext(!1),wt=Xe,Ct=a("TNol"),bt=a("mBDr");function mt(){var Ue=A.createContext(null),Be=function(vt){var ht=vt.value,zt=vt.children,Yt=A.useRef(ht);Yt.current=ht;var nn=A.useState(function(){return{getValue:function(){return Yt.current},listeners:new Set}}),yn=Object(re.a)(nn,1),Rn=yn[0];return Object(Ct.a)(function(){Rn.listeners.forEach(function(ei){ei(ht)})},[ht]),A.createElement(Ue.Provider,{value:Rn},zt)};return{Context:Ue,Provider:Be}}function jt(Ue,Be){var _t=Object(bt.a)(Be),vt=A.useContext(Ue==null?void 0:Ue.Context),ht=vt||{},zt=ht.listeners,Yt=ht.getValue,nn=A.useState(function(){return _t(vt?Yt():null)}),yn=Object(re.a)(nn,2),Rn=yn[0],ei=yn[1];return Object(Ct.a)(function(){if(!vt)return;function $n(Kn){ei(function(ui){var Mi=_t(Kn);return ge()(ui,Mi)?ui:Mi})}return zt.add($n),function(){zt.delete($n)}},[vt]),Rn}var Je=mt(),Wt=Je,Te=A.createContext(null),fe=Te,ye=A.createContext({renderWithProps:!1}),Ee=ye,Ge=["colSpan","rowSpan","style","className"];function $e(Ue,Be,_t,vt){var ht=Ue+Be-1;return Ue<=vt&&ht>=_t}function We(Ue){return Ue&&Object(ve.a)(Ue)==="object"&&!Array.isArray(Ue)&&!A.isValidElement(Ue)}function it(Ue){return typeof Ue=="string"?!0:Object(we.c)(Ue)}var Fe=function(Be){var _t=Be.ellipsis,vt=Be.rowType,ht=Be.children,zt,Yt=_t===!0?{showTitle:!0}:_t;return Yt&&(Yt.showTitle||vt==="header")&&(typeof ht=="string"||typeof ht=="number"?zt=ht.toString():A.isValidElement(ht)&&typeof ht.props.children=="string"&&(zt=ht.props.children)),zt};function He(Ue,Be){var _t,vt,ht,zt=Ue.prefixCls,Yt=Ue.className,nn=Ue.record,yn=Ue.index,Rn=Ue.renderIndex,ei=Ue.dataIndex,$n=Ue.render,Kn=Ue.children,ui=Ue.component,Mi=ui===void 0?"td":ui,Ri=Ue.colSpan,Ti=Ue.rowSpan,Xi=Ue.fixLeft,Ji=Ue.fixRight,Or=Ue.firstFixLeft,kr=Ue.lastFixLeft,Pr=Ue.firstFixRight,vr=Ue.lastFixRight,Ir=Ue.appendNode,tr=Ue.additionalProps,Ui=tr===void 0?{}:tr,$i=Ue.ellipsis,sr=Ue.align,Dr=Ue.rowType,wr=Ue.isSticky,lr=Ue.hovering,ar=Ue.onHover,Rr="".concat(zt,"-cell"),zr=A.useContext(Ee),Vr=A.useContext(wt),la=A.useContext(fe),Ta=la.allColumnsFixedLeft,ga=A.useMemo(function(){if(Ke(Kn))return[Kn];var Un=Pe(nn,ei),qn=Un,ur=void 0;if($n){var _r=$n(Un,nn,Rn);We(_r)?(qn=_r.children,ur=_r.props,zr.renderWithProps=!0):qn=_r}return[qn,ur]},[zr.renderWithProps?Math.random():0,Kn,ei,zr,nn,$n,Rn]),ma=Object(re.a)(ga,2),Sa=ma[0],se=ma[1],ae=Sa;Object(ve.a)(ae)==="object"&&!Array.isArray(ae)&&!A.isValidElement(ae)&&(ae=null),$i&&(kr||Pr)&&(ae=A.createElement("span",{className:"".concat(Rr,"-content")},ae));var b=se||{},_=b.colSpan,p=b.rowSpan,P=b.style,X=b.className,Se=Object(I.a)(b,Ge),Ae=(_t=_!==void 0?_:Ri)!==null&&_t!==void 0?_t:1,qe=(vt=p!==void 0?p:Ti)!==null&&vt!==void 0?vt:1;if(Ae===0||qe===0)return null;var rt={},ct=typeof Xi=="number"&&Vr,Xt=typeof Ji=="number"&&Vr;ct&&(rt.position="sticky",rt.left=Xi),Xt&&(rt.position="sticky",rt.right=Ji);var cn={};sr&&(cn.textAlign=sr);var Mn=function(qn){var ur;nn&&ar(yn,yn+qe-1),Ui==null||(ur=Ui.onMouseEnter)===null||ur===void 0||ur.call(Ui,qn)},gi=function(qn){var ur;nn&&ar(-1,-1),Ui==null||(ur=Ui.onMouseLeave)===null||ur===void 0||ur.call(Ui,qn)},Zn=Fe({rowType:Dr,ellipsis:$i,children:Sa}),di=Object(T.a)(Object(T.a)(Object(T.a)({title:Zn},Se),Ui),{},{colSpan:Ae!==1?Ae:null,rowSpan:qe!==1?qe:null,className:S()(Rr,Yt,(ht={},Object(j.a)(ht,"".concat(Rr,"-fix-left"),ct&&Vr),Object(j.a)(ht,"".concat(Rr,"-fix-left-first"),Or&&Vr),Object(j.a)(ht,"".concat(Rr,"-fix-left-last"),kr&&Vr),Object(j.a)(ht,"".concat(Rr,"-fix-left-all"),kr&&Ta&&Vr),Object(j.a)(ht,"".concat(Rr,"-fix-right"),Xt&&Vr),Object(j.a)(ht,"".concat(Rr,"-fix-right-first"),Pr&&Vr),Object(j.a)(ht,"".concat(Rr,"-fix-right-last"),vr&&Vr),Object(j.a)(ht,"".concat(Rr,"-ellipsis"),$i),Object(j.a)(ht,"".concat(Rr,"-with-append"),Ir),Object(j.a)(ht,"".concat(Rr,"-fix-sticky"),(ct||Xt)&&wr&&Vr),Object(j.a)(ht,"".concat(Rr,"-row-hover"),!se&&lr),ht),Ui.className,X),style:Object(T.a)(Object(T.a)(Object(T.a)(Object(T.a)({},Ui.style),cn),rt),P),onMouseEnter:Mn,onMouseLeave:gi,ref:it(Mi)?Be:null});return A.createElement(Mi,di,Ir,ae)}var Ye=A.forwardRef(He);Ye.displayName="Cell";var ot=["expanded","className","hovering"],Kt=A.memo(Ye,function(Ue,Be){return Be.shouldCellUpdate?ot.every(function(_t){return Ue[_t]===Be[_t]})&&!Be.shouldCellUpdate(Be.record,Ue.record):ge()(Ue,Be)}),gt=A.forwardRef(function(Ue,Be){var _t=Ue.index,vt=Ue.additionalProps,ht=vt===void 0?{}:vt,zt=Ue.colSpan,Yt=Ue.rowSpan,nn=ht.colSpan,yn=ht.rowSpan,Rn=zt!=null?zt:nn,ei=Yt!=null?Yt:yn,$n=jt(Wt,function(Mi){var Ri=$e(_t,ei||1,Mi==null?void 0:Mi.startRow,Mi==null?void 0:Mi.endRow);return{onHover:Mi==null?void 0:Mi.onHover,hovering:Ri}}),Kn=$n.onHover,ui=$n.hovering;return A.createElement(Kt,Object(C.a)({},Ue,{colSpan:Rn,rowSpan:ei,hovering:ui,ref:Be,onHover:Kn}))});gt.displayName="WrappedCell";var Ft=gt,Jt=A.createContext(null),qt=Jt;function En(Ue,Be,_t,vt,ht){var zt=_t[Ue]||{},Yt=_t[Be]||{},nn,yn;zt.fixed==="left"?nn=vt.left[Ue]:Yt.fixed==="right"&&(yn=vt.right[Be]);var Rn=!1,ei=!1,$n=!1,Kn=!1,ui=_t[Be+1],Mi=_t[Ue-1];if(ht==="rtl"){if(nn!==void 0){var Ri=Mi&&Mi.fixed==="left";Kn=!Ri}else if(yn!==void 0){var Ti=ui&&ui.fixed==="right";$n=!Ti}}else if(nn!==void 0){var Xi=ui&&ui.fixed==="left";Rn=!Xi}else if(yn!==void 0){var Ji=Mi&&Mi.fixed==="right";ei=!Ji}return{fixLeft:nn,fixRight:yn,lastFixLeft:Rn,firstFixRight:ei,lastFixRight:$n,firstFixLeft:Kn,isSticky:vt.isSticky}}function It(Ue){var Be=Ue.cells,_t=Ue.stickyOffsets,vt=Ue.flattenColumns,ht=Ue.rowComponent,zt=Ue.cellComponent,Yt=Ue.onHeaderRow,nn=Ue.index,yn=A.useContext(qt),Rn=yn.prefixCls,ei=yn.direction,$n;Yt&&($n=Yt(Be.map(function(ui){return ui.column}),nn));var Kn=Ne(Be.map(function(ui){return ui.column}));return A.createElement(ht,$n,Be.map(function(ui,Mi){var Ri=ui.column,Ti=En(ui.colStart,ui.colEnd,vt,_t,ei),Xi;return Ri&&Ri.onHeaderCell&&(Xi=ui.column.onHeaderCell(Ri)),A.createElement(Ft,Object(C.a)({},ui,{ellipsis:Ri.ellipsis,align:Ri.align,component:zt,prefixCls:Rn,key:Kn[Mi]},Ti,{additionalProps:Xi,rowType:"header"}))}))}It.displayName="HeaderRow";var si=It;function On(Ue){var Be=[];function _t(Yt,nn){var yn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;Be[yn]=Be[yn]||[];var Rn=nn,ei=Yt.filter(Boolean).map(function($n){var Kn={key:$n.key,className:$n.className||"",children:$n.title,column:$n,colStart:Rn},ui=1,Mi=$n.children;return Mi&&Mi.length>0&&(ui=_t(Mi,Rn,yn+1).reduce(function(Ri,Ti){return Ri+Ti},0),Kn.hasSubColumns=!0),"colSpan"in $n&&(ui=$n.colSpan),"rowSpan"in $n&&(Kn.rowSpan=$n.rowSpan),Kn.colSpan=ui,Kn.colEnd=Kn.colStart+ui-1,Be[yn].push(Kn),Rn+=ui,ui});return ei}_t(Ue,0);for(var vt=Be.length,ht=function(nn){Be[nn].forEach(function(yn){!("rowSpan"in yn)&&!yn.hasSubColumns&&(yn.rowSpan=vt-nn)})},zt=0;zt<vt;zt+=1)ht(zt);return Be}function Gn(Ue){var Be=Ue.stickyOffsets,_t=Ue.columns,vt=Ue.flattenColumns,ht=Ue.onHeaderRow,zt=A.useContext(qt),Yt=zt.prefixCls,nn=zt.getComponent,yn=A.useMemo(function(){return On(_t)},[_t]),Rn=nn(["header","wrapper"],"thead"),ei=nn(["header","row"],"tr"),$n=nn(["header","cell"],"th");return A.createElement(Rn,{className:"".concat(Yt,"-thead")},yn.map(function(Kn,ui){var Mi=A.createElement(si,{key:ui,flattenColumns:vt,cells:Kn,stickyOffsets:Be,rowComponent:ei,cellComponent:$n,onHeaderRow:ht,index:ui});return Mi}))}var ci=Gn,Dn=A.createContext(null),An=Dn;function fr(Ue){var Be=Ue.prefixCls,_t=Ue.children,vt=Ue.component,ht=Ue.cellComponent,zt=Ue.className,Yt=Ue.expanded,nn=Ue.colSpan,yn=Ue.isEmpty,Rn=A.useContext(qt),ei=Rn.scrollbarSize,$n=A.useContext(An),Kn=$n.fixHeader,ui=$n.fixColumn,Mi=$n.componentWidth,Ri=$n.horizonScroll;return A.useMemo(function(){var Ti=_t;return(yn?Ri:ui)&&(Ti=A.createElement("div",{style:{width:Mi-(Kn?ei:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(Be,"-expanded-row-fixed")},Mi!==0&&Ti)),A.createElement(vt,{className:zt,style:{display:Yt?null:"none"}},A.createElement(Ft,{component:ht,prefixCls:Be,colSpan:nn},Ti))},[_t,vt,zt,Yt,nn,yn,ei,Mi,ui,Kn,Ri])}var Vi=fr,Sr=A.createContext(null),Pi=Sr;function Ei(Ue){var Be=Ue.className,_t=Ue.style,vt=Ue.record,ht=Ue.index,zt=Ue.renderIndex,Yt=Ue.rowKey,nn=Ue.rowExpandable,yn=Ue.expandedKeys,Rn=Ue.onRow,ei=Ue.indent,$n=ei===void 0?0:ei,Kn=Ue.rowComponent,ui=Ue.cellComponent,Mi=Ue.childrenColumnName,Ri=A.useContext(qt),Ti=Ri.prefixCls,Xi=Ri.fixedInfoList,Ji=A.useContext(fe),Or=Ji.flattenColumns,kr=Ji.expandableType,Pr=Ji.expandRowByClick,vr=Ji.onTriggerExpand,Ir=Ji.rowClassName,tr=Ji.expandedRowClassName,Ui=Ji.indentSize,$i=Ji.expandIcon,sr=Ji.expandedRowRender,Dr=Ji.expandIconColumnIndex,wr=A.useState(!1),lr=Object(re.a)(wr,2),ar=lr[0],Rr=lr[1],zr=yn&&yn.has(Ue.recordKey);A.useEffect(function(){zr&&Rr(!0)},[zr]);var Vr=kr==="row"&&(!nn||nn(vt)),la=kr==="nest",Ta=Mi&&vt&&vt[Mi],ga=Vr||la,ma=A.useRef(vr);ma.current=vr;var Sa=function(){ma.current.apply(ma,arguments)},se=Rn==null?void 0:Rn(vt,ht),ae=function(qe){var rt;Pr&&ga&&Sa(vt,qe);for(var ct=arguments.length,Xt=new Array(ct>1?ct-1:0),cn=1;cn<ct;cn++)Xt[cn-1]=arguments[cn];se==null||(rt=se.onClick)===null||rt===void 0||rt.call.apply(rt,[se,qe].concat(Xt))},b;typeof Ir=="string"?b=Ir:typeof Ir=="function"&&(b=Ir(vt,ht,$n));var _=Ne(Or),p=A.createElement(Kn,Object(C.a)({},se,{"data-row-key":Yt,className:S()(Be,"".concat(Ti,"-row"),"".concat(Ti,"-row-level-").concat($n),b,se&&se.className),style:Object(T.a)(Object(T.a)({},_t),se?se.style:null),onClick:ae}),Or.map(function(Ae,qe){var rt=Ae.render,ct=Ae.dataIndex,Xt=Ae.className,cn=_[qe],Mn=Xi[qe],gi;qe===(Dr||0)&&la&&(gi=A.createElement(A.Fragment,null,A.createElement("span",{style:{paddingLeft:"".concat(Ui*$n,"px")},className:"".concat(Ti,"-row-indent indent-level-").concat($n)}),$i({prefixCls:Ti,expanded:zr,expandable:Ta,record:vt,onExpand:Sa})));var Zn;return Ae.onCell&&(Zn=Ae.onCell(vt,ht)),A.createElement(Ft,Object(C.a)({className:Xt,ellipsis:Ae.ellipsis,align:Ae.align,component:ui,prefixCls:Ti,key:cn,record:vt,index:ht,renderIndex:zt,dataIndex:ct,render:rt,shouldCellUpdate:Ae.shouldCellUpdate,expanded:gi&&zr},Mn,{appendNode:gi,additionalProps:Zn}))})),P;if(Vr&&(ar||zr)){var X=sr(vt,ht,$n+1,zr),Se=tr&&tr(vt,ht,$n);P=A.createElement(Vi,{expanded:zr,className:S()("".concat(Ti,"-expanded-row"),"".concat(Ti,"-expanded-row-level-").concat($n+1),Se),prefixCls:Ti,component:Kn,cellComponent:ui,colSpan:Or.length,isEmpty:!1},X)}return A.createElement(A.Fragment,null,p,P)}Ei.displayName="BodyRow";var Cr=Ei;function zn(Ue,Be,_t,vt,ht,zt){var Yt=[];Yt.push({record:Ue,indent:Be,index:zt});var nn=ht(Ue),yn=vt==null?void 0:vt.has(nn);if(Ue&&Array.isArray(Ue[_t])&&yn)for(var Rn=0;Rn<Ue[_t].length;Rn+=1){var ei=zn(Ue[_t][Rn],Be+1,_t,vt,ht,Rn);Yt.push.apply(Yt,Object(z.a)(ei))}return Yt}function dr(Ue,Be,_t,vt){var ht=A.useMemo(function(){if(_t==null?void 0:_t.size){for(var zt=[],Yt=0;Yt<(Ue==null?void 0:Ue.length);Yt+=1){var nn=Ue[Yt];zt.push.apply(zt,Object(z.a)(zn(nn,0,Be,_t,vt,Yt)))}return zt}return Ue==null?void 0:Ue.map(function(yn,Rn){return{record:yn,indent:0,index:Rn}})},[Ue,Be,_t,vt]);return ht}function Hn(Ue){var Be=Ue.columnKey,_t=Ue.onColumnResize,vt=A.useRef();return A.useEffect(function(){vt.current&&_t(Be,vt.current.offsetWidth)},[]),A.createElement(k.a,{data:Be},A.createElement("td",{ref:vt,style:{padding:0,border:0,height:0}},A.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function mi(Ue){var Be=Ue.prefixCls,_t=Ue.columnsKey,vt=Ue.onColumnResize;return A.createElement("tr",{"aria-hidden":"true",className:"".concat(Be,"-measure-row"),style:{height:0,fontSize:0}},A.createElement(k.a.Collection,{onBatchResize:function(zt){zt.forEach(function(Yt){var nn=Yt.data,yn=Yt.size;vt(nn,yn.offsetWidth)})}},_t.map(function(ht){return A.createElement(Hn,{key:ht,columnKey:ht,onColumnResize:vt})})))}function hn(Ue){var Be=Ue.data,_t=Ue.getRowKey,vt=Ue.measureColumnWidth,ht=Ue.expandedKeys,zt=Ue.onRow,Yt=Ue.rowExpandable,nn=Ue.emptyNode,yn=Ue.childrenColumnName,Rn=A.useContext(Pi),ei=Rn.onColumnResize,$n=A.useContext(qt),Kn=$n.prefixCls,ui=$n.getComponent,Mi=A.useContext(fe),Ri=Mi.flattenColumns,Ti=dr(Be,yn,ht,_t),Xi=A.useRef({renderWithProps:!1}),Ji=A.useState(-1),Or=Object(re.a)(Ji,2),kr=Or[0],Pr=Or[1],vr=A.useState(-1),Ir=Object(re.a)(vr,2),tr=Ir[0],Ui=Ir[1],$i=A.useCallback(function(Dr,wr){Pr(Dr),Ui(wr)},[]),sr=A.useMemo(function(){var Dr=ui(["body","wrapper"],"tbody"),wr=ui(["body","row"],"tr"),lr=ui(["body","cell"],"td"),ar;Be.length?ar=Ti.map(function(zr,Vr){var la=zr.record,Ta=zr.indent,ga=zr.index,ma=_t(la,Vr);return A.createElement(Cr,{key:ma,rowKey:ma,record:la,recordKey:ma,index:Vr,renderIndex:ga,rowComponent:wr,cellComponent:lr,expandedKeys:ht,onRow:zt,getRowKey:_t,rowExpandable:Yt,childrenColumnName:yn,indent:Ta})}):ar=A.createElement(Vi,{expanded:!0,className:"".concat(Kn,"-placeholder"),prefixCls:Kn,component:wr,cellComponent:lr,colSpan:Ri.length,isEmpty:!0},nn);var Rr=Ne(Ri);return A.createElement(Dr,{className:"".concat(Kn,"-tbody")},vt&&A.createElement(mi,{prefixCls:Kn,columnsKey:Rr,onColumnResize:ei}),ar)},[Be,Kn,zt,vt,ht,_t,ui,nn,Ri,yn,ei,Yt,Ti]);return A.createElement(Ee.Provider,{value:Xi.current},A.createElement(Wt.Provider,{value:{startRow:kr,endRow:tr,onHover:$i}},sr))}var Xn=A.memo(hn);Xn.displayName="Body";var en=Xn,yt=a("Zm9Q"),wn=["expandable"],gn="RC_TABLE_INTERNAL_COL_DEFINE";function rn(Ue){var Be=Ue.expandable,_t=Object(I.a)(Ue,wn),vt;return"expandable"in Ue?vt=Object(T.a)(Object(T.a)({},_t),Be):vt=_t,vt.showExpandColumn===!1&&(vt.expandIconColumnIndex=-1),vt}var bn={},Qn=["children"],Ci=["fixed"];function yr(Ue){return Object(yt.a)(Ue).filter(function(Be){return A.isValidElement(Be)}).map(function(Be){var _t=Be.key,vt=Be.props,ht=vt.children,zt=Object(I.a)(vt,Qn),Yt=Object(T.a)({key:_t},zt);return ht&&(Yt.children=yr(ht)),Yt})}function _i(Ue){return Ue.reduce(function(Be,_t){var vt=_t.fixed,ht=vt===!0?"left":vt,zt=_t.children;return zt&&zt.length>0?[].concat(Object(z.a)(Be),Object(z.a)(_i(zt).map(function(Yt){return Object(T.a)({fixed:ht},Yt)}))):[].concat(Object(z.a)(Be),[Object(T.a)(Object(T.a)({},_t),{},{fixed:ht})])},[])}function Bn(Ue){for(var Be=!0,_t=0;_t<Ue.length;_t+=1){var vt=Ue[_t];if(Be&&vt.fixed!=="left")Be=!1;else if(!Be&&vt.fixed==="left"){Object(ce.a)(!1,"Index ".concat(_t-1," of `columns` missing `fixed='left'` prop."));break}}for(var ht=!0,zt=Ue.length-1;zt>=0;zt-=1){var Yt=Ue[zt];if(ht&&Yt.fixed!=="right")ht=!1;else if(!ht&&Yt.fixed==="right"){Object(ce.a)(!1,"Index ".concat(zt+1," of `columns` missing `fixed='right'` prop."));break}}}function tt(Ue){return Ue.map(function(Be){var _t=Be.fixed,vt=Object(I.a)(Be,Ci),ht=_t;return _t==="left"?ht="right":_t==="right"&&(ht="left"),Object(T.a)({fixed:ht},vt)})}function Lt(Ue,Be){var _t=Ue.prefixCls,vt=Ue.columns,ht=Ue.children,zt=Ue.expandable,Yt=Ue.expandedKeys,nn=Ue.columnTitle,yn=Ue.getRowKey,Rn=Ue.onTriggerExpand,ei=Ue.expandIcon,$n=Ue.rowExpandable,Kn=Ue.expandIconColumnIndex,ui=Ue.direction,Mi=Ue.expandRowByClick,Ri=Ue.columnWidth,Ti=Ue.fixed,Xi=A.useMemo(function(){return vt||yr(ht)},[vt,ht]),Ji=A.useMemo(function(){if(zt){var Pr,vr=Xi.slice();if(!vr.includes(bn)){var Ir=Kn||0;Ir>=0&&vr.splice(Ir,0,bn)}var tr=vr.indexOf(bn);vr=vr.filter(function(Dr,wr){return Dr!==bn||wr===tr});var Ui=Xi[tr],$i;(Ti==="left"||Ti)&&!Kn?$i="left":(Ti==="right"||Ti)&&Kn===Xi.length?$i="right":$i=Ui?Ui.fixed:null;var sr=(Pr={},Object(j.a)(Pr,gn,{className:"".concat(_t,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),Object(j.a)(Pr,"title",nn),Object(j.a)(Pr,"fixed",$i),Object(j.a)(Pr,"className","".concat(_t,"-row-expand-icon-cell")),Object(j.a)(Pr,"width",Ri),Object(j.a)(Pr,"render",function(wr,lr,ar){var Rr=yn(lr,ar),zr=Yt.has(Rr),Vr=$n?$n(lr):!0,la=ei({prefixCls:_t,expanded:zr,expandable:Vr,record:lr,onExpand:Rn});return Mi?A.createElement("span",{onClick:function(ga){return ga.stopPropagation()}},la):la}),Pr);return vr.map(function(Dr){return Dr===bn?sr:Dr})}return Xi.filter(function(Dr){return Dr!==bn})},[zt,Xi,yn,Yt,ei,ui]),Or=A.useMemo(function(){var Pr=Ji;return Be&&(Pr=Be(Pr)),Pr.length||(Pr=[{render:function(){return null}}]),Pr},[Be,Ji,ui]),kr=A.useMemo(function(){return ui==="rtl"?tt(_i(Or)):_i(Or)},[Or,ui]);return[Or,kr]}var xi=Lt;function Qi(Ue){var Be=Object(A.useRef)(Ue),_t=Object(A.useState)({}),vt=Object(re.a)(_t,2),ht=vt[1],zt=Object(A.useRef)(null),Yt=Object(A.useRef)([]);function nn(yn){Yt.current.push(yn);var Rn=Promise.resolve();zt.current=Rn,Rn.then(function(){if(zt.current===Rn){var ei=Yt.current,$n=Be.current;Yt.current=[],ei.forEach(function(Kn){Be.current=Kn(Be.current)}),zt.current=null,$n!==Be.current&&ht({})}})}return Object(A.useEffect)(function(){return function(){zt.current=null}},[]),[Be.current,nn]}function mr(Ue){var Be=Object(A.useRef)(Ue||null),_t=Object(A.useRef)();function vt(){window.clearTimeout(_t.current)}function ht(Yt){Be.current=Yt,vt(),_t.current=window.setTimeout(function(){Be.current=null,_t.current=void 0},100)}function zt(){return Be.current}return Object(A.useEffect)(function(){return vt},[]),[ht,zt]}function pr(Ue,Be,_t){var vt=Object(A.useMemo)(function(){for(var ht=[],zt=[],Yt=0,nn=0,yn=0;yn<Be;yn+=1)if(_t==="rtl"){zt[yn]=nn,nn+=Ue[yn]||0;var Rn=Be-yn-1;ht[Rn]=Yt,Yt+=Ue[Rn]||0}else{ht[yn]=Yt,Yt+=Ue[yn]||0;var ei=Be-yn-1;zt[ei]=nn,nn+=Ue[ei]||0}return{left:ht,right:zt}},[Ue,Be,_t]);return vt}var St=pr,Gi=["columnType"];function an(Ue){for(var Be=Ue.colWidths,_t=Ue.columns,vt=Ue.columCount,ht=[],zt=vt||_t.length,Yt=!1,nn=zt-1;nn>=0;nn-=1){var yn=Be[nn],Rn=_t&&_t[nn],ei=Rn&&Rn[gn];if(yn||ei||Yt){var $n=ei||{},Kn=$n.columnType,ui=Object(I.a)($n,Gi);ht.unshift(A.createElement("col",Object(C.a)({key:nn,style:{width:yn}},ui))),Yt=!0}}return A.createElement("colgroup",null,ht)}var Qe=an;function Jn(Ue){var Be=Ue.className,_t=Ue.children;return A.createElement("div",{className:Be},_t)}var ii=Jn,Li=A.createContext({}),Fn=Li;function jn(Ue){var Be=Ue.className,_t=Ue.index,vt=Ue.children,ht=Ue.colSpan,zt=ht===void 0?1:ht,Yt=Ue.rowSpan,nn=Ue.align,yn=A.useContext(qt),Rn=yn.prefixCls,ei=yn.direction,$n=A.useContext(Fn),Kn=$n.scrollColumnIndex,ui=$n.stickyOffsets,Mi=$n.flattenColumns,Ri=_t+zt-1,Ti=Ri+1===Kn?zt+1:zt,Xi=En(_t,_t+Ti-1,Mi,ui,ei);return A.createElement(Ft,Object(C.a)({className:Be,index:_t,component:"td",prefixCls:Rn,record:null,dataIndex:null,align:nn,colSpan:Ti,rowSpan:Yt,render:function(){return vt}},Xi))}var Nt=["children"];function Gt(Ue){var Be=Ue.children,_t=Object(I.a)(Ue,Nt);return A.createElement("tr",_t,Be)}function Et(Ue){var Be=Ue.children;return Be}Et.Row=Gt,Et.Cell=jn;var Rt=Et;function dn(Ue){var Be=Ue.children,_t=Ue.stickyOffsets,vt=Ue.flattenColumns,ht=A.useContext(qt),zt=ht.prefixCls,Yt=vt.length-1,nn=vt[Yt],yn=A.useMemo(function(){return{stickyOffsets:_t,flattenColumns:vt,scrollColumnIndex:(nn==null?void 0:nn.scrollbar)?Yt:null}},[nn,vt,Yt,_t]);return A.createElement(Fn.Provider,{value:yn},A.createElement("tfoot",{className:"".concat(zt,"-summary")},Be))}var et=dn,Ze=Rt;function on(Ue){var Be,_t=Ue.prefixCls,vt=Ue.record,ht=Ue.onExpand,zt=Ue.expanded,Yt=Ue.expandable,nn="".concat(_t,"-row-expand-icon");if(!Yt)return A.createElement("span",{className:S()(nn,"".concat(_t,"-row-spaced"))});var yn=function(ei){ht(vt,ei),ei.stopPropagation()};return A.createElement("span",{className:S()(nn,(Be={},Object(j.a)(Be,"".concat(_t,"-row-expanded"),zt),Object(j.a)(Be,"".concat(_t,"-row-collapsed"),!zt),Be)),onClick:yn})}function tn(Ue,Be,_t){var vt=[];function ht(zt){(zt||[]).forEach(function(Yt,nn){vt.push(Be(Yt,nn)),ht(Yt[_t])})}return ht(Ue),vt}var Dt=a("zT1h"),pn=a("y0+3"),ti=function(Be,_t){var vt,ht,zt=Be.scrollBodyRef,Yt=Be.onScroll,nn=Be.offsetScroll,yn=Be.container,Rn=A.useContext(qt),ei=Rn.prefixCls,$n=((vt=zt.current)===null||vt===void 0?void 0:vt.scrollWidth)||0,Kn=((ht=zt.current)===null||ht===void 0?void 0:ht.clientWidth)||0,ui=$n&&Kn*(Kn/$n),Mi=A.useRef(),Ri=Qi({scrollLeft:0,isHiddenScrollBar:!1}),Ti=Object(re.a)(Ri,2),Xi=Ti[0],Ji=Ti[1],Or=A.useRef({delta:0,x:0}),kr=A.useState(!1),Pr=Object(re.a)(kr,2),vr=Pr[0],Ir=Pr[1],tr=function(){Ir(!1)},Ui=function(lr){lr.persist(),Or.current.delta=lr.pageX-Xi.scrollLeft,Or.current.x=0,Ir(!0),lr.preventDefault()},$i=function(lr){var ar,Rr=lr||((ar=window)===null||ar===void 0?void 0:ar.event),zr=Rr.buttons;if(!vr||zr===0){vr&&Ir(!1);return}var Vr=Or.current.x+lr.pageX-Or.current.x-Or.current.delta;Vr<=0&&(Vr=0),Vr+ui>=Kn&&(Vr=Kn-ui),Yt({scrollLeft:Vr/Kn*($n+2)}),Or.current.x=lr.pageX},sr=function(){if(!!zt.current){var lr=Object(pn.b)(zt.current).top,ar=lr+zt.current.offsetHeight,Rr=yn===window?document.documentElement.scrollTop+window.innerHeight:Object(pn.b)(yn).top+yn.clientHeight;ar-Object(w.a)()<=Rr||lr>=Rr-nn?Ji(function(zr){return Object(T.a)(Object(T.a)({},zr),{},{isHiddenScrollBar:!0})}):Ji(function(zr){return Object(T.a)(Object(T.a)({},zr),{},{isHiddenScrollBar:!1})})}},Dr=function(lr){Ji(function(ar){return Object(T.a)(Object(T.a)({},ar),{},{scrollLeft:lr/$n*Kn||0})})};return A.useImperativeHandle(_t,function(){return{setScrollLeft:Dr}}),A.useEffect(function(){var wr=Object(Dt.a)(document.body,"mouseup",tr,!1),lr=Object(Dt.a)(document.body,"mousemove",$i,!1);return sr(),function(){wr.remove(),lr.remove()}},[ui,vr]),A.useEffect(function(){var wr=Object(Dt.a)(yn,"scroll",sr,!1),lr=Object(Dt.a)(window,"resize",sr,!1);return function(){wr.remove(),lr.remove()}},[yn]),A.useEffect(function(){Xi.isHiddenScrollBar||Ji(function(wr){var lr=zt.current;return lr?Object(T.a)(Object(T.a)({},wr),{},{scrollLeft:lr.scrollLeft/lr.scrollWidth*lr.clientWidth}):wr})},[Xi.isHiddenScrollBar]),$n<=Kn||!ui||Xi.isHiddenScrollBar?null:A.createElement("div",{style:{height:Object(w.a)(),width:Kn,bottom:nn},className:"".concat(ei,"-sticky-scroll")},A.createElement("div",{onMouseDown:Ui,ref:Mi,className:S()("".concat(ei,"-sticky-scroll-bar"),Object(j.a)({},"".concat(ei,"-sticky-scroll-bar-active"),vr)),style:{width:"".concat(ui,"px"),transform:"translate3d(".concat(Xi.scrollLeft,"px, 0, 0)")}}))},kn=A.forwardRef(ti),Vt=a("MNnm"),Oi=Object(Vt.a)()?window:null;function Yi(Ue,Be){var _t=Object(ve.a)(Ue)==="object"?Ue:{},vt=_t.offsetHeader,ht=vt===void 0?0:vt,zt=_t.offsetSummary,Yt=zt===void 0?0:zt,nn=_t.offsetScroll,yn=nn===void 0?0:nn,Rn=_t.getContainer,ei=Rn===void 0?function(){return Oi}:Rn,$n=ei()||Oi;return A.useMemo(function(){var Kn=!!Ue;return{isSticky:Kn,stickyClassName:Kn?"".concat(Be,"-sticky-holder"):"",offsetHeader:ht,offsetSummary:Yt,offsetScroll:yn,container:$n}},[yn,ht,Yt,Be,$n])}var Hi=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function qi(Ue,Be){return Object(A.useMemo)(function(){for(var _t=[],vt=0;vt<Be;vt+=1){var ht=Ue[vt];if(ht!==void 0)_t[vt]=ht;else return null}return _t},[Ue.join("_"),Be])}var Qr=A.forwardRef(function(Ue,Be){var _t=Ue.className,vt=Ue.noData,ht=Ue.columns,zt=Ue.flattenColumns,Yt=Ue.colWidths,nn=Ue.columCount,yn=Ue.stickyOffsets,Rn=Ue.direction,ei=Ue.fixHeader,$n=Ue.stickyTopOffset,Kn=Ue.stickyBottomOffset,ui=Ue.stickyClassName,Mi=Ue.onScroll,Ri=Ue.maxContentScroll,Ti=Ue.children,Xi=Object(I.a)(Ue,Hi),Ji=A.useContext(qt),Or=Ji.prefixCls,kr=Ji.scrollbarSize,Pr=Ji.isSticky,vr=Pr&&!ei?0:kr,Ir=A.useRef(null),tr=A.useCallback(function(Rr){Object(we.b)(Be,Rr),Object(we.b)(Ir,Rr)},[]);A.useEffect(function(){var Rr;function zr(Vr){var la=Vr.currentTarget,Ta=Vr.deltaX;Ta&&(Mi({currentTarget:la,scrollLeft:la.scrollLeft+Ta}),Vr.preventDefault())}return(Rr=Ir.current)===null||Rr===void 0||Rr.addEventListener("wheel",zr),function(){var Vr;(Vr=Ir.current)===null||Vr===void 0||Vr.removeEventListener("wheel",zr)}},[]);var Ui=A.useMemo(function(){return zt.every(function(Rr){return Rr.width>=0})},[zt]),$i=zt[zt.length-1],sr={fixed:$i?$i.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(Or,"-cell-scrollbar")}}},Dr=Object(A.useMemo)(function(){return vr?[].concat(Object(z.a)(ht),[sr]):ht},[vr,ht]),wr=Object(A.useMemo)(function(){return vr?[].concat(Object(z.a)(zt),[sr]):zt},[vr,zt]),lr=Object(A.useMemo)(function(){var Rr=yn.right,zr=yn.left;return Object(T.a)(Object(T.a)({},yn),{},{left:Rn==="rtl"?[].concat(Object(z.a)(zr.map(function(Vr){return Vr+vr})),[0]):zr,right:Rn==="rtl"?Rr:[].concat(Object(z.a)(Rr.map(function(Vr){return Vr+vr})),[0]),isSticky:Pr})},[vr,yn,Pr]),ar=qi(Yt,nn);return A.createElement("div",{style:Object(T.a)({overflow:"hidden"},Pr?{top:$n,bottom:Kn}:{}),ref:tr,className:S()(_t,Object(j.a)({},ui,!!ui))},A.createElement("table",{style:{tableLayout:"fixed",visibility:vt||ar?null:"hidden"}},(!vt||!Ri||Ui)&&A.createElement(Qe,{colWidths:ar?[].concat(Object(z.a)(ar),[vr]):[],columCount:nn+1,columns:wr}),Ti(Object(T.a)(Object(T.a)({},Xi),{},{stickyOffsets:lr,columns:Dr,flattenColumns:wr}))))});Qr.displayName="FixedHolder";var Mr=Qr,na=[],Br={},ha="rc-table-internal-hook",vn=A.memo(function(Ue){var Be=Ue.children;return Be},function(Ue,Be){return ge()(Ue.props,Be.props)?Ue.pingLeft!==Be.pingLeft||Ue.pingRight!==Be.pingRight:!1});function Ln(Ue){var Be,_t=Ue.prefixCls,vt=Ue.className,ht=Ue.rowClassName,zt=Ue.style,Yt=Ue.data,nn=Ue.rowKey,yn=Ue.scroll,Rn=Ue.tableLayout,ei=Ue.direction,$n=Ue.title,Kn=Ue.footer,ui=Ue.summary,Mi=Ue.id,Ri=Ue.showHeader,Ti=Ue.components,Xi=Ue.emptyText,Ji=Ue.onRow,Or=Ue.onHeaderRow,kr=Ue.internalHooks,Pr=Ue.transformColumns,vr=Ue.internalRefs,Ir=Ue.sticky,tr=Yt||na,Ui=!!tr.length,$i=A.useCallback(function(Fa,Eo){return Pe(Ti||{},Fa)||Eo},[Ti]),sr=A.useMemo(function(){return typeof nn=="function"?nn:function(Fa){var Eo=Fa&&Fa[nn];return Eo}},[nn]),Dr=rn(Ue),wr=Dr.expandIcon,lr=Dr.expandedRowKeys,ar=Dr.defaultExpandedRowKeys,Rr=Dr.defaultExpandAllRows,zr=Dr.expandedRowRender,Vr=Dr.columnTitle,la=Dr.onExpand,Ta=Dr.onExpandedRowsChange,ga=Dr.expandRowByClick,ma=Dr.rowExpandable,Sa=Dr.expandIconColumnIndex,se=Dr.expandedRowClassName,ae=Dr.childrenColumnName,b=Dr.indentSize,_=wr||on,p=ae||"children",P=A.useMemo(function(){return zr?"row":Ue.expandable&&kr===ha&&Ue.expandable.__PARENT_RENDER_ICON__||tr.some(function(Fa){return Fa&&Object(ve.a)(Fa)==="object"&&Fa[p]})?"nest":!1},[!!zr,tr]),X=A.useState(function(){return ar||(Rr?tn(tr,sr,p):[])}),Se=Object(re.a)(X,2),Ae=Se[0],qe=Se[1],rt=A.useMemo(function(){return new Set(lr||Ae||[])},[lr,Ae]),ct=A.useCallback(function(Fa){var Eo=sr(Fa,tr.indexOf(Fa)),js,Cl=rt.has(Eo);Cl?(rt.delete(Eo),js=Object(z.a)(rt)):js=[].concat(Object(z.a)(rt),[Eo]),qe(js),la&&la(!Cl,Fa),Ta&&Ta(js)},[sr,rt,tr,la,Ta]),Xt=A.useState(0),cn=Object(re.a)(Xt,2),Mn=cn[0],gi=cn[1],Zn=xi(Object(T.a)(Object(T.a)(Object(T.a)({},Ue),Dr),{},{expandable:!!zr,columnTitle:Vr,expandedKeys:rt,getRowKey:sr,onTriggerExpand:ct,expandIcon:_,expandIconColumnIndex:Sa,direction:ei}),kr===ha?Pr:null),di=Object(re.a)(Zn,2),Un=di[0],qn=di[1],ur=A.useMemo(function(){return{columns:Un,flattenColumns:qn}},[Un,qn]),_r=A.useRef(),cr=A.useRef(),Zr=A.useRef(),Kr=A.useRef(),Jr=A.useRef(),pa=A.useState(!1),Ma=Object(re.a)(pa,2),Vo=Ma[0],vs=Ma[1],Xa=A.useState(!1),Ea=Object(re.a)(Xa,2),wa=Ea[0],qr=Ea[1],Ua=Qi(new Map),to=Object(re.a)(Ua,2),ls=to[0],xo=to[1],Qo=Ne(qn),Ho=Qo.map(function(Fa){return ls.get(Fa)}),xl=A.useMemo(function(){return Ho},[Ho.join("_")]),za=St(xl,qn.length,ei),Pa=yn&&Ke(yn.y),ko=yn&&Ke(yn.x)||Boolean(Dr.fixed),co=ko&&qn.some(function(Fa){var Eo=Fa.fixed;return Eo}),as=A.useRef(),jo=Yi(Ir,_t),Xr=jo.isSticky,ba=jo.offsetHeader,Ga=jo.offsetSummary,$a=jo.offsetScroll,gs=jo.stickyClassName,Os=jo.container,Uo=ui==null?void 0:ui(tr),_l=(Pa||Xr)&&A.isValidElement(Uo)&&Uo.type===Rt&&Uo.props.fixed,eu,Hs,Wu;Pa&&(Hs={overflowY:"scroll",maxHeight:yn.y}),ko&&(eu={overflowX:"auto"},Pa||(Hs={overflowY:"hidden"}),Wu={width:(yn==null?void 0:yn.x)===!0?"auto":yn==null?void 0:yn.x,minWidth:"100%"});var ku=A.useCallback(function(Fa,Eo){Object(be.a)(_r.current)&&xo(function(js){if(js.get(Fa)!==Eo){var Cl=new Map(js);return Cl.set(Fa,Eo),Cl}return js})},[]),Pc=mr(null),Du=Object(re.a)(Pc,2),Md=Du[0],ho=Du[1];function qa(Fa,Eo){!Eo||(typeof Eo=="function"?Eo(Fa):Eo.scrollLeft!==Fa&&(Eo.scrollLeft=Fa))}var qo=function(Eo){var js=Eo.currentTarget,Cl=Eo.scrollLeft,Dg=ei==="rtl",Ac=typeof Cl=="number"?Cl:js.scrollLeft,lc=js||Br;if(!ho()||ho()===lc){var wv;Md(lc),qa(Ac,cr.current),qa(Ac,Zr.current),qa(Ac,Jr.current),qa(Ac,(wv=as.current)===null||wv===void 0?void 0:wv.setScrollLeft)}if(js){var jv=js.scrollWidth,Ad=js.clientWidth;if(jv===Ad){vs(!1),qr(!1);return}Dg?(vs(-Ac<jv-Ad),qr(-Ac>0)):(vs(Ac>0),qr(Ac<jv-Ad))}},tu=function(){ko&&Zr.current?qo({currentTarget:Zr.current}):(vs(!1),qr(!1))},Yo=function(Eo){var js=Eo.width;js!==Mn&&(tu(),gi(_r.current?_r.current.offsetWidth:js))},Td=A.useRef(!1);A.useEffect(function(){Td.current&&tu()},[ko,Yt,Un.length]),A.useEffect(function(){Td.current=!0},[]);var Ts=A.useState(0),Id=Object(re.a)(Ts,2),jh=Id[0],yv=Id[1],_v=A.useState(!0),Sg=Object(re.a)(_v,2),Cf=Sg[0],Rm=Sg[1];A.useEffect(function(){Zr.current instanceof Element?yv(Object(w.b)(Zr.current).width):yv(Object(w.b)(Kr.current).width),Rm(Object(ke.a)("position","sticky"))},[]),A.useEffect(function(){kr===ha&&vr&&(vr.body.current=Zr.current)});var Of=$i(["table"],"table"),Sf=A.useMemo(function(){return Rn||(co?(yn==null?void 0:yn.x)==="max-content"?"auto":"fixed":Pa||Xr||qn.some(function(Fa){var Eo=Fa.ellipsis;return Eo})?"fixed":"auto")},[Pa,co,qn,Rn,Xr]),Cv,Ov={colWidths:xl,columCount:qn.length,stickyOffsets:za,onHeaderRow:Or,fixHeader:Pa,scroll:yn},kf=A.useMemo(function(){return Ui?null:typeof Xi=="function"?Xi():Xi},[Ui,Xi]),Sv=A.createElement(en,{data:tr,measureColumnWidth:Pa||ko||Xr,expandedKeys:rt,rowExpandable:ma,getRowKey:sr,onRow:Ji,emptyNode:kf,childrenColumnName:p}),sc=A.createElement(Qe,{colWidths:qn.map(function(Fa){var Eo=Fa.width;return Eo}),columns:qn}),Eh=$i(["body"]);if(Pa||Xr){var Pd;typeof Eh=="function"?(Pd=Eh(tr,{scrollbarSize:jh,ref:Zr,onScroll:qo}),Ov.colWidths=qn.map(function(Fa,Eo){var js=Fa.width,Cl=Eo===Un.length-1?js-jh:js;return typeof Cl=="number"&&!Number.isNaN(Cl)?Cl:(Object(ce.a)(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):Pd=A.createElement("div",{style:Object(T.a)(Object(T.a)({},eu),Hs),onScroll:qo,ref:Zr,className:S()("".concat(_t,"-body"))},A.createElement(Of,{style:Object(T.a)(Object(T.a)({},Wu),{},{tableLayout:Sf})},sc,Sv,!_l&&Uo&&A.createElement(et,{stickyOffsets:za,flattenColumns:qn},Uo)));var Df=Object(T.a)(Object(T.a)(Object(T.a)({noData:!tr.length,maxContentScroll:ko&&yn.x==="max-content"},Ov),ur),{},{direction:ei,stickyClassName:gs,onScroll:qo});Cv=A.createElement(A.Fragment,null,Ri!==!1&&A.createElement(Mr,Object(C.a)({},Df,{stickyTopOffset:ba,className:"".concat(_t,"-header"),ref:cr}),function(Fa){return A.createElement(A.Fragment,null,A.createElement(ci,Fa),_l==="top"&&A.createElement(et,Fa,Uo))}),Pd,_l&&_l!=="top"&&A.createElement(Mr,Object(C.a)({},Df,{stickyBottomOffset:Ga,className:"".concat(_t,"-summary"),ref:Jr}),function(Fa){return A.createElement(et,Fa,Uo)}),Xr&&A.createElement(kn,{ref:as,offsetScroll:$a,scrollBodyRef:Zr,onScroll:qo,container:Os}))}else Cv=A.createElement("div",{style:Object(T.a)(Object(T.a)({},eu),Hs),className:S()("".concat(_t,"-content")),onScroll:qo,ref:Zr},A.createElement(Of,{style:Object(T.a)(Object(T.a)({},Wu),{},{tableLayout:Sf})},sc,Ri!==!1&&A.createElement(ci,Object(C.a)({},Ov,ur)),Sv,Uo&&A.createElement(et,{stickyOffsets:za,flattenColumns:qn},Uo)));var Nm=Object(de.a)(Ue,{aria:!0,data:!0}),kv=A.createElement("div",Object(C.a)({className:S()(_t,vt,(Be={},Object(j.a)(Be,"".concat(_t,"-rtl"),ei==="rtl"),Object(j.a)(Be,"".concat(_t,"-ping-left"),Vo),Object(j.a)(Be,"".concat(_t,"-ping-right"),wa),Object(j.a)(Be,"".concat(_t,"-layout-fixed"),Rn==="fixed"),Object(j.a)(Be,"".concat(_t,"-fixed-header"),Pa),Object(j.a)(Be,"".concat(_t,"-fixed-column"),co),Object(j.a)(Be,"".concat(_t,"-scroll-horizontal"),ko),Object(j.a)(Be,"".concat(_t,"-has-fix-left"),qn[0]&&qn[0].fixed),Object(j.a)(Be,"".concat(_t,"-has-fix-right"),qn[qn.length-1]&&qn[qn.length-1].fixed==="right"),Be)),style:zt,id:Mi,ref:_r},Nm),A.createElement(vn,{pingLeft:Vo,pingRight:wa,props:Object(T.a)(Object(T.a)({},Ue),{},{stickyOffsets:za,mergedExpandedKeys:rt})},$n&&A.createElement(ii,{className:"".concat(_t,"-title")},$n(tr)),A.createElement("div",{ref:Kr,className:"".concat(_t,"-container")},Cv),Kn&&A.createElement(ii,{className:"".concat(_t,"-footer")},Kn(tr))));ko&&(kv=A.createElement(k.a,{onResize:Yo},kv));var kg=A.useMemo(function(){return{prefixCls:_t,getComponent:$i,scrollbarSize:jh,direction:ei,fixedInfoList:qn.map(function(Fa,Eo){return En(Eo,Eo,qn,za,ei)}),isSticky:Xr}},[_t,$i,jh,ei,qn,za,Xr]),xm=A.useMemo(function(){return Object(T.a)(Object(T.a)({},ur),{},{tableLayout:Sf,rowClassName:ht,expandedRowClassName:se,expandIcon:_,expandableType:P,expandRowByClick:ga,expandedRowRender:zr,onTriggerExpand:ct,expandIconColumnIndex:Sa,indentSize:b,allColumnsFixedLeft:ur.flattenColumns.every(function(Fa){return Fa.fixed==="left"})})},[ur,Sf,ht,se,_,P,ga,zr,ct,Sa,b]),Fm=A.useMemo(function(){return{componentWidth:Mn,fixHeader:Pa,fixColumn:co,horizonScroll:ko}},[Mn,Pa,co,ko]),Dv=A.useMemo(function(){return{onColumnResize:ku}},[ku]);return A.createElement(wt.Provider,{value:Cf},A.createElement(qt.Provider,{value:kg},A.createElement(fe.Provider,{value:xm},A.createElement(An.Provider,{value:Fm},A.createElement(Pi.Provider,{value:Dv},kv)))))}Ln.EXPAND_COLUMN=bn,Ln.Column=me,Ln.ColumnGroup=Y,Ln.Summary=Ze,Ln.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var ut=Ln,Tt=ut,Pt=a("bT9E"),Zt=a("H84U"),Ut=a("XI05"),Nn=a("3Nzz"),In=a("5OYt"),Wn=a("D7Yy"),oi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},bi=oi,_n=a("6VBw"),li=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:bi}))};li.displayName="DoubleLeftOutlined";var ki=A.forwardRef(li),Ki={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},Tr=Ki,ir=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:Tr}))};ir.displayName="DoubleRightOutlined";var Er=A.forwardRef(ir),va=a("5bA4"),Sn=a("UESt"),ri=a("1OyB"),Vn=a("vuIU"),Ai=a("Ji7U"),or=a("LK+K"),Zi=function(Be){var _t,vt="".concat(Be.rootPrefixCls,"-item"),ht=S()(vt,"".concat(vt,"-").concat(Be.page),(_t={},Object(j.a)(_t,"".concat(vt,"-active"),Be.active),Object(j.a)(_t,"".concat(vt,"-disabled"),!Be.page),Object(j.a)(_t,Be.className,!!Be.className),_t)),zt=function(){Be.onClick(Be.page)},Yt=function(yn){Be.onKeyPress(yn,Be.onClick,Be.page)};return ue.a.createElement("li",{title:Be.showTitle?Be.page:null,className:ht,onClick:zt,onKeyPress:Yt,tabIndex:"0"},Be.itemRender(Be.page,"page",ue.a.createElement("a",{rel:"nofollow"},Be.page)))},zi=Zi,Wr={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},Ra=function(Ue){Object(Ai.a)(_t,Ue);var Be=Object(or.a)(_t);function _t(){var vt;Object(ri.a)(this,_t);for(var ht=arguments.length,zt=new Array(ht),Yt=0;Yt<ht;Yt++)zt[Yt]=arguments[Yt];return vt=Be.call.apply(Be,[this].concat(zt)),vt.state={goInputText:""},vt.buildOptionText=function(nn){return"".concat(nn," ").concat(vt.props.locale.items_per_page)},vt.changeSize=function(nn){vt.props.changeSize(Number(nn))},vt.handleChange=function(nn){vt.setState({goInputText:nn.target.value})},vt.handleBlur=function(nn){var yn=vt.props,Rn=yn.goButton,ei=yn.quickGo,$n=yn.rootPrefixCls,Kn=vt.state.goInputText;Rn||Kn===""||(vt.setState({goInputText:""}),!(nn.relatedTarget&&(nn.relatedTarget.className.indexOf("".concat($n,"-item-link"))>=0||nn.relatedTarget.className.indexOf("".concat($n,"-item"))>=0))&&ei(vt.getValidValue()))},vt.go=function(nn){var yn=vt.state.goInputText;yn!==""&&(nn.keyCode===Wr.ENTER||nn.type==="click")&&(vt.setState({goInputText:""}),vt.props.quickGo(vt.getValidValue()))},vt}return Object(Vn.a)(_t,[{key:"getValidValue",value:function(){var ht=this.state.goInputText;return!ht||isNaN(ht)?void 0:Number(ht)}},{key:"getPageSizeOptions",value:function(){var ht=this.props,zt=ht.pageSize,Yt=ht.pageSizeOptions;return Yt.some(function(nn){return nn.toString()===zt.toString()})?Yt:Yt.concat([zt.toString()]).sort(function(nn,yn){var Rn=isNaN(Number(nn))?0:Number(nn),ei=isNaN(Number(yn))?0:Number(yn);return Rn-ei})}},{key:"render",value:function(){var ht=this,zt=this.props,Yt=zt.pageSize,nn=zt.locale,yn=zt.rootPrefixCls,Rn=zt.changeSize,ei=zt.quickGo,$n=zt.goButton,Kn=zt.selectComponentClass,ui=zt.buildOptionText,Mi=zt.selectPrefixCls,Ri=zt.disabled,Ti=this.state.goInputText,Xi="".concat(yn,"-options"),Ji=Kn,Or=null,kr=null,Pr=null;if(!Rn&&!ei)return null;var vr=this.getPageSizeOptions();if(Rn&&Ji){var Ir=vr.map(function(tr,Ui){return ue.a.createElement(Ji.Option,{key:Ui,value:tr.toString()},(ui||ht.buildOptionText)(tr))});Or=ue.a.createElement(Ji,{disabled:Ri,prefixCls:Mi,showSearch:!1,className:"".concat(Xi,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(Yt||vr[0]).toString(),onChange:this.changeSize,getPopupContainer:function(Ui){return Ui.parentNode},"aria-label":nn.page_size,defaultOpen:!1},Ir)}return ei&&($n&&(Pr=typeof $n=="boolean"?ue.a.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:Ri,className:"".concat(Xi,"-quick-jumper-button")},nn.jump_to_confirm):ue.a.createElement("span",{onClick:this.go,onKeyUp:this.go},$n)),kr=ue.a.createElement("div",{className:"".concat(Xi,"-quick-jumper")},nn.jump_to,ue.a.createElement("input",{disabled:Ri,type:"text",value:Ti,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":nn.page}),nn.page,Pr)),ue.a.createElement("li",{className:"".concat(Xi)},Or,kr)}}]),_t}(ue.a.Component);Ra.defaultProps={pageSizeOptions:["10","20","50","100"]};var Nr=Ra,xa=a("N2Kk");function Qa(){}function ia(Ue){var Be=Number(Ue);return typeof Be=="number"&&!isNaN(Be)&&isFinite(Be)&&Math.floor(Be)===Be}function io(Ue,Be,_t){return _t}function ro(Ue,Be,_t){var vt=typeof Ue=="undefined"?Be.pageSize:Ue;return Math.floor((_t.total-1)/vt)+1}var vo=function(Ue){Object(Ai.a)(_t,Ue);var Be=Object(or.a)(_t);function _t(vt){var ht;Object(ri.a)(this,_t),ht=Be.call(this,vt),ht.getJumpPrevPage=function(){return Math.max(1,ht.state.current-(ht.props.showLessItems?3:5))},ht.getJumpNextPage=function(){return Math.min(ro(void 0,ht.state,ht.props),ht.state.current+(ht.props.showLessItems?3:5))},ht.getItemIcon=function(Rn,ei){var $n=ht.props.prefixCls,Kn=Rn||ue.a.createElement("button",{type:"button","aria-label":ei,className:"".concat($n,"-item-link")});return typeof Rn=="function"&&(Kn=ue.a.createElement(Rn,Object(T.a)({},ht.props))),Kn},ht.savePaginationNode=function(Rn){ht.paginationNode=Rn},ht.isValid=function(Rn){var ei=ht.props.total;return ia(Rn)&&Rn!==ht.state.current&&ia(ei)&&ei>0},ht.shouldDisplayQuickJumper=function(){var Rn=ht.props,ei=Rn.showQuickJumper,$n=Rn.total,Kn=ht.state.pageSize;return $n<=Kn?!1:ei},ht.handleKeyDown=function(Rn){(Rn.keyCode===Wr.ARROW_UP||Rn.keyCode===Wr.ARROW_DOWN)&&Rn.preventDefault()},ht.handleKeyUp=function(Rn){var ei=ht.getValidValue(Rn),$n=ht.state.currentInputValue;ei!==$n&&ht.setState({currentInputValue:ei}),Rn.keyCode===Wr.ENTER?ht.handleChange(ei):Rn.keyCode===Wr.ARROW_UP?ht.handleChange(ei-1):Rn.keyCode===Wr.ARROW_DOWN&&ht.handleChange(ei+1)},ht.handleBlur=function(Rn){var ei=ht.getValidValue(Rn);ht.handleChange(ei)},ht.changePageSize=function(Rn){var ei=ht.state.current,$n=ro(Rn,ht.state,ht.props);ei=ei>$n?$n:ei,$n===0&&(ei=ht.state.current),typeof Rn=="number"&&("pageSize"in ht.props||ht.setState({pageSize:Rn}),"current"in ht.props||ht.setState({current:ei,currentInputValue:ei})),ht.props.onShowSizeChange(ei,Rn),"onChange"in ht.props&&ht.props.onChange&&ht.props.onChange(ei,Rn)},ht.handleChange=function(Rn){var ei=ht.props,$n=ei.disabled,Kn=ei.onChange,ui=ht.state,Mi=ui.pageSize,Ri=ui.current,Ti=ui.currentInputValue;if(ht.isValid(Rn)&&!$n){var Xi=ro(void 0,ht.state,ht.props),Ji=Rn;return Rn>Xi?Ji=Xi:Rn<1&&(Ji=1),"current"in ht.props||ht.setState({current:Ji}),Ji!==Ti&&ht.setState({currentInputValue:Ji}),Kn(Ji,Mi),Ji}return Ri},ht.prev=function(){ht.hasPrev()&&ht.handleChange(ht.state.current-1)},ht.next=function(){ht.hasNext()&&ht.handleChange(ht.state.current+1)},ht.jumpPrev=function(){ht.handleChange(ht.getJumpPrevPage())},ht.jumpNext=function(){ht.handleChange(ht.getJumpNextPage())},ht.hasPrev=function(){return ht.state.current>1},ht.hasNext=function(){return ht.state.current<ro(void 0,ht.state,ht.props)},ht.runIfEnter=function(Rn,ei){if(Rn.key==="Enter"||Rn.charCode===13){for(var $n=arguments.length,Kn=new Array($n>2?$n-2:0),ui=2;ui<$n;ui++)Kn[ui-2]=arguments[ui];ei.apply(void 0,Kn)}},ht.runIfEnterPrev=function(Rn){ht.runIfEnter(Rn,ht.prev)},ht.runIfEnterNext=function(Rn){ht.runIfEnter(Rn,ht.next)},ht.runIfEnterJumpPrev=function(Rn){ht.runIfEnter(Rn,ht.jumpPrev)},ht.runIfEnterJumpNext=function(Rn){ht.runIfEnter(Rn,ht.jumpNext)},ht.handleGoTO=function(Rn){(Rn.keyCode===Wr.ENTER||Rn.type==="click")&&ht.handleChange(ht.state.currentInputValue)};var zt=vt.onChange!==Qa,Yt="current"in vt;Yt&&!zt&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var nn=vt.defaultCurrent;"current"in vt&&(nn=vt.current);var yn=vt.defaultPageSize;return"pageSize"in vt&&(yn=vt.pageSize),nn=Math.min(nn,ro(yn,void 0,vt)),ht.state={current:nn,currentInputValue:nn,pageSize:yn},ht}return Object(Vn.a)(_t,[{key:"componentDidUpdate",value:function(ht,zt){var Yt=this.props.prefixCls;if(zt.current!==this.state.current&&this.paginationNode){var nn=this.paginationNode.querySelector(".".concat(Yt,"-item-").concat(zt.current));nn&&document.activeElement===nn&&nn.blur()}}},{key:"getValidValue",value:function(ht){var zt=ht.target.value,Yt=ro(void 0,this.state,this.props),nn=this.state.currentInputValue,yn;return zt===""?yn=zt:isNaN(Number(zt))?yn=nn:zt>=Yt?yn=Yt:yn=Number(zt),yn}},{key:"getShowSizeChanger",value:function(){var ht=this.props,zt=ht.showSizeChanger,Yt=ht.total,nn=ht.totalBoundaryShowSizeChanger;return typeof zt!="undefined"?zt:Yt>nn}},{key:"renderPrev",value:function(ht){var zt=this.props,Yt=zt.prevIcon,nn=zt.itemRender,yn=nn(ht,"prev",this.getItemIcon(Yt,"prev page")),Rn=!this.hasPrev();return Object(A.isValidElement)(yn)?Object(A.cloneElement)(yn,{disabled:Rn}):yn}},{key:"renderNext",value:function(ht){var zt=this.props,Yt=zt.nextIcon,nn=zt.itemRender,yn=nn(ht,"next",this.getItemIcon(Yt,"next page")),Rn=!this.hasNext();return Object(A.isValidElement)(yn)?Object(A.cloneElement)(yn,{disabled:Rn}):yn}},{key:"render",value:function(){var ht=this,zt=this.props,Yt=zt.prefixCls,nn=zt.className,yn=zt.style,Rn=zt.disabled,ei=zt.hideOnSinglePage,$n=zt.total,Kn=zt.locale,ui=zt.showQuickJumper,Mi=zt.showLessItems,Ri=zt.showTitle,Ti=zt.showTotal,Xi=zt.simple,Ji=zt.itemRender,Or=zt.showPrevNextJumpers,kr=zt.jumpPrevIcon,Pr=zt.jumpNextIcon,vr=zt.selectComponentClass,Ir=zt.selectPrefixCls,tr=zt.pageSizeOptions,Ui=this.state,$i=Ui.current,sr=Ui.pageSize,Dr=Ui.currentInputValue;if(ei===!0&&$n<=sr)return null;var wr=ro(void 0,this.state,this.props),lr=[],ar=null,Rr=null,zr=null,Vr=null,la=null,Ta=ui&&ui.goButton,ga=Mi?1:2,ma=$i-1>0?$i-1:0,Sa=$i+1<wr?$i+1:wr,se=Object.keys(this.props).reduce(function(cn,Mn){return(Mn.substr(0,5)==="data-"||Mn.substr(0,5)==="aria-"||Mn==="role")&&(cn[Mn]=ht.props[Mn]),cn},{}),ae=Ti&&ue.a.createElement("li",{className:"".concat(Yt,"-total-text")},Ti($n,[$n===0?0:($i-1)*sr+1,$i*sr>$n?$n:$i*sr]));if(Xi)return Ta&&(typeof Ta=="boolean"?la=ue.a.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Kn.jump_to_confirm):la=ue.a.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Ta),la=ue.a.createElement("li",{title:Ri?"".concat(Kn.jump_to).concat($i,"/").concat(wr):null,className:"".concat(Yt,"-simple-pager")},la)),ue.a.createElement("ul",Object(C.a)({className:S()(Yt,"".concat(Yt,"-simple"),Object(j.a)({},"".concat(Yt,"-disabled"),Rn),nn),style:yn,ref:this.savePaginationNode},se),ae,ue.a.createElement("li",{title:Ri?Kn.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:S()("".concat(Yt,"-prev"),Object(j.a)({},"".concat(Yt,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(ma)),ue.a.createElement("li",{title:Ri?"".concat($i,"/").concat(wr):null,className:"".concat(Yt,"-simple-pager")},ue.a.createElement("input",{type:"text",value:Dr,disabled:Rn,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),ue.a.createElement("span",{className:"".concat(Yt,"-slash")},"/"),wr),ue.a.createElement("li",{title:Ri?Kn.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:S()("".concat(Yt,"-next"),Object(j.a)({},"".concat(Yt,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(Sa)),la);if(wr<=3+ga*2){var b={locale:Kn,rootPrefixCls:Yt,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:Ri,itemRender:Ji};wr||lr.push(ue.a.createElement(zi,Object(C.a)({},b,{key:"noPager",page:1,className:"".concat(Yt,"-item-disabled")})));for(var _=1;_<=wr;_+=1){var p=$i===_;lr.push(ue.a.createElement(zi,Object(C.a)({},b,{key:_,page:_,active:p})))}}else{var P=Mi?Kn.prev_3:Kn.prev_5,X=Mi?Kn.next_3:Kn.next_5;Or&&(ar=ue.a.createElement("li",{title:Ri?P:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:S()("".concat(Yt,"-jump-prev"),Object(j.a)({},"".concat(Yt,"-jump-prev-custom-icon"),!!kr))},Ji(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(kr,"prev page"))),Rr=ue.a.createElement("li",{title:Ri?X:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:S()("".concat(Yt,"-jump-next"),Object(j.a)({},"".concat(Yt,"-jump-next-custom-icon"),!!Pr))},Ji(this.getJumpNextPage(),"jump-next",this.getItemIcon(Pr,"next page")))),Vr=ue.a.createElement(zi,{locale:Kn,last:!0,rootPrefixCls:Yt,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:wr,page:wr,active:!1,showTitle:Ri,itemRender:Ji}),zr=ue.a.createElement(zi,{locale:Kn,rootPrefixCls:Yt,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:Ri,itemRender:Ji});var Se=Math.max(1,$i-ga),Ae=Math.min($i+ga,wr);$i-1<=ga&&(Ae=1+ga*2),wr-$i<=ga&&(Se=wr-ga*2);for(var qe=Se;qe<=Ae;qe+=1){var rt=$i===qe;lr.push(ue.a.createElement(zi,{locale:Kn,rootPrefixCls:Yt,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:qe,page:qe,active:rt,showTitle:Ri,itemRender:Ji}))}$i-1>=ga*2&&$i!==1+2&&(lr[0]=Object(A.cloneElement)(lr[0],{className:"".concat(Yt,"-item-after-jump-prev")}),lr.unshift(ar)),wr-$i>=ga*2&&$i!==wr-2&&(lr[lr.length-1]=Object(A.cloneElement)(lr[lr.length-1],{className:"".concat(Yt,"-item-before-jump-next")}),lr.push(Rr)),Se!==1&&lr.unshift(zr),Ae!==wr&&lr.push(Vr)}var ct=!this.hasPrev()||!wr,Xt=!this.hasNext()||!wr;return ue.a.createElement("ul",Object(C.a)({className:S()(Yt,nn,Object(j.a)({},"".concat(Yt,"-disabled"),Rn)),style:yn,ref:this.savePaginationNode},se),ae,ue.a.createElement("li",{title:Ri?Kn.prev_page:null,onClick:this.prev,tabIndex:ct?null:0,onKeyPress:this.runIfEnterPrev,className:S()("".concat(Yt,"-prev"),Object(j.a)({},"".concat(Yt,"-disabled"),ct)),"aria-disabled":ct},this.renderPrev(ma)),lr,ue.a.createElement("li",{title:Ri?Kn.next_page:null,onClick:this.next,tabIndex:Xt?null:0,onKeyPress:this.runIfEnterNext,className:S()("".concat(Yt,"-next"),Object(j.a)({},"".concat(Yt,"-disabled"),Xt)),"aria-disabled":Xt},this.renderNext(Sa)),ue.a.createElement(Nr,{disabled:Rn,locale:Kn,rootPrefixCls:Yt,selectComponentClass:vr,selectPrefixCls:Ir,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:$i,pageSize:sr,pageSizeOptions:tr,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:Ta}))}}],[{key:"getDerivedStateFromProps",value:function(ht,zt){var Yt={};if("current"in ht&&(Yt.current=ht.current,ht.current!==zt.current&&(Yt.currentInputValue=Yt.current)),"pageSize"in ht&&ht.pageSize!==zt.pageSize){var nn=zt.current,yn=ro(ht.pageSize,zt,ht);nn=nn>yn?yn:nn,"current"in ht||(Yt.current=nn,Yt.currentInputValue=nn),Yt.pageSize=ht.pageSize}return Yt}}]),_t}(ue.a.Component);vo.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Qa,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Qa,locale:xa.a,style:{},itemRender:io,totalBoundaryShowSizeChanger:50};var Zo=vo,Hr=a("H4fg"),ao=a("YMnH"),ka=a("2fM7"),ua=function(Be){return A.createElement(ka.a,Object(C.a)({},Be,{size:"small"}))},La=function(Be){return A.createElement(ka.a,Object(C.a)({},Be,{size:"middle"}))};ua.Option=ka.a.Option,La.Option=ka.a.Option;var Mo=function(Ue,Be){var _t={};for(var vt in Ue)Object.prototype.hasOwnProperty.call(Ue,vt)&&Be.indexOf(vt)<0&&(_t[vt]=Ue[vt]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ht=0,vt=Object.getOwnPropertySymbols(Ue);ht<vt.length;ht++)Be.indexOf(vt[ht])<0&&Object.prototype.propertyIsEnumerable.call(Ue,vt[ht])&&(_t[vt[ht]]=Ue[vt[ht]]);return _t},ts=function(Be){var _t=Be.prefixCls,vt=Be.selectPrefixCls,ht=Be.className,zt=Be.size,Yt=Be.locale,nn=Be.selectComponentClass,yn=Be.responsive,Rn=Be.showSizeChanger,ei=Mo(Be,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive","showSizeChanger"]),$n=Object(In.a)(yn),Kn=$n.xs,ui=A.useContext(Zt.b),Mi=ui.getPrefixCls,Ri=ui.direction,Ti=ui.pagination,Xi=Ti===void 0?{}:Ti,Ji=Mi("pagination",_t),Or=Rn!=null?Rn:Xi.showSizeChanger,kr=function(){var vr=A.createElement("span",{className:"".concat(Ji,"-item-ellipsis")},"\u2022\u2022\u2022"),Ir=A.createElement("button",{className:"".concat(Ji,"-item-link"),type:"button",tabIndex:-1},A.createElement(va.a,null)),tr=A.createElement("button",{className:"".concat(Ji,"-item-link"),type:"button",tabIndex:-1},A.createElement(Sn.a,null)),Ui=A.createElement("a",{className:"".concat(Ji,"-item-link")},A.createElement("div",{className:"".concat(Ji,"-item-container")},A.createElement(ki,{className:"".concat(Ji,"-item-link-icon")}),vr)),$i=A.createElement("a",{className:"".concat(Ji,"-item-link")},A.createElement("div",{className:"".concat(Ji,"-item-container")},A.createElement(Er,{className:"".concat(Ji,"-item-link-icon")}),vr));if(Ri==="rtl"){var sr=[tr,Ir];Ir=sr[0],tr=sr[1];var Dr=[$i,Ui];Ui=Dr[0],$i=Dr[1]}return{prevIcon:Ir,nextIcon:tr,jumpPrevIcon:Ui,jumpNextIcon:$i}};return A.createElement(ao.a,{componentName:"Pagination",defaultLocale:Hr.a},function(Pr){var vr,Ir=Object(C.a)(Object(C.a)({},Pr),Yt),tr=zt==="small"||!!(Kn&&!zt&&yn),Ui=Mi("select",vt),$i=S()((vr={},Object(j.a)(vr,"".concat(Ji,"-mini"),tr),Object(j.a)(vr,"".concat(Ji,"-rtl"),Ri==="rtl"),vr),ht);return A.createElement(Zo,Object(C.a)({},kr(),ei,{prefixCls:Ji,selectPrefixCls:Ui,className:$i,selectComponentClass:nn||(tr?ua:La),locale:Ir,showSizeChanger:Or}))})},At=ts,nt=At,_e=a("W9HT"),q=a("wgJM");function M(Ue,Be,_t,vt){var ht=_t-Be;return Ue/=vt/2,Ue<1?ht/2*Ue*Ue*Ue+Be:ht/2*((Ue-=2)*Ue*Ue+2)+Be}function D(Ue){return Ue!=null&&Ue===Ue.window}function G(Ue,Be){var _t,vt;if(typeof window=="undefined")return 0;var ht=Be?"scrollTop":"scrollLeft",zt=0;return D(Ue)?zt=Ue[Be?"pageYOffset":"pageXOffset"]:Ue instanceof Document?zt=Ue.documentElement[ht]:(Ue instanceof HTMLElement||Ue)&&(zt=Ue[ht]),Ue&&!D(Ue)&&typeof zt!="number"&&(zt=(vt=((_t=Ue.ownerDocument)!==null&&_t!==void 0?_t:Ue).documentElement)===null||vt===void 0?void 0:vt[ht]),zt}function oe(Ue){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_t=Be.getContainer,vt=_t===void 0?function(){return window}:_t,ht=Be.callback,zt=Be.duration,Yt=zt===void 0?450:zt,nn=vt(),yn=G(nn,!0),Rn=Date.now(),ei=function $n(){var Kn=Date.now(),ui=Kn-Rn,Mi=M(ui>Yt?Yt:ui,yn,Ue,Yt);D(nn)?nn.scrollTo(window.pageXOffset,Mi):nn instanceof Document||nn.constructor.name==="HTMLDocument"?nn.documentElement.scrollTop=Mi:nn.scrollTop=Mi,ui<Yt?Object(q.a)($n):typeof ht=="function"&&ht()};Object(q.a)(ei)}function xe(Ue){return null}var Ve=xe;function lt(Ue){return null}var pt=lt;function xt(Ue){return function(_t){var vt,ht=_t.prefixCls,zt=_t.onExpand,Yt=_t.record,nn=_t.expanded,yn=_t.expandable,Rn="".concat(ht,"-row-expand-icon");return A.createElement("button",{type:"button",onClick:function($n){zt(Yt,$n),$n.stopPropagation()},className:S()(Rn,(vt={},Object(j.a)(vt,"".concat(Rn,"-spaced"),!yn),Object(j.a)(vt,"".concat(Rn,"-expanded"),yn&&nn),Object(j.a)(vt,"".concat(Rn,"-collapsed"),yn&&!nn),vt)),"aria-label":nn?Ue.collapse:Ue.expand,"aria-expanded":nn})}}var sn=xt;function ln(Ue,Be){return"key"in Ue&&Ue.key!==void 0&&Ue.key!==null?Ue.key:Ue.dataIndex?Array.isArray(Ue.dataIndex)?Ue.dataIndex.join("."):Ue.dataIndex:Be}function mn(Ue,Be){return Be?"".concat(Be,"-").concat(Ue):"".concat(Ue)}function Tn(Ue,Be){return typeof Ue=="function"?Ue(Be):Ue}function ai(Ue,Be){var _t=Tn(Ue,Be);return Object.prototype.toString.call(_t)==="[object Object]"?"":_t}var pi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},yi=pi,vi=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:yi}))};vi.displayName="FilterFilled";var Bt=A.forwardRef(vi),hr=a("Y+p1"),Ii=a.n(hr),Ar=a("2/Rp"),Gr=a("kaz8"),ea=a("jsC+"),ya=a("ECub"),Da=a("BvKs"),ta=a("UuAG"),Ya=a("9yH6"),Va=a("fAei"),mo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},po=mo,zo=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:po}))};zo.displayName="HolderOutlined";var Ss=A.forwardRef(zo),Xo=a("EXcs"),Ko=4;function ds(Ue){var Be,_t=Ue.dropPosition,vt=Ue.dropLevelOffset,ht=Ue.prefixCls,zt=Ue.indent,Yt=Ue.direction,nn=Yt===void 0?"ltr":Yt,yn=nn==="ltr"?"left":"right",Rn=nn==="ltr"?"right":"left",ei=(Be={},Object(j.a)(Be,yn,-vt*zt+Ko),Object(j.a)(Be,Rn,0),Be);switch(_t){case-1:ei.top=-3;break;case 1:ei.bottom=-3;break;default:ei.bottom=-3,ei[yn]=zt+Ko;break}return ue.a.createElement("div",{style:ei,className:"".concat(ht,"-drop-indicator")})}var go=a("2jpz"),Go=A.forwardRef(function(Ue,Be){var _t,vt=A.useContext(Zt.b),ht=vt.getPrefixCls,zt=vt.direction,Yt=vt.virtual,nn=Ue.prefixCls,yn=Ue.className,Rn=Ue.showIcon,ei=Rn===void 0?!1:Rn,$n=Ue.showLine,Kn=Ue.switcherIcon,ui=Ue.blockNode,Mi=ui===void 0?!1:ui,Ri=Ue.children,Ti=Ue.checkable,Xi=Ti===void 0?!1:Ti,Ji=Ue.selectable,Or=Ji===void 0?!0:Ji,kr=Ue.draggable,Pr=Ue.motion,vr=Pr===void 0?Object(C.a)(Object(C.a)({},Xo.a),{motionAppear:!1}):Pr,Ir=ht("tree",nn),tr=Object(C.a)(Object(C.a)({},Ue),{checkable:Xi,selectable:Or,showIcon:ei,motion:vr,blockNode:Mi,showLine:Boolean($n),dropIndicatorRender:ds}),Ui=A.useMemo(function(){if(!kr)return!1;var $i={};switch(Object(ve.a)(kr)){case"function":$i.nodeDraggable=kr;break;case"object":$i=Object(C.a)({},kr);break;default:break}return $i.icon!==!1&&($i.icon=$i.icon||A.createElement(Ss,null)),$i},[kr]);return A.createElement(Va.b,Object(C.a)({itemHeight:20,ref:Be,virtual:Yt},tr,{prefixCls:Ir,className:S()((_t={},Object(j.a)(_t,"".concat(Ir,"-icon-hide"),!ei),Object(j.a)(_t,"".concat(Ir,"-block-node"),Mi),Object(j.a)(_t,"".concat(Ir,"-unselectable"),!Or),Object(j.a)(_t,"".concat(Ir,"-rtl"),zt==="rtl"),_t),yn),direction:zt,checkable:Xi&&A.createElement("span",{className:"".concat(Ir,"-checkbox-inner")}),selectable:Or,switcherIcon:function(sr){return Object(go.a)(Ir,Kn,$n,sr)},draggable:Ui}),Ri)}),Jo=Go,$o=a("9jjd"),As={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},ou=As,su=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:ou}))};su.displayName="FolderOpenOutlined";var Es=A.forwardRef(su),ul={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},Us=ul,lu=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:Us}))};lu.displayName="FolderOutlined";var cl=A.forwardRef(lu),dl=a("OZM5"),Wl=a("815F"),Dl;(function(Ue){Ue[Ue.None=0]="None",Ue[Ue.Start=1]="Start",Ue[Ue.End=2]="End"})(Dl||(Dl={}));function fc(Ue,Be){function _t(vt){var ht=vt.key,zt=vt.children;Be(ht,vt)!==!1&&fc(zt||[],Be)}Ue.forEach(_t)}function uo(Ue){var Be=Ue.treeData,_t=Ue.expandedKeys,vt=Ue.startKey,ht=Ue.endKey,zt=[],Yt=Dl.None;if(vt&&vt===ht)return[vt];if(!vt||!ht)return[];function nn(yn){return yn===vt||yn===ht}return fc(Be,function(yn){if(Yt===Dl.End)return!1;if(nn(yn)){if(zt.push(yn),Yt===Dl.None)Yt=Dl.Start;else if(Yt===Dl.Start)return Yt=Dl.End,!1}else Yt===Dl.Start&&zt.push(yn);return _t.includes(yn)}),zt}function Ku(Ue,Be){var _t=Object(z.a)(Be),vt=[];return fc(Ue,function(ht,zt){var Yt=_t.indexOf(ht);return Yt!==-1&&(vt.push(zt),_t.splice(Yt,1)),!!_t.length}),vt}var eo=function(Ue,Be){var _t={};for(var vt in Ue)Object.prototype.hasOwnProperty.call(Ue,vt)&&Be.indexOf(vt)<0&&(_t[vt]=Ue[vt]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ht=0,vt=Object.getOwnPropertySymbols(Ue);ht<vt.length;ht++)Be.indexOf(vt[ht])<0&&Object.prototype.propertyIsEnumerable.call(Ue,vt[ht])&&(_t[vt[ht]]=Ue[vt[ht]]);return _t};function wl(Ue){var Be=Ue.isLeaf,_t=Ue.expanded;return Be?A.createElement($o.a,null):_t?A.createElement(Es,null):A.createElement(cl,null)}function bo(Ue){var Be=Ue.treeData,_t=Ue.children;return Be||Object(Wl.c)(_t)}var aa=function(Be,_t){var vt=Be.defaultExpandAll,ht=Be.defaultExpandParent,zt=Be.defaultExpandedKeys,Yt=eo(Be,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),nn=A.useRef(),yn=A.useRef(),Rn=function(){var zr=Object(Wl.a)(bo(Yt)),Vr=zr.keyEntities,la;return vt?la=Object.keys(Vr):ht?la=Object(dl.e)(Yt.expandedKeys||zt||[],Vr):la=Yt.expandedKeys||zt,la},ei=A.useState(Yt.selectedKeys||Yt.defaultSelectedKeys||[]),$n=Object(re.a)(ei,2),Kn=$n[0],ui=$n[1],Mi=A.useState(function(){return Rn()}),Ri=Object(re.a)(Mi,2),Ti=Ri[0],Xi=Ri[1];A.useEffect(function(){"selectedKeys"in Yt&&ui(Yt.selectedKeys)},[Yt.selectedKeys]),A.useEffect(function(){"expandedKeys"in Yt&&Xi(Yt.expandedKeys)},[Yt.expandedKeys]);var Ji=function(zr,Vr){var la;return"expandedKeys"in Yt||Xi(zr),(la=Yt.onExpand)===null||la===void 0?void 0:la.call(Yt,zr,Vr)},Or=function(zr,Vr){var la,Ta=Yt.multiple,ga=Vr.node,ma=Vr.nativeEvent,Sa=ga.key,se=Sa===void 0?"":Sa,ae=bo(Yt),b=Object(C.a)(Object(C.a)({},Vr),{selected:!0}),_=(ma==null?void 0:ma.ctrlKey)||(ma==null?void 0:ma.metaKey),p=ma==null?void 0:ma.shiftKey,P;Ta&&_?(P=zr,nn.current=se,yn.current=P,b.selectedNodes=Ku(ae,P)):Ta&&p?(P=Array.from(new Set([].concat(Object(z.a)(yn.current||[]),Object(z.a)(uo({treeData:ae,expandedKeys:Ti,startKey:se,endKey:nn.current}))))),b.selectedNodes=Ku(ae,P)):(P=[se],nn.current=se,yn.current=P,b.selectedNodes=Ku(ae,P)),(la=Yt.onSelect)===null||la===void 0||la.call(Yt,P,b),"selectedKeys"in Yt||ui(P)},kr=A.useContext(Zt.b),Pr=kr.getPrefixCls,vr=kr.direction,Ir=Yt.prefixCls,tr=Yt.className,Ui=Yt.showIcon,$i=Ui===void 0?!0:Ui,sr=Yt.expandAction,Dr=sr===void 0?"click":sr,wr=eo(Yt,["prefixCls","className","showIcon","expandAction"]),lr=Pr("tree",Ir),ar=S()("".concat(lr,"-directory"),Object(j.a)({},"".concat(lr,"-directory-rtl"),vr==="rtl"),tr);return A.createElement(Jo,Object(C.a)({icon:wl,ref:_t,blockNode:!0},wr,{showIcon:$i,expandAction:Dr,prefixCls:lr,className:ar,expandedKeys:Ti,selectedKeys:Kn,onSelect:Or,onExpand:Ji}))},Lu=A.forwardRef(aa),zs=Lu,ks=Jo;ks.DirectoryTree=zs,ks.TreeNode=Va.a;var Ls=ks,vc=a("hkKa");function jl(Ue){var Be=A.useRef(Ue),_t=Object(vc.a)();return[function(){return Be.current},function(vt){Be.current=vt,_t()}]}var Vl=a("l+S1"),rr=a("5rEg");function oa(Ue){var Be=Ue.value,_t=Ue.onChange,vt=Ue.filterSearch,ht=Ue.tablePrefixCls,zt=Ue.locale;return vt?A.createElement("div",{className:"".concat(ht,"-filter-dropdown-search")},A.createElement(rr.a,{prefix:A.createElement(Vl.a,null),placeholder:zt.filterSearchPlaceholder,onChange:_t,value:Be,htmlSize:1,className:"".concat(ht,"-filter-dropdown-search-input")})):null}var Yr=oa,os=a("4IlW"),Fo=function(Be){var _t=Be.keyCode;_t===os.a.ENTER&&Be.stopPropagation()},Rs=function(Be){return A.createElement("div",{className:Be.className,onClick:function(vt){return vt.stopPropagation()},onKeyDown:Fo},Be.children)},Ns=Rs;function ps(Ue){return Ue.some(function(Be){var _t=Be.children;return _t})}function hs(Ue,Be){return typeof Be=="string"||typeof Be=="number"?Be==null?void 0:Be.toString().toLowerCase().includes(Ue.trim().toLowerCase()):!1}function gc(Ue){var Be=Ue.filters,_t=Ue.prefixCls,vt=Ue.filteredKeys,ht=Ue.filterMultiple,zt=Ue.searchValue,Yt=Ue.filterSearch;return Be.map(function(nn,yn){var Rn=String(nn.value);if(nn.children)return{key:Rn||yn,label:nn.text,popupClassName:"".concat(_t,"-dropdown-submenu"),children:gc({filters:nn.children,prefixCls:_t,filteredKeys:vt,filterMultiple:ht,searchValue:zt,filterSearch:Yt})};var ei=ht?Gr.a:Ya.a,$n={key:nn.value!==void 0?Rn:yn,label:A.createElement(A.Fragment,null,A.createElement(ei,{checked:vt.includes(Rn)}),A.createElement("span",null,nn.text))};return zt.trim()?typeof Yt=="function"?Yt(zt,nn)?$n:null:hs(zt,nn.text)?$n:null:$n})}function mc(Ue){var Be,_t=Ue.tablePrefixCls,vt=Ue.prefixCls,ht=Ue.column,zt=Ue.dropdownPrefixCls,Yt=Ue.columnKey,nn=Ue.filterMultiple,yn=Ue.filterMode,Rn=yn===void 0?"menu":yn,ei=Ue.filterSearch,$n=ei===void 0?!1:ei,Kn=Ue.filterState,ui=Ue.triggerFilter,Mi=Ue.locale,Ri=Ue.children,Ti=Ue.getPopupContainer,Xi=ht.filterDropdownOpen,Ji=ht.onFilterDropdownOpenChange,Or=ht.filterDropdownVisible,kr=ht.onFilterDropdownVisibleChange,Pr=ht.filterResetToDefaultFilteredValue,vr=ht.defaultFilteredValue,Ir=A.useState(!1),tr=Object(re.a)(Ir,2),Ui=tr[0],$i=tr[1],sr=!!(Kn&&(((Be=Kn.filteredKeys)===null||Be===void 0?void 0:Be.length)||Kn.forceFiltered)),Dr=function(Jr){$i(Jr),Ji==null||Ji(Jr),kr==null||kr(Jr)},wr;typeof Xi=="boolean"?wr=Xi:wr=typeof Or=="boolean"?Or:Ui;var lr=Kn==null?void 0:Kn.filteredKeys,ar=jl(lr||[]),Rr=Object(re.a)(ar,2),zr=Rr[0],Vr=Rr[1],la=function(Jr){var pa=Jr.selectedKeys;Vr(pa)},Ta=function(Jr,pa){var Ma=pa.node,Vo=pa.checked;la(nn?{selectedKeys:Jr}:{selectedKeys:Vo&&Ma.key?[Ma.key]:[]})};A.useEffect(function(){!Ui||la({selectedKeys:lr||[]})},[lr]);var ga=A.useState([]),ma=Object(re.a)(ga,2),Sa=ma[0],se=ma[1],ae=function(Jr){se(Jr)},b=A.useState(""),_=Object(re.a)(b,2),p=_[0],P=_[1],X=function(Jr){var pa=Jr.target.value;P(pa)};A.useEffect(function(){Ui||P("")},[Ui]);var Se=function(Jr){var pa=Jr&&Jr.length?Jr:null;if(pa===null&&(!Kn||!Kn.filteredKeys)||Ii()(pa,Kn==null?void 0:Kn.filteredKeys))return null;ui({column:ht,key:Yt,filteredKeys:pa})},Ae=function(){Dr(!1),Se(zr())},qe=function(){var Jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1},pa=Jr.confirm,Ma=Jr.closeDropdown;pa&&Se([]),Ma&&Dr(!1),P(""),Vr(Pr?(vr||[]).map(function(Vo){return String(Vo)}):[])},rt=function(){var Jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0},pa=Jr.closeDropdown;pa&&Dr(!1),Se(zr())},ct=function(Jr){Jr&&lr!==void 0&&Vr(lr||[]),Dr(Jr),!Jr&&!ht.filterDropdown&&Ae()},Xt=S()(Object(j.a)({},"".concat(zt,"-menu-without-submenu"),!ps(ht.filters||[]))),cn=function(Jr){if(Jr.target.checked){var pa=Zs(ht==null?void 0:ht.filters).map(function(Ma){return String(Ma)});Vr(pa)}else Vr([])},Mn=function Kr(Jr){var pa=Jr.filters;return(pa||[]).map(function(Ma,Vo){var vs=String(Ma.value),Xa={title:Ma.text,key:Ma.value!==void 0?vs:Vo};return Ma.children&&(Xa.children=Kr({filters:Ma.children})),Xa})},gi=function Kr(Jr){var pa;return Object(C.a)(Object(C.a)({},Jr),{text:Jr.title,value:Jr.key,children:((pa=Jr.children)===null||pa===void 0?void 0:pa.map(function(Ma){return Kr(Ma)}))||[]})},Zn;if(typeof ht.filterDropdown=="function")Zn=ht.filterDropdown({prefixCls:"".concat(zt,"-custom"),setSelectedKeys:function(Jr){return la({selectedKeys:Jr})},selectedKeys:zr(),confirm:rt,clearFilters:qe,filters:ht.filters,visible:wr,close:function(){Dr(!1)}});else if(ht.filterDropdown)Zn=ht.filterDropdown;else{var di=zr()||[],Un=function(){return(ht.filters||[]).length===0?A.createElement(ya.a,{image:ya.a.PRESENTED_IMAGE_SIMPLE,description:Mi.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):Rn==="tree"?A.createElement(A.Fragment,null,A.createElement(Yr,{filterSearch:$n,value:p,onChange:X,tablePrefixCls:_t,locale:Mi}),A.createElement("div",{className:"".concat(_t,"-filter-dropdown-tree")},nn?A.createElement(Gr.a,{checked:di.length===Zs(ht.filters).length,indeterminate:di.length>0&&di.length<Zs(ht.filters).length,className:"".concat(_t,"-filter-dropdown-checkall"),onChange:cn},Mi.filterCheckall):null,A.createElement(Ls,{checkable:!0,selectable:!1,blockNode:!0,multiple:nn,checkStrictly:!nn,className:"".concat(zt,"-menu"),onCheck:Ta,checkedKeys:di,selectedKeys:di,showIcon:!1,treeData:Mn({filters:ht.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:p.trim()?function(Jr){return typeof $n=="function"?$n(p,gi(Jr)):hs(p,Jr.title)}:void 0}))):A.createElement(A.Fragment,null,A.createElement(Yr,{filterSearch:$n,value:p,onChange:X,tablePrefixCls:_t,locale:Mi}),A.createElement(Da.a,{selectable:!0,multiple:nn,prefixCls:"".concat(zt,"-menu"),className:Xt,onSelect:la,onDeselect:la,selectedKeys:di,getPopupContainer:Ti,openKeys:Sa,onOpenChange:ae,items:gc({filters:ht.filters||[],filterSearch:$n,prefixCls:vt,filteredKeys:zr(),filterMultiple:nn,searchValue:p})}))},qn=function(){return Pr?Ii()((vr||[]).map(function(Jr){return String(Jr)}),di):di.length===0};Zn=A.createElement(A.Fragment,null,Un(),A.createElement("div",{className:"".concat(vt,"-dropdown-btns")},A.createElement(Ar.a,{type:"link",size:"small",disabled:qn(),onClick:function(){return qe()}},Mi.filterReset),A.createElement(Ar.a,{type:"primary",size:"small",onClick:Ae},Mi.filterConfirm)))}ht.filterDropdown&&(Zn=A.createElement(ta.a,{selectable:void 0},Zn));var ur=function(){return A.createElement(Ns,{className:"".concat(vt,"-dropdown")},Zn)},_r;typeof ht.filterIcon=="function"?_r=ht.filterIcon(sr):ht.filterIcon?_r=ht.filterIcon:_r=A.createElement(Bt,null);var cr=A.useContext(Zt.b),Zr=cr.direction;return A.createElement("div",{className:"".concat(vt,"-column")},A.createElement("span",{className:"".concat(_t,"-column-title")},Ri),A.createElement(ea.a,{dropdownRender:ur,trigger:["click"],open:wr,onOpenChange:ct,getPopupContainer:Ti,placement:Zr==="rtl"?"bottomLeft":"bottomRight"},A.createElement("span",{role:"button",tabIndex:-1,className:S()("".concat(vt,"-trigger"),{active:sr}),onClick:function(Jr){Jr.stopPropagation()}},_r)))}var xs=mc;function ns(Ue,Be,_t){var vt=[];return(Ue||[]).forEach(function(ht,zt){var Yt,nn=mn(zt,_t);if(ht.filters||"filterDropdown"in ht||"onFilter"in ht)if("filteredValue"in ht){var yn=ht.filteredValue;"filterDropdown"in ht||(yn=(Yt=yn==null?void 0:yn.map(String))!==null&&Yt!==void 0?Yt:yn),vt.push({column:ht,key:ln(ht,nn),filteredKeys:yn,forceFiltered:ht.filtered})}else vt.push({column:ht,key:ln(ht,nn),filteredKeys:Be&&ht.defaultFilteredValue?ht.defaultFilteredValue:void 0,forceFiltered:ht.filtered});"children"in ht&&(vt=[].concat(Object(z.a)(vt),Object(z.a)(ns(ht.children,Be,nn))))}),vt}function pc(Ue,Be,_t,vt,ht,zt,Yt,nn){return _t.map(function(yn,Rn){var ei=mn(Rn,nn),$n=yn.filterMultiple,Kn=$n===void 0?!0:$n,ui=yn.filterMode,Mi=yn.filterSearch,Ri=yn;if(Ri.filters||Ri.filterDropdown){var Ti=ln(Ri,ei),Xi=vt.find(function(Ji){var Or=Ji.key;return Ti===Or});Ri=Object(C.a)(Object(C.a)({},Ri),{title:function(Or){return A.createElement(xs,{tablePrefixCls:Ue,prefixCls:"".concat(Ue,"-filter"),dropdownPrefixCls:Be,column:Ri,columnKey:Ti,filterState:Xi,filterMultiple:Kn,filterMode:ui,filterSearch:Mi,triggerFilter:ht,locale:Yt,getPopupContainer:zt},Tn(yn.title,Or))}})}return"children"in Ri&&(Ri=Object(C.a)(Object(C.a)({},Ri),{children:pc(Ue,Be,Ri.children,vt,ht,zt,Yt,ei)})),Ri})}function Zs(Ue){var Be=[];return(Ue||[]).forEach(function(_t){var vt=_t.value,ht=_t.children;Be.push(vt),ht&&(Be=[].concat(Object(z.a)(Be),Object(z.a)(Zs(ht))))}),Be}function hl(Ue){var Be={};return Ue.forEach(function(_t){var vt=_t.key,ht=_t.filteredKeys,zt=_t.column,Yt=zt.filters,nn=zt.filterDropdown;if(nn)Be[vt]=ht||null;else if(Array.isArray(ht)){var yn=Zs(Yt);Be[vt]=yn.filter(function(Rn){return ht.includes(String(Rn))})}else Be[vt]=null}),Be}function Hc(Ue,Be){return Be.reduce(function(_t,vt){var ht=vt.column,zt=ht.onFilter,Yt=ht.filters,nn=vt.filteredKeys;return zt&&nn&&nn.length?_t.filter(function(yn){return nn.some(function(Rn){var ei=Zs(Yt),$n=ei.findIndex(function(ui){return String(ui)===String(Rn)}),Kn=$n!==-1?ei[$n]:Rn;return zt(Kn,yn)})}):_t},Ue)}function uu(Ue){var Be=Ue.prefixCls,_t=Ue.dropdownPrefixCls,vt=Ue.mergedColumns,ht=Ue.onFilterChange,zt=Ue.getPopupContainer,Yt=Ue.locale,nn=A.useState(function(){return ns(vt,!0)}),yn=Object(re.a)(nn,2),Rn=yn[0],ei=yn[1],$n=A.useMemo(function(){var Ri=ns(vt,!1),Ti=!0,Xi=!0;return Ri.forEach(function(Ji){var Or=Ji.filteredKeys;Or!==void 0?Ti=!1:Xi=!1}),Ti?Rn:Ri},[vt,Rn]),Kn=A.useMemo(function(){return hl($n)},[$n]),ui=function(Ti){var Xi=$n.filter(function(Ji){var Or=Ji.key;return Or!==Ti.key});Xi.push(Ti),ei(Xi),ht(hl(Xi),Xi)},Mi=function(Ti){return pc(Be,_t,Ti,$n,ui,zt,Yt)};return[Mi,$n,Kn]}var bc=uu,Gu=a("YWTS"),Ms=function(Ue,Be){var _t={};for(var vt in Ue)Object.prototype.hasOwnProperty.call(Ue,vt)&&Be.indexOf(vt)<0&&(_t[vt]=Ue[vt]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ht=0,vt=Object.getOwnPropertySymbols(Ue);ht<vt.length;ht++)Be.indexOf(vt[ht])<0&&Object.prototype.propertyIsEnumerable.call(Ue,vt[ht])&&(_t[vt[ht]]=Ue[vt[ht]]);return _t},fl=10;function $u(Ue,Be){var _t={current:Be.current,pageSize:Be.pageSize},vt=Ue&&Object(ve.a)(Ue)==="object"?Ue:{};return Object.keys(vt).forEach(function(ht){var zt=Be[ht];typeof zt!="function"&&(_t[ht]=zt)}),_t}function El(){for(var Ue={},Be=arguments.length,_t=new Array(Be),vt=0;vt<Be;vt++)_t[vt]=arguments[vt];return _t.forEach(function(ht){ht&&Object.keys(ht).forEach(function(zt){var Yt=ht[zt];Yt!==void 0&&(Ue[zt]=Yt)})}),Ue}function yc(Ue,Be,_t){var vt=Be&&Object(ve.a)(Be)==="object"?Be:{},ht=vt.total,zt=ht===void 0?0:ht,Yt=Ms(vt,["total"]),nn=Object(A.useState)(function(){return{current:"defaultCurrent"in Yt?Yt.defaultCurrent:1,pageSize:"defaultPageSize"in Yt?Yt.defaultPageSize:fl}}),yn=Object(re.a)(nn,2),Rn=yn[0],ei=yn[1],$n=El(Rn,Yt,{total:zt>0?zt:Ue}),Kn=Math.ceil((zt||Ue)/$n.pageSize);$n.current>Kn&&($n.current=Kn||1);var ui=function(Ti,Xi){ei({current:Ti!=null?Ti:1,pageSize:Xi||$n.pageSize})},Mi=function(Ti,Xi){var Ji;Be&&((Ji=Be.onChange)===null||Ji===void 0||Ji.call(Be,Ti,Xi)),ui(Ti,Xi),_t(Ti,Xi||($n==null?void 0:$n.pageSize))};return Be===!1?[{},function(){}]:[Object(C.a)(Object(C.a)({},$n),{onChange:Mi}),ui]}var _c=a("T5bk"),Cc=a("8Skl"),Qu=a("NvD2"),bs=a("6cGi"),rl={},_o="SELECT_ALL",Yu="SELECT_INVERT",Xs="SELECT_NONE",Ia=[];function Oc(Ue,Be){var _t=[];return(Ue||[]).forEach(function(vt){_t.push(vt),vt&&Object(ve.a)(vt)==="object"&&Be in vt&&(_t=[].concat(Object(z.a)(_t),Object(z.a)(Oc(vt[Be],Be))))}),_t}function Uc(Ue,Be){var _t=Ue||{},vt=_t.preserveSelectedRowKeys,ht=_t.selectedRowKeys,zt=_t.defaultSelectedRowKeys,Yt=_t.getCheckboxProps,nn=_t.onChange,yn=_t.onSelect,Rn=_t.onSelectAll,ei=_t.onSelectInvert,$n=_t.onSelectNone,Kn=_t.onSelectMultiple,ui=_t.columnWidth,Mi=_t.type,Ri=_t.selections,Ti=_t.fixed,Xi=_t.renderCell,Ji=_t.hideSelectAll,Or=_t.checkStrictly,kr=Or===void 0?!0:Or,Pr=Be.prefixCls,vr=Be.data,Ir=Be.pageData,tr=Be.getRecordByKey,Ui=Be.getRowKey,$i=Be.expandType,sr=Be.childrenColumnName,Dr=Be.locale,wr=Be.getPopupContainer,lr=Object(bs.a)(ht||zt||Ia,{value:ht}),ar=Object(re.a)(lr,2),Rr=ar[0],zr=ar[1],Vr=A.useRef(new Map),la=Object(A.useCallback)(function(gi){if(vt){var Zn=new Map;gi.forEach(function(di){var Un=tr(di);!Un&&Vr.current.has(di)&&(Un=Vr.current.get(di)),Zn.set(di,Un)}),Vr.current=Zn}},[tr,vt]);A.useEffect(function(){la(Rr)},[Rr]);var Ta=Object(A.useMemo)(function(){return kr?{keyEntities:null}:Object(Wl.a)(vr,{externalGetKey:Ui,childrenPropName:sr})},[vr,Ui,kr,sr]),ga=Ta.keyEntities,ma=Object(A.useMemo)(function(){return Oc(Ir,sr)},[Ir,sr]),Sa=Object(A.useMemo)(function(){var gi=new Map;return ma.forEach(function(Zn,di){var Un=Ui(Zn,di),qn=(Yt?Yt(Zn):null)||{};gi.set(Un,qn)}),gi},[ma,Ui,Yt]),se=Object(A.useCallback)(function(gi){var Zn;return!!((Zn=Sa.get(Ui(gi)))===null||Zn===void 0?void 0:Zn.disabled)},[Sa,Ui]),ae=Object(A.useMemo)(function(){if(kr)return[Rr||[],[]];var gi=Object(Qu.a)(Rr,!0,ga,se),Zn=gi.checkedKeys,di=gi.halfCheckedKeys;return[Zn||[],di]},[Rr,kr,ga,se]),b=Object(re.a)(ae,2),_=b[0],p=b[1],P=Object(A.useMemo)(function(){var gi=Mi==="radio"?_.slice(0,1):_;return new Set(gi)},[_,Mi]),X=Object(A.useMemo)(function(){return Mi==="radio"?new Set:new Set(p)},[p,Mi]),Se=Object(A.useState)(null),Ae=Object(re.a)(Se,2),qe=Ae[0],rt=Ae[1];A.useEffect(function(){Ue||zr(Ia)},[!!Ue]);var ct=Object(A.useCallback)(function(gi,Zn){var di,Un;la(gi),vt?(di=gi,Un=gi.map(function(qn){return Vr.current.get(qn)})):(di=[],Un=[],gi.forEach(function(qn){var ur=tr(qn);ur!==void 0&&(di.push(qn),Un.push(ur))})),zr(di),nn==null||nn(di,Un,{type:Zn})},[zr,tr,nn,vt]),Xt=Object(A.useCallback)(function(gi,Zn,di,Un){if(yn){var qn=di.map(function(ur){return tr(ur)});yn(tr(gi),Zn,qn,Un)}ct(di,"single")},[yn,tr,ct]),cn=Object(A.useMemo)(function(){if(!Ri||Ji)return null;var gi=Ri===!0?[_o,Yu,Xs]:Ri;return gi.map(function(Zn){return Zn===_o?{key:"all",text:Dr.selectionAll,onSelect:function(){ct(vr.map(function(Un,qn){return Ui(Un,qn)}).filter(function(Un){var qn=Sa.get(Un);return!(qn==null?void 0:qn.disabled)||P.has(Un)}),"all")}}:Zn===Yu?{key:"invert",text:Dr.selectInvert,onSelect:function(){var Un=new Set(P);Ir.forEach(function(ur,_r){var cr=Ui(ur,_r),Zr=Sa.get(cr);(Zr==null?void 0:Zr.disabled)||(Un.has(cr)?Un.delete(cr):Un.add(cr))});var qn=Array.from(Un);ei&&ei(qn),ct(qn,"invert")}}:Zn===Xs?{key:"none",text:Dr.selectNone,onSelect:function(){$n==null||$n(),ct(Array.from(P).filter(function(Un){var qn=Sa.get(Un);return qn==null?void 0:qn.disabled}),"none")}}:Zn}).map(function(Zn){return Object(C.a)(Object(C.a)({},Zn),{onSelect:function(){for(var Un,qn,ur=arguments.length,_r=new Array(ur),cr=0;cr<ur;cr++)_r[cr]=arguments[cr];(qn=Zn.onSelect)===null||qn===void 0||(Un=qn).call.apply(Un,[Zn].concat(_r)),rt(null)}})})},[Ri,P,Ir,Ui,ei,ct]),Mn=Object(A.useCallback)(function(gi){var Zn;if(!Ue)return gi.filter(function(za){return za!==rl});var di=Object(z.a)(gi),Un=new Set(P),qn=ma.map(Ui).filter(function(za){return!Sa.get(za).disabled}),ur=qn.every(function(za){return Un.has(za)}),_r=qn.some(function(za){return Un.has(za)}),cr=function(){var Pa=[];ur?qn.forEach(function(co){Un.delete(co),Pa.push(co)}):qn.forEach(function(co){Un.has(co)||(Un.add(co),Pa.push(co))});var ko=Array.from(Un);Rn==null||Rn(!ur,ko.map(function(co){return tr(co)}),Pa.map(function(co){return tr(co)})),ct(ko,"all"),rt(null)},Zr;if(Mi!=="radio"){var Kr;if(cn){var Jr={getPopupContainer:wr,items:cn.map(function(za,Pa){var ko=za.key,co=za.text,as=za.onSelect;return{key:ko||Pa,onClick:function(){as==null||as(qn)},label:co}})};Kr=A.createElement("div",{className:"".concat(Pr,"-selection-extra")},A.createElement(ea.a,{menu:Jr,getPopupContainer:wr},A.createElement("span",null,A.createElement(Cc.a,null))))}var pa=ma.map(function(za,Pa){var ko=Ui(za,Pa),co=Sa.get(ko)||{};return Object(C.a)({checked:Un.has(ko)},co)}).filter(function(za){var Pa=za.disabled;return Pa}),Ma=!!pa.length&&pa.length===ma.length,Vo=Ma&&pa.every(function(za){var Pa=za.checked;return Pa}),vs=Ma&&pa.some(function(za){var Pa=za.checked;return Pa});Zr=!Ji&&A.createElement("div",{className:"".concat(Pr,"-selection")},A.createElement(Gr.a,{checked:Ma?Vo:!!ma.length&&ur,indeterminate:Ma?!Vo&&vs:!ur&&_r,onChange:cr,disabled:ma.length===0||Ma,"aria-label":Kr?"Custom selection":"Select all",skipGroup:!0}),Kr)}var Xa;Mi==="radio"?Xa=function(Pa,ko,co){var as=Ui(ko,co),jo=Un.has(as);return{node:A.createElement(Ya.a,Object(C.a)({},Sa.get(as),{checked:jo,onClick:function(ba){return ba.stopPropagation()},onChange:function(ba){Un.has(as)||Xt(as,!0,[as],ba.nativeEvent)}})),checked:jo}}:Xa=function(Pa,ko,co){var as,jo=Ui(ko,co),Xr=Un.has(jo),ba=X.has(jo),Ga=Sa.get(jo),$a;return $i==="nest"?$a=ba:$a=(as=Ga==null?void 0:Ga.indeterminate)!==null&&as!==void 0?as:ba,{node:A.createElement(Gr.a,Object(C.a)({},Ga,{indeterminate:$a,checked:Xr,skipGroup:!0,onClick:function(Os){return Os.stopPropagation()},onChange:function(Os){var Uo=Os.nativeEvent,_l=Uo.shiftKey,eu=-1,Hs=-1;if(_l&&kr){var Wu=new Set([qe,jo]);qn.some(function(Ts,Id){if(Wu.has(Ts))if(eu===-1)eu=Id;else return Hs=Id,!0;return!1})}if(Hs!==-1&&eu!==Hs&&kr){var ku=qn.slice(eu,Hs+1),Pc=[];Xr?ku.forEach(function(Ts){Un.has(Ts)&&(Pc.push(Ts),Un.delete(Ts))}):ku.forEach(function(Ts){Un.has(Ts)||(Pc.push(Ts),Un.add(Ts))});var Du=Array.from(Un);Kn==null||Kn(!Xr,Du.map(function(Ts){return tr(Ts)}),Pc.map(function(Ts){return tr(Ts)})),ct(Du,"multiple")}else{var Md=_;if(kr){var ho=Xr?Object(dl.b)(Md,jo):Object(dl.a)(Md,jo);Xt(jo,!Xr,ho,Uo)}else{var qa=Object(Qu.a)([].concat(Object(z.a)(Md),[jo]),!0,ga,se),qo=qa.checkedKeys,tu=qa.halfCheckedKeys,Yo=qo;if(Xr){var Td=new Set(qo);Td.delete(jo),Yo=Object(Qu.a)(Array.from(Td),{checked:!1,halfCheckedKeys:tu},ga,se).checkedKeys}Xt(jo,!Xr,Yo,Uo)}}rt(Xr?null:jo)}})),checked:Xr}};var Ea=function(Pa,ko,co){var as=Xa(Pa,ko,co),jo=as.node,Xr=as.checked;return Xi?Xi(Xr,ko,co,jo):jo};if(!di.includes(rl))if(di.findIndex(function(za){var Pa;return((Pa=za[gn])===null||Pa===void 0?void 0:Pa.columnType)==="EXPAND_COLUMN"})===0){var wa=di,qr=Object(_c.a)(wa),Ua=qr[0],to=qr.slice(1);di=[Ua,rl].concat(Object(z.a)(to))}else di=[rl].concat(Object(z.a)(di));var ls=di.indexOf(rl);di=di.filter(function(za,Pa){return za!==rl||Pa===ls});var xo=di[ls-1],Qo=di[ls+1],Ho=Ti;Ho===void 0&&((Qo==null?void 0:Qo.fixed)!==void 0?Ho=Qo.fixed:(xo==null?void 0:xo.fixed)!==void 0&&(Ho=xo.fixed)),Ho&&xo&&((Zn=xo[gn])===null||Zn===void 0?void 0:Zn.columnType)==="EXPAND_COLUMN"&&xo.fixed===void 0&&(xo.fixed=Ho);var xl=Object(j.a)({fixed:Ho,width:ui,className:"".concat(Pr,"-selection-column"),title:Ue.columnTitle||Zr,render:Ea},gn,{className:"".concat(Pr,"-selection-col")});return di.map(function(za){return za===rl?xl:za})},[Ui,ma,Ue,_,P,X,ui,cn,$i,qe,Sa,Kn,Xt,se]);return[Mn,P]}var cu={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},Js=cu,Hl=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:Js}))};Hl.displayName="CaretDownOutlined";var vl=A.forwardRef(Hl),Po={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},Ao=Po,Za=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:Ao}))};Za.displayName="CaretUpOutlined";var Sc=A.forwardRef(Za),Ul=a("3S7+"),Ll="ascend",kc="descend";function Ml(Ue){return Object(ve.a)(Ue.sorter)==="object"&&typeof Ue.sorter.multiple=="number"?Ue.sorter.multiple:!1}function du(Ue){return typeof Ue=="function"?Ue:Ue&&Object(ve.a)(Ue)==="object"&&Ue.compare?Ue.compare:!1}function Zu(Ue,Be){return Be?Ue[Ue.indexOf(Be)+1]:Ue[0]}function zl(Ue,Be,_t){var vt=[];function ht(zt,Yt){vt.push({column:zt,key:ln(zt,Yt),multiplePriority:Ml(zt),sortOrder:zt.sortOrder})}return(Ue||[]).forEach(function(zt,Yt){var nn=mn(Yt,_t);zt.children?("sortOrder"in zt&&ht(zt,nn),vt=[].concat(Object(z.a)(vt),Object(z.a)(zl(zt.children,Be,nn)))):zt.sorter&&("sortOrder"in zt?ht(zt,nn):Be&&zt.defaultSortOrder&&vt.push({column:zt,key:ln(zt,nn),multiplePriority:Ml(zt),sortOrder:zt.defaultSortOrder}))}),vt}function Mu(Ue,Be,_t,vt,ht,zt,Yt,nn){return(Be||[]).map(function(yn,Rn){var ei=mn(Rn,nn),$n=yn;if($n.sorter){var Kn=$n.sortDirections||ht,ui=$n.showSorterTooltip===void 0?Yt:$n.showSorterTooltip,Mi=ln($n,ei),Ri=_t.find(function($i){var sr=$i.key;return sr===Mi}),Ti=Ri?Ri.sortOrder:null,Xi=Zu(Kn,Ti),Ji=Kn.includes(Ll)&&A.createElement(Sc,{className:S()("".concat(Ue,"-column-sorter-up"),{active:Ti===Ll}),role:"presentation"}),Or=Kn.includes(kc)&&A.createElement(vl,{className:S()("".concat(Ue,"-column-sorter-down"),{active:Ti===kc}),role:"presentation"}),kr=zt||{},Pr=kr.cancelSort,vr=kr.triggerAsc,Ir=kr.triggerDesc,tr=Pr;Xi===kc?tr=Ir:Xi===Ll&&(tr=vr);var Ui=Object(ve.a)(ui)==="object"?ui:{title:tr};$n=Object(C.a)(Object(C.a)({},$n),{className:S()($n.className,Object(j.a)({},"".concat(Ue,"-column-sort"),Ti)),title:function(sr){var Dr=A.createElement("div",{className:"".concat(Ue,"-column-sorters")},A.createElement("span",{className:"".concat(Ue,"-column-title")},Tn(yn.title,sr)),A.createElement("span",{className:S()("".concat(Ue,"-column-sorter"),Object(j.a)({},"".concat(Ue,"-column-sorter-full"),!!(Ji&&Or)))},A.createElement("span",{className:"".concat(Ue,"-column-sorter-inner")},Ji,Or)));return ui?A.createElement(Ul.a,Object(C.a)({},Ui),Dr):Dr},onHeaderCell:function(sr){var Dr=yn.onHeaderCell&&yn.onHeaderCell(sr)||{},wr=Dr.onClick,lr=Dr.onKeyDown;Dr.onClick=function(zr){vt({column:yn,key:Mi,sortOrder:Xi,multiplePriority:Ml(yn)}),wr==null||wr(zr)},Dr.onKeyDown=function(zr){zr.keyCode===os.a.ENTER&&(vt({column:yn,key:Mi,sortOrder:Xi,multiplePriority:Ml(yn)}),lr==null||lr(zr))};var ar=ai(yn.title,{}),Rr=ar==null?void 0:ar.toString();return Ti?Dr["aria-sort"]=Ti==="ascend"?"ascending":"descending":Dr["aria-label"]=Rr||"",Dr.className=S()(Dr.className,"".concat(Ue,"-column-has-sorters")),Dr.tabIndex=0,yn.ellipsis&&(Dr.title=(ar!=null?ar:"").toString()),Dr}})}return"children"in $n&&($n=Object(C.a)(Object(C.a)({},$n),{children:Mu(Ue,$n.children,_t,vt,ht,zt,Yt,ei)})),$n})}function qs(Ue){var Be=Ue.column,_t=Ue.sortOrder;return{column:Be,order:_t,field:Be.dataIndex,columnKey:Be.key}}function Cs(Ue){var Be=Ue.filter(function(_t){var vt=_t.sortOrder;return vt}).map(qs);return Be.length===0&&Ue.length?Object(C.a)(Object(C.a)({},qs(Ue[Ue.length-1])),{column:void 0}):Be.length<=1?Be[0]||{}:Be}function zc(Ue,Be,_t){var vt=Be.slice().sort(function(Yt,nn){return nn.multiplePriority-Yt.multiplePriority}),ht=Ue.slice(),zt=vt.filter(function(Yt){var nn=Yt.column.sorter,yn=Yt.sortOrder;return du(nn)&&yn});return zt.length?ht.sort(function(Yt,nn){for(var yn=0;yn<zt.length;yn+=1){var Rn=zt[yn],ei=Rn.column.sorter,$n=Rn.sortOrder,Kn=du(ei);if(Kn&&$n){var ui=Kn(Yt,nn,$n);if(ui!==0)return $n===Ll?ui:-ui}}return 0}).map(function(Yt){var nn=Yt[_t];return nn?Object(C.a)(Object(C.a)({},Yt),Object(j.a)({},_t,zc(nn,Be,_t))):Yt}):ht}function fd(Ue){var Be=Ue.prefixCls,_t=Ue.mergedColumns,vt=Ue.onSorterChange,ht=Ue.sortDirections,zt=Ue.tableLocale,Yt=Ue.showSorterTooltip,nn=A.useState(zl(_t,!0)),yn=Object(re.a)(nn,2),Rn=yn[0],ei=yn[1],$n=A.useMemo(function(){var Ti=!0,Xi=zl(_t,!1);if(!Xi.length)return Rn;var Ji=[];function Or(Pr){Ti?Ji.push(Pr):Ji.push(Object(C.a)(Object(C.a)({},Pr),{sortOrder:null}))}var kr=null;return Xi.forEach(function(Pr){kr===null?(Or(Pr),Pr.sortOrder&&(Pr.multiplePriority===!1?Ti=!1:kr=!0)):(kr&&Pr.multiplePriority!==!1||(Ti=!1),Or(Pr))}),Ji},[_t,Rn]),Kn=A.useMemo(function(){var Ti=$n.map(function(Xi){var Ji=Xi.column,Or=Xi.sortOrder;return{column:Ji,order:Or}});return{sortColumns:Ti,sortColumn:Ti[0]&&Ti[0].column,sortOrder:Ti[0]&&Ti[0].order}},[$n]);function ui(Ti){var Xi;Ti.multiplePriority===!1||!$n.length||$n[0].multiplePriority===!1?Xi=[Ti]:Xi=[].concat(Object(z.a)($n.filter(function(Ji){var Or=Ji.key;return Or!==Ti.key})),[Ti]),ei(Xi),vt(Cs(Xi),Xi)}var Mi=function(Xi){return Mu(Be,Xi,$n,ui,ht,zt,Yt)},Ri=function(){return Cs($n)};return[Mi,$n,Kn,Ri]}function hu(Ue,Be){return Ue.map(function(_t){var vt=Object(C.a)({},_t);return vt.title=Tn(_t.title,Be),"children"in vt&&(vt.children=hu(vt.children,Be)),vt})}function Tl(Ue){var Be=A.useCallback(function(_t){return hu(_t,Ue)},[Ue]);return[Be]}var fu=[];function vd(Ue,Be){var _t,vt=Ue.prefixCls,ht=Ue.className,zt=Ue.style,Yt=Ue.size,nn=Ue.bordered,yn=Ue.dropdownPrefixCls,Rn=Ue.dataSource,ei=Ue.pagination,$n=Ue.rowSelection,Kn=Ue.rowKey,ui=Kn===void 0?"key":Kn,Mi=Ue.rowClassName,Ri=Ue.columns,Ti=Ue.children,Xi=Ue.childrenColumnName,Ji=Ue.onChange,Or=Ue.getPopupContainer,kr=Ue.loading,Pr=Ue.expandIcon,vr=Ue.expandable,Ir=Ue.expandedRowRender,tr=Ue.expandIconColumnIndex,Ui=Ue.indentSize,$i=Ue.scroll,sr=Ue.sortDirections,Dr=Ue.locale,wr=Ue.showSorterTooltip,lr=wr===void 0?!0:wr;[["filterDropdownVisible","filterDropdownOpen"],["onFilterDropdownVisibleChange","onFilterDropdownOpenChange"]].forEach(function(ho){var qa=Object(re.a)(ho,2),qo=qa[0],tu=qa[1]});var ar=A.useMemo(function(){return Ri||yr(Ti)},[Ri,Ti]),Rr=A.useMemo(function(){return ar.some(function(ho){return ho.responsive})},[ar]),zr=Object(In.a)(Rr),Vr=A.useMemo(function(){var ho=new Set(Object.keys(zr).filter(function(qa){return zr[qa]}));return ar.filter(function(qa){return!qa.responsive||qa.responsive.some(function(qo){return ho.has(qo)})})},[ar,zr]),la=Object(Pt.a)(Ue,["className","style","columns"]),Ta=A.useContext(Nn.b),ga=A.useContext(Zt.b),ma=ga.locale,Sa=ma===void 0?Wn.a:ma,se=ga.renderEmpty,ae=ga.direction,b=Yt||Ta,_=Object(C.a)(Object(C.a)({},Sa.Table),Dr),p=Rn||fu,P=A.useContext(Zt.b),X=P.getPrefixCls,Se=X("table",vt),Ae=X("dropdown",yn),qe=Object(C.a)({childrenColumnName:Xi,expandIconColumnIndex:tr},vr),rt=qe.childrenColumnName,ct=rt===void 0?"children":rt,Xt=A.useMemo(function(){return p.some(function(ho){return ho==null?void 0:ho[ct]})?"nest":Ir||vr&&vr.expandedRowRender?"row":null},[p]),cn={body:A.useRef()},Mn=A.useMemo(function(){return typeof ui=="function"?ui:function(ho){return ho==null?void 0:ho[ui]}},[ui]),gi=Object(Gu.a)(p,ct,Mn),Zn=Object(re.a)(gi,1),di=Zn[0],Un={},qn=function(qa,qo){var tu=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Yo=Object(C.a)(Object(C.a)({},Un),qa);tu&&(Un.resetPagination(),Yo.pagination.current&&(Yo.pagination.current=1),ei&&ei.onChange&&ei.onChange(1,Yo.pagination.pageSize)),$i&&$i.scrollToFirstRowOnChange!==!1&&cn.body.current&&oe(0,{getContainer:function(){return cn.body.current}}),Ji==null||Ji(Yo.pagination,Yo.filters,Yo.sorter,{currentDataSource:Hc(zc(p,Yo.sorterStates,ct),Yo.filterStates),action:qo})},ur=function(qa,qo){qn({sorter:qa,sorterStates:qo},"sort",!1)},_r=fd({prefixCls:Se,mergedColumns:Vr,onSorterChange:ur,sortDirections:sr||["ascend","descend"],tableLocale:_,showSorterTooltip:lr}),cr=Object(re.a)(_r,4),Zr=cr[0],Kr=cr[1],Jr=cr[2],pa=cr[3],Ma=A.useMemo(function(){return zc(p,Kr,ct)},[p,Kr]);Un.sorter=pa(),Un.sorterStates=Kr;var Vo=function(qa,qo){qn({filters:qa,filterStates:qo},"filter",!0)},vs=bc({prefixCls:Se,locale:_,dropdownPrefixCls:Ae,mergedColumns:Vr,onFilterChange:Vo,getPopupContainer:Or}),Xa=Object(re.a)(vs,3),Ea=Xa[0],wa=Xa[1],qr=Xa[2],Ua=Hc(Ma,wa);Un.filters=qr,Un.filterStates=wa;var to=A.useMemo(function(){var ho={};return Object.keys(qr).forEach(function(qa){qr[qa]!==null&&(ho[qa]=qr[qa])}),Object(C.a)(Object(C.a)({},Jr),{filters:ho})},[Jr,qr]),ls=Tl(to),xo=Object(re.a)(ls,1),Qo=xo[0],Ho=function(qa,qo){qn({pagination:Object(C.a)(Object(C.a)({},Un.pagination),{current:qa,pageSize:qo})},"paginate")},xl=yc(Ua.length,ei,Ho),za=Object(re.a)(xl,2),Pa=za[0],ko=za[1];Un.pagination=ei===!1?{}:$u(ei,Pa),Un.resetPagination=ko;var co=A.useMemo(function(){if(ei===!1||!Pa.pageSize)return Ua;var ho=Pa.current,qa=ho===void 0?1:ho,qo=Pa.total,tu=Pa.pageSize,Yo=tu===void 0?fl:tu;return Ua.length<qo?Ua.length>Yo?Ua.slice((qa-1)*Yo,qa*Yo):Ua:Ua.slice((qa-1)*Yo,qa*Yo)},[!!ei,Ua,Pa&&Pa.current,Pa&&Pa.pageSize,Pa&&Pa.total]),as=Uc($n,{prefixCls:Se,data:Ua,pageData:co,getRowKey:Mn,getRecordByKey:di,expandType:Xt,childrenColumnName:ct,locale:_,getPopupContainer:Or}),jo=Object(re.a)(as,2),Xr=jo[0],ba=jo[1],Ga=function(qa,qo,tu){var Yo;return typeof Mi=="function"?Yo=S()(Mi(qa,qo,tu)):Yo=S()(Mi),S()(Object(j.a)({},"".concat(Se,"-row-selected"),ba.has(Mn(qa,qo))),Yo)};qe.__PARENT_RENDER_ICON__=qe.expandIcon,qe.expandIcon=qe.expandIcon||Pr||sn(_),Xt==="nest"&&qe.expandIconColumnIndex===void 0?qe.expandIconColumnIndex=$n?1:0:qe.expandIconColumnIndex>0&&$n&&(qe.expandIconColumnIndex-=1),typeof qe.indentSize!="number"&&(qe.indentSize=typeof Ui=="number"?Ui:15);var $a=A.useCallback(function(ho){return Qo(Xr(Ea(Zr(ho))))},[Zr,Ea,Xr]),gs,Os;if(ei!==!1&&(Pa==null?void 0:Pa.total)){var Uo;Pa.size?Uo=Pa.size:Uo=b==="small"||b==="middle"?"small":void 0;var _l=function(qa){return A.createElement(nt,Object(C.a)({},Pa,{className:S()("".concat(Se,"-pagination ").concat(Se,"-pagination-").concat(qa),Pa.className),size:Uo}))},eu=ae==="rtl"?"left":"right",Hs=Pa.position;if(Hs!==null&&Array.isArray(Hs)){var Wu=Hs.find(function(ho){return ho.includes("top")}),ku=Hs.find(function(ho){return ho.includes("bottom")}),Pc=Hs.every(function(ho){return"".concat(ho)==="none"});!Wu&&!ku&&!Pc&&(Os=_l(eu)),Wu&&(gs=_l(Wu.toLowerCase().replace("top",""))),ku&&(Os=_l(ku.toLowerCase().replace("bottom","")))}else Os=_l(eu)}var Du;typeof kr=="boolean"?Du={spinning:kr}:Object(ve.a)(kr)==="object"&&(Du=Object(C.a)({spinning:!0},kr));var Md=S()("".concat(Se,"-wrapper"),Object(j.a)({},"".concat(Se,"-wrapper-rtl"),ae==="rtl"),ht);return A.createElement("div",{ref:Be,className:Md,style:zt},A.createElement(_e.a,Object(C.a)({spinning:!1},Du),gs,A.createElement(Tt,Object(C.a)({},la,{columns:Vr,direction:ae,expandable:qe,prefixCls:Se,className:S()((_t={},Object(j.a)(_t,"".concat(Se,"-middle"),b==="middle"),Object(j.a)(_t,"".concat(Se,"-small"),b==="small"),Object(j.a)(_t,"".concat(Se,"-bordered"),nn),Object(j.a)(_t,"".concat(Se,"-empty"),p.length===0),_t)),data:co,rowKey:Mn,rowClassName:Ga,emptyText:Dr&&Dr.emptyText||(se||Ut.a)("Table"),internalHooks:ha,internalRefs:cn,transformColumns:$a})),Os))}var Kl=A.forwardRef(vd),gl=Kl;gl.SELECTION_COLUMN=rl,gl.EXPAND_COLUMN=Tt.EXPAND_COLUMN,gl.SELECTION_ALL=_o,gl.SELECTION_INVERT=Yu,gl.SELECTION_NONE=Xs,gl.Column=Ve,gl.ColumnGroup=pt,gl.Summary=Ze;var Kc=gl,Gl=Kc,Fi=a("nKUr"),Jd=a("Znn+"),Tu=a("ZTPi"),iv=a("1GLa"),Gc=a("TLLU"),Fs=a("YSkC"),Bs=a("BGR+"),fs=a("VzZb"),gd=["tab","children"],Xu=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"];function Dc(Ue){return Ue.filter(function(Be){return Be})}function qd(Ue,Be,_t){if(Ue)return Ue.map(function(ht){return Object(T.a)(Object(T.a)({},ht),{},{children:Object(Fi.jsx)($l,Object(T.a)(Object(T.a)({},_t==null?void 0:_t.cardProps),{},{children:ht.children}))})});Object(ce.b)(!_t,"Tabs.TabPane is deprecated. Please use `items` directly.");var vt=Object(yt.a)(Be).map(function(ht){if(ue.a.isValidElement(ht)){var zt=ht.key,Yt=ht.props,nn=Yt||{},yn=nn.tab,Rn=nn.children,ei=Object(I.a)(nn,gd),$n=Object(T.a)(Object(T.a)({key:String(zt)},ei),{},{children:Object(Fi.jsx)($l,Object(T.a)(Object(T.a)({},_t==null?void 0:_t.cardProps),{},{children:Rn})),label:yn});return $n}return null});return Dc(vt)}var Ju=function(Be){var _t=Be.key,vt=Be.tab,ht=Be.tabKey,zt=Be.disabled,Yt=Be.destroyInactiveTabPane,nn=Be.children,yn=Be.className,Rn=Be.style,ei=Be.cardProps,$n=Object(I.a)(Be,Xu),Kn=Object(A.useContext)($.a.ConfigContext),ui=Kn.getPrefixCls,Mi=ui("pro-card-tabpane"),Ri=S()(Mi,yn);return Object(Fi.jsx)(Tu.a.TabPane,Object(T.a)(Object(T.a)({tabKey:ht,tab:vt,className:Ri,style:Rn,disabled:zt,destroyInactiveTabPane:Yt},$n),{},{children:Object(Fi.jsx)($l,Object(T.a)(Object(T.a)({},ei),{},{children:nn}))}),_t)},Ws=Ju,eh=a("S76h"),md=function(Be){var _t=Be.actions,vt=Be.prefixCls;return Array.isArray(_t)&&(_t==null?void 0:_t.length)?Object(Fi.jsx)("ul",{className:"".concat(vt,"-actions"),children:_t.map(function(ht,zt){return Object(Fi.jsx)("li",{style:{width:"".concat(100/_t.length,"%")},children:Object(Fi.jsx)("span",{children:ht})},"action-".concat(zt))})}):_t?Object(Fi.jsx)("ul",{className:"".concat(vt,"-actions"),children:_t}):null},$c=md,Iu=a("jCWc"),el=a("kPKH"),qh=a("14J3"),Pu=a("BMrR"),Qc=a("aK+R"),pd=function(Be){var _t=Be.style,vt=Be.prefix;return Object(Fi.jsxs)("div",{className:"".concat(vt,"-loading-content"),style:_t,children:[Object(Fi.jsx)(Pu.a,{gutter:8,children:Object(Fi.jsx)(el.a,{span:22,children:Object(Fi.jsx)("div",{className:"".concat(vt,"-loading-block")})})}),Object(Fi.jsxs)(Pu.a,{gutter:8,children:[Object(Fi.jsx)(el.a,{span:8,children:Object(Fi.jsx)("div",{className:"".concat(vt,"-loading-block")})}),Object(Fi.jsx)(el.a,{span:15,children:Object(Fi.jsx)("div",{className:"".concat(vt,"-loading-block")})})]}),Object(Fi.jsxs)(Pu.a,{gutter:8,children:[Object(Fi.jsx)(el.a,{span:6,children:Object(Fi.jsx)("div",{className:"".concat(vt,"-loading-block")})}),Object(Fi.jsx)(el.a,{span:18,children:Object(Fi.jsx)("div",{className:"".concat(vt,"-loading-block")})})]}),Object(Fi.jsxs)(Pu.a,{gutter:8,children:[Object(Fi.jsx)(el.a,{span:13,children:Object(Fi.jsx)("div",{className:"".concat(vt,"-loading-block")})}),Object(Fi.jsx)(el.a,{span:9,children:Object(Fi.jsx)("div",{className:"".concat(vt,"-loading-block")})})]}),Object(Fi.jsxs)(Pu.a,{gutter:8,children:[Object(Fi.jsx)(el.a,{span:4,children:Object(Fi.jsx)("div",{className:"".concat(vt,"-loading-block")})}),Object(Fi.jsx)(el.a,{span:3,children:Object(Fi.jsx)("div",{className:"".concat(vt,"-loading-block")})}),Object(Fi.jsx)(el.a,{span:16,children:Object(Fi.jsx)("div",{className:"".concat(vt,"-loading-block")})})]})]})},Yc=pd,vu=a("df8c"),Zc=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","collapsibleIconRender","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],Vs=Gc.a.useBreakpoint,Ks=ue.a.forwardRef(function(Ue,Be){var _t,vt,ht,zt=Ue.className,Yt=Ue.style,nn=Ue.bodyStyle,yn=nn===void 0?{}:nn,Rn=Ue.headStyle,ei=Rn===void 0?{}:Rn,$n=Ue.title,Kn=Ue.subTitle,ui=Ue.extra,Mi=Ue.tip,Ri=Ue.wrap,Ti=Ri===void 0?!1:Ri,Xi=Ue.layout,Ji=Ue.loading,Or=Ue.gutter,kr=Or===void 0?0:Or,Pr=Ue.tooltip,vr=Ue.split,Ir=Ue.headerBordered,tr=Ir===void 0?!1:Ir,Ui=Ue.bordered,$i=Ui===void 0?!1:Ui,sr=Ue.children,Dr=Ue.size,wr=Ue.actions,lr=Ue.ghost,ar=lr===void 0?!1:lr,Rr=Ue.hoverable,zr=Rr===void 0?!1:Rr,Vr=Ue.direction,la=Ue.collapsed,Ta=Ue.collapsible,ga=Ta===void 0?!1:Ta,ma=Ue.collapsibleIconRender,Sa=Ue.defaultCollapsed,se=Sa===void 0?!1:Sa,ae=Ue.onCollapse,b=Ue.checked,_=Ue.onChecked,p=Ue.tabs,P=Ue.type,X=Object(I.a)(Ue,Zc),Se=Object(A.useContext)($.a.ConfigContext),Ae=Se.getPrefixCls,qe=Vs(),rt=Object(bs.a)(se,{value:la,onChange:ae}),ct=Object(re.a)(rt,2),Xt=ct[0],cn=ct[1],Mn=["xxl","xl","lg","md","sm","xs"],gi=qd(p==null?void 0:p.items,sr,p),Zn=function(qr){var Ua=[0,0],to=Array.isArray(qr)?qr:[qr,0];return to.forEach(function(ls,xo){if(Object(ve.a)(ls)==="object")for(var Qo=0;Qo<Mn.length;Qo+=1){var Ho=Mn[Qo];if(qe[Ho]&&ls[Ho]!==void 0){Ua[xo]=ls[Ho];break}}else Ua[xo]=ls||0}),Ua},di=function(qr,Ua){return qr?Ua:{}},Un=function(qr){var Ua=qr;if(Object(ve.a)(qr)==="object")for(var to=0;to<Mn.length;to+=1){var ls=Mn[to];if(qe[ls]&&qr[ls]!==void 0){Ua=qr[ls];break}}var xo=di(typeof Ua=="string"&&/\d%|\dpx/i.test(Ua),{width:Ua,flexShrink:0});return{span:Ua,colSpanStyle:xo}},qn=Ae("pro-card"),ur=Zn(kr),_r=Object(re.a)(ur,2),cr=_r[0],Zr=_r[1],Kr=!1,Jr=ue.a.Children.toArray(sr),pa=Jr.map(function(wa,qr){var Ua;if(wa==null||(Ua=wa.type)===null||Ua===void 0?void 0:Ua.isProCard){var to;Kr=!0;var ls=wa.props.colSpan,xo=Un(ls),Qo=xo.span,Ho=xo.colSpanStyle,xl=S()(["".concat(qn,"-col")],(to={},Object(j.a)(to,"".concat(qn,"-split-vertical"),vr==="vertical"&&qr!==Jr.length-1),Object(j.a)(to,"".concat(qn,"-split-horizontal"),vr==="horizontal"&&qr!==Jr.length-1),Object(j.a)(to,"".concat(qn,"-col-").concat(Qo),typeof Qo=="number"&&Qo>=0&&Qo<=24),to));return Object(Fi.jsx)("div",{style:Object(T.a)(Object(T.a)(Object(T.a)({},Ho),di(cr>0,{paddingRight:cr/2,paddingLeft:cr/2})),di(Zr>0,{paddingTop:Zr/2,paddingBottom:Zr/2})),className:xl,children:ue.a.cloneElement(wa)},"pro-card-col-".concat((wa==null?void 0:wa.key)||qr))}return wa}),Ma=S()("".concat(qn),zt,(_t={},Object(j.a)(_t,"".concat(qn,"-border"),$i),Object(j.a)(_t,"".concat(qn,"-contain-card"),Kr),Object(j.a)(_t,"".concat(qn,"-loading"),Ji),Object(j.a)(_t,"".concat(qn,"-split"),vr==="vertical"||vr==="horizontal"),Object(j.a)(_t,"".concat(qn,"-ghost"),ar),Object(j.a)(_t,"".concat(qn,"-hoverable"),zr),Object(j.a)(_t,"".concat(qn,"-size-").concat(Dr),Dr),Object(j.a)(_t,"".concat(qn,"-type-").concat(P),P),Object(j.a)(_t,"".concat(qn,"-collapse"),Xt),Object(j.a)(_t,"".concat(qn,"-checked"),b),_t)),Vo=S()("".concat(qn,"-body"),(vt={},Object(j.a)(vt,"".concat(qn,"-body-center"),Xi==="center"),Object(j.a)(vt,"".concat(qn,"-body-direction-column"),vr==="horizontal"||Vr==="column"),Object(j.a)(vt,"".concat(qn,"-body-wrap"),Ti&&Kr),vt)),vs=Object(T.a)(Object(T.a)(Object(T.a)({},di(cr>0,{marginRight:-cr/2,marginLeft:-cr/2})),di(Zr>0,{marginTop:-Zr/2,marginBottom:-Zr/2})),yn),Xa=ue.a.isValidElement(Ji)?Ji:Object(Fi.jsx)(Yc,{prefix:qn,style:yn.padding===0||yn.padding==="0px"?{padding:24}:void 0}),Ea=ga&&la===void 0&&(ma?ma({collapsed:Xt}):Object(Fi.jsx)(Sn.a,{rotate:Xt?void 0:90,className:"".concat(qn,"-collapsible-icon")}));return Object(Fi.jsxs)("div",Object(T.a)(Object(T.a)({className:Ma,style:Yt,ref:Be,onClick:function(qr){var Ua;_==null||_(qr),X==null||(Ua=X.onClick)===null||Ua===void 0||Ua.call(X,qr)}},Object(Bs.a)(X,["prefixCls","colSpan"])),{},{children:[($n||ui||Ea)&&Object(Fi.jsxs)("div",{className:S()("".concat(qn,"-header"),(ht={},Object(j.a)(ht,"".concat(qn,"-header-border"),tr||P==="inner"),Object(j.a)(ht,"".concat(qn,"-header-collapsible"),Ea),ht)),style:ei,onClick:function(){Ea&&cn(!Xt)},children:[Object(Fi.jsxs)("div",{className:"".concat(qn,"-title"),children:[Ea,Object(Fi.jsx)(Fs.a,{label:$n,tooltip:Pr||Mi,subTitle:Kn})]}),ui&&Object(Fi.jsx)("div",{className:"".concat(qn,"-extra"),children:ui})]}),p?Object(Fi.jsx)("div",{className:"".concat(qn,"-tabs"),children:Object(Fi.jsx)(Tu.a,Object(T.a)(Object(T.a)({onChange:p.onChange},p),{},{items:gi,children:Ji?Xa:sr}))}):Object(Fi.jsx)("div",{className:Vo,style:vs,children:Ji?Xa:pa}),Object(Fi.jsx)($c,{actions:wr,prefixCls:qn})]}))}),$l=Ks,qu=a("u1OI"),ml=function(Be){var _t=Object(A.useContext)($.a.ConfigContext),vt=_t.getPrefixCls,ht=vt("pro-card-divider"),zt=Be.className,Yt=Be.style,nn=Yt===void 0?{}:Yt,yn=Be.type,Rn=S()(ht,zt,Object(j.a)({},"".concat(ht,"-").concat(yn),yn));return Object(Fi.jsx)("div",{className:Rn,style:nn})},Au=ml,ja=function(Be){return Object(Fi.jsx)($l,Object(T.a)({bodyStyle:{padding:0}},Be))},Ds=$l;Ds.isProCard=!0,Ds.Divider=Au,Ds.TabPane=Ws,Ds.Group=ja;var Bo=Ds,Xc=Bo,Ro=a("VMEa"),gu=a("mzd2"),Il=a("PjWh"),pl=a("9mHw"),Gs=a("g5r2"),ws=a("3j9d"),Ql=a("AMKO"),Ru=a("fOrg"),mu=a("+KLJ"),bd=a("DYRE"),wo=a("zeV3"),ef=a("wFNa"),wc=function(Be){var _t=Be.intl,vt=Be.onCleanSelected;return[Object(Fi.jsx)("a",{onClick:vt,children:_t.getMessage("alert.clear","\u6E05\u7A7A")},"0")]};function ec(Ue){var Be=Ue.selectedRowKeys,_t=Be===void 0?[]:Be,vt=Ue.onCleanSelected,ht=Ue.alwaysShowAlert,zt=Ue.selectedRows,Yt=Ue.alertInfoRender,nn=Yt===void 0?function(Ti){var Xi=Ti.intl;return Object(Fi.jsxs)(wo.b,{children:[Xi.getMessage("alert.selected","\u5DF2\u9009\u62E9"),_t.length,Xi.getMessage("alert.item","\u9879"),"\xA0\xA0"]})}:Yt,yn=Ue.alertOptionRender,Rn=yn===void 0?wc:yn,ei=Object(le.d)(),$n=Rn&&Rn({onCleanSelected:vt,selectedRowKeys:_t,selectedRows:zt,intl:ei}),Kn=Object(A.useContext)($.a.ConfigContext),ui=Kn.getPrefixCls,Mi=ui("pro-table-alert");if(nn===!1)return null;var Ri=nn({intl:ei,selectedRowKeys:_t,selectedRows:zt,onCleanSelected:vt});return Ri===!1||_t.length<1&&!ht?null:Object(Fi.jsx)("div",{className:Mi,children:Object(Fi.jsx)(mu.a,{message:Object(Fi.jsxs)("div",{className:"".concat(Mi,"-info"),children:[Object(Fi.jsx)("div",{className:"".concat(Mi,"-info-content"),children:Ri}),$n?Object(Fi.jsx)("div",{className:"".concat(Mi,"-info-option"),children:$n}):null]}),type:"info"})})}var Jc=ec,pu=a("ipCM");function tc(Ue,Be,_t){var vt=Be<0?Ue.length+Be:Be;if(vt>=0&&vt<Ue.length){var ht=_t<0?Ue.length+_t:_t,zt=Ue.splice(Be,1),Yt=Object(re.a)(zt,1),nn=Yt[0];Ue.splice(ht,0,nn)}}function Nu(Ue,Be,_t){var vt=Object(z.a)(Ue);return tc(vt,Be,_t),vt}var jc=function(Be){return Be!=null};function Pl(Ue,Be,_t){var vt,ht;if(Ue===!1)return!1;var zt=Be.total,Yt=Be.current,nn=Be.pageSize,yn=Be.setPageInfo,Rn=Object(ve.a)(Ue)==="object"?Ue:{};return Object(T.a)(Object(T.a)({showTotal:function($n,Kn){return"".concat(_t.getMessage("pagination.total.range","\u7B2C")," ").concat(Kn[0],"-").concat(Kn[1]," ").concat(_t.getMessage("pagination.total.total","\u6761/\u603B\u5171")," ").concat($n," ").concat(_t.getMessage("pagination.total.item","\u6761"))},total:zt},Rn),{},{current:Ue!==!0&&Ue&&(vt=Ue.current)!==null&&vt!==void 0?vt:Yt,pageSize:Ue!==!0&&Ue&&(ht=Ue.pageSize)!==null&&ht!==void 0?ht:nn,onChange:function($n,Kn){var ui=Ue.onChange;ui==null||ui($n,Kn||20),(Kn!==nn||Yt!==$n)&&yn({pageSize:Kn,current:$n})}})}function th(Ue,Be,_t){var vt=Object(T.a)(Object(T.a)({},_t.editableUtils),{},{pageInfo:Be.pageInfo,reload:function(){var ht=Object(E.a)(Object(De.a)().mark(function Yt(nn){return Object(De.a)().wrap(function(Rn){for(;;)switch(Rn.prev=Rn.next){case 0:if(!nn){Rn.next=3;break}return Rn.next=3,Be.setPageInfo({current:1});case 3:Be==null||Be.reload();case 4:case"end":return Rn.stop()}},Yt)}));function zt(Yt){return ht.apply(this,arguments)}return zt}(),reloadAndRest:function(){var ht=Object(E.a)(Object(De.a)().mark(function Yt(){return Object(De.a)().wrap(function(yn){for(;;)switch(yn.prev=yn.next){case 0:return _t.onCleanSelected(),yn.next=3,Be.setPageInfo({current:1});case 3:return yn.next=5,Be==null?void 0:Be.reload();case 5:case"end":return yn.stop()}},Yt)}));function zt(){return ht.apply(this,arguments)}return zt}(),reset:function(){var ht=Object(E.a)(Object(De.a)().mark(function Yt(){var nn;return Object(De.a)().wrap(function(Rn){for(;;)switch(Rn.prev=Rn.next){case 0:return Rn.next=2,_t.resetAll();case 2:return Rn.next=4,Be==null||(nn=Be.reset)===null||nn===void 0?void 0:nn.call(Be);case 4:return Rn.next=6,Be==null?void 0:Be.reload();case 6:case"end":return Rn.stop()}},Yt)}));function zt(){return ht.apply(this,arguments)}return zt}(),fullScreen:function(){return _t.fullScreen()},clearSelected:function(){return _t.onCleanSelected()},setPageInfo:function(zt){return Be.setPageInfo(zt)}});Ue.current=vt}function ze(Ue,Be){return Be.filter(function(_t){return _t}).length<1?Ue:Be.reduce(function(_t,vt){return vt(_t)},Ue)}var Ce=function(Be,_t){return _t===void 0?!1:typeof _t=="boolean"?_t:_t[Be]},v=function(Be){var _t;return Be&&Object(ve.a)(Be)==="object"&&(Be==null||(_t=Be.props)===null||_t===void 0?void 0:_t.colSpan)},m=function(Be,_t){return Be?Array.isArray(Be)?Be.join("-"):Be.toString():"".concat(_t)};function u(Ue){return Array.isArray(Ue)?Ue.join(","):Ue==null?void 0:Ue.toString()}function g(Ue){var Be={},_t={};return Ue.forEach(function(vt){var ht=u(vt.dataIndex);if(!!ht){if(vt.filters){var zt=vt.defaultFilteredValue;zt===void 0?Be[ht]=null:Be[ht]=vt.defaultFilteredValue}vt.sorter&&vt.defaultSortOrder&&(_t[ht]=vt.defaultSortOrder)}}),{sort:_t,filter:Be}}function O(Ue,Be){var _t=Ue.oldIndex,vt=Ue.newIndex;if(_t!==vt){var ht=Nu(Object(z.a)(Be||[]),_t,vt).filter(function(zt){return!!zt});return Object(z.a)(ht)}return null}var te=a("y8nQ"),Le=a("Vl3Y"),Me=a("erM0"),at=a("uX+g"),Ot=a("+caW"),Mt=a("iOmF"),Qt=a("rmhi"),Ht=a("hkzD"),dt=a("PNUv"),Cn=a("Ga8k"),Pn=["steps","columns","forceUpdate","grid"],ni=function(Be){var _t=Be.steps,vt=Be.columns,ht=Be.forceUpdate,zt=Be.grid,Yt=Object(I.a)(Be,Pn),nn=Object(Me.a)(Yt),yn=Object(A.useCallback)(function(ei){var $n,Kn;($n=(Kn=nn.current).onCurrentChange)===null||$n===void 0||$n.call(Kn,ei),ht([])},[ht,nn]),Rn=Object(A.useMemo)(function(){return _t==null?void 0:_t.map(function(ei,$n){return Object(A.createElement)(yu,Object(T.a)(Object(T.a)({grid:zt},ei),{},{key:$n,layoutType:"StepForm",columns:vt[$n]}))})},[vt,zt,_t]);return Object(Fi.jsx)(Cn.a,Object(T.a)(Object(T.a)({},Yt),{},{onCurrentChange:yn,children:Rn}))},hi=ni,Di=function(Be){var _t=Be.children;return Object(Fi.jsx)(Fi.Fragment,{children:_t})},wi=Di,nr=a("WuYN"),Ni=function(Be,_t){var vt=_t.genItems;if(Be.valueType==="dependency"){var ht,zt,Yt,nn=(ht=Be.getFieldProps)===null||ht===void 0?void 0:ht.call(Be);return Object(ce.b)(Array.isArray((zt=Be.name)!==null&&zt!==void 0?zt:nn==null?void 0:nn.name),'SchemaForm: fieldProps.name should be NamePath[] when valueType is "dependency"'),Object(ce.b)(typeof Be.columns=="function",'SchemaForm: columns should be a function when valueType is "dependency"'),Array.isArray((Yt=Be.name)!==null&&Yt!==void 0?Yt:nn==null?void 0:nn.name)?Object(A.createElement)(nr.a,Object(T.a)(Object(T.a)({name:Be.name},nn),{},{key:Be.key}),function(yn){return!Be.columns||typeof Be.columns!="function"?null:vt(Be.columns(yn))}):null}return!0},Wi=a("/zsF"),er=a("PArb"),br=function(Be){if(Be.valueType==="divider"){var _t;return Object(A.createElement)(er.a,Object(T.a)(Object(T.a)({},(_t=Be.getFieldProps)===null||_t===void 0?void 0:_t.call(Be)),{},{key:Be.key}))}return!0},xr=a("adzw"),Ur=function(Be,_t){var vt=_t.action,ht=_t.formRef,zt=_t.type,Yt=_t.originItem,nn=Object(T.a)(Object(T.a)({},Object(Bs.a)(Be,["dataIndex","width","render","renderFormItem","renderText","title"])),{},{name:Be.dataIndex,width:Be.width,render:(Be==null?void 0:Be.render)?function($n,Kn,ui){var Mi,Ri,Ti;return Be==null||(Mi=Be.render)===null||Mi===void 0?void 0:Mi.call(Be,$n,Kn,ui,vt==null?void 0:vt.current,Object(T.a)(Object(T.a)({type:zt},Be),{},{formItemProps:(Ri=Be.getFormItemProps)===null||Ri===void 0?void 0:Ri.call(Be),fieldProps:(Ti=Be.getFieldProps)===null||Ti===void 0?void 0:Ti.call(Be)}))}:void 0}),yn=function(){return Object(Fi.jsx)(xr.a,Object(T.a)(Object(T.a)({},nn),{},{ignoreFormItem:!0}))},Rn=(Be==null?void 0:Be.renderFormItem)?function($n,Kn){var ui,Mi,Ri,Ti=Object(Il.a)(Object(T.a)(Object(T.a)({},Kn),{},{onChange:void 0}));return Be==null||(ui=Be.renderFormItem)===null||ui===void 0?void 0:ui.call(Be,Object(T.a)(Object(T.a)({type:zt},Be),{},{formItemProps:(Mi=Be.getFormItemProps)===null||Mi===void 0?void 0:Mi.call(Be),fieldProps:(Ri=Be.getFieldProps)===null||Ri===void 0?void 0:Ri.call(Be),originProps:Yt}),Object(T.a)(Object(T.a)({},Ti),{},{defaultRender:yn,type:zt}),ht.current)}:void 0;if(Be==null?void 0:Be.renderFormItem){var ei=Rn==null?void 0:Rn(null,{});if(!ei||Be.ignoreFormItem)return ei}return Object(A.createElement)(xr.a,Object(T.a)(Object(T.a)({},nn),{},{key:"".concat(Be.key,"-").concat(Be.index),renderFormItem:Rn}))},ca=a("x1Ii"),Ca=function(Be,_t){var vt=_t.genItems;if(Be.valueType==="formList"&&Be.dataIndex){var ht,zt,Yt,nn,yn,Rn,ei,$n,Kn,ui,Mi;return!Be.columns||!Array.isArray(Be.columns)?null:Object(Fi.jsx)(ca.b,Object(T.a)(Object(T.a)({name:Be.dataIndex,label:Be.label,initialValue:Be.initialValue,colProps:Be.colProps,rowProps:Be.rowProps},(ht=Be.getFieldProps)===null||ht===void 0?void 0:ht.call(Be)),{},{isValidateList:(zt=((yn=Be.getFormItemProps)===null||yn===void 0?void 0:yn.call(Be))||((Rn=Be.getFieldProps)===null||Rn===void 0?void 0:Rn.call(Be)))===null||zt===void 0||(Yt=zt.rules)===null||Yt===void 0||(nn=Yt[0])===null||nn===void 0?void 0:nn.required,emptyListMessage:(ei=((ui=Be.getFormItemProps)===null||ui===void 0?void 0:ui.call(Be))||((Mi=Be.getFieldProps)===null||Mi===void 0?void 0:Mi.call(Be)))===null||ei===void 0||($n=ei.rules)===null||$n===void 0||(Kn=$n[0])===null||Kn===void 0?void 0:Kn.message,children:vt(Be.columns)}),Be.key)}return!0},ra=a("+i8S"),Ha=a("WFLz"),Ja=a("a7SZ"),So=["children","value","valuePropName","onChange","fieldProps","space","type","transform","convertValue"],Ba=["children","space","valuePropName"],Wo={space:wo.b,group:rr.a.Group};function Ka(Ue){var Be=arguments.length<=1?void 0:arguments[1];return Be&&Be.target&&Ue in Be.target?Be.target[Ue]:Be}var Wa=function(Be){var _t=Be.children,vt=Be.value,ht=vt===void 0?[]:vt,zt=Be.valuePropName,Yt=Be.onChange,nn=Be.fieldProps,yn=Be.space,Rn=Be.type,ei=Rn===void 0?"space":Rn,$n=Be.transform,Kn=Be.convertValue,ui=Object(I.a)(Be,So),Mi=Object(ra.a)(function(vr,Ir){var tr,Ui=Object(z.a)(ht);Ui[Ir]=Ka(zt||"value",vr),Yt==null||Yt(Ui),nn==null||(tr=nn.onChange)===null||tr===void 0||tr.call(nn,Ui)}),Ri=-1,Ti=Object(yt.a)(_t).map(function(vr){if(ue.a.isValidElement(vr)){var Ir,tr,Ui;Ri+=1;var $i=Ri,sr=(vr==null||(Ir=vr.type)===null||Ir===void 0?void 0:Ir.displayName)==="ProFormComponent"||(vr==null||(tr=vr.props)===null||tr===void 0?void 0:tr.readonly),Dr=sr?Object(T.a)(Object(T.a)({key:$i,ignoreFormItem:!0},vr.props||{}),{},{fieldProps:Object(T.a)(Object(T.a)({},vr==null||(Ui=vr.props)===null||Ui===void 0?void 0:Ui.fieldProps),{},{onChange:function(){Mi(arguments.length<=0?void 0:arguments[0],$i)}}),value:ht==null?void 0:ht[$i],onChange:void 0}):Object(T.a)(Object(T.a)({key:$i},vr.props||{}),{},{value:ht==null?void 0:ht[$i],onChange:function(lr){var ar,Rr;Mi(lr,$i),(ar=(Rr=vr.props).onChange)===null||ar===void 0||ar.call(Rr,lr)}});return ue.a.cloneElement(vr,Dr)}return vr}),Xi=Wo[ei],Ji=Object(Ja.b)(ui),Or=Ji.RowWrapper,kr=Object(A.useMemo)(function(){return Object(T.a)({},ei==="group"?{compact:!0}:{})},[ei]),Pr=Object(A.useCallback)(function(vr){var Ir=vr.children;return Object(Fi.jsx)(Xi,Object(T.a)(Object(T.a)(Object(T.a)({},kr),yn),{},{align:"start",children:Ir}))},[Xi,yn,kr]);return Object(Fi.jsx)(Or,{Wrapper:Pr,children:Ti})},No=ue.a.forwardRef(function(Ue,Be){var _t=Ue.children,vt=Ue.space,ht=Ue.valuePropName,zt=Object(I.a)(Ue,Ba);return Object(A.useImperativeHandle)(Be,function(){return{}}),Object(Fi.jsx)(Wa,Object(T.a)(Object(T.a)(Object(T.a)({space:vt,valuePropName:ht},zt.fieldProps),{},{onChange:void 0},zt),{},{children:_t}))}),To=Object(Ha.a)(No),ys=To,$s=function(Be,_t){var vt=_t.genItems;if(Be.valueType==="formSet"&&Be.dataIndex){var ht,zt;return!Be.columns||!Array.isArray(Be.columns)?null:Object(A.createElement)(ys,Object(T.a)(Object(T.a)({},(ht=Be.getFormItemProps)===null||ht===void 0?void 0:ht.call(Be)),{},{key:Be.key,initialValue:Be.initialValue,name:Be.dataIndex,label:Be.label,colProps:Be.colProps,rowProps:Be.rowProps},(zt=Be.getFieldProps)===null||zt===void 0?void 0:zt.call(Be)),vt(Be.columns))}return!0},Is=a("uD7z"),Yl=function(Be,_t){var vt=_t.genItems;if(Be.valueType==="group"){var ht;return!Be.columns||!Array.isArray(Be.columns)?null:Object(Fi.jsx)(Is.a,Object(T.a)(Object(T.a)({label:Be.label,colProps:Be.colProps,rowProps:Be.rowProps},(ht=Be.getFieldProps)===null||ht===void 0?void 0:ht.call(Be)),{},{children:vt(Be.columns)}),Be.key)}return!0},is=function(Be){return Be.valueType&&typeof Be.valueType=="string"&&["index","indexBorder","option"].includes(Be==null?void 0:Be.valueType)?null:!0},Al=[is,Yl,Ca,$s,br,Ni],bu=function(Be,_t){for(var vt=0;vt<Al.length;vt++){var ht=Al[vt],zt=ht(Be,_t);if(zt!==!0)return zt}return Ur(Be,_t)},Ec=["columns","layoutType","type","action","shouldUpdate"],xu={DrawerForm:Ot.a,QueryFilter:dt.a,LightFilter:Mt.a,StepForm:Cn.a.StepForm,StepsForm:hi,ModalForm:Qt.a,Embed:wi};function Zl(Ue){var Be=Ue.columns,_t=Ue.layoutType,vt=_t===void 0?"Form":_t,ht=Ue.type,zt=ht===void 0?"form":ht,Yt=Ue.action,nn=Ue.shouldUpdate,yn=nn===void 0?!0:nn,Rn=Object(I.a)(Ue,Ec),ei=xu[vt]||Ht.a,$n=Le.a.useForm(),Kn=Object(re.a)($n,1),ui=Kn[0],Mi=Le.a.useFormInstance(),Ri=Object(A.useState)([]),Ti=Object(re.a)(Ri,2),Xi=Ti[1],Ji=Object(A.useState)([]),Or=Object(re.a)(Ji,2),kr=Or[0],Pr=Or[1],vr=Object(A.useMemo)(function(){return Object(Bs.a)(Rn,["formRef"])},[Rn]),Ir=Object(A.useRef)(Ue.form||Mi||ui),tr=Object(A.useRef)(),Ui=Object(Me.a)(Ue);Object(A.useImperativeHandle)(Rn.formRef,function(){return Ir.current});var $i=Object(A.useCallback)(function(lr){return lr.filter(function(ar){return!(ar.hideInForm&&zt==="form")}).sort(function(ar,Rr){return Rr.order||ar.order?(Rr.order||0)-(ar.order||0):(Rr.index||0)-(ar.index||0)}).map(function(ar,Rr){var zr,Vr=Object(at.a)(ar.title,ar,"form",Object(Fi.jsx)(Fs.a,{label:ar.title,tooltip:ar.tooltip||ar.tip})),la=Object(Il.a)({title:Vr,label:Vr,name:ar.name,valueType:Object(at.a)(ar.valueType,{}),key:ar.key,columns:ar.columns,valueEnum:ar.valueEnum,dataIndex:ar.key||ar.dataIndex,initialValue:ar.initialValue,width:ar.width,index:ar.index,readonly:ar.readonly,colSize:ar.colSize,colProps:ar.colProps,rowProps:ar.rowProps,className:ar.className,tooltip:ar.tooltip||ar.tip,dependencies:ar.dependencies,proFieldProps:ar.proFieldProps,ignoreFormItem:ar.ignoreFormItem,getFieldProps:ar.fieldProps?function(){return Object(at.a)(ar.fieldProps,Ir.current,ar)}:void 0,getFormItemProps:ar.formItemProps?function(){return Object(at.a)(ar.formItemProps,Ir.current,ar)}:void 0,render:ar.render,renderFormItem:ar.renderFormItem,renderText:ar.renderText,request:ar.request,params:ar.params,transform:ar.transform,convertValue:ar.convertValue});return la.key=la.key||((zr=la.dataIndex)===null||zr===void 0?void 0:zr.toString())||Rr,bu(la,{action:Yt,type:zt,originItem:ar,formRef:Ir,genItems:$i})}).filter(function(ar){return Boolean(ar)})},[Yt,Ir,zt]),sr=Object(A.useCallback)(function(lr,ar){var Rr=Ui.current.onValuesChange;(yn===!0||typeof yn=="function"&&yn(ar,tr.current))&&Pr([]),tr.current=ar,Rr==null||Rr(lr,ar)},[Ui,yn]),Dr=Object(A.useMemo)(function(){if(!!Ir.current&&!(Be.length&&Array.isArray(Be[0])))return $i(Be)},[Be,$i,kr]),wr=Object(A.useMemo)(function(){return vt==="StepsForm"?{forceUpdate:Xi,columns:Be}:{}},[Be,vt]);return Object(Fi.jsx)(ei,Object(T.a)(Object(T.a)(Object(T.a)({},wr),vr),{},{form:Ue.form||ui,formRef:Ir,onValuesChange:sr,children:Dr}))}var yu=Zl,tl=a("W38Z");function Xl(Ue){var Be=Ue.replace(/[A-Z]/g,function(_t){return"-".concat(_t.toLowerCase())});return Be.startsWith("-")&&(Be=Be.slice(1)),Be}var Rl=function(Be,_t){return!Be&&_t!==!1?(_t==null?void 0:_t.filterType)==="light"?"LightFilter":"QueryFilter":"Form"},rs=function(Be,_t,vt){return!Be&&vt==="LightFilter"?Object(Bs.a)(Object(T.a)({},_t),["labelWidth","defaultCollapsed","filterType"]):Be?{}:Object(Bs.a)(Object(T.a)({labelWidth:_t?_t==null?void 0:_t.labelWidth:void 0,defaultCollapsed:!0},_t),["filterType"])},ss=function(Be,_t){return Be?Object(Bs.a)(_t,["ignoreRules"]):Object(T.a)({ignoreRules:!0},_t)},_u=function(Be){var _t,vt=Be.onSubmit,ht=Be.formRef,zt=Be.dateFormatter,Yt=zt===void 0?"string":zt,nn=Be.type,yn=Be.columns,Rn=Be.action,ei=Be.ghost,$n=Be.manualRequest,Kn=Be.onReset,ui=Be.submitButtonLoading,Mi=Be.search,Ri=Be.form,Ti=Be.bordered,Xi=nn==="form",Ji=function(){var $i=Object(E.a)(Object(De.a)().mark(function sr(Dr,wr){return Object(De.a)().wrap(function(ar){for(;;)switch(ar.prev=ar.next){case 0:vt&&vt(Dr,wr);case 1:case"end":return ar.stop()}},sr)}));return function(Dr,wr){return $i.apply(this,arguments)}}(),Or=Object(A.useContext)($.a.ConfigContext),kr=Or.getPrefixCls,Pr=Object(A.useMemo)(function(){return yn.filter(function($i){return!($i===Gl.EXPAND_COLUMN||$i===Gl.SELECTION_COLUMN||($i.hideInSearch||$i.search===!1)&&nn!=="form"||nn==="form"&&$i.hideInForm)}).map(function($i){var sr,Dr=!$i.valueType||["textarea","jsonCode","code"].includes($i==null?void 0:$i.valueType)&&nn==="table"?"text":$i==null?void 0:$i.valueType,wr=($i==null?void 0:$i.key)||($i==null||(sr=$i.dataIndex)===null||sr===void 0?void 0:sr.toString());return Object(T.a)(Object(T.a)(Object(T.a)({},$i),{},{width:void 0},$i.search?$i.search:{}),{},{valueType:Dr,proFieldProps:Object(T.a)(Object(T.a)({},$i.proFieldProps),{},{proFieldKey:wr?"table-field-".concat(wr):void 0})})})},[yn,nn]),vr=kr("pro-table-search"),Ir=kr("pro-table-form"),tr=Object(A.useMemo)(function(){return Rl(Xi,Mi)},[Mi,Xi]),Ui=Object(A.useMemo)(function(){return{submitter:{submitButtonProps:{loading:ui}}}},[ui]);return Object(Fi.jsx)("div",{className:S()((_t={},Object(j.a)(_t,kr("pro-card"),!0),Object(j.a)(_t,"".concat(kr("pro-card"),"-border"),!!Ti),Object(j.a)(_t,"".concat(kr("pro-card"),"-bordered"),!!Ti),Object(j.a)(_t,"".concat(kr("pro-card"),"-ghost"),!!ei),Object(j.a)(_t,vr,!0),Object(j.a)(_t,Ir,Xi),Object(j.a)(_t,kr("pro-table-search-".concat(Xl(tr))),!0),Object(j.a)(_t,"".concat(vr,"-ghost"),ei),Object(j.a)(_t,Mi==null?void 0:Mi.className,Mi!==!1&&(Mi==null?void 0:Mi.className)),_t)),children:Object(Fi.jsx)(yu,Object(T.a)(Object(T.a)(Object(T.a)(Object(T.a)({layoutType:tr,columns:Pr,type:nn},Ui),rs(Xi,Mi,tr)),ss(Xi,Ri||{})),{},{formRef:ht,action:Rn,dateFormatter:Yt,onInit:function(sr){if(nn!=="form"){var Dr,wr,lr,ar=(Dr=Rn.current)===null||Dr===void 0?void 0:Dr.pageInfo,Rr=sr.current,zr=Rr===void 0?ar==null?void 0:ar.current:Rr,Vr=sr.pageSize,la=Vr===void 0?ar==null?void 0:ar.pageSize:Vr;if((wr=Rn.current)===null||wr===void 0||(lr=wr.setPageInfo)===null||lr===void 0||lr.call(wr,Object(T.a)(Object(T.a)({},ar),{},{current:parseInt(zr,10),pageSize:parseInt(la,10)})),$n)return;Ji(sr,!0)}},onReset:function(sr){Kn==null||Kn(sr)},onFinish:function(sr){Ji(sr,!1)},initialValues:Ri==null?void 0:Ri.initialValues}))})},nh=_u,tf=function(Ue){Object(Ai.a)(_t,Ue);var Be=Object(or.a)(_t);function _t(){var vt;Object(ri.a)(this,_t);for(var ht=arguments.length,zt=new Array(ht),Yt=0;Yt<ht;Yt++)zt[Yt]=arguments[Yt];return vt=Be.call.apply(Be,[this].concat(zt)),vt.onSubmit=function(nn,yn){var Rn=vt.props,ei=Rn.pagination,$n=Rn.beforeSearchSubmit,Kn=$n===void 0?function(Pr){return Pr}:$n,ui=Rn.action,Mi=Rn.onSubmit,Ri=Rn.onFormSearchSubmit,Ti=ei?Object(Il.a)({current:ei.current,pageSize:ei.pageSize}):{},Xi=Object(T.a)(Object(T.a)({},nn),{},{_timestamp:Date.now()},Ti),Ji=Object(Bs.a)(Kn(Xi),Object.keys(Ti));if(Ri(Ji),!yn){var Or,kr;(Or=ui.current)===null||Or===void 0||(kr=Or.setPageInfo)===null||kr===void 0||kr.call(Or,{current:1})}Mi&&!yn&&(Mi==null||Mi(nn))},vt.onReset=function(nn){var yn,Rn,ei=vt.props,$n=ei.pagination,Kn=ei.beforeSearchSubmit,ui=Kn===void 0?function(Or){return Or}:Kn,Mi=ei.action,Ri=ei.onFormSearchSubmit,Ti=ei.onReset,Xi=$n?Object(Il.a)({current:$n.current,pageSize:$n.pageSize}):{},Ji=Object(Bs.a)(ui(Object(T.a)(Object(T.a)({},nn),Xi)),Object.keys(Xi));Ri(Ji),(yn=Mi.current)===null||yn===void 0||(Rn=yn.setPageInfo)===null||Rn===void 0||Rn.call(yn,{current:1}),Ti==null||Ti()},vt.isEqual=function(nn){var yn=vt.props,Rn=yn.columns,ei=yn.loading,$n=yn.formRef,Kn=yn.type,ui=yn.cardBordered,Mi=yn.dateFormatter,Ri=yn.form,Ti=yn.search,Xi=yn.manualRequest,Ji={columns:Rn,loading:ei,formRef:$n,type:Kn,cardBordered:ui,dateFormatter:Mi,form:Ri,search:Ti,manualRequest:Xi};return!Object(pu.a)(Ji,{columns:nn.columns,formRef:nn.formRef,loading:nn.loading,type:nn.type,cardBordered:nn.cardBordered,dateFormatter:nn.dateFormatter,form:nn.form,search:nn.search,manualRequest:nn.manualRequest})},vt.shouldComponentUpdate=function(nn){return vt.isEqual(nn)},vt.render=function(){var nn=vt.props,yn=nn.columns,Rn=nn.loading,ei=nn.formRef,$n=nn.type,Kn=nn.action,ui=nn.cardBordered,Mi=nn.dateFormatter,Ri=nn.form,Ti=nn.search,Xi=nn.pagination,Ji=nn.ghost,Or=nn.manualRequest,kr=Xi?Object(Il.a)({current:Xi.current,pageSize:Xi.pageSize}):{};return Object(Fi.jsx)(nh,{submitButtonLoading:Rn,columns:yn,type:$n,ghost:Ji,formRef:ei,onSubmit:vt.onSubmit,manualRequest:Or,onReset:vt.onReset,dateFormatter:Mi,search:Ti,form:Object(T.a)(Object(T.a)({autoFocusFirstInput:!1},Ri),{},{extraUrlParams:Object(T.a)(Object(T.a)({},kr),Ri==null?void 0:Ri.extraUrlParams)}),action:Kn,bordered:Ce("search",ui)})},vt}return Object(Vn.a)(_t)}(ue.a.Component),yd=tf,rv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},ih=rv,qc=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:ih}))};qc.displayName="ReloadOutlined";var Lc=A.forwardRef(qc),nf=a("eFNv"),av=a("zP5H");function ov(){var Ue,Be,_t,vt,ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zt=Object(A.useRef)(),Yt=Object(A.useRef)(null),nn=Object(A.useRef)(),yn=Object(A.useRef)(),Rn=Object(A.useState)(""),ei=Object(re.a)(Rn,2),$n=ei[0],Kn=ei[1],ui=Object(A.useRef)([]),Mi=Object(bs.a)(function(){return ht.size||ht.defaultSize||"middle"},{value:ht.size,onChange:ht.onSizeChange}),Ri=Object(re.a)(Mi,2),Ti=Ri[0],Xi=Ri[1],Ji=Object(A.useMemo)(function(){var Ui,$i={};return(Ui=ht.columns)===null||Ui===void 0||Ui.forEach(function(sr,Dr){var wr=sr.key,lr=sr.dataIndex,ar=sr.fixed,Rr=sr.disable,zr=m(wr!=null?wr:lr,Dr);zr&&($i[zr]={show:!0,fixed:ar,disable:Rr})}),$i},[ht.columns]),Or=Object(bs.a)(function(){var Ui,$i,sr=ht.columnsState||{},Dr=sr.persistenceType,wr=sr.persistenceKey;if(wr&&Dr&&typeof window!="undefined"){var lr=window[Dr];try{var ar=lr==null?void 0:lr.getItem(wr);if(ar)return JSON.parse(ar)}catch(Rr){console.warn(Rr)}}return ht.columnsStateMap||((Ui=ht.columnsState)===null||Ui===void 0?void 0:Ui.value)||(($i=ht.columnsState)===null||$i===void 0?void 0:$i.defaultValue)||Ji},{value:((Ue=ht.columnsState)===null||Ue===void 0?void 0:Ue.value)||ht.columnsStateMap,onChange:((Be=ht.columnsState)===null||Be===void 0?void 0:Be.onChange)||ht.onColumnsStateChange}),kr=Object(re.a)(Or,2),Pr=kr[0],vr=kr[1];Object(A.useLayoutEffect)(function(){var Ui=ht.columnsState||{},$i=Ui.persistenceType,sr=Ui.persistenceKey;if(sr&&$i&&typeof window!="undefined"){var Dr=window[$i];try{var wr=Dr==null?void 0:Dr.getItem(sr);vr(wr?JSON.parse(wr):Ji)}catch(lr){console.warn(lr)}}},[ht.columnsState,Ji,vr]),Object(ce.b)(!ht.columnsStateMap,"columnsStateMap\u5DF2\u7ECF\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 columnsState.value \u66FF\u6362"),Object(ce.b)(!ht.columnsStateMap,"columnsStateMap has been discarded, please use columnSstate.value replacement");var Ir=Object(A.useCallback)(function(){var Ui=ht.columnsState||{},$i=Ui.persistenceType,sr=Ui.persistenceKey;if(!(!sr||!$i||typeof window=="undefined")){var Dr=window[$i];try{Dr==null||Dr.removeItem(sr)}catch(wr){console.error(wr)}}},[ht.columnsState]);Object(A.useEffect)(function(){var Ui,$i;if(!(!((Ui=ht.columnsState)===null||Ui===void 0?void 0:Ui.persistenceKey)||!(($i=ht.columnsState)===null||$i===void 0?void 0:$i.persistenceType))&&typeof window!="undefined"){var sr=ht.columnsState,Dr=sr.persistenceType,wr=sr.persistenceKey,lr=window[Dr];try{lr==null||lr.setItem(wr,JSON.stringify(Pr))}catch(ar){console.error(ar)}}},[(_t=ht.columnsState)===null||_t===void 0?void 0:_t.persistenceKey,Pr,(vt=ht.columnsState)===null||vt===void 0?void 0:vt.persistenceType]);var tr={action:zt.current,setAction:function($i){zt.current=$i},sortKeyColumns:ui.current,setSortKeyColumns:function($i){ui.current=$i},propsRef:yn,columnsMap:Pr,keyWords:$n,setKeyWords:function($i){return Kn($i)},setTableSize:Xi,tableSize:Ti,prefixName:nn.current,setPrefixName:function($i){nn.current=$i},setColumnsMap:vr,columns:ht.columns,rootDomRef:Yt,clearPersistenceStorage:Ir};return Object.defineProperty(tr,"prefixName",{get:function(){return nn.current}}),Object.defineProperty(tr,"sortKeyColumns",{get:function(){return ui.current}}),Object.defineProperty(tr,"action",{get:function(){return zt.current}}),tr}var rf=Object(av.a)(ov),Cu=rf,nc=a("Q9mQ"),sv=a("diRs"),rh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},af=rh,lv=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:af}))};lv.displayName="VerticalAlignTopOutlined";var of=A.forwardRef(lv),ed={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 474H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zm-353.6-74.7c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H550V104c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v156h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.6zm11.4 225.4a7.14 7.14 0 00-11.3 0L405.6 752.3a7.23 7.23 0 005.7 11.7H474v156c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V764h62.8c6 0 9.4-7 5.7-11.7L517.7 624.7z"}}]},name:"vertical-align-middle",theme:"outlined"},oo=ed,Nl=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:oo}))};Nl.displayName="VerticalAlignMiddleOutlined";var bl=A.forwardRef(Nl),uv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},sa=uv,_d=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:sa}))};_d.displayName="VerticalAlignBottomOutlined";var so=A.forwardRef(_d),Jl=a("K5yz"),Cd=["key","dataIndex","children"],ql=function(Be){var _t=Be.title,vt=Be.show,ht=Be.children,zt=Be.columnKey,Yt=Be.fixed,nn=Cu.useContainer(),yn=nn.columnsMap,Rn=nn.setColumnsMap;return vt?Object(Fi.jsx)(Ul.a,{title:_t,children:Object(Fi.jsx)("span",{onClick:function($n){$n.stopPropagation(),$n.preventDefault();var Kn=yn[zt]||{},ui=typeof Kn.disable=="boolean"&&Kn.disable;if(!ui){var Mi=Object(T.a)(Object(T.a)({},yn),{},Object(j.a)({},zt,Object(T.a)(Object(T.a)({},Kn),{},{fixed:Yt})));Rn(Mi)}},children:ht})}):null},ah=function(Be){var _t=Be.columnKey,vt=Be.isLeaf,ht=Be.title,zt=Be.className,Yt=Be.fixed,nn=Object(le.d)(),yn=Object(Fi.jsxs)("span",{className:"".concat(zt,"-list-item-option"),children:[Object(Fi.jsx)(ql,{columnKey:_t,fixed:"left",title:nn.getMessage("tableToolBar.leftPin","\u56FA\u5B9A\u5728\u5217\u9996"),show:Yt!=="left",children:Object(Fi.jsx)(of,{})}),Object(Fi.jsx)(ql,{columnKey:_t,fixed:void 0,title:nn.getMessage("tableToolBar.noPin","\u4E0D\u56FA\u5B9A"),show:!!Yt,children:Object(Fi.jsx)(bl,{})}),Object(Fi.jsx)(ql,{columnKey:_t,fixed:"right",title:nn.getMessage("tableToolBar.rightPin","\u56FA\u5B9A\u5728\u5217\u5C3E"),show:Yt!=="right",children:Object(Fi.jsx)(so,{})})]});return Object(Fi.jsxs)("span",{className:"".concat(zt,"-list-item"),children:[Object(Fi.jsx)("div",{className:"".concat(zt,"-list-item-title"),children:ht}),vt?null:yn]},_t)},ic=function(Be){var _t,vt,ht=Be.list,zt=Be.draggable,Yt=Be.checkable,nn=Be.className,yn=Be.showTitle,Rn=yn===void 0?!0:yn,ei=Be.title,$n=Be.listHeight,Kn=$n===void 0?280:$n,ui=Cu.useContainer(),Mi=ui.columnsMap,Ri=ui.setColumnsMap,Ti=ui.sortKeyColumns,Xi=ui.setSortKeyColumns,Ji=ht&&ht.length>0,Or=Object(A.useMemo)(function(){if(!Ji)return{};var Ir=[],tr=function Ui($i,sr){return $i.map(function(Dr){var wr,lr=Dr.key,ar=Dr.dataIndex,Rr=Dr.children,zr=Object(I.a)(Dr,Cd),Vr=m(lr,zr.index),la=Mi[Vr||"null"]||{show:!0};la.show!==!1&&(sr==null?void 0:sr.show)!==!1&&!Rr&&Ir.push(Vr);var Ta=Object(T.a)(Object(T.a)({key:Vr},Object(Bs.a)(zr,["className"])),{},{selectable:!1,disabled:la.disable===!0,disableCheckbox:typeof la.disable=="boolean"?la.disable:(wr=la.disable)===null||wr===void 0?void 0:wr.checkbox,isLeaf:sr?!0:void 0});return Rr&&(Ta.children=Ui(Rr,la)),Ta})};return{list:tr(ht),keys:Ir}},[Mi,ht,Ji]),kr=Object(ra.a)(function(Ir,tr,Ui){var $i=Object(T.a)({},Mi),sr=Object(z.a)(Ti),Dr=sr.findIndex(function(Rr){return Rr===Ir}),wr=sr.findIndex(function(Rr){return Rr===tr}),lr=Ui>wr;if(!(Dr<0)){var ar=sr[Dr];sr.splice(Dr,1),Ui===0?sr.unshift(ar):sr.splice(lr?wr:wr+1,0,ar),sr.forEach(function(Rr,zr){$i[Rr]=Object(T.a)(Object(T.a)({},$i[Rr]||{}),{},{order:zr})}),Ri($i),Xi(sr)}}),Pr=Object(ra.a)(function(Ir){var tr=Ir.node.key,Ui=Object(T.a)({},Mi[tr]);Ui.show=Ir.checked,Ri(Object(T.a)(Object(T.a)({},Mi),{},Object(j.a)({},tr,Ui)))});if(!Ji)return null;var vr=Object(Fi.jsx)(Ls,{itemHeight:24,draggable:zt&&!!((_t=Or.list)===null||_t===void 0?void 0:_t.length)&&((vt=Or.list)===null||vt===void 0?void 0:vt.length)>1,checkable:Yt,onDrop:function(tr){var Ui=tr.node.key,$i=tr.dragNode.key,sr=tr.dropPosition,Dr=tr.dropToGap,wr=sr===-1||!Dr?sr+1:sr;kr($i,Ui,wr)},blockNode:!0,onCheck:function(tr,Ui){return Pr(Ui)},checkedKeys:Or.keys,showLine:!1,titleRender:function(tr){var Ui=Object(T.a)(Object(T.a)({},tr),{},{children:void 0});return Object(Fi.jsx)(ah,Object(T.a)(Object(T.a)({className:nn},Ui),{},{title:Object(at.a)(Ui.title,Ui),columnKey:Ui.key}))},height:Kn,treeData:Or.list});return Object(Fi.jsxs)(Fi.Fragment,{children:[Rn&&Object(Fi.jsx)("span",{className:"".concat(nn,"-list-title"),children:ei}),vr]})},oh=function(Be){var _t=Be.localColumns,vt=Be.className,ht=Be.draggable,zt=Be.checkable,Yt=Be.listsHeight,nn=[],yn=[],Rn=[],ei=Object(le.d)();_t.forEach(function(ui){if(!ui.hideInSetting){var Mi=ui.fixed;if(Mi==="left"){yn.push(ui);return}if(Mi==="right"){nn.push(ui);return}Rn.push(ui)}});var $n=nn&&nn.length>0,Kn=yn&&yn.length>0;return Object(Fi.jsxs)("div",{className:S()("".concat(vt,"-list"),Object(j.a)({},"".concat(vt,"-list-group"),$n||Kn)),children:[Object(Fi.jsx)(ic,{title:ei.getMessage("tableToolBar.leftFixedTitle","\u56FA\u5B9A\u5728\u5DE6\u4FA7"),list:yn,draggable:ht,checkable:zt,className:vt,listHeight:Yt}),Object(Fi.jsx)(ic,{list:Rn,draggable:ht,checkable:zt,title:ei.getMessage("tableToolBar.noFixedTitle","\u4E0D\u56FA\u5B9A"),showTitle:Kn||$n,className:vt,listHeight:Yt}),Object(Fi.jsx)(ic,{title:ei.getMessage("tableToolBar.rightFixedTitle","\u56FA\u5B9A\u5728\u53F3\u4FA7"),list:nn,draggable:ht,checkable:zt,className:vt,listHeight:Yt})]})};function sf(Ue){var Be,_t,vt=Object(A.useRef)({}),ht=Cu.useContainer(),zt=Ue.columns,Yt=Ue.checkedReset,nn=Yt===void 0?!0:Yt,yn=ht.columnsMap,Rn=ht.setColumnsMap,ei=ht.clearPersistenceStorage;Object(A.useEffect)(function(){var kr,Pr;if((kr=ht.propsRef.current)===null||kr===void 0||(Pr=kr.columnsState)===null||Pr===void 0?void 0:Pr.value){var vr,Ir;vt.current=JSON.parse(JSON.stringify(((vr=ht.propsRef.current)===null||vr===void 0||(Ir=vr.columnsState)===null||Ir===void 0?void 0:Ir.value)||{}))}},[]);var $n=Object(ra.a)(function(){var kr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Pr={},vr=function Ir(tr){tr.forEach(function(Ui){var $i=Ui.key,sr=Ui.fixed,Dr=Ui.index,wr=Ui.children,lr=m($i,Dr);lr&&(Pr[lr]={show:kr,fixed:sr}),wr&&Ir(wr)})};vr(zt),Rn(Pr)}),Kn=Object(ra.a)(function(kr){kr.target.checked?$n():$n(!1)}),ui=Object(ra.a)(function(){ei==null||ei(),Rn(vt.current)}),Mi=Object.values(yn).filter(function(kr){return!kr||kr.show===!1}),Ri=Mi.length>0&&Mi.length!==zt.length,Ti=Object(le.d)(),Xi=Object(A.useContext)($.a.ConfigContext),Ji=Xi.getPrefixCls,Or=Ji("pro-table-column-setting");return Object(Fi.jsx)(sv.a,{arrowPointAtCenter:!0,title:Object(Fi.jsxs)("div",{className:"".concat(Or,"-title"),children:[Object(Fi.jsx)(Gr.a,{indeterminate:Ri,checked:Mi.length===0&&Mi.length!==zt.length,onChange:function(Pr){return Kn(Pr)},children:Ti.getMessage("tableToolBar.columnDisplay","\u5217\u5C55\u793A")}),nn?Object(Fi.jsx)("a",{onClick:ui,className:"".concat(Or,"-action-rest-button"),children:Ti.getMessage("tableToolBar.reset","\u91CD\u7F6E")}):null,(Ue==null?void 0:Ue.extra)?Object(Fi.jsx)(wo.b,{size:12,align:"center",children:Ue.extra}):null]}),overlayClassName:"".concat(Or,"-overlay"),trigger:"click",placement:"bottomRight",content:Object(Fi.jsx)(oh,{checkable:(Be=Ue.checkable)!==null&&Be!==void 0?Be:!0,draggable:(_t=Ue.draggable)!==null&&_t!==void 0?_t:!0,className:Or,localColumns:zt,listsHeight:Ue.listsHeight}),children:Ue.children||Object(Fi.jsx)(Ul.a,{title:Ti.getMessage("tableToolBar.columnSetting","\u5217\u8BBE\u7F6E"),children:Object(Fi.jsx)(nf.a,{})})})}var sh=sf,_s=a("SE9/"),Od=a("lUTK"),lh=a("Y79o"),td=["label","key"],uh=function(Be){var _t=Be.items,vt=_t===void 0?[]:_t,ht=Be.type,zt=ht===void 0?"inline":ht,Yt=Be.prefixCls,nn=Be.activeKey,yn=Object(bs.a)(nn,{value:nn,onChange:Be.onChange}),Rn=Object(re.a)(yn,2),ei=Rn[0],$n=Rn[1];if(vt.length<1)return null;var Kn=vt.find(function(ui){return ui.key===ei})||vt[0];return zt==="inline"?Object(Fi.jsx)("div",{className:S()("".concat(Yt,"-menu"),"".concat(Yt,"-inline-menu")),children:vt.map(function(ui,Mi){return Object(Fi.jsx)("div",{onClick:function(){$n(ui.key)},className:S()("".concat(Yt,"-inline-menu-item"),Kn.key===ui.key?"".concat(Yt,"-inline-menu-item-active"):void 0),children:ui.label},ui.key||Mi)})}):zt==="tab"?Object(Fi.jsx)(Tu.a,{activeKey:Kn.key,onTabClick:function(Mi){return $n(Mi)},children:vt.map(function(ui,Mi){var Ri=ui.label,Ti=ui.key,Xi=Object(I.a)(ui,td);return Object(Fi.jsx)(Tu.a.TabPane,Object(T.a)({tab:Ri},Xi),Ti||Mi)})}):Object(Fi.jsx)("div",{className:S()("".concat(Yt,"-menu"),"".concat(Yt,"-dropdownmenu")),children:Object(Fi.jsx)(ea.a,{trigger:["click"],overlay:Object(Fi.jsx)(Da.a,{selectedKeys:[Kn.key],onClick:function(Mi){$n(Mi.key)},items:vt.map(function(ui,Mi){return{key:ui.key||Mi,disabled:ui.disabled,label:ui.label}})}),children:Object(Fi.jsxs)(wo.b,{className:"".concat(Yt,"-dropdownmenu-label"),children:[Kn.label,Object(Fi.jsx)(Cc.a,{})]})})})},cv=uh;function ch(Ue){if(ue.a.isValidElement(Ue))return Ue;if(Ue){var Be=Ue,_t=Be.icon,vt=Be.tooltip,ht=Be.onClick,zt=Be.key;return _t&&vt?Object(Fi.jsx)(Ul.a,{title:vt,children:Object(Fi.jsx)("span",{onClick:function(){ht&&ht(zt)},children:_t},zt)}):_t}return null}var dv=function(Be){var _t=Be.prefixCls,vt=Be.tabs,ht=vt===void 0?{}:vt,zt=Be.multipleLine,Yt=Be.filtersNode;return zt?Object(Fi.jsx)("div",{className:"".concat(_t,"-extra-line"),children:ht.items&&ht.items.length?Object(Fi.jsx)(Tu.a,{activeKey:ht.activeKey,onChange:ht.onChange,tabBarExtraContent:Yt,children:ht.items.map(function(nn,yn){return Object(Fi.jsx)(Tu.a.TabPane,Object(T.a)({},nn),nn.key||yn)})}):Yt}):null},dh=function(Be){var _t=Be.prefixCls,vt=Be.title,ht=Be.subTitle,zt=Be.tooltip,Yt=Be.className,nn=Be.style,yn=Be.search,Rn=Be.onSearch,ei=Be.multipleLine,$n=ei===void 0?!1:ei,Kn=Be.filter,ui=Be.actions,Mi=ui===void 0?[]:ui,Ri=Be.settings,Ti=Ri===void 0?[]:Ri,Xi=Be.tabs,Ji=Xi===void 0?{}:Xi,Or=Be.menu,kr=Object(le.d)(),Pr=Object(_s.a)(),vr=Pr==="sm"||Pr==="xs",Ir=kr.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),tr=Object(A.useMemo)(function(){return yn?ue.a.isValidElement(yn)?yn:Object(Fi.jsx)(rr.a.Search,Object(T.a)(Object(T.a)({style:{width:200},placeholder:Ir},yn),{},{onSearch:function(){for(var ga,ma=arguments.length,Sa=new Array(ma),se=0;se<ma;se++)Sa[se]=arguments[se];Rn==null||Rn(Sa==null?void 0:Sa[0]),(ga=yn.onSearch)===null||ga===void 0||ga.call.apply(ga,[yn].concat(Sa))}})):null},[Ir,Rn,yn]),Ui=Object(A.useContext)($.a.ConfigContext),$i=Ui.getPrefixCls,sr=$i("pro-table-list-toolbar",_t),Dr=Object(A.useMemo)(function(){return Kn?Object(Fi.jsx)("div",{className:"".concat(sr,"-filter"),children:Kn}):null},[Kn,sr]),wr=Object(A.useMemo)(function(){return Or||vt||ht||zt},[Or,ht,vt,zt]),lr=Object(A.useMemo)(function(){return Array.isArray(Mi)?Mi.length<1?null:Object(Fi.jsx)(wo.b,{align:"center",children:Mi.map(function(Ta,ga){return ue.a.isValidElement(Ta)?ue.a.cloneElement(Ta,Object(T.a)({key:ga},Ta==null?void 0:Ta.props)):Object(Fi.jsx)(ue.a.Fragment,{children:Ta},ga)})}):Mi},[Mi]),ar=Object(A.useMemo)(function(){return wr&&tr||!$n&&Dr||lr||(Ti==null?void 0:Ti.length)},[lr,Dr,wr,$n,tr,Ti==null?void 0:Ti.length]),Rr=Object(A.useMemo)(function(){return zt||vt||ht||Or||!wr&&tr},[wr,Or,tr,ht,vt,zt]),zr=Object(A.useMemo)(function(){return!Rr&&ar?Object(Fi.jsx)("div",{className:"".concat(sr,"-left")}):!Or&&(wr||!tr)?Object(Fi.jsx)("div",{className:"".concat(sr,"-left"),children:Object(Fi.jsx)("div",{className:"".concat(sr,"-title"),children:Object(Fi.jsx)(Fs.a,{tooltip:zt,label:vt,subTitle:ht})})}):Object(Fi.jsxs)(wo.b,{className:"".concat(sr,"-left"),children:[wr&&!Or&&Object(Fi.jsx)("div",{className:"".concat(sr,"-title"),children:Object(Fi.jsx)(Fs.a,{tooltip:zt,label:vt,subTitle:ht})}),Or&&Object(Fi.jsx)(cv,Object(T.a)(Object(T.a)({},Or),{},{prefixCls:sr})),!wr&&tr?Object(Fi.jsx)("div",{className:"".concat(sr,"-search"),children:tr}):null]})},[Rr,ar,wr,Or,sr,tr,ht,vt,zt]),Vr=Object(A.useMemo)(function(){return ar?Object(Fi.jsxs)(wo.b,{className:"".concat(sr,"-right"),direction:vr?"vertical":"horizontal",size:16,align:vr?"end":"center",children:[wr&&tr?Object(Fi.jsx)("div",{className:"".concat(sr,"-search"),children:tr}):null,$n?null:Dr,lr,(Ti==null?void 0:Ti.length)?Object(Fi.jsx)(wo.b,{size:12,align:"center",className:"".concat(sr,"-setting-items"),children:Ti.map(function(Ta,ga){var ma=ch(Ta);return Object(Fi.jsx)("div",{className:"".concat(sr,"-setting-item"),children:ma},ga)})}):null]}):null},[lr,vr,Dr,ar,wr,$n,sr,tr,Ti]),la=Object(A.useMemo)(function(){if(!ar&&!Rr)return null;var Ta=S()("".concat(sr,"-container"),Object(j.a)({},"".concat(sr,"-container-mobile"),vr));return Object(Fi.jsxs)("div",{className:Ta,children:[zr,Vr]})},[Rr,ar,vr,zr,sr,Vr]);return Object(Fi.jsxs)("div",{style:nn,className:S()("".concat(sr),Yt),children:[la,Object(Fi.jsx)(dv,{filtersNode:Dr,prefixCls:sr,tabs:Ji,multipleLine:$n})]})},nd=dh,hv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 00-11.3 0L403.6 366.3a7.23 7.23 0 005.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z"}}]},name:"column-height",theme:"outlined"},hh=hv,lf=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:hh}))};lf.displayName="ColumnHeightOutlined";var fv=A.forwardRef(lf),uf=function(){var Be=Cu.useContainer(),_t=Object(le.d)();return Object(Fi.jsx)(ea.a,{overlay:Object(Fi.jsx)(Da.a,{selectedKeys:[Be.tableSize],onClick:function(ht){var zt,Yt=ht.key;(zt=Be.setTableSize)===null||zt===void 0||zt.call(Be,Yt)},style:{width:80},items:[{key:"large",label:_t.getMessage("tableToolBar.densityLarger","\u9ED8\u8BA4")},{key:"middle",label:_t.getMessage("tableToolBar.densityMiddle","\u4E2D\u7B49")},{key:"small",label:_t.getMessage("tableToolBar.densitySmall","\u7D27\u51D1")}]}),trigger:["click"],children:Object(Fi.jsx)(Ul.a,{title:_t.getMessage("tableToolBar.density","\u8868\u683C\u5BC6\u5EA6"),children:Object(Fi.jsx)(fv,{})})})},Ou=ue.a.memo(uf),cf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"},df=cf,hf=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:df}))};hf.displayName="FullscreenExitOutlined";var vv=A.forwardRef(hf),fh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"},gv=fh,rc=function(Be,_t){return A.createElement(_n.a,Object(T.a)(Object(T.a)({},Be),{},{ref:_t,icon:gv}))};rc.displayName="FullscreenOutlined";var ff=A.forwardRef(rc),ac=a("7z/i"),Fu=function(){var Be=Object(le.d)(),_t=Object(A.useState)(!1),vt=Object(re.a)(_t,2),ht=vt[0],zt=vt[1];return Object(A.useEffect)(function(){!Object(ac.a)()||(document.onfullscreenchange=function(){zt(!!document.fullscreenElement)})},[]),ht?Object(Fi.jsx)(Ul.a,{title:Be.getMessage("tableToolBar.exitFullScreen","\u5168\u5C4F"),children:Object(Fi.jsx)(vv,{})}):Object(Fi.jsx)(Ul.a,{title:Be.getMessage("tableToolBar.fullScreen","\u5168\u5C4F"),children:Object(Fi.jsx)(ff,{})})},Bu=ue.a.memo(Fu),mv=a("XQL4"),id=["headerTitle","tooltip","toolBarRender","action","options","selectedRowKeys","selectedRows","toolbar","onSearch","columns"];function vh(Ue){var Be=Ue.intl;return{reload:{text:Be.getMessage("tableToolBar.reload","\u5237\u65B0"),icon:Object(Fi.jsx)(Lc,{})},density:{text:Be.getMessage("tableToolBar.density","\u8868\u683C\u5BC6\u5EA6"),icon:Object(Fi.jsx)(Ou,{})},setting:{text:Be.getMessage("tableToolBar.columnSetting","\u5217\u8BBE\u7F6E"),icon:Object(Fi.jsx)(nf.a,{})},fullScreen:{text:Be.getMessage("tableToolBar.fullScreen","\u5168\u5C4F"),icon:Object(Fi.jsx)(Bu,{})}}}function Sd(Ue,Be,_t,vt){return Object.keys(Ue).filter(function(ht){return ht}).map(function(ht){var zt=Ue[ht];if(!zt)return null;var Yt=zt===!0?Be[ht]:function(yn){return zt==null?void 0:zt(yn,_t.current)};if(typeof Yt!="function"&&(Yt=function(){}),ht==="setting")return Object(A.createElement)(sh,Object(T.a)(Object(T.a)({},Ue[ht]),{},{columns:vt,key:ht}));if(ht==="fullScreen")return Object(Fi.jsx)("span",{onClick:Yt,children:Object(Fi.jsx)(Bu,{})},ht);var nn=vh(Be)[ht];return nn?Object(Fi.jsx)("span",{onClick:Yt,children:Object(Fi.jsx)(Ul.a,{title:nn.text,children:nn.icon})},ht):null}).filter(function(ht){return ht})}function gh(Ue){var Be=Ue.headerTitle,_t=Ue.tooltip,vt=Ue.toolBarRender,ht=Ue.action,zt=Ue.options,Yt=Ue.selectedRowKeys,nn=Ue.selectedRows,yn=Ue.toolbar,Rn=Ue.onSearch,ei=Ue.columns,$n=Object(I.a)(Ue,id),Kn=Cu.useContainer(),ui=Object(le.d)(),Mi=Object(A.useMemo)(function(){var Xi={reload:function(){var kr;return ht==null||(kr=ht.current)===null||kr===void 0?void 0:kr.reload()},density:!0,setting:!0,search:!1,fullScreen:function(){var kr,Pr;return ht==null||(kr=ht.current)===null||kr===void 0||(Pr=kr.fullScreen)===null||Pr===void 0?void 0:Pr.call(kr)}};if(zt===!1)return[];var Ji=Object(T.a)(Object(T.a)({},Xi),{},{fullScreen:!1},zt);return Sd(Ji,Object(T.a)(Object(T.a)({},Xi),{},{intl:ui}),ht,ei)},[ht,ei,ui,zt]),Ri=vt?vt(ht==null?void 0:ht.current,{selectedRowKeys:Yt,selectedRows:nn}):[],Ti=Object(A.useMemo)(function(){if(!zt||!zt.search)return!1;var Xi={value:Kn.keyWords,onChange:function(Or){return Kn.setKeyWords(Or.target.value)}};return zt.search===!0?Xi:Object(T.a)(Object(T.a)({},Xi),zt.search)},[Kn,zt]);return Object(A.useEffect)(function(){Kn.keyWords===void 0&&(Rn==null||Rn(""))},[Kn.keyWords,Rn]),Object(Fi.jsx)(nd,Object(T.a)({title:Be,tooltip:_t||$n.tip,search:Ti,onSearch:Rn,actions:Ri,settings:Mi},yn))}var mh=function(Ue){Object(Ai.a)(_t,Ue);var Be=Object(or.a)(_t);function _t(){var vt;Object(ri.a)(this,_t);for(var ht=arguments.length,zt=new Array(ht),Yt=0;Yt<ht;Yt++)zt[Yt]=arguments[Yt];return vt=Be.call.apply(Be,[this].concat(zt)),vt.onSearch=function(nn){var yn,Rn,ei,$n,Kn=vt.props,ui=Kn.options,Mi=Kn.onFormSearchSubmit,Ri=Kn.actionRef;if(!(!ui||!ui.search)){var Ti=ui.search===!0?{}:ui.search,Xi=Ti.name,Ji=Xi===void 0?"keyword":Xi,Or=(yn=ui.search)===null||yn===void 0||(Rn=yn.onSearch)===null||Rn===void 0?void 0:Rn.call(yn,nn);Or!==!1&&(Ri==null||(ei=Ri.current)===null||ei===void 0||($n=ei.setPageInfo)===null||$n===void 0||$n.call(ei,{current:1}),Mi(Object(Il.a)(Object(j.a)({_timestamp:Date.now()},Ji,nn))))}},vt.isEquals=function(nn){var yn=vt.props,Rn=yn.hideToolbar,ei=yn.tableColumn,$n=yn.options,Kn=yn.tooltip,ui=yn.toolbar,Mi=yn.selectedRows,Ri=yn.selectedRowKeys,Ti=yn.headerTitle,Xi=yn.actionRef,Ji=yn.toolBarRender;return Object(pu.a)({hideToolbar:Rn,tableColumn:ei,options:$n,tooltip:Kn,toolbar:ui,selectedRows:Mi,selectedRowKeys:Ri,headerTitle:Ti,actionRef:Xi,toolBarRender:Ji},{hideToolbar:nn.hideToolbar,tableColumn:nn.tableColumn,options:nn.options,tooltip:nn.tooltip,toolbar:nn.toolbar,selectedRows:nn.selectedRows,selectedRowKeys:nn.selectedRowKeys,headerTitle:nn.headerTitle,actionRef:nn.actionRef,toolBarRender:nn.toolBarRender},["render","renderFormItem"])},vt.shouldComponentUpdate=function(nn){return nn.searchNode?!0:!vt.isEquals(nn)},vt.render=function(){var nn=vt.props,yn=nn.hideToolbar,Rn=nn.tableColumn,ei=nn.options,$n=nn.searchNode,Kn=nn.tooltip,ui=nn.toolbar,Mi=nn.selectedRows,Ri=nn.selectedRowKeys,Ti=nn.headerTitle,Xi=nn.actionRef,Ji=nn.toolBarRender;return yn?null:Object(Fi.jsx)(gh,{tooltip:Kn,columns:Rn,options:ei,headerTitle:Ti,action:Xi,onSearch:vt.onSearch,selectedRows:Mi,selectedRowKeys:Ri,toolBarRender:Ji,toolbar:Object(T.a)({filter:$n},ui)})},vt}return Object(Vn.a)(_t)}(ue.a.Component),ph=mh,kd=a("tkDr"),Mc=a("ft2k"),vf=a("HBdL"),gf=["data","success","total"],mf=function(Be){var _t=Be.pageInfo;if(_t){var vt=_t.current,ht=_t.defaultCurrent,zt=_t.pageSize,Yt=_t.defaultPageSize;return{current:vt||ht||1,total:0,pageSize:zt||Yt||20}}return{current:1,total:0,pageSize:20}},Dd=function(Be,_t,vt){var ht=Object(A.useRef)(!1),zt=vt||{},Yt=zt.onLoad,nn=zt.manual,yn=zt.polling,Rn=zt.onRequestError,ei=zt.debounceTime,$n=ei===void 0?20:ei,Kn=Object(A.useRef)(nn),ui=Object(A.useRef)(),Mi=Object(pl.a)(_t,{value:vt==null?void 0:vt.dataSource,onChange:vt==null?void 0:vt.onDataSourceChange}),Ri=Object(re.a)(Mi,2),Ti=Ri[0],Xi=Ri[1],Ji=Object(pl.a)(!1,{value:vt==null?void 0:vt.loading,onChange:vt==null?void 0:vt.onLoadingChange}),Or=Object(re.a)(Ji,2),kr=Or[0],Pr=Or[1],vr=Object(A.useRef)(!1),Ir=Object(pl.a)(function(){return mf(vt)},{onChange:vt==null?void 0:vt.onPageInfoChange}),tr=Object(re.a)(Ir,2),Ui=tr[0],$i=tr[1],sr=Object(ra.a)(function(b){(b.current!==Ui.current||b.pageSize!==Ui.pageSize||b.total!==Ui.total)&&$i(b)}),Dr=Object(pl.a)(!1),wr=Object(re.a)(Dr,2),lr=wr[0],ar=wr[1],Rr=function(_,p){Xi(_),(Ui==null?void 0:Ui.total)!==p&&sr(Object(T.a)(Object(T.a)({},Ui),{},{total:p||_.length}))},zr=Object(Mc.a)(Ui==null?void 0:Ui.current),Vr=Object(Mc.a)(Ui==null?void 0:Ui.pageSize),la=Object(Mc.a)(yn),Ta=vt||{},ga=Ta.effects,ma=ga===void 0?[]:ga,Sa=Object(ra.a)(function(){Object(ve.a)(kr)==="object"?Pr(Object(T.a)(Object(T.a)({},kr),{},{spinning:!1})):Pr(!1),ar(!1)}),se=function(){var b=Object(E.a)(Object(De.a)().mark(function _(p){var P,X,Se,Ae,qe,rt,ct,Xt,cn,Mn,gi,Zn;return Object(De.a)().wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:if(!(kr&&typeof kr=="boolean"||vr.current||!Be)){Un.next=2;break}return Un.abrupt("return",[]);case 2:if(!Kn.current){Un.next=5;break}return Kn.current=!1,Un.abrupt("return",[]);case 5:return p?ar(!0):Object(ve.a)(kr)==="object"?Pr(Object(T.a)(Object(T.a)({},kr),{},{spinning:!0})):Pr(!0),vr.current=!0,P=Ui||{},X=P.pageSize,Se=P.current,Un.prev=8,Ae=(vt==null?void 0:vt.pageInfo)!==!1?{current:Se,pageSize:X}:void 0,Un.next=12,Be(Ae);case 12:if(Un.t0=Un.sent,Un.t0){Un.next=15;break}Un.t0={};case 15:if(qe=Un.t0,rt=qe.data,ct=rt===void 0?[]:rt,Xt=qe.success,cn=qe.total,Mn=cn===void 0?0:cn,gi=Object(I.a)(qe,gf),Xt!==!1){Un.next=24;break}return Un.abrupt("return",[]);case 24:return Zn=ze(ct,[vt.postData].filter(function(qn){return qn})),Rr(Zn,Mn),Yt==null||Yt(Zn,gi),Un.abrupt("return",Zn);case 30:if(Un.prev=30,Un.t1=Un.catch(8),Rn!==void 0){Un.next=34;break}throw new Error(Un.t1);case 34:Ti===void 0&&Xi([]),Rn(Un.t1);case 36:return Un.prev=36,vr.current=!1,Sa(),Un.finish(36);case 40:return Un.abrupt("return",[]);case 41:case"end":return Un.stop()}},_,null,[[8,30,36,40]])}));return function(p){return b.apply(this,arguments)}}(),ae=Object(vf.a)(function(){var b=Object(E.a)(Object(De.a)().mark(function _(p){var P,X;return Object(De.a)().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return ui.current&&clearTimeout(ui.current),Ae.next=3,se(p);case 3:return P=Ae.sent,X=Object(at.a)(yn,P),X&&!ht.current&&(ui.current=setTimeout(function(){ae.run(X)},Math.max(X,2e3))),Ae.abrupt("return",P);case 7:case"end":return Ae.stop()}},_)}));return function(_){return b.apply(this,arguments)}}(),$n||10);return Object(A.useEffect)(function(){return yn||clearTimeout(ui.current),!la&&yn&&ae.run(!0),function(){clearTimeout(ui.current)}},[yn]),Object(A.useLayoutEffect)(function(){return ht.current=!1,function(){ht.current=!0}},[]),Object(A.useEffect)(function(){var b=Ui||{},_=b.current,p=b.pageSize;(!zr||zr===_)&&(!Vr||Vr===p)||vt.pageInfo&&Ti&&(Ti==null?void 0:Ti.length)>p||_!==void 0&&Ti&&Ti.length<=p&&ae.run(!1)},[Ui==null?void 0:Ui.current]),Object(A.useEffect)(function(){!Vr||ae.run(!1)},[Ui==null?void 0:Ui.pageSize]),Object(Gs.a)(function(){return ae.run(!1),nn||(Kn.current=!1),function(){ae.cancel()}},[].concat(Object(z.a)(ma),[nn])),{dataSource:Ti,setDataSource:Xi,loading:kr,reload:function(){var b=Object(E.a)(Object(De.a)().mark(function p(){return Object(De.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,ae.run(!1);case 2:case"end":return X.stop()}},p)}));function _(){return b.apply(this,arguments)}return _}(),pageInfo:Ui,pollingLoading:lr,reset:function(){var b=Object(E.a)(Object(De.a)().mark(function p(){var P,X,Se,Ae,qe,rt,ct,Xt;return Object(De.a)().wrap(function(Mn){for(;;)switch(Mn.prev=Mn.next){case 0:P=vt||{},X=P.pageInfo,Se=X||{},Ae=Se.defaultCurrent,qe=Ae===void 0?1:Ae,rt=Se.defaultPageSize,ct=rt===void 0?20:rt,Xt={current:qe,total:0,pageSize:ct},sr(Xt);case 4:case"end":return Mn.stop()}},p)}));function _(){return b.apply(this,arguments)}return _}(),setPageInfo:function(){var b=Object(E.a)(Object(De.a)().mark(function p(P){return Object(De.a)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:sr(Object(T.a)(Object(T.a)({},Ui),P));case 1:case"end":return Se.stop()}},p)}));function _(p){return b.apply(this,arguments)}return _}()}},rd=Dd,yl=function(Be){return function(_t,vt){var ht,zt,Yt=_t.fixed,nn=_t.index,yn=vt.fixed,Rn=vt.index;if(Yt==="left"&&yn!=="left"||yn==="right"&&Yt!=="right")return-2;if(yn==="left"&&Yt!=="left"||Yt==="right"&&yn!=="right")return 2;var ei=_t.key||"".concat(nn),$n=vt.key||"".concat(Rn);if(((ht=Be[ei])===null||ht===void 0?void 0:ht.order)||((zt=Be[$n])===null||zt===void 0?void 0:zt.order)){var Kn,ui;return(((Kn=Be[ei])===null||Kn===void 0?void 0:Kn.order)||0)-(((ui=Be[$n])===null||ui===void 0?void 0:ui.order)||0)}return(_t.index||0)-(vt.index||0)}},al=a("yeZT"),bh=a("BY2G"),wd=function(Be){var _t={};return Object.keys(Be||{}).forEach(function(vt){var ht;Array.isArray(Be[vt])&&((ht=Be[vt])===null||ht===void 0?void 0:ht.length)===0||Be[vt]!==void 0&&(_t[vt]=Be[vt])}),_t},ad=wd,yh=a("fxyS"),_h=a("POPG"),od=a("ub+h"),Ch=a("lS/g"),jd=a("tReJ"),Tc=a("U9X9"),Su=["children"],sd=["",null,void 0],Oh=function(){for(var Be=arguments.length,_t=new Array(Be),vt=0;vt<Be;vt++)_t[vt]=arguments[vt];return _t.filter(function(ht){return ht!==void 0}).map(function(ht){return typeof ht=="number"?ht.toString():ht}).flat(1)},pf=function(Be){var _t=Object(A.useContext)(Ch.a),vt=Be.columnProps,ht=Be.prefixName,zt=Be.text,Yt=Be.counter,nn=Be.rowData,yn=Be.index,Rn=Be.recordKey,ei=Be.subName,$n=Be.proFieldProps,Kn=Ht.a.useFormInstance(),ui=Rn||yn,Mi=Object(A.useState)(function(){var vr,Ir;return Oh(ht,ht?ei:[],ht?yn:ui,(vr=(Ir=vt==null?void 0:vt.key)!==null&&Ir!==void 0?Ir:vt==null?void 0:vt.dataIndex)!==null&&vr!==void 0?vr:yn)}),Ri=Object(re.a)(Mi,2),Ti=Ri[0],Xi=Ri[1],Ji=Object(A.useMemo)(function(){return Ti.slice(0,-1)},[Ti]);Object(A.useEffect)(function(){var vr,Ir,tr=Oh(ht,ht?ei:[],ht?yn:ui,(vr=(Ir=vt==null?void 0:vt.key)!==null&&Ir!==void 0?Ir:vt==null?void 0:vt.dataIndex)!==null&&vr!==void 0?vr:yn);tr.join("-")!==Ti.join("-")&&Xi(tr)},[vt==null?void 0:vt.dataIndex,vt==null?void 0:vt.key,yn,Rn,ht,ui,ei,Ti]);var Or=Object(A.useMemo)(function(){return[Kn,Object(T.a)(Object(T.a)({},vt),{},{rowKey:Ji,rowIndex:yn,isEditable:!0})]},[vt,Kn,yn,Ji]),kr=Object(A.useCallback)(function(vr){var Ir=vr.children,tr=Object(I.a)(vr,Su);return Object(Fi.jsx)(jd.a,Object(T.a)(Object(T.a)({popoverProps:{getPopupContainer:_t.getPopupContainer||function(){return Yt.rootDomRef.current||document.body}},errorType:"popover",name:Ti},tr),{},{children:Ir}),ui)},[ui,Ti]),Pr=Object(A.useCallback)(function(){var vr,Ir,tr=Object(T.a)({},Tc.a.apply(void 0,[vt==null?void 0:vt.formItemProps].concat(Object(z.a)(Or))));tr.messageVariables=Object(T.a)({label:(vt==null?void 0:vt.title)||"\u6B64\u9879",type:(vt==null?void 0:vt.valueType)||"\u6587\u672C"},tr==null?void 0:tr.messageVariables),tr.initialValue=(vr=(Ir=ht?null:zt)!==null&&Ir!==void 0?Ir:tr==null?void 0:tr.initialValue)!==null&&vr!==void 0?vr:vt==null?void 0:vt.initialValue;var Ui=Object(Fi.jsx)(xr.a,Object(T.a)({cacheForSwr:!0,name:Ti,proFormFieldKey:ui,ignoreFormItem:!0,fieldProps:Tc.a.apply(void 0,[vt==null?void 0:vt.fieldProps].concat(Object(z.a)(Or)))},$n),Ti.join("-"));return(vt==null?void 0:vt.renderFormItem)&&(Ui=vt.renderFormItem(Object(T.a)(Object(T.a)({},vt),{},{index:yn,isEditable:!0,type:"table"}),{defaultRender:function(){return Object(Fi.jsx)(kr,Object(T.a)(Object(T.a)({},tr),{},{children:Ui}))},type:"form",recordKey:Rn,record:Object(T.a)(Object(T.a)({},nn),Kn==null?void 0:Kn.getFieldValue([ui])),isEditable:!0},Kn,Be.editableUtils),vt.ignoreFormItem)?Object(Fi.jsx)(Fi.Fragment,{children:Ui}):Object(Fi.jsx)(kr,Object(T.a)(Object(T.a)({},tr),{},{children:Ui}),Ti.join("-"))},[vt,Or,ht,zt,ui,Ti,$n,kr,yn,Rn,nn,Kn,Be.editableUtils]);return Ti.length===0?null:typeof(vt==null?void 0:vt.renderFormItem)=="function"||typeof(vt==null?void 0:vt.fieldProps)=="function"||typeof(vt==null?void 0:vt.formItemProps)=="function"?Object(Fi.jsx)(nr.a,{name:[Ji],children:function(){return Pr()}}):Pr()};function Sh(Ue){var Be,_t=Ue.text,vt=Ue.valueType,ht=Ue.rowData,zt=Ue.columnProps;if((!vt||["textarea","text"].includes(vt.toString()))&&!(zt==null?void 0:zt.valueEnum)&&Ue.mode==="read")return sd.includes(_t)?Ue.columnEmptyText:_t;if(typeof vt=="function"&&ht)return Sh(Object(T.a)(Object(T.a)({},Ue),{},{valueType:vt(ht,Ue.type)||"text"}));var Yt=(zt==null?void 0:zt.key)||(zt==null||(Be=zt.dataIndex)===null||Be===void 0?void 0:Be.toString()),nn={valueEnum:Object(at.a)(zt==null?void 0:zt.valueEnum,ht),request:zt==null?void 0:zt.request,params:Object(at.a)(zt==null?void 0:zt.params,ht,zt),readonly:zt==null?void 0:zt.readonly,text:vt==="index"||vt==="indexBorder"?Ue.index:_t,mode:Ue.mode,renderFormItem:void 0,valueType:vt,record:ht,proFieldProps:{emptyText:Ue.columnEmptyText,proFieldKey:Yt?"table-field-".concat(Yt):void 0}};return Ue.mode!=="edit"?Object(Fi.jsx)(xr.a,Object(T.a)({mode:"read",ignoreFormItem:!0,fieldProps:Object(Tc.a)(zt==null?void 0:zt.fieldProps,null,zt)},nn)):Object(Fi.jsx)(pf,Object(T.a)(Object(T.a)({},Ue),{},{proFieldProps:nn}),Ue.recordKey)}var bf=Sh,yf=function(Be){var _t,vt=Be.title,ht=typeof(Be==null?void 0:Be.ellipsis)=="boolean"?Be==null?void 0:Be.ellipsis:Be==null||(_t=Be.ellipsis)===null||_t===void 0?void 0:_t.showTitle;return vt&&typeof vt=="function"?vt(Be,"table",Object(Fi.jsx)(Fs.a,{label:null,tooltip:Be.tooltip||Be.tip})):Object(Fi.jsx)(Fs.a,{label:vt,tooltip:Be.tooltip||Be.tip,ellipsis:ht})};function _f(Ue,Be,_t,vt){return typeof vt=="boolean"?vt===!1:(vt==null?void 0:vt(Ue,Be,_t))===!1}var pv=function(Be,_t,vt){var ht=Array.isArray(vt)?Object(od.a)(_t,vt):_t[vt],zt=String(ht);return String(zt)===String(Be)};function kh(Ue){var Be=Ue.columnProps,_t=Ue.text,vt=Ue.rowData,ht=Ue.index,zt=Ue.columnEmptyText,Yt=Ue.counter,nn=Ue.type,yn=Ue.subName,Rn=Ue.editableUtils,ei=Yt.action,$n=Yt.prefixName,Kn=Rn.isEditable(Object(T.a)(Object(T.a)({},vt),{},{index:ht})),ui=Kn.isEditable,Mi=Kn.recordKey,Ri=Be.renderText,Ti=Ri===void 0?function(Ir){return Ir}:Ri,Xi=Ti(_t,vt,ht,ei),Ji=ui&&!_f(_t,vt,ht,Be==null?void 0:Be.editable)?"edit":"read",Or=bf({text:Xi,valueType:Be.valueType||"text",index:ht,rowData:vt,subName:yn,columnProps:Object(T.a)(Object(T.a)({},Be),{},{entry:vt,entity:vt}),counter:Yt,columnEmptyText:zt,type:nn,recordKey:Mi,mode:Ji,prefixName:$n,editableUtils:Rn}),kr=Ji==="edit"?Or:Object(yh.a)(Or,Be,Xi);if(Ji==="edit")return Be.valueType==="option"?Object(Fi.jsx)(wo.b,{children:Rn.actionRender(Object(T.a)(Object(T.a)({},vt),{},{index:Be.index||ht}))}):kr;if(!Be.render){var Pr=ue.a.isValidElement(kr)||["string","number"].includes(Object(ve.a)(kr));return!Object(_h.a)(kr)&&Pr?kr:null}var vr=Be.render(kr,vt,ht,Object(T.a)(Object(T.a)({},ei),Rn),Object(T.a)(Object(T.a)({},Be),{},{isEditable:ui,type:"table"}));return v(vr)?vr:vr&&Be.valueType==="option"&&Array.isArray(vr)?Object(Fi.jsx)(wo.b,{size:16,children:vr}):vr}function Ed(Ue){var Be,_t=Ue.columns,vt=Ue.counter,ht=Ue.columnEmptyText,zt=Ue.type,Yt=Ue.editableUtils,nn=Ue.rowKey,yn=nn===void 0?"id":nn,Rn=Ue.childrenColumnName,ei=Rn===void 0?"children":Rn,$n=new Map;return _t==null||(Be=_t.map(function(Kn,ui){var Mi=Kn.key,Ri=Kn.dataIndex,Ti=Kn.valueEnum,Xi=Kn.valueType,Ji=Xi===void 0?"text":Xi,Or=Kn.children,kr=Kn.onFilter,Pr=Kn.filters,vr=Pr===void 0?[]:Pr,Ir=m(Mi||(Ri==null?void 0:Ri.toString()),ui),tr=!Ti&&!Ji&&!Or;if(tr)return Object(T.a)({index:ui},Kn);var Ui=Kn===Gl.EXPAND_COLUMN||Kn===Gl.SELECTION_COLUMN;if(Ui)return{index:ui,isExtraColumns:!0,hideInSearch:!0,hideInTable:!1,hideInForm:!0,hideInSetting:!0,extraColumn:Kn};var $i=vt.columnsMap[Ir]||{fixed:Kn.fixed},sr=function(){return kr===!0?function(ar,Rr){return pv(ar,Rr,Ri)}:Object(bh.a)(kr)},Dr=yn,wr=Object(T.a)(Object(T.a)({index:ui,key:Ir},Kn),{},{title:yf(Kn),valueEnum:Ti,filters:vr===!0?Object(al.d)(Object(at.a)(Ti,void 0)).filter(function(lr){return lr&&lr.value!=="all"}):vr,onFilter:sr(),fixed:$i.fixed,width:Kn.width||(Kn.fixed?200:void 0),children:Kn.children?Ed(Object(T.a)(Object(T.a)({},Ue),{},{columns:Kn==null?void 0:Kn.children})):void 0,render:function(ar,Rr,zr){typeof yn=="function"&&(Dr=yn(Rr,zr));var Vr;if(Reflect.has(Rr,Dr)){var la;Vr=Rr[Dr];var Ta=$n.get(Vr)||[];(la=Rr[ei])===null||la===void 0||la.forEach(function(ma){var Sa=ma[Dr];$n.has(Sa)||$n.set(Sa,Ta.concat([zr,ei]))})}var ga={columnProps:Kn,text:ar,rowData:Rr,index:zr,columnEmptyText:ht,counter:vt,type:zt,subName:$n.get(Vr),editableUtils:Yt};return kh(ga)}});return ad(wr)}))===null||Be===void 0?void 0:Be.filter(function(Kn){return!Kn.hideInTable})}var oc=["rowKey","tableClassName","action","tableColumn","type","pagination","rowSelection","size","defaultSize","tableStyle","toolbarDom","searchNode","style","cardProps","alertDom","name","onSortChange","onFilterChange","options","isLightFilter","className","cardBordered","editableUtils","getRowKey"],Dh=["cardBordered","request","className","params","defaultData","headerTitle","postData","ghost","pagination","actionRef","columns","toolBarRender","onLoad","onRequestError","style","cardProps","tableStyle","tableClassName","columnsStateMap","onColumnsStateChange","options","search","name","onLoadingChange","rowSelection","beforeSearchSubmit","tableAlertRender","defaultClassName","formRef","type","columnEmptyText","toolbar","rowKey","manualRequest","polling","tooltip","revalidateOnFocus"];function Ic(Ue){var Be=Ue.rowKey,_t=Ue.tableClassName,vt=Ue.action,ht=Ue.tableColumn,zt=Ue.type,Yt=Ue.pagination,nn=Ue.rowSelection,yn=Ue.size,Rn=Ue.defaultSize,ei=Ue.tableStyle,$n=Ue.toolbarDom,Kn=Ue.searchNode,ui=Ue.style,Mi=Ue.cardProps,Ri=Ue.alertDom,Ti=Ue.name,Xi=Ue.onSortChange,Ji=Ue.onFilterChange,Or=Ue.options,kr=Ue.isLightFilter,Pr=Ue.className,vr=Ue.cardBordered,Ir=Ue.editableUtils,tr=Ue.getRowKey,Ui=Object(I.a)(Ue,oc),$i=Cu.useContainer(),sr=Object(A.useMemo)(function(){var ga=function ma(Sa){return Sa.map(function(se){var ae=m(se.key,se.index),b=$i.columnsMap[ae];return b&&b.show===!1?!1:se.children?Object(T.a)(Object(T.a)({},se),{},{children:ma(se.children)}):se}).filter(Boolean)};return ga(ht)},[$i.columnsMap,ht]),Dr=Object(A.useMemo)(function(){return sr==null?void 0:sr.every(function(ga){return ga.filters===!0&&ga.onFilter===!0||ga.filters===void 0&&ga.onFilter===void 0})},[sr]),wr=function(ma){var Sa=Ir.newLineRecord||{},se=Sa.options,ae=Sa.defaultValue;if(se==null?void 0:se.parentKey){var b,_,p={data:ma,getRowKey:tr,row:Object(T.a)(Object(T.a)({},ae),{},{map_row_parentKey:(b=Object(gu.d)(se==null?void 0:se.parentKey))===null||b===void 0?void 0:b.toString()}),key:se==null?void 0:se.recordKey,childrenColumnName:((_=Ue.expandable)===null||_===void 0?void 0:_.childrenColumnName)||"children"};return Object(gu.c)(p,se.position==="top"?"top":"update")}if((se==null?void 0:se.position)==="top")return[ae].concat(Object(z.a)(vt.dataSource));if(Yt&&(Yt==null?void 0:Yt.current)&&(Yt==null?void 0:Yt.pageSize)){var P=Object(z.a)(vt.dataSource);return(Yt==null?void 0:Yt.pageSize)>P.length?(P.push(ae),P):(P.splice((Yt==null?void 0:Yt.current)*(Yt==null?void 0:Yt.pageSize)-1,0,ae),P)}return[].concat(Object(z.a)(vt.dataSource),[ae])},lr=function(){return Object(T.a)(Object(T.a)({},Ui),{},{size:yn,rowSelection:nn===!1?void 0:nn,className:_t,style:ei,columns:sr.map(function(ma){return ma.isExtraColumns?ma.extraColumn:ma}),loading:vt.loading,dataSource:Ir.newLineRecord?wr(vt.dataSource):vt.dataSource,pagination:Yt,onChange:function(Sa,se,ae,b){var _;if((_=Ui.onChange)===null||_===void 0||_.call(Ui,Sa,se,ae,b),Dr||Ji(Object(Il.a)(se)),Array.isArray(ae)){var p=ae.reduce(function(Ae,qe){return Object(T.a)(Object(T.a)({},Ae),{},Object(j.a)({},"".concat(qe.field),qe.order))},{});Xi(Object(Il.a)(p))}else{var P,X=(P=ae.column)===null||P===void 0?void 0:P.sorter,Se=(X==null?void 0:X.toString())===X;Xi(Object(Il.a)(Object(j.a)({},"".concat(Se?X:ae.field),ae.order))||{})}}})},ar=Object(Fi.jsx)(Gl,Object(T.a)(Object(T.a)({},lr()),{},{rowKey:Be})),Rr=Ue.tableViewRender?Ue.tableViewRender(Object(T.a)(Object(T.a)({},lr()),{},{rowSelection:nn!==!1?nn:void 0}),ar):ar,zr=Object(A.useMemo)(function(){if(Ue.editable&&!Ue.name){var ga,ma,Sa,se;return Object(Fi.jsxs)(Fi.Fragment,{children:[$n,Ri,Object(A.createElement)(Ro.a,Object(T.a)(Object(T.a)({},(ga=Ue.editable)===null||ga===void 0?void 0:ga.formProps),{},{formRef:(ma=Ue.editable)===null||ma===void 0||(Sa=ma.formProps)===null||Sa===void 0?void 0:Sa.formRef,component:!1,form:(se=Ue.editable)===null||se===void 0?void 0:se.form,onValuesChange:Ir.onValuesChange,key:"table",submitter:!1,omitNil:!1,dateFormatter:Ue.dateFormatter}),Rr)]})}return Object(Fi.jsxs)(Fi.Fragment,{children:[$n,Ri,Rr]})},[Ri,Ue.loading,!!Ue.editable,Rr,$n]),Vr=Mi===!1||!!Ue.name?zr:Object(Fi.jsx)(Xc,Object(T.a)(Object(T.a)({ghost:Ue.ghost,bordered:Ce("table",vr),bodyStyle:$n?{paddingTop:0}:{padding:0}},Mi),{},{children:zr})),la=function(){return Ue.tableRender?Ue.tableRender(Ue,Vr,{toolbar:$n||void 0,alert:Ri||void 0,table:Rr||void 0}):Vr},Ta=Object(Fi.jsxs)("div",{className:S()(Pr,Object(j.a)({},"".concat(Pr,"-polling"),vt.pollingLoading)),style:ui,ref:$i.rootDomRef,children:[kr?null:Kn,zt!=="form"&&Ue.tableExtraRender&&Object(Fi.jsx)("div",{className:"".concat(Pr,"-extra"),children:Ue.tableExtraRender(Ue,vt.dataSource||[])}),zt!=="form"&&la()]});return!Or||!(Or==null?void 0:Or.fullScreen)?Ta:Object(Fi.jsx)($.a,{getPopupContainer:function(){return $i.rootDomRef.current||document.body},children:Ta})}var Cg={},Ld=function(Be){var _t,vt=Be.cardBordered,ht=Be.request,zt=Be.className,Yt=Be.params,nn=Yt===void 0?Cg:Yt,yn=Be.defaultData,Rn=Be.headerTitle,ei=Be.postData,$n=Be.ghost,Kn=Be.pagination,ui=Be.actionRef,Mi=Be.columns,Ri=Mi===void 0?[]:Mi,Ti=Be.toolBarRender,Xi=Be.onLoad,Ji=Be.onRequestError,Or=Be.style,kr=Be.cardProps,Pr=Be.tableStyle,vr=Be.tableClassName,Ir=Be.columnsStateMap,tr=Be.onColumnsStateChange,Ui=Be.options,$i=Be.search,sr=Be.name,Dr=Be.onLoadingChange,wr=Be.rowSelection,lr=wr===void 0?!1:wr,ar=Be.beforeSearchSubmit,Rr=Be.tableAlertRender,zr=Be.defaultClassName,Vr=Be.formRef,la=Be.type,Ta=la===void 0?"table":la,ga=Be.columnEmptyText,ma=ga===void 0?"-":ga,Sa=Be.toolbar,se=Be.rowKey,ae=Be.manualRequest,b=Be.polling,_=Be.tooltip,p=Be.revalidateOnFocus,P=p===void 0?!1:p,X=Object(I.a)(Be,Dh),Se=S()(zr,zt),Ae=Object(A.useRef)(),qe=Object(A.useRef)(),rt=Vr||qe;Object(A.useImperativeHandle)(ui,function(){return Ae.current});var ct=Object(pl.a)(lr?(lr==null?void 0:lr.defaultSelectedRowKeys)||[]:void 0,{value:lr?lr.selectedRowKeys:void 0}),Xt=Object(re.a)(ct,2),cn=Xt[0],Mn=Xt[1],gi=Object(A.useRef)([]),Zn=Object(A.useCallback)(function(Xr,ba){Mn(Xr),(!lr||!(lr==null?void 0:lr.selectedRowKeys))&&(gi.current=ba)},[Mn]),di=Object(pl.a)(function(){if(!(ae||$i!==!1))return{}}),Un=Object(re.a)(di,2),qn=Un[0],ur=Un[1],_r=Object(pl.a)({}),cr=Object(re.a)(_r,2),Zr=cr[0],Kr=cr[1],Jr=Object(pl.a)({}),pa=Object(re.a)(Jr,2),Ma=pa[0],Vo=pa[1];Object(A.useEffect)(function(){var Xr=g(Ri),ba=Xr.sort,Ga=Xr.filter;Kr(Ga),Vo(ba)},[]);var vs=Object(le.d)(),Xa=Object(ve.a)(Kn)==="object"?Kn:{defaultCurrent:1,defaultPageSize:20,pageSize:20,current:1},Ea=Cu.useContainer(),wa=Object(A.useMemo)(function(){if(!!ht)return function(){var Xr=Object(E.a)(Object(De.a)().mark(function ba(Ga){var $a,gs;return Object(De.a)().wrap(function(Uo){for(;;)switch(Uo.prev=Uo.next){case 0:return $a=Object(T.a)(Object(T.a)(Object(T.a)({},Ga||{}),qn),nn),delete $a._timestamp,Uo.next=4,ht($a,Ma,Zr);case 4:return gs=Uo.sent,Uo.abrupt("return",gs);case 6:case"end":return Uo.stop()}},ba)}));return function(ba){return Xr.apply(this,arguments)}}()},[qn,nn,Zr,Ma,ht]),qr=rd(wa,yn,{pageInfo:Kn===!1?!1:Xa,loading:Be.loading,dataSource:Be.dataSource,onDataSourceChange:Be.onDataSourceChange,onLoad:Xi,onLoadingChange:Dr,onRequestError:Ji,postData:ei,revalidateOnFocus:P,manual:qn===void 0,polling:b,effects:[Object(Ql.a)(nn),Object(Ql.a)(qn),Object(Ql.a)(Zr),Object(Ql.a)(Ma)],debounceTime:Be.debounceTime,onPageInfoChange:function(ba){var Ga,$a;Ta==="list"||!Kn||!wa||(Kn==null||(Ga=Kn.onChange)===null||Ga===void 0||Ga.call(Kn,ba.current,ba.pageSize),Kn==null||($a=Kn.onShowSizeChange)===null||$a===void 0||$a.call(Kn,ba.current,ba.pageSize))}});Object(A.useEffect)(function(){var Xr;if(!(Be.manualRequest||!Be.request||!P||((Xr=Be.form)===null||Xr===void 0?void 0:Xr.ignoreRules))){var ba=function(){document.visibilityState==="visible"&&qr.reload()};return document.addEventListener("visibilitychange",ba),function(){return document.removeEventListener("visibilitychange",ba)}}},[]);var Ua=ue.a.useRef(new Map),to=ue.a.useMemo(function(){return typeof se=="function"?se:function(Xr,ba){var Ga;return ba===-1?Xr==null?void 0:Xr[se]:Be.name?ba==null?void 0:ba.toString():(Ga=Xr==null?void 0:Xr[se])!==null&&Ga!==void 0?Ga:ba==null?void 0:ba.toString()}},[Be.name,se]);Object(A.useMemo)(function(){var Xr;if((Xr=qr.dataSource)===null||Xr===void 0?void 0:Xr.length){var ba=new Map,Ga=qr.dataSource.map(function($a){var gs=to($a,-1);return ba.set(gs,$a),gs});return Ua.current=ba,Ga}return[]},[qr.dataSource,to]),Object(A.useEffect)(function(){gi.current=cn==null?void 0:cn.map(function(Xr){var ba;return(ba=Ua.current)===null||ba===void 0?void 0:ba.get(Xr)})},[cn]);var ls=Object(A.useMemo)(function(){var Xr=Kn===!1?!1:Object(T.a)({},Kn),ba=Object(T.a)(Object(T.a)({},qr.pageInfo),{},{setPageInfo:function($a){var gs=$a.pageSize,Os=$a.current,Uo=qr.pageInfo;if(gs===Uo.pageSize||Uo.current===1){qr.setPageInfo({pageSize:gs,current:Os});return}ht&&qr.setDataSource([]),qr.setPageInfo({pageSize:gs,current:Ta==="list"?Os:1})}});return ht&&Xr&&(delete Xr.onChange,delete Xr.onShowSizeChange),Pl(Xr,ba,vs)},[Kn,qr,vs]);Object(Gs.a)(function(){var Xr;Be.request&&nn&&qr.dataSource&&(qr==null||(Xr=qr.pageInfo)===null||Xr===void 0?void 0:Xr.current)!==1&&qr.setPageInfo({current:1})},[nn]),Ea.setPrefixName(Be.name);var xo=Object(A.useCallback)(function(){lr&&lr.onChange&&lr.onChange([],[],{type:"none"}),Zn([],[])},[lr,Zn]);Ea.setAction(Ae.current),Ea.propsRef.current=Be;var Qo=Object(gu.a)(Object(T.a)(Object(T.a)({},Be.editable),{},{tableName:Be.name,getRowKey:to,childrenColumnName:((_t=Be.expandable)===null||_t===void 0?void 0:_t.childrenColumnName)||"children",dataSource:qr.dataSource||[],setDataSource:function(ba){var Ga,$a;(Ga=Be.editable)===null||Ga===void 0||($a=Ga.onValuesChange)===null||$a===void 0||$a.call(Ga,void 0,ba),qr.setDataSource(ba)}}));th(Ae,qr,{fullScreen:function(){var ba;if(!(!((ba=Ea.rootDomRef)===null||ba===void 0?void 0:ba.current)||!document.fullscreenEnabled))if(document.fullscreenElement)document.exitFullscreen();else{var Ga;(Ga=Ea.rootDomRef)===null||Ga===void 0||Ga.current.requestFullscreen()}},onCleanSelected:function(){xo()},resetAll:function(){var ba;xo(),Kr({}),Vo({}),Ea.setKeyWords(void 0),qr.setPageInfo({current:1}),rt==null||(ba=rt.current)===null||ba===void 0||ba.resetFields(),ur({})},editableUtils:Qo}),ui&&(ui.current=Ae.current);var Ho=Object(A.useMemo)(function(){var Xr;return Ed({columns:Ri,counter:Ea,columnEmptyText:ma,type:Ta,editableUtils:Qo,rowKey:se,childrenColumnName:(Xr=Be.expandable)===null||Xr===void 0?void 0:Xr.childrenColumnName}).sort(yl(Ea.columnsMap))},[Ri,Ea==null?void 0:Ea.sortKeyColumns,Ea==null?void 0:Ea.columnsMap,ma,Ta,Qo.editableKeys&&Qo.editableKeys.join(",")]);Object(Gs.b)(function(){if(Ho&&Ho.length>0){var Xr=Ho.map(function(ba){return m(ba.key,ba.index)});Ea.setSortKeyColumns(Xr)}},[Ho],["render","renderFormItem"],100),Object(Gs.a)(function(){var Xr=qr.pageInfo,ba=Kn||{},Ga=ba.current,$a=Ga===void 0?Xr==null?void 0:Xr.current:Ga,gs=ba.pageSize,Os=gs===void 0?Xr==null?void 0:Xr.pageSize:gs;Kn&&($a||Os)&&(Os!==(Xr==null?void 0:Xr.pageSize)||$a!==(Xr==null?void 0:Xr.current))&&qr.setPageInfo({pageSize:Os||Xr.pageSize,current:$a||Xr.current})},[Kn&&Kn.pageSize,Kn&&Kn.current]);var xl=Object(T.a)(Object(T.a)({selectedRowKeys:cn},lr),{},{onChange:function(ba,Ga,$a){lr&&lr.onChange&&lr.onChange(ba,Ga,$a),Zn(ba,Ga)}}),za=$i!==!1&&($i==null?void 0:$i.filterType)==="light",Pa=function(ba){if(Ui&&Ui.search){var Ga,$a,gs=Ui.search===!0?{}:Ui.search,Os=gs.name,Uo=Os===void 0?"keyword":Os,_l=(Ga=Ui.search)===null||Ga===void 0||($a=Ga.onSearch)===null||$a===void 0?void 0:$a.call(Ga,Ea.keyWords);if(_l!==!1){ur(Object(T.a)(Object(T.a)({},ba),{},Object(j.a)({},Uo,Ea.keyWords)));return}}ur(ba)},ko=Object(A.useMemo)(function(){if(Object(ve.a)(qr.loading)==="object"){var Xr;return((Xr=qr.loading)===null||Xr===void 0?void 0:Xr.spinning)||!1}return qr.loading},[qr.loading]),co=$i===!1&&Ta!=="form"?null:Object(Fi.jsx)(yd,{pagination:ls,beforeSearchSubmit:ar,action:Ae,columns:Ri,onFormSearchSubmit:function(ba){Pa(ba)},ghost:$n,onReset:Be.onReset,onSubmit:Be.onSubmit,loading:!!ko,manualRequest:ae,search:$i,form:Be.form,formRef:rt,type:Be.type||"table",cardBordered:Be.cardBordered,dateFormatter:Be.dateFormatter}),as=Ti===!1?null:Object(Fi.jsx)(ph,{headerTitle:Rn,hideToolbar:Ui===!1&&!Rn&&!Ti&&!Sa&&!za,selectedRows:gi.current,selectedRowKeys:cn,tableColumn:Ho,tooltip:_,toolbar:Sa,onFormSearchSubmit:function(ba){ur(Object(T.a)(Object(T.a)({},qn),ba))},searchNode:za?co:null,options:Ui,actionRef:Ae,toolBarRender:Ti}),jo=lr!==!1?Object(Fi.jsx)(Jc,{selectedRowKeys:cn,selectedRows:gi.current,onCleanSelected:xo,alertOptionRender:X.tableAlertOptionRender,alertInfoRender:Rr,alwaysShowAlert:lr==null?void 0:lr.alwaysShowAlert}):null;return Object(Fi.jsx)(Ic,Object(T.a)(Object(T.a)({},Be),{},{name:sr,size:Ea.tableSize,onSizeChange:Ea.setTableSize,pagination:ls,searchNode:co,rowSelection:lr!==!1?xl:void 0,className:Se,tableColumn:Ho,isLightFilter:za,action:qr,alertDom:jo,toolbarDom:as,onSortChange:Vo,onFilterChange:Kr,editableUtils:Qo,getRowKey:to}))},wh=function(Be){var _t=Object(A.useContext)($.a.ConfigContext),vt=_t.getPrefixCls,ht=Be.ErrorBoundary===!1?ue.a.Fragment:Be.ErrorBoundary||ws.a;return Object(Fi.jsx)(Cu.Provider,{initialState:Be,children:Object(Fi.jsx)(le.a,{children:Object(Fi.jsx)(ht,{children:Object(Fi.jsx)(Ld,Object(T.a)({defaultClassName:vt("pro-table")},Be))})})})};wh.Summary=Gl.Summary;var bv=wh,Og=K.a=bv},QkrF:function(fn,K,a){"use strict";a.d(K,"a",function(){return H});var le=a("fWQN"),De=a("mtLc"),E=a("JQT/"),ve=a("MI8n"),re=a("/kV6"),J=a("bY76"),$=a("cGHE"),y=a("aokT"),Q=a("gCVg"),L=a("LloX"),ne=a("aIFW"),ee=function(){function W(){Object(le.a)(this,W)}return Object(De.a)(W,null,[{key:"chord",value:function(V,N){return Object(re.c)(V,N)}}]),W}();ee.CtrlCmd=2048,ee.Shift=1024,ee.Alt=512,ee.WinCtrl=256;function H(){return{editor:void 0,languages:void 0,CancellationTokenSource:E.b,Emitter:ve.b,KeyCode:ne.t,KeyMod:ee,Position:$.a,Range:y.a,Selection:Q.a,SelectionDirection:ne.F,MarkerSeverity:ne.u,MarkerTag:ne.v,Uri:J.a,Token:L.l}}},QuOb:function(fn,K,a){"use strict";a.d(K,"a",function(){return L});var le=a("w4Tj"),De=a("oZsa"),E=a("yKVA"),ve=a("879j"),re=a("fWQN"),J=a("mtLc"),$=a("MI8n"),y=a("pmY6"),Q=function(){function N(U,d,j,C,x,S,T){Object(re.a)(this,N),this._forceIntegerValues=U,this._scrollStateBrand=void 0,this._forceIntegerValues&&(d=d|0,j=j|0,C=C|0,x=x|0,S=S|0,T=T|0),this.rawScrollLeft=C,this.rawScrollTop=T,d<0&&(d=0),C+d>j&&(C=j-d),C<0&&(C=0),x<0&&(x=0),T+x>S&&(T=S-x),T<0&&(T=0),this.width=d,this.scrollWidth=j,this.scrollLeft=C,this.height=x,this.scrollHeight=S,this.scrollTop=T}return Object(J.a)(N,[{key:"equals",value:function(d){return this.rawScrollLeft===d.rawScrollLeft&&this.rawScrollTop===d.rawScrollTop&&this.width===d.width&&this.scrollWidth===d.scrollWidth&&this.scrollLeft===d.scrollLeft&&this.height===d.height&&this.scrollHeight===d.scrollHeight&&this.scrollTop===d.scrollTop}},{key:"withScrollDimensions",value:function(d,j){return new N(this._forceIntegerValues,typeof d.width!="undefined"?d.width:this.width,typeof d.scrollWidth!="undefined"?d.scrollWidth:this.scrollWidth,j?this.rawScrollLeft:this.scrollLeft,typeof d.height!="undefined"?d.height:this.height,typeof d.scrollHeight!="undefined"?d.scrollHeight:this.scrollHeight,j?this.rawScrollTop:this.scrollTop)}},{key:"withScrollPosition",value:function(d){return new N(this._forceIntegerValues,this.width,this.scrollWidth,typeof d.scrollLeft!="undefined"?d.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof d.scrollTop!="undefined"?d.scrollTop:this.rawScrollTop)}},{key:"createScrollEvent",value:function(d,j){var C=this.width!==d.width,x=this.scrollWidth!==d.scrollWidth,S=this.scrollLeft!==d.scrollLeft,T=this.height!==d.height,z=this.scrollHeight!==d.scrollHeight,A=this.scrollTop!==d.scrollTop;return{inSmoothScrolling:j,oldWidth:d.width,oldScrollWidth:d.scrollWidth,oldScrollLeft:d.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:d.height,oldScrollHeight:d.scrollHeight,oldScrollTop:d.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:C,scrollWidthChanged:x,scrollLeftChanged:S,heightChanged:T,scrollHeightChanged:z,scrollTopChanged:A}}}]),N}(),L=function(N){Object(E.a)(d,N);var U=Object(ve.a)(d);function d(j){var C;return Object(re.a)(this,d),C=U.call(this),C._scrollableBrand=void 0,C._onScroll=C._register(new $.b),C.onScroll=C._onScroll.event,C._smoothScrollDuration=j.smoothScrollDuration,C._scheduleAtNextAnimationFrame=j.scheduleAtNextAnimationFrame,C._state=new Q(j.forceIntegerValues,0,0,0,0,0,0),C._smoothScrolling=null,C}return Object(J.a)(d,[{key:"dispose",value:function(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),Object(le.a)(Object(De.a)(d.prototype),"dispose",this).call(this)}},{key:"setSmoothScrollDuration",value:function(C){this._smoothScrollDuration=C}},{key:"validateScrollPosition",value:function(C){return this._state.withScrollPosition(C)}},{key:"getScrollDimensions",value:function(){return this._state}},{key:"setScrollDimensions",value:function(C,x){var S,T=this._state.withScrollDimensions(C,x);this._setState(T,Boolean(this._smoothScrolling)),(S=this._smoothScrolling)===null||S===void 0||S.acceptScrollDimensions(this._state)}},{key:"getFutureScrollPosition",value:function(){return this._smoothScrolling?this._smoothScrolling.to:this._state}},{key:"getCurrentScrollPosition",value:function(){return this._state}},{key:"setScrollPositionNow",value:function(C){var x=this._state.withScrollPosition(C);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(x,!1)}},{key:"setScrollPositionSmooth",value:function(C,x){var S=this;if(this._smoothScrollDuration===0)return this.setScrollPositionNow(C);if(this._smoothScrolling){C={scrollLeft:typeof C.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:C.scrollLeft,scrollTop:typeof C.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:C.scrollTop};var T=this._state.withScrollPosition(C);if(this._smoothScrolling.to.scrollLeft===T.scrollLeft&&this._smoothScrolling.to.scrollTop===T.scrollTop)return;var z;x?z=new W(this._smoothScrolling.from,T,this._smoothScrolling.startTime,this._smoothScrolling.duration):z=this._smoothScrolling.combine(this._state,T,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=z}else{var A=this._state.withScrollPosition(C);this._smoothScrolling=W.start(this._state,A,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){!S._smoothScrolling||(S._smoothScrolling.animationFrameDisposable=null,S._performSmoothScrolling())})}},{key:"hasPendingScrollAnimation",value:function(){return Boolean(this._smoothScrolling)}},{key:"_performSmoothScrolling",value:function(){var C=this;if(!!this._smoothScrolling){var x=this._smoothScrolling.tick(),S=this._state.withScrollPosition(x);if(this._setState(S,!0),!!this._smoothScrolling){if(x.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){!C._smoothScrolling||(C._smoothScrolling.animationFrameDisposable=null,C._performSmoothScrolling())})}}}},{key:"_setState",value:function(C,x){var S=this._state;S.equals(C)||(this._state=C,this._onScroll.fire(this._state.createScrollEvent(S,x)))}}]),d}(y.a),ne=Object(J.a)(function N(U,d,j){Object(re.a)(this,N),this.scrollLeft=U,this.scrollTop=d,this.isDone=j});function ee(N,U){var d=U-N;return function(j){return N+d*V(j)}}function H(N,U,d){return function(j){return j<d?N(j/d):U((j-d)/(1-d))}}var W=function(){function N(U,d,j,C){Object(re.a)(this,N),this.from=U,this.to=d,this.duration=C,this.startTime=j,this.animationFrameDisposable=null,this._initAnimations()}return Object(J.a)(N,[{key:"_initAnimations",value:function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}},{key:"_initAnimation",value:function(d,j,C){var x=Math.abs(d-j);if(x>2.5*C){var S,T;return d<j?(S=d+.75*C,T=j-.75*C):(S=d-.75*C,T=j+.75*C),H(ee(d,S),ee(T,j),.33)}return ee(d,j)}},{key:"dispose",value:function(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}},{key:"acceptScrollDimensions",value:function(d){this.to=d.withScrollPosition(this.to),this._initAnimations()}},{key:"tick",value:function(){return this._tick(Date.now())}},{key:"_tick",value:function(d){var j=(d-this.startTime)/this.duration;if(j<1){var C=this.scrollLeft(j),x=this.scrollTop(j);return new ne(C,x,!1)}return new ne(this.to.scrollLeft,this.to.scrollTop,!0)}},{key:"combine",value:function(d,j,C){return N.start(d,j,C)}}],[{key:"start",value:function(d,j,C){C=C+10;var x=Date.now()-10;return new N(d,j,x,C)}}]),N}();function F(N){return Math.pow(N,3)}function V(N){return 1-F(1-N)}},R3nR:function(fn,K,a){"use strict";a.d(K,"b",function(){return E}),a.d(K,"a",function(){return ve});var le=a("T8No"),De=a("Cg/j"),E=Object(De.c)("accessibilityService"),ve=new le.c("accessibilityModeEnabled",!1)},R8sh:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("labelService")},REzY:function(fn,K,a){},S3by:function(fn,K,a){"use strict";var le=a("N0LK"),De;(function(E){E[E.Ignore=0]="Ignore",E[E.Info=1]="Info",E[E.Warning=2]="Warning",E[E.Error=3]="Error"})(De||(De={})),function(E){var ve="error",re="warning",J="warn",$="info",y="ignore";function Q(ne){return ne?le.r(ve,ne)?E.Error:le.r(re,ne)||le.r(J,ne)?E.Warning:le.r($,ne)?E.Info:E.Ignore:E.Ignore}E.fromValue=Q;function L(ne){switch(ne){case E.Error:return ve;case E.Warning:return re;case E.Info:return $;default:return y}}E.toString=L}(De||(De={})),K.a=De},S76h:function(fn,K,a){},SDKL:function(fn,K,a){},"SE9/":function(fn,K,a){"use strict";var le=a("q1tI");function De(d,j){return $(d)||J(d,j)||ve(d,j)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ve(d,j){if(!!d){if(typeof d=="string")return re(d,j);var C=Object.prototype.toString.call(d).slice(8,-1);if(C==="Object"&&d.constructor&&(C=d.constructor.name),C==="Map"||C==="Set")return Array.from(d);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return re(d,j)}}function re(d,j){(j==null||j>d.length)&&(j=d.length);for(var C=0,x=new Array(j);C<j;C++)x[C]=d[C];return x}function J(d,j){var C=d&&(typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"]);if(C!=null){var x=[],S=!0,T=!1,z,A;try{for(C=C.call(d);!(S=(z=C.next()).done)&&(x.push(z.value),!(j&&x.length===j));S=!0);}catch(ue){T=!0,A=ue}finally{try{!S&&C.return!=null&&C.return()}finally{if(T)throw A}}return x}}function $(d){if(Array.isArray(d))return d}function y(d){var j=typeof window=="undefined",C=Object(le.useState)(function(){return j?!1:window.matchMedia(d).matches}),x=De(C,2),S=x[0],T=x[1];return Object(le.useLayoutEffect)(function(){if(!j){var z=window.matchMedia(d),A=function(be){return T(be.matches)};return z.addListener(A),function(){return z.removeListener(A)}}},[d]),S}function Q(d,j){return W(d)||H(d,j)||ne(d,j)||L()}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ne(d,j){if(!!d){if(typeof d=="string")return ee(d,j);var C=Object.prototype.toString.call(d).slice(8,-1);if(C==="Object"&&d.constructor&&(C=d.constructor.name),C==="Map"||C==="Set")return Array.from(d);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return ee(d,j)}}function ee(d,j){(j==null||j>d.length)&&(j=d.length);for(var C=0,x=new Array(j);C<j;C++)x[C]=d[C];return x}function H(d,j){var C=d&&(typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"]);if(C!=null){var x=[],S=!0,T=!1,z,A;try{for(C=C.call(d);!(S=(z=C.next()).done)&&(x.push(z.value),!(j&&x.length===j));S=!0);}catch(ue){T=!0,A=ue}finally{try{!S&&C.return!=null&&C.return()}finally{if(T)throw A}}return x}}function W(d){if(Array.isArray(d))return d}var F={xs:{maxWidth:575,matchMedia:"(max-width: 575px)"},sm:{minWidth:576,maxWidth:767,matchMedia:"(min-width: 576px) and (max-width: 767px)"},md:{minWidth:768,maxWidth:991,matchMedia:"(min-width: 768px) and (max-width: 991px)"},lg:{minWidth:992,maxWidth:1199,matchMedia:"(min-width: 992px) and (max-width: 1199px)"},xl:{minWidth:1200,maxWidth:1599,matchMedia:"(min-width: 1200px) and (max-width: 1599px)"},xxl:{minWidth:1600,matchMedia:"(min-width: 1600px)"}},V=function(){var j="md";if(typeof window=="undefined")return j;var C=Object.keys(F).find(function(x){var S=F[x].matchMedia;return!!window.matchMedia(S).matches});return j=C,j},N=function(){var j=y(F.md.matchMedia),C=y(F.lg.matchMedia),x=y(F.xxl.matchMedia),S=y(F.xl.matchMedia),T=y(F.sm.matchMedia),z=y(F.xs.matchMedia),A=Object(le.useState)(V()),ue=Q(A,2),be=ue[0],de=ue[1];return Object(le.useEffect)(function(){if(x){de("xxl");return}if(S){de("xl");return}if(C){de("lg");return}if(j){de("md");return}if(T){de("sm");return}if(z){de("xs");return}de("md")},[j,C,x,S,T,z]),be},U=K.a=N},SMG5:function(fn,K,a){"use strict";a.d(K,"b",function(){return H}),a.d(K,"a",function(){return F});var le=a("qLMh"),De=a("fWQN"),E=a("mtLc"),ve=a("EffR"),re=a("X+cX"),J=a("JQT/"),$=a("eLzo"),y=a("EJc0"),Q=a("pmY6"),L=a("746U"),ne=a("3/fG"),ee=function(V,N,U,d){function j(C){return C instanceof U?C:new U(function(x){x(C)})}return new(U||(U=Promise))(function(C,x){function S(A){try{z(d.next(A))}catch(ue){x(ue)}}function T(A){try{z(d.throw(A))}catch(ue){x(ue)}}function z(A){A.done?C(A.value):j(A.value).then(S,T)}z((d=d.apply(V,N||[])).next())})};function H(V,N){Object(L.i)(N)?V.title=Object(y.f)(N):(N==null?void 0:N.markdownNotSupportedFallback)?V.title=N.markdownNotSupportedFallback:V.removeAttribute("title")}var W=function(){function V(N,U,d){Object(De.a)(this,V),this.hoverDelegate=N,this.target=U,this.fadeInAnimation=d}return Object(E.a)(V,[{key:"update",value:function(U,d,j){var C;return ee(this,void 0,void 0,Object(le.a)().mark(function x(){var S,T;return Object(le.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),!this.isDisposed){A.next=3;break}return A.abrupt("return");case 3:if(!(U===void 0||Object(L.i)(U)||U instanceof HTMLElement)){A.next=7;break}S=U,A.next=20;break;case 7:if(Object(L.e)(U.markdown)){A.next=11;break}S=(C=U.markdown)!==null&&C!==void 0?C:U.markdownNotSupportedFallback,A.next=20;break;case 11:return this._hoverWidget||this.show(Object(ne.b)("iconLabel.loading","Loading..."),d),this._cancellationTokenSource=new J.b,T=this._cancellationTokenSource.token,A.next=16,U.markdown(T);case 16:if(S=A.sent,S===void 0&&(S=U.markdownNotSupportedFallback),!(this.isDisposed||T.isCancellationRequested)){A.next=20;break}return A.abrupt("return");case 20:this.show(S,d,j);case 21:case"end":return A.stop()}},x,this)}))}},{key:"show",value:function(U,d,j){var C=this._hoverWidget;if(this.hasContent(U)){var x=Object.assign({content:U,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!C},j);this._hoverWidget=this.hoverDelegate.showHover(x,d)}C==null||C.dispose()}},{key:"hasContent",value:function(U){return U?Object($.d)(U)?!!U.value:!0:!1}},{key:"isDisposed",get:function(){var U;return(U=this._hoverWidget)===null||U===void 0?void 0:U.isDisposed}},{key:"dispose",value:function(){var U,d;(U=this._hoverWidget)===null||U===void 0||U.dispose(),(d=this._cancellationTokenSource)===null||d===void 0||d.dispose(!0),this._cancellationTokenSource=void 0}}]),V}();function F(V,N,U,d){var j=this,C,x,S=function(de,ke){var he,ge=x!==void 0;de&&(x==null||x.dispose(),x=void 0),ke&&(C==null||C.dispose(),C=void 0),ge&&((he=V.onDidHideHover)===null||he===void 0||he.call(V))},T=function(de,ke,he){return new re.i(function(){return ee(j,void 0,void 0,Object(le.a)().mark(function ge(){return Object(le.a)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(!(!x||x.isDisposed)){k.next=4;break}return x=new W(V,he||N,de>0),k.next=4,x.update(U,ke,d);case 4:case"end":return k.stop()}},ge)}))},de)},z=function(){if(!C){var de=new Q.c,ke=function(w){return S(!1,w.fromElement===N)};de.add(ve.addDisposableListener(N,ve.EventType.MOUSE_LEAVE,ke,!0));var he=function(){return S(!0,!0)};de.add(ve.addDisposableListener(N,ve.EventType.MOUSE_DOWN,he,!0));var ge={targetElements:[N],dispose:function(){}};if(V.placement===void 0||V.placement==="mouse"){var ce=function(w){ge.x=w.x+10,w.target instanceof HTMLElement&&w.target.classList.contains("action-label")&&S(!0,!0)};de.add(ve.addDisposableListener(N,ve.EventType.MOUSE_MOVE,ce,!0))}de.add(T(V.delay,!1,ge)),C=de}},A=ve.addDisposableListener(N,ve.EventType.MOUSE_OVER,z,!0),ue={show:function(de){S(!1,!0),T(0,de)},hide:function(){S(!0,!0)},update:function(de,ke){return ee(j,void 0,void 0,Object(le.a)().mark(function he(){return Object(le.a)().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return U=de,ce.next=3,x==null?void 0:x.update(U,void 0,ke);case 3:case"end":return ce.stop()}},he)}))},dispose:function(){A.dispose(),S(!0,!0)}};return ue}},Sdnv:function(fn,K,a){"use strict";a.d(K,"c",function(){return E}),a.d(K,"a",function(){return ve}),a.d(K,"b",function(){return re});var le=a("fWQN"),De=a("mtLc");function E(J,$,y){return Math.min(Math.max(J,$),y)}var ve=function(){function J(){Object(le.a)(this,J),this._n=1,this._val=0}return Object(De.a)(J,[{key:"update",value:function(y){return this._val=this._val+(y-this._val)/this._n,this._n+=1,this._val}},{key:"value",get:function(){return this._val}}]),J}(),re=function(){function J($){Object(le.a)(this,J),this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array($),this._values.fill(0,0,$)}return Object(De.a)(J,[{key:"update",value:function(y){var Q=this._values[this._index];return this._values[this._index]=y,this._index=(this._index+1)%this._values.length,this._sum-=Q,this._sum+=y,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}},{key:"value",get:function(){return this._val}}]),J}()},SmQN:function(fn,K,a){"use strict";a.d(K,"a",function(){return wn});var le=a("tS8v"),De=a("w4Tj"),E=a("oZsa"),ve=a("yKVA"),re=a("879j"),J=a("rAM+"),$=a("fWQN"),y=a("mtLc"),Q=a("EffR"),L=a("ZlPH"),ne=a("c9Qy"),ee=a("51su"),H=a("cMOf"),W=a("FWmy"),F=a("X+cX"),V=a("Vhoy"),N=a("/cxE"),U=a("MI8n"),d=a("eLzo"),j=a("pmY6"),C=a("T5lh"),x=a("lKfe"),S=a("DMKg"),T=a("o39E"),z=a("sswD"),A=a("Vxe3"),ue=a("OQeR"),be=a("nB0o"),de=a("0Lb2"),ke=a("qLMh"),he=a("WqXY"),ge=a("GJhM"),ce=a("8HAY"),k=a("DTDp"),w=a("/UlZ"),B=a("cGHE"),Y=a("CGdd"),pe=a("zhcO"),me=a("baJR"),I=a("YNuV"),we=a("3/fG"),Re=a("oF4g"),Oe=a("+7oY"),Pe=a("T8No"),Ne=a("v1vZ"),Ke=function(ii,Li,Fn,jn){var Nt=arguments.length,Gt=Nt<3?Li:jn===null?jn=Object.getOwnPropertyDescriptor(Li,Fn):jn,Et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Gt=Reflect.decorate(ii,Li,Fn,jn);else for(var Rt=ii.length-1;Rt>=0;Rt--)(Et=ii[Rt])&&(Gt=(Nt<3?Et(Gt):Nt>3?Et(Li,Fn,Gt):Et(Li,Fn))||Gt);return Nt>3&&Gt&&Object.defineProperty(Li,Fn,Gt),Gt},Xe=function(ii,Li){return function(Fn,jn){Li(Fn,jn,ii)}},wt=function(ii,Li,Fn,jn){function Nt(Gt){return Gt instanceof Fn?Gt:new Fn(function(Et){Et(Gt)})}return new(Fn||(Fn=Promise))(function(Gt,Et){function Rt(Ze){try{et(jn.next(Ze))}catch(on){Et(on)}}function dn(Ze){try{et(jn.throw(Ze))}catch(on){Et(on)}}function et(Ze){Ze.done?Gt(Ze.value):Nt(Ze.value).then(Rt,dn)}et((jn=jn.apply(ii,Li||[])).next())})},Ct=3,bt=function(){function ii(Li,Fn,jn,Nt){Object($.a)(this,ii),this.originalLineStart=Li,this.originalLineEnd=Fn,this.modifiedLineStart=jn,this.modifiedLineEnd=Nt}return Object(y.a)(ii,[{key:"getType",value:function(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}]),ii}(),mt=Object(y.a)(function ii(Li){Object($.a)(this,ii),this.entries=Li}),jt=Object(Ne.b)("diff-review-insert",V.a.add,we.b("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),Je=Object(Ne.b)("diff-review-remove",V.a.remove,we.b("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),Wt=Object(Ne.b)("diff-review-close",V.a.close,we.b("diffReviewCloseIcon","Icon for 'Close' in diff review.")),Te=function(ii){Object(ve.a)(Fn,ii);var Li=Object(re.a)(Fn);function Fn(jn,Nt,Gt,Et){var Rt;return Object($.a)(this,Fn),Rt=Li.call(this),Rt._languageService=Nt,Rt._audioCueService=Gt,Rt._configurationService=Et,Rt._width=0,Rt._diffEditor=jn,Rt._isVisible=!1,Rt.shadow=Object(L.b)(document.createElement("div")),Rt.shadow.setClassName("diff-review-shadow"),Rt.actionBarContainer=Object(L.b)(document.createElement("div")),Rt.actionBarContainer.setClassName("diff-review-actions"),Rt._actionBar=Rt._register(new he.a(Rt.actionBarContainer.domNode)),Rt._actionBar.push(new ce.a("diffreview.close",we.b("label.close","Close"),"close-diff-review "+C.a.asClassName(Wt),!0,function(){return wt(Object(le.a)(Rt),void 0,void 0,Object(ke.a)().mark(function dn(){return Object(ke.a)().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.abrupt("return",this.hide());case 1:case"end":return Ze.stop()}},dn,this)}))}),{label:!1,icon:!0}),Rt.domNode=Object(L.b)(document.createElement("div")),Rt.domNode.setClassName("diff-review monaco-editor-background"),Rt._content=Object(L.b)(document.createElement("div")),Rt._content.setClassName("diff-review-content"),Rt._content.setAttribute("role","code"),Rt.scrollbar=Rt._register(new ge.a(Rt._content.domNode,{})),Rt.domNode.domNode.appendChild(Rt.scrollbar.getDomNode()),Rt._register(jn.onDidUpdateDiff(function(){!Rt._isVisible||(Rt._diffs=Rt._compute(),Rt._render())})),Rt._register(jn.getModifiedEditor().onDidChangeCursorPosition(function(){!Rt._isVisible||Rt._render()})),Rt._register(Q.addStandardDisposableListener(Rt.domNode.domNode,"click",function(dn){dn.preventDefault();var et=Q.findParentWithClass(dn.target,"diff-review-row");et&&Rt._goToRow(et)})),Rt._register(Q.addStandardDisposableListener(Rt.domNode.domNode,"keydown",function(dn){(dn.equals(18)||dn.equals(2048|18)||dn.equals(512|18))&&(dn.preventDefault(),Rt._goToRow(Rt._getNextRow(),"next")),(dn.equals(16)||dn.equals(2048|16)||dn.equals(512|16))&&(dn.preventDefault(),Rt._goToRow(Rt._getPrevRow(),"previous")),(dn.equals(9)||dn.equals(2048|9)||dn.equals(512|9)||dn.equals(1024|9)||dn.equals(10)||dn.equals(3))&&(dn.preventDefault(),Rt.accept())})),Rt._register(Rt._configurationService.onDidChangeConfiguration(function(dn){dn.affectsConfiguration("accessibility.verbosity.diffEditor")&&Rt._diffEditor.updateOptions({accessibilityVerbose:Rt._configurationService.getValue("accessibility.verbosity.diffEditor")})})),Rt._diffs=[],Rt._currentDiff=null,Rt}return Object(y.a)(Fn,[{key:"prev",value:function(){var Nt=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var Gt=-1,Et=0,Rt=this._diffs.length;Et<Rt;Et++)if(this._diffs[Et]===this._currentDiff){Gt=Et;break}Nt=this._diffs.length+Gt-1}else Nt=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length!==0){Nt=Nt%this._diffs.length;var dn=this._diffs[Nt].entries;this._diffEditor.setPosition(new B.a(dn[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:dn[0].modifiedLineStart,endColumn:1073741824,endLineNumber:dn[dn.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getPrevRow(),"previous")}}},{key:"next",value:function(){var Nt=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var Gt=-1,Et=0,Rt=this._diffs.length;Et<Rt;Et++)if(this._diffs[Et]===this._currentDiff){Gt=Et;break}Nt=Gt+1}else Nt=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length!==0){Nt=Nt%this._diffs.length;var dn=this._diffs[Nt].entries;this._diffEditor.setPosition(new B.a(dn[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:dn[0].modifiedLineStart,endColumn:1073741824,endLineNumber:dn[dn.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow(),"next")}}},{key:"accept",value:function(){var Nt=-1,Gt=this._getCurrentFocusedRow();if(Gt){var Et=parseInt(Gt.getAttribute("data-line"),10);isNaN(Et)||(Nt=Et)}this.hide(),Nt!==-1&&(this._diffEditor.setPosition(new B.a(Nt,1)),this._diffEditor.revealPosition(new B.a(Nt,1),1))}},{key:"hide",value:function(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}},{key:"_getPrevRow",value:function(){var Nt=this._getCurrentFocusedRow();return Nt?Nt.previousElementSibling?Nt.previousElementSibling:Nt:this._getFirstRow()}},{key:"_getNextRow",value:function(){var Nt=this._getCurrentFocusedRow();return Nt?Nt.nextElementSibling?Nt.nextElementSibling:Nt:this._getFirstRow()}},{key:"_getFirstRow",value:function(){return this.domNode.domNode.querySelector(".diff-review-row")}},{key:"_getCurrentFocusedRow",value:function(){var Nt=document.activeElement;return Nt&&/diff-review-row/.test(Nt.className)?Nt:null}},{key:"_goToRow",value:function(Nt,Gt){var Et=this._getCurrentFocusedRow();Nt.tabIndex=0,Nt.focus(),Et&&Et!==Nt&&(Et.tabIndex=-1);var Rt=Gt?Gt==="next"?Et==null?void 0:Et.nextElementSibling:Et==null?void 0:Et.previousElementSibling:Et;(Rt==null?void 0:Rt.classList.contains("line-insert"))?this._audioCueService.playAudioCue(Re.a.diffLineInserted,!0):(Rt==null?void 0:Rt.classList.contains("line-delete"))&&this._audioCueService.playAudioCue(Re.a.diffLineDeleted,!0),this.scrollbar.scanDomNode()}},{key:"isVisible",value:function(){return this._isVisible}},{key:"layout",value:function(Nt,Gt,Et){this._width=Gt,this.shadow.setTop(Nt-6),this.shadow.setWidth(Gt),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(Nt),this.domNode.setWidth(Gt),this.domNode.setHeight(Et),this._content.setHeight(Et),this._content.setWidth(Gt),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}},{key:"_compute",value:function(){var Nt=this._diffEditor.getLineChanges();if(!Nt||Nt.length===0)return[];var Gt=this._diffEditor.getOriginalEditor().getModel(),Et=this._diffEditor.getModifiedEditor().getModel();return!Gt||!Et?[]:Fn._mergeAdjacent(Nt,Gt.getLineCount(),Et.getLineCount())}},{key:"_findDiffIndex",value:function(Nt){for(var Gt=Nt.lineNumber,Et=0,Rt=this._diffs.length;Et<Rt;Et++){var dn=this._diffs[Et].entries,et=dn[dn.length-1].modifiedLineEnd;if(Gt<=et)return Et}return 0}},{key:"_render",value:function(){var Nt=this._diffEditor.getOriginalEditor().getOptions(),Gt=this._diffEditor.getModifiedEditor().getOptions(),Et=this._diffEditor.getOriginalEditor().getModel(),Rt=this._diffEditor.getModifiedEditor().getModel(),dn=Et.getOptions(),et=Rt.getOptions();if(!this._isVisible||!Et||!Rt){Q.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});var Ze=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Ze]!==this._currentDiff){this._currentDiff=this._diffs[Ze];var on=this._diffs[Ze].entries,tn=document.createElement("div");tn.className="diff-review-table",tn.setAttribute("role","list"),tn.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),Object(S.a)(tn,Gt.get(48));for(var Dt=0,pn=0,ti=0,kn=0,Vt=0,Oi=on.length;Vt<Oi;Vt++){var Yi=on[Vt],Hi=Yi.originalLineStart,qi=Yi.originalLineEnd,Qr=Yi.modifiedLineStart,Mr=Yi.modifiedLineEnd;Hi!==0&&(Dt===0||Hi<Dt)&&(Dt=Hi),qi!==0&&(pn===0||qi>pn)&&(pn=qi),Qr!==0&&(ti===0||Qr<ti)&&(ti=Qr),Mr!==0&&(kn===0||Mr>kn)&&(kn=Mr)}var na=document.createElement("div");na.className="diff-review-row";var Br=document.createElement("div");Br.className="diff-review-cell diff-review-summary";var ha=pn-Dt+1,vn=kn-ti+1;Br.appendChild(document.createTextNode("".concat(Ze+1,"/").concat(this._diffs.length,": @@ -").concat(Dt,",").concat(ha," +").concat(ti,",").concat(vn," @@"))),na.setAttribute("data-line",String(ti));var Ln=function(oi){return oi===0?we.b("no_lines_changed","no lines changed"):oi===1?we.b("one_line_changed","1 line changed"):we.b("more_lines_changed","{0} lines changed",oi)},ut=Ln(ha),Tt=Ln(vn);na.setAttribute("aria-label",we.b({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",Ze+1,this._diffs.length,Dt,ut,ti,Tt)),na.appendChild(Br),na.setAttribute("role","listitem"),tn.appendChild(na);for(var Pt=Gt.get(64),Zt=ti,Ut=0,Nn=on.length;Ut<Nn;Ut++){var In=on[Ut];Fn._renderSection(tn,In,Zt,Pt,this._width,Nt,Et,dn,Gt,Rt,et,this._languageService.languageIdCodec),In.modifiedLineStart!==0&&(Zt=In.modifiedLineEnd)}Q.clearNode(this._content.domNode),this._content.domNode.appendChild(tn),this.scrollbar.scanDomNode()}}}],[{key:"_mergeAdjacent",value:function(Nt,Gt,Et){if(!Nt||Nt.length===0)return[];for(var Rt=[],dn=0,et=0,Ze=Nt.length;et<Ze;et++){var on=Nt[et],tn=on.originalStartLineNumber,Dt=on.originalEndLineNumber,pn=on.modifiedStartLineNumber,ti=on.modifiedEndLineNumber,kn=[],Vt=0;{var Oi=Dt===0?tn:tn-1,Yi=ti===0?pn:pn-1,Hi=1,qi=1;if(et>0){var Qr=Nt[et-1];Qr.originalEndLineNumber===0?Hi=Qr.originalStartLineNumber+1:Hi=Qr.originalEndLineNumber+1,Qr.modifiedEndLineNumber===0?qi=Qr.modifiedStartLineNumber+1:qi=Qr.modifiedEndLineNumber+1}var Mr=Oi-Ct+1,na=Yi-Ct+1;if(Mr<Hi){var Br=Hi-Mr;Mr=Mr+Br,na=na+Br}if(na<qi){var ha=qi-na;Mr=Mr+ha,na=na+ha}kn[Vt++]=new bt(Mr,Oi,na,Yi)}Dt!==0&&(kn[Vt++]=new bt(tn,Dt,0,0)),ti!==0&&(kn[Vt++]=new bt(0,0,pn,ti));{var vn=Dt===0?tn+1:Dt+1,Ln=ti===0?pn+1:ti+1,ut=Gt,Tt=Et;if(et+1<Ze){var Pt=Nt[et+1];Pt.originalEndLineNumber===0?ut=Pt.originalStartLineNumber:ut=Pt.originalStartLineNumber-1,Pt.modifiedEndLineNumber===0?Tt=Pt.modifiedStartLineNumber:Tt=Pt.modifiedStartLineNumber-1}var Zt=vn+Ct-1,Ut=Ln+Ct-1;if(Zt>ut){var Nn=ut-Zt;Zt=Zt+Nn,Ut=Ut+Nn}if(Ut>Tt){var In=Tt-Ut;Zt=Zt+In,Ut=Ut+In}kn[Vt++]=new bt(vn,Zt,Ln,Ut)}Rt[dn++]=new mt(kn)}for(var Wn=Rt[0].entries,oi=[],bi=0,_n=1,li=Rt.length;_n<li;_n++){var ki=Rt[_n].entries,Ki=Wn[Wn.length-1],Tr=ki[0];if(Ki.getType()===0&&Tr.getType()===0&&Tr.originalLineStart<=Ki.originalLineEnd){Wn[Wn.length-1]=new bt(Ki.originalLineStart,Tr.originalLineEnd,Ki.modifiedLineStart,Tr.modifiedLineEnd),Wn=Wn.concat(ki.slice(1));continue}oi[bi++]=new mt(Wn),Wn=ki}return oi[bi++]=new mt(Wn),oi}},{key:"_renderSection",value:function(Nt,Gt,Et,Rt,dn,et,Ze,on,tn,Dt,pn,ti){var kn=Gt.getType(),Vt="diff-review-row",Oi="",Yi="diff-review-spacer",Hi=null;switch(kn){case 1:Vt="diff-review-row line-insert",Oi=" char-insert",Hi=jt;break;case 2:Vt="diff-review-row line-delete",Oi=" char-delete",Hi=Je;break}for(var qi=Gt.originalLineStart,Qr=Gt.originalLineEnd,Mr=Gt.modifiedLineStart,na=Gt.modifiedLineEnd,Br=Math.max(na-Mr,Qr-qi),ha=et.get(140),vn=ha.glyphMarginWidth+ha.lineNumbersWidth,Ln=tn.get(140),ut=10+Ln.glyphMarginWidth+Ln.lineNumbersWidth,Tt=0;Tt<=Br;Tt++){var Pt=qi===0?0:qi+Tt,Zt=Mr===0?0:Mr+Tt,Ut=document.createElement("div");Ut.style.minWidth=dn+"px",Ut.className=Vt,Ut.setAttribute("role","listitem"),Zt!==0&&(Et=Zt),Ut.setAttribute("data-line",String(Et));var Nn=document.createElement("div");Nn.className="diff-review-cell",Nn.style.height="".concat(Rt,"px"),Ut.appendChild(Nn);var In=document.createElement("span");In.style.width=vn+"px",In.style.minWidth=vn+"px",In.className="diff-review-line-number"+Oi,Pt!==0?In.appendChild(document.createTextNode(String(Pt))):In.innerText="\xA0",Nn.appendChild(In);var Wn=document.createElement("span");Wn.style.width=ut+"px",Wn.style.minWidth=ut+"px",Wn.style.paddingRight="10px",Wn.className="diff-review-line-number"+Oi,Zt!==0?Wn.appendChild(document.createTextNode(String(Zt))):Wn.innerText="\xA0",Nn.appendChild(Wn);var oi=document.createElement("span");if(oi.className=Yi,Hi){var bi=document.createElement("span");bi.className=C.a.asClassName(Hi),bi.innerText="\xA0\xA0",oi.appendChild(bi)}else oi.innerText="\xA0\xA0";Nn.appendChild(oi);var _n=void 0;if(Zt!==0){var li=this._renderLine(Dt,tn,pn.tabSize,Zt,ti);Fn._ttPolicy&&(li=Fn._ttPolicy.createHTML(li)),Nn.insertAdjacentHTML("beforeend",li),_n=Dt.getLineContent(Zt)}else{var ki=this._renderLine(Ze,et,on.tabSize,Pt,ti);Fn._ttPolicy&&(ki=Fn._ttPolicy.createHTML(ki)),Nn.insertAdjacentHTML("beforeend",ki),_n=Ze.getLineContent(Pt)}_n.length===0&&(_n=we.b("blankLine","blank"));var Ki="";switch(kn){case 0:Pt===Zt?Ki=we.b({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",_n,Pt):Ki=we.b("equalLine","{0} original line {1} modified line {2}",_n,Pt,Zt);break;case 1:Ki=we.b("insertLine","+ {0} modified line {1}",_n,Zt);break;case 2:Ki=we.b("deleteLine","- {0} original line {1}",_n,Pt);break}Ut.setAttribute("aria-label",Ki),Nt.appendChild(Ut)}}},{key:"_renderLine",value:function(Nt,Gt,Et,Rt,dn){var et=Nt.getLineContent(Rt),Ze=Gt.get(48),on=pe.a.createEmpty(et,dn),tn=I.f.isBasicASCII(et,Nt.mightContainNonBasicASCII()),Dt=I.f.containsRTL(et,tn,Nt.mightContainRTL()),pn=Object(me.e)(new me.c(Ze.isMonospace&&!Gt.get(31),Ze.canUseHalfwidthRightwardsArrow,et,!1,tn,Dt,0,on,[],Et,0,Ze.spaceWidth,Ze.middotWidth,Ze.wsmiddotWidth,Gt.get(113),Gt.get(95),Gt.get(90),Gt.get(49)!==w.e.OFF,null));return pn.html}}]),Fn}(j.a);Te._ttPolicy=Object(ne.a)("diffReview",{createHTML:function(Li){return Li}}),Te=Ke([Xe(1,Y.a),Xe(2,Re.b),Xe(3,Oe.a)],Te);var fe=function(ii){Object(ve.a)(Fn,ii);var Li=Object(re.a)(Fn);function Fn(){return Object($.a)(this,Fn),Li.call(this,{id:"editor.action.diffReview.next",label:we.b("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Pe.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}return Object(y.a)(Fn,[{key:"run",value:function(Nt,Gt){var Et=Ee(Nt);Et==null||Et.diffReviewNext()}}]),Fn}(z.b),ye=function(ii){Object(ve.a)(Fn,ii);var Li=Object(re.a)(Fn);function Fn(){return Object($.a)(this,Fn),Li.call(this,{id:"editor.action.diffReview.prev",label:we.b("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Pe.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}return Object(y.a)(Fn,[{key:"run",value:function(Nt,Gt){var Et=Ee(Nt);Et==null||Et.diffReviewPrev()}}]),Fn}(z.b);function Ee(ii){var Li,Fn=ii.get(A.a),jn=Fn.listDiffEditors(),Nt=(Li=Fn.getFocusedCodeEditor())!==null&&Li!==void 0?Li:Fn.getActiveCodeEditor();if(!Nt)return null;for(var Gt=0,Et=jn.length;Gt<Et;Gt++){var Rt=jn[Gt];if(Rt.getModifiedEditor().getId()===Nt.getId()||Rt.getOriginalEditor().getId()===Nt.getId())return Rt}return null}Object(z.k)(fe),Object(z.k)(ye);var Ge=a("aokT"),$e=a("MNsG"),We=function(ii,Li,Fn,jn){function Nt(Gt){return Gt instanceof Fn?Gt:new Fn(function(Et){Et(Gt)})}return new(Fn||(Fn=Promise))(function(Gt,Et){function Rt(Ze){try{et(jn.next(Ze))}catch(on){Et(on)}}function dn(Ze){try{et(jn.throw(Ze))}catch(on){Et(on)}}function et(Ze){Ze.done?Gt(Ze.value):Nt(Ze.value).then(Rt,dn)}et((jn=jn.apply(ii,Li||[])).next())})},it=function(ii){Object(ve.a)(Fn,ii);var Li=Object(re.a)(Fn);function Fn(jn,Nt,Gt,Et,Rt,dn){var et;Object($.a)(this,Fn),et=Li.call(this),et._viewZoneId=jn,et._marginDomNode=Nt,et.editor=Gt,et.diff=Et,et._contextMenuService=Rt,et._clipboardService=dn,et._visibility=!1,et._marginDomNode.style.zIndex="10",et._diffActions=document.createElement("div"),et._diffActions.className=C.a.asClassName(V.a.lightBulb)+" lightbulb-glyph",et._diffActions.style.position="absolute";var Ze=Gt.getOption(64),on=Gt.getModel().getEOL();et._diffActions.style.right="0px",et._diffActions.style.visibility="hidden",et._diffActions.style.height="".concat(Ze,"px"),et._diffActions.style.lineHeight="".concat(Ze,"px"),et._marginDomNode.appendChild(et._diffActions);var tn=[],Dt=Et.modifiedEndLineNumber===0;tn.push(new ce.a("diff.clipboard.copyDeletedContent",Dt?Et.originalEndLineNumber>Et.modifiedStartLineNumber?we.b("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):we.b("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Et.originalEndLineNumber>Et.modifiedStartLineNumber?we.b("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):we.b("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,function(){return We(Object(le.a)(et),void 0,void 0,Object(ke.a)().mark(function Yi(){var Hi,qi;return Object(ke.a)().wrap(function(Mr){for(;;)switch(Mr.prev=Mr.next){case 0:return Hi=new Ge.a(Et.originalStartLineNumber,1,Et.originalEndLineNumber+1,1),qi=Et.originalModel.getValueInRange(Hi),Mr.next=4,this._clipboardService.writeText(qi);case 4:case"end":return Mr.stop()}},Yi,this)}))}));var pn=0,ti=void 0;Et.originalEndLineNumber>Et.modifiedStartLineNumber&&(ti=new ce.a("diff.clipboard.copyDeletedLineContent",Dt?we.b("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Et.originalStartLineNumber):we.b("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Et.originalStartLineNumber),void 0,!0,function(){return We(Object(le.a)(et),void 0,void 0,Object(ke.a)().mark(function Yi(){var Hi,qi;return Object(ke.a)().wrap(function(Mr){for(;;)switch(Mr.prev=Mr.next){case 0:if(Hi=Et.originalModel.getLineContent(Et.originalStartLineNumber+pn),Hi!==""){Mr.next=7;break}return qi=Et.originalModel.getEndOfLineSequence(),Mr.next=5,this._clipboardService.writeText(qi===0?`
`:`\r
`);case 5:Mr.next=9;break;case 7:return Mr.next=9,this._clipboardService.writeText(Hi);case 9:case"end":return Mr.stop()}},Yi,this)}))}),tn.push(ti));var kn=Gt.getOption(88);kn||tn.push(new ce.a("diff.inline.revertChange",we.b("diff.inline.revertChange.label","Revert this change"),void 0,!0,function(){return We(Object(le.a)(et),void 0,void 0,Object(ke.a)().mark(function Yi(){var Hi,qi,Qr,Mr;return Object(ke.a)().wrap(function(Br){for(;;)switch(Br.prev=Br.next){case 0:Hi=new Ge.a(Et.originalStartLineNumber,1,Et.originalEndLineNumber,Et.originalModel.getLineMaxColumn(Et.originalEndLineNumber)),qi=Et.originalModel.getValueInRange(Hi),Et.modifiedEndLineNumber===0?(Qr=Gt.getModel().getLineMaxColumn(Et.modifiedStartLineNumber),Gt.executeEdits("diffEditor",[{range:new Ge.a(Et.modifiedStartLineNumber,Qr,Et.modifiedStartLineNumber,Qr),text:on+qi}])):(Mr=Gt.getModel().getLineMaxColumn(Et.modifiedEndLineNumber),Gt.executeEdits("diffEditor",[{range:new Ge.a(Et.modifiedStartLineNumber,1,Et.modifiedEndLineNumber,Mr),text:qi}]));case 3:case"end":return Br.stop()}},Yi)}))}));var Vt=Gt.getOption(123)&&!$e.f,Oi=function(Hi,qi){var Qr;et._contextMenuService.showContextMenu({domForShadowRoot:Vt&&(Qr=Gt.getDomNode())!==null&&Qr!==void 0?Qr:void 0,getAnchor:function(){return{x:Hi,y:qi}},getActions:function(){return ti&&(ti.label=Dt?we.b("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Et.originalStartLineNumber+pn):we.b("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Et.originalStartLineNumber+pn)),tn},autoSelectFirstItem:!0})};return et._register(Q.addStandardDisposableListener(et._diffActions,"mousedown",function(Yi){var Hi=Q.getDomNodePagePosition(et._diffActions),qi=Hi.top,Qr=Hi.height,Mr=Math.floor(Ze/3);Yi.preventDefault(),Oi(Yi.posx,qi+Qr+Mr)})),et._register(Gt.onMouseMove(function(Yi){if(Yi.target.type===8||Yi.target.type===5){var Hi=Yi.target.detail.viewZoneId;Hi===et._viewZoneId?(et.visibility=!0,pn=et._updateLightBulbPosition(et._marginDomNode,Yi.event.browserEvent.y,Ze)):et.visibility=!1}else et.visibility=!1})),et._register(Gt.onMouseDown(function(Yi){if(!!Yi.event.rightButton&&(Yi.target.type===8||Yi.target.type===5)){var Hi=Yi.target.detail.viewZoneId;Hi===et._viewZoneId&&(Yi.event.preventDefault(),pn=et._updateLightBulbPosition(et._marginDomNode,Yi.event.browserEvent.y,Ze),Oi(Yi.event.posx,Yi.event.posy+Ze))}})),et}return Object(y.a)(Fn,[{key:"visibility",get:function(){return this._visibility},set:function(Nt){this._visibility!==Nt&&(this._visibility=Nt,Nt?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}},{key:"_updateLightBulbPosition",value:function(Nt,Gt,Et){var Rt=Q.getDomNodePagePosition(Nt),dn=Rt.top,et=Gt-dn,Ze=Math.floor(et/Et),on=Ze*Et;if(this._diffActions.style.top="".concat(on,"px"),this.diff.viewLineCounts){for(var tn=0,Dt=0;Dt<this.diff.viewLineCounts.length;Dt++)if(tn+=this.diff.viewLineCounts[Dt],Ze<tn)return Dt}return Ze}}]),Fn}(j.a),Fe=a("5Y4S"),He=a("VHWv"),Ye=a("jwCD"),ot=a("Cdua"),Kt=a("XXUj"),gt=function(ii,Li,Fn,jn){var Nt=arguments.length,Gt=Nt<3?Li:jn===null?jn=Object.getOwnPropertyDescriptor(Li,Fn):jn,Et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Gt=Reflect.decorate(ii,Li,Fn,jn);else for(var Rt=ii.length-1;Rt>=0;Rt--)(Et=ii[Rt])&&(Gt=(Nt<3?Et(Gt):Nt>3?Et(Li,Fn,Gt):Et(Li,Fn))||Gt);return Nt>3&&Gt&&Object.defineProperty(Li,Fn,Gt),Gt},Ft=function(ii,Li){return function(Fn,jn){Li(Fn,jn,ii)}},Jt=function(ii,Li,Fn,jn){function Nt(Gt){return Gt instanceof Fn?Gt:new Fn(function(Et){Et(Gt)})}return new(Fn||(Fn=Promise))(function(Gt,Et){function Rt(Ze){try{et(jn.next(Ze))}catch(on){Et(on)}}function dn(Ze){try{et(jn.throw(Ze))}catch(on){Et(on)}}function et(Ze){Ze.done?Gt(Ze.value):Nt(Ze.value).then(Rt,dn)}et((jn=jn.apply(ii,Li||[])).next())})},qt=function(){function ii(Li,Fn,jn){Object($.a)(this,ii),this.editorWorkerService=Fn,this.telemetryService=jn,this.onDidChangeEventEmitter=new U.b,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(Li)}return Object(y.a)(ii,[{key:"dispose",value:function(){var Fn;(Fn=this.diffAlgorithmOnDidChangeSubscription)===null||Fn===void 0||Fn.dispose()}},{key:"computeDiff",value:function(Fn,jn,Nt){var Gt;return Jt(this,void 0,void 0,Object(ke.a)().mark(function Et(){var Rt,dn,et;return Object(ke.a)().wrap(function(on){for(;;)switch(on.prev=on.next){case 0:if(typeof this.diffAlgorithm=="string"){on.next=2;break}return on.abrupt("return",this.diffAlgorithm.computeDiff(Fn,jn,Nt));case 2:if(!(Fn.getLineCount()===1&&Fn.getLineMaxColumn(1)===1)){on.next=4;break}return on.abrupt("return",{changes:[new Ye.a(new He.a(1,1),new He.a(1,jn.getLineCount()),[new Ye.c(Fn.getFullModelRange(),jn.getFullModelRange())])],identical:!1,quitEarly:!1});case 4:return Rt=Fe.a.create(!0),on.next=7,this.editorWorkerService.computeDiff(Fn.uri,jn.uri,Nt,this.diffAlgorithm);case 7:if(dn=on.sent,et=Rt.elapsed(),this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:et,timedOut:(Gt=dn==null?void 0:dn.quitEarly)!==null&&Gt!==void 0?Gt:!0}),dn){on.next=12;break}throw new Error("no diff result available");case 12:return on.abrupt("return",dn);case 13:case"end":return on.stop()}},Et,this)}))}},{key:"setOptions",value:function(Fn){var jn=this,Nt,Gt=!1;Fn.diffAlgorithm&&this.diffAlgorithm!==Fn.diffAlgorithm&&((Nt=this.diffAlgorithmOnDidChangeSubscription)===null||Nt===void 0||Nt.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=Fn.diffAlgorithm,typeof Fn.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=Fn.diffAlgorithm.onDidChange(function(){return jn.onDidChangeEventEmitter.fire()})),Gt=!0),Gt&&this.onDidChangeEventEmitter.fire()}}]),ii}();qt=gt([Ft(1,ot.a),Ft(2,Kt.a)],qt);var En=a("erNZ"),It=a("iuje"),si=a("wQH0"),On=a("tX9W"),Gn=a("dBaI"),ci=a("1rVb"),Dn=a("9XeP"),An=a("Uzvx"),fr=a("Cg/j"),Vi=a("8HsV"),Sr=a("sM1p"),Pi=a("tTk5"),Ei=a("MD5Z"),Cr=a("t9D7"),zn=function(ii,Li,Fn,jn){var Nt=arguments.length,Gt=Nt<3?Li:jn===null?jn=Object.getOwnPropertyDescriptor(Li,Fn):jn,Et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Gt=Reflect.decorate(ii,Li,Fn,jn);else for(var Rt=ii.length-1;Rt>=0;Rt--)(Et=ii[Rt])&&(Gt=(Nt<3?Et(Gt):Nt>3?Et(Li,Fn,Gt):Et(Li,Fn))||Gt);return Nt>3&&Gt&&Object.defineProperty(Li,Fn,Gt),Gt},dr=function(ii,Li){return function(Fn,jn){Li(Fn,jn,ii)}},Hn=function(){function ii(Li,Fn){Object($.a)(this,ii),this._contextMenuService=Li,this._clipboardService=Fn,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}return Object(y.a)(ii,[{key:"getForeignViewZones",value:function(Fn){var jn=this;return Fn.filter(function(Nt){return!jn._zonesMap[String(Nt.id)]})}},{key:"clean",value:function(Fn){var jn=this;this._zones.length>0&&Fn.changeViewZones(function(Nt){var Gt=Object(J.a)(jn._zones),Et;try{for(Gt.s();!(Et=Gt.n()).done;){var Rt=Et.value;Nt.removeZone(Rt)}}catch(dn){Gt.e(dn)}finally{Gt.f()}}),this._zones=[],this._zonesMap={},Fn.changeDecorations(function(Nt){jn._decorations=Nt.deltaDecorations(jn._decorations,[])})}},{key:"apply",value:function(Fn,jn,Nt,Gt){var Et=this,Rt=Gt?ue.a.capture(Fn):null;Fn.changeViewZones(function(dn){var et,Ze=Object(J.a)(Et._zones),on;try{for(Ze.s();!(on=Ze.n()).done;){var tn=on.value;dn.removeZone(tn)}}catch(Hi){Ze.e(Hi)}finally{Ze.f()}var Dt=Object(J.a)(Et._inlineDiffMargins),pn;try{for(Dt.s();!(pn=Dt.n()).done;){var ti=pn.value;ti.dispose()}}catch(Hi){Dt.e(Hi)}finally{Dt.f()}Et._zones=[],Et._zonesMap={},Et._inlineDiffMargins=[];for(var kn=0,Vt=Nt.zones.length;kn<Vt;kn++){var Oi=Nt.zones[kn];Oi.suppressMouseDown=!0;var Yi=dn.addZone(Oi);Et._zones.push(Yi),Et._zonesMap[String(Yi)]=!0,Nt.zones[kn].diff&&Oi.marginDomNode&&(Oi.suppressMouseDown=!1,((et=Nt.zones[kn].diff)===null||et===void 0?void 0:et.originalModel.getValueLength())!==0&&Et._inlineDiffMargins.push(new it(Yi,Oi.marginDomNode,Fn,Nt.zones[kn].diff,Et._contextMenuService,Et._clipboardService)))}}),Rt==null||Rt.restore(Fn),Fn.changeDecorations(function(dn){Et._decorations=dn.deltaDecorations(Et._decorations,Nt.decorations)}),jn==null||jn.setZones(Nt.overviewZones)}}]),ii}(),mi=0,hn=Object(Ne.b)("diff-insert",V.a.add,we.b("diffInsertIcon","Line decoration for inserts in the diff editor.")),Xn=Object(Ne.b)("diff-remove",V.a.remove,we.b("diffRemoveIcon","Line decoration for removals in the diff editor.")),en=Object(ne.a)("diffEditorWidget",{createHTML:function(Li){return Li}}),yt=we.b("diff-aria-navigation-tip"," use Shift + F7 to navigate changes"),wn=function(ii){Object(ve.a)(Fn,ii);var Li=Object(re.a)(Fn);function Fn(jn,Nt,Gt,Et,Rt,dn,et,Ze,on,tn,Dt){var pn;Object($.a)(this,Fn),pn=Li.call(this),pn._editorProgressService=Dt,pn._onDidDispose=pn._register(new U.b),pn.onDidDispose=pn._onDidDispose.event,pn._onDidChangeModel=pn._register(new U.b),pn.onDidChangeModel=pn._onDidChangeModel.event,pn._onDidUpdateDiff=pn._register(new U.b),pn.onDidUpdateDiff=pn._onDidUpdateDiff.event,pn._onDidContentSizeChange=pn._register(new U.b),pn._lastOriginalWarning=null,pn._lastModifiedWarning=null,et.willCreateDiffEditor(),pn._documentDiffProvider=pn._register(dn.createInstance(qt,Nt)),pn._register(pn._documentDiffProvider.onDidChange(function(Yi){return pn._beginUpdateDecorationsSoon()})),pn._codeEditorService=et,pn._contextKeyService=pn._register(Rt.createScoped(jn)),pn._instantiationService=dn.createChild(new Vi.a([Pe.b,pn._contextKeyService])),pn._contextKeyService.createKey("isInDiffEditor",!0),pn._themeService=Ze,pn._notificationService=on,pn._id=++mi,pn._state=0,pn._updatingDiffProgress=null,pn._domElement=jn,Nt=Nt||{},pn._options=Qe(Nt,{enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{collapseUnchangedRegions:!1}}),pn.isEmbeddedDiffEditorKey=si.a.isEmbeddedDiffEditor.bindTo(pn._contextKeyService),pn.isEmbeddedDiffEditorKey.set(typeof Nt.isInEmbeddedEditor!="undefined"?Nt.isInEmbeddedEditor:!1),pn._updateDecorationsRunner=pn._register(new F.g(function(){return pn._updateDecorations()},0)),pn._containerDomElement=document.createElement("div"),pn._containerDomElement.className=Fn._getClassName(pn._themeService.getColorTheme(),pn._options.renderSideBySide),pn._containerDomElement.style.position="relative",pn._containerDomElement.style.height="100%",pn._domElement.appendChild(pn._containerDomElement),pn._overviewViewportDomElement=Object(L.b)(document.createElement("div")),pn._overviewViewportDomElement.setClassName("diffViewport"),pn._overviewViewportDomElement.setPosition("absolute"),pn._overviewDomElement=document.createElement("div"),pn._overviewDomElement.className="diffOverview",pn._overviewDomElement.style.position="absolute",pn._overviewDomElement.appendChild(pn._overviewViewportDomElement.domNode),pn._register(Q.addStandardDisposableListener(pn._overviewDomElement,Q.EventType.POINTER_DOWN,function(Yi){pn._modifiedEditor.delegateVerticalScrollbarPointerDown(Yi)})),pn._register(Q.addDisposableListener(pn._overviewDomElement,Q.EventType.MOUSE_WHEEL,function(Yi){pn._modifiedEditor.delegateScrollFromMouseWheelEvent(Yi)},{passive:!1})),pn._options.renderOverviewRuler&&pn._containerDomElement.appendChild(pn._overviewDomElement),pn._originalDomNode=document.createElement("div"),pn._originalDomNode.className="editor original",pn._originalDomNode.style.position="absolute",pn._originalDomNode.style.height="100%",pn._containerDomElement.appendChild(pn._originalDomNode),pn._modifiedDomNode=document.createElement("div"),pn._modifiedDomNode.className="editor modified",pn._modifiedDomNode.style.position="absolute",pn._modifiedDomNode.style.height="100%",pn._containerDomElement.appendChild(pn._modifiedDomNode),pn._beginUpdateDecorationsTimeout=-1,pn._currentlyChangingViewZones=!1,pn._diffComputationToken=0,pn._originalEditorState=new Hn(tn,Et),pn._modifiedEditorState=new Hn(tn,Et),pn._isVisible=!0,pn._isHandlingScrollEvent=!1,pn._elementSizeObserver=pn._register(new T.a(pn._containerDomElement,Nt.dimension)),pn._register(pn._elementSizeObserver.onDidChange(function(){return pn._onDidContainerSizeChanged()})),Nt.automaticLayout&&pn._elementSizeObserver.startObserving(),pn._diffComputationResult=null,pn._originalEditor=pn._createLeftHandSideEditor(Nt,Gt.originalEditor||{}),pn._modifiedEditor=pn._createRightHandSideEditor(Nt,Gt.modifiedEditor||{}),pn._originalOverviewRuler=null,pn._modifiedOverviewRuler=null,pn._reviewPane=dn.createInstance(Te,Object(le.a)(pn)),pn._containerDomElement.appendChild(pn._reviewPane.domNode.domNode),pn._containerDomElement.appendChild(pn._reviewPane.shadow.domNode),pn._containerDomElement.appendChild(pn._reviewPane.actionBarContainer.domNode),pn._options.renderSideBySide?pn._setStrategy(new yr(pn._createDataSource(),pn._options.enableSplitViewResizing,pn._options.splitViewDefaultRatio)):pn._setStrategy(new Bn(pn._createDataSource(),pn._options.enableSplitViewResizing)),pn._register(Ze.onDidColorThemeChange(function(Yi){pn._strategy&&pn._strategy.applyColors(Yi)&&pn._updateDecorationsRunner.schedule(),pn._containerDomElement.className=Fn._getClassName(pn._themeService.getColorTheme(),pn._options.renderSideBySide)}));var ti=z.e.getDiffEditorContributions(),kn=Object(J.a)(ti),Vt;try{for(kn.s();!(Vt=kn.n()).done;){var Oi=Vt.value;try{pn._register(dn.createInstance(Oi.ctor,Object(le.a)(pn)))}catch(Yi){Object(N.h)(Yi)}}}catch(Yi){kn.e(Yi)}finally{kn.f()}return pn._codeEditorService.addDiffEditor(Object(le.a)(pn)),pn}return Object(y.a)(Fn,[{key:"_setState",value:function(Nt){this._state!==Nt&&(this._state=Nt,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}},{key:"diffReviewNext",value:function(){this._reviewPane.next()}},{key:"diffReviewPrev",value:function(){this._reviewPane.prev()}},{key:"_disposeOverviewRulers",value:function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}},{key:"_createOverviewRulers",value:function(){!this._options.renderOverviewRuler||(W.d(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}},{key:"_createLeftHandSideEditor",value:function(Nt,Gt){var Et=this,Rt=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Nt),Gt);this._register(Rt.onDidScrollChange(function(et){Et._isHandlingScrollEvent||!et.scrollTopChanged&&!et.scrollLeftChanged&&!et.scrollHeightChanged||(Et._isHandlingScrollEvent=!0,Et._modifiedEditor.setScrollPosition({scrollLeft:et.scrollLeft,scrollTop:et.scrollTop}),Et._isHandlingScrollEvent=!1,Et._layoutOverviewViewport())})),this._register(Rt.onDidChangeViewZones(function(){Et._onViewZonesChanged()})),this._register(Rt.onDidChangeConfiguration(function(et){!Rt.getModel()||(et.hasChanged(48)&&Et._updateDecorationsRunner.schedule(),et.hasChanged(141)&&(Et._updateDecorationsRunner.cancel(),Et._updateDecorations()))})),this._register(Rt.onDidChangeHiddenAreas(function(){Et._updateDecorationsRunner.cancel(),Et._updateDecorations()})),this._register(Rt.onDidChangeModelContent(function(){Et._isVisible&&Et._beginUpdateDecorationsSoon()}));var dn=this._contextKeyService.createKey("isInDiffLeftEditor",Rt.hasWidgetFocus());return this._register(Rt.onDidFocusEditorWidget(function(){return dn.set(!0)})),this._register(Rt.onDidBlurEditorWidget(function(){return dn.set(!1)})),this._register(Rt.onDidContentSizeChange(function(et){var Ze=Et._originalEditor.getContentWidth()+Et._modifiedEditor.getContentWidth()+Fn.ONE_OVERVIEW_WIDTH,on=Math.max(Et._modifiedEditor.getContentHeight(),Et._originalEditor.getContentHeight());Et._onDidContentSizeChange.fire({contentHeight:on,contentWidth:Ze,contentHeightChanged:et.contentHeightChanged,contentWidthChanged:et.contentWidthChanged})})),Rt}},{key:"_createRightHandSideEditor",value:function(Nt,Gt){var Et=this,Rt=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Nt),Gt);this._register(Rt.onDidScrollChange(function(et){Et._isHandlingScrollEvent||!et.scrollTopChanged&&!et.scrollLeftChanged&&!et.scrollHeightChanged||(Et._isHandlingScrollEvent=!0,Et._originalEditor.setScrollPosition({scrollLeft:et.scrollLeft,scrollTop:et.scrollTop}),Et._isHandlingScrollEvent=!1,Et._layoutOverviewViewport())})),this._register(Rt.onDidChangeViewZones(function(){Et._onViewZonesChanged()})),this._register(Rt.onDidChangeConfiguration(function(et){!Rt.getModel()||(et.hasChanged(48)&&Et._updateDecorationsRunner.schedule(),et.hasChanged(141)&&(Et._updateDecorationsRunner.cancel(),Et._updateDecorations()))})),this._register(Rt.onDidChangeHiddenAreas(function(){Et._updateDecorationsRunner.cancel(),Et._updateDecorations()})),this._register(Rt.onDidChangeModelContent(function(){Et._isVisible&&Et._beginUpdateDecorationsSoon()})),this._register(Rt.onDidChangeModelOptions(function(et){et.tabSize&&Et._updateDecorationsRunner.schedule()}));var dn=this._contextKeyService.createKey("isInDiffRightEditor",Rt.hasWidgetFocus());return this._register(Rt.onDidFocusEditorWidget(function(){return dn.set(!0)})),this._register(Rt.onDidBlurEditorWidget(function(){return dn.set(!1)})),this._register(Rt.onDidContentSizeChange(function(et){var Ze=Et._originalEditor.getContentWidth()+Et._modifiedEditor.getContentWidth()+Fn.ONE_OVERVIEW_WIDTH,on=Math.max(Et._modifiedEditor.getContentHeight(),Et._originalEditor.getContentHeight());Et._onDidContentSizeChange.fire({contentHeight:on,contentWidth:Ze,contentHeightChanged:et.contentHeightChanged,contentWidthChanged:et.contentWidthChanged})})),this._register(Rt.onMouseDown(function(et){var Ze,on;if(!et.event.rightButton&&et.target.position&&((Ze=et.target.element)===null||Ze===void 0?void 0:Ze.className.includes("arrow-revert-change"))){var tn=et.target.position.lineNumber,Dt=et.target,pn=(on=Et._diffComputationResult)===null||on===void 0?void 0:on.changes.find(function(ti){return(Dt==null?void 0:Dt.detail.afterLineNumber)===ti.modifiedStartLineNumber||ti.modifiedEndLineNumber>0&&ti.modifiedStartLineNumber===tn});pn&&Et.revertChange(pn),et.event.stopPropagation(),Et._updateDecorations();return}})),Rt}},{key:"revertChange",value:function(Nt){var Gt=this._modifiedEditor,Et=this._originalEditor.getModel(),Rt=this._modifiedEditor.getModel();if(!(!Et||!Rt||!Gt)){var dn=Nt.originalEndLineNumber>0?new Ge.a(Nt.originalStartLineNumber,1,Nt.originalEndLineNumber,Et.getLineMaxColumn(Nt.originalEndLineNumber)):null,et=dn?Et.getValueInRange(dn):null,Ze=Nt.modifiedEndLineNumber>0?new Ge.a(Nt.modifiedStartLineNumber,1,Nt.modifiedEndLineNumber,Rt.getLineMaxColumn(Nt.modifiedEndLineNumber)):null,on=Rt.getEOL();if(Nt.originalEndLineNumber===0&&Ze){var tn=Ze;Nt.modifiedStartLineNumber>1?tn=Ze.setStartPosition(Nt.modifiedStartLineNumber-1,Rt.getLineMaxColumn(Nt.modifiedStartLineNumber-1)):Nt.modifiedEndLineNumber<Rt.getLineCount()&&(tn=Ze.setEndPosition(Nt.modifiedEndLineNumber+1,1)),Gt.executeEdits("diffEditor",[{range:tn,text:""}])}else if(Nt.modifiedEndLineNumber===0&&et!==null){var Dt=Nt.modifiedStartLineNumber<Rt.getLineCount()?new B.a(Nt.modifiedStartLineNumber+1,1):new B.a(Nt.modifiedStartLineNumber,Rt.getLineMaxColumn(Nt.modifiedStartLineNumber));Gt.executeEdits("diffEditor",[{range:Ge.a.fromPositions(Dt,Dt),text:Nt.modifiedStartLineNumber<Rt.getLineCount()?et+on:on+et}])}else Ze&&et!==null&&Gt.executeEdits("diffEditor",[{range:Ze,text:et}])}}},{key:"_createInnerEditor",value:function(Nt,Gt,Et,Rt){return Nt.createInstance(be.a,Gt,Et,Rt)}},{key:"dispose",value:function(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),Object(De.a)(Object(E.a)(Fn.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return this.getEditorType()+":"+this._id}},{key:"getEditorType",value:function(){return It.a.IDiffEditor}},{key:"getLineChanges",value:function(){return this._diffComputationResult?this._diffComputationResult.changes:null}},{key:"getOriginalEditor",value:function(){return this._originalEditor}},{key:"getModifiedEditor",value:function(){return this._modifiedEditor}},{key:"updateOptions",value:function(Nt){var Gt=Qe(Nt,this._options),Et=Jn(this._options,Gt);this._options=Gt,this.isEmbeddedDiffEditorKey.set(typeof Nt.isInEmbeddedEditor!="undefined"?Nt.isInEmbeddedEditor:!1);var Rt=Et.ignoreTrimWhitespace||Et.renderIndicators||Et.renderMarginRevertIcon,dn=this._isVisible&&(Et.maxComputationTime||Et.maxFileSize);this._documentDiffProvider.setOptions(Gt),Rt?this._beginUpdateDecorations():dn&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Nt)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Nt)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio),Et.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new yr(this._createDataSource(),this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio)):this._setStrategy(new Bn(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Fn._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),Et.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}},{key:"getModel",value:function(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}},{key:"setModel",value:function(Nt){if(Nt&&(!Nt.original||!Nt.modified))throw new Error(Nt.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(Nt?Nt.original:null),this._modifiedEditor.setModel(Nt?Nt.modified:null),this._updateDecorationsRunner.cancel(),Nt&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Nt&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport(),this._onDidChangeModel.fire(),this._diffNavigator=this._register(this._instantiationService.createInstance(de.a,this,{alwaysRevealFirst:!1,findResultLoop:this.getModifiedEditor().getOption(39).loop}))}},{key:"getContainerDomNode",value:function(){return this._domElement}},{key:"getVisibleColumnFromPosition",value:function(Nt){return this._modifiedEditor.getVisibleColumnFromPosition(Nt)}},{key:"getPosition",value:function(){return this._modifiedEditor.getPosition()}},{key:"setPosition",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api";this._modifiedEditor.setPosition(Nt,Gt)}},{key:"revealLine",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealLine(Nt,Gt)}},{key:"revealLineInCenter",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealLineInCenter(Nt,Gt)}},{key:"revealLineInCenterIfOutsideViewport",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealLineInCenterIfOutsideViewport(Nt,Gt)}},{key:"revealLineNearTop",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealLineNearTop(Nt,Gt)}},{key:"revealPosition",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealPosition(Nt,Gt)}},{key:"revealPositionInCenter",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealPositionInCenter(Nt,Gt)}},{key:"revealPositionInCenterIfOutsideViewport",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Nt,Gt)}},{key:"revealPositionNearTop",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealPositionNearTop(Nt,Gt)}},{key:"getSelection",value:function(){return this._modifiedEditor.getSelection()}},{key:"getSelections",value:function(){return this._modifiedEditor.getSelections()}},{key:"setSelection",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api";this._modifiedEditor.setSelection(Nt,Gt)}},{key:"setSelections",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api";this._modifiedEditor.setSelections(Nt,Gt)}},{key:"revealLines",value:function(Nt,Gt){var Et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._modifiedEditor.revealLines(Nt,Gt,Et)}},{key:"revealLinesInCenter",value:function(Nt,Gt){var Et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._modifiedEditor.revealLinesInCenter(Nt,Gt,Et)}},{key:"revealLinesInCenterIfOutsideViewport",value:function(Nt,Gt){var Et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Nt,Gt,Et)}},{key:"revealLinesNearTop",value:function(Nt,Gt){var Et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._modifiedEditor.revealLinesNearTop(Nt,Gt,Et)}},{key:"revealRange",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;this._modifiedEditor.revealRange(Nt,Gt,Et,Rt)}},{key:"revealRangeInCenter",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealRangeInCenter(Nt,Gt)}},{key:"revealRangeInCenterIfOutsideViewport",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Nt,Gt)}},{key:"revealRangeNearTop",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealRangeNearTop(Nt,Gt)}},{key:"revealRangeNearTopIfOutsideViewport",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Nt,Gt)}},{key:"revealRangeAtTop",value:function(Nt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._modifiedEditor.revealRangeAtTop(Nt,Gt)}},{key:"getSupportedActions",value:function(){return this._modifiedEditor.getSupportedActions()}},{key:"focus",value:function(){this._modifiedEditor.focus()}},{key:"trigger",value:function(Nt,Gt,Et){this._modifiedEditor.trigger(Nt,Gt,Et)}},{key:"createDecorationsCollection",value:function(Nt){return this._modifiedEditor.createDecorationsCollection(Nt)}},{key:"changeDecorations",value:function(Nt){return this._modifiedEditor.changeDecorations(Nt)}},{key:"saveViewState",value:function(){var Nt=this._originalEditor.saveViewState(),Gt=this._modifiedEditor.saveViewState();return{original:Nt,modified:Gt}}},{key:"restoreViewState",value:function(Nt){if(Nt&&Nt.original&&Nt.modified){var Gt=Nt;this._originalEditor.restoreViewState(Gt.original),this._modifiedEditor.restoreViewState(Gt.modified)}}},{key:"layout",value:function(Nt){this._elementSizeObserver.observe(Nt)}},{key:"hasTextFocus",value:function(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}},{key:"_onDidContainerSizeChanged",value:function(){this._doLayout()}},{key:"_getReviewHeight",value:function(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}},{key:"_layoutOverviewRulers",value:function(){if(!!this._options.renderOverviewRuler&&!(!this._originalOverviewRuler||!this._modifiedOverviewRuler)){var Nt=this._elementSizeObserver.getHeight(),Gt=this._getReviewHeight(),Et=Fn.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Fn.ONE_OVERVIEW_WIDTH,Rt=this._modifiedEditor.getLayoutInfo();Rt&&(this._originalOverviewRuler.setLayout({top:0,width:Fn.ONE_OVERVIEW_WIDTH,right:Et+Fn.ONE_OVERVIEW_WIDTH,height:Nt-Gt}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Fn.ONE_OVERVIEW_WIDTH,height:Nt-Gt}))}}},{key:"_onViewZonesChanged",value:function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}},{key:"_beginUpdateDecorationsSoon",value:function(){var Nt=this;this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return Nt._beginUpdateDecorations()},Fn.UPDATE_DIFF_DECORATIONS_DELAY)}},{key:"_beginUpdateDecorations",value:function(){var Nt=this;this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1);var Gt=this._originalEditor.getModel(),Et=this._modifiedEditor.getModel();if(!(!Gt||!Et)){this._diffComputationToken++;var Rt=this._diffComputationToken,dn=this._options.maxFileSize*1024*1024,et=function(on){var tn=on.getValueLength();return dn===0||tn<=dn};if(!et(Gt)||!et(Et)){(!Fn._equals(Gt.uri,this._lastOriginalWarning)||!Fn._equals(Et.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Gt.uri,this._lastModifiedWarning=Et.uri,this._notificationService.warn(we.b("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._documentDiffProvider.computeDiff(Gt,Et,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace,maxComputationTimeMs:this._options.maxComputationTime}).then(function(Ze){Rt===Nt._diffComputationToken&&Gt===Nt._originalEditor.getModel()&&Et===Nt._modifiedEditor.getModel()&&(Nt._setState(2),Nt._diffComputationResult={identical:Ze.identical,quitEarly:Ze.quitEarly,changes2:Ze.changes,changes:Ze.changes.map(function(on){var tn,Dt,pn,ti,kn=on.innerChanges;return on.originalRange.isEmpty?(tn=on.originalRange.startLineNumber-1,Dt=0,kn=void 0):(tn=on.originalRange.startLineNumber,Dt=on.originalRange.endLineNumberExclusive-1),on.modifiedRange.isEmpty?(pn=on.modifiedRange.startLineNumber-1,ti=0,kn=void 0):(pn=on.modifiedRange.startLineNumber,ti=on.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:tn,originalEndLineNumber:Dt,modifiedStartLineNumber:pn,modifiedEndLineNumber:ti,charChanges:kn==null?void 0:kn.map(function(Vt){return{originalStartLineNumber:Vt.originalRange.startLineNumber,originalStartColumn:Vt.originalRange.startColumn,originalEndLineNumber:Vt.originalRange.endLineNumber,originalEndColumn:Vt.originalRange.endColumn,modifiedStartLineNumber:Vt.modifiedRange.startLineNumber,modifiedStartColumn:Vt.modifiedRange.startColumn,modifiedEndLineNumber:Vt.modifiedRange.endLineNumber,modifiedEndColumn:Vt.modifiedRange.endColumn}})}})},Nt._updateDecorationsRunner.schedule(),Nt._onDidUpdateDiff.fire())},function(Ze){Rt===Nt._diffComputationToken&&Gt===Nt._originalEditor.getModel()&&Et===Nt._modifiedEditor.getModel()&&(Nt._setState(2),Nt._diffComputationResult=null,Nt._updateDecorationsRunner.schedule())})}}},{key:"_cleanViewZonesAndDecorations",value:function(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}},{key:"_updateDecorations",value:function(){if(!(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())){var Nt=this._diffComputationResult?this._diffComputationResult.changes:[],Gt=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),Et=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Rt=this._options.renderMarginRevertIcon&&!this._modifiedEditor.getOption(88),dn=this._strategy.getEditorsDiffDecorations(Nt,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Rt,Gt,Et);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,dn.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,dn.modified,!0)}finally{this._currentlyChangingViewZones=!1}}}},{key:"_adjustOptionsForSubEditor",value:function(Nt){var Gt=Object.assign({},Nt);return Gt.inDiffEditor=!0,Gt.automaticLayout=!1,Gt.scrollbar=Object.assign({},Gt.scrollbar||{}),Gt.scrollbar.vertical="visible",Gt.folding=!1,Gt.codeLens=this._options.diffCodeLens,Gt.fixedOverflowWidgets=!0,Gt.minimap=Object.assign({},Gt.minimap||{}),Gt.minimap.enabled=!1,Gt}},{key:"_adjustOptionsForLeftHandSide",value:function(Nt){var Gt=this._adjustOptionsForSubEditor(Nt);return this._options.renderSideBySide?Gt.wordWrapOverride1=this._options.diffWordWrap:(Gt.wordWrapOverride1="off",Gt.wordWrapOverride2="off"),Nt.originalAriaLabel&&(Gt.ariaLabel=Nt.originalAriaLabel),this._updateAriaLabel(Gt),Gt.readOnly=!this._options.originalEditable,Gt.dropIntoEditor={enabled:!Gt.readOnly},Gt.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Gt),{dimension:{height:0,width:0}})}},{key:"_updateAriaLabel",value:function(Nt){var Gt,Et=(Gt=Nt.ariaLabel)!==null&&Gt!==void 0?Gt:"";this._options.accessibilityVerbose?Et+=yt:Et&&(Et=Et.replaceAll(yt,"")),Nt.ariaLabel=Et}},{key:"_adjustOptionsForRightHandSide",value:function(Nt){var Gt=this._adjustOptionsForSubEditor(Nt);return Nt.modifiedAriaLabel&&(Gt.ariaLabel=Nt.modifiedAriaLabel),this._updateAriaLabel(Gt),Gt.wordWrapOverride1=this._options.diffWordWrap,Gt.revealHorizontalRightPadding=w.h.revealHorizontalRightPadding.defaultValue+Fn.ENTIRE_DIFF_OVERVIEW_WIDTH,Gt.scrollbar.verticalHasArrows=!1,Gt.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Gt),{dimension:{height:0,width:0}})}},{key:"doLayout",value:function(){this._elementSizeObserver.observe(),this._doLayout()}},{key:"_doLayout",value:function(){var Nt=this._elementSizeObserver.getWidth(),Gt=this._elementSizeObserver.getHeight(),Et=this._getReviewHeight(),Rt=this._strategy.layout();this._originalDomNode.style.width=Rt+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Nt-Rt+"px",this._modifiedDomNode.style.left=Rt+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Gt-Et+"px",this._overviewDomElement.style.width=Fn.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Nt-Fn.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Fn.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Rt,height:Gt-Et}),this._modifiedEditor.layout({width:Nt-Rt-(this._options.renderOverviewRuler?Fn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Gt-Et}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Gt-Et,Nt,Et),this._layoutOverviewViewport()}},{key:"_layoutOverviewViewport",value:function(){var Nt=this._computeOverviewViewport();Nt?(this._overviewViewportDomElement.setTop(Nt.top),this._overviewViewportDomElement.setHeight(Nt.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}},{key:"_computeOverviewViewport",value:function(){var Nt=this._modifiedEditor.getLayoutInfo();if(!Nt)return null;var Gt=this._modifiedEditor.getScrollTop(),Et=this._modifiedEditor.getScrollHeight(),Rt=Math.max(0,Nt.height),dn=Math.max(0,Rt-2*0),et=Et>0?dn/Et:0,Ze=Math.max(0,Math.floor(Nt.height*et)),on=Math.floor(Gt*et);return{height:Ze,top:on}}},{key:"_createDataSource",value:function(){var Nt=this;return{getWidth:function(){return Nt._elementSizeObserver.getWidth()},getHeight:function(){return Nt._elementSizeObserver.getHeight()-Nt._getReviewHeight()},getOptions:function(){return{renderOverviewRuler:Nt._options.renderOverviewRuler}},getContainerDomNode:function(){return Nt._containerDomElement},relayoutEditors:function(){Nt._doLayout()},getOriginalEditor:function(){return Nt._originalEditor},getModifiedEditor:function(){return Nt._modifiedEditor}}}},{key:"_setStrategy",value:function(Nt){var Gt;(Gt=this._strategy)===null||Gt===void 0||Gt.dispose(),this._strategy=Nt,this._boundarySashes&&Nt.setBoundarySashes(this._boundarySashes),Nt.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}},{key:"_getLineChangeAtOrBeforeLineNumber",value:function(Nt,Gt){var Et=this._diffComputationResult?this._diffComputationResult.changes:[];if(Et.length===0||Nt<Gt(Et[0]))return null;for(var Rt=0,dn=Et.length-1;Rt<dn;){var et=Math.floor((Rt+dn)/2),Ze=Gt(Et[et]),on=et+1<=dn?Gt(Et[et+1]):1073741824;Nt<Ze?dn=et-1:Nt>=on?Rt=et+1:(Rt=et,dn=et)}return Et[Rt]}},{key:"_getEquivalentLineForOriginalLineNumber",value:function(Nt){var Gt=this._getLineChangeAtOrBeforeLineNumber(Nt,function(on){return on.originalStartLineNumber});if(!Gt)return Nt;var Et=Gt.originalStartLineNumber+(Gt.originalEndLineNumber>0?-1:0),Rt=Gt.modifiedStartLineNumber+(Gt.modifiedEndLineNumber>0?-1:0),dn=Gt.originalEndLineNumber>0?Gt.originalEndLineNumber-Gt.originalStartLineNumber+1:0,et=Gt.modifiedEndLineNumber>0?Gt.modifiedEndLineNumber-Gt.modifiedStartLineNumber+1:0,Ze=Nt-Et;return Ze<=dn?Rt+Math.min(Ze,et):Rt+et-dn+Ze}},{key:"_getEquivalentLineForModifiedLineNumber",value:function(Nt){var Gt=this._getLineChangeAtOrBeforeLineNumber(Nt,function(on){return on.modifiedStartLineNumber});if(!Gt)return Nt;var Et=Gt.originalStartLineNumber+(Gt.originalEndLineNumber>0?-1:0),Rt=Gt.modifiedStartLineNumber+(Gt.modifiedEndLineNumber>0?-1:0),dn=Gt.originalEndLineNumber>0?Gt.originalEndLineNumber-Gt.originalStartLineNumber+1:0,et=Gt.modifiedEndLineNumber>0?Gt.modifiedEndLineNumber-Gt.modifiedStartLineNumber+1:0,Ze=Nt-Rt;return Ze<=et?Et+Math.min(Ze,dn):Et+dn-et+Ze}},{key:"getDiffLineInformationForOriginal",value:function(Nt){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Nt)}:null}},{key:"getDiffLineInformationForModified",value:function(Nt){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Nt)}:null}}],[{key:"_getClassName",value:function(Nt,Gt){var Et="monaco-diff-editor monaco-editor-background ";return Gt&&(Et+="side-by-side "),Et+=Object(Cr.d)(Nt.type),Et}},{key:"_equals",value:function(Nt,Gt){return!Nt&&!Gt?!0:!Nt||!Gt?!1:Nt.toString()===Gt.toString()}}]),Fn}(j.a);wn.ONE_OVERVIEW_WIDTH=15,wn.ENTIRE_DIFF_OVERVIEW_WIDTH=30,wn.UPDATE_DIFF_DECORATIONS_DELAY=200,wn=zn([dr(3,Dn.a),dr(4,Pe.b),dr(5,fr.a),dr(6,A.a),dr(7,Cr.b),dr(8,Sr.a),dr(9,An.a),dr(10,Pi.a)],wn);var gn=function(ii){Object(ve.a)(Fn,ii);var Li=Object(re.a)(Fn);function Fn(jn){var Nt;return Object($.a)(this,Fn),Nt=Li.call(this),Nt._dataSource=jn,Nt._insertColor=null,Nt._removeColor=null,Nt}return Object(y.a)(Fn,[{key:"applyColors",value:function(Nt){var Gt=Nt.getColor(Ei.B)||(Nt.getColor(Ei.A)||Ei.x).transparent(2),Et=Nt.getColor(Ei.C)||(Nt.getColor(Ei.D)||Ei.y).transparent(2),Rt=!Gt.equals(this._insertColor)||!Et.equals(this._removeColor);return this._insertColor=Gt,this._removeColor=Et,Rt}},{key:"getEditorsDiffDecorations",value:function(Nt,Gt,Et,Rt,dn,et){et=et.sort(function(Dt,pn){return Dt.afterLineNumber-pn.afterLineNumber}),dn=dn.sort(function(Dt,pn){return Dt.afterLineNumber-pn.afterLineNumber});var Ze=this._getViewZones(Nt,dn,et,Et),on=this._getOriginalEditorDecorations(Ze,Nt,Gt,Et),tn=this._getModifiedEditorDecorations(Ze,Nt,Gt,Et,Rt);return{original:{decorations:on.decorations,overviewZones:on.overviewZones,zones:Ze.original},modified:{decorations:tn.decorations,overviewZones:tn.overviewZones,zones:Ze.modified}}}},{key:"setBoundarySashes",value:function(Nt){}}]),Fn}(j.a),rn=function(){function ii(Li){Object($.a)(this,ii),this._source=Li,this._index=-1,this.current=null,this.advance()}return Object(y.a)(ii,[{key:"advance",value:function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}]),ii}(),bn=function(){function ii(Li,Fn,jn,Nt,Gt){Object($.a)(this,ii),this._lineChanges=Li,this._originalForeignVZ=Fn,this._modifiedForeignVZ=jn,this._originalEditor=Nt,this._modifiedEditor=Gt}return Object(y.a)(ii,[{key:"getViewZones",value:function(){for(var Fn=this._originalEditor.getOption(64),jn=this._modifiedEditor.getOption(64),Nt=this._originalEditor.getOption(141).wrappingColumn!==-1,Gt=this._modifiedEditor.getOption(141).wrappingColumn!==-1,Et=Nt||Gt,Rt=this._originalEditor.getModel(),dn=this._originalEditor._getViewModel().coordinatesConverter,et=this._modifiedEditor._getViewModel().coordinatesConverter,Ze={original:[],modified:[]},on=0,tn=0,Dt=0,pn=0,ti=0,kn=0,Vt=function(va,Sn){return va.afterLineNumber-Sn.afterLineNumber},Oi=function(va,Sn){if(Sn.domNode===null&&va.length>0){var ri=va[va.length-1];if(ri.afterLineNumber===Sn.afterLineNumber&&ri.domNode===null){ri.heightInLines+=Sn.heightInLines;return}}va.push(Sn)},Yi=new rn(this._modifiedForeignVZ),Hi=new rn(this._originalForeignVZ),qi=1,Qr=1,Mr=0,na=this._lineChanges.length;Mr<=na;Mr++){var Br=Mr<na?this._lineChanges[Mr]:null;Br!==null?(Dt=Br.originalStartLineNumber+(Br.originalEndLineNumber>0?-1:0),pn=Br.modifiedStartLineNumber+(Br.modifiedEndLineNumber>0?-1:0),tn=Br.originalEndLineNumber>0?ii._getViewLineCount(this._originalEditor,Br.originalStartLineNumber,Br.originalEndLineNumber):0,on=Br.modifiedEndLineNumber>0?ii._getViewLineCount(this._modifiedEditor,Br.modifiedStartLineNumber,Br.modifiedEndLineNumber):0,ti=Math.max(Br.originalStartLineNumber,Br.originalEndLineNumber),kn=Math.max(Br.modifiedStartLineNumber,Br.modifiedEndLineNumber)):(Dt+=1e7+tn,pn+=1e7+on,ti=Dt,kn=pn);var ha=[],vn=[];if(Et){var Ln=void 0;Br?Br.originalEndLineNumber>0?Ln=Br.originalStartLineNumber-qi:Ln=Br.modifiedStartLineNumber-Qr:Ln=Rt.getLineCount()-qi+1;for(var ut=0;ut<Ln;ut++){var Tt=qi+ut,Pt=Qr+ut,Zt=dn.getModelLineViewLineCount(Tt),Ut=et.getModelLineViewLineCount(Pt);Zt<Ut?ha.push({afterLineNumber:Tt,heightInLines:Ut-Zt,domNode:null,marginDomNode:null}):Zt>Ut&&vn.push({afterLineNumber:Pt,heightInLines:Zt-Ut,domNode:null,marginDomNode:null})}Br&&(qi=(Br.originalEndLineNumber>0?Br.originalEndLineNumber:Br.originalStartLineNumber)+1,Qr=(Br.modifiedEndLineNumber>0?Br.modifiedEndLineNumber:Br.modifiedStartLineNumber)+1)}for(;Yi.current&&Yi.current.afterLineNumber<=kn;){var Nn=void 0;Yi.current.afterLineNumber<=pn?Nn=Dt-pn+Yi.current.afterLineNumber:Nn=ti;var In=null;Br&&Br.modifiedStartLineNumber<=Yi.current.afterLineNumber&&Yi.current.afterLineNumber<=Br.modifiedEndLineNumber&&(In=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),ha.push({afterLineNumber:Nn,heightInLines:Yi.current.height/jn,domNode:null,marginDomNode:In}),Yi.advance()}for(;Hi.current&&Hi.current.afterLineNumber<=ti;){var Wn=void 0;Hi.current.afterLineNumber<=Dt?Wn=pn-Dt+Hi.current.afterLineNumber:Wn=kn,vn.push({afterLineNumber:Wn,heightInLines:Hi.current.height/Fn,domNode:null}),Hi.advance()}if(Br!==null&&xi(Br)){var oi=this._produceOriginalFromDiff(Br,tn,on);oi&&ha.push(oi)}if(Br!==null&&Qi(Br)){var bi=this._produceModifiedFromDiff(Br,tn,on);bi&&vn.push(bi)}var _n=0,li=0;for(ha=ha.sort(Vt),vn=vn.sort(Vt);_n<ha.length&&li<vn.length;){var ki=ha[_n],Ki=vn[li],Tr=ki.afterLineNumber-Dt,ir=Ki.afterLineNumber-pn;Tr<ir?(Oi(Ze.original,ki),_n++):ir<Tr?(Oi(Ze.modified,Ki),li++):ki.shouldNotShrink?(Oi(Ze.original,ki),_n++):Ki.shouldNotShrink?(Oi(Ze.modified,Ki),li++):ki.heightInLines>=Ki.heightInLines?(ki.heightInLines-=Ki.heightInLines,li++):(Ki.heightInLines-=ki.heightInLines,_n++)}for(;_n<ha.length;)Oi(Ze.original,ha[_n]),_n++;for(;li<vn.length;)Oi(Ze.modified,vn[li]),li++}return{original:ii._ensureDomNodes(Ze.original),modified:ii._ensureDomNodes(Ze.modified)}}}],[{key:"_getViewLineCount",value:function(Fn,jn,Nt){var Gt=Fn.getModel(),Et=Fn._getViewModel();if(Gt&&Et){var Rt=an(Gt,Et,jn,Nt);return Rt.endLineNumber-Rt.startLineNumber+1}return Nt-jn+1}},{key:"_ensureDomNodes",value:function(Fn){return Fn.map(function(jn){return jn.domNode||(jn.domNode=St()),jn})}}]),ii}();function Qn(ii,Li,Fn,jn,Nt){return{range:new Ge.a(ii,Li,Fn,jn),options:Nt}}var Ci={arrowRevertChange:On.b.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new d.a(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(we.b("revertChangeHoverMessage","Click to revert change")),glyphMarginClassName:"arrow-revert-change "+C.a.asClassName(V.a.arrowRight),zIndex:10001}),charDelete:On.b.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:On.b.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:On.b.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:On.b.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:On.b.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:On.b.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+C.a.asClassName(hn),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:On.b.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:On.b.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+C.a.asClassName(Xn),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:On.b.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})},yr=function(ii){Object(ve.a)(Fn,ii);var Li=Object(re.a)(Fn);function Fn(jn,Nt,Gt){var Et;return Object($.a)(this,Fn),Et=Li.call(this,jn),Et._disableSash=Nt===!1,Et._defaultRatio=Gt,Et._sashRatio=null,Et._sashPosition=null,Et._startSashPosition=null,Et._sash=Et._register(new H.b(Et._dataSource.getContainerDomNode(),Object(le.a)(Et),{orientation:0})),Et._disableSash&&(Et._sash.state=0),Et._sash.onDidStart(function(){return Et._onSashDragStart()}),Et._sash.onDidChange(function(Rt){return Et._onSashDrag(Rt)}),Et._sash.onDidEnd(function(){return Et._onSashDragEnd()}),Et._sash.onDidReset(function(){return Et._onSashReset()}),Et}return Object(y.a)(Fn,[{key:"setEnableSplitViewResizing",value:function(Nt,Gt){this._defaultRatio=Gt;var Et=Nt===!1;this._disableSash!==Et&&(this._disableSash=Et,this._sash.state=this._disableSash?0:3)}},{key:"layout",value:function(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._sashRatio||this._defaultRatio,Gt=this._dataSource.getWidth(),Et=Gt-(this._dataSource.getOptions().renderOverviewRuler?wn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Rt=Math.floor((Nt||this._defaultRatio)*Et),dn=Math.floor(this._defaultRatio*Et);return Rt=this._disableSash?dn:Rt||dn,Et>Fn.MINIMUM_EDITOR_WIDTH*2?(Rt<Fn.MINIMUM_EDITOR_WIDTH&&(Rt=Fn.MINIMUM_EDITOR_WIDTH),Rt>Et-Fn.MINIMUM_EDITOR_WIDTH&&(Rt=Et-Fn.MINIMUM_EDITOR_WIDTH)):Rt=dn,this._sashPosition!==Rt&&(this._sashPosition=Rt),this._sash.layout(),this._sashPosition}},{key:"_onSashDragStart",value:function(){this._startSashPosition=this._sashPosition}},{key:"_onSashDrag",value:function(Nt){var Gt=this._dataSource.getWidth(),Et=Gt-(this._dataSource.getOptions().renderOverviewRuler?wn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Rt=this.layout((this._startSashPosition+(Nt.currentX-Nt.startX))/Et);this._sashRatio=Rt/Et,this._dataSource.relayoutEditors()}},{key:"_onSashDragEnd",value:function(){this._sash.layout()}},{key:"_onSashReset",value:function(){this._sashRatio=this._defaultRatio,this._dataSource.relayoutEditors(),this._sash.layout()}},{key:"getVerticalSashTop",value:function(Nt){return 0}},{key:"getVerticalSashLeft",value:function(Nt){return this._sashPosition}},{key:"getVerticalSashHeight",value:function(Nt){return this._dataSource.getHeight()}},{key:"setBoundarySashes",value:function(Nt){this._sash.orthogonalEndSash=Nt.bottom}},{key:"_getViewZones",value:function(Nt,Gt,Et){var Rt=this._dataSource.getOriginalEditor(),dn=this._dataSource.getModifiedEditor(),et=new _i(Nt,Gt,Et,Rt,dn);return et.getViewZones()}},{key:"_getOriginalEditorDecorations",value:function(Nt,Gt,Et,Rt){var dn=this._dataSource.getOriginalEditor(),et=String(this._removeColor),Ze={decorations:[],overviewZones:[]},on=dn.getModel(),tn=dn._getViewModel(),Dt=Object(J.a)(Gt),pn;try{for(Dt.s();!(pn=Dt.n()).done;){var ti=pn.value;if(Qi(ti)){Ze.decorations.push({range:new Ge.a(ti.originalStartLineNumber,1,ti.originalEndLineNumber,1073741824),options:Rt?Ci.lineDeleteWithSign:Ci.lineDelete}),(!xi(ti)||!ti.charChanges)&&Ze.decorations.push(Qn(ti.originalStartLineNumber,1,ti.originalEndLineNumber,1073741824,Ci.charDeleteWholeLine));var kn=an(on,tn,ti.originalStartLineNumber,ti.originalEndLineNumber);if(Ze.overviewZones.push(new ci.a(kn.startLineNumber,kn.endLineNumber,0,et)),ti.charChanges){var Vt=Object(J.a)(ti.charChanges),Oi;try{for(Vt.s();!(Oi=Vt.n()).done;){var Yi=Oi.value;if(pr(Yi))if(Et)for(var Hi=Yi.originalStartLineNumber;Hi<=Yi.originalEndLineNumber;Hi++){var qi=void 0,Qr=void 0;Hi===Yi.originalStartLineNumber?qi=Yi.originalStartColumn:qi=on.getLineFirstNonWhitespaceColumn(Hi),Hi===Yi.originalEndLineNumber?Qr=Yi.originalEndColumn:Qr=on.getLineLastNonWhitespaceColumn(Hi),Ze.decorations.push(Qn(Hi,qi,Hi,Qr,Ci.charDelete))}else Ze.decorations.push(Qn(Yi.originalStartLineNumber,Yi.originalStartColumn,Yi.originalEndLineNumber,Yi.originalEndColumn,Ci.charDelete))}}catch(Mr){Vt.e(Mr)}finally{Vt.f()}}}}}catch(Mr){Dt.e(Mr)}finally{Dt.f()}return Ze}},{key:"_getModifiedEditorDecorations",value:function(Nt,Gt,Et,Rt,dn){var et=this._dataSource.getModifiedEditor(),Ze=String(this._insertColor),on={decorations:[],overviewZones:[]},tn=et.getModel(),Dt=et._getViewModel(),pn=Object(J.a)(Gt),ti;try{var kn=function(){var Oi=ti.value;if(dn)if(Oi.modifiedEndLineNumber>0)on.decorations.push({range:new Ge.a(Oi.modifiedStartLineNumber,1,Oi.modifiedStartLineNumber,1),options:Ci.arrowRevertChange});else{var Yi=Nt.modified.find(function(vn){return vn.afterLineNumber===Oi.modifiedStartLineNumber});Yi&&(Yi.marginDomNode=Gi())}if(xi(Oi)){on.decorations.push({range:new Ge.a(Oi.modifiedStartLineNumber,1,Oi.modifiedEndLineNumber,1073741824),options:Rt?Ci.lineInsertWithSign:Ci.lineInsert}),(!Qi(Oi)||!Oi.charChanges)&&on.decorations.push(Qn(Oi.modifiedStartLineNumber,1,Oi.modifiedEndLineNumber,1073741824,Ci.charInsertWholeLine));var Hi=an(tn,Dt,Oi.modifiedStartLineNumber,Oi.modifiedEndLineNumber);if(on.overviewZones.push(new ci.a(Hi.startLineNumber,Hi.endLineNumber,0,Ze)),Oi.charChanges){var qi=Object(J.a)(Oi.charChanges),Qr;try{for(qi.s();!(Qr=qi.n()).done;){var Mr=Qr.value;if(mr(Mr))if(Et)for(var na=Mr.modifiedStartLineNumber;na<=Mr.modifiedEndLineNumber;na++){var Br=void 0,ha=void 0;na===Mr.modifiedStartLineNumber?Br=Mr.modifiedStartColumn:Br=tn.getLineFirstNonWhitespaceColumn(na),na===Mr.modifiedEndLineNumber?ha=Mr.modifiedEndColumn:ha=tn.getLineLastNonWhitespaceColumn(na),on.decorations.push(Qn(na,Br,na,ha,Ci.charInsert))}else on.decorations.push(Qn(Mr.modifiedStartLineNumber,Mr.modifiedStartColumn,Mr.modifiedEndLineNumber,Mr.modifiedEndColumn,Ci.charInsert))}}catch(vn){qi.e(vn)}finally{qi.f()}}}};for(pn.s();!(ti=pn.n()).done;)kn()}catch(Vt){pn.e(Vt)}finally{pn.f()}return on}}]),Fn}(gn);yr.MINIMUM_EDITOR_WIDTH=100;var _i=function(ii){Object(ve.a)(Fn,ii);var Li=Object(re.a)(Fn);function Fn(jn,Nt,Gt,Et,Rt){return Object($.a)(this,Fn),Li.call(this,jn,Nt,Gt,Et,Rt)}return Object(y.a)(Fn,[{key:"_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion",value:function(){return null}},{key:"_produceOriginalFromDiff",value:function(Nt,Gt,Et){return Et>Gt?{afterLineNumber:Math.max(Nt.originalStartLineNumber,Nt.originalEndLineNumber),heightInLines:Et-Gt,domNode:null}:null}},{key:"_produceModifiedFromDiff",value:function(Nt,Gt,Et){return Gt>Et?{afterLineNumber:Math.max(Nt.modifiedStartLineNumber,Nt.modifiedEndLineNumber),heightInLines:Gt-Et,domNode:null}:null}}]),Fn}(bn),Bn=function(ii){Object(ve.a)(Fn,ii);var Li=Object(re.a)(Fn);function Fn(jn,Nt){var Gt;return Object($.a)(this,Fn),Gt=Li.call(this,jn),Gt._decorationsLeft=jn.getOriginalEditor().getLayoutInfo().decorationsLeft,Gt._register(jn.getOriginalEditor().onDidLayoutChange(function(Et){Gt._decorationsLeft!==Et.decorationsLeft&&(Gt._decorationsLeft=Et.decorationsLeft,jn.relayoutEditors())})),Gt}return Object(y.a)(Fn,[{key:"setEnableSplitViewResizing",value:function(Nt){}},{key:"_getViewZones",value:function(Nt,Gt,Et,Rt){var dn=this._dataSource.getOriginalEditor(),et=this._dataSource.getModifiedEditor(),Ze=new tt(Nt,Gt,Et,dn,et,Rt);return Ze.getViewZones()}},{key:"_getOriginalEditorDecorations",value:function(Nt,Gt,Et,Rt){var dn=String(this._removeColor),et={decorations:[],overviewZones:[]},Ze=this._dataSource.getOriginalEditor(),on=Ze.getModel(),tn=Ze._getViewModel(),Dt=0,pn=Object(J.a)(Gt),ti;try{for(pn.s();!(ti=pn.n()).done;){var kn=ti.value;if(Qi(kn)){for(et.decorations.push({range:new Ge.a(kn.originalStartLineNumber,1,kn.originalEndLineNumber,1073741824),options:Ci.lineDeleteMargin});Dt<Nt.modified.length;){var Vt=Nt.modified[Dt];if(Vt.diff&&Vt.diff.originalStartLineNumber>=kn.originalStartLineNumber)break;Dt++}var Oi=0;if(Dt<Nt.modified.length){var Yi=Nt.modified[Dt];Yi.diff&&Yi.diff.originalStartLineNumber===kn.originalStartLineNumber&&Yi.diff.originalEndLineNumber===kn.originalEndLineNumber&&Yi.diff.modifiedStartLineNumber===kn.modifiedStartLineNumber&&Yi.diff.modifiedEndLineNumber===kn.modifiedEndLineNumber&&(Oi=Yi.heightInLines)}var Hi=an(on,tn,kn.originalStartLineNumber,kn.originalEndLineNumber);et.overviewZones.push(new ci.a(Hi.startLineNumber,Hi.endLineNumber,Oi,dn))}}}catch(qi){pn.e(qi)}finally{pn.f()}return et}},{key:"_getModifiedEditorDecorations",value:function(Nt,Gt,Et,Rt,dn){var et=this._dataSource.getModifiedEditor(),Ze=String(this._insertColor),on={decorations:[],overviewZones:[]},tn=et.getModel(),Dt=et._getViewModel(),pn=Object(J.a)(Gt),ti;try{for(pn.s();!(ti=pn.n()).done;){var kn=ti.value;if(xi(kn)){on.decorations.push({range:new Ge.a(kn.modifiedStartLineNumber,1,kn.modifiedEndLineNumber,1073741824),options:Rt?Ci.lineInsertWithSign:Ci.lineInsert});var Vt=an(tn,Dt,kn.modifiedStartLineNumber,kn.modifiedEndLineNumber);if(on.overviewZones.push(new ci.a(Vt.startLineNumber,Vt.endLineNumber,0,Ze)),kn.charChanges){var Oi=Object(J.a)(kn.charChanges),Yi;try{for(Oi.s();!(Yi=Oi.n()).done;){var Hi=Yi.value;if(mr(Hi))if(Et)for(var qi=Hi.modifiedStartLineNumber;qi<=Hi.modifiedEndLineNumber;qi++){var Qr=void 0,Mr=void 0;qi===Hi.modifiedStartLineNumber?Qr=Hi.modifiedStartColumn:Qr=tn.getLineFirstNonWhitespaceColumn(qi),qi===Hi.modifiedEndLineNumber?Mr=Hi.modifiedEndColumn:Mr=tn.getLineLastNonWhitespaceColumn(qi),on.decorations.push(Qn(qi,Qr,qi,Mr,Ci.charInsert))}else on.decorations.push(Qn(Hi.modifiedStartLineNumber,Hi.modifiedStartColumn,Hi.modifiedEndLineNumber,Hi.modifiedEndColumn,Ci.charInsert))}}catch(na){Oi.e(na)}finally{Oi.f()}}else on.decorations.push(Qn(kn.modifiedStartLineNumber,1,kn.modifiedEndLineNumber,1073741824,Ci.charInsertWholeLine))}}}catch(na){pn.e(na)}finally{pn.f()}return on}},{key:"layout",value:function(){return Math.max(5,this._decorationsLeft)}}]),Fn}(gn),tt=function(ii){Object(ve.a)(Fn,ii);var Li=Object(re.a)(Fn);function Fn(jn,Nt,Gt,Et,Rt,dn){var et;return Object($.a)(this,Fn),et=Li.call(this,jn,Nt,Gt,Et,Rt),et._originalModel=Et.getModel(),et._renderIndicators=dn,et._pendingLineChange=[],et._pendingViewZones=[],et._lineBreaksComputer=et._modifiedEditor._getViewModel().createLineBreaksComputer(),et}return Object(y.a)(Fn,[{key:"getViewZones",value:function(){var Nt=Object(De.a)(Object(E.a)(Fn.prototype),"getViewZones",this).call(this);return this._finalize(Nt),Nt}},{key:"_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion",value:function(){var Nt=document.createElement("div");return Nt.className="inline-added-margin-view-zone",Nt}},{key:"_produceOriginalFromDiff",value:function(Nt,Gt,Et){var Rt=document.createElement("div");return Rt.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Nt.originalStartLineNumber,Nt.originalEndLineNumber),heightInLines:Et,domNode:document.createElement("div"),marginDomNode:Rt}}},{key:"_produceModifiedFromDiff",value:function(Nt,Gt,Et){var Rt=document.createElement("div");Rt.className="view-lines line-delete ".concat(ee.a);var dn=document.createElement("div");dn.className="inline-deleted-margin-view-zone";for(var et={shouldNotShrink:!0,afterLineNumber:Nt.modifiedEndLineNumber===0?Nt.modifiedStartLineNumber:Nt.modifiedStartLineNumber-1,heightInLines:Gt,minWidthInPx:0,domNode:Rt,marginDomNode:dn,diff:{originalStartLineNumber:Nt.originalStartLineNumber,originalEndLineNumber:Nt.originalEndLineNumber,modifiedStartLineNumber:Nt.modifiedStartLineNumber,modifiedEndLineNumber:Nt.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}},Ze=Nt.originalStartLineNumber;Ze<=Nt.originalEndLineNumber;Ze++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Ze),null,null);return this._pendingLineChange.push(Nt),this._pendingViewZones.push(et),et}},{key:"_finalize",value:function(Nt){for(var Gt=this._modifiedEditor.getOptions(),Et=this._modifiedEditor.getModel().getOptions().tabSize,Rt=Gt.get(48),dn=Gt.get(31),et=Rt.typicalHalfwidthCharacterWidth,Ze=Gt.get(100),on=this._originalModel.mightContainNonBasicASCII(),tn=this._originalModel.mightContainRTL(),Dt=Gt.get(64),pn=Gt.get(140),ti=pn.decorationsWidth,kn=Gt.get(113),Vt=Gt.get(95),Oi=Gt.get(90),Yi=Gt.get(49),Hi=this._lineBreaksComputer.finalize(),qi=0,Qr=0;Qr<this._pendingLineChange.length;Qr++){var Mr=this._pendingLineChange[Qr],na=this._pendingViewZones[Qr],Br=na.domNode;Object(S.a)(Br,Rt);var ha=na.marginDomNode;Object(S.a)(ha,Rt);var vn=[];if(Mr.charChanges){var Ln=Object(J.a)(Mr.charChanges),ut;try{for(Ln.s();!(ut=Ln.n()).done;){var Tt=ut.value;pr(Tt)&&vn.push(new I.a(new Ge.a(Tt.originalStartLineNumber,Tt.originalStartColumn,Tt.originalEndLineNumber,Tt.originalEndColumn),"char-delete",0))}}catch(Zi){Ln.e(Zi)}finally{Ln.f()}}for(var Pt=vn.length>0,Zt=new En.a(1e4),Ut=0,Nn=0,In=null,Wn=Mr.originalStartLineNumber;Wn<=Mr.originalEndLineNumber;Wn++){var oi=Wn-Mr.originalStartLineNumber,bi=this._originalModel.tokenization.getLineTokens(Wn),_n=bi.getLineContent(),li=Hi[qi++],ki=Gn.a.filter(vn,Wn,1,_n.length+1);if(li){var Ki=0,Tr=Object(J.a)(li.breakOffsets),ir;try{for(Tr.s();!(ir=Tr.n()).done;){var Er=ir.value,va=bi.sliceAndInflate(Ki,Er,0),Sn=_n.substring(Ki,Er);Ut=Math.max(Ut,this._renderOriginalLine(Nn++,Sn,va,Gn.a.extractWrapped(ki,Ki,Er),Pt,on,tn,Rt,dn,Dt,ti,kn,Vt,Oi,Yi,Et,Zt,ha)),Ki=Er}}catch(Zi){Tr.e(Zi)}finally{Tr.f()}for(In||(In=[]);In.length<oi;)In[In.length]=1;In[oi]=li.breakOffsets.length,na.heightInLines+=li.breakOffsets.length-1;var ri=document.createElement("div");ri.className="gutter-delete",Nt.original.push({afterLineNumber:Wn,afterColumn:0,heightInLines:li.breakOffsets.length-1,domNode:St(),marginDomNode:ri})}else Ut=Math.max(Ut,this._renderOriginalLine(Nn++,_n,bi,ki,Pt,on,tn,Rt,dn,Dt,ti,kn,Vt,Oi,Yi,Et,Zt,ha))}Ut+=Ze;var Vn=Zt.build(),Ai=en?en.createHTML(Vn):Vn;if(Br.innerHTML=Ai,na.minWidthInPx=Ut*et,In)for(var or=Mr.originalEndLineNumber-Mr.originalStartLineNumber;In.length<=or;)In[In.length]=1;na.diff.viewLineCounts=In}Nt.original.sort(function(Zi,zi){return Zi.afterLineNumber-zi.afterLineNumber})}},{key:"_renderOriginalLine",value:function(Nt,Gt,Et,Rt,dn,et,Ze,on,tn,Dt,pn,ti,kn,Vt,Oi,Yi,Hi,qi){Hi.appendString('<div class="view-line'),dn||Hi.appendString(" char-delete"),Hi.appendString('" style="top:'),Hi.appendString(String(Nt*Dt)),Hi.appendString('px;width:1000000px;">');var Qr=I.f.isBasicASCII(Gt,et),Mr=I.f.containsRTL(Gt,Qr,Ze),na=Object(me.d)(new me.c(on.isMonospace&&!tn,on.canUseHalfwidthRightwardsArrow,Gt,!1,Qr,Mr,0,Et,Rt,Yi,0,on.spaceWidth,on.middotWidth,on.wsmiddotWidth,ti,kn,Vt,Oi!==w.e.OFF,null),Hi);if(Hi.appendString("</div>"),this._renderIndicators){var Br=document.createElement("div");Br.className="delete-sign ".concat(C.a.asClassName(Xn)),Br.setAttribute("style","position:absolute;top:".concat(Nt*Dt,"px;width:").concat(pn,"px;height:").concat(Dt,"px;right:0;")),qi.appendChild(Br)}return na.characterMapping.getHorizontalOffset(na.characterMapping.length)}}]),Fn}(bn);function Lt(ii,Li){return Object(w.q)(ii,Li,["off","on","inherit"])}function xi(ii){return ii.modifiedEndLineNumber>0}function Qi(ii){return ii.originalEndLineNumber>0}function mr(ii){return ii.modifiedStartLineNumber===ii.modifiedEndLineNumber?ii.modifiedEndColumn-ii.modifiedStartColumn>0:ii.modifiedEndLineNumber-ii.modifiedStartLineNumber>0}function pr(ii){return ii.originalStartLineNumber===ii.originalEndLineNumber?ii.originalEndColumn-ii.originalStartColumn>0:ii.originalEndLineNumber-ii.originalStartLineNumber>0}function St(){var ii=document.createElement("div");return ii.className="diagonal-fill",ii}function Gi(){var ii=document.createElement("div");return ii.className="arrow-revert-change "+C.a.asClassName(V.a.arrowRight),Q.$("div",{},ii)}function an(ii,Li,Fn,jn){var Nt=ii.getLineCount();return Fn=Math.min(Nt,Math.max(1,Fn)),jn=Math.min(Nt,Math.max(1,jn)),Li.coordinatesConverter.convertModelRangeToViewRange(new Ge.a(Fn,ii.getLineMinColumn(Fn),jn,ii.getLineMaxColumn(jn)))}function Qe(ii,Li){return{enableSplitViewResizing:Object(w.k)(ii.enableSplitViewResizing,Li.enableSplitViewResizing),splitViewDefaultRatio:Object(w.l)(ii.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:Object(w.k)(ii.renderSideBySide,Li.renderSideBySide),renderMarginRevertIcon:Object(w.k)(ii.renderMarginRevertIcon,Li.renderMarginRevertIcon),maxComputationTime:Object(w.m)(ii.maxComputationTime,Li.maxComputationTime,0,1073741824),maxFileSize:Object(w.m)(ii.maxFileSize,Li.maxFileSize,0,1073741824),ignoreTrimWhitespace:Object(w.k)(ii.ignoreTrimWhitespace,Li.ignoreTrimWhitespace),renderIndicators:Object(w.k)(ii.renderIndicators,Li.renderIndicators),originalEditable:Object(w.k)(ii.originalEditable,Li.originalEditable),diffCodeLens:Object(w.k)(ii.diffCodeLens,Li.diffCodeLens),renderOverviewRuler:Object(w.k)(ii.renderOverviewRuler,Li.renderOverviewRuler),diffWordWrap:Lt(ii.diffWordWrap,Li.diffWordWrap),diffAlgorithm:Object(w.q)(ii.diffAlgorithm,Li.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:Object(w.k)(ii.accessibilityVerbose,Li.accessibilityVerbose),experimental:{collapseUnchangedRegions:!1}}}function Jn(ii,Li){return{enableSplitViewResizing:ii.enableSplitViewResizing!==Li.enableSplitViewResizing,renderSideBySide:ii.renderSideBySide!==Li.renderSideBySide,renderMarginRevertIcon:ii.renderMarginRevertIcon!==Li.renderMarginRevertIcon,maxComputationTime:ii.maxComputationTime!==Li.maxComputationTime,maxFileSize:ii.maxFileSize!==Li.maxFileSize,ignoreTrimWhitespace:ii.ignoreTrimWhitespace!==Li.ignoreTrimWhitespace,renderIndicators:ii.renderIndicators!==Li.renderIndicators,originalEditable:ii.originalEditable!==Li.originalEditable,diffCodeLens:ii.diffCodeLens!==Li.diffCodeLens,renderOverviewRuler:ii.renderOverviewRuler!==Li.renderOverviewRuler,diffWordWrap:ii.diffWordWrap!==Li.diffWordWrap,diffAlgorithm:ii.diffAlgorithm!==Li.diffAlgorithm,accessibilityVerbose:ii.accessibilityVerbose!==Li.accessibilityVerbose}}Object(Cr.e)(function(ii,Li){var Fn=ii.getColor(Ei.z);Li.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			`.concat(Fn,` 12.5%,
			#0000 12.5%, #0000 50%,
			`).concat(Fn," 50%, ").concat(Fn,` 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`))})},StRq:function(fn,K,a){},Szf2:function(fn,K,a){"use strict";a.d(K,"d",function(){return ve}),a.d(K,"a",function(){return J}),a.d(K,"b",function(){return Q}),a.d(K,"c",function(){return L});var le=a("fWQN"),De=a("mtLc"),E=a("/cxE");function ve(ne,ee){if(typeof ne=="number"){if(ne===0)return null;var H=(ne&65535)>>>0,W=(ne&4294901760)>>>16;return W!==0?new y([re(H,ee),re(W,ee)]):new y([re(H,ee)])}else{for(var F=[],V=0;V<ne.length;V++)F.push(re(ne[V],ee));return new y(F)}}function re(ne,ee){var H=!!(ne&2048),W=!!(ne&256),F=ee===2?W:H,V=!!(ne&1024),N=!!(ne&512),U=ee===2?H:W,d=ne&255;return new J(F,V,N,U,d)}var J=function(){function ne(ee,H,W,F,V){Object(le.a)(this,ne),this.ctrlKey=ee,this.shiftKey=H,this.altKey=W,this.metaKey=F,this.keyCode=V}return Object(De.a)(ne,[{key:"equals",value:function(H){return H instanceof ne&&this.ctrlKey===H.ctrlKey&&this.shiftKey===H.shiftKey&&this.altKey===H.altKey&&this.metaKey===H.metaKey&&this.keyCode===H.keyCode}},{key:"isModifierKey",value:function(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}},{key:"isDuplicateModifierCase",value:function(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}]),ne}(),$=function(){function ne(ee,H,W,F,V){Object(le.a)(this,ne),this.ctrlKey=ee,this.shiftKey=H,this.altKey=W,this.metaKey=F,this.scanCode=V}return Object(De.a)(ne,[{key:"isDuplicateModifierCase",value:function(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}]),ne}(),y=Object(De.a)(function ne(ee){if(Object(le.a)(this,ne),ee.length===0)throw Object(E.e)("chords");this.chords=ee}),Q=Object(De.a)(function ne(ee,H,W,F,V,N){Object(le.a)(this,ne),this.ctrlKey=ee,this.shiftKey=H,this.altKey=W,this.metaKey=F,this.keyLabel=V,this.keyAriaLabel=N}),L=Object(De.a)(function ne(){Object(le.a)(this,ne)})},"T/V3":function(fn,K,a){"use strict";a.d(K,"b",function(){return re}),a.d(K,"a",function(){return J});var le=a("fWQN"),De=a("mtLc"),E=a("6OMU"),ve=a("CZ1j"),re=function(){function y(Q){Object(le.a)(this,y),this.values=Q,this.prefixSum=new Uint32Array(Q.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return Object(De.a)(y,[{key:"insertValues",value:function(L,ne){L=Object(ve.a)(L);var ee=this.values,H=this.prefixSum,W=ne.length;return W===0?!1:(this.values=new Uint32Array(ee.length+W),this.values.set(ee.subarray(0,L),0),this.values.set(ee.subarray(L),L+W),this.values.set(ne,L),L-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=L-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(H.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}},{key:"setValue",value:function(L,ne){return L=Object(ve.a)(L),ne=Object(ve.a)(ne),this.values[L]===ne?!1:(this.values[L]=ne,L-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=L-1),!0)}},{key:"removeValues",value:function(L,ne){L=Object(ve.a)(L),ne=Object(ve.a)(ne);var ee=this.values,H=this.prefixSum;if(L>=ee.length)return!1;var W=ee.length-L;return ne>=W&&(ne=W),ne===0?!1:(this.values=new Uint32Array(ee.length-ne),this.values.set(ee.subarray(0,L),0),this.values.set(ee.subarray(L+ne),L),this.prefixSum=new Uint32Array(this.values.length),L-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=L-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(H.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}},{key:"getTotalSum",value:function(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}},{key:"getPrefixSum",value:function(L){return L<0?0:(L=Object(ve.a)(L),this._getPrefixSum(L))}},{key:"_getPrefixSum",value:function(L){if(L<=this.prefixSumValidIndex[0])return this.prefixSum[L];var ne=this.prefixSumValidIndex[0]+1;ne===0&&(this.prefixSum[0]=this.values[0],ne++),L>=this.values.length&&(L=this.values.length-1);for(var ee=ne;ee<=L;ee++)this.prefixSum[ee]=this.prefixSum[ee-1]+this.values[ee];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],L),this.prefixSum[L]}},{key:"getIndexOf",value:function(L){L=Math.floor(L),this.getTotalSum();for(var ne=0,ee=this.values.length-1,H=0,W=0,F=0;ne<=ee;)if(H=ne+(ee-ne)/2|0,W=this.prefixSum[H],F=W-this.values[H],L<F)ee=H-1;else if(L>=W)ne=H+1;else break;return new $(H,L-F)}}]),y}(),J=function(){function y(Q){Object(le.a)(this,y),this._values=Q,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}return Object(De.a)(y,[{key:"getTotalSum",value:function(){return this._ensureValid(),this._indexBySum.length}},{key:"getPrefixSum",value:function(L){return this._ensureValid(),L===0?0:this._prefixSum[L-1]}},{key:"getIndexOf",value:function(L){this._ensureValid();var ne=this._indexBySum[L],ee=ne>0?this._prefixSum[ne-1]:0;return new $(ne,L-ee)}},{key:"removeValues",value:function(L,ne){this._values.splice(L,ne),this._invalidate(L)}},{key:"insertValues",value:function(L,ne){this._values=Object(E.c)(this._values,L,ne),this._invalidate(L)}},{key:"_invalidate",value:function(L){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,L-1)}},{key:"_ensureValid",value:function(){if(!this._isValid){for(var L=this._validEndIndex+1,ne=this._values.length;L<ne;L++){var ee=this._values[L],H=L>0?this._prefixSum[L-1]:0;this._prefixSum[L]=H+ee;for(var W=0;W<ee;W++)this._indexBySum[H+W]=L}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}},{key:"setValue",value:function(L,ne){this._values[L]!==ne&&(this._values[L]=ne,this._invalidate(L))}}]),y}(),$=Object(De.a)(function y(Q,L){Object(le.a)(this,y),this.index=Q,this.remainder=L,this._prefixSumIndexOfResultBrand=void 0,this.index=Q,this.remainder=L})},T5lh:function(fn,K,a){"use strict";a.d(K,"a",function(){return ve});var le=a("tJVT"),De=a("Vhoy"),E;(function(re){function J($){return $&&typeof $=="object"&&typeof $.id=="string"}re.isThemeColor=J})(E||(E={}));var ve;(function(re){re.iconNameSegment="[A-Za-z0-9]+",re.iconNameExpression="[A-Za-z0-9-]+",re.iconModifierExpression="~[A-Za-z]+",re.iconNameCharacter="[A-Za-z0-9~-]";var J=new RegExp("^(".concat(re.iconNameExpression,")(").concat(re.iconModifierExpression,")?$"));function $(N){var U=J.exec(N.id);if(!U)return $(De.a.error);var d=Object(le.a)(U,3),j=d[1],C=d[2],x=["codicon","codicon-"+j];return C&&x.push("codicon-modifier-"+C.substring(1)),x}re.asClassNameArray=$;function y(N){return $(N).join(" ")}re.asClassName=y;function Q(N){return"."+$(N).join(".")}re.asCSSSelector=Q;function L(N){return N&&typeof N=="object"&&typeof N.id=="string"&&(typeof N.color=="undefined"||E.isThemeColor(N.color))}re.isThemeIcon=L;var ne=new RegExp("^\\$\\((".concat(re.iconNameExpression,"(?:").concat(re.iconModifierExpression,")?)\\)$"));function ee(N){var U=ne.exec(N);if(!!U){var d=Object(le.a)(U,2),j=d[1];return{id:j}}}re.fromString=ee;function H(N){return{id:N}}re.fromId=H;function W(N,U){var d=N.id,j=d.lastIndexOf("~");return j!==-1&&(d=d.substring(0,j)),U&&(d="".concat(d,"~").concat(U)),{id:d}}re.modify=W;function F(N){var U=N.id.lastIndexOf("~");if(U!==-1)return N.id.substring(U+1)}re.getModifier=F;function V(N,U){var d,j;return N.id===U.id&&((d=N.color)===null||d===void 0?void 0:d.id)===((j=U.color)===null||j===void 0?void 0:j.id)}re.isEqual=V})(ve||(ve={}))},T8No:function(fn,K,a){"use strict";a.d(K,"a",function(){return be}),a.d(K,"d",function(){return de}),a.d(K,"c",function(){return Ct}),a.d(K,"b",function(){return bt}),a.d(K,"e",function(){return Je});var le=a("yKVA"),De=a("879j"),E=a("oBTY"),ve=a("rAM+"),re=a("fWQN"),J=a("mtLc"),$=a("MNsG"),y=a("N0LK"),Q=a("/cxE"),L=a("3/fG");function ne(){switch(arguments.length){case 1:return Object(L.b)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",arguments.length<=0?void 0:arguments[0]);case 2:return Object(L.b)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]);case 3:return Object(L.b)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]);default:return}}var ee=Object(L.b)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),H=Object(L.b)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),W=function(){function fe(){Object(re.a)(this,fe),this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/(?:["-%\*-<>-_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+/y}return Object(J.a)(fe,[{key:"reset",value:function(Ee){return this._input=Ee,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}},{key:"scan",value:function(){for(;!this._isAtEnd();){this._start=this._current;var Ee=this._advance();switch(Ee){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){var Ge=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:Ge})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){var $e=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:$e})}else this._match(126)?this._addToken(9):this._error(ne("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(ne("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(ne("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}},{key:"_match",value:function(Ee){return this._isAtEnd()||this._input.charCodeAt(this._current)!==Ee?!1:(this._current++,!0)}},{key:"_advance",value:function(){return this._input.charCodeAt(this._current++)}},{key:"_peek",value:function(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}},{key:"_addToken",value:function(Ee){this._tokens.push({type:Ee,offset:this._start})}},{key:"_error",value:function(Ee){var Ge=this._start,$e=this._input.substring(this._start,this._current),We={type:19,offset:this._start,lexeme:$e};this._errors.push({offset:Ge,lexeme:$e,additionalInfo:Ee}),this._tokens.push(We)}},{key:"_string",value:function(){this.stringRe.lastIndex=this._start;var Ee=this.stringRe.exec(this._input);if(Ee){this._current=this._start+Ee[0].length;var Ge=this._input.substring(this._start,this._current),$e=fe._keywords.get(Ge);$e?this._addToken($e):this._tokens.push({type:17,lexeme:Ge,offset:this._start})}}},{key:"_quotedString",value:function(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(ee);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}},{key:"_regex",value:function(){for(var Ee=this._current,Ge=!1,$e=!1;;){if(Ee>=this._input.length){this._current=Ee,this._error(H);return}var We=this._input.charCodeAt(Ee);if(Ge)Ge=!1;else if(We===47&&!$e){Ee++;break}else We===91?$e=!0:We===92?Ge=!0:We===93&&($e=!1);Ee++}for(;Ee<this._input.length&&fe._regexFlags.has(this._input.charCodeAt(Ee));)Ee++;this._current=Ee;var it=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:it,offset:this._start})}},{key:"_isAtEnd",value:function(){return this._current>=this._input.length}}],[{key:"getLexeme",value:function(Ee){switch(Ee.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return Ee.isTripleEq?"===":"==";case 4:return Ee.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return Ee.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return Ee.lexeme;case 18:return Ee.lexeme;case 19:return Ee.lexeme;case 20:return"EOF";default:throw Object(Q.f)("unhandled token type: ".concat(JSON.stringify(Ee),"; have you forgotten to add a case?"))}}}]),fe}();W._regexFlags=new Set(["i","g","s","m","y","u"].map(function(fe){return fe.charCodeAt(0)})),W._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var F=a("Cg/j"),V=new Map;V.set("false",!1),V.set("true",!0),V.set("isMac",$.i),V.set("isLinux",$.g),V.set("isWindows",$.o),V.set("isWeb",$.m),V.set("isMacNative",$.i&&!$.m),V.set("isEdge",$.d),V.set("isFirefox",$.e),V.set("isChrome",$.c),V.set("isSafari",$.l);var N=Object.prototype.hasOwnProperty,U={regexParsingWithErrorRecovery:!0},d=Object(L.b)("contextkey.parser.error.emptyString","Empty context key expression"),j=Object(L.b)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),C=Object(L.b)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),x=Object(L.b)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),S=Object(L.b)("contextkey.parser.error.unexpectedToken","Unexpected token"),T=Object(L.b)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),z=Object(L.b)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),A=Object(L.b)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),ue=function(){function fe(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U;Object(re.a)(this,fe),this._config=ye,this._scanner=new W,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}return Object(J.a)(fe,[{key:"parse",value:function(Ee){if(Ee===""){this._parsingErrors.push({message:d,offset:0,lexeme:"",additionalInfo:j});return}this._tokens=this._scanner.reset(Ee).scan(),this._current=0,this._parsingErrors=[];try{var Ge=this._expr();if(!this._isAtEnd()){var $e=this._peek(),We=$e.type===17?T:void 0;throw this._parsingErrors.push({message:S,offset:$e.offset,lexeme:W.getLexeme($e),additionalInfo:We}),fe._parseError}return Ge}catch(it){if(it!==fe._parseError)throw it;return}}},{key:"_expr",value:function(){return this._or()}},{key:"_or",value:function(){for(var Ee=[this._and()];this._matchOne(16);){var Ge=this._and();Ee.push(Ge)}return Ee.length===1?Ee[0]:be.or.apply(be,Ee)}},{key:"_and",value:function(){for(var Ee=[this._term()];this._matchOne(15);){var Ge=this._term();Ee.push(Ge)}return Ee.length===1?Ee[0]:be.and.apply(be,Ee)}},{key:"_term",value:function(){if(this._matchOne(2)){var Ee=this._peek();switch(Ee.type){case 11:return this._advance(),he.INSTANCE;case 12:return this._advance(),ge.INSTANCE;case 0:{this._advance();var Ge=this._expr();return this._consume(1,x),Ge==null?void 0:Ge.negate()}case 17:return this._advance(),pe.create(Ee.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",Ee)}}return this._primary()}},{key:"_primary",value:function(){var Ee=this._peek();switch(Ee.type){case 11:return this._advance(),be.true();case 12:return this._advance(),be.false();case 0:{this._advance();var Ge=this._expr();return this._consume(1,x),Ge}case 17:{var $e=Ee.lexeme;if(this._advance(),this._matchOne(9)){var We=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),We.type!==10)throw this._errExpectedButGot("REGEX",We);var it=We.lexeme,Fe=it.lastIndexOf("/"),He=Fe===it.length-1?void 0:this._removeFlagsGY(it.substring(Fe+1)),Ye;try{Ye=new RegExp(it.substring(1,Fe),He)}catch(Cr){throw this._errExpectedButGot("REGEX",We)}return Pe.create($e,Ye)}switch(We.type){case 10:case 19:{var ot=[We.lexeme];this._advance();for(var Kt=this._peek(),gt=0,Ft=0;Ft<We.lexeme.length;Ft++)We.lexeme.charCodeAt(Ft)===40?gt++:We.lexeme.charCodeAt(Ft)===41&&gt--;for(;!this._isAtEnd()&&Kt.type!==15&&Kt.type!==16;){switch(Kt.type){case 0:gt++;break;case 1:gt--;break;case 10:case 18:for(var Jt=0;Jt<Kt.lexeme.length;Jt++)Kt.lexeme.charCodeAt(Jt)===40?gt++:We.lexeme.charCodeAt(Jt)===41&&gt--}if(gt<0)break;ot.push(W.getLexeme(Kt)),this._advance(),Kt=this._peek()}var qt=ot.join(""),En=qt.lastIndexOf("/"),It=En===qt.length-1?void 0:this._removeFlagsGY(qt.substring(En+1)),si;try{si=new RegExp(qt.substring(1,En),It)}catch(Cr){throw this._errExpectedButGot("REGEX",We)}return be.regex($e,si)}case 18:{var On=We.lexeme;this._advance();var Gn=null;if(!Object(y.D)(On)){var ci=On.indexOf("/"),Dn=On.lastIndexOf("/");if(ci!==Dn&&ci>=0){var An=On.slice(ci+1,Dn),fr=On[Dn+1]==="i"?"i":"";try{Gn=new RegExp(An,fr)}catch(Cr){throw this._errExpectedButGot("REGEX",We)}}}if(Gn===null)throw this._errExpectedButGot("REGEX",We);return Pe.create($e,Gn)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,C);var Vi=this._value();return be.notIn($e,Vi)}var Sr=this._peek().type;switch(Sr){case 3:{this._advance();var Pi=this._value();if(this._previous().type===18)return be.equals($e,Pi);switch(Pi){case"true":return be.has($e);case"false":return be.not($e);default:return be.equals($e,Pi)}}case 4:{this._advance();var Ei=this._value();if(this._previous().type===18)return be.notEquals($e,Ei);switch(Ei){case"true":return be.not($e);case"false":return be.has($e);default:return be.notEquals($e,Ei)}}case 5:return this._advance(),Re.create($e,this._value());case 6:return this._advance(),Oe.create($e,this._value());case 7:return this._advance(),I.create($e,this._value());case 8:return this._advance(),we.create($e,this._value());case 13:return this._advance(),be.in($e,this._value());default:return be.has($e)}}case 20:throw this._parsingErrors.push({message:z,offset:Ee.offset,lexeme:"",additionalInfo:A}),fe._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}},{key:"_value",value:function(){var Ee=this._peek();switch(Ee.type){case 17:case 18:return this._advance(),Ee.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}},{key:"_removeFlagsGY",value:function(Ee){return Ee.replaceAll(this._flagsGYRe,"")}},{key:"_previous",value:function(){return this._tokens[this._current-1]}},{key:"_matchOne",value:function(Ee){return this._check(Ee)?(this._advance(),!0):!1}},{key:"_advance",value:function(){return this._isAtEnd()||this._current++,this._previous()}},{key:"_consume",value:function(Ee,Ge){if(this._check(Ee))return this._advance();throw this._errExpectedButGot(Ge,this._peek())}},{key:"_errExpectedButGot",value:function(Ee,Ge,$e){var We=Object(L.b)("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,Ee,W.getLexeme(Ge)),it=Ge.offset,Fe=W.getLexeme(Ge);return this._parsingErrors.push({message:We,offset:it,lexeme:Fe,additionalInfo:$e}),fe._parseError}},{key:"_check",value:function(Ee){return this._peek().type===Ee}},{key:"_peek",value:function(){return this._tokens[this._current]}},{key:"_isAtEnd",value:function(){return this._peek().type===20}}]),fe}();ue._parseError=new Error;var be=function(){function fe(){Object(re.a)(this,fe)}return Object(J.a)(fe,null,[{key:"false",value:function(){return he.INSTANCE}},{key:"true",value:function(){return ge.INSTANCE}},{key:"has",value:function(Ee){return ce.create(Ee)}},{key:"equals",value:function(Ee,Ge){return k.create(Ee,Ge)}},{key:"notEquals",value:function(Ee,Ge){return Y.create(Ee,Ge)}},{key:"regex",value:function(Ee,Ge){return Pe.create(Ee,Ge)}},{key:"in",value:function(Ee,Ge){return w.create(Ee,Ge)}},{key:"notIn",value:function(Ee,Ge){return B.create(Ee,Ge)}},{key:"not",value:function(Ee){return pe.create(Ee)}},{key:"and",value:function(){for(var Ee=arguments.length,Ge=new Array(Ee),$e=0;$e<Ee;$e++)Ge[$e]=arguments[$e];return Xe.create(Ge,null,!0)}},{key:"or",value:function(){for(var Ee=arguments.length,Ge=new Array(Ee),$e=0;$e<Ee;$e++)Ge[$e]=arguments[$e];return wt.create(Ge,null,!0)}},{key:"deserialize",value:function(Ee){if(Ee!=null){var Ge=this._parser.parse(Ee);return Ge}}}]),fe}();be._parser=new ue({regexParsingWithErrorRecovery:!1});function de(fe,ye){var Ee=fe?fe.substituteConstants():void 0,Ge=ye?ye.substituteConstants():void 0;return!Ee&&!Ge?!0:!Ee||!Ge?!1:Ee.equals(Ge)}function ke(fe,ye){return fe.cmp(ye)}var he=function(){function fe(){Object(re.a)(this,fe),this.type=0}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return this.type-Ee.type}},{key:"equals",value:function(Ee){return Ee.type===this.type}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Ee){return!1}},{key:"serialize",value:function(){return"false"}},{key:"keys",value:function(){return[]}},{key:"negate",value:function(){return ge.INSTANCE}}]),fe}();he.INSTANCE=new he;var ge=function(){function fe(){Object(re.a)(this,fe),this.type=1}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return this.type-Ee.type}},{key:"equals",value:function(Ee){return Ee.type===this.type}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Ee){return!0}},{key:"serialize",value:function(){return"true"}},{key:"keys",value:function(){return[]}},{key:"negate",value:function(){return he.INSTANCE}}]),fe}();ge.INSTANCE=new ge;var ce=function(){function fe(ye,Ee){Object(re.a)(this,fe),this.key=ye,this.negated=Ee,this.type=2}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return Ee.type!==this.type?this.type-Ee.type:mt(this.key,Ee.key)}},{key:"equals",value:function(Ee){return Ee.type===this.type?this.key===Ee.key:!1}},{key:"substituteConstants",value:function(){var Ee=V.get(this.key);return typeof Ee=="boolean"?Ee?ge.INSTANCE:he.INSTANCE:this}},{key:"evaluate",value:function(Ee){return!!Ee.getValue(this.key)}},{key:"serialize",value:function(){return this.key}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=pe.create(this.key,this)),this.negated}}],[{key:"create",value:function(Ee){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$e=V.get(Ee);return typeof $e=="boolean"?$e?ge.INSTANCE:he.INSTANCE:new fe(Ee,Ge)}}]),fe}(),k=function(){function fe(ye,Ee,Ge){Object(re.a)(this,fe),this.key=ye,this.value=Ee,this.negated=Ge,this.type=4}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return Ee.type!==this.type?this.type-Ee.type:jt(this.key,this.value,Ee.key,Ee.value)}},{key:"equals",value:function(Ee){return Ee.type===this.type?this.key===Ee.key&&this.value===Ee.value:!1}},{key:"substituteConstants",value:function(){var Ee=V.get(this.key);if(typeof Ee=="boolean"){var Ge=Ee?"true":"false";return this.value===Ge?ge.INSTANCE:he.INSTANCE}return this}},{key:"evaluate",value:function(Ee){return Ee.getValue(this.key)==this.value}},{key:"serialize",value:function(){return"".concat(this.key," == '").concat(this.value,"'")}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=Y.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(Ee,Ge){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof Ge=="boolean")return Ge?ce.create(Ee,$e):pe.create(Ee,$e);var We=V.get(Ee);if(typeof We=="boolean"){var it=We?"true":"false";return Ge===it?ge.INSTANCE:he.INSTANCE}return new fe(Ee,Ge,$e)}}]),fe}(),w=function(){function fe(ye,Ee){Object(re.a)(this,fe),this.key=ye,this.valueKey=Ee,this.type=10,this.negated=null}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return Ee.type!==this.type?this.type-Ee.type:jt(this.key,this.valueKey,Ee.key,Ee.valueKey)}},{key:"equals",value:function(Ee){return Ee.type===this.type?this.key===Ee.key&&this.valueKey===Ee.valueKey:!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Ee){var Ge=Ee.getValue(this.valueKey),$e=Ee.getValue(this.key);return Array.isArray(Ge)?Ge.includes($e):typeof $e=="string"&&typeof Ge=="object"&&Ge!==null?N.call(Ge,$e):!1}},{key:"serialize",value:function(){return"".concat(this.key," in '").concat(this.valueKey,"'")}},{key:"keys",value:function(){return[this.key,this.valueKey]}},{key:"negate",value:function(){return this.negated||(this.negated=B.create(this.key,this.valueKey)),this.negated}}],[{key:"create",value:function(Ee,Ge){return new fe(Ee,Ge)}}]),fe}(),B=function(){function fe(ye,Ee){Object(re.a)(this,fe),this.key=ye,this.valueKey=Ee,this.type=11,this._negated=w.create(ye,Ee)}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return Ee.type!==this.type?this.type-Ee.type:this._negated.cmp(Ee._negated)}},{key:"equals",value:function(Ee){return Ee.type===this.type?this._negated.equals(Ee._negated):!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Ee){return!this._negated.evaluate(Ee)}},{key:"serialize",value:function(){return"".concat(this.key," not in '").concat(this.valueKey,"'")}},{key:"keys",value:function(){return this._negated.keys()}},{key:"negate",value:function(){return this._negated}}],[{key:"create",value:function(Ee,Ge){return new fe(Ee,Ge)}}]),fe}(),Y=function(){function fe(ye,Ee,Ge){Object(re.a)(this,fe),this.key=ye,this.value=Ee,this.negated=Ge,this.type=5}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return Ee.type!==this.type?this.type-Ee.type:jt(this.key,this.value,Ee.key,Ee.value)}},{key:"equals",value:function(Ee){return Ee.type===this.type?this.key===Ee.key&&this.value===Ee.value:!1}},{key:"substituteConstants",value:function(){var Ee=V.get(this.key);if(typeof Ee=="boolean"){var Ge=Ee?"true":"false";return this.value===Ge?he.INSTANCE:ge.INSTANCE}return this}},{key:"evaluate",value:function(Ee){return Ee.getValue(this.key)!=this.value}},{key:"serialize",value:function(){return"".concat(this.key," != '").concat(this.value,"'")}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=k.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(Ee,Ge){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof Ge=="boolean")return Ge?pe.create(Ee,$e):ce.create(Ee,$e);var We=V.get(Ee);if(typeof We=="boolean"){var it=We?"true":"false";return Ge===it?he.INSTANCE:ge.INSTANCE}return new fe(Ee,Ge,$e)}}]),fe}(),pe=function(){function fe(ye,Ee){Object(re.a)(this,fe),this.key=ye,this.negated=Ee,this.type=3}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return Ee.type!==this.type?this.type-Ee.type:mt(this.key,Ee.key)}},{key:"equals",value:function(Ee){return Ee.type===this.type?this.key===Ee.key:!1}},{key:"substituteConstants",value:function(){var Ee=V.get(this.key);return typeof Ee=="boolean"?Ee?he.INSTANCE:ge.INSTANCE:this}},{key:"evaluate",value:function(Ee){return!Ee.getValue(this.key)}},{key:"serialize",value:function(){return"!".concat(this.key)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=ce.create(this.key,this)),this.negated}}],[{key:"create",value:function(Ee){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$e=V.get(Ee);return typeof $e=="boolean"?$e?he.INSTANCE:ge.INSTANCE:new fe(Ee,Ge)}}]),fe}();function me(fe,ye){if(typeof fe=="string"){var Ee=parseFloat(fe);isNaN(Ee)||(fe=Ee)}return typeof fe=="string"||typeof fe=="number"?ye(fe):he.INSTANCE}var I=function(){function fe(ye,Ee,Ge){Object(re.a)(this,fe),this.key=ye,this.value=Ee,this.negated=Ge,this.type=12}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return Ee.type!==this.type?this.type-Ee.type:jt(this.key,this.value,Ee.key,Ee.value)}},{key:"equals",value:function(Ee){return Ee.type===this.type?this.key===Ee.key&&this.value===Ee.value:!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Ee){return typeof this.value=="string"?!1:parseFloat(Ee.getValue(this.key))>this.value}},{key:"serialize",value:function(){return"".concat(this.key," > ").concat(this.value)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=Oe.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(Ee,Ge){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return me(Ge,function(We){return new fe(Ee,We,$e)})}}]),fe}(),we=function(){function fe(ye,Ee,Ge){Object(re.a)(this,fe),this.key=ye,this.value=Ee,this.negated=Ge,this.type=13}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return Ee.type!==this.type?this.type-Ee.type:jt(this.key,this.value,Ee.key,Ee.value)}},{key:"equals",value:function(Ee){return Ee.type===this.type?this.key===Ee.key&&this.value===Ee.value:!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Ee){return typeof this.value=="string"?!1:parseFloat(Ee.getValue(this.key))>=this.value}},{key:"serialize",value:function(){return"".concat(this.key," >= ").concat(this.value)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=Re.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(Ee,Ge){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return me(Ge,function(We){return new fe(Ee,We,$e)})}}]),fe}(),Re=function(){function fe(ye,Ee,Ge){Object(re.a)(this,fe),this.key=ye,this.value=Ee,this.negated=Ge,this.type=14}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return Ee.type!==this.type?this.type-Ee.type:jt(this.key,this.value,Ee.key,Ee.value)}},{key:"equals",value:function(Ee){return Ee.type===this.type?this.key===Ee.key&&this.value===Ee.value:!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Ee){return typeof this.value=="string"?!1:parseFloat(Ee.getValue(this.key))<this.value}},{key:"serialize",value:function(){return"".concat(this.key," < ").concat(this.value)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=we.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(Ee,Ge){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return me(Ge,function(We){return new fe(Ee,We,$e)})}}]),fe}(),Oe=function(){function fe(ye,Ee,Ge){Object(re.a)(this,fe),this.key=ye,this.value=Ee,this.negated=Ge,this.type=15}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return Ee.type!==this.type?this.type-Ee.type:jt(this.key,this.value,Ee.key,Ee.value)}},{key:"equals",value:function(Ee){return Ee.type===this.type?this.key===Ee.key&&this.value===Ee.value:!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Ee){return typeof this.value=="string"?!1:parseFloat(Ee.getValue(this.key))<=this.value}},{key:"serialize",value:function(){return"".concat(this.key," <= ").concat(this.value)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=I.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(Ee,Ge){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return me(Ge,function(We){return new fe(Ee,We,$e)})}}]),fe}(),Pe=function(){function fe(ye,Ee){Object(re.a)(this,fe),this.key=ye,this.regexp=Ee,this.type=7,this.negated=null}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){if(Ee.type!==this.type)return this.type-Ee.type;if(this.key<Ee.key)return-1;if(this.key>Ee.key)return 1;var Ge=this.regexp?this.regexp.source:"",$e=Ee.regexp?Ee.regexp.source:"";return Ge<$e?-1:Ge>$e?1:0}},{key:"equals",value:function(Ee){if(Ee.type===this.type){var Ge=this.regexp?this.regexp.source:"",$e=Ee.regexp?Ee.regexp.source:"";return this.key===Ee.key&&Ge===$e}return!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Ee){var Ge=Ee.getValue(this.key);return this.regexp?this.regexp.test(Ge):!1}},{key:"serialize",value:function(){var Ee=this.regexp?"/".concat(this.regexp.source,"/").concat(this.regexp.flags):"/invalid/";return"".concat(this.key," =~ ").concat(Ee)}},{key:"keys",value:function(){return[this.key]}},{key:"negate",value:function(){return this.negated||(this.negated=Ne.create(this)),this.negated}}],[{key:"create",value:function(Ee,Ge){return new fe(Ee,Ge)}}]),fe}(),Ne=function(){function fe(ye){Object(re.a)(this,fe),this._actual=ye,this.type=8}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){return Ee.type!==this.type?this.type-Ee.type:this._actual.cmp(Ee._actual)}},{key:"equals",value:function(Ee){return Ee.type===this.type?this._actual.equals(Ee._actual):!1}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(Ee){return!this._actual.evaluate(Ee)}},{key:"serialize",value:function(){return"!(".concat(this._actual.serialize(),")")}},{key:"keys",value:function(){return this._actual.keys()}},{key:"negate",value:function(){return this._actual}}],[{key:"create",value:function(Ee){return new fe(Ee)}}]),fe}();function Ke(fe){for(var ye=null,Ee=0,Ge=fe.length;Ee<Ge;Ee++){var $e=fe[Ee].substituteConstants();if(fe[Ee]!==$e&&ye===null){ye=[];for(var We=0;We<Ee;We++)ye[We]=fe[We]}ye!==null&&(ye[Ee]=$e)}return ye===null?fe:ye}var Xe=function(){function fe(ye,Ee){Object(re.a)(this,fe),this.expr=ye,this.negated=Ee,this.type=6}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){if(Ee.type!==this.type)return this.type-Ee.type;if(this.expr.length<Ee.expr.length)return-1;if(this.expr.length>Ee.expr.length)return 1;for(var Ge=0,$e=this.expr.length;Ge<$e;Ge++){var We=ke(this.expr[Ge],Ee.expr[Ge]);if(We!==0)return We}return 0}},{key:"equals",value:function(Ee){if(Ee.type===this.type){if(this.expr.length!==Ee.expr.length)return!1;for(var Ge=0,$e=this.expr.length;Ge<$e;Ge++)if(!this.expr[Ge].equals(Ee.expr[Ge]))return!1;return!0}return!1}},{key:"substituteConstants",value:function(){var Ee=Ke(this.expr);return Ee===this.expr?this:fe.create(Ee,this.negated,!1)}},{key:"evaluate",value:function(Ee){for(var Ge=0,$e=this.expr.length;Ge<$e;Ge++)if(!this.expr[Ge].evaluate(Ee))return!1;return!0}},{key:"serialize",value:function(){return this.expr.map(function(Ee){return Ee.serialize()}).join(" && ")}},{key:"keys",value:function(){var Ee=[],Ge=Object(ve.a)(this.expr),$e;try{for(Ge.s();!($e=Ge.n()).done;){var We=$e.value;Ee.push.apply(Ee,Object(E.a)(We.keys()))}}catch(it){Ge.e(it)}finally{Ge.f()}return Ee}},{key:"negate",value:function(){if(!this.negated){var Ee=[],Ge=Object(ve.a)(this.expr),$e;try{for(Ge.s();!($e=Ge.n()).done;){var We=$e.value;Ee.push(We.negate())}}catch(it){Ge.e(it)}finally{Ge.f()}this.negated=wt.create(Ee,this,!0)}return this.negated}}],[{key:"create",value:function(Ee,Ge,$e){return fe._normalizeArr(Ee,Ge,$e)}},{key:"_normalizeArr",value:function(Ee,Ge,$e){var We=[],it=!1,Fe=Object(ve.a)(Ee),He;try{for(Fe.s();!(He=Fe.n()).done;){var Ye=He.value;if(!!Ye){if(Ye.type===1){it=!0;continue}if(Ye.type===0)return he.INSTANCE;if(Ye.type===6){We.push.apply(We,Object(E.a)(Ye.expr));continue}We.push(Ye)}}}catch(qt){Fe.e(qt)}finally{Fe.f()}if(We.length===0&&it)return ge.INSTANCE;if(We.length!==0){if(We.length===1)return We[0];We.sort(ke);for(var ot=1;ot<We.length;ot++)We[ot-1].equals(We[ot])&&(We.splice(ot,1),ot--);if(We.length===1)return We[0];for(var Kt=function(){var En=We[We.length-1];if(En.type!==9)return"break";We.pop();var It=We.pop(),si=We.length===0,On=wt.create(En.expr.map(function(Gn){return fe.create([Gn,It],null,$e)}),null,si);On&&(We.push(On),We.sort(ke))};We.length>1;){var gt=Kt();if(gt==="break")break}if(We.length===1)return We[0];if($e){for(var Ft=0;Ft<We.length;Ft++)for(var Jt=Ft+1;Jt<We.length;Jt++)if(We[Ft].negate().equals(We[Jt]))return he.INSTANCE;if(We.length===1)return We[0]}return new fe(We,Ge)}}}]),fe}(),wt=function(){function fe(ye,Ee){Object(re.a)(this,fe),this.expr=ye,this.negated=Ee,this.type=9}return Object(J.a)(fe,[{key:"cmp",value:function(Ee){if(Ee.type!==this.type)return this.type-Ee.type;if(this.expr.length<Ee.expr.length)return-1;if(this.expr.length>Ee.expr.length)return 1;for(var Ge=0,$e=this.expr.length;Ge<$e;Ge++){var We=ke(this.expr[Ge],Ee.expr[Ge]);if(We!==0)return We}return 0}},{key:"equals",value:function(Ee){if(Ee.type===this.type){if(this.expr.length!==Ee.expr.length)return!1;for(var Ge=0,$e=this.expr.length;Ge<$e;Ge++)if(!this.expr[Ge].equals(Ee.expr[Ge]))return!1;return!0}return!1}},{key:"substituteConstants",value:function(){var Ee=Ke(this.expr);return Ee===this.expr?this:fe.create(Ee,this.negated,!1)}},{key:"evaluate",value:function(Ee){for(var Ge=0,$e=this.expr.length;Ge<$e;Ge++)if(this.expr[Ge].evaluate(Ee))return!0;return!1}},{key:"serialize",value:function(){return this.expr.map(function(Ee){return Ee.serialize()}).join(" || ")}},{key:"keys",value:function(){var Ee=[],Ge=Object(ve.a)(this.expr),$e;try{for(Ge.s();!($e=Ge.n()).done;){var We=$e.value;Ee.push.apply(Ee,Object(E.a)(We.keys()))}}catch(it){Ge.e(it)}finally{Ge.f()}return Ee}},{key:"negate",value:function(){if(!this.negated){var Ee=[],Ge=Object(ve.a)(this.expr),$e;try{for(Ge.s();!($e=Ge.n()).done;){var We=$e.value;Ee.push(We.negate())}}catch(qt){Ge.e(qt)}finally{Ge.f()}for(;Ee.length>1;){var it=Ee.shift(),Fe=Ee.shift(),He=[],Ye=Object(ve.a)(Te(it)),ot;try{for(Ye.s();!(ot=Ye.n()).done;){var Kt=ot.value,gt=Object(ve.a)(Te(Fe)),Ft;try{for(gt.s();!(Ft=gt.n()).done;){var Jt=Ft.value;He.push(Xe.create([Kt,Jt],null,!1))}}catch(qt){gt.e(qt)}finally{gt.f()}}}catch(qt){Ye.e(qt)}finally{Ye.f()}Ee.unshift(fe.create(He,null,!1))}this.negated=fe.create(Ee,this,!0)}return this.negated}}],[{key:"create",value:function(Ee,Ge,$e){return fe._normalizeArr(Ee,Ge,$e)}},{key:"_normalizeArr",value:function(Ee,Ge,$e){var We=[],it=!1;if(Ee){for(var Fe=0,He=Ee.length;Fe<He;Fe++){var Ye=Ee[Fe];if(!!Ye){if(Ye.type===0){it=!0;continue}if(Ye.type===1)return ge.INSTANCE;if(Ye.type===9){We=We.concat(Ye.expr);continue}We.push(Ye)}}if(We.length===0&&it)return he.INSTANCE;We.sort(ke)}if(We.length!==0){if(We.length===1)return We[0];for(var ot=1;ot<We.length;ot++)We[ot-1].equals(We[ot])&&(We.splice(ot,1),ot--);if(We.length===1)return We[0];if($e){for(var Kt=0;Kt<We.length;Kt++)for(var gt=Kt+1;gt<We.length;gt++)if(We[Kt].negate().equals(We[gt]))return ge.INSTANCE;if(We.length===1)return We[0]}return new fe(We,Ge)}}}]),fe}(),Ct=function(fe){Object(le.a)(Ee,fe);var ye=Object(De.a)(Ee);function Ee(Ge,$e,We){var it;return Object(re.a)(this,Ee),it=ye.call(this,Ge,null),it._defaultValue=$e,typeof We=="object"?Ee._info.push(Object.assign(Object.assign({},We),{key:Ge})):We!==!0&&Ee._info.push({key:Ge,description:We,type:$e!=null?typeof $e:void 0}),it}return Object(J.a)(Ee,[{key:"bindTo",value:function($e){return $e.createKey(this.key,this._defaultValue)}},{key:"getValue",value:function($e){return $e.getContextKeyValue(this.key)}},{key:"toNegated",value:function(){return this.negate()}},{key:"isEqualTo",value:function($e){return k.create(this.key,$e)}}],[{key:"all",value:function(){return Ee._info.values()}}]),Ee}(ce);Ct._info=[];var bt=Object(F.c)("contextKeyService");function mt(fe,ye){return fe<ye?-1:fe>ye?1:0}function jt(fe,ye,Ee,Ge){return fe<Ee?-1:fe>Ee?1:ye<Ge?-1:ye>Ge?1:0}function Je(fe,ye){if(fe.type===0||ye.type===1)return!0;if(fe.type===9)return ye.type===9?Wt(fe.expr,ye.expr):!1;if(ye.type===9){var Ee=Object(ve.a)(ye.expr),Ge;try{for(Ee.s();!(Ge=Ee.n()).done;){var $e=Ge.value;if(Je(fe,$e))return!0}}catch(He){Ee.e(He)}finally{Ee.f()}return!1}if(fe.type===6){if(ye.type===6)return Wt(ye.expr,fe.expr);var We=Object(ve.a)(fe.expr),it;try{for(We.s();!(it=We.n()).done;){var Fe=it.value;if(Je(Fe,ye))return!0}}catch(He){We.e(He)}finally{We.f()}return!1}return fe.equals(ye)}function Wt(fe,ye){for(var Ee=0,Ge=0;Ee<fe.length&&Ge<ye.length;){var $e=fe[Ee].cmp(ye[Ge]);if($e<0)return!1;$e===0&&Ee++,Ge++}return Ee===fe.length}function Te(fe){return fe.type===9?fe.expr:[fe]}},TLLU:function(fn,K,a){"use strict";var le=a("5OYt");function De(){return Object(le.a)()}K.a={useBreakpoint:De}},TT2d:function(fn,K,a){},Tdkv:function(fn,K,a){},U9X9:function(fn,K,a){"use strict";var le=a("uX+g"),De=function(ve,re,J){return re===void 0?ve:Object(le.a)(ve,re,J)};K.a=De},UCkY:function(fn,K,a){},Udvv:function(fn,K,a){"use strict";a.d(K,"b",function(){return y}),a.d(K,"a",function(){return Q});var le=a("qLMh"),De=a("N0LK"),E=a("zhcO"),ve=a("LloX"),re=a("7AJZ"),J=function(ne,ee,H,W){function F(V){return V instanceof H?V:new H(function(N){N(V)})}return new(H||(H=Promise))(function(V,N){function U(C){try{j(W.next(C))}catch(x){N(x)}}function d(C){try{j(W.throw(C))}catch(x){N(x)}}function j(C){C.done?V(C.value):F(C.value).then(U,d)}j((W=W.apply(ne,ee||[])).next())})},$={getInitialState:function(){return re.a},tokenizeEncoded:function(ee,H,W){return Object(re.c)(0,W)}};function y(ne,ee,H){return J(this,void 0,void 0,Object(le.a)().mark(function W(){var F;return Object(le.a)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(H){N.next=2;break}return N.abrupt("return",L(ee,ne.languageIdCodec,$));case 2:return N.next=4,ve.m.getOrCreate(H);case 4:return F=N.sent,N.abrupt("return",L(ee,ne.languageIdCodec,F||$));case 6:case"end":return N.stop()}},W)}))}function Q(ne,ee,H,W,F,V,N){for(var U="<div>",d=W,j=0,C=!0,x=0,S=ee.getCount();x<S;x++){var T=ee.getEndOffset(x);if(!(T<=W)){for(var z="";d<T&&d<F;d++){var A=ne.charCodeAt(d);switch(A){case 9:{var ue=V-(d+j)%V;for(j+=ue-1;ue>0;)N&&C?(z+="&#160;",C=!1):(z+=" ",C=!0),ue--;break}case 60:z+="&lt;",C=!1;break;case 62:z+="&gt;",C=!1;break;case 38:z+="&amp;",C=!1;break;case 0:z+="&#00;",C=!1;break;case 65279:case 8232:case 8233:case 133:z+="\uFFFD",C=!1;break;case 13:z+="&#8203",C=!1;break;case 32:N&&C?(z+="&#160;",C=!1):(z+=" ",C=!0);break;default:z+=String.fromCharCode(A),C=!1}}if(U+='<span style="'.concat(ee.getInlineStyle(x,H),'">').concat(z,"</span>"),T>F||d>=F)break}}return U+="</div>",U}function L(ne,ee,H){for(var W='<div class="monaco-tokenized-source">',F=De.S(ne),V=H.getInitialState(),N=0,U=F.length;N<U;N++){var d=F[N];N>0&&(W+="<br/>");var j=H.tokenizeEncoded(d,!0,V);E.a.convertToEndOffset(j.tokens,d.length);for(var C=new E.a(j.tokens,d,ee),x=C.inflate(),S=0,T=0,z=x.getCount();T<z;T++){var A=x.getClassName(T),ue=x.getEndOffset(T);W+='<span class="'.concat(A,'">').concat(De.s(d.substring(S,ue)),"</span>"),S=ue}V=j.endState}return W+="</div>",W}},"Up+r":function(fn,K,a){},Urep:function(fn,K,a){},Uzvx:function(fn,K,a){"use strict";a.d(K,"b",function(){return De}),a.d(K,"a",function(){return E});var le=a("Cg/j"),De=Object(le.c)("contextViewService"),E=Object(le.c)("contextMenuService")},VGTv:function(fn,K,a){"use strict";a.d(K,"a",function(){return E});var le=a("fWQN"),De=a("mtLc"),E=function(){function ve(){Object(le.a)(this,ve)}return Object(De.a)(ve,null,[{key:"getLanguageId",value:function(J){return(J&255)>>>0}},{key:"getTokenType",value:function(J){return(J&768)>>>8}},{key:"containsBalancedBrackets",value:function(J){return(J&1024)!=0}},{key:"getFontStyle",value:function(J){return(J&30720)>>>11}},{key:"getForeground",value:function(J){return(J&16744448)>>>15}},{key:"getBackground",value:function(J){return(J&4278190080)>>>24}},{key:"getClassNameFromMetadata",value:function(J){var $=this.getForeground(J),y="mtk"+$,Q=this.getFontStyle(J);return Q&1&&(y+=" mtki"),Q&2&&(y+=" mtkb"),Q&4&&(y+=" mtku"),Q&8&&(y+=" mtks"),y}},{key:"getInlineStyleFromMetadata",value:function(J,$){var y=this.getForeground(J),Q=this.getFontStyle(J),L="color: ".concat($[y],";");Q&1&&(L+="font-style: italic;"),Q&2&&(L+="font-weight: bold;");var ne="";return Q&4&&(ne+=" underline"),Q&8&&(ne+=" line-through"),ne&&(L+="text-decoration:".concat(ne,";")),L}},{key:"getPresentationFromMetadata",value:function(J){var $=this.getForeground(J),y=this.getFontStyle(J);return{foreground:$,italic:Boolean(y&1),bold:Boolean(y&2),underline:Boolean(y&4),strikethrough:Boolean(y&8)}}}]),ve}()},VHWv:function(fn,K,a){"use strict";a.d(K,"a",function(){return re});var le=a("fWQN"),De=a("mtLc"),E=a("/cxE"),ve=a("aokT"),re=function(){function J($,y){if(Object(le.a)(this,J),$>y)throw new E.a("startLineNumber ".concat($," cannot be after endLineNumberExclusive ").concat(y));this.startLineNumber=$,this.endLineNumberExclusive=y}return Object(De.a)(J,[{key:"contains",value:function(y){return this.startLineNumber<=y&&y<this.endLineNumberExclusive}},{key:"isEmpty",get:function(){return this.startLineNumber===this.endLineNumberExclusive}},{key:"delta",value:function(y){return new J(this.startLineNumber+y,this.endLineNumberExclusive+y)}},{key:"length",get:function(){return this.endLineNumberExclusive-this.startLineNumber}},{key:"join",value:function(y){return new J(Math.min(this.startLineNumber,y.startLineNumber),Math.max(this.endLineNumberExclusive,y.endLineNumberExclusive))}},{key:"toString",value:function(){return"[".concat(this.startLineNumber,",").concat(this.endLineNumberExclusive,")")}},{key:"intersect",value:function(y){var Q=Math.max(this.startLineNumber,y.startLineNumber),L=Math.min(this.endLineNumberExclusive,y.endLineNumberExclusive);if(Q<=L)return new J(Q,L)}},{key:"intersectsStrict",value:function(y){return this.startLineNumber<y.endLineNumberExclusive&&y.startLineNumber<this.endLineNumberExclusive}},{key:"overlapOrTouch",value:function(y){return this.startLineNumber<=y.endLineNumberExclusive&&y.startLineNumber<=this.endLineNumberExclusive}},{key:"equals",value:function(y){return this.startLineNumber===y.startLineNumber&&this.endLineNumberExclusive===y.endLineNumberExclusive}},{key:"toInclusiveRange",value:function(){return this.isEmpty?null:new ve.a(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}},{key:"toExclusiveRange",value:function(){return new ve.a(this.startLineNumber,1,this.endLineNumberExclusive,1)}}],[{key:"fromRange",value:function(y){return new J(y.startLineNumber,y.endLineNumber)}},{key:"joinMany",value:function(y){if(y.length===0)return[];for(var Q=y[0],L=1;L<y.length;L++)Q=this.join(Q,y[L]);return Q}},{key:"join",value:function(y,Q){if(y.length===0)return Q;if(Q.length===0)return y;for(var L=[],ne=0,ee=0,H=null;ne<y.length||ee<Q.length;){var W=null;if(ne<y.length&&ee<Q.length){var F=y[ne],V=Q[ee];F.startLineNumber<V.startLineNumber?(W=F,ne++):(W=V,ee++)}else ne<y.length?(W=y[ne],ne++):(W=Q[ee],ee++);H===null?H=W:H.endLineNumberExclusive>=W.startLineNumber?H=new J(H.startLineNumber,Math.max(H.endLineNumberExclusive,W.endLineNumberExclusive)):(L.push(H),H=W)}return H!==null&&L.push(H),L}},{key:"ofLength",value:function(y,Q){return new J(y,y+Q)}}]),J}()},VPJY:function(fn,K,a){},Vhoy:function(fn,K,a){"use strict";a.d(K,"b",function(){return ve}),a.d(K,"a",function(){return re});var le=a("746U"),De=Object.create(null);function E(J,$){if(Object(le.i)($)){var y=De[$];if(y===void 0)throw new Error("".concat(J," references an unknown codicon: ").concat($));$=y}return De[J]=$,{id:J}}function ve(){return De}var re={add:E("add",6e4),plus:E("plus",6e4),gistNew:E("gist-new",6e4),repoCreate:E("repo-create",6e4),lightbulb:E("lightbulb",60001),lightBulb:E("light-bulb",60001),repo:E("repo",60002),repoDelete:E("repo-delete",60002),gistFork:E("gist-fork",60003),repoForked:E("repo-forked",60003),gitPullRequest:E("git-pull-request",60004),gitPullRequestAbandoned:E("git-pull-request-abandoned",60004),recordKeys:E("record-keys",60005),keyboard:E("keyboard",60005),tag:E("tag",60006),tagAdd:E("tag-add",60006),tagRemove:E("tag-remove",60006),person:E("person",60007),personFollow:E("person-follow",60007),personOutline:E("person-outline",60007),personFilled:E("person-filled",60007),gitBranch:E("git-branch",60008),gitBranchCreate:E("git-branch-create",60008),gitBranchDelete:E("git-branch-delete",60008),sourceControl:E("source-control",60008),mirror:E("mirror",60009),mirrorPublic:E("mirror-public",60009),star:E("star",60010),starAdd:E("star-add",60010),starDelete:E("star-delete",60010),starEmpty:E("star-empty",60010),comment:E("comment",60011),commentAdd:E("comment-add",60011),alert:E("alert",60012),warning:E("warning",60012),search:E("search",60013),searchSave:E("search-save",60013),logOut:E("log-out",60014),signOut:E("sign-out",60014),logIn:E("log-in",60015),signIn:E("sign-in",60015),eye:E("eye",60016),eyeUnwatch:E("eye-unwatch",60016),eyeWatch:E("eye-watch",60016),circleFilled:E("circle-filled",60017),primitiveDot:E("primitive-dot",60017),closeDirty:E("close-dirty",60017),debugBreakpoint:E("debug-breakpoint",60017),debugBreakpointDisabled:E("debug-breakpoint-disabled",60017),debugHint:E("debug-hint",60017),primitiveSquare:E("primitive-square",60018),edit:E("edit",60019),pencil:E("pencil",60019),info:E("info",60020),issueOpened:E("issue-opened",60020),gistPrivate:E("gist-private",60021),gitForkPrivate:E("git-fork-private",60021),lock:E("lock",60021),mirrorPrivate:E("mirror-private",60021),close:E("close",60022),removeClose:E("remove-close",60022),x:E("x",60022),repoSync:E("repo-sync",60023),sync:E("sync",60023),clone:E("clone",60024),desktopDownload:E("desktop-download",60024),beaker:E("beaker",60025),microscope:E("microscope",60025),vm:E("vm",60026),deviceDesktop:E("device-desktop",60026),file:E("file",60027),fileText:E("file-text",60027),more:E("more",60028),ellipsis:E("ellipsis",60028),kebabHorizontal:E("kebab-horizontal",60028),mailReply:E("mail-reply",60029),reply:E("reply",60029),organization:E("organization",60030),organizationFilled:E("organization-filled",60030),organizationOutline:E("organization-outline",60030),newFile:E("new-file",60031),fileAdd:E("file-add",60031),newFolder:E("new-folder",60032),fileDirectoryCreate:E("file-directory-create",60032),trash:E("trash",60033),trashcan:E("trashcan",60033),history:E("history",60034),clock:E("clock",60034),folder:E("folder",60035),fileDirectory:E("file-directory",60035),symbolFolder:E("symbol-folder",60035),logoGithub:E("logo-github",60036),markGithub:E("mark-github",60036),github:E("github",60036),terminal:E("terminal",60037),console:E("console",60037),repl:E("repl",60037),zap:E("zap",60038),symbolEvent:E("symbol-event",60038),error:E("error",60039),stop:E("stop",60039),variable:E("variable",60040),symbolVariable:E("symbol-variable",60040),array:E("array",60042),symbolArray:E("symbol-array",60042),symbolModule:E("symbol-module",60043),symbolPackage:E("symbol-package",60043),symbolNamespace:E("symbol-namespace",60043),symbolObject:E("symbol-object",60043),symbolMethod:E("symbol-method",60044),symbolFunction:E("symbol-function",60044),symbolConstructor:E("symbol-constructor",60044),symbolBoolean:E("symbol-boolean",60047),symbolNull:E("symbol-null",60047),symbolNumeric:E("symbol-numeric",60048),symbolNumber:E("symbol-number",60048),symbolStructure:E("symbol-structure",60049),symbolStruct:E("symbol-struct",60049),symbolParameter:E("symbol-parameter",60050),symbolTypeParameter:E("symbol-type-parameter",60050),symbolKey:E("symbol-key",60051),symbolText:E("symbol-text",60051),symbolReference:E("symbol-reference",60052),goToFile:E("go-to-file",60052),symbolEnum:E("symbol-enum",60053),symbolValue:E("symbol-value",60053),symbolRuler:E("symbol-ruler",60054),symbolUnit:E("symbol-unit",60054),activateBreakpoints:E("activate-breakpoints",60055),archive:E("archive",60056),arrowBoth:E("arrow-both",60057),arrowDown:E("arrow-down",60058),arrowLeft:E("arrow-left",60059),arrowRight:E("arrow-right",60060),arrowSmallDown:E("arrow-small-down",60061),arrowSmallLeft:E("arrow-small-left",60062),arrowSmallRight:E("arrow-small-right",60063),arrowSmallUp:E("arrow-small-up",60064),arrowUp:E("arrow-up",60065),bell:E("bell",60066),bold:E("bold",60067),book:E("book",60068),bookmark:E("bookmark",60069),debugBreakpointConditionalUnverified:E("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:E("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:E("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:E("debug-breakpoint-data-unverified",60072),debugBreakpointData:E("debug-breakpoint-data",60073),debugBreakpointDataDisabled:E("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:E("debug-breakpoint-log-unverified",60074),debugBreakpointLog:E("debug-breakpoint-log",60075),debugBreakpointLogDisabled:E("debug-breakpoint-log-disabled",60075),briefcase:E("briefcase",60076),broadcast:E("broadcast",60077),browser:E("browser",60078),bug:E("bug",60079),calendar:E("calendar",60080),caseSensitive:E("case-sensitive",60081),check:E("check",60082),checklist:E("checklist",60083),chevronDown:E("chevron-down",60084),dropDownButton:E("drop-down-button",60084),chevronLeft:E("chevron-left",60085),chevronRight:E("chevron-right",60086),chevronUp:E("chevron-up",60087),chromeClose:E("chrome-close",60088),chromeMaximize:E("chrome-maximize",60089),chromeMinimize:E("chrome-minimize",60090),chromeRestore:E("chrome-restore",60091),circle:E("circle",60092),circleOutline:E("circle-outline",60092),debugBreakpointUnverified:E("debug-breakpoint-unverified",60092),circleSlash:E("circle-slash",60093),circuitBoard:E("circuit-board",60094),clearAll:E("clear-all",60095),clippy:E("clippy",60096),closeAll:E("close-all",60097),cloudDownload:E("cloud-download",60098),cloudUpload:E("cloud-upload",60099),code:E("code",60100),collapseAll:E("collapse-all",60101),colorMode:E("color-mode",60102),commentDiscussion:E("comment-discussion",60103),compareChanges:E("compare-changes",60157),creditCard:E("credit-card",60105),dash:E("dash",60108),dashboard:E("dashboard",60109),database:E("database",60110),debugContinue:E("debug-continue",60111),debugDisconnect:E("debug-disconnect",60112),debugPause:E("debug-pause",60113),debugRestart:E("debug-restart",60114),debugStart:E("debug-start",60115),debugStepInto:E("debug-step-into",60116),debugStepOut:E("debug-step-out",60117),debugStepOver:E("debug-step-over",60118),debugStop:E("debug-stop",60119),debug:E("debug",60120),deviceCameraVideo:E("device-camera-video",60121),deviceCamera:E("device-camera",60122),deviceMobile:E("device-mobile",60123),diffAdded:E("diff-added",60124),diffIgnored:E("diff-ignored",60125),diffModified:E("diff-modified",60126),diffRemoved:E("diff-removed",60127),diffRenamed:E("diff-renamed",60128),diff:E("diff",60129),discard:E("discard",60130),editorLayout:E("editor-layout",60131),emptyWindow:E("empty-window",60132),exclude:E("exclude",60133),extensions:E("extensions",60134),eyeClosed:E("eye-closed",60135),fileBinary:E("file-binary",60136),fileCode:E("file-code",60137),fileMedia:E("file-media",60138),filePdf:E("file-pdf",60139),fileSubmodule:E("file-submodule",60140),fileSymlinkDirectory:E("file-symlink-directory",60141),fileSymlinkFile:E("file-symlink-file",60142),fileZip:E("file-zip",60143),files:E("files",60144),filter:E("filter",60145),flame:E("flame",60146),foldDown:E("fold-down",60147),foldUp:E("fold-up",60148),fold:E("fold",60149),folderActive:E("folder-active",60150),folderOpened:E("folder-opened",60151),gear:E("gear",60152),gift:E("gift",60153),gistSecret:E("gist-secret",60154),gist:E("gist",60155),gitCommit:E("git-commit",60156),gitCompare:E("git-compare",60157),gitMerge:E("git-merge",60158),githubAction:E("github-action",60159),githubAlt:E("github-alt",60160),globe:E("globe",60161),grabber:E("grabber",60162),graph:E("graph",60163),gripper:E("gripper",60164),heart:E("heart",60165),home:E("home",60166),horizontalRule:E("horizontal-rule",60167),hubot:E("hubot",60168),inbox:E("inbox",60169),issueClosed:E("issue-closed",60324),issueReopened:E("issue-reopened",60171),issues:E("issues",60172),italic:E("italic",60173),jersey:E("jersey",60174),json:E("json",60175),bracket:E("bracket",60175),kebabVertical:E("kebab-vertical",60176),key:E("key",60177),law:E("law",60178),lightbulbAutofix:E("lightbulb-autofix",60179),linkExternal:E("link-external",60180),link:E("link",60181),listOrdered:E("list-ordered",60182),listUnordered:E("list-unordered",60183),liveShare:E("live-share",60184),loading:E("loading",60185),location:E("location",60186),mailRead:E("mail-read",60187),mail:E("mail",60188),markdown:E("markdown",60189),megaphone:E("megaphone",60190),mention:E("mention",60191),milestone:E("milestone",60192),mortarBoard:E("mortar-board",60193),move:E("move",60194),multipleWindows:E("multiple-windows",60195),mute:E("mute",60196),noNewline:E("no-newline",60197),note:E("note",60198),octoface:E("octoface",60199),openPreview:E("open-preview",60200),package_:E("package",60201),paintcan:E("paintcan",60202),pin:E("pin",60203),play:E("play",60204),run:E("run",60204),plug:E("plug",60205),preserveCase:E("preserve-case",60206),preview:E("preview",60207),project:E("project",60208),pulse:E("pulse",60209),question:E("question",60210),quote:E("quote",60211),radioTower:E("radio-tower",60212),reactions:E("reactions",60213),references:E("references",60214),refresh:E("refresh",60215),regex:E("regex",60216),remoteExplorer:E("remote-explorer",60217),remote:E("remote",60218),remove:E("remove",60219),replaceAll:E("replace-all",60220),replace:E("replace",60221),repoClone:E("repo-clone",60222),repoForcePush:E("repo-force-push",60223),repoPull:E("repo-pull",60224),repoPush:E("repo-push",60225),report:E("report",60226),requestChanges:E("request-changes",60227),rocket:E("rocket",60228),rootFolderOpened:E("root-folder-opened",60229),rootFolder:E("root-folder",60230),rss:E("rss",60231),ruby:E("ruby",60232),saveAll:E("save-all",60233),saveAs:E("save-as",60234),save:E("save",60235),screenFull:E("screen-full",60236),screenNormal:E("screen-normal",60237),searchStop:E("search-stop",60238),server:E("server",60240),settingsGear:E("settings-gear",60241),settings:E("settings",60242),shield:E("shield",60243),smiley:E("smiley",60244),sortPrecedence:E("sort-precedence",60245),splitHorizontal:E("split-horizontal",60246),splitVertical:E("split-vertical",60247),squirrel:E("squirrel",60248),starFull:E("star-full",60249),starHalf:E("star-half",60250),symbolClass:E("symbol-class",60251),symbolColor:E("symbol-color",60252),symbolCustomColor:E("symbol-customcolor",60252),symbolConstant:E("symbol-constant",60253),symbolEnumMember:E("symbol-enum-member",60254),symbolField:E("symbol-field",60255),symbolFile:E("symbol-file",60256),symbolInterface:E("symbol-interface",60257),symbolKeyword:E("symbol-keyword",60258),symbolMisc:E("symbol-misc",60259),symbolOperator:E("symbol-operator",60260),symbolProperty:E("symbol-property",60261),wrench:E("wrench",60261),wrenchSubaction:E("wrench-subaction",60261),symbolSnippet:E("symbol-snippet",60262),tasklist:E("tasklist",60263),telescope:E("telescope",60264),textSize:E("text-size",60265),threeBars:E("three-bars",60266),thumbsdown:E("thumbsdown",60267),thumbsup:E("thumbsup",60268),tools:E("tools",60269),triangleDown:E("triangle-down",60270),triangleLeft:E("triangle-left",60271),triangleRight:E("triangle-right",60272),triangleUp:E("triangle-up",60273),twitter:E("twitter",60274),unfold:E("unfold",60275),unlock:E("unlock",60276),unmute:E("unmute",60277),unverified:E("unverified",60278),verified:E("verified",60279),versions:E("versions",60280),vmActive:E("vm-active",60281),vmOutline:E("vm-outline",60282),vmRunning:E("vm-running",60283),watch:E("watch",60284),whitespace:E("whitespace",60285),wholeWord:E("whole-word",60286),window:E("window",60287),wordWrap:E("word-wrap",60288),zoomIn:E("zoom-in",60289),zoomOut:E("zoom-out",60290),listFilter:E("list-filter",60291),listFlat:E("list-flat",60292),listSelection:E("list-selection",60293),selection:E("selection",60293),listTree:E("list-tree",60294),debugBreakpointFunctionUnverified:E("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:E("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:E("debug-breakpoint-function-disabled",60296),debugStackframeActive:E("debug-stackframe-active",60297),circleSmallFilled:E("circle-small-filled",60298),debugStackframeDot:E("debug-stackframe-dot",60298),debugStackframe:E("debug-stackframe",60299),debugStackframeFocused:E("debug-stackframe-focused",60299),debugBreakpointUnsupported:E("debug-breakpoint-unsupported",60300),symbolString:E("symbol-string",60301),debugReverseContinue:E("debug-reverse-continue",60302),debugStepBack:E("debug-step-back",60303),debugRestartFrame:E("debug-restart-frame",60304),callIncoming:E("call-incoming",60306),callOutgoing:E("call-outgoing",60307),menu:E("menu",60308),expandAll:E("expand-all",60309),feedback:E("feedback",60310),groupByRefType:E("group-by-ref-type",60311),ungroupByRefType:E("ungroup-by-ref-type",60312),account:E("account",60313),bellDot:E("bell-dot",60314),debugConsole:E("debug-console",60315),library:E("library",60316),output:E("output",60317),runAll:E("run-all",60318),syncIgnored:E("sync-ignored",60319),pinned:E("pinned",60320),githubInverted:E("github-inverted",60321),debugAlt:E("debug-alt",60305),serverProcess:E("server-process",60322),serverEnvironment:E("server-environment",60323),pass:E("pass",60324),stopCircle:E("stop-circle",60325),playCircle:E("play-circle",60326),record:E("record",60327),debugAltSmall:E("debug-alt-small",60328),vmConnect:E("vm-connect",60329),cloud:E("cloud",60330),merge:E("merge",60331),exportIcon:E("export",60332),graphLeft:E("graph-left",60333),magnet:E("magnet",60334),notebook:E("notebook",60335),redo:E("redo",60336),checkAll:E("check-all",60337),pinnedDirty:E("pinned-dirty",60338),passFilled:E("pass-filled",60339),circleLargeFilled:E("circle-large-filled",60340),circleLarge:E("circle-large",60341),circleLargeOutline:E("circle-large-outline",60341),combine:E("combine",60342),gather:E("gather",60342),table:E("table",60343),variableGroup:E("variable-group",60344),typeHierarchy:E("type-hierarchy",60345),typeHierarchySub:E("type-hierarchy-sub",60346),typeHierarchySuper:E("type-hierarchy-super",60347),gitPullRequestCreate:E("git-pull-request-create",60348),runAbove:E("run-above",60349),runBelow:E("run-below",60350),notebookTemplate:E("notebook-template",60351),debugRerun:E("debug-rerun",60352),workspaceTrusted:E("workspace-trusted",60353),workspaceUntrusted:E("workspace-untrusted",60354),workspaceUnspecified:E("workspace-unspecified",60355),terminalCmd:E("terminal-cmd",60356),terminalDebian:E("terminal-debian",60357),terminalLinux:E("terminal-linux",60358),terminalPowershell:E("terminal-powershell",60359),terminalTmux:E("terminal-tmux",60360),terminalUbuntu:E("terminal-ubuntu",60361),terminalBash:E("terminal-bash",60362),arrowSwap:E("arrow-swap",60363),copy:E("copy",60364),personAdd:E("person-add",60365),filterFilled:E("filter-filled",60366),wand:E("wand",60367),debugLineByLine:E("debug-line-by-line",60368),inspect:E("inspect",60369),layers:E("layers",60370),layersDot:E("layers-dot",60371),layersActive:E("layers-active",60372),compass:E("compass",60373),compassDot:E("compass-dot",60374),compassActive:E("compass-active",60375),azure:E("azure",60376),issueDraft:E("issue-draft",60377),gitPullRequestClosed:E("git-pull-request-closed",60378),gitPullRequestDraft:E("git-pull-request-draft",60379),debugAll:E("debug-all",60380),debugCoverage:E("debug-coverage",60381),runErrors:E("run-errors",60382),folderLibrary:E("folder-library",60383),debugContinueSmall:E("debug-continue-small",60384),beakerStop:E("beaker-stop",60385),graphLine:E("graph-line",60386),graphScatter:E("graph-scatter",60387),pieChart:E("pie-chart",60388),bracketDot:E("bracket-dot",60389),bracketError:E("bracket-error",60390),lockSmall:E("lock-small",60391),azureDevops:E("azure-devops",60392),verifiedFilled:E("verified-filled",60393),newLine:E("newline",60394),layout:E("layout",60395),layoutActivitybarLeft:E("layout-activitybar-left",60396),layoutActivitybarRight:E("layout-activitybar-right",60397),layoutPanelLeft:E("layout-panel-left",60398),layoutPanelCenter:E("layout-panel-center",60399),layoutPanelJustify:E("layout-panel-justify",60400),layoutPanelRight:E("layout-panel-right",60401),layoutPanel:E("layout-panel",60402),layoutSidebarLeft:E("layout-sidebar-left",60403),layoutSidebarRight:E("layout-sidebar-right",60404),layoutStatusbar:E("layout-statusbar",60405),layoutMenubar:E("layout-menubar",60406),layoutCentered:E("layout-centered",60407),layoutSidebarRightOff:E("layout-sidebar-right-off",60416),layoutPanelOff:E("layout-panel-off",60417),layoutSidebarLeftOff:E("layout-sidebar-left-off",60418),target:E("target",60408),indent:E("indent",60409),recordSmall:E("record-small",60410),errorSmall:E("error-small",60411),arrowCircleDown:E("arrow-circle-down",60412),arrowCircleLeft:E("arrow-circle-left",60413),arrowCircleRight:E("arrow-circle-right",60414),arrowCircleUp:E("arrow-circle-up",60415),heartFilled:E("heart-filled",60420),map:E("map",60421),mapFilled:E("map-filled",60422),circleSmall:E("circle-small",60423),bellSlash:E("bell-slash",60424),bellSlashDot:E("bell-slash-dot",60425),commentUnresolved:E("comment-unresolved",60426),gitPullRequestGoToChanges:E("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:E("git-pull-request-new-changes",60428),searchFuzzy:E("search-fuzzy",60429),commentDraft:E("comment-draft",60430),send:E("send",60431),sparkle:E("sparkle",60432),insert:E("insert",60433),dialogError:E("dialog-error","error"),dialogWarning:E("dialog-warning","warning"),dialogInfo:E("dialog-info","info"),dialogClose:E("dialog-close","close"),treeItemExpanded:E("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:E("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:E("tree-filter-on-type-off","list-selection"),treeFilterClear:E("tree-filter-clear","close"),treeItemLoading:E("tree-item-loading","loading"),menuSelection:E("menu-selection","check"),menuSubmenu:E("menu-submenu","chevron-right"),menuBarMore:E("menubar-more","more"),scrollbarButtonLeft:E("scrollbar-button-left","triangle-left"),scrollbarButtonRight:E("scrollbar-button-right","triangle-right"),scrollbarButtonUp:E("scrollbar-button-up","triangle-up"),scrollbarButtonDown:E("scrollbar-button-down","triangle-down"),toolBarMore:E("toolbar-more","more"),quickInputBack:E("quick-input-back","arrow-left")}},Vk6M:function(fn,K,a){"use strict";a.d(K,"a",function(){return y});var le=a("mtLc"),De=a("fWQN"),E=a("yKVA"),ve=a("879j"),re=a("MXAL"),J=function(Q){Object(E.a)(ne,Q);var L=Object(ve.a)(ne);function ne(ee){var H;Object(De.a)(this,ne),H=L.call(this,0);for(var W=0,F=ee.length;W<F;W++)H.set(ee.charCodeAt(W),2);return H.set(32,1),H.set(9,1),H}return Object(le.a)(ne)}(re.a);function $(Q){var L={};return function(ne){return L.hasOwnProperty(ne)||(L[ne]=Q(ne)),L[ne]}}var y=$(function(Q){return new J(Q)})},Vtyv:function(fn,K,a){},VvMK:function(fn,K,a){},Vxe3:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("codeEditorService")},VzZb:function(fn,K,a){},W1oj:function(fn,K,a){},W38Z:function(fn,K,a){},W7of:function(fn,K,a){"use strict";a.d(K,"a",function(){return le});var le;(function(De){var E={total:0,min:Number.MAX_VALUE,max:0},ve=Object.assign({},E),re=Object.assign({},E),J=Object.assign({},E),$=0,y={keydown:0,input:0,render:0};function Q(){d(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),y.keydown=1,queueMicrotask(L)}De.onKeyDown=Q;function L(){y.keydown===1&&(performance.mark("keydown/end"),y.keydown=2)}function ne(){performance.mark("input/start"),y.input=1,U()}De.onBeforeInput=ne;function ee(){y.input===0&&ne(),queueMicrotask(H)}De.onInput=ee;function H(){y.input===1&&(performance.mark("input/end"),y.input=2)}function W(){d()}De.onKeyUp=W;function F(){d()}De.onSelectionChange=F;function V(){y.keydown===2&&y.input===2&&y.render===0&&(performance.mark("render/start"),y.render=1,queueMicrotask(N),U())}De.onRenderStart=V;function N(){y.render===1&&(performance.mark("render/end"),y.render=2)}function U(){setTimeout(d)}function d(){y.keydown===2&&y.input===2&&y.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),j("keydown",E),j("input",ve),j("render",re),j("inputlatency",J),$++,C())}function j(z,A){var ue=performance.getEntriesByName(z)[0].duration;A.total+=ue,A.min=Math.min(A.min,ue),A.max=Math.max(A.max,ue)}function C(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),y.keydown=0,y.input=0,y.render=0}function x(){if($!==0){var z={keydown:S(E),input:S(ve),render:S(re),total:S(J),sampleCount:$};return T(E),T(ve),T(re),T(J),$=0,z}}De.getAndClearMeasurements=x;function S(z){return{average:z.total/$,max:z.max,min:z.min}}function T(z){z.total=0,z.min=Number.MAX_VALUE,z.max=0}})(le||(le={}))},W9cx:function(fn,K,a){"use strict";a.d(K,"a",function(){return ve}),a.d(K,"c",function(){return re}),a.d(K,"d",function(){return J}),a.d(K,"b",function(){return $});var le=a("N0LK"),De=a("bY76"),E=a("Cg/j"),ve=Object(E.c)("openerService");function re(y,Q){return De.a.isUri(y)?Object(le.r)(y.scheme,Q):Object(le.T)(y,Q+":")}function J(y){for(var Q=arguments.length,L=new Array(Q>1?Q-1:0),ne=1;ne<Q;ne++)L[ne-1]=arguments[ne];return L.some(function(ee){return re(y,ee)})}function $(y){var Q=void 0,L=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(y.fragment);return L&&(Q={startLineNumber:parseInt(L[1]),startColumn:L[2]?parseInt(L[2]):1,endLineNumber:L[4]?parseInt(L[4]):void 0,endColumn:L[4]?L[5]?parseInt(L[5]):1:void 0},y=y.with({fragment:""})),{selection:Q,uri:y}}},WDji:function(fn,K,a){},WHLJ:function(fn,K,a){},WqXY:function(fn,K,a){"use strict";a.d(K,"a",function(){return U});var le=a("qLMh"),De=a("fWQN"),E=a("mtLc"),ve=a("w4Tj"),re=a("oZsa"),J=a("yKVA"),$=a("879j"),y=a("EffR"),Q=a("uDWl"),L=a("7/Ik"),ne=a("8HAY"),ee=a("MI8n"),H=a("pmY6"),W=a("746U"),F=a("yEoX"),V=a.n(F),N=function(d,j,C,x){function S(T){return T instanceof C?T:new C(function(z){z(T)})}return new(C||(C=Promise))(function(T,z){function A(de){try{be(x.next(de))}catch(ke){z(ke)}}function ue(de){try{be(x.throw(de))}catch(ke){z(ke)}}function be(de){de.done?T(de.value):S(de.value).then(A,ue)}be((x=x.apply(d,j||[])).next())})},U=function(d){Object(J.a)(C,d);var j=Object($.a)(C);function C(x){var S,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object(De.a)(this,C);var z,A,ue,be,de,ke;S=j.call(this),S._actionRunnerDisposables=S._register(new H.c),S.viewItemDisposables=S._register(new H.b),S.triggerKeyDown=!1,S.focusable=!0,S._onDidBlur=S._register(new ee.b),S.onDidBlur=S._onDidBlur.event,S._onDidCancel=S._register(new ee.b({onWillAddFirstListener:function(){return S.cancelHasListener=!0}})),S.onDidCancel=S._onDidCancel.event,S.cancelHasListener=!1,S._onDidRun=S._register(new ee.b),S.onDidRun=S._onDidRun.event,S._onWillRun=S._register(new ee.b),S.onWillRun=S._onWillRun.event,S.options=T,S._context=(z=T.context)!==null&&z!==void 0?z:null,S._orientation=(A=S.options.orientation)!==null&&A!==void 0?A:0,S._triggerKeys={keyDown:(be=(ue=S.options.triggerKeys)===null||ue===void 0?void 0:ue.keyDown)!==null&&be!==void 0?be:!1,keys:(ke=(de=S.options.triggerKeys)===null||de===void 0?void 0:de.keys)!==null&&ke!==void 0?ke:[3,10]},S.options.actionRunner?S._actionRunner=S.options.actionRunner:(S._actionRunner=new ne.b,S._actionRunnerDisposables.add(S._actionRunner)),S._actionRunnerDisposables.add(S._actionRunner.onDidRun(function(ce){return S._onDidRun.fire(ce)})),S._actionRunnerDisposables.add(S._actionRunner.onWillRun(function(ce){return S._onWillRun.fire(ce)})),S.viewItems=[],S.focusedItem=void 0,S.domNode=document.createElement("div"),S.domNode.className="monaco-action-bar",T.animated!==!1&&S.domNode.classList.add("animated");var he,ge;switch(S._orientation){case 0:he=[15],ge=[17];break;case 1:he=[16],ge=[18],S.domNode.className+=" vertical";break}return S._register(y.addDisposableListener(S.domNode,y.EventType.KEY_DOWN,function(ce){var k=new Q.a(ce),w=!0,B=typeof S.focusedItem=="number"?S.viewItems[S.focusedItem]:void 0;he&&(k.equals(he[0])||k.equals(he[1]))?w=S.focusPrevious():ge&&(k.equals(ge[0])||k.equals(ge[1]))?w=S.focusNext():k.equals(9)&&S.cancelHasListener?S._onDidCancel.fire():k.equals(14)?w=S.focusFirst():k.equals(13)?w=S.focusLast():k.equals(2)&&B instanceof L.b&&B.trapsArrowNavigation?w=S.focusNext():S.isTriggerKeyEvent(k)?S._triggerKeys.keyDown?S.doTrigger(k):S.triggerKeyDown=!0:w=!1,w&&(k.preventDefault(),k.stopPropagation())})),S._register(y.addDisposableListener(S.domNode,y.EventType.KEY_UP,function(ce){var k=new Q.a(ce);S.isTriggerKeyEvent(k)?(!S._triggerKeys.keyDown&&S.triggerKeyDown&&(S.triggerKeyDown=!1,S.doTrigger(k)),k.preventDefault(),k.stopPropagation()):(k.equals(2)||k.equals(1024|2))&&S.updateFocusedItem()})),S.focusTracker=S._register(y.trackFocus(S.domNode)),S._register(S.focusTracker.onDidBlur(function(){(y.getActiveElement()===S.domNode||!y.isAncestor(y.getActiveElement(),S.domNode))&&(S._onDidBlur.fire(),S.focusedItem=void 0,S.previouslyFocusedItem=void 0,S.triggerKeyDown=!1)})),S._register(S.focusTracker.onDidFocus(function(){return S.updateFocusedItem()})),S.actionsList=document.createElement("ul"),S.actionsList.className="actions-container",S.actionsList.setAttribute("role",S.options.ariaRole||"toolbar"),S.options.ariaLabel&&S.actionsList.setAttribute("aria-label",S.options.ariaLabel),S.domNode.appendChild(S.actionsList),x.appendChild(S.domNode),S}return Object(E.a)(C,[{key:"refreshRole",value:function(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}},{key:"setFocusable",value:function(S){if(this.focusable=S,this.focusable){var T=this.viewItems.find(function(z){return z instanceof L.b&&z.isEnabled()});T instanceof L.b&&T.setFocusable(!0)}else this.viewItems.forEach(function(z){z instanceof L.b&&z.setFocusable(!1)})}},{key:"isTriggerKeyEvent",value:function(S){var T=!1;return this._triggerKeys.keys.forEach(function(z){T=T||S.equals(z)}),T}},{key:"updateFocusedItem",value:function(){for(var S=0;S<this.actionsList.children.length;S++){var T=this.actionsList.children[S];if(y.isAncestor(y.getActiveElement(),T)){this.focusedItem=S;break}}}},{key:"context",get:function(){return this._context},set:function(S){this._context=S,this.viewItems.forEach(function(T){return T.setActionContext(S)})}},{key:"actionRunner",get:function(){return this._actionRunner},set:function(S){var T=this;this._actionRunner=S,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(function(z){return T._onDidRun.fire(z)})),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(function(z){return T._onWillRun.fire(z)})),this.viewItems.forEach(function(z){return z.actionRunner=S})}},{key:"getContainer",value:function(){return this.domNode}},{key:"getAction",value:function(S){var T;if(typeof S=="number")return(T=this.viewItems[S])===null||T===void 0?void 0:T.action;if(S instanceof HTMLElement){for(;S.parentElement!==this.actionsList;){if(!S.parentElement)return;S=S.parentElement}for(var z=0;z<this.actionsList.childNodes.length;z++)if(this.actionsList.childNodes[z]===S)return this.viewItems[z].action}}},{key:"push",value:function(S){var T=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=Array.isArray(S)?S:[S],ue=W.g(z.index)?z.index:null;A.forEach(function(be){var de=document.createElement("li");de.className="action-item",de.setAttribute("role","presentation");var ke,he=Object.assign({hoverDelegate:T.options.hoverDelegate},z);T.options.actionViewItemProvider&&(ke=T.options.actionViewItemProvider(be,he)),ke||(ke=new L.a(T.context,be,he)),T.options.allowContextMenu||T.viewItemDisposables.set(ke,y.addDisposableListener(de,y.EventType.CONTEXT_MENU,function(ge){y.EventHelper.stop(ge,!0)})),ke.actionRunner=T._actionRunner,ke.setActionContext(T.context),ke.render(de),T.focusable&&ke instanceof L.b&&T.viewItems.length===0&&ke.setFocusable(!0),ue===null||ue<0||ue>=T.actionsList.children.length?(T.actionsList.appendChild(de),T.viewItems.push(ke)):(T.actionsList.insertBefore(de,T.actionsList.children[ue]),T.viewItems.splice(ue,0,ke),ue++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}},{key:"clear",value:function(){this.isEmpty()||(this.viewItems=Object(H.i)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),y.clearNode(this.actionsList),this.refreshRole())}},{key:"length",value:function(){return this.viewItems.length}},{key:"isEmpty",value:function(){return this.viewItems.length===0}},{key:"focus",value:function(S){var T=!1,z=void 0;if(S===void 0?T=!0:typeof S=="number"?z=S:typeof S=="boolean"&&(T=S),T&&typeof this.focusedItem=="undefined"){var A=this.viewItems.findIndex(function(ue){return ue.isEnabled()});this.focusedItem=A===-1?void 0:A,this.updateFocus(void 0,void 0,!0)}else z!==void 0&&(this.focusedItem=z),this.updateFocus(void 0,void 0,!0)}},{key:"focusFirst",value:function(){return this.focusedItem=this.length()-1,this.focusNext(!0)}},{key:"focusLast",value:function(){return this.focusedItem=0,this.focusPrevious(!0)}},{key:"focusNext",value:function(S){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;var T=this.focusedItem,z;do{if(!S&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=T,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,z=this.viewItems[this.focusedItem]}while(this.focusedItem!==T&&(this.options.focusOnlyEnabledItems&&!z.isEnabled()||z.action.id===ne.d.ID));return this.updateFocus(),!0}},{key:"focusPrevious",value:function(S){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;var T=this.focusedItem,z;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!S&&this.options.preventLoopNavigation)return this.focusedItem=T,!1;this.focusedItem=this.viewItems.length-1}z=this.viewItems[this.focusedItem]}while(this.focusedItem!==T&&(this.options.focusOnlyEnabledItems&&!z.isEnabled()||z.action.id===ne.d.ID));return this.updateFocus(!0),!0}},{key:"updateFocus",value:function(S,T){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,A;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:T}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((A=this.viewItems[this.previouslyFocusedItem])===null||A===void 0||A.blur());var ue=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(ue){var be=!0;W.e(ue.focus)||(be=!1),this.options.focusOnlyEnabledItems&&W.e(ue.isEnabled)&&!ue.isEnabled()&&(be=!1),ue.action.id===ne.d.ID&&(be=!1),be?(z||this.previouslyFocusedItem!==this.focusedItem)&&(ue.focus(S),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:T}),this.previouslyFocusedItem=void 0)}}},{key:"doTrigger",value:function(S){if(typeof this.focusedItem!="undefined"){var T=this.viewItems[this.focusedItem];if(T instanceof L.b){var z=T._context===null||T._context===void 0?S:T._context;this.run(T._action,z)}}}},{key:"run",value:function(S,T){return N(this,void 0,void 0,Object(le.a)().mark(function z(){return Object(le.a)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,this._actionRunner.run(S,T);case 2:case"end":return ue.stop()}},z,this)}))}},{key:"dispose",value:function(){this._context=void 0,this.viewItems=Object(H.i)(this.viewItems),this.getContainer().remove(),Object(ve.a)(Object(re.a)(C.prototype),"dispose",this).call(this)}}]),C}(H.a)},"X+cX":function(fn,K,a){"use strict";a.d(K,"n",function(){return W}),a.d(K,"k",function(){return F}),a.d(K,"o",function(){return V}),a.d(K,"c",function(){return j}),a.d(K,"h",function(){return C}),a.d(K,"q",function(){return x}),a.d(K,"l",function(){return S}),a.d(K,"m",function(){return T}),a.d(K,"i",function(){return z}),a.d(K,"e",function(){return A}),a.d(K,"g",function(){return ue}),a.d(K,"p",function(){return be}),a.d(K,"d",function(){return de}),a.d(K,"b",function(){return ke}),a.d(K,"f",function(){return he}),a.d(K,"a",function(){return ge}),a.d(K,"j",function(){return k});var le=a("yKVA"),De=a("879j"),E=a("qLMh"),ve=a("fWQN"),re=a("mtLc"),J=a("JQT/"),$=a("/cxE"),y=a("MI8n"),Q=a("pmY6"),L=a("MNsG"),ne=a("3fZx"),ee=function(w,B,Y,pe){function me(I){return I instanceof Y?I:new Y(function(we){we(I)})}return new(Y||(Y=Promise))(function(I,we){function Re(Ne){try{Pe(pe.next(Ne))}catch(Ke){we(Ke)}}function Oe(Ne){try{Pe(pe.throw(Ne))}catch(Ke){we(Ke)}}function Pe(Ne){Ne.done?I(Ne.value):me(Ne.value).then(Re,Oe)}Pe((pe=pe.apply(w,B||[])).next())})},H=function(w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B=w[Symbol.asyncIterator],Y;return B?B.call(w):(w=typeof __values=="function"?__values(w):w[Symbol.iterator](),Y={},pe("next"),pe("throw"),pe("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function pe(I){Y[I]=w[I]&&function(we){return new Promise(function(Re,Oe){we=w[I](we),me(Re,Oe,we.done,we.value)})}}function me(I,we,Re,Oe){Promise.resolve(Oe).then(function(Pe){I({value:Pe,done:Re})},we)}};function W(w){return!!w&&typeof w.then=="function"}function F(w){var B=new J.b,Y=w(B.token),pe=new Promise(function(me,I){var we=B.token.onCancellationRequested(function(){we.dispose(),B.dispose(),I(new $.b)});Promise.resolve(Y).then(function(Re){we.dispose(),B.dispose(),me(Re)},function(Re){we.dispose(),B.dispose(),I(Re)})});return new(function(){function me(){Object(ve.a)(this,me)}return Object(re.a)(me,[{key:"cancel",value:function(){B.cancel()}},{key:"then",value:function(we,Re){return pe.then(we,Re)}},{key:"catch",value:function(we){return this.then(void 0,we)}},{key:"finally",value:function(we){return pe.finally(we)}}]),me}())}function V(w,B,Y){return new Promise(function(pe,me){var I=B.onCancellationRequested(function(){I.dispose(),pe(Y)});w.then(pe,me).finally(function(){return I.dispose()})})}var N=function(){function w(){Object(ve.a)(this,w),this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return Object(re.a)(w,[{key:"queue",value:function(Y){var pe=this;if(this.activePromise){if(this.queuedPromiseFactory=Y,!this.queuedPromise){var me=function(){pe.queuedPromise=null;var we=pe.queue(pe.queuedPromiseFactory);return pe.queuedPromiseFactory=null,we};this.queuedPromise=new Promise(function(I){pe.activePromise.then(me,me).then(I)})}return new Promise(function(I,we){pe.queuedPromise.then(I,we)})}return this.activePromise=Y(),new Promise(function(I,we){pe.activePromise.then(function(Re){pe.activePromise=null,I(Re)},function(Re){pe.activePromise=null,we(Re)})})}}]),w}(),U=function(B,Y){var pe=!0,me=setTimeout(function(){pe=!1,Y()},B);return{isTriggered:function(){return pe},dispose:function(){clearTimeout(me),pe=!1}}},d=function(B){var Y=!0;return queueMicrotask(function(){Y&&(Y=!1,B())}),{isTriggered:function(){return Y},dispose:function(){Y=!1}}},j=function(){function w(B){Object(ve.a)(this,w),this.defaultDelay=B,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}return Object(re.a)(w,[{key:"trigger",value:function(Y){var pe=this,me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.defaultDelay;this.task=Y,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(function(we,Re){pe.doResolve=we,pe.doReject=Re}).then(function(){if(pe.completionPromise=null,pe.doResolve=null,pe.task){var we=pe.task;return pe.task=null,we()}}));var I=function(){var Re;pe.deferred=null,(Re=pe.doResolve)===null||Re===void 0||Re.call(pe,null)};return this.deferred=me===ne.a?d(I):U(me,I),this.completionPromise}},{key:"isTriggered",value:function(){var Y;return!!((Y=this.deferred)===null||Y===void 0?void 0:Y.isTriggered())}},{key:"cancel",value:function(){var Y;this.cancelTimeout(),this.completionPromise&&((Y=this.doReject)===null||Y===void 0||Y.call(this,new $.b),this.completionPromise=null)}},{key:"cancelTimeout",value:function(){var Y;(Y=this.deferred)===null||Y===void 0||Y.dispose(),this.deferred=null}},{key:"dispose",value:function(){this.cancel()}}]),w}(),C=function(){function w(B){Object(ve.a)(this,w),this.delayer=new j(B),this.throttler=new N}return Object(re.a)(w,[{key:"trigger",value:function(Y,pe){var me=this;return this.delayer.trigger(function(){return me.throttler.queue(Y)},pe)}},{key:"cancel",value:function(){this.delayer.cancel()}},{key:"dispose",value:function(){this.delayer.dispose()}}]),w}();function x(w,B){return B?new Promise(function(Y,pe){var me=setTimeout(function(){I.dispose(),Y()},w),I=B.onCancellationRequested(function(){clearTimeout(me),I.dispose(),pe(new $.b)})}):F(function(Y){return x(w,Y)})}function S(w){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=setTimeout(w,B);return Object(Q.l)(function(){return clearTimeout(Y)})}function T(w){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(we){return!!we},Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,pe=0,me=w.length,I=function we(){if(pe>=me)return Promise.resolve(Y);var Re=w[pe++],Oe=Promise.resolve(Re());return Oe.then(function(Pe){return B(Pe)?Promise.resolve(Pe):we()})};return I()}var z=function(){function w(B,Y){Object(ve.a)(this,w),this._token=-1,typeof B=="function"&&typeof Y=="number"&&this.setIfNotSet(B,Y)}return Object(re.a)(w,[{key:"dispose",value:function(){this.cancel()}},{key:"cancel",value:function(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}},{key:"cancelAndSet",value:function(Y,pe){var me=this;this.cancel(),this._token=setTimeout(function(){me._token=-1,Y()},pe)}},{key:"setIfNotSet",value:function(Y,pe){var me=this;this._token===-1&&(this._token=setTimeout(function(){me._token=-1,Y()},pe))}}]),w}(),A=function(){function w(){Object(ve.a)(this,w),this._token=-1}return Object(re.a)(w,[{key:"dispose",value:function(){this.cancel()}},{key:"cancel",value:function(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}},{key:"cancelAndSet",value:function(Y,pe){this.cancel(),this._token=setInterval(function(){Y()},pe)}}]),w}(),ue=function(){function w(B,Y){Object(ve.a)(this,w),this.timeoutToken=-1,this.runner=B,this.timeout=Y,this.timeoutHandler=this.onTimeout.bind(this)}return Object(re.a)(w,[{key:"dispose",value:function(){this.cancel(),this.runner=null}},{key:"cancel",value:function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}},{key:"schedule",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.timeout;this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,Y)}},{key:"delay",get:function(){return this.timeout},set:function(Y){this.timeout=Y}},{key:"isScheduled",value:function(){return this.timeoutToken!==-1}},{key:"onTimeout",value:function(){this.timeoutToken=-1,this.runner&&this.doRun()}},{key:"doRun",value:function(){var Y;(Y=this.runner)===null||Y===void 0||Y.call(this)}}]),w}(),be;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?be=function(B){Object(L.q)(function(){if(!Y){var pe=Date.now()+15;B(Object.freeze({didTimeout:!0,timeRemaining:function(){return Math.max(0,pe-Date.now())}}))}});var Y=!1;return{dispose:function(){Y||(Y=!0)}}}:be=function(B,Y){var pe=requestIdleCallback(B,typeof Y=="number"?{timeout:Y}:void 0),me=!1;return{dispose:function(){me||(me=!0,cancelIdleCallback(pe))}}}})();var de=function(){function w(B){var Y=this;Object(ve.a)(this,w),this._didRun=!1,this._executor=function(){try{Y._value=B()}catch(pe){Y._error=pe}finally{Y._didRun=!0}},this._handle=be(function(){return Y._executor()})}return Object(re.a)(w,[{key:"dispose",value:function(){this._handle.dispose()}},{key:"value",get:function(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}},{key:"isInitialized",get:function(){return this._didRun}}]),w}(),ke=function(){function w(){var B=this;Object(ve.a)(this,w),this.p=new Promise(function(Y,pe){B.completeCallback=Y,B.errorCallback=pe})}return Object(re.a)(w,[{key:"isRejected",get:function(){var Y;return((Y=this.outcome)===null||Y===void 0?void 0:Y.outcome)===1}},{key:"isSettled",get:function(){return!!this.outcome}},{key:"complete",value:function(Y){var pe=this;return new Promise(function(me){pe.completeCallback(Y),pe.outcome={outcome:0,value:Y},me()})}},{key:"error",value:function(Y){var pe=this;return new Promise(function(me){pe.errorCallback(Y),pe.outcome={outcome:1,value:Y},me()})}},{key:"cancel",value:function(){return this.error(new $.b)}}]),w}(),he;(function(w){function B(pe){return ee(this,void 0,void 0,Object(E.a)().mark(function me(){var I,we;return Object(E.a)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return I=void 0,Oe.next=3,Promise.all(pe.map(function(Pe){return Pe.then(function(Ne){return Ne},function(Ne){I||(I=Ne)})}));case 3:if(we=Oe.sent,typeof I=="undefined"){Oe.next=6;break}throw I;case 6:return Oe.abrupt("return",we);case 7:case"end":return Oe.stop()}},me)}))}w.settled=B;function Y(pe){var me=this;return new Promise(function(I,we){return ee(me,void 0,void 0,Object(E.a)().mark(function Re(){return Object(E.a)().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.prev=0,Pe.next=3,pe(I,we);case 3:Pe.next=8;break;case 5:Pe.prev=5,Pe.t0=Pe.catch(0),we(Pe.t0);case 8:case"end":return Pe.stop()}},Re,null,[[0,5]])}))})}w.withAsyncBody=Y})(he||(he={}));var ge=function(w){function B(Y){var pe=this;Object(ve.a)(this,B),this._state=0,this._results=[],this._error=null,this._onStateChanged=new y.b,queueMicrotask(function(){return ee(pe,void 0,void 0,Object(E.a)().mark(function me(){var I=this,we;return Object(E.a)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return we={emitOne:function(Ne){return I.emitOne(Ne)},emitMany:function(Ne){return I.emitMany(Ne)},reject:function(Ne){return I.reject(Ne)}},Oe.prev=1,Oe.next=4,Promise.resolve(Y(we));case 4:this.resolve(),Oe.next=10;break;case 7:Oe.prev=7,Oe.t0=Oe.catch(1),this.reject(Oe.t0);case 10:return Oe.prev=10,we.emitOne=void 0,we.emitMany=void 0,we.reject=void 0,Oe.finish(10);case 15:case"end":return Oe.stop()}},me,this,[[1,7,10,15]])}))})}return Object(re.a)(B,[{key:w,value:function(){var pe=this,me=0;return{next:function(){return ee(pe,void 0,void 0,Object(E.a)().mark(function we(){return Object(E.a)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(this._state!==2){Oe.next=2;break}throw this._error;case 2:if(!(me<this._results.length)){Oe.next=4;break}return Oe.abrupt("return",{done:!1,value:this._results[me++]});case 4:if(this._state!==1){Oe.next=6;break}return Oe.abrupt("return",{done:!0,value:void 0});case 6:return Oe.next=8,y.c.toPromise(this._onStateChanged.event);case 8:Oe.next=0;break;case 9:case"end":return Oe.stop()}},we,this)}))}}}},{key:"map",value:function(pe){return B.map(this,pe)}},{key:"filter",value:function(pe){return B.filter(this,pe)}},{key:"coalesce",value:function(){return B.coalesce(this)}},{key:"toPromise",value:function(){return B.toPromise(this)}},{key:"emitOne",value:function(pe){this._state===0&&(this._results.push(pe),this._onStateChanged.fire())}},{key:"emitMany",value:function(pe){this._state===0&&(this._results=this._results.concat(pe),this._onStateChanged.fire())}},{key:"resolve",value:function(){this._state===0&&(this._state=1,this._onStateChanged.fire())}},{key:"reject",value:function(pe){this._state===0&&(this._state=2,this._error=pe,this._onStateChanged.fire())}}],[{key:"fromArray",value:function(pe){return new B(function(me){me.emitMany(pe)})}},{key:"fromPromise",value:function(pe){var me=this;return new B(function(I){return ee(me,void 0,void 0,Object(E.a)().mark(function we(){return Object(E.a)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return Oe.t0=I,Oe.next=3,pe;case 3:Oe.t1=Oe.sent,Oe.t0.emitMany.call(Oe.t0,Oe.t1);case 5:case"end":return Oe.stop()}},we)}))})}},{key:"fromPromises",value:function(pe){var me=this;return new B(function(I){return ee(me,void 0,void 0,Object(E.a)().mark(function we(){var Re=this;return Object(E.a)().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,Promise.all(pe.map(function(Ne){return ee(Re,void 0,void 0,Object(E.a)().mark(function Ke(){return Object(E.a)().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return wt.t0=I,wt.next=3,Ne;case 3:return wt.t1=wt.sent,wt.abrupt("return",wt.t0.emitOne.call(wt.t0,wt.t1));case 5:case"end":return wt.stop()}},Ke)}))}));case 2:case"end":return Pe.stop()}},we)}))})}},{key:"merge",value:function(pe){var me=this;return new B(function(I){return ee(me,void 0,void 0,Object(E.a)().mark(function we(){var Re=this;return Object(E.a)().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,Promise.all(pe.map(function(Ne){var Ke,Xe,wt;return ee(Re,void 0,void 0,Object(E.a)().mark(function Ct(){var bt,mt,jt,Je,Wt;return Object(E.a)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:fe.prev=0,Ke=!0,Xe=H(Ne);case 2:return fe.next=4,Xe.next();case 4:if(wt=fe.sent,bt=wt.done,bt){fe.next=14;break}Je=wt.value,Ke=!1,Wt=Je,I.emitOne(Wt);case 11:Ke=!0,fe.next=2;break;case 14:fe.next=19;break;case 16:fe.prev=16,fe.t0=fe.catch(0),mt={error:fe.t0};case 19:if(fe.prev=19,fe.prev=20,!(!Ke&&!bt&&(jt=Xe.return))){fe.next=24;break}return fe.next=24,jt.call(Xe);case 24:if(fe.prev=24,!mt){fe.next=27;break}throw mt.error;case 27:return fe.finish(24);case 28:return fe.finish(19);case 29:case"end":return fe.stop()}},Ct,null,[[0,16,19,29],[20,,24,28]])}))}));case 2:case"end":return Pe.stop()}},we)}))})}},{key:"map",value:function(pe,me){var I=this;return new B(function(we){return ee(I,void 0,void 0,Object(E.a)().mark(function Re(){var Oe,Pe,Ne,Ke,Xe,wt,Ct,bt;return Object(E.a)().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:jt.prev=0,Xe=!0,wt=H(pe);case 2:return jt.next=4,wt.next();case 4:if(Ct=jt.sent,Oe=Ct.done,Oe){jt.next=14;break}Ke=Ct.value,Xe=!1,bt=Ke,we.emitOne(me(bt));case 11:Xe=!0,jt.next=2;break;case 14:jt.next=19;break;case 16:jt.prev=16,jt.t0=jt.catch(0),Pe={error:jt.t0};case 19:if(jt.prev=19,jt.prev=20,!(!Xe&&!Oe&&(Ne=wt.return))){jt.next=24;break}return jt.next=24,Ne.call(wt);case 24:if(jt.prev=24,!Pe){jt.next=27;break}throw Pe.error;case 27:return jt.finish(24);case 28:return jt.finish(19);case 29:case"end":return jt.stop()}},Re,null,[[0,16,19,29],[20,,24,28]])}))})}},{key:"filter",value:function(pe,me){var I=this;return new B(function(we){return ee(I,void 0,void 0,Object(E.a)().mark(function Re(){var Oe,Pe,Ne,Ke,Xe,wt,Ct,bt;return Object(E.a)().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:jt.prev=0,Xe=!0,wt=H(pe);case 2:return jt.next=4,wt.next();case 4:if(Ct=jt.sent,Oe=Ct.done,Oe){jt.next=14;break}Ke=Ct.value,Xe=!1,bt=Ke,me(bt)&&we.emitOne(bt);case 11:Xe=!0,jt.next=2;break;case 14:jt.next=19;break;case 16:jt.prev=16,jt.t0=jt.catch(0),Pe={error:jt.t0};case 19:if(jt.prev=19,jt.prev=20,!(!Xe&&!Oe&&(Ne=wt.return))){jt.next=24;break}return jt.next=24,Ne.call(wt);case 24:if(jt.prev=24,!Pe){jt.next=27;break}throw Pe.error;case 27:return jt.finish(24);case 28:return jt.finish(19);case 29:case"end":return jt.stop()}},Re,null,[[0,16,19,29],[20,,24,28]])}))})}},{key:"coalesce",value:function(pe){return B.filter(pe,function(me){return!!me})}},{key:"toPromise",value:function(pe){var me,I,we,Re,Oe,Pe,Ne;return ee(this,void 0,void 0,Object(E.a)().mark(function Ke(){var Xe,wt;return Object(E.a)().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:Xe=[],bt.prev=1,me=!0,I=H(pe);case 3:return bt.next=5,I.next();case 5:if(we=bt.sent,Re=we.done,Re){bt.next=15;break}Ne=we.value,me=!1,wt=Ne,Xe.push(wt);case 12:me=!0,bt.next=3;break;case 15:bt.next=20;break;case 17:bt.prev=17,bt.t0=bt.catch(1),Oe={error:bt.t0};case 20:if(bt.prev=20,bt.prev=21,!(!me&&!Re&&(Pe=I.return))){bt.next=25;break}return bt.next=25,Pe.call(I);case 25:if(bt.prev=25,!Oe){bt.next=28;break}throw Oe.error;case 28:return bt.finish(25);case 29:return bt.finish(20);case 30:return bt.abrupt("return",Xe);case 31:case"end":return bt.stop()}},Ke,null,[[1,17,20,30],[21,,25,29]])}))}}]),B}(Symbol.asyncIterator);ge.EMPTY=ge.fromArray([]);var ce=function(w){Object(le.a)(Y,w);var B=Object(De.a)(Y);function Y(pe,me){var I;return Object(ve.a)(this,Y),I=B.call(this,me),I._source=pe,I}return Object(re.a)(Y,[{key:"cancel",value:function(){this._source.cancel()}}]),Y}(ge);function k(w){var B=this,Y=new J.b,pe=w(Y.token);return new ce(Y,function(me){return ee(B,void 0,void 0,Object(E.a)().mark(function I(){var we,Re,Oe,Pe,Ne,Ke,Xe,wt,Ct;return Object(E.a)().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:Ne=Y.token.onCancellationRequested(function(){Ne.dispose(),Y.dispose(),me.reject(new $.b)}),mt.prev=1,mt.prev=2,Ke=!0,Xe=H(pe);case 4:return mt.next=6,Xe.next();case 6:if(wt=mt.sent,we=wt.done,we){mt.next=18;break}if(Pe=wt.value,Ke=!1,Ct=Pe,!Y.token.isCancellationRequested){mt.next=14;break}return mt.abrupt("return");case 14:me.emitOne(Ct);case 15:Ke=!0,mt.next=4;break;case 18:mt.next=23;break;case 20:mt.prev=20,mt.t0=mt.catch(2),Re={error:mt.t0};case 23:if(mt.prev=23,mt.prev=24,!(!Ke&&!we&&(Oe=Xe.return))){mt.next=28;break}return mt.next=28,Oe.call(Xe);case 28:if(mt.prev=28,!Re){mt.next=31;break}throw Re.error;case 31:return mt.finish(28);case 32:return mt.finish(23);case 33:Ne.dispose(),Y.dispose(),mt.next=42;break;case 37:mt.prev=37,mt.t1=mt.catch(1),Ne.dispose(),Y.dispose(),me.reject(mt.t1);case 42:case"end":return mt.stop()}},I,null,[[1,37],[2,20,23,33],[24,,28,32]])}))})}},XQL4:function(fn,K,a){},XSiN:function(fn,K,a){"use strict";a.d(K,"a",function(){return L}),a.d(K,"b",function(){return ne});var le=a("fWQN"),De=a("mtLc"),E=a("D3Dy"),ve=a("rAM+"),re=!1,J=null;function $(ee){if(!ee.parent||ee.parent===ee)return null;try{var H=ee.location,W=ee.parent.location;if(H.origin!=="null"&&W.origin!=="null"&&H.origin!==W.origin)return re=!0,null}catch(F){return re=!0,null}return ee.parent}var y=function(){function ee(){Object(le.a)(this,ee)}return Object(De.a)(ee,null,[{key:"getSameOriginWindowChain",value:function(){if(!J){J=[];var W=window,F;do F=$(W),F?J.push({window:W,iframeElement:W.frameElement||null}):J.push({window:W,iframeElement:null}),W=F;while(W)}return J.slice(0)}},{key:"getPositionOfChildWindowRelativeToAncestorWindow",value:function(W,F){if(!F||W===F)return{top:0,left:0};var V=0,N=0,U=this.getSameOriginWindowChain(),d=Object(ve.a)(U),j;try{for(d.s();!(j=d.n()).done;){var C=j.value;if(V+=C.window.scrollY,N+=C.window.scrollX,C.window===F||!C.iframeElement)break;var x=C.iframeElement.getBoundingClientRect();V+=x.top,N+=x.left}}catch(S){d.e(S)}finally{d.f()}return{top:V,left:N}}}]),ee}(),Q=a("MNsG"),L=function(){function ee(H){Object(le.a)(this,ee),this.timestamp=Date.now(),this.browserEvent=H,this.leftButton=H.button===0,this.middleButton=H.button===1,this.rightButton=H.button===2,this.buttons=H.buttons,this.target=H.target,this.detail=H.detail||1,H.type==="dblclick"&&(this.detail=2),this.ctrlKey=H.ctrlKey,this.shiftKey=H.shiftKey,this.altKey=H.altKey,this.metaKey=H.metaKey,typeof H.pageX=="number"?(this.posx=H.pageX,this.posy=H.pageY):(this.posx=H.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=H.clientY+document.body.scrollTop+document.documentElement.scrollTop);var W=y.getPositionOfChildWindowRelativeToAncestorWindow(window,H.view);this.posx-=W.left,this.posy-=W.top}return Object(De.a)(ee,[{key:"preventDefault",value:function(){this.browserEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.browserEvent.stopPropagation()}}]),ee}(),ne=function(){function ee(H){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(Object(le.a)(this,ee),this.browserEvent=H||null,this.target=H?H.target||H.targetNode||H.srcElement:null,this.deltaY=F,this.deltaX=W,H){var V=H,N=H;if(typeof V.wheelDeltaY!="undefined")this.deltaY=V.wheelDeltaY/120;else if(typeof N.VERTICAL_AXIS!="undefined"&&N.axis===N.VERTICAL_AXIS)this.deltaY=-N.detail/3;else if(H.type==="wheel"){var U=H;U.deltaMode===U.DOM_DELTA_LINE?E.isFirefox&&!Q.i?this.deltaY=-H.deltaY/3:this.deltaY=-H.deltaY:this.deltaY=-H.deltaY/40}if(typeof V.wheelDeltaX!="undefined")E.isSafari&&Q.o?this.deltaX=-(V.wheelDeltaX/120):this.deltaX=V.wheelDeltaX/120;else if(typeof N.HORIZONTAL_AXIS!="undefined"&&N.axis===N.HORIZONTAL_AXIS)this.deltaX=-H.detail/3;else if(H.type==="wheel"){var d=H;d.deltaMode===d.DOM_DELTA_LINE?E.isFirefox&&!Q.i?this.deltaX=-H.deltaX/3:this.deltaX=-H.deltaX:this.deltaX=-H.deltaX/40}this.deltaY===0&&this.deltaX===0&&H.wheelDelta&&(this.deltaY=H.wheelDelta/120)}}return Object(De.a)(ee,[{key:"preventDefault",value:function(){var W;(W=this.browserEvent)===null||W===void 0||W.preventDefault()}},{key:"stopPropagation",value:function(){var W;(W=this.browserEvent)===null||W===void 0||W.stopPropagation()}}]),ee}()},XXBq:function(fn,K,a){},XXUj:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("telemetryService")},"Y+p1":function(fn,K,a){var le=a("wF/u");function De(E,ve){return le(E,ve)}fn.exports=De},Y79o:function(fn,K,a){},YI90:function(fn,K,a){},YNuV:function(fn,K,a){"use strict";a.d(K,"h",function(){return re}),a.d(K,"b",function(){return J}),a.d(K,"e",function(){return $}),a.d(K,"f",function(){return y}),a.d(K,"a",function(){return Q}),a.d(K,"d",function(){return L}),a.d(K,"g",function(){return ne}),a.d(K,"c",function(){return ee});var le=a("mtLc"),De=a("fWQN"),E=a("N0LK"),ve=a("aokT"),re=Object(le.a)(function H(W,F,V,N){Object(De.a)(this,H),this._viewportBrand=void 0,this.top=W|0,this.left=F|0,this.width=V|0,this.height=N|0}),J=Object(le.a)(function H(W,F){Object(De.a)(this,H),this.tabSize=W,this.data=F}),$=Object(le.a)(function H(W,F,V,N,U,d,j){Object(De.a)(this,H),this._viewLineDataBrand=void 0,this.content=W,this.continuesWithWrappedLine=F,this.minColumn=V,this.maxColumn=N,this.startVisibleColumn=U,this.tokens=d,this.inlineDecorations=j}),y=function(){function H(W,F,V,N,U,d,j,C,x,S){Object(De.a)(this,H),this.minColumn=W,this.maxColumn=F,this.content=V,this.continuesWithWrappedLine=N,this.isBasicASCII=H.isBasicASCII(V,d),this.containsRTL=H.containsRTL(V,this.isBasicASCII,U),this.tokens=j,this.inlineDecorations=C,this.tabSize=x,this.startVisibleColumn=S}return Object(le.a)(H,null,[{key:"isBasicASCII",value:function(F,V){return V?E.B(F):!0}},{key:"containsRTL",value:function(F,V,N){return!V&&N?E.m(F):!1}}]),H}(),Q=Object(le.a)(function H(W,F,V){Object(De.a)(this,H),this.range=W,this.inlineClassName=F,this.type=V}),L=function(){function H(W,F,V,N){Object(De.a)(this,H),this.startOffset=W,this.endOffset=F,this.inlineClassName=V,this.inlineClassNameAffectsLetterSpacing=N}return Object(le.a)(H,[{key:"toInlineDecoration",value:function(F){return new Q(new ve.a(F,this.startOffset+1,F,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}]),H}(),ne=Object(le.a)(function H(W,F){Object(De.a)(this,H),this._viewModelDecorationBrand=void 0,this.range=W,this.options=F}),ee=function(){function H(W,F,V){Object(De.a)(this,H),this.color=W,this.zIndex=F,this.data=V}return Object(le.a)(H,null,[{key:"cmp",value:function(F,V){return F.zIndex===V.zIndex?F.color<V.color?-1:F.color>V.color?1:0:F.zIndex-V.zIndex}}]),H}()},YRwz:function(fn,K,a){},YWTS:function(fn,K,a){"use strict";a.d(K,"a",function(){return ve});var le=a("U8pU"),De=a("q1tI"),E=a.n(De);function ve(re,J,$){var y=De.useRef({});function Q(L){if(!y.current||y.current.data!==re||y.current.childrenColumnName!==J||y.current.getRowKey!==$){var ne=function H(W){W.forEach(function(F,V){var N=$(F,V);ee.set(N,F),F&&Object(le.a)(F)==="object"&&J in F&&H(F[J]||[])})},ee=new Map;ne(re),y.current={data:re,childrenColumnName:J,kvMap:ee,getRowKey:$}}return y.current.kvMap.get(L)}return[Q]}},YftQ:function(fn,K,a){},Yr1X:function(fn,K,a){"use strict";a.d(K,"a",function(){return ve});var le=a("fWQN"),De=a("mtLc"),E=a("MI8n"),ve=new(function(){function re(){Object(le.a)(this,re),this._zoomLevel=0,this._onDidChangeZoomLevel=new E.b,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return Object(De.a)(re,[{key:"getZoomLevel",value:function(){return this._zoomLevel}},{key:"setZoomLevel",value:function($){$=Math.min(Math.max(-5,$),20),this._zoomLevel!==$&&(this._zoomLevel=$,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}]),re}())},Z1pP:function(fn,K,a){},ZCR3:function(fn,K,a){"use strict";a.d(K,"a",function(){return le});function le(De,E,ve){var re=null,J=null;if(typeof ve.value=="function"?(re="value",J=ve.value,J.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof ve.get=="function"&&(re="get",J=ve.get),!J)throw new Error("not supported");var $="$memoize$".concat(E);ve[re]=function(){if(!this.hasOwnProperty($)){for(var y=arguments.length,Q=new Array(y),L=0;L<y;L++)Q[L]=arguments[L];Object.defineProperty(this,$,{configurable:!1,enumerable:!1,writable:!1,value:J.apply(this,Q)})}return this[$]}}},ZKkB:function(fn,K,a){"use strict";a.d(K,"a",function(){return J});var le=a("oZsa"),De=a("iZzK");function E($){return Function.toString.call($).indexOf("[native code]")!==-1}var ve=a("cHpt");function re($,y,Q){return Object(ve.a)()?re=Reflect.construct.bind():re=function(ne,ee,H){var W=[null];W.push.apply(W,ee);var F=Function.bind.apply(ne,W),V=new F;return H&&Object(De.a)(V,H.prototype),V},re.apply(null,arguments)}function J($){var y=typeof Map=="function"?new Map:void 0;return J=function(L){if(L===null||!E(L))return L;if(typeof L!="function")throw new TypeError("Super expression must either be null or a function");if(typeof y!="undefined"){if(y.has(L))return y.get(L);y.set(L,ne)}function ne(){return re(L,arguments,Object(le.a)(this).constructor)}return ne.prototype=Object.create(L.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),Object(De.a)(ne,L)},J($)}},ZQ78:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("ubTv"),De={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:le.a.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}},ZQYC:function(fn,K,a){"use strict";a.d(K,"a",function(){return re});var le=a("tJVT"),De=a("fWQN"),E=a("mtLc"),ve=a("JLfW"),re=function(){function J(){Object(De.a)(this,J)}return Object(E.a)(J,null,[{key:"whitespaceVisibleColumn",value:function(y,Q,L){for(var ne=y.length,ee=0,H=-1,W=-1,F=0;F<ne;F++){if(F===Q)return[H,W,ee];ee%L==0&&(H=F,W=ee);var V=y.charCodeAt(F);switch(V){case 32:ee+=1;break;case 9:ee=ve.a.nextRenderTabStop(ee,L);break;default:return[-1,-1,-1]}}return Q===ne?[H,W,ee]:[-1,-1,-1]}},{key:"atomicPosition",value:function(y,Q,L,ne){var ee=y.length,H=J.whitespaceVisibleColumn(y,Q,L),W=Object(le.a)(H,3),F=W[0],V=W[1],N=W[2];if(N===-1)return-1;var U;switch(ne){case 0:U=!0;break;case 1:U=!1;break;case 2:if(N%L==0)return Q;U=N%L<=L/2;break}if(U){if(F===-1)return-1;for(var d=V,j=F;j<ee;++j){if(d===V+L)return F;var C=y.charCodeAt(j);switch(C){case 32:d+=1;break;case 9:d=ve.a.nextRenderTabStop(d,L);break;default:return-1}}return d===V+L?F:-1}for(var x=ve.a.nextRenderTabStop(N,L),S=N,T=Q;T<ee;T++){if(S===x)return T;var z=y.charCodeAt(T);switch(z){case 32:S+=1;break;case 9:S=ve.a.nextRenderTabStop(S,L);break;default:return-1}}return S===x?ee:-1}}]),J}()},ZdAd:function(fn,K,a){"use strict";a.d(K,"a",function(){return $}),a.d(K,"c",function(){return N}),a.d(K,"b",function(){return U});var le=a("rAM+"),De=a("/UlZ"),E=a("vX7u"),ve=a("3/fG"),re=a("CRAX"),J=a("ic2d"),$=Object.freeze({id:"editor",order:5,type:"object",title:ve.b("editorConfigurationTitle","Editor"),scope:5}),y=Object.assign(Object.assign({},$),{properties:{"editor.tabSize":{type:"number",default:E.a.tabSize,minimum:1,markdownDescription:ve.b("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:ve.b("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:E.a.insertSpaces,markdownDescription:ve.b("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:E.a.detectIndentation,markdownDescription:ve.b("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:E.a.trimAutoWhitespace,description:ve.b("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:E.a.largeFileOptimizations,description:ve.b("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:ve.b("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[ve.b("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),ve.b("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),ve.b("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:ve.b("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[ve.b("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),ve.b("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),ve.b("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:ve.b("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:ve.b("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:ve.b("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:ve.b("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:ve.b("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:ve.b("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only.")},"editor.language.brackets":{type:["array","null"],default:null,description:ve.b("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:ve.b("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:ve.b("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:ve.b("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:ve.b("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:ve.b("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:ve.b("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:ve.b("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:ve.b("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:ve.b("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:ve.b("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:ve.b("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:ve.b("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[ve.b("wordWrap.off","Lines will never wrap."),ve.b("wordWrap.on","Lines will wrap at the viewport width."),ve.b("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:"legacy",markdownEnumDescriptions:[ve.b("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),ve.b("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.experimental.collapseUnchangedRegions":{type:"boolean",default:!1,description:ve.b("collapseUnchangedRegions","Controls whether the diff editor shows unchanged regions. Only works when 'diffEditor.experimental.useVersion2' is set.")},"diffEditor.experimental.useVersion2":{type:"boolean",default:!1,description:ve.b("useVersion2","Controls whether the diff editor uses the new or the old implementation.")}}});function Q(j){return typeof j.type!="undefined"||typeof j.anyOf!="undefined"}var L=Object(le.a)(De.n),ne;try{for(L.s();!(ne=L.n()).done;){var ee=ne.value,H=ee.schema;if(typeof H!="undefined")if(Q(H))y.properties["editor.".concat(ee.name)]=H;else for(var W in H)Object.hasOwnProperty.call(H,W)&&(y.properties[W]=H[W])}}catch(j){L.e(j)}finally{L.f()}var F=null;function V(){return F===null&&(F=Object.create(null),Object.keys(y.properties).forEach(function(j){F[j]=!0})),F}function N(j){var C=V();return C["editor.".concat(j)]||!1}function U(j){var C=V();return C["diffEditor.".concat(j)]||!1}var d=J.a.as(re.a.Configuration);d.registerConfiguration(y)},ZfpI:function(fn,K,a){"use strict";var le=a("KQm4"),De=a("x+uP"),E=a("HaE+"),ve=a("GNNt"),re=a("wEI+"),J=a("EFp3"),$=a("jhiw"),y=a("rePB"),Q=a("ODXe"),L=a("U8pU"),ne=a("TSYQ"),ee=a.n(ne),H=a("Zm9Q"),W=a("q1tI"),F=a.n(W),V=a("H84U"),N=a("0n0R"),U=a("ACnJ"),d=function(Bn){var tt=Bn.children;return tt},j=d,C=a("wx14");function x(_i){return _i!=null}var S=function(Bn){var tt=Bn.itemPrefixCls,Lt=Bn.component,xi=Bn.span,Qi=Bn.className,mr=Bn.style,pr=Bn.labelStyle,St=Bn.contentStyle,Gi=Bn.bordered,an=Bn.label,Qe=Bn.content,Jn=Bn.colon,ii=Lt;if(Gi){var Li;return W.createElement(ii,{className:ee()((Li={},Object(y.a)(Li,"".concat(tt,"-item-label"),x(an)),Object(y.a)(Li,"".concat(tt,"-item-content"),x(Qe)),Li),Qi),style:mr,colSpan:xi},x(an)&&W.createElement("span",{style:pr},an),x(Qe)&&W.createElement("span",{style:St},Qe))}return W.createElement(ii,{className:ee()("".concat(tt,"-item"),Qi),style:mr,colSpan:xi},W.createElement("div",{className:"".concat(tt,"-item-container")},(an||an===0)&&W.createElement("span",{className:ee()("".concat(tt,"-item-label"),Object(y.a)({},"".concat(tt,"-item-no-colon"),!Jn)),style:pr},an),(Qe||Qe===0)&&W.createElement("span",{className:ee()("".concat(tt,"-item-content")),style:St},Qe)))},T=S;function z(_i,Bn,tt){var Lt=Bn.colon,xi=Bn.prefixCls,Qi=Bn.bordered,mr=tt.component,pr=tt.type,St=tt.showLabel,Gi=tt.showContent,an=tt.labelStyle,Qe=tt.contentStyle;return _i.map(function(Jn,ii){var Li=Jn.props,Fn=Li.label,jn=Li.children,Nt=Li.prefixCls,Gt=Nt===void 0?xi:Nt,Et=Li.className,Rt=Li.style,dn=Li.labelStyle,et=Li.contentStyle,Ze=Li.span,on=Ze===void 0?1:Ze,tn=Jn.key;return typeof mr=="string"?W.createElement(T,{key:"".concat(pr,"-").concat(tn||ii),className:Et,style:Rt,labelStyle:Object(C.a)(Object(C.a)({},an),dn),contentStyle:Object(C.a)(Object(C.a)({},Qe),et),span:on,colon:Lt,component:mr,itemPrefixCls:Gt,bordered:Qi,label:St?Fn:null,content:Gi?jn:null}):[W.createElement(T,{key:"label-".concat(tn||ii),className:Et,style:Object(C.a)(Object(C.a)(Object(C.a)({},an),Rt),dn),span:1,colon:Lt,component:mr[0],itemPrefixCls:Gt,bordered:Qi,label:Fn}),W.createElement(T,{key:"content-".concat(tn||ii),className:Et,style:Object(C.a)(Object(C.a)(Object(C.a)({},Qe),Rt),et),span:on*2-1,component:mr[1],itemPrefixCls:Gt,bordered:Qi,content:jn})]})}var A=function(Bn){var tt=W.useContext(be),Lt=Bn.prefixCls,xi=Bn.vertical,Qi=Bn.row,mr=Bn.index,pr=Bn.bordered;return xi?W.createElement(W.Fragment,null,W.createElement("tr",{key:"label-".concat(mr),className:"".concat(Lt,"-row")},z(Qi,Bn,Object(C.a)({component:"th",type:"label",showLabel:!0},tt))),W.createElement("tr",{key:"content-".concat(mr),className:"".concat(Lt,"-row")},z(Qi,Bn,Object(C.a)({component:"td",type:"content",showContent:!0},tt)))):W.createElement("tr",{key:mr,className:"".concat(Lt,"-row")},z(Qi,Bn,Object(C.a)({component:pr?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},tt)))},ue=A,be=W.createContext({}),de={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function ke(_i,Bn){if(typeof _i=="number")return _i;if(Object(L.a)(_i)==="object")for(var tt=0;tt<U.b.length;tt++){var Lt=U.b[tt];if(Bn[Lt]&&_i[Lt]!==void 0)return _i[Lt]||de[Lt]}return 3}function he(_i,Bn,tt){var Lt=_i;return(Bn===void 0||Bn>tt)&&(Lt=Object(N.a)(_i,{span:tt})),Lt}function ge(_i,Bn){var tt=Object(H.a)(_i).filter(function(mr){return mr}),Lt=[],xi=[],Qi=Bn;return tt.forEach(function(mr,pr){var St,Gi=(St=mr.props)===null||St===void 0?void 0:St.span,an=Gi||1;if(pr===tt.length-1){xi.push(he(mr,Gi,Qi)),Lt.push(xi);return}an<Qi?(Qi-=an,xi.push(mr)):(xi.push(he(mr,an,Qi)),Lt.push(xi),Qi=Bn,xi=[])}),Lt}function ce(_i){var Bn,tt=_i.prefixCls,Lt=_i.title,xi=_i.extra,Qi=_i.column,mr=Qi===void 0?de:Qi,pr=_i.colon,St=pr===void 0?!0:pr,Gi=_i.bordered,an=_i.layout,Qe=_i.children,Jn=_i.className,ii=_i.style,Li=_i.size,Fn=_i.labelStyle,jn=_i.contentStyle,Nt=W.useContext(V.b),Gt=Nt.getPrefixCls,Et=Nt.direction,Rt=Gt("descriptions",tt),dn=W.useState({}),et=Object(Q.a)(dn,2),Ze=et[0],on=et[1],tn=ke(mr,Ze);W.useEffect(function(){var ti=U.a.subscribe(function(kn){Object(L.a)(mr)==="object"&&on(kn)});return function(){U.a.unsubscribe(ti)}},[]);var Dt=ge(Qe,tn),pn=W.useMemo(function(){return{labelStyle:Fn,contentStyle:jn}},[Fn,jn]);return W.createElement(be.Provider,{value:pn},W.createElement("div",{className:ee()(Rt,(Bn={},Object(y.a)(Bn,"".concat(Rt,"-").concat(Li),Li&&Li!=="default"),Object(y.a)(Bn,"".concat(Rt,"-bordered"),!!Gi),Object(y.a)(Bn,"".concat(Rt,"-rtl"),Et==="rtl"),Bn),Jn),style:ii},(Lt||xi)&&W.createElement("div",{className:"".concat(Rt,"-header")},Lt&&W.createElement("div",{className:"".concat(Rt,"-title")},Lt),xi&&W.createElement("div",{className:"".concat(Rt,"-extra")},xi)),W.createElement("div",{className:"".concat(Rt,"-view")},W.createElement("table",null,W.createElement("tbody",null,Dt.map(function(ti,kn){return W.createElement(ue,{key:kn,index:kn,colon:St,prefixCls:Rt,vertical:an==="vertical",bordered:Gi,row:ti})}))))))}ce.Item=j;var k=ce,w=a("Ff2n"),B=a("DYRE"),Y=a("zeV3"),pe=a("VTBJ"),me=a("nKUr"),I=a("4i/N"),we=a("bRQS"),Re=a("G3dp"),Oe=a("VMEa"),Pe=a("adzw"),Ne=a("IzEo"),Ke=a("bx4M"),Xe=a("cWXX"),wt=a("/ezw"),Ct=a("SE9/"),bt=a("/zsF"),mt=a("PArb"),jt=function(Bn){var tt=Bn.padding;return Object(me.jsx)("div",{style:{padding:tt||"0 24px"},children:Object(me.jsx)(mt.a,{style:{margin:0}})})},Je={xs:2,sm:2,md:4,lg:4,xl:6,xxl:6},Wt=function(Bn){var tt=Bn.size,Lt=Bn.active,xi=Object(Ct.a)(),Qi=tt===void 0?Je[xi]||6:tt,mr=function(St){return St===0?0:Qi>2?42:16};return Object(me.jsx)(Ke.a,{bordered:!1,style:{marginBottom:16},children:Object(me.jsx)("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:new Array(Qi).fill(null).map(function(pr,St){return Object(me.jsxs)("div",{style:{borderLeft:Qi>2&&St===1?"1px solid rgba(0,0,0,0.06)":void 0,paddingLeft:mr(St),flex:1,marginRight:St===0?16:0},children:[Object(me.jsx)(wt.a,{active:Lt,paragraph:!1,title:{width:100,style:{marginTop:0}}}),Object(me.jsx)(wt.a.Button,{active:Lt,style:{height:48}})]},St)})})})},Te=function(Bn){var tt=Bn.active;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(Ke.a,{bordered:!1,style:{borderRadius:0},bodyStyle:{padding:24},children:Object(me.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(me.jsx)("div",{style:{maxWidth:"100%",flex:1},children:Object(me.jsx)(wt.a,{active:tt,title:{width:100,style:{marginTop:0}},paragraph:{rows:1,style:{margin:0}}})}),Object(me.jsx)(wt.a.Button,{active:tt,size:"small",style:{width:165,marginTop:12}})]})}),Object(me.jsx)(jt,{})]})},fe=function(Bn){var tt=Bn.size,Lt=Bn.active,xi=Lt===void 0?!0:Lt,Qi=Bn.actionButton;return Object(me.jsxs)(Ke.a,{bordered:!1,bodyStyle:{padding:0},children:[new Array(tt).fill(null).map(function(mr,pr){return Object(me.jsx)(Te,{active:!!xi},pr)}),Qi!==!1&&Object(me.jsx)(Ke.a,{bordered:!1,style:{borderTopRightRadius:0,borderTopLeftRadius:0},bodyStyle:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(me.jsx)(wt.a.Button,{style:{width:102},active:xi,size:"small"})})]})},ye=function(Bn){var tt=Bn.active;return Object(me.jsxs)("div",{style:{marginBottom:16},children:[Object(me.jsx)(wt.a,{paragraph:!1,title:{width:185}}),Object(me.jsx)(wt.a.Button,{active:tt,size:"small"})]})},Ee=function(Bn){var tt=Bn.active;return Object(me.jsx)(Ke.a,{bordered:!1,style:{borderBottomRightRadius:0,borderBottomLeftRadius:0},bodyStyle:{paddingBottom:8},children:Object(me.jsxs)(Y.b,{style:{width:"100%",justifyContent:"space-between"},children:[Object(me.jsx)(wt.a.Button,{active:tt,style:{width:200},size:"small"}),Object(me.jsxs)(Y.b,{children:[Object(me.jsx)(wt.a.Button,{active:tt,size:"small",style:{width:120}}),Object(me.jsx)(wt.a.Button,{active:tt,size:"small",style:{width:80}})]})]})})},Ge=function(Bn){var tt=Bn.active,Lt=tt===void 0?!0:tt,xi=Bn.statistic,Qi=Bn.actionButton,mr=Bn.toolbar,pr=Bn.pageHeader,St=Bn.list,Gi=St===void 0?5:St;return Object(me.jsxs)("div",{style:{width:"100%"},children:[pr!==!1&&Object(me.jsx)(ye,{active:Lt}),xi!==!1&&Object(me.jsx)(Wt,{size:xi,active:Lt}),(mr!==!1||Gi!==!1)&&Object(me.jsxs)(Ke.a,{bordered:!1,bodyStyle:{padding:0},children:[mr!==!1&&Object(me.jsx)(Ee,{active:Lt}),Gi!==!1&&Object(me.jsx)(fe,{size:Gi,active:Lt,actionButton:Qi})]})]})},$e=Ge,We={xs:1,sm:2,md:3,lg:3,xl:3,xxl:4},it=function(Bn){var tt=Bn.active;return Object(me.jsxs)("div",{style:{marginTop:32},children:[Object(me.jsx)(wt.a.Button,{active:tt,size:"small",style:{width:100,marginBottom:16}}),Object(me.jsxs)("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:[Object(me.jsxs)("div",{style:{flex:1,marginRight:24,maxWidth:300},children:[Object(me.jsx)(wt.a,{active:tt,paragraph:!1,title:{style:{marginTop:0}}}),Object(me.jsx)(wt.a,{active:tt,paragraph:!1,title:{style:{marginTop:8}}}),Object(me.jsx)(wt.a,{active:tt,paragraph:!1,title:{style:{marginTop:8}}})]}),Object(me.jsx)("div",{style:{flex:1,alignItems:"center",justifyContent:"center"},children:Object(me.jsxs)("div",{style:{maxWidth:300,margin:"auto"},children:[Object(me.jsx)(wt.a,{active:tt,paragraph:!1,title:{style:{marginTop:0}}}),Object(me.jsx)(wt.a,{active:tt,paragraph:!1,title:{style:{marginTop:8}}})]})})]})]})},Fe=function(Bn){var tt=Bn.size,Lt=Bn.active,xi=Object(Ct.a)(),Qi=tt===void 0?We[xi]||3:tt;return Object(me.jsx)("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:new Array(Qi).fill(null).map(function(mr,pr){return Object(me.jsxs)("div",{style:{flex:1,paddingLeft:pr===0?0:24,paddingRight:pr===Qi-1?0:24},children:[Object(me.jsx)(wt.a,{active:Lt,paragraph:!1,title:{style:{marginTop:0}}}),Object(me.jsx)(wt.a,{active:Lt,paragraph:!1,title:{style:{marginTop:8}}}),Object(me.jsx)(wt.a,{active:Lt,paragraph:!1,title:{style:{marginTop:8}}})]},pr)})})},He=function(Bn){var tt=Bn.active,Lt=Bn.header,xi=Lt===void 0?!1:Lt,Qi=Object(Ct.a)(),mr=We[Qi]||3;return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)("div",{style:{display:"flex",background:xi?"rgba(0,0,0,0.02)":"none",padding:"24px 8px"},children:[new Array(mr).fill(null).map(function(pr,St){return Object(me.jsx)("div",{style:{flex:1,paddingLeft:xi&&St===0?0:20,paddingRight:32},children:Object(me.jsx)(wt.a,{active:tt,paragraph:!1,title:{style:{margin:0,height:24,width:xi?"75px":"100%"}}})},St)}),Object(me.jsx)("div",{style:{flex:3,paddingLeft:32},children:Object(me.jsx)(wt.a,{active:tt,paragraph:!1,title:{style:{margin:0,height:24,width:xi?"75px":"100%"}}})})]}),Object(me.jsx)(jt,{padding:"0px 0px"})]})},Ye=function(Bn){var tt=Bn.active,Lt=Bn.size,xi=Lt===void 0?4:Lt;return Object(me.jsxs)(Ke.a,{bordered:!1,children:[Object(me.jsx)(wt.a.Button,{active:tt,size:"small",style:{width:100,marginBottom:16}}),Object(me.jsx)(He,{header:!0,active:tt}),new Array(xi).fill(null).map(function(Qi,mr){return Object(me.jsx)(He,{active:tt},mr)}),Object(me.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",paddingTop:16},children:Object(me.jsx)(wt.a,{active:tt,paragraph:!1,title:{style:{margin:0,height:32,float:"right",maxWidth:"630px"}}})})]})},ot=function(Bn){var tt=Bn.active;return Object(me.jsxs)(Ke.a,{bordered:!1,style:{borderTopRightRadius:0,borderTopLeftRadius:0},children:[Object(me.jsx)(wt.a.Button,{active:tt,size:"small",style:{width:100,marginBottom:16}}),Object(me.jsx)(Fe,{active:tt}),Object(me.jsx)(it,{active:tt})]})},Kt=function(Bn){var tt=Bn.active,Lt=tt===void 0?!0:tt,xi=Bn.pageHeader,Qi=Bn.list;return Object(me.jsxs)("div",{style:{width:"100%"},children:[xi!==!1&&Object(me.jsx)(ye,{active:Lt}),Object(me.jsx)(ot,{active:Lt}),Qi!==!1&&Object(me.jsx)(jt,{}),Qi!==!1&&Object(me.jsx)(Ye,{active:Lt,size:Qi})]})},gt=Kt,Ft=function(Bn){var tt=Bn.active,Lt=tt===void 0?!0:tt,xi=Bn.pageHeader;return Object(me.jsxs)("div",{style:{width:"100%"},children:[xi!==!1&&Object(me.jsx)(ye,{active:Lt}),Object(me.jsx)(Ke.a,{children:Object(me.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:128},children:[Object(me.jsx)(wt.a.Avatar,{size:64,style:{marginBottom:32}}),Object(me.jsx)(wt.a.Button,{active:Lt,style:{width:214,marginBottom:8}}),Object(me.jsx)(wt.a.Button,{active:Lt,style:{width:328},size:"small"}),Object(me.jsxs)(Y.b,{style:{marginTop:24},children:[Object(me.jsx)(wt.a.Button,{active:Lt,style:{width:116}}),Object(me.jsx)(wt.a.Button,{active:Lt,style:{width:116}})]})]})})]})},Jt=Ft,qt=["type"],En=function(Bn){var tt=Bn.type,Lt=tt===void 0?"list":tt,xi=Object(w.a)(Bn,qt);return Lt==="result"?Object(me.jsx)(Jt,Object(pe.a)({},xi)):Lt==="descriptions"?Object(me.jsx)(gt,Object(pe.a)({},xi)):Object(me.jsx)($e,Object(pe.a)({},xi))},It=En,si=a("U9X9"),On=a("tReJ"),Gn=a("fxyS"),ci=a("YSkC"),Dn=a("miYZ"),An=a("tsqr"),fr=a("LQCs"),Vi=a("6cGi"),Sr=a("mzd2");function Pi(_i){var Bn=_i.data,tt=_i.row;return Object(pe.a)(Object(pe.a)({},Bn),tt)}function Ei(_i){var Bn=_i.type||"single",tt=Object(fr.d)(),Lt=Object(Vi.a)([],{value:_i.editableKeys,onChange:_i.onChange?function(Nt){var Gt;_i==null||(Gt=_i.onChange)===null||Gt===void 0||Gt.call(_i,Nt,_i.dataSource)}:void 0}),xi=Object(Q.a)(Lt,2),Qi=xi[0],mr=xi[1],pr=Object(W.useMemo)(function(){var Nt=Bn==="single"?Qi==null?void 0:Qi.slice(0,1):Qi;return new Set(Nt)},[(Qi||[]).join(","),Bn]),St=Object(W.useCallback)(function(Nt){return!!(Qi==null?void 0:Qi.includes(Object(Sr.d)(Nt)))},[(Qi||[]).join(",")]),Gi=function(Gt){return pr.size>0&&Bn==="single"?(An.default.warn(_i.onlyOneLineEditorAlertMessage||tt.getMessage("editableTable.onlyOneLineEditor","\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C")),!1):(pr.add(Object(Sr.d)(Gt)),mr(Array.from(pr)),!0)},an=function(Gt){return pr.delete(Object(Sr.d)(Gt)),mr(Array.from(pr)),!0},Qe=function(){var Nt=Object(E.a)(Object(De.a)().mark(function Gt(Et,Rt,dn,et){var Ze,on;return Object(De.a)().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:return Dt.next=2,_i==null||(Ze=_i.onCancel)===null||Ze===void 0?void 0:Ze.call(_i,Et,Rt,dn,et);case 2:if(on=Dt.sent,on!==!1){Dt.next=5;break}return Dt.abrupt("return",!1);case 5:return Dt.abrupt("return",!0);case 6:case"end":return Dt.stop()}},Gt)}));return function(Et,Rt,dn,et){return Nt.apply(this,arguments)}}(),Jn=function(){var Nt=Object(E.a)(Object(De.a)().mark(function Gt(Et,Rt,dn){var et,Ze,on;return Object(De.a)().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:return Dt.next=2,_i==null||(et=_i.onSave)===null||et===void 0?void 0:et.call(_i,Et,Rt,dn);case 2:if(Ze=Dt.sent,Ze!==!1){Dt.next=5;break}return Dt.abrupt("return",!1);case 5:return an(Et),on={data:_i.dataSource,row:Rt,key:Et,childrenColumnName:_i.childrenColumnName||"children"},_i.setDataSource(Pi(on)),Dt.abrupt("return",!0);case 9:case"end":return Dt.stop()}},Gt)}));return function(Et,Rt,dn){return Nt.apply(this,arguments)}}(),ii=tt.getMessage("editableTable.action.save","\u4FDD\u5B58"),Li=tt.getMessage("editableTable.action.delete","\u5220\u9664"),Fn=tt.getMessage("editableTable.action.cancel","\u53D6\u6D88"),jn=Object(W.useCallback)(function(Nt,Gt){var Et=Object(pe.a)({recordKey:Nt,cancelEditable:an,onCancel:Qe,onSave:Jn,editableKeys:Qi,setEditableRowKeys:mr,saveText:ii,cancelText:Fn,deleteText:Li,deletePopconfirmMessage:"".concat(tt.getMessage("deleteThisLine","\u5220\u9664\u6B64\u884C"),"?"),editorType:"Map"},Gt),Rt=Object(Sr.b)(_i.dataSource,Et);return _i.actionRender?_i.actionRender(_i.dataSource,Et,{save:Rt[0],delete:Rt[1],cancel:Rt[2]}):Rt},[Qi&&Qi.join(","),_i.dataSource]);return{editableKeys:Qi,setEditableRowKeys:mr,isEditable:St,actionRender:jn,startEditable:Gi,cancelEditable:an}}var Cr=Ei,zn=a("3j9d"),dr=a("ub+h"),Hn=a("AMKO"),mi=a("KIsX"),hn=function(Bn,tt){var Lt=tt||{},xi=Lt.onRequestError,Qi=Lt.effects,mr=Lt.manual,pr=Lt.dataSource,St=Lt.defaultDataSource,Gi=Lt.onDataSourceChange,an=Object(Vi.a)(St,{value:pr,onChange:Gi}),Qe=Object(Q.a)(an,2),Jn=Qe[0],ii=Qe[1],Li=Object(Vi.a)(tt==null?void 0:tt.loading,{value:tt==null?void 0:tt.loading,onChange:tt==null?void 0:tt.onLoadingChange}),Fn=Object(Q.a)(Li,2),jn=Fn[0],Nt=Fn[1],Gt=function(dn){ii(dn),Nt(!1)},Et=function(){var Rt=Object(E.a)(Object(De.a)().mark(function dn(){var et,Ze,on;return Object(De.a)().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:if(!jn){Dt.next=2;break}return Dt.abrupt("return");case 2:return Nt(!0),Dt.prev=3,Dt.next=6,Bn();case 6:if(Dt.t0=Dt.sent,Dt.t0){Dt.next=9;break}Dt.t0={};case 9:et=Dt.t0,Ze=et.data,on=et.success,on!==!1&&Gt(Ze),Dt.next=23;break;case 15:if(Dt.prev=15,Dt.t1=Dt.catch(3),xi!==void 0){Dt.next=21;break}throw new Error(Dt.t1);case 21:xi(Dt.t1);case 22:Nt(!1);case 23:case"end":return Dt.stop()}},dn,null,[[3,15]])}));return function(){return Rt.apply(this,arguments)}}();return Object(W.useEffect)(function(){mr||Et()},[].concat(Object(le.a)(Qi||[]),[mr])),{dataSource:Jn,setDataSource:ii,loading:jn,reload:function(){return Et()}}},Xn=hn,en=["valueEnum","render","renderText","mode","plain","dataIndex","request","params","editable"],yt=["request","columns","params","dataSource","onDataSourceChange","formProps","editable","loading","onLoadingChange","actionRef","onRequestError"],wn=function(Bn,tt){var Lt=Bn.dataIndex;if(Lt){var xi=Array.isArray(Lt)?Object(dr.a)(tt,Lt):tt[Lt];if(xi!==void 0||xi!==null)return xi}return Bn.children},gn=function(Bn){var tt=Bn.valueEnum,Lt=Bn.action,xi=Bn.index,Qi=Bn.text,mr=Bn.entity,pr=Bn.mode,St=Bn.render,Gi=Bn.editableUtils,an=Bn.valueType,Qe=Bn.plain,Jn=Bn.dataIndex,ii=Bn.request,Li=Bn.renderFormItem,Fn=Bn.params,jn=Oe.a.useFormInstance(),Nt={text:Qi,valueEnum:tt,mode:pr||"read",proFieldProps:{render:St?function(){return St==null?void 0:St(Qi,mr,xi,Lt,Object(pe.a)(Object(pe.a)({},Bn),{},{type:"descriptions"}))}:void 0},ignoreFormItem:!0,valueType:an,request:ii,params:Fn,plain:Qe};if(pr==="read"||!pr||an==="option"){var Gt=Object(si.a)(Bn.fieldProps,void 0,Object(pe.a)(Object(pe.a)({},Bn),{},{rowKey:Jn,isEditable:!1}));return Object(me.jsx)(Pe.a,Object(pe.a)(Object(pe.a)({name:Jn},Nt),{},{fieldProps:Gt}))}var Et=function(){var dn,et=Object(si.a)(Bn.formItemProps,jn,Object(pe.a)(Object(pe.a)({},Bn),{},{rowKey:Jn,isEditable:!0})),Ze=Object(si.a)(Bn.fieldProps,jn,Object(pe.a)(Object(pe.a)({},Bn),{},{rowKey:Jn,isEditable:!0})),on=Li?Li==null?void 0:Li(Object(pe.a)(Object(pe.a)({},Bn),{},{type:"descriptions"}),{isEditable:!0,recordKey:Jn,record:jn.getFieldValue([Jn].flat(1)),defaultRender:function(){return Object(me.jsx)(Pe.a,Object(pe.a)(Object(pe.a)({},Nt),{},{fieldProps:Ze}))},type:"descriptions"},jn):void 0;return Object(me.jsxs)(Y.b,{children:[Object(me.jsx)(On.a,Object(pe.a)(Object(pe.a)({name:Jn},et),{},{style:Object(pe.a)({margin:0},(et==null?void 0:et.style)||{}),initialValue:Qi||(et==null?void 0:et.initialValue),children:on||Object(me.jsx)(Pe.a,Object(pe.a)(Object(pe.a)({},Nt),{},{proFieldProps:Object(pe.a)({},Nt.proFieldProps),fieldProps:Ze}))})),Gi==null||(dn=Gi.actionRender)===null||dn===void 0?void 0:dn.call(Gi,Jn||xi,{cancelText:Object(me.jsx)(I.a,{}),saveText:Object(me.jsx)(we.a,{}),deleteText:!1})]})};return Object(me.jsx)("div",{style:{marginTop:-5,marginBottom:-5,marginLeft:0,marginRight:0},children:Et()})},rn=function(Bn,tt,Lt,xi){var Qi,mr=[],pr=Bn==null||(Qi=Bn.map)===null||Qi===void 0?void 0:Qi.call(Bn,function(St,Gi){var an,Qe;if(F.a.isValidElement(St))return St;var Jn=St.valueEnum,ii=St.render,Li=St.renderText,Fn=St.mode,jn=St.plain,Nt=St.dataIndex,Gt=St.request,Et=St.params,Rt=St.editable,dn=Object(w.a)(St,en),et=(an=wn(St,tt))!==null&&an!==void 0?an:dn.children,Ze=Li?Li(et,tt,Gi,Lt):et,on=typeof dn.title=="function"?dn.title(St,"descriptions",null):dn.title,tn=typeof dn.valueType=="function"?dn.valueType(tt||{},"descriptions"):dn.valueType,Dt=xi==null?void 0:xi.isEditable(Nt||Gi),pn=Fn||Dt?"edit":"read",ti=xi&&pn==="read"&&Rt!==!1&&(Rt==null?void 0:Rt(Ze,tt,Gi))!==!1,kn=ti?Y.b:F.a.Fragment,Vt=pn==="edit"?Ze:Object(Gn.a)(Ze,St,Ze),Oi=Object(W.createElement)(k.Item,Object(pe.a)(Object(pe.a)({},dn),{},{key:dn.key||((Qe=dn.label)===null||Qe===void 0?void 0:Qe.toString())||Gi,label:(on||dn.label||dn.tooltip||dn.tip)&&Object(me.jsx)(ci.a,{label:on||dn.label,tooltip:dn.tooltip||dn.tip,ellipsis:St.ellipsis})}),Object(me.jsxs)(kn,{children:[Object(me.jsx)(gn,Object(pe.a)(Object(pe.a)({},St),{},{dataIndex:St.dataIndex||Gi,mode:pn,text:Vt,valueType:tn,entity:tt,index:Gi,action:Lt,editableUtils:xi})),ti&&tn!=="option"&&Object(me.jsx)(Re.a,{onClick:function(){xi==null||xi.startEditable(Nt||Gi)}})]}));return tn==="option"?(mr.push(Oi),null):Oi}).filter(function(St){return St});return{options:(mr==null?void 0:mr.length)?mr:null,children:pr}},bn=function(Bn){return Object(me.jsx)(k.Item,Object(pe.a)(Object(pe.a)({},Bn),{},{children:Bn.children}))},Qn=function(Bn){return Bn.children},Ci=function(Bn){var tt,Lt=Bn.request,xi=Bn.columns,Qi=Bn.params,mr=Qi===void 0?{}:Qi,pr=Bn.dataSource,St=Bn.onDataSourceChange,Gi=Bn.formProps,an=Bn.editable,Qe=Bn.loading,Jn=Bn.onLoadingChange,ii=Bn.actionRef,Li=Bn.onRequestError,Fn=Object(w.a)(Bn,yt),jn=Object(W.useContext)(re.a.ConfigContext),Nt=Xn(Object(E.a)(Object(De.a)().mark(function Dt(){var pn;return Object(De.a)().wrap(function(kn){for(;;)switch(kn.prev=kn.next){case 0:if(!Lt){kn.next=6;break}return kn.next=3,Lt(mr);case 3:kn.t0=kn.sent,kn.next=7;break;case 6:kn.t0={data:{}};case 7:return pn=kn.t0,kn.abrupt("return",pn);case 9:case"end":return kn.stop()}},Dt)})),{onRequestError:Li,effects:[Object(Hn.a)(mr)],manual:!Lt,dataSource:pr,loading:Qe,onLoadingChange:Jn,onDataSourceChange:St}),Gt=Cr(Object(pe.a)(Object(pe.a)({},Bn.editable),{},{childrenColumnName:void 0,dataSource:Nt.dataSource,setDataSource:Nt.setDataSource}));if(Object(W.useEffect)(function(){ii&&(ii.current=Object(pe.a)({reload:Nt.reload},Gt))},[Nt,ii,Gt]),Nt.loading||Nt.loading===void 0&&Lt)return Object(me.jsx)(It,{type:"descriptions",list:!1,pageHeader:!1});var Et=function(){var pn=Object(H.a)(Bn.children).filter(Boolean).map(function(ti){if(!F.a.isValidElement(ti))return ti;var kn=ti==null?void 0:ti.props,Vt=kn.valueEnum,Oi=kn.valueType,Yi=kn.dataIndex,Hi=kn.ellipsis,qi=kn.copyable,Qr=kn.request;return!Oi&&!Vt&&!Yi&&!Qr&&!Hi&&!qi?ti:Object(pe.a)(Object(pe.a)({},ti==null?void 0:ti.props),{},{entity:pr})});return[].concat(Object(le.a)(xi||[]),Object(le.a)(pn)).filter(function(ti){return!ti||(ti==null?void 0:ti.valueType)&&["index","indexBorder"].includes(ti==null?void 0:ti.valueType)?!1:!(ti==null?void 0:ti.hideInDescriptions)}).sort(function(ti,kn){return kn.order||ti.order?(kn.order||0)-(ti.order||0):(kn.index||0)-(ti.index||0)})},Rt=rn(Et(),Nt.dataSource||{},(ii==null?void 0:ii.current)||Nt,an?Gt:void 0),dn=Rt.options,et=Rt.children,Ze=an?Oe.a:Qn,on=null;(Fn.title||Fn.tooltip||Fn.tip)&&(on=Object(me.jsx)(ci.a,{label:Fn.title,tooltip:Fn.tooltip||Fn.tip}));var tn=jn.getPrefixCls("pro-descriptions");return Object(me.jsx)(zn.a,{children:Object(me.jsx)(Ze,Object(pe.a)(Object(pe.a)({form:(tt=Bn.editable)===null||tt===void 0?void 0:tt.form,component:!1,submitter:!1},Gi),{},{onFinish:void 0,children:Object(me.jsx)(k,Object(pe.a)(Object(pe.a)({className:tn},Fn),{},{extra:Fn.extra?Object(me.jsxs)(Y.b,{children:[dn,Fn.extra]}):dn,title:on,children:et}))}),"form")})};Ci.Item=bn;var yr=K.a=Ci},ZlPH:function(fn,K,a){"use strict";a.d(K,"a",function(){return E}),a.d(K,"b",function(){return re});var le=a("fWQN"),De=a("mtLc"),E=function(){function J($){Object(le.a)(this,J),this.domNode=$,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}return Object(De.a)(J,[{key:"setMaxWidth",value:function(y){var Q=ve(y);this._maxWidth!==Q&&(this._maxWidth=Q,this.domNode.style.maxWidth=this._maxWidth)}},{key:"setWidth",value:function(y){var Q=ve(y);this._width!==Q&&(this._width=Q,this.domNode.style.width=this._width)}},{key:"setHeight",value:function(y){var Q=ve(y);this._height!==Q&&(this._height=Q,this.domNode.style.height=this._height)}},{key:"setTop",value:function(y){var Q=ve(y);this._top!==Q&&(this._top=Q,this.domNode.style.top=this._top)}},{key:"setLeft",value:function(y){var Q=ve(y);this._left!==Q&&(this._left=Q,this.domNode.style.left=this._left)}},{key:"setBottom",value:function(y){var Q=ve(y);this._bottom!==Q&&(this._bottom=Q,this.domNode.style.bottom=this._bottom)}},{key:"setRight",value:function(y){var Q=ve(y);this._right!==Q&&(this._right=Q,this.domNode.style.right=this._right)}},{key:"setPaddingLeft",value:function(y){var Q=ve(y);this._paddingLeft!==Q&&(this._paddingLeft=Q,this.domNode.style.paddingLeft=this._paddingLeft)}},{key:"setFontFamily",value:function(y){this._fontFamily!==y&&(this._fontFamily=y,this.domNode.style.fontFamily=this._fontFamily)}},{key:"setFontWeight",value:function(y){this._fontWeight!==y&&(this._fontWeight=y,this.domNode.style.fontWeight=this._fontWeight)}},{key:"setFontSize",value:function(y){var Q=ve(y);this._fontSize!==Q&&(this._fontSize=Q,this.domNode.style.fontSize=this._fontSize)}},{key:"setFontStyle",value:function(y){this._fontStyle!==y&&(this._fontStyle=y,this.domNode.style.fontStyle=this._fontStyle)}},{key:"setFontFeatureSettings",value:function(y){this._fontFeatureSettings!==y&&(this._fontFeatureSettings=y,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}},{key:"setFontVariationSettings",value:function(y){this._fontVariationSettings!==y&&(this._fontVariationSettings=y,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}},{key:"setTextDecoration",value:function(y){this._textDecoration!==y&&(this._textDecoration=y,this.domNode.style.textDecoration=this._textDecoration)}},{key:"setLineHeight",value:function(y){var Q=ve(y);this._lineHeight!==Q&&(this._lineHeight=Q,this.domNode.style.lineHeight=this._lineHeight)}},{key:"setLetterSpacing",value:function(y){var Q=ve(y);this._letterSpacing!==Q&&(this._letterSpacing=Q,this.domNode.style.letterSpacing=this._letterSpacing)}},{key:"setClassName",value:function(y){this._className!==y&&(this._className=y,this.domNode.className=this._className)}},{key:"toggleClassName",value:function(y,Q){this.domNode.classList.toggle(y,Q),this._className=this.domNode.className}},{key:"setDisplay",value:function(y){this._display!==y&&(this._display=y,this.domNode.style.display=this._display)}},{key:"setPosition",value:function(y){this._position!==y&&(this._position=y,this.domNode.style.position=this._position)}},{key:"setVisibility",value:function(y){this._visibility!==y&&(this._visibility=y,this.domNode.style.visibility=this._visibility)}},{key:"setColor",value:function(y){this._color!==y&&(this._color=y,this.domNode.style.color=this._color)}},{key:"setBackgroundColor",value:function(y){this._backgroundColor!==y&&(this._backgroundColor=y,this.domNode.style.backgroundColor=this._backgroundColor)}},{key:"setLayerHinting",value:function(y){this._layerHint!==y&&(this._layerHint=y,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}},{key:"setBoxShadow",value:function(y){this._boxShadow!==y&&(this._boxShadow=y,this.domNode.style.boxShadow=y)}},{key:"setContain",value:function(y){this._contain!==y&&(this._contain=y,this.domNode.style.contain=this._contain)}},{key:"setAttribute",value:function(y,Q){this.domNode.setAttribute(y,Q)}},{key:"removeAttribute",value:function(y){this.domNode.removeAttribute(y)}},{key:"appendChild",value:function(y){this.domNode.appendChild(y.domNode)}},{key:"removeChild",value:function(y){this.domNode.removeChild(y.domNode)}}]),J}();function ve(J){return typeof J=="number"?"".concat(J,"px"):J}function re(J){return new E(J)}},Zr1c:function(fn,K,a){"use strict";a.d(K,"c",function(){return ve}),a.d(K,"d",function(){return re}),a.d(K,"b",function(){return J}),a.d(K,"a",function(){return Q});var le=a("mtLc"),De=a("fWQN"),E=a("Cg/j"),ve={ctrlCmd:!1,alt:!1},re;(function(L){L[L.Blur=1]="Blur",L[L.Gesture=2]="Gesture",L[L.Other=3]="Other"})(re||(re={}));var J;(function(L){L[L.NONE=0]="NONE",L[L.FIRST=1]="FIRST",L[L.SECOND=2]="SECOND",L[L.LAST=3]="LAST"})(J||(J={}));var $=Object(le.a)(function L(ne){Object(De.a)(this,L),this.options=ne}),y=new $,Q=Object(E.c)("quickInputService")},a3Ze:function(fn,K,a){},a4d6:function(fn,K,a){"use strict";a.d(K,"a",function(){return re});var le=a("fWQN"),De=a("mtLc"),E=a("EffR"),ve=a("pmY6"),re=function(){function J(){Object(le.a)(this,J),this._hooks=new ve.c,this._pointerMoveCallback=null,this._onStopCallback=null}return Object(De.a)(J,[{key:"dispose",value:function(){this.stopMonitoring(!1),this._hooks.dispose()}},{key:"stopMonitoring",value:function(y,Q){if(!!this.isMonitoring()){this._hooks.clear(),this._pointerMoveCallback=null;var L=this._onStopCallback;this._onStopCallback=null,y&&L&&L(Q)}}},{key:"isMonitoring",value:function(){return!!this._pointerMoveCallback}},{key:"startMonitoring",value:function(y,Q,L,ne,ee){var H=this;this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=ne,this._onStopCallback=ee;var W=y;try{y.setPointerCapture(Q),this._hooks.add(Object(ve.l)(function(){try{y.releasePointerCapture(Q)}catch(F){}}))}catch(F){W=window}this._hooks.add(E.addDisposableListener(W,E.EventType.POINTER_MOVE,function(F){if(F.buttons!==L){H.stopMonitoring(!0);return}F.preventDefault(),H._pointerMoveCallback(F)})),this._hooks.add(E.addDisposableListener(W,E.EventType.POINTER_UP,function(F){return H.stopMonitoring(!0)}))}}]),J}()},aIFW:function(fn,K,a){"use strict";a.d(K,"a",function(){return le}),a.d(K,"b",function(){return De}),a.d(K,"c",function(){return E}),a.d(K,"d",function(){return ve}),a.d(K,"e",function(){return re}),a.d(K,"f",function(){return J}),a.d(K,"g",function(){return $}),a.d(K,"h",function(){return y}),a.d(K,"i",function(){return Q}),a.d(K,"j",function(){return L}),a.d(K,"k",function(){return ne}),a.d(K,"l",function(){return ee}),a.d(K,"m",function(){return H}),a.d(K,"n",function(){return W}),a.d(K,"o",function(){return F}),a.d(K,"p",function(){return V}),a.d(K,"q",function(){return N}),a.d(K,"r",function(){return U}),a.d(K,"s",function(){return d}),a.d(K,"t",function(){return j}),a.d(K,"u",function(){return C}),a.d(K,"v",function(){return x}),a.d(K,"w",function(){return S}),a.d(K,"x",function(){return T}),a.d(K,"y",function(){return z}),a.d(K,"z",function(){return A}),a.d(K,"A",function(){return ue}),a.d(K,"B",function(){return be}),a.d(K,"C",function(){return de}),a.d(K,"D",function(){return ke}),a.d(K,"E",function(){return he}),a.d(K,"F",function(){return ge}),a.d(K,"G",function(){return ce}),a.d(K,"H",function(){return k}),a.d(K,"I",function(){return w}),a.d(K,"J",function(){return B}),a.d(K,"K",function(){return Y}),a.d(K,"L",function(){return pe}),a.d(K,"M",function(){return me});var le;(function(I){I[I.Unknown=0]="Unknown",I[I.Disabled=1]="Disabled",I[I.Enabled=2]="Enabled"})(le||(le={}));var De;(function(I){I[I.Invoke=1]="Invoke",I[I.Auto=2]="Auto"})(De||(De={}));var E;(function(I){I[I.None=0]="None",I[I.KeepWhitespace=1]="KeepWhitespace",I[I.InsertAsSnippet=4]="InsertAsSnippet"})(E||(E={}));var ve;(function(I){I[I.Method=0]="Method",I[I.Function=1]="Function",I[I.Constructor=2]="Constructor",I[I.Field=3]="Field",I[I.Variable=4]="Variable",I[I.Class=5]="Class",I[I.Struct=6]="Struct",I[I.Interface=7]="Interface",I[I.Module=8]="Module",I[I.Property=9]="Property",I[I.Event=10]="Event",I[I.Operator=11]="Operator",I[I.Unit=12]="Unit",I[I.Value=13]="Value",I[I.Constant=14]="Constant",I[I.Enum=15]="Enum",I[I.EnumMember=16]="EnumMember",I[I.Keyword=17]="Keyword",I[I.Text=18]="Text",I[I.Color=19]="Color",I[I.File=20]="File",I[I.Reference=21]="Reference",I[I.Customcolor=22]="Customcolor",I[I.Folder=23]="Folder",I[I.TypeParameter=24]="TypeParameter",I[I.User=25]="User",I[I.Issue=26]="Issue",I[I.Snippet=27]="Snippet"})(ve||(ve={}));var re;(function(I){I[I.Deprecated=1]="Deprecated"})(re||(re={}));var J;(function(I){I[I.Invoke=0]="Invoke",I[I.TriggerCharacter=1]="TriggerCharacter",I[I.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(J||(J={}));var $;(function(I){I[I.EXACT=0]="EXACT",I[I.ABOVE=1]="ABOVE",I[I.BELOW=2]="BELOW"})($||($={}));var y;(function(I){I[I.NotSet=0]="NotSet",I[I.ContentFlush=1]="ContentFlush",I[I.RecoverFromMarkers=2]="RecoverFromMarkers",I[I.Explicit=3]="Explicit",I[I.Paste=4]="Paste",I[I.Undo=5]="Undo",I[I.Redo=6]="Redo"})(y||(y={}));var Q;(function(I){I[I.LF=1]="LF",I[I.CRLF=2]="CRLF"})(Q||(Q={}));var L;(function(I){I[I.Text=0]="Text",I[I.Read=1]="Read",I[I.Write=2]="Write"})(L||(L={}));var ne;(function(I){I[I.None=0]="None",I[I.Keep=1]="Keep",I[I.Brackets=2]="Brackets",I[I.Advanced=3]="Advanced",I[I.Full=4]="Full"})(ne||(ne={}));var ee;(function(I){I[I.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",I[I.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",I[I.accessibilitySupport=2]="accessibilitySupport",I[I.accessibilityPageSize=3]="accessibilityPageSize",I[I.ariaLabel=4]="ariaLabel",I[I.autoClosingBrackets=5]="autoClosingBrackets",I[I.screenReaderAnnounceInlineSuggestion=6]="screenReaderAnnounceInlineSuggestion",I[I.autoClosingDelete=7]="autoClosingDelete",I[I.autoClosingOvertype=8]="autoClosingOvertype",I[I.autoClosingQuotes=9]="autoClosingQuotes",I[I.autoIndent=10]="autoIndent",I[I.automaticLayout=11]="automaticLayout",I[I.autoSurround=12]="autoSurround",I[I.bracketPairColorization=13]="bracketPairColorization",I[I.guides=14]="guides",I[I.codeLens=15]="codeLens",I[I.codeLensFontFamily=16]="codeLensFontFamily",I[I.codeLensFontSize=17]="codeLensFontSize",I[I.colorDecorators=18]="colorDecorators",I[I.colorDecoratorsLimit=19]="colorDecoratorsLimit",I[I.columnSelection=20]="columnSelection",I[I.comments=21]="comments",I[I.contextmenu=22]="contextmenu",I[I.copyWithSyntaxHighlighting=23]="copyWithSyntaxHighlighting",I[I.cursorBlinking=24]="cursorBlinking",I[I.cursorSmoothCaretAnimation=25]="cursorSmoothCaretAnimation",I[I.cursorStyle=26]="cursorStyle",I[I.cursorSurroundingLines=27]="cursorSurroundingLines",I[I.cursorSurroundingLinesStyle=28]="cursorSurroundingLinesStyle",I[I.cursorWidth=29]="cursorWidth",I[I.disableLayerHinting=30]="disableLayerHinting",I[I.disableMonospaceOptimizations=31]="disableMonospaceOptimizations",I[I.domReadOnly=32]="domReadOnly",I[I.dragAndDrop=33]="dragAndDrop",I[I.dropIntoEditor=34]="dropIntoEditor",I[I.emptySelectionClipboard=35]="emptySelectionClipboard",I[I.experimentalWhitespaceRendering=36]="experimentalWhitespaceRendering",I[I.extraEditorClassName=37]="extraEditorClassName",I[I.fastScrollSensitivity=38]="fastScrollSensitivity",I[I.find=39]="find",I[I.fixedOverflowWidgets=40]="fixedOverflowWidgets",I[I.folding=41]="folding",I[I.foldingStrategy=42]="foldingStrategy",I[I.foldingHighlight=43]="foldingHighlight",I[I.foldingImportsByDefault=44]="foldingImportsByDefault",I[I.foldingMaximumRegions=45]="foldingMaximumRegions",I[I.unfoldOnClickAfterEndOfLine=46]="unfoldOnClickAfterEndOfLine",I[I.fontFamily=47]="fontFamily",I[I.fontInfo=48]="fontInfo",I[I.fontLigatures=49]="fontLigatures",I[I.fontSize=50]="fontSize",I[I.fontWeight=51]="fontWeight",I[I.fontVariations=52]="fontVariations",I[I.formatOnPaste=53]="formatOnPaste",I[I.formatOnType=54]="formatOnType",I[I.glyphMargin=55]="glyphMargin",I[I.gotoLocation=56]="gotoLocation",I[I.hideCursorInOverviewRuler=57]="hideCursorInOverviewRuler",I[I.hover=58]="hover",I[I.inDiffEditor=59]="inDiffEditor",I[I.inlineSuggest=60]="inlineSuggest",I[I.letterSpacing=61]="letterSpacing",I[I.lightbulb=62]="lightbulb",I[I.lineDecorationsWidth=63]="lineDecorationsWidth",I[I.lineHeight=64]="lineHeight",I[I.lineNumbers=65]="lineNumbers",I[I.lineNumbersMinChars=66]="lineNumbersMinChars",I[I.linkedEditing=67]="linkedEditing",I[I.links=68]="links",I[I.matchBrackets=69]="matchBrackets",I[I.minimap=70]="minimap",I[I.mouseStyle=71]="mouseStyle",I[I.mouseWheelScrollSensitivity=72]="mouseWheelScrollSensitivity",I[I.mouseWheelZoom=73]="mouseWheelZoom",I[I.multiCursorMergeOverlapping=74]="multiCursorMergeOverlapping",I[I.multiCursorModifier=75]="multiCursorModifier",I[I.multiCursorPaste=76]="multiCursorPaste",I[I.multiCursorLimit=77]="multiCursorLimit",I[I.occurrencesHighlight=78]="occurrencesHighlight",I[I.overviewRulerBorder=79]="overviewRulerBorder",I[I.overviewRulerLanes=80]="overviewRulerLanes",I[I.padding=81]="padding",I[I.pasteAs=82]="pasteAs",I[I.parameterHints=83]="parameterHints",I[I.peekWidgetDefaultFocus=84]="peekWidgetDefaultFocus",I[I.definitionLinkOpensInPeek=85]="definitionLinkOpensInPeek",I[I.quickSuggestions=86]="quickSuggestions",I[I.quickSuggestionsDelay=87]="quickSuggestionsDelay",I[I.readOnly=88]="readOnly",I[I.renameOnType=89]="renameOnType",I[I.renderControlCharacters=90]="renderControlCharacters",I[I.renderFinalNewline=91]="renderFinalNewline",I[I.renderLineHighlight=92]="renderLineHighlight",I[I.renderLineHighlightOnlyWhenFocus=93]="renderLineHighlightOnlyWhenFocus",I[I.renderValidationDecorations=94]="renderValidationDecorations",I[I.renderWhitespace=95]="renderWhitespace",I[I.revealHorizontalRightPadding=96]="revealHorizontalRightPadding",I[I.roundedSelection=97]="roundedSelection",I[I.rulers=98]="rulers",I[I.scrollbar=99]="scrollbar",I[I.scrollBeyondLastColumn=100]="scrollBeyondLastColumn",I[I.scrollBeyondLastLine=101]="scrollBeyondLastLine",I[I.scrollPredominantAxis=102]="scrollPredominantAxis",I[I.selectionClipboard=103]="selectionClipboard",I[I.selectionHighlight=104]="selectionHighlight",I[I.selectOnLineNumbers=105]="selectOnLineNumbers",I[I.showFoldingControls=106]="showFoldingControls",I[I.showUnused=107]="showUnused",I[I.snippetSuggestions=108]="snippetSuggestions",I[I.smartSelect=109]="smartSelect",I[I.smoothScrolling=110]="smoothScrolling",I[I.stickyScroll=111]="stickyScroll",I[I.stickyTabStops=112]="stickyTabStops",I[I.stopRenderingLineAfter=113]="stopRenderingLineAfter",I[I.suggest=114]="suggest",I[I.suggestFontSize=115]="suggestFontSize",I[I.suggestLineHeight=116]="suggestLineHeight",I[I.suggestOnTriggerCharacters=117]="suggestOnTriggerCharacters",I[I.suggestSelection=118]="suggestSelection",I[I.tabCompletion=119]="tabCompletion",I[I.tabIndex=120]="tabIndex",I[I.unicodeHighlighting=121]="unicodeHighlighting",I[I.unusualLineTerminators=122]="unusualLineTerminators",I[I.useShadowDOM=123]="useShadowDOM",I[I.useTabStops=124]="useTabStops",I[I.wordBreak=125]="wordBreak",I[I.wordSeparators=126]="wordSeparators",I[I.wordWrap=127]="wordWrap",I[I.wordWrapBreakAfterCharacters=128]="wordWrapBreakAfterCharacters",I[I.wordWrapBreakBeforeCharacters=129]="wordWrapBreakBeforeCharacters",I[I.wordWrapColumn=130]="wordWrapColumn",I[I.wordWrapOverride1=131]="wordWrapOverride1",I[I.wordWrapOverride2=132]="wordWrapOverride2",I[I.wrappingIndent=133]="wrappingIndent",I[I.wrappingStrategy=134]="wrappingStrategy",I[I.showDeprecated=135]="showDeprecated",I[I.inlayHints=136]="inlayHints",I[I.editorClassName=137]="editorClassName",I[I.pixelRatio=138]="pixelRatio",I[I.tabFocusMode=139]="tabFocusMode",I[I.layoutInfo=140]="layoutInfo",I[I.wrappingInfo=141]="wrappingInfo",I[I.defaultColorDecorators=142]="defaultColorDecorators"})(ee||(ee={}));var H;(function(I){I[I.TextDefined=0]="TextDefined",I[I.LF=1]="LF",I[I.CRLF=2]="CRLF"})(H||(H={}));var W;(function(I){I[I.LF=0]="LF",I[I.CRLF=1]="CRLF"})(W||(W={}));var F;(function(I){I[I.Left=1]="Left",I[I.Right=2]="Right"})(F||(F={}));var V;(function(I){I[I.None=0]="None",I[I.Indent=1]="Indent",I[I.IndentOutdent=2]="IndentOutdent",I[I.Outdent=3]="Outdent"})(V||(V={}));var N;(function(I){I[I.Both=0]="Both",I[I.Right=1]="Right",I[I.Left=2]="Left",I[I.None=3]="None"})(N||(N={}));var U;(function(I){I[I.Type=1]="Type",I[I.Parameter=2]="Parameter"})(U||(U={}));var d;(function(I){I[I.Automatic=0]="Automatic",I[I.Explicit=1]="Explicit"})(d||(d={}));var j;(function(I){I[I.DependsOnKbLayout=-1]="DependsOnKbLayout",I[I.Unknown=0]="Unknown",I[I.Backspace=1]="Backspace",I[I.Tab=2]="Tab",I[I.Enter=3]="Enter",I[I.Shift=4]="Shift",I[I.Ctrl=5]="Ctrl",I[I.Alt=6]="Alt",I[I.PauseBreak=7]="PauseBreak",I[I.CapsLock=8]="CapsLock",I[I.Escape=9]="Escape",I[I.Space=10]="Space",I[I.PageUp=11]="PageUp",I[I.PageDown=12]="PageDown",I[I.End=13]="End",I[I.Home=14]="Home",I[I.LeftArrow=15]="LeftArrow",I[I.UpArrow=16]="UpArrow",I[I.RightArrow=17]="RightArrow",I[I.DownArrow=18]="DownArrow",I[I.Insert=19]="Insert",I[I.Delete=20]="Delete",I[I.Digit0=21]="Digit0",I[I.Digit1=22]="Digit1",I[I.Digit2=23]="Digit2",I[I.Digit3=24]="Digit3",I[I.Digit4=25]="Digit4",I[I.Digit5=26]="Digit5",I[I.Digit6=27]="Digit6",I[I.Digit7=28]="Digit7",I[I.Digit8=29]="Digit8",I[I.Digit9=30]="Digit9",I[I.KeyA=31]="KeyA",I[I.KeyB=32]="KeyB",I[I.KeyC=33]="KeyC",I[I.KeyD=34]="KeyD",I[I.KeyE=35]="KeyE",I[I.KeyF=36]="KeyF",I[I.KeyG=37]="KeyG",I[I.KeyH=38]="KeyH",I[I.KeyI=39]="KeyI",I[I.KeyJ=40]="KeyJ",I[I.KeyK=41]="KeyK",I[I.KeyL=42]="KeyL",I[I.KeyM=43]="KeyM",I[I.KeyN=44]="KeyN",I[I.KeyO=45]="KeyO",I[I.KeyP=46]="KeyP",I[I.KeyQ=47]="KeyQ",I[I.KeyR=48]="KeyR",I[I.KeyS=49]="KeyS",I[I.KeyT=50]="KeyT",I[I.KeyU=51]="KeyU",I[I.KeyV=52]="KeyV",I[I.KeyW=53]="KeyW",I[I.KeyX=54]="KeyX",I[I.KeyY=55]="KeyY",I[I.KeyZ=56]="KeyZ",I[I.Meta=57]="Meta",I[I.ContextMenu=58]="ContextMenu",I[I.F1=59]="F1",I[I.F2=60]="F2",I[I.F3=61]="F3",I[I.F4=62]="F4",I[I.F5=63]="F5",I[I.F6=64]="F6",I[I.F7=65]="F7",I[I.F8=66]="F8",I[I.F9=67]="F9",I[I.F10=68]="F10",I[I.F11=69]="F11",I[I.F12=70]="F12",I[I.F13=71]="F13",I[I.F14=72]="F14",I[I.F15=73]="F15",I[I.F16=74]="F16",I[I.F17=75]="F17",I[I.F18=76]="F18",I[I.F19=77]="F19",I[I.F20=78]="F20",I[I.F21=79]="F21",I[I.F22=80]="F22",I[I.F23=81]="F23",I[I.F24=82]="F24",I[I.NumLock=83]="NumLock",I[I.ScrollLock=84]="ScrollLock",I[I.Semicolon=85]="Semicolon",I[I.Equal=86]="Equal",I[I.Comma=87]="Comma",I[I.Minus=88]="Minus",I[I.Period=89]="Period",I[I.Slash=90]="Slash",I[I.Backquote=91]="Backquote",I[I.BracketLeft=92]="BracketLeft",I[I.Backslash=93]="Backslash",I[I.BracketRight=94]="BracketRight",I[I.Quote=95]="Quote",I[I.OEM_8=96]="OEM_8",I[I.IntlBackslash=97]="IntlBackslash",I[I.Numpad0=98]="Numpad0",I[I.Numpad1=99]="Numpad1",I[I.Numpad2=100]="Numpad2",I[I.Numpad3=101]="Numpad3",I[I.Numpad4=102]="Numpad4",I[I.Numpad5=103]="Numpad5",I[I.Numpad6=104]="Numpad6",I[I.Numpad7=105]="Numpad7",I[I.Numpad8=106]="Numpad8",I[I.Numpad9=107]="Numpad9",I[I.NumpadMultiply=108]="NumpadMultiply",I[I.NumpadAdd=109]="NumpadAdd",I[I.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",I[I.NumpadSubtract=111]="NumpadSubtract",I[I.NumpadDecimal=112]="NumpadDecimal",I[I.NumpadDivide=113]="NumpadDivide",I[I.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",I[I.ABNT_C1=115]="ABNT_C1",I[I.ABNT_C2=116]="ABNT_C2",I[I.AudioVolumeMute=117]="AudioVolumeMute",I[I.AudioVolumeUp=118]="AudioVolumeUp",I[I.AudioVolumeDown=119]="AudioVolumeDown",I[I.BrowserSearch=120]="BrowserSearch",I[I.BrowserHome=121]="BrowserHome",I[I.BrowserBack=122]="BrowserBack",I[I.BrowserForward=123]="BrowserForward",I[I.MediaTrackNext=124]="MediaTrackNext",I[I.MediaTrackPrevious=125]="MediaTrackPrevious",I[I.MediaStop=126]="MediaStop",I[I.MediaPlayPause=127]="MediaPlayPause",I[I.LaunchMediaPlayer=128]="LaunchMediaPlayer",I[I.LaunchMail=129]="LaunchMail",I[I.LaunchApp2=130]="LaunchApp2",I[I.Clear=131]="Clear",I[I.MAX_VALUE=132]="MAX_VALUE"})(j||(j={}));var C;(function(I){I[I.Hint=1]="Hint",I[I.Info=2]="Info",I[I.Warning=4]="Warning",I[I.Error=8]="Error"})(C||(C={}));var x;(function(I){I[I.Unnecessary=1]="Unnecessary",I[I.Deprecated=2]="Deprecated"})(x||(x={}));var S;(function(I){I[I.Inline=1]="Inline",I[I.Gutter=2]="Gutter"})(S||(S={}));var T;(function(I){I[I.UNKNOWN=0]="UNKNOWN",I[I.TEXTAREA=1]="TEXTAREA",I[I.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",I[I.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",I[I.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",I[I.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",I[I.CONTENT_TEXT=6]="CONTENT_TEXT",I[I.CONTENT_EMPTY=7]="CONTENT_EMPTY",I[I.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",I[I.CONTENT_WIDGET=9]="CONTENT_WIDGET",I[I.OVERVIEW_RULER=10]="OVERVIEW_RULER",I[I.SCROLLBAR=11]="SCROLLBAR",I[I.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",I[I.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(T||(T={}));var z;(function(I){I[I.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",I[I.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",I[I.TOP_CENTER=2]="TOP_CENTER"})(z||(z={}));var A;(function(I){I[I.Left=1]="Left",I[I.Center=2]="Center",I[I.Right=4]="Right",I[I.Full=7]="Full"})(A||(A={}));var ue;(function(I){I[I.Left=0]="Left",I[I.Right=1]="Right",I[I.None=2]="None",I[I.LeftOfInjectedText=3]="LeftOfInjectedText",I[I.RightOfInjectedText=4]="RightOfInjectedText"})(ue||(ue={}));var be;(function(I){I[I.Off=0]="Off",I[I.On=1]="On",I[I.Relative=2]="Relative",I[I.Interval=3]="Interval",I[I.Custom=4]="Custom"})(be||(be={}));var de;(function(I){I[I.None=0]="None",I[I.Text=1]="Text",I[I.Blocks=2]="Blocks"})(de||(de={}));var ke;(function(I){I[I.Smooth=0]="Smooth",I[I.Immediate=1]="Immediate"})(ke||(ke={}));var he;(function(I){I[I.Auto=1]="Auto",I[I.Hidden=2]="Hidden",I[I.Visible=3]="Visible"})(he||(he={}));var ge;(function(I){I[I.LTR=0]="LTR",I[I.RTL=1]="RTL"})(ge||(ge={}));var ce;(function(I){I[I.Invoke=1]="Invoke",I[I.TriggerCharacter=2]="TriggerCharacter",I[I.ContentChange=3]="ContentChange"})(ce||(ce={}));var k;(function(I){I[I.File=0]="File",I[I.Module=1]="Module",I[I.Namespace=2]="Namespace",I[I.Package=3]="Package",I[I.Class=4]="Class",I[I.Method=5]="Method",I[I.Property=6]="Property",I[I.Field=7]="Field",I[I.Constructor=8]="Constructor",I[I.Enum=9]="Enum",I[I.Interface=10]="Interface",I[I.Function=11]="Function",I[I.Variable=12]="Variable",I[I.Constant=13]="Constant",I[I.String=14]="String",I[I.Number=15]="Number",I[I.Boolean=16]="Boolean",I[I.Array=17]="Array",I[I.Object=18]="Object",I[I.Key=19]="Key",I[I.Null=20]="Null",I[I.EnumMember=21]="EnumMember",I[I.Struct=22]="Struct",I[I.Event=23]="Event",I[I.Operator=24]="Operator",I[I.TypeParameter=25]="TypeParameter"})(k||(k={}));var w;(function(I){I[I.Deprecated=1]="Deprecated"})(w||(w={}));var B;(function(I){I[I.Hidden=0]="Hidden",I[I.Blink=1]="Blink",I[I.Smooth=2]="Smooth",I[I.Phase=3]="Phase",I[I.Expand=4]="Expand",I[I.Solid=5]="Solid"})(B||(B={}));var Y;(function(I){I[I.Line=1]="Line",I[I.Block=2]="Block",I[I.Underline=3]="Underline",I[I.LineThin=4]="LineThin",I[I.BlockOutline=5]="BlockOutline",I[I.UnderlineThin=6]="UnderlineThin"})(Y||(Y={}));var pe;(function(I){I[I.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",I[I.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",I[I.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",I[I.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(pe||(pe={}));var me;(function(I){I[I.None=0]="None",I[I.Same=1]="Same",I[I.Indent=2]="Indent",I[I.DeepIndent=3]="DeepIndent"})(me||(me={}))},"aK+R":function(fn,K,a){},"aKo+":function(fn,K,a){"use strict";a.d(K,"a",function(){return d});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("w4Tj"),re=a("oZsa"),J=a("yKVA"),$=a("879j"),y=a("D3Dy"),Q=a("MI8n"),L=a("pmY6"),ne=a("DMKg"),ee=function(){function j(C,x){Object(De.a)(this,j),this.chr=C,this.type=x,this.width=0}return Object(E.a)(j,[{key:"fulfill",value:function(x){this.width=x}}]),j}(),H=function(){function j(C,x){Object(De.a)(this,j),this._bareFontInfo=C,this._requests=x,this._container=null,this._testElements=null}return Object(E.a)(j,[{key:"read",value:function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}},{key:"_createDomElements",value:function(){var x=document.createElement("div");x.style.position="absolute",x.style.top="-50000px",x.style.width="50000px";var S=document.createElement("div");Object(ne.a)(S,this._bareFontInfo),x.appendChild(S);var T=document.createElement("div");Object(ne.a)(T,this._bareFontInfo),T.style.fontWeight="bold",x.appendChild(T);var z=document.createElement("div");Object(ne.a)(z,this._bareFontInfo),z.style.fontStyle="italic",x.appendChild(z);var A=[],ue=Object(le.a)(this._requests),be;try{for(ue.s();!(be=ue.n()).done;){var de=be.value,ke=void 0;de.type===0&&(ke=S),de.type===2&&(ke=T),de.type===1&&(ke=z),ke.appendChild(document.createElement("br"));var he=document.createElement("span");j._render(he,de),ke.appendChild(he),A.push(he)}}catch(ge){ue.e(ge)}finally{ue.f()}this._container=x,this._testElements=A}},{key:"_readFromDomElements",value:function(){for(var x=0,S=this._requests.length;x<S;x++){var T=this._requests[x],z=this._testElements[x];T.fulfill(z.offsetWidth/256)}}}],[{key:"_render",value:function(x,S){if(S.chr===" "){for(var T="\xA0",z=0;z<8;z++)T+=T;x.innerText=T}else{for(var A=S.chr,ue=0;ue<8;ue++)A+=A;x.textContent=A}}}]),j}();function W(j,C){var x=new H(j,C);x.read()}var F=a("/UlZ"),V=a("+3Gp"),N=function(j){Object(J.a)(x,j);var C=Object($.a)(x);function x(){var S;return Object(De.a)(this,x),S=C.call(this),S._onDidChange=S._register(new Q.b),S.onDidChange=S._onDidChange.event,S._cache=new U,S._evictUntrustedReadingsTimeout=-1,S}return Object(E.a)(x,[{key:"dispose",value:function(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),Object(ve.a)(Object(re.a)(x.prototype),"dispose",this).call(this)}},{key:"clearAllFontInfos",value:function(){this._cache=new U,this._onDidChange.fire()}},{key:"_writeToCache",value:function(T,z){var A=this;this._cache.put(T,z),!z.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(function(){A._evictUntrustedReadingsTimeout=-1,A._evictUntrustedReadings()},5e3))}},{key:"_evictUntrustedReadings",value:function(){var T=this._cache.getValues(),z=!1,A=Object(le.a)(T),ue;try{for(A.s();!(ue=A.n()).done;){var be=ue.value;be.isTrusted||(z=!0,this._cache.remove(be))}}catch(de){A.e(de)}finally{A.f()}z&&this._onDidChange.fire()}},{key:"readFontInfo",value:function(T){if(!this._cache.has(T)){var z=this._actualReadFontInfo(T);(z.typicalHalfwidthCharacterWidth<=2||z.typicalFullwidthCharacterWidth<=2||z.spaceWidth<=2||z.maxDigitWidth<=2)&&(z=new V.b({pixelRatio:y.PixelRatio.value,fontFamily:z.fontFamily,fontWeight:z.fontWeight,fontSize:z.fontSize,fontFeatureSettings:z.fontFeatureSettings,fontVariationSettings:z.fontVariationSettings,lineHeight:z.lineHeight,letterSpacing:z.letterSpacing,isMonospace:z.isMonospace,typicalHalfwidthCharacterWidth:Math.max(z.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(z.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:z.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(z.spaceWidth,5),middotWidth:Math.max(z.middotWidth,5),wsmiddotWidth:Math.max(z.wsmiddotWidth,5),maxDigitWidth:Math.max(z.maxDigitWidth,5)},!1)),this._writeToCache(T,z)}return this._cache.get(T)}},{key:"_createRequest",value:function(T,z,A,ue){var be=new ee(T,z);return A.push(be),ue==null||ue.push(be),be}},{key:"_actualReadFontInfo",value:function(T){for(var z=[],A=[],ue=this._createRequest("n",0,z,A),be=this._createRequest("\uFF4D",0,z,null),de=this._createRequest(" ",0,z,A),ke=this._createRequest("0",0,z,A),he=this._createRequest("1",0,z,A),ge=this._createRequest("2",0,z,A),ce=this._createRequest("3",0,z,A),k=this._createRequest("4",0,z,A),w=this._createRequest("5",0,z,A),B=this._createRequest("6",0,z,A),Y=this._createRequest("7",0,z,A),pe=this._createRequest("8",0,z,A),me=this._createRequest("9",0,z,A),I=this._createRequest("\u2192",0,z,A),we=this._createRequest("\uFFEB",0,z,null),Re=this._createRequest("\xB7",0,z,A),Oe=this._createRequest(String.fromCharCode(11825),0,z,null),Pe="|/-_ilm%",Ne=0,Ke=Pe.length;Ne<Ke;Ne++)this._createRequest(Pe.charAt(Ne),0,z,A),this._createRequest(Pe.charAt(Ne),1,z,A),this._createRequest(Pe.charAt(Ne),2,z,A);W(T,z);for(var Xe=Math.max(ke.width,he.width,ge.width,ce.width,k.width,w.width,B.width,Y.width,pe.width,me.width),wt=T.fontFeatureSettings===F.e.OFF,Ct=A[0].width,bt=1,mt=A.length;wt&&bt<mt;bt++){var jt=Ct-A[bt].width;if(jt<-.001||jt>.001){wt=!1;break}}var Je=!0;return wt&&we.width!==Ct&&(Je=!1),we.width>I.width&&(Je=!1),new V.b({pixelRatio:y.PixelRatio.value,fontFamily:T.fontFamily,fontWeight:T.fontWeight,fontSize:T.fontSize,fontFeatureSettings:T.fontFeatureSettings,fontVariationSettings:T.fontVariationSettings,lineHeight:T.lineHeight,letterSpacing:T.letterSpacing,isMonospace:wt,typicalHalfwidthCharacterWidth:ue.width,typicalFullwidthCharacterWidth:be.width,canUseHalfwidthRightwardsArrow:Je,spaceWidth:de.width,middotWidth:Re.width,wsmiddotWidth:Oe.width,maxDigitWidth:Xe},!0)}}]),x}(L.a),U=function(){function j(){Object(De.a)(this,j),this._keys=Object.create(null),this._values=Object.create(null)}return Object(E.a)(j,[{key:"has",value:function(x){var S=x.getId();return!!this._values[S]}},{key:"get",value:function(x){var S=x.getId();return this._values[S]}},{key:"put",value:function(x,S){var T=x.getId();this._keys[T]=x,this._values[T]=S}},{key:"remove",value:function(x){var S=x.getId();delete this._keys[S],delete this._values[S]}},{key:"getValues",value:function(){var x=this;return Object.keys(this._keys).map(function(S){return x._values[S]})}}]),j}(),d=new N},aokT:function(fn,K,a){"use strict";a.d(K,"a",function(){return ve});var le=a("fWQN"),De=a("mtLc"),E=a("cGHE"),ve=function(){function re(J,$,y,Q){Object(le.a)(this,re),J>y||J===y&&$>Q?(this.startLineNumber=y,this.startColumn=Q,this.endLineNumber=J,this.endColumn=$):(this.startLineNumber=J,this.startColumn=$,this.endLineNumber=y,this.endColumn=Q)}return Object(De.a)(re,[{key:"isEmpty",value:function(){return re.isEmpty(this)}},{key:"containsPosition",value:function($){return re.containsPosition(this,$)}},{key:"containsRange",value:function($){return re.containsRange(this,$)}},{key:"strictContainsRange",value:function($){return re.strictContainsRange(this,$)}},{key:"plusRange",value:function($){return re.plusRange(this,$)}},{key:"intersectRanges",value:function($){return re.intersectRanges(this,$)}},{key:"equalsRange",value:function($){return re.equalsRange(this,$)}},{key:"getEndPosition",value:function(){return re.getEndPosition(this)}},{key:"getStartPosition",value:function(){return re.getStartPosition(this)}},{key:"toString",value:function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}},{key:"setEndPosition",value:function($,y){return new re(this.startLineNumber,this.startColumn,$,y)}},{key:"setStartPosition",value:function($,y){return new re($,y,this.endLineNumber,this.endColumn)}},{key:"collapseToStart",value:function(){return re.collapseToStart(this)}},{key:"collapseToEnd",value:function(){return re.collapseToEnd(this)}},{key:"delta",value:function($){return new re(this.startLineNumber+$,this.startColumn,this.endLineNumber+$,this.endColumn)}},{key:"toJSON",value:function(){return this}}],[{key:"isEmpty",value:function($){return $.startLineNumber===$.endLineNumber&&$.startColumn===$.endColumn}},{key:"containsPosition",value:function($,y){return!(y.lineNumber<$.startLineNumber||y.lineNumber>$.endLineNumber||y.lineNumber===$.startLineNumber&&y.column<$.startColumn||y.lineNumber===$.endLineNumber&&y.column>$.endColumn)}},{key:"strictContainsPosition",value:function($,y){return!(y.lineNumber<$.startLineNumber||y.lineNumber>$.endLineNumber||y.lineNumber===$.startLineNumber&&y.column<=$.startColumn||y.lineNumber===$.endLineNumber&&y.column>=$.endColumn)}},{key:"containsRange",value:function($,y){return!(y.startLineNumber<$.startLineNumber||y.endLineNumber<$.startLineNumber||y.startLineNumber>$.endLineNumber||y.endLineNumber>$.endLineNumber||y.startLineNumber===$.startLineNumber&&y.startColumn<$.startColumn||y.endLineNumber===$.endLineNumber&&y.endColumn>$.endColumn)}},{key:"strictContainsRange",value:function($,y){return!(y.startLineNumber<$.startLineNumber||y.endLineNumber<$.startLineNumber||y.startLineNumber>$.endLineNumber||y.endLineNumber>$.endLineNumber||y.startLineNumber===$.startLineNumber&&y.startColumn<=$.startColumn||y.endLineNumber===$.endLineNumber&&y.endColumn>=$.endColumn)}},{key:"plusRange",value:function($,y){var Q,L,ne,ee;return y.startLineNumber<$.startLineNumber?(Q=y.startLineNumber,L=y.startColumn):y.startLineNumber===$.startLineNumber?(Q=y.startLineNumber,L=Math.min(y.startColumn,$.startColumn)):(Q=$.startLineNumber,L=$.startColumn),y.endLineNumber>$.endLineNumber?(ne=y.endLineNumber,ee=y.endColumn):y.endLineNumber===$.endLineNumber?(ne=y.endLineNumber,ee=Math.max(y.endColumn,$.endColumn)):(ne=$.endLineNumber,ee=$.endColumn),new re(Q,L,ne,ee)}},{key:"intersectRanges",value:function($,y){var Q=$.startLineNumber,L=$.startColumn,ne=$.endLineNumber,ee=$.endColumn,H=y.startLineNumber,W=y.startColumn,F=y.endLineNumber,V=y.endColumn;return Q<H?(Q=H,L=W):Q===H&&(L=Math.max(L,W)),ne>F?(ne=F,ee=V):ne===F&&(ee=Math.min(ee,V)),Q>ne||Q===ne&&L>ee?null:new re(Q,L,ne,ee)}},{key:"equalsRange",value:function($,y){return!$&&!y?!0:!!$&&!!y&&$.startLineNumber===y.startLineNumber&&$.startColumn===y.startColumn&&$.endLineNumber===y.endLineNumber&&$.endColumn===y.endColumn}},{key:"getEndPosition",value:function($){return new E.a($.endLineNumber,$.endColumn)}},{key:"getStartPosition",value:function($){return new E.a($.startLineNumber,$.startColumn)}},{key:"collapseToStart",value:function($){return new re($.startLineNumber,$.startColumn,$.startLineNumber,$.startColumn)}},{key:"collapseToEnd",value:function($){return new re($.endLineNumber,$.endColumn,$.endLineNumber,$.endColumn)}},{key:"fromPositions",value:function($){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$;return new re($.lineNumber,$.column,y.lineNumber,y.column)}},{key:"lift",value:function($){return $?new re($.startLineNumber,$.startColumn,$.endLineNumber,$.endColumn):null}},{key:"isIRange",value:function($){return $&&typeof $.startLineNumber=="number"&&typeof $.startColumn=="number"&&typeof $.endLineNumber=="number"&&typeof $.endColumn=="number"}},{key:"areIntersectingOrTouching",value:function($,y){return!($.endLineNumber<y.startLineNumber||$.endLineNumber===y.startLineNumber&&$.endColumn<y.startColumn||y.endLineNumber<$.startLineNumber||y.endLineNumber===$.startLineNumber&&y.endColumn<$.startColumn)}},{key:"areIntersecting",value:function($,y){return!($.endLineNumber<y.startLineNumber||$.endLineNumber===y.startLineNumber&&$.endColumn<=y.startColumn||y.endLineNumber<$.startLineNumber||y.endLineNumber===$.startLineNumber&&y.endColumn<=$.startColumn)}},{key:"compareRangesUsingStarts",value:function($,y){if($&&y){var Q=$.startLineNumber|0,L=y.startLineNumber|0;if(Q===L){var ne=$.startColumn|0,ee=y.startColumn|0;if(ne===ee){var H=$.endLineNumber|0,W=y.endLineNumber|0;if(H===W){var F=$.endColumn|0,V=y.endColumn|0;return F-V}return H-W}return ne-ee}return Q-L}var N=$?1:0,U=y?1:0;return N-U}},{key:"compareRangesUsingEnds",value:function($,y){return $.endLineNumber===y.endLineNumber?$.endColumn===y.endColumn?$.startLineNumber===y.startLineNumber?$.startColumn-y.startColumn:$.startLineNumber-y.startLineNumber:$.endColumn-y.endColumn:$.endLineNumber-y.endLineNumber}},{key:"spansMultipleLines",value:function($){return $.endLineNumber>$.startLineNumber}}]),re}()},bE4E:function(fn,K,a){},bY76:function(fn,K,a){"use strict";a.d(K,"a",function(){return U}),a.d(K,"b",function(){return T});var le=a("jrin"),De=a("yKVA"),E=a("879j"),ve=a("fWQN"),re=a("mtLc"),J=a("MrjW"),$=a("MNsG"),y,Q=/^\w[\w\d+.-]*$/,L=/^\//,ne=/^\/\//;function ee(de,ke){if(!de.scheme&&ke)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(de.authority,'", path: "').concat(de.path,'", query: "').concat(de.query,'", fragment: "').concat(de.fragment,'"}'));if(de.scheme&&!Q.test(de.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(de.path){if(de.authority){if(!L.test(de.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(ne.test(de.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function H(de,ke){return!de&&!ke?"file":de}function W(de,ke){switch(de){case"https":case"http":case"file":ke?ke[0]!==V&&(ke=V+ke):ke=V;break}return ke}var F="",V="/",N=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,U=function(){function de(ke,he,ge,ce,k){var w=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;Object(ve.a)(this,de),typeof ke=="object"?(this.scheme=ke.scheme||F,this.authority=ke.authority||F,this.path=ke.path||F,this.query=ke.query||F,this.fragment=ke.fragment||F):(this.scheme=H(ke,w),this.authority=he||F,this.path=W(this.scheme,ge||F),this.query=ce||F,this.fragment=k||F,ee(this,w))}return Object(re.a)(de,[{key:"fsPath",get:function(){return T(this,!1)}},{key:"with",value:function(he){if(!he)return this;var ge=he.scheme,ce=he.authority,k=he.path,w=he.query,B=he.fragment;return ge===void 0?ge=this.scheme:ge===null&&(ge=F),ce===void 0?ce=this.authority:ce===null&&(ce=F),k===void 0?k=this.path:k===null&&(k=F),w===void 0?w=this.query:w===null&&(w=F),B===void 0?B=this.fragment:B===null&&(B=F),ge===this.scheme&&ce===this.authority&&k===this.path&&w===this.query&&B===this.fragment?this:new j(ge,ce,k,w,B)}},{key:"toString",value:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return z(this,he)}},{key:"toJSON",value:function(){return this}}],[{key:"isUri",value:function(he){return he instanceof de?!0:he?typeof he.authority=="string"&&typeof he.fragment=="string"&&typeof he.path=="string"&&typeof he.query=="string"&&typeof he.scheme=="string"&&typeof he.fsPath=="string"&&typeof he.with=="function"&&typeof he.toString=="function":!1}},{key:"parse",value:function(he){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ce=N.exec(he);return ce?new j(ce[2]||F,be(ce[4]||F),be(ce[5]||F),be(ce[7]||F),be(ce[9]||F),ge):new j(F,F,F,F,F)}},{key:"file",value:function(he){var ge=F;if($.o&&(he=he.replace(/\\/g,V)),he[0]===V&&he[1]===V){var ce=he.indexOf(V,2);ce===-1?(ge=he.substring(2),he=V):(ge=he.substring(2,ce),he=he.substring(ce)||V)}return new j("file",ge,he,F,F)}},{key:"from",value:function(he,ge){var ce=new j(he.scheme,he.authority,he.path,he.query,he.fragment,ge);return ce}},{key:"joinPath",value:function(he){if(!he.path)throw new Error("[UriError]: cannot call joinPath on URI without path");for(var ge,ce=arguments.length,k=new Array(ce>1?ce-1:0),w=1;w<ce;w++)k[w-1]=arguments[w];if($.o&&he.scheme==="file"){var B;ge=de.file((B=J.i).join.apply(B,[T(he,!0)].concat(k))).path}else{var Y;ge=(Y=J.e).join.apply(Y,[he.path].concat(k))}return he.with({path:ge})}},{key:"revive",value:function(he){var ge,ce;if(he){if(he instanceof de)return he;var k=new j(he);return k._formatted=(ge=he.external)!==null&&ge!==void 0?ge:null,k._fsPath=he._sep===d&&(ce=he.fsPath)!==null&&ce!==void 0?ce:null,k}else return he}}]),de}(),d=$.o?1:void 0,j=function(de){Object(De.a)(he,de);var ke=Object(E.a)(he);function he(){var ge;return Object(ve.a)(this,he),ge=ke.apply(this,arguments),ge._formatted=null,ge._fsPath=null,ge}return Object(re.a)(he,[{key:"fsPath",get:function(){return this._fsPath||(this._fsPath=T(this,!1)),this._fsPath}},{key:"toString",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return ce?z(this,!0):(this._formatted||(this._formatted=z(this,!1)),this._formatted)}},{key:"toJSON",value:function(){var ce={$mid:1};return this._fsPath&&(ce.fsPath=this._fsPath,ce._sep=d),this._formatted&&(ce.external=this._formatted),this.path&&(ce.path=this.path),this.scheme&&(ce.scheme=this.scheme),this.authority&&(ce.authority=this.authority),this.query&&(ce.query=this.query),this.fragment&&(ce.fragment=this.fragment),ce}}]),he}(U),C=(y={},Object(le.a)(y,58,"%3A"),Object(le.a)(y,47,"%2F"),Object(le.a)(y,63,"%3F"),Object(le.a)(y,35,"%23"),Object(le.a)(y,91,"%5B"),Object(le.a)(y,93,"%5D"),Object(le.a)(y,64,"%40"),Object(le.a)(y,33,"%21"),Object(le.a)(y,36,"%24"),Object(le.a)(y,38,"%26"),Object(le.a)(y,39,"%27"),Object(le.a)(y,40,"%28"),Object(le.a)(y,41,"%29"),Object(le.a)(y,42,"%2A"),Object(le.a)(y,43,"%2B"),Object(le.a)(y,44,"%2C"),Object(le.a)(y,59,"%3B"),Object(le.a)(y,61,"%3D"),Object(le.a)(y,32,"%20"),y);function x(de,ke,he){for(var ge=void 0,ce=-1,k=0;k<de.length;k++){var w=de.charCodeAt(k);if(w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||w===45||w===46||w===95||w===126||ke&&w===47||he&&w===91||he&&w===93||he&&w===58)ce!==-1&&(ge+=encodeURIComponent(de.substring(ce,k)),ce=-1),ge!==void 0&&(ge+=de.charAt(k));else{ge===void 0&&(ge=de.substr(0,k));var B=C[w];B!==void 0?(ce!==-1&&(ge+=encodeURIComponent(de.substring(ce,k)),ce=-1),ge+=B):ce===-1&&(ce=k)}}return ce!==-1&&(ge+=encodeURIComponent(de.substring(ce))),ge!==void 0?ge:de}function S(de){for(var ke=void 0,he=0;he<de.length;he++){var ge=de.charCodeAt(he);ge===35||ge===63?(ke===void 0&&(ke=de.substr(0,he)),ke+=C[ge]):ke!==void 0&&(ke+=de[he])}return ke!==void 0?ke:de}function T(de,ke){var he;return de.authority&&de.path.length>1&&de.scheme==="file"?he="//".concat(de.authority).concat(de.path):de.path.charCodeAt(0)===47&&(de.path.charCodeAt(1)>=65&&de.path.charCodeAt(1)<=90||de.path.charCodeAt(1)>=97&&de.path.charCodeAt(1)<=122)&&de.path.charCodeAt(2)===58?ke?he=de.path.substr(1):he=de.path[1].toLowerCase()+de.path.substr(2):he=de.path,$.o&&(he=he.replace(/\//g,"\\")),he}function z(de,ke){var he=ke?S:x,ge="",ce=de.scheme,k=de.authority,w=de.path,B=de.query,Y=de.fragment;if(ce&&(ge+=ce,ge+=":"),(k||ce==="file")&&(ge+=V,ge+=V),k){var pe=k.indexOf("@");if(pe!==-1){var me=k.substr(0,pe);k=k.substr(pe+1),pe=me.lastIndexOf(":"),pe===-1?ge+=he(me,!1,!1):(ge+=he(me.substr(0,pe),!1,!1),ge+=":",ge+=he(me.substr(pe+1),!1,!0)),ge+="@"}k=k.toLowerCase(),pe=k.lastIndexOf(":"),pe===-1?ge+=he(k,!1,!0):(ge+=he(k.substr(0,pe),!1,!0),ge+=k.substr(pe))}if(w){if(w.length>=3&&w.charCodeAt(0)===47&&w.charCodeAt(2)===58){var I=w.charCodeAt(1);I>=65&&I<=90&&(w="/".concat(String.fromCharCode(I+32),":").concat(w.substr(3)))}else if(w.length>=2&&w.charCodeAt(1)===58){var we=w.charCodeAt(0);we>=65&&we<=90&&(w="".concat(String.fromCharCode(we+32),":").concat(w.substr(2)))}ge+=he(w,!0,!1)}return B&&(ge+="?",ge+=he(B,!1,!1)),Y&&(ge+="#",ge+=ke?Y:x(Y,!1,!1)),ge}function A(de){try{return decodeURIComponent(de)}catch(ke){return de.length>3?de.substr(0,3)+A(de.substr(3)):de}}var ue=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function be(de){return de.match(ue)?de.replace(ue,function(ke){return A(ke)}):de}},bZhu:function(fn,K,a){"use strict";a.d(K,"a",function(){return ne}),a.d(K,"c",function(){return ee}),a.d(K,"b",function(){return H});var le=a("mtLc"),De=a("fWQN"),E=a("yKVA"),ve=a("879j"),re=a("kXS7"),J=a("Vhoy"),$=a("3/fG"),y=$.b("caseDescription","Match Case"),Q=$.b("wordsDescription","Match Whole Word"),L=$.b("regexDescription","Use Regular Expression"),ne=function(W){Object(E.a)(V,W);var F=Object(ve.a)(V);function V(N){return Object(De.a)(this,V),F.call(this,{icon:J.a.caseSensitive,title:y+N.appendTitle,isChecked:N.isChecked,inputActiveOptionBorder:N.inputActiveOptionBorder,inputActiveOptionForeground:N.inputActiveOptionForeground,inputActiveOptionBackground:N.inputActiveOptionBackground})}return Object(le.a)(V)}(re.a),ee=function(W){Object(E.a)(V,W);var F=Object(ve.a)(V);function V(N){return Object(De.a)(this,V),F.call(this,{icon:J.a.wholeWord,title:Q+N.appendTitle,isChecked:N.isChecked,inputActiveOptionBorder:N.inputActiveOptionBorder,inputActiveOptionForeground:N.inputActiveOptionForeground,inputActiveOptionBackground:N.inputActiveOptionBackground})}return Object(le.a)(V)}(re.a),H=function(W){Object(E.a)(V,W);var F=Object(ve.a)(V);function V(N){return Object(De.a)(this,V),F.call(this,{icon:J.a.regex,title:L+N.appendTitle,isChecked:N.isChecked,inputActiveOptionBorder:N.inputActiveOptionBorder,inputActiveOptionForeground:N.inputActiveOptionForeground,inputActiveOptionBackground:N.inputActiveOptionBackground})}return Object(le.a)(V)}(re.a)},baJR:function(fn,K,a){"use strict";a.d(K,"b",function(){return Q}),a.d(K,"c",function(){return L}),a.d(K,"a",function(){return ne}),a.d(K,"d",function(){return W}),a.d(K,"e",function(){return V});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("3/fG"),re=a("N0LK"),J=a("erNZ"),$=a("dBaI"),y=function(){function be(de,ke,he,ge){Object(De.a)(this,be),this.endIndex=de,this.type=ke,this.metadata=he,this.containsRTL=ge,this._linePartBrand=void 0}return Object(E.a)(be,[{key:"isWhitespace",value:function(){return!!(this.metadata&1)}},{key:"isPseudoAfter",value:function(){return!!(this.metadata&4)}}]),be}(),Q=function(){function be(de,ke){Object(De.a)(this,be),this.startOffset=de,this.endOffset=ke}return Object(E.a)(be,[{key:"equals",value:function(ke){return this.startOffset===ke.startOffset&&this.endOffset===ke.endOffset}}]),be}(),L=function(){function be(de,ke,he,ge,ce,k,w,B,Y,pe,me,I,we,Re,Oe,Pe,Ne,Ke,Xe){Object(De.a)(this,be),this.useMonospaceOptimizations=de,this.canUseHalfwidthRightwardsArrow=ke,this.lineContent=he,this.continuesWithWrappedLine=ge,this.isBasicASCII=ce,this.containsRTL=k,this.fauxIndentLength=w,this.lineTokens=B,this.lineDecorations=Y.sort($.a.compare),this.tabSize=pe,this.startVisibleColumn=me,this.spaceWidth=I,this.stopRenderingLineAfter=Oe,this.renderWhitespace=Pe==="all"?4:Pe==="boundary"?1:Pe==="selection"?2:Pe==="trailing"?3:0,this.renderControlCharacters=Ne,this.fontLigatures=Ke,this.selectionsOnLine=Xe&&Xe.sort(function(bt,mt){return bt.startOffset<mt.startOffset?-1:1});var wt=Math.abs(Re-I),Ct=Math.abs(we-I);wt<Ct?(this.renderSpaceWidth=Re,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=we,this.renderSpaceCharCode=183)}return Object(E.a)(be,[{key:"sameSelection",value:function(ke){if(this.selectionsOnLine===null)return ke===null;if(ke===null||ke.length!==this.selectionsOnLine.length)return!1;for(var he=0;he<this.selectionsOnLine.length;he++)if(!this.selectionsOnLine[he].equals(ke[he]))return!1;return!0}},{key:"equals",value:function(ke){return this.useMonospaceOptimizations===ke.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===ke.canUseHalfwidthRightwardsArrow&&this.lineContent===ke.lineContent&&this.continuesWithWrappedLine===ke.continuesWithWrappedLine&&this.isBasicASCII===ke.isBasicASCII&&this.containsRTL===ke.containsRTL&&this.fauxIndentLength===ke.fauxIndentLength&&this.tabSize===ke.tabSize&&this.startVisibleColumn===ke.startVisibleColumn&&this.spaceWidth===ke.spaceWidth&&this.renderSpaceWidth===ke.renderSpaceWidth&&this.renderSpaceCharCode===ke.renderSpaceCharCode&&this.stopRenderingLineAfter===ke.stopRenderingLineAfter&&this.renderWhitespace===ke.renderWhitespace&&this.renderControlCharacters===ke.renderControlCharacters&&this.fontLigatures===ke.fontLigatures&&$.a.equalsArr(this.lineDecorations,ke.lineDecorations)&&this.lineTokens.equals(ke.lineTokens)&&this.sameSelection(ke.selectionsOnLine)}}]),be}(),ne=Object(E.a)(function be(de,ke){Object(De.a)(this,be),this.partIndex=de,this.charIndex=ke}),ee=function(){function be(de,ke){Object(De.a)(this,be),this.length=de,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}return Object(E.a)(be,[{key:"setColumnInfo",value:function(ke,he,ge,ce){var k=(he<<16|ge<<0)>>>0;this._data[ke-1]=k,this._horizontalOffset[ke-1]=ce}},{key:"getHorizontalOffset",value:function(ke){return this._horizontalOffset.length===0?0:this._horizontalOffset[ke-1]}},{key:"charOffsetToPartData",value:function(ke){return this.length===0?0:ke<0?this._data[0]:ke>=this.length?this._data[this.length-1]:this._data[ke]}},{key:"getDomPosition",value:function(ke){var he=this.charOffsetToPartData(ke-1),ge=be.getPartIndex(he),ce=be.getCharIndex(he);return new ne(ge,ce)}},{key:"getColumn",value:function(ke,he){var ge=this.partDataToCharOffset(ke.partIndex,he,ke.charIndex);return ge+1}},{key:"partDataToCharOffset",value:function(ke,he,ge){if(this.length===0)return 0;for(var ce=(ke<<16|ge<<0)>>>0,k=0,w=this.length-1;k+1<w;){var B=k+w>>>1,Y=this._data[B];if(Y===ce)return B;Y>ce?w=B:k=B}if(k===w)return k;var pe=this._data[k],me=this._data[w];if(pe===ce)return k;if(me===ce)return w;var I=be.getPartIndex(pe),we=be.getCharIndex(pe),Re=be.getPartIndex(me),Oe;I!==Re?Oe=he:Oe=be.getCharIndex(me);var Pe=ge-we,Ne=Oe-ge;return Pe<=Ne?k:w}}],[{key:"getPartIndex",value:function(ke){return(ke&4294901760)>>>16}},{key:"getCharIndex",value:function(ke){return(ke&65535)>>>0}}]),be}(),H=Object(E.a)(function be(de,ke,he){Object(De.a)(this,be),this._renderLineOutputBrand=void 0,this.characterMapping=de,this.containsRTL=ke,this.containsForeignElements=he});function W(be,de){if(be.lineContent.length===0){if(be.lineDecorations.length>0){de.appendString("<span>");var ke=0,he=0,ge=0,ce=Object(le.a)(be.lineDecorations),k;try{for(ce.s();!(k=ce.n()).done;){var w=k.value;(w.type===1||w.type===2)&&(de.appendString('<span class="'),de.appendString(w.className),de.appendString('"></span>'),w.type===1&&(ge|=1,ke++),w.type===2&&(ge|=2,he++))}}catch(Y){ce.e(Y)}finally{ce.f()}de.appendString("</span>");var B=new ee(1,ke+he);return B.setColumnInfo(1,ke,0,0),new H(B,!1,ge)}return de.appendString("<span><span></span></span>"),new H(new ee(0,0),!1,0)}return z(U(be),de)}var F=Object(E.a)(function be(de,ke,he,ge){Object(De.a)(this,be),this.characterMapping=de,this.html=ke,this.containsRTL=he,this.containsForeignElements=ge});function V(be){var de=new J.a(1e4),ke=W(be,de);return new F(ke.characterMapping,de.build(),ke.containsRTL,ke.containsForeignElements)}var N=Object(E.a)(function be(de,ke,he,ge,ce,k,w,B,Y,pe,me,I,we,Re,Oe,Pe){Object(De.a)(this,be),this.fontIsMonospace=de,this.canUseHalfwidthRightwardsArrow=ke,this.lineContent=he,this.len=ge,this.isOverflowing=ce,this.overflowingCharCount=k,this.parts=w,this.containsForeignElements=B,this.fauxIndentLength=Y,this.tabSize=pe,this.startVisibleColumn=me,this.containsRTL=I,this.spaceWidth=we,this.renderSpaceCharCode=Re,this.renderWhitespace=Oe,this.renderControlCharacters=Pe});function U(be){var de=be.lineContent,ke,he,ge;be.stopRenderingLineAfter!==-1&&be.stopRenderingLineAfter<de.length?(ke=!0,he=de.length-be.stopRenderingLineAfter,ge=be.stopRenderingLineAfter):(ke=!1,he=0,ge=de.length);var ce=d(de,be.containsRTL,be.lineTokens,be.fauxIndentLength,ge);be.renderControlCharacters&&!be.isBasicASCII&&(ce=x(de,ce)),(be.renderWhitespace===4||be.renderWhitespace===1||be.renderWhitespace===2&&!!be.selectionsOnLine||be.renderWhitespace===3&&!be.continuesWithWrappedLine)&&(ce=S(be,de,ge,ce));var k=0;if(be.lineDecorations.length>0){for(var w=0,B=be.lineDecorations.length;w<B;w++){var Y=be.lineDecorations[w];Y.type===3||Y.type===1?k|=1:Y.type===2&&(k|=2)}ce=T(de,ge,ce,be.lineDecorations)}return be.containsRTL||(ce=j(de,ce,!be.isBasicASCII||be.fontLigatures)),new N(be.useMonospaceOptimizations,be.canUseHalfwidthRightwardsArrow,de,ge,ke,he,ce,k,be.fauxIndentLength,be.tabSize,be.startVisibleColumn,be.containsRTL,be.spaceWidth,be.renderSpaceCharCode,be.renderWhitespace,be.renderControlCharacters)}function d(be,de,ke,he,ge){var ce=[],k=0;he>0&&(ce[k++]=new y(he,"",0,!1));for(var w=he,B=0,Y=ke.getCount();B<Y;B++){var pe=ke.getEndOffset(B);if(!(pe<=he)){var me=ke.getClassName(B);if(pe>=ge){var I=de?re.m(be.substring(w,ge)):!1;ce[k++]=new y(ge,me,0,I);break}var we=de?re.m(be.substring(w,pe)):!1;ce[k++]=new y(pe,me,0,we),w=pe}}return ce}function j(be,de,ke){var he=0,ge=[],ce=0;if(ke)for(var k=0,w=de.length;k<w;k++){var B=de[k],Y=B.endIndex;if(he+50<Y){for(var pe=B.type,me=B.metadata,I=B.containsRTL,we=-1,Re=he,Oe=he;Oe<Y;Oe++)be.charCodeAt(Oe)===32&&(we=Oe),we!==-1&&Oe-Re>=50&&(ge[ce++]=new y(we+1,pe,me,I),Re=we+1,we=-1);Re!==Y&&(ge[ce++]=new y(Y,pe,me,I))}else ge[ce++]=B;he=Y}else for(var Pe=0,Ne=de.length;Pe<Ne;Pe++){var Ke=de[Pe],Xe=Ke.endIndex,wt=Xe-he;if(wt>50){for(var Ct=Ke.type,bt=Ke.metadata,mt=Ke.containsRTL,jt=Math.ceil(wt/50),Je=1;Je<jt;Je++){var Wt=he+Je*50;ge[ce++]=new y(Wt,Ct,bt,mt)}ge[ce++]=new y(Xe,Ct,bt,mt)}else ge[ce++]=Ke;he=Xe}return ge}function C(be){return be<32?be!==9:be===127||be>=8234&&be<=8238||be>=8294&&be<=8297||be>=8206&&be<=8207||be===1564}function x(be,de){var ke=[],he=new y(0,"",0,!1),ge=0,ce=Object(le.a)(de),k;try{for(ce.s();!(k=ce.n()).done;){for(var w=k.value,B=w.endIndex;ge<B;ge++){var Y=be.charCodeAt(ge);C(Y)&&(ge>he.endIndex&&(he=new y(ge,w.type,w.metadata,w.containsRTL),ke.push(he)),he=new y(ge+1,"mtkcontrol",w.metadata,!1),ke.push(he))}ge>he.endIndex&&(he=new y(B,w.type,w.metadata,w.containsRTL),ke.push(he))}}catch(pe){ce.e(pe)}finally{ce.f()}return ke}function S(be,de,ke,he){var ge=be.continuesWithWrappedLine,ce=be.fauxIndentLength,k=be.tabSize,w=be.startVisibleColumn,B=be.useMonospaceOptimizations,Y=be.selectionsOnLine,pe=be.renderWhitespace===1,me=be.renderWhitespace===3,I=be.renderSpaceWidth!==be.spaceWidth,we=[],Re=0,Oe=0,Pe=he[Oe].type,Ne=he[Oe].containsRTL,Ke=he[Oe].endIndex,Xe=he.length,wt=!1,Ct=re.u(de),bt;Ct===-1?(wt=!0,Ct=ke,bt=ke):bt=re.J(de);for(var mt=!1,jt=0,Je=Y&&Y[jt],Wt=w%k,Te=ce;Te<ke;Te++){var fe=de.charCodeAt(Te);Je&&Te>=Je.endOffset&&(jt++,Je=Y&&Y[jt]);var ye=void 0;if(Te<Ct||Te>bt)ye=!0;else if(fe===9)ye=!0;else if(fe===32)if(pe)if(mt)ye=!0;else{var Ee=Te+1<ke?de.charCodeAt(Te+1):0;ye=Ee===32||Ee===9}else ye=!0;else ye=!1;if(ye&&Y&&(ye=!!Je&&Je.startOffset<=Te&&Je.endOffset>Te),ye&&me&&(ye=wt||Te>bt),ye&&Ne&&Te>=Ct&&Te<=bt&&(ye=!1),mt){if(!ye||!B&&Wt>=k){if(I)for(var Ge=Re>0?we[Re-1].endIndex:ce,$e=Ge+1;$e<=Te;$e++)we[Re++]=new y($e,"mtkw",1,!1);else we[Re++]=new y(Te,"mtkw",1,!1);Wt=Wt%k}}else(Te===Ke||ye&&Te>ce)&&(we[Re++]=new y(Te,Pe,0,Ne),Wt=Wt%k);for(fe===9?Wt=k:re.E(fe)?Wt+=2:Wt++,mt=ye;Te===Ke&&(Oe++,Oe<Xe);)Pe=he[Oe].type,Ne=he[Oe].containsRTL,Ke=he[Oe].endIndex}var We=!1;if(mt)if(ge&&pe){var it=ke>0?de.charCodeAt(ke-1):0,Fe=ke>1?de.charCodeAt(ke-2):0,He=it===32&&Fe!==32&&Fe!==9;He||(We=!0)}else We=!0;if(We)if(I)for(var Ye=Re>0?we[Re-1].endIndex:ce,ot=Ye+1;ot<=ke;ot++)we[Re++]=new y(ot,"mtkw",1,!1);else we[Re++]=new y(ke,"mtkw",1,!1);else we[Re++]=new y(ke,Pe,0,Ne);return we}function T(be,de,ke,he){he.sort($.a.compare);for(var ge=$.b.normalize(be,he),ce=ge.length,k=0,w=[],B=0,Y=0,pe=0,me=ke.length;pe<me;pe++){for(var I=ke[pe],we=I.endIndex,Re=I.type,Oe=I.metadata,Pe=I.containsRTL;k<ce&&ge[k].startOffset<we;){var Ne=ge[k];if(Ne.startOffset>Y&&(Y=Ne.startOffset,w[B++]=new y(Y,Re,Oe,Pe)),Ne.endOffset+1<=we)Y=Ne.endOffset+1,w[B++]=new y(Y,Re+" "+Ne.className,Oe|Ne.metadata,Pe),k++;else{Y=we,w[B++]=new y(Y,Re+" "+Ne.className,Oe|Ne.metadata,Pe);break}}we>Y&&(Y=we,w[B++]=new y(Y,Re,Oe,Pe))}var Ke=ke[ke.length-1].endIndex;if(k<ce&&ge[k].startOffset===Ke)for(;k<ce&&ge[k].startOffset===Ke;){var Xe=ge[k];w[B++]=new y(Y,Xe.className,Xe.metadata,!1),k++}return w}function z(be,de){var ke=be.fontIsMonospace,he=be.canUseHalfwidthRightwardsArrow,ge=be.containsForeignElements,ce=be.lineContent,k=be.len,w=be.isOverflowing,B=be.overflowingCharCount,Y=be.parts,pe=be.fauxIndentLength,me=be.tabSize,I=be.startVisibleColumn,we=be.containsRTL,Re=be.spaceWidth,Oe=be.renderSpaceCharCode,Pe=be.renderWhitespace,Ne=be.renderControlCharacters,Ke=new ee(k+1,Y.length),Xe=!1,wt=0,Ct=I,bt=0,mt=0,jt=0;we?de.appendString('<span dir="ltr">'):de.appendString("<span>");for(var Je=0,Wt=Y.length;Je<Wt;Je++){var Te=Y[Je],fe=Te.endIndex,ye=Te.type,Ee=Te.containsRTL,Ge=Pe!==0&&Te.isWhitespace(),$e=Ge&&!ke&&(ye==="mtkw"||!ge),We=wt===fe&&Te.isPseudoAfter();if(bt=0,de.appendString("<span "),Ee&&de.appendString('style="unicode-bidi:isolate" '),de.appendString('class="'),de.appendString($e?"mtkz":ye),de.appendASCIICharCode(34),Ge){for(var it=0,Fe=wt,He=Ct;Fe<fe;Fe++){var Ye=ce.charCodeAt(Fe),ot=(Ye===9?me-He%me:1)|0;it+=ot,Fe>=pe&&(He+=ot)}for($e&&(de.appendString(' style="width:'),de.appendString(String(Re*it)),de.appendString('px"')),de.appendASCIICharCode(62);wt<fe;wt++){Ke.setColumnInfo(wt+1,Je-jt,bt,mt),jt=0;var Kt=ce.charCodeAt(wt),gt=void 0,Ft=void 0;if(Kt===9){gt=me-Ct%me|0,Ft=gt,!he||Ft>1?de.appendCharCode(8594):de.appendCharCode(65515);for(var Jt=2;Jt<=Ft;Jt++)de.appendCharCode(160)}else gt=2,Ft=1,de.appendCharCode(Oe),de.appendCharCode(8204);bt+=gt,mt+=Ft,wt>=pe&&(Ct+=Ft)}}else for(de.appendASCIICharCode(62);wt<fe;wt++){Ke.setColumnInfo(wt+1,Je-jt,bt,mt),jt=0;var qt=ce.charCodeAt(wt),En=1,It=1;switch(qt){case 9:En=me-Ct%me,It=En;for(var si=1;si<=En;si++)de.appendCharCode(160);break;case 32:de.appendCharCode(160);break;case 60:de.appendString("&lt;");break;case 62:de.appendString("&gt;");break;case 38:de.appendString("&amp;");break;case 0:Ne?de.appendCharCode(9216):de.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:de.appendCharCode(65533);break;default:re.E(qt)&&It++,Ne&&qt<32?de.appendCharCode(9216+qt):Ne&&qt===127?de.appendCharCode(9249):Ne&&C(qt)?(de.appendString("[U+"),de.appendString(A(qt)),de.appendString("]"),En=8,It=En):de.appendCharCode(qt)}bt+=En,mt+=It,wt>=pe&&(Ct+=It)}We?jt++:jt=0,wt>=k&&!Xe&&Te.isPseudoAfter()&&(Xe=!0,Ke.setColumnInfo(wt+1,Je,bt,mt)),de.appendString("</span>")}return Xe||Ke.setColumnInfo(k+1,Y.length-1,bt,mt),w&&(de.appendString('<span class="mtkoverflow">'),de.appendString(ve.b("showMore","Show more ({0})",ue(B))),de.appendString("</span>")),de.appendString("</span>"),new H(Ke,we,ge)}function A(be){return be.toString(16).toUpperCase().padStart(4,"0")}function ue(be){return be<1024?ve.b("overflow.chars","{0} chars",be):be<1024*1024?"".concat((be/1024).toFixed(1)," KB"):"".concat((be/1024/1024).toFixed(1)," MB")}},bbsP:function(fn,K,a){"use strict";var le=a("EFp3"),De=a.n(le),E=a("CWI+"),ve=a.n(E)},bexQ:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("keybindingService")},bpiW:function(fn,K,a){},bvvZ:function(fn,K,a){"use strict";a.d(K,"a",function(){return re});var le=a("fWQN"),De=a("mtLc"),E=a("MI8n"),ve=function(){function J(){Object(le.a)(this,J),this._onDidChange=new E.b,this.onDidChange=this._onDidChange.event,this._enabled=!0}return Object(De.a)(J,[{key:"enabled",get:function(){return this._enabled}},{key:"enable",value:function(){this._enabled=!0,this._onDidChange.fire()}},{key:"disable",value:function(){this._enabled=!1,this._onDidChange.fire()}}]),J}(),re=new ve},bx4M:function(fn,K,a){"use strict";var le=a("rePB"),De=a("wx14"),E=a("TSYQ"),ve=a.n(E),re=a("bT9E"),J=a("q1tI"),$=a("H84U"),y=a("3Nzz"),Q=a("/ezw"),L=a("ZTPi"),ne=function(S,T){var z={};for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&T.indexOf(A)<0&&(z[A]=S[A]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ue=0,A=Object.getOwnPropertySymbols(S);ue<A.length;ue++)T.indexOf(A[ue])<0&&Object.prototype.propertyIsEnumerable.call(S,A[ue])&&(z[A[ue]]=S[A[ue]]);return z},ee=function(T){var z=T.prefixCls,A=T.className,ue=T.hoverable,be=ue===void 0?!0:ue,de=ne(T,["prefixCls","className","hoverable"]);return J.createElement($.a,null,function(ke){var he=ke.getPrefixCls,ge=he("card",z),ce=ve()("".concat(ge,"-grid"),A,Object(le.a)({},"".concat(ge,"-grid-hoverable"),be));return J.createElement("div",Object(De.a)({},de,{className:ce}))})},H=ee,W=function(S,T){var z={};for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&T.indexOf(A)<0&&(z[A]=S[A]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ue=0,A=Object.getOwnPropertySymbols(S);ue<A.length;ue++)T.indexOf(A[ue])<0&&Object.prototype.propertyIsEnumerable.call(S,A[ue])&&(z[A[ue]]=S[A[ue]]);return z};function F(S){var T=S.map(function(z,A){return J.createElement("li",{style:{width:"".concat(100/S.length,"%")},key:"action-".concat(A)},J.createElement("span",null,z))});return T}var V=J.forwardRef(function(S,T){var z,A,ue=J.useContext($.b),be=ue.getPrefixCls,de=ue.direction,ke=J.useContext(y.b),he=function(Jt){var qt;(qt=S.onTabChange)===null||qt===void 0||qt.call(S,Jt)},ge=function(){var Jt;return J.Children.forEach(S.children,function(qt){qt&&qt.type&&qt.type===H&&(Jt=!0)}),Jt},ce=S.prefixCls,k=S.className,w=S.extra,B=S.headStyle,Y=B===void 0?{}:B,pe=S.bodyStyle,me=pe===void 0?{}:pe,I=S.title,we=S.loading,Re=S.bordered,Oe=Re===void 0?!0:Re,Pe=S.size,Ne=S.type,Ke=S.cover,Xe=S.actions,wt=S.tabList,Ct=S.children,bt=S.activeTabKey,mt=S.defaultActiveTabKey,jt=S.tabBarExtraContent,Je=S.hoverable,Wt=S.tabProps,Te=Wt===void 0?{}:Wt,fe=W(S,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),ye=be("card",ce),Ee=J.createElement(Q.a,{loading:!0,active:!0,paragraph:{rows:4},title:!1},Ct),Ge=bt!==void 0,$e=Object(De.a)(Object(De.a)({},Te),(z={},Object(le.a)(z,Ge?"activeKey":"defaultActiveKey",Ge?bt:mt),Object(le.a)(z,"tabBarExtraContent",jt),z)),We,it=wt&&wt.length?J.createElement(L.a,Object(De.a)({size:"large"},$e,{className:"".concat(ye,"-head-tabs"),onChange:he,items:wt.map(function(Ft){var Jt;return{label:Ft.tab,key:Ft.key,disabled:(Jt=Ft.disabled)!==null&&Jt!==void 0?Jt:!1}})})):null;(I||w||it)&&(We=J.createElement("div",{className:"".concat(ye,"-head"),style:Y},J.createElement("div",{className:"".concat(ye,"-head-wrapper")},I&&J.createElement("div",{className:"".concat(ye,"-head-title")},I),w&&J.createElement("div",{className:"".concat(ye,"-extra")},w)),it));var Fe=Ke?J.createElement("div",{className:"".concat(ye,"-cover")},Ke):null,He=J.createElement("div",{className:"".concat(ye,"-body"),style:me},we?Ee:Ct),Ye=Xe&&Xe.length?J.createElement("ul",{className:"".concat(ye,"-actions")},F(Xe)):null,ot=Object(re.a)(fe,["onTabChange"]),Kt=Pe||ke,gt=ve()(ye,(A={},Object(le.a)(A,"".concat(ye,"-loading"),we),Object(le.a)(A,"".concat(ye,"-bordered"),Oe),Object(le.a)(A,"".concat(ye,"-hoverable"),Je),Object(le.a)(A,"".concat(ye,"-contain-grid"),ge()),Object(le.a)(A,"".concat(ye,"-contain-tabs"),wt&&wt.length),Object(le.a)(A,"".concat(ye,"-").concat(Kt),Kt),Object(le.a)(A,"".concat(ye,"-type-").concat(Ne),!!Ne),Object(le.a)(A,"".concat(ye,"-rtl"),de==="rtl"),A),k);return J.createElement("div",Object(De.a)({ref:T},ot,{className:gt}),We,Fe,He,Ye)}),N=V,U=function(S,T){var z={};for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&T.indexOf(A)<0&&(z[A]=S[A]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ue=0,A=Object.getOwnPropertySymbols(S);ue<A.length;ue++)T.indexOf(A[ue])<0&&Object.prototype.propertyIsEnumerable.call(S,A[ue])&&(z[A[ue]]=S[A[ue]]);return z},d=function(T){return J.createElement($.a,null,function(z){var A=z.getPrefixCls,ue=T.prefixCls,be=T.className,de=T.avatar,ke=T.title,he=T.description,ge=U(T,["prefixCls","className","avatar","title","description"]),ce=A("card",ue),k=ve()("".concat(ce,"-meta"),be),w=de?J.createElement("div",{className:"".concat(ce,"-meta-avatar")},de):null,B=ke?J.createElement("div",{className:"".concat(ce,"-meta-title")},ke):null,Y=he?J.createElement("div",{className:"".concat(ce,"-meta-description")},he):null,pe=B||Y?J.createElement("div",{className:"".concat(ce,"-meta-detail")},B,Y):null;return J.createElement("div",Object(De.a)({},ge,{className:k}),w,pe)})},j=d,C=N;C.Grid=H,C.Meta=j;var x=K.a=C},bzmS:function(fn,K,a){"use strict";a.d(K,"a",function(){return H});var le=a("rAM+"),De=a("tJVT"),E=a("oBTY"),ve=a("fWQN"),re=a("mtLc"),J=a("N0LK"),$=a("5IQS"),y=a("pvvD"),Q=a("lwGy"),L=a("t4hb"),ne=function(){function W(F){Object(ve.a)(this,W),this.map=F,this.hasRegExp=!1,this._regExpGlobal=null}return Object(re.a)(W,[{key:"getRegExpStr",value:function(){if(this.isEmpty)return null;var V=Object(E.a)(this.map.keys());return V.sort(),V.reverse(),V.map(function(N){return ee(N)}).join("|")}},{key:"regExpGlobal",get:function(){if(!this.hasRegExp){var V=this.getRegExpStr();this._regExpGlobal=V?new RegExp(V,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}},{key:"getToken",value:function(V){return this.map.get(V.toLowerCase())}},{key:"findClosingTokenText",value:function(V){var N=Object(le.a)(this.map),U;try{for(N.s();!(U=N.n()).done;){var d=U.value,j=Object(De.a)(d,2),C=j[0],x=j[1];if(x.kind===2&&x.bracketIds.intersects(V))return C}}catch(S){N.e(S)}finally{N.f()}}},{key:"isEmpty",get:function(){return this.map.size===0}}],[{key:"createFromLanguage",value:function(V,N){function U(w){return N.getKey("".concat(w.languageId,":::").concat(w.bracketText))}var d=new Map,j=Object(le.a)(V.bracketsNew.openingBrackets),C;try{for(j.s();!(C=j.n()).done;){var x=C.value,S=Object(y.q)(0,x.bracketText.length),T=U(x),z=Q.b.getEmpty().add(T,Q.c);d.set(x.bracketText,new L.c(S,1,T,z,$.a.create(S,x,z)))}}catch(w){j.e(w)}finally{j.f()}var A=Object(le.a)(V.bracketsNew.closingBrackets),ue;try{for(A.s();!(ue=A.n()).done;){var be=ue.value,de=Object(y.q)(0,be.bracketText.length),ke=Q.b.getEmpty(),he=be.getOpeningBrackets(),ge=Object(le.a)(he),ce;try{for(ge.s();!(ce=ge.n()).done;){var k=ce.value;ke=ke.add(U(k),Q.c)}}catch(w){ge.e(w)}finally{ge.f()}d.set(be.bracketText,new L.c(de,2,U(he[0]),ke,$.a.create(de,be,ke)))}}catch(w){A.e(w)}finally{A.f()}return new W(d)}}]),W}();function ee(W){var F=Object(J.t)(W);return/^[\w ]+/.test(W)&&(F="\\b".concat(F)),/[\w ]+$/.test(W)&&(F="".concat(F,"\\b")),F}var H=function(){function W(F,V){Object(ve.a)(this,W),this.denseKeyProvider=F,this.getLanguageConfiguration=V,this.languageIdToBracketTokens=new Map}return Object(re.a)(W,[{key:"didLanguageChange",value:function(V){return this.languageIdToBracketTokens.has(V)}},{key:"getSingleLanguageBracketTokens",value:function(V){var N=this.languageIdToBracketTokens.get(V);return N||(N=ne.createFromLanguage(this.getLanguageConfiguration(V),this.denseKeyProvider),this.languageIdToBracketTokens.set(V,N)),N}}]),W}()},c0Ay:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("ILanguageFeaturesService")},c9Qy:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("/cxE");function De(E,ve){var re,J=globalThis.MonacoEnvironment;if(J==null?void 0:J.createTrustedTypesPolicy)try{return J.createTrustedTypesPolicy(E,ve)}catch($){Object(le.h)($);return}try{return(re=window.trustedTypes)===null||re===void 0?void 0:re.createPolicy(E,ve)}catch($){Object(le.h)($);return}}},cGHE:function(fn,K,a){"use strict";a.d(K,"a",function(){return E});var le=a("fWQN"),De=a("mtLc"),E=function(){function ve(re,J){Object(le.a)(this,ve),this.lineNumber=re,this.column=J}return Object(De.a)(ve,[{key:"with",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.lineNumber,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.column;return J===this.lineNumber&&$===this.column?this:new ve(J,$)}},{key:"delta",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.with(this.lineNumber+J,this.column+$)}},{key:"equals",value:function(J){return ve.equals(this,J)}},{key:"isBefore",value:function(J){return ve.isBefore(this,J)}},{key:"isBeforeOrEqual",value:function(J){return ve.isBeforeOrEqual(this,J)}},{key:"clone",value:function(){return new ve(this.lineNumber,this.column)}},{key:"toString",value:function(){return"("+this.lineNumber+","+this.column+")"}}],[{key:"equals",value:function(J,$){return!J&&!$?!0:!!J&&!!$&&J.lineNumber===$.lineNumber&&J.column===$.column}},{key:"isBefore",value:function(J,$){return J.lineNumber<$.lineNumber?!0:$.lineNumber<J.lineNumber?!1:J.column<$.column}},{key:"isBeforeOrEqual",value:function(J,$){return J.lineNumber<$.lineNumber?!0:$.lineNumber<J.lineNumber?!1:J.column<=$.column}},{key:"compare",value:function(J,$){var y=J.lineNumber|0,Q=$.lineNumber|0;if(y===Q){var L=J.column|0,ne=$.column|0;return L-ne}return y-Q}},{key:"lift",value:function(J){return new ve(J.lineNumber,J.column)}},{key:"isIPosition",value:function(J){return J&&typeof J.lineNumber=="number"&&typeof J.column=="number"}}]),ve}()},cMOf:function(fn,K,a){"use strict";a.d(K,"a",function(){return C}),a.d(K,"b",function(){return ke});var le=a("rAM+"),De=a("tS8v"),E=a("w4Tj"),ve=a("oZsa"),re=a("yKVA"),J=a("879j"),$=a("fWQN"),y=a("mtLc"),Q=a("EffR"),L=a("4y0V"),ne=a("pg8w"),ee=a("X+cX"),H=a("ZCR3"),W=a("MI8n"),F=a("pmY6"),V=a("MNsG"),N=a("undH"),U=a.n(N),d=function(he,ge,ce,k){var w=arguments.length,B=w<3?ge:k===null?k=Object.getOwnPropertyDescriptor(ge,ce):k,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(he,ge,ce,k);else for(var pe=he.length-1;pe>=0;pe--)(Y=he[pe])&&(B=(w<3?Y(B):w>3?Y(ge,ce,B):Y(ge,ce))||B);return w>3&&B&&Object.defineProperty(ge,ce,B),B},j=!1,C;(function(he){he.North="north",he.South="south",he.East="east",he.West="west"})(C||(C={}));var x=4,S=new W.b,T=300,z=new W.b,A=function(){function he(){Object($.a)(this,he),this.disposables=new F.c}return Object(y.a)(he,[{key:"onPointerMove",get:function(){return this.disposables.add(new L.a(window,"mousemove")).event}},{key:"onPointerUp",get:function(){return this.disposables.add(new L.a(window,"mouseup")).event}},{key:"dispose",value:function(){this.disposables.dispose()}}]),he}();d([H.a],A.prototype,"onPointerMove",null),d([H.a],A.prototype,"onPointerUp",null);var ue=function(){function he(ge){Object($.a)(this,he),this.el=ge,this.disposables=new F.c}return Object(y.a)(he,[{key:"onPointerMove",get:function(){return this.disposables.add(new L.a(this.el,ne.a.Change)).event}},{key:"onPointerUp",get:function(){return this.disposables.add(new L.a(this.el,ne.a.End)).event}},{key:"dispose",value:function(){this.disposables.dispose()}}]),he}();d([H.a],ue.prototype,"onPointerMove",null),d([H.a],ue.prototype,"onPointerUp",null);var be=function(){function he(ge){Object($.a)(this,he),this.factory=ge}return Object(y.a)(he,[{key:"onPointerMove",get:function(){return this.factory.onPointerMove}},{key:"onPointerUp",get:function(){return this.factory.onPointerUp}},{key:"dispose",value:function(){}}]),he}();d([H.a],be.prototype,"onPointerMove",null),d([H.a],be.prototype,"onPointerUp",null);var de="pointer-events-disabled",ke=function(he){Object(re.a)(ce,he);var ge=Object(J.a)(ce);function ce(k,w,B){var Y;Object($.a)(this,ce),Y=ge.call(this),Y.hoverDelay=T,Y.hoverDelayer=Y._register(new ee.c(Y.hoverDelay)),Y._state=3,Y.onDidEnablementChange=Y._register(new W.b),Y._onDidStart=Y._register(new W.b),Y._onDidChange=Y._register(new W.b),Y._onDidReset=Y._register(new W.b),Y._onDidEnd=Y._register(new W.b),Y.orthogonalStartSashDisposables=Y._register(new F.c),Y.orthogonalStartDragHandleDisposables=Y._register(new F.c),Y.orthogonalEndSashDisposables=Y._register(new F.c),Y.orthogonalEndDragHandleDisposables=Y._register(new F.c),Y.onDidStart=Y._onDidStart.event,Y.onDidChange=Y._onDidChange.event,Y.onDidReset=Y._onDidReset.event,Y.onDidEnd=Y._onDidEnd.event,Y.linkedSash=void 0,Y.el=Object(Q.append)(k,Object(Q.$)(".monaco-sash")),B.orthogonalEdge&&Y.el.classList.add("orthogonal-edge-".concat(B.orthogonalEdge)),V.i&&Y.el.classList.add("mac");var pe=Y._register(new L.a(Y.el,"mousedown")).event;Y._register(pe(function(Ne){return Y.onPointerStart(Ne,new A)},Object(De.a)(Y)));var me=Y._register(new L.a(Y.el,"dblclick")).event;Y._register(me(Y.onPointerDoublePress,Object(De.a)(Y)));var I=Y._register(new L.a(Y.el,"mouseenter")).event;Y._register(I(function(){return ce.onMouseEnter(Object(De.a)(Y))}));var we=Y._register(new L.a(Y.el,"mouseleave")).event;Y._register(we(function(){return ce.onMouseLeave(Object(De.a)(Y))})),Y._register(ne.b.addTarget(Y.el));var Re=Y._register(new L.a(Y.el,ne.a.Start)).event;Y._register(Re(function(Ne){return Y.onPointerStart(Ne,new ue(Y.el))},Object(De.a)(Y)));var Oe=Y._register(new L.a(Y.el,ne.a.Tap)).event,Pe=void 0;return Y._register(Oe(function(Ne){if(Pe){clearTimeout(Pe),Pe=void 0,Y.onPointerDoublePress(Ne);return}clearTimeout(Pe),Pe=setTimeout(function(){return Pe=void 0},250)},Object(De.a)(Y))),typeof B.size=="number"?(Y.size=B.size,B.orientation===0?Y.el.style.width="".concat(Y.size,"px"):Y.el.style.height="".concat(Y.size,"px")):(Y.size=x,Y._register(S.event(function(Ne){Y.size=Ne,Y.layout()}))),Y._register(z.event(function(Ne){return Y.hoverDelay=Ne})),Y.layoutProvider=w,Y.orthogonalStartSash=B.orthogonalStartSash,Y.orthogonalEndSash=B.orthogonalEndSash,Y.orientation=B.orientation||0,Y.orientation===1?(Y.el.classList.add("horizontal"),Y.el.classList.remove("vertical")):(Y.el.classList.remove("horizontal"),Y.el.classList.add("vertical")),Y.el.classList.toggle("debug",j),Y.layout(),Y}return Object(y.a)(ce,[{key:"state",get:function(){return this._state},set:function(w){this._state!==w&&(this.el.classList.toggle("disabled",w===0),this.el.classList.toggle("minimum",w===1),this.el.classList.toggle("maximum",w===2),this._state=w,this.onDidEnablementChange.fire(w))}},{key:"orthogonalStartSash",get:function(){return this._orthogonalStartSash},set:function(w){var B=this;if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),w){var Y=function(me){B.orthogonalStartDragHandleDisposables.clear(),me!==0&&(B._orthogonalStartDragHandle=Object(Q.append)(B.el,Object(Q.$)(".orthogonal-drag-handle.start")),B.orthogonalStartDragHandleDisposables.add(Object(F.l)(function(){return B._orthogonalStartDragHandle.remove()})),B.orthogonalStartDragHandleDisposables.add(new L.a(B._orthogonalStartDragHandle,"mouseenter")).event(function(){return ce.onMouseEnter(w)},void 0,B.orthogonalStartDragHandleDisposables),B.orthogonalStartDragHandleDisposables.add(new L.a(B._orthogonalStartDragHandle,"mouseleave")).event(function(){return ce.onMouseLeave(w)},void 0,B.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(w.onDidEnablementChange.event(Y,this)),Y(w.state)}this._orthogonalStartSash=w}},{key:"orthogonalEndSash",get:function(){return this._orthogonalEndSash},set:function(w){var B=this;if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),w){var Y=function(me){B.orthogonalEndDragHandleDisposables.clear(),me!==0&&(B._orthogonalEndDragHandle=Object(Q.append)(B.el,Object(Q.$)(".orthogonal-drag-handle.end")),B.orthogonalEndDragHandleDisposables.add(Object(F.l)(function(){return B._orthogonalEndDragHandle.remove()})),B.orthogonalEndDragHandleDisposables.add(new L.a(B._orthogonalEndDragHandle,"mouseenter")).event(function(){return ce.onMouseEnter(w)},void 0,B.orthogonalEndDragHandleDisposables),B.orthogonalEndDragHandleDisposables.add(new L.a(B._orthogonalEndDragHandle,"mouseleave")).event(function(){return ce.onMouseLeave(w)},void 0,B.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(w.onDidEnablementChange.event(Y,this)),Y(w.state)}this._orthogonalEndSash=w}},{key:"onPointerStart",value:function(w,B){var Y=this;Q.EventHelper.stop(w);var pe=!1;if(!w.__orthogonalSashEvent){var me=this.getOrthogonalSash(w);me&&(pe=!0,w.__orthogonalSashEvent=!0,me.onPointerStart(w,new be(B)))}if(this.linkedSash&&!w.__linkedSashEvent&&(w.__linkedSashEvent=!0,this.linkedSash.onPointerStart(w,new be(B))),!!this.state){var I=document.getElementsByTagName("iframe"),we=Object(le.a)(I),Re;try{for(we.s();!(Re=we.n()).done;){var Oe=Re.value;Oe.classList.add(de)}}catch(Je){we.e(Je)}finally{we.f()}var Pe=w.pageX,Ne=w.pageY,Ke=w.altKey,Xe={startX:Pe,currentX:Pe,startY:Ne,currentY:Ne,altKey:Ke};this.el.classList.add("active"),this._onDidStart.fire(Xe);var wt=Object(Q.createStyleSheet)(this.el),Ct=function(){var Wt="";pe?Wt="all-scroll":Y.orientation===1?Y.state===1?Wt="s-resize":Y.state===2?Wt="n-resize":Wt=V.i?"row-resize":"ns-resize":Y.state===1?Wt="e-resize":Y.state===2?Wt="w-resize":Wt=V.i?"col-resize":"ew-resize",wt.textContent="* { cursor: ".concat(Wt," !important; }")},bt=new F.c;Ct(),pe||this.onDidEnablementChange.event(Ct,null,bt);var mt=function(Wt){Q.EventHelper.stop(Wt,!1);var Te={startX:Pe,currentX:Wt.pageX,startY:Ne,currentY:Wt.pageY,altKey:Ke};Y._onDidChange.fire(Te)},jt=function(Wt){Q.EventHelper.stop(Wt,!1),Y.el.removeChild(wt),Y.el.classList.remove("active"),Y._onDidEnd.fire(),bt.dispose();var Te=Object(le.a)(I),fe;try{for(Te.s();!(fe=Te.n()).done;){var ye=fe.value;ye.classList.remove(de)}}catch(Ee){Te.e(Ee)}finally{Te.f()}};B.onPointerMove(mt,null,bt),B.onPointerUp(jt,null,bt),bt.add(B)}}},{key:"onPointerDoublePress",value:function(w){var B=this.getOrthogonalSash(w);B&&B._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}},{key:"clearSashHoverState",value:function(){ce.onMouseLeave(this)}},{key:"layout",value:function(){if(this.orientation===0){var w=this.layoutProvider;this.el.style.left=w.getVerticalSashLeft(this)-this.size/2+"px",w.getVerticalSashTop&&(this.el.style.top=w.getVerticalSashTop(this)+"px"),w.getVerticalSashHeight&&(this.el.style.height=w.getVerticalSashHeight(this)+"px")}else{var B=this.layoutProvider;this.el.style.top=B.getHorizontalSashTop(this)-this.size/2+"px",B.getHorizontalSashLeft&&(this.el.style.left=B.getHorizontalSashLeft(this)+"px"),B.getHorizontalSashWidth&&(this.el.style.width=B.getHorizontalSashWidth(this)+"px")}}},{key:"getOrthogonalSash",value:function(w){var B,Y=(B=w.initialTarget)!==null&&B!==void 0?B:w.target;if(!(!Y||!(Y instanceof HTMLElement))&&Y.classList.contains("orthogonal-drag-handle"))return Y.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}},{key:"dispose",value:function(){Object(E.a)(Object(ve.a)(ce.prototype),"dispose",this).call(this),this.el.remove()}}],[{key:"onMouseEnter",value:function(w){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;w.el.classList.contains("active")?(w.hoverDelayer.cancel(),w.el.classList.add("hover")):w.hoverDelayer.trigger(function(){return w.el.classList.add("hover")},w.hoverDelay).then(void 0,function(){}),!B&&w.linkedSash&&ce.onMouseEnter(w.linkedSash,!0)}},{key:"onMouseLeave",value:function(w){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;w.hoverDelayer.cancel(),w.el.classList.remove("hover"),!B&&w.linkedSash&&ce.onMouseLeave(w.linkedSash,!0)}}]),ce}(F.a)},cV9m:function(fn,K,a){"use strict";a.d(K,"a",function(){return N});var le=a("oBTY"),De=a("fWQN"),E=a("mtLc"),ve=a("w4Tj"),re=a("oZsa"),J=a("yKVA"),$=a("879j"),y=a("EffR"),Q=a("7/Ik"),L=a("uDWl"),ne=a("pg8w"),ee=a("8HAY"),H=a("MI8n"),W=a("QMLA"),F=function(U){Object(J.a)(j,U);var d=Object($.a)(j);function j(C,x){var S;Object(De.a)(this,j),S=d.call(this),S._onDidChangeVisibility=S._register(new H.b),S.onDidChangeVisibility=S._onDidChangeVisibility.event,S._element=Object(y.append)(C,Object(y.$)(".monaco-dropdown")),S._label=Object(y.append)(S._element,Object(y.$)(".dropdown-label"));var T=x.labelRenderer;T||(T=function(ce){return ce.textContent=x.label||"",null});for(var z=0,A=[y.EventType.CLICK,y.EventType.MOUSE_DOWN,ne.a.Tap];z<A.length;z++){var ue=A[z];S._register(Object(y.addDisposableListener)(S.element,ue,function(ge){return y.EventHelper.stop(ge,!0)}))}for(var be=0,de=[y.EventType.MOUSE_DOWN,ne.a.Tap];be<de.length;be++){var ke=de[be];S._register(Object(y.addDisposableListener)(S._label,ke,function(ge){ge instanceof MouseEvent&&(ge.detail>1||ge.button!==0)||(S.visible?S.hide():S.show())}))}S._register(Object(y.addDisposableListener)(S._label,y.EventType.KEY_UP,function(ge){var ce=new L.a(ge);(ce.equals(3)||ce.equals(10))&&(y.EventHelper.stop(ge,!0),S.visible?S.hide():S.show())}));var he=T(S._label);return he&&S._register(he),S._register(ne.b.addTarget(S._label)),S}return Object(E.a)(j,[{key:"element",get:function(){return this._element}},{key:"show",value:function(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}},{key:"dispose",value:function(){Object(ve.a)(Object(re.a)(j.prototype),"dispose",this).call(this),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}]),j}(ee.b),V=function(U){Object(J.a)(j,U);var d=Object($.a)(j);function j(C,x){var S;return Object(De.a)(this,j),S=d.call(this,C,x),S._actions=[],S._contextMenuProvider=x.contextMenuProvider,S.actions=x.actions||[],S.actionProvider=x.actionProvider,S.menuClassName=x.menuClassName||"",S.menuAsChild=!!x.menuAsChild,S}return Object(E.a)(j,[{key:"menuOptions",get:function(){return this._menuOptions},set:function(x){this._menuOptions=x}},{key:"actions",get:function(){return this.actionProvider?this.actionProvider.getActions():this._actions},set:function(x){this._actions=x}},{key:"show",value:function(){var x=this;Object(ve.a)(Object(re.a)(j.prototype),"show",this).call(this),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:function(){return x.element},getActions:function(){return x.actions},getActionsContext:function(){return x.menuOptions?x.menuOptions.context:null},getActionViewItem:function(T,z){return x.menuOptions&&x.menuOptions.actionViewItemProvider?x.menuOptions.actionViewItemProvider(T,z):void 0},getKeyBinding:function(T){return x.menuOptions&&x.menuOptions.getKeyBinding?x.menuOptions.getKeyBinding(T):void 0},getMenuClassName:function(){return x.menuClassName},onHide:function(){return x.onHide()},actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}},{key:"hide",value:function(){Object(ve.a)(Object(re.a)(j.prototype),"hide",this).call(this)}},{key:"onHide",value:function(){this.hide(),this.element.classList.remove("active")}}]),j}(F),N=function(U){Object(J.a)(j,U);var d=Object($.a)(j);function j(C,x,S){var T,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Object.create(null);return Object(De.a)(this,j),T=d.call(this,null,C,z),T.actionItem=null,T._onDidChangeVisibility=T._register(new H.b),T.onDidChangeVisibility=T._onDidChangeVisibility.event,T.menuActionsOrProvider=x,T.contextMenuProvider=S,T.options=z,T.options.actionRunner&&(T.actionRunner=T.options.actionRunner),T}return Object(E.a)(j,[{key:"render",value:function(x){var S=this;this.actionItem=x;var T=function(de){var ke;S.element=Object(y.append)(de,Object(y.$)("a.action-label"));var he=[];return typeof S.options.classNames=="string"?he=S.options.classNames.split(/\s+/g).filter(function(ge){return!!ge}):S.options.classNames&&(he=S.options.classNames),he.find(function(ge){return ge==="icon"})||he.push("codicon"),(ke=S.element.classList).add.apply(ke,Object(le.a)(he)),S.element.setAttribute("role","button"),S.element.setAttribute("aria-haspopup","true"),S.element.setAttribute("aria-expanded","false"),S.element.title=S._action.label||"",S.element.ariaLabel=S._action.label||"",null},z=Array.isArray(this.menuActionsOrProvider),A={contextMenuProvider:this.contextMenuProvider,labelRenderer:T,menuAsChild:this.options.menuAsChild,actions:z?this.menuActionsOrProvider:void 0,actionProvider:z?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new V(x,A)),this._register(this.dropdownMenu.onDidChangeVisibility(function(be){var de;(de=S.element)===null||de===void 0||de.setAttribute("aria-expanded","".concat(be)),S._onDidChangeVisibility.fire(be)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){var ue=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return ue.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}},{key:"getTooltip",value:function(){var x=null;return this.action.tooltip?x=this.action.tooltip:this.action.label&&(x=this.action.label),x!=null?x:void 0}},{key:"setActionContext",value:function(x){Object(ve.a)(Object(re.a)(j.prototype),"setActionContext",this).call(this,x),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=x:this.dropdownMenu.menuOptions={context:x})}},{key:"show",value:function(){var x;(x=this.dropdownMenu)===null||x===void 0||x.show()}},{key:"updateEnabled",value:function(){var x,S,T=!this.action.enabled;(x=this.actionItem)===null||x===void 0||x.classList.toggle("disabled",T),(S=this.element)===null||S===void 0||S.classList.toggle("disabled",T)}}]),j}(Q.b)},"ci+S":function(fn,K,a){},cl4r:function(fn,K,a){},cqdO:function(fn,K,a){"use strict";a.d(K,"f",function(){return B}),a.d(K,"g",function(){return Y}),a.d(K,"e",function(){return pe}),a.d(K,"d",function(){return I}),a.d(K,"i",function(){return Ne}),a.d(K,"h",function(){return Ke}),a.d(K,"c",function(){return Ct}),a.d(K,"a",function(){return bt}),a.d(K,"j",function(){return mt}),a.d(K,"b",function(){return $e});var le=a("qLMh"),De=a("w4Tj"),E=a("oZsa"),ve=a("yKVA"),re=a("879j"),J=a("oBTY"),$=a("rAM+"),y=a("fWQN"),Q=a("mtLc"),L=a("EffR"),ne=a("4y0V"),ee=a("uDWl"),H=a("pg8w"),W=a("OBOq"),F=function(){function We(it){Object(y.a)(this,We),this.spliceables=it}return Object(Q.a)(We,[{key:"splice",value:function(Fe,He,Ye){this.spliceables.forEach(function(ot){return ot.splice(Fe,He,Ye)})}}]),We}(),V=a("6OMU"),N=a("X+cX"),U=a("zrhQ"),d=a("ZCR3"),j=a("MI8n"),C=a("fpMC"),x=a("pmY6"),S=a("Sdnv"),T=a("MNsG"),z=a("746U"),A=a("4rho"),ue=a("ZKkB"),be=function(We){Object(ve.a)(Fe,We);var it=Object(re.a)(Fe);function Fe(He,Ye){return Object(y.a)(this,Fe),it.call(this,"ListError [".concat(He,"] ").concat(Ye))}return Object(Q.a)(Fe)}(Object(ue.a)(Error)),de=a("feEw"),ke=function(We,it,Fe,He){var Ye=arguments.length,ot=Ye<3?it:He===null?He=Object.getOwnPropertyDescriptor(it,Fe):He,Kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ot=Reflect.decorate(We,it,Fe,He);else for(var gt=We.length-1;gt>=0;gt--)(Kt=We[gt])&&(ot=(Ye<3?Kt(ot):Ye>3?Kt(it,Fe,ot):Kt(it,Fe))||ot);return Ye>3&&ot&&Object.defineProperty(it,Fe,ot),ot},he=function(We,it,Fe,He){function Ye(ot){return ot instanceof Fe?ot:new Fe(function(Kt){Kt(ot)})}return new(Fe||(Fe=Promise))(function(ot,Kt){function gt(qt){try{Jt(He.next(qt))}catch(En){Kt(En)}}function Ft(qt){try{Jt(He.throw(qt))}catch(En){Kt(En)}}function Jt(qt){qt.done?ot(qt.value):Ye(qt.value).then(gt,Ft)}Jt((He=He.apply(We,it||[])).next())})},ge=function(){function We(it){Object(y.a)(this,We),this.trait=it,this.renderedElements=[]}return Object(Q.a)(We,[{key:"templateId",get:function(){return"template:".concat(this.trait.name)}},{key:"renderTemplate",value:function(Fe){return Fe}},{key:"renderElement",value:function(Fe,He,Ye){var ot=this.renderedElements.findIndex(function(Ft){return Ft.templateData===Ye});if(ot>=0){var Kt=this.renderedElements[ot];this.trait.unrender(Ye),Kt.index=He}else{var gt={index:He,templateData:Ye};this.renderedElements.push(gt)}this.trait.renderIndex(He,Ye)}},{key:"splice",value:function(Fe,He,Ye){var ot=[],Kt=Object($.a)(this.renderedElements),gt;try{for(Kt.s();!(gt=Kt.n()).done;){var Ft=gt.value;Ft.index<Fe?ot.push(Ft):Ft.index>=Fe+He&&ot.push({index:Ft.index+Ye-He,templateData:Ft.templateData})}}catch(Jt){Kt.e(Jt)}finally{Kt.f()}this.renderedElements=ot}},{key:"renderIndexes",value:function(Fe){var He=Object($.a)(this.renderedElements),Ye;try{for(He.s();!(Ye=He.n()).done;){var ot=Ye.value,Kt=ot.index,gt=ot.templateData;Fe.indexOf(Kt)>-1&&this.trait.renderIndex(Kt,gt)}}catch(Ft){He.e(Ft)}finally{He.f()}}},{key:"disposeTemplate",value:function(Fe){var He=this.renderedElements.findIndex(function(Ye){return Ye.templateData===Fe});He<0||this.renderedElements.splice(He,1)}}]),We}(),ce=function(){function We(it){Object(y.a)(this,We),this._trait=it,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new j.b,this.onChange=this._onChange.event}return Object(Q.a)(We,[{key:"name",get:function(){return this._trait}},{key:"renderer",get:function(){return new ge(this)}},{key:"splice",value:function(Fe,He,Ye){var ot;He=Math.max(0,Math.min(He,this.length-Fe));var Kt=Ye.length-He,gt=Fe+He,Ft=[].concat(Object(J.a)(this.sortedIndexes.filter(function(En){return En<Fe})),Object(J.a)(Ye.map(function(En,It){return En?It+Fe:-1}).filter(function(En){return En!==-1})),Object(J.a)(this.sortedIndexes.filter(function(En){return En>=gt}).map(function(En){return En+Kt}))),Jt=this.length+Kt;if(this.sortedIndexes.length>0&&Ft.length===0&&Jt>0){var qt=(ot=this.sortedIndexes.find(function(En){return En>=Fe}))!==null&&ot!==void 0?ot:Jt-1;Ft.push(Math.min(qt,Jt-1))}this.renderer.splice(Fe,He,Ye.length),this._set(Ft,Ft),this.length=Jt}},{key:"renderIndex",value:function(Fe,He){He.classList.toggle(this._trait,this.contains(Fe))}},{key:"unrender",value:function(Fe){Fe.classList.remove(this._trait)}},{key:"set",value:function(Fe,He){return this._set(Fe,Object(J.a)(Fe).sort(fe),He)}},{key:"_set",value:function(Fe,He,Ye){var ot=this.indexes,Kt=this.sortedIndexes;this.indexes=Fe,this.sortedIndexes=He;var gt=Wt(Kt,Fe);return this.renderer.renderIndexes(gt),this._onChange.fire({indexes:Fe,browserEvent:Ye}),ot}},{key:"get",value:function(){return this.indexes}},{key:"contains",value:function(Fe){return Object(V.e)(this.sortedIndexes,Fe,fe)>=0}},{key:"dispose",value:function(){Object(x.i)(this._onChange)}}]),We}();ke([d.a],ce.prototype,"renderer",null);var k=function(We){Object(ve.a)(Fe,We);var it=Object(re.a)(Fe);function Fe(He){var Ye;return Object(y.a)(this,Fe),Ye=it.call(this,"selected"),Ye.setAriaSelected=He,Ye}return Object(Q.a)(Fe,[{key:"renderIndex",value:function(Ye,ot){Object(De.a)(Object(E.a)(Fe.prototype),"renderIndex",this).call(this,Ye,ot),this.setAriaSelected&&(this.contains(Ye)?ot.setAttribute("aria-selected","true"):ot.setAttribute("aria-selected","false"))}}]),Fe}(ce),w=function(){function We(it,Fe,He){Object(y.a)(this,We),this.trait=it,this.view=Fe,this.identityProvider=He}return Object(Q.a)(We,[{key:"splice",value:function(Fe,He,Ye){var ot=this;if(!this.identityProvider)return this.trait.splice(Fe,He,Ye.map(function(){return!1}));var Kt=this.trait.get().map(function(Ft){return ot.identityProvider.getId(ot.view.element(Ft)).toString()}),gt=Ye.map(function(Ft){return Kt.indexOf(ot.identityProvider.getId(Ft).toString())>-1});this.trait.splice(Fe,He,gt)}}]),We}();function B(We){return We.tagName==="INPUT"||We.tagName==="TEXTAREA"}function Y(We){return We.classList.contains("monaco-editor")?!0:We.classList.contains("monaco-list")||!We.parentElement?!1:Y(We.parentElement)}function pe(We){return We.tagName==="A"&&We.classList.contains("monaco-button")||We.tagName==="DIV"&&We.classList.contains("monaco-button-dropdown")?!0:We.classList.contains("monaco-list")||!We.parentElement?!1:pe(We.parentElement)}var me=function(){function We(it,Fe,He){Object(y.a)(this,We),this.list=it,this.view=Fe,this.disposables=new x.c,this.multipleSelectionDisposables=new x.c,this.onKeyDown.filter(function(Ye){return Ye.keyCode===3}).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(function(Ye){return Ye.keyCode===16}).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(function(Ye){return Ye.keyCode===18}).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(function(Ye){return Ye.keyCode===11}).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(function(Ye){return Ye.keyCode===12}).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(function(Ye){return Ye.keyCode===9}).on(this.onEscape,this,this.disposables),He.multipleSelectionSupport!==!1&&this.onKeyDown.filter(function(Ye){return(T.i?Ye.metaKey:Ye.ctrlKey)&&Ye.keyCode===31}).on(this.onCtrlA,this,this.multipleSelectionDisposables)}return Object(Q.a)(We,[{key:"onKeyDown",get:function(){return this.disposables.add(j.c.chain(this.disposables.add(new ne.a(this.view.domNode,"keydown")).event).filter(function(Fe){return!B(Fe.target)}).map(function(Fe){return new ee.a(Fe)}))}},{key:"updateOptions",value:function(Fe){Fe.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),Fe.multipleSelectionSupport&&this.onKeyDown.filter(function(He){return(T.i?He.metaKey:He.ctrlKey)&&He.keyCode===31}).on(this.onCtrlA,this,this.multipleSelectionDisposables))}},{key:"onEnter",value:function(Fe){Fe.preventDefault(),Fe.stopPropagation(),this.list.setSelection(this.list.getFocus(),Fe.browserEvent)}},{key:"onUpArrow",value:function(Fe){Fe.preventDefault(),Fe.stopPropagation(),this.list.focusPrevious(1,!1,Fe.browserEvent);var He=this.list.getFocus()[0];this.list.setAnchor(He),this.list.reveal(He),this.view.domNode.focus()}},{key:"onDownArrow",value:function(Fe){Fe.preventDefault(),Fe.stopPropagation(),this.list.focusNext(1,!1,Fe.browserEvent);var He=this.list.getFocus()[0];this.list.setAnchor(He),this.list.reveal(He),this.view.domNode.focus()}},{key:"onPageUpArrow",value:function(Fe){Fe.preventDefault(),Fe.stopPropagation(),this.list.focusPreviousPage(Fe.browserEvent);var He=this.list.getFocus()[0];this.list.setAnchor(He),this.list.reveal(He),this.view.domNode.focus()}},{key:"onPageDownArrow",value:function(Fe){Fe.preventDefault(),Fe.stopPropagation(),this.list.focusNextPage(Fe.browserEvent);var He=this.list.getFocus()[0];this.list.setAnchor(He),this.list.reveal(He),this.view.domNode.focus()}},{key:"onCtrlA",value:function(Fe){Fe.preventDefault(),Fe.stopPropagation(),this.list.setSelection(Object(V.z)(this.list.length),Fe.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}},{key:"onEscape",value:function(Fe){this.list.getSelection().length&&(Fe.preventDefault(),Fe.stopPropagation(),this.list.setSelection([],Fe.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}},{key:"dispose",value:function(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}]),We}();ke([d.a],me.prototype,"onKeyDown",null);var I;(function(We){We[We.Automatic=0]="Automatic",We[We.Trigger=1]="Trigger"})(I||(I={}));var we;(function(We){We[We.Idle=0]="Idle",We[We.Typing=1]="Typing"})(we||(we={}));var Re=new(function(){function We(){Object(y.a)(this,We)}return Object(Q.a)(We,[{key:"mightProducePrintableCharacter",value:function(Fe){return Fe.ctrlKey||Fe.metaKey||Fe.altKey?!1:Fe.keyCode>=31&&Fe.keyCode<=56||Fe.keyCode>=21&&Fe.keyCode<=30||Fe.keyCode>=98&&Fe.keyCode<=107||Fe.keyCode>=85&&Fe.keyCode<=95}}]),We}()),Oe=function(){function We(it,Fe,He,Ye,ot){Object(y.a)(this,We),this.list=it,this.view=Fe,this.keyboardNavigationLabelProvider=He,this.keyboardNavigationEventFilter=Ye,this.delegate=ot,this.enabled=!1,this.state=we.Idle,this.mode=I.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new x.c,this.disposables=new x.c,this.updateOptions(it.options)}return Object(Q.a)(We,[{key:"updateOptions",value:function(Fe){var He,Ye;((He=Fe.typeNavigationEnabled)!==null&&He!==void 0?He:!0)?this.enable():this.disable(),this.mode=(Ye=Fe.typeNavigationMode)!==null&&Ye!==void 0?Ye:I.Automatic}},{key:"enable",value:function(){var Fe=this;if(!this.enabled){var He=!1,Ye=this.enabledDisposables.add(j.c.chain(this.enabledDisposables.add(new ne.a(this.view.domNode,"keydown")).event)).filter(function(gt){return!B(gt.target)}).filter(function(){return Fe.mode===I.Automatic||Fe.triggered}).map(function(gt){return new ee.a(gt)}).filter(function(gt){return He||Fe.keyboardNavigationEventFilter(gt)}).filter(function(gt){return Fe.delegate.mightProducePrintableCharacter(gt)}).forEach(function(gt){return L.EventHelper.stop(gt,!0)}).map(function(gt){return gt.browserEvent.key}).event,ot=j.c.debounce(Ye,function(){return null},800,void 0,void 0,void 0,this.enabledDisposables),Kt=j.c.reduce(j.c.any(Ye,ot),function(gt,Ft){return Ft===null?null:(gt||"")+Ft},void 0,this.enabledDisposables);Kt(this.onInput,this,this.enabledDisposables),ot(this.onClear,this,this.enabledDisposables),Ye(function(){return He=!0},void 0,this.enabledDisposables),ot(function(){return He=!1},void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}}},{key:"disable",value:function(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}},{key:"onClear",value:function(){var Fe,He=this.list.getFocus();if(He.length>0&&He[0]===this.previouslyFocused){var Ye=(Fe=this.list.options.accessibilityProvider)===null||Fe===void 0?void 0:Fe.getAriaLabel(this.list.element(He[0]));Ye&&Object(W.a)(Ye)}this.previouslyFocused=-1}},{key:"onInput",value:function(Fe){if(!Fe){this.state=we.Idle,this.triggered=!1;return}var He=this.list.getFocus(),Ye=He.length>0?He[0]:0,ot=this.state===we.Idle?1:0;this.state=we.Typing;for(var Kt=0;Kt<this.list.length;Kt++){var gt=(Ye+Kt+ot)%this.list.length,Ft=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(gt)),Jt=Ft&&Ft.toString();if(typeof Jt=="undefined"||Object(C.i)(Fe,Jt)){this.previouslyFocused=Ye,this.list.setFocus([gt]),this.list.reveal(gt);return}}}},{key:"dispose",value:function(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}]),We}(),Pe=function(){function We(it,Fe){Object(y.a)(this,We),this.list=it,this.view=Fe,this.disposables=new x.c;var He=this.disposables.add(j.c.chain(this.disposables.add(new ne.a(Fe.domNode,"keydown")).event)).filter(function(Ye){return!B(Ye.target)}).map(function(Ye){return new ee.a(Ye)});He.filter(function(Ye){return Ye.keyCode===2&&!Ye.ctrlKey&&!Ye.metaKey&&!Ye.shiftKey&&!Ye.altKey}).on(this.onTab,this,this.disposables)}return Object(Q.a)(We,[{key:"onTab",value:function(Fe){if(Fe.target===this.view.domNode){var He=this.list.getFocus();if(He.length!==0){var Ye=this.view.domElement(He[0]);if(!!Ye){var ot=Ye.querySelector("[tabIndex]");if(!(!ot||!(ot instanceof HTMLElement)||ot.tabIndex===-1)){var Kt=window.getComputedStyle(ot);Kt.visibility==="hidden"||Kt.display==="none"||(Fe.preventDefault(),Fe.stopPropagation(),ot.focus())}}}}}},{key:"dispose",value:function(){this.disposables.dispose()}}]),We}();function Ne(We){return T.i?We.browserEvent.metaKey:We.browserEvent.ctrlKey}function Ke(We){return We.browserEvent.shiftKey}function Xe(We){return We instanceof MouseEvent&&We.button===2}var wt={isSelectionSingleChangeEvent:Ne,isSelectionRangeChangeEvent:Ke},Ct=function(){function We(it){Object(y.a)(this,We),this.list=it,this.disposables=new x.c,this._onPointer=new j.b,this.onPointer=this._onPointer.event,it.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||wt),this.mouseSupport=typeof it.options.mouseSupport=="undefined"||!!it.options.mouseSupport,this.mouseSupport&&(it.onMouseDown(this.onMouseDown,this,this.disposables),it.onContextMenu(this.onContextMenu,this,this.disposables),it.onMouseDblClick(this.onDoubleClick,this,this.disposables),it.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(H.b.addTarget(it.getHTMLElement()))),j.c.any(it.onMouseClick,it.onMouseMiddleClick,it.onTap)(this.onViewPointer,this,this.disposables)}return Object(Q.a)(We,[{key:"updateOptions",value:function(Fe){Fe.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,Fe.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||wt))}},{key:"isSelectionSingleChangeEvent",value:function(Fe){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(Fe):!1}},{key:"isSelectionRangeChangeEvent",value:function(Fe){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(Fe):!1}},{key:"isSelectionChangeEvent",value:function(Fe){return this.isSelectionSingleChangeEvent(Fe)||this.isSelectionRangeChangeEvent(Fe)}},{key:"onMouseDown",value:function(Fe){Y(Fe.browserEvent.target)||document.activeElement!==Fe.browserEvent.target&&this.list.domFocus()}},{key:"onContextMenu",value:function(Fe){if(!(B(Fe.browserEvent.target)||Y(Fe.browserEvent.target))){var He=typeof Fe.index=="undefined"?[]:[Fe.index];this.list.setFocus(He,Fe.browserEvent)}}},{key:"onViewPointer",value:function(Fe){if(!!this.mouseSupport&&!(B(Fe.browserEvent.target)||Y(Fe.browserEvent.target))&&!Fe.browserEvent.isHandledByList){Fe.browserEvent.isHandledByList=!0;var He=Fe.index;if(typeof He=="undefined"){this.list.setFocus([],Fe.browserEvent),this.list.setSelection([],Fe.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(Fe))return this.changeSelection(Fe);if(this.isSelectionChangeEvent(Fe))return this.changeSelection(Fe);this.list.setFocus([He],Fe.browserEvent),this.list.setAnchor(He),Xe(Fe.browserEvent)||this.list.setSelection([He],Fe.browserEvent),this._onPointer.fire(Fe)}}},{key:"onDoubleClick",value:function(Fe){if(!(B(Fe.browserEvent.target)||Y(Fe.browserEvent.target))&&!this.isSelectionChangeEvent(Fe)&&!Fe.browserEvent.isHandledByList){Fe.browserEvent.isHandledByList=!0;var He=this.list.getFocus();this.list.setSelection(He,Fe.browserEvent)}}},{key:"changeSelection",value:function(Fe){var He=Fe.index,Ye=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(Fe)){if(typeof Ye=="undefined"){var ot=this.list.getFocus()[0];Ye=ot!=null?ot:He,this.list.setAnchor(Ye)}var Kt=Math.min(Ye,He),gt=Math.max(Ye,He),Ft=Object(V.z)(Kt,gt+1),Jt=this.list.getSelection(),qt=Je(Wt(Jt,[Ye]),Ye);if(qt.length===0)return;var En=Wt(Ft,Te(Jt,qt));this.list.setSelection(En,Fe.browserEvent),this.list.setFocus([He],Fe.browserEvent)}else if(this.isSelectionSingleChangeEvent(Fe)){var It=this.list.getSelection(),si=It.filter(function(On){return On!==He});this.list.setFocus([He]),this.list.setAnchor(He),It.length===si.length?this.list.setSelection([].concat(Object(J.a)(si),[He]),Fe.browserEvent):this.list.setSelection(si,Fe.browserEvent)}}},{key:"dispose",value:function(){this.disposables.dispose()}}]),We}(),bt=function(){function We(it,Fe){Object(y.a)(this,We),this.styleElement=it,this.selectorSuffix=Fe}return Object(Q.a)(We,[{key:"style",value:function(Fe){var He,Ye,ot=this.selectorSuffix&&".".concat(this.selectorSuffix),Kt=[];Fe.listBackground&&Kt.push(".monaco-list".concat(ot," .monaco-list-rows { background: ").concat(Fe.listBackground,"; }")),Fe.listFocusBackground&&(Kt.push(".monaco-list".concat(ot,":focus .monaco-list-row.focused { background-color: ").concat(Fe.listFocusBackground,"; }")),Kt.push(".monaco-list".concat(ot,":focus .monaco-list-row.focused:hover { background-color: ").concat(Fe.listFocusBackground,"; }"))),Fe.listFocusForeground&&Kt.push(".monaco-list".concat(ot,":focus .monaco-list-row.focused { color: ").concat(Fe.listFocusForeground,"; }")),Fe.listActiveSelectionBackground&&(Kt.push(".monaco-list".concat(ot,":focus .monaco-list-row.selected { background-color: ").concat(Fe.listActiveSelectionBackground,"; }")),Kt.push(".monaco-list".concat(ot,":focus .monaco-list-row.selected:hover { background-color: ").concat(Fe.listActiveSelectionBackground,"; }"))),Fe.listActiveSelectionForeground&&Kt.push(".monaco-list".concat(ot,":focus .monaco-list-row.selected { color: ").concat(Fe.listActiveSelectionForeground,"; }")),Fe.listActiveSelectionIconForeground&&Kt.push(".monaco-list".concat(ot,":focus .monaco-list-row.selected .codicon { color: ").concat(Fe.listActiveSelectionIconForeground,"; }")),Fe.listFocusAndSelectionBackground&&Kt.push(`
				.monaco-drag-image,
				.monaco-list`.concat(ot,":focus .monaco-list-row.selected.focused { background-color: ").concat(Fe.listFocusAndSelectionBackground,`; }
			`)),Fe.listFocusAndSelectionForeground&&Kt.push(`
				.monaco-drag-image,
				.monaco-list`.concat(ot,":focus .monaco-list-row.selected.focused { color: ").concat(Fe.listFocusAndSelectionForeground,`; }
			`)),Fe.listInactiveFocusForeground&&(Kt.push(".monaco-list".concat(ot," .monaco-list-row.focused { color:  ").concat(Fe.listInactiveFocusForeground,"; }")),Kt.push(".monaco-list".concat(ot," .monaco-list-row.focused:hover { color:  ").concat(Fe.listInactiveFocusForeground,"; }"))),Fe.listInactiveSelectionIconForeground&&Kt.push(".monaco-list".concat(ot," .monaco-list-row.focused .codicon { color:  ").concat(Fe.listInactiveSelectionIconForeground,"; }")),Fe.listInactiveFocusBackground&&(Kt.push(".monaco-list".concat(ot," .monaco-list-row.focused { background-color:  ").concat(Fe.listInactiveFocusBackground,"; }")),Kt.push(".monaco-list".concat(ot," .monaco-list-row.focused:hover { background-color:  ").concat(Fe.listInactiveFocusBackground,"; }"))),Fe.listInactiveSelectionBackground&&(Kt.push(".monaco-list".concat(ot," .monaco-list-row.selected { background-color:  ").concat(Fe.listInactiveSelectionBackground,"; }")),Kt.push(".monaco-list".concat(ot," .monaco-list-row.selected:hover { background-color:  ").concat(Fe.listInactiveSelectionBackground,"; }"))),Fe.listInactiveSelectionForeground&&Kt.push(".monaco-list".concat(ot," .monaco-list-row.selected { color: ").concat(Fe.listInactiveSelectionForeground,"; }")),Fe.listHoverBackground&&Kt.push(".monaco-list".concat(ot,":not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ").concat(Fe.listHoverBackground,"; }")),Fe.listHoverForeground&&Kt.push(".monaco-list".concat(ot,":not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ").concat(Fe.listHoverForeground,"; }"));var gt=Object(L.asCssValueWithDefault)(Fe.listFocusAndSelectionOutline,Object(L.asCssValueWithDefault)(Fe.listSelectionOutline,(He=Fe.listFocusOutline)!==null&&He!==void 0?He:""));gt&&Kt.push(".monaco-list".concat(ot,":focus .monaco-list-row.focused.selected { outline: 1px solid ").concat(gt,"; outline-offset: -1px;}")),Fe.listFocusOutline&&Kt.push(`
				.monaco-drag-image,
				.monaco-list`.concat(ot,":focus .monaco-list-row.focused { outline: 1px solid ").concat(Fe.listFocusOutline,`; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list`).concat(ot,".last-focused .monaco-list-row.focused { outline: 1px solid ").concat(Fe.listFocusOutline,`; outline-offset: -1px; }
			`));var Ft=Object(L.asCssValueWithDefault)(Fe.listSelectionOutline,(Ye=Fe.listInactiveFocusOutline)!==null&&Ye!==void 0?Ye:"");Ft&&Kt.push(".monaco-list".concat(ot," .monaco-list-row.focused.selected { outline: 1px dotted ").concat(Ft,"; outline-offset: -1px; }")),Fe.listSelectionOutline&&Kt.push(".monaco-list".concat(ot," .monaco-list-row.selected { outline: 1px dotted ").concat(Fe.listSelectionOutline,"; outline-offset: -1px; }")),Fe.listInactiveFocusOutline&&Kt.push(".monaco-list".concat(ot," .monaco-list-row.focused { outline: 1px dotted ").concat(Fe.listInactiveFocusOutline,"; outline-offset: -1px; }")),Fe.listHoverOutline&&Kt.push(".monaco-list".concat(ot," .monaco-list-row:hover { outline: 1px dashed ").concat(Fe.listHoverOutline,"; outline-offset: -1px; }")),Fe.listDropBackground&&Kt.push(`
				.monaco-list`.concat(ot,`.drop-target,
				.monaco-list`).concat(ot,` .monaco-list-rows.drop-target,
				.monaco-list`).concat(ot," .monaco-list-row.drop-target { background-color: ").concat(Fe.listDropBackground,` !important; color: inherit !important; }
			`)),Fe.tableColumnsBorder&&Kt.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: `.concat(Fe.tableColumnsBorder,`;
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`)),Fe.tableOddRowsBackgroundColor&&Kt.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: `.concat(Fe.tableOddRowsBackgroundColor,`;
				}
			`)),this.styleElement.textContent=Kt.join(`
`)}}]),We}(),mt={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:U.a.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:U.a.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:U.a.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},jt={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}}};function Je(We,it){var Fe=We.indexOf(it);if(Fe===-1)return[];for(var He=[],Ye=Fe-1;Ye>=0&&We[Ye]===it-(Fe-Ye);)He.push(We[Ye--]);for(He.reverse(),Ye=Fe;Ye<We.length&&We[Ye]===it+(Ye-Fe);)He.push(We[Ye++]);return He}function Wt(We,it){for(var Fe=[],He=0,Ye=0;He<We.length||Ye<it.length;)if(He>=We.length)Fe.push(it[Ye++]);else if(Ye>=it.length)Fe.push(We[He++]);else if(We[He]===it[Ye]){Fe.push(We[He]),He++,Ye++;continue}else We[He]<it[Ye]?Fe.push(We[He++]):Fe.push(it[Ye++]);return Fe}function Te(We,it){for(var Fe=[],He=0,Ye=0;He<We.length||Ye<it.length;)if(He>=We.length)Fe.push(it[Ye++]);else if(Ye>=it.length)Fe.push(We[He++]);else if(We[He]===it[Ye]){He++,Ye++;continue}else We[He]<it[Ye]?Fe.push(We[He++]):Ye++;return Fe}var fe=function(it,Fe){return it-Fe},ye=function(){function We(it,Fe){Object(y.a)(this,We),this._templateId=it,this.renderers=Fe}return Object(Q.a)(We,[{key:"templateId",get:function(){return this._templateId}},{key:"renderTemplate",value:function(Fe){return this.renderers.map(function(He){return He.renderTemplate(Fe)})}},{key:"renderElement",value:function(Fe,He,Ye,ot){var Kt=0,gt=Object($.a)(this.renderers),Ft;try{for(gt.s();!(Ft=gt.n()).done;){var Jt=Ft.value;Jt.renderElement(Fe,He,Ye[Kt++],ot)}}catch(qt){gt.e(qt)}finally{gt.f()}}},{key:"disposeElement",value:function(Fe,He,Ye,ot){var Kt,gt=0,Ft=Object($.a)(this.renderers),Jt;try{for(Ft.s();!(Jt=Ft.n()).done;){var qt=Jt.value;(Kt=qt.disposeElement)===null||Kt===void 0||Kt.call(qt,Fe,He,Ye[gt],ot),gt+=1}}catch(En){Ft.e(En)}finally{Ft.f()}}},{key:"disposeTemplate",value:function(Fe){var He=0,Ye=Object($.a)(this.renderers),ot;try{for(Ye.s();!(ot=Ye.n()).done;){var Kt=ot.value;Kt.disposeTemplate(Fe[He++])}}catch(gt){Ye.e(gt)}finally{Ye.f()}}}]),We}(),Ee=function(){function We(it){Object(y.a)(this,We),this.accessibilityProvider=it,this.templateId="a18n"}return Object(Q.a)(We,[{key:"renderTemplate",value:function(Fe){return Fe}},{key:"renderElement",value:function(Fe,He,Ye){var ot=this.accessibilityProvider.getAriaLabel(Fe);ot?Ye.setAttribute("aria-label",ot):Ye.removeAttribute("aria-label");var Kt=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(Fe);typeof Kt=="number"?Ye.setAttribute("aria-level","".concat(Kt)):Ye.removeAttribute("aria-level")}},{key:"disposeTemplate",value:function(Fe){}}]),We}(),Ge=function(){function We(it,Fe){Object(y.a)(this,We),this.list=it,this.dnd=Fe}return Object(Q.a)(We,[{key:"getDragElements",value:function(Fe){var He=this.list.getSelectedElements(),Ye=He.indexOf(Fe)>-1?He:[Fe];return Ye}},{key:"getDragURI",value:function(Fe){return this.dnd.getDragURI(Fe)}},{key:"getDragLabel",value:function(Fe,He){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(Fe,He)}},{key:"onDragStart",value:function(Fe,He){var Ye,ot;(ot=(Ye=this.dnd).onDragStart)===null||ot===void 0||ot.call(Ye,Fe,He)}},{key:"onDragOver",value:function(Fe,He,Ye,ot){return this.dnd.onDragOver(Fe,He,Ye,ot)}},{key:"onDragLeave",value:function(Fe,He,Ye,ot){var Kt,gt;(gt=(Kt=this.dnd).onDragLeave)===null||gt===void 0||gt.call(Kt,Fe,He,Ye,ot)}},{key:"onDragEnd",value:function(Fe){var He,Ye;(Ye=(He=this.dnd).onDragEnd)===null||Ye===void 0||Ye.call(He,Fe)}},{key:"drop",value:function(Fe,He,Ye,ot){this.dnd.drop(Fe,He,Ye,ot)}}]),We}(),$e=function(){function We(it,Fe,He,Ye){var ot=arguments.length>4&&arguments[4]!==void 0?arguments[4]:jt;Object(y.a)(this,We);var Kt,gt,Ft,Jt;this.user=it,this._options=ot,this.focus=new ce("focused"),this.anchor=new ce("anchor"),this.eventBufferer=new j.d,this._ariaLabel="",this.disposables=new x.c,this._onDidDispose=new j.b,this.onDidDispose=this._onDidDispose.event;var qt=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Kt=this._options.accessibilityProvider)===null||Kt===void 0?void 0:Kt.getWidgetRole():"list";this.selection=new k(qt!=="listbox");var En=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ot.accessibilityProvider,this.accessibilityProvider&&(En.push(new Ee(this.accessibilityProvider)),(Ft=(gt=this.accessibilityProvider).onDidChangeActiveDescendant)===null||Ft===void 0||Ft.call(gt,this.onDidChangeActiveDescendant,this,this.disposables)),Ye=Ye.map(function(Gn){return new ye(Gn.templateId,[].concat(En,[Gn]))});var It=Object.assign(Object.assign({},ot),{dnd:ot.dnd&&new Ge(this,ot.dnd)});if(this.view=this.createListView(Fe,He,Ye,It),this.view.domNode.setAttribute("role",qt),ot.styleController)this.styleController=ot.styleController(this.view.domId);else{var si=Object(L.createStyleSheet)(this.view.domNode);this.styleController=new bt(si,this.view.domId)}if(this.spliceable=new F([new w(this.focus,this.view,ot.identityProvider),new w(this.selection,this.view,ot.identityProvider),new w(this.anchor,this.view,ot.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Pe(this,this.view)),(typeof ot.keyboardSupport!="boolean"||ot.keyboardSupport)&&(this.keyboardController=new me(this,this.view,ot),this.disposables.add(this.keyboardController)),ot.keyboardNavigationLabelProvider){var On=ot.keyboardNavigationDelegate||Re;this.typeNavigationController=new Oe(this,this.view,ot.keyboardNavigationLabelProvider,(Jt=ot.keyboardNavigationEventFilter)!==null&&Jt!==void 0?Jt:function(){return!0},On),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(ot),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}return Object(Q.a)(We,[{key:"onDidChangeFocus",get:function(){var Fe=this;return j.c.map(this.eventBufferer.wrapEvent(this.focus.onChange),function(He){return Fe.toListEvent(He)},this.disposables)}},{key:"onDidChangeSelection",get:function(){var Fe=this;return j.c.map(this.eventBufferer.wrapEvent(this.selection.onChange),function(He){return Fe.toListEvent(He)},this.disposables)}},{key:"domId",get:function(){return this.view.domId}},{key:"onMouseClick",get:function(){return this.view.onMouseClick}},{key:"onMouseDblClick",get:function(){return this.view.onMouseDblClick}},{key:"onMouseMiddleClick",get:function(){return this.view.onMouseMiddleClick}},{key:"onPointer",get:function(){return this.mouseController.onPointer}},{key:"onMouseDown",get:function(){return this.view.onMouseDown}},{key:"onMouseOver",get:function(){return this.view.onMouseOver}},{key:"onMouseOut",get:function(){return this.view.onMouseOut}},{key:"onTouchStart",get:function(){return this.view.onTouchStart}},{key:"onTap",get:function(){return this.view.onTap}},{key:"onContextMenu",get:function(){var Fe=this,He=!1,Ye=this.disposables.add(j.c.chain(this.disposables.add(new ne.a(this.view.domNode,"keydown")).event)).map(function(gt){return new ee.a(gt)}).filter(function(gt){return He=gt.keyCode===58||gt.shiftKey&&gt.keyCode===68}).map(function(gt){return L.EventHelper.stop(gt,!0)}).filter(function(){return!1}).event,ot=this.disposables.add(j.c.chain(this.disposables.add(new ne.a(this.view.domNode,"keyup")).event)).forEach(function(){return He=!1}).map(function(gt){return new ee.a(gt)}).filter(function(gt){return gt.keyCode===58||gt.shiftKey&&gt.keyCode===68}).map(function(gt){return L.EventHelper.stop(gt,!0)}).map(function(gt){var Ft=gt.browserEvent,Jt=Fe.getFocus(),qt=Jt.length?Jt[0]:void 0,En=typeof qt!="undefined"?Fe.view.element(qt):void 0,It=typeof qt!="undefined"?Fe.view.domElement(qt):Fe.view.domNode;return{index:qt,element:En,anchor:It,browserEvent:Ft}}).event,Kt=this.disposables.add(j.c.chain(this.view.onContextMenu)).filter(function(gt){return!He}).map(function(gt){var Ft=gt.element,Jt=gt.index,qt=gt.browserEvent;return{element:Ft,index:Jt,anchor:{x:qt.pageX+1,y:qt.pageY},browserEvent:qt}}).event;return j.c.any(Ye,ot,Kt)}},{key:"onKeyDown",get:function(){return this.disposables.add(new ne.a(this.view.domNode,"keydown")).event}},{key:"onDidFocus",get:function(){return j.c.signal(this.disposables.add(new ne.a(this.view.domNode,"focus",!0)).event)}},{key:"createListView",value:function(Fe,He,Ye,ot){return new de.b(Fe,He,Ye,ot)}},{key:"createMouseController",value:function(Fe){return new Ct(this)}},{key:"updateOptions",value:function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},He,Ye;this._options=Object.assign(Object.assign({},this._options),Fe),(He=this.typeNavigationController)===null||He===void 0||He.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(Fe),(Ye=this.keyboardController)===null||Ye===void 0||Ye.updateOptions(Fe),this.view.updateOptions(Fe)}},{key:"options",get:function(){return this._options}},{key:"splice",value:function(Fe,He){var Ye=this,ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(Fe<0||Fe>this.view.length)throw new be(this.user,"Invalid start index: ".concat(Fe));if(He<0)throw new be(this.user,"Invalid delete count: ".concat(He));He===0&&ot.length===0||this.eventBufferer.bufferEvents(function(){return Ye.spliceable.splice(Fe,He,ot)})}},{key:"rerender",value:function(){this.view.rerender()}},{key:"element",value:function(Fe){return this.view.element(Fe)}},{key:"length",get:function(){return this.view.length}},{key:"contentHeight",get:function(){return this.view.contentHeight}},{key:"scrollTop",get:function(){return this.view.getScrollTop()},set:function(Fe){this.view.setScrollTop(Fe)}},{key:"scrollHeight",get:function(){return this.view.scrollHeight}},{key:"firstVisibleIndex",get:function(){return this.view.firstVisibleIndex}},{key:"ariaLabel",get:function(){return this._ariaLabel},set:function(Fe){this._ariaLabel=Fe,this.view.domNode.setAttribute("aria-label",Fe)}},{key:"domFocus",value:function(){this.view.domNode.focus({preventScroll:!0})}},{key:"layout",value:function(Fe,He){this.view.layout(Fe,He)}},{key:"setSelection",value:function(Fe,He){var Ye=Object($.a)(Fe),ot;try{for(Ye.s();!(ot=Ye.n()).done;){var Kt=ot.value;if(Kt<0||Kt>=this.length)throw new be(this.user,"Invalid index ".concat(Kt))}}catch(gt){Ye.e(gt)}finally{Ye.f()}this.selection.set(Fe,He)}},{key:"getSelection",value:function(){return this.selection.get()}},{key:"getSelectedElements",value:function(){var Fe=this;return this.getSelection().map(function(He){return Fe.view.element(He)})}},{key:"setAnchor",value:function(Fe){if(typeof Fe=="undefined"){this.anchor.set([]);return}if(Fe<0||Fe>=this.length)throw new be(this.user,"Invalid index ".concat(Fe));this.anchor.set([Fe])}},{key:"getAnchor",value:function(){return Object(V.p)(this.anchor.get(),void 0)}},{key:"getAnchorElement",value:function(){var Fe=this.getAnchor();return typeof Fe=="undefined"?void 0:this.element(Fe)}},{key:"setFocus",value:function(Fe,He){var Ye=Object($.a)(Fe),ot;try{for(Ye.s();!(ot=Ye.n()).done;){var Kt=ot.value;if(Kt<0||Kt>=this.length)throw new be(this.user,"Invalid index ".concat(Kt))}}catch(gt){Ye.e(gt)}finally{Ye.f()}this.focus.set(Fe,He)}},{key:"focusNext",value:function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ye=arguments.length>2?arguments[2]:void 0,ot=arguments.length>3?arguments[3]:void 0;if(this.length!==0){var Kt=this.focus.get(),gt=this.findNextIndex(Kt.length>0?Kt[0]+Fe:0,He,ot);gt>-1&&this.setFocus([gt],Ye)}}},{key:"focusPrevious",value:function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ye=arguments.length>2?arguments[2]:void 0,ot=arguments.length>3?arguments[3]:void 0;if(this.length!==0){var Kt=this.focus.get(),gt=this.findPreviousIndex(Kt.length>0?Kt[0]-Fe:0,He,ot);gt>-1&&this.setFocus([gt],Ye)}}},{key:"focusNextPage",value:function(Fe,He){return he(this,void 0,void 0,Object(le.a)().mark(function Ye(){var ot,Kt,gt,Ft,Jt;return Object(le.a)().wrap(function(En){for(;;)switch(En.prev=En.next){case 0:if(ot=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight),ot=ot===0?0:ot-1,Kt=this.getFocus()[0],!(Kt!==ot&&(Kt===void 0||ot>Kt))){En.next=8;break}gt=this.findPreviousIndex(ot,!1,He),gt>-1&&Kt!==gt?this.setFocus([gt],Fe):this.setFocus([ot],Fe),En.next=18;break;case 8:if(Ft=this.view.getScrollTop(),Jt=Ft+this.view.renderHeight,ot>Kt&&(Jt-=this.view.elementHeight(ot)),this.view.setScrollTop(Jt),this.view.getScrollTop()===Ft){En.next=18;break}return this.setFocus([]),En.next=16,Object(N.q)(0);case 16:return En.next=18,this.focusNextPage(Fe,He);case 18:case"end":return En.stop()}},Ye,this)}))}},{key:"focusPreviousPage",value:function(Fe,He){return he(this,void 0,void 0,Object(le.a)().mark(function Ye(){var ot,Kt,gt,Ft,Jt;return Object(le.a)().wrap(function(En){for(;;)switch(En.prev=En.next){case 0:if(Kt=this.view.getScrollTop(),Kt===0?ot=this.view.indexAt(Kt):ot=this.view.indexAfter(Kt-1),gt=this.getFocus()[0],!(gt!==ot&&(gt===void 0||gt>=ot))){En.next=8;break}Ft=this.findNextIndex(ot,!1,He),Ft>-1&&gt!==Ft?this.setFocus([Ft],Fe):this.setFocus([ot],Fe),En.next=16;break;case 8:if(Jt=Kt,this.view.setScrollTop(Kt-this.view.renderHeight),this.view.getScrollTop()===Jt){En.next=16;break}return this.setFocus([]),En.next=14,Object(N.q)(0);case 14:return En.next=16,this.focusPreviousPage(Fe,He);case 16:case"end":return En.stop()}},Ye,this)}))}},{key:"focusLast",value:function(Fe,He){if(this.length!==0){var Ye=this.findPreviousIndex(this.length-1,!1,He);Ye>-1&&this.setFocus([Ye],Fe)}}},{key:"focusFirst",value:function(Fe,He){this.focusNth(0,Fe,He)}},{key:"focusNth",value:function(Fe,He,Ye){if(this.length!==0){var ot=this.findNextIndex(Fe,!1,Ye);ot>-1&&this.setFocus([ot],He)}}},{key:"findNextIndex",value:function(Fe){for(var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ye=arguments.length>2?arguments[2]:void 0,ot=0;ot<this.length;ot++){if(Fe>=this.length&&!He)return-1;if(Fe=Fe%this.length,!Ye||Ye(this.element(Fe)))return Fe;Fe++}return-1}},{key:"findPreviousIndex",value:function(Fe){for(var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ye=arguments.length>2?arguments[2]:void 0,ot=0;ot<this.length;ot++){if(Fe<0&&!He)return-1;if(Fe=(this.length+Fe%this.length)%this.length,!Ye||Ye(this.element(Fe)))return Fe;Fe--}return-1}},{key:"getFocus",value:function(){return this.focus.get()}},{key:"getFocusedElements",value:function(){var Fe=this;return this.getFocus().map(function(He){return Fe.view.element(He)})}},{key:"reveal",value:function(Fe,He){if(Fe<0||Fe>=this.length)throw new be(this.user,"Invalid index ".concat(Fe));var Ye=this.view.getScrollTop(),ot=this.view.elementTop(Fe),Kt=this.view.elementHeight(Fe);if(Object(z.g)(He)){var gt=Kt-this.view.renderHeight;this.view.setScrollTop(gt*Object(S.c)(He,0,1)+ot)}else{var Ft=ot+Kt,Jt=Ye+this.view.renderHeight;ot<Ye&&Ft>=Jt||(ot<Ye||Ft>=Jt&&Kt>=this.view.renderHeight?this.view.setScrollTop(ot):Ft>=Jt&&this.view.setScrollTop(Ft-this.view.renderHeight))}}},{key:"getHTMLElement",value:function(){return this.view.domNode}},{key:"getElementID",value:function(Fe){return this.view.getElementDomId(Fe)}},{key:"style",value:function(Fe){this.styleController.style(Fe)}},{key:"toListEvent",value:function(Fe){var He=this,Ye=Fe.indexes,ot=Fe.browserEvent;return{indexes:Ye,elements:Ye.map(function(Kt){return He.view.element(Kt)}),browserEvent:ot}}},{key:"_onFocusChange",value:function(){var Fe=this.focus.get();this.view.domNode.classList.toggle("element-focused",Fe.length>0),this.onDidChangeActiveDescendant()}},{key:"onDidChangeActiveDescendant",value:function(){var Fe,He=this.focus.get();if(He.length>0){var Ye;((Fe=this.accessibilityProvider)===null||Fe===void 0?void 0:Fe.getActiveDescendantId)&&(Ye=this.accessibilityProvider.getActiveDescendantId(this.view.element(He[0]))),this.view.domNode.setAttribute("aria-activedescendant",Ye||this.view.getElementDomId(He[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}},{key:"_onSelectionChange",value:function(){var Fe=this.selection.get();this.view.domNode.classList.toggle("selection-none",Fe.length===0),this.view.domNode.classList.toggle("selection-single",Fe.length===1),this.view.domNode.classList.toggle("selection-multiple",Fe.length>1)}},{key:"dispose",value:function(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}]),We}();ke([d.a],$e.prototype,"onDidChangeFocus",null),ke([d.a],$e.prototype,"onDidChangeSelection",null),ke([d.a],$e.prototype,"onContextMenu",null),ke([d.a],$e.prototype,"onKeyDown",null),ke([d.a],$e.prototype,"onDidFocus",null)},dBaI:function(fn,K,a){"use strict";a.d(K,"a",function(){return re}),a.d(K,"b",function(){return y});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("N0LK"),re=function(){function Q(L,ne,ee,H){Object(De.a)(this,Q),this.startColumn=L,this.endColumn=ne,this.className=ee,this.type=H,this._lineDecorationBrand=void 0}return Object(E.a)(Q,null,[{key:"_equals",value:function(ne,ee){return ne.startColumn===ee.startColumn&&ne.endColumn===ee.endColumn&&ne.className===ee.className&&ne.type===ee.type}},{key:"equalsArr",value:function(ne,ee){var H=ne.length,W=ee.length;if(H!==W)return!1;for(var F=0;F<H;F++)if(!Q._equals(ne[F],ee[F]))return!1;return!0}},{key:"extractWrapped",value:function(ne,ee,H){if(ne.length===0)return ne;var W=ee+1,F=H+1,V=H-ee,N=[],U=0,d=Object(le.a)(ne),j;try{for(d.s();!(j=d.n()).done;){var C=j.value;C.endColumn<=W||C.startColumn>=F||(N[U++]=new Q(Math.max(1,C.startColumn-W+1),Math.min(V+1,C.endColumn-W+1),C.className,C.type))}}catch(x){d.e(x)}finally{d.f()}return N}},{key:"filter",value:function(ne,ee,H,W){if(ne.length===0)return[];for(var F=[],V=0,N=0,U=ne.length;N<U;N++){var d=ne[N],j=d.range;if(!(j.endLineNumber<ee||j.startLineNumber>ee)&&!(j.isEmpty()&&(d.type===0||d.type===3))){var C=j.startLineNumber===ee?j.startColumn:H,x=j.endLineNumber===ee?j.endColumn:W;F[V++]=new Q(C,x,d.inlineClassName,d.type)}}return F}},{key:"_typeCompare",value:function(ne,ee){var H=[2,0,1,3];return H[ne]-H[ee]}},{key:"compare",value:function(ne,ee){if(ne.startColumn!==ee.startColumn)return ne.startColumn-ee.startColumn;if(ne.endColumn!==ee.endColumn)return ne.endColumn-ee.endColumn;var H=Q._typeCompare(ne.type,ee.type);return H!==0?H:ne.className!==ee.className?ne.className<ee.className?-1:1:0}}]),Q}(),J=Object(E.a)(function Q(L,ne,ee,H){Object(De.a)(this,Q),this.startOffset=L,this.endOffset=ne,this.className=ee,this.metadata=H}),$=function(){function Q(){Object(De.a)(this,Q),this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}return Object(E.a)(Q,[{key:"consumeLowerThan",value:function(ne,ee,H){for(;this.count>0&&this.stopOffsets[0]<ne;){for(var W=0;W+1<this.count&&this.stopOffsets[W]===this.stopOffsets[W+1];)W++;H.push(new J(ee,this.stopOffsets[W],this.classNames.join(" "),Q._metadata(this.metadata))),ee=this.stopOffsets[W]+1,this.stopOffsets.splice(0,W+1),this.classNames.splice(0,W+1),this.metadata.splice(0,W+1),this.count-=W+1}return this.count>0&&ee<ne&&(H.push(new J(ee,ne-1,this.classNames.join(" "),Q._metadata(this.metadata))),ee=ne),ee}},{key:"insert",value:function(ne,ee,H){if(this.count===0||this.stopOffsets[this.count-1]<=ne)this.stopOffsets.push(ne),this.classNames.push(ee),this.metadata.push(H);else for(var W=0;W<this.count;W++)if(this.stopOffsets[W]>=ne){this.stopOffsets.splice(W,0,ne),this.classNames.splice(W,0,ee),this.metadata.splice(W,0,H);break}this.count++}}],[{key:"_metadata",value:function(ne){for(var ee=0,H=0,W=ne.length;H<W;H++)ee|=ne[H];return ee}}]),Q}(),y=function(){function Q(){Object(De.a)(this,Q)}return Object(E.a)(Q,null,[{key:"normalize",value:function(ne,ee){if(ee.length===0)return[];for(var H=[],W=new $,F=0,V=0,N=ee.length;V<N;V++){var U=ee[V],d=U.startColumn,j=U.endColumn,C=U.className,x=U.type===1?2:U.type===2?4:0;if(d>1){var S=ne.charCodeAt(d-2);ve.F(S)&&d--}if(j>1){var T=ne.charCodeAt(j-2);ve.F(T)&&j--}var z=d-1,A=j-2;F=W.consumeLowerThan(z,F,H),W.count===0&&(F=z),W.insert(A,C,x)}return W.consumeLowerThan(1073741824,F,H),H}}]),Q}()},"db+f":function(fn,K,a){"use strict";a.d(K,"a",function(){return De}),a.d(K,"b",function(){return E});var le=a("Cg/j"),De=Object(le.c)("textResourceConfigurationService"),E=Object(le.c)("textResourcePropertiesService")},ddRO:function(fn,K,a){"use strict";a.d(K,"c",function(){return Te}),a.d(K,"a",function(){return Ge}),a.d(K,"b",function(){return $e});/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function le(Fe){if(Array.isArray(Fe)){for(var He=0,Ye=Array(Fe.length);He<Fe.length;He++)Ye[He]=Fe[He];return Ye}else return Array.from(Fe)}var De=Object.hasOwnProperty,E=Object.setPrototypeOf,ve=Object.isFrozen,re=Object.getPrototypeOf,J=Object.getOwnPropertyDescriptor,$=Object.freeze,y=Object.seal,Q=Object.create,L=typeof Reflect!="undefined"&&Reflect,ne=L.apply,ee=L.construct;ne||(ne=function(He,Ye,ot){return He.apply(Ye,ot)}),$||($=function(He){return He}),y||(y=function(He){return He}),ee||(ee=function(He,Ye){return new(Function.prototype.bind.apply(He,[null].concat(le(Ye))))});var H=S(Array.prototype.forEach),W=S(Array.prototype.pop),F=S(Array.prototype.push),V=S(String.prototype.toLowerCase),N=S(String.prototype.match),U=S(String.prototype.replace),d=S(String.prototype.indexOf),j=S(String.prototype.trim),C=S(RegExp.prototype.test),x=T(TypeError);function S(Fe){return function(He){for(var Ye=arguments.length,ot=Array(Ye>1?Ye-1:0),Kt=1;Kt<Ye;Kt++)ot[Kt-1]=arguments[Kt];return ne(Fe,He,ot)}}function T(Fe){return function(){for(var He=arguments.length,Ye=Array(He),ot=0;ot<He;ot++)Ye[ot]=arguments[ot];return ee(Fe,Ye)}}function z(Fe,He){E&&E(Fe,null);for(var Ye=He.length;Ye--;){var ot=He[Ye];if(typeof ot=="string"){var Kt=V(ot);Kt!==ot&&(ve(He)||(He[Ye]=Kt),ot=Kt)}Fe[ot]=!0}return Fe}function A(Fe){var He=Q(null),Ye=void 0;for(Ye in Fe)ne(De,Fe,[Ye])&&(He[Ye]=Fe[Ye]);return He}function ue(Fe,He){for(;Fe!==null;){var Ye=J(Fe,He);if(Ye){if(Ye.get)return S(Ye.get);if(typeof Ye.value=="function")return S(Ye.value)}Fe=re(Fe)}function ot(Kt){return console.warn("fallback value for",Kt),null}return ot}var be=$(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),de=$(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ke=$(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),he=$(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ge=$(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ce=$(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),k=$(["#text"]),w=$(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),B=$(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Y=$(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),pe=$(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),me=y(/\{\{[\s\S]*|[\s\S]*\}\}/gm),I=y(/<%[\s\S]*|[\s\S]*%>/gm),we=y(/^data-[\-\w.\u00B7-\uFFFF]/),Re=y(/^aria-[\-\w]+$/),Oe=y(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Pe=y(/^(?:\w+script|data):/i),Ne=y(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe};function Xe(Fe){if(Array.isArray(Fe)){for(var He=0,Ye=Array(Fe.length);He<Fe.length;He++)Ye[He]=Fe[He];return Ye}else return Array.from(Fe)}var wt=function(){return typeof window=="undefined"?null:window},Ct=function(He,Ye){if((typeof He=="undefined"?"undefined":Ke(He))!=="object"||typeof He.createPolicy!="function")return null;var ot=null,Kt="data-tt-policy-suffix";Ye.currentScript&&Ye.currentScript.hasAttribute(Kt)&&(ot=Ye.currentScript.getAttribute(Kt));var gt="dompurify"+(ot?"#"+ot:"");try{return He.createPolicy(gt,{createHTML:function(Jt){return Jt}})}catch(Ft){return console.warn("TrustedTypes policy "+gt+" could not be created."),null}};function bt(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wt(),He=function(_n){return bt(_n)};if(He.version="2.3.1",He.removed=[],!Fe||!Fe.document||Fe.document.nodeType!==9)return He.isSupported=!1,He;var Ye=Fe.document,ot=Fe.document,Kt=Fe.DocumentFragment,gt=Fe.HTMLTemplateElement,Ft=Fe.Node,Jt=Fe.Element,qt=Fe.NodeFilter,En=Fe.NamedNodeMap,It=En===void 0?Fe.NamedNodeMap||Fe.MozNamedAttrMap:En,si=Fe.Text,On=Fe.Comment,Gn=Fe.DOMParser,ci=Fe.trustedTypes,Dn=Jt.prototype,An=ue(Dn,"cloneNode"),fr=ue(Dn,"nextSibling"),Vi=ue(Dn,"childNodes"),Sr=ue(Dn,"parentNode");if(typeof gt=="function"){var Pi=ot.createElement("template");Pi.content&&Pi.content.ownerDocument&&(ot=Pi.content.ownerDocument)}var Ei=Ct(ci,Ye),Cr=Ei&&jn?Ei.createHTML(""):"",zn=ot,dr=zn.implementation,Hn=zn.createNodeIterator,mi=zn.createDocumentFragment,hn=zn.getElementsByTagName,Xn=Ye.importNode,en={};try{en=A(ot).documentMode?ot.documentMode:{}}catch(bi){}var yt={};He.isSupported=typeof Sr=="function"&&dr&&typeof dr.createHTMLDocument!="undefined"&&en!==9;var wn=me,gn=I,rn=we,bn=Re,Qn=Pe,Ci=Ne,yr=Oe,_i=null,Bn=z({},[].concat(Xe(be),Xe(de),Xe(ke),Xe(ge),Xe(k))),tt=null,Lt=z({},[].concat(Xe(w),Xe(B),Xe(Y),Xe(pe))),xi=null,Qi=null,mr=!0,pr=!0,St=!1,Gi=!1,an=!1,Qe=!1,Jn=!1,ii=!1,Li=!1,Fn=!0,jn=!1,Nt=!0,Gt=!0,Et=!1,Rt={},dn=null,et=z({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ze=null,on=z({},["audio","video","img","source","image","track"]),tn=null,Dt=z({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pn="http://www.w3.org/1998/Math/MathML",ti="http://www.w3.org/2000/svg",kn="http://www.w3.org/1999/xhtml",Vt=kn,Oi=!1,Yi=null,Hi=ot.createElement("form"),qi=function(_n){Yi&&Yi===_n||((!_n||(typeof _n=="undefined"?"undefined":Ke(_n))!=="object")&&(_n={}),_n=A(_n),_i="ALLOWED_TAGS"in _n?z({},_n.ALLOWED_TAGS):Bn,tt="ALLOWED_ATTR"in _n?z({},_n.ALLOWED_ATTR):Lt,tn="ADD_URI_SAFE_ATTR"in _n?z(A(Dt),_n.ADD_URI_SAFE_ATTR):Dt,Ze="ADD_DATA_URI_TAGS"in _n?z(A(on),_n.ADD_DATA_URI_TAGS):on,dn="FORBID_CONTENTS"in _n?z({},_n.FORBID_CONTENTS):et,xi="FORBID_TAGS"in _n?z({},_n.FORBID_TAGS):{},Qi="FORBID_ATTR"in _n?z({},_n.FORBID_ATTR):{},Rt="USE_PROFILES"in _n?_n.USE_PROFILES:!1,mr=_n.ALLOW_ARIA_ATTR!==!1,pr=_n.ALLOW_DATA_ATTR!==!1,St=_n.ALLOW_UNKNOWN_PROTOCOLS||!1,Gi=_n.SAFE_FOR_TEMPLATES||!1,an=_n.WHOLE_DOCUMENT||!1,ii=_n.RETURN_DOM||!1,Li=_n.RETURN_DOM_FRAGMENT||!1,Fn=_n.RETURN_DOM_IMPORT!==!1,jn=_n.RETURN_TRUSTED_TYPE||!1,Jn=_n.FORCE_BODY||!1,Nt=_n.SANITIZE_DOM!==!1,Gt=_n.KEEP_CONTENT!==!1,Et=_n.IN_PLACE||!1,yr=_n.ALLOWED_URI_REGEXP||yr,Vt=_n.NAMESPACE||kn,Gi&&(pr=!1),Li&&(ii=!0),Rt&&(_i=z({},[].concat(Xe(k))),tt=[],Rt.html===!0&&(z(_i,be),z(tt,w)),Rt.svg===!0&&(z(_i,de),z(tt,B),z(tt,pe)),Rt.svgFilters===!0&&(z(_i,ke),z(tt,B),z(tt,pe)),Rt.mathMl===!0&&(z(_i,ge),z(tt,Y),z(tt,pe))),_n.ADD_TAGS&&(_i===Bn&&(_i=A(_i)),z(_i,_n.ADD_TAGS)),_n.ADD_ATTR&&(tt===Lt&&(tt=A(tt)),z(tt,_n.ADD_ATTR)),_n.ADD_URI_SAFE_ATTR&&z(tn,_n.ADD_URI_SAFE_ATTR),_n.FORBID_CONTENTS&&(dn===et&&(dn=A(dn)),z(dn,_n.FORBID_CONTENTS)),Gt&&(_i["#text"]=!0),an&&z(_i,["html","head","body"]),_i.table&&(z(_i,["tbody"]),delete xi.tbody),$&&$(_n),Yi=_n)},Qr=z({},["mi","mo","mn","ms","mtext"]),Mr=z({},["foreignobject","desc","title","annotation-xml"]),na=z({},de);z(na,ke),z(na,he);var Br=z({},ge);z(Br,ce);var ha=function(_n){var li=Sr(_n);(!li||!li.tagName)&&(li={namespaceURI:kn,tagName:"template"});var ki=V(_n.tagName),Ki=V(li.tagName);if(_n.namespaceURI===ti)return li.namespaceURI===kn?ki==="svg":li.namespaceURI===pn?ki==="svg"&&(Ki==="annotation-xml"||Qr[Ki]):Boolean(na[ki]);if(_n.namespaceURI===pn)return li.namespaceURI===kn?ki==="math":li.namespaceURI===ti?ki==="math"&&Mr[Ki]:Boolean(Br[ki]);if(_n.namespaceURI===kn){if(li.namespaceURI===ti&&!Mr[Ki]||li.namespaceURI===pn&&!Qr[Ki])return!1;var Tr=z({},["title","style","font","a","script"]);return!Br[ki]&&(Tr[ki]||!na[ki])}return!1},vn=function(_n){F(He.removed,{element:_n});try{_n.parentNode.removeChild(_n)}catch(li){try{_n.outerHTML=Cr}catch(ki){_n.remove()}}},Ln=function(_n,li){try{F(He.removed,{attribute:li.getAttributeNode(_n),from:li})}catch(ki){F(He.removed,{attribute:null,from:li})}if(li.removeAttribute(_n),_n==="is"&&!tt[_n])if(ii||Li)try{vn(li)}catch(ki){}else try{li.setAttribute(_n,"")}catch(ki){}},ut=function(_n){var li=void 0,ki=void 0;if(Jn)_n="<remove></remove>"+_n;else{var Ki=N(_n,/^[\r\n\t ]+/);ki=Ki&&Ki[0]}var Tr=Ei?Ei.createHTML(_n):_n;if(Vt===kn)try{li=new Gn().parseFromString(Tr,"text/html")}catch(Er){}if(!li||!li.documentElement){li=dr.createDocument(Vt,"template",null);try{li.documentElement.innerHTML=Oi?"":Tr}catch(Er){}}var ir=li.body||li.documentElement;return _n&&ki&&ir.insertBefore(ot.createTextNode(ki),ir.childNodes[0]||null),Vt===kn?hn.call(li,an?"html":"body")[0]:an?li.documentElement:ir},Tt=function(_n){return Hn.call(_n.ownerDocument||_n,_n,qt.SHOW_ELEMENT|qt.SHOW_COMMENT|qt.SHOW_TEXT,null,!1)},Pt=function(_n){return _n instanceof si||_n instanceof On?!1:typeof _n.nodeName!="string"||typeof _n.textContent!="string"||typeof _n.removeChild!="function"||!(_n.attributes instanceof It)||typeof _n.removeAttribute!="function"||typeof _n.setAttribute!="function"||typeof _n.namespaceURI!="string"||typeof _n.insertBefore!="function"},Zt=function(_n){return(typeof Ft=="undefined"?"undefined":Ke(Ft))==="object"?_n instanceof Ft:_n&&(typeof _n=="undefined"?"undefined":Ke(_n))==="object"&&typeof _n.nodeType=="number"&&typeof _n.nodeName=="string"},Ut=function(_n,li,ki){!yt[_n]||H(yt[_n],function(Ki){Ki.call(He,li,ki,Yi)})},Nn=function(_n){var li=void 0;if(Ut("beforeSanitizeElements",_n,null),Pt(_n)||N(_n.nodeName,/[\u0080-\uFFFF]/))return vn(_n),!0;var ki=V(_n.nodeName);if(Ut("uponSanitizeElement",_n,{tagName:ki,allowedTags:_i}),!Zt(_n.firstElementChild)&&(!Zt(_n.content)||!Zt(_n.content.firstElementChild))&&C(/<[/\w]/g,_n.innerHTML)&&C(/<[/\w]/g,_n.textContent)||ki==="select"&&C(/<template/i,_n.innerHTML))return vn(_n),!0;if(!_i[ki]||xi[ki]){if(Gt&&!dn[ki]){var Ki=Sr(_n)||_n.parentNode,Tr=Vi(_n)||_n.childNodes;if(Tr&&Ki)for(var ir=Tr.length,Er=ir-1;Er>=0;--Er)Ki.insertBefore(An(Tr[Er],!0),fr(_n))}return vn(_n),!0}return _n instanceof Jt&&!ha(_n)||(ki==="noscript"||ki==="noembed")&&C(/<\/no(script|embed)/i,_n.innerHTML)?(vn(_n),!0):(Gi&&_n.nodeType===3&&(li=_n.textContent,li=U(li,wn," "),li=U(li,gn," "),_n.textContent!==li&&(F(He.removed,{element:_n.cloneNode()}),_n.textContent=li)),Ut("afterSanitizeElements",_n,null),!1)},In=function(_n,li,ki){if(Nt&&(li==="id"||li==="name")&&(ki in ot||ki in Hi))return!1;if(!(pr&&!Qi[li]&&C(rn,li))){if(!(mr&&C(bn,li))){if(!tt[li]||Qi[li])return!1;if(!tn[li]){if(!C(yr,U(ki,Ci,""))){if(!((li==="src"||li==="xlink:href"||li==="href")&&_n!=="script"&&d(ki,"data:")===0&&Ze[_n])){if(!(St&&!C(Qn,U(ki,Ci,"")))){if(ki)return!1}}}}}}return!0},Wn=function(_n){var li=void 0,ki=void 0,Ki=void 0,Tr=void 0;Ut("beforeSanitizeAttributes",_n,null);var ir=_n.attributes;if(!!ir){var Er={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:tt};for(Tr=ir.length;Tr--;){li=ir[Tr];var va=li,Sn=va.name,ri=va.namespaceURI;if(ki=j(li.value),Ki=V(Sn),Er.attrName=Ki,Er.attrValue=ki,Er.keepAttr=!0,Er.forceKeepAttr=void 0,Ut("uponSanitizeAttribute",_n,Er),ki=Er.attrValue,!Er.forceKeepAttr&&(Ln(Sn,_n),!!Er.keepAttr)){if(C(/\/>/i,ki)){Ln(Sn,_n);continue}Gi&&(ki=U(ki,wn," "),ki=U(ki,gn," "));var Vn=_n.nodeName.toLowerCase();if(!!In(Vn,Ki,ki))try{ri?_n.setAttributeNS(ri,Sn,ki):_n.setAttribute(Sn,ki),W(He.removed)}catch(Ai){}}}Ut("afterSanitizeAttributes",_n,null)}},oi=function bi(_n){var li=void 0,ki=Tt(_n);for(Ut("beforeSanitizeShadowDOM",_n,null);li=ki.nextNode();)Ut("uponSanitizeShadowNode",li,null),!Nn(li)&&(li.content instanceof Kt&&bi(li.content),Wn(li));Ut("afterSanitizeShadowDOM",_n,null)};return He.sanitize=function(bi,_n){var li=void 0,ki=void 0,Ki=void 0,Tr=void 0,ir=void 0;if(Oi=!bi,Oi&&(bi="<!-->"),typeof bi!="string"&&!Zt(bi)){if(typeof bi.toString!="function")throw x("toString is not a function");if(bi=bi.toString(),typeof bi!="string")throw x("dirty is not a string, aborting")}if(!He.isSupported){if(Ke(Fe.toStaticHTML)==="object"||typeof Fe.toStaticHTML=="function"){if(typeof bi=="string")return Fe.toStaticHTML(bi);if(Zt(bi))return Fe.toStaticHTML(bi.outerHTML)}return bi}if(Qe||qi(_n),He.removed=[],typeof bi=="string"&&(Et=!1),!Et)if(bi instanceof Ft)li=ut("<!---->"),ki=li.ownerDocument.importNode(bi,!0),ki.nodeType===1&&ki.nodeName==="BODY"||ki.nodeName==="HTML"?li=ki:li.appendChild(ki);else{if(!ii&&!Gi&&!an&&bi.indexOf("<")===-1)return Ei&&jn?Ei.createHTML(bi):bi;if(li=ut(bi),!li)return ii?null:Cr}li&&Jn&&vn(li.firstChild);for(var Er=Tt(Et?bi:li);Ki=Er.nextNode();)Ki.nodeType===3&&Ki===Tr||Nn(Ki)||(Ki.content instanceof Kt&&oi(Ki.content),Wn(Ki),Tr=Ki);if(Tr=null,Et)return bi;if(ii){if(Li)for(ir=mi.call(li.ownerDocument);li.firstChild;)ir.appendChild(li.firstChild);else ir=li;return Fn&&(ir=Xn.call(Ye,ir,!0)),ir}var va=an?li.outerHTML:li.innerHTML;return Gi&&(va=U(va,wn," "),va=U(va,gn," ")),Ei&&jn?Ei.createHTML(va):va},He.setConfig=function(bi){qi(bi),Qe=!0},He.clearConfig=function(){Yi=null,Qe=!1},He.isValidAttribute=function(bi,_n,li){Yi||qi({});var ki=V(bi),Ki=V(_n);return In(ki,Ki,li)},He.addHook=function(bi,_n){typeof _n=="function"&&(yt[bi]=yt[bi]||[],F(yt[bi],_n))},He.removeHook=function(bi){yt[bi]&&W(yt[bi])},He.removeHooks=function(bi){yt[bi]&&(yt[bi]=[])},He.removeAllHooks=function(){yt={}},He}var mt=bt(),jt=mt,Je=mt.version,Wt=mt.isSupported,Te=mt.sanitize,fe=mt.setConfig,ye=mt.clearConfig,Ee=mt.isValidAttribute,Ge=mt.addHook,$e=mt.removeHook,We=mt.removeHooks,it=mt.removeAllHooks},df8c:function(fn,K,a){},dfpW:function(fn,K,a){"use strict";a.d(K,"a",function(){return $});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("0/Sa"),re=a("aokT"),J=a("OQeR"),$=function(){function y(){Object(De.a)(this,y)}return Object(E.a)(y,null,[{key:"_handleEolEdits",value:function(L,ne){var ee=void 0,H=[],W=Object(le.a)(ne),F;try{for(W.s();!(F=W.n()).done;){var V=F.value;typeof V.eol=="number"&&(ee=V.eol),V.range&&typeof V.text=="string"&&H.push(V)}}catch(N){W.e(N)}finally{W.f()}return typeof ee=="number"&&L.hasModel()&&L.getModel().pushEOL(ee),H}},{key:"_isFullModelReplaceEdit",value:function(L,ne){if(!L.hasModel())return!1;var ee=L.getModel(),H=ee.validateRange(ne.range),W=ee.getFullModelRange();return W.equalsRange(H)}},{key:"execute",value:function(L,ne,ee){ee&&L.pushUndoStop();var H=J.a.capture(L),W=y._handleEolEdits(L,ne);W.length===1&&y._isFullModelReplaceEdit(L,W[0])?L.executeEdits("formatEditsCommand",W.map(function(F){return ve.a.replace(re.a.lift(F.range),F.text)})):L.executeEdits("formatEditsCommand",W.map(function(F){return ve.a.replaceMove(re.a.lift(F.range),F.text)})),ee&&L.pushUndoStop(),H.restoreRelativeVerticalPositionOfCursor(L)}}]),y}()},dzw2:function(fn,K,a){},e0E1:function(fn,K,a){"use strict";a.d(K,"e",function(){return Pe}),a.d(K,"d",function(){return Ne}),a.d(K,"a",function(){return Ke}),a.d(K,"b",function(){return Xe}),a.d(K,"c",function(){return Wt});var le=a("rAM+"),De=a("tS8v"),E=a("yKVA"),ve=a("879j"),re=a("fWQN"),J=a("mtLc"),$=a("EffR"),y=a("D3Dy"),Q=a("zrhQ"),L=a("MI8n"),ne=a("LloX"),ee=a("VGTv"),H=Object(J.a)(function Te(fe,ye,Ee,Ge,$e){Object(re.a)(this,Te),this._parsedThemeRuleBrand=void 0,this.token=fe,this.index=ye,this.fontStyle=Ee,this.foreground=Ge,this.background=$e});function W(Te){if(!Te||!Array.isArray(Te))return[];for(var fe=[],ye=0,Ee=0,Ge=Te.length;Ee<Ge;Ee++){var $e=Te[Ee],We=-1;if(typeof $e.fontStyle=="string"){We=0;for(var it=$e.fontStyle.split(" "),Fe=0,He=it.length;Fe<He;Fe++){var Ye=it[Fe];switch(Ye){case"italic":We=We|1;break;case"bold":We=We|2;break;case"underline":We=We|4;break;case"strikethrough":We=We|8;break}}}var ot=null;typeof $e.foreground=="string"&&(ot=$e.foreground);var Kt=null;typeof $e.background=="string"&&(Kt=$e.background),fe[ye++]=new H($e.token||"",Ee,We,ot,Kt)}return fe}function F(Te,fe){Te.sort(function(En,It){var si=C(En.token,It.token);return si!==0?si:En.index-It.index});for(var ye=0,Ee="000000",Ge="ffffff";Te.length>=1&&Te[0].token==="";){var $e=Te.shift();$e.fontStyle!==-1&&(ye=$e.fontStyle),$e.foreground!==null&&(Ee=$e.foreground),$e.background!==null&&(Ge=$e.background)}var We=new N,it=Object(le.a)(fe),Fe;try{for(it.s();!(Fe=it.n()).done;){var He=Fe.value;We.getId(He)}}catch(En){it.e(En)}finally{it.f()}for(var Ye=We.getId(Ee),ot=We.getId(Ge),Kt=new x(ye,Ye,ot),gt=new S(Kt),Ft=0,Jt=Te.length;Ft<Jt;Ft++){var qt=Te[Ft];gt.insert(qt.token,qt.fontStyle,We.getId(qt.foreground),We.getId(qt.background))}return new U(We,gt)}var V=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,N=function(){function Te(){Object(re.a)(this,Te),this._lastColorId=0,this._id2color=[],this._color2id=new Map}return Object(J.a)(Te,[{key:"getId",value:function(ye){if(ye===null)return 0;var Ee=ye.match(V);if(!Ee)throw new Error("Illegal value for token color: "+ye);ye=Ee[1].toUpperCase();var Ge=this._color2id.get(ye);return Ge||(Ge=++this._lastColorId,this._color2id.set(ye,Ge),this._id2color[Ge]=Q.a.fromHex("#"+ye),Ge)}},{key:"getColorMap",value:function(){return this._id2color.slice(0)}}]),Te}(),U=function(){function Te(fe,ye){Object(re.a)(this,Te),this._colorMap=fe,this._root=ye,this._cache=new Map}return Object(J.a)(Te,[{key:"getColorMap",value:function(){return this._colorMap.getColorMap()}},{key:"_match",value:function(ye){return this._root.match(ye)}},{key:"match",value:function(ye,Ee){var Ge=this._cache.get(Ee);if(typeof Ge=="undefined"){var $e=this._match(Ee),We=j(Ee);Ge=($e.metadata|We<<8)>>>0,this._cache.set(Ee,Ge)}return(Ge|ye<<0)>>>0}}],[{key:"createFromRawTokenTheme",value:function(ye,Ee){return this.createFromParsedTokenTheme(W(ye),Ee)}},{key:"createFromParsedTokenTheme",value:function(ye,Ee){return F(ye,Ee)}}]),Te}(),d=/\b(comment|string|regex|regexp)\b/;function j(Te){var fe=Te.match(d);if(!fe)return 0;switch(fe[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function C(Te,fe){return Te<fe?-1:Te>fe?1:0}var x=function(){function Te(fe,ye,Ee){Object(re.a)(this,Te),this._themeTrieElementRuleBrand=void 0,this._fontStyle=fe,this._foreground=ye,this._background=Ee,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}return Object(J.a)(Te,[{key:"clone",value:function(){return new Te(this._fontStyle,this._foreground,this._background)}},{key:"acceptOverwrite",value:function(ye,Ee,Ge){ye!==-1&&(this._fontStyle=ye),Ee!==0&&(this._foreground=Ee),Ge!==0&&(this._background=Ge),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}]),Te}(),S=function(){function Te(fe){Object(re.a)(this,Te),this._themeTrieElementBrand=void 0,this._mainRule=fe,this._children=new Map}return Object(J.a)(Te,[{key:"match",value:function(ye){if(ye==="")return this._mainRule;var Ee=ye.indexOf("."),Ge,$e;Ee===-1?(Ge=ye,$e=""):(Ge=ye.substring(0,Ee),$e=ye.substring(Ee+1));var We=this._children.get(Ge);return typeof We!="undefined"?We.match($e):this._mainRule}},{key:"insert",value:function(ye,Ee,Ge,$e){if(ye===""){this._mainRule.acceptOverwrite(Ee,Ge,$e);return}var We=ye.indexOf("."),it,Fe;We===-1?(it=ye,Fe=""):(it=ye.substring(0,We),Fe=ye.substring(We+1));var He=this._children.get(it);typeof He=="undefined"&&(He=new Te(this._mainRule.clone()),this._children.set(it,He)),He.insert(Fe,Ee,Ge,$e)}}]),Te}();function T(Te){for(var fe=[],ye=1,Ee=Te.length;ye<Ee;ye++){var Ge=Te[ye];fe[ye]=".mtk".concat(ye," { color: ").concat(Ge,"; }")}return fe.push(".mtki { font-style: italic; }"),fe.push(".mtkb { font-weight: bold; }"),fe.push(".mtku { text-decoration: underline; text-underline-position: under; }"),fe.push(".mtks { text-decoration: line-through; }"),fe.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),fe.join(`
`)}var z=a("jrin"),A=a("3IFt"),ue=a("MD5Z"),be,de,ke,he,ge={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:(be={},Object(z.a)(be,ue.F,"#FFFFFE"),Object(z.a)(be,ue.O,"#000000"),Object(z.a)(be,ue.S,"#E5EBF1"),Object(z.a)(be,A.x,"#D3D3D3"),Object(z.a)(be,A.a,"#939393"),Object(z.a)(be,ue.db,"#ADD6FF4D"),be)},ce={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(de={},Object(z.a)(de,ue.F,"#1E1E1E"),Object(z.a)(de,ue.O,"#D4D4D4"),Object(z.a)(de,ue.S,"#3A3D41"),Object(z.a)(de,A.x,"#404040"),Object(z.a)(de,A.a,"#707070"),Object(z.a)(de,ue.db,"#ADD6FF26"),de)},k={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(ke={},Object(z.a)(ke,ue.F,"#000000"),Object(z.a)(ke,ue.O,"#FFFFFF"),Object(z.a)(ke,A.x,"#FFFFFF"),Object(z.a)(ke,A.a,"#FFFFFF"),ke)},w={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:(he={},Object(z.a)(he,ue.F,"#FFFFFF"),Object(z.a)(he,ue.O,"#292929"),Object(z.a)(he,A.x,"#292929"),Object(z.a)(he,A.a,"#292929"),he)},B=a("ic2d"),Y=a("t9D7"),pe=a("pmY6"),me=a("nEHx"),I=a("T5lh"),we=a("v1vZ");function Re(Te){var fe=new L.b,ye=Object(we.a)();return ye.onDidChange(function(){return fe.fire()}),Te==null||Te.onDidProductIconThemeChange(function(){return fe.fire()}),{onDidChange:fe.event,getCSS:function(){var Ge=Te?Te.getProductIconTheme():new Oe,$e={},We=function(It){var si=Ge.getIcon(It);if(!!si){var On=si.font;return On?($e[On.id]=On.definition,".codicon-".concat(It.id,":before { content: '").concat(si.fontCharacter,"'; font-family: ").concat(Object($.asCSSPropertyValue)(On.id),"; }")):".codicon-".concat(It.id,":before { content: '").concat(si.fontCharacter,"'; }")}},it=[],Fe=Object(le.a)(ye.getIcons()),He;try{for(Fe.s();!(He=Fe.n()).done;){var Ye=He.value,ot=We(Ye);ot&&it.push(ot)}}catch(En){Fe.e(En)}finally{Fe.f()}for(var Kt in $e){var gt=$e[Kt],Ft=gt.weight?"font-weight: ".concat(gt.weight,";"):"",Jt=gt.style?"font-style: ".concat(gt.style,";"):"",qt=gt.src.map(function(En){return"".concat(Object($.asCSSUrl)(En.location)," format('").concat(En.format,"')")}).join(", ");it.push("@font-face { src: ".concat(qt,"; font-family: ").concat(Object($.asCSSPropertyValue)(Kt),";").concat(Ft).concat(Jt," font-display: block; }"))}return it.join(`
`)}}}var Oe=function(){function Te(){Object(re.a)(this,Te)}return Object(J.a)(Te,[{key:"getIcon",value:function(ye){for(var Ee=Object(we.a)(),Ge=ye.defaults;I.a.isThemeIcon(Ge);){var $e=Ee.getIcon(Ge.id);if(!$e)return;Ge=$e.defaults}return Ge}}]),Te}(),Pe="vs",Ne="vs-dark",Ke="hc-black",Xe="hc-light",wt=B.a.as(ue.a.ColorContribution),Ct=B.a.as(Y.a.ThemingContribution),bt=function(){function Te(fe,ye){Object(re.a)(this,Te),this.semanticHighlighting=!1,this.themeData=ye;var Ee=ye.base;fe.length>0?(mt(fe)?this.id=fe:this.id=Ee+" "+fe,this.themeName=fe):(this.id=Ee,this.themeName=Ee),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}return Object(J.a)(Te,[{key:"base",get:function(){return this.themeData.base}},{key:"notifyBaseUpdated",value:function(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}},{key:"getColors",value:function(){if(!this.colors){var ye=new Map;for(var Ee in this.themeData.colors)ye.set(Ee,Q.a.fromHex(this.themeData.colors[Ee]));if(this.themeData.inherit){var Ge=jt(this.themeData.base);for(var $e in Ge.colors)ye.has($e)||ye.set($e,Q.a.fromHex(Ge.colors[$e]))}this.colors=ye}return this.colors}},{key:"getColor",value:function(ye,Ee){var Ge=this.getColors().get(ye);if(Ge)return Ge;if(Ee!==!1)return this.getDefault(ye)}},{key:"getDefault",value:function(ye){var Ee=this.defaultColors[ye];return Ee||(Ee=wt.resolveDefaultColor(ye,this),this.defaultColors[ye]=Ee,Ee)}},{key:"defines",value:function(ye){return this.getColors().has(ye)}},{key:"type",get:function(){switch(this.base){case Pe:return me.a.LIGHT;case Ke:return me.a.HIGH_CONTRAST_DARK;case Xe:return me.a.HIGH_CONTRAST_LIGHT;default:return me.a.DARK}}},{key:"tokenTheme",get:function(){if(!this._tokenTheme){var ye=[],Ee=[];if(this.themeData.inherit){var Ge=jt(this.themeData.base);ye=Ge.rules,Ge.encodedTokensColors&&(Ee=Ge.encodedTokensColors)}var $e=this.themeData.colors["editor.foreground"],We=this.themeData.colors["editor.background"];if($e||We){var it={token:""};$e&&(it.foreground=$e),We&&(it.background=We),ye.push(it)}ye=ye.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(Ee=this.themeData.encodedTokensColors),this._tokenTheme=U.createFromRawTokenTheme(ye,Ee)}return this._tokenTheme}},{key:"getTokenStyleMetadata",value:function(ye,Ee,Ge){var $e=this.tokenTheme._match([ye].concat(Ee).join(".")),We=$e.metadata,it=ee.a.getForeground(We),Fe=ee.a.getFontStyle(We);return{foreground:it,italic:Boolean(Fe&1),bold:Boolean(Fe&2),underline:Boolean(Fe&4),strikethrough:Boolean(Fe&8)}}}]),Te}();function mt(Te){return Te===Pe||Te===Ne||Te===Ke||Te===Xe}function jt(Te){switch(Te){case Pe:return ge;case Ne:return ce;case Ke:return k;case Xe:return w}}function Je(Te){var fe=jt(Te);return new bt(Te,fe)}var Wt=function(Te){Object(E.a)(ye,Te);var fe=Object(ve.a)(ye);function ye(){var Ee;Object(re.a)(this,ye),Ee=fe.call(this),Ee._onColorThemeChange=Ee._register(new L.b),Ee.onDidColorThemeChange=Ee._onColorThemeChange.event,Ee._onProductIconThemeChange=Ee._register(new L.b),Ee.onDidProductIconThemeChange=Ee._onProductIconThemeChange.event,Ee._environment=Object.create(null),Ee._builtInProductIconTheme=new Oe,Ee._autoDetectHighContrast=!0,Ee._knownThemes=new Map,Ee._knownThemes.set(Pe,Je(Pe)),Ee._knownThemes.set(Ne,Je(Ne)),Ee._knownThemes.set(Ke,Je(Ke)),Ee._knownThemes.set(Xe,Je(Xe));var Ge=Re(Object(De.a)(Ee));return Ee._codiconCSS=Ge.getCSS(),Ee._themeCSS="",Ee._allCSS="".concat(Ee._codiconCSS,`
`).concat(Ee._themeCSS),Ee._globalStyleElement=null,Ee._styleElements=[],Ee._colorMapOverride=null,Ee.setTheme(Pe),Ee._onOSSchemeChanged(),Ge.onDidChange(function(){Ee._codiconCSS=Ge.getCSS(),Ee._updateCSS()}),Object(y.addMatchMediaChangeListener)("(forced-colors: active)",function(){Ee._onOSSchemeChanged()}),Ee}return Object(J.a)(ye,[{key:"registerEditorContainer",value:function(Ge){return $.isInShadowDOM(Ge)?this._registerShadowDomContainer(Ge):this._registerRegularEditorContainer()}},{key:"_registerRegularEditorContainer",value:function(){var Ge=this;return this._globalStyleElement||(this._globalStyleElement=$.createStyleSheet(void 0,function($e){$e.className="monaco-colors",$e.textContent=Ge._allCSS}),this._styleElements.push(this._globalStyleElement)),pe.a.None}},{key:"_registerShadowDomContainer",value:function(Ge){var $e=this,We=$.createStyleSheet(Ge,function(it){it.className="monaco-colors",it.textContent=$e._allCSS});return this._styleElements.push(We),{dispose:function(){for(var Fe=0;Fe<$e._styleElements.length;Fe++)if($e._styleElements[Fe]===We){$e._styleElements.splice(Fe,1);return}}}}},{key:"defineTheme",value:function(Ge,$e){if(!/^[a-z0-9\-]+$/i.test(Ge))throw new Error("Illegal theme name!");if(!mt($e.base)&&!mt(Ge))throw new Error("Illegal theme base!");this._knownThemes.set(Ge,new bt(Ge,$e)),mt(Ge)&&this._knownThemes.forEach(function(We){We.base===Ge&&We.notifyBaseUpdated()}),this._theme.themeName===Ge&&this.setTheme(Ge)}},{key:"getColorTheme",value:function(){return this._theme}},{key:"setColorMapOverride",value:function(Ge){this._colorMapOverride=Ge,this._updateThemeOrColorMap()}},{key:"setTheme",value:function(Ge){var $e;this._knownThemes.has(Ge)?$e=this._knownThemes.get(Ge):$e=this._knownThemes.get(Pe),this._updateActualTheme($e)}},{key:"_updateActualTheme",value:function(Ge){!Ge||this._theme===Ge||(this._theme=Ge,this._updateThemeOrColorMap())}},{key:"_onOSSchemeChanged",value:function(){if(this._autoDetectHighContrast){var Ge=window.matchMedia("(forced-colors: active)").matches;if(Ge!==Object(me.c)(this._theme.type)){var $e;Object(me.b)(this._theme.type)?$e=Ge?Ke:Ne:$e=Ge?Xe:Pe,this._updateActualTheme(this._knownThemes.get($e))}}}},{key:"setAutoDetectHighContrast",value:function(Ge){this._autoDetectHighContrast=Ge,this._onOSSchemeChanged()}},{key:"_updateThemeOrColorMap",value:function(){var Ge=this,$e=[],We={},it={addRule:function(Jt){We[Jt]||($e.push(Jt),We[Jt]=!0)}};Ct.getThemingParticipants().forEach(function(Ft){return Ft(Ge._theme,it,Ge._environment)});var Fe=[],He=Object(le.a)(wt.getColors()),Ye;try{for(He.s();!(Ye=He.n()).done;){var ot=Ye.value,Kt=this._theme.getColor(ot.id,!0);Kt&&Fe.push("".concat(Object(ue.d)(ot.id),": ").concat(Kt.toString(),";"))}}catch(Ft){He.e(Ft)}finally{He.f()}it.addRule(".monaco-editor { ".concat(Fe.join(`
`)," }"));var gt=this._colorMapOverride||this._theme.tokenTheme.getColorMap();it.addRule(T(gt)),this._themeCSS=$e.join(`
`),this._updateCSS(),ne.m.setColorMap(gt),this._onColorThemeChange.fire(this._theme)}},{key:"_updateCSS",value:function(){var Ge=this;this._allCSS="".concat(this._codiconCSS,`
`).concat(this._themeCSS),this._styleElements.forEach(function($e){return $e.textContent=Ge._allCSS})}},{key:"getFileIconTheme",value:function(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}},{key:"getProductIconTheme",value:function(){return this._builtInProductIconTheme}}]),ye}(pe.a)},eC1c:function(fn,K,a){},eLzo:function(fn,K,a){"use strict";a.d(K,"a",function(){return y}),a.d(K,"c",function(){return Q}),a.d(K,"d",function(){return L}),a.d(K,"e",function(){return ne}),a.d(K,"b",function(){return H}),a.d(K,"g",function(){return W}),a.d(K,"f",function(){return F});var le=a("fWQN"),De=a("mtLc"),E=a("/cxE"),ve=a("EJc0"),re=a("gslv"),J=a("N0LK"),$=a("bY76"),y=function(){function V(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Object(le.a)(this,V);var d,j,C;if(this.value=N,typeof this.value!="string")throw Object(E.e)("value");typeof U=="boolean"?(this.isTrusted=U,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(d=U.isTrusted)!==null&&d!==void 0?d:void 0,this.supportThemeIcons=(j=U.supportThemeIcons)!==null&&j!==void 0?j:!1,this.supportHtml=(C=U.supportHtml)!==null&&C!==void 0?C:!1)}return Object(De.a)(V,[{key:"appendText",value:function(U){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.value+=ee(this.supportThemeIcons?Object(ve.a)(U):U).replace(/([ \t]+)/g,function(j,C){return"&nbsp;".repeat(C.length)}).replace(/\>/gm,"\\>").replace(/\n/g,d===1?`\\
`:`

`),this}},{key:"appendMarkdown",value:function(U){return this.value+=U,this}},{key:"appendCodeblock",value:function(U,d){return this.value+="\n```",this.value+=U,this.value+=`
`,this.value+=d,this.value+="\n```\n",this}},{key:"appendLink",value:function(U,d,j){return this.value+="[",this.value+=this._escape(d,"]"),this.value+="](",this.value+=this._escape(String(U),")"),j&&(this.value+=' "'.concat(this._escape(this._escape(j,'"'),")"),'"')),this.value+=")",this}},{key:"_escape",value:function(U,d){var j=new RegExp(Object(J.t)(d),"g");return U.replace(j,function(C,x){return U.charAt(x-1)!=="\\"?"\\".concat(C):C})}}]),V}();function Q(V){return L(V)?!V.value:Array.isArray(V)?V.every(Q):!0}function L(V){return V instanceof y?!0:V&&typeof V=="object"?typeof V.value=="string"&&(typeof V.isTrusted=="boolean"||typeof V.isTrusted=="object"||V.isTrusted===void 0)&&(typeof V.supportThemeIcons=="boolean"||V.supportThemeIcons===void 0):!1}function ne(V,N){return V===N?!0:!V||!N?!1:V.value===N.value&&V.isTrusted===N.isTrusted&&V.supportThemeIcons===N.supportThemeIcons&&V.supportHtml===N.supportHtml&&(V.baseUri===N.baseUri||!!V.baseUri&&!!N.baseUri&&Object(re.g)($.a.from(V.baseUri),$.a.from(N.baseUri)))}function ee(V){return V.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function H(V){return V.replace(/"/g,"&quot;")}function W(V){return V&&V.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function F(V){var N=[],U=V.split("|").map(function(A){return A.trim()});V=U[0];var d=U[1];if(d){var j=/height=(\d+)/.exec(d),C=/width=(\d+)/.exec(d),x=j?j[1]:"",S=C?C[1]:"",T=isFinite(parseInt(S)),z=isFinite(parseInt(x));T&&N.push('width="'.concat(S,'"')),z&&N.push('height="'.concat(x,'"'))}return{href:V,dimensions:N}}},"eQg+":function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("markerDecorationsService")},eUTo:function(fn,K,a){"use strict";a.d(K,"d",function(){return pe}),a.d(K,"c",function(){return me}),a.d(K,"a",function(){return we}),a.d(K,"b",function(){return Ne});var le=a("qLMh"),De=a("fWQN"),E=a("mtLc"),ve=a("w4Tj"),re=a("oZsa"),J=a("yKVA"),$=a("879j"),y=a("oBTY"),Q=a("rAM+"),L=a("tJVT"),ne=a("EffR"),ee=a("uDWl"),H=a("7/Ik"),W=a("cV9m"),F=a("8HAY"),V=a("i04g"),N=a("pmY6"),U=a("MNsG"),d=a("r6Ki"),j=a("3/fG"),C=a("fjLI");function x(Ke){return Ke?Ke.condition!==void 0:!1}var S=a("T8No"),T=a("Uzvx"),z=a("Cg/j"),A=a("bexQ"),ue=a("sM1p"),be=a("A+jI"),de=a("t9D7"),ke=a("T5lh"),he=a("nEHx"),ge=a("746U"),ce=a("MD5Z"),k=a("99AM"),w=function(Ke,Xe,wt,Ct){var bt=arguments.length,mt=bt<3?Xe:Ct===null?Ct=Object.getOwnPropertyDescriptor(Xe,wt):Ct,jt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")mt=Reflect.decorate(Ke,Xe,wt,Ct);else for(var Je=Ke.length-1;Je>=0;Je--)(jt=Ke[Je])&&(mt=(bt<3?jt(mt):bt>3?jt(Xe,wt,mt):jt(Xe,wt))||mt);return bt>3&&mt&&Object.defineProperty(Xe,wt,mt),mt},B=function(Ke,Xe){return function(wt,Ct){Xe(wt,Ct,Ke)}},Y=function(Ke,Xe,wt,Ct){function bt(mt){return mt instanceof wt?mt:new wt(function(jt){jt(mt)})}return new(wt||(wt=Promise))(function(mt,jt){function Je(fe){try{Te(Ct.next(fe))}catch(ye){jt(ye)}}function Wt(fe){try{Te(Ct.throw(fe))}catch(ye){jt(ye)}}function Te(fe){fe.done?mt(fe.value):bt(fe.value).then(Je,Wt)}Te((Ct=Ct.apply(Ke,Xe||[])).next())})};function pe(Ke,Xe,wt,Ct){var bt=Ke.getActions(Xe),mt=ne.ModifierKeyEmitter.getInstance(),jt=mt.keyStatus.altKey||(U.o||U.g)&&mt.keyStatus.shiftKey;I(bt,wt,jt,Ct?function(Je){return Je===Ct}:function(Je){return Je==="navigation"})}function me(Ke,Xe,wt,Ct,bt,mt){var jt=Ke.getActions(Xe),Je=typeof Ct=="string"?function(Wt){return Wt===Ct}:Ct;I(jt,wt,!1,Je,bt,mt)}function I(Ke,Xe,wt){var Ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(si){return si==="navigation"},bt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1},mt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,jt,Je;Array.isArray(Xe)?(jt=Xe,Je=Xe):(jt=Xe.primary,Je=Xe.secondary);var Wt=new Set,Te=Object(Q.a)(Ke),fe;try{for(Te.s();!(fe=Te.n()).done;){var ye=fe.value,Ee=Object(L.a)(ye,2),Ge=Ee[0],$e=Ee[1];{var We=void 0;Ct(Ge)?(We=jt,We.length>0&&mt&&We.push(new F.d)):(We=Je,We.length>0&&We.push(new F.d));var it=Object(Q.a)($e),Fe;try{for(it.s();!(Fe=it.n()).done;){var He=Fe.value;wt&&(He=He instanceof C.d&&He.alt?He.alt:He);var Ye=We.push(He);He instanceof F.e&&Wt.add({group:Ge,action:He,index:Ye-1})}}catch(si){it.e(si)}finally{it.f()}}}}catch(si){Te.e(si)}finally{Te.f()}var ot=Object(Q.a)(Wt),Kt;try{for(ot.s();!(Kt=ot.n()).done;){var gt=Kt.value,Ft=gt.group,Jt=gt.action,qt=gt.index;{var En=Ct(Ft)?jt:Je,It=Jt.actions;It.length<=1&&bt(Jt,Ft,En.length)&&En.splice.apply(En,[qt,1].concat(Object(y.a)(It)))}}}catch(si){ot.e(si)}finally{ot.f()}}var we=function(Ke){Object(J.a)(wt,Ke);var Xe=Object($.a)(wt);function wt(Ct,bt,mt,jt,Je,Wt,Te){var fe;return Object(De.a)(this,wt),fe=Xe.call(this,void 0,Ct,{icon:!!(Ct.class||Ct.item.icon),label:!Ct.class&&!Ct.item.icon,draggable:bt==null?void 0:bt.draggable,keybinding:bt==null?void 0:bt.keybinding,hoverDelegate:bt==null?void 0:bt.hoverDelegate}),fe._keybindingService=mt,fe._notificationService=jt,fe._contextKeyService=Je,fe._themeService=Wt,fe._contextMenuService=Te,fe._wantsAltCommand=!1,fe._itemClassDispose=fe._register(new N.e),fe._altKey=ne.ModifierKeyEmitter.getInstance(),fe}return Object(E.a)(wt,[{key:"_menuItemAction",get:function(){return this._action}},{key:"_commandAction",get:function(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}},{key:"onClick",value:function(bt){return Y(this,void 0,void 0,Object(le.a)().mark(function mt(){return Object(le.a)().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return bt.preventDefault(),bt.stopPropagation(),Je.prev=2,Je.next=5,this.actionRunner.run(this._commandAction,this._context);case 5:Je.next=10;break;case 7:Je.prev=7,Je.t0=Je.catch(2),this._notificationService.error(Je.t0);case 10:case"end":return Je.stop()}},mt,this,[[2,7]])}))}},{key:"render",value:function(bt){var mt=this;Object(ve.a)(Object(re.a)(wt.prototype),"render",this).call(this,bt),bt.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item);var jt=!1,Je=this._altKey.keyStatus.altKey||(U.o||U.g)&&this._altKey.keyStatus.shiftKey,Wt=function(){var fe,ye=jt&&Je&&!!((fe=mt._commandAction.alt)===null||fe===void 0?void 0:fe.enabled);ye!==mt._wantsAltCommand&&(mt._wantsAltCommand=ye,mt.updateLabel(),mt.updateTooltip(),mt.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(function(Te){Je=Te.altKey||(U.o||U.g)&&Te.shiftKey,Wt()})),this._register(Object(ne.addDisposableListener)(bt,"mouseleave",function(Te){jt=!1,Wt()})),this._register(Object(ne.addDisposableListener)(bt,"mouseenter",function(Te){jt=!0,Wt()}))}},{key:"updateLabel",value:function(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}},{key:"getTooltip",value:function(){var bt,mt=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),jt=mt&&mt.getLabel(),Je=this._commandAction.tooltip||this._commandAction.label,Wt=jt?Object(j.b)("titleAndKb","{0} ({1})",Je,jt):Je;if(!this._wantsAltCommand&&((bt=this._menuItemAction.alt)===null||bt===void 0?void 0:bt.enabled)){var Te=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,fe=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),ye=fe&&fe.getLabel(),Ee=ye?Object(j.b)("titleAndKb","{0} ({1})",Te,ye):Te;Wt=Object(j.b)("titleAndKbAndAlt",`{0}
[{1}] {2}`,Wt,V.c.modifierLabels[U.a].altKey,Ee)}return Wt}},{key:"updateClass",value:function(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}},{key:"_updateItemClass",value:function(bt){var mt=this;this._itemClassDispose.value=void 0;var jt=this.element,Je=this.label;if(!(!jt||!Je)){var Wt=this._commandAction.checked&&x(bt.toggled)&&bt.toggled.icon?bt.toggled.icon:bt.icon;if(!!Wt)if(ke.a.isThemeIcon(Wt)){var Te,fe=ke.a.asClassNameArray(Wt);(Te=Je.classList).add.apply(Te,Object(y.a)(fe)),this._itemClassDispose.value=Object(N.l)(function(){var ye;(ye=Je.classList).remove.apply(ye,Object(y.a)(fe))})}else Je.style.backgroundImage=Object(he.b)(this._themeService.getColorTheme().type)?Object(ne.asCSSUrl)(Wt.dark):Object(ne.asCSSUrl)(Wt.light),Je.classList.add("icon"),this._itemClassDispose.value=Object(N.h)(Object(N.l)(function(){Je.style.backgroundImage="",Je.classList.remove("icon")}),this._themeService.onDidColorThemeChange(function(){mt.updateClass()}))}}}]),wt}(H.a);we=w([B(2,A.a),B(3,ue.a),B(4,S.b),B(5,de.b),B(6,T.a)],we);var Re=function(Ke){Object(J.a)(wt,Ke);var Xe=Object($.a)(wt);function wt(Ct,bt,mt,jt,Je){var Wt;Object(De.a)(this,wt);var Te,fe,ye,Ee=Object.assign(Object.assign({},bt),{menuAsChild:(Te=bt==null?void 0:bt.menuAsChild)!==null&&Te!==void 0?Te:!1,classNames:(fe=bt==null?void 0:bt.classNames)!==null&&fe!==void 0?fe:ke.a.isThemeIcon(Ct.item.icon)?ke.a.asClassName(Ct.item.icon):void 0,keybindingProvider:(ye=bt==null?void 0:bt.keybindingProvider)!==null&&ye!==void 0?ye:function(Ge){return mt.lookupKeybinding(Ge.id)}});return Wt=Xe.call(this,Ct,{getActions:function(){return Ct.actions}},jt,Ee),Wt._keybindingService=mt,Wt._contextMenuService=jt,Wt._themeService=Je,Wt}return Object(E.a)(wt,[{key:"render",value:function(bt){var mt=this;Object(ve.a)(Object(re.a)(wt.prototype),"render",this).call(this,bt),Object(ge.b)(this.element),bt.classList.add("menu-entry");var jt=this._action,Je=jt.item.icon;if(Je&&!ke.a.isThemeIcon(Je)){this.element.classList.add("icon");var Wt=function(){mt.element&&(mt.element.style.backgroundImage=Object(he.b)(mt._themeService.getColorTheme().type)?Object(ne.asCSSUrl)(Je.dark):Object(ne.asCSSUrl)(Je.light))};Wt(),this._register(this._themeService.onDidColorThemeChange(function(){Wt()}))}}}]),wt}(W.a);Re=w([B(2,A.a),B(3,T.a),B(4,de.b)],Re);var Oe=function(Ke){Object(J.a)(wt,Ke);var Xe=Object($.a)(wt);function wt(Ct,bt,mt,jt,Je,Wt,Te,fe){var ye;Object(De.a)(this,wt);var Ee,Ge,$e;ye=Xe.call(this,null,Ct),ye._keybindingService=mt,ye._notificationService=jt,ye._contextMenuService=Je,ye._menuService=Wt,ye._instaService=Te,ye._storageService=fe,ye._container=null,ye._options=bt,ye._storageKey="".concat(Ct.item.submenu.id,"_lastActionId");var We,it=(bt==null?void 0:bt.persistLastActionId)?fe.get(ye._storageKey,1):void 0;it&&(We=Ct.actions.find(function(He){return it===He.id})),We||(We=Ct.actions[0]),ye._defaultAction=ye._instaService.createInstance(we,We,{keybinding:ye._getDefaultActionKeybindingLabel(We)});var Fe=Object.assign(Object.assign({keybindingProvider:function(Ye){return ye._keybindingService.lookupKeybinding(Ye.id)}},bt),{menuAsChild:(Ee=bt==null?void 0:bt.menuAsChild)!==null&&Ee!==void 0?Ee:!0,classNames:(Ge=bt==null?void 0:bt.classNames)!==null&&Ge!==void 0?Ge:["codicon","codicon-chevron-down"],actionRunner:($e=bt==null?void 0:bt.actionRunner)!==null&&$e!==void 0?$e:new F.b});return ye._dropdown=new W.a(Ct,Ct.actions,ye._contextMenuService,Fe),ye._dropdown.actionRunner.onDidRun(function(He){He.action instanceof C.d&&ye.update(He.action)}),ye}return Object(E.a)(wt,[{key:"update",value:function(bt){var mt;((mt=this._options)===null||mt===void 0?void 0:mt.persistLastActionId)&&this._storageService.store(this._storageKey,bt.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(we,bt,{keybinding:this._getDefaultActionKeybindingLabel(bt)}),this._defaultAction.actionRunner=new(function(jt){Object(J.a)(Wt,jt);var Je=Object($.a)(Wt);function Wt(){return Object(De.a)(this,Wt),Je.apply(this,arguments)}return Object(E.a)(Wt,[{key:"runAction",value:function(fe,ye){return Y(this,void 0,void 0,Object(le.a)().mark(function Ee(){return Object(le.a)().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return $e.next=2,fe.run(void 0);case 2:case"end":return $e.stop()}},Ee)}))}}]),Wt}(F.b)),this._container&&this._defaultAction.render(Object(ne.prepend)(this._container,Object(ne.$)(".action-container")))}},{key:"_getDefaultActionKeybindingLabel",value:function(bt){var mt,jt;if((mt=this._options)===null||mt===void 0?void 0:mt.renderKeybindingWithDefaultActionLabel){var Je=this._keybindingService.lookupKeybinding(bt.id);Je&&(jt="(".concat(Je.getLabel(),")"))}return jt}},{key:"setActionContext",value:function(bt){Object(ve.a)(Object(re.a)(wt.prototype),"setActionContext",this).call(this,bt),this._defaultAction.setActionContext(bt),this._dropdown.setActionContext(bt)}},{key:"render",value:function(bt){var mt=this;this._container=bt,Object(ve.a)(Object(re.a)(wt.prototype),"render",this).call(this,this._container),this._container.classList.add("monaco-dropdown-with-default");var jt=Object(ne.$)(".action-container");this._defaultAction.render(Object(ne.append)(this._container,jt)),this._register(Object(ne.addDisposableListener)(jt,ne.EventType.KEY_DOWN,function(Wt){var Te=new ee.a(Wt);Te.equals(17)&&(mt._defaultAction.element.tabIndex=-1,mt._dropdown.focus(),Te.stopPropagation())}));var Je=Object(ne.$)(".dropdown-action-container");this._dropdown.render(Object(ne.append)(this._container,Je)),this._register(Object(ne.addDisposableListener)(Je,ne.EventType.KEY_DOWN,function(Wt){var Te,fe=new ee.a(Wt);fe.equals(15)&&(mt._defaultAction.element.tabIndex=0,mt._dropdown.setFocusable(!1),(Te=mt._defaultAction.element)===null||Te===void 0||Te.focus(),fe.stopPropagation())}))}},{key:"focus",value:function(bt){bt?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}},{key:"blur",value:function(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}},{key:"setFocusable",value:function(bt){bt?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}},{key:"dispose",value:function(){this._defaultAction.dispose(),this._dropdown.dispose(),Object(ve.a)(Object(re.a)(wt.prototype),"dispose",this).call(this)}}]),wt}(H.b);Oe=w([B(2,A.a),B(3,ue.a),B(4,T.a),B(5,C.b),B(6,z.a),B(7,be.a)],Oe);var Pe=function(Ke){Object(J.a)(wt,Ke);var Xe=Object($.a)(wt);function wt(Ct,bt){var mt;return Object(De.a)(this,wt),mt=Xe.call(this,null,Ct,Ct.actions.map(function(jt){return{text:jt.id===F.d.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":jt.label,isDisabled:!jt.enabled}}),0,bt,k.i,{ariaLabel:Ct.tooltip,optionsAsChildren:!0}),mt.select(Math.max(0,Ct.actions.findIndex(function(jt){return jt.checked}))),mt}return Object(E.a)(wt,[{key:"render",value:function(bt){Object(ve.a)(Object(re.a)(wt.prototype),"render",this).call(this,bt),bt.style.borderColor=Object(ce.c)(ce.Lc)}},{key:"runAction",value:function(bt,mt){var jt=this.action.actions[mt];jt&&this.actionRunner.run(jt)}}]),wt}(H.c);Pe=w([B(1,T.b)],Pe);function Ne(Ke,Xe,wt){return Xe instanceof C.d?Ke.createInstance(we,Xe,wt):Xe instanceof C.f?Xe.item.isSelection?Ke.createInstance(Pe,Xe):Xe.item.rememberDefaultAction?Ke.createInstance(Oe,Xe,Object.assign(Object.assign({},wt),{persistLastActionId:!0})):Ke.createInstance(Re,Xe,wt):void 0}},eq1K:function(fn,K,a){},erNZ:function(fn,K,a){"use strict";a.d(K,"c",function(){return ne}),a.d(K,"b",function(){return ee}),a.d(K,"a",function(){return W});var le=a("fWQN"),De=a("mtLc"),E=a("N0LK"),ve=a("MNsG"),re=a("HpOR"),J;function $(){return J||(J=new TextDecoder("UTF-16LE")),J}var y;function Q(){return y||(y=new TextDecoder("UTF-16BE")),y}var L;function ne(){return L||(L=ve.h()?$():Q()),L}function ee(F,V,N){var U=new Uint16Array(F.buffer,V,N);return N>0&&(U[0]===65279||U[0]===65534)?H(F,V,N):$().decode(U)}function H(F,V,N){for(var U=[],d=0,j=0;j<N;j++){var C=re.b(F,V);V+=2,U[d++]=String.fromCharCode(C)}return U.join("")}var W=function(){function F(V){Object(le.a)(this,F),this._capacity=V|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}return Object(De.a)(F,[{key:"reset",value:function(){this._completedStrings=null,this._bufferLength=0}},{key:"build",value:function(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}},{key:"_buildBuffer",value:function(){if(this._bufferLength===0)return"";var N=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return ne().decode(N)}},{key:"_flushBuffer",value:function(){var N=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[N]:this._completedStrings[this._completedStrings.length]=N}},{key:"appendCharCode",value:function(N){var U=this._capacity-this._bufferLength;U<=1&&(U===0||E.F(N))&&this._flushBuffer(),this._buffer[this._bufferLength++]=N}},{key:"appendASCIICharCode",value:function(N){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=N}},{key:"appendString",value:function(N){var U=N.length;if(this._bufferLength+U>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=N;return}for(var d=0;d<U;d++)this._buffer[this._bufferLength++]=N.charCodeAt(d)}}]),F}()},ezu8:function(fn,K,a){"use strict";a.d(K,"b",function(){return he}),a.d(K,"a",function(){return ce}),a.d(K,"c",function(){return k}),a.d(K,"d",function(){return B}),a.d(K,"e",function(){return I});var le=a("tJVT"),De=a("oBTY"),E=a("qLMh"),ve=a("fWQN"),re=a("mtLc"),J=a("rAM+"),$=a("OBOq"),y=a("6OMU"),Q=a("JQT/"),L=a("/cxE"),ne=a("JYp7"),ee=a("24hK"),H=a("746U"),W=a("bY76"),F=a("87Gm"),V=a("sFUC"),N=a("cGHE"),U=a("aokT"),d=a("gCVg"),j=a("Cdua"),C=a("t49l"),x=a("dfpW"),S=a("3/fG"),T=a("nnTU"),z=function(){function we(Re){Object(ve.a)(this,we),this.value=Re,this._lower=Re.toLowerCase()}return Object(re.a)(we,null,[{key:"toKey",value:function(Oe){return typeof Oe=="string"?Oe.toLowerCase():Oe._lower}}]),we}(),A=function(){function we(Re){if(Object(ve.a)(this,we),this._set=new Set,Re){var Oe=Object(J.a)(Re),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var Ne=Pe.value;this.add(Ne)}}catch(Ke){Oe.e(Ke)}finally{Oe.f()}}}return Object(re.a)(we,[{key:"add",value:function(Oe){this._set.add(z.toKey(Oe))}},{key:"has",value:function(Oe){return this._set.has(z.toKey(Oe))}}]),we}(),ue=a("Cg/j"),be=a("c0Ay"),de=a("09fa"),ke=function(we,Re,Oe,Pe){function Ne(Ke){return Ke instanceof Oe?Ke:new Oe(function(Xe){Xe(Ke)})}return new(Oe||(Oe=Promise))(function(Ke,Xe){function wt(mt){try{bt(Pe.next(mt))}catch(jt){Xe(jt)}}function Ct(mt){try{bt(Pe.throw(mt))}catch(jt){Xe(jt)}}function bt(mt){mt.done?Ke(mt.value):Ne(mt.value).then(wt,Ct)}bt((Pe=Pe.apply(we,Re||[])).next())})};function he(we){if(we=we.filter(function(Xe){return Xe.range}),!!we.length){for(var Re=we[0].range,Oe=1;Oe<we.length;Oe++)Re=U.a.plusRange(Re,we[Oe].range);var Pe=Re,Ne=Pe.startLineNumber,Ke=Pe.endLineNumber;Ne===Ke?we.length===1?Object($.a)(S.b("hint11","Made 1 formatting edit on line {0}",Ne)):Object($.a)(S.b("hintn1","Made {0} formatting edits on line {1}",we.length,Ne)):we.length===1?Object($.a)(S.b("hint1n","Made 1 formatting edit between lines {0} and {1}",Ne,Ke)):Object($.a)(S.b("hintnn","Made {0} formatting edits between lines {1} and {2}",we.length,Ne,Ke))}}function ge(we,Re,Oe){var Pe=[],Ne=new A,Ke=we.ordered(Oe),Xe=Object(J.a)(Ke),wt;try{for(Xe.s();!(wt=Xe.n()).done;){var Ct=wt.value;Pe.push(Ct),Ct.extensionId&&Ne.add(Ct.extensionId)}}catch(Te){Xe.e(Te)}finally{Xe.f()}var bt=Re.ordered(Oe),mt=Object(J.a)(bt),jt;try{var Je=function(){var fe=jt.value;if(fe.extensionId){if(Ne.has(fe.extensionId))return"continue";Ne.add(fe.extensionId)}Pe.push({displayName:fe.displayName,extensionId:fe.extensionId,provideDocumentFormattingEdits:function(Ee,Ge,$e){return fe.provideDocumentRangeFormattingEdits(Ee,Ee.getFullModelRange(),Ge,$e)}})};for(mt.s();!(jt=mt.n()).done;)var Wt=Je()}catch(Te){mt.e(Te)}finally{mt.f()}return Pe}var ce=function(){function we(){Object(ve.a)(this,we)}return Object(re.a)(we,null,[{key:"setFormatterSelector",value:function(Oe){var Pe=we._selectors.unshift(Oe);return{dispose:Pe}}},{key:"select",value:function(Oe,Pe,Ne){return ke(this,void 0,void 0,Object(E.a)().mark(function Ke(){var Xe;return Object(E.a)().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:if(Oe.length!==0){Ct.next=2;break}return Ct.abrupt("return",void 0);case 2:if(Xe=ne.a.first(we._selectors),!Xe){Ct.next=7;break}return Ct.next=6,Xe(Oe,Pe,Ne);case 6:return Ct.abrupt("return",Ct.sent);case 7:return Ct.abrupt("return",void 0);case 8:case"end":return Ct.stop()}},Ke)}))}}]),we}();ce._selectors=new ee.a;function k(we,Re,Oe,Pe,Ne,Ke){return ke(this,void 0,void 0,Object(E.a)().mark(function Xe(){var wt,Ct,bt,mt,jt,Je;return Object(E.a)().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return wt=we.get(ue.a),Ct=we.get(be.a),bt=Ct.documentRangeFormattingEditProvider,mt=Object(V.b)(Re)?Re.getModel():Re,jt=bt.ordered(mt),Te.next=6,ce.select(jt,mt,Pe);case 6:if(Je=Te.sent,!Je){Te.next=11;break}return Ne.report(Je),Te.next=11,wt.invokeFunction(w,Je,Re,Oe,Ke);case 11:case"end":return Te.stop()}},Xe)}))}function w(we,Re,Oe,Pe,Ne){var Ke,Xe;return ke(this,void 0,void 0,Object(E.a)().mark(function wt(){var Ct=this,bt,mt,jt,Je,Wt,Te,fe,ye,Ee,Ge,$e,We,it,Fe,He,Ye,ot,Kt,gt,Ft,Jt,qt,En,It,si,On,Gn;return Object(E.a)().wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:bt=we.get(j.a),mt=we.get(de.b),Object(V.b)(Oe)?(jt=Oe.getModel(),Je=new F.b(Oe,1|4,void 0,Ne)):(jt=Oe,Je=new F.c(Oe,Ne)),Wt=[],Te=0,fe=Object(J.a)(Object(y.d)(Pe).sort(U.a.compareRangesUsingStarts));try{for(fe.s();!(ye=fe.n()).done;)Ee=ye.value,Te>0&&U.a.areIntersectingOrTouching(Wt[Te-1],Ee)?Wt[Te-1]=U.a.fromPositions(Wt[Te-1].getStartPosition(),Ee.getEndPosition()):Te=Wt.push(Ee)}catch(An){fe.e(An)}finally{fe.f()}if(Ge=function(fr){return ke(Ct,void 0,void 0,Object(E.a)().mark(function Vi(){var Sr,Pi,Ei;return Object(E.a)().wrap(function(zn){for(;;)switch(zn.prev=zn.next){case 0:return mt.trace("[format][provideDocumentRangeFormattingEdits] (request)",(Sr=Re.extensionId)===null||Sr===void 0?void 0:Sr.value,fr),zn.next=3,Re.provideDocumentRangeFormattingEdits(jt,fr,jt.getFormattingOptions(),Je.token);case 3:if(zn.t0=zn.sent,zn.t0){zn.next=6;break}zn.t0=[];case 6:return Ei=zn.t0,mt.trace("[format][provideDocumentRangeFormattingEdits] (response)",(Pi=Re.extensionId)===null||Pi===void 0?void 0:Pi.value,Ei),zn.abrupt("return",Ei);case 9:case"end":return zn.stop()}},Vi)}))},$e=function(fr,Vi){if(!fr.length||!Vi.length)return!1;var Sr=fr.reduce(function(mi,hn){return U.a.plusRange(mi,hn.range)},fr[0].range);if(!Vi.some(function(mi){return U.a.intersectRanges(Sr,mi.range)}))return!1;var Pi=Object(J.a)(fr),Ei;try{for(Pi.s();!(Ei=Pi.n()).done;){var Cr=Ei.value,zn=Object(J.a)(Vi),dr;try{for(zn.s();!(dr=zn.n()).done;){var Hn=dr.value;if(U.a.intersectRanges(Cr.range,Hn.range))return!0}}catch(mi){zn.e(mi)}finally{zn.f()}}}catch(mi){Pi.e(mi)}finally{Pi.f()}return!1},We=[],it=[],Dn.prev=11,typeof Re.provideDocumentRangesFormattingEdits!="function"){Dn.next=24;break}return mt.trace("[format][provideDocumentRangeFormattingEdits] (request)",(Ke=Re.extensionId)===null||Ke===void 0?void 0:Ke.value,Wt),Dn.next=16,Re.provideDocumentRangesFormattingEdits(jt,Wt,jt.getFormattingOptions(),Je.token);case 16:if(Dn.t0=Dn.sent,Dn.t0){Dn.next=19;break}Dn.t0=[];case 19:Fe=Dn.t0,mt.trace("[format][provideDocumentRangeFormattingEdits] (response)",(Xe=Re.extensionId)===null||Xe===void 0?void 0:Xe.value,Fe),it.push(Fe),Dn.next=71;break;case 24:He=Object(J.a)(Wt),Dn.prev=25,He.s();case 27:if((Ye=He.n()).done){Dn.next=38;break}if(ot=Ye.value,!Je.token.isCancellationRequested){Dn.next=31;break}return Dn.abrupt("return",!0);case 31:return Dn.t1=it,Dn.next=34,Ge(ot);case 34:Dn.t2=Dn.sent,Dn.t1.push.call(Dn.t1,Dn.t2);case 36:Dn.next=27;break;case 38:Dn.next=43;break;case 40:Dn.prev=40,Dn.t3=Dn.catch(25),He.e(Dn.t3);case 43:return Dn.prev=43,He.f(),Dn.finish(43);case 46:Kt=0;case 47:if(!(Kt<Wt.length)){Dn.next=71;break}gt=Kt+1;case 49:if(!(gt<Wt.length)){Dn.next=68;break}if(!Je.token.isCancellationRequested){Dn.next=52;break}return Dn.abrupt("return",!0);case 52:if(!$e(it[Kt],it[gt])){Dn.next=65;break}return Ft=U.a.plusRange(Wt[Kt],Wt[gt]),Dn.next=56,Ge(Ft);case 56:Jt=Dn.sent,Wt.splice(gt,1),Wt.splice(Kt,1),Wt.push(Ft),it.splice(gt,1),it.splice(Kt,1),it.push(Jt),Kt=0,gt=0;case 65:++gt,Dn.next=49;break;case 68:++Kt,Dn.next=47;break;case 71:qt=0,En=it;case 72:if(!(qt<En.length)){Dn.next=83;break}if(It=En[qt],!Je.token.isCancellationRequested){Dn.next=76;break}return Dn.abrupt("return",!0);case 76:return Dn.next=78,bt.computeMoreMinimalEdits(jt.uri,It);case 78:si=Dn.sent,si&&We.push.apply(We,Object(De.a)(si));case 80:qt++,Dn.next=72;break;case 83:return Dn.prev=83,Je.dispose(),Dn.finish(83);case 86:if(We.length!==0){Dn.next=88;break}return Dn.abrupt("return",!1);case 88:return Object(V.b)(Oe)?(x.a.execute(Oe,We,!0),he(We),Oe.revealPositionInCenterIfOutsideViewport(Oe.getPosition(),1)):(On=We[0].range,Gn=new d.a(On.startLineNumber,On.startColumn,On.endLineNumber,On.endColumn),jt.pushEditOperations([Gn],We.map(function(An){return{text:An.text,range:U.a.lift(An.range),forceMoveMarkers:!0}}),function(An){var fr=Object(J.a)(An),Vi;try{for(fr.s();!(Vi=fr.n()).done;){var Sr=Vi.value,Pi=Sr.range;if(U.a.areIntersectingOrTouching(Pi,Gn))return[new d.a(Pi.startLineNumber,Pi.startColumn,Pi.endLineNumber,Pi.endColumn)]}}catch(Ei){fr.e(Ei)}finally{fr.f()}return null})),Dn.abrupt("return",!0);case 90:case"end":return Dn.stop()}},wt,null,[[11,,83,86],[25,40,43,46]])}))}function B(we,Re,Oe,Pe,Ne){return ke(this,void 0,void 0,Object(E.a)().mark(function Ke(){var Xe,wt,Ct,bt,mt;return Object(E.a)().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Xe=we.get(ue.a),wt=we.get(be.a),Ct=Object(V.b)(Re)?Re.getModel():Re,bt=ge(wt.documentFormattingEditProvider,wt.documentRangeFormattingEditProvider,Ct),Je.next=6,ce.select(bt,Ct,Oe);case 6:if(mt=Je.sent,!mt){Je.next=11;break}return Pe.report(mt),Je.next=11,Xe.invokeFunction(Y,mt,Re,Oe,Ne);case 11:case"end":return Je.stop()}},Ke)}))}function Y(we,Re,Oe,Pe,Ne){return ke(this,void 0,void 0,Object(E.a)().mark(function Ke(){var Xe,wt,Ct,bt,mt,jt,Je,Wt,Te;return Object(E.a)().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return Xe=we.get(j.a),Object(V.b)(Oe)?(wt=Oe.getModel(),Ct=new F.b(Oe,1|4,void 0,Ne)):(wt=Oe,Ct=new F.c(Oe,Ne)),ye.prev=2,ye.next=5,Re.provideDocumentFormattingEdits(wt,wt.getFormattingOptions(),Ct.token);case 5:return mt=ye.sent,ye.next=8,Xe.computeMoreMinimalEdits(wt.uri,mt);case 8:if(bt=ye.sent,!Ct.token.isCancellationRequested){ye.next=11;break}return ye.abrupt("return",!0);case 11:return ye.prev=11,Ct.dispose(),ye.finish(11);case 14:if(!(!bt||bt.length===0)){ye.next=16;break}return ye.abrupt("return",!1);case 16:return Object(V.b)(Oe)?(x.a.execute(Oe,bt,Pe!==2),Pe!==2&&(he(bt),Oe.revealPositionInCenterIfOutsideViewport(Oe.getPosition(),1))):(jt=bt,Je=Object(le.a)(jt,1),Wt=Je[0].range,Te=new d.a(Wt.startLineNumber,Wt.startColumn,Wt.endLineNumber,Wt.endColumn),wt.pushEditOperations([Te],bt.map(function(Ee){return{text:Ee.text,range:U.a.lift(Ee.range),forceMoveMarkers:!0}}),function(Ee){var Ge=Object(J.a)(Ee),$e;try{for(Ge.s();!($e=Ge.n()).done;){var We=$e.value,it=We.range;if(U.a.areIntersectingOrTouching(it,Te))return[new d.a(it.startLineNumber,it.startColumn,it.endLineNumber,it.endColumn)]}}catch(Fe){Ge.e(Fe)}finally{Ge.f()}return null})),ye.abrupt("return",!0);case 18:case"end":return ye.stop()}},Ke,null,[[2,,11,14]])}))}function pe(we,Re,Oe,Pe,Ne,Ke){return ke(this,void 0,void 0,Object(E.a)().mark(function Xe(){var wt,Ct,bt,mt,jt;return Object(E.a)().wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:wt=Re.documentRangeFormattingEditProvider.ordered(Oe),Ct=Object(J.a)(wt),Wt.prev=2,Ct.s();case 4:if((bt=Ct.n()).done){Wt.next=15;break}return mt=bt.value,Wt.next=8,Promise.resolve(mt.provideDocumentRangeFormattingEdits(Oe,Pe,Ne,Ke)).catch(L.i);case 8:if(jt=Wt.sent,!Object(y.s)(jt)){Wt.next=13;break}return Wt.next=12,we.computeMoreMinimalEdits(Oe.uri,jt);case 12:return Wt.abrupt("return",Wt.sent);case 13:Wt.next=4;break;case 15:Wt.next=20;break;case 17:Wt.prev=17,Wt.t0=Wt.catch(2),Ct.e(Wt.t0);case 20:return Wt.prev=20,Ct.f(),Wt.finish(20);case 23:return Wt.abrupt("return",void 0);case 24:case"end":return Wt.stop()}},Xe,null,[[2,17,20,23]])}))}function me(we,Re,Oe,Pe,Ne){return ke(this,void 0,void 0,Object(E.a)().mark(function Ke(){var Xe,wt,Ct,bt,mt;return Object(E.a)().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:Xe=ge(Re.documentFormattingEditProvider,Re.documentRangeFormattingEditProvider,Oe),wt=Object(J.a)(Xe),Je.prev=2,wt.s();case 4:if((Ct=wt.n()).done){Je.next=15;break}return bt=Ct.value,Je.next=8,Promise.resolve(bt.provideDocumentFormattingEdits(Oe,Pe,Ne)).catch(L.i);case 8:if(mt=Je.sent,!Object(y.s)(mt)){Je.next=13;break}return Je.next=12,we.computeMoreMinimalEdits(Oe.uri,mt);case 12:return Je.abrupt("return",Je.sent);case 13:Je.next=4;break;case 15:Je.next=20;break;case 17:Je.prev=17,Je.t0=Je.catch(2),wt.e(Je.t0);case 20:return Je.prev=20,wt.f(),Je.finish(20);case 23:return Je.abrupt("return",void 0);case 24:case"end":return Je.stop()}},Ke,null,[[2,17,20,23]])}))}function I(we,Re,Oe,Pe,Ne,Ke,Xe){var wt=Re.onTypeFormattingEditProvider.ordered(Oe);return wt.length===0||wt[0].autoFormatTriggerCharacters.indexOf(Ne)<0?Promise.resolve(void 0):Promise.resolve(wt[0].provideOnTypeFormattingEdits(Oe,Pe,Ne,Ke,Xe)).catch(L.i).then(function(Ct){return we.computeMoreMinimalEdits(Oe.uri,Ct)})}T.a.registerCommand("_executeFormatRangeProvider",function(we){for(var Re=arguments.length,Oe=new Array(Re>1?Re-1:0),Pe=1;Pe<Re;Pe++)Oe[Pe-1]=arguments[Pe];return ke(this,void 0,void 0,Object(E.a)().mark(function Ne(){var Ke,Xe,wt,Ct,bt,mt,jt;return Object(E.a)().wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return Ke=Oe[0],Xe=Oe[1],wt=Oe[2],Object(H.b)(W.a.isUri(Ke)),Object(H.b)(U.a.isIRange(Xe)),Ct=we.get(C.a),bt=we.get(j.a),mt=we.get(be.a),Wt.next=8,Ct.createModelReference(Ke);case 8:return jt=Wt.sent,Wt.prev=9,Wt.abrupt("return",pe(bt,mt,jt.object.textEditorModel,U.a.lift(Xe),wt,Q.a.None));case 11:return Wt.prev=11,jt.dispose(),Wt.finish(11);case 14:case"end":return Wt.stop()}},Ne,null,[[9,,11,14]])}))}),T.a.registerCommand("_executeFormatDocumentProvider",function(we){for(var Re=arguments.length,Oe=new Array(Re>1?Re-1:0),Pe=1;Pe<Re;Pe++)Oe[Pe-1]=arguments[Pe];return ke(this,void 0,void 0,Object(E.a)().mark(function Ne(){var Ke,Xe,wt,Ct,bt,mt;return Object(E.a)().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Ke=Oe[0],Xe=Oe[1],Object(H.b)(W.a.isUri(Ke)),wt=we.get(C.a),Ct=we.get(j.a),bt=we.get(be.a),Je.next=7,wt.createModelReference(Ke);case 7:return mt=Je.sent,Je.prev=8,Je.abrupt("return",me(Ct,bt,mt.object.textEditorModel,Xe,Q.a.None));case 10:return Je.prev=10,mt.dispose(),Je.finish(10);case 13:case"end":return Je.stop()}},Ne,null,[[8,,10,13]])}))}),T.a.registerCommand("_executeFormatOnTypeProvider",function(we){for(var Re=arguments.length,Oe=new Array(Re>1?Re-1:0),Pe=1;Pe<Re;Pe++)Oe[Pe-1]=arguments[Pe];return ke(this,void 0,void 0,Object(E.a)().mark(function Ne(){var Ke,Xe,wt,Ct,bt,mt,jt,Je;return Object(E.a)().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Ke=Oe[0],Xe=Oe[1],wt=Oe[2],Ct=Oe[3],Object(H.b)(W.a.isUri(Ke)),Object(H.b)(N.a.isIPosition(Xe)),Object(H.b)(typeof wt=="string"),bt=we.get(C.a),mt=we.get(j.a),jt=we.get(be.a),Te.next=9,bt.createModelReference(Ke);case 9:return Je=Te.sent,Te.prev=10,Te.abrupt("return",I(mt,jt,Je.object.textEditorModel,N.a.lift(Xe),wt,Ct,Q.a.None));case 12:return Te.prev=12,Je.dispose(),Te.finish(12);case 15:case"end":return Te.stop()}},Ne,null,[[10,,12,15]])}))})},fdyd:function(fn,K,a){"use strict";a.d(K,"a",function(){return J});var le=a("oBTY"),De=a("tJVT"),E=a("EffR"),ve=a("T5lh"),re=new RegExp("(\\\\)?\\$\\((".concat(ve.a.iconNameExpression,"(?:").concat(ve.a.iconModifierExpression,")?)\\)"),"g");function J(y){for(var Q=new Array,L,ne=0,ee=0;(L=re.exec(y))!==null;){ee=L.index||0,ne<ee&&Q.push(y.substring(ne,ee)),ne=(L.index||0)+L[0].length;var H=L,W=Object(De.a)(H,3),F=W[1],V=W[2];Q.push(F?"$(".concat(V,")"):$({id:V}))}return ne<y.length&&Q.push(y.substring(ne)),Q}function $(y){var Q,L=E.$("span");return(Q=L.classList).add.apply(Q,Object(le.a)(ve.a.asClassNameArray(y))),L}},feEw:function(fn,K,a){"use strict";a.d(K,"a",function(){return be}),a.d(K,"b",function(){return ce});var le=a("rAM+"),De=a("oBTY"),E=a("fWQN"),ve=a("mtLc"),re=a("ZQ78"),J=a("EffR"),$=a("4y0V"),y=a("pg8w"),Q=a("GJhM"),L=a("6OMU"),ne=a("X+cX"),ee=a("ZCR3"),H=a("MI8n"),W=a("pmY6"),F=a("nuFA"),V=a("QuOb");function N(k,w){var B=[],Y=Object(le.a)(w),pe;try{for(Y.s();!(pe=Y.n()).done;){var me=pe.value;if(!(k.start>=me.range.end)){if(k.end<me.range.start)break;var I=F.a.intersect(k,me.range);F.a.isEmpty(I)||B.push({range:I,size:me.size})}}}catch(we){Y.e(we)}finally{Y.f()}return B}function U(k,w){var B=k.start,Y=k.end;return{start:B+w,end:Y+w}}function d(k){var w=[],B=null,Y=Object(le.a)(k),pe;try{for(Y.s();!(pe=Y.n()).done;){var me=pe.value,I=me.range.start,we=me.range.end,Re=me.size;if(B&&Re===B.size){B.range.end=we;continue}B={range:{start:I,end:we},size:Re},w.push(B)}}catch(Oe){Y.e(Oe)}finally{Y.f()}return w}function j(){for(var k=arguments.length,w=new Array(k),B=0;B<k;B++)w[B]=arguments[B];return d(w.reduce(function(Y,pe){return Y.concat(pe)},[]))}var C=function(){function k(){Object(E.a)(this,k),this.groups=[],this._size=0}return Object(ve.a)(k,[{key:"splice",value:function(B,Y){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],me=pe.length-Y,I=N({start:0,end:B},this.groups),we=N({start:B+Y,end:Number.POSITIVE_INFINITY},this.groups).map(function(Oe){return{range:U(Oe.range,me),size:Oe.size}}),Re=pe.map(function(Oe,Pe){return{range:{start:B+Pe,end:B+Pe+1},size:Oe.size}});this.groups=j(I,Re,we),this._size=this.groups.reduce(function(Oe,Pe){return Oe+Pe.size*(Pe.range.end-Pe.range.start)},0)}},{key:"count",get:function(){var B=this.groups.length;return B?this.groups[B-1].range.end:0}},{key:"size",get:function(){return this._size}},{key:"indexAt",value:function(B){if(B<0)return-1;var Y=0,pe=0,me=Object(le.a)(this.groups),I;try{for(me.s();!(I=me.n()).done;){var we=I.value,Re=we.range.end-we.range.start,Oe=pe+Re*we.size;if(B<Oe)return Y+Math.floor((B-pe)/we.size);Y+=Re,pe=Oe}}catch(Pe){me.e(Pe)}finally{me.f()}return Y}},{key:"indexAfter",value:function(B){return Math.min(this.indexAt(B)+1,this.count)}},{key:"positionAt",value:function(B){if(B<0)return-1;var Y=0,pe=0,me=Object(le.a)(this.groups),I;try{for(me.s();!(I=me.n()).done;){var we=I.value,Re=we.range.end-we.range.start,Oe=pe+Re;if(B<Oe)return Y+(B-pe)*we.size;Y+=Re*we.size,pe=Oe}}catch(Pe){me.e(Pe)}finally{me.f()}return-1}}]),k}();function x(k){var w;try{(w=k.parentElement)===null||w===void 0||w.removeChild(k)}catch(B){}}var S=function(){function k(w){Object(E.a)(this,k),this.renderers=w,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}return Object(ve.a)(k,[{key:"alloc",value:function(B){var Y=this.getTemplateCache(B).pop(),pe=!1;if(Y)pe=this.transactionNodesPendingRemoval.has(Y.domNode),pe&&this.transactionNodesPendingRemoval.delete(Y.domNode);else{var me=Object(J.$)(".monaco-list-row"),I=this.getRenderer(B),we=I.renderTemplate(me);Y={domNode:me,templateId:B,templateData:we}}return{row:Y,isReusingConnectedDomNode:pe}}},{key:"release",value:function(B){!B||this.releaseRow(B)}},{key:"transact",value:function(B){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{B()}finally{var Y=Object(le.a)(this.transactionNodesPendingRemoval),pe;try{for(Y.s();!(pe=Y.n()).done;){var me=pe.value;this.doRemoveNode(me)}}catch(I){Y.e(I)}finally{Y.f()}this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}},{key:"releaseRow",value:function(B){var Y=B.domNode,pe=B.templateId;Y&&(this.inTransaction?this.transactionNodesPendingRemoval.add(Y):this.doRemoveNode(Y));var me=this.getTemplateCache(pe);me.push(B)}},{key:"doRemoveNode",value:function(B){B.classList.remove("scrolling"),x(B)}},{key:"getTemplateCache",value:function(B){var Y=this.cache.get(B);return Y||(Y=[],this.cache.set(B,Y)),Y}},{key:"dispose",value:function(){var B=this;this.cache.forEach(function(Y,pe){var me=Object(le.a)(Y),I;try{for(me.s();!(I=me.n()).done;){var we=I.value,Re=B.getRenderer(pe);Re.disposeTemplate(we.templateData),we.templateData=null}}catch(Oe){me.e(Oe)}finally{me.f()}}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}},{key:"getRenderer",value:function(B){var Y=this.renderers.get(B);if(!Y)throw new Error("No renderer found for ".concat(B));return Y}}]),k}(),T=a("/cxE"),z=function(k,w,B,Y){var pe=arguments.length,me=pe<3?w:Y===null?Y=Object.getOwnPropertyDescriptor(w,B):Y,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(k,w,B,Y);else for(var we=k.length-1;we>=0;we--)(I=k[we])&&(me=(pe<3?I(me):pe>3?I(w,B,me):I(w,B))||me);return pe>3&&me&&Object.defineProperty(w,B,me),me},A={CurrentDragAndDropData:void 0},ue={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:function(w){return[w]},getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0},be=function(){function k(w){Object(E.a)(this,k),this.elements=w}return Object(ve.a)(k,[{key:"update",value:function(){}},{key:"getData",value:function(){return this.elements}}]),k}(),de=function(){function k(w){Object(E.a)(this,k),this.elements=w}return Object(ve.a)(k,[{key:"update",value:function(){}},{key:"getData",value:function(){return this.elements}}]),k}(),ke=function(){function k(){Object(E.a)(this,k),this.types=[],this.files=[]}return Object(ve.a)(k,[{key:"update",value:function(B){if(B.types){var Y;(Y=this.types).splice.apply(Y,[0,this.types.length].concat(Object(De.a)(B.types)))}if(B.files){this.files.splice(0,this.files.length);for(var pe=0;pe<B.files.length;pe++){var me=B.files.item(pe);me&&(me.size||me.type)&&this.files.push(me)}}}},{key:"getData",value:function(){return{types:this.types,files:this.files}}}]),k}();function he(k,w){return Array.isArray(k)&&Array.isArray(w)?Object(L.j)(k,w):k===w}var ge=Object(ve.a)(function k(w){Object(E.a)(this,k),(w==null?void 0:w.getSetSize)?this.getSetSize=w.getSetSize.bind(w):this.getSetSize=function(B,Y,pe){return pe},(w==null?void 0:w.getPosInSet)?this.getPosInSet=w.getPosInSet.bind(w):this.getPosInSet=function(B,Y){return Y+1},(w==null?void 0:w.getRole)?this.getRole=w.getRole.bind(w):this.getRole=function(B){return"listitem"},(w==null?void 0:w.isChecked)?this.isChecked=w.isChecked.bind(w):this.isChecked=function(B){}}),ce=function(){function k(w,B,Y){var pe=this,me=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ue;Object(E.a)(this,k);var I,we,Re,Oe,Pe,Ne,Ke,Xe,wt,Ct,bt,mt;if(this.virtualDelegate=B,this.domId="list_id_".concat(++k.InstanceCount),this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new ne.c(50),this.splicing=!1,this.dragOverAnimationStopDisposable=W.a.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=W.a.None,this.onDragLeaveTimeout=W.a.None,this.disposables=new W.c,this._onDidChangeContentHeight=new H.b,this._onDidChangeContentWidth=new H.b,this._horizontalScrolling=!1,me.horizontalScrolling&&me.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new C;var jt=Object(le.a)(Y),Je;try{for(jt.s();!(Je=jt.n()).done;){var Wt=Je.value;this.renderers.set(Wt.templateId,Wt)}}catch(fe){jt.e(fe)}finally{jt.f()}this.cache=this.disposables.add(new S(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof me.mouseSupport=="boolean"?me.mouseSupport:!0),this._horizontalScrolling=(I=me.horizontalScrolling)!==null&&I!==void 0?I:ue.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof me.additionalScrollHeight=="undefined"?0:me.additionalScrollHeight,this.accessibilityProvider=new ge(me.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows";var Te=(we=me.transformOptimization)!==null&&we!==void 0?we:ue.transformOptimization;Te&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(y.b.addTarget(this.rowsContainer)),this.scrollable=new V.a({forceIntegerValues:!0,smoothScrollDuration:((Re=me.smoothScrolling)!==null&&Re!==void 0?Re:!1)?125:0,scheduleAtNextAnimationFrame:function(ye){return Object(J.scheduleAtNextAnimationFrame)(ye)}}),this.scrollableElement=this.disposables.add(new Q.d(this.rowsContainer,{alwaysConsumeMouseWheel:(Oe=me.alwaysConsumeMouseWheel)!==null&&Oe!==void 0?Oe:ue.alwaysConsumeMouseWheel,horizontal:1,vertical:(Pe=me.verticalScrollMode)!==null&&Pe!==void 0?Pe:ue.verticalScrollMode,useShadows:(Ne=me.useShadows)!==null&&Ne!==void 0?Ne:ue.useShadows,mouseWheelScrollSensitivity:me.mouseWheelScrollSensitivity,fastScrollSensitivity:me.fastScrollSensitivity,scrollByPage:me.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),w.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(Object(J.addDisposableListener)(this.rowsContainer,y.a.Change,function(fe){return pe.onTouchChange(fe)})),this.disposables.add(Object(J.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",function(fe){return fe.target.scrollTop=0})),this.disposables.add(Object(J.addDisposableListener)(this.domNode,"dragover",function(fe){return pe.onDragOver(pe.toDragEvent(fe))})),this.disposables.add(Object(J.addDisposableListener)(this.domNode,"drop",function(fe){return pe.onDrop(pe.toDragEvent(fe))})),this.disposables.add(Object(J.addDisposableListener)(this.domNode,"dragleave",function(fe){return pe.onDragLeave(pe.toDragEvent(fe))})),this.disposables.add(Object(J.addDisposableListener)(this.domNode,"dragend",function(fe){return pe.onDragEnd(fe)})),this.setRowLineHeight=(Ke=me.setRowLineHeight)!==null&&Ke!==void 0?Ke:ue.setRowLineHeight,this.setRowHeight=(Xe=me.setRowHeight)!==null&&Xe!==void 0?Xe:ue.setRowHeight,this.supportDynamicHeights=(wt=me.supportDynamicHeights)!==null&&wt!==void 0?wt:ue.supportDynamicHeights,this.dnd=(Ct=me.dnd)!==null&&Ct!==void 0?Ct:ue.dnd,this.layout((bt=me.initialSize)===null||bt===void 0?void 0:bt.height,(mt=me.initialSize)===null||mt===void 0?void 0:mt.width)}return Object(ve.a)(k,[{key:"contentHeight",get:function(){return this.rangeMap.size}},{key:"horizontalScrolling",get:function(){return this._horizontalScrolling},set:function(B){if(B!==this._horizontalScrolling){if(B&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=B,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){var Y=Object(le.a)(this.items),pe;try{for(Y.s();!(pe=Y.n()).done;){var me=pe.value;this.measureItemWidth(me)}}catch(I){Y.e(I)}finally{Y.f()}this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:Object(J.getContentWidth)(this.domNode)}),this.rowsContainer.style.width="".concat(Math.max(this.scrollWidth||0,this.renderWidth),"px")}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}},{key:"updateOptions",value:function(B){B.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=B.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),B.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(B.smoothScrolling?125:0),B.horizontalScrolling!==void 0&&(this.horizontalScrolling=B.horizontalScrolling);var Y;B.scrollByPage!==void 0&&(Y=Object.assign(Object.assign({},Y!=null?Y:{}),{scrollByPage:B.scrollByPage})),B.mouseWheelScrollSensitivity!==void 0&&(Y=Object.assign(Object.assign({},Y!=null?Y:{}),{mouseWheelScrollSensitivity:B.mouseWheelScrollSensitivity})),B.fastScrollSensitivity!==void 0&&(Y=Object.assign(Object.assign({},Y!=null?Y:{}),{fastScrollSensitivity:B.fastScrollSensitivity})),Y&&this.scrollableElement.updateOptions(Y)}},{key:"splice",value:function(B,Y){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(B,Y,pe)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}},{key:"_splice",value:function(B,Y){for(var pe=this,me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),we={start:B,end:B+Y},Re=F.a.intersect(I,we),Oe=new Map,Pe=Re.end-1;Pe>=Re.start;Pe--){var Ne=this.items[Pe];if(Ne.dragStartDisposable.dispose(),Ne.checkedDisposable.dispose(),Ne.row){var Ke=Oe.get(Ne.templateId);Ke||(Ke=[],Oe.set(Ne.templateId,Ke));var Xe=this.renderers.get(Ne.templateId);Xe&&Xe.disposeElement&&Xe.disposeElement(Ne.element,Pe,Ne.row.templateData,Ne.size),Ke.push(Ne.row)}Ne.row=null}var wt={start:B+Y,end:this.items.length},Ct=F.a.intersect(wt,I),bt=F.a.relativeComplement(wt,I),mt=me.map(function(Vi){return{id:String(pe.itemId++),element:Vi,templateId:pe.virtualDelegate.getTemplateId(Vi),size:pe.virtualDelegate.getHeight(Vi),width:void 0,hasDynamicHeight:!!pe.virtualDelegate.hasDynamicHeight&&pe.virtualDelegate.hasDynamicHeight(Vi),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:W.a.None,checkedDisposable:W.a.None}}),jt;if(B===0&&Y>=this.items.length)this.rangeMap=new C,this.rangeMap.splice(0,0,mt),jt=this.items,this.items=mt;else{var Je;this.rangeMap.splice(B,Y,mt),jt=(Je=this.items).splice.apply(Je,[B,Y].concat(Object(De.a)(mt)))}for(var Wt=me.length-Y,Te=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),fe=U(Ct,Wt),ye=F.a.intersect(Te,fe),Ee=ye.start;Ee<ye.end;Ee++)this.updateItemInDOM(this.items[Ee],Ee);var Ge=F.a.relativeComplement(fe,Te),$e=Object(le.a)(Ge),We;try{for($e.s();!(We=$e.n()).done;)for(var it=We.value,Fe=it.start;Fe<it.end;Fe++)this.removeItemFromDOM(Fe)}catch(Vi){$e.e(Vi)}finally{$e.f()}var He=bt.map(function(Vi){return U(Vi,Wt)}),Ye={start:B,end:B+me.length},ot=[Ye].concat(Object(De.a)(He)).map(function(Vi){return F.a.intersect(Te,Vi)}),Kt=this.getNextToLastElement(ot),gt=Object(le.a)(ot),Ft;try{for(gt.s();!(Ft=gt.n()).done;)for(var Jt=Ft.value,qt=Jt.start;qt<Jt.end;qt++){var En=this.items[qt],It=Oe.get(En.templateId),si=It==null?void 0:It.pop();this.insertItemInDOM(qt,Kt,si)}}catch(Vi){gt.e(Vi)}finally{gt.f()}var On=Object(le.a)(Oe.values()),Gn;try{for(On.s();!(Gn=On.n()).done;){var ci=Gn.value,Dn=Object(le.a)(ci),An;try{for(Dn.s();!(An=Dn.n()).done;){var fr=An.value;this.cache.release(fr)}}catch(Vi){Dn.e(Vi)}finally{Dn.f()}}}catch(Vi){On.e(Vi)}finally{On.f()}return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),jt.map(function(Vi){return Vi.element})}},{key:"eventuallyUpdateScrollDimensions",value:function(){var B=this;this._scrollHeight=this.contentHeight,this.rowsContainer.style.height="".concat(this._scrollHeight,"px"),this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Object(J.scheduleAtNextAnimationFrame)(function(){B.scrollableElement.setScrollDimensions({scrollHeight:B.scrollHeight}),B.updateScrollWidth(),B.scrollableElementUpdateDisposable=null}))}},{key:"eventuallyUpdateScrollWidth",value:function(){var B=this;if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(function(){return B.updateScrollWidth()})}},{key:"updateScrollWidth",value:function(){if(!!this.horizontalScrolling){var B=0,Y=Object(le.a)(this.items),pe;try{for(Y.s();!(pe=Y.n()).done;){var me=pe.value;typeof me.width!="undefined"&&(B=Math.max(B,me.width))}}catch(I){Y.e(I)}finally{Y.f()}this.scrollWidth=B,this.scrollableElement.setScrollDimensions({scrollWidth:B===0?0:B+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}}},{key:"rerender",value:function(){if(!!this.supportDynamicHeights){var B=Object(le.a)(this.items),Y;try{for(B.s();!(Y=B.n()).done;){var pe=Y.value;pe.lastDynamicHeightWidth=void 0}}catch(me){B.e(me)}finally{B.f()}this._rerender(this.lastRenderTop,this.lastRenderHeight)}}},{key:"length",get:function(){return this.items.length}},{key:"renderHeight",get:function(){var B=this.scrollableElement.getScrollDimensions();return B.height}},{key:"firstVisibleIndex",get:function(){var B=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Y=this.rangeMap.positionAt(B.start),pe=this.rangeMap.positionAt(B.start+1);if(pe!==-1){var me=(pe-Y)/2+Y;if(me<this.scrollTop)return B.start+1}return B.start}},{key:"element",value:function(B){return this.items[B].element}},{key:"domElement",value:function(B){var Y=this.items[B].row;return Y&&Y.domNode}},{key:"elementHeight",value:function(B){return this.items[B].size}},{key:"elementTop",value:function(B){return this.rangeMap.positionAt(B)}},{key:"indexAt",value:function(B){return this.rangeMap.indexAt(B)}},{key:"indexAfter",value:function(B){return this.rangeMap.indexAfter(B)}},{key:"layout",value:function(B,Y){var pe={height:typeof B=="number"?B:Object(J.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,pe.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(pe),typeof Y!="undefined"&&(this.renderWidth=Y,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof Y=="number"?Y:Object(J.getContentWidth)(this.domNode)})}},{key:"render",value:function(B,Y,pe,me,I){var we=this,Re=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,Oe=this.getRenderRange(Y,pe),Pe=F.a.relativeComplement(Oe,B),Ne=F.a.relativeComplement(B,Oe),Ke=this.getNextToLastElement(Pe);if(Re)for(var Xe=F.a.intersect(B,Oe),wt=Xe.start;wt<Xe.end;wt++)this.updateItemInDOM(this.items[wt],wt);this.cache.transact(function(){var Ct=Object(le.a)(Ne),bt;try{for(Ct.s();!(bt=Ct.n()).done;)for(var mt=bt.value,jt=mt.start;jt<mt.end;jt++)we.removeItemFromDOM(jt)}catch(ye){Ct.e(ye)}finally{Ct.f()}var Je=Object(le.a)(Pe),Wt;try{for(Je.s();!(Wt=Je.n()).done;)for(var Te=Wt.value,fe=Te.start;fe<Te.end;fe++)we.insertItemInDOM(fe,Ke)}catch(ye){Je.e(ye)}finally{Je.f()}}),me!==void 0&&(this.rowsContainer.style.left="-".concat(me,"px")),this.rowsContainer.style.top="-".concat(Y,"px"),this.horizontalScrolling&&I!==void 0&&(this.rowsContainer.style.width="".concat(Math.max(I,this.renderWidth),"px")),this.lastRenderTop=Y,this.lastRenderHeight=pe}},{key:"insertItemInDOM",value:function(B,Y,pe){var me=this,I=this.items[B],we=!1;if(!I.row)if(pe)I.row=pe;else{var Re=this.cache.alloc(I.templateId);I.row=Re.row,we=Re.isReusingConnectedDomNode}var Oe=this.accessibilityProvider.getRole(I.element)||"listitem";I.row.domNode.setAttribute("role",Oe);var Pe=this.accessibilityProvider.isChecked(I.element);if(typeof Pe=="boolean")I.row.domNode.setAttribute("aria-checked",String(!!Pe));else if(Pe){var Ne=function(Ct){return I.row.domNode.setAttribute("aria-checked",String(!!Ct))};Ne(Pe.value),I.checkedDisposable=Pe.onDidChange(Ne)}(we||!I.row.domNode.parentElement)&&(Y?this.rowsContainer.insertBefore(I.row.domNode,Y):this.rowsContainer.appendChild(I.row.domNode)),this.updateItemInDOM(I,B);var Ke=this.renderers.get(I.templateId);if(!Ke)throw new Error("No renderer found for template id ".concat(I.templateId));Ke==null||Ke.renderElement(I.element,B,I.row.templateData,I.size);var Xe=this.dnd.getDragURI(I.element);I.dragStartDisposable.dispose(),I.row.domNode.draggable=!!Xe,Xe&&(I.dragStartDisposable=Object(J.addDisposableListener)(I.row.domNode,"dragstart",function(wt){return me.onDragStart(I.element,Xe,wt)})),this.horizontalScrolling&&(this.measureItemWidth(I),this.eventuallyUpdateScrollWidth())}},{key:"measureItemWidth",value:function(B){if(!(!B.row||!B.row.domNode)){B.row.domNode.style.width="fit-content",B.width=Object(J.getContentWidth)(B.row.domNode);var Y=window.getComputedStyle(B.row.domNode);Y.paddingLeft&&(B.width+=parseFloat(Y.paddingLeft)),Y.paddingRight&&(B.width+=parseFloat(Y.paddingRight)),B.row.domNode.style.width=""}}},{key:"updateItemInDOM",value:function(B,Y){B.row.domNode.style.top="".concat(this.elementTop(Y),"px"),this.setRowHeight&&(B.row.domNode.style.height="".concat(B.size,"px")),this.setRowLineHeight&&(B.row.domNode.style.lineHeight="".concat(B.size,"px")),B.row.domNode.setAttribute("data-index","".concat(Y)),B.row.domNode.setAttribute("data-last-element",Y===this.length-1?"true":"false"),B.row.domNode.setAttribute("data-parity",Y%2==0?"even":"odd"),B.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(B.element,Y,this.length))),B.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(B.element,Y))),B.row.domNode.setAttribute("id",this.getElementDomId(Y)),B.row.domNode.classList.toggle("drop-target",B.dropTarget)}},{key:"removeItemFromDOM",value:function(B){var Y=this.items[B];if(Y.dragStartDisposable.dispose(),Y.checkedDisposable.dispose(),Y.row){var pe=this.renderers.get(Y.templateId);pe&&pe.disposeElement&&pe.disposeElement(Y.element,B,Y.row.templateData,Y.size),this.cache.release(Y.row),Y.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}},{key:"getScrollTop",value:function(){var B=this.scrollableElement.getScrollPosition();return B.scrollTop}},{key:"setScrollTop",value:function(B,Y){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:B,reuseAnimation:Y})}},{key:"scrollTop",get:function(){return this.getScrollTop()},set:function(B){this.setScrollTop(B)}},{key:"scrollHeight",get:function(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}},{key:"onMouseClick",get:function(){var B=this;return H.c.map(this.disposables.add(new $.a(this.domNode,"click")).event,function(Y){return B.toMouseEvent(Y)},this.disposables)}},{key:"onMouseDblClick",get:function(){var B=this;return H.c.map(this.disposables.add(new $.a(this.domNode,"dblclick")).event,function(Y){return B.toMouseEvent(Y)},this.disposables)}},{key:"onMouseMiddleClick",get:function(){var B=this;return H.c.filter(H.c.map(this.disposables.add(new $.a(this.domNode,"auxclick")).event,function(Y){return B.toMouseEvent(Y)},this.disposables),function(Y){return Y.browserEvent.button===1},this.disposables)}},{key:"onMouseDown",get:function(){var B=this;return H.c.map(this.disposables.add(new $.a(this.domNode,"mousedown")).event,function(Y){return B.toMouseEvent(Y)},this.disposables)}},{key:"onMouseOver",get:function(){var B=this;return H.c.map(this.disposables.add(new $.a(this.domNode,"mouseover")).event,function(Y){return B.toMouseEvent(Y)},this.disposables)}},{key:"onMouseOut",get:function(){var B=this;return H.c.map(this.disposables.add(new $.a(this.domNode,"mouseout")).event,function(Y){return B.toMouseEvent(Y)},this.disposables)}},{key:"onContextMenu",get:function(){var B=this;return H.c.any(H.c.map(this.disposables.add(new $.a(this.domNode,"contextmenu")).event,function(Y){return B.toMouseEvent(Y)},this.disposables),H.c.map(this.disposables.add(new $.a(this.domNode,y.a.Contextmenu)).event,function(Y){return B.toGestureEvent(Y)},this.disposables))}},{key:"onTouchStart",get:function(){var B=this;return H.c.map(this.disposables.add(new $.a(this.domNode,"touchstart")).event,function(Y){return B.toTouchEvent(Y)},this.disposables)}},{key:"onTap",get:function(){var B=this;return H.c.map(this.disposables.add(new $.a(this.rowsContainer,y.a.Tap)).event,function(Y){return B.toGestureEvent(Y)},this.disposables)}},{key:"toMouseEvent",value:function(B){var Y=this.getItemIndexFromEventTarget(B.target||null),pe=typeof Y=="undefined"?void 0:this.items[Y],me=pe&&pe.element;return{browserEvent:B,index:Y,element:me}}},{key:"toTouchEvent",value:function(B){var Y=this.getItemIndexFromEventTarget(B.target||null),pe=typeof Y=="undefined"?void 0:this.items[Y],me=pe&&pe.element;return{browserEvent:B,index:Y,element:me}}},{key:"toGestureEvent",value:function(B){var Y=this.getItemIndexFromEventTarget(B.initialTarget||null),pe=typeof Y=="undefined"?void 0:this.items[Y],me=pe&&pe.element;return{browserEvent:B,index:Y,element:me}}},{key:"toDragEvent",value:function(B){var Y=this.getItemIndexFromEventTarget(B.target||null),pe=typeof Y=="undefined"?void 0:this.items[Y],me=pe&&pe.element;return{browserEvent:B,index:Y,element:me}}},{key:"onScroll",value:function(B){try{var Y=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(Y,B.scrollTop,B.height,B.scrollLeft,B.scrollWidth),this.supportDynamicHeights&&this._rerender(B.scrollTop,B.height,B.inSmoothScrolling)}catch(pe){throw console.error("Got bad scroll event:",B),pe}}},{key:"onTouchChange",value:function(B){B.preventDefault(),B.stopPropagation(),this.scrollTop-=B.translationY}},{key:"onDragStart",value:function(B,Y,pe){var me,I;if(!!pe.dataTransfer){var we=this.dnd.getDragElements(B);if(pe.dataTransfer.effectAllowed="copyMove",pe.dataTransfer.setData(re.a.TEXT,Y),pe.dataTransfer.setDragImage){var Re;this.dnd.getDragLabel&&(Re=this.dnd.getDragLabel(we,pe)),typeof Re=="undefined"&&(Re=String(we.length));var Oe=Object(J.$)(".monaco-drag-image");Oe.textContent=Re;var Pe=function(Xe){for(;Xe&&!Xe.classList.contains("monaco-workbench");)Xe=Xe.parentElement;return Xe||document.body},Ne=Pe(this.domNode);Ne.appendChild(Oe),pe.dataTransfer.setDragImage(Oe,-10,-10),setTimeout(function(){return Ne.removeChild(Oe)},0)}this.domNode.classList.add("dragging"),this.currentDragData=new be(we),A.CurrentDragAndDropData=new de(we),(I=(me=this.dnd).onDragStart)===null||I===void 0||I.call(me,this.currentDragData,pe)}}},{key:"onDragOver",value:function(B){var Y=this,pe;if(B.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),A.CurrentDragAndDropData&&A.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(B.browserEvent),!B.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(A.CurrentDragAndDropData)this.currentDragData=A.CurrentDragAndDropData;else{if(!B.browserEvent.dataTransfer.types)return!1;this.currentDragData=new ke}var me=this.dnd.onDragOver(this.currentDragData,B.element,B.index,B.browserEvent);if(this.canDrop=typeof me=="boolean"?me:me.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;B.browserEvent.dataTransfer.dropEffect=typeof me!="boolean"&&me.effect===0?"copy":"move";var I;if(typeof me!="boolean"&&me.feedback?I=me.feedback:typeof B.index=="undefined"?I=[-1]:I=[B.index],I=Object(L.i)(I).filter(function(Ne){return Ne>=-1&&Ne<Y.length}).sort(function(Ne,Ke){return Ne-Ke}),I=I[0]===-1?[-1]:I,he(this.currentDragFeedback,I))return!0;if(this.currentDragFeedback=I,this.currentDragFeedbackDisposable.dispose(),I[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=Object(W.l)(function(){Y.domNode.classList.remove("drop-target"),Y.rowsContainer.classList.remove("drop-target")});else{var we=Object(le.a)(I),Re;try{for(we.s();!(Re=we.n()).done;){var Oe=Re.value,Pe=this.items[Oe];Pe.dropTarget=!0,(pe=Pe.row)===null||pe===void 0||pe.domNode.classList.add("drop-target")}}catch(Ne){we.e(Ne)}finally{we.f()}this.currentDragFeedbackDisposable=Object(W.l)(function(){var Ne,Ke=Object(le.a)(I),Xe;try{for(Ke.s();!(Xe=Ke.n()).done;){var wt=Xe.value,Ct=Y.items[wt];Ct.dropTarget=!1,(Ne=Ct.row)===null||Ne===void 0||Ne.domNode.classList.remove("drop-target")}}catch(bt){Ke.e(bt)}finally{Ke.f()}})}return!0}},{key:"onDragLeave",value:function(B){var Y=this,pe,me;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Object(ne.l)(function(){return Y.clearDragOverFeedback()},100),this.currentDragData&&((me=(pe=this.dnd).onDragLeave)===null||me===void 0||me.call(pe,this.currentDragData,B.element,B.index,B.browserEvent))}},{key:"onDrop",value:function(B){if(!!this.canDrop){var Y=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,A.CurrentDragAndDropData=void 0,!(!Y||!B.browserEvent.dataTransfer)&&(B.browserEvent.preventDefault(),Y.update(B.browserEvent.dataTransfer),this.dnd.drop(Y,B.element,B.index,B.browserEvent))}}},{key:"onDragEnd",value:function(B){var Y,pe;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,A.CurrentDragAndDropData=void 0,(pe=(Y=this.dnd).onDragEnd)===null||pe===void 0||pe.call(Y,B)}},{key:"clearDragOverFeedback",value:function(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=W.a.None}},{key:"setupDragAndDropScrollTopAnimation",value:function(B){var Y=this;if(!this.dragOverAnimationDisposable){var pe=Object(J.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=Object(J.animate)(this.animateDragAndDropScrollTop.bind(this,pe))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Object(ne.l)(function(){Y.dragOverAnimationDisposable&&(Y.dragOverAnimationDisposable.dispose(),Y.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=B.pageY}},{key:"animateDragAndDropScrollTop",value:function(B){if(this.dragOverMouseY!==void 0){var Y=this.dragOverMouseY-B,pe=this.renderHeight-35;Y<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(Y-35))):Y>pe&&(this.scrollTop+=Math.min(14,Math.floor(.3*(Y-pe))))}}},{key:"teardownDragAndDropScrollTopAnimation",value:function(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}},{key:"getItemIndexFromEventTarget",value:function(B){for(var Y=this.scrollableElement.getDomNode(),pe=B;pe instanceof HTMLElement&&pe!==this.rowsContainer&&Y.contains(pe);){var me=pe.getAttribute("data-index");if(me){var I=Number(me);if(!isNaN(I))return I}pe=pe.parentElement}}},{key:"getRenderRange",value:function(B,Y){return{start:this.rangeMap.indexAt(B),end:this.rangeMap.indexAfter(B+Y-1)}}},{key:"_rerender",value:function(B,Y,pe){var me=this.getRenderRange(B,Y),I,we;B===this.elementTop(me.start)?(I=me.start,we=0):me.end-me.start>1&&(I=me.start+1,we=this.elementTop(I)-B);for(var Re=0;;){for(var Oe=this.getRenderRange(B,Y),Pe=!1,Ne=Oe.start;Ne<Oe.end;Ne++){var Ke=this.probeDynamicHeight(Ne);Ke!==0&&this.rangeMap.splice(Ne,1,[this.items[Ne]]),Re+=Ke,Pe=Pe||Ke!==0}if(!Pe){Re!==0&&this.eventuallyUpdateScrollDimensions();var Xe=F.a.relativeComplement(me,Oe),wt=Object(le.a)(Xe),Ct;try{for(wt.s();!(Ct=wt.n()).done;)for(var bt=Ct.value,mt=bt.start;mt<bt.end;mt++)this.items[mt].row&&this.removeItemFromDOM(mt)}catch(Fe){wt.e(Fe)}finally{wt.f()}var jt=F.a.relativeComplement(Oe,me),Je=Object(le.a)(jt),Wt;try{for(Je.s();!(Wt=Je.n()).done;)for(var Te=Wt.value,fe=Te.start;fe<Te.end;fe++){var ye=fe+1,Ee=ye<this.items.length?this.items[ye].row:null,Ge=Ee?Ee.domNode:null;this.insertItemInDOM(fe,Ge)}}catch(Fe){Je.e(Fe)}finally{Je.f()}for(var $e=Oe.start;$e<Oe.end;$e++)this.items[$e].row&&this.updateItemInDOM(this.items[$e],$e);if(typeof I=="number"){var We=this.scrollable.getFutureScrollPosition().scrollTop-B,it=this.elementTop(I)-we+We;this.setScrollTop(it,pe)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}},{key:"probeDynamicHeight",value:function(B){var Y,pe,me,I=this.items[B];if(this.virtualDelegate.getDynamicHeight){var we=this.virtualDelegate.getDynamicHeight(I.element);if(we!==null){var Re=I.size;return I.size=we,I.lastDynamicHeightWidth=this.renderWidth,we-Re}}if(!I.hasDynamicHeight||I.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(I.element))return 0;var Oe=I.size;if(I.row)return I.row.domNode.style.height="",I.size=I.row.domNode.offsetHeight,I.lastDynamicHeightWidth=this.renderWidth,I.size-Oe;var Pe=this.cache.alloc(I.templateId),Ne=Pe.row;Ne.domNode.style.height="",this.rowsContainer.appendChild(Ne.domNode);var Ke=this.renderers.get(I.templateId);if(!Ke)throw new T.a("Missing renderer for templateId: "+I.templateId);return Ke.renderElement(I.element,B,Ne.templateData,void 0),I.size=Ne.domNode.offsetHeight,(Y=Ke.disposeElement)===null||Y===void 0||Y.call(Ke,I.element,B,Ne.templateData,void 0),(me=(pe=this.virtualDelegate).setDynamicHeight)===null||me===void 0||me.call(pe,I.element,I.size),I.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(Ne.domNode),this.cache.release(Ne),I.size-Oe}},{key:"getNextToLastElement",value:function(B){var Y=B[B.length-1];if(!Y)return null;var pe=this.items[Y.end];return!pe||!pe.row?null:pe.row.domNode}},{key:"getElementDomId",value:function(B){return"".concat(this.domId,"_").concat(B)}},{key:"dispose",value:function(){var B;if(this.items){var Y=Object(le.a)(this.items),pe;try{for(Y.s();!(pe=Y.n()).done;){var me=pe.value;if(me.row){var I=this.renderers.get(me.row.templateId);I&&((B=I.disposeElement)===null||B===void 0||B.call(I,me.element,-1,me.row.templateData,void 0),I.disposeTemplate(me.row.templateData))}}}catch(we){Y.e(we)}finally{Y.f()}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),Object(W.i)(this.disposables)}}]),k}();ce.InstanceCount=0,z([ee.a],ce.prototype,"onMouseClick",null),z([ee.a],ce.prototype,"onMouseDblClick",null),z([ee.a],ce.prototype,"onMouseMiddleClick",null),z([ee.a],ce.prototype,"onMouseDown",null),z([ee.a],ce.prototype,"onMouseOver",null),z([ee.a],ce.prototype,"onMouseOut",null),z([ee.a],ce.prototype,"onContextMenu",null),z([ee.a],ce.prototype,"onTouchStart",null),z([ee.a],ce.prototype,"onTap",null)},fjLI:function(fn,K,a){"use strict";a.d(K,"g",function(){return d}),a.d(K,"h",function(){return j}),a.d(K,"c",function(){return C}),a.d(K,"b",function(){return x}),a.d(K,"e",function(){return T}),a.d(K,"f",function(){return z}),a.d(K,"d",function(){return A}),a.d(K,"a",function(){return ue}),a.d(K,"i",function(){return be});var le=a("yKVA"),De=a("879j"),E=a("oBTY"),ve=a("rAM+"),re=a("mtLc"),J=a("fWQN"),$=a("8HAY"),y=a("T5lh"),Q=a("MI8n"),L=a("pmY6"),ne=a("24hK"),ee=a("nnTU"),H=a("T8No"),W=a("Cg/j"),F=a("nrhi"),V=function(de,ke,he,ge){var ce=arguments.length,k=ce<3?ke:ge===null?ge=Object.getOwnPropertyDescriptor(ke,he):ge,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(de,ke,he,ge);else for(var B=de.length-1;B>=0;B--)(w=de[B])&&(k=(ce<3?w(k):ce>3?w(ke,he,k):w(ke,he))||k);return ce>3&&k&&Object.defineProperty(ke,he,k),k},N=function(de,ke){return function(he,ge){ke(he,ge,de)}},U=function(de,ke){var he={};for(var ge in de)Object.prototype.hasOwnProperty.call(de,ge)&&ke.indexOf(ge)<0&&(he[ge]=de[ge]);if(de!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,ge=Object.getOwnPropertySymbols(de);ce<ge.length;ce++)ke.indexOf(ge[ce])<0&&Object.prototype.propertyIsEnumerable.call(de,ge[ce])&&(he[ge[ce]]=de[ge[ce]]);return he};function d(de){return de.command!==void 0}function j(de){return de.submenu!==void 0}var C=Object(re.a)(function de(ke){if(Object(J.a)(this,de),de._instances.has(ke))throw new TypeError("MenuId with identifier '".concat(ke,"' already exists. Use MenuId.for(ident) or a unique identifier"));de._instances.set(ke,this),this.id=ke});C._instances=new Map,C.CommandPalette=new C("CommandPalette"),C.DebugBreakpointsContext=new C("DebugBreakpointsContext"),C.DebugCallStackContext=new C("DebugCallStackContext"),C.DebugConsoleContext=new C("DebugConsoleContext"),C.DebugVariablesContext=new C("DebugVariablesContext"),C.DebugWatchContext=new C("DebugWatchContext"),C.DebugToolBar=new C("DebugToolBar"),C.DebugToolBarStop=new C("DebugToolBarStop"),C.EditorContext=new C("EditorContext"),C.SimpleEditorContext=new C("SimpleEditorContext"),C.EditorContent=new C("EditorContent"),C.EditorLineNumberContext=new C("EditorLineNumberContext"),C.EditorContextCopy=new C("EditorContextCopy"),C.EditorContextPeek=new C("EditorContextPeek"),C.EditorContextShare=new C("EditorContextShare"),C.EditorTitle=new C("EditorTitle"),C.EditorTitleRun=new C("EditorTitleRun"),C.EditorTitleContext=new C("EditorTitleContext"),C.EditorTitleContextShare=new C("EditorTitleContextShare"),C.EmptyEditorGroup=new C("EmptyEditorGroup"),C.EmptyEditorGroupContext=new C("EmptyEditorGroupContext"),C.EditorTabsBarContext=new C("EditorTabsBarContext"),C.ExplorerContext=new C("ExplorerContext"),C.ExplorerContextShare=new C("ExplorerContextShare"),C.ExtensionContext=new C("ExtensionContext"),C.GlobalActivity=new C("GlobalActivity"),C.CommandCenter=new C("CommandCenter"),C.LayoutControlMenuSubmenu=new C("LayoutControlMenuSubmenu"),C.LayoutControlMenu=new C("LayoutControlMenu"),C.MenubarMainMenu=new C("MenubarMainMenu"),C.MenubarAppearanceMenu=new C("MenubarAppearanceMenu"),C.MenubarDebugMenu=new C("MenubarDebugMenu"),C.MenubarEditMenu=new C("MenubarEditMenu"),C.MenubarCopy=new C("MenubarCopy"),C.MenubarFileMenu=new C("MenubarFileMenu"),C.MenubarGoMenu=new C("MenubarGoMenu"),C.MenubarHelpMenu=new C("MenubarHelpMenu"),C.MenubarLayoutMenu=new C("MenubarLayoutMenu"),C.MenubarNewBreakpointMenu=new C("MenubarNewBreakpointMenu"),C.PanelAlignmentMenu=new C("PanelAlignmentMenu"),C.PanelPositionMenu=new C("PanelPositionMenu"),C.MenubarPreferencesMenu=new C("MenubarPreferencesMenu"),C.MenubarRecentMenu=new C("MenubarRecentMenu"),C.MenubarSelectionMenu=new C("MenubarSelectionMenu"),C.MenubarShare=new C("MenubarShare"),C.MenubarSwitchEditorMenu=new C("MenubarSwitchEditorMenu"),C.MenubarSwitchGroupMenu=new C("MenubarSwitchGroupMenu"),C.MenubarTerminalMenu=new C("MenubarTerminalMenu"),C.MenubarViewMenu=new C("MenubarViewMenu"),C.MenubarHomeMenu=new C("MenubarHomeMenu"),C.OpenEditorsContext=new C("OpenEditorsContext"),C.OpenEditorsContextShare=new C("OpenEditorsContextShare"),C.ProblemsPanelContext=new C("ProblemsPanelContext"),C.SCMChangeContext=new C("SCMChangeContext"),C.SCMResourceContext=new C("SCMResourceContext"),C.SCMResourceContextShare=new C("SCMResourceContextShare"),C.SCMResourceFolderContext=new C("SCMResourceFolderContext"),C.SCMResourceGroupContext=new C("SCMResourceGroupContext"),C.SCMSourceControl=new C("SCMSourceControl"),C.SCMTitle=new C("SCMTitle"),C.SearchContext=new C("SearchContext"),C.SearchActionMenu=new C("SearchActionContext"),C.StatusBarWindowIndicatorMenu=new C("StatusBarWindowIndicatorMenu"),C.StatusBarRemoteIndicatorMenu=new C("StatusBarRemoteIndicatorMenu"),C.StickyScrollContext=new C("StickyScrollContext"),C.TestItem=new C("TestItem"),C.TestItemGutter=new C("TestItemGutter"),C.TestPeekElement=new C("TestPeekElement"),C.TestPeekTitle=new C("TestPeekTitle"),C.TouchBarContext=new C("TouchBarContext"),C.TitleBarContext=new C("TitleBarContext"),C.TitleBarTitleContext=new C("TitleBarTitleContext"),C.TunnelContext=new C("TunnelContext"),C.TunnelPrivacy=new C("TunnelPrivacy"),C.TunnelProtocol=new C("TunnelProtocol"),C.TunnelPortInline=new C("TunnelInline"),C.TunnelTitle=new C("TunnelTitle"),C.TunnelLocalAddressInline=new C("TunnelLocalAddressInline"),C.TunnelOriginInline=new C("TunnelOriginInline"),C.ViewItemContext=new C("ViewItemContext"),C.ViewContainerTitle=new C("ViewContainerTitle"),C.ViewContainerTitleContext=new C("ViewContainerTitleContext"),C.ViewTitle=new C("ViewTitle"),C.ViewTitleContext=new C("ViewTitleContext"),C.CommentEditorActions=new C("CommentEditorActions"),C.CommentThreadTitle=new C("CommentThreadTitle"),C.CommentThreadActions=new C("CommentThreadActions"),C.CommentThreadAdditionalActions=new C("CommentThreadAdditionalActions"),C.CommentThreadTitleContext=new C("CommentThreadTitleContext"),C.CommentThreadCommentContext=new C("CommentThreadCommentContext"),C.CommentTitle=new C("CommentTitle"),C.CommentActions=new C("CommentActions"),C.InteractiveToolbar=new C("InteractiveToolbar"),C.InteractiveCellTitle=new C("InteractiveCellTitle"),C.InteractiveCellDelete=new C("InteractiveCellDelete"),C.InteractiveCellExecute=new C("InteractiveCellExecute"),C.InteractiveInputExecute=new C("InteractiveInputExecute"),C.NotebookToolbar=new C("NotebookToolbar"),C.NotebookCellTitle=new C("NotebookCellTitle"),C.NotebookCellDelete=new C("NotebookCellDelete"),C.NotebookCellInsert=new C("NotebookCellInsert"),C.NotebookCellBetween=new C("NotebookCellBetween"),C.NotebookCellListTop=new C("NotebookCellTop"),C.NotebookCellExecute=new C("NotebookCellExecute"),C.NotebookCellExecutePrimary=new C("NotebookCellExecutePrimary"),C.NotebookDiffCellInputTitle=new C("NotebookDiffCellInputTitle"),C.NotebookDiffCellMetadataTitle=new C("NotebookDiffCellMetadataTitle"),C.NotebookDiffCellOutputsTitle=new C("NotebookDiffCellOutputsTitle"),C.NotebookOutputToolbar=new C("NotebookOutputToolbar"),C.NotebookEditorLayoutConfigure=new C("NotebookEditorLayoutConfigure"),C.NotebookKernelSource=new C("NotebookKernelSource"),C.BulkEditTitle=new C("BulkEditTitle"),C.BulkEditContext=new C("BulkEditContext"),C.TimelineItemContext=new C("TimelineItemContext"),C.TimelineTitle=new C("TimelineTitle"),C.TimelineTitleContext=new C("TimelineTitleContext"),C.TimelineFilterSubMenu=new C("TimelineFilterSubMenu"),C.AccountsContext=new C("AccountsContext"),C.PanelTitle=new C("PanelTitle"),C.AuxiliaryBarTitle=new C("AuxiliaryBarTitle"),C.TerminalInstanceContext=new C("TerminalInstanceContext"),C.TerminalEditorInstanceContext=new C("TerminalEditorInstanceContext"),C.TerminalNewDropdownContext=new C("TerminalNewDropdownContext"),C.TerminalTabContext=new C("TerminalTabContext"),C.TerminalTabEmptyAreaContext=new C("TerminalTabEmptyAreaContext"),C.TerminalInlineTabContext=new C("TerminalInlineTabContext"),C.WebviewContext=new C("WebviewContext"),C.InlineCompletionsActions=new C("InlineCompletionsActions"),C.NewFile=new C("NewFile"),C.MergeInput1Toolbar=new C("MergeToolbar1Toolbar"),C.MergeInput2Toolbar=new C("MergeToolbar2Toolbar"),C.MergeBaseToolbar=new C("MergeBaseToolbar"),C.MergeInputResultToolbar=new C("MergeToolbarResultToolbar"),C.InlineSuggestionToolbar=new C("InlineSuggestionToolbar"),C.ChatContext=new C("ChatContext"),C.ChatCodeBlock=new C("ChatCodeblock"),C.ChatMessageTitle=new C("ChatMessageTitle"),C.ChatExecute=new C("ChatExecute");var x=Object(W.c)("menuService"),S=function(){function de(ke){Object(J.a)(this,de),this.id=ke,this.has=function(he){return he===ke}}return Object(re.a)(de,null,[{key:"for",value:function(he){var ge=this._all.get(he);return ge||(ge=new de(he),this._all.set(he,ge)),ge}},{key:"merge",value:function(he){var ge=new Set,ce=Object(ve.a)(he),k;try{for(ce.s();!(k=ce.n()).done;){var w=k.value;w instanceof de&&ge.add(w.id)}}catch(B){ce.e(B)}finally{ce.f()}return ge}}]),de}();S._all=new Map;var T=new(function(){function de(){Object(J.a)(this,de),this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Q.g({merge:S.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}return Object(re.a)(de,[{key:"addCommand",value:function(he){var ge=this;return this._commands.set(he.id,he),this._onDidChangeMenu.fire(S.for(C.CommandPalette)),Object(L.l)(function(){ge._commands.delete(he.id)&&ge._onDidChangeMenu.fire(S.for(C.CommandPalette))})}},{key:"getCommand",value:function(he){return this._commands.get(he)}},{key:"getCommands",value:function(){var he=new Map;return this._commands.forEach(function(ge,ce){return he.set(ce,ge)}),he}},{key:"appendMenuItem",value:function(he,ge){var ce=this._menuItems.get(he);ce||(ce=new ne.a,this._menuItems.set(he,ce));var k=ce.push(ge);return this._onDidChangeMenu.fire(S.for(he)),Object(L.l)(k)}},{key:"appendMenuItems",value:function(he){var ge=new L.c,ce=Object(ve.a)(he),k;try{for(ce.s();!(k=ce.n()).done;){var w=k.value,B=w.id,Y=w.item;ge.add(this.appendMenuItem(B,Y))}}catch(pe){ce.e(pe)}finally{ce.f()}return ge}},{key:"getMenuItems",value:function(he){var ge;return this._menuItems.has(he)?ge=Object(E.a)(this._menuItems.get(he)):ge=[],he===C.CommandPalette&&this._appendImplicitItems(ge),ge}},{key:"_appendImplicitItems",value:function(he){var ge=new Set,ce=Object(ve.a)(he),k;try{for(ce.s();!(k=ce.n()).done;){var w=k.value;d(w)&&(ge.add(w.command.id),w.alt&&ge.add(w.alt.id))}}catch(B){ce.e(B)}finally{ce.f()}this._commands.forEach(function(B,Y){ge.has(Y)||he.push({command:B})})}}]),de}()),z=function(de){Object(le.a)(he,de);var ke=Object(De.a)(he);function he(ge,ce,k){var w;return Object(J.a)(this,he),w=ke.call(this,"submenuitem.".concat(ge.submenu.id),typeof ge.title=="string"?ge.title:ge.title.value,k,"submenu"),w.item=ge,w.hideActions=ce,w}return Object(re.a)(he)}($.e),A=function(){function de(ke,he,ge,ce,k,w){Object(J.a)(this,de);var B,Y;this.hideActions=ce,this._commandService=w,this.id=ke.id,this.label=de.label(ke,ge),this.tooltip=(Y=typeof ke.tooltip=="string"?ke.tooltip:(B=ke.tooltip)===null||B===void 0?void 0:B.value)!==null&&Y!==void 0?Y:"",this.enabled=!ke.precondition||k.contextMatchesRules(ke.precondition),this.checked=void 0;var pe;if(ke.toggled){var me=ke.toggled.condition?ke.toggled:{condition:ke.toggled};this.checked=k.contextMatchesRules(me.condition),this.checked&&me.tooltip&&(this.tooltip=typeof me.tooltip=="string"?me.tooltip:me.tooltip.value),this.checked&&y.a.isThemeIcon(me.icon)&&(pe=me.icon),me.title&&(this.label=typeof me.title=="string"?me.title:me.title.value)}pe||(pe=y.a.isThemeIcon(ke.icon)?ke.icon:void 0),this.item=ke,this.alt=he?new de(he,void 0,ge,ce,k,w):void 0,this._options=ge,this.class=pe&&y.a.asClassName(pe)}return Object(re.a)(de,[{key:"run",value:function(){var he,ge,ce,k=[];if(((ge=this._options)===null||ge===void 0?void 0:ge.arg)&&(k=[].concat(Object(E.a)(k),[this._options.arg])),(ce=this._options)===null||ce===void 0?void 0:ce.shouldForwardArgs){for(var w=arguments.length,B=new Array(w),Y=0;Y<w;Y++)B[Y]=arguments[Y];k=[].concat(Object(E.a)(k),B)}return(he=this._commandService).executeCommand.apply(he,[this.id].concat(Object(E.a)(k)))}}],[{key:"label",value:function(he,ge){return(ge==null?void 0:ge.renderShortTitle)&&he.shortTitle?typeof he.shortTitle=="string"?he.shortTitle:he.shortTitle.value:typeof he.title=="string"?he.title:he.title.value}}]),de}();A=V([N(4,H.b),N(5,ee.b)],A);var ue=Object(re.a)(function de(ke){Object(J.a)(this,de),this.desc=ke});function be(de){var ke=new L.c,he=new de,ge=he.desc,ce=ge.f1,k=ge.menu,w=ge.keybinding,B=ge.description,Y=U(ge,["f1","menu","keybinding","description"]);if(ke.add(ee.a.registerCommand({id:Y.id,handler:function(Ne){for(var Ke=arguments.length,Xe=new Array(Ke>1?Ke-1:0),wt=1;wt<Ke;wt++)Xe[wt-1]=arguments[wt];return he.run.apply(he,[Ne].concat(Xe))},description:B})),Array.isArray(k)){var pe=Object(ve.a)(k),me;try{for(pe.s();!(me=pe.n()).done;){var I=me.value;ke.add(T.appendMenuItem(I.id,Object.assign({command:Object.assign(Object.assign({},Y),{precondition:I.precondition===null?void 0:Y.precondition})},I)))}}catch(Pe){pe.e(Pe)}finally{pe.f()}}else k&&ke.add(T.appendMenuItem(k.id,Object.assign({command:Object.assign(Object.assign({},Y),{precondition:k.precondition===null?void 0:Y.precondition})},k)));if(ce&&(ke.add(T.appendMenuItem(C.CommandPalette,{command:Y,when:Y.precondition})),ke.add(T.addCommand(Y))),Array.isArray(w)){var we=Object(ve.a)(w),Re;try{for(we.s();!(Re=we.n()).done;){var Oe=Re.value;ke.add(F.a.registerKeybindingRule(Object.assign(Object.assign({},Oe),{id:Y.id,when:Y.precondition?H.a.and(Y.precondition,Oe.when):Oe.when})))}}catch(Pe){we.e(Pe)}finally{we.f()}}else w&&ke.add(F.a.registerKeybindingRule(Object.assign(Object.assign({},w),{id:Y.id,when:Y.precondition?H.a.and(Y.precondition,w.when):w.when})));return ke}},fpMC:function(fn,K,a){"use strict";a.d(K,"l",function(){return re}),a.d(K,"i",function(){return $}),a.d(K,"g",function(){return Q}),a.d(K,"j",function(){return L}),a.d(K,"k",function(){return be}),a.d(K,"h",function(){return k}),a.d(K,"c",function(){return w}),a.d(K,"d",function(){return B}),a.d(K,"a",function(){return jt}),a.d(K,"b",function(){return Je}),a.d(K,"e",function(){return Wt}),a.d(K,"f",function(){return ye});var le=a("mtLc"),De=a("fWQN"),E=a("QDVR"),ve=a("N0LK");function re(){for(var $e=arguments.length,We=new Array($e),it=0;it<$e;it++)We[it]=arguments[it];return function(Fe,He){for(var Ye=0,ot=We.length;Ye<ot;Ye++){var Kt=We[Ye](Fe,He);if(Kt)return Kt}return null}}var J=y.bind(void 0,!1),$=y.bind(void 0,!0);function y($e,We,it){if(!it||it.length<We.length)return null;var Fe;return $e?Fe=ve.T(it,We):Fe=it.indexOf(We)===0,Fe?We.length>0?[{start:0,end:We.length}]:[]:null}function Q($e,We){var it=We.toLowerCase().indexOf($e.toLowerCase());return it===-1?null:[{start:it,end:it+$e.length}]}function L($e,We){return ne($e.toLowerCase(),We.toLowerCase(),0,0)}function ne($e,We,it,Fe){if(it===$e.length)return[];if(Fe===We.length)return null;if($e[it]===We[Fe]){var He=null;return(He=ne($e,We,it+1,Fe+1))?j({start:Fe,end:Fe+1},He):null}return ne($e,We,it,Fe+1)}function ee($e){return 97<=$e&&$e<=122}function H($e){return 65<=$e&&$e<=90}function W($e){return 48<=$e&&$e<=57}function F($e){return $e===32||$e===9||$e===10||$e===13}var V=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(function($e){return V.add($e.charCodeAt(0))});function N($e){return F($e)||V.has($e)}function U($e,We){return $e===We||N($e)&&N(We)}function d($e){return ee($e)||H($e)||W($e)}function j($e,We){return We.length===0?We=[$e]:$e.end===We[0].start?We[0].start=$e.start:We.unshift($e),We}function C($e,We){for(var it=We;it<$e.length;it++){var Fe=$e.charCodeAt(it);if(H(Fe)||W(Fe)||it>0&&!d($e.charCodeAt(it-1)))return it}return $e.length}function x($e,We,it,Fe){if(it===$e.length)return[];if(Fe===We.length)return null;if($e[it]!==We[Fe].toLowerCase())return null;var He=null,Ye=Fe+1;for(He=x($e,We,it+1,Fe+1);!He&&(Ye=C(We,Ye))<We.length;)He=x($e,We,it+1,Ye),Ye++;return He===null?null:j({start:Fe,end:Fe+1},He)}function S($e){for(var We=0,it=0,Fe=0,He=0,Ye=0,ot=0;ot<$e.length;ot++)Ye=$e.charCodeAt(ot),H(Ye)&&We++,ee(Ye)&&it++,d(Ye)&&Fe++,W(Ye)&&He++;var Kt=We/$e.length,gt=it/$e.length,Ft=Fe/$e.length,Jt=He/$e.length;return{upperPercent:Kt,lowerPercent:gt,alphaPercent:Ft,numericPercent:Jt}}function T($e){var We=$e.upperPercent,it=$e.lowerPercent;return it===0&&We>.6}function z($e){var We=$e.upperPercent,it=$e.lowerPercent,Fe=$e.alphaPercent,He=$e.numericPercent;return it>.2&&We<.8&&Fe>.6&&He<.2}function A($e){for(var We=0,it=0,Fe=0,He=0,Ye=0;Ye<$e.length;Ye++)Fe=$e.charCodeAt(Ye),H(Fe)&&We++,ee(Fe)&&it++,F(Fe)&&He++;return(We===0||it===0)&&He===0?$e.length<=30:We<=5}function ue($e,We){if(!We||(We=We.trim(),We.length===0)||!A($e)||We.length>60)return null;var it=S(We);if(!z(it)){if(!T(it))return null;We=We.toLowerCase()}var Fe=null,He=0;for($e=$e.toLowerCase();He<We.length&&(Fe=x($e,We,0,He))===null;)He=C(We,He+1);return Fe}function be($e,We){var it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!We||We.length===0)return null;var Fe=null,He=0;for($e=$e.toLowerCase(),We=We.toLowerCase();He<We.length&&(Fe=de($e,We,0,He,it))===null;)He=ke(We,He+1);return Fe}function de($e,We,it,Fe,He){if(it===$e.length)return[];if(Fe===We.length)return null;if(U($e.charCodeAt(it),We.charCodeAt(Fe))){var Ye=null,ot=Fe+1;if(Ye=de($e,We,it+1,Fe+1,He),!He)for(;!Ye&&(ot=ke(We,ot))<We.length;)Ye=de($e,We,it+1,ot,He),ot++;return Ye?$e.charCodeAt(it)!==We.charCodeAt(Fe)?Ye:j({start:Fe,end:Fe+1},Ye):null}else return null}function ke($e,We){for(var it=We;it<$e.length;it++)if(N($e.charCodeAt(it))||it>0&&N($e.charCodeAt(it-1)))return it;return $e.length}var he=re($,ue,Q),ge=re($,ue,L),ce=new E.a(1e4);function k($e,We){var it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof $e!="string"||typeof We!="string")return null;var Fe=ce.get($e);Fe||(Fe=new RegExp(ve.p($e),"i"),ce.set($e,Fe));var He=Fe.exec(We);return He?[{start:He.index,end:He.index+He[0].length}]:it?ge($e,We):he($e,We)}function w($e,We,it,Fe,He,Ye){for(var ot=Math.min(13,$e.length);it<ot;it++){var Kt=Wt($e,We,it,Fe,He,Ye,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Kt)return Kt}return[0,Ye]}function B($e){if(typeof $e=="undefined")return[];for(var We=[],it=$e[1],Fe=$e.length-1;Fe>1;Fe--){var He=$e[Fe]+it,Ye=We[We.length-1];Ye&&Ye.end===He?Ye.end=He+1:We.push({start:He,end:He+1})}return We}var Y=128;function pe(){for(var $e=[],We=[],it=0;it<=Y;it++)We[it]=0;for(var Fe=0;Fe<=Y;Fe++)$e.push(We.slice(0));return $e}function me($e){for(var We=[],it=0;it<=$e;it++)We[it]=0;return We}var I=me(2*Y),we=me(2*Y),Re=pe(),Oe=pe(),Pe=pe(),Ne=!1;function Ke($e,We,it,Fe,He){function Ye(gt,Ft){for(var Jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:" ";gt.length<Ft;)gt=Jt+gt;return gt}for(var ot=" |   |".concat(Fe.split("").map(function(gt){return Ye(gt,3)}).join("|"),`
`),Kt=0;Kt<=it;Kt++)Kt===0?ot+=" |":ot+="".concat(We[Kt-1],"|"),ot+=$e[Kt].slice(0,He+1).map(function(gt){return Ye(gt.toString(),3)}).join("|")+`
`;return ot}function Xe($e,We,it,Fe){$e=$e.substr(We),it=it.substr(Fe),console.log(Ke(Oe,$e,$e.length,it,it.length)),console.log(Ke(Pe,$e,$e.length,it,it.length)),console.log(Ke(Re,$e,$e.length,it,it.length))}function wt($e,We){if(We<0||We>=$e.length)return!1;var it=$e.codePointAt(We);switch(it){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!ve.C(it)}}function Ct($e,We){if(We<0||We>=$e.length)return!1;var it=$e.charCodeAt(We);switch(it){case 32:case 9:return!0;default:return!1}}function bt($e,We,it){return We[$e]!==it[$e]}function mt($e,We,it,Fe,He,Ye){for(var ot=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;We<it&&He<Ye;)$e[We]===Fe[He]&&(ot&&(I[We]=He),We+=1),He+=1;return We===it}var jt;(function($e){$e.Default=[-100,0];function We(it){return!it||it.length===2&&it[0]===-100&&it[1]===0}$e.isDefault=We})(jt||(jt={}));var Je=Object(le.a)(function $e(We,it){Object(De.a)(this,$e),this.firstMatchCanBeWeak=We,this.boostFullMatch=it});Je.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function Wt($e,We,it,Fe,He,Ye){var ot=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Je.default,Kt=$e.length>Y?Y:$e.length,gt=Fe.length>Y?Y:Fe.length;if(!(it>=Kt||Ye>=gt||Kt-it>gt-Ye)&&!!mt(We,it,Kt,He,Ye,gt,!0)){Te(Kt,gt,it,Ye,We,He);var Ft=1,Jt=1,qt=it,En=Ye,It=[!1];for(Ft=1,qt=it;qt<Kt;Ft++,qt++){var si=I[qt],On=we[qt],Gn=qt+1<Kt?we[qt+1]:gt;for(Jt=si-Ye+1,En=si;En<Gn;Jt++,En++){var ci=Number.MIN_SAFE_INTEGER,Dn=!1;En<=On&&(ci=fe($e,We,qt,it,Fe,He,En,gt,Ye,Re[Ft-1][Jt-1]===0,It));var An=0;ci!==Number.MAX_SAFE_INTEGER&&(Dn=!0,An=ci+Oe[Ft-1][Jt-1]);var fr=En>si,Vi=fr?Oe[Ft][Jt-1]+(Re[Ft][Jt-1]>0?-5:0):0,Sr=En>si+1&&Re[Ft][Jt-1]>0,Pi=Sr?Oe[Ft][Jt-2]+(Re[Ft][Jt-2]>0?-5:0):0;if(Sr&&(!fr||Pi>=Vi)&&(!Dn||Pi>=An))Oe[Ft][Jt]=Pi,Pe[Ft][Jt]=3,Re[Ft][Jt]=0;else if(fr&&(!Dn||Vi>=An))Oe[Ft][Jt]=Vi,Pe[Ft][Jt]=2,Re[Ft][Jt]=0;else if(Dn)Oe[Ft][Jt]=An,Pe[Ft][Jt]=1,Re[Ft][Jt]=Re[Ft-1][Jt-1]+1;else throw new Error("not possible")}}if(Ne&&Xe($e,it,Fe,Ye),!(!It[0]&&!ot.firstMatchCanBeWeak)){Ft--,Jt--;for(var Ei=[Oe[Ft][Jt],Ye],Cr=0,zn=0;Ft>=1;){var dr=Jt;do{var Hn=Pe[Ft][dr];if(Hn===3)dr=dr-2;else if(Hn===2)dr=dr-1;else break}while(dr>=1);Cr>1&&We[it+Ft-1]===He[Ye+Jt-1]&&!bt(dr+Ye-1,Fe,He)&&Cr+1>Re[Ft][dr]&&(dr=Jt),dr===Jt?Cr++:Cr=1,zn||(zn=dr),Ft--,Jt=dr-1,Ei.push(Jt)}gt===Kt&&ot.boostFullMatch&&(Ei[0]+=2);var mi=zn-Kt;return Ei[0]-=mi,Ei}}}function Te($e,We,it,Fe,He,Ye){for(var ot=$e-1,Kt=We-1;ot>=it&&Kt>=Fe;)He[ot]===Ye[Kt]&&(we[ot]=Kt,ot--),Kt--}function fe($e,We,it,Fe,He,Ye,ot,Kt,gt,Ft,Jt){if(We[it]!==Ye[ot])return Number.MIN_SAFE_INTEGER;var qt=1,En=!1;return ot===it-Fe?qt=$e[it]===He[ot]?7:5:bt(ot,He,Ye)&&(ot===0||!bt(ot-1,He,Ye))?(qt=$e[it]===He[ot]?7:5,En=!0):wt(Ye,ot)&&(ot===0||!wt(Ye,ot-1))?qt=5:(wt(Ye,ot-1)||Ct(Ye,ot-1))&&(qt=5,En=!0),qt>1&&it===Fe&&(Jt[0]=!0),En||(En=bt(ot,He,Ye)||wt(Ye,ot-1)||Ct(Ye,ot-1)),it===Fe?ot>gt&&(qt-=En?3:5):Ft?qt+=En?2:0:qt+=En?0:1,ot+1===Kt&&(qt-=En?3:5),qt}function ye($e,We,it,Fe,He,Ye,ot){return Ee($e,We,it,Fe,He,Ye,!0,ot)}function Ee($e,We,it,Fe,He,Ye,ot,Kt){var gt=Wt($e,We,it,Fe,He,Ye,Kt);if(gt&&!ot)return gt;if($e.length>=3)for(var Ft=Math.min(7,$e.length-1),Jt=it+1;Jt<Ft;Jt++){var qt=Ge($e,Jt);if(qt){var En=Wt(qt,qt.toLowerCase(),it,Fe,He,Ye,Kt);En&&(En[0]-=3,(!gt||En[0]>gt[0])&&(gt=En))}}return gt}function Ge($e,We){if(!(We+1>=$e.length)){var it=$e[We],Fe=$e[We+1];if(it!==Fe)return $e.slice(0,We)+Fe+it+$e.slice(We+2)}}},fvt3:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("workspaceTrustManagementService")},fxyS:function(fn,K,a){"use strict";a.d(K,"a",function(){return J});var le=a("tU7J"),De=a("wFql"),E=a("nKUr"),ve=a.n(E),re=function(y){var Q;return!!((y==null||(Q=y.valueType)===null||Q===void 0?void 0:Q.toString().startsWith("date"))||(y==null?void 0:y.valueType)==="select"||(y==null?void 0:y.valueEnum))},J=function(y,Q,L){if(Q.copyable||Q.ellipsis){var ne=Q.copyable&&L?{text:L,tooltips:["",""]}:void 0,ee=re(Q),H=Q.ellipsis&&L?{tooltip:ee?Object(E.jsx)("div",{className:"pro-table-tooltip-text",children:y}):L}:!1;return Object(E.jsx)(De.a.Text,{style:{width:"100%",margin:0,padding:0},title:"",copyable:ne,ellipsis:H,children:y})}return y}},"g/5D":function(fn,K,a){"use strict";a.d(K,"b",function(){return L}),a.d(K,"a",function(){return C});var le=a("tJVT"),De=a("rAM+"),E=a("fWQN"),ve=a("mtLc"),re=a("N0LK"),J=a("erNZ"),$=a("aokT"),y=function(){function x(S,T,z,A,ue,be){Object(E.a)(this,x),this._richEditBracketBrand=void 0,this.languageId=S,this.index=T,this.open=z,this.close=A,this.forwardRegex=ue,this.reversedRegex=be,this._openSet=x._toSet(this.open),this._closeSet=x._toSet(this.close)}return Object(ve.a)(x,[{key:"isOpen",value:function(T){return this._openSet.has(T)}},{key:"isClose",value:function(T){return this._closeSet.has(T)}}],[{key:"_toSet",value:function(T){var z=new Set,A=Object(De.a)(T),ue;try{for(A.s();!(ue=A.n()).done;){var be=ue.value;z.add(be)}}catch(de){A.e(de)}finally{A.f()}return z}}]),x}();function Q(x){var S=x.length;x=x.map(function(I){return[I[0].toLowerCase(),I[1].toLowerCase()]});for(var T=[],z=0;z<S;z++)T[z]=z;for(var A=function(we,Re){var Oe=Object(le.a)(we,2),Pe=Oe[0],Ne=Oe[1],Ke=Object(le.a)(Re,2),Xe=Ke[0],wt=Ke[1];return Pe===Xe||Pe===wt||Ne===Xe||Ne===wt},ue=function(we,Re){for(var Oe=Math.min(we,Re),Pe=Math.max(we,Re),Ne=0;Ne<S;Ne++)T[Ne]===Pe&&(T[Ne]=Oe)},be=0;be<S;be++)for(var de=x[be],ke=be+1;ke<S;ke++){var he=x[ke];A(de,he)&&ue(T[be],T[ke])}for(var ge=[],ce=0;ce<S;ce++){for(var k=[],w=[],B=0;B<S;B++)if(T[B]===ce){var Y=Object(le.a)(x[B],2),pe=Y[0],me=Y[1];k.push(pe),w.push(me)}k.length>0&&ge.push({open:k,close:w})}return ge}var L=Object(ve.a)(function x(S,T){Object(E.a)(this,x),this._richEditBracketsBrand=void 0;var z=Q(T);this.brackets=z.map(function(w,B){return new y(S,B,w.open,w.close,W(w.open,w.close,z,B),F(w.open,w.close,z,B))}),this.forwardRegex=V(this.brackets),this.reversedRegex=N(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;var A=Object(De.a)(this.brackets),ue;try{for(A.s();!(ue=A.n()).done;){var be=ue.value,de=Object(De.a)(be.open),ke;try{for(de.s();!(ke=de.n()).done;){var he=ke.value;this.textIsBracket[he]=be,this.textIsOpenBracket[he]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,he.length)}}catch(w){de.e(w)}finally{de.f()}var ge=Object(De.a)(be.close),ce;try{for(ge.s();!(ce=ge.n()).done;){var k=ce.value;this.textIsBracket[k]=be,this.textIsOpenBracket[k]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,k.length)}}catch(w){ge.e(w)}finally{ge.f()}}}catch(w){A.e(w)}finally{A.f()}});function ne(x,S,T,z){for(var A=0,ue=S.length;A<ue;A++)if(A!==T){var be=S[A],de=Object(De.a)(be.open),ke;try{for(de.s();!(ke=de.n()).done;){var he=ke.value;he.indexOf(x)>=0&&z.push(he)}}catch(w){de.e(w)}finally{de.f()}var ge=Object(De.a)(be.close),ce;try{for(ge.s();!(ce=ge.n()).done;){var k=ce.value;k.indexOf(x)>=0&&z.push(k)}}catch(w){ge.e(w)}finally{ge.f()}}}function ee(x,S){return x.length-S.length}function H(x){if(x.length<=1)return x;var S=[],T=new Set,z=Object(De.a)(x),A;try{for(z.s();!(A=z.n()).done;){var ue=A.value;T.has(ue)||(S.push(ue),T.add(ue))}}catch(be){z.e(be)}finally{z.f()}return S}function W(x,S,T,z){var A=[];A=A.concat(x),A=A.concat(S);for(var ue=0,be=A.length;ue<be;ue++)ne(A[ue],T,z,A);return A=H(A),A.sort(ee),A.reverse(),d(A)}function F(x,S,T,z){var A=[];A=A.concat(x),A=A.concat(S);for(var ue=0,be=A.length;ue<be;ue++)ne(A[ue],T,z,A);return A=H(A),A.sort(ee),A.reverse(),d(A.map(j))}function V(x){var S=[],T=Object(De.a)(x),z;try{for(T.s();!(z=T.n()).done;){var A=z.value,ue=Object(De.a)(A.open),be;try{for(ue.s();!(be=ue.n()).done;){var de=be.value;S.push(de)}}catch(ce){ue.e(ce)}finally{ue.f()}var ke=Object(De.a)(A.close),he;try{for(ke.s();!(he=ke.n()).done;){var ge=he.value;S.push(ge)}}catch(ce){ke.e(ce)}finally{ke.f()}}}catch(ce){T.e(ce)}finally{T.f()}return S=H(S),d(S)}function N(x){var S=[],T=Object(De.a)(x),z;try{for(T.s();!(z=T.n()).done;){var A=z.value,ue=Object(De.a)(A.open),be;try{for(ue.s();!(be=ue.n()).done;){var de=be.value;S.push(de)}}catch(ce){ue.e(ce)}finally{ue.f()}var ke=Object(De.a)(A.close),he;try{for(ke.s();!(he=ke.n()).done;){var ge=he.value;S.push(ge)}}catch(ce){ke.e(ce)}finally{ke.f()}}}catch(ce){T.e(ce)}finally{T.f()}return S=H(S),d(S.map(j))}function U(x){var S=/^[\w ]+$/.test(x);return x=re.t(x),S?"\\b".concat(x,"\\b"):x}function d(x){var S="(".concat(x.map(U).join(")|("),")");return re.q(S,!0)}var j=function(){function x(z){for(var A=new Uint16Array(z.length),ue=0,be=z.length-1;be>=0;be--)A[ue++]=z.charCodeAt(be);return J.c().decode(A)}var S=null,T=null;return function(A){return S!==A&&(S=A,T=x(S)),T}}(),C=function(){function x(){Object(E.a)(this,x)}return Object(ve.a)(x,null,[{key:"_findPrevBracketInText",value:function(T,z,A,ue){var be=A.match(T);if(!be)return null;var de=A.length-(be.index||0),ke=be[0].length,he=ue+de;return new $.a(z,he-ke+1,z,he+1)}},{key:"findPrevBracketInRange",value:function(T,z,A,ue,be){var de=j(A),ke=de.substring(A.length-be,A.length-ue);return this._findPrevBracketInText(T,z,ke,ue)}},{key:"findNextBracketInText",value:function(T,z,A,ue){var be=A.match(T);if(!be)return null;var de=be.index||0,ke=be[0].length;if(ke===0)return null;var he=ue+de;return new $.a(z,he+1,z,he+1+ke)}},{key:"findNextBracketInRange",value:function(T,z,A,ue,be){var de=A.substring(ue,be);return this.findNextBracketInText(T,z,de,ue)}}]),x}()},gCVg:function(fn,K,a){"use strict";a.d(K,"a",function(){return $});var le=a("fWQN"),De=a("mtLc"),E=a("yKVA"),ve=a("879j"),re=a("cGHE"),J=a("aokT"),$=function(y){Object(E.a)(L,y);var Q=Object(ve.a)(L);function L(ne,ee,H,W){var F;return Object(le.a)(this,L),F=Q.call(this,ne,ee,H,W),F.selectionStartLineNumber=ne,F.selectionStartColumn=ee,F.positionLineNumber=H,F.positionColumn=W,F}return Object(De.a)(L,[{key:"toString",value:function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}},{key:"equalsSelection",value:function(ee){return L.selectionsEqual(this,ee)}},{key:"getDirection",value:function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}},{key:"setEndPosition",value:function(ee,H){return this.getDirection()===0?new L(this.startLineNumber,this.startColumn,ee,H):new L(ee,H,this.startLineNumber,this.startColumn)}},{key:"getPosition",value:function(){return new re.a(this.positionLineNumber,this.positionColumn)}},{key:"getSelectionStart",value:function(){return new re.a(this.selectionStartLineNumber,this.selectionStartColumn)}},{key:"setStartPosition",value:function(ee,H){return this.getDirection()===0?new L(ee,H,this.endLineNumber,this.endColumn):new L(this.endLineNumber,this.endColumn,ee,H)}}],[{key:"selectionsEqual",value:function(ee,H){return ee.selectionStartLineNumber===H.selectionStartLineNumber&&ee.selectionStartColumn===H.selectionStartColumn&&ee.positionLineNumber===H.positionLineNumber&&ee.positionColumn===H.positionColumn}},{key:"fromPositions",value:function(ee){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ee;return new L(ee.lineNumber,ee.column,H.lineNumber,H.column)}},{key:"fromRange",value:function(ee,H){return H===0?new L(ee.startLineNumber,ee.startColumn,ee.endLineNumber,ee.endColumn):new L(ee.endLineNumber,ee.endColumn,ee.startLineNumber,ee.startColumn)}},{key:"liftSelection",value:function(ee){return new L(ee.selectionStartLineNumber,ee.selectionStartColumn,ee.positionLineNumber,ee.positionColumn)}},{key:"selectionsArrEqual",value:function(ee,H){if(ee&&!H||!ee&&H)return!1;if(!ee&&!H)return!0;if(ee.length!==H.length)return!1;for(var W=0,F=ee.length;W<F;W++)if(!this.selectionsEqual(ee[W],H[W]))return!1;return!0}},{key:"isISelection",value:function(ee){return ee&&typeof ee.selectionStartLineNumber=="number"&&typeof ee.selectionStartColumn=="number"&&typeof ee.positionLineNumber=="number"&&typeof ee.positionColumn=="number"}},{key:"createWithDirection",value:function(ee,H,W,F,V){return V===0?new L(ee,H,W,F):new L(W,F,ee,H)}}]),L}(J.a)},gslv:function(fn,K,a){"use strict";a.d(K,"j",function(){return L}),a.d(K,"e",function(){return ee}),a.d(K,"g",function(){return F}),a.d(K,"c",function(){return U}),a.d(K,"b",function(){return d}),a.d(K,"f",function(){return j}),a.d(K,"d",function(){return C}),a.d(K,"h",function(){return x}),a.d(K,"i",function(){return S}),a.d(K,"k",function(){return T}),a.d(K,"l",function(){return z}),a.d(K,"a",function(){return he});var le=a("tJVT"),De=a("fWQN"),E=a("mtLc"),ve=a("PTeM"),re=a("tYmi"),J=a("MrjW"),$=a("MNsG"),y=a("N0LK"),Q=a("bY76");function L(ge){return Object(Q.b)(ge,!0)}var ne=function(){function ge(ce){Object(De.a)(this,ge),this._ignorePathCasing=ce}return Object(E.a)(ge,[{key:"compare",value:function(k,w){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return k===w?0:Object(y.h)(this.getComparisonKey(k,B),this.getComparisonKey(w,B))}},{key:"isEqual",value:function(k,w){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return k===w?!0:!k||!w?!1:this.getComparisonKey(k,B)===this.getComparisonKey(w,B)}},{key:"getComparisonKey",value:function(k){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return k.with({path:this._ignorePathCasing(k)?k.path.toLowerCase():void 0,fragment:w?null:void 0}).toString()}},{key:"isEqualOrParent",value:function(k,w){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(k.scheme===w.scheme){if(k.scheme===re.c.file)return ve.c(L(k),L(w),this._ignorePathCasing(k))&&k.query===w.query&&(B||k.fragment===w.fragment);if(ue(k.authority,w.authority))return ve.c(k.path,w.path,this._ignorePathCasing(k),"/")&&k.query===w.query&&(B||k.fragment===w.fragment)}return!1}},{key:"joinPath",value:function(k){for(var w=arguments.length,B=new Array(w>1?w-1:0),Y=1;Y<w;Y++)B[Y-1]=arguments[Y];return Q.a.joinPath.apply(Q.a,[k].concat(B))}},{key:"basenameOrAuthority",value:function(k){return d(k)||k.authority}},{key:"basename",value:function(k){return J.e.basename(k.path)}},{key:"extname",value:function(k){return J.e.extname(k.path)}},{key:"dirname",value:function(k){if(k.path.length===0)return k;var w;return k.scheme===re.c.file?w=Q.a.file(J.b(L(k))).path:(w=J.e.dirname(k.path),k.authority&&w.length&&w.charCodeAt(0)!==47&&(console.error('dirname("'.concat(k.toString,")) resulted in a relative path")),w="/")),k.with({path:w})}},{key:"normalizePath",value:function(k){if(!k.path.length)return k;var w;return k.scheme===re.c.file?w=Q.a.file(J.d(L(k))).path:w=J.e.normalize(k.path),k.with({path:w})}},{key:"relativePath",value:function(k,w){if(!(k.scheme!==w.scheme||!ue(k.authority,w.authority))){if(k.scheme===re.c.file){var B=J.f(L(k),L(w));return $.o?ve.e(B):B}var Y=k.path||"/",pe=w.path||"/";if(this._ignorePathCasing(k)){for(var me=0,I=Math.min(Y.length,pe.length);me<I&&!(Y.charCodeAt(me)!==pe.charCodeAt(me)&&Y.charAt(me).toLowerCase()!==pe.charAt(me).toLowerCase());me++);Y=pe.substr(0,me)+Y.substr(me)}return J.e.relative(Y,pe)}}},{key:"resolvePath",value:function(k,w){if(k.scheme===re.c.file){var B=Q.a.file(J.g(L(k),w));return k.with({authority:B.authority,path:B.path})}return w=ve.d(w),k.with({path:J.e.resolve(k.path,w)})}},{key:"isAbsolutePath",value:function(k){return!!k.path&&k.path[0]==="/"}},{key:"isEqualAuthority",value:function(k,w){return k===w||k!==void 0&&w!==void 0&&Object(y.r)(k,w)}},{key:"hasTrailingPathSeparator",value:function(k){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J.h;if(k.scheme===re.c.file){var B=L(k);return B.length>ve.a(B).length&&B[B.length-1]===w}else{var Y=k.path;return Y.length>1&&Y.charCodeAt(Y.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(k.fsPath)}}},{key:"removeTrailingPathSeparator",value:function(k){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J.h;return be(k,w)?k.with({path:k.path.substr(0,k.path.length-1)}):k}},{key:"addTrailingPathSeparator",value:function(k){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J.h,B=!1;if(k.scheme===re.c.file){var Y=L(k);B=Y!==void 0&&Y.length===ve.a(Y).length&&Y[Y.length-1]===w}else{w="/";var pe=k.path;B=pe.length===1&&pe.charCodeAt(pe.length-1)===47}return!B&&!be(k,w)?k.with({path:k.path+"/"}):k}}]),ge}(),ee=new ne(function(){return!1}),H=new ne(function(ge){return ge.scheme===re.c.file?!$.g:!0}),W=new ne(function(ge){return!0}),F=ee.isEqual.bind(ee),V=ee.isEqualOrParent.bind(ee),N=ee.getComparisonKey.bind(ee),U=ee.basenameOrAuthority.bind(ee),d=ee.basename.bind(ee),j=ee.extname.bind(ee),C=ee.dirname.bind(ee),x=ee.joinPath.bind(ee),S=ee.normalizePath.bind(ee),T=ee.relativePath.bind(ee),z=ee.resolvePath.bind(ee),A=ee.isAbsolutePath.bind(ee),ue=ee.isEqualAuthority.bind(ee),be=ee.hasTrailingPathSeparator.bind(ee),de=ee.removeTrailingPathSeparator.bind(ee),ke=ee.addTrailingPathSeparator.bind(ee),he;(function(ge){ge.META_DATA_LABEL="label",ge.META_DATA_DESCRIPTION="description",ge.META_DATA_SIZE="size",ge.META_DATA_MIME="mime";function ce(k){var w=new Map,B=k.path.substring(k.path.indexOf(";")+1,k.path.lastIndexOf(";"));B.split(";").forEach(function(pe){var me=pe.split(":"),I=Object(le.a)(me,2),we=I[0],Re=I[1];we&&Re&&w.set(we,Re)});var Y=k.path.substring(0,k.path.indexOf(";"));return Y&&w.set(ge.META_DATA_MIME,Y),w}ge.parseMetaData=ce})(he||(he={}))},h5s8:function(fn,K,a){"use strict";a.d(K,"b",function(){return ve}),a.d(K,"a",function(){return J}),a.d(K,"c",function(){return $}),a.d(K,"d",function(){return Q});var le=a("rAM+"),De=a("JYp7"),E=a("24hK"),ve="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function re(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ee="(-?\\d*\\.\\d\\w*)|([^",H=Object(le.a)(ve),W;try{for(H.s();!(W=H.n()).done;){var F=W.value;ne.indexOf(F)>=0||(ee+="\\"+F)}}catch(V){H.e(V)}finally{H.f()}return ee+="\\s]+)",new RegExp(ee,"g")}var J=re();function $(ne){var ee=J;if(ne&&ne instanceof RegExp)if(ne.global)ee=ne;else{var H="g";ne.ignoreCase&&(H+="i"),ne.multiline&&(H+="m"),ne.unicode&&(H+="u"),ee=new RegExp(ne.source,H)}return ee.lastIndex=0,ee}var y=new E.a;y.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function Q(ne,ee,H,W,F){if(F||(F=De.a.first(y)),H.length>F.maxLen){var V=ne-F.maxLen/2;return V<0?V=0:W+=V,H=H.substring(V,ne+F.maxLen/2),Q(ne,ee,H,W,F)}for(var N=Date.now(),U=ne-1-W,d=-1,j=null,C=1;!(Date.now()-N>=F.timeBudget);C++){var x=U-F.windowSize*C;ee.lastIndex=Math.max(0,x);var S=L(ee,H,U,d);if(!S&&j||(j=S,x<=0))break;d=x}if(j){var T={word:j[0],startColumn:W+1+j.index,endColumn:W+1+j.index+j[0].length};return ee.lastIndex=0,T}return null}function L(ne,ee,H,W){for(var F;F=ne.exec(ee);){var V=F.index||0;if(V<=H&&ne.lastIndex>=H)return F;if(W>0&&V>W)return null}return null}},hGVw:function(fn,K,a){},hHjc:function(fn,K,a){},hcYv:function(fn,K,a){"use strict";a.d(K,"a",function(){return L});var le=a("rAM+"),De=a("oBTY"),E=a("fWQN"),ve=a("mtLc"),re=a("aokT"),J=a("jAJ/"),$=a("N0LK"),y=a("FWmy"),Q=a("h5s8"),L=function(){function W(){Object(E.a)(this,W)}return Object(ve.a)(W,null,[{key:"computeUnicodeHighlights",value:function(V,N,U){var d=U?U.startLineNumber:1,j=U?U.endLineNumber:V.getLineCount(),C=new ee(N),x=C.getCandidateCodePoints(),S;x==="allNonBasicAscii"?S=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):S=new RegExp("".concat(ne(Array.from(x))),"g");var T=new J.b(null,S),z=[],A=!1,ue,be=0,de=0,ke=0;e:for(var he=d,ge=j;he<=ge;he++){var ce=V.getLineContent(he),k=ce.length;T.reset(0);do if(ue=T.next(ce),ue){var w=ue.index,B=ue.index+ue[0].length;if(w>0){var Y=ce.charCodeAt(w-1);$.F(Y)&&w--}if(B+1<k){var pe=ce.charCodeAt(B-1);$.F(pe)&&B++}var me=ce.substring(w,B),I=Object(Q.d)(w+1,Q.a,ce,0);I&&I.endColumn<=w+1&&(I=null);var we=C.shouldHighlightNonBasicASCII(me,I?I.word:null);if(we!==0){we===3?be++:we===2?de++:we===1?ke++:Object(y.b)(we);var Re=1e3;if(z.length>=Re){A=!0;break e}z.push(new re.a(he,w+1,he,B+1))}}while(ue)}return{ranges:z,hasMore:A,ambiguousCharacterCount:be,invisibleCharacterCount:de,nonBasicAsciiCharacterCount:ke}}},{key:"computeUnicodeHighlightReason",value:function(V,N){var U=new ee(N),d=U.shouldHighlightNonBasicASCII(V,null);switch(d){case 0:return null;case 2:return{kind:1};case 3:{var j=V.codePointAt(0),C=U.ambiguousCharacters.getPrimaryConfusable(j),x=$.a.getLocales().filter(function(S){return!$.a.getInstance(new Set([].concat(Object(De.a)(N.allowedLocales),[S]))).isAmbiguous(j)});return{kind:0,confusableWith:String.fromCodePoint(C),notAmbiguousInLocales:x}}case 1:return{kind:2}}}}]),W}();function ne(W,F){var V="[".concat($.t(W.map(function(N){return String.fromCodePoint(N)}).join("")),"]");return V}var ee=function(){function W(F){Object(E.a)(this,W),this.options=F,this.allowedCodePoints=new Set(F.allowedCodePoints),this.ambiguousCharacters=$.a.getInstance(new Set(F.allowedLocales))}return Object(ve.a)(W,[{key:"getCandidateCodePoints",value:function(){if(this.options.nonBasicASCII)return"allNonBasicAscii";var V=new Set;if(this.options.invisibleCharacters){var N=Object(le.a)($.c.codePoints),U;try{for(N.s();!(U=N.n()).done;){var d=U.value;H(String.fromCodePoint(d))||V.add(d)}}catch(A){N.e(A)}finally{N.f()}}if(this.options.ambiguousCharacters){var j=Object(le.a)(this.ambiguousCharacters.getConfusableCodePoints()),C;try{for(j.s();!(C=j.n()).done;){var x=C.value;V.add(x)}}catch(A){j.e(A)}finally{j.f()}}var S=Object(le.a)(this.allowedCodePoints),T;try{for(S.s();!(T=S.n()).done;){var z=T.value;V.delete(z)}}catch(A){S.e(A)}finally{S.f()}return V}},{key:"shouldHighlightNonBasicASCII",value:function(V,N){var U=V.codePointAt(0);if(this.allowedCodePoints.has(U))return 0;if(this.options.nonBasicASCII)return 1;var d=!1,j=!1;if(N){var C=Object(le.a)(N),x;try{for(C.s();!(x=C.n()).done;){var S=x.value,T=S.codePointAt(0),z=$.B(S);d=d||z,!z&&!this.ambiguousCharacters.isAmbiguous(T)&&!$.c.isInvisibleCharacter(T)&&(j=!0)}}catch(A){C.e(A)}finally{C.f()}}return!d&&j?0:this.options.invisibleCharacters&&!H(V)&&$.c.isInvisibleCharacter(U)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(U)?3:0}}]),W}();function H(W){return W===" "||W===`
`||W==="	"}},"i/Rh":function(fn,K,a){},i04g:function(fn,K,a){"use strict";a.d(K,"c",function(){return re}),a.d(K,"a",function(){return J}),a.d(K,"b",function(){return $}),a.d(K,"d",function(){return y});var le=a("fWQN"),De=a("mtLc"),E=a("3/fG"),ve=function(){function L(ne,ee){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ee;Object(le.a)(this,L),this.modifierLabels=[null],this.modifierLabels[2]=ne,this.modifierLabels[1]=ee,this.modifierLabels[3]=H}return Object(De.a)(L,[{key:"toLabel",value:function(ee,H,W){if(H.length===0)return null;for(var F=[],V=0,N=H.length;V<N;V++){var U=H[V],d=W(U);if(d===null)return null;F[V]=Q(U,d,this.modifierLabels[ee])}return F.join(" ")}}]),L}(),re=new ve({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:E.b({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:E.b({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:E.b({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:E.b({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:E.b({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:E.b({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:E.b({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:E.b({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),J=new ve({ctrlKey:E.b({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E.b({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E.b({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:E.b({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:E.b({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E.b({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E.b({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:E.b({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:E.b({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E.b({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E.b({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:E.b({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),$=new ve({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),y=new ve({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function Q(L,ne,ee){if(ne===null)return"";var H=[];return L.ctrlKey&&H.push(ee.ctrlKey),L.shiftKey&&H.push(ee.shiftKey),L.altKey&&H.push(ee.altKey),L.metaKey&&H.push(ee.metaKey),ne!==""&&H.push(ne),H.join(ee.separator)}},i55F:function(fn,K,a){"use strict";a.d(K,"a",function(){return ee});var le=a("qLMh"),De=a("rAM+"),E=a("tJVT"),ve=a("fWQN"),re=a("mtLc"),J=a("N0LK"),$=function(){function H(){Object(ve.a)(this,H),this._value="",this._pos=0}return Object(re.a)(H,[{key:"reset",value:function(F){return this._value=F,this._pos=0,this}},{key:"next",value:function(){return this._pos+=1,this}},{key:"hasNext",value:function(){return this._pos<this._value.length-1}},{key:"cmp",value:function(F){var V=F.charCodeAt(0),N=this._value.charCodeAt(this._pos);return V-N}},{key:"value",value:function(){return this._value[this._pos]}}]),H}(),y=function(){function H(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Object(ve.a)(this,H),this._caseSensitive=W}return Object(re.a)(H,[{key:"reset",value:function(F){return this._value=F,this._from=0,this._to=0,this.next()}},{key:"hasNext",value:function(){return this._to<this._value.length}},{key:"next",value:function(){this._from=this._to;for(var F=!0;this._to<this._value.length;this._to++){var V=this._value.charCodeAt(this._to);if(V===46)if(F)this._from++;else break;else F=!1}return this}},{key:"cmp",value:function(F){return this._caseSensitive?Object(J.j)(F,this._value,0,F.length,this._from,this._to):Object(J.k)(F,this._value,0,F.length,this._from,this._to)}},{key:"value",value:function(){return this._value.substring(this._from,this._to)}}]),H}(),Q=function(){function H(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Object(ve.a)(this,H),this._splitOnBackslash=W,this._caseSensitive=F}return Object(re.a)(H,[{key:"reset",value:function(F){this._from=0,this._to=0,this._value=F,this._valueLen=F.length;for(var V=F.length-1;V>=0;V--,this._valueLen--){var N=this._value.charCodeAt(V);if(!(N===47||this._splitOnBackslash&&N===92))break}return this.next()}},{key:"hasNext",value:function(){return this._to<this._valueLen}},{key:"next",value:function(){this._from=this._to;for(var F=!0;this._to<this._valueLen;this._to++){var V=this._value.charCodeAt(this._to);if(V===47||this._splitOnBackslash&&V===92)if(F)this._from++;else break;else F=!1}return this}},{key:"cmp",value:function(F){return this._caseSensitive?Object(J.j)(F,this._value,0,F.length,this._from,this._to):Object(J.k)(F,this._value,0,F.length,this._from,this._to)}},{key:"value",value:function(){return this._value.substring(this._from,this._to)}}]),H}(),L=function(){function H(W,F){Object(ve.a)(this,H),this._ignorePathCasing=W,this._ignoreQueryAndFragment=F,this._states=[],this._stateIdx=0}return Object(re.a)(H,[{key:"reset",value:function(F){return this._value=F,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Q(!1,!this._ignorePathCasing(F)),this._pathIterator.reset(F.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(F)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}},{key:"next",value:function(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}},{key:"hasNext",value:function(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}},{key:"cmp",value:function(F){if(this._states[this._stateIdx]===1)return Object(J.i)(F,this._value.scheme);if(this._states[this._stateIdx]===2)return Object(J.i)(F,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(F);if(this._states[this._stateIdx]===4)return Object(J.h)(F,this._value.query);if(this._states[this._stateIdx]===5)return Object(J.h)(F,this._value.fragment);throw new Error}},{key:"value",value:function(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}]),H}(),ne=function(){function H(){Object(ve.a)(this,H),this.height=1}return Object(re.a)(H,[{key:"rotateLeft",value:function(){var F=this.right;return this.right=F.left,F.left=this,this.updateHeight(),F.updateHeight(),F}},{key:"rotateRight",value:function(){var F=this.left;return this.left=F.right,F.right=this,this.updateHeight(),F.updateHeight(),F}},{key:"updateHeight",value:function(){this.height=1+Math.max(this.heightLeft,this.heightRight)}},{key:"balanceFactor",value:function(){return this.heightRight-this.heightLeft}},{key:"heightLeft",get:function(){var F,V;return(V=(F=this.left)===null||F===void 0?void 0:F.height)!==null&&V!==void 0?V:0}},{key:"heightRight",get:function(){var F,V;return(V=(F=this.right)===null||F===void 0?void 0:F.height)!==null&&V!==void 0?V:0}}]),H}(),ee=function(H){function W(F){Object(ve.a)(this,W),this._iter=F}return Object(re.a)(W,[{key:"clear",value:function(){this._root=void 0}},{key:"set",value:function(V,N){var U=this._iter.reset(V),d;this._root||(this._root=new ne,this._root.segment=U.value());var j=[];for(d=this._root;;){var C=U.cmp(d.segment);if(C>0)d.left||(d.left=new ne,d.left.segment=U.value()),j.push([-1,d]),d=d.left;else if(C<0)d.right||(d.right=new ne,d.right.segment=U.value()),j.push([1,d]),d=d.right;else if(U.hasNext())U.next(),d.mid||(d.mid=new ne,d.mid.segment=U.value()),j.push([0,d]),d=d.mid;else break}var x=d.value;d.value=N,d.key=V;for(var S=j.length-1;S>=0;S--){var T=j[S][1];T.updateHeight();var z=T.balanceFactor();if(z<-1||z>1){var A=j[S][0],ue=j[S+1][0];if(A===1&&ue===1)j[S][1]=T.rotateLeft();else if(A===-1&&ue===-1)j[S][1]=T.rotateRight();else if(A===1&&ue===-1)T.right=j[S+1][1]=j[S+1][1].rotateRight(),j[S][1]=T.rotateLeft();else if(A===-1&&ue===1)T.left=j[S+1][1]=j[S+1][1].rotateLeft(),j[S][1]=T.rotateRight();else throw new Error;if(S>0)switch(j[S-1][0]){case-1:j[S-1][1].left=j[S][1];break;case 1:j[S-1][1].right=j[S][1];break;case 0:j[S-1][1].mid=j[S][1];break}else this._root=j[0][1]}}return x}},{key:"get",value:function(V){var N;return(N=this._getNode(V))===null||N===void 0?void 0:N.value}},{key:"_getNode",value:function(V){for(var N=this._iter.reset(V),U=this._root;U;){var d=N.cmp(U.segment);if(d>0)U=U.left;else if(d<0)U=U.right;else if(N.hasNext())N.next(),U=U.mid;else break}return U}},{key:"has",value:function(V){var N=this._getNode(V);return!((N==null?void 0:N.value)===void 0&&(N==null?void 0:N.mid)===void 0)}},{key:"delete",value:function(V){return this._delete(V,!1)}},{key:"deleteSuperstr",value:function(V){return this._delete(V,!0)}},{key:"_delete",value:function(V,N){for(var U,d=this._iter.reset(V),j=[],C=this._root;C;){var x=d.cmp(C.segment);if(x>0)j.push([-1,C]),C=C.left;else if(x<0)j.push([1,C]),C=C.right;else if(d.hasNext())d.next(),j.push([0,C]),C=C.mid;else break}if(!!C){if(N?(C.left=void 0,C.mid=void 0,C.right=void 0,C.height=1):(C.key=void 0,C.value=void 0),!C.mid&&!C.value)if(C.left&&C.right){var S=this._min(C.right);if(S.key){var T=S.key,z=S.value,A=S.segment;this._delete(S.key,!1),C.key=T,C.value=z,C.segment=A}}else{var ue=(U=C.left)!==null&&U!==void 0?U:C.right;if(j.length>0){var be=Object(E.a)(j[j.length-1],2),de=be[0],ke=be[1];switch(de){case-1:ke.left=ue;break;case 0:ke.mid=ue;break;case 1:ke.right=ue;break}}else this._root=ue}for(var he=j.length-1;he>=0;he--){var ge=j[he][1];ge.updateHeight();var ce=ge.balanceFactor();if(ce>1?(ge.right.balanceFactor()>=0||(ge.right=ge.right.rotateRight()),j[he][1]=ge.rotateLeft()):ce<-1&&(ge.left.balanceFactor()<=0||(ge.left=ge.left.rotateLeft()),j[he][1]=ge.rotateRight()),he>0)switch(j[he-1][0]){case-1:j[he-1][1].left=j[he][1];break;case 1:j[he-1][1].right=j[he][1];break;case 0:j[he-1][1].mid=j[he][1];break}else this._root=j[0][1]}}}},{key:"_min",value:function(V){for(;V.left;)V=V.left;return V}},{key:"findSubstr",value:function(V){for(var N=this._iter.reset(V),U=this._root,d=void 0;U;){var j=N.cmp(U.segment);if(j>0)U=U.left;else if(j<0)U=U.right;else if(N.hasNext())N.next(),d=U.value||d,U=U.mid;else break}return U&&U.value||d}},{key:"findSuperstr",value:function(V){return this._findSuperstrOrElement(V,!1)}},{key:"_findSuperstrOrElement",value:function(V,N){for(var U=this._iter.reset(V),d=this._root;d;){var j=U.cmp(d.segment);if(j>0)d=d.left;else if(j<0)d=d.right;else if(U.hasNext())U.next(),d=d.mid;else return d.mid?this._entries(d.mid):N?d.value:void 0}}},{key:"forEach",value:function(V){var N=Object(De.a)(this),U;try{for(N.s();!(U=N.n()).done;){var d=U.value,j=Object(E.a)(d,2),C=j[0],x=j[1];V(x,C)}}catch(S){N.e(S)}finally{N.f()}}},{key:H,value:Object(le.a)().mark(function F(){return Object(le.a)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.delegateYield(this._entries(this._root),"t0",1);case 1:case"end":return N.stop()}},F,this)})},{key:"_entries",value:function(V){var N=[];return this._dfsEntries(V,N),N[Symbol.iterator]()}},{key:"_dfsEntries",value:function(V,N){!V||(V.left&&this._dfsEntries(V.left,N),V.value&&N.push([V.key,V.value]),V.mid&&this._dfsEntries(V.mid,N),V.right&&this._dfsEntries(V.right,N))}}],[{key:"forUris",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!1};return new W(new L(V,N))}},{key:"forStrings",value:function(){return new W(new $)}},{key:"forConfigKeys",value:function(){return new W(new y)}}]),W}(Symbol.iterator)},iMk3:function(fn,K,a){},iOmF:function(fn,K,a){"use strict";a.d(K,"a",function(){return z});var le=a("GNNt"),De=a("wEI+"),E=a("Ff2n"),ve=a("rePB"),re=a("VTBJ"),J=a("ODXe"),$=a("nKUr"),y=a("q1tI"),Q=a.n(y),L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"},ne=L,ee=a("6VBw"),H=function(ue,be){return y.createElement(ee.a,Object(re.a)(Object(re.a)({},ue),{},{ref:be,icon:ne}))};H.displayName="FilterOutlined";var W=y.forwardRef(H),F=a("LQCs"),V=a("iGn7"),N=a("JtZC"),U=a("TSYQ"),d=a.n(U),j=a("BGR+"),C=a("T1Ok"),x=a("JF8p"),S=["size","collapse","collapseLabel","initialValues","onValuesChange","form","placement","formRef","bordered","ignoreRules","footerRender"],T=function(ue){var be=ue.items,de=ue.prefixCls,ke=ue.size,he=ke===void 0?"middle":ke,ge=ue.collapse,ce=ue.collapseLabel,k=ue.onValuesChange,w=ue.bordered,B=ue.values,Y=ue.footerRender,pe=ue.placement,me=Object(F.d)(),I="".concat(de,"-light-filter"),we=Object(y.useState)(!1),Re=Object(J.a)(we,2),Oe=Re[0],Pe=Re[1],Ne=Object(y.useState)(function(){return Object(re.a)({},B)}),Ke=Object(J.a)(Ne,2),Xe=Ke[0],wt=Ke[1];Object(y.useEffect)(function(){wt(Object(re.a)({},B))},[B]);var Ct=Object(y.useMemo)(function(){var Je=[],Wt=[];return be.forEach(function(Te){var fe=Te.props||{},ye=fe.secondary;ye||ge?Je.push(Te):Wt.push(Te)}),{collapseItems:Je,outsideItems:Wt}},[ue.items]),bt=Ct.collapseItems,mt=Ct.outsideItems,jt=function(){return ce||(ge?Object($.jsx)(W,{className:"".concat(I,"-collapse-icon")}):Object($.jsx)(V.a,{size:he,label:me.getMessage("form.lightFilter.more","\u66F4\u591A\u7B5B\u9009"),expanded:Oe}))};return Object($.jsx)("div",{className:d()(I,"".concat(I,"-").concat(he),Object(ve.a)({},"".concat(I,"-effective"),Object.keys(B).some(function(Je){return B[Je]}))),children:Object($.jsxs)("div",{className:"".concat(I,"-container"),children:[mt.map(function(Je,Wt){var Te=Je.key,fe=Je.props.fieldProps,ye=(fe==null?void 0:fe.placement)?fe==null?void 0:fe.placement:pe;return Object($.jsx)("div",{className:"".concat(I,"-item"),children:Q.a.cloneElement(Je,{fieldProps:Object(re.a)(Object(re.a)({},Je.props.fieldProps),{},{placement:ye}),proFieldProps:{light:!0,label:Je.props.label,bordered:w},bordered:w})},Te||Wt)}),bt.length?Object($.jsx)("div",{className:"".concat(I,"-item"),children:Object($.jsx)(N.a,{padding:24,onVisibleChange:Pe,visible:Oe,placement:pe,label:jt(),footerRender:Y,footer:{onConfirm:function(){k(Object(re.a)({},Xe)),Pe(!1)},onClear:function(){var Wt={};bt.forEach(function(Te){var fe=Te.props.name;Wt[fe]=void 0}),k(Wt)}},children:bt.map(function(Je){var Wt=Je.key,Te=Je.props,fe=Te.name,ye=Te.fieldProps,Ee=Object(re.a)(Object(re.a)({},ye),{},{onChange:function(We){return wt(Object(re.a)(Object(re.a)({},Xe),{},Object(ve.a)({},fe,(We==null?void 0:We.target)?We.target.value:We))),!1}});Xe.hasOwnProperty(fe)&&(Ee[Je.props.valuePropName||"value"]=Xe[fe]);var Ge=(ye==null?void 0:ye.placement)?ye==null?void 0:ye.placement:pe;return Object($.jsx)("div",{className:"".concat(I,"-line"),children:Q.a.cloneElement(Je,{fieldProps:Object(re.a)(Object(re.a)({},Ee),{},{placement:Ge})})},Wt)})})},"more"):null]})})};function z(A){var ue=A.size,be=A.collapse,de=A.collapseLabel,ke=A.initialValues,he=A.onValuesChange,ge=A.form,ce=A.placement,k=A.formRef,w=A.bordered,B=A.ignoreRules,Y=A.footerRender,pe=Object(E.a)(A,S),me=Object(y.useContext)(De.a.ConfigContext),I=me.getPrefixCls,we=I("pro-form"),Re=Object(y.useState)(function(){return Object(re.a)({},ke)}),Oe=Object(J.a)(Re,2),Pe=Oe[0],Ne=Oe[1],Ke=Object(y.useRef)();return Object(y.useImperativeHandle)(k,function(){return Ke.current}),Object($.jsx)(C.a,Object(re.a)(Object(re.a)({size:ue,initialValues:ke,form:ge,contentRender:function(wt){return Object($.jsx)(T,{prefixCls:we,items:wt.flatMap(function(Ct){return(Ct==null?void 0:Ct.type.displayName)==="ProForm-Group"?Ct.props.children:Ct}),size:ue,bordered:w,collapse:be,collapseLabel:de,placement:ce,values:Pe||{},footerRender:Y,onValuesChange:function(bt){var mt,jt,Je=Object(re.a)(Object(re.a)({},Pe),bt);Ne(Je),(mt=Ke.current)===null||mt===void 0||mt.setFieldsValue(Je),(jt=Ke.current)===null||jt===void 0||jt.submit(),he&&he(bt,Je)}})},formRef:Ke,formItemProps:{colon:!1,labelAlign:"left"},fieldProps:{style:{width:void 0}}},Object(j.a)(pe,["labelWidth"])),{},{onValuesChange:function(wt,Ct){var bt;Ne(Ct),he==null||he(wt,Ct),(bt=Ke.current)===null||bt===void 0||bt.submit()}}))}},ic2d:function(fn,K,a){"use strict";a.d(K,"a",function(){return J});var le=a("fWQN"),De=a("mtLc"),E=a("FWmy"),ve=a("746U"),re=function(){function $(){Object(le.a)(this,$),this.data=new Map}return Object(De.a)($,[{key:"add",value:function(Q,L){E.d(ve.i(Q)),E.d(ve.h(L)),E.d(!this.data.has(Q),"There is already an extension with this id"),this.data.set(Q,L)}},{key:"as",value:function(Q){return this.data.get(Q)||null}}]),$}(),J=new re},iuje:function(fn,K,a){"use strict";a.d(K,"a",function(){return le});var le={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},j9oM:function(fn,K,a){"use strict";a.d(K,"a",function(){return y});var le=a("fWQN"),De=a("mtLc"),E=a("w4Tj"),ve=a("oZsa"),re=a("yKVA"),J=a("879j"),$=a("pmY6"),y=function(Q){Object(re.a)(ne,Q);var L=Object(J.a)(ne);function ne(){var ee;return Object(le.a)(this,ne),ee=L.apply(this,arguments),ee._isDisposed=!1,ee}return Object(De.a)(ne,[{key:"dispose",value:function(){Object(E.a)(Object(ve.a)(ne.prototype),"dispose",this).call(this),this._isDisposed=!0}},{key:"assertNotDisposed",value:function(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}]),ne}($.a)},"jAJ/":function(fn,K,a){"use strict";a.d(K,"a",function(){return Q}),a.d(K,"d",function(){return ne}),a.d(K,"c",function(){return H}),a.d(K,"e",function(){return V}),a.d(K,"b",function(){return N});var le=a("fWQN"),De=a("mtLc"),E=a("N0LK"),ve=a("Vk6M"),re=a("cGHE"),J=a("aokT"),$=a("M1Kb"),y=999,Q=function(){function U(d,j,C,x){Object(le.a)(this,U),this.searchString=d,this.isRegex=j,this.matchCase=C,this.wordSeparators=x}return Object(De.a)(U,[{key:"parseSearchRequest",value:function(){if(this.searchString==="")return null;var j;this.isRegex?j=L(this.searchString):j=this.searchString.indexOf(`
`)>=0;var C=null;try{C=E.q(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:j,global:!0,unicode:!0})}catch(S){return null}if(!C)return null;var x=!this.isRegex&&!j;return x&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(x=this.matchCase),new $.g(C,this.wordSeparators?Object(ve.a)(this.wordSeparators):null,x?this.searchString:null)}}]),U}();function L(U){if(!U||U.length===0)return!1;for(var d=0,j=U.length;d<j;d++){var C=U.charCodeAt(d);if(C===10)return!0;if(C===92){if(d++,d>=j)break;var x=U.charCodeAt(d);if(x===110||x===114||x===87)return!0}}return!1}function ne(U,d,j){if(!j)return new $.b(U,null);for(var C=[],x=0,S=d.length;x<S;x++)C[x]=d[x];return new $.b(U,C)}var ee=function(){function U(d){Object(le.a)(this,U);for(var j=[],C=0,x=0,S=d.length;x<S;x++)d.charCodeAt(x)===10&&(j[C++]=x);this._lineFeedsOffsets=j}return Object(De.a)(U,[{key:"findLineFeedCountBeforeOffset",value:function(j){var C=this._lineFeedsOffsets,x=0,S=C.length-1;if(S===-1||j<=C[0])return 0;for(;x<S;){var T=x+((S-x)/2>>0);C[T]>=j?S=T-1:C[T+1]>=j?(x=T,S=T):x=T+1}return x+1}}]),U}(),H=function(){function U(){Object(le.a)(this,U)}return Object(De.a)(U,null,[{key:"findMatches",value:function(j,C,x,S,T){var z=C.parseSearchRequest();return z?z.regex.multiline?this._doFindMatchesMultiline(j,x,new N(z.wordSeparators,z.regex),S,T):this._doFindMatchesLineByLine(j,x,z,S,T):[]}},{key:"_getMultilineMatchRange",value:function(j,C,x,S,T,z){var A,ue=0;S?(ue=S.findLineFeedCountBeforeOffset(T),A=C+T+ue):A=C+T;var be;if(S){var de=S.findLineFeedCountBeforeOffset(T+z.length),ke=de-ue;be=A+z.length+ke}else be=A+z.length;var he=j.getPositionAt(A),ge=j.getPositionAt(be);return new J.a(he.lineNumber,he.column,ge.lineNumber,ge.column)}},{key:"_doFindMatchesMultiline",value:function(j,C,x,S,T){var z=j.getOffsetAt(C.getStartPosition()),A=j.getValueInRange(C,1),ue=j.getEOL()===`\r
`?new ee(A):null,be=[],de=0,ke;for(x.reset(0);ke=x.next(A);)if(be[de++]=ne(this._getMultilineMatchRange(j,z,A,ue,ke.index,ke[0]),ke,S),de>=T)return be;return be}},{key:"_doFindMatchesLineByLine",value:function(j,C,x,S,T){var z=[],A=0;if(C.startLineNumber===C.endLineNumber){var ue=j.getLineContent(C.startLineNumber).substring(C.startColumn-1,C.endColumn-1);return A=this._findMatchesInLine(x,ue,C.startLineNumber,C.startColumn-1,A,z,S,T),z}var be=j.getLineContent(C.startLineNumber).substring(C.startColumn-1);A=this._findMatchesInLine(x,be,C.startLineNumber,C.startColumn-1,A,z,S,T);for(var de=C.startLineNumber+1;de<C.endLineNumber&&A<T;de++)A=this._findMatchesInLine(x,j.getLineContent(de),de,0,A,z,S,T);if(A<T){var ke=j.getLineContent(C.endLineNumber).substring(0,C.endColumn-1);A=this._findMatchesInLine(x,ke,C.endLineNumber,0,A,z,S,T)}return z}},{key:"_findMatchesInLine",value:function(j,C,x,S,T,z,A,ue){var be=j.wordSeparators;if(!A&&j.simpleSearch){for(var de=j.simpleSearch,ke=de.length,he=C.length,ge=-ke;(ge=C.indexOf(de,ge+ke))!==-1;)if((!be||V(be,C,he,ge,ke))&&(z[T++]=new $.b(new J.a(x,ge+1+S,x,ge+1+ke+S),null),T>=ue))return T;return T}var ce=new N(j.wordSeparators,j.regex),k;ce.reset(0);do if(k=ce.next(C),k&&(z[T++]=ne(new J.a(x,k.index+1+S,x,k.index+1+k[0].length+S),k,A),T>=ue))return T;while(k);return T}},{key:"findNextMatch",value:function(j,C,x,S){var T=C.parseSearchRequest();if(!T)return null;var z=new N(T.wordSeparators,T.regex);return T.regex.multiline?this._doFindNextMatchMultiline(j,x,z,S):this._doFindNextMatchLineByLine(j,x,z,S)}},{key:"_doFindNextMatchMultiline",value:function(j,C,x,S){var T=new re.a(C.lineNumber,1),z=j.getOffsetAt(T),A=j.getLineCount(),ue=j.getValueInRange(new J.a(T.lineNumber,T.column,A,j.getLineMaxColumn(A)),1),be=j.getEOL()===`\r
`?new ee(ue):null;x.reset(C.column-1);var de=x.next(ue);return de?ne(this._getMultilineMatchRange(j,z,ue,be,de.index,de[0]),de,S):C.lineNumber!==1||C.column!==1?this._doFindNextMatchMultiline(j,new re.a(1,1),x,S):null}},{key:"_doFindNextMatchLineByLine",value:function(j,C,x,S){var T=j.getLineCount(),z=C.lineNumber,A=j.getLineContent(z),ue=this._findFirstMatchInLine(x,A,z,C.column,S);if(ue)return ue;for(var be=1;be<=T;be++){var de=(z+be-1)%T,ke=j.getLineContent(de+1),he=this._findFirstMatchInLine(x,ke,de+1,1,S);if(he)return he}return null}},{key:"_findFirstMatchInLine",value:function(j,C,x,S,T){j.reset(S-1);var z=j.next(C);return z?ne(new J.a(x,z.index+1,x,z.index+1+z[0].length),z,T):null}},{key:"findPreviousMatch",value:function(j,C,x,S){var T=C.parseSearchRequest();if(!T)return null;var z=new N(T.wordSeparators,T.regex);return T.regex.multiline?this._doFindPreviousMatchMultiline(j,x,z,S):this._doFindPreviousMatchLineByLine(j,x,z,S)}},{key:"_doFindPreviousMatchMultiline",value:function(j,C,x,S){var T=this._doFindMatchesMultiline(j,new J.a(1,1,C.lineNumber,C.column),x,S,10*y);if(T.length>0)return T[T.length-1];var z=j.getLineCount();return C.lineNumber!==z||C.column!==j.getLineMaxColumn(z)?this._doFindPreviousMatchMultiline(j,new re.a(z,j.getLineMaxColumn(z)),x,S):null}},{key:"_doFindPreviousMatchLineByLine",value:function(j,C,x,S){var T=j.getLineCount(),z=C.lineNumber,A=j.getLineContent(z).substring(0,C.column-1),ue=this._findLastMatchInLine(x,A,z,S);if(ue)return ue;for(var be=1;be<=T;be++){var de=(T+z-be-1)%T,ke=j.getLineContent(de+1),he=this._findLastMatchInLine(x,ke,de+1,S);if(he)return he}return null}},{key:"_findLastMatchInLine",value:function(j,C,x,S){var T=null,z;for(j.reset(0);z=j.next(C);)T=ne(new J.a(x,z.index+1,x,z.index+1+z[0].length),z,S);return T}}]),U}();function W(U,d,j,C,x){if(C===0)return!0;var S=d.charCodeAt(C-1);if(U.get(S)!==0||S===13||S===10)return!0;if(x>0){var T=d.charCodeAt(C);if(U.get(T)!==0)return!0}return!1}function F(U,d,j,C,x){if(C+x===j)return!0;var S=d.charCodeAt(C+x);if(U.get(S)!==0||S===13||S===10)return!0;if(x>0){var T=d.charCodeAt(C+x-1);if(U.get(T)!==0)return!0}return!1}function V(U,d,j,C,x){return W(U,d,j,C,x)&&F(U,d,j,C,x)}var N=function(){function U(d,j){Object(le.a)(this,U),this._wordSeparators=d,this._searchRegex=j,this._prevMatchStartIndex=-1,this._prevMatchLength=0}return Object(De.a)(U,[{key:"reset",value:function(j){this._searchRegex.lastIndex=j,this._prevMatchStartIndex=-1,this._prevMatchLength=0}},{key:"next",value:function(j){var C=j.length,x;do{if(this._prevMatchStartIndex+this._prevMatchLength===C||(x=this._searchRegex.exec(j),!x))return null;var S=x.index,T=x[0].length;if(S===this._prevMatchStartIndex&&T===this._prevMatchLength){if(T===0){E.z(j,C,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=S,this._prevMatchLength=T,!this._wordSeparators||V(this._wordSeparators,j,C,S,T))return x}while(x);return null}}]),U}()},jRcv:function(fn,K,a){"use strict";a.d(K,"a",function(){return $}),a.d(K,"b",function(){return y});var le=a("tJVT"),De=a("fWQN"),E=a("mtLc"),ve=a("HpOR"),re=a("erNZ");function J(L){return L.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}var $=function(){function L(ne,ee,H,W){Object(De.a)(this,L),this.oldPosition=ne,this.oldText=ee,this.newPosition=H,this.newText=W}return Object(E.a)(L,[{key:"oldLength",get:function(){return this.oldText.length}},{key:"oldEnd",get:function(){return this.oldPosition+this.oldText.length}},{key:"newLength",get:function(){return this.newText.length}},{key:"newEnd",get:function(){return this.newPosition+this.newText.length}},{key:"toString",value:function(){return this.oldText.length===0?"(insert@".concat(this.oldPosition,' "').concat(J(this.newText),'")'):this.newText.length===0?"(delete@".concat(this.oldPosition,' "').concat(J(this.oldText),'")'):"(replace@".concat(this.oldPosition,' "').concat(J(this.oldText),'" with "').concat(J(this.newText),'")')}},{key:"writeSize",value:function(){return 4+4+L._writeStringSize(this.oldText)+L._writeStringSize(this.newText)}},{key:"write",value:function(ee,H){return ve.f(ee,this.oldPosition,H),H+=4,ve.f(ee,this.newPosition,H),H+=4,H=L._writeString(ee,this.oldText,H),H=L._writeString(ee,this.newText,H),H}}],[{key:"_writeStringSize",value:function(ee){return 4+2*ee.length}},{key:"_writeString",value:function(ee,H,W){var F=H.length;ve.f(ee,F,W),W+=4;for(var V=0;V<F;V++)ve.e(ee,H.charCodeAt(V),W),W+=2;return W}},{key:"_readString",value:function(ee,H){var W=ve.c(ee,H);return H+=4,Object(re.b)(ee,H,W)}},{key:"read",value:function(ee,H,W){var F=ve.c(ee,H);H+=4;var V=ve.c(ee,H);H+=4;var N=L._readString(ee,H);H+=L._writeStringSize(N);var U=L._readString(ee,H);return H+=L._writeStringSize(U),W.push(new L(F,N,V,U)),H}}]),L}();function y(L,ne){if(L===null||L.length===0)return ne;var ee=new Q(L,ne);return ee.compress()}var Q=function(){function L(ne,ee){Object(De.a)(this,L),this._prevEdits=ne,this._currEdits=ee,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}return Object(E.a)(L,[{key:"compress",value:function(){for(var ee=0,H=0,W=this._getPrev(ee),F=this._getCurr(H);ee<this._prevLen||H<this._currLen;){if(W===null){this._acceptCurr(F),F=this._getCurr(++H);continue}if(F===null){this._acceptPrev(W),W=this._getPrev(++ee);continue}if(F.oldEnd<=W.newPosition){this._acceptCurr(F),F=this._getCurr(++H);continue}if(W.newEnd<=F.oldPosition){this._acceptPrev(W),W=this._getPrev(++ee);continue}if(F.oldPosition<W.newPosition){var V=L._splitCurr(F,W.newPosition-F.oldPosition),N=Object(le.a)(V,2),U=N[0],d=N[1];this._acceptCurr(U),F=d;continue}if(W.newPosition<F.oldPosition){var j=L._splitPrev(W,F.oldPosition-W.newPosition),C=Object(le.a)(j,2),x=C[0],S=C[1];this._acceptPrev(x),W=S;continue}var T=void 0,z=void 0;if(F.oldEnd===W.newEnd)T=W,z=F,W=this._getPrev(++ee),F=this._getCurr(++H);else if(F.oldEnd<W.newEnd){var A=L._splitPrev(W,F.oldLength),ue=Object(le.a)(A,2),be=ue[0],de=ue[1];T=be,z=F,W=de,F=this._getCurr(++H)}else{var ke=L._splitCurr(F,W.newLength),he=Object(le.a)(ke,2),ge=he[0],ce=he[1];T=W,z=ge,W=this._getPrev(++ee),F=ce}this._result[this._resultLen++]=new $(T.oldPosition,T.oldText,z.newPosition,z.newText),this._prevDeltaOffset+=T.newLength-T.oldLength,this._currDeltaOffset+=z.newLength-z.oldLength}var k=L._merge(this._result),w=L._removeNoOps(k);return w}},{key:"_acceptCurr",value:function(ee){this._result[this._resultLen++]=L._rebaseCurr(this._prevDeltaOffset,ee),this._currDeltaOffset+=ee.newLength-ee.oldLength}},{key:"_getCurr",value:function(ee){return ee<this._currLen?this._currEdits[ee]:null}},{key:"_acceptPrev",value:function(ee){this._result[this._resultLen++]=L._rebasePrev(this._currDeltaOffset,ee),this._prevDeltaOffset+=ee.newLength-ee.oldLength}},{key:"_getPrev",value:function(ee){return ee<this._prevLen?this._prevEdits[ee]:null}}],[{key:"_rebaseCurr",value:function(ee,H){return new $(H.oldPosition-ee,H.oldText,H.newPosition,H.newText)}},{key:"_rebasePrev",value:function(ee,H){return new $(H.oldPosition,H.oldText,H.newPosition+ee,H.newText)}},{key:"_splitPrev",value:function(ee,H){var W=ee.newText.substr(0,H),F=ee.newText.substr(H);return[new $(ee.oldPosition,ee.oldText,ee.newPosition,W),new $(ee.oldEnd,"",ee.newPosition+H,F)]}},{key:"_splitCurr",value:function(ee,H){var W=ee.oldText.substr(0,H),F=ee.oldText.substr(H);return[new $(ee.oldPosition,W,ee.newPosition,ee.newText),new $(ee.oldPosition+H,F,ee.newEnd,"")]}},{key:"_merge",value:function(ee){if(ee.length===0)return ee;for(var H=[],W=0,F=ee[0],V=1;V<ee.length;V++){var N=ee[V];F.oldEnd===N.oldPosition?F=new $(F.oldPosition,F.oldText+N.oldText,F.newPosition,F.newText+N.newText):(H[W++]=F,F=N)}return H[W++]=F,H}},{key:"_removeNoOps",value:function(ee){if(ee.length===0)return ee;for(var H=[],W=0,F=0;F<ee.length;F++){var V=ee[F];V.oldText!==V.newText&&(H[W++]=V)}return H}}]),L}()},jaoW:function(fn,K,a){"use strict";a.d(K,"b",function(){return L}),a.d(K,"a",function(){return ne});var le=a("fWQN"),De=a("mtLc"),E=a("EffR"),ve=a("i04g"),re=a("qj0h"),J=a("q/I2"),$=a.n(J),y=a("3/fG"),Q=E.$,L={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0},ne=function(){function ee(H,W,F){Object(le.a)(this,ee),this.os=W,this.keyElements=new Set,this.options=F||Object.create(null);var V=this.options.keybindingLabelForeground;this.domNode=E.append(H,Q(".monaco-keybinding")),V&&(this.domNode.style.color=V),this.didEverRender=!1,H.appendChild(this.domNode)}return Object(De.a)(ee,[{key:"element",get:function(){return this.domNode}},{key:"set",value:function(W,F){this.didEverRender&&this.keybinding===W&&ee.areSame(this.matches,F)||(this.keybinding=W,this.matches=F,this.render())}},{key:"render",value:function(){var W;if(this.clear(),this.keybinding){var F=this.keybinding.getChords();F[0]&&this.renderChord(this.domNode,F[0],this.matches?this.matches.firstPart:null);for(var V=1;V<F.length;V++)E.append(this.domNode,Q("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,F[V],this.matches?this.matches.chordPart:null);var N=((W=this.options.disableTitle)!==null&&W!==void 0?W:!1)?void 0:this.keybinding.getAriaLabel()||void 0;N!==void 0?this.domNode.title=N:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}},{key:"clear",value:function(){E.clearNode(this.domNode),this.keyElements.clear()}},{key:"renderChord",value:function(W,F,V){var N=ve.c.modifierLabels[this.os];F.ctrlKey&&this.renderKey(W,N.ctrlKey,Boolean(V==null?void 0:V.ctrlKey),N.separator),F.shiftKey&&this.renderKey(W,N.shiftKey,Boolean(V==null?void 0:V.shiftKey),N.separator),F.altKey&&this.renderKey(W,N.altKey,Boolean(V==null?void 0:V.altKey),N.separator),F.metaKey&&this.renderKey(W,N.metaKey,Boolean(V==null?void 0:V.metaKey),N.separator);var U=F.keyLabel;U&&this.renderKey(W,U,Boolean(V==null?void 0:V.keyCode),"")}},{key:"renderKey",value:function(W,F,V,N){E.append(W,this.createKeyElement(F,V?".highlight":"")),N&&E.append(W,Q("span.monaco-keybinding-key-separator",void 0,N))}},{key:"renderUnbound",value:function(W){E.append(W,this.createKeyElement(Object(y.b)("unbound","Unbound")))}},{key:"createKeyElement",value:function(W){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",V=Q("span.monaco-keybinding-key"+F,void 0,W);return this.keyElements.add(V),this.options.keybindingLabelBackground&&(V.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(V.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(V.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(V.style.boxShadow="inset 0 -1px 0 ".concat(this.options.keybindingLabelShadow)),V}}],[{key:"areSame",value:function(W,F){return W===F||!W&&!F?!0:!!W&&!!F&&Object(re.e)(W.firstPart,F.firstPart)&&Object(re.e)(W.chordPart,F.chordPart)}}]),ee}()},jhiw:function(fn,K,a){},jtXd:function(fn,K,a){"use strict";a.d(K,"a",function(){return ne});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("N0LK"),re=a("LCkn"),J=a("LLum"),$=a("JLfW"),y=a("mJFO"),Q=a("aokT"),L=a("cGHE"),ne=function(){function ee(){Object(De.a)(this,ee)}return Object(E.a)(ee,null,[{key:"deleteRight",value:function(W,F,V,N){for(var U=[],d=W!==3,j=0,C=N.length;j<C;j++){var x=N[j],S=x;if(S.isEmpty()){var T=x.getPosition(),z=y.a.right(F,V,T);S=new Q.a(z.lineNumber,z.column,T.lineNumber,T.column)}if(S.isEmpty()){U[j]=null;continue}S.startLineNumber!==S.endLineNumber&&(d=!0),U[j]=new re.a(S,"")}return[d,U]}},{key:"isAutoClosingPairDelete",value:function(W,F,V,N,U,d,j){if(F==="never"&&V==="never"||W==="never")return!1;for(var C=0,x=d.length;C<x;C++){var S=d[C],T=S.getPosition();if(!S.isEmpty())return!1;var z=U.getLineContent(T.lineNumber);if(T.column<2||T.column>=z.length+1)return!1;var A=z.charAt(T.column-2),ue=N.get(A);if(!ue)return!1;if(Object(J.e)(A)){if(V==="never")return!1}else if(F==="never")return!1;var be=z.charAt(T.column-1),de=!1,ke=Object(le.a)(ue),he;try{for(ke.s();!(he=ke.n()).done;){var ge=he.value;ge.open===A&&ge.close===be&&(de=!0)}}catch(Y){ke.e(Y)}finally{ke.f()}if(!de)return!1;if(W==="auto"){for(var ce=!1,k=0,w=j.length;k<w;k++){var B=j[k];if(T.lineNumber===B.startLineNumber&&T.column===B.startColumn){ce=!0;break}}if(!ce)return!1}}return!0}},{key:"_runAutoClosingPairDelete",value:function(W,F,V){for(var N=[],U=0,d=V.length;U<d;U++){var j=V[U].getPosition(),C=new Q.a(j.lineNumber,j.column-1,j.lineNumber,j.column+1);N[U]=new re.a(C,"")}return[!0,N]}},{key:"deleteLeft",value:function(W,F,V,N,U){if(this.isAutoClosingPairDelete(F.autoClosingDelete,F.autoClosingBrackets,F.autoClosingQuotes,F.autoClosingPairs.autoClosingPairsOpenByEnd,V,N,U))return this._runAutoClosingPairDelete(F,V,N);for(var d=[],j=W!==2,C=0,x=N.length;C<x;C++){var S=ee.getDeleteRange(N[C],V,F);if(S.isEmpty()){d[C]=null;continue}S.startLineNumber!==S.endLineNumber&&(j=!0),d[C]=new re.a(S,"")}return[j,d]}},{key:"getDeleteRange",value:function(W,F,V){if(!W.isEmpty())return W;var N=W.getPosition();if(V.useTabStops&&N.column>1){var U=F.getLineContent(N.lineNumber),d=ve.u(U),j=d===-1?U.length+1:d+1;if(N.column<=j){var C=V.visibleColumnFromColumn(F,N),x=$.a.prevIndentTabStop(C,V.indentSize),S=V.columnFromVisibleColumn(F,N.lineNumber,x);return new Q.a(N.lineNumber,S,N.lineNumber,N.column)}}return Q.a.fromPositions(ee.getPositionAfterDeleteLeft(N,F),N)}},{key:"getPositionAfterDeleteLeft",value:function(W,F){if(W.column>1){var V=ve.y(W.column-1,F.getLineContent(W.lineNumber));return W.with(void 0,V+1)}else if(W.lineNumber>1){var N=W.lineNumber-1;return new L.a(N,F.getLineMaxColumn(N))}else return W}},{key:"cut",value:function(W,F,V){var N=[],U=null;V.sort(function(be,de){return L.a.compare(be.getStartPosition(),de.getEndPosition())});for(var d=0,j=V.length;d<j;d++){var C=V[d];if(C.isEmpty())if(W.emptySelectionClipboard){var x=C.getPosition(),S=void 0,T=void 0,z=void 0,A=void 0;x.lineNumber<F.getLineCount()?(S=x.lineNumber,T=1,z=x.lineNumber+1,A=1):x.lineNumber>1&&(U==null?void 0:U.endLineNumber)!==x.lineNumber?(S=x.lineNumber-1,T=F.getLineMaxColumn(x.lineNumber-1),z=x.lineNumber,A=F.getLineMaxColumn(x.lineNumber)):(S=x.lineNumber,T=1,z=x.lineNumber,A=F.getLineMaxColumn(x.lineNumber));var ue=new Q.a(S,T,z,A);U=ue,ue.isEmpty()?N[d]=null:N[d]=new re.a(ue,"")}else N[d]=null;else N[d]=new re.a(C,"")}return new J.c(0,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}]),ee}()},jwCD:function(fn,K,a){"use strict";a.d(K,"b",function(){return re}),a.d(K,"a",function(){return J}),a.d(K,"c",function(){return $});var le=a("rAM+"),De=a("mtLc"),E=a("fWQN"),ve=a("VHWv"),re=Object(De.a)(function y(Q,L){Object(E.a)(this,y),this.changes=Q,this.hitTimeout=L}),J=function(){function y(Q,L,ne){Object(E.a)(this,y),this.originalRange=Q,this.modifiedRange=L,this.innerChanges=ne}return Object(De.a)(y,[{key:"toString",value:function(){return"{".concat(this.originalRange.toString(),"->").concat(this.modifiedRange.toString(),"}")}},{key:"changedLineCount",get:function(){return Math.max(this.originalRange.length,this.modifiedRange.length)}}],[{key:"inverse",value:function(L,ne,ee){var H=[],W=1,F=1,V=Object(le.a)(L),N;try{for(V.s();!(N=V.n()).done;){var U=N.value,d=new y(new ve.a(W,U.originalRange.startLineNumber),new ve.a(F,U.modifiedRange.startLineNumber),void 0);d.modifiedRange.isEmpty||H.push(d),W=U.originalRange.endLineNumberExclusive,F=U.modifiedRange.endLineNumberExclusive}}catch(C){V.e(C)}finally{V.f()}var j=new y(new ve.a(W,ne+1),new ve.a(F,ee+1),void 0);return j.modifiedRange.isEmpty||H.push(j),H}}]),y}(),$=function(){function y(Q,L){Object(E.a)(this,y),this.originalRange=Q,this.modifiedRange=L}return Object(De.a)(y,[{key:"toString",value:function(){return"{".concat(this.originalRange.toString(),"->").concat(this.modifiedRange.toString(),"}")}}]),y}()},k9mg:function(fn,K,a){"use strict";a.d(K,"a",function(){return qi}),a.d(K,"b",function(){return Qr}),a.d(K,"e",function(){return Br}),a.d(K,"f",function(){return Pt}),a.d(K,"g",function(){return Ut}),a.d(K,"d",function(){return Nr}),a.d(K,"c",function(){return ua});var le=a("jrin"),De=a("tJVT"),E=a("tS8v"),ve=a("w4Tj"),re=a("oZsa"),J=a("yKVA"),$=a("879j"),y=a("fWQN"),Q=a("mtLc"),L=a("EffR"),ne=a("6OMU"),ee=a("JQT/"),H=a("MI8n"),W=a("pmY6"),F=a("4rho"),V=a("cqdO"),N=function(){function q(M,D){Object(y.a)(this,q),this.renderer=M,this.modelProvider=D}return Object(Q.a)(q,[{key:"templateId",get:function(){return this.renderer.templateId}},{key:"renderTemplate",value:function(D){var G=this.renderer.renderTemplate(D);return{data:G,disposable:W.a.None}}},{key:"renderElement",value:function(D,G,oe,xe){var Ve=this,lt;if((lt=oe.disposable)===null||lt===void 0||lt.dispose(),!!oe.data){var pt=this.modelProvider();if(pt.isResolved(D))return this.renderer.renderElement(pt.get(D),D,oe.data,xe);var xt=new ee.b,sn=pt.resolve(D,xt.token);oe.disposable={dispose:function(){return xt.cancel()}},this.renderer.renderPlaceholder(D,oe.data),sn.then(function(ln){return Ve.renderer.renderElement(ln,D,oe.data,xe)})}}},{key:"disposeTemplate",value:function(D){D.disposable&&(D.disposable.dispose(),D.disposable=void 0),D.data&&(this.renderer.disposeTemplate(D.data),D.data=void 0)}}]),q}(),U=function(){function q(M,D){Object(y.a)(this,q),this.modelProvider=M,this.accessibilityProvider=D}return Object(Q.a)(q,[{key:"getWidgetAriaLabel",value:function(){return this.accessibilityProvider.getWidgetAriaLabel()}},{key:"getAriaLabel",value:function(D){var G=this.modelProvider();return G.isResolved(D)?this.accessibilityProvider.getAriaLabel(G.get(D)):null}}]),q}();function d(q,M){return Object.assign(Object.assign({},M),{accessibilityProvider:M.accessibilityProvider&&new U(q,M.accessibilityProvider)})}var j=function(){function q(M,D,G,oe){var xe=this,Ve=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Object(y.a)(this,q);var lt=function(){return xe.model},pt=oe.map(function(xt){return new N(xt,lt)});this.list=new V.b(M,D,G,pt,d(lt,Ve))}return Object(Q.a)(q,[{key:"updateOptions",value:function(D){this.list.updateOptions(D)}},{key:"getHTMLElement",value:function(){return this.list.getHTMLElement()}},{key:"onDidFocus",get:function(){return this.list.onDidFocus}},{key:"onDidDispose",get:function(){return this.list.onDidDispose}},{key:"onMouseDblClick",get:function(){var D=this;return H.c.map(this.list.onMouseDblClick,function(G){var oe=G.element,xe=G.index,Ve=G.browserEvent;return{element:oe===void 0?void 0:D._model.get(oe),index:xe,browserEvent:Ve}})}},{key:"onPointer",get:function(){var D=this;return H.c.map(this.list.onPointer,function(G){var oe=G.element,xe=G.index,Ve=G.browserEvent;return{element:oe===void 0?void 0:D._model.get(oe),index:xe,browserEvent:Ve}})}},{key:"onDidChangeSelection",get:function(){var D=this;return H.c.map(this.list.onDidChangeSelection,function(G){var oe=G.elements,xe=G.indexes,Ve=G.browserEvent;return{elements:oe.map(function(lt){return D._model.get(lt)}),indexes:xe,browserEvent:Ve}})}},{key:"model",get:function(){return this._model},set:function(D){this._model=D,this.list.splice(0,this.list.length,Object(ne.z)(D.length))}},{key:"getFocus",value:function(){return this.list.getFocus()}},{key:"getSelection",value:function(){return this.list.getSelection()}},{key:"getSelectedElements",value:function(){var D=this;return this.getSelection().map(function(G){return D.model.get(G)})}},{key:"style",value:function(D){this.list.style(D)}},{key:"dispose",value:function(){this.list.dispose()}}]),q}(),C=a("oBTY"),x=a("rAM+"),S=a("44XX"),T=a("7GBL"),z=function(){function q(M,D,G){Object(y.a)(this,q),this.columns=M,this.getColumnSize=G,this.templateId=q.TemplateId,this.renderedTemplates=new Set;var oe=new Map(D.map(function(xt){return[xt.templateId,xt]}));this.renderers=[];var xe=Object(x.a)(M),Ve;try{for(xe.s();!(Ve=xe.n()).done;){var lt=Ve.value,pt=oe.get(lt.templateId);if(!pt)throw new Error("Table cell renderer for template id ".concat(lt.templateId," not found."));this.renderers.push(pt)}}catch(xt){xe.e(xt)}finally{xe.f()}}return Object(Q.a)(q,[{key:"renderTemplate",value:function(D){for(var G=Object(L.append)(D,Object(L.$)(".monaco-table-tr")),oe=[],xe=[],Ve=0;Ve<this.columns.length;Ve++){var lt=this.renderers[Ve],pt=Object(L.append)(G,Object(L.$)(".monaco-table-td",{"data-col-index":Ve}));pt.style.width="".concat(this.getColumnSize(Ve),"px"),oe.push(pt),xe.push(lt.renderTemplate(pt))}var xt={container:D,cellContainers:oe,cellTemplateData:xe};return this.renderedTemplates.add(xt),xt}},{key:"renderElement",value:function(D,G,oe,xe){for(var Ve=0;Ve<this.columns.length;Ve++){var lt=this.columns[Ve],pt=lt.project(D),xt=this.renderers[Ve];xt.renderElement(pt,G,oe.cellTemplateData[Ve],xe)}}},{key:"disposeElement",value:function(D,G,oe,xe){for(var Ve=0;Ve<this.columns.length;Ve++){var lt=this.renderers[Ve];if(lt.disposeElement){var pt=this.columns[Ve],xt=pt.project(D);lt.disposeElement(xt,G,oe.cellTemplateData[Ve],xe)}}}},{key:"disposeTemplate",value:function(D){for(var G=0;G<this.columns.length;G++){var oe=this.renderers[G];oe.disposeTemplate(D.cellTemplateData[G])}Object(L.clearNode)(D.container),this.renderedTemplates.delete(D)}},{key:"layoutColumn",value:function(D,G){var oe=Object(x.a)(this.renderedTemplates),xe;try{for(oe.s();!(xe=oe.n()).done;){var Ve=xe.value,lt=Ve.cellContainers;lt[D].style.width="".concat(G,"px")}}catch(pt){oe.e(pt)}finally{oe.f()}}}]),q}();z.TemplateId="row";function A(q){return{getHeight:function(D){return q.getHeight(D)},getTemplateId:function(){return z.TemplateId}}}var ue=function(){function q(M,D){Object(y.a)(this,q),this.column=M,this.index=D,this._onDidLayout=new H.b,this.onDidLayout=this._onDidLayout.event,this.element=Object(L.$)(".monaco-table-th",{"data-col-index":D,title:M.tooltip},M.label)}return Object(Q.a)(q,[{key:"minimumSize",get:function(){var D;return(D=this.column.minimumWidth)!==null&&D!==void 0?D:120}},{key:"maximumSize",get:function(){var D;return(D=this.column.maximumWidth)!==null&&D!==void 0?D:Number.POSITIVE_INFINITY}},{key:"onDidChange",get:function(){var D;return(D=this.column.onDidChangeWidthConstraints)!==null&&D!==void 0?D:H.c.None}},{key:"layout",value:function(D){this._onDidLayout.fire([this.index,D])}}]),q}(),be=function(){function q(M,D,G,oe,xe,Ve){var lt=this;Object(y.a)(this,q),this.virtualDelegate=G,this.domId="table_id_".concat(++q.InstanceCount),this.disposables=new W.c,this.cachedWidth=0,this.cachedHeight=0,this.domNode=Object(L.append)(D,Object(L.$)(".monaco-table.".concat(this.domId)));var pt=oe.map(function(ln,mn){return new ue(ln,mn)}),xt={size:pt.reduce(function(ln,mn){return ln+mn.column.weight},0),views:pt.map(function(ln){return{size:ln.column.weight,view:ln}})};this.splitview=this.disposables.add(new S.b(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:function(){return lt.cachedHeight},descriptor:xt})),this.splitview.el.style.height="".concat(G.headerRowHeight,"px"),this.splitview.el.style.lineHeight="".concat(G.headerRowHeight,"px");var sn=new z(oe,xe,function(ln){return lt.splitview.getViewSize(ln)});this.list=this.disposables.add(new V.b(M,this.domNode,A(G),[sn],Ve)),H.c.any.apply(H.c,Object(C.a)(pt.map(function(ln){return ln.onDidLayout})))(function(ln){var mn=Object(De.a)(ln,2),Tn=mn[0],ai=mn[1];return sn.layoutColumn(Tn,ai)},null,this.disposables),this.splitview.onDidSashReset(function(ln){var mn=oe.reduce(function(ai,pi){return ai+pi.weight},0),Tn=oe[ln].weight/mn*lt.cachedWidth;lt.splitview.resizeView(ln,Tn)},null,this.disposables),this.styleElement=Object(L.createStyleSheet)(this.domNode),this.style(V.j)}return Object(Q.a)(q,[{key:"onDidChangeFocus",get:function(){return this.list.onDidChangeFocus}},{key:"onDidChangeSelection",get:function(){return this.list.onDidChangeSelection}},{key:"onMouseDblClick",get:function(){return this.list.onMouseDblClick}},{key:"onPointer",get:function(){return this.list.onPointer}},{key:"onDidFocus",get:function(){return this.list.onDidFocus}},{key:"onDidDispose",get:function(){return this.list.onDidDispose}},{key:"updateOptions",value:function(D){this.list.updateOptions(D)}},{key:"splice",value:function(D,G){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];this.list.splice(D,G,oe)}},{key:"getHTMLElement",value:function(){return this.domNode}},{key:"style",value:function(D){var G=[];G.push(".monaco-table.".concat(this.domId,` > .monaco-split-view2 .monaco-sash.vertical::before {
			top: `).concat(this.virtualDelegate.headerRowHeight+1,`px;
			height: calc(100% - `).concat(this.virtualDelegate.headerRowHeight,`px);
		}`)),this.styleElement.textContent=G.join(`
`),this.list.style(D)}},{key:"getSelectedElements",value:function(){return this.list.getSelectedElements()}},{key:"getSelection",value:function(){return this.list.getSelection()}},{key:"getFocus",value:function(){return this.list.getFocus()}},{key:"dispose",value:function(){this.disposables.dispose()}}]),q}();be.InstanceCount=0;var de=a("qLMh"),ke=a("4y0V"),he=a("uDWl"),ge=a("WqXY"),ce=a("6BjD"),k=a("0+8E"),w=a("feEw"),B=a("kXS7"),Y=a("Pv/L"),pe=a("ZKkB"),me;(function(q){q[q.Expanded=0]="Expanded",q[q.Collapsed=1]="Collapsed",q[q.PreserveOrExpanded=2]="PreserveOrExpanded",q[q.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(me||(me={}));var I;(function(q){q[q.Unknown=0]="Unknown",q[q.Twistie=1]="Twistie",q[q.Element=2]="Element",q[q.Filter=3]="Filter"})(I||(I={}));var we=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe){return Object(y.a)(this,D),M.call(this,"TreeError [".concat(G,"] ").concat(oe))}return Object(Q.a)(D)}(Object(pe.a)(Error)),Re=function(){function q(M){Object(y.a)(this,q),this.fn=M,this._map=new WeakMap}return Object(Q.a)(q,[{key:"map",value:function(D){var G=this._map.get(D);return G||(G=this.fn(D),this._map.set(D,G)),G}}]),q}(),Oe=a("X+cX"),Pe=a("3fZx"),Ne=a("Gw4z"),Ke=a("JYp7");function Xe(q){return typeof q=="object"&&"visibility"in q&&"data"in q}function wt(q){switch(q){case!0:return 1;case!1:return 0;default:return q}}function Ct(q){return typeof q.collapsible=="boolean"}var bt=function(){function q(M,D,G){var oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};Object(y.a)(this,q),this.user=M,this.list=D,this.rootRef=[],this.eventBufferer=new H.d,this._onDidChangeCollapseState=new H.b,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new H.b,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new H.b,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new Oe.c(Pe.a),this.collapseByDefault=typeof oe.collapseByDefault=="undefined"?!1:oe.collapseByDefault,this.filter=oe.filter,this.autoExpandSingleChildren=typeof oe.autoExpandSingleChildren=="undefined"?!1:oe.autoExpandSingleChildren,this.root={parent:void 0,element:G,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}return Object(Q.a)(q,[{key:"splice",value:function(D,G){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ke.a.empty(),xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(D.length===0)throw new we(this.user,"Invalid tree location");xe.diffIdentityProvider?this.spliceSmart(xe.diffIdentityProvider,D,G,oe,xe):this.spliceSimple(D,G,oe,xe)}},{key:"spliceSmart",value:function(D,G,oe,xe,Ve,lt){var pt=this,xt;xe===void 0&&(xe=Ke.a.empty()),lt===void 0&&(lt=(xt=Ve.diffDepth)!==null&&xt!==void 0?xt:0);var sn=this.getParentNodeWithListIndex(G),ln=sn.parentNode;if(!ln.lastDiffIds)return this.spliceSimple(G,oe,xe,Ve);var mn=Object(C.a)(xe),Tn=G[G.length-1],ai=new Ne.a({getElements:function(){return ln.lastDiffIds}},{getElements:function(){return[].concat(Object(C.a)(ln.children.slice(0,Tn)),Object(C.a)(mn),Object(C.a)(ln.children.slice(Tn+oe))).map(function(ea){return D.getId(ea.element).toString()})}}).ComputeDiff(!1);if(ai.quitEarly)return ln.lastDiffIds=void 0,this.spliceSimple(G,oe,mn,Ve);var pi=G.slice(0,-1),yi=function(ea,ya,Da){if(lt>0)for(var ta=0;ta<Da;ta++)ea--,ya--,pt.spliceSmart(D,[].concat(Object(C.a)(pi),[ea,0]),Number.MAX_SAFE_INTEGER,mn[ya].children,Ve,lt-1)},vi=Math.min(ln.children.length,Tn+oe),Bt=mn.length,hr=Object(x.a)(ai.changes.sort(function(Gr,ea){return ea.originalStart-Gr.originalStart})),Ii;try{for(hr.s();!(Ii=hr.n()).done;){var Ar=Ii.value;yi(vi,Bt,vi-(Ar.originalStart+Ar.originalLength)),vi=Ar.originalStart,Bt=Ar.modifiedStart-Tn,this.spliceSimple([].concat(Object(C.a)(pi),[vi]),Ar.originalLength,Ke.a.slice(mn,Bt,Bt+Ar.modifiedLength),Ve)}}catch(Gr){hr.e(Gr)}finally{hr.f()}yi(vi,Bt,vi)}},{key:"spliceSimple",value:function(D,G){for(var oe=this,xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ke.a.empty(),Ve=arguments.length>3?arguments[3]:void 0,lt=Ve.onDidCreateNode,pt=Ve.onDidDeleteNode,xt=Ve.diffIdentityProvider,sn=this.getParentNodeWithListIndex(D),ln=sn.parentNode,mn=sn.listIndex,Tn=sn.revealed,ai=sn.visible,pi=[],yi=Ke.a.map(xe,function($o){return oe.createTreeNode($o,ln,ln.visible?1:0,Tn,pi,lt)}),vi=D[D.length-1],Bt=ln.children.length>0,hr=0,Ii=vi;Ii>=0&&Ii<ln.children.length;Ii--){var Ar=ln.children[Ii];if(Ar.visible){hr=Ar.visibleChildIndex;break}}var Gr=[],ea=0,ya=0,Da=Object(x.a)(yi),ta;try{for(Da.s();!(ta=Da.n()).done;){var Ya=ta.value;Gr.push(Ya),ya+=Ya.renderNodeCount,Ya.visible&&(Ya.visibleChildIndex=hr+ea++)}}catch($o){Da.e($o)}finally{Da.f()}var Va=Object(ne.B)(ln.children,vi,G,Gr);xt?ln.lastDiffIds?Object(ne.B)(ln.lastDiffIds,vi,G,Gr.map(function($o){return xt.getId($o.element).toString()})):ln.lastDiffIds=ln.children.map(function($o){return xt.getId($o.element).toString()}):ln.lastDiffIds=void 0;var mo=0,po=Object(x.a)(Va),zo;try{for(po.s();!(zo=po.n()).done;){var Ss=zo.value;Ss.visible&&mo++}}catch($o){po.e($o)}finally{po.f()}if(mo!==0)for(var Xo=vi+Gr.length;Xo<ln.children.length;Xo++){var Ko=ln.children[Xo];Ko.visible&&(Ko.visibleChildIndex-=mo)}if(ln.visibleChildrenCount+=ea-mo,Tn&&ai){var ds=Va.reduce(function($o,As){return $o+(As.visible?As.renderNodeCount:0)},0);this._updateAncestorsRenderNodeCount(ln,ya-ds),this.list.splice(mn,ds,pi)}if(Va.length>0&&pt){var go=function $o(As){pt(As),As.children.forEach($o)};Va.forEach(go)}this._onDidSplice.fire({insertedNodes:Gr,deletedNodes:Va});var Go=ln.children.length>0;Bt!==Go&&this.setCollapsible(D.slice(0,-1),Go);for(var Jo=ln;Jo;){if(Jo.visibility===2){this.refilterDelayer.trigger(function(){return oe.refilter()});break}Jo=Jo.parent}}},{key:"rerender",value:function(D){if(D.length===0)throw new we(this.user,"Invalid tree location");var G=this.getTreeNodeWithListIndex(D),oe=G.node,xe=G.listIndex,Ve=G.revealed;oe.visible&&Ve&&this.list.splice(xe,1,[oe])}},{key:"has",value:function(D){return this.hasTreeNode(D)}},{key:"getListIndex",value:function(D){var G=this.getTreeNodeWithListIndex(D),oe=G.listIndex,xe=G.visible,Ve=G.revealed;return xe&&Ve?oe:-1}},{key:"getListRenderCount",value:function(D){return this.getTreeNode(D).renderNodeCount}},{key:"isCollapsible",value:function(D){return this.getTreeNode(D).collapsible}},{key:"setCollapsible",value:function(D,G){var oe=this,xe=this.getTreeNode(D);typeof G=="undefined"&&(G=!xe.collapsible);var Ve={collapsible:G};return this.eventBufferer.bufferEvents(function(){return oe._setCollapseState(D,Ve)})}},{key:"isCollapsed",value:function(D){return this.getTreeNode(D).collapsed}},{key:"setCollapsed",value:function(D,G,oe){var xe=this,Ve=this.getTreeNode(D);typeof G=="undefined"&&(G=!Ve.collapsed);var lt={collapsed:G,recursive:oe||!1};return this.eventBufferer.bufferEvents(function(){return xe._setCollapseState(D,lt)})}},{key:"_setCollapseState",value:function(D,G){var oe=this.getTreeNodeWithListIndex(D),xe=oe.node,Ve=oe.listIndex,lt=oe.revealed,pt=this._setListNodeCollapseState(xe,Ve,lt,G);if(xe!==this.root&&this.autoExpandSingleChildren&&pt&&!Ct(G)&&xe.collapsible&&!xe.collapsed&&!G.recursive){for(var xt=-1,sn=0;sn<xe.children.length;sn++){var ln=xe.children[sn];if(ln.visible)if(xt>-1){xt=-1;break}else xt=sn}xt>-1&&this._setCollapseState([].concat(Object(C.a)(D),[xt]),G)}return pt}},{key:"_setListNodeCollapseState",value:function(D,G,oe,xe){var Ve=this._setNodeCollapseState(D,xe,!1);if(!oe||!D.visible||!Ve)return Ve;var lt=D.renderNodeCount,pt=this.updateNodeAfterCollapseChange(D),xt=lt-(G===-1?0:1);return this.list.splice(G+1,xt,pt.slice(1)),Ve}},{key:"_setNodeCollapseState",value:function(D,G,oe){var xe;if(D===this.root?xe=!1:(Ct(G)?(xe=D.collapsible!==G.collapsible,D.collapsible=G.collapsible):D.collapsible?(xe=D.collapsed!==G.collapsed,D.collapsed=G.collapsed):xe=!1,xe&&this._onDidChangeCollapseState.fire({node:D,deep:oe})),!Ct(G)&&G.recursive){var Ve=Object(x.a)(D.children),lt;try{for(Ve.s();!(lt=Ve.n()).done;){var pt=lt.value;xe=this._setNodeCollapseState(pt,G,!0)||xe}}catch(xt){Ve.e(xt)}finally{Ve.f()}}return xe}},{key:"expandTo",value:function(D){var G=this;this.eventBufferer.bufferEvents(function(){for(var oe=G.getTreeNode(D);oe.parent;)oe=oe.parent,D=D.slice(0,D.length-1),oe.collapsed&&G._setCollapseState(D,{collapsed:!1,recursive:!1})})}},{key:"refilter",value:function(){var D=this.root.renderNodeCount,G=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,D,G),this.refilterDelayer.cancel()}},{key:"createTreeNode",value:function(D,G,oe,xe,Ve,lt){var pt={parent:G,element:D.element,children:[],depth:G.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof D.collapsible=="boolean"?D.collapsible:typeof D.collapsed!="undefined",collapsed:typeof D.collapsed=="undefined"?this.collapseByDefault:D.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},xt=this._filterNode(pt,oe);pt.visibility=xt,xe&&Ve.push(pt);var sn=D.children||Ke.a.empty(),ln=xe&&xt!==0&&!pt.collapsed,mn=0,Tn=1,ai=Object(x.a)(sn),pi;try{for(ai.s();!(pi=ai.n()).done;){var yi=pi.value,vi=this.createTreeNode(yi,pt,xt,ln,Ve,lt);pt.children.push(vi),Tn+=vi.renderNodeCount,vi.visible&&(vi.visibleChildIndex=mn++)}}catch(Bt){ai.e(Bt)}finally{ai.f()}return pt.collapsible=pt.collapsible||pt.children.length>0,pt.visibleChildrenCount=mn,pt.visible=xt===2?mn>0:xt===1,pt.visible?pt.collapsed||(pt.renderNodeCount=Tn):(pt.renderNodeCount=0,xe&&Ve.pop()),lt==null||lt(pt),pt}},{key:"updateNodeAfterCollapseChange",value:function(D){var G=D.renderNodeCount,oe=[];return this._updateNodeAfterCollapseChange(D,oe),this._updateAncestorsRenderNodeCount(D.parent,oe.length-G),oe}},{key:"_updateNodeAfterCollapseChange",value:function(D,G){if(D.visible===!1)return 0;if(G.push(D),D.renderNodeCount=1,!D.collapsed){var oe=Object(x.a)(D.children),xe;try{for(oe.s();!(xe=oe.n()).done;){var Ve=xe.value;D.renderNodeCount+=this._updateNodeAfterCollapseChange(Ve,G)}}catch(lt){oe.e(lt)}finally{oe.f()}}return this._onDidChangeRenderNodeCount.fire(D),D.renderNodeCount}},{key:"updateNodeAfterFilterChange",value:function(D){var G=D.renderNodeCount,oe=[];return this._updateNodeAfterFilterChange(D,D.visible?1:0,oe),this._updateAncestorsRenderNodeCount(D.parent,oe.length-G),oe}},{key:"_updateNodeAfterFilterChange",value:function(D,G,oe){var xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,Ve;if(D!==this.root){if(Ve=this._filterNode(D,G),Ve===0)return D.visible=!1,D.renderNodeCount=0,!1;xe&&oe.push(D)}var lt=oe.length;D.renderNodeCount=D===this.root?0:1;var pt=!1;if(!D.collapsed||Ve!==0){var xt=0,sn=Object(x.a)(D.children),ln;try{for(sn.s();!(ln=sn.n()).done;){var mn=ln.value;pt=this._updateNodeAfterFilterChange(mn,Ve,oe,xe&&!D.collapsed)||pt,mn.visible&&(mn.visibleChildIndex=xt++)}}catch(Tn){sn.e(Tn)}finally{sn.f()}D.visibleChildrenCount=xt}else D.visibleChildrenCount=0;return D!==this.root&&(D.visible=Ve===2?pt:Ve===1,D.visibility=Ve),D.visible?D.collapsed||(D.renderNodeCount+=oe.length-lt):(D.renderNodeCount=0,xe&&oe.pop()),this._onDidChangeRenderNodeCount.fire(D),D.visible}},{key:"_updateAncestorsRenderNodeCount",value:function(D,G){if(G!==0)for(;D;)D.renderNodeCount+=G,this._onDidChangeRenderNodeCount.fire(D),D=D.parent}},{key:"_filterNode",value:function(D,G){var oe=this.filter?this.filter.filter(D.element,G):1;return typeof oe=="boolean"?(D.filterData=void 0,oe?1:0):Xe(oe)?(D.filterData=oe.data,wt(oe.visibility)):(D.filterData=void 0,wt(oe))}},{key:"hasTreeNode",value:function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.root;if(!D||D.length===0)return!0;var oe=Object(Y.a)(D),xe=oe[0],Ve=oe.slice(1);return xe<0||xe>G.children.length?!1:this.hasTreeNode(Ve,G.children[xe])}},{key:"getTreeNode",value:function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.root;if(!D||D.length===0)return G;var oe=Object(Y.a)(D),xe=oe[0],Ve=oe.slice(1);if(xe<0||xe>G.children.length)throw new we(this.user,"Invalid tree location");return this.getTreeNode(Ve,G.children[xe])}},{key:"getTreeNodeWithListIndex",value:function(D){if(D.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var G=this.getParentNodeWithListIndex(D),oe=G.parentNode,xe=G.listIndex,Ve=G.revealed,lt=G.visible,pt=D[D.length-1];if(pt<0||pt>oe.children.length)throw new we(this.user,"Invalid tree location");var xt=oe.children[pt];return{node:xt,listIndex:xe,revealed:Ve,visible:lt&&xt.visible}}},{key:"getParentNodeWithListIndex",value:function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.root,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,Ve=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,lt=Object(Y.a)(D),pt=lt[0],xt=lt.slice(1);if(pt<0||pt>G.children.length)throw new we(this.user,"Invalid tree location");for(var sn=0;sn<pt;sn++)oe+=G.children[sn].renderNodeCount;return xe=xe&&!G.collapsed,Ve=Ve&&G.visible,xt.length===0?{parentNode:G,listIndex:oe,revealed:xe,visible:Ve}:this.getParentNodeWithListIndex(xt,G.children[pt],oe+1,xe,Ve)}},{key:"getNode",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.getTreeNode(D)}},{key:"getNodeLocation",value:function(D){for(var G=[],oe=D;oe.parent;)G.push(oe.parent.children.indexOf(oe)),oe=oe.parent;return G.reverse()}},{key:"getParentNodeLocation",value:function(D){if(D.length!==0)return D.length===1?[]:Object(ne.D)(D)[0]}},{key:"getFirstElementChild",value:function(D){var G=this.getTreeNode(D);if(G.children.length!==0)return G.children[0].element}}]),q}(),mt=a("8HAY"),jt=a("Vhoy"),Je=a("T5lh"),Wt=function(){function q(){Object(y.a)(this,q),this.map=new Map}return Object(Q.a)(q,[{key:"add",value:function(D,G){var oe=this.map.get(D);oe||(oe=new Set,this.map.set(D,oe)),oe.add(G)}},{key:"delete",value:function(D,G){var oe=this.map.get(D);!oe||(oe.delete(G),oe.size===0&&this.map.delete(D))}},{key:"forEach",value:function(D,G){var oe=this.map.get(D);!oe||oe.forEach(G)}}]),q}(),Te=a("fpMC"),fe=a("Sdnv"),ye=a("746U"),Ee=a("2V9f"),Ge=a("3/fG"),$e=function(q,M,D,G){function oe(xe){return xe instanceof D?xe:new D(function(Ve){Ve(xe)})}return new(D||(D=Promise))(function(xe,Ve){function lt(sn){try{xt(G.next(sn))}catch(ln){Ve(ln)}}function pt(sn){try{xt(G.throw(sn))}catch(ln){Ve(ln)}}function xt(sn){sn.done?xe(sn.value):oe(sn.value).then(lt,pt)}xt((G=G.apply(q,M||[])).next())})},We=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G){var oe;return Object(y.a)(this,D),oe=M.call(this,G.elements.map(function(xe){return xe.element})),oe.data=G,oe}return Object(Q.a)(D)}(w.a);function it(q){return q instanceof w.a?new We(q):q}var Fe=function(){function q(M,D){Object(y.a)(this,q),this.modelProvider=M,this.dnd=D,this.autoExpandDisposable=W.a.None}return Object(Q.a)(q,[{key:"getDragURI",value:function(D){return this.dnd.getDragURI(D.element)}},{key:"getDragLabel",value:function(D,G){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(D.map(function(oe){return oe.element}),G)}},{key:"onDragStart",value:function(D,G){var oe,xe;(xe=(oe=this.dnd).onDragStart)===null||xe===void 0||xe.call(oe,it(D),G)}},{key:"onDragOver",value:function(D,G,oe,xe){var Ve=this,lt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,pt=this.dnd.onDragOver(it(D),G&&G.element,oe,xe),xt=this.autoExpandNode!==G;if(xt&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=G),typeof G=="undefined")return pt;if(xt&&typeof pt!="boolean"&&pt.autoExpand&&(this.autoExpandDisposable=Object(Oe.l)(function(){var Ar=Ve.modelProvider(),Gr=Ar.getNodeLocation(G);Ar.isCollapsed(Gr)&&Ar.setCollapsed(Gr,!1),Ve.autoExpandNode=void 0},500)),typeof pt=="boolean"||!pt.accept||typeof pt.bubble=="undefined"||pt.feedback){if(!lt){var sn=typeof pt=="boolean"?pt:pt.accept,ln=typeof pt=="boolean"?void 0:pt.effect;return{accept:sn,effect:ln,feedback:[oe]}}return pt}if(pt.bubble===1){var mn=this.modelProvider(),Tn=mn.getNodeLocation(G),ai=mn.getParentNodeLocation(Tn),pi=mn.getNode(ai),yi=ai&&mn.getListIndex(ai);return this.onDragOver(D,pi,yi,xe,!1)}var vi=this.modelProvider(),Bt=vi.getNodeLocation(G),hr=vi.getListIndex(Bt),Ii=vi.getListRenderCount(Bt);return Object.assign(Object.assign({},pt),{feedback:Object(ne.z)(hr,hr+Ii)})}},{key:"drop",value:function(D,G,oe,xe){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(it(D),G&&G.element,oe,xe)}},{key:"onDragEnd",value:function(D){var G,oe;(oe=(G=this.dnd).onDragEnd)===null||oe===void 0||oe.call(G,D)}}]),q}();function He(q,M){return M&&Object.assign(Object.assign({},M),{identityProvider:M.identityProvider&&{getId:function(G){return M.identityProvider.getId(G.element)}},dnd:M.dnd&&new Fe(q,M.dnd),multipleSelectionController:M.multipleSelectionController&&{isSelectionSingleChangeEvent:function(G){return M.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},G),{element:G.element}))},isSelectionRangeChangeEvent:function(G){return M.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},G),{element:G.element}))}},accessibilityProvider:M.accessibilityProvider&&Object.assign(Object.assign({},M.accessibilityProvider),{getSetSize:function(G){var oe=q(),xe=oe.getNodeLocation(G),Ve=oe.getParentNodeLocation(xe),lt=oe.getNode(Ve);return lt.visibleChildrenCount},getPosInSet:function(G){return G.visibleChildIndex+1},isChecked:M.accessibilityProvider&&M.accessibilityProvider.isChecked?function(D){return M.accessibilityProvider.isChecked(D.element)}:void 0,getRole:M.accessibilityProvider&&M.accessibilityProvider.getRole?function(D){return M.accessibilityProvider.getRole(D.element)}:function(){return"treeitem"},getAriaLabel:function(G){return M.accessibilityProvider.getAriaLabel(G.element)},getWidgetAriaLabel:function(){return M.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:M.accessibilityProvider&&M.accessibilityProvider.getWidgetRole?function(){return M.accessibilityProvider.getWidgetRole()}:function(){return"tree"},getAriaLevel:M.accessibilityProvider&&M.accessibilityProvider.getAriaLevel?function(D){return M.accessibilityProvider.getAriaLevel(D.element)}:function(D){return D.depth},getActiveDescendantId:M.accessibilityProvider.getActiveDescendantId&&function(D){return M.accessibilityProvider.getActiveDescendantId(D.element)}}),keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},M.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(G){return M.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(G.element)}})})}var Ye=function(){function q(M){Object(y.a)(this,q),this.delegate=M}return Object(Q.a)(q,[{key:"getHeight",value:function(D){return this.delegate.getHeight(D.element)}},{key:"getTemplateId",value:function(D){return this.delegate.getTemplateId(D.element)}},{key:"hasDynamicHeight",value:function(D){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(D.element)}},{key:"setDynamicHeight",value:function(D,G){var oe,xe;(xe=(oe=this.delegate).setDynamicHeight)===null||xe===void 0||xe.call(oe,D.element,G)}}]),q}(),ot;(function(q){q.None="none",q.OnHover="onHover",q.Always="always"})(ot||(ot={}));var Kt=function(){function q(M){var D=this,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Object(y.a)(this,q),this._elements=G,this.disposables=new W.c,this.onDidChange=H.c.forEach(M,function(oe){return D._elements=oe},this.disposables)}return Object(Q.a)(q,[{key:"elements",get:function(){return this._elements}},{key:"dispose",value:function(){this.disposables.dispose()}}]),q}(),gt=function(){function q(M,D,G,oe,xe){var Ve=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};Object(y.a)(this,q);var lt;this.renderer=M,this.modelProvider=D,this.activeNodes=oe,this.renderedIndentGuides=xe,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=q.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=W.a.None,this.disposables=new W.c,this.templateId=M.templateId,this.updateOptions(Ve),H.c.map(G,function(pt){return pt.node})(this.onDidChangeNodeTwistieState,this,this.disposables),(lt=M.onDidChangeTwistieState)===null||lt===void 0||lt.call(M,this.onDidChangeTwistieState,this,this.disposables)}return Object(Q.a)(q,[{key:"updateOptions",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof D.indent!="undefined"){var G=Object(fe.c)(D.indent,0,40);if(G!==this.indent){this.indent=G;var oe=Object(x.a)(this.renderedNodes),xe;try{for(oe.s();!(xe=oe.n()).done;){var Ve=xe.value,lt=Object(De.a)(Ve,2),pt=lt[0],xt=lt[1];this.renderTreeElement(pt,xt)}}catch(Bt){oe.e(Bt)}finally{oe.f()}}}if(typeof D.renderIndentGuides!="undefined"){var sn=D.renderIndentGuides!==ot.None;if(sn!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=sn;var ln=Object(x.a)(this.renderedNodes),mn;try{for(ln.s();!(mn=ln.n()).done;){var Tn=mn.value,ai=Object(De.a)(Tn,2),pi=ai[0],yi=ai[1];this._renderIndentGuides(pi,yi)}}catch(Bt){ln.e(Bt)}finally{ln.f()}if(this.indentGuidesDisposable.dispose(),sn){var vi=new W.c;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,vi),this.indentGuidesDisposable=vi,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof D.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=D.hideTwistiesOfChildlessElements)}},{key:"renderTemplate",value:function(D){var G=Object(L.append)(D,Object(L.$)(".monaco-tl-row")),oe=Object(L.append)(G,Object(L.$)(".monaco-tl-indent")),xe=Object(L.append)(G,Object(L.$)(".monaco-tl-twistie")),Ve=Object(L.append)(G,Object(L.$)(".monaco-tl-contents")),lt=this.renderer.renderTemplate(Ve);return{container:D,indent:oe,twistie:xe,indentGuidesDisposable:W.a.None,templateData:lt}}},{key:"renderElement",value:function(D,G,oe,xe){this.renderedNodes.set(D,oe),this.renderedElements.set(D.element,D),this.renderTreeElement(D,oe),this.renderer.renderElement(D,G,oe.templateData,xe)}},{key:"disposeElement",value:function(D,G,oe,xe){var Ve,lt;oe.indentGuidesDisposable.dispose(),(lt=(Ve=this.renderer).disposeElement)===null||lt===void 0||lt.call(Ve,D,G,oe.templateData,xe),typeof xe=="number"&&(this.renderedNodes.delete(D),this.renderedElements.delete(D.element))}},{key:"disposeTemplate",value:function(D){this.renderer.disposeTemplate(D.templateData)}},{key:"onDidChangeTwistieState",value:function(D){var G=this.renderedElements.get(D);!G||this.onDidChangeNodeTwistieState(G)}},{key:"onDidChangeNodeTwistieState",value:function(D){var G=this.renderedNodes.get(D);!G||(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(D,G))}},{key:"renderTreeElement",value:function(D,G){var oe,xe=q.DefaultIndent+(D.depth-1)*this.indent;G.twistie.style.paddingLeft="".concat(xe,"px"),G.indent.style.width="".concat(xe+this.indent-16,"px"),D.collapsible?G.container.setAttribute("aria-expanded",String(!D.collapsed)):G.container.removeAttribute("aria-expanded"),(oe=G.twistie.classList).remove.apply(oe,Object(C.a)(Je.a.asClassNameArray(jt.a.treeItemExpanded)));var Ve=!1;if(this.renderer.renderTwistie&&(Ve=this.renderer.renderTwistie(D.element,G.twistie)),D.collapsible&&(!this.hideTwistiesOfChildlessElements||D.visibleChildrenCount>0)){if(!Ve){var lt;(lt=G.twistie.classList).add.apply(lt,Object(C.a)(Je.a.asClassNameArray(jt.a.treeItemExpanded)))}G.twistie.classList.add("collapsible"),G.twistie.classList.toggle("collapsed",D.collapsed)}else G.twistie.classList.remove("collapsible","collapsed");this._renderIndentGuides(D,G)}},{key:"_renderIndentGuides",value:function(D,G){var oe=this;if(Object(L.clearNode)(G.indent),G.indentGuidesDisposable.dispose(),!!this.shouldRenderIndentGuides){for(var xe=new W.c,Ve=this.modelProvider(),lt=function(){var sn=Ve.getNodeLocation(D),ln=Ve.getParentNodeLocation(sn);if(!ln)return"break";var mn=Ve.getNode(ln),Tn=Object(L.$)(".indent-guide",{style:"width: ".concat(oe.indent,"px")});oe.activeIndentNodes.has(mn)&&Tn.classList.add("active"),G.indent.childElementCount===0?G.indent.appendChild(Tn):G.indent.insertBefore(Tn,G.indent.firstElementChild),oe.renderedIndentGuides.add(mn,Tn),xe.add(Object(W.l)(function(){return oe.renderedIndentGuides.delete(mn,Tn)})),D=mn};;){var pt=lt();if(pt==="break")break}G.indentGuidesDisposable=xe}}},{key:"_onDidChangeActiveNodes",value:function(D){var G=this;if(!!this.shouldRenderIndentGuides){var oe=new Set,xe=this.modelProvider();D.forEach(function(Ve){var lt=xe.getNodeLocation(Ve);try{var pt=xe.getParentNodeLocation(lt);Ve.collapsible&&Ve.children.length>0&&!Ve.collapsed?oe.add(Ve):pt&&oe.add(xe.getNode(pt))}catch(xt){}}),this.activeIndentNodes.forEach(function(Ve){oe.has(Ve)||G.renderedIndentGuides.forEach(Ve,function(lt){return lt.classList.remove("active")})}),oe.forEach(function(Ve){G.activeIndentNodes.has(Ve)||G.renderedIndentGuides.forEach(Ve,function(lt){return lt.classList.add("active")})}),this.activeIndentNodes=oe}}},{key:"dispose",value:function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Object(W.i)(this.disposables)}}]),q}();gt.DefaultIndent=8;var Ft=function(){function q(M,D,G){Object(y.a)(this,q),this.tree=M,this.keyboardNavigationLabelProvider=D,this._filter=G,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new W.c,M.onWillRefilter(this.reset,this,this.disposables)}return Object(Q.a)(q,[{key:"totalCount",get:function(){return this._totalCount}},{key:"matchCount",get:function(){return this._matchCount}},{key:"filter",value:function(D,G){var oe=1;if(this._filter){var xe=this._filter.filter(D,G);if(typeof xe=="boolean"?oe=xe?1:0:Xe(xe)?oe=wt(xe.visibility):oe=xe,oe===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Te.a.Default,visibility:oe};var Ve=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(D),lt=Array.isArray(Ve)?Ve:[Ve],pt=Object(x.a)(lt),xt;try{for(pt.s();!(xt=pt.n()).done;){var sn=xt.value,ln=sn&&sn.toString();if(typeof ln=="undefined")return{data:Te.a.Default,visibility:oe};var mn=void 0;if(this.tree.findMatchType===si.Contiguous){var Tn=ln.toLowerCase().indexOf(this._lowercasePattern);if(Tn>-1){mn=[Number.MAX_SAFE_INTEGER,0];for(var ai=this._lowercasePattern.length;ai>0;ai--)mn.push(Tn+ai-1)}}else mn=Object(Te.e)(this._pattern,this._lowercasePattern,0,ln,ln.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(mn)return this._matchCount++,lt.length===1?{data:mn,visibility:oe}:{data:{label:ln,score:mn},visibility:oe}}}catch(pi){pt.e(pi)}finally{pt.f()}return this.tree.findMode===It.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(D):2:{data:Te.a.Default,visibility:oe}}},{key:"reset",value:function(){this._totalCount=0,this._matchCount=0}},{key:"dispose",value:function(){Object(W.i)(this.disposables)}}]),q}(),Jt=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G){Object(y.a)(this,D);var oe;return M.call(this,{icon:jt.a.listFilter,title:Object(Ge.b)("filter","Filter"),isChecked:(oe=G.isChecked)!==null&&oe!==void 0?oe:!1,inputActiveOptionBorder:G.inputActiveOptionBorder,inputActiveOptionForeground:G.inputActiveOptionForeground,inputActiveOptionBackground:G.inputActiveOptionBackground})}return Object(Q.a)(D)}(B.a),qt=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G){Object(y.a)(this,D);var oe;return M.call(this,{icon:jt.a.searchFuzzy,title:Object(Ge.b)("fuzzySearch","Fuzzy Match"),isChecked:(oe=G.isChecked)!==null&&oe!==void 0?oe:!1,inputActiveOptionBorder:G.inputActiveOptionBorder,inputActiveOptionForeground:G.inputActiveOptionForeground,inputActiveOptionBackground:G.inputActiveOptionBackground})}return Object(Q.a)(D)}(B.a),En={inputBoxStyles:k.b,toggleStyles:B.b,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0},It;(function(q){q[q.Highlight=0]="Highlight",q[q.Filter=1]="Filter"})(It||(It={}));var si;(function(q){q[q.Fuzzy=0]="Fuzzy",q[q.Contiguous=1]="Contiguous"})(si||(si={}));var On=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve,lt,pt){var xt;Object(y.a)(this,D);var sn;xt=M.call(this),xt.tree=oe,xt.elements=Object(L.h)(".monaco-tree-type-filter",[Object(L.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),Object(L.h)(".monaco-tree-type-filter-input@findInput"),Object(L.h)(".monaco-tree-type-filter-actionbar@actionbar")]),xt.width=0,xt.right=0,xt.top=0,xt._onDidDisable=new H.b,G.appendChild(xt.elements.root),xt._register(Object(W.l)(function(){return G.removeChild(xt.elements.root)}));var ln=(sn=pt==null?void 0:pt.styles)!==null&&sn!==void 0?sn:En;ln.listFilterWidgetBackground&&(xt.elements.root.style.backgroundColor=ln.listFilterWidgetBackground),ln.listFilterWidgetShadow&&(xt.elements.root.style.boxShadow="0 0 8px 2px ".concat(ln.listFilterWidgetShadow)),xt.modeToggle=xt._register(new Jt(Object.assign(Object.assign({},ln.toggleStyles),{isChecked:Ve===It.Filter}))),xt.matchTypeToggle=xt._register(new qt(Object.assign(Object.assign({},ln.toggleStyles),{isChecked:lt===si.Fuzzy}))),xt.onDidChangeMode=H.c.map(xt.modeToggle.onChange,function(){return xt.modeToggle.checked?It.Filter:It.Highlight},xt._store),xt.onDidChangeMatchType=H.c.map(xt.matchTypeToggle.onChange,function(){return xt.matchTypeToggle.checked?si.Fuzzy:si.Contiguous},xt._store),xt.findInput=xt._register(new ce.a(xt.elements.findInput,xe,{label:Object(Ge.b)("type to search","Type to search"),additionalToggles:[xt.modeToggle,xt.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:ln.inputBoxStyles,toggleStyles:ln.toggleStyles,history:pt==null?void 0:pt.history})),xt.actionbar=xt._register(new ge.a(xt.elements.actionbar)),xt.mode=Ve;var mn=xt._register(new ke.a(xt.findInput.inputBox.inputElement,"keydown")),Tn=xt._register(H.c.chain(mn.event)).map(function(vi){return new he.a(vi)}).event;xt._register(Tn(function(vi){if(vi.equals(3)){vi.preventDefault(),vi.stopPropagation(),xt.findInput.inputBox.addToHistory(),xt.tree.domFocus();return}if(vi.equals(18)){vi.preventDefault(),vi.stopPropagation(),xt.findInput.inputBox.isAtLastInHistory()||xt.findInput.inputBox.isNowhereInHistory()?(xt.findInput.inputBox.addToHistory(),xt.tree.domFocus()):xt.findInput.inputBox.showNextValue();return}if(vi.equals(16)){vi.preventDefault(),vi.stopPropagation(),xt.findInput.inputBox.showPreviousValue();return}}));var ai=xt._register(new mt.a("close",Object(Ge.b)("close","Close"),"codicon codicon-close",!0,function(){return xt.dispose()}));xt.actionbar.push(ai,{icon:!0,label:!1});var pi=xt._register(new ke.a(xt.elements.grab,"mousedown"));xt._register(pi.event(function(vi){var Bt=new W.c,hr=Bt.add(new ke.a(window,"mousemove")),Ii=Bt.add(new ke.a(window,"mouseup")),Ar=xt.right,Gr=vi.pageX,ea=xt.top,ya=vi.pageY;xt.elements.grab.classList.add("grabbing");var Da=xt.elements.root.style.transition;xt.elements.root.style.transition="unset";var ta=function(Va){var mo=Va.pageX-Gr;xt.right=Ar-mo;var po=Va.pageY-ya;xt.top=ea+po,xt.layout()};Bt.add(hr.event(ta)),Bt.add(Ii.event(function(Ya){ta(Ya),xt.elements.grab.classList.remove("grabbing"),xt.elements.root.style.transition=Da,Bt.dispose()}))}));var yi=xt._register(H.c.chain(xt._register(new ke.a(xt.elements.grab,"keydown")).event)).map(function(vi){return new he.a(vi)}).event;return xt._register(yi(function(vi){var Bt,hr;if(vi.keyCode===15?Bt=Number.POSITIVE_INFINITY:vi.keyCode===17?Bt=0:vi.keyCode===10&&(Bt=xt.right===0?Number.POSITIVE_INFINITY:0),vi.keyCode===16?hr=0:vi.keyCode===18&&(hr=Number.POSITIVE_INFINITY),Bt!==void 0&&(vi.preventDefault(),vi.stopPropagation(),xt.right=Bt,xt.layout()),hr!==void 0){vi.preventDefault(),vi.stopPropagation(),xt.top=hr;var Ii=xt.elements.root.style.transition;xt.elements.root.style.transition="unset",xt.layout(),setTimeout(function(){xt.elements.root.style.transition=Ii},0)}})),xt.onDidChangeValue=xt.findInput.onDidChange,xt}return Object(Q.a)(D,[{key:"mode",set:function(oe){this.modeToggle.checked=oe===It.Filter,this.findInput.inputBox.setPlaceHolder(oe===It.Filter?Object(Ge.b)("type to filter","Type to filter"):Object(Ge.b)("type to search","Type to search"))}},{key:"matchType",set:function(oe){this.matchTypeToggle.checked=oe===si.Fuzzy}},{key:"layout",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.width;this.width=oe,this.right=Object(fe.c)(this.right,0,Math.max(0,oe-212)),this.elements.root.style.right="".concat(this.right,"px"),this.top=Object(fe.c)(this.top,0,24),this.elements.root.style.top="".concat(this.top,"px")}},{key:"showMessage",value:function(oe){this.findInput.showMessage(oe)}},{key:"clearMessage",value:function(){this.findInput.clearMessage()}},{key:"dispose",value:function(){var oe=this,xe=Object.create(null,{dispose:{get:function(){return Object(ve.a)(Object(re.a)(D.prototype),"dispose",oe)}}});return $e(this,void 0,void 0,Object(de.a)().mark(function Ve(){return Object(de.a)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),pt.next=4,Object(Oe.q)(300);case 4:xe.dispose.call(this);case 5:case"end":return pt.stop()}},Ve,this)}))}}]),D}(W.a),Gn=function(){function q(M,D,G,oe,xe){var Ve=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};Object(y.a)(this,q);var lt,pt;this.tree=M,this.view=G,this.filter=oe,this.contextViewProvider=xe,this.options=Ve,this._pattern="",this.width=0,this._onDidChangeMode=new H.b,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new H.b,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new H.b,this._onDidChangeOpenState=new H.b,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new W.c,this.disposables=new W.c,this._mode=(lt=M.options.defaultFindMode)!==null&&lt!==void 0?lt:It.Highlight,this._matchType=(pt=M.options.defaultFindMatchType)!==null&&pt!==void 0?pt:si.Fuzzy,D.onDidSplice(this.onDidSpliceModel,this,this.disposables)}return Object(Q.a)(q,[{key:"pattern",get:function(){return this._pattern}},{key:"mode",get:function(){return this._mode},set:function(D){D!==this._mode&&(this._mode=D,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(D))}},{key:"matchType",get:function(){return this._matchType},set:function(D){D!==this._matchType&&(this._matchType=D,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(D))}},{key:"updateOptions",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};D.defaultFindMode!==void 0&&(this.mode=D.defaultFindMode),D.defaultFindMatchType!==void 0&&(this.matchType=D.defaultFindMatchType)}},{key:"onDidSpliceModel",value:function(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}},{key:"render",value:function(){var D,G,oe,xe,Ve=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&Ve?((D=this.tree.options.showNotFoundMessage)!==null&&D!==void 0?D:!0)?(G=this.widget)===null||G===void 0||G.showMessage({type:2,content:Object(Ge.b)("not found","No elements found.")}):(oe=this.widget)===null||oe===void 0||oe.showMessage({type:2}):(xe=this.widget)===null||xe===void 0||xe.clearMessage()}},{key:"shouldAllowFocus",value:function(D){return!this.widget||!this.pattern||this._mode===It.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Te.a.isDefault(D.filterData)}},{key:"layout",value:function(D){var G;this.width=D,(G=this.widget)===null||G===void 0||G.layout(D)}},{key:"dispose",value:function(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}]),q}();function ci(q){var M=I.Unknown;return Object(L.hasParentWithClass)(q.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?M=I.Twistie:Object(L.hasParentWithClass)(q.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?M=I.Element:Object(L.hasParentWithClass)(q.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(M=I.Filter),{browserEvent:q.browserEvent,element:q.element?q.element.element:null,target:M}}function Dn(q,M){M(q),q.children.forEach(function(D){return Dn(D,M)})}var An=function(){function q(M,D){Object(y.a)(this,q),this.getFirstViewElementWithTrait=M,this.identityProvider=D,this.nodes=[],this._onDidChange=new H.b,this.onDidChange=this._onDidChange.event}return Object(Q.a)(q,[{key:"nodeSet",get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}},{key:"set",value:function(D,G){!(G==null?void 0:G.__forceEvent)&&Object(ne.j)(this.nodes,D)||this._set(D,!1,G)}},{key:"_set",value:function(D,G,oe){if(this.nodes=Object(C.a)(D),this.elements=void 0,this._nodeSet=void 0,!G){var xe=this;this._onDidChange.fire({get elements(){return xe.get()},browserEvent:oe})}}},{key:"get",value:function(){return this.elements||(this.elements=this.nodes.map(function(D){return D.element})),Object(C.a)(this.elements)}},{key:"getNodes",value:function(){return this.nodes}},{key:"has",value:function(D){return this.nodeSet.has(D)}},{key:"onDidModelSplice",value:function(D){var G=this,oe=D.insertedNodes,xe=D.deletedNodes;if(!this.identityProvider){var Ve=this.createNodeSet(),lt=function(Ar){return Ve.delete(Ar)};xe.forEach(function(Ii){return Dn(Ii,lt)}),this.set(Object(C.a)(Ve.values()));return}var pt=new Set,xt=function(Ar){return pt.add(G.identityProvider.getId(Ar.element).toString())};xe.forEach(function(Ii){return Dn(Ii,xt)});var sn=new Map,ln=function(Ar){return sn.set(G.identityProvider.getId(Ar.element).toString(),Ar)};oe.forEach(function(Ii){return Dn(Ii,ln)});var mn=[],Tn=Object(x.a)(this.nodes),ai;try{for(Tn.s();!(ai=Tn.n()).done;){var pi=ai.value,yi=this.identityProvider.getId(pi.element).toString(),vi=pt.has(yi);if(!vi)mn.push(pi);else{var Bt=sn.get(yi);Bt&&Bt.visible&&mn.push(Bt)}}}catch(Ii){Tn.e(Ii)}finally{Tn.f()}if(this.nodes.length>0&&mn.length===0){var hr=this.getFirstViewElementWithTrait();hr&&mn.push(hr)}this._set(mn,!0)}},{key:"createNodeSet",value:function(){var D=new Set,G=Object(x.a)(this.nodes),oe;try{for(G.s();!(oe=G.n()).done;){var xe=oe.value;D.add(xe)}}catch(Ve){G.e(Ve)}finally{G.f()}return D}}]),q}(),fr=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe){var xe;return Object(y.a)(this,D),xe=M.call(this,G),xe.tree=oe,xe}return Object(Q.a)(D,[{key:"onViewPointer",value:function(oe){if(!(Object(V.e)(oe.browserEvent.target)||Object(V.f)(oe.browserEvent.target)||Object(V.g)(oe.browserEvent.target))&&!oe.browserEvent.isHandledByList){var xe=oe.element;if(!xe)return Object(ve.a)(Object(re.a)(D.prototype),"onViewPointer",this).call(this,oe);if(this.isSelectionRangeChangeEvent(oe)||this.isSelectionSingleChangeEvent(oe))return Object(ve.a)(Object(re.a)(D.prototype),"onViewPointer",this).call(this,oe);var Ve=oe.browserEvent.target,lt=Ve.classList.contains("monaco-tl-twistie")||Ve.classList.contains("monaco-icon-label")&&Ve.classList.contains("folder-icon")&&oe.browserEvent.offsetX<16,pt=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?pt=this.tree.expandOnlyOnTwistieClick(xe.element):pt=!!this.tree.expandOnlyOnTwistieClick,pt&&!lt&&oe.browserEvent.detail!==2)return Object(ve.a)(Object(re.a)(D.prototype),"onViewPointer",this).call(this,oe);if(!this.tree.expandOnDoubleClick&&oe.browserEvent.detail===2)return Object(ve.a)(Object(re.a)(D.prototype),"onViewPointer",this).call(this,oe);if(xe.collapsible){var xt=this.tree.getNodeLocation(xe),sn=oe.browserEvent.altKey;if(this.tree.setFocus([xt]),this.tree.toggleCollapsed(xt,sn),pt&&lt){oe.browserEvent.isHandledByList=!0;return}}Object(ve.a)(Object(re.a)(D.prototype),"onViewPointer",this).call(this,oe)}}},{key:"onDoubleClick",value:function(oe){var xe=oe.browserEvent.target.classList.contains("monaco-tl-twistie");xe||!this.tree.expandOnDoubleClick||oe.browserEvent.isHandledByList||Object(ve.a)(Object(re.a)(D.prototype),"onDoubleClick",this).call(this,oe)}}]),D}(V.c),Vi=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve,lt,pt,xt,sn){var ln;return Object(y.a)(this,D),ln=M.call(this,G,oe,xe,Ve,sn),ln.focusTrait=lt,ln.selectionTrait=pt,ln.anchorTrait=xt,ln}return Object(Q.a)(D,[{key:"createMouseController",value:function(oe){return new fr(this,oe.tree)}},{key:"splice",value:function(oe,xe){var Ve=this,lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(Object(ve.a)(Object(re.a)(D.prototype),"splice",this).call(this,oe,xe,lt),lt.length!==0){var pt=[],xt=[],sn;lt.forEach(function(ln,mn){Ve.focusTrait.has(ln)&&pt.push(oe+mn),Ve.selectionTrait.has(ln)&&xt.push(oe+mn),Ve.anchorTrait.has(ln)&&(sn=oe+mn)}),pt.length>0&&Object(ve.a)(Object(re.a)(D.prototype),"setFocus",this).call(this,Object(ne.i)([].concat(Object(C.a)(Object(ve.a)(Object(re.a)(D.prototype),"getFocus",this).call(this)),pt))),xt.length>0&&Object(ve.a)(Object(re.a)(D.prototype),"setSelection",this).call(this,Object(ne.i)([].concat(Object(C.a)(Object(ve.a)(Object(re.a)(D.prototype),"getSelection",this).call(this)),xt))),typeof sn=="number"&&Object(ve.a)(Object(re.a)(D.prototype),"setAnchor",this).call(this,sn)}}},{key:"setFocus",value:function(oe,xe){var Ve=this,lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object(ve.a)(Object(re.a)(D.prototype),"setFocus",this).call(this,oe,xe),lt||this.focusTrait.set(oe.map(function(pt){return Ve.element(pt)}),xe)}},{key:"setSelection",value:function(oe,xe){var Ve=this,lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object(ve.a)(Object(re.a)(D.prototype),"setSelection",this).call(this,oe,xe),lt||this.selectionTrait.set(oe.map(function(pt){return Ve.element(pt)}),xe)}},{key:"setAnchor",value:function(oe){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Object(ve.a)(Object(re.a)(D.prototype),"setAnchor",this).call(this,oe),xe||(typeof oe=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(oe)]))}}]),D}(V.b),Sr=function(){function q(M,D,G,oe){var xe=this,Ve=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Object(y.a)(this,q);var lt;this._user=M,this._options=Ve,this.eventBufferer=new H.d,this.onDidChangeFindOpenState=H.c.None,this.disposables=new W.c,this._onWillRefilter=new H.b,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new H.b;var pt=new Ye(G),xt=new H.i,sn=new H.i,ln=this.disposables.add(new Kt(sn.event)),mn=new Wt;this.renderers=oe.map(function(Ii){return new gt(Ii,function(){return xe.model},xt.event,ln,mn,Ve)});var Tn=Object(x.a)(this.renderers),ai;try{for(Tn.s();!(ai=Tn.n()).done;){var pi=ai.value;this.disposables.add(pi)}}catch(Ii){Tn.e(Ii)}finally{Tn.f()}var yi;Ve.keyboardNavigationLabelProvider&&(yi=new Ft(this,Ve.keyboardNavigationLabelProvider,Ve.filter),Ve=Object.assign(Object.assign({},Ve),{filter:yi}),this.disposables.add(yi)),this.focus=new An(function(){return xe.view.getFocusedElements()[0]},Ve.identityProvider),this.selection=new An(function(){return xe.view.getSelectedElements()[0]},Ve.identityProvider),this.anchor=new An(function(){return xe.view.getAnchorElement()},Ve.identityProvider),this.view=new Vi(M,D,pt,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},He(function(){return xe.model},Ve)),{tree:this})),this.model=this.createModel(M,this.view,Ve),xt.input=this.model.onDidChangeCollapseState;var vi=H.c.forEach(this.model.onDidSplice,function(Ii){xe.eventBufferer.bufferEvents(function(){xe.focus.onDidModelSplice(Ii),xe.selection.onDidModelSplice(Ii)})},this.disposables);if(vi(function(){return null},null,this.disposables),sn.input=H.c.chain(H.c.any(vi,this.focus.onDidChange,this.selection.onDidChange)).debounce(function(){return null},0).map(function(){var Ii=new Set,Ar=Object(x.a)(xe.focus.getNodes()),Gr;try{for(Ar.s();!(Gr=Ar.n()).done;){var ea=Gr.value;Ii.add(ea)}}catch(Ya){Ar.e(Ya)}finally{Ar.f()}var ya=Object(x.a)(xe.selection.getNodes()),Da;try{for(ya.s();!(Da=ya.n()).done;){var ta=Da.value;Ii.add(ta)}}catch(Ya){ya.e(Ya)}finally{ya.f()}return Object(C.a)(Ii.values())}).event,Ve.keyboardSupport!==!1){var Bt=H.c.chain(this.view.onKeyDown).filter(function(Ii){return!Object(V.f)(Ii.target)}).map(function(Ii){return new he.a(Ii)});Bt.filter(function(Ii){return Ii.keyCode===15}).on(this.onLeftArrow,this,this.disposables),Bt.filter(function(Ii){return Ii.keyCode===17}).on(this.onRightArrow,this,this.disposables),Bt.filter(function(Ii){return Ii.keyCode===10}).on(this.onSpace,this,this.disposables)}if(((lt=Ve.findWidgetEnabled)!==null&&lt!==void 0?lt:!0)&&Ve.keyboardNavigationLabelProvider&&Ve.contextViewProvider){var hr=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new Gn(this,this.model,this.view,yi,Ve.contextViewProvider,hr),this.focusNavigationFilter=function(Ii){return xe.findController.shouldAllowFocus(Ii)},this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=H.c.None,this.onDidChangeFindMatchType=H.c.None;this.styleElement=Object(L.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===ot.Always)}return Object(Q.a)(q,[{key:"onDidChangeFocus",get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}},{key:"onDidChangeSelection",get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}},{key:"onMouseDblClick",get:function(){return H.c.filter(H.c.map(this.view.onMouseDblClick,ci),function(D){return D.target!==I.Filter})}},{key:"onPointer",get:function(){return H.c.map(this.view.onPointer,ci)}},{key:"onDidFocus",get:function(){return this.view.onDidFocus}},{key:"onDidChangeModel",get:function(){return H.c.signal(this.model.onDidSplice)}},{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"findMode",get:function(){var D,G;return(G=(D=this.findController)===null||D===void 0?void 0:D.mode)!==null&&G!==void 0?G:It.Highlight},set:function(D){this.findController&&(this.findController.mode=D)}},{key:"findMatchType",get:function(){var D,G;return(G=(D=this.findController)===null||D===void 0?void 0:D.matchType)!==null&&G!==void 0?G:si.Fuzzy},set:function(D){this.findController&&(this.findController.matchType=D)}},{key:"expandOnDoubleClick",get:function(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}},{key:"expandOnlyOnTwistieClick",get:function(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}},{key:"onDidDispose",get:function(){return this.view.onDidDispose}},{key:"updateOptions",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G;this._options=Object.assign(Object.assign({},this._options),D);var oe=Object(x.a)(this.renderers),xe;try{for(oe.s();!(xe=oe.n()).done;){var Ve=xe.value;Ve.updateOptions(D)}}catch(lt){oe.e(lt)}finally{oe.f()}this.view.updateOptions(this._options),(G=this.findController)===null||G===void 0||G.updateOptions(D),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===ot.Always)}},{key:"options",get:function(){return this._options}},{key:"getHTMLElement",value:function(){return this.view.getHTMLElement()}},{key:"scrollTop",get:function(){return this.view.scrollTop},set:function(D){this.view.scrollTop=D}},{key:"domFocus",value:function(){this.view.domFocus()}},{key:"layout",value:function(D,G){var oe;this.view.layout(D,G),Object(ye.g)(G)&&((oe=this.findController)===null||oe===void 0||oe.layout(G))}},{key:"style",value:function(D){var G=".".concat(this.view.domId),oe=[];D.treeIndentGuidesStroke&&(oe.push(".monaco-list".concat(G,":hover .monaco-tl-indent > .indent-guide, .monaco-list").concat(G,".always .monaco-tl-indent > .indent-guide  { border-color: ").concat(D.treeInactiveIndentGuidesStroke,"; }")),oe.push(".monaco-list".concat(G," .monaco-tl-indent > .indent-guide.active { border-color: ").concat(D.treeIndentGuidesStroke,"; }"))),this.styleElement.textContent=oe.join(`
`),this.view.style(D)}},{key:"getParentElement",value:function(D){var G=this.model.getParentNodeLocation(D),oe=this.model.getNode(G);return oe.element}},{key:"getFirstElementChild",value:function(D){return this.model.getFirstElementChild(D)}},{key:"getNode",value:function(D){return this.model.getNode(D)}},{key:"getNodeLocation",value:function(D){return this.model.getNodeLocation(D)}},{key:"collapse",value:function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.model.setCollapsed(D,!0,G)}},{key:"expand",value:function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.model.setCollapsed(D,!1,G)}},{key:"toggleCollapsed",value:function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.model.setCollapsed(D,void 0,G)}},{key:"isCollapsible",value:function(D){return this.model.isCollapsible(D)}},{key:"setCollapsible",value:function(D,G){return this.model.setCollapsible(D,G)}},{key:"isCollapsed",value:function(D){return this.model.isCollapsed(D)}},{key:"refilter",value:function(){this._onWillRefilter.fire(void 0),this.model.refilter()}},{key:"setSelection",value:function(D,G){var oe=this,xe=D.map(function(lt){return oe.model.getNode(lt)});this.selection.set(xe,G);var Ve=D.map(function(lt){return oe.model.getListIndex(lt)}).filter(function(lt){return lt>-1});this.view.setSelection(Ve,G,!0)}},{key:"getSelection",value:function(){return this.selection.get()}},{key:"setFocus",value:function(D,G){var oe=this,xe=D.map(function(lt){return oe.model.getNode(lt)});this.focus.set(xe,G);var Ve=D.map(function(lt){return oe.model.getListIndex(lt)}).filter(function(lt){return lt>-1});this.view.setFocus(Ve,G,!0)}},{key:"getFocus",value:function(){return this.focus.get()}},{key:"reveal",value:function(D,G){this.model.expandTo(D);var oe=this.model.getListIndex(D);oe!==-1&&this.view.reveal(oe,G)}},{key:"onLeftArrow",value:function(D){D.preventDefault(),D.stopPropagation();var G=this.view.getFocusedElements();if(G.length!==0){var oe=G[0],xe=this.model.getNodeLocation(oe),Ve=this.model.setCollapsed(xe,!0);if(!Ve){var lt=this.model.getParentNodeLocation(xe);if(!lt)return;var pt=this.model.getListIndex(lt);this.view.reveal(pt),this.view.setFocus([pt])}}}},{key:"onRightArrow",value:function(D){D.preventDefault(),D.stopPropagation();var G=this.view.getFocusedElements();if(G.length!==0){var oe=G[0],xe=this.model.getNodeLocation(oe),Ve=this.model.setCollapsed(xe,!1);if(!Ve){if(!oe.children.some(function(ln){return ln.visible}))return;var lt=this.view.getFocus(),pt=Object(De.a)(lt,1),xt=pt[0],sn=xt+1;this.view.reveal(sn),this.view.setFocus([sn])}}}},{key:"onSpace",value:function(D){D.preventDefault(),D.stopPropagation();var G=this.view.getFocusedElements();if(G.length!==0){var oe=G[0],xe=this.model.getNodeLocation(oe),Ve=D.browserEvent.altKey;this.model.setCollapsed(xe,void 0,Ve)}}},{key:"dispose",value:function(){Object(W.i)(this.disposables),this.view.dispose()}}]),q}(),Pi=function(){function q(M,D){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object(y.a)(this,q),this.user=M,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new bt(M,D,null,G),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,G.sorter&&(this.sorter={compare:function(xe,Ve){return G.sorter.compare(xe.element,Ve.element)}}),this.identityProvider=G.identityProvider}return Object(Q.a)(q,[{key:"setChildren",value:function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ke.a.empty(),oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=this.getElementLocation(D);this._setChildren(xe,this.preserveCollapseState(G),oe)}},{key:"_setChildren",value:function(D){var G=this,oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ke.a.empty(),xe=arguments.length>2?arguments[2]:void 0,Ve=new Set,lt=new Set,pt=function(ln){var mn;if(ln.element!==null){var Tn=ln;if(Ve.add(Tn.element),G.nodes.set(Tn.element,Tn),G.identityProvider){var ai=G.identityProvider.getId(Tn.element).toString();lt.add(ai),G.nodesByIdentity.set(ai,Tn)}(mn=xe.onDidCreateNode)===null||mn===void 0||mn.call(xe,Tn)}},xt=function(ln){var mn;if(ln.element!==null){var Tn=ln;if(Ve.has(Tn.element)||G.nodes.delete(Tn.element),G.identityProvider){var ai=G.identityProvider.getId(Tn.element).toString();lt.has(ai)||G.nodesByIdentity.delete(ai)}(mn=xe.onDidDeleteNode)===null||mn===void 0||mn.call(xe,Tn)}};this.model.splice([].concat(Object(C.a)(D),[0]),Number.MAX_VALUE,oe,Object.assign(Object.assign({},xe),{onDidCreateNode:pt,onDidDeleteNode:xt}))}},{key:"preserveCollapseState",value:function(){var D=this,G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ke.a.empty();return this.sorter&&(G=Object(C.a)(G).sort(this.sorter.compare.bind(this.sorter))),Ke.a.map(G,function(oe){var xe=D.nodes.get(oe.element);if(!xe&&D.identityProvider){var Ve=D.identityProvider.getId(oe.element).toString();xe=D.nodesByIdentity.get(Ve)}if(!xe){var lt;return typeof oe.collapsed=="undefined"?lt=void 0:oe.collapsed===me.Collapsed||oe.collapsed===me.PreserveOrCollapsed?lt=!0:oe.collapsed===me.Expanded||oe.collapsed===me.PreserveOrExpanded?lt=!1:lt=Boolean(oe.collapsed),Object.assign(Object.assign({},oe),{children:D.preserveCollapseState(oe.children),collapsed:lt})}var pt=typeof oe.collapsible=="boolean"?oe.collapsible:xe.collapsible,xt;return typeof oe.collapsed=="undefined"||oe.collapsed===me.PreserveOrCollapsed||oe.collapsed===me.PreserveOrExpanded?xt=xe.collapsed:oe.collapsed===me.Collapsed?xt=!0:oe.collapsed===me.Expanded?xt=!1:xt=Boolean(oe.collapsed),Object.assign(Object.assign({},oe),{collapsible:pt,collapsed:xt,children:D.preserveCollapseState(oe.children)})})}},{key:"rerender",value:function(D){var G=this.getElementLocation(D);this.model.rerender(G)}},{key:"getFirstElementChild",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,G=this.getElementLocation(D);return this.model.getFirstElementChild(G)}},{key:"has",value:function(D){return this.nodes.has(D)}},{key:"getListIndex",value:function(D){var G=this.getElementLocation(D);return this.model.getListIndex(G)}},{key:"getListRenderCount",value:function(D){var G=this.getElementLocation(D);return this.model.getListRenderCount(G)}},{key:"isCollapsible",value:function(D){var G=this.getElementLocation(D);return this.model.isCollapsible(G)}},{key:"setCollapsible",value:function(D,G){var oe=this.getElementLocation(D);return this.model.setCollapsible(oe,G)}},{key:"isCollapsed",value:function(D){var G=this.getElementLocation(D);return this.model.isCollapsed(G)}},{key:"setCollapsed",value:function(D,G,oe){var xe=this.getElementLocation(D);return this.model.setCollapsed(xe,G,oe)}},{key:"expandTo",value:function(D){var G=this.getElementLocation(D);this.model.expandTo(G)}},{key:"refilter",value:function(){this.model.refilter()}},{key:"getNode",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(D===null)return this.model.getNode(this.model.rootRef);var G=this.nodes.get(D);if(!G)throw new we(this.user,"Tree element not found: ".concat(D));return G}},{key:"getNodeLocation",value:function(D){return D.element}},{key:"getParentNodeLocation",value:function(D){if(D===null)throw new we(this.user,"Invalid getParentNodeLocation call");var G=this.nodes.get(D);if(!G)throw new we(this.user,"Tree element not found: ".concat(D));var oe=this.model.getNodeLocation(G),xe=this.model.getParentNodeLocation(oe),Ve=this.model.getNode(xe);return Ve.element}},{key:"getElementLocation",value:function(D){if(D===null)return[];var G=this.nodes.get(D);if(!G)throw new we(this.user,"Tree element not found: ".concat(D));return this.model.getNodeLocation(G)}}]),q}();function Ei(q){var M=[q.element],D=q.incompressible||!1;return{element:{elements:M,incompressible:D},children:Ke.a.map(Ke.a.from(q.children),Ei),collapsible:q.collapsible,collapsed:q.collapsed}}function Cr(q){for(var M=[q.element],D=q.incompressible||!1,G,oe;;){var xe=Ke.a.consume(Ke.a.from(q.children),2),Ve=Object(De.a)(xe,2);if(oe=Ve[0],G=Ve[1],oe.length!==1||oe[0].incompressible)break;q=oe[0],M.push(q.element)}return{element:{elements:M,incompressible:D},children:Ke.a.map(Ke.a.concat(oe,G),Cr),collapsible:q.collapsible,collapsed:q.collapsed}}function zn(q){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D;return M<q.element.elements.length-1?D=[zn(q,M+1)]:D=Ke.a.map(Ke.a.from(q.children),function(G){return zn(G,0)}),M===0&&q.element.incompressible?{element:q.element.elements[M],children:D,incompressible:!0,collapsible:q.collapsible,collapsed:q.collapsed}:{element:q.element.elements[M],children:D,collapsible:q.collapsible,collapsed:q.collapsed}}function dr(q){return zn(q,0)}function Hn(q,M,D){return q.element===M?Object.assign(Object.assign({},q),{children:D}):Object.assign(Object.assign({},q),{children:Ke.a.map(Ke.a.from(q.children),function(G){return Hn(G,M,D)})})}var mi=function(M){return{getId:function(G){return G.elements.map(function(oe){return M.getId(oe).toString()}).join("\0")}}},hn=function(){function q(M,D){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object(y.a)(this,q),this.user=M,this.rootRef=null,this.nodes=new Map,this.model=new Pi(M,D,G),this.enabled=typeof G.compressionEnabled=="undefined"?!0:G.compressionEnabled,this.identityProvider=G.identityProvider}return Object(Q.a)(q,[{key:"onDidSplice",get:function(){return this.model.onDidSplice}},{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"onDidChangeRenderNodeCount",get:function(){return this.model.onDidChangeRenderNodeCount}},{key:"setChildren",value:function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ke.a.empty(),oe=arguments.length>2?arguments[2]:void 0,xe=oe.diffIdentityProvider&&mi(oe.diffIdentityProvider);if(D===null){var Ve=Ke.a.map(G,this.enabled?Cr:Ei);this._setChildren(null,Ve,{diffIdentityProvider:xe,diffDepth:Infinity});return}var lt=this.nodes.get(D);if(!lt)throw new we(this.user,"Unknown compressed tree node");var pt=this.model.getNode(lt),xt=this.model.getParentNodeLocation(lt),sn=this.model.getNode(xt),ln=dr(pt),mn=Hn(ln,D,G),Tn=(this.enabled?Cr:Ei)(mn),ai=sn.children.map(function(pi){return pi===pt?Tn:pi});this._setChildren(sn.element,ai,{diffIdentityProvider:xe,diffDepth:pt.depth-sn.depth})}},{key:"setCompressionEnabled",value:function(D){if(D!==this.enabled){this.enabled=D;var G=this.model.getNode(),oe=G.children,xe=Ke.a.map(oe,dr),Ve=Ke.a.map(xe,D?Cr:Ei);this._setChildren(null,Ve,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}}},{key:"_setChildren",value:function(D,G,oe){var xe=this,Ve=new Set,lt=function(sn){var ln=Object(x.a)(sn.element.elements),mn;try{for(ln.s();!(mn=ln.n()).done;){var Tn=mn.value;Ve.add(Tn),xe.nodes.set(Tn,sn.element)}}catch(ai){ln.e(ai)}finally{ln.f()}},pt=function(sn){var ln=Object(x.a)(sn.element.elements),mn;try{for(ln.s();!(mn=ln.n()).done;){var Tn=mn.value;Ve.has(Tn)||xe.nodes.delete(Tn)}}catch(ai){ln.e(ai)}finally{ln.f()}};this.model.setChildren(D,G,Object.assign(Object.assign({},oe),{onDidCreateNode:lt,onDidDeleteNode:pt}))}},{key:"has",value:function(D){return this.nodes.has(D)}},{key:"getListIndex",value:function(D){var G=this.getCompressedNode(D);return this.model.getListIndex(G)}},{key:"getListRenderCount",value:function(D){var G=this.getCompressedNode(D);return this.model.getListRenderCount(G)}},{key:"getNode",value:function(D){if(typeof D=="undefined")return this.model.getNode();var G=this.getCompressedNode(D);return this.model.getNode(G)}},{key:"getNodeLocation",value:function(D){var G=this.model.getNodeLocation(D);return G===null?null:G.elements[G.elements.length-1]}},{key:"getParentNodeLocation",value:function(D){var G=this.getCompressedNode(D),oe=this.model.getParentNodeLocation(G);return oe===null?null:oe.elements[oe.elements.length-1]}},{key:"getFirstElementChild",value:function(D){var G=this.getCompressedNode(D);return this.model.getFirstElementChild(G)}},{key:"isCollapsible",value:function(D){var G=this.getCompressedNode(D);return this.model.isCollapsible(G)}},{key:"setCollapsible",value:function(D,G){var oe=this.getCompressedNode(D);return this.model.setCollapsible(oe,G)}},{key:"isCollapsed",value:function(D){var G=this.getCompressedNode(D);return this.model.isCollapsed(G)}},{key:"setCollapsed",value:function(D,G,oe){var xe=this.getCompressedNode(D);return this.model.setCollapsed(xe,G,oe)}},{key:"expandTo",value:function(D){var G=this.getCompressedNode(D);this.model.expandTo(G)}},{key:"rerender",value:function(D){var G=this.getCompressedNode(D);this.model.rerender(G)}},{key:"refilter",value:function(){this.model.refilter()}},{key:"getCompressedNode",value:function(D){if(D===null)return null;var G=this.nodes.get(D);if(!G)throw new we(this.user,"Tree element not found: ".concat(D));return G}}]),q}(),Xn=function(M){return M[M.length-1]},en=function(){function q(M,D){Object(y.a)(this,q),this.unwrapper=M,this.node=D}return Object(Q.a)(q,[{key:"element",get:function(){return this.node.element===null?null:this.unwrapper(this.node.element)}},{key:"children",get:function(){var D=this;return this.node.children.map(function(G){return new q(D.unwrapper,G)})}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),q}();function yt(q,M){return{splice:function(G,oe,xe){M.splice(G,oe,xe.map(function(Ve){return q.map(Ve)}))},updateElementHeight:function(G,oe){M.updateElementHeight(G,oe)}}}function wn(q,M){return Object.assign(Object.assign({},M),{identityProvider:M.identityProvider&&{getId:function(G){return M.identityProvider.getId(q(G))}},sorter:M.sorter&&{compare:function(G,oe){return M.sorter.compare(G.elements[0],oe.elements[0])}},filter:M.filter&&{filter:function(G,oe){return M.filter.filter(q(G),oe)}}})}var gn=function(){function q(M,D){var G=this,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object(y.a)(this,q),this.rootRef=null,this.elementMapper=oe.elementMapper||Xn;var xe=function(lt){return G.elementMapper(lt.elements)};this.nodeMapper=new Re(function(Ve){return new en(xe,Ve)}),this.model=new hn(M,yt(this.nodeMapper,D),wn(xe,oe))}return Object(Q.a)(q,[{key:"onDidSplice",get:function(){var D=this;return H.c.map(this.model.onDidSplice,function(G){var oe=G.insertedNodes,xe=G.deletedNodes;return{insertedNodes:oe.map(function(Ve){return D.nodeMapper.map(Ve)}),deletedNodes:xe.map(function(Ve){return D.nodeMapper.map(Ve)})}})}},{key:"onDidChangeCollapseState",get:function(){var D=this;return H.c.map(this.model.onDidChangeCollapseState,function(G){var oe=G.node,xe=G.deep;return{node:D.nodeMapper.map(oe),deep:xe}})}},{key:"onDidChangeRenderNodeCount",get:function(){var D=this;return H.c.map(this.model.onDidChangeRenderNodeCount,function(G){return D.nodeMapper.map(G)})}},{key:"setChildren",value:function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ke.a.empty(),oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.model.setChildren(D,G,oe)}},{key:"setCompressionEnabled",value:function(D){this.model.setCompressionEnabled(D)}},{key:"has",value:function(D){return this.model.has(D)}},{key:"getListIndex",value:function(D){return this.model.getListIndex(D)}},{key:"getListRenderCount",value:function(D){return this.model.getListRenderCount(D)}},{key:"getNode",value:function(D){return this.nodeMapper.map(this.model.getNode(D))}},{key:"getNodeLocation",value:function(D){return D.element}},{key:"getParentNodeLocation",value:function(D){return this.model.getParentNodeLocation(D)}},{key:"getFirstElementChild",value:function(D){var G=this.model.getFirstElementChild(D);return G===null||typeof G=="undefined"?G:this.elementMapper(G.elements)}},{key:"isCollapsible",value:function(D){return this.model.isCollapsible(D)}},{key:"setCollapsible",value:function(D,G){return this.model.setCollapsible(D,G)}},{key:"isCollapsed",value:function(D){return this.model.isCollapsed(D)}},{key:"setCollapsed",value:function(D,G,oe){return this.model.setCollapsed(D,G,oe)}},{key:"expandTo",value:function(D){return this.model.expandTo(D)}},{key:"rerender",value:function(D){return this.model.rerender(D)}},{key:"refilter",value:function(){return this.model.refilter()}},{key:"getCompressedTreeNode",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.model.getNode(D)}}]),q}(),rn=a("ZCR3"),bn=function(q,M,D,G){var oe=arguments.length,xe=oe<3?M:G===null?G=Object.getOwnPropertyDescriptor(M,D):G,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(q,M,D,G);else for(var lt=q.length-1;lt>=0;lt--)(Ve=q[lt])&&(xe=(oe<3?Ve(xe):oe>3?Ve(M,D,xe):Ve(M,D))||xe);return oe>3&&xe&&Object.defineProperty(M,D,xe),xe},Qn=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve){var lt,pt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return Object(y.a)(this,D),lt=M.call(this,G,oe,xe,Ve,pt),lt.user=G,lt}return Object(Q.a)(D,[{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"setChildren",value:function(oe){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ke.a.empty(),Ve=arguments.length>2?arguments[2]:void 0;this.model.setChildren(oe,xe,Ve)}},{key:"rerender",value:function(oe){if(oe===void 0){this.view.rerender();return}this.model.rerender(oe)}},{key:"hasElement",value:function(oe){return this.model.has(oe)}},{key:"createModel",value:function(oe,xe,Ve){return new Pi(oe,xe,Ve)}}]),D}(Sr),Ci=function(){function q(M,D){Object(y.a)(this,q),this._compressedTreeNodeProvider=M,this.renderer=D,this.templateId=D.templateId,D.onDidChangeTwistieState&&(this.onDidChangeTwistieState=D.onDidChangeTwistieState)}return Object(Q.a)(q,[{key:"compressedTreeNodeProvider",get:function(){return this._compressedTreeNodeProvider()}},{key:"renderTemplate",value:function(D){var G=this.renderer.renderTemplate(D);return{compressedTreeNode:void 0,data:G}}},{key:"renderElement",value:function(D,G,oe,xe){var Ve=this.compressedTreeNodeProvider.getCompressedTreeNode(D.element);Ve.element.elements.length===1?(oe.compressedTreeNode=void 0,this.renderer.renderElement(D,G,oe.data,xe)):(oe.compressedTreeNode=Ve,this.renderer.renderCompressedElements(Ve,G,oe.data,xe))}},{key:"disposeElement",value:function(D,G,oe,xe){var Ve,lt,pt,xt;oe.compressedTreeNode?(lt=(Ve=this.renderer).disposeCompressedElements)===null||lt===void 0||lt.call(Ve,oe.compressedTreeNode,G,oe.data,xe):(xt=(pt=this.renderer).disposeElement)===null||xt===void 0||xt.call(pt,D,G,oe.data,xe)}},{key:"disposeTemplate",value:function(D){this.renderer.disposeTemplate(D.data)}},{key:"renderTwistie",value:function(D,G){return this.renderer.renderTwistie?this.renderer.renderTwistie(D,G):!1}}]),q}();bn([rn.a],Ci.prototype,"compressedTreeNodeProvider",null);function yr(q,M){return M&&Object.assign(Object.assign({},M),{keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel:function(G){var oe;try{oe=q().getCompressedTreeNode(G)}catch(xe){return M.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(G)}return oe.element.elements.length===1?M.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(G):M.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(oe.element.elements)}}})}var _i=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve){var lt,pt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Object(y.a)(this,D);var xt=function(){return Object(E.a)(lt)},sn=Ve.map(function(ln){return new Ci(xt,ln)});return lt=M.call(this,G,oe,xe,sn,yr(xt,pt))}return Object(Q.a)(D,[{key:"setChildren",value:function(oe){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ke.a.empty(),Ve=arguments.length>2?arguments[2]:void 0;this.model.setChildren(oe,xe,Ve)}},{key:"createModel",value:function(oe,xe,Ve){return new gn(oe,xe,Ve)}},{key:"updateOptions",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object(ve.a)(Object(re.a)(D.prototype),"updateOptions",this).call(this,oe),typeof oe.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(oe.compressionEnabled)}},{key:"getCompressedTreeNode",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.model.getCompressedTreeNode(oe)}}]),D}(Qn),Bn=a("/cxE"),tt=function(q,M,D,G){function oe(xe){return xe instanceof D?xe:new D(function(Ve){Ve(xe)})}return new(D||(D=Promise))(function(xe,Ve){function lt(sn){try{xt(G.next(sn))}catch(ln){Ve(ln)}}function pt(sn){try{xt(G.throw(sn))}catch(ln){Ve(ln)}}function xt(sn){sn.done?xe(sn.value):oe(sn.value).then(lt,pt)}xt((G=G.apply(q,M||[])).next())})};function Lt(q){return Object.assign(Object.assign({},q),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function xi(q,M){return M.parent?M.parent===q?!0:xi(q,M.parent):!1}function Qi(q,M){return q===M||xi(q,M)||xi(M,q)}var mr=function(){function q(M){Object(y.a)(this,q),this.node=M}return Object(Q.a)(q,[{key:"element",get:function(){return this.node.element.element}},{key:"children",get:function(){return this.node.children.map(function(D){return new q(D)})}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),q}(),pr=function(){function q(M,D,G){Object(y.a)(this,q),this.renderer=M,this.nodeMapper=D,this.onDidChangeTwistieState=G,this.renderedNodes=new Map,this.templateId=M.templateId}return Object(Q.a)(q,[{key:"renderTemplate",value:function(D){var G=this.renderer.renderTemplate(D);return{templateData:G}}},{key:"renderElement",value:function(D,G,oe,xe){this.renderer.renderElement(this.nodeMapper.map(D),G,oe.templateData,xe)}},{key:"renderTwistie",value:function(D,G){if(D.slow){var oe;return(oe=G.classList).add.apply(oe,Object(C.a)(Je.a.asClassNameArray(jt.a.treeItemLoading))),!0}else{var xe;return(xe=G.classList).remove.apply(xe,Object(C.a)(Je.a.asClassNameArray(jt.a.treeItemLoading))),!1}}},{key:"disposeElement",value:function(D,G,oe,xe){var Ve,lt;(lt=(Ve=this.renderer).disposeElement)===null||lt===void 0||lt.call(Ve,this.nodeMapper.map(D),G,oe.templateData,xe)}},{key:"disposeTemplate",value:function(D){this.renderer.disposeTemplate(D.templateData)}},{key:"dispose",value:function(){this.renderedNodes.clear()}}]),q}();function St(q){return{browserEvent:q.browserEvent,elements:q.elements.map(function(M){return M.element})}}function Gi(q){return{browserEvent:q.browserEvent,element:q.element&&q.element.element,target:q.target}}var an=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G){var oe;return Object(y.a)(this,D),oe=M.call(this,G.elements.map(function(xe){return xe.element})),oe.data=G,oe}return Object(Q.a)(D)}(w.a);function Qe(q){return q instanceof w.a?new an(q):q}var Jn=function(){function q(M){Object(y.a)(this,q),this.dnd=M}return Object(Q.a)(q,[{key:"getDragURI",value:function(D){return this.dnd.getDragURI(D.element)}},{key:"getDragLabel",value:function(D,G){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(D.map(function(oe){return oe.element}),G)}},{key:"onDragStart",value:function(D,G){var oe,xe;(xe=(oe=this.dnd).onDragStart)===null||xe===void 0||xe.call(oe,Qe(D),G)}},{key:"onDragOver",value:function(D,G,oe,xe){var Ve=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return this.dnd.onDragOver(Qe(D),G&&G.element,oe,xe)}},{key:"drop",value:function(D,G,oe,xe){this.dnd.drop(Qe(D),G&&G.element,oe,xe)}},{key:"onDragEnd",value:function(D){var G,oe;(oe=(G=this.dnd).onDragEnd)===null||oe===void 0||oe.call(G,D)}}]),q}();function ii(q){return q&&Object.assign(Object.assign({},q),{collapseByDefault:!0,identityProvider:q.identityProvider&&{getId:function(D){return q.identityProvider.getId(D.element)}},dnd:q.dnd&&new Jn(q.dnd),multipleSelectionController:q.multipleSelectionController&&{isSelectionSingleChangeEvent:function(D){return q.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},D),{element:D.element}))},isSelectionRangeChangeEvent:function(D){return q.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},D),{element:D.element}))}},accessibilityProvider:q.accessibilityProvider&&Object.assign(Object.assign({},q.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:q.accessibilityProvider.getRole?function(M){return q.accessibilityProvider.getRole(M.element)}:function(){return"treeitem"},isChecked:q.accessibilityProvider.isChecked?function(M){var D;return!!((D=q.accessibilityProvider)===null||D===void 0?void 0:D.isChecked(M.element))}:void 0,getAriaLabel:function(D){return q.accessibilityProvider.getAriaLabel(D.element)},getWidgetAriaLabel:function(){return q.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:q.accessibilityProvider.getWidgetRole?function(){return q.accessibilityProvider.getWidgetRole()}:function(){return"tree"},getAriaLevel:q.accessibilityProvider.getAriaLevel&&function(M){return q.accessibilityProvider.getAriaLevel(M.element)},getActiveDescendantId:q.accessibilityProvider.getActiveDescendantId&&function(M){return q.accessibilityProvider.getActiveDescendantId(M.element)}}),filter:q.filter&&{filter:function(D,G){return q.filter.filter(D.element,G)}},keyboardNavigationLabelProvider:q.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},q.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(D){return q.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(D.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof q.expandOnlyOnTwistieClick=="undefined"?void 0:typeof q.expandOnlyOnTwistieClick!="function"?q.expandOnlyOnTwistieClick:function(M){return q.expandOnlyOnTwistieClick(M.element)},defaultFindVisibility:function(D){return D.hasChildren&&D.stale?1:typeof q.defaultFindVisibility=="number"?q.defaultFindVisibility:typeof q.defaultFindVisibility=="undefined"?2:q.defaultFindVisibility(D.element)}})}function Li(q,M){M(q),q.children.forEach(function(D){return Li(D,M)})}var Fn=function(){function q(M,D,G,oe,xe){var Ve=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};Object(y.a)(this,q),this.user=M,this.dataSource=xe,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new H.b,this._onDidChangeNodeSlowState=new H.b,this.nodeMapper=new Re(function(lt){return new mr(lt)}),this.disposables=new W.c,this.identityProvider=Ve.identityProvider,this.autoExpandSingleChildren=typeof Ve.autoExpandSingleChildren=="undefined"?!1:Ve.autoExpandSingleChildren,this.sorter=Ve.sorter,this.collapseByDefault=Ve.collapseByDefault,this.tree=this.createTree(M,D,G,oe,Ve),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Lt({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}return Object(Q.a)(q,[{key:"onDidChangeFocus",get:function(){return H.c.map(this.tree.onDidChangeFocus,St)}},{key:"onDidChangeSelection",get:function(){return H.c.map(this.tree.onDidChangeSelection,St)}},{key:"onMouseDblClick",get:function(){return H.c.map(this.tree.onMouseDblClick,Gi)}},{key:"onPointer",get:function(){return H.c.map(this.tree.onPointer,Gi)}},{key:"onDidFocus",get:function(){return this.tree.onDidFocus}},{key:"onDidChangeModel",get:function(){return this.tree.onDidChangeModel}},{key:"onDidChangeCollapseState",get:function(){return this.tree.onDidChangeCollapseState}},{key:"onDidChangeFindOpenState",get:function(){return this.tree.onDidChangeFindOpenState}},{key:"onDidDispose",get:function(){return this.tree.onDidDispose}},{key:"createTree",value:function(D,G,oe,xe,Ve){var lt=this,pt=new Ye(oe),xt=xe.map(function(ln){return new pr(ln,lt.nodeMapper,lt._onDidChangeNodeSlowState.event)}),sn=ii(Ve)||{};return new Qn(D,G,pt,xt,sn)}},{key:"updateOptions",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.tree.updateOptions(D)}},{key:"getHTMLElement",value:function(){return this.tree.getHTMLElement()}},{key:"scrollTop",get:function(){return this.tree.scrollTop},set:function(D){this.tree.scrollTop=D}},{key:"domFocus",value:function(){this.tree.domFocus()}},{key:"layout",value:function(D,G){this.tree.layout(D,G)}},{key:"style",value:function(D){this.tree.style(D)}},{key:"getInput",value:function(){return this.root.element}},{key:"setInput",value:function(D,G){return tt(this,void 0,void 0,Object(de.a)().mark(function oe(){var xe;return Object(de.a)().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return this.refreshPromises.forEach(function(pt){return pt.cancel()}),this.refreshPromises.clear(),this.root.element=D,xe=G&&{viewState:G,focus:[],selection:[]},lt.next=6,this._updateChildren(D,!0,!1,xe);case 6:xe&&(this.tree.setFocus(xe.focus),this.tree.setSelection(xe.selection)),G&&typeof G.scrollTop=="number"&&(this.scrollTop=G.scrollTop);case 8:case"end":return lt.stop()}},oe,this)}))}},{key:"_updateChildren",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.root.element,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,xe=arguments.length>3?arguments[3]:void 0,Ve=arguments.length>4?arguments[4]:void 0;return tt(this,void 0,void 0,Object(de.a)().mark(function lt(){var pt;return Object(de.a)().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:if(typeof this.root.element!="undefined"){sn.next=2;break}throw new we(this.user,"Tree input not set");case 2:if(!this.root.refreshPromise){sn.next=7;break}return sn.next=5,this.root.refreshPromise;case 5:return sn.next=7,H.c.toPromise(this._onDidRender.event);case 7:return pt=this.getDataNode(D),sn.next=10,this.refreshAndRenderNode(pt,G,xe,Ve);case 10:if(oe)try{this.tree.rerender(pt)}catch(ln){}case 11:case"end":return sn.stop()}},lt,this)}))}},{key:"rerender",value:function(D){if(D===void 0||D===this.root.element){this.tree.rerender();return}var G=this.getDataNode(D);this.tree.rerender(G)}},{key:"getNode",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.root.element,G=this.getDataNode(D),oe=this.tree.getNode(G===this.root?null:G);return this.nodeMapper.map(oe)}},{key:"collapse",value:function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=this.getDataNode(D);return this.tree.collapse(oe===this.root?null:oe,G)}},{key:"expand",value:function(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return tt(this,void 0,void 0,Object(de.a)().mark(function oe(){var xe,Ve;return Object(de.a)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(typeof this.root.element!="undefined"){pt.next=2;break}throw new we(this.user,"Tree input not set");case 2:if(!this.root.refreshPromise){pt.next=7;break}return pt.next=5,this.root.refreshPromise;case 5:return pt.next=7,H.c.toPromise(this._onDidRender.event);case 7:if(xe=this.getDataNode(D),!(this.tree.hasElement(xe)&&!this.tree.isCollapsible(xe))){pt.next=10;break}return pt.abrupt("return",!1);case 10:if(!xe.refreshPromise){pt.next=15;break}return pt.next=13,this.root.refreshPromise;case 13:return pt.next=15,H.c.toPromise(this._onDidRender.event);case 15:if(!(xe!==this.root&&!xe.refreshPromise&&!this.tree.isCollapsed(xe))){pt.next=17;break}return pt.abrupt("return",!1);case 17:if(Ve=this.tree.expand(xe===this.root?null:xe,G),!xe.refreshPromise){pt.next=23;break}return pt.next=21,this.root.refreshPromise;case 21:return pt.next=23,H.c.toPromise(this._onDidRender.event);case 23:return pt.abrupt("return",Ve);case 24:case"end":return pt.stop()}},oe,this)}))}},{key:"setSelection",value:function(D,G){var oe=this,xe=D.map(function(Ve){return oe.getDataNode(Ve)});this.tree.setSelection(xe,G)}},{key:"getSelection",value:function(){var D=this.tree.getSelection();return D.map(function(G){return G.element})}},{key:"setFocus",value:function(D,G){var oe=this,xe=D.map(function(Ve){return oe.getDataNode(Ve)});this.tree.setFocus(xe,G)}},{key:"getFocus",value:function(){var D=this.tree.getFocus();return D.map(function(G){return G.element})}},{key:"reveal",value:function(D,G){this.tree.reveal(this.getDataNode(D),G)}},{key:"getParentElement",value:function(D){var G=this.tree.getParentElement(this.getDataNode(D));return G&&G.element}},{key:"getFirstElementChild",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.root.element,G=this.getDataNode(D),oe=this.tree.getFirstElementChild(G===this.root?null:G);return oe&&oe.element}},{key:"getDataNode",value:function(D){var G=this.nodes.get(D===this.root.element?null:D);if(!G)throw new we(this.user,"Data tree node not found: ".concat(D));return G}},{key:"refreshAndRenderNode",value:function(D,G,oe,xe){return tt(this,void 0,void 0,Object(de.a)().mark(function Ve(){return Object(de.a)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return pt.next=2,this.refreshNode(D,G,oe);case 2:this.render(D,oe,xe);case 3:case"end":return pt.stop()}},Ve,this)}))}},{key:"refreshNode",value:function(D,G,oe){return tt(this,void 0,void 0,Object(de.a)().mark(function xe(){var Ve=this,lt,pt;return Object(de.a)().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:if(this.subTreeRefreshPromises.forEach(function(ln,mn){!lt&&Qi(mn,D)&&(lt=ln.then(function(){return Ve.refreshNode(D,G,oe)}))}),!lt){sn.next=3;break}return sn.abrupt("return",lt);case 3:if(D===this.root){sn.next=9;break}if(pt=this.tree.getNode(D),!pt.collapsed){sn.next=9;break}return D.hasChildren=!!this.dataSource.hasChildren(D.element),D.stale=!0,sn.abrupt("return");case 9:return sn.abrupt("return",this.doRefreshSubTree(D,G,oe));case 10:case"end":return sn.stop()}},xe,this)}))}},{key:"doRefreshSubTree",value:function(D,G,oe){return tt(this,void 0,void 0,Object(de.a)().mark(function xe(){var Ve=this,lt,pt;return Object(de.a)().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:return D.refreshPromise=new Promise(function(ln){return lt=ln}),this.subTreeRefreshPromises.set(D,D.refreshPromise),D.refreshPromise.finally(function(){D.refreshPromise=void 0,Ve.subTreeRefreshPromises.delete(D)}),sn.prev=3,sn.next=6,this.doRefreshNode(D,G,oe);case 6:return pt=sn.sent,D.stale=!1,sn.next=10,Oe.f.settled(pt.map(function(ln){return Ve.doRefreshSubTree(ln,G,oe)}));case 10:return sn.prev=10,lt(),sn.finish(10);case 13:case"end":return sn.stop()}},xe,this,[[3,,10,13]])}))}},{key:"doRefreshNode",value:function(D,G,oe){return tt(this,void 0,void 0,Object(de.a)().mark(function xe(){var Ve=this,lt,pt,xt,sn;return Object(de.a)().wrap(function(mn){for(;;)switch(mn.prev=mn.next){case 0:return D.hasChildren=!!this.dataSource.hasChildren(D.element),D.hasChildren?(pt=this.doGetChildren(D),Object(ye.f)(pt)?lt=Promise.resolve(pt):(xt=Object(Oe.q)(800),xt.then(function(){D.slow=!0,Ve._onDidChangeNodeSlowState.fire(D)},function(Tn){return null}),lt=pt.finally(function(){return xt.cancel()}))):lt=Promise.resolve(Ke.a.empty()),mn.prev=2,mn.next=5,lt;case 5:return sn=mn.sent,mn.abrupt("return",this.setChildren(D,sn,G,oe));case 9:if(mn.prev=9,mn.t0=mn.catch(2),D!==this.root&&this.tree.hasElement(D)&&this.tree.collapse(D),!Object(Bn.g)(mn.t0)){mn.next=14;break}return mn.abrupt("return",[]);case 14:throw mn.t0;case 15:return mn.prev=15,D.slow&&(D.slow=!1,this._onDidChangeNodeSlowState.fire(D)),mn.finish(15);case 18:case"end":return mn.stop()}},xe,this,[[2,9,15,18]])}))}},{key:"doGetChildren",value:function(D){var G=this,oe=this.refreshPromises.get(D);if(oe)return oe;var xe=this.dataSource.getChildren(D.element);return Object(ye.f)(xe)?this.processChildren(xe):(oe=Object(Oe.k)(function(){return tt(G,void 0,void 0,Object(de.a)().mark(function Ve(){return Object(de.a)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return pt.t0=this,pt.next=3,xe;case 3:return pt.t1=pt.sent,pt.abrupt("return",pt.t0.processChildren.call(pt.t0,pt.t1));case 5:case"end":return pt.stop()}},Ve,this)}))}),this.refreshPromises.set(D,oe),oe.finally(function(){G.refreshPromises.delete(D)}))}},{key:"_onDidChangeCollapseState",value:function(D){var G=D.node,oe=D.deep;G.element!==null&&!G.collapsed&&G.element.stale&&(oe?this.collapse(G.element.element):this.refreshAndRenderNode(G.element,!1).catch(Bn.h))}},{key:"setChildren",value:function(D,G,oe,xe){var Ve=this,lt,pt=Object(C.a)(G);if(D.children.length===0&&pt.length===0)return[];var xt=new Map,sn=new Map,ln=Object(x.a)(D.children),mn;try{for(ln.s();!(mn=ln.n()).done;){var Tn=mn.value;if(xt.set(Tn.element,Tn),this.identityProvider){var ai=this.tree.isCollapsed(Tn);sn.set(Tn.id,{node:Tn,collapsed:ai})}}}catch(ea){ln.e(ea)}finally{ln.f()}var pi=[],yi=pt.map(function(ea){var ya=!!Ve.dataSource.hasChildren(ea);if(!Ve.identityProvider){var Da=Lt({element:ea,parent:D,hasChildren:ya});return ya&&Ve.collapseByDefault&&!Ve.collapseByDefault(ea)&&(Da.collapsedByDefault=!1,pi.push(Da)),Da}var ta=Ve.identityProvider.getId(ea).toString(),Ya=sn.get(ta);if(Ya){var Va=Ya.node;return xt.delete(Va.element),Ve.nodes.delete(Va.element),Ve.nodes.set(ea,Va),Va.element=ea,Va.hasChildren=ya,oe?Ya.collapsed?(Va.children.forEach(function(po){return Li(po,function(zo){return Ve.nodes.delete(zo.element)})}),Va.children.splice(0,Va.children.length),Va.stale=!0):pi.push(Va):ya&&Ve.collapseByDefault&&!Ve.collapseByDefault(ea)&&(Va.collapsedByDefault=!1,pi.push(Va)),Va}var mo=Lt({element:ea,parent:D,id:ta,hasChildren:ya});return xe&&xe.viewState.focus&&xe.viewState.focus.indexOf(ta)>-1&&xe.focus.push(mo),xe&&xe.viewState.selection&&xe.viewState.selection.indexOf(ta)>-1&&xe.selection.push(mo),xe&&xe.viewState.expanded&&xe.viewState.expanded.indexOf(ta)>-1?pi.push(mo):ya&&Ve.collapseByDefault&&!Ve.collapseByDefault(ea)&&(mo.collapsedByDefault=!1,pi.push(mo)),mo}),vi=Object(x.a)(xt.values()),Bt;try{for(vi.s();!(Bt=vi.n()).done;){var hr=Bt.value;Li(hr,function(ea){return Ve.nodes.delete(ea.element)})}}catch(ea){vi.e(ea)}finally{vi.f()}var Ii=Object(x.a)(yi),Ar;try{for(Ii.s();!(Ar=Ii.n()).done;){var Gr=Ar.value;this.nodes.set(Gr.element,Gr)}}catch(ea){Ii.e(ea)}finally{Ii.f()}return(lt=D.children).splice.apply(lt,[0,D.children.length].concat(Object(C.a)(yi))),D!==this.root&&this.autoExpandSingleChildren&&yi.length===1&&pi.length===0&&(yi[0].collapsedByDefault=!1,pi.push(yi[0])),pi}},{key:"render",value:function(D,G,oe){var xe=this,Ve=D.children.map(function(pt){return xe.asTreeElement(pt,G)}),lt=oe&&Object.assign(Object.assign({},oe),{diffIdentityProvider:oe.diffIdentityProvider&&{getId:function(xt){return oe.diffIdentityProvider.getId(xt.element)}}});this.tree.setChildren(D===this.root?null:D,Ve,lt),D!==this.root&&this.tree.setCollapsible(D,D.hasChildren),this._onDidRender.fire()}},{key:"asTreeElement",value:function(D,G){var oe=this;if(D.stale)return{element:D,collapsible:D.hasChildren,collapsed:!0};var xe;return G&&G.viewState.expanded&&D.id&&G.viewState.expanded.indexOf(D.id)>-1?xe=!1:xe=D.collapsedByDefault,D.collapsedByDefault=void 0,{element:D,children:D.hasChildren?Ke.a.map(D.children,function(Ve){return oe.asTreeElement(Ve,G)}):[],collapsible:D.hasChildren,collapsed:xe}}},{key:"processChildren",value:function(D){return this.sorter&&(D=Object(C.a)(D).sort(this.sorter.compare.bind(this.sorter))),D}},{key:"dispose",value:function(){this.disposables.dispose()}}]),q}(),jn=function(){function q(M){Object(y.a)(this,q),this.node=M}return Object(Q.a)(q,[{key:"element",get:function(){return{elements:this.node.element.elements.map(function(D){return D.element}),incompressible:this.node.element.incompressible}}},{key:"children",get:function(){return this.node.children.map(function(D){return new q(D)})}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),q}(),Nt=function(){function q(M,D,G,oe){Object(y.a)(this,q),this.renderer=M,this.nodeMapper=D,this.compressibleNodeMapperProvider=G,this.onDidChangeTwistieState=oe,this.renderedNodes=new Map,this.disposables=[],this.templateId=M.templateId}return Object(Q.a)(q,[{key:"renderTemplate",value:function(D){var G=this.renderer.renderTemplate(D);return{templateData:G}}},{key:"renderElement",value:function(D,G,oe,xe){this.renderer.renderElement(this.nodeMapper.map(D),G,oe.templateData,xe)}},{key:"renderCompressedElements",value:function(D,G,oe,xe){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(D),G,oe.templateData,xe)}},{key:"renderTwistie",value:function(D,G){if(D.slow){var oe;return(oe=G.classList).add.apply(oe,Object(C.a)(Je.a.asClassNameArray(jt.a.treeItemLoading))),!0}else{var xe;return(xe=G.classList).remove.apply(xe,Object(C.a)(Je.a.asClassNameArray(jt.a.treeItemLoading))),!1}}},{key:"disposeElement",value:function(D,G,oe,xe){var Ve,lt;(lt=(Ve=this.renderer).disposeElement)===null||lt===void 0||lt.call(Ve,this.nodeMapper.map(D),G,oe.templateData,xe)}},{key:"disposeCompressedElements",value:function(D,G,oe,xe){var Ve,lt;(lt=(Ve=this.renderer).disposeCompressedElements)===null||lt===void 0||lt.call(Ve,this.compressibleNodeMapperProvider().map(D),G,oe.templateData,xe)}},{key:"disposeTemplate",value:function(D){this.renderer.disposeTemplate(D.templateData)}},{key:"dispose",value:function(){this.renderedNodes.clear(),this.disposables=Object(W.i)(this.disposables)}}]),q}();function Gt(q){var M=q&&ii(q);return M&&Object.assign(Object.assign({},M),{keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},M.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:function(G){return q.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(G.map(function(oe){return oe.element}))}})})}var Et=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve,lt,pt){var xt,sn=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{};return Object(y.a)(this,D),xt=M.call(this,G,oe,xe,lt,pt,sn),xt.compressionDelegate=Ve,xt.compressibleNodeMapper=new Re(function(ln){return new jn(ln)}),xt.filter=sn.filter,xt}return Object(Q.a)(D,[{key:"createTree",value:function(oe,xe,Ve,lt,pt){var xt=this,sn=new Ye(Ve),ln=lt.map(function(Tn){return new Nt(Tn,xt.nodeMapper,function(){return xt.compressibleNodeMapper},xt._onDidChangeNodeSlowState.event)}),mn=Gt(pt)||{};return new _i(oe,xe,sn,ln,mn)}},{key:"asTreeElement",value:function(oe,xe){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(oe.element)},Object(ve.a)(Object(re.a)(D.prototype),"asTreeElement",this).call(this,oe,xe))}},{key:"updateOptions",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.tree.updateOptions(oe)}},{key:"render",value:function(oe,xe){var Ve=this;if(!this.identityProvider)return Object(ve.a)(Object(re.a)(D.prototype),"render",this).call(this,oe,xe);var lt=function(vi){return Ve.identityProvider.getId(vi).toString()},pt=function(vi){var Bt=new Set,hr=Object(x.a)(vi),Ii;try{for(hr.s();!(Ii=hr.n()).done;){var Ar=Ii.value,Gr=Ve.tree.getCompressedTreeNode(Ar===Ve.root?null:Ar);if(!!Gr.element){var ea=Object(x.a)(Gr.element.elements),ya;try{for(ea.s();!(ya=ea.n()).done;){var Da=ya.value;Bt.add(lt(Da.element))}}catch(ta){ea.e(ta)}finally{ea.f()}}}}catch(ta){hr.e(ta)}finally{hr.f()}return Bt},xt=pt(this.tree.getSelection()),sn=pt(this.tree.getFocus());Object(ve.a)(Object(re.a)(D.prototype),"render",this).call(this,oe,xe);var ln=this.getSelection(),mn=!1,Tn=this.getFocus(),ai=!1,pi=function yi(vi){var Bt=vi.element;if(Bt)for(var hr=0;hr<Bt.elements.length;hr++){var Ii=lt(Bt.elements[hr].element),Ar=Bt.elements[Bt.elements.length-1].element;xt.has(Ii)&&ln.indexOf(Ar)===-1&&(ln.push(Ar),mn=!0),sn.has(Ii)&&Tn.indexOf(Ar)===-1&&(Tn.push(Ar),ai=!0)}vi.children.forEach(yi)};pi(this.tree.getCompressedTreeNode(oe===this.root?null:oe)),mn&&this.setSelection(ln),ai&&this.setFocus(Tn)}},{key:"processChildren",value:function(oe){var xe=this;return this.filter&&(oe=Ke.a.filter(oe,function(Ve){var lt=xe.filter.filter(Ve,1),pt=Rt(lt);if(pt===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return pt===1})),Object(ve.a)(Object(re.a)(D.prototype),"processChildren",this).call(this,oe)}}]),D}(Fn);function Rt(q){return typeof q=="boolean"?q?1:0:Xe(q)?wt(q.visibility):wt(q)}var dn=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve,lt){var pt,xt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return Object(y.a)(this,D),pt=M.call(this,G,oe,xe,Ve,xt),pt.user=G,pt.dataSource=lt,pt.identityProvider=xt.identityProvider,pt}return Object(Q.a)(D,[{key:"createModel",value:function(oe,xe,Ve){return new Pi(oe,xe,Ve)}}]),D}(Sr),et=a("+7oY"),Ze=a("CRAX"),on=a("T8No"),tn=a("FmXZ"),Dt=a("Uzvx"),pn=a("Cg/j"),ti=a("bexQ"),kn=a("ic2d"),Vt=a("99AM"),Oi,Yi=function(q,M,D,G){var oe=arguments.length,xe=oe<3?M:G===null?G=Object.getOwnPropertyDescriptor(M,D):G,Ve;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(q,M,D,G);else for(var lt=q.length-1;lt>=0;lt--)(Ve=q[lt])&&(xe=(oe<3?Ve(xe):oe>3?Ve(M,D,xe):Ve(M,D))||xe);return oe>3&&xe&&Object.defineProperty(M,D,xe),xe},Hi=function(q,M){return function(D,G){M(D,G,q)}},qi=Object(pn.c)("listService"),Qr=function(){function q(){Object(y.a)(this,q),this.disposables=new W.c,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}return Object(Q.a)(q,[{key:"lastFocusedList",get:function(){return this._lastFocusedWidget}},{key:"setLastFocusedList",value:function(D){var G,oe;D!==this._lastFocusedWidget&&((G=this._lastFocusedWidget)===null||G===void 0||G.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=D,(oe=this._lastFocusedWidget)===null||oe===void 0||oe.getHTMLElement().classList.add("last-focused"))}},{key:"register",value:function(D,G){var oe=this;if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;var xe=new V.a(Object(L.createStyleSheet)(),"");xe.style(Vt.f)}if(this.lists.some(function(lt){return lt.widget===D}))throw new Error("Cannot register the same widget multiple times");var Ve={widget:D,extraContextKeys:G};return this.lists.push(Ve),D.getHTMLElement()===document.activeElement&&this.setLastFocusedList(D),Object(W.h)(D.onDidFocus(function(){return oe.setLastFocusedList(D)}),Object(W.l)(function(){return oe.lists.splice(oe.lists.indexOf(Ve),1)}),D.onDidDispose(function(){oe.lists=oe.lists.filter(function(lt){return lt!==Ve}),oe._lastFocusedWidget===D&&oe.setLastFocusedList(void 0)}))}},{key:"dispose",value:function(){this.disposables.dispose()}}]),q}(),Mr=new on.c("listFocus",!0),na=new on.c("listSupportsMultiselect",!0),Br=on.a.and(Mr,on.a.not(tn.a)),ha=new on.c("listHasSelectionOrFocus",!1),vn=new on.c("listDoubleSelection",!1),Ln=new on.c("listMultiSelection",!1),ut=new on.c("listSelectionNavigation",!1),Tt=new on.c("listSupportsFind",!0),Pt=new on.c("treeElementCanCollapse",!1),Zt=new on.c("treeElementHasParent",!1),Ut=new on.c("treeElementCanExpand",!1),Nn=new on.c("treeElementHasChild",!1),In=new on.c("treeFindOpen",!1),Wn="listTypeNavigationMode",oi="listAutomaticKeyboardNavigation";function bi(q,M){var D=q.createScoped(M.getHTMLElement());return Mr.bindTo(D),D}var _n="workbench.list.multiSelectModifier",li="workbench.list.openMode",ki="workbench.list.horizontalScrolling",Ki="workbench.list.defaultFindMode",Tr="workbench.list.typeNavigationMode",ir="workbench.list.keyboardNavigation",Er="workbench.list.scrollByPage",va="workbench.list.defaultFindMatchType",Sn="workbench.tree.indent",ri="workbench.tree.renderIndentGuides",Vn="workbench.list.smoothScrolling",Ai="workbench.list.mouseWheelScrollSensitivity",or="workbench.list.fastScrollSensitivity",Zi="workbench.tree.expandMode";function zi(q){return q.getValue(_n)==="alt"}var Wr=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G){var oe;return Object(y.a)(this,D),oe=M.call(this),oe.configurationService=G,oe.useAltAsMultipleSelectionModifier=zi(G),oe.registerListeners(),oe}return Object(Q.a)(D,[{key:"registerListeners",value:function(){var oe=this;this._register(this.configurationService.onDidChangeConfiguration(function(xe){xe.affectsConfiguration(_n)&&(oe.useAltAsMultipleSelectionModifier=zi(oe.configurationService))}))}},{key:"isSelectionSingleChangeEvent",value:function(oe){return this.useAltAsMultipleSelectionModifier?oe.browserEvent.altKey:Object(V.i)(oe)}},{key:"isSelectionRangeChangeEvent",value:function(oe){return Object(V.h)(oe)}}]),D}(W.a);function Ra(q,M){var D,G=q.get(et.a),oe=q.get(ti.a),xe=new W.c,Ve=Object.assign(Object.assign({},M),{keyboardNavigationDelegate:{mightProducePrintableCharacter:function(pt){return oe.mightProducePrintableCharacter(pt)}},smoothScrolling:Boolean(G.getValue(Vn)),mouseWheelScrollSensitivity:G.getValue(Ai),fastScrollSensitivity:G.getValue(or),multipleSelectionController:(D=M.multipleSelectionController)!==null&&D!==void 0?D:xe.add(new Wr(G)),keyboardNavigationEventFilter:Zo(oe),scrollByPage:Boolean(G.getValue(Er))});return[Ve,xe]}var Nr=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve,lt,pt,xt,sn,ln){var mn;Object(y.a)(this,D);var Tn=typeof lt.horizontalScrolling!="undefined"?lt.horizontalScrolling:Boolean(sn.getValue(ki)),ai=ln.invokeFunction(Ra,lt),pi=Object(De.a)(ai,2),yi=pi[0],vi=pi[1];mn=M.call(this,G,oe,xe,Ve,Object.assign(Object.assign({keyboardSupport:!1},yi),{horizontalScrolling:Tn})),mn.disposables.add(vi),mn.contextKeyService=bi(pt,Object(E.a)(mn)),mn.listSupportsMultiSelect=na.bindTo(mn.contextKeyService),mn.listSupportsMultiSelect.set(lt.multipleSelectionSupport!==!1);var Bt=ut.bindTo(mn.contextKeyService);return Bt.set(Boolean(lt.selectionNavigation)),mn.listHasSelectionOrFocus=ha.bindTo(mn.contextKeyService),mn.listDoubleSelection=vn.bindTo(mn.contextKeyService),mn.listMultiSelection=Ln.bindTo(mn.contextKeyService),mn.horizontalScrolling=lt.horizontalScrolling,mn._useAltAsMultipleSelectionModifier=zi(sn),mn.disposables.add(mn.contextKeyService),mn.disposables.add(xt.register(Object(E.a)(mn))),mn.updateStyles(lt.overrideStyles),mn.disposables.add(mn.onDidChangeSelection(function(){var hr=mn.getSelection(),Ii=mn.getFocus();mn.contextKeyService.bufferChangeEvents(function(){mn.listHasSelectionOrFocus.set(hr.length>0||Ii.length>0),mn.listMultiSelection.set(hr.length>1),mn.listDoubleSelection.set(hr.length===2)})})),mn.disposables.add(mn.onDidChangeFocus(function(){var hr=mn.getSelection(),Ii=mn.getFocus();mn.listHasSelectionOrFocus.set(hr.length>0||Ii.length>0)})),mn.disposables.add(sn.onDidChangeConfiguration(function(hr){hr.affectsConfiguration(_n)&&(mn._useAltAsMultipleSelectionModifier=zi(sn));var Ii={};if(hr.affectsConfiguration(ki)&&mn.horizontalScrolling===void 0){var Ar=Boolean(sn.getValue(ki));Ii=Object.assign(Object.assign({},Ii),{horizontalScrolling:Ar})}if(hr.affectsConfiguration(Er)){var Gr=Boolean(sn.getValue(Er));Ii=Object.assign(Object.assign({},Ii),{scrollByPage:Gr})}if(hr.affectsConfiguration(Vn)){var ea=Boolean(sn.getValue(Vn));Ii=Object.assign(Object.assign({},Ii),{smoothScrolling:ea})}if(hr.affectsConfiguration(Ai)){var ya=sn.getValue(Ai);Ii=Object.assign(Object.assign({},Ii),{mouseWheelScrollSensitivity:ya})}if(hr.affectsConfiguration(or)){var Da=sn.getValue(or);Ii=Object.assign(Object.assign({},Ii),{fastScrollSensitivity:Da})}Object.keys(Ii).length>0&&mn.updateOptions(Ii)})),mn.navigator=new io(Object(E.a)(mn),Object.assign({configurationService:sn},lt)),mn.disposables.add(mn.navigator),mn}return Object(Q.a)(D,[{key:"updateOptions",value:function(oe){Object(ve.a)(Object(re.a)(D.prototype),"updateOptions",this).call(this,oe),oe.overrideStyles!==void 0&&this.updateStyles(oe.overrideStyles),oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}},{key:"updateStyles",value:function(oe){this.style(oe?Object(Vt.k)(oe):Vt.f)}}]),D}(V.b);Nr=Yi([Hi(5,on.b),Hi(6,qi),Hi(7,et.a),Hi(8,pn.a)],Nr);var xa=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve,lt,pt,xt,sn,ln){var mn;Object(y.a)(this,D);var Tn=typeof lt.horizontalScrolling!="undefined"?lt.horizontalScrolling:Boolean(sn.getValue(ki)),ai=ln.invokeFunction(Ra,lt),pi=Object(De.a)(ai,2),yi=pi[0],vi=pi[1];mn=M.call(this,G,oe,xe,Ve,Object.assign(Object.assign({keyboardSupport:!1},yi),{horizontalScrolling:Tn})),mn.disposables=new W.c,mn.disposables.add(vi),mn.contextKeyService=bi(pt,Object(E.a)(mn)),mn.horizontalScrolling=lt.horizontalScrolling,mn.listSupportsMultiSelect=na.bindTo(mn.contextKeyService),mn.listSupportsMultiSelect.set(lt.multipleSelectionSupport!==!1);var Bt=ut.bindTo(mn.contextKeyService);return Bt.set(Boolean(lt.selectionNavigation)),mn._useAltAsMultipleSelectionModifier=zi(sn),mn.disposables.add(mn.contextKeyService),mn.disposables.add(xt.register(Object(E.a)(mn))),mn.updateStyles(lt.overrideStyles),mn.disposables.add(sn.onDidChangeConfiguration(function(hr){hr.affectsConfiguration(_n)&&(mn._useAltAsMultipleSelectionModifier=zi(sn));var Ii={};if(hr.affectsConfiguration(ki)&&mn.horizontalScrolling===void 0){var Ar=Boolean(sn.getValue(ki));Ii=Object.assign(Object.assign({},Ii),{horizontalScrolling:Ar})}if(hr.affectsConfiguration(Er)){var Gr=Boolean(sn.getValue(Er));Ii=Object.assign(Object.assign({},Ii),{scrollByPage:Gr})}if(hr.affectsConfiguration(Vn)){var ea=Boolean(sn.getValue(Vn));Ii=Object.assign(Object.assign({},Ii),{smoothScrolling:ea})}if(hr.affectsConfiguration(Ai)){var ya=sn.getValue(Ai);Ii=Object.assign(Object.assign({},Ii),{mouseWheelScrollSensitivity:ya})}if(hr.affectsConfiguration(or)){var Da=sn.getValue(or);Ii=Object.assign(Object.assign({},Ii),{fastScrollSensitivity:Da})}Object.keys(Ii).length>0&&mn.updateOptions(Ii)})),mn.navigator=new io(Object(E.a)(mn),Object.assign({configurationService:sn},lt)),mn.disposables.add(mn.navigator),mn}return Object(Q.a)(D,[{key:"updateOptions",value:function(oe){Object(ve.a)(Object(re.a)(D.prototype),"updateOptions",this).call(this,oe),oe.overrideStyles!==void 0&&this.updateStyles(oe.overrideStyles),oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}},{key:"updateStyles",value:function(oe){this.style(oe?Object(Vt.k)(oe):Vt.f)}},{key:"dispose",value:function(){this.disposables.dispose(),Object(ve.a)(Object(re.a)(D.prototype),"dispose",this).call(this)}}]),D}(j);xa=Yi([Hi(5,on.b),Hi(6,qi),Hi(7,et.a),Hi(8,pn.a)],xa);var Qa=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve,lt,pt,xt,sn,ln,mn){var Tn;Object(y.a)(this,D);var ai=typeof pt.horizontalScrolling!="undefined"?pt.horizontalScrolling:Boolean(ln.getValue(ki)),pi=mn.invokeFunction(Ra,pt),yi=Object(De.a)(pi,2),vi=yi[0],Bt=yi[1];Tn=M.call(this,G,oe,xe,Ve,lt,Object.assign(Object.assign({keyboardSupport:!1},vi),{horizontalScrolling:ai})),Tn.disposables.add(Bt),Tn.contextKeyService=bi(xt,Object(E.a)(Tn)),Tn.listSupportsMultiSelect=na.bindTo(Tn.contextKeyService),Tn.listSupportsMultiSelect.set(pt.multipleSelectionSupport!==!1);var hr=ut.bindTo(Tn.contextKeyService);return hr.set(Boolean(pt.selectionNavigation)),Tn.listHasSelectionOrFocus=ha.bindTo(Tn.contextKeyService),Tn.listDoubleSelection=vn.bindTo(Tn.contextKeyService),Tn.listMultiSelection=Ln.bindTo(Tn.contextKeyService),Tn.horizontalScrolling=pt.horizontalScrolling,Tn._useAltAsMultipleSelectionModifier=zi(ln),Tn.disposables.add(Tn.contextKeyService),Tn.disposables.add(sn.register(Object(E.a)(Tn))),Tn.updateStyles(pt.overrideStyles),Tn.disposables.add(Tn.onDidChangeSelection(function(){var Ii=Tn.getSelection(),Ar=Tn.getFocus();Tn.contextKeyService.bufferChangeEvents(function(){Tn.listHasSelectionOrFocus.set(Ii.length>0||Ar.length>0),Tn.listMultiSelection.set(Ii.length>1),Tn.listDoubleSelection.set(Ii.length===2)})})),Tn.disposables.add(Tn.onDidChangeFocus(function(){var Ii=Tn.getSelection(),Ar=Tn.getFocus();Tn.listHasSelectionOrFocus.set(Ii.length>0||Ar.length>0)})),Tn.disposables.add(ln.onDidChangeConfiguration(function(Ii){Ii.affectsConfiguration(_n)&&(Tn._useAltAsMultipleSelectionModifier=zi(ln));var Ar={};if(Ii.affectsConfiguration(ki)&&Tn.horizontalScrolling===void 0){var Gr=Boolean(ln.getValue(ki));Ar=Object.assign(Object.assign({},Ar),{horizontalScrolling:Gr})}if(Ii.affectsConfiguration(Er)){var ea=Boolean(ln.getValue(Er));Ar=Object.assign(Object.assign({},Ar),{scrollByPage:ea})}if(Ii.affectsConfiguration(Vn)){var ya=Boolean(ln.getValue(Vn));Ar=Object.assign(Object.assign({},Ar),{smoothScrolling:ya})}if(Ii.affectsConfiguration(Ai)){var Da=ln.getValue(Ai);Ar=Object.assign(Object.assign({},Ar),{mouseWheelScrollSensitivity:Da})}if(Ii.affectsConfiguration(or)){var ta=ln.getValue(or);Ar=Object.assign(Object.assign({},Ar),{fastScrollSensitivity:ta})}Object.keys(Ar).length>0&&Tn.updateOptions(Ar)})),Tn.navigator=new ro(Object(E.a)(Tn),Object.assign({configurationService:ln},pt)),Tn.disposables.add(Tn.navigator),Tn}return Object(Q.a)(D,[{key:"updateOptions",value:function(oe){Object(ve.a)(Object(re.a)(D.prototype),"updateOptions",this).call(this,oe),oe.overrideStyles!==void 0&&this.updateStyles(oe.overrideStyles),oe.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!oe.multipleSelectionSupport)}},{key:"updateStyles",value:function(oe){this.style(oe?Object(Vt.k)(oe):Vt.f)}},{key:"dispose",value:function(){this.disposables.dispose(),Object(ve.a)(Object(re.a)(D.prototype),"dispose",this).call(this)}}]),D}(be);Qa=Yi([Hi(6,on.b),Hi(7,qi),Hi(8,et.a),Hi(9,pn.a)],Qa);var ia=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe){var xe;Object(y.a)(this,D);var Ve;return xe=M.call(this),xe.widget=G,xe._onDidOpen=xe._register(new H.b),xe.onDidOpen=xe._onDidOpen.event,xe._register(H.c.filter(xe.widget.onDidChangeSelection,function(lt){return lt.browserEvent instanceof KeyboardEvent})(function(lt){return xe.onSelectionFromKeyboard(lt)})),xe._register(xe.widget.onPointer(function(lt){return xe.onPointer(lt.element,lt.browserEvent)})),xe._register(xe.widget.onMouseDblClick(function(lt){return xe.onMouseDblClick(lt.element,lt.browserEvent)})),typeof(oe==null?void 0:oe.openOnSingleClick)!="boolean"&&(oe==null?void 0:oe.configurationService)?(xe.openOnSingleClick=(oe==null?void 0:oe.configurationService.getValue(li))!=="doubleClick",xe._register(oe==null?void 0:oe.configurationService.onDidChangeConfiguration(function(lt){lt.affectsConfiguration(li)&&(xe.openOnSingleClick=(oe==null?void 0:oe.configurationService.getValue(li))!=="doubleClick")}))):xe.openOnSingleClick=(Ve=oe==null?void 0:oe.openOnSingleClick)!==null&&Ve!==void 0?Ve:!0,xe}return Object(Q.a)(D,[{key:"onSelectionFromKeyboard",value:function(oe){if(oe.elements.length===1){var xe=oe.browserEvent,Ve=typeof xe.preserveFocus=="boolean"?xe.preserveFocus:!0,lt=typeof xe.pinned=="boolean"?xe.pinned:!Ve,pt=!1;this._open(this.getSelectedElement(),Ve,lt,pt,oe.browserEvent)}}},{key:"onPointer",value:function(oe,xe){if(!!this.openOnSingleClick){var Ve=xe.detail===2;if(!Ve){var lt=xe.button===1,pt=!0,xt=lt,sn=xe.ctrlKey||xe.metaKey||xe.altKey;this._open(oe,pt,xt,sn,xe)}}}},{key:"onMouseDblClick",value:function(oe,xe){if(!!xe){var Ve=xe.target,lt=Ve.classList.contains("monaco-tl-twistie")||Ve.classList.contains("monaco-icon-label")&&Ve.classList.contains("folder-icon")&&xe.offsetX<16;if(!lt){var pt=!1,xt=!0,sn=xe.ctrlKey||xe.metaKey||xe.altKey;this._open(oe,pt,xt,sn,xe)}}}},{key:"_open",value:function(oe,xe,Ve,lt,pt){!oe||this._onDidOpen.fire({editorOptions:{preserveFocus:xe,pinned:Ve,revealIfVisible:!0},sideBySide:lt,element:oe,browserEvent:pt})}}]),D}(W.a),io=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe){var xe;return Object(y.a)(this,D),xe=M.call(this,G,oe),xe.widget=G,xe}return Object(Q.a)(D,[{key:"getSelectedElement",value:function(){return this.widget.getSelectedElements()[0]}}]),D}(ia),ro=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe){return Object(y.a)(this,D),M.call(this,G,oe)}return Object(Q.a)(D,[{key:"getSelectedElement",value:function(){return this.widget.getSelectedElements()[0]}}]),D}(ia),vo=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe){return Object(y.a)(this,D),M.call(this,G,oe)}return Object(Q.a)(D,[{key:"getSelectedElement",value:function(){var oe;return(oe=this.widget.getSelection()[0])!==null&&oe!==void 0?oe:void 0}}]),D}(ia);function Zo(q){var M=!1;return function(D){if(D.toKeyCodeChord().isModifierKey())return!1;if(M)return M=!1,!1;var G=q.softDispatch(D,D.target);return G.kind===1?(M=!0,!1):(M=!1,G.kind===0)}}var Hr=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve,lt,pt,xt,sn,ln){var mn;Object(y.a)(this,D);var Tn=pt.invokeFunction(At,lt),ai=Tn.options,pi=Tn.getTypeNavigationMode,yi=Tn.disposable;return mn=M.call(this,G,oe,xe,Ve,ai),mn.disposables.add(yi),mn.internals=new nt(Object(E.a)(mn),lt,pi,lt.overrideStyles,xt,sn,ln),mn.disposables.add(mn.internals),mn}return Object(Q.a)(D,[{key:"updateOptions",value:function(oe){Object(ve.a)(Object(re.a)(D.prototype),"updateOptions",this).call(this,oe),this.internals.updateOptions(oe)}}]),D}(Qn);Hr=Yi([Hi(5,pn.a),Hi(6,on.b),Hi(7,qi),Hi(8,et.a)],Hr);var ao=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve,lt,pt,xt,sn,ln){var mn;Object(y.a)(this,D);var Tn=pt.invokeFunction(At,lt),ai=Tn.options,pi=Tn.getTypeNavigationMode,yi=Tn.disposable;return mn=M.call(this,G,oe,xe,Ve,ai),mn.disposables.add(yi),mn.internals=new nt(Object(E.a)(mn),lt,pi,lt.overrideStyles,xt,sn,ln),mn.disposables.add(mn.internals),mn}return Object(Q.a)(D,[{key:"updateOptions",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object(ve.a)(Object(re.a)(D.prototype),"updateOptions",this).call(this,oe),oe.overrideStyles&&this.internals.updateStyleOverrides(oe.overrideStyles),this.internals.updateOptions(oe)}}]),D}(_i);ao=Yi([Hi(5,pn.a),Hi(6,on.b),Hi(7,qi),Hi(8,et.a)],ao);var ka=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve,lt,pt,xt,sn,ln,mn){var Tn;Object(y.a)(this,D);var ai=xt.invokeFunction(At,pt),pi=ai.options,yi=ai.getTypeNavigationMode,vi=ai.disposable;return Tn=M.call(this,G,oe,xe,Ve,lt,pi),Tn.disposables.add(vi),Tn.internals=new nt(Object(E.a)(Tn),pt,yi,pt.overrideStyles,sn,ln,mn),Tn.disposables.add(Tn.internals),Tn}return Object(Q.a)(D,[{key:"updateOptions",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object(ve.a)(Object(re.a)(D.prototype),"updateOptions",this).call(this,oe),oe.overrideStyles!==void 0&&this.internals.updateStyleOverrides(oe.overrideStyles),this.internals.updateOptions(oe)}}]),D}(dn);ka=Yi([Hi(6,pn.a),Hi(7,on.b),Hi(8,qi),Hi(9,et.a)],ka);var ua=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve,lt,pt,xt,sn,ln,mn){var Tn;Object(y.a)(this,D);var ai=xt.invokeFunction(At,pt),pi=ai.options,yi=ai.getTypeNavigationMode,vi=ai.disposable;return Tn=M.call(this,G,oe,xe,Ve,lt,pi),Tn.disposables.add(vi),Tn.internals=new nt(Object(E.a)(Tn),pt,yi,pt.overrideStyles,sn,ln,mn),Tn.disposables.add(Tn.internals),Tn}return Object(Q.a)(D,[{key:"onDidOpen",get:function(){return this.internals.onDidOpen}},{key:"updateOptions",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object(ve.a)(Object(re.a)(D.prototype),"updateOptions",this).call(this,oe),oe.overrideStyles&&this.internals.updateStyleOverrides(oe.overrideStyles),this.internals.updateOptions(oe)}}]),D}(Fn);ua=Yi([Hi(6,pn.a),Hi(7,on.b),Hi(8,qi),Hi(9,et.a)],ua);var La=function(q){Object(J.a)(D,q);var M=Object($.a)(D);function D(G,oe,xe,Ve,lt,pt,xt,sn,ln,mn,Tn){var ai;Object(y.a)(this,D);var pi=sn.invokeFunction(At,xt),yi=pi.options,vi=pi.getTypeNavigationMode,Bt=pi.disposable;return ai=M.call(this,G,oe,xe,Ve,lt,pt,yi),ai.disposables.add(Bt),ai.internals=new nt(Object(E.a)(ai),xt,vi,xt.overrideStyles,ln,mn,Tn),ai.disposables.add(ai.internals),ai}return Object(Q.a)(D,[{key:"updateOptions",value:function(oe){Object(ve.a)(Object(re.a)(D.prototype),"updateOptions",this).call(this,oe),this.internals.updateOptions(oe)}}]),D}(Et);La=Yi([Hi(7,pn.a),Hi(8,on.b),Hi(9,qi),Hi(10,et.a)],La);function Mo(q){var M=q.getValue(Ki);if(M==="highlight")return It.Highlight;if(M==="filter")return It.Filter;var D=q.getValue(ir);if(D==="simple"||D==="highlight")return It.Highlight;if(D==="filter")return It.Filter}function ts(q){var M=q.getValue(va);if(M==="fuzzy")return si.Fuzzy;if(M==="contiguous")return si.Contiguous}function At(q,M){var D,G=q.get(et.a),oe=q.get(Dt.b),xe=q.get(on.b),Ve=q.get(pn.a),lt=function(){var yi=xe.getContextKeyValue(Wn);if(yi==="automatic")return V.d.Automatic;if(yi==="trigger")return V.d.Trigger;var vi=xe.getContextKeyValue(oi);if(vi===!1)return V.d.Trigger;var Bt=G.getValue(Tr);if(Bt==="automatic")return V.d.Automatic;if(Bt==="trigger")return V.d.Trigger},pt=M.horizontalScrolling!==void 0?M.horizontalScrolling:Boolean(G.getValue(ki)),xt=Ve.invokeFunction(Ra,M),sn=Object(De.a)(xt,2),ln=sn[0],mn=sn[1],Tn=M.additionalScrollHeight,ai=M.renderIndentGuides!==void 0?M.renderIndentGuides:G.getValue(ri);return{getTypeNavigationMode:lt,disposable:mn,options:Object.assign(Object.assign({keyboardSupport:!1},ln),{indent:typeof G.getValue(Sn)=="number"?G.getValue(Sn):void 0,renderIndentGuides:ai,smoothScrolling:Boolean(G.getValue(Vn)),defaultFindMode:Mo(G),defaultFindMatchType:ts(G),horizontalScrolling:pt,scrollByPage:Boolean(G.getValue(Er)),additionalScrollHeight:Tn,hideTwistiesOfChildlessElements:M.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(D=M.expandOnlyOnTwistieClick)!==null&&D!==void 0?D:G.getValue(Zi)==="doubleClick",contextViewProvider:oe,findWidgetStyles:Vt.c})}}var nt=function(){function q(M,D,G,oe,xe,Ve,lt){var pt=this;Object(y.a)(this,q);var xt;this.tree=M,this.disposables=[],this.contextKeyService=bi(xe,M),this.listSupportsMultiSelect=na.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(D.multipleSelectionSupport!==!1);var sn=ut.bindTo(this.contextKeyService);sn.set(Boolean(D.selectionNavigation)),this.listSupportFindWidget=Tt.bindTo(this.contextKeyService),this.listSupportFindWidget.set((xt=D.findWidgetEnabled)!==null&&xt!==void 0?xt:!0),this.hasSelectionOrFocus=ha.bindTo(this.contextKeyService),this.hasDoubleSelection=vn.bindTo(this.contextKeyService),this.hasMultiSelection=Ln.bindTo(this.contextKeyService),this.treeElementCanCollapse=Pt.bindTo(this.contextKeyService),this.treeElementHasParent=Zt.bindTo(this.contextKeyService),this.treeElementCanExpand=Ut.bindTo(this.contextKeyService),this.treeElementHasChild=Nn.bindTo(this.contextKeyService),this.treeFindOpen=In.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=zi(lt),this.updateStyleOverrides(oe);var ln=function(){var ai=M.getFocus()[0];if(!!ai){var pi=M.getNode(ai);pt.treeElementCanCollapse.set(pi.collapsible&&!pi.collapsed),pt.treeElementHasParent.set(!!M.getParentElement(ai)),pt.treeElementCanExpand.set(pi.collapsible&&pi.collapsed),pt.treeElementHasChild.set(!!M.getFirstElementChild(ai))}},mn=new Set;mn.add(Wn),mn.add(oi),this.disposables.push(this.contextKeyService,Ve.register(M),M.onDidChangeSelection(function(){var Tn=M.getSelection(),ai=M.getFocus();pt.contextKeyService.bufferChangeEvents(function(){pt.hasSelectionOrFocus.set(Tn.length>0||ai.length>0),pt.hasMultiSelection.set(Tn.length>1),pt.hasDoubleSelection.set(Tn.length===2)})}),M.onDidChangeFocus(function(){var Tn=M.getSelection(),ai=M.getFocus();pt.hasSelectionOrFocus.set(Tn.length>0||ai.length>0),ln()}),M.onDidChangeCollapseState(ln),M.onDidChangeModel(ln),M.onDidChangeFindOpenState(function(Tn){return pt.treeFindOpen.set(Tn)}),lt.onDidChangeConfiguration(function(Tn){var ai={};if(Tn.affectsConfiguration(_n)&&(pt._useAltAsMultipleSelectionModifier=zi(lt)),Tn.affectsConfiguration(Sn)){var pi=lt.getValue(Sn);ai=Object.assign(Object.assign({},ai),{indent:pi})}if(Tn.affectsConfiguration(ri)&&D.renderIndentGuides===void 0){var yi=lt.getValue(ri);ai=Object.assign(Object.assign({},ai),{renderIndentGuides:yi})}if(Tn.affectsConfiguration(Vn)){var vi=Boolean(lt.getValue(Vn));ai=Object.assign(Object.assign({},ai),{smoothScrolling:vi})}if(Tn.affectsConfiguration(Ki)||Tn.affectsConfiguration(ir)){var Bt=Mo(lt);ai=Object.assign(Object.assign({},ai),{defaultFindMode:Bt})}if(Tn.affectsConfiguration(Tr)||Tn.affectsConfiguration(ir)){var hr=G();ai=Object.assign(Object.assign({},ai),{typeNavigationMode:hr})}if(Tn.affectsConfiguration(va)){var Ii=ts(lt);ai=Object.assign(Object.assign({},ai),{defaultFindMatchType:Ii})}if(Tn.affectsConfiguration(ki)&&D.horizontalScrolling===void 0){var Ar=Boolean(lt.getValue(ki));ai=Object.assign(Object.assign({},ai),{horizontalScrolling:Ar})}if(Tn.affectsConfiguration(Er)){var Gr=Boolean(lt.getValue(Er));ai=Object.assign(Object.assign({},ai),{scrollByPage:Gr})}if(Tn.affectsConfiguration(Zi)&&D.expandOnlyOnTwistieClick===void 0&&(ai=Object.assign(Object.assign({},ai),{expandOnlyOnTwistieClick:lt.getValue(Zi)==="doubleClick"})),Tn.affectsConfiguration(Ai)){var ea=lt.getValue(Ai);ai=Object.assign(Object.assign({},ai),{mouseWheelScrollSensitivity:ea})}if(Tn.affectsConfiguration(or)){var ya=lt.getValue(or);ai=Object.assign(Object.assign({},ai),{fastScrollSensitivity:ya})}Object.keys(ai).length>0&&M.updateOptions(ai)}),this.contextKeyService.onDidChangeContext(function(Tn){Tn.affectsSome(mn)&&M.updateOptions({typeNavigationMode:G()})})),this.navigator=new vo(M,Object.assign({configurationService:lt},D)),this.disposables.push(this.navigator)}return Object(Q.a)(q,[{key:"onDidOpen",get:function(){return this.navigator.onDidOpen}},{key:"updateOptions",value:function(D){D.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!D.multipleSelectionSupport)}},{key:"updateStyleOverrides",value:function(D){this.tree.style(D?Object(Vt.k)(D):Vt.f)}},{key:"dispose",value:function(){this.disposables=Object(W.i)(this.disposables)}}]),q}();nt=Yi([Hi(4,on.b),Hi(5,qi),Hi(6,et.a)],nt);var _e=kn.a.as(Ze.a.Configuration);_e.registerConfiguration({id:"workbench",order:7,title:Object(Ge.b)("workbenchConfigurationTitle","Workbench"),type:"object",properties:(Oi={},Object(le.a)(Oi,_n,{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[Object(Ge.b)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),Object(Ge.b)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:Object(Ge.b)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")}),Object(le.a)(Oi,li,{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Object(Ge.b)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")}),Object(le.a)(Oi,ki,{type:"boolean",default:!1,description:Object(Ge.b)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")}),Object(le.a)(Oi,Er,{type:"boolean",default:!1,description:Object(Ge.b)("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")}),Object(le.a)(Oi,Sn,{type:"number",default:8,minimum:4,maximum:40,description:Object(Ge.b)("tree indent setting","Controls tree indentation in pixels.")}),Object(le.a)(Oi,ri,{type:"string",enum:["none","onHover","always"],default:"onHover",description:Object(Ge.b)("render tree indent guides","Controls whether the tree should render indent guides.")}),Object(le.a)(Oi,Vn,{type:"boolean",default:!1,description:Object(Ge.b)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")}),Object(le.a)(Oi,Ai,{type:"number",default:1,markdownDescription:Object(Ge.b)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")}),Object(le.a)(Oi,or,{type:"number",default:5,markdownDescription:Object(Ge.b)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")}),Object(le.a)(Oi,Ki,{type:"string",enum:["highlight","filter"],enumDescriptions:[Object(Ge.b)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),Object(Ge.b)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:Object(Ge.b)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")}),Object(le.a)(Oi,ir,{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[Object(Ge.b)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),Object(Ge.b)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),Object(Ge.b)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:Object(Ge.b)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:Object(Ge.b)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")}),Object(le.a)(Oi,va,{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[Object(Ge.b)("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),Object(Ge.b)("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:Object(Ge.b)("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")}),Object(le.a)(Oi,Zi,{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Object(Ge.b)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}),Object(le.a)(Oi,Tr,{type:"string",enum:["automatic","trigger"],default:"automatic",description:Object(Ge.b)("typeNavigationMode","Controls the how type navigation works in lists and trees in the workbench. When set to 'trigger', type navigation begins once the 'list.triggerTypeNavigation' command is run.")}),Oi)})},kLXV:function(fn,K,a){"use strict";var le=a("KQm4"),De=a("wx14"),E=a("Ue1A"),ve=a("2BaD"),re=a("RCxd"),J=a("+YFz"),$=a("bJ/+"),y=a("q1tI"),Q=a("wEI+"),L=a("rePB"),ne=a("TSYQ"),ee=a.n(ne),H=a("lkze"),W=a("EXcs"),F=a("4i/N"),V=a("hzQT"),N=a("2/Rp"),U=a("zvFY"),d=a("H84U"),j=a("ihLV"),C=a("YMnH"),x=a("+f9I"),S=a("R3zJ"),T=a("ul5b"),z=function(Te,fe){var ye={};for(var Ee in Te)Object.prototype.hasOwnProperty.call(Te,Ee)&&fe.indexOf(Ee)<0&&(ye[Ee]=Te[Ee]);if(Te!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ge=0,Ee=Object.getOwnPropertySymbols(Te);Ge<Ee.length;Ge++)fe.indexOf(Ee[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Te,Ee[Ge])&&(ye[Ee[Ge]]=Te[Ee[Ge]]);return ye},A,ue=function(fe){A={x:fe.pageX,y:fe.pageY},setTimeout(function(){A=null},100)};Object(S.a)()&&document.documentElement.addEventListener("click",ue,!0);var be=function(fe){var ye,Ee,Ge=y.useContext(d.b),$e=Ge.getPopupContainer,We=Ge.getPrefixCls,it=Ge.direction,Fe=function(Cr){var zn=fe.onCancel;zn==null||zn(Cr)},He=function(Cr){var zn=fe.onOk;zn==null||zn(Cr)},Ye=fe.prefixCls,ot=fe.footer,Kt=fe.visible,gt=fe.open,Ft=gt===void 0?!1:gt,Jt=fe.wrapClassName,qt=fe.centered,En=fe.getContainer,It=fe.closeIcon,si=fe.focusTriggerAfterClose,On=si===void 0?!0:si,Gn=fe.width,ci=Gn===void 0?520:Gn,Dn=z(fe,["prefixCls","footer","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","width"]),An=We("modal",Ye),fr=We(),Vi=y.createElement(C.a,{componentName:"Modal",defaultLocale:Object(T.b)()},function(Ei){var Cr=fe.okText,zn=fe.okType,dr=zn===void 0?"primary":zn,Hn=fe.cancelText,mi=fe.confirmLoading,hn=mi===void 0?!1:mi;return y.createElement(y.Fragment,null,y.createElement(N.a,Object(De.a)({onClick:Fe},fe.cancelButtonProps),Hn||Ei.cancelText),y.createElement(N.a,Object(De.a)({},Object(U.a)(dr),{loading:hn,onClick:He},fe.okButtonProps),Cr!=null?Cr:Ei.okText))}),Sr=y.createElement("span",{className:"".concat(An,"-close-x")},It||y.createElement(F.a,{className:"".concat(An,"-close-icon")})),Pi=ee()(Jt,(ye={},Object(L.a)(ye,"".concat(An,"-centered"),!!qt),Object(L.a)(ye,"".concat(An,"-wrap-rtl"),it==="rtl"),ye));return y.createElement(x.a,null,y.createElement(j.e,{status:!0,override:!0},y.createElement(V.a,Object(De.a)({width:ci},Dn,{getContainer:En===void 0?$e:En,prefixCls:An,wrapClassName:Pi,footer:ot===void 0?Vi:ot,visible:Ft||Kt,mousePosition:(Ee=Dn.mousePosition)!==null&&Ee!==void 0?Ee:A,onClose:Fe,closeIcon:Sr,focusTriggerAfterClose:On,transitionName:Object(W.c)(fr,"zoom",fe.transitionName),maskTransitionName:Object(W.c)(fr,"fade",fe.maskTransitionName)}))))},de=be,ke=function(fe){var ye=fe.icon,Ee=fe.onCancel,Ge=fe.onOk,$e=fe.close,We=fe.zIndex,it=fe.afterClose,Fe=fe.visible,He=fe.open,Ye=fe.keyboard,ot=fe.centered,Kt=fe.getContainer,gt=fe.maskStyle,Ft=fe.okText,Jt=fe.okButtonProps,qt=fe.cancelText,En=fe.cancelButtonProps,It=fe.direction,si=fe.prefixCls,On=fe.wrapClassName,Gn=fe.rootPrefixCls,ci=fe.iconPrefixCls,Dn=fe.bodyStyle,An=fe.closable,fr=An===void 0?!1:An,Vi=fe.closeIcon,Sr=fe.modalRender,Pi=fe.focusTriggerAfterClose,Ei=fe.okType||"primary",Cr="".concat(si,"-confirm"),zn="okCancel"in fe?fe.okCancel:!0,dr=fe.width||416,Hn=fe.style||{},mi=fe.mask===void 0?!0:fe.mask,hn=fe.maskClosable===void 0?!1:fe.maskClosable,Xn=fe.autoFocusButton===null?!1:fe.autoFocusButton||"ok",en=ee()(Cr,"".concat(Cr,"-").concat(fe.type),Object(L.a)({},"".concat(Cr,"-rtl"),It==="rtl"),fe.className),yt=zn&&y.createElement(H.a,{actionFn:Ee,close:$e,autoFocus:Xn==="cancel",buttonProps:En,prefixCls:"".concat(Gn,"-btn")},qt);return y.createElement(Q.a,{prefixCls:Gn,iconPrefixCls:ci,direction:It},y.createElement(de,{prefixCls:si,className:en,wrapClassName:ee()(Object(L.a)({},"".concat(Cr,"-centered"),!!fe.centered),On),onCancel:function(){return $e==null?void 0:$e({triggerCancel:!0})},open:He||Fe,title:"",footer:"",transitionName:Object(W.c)(Gn,"zoom",fe.transitionName),maskTransitionName:Object(W.c)(Gn,"fade",fe.maskTransitionName),mask:mi,maskClosable:hn,maskStyle:gt,style:Hn,bodyStyle:Dn,width:dr,zIndex:We,afterClose:it,keyboard:Ye,centered:ot,getContainer:Kt,closable:fr,closeIcon:Vi,modalRender:Sr,focusTriggerAfterClose:Pi},y.createElement("div",{className:"".concat(Cr,"-body-wrapper")},y.createElement("div",{className:"".concat(Cr,"-body")},ye,fe.title===void 0?null:y.createElement("span",{className:"".concat(Cr,"-title")},fe.title),y.createElement("div",{className:"".concat(Cr,"-content")},fe.content)),y.createElement("div",{className:"".concat(Cr,"-btns")},yt,y.createElement(H.a,{type:Ei,actionFn:Ge,close:$e,autoFocus:Xn==="ok",buttonProps:Jt,prefixCls:"".concat(Gn,"-btn")},Ft)))))},he=ke,ge=[],ce=ge,k=function(Te,fe){var ye={};for(var Ee in Te)Object.prototype.hasOwnProperty.call(Te,Ee)&&fe.indexOf(Ee)<0&&(ye[Ee]=Te[Ee]);if(Te!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ge=0,Ee=Object.getOwnPropertySymbols(Te);Ge<Ee.length;Ge++)fe.indexOf(Ee[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Te,Ee[Ge])&&(ye[Ee[Ge]]=Te[Ee[Ge]]);return ye},w="";function B(){return w}function Y(Te){var fe=document.createDocumentFragment(),ye=Object(De.a)(Object(De.a)({},Te),{close:We,open:!0}),Ee;function Ge(){for(var Fe=arguments.length,He=new Array(Fe),Ye=0;Ye<Fe;Ye++)He[Ye]=arguments[Ye];var ot=He.some(function(Ft){return Ft&&Ft.triggerCancel});Te.onCancel&&ot&&Te.onCancel.apply(Te,[function(){}].concat(Object(le.a)(He.slice(1))));for(var Kt=0;Kt<ce.length;Kt++){var gt=ce[Kt];if(gt===We){ce.splice(Kt,1);break}}Object($.b)(fe)}function $e(Fe){var He=Fe.okText,Ye=Fe.cancelText,ot=Fe.prefixCls,Kt=k(Fe,["okText","cancelText","prefixCls"]);clearTimeout(Ee),Ee=setTimeout(function(){var gt=Object(T.b)(),Ft=Object(Q.b)(),Jt=Ft.getPrefixCls,qt=Ft.getIconPrefixCls,En=Jt(void 0,B()),It=ot||"".concat(En,"-modal"),si=qt();Object($.a)(y.createElement(he,Object(De.a)({},Kt,{prefixCls:It,rootPrefixCls:En,iconPrefixCls:si,okText:He||(Kt.okCancel?gt.okText:gt.justOkText),cancelText:Ye||gt.cancelText})),fe)})}function We(){for(var Fe=this,He=arguments.length,Ye=new Array(He),ot=0;ot<He;ot++)Ye[ot]=arguments[ot];ye=Object(De.a)(Object(De.a)({},ye),{open:!1,afterClose:function(){typeof Te.afterClose=="function"&&Te.afterClose(),Ge.apply(Fe,Ye)}}),ye.visible&&delete ye.visible,$e(ye)}function it(Fe){typeof Fe=="function"?ye=Fe(ye):ye=Object(De.a)(Object(De.a)({},ye),Fe),$e(ye)}return $e(ye),ce.push(We),{destroy:We,update:it}}function pe(Te){return Object(De.a)(Object(De.a)({icon:y.createElement(re.a,null),okCancel:!1},Te),{type:"warning"})}function me(Te){return Object(De.a)(Object(De.a)({icon:y.createElement(J.a,null),okCancel:!1},Te),{type:"info"})}function I(Te){return Object(De.a)(Object(De.a)({icon:y.createElement(E.a,null),okCancel:!1},Te),{type:"success"})}function we(Te){return Object(De.a)(Object(De.a)({icon:y.createElement(ve.a,null),okCancel:!1},Te),{type:"error"})}function Re(Te){return Object(De.a)(Object(De.a)({icon:y.createElement(re.a,null),okCancel:!0},Te),{type:"confirm"})}function Oe(Te){var fe=Te.rootPrefixCls;w=fe}var Pe=a("ODXe");function Ne(){var Te=y.useState([]),fe=Object(Pe.a)(Te,2),ye=fe[0],Ee=fe[1],Ge=y.useCallback(function($e){return Ee(function(We){return[].concat(Object(le.a)(We),[$e])}),function(){Ee(function(We){return We.filter(function(it){return it!==$e})})}},[]);return[ye,Ge]}var Ke=a("ZvpZ"),Xe=function(fe,ye){var Ee=fe.afterClose,Ge=fe.config,$e=y.useState(!0),We=Object(Pe.a)($e,2),it=We[0],Fe=We[1],He=y.useState(Ge),Ye=Object(Pe.a)(He,2),ot=Ye[0],Kt=Ye[1],gt=y.useContext(d.b),Ft=gt.direction,Jt=gt.getPrefixCls,qt=Jt("modal"),En=Jt(),It=function(){Fe(!1);for(var On=arguments.length,Gn=new Array(On),ci=0;ci<On;ci++)Gn[ci]=arguments[ci];var Dn=Gn.some(function(An){return An&&An.triggerCancel});ot.onCancel&&Dn&&ot.onCancel.apply(ot,[function(){}].concat(Object(le.a)(Gn.slice(1))))};return y.useImperativeHandle(ye,function(){return{destroy:It,update:function(On){Kt(function(Gn){return Object(De.a)(Object(De.a)({},Gn),On)})}}}),y.createElement(C.a,{componentName:"Modal",defaultLocale:Ke.a.Modal},function(si){return y.createElement(he,Object(De.a)({prefixCls:qt,rootPrefixCls:En},ot,{close:It,open:it,afterClose:Ee,okText:ot.okText||(ot.okCancel?si.okText:si.justOkText),direction:Ft,cancelText:ot.cancelText||si.cancelText}))})},wt=y.forwardRef(Xe),Ct=0,bt=y.memo(y.forwardRef(function(Te,fe){var ye=Ne(),Ee=Object(Pe.a)(ye,2),Ge=Ee[0],$e=Ee[1];return y.useImperativeHandle(fe,function(){return{patchElement:$e}},[]),y.createElement(y.Fragment,null,Ge)}));function mt(){var Te=y.useRef(null),fe=y.useState([]),ye=Object(Pe.a)(fe,2),Ee=ye[0],Ge=ye[1];y.useEffect(function(){if(Ee.length){var it=Object(le.a)(Ee);it.forEach(function(Fe){Fe()}),Ge([])}},[Ee]);var $e=y.useCallback(function(it){return function(He){var Ye;Ct+=1;var ot=y.createRef(),Kt,gt=y.createElement(wt,{key:"modal-".concat(Ct),config:it(He),ref:ot,afterClose:function(){Kt==null||Kt()}});return Kt=(Ye=Te.current)===null||Ye===void 0?void 0:Ye.patchElement(gt),{destroy:function(){function Jt(){var qt;(qt=ot.current)===null||qt===void 0||qt.destroy()}ot.current?Jt():Ge(function(qt){return[].concat(Object(le.a)(qt),[Jt])})},update:function(Jt){function qt(){var En;(En=ot.current)===null||En===void 0||En.update(Jt)}ot.current?qt():Ge(function(En){return[].concat(Object(le.a)(En),[qt])})}}}},[]),We=y.useMemo(function(){return{info:$e(me),success:$e(I),error:$e(we),warning:$e(pe),confirm:$e(Re)}},[]);return[We,y.createElement(bt,{ref:Te})]}function jt(Te){return Y(pe(Te))}var Je=de;Je.useModal=mt,Je.info=function(fe){return Y(me(fe))},Je.success=function(fe){return Y(I(fe))},Je.error=function(fe){return Y(we(fe))},Je.warning=jt,Je.warn=jt,Je.confirm=function(fe){return Y(Re(fe))},Je.destroyAll=function(){for(;ce.length;){var fe=ce.pop();fe&&fe()}},Je.config=Oe;var Wt=K.a=Je},"kVK+":function(fn,K){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */K.read=function(a,le,De,E,ve){var re,J,$=ve*8-E-1,y=(1<<$)-1,Q=y>>1,L=-7,ne=De?ve-1:0,ee=De?-1:1,H=a[le+ne];for(ne+=ee,re=H&(1<<-L)-1,H>>=-L,L+=$;L>0;re=re*256+a[le+ne],ne+=ee,L-=8);for(J=re&(1<<-L)-1,re>>=-L,L+=E;L>0;J=J*256+a[le+ne],ne+=ee,L-=8);if(re===0)re=1-Q;else{if(re===y)return J?NaN:(H?-1:1)*Infinity;J=J+Math.pow(2,E),re=re-Q}return(H?-1:1)*J*Math.pow(2,re-E)},K.write=function(a,le,De,E,ve,re){var J,$,y,Q=re*8-ve-1,L=(1<<Q)-1,ne=L>>1,ee=ve===23?Math.pow(2,-24)-Math.pow(2,-77):0,H=E?0:re-1,W=E?1:-1,F=le<0||le===0&&1/le<0?1:0;for(le=Math.abs(le),isNaN(le)||le===Infinity?($=isNaN(le)?1:0,J=L):(J=Math.floor(Math.log(le)/Math.LN2),le*(y=Math.pow(2,-J))<1&&(J--,y*=2),J+ne>=1?le+=ee/y:le+=ee*Math.pow(2,1-ne),le*y>=2&&(J++,y/=2),J+ne>=L?($=0,J=L):J+ne>=1?($=(le*y-1)*Math.pow(2,ve),J=J+ne):($=le*Math.pow(2,ne-1)*Math.pow(2,ve),J=0));ve>=8;a[De+H]=$&255,H+=W,$/=256,ve-=8);for(J=J<<ve|$,Q+=ve;Q>0;a[De+H]=J&255,H+=W,J/=256,Q-=8);a[De+H-W]|=F*128}},kXS7:function(fn,K,a){"use strict";a.d(K,"b",function(){return ne}),a.d(K,"a",function(){return ee});var le=a("oBTY"),De=a("fWQN"),E=a("mtLc"),ve=a("yKVA"),re=a("879j"),J=a("G300"),$=a("T5lh"),y=a("MI8n"),Q=a("prHu"),L=a.n(Q),ne={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"},ee=function(H){Object(ve.a)(F,H);var W=Object(re.a)(F);function F(V){var N,U;Object(De.a)(this,F),U=W.call(this),U._onChange=U._register(new y.b),U.onChange=U._onChange.event,U._onKeyDown=U._register(new y.b),U.onKeyDown=U._onKeyDown.event,U._opts=V,U._checked=U._opts.isChecked;var d=["monaco-custom-toggle"];return U._opts.icon&&(U._icon=U._opts.icon,d.push.apply(d,Object(le.a)($.a.asClassNameArray(U._icon)))),U._opts.actionClassName&&d.push.apply(d,Object(le.a)(U._opts.actionClassName.split(" "))),U._checked&&d.push("checked"),U.domNode=document.createElement("div"),U.domNode.title=U._opts.title,(N=U.domNode.classList).add.apply(N,d),U._opts.notFocusable||(U.domNode.tabIndex=0),U.domNode.setAttribute("role","checkbox"),U.domNode.setAttribute("aria-checked",String(U._checked)),U.domNode.setAttribute("aria-label",U._opts.title),U.applyStyles(),U.onclick(U.domNode,function(j){U.enabled&&(U.checked=!U._checked,U._onChange.fire(!1),j.preventDefault())}),U._register(U.ignoreGesture(U.domNode)),U.onkeydown(U.domNode,function(j){if(j.keyCode===10||j.keyCode===3){U.checked=!U._checked,U._onChange.fire(!0),j.preventDefault(),j.stopPropagation();return}U._onKeyDown.fire(j)}),U}return Object(E.a)(F,[{key:"enabled",get:function(){return this.domNode.getAttribute("aria-disabled")!=="true"}},{key:"focus",value:function(){this.domNode.focus()}},{key:"checked",get:function(){return this._checked},set:function(N){this._checked=N,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}},{key:"width",value:function(){return 2+2+2+16}},{key:"applyStyles",value:function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}},{key:"enable",value:function(){this.domNode.setAttribute("aria-disabled",String(!1))}},{key:"disable",value:function(){this.domNode.setAttribute("aria-disabled",String(!0))}}]),F}(J.a)},"kw+w":function(fn,K,a){},l6qN:function(fn,K,a){},lEqV:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("modelService")},lKfe:function(fn,K,a){},lVKV:function(fn,K,a){},lkze:function(fn,K,a){"use strict";var le=a("wx14"),De=a("ODXe"),E=a("dm2S"),ve=a("q1tI"),re=a.n(ve),J=a("2/Rp"),$=a("zvFY");function y(L){return!!(L&&!!L.then)}var Q=function(ne){var ee=ve.useRef(!1),H=ve.useRef(null),W=Object(E.a)(!1),F=Object(De.a)(W,2),V=F[0],N=F[1],U=ne.close,d=function(){U==null||U.apply(void 0,arguments)};ve.useEffect(function(){var A=null;return ne.autoFocus&&(A=setTimeout(function(){var ue;(ue=H.current)===null||ue===void 0||ue.focus()})),function(){A&&clearTimeout(A)}},[]);var j=function(ue){!y(ue)||(N(!0),ue.then(function(){N(!1,!0),d.apply(void 0,arguments),ee.current=!1},function(be){console.error(be),N(!1,!0),ee.current=!1}))},C=function(ue){var be=ne.actionFn;if(!ee.current){if(ee.current=!0,!be){d();return}var de;if(ne.emitEvent){if(de=be(ue),ne.quitOnNullishReturnValue&&!y(de)){ee.current=!1,d(ue);return}}else if(be.length)de=be(U),ee.current=!1;else if(de=be(),!de){d();return}j(de)}},x=ne.type,S=ne.children,T=ne.prefixCls,z=ne.buttonProps;return ve.createElement(J.a,Object(le.a)({},Object($.a)(x),{onClick:C,loading:V,prefixCls:T},z,{ref:H}),S)};K.a=Q},lnY3:function(fn,K,a){},lrmC:function(fn,K,a){},lwGy:function(fn,K,a){"use strict";a.d(K,"b",function(){return ve}),a.d(K,"c",function(){return re}),a.d(K,"a",function(){return J});var le=a("fWQN"),De=a("mtLc"),E=[],ve=function(){function $(y,Q){Object(le.a)(this,$),this.items=y,this.additionalItems=Q}return Object(De.a)($,[{key:"add",value:function(Q,L){var ne=L.getKey(Q),ee=ne>>5;if(ee===0){var H=1<<ne|this.items;return H===this.items?this:$.create(H,this.additionalItems)}ee--;for(var W=this.additionalItems.slice(0);W.length<ee;)W.push(0);return W[ee]|=1<<(ne&31),$.create(this.items,W)}},{key:"merge",value:function(Q){var L=this.items|Q.items;if(this.additionalItems===E&&Q.additionalItems===E)return L===this.items?this:L===Q.items?Q:$.create(L,E);for(var ne=[],ee=0;ee<Math.max(this.additionalItems.length,Q.additionalItems.length);ee++){var H=this.additionalItems[ee]||0,W=Q.additionalItems[ee]||0;ne.push(H|W)}return $.create(L,ne)}},{key:"intersects",value:function(Q){if((this.items&Q.items)!=0)return!0;for(var L=0;L<Math.min(this.additionalItems.length,Q.additionalItems.length);L++)if((this.additionalItems[L]&Q.additionalItems[L])!=0)return!0;return!1}}],[{key:"create",value:function(Q,L){if(Q<=128&&L.length===0){var ne=$.cache[Q];return ne||(ne=new $(Q,L),$.cache[Q]=ne),ne}return new $(Q,L)}},{key:"getEmpty",value:function(){return this.empty}}]),$}();ve.cache=new Array(129),ve.empty=ve.create(0,E);var re={getKey:function(y){return y}},J=function(){function $(){Object(le.a)(this,$),this.items=new Map}return Object(De.a)($,[{key:"getKey",value:function(Q){var L=this.items.get(Q);return L===void 0&&(L=this.items.size,this.items.set(Q,L)),L}}]),$}()},mJFO:function(fn,K,a){"use strict";a.d(K,"a",function(){return L});var le=a("mtLc"),De=a("fWQN"),E=a("LLum"),ve=a("JLfW"),re=a("cGHE"),J=a("aokT"),$=a("N0LK"),y=a("ZQYC"),Q=Object(le.a)(function ne(ee,H,W){Object(De.a)(this,ne),this._cursorPositionBrand=void 0,this.lineNumber=ee,this.column=H,this.leftoverVisibleColumns=W}),L=function(){function ne(){Object(De.a)(this,ne)}return Object(le.a)(ne,null,[{key:"leftPosition",value:function(H,W){if(W.column>H.getLineMinColumn(W.lineNumber))return W.delta(void 0,-$.N(H.getLineContent(W.lineNumber),W.column-1));if(W.lineNumber>1){var F=W.lineNumber-1;return new re.a(F,H.getLineMaxColumn(F))}else return W}},{key:"leftPositionAtomicSoftTabs",value:function(H,W,F){if(W.column<=H.getLineIndentColumn(W.lineNumber)){var V=H.getLineMinColumn(W.lineNumber),N=H.getLineContent(W.lineNumber),U=y.a.atomicPosition(N,W.column-1,F,0);if(U!==-1&&U+1>=V)return new re.a(W.lineNumber,U+1)}return this.leftPosition(H,W)}},{key:"left",value:function(H,W,F){var V=H.stickyTabStops?ne.leftPositionAtomicSoftTabs(W,F,H.tabSize):ne.leftPosition(W,F);return new Q(V.lineNumber,V.column,0)}},{key:"moveLeft",value:function(H,W,F,V,N){var U,d;if(F.hasSelection()&&!V)U=F.selection.startLineNumber,d=F.selection.startColumn;else{var j=F.position.delta(void 0,-(N-1)),C=W.normalizePosition(ne.clipPositionColumn(j,W),0),x=ne.left(H,W,C);U=x.lineNumber,d=x.column}return F.move(V,U,d,0)}},{key:"clipPositionColumn",value:function(H,W){return new re.a(H.lineNumber,ne.clipRange(H.column,W.getLineMinColumn(H.lineNumber),W.getLineMaxColumn(H.lineNumber)))}},{key:"clipRange",value:function(H,W,F){return H<W?W:H>F?F:H}},{key:"rightPosition",value:function(H,W,F){return F<H.getLineMaxColumn(W)?F=F+$.L(H.getLineContent(W),F-1):W<H.getLineCount()&&(W=W+1,F=H.getLineMinColumn(W)),new re.a(W,F)}},{key:"rightPositionAtomicSoftTabs",value:function(H,W,F,V,N){if(F<H.getLineIndentColumn(W)){var U=H.getLineContent(W),d=y.a.atomicPosition(U,F-1,V,1);if(d!==-1)return new re.a(W,d+1)}return this.rightPosition(H,W,F)}},{key:"right",value:function(H,W,F){var V=H.stickyTabStops?ne.rightPositionAtomicSoftTabs(W,F.lineNumber,F.column,H.tabSize,H.indentSize):ne.rightPosition(W,F.lineNumber,F.column);return new Q(V.lineNumber,V.column,0)}},{key:"moveRight",value:function(H,W,F,V,N){var U,d;if(F.hasSelection()&&!V)U=F.selection.endLineNumber,d=F.selection.endColumn;else{var j=F.position.delta(void 0,N-1),C=W.normalizePosition(ne.clipPositionColumn(j,W),1),x=ne.right(H,W,C);U=x.lineNumber,d=x.column}return F.move(V,U,d,0)}},{key:"vertical",value:function(H,W,F,V,N,U,d,j){var C=ve.a.visibleColumnFromColumn(W.getLineContent(F),V,H.tabSize)+N,x=W.getLineCount(),S=F===1&&V===1,T=F===x&&V===W.getLineMaxColumn(F),z=U<F?S:T;if(F=U,F<1?(F=1,d?V=W.getLineMinColumn(F):V=Math.min(W.getLineMaxColumn(F),V)):F>x?(F=x,d?V=W.getLineMaxColumn(F):V=Math.min(W.getLineMaxColumn(F),V)):V=H.columnFromVisibleColumn(W,F,C),z?N=0:N=C-ve.a.visibleColumnFromColumn(W.getLineContent(F),V,H.tabSize),j!==void 0){var A=new re.a(F,V),ue=W.normalizePosition(A,j);N=N+(V-ue.column),F=ue.lineNumber,V=ue.column}return new Q(F,V,N)}},{key:"down",value:function(H,W,F,V,N,U,d){return this.vertical(H,W,F,V,N,F+U,d,4)}},{key:"moveDown",value:function(H,W,F,V,N){var U,d;F.hasSelection()&&!V?(U=F.selection.endLineNumber,d=F.selection.endColumn):(U=F.position.lineNumber,d=F.position.column);var j=ne.down(H,W,U,d,F.leftoverVisibleColumns,N,!0);return F.move(V,j.lineNumber,j.column,j.leftoverVisibleColumns)}},{key:"translateDown",value:function(H,W,F){var V=F.selection,N=ne.down(H,W,V.selectionStartLineNumber,V.selectionStartColumn,F.selectionStartLeftoverVisibleColumns,1,!1),U=ne.down(H,W,V.positionLineNumber,V.positionColumn,F.leftoverVisibleColumns,1,!1);return new E.d(new J.a(N.lineNumber,N.column,N.lineNumber,N.column),0,N.leftoverVisibleColumns,new re.a(U.lineNumber,U.column),U.leftoverVisibleColumns)}},{key:"up",value:function(H,W,F,V,N,U,d){return this.vertical(H,W,F,V,N,F-U,d,3)}},{key:"moveUp",value:function(H,W,F,V,N){var U,d;F.hasSelection()&&!V?(U=F.selection.startLineNumber,d=F.selection.startColumn):(U=F.position.lineNumber,d=F.position.column);var j=ne.up(H,W,U,d,F.leftoverVisibleColumns,N,!0);return F.move(V,j.lineNumber,j.column,j.leftoverVisibleColumns)}},{key:"translateUp",value:function(H,W,F){var V=F.selection,N=ne.up(H,W,V.selectionStartLineNumber,V.selectionStartColumn,F.selectionStartLeftoverVisibleColumns,1,!1),U=ne.up(H,W,V.positionLineNumber,V.positionColumn,F.leftoverVisibleColumns,1,!1);return new E.d(new J.a(N.lineNumber,N.column,N.lineNumber,N.column),0,N.leftoverVisibleColumns,new re.a(U.lineNumber,U.column),U.leftoverVisibleColumns)}},{key:"_isBlankLine",value:function(H,W){return H.getLineFirstNonWhitespaceColumn(W)===0}},{key:"moveToPrevBlankLine",value:function(H,W,F,V){for(var N=F.position.lineNumber;N>1&&this._isBlankLine(W,N);)N--;for(;N>1&&!this._isBlankLine(W,N);)N--;return F.move(V,N,W.getLineMinColumn(N),0)}},{key:"moveToNextBlankLine",value:function(H,W,F,V){for(var N=W.getLineCount(),U=F.position.lineNumber;U<N&&this._isBlankLine(W,U);)U++;for(;U<N&&!this._isBlankLine(W,U);)U++;return F.move(V,U,W.getLineMinColumn(U),0)}},{key:"moveToBeginningOfLine",value:function(H,W,F,V){var N=F.position.lineNumber,U=W.getLineMinColumn(N),d=W.getLineFirstNonWhitespaceColumn(N)||U,j,C=F.position.column;return C===d?j=U:j=d,F.move(V,N,j,0)}},{key:"moveToEndOfLine",value:function(H,W,F,V,N){var U=F.position.lineNumber,d=W.getLineMaxColumn(U);return F.move(V,U,d,N?1073741824-d:0)}},{key:"moveToBeginningOfBuffer",value:function(H,W,F,V){return F.move(V,1,1,0)}},{key:"moveToEndOfBuffer",value:function(H,W,F,V){var N=W.getLineCount(),U=W.getLineMaxColumn(N);return F.move(V,N,U,0)}}]),ne}()},ml8V:function(fn,K,a){},mzd2:function(fn,K,a){"use strict";a.d(K,"d",function(){return fe}),a.d(K,"c",function(){return ye}),a.d(K,"b",function(){return We});var le=a("miYZ"),De=a("tsqr"),E=a("EFp3"),ve=a("+L6B"),re=a("Q9mQ"),J=a("sE09"),$=a("wx14"),y=a("ODXe"),Q=a("IMoZ"),L=a("TSYQ"),ne=a.n(L),ee=a("6cGi"),H=a("4IlW"),W=a("q1tI"),F=a("H84U"),V=a("diRs"),N=a("0n0R"),U=a("2/Rp"),d=a("zvFY"),j=a("lkze"),C=a("YMnH"),x=a("ZvpZ"),S=a("bogI"),T=function(Ye){var ot=Ye.prefixCls,Kt=Ye.okButtonProps,gt=Ye.cancelButtonProps,Ft=Ye.title,Jt=Ye.cancelText,qt=Ye.okText,En=Ye.okType,It=Ye.icon,si=Ye.showCancel,On=si===void 0?!0:si,Gn=Ye.close,ci=Ye.onConfirm,Dn=Ye.onCancel,An=W.useContext(F.b),fr=An.getPrefixCls;return W.createElement(C.a,{componentName:"Popconfirm",defaultLocale:x.a.Popconfirm},function(Vi){return W.createElement("div",{className:"".concat(ot,"-inner-content")},W.createElement("div",{className:"".concat(ot,"-message")},It&&W.createElement("span",{className:"".concat(ot,"-message-icon")},It),W.createElement("div",{className:"".concat(ot,"-message-title")},Object(S.a)(Ft))),W.createElement("div",{className:"".concat(ot,"-buttons")},On&&W.createElement(U.a,Object($.a)({onClick:Dn,size:"small"},gt),Jt!=null?Jt:Vi.cancelText),W.createElement(j.a,{buttonProps:Object($.a)(Object($.a)({size:"small"},Object(d.a)(En)),Kt),actionFn:ci,close:Gn,prefixCls:fr("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},qt!=null?qt:Vi.okText)))})},z=void 0,A=function(He,Ye){var ot={};for(var Kt in He)Object.prototype.hasOwnProperty.call(He,Kt)&&Ye.indexOf(Kt)<0&&(ot[Kt]=He[Kt]);if(He!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gt=0,Kt=Object.getOwnPropertySymbols(He);gt<Kt.length;gt++)Ye.indexOf(Kt[gt])<0&&Object.prototype.propertyIsEnumerable.call(He,Kt[gt])&&(ot[Kt[gt]]=He[Kt[gt]]);return ot},ue=W.forwardRef(function(He,Ye){var ot=W.useContext(F.b),Kt=ot.getPrefixCls,gt=Object(ee.a)(!1,{value:He.open!==void 0?He.open:He.visible,defaultValue:He.defaultOpen!==void 0?He.defaultOpen:He.defaultVisible}),Ft=Object(y.a)(gt,2),Jt=Ft[0],qt=Ft[1],En=function(wn,gn){var rn,bn;qt(wn,!0),(rn=He.onVisibleChange)===null||rn===void 0||rn.call(He,wn,gn),(bn=He.onOpenChange)===null||bn===void 0||bn.call(He,wn,gn)},It=function(wn){En(!1,wn)},si=function(wn){var gn;return(gn=He.onConfirm)===null||gn===void 0?void 0:gn.call(z,wn)},On=function(wn){var gn;En(!1,wn),(gn=He.onCancel)===null||gn===void 0||gn.call(z,wn)},Gn=function(wn){wn.keyCode===H.a.ESC&&Jt&&En(!1,wn)},ci=function(wn){var gn=He.disabled,rn=gn===void 0?!1:gn;rn||En(wn)},Dn=He.prefixCls,An=He.placement,fr=An===void 0?"top":An,Vi=He.trigger,Sr=Vi===void 0?"click":Vi,Pi=He.okType,Ei=Pi===void 0?"primary":Pi,Cr=He.icon,zn=Cr===void 0?W.createElement(Q.a,null):Cr,dr=He.children,Hn=He.overlayClassName,mi=A(He,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),hn=Kt("popover",Dn),Xn=Kt("popconfirm",Dn),en=ne()(Xn,Hn);return W.createElement(V.a,Object($.a)({},mi,{trigger:Sr,prefixCls:hn,placement:fr,onOpenChange:ci,open:Jt,ref:Ye,overlayClassName:en,_overlay:W.createElement(T,Object($.a)({okType:Ei,icon:zn},He,{prefixCls:hn,close:It,onConfirm:si,onCancel:On}))}),Object(N.a)(dr,{onKeyDown:function(wn){var gn,rn;W.isValidElement(dr)&&((rn=dr==null?void 0:(gn=dr.props).onKeyDown)===null||rn===void 0||rn.call(gn,wn)),Gn(wn)}}))}),be=ue,de=a("x+uP"),ke=a("T5bk"),he=a("HaE+"),ge=a("y8nQ"),ce=a("Vl3Y"),k=a("rePB"),w=a("KQm4"),B=a("Ff2n"),Y=a("VTBJ"),pe=a("U8pU"),me=a("nKUr"),I=a("ye1Q"),we=a("LQCs"),Re=a("YWTS"),Oe=a("ub+h"),Pe=a("bG1m"),Ne=a("Kwbf"),Ke=a("+i8S"),Xe=a("HBdL"),wt=a("wUu8"),Ct=a("g5r2"),bt=a("ft2k"),mt=a("/PRe"),jt=a("9mHw"),Je=["map_row_parentKey"],Wt=["map_row_parentKey","map_row_key"],Te=["map_row_key"],fe=function(Ye){return Array.isArray(Ye)?Ye.join(","):Ye};function ye(He,Ye){var ot,Kt=He.getRowKey,gt=He.row,Ft=He.data,Jt=He.childrenColumnName,qt=(ot=fe(He.key))===null||ot===void 0?void 0:ot.toString(),En=new Map;function It(On,Gn,ci){On.forEach(function(Dn,An){var fr=(ci||0)*10+An,Vi=Kt(Dn,fr).toString();Dn&&Object(pe.a)(Dn)==="object"&&Jt in Dn&&It(Dn[Jt]||[],Vi,fr);var Sr=Object(Y.a)(Object(Y.a)({},Dn),{},{map_row_key:Vi,children:void 0,map_row_parentKey:Gn});delete Sr.children,Gn||delete Sr.map_row_parentKey,En.set(Vi,Sr)})}Ye==="top"&&En.set(qt,Object(Y.a)(Object(Y.a)({},En.get(qt)),gt)),It(Ft),Ye==="update"&&En.set(qt,Object(Y.a)(Object(Y.a)({},En.get(qt)),gt)),Ye==="delete"&&En.delete(qt);var si=function(Gn){var ci=new Map,Dn=[],An=function(){Gn.forEach(function(Vi){if(Vi.map_row_parentKey&&!Vi.map_row_key){var Sr=Vi.map_row_parentKey,Pi=Object(B.a)(Vi,Je);ci.set(Sr,[].concat(Object(w.a)(ci.get(Sr)||[]),[Pi]))}})};return Ye==="top"&&An(),Gn.forEach(function(fr){if(fr.map_row_parentKey&&fr.map_row_key){var Vi=fr.map_row_parentKey,Sr=fr.map_row_key,Pi=Object(B.a)(fr,Wt);ci.has(Sr)&&(Pi[Jt]=ci.get(Sr)),ci.set(Vi,[].concat(Object(w.a)(ci.get(Vi)||[]),[Pi]))}}),Ye==="update"&&An(),Gn.forEach(function(fr){if(!fr.map_row_parentKey){var Vi=fr.map_row_key,Sr=Object(B.a)(fr,Te);if(Vi&&ci.has(Vi)){var Pi=Object(Y.a)(Object(Y.a)({},Sr),{},Object(k.a)({},Jt,ci.get(Vi)));Dn.push(Pi);return}Dn.push(Sr)}}),Dn};return si(En)}function Ee(He){var Ye=He.recordKey,ot=He.onSave,Kt=He.row,gt=He.children,Ft=He.newLineConfig,Jt=He.editorType,qt=He.tableName,En=Object(W.useContext)(wt.a),It=ce.a.useFormInstance(),si=Object(jt.a)(!1),On=Object(y.a)(si,2),Gn=On[0],ci=On[1];return Object(me.jsxs)("a",{onClick:function(){var Dn=Object(he.a)(Object(de.a)().mark(function fr(Vi){var Sr,Pi,Ei,Cr,zn,dr,Hn,mi,hn;return Object(de.a)().wrap(function(en){for(;;)switch(en.prev=en.next){case 0:return Vi.stopPropagation(),Vi.preventDefault(),en.prev=2,Pi=Jt==="Map",Ei=[qt,Array.isArray(Ye)?Ye[0]:Ye].map(function(yt){return yt==null?void 0:yt.toString()}).flat(1).filter(Boolean),ci(!0),en.next=8,It.validateFields(Ei,{recursive:!0});case 8:return Cr=((Sr=En.getFieldFormatValue)===null||Sr===void 0?void 0:Sr.call(En,Ei))||It.getFieldValue(Ei),Array.isArray(Ye)&&Ye.length>1&&(zn=Object(ke.a)(Ye),dr=zn.slice(1),Hn=Object(Oe.a)(Cr,dr),Object(Pe.a)(Cr,dr,Hn)),mi=Pi?Object(Pe.a)({},Ei,Cr,!0):Cr,en.next=13,ot==null?void 0:ot(Ye,Object(mt.a)({},Kt,mi),Kt,Ft);case 13:return hn=en.sent,ci(!1),en.abrupt("return",hn);case 18:return en.prev=18,en.t0=en.catch(2),console.log(en.t0),ci(!1),en.abrupt("return",null);case 23:case"end":return en.stop()}},fr,null,[[2,18]])}));function An(fr){return Dn.apply(this,arguments)}return An}(),children:[Gn?Object(me.jsx)(I.a,{style:{marginRight:8}}):null,gt||"\u4FDD\u5B58"]},"save")}var Ge=function(Ye){var ot=Ye.recordKey,Kt=Ye.onDelete,gt=Ye.row,Ft=Ye.children,Jt=Ye.deletePopconfirmMessage,qt=Object(jt.a)(function(){return!1}),En=Object(y.a)(qt,2),It=En[0],si=En[1],On=Object(Ke.a)(Object(he.a)(Object(de.a)().mark(function Gn(){var ci;return Object(de.a)().wrap(function(An){for(;;)switch(An.prev=An.next){case 0:return An.prev=0,si(!0),An.next=4,Kt==null?void 0:Kt(ot,gt);case 4:return ci=An.sent,si(!1),An.abrupt("return",ci);case 9:return An.prev=9,An.t0=An.catch(0),console.log(An.t0),si(!1),An.abrupt("return",null);case 14:case"end":return An.stop()}},Gn,null,[[0,9]])})));return Ft!==!1?Object(me.jsx)(be,{title:Jt,onConfirm:function(){return On()},children:Object(me.jsxs)("a",{children:[It?Object(me.jsx)(I.a,{style:{marginRight:8}}):null,Ft||"\u5220\u9664"]})},"delete"):null},$e=function(Ye){var ot=Ye.recordKey,Kt=Ye.tableName,gt=Ye.newLineConfig,Ft=Ye.editorType,Jt=Ye.onCancel,qt=Ye.cancelEditable,En=Ye.row,It=Ye.cancelText,si=Object(W.useContext)(wt.a),On=ce.a.useFormInstance();return Object(me.jsx)("a",{onClick:function(){var Gn=Object(he.a)(Object(de.a)().mark(function Dn(An){var fr,Vi,Sr,Pi,Ei,Cr;return Object(de.a)().wrap(function(dr){for(;;)switch(dr.prev=dr.next){case 0:return An.stopPropagation(),An.preventDefault(),Vi=Ft==="Map",Sr=[Kt,ot].flat(1).filter(Boolean),Pi=((fr=si.getFieldFormatValue)===null||fr===void 0?void 0:fr.call(si,Sr))||On.getFieldValue(Sr),Ei=Vi?Object(Pe.a)({},Sr,Pi):Pi,dr.next=8,Jt==null?void 0:Jt(ot,Ei,En,gt);case 8:return Cr=dr.sent,qt(ot),On.setFieldsValue(Object(k.a)({},ot,Vi?Object(Oe.a)(En,Sr):En)),dr.abrupt("return",Cr);case 12:case"end":return dr.stop()}},Dn)}));function ci(Dn){return Gn.apply(this,arguments)}return ci}(),children:It||"\u53D6\u6D88"},"cancel")};function We(He,Ye){var ot=Ye.recordKey,Kt=Ye.newLineConfig,gt=Ye.saveText,Ft=Ye.deleteText;return[Object(me.jsx)(Ee,Object(Y.a)(Object(Y.a)({},Ye),{},{row:He,children:gt}),"save"+ot),(Kt==null?void 0:Kt.options.recordKey)!==ot?Object(me.jsx)(Ge,Object(Y.a)(Object(Y.a)({},Ye),{},{row:He,children:Ft}),"delete"+ot):null,Object(me.jsx)($e,Object(Y.a)(Object(Y.a)({},Ye),{},{row:He}),"cancel"+ot)]}function it(He){var Ye=Object(W.useState)(void 0),ot=Object(y.a)(Ye,2),Kt=ot[0],gt=ot[1],Ft=Object(W.useRef)(new Map),Jt=Object(W.useRef)(void 0);Object(Ct.b)(function(){var gn=new Map,rn=function bn(Qn,Ci){Qn==null||Qn.forEach(function(yr,_i){var Bn,tt=Ci==null?_i.toString():Ci+"_"+_i.toString();gn.set(tt,fe(He.getRowKey(yr,-1))),gn.set((Bn=fe(He.getRowKey(yr,-1)))===null||Bn===void 0?void 0:Bn.toString(),tt),He.childrenColumnName&&yr[He.childrenColumnName]&&bn(yr[He.childrenColumnName],tt)})};rn(He.dataSource),Ft.current=gn},[He.dataSource]),Jt.current=Kt;var qt=He.type||"single",En=Object(Re.a)(He.dataSource,"children",He.getRowKey),It=Object(y.a)(En,1),si=It[0],On=Object(ee.a)([],{value:He.editableKeys,onChange:He.onChange?function(gn){var rn;He==null||(rn=He.onChange)===null||rn===void 0||rn.call(He,gn.filter(function(bn){return bn!==void 0}),gn.map(function(bn){return si(bn)}).filter(function(bn){return bn!==void 0}))}:void 0}),Gn=Object(y.a)(On,2),ci=Gn[0],Dn=Gn[1],An=Object(W.useMemo)(function(){var gn=qt==="single"?ci==null?void 0:ci.slice(0,1):ci;return new Set(gn)},[(ci||[]).join(","),qt]),fr=Object(bt.a)(ci),Vi=Object(Ke.a)(function(gn){var rn,bn,Qn,Ci,yr=(rn=He.getRowKey(gn,gn.index))===null||rn===void 0||(bn=rn.toString)===null||bn===void 0?void 0:bn.call(rn),_i=(Qn=He.getRowKey(gn,-1))===null||Qn===void 0||(Ci=Qn.toString)===null||Ci===void 0?void 0:Ci.call(Qn),Bn=ci.map(function(xi){return xi==null?void 0:xi.toString()}),tt=(fr==null?void 0:fr.map(function(xi){return xi==null?void 0:xi.toString()}))||[],Lt=He.tableName&&!!(tt==null?void 0:tt.includes(_i))||!!(tt==null?void 0:tt.includes(yr));return{recordKey:_i,isEditable:He.tableName&&(Bn==null?void 0:Bn.includes(_i))||(Bn==null?void 0:Bn.includes(yr)),preIsEditable:Lt}}),Sr=Object(Ke.a)(function(gn){return An.size>0&&qt==="single"&&He.onlyOneLineEditorAlertMessage!==!1?(De.default.warn(He.onlyOneLineEditorAlertMessage||"\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C"),!1):(An.add(gn),Dn(Array.from(An)),!0)}),Pi=Object(Ke.a)(function(){var gn=Object(he.a)(Object(de.a)().mark(function rn(bn,Qn){var Ci,yr;return Object(de.a)().wrap(function(Bn){for(;;)switch(Bn.prev=Bn.next){case 0:if(Ci=fe(bn).toString(),yr=Ft.current.get(Ci),!(!An.has(Ci)&&yr&&(Qn!=null?Qn:!0)&&He.tableName)){Bn.next=5;break}return Pi(yr,!1),Bn.abrupt("return");case 5:return Kt&&Kt.options.recordKey===bn&&gt(void 0),An.delete(Ci),An.delete(fe(bn)),Dn(Array.from(An)),Bn.abrupt("return",!0);case 10:case"end":return Bn.stop()}},rn)}));return function(rn,bn){return gn.apply(this,arguments)}}()),Ei=Object(Xe.a)(Object(he.a)(Object(de.a)().mark(function gn(){var rn,bn,Qn,Ci,yr=arguments;return Object(de.a)().wrap(function(Bn){for(;;)switch(Bn.prev=Bn.next){case 0:for(bn=yr.length,Qn=new Array(bn),Ci=0;Ci<bn;Ci++)Qn[Ci]=yr[Ci];(rn=He.onValuesChange)===null||rn===void 0||rn.call.apply(rn,[He].concat(Qn));case 2:case"end":return Bn.stop()}},gn)})),64),Cr=Object(Ke.a)(function(gn,rn){var bn;if(!!He.onValuesChange){var Qn=He.dataSource;ci.forEach(function(tt){if((Kt==null?void 0:Kt.options.recordKey)!==tt){var Lt=tt.toString(),xi=Object(Oe.a)(rn,[He.tableName||"",Lt].flat(1).filter(function(Qi){return Qi||Qi===0}));!xi||(Qn=ye({data:Qn,getRowKey:He.getRowKey,row:xi,key:Lt,childrenColumnName:He.childrenColumnName||"children"},"update"))}});var Ci=He.tableName?Object(Oe.a)(gn,[He.tableName||""].flat(1)):gn,yr=(bn=Object.keys(Ci||{}).pop())===null||bn===void 0?void 0:bn.toString(),_i=Object(Y.a)(Object(Y.a)({},Kt==null?void 0:Kt.defaultValue),Object(Oe.a)(rn,[He.tableName||"",yr.toString()].flat(1).filter(function(tt){return tt||tt===0}))),Bn=Ft.current.has(fe(yr))?Qn.find(function(tt,Lt){var xi,Qi=(xi=He.getRowKey(tt,Lt))===null||xi===void 0?void 0:xi.toString();return Qi===yr}):_i;Ei.run(Bn||_i,Qn)}}),zn=Object(Ke.a)(function(gn,rn){if((rn==null?void 0:rn.parentKey)&&!Ft.current.has(fe(rn==null?void 0:rn.parentKey).toString()))return console.warn("can't find record by key",rn==null?void 0:rn.parentKey),!1;if(Jt.current&&He.onlyAddOneLineAlertMessage!==!1)return De.default.warn(He.onlyAddOneLineAlertMessage||"\u53EA\u80FD\u65B0\u589E\u4E00\u884C"),!1;if(An.size>0&&qt==="single"&&He.onlyOneLineEditorAlertMessage!==!1)return De.default.warn(He.onlyOneLineEditorAlertMessage||"\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C"),!1;var bn=He.getRowKey(gn,-1);if(!bn)throw Object(Ne.b)(!!bn,`\u8BF7\u8BBE\u7F6E recordCreatorProps.record \u5E76\u8FD4\u56DE\u4E00\u4E2A\u552F\u4E00\u7684key  
  https://procomponents.ant.design/components/editable-table#editable-%E6%96%B0%E5%BB%BA%E8%A1%8C`),new Error("\u8BF7\u8BBE\u7F6E recordCreatorProps.record \u5E76\u8FD4\u56DE\u4E00\u4E2A\u552F\u4E00\u7684key");if(An.add(bn),Dn(Array.from(An)),(rn==null?void 0:rn.newRecordType)==="dataSource"||He.tableName){var Qn,Ci={data:He.dataSource,getRowKey:He.getRowKey,row:Object(Y.a)(Object(Y.a)({},gn),{},{map_row_parentKey:(rn==null?void 0:rn.parentKey)?(Qn=fe(rn==null?void 0:rn.parentKey))===null||Qn===void 0?void 0:Qn.toString():void 0}),key:bn,childrenColumnName:He.childrenColumnName||"children"};He.setDataSource(ye(Ci,(rn==null?void 0:rn.position)==="top"?"top":"update"))}else gt({defaultValue:gn,options:Object(Y.a)(Object(Y.a)({},rn),{},{recordKey:bn})});return!0}),dr=Object(we.d)(),Hn=(He==null?void 0:He.saveText)||dr.getMessage("editableTable.action.save","\u4FDD\u5B58"),mi=(He==null?void 0:He.deleteText)||dr.getMessage("editableTable.action.delete","\u5220\u9664"),hn=(He==null?void 0:He.cancelText)||dr.getMessage("editableTable.action.cancel","\u53D6\u6D88"),Xn=Object(Ke.a)(function(){var gn=Object(he.a)(Object(de.a)().mark(function rn(bn,Qn,Ci,yr){var _i,Bn,tt,Lt,xi,Qi,mr;return Object(de.a)().wrap(function(St){for(;;)switch(St.prev=St.next){case 0:return Lt=yr||Jt.current||{},xi=Lt.options,St.next=3,He==null||(_i=He.onSave)===null||_i===void 0?void 0:_i.call(He,bn,Qn,Ci,yr);case 3:if(Qi=St.sent,Pi(bn),!(!(xi==null?void 0:xi.parentKey)&&(xi==null?void 0:xi.recordKey)===bn)){St.next=8;break}return(xi==null?void 0:xi.position)==="top"?He.setDataSource([Qn].concat(Object(w.a)(He.dataSource))):He.setDataSource([].concat(Object(w.a)(He.dataSource),[Qn])),St.abrupt("return",Qi);case 8:return mr={data:He.dataSource,getRowKey:He.getRowKey,row:xi?Object(Y.a)(Object(Y.a)({},Qn),{},{map_row_parentKey:(Bn=fe((tt=xi==null?void 0:xi.parentKey)!==null&&tt!==void 0?tt:""))===null||Bn===void 0?void 0:Bn.toString()}):Qn,key:bn,childrenColumnName:He.childrenColumnName||"children"},He.setDataSource(ye(mr,(xi==null?void 0:xi.position)==="top"?"top":"update")),St.abrupt("return",Qi);case 11:case"end":return St.stop()}},rn)}));return function(rn,bn,Qn,Ci){return gn.apply(this,arguments)}}()),en=Object(Ke.a)(function(){var gn=Object(he.a)(Object(de.a)().mark(function rn(bn,Qn){var Ci,yr,_i;return Object(de.a)().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return yr={data:He.dataSource,getRowKey:He.getRowKey,row:Qn,key:bn,childrenColumnName:He.childrenColumnName||"children"},tt.next=3,He==null||(Ci=He.onDelete)===null||Ci===void 0?void 0:Ci.call(He,bn,Qn);case 3:return _i=tt.sent,tt.next=6,Pi(bn);case 6:return He.setDataSource(ye(yr,"delete")),tt.abrupt("return",_i);case 8:case"end":return tt.stop()}},rn)}));return function(rn,bn){return gn.apply(this,arguments)}}()),yt=Object(Ke.a)(function(){var gn=Object(he.a)(Object(de.a)().mark(function rn(bn,Qn,Ci,yr){var _i,Bn;return Object(de.a)().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,He==null||(_i=He.onCancel)===null||_i===void 0?void 0:_i.call(He,bn,Qn,Ci,yr);case 2:return Bn=Lt.sent,Lt.abrupt("return",Bn);case 4:case"end":return Lt.stop()}},rn)}));return function(rn,bn,Qn,Ci){return gn.apply(this,arguments)}}()),wn=function(rn){var bn=He.getRowKey(rn,rn.index),Qn={saveText:Hn,cancelText:hn,deleteText:mi,addEditRecord:zn,recordKey:bn,cancelEditable:Pi,index:rn.index,tableName:He.tableName,newLineConfig:Kt,onCancel:yt,onDelete:en,onSave:Xn,editableKeys:ci,setEditableRowKeys:Dn,deletePopconfirmMessage:He.deletePopconfirmMessage||"".concat(dr.getMessage("deleteThisLine","\u5220\u9664\u6B64\u884C"),"?")},Ci=We(rn,Qn);return He.actionRender?He.actionRender(rn,Qn,{save:Ci[0],delete:Ci[1],cancel:Ci[2]}):Ci};return{editableKeys:ci,setEditableRowKeys:Dn,isEditable:Vi,actionRender:wn,startEditable:Sr,cancelEditable:Pi,addEditRecord:zn,newLineRecord:Kt,preEditableKeys:fr,onValuesChange:Cr}}var Fe=K.a=it},n8z0:function(fn,K,a){},nB0o:function(fn,K,a){"use strict";a.d(K,"a",function(){return mu});var le=a("tJVT"),De=a("qLMh"),E=a("rAM+"),ve=a("tS8v"),re=a("w4Tj"),J=a("oZsa"),$=a("yKVA"),y=a("879j"),Q=a("fWQN"),L=a("mtLc"),ne=a("eQg+"),ee=a("sswD"),H=function(ze,Ce,v,m){var u=arguments.length,g=u<3?Ce:m===null?m=Object.getOwnPropertyDescriptor(Ce,v):m,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(ze,Ce,v,m);else for(var te=ze.length-1;te>=0;te--)(O=ze[te])&&(g=(u<3?O(g):u>3?O(Ce,v,g):O(Ce,v))||g);return u>3&&g&&Object.defineProperty(Ce,v,g),g},W=function(ze,Ce){return function(v,m){Ce(v,m,ze)}},F=function(){function ze(Ce,v){Object(Q.a)(this,ze)}return Object(L.a)(ze,[{key:"dispose",value:function(){}}]),ze}();F.ID="editor.contrib.markerDecorations",F=H([W(1,ne.a)],F),Object(ee.m)(F.ID,F,0);var V=a("lrmC"),N=a("3/fG"),U=a("EffR"),d=a("/cxE"),j=a("MI8n"),C=a("pmY6"),x=a("tYmi"),S=a("D3Dy"),T=a("6OMU"),z=a("qj0h"),A=a("MNsG"),ue=a("o39E"),be=a("aKo+"),de=function(){function ze(Ce,v){Object(Q.a)(this,ze),this.key=Ce,this.migrate=v}return Object(L.a)(ze,[{key:"apply",value:function(v){var m=ze._read(v,this.key),u=function(te){return ze._read(v,te)},g=function(te,Le){return ze._write(v,te,Le)};this.migrate(m,u,g)}}],[{key:"_read",value:function(v,m){if(typeof v!="undefined"){var u=m.indexOf(".");if(u>=0){var g=m.substring(0,u);return this._read(v[g],m.substring(u+1))}return v[m]}}},{key:"_write",value:function(v,m,u){var g=m.indexOf(".");if(g>=0){var O=m.substring(0,g);v[O]=v[O]||{},this._write(v[O],m.substring(g+1),u);return}v[m]=u}}]),ze}();de.items=[];function ke(ze,Ce){de.items.push(new de(ze,Ce))}function he(ze,Ce){ke(ze,function(v,m,u){if(typeof v!="undefined"){var g=Object(E.a)(Ce),O;try{for(g.s();!(O=g.n()).done;){var te=O.value,Le=Object(le.a)(te,2),Me=Le[0],at=Le[1];if(v===Me){u(ze,at);return}}}catch(Ot){g.e(Ot)}finally{g.f()}}})}function ge(ze){de.items.forEach(function(Ce){return Ce.apply(ze)})}he("wordWrap",[[!0,"on"],[!1,"off"]]),he("lineNumbers",[[!0,"on"],[!1,"off"]]),he("cursorBlinking",[["visible","solid"]]),he("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),he("renderLineHighlight",[[!0,"line"],[!1,"none"]]),he("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),he("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),he("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),he("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),he("autoIndent",[[!1,"advanced"],[!0,"full"]]),he("matchBrackets",[[!0,"always"],[!1,"never"]]),he("renderFinalNewline",[[!0,"on"],[!1,"off"]]),he("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),ke("autoClosingBrackets",function(ze,Ce,v){ze===!1&&(v("autoClosingBrackets","never"),typeof Ce("autoClosingQuotes")=="undefined"&&v("autoClosingQuotes","never"),typeof Ce("autoSurround")=="undefined"&&v("autoSurround","never"))}),ke("renderIndentGuides",function(ze,Ce,v){typeof ze!="undefined"&&(v("renderIndentGuides",void 0),typeof Ce("guides.indentation")=="undefined"&&v("guides.indentation",!!ze))}),ke("highlightActiveIndentGuide",function(ze,Ce,v){typeof ze!="undefined"&&(v("highlightActiveIndentGuide",void 0),typeof Ce("guides.highlightActiveIndentation")=="undefined"&&v("guides.highlightActiveIndentation",!!ze))});var ce={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};ke("suggest.filteredTypes",function(ze,Ce,v){if(ze&&typeof ze=="object"){for(var m=0,u=Object.entries(ce);m<u.length;m++){var g=u[m],O=ze[g[0]];O===!1&&typeof Ce("suggest.".concat(g[1]))=="undefined"&&v("suggest.".concat(g[1]),!1)}v("suggest.filteredTypes",void 0)}}),ke("quickSuggestions",function(ze,Ce,v){if(typeof ze=="boolean"){var m=ze?"on":"off",u={comments:m,strings:m,other:m};v("quickSuggestions",u)}}),ke("experimental.stickyScroll.enabled",function(ze,Ce,v){typeof ze=="boolean"&&(v("experimental.stickyScroll.enabled",void 0),typeof Ce("stickyScroll.enabled")=="undefined"&&v("stickyScroll.enabled",ze))}),ke("experimental.stickyScroll.maxLineCount",function(ze,Ce,v){typeof ze=="number"&&(v("experimental.stickyScroll.maxLineCount",void 0),typeof Ce("stickyScroll.maxLineCount")=="undefined"&&v("stickyScroll.maxLineCount",ze))});var k=a("p+Yh"),w=a("/UlZ"),B=a("Yr1X"),Y=a("+3Gp"),pe=a("R3nR"),me=function(ze,Ce,v,m){var u=arguments.length,g=u<3?Ce:m===null?m=Object.getOwnPropertyDescriptor(Ce,v):m,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(ze,Ce,v,m);else for(var te=ze.length-1;te>=0;te--)(O=ze[te])&&(g=(u<3?O(g):u>3?O(Ce,v,g):O(Ce,v))||g);return u>3&&g&&Object.defineProperty(Ce,v,g),g},I=function(ze,Ce){return function(v,m){Ce(v,m,ze)}},we=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g,O){var te;return Object(Q.a)(this,v),te=Ce.call(this),te._accessibilityService=O,te._onDidChange=te._register(new j.b),te.onDidChange=te._onDidChange.event,te._onDidChangeFast=te._register(new j.b),te.onDidChangeFast=te._onDidChangeFast.event,te._isDominatedByLongLines=!1,te._viewLineCount=1,te._lineNumbersDigitCount=1,te._reservedHeight=0,te._glyphMarginDecorationLaneCount=1,te._computeOptionsMemory=new w.b,te.isSimpleWidget=m,te._containerObserver=te._register(new ue.a(g,u.dimension)),te._rawOptions=Xe(u),te._validatedOptions=Ke.validateOptions(te._rawOptions),te.options=te._computeOptions(),te.options.get(11)&&te._containerObserver.startObserving(),te._register(B.a.onDidChangeZoomLevel(function(){return te._recomputeOptions()})),te._register(k.a.onDidChangeTabFocus(function(){return te._recomputeOptions()})),te._register(te._containerObserver.onDidChange(function(){return te._recomputeOptions()})),te._register(be.a.onDidChange(function(){return te._recomputeOptions()})),te._register(S.PixelRatio.onDidChange(function(){return te._recomputeOptions()})),te._register(te._accessibilityService.onDidChangeScreenReaderOptimized(function(){return te._recomputeOptions()})),te}return Object(L.a)(v,[{key:"_recomputeOptions",value:function(){var u=this._computeOptions(),g=Ke.checkEquals(this.options,u);g!==null&&(this.options=u,this._onDidChangeFast.fire(g),this._onDidChange.fire(g))}},{key:"_computeOptions",value:function(){var u=this._readEnvConfiguration(),g=Y.a.createFromValidatedSettings(this._validatedOptions,u.pixelRatio,this.isSimpleWidget),O=this._readFontInfo(g),te={memory:this._computeOptionsMemory,outerWidth:u.outerWidth,outerHeight:u.outerHeight-this._reservedHeight,fontInfo:O,extraEditorClassName:u.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:u.emptySelectionClipboard,pixelRatio:u.pixelRatio,tabFocusMode:k.a.getTabFocusMode("editorFocus"),accessibilitySupport:u.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return Ke.computeOptions(this._validatedOptions,te)}},{key:"_readEnvConfiguration",value:function(){return{extraEditorClassName:Oe(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:S.isWebKit||S.isFirefox,pixelRatio:S.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}},{key:"_readFontInfo",value:function(u){return be.a.readFontInfo(u)}},{key:"getRawOptions",value:function(){return this._rawOptions}},{key:"updateOptions",value:function(u){var g=Xe(u),O=Ke.applyUpdate(this._rawOptions,g);!O||(this._validatedOptions=Ke.validateOptions(this._rawOptions),this._recomputeOptions())}},{key:"observeContainer",value:function(u){this._containerObserver.observe(u)}},{key:"setIsDominatedByLongLines",value:function(u){this._isDominatedByLongLines!==u&&(this._isDominatedByLongLines=u,this._recomputeOptions())}},{key:"setModelLineCount",value:function(u){var g=Re(u);this._lineNumbersDigitCount!==g&&(this._lineNumbersDigitCount=g,this._recomputeOptions())}},{key:"setViewLineCount",value:function(u){this._viewLineCount!==u&&(this._viewLineCount=u,this._recomputeOptions())}},{key:"setReservedHeight",value:function(u){this._reservedHeight!==u&&(this._reservedHeight=u,this._recomputeOptions())}},{key:"setGlyphMarginDecorationLaneCount",value:function(u){this._glyphMarginDecorationLaneCount!==u&&(this._glyphMarginDecorationLaneCount=u,this._recomputeOptions())}}]),v}(C.a);we=me([I(3,pe.b)],we);function Re(ze){for(var Ce=0;ze;)ze=Math.floor(ze/10),Ce++;return Ce||1}function Oe(){var ze="";return!S.isSafari&&!S.isWebkitWebView&&(ze+="no-user-select "),S.isSafari&&(ze+="no-minimap-shadow ",ze+="enable-user-select "),A.i&&(ze+="mac "),ze}var Pe=function(){function ze(){Object(Q.a)(this,ze),this._values=[]}return Object(L.a)(ze,[{key:"_read",value:function(v){return this._values[v]}},{key:"get",value:function(v){return this._values[v]}},{key:"_write",value:function(v,m){this._values[v]=m}}]),ze}(),Ne=function(){function ze(){Object(Q.a)(this,ze),this._values=[]}return Object(L.a)(ze,[{key:"_read",value:function(v){if(v>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[v]}},{key:"get",value:function(v){return this._read(v)}},{key:"_write",value:function(v,m){this._values[v]=m}}]),ze}(),Ke=function(){function ze(){Object(Q.a)(this,ze)}return Object(L.a)(ze,null,[{key:"validateOptions",value:function(v){var m=new Pe,u=Object(E.a)(w.n),g;try{for(u.s();!(g=u.n()).done;){var O=g.value,te=O.name==="_never_"?void 0:v[O.name];m._write(O.id,O.validate(te))}}catch(Le){u.e(Le)}finally{u.f()}return m}},{key:"computeOptions",value:function(v,m){var u=new Ne,g=Object(E.a)(w.n),O;try{for(g.s();!(O=g.n()).done;){var te=O.value;u._write(te.id,te.compute(m,u,v._read(te.id)))}}catch(Le){g.e(Le)}finally{g.f()}return u}},{key:"_deepEquals",value:function(v,m){if(typeof v!="object"||typeof m!="object"||!v||!m)return v===m;if(Array.isArray(v)||Array.isArray(m))return Array.isArray(v)&&Array.isArray(m)?T.j(v,m):!1;if(Object.keys(v).length!==Object.keys(m).length)return!1;for(var u in v)if(!ze._deepEquals(v[u],m[u]))return!1;return!0}},{key:"checkEquals",value:function(v,m){var u=[],g=!1,O=Object(E.a)(w.n),te;try{for(O.s();!(te=O.n()).done;){var Le=te.value,Me=!ze._deepEquals(v._read(Le.id),m._read(Le.id));u[Le.id]=Me,Me&&(g=!0)}}catch(at){O.e(at)}finally{O.f()}return g?new w.c(u):null}},{key:"applyUpdate",value:function(v,m){var u=!1,g=Object(E.a)(w.n),O;try{for(g.s();!(O=g.n()).done;){var te=O.value;if(m.hasOwnProperty(te.name)){var Le=te.applyUpdate(v[te.name],m[te.name]);v[te.name]=Le.newValue,u=u||Le.didChange}}}catch(Me){g.e(Me)}finally{g.f()}return u}}]),ze}();function Xe(ze){var Ce=z.c(ze);return ge(Ce),Ce}var wt=a("Vxe3"),Ct=a("gCVg"),bt=a("ZlPH"),mt=a("pg8w"),jt=a("XSiN"),Je=a("QRuL"),Wt=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(){var m;return Object(Q.a)(this,v),m=Ce.call(this),m._shouldRender=!0,m}return Object(L.a)(v,[{key:"shouldRender",value:function(){return this._shouldRender}},{key:"forceShouldRender",value:function(){this._shouldRender=!0}},{key:"setShouldRender",value:function(){this._shouldRender=!0}},{key:"onDidRender",value:function(){this._shouldRender=!1}},{key:"onCompositionStart",value:function(u){return!1}},{key:"onCompositionEnd",value:function(u){return!1}},{key:"onConfigurationChanged",value:function(u){return!1}},{key:"onCursorStateChanged",value:function(u){return!1}},{key:"onDecorationsChanged",value:function(u){return!1}},{key:"onFlushed",value:function(u){return!1}},{key:"onFocusChanged",value:function(u){return!1}},{key:"onLanguageConfigurationChanged",value:function(u){return!1}},{key:"onLineMappingChanged",value:function(u){return!1}},{key:"onLinesChanged",value:function(u){return!1}},{key:"onLinesDeleted",value:function(u){return!1}},{key:"onLinesInserted",value:function(u){return!1}},{key:"onRevealRangeRequest",value:function(u){return!1}},{key:"onScrollChanged",value:function(u){return!1}},{key:"onThemeChanged",value:function(u){return!1}},{key:"onTokensChanged",value:function(u){return!1}},{key:"onTokensColorsChanged",value:function(u){return!1}},{key:"onZonesChanged",value:function(u){return!1}},{key:"handleEvents",value:function(u){for(var g=!1,O=0,te=u.length;O<te;O++){var Le=u[O];switch(Le.type){case 0:this.onCompositionStart(Le)&&(g=!0);break;case 1:this.onCompositionEnd(Le)&&(g=!0);break;case 2:this.onConfigurationChanged(Le)&&(g=!0);break;case 3:this.onCursorStateChanged(Le)&&(g=!0);break;case 4:this.onDecorationsChanged(Le)&&(g=!0);break;case 5:this.onFlushed(Le)&&(g=!0);break;case 6:this.onFocusChanged(Le)&&(g=!0);break;case 7:this.onLanguageConfigurationChanged(Le)&&(g=!0);break;case 8:this.onLineMappingChanged(Le)&&(g=!0);break;case 9:this.onLinesChanged(Le)&&(g=!0);break;case 10:this.onLinesDeleted(Le)&&(g=!0);break;case 11:this.onLinesInserted(Le)&&(g=!0);break;case 12:this.onRevealRangeRequest(Le)&&(g=!0);break;case 13:this.onScrollChanged(Le)&&(g=!0);break;case 15:this.onTokensChanged(Le)&&(g=!0);break;case 14:this.onThemeChanged(Le)&&(g=!0);break;case 16:this.onTokensColorsChanged(Le)&&(g=!0);break;case 17:this.onZonesChanged(Le)&&(g=!0);break;default:console.info("View received unknown event: "),console.info(Le)}}g&&(this._shouldRender=!0)}}]),v}(C.a),Te=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;return Object(Q.a)(this,v),u=Ce.call(this),u._context=m,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(L.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}}]),v}(Wt),fe=function(){function ze(){Object(Q.a)(this,ze)}return Object(L.a)(ze,null,[{key:"write",value:function(v,m){v.setAttribute("data-mprt",String(m))}},{key:"read",value:function(v){var m=v.getAttribute("data-mprt");return m===null?0:parseInt(m,10)}},{key:"collect",value:function(v,m){for(var u=[],g=0;v&&v!==document.body&&v!==m;)v.nodeType===v.ELEMENT_NODE&&(u[g++]=this.read(v)),v=v.parentElement;for(var O=new Uint8Array(g),te=0;te<g;te++)O[te]=u[g-te-1];return O}}]),ze}(),ye=function(){function ze(Ce,v){Object(Q.a)(this,ze),this._restrictedRenderingContextBrand=void 0,this._viewLayout=Ce,this.viewportData=v,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var m=this._viewLayout.getCurrentViewport();this.scrollTop=m.top,this.scrollLeft=m.left,this.viewportWidth=m.width,this.viewportHeight=m.height}return Object(L.a)(ze,[{key:"getScrolledTopFromAbsoluteTop",value:function(v){return v-this.scrollTop}},{key:"getVerticalOffsetForLineNumber",value:function(v,m){return this._viewLayout.getVerticalOffsetForLineNumber(v,m)}},{key:"getVerticalOffsetAfterLineNumber",value:function(v,m){return this._viewLayout.getVerticalOffsetAfterLineNumber(v,m)}},{key:"getDecorationsInViewport",value:function(){return this.viewportData.getDecorationsInViewport()}}]),ze}(),Ee=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g){var O;return Object(Q.a)(this,v),O=Ce.call(this,m,u),O._renderingContextBrand=void 0,O._viewLines=g,O}return Object(L.a)(v,[{key:"linesVisibleRangesForRange",value:function(u,g){return this._viewLines.linesVisibleRangesForRange(u,g)}},{key:"visibleRangeForPosition",value:function(u){return this._viewLines.visibleRangeForPosition(u)}}]),v}(ye),Ge=Object(L.a)(function ze(Ce,v,m){Object(Q.a)(this,ze),this.outsideRenderedLine=Ce,this.lineNumber=v,this.ranges=m}),$e=function(){function ze(Ce,v){Object(Q.a)(this,ze),this._horizontalRangeBrand=void 0,this.left=Math.round(Ce),this.width=Math.round(v)}return Object(L.a)(ze,[{key:"toString",value:function(){return"[".concat(this.left,",").concat(this.width,"]")}}],[{key:"from",value:function(v){for(var m=new Array(v.length),u=0,g=v.length;u<g;u++){var O=v[u];m[u]=new ze(O.left,O.width)}return m}}]),ze}(),We=function(){function ze(Ce,v){Object(Q.a)(this,ze),this._floatHorizontalRangeBrand=void 0,this.left=Ce,this.width=v}return Object(L.a)(ze,[{key:"toString",value:function(){return"[".concat(this.left,",").concat(this.width,"]")}}],[{key:"compare",value:function(v,m){return v.left-m.left}}]),ze}(),it=Object(L.a)(function ze(Ce,v){Object(Q.a)(this,ze),this.outsideRenderedLine=Ce,this.originalLeft=v,this.left=Math.round(this.originalLeft)}),Fe=Object(L.a)(function ze(Ce,v){Object(Q.a)(this,ze),this.outsideRenderedLine=Ce,this.ranges=v}),He=function(){function ze(){Object(Q.a)(this,ze)}return Object(L.a)(ze,null,[{key:"_createRange",value:function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}},{key:"_detachRange",value:function(v,m){v.selectNodeContents(m)}},{key:"_readClientRects",value:function(v,m,u,g,O){var te=this._createRange();try{return te.setStart(v,m),te.setEnd(u,g),te.getClientRects()}catch(Le){return null}finally{this._detachRange(te,O)}}},{key:"_mergeAdjacentRanges",value:function(v){if(v.length===1)return v;v.sort(We.compare);for(var m=[],u=0,g=v[0],O=1,te=v.length;O<te;O++){var Le=v[O];g.left+g.width+.9>=Le.left?g.width=Math.max(g.width,Le.left+Le.width-g.left):(m[u++]=g,g=Le)}return m[u++]=g,m}},{key:"_createHorizontalRangesFromClientRects",value:function(v,m,u){if(!v||v.length===0)return null;for(var g=[],O=0,te=v.length;O<te;O++){var Le=v[O];g[O]=new We(Math.max(0,(Le.left-m)/u),Le.width/u)}return this._mergeAdjacentRanges(g)}},{key:"readHorizontalRanges",value:function(v,m,u,g,O,te){var Le=0,Me=v.children.length-1;if(Le>Me)return null;if(m=Math.min(Me,Math.max(Le,m)),g=Math.min(Me,Math.max(Le,g)),m===g&&u===O&&u===0&&!v.children[m].firstChild){var at=v.children[m].getClientRects();return te.markDidDomLayout(),this._createHorizontalRangesFromClientRects(at,te.clientRectDeltaLeft,te.clientRectScale)}m!==g&&g>0&&O===0&&(g--,O=1073741824);var Ot=v.children[m].firstChild,Mt=v.children[g].firstChild;if((!Ot||!Mt)&&(!Ot&&u===0&&m>0&&(Ot=v.children[m-1].firstChild,u=1073741824),!Mt&&O===0&&g>0&&(Mt=v.children[g-1].firstChild,O=1073741824)),!Ot||!Mt)return null;u=Math.min(Ot.textContent.length,Math.max(0,u)),O=Math.min(Mt.textContent.length,Math.max(0,O));var Qt=this._readClientRects(Ot,u,Mt,O,te.endNode);return te.markDidDomLayout(),this._createHorizontalRangesFromClientRects(Qt,te.clientRectDeltaLeft,te.clientRectScale)}}]),ze}(),Ye=a("dBaI"),ot=a("baJR"),Kt=a("nEHx"),gt=function(){return A.k?!0:!(A.g||S.isFirefox||S.isSafari)}(),Ft=!0,Jt=function(){function ze(Ce,v){Object(Q.a)(this,ze),this.themeType=v;var m=Ce.options,u=m.get(48),g=m.get(36);g==="off"?this.renderWhitespace=m.get(95):this.renderWhitespace="none",this.renderControlCharacters=m.get(90),this.spaceWidth=u.spaceWidth,this.middotWidth=u.middotWidth,this.wsmiddotWidth=u.wsmiddotWidth,this.useMonospaceOptimizations=u.isMonospace&&!m.get(31),this.canUseHalfwidthRightwardsArrow=u.canUseHalfwidthRightwardsArrow,this.lineHeight=m.get(64),this.stopRenderingLineAfter=m.get(113),this.fontLigatures=m.get(49)}return Object(L.a)(ze,[{key:"equals",value:function(v){return this.themeType===v.themeType&&this.renderWhitespace===v.renderWhitespace&&this.renderControlCharacters===v.renderControlCharacters&&this.spaceWidth===v.spaceWidth&&this.middotWidth===v.middotWidth&&this.wsmiddotWidth===v.wsmiddotWidth&&this.useMonospaceOptimizations===v.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.lineHeight===v.lineHeight&&this.stopRenderingLineAfter===v.stopRenderingLineAfter&&this.fontLigatures===v.fontLigatures}}]),ze}(),qt=function(){function ze(Ce){Object(Q.a)(this,ze),this._options=Ce,this._isMaybeInvalid=!0,this._renderedViewLine=null}return Object(L.a)(ze,[{key:"getDomNode",value:function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}},{key:"setDomNode",value:function(v){if(this._renderedViewLine)this._renderedViewLine.domNode=Object(bt.b)(v);else throw new Error("I have no rendered view line to set the dom node to...")}},{key:"onContentChanged",value:function(){this._isMaybeInvalid=!0}},{key:"onTokensChanged",value:function(){this._isMaybeInvalid=!0}},{key:"onDecorationsChanged",value:function(){this._isMaybeInvalid=!0}},{key:"onOptionsChanged",value:function(v){this._isMaybeInvalid=!0,this._options=v}},{key:"onSelectionChanged",value:function(){return Object(Kt.c)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}},{key:"renderLine",value:function(v,m,u,g){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;var O=u.getViewLineRenderingData(v),te=this._options,Le=Ye.a.filter(O.inlineDecorations,v,O.minColumn,O.maxColumn),Me=null;if(Object(Kt.c)(te.themeType)||this._options.renderWhitespace==="selection"){var at=u.selections,Ot=Object(E.a)(at),Mt;try{for(Ot.s();!(Mt=Ot.n()).done;){var Qt=Mt.value;if(!(Qt.endLineNumber<v||Qt.startLineNumber>v)){var Ht=Qt.startLineNumber===v?Qt.startColumn:O.minColumn,dt=Qt.endLineNumber===v?Qt.endColumn:O.maxColumn;Ht<dt&&(Object(Kt.c)(te.themeType)&&Le.push(new Ye.a(Ht,dt,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(Me||(Me=[]),Me.push(new ot.b(Ht-1,dt-1))))}}}catch(hi){Ot.e(hi)}finally{Ot.f()}}var Cn=new ot.c(te.useMonospaceOptimizations,te.canUseHalfwidthRightwardsArrow,O.content,O.continuesWithWrappedLine,O.isBasicASCII,O.containsRTL,O.minColumn-1,O.tokens,Le,O.tabSize,O.startVisibleColumn,te.spaceWidth,te.middotWidth,te.wsmiddotWidth,te.stopRenderingLineAfter,te.renderWhitespace,te.renderControlCharacters,te.fontLigatures!==w.e.OFF,Me);if(this._renderedViewLine&&this._renderedViewLine.input.equals(Cn))return!1;g.appendString('<div style="top:'),g.appendString(String(m)),g.appendString("px;height:"),g.appendString(String(this._options.lineHeight)),g.appendString('px;" class="'),g.appendString(ze.CLASS_NAME),g.appendString('">');var Pn=Object(ot.d)(Cn,g);g.appendString("</div>");var ni=null;return Ft&&gt&&O.isBasicASCII&&te.useMonospaceOptimizations&&Pn.containsForeignElements===0&&(ni=new En(this._renderedViewLine?this._renderedViewLine.domNode:null,Cn,Pn.characterMapping)),ni||(ni=On(this._renderedViewLine?this._renderedViewLine.domNode:null,Cn,Pn.characterMapping,Pn.containsRTL,Pn.containsForeignElements)),this._renderedViewLine=ni,!0}},{key:"layoutLine",value:function(v,m){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(m),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}},{key:"getWidth",value:function(v){return this._renderedViewLine?this._renderedViewLine.getWidth(v):0}},{key:"getWidthIsFast",value:function(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}},{key:"needsMonospaceFontCheck",value:function(){return this._renderedViewLine?this._renderedViewLine instanceof En:!1}},{key:"monospaceAssumptionsAreValid",value:function(){return this._renderedViewLine&&this._renderedViewLine instanceof En?this._renderedViewLine.monospaceAssumptionsAreValid():Ft}},{key:"onMonospaceAssumptionsInvalidated",value:function(){this._renderedViewLine&&this._renderedViewLine instanceof En&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}},{key:"getVisibleRangesForRange",value:function(v,m,u,g){if(!this._renderedViewLine)return null;m=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,m)),u=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,u));var O=this._renderedViewLine.input.stopRenderingLineAfter;if(O!==-1&&m>O+1&&u>O+1)return new Fe(!0,[new We(this.getWidth(g),0)]);O!==-1&&m>O+1&&(m=O+1),O!==-1&&u>O+1&&(u=O+1);var te=this._renderedViewLine.getVisibleRangesForRange(v,m,u,g);return te&&te.length>0?new Fe(!1,te):null}},{key:"getColumnOfNodeOffset",value:function(v,m,u){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(v,m,u):1}}]),ze}();qt.CLASS_NAME="view-line";var En=function(){function ze(Ce,v,m){Object(Q.a)(this,ze),this._cachedWidth=-1,this.domNode=Ce,this.input=v;var u=Math.floor(v.lineContent.length/300);if(u>0){this._keyColumnPixelOffsetCache=new Float32Array(u);for(var g=0;g<u;g++)this._keyColumnPixelOffsetCache[g]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=m,this._charWidth=v.spaceWidth}return Object(L.a)(ze,[{key:"getWidth",value:function(v){if(!this.domNode||this.input.lineContent.length<300){var m=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*m)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,v==null||v.markDidDomLayout()),this._cachedWidth}},{key:"getWidthIsFast",value:function(){return this.input.lineContent.length<300||this._cachedWidth!==-1}},{key:"monospaceAssumptionsAreValid",value:function(){if(!this.domNode)return Ft;if(this.input.lineContent.length<300){var v=this.getWidth(null),m=this.domNode.domNode.firstChild.offsetWidth;Math.abs(v-m)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Ft=!1)}return Ft}},{key:"toSlowRenderedLine",value:function(){return On(this.domNode,this.input,this._characterMapping,!1,0)}},{key:"getVisibleRangesForRange",value:function(v,m,u,g){var O=this._getColumnPixelOffset(v,m,g),te=this._getColumnPixelOffset(v,u,g);return[new We(O,te-O)]}},{key:"_getColumnPixelOffset",value:function(v,m,u){if(m<=300){var g=this._characterMapping.getHorizontalOffset(m);return this._charWidth*g}var O=Math.floor((m-1)/300)-1,te=(O+1)*300+1,Le=-1;if(this._keyColumnPixelOffsetCache&&(Le=this._keyColumnPixelOffsetCache[O],Le===-1&&(Le=this._actualReadPixelOffset(v,te,u),this._keyColumnPixelOffsetCache[O]=Le)),Le===-1){var Me=this._characterMapping.getHorizontalOffset(m);return this._charWidth*Me}var at=this._characterMapping.getHorizontalOffset(te),Ot=this._characterMapping.getHorizontalOffset(m);return Le+this._charWidth*(Ot-at)}},{key:"_getReadingTarget",value:function(v){return v.domNode.firstChild}},{key:"_actualReadPixelOffset",value:function(v,m,u){if(!this.domNode)return-1;var g=this._characterMapping.getDomPosition(m),O=He.readHorizontalRanges(this._getReadingTarget(this.domNode),g.partIndex,g.charIndex,g.partIndex,g.charIndex,u);return!O||O.length===0?-1:O[0].left}},{key:"getColumnOfNodeOffset",value:function(v,m,u){for(var g=m.textContent.length,O=-1;m;)m=m.previousSibling,O++;return this._characterMapping.getColumn(new ot.a(O,u),g)}}]),ze}(),It=function(){function ze(Ce,v,m,u,g){if(Object(Q.a)(this,ze),this.domNode=Ce,this.input=v,this._characterMapping=m,this._isWhitespaceOnly=/^\s*$/.test(v.lineContent),this._containsForeignElements=g,this._cachedWidth=-1,this._pixelOffsetCache=null,!u||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(var O=0,te=this._characterMapping.length;O<=te;O++)this._pixelOffsetCache[O]=-1}}return Object(L.a)(ze,[{key:"_getReadingTarget",value:function(v){return v.domNode.firstChild}},{key:"getWidth",value:function(v){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,v==null||v.markDidDomLayout()),this._cachedWidth):0}},{key:"getWidthIsFast",value:function(){return this._cachedWidth!==-1}},{key:"getVisibleRangesForRange",value:function(v,m,u,g){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){var O=this._readPixelOffset(this.domNode,v,m,g);if(O===-1)return null;var te=this._readPixelOffset(this.domNode,v,u,g);return te===-1?null:[new We(O,te-O)]}return this._readVisibleRangesForRange(this.domNode,v,m,u,g)}},{key:"_readVisibleRangesForRange",value:function(v,m,u,g,O){if(u===g){var te=this._readPixelOffset(v,m,u,O);return te===-1?null:[new We(te,0)]}else return this._readRawVisibleRangesForRange(v,u,g,O)}},{key:"_readPixelOffset",value:function(v,m,u,g){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(g);var O=this._getReadingTarget(v);return O.firstChild?(g.markDidDomLayout(),O.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){var te=this._pixelOffsetCache[u];if(te!==-1)return te;var Le=this._actualReadPixelOffset(v,m,u,g);return this._pixelOffsetCache[u]=Le,Le}return this._actualReadPixelOffset(v,m,u,g)}},{key:"_actualReadPixelOffset",value:function(v,m,u,g){if(this._characterMapping.length===0){var O=He.readHorizontalRanges(this._getReadingTarget(v),0,0,0,0,g);return!O||O.length===0?-1:O[0].left}if(u===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(g);var te=this._characterMapping.getDomPosition(u),Le=He.readHorizontalRanges(this._getReadingTarget(v),te.partIndex,te.charIndex,te.partIndex,te.charIndex,g);if(!Le||Le.length===0)return-1;var Me=Le[0].left;if(this.input.isBasicASCII){var at=this._characterMapping.getHorizontalOffset(u),Ot=Math.round(this.input.spaceWidth*at);if(Math.abs(Ot-Me)<=1)return Ot}return Me}},{key:"_readRawVisibleRangesForRange",value:function(v,m,u,g){if(m===1&&u===this._characterMapping.length)return[new We(0,this.getWidth(g))];var O=this._characterMapping.getDomPosition(m),te=this._characterMapping.getDomPosition(u);return He.readHorizontalRanges(this._getReadingTarget(v),O.partIndex,O.charIndex,te.partIndex,te.charIndex,g)}},{key:"getColumnOfNodeOffset",value:function(v,m,u){for(var g=m.textContent.length,O=-1;m;)m=m.previousSibling,O++;return this._characterMapping.getColumn(new ot.a(O,u),g)}}]),ze}(),si=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(){return Object(Q.a)(this,v),Ce.apply(this,arguments)}return Object(L.a)(v,[{key:"_readVisibleRangesForRange",value:function(u,g,O,te,Le){var Me=Object(re.a)(Object(J.a)(v.prototype),"_readVisibleRangesForRange",this).call(this,u,g,O,te,Le);if(!Me||Me.length===0||O===te||O===1&&te===this._characterMapping.length)return Me;if(!this.input.containsRTL){var at=this._readPixelOffset(u,g,te,Le);if(at!==-1){var Ot=Me[Me.length-1];Ot.left<at&&(Ot.width=at-Ot.left)}}return Me}}]),v}(It),On=function(){return S.isWebKit?Gn:ci}();function Gn(ze,Ce,v,m,u){return new si(ze,Ce,v,m,u)}function ci(ze,Ce,v,m,u){return new It(ze,Ce,v,m,u)}var Dn=a("cGHE"),An=a("aokT"),fr=a("JLfW"),Vi=a("ZQYC"),Sr=Object(L.a)(function ze(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Object(Q.a)(this,ze),this.hitTarget=Ce,this.type=0}),Pi=Object(L.a)(function ze(Ce,v,m){Object(Q.a)(this,ze),this.position=Ce,this.spanNode=v,this.injectedText=m,this.type=1}),Ei;(function(ze){function Ce(v,m,u){var g=v.getPositionFromDOMInfo(m,u);return g?new Pi(g,m,null):new Sr(m)}ze.createFromDOMInfo=Ce})(Ei||(Ei={}));var Cr=Object(L.a)(function ze(Ce,v){Object(Q.a)(this,ze),this.lastViewCursorsRenderData=Ce,this.lastTextareaPosition=v}),zn=function(){function ze(){Object(Q.a)(this,ze)}return Object(L.a)(ze,null,[{key:"_deduceRage",value:function(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return!m&&v?new An.a(v.lineNumber,v.column,v.lineNumber,v.column):m!=null?m:null}},{key:"createUnknown",value:function(v,m,u){return{type:0,element:v,mouseColumn:m,position:u,range:this._deduceRage(u)}}},{key:"createTextarea",value:function(v,m){return{type:1,element:v,mouseColumn:m,position:null,range:null}}},{key:"createMargin",value:function(v,m,u,g,O,te){return{type:v,element:m,mouseColumn:u,position:g,range:O,detail:te}}},{key:"createViewZone",value:function(v,m,u,g,O){return{type:v,element:m,mouseColumn:u,position:g,range:this._deduceRage(g),detail:O}}},{key:"createContentText",value:function(v,m,u,g,O){return{type:6,element:v,mouseColumn:m,position:u,range:this._deduceRage(u,g),detail:O}}},{key:"createContentEmpty",value:function(v,m,u,g){return{type:7,element:v,mouseColumn:m,position:u,range:this._deduceRage(u),detail:g}}},{key:"createContentWidget",value:function(v,m,u){return{type:9,element:v,mouseColumn:m,position:null,range:null,detail:u}}},{key:"createScrollbar",value:function(v,m,u){return{type:11,element:v,mouseColumn:m,position:u,range:this._deduceRage(u)}}},{key:"createOverlayWidget",value:function(v,m,u){return{type:12,element:v,mouseColumn:m,position:null,range:null,detail:u}}},{key:"createOutsideEditor",value:function(v,m,u,g){return{type:13,element:null,mouseColumn:v,position:m,range:this._deduceRage(m),outsidePosition:u,outsideDistance:g}}},{key:"_typeToString",value:function(v){return v===1?"TEXTAREA":v===2?"GUTTER_GLYPH_MARGIN":v===3?"GUTTER_LINE_NUMBERS":v===4?"GUTTER_LINE_DECORATIONS":v===5?"GUTTER_VIEW_ZONE":v===6?"CONTENT_TEXT":v===7?"CONTENT_EMPTY":v===8?"CONTENT_VIEW_ZONE":v===9?"CONTENT_WIDGET":v===10?"OVERVIEW_RULER":v===11?"SCROLLBAR":v===12?"OVERLAY_WIDGET":"UNKNOWN"}},{key:"toString",value:function(v){return this._typeToString(v.type)+": "+v.position+" - "+v.range+" - "+JSON.stringify(v.detail)}}]),ze}(),dr=function(){function ze(){Object(Q.a)(this,ze)}return Object(L.a)(ze,null,[{key:"isTextArea",value:function(v){return v.length===2&&v[0]===3&&v[1]===6}},{key:"isChildOfViewLines",value:function(v){return v.length>=4&&v[0]===3&&v[3]===7}},{key:"isStrictChildOfViewLines",value:function(v){return v.length>4&&v[0]===3&&v[3]===7}},{key:"isChildOfScrollableElement",value:function(v){return v.length>=2&&v[0]===3&&v[1]===5}},{key:"isChildOfMinimap",value:function(v){return v.length>=2&&v[0]===3&&v[1]===8}},{key:"isChildOfContentWidgets",value:function(v){return v.length>=4&&v[0]===3&&v[3]===1}},{key:"isChildOfOverflowingContentWidgets",value:function(v){return v.length>=1&&v[0]===2}},{key:"isChildOfOverlayWidgets",value:function(v){return v.length>=2&&v[0]===3&&v[1]===4}}]),ze}(),Hn=function(){function ze(Ce,v,m){Object(Q.a)(this,ze),this.viewModel=Ce.viewModel;var u=Ce.configuration.options;this.layoutInfo=u.get(140),this.viewDomNode=v.viewDomNode,this.lineHeight=u.get(64),this.stickyTabStops=u.get(112),this.typicalHalfwidthCharacterWidth=u.get(48).typicalHalfwidthCharacterWidth,this.lastRenderData=m,this._context=Ce,this._viewHelper=v}return Object(L.a)(ze,[{key:"getZoneAtCoord",value:function(v){return ze.getZoneAtCoord(this._context,v)}},{key:"getFullLineRangeAtCoord",value:function(v){if(this._context.viewLayout.isAfterLines(v)){var m=this._context.viewModel.getLineCount(),u=this._context.viewModel.getLineMaxColumn(m);return{range:new An.a(m,u,m,u),isAfterLines:!0}}var g=this._context.viewLayout.getLineNumberAtVerticalOffset(v),O=this._context.viewModel.getLineMaxColumn(g);return{range:new An.a(g,1,g,O),isAfterLines:!1}}},{key:"getLineNumberAtVerticalOffset",value:function(v){return this._context.viewLayout.getLineNumberAtVerticalOffset(v)}},{key:"isAfterLines",value:function(v){return this._context.viewLayout.isAfterLines(v)}},{key:"isInTopPadding",value:function(v){return this._context.viewLayout.isInTopPadding(v)}},{key:"isInBottomPadding",value:function(v){return this._context.viewLayout.isInBottomPadding(v)}},{key:"getVerticalOffsetForLineNumber",value:function(v){return this._context.viewLayout.getVerticalOffsetForLineNumber(v)}},{key:"findAttribute",value:function(v,m){return ze._findAttribute(v,m,this._viewHelper.viewDomNode)}},{key:"getLineWidth",value:function(v){return this._viewHelper.getLineWidth(v)}},{key:"visibleRangeForPosition",value:function(v,m){return this._viewHelper.visibleRangeForPosition(v,m)}},{key:"getPositionFromDOMInfo",value:function(v,m){return this._viewHelper.getPositionFromDOMInfo(v,m)}},{key:"getCurrentScrollTop",value:function(){return this._context.viewLayout.getCurrentScrollTop()}},{key:"getCurrentScrollLeft",value:function(){return this._context.viewLayout.getCurrentScrollLeft()}}],[{key:"getZoneAtCoord",value:function(v,m){var u=v.viewLayout.getWhitespaceAtVerticalOffset(m);if(u){var g=u.verticalOffset+u.height/2,O=v.viewModel.getLineCount(),te=null,Le,Me=null;return u.afterLineNumber!==O&&(Me=new Dn.a(u.afterLineNumber+1,1)),u.afterLineNumber>0&&(te=new Dn.a(u.afterLineNumber,v.viewModel.getLineMaxColumn(u.afterLineNumber))),Me===null?Le=te:te===null?Le=Me:m<g?Le=te:Le=Me,{viewZoneId:u.id,afterLineNumber:u.afterLineNumber,positionBefore:te,positionAfter:Me,position:Le}}return null}},{key:"_findAttribute",value:function(v,m,u){for(;v&&v!==document.body;){if(v.hasAttribute&&v.hasAttribute(m))return v.getAttribute(m);if(v===u)return null;v=v.parentNode}return null}}]),ze}(),mi=Object(L.a)(function ze(Ce,v,m,u){Object(Q.a)(this,ze),this.editorPos=v,this.pos=m,this.relativePos=u,this.mouseVerticalOffset=Math.max(0,Ce.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=Ce.getCurrentScrollLeft()+this.relativePos.x-Ce.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<Ce.layoutInfo.contentLeft&&this.relativePos.x>=Ce.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,yt._getMouseColumn(this.mouseContentHorizontalOffset,Ce.typicalHalfwidthCharacterWidth))}),hn=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g,O,te){var Le;return Object(Q.a)(this,v),Le=Ce.call(this,m,u,g,O),Le._ctx=m,te?(Le.target=te,Le.targetPath=fe.collect(te,m.viewDomNode)):(Le.target=null,Le.targetPath=new Uint8Array(0)),Le}return Object(L.a)(v,[{key:"toString",value:function(){return"pos(".concat(this.pos.x,",").concat(this.pos.y,"), editorPos(").concat(this.editorPos.x,",").concat(this.editorPos.y,"), relativePos(").concat(this.relativePos.x,",").concat(this.relativePos.y,"), mouseVerticalOffset: ").concat(this.mouseVerticalOffset,", mouseContentHorizontalOffset: ").concat(this.mouseContentHorizontalOffset,`
	target: `).concat(this.target?this.target.outerHTML:null)}},{key:"_getMouseColumn",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return u&&u.column<this._ctx.viewModel.getLineMaxColumn(u.lineNumber)?fr.a.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(u.lineNumber),u.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}},{key:"fulfillUnknown",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return zn.createUnknown(this.target,this._getMouseColumn(u),u)}},{key:"fulfillTextarea",value:function(){return zn.createTextarea(this.target,this._getMouseColumn())}},{key:"fulfillMargin",value:function(u,g,O,te){return zn.createMargin(u,this.target,this._getMouseColumn(g),g,O,te)}},{key:"fulfillViewZone",value:function(u,g,O){return zn.createViewZone(u,this.target,this._getMouseColumn(g),g,O)}},{key:"fulfillContentText",value:function(u,g,O){return zn.createContentText(this.target,this._getMouseColumn(u),u,g,O)}},{key:"fulfillContentEmpty",value:function(u,g){return zn.createContentEmpty(this.target,this._getMouseColumn(u),u,g)}},{key:"fulfillContentWidget",value:function(u){return zn.createContentWidget(this.target,this._getMouseColumn(),u)}},{key:"fulfillScrollbar",value:function(u){return zn.createScrollbar(this.target,this._getMouseColumn(u),u)}},{key:"fulfillOverlayWidget",value:function(u){return zn.createOverlayWidget(this.target,this._getMouseColumn(),u)}},{key:"withTarget",value:function(u){return new v(this._ctx,this.editorPos,this.pos,this.relativePos,u)}}]),v}(mi),Xn={isAfterLines:!0};function en(ze){return{isAfterLines:!1,horizontalDistanceToText:ze}}var yt=function(){function ze(Ce,v){Object(Q.a)(this,ze),this._context=Ce,this._viewHelper=v}return Object(L.a)(ze,[{key:"mouseTargetIsWidget",value:function(v){var m=v.target,u=fe.collect(m,this._viewHelper.viewDomNode);return!!(dr.isChildOfContentWidgets(u)||dr.isChildOfOverflowingContentWidgets(u)||dr.isChildOfOverlayWidgets(u))}},{key:"createMouseTarget",value:function(v,m,u,g,O){var te=new Hn(this._context,this._viewHelper,v),Le=new hn(te,m,u,g,O);try{var Me=ze._createMouseTarget(te,Le,!1);if(Me.type===6&&te.stickyTabStops&&Me.position!==null){var at=ze._snapToSoftTabBoundary(Me.position,te.viewModel),Ot=An.a.fromPositions(at,at).plusRange(Me.range);return Le.fulfillContentText(at,Ot,Me.detail)}return Me}catch(Mt){return Le.fulfillUnknown()}}},{key:"getMouseColumn",value:function(v){var m=this._context.configuration.options,u=m.get(140),g=this._context.viewLayout.getCurrentScrollLeft()+v.x-u.contentLeft;return ze._getMouseColumn(g,m.get(48).typicalHalfwidthCharacterWidth)}}],[{key:"_createMouseTarget",value:function(v,m,u){if(m.target===null){if(u)return m.fulfillUnknown();var g=ze._doHitTest(v,m);return g.type===1?ze.createMouseTargetFromHitTestPosition(v,m,g.spanNode,g.position,g.injectedText):this._createMouseTarget(v,m.withTarget(g.hitTarget),!0)}var O=m,te=null;return te=te||ze._hitTestContentWidget(v,O),te=te||ze._hitTestOverlayWidget(v,O),te=te||ze._hitTestMinimap(v,O),te=te||ze._hitTestScrollbarSlider(v,O),te=te||ze._hitTestViewZone(v,O),te=te||ze._hitTestMargin(v,O),te=te||ze._hitTestViewCursor(v,O),te=te||ze._hitTestTextArea(v,O),te=te||ze._hitTestViewLines(v,O,u),te=te||ze._hitTestScrollbar(v,O),te||m.fulfillUnknown()}},{key:"_hitTestContentWidget",value:function(v,m){if(dr.isChildOfContentWidgets(m.targetPath)||dr.isChildOfOverflowingContentWidgets(m.targetPath)){var u=v.findAttribute(m.target,"widgetId");return u?m.fulfillContentWidget(u):m.fulfillUnknown()}return null}},{key:"_hitTestOverlayWidget",value:function(v,m){if(dr.isChildOfOverlayWidgets(m.targetPath)){var u=v.findAttribute(m.target,"widgetId");return u?m.fulfillOverlayWidget(u):m.fulfillUnknown()}return null}},{key:"_hitTestViewCursor",value:function(v,m){if(m.target){var u=v.lastRenderData.lastViewCursorsRenderData,g=Object(E.a)(u),O;try{for(g.s();!(O=g.n()).done;){var te=O.value;if(m.target===te.domNode)return m.fulfillContentText(te.position,null,{mightBeForeignElement:!1,injectedText:null})}}catch(dt){g.e(dt)}finally{g.f()}}if(m.isInContentArea){var Le=v.lastRenderData.lastViewCursorsRenderData,Me=m.mouseContentHorizontalOffset,at=m.mouseVerticalOffset,Ot=Object(E.a)(Le),Mt;try{for(Ot.s();!(Mt=Ot.n()).done;){var Qt=Mt.value;if(!(Me<Qt.contentLeft)&&!(Me>Qt.contentLeft+Qt.width)){var Ht=v.getVerticalOffsetForLineNumber(Qt.position.lineNumber);if(Ht<=at&&at<=Ht+Qt.height)return m.fulfillContentText(Qt.position,null,{mightBeForeignElement:!1,injectedText:null})}}}catch(dt){Ot.e(dt)}finally{Ot.f()}}return null}},{key:"_hitTestViewZone",value:function(v,m){var u=v.getZoneAtCoord(m.mouseVerticalOffset);if(u){var g=m.isInContentArea?8:5;return m.fulfillViewZone(g,u.position,u)}return null}},{key:"_hitTestTextArea",value:function(v,m){return dr.isTextArea(m.targetPath)?v.lastRenderData.lastTextareaPosition?m.fulfillContentText(v.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):m.fulfillTextarea():null}},{key:"_hitTestMargin",value:function(v,m){if(m.isInMarginArea){var u=v.getFullLineRangeAtCoord(m.mouseVerticalOffset),g=u.range.getStartPosition(),O=Math.abs(m.relativePos.x),te={isAfterLines:u.isAfterLines,glyphMarginLeft:v.layoutInfo.glyphMarginLeft,glyphMarginWidth:v.layoutInfo.glyphMarginWidth,lineNumbersWidth:v.layoutInfo.lineNumbersWidth,offsetX:O};return O-=v.layoutInfo.glyphMarginLeft,O<=v.layoutInfo.glyphMarginWidth?m.fulfillMargin(2,g,u.range,te):(O-=v.layoutInfo.glyphMarginWidth,O<=v.layoutInfo.lineNumbersWidth?m.fulfillMargin(3,g,u.range,te):(O-=v.layoutInfo.lineNumbersWidth,m.fulfillMargin(4,g,u.range,te)))}return null}},{key:"_hitTestViewLines",value:function(v,m,u){if(!dr.isChildOfViewLines(m.targetPath))return null;if(v.isInTopPadding(m.mouseVerticalOffset))return m.fulfillContentEmpty(new Dn.a(1,1),Xn);if(v.isAfterLines(m.mouseVerticalOffset)||v.isInBottomPadding(m.mouseVerticalOffset)){var g=v.viewModel.getLineCount(),O=v.viewModel.getLineMaxColumn(g);return m.fulfillContentEmpty(new Dn.a(g,O),Xn)}if(u){if(dr.isStrictChildOfViewLines(m.targetPath)){var te=v.getLineNumberAtVerticalOffset(m.mouseVerticalOffset);if(v.viewModel.getLineLength(te)===0){var Le=v.getLineWidth(te),Me=en(m.mouseContentHorizontalOffset-Le);return m.fulfillContentEmpty(new Dn.a(te,1),Me)}var at=v.getLineWidth(te);if(m.mouseContentHorizontalOffset>=at){var Ot=en(m.mouseContentHorizontalOffset-at),Mt=new Dn.a(te,v.viewModel.getLineMaxColumn(te));return m.fulfillContentEmpty(Mt,Ot)}}return m.fulfillUnknown()}var Qt=ze._doHitTest(v,m);return Qt.type===1?ze.createMouseTargetFromHitTestPosition(v,m,Qt.spanNode,Qt.position,Qt.injectedText):this._createMouseTarget(v,m.withTarget(Qt.hitTarget),!0)}},{key:"_hitTestMinimap",value:function(v,m){if(dr.isChildOfMinimap(m.targetPath)){var u=v.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),g=v.viewModel.getLineMaxColumn(u);return m.fulfillScrollbar(new Dn.a(u,g))}return null}},{key:"_hitTestScrollbarSlider",value:function(v,m){if(dr.isChildOfScrollableElement(m.targetPath)&&m.target&&m.target.nodeType===1){var u=m.target.className;if(u&&/\b(slider|scrollbar)\b/.test(u)){var g=v.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),O=v.viewModel.getLineMaxColumn(g);return m.fulfillScrollbar(new Dn.a(g,O))}}return null}},{key:"_hitTestScrollbar",value:function(v,m){if(dr.isChildOfScrollableElement(m.targetPath)){var u=v.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),g=v.viewModel.getLineMaxColumn(u);return m.fulfillScrollbar(new Dn.a(u,g))}return null}},{key:"_getMouseColumn",value:function(v,m){if(v<0)return 1;var u=Math.round(v/m);return u+1}},{key:"createMouseTargetFromHitTestPosition",value:function(v,m,u,g,O){var te=g.lineNumber,Le=g.column,Me=v.getLineWidth(te);if(m.mouseContentHorizontalOffset>Me){var at=en(m.mouseContentHorizontalOffset-Me);return m.fulfillContentEmpty(g,at)}var Ot=v.visibleRangeForPosition(te,Le);if(!Ot)return m.fulfillUnknown(g);var Mt=Ot.left;if(Math.abs(m.mouseContentHorizontalOffset-Mt)<1)return m.fulfillContentText(g,null,{mightBeForeignElement:!!O,injectedText:O});var Qt=[];if(Qt.push({offset:Ot.left,column:Le}),Le>1){var Ht=v.visibleRangeForPosition(te,Le-1);Ht&&Qt.push({offset:Ht.left,column:Le-1})}var dt=v.viewModel.getLineMaxColumn(te);if(Le<dt){var Cn=v.visibleRangeForPosition(te,Le+1);Cn&&Qt.push({offset:Cn.left,column:Le+1})}Qt.sort(function(br,xr){return br.offset-xr.offset});for(var Pn=m.pos.toClientCoordinates(),ni=u.getBoundingClientRect(),hi=ni.left<=Pn.clientX&&Pn.clientX<=ni.right,Di=null,wi=1;wi<Qt.length;wi++){var nr=Qt[wi-1],Ni=Qt[wi];if(nr.offset<=m.mouseContentHorizontalOffset&&m.mouseContentHorizontalOffset<=Ni.offset){Di=new An.a(te,nr.column,te,Ni.column);var Wi=Math.abs(nr.offset-m.mouseContentHorizontalOffset),er=Math.abs(Ni.offset-m.mouseContentHorizontalOffset);g=Wi<er?new Dn.a(te,nr.column):new Dn.a(te,Ni.column);break}}return m.fulfillContentText(g,Di,{mightBeForeignElement:!hi||!!O,injectedText:O})}},{key:"_doHitTestWithCaretRangeFromPoint",value:function(v,m){var u=v.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),g=v.getVerticalOffsetForLineNumber(u),O=g+v.lineHeight,te=u===v.viewModel.getLineCount()&&m.mouseVerticalOffset>O;if(!te){var Le=Math.floor((g+O)/2),Me=m.pos.y+(Le-m.mouseVerticalOffset);Me<=m.editorPos.y&&(Me=m.editorPos.y+1),Me>=m.editorPos.y+m.editorPos.height&&(Me=m.editorPos.y+m.editorPos.height-1);var at=new Je.g(m.pos.x,Me),Ot=this._actualDoHitTestWithCaretRangeFromPoint(v,at.toClientCoordinates());if(Ot.type===1)return Ot}return this._actualDoHitTestWithCaretRangeFromPoint(v,m.pos.toClientCoordinates())}},{key:"_actualDoHitTestWithCaretRangeFromPoint",value:function(v,m){var u=U.getShadowRoot(v.viewDomNode),g;if(u?typeof u.caretRangeFromPoint=="undefined"?g=wn(u,m.clientX,m.clientY):g=u.caretRangeFromPoint(m.clientX,m.clientY):g=document.caretRangeFromPoint(m.clientX,m.clientY),!g||!g.startContainer)return new Sr;var O=g.startContainer;if(O.nodeType===O.TEXT_NODE){var te=O.parentNode,Le=te?te.parentNode:null,Me=Le?Le.parentNode:null,at=Me&&Me.nodeType===Me.ELEMENT_NODE?Me.className:null;return at===qt.CLASS_NAME?Ei.createFromDOMInfo(v,te,g.startOffset):new Sr(O.parentNode)}else if(O.nodeType===O.ELEMENT_NODE){var Ot=O.parentNode,Mt=Ot?Ot.parentNode:null,Qt=Mt&&Mt.nodeType===Mt.ELEMENT_NODE?Mt.className:null;return Qt===qt.CLASS_NAME?Ei.createFromDOMInfo(v,O,O.textContent.length):new Sr(O)}return new Sr}},{key:"_doHitTestWithCaretPositionFromPoint",value:function(v,m){var u=document.caretPositionFromPoint(m.clientX,m.clientY);if(u.offsetNode.nodeType===u.offsetNode.TEXT_NODE){var g=u.offsetNode.parentNode,O=g?g.parentNode:null,te=O?O.parentNode:null,Le=te&&te.nodeType===te.ELEMENT_NODE?te.className:null;return Le===qt.CLASS_NAME?Ei.createFromDOMInfo(v,u.offsetNode.parentNode,u.offset):new Sr(u.offsetNode.parentNode)}if(u.offsetNode.nodeType===u.offsetNode.ELEMENT_NODE){var Me=u.offsetNode.parentNode,at=Me&&Me.nodeType===Me.ELEMENT_NODE?Me.className:null,Ot=Me?Me.parentNode:null,Mt=Ot&&Ot.nodeType===Ot.ELEMENT_NODE?Ot.className:null;if(at===qt.CLASS_NAME){var Qt=u.offsetNode.childNodes[Math.min(u.offset,u.offsetNode.childNodes.length-1)];if(Qt)return Ei.createFromDOMInfo(v,Qt,0)}else if(Mt===qt.CLASS_NAME)return Ei.createFromDOMInfo(v,u.offsetNode,0)}return new Sr(u.offsetNode)}},{key:"_snapToSoftTabBoundary",value:function(v,m){var u=m.getLineContent(v.lineNumber),g=m.model.getOptions(),O=g.tabSize,te=Vi.a.atomicPosition(u,v.column-1,O,2);return te!==-1?new Dn.a(v.lineNumber,te+1):v}},{key:"_doHitTest",value:function(v,m){var u=new Sr;if(typeof document.caretRangeFromPoint=="function"?u=this._doHitTestWithCaretRangeFromPoint(v,m):document.caretPositionFromPoint&&(u=this._doHitTestWithCaretPositionFromPoint(v,m.pos.toClientCoordinates())),u.type===1){var g=v.viewModel.getInjectedTextAt(u.position),O=v.viewModel.normalizePosition(u.position,2);(g||!O.equals(u.position))&&(u=new Pi(O,u.spanNode,g))}return u}}]),ze}();function wn(ze,Ce,v){var m=document.createRange(),u=ze.elementFromPoint(Ce,v);if(u!==null){for(;u&&u.firstChild&&u.firstChild.nodeType!==u.firstChild.TEXT_NODE&&u.lastChild&&u.lastChild.firstChild;)u=u.lastChild;var g=u.getBoundingClientRect(),O=window.getComputedStyle(u,null).getPropertyValue("font-style"),te=window.getComputedStyle(u,null).getPropertyValue("font-variant"),Le=window.getComputedStyle(u,null).getPropertyValue("font-weight"),Me=window.getComputedStyle(u,null).getPropertyValue("font-size"),at=window.getComputedStyle(u,null).getPropertyValue("line-height"),Ot=window.getComputedStyle(u,null).getPropertyValue("font-family"),Mt="".concat(O," ").concat(te," ").concat(Le," ").concat(Me,"/").concat(at," ").concat(Ot),Qt=u.innerText,Ht=g.left,dt=0,Cn;if(Ce>g.left+g.width)dt=Qt.length;else for(var Pn=gn.getInstance(),ni=0;ni<Qt.length+1;ni++){if(Cn=Pn.getCharWidth(Qt.charAt(ni),Mt)/2,Ht+=Cn,Ce<Ht){dt=ni;break}Ht+=Cn}m.setStart(u.firstChild,dt),m.setEnd(u.firstChild,dt)}return m}var gn=function(){function ze(){Object(Q.a)(this,ze),this._cache={},this._canvas=document.createElement("canvas")}return Object(L.a)(ze,[{key:"getCharWidth",value:function(v,m){var u=v+m;if(this._cache[u])return this._cache[u];var g=this._canvas.getContext("2d");g.font=m;var O=g.measureText(v),te=O.width;return this._cache[u]=te,te}}],[{key:"getInstance",value:function(){return ze._INSTANCE||(ze._INSTANCE=new ze),ze._INSTANCE}}]),ze}();gn._INSTANCE=null;var rn=a("GJhM"),bn=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g){var O;Object(Q.a)(this,v),O=Ce.call(this),O._mouseLeaveMonitor=null,O._context=m,O.viewController=u,O.viewHelper=g,O.mouseTargetFactory=new yt(O._context,g),O._mouseDownOperation=O._register(new Qn(O._context,O.viewController,O.viewHelper,O.mouseTargetFactory,function(Me,at){return O._createMouseTarget(Me,at)},function(Me){return O._getMouseColumn(Me)})),O.lastMouseLeaveTime=-1,O._height=O._context.configuration.options.get(140).height;var te=new Je.d(O.viewHelper.viewDomNode);O._register(te.onContextMenu(O.viewHelper.viewDomNode,function(Me){return O._onContextMenu(Me,!0)})),O._register(te.onMouseMove(O.viewHelper.viewDomNode,function(Me){O._onMouseMove(Me),O._mouseLeaveMonitor||(O._mouseLeaveMonitor=U.addDisposableListener(document,"mousemove",function(at){O.viewHelper.viewDomNode.contains(at.target)||O._onMouseLeave(new Je.c(at,!1,O.viewHelper.viewDomNode))}))})),O._register(te.onMouseUp(O.viewHelper.viewDomNode,function(Me){return O._onMouseUp(Me)})),O._register(te.onMouseLeave(O.viewHelper.viewDomNode,function(Me){return O._onMouseLeave(Me)}));var Le=0;return O._register(te.onPointerDown(O.viewHelper.viewDomNode,function(Me,at){Le=at})),O._register(U.addDisposableListener(O.viewHelper.viewDomNode,U.EventType.POINTER_UP,function(Me){O._mouseDownOperation.onPointerUp()})),O._register(te.onMouseDown(O.viewHelper.viewDomNode,function(Me){return O._onMouseDown(Me,Le)})),O._setupMouseWheelZoomListener(),O._context.addEventHandler(Object(ve.a)(O)),O}return Object(L.a)(v,[{key:"_setupMouseWheelZoomListener",value:function(){var u=this,g=rn.b.INSTANCE,O=0,te=B.a.getZoomLevel(),Le=!1,Me=0,at=function(Qt){if(u.viewController.emitMouseWheel(Qt),!!u._context.configuration.options.get(73)){var Ht=new jt.b(Qt);if(g.acceptStandardWheelEvent(Ht),g.isPhysicalMouseWheel()){if(Ot(Qt)){var dt=B.a.getZoomLevel(),Cn=Ht.deltaY>0?1:-1;B.a.setZoomLevel(dt+Cn),Ht.preventDefault(),Ht.stopPropagation()}}else Date.now()-O>50&&(te=B.a.getZoomLevel(),Le=Ot(Qt),Me=0),O=Date.now(),Me+=Ht.deltaY,Le&&(B.a.setZoomLevel(te+Me/5),Ht.preventDefault(),Ht.stopPropagation())}};this._register(U.addDisposableListener(this.viewHelper.viewDomNode,U.EventType.MOUSE_WHEEL,at,{capture:!0,passive:!1}));function Ot(Mt){return A.i?(Mt.metaKey||Mt.ctrlKey)&&!Mt.shiftKey&&!Mt.altKey:Mt.ctrlKey&&!Mt.metaKey&&!Mt.shiftKey&&!Mt.altKey}}},{key:"dispose",value:function(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){if(u.hasChanged(140)){var g=this._context.configuration.options.get(140).height;this._height!==g&&(this._height=g,this._mouseDownOperation.onHeightChanged())}return!1}},{key:"onCursorStateChanged",value:function(u){return this._mouseDownOperation.onCursorStateChanged(u),!1}},{key:"onFocusChanged",value:function(u){return!1}},{key:"getTargetAtClientPoint",value:function(u,g){var O=new Je.a(u,g),te=O.toPageCoordinates(),Le=Object(Je.i)(this.viewHelper.viewDomNode);if(te.y<Le.y||te.y>Le.y+Le.height||te.x<Le.x||te.x>Le.x+Le.width)return null;var Me=Object(Je.h)(this.viewHelper.viewDomNode,Le,te);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),Le,te,Me,null)}},{key:"_createMouseTarget",value:function(u,g){var O=this,te=u.target;if(!this.viewHelper.viewDomNode.contains(te)){var Le=U.getShadowRoot(this.viewHelper.viewDomNode);Le&&(te=Le.elementsFromPoint(u.posx,u.posy).find(function(Me){return O.viewHelper.viewDomNode.contains(Me)}))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),u.editorPos,u.pos,u.relativePos,g?te:null)}},{key:"_getMouseColumn",value:function(u){return this.mouseTargetFactory.getMouseColumn(u.relativePos)}},{key:"_onContextMenu",value:function(u,g){this.viewController.emitContextMenu({event:u,target:this._createMouseTarget(u,g)})}},{key:"_onMouseMove",value:function(u){var g=this.mouseTargetFactory.mouseTargetIsWidget(u);if(g||u.preventDefault(),!this._mouseDownOperation.isActive()){var O=u.timestamp;O<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:u,target:this._createMouseTarget(u,!0)})}}},{key:"_onMouseLeave",value:function(u){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:u,target:null})}},{key:"_onMouseUp",value:function(u){this.viewController.emitMouseUp({event:u,target:this._createMouseTarget(u,!0)})}},{key:"_onMouseDown",value:function(u,g){var O=this,te=this._createMouseTarget(u,!0),Le=te.type===6||te.type===7,Me=te.type===2||te.type===3||te.type===4,at=te.type===3,Ot=this._context.configuration.options.get(105),Mt=te.type===8||te.type===5,Qt=te.type===9,Ht=u.leftButton||u.middleButton;A.i&&u.leftButton&&u.ctrlKey&&(Ht=!1);var dt=function(){u.preventDefault(),O.viewHelper.focusTextArea()};if(Ht&&(Le||at&&Ot))dt(),this._mouseDownOperation.start(te.type,u,g);else if(Me)u.preventDefault();else if(Mt){var Cn=te.detail;Ht&&this.viewHelper.shouldSuppressMouseDownOnViewZone(Cn.viewZoneId)&&(dt(),this._mouseDownOperation.start(te.type,u,g),u.preventDefault())}else Qt&&this.viewHelper.shouldSuppressMouseDownOnWidget(te.detail)&&(dt(),u.preventDefault());this.viewController.emitMouseDown({event:u,target:te})}}]),v}(Wt),Qn=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g,O,te,Le){var Me;return Object(Q.a)(this,v),Me=Ce.call(this),Me._context=m,Me._viewController=u,Me._viewHelper=g,Me._mouseTargetFactory=O,Me._createMouseTarget=te,Me._getMouseColumn=Le,Me._mouseMoveMonitor=Me._register(new Je.f(Me._viewHelper.viewDomNode)),Me._topBottomDragScrolling=Me._register(new Ci(Me._context,Me._viewHelper,Me._mouseTargetFactory,function(at,Ot,Mt){return Me._dispatchMouse(at,Ot,Mt)})),Me._mouseState=new _i,Me._currentSelection=new Ct.a(1,1,1,1),Me._isActive=!1,Me._lastMouseEvent=null,Me}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"isActive",value:function(){return this._isActive}},{key:"_onMouseDownThenMove",value:function(u){this._lastMouseEvent=u,this._mouseState.setModifiers(u);var g=this._findMousePosition(u,!1);!g||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:u,target:g}):g.type===13&&(g.outsidePosition==="above"||g.outsidePosition==="below")?this._topBottomDragScrolling.start(g,u):(this._topBottomDragScrolling.stop(),this._dispatchMouse(g,!0,1)))}},{key:"start",value:function(u,g,O){var te=this;this._lastMouseEvent=g,this._mouseState.setStartedOnLineNumbers(u===3),this._mouseState.setStartButtons(g),this._mouseState.setModifiers(g);var Le=this._findMousePosition(g,!0);if(!(!Le||!Le.position)){this._mouseState.trySetCount(g.detail,Le.position),g.detail=this._mouseState.count;var Me=this._context.configuration.options;if(!Me.get(88)&&Me.get(33)&&!Me.get(20)&&!this._mouseState.altKey&&g.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&Le.type===6&&Le.position&&this._currentSelection.containsPosition(Le.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,O,g.buttons,function(at){return te._onMouseDownThenMove(at)},function(at){var Ot=te._findMousePosition(te._lastMouseEvent,!1);at&&at instanceof KeyboardEvent?te._viewController.emitMouseDropCanceled():te._viewController.emitMouseDrop({event:te._lastMouseEvent,target:Ot?te._createMouseTarget(te._lastMouseEvent,!0):null}),te._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(Le,g.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,O,g.buttons,function(at){return te._onMouseDownThenMove(at)},function(){return te._stop()}))}}},{key:"_stop",value:function(){this._isActive=!1,this._topBottomDragScrolling.stop()}},{key:"onHeightChanged",value:function(){this._mouseMoveMonitor.stopMonitoring()}},{key:"onPointerUp",value:function(){this._mouseMoveMonitor.stopMonitoring()}},{key:"onCursorStateChanged",value:function(u){this._currentSelection=u.selections[0]}},{key:"_getPositionOutsideEditor",value:function(u){var g=u.editorPos,O=this._context.viewModel,te=this._context.viewLayout,Le=this._getMouseColumn(u);if(u.posy<g.y){var Me=g.y-u.posy,at=Math.max(te.getCurrentScrollTop()-Me,0),Ot=Hn.getZoneAtCoord(this._context,at);if(Ot){var Mt=this._helpPositionJumpOverViewZone(Ot);if(Mt)return zn.createOutsideEditor(Le,Mt,"above",Me)}var Qt=te.getLineNumberAtVerticalOffset(at);return zn.createOutsideEditor(Le,new Dn.a(Qt,1),"above",Me)}if(u.posy>g.y+g.height){var Ht=u.posy-g.y-g.height,dt=te.getCurrentScrollTop()+u.relativePos.y,Cn=Hn.getZoneAtCoord(this._context,dt);if(Cn){var Pn=this._helpPositionJumpOverViewZone(Cn);if(Pn)return zn.createOutsideEditor(Le,Pn,"below",Ht)}var ni=te.getLineNumberAtVerticalOffset(dt);return zn.createOutsideEditor(Le,new Dn.a(ni,O.getLineMaxColumn(ni)),"below",Ht)}var hi=te.getLineNumberAtVerticalOffset(te.getCurrentScrollTop()+u.relativePos.y);if(u.posx<g.x){var Di=g.x-u.posx;return zn.createOutsideEditor(Le,new Dn.a(hi,1),"left",Di)}if(u.posx>g.x+g.width){var wi=u.posx-g.x-g.width;return zn.createOutsideEditor(Le,new Dn.a(hi,O.getLineMaxColumn(hi)),"right",wi)}return null}},{key:"_findMousePosition",value:function(u,g){var O=this._getPositionOutsideEditor(u);if(O)return O;var te=this._createMouseTarget(u,g),Le=te.position;if(!Le)return null;if(te.type===8||te.type===5){var Me=this._helpPositionJumpOverViewZone(te.detail);if(Me)return zn.createViewZone(te.type,te.element,te.mouseColumn,Me,te.detail)}return te}},{key:"_helpPositionJumpOverViewZone",value:function(u){var g=new Dn.a(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),O=u.positionBefore,te=u.positionAfter;return O&&te?O.isBefore(g)?O:te:null}},{key:"_dispatchMouse",value:function(u,g,O){!u.position||this._viewController.dispatchMouse({position:u.position,mouseColumn:u.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:O,inSelectionMode:g,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:u.type===6&&u.detail.injectedText!==null})}}]),v}(C.a),Ci=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g,O){var te;return Object(Q.a)(this,v),te=Ce.call(this),te._context=m,te._viewHelper=u,te._mouseTargetFactory=g,te._dispatchMouse=O,te._operation=null,te}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this),this.stop()}},{key:"start",value:function(u,g){this._operation?this._operation.setPosition(u,g):this._operation=new yr(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,u,g)}},{key:"stop",value:function(){this._operation&&(this._operation.dispose(),this._operation=null)}}]),v}(C.a),yr=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g,O,te,Le){var Me;return Object(Q.a)(this,v),Me=Ce.call(this),Me._context=m,Me._viewHelper=u,Me._mouseTargetFactory=g,Me._dispatchMouse=O,Me._position=te,Me._mouseEvent=Le,Me._lastTime=Date.now(),Me._animationFrameDisposable=U.scheduleAtNextAnimationFrame(function(){return Me._execute()}),Me}return Object(L.a)(v,[{key:"dispose",value:function(){this._animationFrameDisposable.dispose()}},{key:"setPosition",value:function(u,g){this._position=u,this._mouseEvent=g}},{key:"_tick",value:function(){var u=Date.now(),g=u-this._lastTime;return this._lastTime=u,g}},{key:"_getScrollSpeed",value:function(){var u=this._context.configuration.options.get(64),g=this._context.configuration.options.get(140).height/u,O=this._position.outsideDistance/u;return O<=1.5?Math.max(30,g*(1+O)):O<=3?Math.max(60,g*(2+O)):Math.max(200,g*(7+O))}},{key:"_execute",value:function(){var u=this,g=this._context.configuration.options.get(64),O=this._getScrollSpeed(),te=this._tick(),Le=O*(te/1e3)*g,Me=this._position.outsidePosition==="above"?-Le:Le;this._context.viewModel.viewLayout.deltaScrollNow(0,Me),this._viewHelper.renderNow();var at=this._context.viewLayout.getLinesViewportData(),Ot=this._position.outsidePosition==="above"?at.startLineNumber:at.endLineNumber,Mt;{var Qt=Object(Je.i)(this._viewHelper.viewDomNode),Ht=this._context.configuration.options.get(140).horizontalScrollbarHeight,dt=new Je.g(this._mouseEvent.pos.x,Qt.y+Qt.height-Ht-.1),Cn=Object(Je.h)(this._viewHelper.viewDomNode,Qt,dt);Mt=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),Qt,dt,Cn,null)}(!Mt.position||Mt.position.lineNumber!==Ot)&&(this._position.outsidePosition==="above"?Mt=zn.createOutsideEditor(this._position.mouseColumn,new Dn.a(Ot,1),"above",this._position.outsideDistance):Mt=zn.createOutsideEditor(this._position.mouseColumn,new Dn.a(Ot,this._context.viewModel.getLineMaxColumn(Ot)),"below",this._position.outsideDistance)),this._dispatchMouse(Mt,!0,2),this._animationFrameDisposable=U.scheduleAtNextAnimationFrame(function(){return u._execute()})}}]),v}(C.a),_i=function(){function ze(){Object(Q.a)(this,ze),this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object(L.a)(ze,[{key:"altKey",get:function(){return this._altKey}},{key:"ctrlKey",get:function(){return this._ctrlKey}},{key:"metaKey",get:function(){return this._metaKey}},{key:"shiftKey",get:function(){return this._shiftKey}},{key:"leftButton",get:function(){return this._leftButton}},{key:"middleButton",get:function(){return this._middleButton}},{key:"startedOnLineNumbers",get:function(){return this._startedOnLineNumbers}},{key:"count",get:function(){return this._lastMouseDownCount}},{key:"setModifiers",value:function(v){this._altKey=v.altKey,this._ctrlKey=v.ctrlKey,this._metaKey=v.metaKey,this._shiftKey=v.shiftKey}},{key:"setStartButtons",value:function(v){this._leftButton=v.leftButton,this._middleButton=v.middleButton}},{key:"setStartedOnLineNumbers",value:function(v){this._startedOnLineNumbers=v}},{key:"trySetCount",value:function(v,m){var u=new Date().getTime();u-this._lastSetMouseDownCountTime>ze.CLEAR_MOUSE_DOWN_COUNT_TIME&&(v=1),this._lastSetMouseDownCountTime=u,v>this._lastMouseDownCount+1&&(v=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(m)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=m,this._lastMouseDownCount=Math.min(v,this._lastMouseDownPositionEqualCount)}}]),ze}();_i.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Bn=a("CjF5"),tt=a("5TxY"),Lt=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g){var O;Object(Q.a)(this,v),O=Ce.call(this,m,u,g),O._register(mt.b.addTarget(O.viewHelper.linesContentDomNode)),O._register(U.addDisposableListener(O.viewHelper.linesContentDomNode,mt.a.Tap,function(Le){return O.onTap(Le)})),O._register(U.addDisposableListener(O.viewHelper.linesContentDomNode,mt.a.Change,function(Le){return O.onChange(Le)})),O._register(U.addDisposableListener(O.viewHelper.linesContentDomNode,mt.a.Contextmenu,function(Le){return O._onContextMenu(new Je.c(Le,!1,O.viewHelper.viewDomNode),!1)})),O._lastPointerType="mouse",O._register(U.addDisposableListener(O.viewHelper.linesContentDomNode,"pointerdown",function(Le){var Me=Le.pointerType;if(Me==="mouse"){O._lastPointerType="mouse";return}else Me==="touch"?O._lastPointerType="touch":O._lastPointerType="pen"}));var te=new Je.e(O.viewHelper.viewDomNode);return O._register(te.onPointerMove(O.viewHelper.viewDomNode,function(Le){return O._onMouseMove(Le)})),O._register(te.onPointerUp(O.viewHelper.viewDomNode,function(Le){return O._onMouseUp(Le)})),O._register(te.onPointerLeave(O.viewHelper.viewDomNode,function(Le){return O._onMouseLeave(Le)})),O._register(te.onPointerDown(O.viewHelper.viewDomNode,function(Le,Me){return O._onMouseDown(Le,Me)})),O}return Object(L.a)(v,[{key:"onTap",value:function(u){if(!(!u.initialTarget||!this.viewHelper.linesContentDomNode.contains(u.initialTarget))){u.preventDefault(),this.viewHelper.focusTextArea();var g=this._createMouseTarget(new Je.c(u,!1,this.viewHelper.viewDomNode),!1);g.position&&this.viewController.dispatchMouse({position:g.position,mouseColumn:g.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:u.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:g.type===6&&g.detail.injectedText!==null})}}},{key:"onChange",value:function(u){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-u.translationX,-u.translationY)}},{key:"_onMouseDown",value:function(u,g){u.browserEvent.pointerType!=="touch"&&Object(re.a)(Object(J.a)(v.prototype),"_onMouseDown",this).call(this,u,g)}}]),v}(bn),xi=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g){var O;return Object(Q.a)(this,v),O=Ce.call(this,m,u,g),O._register(mt.b.addTarget(O.viewHelper.linesContentDomNode)),O._register(U.addDisposableListener(O.viewHelper.linesContentDomNode,mt.a.Tap,function(te){return O.onTap(te)})),O._register(U.addDisposableListener(O.viewHelper.linesContentDomNode,mt.a.Change,function(te){return O.onChange(te)})),O._register(U.addDisposableListener(O.viewHelper.linesContentDomNode,mt.a.Contextmenu,function(te){return O._onContextMenu(new Je.c(te,!1,O.viewHelper.viewDomNode),!1)})),O}return Object(L.a)(v,[{key:"onTap",value:function(u){u.preventDefault(),this.viewHelper.focusTextArea();var g=this._createMouseTarget(new Je.c(u,!1,this.viewHelper.viewDomNode),!1);if(g.position){var O=document.createEvent("CustomEvent");O.initEvent(tt.d.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(O),this.viewController.moveTo(g.position,1)}}},{key:"onChange",value:function(u){this._context.viewModel.viewLayout.deltaScrollNow(-u.translationX,-u.translationY)}}]),v}(bn),Qi=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g){var O;return Object(Q.a)(this,v),O=Ce.call(this),A.f&&Bn.a.pointerEvents?O.handler=O._register(new Lt(m,u,g)):window.TouchEvent?O.handler=O._register(new xi(m,u,g)):O.handler=O._register(new bn(m,u,g)),O}return Object(L.a)(v,[{key:"getTargetAtClientPoint",value:function(u,g){return this.handler.getTargetAtClientPoint(u,g)}}]),v}(C.a),mr=a("VvMK"),pr=a("N0LK"),St=a("DMKg"),Gi=a("Comh"),an=a("Krc3"),Qe=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(){return Object(Q.a)(this,v),Ce.apply(this,arguments)}return Object(L.a)(v)}(Wt),Jn=a("t9D7"),ii=a("3IFt"),Li=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;return Object(Q.a)(this,v),u=Ce.call(this),u._context=m,u._readConfig(),u._lastCursorModelPosition=new Dn.a(1,1),u._renderResult=null,u._activeLineNumber=1,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(L.a)(v,[{key:"_readConfig",value:function(){var u=this._context.configuration.options;this._lineHeight=u.get(64);var g=u.get(65);this._renderLineNumbers=g.renderType,this._renderCustomLineNumbers=g.renderFn,this._renderFinalNewline=u.get(91);var O=u.get(140);this._lineNumbersLeft=O.lineNumbersLeft,this._lineNumbersWidth=O.lineNumbersWidth}},{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){return this._readConfig(),!0}},{key:"onCursorStateChanged",value:function(u){var g=u.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(g);var O=!1;return this._activeLineNumber!==g.lineNumber&&(this._activeLineNumber=g.lineNumber,O=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(O=!0),O}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_getLineRenderLineNumber",value:function(u){var g=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Dn.a(u,1));if(g.column!==1)return"";var O=g.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(O);if(this._renderLineNumbers===2){var te=Math.abs(this._lastCursorModelPosition.lineNumber-O);return te===0?'<span class="relative-current-line-number">'+O+"</span>":String(te)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===O||O%10==0?String(O):"":String(O)}},{key:"prepareRender",value:function(u){if(this._renderLineNumbers===0){this._renderResult=null;return}for(var g=A.g?this._lineHeight%2==0?" lh-even":" lh-odd":"",O=u.visibleRange.startLineNumber,te=u.visibleRange.endLineNumber,Le=this._context.viewModel.getLineCount(),Me=[],at=O;at<=te;at++){var Ot=at-O,Mt=this._getLineRenderLineNumber(at);if(!Mt){Me[Ot]="";continue}var Qt="";if(at===Le&&this._context.viewModel.getLineLength(at)===0){if(this._renderFinalNewline==="off"){Me[Ot]="";continue}this._renderFinalNewline==="dimmed"&&(Qt=" dimmed-line-number")}at===this._activeLineNumber&&(Qt=" active-line-number"),Me[Ot]='<div class="'.concat(v.CLASS_NAME).concat(g).concat(Qt,'" style="left:').concat(this._lineNumbersLeft,"px;width:").concat(this._lineNumbersWidth,'px;">').concat(Mt,"</div>")}this._renderResult=Me}},{key:"render",value:function(u,g){if(!this._renderResult)return"";var O=g-u;return O<0||O>=this._renderResult.length?"":this._renderResult[O]}}]),v}(Qe);Li.CLASS_NAME="line-numbers",Object(Jn.e)(function(ze,Ce){var v=ze.getColor(ii.A),m=ze.getColor(ii.w);m?Ce.addRule(".monaco-editor .line-numbers.dimmed-line-number { color: ".concat(m,"; }")):v&&Ce.addRule(".monaco-editor .line-numbers.dimmed-line-number { color: ".concat(v.transparent(.4),"; }"))});var Fn=a("W1oj"),jn=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this,m);var g=u._context.configuration.options,O=g.get(140);return u._canUseLayerHinting=!g.get(30),u._contentLeft=O.contentLeft,u._glyphMarginLeft=O.glyphMarginLeft,u._glyphMarginWidth=O.glyphMarginWidth,u._domNode=Object(bt.b)(document.createElement("div")),u._domNode.setClassName(v.OUTER_CLASS_NAME),u._domNode.setPosition("absolute"),u._domNode.setAttribute("role","presentation"),u._domNode.setAttribute("aria-hidden","true"),u._glyphMarginBackgroundDomNode=Object(bt.b)(document.createElement("div")),u._glyphMarginBackgroundDomNode.setClassName(v.CLASS_NAME),u._domNode.appendChild(u._glyphMarginBackgroundDomNode),u}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"getDomNode",value:function(){return this._domNode}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,O=g.get(140);return this._canUseLayerHinting=!g.get(30),this._contentLeft=O.contentLeft,this._glyphMarginLeft=O.glyphMarginLeft,this._glyphMarginWidth=O.glyphMarginWidth,!0}},{key:"onScrollChanged",value:function(u){return Object(re.a)(Object(J.a)(v.prototype),"onScrollChanged",this).call(this,u)||u.scrollTopChanged}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");var g=u.scrollTop-u.bigNumbersDelta;this._domNode.setTop(-g);var O=Math.min(u.scrollHeight,1e6);this._domNode.setHeight(O),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(O)}}]),v}(Te);jn.CLASS_NAME="glyph-margin",jn.OUTER_CLASS_NAME="margin";var Nt=a("Vk6M"),Gt=a("51su"),Et=a("LloX"),Rt=a("zrhQ"),dn=a("bvvZ"),et=function(){function ze(Ce,v,m,u,g){Object(Q.a)(this,ze),this._context=Ce,this.modelLineNumber=v,this.distanceToModelLineStart=m,this.widthOfHiddenLineTextBefore=u,this.distanceToModelLineEnd=g,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}return Object(L.a)(ze,[{key:"prepareRender",value:function(v){var m=new Dn.a(this.modelLineNumber,this.distanceToModelLineStart+1),u=new Dn.a(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(m),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(u),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=v.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=v.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}},{key:"definePresentation",value:function(v){return this._previousPresentation||(v?this._previousPresentation=v:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}]),ze}(),Ze=S.isFirefox,on=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g){var O;Object(Q.a)(this,v),O=Ce.call(this,m),O._primaryCursorPosition=new Dn.a(1,1),O._primaryCursorVisibleRange=null,O._viewController=u,O._visibleRangeProvider=g,O._scrollLeft=0,O._scrollTop=0;var te=O._context.configuration.options,Le=te.get(140);O._setAccessibilityOptions(te),O._contentLeft=Le.contentLeft,O._contentWidth=Le.contentWidth,O._contentHeight=Le.height,O._fontInfo=te.get(48),O._lineHeight=te.get(64),O._emptySelectionClipboard=te.get(35),O._copyWithSyntaxHighlighting=te.get(23),O._visibleTextArea=null,O._selections=[new Ct.a(1,1,1,1)],O._modelSelections=[new Ct.a(1,1,1,1)],O._lastRenderPosition=null,O.textArea=Object(bt.b)(document.createElement("textarea")),fe.write(O.textArea,6),O.textArea.setClassName("inputarea ".concat(Gt.a)),O.textArea.setAttribute("wrap",O._textAreaWrapping&&!O._visibleTextArea?"on":"off");var Me=O._context.viewModel.model.getOptions(),at=Me.tabSize;O.textArea.domNode.style.tabSize="".concat(at*O._fontInfo.spaceWidth,"px"),O.textArea.setAttribute("autocorrect","off"),O.textArea.setAttribute("autocapitalize","off"),O.textArea.setAttribute("autocomplete","off"),O.textArea.setAttribute("spellcheck","false"),O.textArea.setAttribute("aria-label",O._getAriaLabel(te)),O.textArea.setAttribute("tabindex",String(te.get(120))),O.textArea.setAttribute("role","textbox"),O.textArea.setAttribute("aria-roledescription",N.b("editor","editor")),O.textArea.setAttribute("aria-multiline","true"),O.textArea.setAttribute("aria-haspopup","false"),O.textArea.setAttribute("aria-autocomplete","both"),O._ensureReadOnlyAttribute(),O.textAreaCover=Object(bt.b)(document.createElement("div")),O.textAreaCover.setPosition("absolute");var Ot={getLineCount:function(){return O._context.viewModel.getLineCount()},getLineMaxColumn:function(dt){return O._context.viewModel.getLineMaxColumn(dt)},getValueInRange:function(dt,Cn){return O._context.viewModel.getValueInRange(dt,Cn)},getValueLengthInRange:function(dt,Cn){return O._context.viewModel.getValueLengthInRange(dt,Cn)},modifyPosition:function(dt,Cn){return O._context.viewModel.modifyPosition(dt,Cn)}},Mt={getDataToCopy:function(){var dt=O._context.viewModel.getPlainTextToCopy(O._modelSelections,O._emptySelectionClipboard,A.o),Cn=O._context.viewModel.model.getEOL(),Pn=O._emptySelectionClipboard&&O._modelSelections.length===1&&O._modelSelections[0].isEmpty(),ni=Array.isArray(dt)?dt:null,hi=Array.isArray(dt)?dt.join(Cn):dt,Di=void 0,wi=null;if(tt.a.forceCopyWithSyntaxHighlighting||O._copyWithSyntaxHighlighting&&hi.length<65536){var nr=O._context.viewModel.getRichTextToCopy(O._modelSelections,O._emptySelectionClipboard);nr&&(Di=nr.html,wi=nr.mode)}return{isFromEmptySelection:Pn,multicursorText:ni,text:hi,html:Di,mode:wi}},getScreenReaderContent:function(){if(O._accessibilitySupport===1){var dt=O._selections[0];if(A.i&&dt.isEmpty()){var Cn=dt.getStartPosition(),Pn=O._getWordBeforePosition(Cn);if(Pn.length===0&&(Pn=O._getCharacterBeforePosition(Cn)),Pn.length>0)return new Gi.b(Pn,Pn.length,Pn.length,An.a.fromPositions(Cn),0)}var ni=500;if(A.i&&!dt.isEmpty()&&Ot.getValueLengthInRange(dt,0)<ni){var hi=Ot.getValueInRange(dt,0);return new Gi.b(hi,0,hi.length,dt,0)}if(S.isSafari&&!dt.isEmpty()){var Di="vscode-placeholder";return new Gi.b(Di,0,Di.length,null,void 0)}return Gi.b.EMPTY}if(S.isAndroid){var wi=O._selections[0];if(wi.isEmpty()){var nr=wi.getStartPosition(),Ni=O._getAndroidWordAtPosition(nr),Wi=Object(le.a)(Ni,2),er=Wi[0],br=Wi[1];if(er.length>0)return new Gi.b(er,br,br,An.a.fromPositions(nr),0)}return Gi.b.EMPTY}return Gi.a.fromEditorSelection(Ot,O._selections[0],O._accessibilityPageSize,O._accessibilitySupport===0)},deduceModelPosition:function(dt,Cn,Pn){return O._context.viewModel.deduceModelPositionRelativeToViewPosition(dt,Cn,Pn)}},Qt=O._register(new tt.e(O.textArea.domNode));return O._textAreaInput=O._register(new tt.c(Mt,Qt,A.a,S)),O._register(O._textAreaInput.onKeyDown(function(Ht){O._viewController.emitKeyDown(Ht)})),O._register(O._textAreaInput.onKeyUp(function(Ht){O._viewController.emitKeyUp(Ht)})),O._register(O._textAreaInput.onPaste(function(Ht){var dt=!1,Cn=null,Pn=null;Ht.metadata&&(dt=O._emptySelectionClipboard&&!!Ht.metadata.isFromEmptySelection,Cn=typeof Ht.metadata.multicursorText!="undefined"?Ht.metadata.multicursorText:null,Pn=Ht.metadata.mode),O._viewController.paste(Ht.text,dt,Cn,Pn)})),O._register(O._textAreaInput.onCut(function(){O._viewController.cut()})),O._register(O._textAreaInput.onType(function(Ht){Ht.replacePrevCharCnt||Ht.replaceNextCharCnt||Ht.positionDelta?(Gi.c&&console.log(" => compositionType: <<".concat(Ht.text,">>, ").concat(Ht.replacePrevCharCnt,", ").concat(Ht.replaceNextCharCnt,", ").concat(Ht.positionDelta)),O._viewController.compositionType(Ht.text,Ht.replacePrevCharCnt,Ht.replaceNextCharCnt,Ht.positionDelta)):(Gi.c&&console.log(" => type: <<".concat(Ht.text,">>")),O._viewController.type(Ht.text))})),O._register(O._textAreaInput.onSelectionChangeRequest(function(Ht){O._viewController.setSelection(Ht)})),O._register(O._textAreaInput.onCompositionStart(function(Ht){var dt=O.textArea.domNode,Cn=O._modelSelections[0],Pn=function(){var nr=dt.value.substring(0,Math.min(dt.selectionStart,dt.selectionEnd)),Ni=nr.lastIndexOf(`
`),Wi=nr.substring(Ni+1),er=Wi.lastIndexOf("	"),br=Wi.length-er-1,xr=Cn.getStartPosition(),Ur=Math.min(xr.column-1,br),ca=xr.column-1-Ur,Ca=Wi.substring(0,Wi.length-Ur),ra=O._context.viewModel.model.getOptions(),Ha=ra.tabSize,Ja=tn(Ca,O._fontInfo,Ha);return{distanceToModelLineStart:ca,widthOfHiddenTextBefore:Ja}}(),ni=Pn.distanceToModelLineStart,hi=Pn.widthOfHiddenTextBefore,Di=function(){var nr=dt.value.substring(Math.max(dt.selectionStart,dt.selectionEnd)),Ni=nr.indexOf(`
`),Wi=Ni===-1?nr:nr.substring(0,Ni),er=Wi.indexOf("	"),br=er===-1?Wi.length:Wi.length-er-1,xr=Cn.getEndPosition(),Ur=Math.min(O._context.viewModel.model.getLineMaxColumn(xr.lineNumber)-xr.column,br),ca=O._context.viewModel.model.getLineMaxColumn(xr.lineNumber)-xr.column-Ur;return{distanceToModelLineEnd:ca}}(),wi=Di.distanceToModelLineEnd;O._context.viewModel.revealRange("keyboard",!0,An.a.fromPositions(O._selections[0].getStartPosition()),0,1),O._visibleTextArea=new et(O._context,Cn.startLineNumber,ni,hi,wi),O.textArea.setAttribute("wrap",O._textAreaWrapping&&!O._visibleTextArea?"on":"off"),O._visibleTextArea.prepareRender(O._visibleRangeProvider),O._render(),O.textArea.setClassName("inputarea ".concat(Gt.a," ime-input")),O._viewController.compositionStart(),O._context.viewModel.onCompositionStart()})),O._register(O._textAreaInput.onCompositionUpdate(function(Ht){!O._visibleTextArea||(O._visibleTextArea.prepareRender(O._visibleRangeProvider),O._render())})),O._register(O._textAreaInput.onCompositionEnd(function(){O._visibleTextArea=null,O.textArea.setAttribute("wrap",O._textAreaWrapping&&!O._visibleTextArea?"on":"off"),O._render(),O.textArea.setClassName("inputarea ".concat(Gt.a)),O._viewController.compositionEnd(),O._context.viewModel.onCompositionEnd()})),O._register(O._textAreaInput.onFocus(function(){O._context.viewModel.setHasFocus(!0)})),O._register(O._textAreaInput.onBlur(function(){O._context.viewModel.setHasFocus(!1)})),O._register(dn.a.onDidChange(function(){O._ensureReadOnlyAttribute()})),O}return Object(L.a)(v,[{key:"writeScreenReaderContent",value:function(u){this._textAreaInput.writeScreenReaderContent(u)}},{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"_getAndroidWordAtPosition",value:function(u){for(var g='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',O=this._context.viewModel.getLineContent(u.lineNumber),te=Object(Nt.a)(g),Le=!0,Me=u.column,at=!0,Ot=u.column,Mt=0;Mt<50&&(Le||at);){if(Le&&Me<=1&&(Le=!1),Le){var Qt=O.charCodeAt(Me-2),Ht=te.get(Qt);Ht!==0?Le=!1:Me--}if(at&&Ot>O.length&&(at=!1),at){var dt=O.charCodeAt(Ot-1),Cn=te.get(dt);Cn!==0?at=!1:Ot++}Mt++}return[O.substring(Me-1,Ot-1),u.column-Me]}},{key:"_getWordBeforePosition",value:function(u){for(var g=this._context.viewModel.getLineContent(u.lineNumber),O=Object(Nt.a)(this._context.configuration.options.get(126)),te=u.column,Le=0;te>1;){var Me=g.charCodeAt(te-2),at=O.get(Me);if(at!==0||Le>50)return g.substring(te-1,u.column-1);Le++,te--}return g.substring(0,u.column-1)}},{key:"_getCharacterBeforePosition",value:function(u){if(u.column>1){var g=this._context.viewModel.getLineContent(u.lineNumber),O=g.charAt(u.column-2);if(!pr.F(O.charCodeAt(0)))return O}return""}},{key:"_getAriaLabel",value:function(u){var g=u.get(2);return g===1?N.b("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",A.g?"Shift+Alt+F1":"Alt+F1"):u.get(4)}},{key:"_setAccessibilityOptions",value:function(u){this._accessibilitySupport=u.get(2);var g=u.get(3);this._accessibilitySupport===2&&g===w.h.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=g;var O=u.get(140),te=O.wrappingColumn;if(te!==-1&&this._accessibilitySupport!==1){var Le=u.get(48);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(te*Le.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=Ze?0:1}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,O=g.get(140);this._setAccessibilityOptions(g),this._contentLeft=O.contentLeft,this._contentWidth=O.contentWidth,this._contentHeight=O.height,this._fontInfo=g.get(48),this._lineHeight=g.get(64),this._emptySelectionClipboard=g.get(35),this._copyWithSyntaxHighlighting=g.get(23),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");var te=this._context.viewModel.model.getOptions(),Le=te.tabSize;return this.textArea.domNode.style.tabSize="".concat(Le*this._fontInfo.spaceWidth,"px"),this.textArea.setAttribute("aria-label",this._getAriaLabel(g)),this.textArea.setAttribute("tabindex",String(g.get(120))),(u.hasChanged(32)||u.hasChanged(88))&&this._ensureReadOnlyAttribute(),u.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}},{key:"onCursorStateChanged",value:function(u){return this._selections=u.selections.slice(0),this._modelSelections=u.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return this._scrollLeft=u.scrollLeft,this._scrollTop=u.scrollTop,!0}},{key:"onZonesChanged",value:function(u){return!0}},{key:"isFocused",value:function(){return this._textAreaInput.isFocused()}},{key:"focusTextArea",value:function(){this._textAreaInput.focusTextArea()}},{key:"getLastRenderData",value:function(){return this._lastRenderPosition}},{key:"setAriaOptions",value:function(u){u.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",u.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),u.role&&this.textArea.setAttribute("role",u.role)}},{key:"_ensureReadOnlyAttribute",value:function(){var u=this._context.configuration.options,g=!dn.a.enabled||u.get(32)&&u.get(88);g?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}},{key:"prepareRender",value:function(u){var g;this._primaryCursorPosition=new Dn.a(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=u.visibleRangeForPosition(this._primaryCursorPosition),(g=this._visibleTextArea)===null||g===void 0||g.prepareRender(u)}},{key:"render",value:function(u){this._textAreaInput.writeScreenReaderContent("render"),this._render()}},{key:"_render",value:function(){var u;if(this._visibleTextArea){var g=this._visibleTextArea.visibleTextareaStart,O=this._visibleTextArea.visibleTextareaEnd,te=this._visibleTextArea.startPosition,Le=this._visibleTextArea.endPosition;if(te&&Le&&g&&O&&O.left>=this._scrollLeft&&g.left<=this._scrollLeft+this._contentWidth){var Me=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,at=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart)),Ot=this._visibleTextArea.widthOfHiddenLineTextBefore,Mt=this._contentLeft+g.left-this._scrollLeft,Qt=O.left-g.left+1;if(Mt<this._contentLeft){var Ht=this._contentLeft-Mt;Mt+=Ht,Ot+=Ht,Qt-=Ht}Qt>this._contentWidth&&(Qt=this._contentWidth);var dt=this._context.viewModel.getViewLineData(te.lineNumber),Cn=dt.tokens.findTokenIndexAtOffset(te.column-1),Pn=dt.tokens.findTokenIndexAtOffset(Le.column-1),ni=Cn===Pn,hi=this._visibleTextArea.definePresentation(ni?dt.tokens.getPresentation(Cn):null);this.textArea.domNode.scrollTop=at*this._lineHeight,this.textArea.domNode.scrollLeft=Ot,this._doRender({lastRenderPosition:null,top:Me,left:Mt,width:Qt,height:this._lineHeight,useCover:!1,color:(Et.m.getColorMap()||[])[hi.foreground],italic:hi.italic,bold:hi.bold,underline:hi.underline,strikethrough:hi.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}var Di=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(Di<this._contentLeft||Di>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}var wi=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(wi<0||wi>this._contentHeight){this._renderAtTopLeft();return}if(A.i){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:wi,left:this._textAreaWrapping?this._contentLeft:Di,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;var nr=(u=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&u!==void 0?u:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=nr*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:wi,left:this._textAreaWrapping?this._contentLeft:Di,width:this._textAreaWidth,height:Ze?0:1,useCover:!1})}},{key:"_newlinecount",value:function(u){var g=0,O=-1;do{if(O=u.indexOf(`
`,O+1),O===-1)break;g++}while(!0);return g}},{key:"_renderAtTopLeft",value:function(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:Ze?0:1,useCover:!0})}},{key:"_doRender",value:function(u){this._lastRenderPosition=u.lastRenderPosition;var g=this.textArea,O=this.textAreaCover;Object(St.a)(g,this._fontInfo),g.setTop(u.top),g.setLeft(u.left),g.setWidth(u.width),g.setHeight(u.height),g.setColor(u.color?Rt.a.Format.CSS.formatHex(u.color):""),g.setFontStyle(u.italic?"italic":""),u.bold&&g.setFontWeight("bold"),g.setTextDecoration("".concat(u.underline?" underline":"").concat(u.strikethrough?" line-through":"")),O.setTop(u.useCover?u.top:0),O.setLeft(u.useCover?u.left:0),O.setWidth(u.useCover?u.width:0),O.setHeight(u.useCover?u.height:0);var te=this._context.configuration.options;te.get(55)?O.setClassName("monaco-editor-background textAreaCover "+jn.OUTER_CLASS_NAME):te.get(65).renderType!==0?O.setClassName("monaco-editor-background textAreaCover "+Li.CLASS_NAME):O.setClassName("monaco-editor-background textAreaCover")}}]),v}(Te);function tn(ze,Ce,v){if(ze.length===0)return 0;var m=document.createElement("div");m.style.position="absolute",m.style.top="-50000px",m.style.width="50000px";var u=document.createElement("span");Object(St.a)(u,Ce),u.style.whiteSpace="pre",u.style.tabSize="".concat(v*Ce.spaceWidth,"px"),u.append(ze),m.appendChild(u),document.body.appendChild(m);var g=u.offsetWidth;return document.body.removeChild(m),g}var Dt=a("BJRu"),pn=function(){function ze(Ce,v,m,u){Object(Q.a)(this,ze),this.configuration=Ce,this.viewModel=v,this.userInputEvents=m,this.commandDelegate=u}return Object(L.a)(ze,[{key:"paste",value:function(v,m,u,g){this.commandDelegate.paste(v,m,u,g)}},{key:"type",value:function(v){this.commandDelegate.type(v)}},{key:"compositionType",value:function(v,m,u,g){this.commandDelegate.compositionType(v,m,u,g)}},{key:"compositionStart",value:function(){this.commandDelegate.startComposition()}},{key:"compositionEnd",value:function(){this.commandDelegate.endComposition()}},{key:"cut",value:function(){this.commandDelegate.cut()}},{key:"setSelection",value:function(v){Dt.b.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:v})}},{key:"_validateViewColumn",value:function(v){var m=this.viewModel.getLineMinColumn(v.lineNumber);return v.column<m?new Dn.a(v.lineNumber,m):v}},{key:"_hasMulticursorModifier",value:function(v){switch(this.configuration.options.get(75)){case"altKey":return v.altKey;case"ctrlKey":return v.ctrlKey;case"metaKey":return v.metaKey;default:return!1}}},{key:"_hasNonMulticursorModifier",value:function(v){switch(this.configuration.options.get(75)){case"altKey":return v.ctrlKey||v.metaKey;case"ctrlKey":return v.altKey||v.metaKey;case"metaKey":return v.ctrlKey||v.altKey;default:return!1}}},{key:"dispatchMouse",value:function(v){var m=this.configuration.options,u=A.g&&m.get(103),g=m.get(20);v.middleButton&&!u?this._columnSelect(v.position,v.mouseColumn,v.inSelectionMode):v.startedOnLineNumbers?this._hasMulticursorModifier(v)?v.inSelectionMode?this._lastCursorLineSelect(v.position,v.revealType):this._createCursor(v.position,!0):v.inSelectionMode?this._lineSelectDrag(v.position,v.revealType):this._lineSelect(v.position,v.revealType):v.mouseDownCount>=4?this._selectAll():v.mouseDownCount===3?this._hasMulticursorModifier(v)?v.inSelectionMode?this._lastCursorLineSelectDrag(v.position,v.revealType):this._lastCursorLineSelect(v.position,v.revealType):v.inSelectionMode?this._lineSelectDrag(v.position,v.revealType):this._lineSelect(v.position,v.revealType):v.mouseDownCount===2?v.onInjectedText||(this._hasMulticursorModifier(v)?this._lastCursorWordSelect(v.position,v.revealType):v.inSelectionMode?this._wordSelectDrag(v.position,v.revealType):this._wordSelect(v.position,v.revealType)):this._hasMulticursorModifier(v)?this._hasNonMulticursorModifier(v)||(v.shiftKey?this._columnSelect(v.position,v.mouseColumn,!0):v.inSelectionMode?this._lastCursorMoveToSelect(v.position,v.revealType):this._createCursor(v.position,!1)):v.inSelectionMode?v.altKey?this._columnSelect(v.position,v.mouseColumn,!0):g?this._columnSelect(v.position,v.mouseColumn,!0):this._moveToSelect(v.position,v.revealType):this.moveTo(v.position,v.revealType)}},{key:"_usualArgs",value:function(v,m){return v=this._validateViewColumn(v),{source:"mouse",position:this._convertViewToModelPosition(v),viewPosition:v,revealType:m}}},{key:"moveTo",value:function(v,m){Dt.b.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_moveToSelect",value:function(v,m){Dt.b.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_columnSelect",value:function(v,m,u){v=this._validateViewColumn(v),Dt.b.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(v),viewPosition:v,mouseColumn:m,doColumnSelect:u})}},{key:"_createCursor",value:function(v,m){v=this._validateViewColumn(v),Dt.b.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(v),viewPosition:v,wholeLine:m})}},{key:"_lastCursorMoveToSelect",value:function(v,m){Dt.b.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_wordSelect",value:function(v,m){Dt.b.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_wordSelectDrag",value:function(v,m){Dt.b.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_lastCursorWordSelect",value:function(v,m){Dt.b.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_lineSelect",value:function(v,m){Dt.b.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_lineSelectDrag",value:function(v,m){Dt.b.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_lastCursorLineSelect",value:function(v,m){Dt.b.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_lastCursorLineSelectDrag",value:function(v,m){Dt.b.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(v,m))}},{key:"_selectAll",value:function(){Dt.b.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}},{key:"_convertViewToModelPosition",value:function(v){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(v)}},{key:"emitKeyDown",value:function(v){this.userInputEvents.emitKeyDown(v)}},{key:"emitKeyUp",value:function(v){this.userInputEvents.emitKeyUp(v)}},{key:"emitContextMenu",value:function(v){this.userInputEvents.emitContextMenu(v)}},{key:"emitMouseMove",value:function(v){this.userInputEvents.emitMouseMove(v)}},{key:"emitMouseLeave",value:function(v){this.userInputEvents.emitMouseLeave(v)}},{key:"emitMouseUp",value:function(v){this.userInputEvents.emitMouseUp(v)}},{key:"emitMouseDown",value:function(v){this.userInputEvents.emitMouseDown(v)}},{key:"emitMouseDrag",value:function(v){this.userInputEvents.emitMouseDrag(v)}},{key:"emitMouseDrop",value:function(v){this.userInputEvents.emitMouseDrop(v)}},{key:"emitMouseDropCanceled",value:function(){this.userInputEvents.emitMouseDropCanceled()}},{key:"emitMouseWheel",value:function(v){this.userInputEvents.emitMouseWheel(v)}}]),ze}(),ti=function(){function ze(Ce){Object(Q.a)(this,ze),this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=Ce}return Object(L.a)(ze,[{key:"emitKeyDown",value:function(v){var m;(m=this.onKeyDown)===null||m===void 0||m.call(this,v)}},{key:"emitKeyUp",value:function(v){var m;(m=this.onKeyUp)===null||m===void 0||m.call(this,v)}},{key:"emitContextMenu",value:function(v){var m;(m=this.onContextMenu)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseMove",value:function(v){var m;(m=this.onMouseMove)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseLeave",value:function(v){var m;(m=this.onMouseLeave)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseDown",value:function(v){var m;(m=this.onMouseDown)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseUp",value:function(v){var m;(m=this.onMouseUp)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseDrag",value:function(v){var m;(m=this.onMouseDrag)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseDrop",value:function(v){var m;(m=this.onMouseDrop)===null||m===void 0||m.call(this,this._convertViewToModelMouseEvent(v))}},{key:"emitMouseDropCanceled",value:function(){var v;(v=this.onMouseDropCanceled)===null||v===void 0||v.call(this)}},{key:"emitMouseWheel",value:function(v){var m;(m=this.onMouseWheel)===null||m===void 0||m.call(this,v)}},{key:"_convertViewToModelMouseEvent",value:function(v){return v.target?{event:v.event,target:this._convertViewToModelMouseTarget(v.target)}:v}},{key:"_convertViewToModelMouseTarget",value:function(v){return ze.convertViewToModelMouseTarget(v,this._coordinatesConverter)}}],[{key:"convertViewToModelMouseTarget",value:function(v,m){var u=Object.assign({},v);return u.position&&(u.position=m.convertViewPositionToModelPosition(u.position)),u.range&&(u.range=m.convertViewRangeToModelRange(u.range)),(u.type===5||u.type===8)&&(u.detail=this.convertViewToModelViewZoneData(u.detail,m)),u}},{key:"convertViewToModelViewZoneData",value:function(v,m){return{viewZoneId:v.viewZoneId,positionBefore:v.positionBefore?m.convertViewPositionToModelPosition(v.positionBefore):v.positionBefore,positionAfter:v.positionAfter?m.convertViewPositionToModelPosition(v.positionAfter):v.positionAfter,position:m.convertViewPositionToModelPosition(v.position),afterLineNumber:m.convertViewPositionToModelPosition(new Dn.a(v.afterLineNumber,1)).lineNumber}}}]),ze}(),kn=a("c9Qy"),Vt=a("erNZ"),Oi=function(){function ze(Ce){Object(Q.a)(this,ze),this._createLine=Ce,this._set(1,[])}return Object(L.a)(ze,[{key:"flush",value:function(){this._set(1,[])}},{key:"_set",value:function(v,m){this._lines=m,this._rendLineNumberStart=v}},{key:"_get",value:function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}},{key:"getStartLineNumber",value:function(){return this._rendLineNumberStart}},{key:"getEndLineNumber",value:function(){return this._rendLineNumberStart+this._lines.length-1}},{key:"getCount",value:function(){return this._lines.length}},{key:"getLine",value:function(v){var m=v-this._rendLineNumberStart;if(m<0||m>=this._lines.length)throw new d.a("Illegal value for lineNumber");return this._lines[m]}},{key:"onLinesDeleted",value:function(v,m){if(this.getCount()===0)return null;var u=this.getStartLineNumber(),g=this.getEndLineNumber();if(m<u){var O=m-v+1;return this._rendLineNumberStart-=O,null}if(v>g)return null;for(var te=0,Le=0,Me=u;Me<=g;Me++){var at=Me-this._rendLineNumberStart;v<=Me&&Me<=m&&(Le===0?(te=at,Le=1):Le++)}if(v<u){var Ot=0;m<u?Ot=m-v+1:Ot=u-v,this._rendLineNumberStart-=Ot}var Mt=this._lines.splice(te,Le);return Mt}},{key:"onLinesChanged",value:function(v,m){var u=v+m-1;if(this.getCount()===0)return!1;for(var g=this.getStartLineNumber(),O=this.getEndLineNumber(),te=!1,Le=v;Le<=u;Le++)Le>=g&&Le<=O&&(this._lines[Le-this._rendLineNumberStart].onContentChanged(),te=!0);return te}},{key:"onLinesInserted",value:function(v,m){if(this.getCount()===0)return null;var u=m-v+1,g=this.getStartLineNumber(),O=this.getEndLineNumber();if(v<=g)return this._rendLineNumberStart+=u,null;if(v>O)return null;if(u+v>O){var te=this._lines.splice(v-this._rendLineNumberStart,O-v+1);return te}for(var Le=[],Me=0;Me<u;Me++)Le[Me]=this._createLine();var at=v-this._rendLineNumberStart,Ot=this._lines.slice(0,at),Mt=this._lines.slice(at,this._lines.length-u),Qt=this._lines.slice(this._lines.length-u,this._lines.length);return this._lines=Ot.concat(Le).concat(Mt),Qt}},{key:"onTokensChanged",value:function(v){if(this.getCount()===0)return!1;for(var m=this.getStartLineNumber(),u=this.getEndLineNumber(),g=!1,O=0,te=v.length;O<te;O++){var Le=v[O];if(!(Le.toLineNumber<m||Le.fromLineNumber>u))for(var Me=Math.max(m,Le.fromLineNumber),at=Math.min(u,Le.toLineNumber),Ot=Me;Ot<=at;Ot++){var Mt=Ot-this._rendLineNumberStart;this._lines[Mt].onTokensChanged(),g=!0}}return g}}]),ze}(),Yi=function(){function ze(Ce){var v=this;Object(Q.a)(this,ze),this._host=Ce,this.domNode=this._createDomNode(),this._linesCollection=new Oi(function(){return v._host.createVisibleLine()})}return Object(L.a)(ze,[{key:"_createDomNode",value:function(){var v=Object(bt.b)(document.createElement("div"));return v.setClassName("view-layer"),v.setPosition("absolute"),v.domNode.setAttribute("role","presentation"),v.domNode.setAttribute("aria-hidden","true"),v}},{key:"onConfigurationChanged",value:function(v){return!!v.hasChanged(140)}},{key:"onFlushed",value:function(v){return this._linesCollection.flush(),!0}},{key:"onLinesChanged",value:function(v){return this._linesCollection.onLinesChanged(v.fromLineNumber,v.count)}},{key:"onLinesDeleted",value:function(v){var m=this._linesCollection.onLinesDeleted(v.fromLineNumber,v.toLineNumber);if(m)for(var u=0,g=m.length;u<g;u++){var O=m[u].getDomNode();O&&this.domNode.domNode.removeChild(O)}return!0}},{key:"onLinesInserted",value:function(v){var m=this._linesCollection.onLinesInserted(v.fromLineNumber,v.toLineNumber);if(m)for(var u=0,g=m.length;u<g;u++){var O=m[u].getDomNode();O&&this.domNode.domNode.removeChild(O)}return!0}},{key:"onScrollChanged",value:function(v){return v.scrollTopChanged}},{key:"onTokensChanged",value:function(v){return this._linesCollection.onTokensChanged(v.ranges)}},{key:"onZonesChanged",value:function(v){return!0}},{key:"getStartLineNumber",value:function(){return this._linesCollection.getStartLineNumber()}},{key:"getEndLineNumber",value:function(){return this._linesCollection.getEndLineNumber()}},{key:"getVisibleLine",value:function(v){return this._linesCollection.getLine(v)}},{key:"renderLines",value:function(v){var m=this._linesCollection._get(),u=new Hi(this.domNode.domNode,this._host,v),g={rendLineNumberStart:m.rendLineNumberStart,lines:m.lines,linesLength:m.lines.length},O=u.render(g,v.startLineNumber,v.endLineNumber,v.relativeVerticalOffset);this._linesCollection._set(O.rendLineNumberStart,O.lines)}}]),ze}(),Hi=function(){function ze(Ce,v,m){Object(Q.a)(this,ze),this.domNode=Ce,this.host=v,this.viewportData=m}return Object(L.a)(ze,[{key:"render",value:function(v,m,u,g){var O={rendLineNumberStart:v.rendLineNumberStart,lines:v.lines.slice(0),linesLength:v.linesLength};if(O.rendLineNumberStart+O.linesLength-1<m||u<O.rendLineNumberStart){O.rendLineNumberStart=m,O.linesLength=u-m+1,O.lines=[];for(var te=m;te<=u;te++)O.lines[te-m]=this.host.createVisibleLine();return this._finishRendering(O,!0,g),O}if(this._renderUntouchedLines(O,Math.max(m-O.rendLineNumberStart,0),Math.min(u-O.rendLineNumberStart,O.linesLength-1),g,m),O.rendLineNumberStart>m){var Le=m,Me=Math.min(u,O.rendLineNumberStart-1);Le<=Me&&(this._insertLinesBefore(O,Le,Me,g,m),O.linesLength+=Me-Le+1)}else if(O.rendLineNumberStart<m){var at=Math.min(O.linesLength,m-O.rendLineNumberStart);at>0&&(this._removeLinesBefore(O,at),O.linesLength-=at)}if(O.rendLineNumberStart=m,O.rendLineNumberStart+O.linesLength-1<u){var Ot=O.rendLineNumberStart+O.linesLength,Mt=u;Ot<=Mt&&(this._insertLinesAfter(O,Ot,Mt,g,m),O.linesLength+=Mt-Ot+1)}else if(O.rendLineNumberStart+O.linesLength-1>u){var Qt=Math.max(0,u-O.rendLineNumberStart+1),Ht=O.linesLength-1,dt=Ht-Qt+1;dt>0&&(this._removeLinesAfter(O,dt),O.linesLength-=dt)}return this._finishRendering(O,!1,g),O}},{key:"_renderUntouchedLines",value:function(v,m,u,g,O){for(var te=v.rendLineNumberStart,Le=v.lines,Me=m;Me<=u;Me++){var at=te+Me;Le[Me].layoutLine(at,g[at-O])}}},{key:"_insertLinesBefore",value:function(v,m,u,g,O){for(var te=[],Le=0,Me=m;Me<=u;Me++)te[Le++]=this.host.createVisibleLine();v.lines=te.concat(v.lines)}},{key:"_removeLinesBefore",value:function(v,m){for(var u=0;u<m;u++){var g=v.lines[u].getDomNode();g&&this.domNode.removeChild(g)}v.lines.splice(0,m)}},{key:"_insertLinesAfter",value:function(v,m,u,g,O){for(var te=[],Le=0,Me=m;Me<=u;Me++)te[Le++]=this.host.createVisibleLine();v.lines=v.lines.concat(te)}},{key:"_removeLinesAfter",value:function(v,m){for(var u=v.linesLength-m,g=0;g<m;g++){var O=v.lines[u+g].getDomNode();O&&this.domNode.removeChild(O)}v.lines.splice(u,m)}},{key:"_finishRenderingNewLines",value:function(v,m,u,g){ze._ttPolicy&&(u=ze._ttPolicy.createHTML(u));var O=this.domNode.lastChild;m||!O?this.domNode.innerHTML=u:O.insertAdjacentHTML("afterend",u);for(var te=this.domNode.lastChild,Le=v.linesLength-1;Le>=0;Le--){var Me=v.lines[Le];g[Le]&&(Me.setDomNode(te),te=te.previousSibling)}}},{key:"_finishRenderingInvalidLines",value:function(v,m,u){var g=document.createElement("div");ze._ttPolicy&&(m=ze._ttPolicy.createHTML(m)),g.innerHTML=m;for(var O=0;O<v.linesLength;O++){var te=v.lines[O];if(u[O]){var Le=g.firstChild,Me=te.getDomNode();Me.parentNode.replaceChild(Le,Me),te.setDomNode(Le)}}}},{key:"_finishRendering",value:function(v,m,u){var g=ze._sb,O=v.linesLength,te=v.lines,Le=v.rendLineNumberStart,Me=[];{g.reset();for(var at=!1,Ot=0;Ot<O;Ot++){var Mt=te[Ot];Me[Ot]=!1;var Qt=Mt.getDomNode();if(!Qt){var Ht=Mt.renderLine(Ot+Le,u[Ot],this.viewportData,g);!Ht||(Me[Ot]=!0,at=!0)}}at&&this._finishRenderingNewLines(v,m,g.build(),Me)}{g.reset();for(var dt=!1,Cn=[],Pn=0;Pn<O;Pn++){var ni=te[Pn];if(Cn[Pn]=!1,!Me[Pn]){var hi=ni.renderLine(Pn+Le,u[Pn],this.viewportData,g);!hi||(Cn[Pn]=!0,dt=!0)}}dt&&this._finishRenderingInvalidLines(v,g.build(),Cn)}}}]),ze}();Hi._ttPolicy=Object(kn.a)("editorViewLayer",{createHTML:function(Ce){return Ce}}),Hi._sb=new Vt.a(1e5);var qi=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this,m),u._visibleLines=new Yi(Object(ve.a)(u)),u.domNode=u._visibleLines.domNode;var g=u._context.configuration.options,O=g.get(48);return Object(St.a)(u.domNode,O),u._dynamicOverlays=[],u._isFocused=!1,u.domNode.setClassName("view-overlays"),u}return Object(L.a)(v,[{key:"shouldRender",value:function(){if(Object(re.a)(Object(J.a)(v.prototype),"shouldRender",this).call(this))return!0;for(var u=0,g=this._dynamicOverlays.length;u<g;u++){var O=this._dynamicOverlays[u];if(O.shouldRender())return!0}return!1}},{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this);for(var u=0,g=this._dynamicOverlays.length;u<g;u++){var O=this._dynamicOverlays[u];O.dispose()}this._dynamicOverlays=[]}},{key:"getDomNode",value:function(){return this.domNode}},{key:"createVisibleLine",value:function(){return new Qr(this._context.configuration,this._dynamicOverlays)}},{key:"addDynamicOverlay",value:function(u){this._dynamicOverlays.push(u)}},{key:"onConfigurationChanged",value:function(u){this._visibleLines.onConfigurationChanged(u);for(var g=this._visibleLines.getStartLineNumber(),O=this._visibleLines.getEndLineNumber(),te=g;te<=O;te++){var Le=this._visibleLines.getVisibleLine(te);Le.onConfigurationChanged(u)}var Me=this._context.configuration.options,at=Me.get(48);return Object(St.a)(this.domNode,at),!0}},{key:"onFlushed",value:function(u){return this._visibleLines.onFlushed(u)}},{key:"onFocusChanged",value:function(u){return this._isFocused=u.isFocused,!0}},{key:"onLinesChanged",value:function(u){return this._visibleLines.onLinesChanged(u)}},{key:"onLinesDeleted",value:function(u){return this._visibleLines.onLinesDeleted(u)}},{key:"onLinesInserted",value:function(u){return this._visibleLines.onLinesInserted(u)}},{key:"onScrollChanged",value:function(u){return this._visibleLines.onScrollChanged(u)||!0}},{key:"onTokensChanged",value:function(u){return this._visibleLines.onTokensChanged(u)}},{key:"onZonesChanged",value:function(u){return this._visibleLines.onZonesChanged(u)}},{key:"prepareRender",value:function(u){for(var g=this._dynamicOverlays.filter(function(Me){return Me.shouldRender()}),O=0,te=g.length;O<te;O++){var Le=g[O];Le.prepareRender(u),Le.onDidRender()}}},{key:"render",value:function(u){this._viewOverlaysRender(u),this.domNode.toggleClassName("focused",this._isFocused)}},{key:"_viewOverlaysRender",value:function(u){this._visibleLines.renderLines(u.viewportData)}}]),v}(Te),Qr=function(){function ze(Ce,v){Object(Q.a)(this,ze),this._configuration=Ce,this._lineHeight=this._configuration.options.get(64),this._dynamicOverlays=v,this._domNode=null,this._renderedContent=null}return Object(L.a)(ze,[{key:"getDomNode",value:function(){return this._domNode?this._domNode.domNode:null}},{key:"setDomNode",value:function(v){this._domNode=Object(bt.b)(v)}},{key:"onContentChanged",value:function(){}},{key:"onTokensChanged",value:function(){}},{key:"onConfigurationChanged",value:function(v){this._lineHeight=this._configuration.options.get(64)}},{key:"renderLine",value:function(v,m,u,g){for(var O="",te=0,Le=this._dynamicOverlays.length;te<Le;te++){var Me=this._dynamicOverlays[te];O+=Me.render(u.startLineNumber,v)}return this._renderedContent===O?!1:(this._renderedContent=O,g.appendString('<div style="position:absolute;top:'),g.appendString(String(m)),g.appendString("px;width:100%;height:"),g.appendString(String(this._lineHeight)),g.appendString('px;">'),g.appendString(O),g.appendString("</div>"),!0)}},{key:"layoutLine",value:function(v,m){this._domNode&&(this._domNode.setTop(m),this._domNode.setHeight(this._lineHeight))}}]),ze}(),Mr=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this,m);var g=u._context.configuration.options,O=g.get(140);return u._contentWidth=O.contentWidth,u.domNode.setHeight(0),u}return Object(L.a)(v,[{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,O=g.get(140);return this._contentWidth=O.contentWidth,Object(re.a)(Object(J.a)(v.prototype),"onConfigurationChanged",this).call(this,u)||!0}},{key:"onScrollChanged",value:function(u){return Object(re.a)(Object(J.a)(v.prototype),"onScrollChanged",this).call(this,u)||u.scrollWidthChanged}},{key:"_viewOverlaysRender",value:function(u){Object(re.a)(Object(J.a)(v.prototype),"_viewOverlaysRender",this).call(this,u),this.domNode.setWidth(Math.max(u.scrollWidth,this._contentWidth))}}]),v}(qi),na=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this,m);var g=u._context.configuration.options,O=g.get(140);return u._contentLeft=O.contentLeft,u.domNode.setClassName("margin-view-overlays"),u.domNode.setWidth(1),Object(St.a)(u.domNode,g.get(48)),u}return Object(L.a)(v,[{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options;Object(St.a)(this.domNode,g.get(48));var O=g.get(140);return this._contentLeft=O.contentLeft,Object(re.a)(Object(J.a)(v.prototype),"onConfigurationChanged",this).call(this,u)||!0}},{key:"onScrollChanged",value:function(u){return Object(re.a)(Object(J.a)(v.prototype),"onScrollChanged",this).call(this,u)||u.scrollHeightChanged}},{key:"_viewOverlaysRender",value:function(u){Object(re.a)(Object(J.a)(v.prototype),"_viewOverlaysRender",this).call(this,u);var g=Math.min(u.scrollHeight,1e6);this.domNode.setHeight(g),this.domNode.setWidth(this._contentLeft)}}]),v}(qi),Br=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u){var g;return Object(Q.a)(this,v),g=Ce.call(this,m),g._viewDomNode=u,g._widgets={},g.domNode=Object(bt.b)(document.createElement("div")),fe.write(g.domNode,1),g.domNode.setClassName("contentWidgets"),g.domNode.setPosition("absolute"),g.domNode.setTop(0),g.overflowingContentWidgetsDomNode=Object(bt.b)(document.createElement("div")),fe.write(g.overflowingContentWidgetsDomNode,2),g.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),g}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this),this._widgets={}}},{key:"onConfigurationChanged",value:function(u){for(var g=Object.keys(this._widgets),O=0,te=g;O<te.length;O++){var Le=te[O];this._widgets[Le].onConfigurationChanged(u)}return!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLineMappingChanged",value:function(u){return this._updateAnchorsViewPositions(),!0}},{key:"onLinesChanged",value:function(u){return this._updateAnchorsViewPositions(),!0}},{key:"onLinesDeleted",value:function(u){return this._updateAnchorsViewPositions(),!0}},{key:"onLinesInserted",value:function(u){return this._updateAnchorsViewPositions(),!0}},{key:"onScrollChanged",value:function(u){return!0}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_updateAnchorsViewPositions",value:function(){for(var u=Object.keys(this._widgets),g=0,O=u;g<O.length;g++){var te=O[g];this._widgets[te].updateAnchorViewPosition()}}},{key:"addWidget",value:function(u){var g=new ha(this._context,this._viewDomNode,u);this._widgets[g.id]=g,g.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(g.domNode):this.domNode.appendChild(g.domNode),this.setShouldRender()}},{key:"setWidgetPosition",value:function(u,g,O,te,Le){var Me=this._widgets[u.getId()];Me.setPosition(g,O,te,Le),this.setShouldRender()}},{key:"removeWidget",value:function(u){var g=u.getId();if(this._widgets.hasOwnProperty(g)){var O=this._widgets[g];delete this._widgets[g];var te=O.domNode.domNode;te.parentNode.removeChild(te),te.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}},{key:"shouldSuppressMouseDownOnWidget",value:function(u){return this._widgets.hasOwnProperty(u)?this._widgets[u].suppressMouseDown:!1}},{key:"onBeforeRender",value:function(u){for(var g=Object.keys(this._widgets),O=0,te=g;O<te.length;O++){var Le=te[O];this._widgets[Le].onBeforeRender(u)}}},{key:"prepareRender",value:function(u){for(var g=Object.keys(this._widgets),O=0,te=g;O<te.length;O++){var Le=te[O];this._widgets[Le].prepareRender(u)}}},{key:"render",value:function(u){for(var g=Object.keys(this._widgets),O=0,te=g;O<te.length;O++){var Le=te[O];this._widgets[Le].render(u)}}}]),v}(Te),ha=function(){function ze(Ce,v,m){Object(Q.a)(this,ze),this._primaryAnchor=new vn(null,null),this._secondaryAnchor=new vn(null,null),this._context=Ce,this._viewDomNode=v,this._actual=m,this.domNode=Object(bt.b)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;var u=this._context.configuration.options,g=u.get(140);this._fixedOverflowWidgets=u.get(40),this._contentWidth=g.contentWidth,this._contentLeft=g.contentLeft,this._lineHeight=u.get(64),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}return Object(L.a)(ze,[{key:"onConfigurationChanged",value:function(v){var m=this._context.configuration.options;if(this._lineHeight=m.get(64),v.hasChanged(140)){var u=m.get(140);this._contentLeft=u.contentLeft,this._contentWidth=u.contentWidth,this._maxWidth=this._getMaxWidth()}}},{key:"updateAnchorViewPosition",value:function(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}},{key:"_setPosition",value:function(v,m,u){this._affinity=v,this._primaryAnchor=g(m,this._context.viewModel,this._affinity),this._secondaryAnchor=g(u,this._context.viewModel,this._affinity);function g(O,te,Le){if(!O)return new vn(null,null);var Me=te.model.validatePosition(O);if(te.coordinatesConverter.modelPositionIsVisible(Me)){var at=te.coordinatesConverter.convertModelPositionToViewPosition(Me,Le!=null?Le:void 0);return new vn(O,at)}return new vn(O,null)}}},{key:"_getMaxWidth",value:function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}},{key:"setPosition",value:function(v,m,u,g){this._setPosition(g,v,m),this._preference=u,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}},{key:"_layoutBoxInViewport",value:function(v,m,u,g){var O=v.top,te=O,Le=v.top+v.height,Me=g.viewportHeight-Le,at=O-u,Ot=te>=u,Mt=Le,Qt=Me>=u,Ht=v.left;return Ht+m>g.scrollLeft+g.viewportWidth&&(Ht=g.scrollLeft+g.viewportWidth-m),Ht<g.scrollLeft&&(Ht=g.scrollLeft),{fitsAbove:Ot,aboveTop:at,fitsBelow:Qt,belowTop:Mt,left:Ht}}},{key:"_layoutHorizontalSegmentInPage",value:function(v,m,u,g){var O=15,te=15,Le=Math.max(O,m.left-g),Me=Math.min(m.left+m.width+g,v.width-te),at=m.left+u-window.scrollX;if(at+g>Me){var Ot=at-(Me-g);at-=Ot,u-=Ot}if(at<Le){var Mt=at-Le;at-=Mt,u-=Mt}return[u,at]}},{key:"_layoutBoxInPage",value:function(v,m,u,g){var O=v.top-u,te=v.top+v.height,Le=U.getDomNodePagePosition(this._viewDomNode.domNode),Me=Le.top+O-window.scrollY,at=Le.top+te-window.scrollY,Ot=U.getClientArea(document.body),Mt=this._layoutHorizontalSegmentInPage(Ot,Le,v.left-g.scrollLeft+this._contentLeft,m),Qt=Object(le.a)(Mt,2),Ht=Qt[0],dt=Qt[1],Cn=22,Pn=22,ni=Me>=Cn,hi=at+u<=Ot.height-Pn;return this._fixedOverflowWidgets?{fitsAbove:ni,aboveTop:Math.max(Me,Cn),fitsBelow:hi,belowTop:at,left:dt}:{fitsAbove:ni,aboveTop:O,fitsBelow:hi,belowTop:te,left:Ht}}},{key:"_prepareRenderWidgetAtExactPositionOverflowing",value:function(v){return new Ln(v.top,v.left+this._contentLeft)}},{key:"_getAnchorsCoordinates",value:function(v){var m,u,g=Le(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),O=((m=this._secondaryAnchor.viewPosition)===null||m===void 0?void 0:m.lineNumber)===((u=this._primaryAnchor.viewPosition)===null||u===void 0?void 0:u.lineNumber)?this._secondaryAnchor.viewPosition:null,te=Le(O,this._affinity,this._lineHeight);return{primary:g,secondary:te};function Le(Me,at,Ot){if(!Me)return null;var Mt=v.visibleRangeForPosition(Me);if(!Mt)return null;var Qt=Me.column===1&&at===3?0:Mt.left,Ht=v.getVerticalOffsetForLineNumber(Me.lineNumber)-v.scrollTop;return new ut(Ht,Qt,Ot)}}},{key:"_reduceAnchorCoordinates",value:function(v,m,u){if(!m)return v;var g=this._context.configuration.options.get(48),O=m.left;return O<v.left?O=Math.max(O,v.left-u+g.typicalFullwidthCharacterWidth):O=Math.min(O,v.left+u-g.typicalFullwidthCharacterWidth),new ut(v.top,O,v.height)}},{key:"_prepareRenderWidget",value:function(v){if(!this._preference||this._preference.length===0)return null;var m=this._getAnchorsCoordinates(v),u=m.primary,g=m.secondary;if(!u)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){var O=null;if(typeof this._actual.beforeRender=="function"&&(O=Tt(this._actual.beforeRender,this._actual)),O)this._cachedDomNodeOffsetWidth=O.width,this._cachedDomNodeOffsetHeight=O.height;else{var te=this.domNode.domNode,Le=te.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(Le.width),this._cachedDomNodeOffsetHeight=Math.round(Le.height)}}var Me=this._reduceAnchorCoordinates(u,g,this._cachedDomNodeOffsetWidth),at;this.allowEditorOverflow?at=this._layoutBoxInPage(Me,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,v):at=this._layoutBoxInViewport(Me,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,v);for(var Ot=1;Ot<=2;Ot++){var Mt=Object(E.a)(this._preference),Qt;try{for(Mt.s();!(Qt=Mt.n()).done;){var Ht=Qt.value;if(Ht===1){if(!at)return null;if(Ot===2||at.fitsAbove)return{coordinate:new Ln(at.aboveTop,at.left),position:1}}else if(Ht===2){if(!at)return null;if(Ot===2||at.fitsBelow)return{coordinate:new Ln(at.belowTop,at.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new Ln(Me.top,Me.left)),position:0}:{coordinate:new Ln(Me.top,Me.left),position:0}}}catch(dt){Mt.e(dt)}finally{Mt.f()}}return null}},{key:"onBeforeRender",value:function(v){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<v.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>v.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}},{key:"prepareRender",value:function(v){this._renderData=this._prepareRenderWidget(v)}},{key:"render",value:function(v){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&Tt(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+v.scrollTop-v.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&Tt(this._actual.afterRender,this._actual,this._renderData.position)}}]),ze}(),vn=Object(L.a)(function ze(Ce,v){Object(Q.a)(this,ze),this.modelPosition=Ce,this.viewPosition=v}),Ln=Object(L.a)(function ze(Ce,v){Object(Q.a)(this,ze),this.top=Ce,this.left=v,this._coordinateBrand=void 0}),ut=Object(L.a)(function ze(Ce,v,m){Object(Q.a)(this,ze),this.top=Ce,this.left=v,this.height=m,this._anchorCoordinateBrand=void 0});function Tt(ze,Ce){try{for(var v=arguments.length,m=new Array(v>2?v-2:0),u=2;u<v;u++)m[u-2]=arguments[u];return ze.call.apply(ze,[Ce].concat(m))}catch(g){return null}}var Pt=a("kw+w"),Zt=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this),u._context=m;var g=u._context.configuration.options,O=g.get(140);return u._lineHeight=g.get(64),u._renderLineHighlight=g.get(92),u._renderLineHighlightOnlyWhenFocus=g.get(93),u._contentLeft=O.contentLeft,u._contentWidth=O.contentWidth,u._selectionIsEmpty=!0,u._focused=!1,u._cursorLineNumbers=[1],u._selections=[new Ct.a(1,1,1,1)],u._renderData=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(L.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"_readFromSelections",value:function(){var u=!1,g=this._selections.map(function(te){return te.positionLineNumber});g.sort(function(te,Le){return te-Le}),T.j(this._cursorLineNumbers,g)||(this._cursorLineNumbers=g,u=!0);var O=this._selections.every(function(te){return te.isEmpty()});return this._selectionIsEmpty!==O&&(this._selectionIsEmpty=O,u=!0),u}},{key:"onThemeChanged",value:function(u){return this._readFromSelections()}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,O=g.get(140);return this._lineHeight=g.get(64),this._renderLineHighlight=g.get(92),this._renderLineHighlightOnlyWhenFocus=g.get(93),this._contentLeft=O.contentLeft,this._contentWidth=O.contentWidth,!0}},{key:"onCursorStateChanged",value:function(u){return this._selections=u.selections,this._readFromSelections()}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollWidthChanged||u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"onFocusChanged",value:function(u){return this._renderLineHighlightOnlyWhenFocus?(this._focused=u.isFocused,!0):!1}},{key:"prepareRender",value:function(u){if(!this._shouldRenderThis()){this._renderData=null;return}for(var g=this._renderOne(u),O=u.visibleRange.startLineNumber,te=u.visibleRange.endLineNumber,Le=this._cursorLineNumbers.length,Me=0,at=[],Ot=O;Ot<=te;Ot++){for(var Mt=Ot-O;Me<Le&&this._cursorLineNumbers[Me]<Ot;)Me++;Me<Le&&this._cursorLineNumbers[Me]===Ot?at[Mt]=g:at[Mt]=""}this._renderData=at}},{key:"render",value:function(u,g){if(!this._renderData)return"";var O=g-u;return O>=this._renderData.length?"":this._renderData[O]}},{key:"_shouldRenderInMargin",value:function(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}},{key:"_shouldRenderInContent",value:function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}]),v}(Qe),Ut=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(){return Object(Q.a)(this,v),Ce.apply(this,arguments)}return Object(L.a)(v,[{key:"_renderOne",value:function(u){var g="current-line"+(this._shouldRenderOther()?" current-line-both":"");return'<div class="'.concat(g,'" style="width:').concat(Math.max(u.scrollWidth,this._contentWidth),"px; height:").concat(this._lineHeight,'px;"></div>')}},{key:"_shouldRenderThis",value:function(){return this._shouldRenderInContent()}},{key:"_shouldRenderOther",value:function(){return this._shouldRenderInMargin()}}]),v}(Zt),Nn=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(){return Object(Q.a)(this,v),Ce.apply(this,arguments)}return Object(L.a)(v,[{key:"_renderOne",value:function(u){var g="current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"");return'<div class="'.concat(g,'" style="width:').concat(this._contentLeft,"px; height:").concat(this._lineHeight,'px;"></div>')}},{key:"_shouldRenderThis",value:function(){return!0}},{key:"_shouldRenderOther",value:function(){return this._shouldRenderInContent()}}]),v}(Zt);Object(Jn.e)(function(ze,Ce){var v=ze.getColor(ii.y);if(v&&(Ce.addRule(".monaco-editor .view-overlays .current-line { background-color: ".concat(v,"; }")),Ce.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: ".concat(v,"; border: none; }"))),!v||v.isTransparent()||ze.defines(ii.z)){var m=ze.getColor(ii.z);m&&(Ce.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid ".concat(m,"; }")),Ce.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ".concat(m,"; }")),Object(Kt.c)(ze.type)&&(Ce.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),Ce.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});var In=a("Vtyv"),Wn=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this),u._context=m;var g=u._context.configuration.options;return u._lineHeight=g.get(64),u._typicalHalfwidthCharacterWidth=g.get(48).typicalHalfwidthCharacterWidth,u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(L.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options;return this._lineHeight=g.get(64),this._typicalHalfwidthCharacterWidth=g.get(48).typicalHalfwidthCharacterWidth,!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged||u.scrollWidthChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"prepareRender",value:function(u){for(var g=u.getDecorationsInViewport(),O=[],te=0,Le=0,Me=g.length;Le<Me;Le++){var at=g[Le];at.options.className&&(O[te++]=at)}O=O.sort(function(Cn,Pn){if(Cn.options.zIndex<Pn.options.zIndex)return-1;if(Cn.options.zIndex>Pn.options.zIndex)return 1;var ni=Cn.options.className,hi=Pn.options.className;return ni<hi?-1:ni>hi?1:An.a.compareRangesUsingStarts(Cn.range,Pn.range)});for(var Ot=u.visibleRange.startLineNumber,Mt=u.visibleRange.endLineNumber,Qt=[],Ht=Ot;Ht<=Mt;Ht++){var dt=Ht-Ot;Qt[dt]=""}this._renderWholeLineDecorations(u,O,Qt),this._renderNormalDecorations(u,O,Qt),this._renderResult=Qt}},{key:"_renderWholeLineDecorations",value:function(u,g,O){for(var te=String(this._lineHeight),Le=u.visibleRange.startLineNumber,Me=u.visibleRange.endLineNumber,at=0,Ot=g.length;at<Ot;at++){var Mt=g[at];if(!!Mt.options.isWholeLine)for(var Qt='<div class="cdr '+Mt.options.className+'" style="left:0;width:100%;height:'+te+'px;"></div>',Ht=Math.max(Mt.range.startLineNumber,Le),dt=Math.min(Mt.range.endLineNumber,Me),Cn=Ht;Cn<=dt;Cn++){var Pn=Cn-Le;O[Pn]+=Qt}}}},{key:"_renderNormalDecorations",value:function(u,g,O){for(var te=String(this._lineHeight),Le=u.visibleRange.startLineNumber,Me=null,at=!1,Ot=null,Mt=0,Qt=g.length;Mt<Qt;Mt++){var Ht=g[Mt];if(!Ht.options.isWholeLine){var dt=Ht.options.className,Cn=Boolean(Ht.options.showIfCollapsed),Pn=Ht.range;if(Cn&&Pn.endColumn===1&&Pn.endLineNumber!==Pn.startLineNumber&&(Pn=new An.a(Pn.startLineNumber,Pn.startColumn,Pn.endLineNumber-1,this._context.viewModel.getLineMaxColumn(Pn.endLineNumber-1))),Me===dt&&at===Cn&&An.a.areIntersectingOrTouching(Ot,Pn)){Ot=An.a.plusRange(Ot,Pn);continue}Me!==null&&this._renderNormalDecoration(u,Ot,Me,at,te,Le,O),Me=dt,at=Cn,Ot=Pn}}Me!==null&&this._renderNormalDecoration(u,Ot,Me,at,te,Le,O)}},{key:"_renderNormalDecoration",value:function(u,g,O,te,Le,Me,at){var Ot=u.linesVisibleRangesForRange(g,O==="findMatch");if(!!Ot)for(var Mt=0,Qt=Ot.length;Mt<Qt;Mt++){var Ht=Ot[Mt];if(!Ht.outsideRenderedLine){var dt=Ht.lineNumber-Me;if(te&&Ht.ranges.length===1){var Cn=Ht.ranges[0];if(Cn.width<this._typicalHalfwidthCharacterWidth){var Pn=Math.round(Cn.left+Cn.width/2),ni=Math.max(0,Math.round(Pn-this._typicalHalfwidthCharacterWidth/2));Ht.ranges[0]=new $e(ni,this._typicalHalfwidthCharacterWidth)}}for(var hi=0,Di=Ht.ranges.length;hi<Di;hi++){var wi=Ht.ranges[hi],nr='<div class="cdr '+O+'" style="left:'+String(wi.left)+"px;width:"+String(wi.width)+"px;height:"+Le+'px;"></div>';at[dt]+=nr}}}}},{key:"render",value:function(u,g){if(!this._renderResult)return"";var O=g-u;return O<0||O>=this._renderResult.length?"":this._renderResult[O]}}]),v}(Qe),oi=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g,O){var te;Object(Q.a)(this,v),te=Ce.call(this,m);var Le=te._context.configuration.options,Me=Le.get(99),at=Le.get(72),Ot=Le.get(38),Mt=Le.get(102),Qt={listenOnDomNode:g.domNode,className:"editor-scrollable "+Object(Jn.d)(m.theme.type),useShadows:!1,lazyRender:!0,vertical:Me.vertical,horizontal:Me.horizontal,verticalHasArrows:Me.verticalHasArrows,horizontalHasArrows:Me.horizontalHasArrows,verticalScrollbarSize:Me.verticalScrollbarSize,verticalSliderSize:Me.verticalSliderSize,horizontalScrollbarSize:Me.horizontalScrollbarSize,horizontalSliderSize:Me.horizontalSliderSize,handleMouseWheel:Me.handleMouseWheel,alwaysConsumeMouseWheel:Me.alwaysConsumeMouseWheel,arrowSize:Me.arrowSize,mouseWheelScrollSensitivity:at,fastScrollSensitivity:Ot,scrollPredominantAxis:Mt,scrollByPage:Me.scrollByPage};te.scrollbar=te._register(new rn.d(u.domNode,Qt,te._context.viewLayout.getScrollable())),fe.write(te.scrollbar.getDomNode(),5),te.scrollbarDomNode=Object(bt.b)(te.scrollbar.getDomNode()),te.scrollbarDomNode.setPosition("absolute"),te._setLayout();var Ht=function(Cn,Pn,ni){var hi={};if(Pn){var Di=Cn.scrollTop;Di&&(hi.scrollTop=te._context.viewLayout.getCurrentScrollTop()+Di,Cn.scrollTop=0)}if(ni){var wi=Cn.scrollLeft;wi&&(hi.scrollLeft=te._context.viewLayout.getCurrentScrollLeft()+wi,Cn.scrollLeft=0)}te._context.viewModel.viewLayout.setScrollPosition(hi,1)};return te._register(U.addDisposableListener(g.domNode,"scroll",function(dt){return Ht(g.domNode,!0,!0)})),te._register(U.addDisposableListener(u.domNode,"scroll",function(dt){return Ht(u.domNode,!0,!1)})),te._register(U.addDisposableListener(O.domNode,"scroll",function(dt){return Ht(O.domNode,!0,!1)})),te._register(U.addDisposableListener(te.scrollbarDomNode.domNode,"scroll",function(dt){return Ht(te.scrollbarDomNode.domNode,!0,!1)})),te}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"_setLayout",value:function(){var u=this._context.configuration.options,g=u.get(140);this.scrollbarDomNode.setLeft(g.contentLeft);var O=u.get(70),te=O.side;te==="right"?this.scrollbarDomNode.setWidth(g.contentWidth+g.minimap.minimapWidth):this.scrollbarDomNode.setWidth(g.contentWidth),this.scrollbarDomNode.setHeight(g.height)}},{key:"getOverviewRulerLayoutInfo",value:function(){return this.scrollbar.getOverviewRulerLayoutInfo()}},{key:"getDomNode",value:function(){return this.scrollbarDomNode}},{key:"delegateVerticalScrollbarPointerDown",value:function(u){this.scrollbar.delegateVerticalScrollbarPointerDown(u)}},{key:"delegateScrollFromMouseWheelEvent",value:function(u){this.scrollbar.delegateScrollFromMouseWheelEvent(u)}},{key:"onConfigurationChanged",value:function(u){if(u.hasChanged(99)||u.hasChanged(72)||u.hasChanged(38)){var g=this._context.configuration.options,O=g.get(99),te=g.get(72),Le=g.get(38),Me=g.get(102),at={vertical:O.vertical,horizontal:O.horizontal,verticalScrollbarSize:O.verticalScrollbarSize,horizontalScrollbarSize:O.horizontalScrollbarSize,scrollByPage:O.scrollByPage,handleMouseWheel:O.handleMouseWheel,mouseWheelScrollSensitivity:te,fastScrollSensitivity:Le,scrollPredominantAxis:Me};this.scrollbar.updateOptions(at)}return u.hasChanged(140)&&this._setLayout(),!0}},{key:"onScrollChanged",value:function(u){return!0}},{key:"onThemeChanged",value:function(u){return this.scrollbar.updateClassName("editor-scrollable "+Object(Jn.d)(this._context.theme.type)),!0}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){this.scrollbar.renderNow()}}]),v}(Te),bi=a("hHjc"),_n=Object(L.a)(function ze(Ce,v,m,u,g){Object(Q.a)(this,ze),this._decorationToRenderBrand=void 0,this.startLineNumber=+Ce,this.endLineNumber=+v,this.className=String(m),this.zIndex=u!=null?u:0,this.decorationLane=g!=null?g:1}),li=Object(L.a)(function ze(Ce,v){Object(Q.a)(this,ze),this.className=Ce,this.zIndex=v}),ki=function(){function ze(){Object(Q.a)(this,ze),this.lanes=[]}return Object(L.a)(ze,[{key:"add",value:function(v,m){for(;v>=this.lanes.length;)this.lanes.push([]);this.lanes[v].push(m)}},{key:"getLaneDecorations",value:function(v){return v<this.lanes.length?this.lanes[v]:[]}},{key:"isEmpty",value:function(){var v=Object(E.a)(this.lanes),m;try{for(v.s();!(m=v.n()).done;){var u=m.value;if(u.length>0)return!1}}catch(g){v.e(g)}finally{v.f()}return!0}}]),ze}(),Ki=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(){return Object(Q.a)(this,v),Ce.apply(this,arguments)}return Object(L.a)(v,[{key:"_render",value:function(u,g,O,te){for(var Le=[],Me=u;Me<=g;Me++){var at=Me-u;Le[at]=new ki}if(O.length===0)return Le;O.sort(function(nr,Ni){return nr.className===Ni.className?nr.startLineNumber===Ni.startLineNumber?nr.endLineNumber-Ni.endLineNumber:nr.startLineNumber-Ni.startLineNumber:nr.className<Ni.className?-1:1});for(var Ot=null,Mt=0,Qt=0,Ht=O.length;Qt<Ht;Qt++){var dt=O[Qt],Cn=dt.className,Pn=dt.zIndex,ni=Math.max(dt.startLineNumber,u)-u,hi=Math.min(dt.endLineNumber,g)-u,Di=Math.min(dt.decorationLane,te);Ot===Cn?(ni=Math.max(Mt+1,ni),Mt=Math.max(Mt,hi)):(Ot=Cn,Mt=hi);for(var wi=ni;wi<=Mt;wi++)Le[wi].add(Di,new li(Cn,Pn))}return Le}}]),v}(Qe),Tr=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this),u._context=m;var g=u._context.configuration.options,O=g.get(140);return u._lineHeight=g.get(64),u._glyphMargin=g.get(55),u._glyphMarginLeft=O.glyphMarginLeft,u._glyphMarginWidth=O.glyphMarginWidth,u._glyphMarginDecorationLaneCount=O.glyphMarginDecorationLaneCount,u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(L.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,O=g.get(140);return this._lineHeight=g.get(64),this._glyphMargin=g.get(55),this._glyphMarginLeft=O.glyphMarginLeft,this._glyphMarginWidth=O.glyphMarginWidth,this._glyphMarginDecorationLaneCount=O.glyphMarginDecorationLaneCount,!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_getDecorations",value:function(u){for(var g,O=u.getDecorationsInViewport(),te=[],Le=0,Me=0,at=O.length;Me<at;Me++){var Ot=O[Me],Mt=Ot.options.glyphMarginClassName,Qt=Ot.options.zIndex,Ht=(g=Ot.options.glyphMargin)===null||g===void 0?void 0:g.position;Mt&&(te[Le++]=new _n(Ot.range.startLineNumber,Ot.range.endLineNumber,Mt,Qt,Ht))}return te}},{key:"prepareRender",value:function(u){if(!this._glyphMargin){this._renderResult=null;return}for(var g=u.visibleRange.startLineNumber,O=u.visibleRange.endLineNumber,te=this._getDecorations(u),Le=this._render(g,O,te,this._glyphMarginDecorationLaneCount),Me=this._lineHeight.toString(),at=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount).toString(),Ot='" style="width:'+at+"px;height:"+Me+"px;",Mt=[],Qt=g;Qt<=O;Qt++){var Ht=Qt-g,dt=Le[Ht];if(dt.isEmpty())Mt[Ht]="";else{for(var Cn="",Pn=1;Pn<=this._glyphMarginDecorationLaneCount;Pn+=1){var ni=dt.getLaneDecorations(Pn);if(ni.length!==0){ni.sort(function(Wi,er){return er.zIndex-Wi.zIndex});for(var hi=ni[0],Di=[hi.className],wi=1;wi<ni.length;wi+=1){var nr=ni[wi];if(nr.zIndex!==hi.zIndex)break;Di.push(nr.className)}var Ni=(this._glyphMarginLeft+(Pn-1)*this._lineHeight).toString();Cn+='<div class="cgmr codicon '+Di.join(" ")+Ot+"left:"+Ni+'px;"></div>'}}Mt[Ht]=Cn}}this._renderResult=Mt}},{key:"render",value:function(u,g){if(!this._renderResult)return"";var O=g-u;return O<0||O>=this._renderResult.length?"":this._renderResult[O]}}]),v}(Ki),ir=a("oBTY"),Er=a("C6rC"),va=a("746U"),Sn=a("6apY"),ri=a("1CjY"),Vn=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this),u._context=m,u._primaryPosition=null;var g=u._context.configuration.options,O=g.get(141),te=g.get(48);return u._lineHeight=g.get(64),u._spaceWidth=te.spaceWidth,u._maxIndentLeft=O.wrappingColumn===-1?-1:O.wrappingColumn*te.typicalHalfwidthCharacterWidth,u._bracketPairGuideOptions=g.get(14),u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(L.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,O=g.get(141),te=g.get(48);return this._lineHeight=g.get(64),this._spaceWidth=te.spaceWidth,this._maxIndentLeft=O.wrappingColumn===-1?-1:O.wrappingColumn*te.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=g.get(14),!0}},{key:"onCursorStateChanged",value:function(u){var g,O=u.selections[0],te=O.getPosition();return((g=this._primaryPosition)===null||g===void 0?void 0:g.equals(te))?!1:(this._primaryPosition=te,!0)}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"onLanguageConfigurationChanged",value:function(u){return!0}},{key:"prepareRender",value:function(u){var g,O,te,Le;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}for(var Me=u.visibleRange.startLineNumber,at=u.visibleRange.endLineNumber,Ot=u.scrollWidth,Mt=this._lineHeight,Qt=this._primaryPosition,Ht=this.getGuidesByLine(Me,Math.min(at+1,this._context.viewModel.getLineCount()),Qt),dt=[],Cn=Me;Cn<=at;Cn++){var Pn=Cn-Me,ni=Ht[Pn],hi="",Di=(O=(g=u.visibleRangeForPosition(new Dn.a(Cn,1)))===null||g===void 0?void 0:g.left)!==null&&O!==void 0?O:0,wi=Object(E.a)(ni),nr;try{for(wi.s();!(nr=wi.n()).done;){var Ni=nr.value,Wi=Ni.column===-1?Di+(Ni.visibleColumn-1)*this._spaceWidth:u.visibleRangeForPosition(new Dn.a(Cn,Ni.column)).left;if(Wi>Ot||this._maxIndentLeft>0&&Wi>this._maxIndentLeft)break;var er=Ni.horizontalLine?Ni.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",br=Ni.horizontalLine?((Le=(te=u.visibleRangeForPosition(new Dn.a(Cn,Ni.horizontalLine.endColumn)))===null||te===void 0?void 0:te.left)!==null&&Le!==void 0?Le:Wi+this._spaceWidth)-Wi:this._spaceWidth;hi+='<div class="core-guide '.concat(Ni.className," ").concat(er,'" style="left:').concat(Wi,"px;height:").concat(Mt,"px;width:").concat(br,'px"></div>')}}catch(xr){wi.e(xr)}finally{wi.f()}dt[Pn]=hi}this._renderResult=dt}},{key:"getGuidesByLine",value:function(u,g,O){var te=this,Le=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(u,g,O,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?ri.a.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?ri.a.EnabledForActive:ri.a.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,Me=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(u,g):null,at=0,Ot=0,Mt=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&O){var Qt=this._context.viewModel.getActiveIndentGuide(O.lineNumber,u,g);at=Qt.startLineNumber,Ot=Qt.endLineNumber,Mt=Qt.indent}for(var Ht=this._context.viewModel.model.getOptions(),dt=Ht.indentSize,Cn=[],Pn=u;Pn<=g;Pn++){var ni=new Array;Cn.push(ni);for(var hi=Le?Le[Pn-u]:[],Di=new T.a(hi),wi=Me?Me[Pn-u]:0,nr=function(er){var br=(er-1)*dt+1,xr=(te._bracketPairGuideOptions.highlightActiveIndentation==="always"||hi.length===0)&&at<=Pn&&Pn<=Ot&&er===Mt;ni.push.apply(ni,Object(ir.a)(Di.takeWhile(function(ca){return ca.visibleColumn<br})||[]));var Ur=Di.peek();(!Ur||Ur.visibleColumn!==br||Ur.horizontalLine)&&ni.push(new ri.b(br,-1,xr?"core-guide-indent-active":"core-guide-indent",null,-1,-1))},Ni=1;Ni<=wi;Ni++)nr(Ni);ni.push.apply(ni,Object(ir.a)(Di.takeWhile(function(Wi){return!0})||[]))}return Cn}},{key:"render",value:function(u,g){if(!this._renderResult)return"";var O=g-u;return O<0||O>=this._renderResult.length?"":this._renderResult[O]}}]),v}(Qe);function Ai(ze){if(!(ze&&ze.isTransparent()))return ze}Object(Jn.e)(function(ze,Ce){var v=[{bracketColor:ii.b,guideColor:ii.o,guideColorActive:ii.i},{bracketColor:ii.c,guideColor:ii.p,guideColorActive:ii.j},{bracketColor:ii.d,guideColor:ii.q,guideColorActive:ii.k},{bracketColor:ii.e,guideColor:ii.r,guideColorActive:ii.l},{bracketColor:ii.f,guideColor:ii.s,guideColorActive:ii.m},{bracketColor:ii.g,guideColor:ii.t,guideColorActive:ii.n}],m=new Sn.a,u=v.map(function(te){var Le,Me,at=ze.getColor(te.bracketColor),Ot=ze.getColor(te.guideColor),Mt=ze.getColor(te.guideColorActive),Qt=Ai((Le=Ai(Ot))!==null&&Le!==void 0?Le:at==null?void 0:at.transparent(.3)),Ht=Ai((Me=Ai(Mt))!==null&&Me!==void 0?Me:at);if(!(!Qt||!Ht))return{guideColor:Qt,guideColorActive:Ht}}).filter(va.d);if(u.length>0){for(var g=0;g<30;g++){var O=u[g%u.length];Ce.addRule(".monaco-editor .".concat(m.getInlineClassNameOfLevel(g).replace(/ /g,".")," { --guide-color: ").concat(O.guideColor,"; --guide-color-active: ").concat(O.guideColorActive,"; }"))}Ce.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),Ce.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),Ce.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),Ce.addRule(".monaco-editor .vertical.".concat(m.activeClassName," { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }")),Ce.addRule(".monaco-editor .horizontal-top.".concat(m.activeClassName," { border-top: 1px solid var(--guide-color-active); }")),Ce.addRule(".monaco-editor .horizontal-bottom.".concat(m.activeClassName," { border-bottom: 1px solid var(--guide-color-active); }"))}});var or=a("OKK6"),Zi=a("X+cX"),zi=function(){function ze(Ce,v){Object(Q.a)(this,ze),this._domNode=Ce,this.endNode=v,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}return Object(L.a)(ze,[{key:"didDomLayout",get:function(){return this._didDomLayout}},{key:"readClientRect",value:function(){if(!this._clientRectRead){this._clientRectRead=!0;var v=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=v.left,this._clientRectScale=v.width/this._domNode.offsetWidth}}},{key:"clientRectDeltaLeft",get:function(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}},{key:"clientRectScale",get:function(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}},{key:"markDidDomLayout",value:function(){this._didDomLayout=!0}}]),ze}(),Wr=function(){function ze(){Object(Q.a)(this,ze),this._currentVisibleRange=new An.a(1,1,1,1)}return Object(L.a)(ze,[{key:"getCurrentVisibleRange",value:function(){return this._currentVisibleRange}},{key:"setCurrentVisibleRange",value:function(v){this._currentVisibleRange=v}}]),ze}(),Ra=Object(L.a)(function ze(Ce,v,m,u,g,O,te){Object(Q.a)(this,ze),this.minimalReveal=Ce,this.lineNumber=v,this.startColumn=m,this.endColumn=u,this.startScrollTop=g,this.stopScrollTop=O,this.scrollType=te,this.type="range",this.minLineNumber=v,this.maxLineNumber=v}),Nr=Object(L.a)(function ze(Ce,v,m,u,g){Object(Q.a)(this,ze),this.minimalReveal=Ce,this.selections=v,this.startScrollTop=m,this.stopScrollTop=u,this.scrollType=g,this.type="selections";for(var O=v[0].startLineNumber,te=v[0].endLineNumber,Le=1,Me=v.length;Le<Me;Le++){var at=v[Le];O=Math.min(O,at.startLineNumber),te=Math.max(te,at.endLineNumber)}this.minLineNumber=O,this.maxLineNumber=te}),xa=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u){var g;Object(Q.a)(this,v),g=Ce.call(this,m),g._linesContent=u,g._textRangeRestingSpot=document.createElement("div"),g._visibleLines=new Yi(Object(ve.a)(g)),g.domNode=g._visibleLines.domNode;var O=g._context.configuration,te=g._context.configuration.options,Le=te.get(48),Me=te.get(141);return g._lineHeight=te.get(64),g._typicalHalfwidthCharacterWidth=Le.typicalHalfwidthCharacterWidth,g._isViewportWrapping=Me.isViewportWrapping,g._revealHorizontalRightPadding=te.get(96),g._cursorSurroundingLines=te.get(27),g._cursorSurroundingLinesStyle=te.get(28),g._canUseLayerHinting=!te.get(30),g._viewLineOptions=new Jt(O,g._context.theme.type),fe.write(g.domNode,7),g.domNode.setClassName("view-lines ".concat(Gt.a)),Object(St.a)(g.domNode,Le),g._maxLineWidth=0,g._asyncUpdateLineWidths=new Zi.g(function(){g._updateLineWidthsSlow()},200),g._asyncCheckMonospaceFontAssumptions=new Zi.g(function(){g._checkMonospaceFontAssumptions()},2e3),g._lastRenderedData=new Wr,g._horizontalRevealRequest=null,g._stickyScrollEnabled=te.get(111).enabled,g._maxNumberStickyLines=te.get(111).maxLineCount,g}return Object(L.a)(v,[{key:"dispose",value:function(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"getDomNode",value:function(){return this.domNode}},{key:"createVisibleLine",value:function(){return new qt(this._viewLineOptions)}},{key:"onConfigurationChanged",value:function(u){this._visibleLines.onConfigurationChanged(u),u.hasChanged(141)&&(this._maxLineWidth=0);var g=this._context.configuration.options,O=g.get(48),te=g.get(141);return this._lineHeight=g.get(64),this._typicalHalfwidthCharacterWidth=O.typicalHalfwidthCharacterWidth,this._isViewportWrapping=te.isViewportWrapping,this._revealHorizontalRightPadding=g.get(96),this._cursorSurroundingLines=g.get(27),this._cursorSurroundingLinesStyle=g.get(28),this._canUseLayerHinting=!g.get(30),this._stickyScrollEnabled=g.get(111).enabled,this._maxNumberStickyLines=g.get(111).maxLineCount,Object(St.a)(this.domNode,O),this._onOptionsMaybeChanged(),u.hasChanged(140)&&(this._maxLineWidth=0),!0}},{key:"_onOptionsMaybeChanged",value:function(){var u=this._context.configuration,g=new Jt(u,this._context.theme.type);if(!this._viewLineOptions.equals(g)){this._viewLineOptions=g;for(var O=this._visibleLines.getStartLineNumber(),te=this._visibleLines.getEndLineNumber(),Le=O;Le<=te;Le++){var Me=this._visibleLines.getVisibleLine(Le);Me.onOptionsChanged(this._viewLineOptions)}return!0}return!1}},{key:"onCursorStateChanged",value:function(u){for(var g=this._visibleLines.getStartLineNumber(),O=this._visibleLines.getEndLineNumber(),te=!1,Le=g;Le<=O;Le++)te=this._visibleLines.getVisibleLine(Le).onSelectionChanged()||te;return te}},{key:"onDecorationsChanged",value:function(u){for(var g=this._visibleLines.getStartLineNumber(),O=this._visibleLines.getEndLineNumber(),te=g;te<=O;te++)this._visibleLines.getVisibleLine(te).onDecorationsChanged();return!0}},{key:"onFlushed",value:function(u){var g=this._visibleLines.onFlushed(u);return this._maxLineWidth=0,g}},{key:"onLinesChanged",value:function(u){return this._visibleLines.onLinesChanged(u)}},{key:"onLinesDeleted",value:function(u){return this._visibleLines.onLinesDeleted(u)}},{key:"onLinesInserted",value:function(u){return this._visibleLines.onLinesInserted(u)}},{key:"onRevealRangeRequest",value:function(u){var g=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),u.source,u.minimalReveal,u.range,u.selections,u.verticalType);if(g===-1)return!1;var O=this._context.viewLayout.validateScrollPosition({scrollTop:g});u.revealHorizontal?u.range&&u.range.startLineNumber!==u.range.endLineNumber?O={scrollTop:O.scrollTop,scrollLeft:0}:u.range?this._horizontalRevealRequest=new Ra(u.minimalReveal,u.range.startLineNumber,u.range.startColumn,u.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),O.scrollTop,u.scrollType):u.selections&&u.selections.length>0&&(this._horizontalRevealRequest=new Nr(u.minimalReveal,u.selections,this._context.viewLayout.getCurrentScrollTop(),O.scrollTop,u.scrollType)):this._horizontalRevealRequest=null;var te=Math.abs(this._context.viewLayout.getCurrentScrollTop()-O.scrollTop),Le=te<=this._lineHeight?1:u.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(O,Le),!0}},{key:"onScrollChanged",value:function(u){if(this._horizontalRevealRequest&&u.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&u.scrollTopChanged){var g=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),O=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(u.scrollTop<g||u.scrollTop>O)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(u.scrollWidth),this._visibleLines.onScrollChanged(u)||!0}},{key:"onTokensChanged",value:function(u){return this._visibleLines.onTokensChanged(u)}},{key:"onZonesChanged",value:function(u){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(u)}},{key:"onThemeChanged",value:function(u){return this._onOptionsMaybeChanged()}},{key:"getPositionFromDOMInfo",value:function(u,g){var O=this._getViewLineDomNode(u);if(O===null)return null;var te=this._getLineNumberFor(O);if(te===-1||te<1||te>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(te)===1)return new Dn.a(te,1);var Le=this._visibleLines.getStartLineNumber(),Me=this._visibleLines.getEndLineNumber();if(te<Le||te>Me)return null;var at=this._visibleLines.getVisibleLine(te).getColumnOfNodeOffset(te,u,g),Ot=this._context.viewModel.getLineMinColumn(te);return at<Ot&&(at=Ot),new Dn.a(te,at)}},{key:"_getViewLineDomNode",value:function(u){for(;u&&u.nodeType===1;){if(u.className===qt.CLASS_NAME)return u;u=u.parentElement}return null}},{key:"_getLineNumberFor",value:function(u){for(var g=this._visibleLines.getStartLineNumber(),O=this._visibleLines.getEndLineNumber(),te=g;te<=O;te++){var Le=this._visibleLines.getVisibleLine(te);if(u===Le.getDomNode())return te}return-1}},{key:"getLineWidth",value:function(u){var g=this._visibleLines.getStartLineNumber(),O=this._visibleLines.getEndLineNumber();if(u<g||u>O)return-1;var te=new zi(this.domNode.domNode,this._textRangeRestingSpot),Le=this._visibleLines.getVisibleLine(u).getWidth(te);return this._updateLineWidthsSlowIfDomDidLayout(te),Le}},{key:"linesVisibleRangesForRange",value:function(u,g){if(this.shouldRender())return null;var O=u.endLineNumber,te=An.a.intersectRanges(u,this._lastRenderedData.getCurrentVisibleRange());if(!te)return null;var Le=[],Me=0,at=new zi(this.domNode.domNode,this._textRangeRestingSpot),Ot=0;g&&(Ot=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Dn.a(te.startLineNumber,1)).lineNumber);for(var Mt=this._visibleLines.getStartLineNumber(),Qt=this._visibleLines.getEndLineNumber(),Ht=te.startLineNumber;Ht<=te.endLineNumber;Ht++)if(!(Ht<Mt||Ht>Qt)){var dt=Ht===te.startLineNumber?te.startColumn:1,Cn=Ht===te.endLineNumber?te.endColumn:this._context.viewModel.getLineMaxColumn(Ht),Pn=this._visibleLines.getVisibleLine(Ht).getVisibleRangesForRange(Ht,dt,Cn,at);if(!!Pn){if(g&&Ht<O){var ni=Ot;Ot=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Dn.a(Ht+1,1)).lineNumber,ni!==Ot&&(Pn.ranges[Pn.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}Le[Me++]=new Ge(Pn.outsideRenderedLine,Ht,$e.from(Pn.ranges))}}return this._updateLineWidthsSlowIfDomDidLayout(at),Me===0?null:Le}},{key:"_visibleRangesForLineRange",value:function(u,g,O){if(this.shouldRender()||u<this._visibleLines.getStartLineNumber()||u>this._visibleLines.getEndLineNumber())return null;var te=new zi(this.domNode.domNode,this._textRangeRestingSpot),Le=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,g,O,te);return this._updateLineWidthsSlowIfDomDidLayout(te),Le}},{key:"visibleRangeForPosition",value:function(u){var g=this._visibleRangesForLineRange(u.lineNumber,u.column,u.column);return g?new it(g.outsideRenderedLine,g.ranges[0].left):null}},{key:"_updateLineWidthsFast",value:function(){return this._updateLineWidths(!0)}},{key:"_updateLineWidthsSlow",value:function(){this._updateLineWidths(!1)}},{key:"_updateLineWidthsSlowIfDomDidLayout",value:function(u){!u.didDomLayout||this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow())}},{key:"_updateLineWidths",value:function(u){for(var g=this._visibleLines.getStartLineNumber(),O=this._visibleLines.getEndLineNumber(),te=1,Le=!0,Me=g;Me<=O;Me++){var at=this._visibleLines.getVisibleLine(Me);if(u&&!at.getWidthIsFast()){Le=!1;continue}te=Math.max(te,at.getWidth(null))}return Le&&g===1&&O===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(te),Le}},{key:"_checkMonospaceFontAssumptions",value:function(){for(var u=-1,g=-1,O=this._visibleLines.getStartLineNumber(),te=this._visibleLines.getEndLineNumber(),Le=O;Le<=te;Le++){var Me=this._visibleLines.getVisibleLine(Le);if(Me.needsMonospaceFontCheck()){var at=Me.getWidth(null);at>g&&(g=at,u=Le)}}if(u!==-1&&!this._visibleLines.getVisibleLine(u).monospaceAssumptionsAreValid())for(var Ot=O;Ot<=te;Ot++){var Mt=this._visibleLines.getVisibleLine(Ot);Mt.onMonospaceAssumptionsInvalidated()}}},{key:"prepareRender",value:function(){throw new Error("Not supported")}},{key:"render",value:function(){throw new Error("Not supported")}},{key:"renderText",value:function(u){if(this._visibleLines.renderLines(u),this._lastRenderedData.setCurrentVisibleRange(u.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){var g=this._horizontalRevealRequest;if(u.startLineNumber<=g.minLineNumber&&g.maxLineNumber<=u.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var O=this._computeScrollLeftToReveal(g);O&&(this._isViewportWrapping||this._ensureMaxLineWidth(O.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:O.scrollLeft},g.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),A.g&&!this._asyncCheckMonospaceFontAssumptions.isScheduled())for(var te=this._visibleLines.getStartLineNumber(),Le=this._visibleLines.getEndLineNumber(),Me=te;Me<=Le;Me++){var at=this._visibleLines.getVisibleLine(Me);if(at.needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");var Ot=this._context.viewLayout.getCurrentScrollTop()-u.bigNumbersDelta;this._linesContent.setTop(-Ot),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}},{key:"_ensureMaxLineWidth",value:function(u){var g=Math.ceil(u);this._maxLineWidth<g&&(this._maxLineWidth=g,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}},{key:"_computeScrollTopToRevealRange",value:function(u,g,O,te,Le,Me){var at=u.top,Ot=u.height,Mt=at+Ot,Qt,Ht,dt;if(Le&&Le.length>0){for(var Cn=Le[0].startLineNumber,Pn=Le[0].endLineNumber,ni=1,hi=Le.length;ni<hi;ni++){var Di=Le[ni];Cn=Math.min(Cn,Di.startLineNumber),Pn=Math.max(Pn,Di.endLineNumber)}Qt=!1,Ht=this._context.viewLayout.getVerticalOffsetForLineNumber(Cn),dt=this._context.viewLayout.getVerticalOffsetForLineNumber(Pn)+this._lineHeight}else if(te)Qt=!0,Ht=this._context.viewLayout.getVerticalOffsetForLineNumber(te.startLineNumber),dt=this._context.viewLayout.getVerticalOffsetForLineNumber(te.endLineNumber)+this._lineHeight;else return-1;var wi=(g==="mouse"||O)&&this._cursorSurroundingLinesStyle==="default",nr=0,Ni=0;if(wi)O||(nr=this._lineHeight);else{var Wi=Math.min(Ot/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?nr=Math.max(Wi,this._maxNumberStickyLines)*this._lineHeight:nr=Wi*this._lineHeight,Ni=Math.max(0,Wi-1)*this._lineHeight}O||(Me===0||Me===4)&&(Ni+=this._lineHeight),Ht-=nr,dt+=Ni;var er;if(dt-Ht>Ot){if(!Qt)return-1;er=Ht}else if(Me===5||Me===6)if(Me===6&&at<=Ht&&dt<=Mt)er=at;else{var br=Math.max(5*this._lineHeight,Ot*.2),xr=Ht-br,Ur=dt-Ot;er=Math.max(Ur,xr)}else if(Me===1||Me===2)if(Me===2&&at<=Ht&&dt<=Mt)er=at;else{var ca=(Ht+dt)/2;er=Math.max(0,ca-Ot/2)}else er=this._computeMinimumScrolling(at,Mt,Ht,dt,Me===3,Me===4);return er}},{key:"_computeScrollLeftToReveal",value:function(u){var g=this._context.viewLayout.getCurrentViewport(),O=this._context.configuration.options.get(140),te=g.left,Le=te+g.width-O.verticalScrollbarWidth,Me=1073741824,at=0;if(u.type==="range"){var Ot=this._visibleRangesForLineRange(u.lineNumber,u.startColumn,u.endColumn);if(!Ot)return null;var Mt=Object(E.a)(Ot.ranges),Qt;try{for(Mt.s();!(Qt=Mt.n()).done;){var Ht=Qt.value;Me=Math.min(Me,Math.round(Ht.left)),at=Math.max(at,Math.round(Ht.left+Ht.width))}}catch(Ni){Mt.e(Ni)}finally{Mt.f()}}else{var dt=Object(E.a)(u.selections),Cn;try{for(dt.s();!(Cn=dt.n()).done;){var Pn=Cn.value;if(Pn.startLineNumber!==Pn.endLineNumber)return null;var ni=this._visibleRangesForLineRange(Pn.startLineNumber,Pn.startColumn,Pn.endColumn);if(!ni)return null;var hi=Object(E.a)(ni.ranges),Di;try{for(hi.s();!(Di=hi.n()).done;){var wi=Di.value;Me=Math.min(Me,Math.round(wi.left)),at=Math.max(at,Math.round(wi.left+wi.width))}}catch(Ni){hi.e(Ni)}finally{hi.f()}}}catch(Ni){dt.e(Ni)}finally{dt.f()}}if(u.minimalReveal||(Me=Math.max(0,Me-v.HORIZONTAL_EXTRA_PX),at+=this._revealHorizontalRightPadding),u.type==="selections"&&at-Me>g.width)return null;var nr=this._computeMinimumScrolling(te,Le,Me,at);return{scrollLeft:nr,maxHorizontalOffset:at}}},{key:"_computeMinimumScrolling",value:function(u,g,O,te,Le,Me){u=u|0,g=g|0,O=O|0,te=te|0,Le=!!Le,Me=!!Me;var at=g-u,Ot=te-O;if(Ot<at){if(Le)return O;if(Me)return Math.max(0,te-at);if(O<u)return O;if(te>g)return Math.max(0,te-at)}else return O;return u}}]),v}(Te);xa.HORIZONTAL_EXTRA_PX=30;var Qa=a("J+ZK"),ia=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this),u._context=m;var g=u._context.configuration.options,O=g.get(140);return u._decorationsLeft=O.decorationsLeft,u._decorationsWidth=O.decorationsWidth,u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(L.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,O=g.get(140);return this._decorationsLeft=O.decorationsLeft,this._decorationsWidth=O.decorationsWidth,!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_getDecorations",value:function(u){for(var g=u.getDecorationsInViewport(),O=[],te=0,Le=0,Me=g.length;Le<Me;Le++){var at=g[Le],Ot=at.options.linesDecorationsClassName,Mt=at.options.zIndex;Ot&&(O[te++]=new _n(at.range.startLineNumber,at.range.endLineNumber,Ot,Mt));var Qt=at.options.firstLineDecorationClassName;Qt&&(O[te++]=new _n(at.range.startLineNumber,at.range.startLineNumber,Qt,Mt))}return O}},{key:"prepareRender",value:function(u){for(var g=u.visibleRange.startLineNumber,O=u.visibleRange.endLineNumber,te=this._render(g,O,this._getDecorations(u),1),Le=this._decorationsLeft.toString(),Me=this._decorationsWidth.toString(),at='" style="left:'+Le+"px;width:"+Me+'px;"></div>',Ot=[],Mt=g;Mt<=O;Mt++){var Qt=Mt-g,Ht=te[Qt].getLaneDecorations(1),dt="",Cn=Object(E.a)(Ht),Pn;try{for(Cn.s();!(Pn=Cn.n()).done;){var ni=Pn.value;dt+='<div class="cldr '+ni.className+at}}catch(hi){Cn.e(hi)}finally{Cn.f()}Ot[Qt]=dt}this._renderResult=Ot}},{key:"render",value:function(u,g){return this._renderResult?this._renderResult[g-u]:""}}]),v}(Ki),io=a("XXBq"),ro=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;return Object(Q.a)(this,v),u=Ce.call(this),u._context=m,u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(L.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){return!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_getDecorations",value:function(u){for(var g=u.getDecorationsInViewport(),O=[],te=0,Le=0,Me=g.length;Le<Me;Le++){var at=g[Le],Ot=at.options.marginClassName,Mt=at.options.zIndex;Ot&&(O[te++]=new _n(at.range.startLineNumber,at.range.endLineNumber,Ot,Mt))}return O}},{key:"prepareRender",value:function(u){for(var g=u.visibleRange.startLineNumber,O=u.visibleRange.endLineNumber,te=this._render(g,O,this._getDecorations(u),1),Le=[],Me=g;Me<=O;Me++){var at=Me-g,Ot=te[at].getLaneDecorations(1),Mt="",Qt=Object(E.a)(Ot),Ht;try{for(Qt.s();!(Ht=Qt.n()).done;){var dt=Ht.value;Mt+='<div class="cmdr '+dt.className+'" style=""></div>'}}catch(Cn){Qt.e(Cn)}finally{Qt.f()}Le[at]=Mt}this._renderResult=Le}},{key:"render",value:function(u,g){return this._renderResult?this._renderResult[g-u]:""}}]),v}(Ki),vo=a("8gvo"),Zo=a("a4d6"),Hr=function(){function ze(Ce,v,m,u){Object(Q.a)(this,ze),this._rgba8Brand=void 0,this.r=ze._clamp(Ce),this.g=ze._clamp(v),this.b=ze._clamp(m),this.a=ze._clamp(u)}return Object(L.a)(ze,[{key:"equals",value:function(v){return this.r===v.r&&this.g===v.g&&this.b===v.b&&this.a===v.a}}],[{key:"_clamp",value:function(v){return v<0?0:v>255?255:v|0}}]),ze}();Hr.Empty=new Hr(0,0,0,0);var ao=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(){var m;return Object(Q.a)(this,v),m=Ce.call(this),m._onDidChange=new j.b,m.onDidChange=m._onDidChange.event,m._updateColorMap(),m._register(Et.m.onDidChange(function(u){u.changedColorMap&&m._updateColorMap()})),m}return Object(L.a)(v,[{key:"_updateColorMap",value:function(){var u=Et.m.getColorMap();if(!u){this._colors=[Hr.Empty],this._backgroundIsLight=!0;return}this._colors=[Hr.Empty];for(var g=1;g<u.length;g++){var O=u[g].rgba;this._colors[g]=new Hr(O.r,O.g,O.b,Math.round(O.a*255))}var te=u[2].getRelativeLuminance();this._backgroundIsLight=te>=.5,this._onDidChange.fire(void 0)}},{key:"getColor",value:function(u){return(u<1||u>=this._colors.length)&&(u=2),this._colors[u]}},{key:"backgroundIsLight",value:function(){return this._backgroundIsLight}}],[{key:"getInstance",value:function(){return this._INSTANCE||(this._INSTANCE=Object(C.k)(new v)),this._INSTANCE}}]),v}(C.a);ao._INSTANCE=null;var ka=a("YNuV"),ua=a("MD5Z"),La=function(){for(var ze=[],Ce=32;Ce<=126;Ce++)ze.push(Ce);return ze.push(65533),ze}(),Mo=function(Ce,v){return Ce-=32,Ce<0||Ce>96?v<=2?(Ce+96)%96:96-1:Ce},ts=a("CZ1j"),At=function(){function ze(Ce,v){Object(Q.a)(this,ze),this.scale=v,this._minimapCharRendererBrand=void 0,this.charDataNormal=ze.soften(Ce,12/15),this.charDataLight=ze.soften(Ce,50/60)}return Object(L.a)(ze,[{key:"renderChar",value:function(v,m,u,g,O,te,Le,Me,at,Ot,Mt){var Qt=1*this.scale,Ht=2*this.scale,dt=Mt?1:Ht;if(m+Qt>v.width||u+dt>v.height){console.warn("bad render request outside image data");return}for(var Cn=Ot?this.charDataLight:this.charDataNormal,Pn=Mo(g,at),ni=v.width*4,hi=Le.r,Di=Le.g,wi=Le.b,nr=O.r-hi,Ni=O.g-Di,Wi=O.b-wi,er=Math.max(te,Me),br=v.data,xr=Pn*Qt*Ht,Ur=u*ni+m*4,ca=0;ca<dt;ca++){for(var Ca=Ur,ra=0;ra<Qt;ra++){var Ha=Cn[xr++]/255*(te/255);br[Ca++]=hi+nr*Ha,br[Ca++]=Di+Ni*Ha,br[Ca++]=wi+Wi*Ha,br[Ca++]=er}Ur+=ni}}},{key:"blockRenderChar",value:function(v,m,u,g,O,te,Le,Me){var at=1*this.scale,Ot=2*this.scale,Mt=Me?1:Ot;if(m+at>v.width||u+Mt>v.height){console.warn("bad render request outside image data");return}for(var Qt=v.width*4,Ht=.5*(O/255),dt=te.r,Cn=te.g,Pn=te.b,ni=g.r-dt,hi=g.g-Cn,Di=g.b-Pn,wi=dt+ni*Ht,nr=Cn+hi*Ht,Ni=Pn+Di*Ht,Wi=Math.max(O,Le),er=v.data,br=u*Qt+m*4,xr=0;xr<Mt;xr++){for(var Ur=br,ca=0;ca<at;ca++)er[Ur++]=wi,er[Ur++]=nr,er[Ur++]=Ni,er[Ur++]=Wi;br+=Qt}}}],[{key:"soften",value:function(v,m){for(var u=new Uint8ClampedArray(v.length),g=0,O=v.length;g<O;g++)u[g]=Object(ts.b)(v[g]*m);return u}}]),ze}(),nt=a("C/vA"),_e={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},q=function(Ce){for(var v=new Uint8ClampedArray(Ce.length/2),m=0;m<Ce.length;m+=2)v[m>>1]=_e[Ce[m]]<<4|_e[Ce[m+1]]&15;return v},M={1:Object(nt.a)(function(){return q("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")}),2:Object(nt.a)(function(){return q("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")})},D=function(){function ze(){Object(Q.a)(this,ze)}return Object(L.a)(ze,null,[{key:"create",value:function(v,m){if(this.lastCreated&&v===this.lastCreated.scale&&m===this.lastFontFamily)return this.lastCreated;var u;return M[v]?u=new At(M[v](),v):u=ze.createFromSampleData(ze.createSampleData(m).data,v),this.lastFontFamily=m,this.lastCreated=u,u}},{key:"createSampleData",value:function(v){var m=document.createElement("canvas"),u=m.getContext("2d");m.style.height="".concat(16,"px"),m.height=16,m.width=96*10,m.style.width=96*10+"px",u.fillStyle="#ffffff",u.font="bold ".concat(16,"px ",v),u.textBaseline="middle";var g=0,O=Object(E.a)(La),te;try{for(O.s();!(te=O.n()).done;){var Le=te.value;u.fillText(String.fromCharCode(Le),g,16/2),g+=10}}catch(Me){O.e(Me)}finally{O.f()}return u.getImageData(0,0,96*10,16)}},{key:"createFromSampleData",value:function(v,m){var u=16*10*4*96;if(v.length!==u)throw new Error("Unexpected source in MinimapCharRenderer");var g=ze._downsample(v,m);return new At(g,m)}},{key:"_downsampleChar",value:function(v,m,u,g,O){for(var te=1*O,Le=2*O,Me=g,at=0,Ot=0;Ot<Le;Ot++)for(var Mt=Ot/Le*16,Qt=(Ot+1)/Le*16,Ht=0;Ht<te;Ht++){for(var dt=Ht/te*10,Cn=(Ht+1)/te*10,Pn=0,ni=0,hi=Mt;hi<Qt;hi++)for(var Di=m+Math.floor(hi)*3840,wi=1-(hi-Math.floor(hi)),nr=dt;nr<Cn;nr++){var Ni=1-(nr-Math.floor(nr)),Wi=Di+Math.floor(nr)*4,er=Ni*wi;ni+=er,Pn+=v[Wi]*v[Wi+3]/255*er}var br=Pn/ni;at=Math.max(at,br),u[Me++]=Object(ts.b)(br)}return at}},{key:"_downsample",value:function(v,m){for(var u=2*m*1*m,g=u*96,O=new Uint8ClampedArray(g),te=0,Le=0,Me=0,at=0;at<96;at++)Me=Math.max(Me,this._downsampleChar(v,Le,O,te,m)),te+=u,Le+=10*4;if(Me>0)for(var Ot=255/Me,Mt=0;Mt<g;Mt++)O[Mt]*=Ot;return O}}]),ze}(),G=a("M1Kb"),oe=140,xe=2,Ve=function(){function ze(Ce,v,m){var u=this;Object(Q.a)(this,ze);var g=Ce.options,O=g.get(138),te=g.get(140),Le=te.minimap,Me=g.get(48),at=g.get(70);this.renderMinimap=Le.renderMinimap,this.size=at.size,this.minimapHeightIsEditorHeight=Le.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=g.get(101),this.paddingTop=g.get(81).top,this.paddingBottom=g.get(81).bottom,this.showSlider=at.showSlider,this.autohide=at.autohide,this.pixelRatio=O,this.typicalHalfwidthCharacterWidth=Me.typicalHalfwidthCharacterWidth,this.lineHeight=g.get(64),this.minimapLeft=Le.minimapLeft,this.minimapWidth=Le.minimapWidth,this.minimapHeight=te.height,this.canvasInnerWidth=Le.minimapCanvasInnerWidth,this.canvasInnerHeight=Le.minimapCanvasInnerHeight,this.canvasOuterWidth=Le.minimapCanvasOuterWidth,this.canvasOuterHeight=Le.minimapCanvasOuterHeight,this.isSampling=Le.minimapIsSampling,this.editorHeight=te.height,this.fontScale=Le.minimapScale,this.minimapLineHeight=Le.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=Object(nt.a)(function(){return D.create(u.fontScale,Me.fontFamily)}),this.defaultBackgroundColor=m.getColor(2),this.backgroundColor=ze._getMinimapBackground(v,this.defaultBackgroundColor),this.foregroundAlpha=ze._getMinimapForegroundOpacity(v)}return Object(L.a)(ze,[{key:"equals",value:function(v){return this.renderMinimap===v.renderMinimap&&this.size===v.size&&this.minimapHeightIsEditorHeight===v.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===v.scrollBeyondLastLine&&this.paddingTop===v.paddingTop&&this.paddingBottom===v.paddingBottom&&this.showSlider===v.showSlider&&this.autohide===v.autohide&&this.pixelRatio===v.pixelRatio&&this.typicalHalfwidthCharacterWidth===v.typicalHalfwidthCharacterWidth&&this.lineHeight===v.lineHeight&&this.minimapLeft===v.minimapLeft&&this.minimapWidth===v.minimapWidth&&this.minimapHeight===v.minimapHeight&&this.canvasInnerWidth===v.canvasInnerWidth&&this.canvasInnerHeight===v.canvasInnerHeight&&this.canvasOuterWidth===v.canvasOuterWidth&&this.canvasOuterHeight===v.canvasOuterHeight&&this.isSampling===v.isSampling&&this.editorHeight===v.editorHeight&&this.fontScale===v.fontScale&&this.minimapLineHeight===v.minimapLineHeight&&this.minimapCharWidth===v.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(v.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(v.backgroundColor)&&this.foregroundAlpha===v.foregroundAlpha}}],[{key:"_getMinimapBackground",value:function(v,m){var u=v.getColor(ua.jc);return u?new Hr(u.rgba.r,u.rgba.g,u.rgba.b,Math.round(255*u.rgba.a)):m}},{key:"_getMinimapForegroundOpacity",value:function(v){var m=v.getColor(ua.mc);return m?Hr._clamp(Math.round(255*m.rgba.a)):255}}]),ze}(),lt=function(){function ze(Ce,v,m,u,g,O,te,Le,Me){Object(Q.a)(this,ze),this.scrollTop=Ce,this.scrollHeight=v,this.sliderNeeded=m,this._computedSliderRatio=u,this.sliderTop=g,this.sliderHeight=O,this.topPaddingLineCount=te,this.startLineNumber=Le,this.endLineNumber=Me}return Object(L.a)(ze,[{key:"getDesiredScrollTopFromDelta",value:function(v){return Math.round(this.scrollTop+v/this._computedSliderRatio)}},{key:"getDesiredScrollTopFromTouchLocation",value:function(v){return Math.round((v-this.sliderHeight/2)/this._computedSliderRatio)}},{key:"intersectWithViewport",value:function(v){var m=Math.max(this.startLineNumber,v.startLineNumber),u=Math.min(this.endLineNumber,v.endLineNumber);return m>u?null:[m,u]}},{key:"getYForLineNumber",value:function(v,m){return+(v-this.startLineNumber+this.topPaddingLineCount)*m}}],[{key:"create",value:function(v,m,u,g,O,te,Le,Me,at,Ot,Mt){var Qt=v.pixelRatio,Ht=v.minimapLineHeight,dt=Math.floor(v.canvasInnerHeight/Ht),Cn=v.lineHeight;if(v.minimapHeightIsEditorHeight){var Pn=Me*v.lineHeight+v.paddingTop+v.paddingBottom;v.scrollBeyondLastLine&&(Pn+=Math.max(0,O-v.lineHeight-v.paddingBottom));var ni=Math.max(1,Math.floor(O*O/Pn)),hi=Math.max(0,v.minimapHeight-ni),Di=hi/(Ot-O),wi=at*Di,nr=hi>0,Ni=Math.floor(v.canvasInnerHeight/v.minimapLineHeight),Wi=Math.floor(v.paddingTop/v.lineHeight);return new ze(at,Ot,nr,Di,wi,ni,Wi,1,Math.min(Le,Ni))}var er;if(te&&u!==Le){var br=u-m+1;er=Math.floor(br*Ht/Qt)}else{var xr=O/Cn;er=Math.floor(xr*Ht/Qt)}var Ur=Math.floor(v.paddingTop/Cn),ca=Math.floor(v.paddingBottom/Cn);if(v.scrollBeyondLastLine){var Ca=O/Cn;ca=Math.max(ca,Ca-1)}var ra;if(ca>0){var Ha=O/Cn;ra=(Ur+Le+ca-Ha-1)*Ht/Qt}else ra=Math.max(0,(Ur+Le)*Ht/Qt-er);ra=Math.min(v.minimapHeight-er,ra);var Ja=ra/(Ot-O),So=at*Ja;if(dt>=Ur+Le+ca){var Ba=ra>0;return new ze(at,Ot,Ba,Ja,So,er,Ur,1,Le)}else{var Wo;m>1?Wo=m+Ur:Wo=Math.max(1,at/Cn);var Ka,Wa=Math.max(1,Math.floor(Wo-So*Qt/Ht));Wa<Ur?(Ka=Ur-Wa+1,Wa=1):(Ka=0,Wa=Math.max(1,Wa-Ur)),Mt&&Mt.scrollHeight===Ot&&(Mt.scrollTop>at&&(Wa=Math.min(Wa,Mt.startLineNumber),Ka=Math.max(Ka,Mt.topPaddingLineCount)),Mt.scrollTop<at&&(Wa=Math.max(Wa,Mt.startLineNumber),Ka=Math.min(Ka,Mt.topPaddingLineCount)));var No=Math.min(Le,Wa-Ka+dt-1),To=(at-g)/Cn,ys;return at>v.paddingTop?ys=(m-Wa+Ka+To)*Ht/Qt:ys=at/v.paddingTop*(Ka+To)*Ht/Qt,new ze(at,Ot,!0,Ja,ys,er,Ka,Wa,No)}}}]),ze}(),pt=function(){function ze(Ce){Object(Q.a)(this,ze),this.dy=Ce}return Object(L.a)(ze,[{key:"onContentChanged",value:function(){this.dy=-1}},{key:"onTokensChanged",value:function(){this.dy=-1}}]),ze}();pt.INVALID=new pt(-1);var xt=function(){function ze(Ce,v,m){Object(Q.a)(this,ze),this.renderedLayout=Ce,this._imageData=v,this._renderedLines=new Oi(function(){return pt.INVALID}),this._renderedLines._set(Ce.startLineNumber,m)}return Object(L.a)(ze,[{key:"linesEquals",value:function(v){if(!this.scrollEquals(v))return!1;for(var m=this._renderedLines._get(),u=m.lines,g=0,O=u.length;g<O;g++)if(u[g].dy===-1)return!1;return!0}},{key:"scrollEquals",value:function(v){return this.renderedLayout.startLineNumber===v.startLineNumber&&this.renderedLayout.endLineNumber===v.endLineNumber}},{key:"_get",value:function(){var v=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:v.rendLineNumberStart,lines:v.lines}}},{key:"onLinesChanged",value:function(v,m){return this._renderedLines.onLinesChanged(v,m)}},{key:"onLinesDeleted",value:function(v,m){this._renderedLines.onLinesDeleted(v,m)}},{key:"onLinesInserted",value:function(v,m){this._renderedLines.onLinesInserted(v,m)}},{key:"onTokensChanged",value:function(v){return this._renderedLines.onTokensChanged(v)}}]),ze}(),sn=function(){function ze(Ce,v,m,u){Object(Q.a)(this,ze),this._backgroundFillData=ze._createBackgroundFillData(v,m,u),this._buffers=[Ce.createImageData(v,m),Ce.createImageData(v,m)],this._lastUsedBuffer=0}return Object(L.a)(ze,[{key:"getBuffer",value:function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var v=this._buffers[this._lastUsedBuffer];return v.data.set(this._backgroundFillData),v}}],[{key:"_createBackgroundFillData",value:function(v,m,u){for(var g=u.r,O=u.g,te=u.b,Le=u.a,Me=new Uint8ClampedArray(v*m*4),at=0,Ot=0;Ot<m;Ot++)for(var Mt=0;Mt<v;Mt++)Me[at]=g,Me[at+1]=O,Me[at+2]=te,Me[at+3]=Le,at+=4;return Me}}]),ze}(),ln=function(){function ze(Ce,v){Object(Q.a)(this,ze),this.samplingRatio=Ce,this.minimapLines=v}return Object(L.a)(ze,[{key:"modelLineToMinimapLine",value:function(v){return Math.min(this.minimapLines.length,Math.max(1,Math.round(v/this.samplingRatio)))}},{key:"modelLineRangeToMinimapLineRange",value:function(v,m){for(var u=this.modelLineToMinimapLine(v)-1;u>0&&this.minimapLines[u-1]>=v;)u--;for(var g=this.modelLineToMinimapLine(m)-1;g+1<this.minimapLines.length&&this.minimapLines[g+1]<=m;)g++;if(u===g){var O=this.minimapLines[u];if(O<v||O>m)return null}return[u+1,g+1]}},{key:"decorationLineRangeToMinimapLineRange",value:function(v,m){var u=this.modelLineToMinimapLine(v),g=this.modelLineToMinimapLine(m);return v!==m&&g===u&&(g===this.minimapLines.length?u>1&&u--:g++),[u,g]}},{key:"onLinesDeleted",value:function(v){for(var m=v.toLineNumber-v.fromLineNumber+1,u=this.minimapLines.length,g=0,O=this.minimapLines.length-1;O>=0&&!(this.minimapLines[O]<v.fromLineNumber);O--)this.minimapLines[O]<=v.toLineNumber?(this.minimapLines[O]=Math.max(1,v.fromLineNumber-1),u=Math.min(u,O),g=Math.max(g,O)):this.minimapLines[O]-=m;return[u,g]}},{key:"onLinesInserted",value:function(v){for(var m=v.toLineNumber-v.fromLineNumber+1,u=this.minimapLines.length-1;u>=0&&!(this.minimapLines[u]<v.fromLineNumber);u--)this.minimapLines[u]+=m}}],[{key:"compute",value:function(v,m,u){if(v.renderMinimap===0||!v.isSampling)return[null,[]];var g=w.g.computeContainedMinimapLineCount({viewLineCount:m,scrollBeyondLastLine:v.scrollBeyondLastLine,paddingTop:v.paddingTop,paddingBottom:v.paddingBottom,height:v.editorHeight,lineHeight:v.lineHeight,pixelRatio:v.pixelRatio}),O=g.minimapLineCount,te=m/O,Le=te/2;if(!u||u.minimapLines.length===0){var Me=[];if(Me[0]=1,O>1){for(var at=0,Ot=O-1;at<Ot;at++)Me[at]=Math.round(at*te+Le);Me[O-1]=m}return[new ze(te,Me),[]]}for(var Mt=u.minimapLines,Qt=Mt.length,Ht=[],dt=0,Cn=0,Pn=1,ni=10,hi=[],Di=null,wi=0;wi<O;wi++){for(var nr=Math.max(Pn,Math.round(wi*te)),Ni=Math.max(nr,Math.round((wi+1)*te));dt<Qt&&Mt[dt]<nr;){if(hi.length<ni){var Wi=dt+1+Cn;Di&&Di.type==="deleted"&&Di._oldIndex===dt-1?Di.deleteToLineNumber++:(Di={type:"deleted",_oldIndex:dt,deleteFromLineNumber:Wi,deleteToLineNumber:Wi},hi.push(Di)),Cn--}dt++}var er=void 0;if(dt<Qt&&Mt[dt]<=Ni)er=Mt[dt],dt++;else if(wi===0?er=1:wi+1===O?er=m:er=Math.round(wi*te+Le),hi.length<ni){var br=dt+1+Cn;Di&&Di.type==="inserted"&&Di._i===wi-1?Di.insertToLineNumber++:(Di={type:"inserted",_i:wi,insertFromLineNumber:br,insertToLineNumber:br},hi.push(Di)),Cn++}Ht[wi]=er,Pn=er}if(hi.length<ni)for(;dt<Qt;){var xr=dt+1+Cn;Di&&Di.type==="deleted"&&Di._oldIndex===dt-1?Di.deleteToLineNumber++:(Di={type:"deleted",_oldIndex:dt,deleteFromLineNumber:xr,deleteToLineNumber:xr},hi.push(Di)),Cn--,dt++}else hi=[{type:"flush"}];return[new ze(te,Ht),hi]}}]),ze}(),mn=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this,m),u.tokensColorTracker=ao.getInstance(),u._selections=[],u._minimapSelections=null,u.options=new Ve(u._context.configuration,u._context.theme,u.tokensColorTracker);var g=ln.compute(u.options,u._context.viewModel.getLineCount(),null),O=Object(le.a)(g,1),te=O[0];return u._samplingState=te,u._shouldCheckSampling=!1,u._actual=new Tn(m.theme,Object(ve.a)(u)),u}return Object(L.a)(v,[{key:"dispose",value:function(){this._actual.dispose(),Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"getDomNode",value:function(){return this._actual.getDomNode()}},{key:"_onOptionsMaybeChanged",value:function(){var u=new Ve(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(u)?!1:(this.options=u,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}},{key:"onConfigurationChanged",value:function(u){return this._onOptionsMaybeChanged()}},{key:"onCursorStateChanged",value:function(u){return this._selections=u.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}},{key:"onDecorationsChanged",value:function(u){return u.affectsMinimap?this._actual.onDecorationsChanged():!1}},{key:"onFlushed",value:function(u){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}},{key:"onLinesChanged",value:function(u){if(this._samplingState){var g=this._samplingState.modelLineRangeToMinimapLineRange(u.fromLineNumber,u.fromLineNumber+u.count-1);return g?this._actual.onLinesChanged(g[0],g[1]-g[0]+1):!1}else return this._actual.onLinesChanged(u.fromLineNumber,u.count)}},{key:"onLinesDeleted",value:function(u){if(this._samplingState){var g=this._samplingState.onLinesDeleted(u),O=Object(le.a)(g,2),te=O[0],Le=O[1];return te<=Le&&this._actual.onLinesChanged(te+1,Le-te+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(u.fromLineNumber,u.toLineNumber)}},{key:"onLinesInserted",value:function(u){return this._samplingState?(this._samplingState.onLinesInserted(u),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(u.fromLineNumber,u.toLineNumber)}},{key:"onScrollChanged",value:function(u){return this._actual.onScrollChanged()}},{key:"onThemeChanged",value:function(u){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}},{key:"onTokensChanged",value:function(u){if(this._samplingState){var g=[],O=Object(E.a)(u.ranges),te;try{for(O.s();!(te=O.n()).done;){var Le=te.value,Me=this._samplingState.modelLineRangeToMinimapLineRange(Le.fromLineNumber,Le.toLineNumber);Me&&g.push({fromLineNumber:Me[0],toLineNumber:Me[1]})}}catch(at){O.e(at)}finally{O.f()}return g.length?this._actual.onTokensChanged(g):!1}else return this._actual.onTokensChanged(u.ranges)}},{key:"onTokensColorsChanged",value:function(u){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}},{key:"onZonesChanged",value:function(u){return this._actual.onZonesChanged()}},{key:"prepareRender",value:function(u){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}},{key:"render",value:function(u){var g=u.visibleRange.startLineNumber,O=u.visibleRange.endLineNumber;this._samplingState&&(g=this._samplingState.modelLineToMinimapLine(g),O=this._samplingState.modelLineToMinimapLine(O));var te={viewportContainsWhitespaceGaps:u.viewportData.whitespaceViewportData.length>0,scrollWidth:u.scrollWidth,scrollHeight:u.scrollHeight,viewportStartLineNumber:g,viewportEndLineNumber:O,viewportStartLineNumberVerticalOffset:u.getVerticalOffsetForLineNumber(g),scrollTop:u.scrollTop,scrollLeft:u.scrollLeft,viewportWidth:u.viewportWidth,viewportHeight:u.viewportHeight};this._actual.render(te)}},{key:"_recreateLineSampling",value:function(){this._minimapSelections=null;var u=Boolean(this._samplingState),g=ln.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState),O=Object(le.a)(g,2),te=O[0],Le=O[1];if(this._samplingState=te,u&&this._samplingState){var Me=Object(E.a)(Le),at;try{for(Me.s();!(at=Me.n()).done;){var Ot=at.value;switch(Ot.type){case"deleted":this._actual.onLinesDeleted(Ot.deleteFromLineNumber,Ot.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(Ot.insertFromLineNumber,Ot.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}}catch(Mt){Me.e(Mt)}finally{Me.f()}}}},{key:"getLineCount",value:function(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}},{key:"getRealLineCount",value:function(){return this._context.viewModel.getLineCount()}},{key:"getLineContent",value:function(u){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[u-1]):this._context.viewModel.getLineContent(u)}},{key:"getLineMaxColumn",value:function(u){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[u-1]):this._context.viewModel.getLineMaxColumn(u)}},{key:"getMinimapLinesRenderingData",value:function(u,g,O){if(this._samplingState){for(var te=[],Le=0,Me=g-u+1;Le<Me;Le++)O[Le]?te[Le]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[u+Le-1]):te[Le]=null;return te}return this._context.viewModel.getMinimapLinesRenderingData(u,g,O).data}},{key:"getSelections",value:function(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];var u=Object(E.a)(this._selections),g;try{for(u.s();!(g=u.n()).done;){var O=g.value,te=this._samplingState.decorationLineRangeToMinimapLineRange(O.startLineNumber,O.endLineNumber),Le=Object(le.a)(te,2),Me=Le[0],at=Le[1];this._minimapSelections.push(new Ct.a(Me,O.startColumn,at,O.endColumn))}}catch(Ot){u.e(Ot)}finally{u.f()}}else this._minimapSelections=this._selections;return this._minimapSelections}},{key:"getMinimapDecorationsInViewport",value:function(u,g){var O;if(this._samplingState){var te=this._samplingState.minimapLines[u-1],Le=this._samplingState.minimapLines[g-1];O=new An.a(te,1,Le,this._context.viewModel.getLineMaxColumn(Le))}else O=new An.a(u,1,g,this._context.viewModel.getLineMaxColumn(g));var Me=this._context.viewModel.getMinimapDecorationsInRange(O);if(this._samplingState){var at=[],Ot=Object(E.a)(Me),Mt;try{for(Ot.s();!(Mt=Ot.n()).done;){var Qt=Mt.value;if(!!Qt.options.minimap){var Ht=Qt.range,dt=this._samplingState.modelLineToMinimapLine(Ht.startLineNumber),Cn=this._samplingState.modelLineToMinimapLine(Ht.endLineNumber);at.push(new ka.g(new An.a(dt,Ht.startColumn,Cn,Ht.endColumn),Qt.options))}}}catch(Pn){Ot.e(Pn)}finally{Ot.f()}return at}return Me}},{key:"getOptions",value:function(){return this._context.viewModel.model.getOptions()}},{key:"revealLineNumber",value:function(u){this._samplingState&&(u=this._samplingState.minimapLines[u-1]),this._context.viewModel.revealRange("mouse",!1,new An.a(u,1,u,1),1,0)}},{key:"setScrollTop",value:function(u){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:u},1)}}]),v}(Te),Tn=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u){var g;return Object(Q.a)(this,v),g=Ce.call(this),g._renderDecorations=!1,g._gestureInProgress=!1,g._theme=m,g._model=u,g._lastRenderData=null,g._buffers=null,g._selectionColor=g._theme.getColor(ua.nc),g._domNode=Object(bt.b)(document.createElement("div")),fe.write(g._domNode,8),g._domNode.setClassName(g._getMinimapDomNodeClassName()),g._domNode.setPosition("absolute"),g._domNode.setAttribute("role","presentation"),g._domNode.setAttribute("aria-hidden","true"),g._shadow=Object(bt.b)(document.createElement("div")),g._shadow.setClassName("minimap-shadow-hidden"),g._domNode.appendChild(g._shadow),g._canvas=Object(bt.b)(document.createElement("canvas")),g._canvas.setPosition("absolute"),g._canvas.setLeft(0),g._domNode.appendChild(g._canvas),g._decorationsCanvas=Object(bt.b)(document.createElement("canvas")),g._decorationsCanvas.setPosition("absolute"),g._decorationsCanvas.setClassName("minimap-decorations-layer"),g._decorationsCanvas.setLeft(0),g._domNode.appendChild(g._decorationsCanvas),g._slider=Object(bt.b)(document.createElement("div")),g._slider.setPosition("absolute"),g._slider.setClassName("minimap-slider"),g._slider.setLayerHinting(!0),g._slider.setContain("strict"),g._domNode.appendChild(g._slider),g._sliderHorizontal=Object(bt.b)(document.createElement("div")),g._sliderHorizontal.setPosition("absolute"),g._sliderHorizontal.setClassName("minimap-slider-horizontal"),g._slider.appendChild(g._sliderHorizontal),g._applyLayout(),g._pointerDownListener=U.addStandardDisposableListener(g._domNode.domNode,U.EventType.POINTER_DOWN,function(O){O.preventDefault();var te=g._model.options.renderMinimap;if(te!==0&&!!g._lastRenderData){if(g._model.options.size!=="proportional"){if(O.button===0&&g._lastRenderData){var Le=U.getDomNodePagePosition(g._slider.domNode),Me=Le.top+Le.height/2;g._startSliderDragging(O,Me,g._lastRenderData.renderedLayout)}return}var at=g._model.options.minimapLineHeight,Ot=g._model.options.canvasInnerHeight/g._model.options.canvasOuterHeight*O.offsetY,Mt=Math.floor(Ot/at),Qt=Mt+g._lastRenderData.renderedLayout.startLineNumber-g._lastRenderData.renderedLayout.topPaddingLineCount;Qt=Math.min(Qt,g._model.getLineCount()),g._model.revealLineNumber(Qt)}}),g._sliderPointerMoveMonitor=new Zo.a,g._sliderPointerDownListener=U.addStandardDisposableListener(g._slider.domNode,U.EventType.POINTER_DOWN,function(O){O.preventDefault(),O.stopPropagation(),O.button===0&&g._lastRenderData&&g._startSliderDragging(O,O.pageY,g._lastRenderData.renderedLayout)}),g._gestureDisposable=mt.b.addTarget(g._domNode.domNode),g._sliderTouchStartListener=U.addDisposableListener(g._domNode.domNode,mt.a.Start,function(O){O.preventDefault(),O.stopPropagation(),g._lastRenderData&&(g._slider.toggleClassName("active",!0),g._gestureInProgress=!0,g.scrollDueToTouchEvent(O))},{passive:!1}),g._sliderTouchMoveListener=U.addDisposableListener(g._domNode.domNode,mt.a.Change,function(O){O.preventDefault(),O.stopPropagation(),g._lastRenderData&&g._gestureInProgress&&g.scrollDueToTouchEvent(O)},{passive:!1}),g._sliderTouchEndListener=U.addStandardDisposableListener(g._domNode.domNode,mt.a.End,function(O){O.preventDefault(),O.stopPropagation(),g._gestureInProgress=!1,g._slider.toggleClassName("active",!1)}),g}return Object(L.a)(v,[{key:"_startSliderDragging",value:function(u,g,O){var te=this;if(!(!u.target||!(u.target instanceof Element))){var Le=u.pageX;this._slider.toggleClassName("active",!0);var Me=function(Ot,Mt){var Qt=U.getDomNodePagePosition(te._domNode.domNode),Ht=Math.min(Math.abs(Mt-Le),Math.abs(Mt-Qt.left),Math.abs(Mt-Qt.left-Qt.width));if(A.o&&Ht>oe){te._model.setScrollTop(O.scrollTop);return}var dt=Ot-g;te._model.setScrollTop(O.getDesiredScrollTopFromDelta(dt))};u.pageY!==g&&Me(u.pageY,Le),this._sliderPointerMoveMonitor.startMonitoring(u.target,u.pointerId,u.buttons,function(at){return Me(at.pageY,at.pageX)},function(){te._slider.toggleClassName("active",!1)})}}},{key:"scrollDueToTouchEvent",value:function(u){var g=this._domNode.domNode.getBoundingClientRect().top,O=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(u.pageY-g);this._model.setScrollTop(O)}},{key:"dispose",value:function(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"_getMinimapDomNodeClassName",value:function(){var u=["minimap"];return this._model.options.showSlider==="always"?u.push("slider-always"):u.push("slider-mouseover"),this._model.options.autohide&&u.push("autohide"),u.join(" ")}},{key:"getDomNode",value:function(){return this._domNode}},{key:"_applyLayout",value:function(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}},{key:"_getBuffer",value:function(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new sn(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}},{key:"onDidChangeOptions",value:function(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}},{key:"onSelectionChanged",value:function(){return this._renderDecorations=!0,!0}},{key:"onDecorationsChanged",value:function(){return this._renderDecorations=!0,!0}},{key:"onFlushed",value:function(){return this._lastRenderData=null,!0}},{key:"onLinesChanged",value:function(u,g){return this._lastRenderData?this._lastRenderData.onLinesChanged(u,g):!1}},{key:"onLinesDeleted",value:function(u,g){var O;return(O=this._lastRenderData)===null||O===void 0||O.onLinesDeleted(u,g),!0}},{key:"onLinesInserted",value:function(u,g){var O;return(O=this._lastRenderData)===null||O===void 0||O.onLinesInserted(u,g),!0}},{key:"onScrollChanged",value:function(){return this._renderDecorations=!0,!0}},{key:"onThemeChanged",value:function(){return this._selectionColor=this._theme.getColor(ua.nc),this._renderDecorations=!0,!0}},{key:"onTokensChanged",value:function(u){return this._lastRenderData?this._lastRenderData.onTokensChanged(u):!1}},{key:"onTokensColorsChanged",value:function(){return this._lastRenderData=null,this._buffers=null,!0}},{key:"onZonesChanged",value:function(){return this._lastRenderData=null,!0}},{key:"render",value:function(u){var g=this._model.options.renderMinimap;if(g===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}u.scrollLeft+u.viewportWidth>=u.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var O=lt.create(this._model.options,u.viewportStartLineNumber,u.viewportEndLineNumber,u.viewportStartLineNumberVerticalOffset,u.viewportHeight,u.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),u.scrollTop,u.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(O.sliderNeeded?"block":"none"),this._slider.setTop(O.sliderTop),this._slider.setHeight(O.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(O.sliderHeight),this.renderDecorations(O),this._lastRenderData=this.renderLines(O)}},{key:"renderDecorations",value:function(u){if(this._renderDecorations){this._renderDecorations=!1;var g=this._model.getSelections();g.sort(An.a.compareRangesUsingStarts);var O=this._model.getMinimapDecorationsInViewport(u.startLineNumber,u.endLineNumber);O.sort(function(Cn,Pn){return(Cn.options.zIndex||0)-(Pn.options.zIndex||0)});var te=this._model.options,Le=te.canvasInnerWidth,Me=te.canvasInnerHeight,at=this._model.options.minimapLineHeight,Ot=this._model.options.minimapCharWidth,Mt=this._model.getOptions().tabSize,Qt=this._decorationsCanvas.domNode.getContext("2d");Qt.clearRect(0,0,Le,Me);var Ht=new ai(u.startLineNumber,u.endLineNumber,!1);this._renderSelectionLineHighlights(Qt,g,Ht,u,at),this._renderDecorationsLineHighlights(Qt,O,Ht,u,at);var dt=new ai(u.startLineNumber,u.endLineNumber,null);this._renderSelectionsHighlights(Qt,g,dt,u,at,Mt,Ot,Le),this._renderDecorationsHighlights(Qt,O,dt,u,at,Mt,Ot,Le)}}},{key:"_renderSelectionLineHighlights",value:function(u,g,O,te,Le){if(!(!this._selectionColor||this._selectionColor.isTransparent())){u.fillStyle=this._selectionColor.transparent(.5).toString();var Me=0,at=0,Ot=Object(E.a)(g),Mt;try{for(Ot.s();!(Mt=Ot.n()).done;){var Qt=Mt.value,Ht=te.intersectWithViewport(Qt);if(!!Ht){for(var dt=Object(le.a)(Ht,2),Cn=dt[0],Pn=dt[1],ni=Cn;ni<=Pn;ni++)O.set(ni,!0);var hi=te.getYForLineNumber(Cn,Le),Di=te.getYForLineNumber(Pn,Le);at>=hi||(at>Me&&u.fillRect(w.i,Me,u.canvas.width,at-Me),Me=hi),at=Di}}}catch(wi){Ot.e(wi)}finally{Ot.f()}at>Me&&u.fillRect(w.i,Me,u.canvas.width,at-Me)}}},{key:"_renderDecorationsLineHighlights",value:function(u,g,O,te,Le){for(var Me=new Map,at=g.length-1;at>=0;at--){var Ot=g[at],Mt=Ot.options.minimap;if(!(!Mt||Mt.position!==G.e.Inline)){var Qt=te.intersectWithViewport(Ot.range);if(!!Qt){var Ht=Object(le.a)(Qt,2),dt=Ht[0],Cn=Ht[1],Pn=Mt.getColor(this._theme.value);if(!(!Pn||Pn.isTransparent())){var ni=Me.get(Pn.toString());ni||(ni=Pn.transparent(.5).toString(),Me.set(Pn.toString(),ni)),u.fillStyle=ni;for(var hi=dt;hi<=Cn;hi++)if(!O.has(hi)){O.set(hi,!0);var Di=te.getYForLineNumber(dt,Le);u.fillRect(w.i,Di,u.canvas.width,Le)}}}}}}},{key:"_renderSelectionsHighlights",value:function(u,g,O,te,Le,Me,at,Ot){if(!(!this._selectionColor||this._selectionColor.isTransparent())){var Mt=Object(E.a)(g),Qt;try{for(Mt.s();!(Qt=Mt.n()).done;){var Ht=Qt.value,dt=te.intersectWithViewport(Ht);if(!!dt)for(var Cn=Object(le.a)(dt,2),Pn=Cn[0],ni=Cn[1],hi=Pn;hi<=ni;hi++)this.renderDecorationOnLine(u,O,Ht,this._selectionColor,te,hi,Le,Le,Me,at,Ot)}}catch(Di){Mt.e(Di)}finally{Mt.f()}}}},{key:"_renderDecorationsHighlights",value:function(u,g,O,te,Le,Me,at,Ot){var Mt=Object(E.a)(g),Qt;try{for(Mt.s();!(Qt=Mt.n()).done;){var Ht=Qt.value,dt=Ht.options.minimap;if(!!dt){var Cn=te.intersectWithViewport(Ht.range);if(!!Cn){var Pn=Object(le.a)(Cn,2),ni=Pn[0],hi=Pn[1],Di=dt.getColor(this._theme.value);if(!(!Di||Di.isTransparent()))for(var wi=ni;wi<=hi;wi++)switch(dt.position){case G.e.Inline:this.renderDecorationOnLine(u,O,Ht.range,Di,te,wi,Le,Le,Me,at,Ot);continue;case G.e.Gutter:{var nr=te.getYForLineNumber(wi,Le),Ni=2;this.renderDecoration(u,Di,Ni,nr,xe,Le);continue}}}}}}catch(Wi){Mt.e(Wi)}finally{Mt.f()}}},{key:"renderDecorationOnLine",value:function(u,g,O,te,Le,Me,at,Ot,Mt,Qt,Ht){var dt=Le.getYForLineNumber(Me,Ot);if(!(dt+at<0||dt>this._model.options.canvasInnerHeight)){var Cn=O.startLineNumber,Pn=O.endLineNumber,ni=Cn===Me?O.startColumn:1,hi=Pn===Me?O.endColumn:this._model.getLineMaxColumn(Me),Di=this.getXOffsetForPosition(g,Me,ni,Mt,Qt,Ht),wi=this.getXOffsetForPosition(g,Me,hi,Mt,Qt,Ht);this.renderDecoration(u,te,Di,dt,wi-Di,at)}}},{key:"getXOffsetForPosition",value:function(u,g,O,te,Le,Me){if(O===1)return w.i;var at=(O-1)*Le;if(at>=Me)return Me;var Ot=u.get(g);if(!Ot){var Mt=this._model.getLineContent(g);Ot=[w.i];for(var Qt=w.i,Ht=1;Ht<Mt.length+1;Ht++){var dt=Mt.charCodeAt(Ht-1),Cn=dt===9?te*Le:pr.E(dt)?2*Le:Le,Pn=Qt+Cn;if(Pn>=Me){Ot[Ht]=Me;break}Ot[Ht]=Pn,Qt=Pn}u.set(g,Ot)}return O-1<Ot.length?Ot[O-1]:Me}},{key:"renderDecoration",value:function(u,g,O,te,Le,Me){u.fillStyle=g&&g.toString()||"",u.fillRect(O,te,Le,Me)}},{key:"renderLines",value:function(u){var g=u.startLineNumber,O=u.endLineNumber,te=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(u)){var Le=this._lastRenderData._get();return new xt(u,Le.imageData,Le.lines)}var Me=this._getBuffer();if(!Me)return null;for(var at=v._renderUntouchedLines(Me,u.topPaddingLineCount,g,O,te,this._lastRenderData),Ot=Object(le.a)(at,3),Mt=Ot[0],Qt=Ot[1],Ht=Ot[2],dt=this._model.getMinimapLinesRenderingData(g,O,Ht),Cn=this._model.getOptions().tabSize,Pn=this._model.options.defaultBackgroundColor,ni=this._model.options.backgroundColor,hi=this._model.options.foregroundAlpha,Di=this._model.tokensColorTracker,wi=Di.backgroundIsLight(),nr=this._model.options.renderMinimap,Ni=this._model.options.charRenderer(),Wi=this._model.options.fontScale,er=this._model.options.minimapCharWidth,br=nr===1?2:2+1,xr=br*Wi,Ur=te>xr?Math.floor((te-xr)/2):0,ca=ni.a/255,Ca=new Hr(Math.round((ni.r-Pn.r)*ca+Pn.r),Math.round((ni.g-Pn.g)*ca+Pn.g),Math.round((ni.b-Pn.b)*ca+Pn.b),255),ra=u.topPaddingLineCount*te,Ha=[],Ja=0,So=O-g+1;Ja<So;Ja++)Ht[Ja]&&v._renderLine(Me,Ca,ni.a,wi,nr,er,Di,hi,Ni,ra,Ur,Cn,dt[Ja],Wi,te),Ha[Ja]=new pt(ra),ra+=te;var Ba=Mt===-1?0:Mt,Wo=Qt===-1?Me.height:Qt,Ka=Wo-Ba,Wa=this._canvas.domNode.getContext("2d");return Wa.putImageData(Me,0,0,0,Ba,Me.width,Ka),new xt(u,Me,Ha)}}],[{key:"_renderUntouchedLines",value:function(u,g,O,te,Le,Me){var at=[];if(!Me){for(var Ot=0,Mt=te-O+1;Ot<Mt;Ot++)at[Ot]=!0;return[-1,-1,at]}for(var Qt=Me._get(),Ht=Qt.imageData.data,dt=Qt.rendLineNumberStart,Cn=Qt.lines,Pn=Cn.length,ni=u.width,hi=u.data,Di=(te-O+1)*Le*ni*4,wi=-1,nr=-1,Ni=-1,Wi=-1,er=-1,br=-1,xr=g*Le,Ur=O;Ur<=te;Ur++){var ca=Ur-O,Ca=Ur-dt,ra=Ca>=0&&Ca<Pn?Cn[Ca].dy:-1;if(ra===-1){at[ca]=!0,xr+=Le;continue}var Ha=ra*ni*4,Ja=(ra+Le)*ni*4,So=xr*ni*4,Ba=(xr+Le)*ni*4;Wi===Ha&&br===So?(Wi=Ja,br=Ba):(Ni!==-1&&(hi.set(Ht.subarray(Ni,Wi),er),wi===-1&&Ni===0&&Ni===er&&(wi=Wi),nr===-1&&Wi===Di&&Ni===er&&(nr=Ni)),Ni=Ha,Wi=Ja,er=So,br=Ba),at[ca]=!1,xr+=Le}Ni!==-1&&(hi.set(Ht.subarray(Ni,Wi),er),wi===-1&&Ni===0&&Ni===er&&(wi=Wi),nr===-1&&Wi===Di&&Ni===er&&(nr=Ni));var Wo=wi===-1?-1:wi/(ni*4),Ka=nr===-1?-1:nr/(ni*4);return[Wo,Ka,at]}},{key:"_renderLine",value:function(u,g,O,te,Le,Me,at,Ot,Mt,Qt,Ht,dt,Cn,Pn,ni){for(var hi=Cn.content,Di=Cn.tokens,wi=u.width-Me,nr=ni===1,Ni=w.i,Wi=0,er=0,br=0,xr=Di.getCount();br<xr;br++)for(var Ur=Di.getEndOffset(br),ca=Di.getForeground(br),Ca=at.getColor(ca);Wi<Ur;Wi++){if(Ni>wi)return;var ra=hi.charCodeAt(Wi);if(ra===9){var Ha=dt-(Wi+er)%dt;er+=Ha-1,Ni+=Ha*Me}else if(ra===32)Ni+=Me;else for(var Ja=pr.E(ra)?2:1,So=0;So<Ja;So++)if(Le===2?Mt.blockRenderChar(u,Ni,Qt+Ht,Ca,Ot,g,O,nr):Mt.renderChar(u,Ni,Qt+Ht,ra,Ca,Ot,g,O,Pn,te,nr),Ni+=Me,Ni>wi)return}}}]),v}(C.a),ai=function(){function ze(Ce,v,m){Object(Q.a)(this,ze),this._startLineNumber=Ce,this._endLineNumber=v,this._defaultValue=m,this._values=[];for(var u=0,g=this._endLineNumber-this._startLineNumber+1;u<g;u++)this._values[u]=m}return Object(L.a)(ze,[{key:"has",value:function(v){return this.get(v)!==this._defaultValue}},{key:"set",value:function(v,m){v<this._startLineNumber||v>this._endLineNumber||(this._values[v-this._startLineNumber]=m)}},{key:"get",value:function(v){return v<this._startLineNumber||v>this._endLineNumber?this._defaultValue:this._values[v-this._startLineNumber]}}]),ze}(),pi=a("cl4r"),yi=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this,m);var g=u._context.configuration.options,O=g.get(140);return u._widgets={},u._verticalScrollbarWidth=O.verticalScrollbarWidth,u._minimapWidth=O.minimap.minimapWidth,u._horizontalScrollbarHeight=O.horizontalScrollbarHeight,u._editorHeight=O.height,u._editorWidth=O.width,u._domNode=Object(bt.b)(document.createElement("div")),fe.write(u._domNode,4),u._domNode.setClassName("overlayWidgets"),u}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this),this._widgets={}}},{key:"getDomNode",value:function(){return this._domNode}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,O=g.get(140);return this._verticalScrollbarWidth=O.verticalScrollbarWidth,this._minimapWidth=O.minimap.minimapWidth,this._horizontalScrollbarHeight=O.horizontalScrollbarHeight,this._editorHeight=O.height,this._editorWidth=O.width,!0}},{key:"addWidget",value:function(u){var g=Object(bt.b)(u.getDomNode());this._widgets[u.getId()]={widget:u,preference:null,domNode:g},g.setPosition("absolute"),g.setAttribute("widgetId",u.getId()),this._domNode.appendChild(g),this.setShouldRender()}},{key:"setWidgetPosition",value:function(u,g){var O=this._widgets[u.getId()];return O.preference===g?!1:(O.preference=g,this.setShouldRender(),!0)}},{key:"removeWidget",value:function(u){var g=u.getId();if(this._widgets.hasOwnProperty(g)){var O=this._widgets[g],te=O.domNode.domNode;delete this._widgets[g],te.parentNode.removeChild(te),this.setShouldRender()}}},{key:"_renderWidget",value:function(u){var g=u.domNode;if(u.preference===null){g.setTop("");return}if(u.preference===0)g.setTop(0),g.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(u.preference===1){var O=g.domNode.clientHeight;g.setTop(this._editorHeight-O-2*this._horizontalScrollbarHeight),g.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else u.preference===2&&(g.setTop(0),g.domNode.style.right="50%")}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){this._domNode.setWidth(this._editorWidth);for(var g=Object.keys(this._widgets),O=0,te=g.length;O<te;O++){var Le=g[O];this._renderWidget(this._widgets[Le])}}}]),v}(Te),vi=function(){function ze(Ce,v){Object(Q.a)(this,ze);var m=Ce.options;this.lineHeight=m.get(64),this.pixelRatio=m.get(138),this.overviewRulerLanes=m.get(80),this.renderBorder=m.get(79);var u=v.getColor(ii.C);this.borderColor=u?u.toString():null,this.hideCursor=m.get(57);var g=v.getColor(ii.v);this.cursorColor=g?g.transparent(.7).toString():null,this.themeType=v.type;var O=m.get(70),te=O.enabled,Le=O.side,Me=v.getColor(ii.B),at=Et.m.getDefaultBackground();Me?this.backgroundColor=Me:te&&Le==="right"?this.backgroundColor=at:this.backgroundColor=null;var Ot=m.get(140),Mt=Ot.overviewRuler;this.top=Mt.top,this.right=Mt.right,this.domWidth=Mt.width,this.domHeight=Mt.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);var Qt=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),Ht=Object(le.a)(Qt,2),dt=Ht[0],Cn=Ht[1];this.x=dt,this.w=Cn}return Object(L.a)(ze,[{key:"_initLanes",value:function(v,m,u){var g=m-v;if(u>=3){var O=Math.floor(g/3),te=Math.floor(g/3),Le=g-O-te,Me=v,at=Me+O,Ot=Me+O+Le;return[[0,Me,at,Me,Ot,Me,at,Me],[0,O,Le,O+Le,te,O+Le+te,Le+te,O+Le+te]]}else if(u===2){var Mt=Math.floor(g/2),Qt=g-Mt,Ht=v,dt=Ht+Mt;return[[0,Ht,Ht,Ht,dt,Ht,Ht,Ht],[0,Mt,Mt,Mt,Qt,Mt+Qt,Mt+Qt,Mt+Qt]]}else{var Cn=v,Pn=g;return[[0,Cn,Cn,Cn,Cn,Cn,Cn,Cn],[0,Pn,Pn,Pn,Pn,Pn,Pn,Pn]]}}},{key:"equals",value:function(v){return this.lineHeight===v.lineHeight&&this.pixelRatio===v.pixelRatio&&this.overviewRulerLanes===v.overviewRulerLanes&&this.renderBorder===v.renderBorder&&this.borderColor===v.borderColor&&this.hideCursor===v.hideCursor&&this.cursorColor===v.cursorColor&&this.themeType===v.themeType&&Rt.a.equals(this.backgroundColor,v.backgroundColor)&&this.top===v.top&&this.right===v.right&&this.domWidth===v.domWidth&&this.domHeight===v.domHeight&&this.canvasWidth===v.canvasWidth&&this.canvasHeight===v.canvasHeight}}]),ze}(),Bt=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;return Object(Q.a)(this,v),u=Ce.call(this,m),u._domNode=Object(bt.b)(document.createElement("canvas")),u._domNode.setClassName("decorationsOverviewRuler"),u._domNode.setPosition("absolute"),u._domNode.setLayerHinting(!0),u._domNode.setContain("strict"),u._domNode.setAttribute("aria-hidden","true"),u._updateSettings(!1),u._tokensColorTrackerListener=Et.m.onDidChange(function(g){g.changedColorMap&&u._updateSettings(!0)}),u._cursorPositions=[],u}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this),this._tokensColorTrackerListener.dispose()}},{key:"_updateSettings",value:function(u){var g=new vi(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(g)?!1:(this._settings=g,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,u&&this._render(),!0)}},{key:"onConfigurationChanged",value:function(u){return this._updateSettings(!1)}},{key:"onCursorStateChanged",value:function(u){this._cursorPositions=[];for(var g=0,O=u.selections.length;g<O;g++)this._cursorPositions[g]=u.selections[g].getPosition();return this._cursorPositions.sort(Dn.a.compare),!0}},{key:"onDecorationsChanged",value:function(u){return!!u.affectsOverviewRuler}},{key:"onFlushed",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollHeightChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"onThemeChanged",value:function(u){return this._updateSettings(!1)}},{key:"getDomNode",value:function(){return this._domNode.domNode}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){this._render()}},{key:"_render",value:function(){var u=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(u?Rt.a.Format.CSS.formatHexA(u):""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");var g=this._settings.canvasWidth,O=this._settings.canvasHeight,te=this._settings.lineHeight,Le=this._context.viewLayout,Me=this._context.viewLayout.getScrollHeight(),at=O/Me,Ot=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),Mt=6*this._settings.pixelRatio|0,Qt=Mt/2|0,Ht=this._domNode.domNode.getContext("2d");u?u.isOpaque()?(Ht.fillStyle=Rt.a.Format.CSS.formatHexA(u),Ht.fillRect(0,0,g,O)):(Ht.clearRect(0,0,g,O),Ht.fillStyle=Rt.a.Format.CSS.formatHexA(u),Ht.fillRect(0,0,g,O)):Ht.clearRect(0,0,g,O);var dt=this._settings.x,Cn=this._settings.w;Ot.sort(ka.c.cmp);var Pn=Object(E.a)(Ot),ni;try{for(Pn.s();!(ni=Pn.n()).done;){var hi=ni.value,Di=hi.color,wi=hi.data;Ht.fillStyle=Di;for(var nr=0,Ni=0,Wi=0,er=0,br=wi.length/3;er<br;er++){var xr=wi[3*er],Ur=wi[3*er+1],ca=wi[3*er+2],Ca=Le.getVerticalOffsetForLineNumber(Ur)*at|0,ra=(Le.getVerticalOffsetForLineNumber(ca)+te)*at|0,Ha=ra-Ca;if(Ha<Mt){var Ja=(Ca+ra)/2|0;Ja<Qt?Ja=Qt:Ja+Qt>O&&(Ja=O-Qt),Ca=Ja-Qt,ra=Ja+Qt}Ca>Wi+1||xr!==nr?(er!==0&&Ht.fillRect(dt[nr],Ni,Cn[nr],Wi-Ni),nr=xr,Ni=Ca,Wi=ra):ra>Wi&&(Wi=ra)}Ht.fillRect(dt[nr],Ni,Cn[nr],Wi-Ni)}}catch(Al){Pn.e(Al)}finally{Pn.f()}if(!this._settings.hideCursor&&this._settings.cursorColor){var So=2*this._settings.pixelRatio|0,Ba=So/2|0,Wo=this._settings.x[7],Ka=this._settings.w[7];Ht.fillStyle=this._settings.cursorColor;for(var Wa=-100,No=-100,To=0,ys=this._cursorPositions.length;To<ys;To++){var $s=this._cursorPositions[To],Is=Le.getVerticalOffsetForLineNumber($s.lineNumber)*at|0;Is<Ba?Is=Ba:Is+Ba>O&&(Is=O-Ba);var Yl=Is-Ba,is=Yl+So;Yl>No+1?(To!==0&&Ht.fillRect(Wo,Wa,Ka,No-Wa),Wa=Yl,No=is):is>No&&(No=is)}Ht.fillRect(Wo,Wa,Ka,No-Wa)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Ht.beginPath(),Ht.lineWidth=1,Ht.strokeStyle=this._settings.borderColor,Ht.moveTo(0,0),Ht.lineTo(0,O),Ht.stroke(),Ht.moveTo(0,0),Ht.lineTo(g,0),Ht.stroke())}}]),v}(Te),hr=a("1rVb"),Ii=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u){var g;Object(Q.a)(this,v),g=Ce.call(this),g._context=m;var O=g._context.configuration.options;return g._domNode=Object(bt.b)(document.createElement("canvas")),g._domNode.setClassName(u),g._domNode.setPosition("absolute"),g._domNode.setLayerHinting(!0),g._domNode.setContain("strict"),g._zoneManager=new hr.b(function(te){return g._context.viewLayout.getVerticalOffsetForLineNumber(te)}),g._zoneManager.setDOMWidth(0),g._zoneManager.setDOMHeight(0),g._zoneManager.setOuterHeight(g._context.viewLayout.getScrollHeight()),g._zoneManager.setLineHeight(O.get(64)),g._zoneManager.setPixelRatio(O.get(138)),g._context.addEventHandler(Object(ve.a)(g)),g}return Object(L.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options;return u.hasChanged(64)&&(this._zoneManager.setLineHeight(g.get(64)),this._render()),u.hasChanged(138)&&(this._zoneManager.setPixelRatio(g.get(138)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}},{key:"onFlushed",value:function(u){return this._render(),!0}},{key:"onScrollChanged",value:function(u){return u.scrollHeightChanged&&(this._zoneManager.setOuterHeight(u.scrollHeight),this._render()),!0}},{key:"onZonesChanged",value:function(u){return this._render(),!0}},{key:"getDomNode",value:function(){return this._domNode.domNode}},{key:"setLayout",value:function(u){this._domNode.setTop(u.top),this._domNode.setRight(u.right);var g=!1;g=this._zoneManager.setDOMWidth(u.width)||g,g=this._zoneManager.setDOMHeight(u.height)||g,g&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}},{key:"setZones",value:function(u){this._zoneManager.setZones(u),this._render()}},{key:"_render",value:function(){if(this._zoneManager.getOuterHeight()===0)return!1;var u=this._zoneManager.getCanvasWidth(),g=this._zoneManager.getCanvasHeight(),O=this._zoneManager.resolveColorZones(),te=this._zoneManager.getId2Color(),Le=this._domNode.domNode.getContext("2d");return Le.clearRect(0,0,u,g),O.length>0&&this._renderOneLane(Le,O,te,u),!0}},{key:"_renderOneLane",value:function(u,g,O,te){var Le=0,Me=0,at=0,Ot=Object(E.a)(g),Mt;try{for(Ot.s();!(Mt=Ot.n()).done;){var Qt=Mt.value,Ht=Qt.colorId,dt=Qt.from,Cn=Qt.to;Ht!==Le?(u.fillRect(0,Me,te,at-Me),Le=Ht,u.fillStyle=O[Le],Me=dt,at=Cn):at>=dt?at=Math.max(at,Cn):(u.fillRect(0,Me,te,at-Me),Me=dt,at=Cn)}}catch(Pn){Ot.e(Pn)}finally{Ot.f()}u.fillRect(0,Me,te,at-Me)}}]),v}(Wt),Ar=a("7zd4"),Gr=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this,m),u.domNode=Object(bt.b)(document.createElement("div")),u.domNode.setAttribute("role","presentation"),u.domNode.setAttribute("aria-hidden","true"),u.domNode.setClassName("view-rulers"),u._renderedRulers=[];var g=u._context.configuration.options;return u._rulers=g.get(98),u._typicalHalfwidthCharacterWidth=g.get(48).typicalHalfwidthCharacterWidth,u}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options;return this._rulers=g.get(98),this._typicalHalfwidthCharacterWidth=g.get(48).typicalHalfwidthCharacterWidth,!0}},{key:"onScrollChanged",value:function(u){return u.scrollHeightChanged}},{key:"prepareRender",value:function(u){}},{key:"_ensureRulersCount",value:function(){var u=this._renderedRulers.length,g=this._rulers.length;if(u!==g){if(u<g){for(var O=this._context.viewModel.model.getOptions(),te=O.tabSize,Le=te,Me=g-u;Me>0;){var at=Object(bt.b)(document.createElement("div"));at.setClassName("view-ruler"),at.setWidth(Le),this.domNode.appendChild(at),this._renderedRulers.push(at),Me--}return}for(var Ot=u-g;Ot>0;){var Mt=this._renderedRulers.pop();this.domNode.removeChild(Mt),Ot--}}}},{key:"render",value:function(u){this._ensureRulersCount();for(var g=0,O=this._rulers.length;g<O;g++){var te=this._renderedRulers[g],Le=this._rulers[g];te.setBoxShadow(Le.color?"1px 0 0 0 ".concat(Le.color," inset"):""),te.setHeight(Math.min(u.scrollHeight,1e6)),te.setLeft(Le.column*this._typicalHalfwidthCharacterWidth)}}}]),v}(Te),ea=a("2MPD"),ya=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this,m),u._scrollTop=0,u._width=0,u._updateWidth(),u._shouldShow=!1;var g=u._context.configuration.options,O=g.get(99);return u._useShadows=O.useShadows,u._domNode=Object(bt.b)(document.createElement("div")),u._domNode.setAttribute("role","presentation"),u._domNode.setAttribute("aria-hidden","true"),u}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"_updateShouldShow",value:function(){var u=this._useShadows&&this._scrollTop>0;return this._shouldShow!==u?(this._shouldShow=u,!0):!1}},{key:"getDomNode",value:function(){return this._domNode}},{key:"_updateWidth",value:function(){var u=this._context.configuration.options,g=u.get(140);g.minimap.renderMinimap===0||g.minimap.minimapWidth>0&&g.minimap.minimapLeft===0?this._width=g.width:this._width=g.width-g.verticalScrollbarWidth}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,O=g.get(99);return this._useShadows=O.useShadows,this._updateWidth(),this._updateShouldShow(),!0}},{key:"onScrollChanged",value:function(u){return this._scrollTop=u.scrollTop,this._updateShouldShow()}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}]),v}(Te),Da=a("eC1c"),ta=Object(L.a)(function ze(Ce){Object(Q.a)(this,ze),this.left=Ce.left,this.width=Ce.width,this.startStyle=null,this.endStyle=null}),Ya=Object(L.a)(function ze(Ce,v){Object(Q.a)(this,ze),this.lineNumber=Ce,this.ranges=v});function Va(ze){return new ta(ze)}function mo(ze){return new Ya(ze.lineNumber,ze.ranges.map(Va))}var po=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this),u._previousFrameVisibleRangesWithStyle=[],u._context=m;var g=u._context.configuration.options;return u._lineHeight=g.get(64),u._roundedSelection=g.get(97),u._typicalHalfwidthCharacterWidth=g.get(48).typicalHalfwidthCharacterWidth,u._selections=[],u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(L.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options;return this._lineHeight=g.get(64),this._roundedSelection=g.get(97),this._typicalHalfwidthCharacterWidth=g.get(48).typicalHalfwidthCharacterWidth,!0}},{key:"onCursorStateChanged",value:function(u){return this._selections=u.selections.slice(0),!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_visibleRangesHaveGaps",value:function(u){for(var g=0,O=u.length;g<O;g++){var te=u[g];if(te.ranges.length>1)return!0}return!1}},{key:"_enrichVisibleRangesWithStyle",value:function(u,g,O){var te=this._typicalHalfwidthCharacterWidth/4,Le=null,Me=null;if(O&&O.length>0&&g.length>0){var at=g[0].lineNumber;if(at===u.startLineNumber)for(var Ot=0;!Le&&Ot<O.length;Ot++)O[Ot].lineNumber===at&&(Le=O[Ot].ranges[0]);var Mt=g[g.length-1].lineNumber;if(Mt===u.endLineNumber)for(var Qt=O.length-1;!Me&&Qt>=0;Qt--)O[Qt].lineNumber===Mt&&(Me=O[Qt].ranges[0]);Le&&!Le.startStyle&&(Le=null),Me&&!Me.startStyle&&(Me=null)}for(var Ht=0,dt=g.length;Ht<dt;Ht++){var Cn=g[Ht].ranges[0],Pn=Cn.left,ni=Cn.left+Cn.width,hi={top:0,bottom:0},Di={top:0,bottom:0};if(Ht>0){var wi=g[Ht-1].ranges[0].left,nr=g[Ht-1].ranges[0].left+g[Ht-1].ranges[0].width;zo(Pn-wi)<te?hi.top=2:Pn>wi&&(hi.top=1),zo(ni-nr)<te?Di.top=2:wi<ni&&ni<nr&&(Di.top=1)}else Le&&(hi.top=Le.startStyle.top,Di.top=Le.endStyle.top);if(Ht+1<dt){var Ni=g[Ht+1].ranges[0].left,Wi=g[Ht+1].ranges[0].left+g[Ht+1].ranges[0].width;zo(Pn-Ni)<te?hi.bottom=2:Ni<Pn&&Pn<Wi&&(hi.bottom=1),zo(ni-Wi)<te?Di.bottom=2:ni<Wi&&(Di.bottom=1)}else Me&&(hi.bottom=Me.startStyle.bottom,Di.bottom=Me.endStyle.bottom);Cn.startStyle=hi,Cn.endStyle=Di}}},{key:"_getVisibleRangesWithStyle",value:function(u,g,O){var te=g.linesVisibleRangesForRange(u,!0)||[],Le=te.map(mo),Me=this._visibleRangesHaveGaps(Le);return!Me&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(g.visibleRange,Le,O),Le}},{key:"_createSelectionPiece",value:function(u,g,O,te,Le){return'<div class="cslr '+O+'" style="top:'+u.toString()+"px;left:"+te.toString()+"px;width:"+Le.toString()+"px;height:"+g+'px;"></div>'}},{key:"_actualRenderOneSelection",value:function(u,g,O,te){if(te.length!==0)for(var Le=!!te[0].ranges[0].startStyle,Me=this._lineHeight.toString(),at=(this._lineHeight-1).toString(),Ot=te[0].lineNumber,Mt=te[te.length-1].lineNumber,Qt=0,Ht=te.length;Qt<Ht;Qt++){for(var dt=te[Qt],Cn=dt.lineNumber,Pn=Cn-g,ni=O&&(Cn===Mt||Cn===Ot)?at:Me,hi=O&&Cn===Ot?1:0,Di="",wi="",nr=0,Ni=dt.ranges.length;nr<Ni;nr++){var Wi=dt.ranges[nr];if(Le){var er=Wi.startStyle,br=Wi.endStyle;if(er.top===1||er.bottom===1){Di+=this._createSelectionPiece(hi,ni,v.SELECTION_CLASS_NAME,Wi.left-v.ROUNDED_PIECE_WIDTH,v.ROUNDED_PIECE_WIDTH);var xr=v.EDITOR_BACKGROUND_CLASS_NAME;er.top===1&&(xr+=" "+v.SELECTION_TOP_RIGHT),er.bottom===1&&(xr+=" "+v.SELECTION_BOTTOM_RIGHT),Di+=this._createSelectionPiece(hi,ni,xr,Wi.left-v.ROUNDED_PIECE_WIDTH,v.ROUNDED_PIECE_WIDTH)}if(br.top===1||br.bottom===1){Di+=this._createSelectionPiece(hi,ni,v.SELECTION_CLASS_NAME,Wi.left+Wi.width,v.ROUNDED_PIECE_WIDTH);var Ur=v.EDITOR_BACKGROUND_CLASS_NAME;br.top===1&&(Ur+=" "+v.SELECTION_TOP_LEFT),br.bottom===1&&(Ur+=" "+v.SELECTION_BOTTOM_LEFT),Di+=this._createSelectionPiece(hi,ni,Ur,Wi.left+Wi.width,v.ROUNDED_PIECE_WIDTH)}}var ca=v.SELECTION_CLASS_NAME;if(Le){var Ca=Wi.startStyle,ra=Wi.endStyle;Ca.top===0&&(ca+=" "+v.SELECTION_TOP_LEFT),Ca.bottom===0&&(ca+=" "+v.SELECTION_BOTTOM_LEFT),ra.top===0&&(ca+=" "+v.SELECTION_TOP_RIGHT),ra.bottom===0&&(ca+=" "+v.SELECTION_BOTTOM_RIGHT)}wi+=this._createSelectionPiece(hi,ni,ca,Wi.left,Wi.width)}u[Pn][0]+=Di,u[Pn][1]+=wi}}},{key:"prepareRender",value:function(u){for(var g=[],O=u.visibleRange.startLineNumber,te=u.visibleRange.endLineNumber,Le=O;Le<=te;Le++){var Me=Le-O;g[Me]=["",""]}for(var at=[],Ot=0,Mt=this._selections.length;Ot<Mt;Ot++){var Qt=this._selections[Ot];if(Qt.isEmpty()){at[Ot]=null;continue}var Ht=this._getVisibleRangesWithStyle(Qt,u,this._previousFrameVisibleRangesWithStyle[Ot]);at[Ot]=Ht,this._actualRenderOneSelection(g,O,this._selections.length>1,Ht)}this._previousFrameVisibleRangesWithStyle=at,this._renderResult=g.map(function(dt){var Cn=Object(le.a)(dt,2),Pn=Cn[0],ni=Cn[1];return Pn+ni})}},{key:"render",value:function(u,g){if(!this._renderResult)return"";var O=g-u;return O<0||O>=this._renderResult.length?"":this._renderResult[O]}}]),v}(Qe);po.SELECTION_CLASS_NAME="selected-text",po.SELECTION_TOP_LEFT="top-left-radius",po.SELECTION_BOTTOM_LEFT="bottom-left-radius",po.SELECTION_TOP_RIGHT="top-right-radius",po.SELECTION_BOTTOM_RIGHT="bottom-right-radius",po.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",po.ROUNDED_PIECE_WIDTH=10,Object(Jn.e)(function(ze,Ce){var v=ze.getColor(ua.cb);v&&!v.isTransparent()&&Ce.addRule(".monaco-editor .view-line span.inline-selected-text { color: ".concat(v,"; }"))});function zo(ze){return ze<0?-ze:ze}var Ss=a("2Tsy"),Xo=Object(L.a)(function ze(Ce,v,m,u,g,O,te){Object(Q.a)(this,ze),this.top=Ce,this.left=v,this.paddingLeft=m,this.width=u,this.height=g,this.textContent=O,this.textContentClassName=te}),Ko=function(){function ze(Ce){Object(Q.a)(this,ze),this._context=Ce;var v=this._context.configuration.options,m=v.get(48);this._cursorStyle=v.get(26),this._lineHeight=v.get(64),this._typicalHalfwidthCharacterWidth=m.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(v.get(29),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Object(bt.b)(document.createElement("div")),this._domNode.setClassName("cursor ".concat(Gt.a)),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),Object(St.a)(this._domNode,m),this._domNode.setDisplay("none"),this._position=new Dn.a(1,1),this._lastRenderedContent="",this._renderData=null}return Object(L.a)(ze,[{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return this._position}},{key:"show",value:function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}},{key:"hide",value:function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}},{key:"onConfigurationChanged",value:function(v){var m=this._context.configuration.options,u=m.get(48);return this._cursorStyle=m.get(26),this._lineHeight=m.get(64),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(m.get(29),this._typicalHalfwidthCharacterWidth),Object(St.a)(this._domNode,u),!0}},{key:"onCursorPositionChanged",value:function(v,m){return m?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=v,!0}},{key:"_getGraphemeAwarePosition",value:function(){var v=this._position,m=v.lineNumber,u=v.column,g=this._context.viewModel.getLineContent(m),O=pr.w(g,u-1),te=Object(le.a)(O,2),Le=te[0],Me=te[1];return[new Dn.a(m,Le+1),g.substring(Le,Me)]}},{key:"_prepareRender",value:function(v){var m="",u="",g=this._getGraphemeAwarePosition(),O=Object(le.a)(g,2),te=O[0],Le=O[1];if(this._cursorStyle===w.j.Line||this._cursorStyle===w.j.LineThin){var Me=v.visibleRangeForPosition(te);if(!Me||Me.outsideRenderedLine)return null;var at;this._cursorStyle===w.j.Line?(at=U.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),at>2&&(m=Le,u=this._getTokenClassName(te))):at=U.computeScreenAwareSize(1);var Ot=Me.left,Mt=0;at>=2&&Ot>=1&&(Mt=1,Ot-=Mt);var Qt=v.getVerticalOffsetForLineNumber(te.lineNumber)-v.bigNumbersDelta;return new Xo(Qt,Ot,Mt,at,this._lineHeight,m,u)}var Ht=v.linesVisibleRangesForRange(new An.a(te.lineNumber,te.column,te.lineNumber,te.column+Le.length),!1);if(!Ht||Ht.length===0)return null;var dt=Ht[0];if(dt.outsideRenderedLine||dt.ranges.length===0)return null;var Cn=dt.ranges[0],Pn=Le==="	"?this._typicalHalfwidthCharacterWidth:Cn.width<1?this._typicalHalfwidthCharacterWidth:Cn.width;this._cursorStyle===w.j.Block&&(m=Le,u=this._getTokenClassName(te));var ni=v.getVerticalOffsetForLineNumber(te.lineNumber)-v.bigNumbersDelta,hi=this._lineHeight;return(this._cursorStyle===w.j.Underline||this._cursorStyle===w.j.UnderlineThin)&&(ni+=this._lineHeight-2,hi=2),new Xo(ni,Cn.left,0,Pn,hi,m,u)}},{key:"_getTokenClassName",value:function(v){var m=this._context.viewModel.getViewLineData(v.lineNumber),u=m.tokens.findTokenIndexAtOffset(v.column-1);return m.tokens.getClassName(u)}},{key:"prepareRender",value:function(v){this._renderData=this._prepareRender(v)}},{key:"render",value:function(v){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor ".concat(Gt.a," ").concat(this._renderData.textContentClassName)),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}]),ze}(),ds=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this,m);var g=u._context.configuration.options;return u._readOnly=g.get(88),u._cursorBlinking=g.get(24),u._cursorStyle=g.get(26),u._cursorSmoothCaretAnimation=g.get(25),u._selectionIsEmpty=!0,u._isComposingInput=!1,u._isVisible=!1,u._primaryCursor=new Ko(u._context),u._secondaryCursors=[],u._renderData=[],u._domNode=Object(bt.b)(document.createElement("div")),u._domNode.setAttribute("role","presentation"),u._domNode.setAttribute("aria-hidden","true"),u._updateDomClassName(),u._domNode.appendChild(u._primaryCursor.getDomNode()),u._startCursorBlinkAnimation=new Zi.i,u._cursorFlatBlinkInterval=new Zi.e,u._blinkingEnabled=!1,u._editorHasFocus=!1,u._updateBlinking(),u}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}},{key:"getDomNode",value:function(){return this._domNode}},{key:"onCompositionStart",value:function(u){return this._isComposingInput=!0,this._updateBlinking(),!0}},{key:"onCompositionEnd",value:function(u){return this._isComposingInput=!1,this._updateBlinking(),!0}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options;this._readOnly=g.get(88),this._cursorBlinking=g.get(24),this._cursorStyle=g.get(26),this._cursorSmoothCaretAnimation=g.get(25),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(u);for(var O=0,te=this._secondaryCursors.length;O<te;O++)this._secondaryCursors[O].onConfigurationChanged(u);return!0}},{key:"_onCursorPositionChanged",value:function(u,g,O){var te=this._secondaryCursors.length!==g.length||this._cursorSmoothCaretAnimation==="explicit"&&O!==3;if(this._primaryCursor.onCursorPositionChanged(u,te),this._updateBlinking(),this._secondaryCursors.length<g.length)for(var Le=g.length-this._secondaryCursors.length,Me=0;Me<Le;Me++){var at=new Ko(this._context);this._domNode.domNode.insertBefore(at.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(at)}else if(this._secondaryCursors.length>g.length)for(var Ot=this._secondaryCursors.length-g.length,Mt=0;Mt<Ot;Mt++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(var Qt=0;Qt<g.length;Qt++)this._secondaryCursors[Qt].onCursorPositionChanged(g[Qt],te)}},{key:"onCursorStateChanged",value:function(u){for(var g=[],O=0,te=u.selections.length;O<te;O++)g[O]=u.selections[O].getPosition();this._onCursorPositionChanged(g[0],g.slice(1),u.reason);var Le=u.selections[0].isEmpty();return this._selectionIsEmpty!==Le&&(this._selectionIsEmpty=Le,this._updateDomClassName()),!0}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onFocusChanged",value:function(u){return this._editorHasFocus=u.isFocused,this._updateBlinking(),!1}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return!0}},{key:"onTokensChanged",value:function(u){var g=function(at){for(var Ot=0,Mt=u.ranges.length;Ot<Mt;Ot++)if(u.ranges[Ot].fromLineNumber<=at.lineNumber&&at.lineNumber<=u.ranges[Ot].toLineNumber)return!0;return!1};if(g(this._primaryCursor.getPosition()))return!0;var O=Object(E.a)(this._secondaryCursors),te;try{for(O.s();!(te=O.n()).done;){var Le=te.value;if(g(Le.getPosition()))return!0}}catch(Me){O.e(Me)}finally{O.f()}return!1}},{key:"onZonesChanged",value:function(u){return!0}},{key:"_getCursorBlinking",value:function(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}},{key:"_updateBlinking",value:function(){var u=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var g=this._getCursorBlinking(),O=g===0,te=g===5;O?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!O&&!te&&(g===1?this._cursorFlatBlinkInterval.cancelAndSet(function(){u._isVisible?u._hide():u._show()},v.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(function(){u._blinkingEnabled=!0,u._updateDomClassName()},v.BLINK_INTERVAL))}},{key:"_updateDomClassName",value:function(){this._domNode.setClassName(this._getClassName())}},{key:"_getClassName",value:function(){var u="cursors-layer";switch(this._selectionIsEmpty||(u+=" has-selection"),this._cursorStyle){case w.j.Line:u+=" cursor-line-style";break;case w.j.Block:u+=" cursor-block-style";break;case w.j.Underline:u+=" cursor-underline-style";break;case w.j.LineThin:u+=" cursor-line-thin-style";break;case w.j.BlockOutline:u+=" cursor-block-outline-style";break;case w.j.UnderlineThin:u+=" cursor-underline-thin-style";break;default:u+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:u+=" cursor-blink";break;case 2:u+=" cursor-smooth";break;case 3:u+=" cursor-phase";break;case 4:u+=" cursor-expand";break;case 5:u+=" cursor-solid";break;default:u+=" cursor-solid"}else u+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(u+=" cursor-smooth-caret-animation"),u}},{key:"_show",value:function(){this._primaryCursor.show();for(var u=0,g=this._secondaryCursors.length;u<g;u++)this._secondaryCursors[u].show();this._isVisible=!0}},{key:"_hide",value:function(){this._primaryCursor.hide();for(var u=0,g=this._secondaryCursors.length;u<g;u++)this._secondaryCursors[u].hide();this._isVisible=!1}},{key:"prepareRender",value:function(u){this._primaryCursor.prepareRender(u);for(var g=0,O=this._secondaryCursors.length;g<O;g++)this._secondaryCursors[g].prepareRender(u)}},{key:"render",value:function(u){var g=[],O=0,te=this._primaryCursor.render(u);te&&(g[O++]=te);for(var Le=0,Me=this._secondaryCursors.length;Le<Me;Le++){var at=this._secondaryCursors[Le].render(u);at&&(g[O++]=at)}this._renderData=g}},{key:"getLastRenderData",value:function(){return this._renderData}}]),v}(Te);ds.BLINK_INTERVAL=500,Object(Jn.e)(function(ze,Ce){var v=ze.getColor(ii.v);if(v){var m=ze.getColor(ii.u);m||(m=v.opposite()),Ce.addRule(".monaco-editor .cursors-layer .cursor { background-color: ".concat(v,"; border-color: ").concat(v,"; color: ").concat(m,"; }")),Object(Kt.c)(ze.type)&&Ce.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ".concat(m,"; border-right: 1px solid ").concat(m,"; }"))}});var go=function(){throw new Error("Invalid change accessor")},Go=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;Object(Q.a)(this,v),u=Ce.call(this,m);var g=u._context.configuration.options,O=g.get(140);return u._lineHeight=g.get(64),u._contentWidth=O.contentWidth,u._contentLeft=O.contentLeft,u.domNode=Object(bt.b)(document.createElement("div")),u.domNode.setClassName("view-zones"),u.domNode.setPosition("absolute"),u.domNode.setAttribute("role","presentation"),u.domNode.setAttribute("aria-hidden","true"),u.marginDomNode=Object(bt.b)(document.createElement("div")),u.marginDomNode.setClassName("margin-view-zones"),u.marginDomNode.setPosition("absolute"),u.marginDomNode.setAttribute("role","presentation"),u.marginDomNode.setAttribute("aria-hidden","true"),u._zones={},u}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this),this._zones={}}},{key:"_recomputeWhitespacesProps",value:function(){var u=this,g=this._context.viewLayout.getWhitespaces(),O=new Map,te=Object(E.a)(g),Le;try{for(te.s();!(Le=te.n()).done;){var Me=Le.value;O.set(Me.id,Me)}}catch(Ot){te.e(Ot)}finally{te.f()}var at=!1;return this._context.viewModel.changeWhitespace(function(Ot){for(var Mt=Object.keys(u._zones),Qt=0,Ht=Mt.length;Qt<Ht;Qt++){var dt=Mt[Qt],Cn=u._zones[dt],Pn=u._computeWhitespaceProps(Cn.delegate);Cn.isInHiddenArea=Pn.isInHiddenArea;var ni=O.get(dt);ni&&(ni.afterLineNumber!==Pn.afterViewLineNumber||ni.height!==Pn.heightInPx)&&(Ot.changeOneWhitespace(dt,Pn.afterViewLineNumber,Pn.heightInPx),u._safeCallOnComputedHeight(Cn.delegate,Pn.heightInPx),at=!0)}}),at}},{key:"onConfigurationChanged",value:function(u){var g=this._context.configuration.options,O=g.get(140);return this._lineHeight=g.get(64),this._contentWidth=O.contentWidth,this._contentLeft=O.contentLeft,u.hasChanged(64)&&this._recomputeWhitespacesProps(),!0}},{key:"onLineMappingChanged",value:function(u){return this._recomputeWhitespacesProps()}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged||u.scrollWidthChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"_getZoneOrdinal",value:function(u){var g,O;return(O=(g=u.ordinal)!==null&&g!==void 0?g:u.afterColumn)!==null&&O!==void 0?O:1e4}},{key:"_computeWhitespaceProps",value:function(u){if(u.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(u),minWidthInPx:this._minWidthInPixels(u)};var g;if(typeof u.afterColumn!="undefined")g=this._context.viewModel.model.validatePosition({lineNumber:u.afterLineNumber,column:u.afterColumn});else{var O=this._context.viewModel.model.validatePosition({lineNumber:u.afterLineNumber,column:1}).lineNumber;g=new Dn.a(O,this._context.viewModel.model.getLineMaxColumn(O))}var te;g.column===this._context.viewModel.model.getLineMaxColumn(g.lineNumber)?te=this._context.viewModel.model.validatePosition({lineNumber:g.lineNumber+1,column:1}):te=this._context.viewModel.model.validatePosition({lineNumber:g.lineNumber,column:g.column+1});var Le=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(g,u.afterColumnAffinity),Me=u.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(te);return{isInHiddenArea:!Me,afterViewLineNumber:Le.lineNumber,heightInPx:Me?this._heightInPixels(u):0,minWidthInPx:this._minWidthInPixels(u)}}},{key:"changeViewZones",value:function(u){var g=this,O=!1;return this._context.viewModel.changeWhitespace(function(te){var Le={addZone:function(at){return O=!0,g._addZone(te,at)},removeZone:function(at){!at||(O=g._removeZone(te,at)||O)},layoutZone:function(at){!at||(O=g._layoutZone(te,at)||O)}};Jo(u,Le),Le.addZone=go,Le.removeZone=go,Le.layoutZone=go}),O}},{key:"_addZone",value:function(u,g){var O=this._computeWhitespaceProps(g),te=u.insertWhitespace(O.afterViewLineNumber,this._getZoneOrdinal(g),O.heightInPx,O.minWidthInPx),Le={whitespaceId:te,delegate:g,isInHiddenArea:O.isInHiddenArea,isVisible:!1,domNode:Object(bt.b)(g.domNode),marginDomNode:g.marginDomNode?Object(bt.b)(g.marginDomNode):null};return this._safeCallOnComputedHeight(Le.delegate,O.heightInPx),Le.domNode.setPosition("absolute"),Le.domNode.domNode.style.width="100%",Le.domNode.setDisplay("none"),Le.domNode.setAttribute("monaco-view-zone",Le.whitespaceId),this.domNode.appendChild(Le.domNode),Le.marginDomNode&&(Le.marginDomNode.setPosition("absolute"),Le.marginDomNode.domNode.style.width="100%",Le.marginDomNode.setDisplay("none"),Le.marginDomNode.setAttribute("monaco-view-zone",Le.whitespaceId),this.marginDomNode.appendChild(Le.marginDomNode)),this._zones[Le.whitespaceId]=Le,this.setShouldRender(),Le.whitespaceId}},{key:"_removeZone",value:function(u,g){if(this._zones.hasOwnProperty(g)){var O=this._zones[g];return delete this._zones[g],u.removeWhitespace(O.whitespaceId),O.domNode.removeAttribute("monaco-visible-view-zone"),O.domNode.removeAttribute("monaco-view-zone"),O.domNode.domNode.parentNode.removeChild(O.domNode.domNode),O.marginDomNode&&(O.marginDomNode.removeAttribute("monaco-visible-view-zone"),O.marginDomNode.removeAttribute("monaco-view-zone"),O.marginDomNode.domNode.parentNode.removeChild(O.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}},{key:"_layoutZone",value:function(u,g){if(this._zones.hasOwnProperty(g)){var O=this._zones[g],te=this._computeWhitespaceProps(O.delegate);return O.isInHiddenArea=te.isInHiddenArea,u.changeOneWhitespace(O.whitespaceId,te.afterViewLineNumber,te.heightInPx),this._safeCallOnComputedHeight(O.delegate,te.heightInPx),this.setShouldRender(),!0}return!1}},{key:"shouldSuppressMouseDownOnViewZone",value:function(u){if(this._zones.hasOwnProperty(u)){var g=this._zones[u];return Boolean(g.delegate.suppressMouseDown)}return!1}},{key:"_heightInPixels",value:function(u){return typeof u.heightInPx=="number"?u.heightInPx:typeof u.heightInLines=="number"?this._lineHeight*u.heightInLines:this._lineHeight}},{key:"_minWidthInPixels",value:function(u){return typeof u.minWidthInPx=="number"?u.minWidthInPx:0}},{key:"_safeCallOnComputedHeight",value:function(u,g){if(typeof u.onComputedHeight=="function")try{u.onComputedHeight(g)}catch(O){Object(d.h)(O)}}},{key:"_safeCallOnDomNodeTop",value:function(u,g){if(typeof u.onDomNodeTop=="function")try{u.onDomNodeTop(g)}catch(O){Object(d.h)(O)}}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){var g=u.viewportData.whitespaceViewportData,O={},te=!1,Le=Object(E.a)(g),Me;try{for(Le.s();!(Me=Le.n()).done;){var at=Me.value;this._zones[at.id].isInHiddenArea||(O[at.id]=at,te=!0)}}catch(hi){Le.e(hi)}finally{Le.f()}for(var Ot=Object.keys(this._zones),Mt=0,Qt=Ot.length;Mt<Qt;Mt++){var Ht=Ot[Mt],dt=this._zones[Ht],Cn=0,Pn=0,ni="none";O.hasOwnProperty(Ht)?(Cn=O[Ht].verticalOffset-u.bigNumbersDelta,Pn=O[Ht].height,ni="block",dt.isVisible||(dt.domNode.setAttribute("monaco-visible-view-zone","true"),dt.isVisible=!0),this._safeCallOnDomNodeTop(dt.delegate,u.getScrolledTopFromAbsoluteTop(O[Ht].verticalOffset))):(dt.isVisible&&(dt.domNode.removeAttribute("monaco-visible-view-zone"),dt.isVisible=!1),this._safeCallOnDomNodeTop(dt.delegate,u.getScrolledTopFromAbsoluteTop(-1e6))),dt.domNode.setTop(Cn),dt.domNode.setHeight(Pn),dt.domNode.setDisplay(ni),dt.marginDomNode&&(dt.marginDomNode.setTop(Cn),dt.marginDomNode.setHeight(Pn),dt.marginDomNode.setDisplay(ni))}te&&(this.domNode.setWidth(Math.max(u.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}]),v}(Te);function Jo(ze,Ce){try{return ze(Ce)}catch(v){Object(d.h)(v)}}var $o=function(){function ze(Ce){Object(Q.a)(this,ze),this._theme=Ce}return Object(L.a)(ze,[{key:"type",get:function(){return this._theme.type}},{key:"value",get:function(){return this._theme}},{key:"update",value:function(v){this._theme=v}},{key:"getColor",value:function(v){return this._theme.getColor(v)}}]),ze}(),As=function(){function ze(Ce,v,m){Object(Q.a)(this,ze),this.configuration=Ce,this.theme=new $o(v),this.viewModel=m,this.viewLayout=m.viewLayout}return Object(L.a)(ze,[{key:"addEventHandler",value:function(v){this.viewModel.addViewEventHandler(v)}},{key:"removeEventHandler",value:function(v){this.viewModel.removeViewEventHandler(v)}}]),ze}(),ou=function(){function ze(Ce,v,m,u){Object(Q.a)(this,ze),this.selections=Ce,this.startLineNumber=v.startLineNumber|0,this.endLineNumber=v.endLineNumber|0,this.relativeVerticalOffset=v.relativeVerticalOffset,this.bigNumbersDelta=v.bigNumbersDelta|0,this.whitespaceViewportData=m,this._model=u,this.visibleRange=new An.a(v.startLineNumber,this._model.getLineMinColumn(v.startLineNumber),v.endLineNumber,this._model.getLineMaxColumn(v.endLineNumber))}return Object(L.a)(ze,[{key:"getViewLineRenderingData",value:function(v){return this._model.getViewportViewLineRenderingData(this.visibleRange,v)}},{key:"getDecorationsInViewport",value:function(){return this._model.getDecorationsInViewport(this.visibleRange)}}]),ze}(),su=a("pZ+Q"),Es=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;return Object(Q.a)(this,v),u=Ce.call(this,m),u.blocks=[],u.contentWidth=-1,u.contentLeft=0,u.domNode=Object(bt.b)(document.createElement("div")),u.domNode.setAttribute("role","presentation"),u.domNode.setAttribute("aria-hidden","true"),u.domNode.setClassName("blockDecorations-container"),u.update(),u}return Object(L.a)(v,[{key:"update",value:function(){var u=!1,g=this._context.configuration.options,O=g.get(140),te=O.contentWidth-O.verticalScrollbarWidth;this.contentWidth!==te&&(this.contentWidth=te,u=!0);var Le=O.contentLeft;return this.contentLeft!==Le&&(this.contentLeft=Le,u=!0),u}},{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){return this.update()}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged||u.scrollLeftChanged}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onZonesChanged",value:function(u){return!0}},{key:"prepareRender",value:function(u){}},{key:"render",value:function(u){var g,O=0,te=u.getDecorationsInViewport(),Le=Object(E.a)(te),Me;try{for(Le.s();!(Me=Le.n()).done;){var at=Me.value;if(!!at.options.blockClassName){var Ot=this.blocks[O];Ot||(Ot=this.blocks[O]=Object(bt.b)(document.createElement("div")),this.domNode.appendChild(Ot));var Mt=void 0,Qt=void 0;at.options.blockIsAfterEnd?(Mt=u.getVerticalOffsetAfterLineNumber(at.range.endLineNumber,!1),Qt=u.getVerticalOffsetAfterLineNumber(at.range.endLineNumber,!0)):(Mt=u.getVerticalOffsetForLineNumber(at.range.startLineNumber,!0),Qt=at.range.isEmpty()&&!at.options.blockDoesNotCollapse?u.getVerticalOffsetForLineNumber(at.range.startLineNumber,!1):u.getVerticalOffsetAfterLineNumber(at.range.endLineNumber,!0));var Ht=(g=at.options.blockPadding)!==null&&g!==void 0?g:[0,0,0,0],dt=Object(le.a)(Ht,4),Cn=dt[0],Pn=dt[1],ni=dt[2],hi=dt[3];Ot.setClassName("blockDecorations-block "+at.options.blockClassName),Ot.setLeft(this.contentLeft-hi),Ot.setWidth(this.contentWidth+hi+Pn),Ot.setTop(Mt-u.scrollTop-Cn),Ot.setHeight(Qt-Mt+Cn+ni),O++}}}catch(wi){Le.e(wi)}finally{Le.f()}for(var Di=O;Di<this.blocks.length;Di++)this.blocks[Di].domNode.remove();this.blocks.length=O}}]),v}(Te),ul=a("W7of"),Us=a("WDji"),lu=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;return Object(Q.a)(this,v),u=Ce.call(this),u._context=m,u._options=new cl(u._context.configuration),u._selection=[],u._renderResult=null,u._context.addEventHandler(Object(ve.a)(u)),u}return Object(L.a)(v,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._renderResult=null,Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(u){var g=new cl(this._context.configuration);return this._options.equals(g)?u.hasChanged(140):(this._options=g,!0)}},{key:"onCursorStateChanged",value:function(u){return this._selection=u.selections,this._options.renderWhitespace==="selection"}},{key:"onDecorationsChanged",value:function(u){return!0}},{key:"onFlushed",value:function(u){return!0}},{key:"onLinesChanged",value:function(u){return!0}},{key:"onLinesDeleted",value:function(u){return!0}},{key:"onLinesInserted",value:function(u){return!0}},{key:"onScrollChanged",value:function(u){return u.scrollTopChanged}},{key:"onZonesChanged",value:function(u){return!0}},{key:"prepareRender",value:function(u){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}for(var g=u.visibleRange.startLineNumber,O=u.visibleRange.endLineNumber,te=O-g+1,Le=new Array(te),Me=0;Me<te;Me++)Le[Me]=!0;var at=this._context.viewModel.getMinimapLinesRenderingData(u.viewportData.startLineNumber,u.viewportData.endLineNumber,Le);this._renderResult=[];for(var Ot=u.viewportData.startLineNumber;Ot<=u.viewportData.endLineNumber;Ot++){var Mt=Ot-u.viewportData.startLineNumber,Qt=at.data[Mt],Ht=null;if(this._options.renderWhitespace==="selection"){var dt=this._selection,Cn=Object(E.a)(dt),Pn;try{for(Cn.s();!(Pn=Cn.n()).done;){var ni=Pn.value;if(!(ni.endLineNumber<Ot||ni.startLineNumber>Ot)){var hi=ni.startLineNumber===Ot?ni.startColumn:Qt.minColumn,Di=ni.endLineNumber===Ot?ni.endColumn:Qt.maxColumn;hi<Di&&(Ht||(Ht=[]),Ht.push(new ot.b(hi-1,Di-1)))}}}catch(wi){Cn.e(wi)}finally{Cn.f()}}this._renderResult[Mt]=this._applyRenderWhitespace(u,Ot,Ht,Qt)}}},{key:"_applyRenderWhitespace",value:function(u,g,O,te){if(this._options.renderWhitespace==="selection"&&!O||this._options.renderWhitespace==="trailing"&&te.continuesWithWrappedLine)return"";var Le=this._context.theme.getColor(ii.E),Me=this._options.renderWithSVG,at=te.content,Ot=this._options.stopRenderingLineAfter===-1?at.length:Math.min(this._options.stopRenderingLineAfter,at.length),Mt=te.continuesWithWrappedLine,Qt=te.minColumn-1,Ht=this._options.renderWhitespace==="boundary",dt=this._options.renderWhitespace==="trailing",Cn=this._options.lineHeight,Pn=this._options.middotWidth,ni=this._options.wsmiddotWidth,hi=this._options.spaceWidth,Di=Math.abs(ni-hi),wi=Math.abs(Pn-hi),nr=Di<wi?11825:183,Ni=this._options.canUseHalfwidthRightwardsArrow,Wi="",er=!1,br=pr.u(at),xr;br===-1?(er=!0,br=Ot,xr=Ot):xr=pr.J(at);for(var Ur=0,ca=O&&O[Ur],Ca=0,ra=Qt;ra<Ot;ra++){var Ha=at.charCodeAt(ra);if(ca&&ra>=ca.endOffset&&(Ur++,ca=O&&O[Ur]),!(Ha!==9&&Ha!==32)&&!(dt&&!er&&ra<=xr)){if(Ht&&ra>=br&&ra<=xr&&Ha===32){var Ja=ra-1>=0?at.charCodeAt(ra-1):0,So=ra+1<Ot?at.charCodeAt(ra+1):0;if(Ja!==32&&So!==32)continue}if(Ht&&Mt&&ra===Ot-1){var Ba=ra-1>=0?at.charCodeAt(ra-1):0,Wo=Ha===32&&Ba!==32&&Ba!==9;if(Wo)continue}if(!(O&&(!ca||ca.startOffset>ra||ca.endOffset<=ra))){var Ka=u.visibleRangeForPosition(new Dn.a(g,ra+1));!Ka||(Me?(Ca=Math.max(Ca,Ka.left),Ha===9?Wi+=this._renderArrow(Cn,hi,Ka.left):Wi+='<circle cx="'.concat((Ka.left+hi/2).toFixed(2),'" cy="').concat((Cn/2).toFixed(2),'" r="').concat((hi/7).toFixed(2),'" />')):Ha===9?Wi+='<div class="mwh" style="left:'.concat(Ka.left,"px;height:").concat(Cn,'px;">').concat(Ni?String.fromCharCode(65515):String.fromCharCode(8594),"</div>"):Wi+='<div class="mwh" style="left:'.concat(Ka.left,"px;height:").concat(Cn,'px;">').concat(String.fromCharCode(nr),"</div>"))}}}return Me?(Ca=Math.round(Ca+hi),'<svg style="position:absolute;width:'.concat(Ca,"px;height:").concat(Cn,'px" viewBox="0 0 ').concat(Ca," ").concat(Cn,'" xmlns="http://www.w3.org/2000/svg" fill="').concat(Le,'">')+Wi+"</svg>"):Wi}},{key:"_renderArrow",value:function(u,g,O){var te=g/7,Le=g,Me=u/2,at=O,Ot={x:0,y:te/2},Mt={x:100/125*Le,y:Ot.y},Qt={x:Mt.x-.2*Mt.x,y:Mt.y+.2*Mt.x},Ht={x:Qt.x+.1*Mt.x,y:Qt.y+.1*Mt.x},dt={x:Ht.x+.35*Mt.x,y:Ht.y-.35*Mt.x},Cn={x:dt.x,y:-dt.y},Pn={x:Ht.x,y:-Ht.y},ni={x:Qt.x,y:-Qt.y},hi={x:Mt.x,y:-Mt.y},Di={x:Ot.x,y:-Ot.y},wi=[Ot,Mt,Qt,Ht,dt,Cn,Pn,ni,hi,Di],nr=wi.map(function(Ni){return"".concat((at+Ni.x).toFixed(2)," ").concat((Me+Ni.y).toFixed(2))}).join(" L ");return'<path d="M '.concat(nr,'" />')}},{key:"render",value:function(u,g){if(!this._renderResult)return"";var O=g-u;return O<0||O>=this._renderResult.length?"":this._renderResult[O]}}]),v}(Qe),cl=function(){function ze(Ce){Object(Q.a)(this,ze);var v=Ce.options,m=v.get(48),u=v.get(36);u==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):u==="svg"?(this.renderWhitespace=v.get(95),this.renderWithSVG=!0):(this.renderWhitespace=v.get(95),this.renderWithSVG=!1),this.spaceWidth=m.spaceWidth,this.middotWidth=m.middotWidth,this.wsmiddotWidth=m.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=m.canUseHalfwidthRightwardsArrow,this.lineHeight=v.get(64),this.stopRenderingLineAfter=v.get(113)}return Object(L.a)(ze,[{key:"equals",value:function(v){return this.renderWhitespace===v.renderWhitespace&&this.renderWithSVG===v.renderWithSVG&&this.spaceWidth===v.spaceWidth&&this.middotWidth===v.middotWidth&&this.wsmiddotWidth===v.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.lineHeight===v.lineHeight&&this.stopRenderingLineAfter===v.stopRenderingLineAfter}}]),ze}(),dl=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g,O,te,Le){var Me;Object(Q.a)(this,v),Me=Ce.call(this),Me._selections=[new Ct.a(1,1,1,1)],Me._renderAnimationFrame=null;var at=new pn(u,O,te,m);Me._context=new As(u,g,O),Me._context.addEventHandler(Object(ve.a)(Me)),Me._viewParts=[],Me._textAreaHandler=new on(Me._context,at,Me._createTextAreaHandlerHelper()),Me._viewParts.push(Me._textAreaHandler),Me._linesContent=Object(bt.b)(document.createElement("div")),Me._linesContent.setClassName("lines-content monaco-editor-background"),Me._linesContent.setPosition("absolute"),Me.domNode=Object(bt.b)(document.createElement("div")),Me.domNode.setClassName(Me._getEditorClassName()),Me.domNode.setAttribute("role","code"),Me._overflowGuardContainer=Object(bt.b)(document.createElement("div")),fe.write(Me._overflowGuardContainer,3),Me._overflowGuardContainer.setClassName("overflow-guard"),Me._scrollbar=new oi(Me._context,Me._linesContent,Me.domNode,Me._overflowGuardContainer),Me._viewParts.push(Me._scrollbar),Me._viewLines=new xa(Me._context,Me._linesContent),Me._viewZones=new Go(Me._context),Me._viewParts.push(Me._viewZones);var Ot=new Bt(Me._context);Me._viewParts.push(Ot);var Mt=new ya(Me._context);Me._viewParts.push(Mt);var Qt=new Mr(Me._context);Me._viewParts.push(Qt),Qt.addDynamicOverlay(new Ut(Me._context)),Qt.addDynamicOverlay(new po(Me._context)),Qt.addDynamicOverlay(new Vn(Me._context)),Qt.addDynamicOverlay(new Wn(Me._context)),Qt.addDynamicOverlay(new lu(Me._context));var Ht=new na(Me._context);Me._viewParts.push(Ht),Ht.addDynamicOverlay(new Nn(Me._context)),Ht.addDynamicOverlay(new Tr(Me._context)),Ht.addDynamicOverlay(new ro(Me._context)),Ht.addDynamicOverlay(new ia(Me._context)),Ht.addDynamicOverlay(new Li(Me._context));var dt=new jn(Me._context);dt.getDomNode().appendChild(Me._viewZones.marginDomNode),dt.getDomNode().appendChild(Ht.getDomNode()),Me._viewParts.push(dt),Me._contentWidgets=new Br(Me._context,Me.domNode),Me._viewParts.push(Me._contentWidgets),Me._viewCursors=new ds(Me._context),Me._viewParts.push(Me._viewCursors),Me._overlayWidgets=new yi(Me._context),Me._viewParts.push(Me._overlayWidgets);var Cn=new Gr(Me._context);Me._viewParts.push(Cn);var Pn=new Es(Me._context);Me._viewParts.push(Pn);var ni=new mn(Me._context);if(Me._viewParts.push(ni),Ot){var hi=Me._scrollbar.getOverviewRulerLayoutInfo();hi.parent.insertBefore(Ot.getDomNode(),hi.insertBefore)}return Me._linesContent.appendChild(Qt.getDomNode()),Me._linesContent.appendChild(Cn.domNode),Me._linesContent.appendChild(Me._viewZones.domNode),Me._linesContent.appendChild(Me._viewLines.getDomNode()),Me._linesContent.appendChild(Me._contentWidgets.domNode),Me._linesContent.appendChild(Me._viewCursors.getDomNode()),Me._overflowGuardContainer.appendChild(dt.getDomNode()),Me._overflowGuardContainer.appendChild(Me._scrollbar.getDomNode()),Me._overflowGuardContainer.appendChild(Mt.getDomNode()),Me._overflowGuardContainer.appendChild(Me._textAreaHandler.textArea),Me._overflowGuardContainer.appendChild(Me._textAreaHandler.textAreaCover),Me._overflowGuardContainer.appendChild(Me._overlayWidgets.getDomNode()),Me._overflowGuardContainer.appendChild(ni.getDomNode()),Me._overflowGuardContainer.appendChild(Pn.domNode),Me.domNode.appendChild(Me._overflowGuardContainer),Le?Le.appendChild(Me._contentWidgets.overflowingContentWidgetsDomNode.domNode):Me.domNode.appendChild(Me._contentWidgets.overflowingContentWidgetsDomNode),Me._applyLayout(),Me._pointerHandler=Me._register(new Qi(Me._context,at,Me._createPointerHandlerHelper())),Me}return Object(L.a)(v,[{key:"_flushAccumulatedAndRenderNow",value:function(){ul.a.onRenderStart(),this._renderNow()}},{key:"_createPointerHandlerHelper",value:function(){var u=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:function(){u.focus()},dispatchTextAreaEvent:function(O){u._textAreaHandler.textArea.domNode.dispatchEvent(O)},getLastRenderData:function(){var O=u._viewCursors.getLastRenderData()||[],te=u._textAreaHandler.getLastRenderData();return new Cr(O,te)},renderNow:function(){u.render(!0,!1)},shouldSuppressMouseDownOnViewZone:function(O){return u._viewZones.shouldSuppressMouseDownOnViewZone(O)},shouldSuppressMouseDownOnWidget:function(O){return u._contentWidgets.shouldSuppressMouseDownOnWidget(O)},getPositionFromDOMInfo:function(O,te){return u._flushAccumulatedAndRenderNow(),u._viewLines.getPositionFromDOMInfo(O,te)},visibleRangeForPosition:function(O,te){return u._flushAccumulatedAndRenderNow(),u._viewLines.visibleRangeForPosition(new Dn.a(O,te))},getLineWidth:function(O){return u._flushAccumulatedAndRenderNow(),u._viewLines.getLineWidth(O)}}}},{key:"_createTextAreaHandlerHelper",value:function(){var u=this;return{visibleRangeForPosition:function(O){return u._flushAccumulatedAndRenderNow(),u._viewLines.visibleRangeForPosition(O)}}}},{key:"_applyLayout",value:function(){var u=this._context.configuration.options,g=u.get(140);this.domNode.setWidth(g.width),this.domNode.setHeight(g.height),this._overflowGuardContainer.setWidth(g.width),this._overflowGuardContainer.setHeight(g.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}},{key:"_getEditorClassName",value:function(){var u=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(137)+" "+Object(Jn.d)(this._context.theme.type)+u}},{key:"handleEvents",value:function(u){Object(re.a)(Object(J.a)(v.prototype),"handleEvents",this).call(this,u),this._scheduleRender()}},{key:"onConfigurationChanged",value:function(u){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}},{key:"onCursorStateChanged",value:function(u){return this._selections=u.selections,!1}},{key:"onFocusChanged",value:function(u){return this.domNode.setClassName(this._getEditorClassName()),!1}},{key:"onThemeChanged",value:function(u){return this._context.theme.update(u.theme),this.domNode.setClassName(this._getEditorClassName()),!1}},{key:"dispose",value:function(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();var u=Object(E.a)(this._viewParts),g;try{for(u.s();!(g=u.n()).done;){var O=g.value;O.dispose()}}catch(te){u.e(te)}finally{u.f()}Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"_scheduleRender",value:function(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=U.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}},{key:"_onRenderScheduled",value:function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}},{key:"_renderNow",value:function(){var u=this;Wl(function(){return u._actualRender()})}},{key:"_getViewPartsToRender",value:function(){var u=[],g=0,O=Object(E.a)(this._viewParts),te;try{for(O.s();!(te=O.n()).done;){var Le=te.value;Le.shouldRender()&&(u[g++]=Le)}}catch(Me){O.e(Me)}finally{O.f()}return u}},{key:"_actualRender",value:function(){if(!!U.isInDOM(this.domNode.domNode)){var u=this._getViewPartsToRender();if(!(!this._viewLines.shouldRender()&&u.length===0)){var g=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(g.startLineNumber,g.endLineNumber,g.centeredLineNumber);var O=new ou(this._selections,g,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(O),this._viewLines.shouldRender()&&(this._viewLines.renderText(O),this._viewLines.onDidRender(),u=this._getViewPartsToRender());var te=new Ee(this._context.viewLayout,O,this._viewLines),Le=Object(E.a)(u),Me;try{for(Le.s();!(Me=Le.n()).done;){var at=Me.value;at.prepareRender(te)}}catch(Ht){Le.e(Ht)}finally{Le.f()}var Ot=Object(E.a)(u),Mt;try{for(Ot.s();!(Mt=Ot.n()).done;){var Qt=Mt.value;Qt.render(te),Qt.onDidRender()}}catch(Ht){Ot.e(Ht)}finally{Ot.f()}}}}},{key:"delegateVerticalScrollbarPointerDown",value:function(u){this._scrollbar.delegateVerticalScrollbarPointerDown(u)}},{key:"delegateScrollFromMouseWheelEvent",value:function(u){this._scrollbar.delegateScrollFromMouseWheelEvent(u)}},{key:"restoreState",value:function(u){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:u.scrollTop,scrollLeft:u.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}},{key:"getOffsetForColumn",value:function(u,g){var O=this._context.viewModel.model.validatePosition({lineNumber:u,column:g}),te=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(O);this._flushAccumulatedAndRenderNow();var Le=this._viewLines.visibleRangeForPosition(new Dn.a(te.lineNumber,te.column));return Le?Le.left:-1}},{key:"getTargetAtClientPoint",value:function(u,g){var O=this._pointerHandler.getTargetAtClientPoint(u,g);return O?ti.convertViewToModelMouseTarget(O,this._context.viewModel.coordinatesConverter):null}},{key:"createOverviewRuler",value:function(u){return new Ii(this._context,u)}},{key:"change",value:function(u){this._viewZones.changeViewZones(u),this._scheduleRender()}},{key:"render",value:function(u,g){if(g){this._viewLines.forceShouldRender();var O=Object(E.a)(this._viewParts),te;try{for(O.s();!(te=O.n()).done;){var Le=te.value;Le.forceShouldRender()}}catch(Me){O.e(Me)}finally{O.f()}}u?this._flushAccumulatedAndRenderNow():this._scheduleRender()}},{key:"writeScreenReaderContent",value:function(u){this._textAreaHandler.writeScreenReaderContent(u)}},{key:"focus",value:function(){this._textAreaHandler.focusTextArea()}},{key:"isFocused",value:function(){return this._textAreaHandler.isFocused()}},{key:"setAriaOptions",value:function(u){this._textAreaHandler.setAriaOptions(u)}},{key:"addContentWidget",value:function(u){this._contentWidgets.addWidget(u.widget),this.layoutContentWidget(u),this._scheduleRender()}},{key:"layoutContentWidget",value:function(u){var g,O,te,Le,Me,at,Ot,Mt;this._contentWidgets.setWidgetPosition(u.widget,(O=(g=u.position)===null||g===void 0?void 0:g.position)!==null&&O!==void 0?O:null,(Le=(te=u.position)===null||te===void 0?void 0:te.secondaryPosition)!==null&&Le!==void 0?Le:null,(at=(Me=u.position)===null||Me===void 0?void 0:Me.preference)!==null&&at!==void 0?at:null,(Mt=(Ot=u.position)===null||Ot===void 0?void 0:Ot.positionAffinity)!==null&&Mt!==void 0?Mt:null),this._scheduleRender()}},{key:"removeContentWidget",value:function(u){this._contentWidgets.removeWidget(u.widget),this._scheduleRender()}},{key:"addOverlayWidget",value:function(u){this._overlayWidgets.addWidget(u.widget),this.layoutOverlayWidget(u),this._scheduleRender()}},{key:"layoutOverlayWidget",value:function(u){var g=u.position?u.position.preference:null,O=this._overlayWidgets.setWidgetPosition(u.widget,g);O&&this._scheduleRender()}},{key:"removeOverlayWidget",value:function(u){this._overlayWidgets.removeWidget(u.widget),this._scheduleRender()}}]),v}(Wt);function Wl(ze){try{return ze()}catch(Ce){Object(d.h)(Ce)}}var Dl=a("9Y+e"),fc=a("iuje"),uo=a("wQH0"),Ku=a("tX9W"),eo=a("LLum"),wl=function(){function ze(Ce){Object(Q.a)(this,ze),this._selTrackedRange=null,this._trackSelection=!0,this._setState(Ce,new eo.d(new An.a(1,1,1,1),0,0,new Dn.a(1,1),0),new eo.d(new An.a(1,1,1,1),0,0,new Dn.a(1,1),0))}return Object(L.a)(ze,[{key:"dispose",value:function(v){this._removeTrackedRange(v)}},{key:"startTrackingSelection",value:function(v){this._trackSelection=!0,this._updateTrackedRange(v)}},{key:"stopTrackingSelection",value:function(v){this._trackSelection=!1,this._removeTrackedRange(v)}},{key:"_updateTrackedRange",value:function(v){!this._trackSelection||(this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}},{key:"_removeTrackedRange",value:function(v){this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,null,0)}},{key:"asCursorState",value:function(){return new eo.b(this.modelState,this.viewState)}},{key:"readSelectionFromMarkers",value:function(v){var m=v.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!m.isEmpty()?Ct.a.fromRange(m.collapseToEnd(),this.modelState.selection.getDirection()):Ct.a.fromRange(m,this.modelState.selection.getDirection())}},{key:"ensureValidState",value:function(v){this._setState(v,this.modelState,this.viewState)}},{key:"setState",value:function(v,m,u){this._setState(v,m,u)}},{key:"_setState",value:function(v,m,u){if(u&&(u=ze._validateViewState(v.viewModel,u)),m){var te=v.model.validateRange(m.selectionStart),Le=m.selectionStart.equalsRange(te)?m.selectionStartLeftoverVisibleColumns:0,Me=v.model.validatePosition(m.position),at=m.position.equals(Me)?m.leftoverVisibleColumns:0;m=new eo.d(te,m.selectionStartKind,Le,Me,at)}else{if(!u)return;var g=v.model.validateRange(v.coordinatesConverter.convertViewRangeToModelRange(u.selectionStart)),O=v.model.validatePosition(v.coordinatesConverter.convertViewPositionToModelPosition(u.position));m=new eo.d(g,u.selectionStartKind,u.selectionStartLeftoverVisibleColumns,O,u.leftoverVisibleColumns)}if(u){var dt=v.coordinatesConverter.validateViewRange(u.selectionStart,m.selectionStart),Cn=v.coordinatesConverter.validateViewPosition(u.position,m.position);u=new eo.d(dt,m.selectionStartKind,m.selectionStartLeftoverVisibleColumns,Cn,m.leftoverVisibleColumns)}else{var Ot=v.coordinatesConverter.convertModelPositionToViewPosition(new Dn.a(m.selectionStart.startLineNumber,m.selectionStart.startColumn)),Mt=v.coordinatesConverter.convertModelPositionToViewPosition(new Dn.a(m.selectionStart.endLineNumber,m.selectionStart.endColumn)),Qt=new An.a(Ot.lineNumber,Ot.column,Mt.lineNumber,Mt.column),Ht=v.coordinatesConverter.convertModelPositionToViewPosition(m.position);u=new eo.d(Qt,m.selectionStartKind,m.selectionStartLeftoverVisibleColumns,Ht,m.leftoverVisibleColumns)}this.modelState=m,this.viewState=u,this._updateTrackedRange(v)}}],[{key:"_validatePositionWithCache",value:function(v,m,u,g){return m.equals(u)?g:v.normalizePosition(m,2)}},{key:"_validateViewState",value:function(v,m){var u=m.position,g=m.selectionStart.getStartPosition(),O=m.selectionStart.getEndPosition(),te=v.normalizePosition(u,2),Le=this._validatePositionWithCache(v,g,u,te),Me=this._validatePositionWithCache(v,O,g,Le);return u.equals(te)&&g.equals(Le)&&O.equals(Me)?m:new eo.d(An.a.fromPositions(Le,Me),m.selectionStartKind,m.selectionStartLeftoverVisibleColumns+g.column-Le.column,te,m.leftoverVisibleColumns+u.column-te.column)}}]),ze}(),bo=function(){function ze(Ce){Object(Q.a)(this,ze),this.context=Ce,this.cursors=[new wl(Ce)],this.lastAddedCursorIndex=0}return Object(L.a)(ze,[{key:"dispose",value:function(){var v=Object(E.a)(this.cursors),m;try{for(v.s();!(m=v.n()).done;){var u=m.value;u.dispose(this.context)}}catch(g){v.e(g)}finally{v.f()}}},{key:"startTrackingSelections",value:function(){var v=Object(E.a)(this.cursors),m;try{for(v.s();!(m=v.n()).done;){var u=m.value;u.startTrackingSelection(this.context)}}catch(g){v.e(g)}finally{v.f()}}},{key:"stopTrackingSelections",value:function(){var v=Object(E.a)(this.cursors),m;try{for(v.s();!(m=v.n()).done;){var u=m.value;u.stopTrackingSelection(this.context)}}catch(g){v.e(g)}finally{v.f()}}},{key:"updateContext",value:function(v){this.context=v}},{key:"ensureValidState",value:function(){var v=Object(E.a)(this.cursors),m;try{for(v.s();!(m=v.n()).done;){var u=m.value;u.ensureValidState(this.context)}}catch(g){v.e(g)}finally{v.f()}}},{key:"readSelectionFromMarkers",value:function(){var v=this;return this.cursors.map(function(m){return m.readSelectionFromMarkers(v.context)})}},{key:"getAll",value:function(){return this.cursors.map(function(v){return v.asCursorState()})}},{key:"getViewPositions",value:function(){return this.cursors.map(function(v){return v.viewState.position})}},{key:"getTopMostViewPosition",value:function(){return Object(T.o)(this.cursors,Object(T.h)(function(v){return v.viewState.position},Dn.a.compare)).viewState.position}},{key:"getBottomMostViewPosition",value:function(){return Object(T.m)(this.cursors,Object(T.h)(function(v){return v.viewState.position},Dn.a.compare)).viewState.position}},{key:"getSelections",value:function(){return this.cursors.map(function(v){return v.modelState.selection})}},{key:"getViewSelections",value:function(){return this.cursors.map(function(v){return v.viewState.selection})}},{key:"setSelections",value:function(v){this.setStates(eo.b.fromModelSelections(v))}},{key:"getPrimaryCursor",value:function(){return this.cursors[0].asCursorState()}},{key:"setStates",value:function(v){v!==null&&(this.cursors[0].setState(this.context,v[0].modelState,v[0].viewState),this._setSecondaryStates(v.slice(1)))}},{key:"_setSecondaryStates",value:function(v){var m=this.cursors.length-1,u=v.length;if(m<u)for(var g=u-m,O=0;O<g;O++)this._addSecondaryCursor();else if(m>u)for(var te=m-u,Le=0;Le<te;Le++)this._removeSecondaryCursor(this.cursors.length-2);for(var Me=0;Me<u;Me++)this.cursors[Me+1].setState(this.context,v[Me].modelState,v[Me].viewState)}},{key:"killSecondaryCursors",value:function(){this._setSecondaryStates([])}},{key:"_addSecondaryCursor",value:function(){this.cursors.push(new wl(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}},{key:"getLastAddedCursorIndex",value:function(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}},{key:"_removeSecondaryCursor",value:function(v){this.lastAddedCursorIndex>=v+1&&this.lastAddedCursorIndex--,this.cursors[v+1].dispose(this.context),this.cursors.splice(v+1,1)}},{key:"normalize",value:function(){if(this.cursors.length!==1){for(var v=this.cursors.slice(0),m=[],u=0,g=v.length;u<g;u++)m.push({index:u,selection:v[u].modelState.selection});m.sort(Object(T.h)(function(xr){return xr.selection},An.a.compareRangesUsingStarts));for(var O=0;O<m.length-1;O++){var te=m[O],Le=m[O+1],Me=te.selection,at=Le.selection;if(!!this.context.cursorConfig.multiCursorMergeOverlapping){var Ot=void 0;if(at.isEmpty()||Me.isEmpty()?Ot=at.getStartPosition().isBeforeOrEqual(Me.getEndPosition()):Ot=at.getStartPosition().isBefore(Me.getEndPosition()),Ot){var Mt=te.index<Le.index?O:O+1,Qt=te.index<Le.index?O+1:O,Ht=m[Qt].index,dt=m[Mt].index,Cn=m[Qt].selection,Pn=m[Mt].selection;if(!Cn.equalsSelection(Pn)){var ni=Cn.plusRange(Pn),hi=Cn.selectionStartLineNumber===Cn.startLineNumber&&Cn.selectionStartColumn===Cn.startColumn,Di=Pn.selectionStartLineNumber===Pn.startLineNumber&&Pn.selectionStartColumn===Pn.startColumn,wi=void 0;Ht===this.lastAddedCursorIndex?(wi=hi,this.lastAddedCursorIndex=dt):wi=Di;var nr=void 0;wi?nr=new Ct.a(ni.startLineNumber,ni.startColumn,ni.endLineNumber,ni.endColumn):nr=new Ct.a(ni.endLineNumber,ni.endColumn,ni.startLineNumber,ni.startColumn),m[Mt].selection=nr;var Ni=eo.b.fromModelSelection(nr);v[dt].setState(this.context,Ni.modelState,Ni.viewState)}var Wi=Object(E.a)(m),er;try{for(Wi.s();!(er=Wi.n()).done;){var br=er.value;br.index>Ht&&br.index--}}catch(xr){Wi.e(xr)}finally{Wi.f()}v.splice(Ht,1),m.splice(Qt,1),this._removeSecondaryCursor(Ht-1),O--}}}}}}]),ze}(),aa=Object(L.a)(function ze(Ce,v,m,u){Object(Q.a)(this,ze),this._cursorContextBrand=void 0,this.model=Ce,this.viewModel=v,this.coordinatesConverter=m,this.cursorConfig=u}),Lu=a("jtXd"),zs=a("HHK3"),ks=a("p/Xk"),Ls=Object(L.a)(function ze(){Object(Q.a)(this,ze),this.type=0}),vc=Object(L.a)(function ze(){Object(Q.a)(this,ze),this.type=1}),jl=function(){function ze(Ce){Object(Q.a)(this,ze),this.type=2,this._source=Ce}return Object(L.a)(ze,[{key:"hasChanged",value:function(v){return this._source.hasChanged(v)}}]),ze}(),Vl=Object(L.a)(function ze(Ce,v,m){Object(Q.a)(this,ze),this.selections=Ce,this.modelSelections=v,this.reason=m,this.type=3}),rr=Object(L.a)(function ze(Ce){Object(Q.a)(this,ze),this.type=4,Ce?(this.affectsMinimap=Ce.affectsMinimap,this.affectsOverviewRuler=Ce.affectsOverviewRuler,this.affectsGlyphMargin=Ce.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}),oa=Object(L.a)(function ze(){Object(Q.a)(this,ze),this.type=5}),Yr=Object(L.a)(function ze(Ce){Object(Q.a)(this,ze),this.type=6,this.isFocused=Ce}),os=Object(L.a)(function ze(){Object(Q.a)(this,ze),this.type=7}),Fo=Object(L.a)(function ze(){Object(Q.a)(this,ze),this.type=8}),Rs=Object(L.a)(function ze(Ce,v){Object(Q.a)(this,ze),this.fromLineNumber=Ce,this.count=v,this.type=9}),Ns=Object(L.a)(function ze(Ce,v){Object(Q.a)(this,ze),this.type=10,this.fromLineNumber=Ce,this.toLineNumber=v}),ps=Object(L.a)(function ze(Ce,v){Object(Q.a)(this,ze),this.type=11,this.fromLineNumber=Ce,this.toLineNumber=v}),hs=Object(L.a)(function ze(Ce,v,m,u,g,O,te){Object(Q.a)(this,ze),this.source=Ce,this.minimalReveal=v,this.range=m,this.selections=u,this.verticalType=g,this.revealHorizontal=O,this.scrollType=te,this.type=12}),gc=Object(L.a)(function ze(Ce){Object(Q.a)(this,ze),this.type=13,this.scrollWidth=Ce.scrollWidth,this.scrollLeft=Ce.scrollLeft,this.scrollHeight=Ce.scrollHeight,this.scrollTop=Ce.scrollTop,this.scrollWidthChanged=Ce.scrollWidthChanged,this.scrollLeftChanged=Ce.scrollLeftChanged,this.scrollHeightChanged=Ce.scrollHeightChanged,this.scrollTopChanged=Ce.scrollTopChanged}),mc=Object(L.a)(function ze(Ce){Object(Q.a)(this,ze),this.theme=Ce,this.type=14}),xs=Object(L.a)(function ze(Ce){Object(Q.a)(this,ze),this.type=15,this.ranges=Ce}),ns=Object(L.a)(function ze(){Object(Q.a)(this,ze),this.type=16}),pc=Object(L.a)(function ze(){Object(Q.a)(this,ze),this.type=17}),Zs=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(){var m;return Object(Q.a)(this,v),m=Ce.call(this),m._onEvent=m._register(new j.b),m.onEvent=m._onEvent.event,m._eventHandlers=[],m._viewEventQueue=null,m._isConsumingViewEventQueue=!1,m._collector=null,m._collectorCnt=0,m._outgoingEvents=[],m}return Object(L.a)(v,[{key:"emitOutgoingEvent",value:function(u){this._addOutgoingEvent(u),this._emitOutgoingEvents()}},{key:"_addOutgoingEvent",value:function(u){for(var g=0,O=this._outgoingEvents.length;g<O;g++){var te=this._outgoingEvents[g].kind===u.kind?this._outgoingEvents[g].attemptToMerge(u):null;if(te){this._outgoingEvents[g]=te;return}}this._outgoingEvents.push(u)}},{key:"_emitOutgoingEvents",value:function(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;var u=this._outgoingEvents.shift();u.isNoOp()||this._onEvent.fire(u)}}},{key:"addViewEventHandler",value:function(u){for(var g=0,O=this._eventHandlers.length;g<O;g++)this._eventHandlers[g]===u&&console.warn("Detected duplicate listener in ViewEventDispatcher",u);this._eventHandlers.push(u)}},{key:"removeViewEventHandler",value:function(u){for(var g=0;g<this._eventHandlers.length;g++)if(this._eventHandlers[g]===u){this._eventHandlers.splice(g,1);break}}},{key:"beginEmitViewEvents",value:function(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new hl),this._collector}},{key:"endEmitViewEvents",value:function(){if(this._collectorCnt--,this._collectorCnt===0){var u=this._collector.outgoingEvents,g=this._collector.viewEvents;this._collector=null;var O=Object(E.a)(u),te;try{for(O.s();!(te=O.n()).done;){var Le=te.value;this._addOutgoingEvent(Le)}}catch(Me){O.e(Me)}finally{O.f()}g.length>0&&this._emitMany(g)}this._emitOutgoingEvents()}},{key:"emitSingleViewEvent",value:function(u){try{var g=this.beginEmitViewEvents();g.emitViewEvent(u)}finally{this.endEmitViewEvents()}}},{key:"_emitMany",value:function(u){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(u):this._viewEventQueue=u,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}},{key:"_consumeViewEventQueue",value:function(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}},{key:"_doConsumeQueue",value:function(){for(;this._viewEventQueue;){var u=this._viewEventQueue;this._viewEventQueue=null;var g=this._eventHandlers.slice(0),O=Object(E.a)(g),te;try{for(O.s();!(te=O.n()).done;){var Le=te.value;Le.handleEvents(u)}}catch(Me){O.e(Me)}finally{O.f()}}}}]),v}(C.a),hl=function(){function ze(){Object(Q.a)(this,ze),this.viewEvents=[],this.outgoingEvents=[]}return Object(L.a)(ze,[{key:"emitViewEvent",value:function(v){this.viewEvents.push(v)}},{key:"emitOutgoingEvent",value:function(v){this.outgoingEvents.push(v)}}]),ze}(),Hc=function(){function ze(Ce,v,m,u){Object(Q.a)(this,ze),this.kind=0,this._oldContentWidth=Ce,this._oldContentHeight=v,this.contentWidth=m,this.contentHeight=u,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return!this.contentWidthChanged&&!this.contentHeightChanged}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:new ze(this._oldContentWidth,this._oldContentHeight,v.contentWidth,v.contentHeight)}}]),ze}(),uu=function(){function ze(Ce,v){Object(Q.a)(this,ze),this.kind=1,this.oldHasFocus=Ce,this.hasFocus=v}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return this.oldHasFocus===this.hasFocus}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:new ze(this.oldHasFocus,v.hasFocus)}}]),ze}(),bc=function(){function ze(Ce,v,m,u,g,O,te,Le){Object(Q.a)(this,ze),this.kind=2,this._oldScrollWidth=Ce,this._oldScrollLeft=v,this._oldScrollHeight=m,this._oldScrollTop=u,this.scrollWidth=g,this.scrollLeft=O,this.scrollHeight=te,this.scrollTop=Le,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:new ze(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,v.scrollWidth,v.scrollLeft,v.scrollHeight,v.scrollTop)}}]),ze}(),Gu=function(){function ze(){Object(Q.a)(this,ze),this.kind=3}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:this}}]),ze}(),Ms=function(){function ze(){Object(Q.a)(this,ze),this.kind=4}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:this}}]),ze}(),fl=function(){function ze(Ce,v,m,u,g,O,te){Object(Q.a)(this,ze),this.kind=6,this.oldSelections=Ce,this.selections=v,this.oldModelVersionId=m,this.modelVersionId=u,this.source=g,this.reason=O,this.reachedMaxCursorCount=te}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return ze._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:new ze(this.oldSelections,v.selections,this.oldModelVersionId,v.modelVersionId,v.source,v.reason,this.reachedMaxCursorCount||v.reachedMaxCursorCount)}}],[{key:"_selectionsAreEqual",value:function(v,m){if(!v&&!m)return!0;if(!v||!m)return!1;var u=v.length,g=m.length;if(u!==g)return!1;for(var O=0;O<u;O++)if(!v[O].equalsSelection(m[O]))return!1;return!0}}]),ze}(),$u=function(){function ze(){Object(Q.a)(this,ze),this.kind=5}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return v.kind!==this.kind?null:this}}]),ze}(),El=function(){function ze(Ce){Object(Q.a)(this,ze),this.event=Ce,this.kind=7}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return null}}]),ze}(),yc=function(){function ze(Ce){Object(Q.a)(this,ze),this.event=Ce,this.kind=8}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return null}}]),ze}(),_c=function(){function ze(Ce){Object(Q.a)(this,ze),this.event=Ce,this.kind=9}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return null}}]),ze}(),Cc=function(){function ze(Ce){Object(Q.a)(this,ze),this.event=Ce,this.kind=10}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return null}}]),ze}(),Qu=function(){function ze(Ce){Object(Q.a)(this,ze),this.event=Ce,this.kind=11}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return null}}]),ze}(),bs=function(){function ze(Ce){Object(Q.a)(this,ze),this.event=Ce,this.kind=12}return Object(L.a)(ze,[{key:"isNoOp",value:function(){return!1}},{key:"attemptToMerge",value:function(v){return null}}]),ze}(),rl=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g,O){var te;return Object(Q.a)(this,v),te=Ce.call(this),te._model=m,te._knownModelVersionId=te._model.getVersionId(),te._viewModel=u,te._coordinatesConverter=g,te.context=new aa(te._model,te._viewModel,te._coordinatesConverter,O),te._cursors=new bo(te.context),te._hasFocus=!1,te._isHandling=!1,te._compositionState=null,te._columnSelectData=null,te._autoClosedActions=[],te._prevEditOperationType=0,te}return Object(L.a)(v,[{key:"dispose",value:function(){this._cursors.dispose(),this._autoClosedActions=Object(C.i)(this._autoClosedActions),Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"updateConfiguration",value:function(u){this.context=new aa(this._model,this._viewModel,this._coordinatesConverter,u),this._cursors.updateContext(this.context)}},{key:"onLineMappingChanged",value:function(u){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(u,"viewModel",0,this.getCursorStates())}},{key:"setHasFocus",value:function(u){this._hasFocus=u}},{key:"_validateAutoClosedActions",value:function(){if(this._autoClosedActions.length>0)for(var u=this._cursors.getSelections(),g=0;g<this._autoClosedActions.length;g++){var O=this._autoClosedActions[g];O.isValid(u)||(O.dispose(),this._autoClosedActions.splice(g,1),g--)}}},{key:"getPrimaryCursorState",value:function(){return this._cursors.getPrimaryCursor()}},{key:"getLastAddedCursorIndex",value:function(){return this._cursors.getLastAddedCursorIndex()}},{key:"getCursorStates",value:function(){return this._cursors.getAll()}},{key:"setStates",value:function(u,g,O,te){var Le=!1,Me=this.context.cursorConfig.multiCursorLimit;te!==null&&te.length>Me&&(te=te.slice(0,Me),Le=!0);var at=_o.from(this._model,this);return this._cursors.setStates(te),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(u,g,O,at,Le)}},{key:"setCursorColumnSelectData",value:function(u){this._columnSelectData=u}},{key:"revealPrimary",value:function(u,g,O,te,Le,Me){var at=this._cursors.getViewPositions(),Ot=null,Mt=null;at.length>1?Mt=this._cursors.getViewSelections():Ot=An.a.fromPositions(at[0],at[0]),u.emitViewEvent(new hs(g,O,Ot,Mt,te,Le,Me))}},{key:"saveState",value:function(){for(var u=[],g=this._cursors.getSelections(),O=0,te=g.length;O<te;O++){var Le=g[O];u.push({inSelectionMode:!Le.isEmpty(),selectionStart:{lineNumber:Le.selectionStartLineNumber,column:Le.selectionStartColumn},position:{lineNumber:Le.positionLineNumber,column:Le.positionColumn}})}return u}},{key:"restoreState",value:function(u,g){for(var O=[],te=0,Le=g.length;te<Le;te++){var Me=g[te],at=1,Ot=1;Me.position&&Me.position.lineNumber&&(at=Me.position.lineNumber),Me.position&&Me.position.column&&(Ot=Me.position.column);var Mt=at,Qt=Ot;Me.selectionStart&&Me.selectionStart.lineNumber&&(Mt=Me.selectionStart.lineNumber),Me.selectionStart&&Me.selectionStart.column&&(Qt=Me.selectionStart.column),O.push({selectionStartLineNumber:Mt,selectionStartColumn:Qt,positionLineNumber:at,positionColumn:Ot})}this.setStates(u,"restoreState",0,eo.b.fromModelSelections(O)),this.revealPrimary(u,"restoreState",!1,0,!0,1)}},{key:"onModelContentChanged",value:function(u,g){if(g instanceof ks.c){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(u,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{var O=g.rawContentChangedEvent;if(this._knownModelVersionId=O.versionId,this._isHandling)return;var te=O.containsEvent(1);if(this._prevEditOperationType=0,te)this._cursors.dispose(),this._cursors=new bo(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(u,"model",1,null,!1);else if(this._hasFocus&&O.resultingSelection&&O.resultingSelection.length>0){var Le=eo.b.fromModelSelections(O.resultingSelection);this.setStates(u,"modelChange",O.isUndoing?5:O.isRedoing?6:2,Le)&&this.revealPrimary(u,"modelChange",!1,0,!0,0)}else{var Me=this._cursors.readSelectionFromMarkers();this.setStates(u,"modelChange",2,eo.b.fromModelSelections(Me))}}}},{key:"getSelection",value:function(){return this._cursors.getPrimaryCursor().modelState.selection}},{key:"getTopMostViewPosition",value:function(){return this._cursors.getTopMostViewPosition()}},{key:"getBottomMostViewPosition",value:function(){return this._cursors.getBottomMostViewPosition()}},{key:"getCursorColumnSelectData",value:function(){if(this._columnSelectData)return this._columnSelectData;var u=this._cursors.getPrimaryCursor(),g=u.viewState.selectionStart.getStartPosition(),O=u.viewState.position;return{isReal:!1,fromViewLineNumber:g.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,g),toViewLineNumber:O.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,O)}}},{key:"getSelections",value:function(){return this._cursors.getSelections()}},{key:"setSelections",value:function(u,g,O,te){this.setStates(u,g,te,eo.b.fromModelSelections(O))}},{key:"getPrevEditOperationType",value:function(){return this._prevEditOperationType}},{key:"setPrevEditOperationType",value:function(u){this._prevEditOperationType=u}},{key:"_pushAutoClosedAction",value:function(u,g){for(var O=[],te=[],Le=0,Me=u.length;Le<Me;Le++)O.push({range:u[Le],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),te.push({range:g[Le],options:{description:"auto-closed-enclosing",stickiness:1}});var at=this._model.deltaDecorations([],O),Ot=this._model.deltaDecorations([],te);this._autoClosedActions.push(new Yu(this._model,at,Ot))}},{key:"_executeEditOperation",value:function(u){if(!!u){u.shouldPushStackElementBefore&&this._model.pushStackElement();var g=Xs.executeCommands(this._model,this._cursors.getSelections(),u.commands);if(g){this._interpretCommandResult(g);for(var O=[],te=[],Le=0;Le<u.commands.length;Le++){var Me=u.commands[Le];Me instanceof zs.c&&Me.enclosingRange&&Me.closeCharacterRange&&(O.push(Me.closeCharacterRange),te.push(Me.enclosingRange))}O.length>0&&this._pushAutoClosedAction(O,te),this._prevEditOperationType=u.type}u.shouldPushStackElementAfter&&this._model.pushStackElement()}}},{key:"_interpretCommandResult",value:function(u){(!u||u.length===0)&&(u=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(u),this._cursors.normalize()}},{key:"_emitStateChangedIfNecessary",value:function(u,g,O,te,Le){var Me=_o.from(this._model,this);if(Me.equals(te))return!1;var at=this._cursors.getSelections(),Ot=this._cursors.getViewSelections();if(u.emitViewEvent(new Vl(Ot,at,O)),!te||te.cursorState.length!==Me.cursorState.length||Me.cursorState.some(function(Ht,dt){return!Ht.modelState.equals(te.cursorState[dt].modelState)})){var Mt=te?te.cursorState.map(function(Ht){return Ht.modelState.selection}):null,Qt=te?te.modelVersionId:0;u.emitOutgoingEvent(new fl(Mt,at,Qt,Me.modelVersionId,g||"keyboard",O,Le))}return!0}},{key:"_findAutoClosingPairs",value:function(u){if(!u.length)return null;for(var g=[],O=0,te=u.length;O<te;O++){var Le=u[O];if(!Le.text||Le.text.indexOf(`
`)>=0)return null;var Me=Le.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Me)return null;var at=Me[1],Ot=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(at);if(!Ot||Ot.length!==1)return null;var Mt=Ot[0].open,Qt=Le.text.length-Me[2].length-1,Ht=Le.text.lastIndexOf(Mt,Qt-1);if(Ht===-1)return null;g.push([Ht,Qt])}return g}},{key:"executeEdits",value:function(u,g,O,te){var Le=this,Me=null;g==="snippet"&&(Me=this._findAutoClosingPairs(O)),Me&&(O[0]._isTracked=!0);var at=[],Ot=[],Mt=this._model.pushEditOperations(this.getSelections(),O,function(Qt){if(Me)for(var Ht=0,dt=Me.length;Ht<dt;Ht++){var Cn=Object(le.a)(Me[Ht],2),Pn=Cn[0],ni=Cn[1],hi=Qt[Ht],Di=hi.range.startLineNumber,wi=hi.range.startColumn-1+Pn,nr=hi.range.startColumn-1+ni;at.push(new An.a(Di,nr+1,Di,nr+2)),Ot.push(new An.a(Di,wi+1,Di,nr+2))}var Ni=te(Qt);return Ni&&(Le._isHandling=!0),Ni});Mt&&(this._isHandling=!1,this.setSelections(u,g,Mt,0)),at.length>0&&this._pushAutoClosedAction(at,Ot)}},{key:"_executeEdit",value:function(u,g,O){var te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(!this.context.cursorConfig.readOnly){var Le=_o.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),u()}catch(Me){Object(d.h)(Me)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(g,O,te,Le,!1)&&this.revealPrimary(g,O,!1,0,!0,0)}}},{key:"getAutoClosedCharacters",value:function(){return Yu.getAllAutoClosedCharacters(this._autoClosedActions)}},{key:"startComposition",value:function(u){this._compositionState=new Oc(this._model,this.getSelections())}},{key:"endComposition",value:function(u,g){var O=this,te=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(function(){g==="keyboard"&&O._executeEditOperation(zs.b.compositionEndWithInterceptors(O._prevEditOperationType,O.context.cursorConfig,O._model,te,O.getSelections(),O.getAutoClosedCharacters()))},u,g)}},{key:"type",value:function(u,g,O){var te=this;this._executeEdit(function(){if(O==="keyboard")for(var Le=g.length,Me=0;Me<Le;){var at=pr.L(g,Me),Ot=g.substr(Me,at);te._executeEditOperation(zs.b.typeWithInterceptors(!!te._compositionState,te._prevEditOperationType,te.context.cursorConfig,te._model,te.getSelections(),te.getAutoClosedCharacters(),Ot)),Me+=at}else te._executeEditOperation(zs.b.typeWithoutInterceptors(te._prevEditOperationType,te.context.cursorConfig,te._model,te.getSelections(),g))},u,O)}},{key:"compositionType",value:function(u,g,O,te,Le,Me){var at=this;if(g.length===0&&O===0&&te===0){if(Le!==0){var Ot=this.getSelections().map(function(Mt){var Qt=Mt.getPosition();return new Ct.a(Qt.lineNumber,Qt.column+Le,Qt.lineNumber,Qt.column+Le)});this.setSelections(u,Me,Ot,0)}return}this._executeEdit(function(){at._executeEditOperation(zs.b.compositionType(at._prevEditOperationType,at.context.cursorConfig,at._model,at.getSelections(),g,O,te,Le))},u,Me)}},{key:"paste",value:function(u,g,O,te,Le){var Me=this;this._executeEdit(function(){Me._executeEditOperation(zs.b.paste(Me.context.cursorConfig,Me._model,Me.getSelections(),g,O,te||[]))},u,Le,4)}},{key:"cut",value:function(u,g){var O=this;this._executeEdit(function(){O._executeEditOperation(Lu.a.cut(O.context.cursorConfig,O._model,O.getSelections()))},u,g)}},{key:"executeCommand",value:function(u,g,O){var te=this;this._executeEdit(function(){te._cursors.killSecondaryCursors(),te._executeEditOperation(new eo.c(0,[g],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},u,O)}},{key:"executeCommands",value:function(u,g,O){var te=this;this._executeEdit(function(){te._executeEditOperation(new eo.c(0,g,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},u,O)}}]),v}(C.a),_o=function(){function ze(Ce,v){Object(Q.a)(this,ze),this.modelVersionId=Ce,this.cursorState=v}return Object(L.a)(ze,[{key:"equals",value:function(v){if(!v||this.modelVersionId!==v.modelVersionId||this.cursorState.length!==v.cursorState.length)return!1;for(var m=0,u=this.cursorState.length;m<u;m++)if(!this.cursorState[m].equals(v.cursorState[m]))return!1;return!0}}],[{key:"from",value:function(v,m){return new ze(v.getVersionId(),m.getCursorStates())}}]),ze}(),Yu=function(){function ze(Ce,v,m){Object(Q.a)(this,ze),this._model=Ce,this._autoClosedCharactersDecorations=v,this._autoClosedEnclosingDecorations=m}return Object(L.a)(ze,[{key:"dispose",value:function(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}},{key:"getAutoClosedCharactersRanges",value:function(){for(var v=[],m=0;m<this._autoClosedCharactersDecorations.length;m++){var u=this._model.getDecorationRange(this._autoClosedCharactersDecorations[m]);u&&v.push(u)}return v}},{key:"isValid",value:function(v){for(var m=[],u=0;u<this._autoClosedEnclosingDecorations.length;u++){var g=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[u]);if(g&&(m.push(g),g.startLineNumber!==g.endLineNumber))return!1}m.sort(An.a.compareRangesUsingStarts),v.sort(An.a.compareRangesUsingStarts);for(var O=0;O<v.length;O++)if(O>=m.length||!m[O].strictContainsRange(v[O]))return!1;return!0}}],[{key:"getAllAutoClosedCharacters",value:function(v){var m=[],u=Object(E.a)(v),g;try{for(u.s();!(g=u.n()).done;){var O=g.value;m=m.concat(O.getAutoClosedCharactersRanges())}}catch(te){u.e(te)}finally{u.f()}return m}}]),ze}(),Xs=function(){function ze(){Object(Q.a)(this,ze)}return Object(L.a)(ze,null,[{key:"executeCommands",value:function(v,m,u){for(var g={model:v,selectionsBefore:m,trackedRanges:[],trackedRangesDirection:[]},O=this._innerExecuteCommands(g,u),te=0,Le=g.trackedRanges.length;te<Le;te++)g.model._setTrackedRange(g.trackedRanges[te],null,0);return O}},{key:"_innerExecuteCommands",value:function(v,m){if(this._arrayIsEmpty(m))return null;var u=this._getEditOperations(v,m);if(u.operations.length===0)return null;var g=u.operations,O=this._getLoserCursorMap(g);if(O.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var te=[],Le=0,Me=g.length;Le<Me;Le++)O.hasOwnProperty(g[Le].identifier.major.toString())||te.push(g[Le]);u.hadTrackedEditOperation&&te.length>0&&(te[0]._isTracked=!0);var at=v.model.pushEditOperations(v.selectionsBefore,te,function(Cn){for(var Pn=[],ni=0;ni<v.selectionsBefore.length;ni++)Pn[ni]=[];var hi=Object(E.a)(Cn),Di;try{for(hi.s();!(Di=hi.n()).done;){var wi=Di.value;!wi.identifier||Pn[wi.identifier.major].push(wi)}}catch(br){hi.e(br)}finally{hi.f()}for(var nr=function(xr,Ur){return xr.identifier.minor-Ur.identifier.minor},Ni=[],Wi=function(xr){Pn[xr].length>0?(Pn[xr].sort(nr),Ni[xr]=m[xr].computeCursorState(v.model,{getInverseEditOperations:function(){return Pn[xr]},getTrackedSelection:function(ca){var Ca=parseInt(ca,10),ra=v.model._getTrackedRange(v.trackedRanges[Ca]);return v.trackedRangesDirection[Ca]===0?new Ct.a(ra.startLineNumber,ra.startColumn,ra.endLineNumber,ra.endColumn):new Ct.a(ra.endLineNumber,ra.endColumn,ra.startLineNumber,ra.startColumn)}})):Ni[xr]=v.selectionsBefore[xr]},er=0;er<v.selectionsBefore.length;er++)Wi(er);return Ni});at||(at=v.selectionsBefore);var Ot=[];for(var Mt in O)O.hasOwnProperty(Mt)&&Ot.push(parseInt(Mt,10));Ot.sort(function(Cn,Pn){return Pn-Cn});for(var Qt=0,Ht=Ot;Qt<Ht.length;Qt++){var dt=Ht[Qt];at.splice(dt,1)}return at}},{key:"_arrayIsEmpty",value:function(v){for(var m=0,u=v.length;m<u;m++)if(v[m])return!1;return!0}},{key:"_getEditOperations",value:function(v,m){for(var u=[],g=!1,O=0,te=m.length;O<te;O++){var Le=m[O];if(Le){var Me=this._getEditOperationsFromCommand(v,O,Le);u=u.concat(Me.operations),g=g||Me.hadTrackedEditOperation}}return{operations:u,hadTrackedEditOperation:g}}},{key:"_getEditOperationsFromCommand",value:function(v,m,u){var g=[],O=0,te=function(Qt,Ht){var dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;An.a.isEmpty(Qt)&&Ht===""||g.push({identifier:{major:m,minor:O++},range:Qt,text:Ht,forceMoveMarkers:dt,isAutoWhitespaceEdit:u.insertsAutoWhitespace})},Le=!1,Me=function(Qt,Ht,dt){Le=!0,te(Qt,Ht,dt)},at=function(Qt,Ht){var dt=Ct.a.liftSelection(Qt),Cn;if(dt.isEmpty())if(typeof Ht=="boolean")Ht?Cn=2:Cn=3;else{var Pn=v.model.getLineMaxColumn(dt.startLineNumber);dt.startColumn===Pn?Cn=2:Cn=3}else Cn=1;var ni=v.trackedRanges.length,hi=v.model._setTrackedRange(null,dt,Cn);return v.trackedRanges[ni]=hi,v.trackedRangesDirection[ni]=dt.getDirection(),ni.toString()},Ot={addEditOperation:te,addTrackedEditOperation:Me,trackSelection:at};try{u.getEditOperations(v.model,Ot)}catch(Mt){return Object(d.h)(Mt),{operations:[],hadTrackedEditOperation:!1}}return{operations:g,hadTrackedEditOperation:Le}}},{key:"_getLoserCursorMap",value:function(v){v=v.slice(0),v.sort(function(Me,at){return-An.a.compareRangesUsingEnds(Me.range,at.range)});for(var m={},u=1;u<v.length;u++){var g=v[u-1],O=v[u];if(An.a.getStartPosition(g.range).isBefore(An.a.getEndPosition(O.range))){var te=void 0;g.identifier.major>O.identifier.major?te=g.identifier.major:te=O.identifier.major,m[te.toString()]=!0;for(var Le=0;Le<v.length;Le++)v[Le].identifier.major===te&&(v.splice(Le,1),Le<u&&u--,Le--);u>0&&u--}}return m}}]),ze}(),Ia=Object(L.a)(function ze(Ce,v,m){Object(Q.a)(this,ze),this.text=Ce,this.startSelection=v,this.endSelection=m}),Oc=function(){function ze(Ce,v){Object(Q.a)(this,ze),this._original=ze._capture(Ce,v)}return Object(L.a)(ze,[{key:"deduceOutcome",value:function(v,m){if(!this._original)return null;var u=ze._capture(v,m);if(!u||this._original.length!==u.length)return null;for(var g=[],O=0,te=this._original.length;O<te;O++)g.push(ze._deduceOutcome(this._original[O],u[O]));return g}}],[{key:"_capture",value:function(v,m){var u=[],g=Object(E.a)(m),O;try{for(g.s();!(O=g.n()).done;){var te=O.value;if(te.startLineNumber!==te.endLineNumber)return null;u.push(new Ia(v.getLineContent(te.startLineNumber),te.startColumn-1,te.endColumn-1))}}catch(Le){g.e(Le)}finally{g.f()}return u}},{key:"_deduceOutcome",value:function(v,m){var u=Math.min(v.startSelection,m.startSelection,pr.f(v.text,m.text)),g=Math.min(v.text.length-v.endSelection,m.text.length-m.endSelection,pr.g(v.text,m.text)),O=v.text.substring(u,v.text.length-g),te=m.text.substring(u,m.text.length-g);return new zs.a(O,v.startSelection-u,v.endSelection-u,te,m.startSelection-u,m.endSelection-u)}}]),ze}(),Uc=a("y0ET"),cu=a("Udvv"),Js=a("QuOb"),Hl=function(){function ze(){Object(Q.a)(this,ze),this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}return Object(L.a)(ze,[{key:"insert",value:function(v){this._hasPending=!0,this._inserts.push(v)}},{key:"change",value:function(v){this._hasPending=!0,this._changes.push(v)}},{key:"remove",value:function(v){this._hasPending=!0,this._removes.push(v)}},{key:"mustCommit",value:function(){return this._hasPending}},{key:"commit",value:function(v){if(!!this._hasPending){var m=this._inserts,u=this._changes,g=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],v._commitPendingChanges(m,u,g)}}}]),ze}(),vl=Object(L.a)(function ze(Ce,v,m,u,g){Object(Q.a)(this,ze),this.id=Ce,this.afterLineNumber=v,this.ordinal=m,this.height=u,this.minWidth=g,this.prefixSum=0}),Po=function(){function ze(Ce,v,m,u){Object(Q.a)(this,ze),this._instanceId=pr.R(++ze.INSTANCE_COUNT),this._pendingChanges=new Hl,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=Ce,this._lineHeight=v,this._paddingTop=m,this._paddingBottom=u}return Object(L.a)(ze,[{key:"setLineHeight",value:function(v){this._checkPendingChanges(),this._lineHeight=v}},{key:"setPadding",value:function(v,m){this._paddingTop=v,this._paddingBottom=m}},{key:"onFlushed",value:function(v){this._checkPendingChanges(),this._lineCount=v}},{key:"changeWhitespace",value:function(v){var m=this,u=!1;try{var g={insertWhitespace:function(te,Le,Me,at){u=!0,te=te|0,Le=Le|0,Me=Me|0,at=at|0;var Ot=m._instanceId+ ++m._lastWhitespaceId;return m._pendingChanges.insert(new vl(Ot,te,Le,Me,at)),Ot},changeOneWhitespace:function(te,Le,Me){u=!0,Le=Le|0,Me=Me|0,m._pendingChanges.change({id:te,newAfterLineNumber:Le,newHeight:Me})},removeWhitespace:function(te){u=!0,m._pendingChanges.remove({id:te})}};v(g)}finally{this._pendingChanges.commit(this)}return u}},{key:"_commitPendingChanges",value:function(v,m,u){if((v.length>0||u.length>0)&&(this._minWidth=-1),v.length+m.length+u.length<=1){var g=Object(E.a)(v),O;try{for(g.s();!(O=g.n()).done;){var te=O.value;this._insertWhitespace(te)}}catch(er){g.e(er)}finally{g.f()}var Le=Object(E.a)(m),Me;try{for(Le.s();!(Me=Le.n()).done;){var at=Me.value;this._changeOneWhitespace(at.id,at.newAfterLineNumber,at.newHeight)}}catch(er){Le.e(er)}finally{Le.f()}var Ot=Object(E.a)(u),Mt;try{for(Ot.s();!(Mt=Ot.n()).done;){var Qt=Mt.value,Ht=this._findWhitespaceIndex(Qt.id);Ht!==-1&&this._removeWhitespace(Ht)}}catch(er){Ot.e(er)}finally{Ot.f()}return}var dt=new Set,Cn=Object(E.a)(u),Pn;try{for(Cn.s();!(Pn=Cn.n()).done;){var ni=Pn.value;dt.add(ni.id)}}catch(er){Cn.e(er)}finally{Cn.f()}var hi=new Map,Di=Object(E.a)(m),wi;try{for(Di.s();!(wi=Di.n()).done;){var nr=wi.value;hi.set(nr.id,nr)}}catch(er){Di.e(er)}finally{Di.f()}var Ni=function(br){var xr=[],Ur=Object(E.a)(br),ca;try{for(Ur.s();!(ca=Ur.n()).done;){var Ca=ca.value;if(!dt.has(Ca.id)){if(hi.has(Ca.id)){var ra=hi.get(Ca.id);Ca.afterLineNumber=ra.newAfterLineNumber,Ca.height=ra.newHeight}xr.push(Ca)}}}catch(Ha){Ur.e(Ha)}finally{Ur.f()}return xr},Wi=Ni(this._arr).concat(Ni(v));Wi.sort(function(er,br){return er.afterLineNumber===br.afterLineNumber?er.ordinal-br.ordinal:er.afterLineNumber-br.afterLineNumber}),this._arr=Wi,this._prefixSumValidIndex=-1}},{key:"_checkPendingChanges",value:function(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}},{key:"_insertWhitespace",value:function(v){var m=ze.findInsertionIndex(this._arr,v.afterLineNumber,v.ordinal);this._arr.splice(m,0,v),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,m-1)}},{key:"_findWhitespaceIndex",value:function(v){for(var m=this._arr,u=0,g=m.length;u<g;u++)if(m[u].id===v)return u;return-1}},{key:"_changeOneWhitespace",value:function(v,m,u){var g=this._findWhitespaceIndex(v);if(g!==-1&&(this._arr[g].height!==u&&(this._arr[g].height=u,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,g-1)),this._arr[g].afterLineNumber!==m)){var O=this._arr[g];this._removeWhitespace(g),O.afterLineNumber=m,this._insertWhitespace(O)}}},{key:"_removeWhitespace",value:function(v){this._arr.splice(v,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)}},{key:"onLinesDeleted",value:function(v,m){this._checkPendingChanges(),v=v|0,m=m|0,this._lineCount-=m-v+1;for(var u=0,g=this._arr.length;u<g;u++){var O=this._arr[u].afterLineNumber;v<=O&&O<=m?this._arr[u].afterLineNumber=v-1:O>m&&(this._arr[u].afterLineNumber-=m-v+1)}}},{key:"onLinesInserted",value:function(v,m){this._checkPendingChanges(),v=v|0,m=m|0,this._lineCount+=m-v+1;for(var u=0,g=this._arr.length;u<g;u++){var O=this._arr[u].afterLineNumber;v<=O&&(this._arr[u].afterLineNumber+=m-v+1)}}},{key:"getWhitespacesTotalHeight",value:function(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}},{key:"getWhitespacesAccumulatedHeight",value:function(v){this._checkPendingChanges(),v=v|0;var m=Math.max(0,this._prefixSumValidIndex+1);m===0&&(this._arr[0].prefixSum=this._arr[0].height,m++);for(var u=m;u<=v;u++)this._arr[u].prefixSum=this._arr[u-1].prefixSum+this._arr[u].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,v),this._arr[v].prefixSum}},{key:"getLinesTotalHeight",value:function(){this._checkPendingChanges();var v=this._lineHeight*this._lineCount,m=this.getWhitespacesTotalHeight();return v+m+this._paddingTop+this._paddingBottom}},{key:"getWhitespaceAccumulatedHeightBeforeLineNumber",value:function(v){this._checkPendingChanges(),v=v|0;var m=this._findLastWhitespaceBeforeLineNumber(v);return m===-1?0:this.getWhitespacesAccumulatedHeight(m)}},{key:"_findLastWhitespaceBeforeLineNumber",value:function(v){v=v|0;for(var m=this._arr,u=0,g=m.length-1;u<=g;){var O=g-u|0,te=O/2|0,Le=u+te|0;if(m[Le].afterLineNumber<v){if(Le+1>=m.length||m[Le+1].afterLineNumber>=v)return Le;u=Le+1|0}else g=Le-1|0}return-1}},{key:"_findFirstWhitespaceAfterLineNumber",value:function(v){v=v|0;var m=this._findLastWhitespaceBeforeLineNumber(v),u=m+1;return u<this._arr.length?u:-1}},{key:"getFirstWhitespaceIndexAfterLineNumber",value:function(v){return this._checkPendingChanges(),v=v|0,this._findFirstWhitespaceAfterLineNumber(v)}},{key:"getVerticalOffsetForLineNumber",value:function(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._checkPendingChanges(),v=v|0;var u;v>1?u=this._lineHeight*(v-1):u=0;var g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(v-(m?1:0));return u+g+this._paddingTop}},{key:"getVerticalOffsetAfterLineNumber",value:function(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._checkPendingChanges(),v=v|0;var u=this._lineHeight*v,g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(v+(m?1:0));return u+g+this._paddingTop}},{key:"getWhitespaceMinWidth",value:function(){if(this._checkPendingChanges(),this._minWidth===-1){for(var v=0,m=0,u=this._arr.length;m<u;m++)v=Math.max(v,this._arr[m].minWidth);this._minWidth=v}return this._minWidth}},{key:"isAfterLines",value:function(v){this._checkPendingChanges();var m=this.getLinesTotalHeight();return v>m}},{key:"isInTopPadding",value:function(v){return this._paddingTop===0?!1:(this._checkPendingChanges(),v<this._paddingTop)}},{key:"isInBottomPadding",value:function(v){if(this._paddingBottom===0)return!1;this._checkPendingChanges();var m=this.getLinesTotalHeight();return v>=m-this._paddingBottom}},{key:"getLineNumberAtOrAfterVerticalOffset",value:function(v){if(this._checkPendingChanges(),v=v|0,v<0)return 1;for(var m=this._lineCount|0,u=this._lineHeight,g=1,O=m;g<O;){var te=(g+O)/2|0,Le=this.getVerticalOffsetForLineNumber(te)|0;if(v>=Le+u)g=te+1;else{if(v>=Le)return te;O=te}}return g>m?m:g}},{key:"getLinesViewportData",value:function(v,m){this._checkPendingChanges(),v=v|0,m=m|0;var u=this._lineHeight,g=this.getLineNumberAtOrAfterVerticalOffset(v)|0,O=this.getVerticalOffsetForLineNumber(g)|0,te=this._lineCount|0,Le=this.getFirstWhitespaceIndexAfterLineNumber(g)|0,Me=this.getWhitespacesCount()|0,at,Ot;Le===-1?(Le=Me,Ot=te+1,at=0):(Ot=this.getAfterLineNumberForWhitespaceIndex(Le)|0,at=this.getHeightForWhitespaceIndex(Le)|0);var Mt=O,Qt=Mt,Ht=5e5,dt=0;O>=Ht&&(dt=Math.floor(O/Ht)*Ht,dt=Math.floor(dt/u)*u,Qt-=dt);for(var Cn=[],Pn=v+(m-v)/2,ni=-1,hi=g;hi<=te;hi++){if(ni===-1){var Di=Mt,wi=Mt+u;(Di<=Pn&&Pn<wi||Di>Pn)&&(ni=hi)}for(Mt+=u,Cn[hi-g]=Qt,Qt+=u;Ot===hi;)Qt+=at,Mt+=at,Le++,Le>=Me?Ot=te+1:(Ot=this.getAfterLineNumberForWhitespaceIndex(Le)|0,at=this.getHeightForWhitespaceIndex(Le)|0);if(Mt>=m){te=hi;break}}ni===-1&&(ni=te);var nr=this.getVerticalOffsetForLineNumber(te)|0,Ni=g,Wi=te;return Ni<Wi&&O<v&&Ni++,Ni<Wi&&nr+u>m&&Wi--,{bigNumbersDelta:dt,startLineNumber:g,endLineNumber:te,relativeVerticalOffset:Cn,centeredLineNumber:ni,completelyVisibleStartLineNumber:Ni,completelyVisibleEndLineNumber:Wi}}},{key:"getVerticalOffsetForWhitespaceIndex",value:function(v){this._checkPendingChanges(),v=v|0;var m=this.getAfterLineNumberForWhitespaceIndex(v),u;m>=1?u=this._lineHeight*m:u=0;var g;return v>0?g=this.getWhitespacesAccumulatedHeight(v-1):g=0,u+g+this._paddingTop}},{key:"getWhitespaceIndexAtOrAfterVerticallOffset",value:function(v){this._checkPendingChanges(),v=v|0;var m=0,u=this.getWhitespacesCount()-1;if(u<0)return-1;var g=this.getVerticalOffsetForWhitespaceIndex(u),O=this.getHeightForWhitespaceIndex(u);if(v>=g+O)return-1;for(;m<u;){var te=Math.floor((m+u)/2),Le=this.getVerticalOffsetForWhitespaceIndex(te),Me=this.getHeightForWhitespaceIndex(te);if(v>=Le+Me)m=te+1;else{if(v>=Le)return te;u=te}}return m}},{key:"getWhitespaceAtVerticalOffset",value:function(v){this._checkPendingChanges(),v=v|0;var m=this.getWhitespaceIndexAtOrAfterVerticallOffset(v);if(m<0||m>=this.getWhitespacesCount())return null;var u=this.getVerticalOffsetForWhitespaceIndex(m);if(u>v)return null;var g=this.getHeightForWhitespaceIndex(m),O=this.getIdForWhitespaceIndex(m),te=this.getAfterLineNumberForWhitespaceIndex(m);return{id:O,afterLineNumber:te,verticalOffset:u,height:g}}},{key:"getWhitespaceViewportData",value:function(v,m){this._checkPendingChanges(),v=v|0,m=m|0;var u=this.getWhitespaceIndexAtOrAfterVerticallOffset(v),g=this.getWhitespacesCount()-1;if(u<0)return[];for(var O=[],te=u;te<=g;te++){var Le=this.getVerticalOffsetForWhitespaceIndex(te),Me=this.getHeightForWhitespaceIndex(te);if(Le>=m)break;O.push({id:this.getIdForWhitespaceIndex(te),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(te),verticalOffset:Le,height:Me})}return O}},{key:"getWhitespaces",value:function(){return this._checkPendingChanges(),this._arr.slice(0)}},{key:"getWhitespacesCount",value:function(){return this._checkPendingChanges(),this._arr.length}},{key:"getIdForWhitespaceIndex",value:function(v){return this._checkPendingChanges(),v=v|0,this._arr[v].id}},{key:"getAfterLineNumberForWhitespaceIndex",value:function(v){return this._checkPendingChanges(),v=v|0,this._arr[v].afterLineNumber}},{key:"getHeightForWhitespaceIndex",value:function(v){return this._checkPendingChanges(),v=v|0,this._arr[v].height}}],[{key:"findInsertionIndex",value:function(v,m,u){for(var g=0,O=v.length;g<O;){var te=g+O>>>1;m===v[te].afterLineNumber?u<v[te].ordinal?O=te:g=te+1:m<v[te].afterLineNumber?O=te:g=te+1}return g}}]),ze}();Po.INSTANCE_COUNT=0;var Ao=125,Za=function(){function ze(Ce,v,m,u){Object(Q.a)(this,ze),Ce=Ce|0,v=v|0,m=m|0,u=u|0,Ce<0&&(Ce=0),v<0&&(v=0),m<0&&(m=0),u<0&&(u=0),this.width=Ce,this.contentWidth=v,this.scrollWidth=Math.max(Ce,v),this.height=m,this.contentHeight=u,this.scrollHeight=Math.max(m,u)}return Object(L.a)(ze,[{key:"equals",value:function(v){return this.width===v.width&&this.contentWidth===v.contentWidth&&this.height===v.height&&this.contentHeight===v.contentHeight}}]),ze}(),Sc=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u){var g;return Object(Q.a)(this,v),g=Ce.call(this),g._onDidContentSizeChange=g._register(new j.b),g.onDidContentSizeChange=g._onDidContentSizeChange.event,g._dimensions=new Za(0,0,0,0),g._scrollable=g._register(new Js.a({forceIntegerValues:!0,smoothScrollDuration:m,scheduleAtNextAnimationFrame:u})),g.onDidScroll=g._scrollable.onScroll,g}return Object(L.a)(v,[{key:"getScrollable",value:function(){return this._scrollable}},{key:"setSmoothScrollDuration",value:function(u){this._scrollable.setSmoothScrollDuration(u)}},{key:"validateScrollPosition",value:function(u){return this._scrollable.validateScrollPosition(u)}},{key:"getScrollDimensions",value:function(){return this._dimensions}},{key:"setScrollDimensions",value:function(u){if(!this._dimensions.equals(u)){var g=this._dimensions;this._dimensions=u,this._scrollable.setScrollDimensions({width:u.width,scrollWidth:u.scrollWidth,height:u.height,scrollHeight:u.scrollHeight},!0);var O=g.contentWidth!==u.contentWidth,te=g.contentHeight!==u.contentHeight;(O||te)&&this._onDidContentSizeChange.fire(new Hc(g.contentWidth,g.contentHeight,u.contentWidth,u.contentHeight))}}},{key:"getFutureScrollPosition",value:function(){return this._scrollable.getFutureScrollPosition()}},{key:"getCurrentScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}},{key:"setScrollPositionNow",value:function(u){this._scrollable.setScrollPositionNow(u)}},{key:"setScrollPositionSmooth",value:function(u){this._scrollable.setScrollPositionSmooth(u)}},{key:"hasPendingScrollAnimation",value:function(){return this._scrollable.hasPendingScrollAnimation()}}]),v}(C.a),Ul=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g){var O;Object(Q.a)(this,v),O=Ce.call(this),O._configuration=m;var te=O._configuration.options,Le=te.get(140),Me=te.get(81);return O._linesLayout=new Po(u,te.get(64),Me.top,Me.bottom),O._scrollable=O._register(new Sc(0,g)),O._configureSmoothScrollDuration(),O._scrollable.setScrollDimensions(new Za(Le.contentWidth,0,Le.height,0)),O.onDidScroll=O._scrollable.onDidScroll,O.onDidContentSizeChange=O._scrollable.onDidContentSizeChange,O._updateHeight(),O}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"getScrollable",value:function(){return this._scrollable.getScrollable()}},{key:"onHeightMaybeChanged",value:function(){this._updateHeight()}},{key:"_configureSmoothScrollDuration",value:function(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(110)?Ao:0)}},{key:"onConfigurationChanged",value:function(u){var g=this._configuration.options;if(u.hasChanged(64)&&this._linesLayout.setLineHeight(g.get(64)),u.hasChanged(81)){var O=g.get(81);this._linesLayout.setPadding(O.top,O.bottom)}if(u.hasChanged(140)){var te=g.get(140),Le=te.contentWidth,Me=te.height,at=this._scrollable.getScrollDimensions(),Ot=at.contentWidth;this._scrollable.setScrollDimensions(new Za(Le,at.contentWidth,Me,this._getContentHeight(Le,Me,Ot)))}else this._updateHeight();u.hasChanged(110)&&this._configureSmoothScrollDuration()}},{key:"onFlushed",value:function(u){this._linesLayout.onFlushed(u)}},{key:"onLinesDeleted",value:function(u,g){this._linesLayout.onLinesDeleted(u,g)}},{key:"onLinesInserted",value:function(u,g){this._linesLayout.onLinesInserted(u,g)}},{key:"_getHorizontalScrollbarHeight",value:function(u,g){var O=this._configuration.options,te=O.get(99);return te.horizontal===2||u>=g?0:te.horizontalScrollbarSize}},{key:"_getContentHeight",value:function(u,g,O){var te=this._configuration.options,Le=this._linesLayout.getLinesTotalHeight();return te.get(101)?Le+=Math.max(0,g-te.get(64)-te.get(81).bottom):Le+=this._getHorizontalScrollbarHeight(u,O),Le}},{key:"_updateHeight",value:function(){var u=this._scrollable.getScrollDimensions(),g=u.width,O=u.height,te=u.contentWidth;this._scrollable.setScrollDimensions(new Za(g,u.contentWidth,O,this._getContentHeight(g,O,te)))}},{key:"getCurrentViewport",value:function(){var u=this._scrollable.getScrollDimensions(),g=this._scrollable.getCurrentScrollPosition();return new ka.h(g.scrollTop,g.scrollLeft,u.width,u.height)}},{key:"getFutureViewport",value:function(){var u=this._scrollable.getScrollDimensions(),g=this._scrollable.getFutureScrollPosition();return new ka.h(g.scrollTop,g.scrollLeft,u.width,u.height)}},{key:"_computeContentWidth",value:function(u){var g=this._configuration.options,O=g.get(141),te=g.get(48),Le=g.get(140);if(O.isViewportWrapping){var Me=g.get(70);return u>Le.contentWidth+te.typicalHalfwidthCharacterWidth&&Me.enabled&&Me.side==="right"?u+Le.verticalScrollbarWidth:u}else{var at=g.get(100)*te.typicalHalfwidthCharacterWidth,Ot=this._linesLayout.getWhitespaceMinWidth();return Math.max(u+at+Le.verticalScrollbarWidth,Ot)}}},{key:"setMaxLineWidth",value:function(u){var g=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Za(g.width,this._computeContentWidth(u),g.height,g.contentHeight)),this._updateHeight()}},{key:"saveState",value:function(){var u=this._scrollable.getFutureScrollPosition(),g=u.scrollTop,O=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(g),te=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(O);return{scrollTop:g,scrollTopWithoutViewZones:g-te,scrollLeft:u.scrollLeft}}},{key:"changeWhitespace",value:function(u){var g=this._linesLayout.changeWhitespace(u);return g&&this.onHeightMaybeChanged(),g}},{key:"getVerticalOffsetForLineNumber",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._linesLayout.getVerticalOffsetForLineNumber(u,g)}},{key:"getVerticalOffsetAfterLineNumber",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._linesLayout.getVerticalOffsetAfterLineNumber(u,g)}},{key:"isAfterLines",value:function(u){return this._linesLayout.isAfterLines(u)}},{key:"isInTopPadding",value:function(u){return this._linesLayout.isInTopPadding(u)}},{key:"isInBottomPadding",value:function(u){return this._linesLayout.isInBottomPadding(u)}},{key:"getLineNumberAtVerticalOffset",value:function(u){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(u)}},{key:"getWhitespaceAtVerticalOffset",value:function(u){return this._linesLayout.getWhitespaceAtVerticalOffset(u)}},{key:"getLinesViewportData",value:function(){var u=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(u.top,u.top+u.height)}},{key:"getLinesViewportDataAtScrollTop",value:function(u){var g=this._scrollable.getScrollDimensions();return u+g.height>g.scrollHeight&&(u=g.scrollHeight-g.height),u<0&&(u=0),this._linesLayout.getLinesViewportData(u,u+g.height)}},{key:"getWhitespaceViewportData",value:function(){var u=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(u.top,u.top+u.height)}},{key:"getWhitespaces",value:function(){return this._linesLayout.getWhitespaces()}},{key:"getContentWidth",value:function(){var u=this._scrollable.getScrollDimensions();return u.contentWidth}},{key:"getScrollWidth",value:function(){var u=this._scrollable.getScrollDimensions();return u.scrollWidth}},{key:"getContentHeight",value:function(){var u=this._scrollable.getScrollDimensions();return u.contentHeight}},{key:"getScrollHeight",value:function(){var u=this._scrollable.getScrollDimensions();return u.scrollHeight}},{key:"getCurrentScrollLeft",value:function(){var u=this._scrollable.getCurrentScrollPosition();return u.scrollLeft}},{key:"getCurrentScrollTop",value:function(){var u=this._scrollable.getCurrentScrollPosition();return u.scrollTop}},{key:"validateScrollPosition",value:function(u){return this._scrollable.validateScrollPosition(u)}},{key:"setScrollPosition",value:function(u,g){g===1?this._scrollable.setScrollPositionNow(u):this._scrollable.setScrollPositionSmooth(u)}},{key:"hasPendingScrollAnimation",value:function(){return this._scrollable.hasPendingScrollAnimation()}},{key:"deltaScrollNow",value:function(u,g){var O=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:O.scrollLeft+u,scrollTop:O.scrollTop+g})}}]),v}(C.a),Ll=a("H9a+"),kc=a("zhcO");function Ml(ze,Ce){return ze===null?Ce?Zu.INSTANCE:zl.INSTANCE:new du(ze,Ce)}var du=function(){function ze(Ce,v){Object(Q.a)(this,ze),this._projectionData=Ce,this._isVisible=v}return Object(L.a)(ze,[{key:"isVisible",value:function(){return this._isVisible}},{key:"setVisible",value:function(v){return this._isVisible=v,this}},{key:"getProjectionData",value:function(){return this._projectionData}},{key:"getViewLineCount",value:function(){return this._isVisible?this._projectionData.getOutputLineCount():0}},{key:"getViewLineContent",value:function(v,m,u){var g=this;this._assertVisible();var O=u>0?this._projectionData.breakOffsets[u-1]:0,te=this._projectionData.breakOffsets[u],Le;if(this._projectionData.injectionOffsets!==null){var Me=this._projectionData.injectionOffsets.map(function(Ot,Mt){return new ks.b(0,0,Ot+1,g._projectionData.injectionOptions[Mt],0)}),at=ks.b.applyInjectedText(v.getLineContent(m),Me);Le=at.substring(O,te)}else Le=v.getValueInRange({startLineNumber:m,startColumn:O+1,endLineNumber:m,endColumn:te+1});return u>0&&(Le=qs(this._projectionData.wrappedTextIndentLength)+Le),Le}},{key:"getViewLineLength",value:function(v,m,u){return this._assertVisible(),this._projectionData.getLineLength(u)}},{key:"getViewLineMinColumn",value:function(v,m,u){return this._assertVisible(),this._projectionData.getMinOutputOffset(u)+1}},{key:"getViewLineMaxColumn",value:function(v,m,u){return this._assertVisible(),this._projectionData.getMaxOutputOffset(u)+1}},{key:"getViewLineData",value:function(v,m,u){var g=new Array;return this.getViewLinesData(v,m,u,1,0,[!0],g),g[0]}},{key:"getViewLinesData",value:function(v,m,u,g,O,te,Le){this._assertVisible();var Me=this._projectionData,at=Me.injectionOffsets,Ot=Me.injectionOptions,Mt=null;if(at){Mt=[];for(var Qt=0,Ht=0,dt=0;dt<Me.getOutputLineCount();dt++){var Cn=new Array;Mt[dt]=Cn;for(var Pn=dt>0?Me.breakOffsets[dt-1]:0,ni=Me.breakOffsets[dt];Ht<at.length;){var hi=Ot[Ht].content.length,Di=at[Ht]+Qt,wi=Di+hi;if(Di>ni)break;if(Pn<wi){var nr=Ot[Ht];if(nr.inlineClassName){var Ni=dt>0?Me.wrappedTextIndentLength:0,Wi=Ni+Math.max(Di-Pn,0),er=Ni+Math.min(wi-Pn,ni);Wi!==er&&Cn.push(new ka.d(Wi,er,nr.inlineClassName,nr.inlineClassNameAffectsLetterSpacing))}}if(wi<=ni)Qt+=hi,Ht++;else break}}}var br;at?br=v.tokenization.getLineTokens(m).withInserted(at.map(function(ca,Ca){return{offset:ca,text:Ot[Ca].content,tokenMetadata:kc.a.defaultTokenMetadata}})):br=v.tokenization.getLineTokens(m);for(var xr=u;xr<u+g;xr++){var Ur=O+xr-u;if(!te[Ur]){Le[Ur]=null;continue}Le[Ur]=this._getViewLineData(br,Mt?Mt[xr]:null,xr)}}},{key:"_getViewLineData",value:function(v,m,u){this._assertVisible();var g=this._projectionData,O=u>0?g.wrappedTextIndentLength:0,te=u>0?g.breakOffsets[u-1]:0,Le=g.breakOffsets[u],Me=v.sliceAndInflate(te,Le,O),at=Me.getLineContent();u>0&&(at=qs(g.wrappedTextIndentLength)+at);var Ot=this._projectionData.getMinOutputOffset(u)+1,Mt=at.length+1,Qt=u+1<this.getViewLineCount(),Ht=u===0?0:g.breakOffsetsVisibleColumn[u-1];return new ka.e(at,Qt,Ot,Mt,Ht,Me,m)}},{key:"getModelColumnOfViewPosition",value:function(v,m){return this._assertVisible(),this._projectionData.translateToInputOffset(v,m-1)+1}},{key:"getViewPositionOfModelPosition",value:function(v,m){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;this._assertVisible();var g=this._projectionData.translateToOutputPosition(m-1,u);return g.toPosition(v)}},{key:"getViewLineNumberOfModelPosition",value:function(v,m){this._assertVisible();var u=this._projectionData.translateToOutputPosition(m-1);return v+u.outputLineIndex}},{key:"normalizePosition",value:function(v,m,u){var g=m.lineNumber-v,O=this._projectionData.normalizeOutputPosition(v,m.column-1,u),te=O.toPosition(g);return te}},{key:"getInjectedTextAt",value:function(v,m){return this._projectionData.getInjectedText(v,m-1)}},{key:"_assertVisible",value:function(){if(!this._isVisible)throw new Error("Not supported")}}]),ze}(),Zu=function(){function ze(){Object(Q.a)(this,ze)}return Object(L.a)(ze,[{key:"isVisible",value:function(){return!0}},{key:"setVisible",value:function(v){return v?this:zl.INSTANCE}},{key:"getProjectionData",value:function(){return null}},{key:"getViewLineCount",value:function(){return 1}},{key:"getViewLineContent",value:function(v,m,u){return v.getLineContent(m)}},{key:"getViewLineLength",value:function(v,m,u){return v.getLineLength(m)}},{key:"getViewLineMinColumn",value:function(v,m,u){return v.getLineMinColumn(m)}},{key:"getViewLineMaxColumn",value:function(v,m,u){return v.getLineMaxColumn(m)}},{key:"getViewLineData",value:function(v,m,u){var g=v.tokenization.getLineTokens(m),O=g.getLineContent();return new ka.e(O,!1,1,O.length+1,0,g.inflate(),null)}},{key:"getViewLinesData",value:function(v,m,u,g,O,te,Le){if(!te[O]){Le[O]=null;return}Le[O]=this.getViewLineData(v,m,0)}},{key:"getModelColumnOfViewPosition",value:function(v,m){return m}},{key:"getViewPositionOfModelPosition",value:function(v,m){return new Dn.a(v,m)}},{key:"getViewLineNumberOfModelPosition",value:function(v,m){return v}},{key:"normalizePosition",value:function(v,m,u){return m}},{key:"getInjectedTextAt",value:function(v,m){return null}}]),ze}();Zu.INSTANCE=new Zu;var zl=function(){function ze(){Object(Q.a)(this,ze)}return Object(L.a)(ze,[{key:"isVisible",value:function(){return!1}},{key:"setVisible",value:function(v){return v?Zu.INSTANCE:this}},{key:"getProjectionData",value:function(){return null}},{key:"getViewLineCount",value:function(){return 0}},{key:"getViewLineContent",value:function(v,m,u){throw new Error("Not supported")}},{key:"getViewLineLength",value:function(v,m,u){throw new Error("Not supported")}},{key:"getViewLineMinColumn",value:function(v,m,u){throw new Error("Not supported")}},{key:"getViewLineMaxColumn",value:function(v,m,u){throw new Error("Not supported")}},{key:"getViewLineData",value:function(v,m,u){throw new Error("Not supported")}},{key:"getViewLinesData",value:function(v,m,u,g,O,te,Le){throw new Error("Not supported")}},{key:"getModelColumnOfViewPosition",value:function(v,m){throw new Error("Not supported")}},{key:"getViewPositionOfModelPosition",value:function(v,m){throw new Error("Not supported")}},{key:"getViewLineNumberOfModelPosition",value:function(v,m){throw new Error("Not supported")}},{key:"normalizePosition",value:function(v,m,u){throw new Error("Not supported")}},{key:"getInjectedTextAt",value:function(v,m){throw new Error("Not supported")}}]),ze}();zl.INSTANCE=new zl;var Mu=[""];function qs(ze){if(ze>=Mu.length)for(var Ce=1;Ce<=ze;Ce++)Mu[Ce]=Cs(Ce);return Mu[ze]}function Cs(ze){return new Array(ze+1).join(" ")}var zc=a("T/V3"),fd=function(){function ze(Ce,v,m,u,g,O,te,Le,Me,at){Object(Q.a)(this,ze),this._editorId=Ce,this.model=v,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=m,this._monospaceLineBreaksComputerFactory=u,this.fontInfo=g,this.tabSize=O,this.wrappingStrategy=te,this.wrappingColumn=Le,this.wrappingIndent=Me,this.wordBreak=at,this._constructLines(!0,null)}return Object(L.a)(ze,[{key:"dispose",value:function(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}},{key:"createCoordinatesConverter",value:function(){return new vd(this)}},{key:"_constructLines",value:function(v,m){var u=this;this.modelLineProjections=[],v&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));for(var g=this.model.getLinesContent(),O=this.model.getInjectedTextDecorations(this._editorId),te=g.length,Le=this.createLineBreaksComputer(),Me=new T.a(ks.b.fromDecorations(O)),at=function(Wi){var er=Me.takeWhile(function(br){return br.lineNumber===Wi+1});Le.addRequest(g[Wi],er,m?m[Wi]:null)},Ot=0;Ot<te;Ot++)at(Ot);for(var Mt=Le.finalize(),Qt=[],Ht=this.hiddenAreasDecorationIds.map(function(Ni){return u.model.getDecorationRange(Ni)}).sort(An.a.compareRangesUsingStarts),dt=1,Cn=0,Pn=-1,ni=Pn+1<Ht.length?Cn+1:te+2,hi=0;hi<te;hi++){var Di=hi+1;Di===ni&&(Pn++,dt=Ht[Pn].startLineNumber,Cn=Ht[Pn].endLineNumber,ni=Pn+1<Ht.length?Cn+1:te+2);var wi=Di>=dt&&Di<=Cn,nr=Ml(Mt[hi],!wi);Qt[hi]=nr.getViewLineCount(),this.modelLineProjections[hi]=nr}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new zc.a(Qt)}},{key:"getHiddenAreas",value:function(){var v=this;return this.hiddenAreasDecorationIds.map(function(m){return v.model.getDecorationRange(m)})}},{key:"setHiddenAreas",value:function(v){var m=this,u=v.map(function(Di){return m.model.validateRange(Di)}),g=hu(u),O=this.hiddenAreasDecorationIds.map(function(Di){return m.model.getDecorationRange(Di)}).sort(An.a.compareRangesUsingStarts);if(g.length===O.length){for(var te=!1,Le=0;Le<g.length;Le++)if(!g[Le].equalsRange(O[Le])){te=!0;break}if(!te)return!1}var Me=g.map(function(Di){return{range:Di,options:Ku.b.EMPTY}});this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,Me);for(var at=g,Ot=1,Mt=0,Qt=-1,Ht=Qt+1<at.length?Mt+1:this.modelLineProjections.length+2,dt=!1,Cn=0;Cn<this.modelLineProjections.length;Cn++){var Pn=Cn+1;Pn===Ht&&(Qt++,Ot=at[Qt].startLineNumber,Mt=at[Qt].endLineNumber,Ht=Qt+1<at.length?Mt+1:this.modelLineProjections.length+2);var ni=!1;if(Pn>=Ot&&Pn<=Mt?this.modelLineProjections[Cn].isVisible()&&(this.modelLineProjections[Cn]=this.modelLineProjections[Cn].setVisible(!1),ni=!0):(dt=!0,this.modelLineProjections[Cn].isVisible()||(this.modelLineProjections[Cn]=this.modelLineProjections[Cn].setVisible(!0),ni=!0)),ni){var hi=this.modelLineProjections[Cn].getViewLineCount();this.projectedModelLineLineCounts.setValue(Cn,hi)}}return dt||this.setHiddenAreas([]),!0}},{key:"modelPositionIsVisible",value:function(v,m){return v<1||v>this.modelLineProjections.length?!1:this.modelLineProjections[v-1].isVisible()}},{key:"getModelLineViewLineCount",value:function(v){return v<1||v>this.modelLineProjections.length?1:this.modelLineProjections[v-1].getViewLineCount()}},{key:"setTabSize",value:function(v){return this.tabSize===v?!1:(this.tabSize=v,this._constructLines(!1,null),!0)}},{key:"setWrappingSettings",value:function(v,m,u,g,O){var te=this.fontInfo.equals(v),Le=this.wrappingStrategy===m,Me=this.wrappingColumn===u,at=this.wrappingIndent===g,Ot=this.wordBreak===O;if(te&&Le&&Me&&at&&Ot)return!1;var Mt=te&&Le&&!Me&&at&&Ot;this.fontInfo=v,this.wrappingStrategy=m,this.wrappingColumn=u,this.wrappingIndent=g,this.wordBreak=O;var Qt=null;if(Mt){Qt=[];for(var Ht=0,dt=this.modelLineProjections.length;Ht<dt;Ht++)Qt[Ht]=this.modelLineProjections[Ht].getProjectionData()}return this._constructLines(!1,Qt),!0}},{key:"createLineBreaksComputer",value:function(){var v=this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory;return v.createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}},{key:"onModelFlushed",value:function(){this._constructLines(!0,null)}},{key:"onModelLinesDeleted",value:function(v,m,u){if(!v||v<=this._validModelVersionId)return null;var g=m===1?1:this.projectedModelLineLineCounts.getPrefixSum(m-1)+1,O=this.projectedModelLineLineCounts.getPrefixSum(u);return this.modelLineProjections.splice(m-1,u-m+1),this.projectedModelLineLineCounts.removeValues(m-1,u-m+1),new Ns(g,O)}},{key:"onModelLinesInserted",value:function(v,m,u,g){if(!v||v<=this._validModelVersionId)return null;for(var O=m>2&&!this.modelLineProjections[m-2].isVisible(),te=m===1?1:this.projectedModelLineLineCounts.getPrefixSum(m-1)+1,Le=0,Me=[],at=[],Ot=0,Mt=g.length;Ot<Mt;Ot++){var Qt=Ml(g[Ot],!O);Me.push(Qt);var Ht=Qt.getViewLineCount();Le+=Ht,at[Ot]=Ht}return this.modelLineProjections=this.modelLineProjections.slice(0,m-1).concat(Me).concat(this.modelLineProjections.slice(m-1)),this.projectedModelLineLineCounts.insertValues(m-1,at),new ps(te,te+Le-1)}},{key:"onModelLineChanged",value:function(v,m,u){if(v!==null&&v<=this._validModelVersionId)return[!1,null,null,null];var g=m-1,O=this.modelLineProjections[g].getViewLineCount(),te=this.modelLineProjections[g].isVisible(),Le=Ml(u,te);this.modelLineProjections[g]=Le;var Me=this.modelLineProjections[g].getViewLineCount(),at=!1,Ot=0,Mt=-1,Qt=0,Ht=-1,dt=0,Cn=-1;O>Me?(Ot=this.projectedModelLineLineCounts.getPrefixSum(m-1)+1,Mt=Ot+Me-1,dt=Mt+1,Cn=dt+(O-Me)-1,at=!0):O<Me?(Ot=this.projectedModelLineLineCounts.getPrefixSum(m-1)+1,Mt=Ot+O-1,Qt=Mt+1,Ht=Qt+(Me-O)-1,at=!0):(Ot=this.projectedModelLineLineCounts.getPrefixSum(m-1)+1,Mt=Ot+Me-1),this.projectedModelLineLineCounts.setValue(g,Me);var Pn=Ot<=Mt?new Rs(Ot,Mt-Ot+1):null,ni=Qt<=Ht?new ps(Qt,Ht):null,hi=dt<=Cn?new Ns(dt,Cn):null;return[at,Pn,ni,hi]}},{key:"acceptVersionId",value:function(v){this._validModelVersionId=v,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}},{key:"getViewLineCount",value:function(){return this.projectedModelLineLineCounts.getTotalSum()}},{key:"_toValidViewLineNumber",value:function(v){if(v<1)return 1;var m=this.getViewLineCount();return v>m?m:v|0}},{key:"getActiveIndentGuide",value:function(v,m,u){v=this._toValidViewLineNumber(v),m=this._toValidViewLineNumber(m),u=this._toValidViewLineNumber(u);var g=this.convertViewPositionToModelPosition(v,this.getViewLineMinColumn(v)),O=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),te=this.convertViewPositionToModelPosition(u,this.getViewLineMinColumn(u)),Le=this.model.guides.getActiveIndentGuide(g.lineNumber,O.lineNumber,te.lineNumber),Me=this.convertModelPositionToViewPosition(Le.startLineNumber,1),at=this.convertModelPositionToViewPosition(Le.endLineNumber,this.model.getLineMaxColumn(Le.endLineNumber));return{startLineNumber:Me.lineNumber,endLineNumber:at.lineNumber,indent:Le.indent}}},{key:"getViewLineInfo",value:function(v){v=this._toValidViewLineNumber(v);var m=this.projectedModelLineLineCounts.getIndexOf(v-1),u=m.index,g=m.remainder;return new Tl(u+1,g)}},{key:"getMinColumnOfViewLine",value:function(v){return this.modelLineProjections[v.modelLineNumber-1].getViewLineMinColumn(this.model,v.modelLineNumber,v.modelLineWrappedLineIdx)}},{key:"getMaxColumnOfViewLine",value:function(v){return this.modelLineProjections[v.modelLineNumber-1].getViewLineMaxColumn(this.model,v.modelLineNumber,v.modelLineWrappedLineIdx)}},{key:"getModelStartPositionOfViewLine",value:function(v){var m=this.modelLineProjections[v.modelLineNumber-1],u=m.getViewLineMinColumn(this.model,v.modelLineNumber,v.modelLineWrappedLineIdx),g=m.getModelColumnOfViewPosition(v.modelLineWrappedLineIdx,u);return new Dn.a(v.modelLineNumber,g)}},{key:"getModelEndPositionOfViewLine",value:function(v){var m=this.modelLineProjections[v.modelLineNumber-1],u=m.getViewLineMaxColumn(this.model,v.modelLineNumber,v.modelLineWrappedLineIdx),g=m.getModelColumnOfViewPosition(v.modelLineWrappedLineIdx,u);return new Dn.a(v.modelLineNumber,g)}},{key:"getViewLineInfosGroupedByModelRanges",value:function(v,m){for(var u=this.getViewLineInfo(v),g=this.getViewLineInfo(m),O=new Array,te=this.getModelStartPositionOfViewLine(u),Le=new Array,Me=u.modelLineNumber;Me<=g.modelLineNumber;Me++){var at=this.modelLineProjections[Me-1];if(at.isVisible())for(var Ot=Me===u.modelLineNumber?u.modelLineWrappedLineIdx:0,Mt=Me===g.modelLineNumber?g.modelLineWrappedLineIdx+1:at.getViewLineCount(),Qt=Ot;Qt<Mt;Qt++)Le.push(new Tl(Me,Qt));if(!at.isVisible()&&te){var Ht=new Dn.a(Me-1,this.model.getLineMaxColumn(Me-1)+1),dt=An.a.fromPositions(te,Ht);O.push(new fu(dt,Le)),Le=[],te=null}else at.isVisible()&&!te&&(te=new Dn.a(Me,1))}if(te){var Cn=An.a.fromPositions(te,this.getModelEndPositionOfViewLine(g));O.push(new fu(Cn,Le))}return O}},{key:"getViewLinesBracketGuides",value:function(v,m,u,g){var O=this,te=u?this.convertViewPositionToModelPosition(u.lineNumber,u.column):null,Le=[],Me=Object(E.a)(this.getViewLineInfosGroupedByModelRanges(v,m)),at;try{for(Me.s();!(at=Me.n()).done;){var Ot=at.value,Mt=Ot.modelRange.startLineNumber,Qt=this.model.guides.getLinesBracketGuides(Mt,Ot.modelRange.endLineNumber,te,g),Ht=Object(E.a)(Ot.viewLines),dt;try{var Cn=function(){var ni=dt.value,hi=Qt[ni.modelLineNumber-Mt],Di=hi.map(function(wi){if(wi.forWrappedLinesAfterColumn!==-1){var nr=O.modelLineProjections[ni.modelLineNumber-1].getViewPositionOfModelPosition(0,wi.forWrappedLinesAfterColumn);if(nr.lineNumber>=ni.modelLineWrappedLineIdx)return}if(wi.forWrappedLinesBeforeOrAtColumn!==-1){var Ni=O.modelLineProjections[ni.modelLineNumber-1].getViewPositionOfModelPosition(0,wi.forWrappedLinesBeforeOrAtColumn);if(Ni.lineNumber<ni.modelLineWrappedLineIdx)return}if(!wi.horizontalLine)return wi;var Wi=-1;if(wi.column!==-1){var er=O.modelLineProjections[ni.modelLineNumber-1].getViewPositionOfModelPosition(0,wi.column);if(er.lineNumber===ni.modelLineWrappedLineIdx)Wi=er.column;else if(er.lineNumber<ni.modelLineWrappedLineIdx)Wi=O.getMinColumnOfViewLine(ni);else if(er.lineNumber>ni.modelLineWrappedLineIdx)return}var br=O.convertModelPositionToViewPosition(ni.modelLineNumber,wi.horizontalLine.endColumn),xr=O.modelLineProjections[ni.modelLineNumber-1].getViewPositionOfModelPosition(0,wi.horizontalLine.endColumn);return xr.lineNumber===ni.modelLineWrappedLineIdx?new ri.b(wi.visibleColumn,Wi,wi.className,new ri.c(wi.horizontalLine.top,br.column),-1,-1):xr.lineNumber<ni.modelLineWrappedLineIdx||wi.visibleColumn!==-1?void 0:new ri.b(wi.visibleColumn,Wi,wi.className,new ri.c(wi.horizontalLine.top,O.getMaxColumnOfViewLine(ni)),-1,-1)});Le.push(Di.filter(function(wi){return!!wi}))};for(Ht.s();!(dt=Ht.n()).done;)Cn()}catch(Pn){Ht.e(Pn)}finally{Ht.f()}}}catch(Pn){Me.e(Pn)}finally{Me.f()}return Le}},{key:"getViewLinesIndentGuides",value:function(v,m){v=this._toValidViewLineNumber(v),m=this._toValidViewLineNumber(m);for(var u=this.convertViewPositionToModelPosition(v,this.getViewLineMinColumn(v)),g=this.convertViewPositionToModelPosition(m,this.getViewLineMaxColumn(m)),O=[],te=[],Le=[],Me=u.lineNumber-1,at=g.lineNumber-1,Ot=null,Mt=Me;Mt<=at;Mt++){var Qt=this.modelLineProjections[Mt];if(Qt.isVisible()){var Ht=Qt.getViewLineNumberOfModelPosition(0,Mt===Me?u.column:1),dt=Qt.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Mt+1)),Cn=dt-Ht+1,Pn=0;Cn>1&&Qt.getViewLineMinColumn(this.model,Mt+1,dt)===1&&(Pn=Ht===0?1:2),te.push(Cn),Le.push(Pn),Ot===null&&(Ot=new Dn.a(Mt+1,0))}else Ot!==null&&(O=O.concat(this.model.guides.getLinesIndentGuides(Ot.lineNumber,Mt)),Ot=null)}Ot!==null&&(O=O.concat(this.model.guides.getLinesIndentGuides(Ot.lineNumber,g.lineNumber)),Ot=null);for(var ni=m-v+1,hi=new Array(ni),Di=0,wi=0,nr=O.length;wi<nr;wi++){var Ni=O[wi],Wi=Math.min(ni-Di,te[wi]),er=Le[wi],br=void 0;er===2?br=0:er===1?br=1:br=Wi;for(var xr=0;xr<Wi;xr++)xr===br&&(Ni=0),hi[Di++]=Ni}return hi}},{key:"getViewLineContent",value:function(v){var m=this.getViewLineInfo(v);return this.modelLineProjections[m.modelLineNumber-1].getViewLineContent(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx)}},{key:"getViewLineLength",value:function(v){var m=this.getViewLineInfo(v);return this.modelLineProjections[m.modelLineNumber-1].getViewLineLength(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx)}},{key:"getViewLineMinColumn",value:function(v){var m=this.getViewLineInfo(v);return this.modelLineProjections[m.modelLineNumber-1].getViewLineMinColumn(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx)}},{key:"getViewLineMaxColumn",value:function(v){var m=this.getViewLineInfo(v);return this.modelLineProjections[m.modelLineNumber-1].getViewLineMaxColumn(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx)}},{key:"getViewLineData",value:function(v){var m=this.getViewLineInfo(v);return this.modelLineProjections[m.modelLineNumber-1].getViewLineData(this.model,m.modelLineNumber,m.modelLineWrappedLineIdx)}},{key:"getViewLinesData",value:function(v,m,u){v=this._toValidViewLineNumber(v),m=this._toValidViewLineNumber(m);for(var g=this.projectedModelLineLineCounts.getIndexOf(v-1),O=v,te=g.index,Le=g.remainder,Me=[],at=te,Ot=this.model.getLineCount();at<Ot;at++){var Mt=this.modelLineProjections[at];if(!!Mt.isVisible()){var Qt=at===te?Le:0,Ht=Mt.getViewLineCount()-Qt,dt=!1;if(O+Ht>m&&(dt=!0,Ht=m-O+1),Mt.getViewLinesData(this.model,at+1,Qt,Ht,O-v,u,Me),O+=Ht,dt)break}}return Me}},{key:"validateViewPosition",value:function(v,m,u){v=this._toValidViewLineNumber(v);var g=this.projectedModelLineLineCounts.getIndexOf(v-1),O=g.index,te=g.remainder,Le=this.modelLineProjections[O],Me=Le.getViewLineMinColumn(this.model,O+1,te),at=Le.getViewLineMaxColumn(this.model,O+1,te);m<Me&&(m=Me),m>at&&(m=at);var Ot=Le.getModelColumnOfViewPosition(te,m),Mt=this.model.validatePosition(new Dn.a(O+1,Ot));return Mt.equals(u)?new Dn.a(v,m):this.convertModelPositionToViewPosition(u.lineNumber,u.column)}},{key:"validateViewRange",value:function(v,m){var u=this.validateViewPosition(v.startLineNumber,v.startColumn,m.getStartPosition()),g=this.validateViewPosition(v.endLineNumber,v.endColumn,m.getEndPosition());return new An.a(u.lineNumber,u.column,g.lineNumber,g.column)}},{key:"convertViewPositionToModelPosition",value:function(v,m){var u=this.getViewLineInfo(v),g=this.modelLineProjections[u.modelLineNumber-1].getModelColumnOfViewPosition(u.modelLineWrappedLineIdx,m);return this.model.validatePosition(new Dn.a(u.modelLineNumber,g))}},{key:"convertViewRangeToModelRange",value:function(v){var m=this.convertViewPositionToModelPosition(v.startLineNumber,v.startColumn),u=this.convertViewPositionToModelPosition(v.endLineNumber,v.endColumn);return new An.a(m.lineNumber,m.column,u.lineNumber,u.column)}},{key:"convertModelPositionToViewPosition",value:function(v,m){for(var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,g=this.model.validatePosition(new Dn.a(v,m)),O=g.lineNumber,te=g.column,Le=O-1,Me=!1;Le>0&&!this.modelLineProjections[Le].isVisible();)Le--,Me=!0;if(Le===0&&!this.modelLineProjections[Le].isVisible())return new Dn.a(1,1);var at=1+this.projectedModelLineLineCounts.getPrefixSum(Le),Ot;return Me?Ot=this.modelLineProjections[Le].getViewPositionOfModelPosition(at,this.model.getLineMaxColumn(Le+1),u):Ot=this.modelLineProjections[O-1].getViewPositionOfModelPosition(at,te,u),Ot}},{key:"convertModelRangeToViewRange",value:function(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(v.isEmpty()){var u=this.convertModelPositionToViewPosition(v.startLineNumber,v.startColumn,m);return An.a.fromPositions(u)}else{var g=this.convertModelPositionToViewPosition(v.startLineNumber,v.startColumn,1),O=this.convertModelPositionToViewPosition(v.endLineNumber,v.endColumn,0);return new An.a(g.lineNumber,g.column,O.lineNumber,O.column)}}},{key:"getViewLineNumberOfModelPosition",value:function(v,m){var u=v-1;if(this.modelLineProjections[u].isVisible()){var g=1+this.projectedModelLineLineCounts.getPrefixSum(u);return this.modelLineProjections[u].getViewLineNumberOfModelPosition(g,m)}for(;u>0&&!this.modelLineProjections[u].isVisible();)u--;if(u===0&&!this.modelLineProjections[u].isVisible())return 1;var O=1+this.projectedModelLineLineCounts.getPrefixSum(u);return this.modelLineProjections[u].getViewLineNumberOfModelPosition(O,this.model.getLineMaxColumn(u+1))}},{key:"getDecorationsInRange",value:function(v,m,u,g,O){var te=this.convertViewPositionToModelPosition(v.startLineNumber,v.startColumn),Le=this.convertViewPositionToModelPosition(v.endLineNumber,v.endColumn);if(Le.lineNumber-te.lineNumber<=v.endLineNumber-v.startLineNumber)return this.model.getDecorationsInRange(new An.a(te.lineNumber,1,Le.lineNumber,Le.column),m,u,g,O);for(var Me=[],at=te.lineNumber-1,Ot=Le.lineNumber-1,Mt=null,Qt=at;Qt<=Ot;Qt++){var Ht=this.modelLineProjections[Qt];if(Ht.isVisible())Mt===null&&(Mt=new Dn.a(Qt+1,Qt===at?te.column:1));else if(Mt!==null){var dt=this.model.getLineMaxColumn(Qt);Me=Me.concat(this.model.getDecorationsInRange(new An.a(Mt.lineNumber,Mt.column,Qt,dt),m,u,g)),Mt=null}}Mt!==null&&(Me=Me.concat(this.model.getDecorationsInRange(new An.a(Mt.lineNumber,Mt.column,Le.lineNumber,Le.column),m,u,g)),Mt=null),Me.sort(function(Ni,Wi){var er=An.a.compareRangesUsingStarts(Ni.range,Wi.range);return er===0?Ni.id<Wi.id?-1:Ni.id>Wi.id?1:0:er});var Cn=[],Pn=0,ni=null,hi=Object(E.a)(Me),Di;try{for(hi.s();!(Di=hi.n()).done;){var wi=Di.value,nr=wi.id;ni!==nr&&(ni=nr,Cn[Pn++]=wi)}}catch(Ni){hi.e(Ni)}finally{hi.f()}return Cn}},{key:"getInjectedTextAt",value:function(v){var m=this.getViewLineInfo(v.lineNumber);return this.modelLineProjections[m.modelLineNumber-1].getInjectedTextAt(m.modelLineWrappedLineIdx,v.column)}},{key:"normalizePosition",value:function(v,m){var u=this.getViewLineInfo(v.lineNumber);return this.modelLineProjections[u.modelLineNumber-1].normalizePosition(u.modelLineWrappedLineIdx,v,m)}},{key:"getLineIndentColumn",value:function(v){var m=this.getViewLineInfo(v);return m.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(m.modelLineNumber):0}}]),ze}();function hu(ze){if(ze.length===0)return[];var Ce=ze.slice();Ce.sort(An.a.compareRangesUsingStarts);for(var v=[],m=Ce[0].startLineNumber,u=Ce[0].endLineNumber,g=1,O=Ce.length;g<O;g++){var te=Ce[g];te.startLineNumber>u+1?(v.push(new An.a(m,1,u,1)),m=te.startLineNumber,u=te.endLineNumber):te.endLineNumber>u&&(u=te.endLineNumber)}return v.push(new An.a(m,1,u,1)),v}var Tl=Object(L.a)(function ze(Ce,v){Object(Q.a)(this,ze),this.modelLineNumber=Ce,this.modelLineWrappedLineIdx=v}),fu=Object(L.a)(function ze(Ce,v){Object(Q.a)(this,ze),this.modelRange=Ce,this.viewLines=v}),vd=function(){function ze(Ce){Object(Q.a)(this,ze),this._lines=Ce}return Object(L.a)(ze,[{key:"convertViewPositionToModelPosition",value:function(v){return this._lines.convertViewPositionToModelPosition(v.lineNumber,v.column)}},{key:"convertViewRangeToModelRange",value:function(v){return this._lines.convertViewRangeToModelRange(v)}},{key:"validateViewPosition",value:function(v,m){return this._lines.validateViewPosition(v.lineNumber,v.column,m)}},{key:"validateViewRange",value:function(v,m){return this._lines.validateViewRange(v,m)}},{key:"convertModelPositionToViewPosition",value:function(v,m){return this._lines.convertModelPositionToViewPosition(v.lineNumber,v.column,m)}},{key:"convertModelRangeToViewRange",value:function(v,m){return this._lines.convertModelRangeToViewRange(v,m)}},{key:"modelPositionIsVisible",value:function(v){return this._lines.modelPositionIsVisible(v.lineNumber,v.column)}},{key:"getModelLineViewLineCount",value:function(v){return this._lines.getModelLineViewLineCount(v)}},{key:"getViewLineNumberOfModelPosition",value:function(v,m){return this._lines.getViewLineNumberOfModelPosition(v,m)}}]),ze}(),Kl=function(){function ze(Ce){Object(Q.a)(this,ze),this.model=Ce}return Object(L.a)(ze,[{key:"dispose",value:function(){}},{key:"createCoordinatesConverter",value:function(){return new gl(this)}},{key:"getHiddenAreas",value:function(){return[]}},{key:"setHiddenAreas",value:function(v){return!1}},{key:"setTabSize",value:function(v){return!1}},{key:"setWrappingSettings",value:function(v,m,u,g){return!1}},{key:"createLineBreaksComputer",value:function(){var v=[];return{addRequest:function(u,g,O){v.push(null)},finalize:function(){return v}}}},{key:"onModelFlushed",value:function(){}},{key:"onModelLinesDeleted",value:function(v,m,u){return new Ns(m,u)}},{key:"onModelLinesInserted",value:function(v,m,u,g){return new ps(m,u)}},{key:"onModelLineChanged",value:function(v,m,u){return[!1,new Rs(m,1),null,null]}},{key:"acceptVersionId",value:function(v){}},{key:"getViewLineCount",value:function(){return this.model.getLineCount()}},{key:"getActiveIndentGuide",value:function(v,m,u){return{startLineNumber:v,endLineNumber:v,indent:0}}},{key:"getViewLinesBracketGuides",value:function(v,m,u){return new Array(m-v+1).fill([])}},{key:"getViewLinesIndentGuides",value:function(v,m){for(var u=m-v+1,g=new Array(u),O=0;O<u;O++)g[O]=0;return g}},{key:"getViewLineContent",value:function(v){return this.model.getLineContent(v)}},{key:"getViewLineLength",value:function(v){return this.model.getLineLength(v)}},{key:"getViewLineMinColumn",value:function(v){return this.model.getLineMinColumn(v)}},{key:"getViewLineMaxColumn",value:function(v){return this.model.getLineMaxColumn(v)}},{key:"getViewLineData",value:function(v){var m=this.model.tokenization.getLineTokens(v),u=m.getLineContent();return new ka.e(u,!1,1,u.length+1,0,m.inflate(),null)}},{key:"getViewLinesData",value:function(v,m,u){var g=this.model.getLineCount();v=Math.min(Math.max(1,v),g),m=Math.min(Math.max(1,m),g);for(var O=[],te=v;te<=m;te++){var Le=te-v;O[Le]=u[Le]?this.getViewLineData(te):null}return O}},{key:"getDecorationsInRange",value:function(v,m,u,g,O){return this.model.getDecorationsInRange(v,m,u,g,O)}},{key:"normalizePosition",value:function(v,m){return this.model.normalizePosition(v,m)}},{key:"getLineIndentColumn",value:function(v){return this.model.getLineIndentColumn(v)}},{key:"getInjectedTextAt",value:function(v){return null}}]),ze}(),gl=function(){function ze(Ce){Object(Q.a)(this,ze),this._lines=Ce}return Object(L.a)(ze,[{key:"_validPosition",value:function(v){return this._lines.model.validatePosition(v)}},{key:"_validRange",value:function(v){return this._lines.model.validateRange(v)}},{key:"convertViewPositionToModelPosition",value:function(v){return this._validPosition(v)}},{key:"convertViewRangeToModelRange",value:function(v){return this._validRange(v)}},{key:"validateViewPosition",value:function(v,m){return this._validPosition(m)}},{key:"validateViewRange",value:function(v,m){return this._validRange(m)}},{key:"convertModelPositionToViewPosition",value:function(v){return this._validPosition(v)}},{key:"convertModelRangeToViewRange",value:function(v){return this._validRange(v)}},{key:"modelPositionIsVisible",value:function(v){var m=this._lines.model.getLineCount();return!(v.lineNumber<1||v.lineNumber>m)}},{key:"getModelLineViewLineCount",value:function(v){return 1}},{key:"getViewLineNumberOfModelPosition",value:function(v,m){return v}}]),ze}(),Kc=!0,Gl=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g,O,te,Le,Me,at,Ot){var Mt;if(Object(Q.a)(this,v),Mt=Ce.call(this),Mt.languageConfigurationService=Me,Mt._themeService=at,Mt._attachedView=Ot,Mt.hiddenAreasModel=new Tu,Mt.previousHiddenAreas=[],Mt._editorId=m,Mt._configuration=u,Mt.model=g,Mt._eventDispatcher=new Zs,Mt.onEvent=Mt._eventDispatcher.onEvent,Mt.cursorConfig=new eo.a(Mt.model.getLanguageId(),Mt.model.getOptions(),Mt._configuration,Mt.languageConfigurationService),Mt._updateConfigurationViewLineCount=Mt._register(new Zi.g(function(){return Mt._updateConfigurationViewLineCountNow()},0)),Mt._hasFocus=!1,Mt._viewportStart=Fi.create(Mt.model),Kc&&Mt.model.isTooLargeForTokenization())Mt._lines=new Kl(Mt.model);else{var Qt=Mt._configuration.options,Ht=Qt.get(48),dt=Qt.get(134),Cn=Qt.get(141),Pn=Qt.get(133),ni=Qt.get(125);Mt._lines=new fd(Mt._editorId,Mt.model,O,te,Ht,Mt.model.getOptions().tabSize,dt,Cn.wrappingColumn,Pn,ni)}return Mt.coordinatesConverter=Mt._lines.createCoordinatesConverter(),Mt._cursor=Mt._register(new rl(g,Object(ve.a)(Mt),Mt.coordinatesConverter,Mt.cursorConfig)),Mt.viewLayout=Mt._register(new Ul(Mt._configuration,Mt.getLineCount(),Le)),Mt._register(Mt.viewLayout.onDidScroll(function(hi){hi.scrollTopChanged&&Mt._handleVisibleLinesChanged(),hi.scrollTopChanged&&Mt._viewportStart.invalidate(),Mt._eventDispatcher.emitSingleViewEvent(new gc(hi)),Mt._eventDispatcher.emitOutgoingEvent(new bc(hi.oldScrollWidth,hi.oldScrollLeft,hi.oldScrollHeight,hi.oldScrollTop,hi.scrollWidth,hi.scrollLeft,hi.scrollHeight,hi.scrollTop))})),Mt._register(Mt.viewLayout.onDidContentSizeChange(function(hi){Mt._eventDispatcher.emitOutgoingEvent(hi)})),Mt._decorations=new Ll.a(Mt._editorId,Mt.model,Mt._configuration,Mt._lines,Mt.coordinatesConverter),Mt._registerModelEvents(),Mt._register(Mt._configuration.onDidChangeFast(function(hi){try{var Di=Mt._eventDispatcher.beginEmitViewEvents();Mt._onConfigurationChanged(Di,hi)}finally{Mt._eventDispatcher.endEmitViewEvents()}})),Mt._register(ao.getInstance().onDidChange(function(){Mt._eventDispatcher.emitSingleViewEvent(new ns)})),Mt._register(Mt._themeService.onDidColorThemeChange(function(hi){Mt._invalidateDecorationsColorCache(),Mt._eventDispatcher.emitSingleViewEvent(new mc(hi))})),Mt._updateConfigurationViewLineCountNow(),Mt}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}},{key:"createLineBreaksComputer",value:function(){return this._lines.createLineBreaksComputer()}},{key:"addViewEventHandler",value:function(u){this._eventDispatcher.addViewEventHandler(u)}},{key:"removeViewEventHandler",value:function(u){this._eventDispatcher.removeViewEventHandler(u)}},{key:"_updateConfigurationViewLineCountNow",value:function(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}},{key:"getModelVisibleRanges",value:function(){var u=this.viewLayout.getLinesViewportData(),g=new An.a(u.startLineNumber,this.getLineMinColumn(u.startLineNumber),u.endLineNumber,this.getLineMaxColumn(u.endLineNumber)),O=this._toModelVisibleRanges(g);return O}},{key:"visibleLinesStabilized",value:function(){var u=this.getModelVisibleRanges();this._attachedView.setVisibleLines(u,!0)}},{key:"_handleVisibleLinesChanged",value:function(){var u=this.getModelVisibleRanges();this._attachedView.setVisibleLines(u,!1)}},{key:"setHasFocus",value:function(u){this._hasFocus=u,this._cursor.setHasFocus(u),this._eventDispatcher.emitSingleViewEvent(new Yr(u)),this._eventDispatcher.emitOutgoingEvent(new uu(!u,u))}},{key:"onCompositionStart",value:function(){this._eventDispatcher.emitSingleViewEvent(new Ls)}},{key:"onCompositionEnd",value:function(){this._eventDispatcher.emitSingleViewEvent(new vc)}},{key:"_captureStableViewport",value:function(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){var u=new Dn.a(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),g=this.coordinatesConverter.convertViewPositionToModelPosition(u);return new Fs(g,this._viewportStart.startLineDelta)}return new Fs(null,0)}},{key:"_onConfigurationChanged",value:function(u,g){var O=this._captureStableViewport(),te=this._configuration.options,Le=te.get(48),Me=te.get(134),at=te.get(141),Ot=te.get(133),Mt=te.get(125);this._lines.setWrappingSettings(Le,Me,at.wrappingColumn,Ot,Mt)&&(u.emitViewEvent(new oa),u.emitViewEvent(new Fo),u.emitViewEvent(new rr(null)),this._cursor.onLineMappingChanged(u),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),g.hasChanged(88)&&(this._decorations.reset(),u.emitViewEvent(new rr(null))),u.emitViewEvent(new jl(g)),this.viewLayout.onConfigurationChanged(g),O.recoverViewportStart(this.coordinatesConverter,this.viewLayout),eo.a.shouldRecreate(g)&&(this.cursorConfig=new eo.a(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}},{key:"_registerModelEvents",value:function(){var u=this;this._register(this.model.onDidChangeContentOrInjectedText(function(g){try{var O=u._eventDispatcher.beginEmitViewEvents(),te=!1,Le=!1,Me=g instanceof ks.a?g.rawContentChangedEvent.changes:g.changes,at=g instanceof ks.a?g.rawContentChangedEvent.versionId:null,Ot=u._lines.createLineBreaksComputer(),Mt=Object(E.a)(Me),Qt;try{for(Mt.s();!(Qt=Mt.n()).done;){var Ht=Qt.value;switch(Ht.changeType){case 4:{for(var dt=0;dt<Ht.detail.length;dt++){var Cn=Ht.detail[dt],Pn=Ht.injectedTexts[dt];Pn&&(Pn=Pn.filter(function(No){return!No.ownerId||No.ownerId===u._editorId})),Ot.addRequest(Cn,Pn,null)}break}case 2:{var ni=null;Ht.injectedText&&(ni=Ht.injectedText.filter(function(No){return!No.ownerId||No.ownerId===u._editorId})),Ot.addRequest(Ht.detail,ni,null);break}}}}catch(No){Mt.e(No)}finally{Mt.f()}var hi=Ot.finalize(),Di=new T.a(hi),wi=Object(E.a)(Me),nr;try{for(wi.s();!(nr=wi.n()).done;){var Ni=nr.value;switch(Ni.changeType){case 1:{u._lines.onModelFlushed(),O.emitViewEvent(new oa),u._decorations.reset(),u.viewLayout.onFlushed(u.getLineCount()),te=!0;break}case 3:{var Wi=u._lines.onModelLinesDeleted(at,Ni.fromLineNumber,Ni.toLineNumber);Wi!==null&&(O.emitViewEvent(Wi),u.viewLayout.onLinesDeleted(Wi.fromLineNumber,Wi.toLineNumber)),te=!0;break}case 4:{var er=Di.takeCount(Ni.detail.length),br=u._lines.onModelLinesInserted(at,Ni.fromLineNumber,Ni.toLineNumber,er);br!==null&&(O.emitViewEvent(br),u.viewLayout.onLinesInserted(br.fromLineNumber,br.toLineNumber)),te=!0;break}case 2:{var xr=Di.dequeue(),Ur=u._lines.onModelLineChanged(at,Ni.lineNumber,xr),ca=Object(le.a)(Ur,4),Ca=ca[0],ra=ca[1],Ha=ca[2],Ja=ca[3];Le=Ca,ra&&O.emitViewEvent(ra),Ha&&(O.emitViewEvent(Ha),u.viewLayout.onLinesInserted(Ha.fromLineNumber,Ha.toLineNumber)),Ja&&(O.emitViewEvent(Ja),u.viewLayout.onLinesDeleted(Ja.fromLineNumber,Ja.toLineNumber));break}case 5:break}}}catch(No){wi.e(No)}finally{wi.f()}at!==null&&u._lines.acceptVersionId(at),u.viewLayout.onHeightMaybeChanged(),!te&&Le&&(O.emitViewEvent(new Fo),O.emitViewEvent(new rr(null)),u._cursor.onLineMappingChanged(O),u._decorations.onLineMappingChanged())}finally{u._eventDispatcher.endEmitViewEvents()}var So=u._viewportStart.isValid;if(u._viewportStart.invalidate(),u._configuration.setModelLineCount(u.model.getLineCount()),u._updateConfigurationViewLineCountNow(),!u._hasFocus&&u.model.getAttachedEditorCount()>=2&&So){var Ba=u.model._getTrackedRange(u._viewportStart.modelTrackedRange);if(Ba){var Wo=u.coordinatesConverter.convertModelPositionToViewPosition(Ba.getStartPosition()),Ka=u.viewLayout.getVerticalOffsetForLineNumber(Wo.lineNumber);u.viewLayout.setScrollPosition({scrollTop:Ka+u._viewportStart.startLineDelta},1)}}try{var Wa=u._eventDispatcher.beginEmitViewEvents();g instanceof ks.a&&Wa.emitOutgoingEvent(new Cc(g.contentChangedEvent)),u._cursor.onModelContentChanged(Wa,g)}finally{u._eventDispatcher.endEmitViewEvents()}u._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(function(g){for(var O=[],te=0,Le=g.ranges.length;te<Le;te++){var Me=g.ranges[te],at=u.coordinatesConverter.convertModelPositionToViewPosition(new Dn.a(Me.fromLineNumber,1)).lineNumber,Ot=u.coordinatesConverter.convertModelPositionToViewPosition(new Dn.a(Me.toLineNumber,u.model.getLineMaxColumn(Me.toLineNumber))).lineNumber;O[te]={fromLineNumber:at,toLineNumber:Ot}}u._eventDispatcher.emitSingleViewEvent(new xs(O)),u._eventDispatcher.emitOutgoingEvent(new bs(g))})),this._register(this.model.onDidChangeLanguageConfiguration(function(g){u._eventDispatcher.emitSingleViewEvent(new os),u.cursorConfig=new eo.a(u.model.getLanguageId(),u.model.getOptions(),u._configuration,u.languageConfigurationService),u._cursor.updateConfiguration(u.cursorConfig),u._eventDispatcher.emitOutgoingEvent(new _c(g))})),this._register(this.model.onDidChangeLanguage(function(g){u.cursorConfig=new eo.a(u.model.getLanguageId(),u.model.getOptions(),u._configuration,u.languageConfigurationService),u._cursor.updateConfiguration(u.cursorConfig),u._eventDispatcher.emitOutgoingEvent(new yc(g))})),this._register(this.model.onDidChangeOptions(function(g){if(u._lines.setTabSize(u.model.getOptions().tabSize)){try{var O=u._eventDispatcher.beginEmitViewEvents();O.emitViewEvent(new oa),O.emitViewEvent(new Fo),O.emitViewEvent(new rr(null)),u._cursor.onLineMappingChanged(O),u._decorations.onLineMappingChanged(),u.viewLayout.onFlushed(u.getLineCount())}finally{u._eventDispatcher.endEmitViewEvents()}u._updateConfigurationViewLineCount.schedule()}u.cursorConfig=new eo.a(u.model.getLanguageId(),u.model.getOptions(),u._configuration,u.languageConfigurationService),u._cursor.updateConfiguration(u.cursorConfig),u._eventDispatcher.emitOutgoingEvent(new Qu(g))})),this._register(this.model.onDidChangeDecorations(function(g){var O,te;if(u._decorations.onModelDecorationsChanged(),g.affectsGlyphMargin){var Le=u.model.getAllMarginDecorations(),Me=!1;Le.sort(function(Cn,Pn){return An.a.compareRangesUsingStarts(Cn.range,Pn.range)});var at=null,Ot=null,Mt=Object(E.a)(Le),Qt;try{for(Mt.s();!(Qt=Mt.n()).done;){var Ht=Qt.value,dt=(te=(O=Ht.options.glyphMargin)===null||O===void 0?void 0:O.position)!==null&&te!==void 0?te:G.c.Left;if(dt===G.c.Left&&(!at||An.a.compareRangesUsingEnds(at,Ht.range)<0)&&(at=Ht.range),dt===G.c.Right&&(!Ot||An.a.compareRangesUsingEnds(Ot,Ht.range)<0)&&(Ot=Ht.range),at&&Ot){if(at.endLineNumber<Ot.startLineNumber){at=null;continue}if(Ot.endLineNumber<at.startLineNumber){Ot=null;continue}Me=!0;break}}}catch(Cn){Mt.e(Cn)}finally{Mt.f()}u._configuration.setGlyphMarginDecorationLaneCount(Me?2:1)}u._eventDispatcher.emitSingleViewEvent(new rr(g)),u._eventDispatcher.emitOutgoingEvent(new El(g))}))}},{key:"setHiddenAreas",value:function(u,g){this.hiddenAreasModel.setHiddenAreas(g,u);var O=this.hiddenAreasModel.getMergedRanges();if(O!==this.previousHiddenAreas){this.previousHiddenAreas=O;var te=this._captureStableViewport(),Le=!1;try{var Me=this._eventDispatcher.beginEmitViewEvents();Le=this._lines.setHiddenAreas(O),Le&&(Me.emitViewEvent(new oa),Me.emitViewEvent(new Fo),Me.emitViewEvent(new rr(null)),this._cursor.onLineMappingChanged(Me),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),te.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),Le&&this._eventDispatcher.emitOutgoingEvent(new Ms)}}},{key:"getVisibleRangesPlusViewportAboveBelow",value:function(){var u=this._configuration.options.get(140),g=this._configuration.options.get(64),O=Math.max(20,Math.round(u.height/g)),te=this.viewLayout.getLinesViewportData(),Le=Math.max(1,te.completelyVisibleStartLineNumber-O),Me=Math.min(this.getLineCount(),te.completelyVisibleEndLineNumber+O);return this._toModelVisibleRanges(new An.a(Le,this.getLineMinColumn(Le),Me,this.getLineMaxColumn(Me)))}},{key:"getVisibleRanges",value:function(){var u=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(u)}},{key:"getHiddenAreas",value:function(){return this._lines.getHiddenAreas()}},{key:"_toModelVisibleRanges",value:function(u){var g=this.coordinatesConverter.convertViewRangeToModelRange(u),O=this._lines.getHiddenAreas();if(O.length===0)return[g];for(var te=[],Le=0,Me=g.startLineNumber,at=g.startColumn,Ot=g.endLineNumber,Mt=g.endColumn,Qt=0,Ht=O.length;Qt<Ht;Qt++){var dt=O[Qt].startLineNumber,Cn=O[Qt].endLineNumber;Cn<Me||dt>Ot||(Me<dt&&(te[Le++]=new An.a(Me,at,dt-1,this.model.getLineMaxColumn(dt-1))),Me=Cn+1,at=1)}return(Me<Ot||Me===Ot&&at<Mt)&&(te[Le++]=new An.a(Me,at,Ot,Mt)),te}},{key:"getCompletelyVisibleViewRange",value:function(){var u=this.viewLayout.getLinesViewportData(),g=u.completelyVisibleStartLineNumber,O=u.completelyVisibleEndLineNumber;return new An.a(g,this.getLineMinColumn(g),O,this.getLineMaxColumn(O))}},{key:"getCompletelyVisibleViewRangeAtScrollTop",value:function(u){var g=this.viewLayout.getLinesViewportDataAtScrollTop(u),O=g.completelyVisibleStartLineNumber,te=g.completelyVisibleEndLineNumber;return new An.a(O,this.getLineMinColumn(O),te,this.getLineMaxColumn(te))}},{key:"saveState",value:function(){var u=this.viewLayout.saveState(),g=u.scrollTop,O=this.viewLayout.getLineNumberAtVerticalOffset(g),te=this.coordinatesConverter.convertViewPositionToModelPosition(new Dn.a(O,this.getLineMinColumn(O))),Le=this.viewLayout.getVerticalOffsetForLineNumber(O)-g;return{scrollLeft:u.scrollLeft,firstPosition:te,firstPositionDeltaTop:Le}}},{key:"reduceRestoreState",value:function(u){if(typeof u.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(u);var g=this.model.validatePosition(u.firstPosition),O=this.coordinatesConverter.convertModelPositionToViewPosition(g),te=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber)-u.firstPositionDeltaTop;return{scrollLeft:u.scrollLeft,scrollTop:te}}},{key:"_reduceRestoreStateCompatibility",value:function(u){return{scrollLeft:u.scrollLeft,scrollTop:u.scrollTopWithoutViewZones}}},{key:"getTabSize",value:function(){return this.model.getOptions().tabSize}},{key:"getLineCount",value:function(){return this._lines.getViewLineCount()}},{key:"setViewport",value:function(u,g,O){this._viewportStart.update(this,u)}},{key:"getActiveIndentGuide",value:function(u,g,O){return this._lines.getActiveIndentGuide(u,g,O)}},{key:"getLinesIndentGuides",value:function(u,g){return this._lines.getViewLinesIndentGuides(u,g)}},{key:"getBracketGuidesInRangeByLine",value:function(u,g,O,te){return this._lines.getViewLinesBracketGuides(u,g,O,te)}},{key:"getLineContent",value:function(u){return this._lines.getViewLineContent(u)}},{key:"getLineLength",value:function(u){return this._lines.getViewLineLength(u)}},{key:"getLineMinColumn",value:function(u){return this._lines.getViewLineMinColumn(u)}},{key:"getLineMaxColumn",value:function(u){return this._lines.getViewLineMaxColumn(u)}},{key:"getLineFirstNonWhitespaceColumn",value:function(u){var g=pr.u(this.getLineContent(u));return g===-1?0:g+1}},{key:"getLineLastNonWhitespaceColumn",value:function(u){var g=pr.J(this.getLineContent(u));return g===-1?0:g+2}},{key:"getMinimapDecorationsInRange",value:function(u){return this._decorations.getMinimapDecorationsInRange(u)}},{key:"getDecorationsInViewport",value:function(u){return this._decorations.getDecorationsViewportData(u).decorations}},{key:"getInjectedTextAt",value:function(u){return this._lines.getInjectedTextAt(u)}},{key:"getViewportViewLineRenderingData",value:function(u,g){var O=this._decorations.getDecorationsViewportData(u).inlineDecorations,te=O[g-u.startLineNumber];return this._getViewLineRenderingData(g,te)}},{key:"getViewLineRenderingData",value:function(u){var g=this._decorations.getInlineDecorationsOnLine(u);return this._getViewLineRenderingData(u,g)}},{key:"_getViewLineRenderingData",value:function(u,g){var O=this.model.mightContainRTL(),te=this.model.mightContainNonBasicASCII(),Le=this.getTabSize(),Me=this._lines.getViewLineData(u);return Me.inlineDecorations&&(g=[].concat(Object(ir.a)(g),Object(ir.a)(Me.inlineDecorations.map(function(at){return at.toInlineDecoration(u)})))),new ka.f(Me.minColumn,Me.maxColumn,Me.content,Me.continuesWithWrappedLine,O,te,Me.tokens,g,Le,Me.startVisibleColumn)}},{key:"getViewLineData",value:function(u){return this._lines.getViewLineData(u)}},{key:"getMinimapLinesRenderingData",value:function(u,g,O){var te=this._lines.getViewLinesData(u,g,O);return new ka.b(this.getTabSize(),te)}},{key:"getAllOverviewRulerDecorations",value:function(u){var g=this.model.getOverviewRulerDecorations(this._editorId,Object(w.o)(this._configuration.options)),O=new Jd,te=Object(E.a)(g),Le;try{for(te.s();!(Le=te.n()).done;){var Me=Le.value,at=Me.options,Ot=at.overviewRuler;if(!!Ot){var Mt=Ot.position;if(Mt!==0){var Qt=Ot.getColor(u.value),Ht=this.coordinatesConverter.getViewLineNumberOfModelPosition(Me.range.startLineNumber,Me.range.startColumn),dt=this.coordinatesConverter.getViewLineNumberOfModelPosition(Me.range.endLineNumber,Me.range.endColumn);O.accept(Qt,at.zIndex,Ht,dt,Mt)}}}}catch(Cn){te.e(Cn)}finally{te.f()}return O.asArray}},{key:"_invalidateDecorationsColorCache",value:function(){var u=this.model.getOverviewRulerDecorations(),g=Object(E.a)(u),O;try{for(g.s();!(O=g.n()).done;){var te=O.value,Le=te.options.overviewRuler;Le==null||Le.invalidateCachedColor();var Me=te.options.minimap;Me==null||Me.invalidateCachedColor()}}catch(at){g.e(at)}finally{g.f()}}},{key:"getValueInRange",value:function(u,g){var O=this.coordinatesConverter.convertViewRangeToModelRange(u);return this.model.getValueInRange(O,g)}},{key:"getValueLengthInRange",value:function(u,g){var O=this.coordinatesConverter.convertViewRangeToModelRange(u);return this.model.getValueLengthInRange(O,g)}},{key:"modifyPosition",value:function(u,g){var O=this.coordinatesConverter.convertViewPositionToModelPosition(u);return this.model.modifyPosition(O,g)}},{key:"deduceModelPositionRelativeToViewPosition",value:function(u,g,O){var te=this.coordinatesConverter.convertViewPositionToModelPosition(u);this.model.getEOL().length===2&&(g<0?g-=O:g+=O);var Le=this.model.getOffsetAt(te),Me=Le+g;return this.model.getPositionAt(Me)}},{key:"getPlainTextToCopy",value:function(u,g,O){var te=O?`\r
`:this.model.getEOL();u=u.slice(0),u.sort(An.a.compareRangesUsingStarts);var Le=!1,Me=!1,at=Object(E.a)(u),Ot;try{for(at.s();!(Ot=at.n()).done;){var Mt=Ot.value;Mt.isEmpty()?Le=!0:Me=!0}}catch(br){at.e(br)}finally{at.f()}if(!Me){if(!g)return"";for(var Qt=u.map(function(br){return br.startLineNumber}),Ht="",dt=0;dt<Qt.length;dt++)dt>0&&Qt[dt-1]===Qt[dt]||(Ht+=this.model.getLineContent(Qt[dt])+te);return Ht}if(Le&&g){var Cn=[],Pn=0,ni=Object(E.a)(u),hi;try{for(ni.s();!(hi=ni.n()).done;){var Di=hi.value,wi=Di.startLineNumber;Di.isEmpty()?wi!==Pn&&Cn.push(this.model.getLineContent(wi)):Cn.push(this.model.getValueInRange(Di,O?2:0)),Pn=wi}}catch(br){ni.e(br)}finally{ni.f()}return Cn.length===1?Cn[0]:Cn}var nr=[],Ni=Object(E.a)(u),Wi;try{for(Ni.s();!(Wi=Ni.n()).done;){var er=Wi.value;er.isEmpty()||nr.push(this.model.getValueInRange(er,O?2:0))}}catch(br){Ni.e(br)}finally{Ni.f()}return nr.length===1?nr[0]:nr}},{key:"getRichTextToCopy",value:function(u,g){var O=this.model.getLanguageId();if(O===Uc.b||u.length!==1)return null;var te=u[0];if(te.isEmpty()){if(!g)return null;var Le=te.startLineNumber;te=new An.a(Le,this.model.getLineMinColumn(Le),Le,this.model.getLineMaxColumn(Le))}var Me=this._configuration.options.get(48),at=this._getColorMap(),Ot=/[:;\\\/<>]/.test(Me.fontFamily),Mt=Ot||Me.fontFamily===w.d.fontFamily,Qt;if(Mt)Qt=w.d.fontFamily;else{Qt=Me.fontFamily,Qt=Qt.replace(/"/g,"'");var Ht=/[,']/.test(Qt);if(!Ht){var dt=/[+ ]/.test(Qt);dt&&(Qt="'".concat(Qt,"'"))}Qt="".concat(Qt,", ").concat(w.d.fontFamily)}return{mode:O,html:'<div style="'+"color: ".concat(at[1],";")+"background-color: ".concat(at[2],";")+"font-family: ".concat(Qt,";")+"font-weight: ".concat(Me.fontWeight,";")+"font-size: ".concat(Me.fontSize,"px;")+"line-height: ".concat(Me.lineHeight,"px;")+'white-space: pre;">'+this._getHTMLToCopy(te,at)+"</div>"}}},{key:"_getHTMLToCopy",value:function(u,g){for(var O=u.startLineNumber,te=u.startColumn,Le=u.endLineNumber,Me=u.endColumn,at=this.getTabSize(),Ot="",Mt=O;Mt<=Le;Mt++){var Qt=this.model.tokenization.getLineTokens(Mt),Ht=Qt.getLineContent(),dt=Mt===O?te-1:0,Cn=Mt===Le?Me-1:Ht.length;Ht===""?Ot+="<br>":Ot+=Object(cu.a)(Ht,Qt.inflate(),g,dt,Cn,at,A.o)}return Ot}},{key:"_getColorMap",value:function(){var u=Et.m.getColorMap(),g=["#000000"];if(u)for(var O=1,te=u.length;O<te;O++)g[O]=Rt.a.Format.CSS.formatHex(u[O]);return g}},{key:"getPrimaryCursorState",value:function(){return this._cursor.getPrimaryCursorState()}},{key:"getLastAddedCursorIndex",value:function(){return this._cursor.getLastAddedCursorIndex()}},{key:"getCursorStates",value:function(){return this._cursor.getCursorStates()}},{key:"setCursorStates",value:function(u,g,O){var te=this;return this._withViewEventsCollector(function(Le){return te._cursor.setStates(Le,u,g,O)})}},{key:"getCursorColumnSelectData",value:function(){return this._cursor.getCursorColumnSelectData()}},{key:"getCursorAutoClosedCharacters",value:function(){return this._cursor.getAutoClosedCharacters()}},{key:"setCursorColumnSelectData",value:function(u){this._cursor.setCursorColumnSelectData(u)}},{key:"getPrevEditOperationType",value:function(){return this._cursor.getPrevEditOperationType()}},{key:"setPrevEditOperationType",value:function(u){this._cursor.setPrevEditOperationType(u)}},{key:"getSelection",value:function(){return this._cursor.getSelection()}},{key:"getSelections",value:function(){return this._cursor.getSelections()}},{key:"getPosition",value:function(){return this._cursor.getPrimaryCursorState().modelState.position}},{key:"setSelections",value:function(u,g){var O=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._withViewEventsCollector(function(Le){return O._cursor.setSelections(Le,u,g,te)})}},{key:"saveCursorState",value:function(){return this._cursor.saveState()}},{key:"restoreCursorState",value:function(u){var g=this;this._withViewEventsCollector(function(O){return g._cursor.restoreState(O,u)})}},{key:"_executeCursorEdit",value:function(u){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new $u);return}this._withViewEventsCollector(u)}},{key:"executeEdits",value:function(u,g,O){var te=this;this._executeCursorEdit(function(Le){return te._cursor.executeEdits(Le,u,g,O)})}},{key:"startComposition",value:function(){var u=this;this._executeCursorEdit(function(g){return u._cursor.startComposition(g)})}},{key:"endComposition",value:function(u){var g=this;this._executeCursorEdit(function(O){return g._cursor.endComposition(O,u)})}},{key:"type",value:function(u,g){var O=this;this._executeCursorEdit(function(te){return O._cursor.type(te,u,g)})}},{key:"compositionType",value:function(u,g,O,te,Le){var Me=this;this._executeCursorEdit(function(at){return Me._cursor.compositionType(at,u,g,O,te,Le)})}},{key:"paste",value:function(u,g,O,te){var Le=this;this._executeCursorEdit(function(Me){return Le._cursor.paste(Me,u,g,O,te)})}},{key:"cut",value:function(u){var g=this;this._executeCursorEdit(function(O){return g._cursor.cut(O,u)})}},{key:"executeCommand",value:function(u,g){var O=this;this._executeCursorEdit(function(te){return O._cursor.executeCommand(te,u,g)})}},{key:"executeCommands",value:function(u,g){var O=this;this._executeCursorEdit(function(te){return O._cursor.executeCommands(te,u,g)})}},{key:"revealPrimaryCursor",value:function(u,g){var O=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this._withViewEventsCollector(function(Le){return O._cursor.revealPrimary(Le,u,te,0,g,0)})}},{key:"revealTopMostCursor",value:function(u){var g=this._cursor.getTopMostViewPosition(),O=new An.a(g.lineNumber,g.column,g.lineNumber,g.column);this._withViewEventsCollector(function(te){return te.emitViewEvent(new hs(u,!1,O,null,0,!0,0))})}},{key:"revealBottomMostCursor",value:function(u){var g=this._cursor.getBottomMostViewPosition(),O=new An.a(g.lineNumber,g.column,g.lineNumber,g.column);this._withViewEventsCollector(function(te){return te.emitViewEvent(new hs(u,!1,O,null,0,!0,0))})}},{key:"revealRange",value:function(u,g,O,te,Le){this._withViewEventsCollector(function(Me){return Me.emitViewEvent(new hs(u,!1,O,null,te,g,Le))})}},{key:"changeWhitespace",value:function(u){var g=this.viewLayout.changeWhitespace(u);g&&(this._eventDispatcher.emitSingleViewEvent(new pc),this._eventDispatcher.emitOutgoingEvent(new Gu))}},{key:"_withViewEventsCollector",value:function(u){try{var g=this._eventDispatcher.beginEmitViewEvents();return u(g)}finally{this._eventDispatcher.endEmitViewEvents()}}},{key:"normalizePosition",value:function(u,g){return this._lines.normalizePosition(u,g)}},{key:"getLineIndentColumn",value:function(u){return this._lines.getLineIndentColumn(u)}}]),v}(C.a),Fi=function(){function ze(Ce,v,m,u,g){Object(Q.a)(this,ze),this._model=Ce,this._viewLineNumber=v,this._isValid=m,this._modelTrackedRange=u,this._startLineDelta=g}return Object(L.a)(ze,[{key:"viewLineNumber",get:function(){return this._viewLineNumber}},{key:"isValid",get:function(){return this._isValid}},{key:"modelTrackedRange",get:function(){return this._modelTrackedRange}},{key:"startLineDelta",get:function(){return this._startLineDelta}},{key:"dispose",value:function(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}},{key:"update",value:function(v,m){var u=v.coordinatesConverter.convertViewPositionToModelPosition(new Dn.a(m,v.getLineMinColumn(m))),g=v.model._setTrackedRange(this._modelTrackedRange,new An.a(u.lineNumber,u.column,u.lineNumber,u.column),1),O=v.viewLayout.getVerticalOffsetForLineNumber(m),te=v.viewLayout.getCurrentScrollTop();this._viewLineNumber=m,this._isValid=!0,this._modelTrackedRange=g,this._startLineDelta=te-O}},{key:"invalidate",value:function(){this._isValid=!1}}],[{key:"create",value:function(v){var m=v._setTrackedRange(null,new An.a(1,1,1,1),1);return new ze(v,1,!1,m,0)}}]),ze}(),Jd=function(){function ze(){Object(Q.a)(this,ze),this._asMap=Object.create(null),this.asArray=[]}return Object(L.a)(ze,[{key:"accept",value:function(v,m,u,g,O){var te=this._asMap[v];if(te){var Le=te.data,Me=Le[Le.length-3],at=Le[Le.length-1];if(Me===O&&at+1>=u){g>at&&(Le[Le.length-1]=g);return}Le.push(O,u,g)}else{var Ot=new ka.c(v,m,[O,u,g]);this._asMap[v]=Ot,this.asArray.push(Ot)}}}]),ze}(),Tu=function(){function ze(){Object(Q.a)(this,ze),this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}return Object(L.a)(ze,[{key:"setHiddenAreas",value:function(v,m){var u=this.hiddenAreas.get(v);u&&Gc(u,m)||(this.hiddenAreas.set(v,m),this.shouldRecompute=!0)}},{key:"getMergedRanges",value:function(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;var v=Array.from(this.hiddenAreas.values()).reduce(function(m,u){return iv(m,u)},[]);return Gc(this.ranges,v)?this.ranges:(this.ranges=v,this.ranges)}}]),ze}();function iv(ze,Ce){for(var v=[],m=0,u=0;m<ze.length&&u<Ce.length;){var g=ze[m],O=Ce[u];if(g.endLineNumber<O.startLineNumber-1)v.push(ze[m++]);else if(O.endLineNumber<g.startLineNumber-1)v.push(Ce[u++]);else{var te=Math.min(g.startLineNumber,O.startLineNumber),Le=Math.max(g.endLineNumber,O.endLineNumber);v.push(new An.a(te,1,Le,1)),m++,u++}}for(;m<ze.length;)v.push(ze[m++]);for(;u<Ce.length;)v.push(Ce[u++]);return v}function Gc(ze,Ce){if(ze.length!==Ce.length)return!1;for(var v=0;v<ze.length;v++)if(!ze[v].equalsRange(Ce[v]))return!1;return!0}var Fs=function(){function ze(Ce,v){Object(Q.a)(this,ze),this.viewportStartModelPosition=Ce,this.startLineDelta=v}return Object(L.a)(ze,[{key:"recoverViewportStart",value:function(v,m){if(!!this.viewportStartModelPosition){var u=v.convertModelPositionToViewPosition(this.viewportStartModelPosition),g=m.getVerticalOffsetForLineNumber(u.lineNumber);m.setScrollPosition({scrollTop:g+this.startLineDelta},1)}}}]),ze}(),Bs=a("nnTU"),fs=a("T8No"),gd=a("Cg/j"),Xu=a("8HsV"),Dc=a("sM1p"),qd=a("MXAL"),Ju=a("FWmy"),Ws=function(){function ze(Ce,v,m,u,g){Object(Q.a)(this,ze),this.injectionOffsets=Ce,this.injectionOptions=v,this.breakOffsets=m,this.breakOffsetsVisibleColumn=u,this.wrappedTextIndentLength=g}return Object(L.a)(ze,[{key:"getOutputLineCount",value:function(){return this.breakOffsets.length}},{key:"getMinOutputOffset",value:function(v){return v>0?this.wrappedTextIndentLength:0}},{key:"getLineLength",value:function(v){var m=v>0?this.breakOffsets[v-1]:0,u=this.breakOffsets[v],g=u-m;return v>0&&(g+=this.wrappedTextIndentLength),g}},{key:"getMaxOutputOffset",value:function(v){return this.getLineLength(v)}},{key:"translateToInputOffset",value:function(v,m){v>0&&(m=Math.max(0,m-this.wrappedTextIndentLength));var u=v===0?m:this.breakOffsets[v-1]+m,g=u;if(this.injectionOffsets!==null)for(var O=0;O<this.injectionOffsets.length&&g>this.injectionOffsets[O];O++)g<this.injectionOffsets[O]+this.injectionOptions[O].content.length?g=this.injectionOffsets[O]:g-=this.injectionOptions[O].content.length;return g}},{key:"translateToOutputPosition",value:function(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,u=v;if(this.injectionOffsets!==null)for(var g=0;g<this.injectionOffsets.length&&!(v<this.injectionOffsets[g]||m!==1&&v===this.injectionOffsets[g]);g++)u+=this.injectionOptions[g].content.length;return this.offsetInInputWithInjectionsToOutputPosition(u,m)}},{key:"offsetInInputWithInjectionsToOutputPosition",value:function(v){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,u=0,g=this.breakOffsets.length-1,O=0,te=0;u<=g;){O=u+(g-u)/2|0;var Le=this.breakOffsets[O];if(te=O>0?this.breakOffsets[O-1]:0,m===0)if(v<=te)g=O-1;else if(v>Le)u=O+1;else break;else if(v<te)g=O-1;else if(v>=Le)u=O+1;else break}var Me=v-te;return O>0&&(Me+=this.wrappedTextIndentLength),new Iu(O,Me)}},{key:"normalizeOutputPosition",value:function(v,m,u){if(this.injectionOffsets!==null){var g=this.outputPositionToOffsetInInputWithInjections(v,m),O=this.normalizeOffsetInInputWithInjectionsAroundInjections(g,u);if(O!==g)return this.offsetInInputWithInjectionsToOutputPosition(O,u)}if(u===0){if(v>0&&m===this.getMinOutputOffset(v))return new Iu(v-1,this.getMaxOutputOffset(v-1))}else if(u===1){var te=this.getOutputLineCount()-1;if(v<te&&m===this.getMaxOutputOffset(v))return new Iu(v+1,this.getMinOutputOffset(v+1))}return new Iu(v,m)}},{key:"outputPositionToOffsetInInputWithInjections",value:function(v,m){v>0&&(m=Math.max(0,m-this.wrappedTextIndentLength));var u=(v>0?this.breakOffsets[v-1]:0)+m;return u}},{key:"normalizeOffsetInInputWithInjectionsAroundInjections",value:function(v,m){var u=this.getInjectedTextAtOffset(v);if(!u)return v;if(m===2){if(v===u.offsetInInputWithInjections+u.length&&eh(this.injectionOptions[u.injectedTextIndex].cursorStops))return u.offsetInInputWithInjections+u.length;var g=u.offsetInInputWithInjections;if(md(this.injectionOptions[u.injectedTextIndex].cursorStops))return g;for(var O=u.injectedTextIndex-1;O>=0&&this.injectionOffsets[O]===this.injectionOffsets[u.injectedTextIndex]&&!(eh(this.injectionOptions[O].cursorStops)||(g-=this.injectionOptions[O].content.length,md(this.injectionOptions[O].cursorStops)));)O--;return g}else if(m===1||m===4){for(var te=u.offsetInInputWithInjections+u.length,Le=u.injectedTextIndex;Le+1<this.injectionOffsets.length&&this.injectionOffsets[Le+1]===this.injectionOffsets[Le];)te+=this.injectionOptions[Le+1].content.length,Le++;return te}else if(m===0||m===3){for(var Me=u.offsetInInputWithInjections,at=u.injectedTextIndex;at-1>=0&&this.injectionOffsets[at-1]===this.injectionOffsets[at];)Me-=this.injectionOptions[at-1].content.length,at--;return Me}Object(Ju.b)(m)}},{key:"getInjectedText",value:function(v,m){var u=this.outputPositionToOffsetInInputWithInjections(v,m),g=this.getInjectedTextAtOffset(u);return g?{options:this.injectionOptions[g.injectedTextIndex]}:null}},{key:"getInjectedTextAtOffset",value:function(v){var m=this.injectionOffsets,u=this.injectionOptions;if(m!==null)for(var g=0,O=0;O<m.length;O++){var te=u[O].content.length,Le=m[O]+g,Me=m[O]+g+te;if(Le>v)break;if(v<=Me)return{injectedTextIndex:O,offsetInInputWithInjections:Le,length:te};g+=te}}}]),ze}();function eh(ze){return ze==null?!0:ze===G.d.Right||ze===G.d.Both}function md(ze){return ze==null?!0:ze===G.d.Left||ze===G.d.Both}var $c=Object(L.a)(function ze(Ce){Object(Q.a)(this,ze),this.options=Ce}),Iu=function(){function ze(Ce,v){Object(Q.a)(this,ze),this.outputLineIndex=Ce,this.outputOffset=v}return Object(L.a)(ze,[{key:"toString",value:function(){return"".concat(this.outputLineIndex,":").concat(this.outputOffset)}},{key:"toPosition",value:function(v){return new Dn.a(v+this.outputLineIndex,this.outputOffset+1)}}]),ze}(),el=function(){function ze(Ce,v){Object(Q.a)(this,ze),this.classifier=new qh(Ce,v)}return Object(L.a)(ze,[{key:"createLineBreaksComputer",value:function(v,m,u,g,O){var te=this,Le=[],Me=[],at=[];return{addRequest:function(Mt,Qt,Ht){Le.push(Mt),Me.push(Qt),at.push(Ht)},finalize:function(){for(var Mt=v.typicalFullwidthCharacterWidth/v.typicalHalfwidthCharacterWidth,Qt=[],Ht=0,dt=Le.length;Ht<dt;Ht++){var Cn=Me[Ht],Pn=at[Ht];Pn&&!Pn.injectionOptions&&!Cn?Qt[Ht]=pd(te.classifier,Pn,Le[Ht],m,u,Mt,g,O):Qt[Ht]=Yc(te.classifier,Le[Ht],Cn,m,u,Mt,g,O)}return Pu.length=0,Qc.length=0,Qt}}}}],[{key:"create",value:function(v){return new ze(v.get(129),v.get(128))}}]),ze}(),qh=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u){var g;Object(Q.a)(this,v),g=Ce.call(this,0);for(var O=0;O<m.length;O++)g.set(m.charCodeAt(O),1);for(var te=0;te<u.length;te++)g.set(u.charCodeAt(te),2);return g}return Object(L.a)(v,[{key:"get",value:function(u){return u>=0&&u<256?this._asciiMap[u]:u>=12352&&u<=12543||u>=13312&&u<=19903||u>=19968&&u<=40959?3:this._map.get(u)||this._defaultValue}}]),v}(qd.a),Pu=[],Qc=[];function pd(ze,Ce,v,m,u,g,O,te){if(u===-1)return null;var Le=v.length;if(Le<=1)return null;var Me=te==="keepAll",at=Ce.breakOffsets,Ot=Ce.breakOffsetsVisibleColumn,Mt=Ks(v,m,u,g,O),Qt=u-Mt,Ht=Pu,dt=Qc,Cn=0,Pn=0,ni=0,hi=u,Di=at.length,wi=0;if(wi>=0)for(var nr=Math.abs(Ot[wi]-hi);wi+1<Di;){var Ni=Math.abs(Ot[wi+1]-hi);if(Ni>=nr)break;nr=Ni,wi++}for(;wi<Di;){var Wi=wi<0?0:at[wi],er=wi<0?0:Ot[wi];Pn>Wi&&(Wi=Pn,er=ni);var br=0,xr=0,Ur=0,ca=0;if(er<=hi){for(var Ca=er,ra=Wi===0?0:v.charCodeAt(Wi-1),Ha=Wi===0?0:ze.get(ra),Ja=!0,So=Wi;So<Le;So++){var Ba=So,Wo=v.charCodeAt(So),Ka=void 0,Wa=void 0;if(pr.F(Wo)?(So++,Ka=0,Wa=2):(Ka=ze.get(Wo),Wa=vu(Wo,Ca,m,g)),Ba>Pn&&Vs(ra,Ha,Wo,Ka,Me)&&(br=Ba,xr=Ca),Ca+=Wa,Ca>hi){Ba>Pn?(Ur=Ba,ca=Ca-Wa):(Ur=So+1,ca=Ca),Ca-xr>Qt&&(br=0),Ja=!1;break}ra=Wo,Ha=Ka}if(Ja){Cn>0&&(Ht[Cn]=at[at.length-1],dt[Cn]=Ot[at.length-1],Cn++);break}}if(br===0){for(var No=er,To=v.charCodeAt(Wi),ys=ze.get(To),$s=!1,Is=Wi-1;Is>=Pn;Is--){var Yl=Is+1,is=v.charCodeAt(Is);if(is===9){$s=!0;break}var Al=void 0,bu=void 0;if(pr.G(is)?(Is--,Al=0,bu=2):(Al=ze.get(is),bu=pr.E(is)?g:1),No<=hi){if(Ur===0&&(Ur=Yl,ca=No),No<=hi-Qt)break;if(Vs(is,Al,To,ys,Me)){br=Yl,xr=No;break}}No-=bu,To=is,ys=Al}if(br!==0){var Ec=Qt-(ca-xr);if(Ec<=m){var xu=v.charCodeAt(Ur),Zl=void 0;pr.F(xu)?Zl=2:Zl=vu(xu,ca,m,g),Ec-Zl<0&&(br=0)}}if($s){wi--;continue}}if(br===0&&(br=Ur,xr=ca),br<=Pn){var yu=v.charCodeAt(Pn);pr.F(yu)?(br=Pn+2,xr=ni+2):(br=Pn+1,xr=ni+vu(yu,ni,m,g))}for(Pn=br,Ht[Cn]=br,ni=xr,dt[Cn]=xr,Cn++,hi=xr+Qt;wi<0||wi<Di&&Ot[wi]<xr;)wi++;for(var tl=Math.abs(Ot[wi]-hi);wi+1<Di;){var Xl=Math.abs(Ot[wi+1]-hi);if(Xl>=tl)break;tl=Xl,wi++}}return Cn===0?null:(Ht.length=Cn,dt.length=Cn,Pu=Ce.breakOffsets,Qc=Ce.breakOffsetsVisibleColumn,Ce.breakOffsets=Ht,Ce.breakOffsetsVisibleColumn=dt,Ce.wrappedTextIndentLength=Mt,Ce)}function Yc(ze,Ce,v,m,u,g,O,te){var Le=ks.b.applyInjectedText(Ce,v),Me,at;if(v&&v.length>0?(Me=v.map(function(Ca){return Ca.options}),at=v.map(function(Ca){return Ca.column-1})):(Me=null,at=null),u===-1)return Me?new Ws(at,Me,[Le.length],[],0):null;var Ot=Le.length;if(Ot<=1)return Me?new Ws(at,Me,[Le.length],[],0):null;var Mt=te==="keepAll",Qt=Ks(Le,m,u,g,O),Ht=u-Qt,dt=[],Cn=[],Pn=0,ni=0,hi=0,Di=u,wi=Le.charCodeAt(0),nr=ze.get(wi),Ni=vu(wi,0,m,g),Wi=1;pr.F(wi)&&(Ni+=1,wi=Le.charCodeAt(1),nr=ze.get(wi),Wi++);for(var er=Wi;er<Ot;er++){var br=er,xr=Le.charCodeAt(er),Ur=void 0,ca=void 0;pr.F(xr)?(er++,Ur=0,ca=2):(Ur=ze.get(xr),ca=vu(xr,Ni,m,g)),Vs(wi,nr,xr,Ur,Mt)&&(ni=br,hi=Ni),Ni+=ca,Ni>Di&&((ni===0||Ni-hi>Ht)&&(ni=br,hi=Ni-ca),dt[Pn]=ni,Cn[Pn]=hi,Pn++,Di=hi+Ht,ni=0),wi=xr,nr=Ur}return Pn===0&&(!v||v.length===0)?null:(dt[Pn]=Ot,Cn[Pn]=Ni,new Ws(at,Me,dt,Cn,Qt))}function vu(ze,Ce,v,m){return ze===9?v-Ce%v:pr.E(ze)||ze<32?m:1}function Zc(ze,Ce){return Ce-ze%Ce}function Vs(ze,Ce,v,m,u){return v!==32&&(Ce===2&&m!==2||Ce!==1&&m===1||!u&&Ce===3&&m!==2||!u&&m===3&&Ce!==1)}function Ks(ze,Ce,v,m,u){var g=0;if(u!==0){var O=pr.u(ze);if(O!==-1){for(var te=0;te<O;te++){var Le=ze.charCodeAt(te)===9?Zc(g,Ce):1;g+=Le}for(var Me=u===3?2:u===2?1:0,at=0;at<Me;at++){var Ot=Zc(g,Ce);g+=Ot}g+m>v&&(g=0)}}return g}var $l=Object(kn.a)("domLineBreaksComputer",{createHTML:function(Ce){return Ce}}),qu=function(){function ze(){Object(Q.a)(this,ze)}return Object(L.a)(ze,[{key:"createLineBreaksComputer",value:function(v,m,u,g,O){var te=[],Le=[];return{addRequest:function(at,Ot,Mt){te.push(at),Le.push(Ot)},finalize:function(){return ml(te,v,m,u,g,O,Le)}}}}],[{key:"create",value:function(){return new ze}}]),ze}();function ml(ze,Ce,v,m,u,g,O){var te;function Le(tl){var Xl=O[tl];if(Xl){var Rl=ks.b.applyInjectedText(ze[tl],Xl),rs=Xl.map(function(_u){return _u.options}),ss=Xl.map(function(_u){return _u.column-1});return new Ws(ss,rs,[Rl.length],[],0)}else return null}if(m===-1){for(var Me=[],at=0,Ot=ze.length;at<Ot;at++)Me[at]=Le(at);return Me}var Mt=Math.round(m*Ce.typicalHalfwidthCharacterWidth),Qt=u===3?2:u===2?1:0,Ht=Math.round(v*Qt),dt=Math.ceil(Ce.spaceWidth*Ht),Cn=document.createElement("div");Object(St.a)(Cn,Ce);for(var Pn=new Vt.a(1e4),ni=[],hi=[],Di=[],wi=[],nr=[],Ni=0;Ni<ze.length;Ni++){var Wi=ks.b.applyInjectedText(ze[Ni],O[Ni]),er=0,br=0,xr=Mt;if(u!==0)if(er=pr.u(Wi),er===-1)er=0;else{for(var Ur=0;Ur<er;Ur++){var ca=Wi.charCodeAt(Ur)===9?v-br%v:1;br+=ca}var Ca=Math.ceil(Ce.spaceWidth*br);Ca+Ce.typicalFullwidthCharacterWidth>Mt?(er=0,br=0):xr=Mt-Ca}var ra=Wi.substr(er),Ha=Au(ra,br,v,xr,Pn,dt);ni[Ni]=er,hi[Ni]=br,Di[Ni]=ra,wi[Ni]=Ha[0],nr[Ni]=Ha[1]}var Ja=Pn.build(),So=(te=$l==null?void 0:$l.createHTML(Ja))!==null&&te!==void 0?te:Ja;Cn.innerHTML=So,Cn.style.position="absolute",Cn.style.top="10000",g==="keepAll"?(Cn.style.wordBreak="keep-all",Cn.style.overflowWrap="anywhere"):(Cn.style.wordBreak="inherit",Cn.style.overflowWrap="break-word"),document.body.appendChild(Cn);for(var Ba=document.createRange(),Wo=Array.prototype.slice.call(Cn.children,0),Ka=[],Wa=0;Wa<ze.length;Wa++){var No=Wo[Wa],To=ja(Ba,No,Di[Wa],wi[Wa]);if(To===null){Ka[Wa]=Le(Wa);continue}for(var ys=ni[Wa],$s=hi[Wa]+Ht,Is=nr[Wa],Yl=[],is=0,Al=To.length;is<Al;is++)Yl[is]=Is[To[is]];if(ys!==0)for(var bu=0,Ec=To.length;bu<Ec;bu++)To[bu]+=ys;var xu=void 0,Zl=void 0,yu=O[Wa];yu?(xu=yu.map(function(tl){return tl.options}),Zl=yu.map(function(tl){return tl.column-1})):(xu=null,Zl=null),Ka[Wa]=new Ws(Zl,xu,To,Yl,$s)}return document.body.removeChild(Cn),Ka}function Au(ze,Ce,v,m,u,g){if(g!==0){var O=String(g);u.appendString('<div style="text-indent: -'),u.appendString(O),u.appendString("px; padding-left: "),u.appendString(O),u.appendString("px; box-sizing: border-box; width:")}else u.appendString('<div style="width:');u.appendString(String(m)),u.appendString('px;">');var te=ze.length,Le=Ce,Me=0,at=[],Ot=[],Mt=0<te?ze.charCodeAt(0):0;u.appendString("<span>");for(var Qt=0;Qt<te;Qt++){Qt!==0&&Qt%16384==0&&u.appendString("</span><span>"),at[Qt]=Me,Ot[Qt]=Le;var Ht=Mt;Mt=Qt+1<te?ze.charCodeAt(Qt+1):0;var dt=1,Cn=1;switch(Ht){case 9:dt=v-Le%v,Cn=dt;for(var Pn=1;Pn<=dt;Pn++)Pn<dt?u.appendCharCode(160):u.appendASCIICharCode(32);break;case 32:Mt===32?u.appendCharCode(160):u.appendASCIICharCode(32);break;case 60:u.appendString("&lt;");break;case 62:u.appendString("&gt;");break;case 38:u.appendString("&amp;");break;case 0:u.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:u.appendCharCode(65533);break;default:pr.E(Ht)&&Cn++,Ht<32?u.appendCharCode(9216+Ht):u.appendCharCode(Ht)}Me+=dt,Le+=Cn}return u.appendString("</span>"),at[ze.length]=Me,Ot[ze.length]=Le,u.appendString("</div>"),[at,Ot]}function ja(ze,Ce,v,m){if(v.length<=1)return null;var u=Array.prototype.slice.call(Ce.children,0),g=[];try{Ds(ze,u,m,0,null,v.length-1,null,g)}catch(O){return console.log(O),null}return g.length===0?null:(g.push(v.length),g)}function Ds(ze,Ce,v,m,u,g,O,te){if(m!==g&&(u=u||Bo(ze,Ce,v[m],v[m+1]),O=O||Bo(ze,Ce,v[g],v[g+1]),!(Math.abs(u[0].top-O[0].top)<=.1))){if(m+1===g){te.push(g);return}var Le=m+(g-m)/2|0,Me=Bo(ze,Ce,v[Le],v[Le+1]);Ds(ze,Ce,v,m,u,Le,Me,te),Ds(ze,Ce,v,Le,Me,g,O,te)}}function Bo(ze,Ce,v,m){return ze.setStart(Ce[v/16384|0].firstChild,v%16384),ze.setEnd(Ce[m/16384|0].firstChild,m%16384),ze.getClientRects()}var Xc=a("6FFW"),Ro=a("AYRw"),gu=a("c0Ay"),Il=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(){var m;return Object(Q.a)(this,v),m=Ce.call(this),m._editor=null,m._instantiationService=null,m._instances=m._register(new C.b),m._pending=new Map,m._finishedInstantiation=[],m._finishedInstantiation[0]=!1,m._finishedInstantiation[1]=!1,m._finishedInstantiation[2]=!1,m._finishedInstantiation[3]=!1,m}return Object(L.a)(v,[{key:"initialize",value:function(u,g,O){var te=this;this._editor=u,this._instantiationService=O;var Le=Object(E.a)(g),Me;try{for(Le.s();!(Me=Le.n()).done;){var at=Me.value;if(this._pending.has(at.id)){Object(d.h)(new Error("Cannot have two contributions with the same id ".concat(at.id)));continue}this._pending.set(at.id,at)}}catch(Ot){Le.e(Ot)}finally{Le.f()}this._instantiateSome(0),this._register(Object(Zi.p)(function(){te._instantiateSome(1)})),this._register(Object(Zi.p)(function(){te._instantiateSome(2)})),this._register(Object(Zi.p)(function(){te._instantiateSome(3)},5e3))}},{key:"saveViewState",value:function(){var u={},g=Object(E.a)(this._instances),O;try{for(g.s();!(O=g.n()).done;){var te=O.value,Le=Object(le.a)(te,2),Me=Le[0],at=Le[1];typeof at.saveViewState=="function"&&(u[Me]=at.saveViewState())}}catch(Ot){g.e(Ot)}finally{g.f()}return u}},{key:"restoreViewState",value:function(u){var g=Object(E.a)(this._instances),O;try{for(g.s();!(O=g.n()).done;){var te=O.value,Le=Object(le.a)(te,2),Me=Le[0],at=Le[1];typeof at.restoreViewState=="function"&&at.restoreViewState(u[Me])}}catch(Ot){g.e(Ot)}finally{g.f()}}},{key:"get",value:function(u){return this._instantiateById(u),this._instances.get(u)||null}},{key:"onBeforeInteractionEvent",value:function(){this._instantiateSome(2)}},{key:"onAfterModelAttached",value:function(){var u=this;this._register(Object(Zi.p)(function(){u._instantiateSome(1)},50))}},{key:"_instantiateSome",value:function(u){if(!this._finishedInstantiation[u]){this._finishedInstantiation[u]=!0;var g=this._findPendingContributionsByInstantiation(u),O=Object(E.a)(g),te;try{for(O.s();!(te=O.n()).done;){var Le=te.value;this._instantiateById(Le.id)}}catch(Me){O.e(Me)}finally{O.f()}}}},{key:"_findPendingContributionsByInstantiation",value:function(u){var g=[],O=Object(E.a)(this._pending),te;try{for(O.s();!(te=O.n()).done;){var Le=te.value,Me=Object(le.a)(Le,2),at=Me[1];at.instantiation===u&&g.push(at)}}catch(Ot){O.e(Ot)}finally{O.f()}return g}},{key:"_instantiateById",value:function(u){var g=this._pending.get(u);if(!!g){if(this._pending.delete(u),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{var O=this._instantiationService.createInstance(g.ctor,this._editor);this._instances.set(g.id,O),typeof O.restoreViewState=="function"&&g.instantiation!==0&&console.warn("Editor contribution '".concat(g.id,"' should be eager instantiated because it uses saveViewState / restoreViewState."))}catch(te){Object(d.h)(te)}}}}]),v}(C.a),pl=function(ze,Ce,v,m){var u=arguments.length,g=u<3?Ce:m===null?m=Object.getOwnPropertyDescriptor(Ce,v):m,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(ze,Ce,v,m);else for(var te=ze.length-1;te>=0;te--)(O=ze[te])&&(g=(u<3?O(g):u>3?O(Ce,v,g):O(Ce,v))||g);return u>3&&g&&Object.defineProperty(Ce,v,g),g},Gs=function(ze,Ce){return function(v,m){Ce(v,m,ze)}},ws=function(ze,Ce,v,m){function u(g){return g instanceof v?g:new v(function(O){O(g)})}return new(v||(v=Promise))(function(g,O){function te(at){try{Me(m.next(at))}catch(Ot){O(Ot)}}function Le(at){try{Me(m.throw(at))}catch(Ot){O(Ot)}}function Me(at){at.done?g(at.value):u(at.value).then(te,Le)}Me((m=m.apply(ze,Ce||[])).next())})},Ql=0,Ru=function(){function ze(Ce,v,m,u,g,O){Object(Q.a)(this,ze),this.model=Ce,this.viewModel=v,this.view=m,this.hasRealView=u,this.listenersToRemove=g,this.attachedView=O}return Object(L.a)(ze,[{key:"dispose",value:function(){Object(C.i)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}]),ze}(),mu=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g,O,te,Le,Me,at,Ot,Mt,Qt,Ht){var dt;Object(Q.a)(this,v),dt=Ce.call(this),dt.languageConfigurationService=Qt,dt._deliveryQueue=new j.e,dt._contributions=dt._register(new Il),dt._onDidDispose=dt._register(new j.b),dt.onDidDispose=dt._onDidDispose.event,dt._onDidChangeModelContent=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidChangeModelContent=dt._onDidChangeModelContent.event,dt._onDidChangeModelLanguage=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidChangeModelLanguage=dt._onDidChangeModelLanguage.event,dt._onDidChangeModelLanguageConfiguration=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidChangeModelLanguageConfiguration=dt._onDidChangeModelLanguageConfiguration.event,dt._onDidChangeModelOptions=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidChangeModelOptions=dt._onDidChangeModelOptions.event,dt._onDidChangeModelDecorations=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidChangeModelDecorations=dt._onDidChangeModelDecorations.event,dt._onDidChangeModelTokens=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidChangeModelTokens=dt._onDidChangeModelTokens.event,dt._onDidChangeConfiguration=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidChangeConfiguration=dt._onDidChangeConfiguration.event,dt._onDidChangeModel=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidChangeModel=dt._onDidChangeModel.event,dt._onDidChangeCursorPosition=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidChangeCursorPosition=dt._onDidChangeCursorPosition.event,dt._onDidChangeCursorSelection=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidChangeCursorSelection=dt._onDidChangeCursorSelection.event,dt._onDidAttemptReadOnlyEdit=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onDidAttemptReadOnlyEdit=dt._onDidAttemptReadOnlyEdit.event,dt._onDidLayoutChange=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidLayoutChange=dt._onDidLayoutChange.event,dt._editorTextFocus=dt._register(new bd({deliveryQueue:dt._deliveryQueue})),dt.onDidFocusEditorText=dt._editorTextFocus.onDidChangeToTrue,dt.onDidBlurEditorText=dt._editorTextFocus.onDidChangeToFalse,dt._editorWidgetFocus=dt._register(new bd({deliveryQueue:dt._deliveryQueue})),dt.onDidFocusEditorWidget=dt._editorWidgetFocus.onDidChangeToTrue,dt.onDidBlurEditorWidget=dt._editorWidgetFocus.onDidChangeToFalse,dt._onWillType=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onWillType=dt._onWillType.event,dt._onDidType=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onDidType=dt._onDidType.event,dt._onDidCompositionStart=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onDidCompositionStart=dt._onDidCompositionStart.event,dt._onDidCompositionEnd=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onDidCompositionEnd=dt._onDidCompositionEnd.event,dt._onDidPaste=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onDidPaste=dt._onDidPaste.event,dt._onMouseUp=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onMouseUp=dt._onMouseUp.event,dt._onMouseDown=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onMouseDown=dt._onMouseDown.event,dt._onMouseDrag=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onMouseDrag=dt._onMouseDrag.event,dt._onMouseDrop=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onMouseDrop=dt._onMouseDrop.event,dt._onMouseDropCanceled=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onMouseDropCanceled=dt._onMouseDropCanceled.event,dt._onDropIntoEditor=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onDropIntoEditor=dt._onDropIntoEditor.event,dt._onContextMenu=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onContextMenu=dt._onContextMenu.event,dt._onMouseMove=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onMouseMove=dt._onMouseMove.event,dt._onMouseLeave=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onMouseLeave=dt._onMouseLeave.event,dt._onMouseWheel=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onMouseWheel=dt._onMouseWheel.event,dt._onKeyUp=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onKeyUp=dt._onKeyUp.event,dt._onKeyDown=dt._register(new wo(dt._contributions,dt._deliveryQueue)),dt.onKeyDown=dt._onKeyDown.event,dt._onDidContentSizeChange=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidContentSizeChange=dt._onDidContentSizeChange.event,dt._onDidScrollChange=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidScrollChange=dt._onDidScrollChange.event,dt._onDidChangeViewZones=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidChangeViewZones=dt._onDidChangeViewZones.event,dt._onDidChangeHiddenAreas=dt._register(new j.b({deliveryQueue:dt._deliveryQueue})),dt.onDidChangeHiddenAreas=dt._onDidChangeHiddenAreas.event,dt._actions=new Map,dt._bannerDomNode=null,dt._dropIntoEditorDecorations=dt.createDecorationsCollection(),te.willCreateCodeEditor();var Cn=Object.assign({},u);dt._domElement=m,dt._overflowWidgetsDomNode=Cn.overflowWidgetsDomNode,delete Cn.overflowWidgetsDomNode,dt._id=++Ql,dt._decorationTypeKeysToIds={},dt._decorationTypeSubtypes={},dt._telemetryData=g.telemetryData,dt._configuration=dt._register(dt._createConfiguration(g.isSimpleWidget||!1,Cn,Mt)),dt._register(dt._configuration.onDidChange(function(Ni){dt._onDidChangeConfiguration.fire(Ni);var Wi=dt._configuration.options;if(Ni.hasChanged(140)){var er=Wi.get(140);dt._onDidLayoutChange.fire(er)}})),dt._contextKeyService=dt._register(Me.createScoped(dt._domElement)),dt._notificationService=Ot,dt._codeEditorService=te,dt._commandService=Le,dt._themeService=at,dt._register(new ef(Object(ve.a)(dt),dt._contextKeyService)),dt._register(new wc(Object(ve.a)(dt),dt._contextKeyService,Ht)),dt._instantiationService=O.createChild(new Xu.a([fs.b,dt._contextKeyService])),dt._modelData=null,dt._focusTracker=new ec(m),dt._register(dt._focusTracker.onChange(function(){dt._editorWidgetFocus.setValue(dt._focusTracker.hasFocus())})),dt._contentWidgets={},dt._overlayWidgets={};var Pn;Array.isArray(g.contributions)?Pn=g.contributions:Pn=ee.e.getEditorContributions(),dt._contributions.initialize(Object(ve.a)(dt),Pn,dt._instantiationService);var ni=Object(E.a)(ee.e.getEditorActions()),hi;try{var Di=function(){var Wi=hi.value;if(dt._actions.has(Wi.id))return Object(d.h)(new Error("Cannot have two actions with the same id ".concat(Wi.id))),"continue";var er=new Dl.a(Wi.id,Wi.label,Wi.alias,Object(va.n)(Wi.precondition),function(){return dt._instantiationService.invokeFunction(function(br){return Promise.resolve(Wi.runEditorCommand(br,Object(ve.a)(dt),null))})},dt._contextKeyService);dt._actions.set(er.id,er)};for(ni.s();!(hi=ni.n()).done;)var wi=Di()}catch(Ni){ni.e(Ni)}finally{ni.f()}var nr=function(){return!dt._configuration.options.get(88)&&dt._configuration.options.get(34).enabled};return dt._register(new U.DragAndDropObserver(dt._domElement,{onDragEnter:function(){},onDragOver:function(Wi){if(!!nr()){var er=dt.getTargetAtClientPoint(Wi.clientX,Wi.clientY);(er==null?void 0:er.position)&&dt.showDropIndicatorAt(er.position)}},onDrop:function(Wi){return ws(Object(ve.a)(dt),void 0,void 0,Object(De.a)().mark(function er(){var br;return Object(De.a)().wrap(function(Ur){for(;;)switch(Ur.prev=Ur.next){case 0:if(nr()){Ur.next=2;break}return Ur.abrupt("return");case 2:if(this.removeDropIndicator(),Wi.dataTransfer){Ur.next=5;break}return Ur.abrupt("return");case 5:br=this.getTargetAtClientPoint(Wi.clientX,Wi.clientY),(br==null?void 0:br.position)&&this._onDropIntoEditor.fire({position:br.position,event:Wi});case 7:case"end":return Ur.stop()}},er,this)}))},onDragLeave:function(){dt.removeDropIndicator()},onDragEnd:function(){dt.removeDropIndicator()}})),dt._codeEditorService.addCodeEditor(Object(ve.a)(dt)),dt}return Object(L.a)(v,[{key:"isSimpleWidget",get:function(){return this._configuration.isSimpleWidget}},{key:"writeScreenReaderContent",value:function(u){var g;(g=this._modelData)===null||g===void 0||g.view.writeScreenReaderContent(u)}},{key:"_createConfiguration",value:function(u,g,O){return new we(u,g,this._domElement,O)}},{key:"getId",value:function(){return this.getEditorType()+":"+this._id}},{key:"getEditorType",value:function(){return fc.a.ICodeEditor}},{key:"dispose",value:function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"invokeWithinContext",value:function(u){return this._instantiationService.invokeFunction(u)}},{key:"updateOptions",value:function(u){this._configuration.updateOptions(u||{})}},{key:"getOptions",value:function(){return this._configuration.options}},{key:"getOption",value:function(u){return this._configuration.options.get(u)}},{key:"getRawOptions",value:function(){return this._configuration.getRawOptions()}},{key:"getOverflowWidgetsDomNode",value:function(){return this._overflowWidgetsDomNode}},{key:"getConfiguredWordAtPosition",value:function(u){return this._modelData?Xc.a.getWordAtPosition(this._modelData.model,this._configuration.options.get(126),u):null}},{key:"getValue",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this._modelData)return"";var g=!!(u&&u.preserveBOM),O=0;return u&&u.lineEnding&&u.lineEnding===`
`?O=1:u&&u.lineEnding&&u.lineEnding===`\r
`&&(O=2),this._modelData.model.getValue(O,g)}},{key:"setValue",value:function(u){!this._modelData||this._modelData.model.setValue(u)}},{key:"getModel",value:function(){return this._modelData?this._modelData.model:null}},{key:"setModel",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=u;if(!(this._modelData===null&&g===null)&&!(this._modelData&&this._modelData.model===g)){var O=this.hasTextFocus(),te=this._detachModel();this._attachModel(g),O&&this.hasModel()&&this.focus();var Le={oldModelUrl:te?te.uri:null,newModelUrl:g?g.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(Le),this._postDetachModelCleanup(te),this._contributions.onAfterModelAttached()}}},{key:"_removeDecorationTypes",value:function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var u in this._decorationTypeSubtypes){var g=this._decorationTypeSubtypes[u];for(var O in g)this._removeDecorationType(u+"-"+O)}this._decorationTypeSubtypes={}}}},{key:"getVisibleRanges",value:function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}},{key:"getVisibleRangesPlusViewportAboveBelow",value:function(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}},{key:"getWhitespaces",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}},{key:"getTopForLineNumber",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._modelData?v._getVerticalOffsetForPosition(this._modelData,u,1,g):-1}},{key:"getTopForPosition",value:function(u,g){return this._modelData?v._getVerticalOffsetForPosition(this._modelData,u,g,!1):-1}},{key:"getBottomForLineNumber",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._modelData?v._getVerticalOffsetAfterPosition(this._modelData,u,1,g):-1}},{key:"setHiddenAreas",value:function(u,g){var O;(O=this._modelData)===null||O===void 0||O.viewModel.setHiddenAreas(u.map(function(te){return An.a.lift(te)}),g)}},{key:"getVisibleColumnFromPosition",value:function(u){if(!this._modelData)return u.column;var g=this._modelData.model.validatePosition(u),O=this._modelData.model.getOptions().tabSize;return fr.a.visibleColumnFromColumn(this._modelData.model.getLineContent(g.lineNumber),g.column,O)+1}},{key:"getPosition",value:function(){return this._modelData?this._modelData.viewModel.getPosition():null}},{key:"setPosition",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api";if(!!this._modelData){if(!Dn.a.isIPosition(u))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(g,[{selectionStartLineNumber:u.lineNumber,selectionStartColumn:u.column,positionLineNumber:u.lineNumber,positionColumn:u.column}])}}},{key:"_sendRevealRange",value:function(u,g,O,te){if(!!this._modelData){if(!An.a.isIRange(u))throw new Error("Invalid arguments");var Le=this._modelData.model.validateRange(u),Me=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Le);this._modelData.viewModel.revealRange("api",O,Me,g,te)}}},{key:"revealLine",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealLine(u,0,g)}},{key:"revealLineInCenter",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealLine(u,1,g)}},{key:"revealLineInCenterIfOutsideViewport",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealLine(u,2,g)}},{key:"revealLineNearTop",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealLine(u,5,g)}},{key:"_revealLine",value:function(u,g,O){if(typeof u!="number")throw new Error("Invalid arguments");this._sendRevealRange(new An.a(u,1,u,1),g,!1,O)}},{key:"revealPosition",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealPosition(u,0,!0,g)}},{key:"revealPositionInCenter",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealPosition(u,1,!0,g)}},{key:"revealPositionInCenterIfOutsideViewport",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealPosition(u,2,!0,g)}},{key:"revealPositionNearTop",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealPosition(u,5,!0,g)}},{key:"_revealPosition",value:function(u,g,O,te){if(!Dn.a.isIPosition(u))throw new Error("Invalid arguments");this._sendRevealRange(new An.a(u.lineNumber,u.column,u.lineNumber,u.column),g,O,te)}},{key:"getSelection",value:function(){return this._modelData?this._modelData.viewModel.getSelection():null}},{key:"getSelections",value:function(){return this._modelData?this._modelData.viewModel.getSelections():null}},{key:"setSelection",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",O=Ct.a.isISelection(u),te=An.a.isIRange(u);if(!O&&!te)throw new Error("Invalid arguments");if(O)this._setSelectionImpl(u,g);else if(te){var Le={selectionStartLineNumber:u.startLineNumber,selectionStartColumn:u.startColumn,positionLineNumber:u.endLineNumber,positionColumn:u.endColumn};this._setSelectionImpl(Le,g)}}},{key:"_setSelectionImpl",value:function(u,g){if(!!this._modelData){var O=new Ct.a(u.selectionStartLineNumber,u.selectionStartColumn,u.positionLineNumber,u.positionColumn);this._modelData.viewModel.setSelections(g,[O])}}},{key:"revealLines",value:function(u,g){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._revealLines(u,g,0,O)}},{key:"revealLinesInCenter",value:function(u,g){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._revealLines(u,g,1,O)}},{key:"revealLinesInCenterIfOutsideViewport",value:function(u,g){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._revealLines(u,g,2,O)}},{key:"revealLinesNearTop",value:function(u,g){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._revealLines(u,g,5,O)}},{key:"_revealLines",value:function(u,g,O,te){if(typeof u!="number"||typeof g!="number")throw new Error("Invalid arguments");this._sendRevealRange(new An.a(u,1,g,1),O,!1,te)}},{key:"revealRange",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;this._revealRange(u,O?1:0,te,g)}},{key:"revealRangeInCenter",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealRange(u,1,!0,g)}},{key:"revealRangeInCenterIfOutsideViewport",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealRange(u,2,!0,g)}},{key:"revealRangeNearTop",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealRange(u,5,!0,g)}},{key:"revealRangeNearTopIfOutsideViewport",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealRange(u,6,!0,g)}},{key:"revealRangeAtTop",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._revealRange(u,3,!0,g)}},{key:"_revealRange",value:function(u,g,O,te){if(!An.a.isIRange(u))throw new Error("Invalid arguments");this._sendRevealRange(An.a.lift(u),g,O,te)}},{key:"setSelections",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!!this._modelData){if(!u||u.length===0)throw new Error("Invalid arguments");for(var te=0,Le=u.length;te<Le;te++)if(!Ct.a.isISelection(u[te]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(g,u,O)}}},{key:"getContentWidth",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}},{key:"getScrollWidth",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}},{key:"getScrollLeft",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}},{key:"getContentHeight",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}},{key:"getScrollHeight",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}},{key:"getScrollTop",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}},{key:"setScrollLeft",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!!this._modelData){if(typeof u!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:u},g)}}},{key:"setScrollTop",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!!this._modelData){if(typeof u!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:u},g)}}},{key:"setScrollPosition",value:function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(u,g)}},{key:"hasPendingScrollAnimation",value:function(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}},{key:"saveViewState",value:function(){if(!this._modelData)return null;var u=this._contributions.saveViewState(),g=this._modelData.viewModel.saveCursorState(),O=this._modelData.viewModel.saveState();return{cursorState:g,viewState:O,contributionsState:u}}},{key:"restoreViewState",value:function(u){if(!(!this._modelData||!this._modelData.hasRealView)){var g=u;if(g&&g.cursorState&&g.viewState){var O=g.cursorState;Array.isArray(O)?O.length>0&&this._modelData.viewModel.restoreCursorState(O):this._modelData.viewModel.restoreCursorState([O]),this._contributions.restoreViewState(g.contributionsState||{});var te=this._modelData.viewModel.reduceRestoreState(g.viewState);this._modelData.view.restoreState(te)}}}},{key:"getContribution",value:function(u){return this._contributions.get(u)}},{key:"getActions",value:function(){return Array.from(this._actions.values())}},{key:"getSupportedActions",value:function(){var u=this.getActions();return u=u.filter(function(g){return g.isSupported()}),u}},{key:"getAction",value:function(u){return this._actions.get(u)||null}},{key:"trigger",value:function(u,g,O){switch(O=O||{},g){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(u);return;case"type":{var te=O;this._type(u,te.text||"");return}case"replacePreviousChar":{var Le=O;this._compositionType(u,Le.text||"",Le.replaceCharCnt||0,0,0);return}case"compositionType":{var Me=O;this._compositionType(u,Me.text||"",Me.replacePrevCharCnt||0,Me.replaceNextCharCnt||0,Me.positionDelta||0);return}case"paste":{var at=O;this._paste(u,at.text||"",at.pasteOnNewLine||!1,at.multicursorText||null,at.mode||null);return}case"cut":this._cut(u);return}var Ot=this.getAction(g);if(Ot){Promise.resolve(Ot.run(O)).then(void 0,d.h);return}!this._modelData||this._triggerEditorCommand(u,g,O)||this._triggerCommand(g,O)}},{key:"_triggerCommand",value:function(u,g){this._commandService.executeCommand(u,g)}},{key:"_startComposition",value:function(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}},{key:"_endComposition",value:function(u){!this._modelData||(this._modelData.viewModel.endComposition(u),this._onDidCompositionEnd.fire())}},{key:"_type",value:function(u,g){!this._modelData||g.length===0||(u==="keyboard"&&this._onWillType.fire(g),this._modelData.viewModel.type(g,u),u==="keyboard"&&this._onDidType.fire(g))}},{key:"_compositionType",value:function(u,g,O,te,Le){!this._modelData||this._modelData.viewModel.compositionType(g,O,te,Le,u)}},{key:"_paste",value:function(u,g,O,te,Le){if(!(!this._modelData||g.length===0)){var Me=this._modelData.viewModel,at=Me.getSelection().getStartPosition();Me.paste(g,O,te,u);var Ot=Me.getSelection().getStartPosition();u==="keyboard"&&this._onDidPaste.fire({range:new An.a(at.lineNumber,at.column,Ot.lineNumber,Ot.column),languageId:Le})}}},{key:"_cut",value:function(u){!this._modelData||this._modelData.viewModel.cut(u)}},{key:"_triggerEditorCommand",value:function(u,g,O){var te=this,Le=ee.e.getEditorCommand(g);return Le?(O=O||{},O.source=u,this._instantiationService.invokeFunction(function(Me){Promise.resolve(Le.runEditorCommand(Me,te,O)).then(void 0,d.h)}),!0):!1}},{key:"_getViewModel",value:function(){return this._modelData?this._modelData.viewModel:null}},{key:"pushUndoStop",value:function(){return!this._modelData||this._configuration.options.get(88)?!1:(this._modelData.model.pushStackElement(),!0)}},{key:"popUndoStop",value:function(){return!this._modelData||this._configuration.options.get(88)?!1:(this._modelData.model.popStackElement(),!0)}},{key:"executeEdits",value:function(u,g,O){if(!this._modelData||this._configuration.options.get(88))return!1;var te;return O?Array.isArray(O)?te=function(){return O}:te=O:te=function(){return null},this._modelData.viewModel.executeEdits(u,g,te),!0}},{key:"executeCommand",value:function(u,g){!this._modelData||this._modelData.viewModel.executeCommand(g,u)}},{key:"executeCommands",value:function(u,g){!this._modelData||this._modelData.viewModel.executeCommands(g,u)}},{key:"createDecorationsCollection",value:function(u){return new Jc(this,u)}},{key:"changeDecorations",value:function(u){return this._modelData?this._modelData.model.changeDecorations(u,this._id):null}},{key:"getLineDecorations",value:function(u){return this._modelData?this._modelData.model.getLineDecorations(u,this._id,Object(w.o)(this._configuration.options)):null}},{key:"getDecorationsInRange",value:function(u){return this._modelData?this._modelData.model.getDecorationsInRange(u,this._id,Object(w.o)(this._configuration.options)):null}},{key:"deltaDecorations",value:function(u,g){return this._modelData?u.length===0&&g.length===0?u:this._modelData.model.deltaDecorations(u,g,this._id):[]}},{key:"removeDecorations",value:function(u){!this._modelData||u.length===0||this._modelData.model.changeDecorations(function(g){g.deltaDecorations(u,[])})}},{key:"removeDecorationsByType",value:function(u){var g=this._decorationTypeKeysToIds[u];g&&this.deltaDecorations(g,[]),this._decorationTypeKeysToIds.hasOwnProperty(u)&&delete this._decorationTypeKeysToIds[u],this._decorationTypeSubtypes.hasOwnProperty(u)&&delete this._decorationTypeSubtypes[u]}},{key:"getLayoutInfo",value:function(){var u=this._configuration.options,g=u.get(140);return g}},{key:"createOverviewRuler",value:function(u){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(u)}},{key:"getContainerDomNode",value:function(){return this._domElement}},{key:"getDomNode",value:function(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}},{key:"delegateVerticalScrollbarPointerDown",value:function(u){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(u)}},{key:"delegateScrollFromMouseWheelEvent",value:function(u){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(u)}},{key:"layout",value:function(u){this._configuration.observeContainer(u),this.render()}},{key:"focus",value:function(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}},{key:"hasTextFocus",value:function(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}},{key:"hasWidgetFocus",value:function(){return this._focusTracker&&this._focusTracker.hasFocus()}},{key:"addContentWidget",value:function(u){var g={widget:u,position:u.getPosition()};this._contentWidgets.hasOwnProperty(u.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[u.getId()]=g,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(g)}},{key:"layoutContentWidget",value:function(u){var g=u.getId();if(this._contentWidgets.hasOwnProperty(g)){var O=this._contentWidgets[g];O.position=u.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(O)}}},{key:"removeContentWidget",value:function(u){var g=u.getId();if(this._contentWidgets.hasOwnProperty(g)){var O=this._contentWidgets[g];delete this._contentWidgets[g],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(O)}}},{key:"addOverlayWidget",value:function(u){var g={widget:u,position:u.getPosition()};this._overlayWidgets.hasOwnProperty(u.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[u.getId()]=g,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(g)}},{key:"layoutOverlayWidget",value:function(u){var g=u.getId();if(this._overlayWidgets.hasOwnProperty(g)){var O=this._overlayWidgets[g];O.position=u.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(O)}}},{key:"removeOverlayWidget",value:function(u){var g=u.getId();if(this._overlayWidgets.hasOwnProperty(g)){var O=this._overlayWidgets[g];delete this._overlayWidgets[g],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(O)}}},{key:"changeViewZones",value:function(u){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(u)}},{key:"getTargetAtClientPoint",value:function(u,g){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(u,g)}},{key:"getScrolledVisiblePosition",value:function(u){if(!this._modelData||!this._modelData.hasRealView)return null;var g=this._modelData.model.validatePosition(u),O=this._configuration.options,te=O.get(140),Le=v._getVerticalOffsetForPosition(this._modelData,g.lineNumber,g.column)-this.getScrollTop(),Me=this._modelData.view.getOffsetForColumn(g.lineNumber,g.column)+te.glyphMarginWidth+te.lineNumbersWidth+te.decorationsWidth-this.getScrollLeft();return{top:Le,left:Me,height:O.get(64)}}},{key:"getOffsetForColumn",value:function(u,g){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(u,g)}},{key:"render",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,u)}},{key:"setAriaOptions",value:function(u){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(u)}},{key:"applyFontInfo",value:function(u){Object(St.a)(u,this._configuration.options.get(48))}},{key:"setBanner",value:function(u,g){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=u,this._configuration.setReservedHeight(u?g:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}},{key:"_attachModel",value:function(u){var g=this;if(!u){this._modelData=null;return}var O=[];this._domElement.setAttribute("data-mode-id",u.getLanguageId()),this._configuration.setIsDominatedByLongLines(u.isDominatedByLongLines()),this._configuration.setModelLineCount(u.getLineCount());var te=u.onBeforeAttached(),Le=new Gl(this._id,this._configuration,u,qu.create(),el.create(this._configuration.options),function(Di){return U.scheduleAtNextAnimationFrame(Di)},this.languageConfigurationService,this._themeService,te);O.push(u.onWillDispose(function(){return g.setModel(null)})),O.push(Le.onEvent(function(Di){switch(Di.kind){case 0:g._onDidContentSizeChange.fire(Di);break;case 1:g._editorTextFocus.setValue(Di.hasFocus);break;case 2:g._onDidScrollChange.fire(Di);break;case 3:g._onDidChangeViewZones.fire();break;case 4:g._onDidChangeHiddenAreas.fire();break;case 5:g._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(Di.reachedMaxCursorCount){var wi=g.getOption(77),nr=N.b("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",wi);g._notificationService.prompt(Dc.c.Warning,nr,[{label:"Find and Replace",run:function(){g._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:N.b("goToSetting","Increase Multi Cursor Limit"),run:function(){g._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}for(var Ni=[],Wi=0,er=Di.selections.length;Wi<er;Wi++)Ni[Wi]=Di.selections[Wi].getPosition();var br={position:Ni[0],secondaryPositions:Ni.slice(1),reason:Di.reason,source:Di.source};g._onDidChangeCursorPosition.fire(br);var xr={selection:Di.selections[0],secondarySelections:Di.selections.slice(1),modelVersionId:Di.modelVersionId,oldSelections:Di.oldSelections,oldModelVersionId:Di.oldModelVersionId,source:Di.source,reason:Di.reason};g._onDidChangeCursorSelection.fire(xr);break}case 7:g._onDidChangeModelDecorations.fire(Di.event);break;case 8:g._domElement.setAttribute("data-mode-id",u.getLanguageId()),g._onDidChangeModelLanguage.fire(Di.event);break;case 9:g._onDidChangeModelLanguageConfiguration.fire(Di.event);break;case 10:g._onDidChangeModelContent.fire(Di.event);break;case 11:g._onDidChangeModelOptions.fire(Di.event);break;case 12:g._onDidChangeModelTokens.fire(Di.event);break}}));var Me=this._createView(Le),at=Object(le.a)(Me,2),Ot=at[0],Mt=at[1];if(Mt){this._domElement.appendChild(Ot.domNode.domNode);for(var Qt=Object.keys(this._contentWidgets),Ht=0,dt=Qt.length;Ht<dt;Ht++){var Cn=Qt[Ht];Ot.addContentWidget(this._contentWidgets[Cn])}Qt=Object.keys(this._overlayWidgets);for(var Pn=0,ni=Qt.length;Pn<ni;Pn++){var hi=Qt[Pn];Ot.addOverlayWidget(this._overlayWidgets[hi])}Ot.render(!1,!0),Ot.domNode.domNode.setAttribute("data-uri",u.uri.toString())}this._modelData=new Ru(u,Le,Ot,Mt,O,te)}},{key:"_createView",value:function(u){var g=this,O;this.isSimpleWidget?O={paste:function(at,Ot,Mt,Qt){g._paste("keyboard",at,Ot,Mt,Qt)},type:function(at){g._type("keyboard",at)},compositionType:function(at,Ot,Mt,Qt){g._compositionType("keyboard",at,Ot,Mt,Qt)},startComposition:function(){g._startComposition()},endComposition:function(){g._endComposition("keyboard")},cut:function(){g._cut("keyboard")}}:O={paste:function(at,Ot,Mt,Qt){var Ht={text:at,pasteOnNewLine:Ot,multicursorText:Mt,mode:Qt};g._commandService.executeCommand("paste",Ht)},type:function(at){var Ot={text:at};g._commandService.executeCommand("type",Ot)},compositionType:function(at,Ot,Mt,Qt){if(Mt||Qt){var Ht={text:at,replacePrevCharCnt:Ot,replaceNextCharCnt:Mt,positionDelta:Qt};g._commandService.executeCommand("compositionType",Ht)}else{var dt={text:at,replaceCharCnt:Ot};g._commandService.executeCommand("replacePreviousChar",dt)}},startComposition:function(){g._commandService.executeCommand("compositionStart",{})},endComposition:function(){g._commandService.executeCommand("compositionEnd",{})},cut:function(){g._commandService.executeCommand("cut",{})}};var te=new ti(u.coordinatesConverter);te.onKeyDown=function(Me){return g._onKeyDown.fire(Me)},te.onKeyUp=function(Me){return g._onKeyUp.fire(Me)},te.onContextMenu=function(Me){return g._onContextMenu.fire(Me)},te.onMouseMove=function(Me){return g._onMouseMove.fire(Me)},te.onMouseLeave=function(Me){return g._onMouseLeave.fire(Me)},te.onMouseDown=function(Me){return g._onMouseDown.fire(Me)},te.onMouseUp=function(Me){return g._onMouseUp.fire(Me)},te.onMouseDrag=function(Me){return g._onMouseDrag.fire(Me)},te.onMouseDrop=function(Me){return g._onMouseDrop.fire(Me)},te.onMouseDropCanceled=function(Me){return g._onMouseDropCanceled.fire(Me)},te.onMouseWheel=function(Me){return g._onMouseWheel.fire(Me)};var Le=new dl(O,this._configuration,this._themeService.getColorTheme(),u,te,this._overflowWidgetsDomNode);return[Le,!0]}},{key:"_postDetachModelCleanup",value:function(u){u==null||u.removeAllDecorationsWithOwnerId(this._id)}},{key:"_detachModel",value:function(){if(!this._modelData)return null;var u=this._modelData.model,g=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),g&&this._domElement.contains(g)&&this._domElement.removeChild(g),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),u}},{key:"_removeDecorationType",value:function(u){this._codeEditorService.removeDecorationType(u)}},{key:"hasModel",value:function(){return this._modelData!==null}},{key:"showDropIndicatorAt",value:function(u){var g=[{range:new An.a(u.lineNumber,u.column,u.lineNumber,u.column),options:v.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(g),this.revealPosition(u,1)}},{key:"removeDropIndicator",value:function(){this._dropIntoEditorDecorations.clear()}}],[{key:"_getVerticalOffsetAfterPosition",value:function(u,g,O,te){var Le=u.model.validatePosition({lineNumber:g,column:O}),Me=u.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Le);return u.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(Me.lineNumber,te)}},{key:"_getVerticalOffsetForPosition",value:function(u,g,O){var te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Le=u.model.validatePosition({lineNumber:g,column:O}),Me=u.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Le);return u.viewModel.viewLayout.getVerticalOffsetForLineNumber(Me.lineNumber,te)}}]),v}(C.a);mu.dropIntoEditorDecorationOptions=Ku.b.register({description:"workbench-dnd-target",className:"dnd-target"}),mu=pl([Gs(3,gd.a),Gs(4,wt.a),Gs(5,Bs.b),Gs(6,fs.b),Gs(7,Jn.b),Gs(8,Dc.a),Gs(9,pe.b),Gs(10,Ro.a),Gs(11,gu.a)],mu);var bd=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;return Object(Q.a)(this,v),u=Ce.call(this),u._emitterOptions=m,u._onDidChangeToTrue=u._register(new j.b(u._emitterOptions)),u.onDidChangeToTrue=u._onDidChangeToTrue.event,u._onDidChangeToFalse=u._register(new j.b(u._emitterOptions)),u.onDidChangeToFalse=u._onDidChangeToFalse.event,u._value=0,u}return Object(L.a)(v,[{key:"setValue",value:function(u){var g=u?2:1;this._value!==g&&(this._value=g,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}]),v}(C.a),wo=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u){var g;return Object(Q.a)(this,v),g=Ce.call(this,{deliveryQueue:u}),g._contributions=m,g}return Object(L.a)(v,[{key:"fire",value:function(u){this._contributions.onBeforeInteractionEvent(),Object(re.a)(Object(J.a)(v.prototype),"fire",this).call(this,u)}}]),v}(j.b),ef=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u){var g;return Object(Q.a)(this,v),g=Ce.call(this),g._editor=m,u.createKey("editorId",m.getId()),g._editorSimpleInput=uo.a.editorSimpleInput.bindTo(u),g._editorFocus=uo.a.focus.bindTo(u),g._textInputFocus=uo.a.textInputFocus.bindTo(u),g._editorTextFocus=uo.a.editorTextFocus.bindTo(u),g._editorTabMovesFocus=uo.a.tabMovesFocus.bindTo(u),g._editorReadonly=uo.a.readOnly.bindTo(u),g._inDiffEditor=uo.a.inDiffEditor.bindTo(u),g._editorColumnSelection=uo.a.columnSelection.bindTo(u),g._hasMultipleSelections=uo.a.hasMultipleSelections.bindTo(u),g._hasNonEmptySelection=uo.a.hasNonEmptySelection.bindTo(u),g._canUndo=uo.a.canUndo.bindTo(u),g._canRedo=uo.a.canRedo.bindTo(u),g._register(g._editor.onDidChangeConfiguration(function(){return g._updateFromConfig()})),g._register(g._editor.onDidChangeCursorSelection(function(){return g._updateFromSelection()})),g._register(g._editor.onDidFocusEditorWidget(function(){return g._updateFromFocus()})),g._register(g._editor.onDidBlurEditorWidget(function(){return g._updateFromFocus()})),g._register(g._editor.onDidFocusEditorText(function(){return g._updateFromFocus()})),g._register(g._editor.onDidBlurEditorText(function(){return g._updateFromFocus()})),g._register(g._editor.onDidChangeModel(function(){return g._updateFromModel()})),g._register(g._editor.onDidChangeConfiguration(function(){return g._updateFromModel()})),g._register(k.a.onDidChangeTabFocus(function(){return g._editorTabMovesFocus.set(k.a.getTabFocusMode("editorFocus"))})),g._updateFromConfig(),g._updateFromSelection(),g._updateFromFocus(),g._updateFromModel(),g._editorSimpleInput.set(g._editor.isSimpleWidget),g}return Object(L.a)(v,[{key:"_updateFromConfig",value:function(){var u=this._editor.getOptions();this._editorTabMovesFocus.set(k.a.getTabFocusMode("editorFocus")),this._editorReadonly.set(u.get(88)),this._inDiffEditor.set(u.get(59)),this._editorColumnSelection.set(u.get(20))}},{key:"_updateFromSelection",value:function(){var u=this._editor.getSelections();u?(this._hasMultipleSelections.set(u.length>1),this._hasNonEmptySelection.set(u.some(function(g){return!g.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}},{key:"_updateFromFocus",value:function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}},{key:"_updateFromModel",value:function(){var u=this._editor.getModel();this._canUndo.set(Boolean(u&&u.canUndo())),this._canRedo.set(Boolean(u&&u.canRedo()))}}]),v}(C.a),wc=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m,u,g){var O;Object(Q.a)(this,v),O=Ce.call(this),O._editor=m,O._contextKeyService=u,O._languageFeaturesService=g,O._langId=uo.a.languageId.bindTo(u),O._hasCompletionItemProvider=uo.a.hasCompletionItemProvider.bindTo(u),O._hasCodeActionsProvider=uo.a.hasCodeActionsProvider.bindTo(u),O._hasCodeLensProvider=uo.a.hasCodeLensProvider.bindTo(u),O._hasDefinitionProvider=uo.a.hasDefinitionProvider.bindTo(u),O._hasDeclarationProvider=uo.a.hasDeclarationProvider.bindTo(u),O._hasImplementationProvider=uo.a.hasImplementationProvider.bindTo(u),O._hasTypeDefinitionProvider=uo.a.hasTypeDefinitionProvider.bindTo(u),O._hasHoverProvider=uo.a.hasHoverProvider.bindTo(u),O._hasDocumentHighlightProvider=uo.a.hasDocumentHighlightProvider.bindTo(u),O._hasDocumentSymbolProvider=uo.a.hasDocumentSymbolProvider.bindTo(u),O._hasReferenceProvider=uo.a.hasReferenceProvider.bindTo(u),O._hasRenameProvider=uo.a.hasRenameProvider.bindTo(u),O._hasSignatureHelpProvider=uo.a.hasSignatureHelpProvider.bindTo(u),O._hasInlayHintsProvider=uo.a.hasInlayHintsProvider.bindTo(u),O._hasDocumentFormattingProvider=uo.a.hasDocumentFormattingProvider.bindTo(u),O._hasDocumentSelectionFormattingProvider=uo.a.hasDocumentSelectionFormattingProvider.bindTo(u),O._hasMultipleDocumentFormattingProvider=uo.a.hasMultipleDocumentFormattingProvider.bindTo(u),O._hasMultipleDocumentSelectionFormattingProvider=uo.a.hasMultipleDocumentSelectionFormattingProvider.bindTo(u),O._isInWalkThrough=uo.a.isInWalkThroughSnippet.bindTo(u);var te=function(){return O._update()};return O._register(m.onDidChangeModel(te)),O._register(m.onDidChangeModelLanguage(te)),O._register(g.completionProvider.onDidChange(te)),O._register(g.codeActionProvider.onDidChange(te)),O._register(g.codeLensProvider.onDidChange(te)),O._register(g.definitionProvider.onDidChange(te)),O._register(g.declarationProvider.onDidChange(te)),O._register(g.implementationProvider.onDidChange(te)),O._register(g.typeDefinitionProvider.onDidChange(te)),O._register(g.hoverProvider.onDidChange(te)),O._register(g.documentHighlightProvider.onDidChange(te)),O._register(g.documentSymbolProvider.onDidChange(te)),O._register(g.referenceProvider.onDidChange(te)),O._register(g.renameProvider.onDidChange(te)),O._register(g.documentFormattingEditProvider.onDidChange(te)),O._register(g.documentRangeFormattingEditProvider.onDidChange(te)),O._register(g.signatureHelpProvider.onDidChange(te)),O._register(g.inlayHintsProvider.onDidChange(te)),te(),O}return Object(L.a)(v,[{key:"dispose",value:function(){Object(re.a)(Object(J.a)(v.prototype),"dispose",this).call(this)}},{key:"reset",value:function(){var u=this;this._contextKeyService.bufferChangeEvents(function(){u._langId.reset(),u._hasCompletionItemProvider.reset(),u._hasCodeActionsProvider.reset(),u._hasCodeLensProvider.reset(),u._hasDefinitionProvider.reset(),u._hasDeclarationProvider.reset(),u._hasImplementationProvider.reset(),u._hasTypeDefinitionProvider.reset(),u._hasHoverProvider.reset(),u._hasDocumentHighlightProvider.reset(),u._hasDocumentSymbolProvider.reset(),u._hasReferenceProvider.reset(),u._hasRenameProvider.reset(),u._hasDocumentFormattingProvider.reset(),u._hasDocumentSelectionFormattingProvider.reset(),u._hasSignatureHelpProvider.reset(),u._isInWalkThrough.reset()})}},{key:"_update",value:function(){var u=this,g=this._editor.getModel();if(!g){this.reset();return}this._contextKeyService.bufferChangeEvents(function(){u._langId.set(g.getLanguageId()),u._hasCompletionItemProvider.set(u._languageFeaturesService.completionProvider.has(g)),u._hasCodeActionsProvider.set(u._languageFeaturesService.codeActionProvider.has(g)),u._hasCodeLensProvider.set(u._languageFeaturesService.codeLensProvider.has(g)),u._hasDefinitionProvider.set(u._languageFeaturesService.definitionProvider.has(g)),u._hasDeclarationProvider.set(u._languageFeaturesService.declarationProvider.has(g)),u._hasImplementationProvider.set(u._languageFeaturesService.implementationProvider.has(g)),u._hasTypeDefinitionProvider.set(u._languageFeaturesService.typeDefinitionProvider.has(g)),u._hasHoverProvider.set(u._languageFeaturesService.hoverProvider.has(g)),u._hasDocumentHighlightProvider.set(u._languageFeaturesService.documentHighlightProvider.has(g)),u._hasDocumentSymbolProvider.set(u._languageFeaturesService.documentSymbolProvider.has(g)),u._hasReferenceProvider.set(u._languageFeaturesService.referenceProvider.has(g)),u._hasRenameProvider.set(u._languageFeaturesService.renameProvider.has(g)),u._hasSignatureHelpProvider.set(u._languageFeaturesService.signatureHelpProvider.has(g)),u._hasInlayHintsProvider.set(u._languageFeaturesService.inlayHintsProvider.has(g)),u._hasDocumentFormattingProvider.set(u._languageFeaturesService.documentFormattingEditProvider.has(g)||u._languageFeaturesService.documentRangeFormattingEditProvider.has(g)),u._hasDocumentSelectionFormattingProvider.set(u._languageFeaturesService.documentRangeFormattingEditProvider.has(g)),u._hasMultipleDocumentFormattingProvider.set(u._languageFeaturesService.documentFormattingEditProvider.all(g).length+u._languageFeaturesService.documentRangeFormattingEditProvider.all(g).length>1),u._hasMultipleDocumentSelectionFormattingProvider.set(u._languageFeaturesService.documentRangeFormattingEditProvider.all(g).length>1),u._isInWalkThrough.set(g.uri.scheme===x.c.walkThroughSnippet)})}}]),v}(C.a),ec=function(ze){Object($.a)(v,ze);var Ce=Object(y.a)(v);function v(m){var u;return Object(Q.a)(this,v),u=Ce.call(this),u._onChange=u._register(new j.b),u.onChange=u._onChange.event,u._hasFocus=!1,u._domFocusTracker=u._register(U.trackFocus(m)),u._register(u._domFocusTracker.onDidFocus(function(){u._hasFocus=!0,u._onChange.fire(void 0)})),u._register(u._domFocusTracker.onDidBlur(function(){u._hasFocus=!1,u._onChange.fire(void 0)})),u}return Object(L.a)(v,[{key:"hasFocus",value:function(){return this._hasFocus}}]),v}(C.a),Jc=function(){function ze(Ce,v){Object(Q.a)(this,ze),this._editor=Ce,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(v)&&v.length>0&&this.set(v)}return Object(L.a)(ze,[{key:"length",get:function(){return this._decorationIds.length}},{key:"onDidChange",value:function(v,m,u){var g=this;return this._editor.onDidChangeModelDecorations(function(O){g._isChangingDecorations||v.call(m,O)},u)}},{key:"getRange",value:function(v){return!this._editor.hasModel()||v>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[v])}},{key:"getRanges",value:function(){if(!this._editor.hasModel())return[];var v=this._editor.getModel(),m=[],u=Object(E.a)(this._decorationIds),g;try{for(u.s();!(g=u.n()).done;){var O=g.value,te=v.getDecorationRange(O);te&&m.push(te)}}catch(Le){u.e(Le)}finally{u.f()}return m}},{key:"has",value:function(v){return this._decorationIds.includes(v.id)}},{key:"clear",value:function(){this._decorationIds.length!==0&&this.set([])}},{key:"set",value:function(v){var m=this;try{this._isChangingDecorations=!0,this._editor.changeDecorations(function(u){m._decorationIds=u.deltaDecorations(m._decorationIds,v)})}finally{this._isChangingDecorations=!1}return this._decorationIds}}]),ze}(),pu=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),tc=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Nu(ze){return pu+encodeURIComponent(ze.toString())+tc}var jc=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Pl=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function th(ze){return jc+encodeURIComponent(ze.toString())+Pl}Object(Jn.e)(function(ze,Ce){var v=ze.getColor(ua.H);v&&Ce.addRule(".monaco-editor .".concat("squiggly-error",' { background: url("data:image/svg+xml,',Nu(v),'") repeat-x bottom left; }'));var m=ze.getColor(ua.fb);m&&Ce.addRule(".monaco-editor .".concat("squiggly-warning",' { background: url("data:image/svg+xml,',Nu(m),'") repeat-x bottom left; }'));var u=ze.getColor(ua.U);u&&Ce.addRule(".monaco-editor .".concat("squiggly-info",' { background: url("data:image/svg+xml,',Nu(u),'") repeat-x bottom left; }'));var g=ze.getColor(ua.P);g&&Ce.addRule(".monaco-editor .".concat("squiggly-hint",' { background: url("data:image/svg+xml,',th(g),'") no-repeat bottom left; }'));var O=ze.getColor(ii.D);O&&Ce.addRule(".monaco-editor.showUnused .".concat("squiggly-inline-unnecessary"," { opacity: ",O.rgba.a,"; }"))})},nD70:function(fn,K,a){"use strict";a.d(K,"a",function(){return E}),a.d(K,"b",function(){return ve});var le=a("fWQN"),De=a("mtLc"),E=function(){function re(J){Object(le.a)(this,re),this._prefix=J,this._lastId=0}return Object(De.a)(re,[{key:"nextId",value:function(){return this._prefix+ ++this._lastId}}]),re}(),ve=new E("id#")},nEHx:function(fn,K,a){"use strict";a.d(K,"a",function(){return le}),a.d(K,"c",function(){return De}),a.d(K,"b",function(){return E});var le;(function(ve){ve.DARK="dark",ve.LIGHT="light",ve.HIGH_CONTRAST_DARK="hcDark",ve.HIGH_CONTRAST_LIGHT="hcLight"})(le||(le={}));function De(ve){return ve===le.HIGH_CONTRAST_DARK||ve===le.HIGH_CONTRAST_LIGHT}function E(ve){return ve===le.DARK||ve===le.HIGH_CONTRAST_DARK}},nEy2:function(fn,K,a){},nnTU:function(fn,K,a){"use strict";a.d(K,"b",function(){return L}),a.d(K,"a",function(){return ne});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("MI8n"),re=a("JYp7"),J=a("pmY6"),$=a("24hK"),y=a("746U"),Q=a("Cg/j"),L=Object(Q.c)("commandService"),ne=new(function(){function ee(){Object(De.a)(this,ee),this._commands=new Map,this._onDidRegisterCommand=new ve.b,this.onDidRegisterCommand=this._onDidRegisterCommand.event}return Object(E.a)(ee,[{key:"registerCommand",value:function(W,F){var V=this;if(!W)throw new Error("invalid command");if(typeof W=="string"){if(!F)throw new Error("invalid command");return this.registerCommand({id:W,handler:F})}if(W.description){var N=[],U=Object(le.a)(W.description.args),d;try{for(U.s();!(d=U.n()).done;){var j=d.value;N.push(j.constraint)}}catch(A){U.e(A)}finally{U.f()}var C=W.handler;W.handler=function(A){for(var ue=arguments.length,be=new Array(ue>1?ue-1:0),de=1;de<ue;de++)be[de-1]=arguments[de];return Object(y.m)(be,N),C.apply(void 0,[A].concat(be))}}var x=W.id,S=this._commands.get(x);S||(S=new $.a,this._commands.set(x,S));var T=S.unshift(W),z=Object(J.l)(function(){T();var A=V._commands.get(x);(A==null?void 0:A.isEmpty())&&V._commands.delete(x)});return this._onDidRegisterCommand.fire(x),z}},{key:"registerCommandAlias",value:function(W,F){return ne.registerCommand(W,function(V){for(var N,U=arguments.length,d=new Array(U>1?U-1:0),j=1;j<U;j++)d[j-1]=arguments[j];return(N=V.get(L)).executeCommand.apply(N,[F].concat(d))})}},{key:"getCommand",value:function(W){var F=this._commands.get(W);if(!(!F||F.isEmpty()))return re.a.first(F)}},{key:"getCommands",value:function(){var W=new Map,F=Object(le.a)(this._commands.keys()),V;try{for(F.s();!(V=F.n()).done;){var N=V.value,U=this.getCommand(N);U&&W.set(N,U)}}catch(d){F.e(d)}finally{F.f()}return W}}]),ee}());ne.registerCommand("noop",function(){})},nrhi:function(fn,K,a){"use strict";a.d(K,"a",function(){return L});var le=a("fWQN"),De=a("mtLc"),E=a("Szf2"),ve=a("MNsG"),re=a("nnTU"),J=a("ic2d"),$=a("pmY6"),y=a("24hK"),Q=function(){function H(){Object(le.a)(this,H),this._coreKeybindings=new y.a,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}return Object(De.a)(H,[{key:"registerKeybindingRule",value:function(F){var V=H.bindToCurrentPlatform(F),N=new $.c;if(V&&V.primary){var U=Object(E.d)(V.primary,ve.a);U&&N.add(this._registerDefaultKeybinding(U,F.id,F.args,F.weight,0,F.when))}if(V&&Array.isArray(V.secondary))for(var d=0,j=V.secondary.length;d<j;d++){var C=V.secondary[d],x=Object(E.d)(C,ve.a);x&&N.add(this._registerDefaultKeybinding(x,F.id,F.args,F.weight,-d-1,F.when))}return N}},{key:"registerCommandAndKeybindingRule",value:function(F){return Object($.h)(this.registerKeybindingRule(F),re.a.registerCommand(F))}},{key:"_registerDefaultKeybinding",value:function(F,V,N,U,d,j){var C=this,x=this._coreKeybindings.push({keybinding:F,command:V,commandArgs:N,when:j,weight1:U,weight2:d,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,Object($.l)(function(){x(),C._cachedMergedKeybindings=null})}},{key:"getDefaultKeybindings",value:function(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(ee)),this._cachedMergedKeybindings.slice(0)}}],[{key:"bindToCurrentPlatform",value:function(F){if(ve.a===1){if(F&&F.win)return F.win}else if(ve.a===2){if(F&&F.mac)return F.mac}else if(F&&F.linux)return F.linux;return F}}]),H}(),L=new Q,ne={EditorModes:"platform.keybindingsRegistry"};J.a.add(ne.EditorModes,L);function ee(H,W){if(H.weight1!==W.weight1)return H.weight1-W.weight1;if(H.command&&W.command){if(H.command<W.command)return-1;if(H.command>W.command)return 1}return H.weight2-W.weight2}},nuFA:function(fn,K,a){"use strict";a.d(K,"a",function(){return le});var le;(function(De){function E($,y){if($.start>=y.end||y.start>=$.end)return{start:0,end:0};var Q=Math.max($.start,y.start),L=Math.min($.end,y.end);return L-Q<=0?{start:0,end:0}:{start:Q,end:L}}De.intersect=E;function ve($){return $.end-$.start<=0}De.isEmpty=ve;function re($,y){return!ve(E($,y))}De.intersects=re;function J($,y){var Q=[],L={start:$.start,end:Math.min(y.start,$.end)},ne={start:Math.max(y.end,$.start),end:$.end};return ve(L)||Q.push(L),ve(ne)||Q.push(ne),Q}De.relativeComplement=J})(le||(le={}))},"o/5H":function(fn,K,a){},o39E:function(fn,K,a){"use strict";a.d(K,"a",function(){return Q});var le=a("fWQN"),De=a("mtLc"),E=a("w4Tj"),ve=a("oZsa"),re=a("yKVA"),J=a("879j"),$=a("pmY6"),y=a("MI8n"),Q=function(L){Object(re.a)(ee,L);var ne=Object(J.a)(ee);function ee(H,W){var F;return Object(le.a)(this,ee),F=ne.call(this),F._onDidChange=F._register(new y.b),F.onDidChange=F._onDidChange.event,F._referenceDomElement=H,F._width=-1,F._height=-1,F._resizeObserver=null,F.measureReferenceDomElement(!1,W),F}return Object(De.a)(ee,[{key:"dispose",value:function(){this.stopObserving(),Object(E.a)(Object(ve.a)(ee.prototype),"dispose",this).call(this)}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"startObserving",value:function(){var W=this;!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(function(F){F&&F[0]&&F[0].contentRect?W.observe({width:F[0].contentRect.width,height:F[0].contentRect.height}):W.observe()}),this._resizeObserver.observe(this._referenceDomElement))}},{key:"stopObserving",value:function(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}},{key:"observe",value:function(W){this.measureReferenceDomElement(!0,W)}},{key:"measureReferenceDomElement",value:function(W,F){var V=0,N=0;F?(V=F.width,N=F.height):this._referenceDomElement&&(V=this._referenceDomElement.clientWidth,N=this._referenceDomElement.clientHeight),V=Math.max(5,V),N=Math.max(5,N),(this._width!==V||this._height!==N)&&(this._width=V,this._height=N,W&&this._onDidChange.fire())}}]),ee}($.a)},oAzg:function(fn,K,a){},oF4g:function(fn,K,a){"use strict";a.d(K,"b",function(){return re}),a.d(K,"a",function(){return $});var le=a("fWQN"),De=a("mtLc"),E=a("Cg/j"),ve=a("3/fG"),re=Object(E.c)("audioCue"),J=function(){function y(Q){Object(le.a)(this,y),this.fileName=Q}return Object(De.a)(y,null,[{key:"register",value:function(L){var ne=new y(L.fileName);return ne}}]),y}();J.error=J.register({fileName:"error.mp3"}),J.warning=J.register({fileName:"warning.mp3"}),J.foldedArea=J.register({fileName:"foldedAreas.mp3"}),J.break=J.register({fileName:"break.mp3"}),J.quickFixes=J.register({fileName:"quickFixes.mp3"}),J.taskCompleted=J.register({fileName:"taskCompleted.mp3"}),J.taskFailed=J.register({fileName:"taskFailed.mp3"}),J.terminalBell=J.register({fileName:"terminalBell.mp3"}),J.diffLineInserted=J.register({fileName:"diffLineInserted.mp3"}),J.diffLineDeleted=J.register({fileName:"diffLineDeleted.mp3"}),J.diffLineModified=J.register({fileName:"diffLineModified.mp3"});var $=function(){function y(Q,L,ne){Object(le.a)(this,y),this.sound=Q,this.name=L,this.settingsKey=ne}return Object(De.a)(y,null,[{key:"register",value:function(L){var ne=new y(L.sound,L.name,L.settingsKey);return y._audioCues.add(ne),ne}}]),y}();$._audioCues=new Set,$.error=$.register({name:Object(ve.b)("audioCues.lineHasError.name","Error on Line"),sound:J.error,settingsKey:"audioCues.lineHasError"}),$.warning=$.register({name:Object(ve.b)("audioCues.lineHasWarning.name","Warning on Line"),sound:J.warning,settingsKey:"audioCues.lineHasWarning"}),$.foldedArea=$.register({name:Object(ve.b)("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:J.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),$.break=$.register({name:Object(ve.b)("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:J.break,settingsKey:"audioCues.lineHasBreakpoint"}),$.inlineSuggestion=$.register({name:Object(ve.b)("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:J.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),$.terminalQuickFix=$.register({name:Object(ve.b)("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:J.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),$.onDebugBreak=$.register({name:Object(ve.b)("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:J.break,settingsKey:"audioCues.onDebugBreak"}),$.noInlayHints=$.register({name:Object(ve.b)("audioCues.noInlayHints","No Inlay Hints on Line"),sound:J.error,settingsKey:"audioCues.noInlayHints"}),$.taskCompleted=$.register({name:Object(ve.b)("audioCues.taskCompleted","Task Completed"),sound:J.taskCompleted,settingsKey:"audioCues.taskCompleted"}),$.taskFailed=$.register({name:Object(ve.b)("audioCues.taskFailed","Task Failed"),sound:J.taskFailed,settingsKey:"audioCues.taskFailed"}),$.terminalCommandFailed=$.register({name:Object(ve.b)("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:J.error,settingsKey:"audioCues.terminalCommandFailed"}),$.terminalBell=$.register({name:Object(ve.b)("audioCues.terminalBell","Terminal Bell"),sound:J.terminalBell,settingsKey:"audioCues.terminalBell"}),$.notebookCellCompleted=$.register({name:Object(ve.b)("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:J.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),$.notebookCellFailed=$.register({name:Object(ve.b)("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:J.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),$.diffLineInserted=$.register({name:Object(ve.b)("audioCues.diffLineInserted","Diff Line Inserted"),sound:J.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),$.diffLineDeleted=$.register({name:Object(ve.b)("audioCues.diffLineDeleted","Diff Line Deleted"),sound:J.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),$.diffLineModified=$.register({name:Object(ve.b)("audioCues.diffLineModified","Diff Line Modified"),sound:J.diffLineModified,settingsKey:"audioCues.diffLineModified"})},oFSf:function(fn,K,a){"use strict";a.d(K,"b",function(){return V}),a.d(K,"a",function(){return N});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("3/fG"),re=a("/cxE"),J=a("gCVg"),$=a("bY76"),y=a("jRcv"),Q=a("HpOR"),L=a("gslv");function ne(U){return U.toString()}var ee=function(){function U(d,j,C,x,S,T,z){Object(De.a)(this,U),this.beforeVersionId=d,this.afterVersionId=j,this.beforeEOL=C,this.afterEOL=x,this.beforeCursorState=S,this.afterCursorState=T,this.changes=z}return Object(E.a)(U,[{key:"append",value:function(j,C,x,S,T){C.length>0&&(this.changes=Object(y.b)(this.changes,C)),this.afterEOL=x,this.afterVersionId=S,this.afterCursorState=T}},{key:"serialize",value:function(){var j=4+4+1+1+U._writeSelectionsSize(this.beforeCursorState)+U._writeSelectionsSize(this.afterCursorState)+4,C=Object(le.a)(this.changes),x;try{for(C.s();!(x=C.n()).done;){var S=x.value;j+=S.writeSize()}}catch(de){C.e(de)}finally{C.f()}var T=new Uint8Array(j),z=0;Q.f(T,this.beforeVersionId,z),z+=4,Q.f(T,this.afterVersionId,z),z+=4,Q.g(T,this.beforeEOL,z),z+=1,Q.g(T,this.afterEOL,z),z+=1,z=U._writeSelections(T,this.beforeCursorState,z),z=U._writeSelections(T,this.afterCursorState,z),Q.f(T,this.changes.length,z),z+=4;var A=Object(le.a)(this.changes),ue;try{for(A.s();!(ue=A.n()).done;){var be=ue.value;z=be.write(T,z)}}catch(de){A.e(de)}finally{A.f()}return T.buffer}}],[{key:"create",value:function(j,C){var x=j.getAlternativeVersionId(),S=F(j);return new U(x,x,S,S,C,C,[])}},{key:"_writeSelectionsSize",value:function(j){return 4+4*4*(j?j.length:0)}},{key:"_writeSelections",value:function(j,C,x){if(Q.f(j,C?C.length:0,x),x+=4,C){var S=Object(le.a)(C),T;try{for(S.s();!(T=S.n()).done;){var z=T.value;Q.f(j,z.selectionStartLineNumber,x),x+=4,Q.f(j,z.selectionStartColumn,x),x+=4,Q.f(j,z.positionLineNumber,x),x+=4,Q.f(j,z.positionColumn,x),x+=4}}catch(A){S.e(A)}finally{S.f()}}return x}},{key:"_readSelections",value:function(j,C,x){var S=Q.c(j,C);C+=4;for(var T=0;T<S;T++){var z=Q.c(j,C);C+=4;var A=Q.c(j,C);C+=4;var ue=Q.c(j,C);C+=4;var be=Q.c(j,C);C+=4,x.push(new J.a(z,A,ue,be))}return C}},{key:"deserialize",value:function(j){var C=new Uint8Array(j),x=0,S=Q.c(C,x);x+=4;var T=Q.c(C,x);x+=4;var z=Q.d(C,x);x+=1;var A=Q.d(C,x);x+=1;var ue=[];x=U._readSelections(C,x,ue);var be=[];x=U._readSelections(C,x,be);var de=Q.c(C,x);x+=4;for(var ke=[],he=0;he<de;he++)x=y.a.read(C,x,ke);return new U(S,T,z,A,ue,be,ke)}}]),U}(),H=function(){function U(d,j,C,x){Object(De.a)(this,U),this.label=d,this.code=j,this.model=C,this._data=ee.create(C,x)}return Object(E.a)(U,[{key:"type",get:function(){return 0}},{key:"resource",get:function(){return $.a.isUri(this.model)?this.model:this.model.uri}},{key:"toString",value:function(){var j=this._data instanceof ee?this._data:ee.deserialize(this._data);return j.changes.map(function(C){return C.toString()}).join(", ")}},{key:"matchesResource",value:function(j){var C=$.a.isUri(this.model)?this.model:this.model.uri;return C.toString()===j.toString()}},{key:"setModel",value:function(j){this.model=j}},{key:"canAppend",value:function(j){return this.model===j&&this._data instanceof ee}},{key:"append",value:function(j,C,x,S,T){this._data instanceof ee&&this._data.append(j,C,x,S,T)}},{key:"close",value:function(){this._data instanceof ee&&(this._data=this._data.serialize())}},{key:"open",value:function(){this._data instanceof ee||(this._data=ee.deserialize(this._data))}},{key:"undo",value:function(){if($.a.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof ee&&(this._data=this._data.serialize());var j=ee.deserialize(this._data);this.model._applyUndo(j.changes,j.beforeEOL,j.beforeVersionId,j.beforeCursorState)}},{key:"redo",value:function(){if($.a.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof ee&&(this._data=this._data.serialize());var j=ee.deserialize(this._data);this.model._applyRedo(j.changes,j.afterEOL,j.afterVersionId,j.afterCursorState)}},{key:"heapSize",value:function(){return this._data instanceof ee&&(this._data=this._data.serialize()),this._data.byteLength+168}}]),U}(),W=function(){function U(d,j,C){Object(De.a)(this,U),this.label=d,this.code=j,this.type=1,this._isOpen=!0,this._editStackElementsArr=C.slice(0),this._editStackElementsMap=new Map;var x=Object(le.a)(this._editStackElementsArr),S;try{for(x.s();!(S=x.n()).done;){var T=S.value,z=ne(T.resource);this._editStackElementsMap.set(z,T)}}catch(A){x.e(A)}finally{x.f()}this._delegate=null}return Object(E.a)(U,[{key:"resources",get:function(){return this._editStackElementsArr.map(function(j){return j.resource})}},{key:"prepareUndoRedo",value:function(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}},{key:"matchesResource",value:function(j){var C=ne(j);return this._editStackElementsMap.has(C)}},{key:"setModel",value:function(j){var C=ne($.a.isUri(j)?j:j.uri);this._editStackElementsMap.has(C)&&this._editStackElementsMap.get(C).setModel(j)}},{key:"canAppend",value:function(j){if(!this._isOpen)return!1;var C=ne(j.uri);if(this._editStackElementsMap.has(C)){var x=this._editStackElementsMap.get(C);return x.canAppend(j)}return!1}},{key:"append",value:function(j,C,x,S,T){var z=ne(j.uri),A=this._editStackElementsMap.get(z);A.append(j,C,x,S,T)}},{key:"close",value:function(){this._isOpen=!1}},{key:"open",value:function(){}},{key:"undo",value:function(){this._isOpen=!1;var j=Object(le.a)(this._editStackElementsArr),C;try{for(j.s();!(C=j.n()).done;){var x=C.value;x.undo()}}catch(S){j.e(S)}finally{j.f()}}},{key:"redo",value:function(){var j=Object(le.a)(this._editStackElementsArr),C;try{for(j.s();!(C=j.n()).done;){var x=C.value;x.redo()}}catch(S){j.e(S)}finally{j.f()}}},{key:"heapSize",value:function(j){var C=ne(j);if(this._editStackElementsMap.has(C)){var x=this._editStackElementsMap.get(C);return x.heapSize()}return 0}},{key:"split",value:function(){return this._editStackElementsArr}},{key:"toString",value:function(){var j=[],C=Object(le.a)(this._editStackElementsArr),x;try{for(C.s();!(x=C.n()).done;){var S=x.value;j.push("".concat(Object(L.b)(S.resource),": ").concat(S))}}catch(T){C.e(T)}finally{C.f()}return"{".concat(j.join(", "),"}")}}]),U}();function F(U){var d=U.getEOL();return d===`
`?0:1}function V(U){return U?U instanceof H||U instanceof W:!1}var N=function(){function U(d,j){Object(De.a)(this,U),this._model=d,this._undoRedoService=j}return Object(E.a)(U,[{key:"pushStackElement",value:function(){var j=this._undoRedoService.getLastElement(this._model.uri);V(j)&&j.close()}},{key:"popStackElement",value:function(){var j=this._undoRedoService.getLastElement(this._model.uri);V(j)&&j.open()}},{key:"clear",value:function(){this._undoRedoService.removeElements(this._model.uri)}},{key:"_getOrCreateEditStackElement",value:function(j,C){var x=this._undoRedoService.getLastElement(this._model.uri);if(V(x)&&x.canAppend(this._model))return x;var S=new H(ve.b("edit","Typing"),"undoredo.textBufferEdit",this._model,j);return this._undoRedoService.pushElement(S,C),S}},{key:"pushEOL",value:function(j){var C=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(j),C.append(this._model,[],F(this._model),this._model.getAlternativeVersionId(),null)}},{key:"pushEditOperation",value:function(j,C,x,S){var T=this._getOrCreateEditStackElement(j,S),z=this._model.applyEdits(C,!0),A=U._computeCursorState(x,z),ue=z.map(function(be,de){return{index:de,textChange:be.textChange}});return ue.sort(function(be,de){return be.textChange.oldPosition===de.textChange.oldPosition?be.index-de.index:be.textChange.oldPosition-de.textChange.oldPosition}),T.append(this._model,ue.map(function(be){return be.textChange}),F(this._model),this._model.getAlternativeVersionId(),A),A}}],[{key:"_computeCursorState",value:function(j,C){try{return j?j(C):null}catch(x){return Object(re.h)(x),null}}}]),U}()},oIHe:function(fn,K,a){"use strict";a.d(K,"e",function(){return J}),a.d(K,"a",function(){return $}),a.d(K,"c",function(){return y}),a.d(K,"b",function(){return Q}),a.d(K,"d",function(){return L});var le=a("N0LK"),De=a("PXCW"),E=a("p1iI"),ve=a("AYRw");function re(ne,ee,H){var W=ne.tokenization.getLanguageIdAtPosition(ee,0);if(ee>1){var F,V=-1;for(F=ee-1;F>=1;F--){if(ne.tokenization.getLanguageIdAtPosition(F,0)!==W)return V;var N=ne.getLineContent(F);if(H.shouldIgnore(N)||/^\s+$/.test(N)||N===""){V=F;continue}return F}}return-1}function J(ne,ee,H){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,F=arguments.length>4?arguments[4]:void 0;if(ne<4)return null;var V=F.getLanguageConfiguration(ee.tokenization.getLanguageId()).indentRulesSupport;if(!V)return null;if(H<=1)return{indentation:"",action:null};for(var N=H-1;N>0&&ee.getLineContent(N)==="";N--)if(N===1)return{indentation:"",action:null};var U=re(ee,H,V);if(U<0)return null;if(U<1)return{indentation:"",action:null};var d=ee.getLineContent(U);if(V.shouldIncrease(d)||V.shouldIndentNextLine(d))return{indentation:le.x(d),action:De.b.Indent,line:U};if(V.shouldDecrease(d))return{indentation:le.x(d),action:null,line:U};if(U===1)return{indentation:le.x(ee.getLineContent(U)),action:null,line:U};var j=U-1,C=V.getIndentMetadata(ee.getLineContent(j));if(!(C&(1|2))&&C&4){for(var x=0,S=j-1;S>0;S--)if(!V.shouldIndentNextLine(ee.getLineContent(S))){x=S;break}return{indentation:le.x(ee.getLineContent(x+1)),action:null,line:x+1}}if(W)return{indentation:le.x(ee.getLineContent(U)),action:null,line:U};for(var T=U;T>0;T--){var z=ee.getLineContent(T);if(V.shouldIncrease(z))return{indentation:le.x(z),action:De.b.Indent,line:T};if(V.shouldIndentNextLine(z)){for(var A=0,ue=T-1;ue>0;ue--)if(!V.shouldIndentNextLine(ee.getLineContent(T))){A=ue;break}return{indentation:le.x(ee.getLineContent(A+1)),action:null,line:A+1}}else if(V.shouldDecrease(z))return{indentation:le.x(z),action:null,line:T}}return{indentation:le.x(ee.getLineContent(1)),action:null,line:1}}function $(ne,ee,H,W,F,V){if(ne<4)return null;var N=V.getLanguageConfiguration(H);if(!N)return null;var U=V.getLanguageConfiguration(H).indentRulesSupport;if(!U)return null;var d=J(ne,ee,W,void 0,V),j=ee.getLineContent(W);if(d){var C=d.line;if(C!==void 0){for(var x=!0,S=C;S<W-1;S++)if(!/^\s*$/.test(ee.getLineContent(S))){x=!1;break}if(x){var T=N.onEnter(ne,"",ee.getLineContent(C),"");if(T){var z=le.x(ee.getLineContent(C));return T.removeText&&(z=z.substring(0,z.length-T.removeText)),T.indentAction===De.b.Indent||T.indentAction===De.b.IndentOutdent?z=F.shiftIndent(z):T.indentAction===De.b.Outdent&&(z=F.unshiftIndent(z)),U.shouldDecrease(j)&&(z=F.unshiftIndent(z)),T.appendText&&(z+=T.appendText),le.x(z)}}}return U.shouldDecrease(j)?d.action===De.b.Indent?d.indentation:F.unshiftIndent(d.indentation):d.action===De.b.Indent?F.shiftIndent(d.indentation):d.indentation}return null}function y(ne,ee,H,W,F){if(ne<4)return null;ee.tokenization.forceTokenization(H.startLineNumber);var V=ee.tokenization.getLineTokens(H.startLineNumber),N=Object(E.a)(V,H.startColumn-1),U=N.getLineContent(),d=!1,j;N.firstCharOffset>0&&V.getLanguageId(0)!==N.languageId?(d=!0,j=U.substr(0,H.startColumn-1-N.firstCharOffset)):j=V.getLineContent().substring(0,H.startColumn-1);var C;if(H.isEmpty())C=U.substr(H.startColumn-1-N.firstCharOffset);else{var x=Object(ve.c)(ee,H.endLineNumber,H.endColumn);C=x.getLineContent().substr(H.endColumn-1-N.firstCharOffset)}var S=F.getLanguageConfiguration(N.languageId).indentRulesSupport;if(!S)return null;var T=j,z=le.x(j),A={tokenization:{getLineTokens:function(ge){return ee.tokenization.getLineTokens(ge)},getLanguageId:function(){return ee.getLanguageId()},getLanguageIdAtPosition:function(ge,ce){return ee.getLanguageIdAtPosition(ge,ce)}},getLineContent:function(ge){return ge===H.startLineNumber?T:ee.getLineContent(ge)}},ue=le.x(V.getLineContent()),be=J(ne,A,H.startLineNumber+1,void 0,F);if(!be){var de=d?ue:z;return{beforeEnter:de,afterEnter:de}}var ke=d?ue:be.indentation;return be.action===De.b.Indent&&(ke=W.shiftIndent(ke)),S.shouldDecrease(C)&&(ke=W.unshiftIndent(ke)),{beforeEnter:d?ue:z,afterEnter:ke}}function Q(ne,ee,H,W,F,V){if(ne<4)return null;var N=Object(ve.c)(ee,H.startLineNumber,H.startColumn);if(N.firstCharOffset)return null;var U=V.getLanguageConfiguration(N.languageId).indentRulesSupport;if(!U)return null;var d=N.getLineContent(),j=d.substr(0,H.startColumn-1-N.firstCharOffset),C;if(H.isEmpty())C=d.substr(H.startColumn-1-N.firstCharOffset);else{var x=Object(ve.c)(ee,H.endLineNumber,H.endColumn);C=x.getLineContent().substr(H.endColumn-1-N.firstCharOffset)}if(!U.shouldDecrease(j+C)&&U.shouldDecrease(j+W+C)){var S=J(ne,ee,H.startLineNumber,!1,V);if(!S)return null;var T=S.indentation;return S.action!==De.b.Indent&&(T=F.unshiftIndent(T)),T}return null}function L(ne,ee,H){var W=H.getLanguageConfiguration(ne.getLanguageId()).indentRulesSupport;return!W||ee<1||ee>ne.getLineCount()?null:W.getIndentMetadata(ne.getLineContent(ee))}},"p+Yh":function(fn,K,a){"use strict";a.d(K,"a",function(){return re});var le=a("fWQN"),De=a("mtLc"),E=a("MI8n"),ve=function(){function J(){Object(le.a)(this,J),this._tabFocusTerminal=!1,this._tabFocusEditor=!1,this._onDidChangeTabFocus=new E.b,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return Object(De.a)(J,[{key:"getTabFocusMode",value:function(y){return y==="terminalFocus"?this._tabFocusTerminal:this._tabFocusEditor}},{key:"setTabFocusMode",value:function(y,Q){Q==="terminalFocus"?this._tabFocusTerminal=y:this._tabFocusEditor=y,this._onDidChangeTabFocus.fire()}}]),J}(),re=new ve},"p/Xk":function(fn,K,a){"use strict";a.d(K,"f",function(){return ve}),a.d(K,"b",function(){return re}),a.d(K,"g",function(){return J}),a.d(K,"h",function(){return $}),a.d(K,"i",function(){return y}),a.d(K,"e",function(){return Q}),a.d(K,"d",function(){return L}),a.d(K,"c",function(){return ne}),a.d(K,"a",function(){return ee});var le=a("rAM+"),De=a("mtLc"),E=a("fWQN"),ve=Object(De.a)(function H(){Object(E.a)(this,H),this.changeType=1}),re=function(){function H(W,F,V,N,U){Object(E.a)(this,H),this.ownerId=W,this.lineNumber=F,this.column=V,this.options=N,this.order=U}return Object(De.a)(H,null,[{key:"applyInjectedText",value:function(F,V){if(!V||V.length===0)return F;var N="",U=0,d=Object(le.a)(V),j;try{for(d.s();!(j=d.n()).done;){var C=j.value;N+=F.substring(U,C.column-1),U=C.column-1,N+=C.options.content}}catch(x){d.e(x)}finally{d.f()}return N+=F.substring(U),N}},{key:"fromDecorations",value:function(F){var V=[],N=Object(le.a)(F),U;try{for(N.s();!(U=N.n()).done;){var d=U.value;d.options.before&&d.options.before.content.length>0&&V.push(new H(d.ownerId,d.range.startLineNumber,d.range.startColumn,d.options.before,0)),d.options.after&&d.options.after.content.length>0&&V.push(new H(d.ownerId,d.range.endLineNumber,d.range.endColumn,d.options.after,1))}}catch(j){N.e(j)}finally{N.f()}return V.sort(function(j,C){return j.lineNumber===C.lineNumber?j.column===C.column?j.order-C.order:j.column-C.column:j.lineNumber-C.lineNumber}),V}}]),H}(),J=Object(De.a)(function H(W,F,V){Object(E.a)(this,H),this.changeType=2,this.lineNumber=W,this.detail=F,this.injectedText=V}),$=Object(De.a)(function H(W,F){Object(E.a)(this,H),this.changeType=3,this.fromLineNumber=W,this.toLineNumber=F}),y=Object(De.a)(function H(W,F,V,N){Object(E.a)(this,H),this.changeType=4,this.injectedTexts=N,this.fromLineNumber=W,this.toLineNumber=F,this.detail=V}),Q=Object(De.a)(function H(){Object(E.a)(this,H),this.changeType=5}),L=function(){function H(W,F,V,N){Object(E.a)(this,H),this.changes=W,this.versionId=F,this.isUndoing=V,this.isRedoing=N,this.resultingSelection=null}return Object(De.a)(H,[{key:"containsEvent",value:function(F){for(var V=0,N=this.changes.length;V<N;V++){var U=this.changes[V];if(U.changeType===F)return!0}return!1}}],[{key:"merge",value:function(F,V){var N=[].concat(F.changes).concat(V.changes),U=V.versionId,d=F.isUndoing||V.isUndoing,j=F.isRedoing||V.isRedoing;return new H(N,U,d,j)}}]),H}(),ne=Object(De.a)(function H(W){Object(E.a)(this,H),this.changes=W}),ee=function(){function H(W,F){Object(E.a)(this,H),this.rawContentChangedEvent=W,this.contentChangedEvent=F}return Object(De.a)(H,[{key:"merge",value:function(F){var V=L.merge(this.rawContentChangedEvent,F.rawContentChangedEvent),N=H._mergeChangeEvents(this.contentChangedEvent,F.contentChangedEvent);return new H(V,N)}}],[{key:"_mergeChangeEvents",value:function(F,V){var N=[].concat(F.changes).concat(V.changes),U=V.eol,d=V.versionId,j=F.isUndoing||V.isUndoing,C=F.isRedoing||V.isRedoing,x=F.isFlush||V.isFlush,S=F.isEolChange&&V.isEolChange;return{changes:N,eol:U,isEolChange:S,versionId:d,isUndoing:j,isRedoing:C,isFlush:x}}}]),H}()},p1iI:function(fn,K,a){"use strict";a.d(K,"a",function(){return E}),a.d(K,"b",function(){return re});var le=a("fWQN"),De=a("mtLc");function E(J,$){for(var y=J.getCount(),Q=J.findTokenIndexAtOffset($),L=J.getLanguageId(Q),ne=Q;ne+1<y&&J.getLanguageId(ne+1)===L;)ne++;for(var ee=Q;ee>0&&J.getLanguageId(ee-1)===L;)ee--;return new ve(J,L,ee,ne+1,J.getStartOffset(ee),J.getEndOffset(ne))}var ve=function(){function J($,y,Q,L,ne,ee){Object(le.a)(this,J),this._scopedLineTokensBrand=void 0,this._actual=$,this.languageId=y,this._firstTokenIndex=Q,this._lastTokenIndex=L,this.firstCharOffset=ne,this._lastCharOffset=ee}return Object(De.a)(J,[{key:"getLineContent",value:function(){var y=this._actual.getLineContent();return y.substring(this.firstCharOffset,this._lastCharOffset)}},{key:"getActualLineContentBefore",value:function(y){var Q=this._actual.getLineContent();return Q.substring(0,this.firstCharOffset+y)}},{key:"getTokenCount",value:function(){return this._lastTokenIndex-this._firstTokenIndex}},{key:"findTokenIndexAtOffset",value:function(y){return this._actual.findTokenIndexAtOffset(y+this.firstCharOffset)-this._firstTokenIndex}},{key:"getStandardTokenType",value:function(y){return this._actual.getStandardTokenType(y+this._firstTokenIndex)}}]),J}();function re(J){return(J&3)!=0}},"pED+":function(fn,K,a){},pYKB:function(fn,K,a){},"pZ+Q":function(fn,K,a){},pdYq:function(fn,K,a){"use strict";a.d(K,"a",function(){return V});var le=a("fWQN"),De=a("mtLc"),E=a("5IQS"),ve=a("DZFm"),re=a("lwGy"),J=a("pvvD");function $(U){if(U.length===0)return null;if(U.length===1)return U[0];var d=0;function j(){if(d>=U.length)return null;var z=d,A=U[z].listHeight;for(d++;d<U.length&&U[d].listHeight===A;)d++;return d-z>=2?y(z===0&&d===U.length?U:U.slice(z,d),!1):U[z]}var C=j(),x=j();if(!x)return C;for(var S=j();S;S=j())Q(C,x)<=Q(x,S)?(C=L(C,x),x=S):x=L(x,S);var T=L(C,x);return T}function y(U){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U.length===0)return null;if(U.length===1)return U[0];for(var j=U.length;j>3;){for(var C=j>>1,x=0;x<C;x++){var S=x<<1;U[x]=E.c.create23(U[S],U[S+1],S+3===j?U[S+2]:null,d)}j=C}return E.c.create23(U[0],U[1],j>=3?U[2]:null,d)}function Q(U,d){return Math.abs(U.listHeight-d.listHeight)}function L(U,d){return U.listHeight===d.listHeight?E.c.create23(U,d,null,!1):U.listHeight>d.listHeight?ne(U,d):ee(d,U)}function ne(U,d){U=U.toMutable();for(var j=U,C=[],x;;){if(d.listHeight===j.listHeight){x=d;break}if(j.kind!==4)throw new Error("unexpected");C.push(j),j=j.makeLastElementMutable()}for(var S=C.length-1;S>=0;S--){var T=C[S];x?T.childrenLength>=3?x=E.c.create23(T.unappendChild(),x,null,!1):(T.appendChildOfSameHeight(x),x=void 0):T.handleChildrenChanged()}return x?E.c.create23(U,x,null,!1):U}function ee(U,d){U=U.toMutable();for(var j=U,C=[];d.listHeight!==j.listHeight;){if(j.kind!==4)throw new Error("unexpected");C.push(j),j=j.makeFirstElementMutable()}for(var x=d,S=C.length-1;S>=0;S--){var T=C[S];x?T.childrenLength>=3?x=E.c.create23(x,T.unprependChild(),null,!1):(T.prependChildOfSameHeight(x),x=void 0):T.handleChildrenChanged()}return x?E.c.create23(x,U,null,!1):U}var H=function(){function U(d){Object(le.a)(this,U),this.lastOffset=J.m,this.nextNodes=[d],this.offsets=[J.m],this.idxs=[]}return Object(De.a)(U,[{key:"readLongestNodeAt",value:function(j,C){if(Object(J.i)(j,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=j;;){var x=F(this.nextNodes);if(!x)return;var S=F(this.offsets);if(Object(J.i)(j,S))return;if(Object(J.i)(S,j))if(Object(J.a)(S,x.length)<=j)this.nextNodeAfterCurrent();else{var T=W(x);T!==-1?(this.nextNodes.push(x.getChild(T)),this.offsets.push(S),this.idxs.push(T)):this.nextNodeAfterCurrent()}else{if(C(x))return this.nextNodeAfterCurrent(),x;var z=W(x);if(z===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(x.getChild(z)),this.offsets.push(S),this.idxs.push(z)}}}},{key:"nextNodeAfterCurrent",value:function(){for(;;){var j=F(this.offsets),C=F(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;var x=F(this.nextNodes),S=W(x,this.idxs[this.idxs.length-1]);if(S!==-1){this.nextNodes.push(x.getChild(S)),this.offsets.push(Object(J.a)(j,C.length)),this.idxs[this.idxs.length-1]=S;break}else this.idxs.pop()}}}]),U}();function W(U){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;;){if(d++,d>=U.childrenLength)return-1;if(U.getChild(d))return d}}function F(U){return U.length>0?U[U.length-1]:void 0}function V(U,d,j,C){var x=new N(U,d,j,C);return x.parseDocument()}var N=function(){function U(d,j,C,x){if(Object(le.a)(this,U),this.tokenizer=d,this.createImmutableLists=x,this._itemsConstructed=0,this._itemsFromCache=0,C&&x)throw new Error("Not supported");this.oldNodeReader=C?new H(C):void 0,this.positionMapper=new ve.a(j)}return Object(De.a)(U,[{key:"parseDocument",value:function(){this._itemsConstructed=0,this._itemsFromCache=0;var j=this.parseList(re.b.getEmpty(),0);return j||(j=E.c.getEmpty()),j}},{key:"parseList",value:function(j,C){for(var x=[];;){var S=this.tryReadChildFromCache(j);if(!S){var T=this.tokenizer.peek();if(!T||T.kind===2&&T.bracketIds.intersects(j))break;S=this.parseChild(j,C+1)}S.kind===4&&S.childrenLength===0||x.push(S)}var z=this.oldNodeReader?$(x):y(x,this.createImmutableLists);return z}},{key:"tryReadChildFromCache",value:function(j){if(this.oldNodeReader){var C=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(C===null||!Object(J.h)(C)){var x=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),function(S){if(C!==null&&!Object(J.i)(S.length,C))return!1;var T=S.canBeReused(j);return T});if(x)return this._itemsFromCache++,this.tokenizer.skip(x.length),x}}}},{key:"parseChild",value:function(j,C){this._itemsConstructed++;var x=this.tokenizer.read();switch(x.kind){case 2:return new E.b(x.bracketIds,x.length);case 0:return x.astNode;case 1:{if(C>300)return new E.e(x.length);var S=j.merge(x.bracketIds),T=this.parseList(S,C+1),z=this.tokenizer.peek();return z&&z.kind===2&&(z.bracketId===x.bracketId||z.bracketIds.intersects(x.bracketIds))?(this.tokenizer.read(),E.d.create(x.astNode,T,z.astNode)):E.d.create(x.astNode,T,null)}default:throw new Error("unexpected")}}}]),U}()},pg8w:function(fn,K,a){"use strict";a.d(K,"a",function(){return F}),a.d(K,"b",function(){return V});var le=a("rAM+"),De=a("oBTY"),E=a("fWQN"),ve=a("mtLc"),re=a("w4Tj"),J=a("oZsa"),$=a("yKVA"),y=a("879j"),Q=a("EffR"),L=a("6OMU"),ne=a("ZCR3"),ee=a("pmY6"),H=a("24hK"),W=function(N,U,d,j){var C=arguments.length,x=C<3?U:j===null?j=Object.getOwnPropertyDescriptor(U,d):j,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(N,U,d,j);else for(var T=N.length-1;T>=0;T--)(S=N[T])&&(x=(C<3?S(x):C>3?S(U,d,x):S(U,d))||x);return C>3&&x&&Object.defineProperty(U,d,x),x},F;(function(N){N.Tap="-monaco-gesturetap",N.Change="-monaco-gesturechange",N.Start="-monaco-gesturestart",N.End="-monaco-gesturesend",N.Contextmenu="-monaco-gesturecontextmenu"})(F||(F={}));var V=function(N){Object($.a)(d,N);var U=Object(y.a)(d);function d(){var j;return Object(E.a)(this,d),j=U.call(this),j.dispatched=!1,j.targets=new H.a,j.ignoreTargets=new H.a,j.activeTouches={},j.handle=null,j._lastSetTapCountTime=0,j._register(Q.addDisposableListener(document,"touchstart",function(C){return j.onTouchStart(C)},{passive:!1})),j._register(Q.addDisposableListener(document,"touchend",function(C){return j.onTouchEnd(C)})),j._register(Q.addDisposableListener(document,"touchmove",function(C){return j.onTouchMove(C)},{passive:!1})),j}return Object(ve.a)(d,[{key:"dispose",value:function(){this.handle&&(this.handle.dispose(),this.handle=null),Object(re.a)(Object(J.a)(d.prototype),"dispose",this).call(this)}},{key:"onTouchStart",value:function(C){var x=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(var S=0,T=C.targetTouches.length;S<T;S++){var z=C.targetTouches.item(S);this.activeTouches[z.identifier]={id:z.identifier,initialTarget:z.target,initialTimeStamp:x,initialPageX:z.pageX,initialPageY:z.pageY,rollingTimestamps:[x],rollingPageX:[z.pageX],rollingPageY:[z.pageY]};var A=this.newGestureEvent(F.Start,z.target);A.pageX=z.pageX,A.pageY=z.pageY,this.dispatchEvent(A)}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}},{key:"onTouchEnd",value:function(C){for(var x=this,S=Date.now(),T=Object.keys(this.activeTouches).length,z=function(ke,he){var ge=C.changedTouches.item(ke);if(!x.activeTouches.hasOwnProperty(String(ge.identifier)))return console.warn("move of an UNKNOWN touch",ge),"continue";var ce=x.activeTouches[ge.identifier],k=Date.now()-ce.initialTimeStamp;if(k<d.HOLD_DELAY&&Math.abs(ce.initialPageX-L.C(ce.rollingPageX))<30&&Math.abs(ce.initialPageY-L.C(ce.rollingPageY))<30){var w=x.newGestureEvent(F.Tap,ce.initialTarget);w.pageX=L.C(ce.rollingPageX),w.pageY=L.C(ce.rollingPageY),x.dispatchEvent(w)}else if(k>=d.HOLD_DELAY&&Math.abs(ce.initialPageX-L.C(ce.rollingPageX))<30&&Math.abs(ce.initialPageY-L.C(ce.rollingPageY))<30){var B=x.newGestureEvent(F.Contextmenu,ce.initialTarget);B.pageX=L.C(ce.rollingPageX),B.pageY=L.C(ce.rollingPageY),x.dispatchEvent(B)}else if(T===1){var Y=L.C(ce.rollingPageX),pe=L.C(ce.rollingPageY),me=L.C(ce.rollingTimestamps)-ce.rollingTimestamps[0],I=Y-ce.rollingPageX[0],we=pe-ce.rollingPageY[0],Re=Object(De.a)(x.targets).filter(function(Oe){return ce.initialTarget instanceof Node&&Oe.contains(ce.initialTarget)});x.inertia(Re,S,Math.abs(I)/me,I>0?1:-1,Y,Math.abs(we)/me,we>0?1:-1,pe)}x.dispatchEvent(x.newGestureEvent(F.End,ce.initialTarget)),delete x.activeTouches[ge.identifier]},A=0,ue=C.changedTouches.length;A<ue;A++)var be=z(A,ue);this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}},{key:"newGestureEvent",value:function(C,x){var S=document.createEvent("CustomEvent");return S.initEvent(C,!1,!0),S.initialTarget=x,S.tapCount=0,S}},{key:"dispatchEvent",value:function(C){if(C.type===F.Tap){var x=new Date().getTime(),S=0;x-this._lastSetTapCountTime>d.CLEAR_TAP_COUNT_TIME?S=1:S=2,this._lastSetTapCountTime=x,C.tapCount=S}else(C.type===F.Change||C.type===F.Contextmenu)&&(this._lastSetTapCountTime=0);if(C.initialTarget instanceof Node){var T=Object(le.a)(this.ignoreTargets),z;try{for(T.s();!(z=T.n()).done;){var A=z.value;if(A.contains(C.initialTarget))return}}catch(ke){T.e(ke)}finally{T.f()}var ue=Object(le.a)(this.targets),be;try{for(ue.s();!(be=ue.n()).done;){var de=be.value;de.contains(C.initialTarget)&&(de.dispatchEvent(C),this.dispatched=!0)}}catch(ke){ue.e(ke)}finally{ue.f()}}}},{key:"inertia",value:function(C,x,S,T,z,A,ue,be){var de=this;this.handle=Q.scheduleAtNextAnimationFrame(function(){var ke=Date.now(),he=ke-x,ge=0,ce=0,k=!0;S+=d.SCROLL_FRICTION*he,A+=d.SCROLL_FRICTION*he,S>0&&(k=!1,ge=T*S*he),A>0&&(k=!1,ce=ue*A*he);var w=de.newGestureEvent(F.Change);w.translationX=ge,w.translationY=ce,C.forEach(function(B){return B.dispatchEvent(w)}),k||de.inertia(C,ke,S,T,z+ge,A,ue,be+ce)})}},{key:"onTouchMove",value:function(C){for(var x=Date.now(),S=0,T=C.changedTouches.length;S<T;S++){var z=C.changedTouches.item(S);if(!this.activeTouches.hasOwnProperty(String(z.identifier))){console.warn("end of an UNKNOWN touch",z);continue}var A=this.activeTouches[z.identifier],ue=this.newGestureEvent(F.Change,A.initialTarget);ue.translationX=z.pageX-L.C(A.rollingPageX),ue.translationY=z.pageY-L.C(A.rollingPageY),ue.pageX=z.pageX,ue.pageY=z.pageY,this.dispatchEvent(ue),A.rollingPageX.length>3&&(A.rollingPageX.shift(),A.rollingPageY.shift(),A.rollingTimestamps.shift()),A.rollingPageX.push(z.pageX),A.rollingPageY.push(z.pageY),A.rollingTimestamps.push(x)}this.dispatched&&(C.preventDefault(),C.stopPropagation(),this.dispatched=!1)}}],[{key:"addTarget",value:function(C){if(!d.isTouchDevice())return ee.a.None;d.INSTANCE||(d.INSTANCE=new d);var x=d.INSTANCE.targets.push(C);return Object(ee.l)(x)}},{key:"ignoreTarget",value:function(C){if(!d.isTouchDevice())return ee.a.None;d.INSTANCE||(d.INSTANCE=new d);var x=d.INSTANCE.ignoreTargets.push(C);return Object(ee.l)(x)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0}}]),d}(ee.a);V.SCROLL_FRICTION=-.005,V.HOLD_DELAY=700,V.CLEAR_TAP_COUNT_TIME=400,W([ne.a],V,"isTouchDevice",null)},pmY6:function(fn,K,a){"use strict";a.d(K,"k",function(){return W}),a.d(K,"j",function(){return F}),a.d(K,"i",function(){return V}),a.d(K,"h",function(){return N}),a.d(K,"l",function(){return U}),a.d(K,"c",function(){return d}),a.d(K,"a",function(){return j}),a.d(K,"e",function(){return C}),a.d(K,"f",function(){return x}),a.d(K,"g",function(){return S}),a.d(K,"d",function(){return T}),a.d(K,"b",function(){return z});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("C/vA"),re=a("JYp7"),J=!1,$=null;function y(A){$=A}if(J){var Q="__is_disposable_tracked__";y(new(function(){function A(){Object(De.a)(this,A)}return Object(E.a)(A,[{key:"trackDisposable",value:function(be){var de=new Error("Potentially leaked disposable").stack;setTimeout(function(){be[Q]||console.log(de)},3e3)}},{key:"setParent",value:function(be,de){if(be&&be!==j.None)try{be[Q]=!0}catch(ke){}}},{key:"markAsDisposed",value:function(be){if(be&&be!==j.None)try{be[Q]=!0}catch(de){}}},{key:"markAsSingleton",value:function(be){}}]),A}()))}function L(A){return $==null||$.trackDisposable(A),A}function ne(A){$==null||$.markAsDisposed(A)}function ee(A,ue){$==null||$.setParent(A,ue)}function H(A,ue){if(!!$){var be=Object(le.a)(A),de;try{for(be.s();!(de=be.n()).done;){var ke=de.value;$.setParent(ke,ue)}}catch(he){be.e(he)}finally{be.f()}}}function W(A){return $==null||$.markAsSingleton(A),A}function F(A){return typeof A.dispose=="function"&&A.dispose.length===0}function V(A){if(re.a.is(A)){var ue=[],be=Object(le.a)(A),de;try{for(be.s();!(de=be.n()).done;){var ke=de.value;if(ke)try{ke.dispose()}catch(he){ue.push(he)}}}catch(he){be.e(he)}finally{be.f()}if(ue.length===1)throw ue[0];if(ue.length>1)throw new AggregateError(ue,"Encountered errors while disposing of store");return Array.isArray(A)?[]:A}else if(A)return A.dispose(),A}function N(){for(var A=arguments.length,ue=new Array(A),be=0;be<A;be++)ue[be]=arguments[be];var de=U(function(){return V(ue)});return H(ue,de),de}function U(A){var ue=L({dispose:Object(ve.a)(function(){ne(ue),A()})});return ue}var d=function(){function A(){Object(De.a)(this,A),this._toDispose=new Set,this._isDisposed=!1,L(this)}return Object(E.a)(A,[{key:"dispose",value:function(){this._isDisposed||(ne(this),this._isDisposed=!0,this.clear())}},{key:"isDisposed",get:function(){return this._isDisposed}},{key:"clear",value:function(){if(this._toDispose.size!==0)try{V(this._toDispose)}finally{this._toDispose.clear()}}},{key:"add",value:function(be){if(!be)return be;if(be===this)throw new Error("Cannot register a disposable on itself!");return ee(be,this),this._isDisposed?A.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(be),be}}]),A}();d.DISABLE_DISPOSED_WARNING=!1;var j=function(){function A(){Object(De.a)(this,A),this._store=new d,L(this),ee(this._store,this)}return Object(E.a)(A,[{key:"dispose",value:function(){ne(this),this._store.dispose()}},{key:"_register",value:function(be){if(be===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(be)}}]),A}();j.None=Object.freeze({dispose:function(){}});var C=function(){function A(){Object(De.a)(this,A),this._isDisposed=!1,L(this)}return Object(E.a)(A,[{key:"value",get:function(){return this._isDisposed?void 0:this._value},set:function(be){var de;this._isDisposed||be===this._value||((de=this._value)===null||de===void 0||de.dispose(),be&&ee(be,this),this._value=be)}},{key:"clear",value:function(){this.value=void 0}},{key:"dispose",value:function(){var be;this._isDisposed=!0,ne(this),(be=this._value)===null||be===void 0||be.dispose(),this._value=void 0}}]),A}(),x=function(){function A(ue){Object(De.a)(this,A),this._disposable=ue,this._counter=1}return Object(E.a)(A,[{key:"acquire",value:function(){return this._counter++,this}},{key:"release",value:function(){return--this._counter==0&&this._disposable.dispose(),this}}]),A}(),S=function(){function A(){Object(De.a)(this,A),this.dispose=function(){},this.unset=function(){},this.isset=function(){return!1},L(this)}return Object(E.a)(A,[{key:"set",value:function(be){var de=this,ke=be;return this.unset=function(){return ke=void 0},this.isset=function(){return ke!==void 0},this.dispose=function(){ke&&(ke(),ke=void 0,ne(de))},this}}]),A}(),T=function(){function A(ue){Object(De.a)(this,A),this.object=ue}return Object(E.a)(A,[{key:"dispose",value:function(){}}]),A}(),z=function(A){function ue(){Object(De.a)(this,ue),this._store=new Map,this._isDisposed=!1,L(this)}return Object(E.a)(ue,[{key:"dispose",value:function(){ne(this),this._isDisposed=!0,this.clearAndDisposeAll()}},{key:"clearAndDisposeAll",value:function(){if(!!this._store.size)try{V(this._store.values())}finally{this._store.clear()}}},{key:"get",value:function(de){return this._store.get(de)}},{key:"set",value:function(de,ke){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ge;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),he||(ge=this._store.get(de))===null||ge===void 0||ge.dispose(),this._store.set(de,ke)}},{key:"deleteAndDispose",value:function(de){var ke;(ke=this._store.get(de))===null||ke===void 0||ke.dispose(),this._store.delete(de)}},{key:A,value:function(){return this._store[Symbol.iterator]()}}]),ue}(Symbol.iterator)},prHu:function(fn,K,a){},pvvD:function(fn,K,a){"use strict";a.d(K,"b",function(){return J}),a.d(K,"m",function(){return $}),a.d(K,"h",function(){return y}),a.d(K,"q",function(){return L}),a.d(K,"l",function(){return ne}),a.d(K,"f",function(){return ee}),a.d(K,"e",function(){return H}),a.d(K,"a",function(){return W}),a.d(K,"p",function(){return F}),a.d(K,"d",function(){return V}),a.d(K,"c",function(){return N}),a.d(K,"i",function(){return U}),a.d(K,"j",function(){return d}),a.d(K,"g",function(){return j}),a.d(K,"o",function(){return C}),a.d(K,"n",function(){return x}),a.d(K,"k",function(){return S});var le=a("fWQN"),De=a("mtLc"),E=a("N0LK"),ve=a("aokT"),re=function(){function T(z,A){Object(le.a)(this,T),this.lineCount=z,this.columnCount=A}return Object(De.a)(T,[{key:"toString",value:function(){return"".concat(this.lineCount,",").concat(this.columnCount)}}]),T}();re.zero=new re(0,0);function J(T,z,A,ue){return T!==A?L(A-T,ue):L(0,ue-z)}var $=0;function y(T){return T===0}var Q=Math.pow(2,26);function L(T,z){return T*Q+z}function ne(T){var z=T,A=Math.floor(z/Q),ue=z-A*Q;return new re(A,ue)}function ee(T){return Math.floor(T/Q)}function H(T){return T}function W(T,z){var A=T+z;return z>=Q&&(A=A-T%Q),A}function F(T,z){return T.reduce(function(A,ue){return W(A,z(ue))},$)}function V(T,z){return T===z}function N(T,z){var A=T,ue=z,be=ue-A;if(be<=0)return $;var de=Math.floor(A/Q),ke=Math.floor(ue/Q),he=ue-ke*Q;if(de===ke){var ge=A-de*Q;return L(0,he-ge)}else return L(ke-de,he)}function U(T,z){return T<z}function d(T,z){return T<=z}function j(T,z){return T>=z}function C(T){return L(T.lineNumber-1,T.column-1)}function x(T,z){var A=T,ue=Math.floor(A/Q),be=A-ue*Q,de=z,ke=Math.floor(de/Q),he=de-ke*Q;return new ve.a(ue+1,be+1,ke+1,he+1)}function S(T){var z=Object(E.S)(T);return L(z.length-1,z[z.length-1].length)}},"q/I2":function(fn,K,a){},q63c:function(fn,K,a){"use strict";a.d(K,"b",function(){return E}),a.d(K,"a",function(){return ve});var le=a("fWQN"),De=a("mtLc"),E=function(){function re(J){Object(le.a)(this,re),this.fn=J,this.lastCache=void 0,this.lastArgKey=void 0}return Object(De.a)(re,[{key:"get",value:function($){var y=JSON.stringify($);return this.lastArgKey!==y&&(this.lastArgKey=y,this.lastCache=this.fn($)),this.lastCache}}]),re}(),ve=function(){function re(J){Object(le.a)(this,re),this.fn=J,this._map=new Map}return Object(De.a)(re,[{key:"cachedValues",get:function(){return this._map}},{key:"get",value:function($){if(this._map.has($))return this._map.get($);var y=this.fn($);return this._map.set($,y),y}}]),re}()},qj0h:function(fn,K,a){"use strict";a.d(K,"c",function(){return ve}),a.d(K,"d",function(){return re}),a.d(K,"a",function(){return $}),a.d(K,"g",function(){return Q}),a.d(K,"e",function(){return L}),a.d(K,"f",function(){return ee}),a.d(K,"b",function(){return H});var le=a("rAM+"),De=a("tJVT"),E=a("746U");function ve(W){if(!W||typeof W!="object"||W instanceof RegExp)return W;var F=Array.isArray(W)?[]:{};return Object.entries(W).forEach(function(V){var N=Object(De.a)(V,2),U=N[0],d=N[1];F[U]=d&&typeof d=="object"?ve(d):d}),F}function re(W){if(!W||typeof W!="object")return W;for(var F=[W];F.length>0;){var V=F.shift();Object.freeze(V);for(var N in V)if(J.call(V,N)){var U=V[N];typeof U=="object"&&!Object.isFrozen(U)&&!Object(E.j)(U)&&F.push(U)}}return W}var J=Object.prototype.hasOwnProperty;function $(W,F){return y(W,F,new Set)}function y(W,F,V){if(Object(E.l)(W))return W;var N=F(W);if(typeof N!="undefined")return N;if(Array.isArray(W)){var U=[],d=Object(le.a)(W),j;try{for(d.s();!(j=d.n()).done;){var C=j.value;U.push(y(C,F,V))}}catch(T){d.e(T)}finally{d.f()}return U}if(Object(E.h)(W)){if(V.has(W))throw new Error("Cannot clone recursive data-structure");V.add(W);var x={};for(var S in W)J.call(W,S)&&(x[S]=y(W[S],F,V));return V.delete(W),x}return W}function Q(W,F){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Object(E.h)(W)?(Object(E.h)(F)&&Object.keys(F).forEach(function(N){N in W?V&&(Object(E.h)(W[N])&&Object(E.h)(F[N])?Q(W[N],F[N],V):W[N]=F[N]):W[N]=F[N]}),W):F}function L(W,F){if(W===F)return!0;if(W==null||F===null||F===void 0||typeof W!=typeof F||typeof W!="object"||Array.isArray(W)!==Array.isArray(F))return!1;var V,N;if(Array.isArray(W)){if(W.length!==F.length)return!1;for(V=0;V<W.length;V++)if(!L(W[V],F[V]))return!1}else{var U=[];for(N in W)U.push(N);U.sort();var d=[];for(N in F)d.push(N);if(d.sort(),!L(U,d))return!1;for(V=0;V<U.length;V++)if(!L(W[U[V]],F[U[V]]))return!1}return!0}function ne(W){for(var F=[],V=Object.getPrototypeOf(W);Object.prototype!==V;)F=F.concat(Object.getOwnPropertyNames(V)),V=Object.getPrototypeOf(V);return F}function ee(W){var F=[],V=Object(le.a)(ne(W)),N;try{for(V.s();!(N=V.n()).done;){var U=N.value;typeof W[U]=="function"&&F.push(U)}}catch(d){V.e(d)}finally{V.f()}return F}function H(W,F){var V=function(x){return function(){var S=Array.prototype.slice.call(arguments,0);return F(x,S)}},N={},U=Object(le.a)(W),d;try{for(U.s();!(d=U.n()).done;){var j=d.value;N[j]=V(j)}}catch(C){U.e(C)}finally{U.f()}return N}},r0BQ:function(fn,K,a){"use strict";a.d(K,"a",function(){return E});var le=a("mtLc"),De=a("fWQN"),E=Object(le.a)(function ve(re){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object(De.a)(this,ve),this.ctor=re,this.staticArguments=J,this.supportsDelayedInstantiation=$})},r6Ki:function(fn,K,a){},"rAM+":function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Qw5x");function De(E,ve){var re=typeof Symbol!="undefined"&&E[Symbol.iterator]||E["@@iterator"];if(!re){if(Array.isArray(E)||(re=Object(le.a)(E))||ve&&E&&typeof E.length=="number"){re&&(E=re);var J=0,$=function(){};return{s:$,n:function(){return J>=E.length?{done:!0}:{done:!1,value:E[J++]}},e:function(ee){throw ee},f:$}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=!0,Q=!1,L;return{s:function(){re=re.call(E)},n:function(){var ee=re.next();return y=ee.done,ee},e:function(ee){Q=!0,L=ee},f:function(){try{!y&&re.return!=null&&re.return()}finally{if(Q)throw L}}}}},rKjB:function(fn,K,a){},rmIC:function(fn,K,a){},rmhi:function(fn,K,a){"use strict";a.d(K,"a",function(){return x});var le=a("2qtc"),De=a("kLXV"),E=a("x+uP"),ve=a("HaE+"),re=a("VTBJ"),J=a("ODXe"),$=a("GNNt"),y=a("wEI+"),Q=a("Ff2n"),L=a("nKUr"),ne=a.n(L),ee=a("2oH+"),H=a.n(ee),W=a("6cGi"),F=a("Kwbf"),V=a("q1tI"),N=a.n(V),U=a("i8i4"),d=a.n(U),j=a("T1Ok"),C=["children","trigger","onVisibleChange","modalProps","onFinish","submitTimeout","title","width","visible"];function x(S){var T,z,A,ue,be=S.children,de=S.trigger,ke=S.onVisibleChange,he=S.modalProps,ge=S.onFinish,ce=S.submitTimeout,k=S.title,w=S.width,B=S.visible,Y=Object(Q.a)(S,C);Object(F.b)(!Y.footer||!(he==null?void 0:he.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var pe=Object(V.useContext)(y.a.ConfigContext),me=Object(V.useState)([]),I=Object(J.a)(me,2),we=I[1],Re=Object(V.useState)(!1),Oe=Object(J.a)(Re,2),Pe=Oe[0],Ne=Oe[1],Ke=Object(W.a)(!!B,{value:B,onChange:ke}),Xe=Object(J.a)(Ke,2),wt=Xe[0],Ct=Xe[1],bt=Object(V.useRef)(null),mt=Object(V.useCallback)(function(Ee){bt.current===null&&Ee&&we([]),bt.current=Ee},[]),jt=Object(V.useRef)(),Je=Object(V.useCallback)(function(){var Ee,Ge,$e,We=(Ee=(Ge=Y.form)!==null&&Ge!==void 0?Ge:($e=Y.formRef)===null||$e===void 0?void 0:$e.current)!==null&&Ee!==void 0?Ee:jt.current;We&&(he==null?void 0:he.destroyOnClose)&&We.resetFields()},[he==null?void 0:he.destroyOnClose,Y.form,Y.formRef]);Object(V.useEffect)(function(){wt&&B&&(ke==null||ke(!0))},[B,wt]);var Wt=Object(V.useMemo)(function(){return de?N.a.cloneElement(de,Object(re.a)(Object(re.a)({key:"trigger"},de.props),{},{onClick:function(){var Ee=Object(ve.a)(Object(E.a)().mark(function $e(We){var it,Fe;return Object(E.a)().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:Ct(!wt),(it=de.props)===null||it===void 0||(Fe=it.onClick)===null||Fe===void 0||Fe.call(it,We);case 2:case"end":return Ye.stop()}},$e)}));function Ge($e){return Ee.apply(this,arguments)}return Ge}()})):null},[Ct,de,wt]),Te=Object(V.useMemo)(function(){var Ee,Ge,$e,We,it,Fe,He,Ye;return Y.submitter===!1?!1:H()({searchConfig:{submitText:(Ee=(Ge=he==null?void 0:he.okText)!==null&&Ge!==void 0?Ge:($e=pe.locale)===null||$e===void 0||(We=$e.Modal)===null||We===void 0?void 0:We.okText)!==null&&Ee!==void 0?Ee:"\u786E\u8BA4",resetText:(it=(Fe=he==null?void 0:he.cancelText)!==null&&Fe!==void 0?Fe:(He=pe.locale)===null||He===void 0||(Ye=He.Modal)===null||Ye===void 0?void 0:Ye.cancelText)!==null&&it!==void 0?it:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:ce?Pe:void 0,onClick:function(Kt){var gt;Ct(!1),Je(),he==null||(gt=he.onCancel)===null||gt===void 0||gt.call(he,Kt)}}},Y.submitter)},[(T=pe.locale)===null||T===void 0||(z=T.Modal)===null||z===void 0?void 0:z.cancelText,(A=pe.locale)===null||A===void 0||(ue=A.Modal)===null||ue===void 0?void 0:ue.okText,he,Y.submitter,Ct,Pe,ce,Je]),fe=Object(V.useCallback)(function(Ee,Ge){return Object(L.jsxs)(L.Fragment,{children:[Ee,bt.current&&Ge?Object(U.createPortal)(Ge,bt.current):Ge]})},[]),ye=Object(V.useCallback)(function(){var Ee=Object(ve.a)(Object(E.a)().mark(function Ge($e){var We,it,Fe;return Object(E.a)().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return We=ge==null?void 0:ge($e),ce&&We instanceof Promise&&(Ne(!0),it=setTimeout(function(){return Ne(!1)},ce),We.finally(function(){clearTimeout(it),Ne(!1)})),Ye.next=4,We;case 4:return Fe=Ye.sent,Fe&&Ct(!1),Ye.abrupt("return",Fe);case 7:case"end":return Ye.stop()}},Ge)}));return function(Ge){return Ee.apply(this,arguments)}}(),[ge,Ct,ce]);return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(De.a,Object(re.a)(Object(re.a)({title:k,width:w||800},he),{},{visible:wt,onCancel:function(Ge){var $e;ce&&Pe||(Ct(!1),he==null||($e=he.onCancel)===null||$e===void 0||$e.call(he,Ge))},afterClose:function(){var Ge;Je(),he==null||(Ge=he.afterClose)===null||Ge===void 0||Ge.call(he)},footer:Y.submitter!==!1&&Object(L.jsx)("div",{ref:mt,style:{display:"flex",justifyContent:"flex-end"}}),children:Object(L.jsx)(j.a,Object(re.a)(Object(re.a)({formComponentType:"ModalForm",layout:"vertical",formRef:jt},Y),{},{submitter:Te,onFinish:function(){var Ee=Object(ve.a)(Object(E.a)().mark(function $e(We){var it;return Object(E.a)().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return He.next=2,ye(We);case 2:return it=He.sent,it===!0&&Je(),He.abrupt("return",it);case 5:case"end":return He.stop()}},$e)}));function Ge($e){return Ee.apply(this,arguments)}return Ge}(),contentRender:fe,children:be}))})),Wt]})}},s1IP:function(fn,K,a){},s3yj:function(fn,K,a){"use strict";a.d(K,"a",function(){return E});var le=a("PXCW"),De=a("AYRw");function E(ve,re,J,$){var y=Object(De.c)(re,J.startLineNumber,J.startColumn),Q=$.getLanguageConfiguration(y.languageId);if(!Q)return null;var L=y.getLineContent(),ne=L.substr(0,J.startColumn-1-y.firstCharOffset),ee;if(J.isEmpty())ee=L.substr(J.startColumn-1-y.firstCharOffset);else{var H=Object(De.c)(re,J.endLineNumber,J.endColumn);ee=H.getLineContent().substr(J.endColumn-1-y.firstCharOffset)}var W="";if(J.startLineNumber>1&&y.firstCharOffset===0){var F=Object(De.c)(re,J.startLineNumber-1);F.languageId===y.languageId&&(W=F.getLineContent())}var V=Q.onEnter(ve,W,ne,ee);if(!V)return null;var N=V.indentAction,U=V.appendText,d=V.removeText||0;U?N===le.b.Indent&&(U="	"+U):N===le.b.Indent||N===le.b.IndentOutdent?U="	":U="";var j=Object(De.b)(re,J.startLineNumber,J.startColumn);return d&&(j=j.substring(0,j.length-d)),{indentAction:N,appendText:U,removeText:d,indentation:j}}},sE09:function(fn,K,a){},sFUC:function(fn,K,a){"use strict";a.d(K,"b",function(){return De}),a.d(K,"c",function(){return E}),a.d(K,"a",function(){return re});var le=a("iuje");function De(J){return J&&typeof J.getEditorType=="function"?J.getEditorType()===le.a.ICodeEditor:!1}function E(J){return J&&typeof J.getEditorType=="function"?J.getEditorType()===le.a.IDiffEditor:!1}function ve(J){return!!J&&typeof J=="object"&&typeof J.onDidChangeActiveEditor=="function"}function re(J){return De(J)?J:E(J)?J.getModifiedEditor():ve(J)&&De(J.activeCodeEditor)?J.activeCodeEditor:null}},sM1p:function(fn,K,a){"use strict";a.d(K,"c",function(){return re}),a.d(K,"a",function(){return J}),a.d(K,"b",function(){return $});var le=a("mtLc"),De=a("fWQN"),E=a("S3by"),ve=a("Cg/j"),re=E.a,J=Object(ve.c)("notificationService"),$=Object(le.a)(function y(){Object(De.a)(this,y)})},sVcW:function(fn,K,a){"use strict";a.d(K,"b",function(){return Q}),a.d(K,"a",function(){return L});var le=a("fWQN"),De=a("mtLc"),E=a("746U"),ve=a("LLum"),re=a("mJFO"),J=a("6FFW"),$=a("cGHE"),y=a("aokT"),Q=function(){function ne(){Object(le.a)(this,ne)}return Object(De.a)(ne,null,[{key:"addCursorDown",value:function(H,W,F){for(var V=[],N=0,U=0,d=W.length;U<d;U++){var j=W[U];V[N++]=new ve.b(j.modelState,j.viewState),F?V[N++]=ve.b.fromModelState(re.a.translateDown(H.cursorConfig,H.model,j.modelState)):V[N++]=ve.b.fromViewState(re.a.translateDown(H.cursorConfig,H,j.viewState))}return V}},{key:"addCursorUp",value:function(H,W,F){for(var V=[],N=0,U=0,d=W.length;U<d;U++){var j=W[U];V[N++]=new ve.b(j.modelState,j.viewState),F?V[N++]=ve.b.fromModelState(re.a.translateUp(H.cursorConfig,H.model,j.modelState)):V[N++]=ve.b.fromViewState(re.a.translateUp(H.cursorConfig,H,j.viewState))}return V}},{key:"moveToBeginningOfLine",value:function(H,W,F){for(var V=[],N=0,U=W.length;N<U;N++){var d=W[N];V[N]=this._moveToLineStart(H,d,F)}return V}},{key:"_moveToLineStart",value:function(H,W,F){var V=W.viewState.position.column,N=W.modelState.position.column,U=V===N,d=W.viewState.position.lineNumber,j=H.getLineFirstNonWhitespaceColumn(d),C=V===j;return!U&&!C?this._moveToLineStartByView(H,W,F):this._moveToLineStartByModel(H,W,F)}},{key:"_moveToLineStartByView",value:function(H,W,F){return ve.b.fromViewState(re.a.moveToBeginningOfLine(H.cursorConfig,H,W.viewState,F))}},{key:"_moveToLineStartByModel",value:function(H,W,F){return ve.b.fromModelState(re.a.moveToBeginningOfLine(H.cursorConfig,H.model,W.modelState,F))}},{key:"moveToEndOfLine",value:function(H,W,F,V){for(var N=[],U=0,d=W.length;U<d;U++){var j=W[U];N[U]=this._moveToLineEnd(H,j,F,V)}return N}},{key:"_moveToLineEnd",value:function(H,W,F,V){var N=W.viewState.position,U=H.getLineMaxColumn(N.lineNumber),d=N.column===U,j=W.modelState.position,C=H.model.getLineMaxColumn(j.lineNumber),x=U-N.column==C-j.column;return d||x?this._moveToLineEndByModel(H,W,F,V):this._moveToLineEndByView(H,W,F,V)}},{key:"_moveToLineEndByView",value:function(H,W,F,V){return ve.b.fromViewState(re.a.moveToEndOfLine(H.cursorConfig,H,W.viewState,F,V))}},{key:"_moveToLineEndByModel",value:function(H,W,F,V){return ve.b.fromModelState(re.a.moveToEndOfLine(H.cursorConfig,H.model,W.modelState,F,V))}},{key:"expandLineSelection",value:function(H,W){for(var F=[],V=0,N=W.length;V<N;V++){var U=W[V],d=U.modelState.selection.startLineNumber,j=H.model.getLineCount(),C=U.modelState.selection.endLineNumber,x=void 0;C===j?x=H.model.getLineMaxColumn(j):(C++,x=1),F[V]=ve.b.fromModelState(new ve.d(new y.a(d,1,d,1),0,0,new $.a(C,x),0))}return F}},{key:"moveToBeginningOfBuffer",value:function(H,W,F){for(var V=[],N=0,U=W.length;N<U;N++){var d=W[N];V[N]=ve.b.fromModelState(re.a.moveToBeginningOfBuffer(H.cursorConfig,H.model,d.modelState,F))}return V}},{key:"moveToEndOfBuffer",value:function(H,W,F){for(var V=[],N=0,U=W.length;N<U;N++){var d=W[N];V[N]=ve.b.fromModelState(re.a.moveToEndOfBuffer(H.cursorConfig,H.model,d.modelState,F))}return V}},{key:"selectAll",value:function(H,W){var F=H.model.getLineCount(),V=H.model.getLineMaxColumn(F);return ve.b.fromModelState(new ve.d(new y.a(1,1,1,1),0,0,new $.a(F,V),0))}},{key:"line",value:function(H,W,F,V,N){var U=H.model.validatePosition(V),d=N?H.coordinatesConverter.validateViewPosition(new $.a(N.lineNumber,N.column),U):H.coordinatesConverter.convertModelPositionToViewPosition(U);if(!F){var j=H.model.getLineCount(),C=U.lineNumber+1,x=1;return C>j&&(C=j,x=H.model.getLineMaxColumn(C)),ve.b.fromModelState(new ve.d(new y.a(U.lineNumber,1,C,x),2,0,new $.a(C,x),0))}var S=W.modelState.selectionStart.getStartPosition().lineNumber;if(U.lineNumber<S)return ve.b.fromViewState(W.viewState.move(!0,d.lineNumber,1,0));if(U.lineNumber>S){var T=H.getLineCount(),z=d.lineNumber+1,A=1;return z>T&&(z=T,A=H.getLineMaxColumn(z)),ve.b.fromViewState(W.viewState.move(!0,z,A,0))}else{var ue=W.modelState.selectionStart.getEndPosition();return ve.b.fromModelState(W.modelState.move(!0,ue.lineNumber,ue.column,0))}}},{key:"word",value:function(H,W,F,V){var N=H.model.validatePosition(V);return ve.b.fromModelState(J.a.word(H.cursorConfig,H.model,W.modelState,F,N))}},{key:"cancelSelection",value:function(H,W){if(!W.modelState.hasSelection())return new ve.b(W.modelState,W.viewState);var F=W.viewState.position.lineNumber,V=W.viewState.position.column;return ve.b.fromViewState(new ve.d(new y.a(F,V,F,V),0,0,new $.a(F,V),0))}},{key:"moveTo",value:function(H,W,F,V,N){if(F){if(W.modelState.selectionStartKind===1)return this.word(H,W,F,V);if(W.modelState.selectionStartKind===2)return this.line(H,W,F,V,N)}var U=H.model.validatePosition(V),d=N?H.coordinatesConverter.validateViewPosition(new $.a(N.lineNumber,N.column),U):H.coordinatesConverter.convertModelPositionToViewPosition(U);return ve.b.fromViewState(W.viewState.move(F,d.lineNumber,d.column,0))}},{key:"simpleMove",value:function(H,W,F,V,N,U){switch(F){case 0:return U===4?this._moveHalfLineLeft(H,W,V):this._moveLeft(H,W,V,N);case 1:return U===4?this._moveHalfLineRight(H,W,V):this._moveRight(H,W,V,N);case 2:return U===2?this._moveUpByViewLines(H,W,V,N):this._moveUpByModelLines(H,W,V,N);case 3:return U===2?this._moveDownByViewLines(H,W,V,N):this._moveDownByModelLines(H,W,V,N);case 4:return U===2?W.map(function(d){return ve.b.fromViewState(re.a.moveToPrevBlankLine(H.cursorConfig,H,d.viewState,V))}):W.map(function(d){return ve.b.fromModelState(re.a.moveToPrevBlankLine(H.cursorConfig,H.model,d.modelState,V))});case 5:return U===2?W.map(function(d){return ve.b.fromViewState(re.a.moveToNextBlankLine(H.cursorConfig,H,d.viewState,V))}):W.map(function(d){return ve.b.fromModelState(re.a.moveToNextBlankLine(H.cursorConfig,H.model,d.modelState,V))});case 6:return this._moveToViewMinColumn(H,W,V);case 7:return this._moveToViewFirstNonWhitespaceColumn(H,W,V);case 8:return this._moveToViewCenterColumn(H,W,V);case 9:return this._moveToViewMaxColumn(H,W,V);case 10:return this._moveToViewLastNonWhitespaceColumn(H,W,V);default:return null}}},{key:"viewportMove",value:function(H,W,F,V,N){var U=H.getCompletelyVisibleViewRange(),d=H.coordinatesConverter.convertViewRangeToModelRange(U);switch(F){case 11:{var j=this._firstLineNumberInRange(H.model,d,N),C=H.model.getLineFirstNonWhitespaceColumn(j);return[this._moveToModelPosition(H,W[0],V,j,C)]}case 13:{var x=this._lastLineNumberInRange(H.model,d,N),S=H.model.getLineFirstNonWhitespaceColumn(x);return[this._moveToModelPosition(H,W[0],V,x,S)]}case 12:{var T=Math.round((d.startLineNumber+d.endLineNumber)/2),z=H.model.getLineFirstNonWhitespaceColumn(T);return[this._moveToModelPosition(H,W[0],V,T,z)]}case 14:{for(var A=[],ue=0,be=W.length;ue<be;ue++){var de=W[ue];A[ue]=this.findPositionInViewportIfOutside(H,de,U,V)}return A}default:return null}}},{key:"findPositionInViewportIfOutside",value:function(H,W,F,V){var N=W.viewState.position.lineNumber;if(F.startLineNumber<=N&&N<=F.endLineNumber-1)return new ve.b(W.modelState,W.viewState);var U;N>F.endLineNumber-1?U=F.endLineNumber-1:N<F.startLineNumber?U=F.startLineNumber:U=N;var d=re.a.vertical(H.cursorConfig,H,N,W.viewState.position.column,W.viewState.leftoverVisibleColumns,U,!1);return ve.b.fromViewState(W.viewState.move(V,d.lineNumber,d.column,d.leftoverVisibleColumns))}},{key:"_firstLineNumberInRange",value:function(H,W,F){var V=W.startLineNumber;return W.startColumn!==H.getLineMinColumn(V)&&V++,Math.min(W.endLineNumber,V+F-1)}},{key:"_lastLineNumberInRange",value:function(H,W,F){var V=W.startLineNumber;return W.startColumn!==H.getLineMinColumn(V)&&V++,Math.max(V,W.endLineNumber-F+1)}},{key:"_moveLeft",value:function(H,W,F,V){return W.map(function(N){return ve.b.fromViewState(re.a.moveLeft(H.cursorConfig,H,N.viewState,F,V))})}},{key:"_moveHalfLineLeft",value:function(H,W,F){for(var V=[],N=0,U=W.length;N<U;N++){var d=W[N],j=d.viewState.position.lineNumber,C=Math.round(H.getLineContent(j).length/2);V[N]=ve.b.fromViewState(re.a.moveLeft(H.cursorConfig,H,d.viewState,F,C))}return V}},{key:"_moveRight",value:function(H,W,F,V){return W.map(function(N){return ve.b.fromViewState(re.a.moveRight(H.cursorConfig,H,N.viewState,F,V))})}},{key:"_moveHalfLineRight",value:function(H,W,F){for(var V=[],N=0,U=W.length;N<U;N++){var d=W[N],j=d.viewState.position.lineNumber,C=Math.round(H.getLineContent(j).length/2);V[N]=ve.b.fromViewState(re.a.moveRight(H.cursorConfig,H,d.viewState,F,C))}return V}},{key:"_moveDownByViewLines",value:function(H,W,F,V){for(var N=[],U=0,d=W.length;U<d;U++){var j=W[U];N[U]=ve.b.fromViewState(re.a.moveDown(H.cursorConfig,H,j.viewState,F,V))}return N}},{key:"_moveDownByModelLines",value:function(H,W,F,V){for(var N=[],U=0,d=W.length;U<d;U++){var j=W[U];N[U]=ve.b.fromModelState(re.a.moveDown(H.cursorConfig,H.model,j.modelState,F,V))}return N}},{key:"_moveUpByViewLines",value:function(H,W,F,V){for(var N=[],U=0,d=W.length;U<d;U++){var j=W[U];N[U]=ve.b.fromViewState(re.a.moveUp(H.cursorConfig,H,j.viewState,F,V))}return N}},{key:"_moveUpByModelLines",value:function(H,W,F,V){for(var N=[],U=0,d=W.length;U<d;U++){var j=W[U];N[U]=ve.b.fromModelState(re.a.moveUp(H.cursorConfig,H.model,j.modelState,F,V))}return N}},{key:"_moveToViewPosition",value:function(H,W,F,V,N){return ve.b.fromViewState(W.viewState.move(F,V,N,0))}},{key:"_moveToModelPosition",value:function(H,W,F,V,N){return ve.b.fromModelState(W.modelState.move(F,V,N,0))}},{key:"_moveToViewMinColumn",value:function(H,W,F){for(var V=[],N=0,U=W.length;N<U;N++){var d=W[N],j=d.viewState.position.lineNumber,C=H.getLineMinColumn(j);V[N]=this._moveToViewPosition(H,d,F,j,C)}return V}},{key:"_moveToViewFirstNonWhitespaceColumn",value:function(H,W,F){for(var V=[],N=0,U=W.length;N<U;N++){var d=W[N],j=d.viewState.position.lineNumber,C=H.getLineFirstNonWhitespaceColumn(j);V[N]=this._moveToViewPosition(H,d,F,j,C)}return V}},{key:"_moveToViewCenterColumn",value:function(H,W,F){for(var V=[],N=0,U=W.length;N<U;N++){var d=W[N],j=d.viewState.position.lineNumber,C=Math.round((H.getLineMaxColumn(j)+H.getLineMinColumn(j))/2);V[N]=this._moveToViewPosition(H,d,F,j,C)}return V}},{key:"_moveToViewMaxColumn",value:function(H,W,F){for(var V=[],N=0,U=W.length;N<U;N++){var d=W[N],j=d.viewState.position.lineNumber,C=H.getLineMaxColumn(j);V[N]=this._moveToViewPosition(H,d,F,j,C)}return V}},{key:"_moveToViewLastNonWhitespaceColumn",value:function(H,W,F){for(var V=[],N=0,U=W.length;N<U;N++){var d=W[N],j=d.viewState.position.lineNumber,C=H.getLineLastNonWhitespaceColumn(j);V[N]=this._moveToViewPosition(H,d,F,j,C)}return V}}]),ne}(),L;(function(ne){var ee=function(F){if(!E.h(F))return!1;var V=F;return!(!E.i(V.to)||!E.k(V.select)&&!E.c(V.select)||!E.k(V.by)&&!E.i(V.by)||!E.k(V.value)&&!E.g(V.value))};ne.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:ee,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},ne.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},ne.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function H(W){if(!W.to)return null;var F;switch(W.to){case ne.RawDirection.Left:F=0;break;case ne.RawDirection.Right:F=1;break;case ne.RawDirection.Up:F=2;break;case ne.RawDirection.Down:F=3;break;case ne.RawDirection.PrevBlankLine:F=4;break;case ne.RawDirection.NextBlankLine:F=5;break;case ne.RawDirection.WrappedLineStart:F=6;break;case ne.RawDirection.WrappedLineFirstNonWhitespaceCharacter:F=7;break;case ne.RawDirection.WrappedLineColumnCenter:F=8;break;case ne.RawDirection.WrappedLineEnd:F=9;break;case ne.RawDirection.WrappedLineLastNonWhitespaceCharacter:F=10;break;case ne.RawDirection.ViewPortTop:F=11;break;case ne.RawDirection.ViewPortBottom:F=13;break;case ne.RawDirection.ViewPortCenter:F=12;break;case ne.RawDirection.ViewPortIfOutside:F=14;break;default:return null}var V=0;switch(W.by){case ne.RawUnit.Line:V=1;break;case ne.RawUnit.WrappedLine:V=2;break;case ne.RawUnit.Character:V=3;break;case ne.RawUnit.HalfLine:V=4;break}return{direction:F,unit:V,select:!!W.select,value:W.value||1}}ne.parse=H})(L||(L={}))},siPX:function(fn,K,a){},sswD:function(fn,K,a){"use strict";a.d(K,"a",function(){return x}),a.d(K,"f",function(){return S}),a.d(K,"d",function(){return z}),a.d(K,"b",function(){return A}),a.d(K,"g",function(){return ue}),a.d(K,"c",function(){return be}),a.d(K,"o",function(){return de}),a.d(K,"l",function(){return ke}),a.d(K,"k",function(){return he}),a.d(K,"p",function(){return ge}),a.d(K,"n",function(){return ce}),a.d(K,"m",function(){return k}),a.d(K,"e",function(){return w}),a.d(K,"j",function(){return me}),a.d(K,"h",function(){return I}),a.d(K,"i",function(){return we});var le=a("oBTY"),De=a("yKVA"),E=a("879j"),ve=a("rAM+"),re=a("fWQN"),J=a("mtLc"),$=a("3/fG"),y=a("bY76"),Q=a("Vxe3"),L=a("cGHE"),ne=a("lEqV"),ee=a("t49l"),H=a("fjLI"),W=a("nnTU"),F=a("T8No"),V=a("Cg/j"),N=a("nrhi"),U=a("ic2d"),d=a("XXUj"),j=a("746U"),C=a("09fa"),x=function(){function Re(Oe){Object(re.a)(this,Re),this.id=Oe.id,this.precondition=Oe.precondition,this._kbOpts=Oe.kbOpts,this._menuOpts=Oe.menuOpts,this._description=Oe.description}return Object(J.a)(Re,[{key:"register",value:function(){var Pe=this;if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){var Ne=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts],Ke=Object(ve.a)(Ne),Xe;try{for(Ke.s();!(Xe=Ke.n()).done;){var wt=Xe.value,Ct=wt.kbExpr;this.precondition&&(Ct?Ct=F.a.and(Ct,this.precondition):Ct=this.precondition);var bt={id:this.id,weight:wt.weight,args:wt.args,when:Ct,primary:wt.primary,secondary:wt.secondary,win:wt.win,linux:wt.linux,mac:wt.mac};N.a.registerKeybindingRule(bt)}}catch(mt){Ke.e(mt)}finally{Ke.f()}}W.a.registerCommand({id:this.id,handler:function(jt,Je){return Pe.runCommand(jt,Je)},description:this._description})}},{key:"_registerMenuItem",value:function(Pe){H.e.appendMenuItem(Pe.menuId,{group:Pe.group,command:{id:this.id,title:Pe.title,icon:Pe.icon,precondition:this.precondition},when:Pe.when,order:Pe.order})}}]),Re}(),S=function(Re){Object(De.a)(Pe,Re);var Oe=Object(E.a)(Pe);function Pe(){var Ne;return Object(re.a)(this,Pe),Ne=Oe.apply(this,arguments),Ne._implementations=[],Ne}return Object(J.a)(Pe,[{key:"addImplementation",value:function(Ke,Xe,wt){var Ct=this;return this._implementations.push({priority:Ke,name:Xe,implementation:wt}),this._implementations.sort(function(bt,mt){return mt.priority-bt.priority}),{dispose:function(){for(var mt=0;mt<Ct._implementations.length;mt++)if(Ct._implementations[mt].implementation===wt){Ct._implementations.splice(mt,1);return}}}}},{key:"runCommand",value:function(Ke,Xe){var wt=Ke.get(C.b);wt.trace("Executing Command '".concat(this.id,"' which has ").concat(this._implementations.length," bound."));var Ct=Object(ve.a)(this._implementations),bt;try{for(Ct.s();!(bt=Ct.n()).done;){var mt=bt.value,jt=mt.implementation(Ke,Xe);if(jt)return wt.trace("Command '".concat(this.id,"' was handled by '").concat(mt.name,"'.")),typeof jt=="boolean"?void 0:jt}}catch(Je){Ct.e(Je)}finally{Ct.f()}wt.trace("The Command '".concat(this.id,"' was not handled by any implementation."))}}]),Pe}(x),T=function(Re){Object(De.a)(Pe,Re);var Oe=Object(E.a)(Pe);function Pe(Ne,Ke){var Xe;return Object(re.a)(this,Pe),Xe=Oe.call(this,Ke),Xe.command=Ne,Xe}return Object(J.a)(Pe,[{key:"runCommand",value:function(Ke,Xe){return this.command.runCommand(Ke,Xe)}}]),Pe}(x),z=function(Re){Object(De.a)(Pe,Re);var Oe=Object(E.a)(Pe);function Pe(){return Object(re.a)(this,Pe),Oe.apply(this,arguments)}return Object(J.a)(Pe,[{key:"runCommand",value:function(Ke,Xe){var wt=this;return Pe.runEditorCommand(Ke,Xe,this.precondition,function(Ct,bt,mt){return wt.runEditorCommand(Ct,bt,mt)})}}],[{key:"bindToContribution",value:function(Ke){return function(Xe){Object(De.a)(Ct,Xe);var wt=Object(E.a)(Ct);function Ct(bt){var mt;return Object(re.a)(this,Ct),mt=wt.call(this,bt),mt._callback=bt.handler,mt}return Object(J.a)(Ct,[{key:"runEditorCommand",value:function(mt,jt,Je){var Wt=Ke(jt);Wt&&this._callback(Wt,Je)}}]),Ct}(Pe)}},{key:"runEditorCommand",value:function(Ke,Xe,wt,Ct){var bt=Ke.get(Q.a),mt=bt.getFocusedCodeEditor()||bt.getActiveCodeEditor();if(!!mt)return mt.invokeWithinContext(function(jt){var Je=jt.get(F.b);if(!!Je.contextMatchesRules(Object(j.n)(wt)))return Ct(jt,mt,Xe)})}}]),Pe}(x),A=function(Re){Object(De.a)(Pe,Re);var Oe=Object(E.a)(Pe);function Pe(Ne){var Ke;return Object(re.a)(this,Pe),Ke=Oe.call(this,Pe.convertOptions(Ne)),Ke.label=Ne.label,Ke.alias=Ne.alias,Ke}return Object(J.a)(Pe,[{key:"runEditorCommand",value:function(Ke,Xe,wt){return this.reportTelemetry(Ke,Xe),this.run(Ke,Xe,wt||{})}},{key:"reportTelemetry",value:function(Ke,Xe){Ke.get(d.a).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}],[{key:"convertOptions",value:function(Ke){var Xe;Array.isArray(Ke.menuOpts)?Xe=Ke.menuOpts:Ke.menuOpts?Xe=[Ke.menuOpts]:Xe=[];function wt(bt){return bt.menuId||(bt.menuId=H.c.EditorContext),bt.title||(bt.title=Ke.label),bt.when=F.a.and(Ke.precondition,bt.when),bt}if(Array.isArray(Ke.contextMenuOpts)){var Ct;(Ct=Xe).push.apply(Ct,Object(le.a)(Ke.contextMenuOpts.map(wt)))}else Ke.contextMenuOpts&&Xe.push(wt(Ke.contextMenuOpts));return Ke.menuOpts=Xe,Ke}}]),Pe}(z),ue=function(Re){Object(De.a)(Pe,Re);var Oe=Object(E.a)(Pe);function Pe(){var Ne;return Object(re.a)(this,Pe),Ne=Oe.apply(this,arguments),Ne._implementations=[],Ne}return Object(J.a)(Pe,[{key:"addImplementation",value:function(Ke,Xe){var wt=this;return this._implementations.push([Ke,Xe]),this._implementations.sort(function(Ct,bt){return bt[0]-Ct[0]}),{dispose:function(){for(var bt=0;bt<wt._implementations.length;bt++)if(wt._implementations[bt][1]===Xe){wt._implementations.splice(bt,1);return}}}}},{key:"run",value:function(Ke,Xe,wt){var Ct=Object(ve.a)(this._implementations),bt;try{for(Ct.s();!(bt=Ct.n()).done;){var mt=bt.value,jt=mt[1](Ke,Xe,wt);if(jt)return typeof jt=="boolean"?void 0:jt}}catch(Je){Ct.e(Je)}finally{Ct.f()}}}]),Pe}(A),be=function(Re){Object(De.a)(Pe,Re);var Oe=Object(E.a)(Pe);function Pe(){return Object(re.a)(this,Pe),Oe.apply(this,arguments)}return Object(J.a)(Pe,[{key:"run",value:function(Ke){for(var Xe=this,wt=arguments.length,Ct=new Array(wt>1?wt-1:0),bt=1;bt<wt;bt++)Ct[bt-1]=arguments[bt];var mt=Ke.get(Q.a),jt=mt.getFocusedCodeEditor()||mt.getActiveCodeEditor();if(!!jt)return jt.invokeWithinContext(function(Je){var Wt,Te=Je.get(F.b),fe=Je.get(C.b),ye=Te.contextMatchesRules(Object(j.n)(Xe.desc.precondition));if(!ye){fe.debug("[EditorAction2] NOT running command because its precondition is FALSE",Xe.desc.id,(Wt=Xe.desc.precondition)===null||Wt===void 0?void 0:Wt.serialize());return}return Xe.runEditorCommand.apply(Xe,[Je,jt].concat(Ct))})}}]),Pe}(H.a);function de(Re,Oe){W.a.registerCommand(Re,function(Pe){for(var Ne=arguments.length,Ke=new Array(Ne>1?Ne-1:0),Xe=1;Xe<Ne;Xe++)Ke[Xe-1]=arguments[Xe];var wt=Pe.get(V.a),Ct=Ke[0],bt=Ke[1];Object(j.b)(y.a.isUri(Ct)),Object(j.b)(L.a.isIPosition(bt));var mt=Pe.get(ne.a).getModel(Ct);if(mt){var jt=L.a.lift(bt);return wt.invokeFunction.apply(wt,[Oe,mt,jt].concat(Object(le.a)(Ke.slice(2))))}return Pe.get(ee.a).createModelReference(Ct).then(function(Je){return new Promise(function(Wt,Te){try{var fe=wt.invokeFunction(Oe,Je.object.textEditorModel,L.a.lift(bt),Ke.slice(2));Wt(fe)}catch(ye){Te(ye)}}).finally(function(){Je.dispose()})})})}function ke(Re){return Y.INSTANCE.registerEditorCommand(Re),Re}function he(Re){var Oe=new Re;return Y.INSTANCE.registerEditorAction(Oe),Oe}function ge(Re){return Y.INSTANCE.registerEditorAction(Re),Re}function ce(Re){Y.INSTANCE.registerEditorAction(Re)}function k(Re,Oe,Pe){Y.INSTANCE.registerEditorContribution(Re,Oe,Pe)}var w;(function(Re){function Oe(wt){return Y.INSTANCE.getEditorCommand(wt)}Re.getEditorCommand=Oe;function Pe(){return Y.INSTANCE.getEditorActions()}Re.getEditorActions=Pe;function Ne(){return Y.INSTANCE.getEditorContributions()}Re.getEditorContributions=Ne;function Ke(wt){return Y.INSTANCE.getEditorContributions().filter(function(Ct){return wt.indexOf(Ct.id)>=0})}Re.getSomeEditorContributions=Ke;function Xe(){return Y.INSTANCE.getDiffEditorContributions()}Re.getDiffEditorContributions=Xe})(w||(w={}));var B={EditorCommonContributions:"editor.contributions"},Y=function(){function Re(){Object(re.a)(this,Re),this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return Object(J.a)(Re,[{key:"registerEditorContribution",value:function(Pe,Ne,Ke){this.editorContributions.push({id:Pe,ctor:Ne,instantiation:Ke})}},{key:"getEditorContributions",value:function(){return this.editorContributions.slice(0)}},{key:"getDiffEditorContributions",value:function(){return this.diffEditorContributions.slice(0)}},{key:"registerEditorAction",value:function(Pe){Pe.register(),this.editorActions.push(Pe)}},{key:"getEditorActions",value:function(){return this.editorActions}},{key:"registerEditorCommand",value:function(Pe){Pe.register(),this.editorCommands[Pe.id]=Pe}},{key:"getEditorCommand",value:function(Pe){return this.editorCommands[Pe]||null}}]),Re}();Y.INSTANCE=new Y,U.a.add(B.EditorCommonContributions,Y.INSTANCE);function pe(Re){return Re.register(),Re}var me=pe(new S({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:H.c.MenubarEditMenu,group:"1_do",title:$.b({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:H.c.CommandPalette,group:"",title:$.b("undo","Undo"),order:1}]}));pe(new T(me,{id:"default:undo",precondition:void 0}));var I=pe(new S({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:H.c.MenubarEditMenu,group:"1_do",title:$.b({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:H.c.CommandPalette,group:"",title:$.b("redo","Redo"),order:1}]}));pe(new T(I,{id:"default:redo",precondition:void 0}));var we=pe(new S({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:H.c.MenubarSelectionMenu,group:"1_basic",title:$.b({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:H.c.CommandPalette,group:"",title:$.b("selectAll","Select All"),order:1}]}))},t3cU:function(fn,K,a){"use strict";a.r(K);var le=a("bbsP"),De=a("/wGt"),E=a("T2oS"),ve=a("W9HT"),re=a("7Kak"),J=a("9yH6"),$=a("OaEy"),y=a("2fM7"),Q=a("14J3"),L=a("BMrR"),ne=a("jCWc"),ee=a("kPKH"),H=a("5NDa"),W=a("5rEg"),F=a("+L6B"),V=a("2/Rp"),N=a("miYZ"),U=a("tsqr"),d=a("qLMh"),j=a("9og8"),C=a("2qtc"),x=a("kLXV"),S=a("y8nQ"),T=a("Vl3Y"),z=a("tJVT"),A=a("RCxd"),ue=a("xvlK"),be=a("q1tI"),de=a("tMyG"),ke=a("Qiat"),he=a("ZfpI"),ge=a("Dp36"),ce=a("8z58"),k=a("fWQN"),w=a("mtLc"),B=a("rAM+");/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var Y=Object.defineProperty,pe=Object.getOwnPropertyDescriptor,me=Object.getOwnPropertyNames,I=Object.prototype.hasOwnProperty,we=function(o,e,i,t){if(e&&typeof e=="object"||typeof e=="function"){var n=Object(B.a)(me(e)),r;try{var l=function(){var h=r.value;!I.call(o,h)&&h!==i&&Y(o,h,{get:function(){return e[h]},enumerable:!(t=pe(e,h))||t.enumerable})};for(n.s();!(r=n.n()).done;)l()}catch(c){n.e(c)}finally{n.f()}}return o},Re=function(o,e,i){return we(o,e,"default"),i&&we(i,e,"default")},Oe={};Re(Oe,ce);var Pe={},Ne={},Ke=function(){function s(o){var e=this;Object(k.a)(this,s),this._languageId=void 0,this._loadingTriggered=void 0,this._lazyLoadPromise=void 0,this._lazyLoadPromiseResolve=void 0,this._lazyLoadPromiseReject=void 0,this._languageId=o,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(i,t){e._lazyLoadPromiseResolve=i,e._lazyLoadPromiseReject=t})}return Object(w.a)(s,[{key:"load",value:function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,Pe[this._languageId].loader().then(function(i){return e._lazyLoadPromiseResolve(i)},function(i){return e._lazyLoadPromiseReject(i)})),this._lazyLoadPromise}}],[{key:"getOrCreate",value:function(e){return Ne[e]||(Ne[e]=new s(e)),Ne[e]}}]),s}();function Xe(s){return wt.apply(this,arguments)}function wt(){return wt=Object(j.a)(Object(d.a)().mark(function s(o){var e;return Object(d.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ke.getOrCreate(o).load();case 2:e=Oe.editor.createModel("",o),e.dispose();case 4:case"end":return t.stop()}},s)})),wt.apply(this,arguments)}function Ct(s){var o=s.id;Pe[o]=s,Oe.languages.register(s);var e=Ke.getOrCreate(o);Oe.languages.registerTokensProviderFactory(o,{create:function(){var i=Object(j.a)(Object(d.a)().mark(function n(){var r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.load();case 2:return r=c.sent,c.abrupt("return",r.language);case 4:case"end":return c.stop()}},n)}));function t(){return i.apply(this,arguments)}return t}()}),Oe.languages.onLanguageEncountered(o,Object(j.a)(Object(d.a)().mark(function i(){var t;return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.load();case 2:t=r.sent,Oe.languages.setLanguageConfiguration(o,t.conf);case 4:case"end":return r.stop()}},i)})))}/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return a.e(20).then(a.bind(null,"6Xso"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return a.e(21).then(a.bind(null,"aA7r"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return a.e(22).then(a.bind(null,"NlLO"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return a.e(23).then(a.bind(null,"7s2V"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return a.e(24).then(a.bind(null,"CGdV"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return a.e(25).then(a.bind(null,"3VBA"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return a.e(26).then(a.bind(null,"AoeA"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return a.e(27).then(a.bind(null,"2ZXa"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return a.e(5).then(a.bind(null,"fhwZ"))}}),Ct({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return a.e(5).then(a.bind(null,"fhwZ"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return a.e(28).then(a.bind(null,"/Om3"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return a.e(29).then(a.bind(null,"p+q7"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return a.e(30).then(a.bind(null,"v7Iz"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:function(){return a.e(31).then(a.bind(null,"VB8O"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return a.e(32).then(a.bind(null,"hf0J"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return a.e(33).then(a.bind(null,"Dsrv"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return a.e(34).then(a.bind(null,"VqYA"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return a.e(35).then(a.bind(null,"ljTP"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:function(){return a.e(36).then(a.bind(null,"sm4X"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return a.e(37).then(a.bind(null,"yswY"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagAutoInterpolationDollar})}}),Ct({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagAngleInterpolationDollar})}}),Ct({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagBracketInterpolationDollar})}}),Ct({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagAngleInterpolationBracket})}}),Ct({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagBracketInterpolationBracket})}}),Ct({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagAutoInterpolationDollar})}}),Ct({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:function(){return a.e(3).then(a.bind(null,"Ncoo")).then(function(o){return o.TagAutoInterpolationBracket})}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return a.e(38).then(a.bind(null,"lHAa"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return a.e(39).then(a.bind(null,"Eg73"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return a.e(40).then(a.bind(null,"O3xE"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return a.e(41).then(a.bind(null,"AXZt"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return a.e(42).then(a.bind(null,"tpLM"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return a.e(43).then(a.bind(null,"On+f"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return a.e(44).then(a.bind(null,"BjZ/"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return a.e(19).then(a.bind(null,"7Xl7"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return a.e(45).then(a.bind(null,"kx9O"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return a.e(46).then(a.bind(null,"y0OK"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return a.e(47).then(a.bind(null,"OfHX"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return a.e(48).then(a.bind(null,"ge0q"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return a.e(50).then(a.bind(null,"yUwd"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return a.e(49).then(a.bind(null,"Icy6"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return a.e(51).then(a.bind(null,"PH8j"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return a.e(52).then(a.bind(null,"PhST"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return a.e(53).then(a.bind(null,"DTUS"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return a.e(54).then(a.bind(null,"8m5U"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return a.e(55).then(a.bind(null,"tGOS"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return a.e(56).then(a.bind(null,"fYNN"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return a.e(57).then(a.bind(null,"meXB"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return a.e(58).then(a.bind(null,"ywQP"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:function(){return a.e(59).then(a.bind(null,"QKwv"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return a.e(60).then(a.bind(null,"HGU1"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return a.e(61).then(a.bind(null,"lXEz"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"pla",extensions:[".pla"],loader:function(){return a.e(62).then(a.bind(null,"JNvW"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return a.e(63).then(a.bind(null,"YdqL"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return a.e(64).then(a.bind(null,"W1QP"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return a.e(65).then(a.bind(null,"ppMK"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:function(){return a.e(66).then(a.bind(null,"paYk"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return a.e(67).then(a.bind(null,"I+Au"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return a.e(68).then(a.bind(null,"8ahN"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return a.e(69).then(a.bind(null,"vWcP"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return a.e(70).then(a.bind(null,"Qx4d"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return a.e(71).then(a.bind(null,"Fzfo"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return a.e(72).then(a.bind(null,"j6Xs"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return a.e(73).then(a.bind(null,"KpXS"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return a.e(74).then(a.bind(null,"LdT9"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return a.e(75).then(a.bind(null,"3MdH"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return a.e(76).then(a.bind(null,"/0xJ"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return a.e(77).then(a.bind(null,"ynbn"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return a.e(78).then(a.bind(null,"VZ+T"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return a.e(79).then(a.bind(null,"fB/Z"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return a.e(80).then(a.bind(null,"QJnQ"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return a.e(81).then(a.bind(null,"l/4i"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return a.e(82).then(a.bind(null,"Csoz"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return a.e(83).then(a.bind(null,"cOMg"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return a.e(84).then(a.bind(null,"I3f2"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return a.e(85).then(a.bind(null,"Czvm"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return a.e(86).then(a.bind(null,"rMIR"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return a.e(87).then(a.bind(null,"05+/"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return a.e(6).then(a.bind(null,"BX0I"))}}),Ct({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return a.e(6).then(a.bind(null,"BX0I"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return a.e(88).then(a.bind(null,"xT+r"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return a.e(89).then(a.bind(null,"nNVF"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return a.e(90).then(a.bind(null,"87dK"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return a.e(91).then(a.bind(null,"eXtt"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:function(){return a.e(92).then(a.bind(null,"eJHP"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return a.e(93).then(a.bind(null,"aH2L"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Ct({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return a.e(94).then(a.bind(null,"EaLm"))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*//*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var bt=Object.defineProperty,mt=Object.getOwnPropertyDescriptor,jt=Object.getOwnPropertyNames,Je=Object.prototype.hasOwnProperty,Wt=function(o,e,i,t){if(e&&typeof e=="object"||typeof e=="function"){var n=Object(B.a)(jt(e)),r;try{var l=function(){var h=r.value;!Je.call(o,h)&&h!==i&&bt(o,h,{get:function(){return e[h]},enumerable:!(t=mt(e,h))||t.enumerable})};for(n.s();!(r=n.n()).done;)l()}catch(c){n.e(c)}finally{n.f()}}return o},Te=function(o,e,i){return Wt(o,e,"default"),i&&Wt(i,e,"default")},fe={};Te(fe,ce);var ye=function(){function s(o,e,i){Object(k.a)(this,s),this._onDidChange=new fe.Emitter,this._options=void 0,this._modeConfiguration=void 0,this._languageId=void 0,this._languageId=o,this.setOptions(e),this.setModeConfiguration(i)}return Object(w.a)(s,[{key:"onDidChange",get:function(){return this._onDidChange.event}},{key:"languageId",get:function(){return this._languageId}},{key:"modeConfiguration",get:function(){return this._modeConfiguration}},{key:"diagnosticsOptions",get:function(){return this.options}},{key:"options",get:function(){return this._options}},{key:"setOptions",value:function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}},{key:"setDiagnosticsOptions",value:function(e){this.setOptions(e)}},{key:"setModeConfiguration",value:function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}}]),s}(),Ee={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},Ge={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},$e=new ye("css",Ee,Ge),We=new ye("scss",Ee,Ge),it=new ye("less",Ee,Ge);fe.languages.css={cssDefaults:$e,lessDefaults:it,scssDefaults:We};function Fe(){return a.e(95).then(a.bind(null,"20/g"))}fe.languages.onLanguage("less",function(){Fe().then(function(s){return s.setupMode(it)})}),fe.languages.onLanguage("scss",function(){Fe().then(function(s){return s.setupMode(We)})}),fe.languages.onLanguage("css",function(){Fe().then(function(s){return s.setupMode($e)})});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var He=Object.defineProperty,Ye=Object.getOwnPropertyDescriptor,ot=Object.getOwnPropertyNames,Kt=Object.prototype.hasOwnProperty,gt=function(o,e,i,t){if(e&&typeof e=="object"||typeof e=="function"){var n=Object(B.a)(ot(e)),r;try{var l=function(){var h=r.value;!Kt.call(o,h)&&h!==i&&He(o,h,{get:function(){return e[h]},enumerable:!(t=Ye(e,h))||t.enumerable})};for(n.s();!(r=n.n()).done;)l()}catch(c){n.e(c)}finally{n.f()}}return o},Ft=function(o,e,i){return gt(o,e,"default"),i&&gt(i,e,"default")},Jt={};Ft(Jt,ce);var qt=function(){function s(o,e,i){Object(k.a)(this,s),this._onDidChange=new Jt.Emitter,this._options=void 0,this._modeConfiguration=void 0,this._languageId=void 0,this._languageId=o,this.setOptions(e),this.setModeConfiguration(i)}return Object(w.a)(s,[{key:"onDidChange",get:function(){return this._onDidChange.event}},{key:"languageId",get:function(){return this._languageId}},{key:"options",get:function(){return this._options}},{key:"modeConfiguration",get:function(){return this._modeConfiguration}},{key:"setOptions",value:function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}},{key:"setModeConfiguration",value:function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}}]),s}(),En={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},It={format:En,suggest:{},data:{useDefaultDataProvider:!0}};function si(s){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:s===On,documentFormattingEdits:s===On,documentRangeFormattingEdits:s===On}}var On="html",Gn="handlebars",ci="razor",Dn=Cr(On,It,si(On)),An=Dn.defaults,fr=Cr(Gn,It,si(Gn)),Vi=fr.defaults,Sr=Cr(ci,It,si(ci)),Pi=Sr.defaults;Jt.languages.html={htmlDefaults:An,razorDefaults:Pi,handlebarDefaults:Vi,htmlLanguageService:Dn,handlebarLanguageService:fr,razorLanguageService:Sr,registerHTMLLanguageService:Cr};function Ei(){return a.e(96).then(a.bind(null,"+lu7"))}function Cr(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:It,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:si(s),i=new qt(s,o,e),t,n=Jt.languages.onLanguage(s,Object(j.a)(Object(d.a)().mark(function r(){return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Ei();case 2:t=c.sent.setupMode(i);case 3:case"end":return c.stop()}},r)})));return{defaults:i,dispose:function(){var l;n.dispose(),(l=t)===null||l===void 0||l.dispose(),t=void 0}}}/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var zn=Object.defineProperty,dr=Object.getOwnPropertyDescriptor,Hn=Object.getOwnPropertyNames,mi=Object.prototype.hasOwnProperty,hn=function(o,e,i,t){if(e&&typeof e=="object"||typeof e=="function"){var n=Object(B.a)(Hn(e)),r;try{var l=function(){var h=r.value;!mi.call(o,h)&&h!==i&&zn(o,h,{get:function(){return e[h]},enumerable:!(t=dr(e,h))||t.enumerable})};for(n.s();!(r=n.n()).done;)l()}catch(c){n.e(c)}finally{n.f()}}return o},Xn=function(o,e,i){return hn(o,e,"default"),i&&hn(i,e,"default")},en={};Xn(en,ce);var yt=function(){function s(o,e,i){Object(k.a)(this,s),this._onDidChange=new en.Emitter,this._diagnosticsOptions=void 0,this._modeConfiguration=void 0,this._languageId=void 0,this._languageId=o,this.setDiagnosticsOptions(e),this.setModeConfiguration(i)}return Object(w.a)(s,[{key:"onDidChange",get:function(){return this._onDidChange.event}},{key:"languageId",get:function(){return this._languageId}},{key:"modeConfiguration",get:function(){return this._modeConfiguration}},{key:"diagnosticsOptions",get:function(){return this._diagnosticsOptions}},{key:"setDiagnosticsOptions",value:function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}},{key:"setModeConfiguration",value:function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}}]),s}(),wn={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},gn={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},rn=new yt("json",wn,gn);en.languages.json={jsonDefaults:rn};function bn(){return a.e(97).then(a.bind(null,"R7lK"))}en.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),en.languages.onLanguage("json",function(){bn().then(function(s){return s.setupMode(rn)})});var Qn=a("z3hU"),Ci=a("BJRu"),yr=a("nB0o"),_i=a("SmQN"),Bn=a("0Lb2"),tt=a("yKVA"),Lt=a("879j"),xi=a("OBOq"),Qi=a("eLzo"),mr=a("/kV6"),pr=a("2uFs"),St=a("sswD"),Gi=a("gCVg"),an=a("wQH0"),Qe=a("3/fG"),Jn=a("T8No"),ii=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Li=function(s,o){return function(e,i){o(e,i,s)}},Fn=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},jn=new Jn.c("selectionAnchorSet",!1),Nt=function(){function s(o,e){var i=this;Object(k.a)(this,s),this.editor=o,this.selectionAnchorSetContextKey=jn.bindTo(e),this.modelChangeListener=o.onDidChangeModel(function(){return i.selectionAnchorSetContextKey.reset()})}return Object(w.a)(s,[{key:"setSelectionAnchor",value:function(){var e=this;if(this.editor.hasModel()){var i=this.editor.getPosition();this.editor.changeDecorations(function(t){e.decorationId&&t.removeDecoration(e.decorationId),e.decorationId=t.addDecoration(Gi.a.fromPositions(i,i),{description:"selection-anchor",stickiness:1,hoverMessage:new Qi.a().appendText(Object(Qe.b)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),Object(xi.a)(Object(Qe.b)("anchorSet","Anchor set at {0}:{1}",i.lineNumber,i.column))}}},{key:"goToSelectionAnchor",value:function(){if(this.editor.hasModel()&&this.decorationId){var e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}},{key:"selectFromAnchorToCursor",value:function(){if(this.editor.hasModel()&&this.decorationId){var e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){var i=this.editor.getPosition();this.editor.setSelection(Gi.a.fromPositions(e.getStartPosition(),i)),this.cancelSelectionAnchor()}}}},{key:"cancelSelectionAnchor",value:function(){var e=this;if(this.decorationId){var i=this.decorationId;this.editor.changeDecorations(function(t){t.removeDecoration(i),e.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}},{key:"dispose",value:function(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();Nt.ID="editor.contrib.selectionAnchorController",Nt=ii([Li(1,Jn.b)],Nt);var Gt=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.setSelectionAnchor",label:Object(Qe.b)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|32),weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;return Fn(this,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:(r=Nt.get(n))===null||r===void 0||r.setSelectionAnchor();case 1:case"end":return h.stop()}},l)}))}}]),e}(St.b),Et=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.goToSelectionAnchor",label:Object(Qe.b)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:jn})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;return Fn(this,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:(r=Nt.get(n))===null||r===void 0||r.goToSelectionAnchor();case 1:case"end":return h.stop()}},l)}))}}]),e}(St.b),Rt=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.selectFromAnchorToCursor",label:Object(Qe.b)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:jn,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|41),weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;return Fn(this,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:(r=Nt.get(n))===null||r===void 0||r.selectFromAnchorToCursor();case 1:case"end":return h.stop()}},l)}))}}]),e}(St.b),dn=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.cancelSelectionAnchor",label:Object(Qe.b)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:jn,kbOpts:{kbExpr:an.a.editorTextFocus,primary:9,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;return Fn(this,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:(r=Nt.get(n))===null||r===void 0||r.cancelSelectionAnchor();case 1:case"end":return h.stop()}},l)}))}}]),e}(St.b);Object(St.m)(Nt.ID,Nt,4),Object(St.k)(Gt),Object(St.k)(Et),Object(St.k)(Rt),Object(St.k)(dn);var et=a("X+cX"),Ze=a("pmY6"),on=a("tPKf"),tn=a("cGHE"),Dt=a("aokT"),pn=a("M1Kb"),ti=a("tX9W"),kn=a("fjLI"),Vt=a("MD5Z"),Oi=a("t9D7"),Yi=Object(Vt.Fc)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},Qe.b("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),Hi=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.jumpToBracket",label:Qe.b("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|1024|93,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;(r=na.get(n))===null||r===void 0||r.jumpToBracket()}}]),e}(St.b),qi=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.selectToBracket",label:Qe.b("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){var l,c=!0;r&&r.selectBrackets===!1&&(c=!1),(l=na.get(n))===null||l===void 0||l.selectToBracket(c)}}]),e}(St.b),Qr=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.removeBrackets",label:Qe.b("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|512|1,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;(r=na.get(n))===null||r===void 0||r.removeBrackets(this.id)}}]),e}(St.b),Mr=Object(w.a)(function s(o,e,i){Object(k.a)(this,s),this.position=o,this.brackets=e,this.options=i}),na=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t._editor=i,t._lastBracketsData=[],t._lastVersionId=0,t._decorations=t._editor.createDecorationsCollection(),t._updateBracketsSoon=t._register(new et.g(function(){return t._updateBrackets()},50)),t._matchBrackets=t._editor.getOption(69),t._updateBracketsSoon.schedule(),t._register(i.onDidChangeCursorPosition(function(n){t._matchBrackets!=="never"&&t._updateBracketsSoon.schedule()})),t._register(i.onDidChangeModelContent(function(n){t._updateBracketsSoon.schedule()})),t._register(i.onDidChangeModel(function(n){t._lastBracketsData=[],t._updateBracketsSoon.schedule()})),t._register(i.onDidChangeModelLanguageConfiguration(function(n){t._lastBracketsData=[],t._updateBracketsSoon.schedule()})),t._register(i.onDidChangeConfiguration(function(n){n.hasChanged(69)&&(t._matchBrackets=t._editor.getOption(69),t._decorations.clear(),t._lastBracketsData=[],t._lastVersionId=0,t._updateBracketsSoon.schedule())})),t._register(i.onDidBlurEditorWidget(function(){t._updateBracketsSoon.schedule()})),t._register(i.onDidFocusEditorWidget(function(){t._updateBracketsSoon.schedule()})),t}return Object(w.a)(e,[{key:"jumpToBracket",value:function(){if(!!this._editor.hasModel()){var t=this._editor.getModel(),n=this._editor.getSelections().map(function(r){var l=r.getStartPosition(),c=t.bracketPairs.matchBracket(l),h=null;if(c)c[0].containsPosition(l)&&!c[1].containsPosition(l)?h=c[1].getStartPosition():c[1].containsPosition(l)&&(h=c[0].getStartPosition());else{var f=t.bracketPairs.findEnclosingBrackets(l);if(f)h=f[1].getStartPosition();else{var R=t.bracketPairs.findNextBracket(l);R&&R.range&&(h=R.range.getStartPosition())}}return h?new Gi.a(h.lineNumber,h.column,h.lineNumber,h.column):new Gi.a(l.lineNumber,l.column,l.lineNumber,l.column)});this._editor.setSelections(n),this._editor.revealRange(n[0])}}},{key:"selectToBracket",value:function(t){if(!!this._editor.hasModel()){var n=this._editor.getModel(),r=[];this._editor.getSelections().forEach(function(l){var c=l.getStartPosition(),h=n.bracketPairs.matchBracket(c);if(!h&&(h=n.bracketPairs.findEnclosingBrackets(c),!h)){var f=n.bracketPairs.findNextBracket(c);f&&f.range&&(h=n.bracketPairs.matchBracket(f.range.getStartPosition()))}var R=null,Z=null;if(h){h.sort(Dt.a.compareRangesUsingStarts);var ie=h,je=Object(z.a)(ie,2),Ie=je[0],st=je[1];if(R=t?Ie.getStartPosition():Ie.getEndPosition(),Z=t?st.getEndPosition():st.getStartPosition(),st.containsPosition(c)){var ft=R;R=Z,Z=ft}}R&&Z&&r.push(new Gi.a(R.lineNumber,R.column,Z.lineNumber,Z.column))}),r.length>0&&(this._editor.setSelections(r),this._editor.revealRange(r[0]))}}},{key:"removeBrackets",value:function(t){var n=this;if(!!this._editor.hasModel()){var r=this._editor.getModel();this._editor.getSelections().forEach(function(l){var c=l.getPosition(),h=r.bracketPairs.matchBracket(c);h||(h=r.bracketPairs.findEnclosingBrackets(c)),h&&(n._editor.pushUndoStop(),n._editor.executeEdits(t,[{range:h[0],text:""},{range:h[1],text:""}]),n._editor.pushUndoStop())})}}},{key:"_updateBrackets",value:function(){if(this._matchBrackets!=="never"){this._recomputeBrackets();var t=[],n=0,r=Object(B.a)(this._lastBracketsData),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=c.brackets;h&&(t[n++]={range:h[0],options:c.options},t[n++]={range:h[1],options:c.options})}}catch(f){r.e(f)}finally{r.f()}this._decorations.set(t)}}},{key:"_recomputeBrackets",value:function(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}var t=this._editor.getSelections();if(t.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}var n=this._editor.getModel(),r=n.getVersionId(),l=[];this._lastVersionId===r&&(l=this._lastBracketsData);for(var c=[],h=0,f=0,R=t.length;f<R;f++){var Z=t[f];Z.isEmpty()&&(c[h++]=Z.getStartPosition())}c.length>1&&c.sort(tn.a.compare);for(var ie=[],je=0,Ie=0,st=l.length,ft=0,kt=c.length;ft<kt;ft++){for(var $t=c[ft];Ie<st&&l[Ie].position.isBefore($t);)Ie++;if(Ie<st&&l[Ie].position.equals($t))ie[je++]=l[Ie];else{var un=n.bracketPairs.matchBracket($t,20),Yn=e._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!un&&this._matchBrackets==="always"&&(un=n.bracketPairs.findEnclosingBrackets($t,20),Yn=e._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),ie[je++]=new Mr($t,un,Yn)}}this._lastBracketsData=ie,this._lastVersionId=r}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);na.ID="editor.contrib.bracketMatchingController",na._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=ti.b.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Object(Oi.f)(Yi),position:pn.f.Center}}),na._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=ti.b.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),Object(St.m)(na.ID,na,1),Object(St.k)(qi),Object(St.k)(Hi),Object(St.k)(Qr),kn.e.appendMenuItem(kn.c.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:Qe.b({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});var Br=function(){function s(o,e){Object(k.a)(this,s),this._selection=o,this._isMovingLeft=e}return Object(w.a)(s,[{key:"getEditOperations",value:function(e,i){if(!(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())){var t=this._selection.startLineNumber,n=this._selection.startColumn,r=this._selection.endColumn;if(!(this._isMovingLeft&&n===1)&&!(!this._isMovingLeft&&r===e.getLineMaxColumn(t)))if(this._isMovingLeft){var l=new Dt.a(t,n-1,t,n),c=e.getValueInRange(l);i.addEditOperation(l,null),i.addEditOperation(new Dt.a(t,r,t,r),c)}else{var h=new Dt.a(t,r,t,r+1),f=e.getValueInRange(h);i.addEditOperation(h,null),i.addEditOperation(new Dt.a(t,n,t,n),f)}}}},{key:"computeCursorState",value:function(e,i){return this._isMovingLeft?new Gi.a(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Gi.a(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}]),s}(),ha=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this,t),n.left=i,n}return Object(w.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=[],l=n.getSelections(),c=Object(B.a)(l),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;r.push(new Br(f,this.left))}}catch(R){c.e(R)}finally{c.f()}n.pushUndoStop(),n.executeCommands(this.id,r),n.pushUndoStop()}}}]),e}(St.b),vn=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:Qe.b("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:an.a.writable})}return Object(w.a)(e)}(ha),Ln=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!1,{id:"editor.action.moveCarretRightAction",label:Qe.b("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:an.a.writable})}return Object(w.a)(e)}(ha);Object(St.k)(vn),Object(St.k)(Ln);var ut=a("LCkn"),Tt=a("mJFO"),Pt=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.transposeLetters",label:Qe.b("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:an.a.writable,kbOpts:{kbExpr:an.a.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=n.getModel(),l=[],c=n.getSelections(),h=Object(B.a)(c),f;try{for(h.s();!(f=h.n()).done;){var R=f.value;if(!!R.isEmpty()){var Z=R.startLineNumber,ie=R.startColumn,je=r.getLineMaxColumn(Z);if(!(Z===1&&(ie===1||ie===2&&je===2))){var Ie=ie===je?R.getPosition():Tt.a.rightPosition(r,R.getPosition().lineNumber,R.getPosition().column),st=Tt.a.leftPosition(r,Ie),ft=Tt.a.leftPosition(r,st),kt=r.getValueInRange(Dt.a.fromPositions(ft,st)),$t=r.getValueInRange(Dt.a.fromPositions(st,Ie)),un=Dt.a.fromPositions(ft,Ie);l.push(new ut.a(un,$t+kt))}}}}catch(Yn){h.e(Yn)}finally{h.f()}l.length>0&&(n.pushUndoStop(),n.executeCommands(this.id,l),n.pushUndoStop())}}}]),e}(St.b);Object(St.k)(Pt);var Zt=a("D3Dy"),Ut=a("MNsG"),Nn=a("5TxY"),In=a("Vxe3"),Wn=a("9XeP"),oi=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},bi="9_cutcopypaste",_n=Ut.k||document.queryCommandSupported("cut"),li=Ut.k||document.queryCommandSupported("copy"),ki=typeof navigator.clipboard=="undefined"||Zt.isFirefox?document.queryCommandSupported("paste"):!0;function Ki(s){return s.register(),s}var Tr=_n?Ki(new St.f({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Ut.k?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:kn.c.MenubarEditMenu,group:"2_ccp",title:Qe.b({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:kn.c.EditorContext,group:bi,title:Qe.b("actions.clipboard.cutLabel","Cut"),when:an.a.writable,order:1},{menuId:kn.c.CommandPalette,group:"",title:Qe.b("actions.clipboard.cutLabel","Cut"),order:1},{menuId:kn.c.SimpleEditorContext,group:bi,title:Qe.b("actions.clipboard.cutLabel","Cut"),when:an.a.writable,order:1}]})):void 0,ir=li?Ki(new St.f({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Ut.k?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:kn.c.MenubarEditMenu,group:"2_ccp",title:Qe.b({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:kn.c.EditorContext,group:bi,title:Qe.b("actions.clipboard.copyLabel","Copy"),order:2},{menuId:kn.c.CommandPalette,group:"",title:Qe.b("actions.clipboard.copyLabel","Copy"),order:1},{menuId:kn.c.SimpleEditorContext,group:bi,title:Qe.b("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;kn.e.appendMenuItem(kn.c.MenubarEditMenu,{submenu:kn.c.MenubarCopy,title:{value:Qe.b("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),kn.e.appendMenuItem(kn.c.EditorContext,{submenu:kn.c.EditorContextCopy,title:{value:Qe.b("copy as","Copy As"),original:"Copy As"},group:bi,order:3}),kn.e.appendMenuItem(kn.c.EditorContext,{submenu:kn.c.EditorContextShare,title:{value:Qe.b("share","Share"),original:"Share"},group:"11_share",order:-1,when:Jn.a.and(Jn.a.notEquals("resourceScheme","output"),an.a.editorTextFocus)}),kn.e.appendMenuItem(kn.c.EditorTitleContext,{submenu:kn.c.EditorTitleContextShare,title:{value:Qe.b("share","Share"),original:"Share"},group:"11_share",order:-1}),kn.e.appendMenuItem(kn.c.ExplorerContext,{submenu:kn.c.ExplorerContextShare,title:{value:Qe.b("share","Share"),original:"Share"},group:"11_share",order:-1});var Er=ki?Ki(new St.f({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Ut.k?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:kn.c.MenubarEditMenu,group:"2_ccp",title:Qe.b({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:kn.c.EditorContext,group:bi,title:Qe.b("actions.clipboard.pasteLabel","Paste"),when:an.a.writable,order:4},{menuId:kn.c.CommandPalette,group:"",title:Qe.b("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:kn.c.SimpleEditorContext,group:bi,title:Qe.b("actions.clipboard.pasteLabel","Paste"),when:an.a.writable,order:4}]})):void 0,va=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:Qe.b("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:an.a.textInputFocus,primary:0,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=n.getOption(35);!r&&n.getSelection().isEmpty()||(Nn.a.forceCopyWithSyntaxHighlighting=!0,n.focus(),document.execCommand("copy"),Nn.a.forceCopyWithSyntaxHighlighting=!1)}}}]),e}(St.b);function Sn(s,o){!s||(s.addImplementation(1e4,"code-editor",function(e,i){var t=e.get(In.a).getFocusedCodeEditor();if(t&&t.hasTextFocus()){var n=t.getOption(35),r=t.getSelection();return r&&r.isEmpty()&&!n||document.execCommand(o),!0}return!1}),s.addImplementation(0,"generic-dom",function(e,i){return document.execCommand(o),!0}))}Sn(Tr,"cut"),Sn(ir,"copy"),Er&&(Er.addImplementation(1e4,"code-editor",function(s,o){var e=s.get(In.a),i=s.get(Wn.a),t=e.getFocusedCodeEditor();if(t&&t.hasTextFocus()){var n=document.execCommand("paste");return!n&&Ut.m?function(){return oi(void 0,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,i.readText();case 2:l=ie.sent,l!==""&&(c=Nn.b.INSTANCE.get(l),h=!1,f=null,R=null,c&&(h=t.getOption(35)&&!!c.isFromEmptySelection,f=typeof c.multicursorText!="undefined"?c.multicursorText:null,R=c.mode),t.trigger("keyboard","paste",{text:l,pasteOnNewLine:h,multicursorText:f,mode:R}));case 4:case"end":return ie.stop()}},r)}))}():!0}return!1}),Er.addImplementation(0,"generic-dom",function(s,o){return document.execCommand("paste"),!0})),li&&Object(St.k)(va);var ri=a("ZdAd"),Vn=a("N0LK"),Ai=a("oBTY"),or=a("6OMU"),Zi=a("JQT/"),zi=a("/cxE"),Wr=a("bY76"),Ra=a("x/UI"),Nr=a("c0Ay"),xa=a("lEqV"),Qa=a("87Gm"),ia=a("nnTU"),io=a("sM1p"),ro=a("tTk5"),vo=a("XXUj"),Zo=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Hr=function(){function s(o){Object(k.a)(this,s),this.value=o}return Object(w.a)(s,[{key:"equals",value:function(e){return this.value===e.value}},{key:"contains",value:function(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+s.sep)}},{key:"intersects",value:function(e){return this.contains(e)||e.contains(this)}},{key:"append",value:function(e){return new s(this.value+s.sep+e)}}]),s}();Hr.sep=".",Hr.None=new Hr("@@none@@"),Hr.Empty=new Hr(""),Hr.QuickFix=new Hr("quickfix"),Hr.Refactor=new Hr("refactor"),Hr.RefactorExtract=Hr.Refactor.append("extract"),Hr.RefactorInline=Hr.Refactor.append("inline"),Hr.RefactorMove=Hr.Refactor.append("move"),Hr.RefactorRewrite=Hr.Refactor.append("rewrite"),Hr.Source=new Hr("source"),Hr.SourceOrganizeImports=Hr.Source.append("organizeImports"),Hr.SourceFixAll=Hr.Source.append("fixAll"),Hr.SurroundWith=Hr.Refactor.append("surround");var ao;(function(s){s.Refactor="refactor",s.RefactorPreview="refactor preview",s.Lightbulb="lightbulb",s.Default="other (default)",s.SourceAction="source action",s.QuickFix="quick fix action",s.FixAll="fix all",s.OrganizeImports="organize imports",s.AutoFix="auto fix",s.QuickFixHover="quick fix hover window",s.OnSave="save participants",s.ProblemsView="problems view"})(ao||(ao={}));function ka(s,o){return!(s.include&&!s.include.intersects(o)||s.excludes&&s.excludes.some(function(e){return La(o,e,s.include)})||!s.includeSourceActions&&Hr.Source.contains(o))}function ua(s,o){var e=o.kind?new Hr(o.kind):void 0;return!(s.include&&(!e||!s.include.contains(e))||s.excludes&&e&&s.excludes.some(function(i){return La(e,i,s.include)})||!s.includeSourceActions&&e&&Hr.Source.contains(e)||s.onlyIncludePreferredActions&&!o.isPreferred)}function La(s,o,e){return!(!o.contains(s)||e&&o.contains(e))}var Mo=function(){function s(o,e,i){Object(k.a)(this,s),this.kind=o,this.apply=e,this.preferred=i}return Object(w.a)(s,null,[{key:"fromUser",value:function(e,i){return!e||typeof e!="object"?new s(i.kind,i.apply,!1):new s(s.getKindFromUser(e,i.kind),s.getApplyFromUser(e,i.apply),s.getPreferredUser(e))}},{key:"getApplyFromUser",value:function(e,i){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}},{key:"getKindFromUser",value:function(e,i){return typeof e.kind=="string"?new Hr(e.kind):i}},{key:"getPreferredUser",value:function(e){return typeof e.preferred=="boolean"?e.preferred:!1}}]),s}(),ts=function(){function s(o,e){Object(k.a)(this,s),this.action=o,this.provider=e}return Object(w.a)(s,[{key:"resolve",value:function(e){var i;return Zo(this,void 0,void 0,Object(d.a)().mark(function t(){var n;return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(((i=this.provider)===null||i===void 0?void 0:i.resolveCodeAction)&&!this.action.edit)){l.next=11;break}return l.prev=1,l.next=4,this.provider.resolveCodeAction(this.action,e);case 4:n=l.sent,l.next=10;break;case 7:l.prev=7,l.t0=l.catch(1),Object(zi.i)(l.t0);case 10:n&&(this.action.edit=n.edit);case 11:return l.abrupt("return",this);case 12:case"end":return l.stop()}},t,this,[[1,7]])}))}}]),s}(),At=Object(d.a)().mark(sn),nt=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},_e="editor.action.codeAction",q="editor.action.quickFix",M="editor.action.autoFix",D="editor.action.refactor",G="editor.action.sourceAction",oe="editor.action.organizeImports",xe="editor.action.fixAll",Ve=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r.documentation=t,r._register(n),r.allActions=Object(Ai.a)(i).sort(e.codeActionsComparator),r.validActions=r.allActions.filter(function(l){var c=l.action;return!c.disabled}),r}return Object(w.a)(e,[{key:"hasAutoFix",get:function(){return this.validActions.some(function(t){var n=t.action;return!!n.kind&&Hr.QuickFix.contains(new Hr(n.kind))&&!!n.isPreferred})}}],[{key:"codeActionsPreferredComparator",value:function(t,n){return t.isPreferred&&!n.isPreferred?-1:!t.isPreferred&&n.isPreferred?1:0}},{key:"codeActionsComparator",value:function(t,n){var r=t.action,l=n.action;return Object(or.s)(r.diagnostics)?Object(or.s)(l.diagnostics)?e.codeActionsPreferredComparator(r,l):-1:Object(or.s)(l.diagnostics)?1:e.codeActionsPreferredComparator(r,l)}}]),e}(Ze.a),lt={actions:[],documentation:void 0};function pt(s,o,e,i,t,n){var r;return nt(this,void 0,void 0,Object(d.a)().mark(function l(){var c=this,h,f,R,Z,ie,je,Ie,st,ft,kt;return Object(d.a)().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:return h=i.filter||{},f={only:(r=h.include)===null||r===void 0?void 0:r.value,trigger:i.type},R=new Qa.c(o,n),Z=xt(s,o,h),ie=new Ze.c,je=Z.map(function(Yn){return nt(c,void 0,void 0,Object(d.a)().mark(function xn(){var fi,Si,ji;return Object(d.a)().wrap(function(Lr){for(;;)switch(Lr.prev=Lr.next){case 0:return Lr.prev=0,t.report(Yn),Lr.next=4,Yn.provideCodeActions(o,e,f,R.token);case 4:if(fi=Lr.sent,fi&&ie.add(fi),!R.token.isCancellationRequested){Lr.next=8;break}return Lr.abrupt("return",lt);case 8:return Si=((fi==null?void 0:fi.actions)||[]).filter(function(gr){return gr&&ua(h,gr)}),ji=ln(Yn,Si,h.include),Lr.abrupt("return",{actions:Si.map(function(gr){return new ts(gr,Yn)}),documentation:ji});case 13:if(Lr.prev=13,Lr.t0=Lr.catch(0),!Object(zi.g)(Lr.t0)){Lr.next=17;break}throw Lr.t0;case 17:return Object(zi.i)(Lr.t0),Lr.abrupt("return",lt);case 19:case"end":return Lr.stop()}},xn,null,[[0,13]])}))}),Ie=s.onDidChange(function(){var Yn=s.all(o);Object(or.j)(Yn,Z)||R.cancel()}),un.prev=7,un.next=10,Promise.all(je);case 10:return st=un.sent,ft=st.map(function(Yn){return Yn.actions}).flat(),kt=[].concat(Object(Ai.a)(Object(or.f)(st.map(function(Yn){return Yn.documentation}))),Object(Ai.a)(sn(s,o,i,ft))),un.abrupt("return",new Ve(ft,kt,ie));case 14:return un.prev=14,Ie.dispose(),R.dispose(),un.finish(14);case 18:case"end":return un.stop()}},l,null,[[7,,14,18]])}))}function xt(s,o,e){return s.all(o).filter(function(i){return i.providedCodeActionKinds?i.providedCodeActionKinds.some(function(t){return ka(e,new Hr(t))}):!0})}function sn(s,o,e,i){var t,n,r,l,c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!(o&&i.length)){R.next=18;break}l=Object(B.a)(s.all(o)),R.prev=2,l.s();case 4:if((c=l.n()).done){R.next=10;break}if(h=c.value,!h._getAdditionalMenuItems){R.next=8;break}return R.delegateYield((t=h._getAdditionalMenuItems)===null||t===void 0?void 0:t.call(h,{trigger:e.type,only:(r=(n=e.filter)===null||n===void 0?void 0:n.include)===null||r===void 0?void 0:r.value},i.map(function(Z){return Z.action})),"t0",8);case 8:R.next=4;break;case 10:R.next=15;break;case 12:R.prev=12,R.t1=R.catch(2),l.e(R.t1);case 15:return R.prev=15,l.f(),R.finish(15);case 18:case"end":return R.stop()}},At,null,[[2,12,15,18]])}function ln(s,o,e){if(!!s.documentation){var i=s.documentation.map(function(je){return{kind:new Hr(je.kind),command:je.command}});if(e){var t,n=Object(B.a)(i),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;l.kind.contains(e)&&(t?t.kind.contains(l.kind)&&(t=l):t=l)}}catch(je){n.e(je)}finally{n.f()}if(t)return t==null?void 0:t.command}var c=Object(B.a)(o),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;if(!!f.kind){var R=Object(B.a)(i),Z;try{for(R.s();!(Z=R.n()).done;){var ie=Z.value;if(ie.kind.contains(new Hr(f.kind)))return ie.command}}catch(je){R.e(je)}finally{R.f()}}}}catch(je){c.e(je)}finally{c.f()}}}var mn;(function(s){s.OnSave="onSave",s.FromProblemsView="fromProblemsView",s.FromCodeActions="fromCodeActions"})(mn||(mn={}));function Tn(s,o,e,i){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Zi.a.None,n;return nt(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f,R,Z;return Object(d.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return l=s.get(Ra.a),c=s.get(ia.b),h=s.get(vo.a),f=s.get(io.a),h.publicLog2("codeAction.applyCodeAction",{codeActionTitle:o.action.title,codeActionKind:o.action.kind,codeActionIsPreferred:!!o.action.isPreferred,reason:e}),je.next=7,o.resolve(t);case 7:if(!t.isCancellationRequested){je.next=9;break}return je.abrupt("return");case 9:if(!((n=o.action.edit)===null||n===void 0?void 0:n.edits.length)){je.next=15;break}return je.next=12,l.apply(o.action.edit,{editor:i==null?void 0:i.editor,label:o.action.title,quotableLabel:o.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:e!==mn.OnSave,showPreview:i==null?void 0:i.preview});case 12:if(R=je.sent,R.isApplied){je.next=15;break}return je.abrupt("return");case 15:if(!o.action.command){je.next=25;break}return je.prev=16,je.next=19,c.executeCommand.apply(c,[o.action.command.id].concat(Object(Ai.a)(o.action.command.arguments||[])));case 19:je.next=25;break;case 21:je.prev=21,je.t0=je.catch(16),Z=ai(je.t0),f.error(typeof Z=="string"?Z:Qe.b("applyCodeActionFailed","An unknown error occurred while applying the code action"));case 25:case"end":return je.stop()}},r,null,[[16,21]])}))}function ai(s){return typeof s=="string"?s:s instanceof Error&&typeof s.message=="string"?s.message:void 0}ia.a.registerCommand("_executeCodeActionProvider",function(s,o,e,i,t){return nt(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R,Z,ie,je;return Object(d.a)().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(o instanceof Wr.a){st.next=2;break}throw Object(zi.e)();case 2:if(r=s.get(Nr.a),l=r.codeActionProvider,c=s.get(xa.a).getModel(o),c){st.next=6;break}throw Object(zi.e)();case 6:if(h=Gi.a.isISelection(e)?Gi.a.liftSelection(e):Dt.a.isIRange(e)?c.validateRange(e):void 0,h){st.next=9;break}throw Object(zi.e)();case 9:return f=typeof i=="string"?new Hr(i):void 0,st.next=12,pt(l,c,h,{type:1,triggerAction:ao.Default,filter:{includeSourceActions:!0,include:f}},ro.c.None,Zi.a.None);case 12:for(R=st.sent,Z=[],ie=Math.min(R.validActions.length,typeof t=="number"?t:0),je=0;je<ie;je++)Z.push(R.validActions[je].resolve(Zi.a.None));return st.prev=16,st.next=19,Promise.all(Z);case 19:return st.abrupt("return",R.validActions.map(function(ft){return ft.action}));case 20:return st.prev=20,setTimeout(function(){return R.dispose()},100),st.finish(20);case 23:case"end":return st.stop()}},n,null,[[16,,20,23]])}))});var pi=a("tS8v"),yi=a("w4Tj"),vi=a("oZsa"),Bt=a("EffR"),hr=a("QdLL"),Ii=a("bexQ"),Ar=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Gr=function(s,o){return function(e,i){o(e,i,s)}},ea=function(){function s(o){Object(k.a)(this,s),this.keybindingService=o}return Object(w.a)(s,[{key:"getResolver",value:function(){var e=this,i=new hr.a(function(){return e.keybindingService.getKeybindings().filter(function(t){return s.codeActionCommands.indexOf(t.command)>=0}).filter(function(t){return t.resolvedKeybinding}).map(function(t){var n=t.commandArgs;return t.command===oe?n={kind:Hr.SourceOrganizeImports.value}:t.command===xe&&(n={kind:Hr.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},Mo.fromUser(n,{kind:Hr.None,apply:"never"}))})});return function(t){if(t.kind){var n=e.bestKeybindingForCodeAction(t,i.value);return n==null?void 0:n.resolvedKeybinding}}}},{key:"bestKeybindingForCodeAction",value:function(e,i){if(!!e.kind){var t=new Hr(e.kind);return i.filter(function(n){return n.kind.contains(t)}).filter(function(n){return n.preferred?e.isPreferred:!0}).reduceRight(function(n,r){return n?n.kind.contains(r.kind)?r:n:r},void 0)}}}]),s}();ea.codeActionCommands=[D,_e,G,oe,xe],ea=Ar([Gr(0,Ii.a)],ea);var ya=a("HgMQ"),Da=a("8tI9"),ta=a("Vhoy"),Ya=a("PPCJ"),Va=Object(Vt.Fc)("symbolIcon.arrayForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mo=Object(Vt.Fc)("symbolIcon.booleanForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),po=Object(Vt.Fc)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},Object(Qe.b)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zo=Object(Vt.Fc)("symbolIcon.colorForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ss=Object(Vt.Fc)("symbolIcon.constantForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xo=Object(Vt.Fc)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},Object(Qe.b)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ko=Object(Vt.Fc)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},Object(Qe.b)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ds=Object(Vt.Fc)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Object(Qe.b)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),go=Object(Vt.Fc)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},Object(Qe.b)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Go=Object(Vt.Fc)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Object(Qe.b)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Jo=Object(Vt.Fc)("symbolIcon.fileForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$o=Object(Vt.Fc)("symbolIcon.folderForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),As=Object(Vt.Fc)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},Object(Qe.b)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ou=Object(Vt.Fc)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Object(Qe.b)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),su=Object(Vt.Fc)("symbolIcon.keyForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Es=Object(Vt.Fc)("symbolIcon.keywordForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ul=Object(Vt.Fc)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},Object(Qe.b)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Us=Object(Vt.Fc)("symbolIcon.moduleForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),lu=Object(Vt.Fc)("symbolIcon.namespaceForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cl=Object(Vt.Fc)("symbolIcon.nullForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dl=Object(Vt.Fc)("symbolIcon.numberForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Wl=Object(Vt.Fc)("symbolIcon.objectForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Dl=Object(Vt.Fc)("symbolIcon.operatorForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fc=Object(Vt.Fc)("symbolIcon.packageForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),uo=Object(Vt.Fc)("symbolIcon.propertyForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ku=Object(Vt.Fc)("symbolIcon.referenceForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),eo=Object(Vt.Fc)("symbolIcon.snippetForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wl=Object(Vt.Fc)("symbolIcon.stringForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bo=Object(Vt.Fc)("symbolIcon.structForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),aa=Object(Vt.Fc)("symbolIcon.textForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Lu=Object(Vt.Fc)("symbolIcon.typeParameterForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zs=Object(Vt.Fc)("symbolIcon.unitForeground",{dark:Vt.mb,light:Vt.mb,hcDark:Vt.mb,hcLight:Vt.mb},Object(Qe.b)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ks=Object(Vt.Fc)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},Object(Qe.b)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ls=Object.freeze({kind:Hr.Empty,title:Object(Qe.b)("codeAction.widget.id.more","More Actions...")}),vc=Object.freeze([{kind:Hr.QuickFix,title:Object(Qe.b)("codeAction.widget.id.quickfix","Quick Fix...")},{kind:Hr.RefactorExtract,title:Object(Qe.b)("codeAction.widget.id.extract","Extract..."),icon:ta.a.wrench},{kind:Hr.RefactorInline,title:Object(Qe.b)("codeAction.widget.id.inline","Inline..."),icon:ta.a.wrench},{kind:Hr.RefactorRewrite,title:Object(Qe.b)("codeAction.widget.id.convert","Rewrite..."),icon:ta.a.wrench},{kind:Hr.RefactorMove,title:Object(Qe.b)("codeAction.widget.id.move","Move..."),icon:ta.a.wrench},{kind:Hr.SurroundWith,title:Object(Qe.b)("codeAction.widget.id.surround","Surround With..."),icon:ta.a.symbolSnippet},{kind:Hr.Source,title:Object(Qe.b)("codeAction.widget.id.source","Source Action..."),icon:ta.a.symbolFile},Ls]);function jl(s,o,e){if(!o)return s.map(function(kt){return{kind:"action",item:kt,group:Ls,disabled:!!kt.action.disabled,label:kt.action.disabled||kt.action.title}});var i=vc.map(function(kt){return{group:kt,actions:[]}}),t=Object(B.a)(s),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=r.action.kind?new Hr(r.action.kind):Hr.None,c=Object(B.a)(i),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;if(f.group.kind.contains(l)){f.actions.push(r);break}}}catch(kt){c.e(kt)}finally{c.f()}}}catch(kt){t.e(kt)}finally{t.f()}var R=[],Z=Object(B.a)(i),ie;try{for(Z.s();!(ie=Z.n()).done;){var je=ie.value;if(je.actions.length){R.push({kind:"header",group:je.group});var Ie=Object(B.a)(je.actions),st;try{for(Ie.s();!(st=Ie.n()).done;){var ft=st.value;R.push({kind:"action",item:ft,group:je.group,label:ft.action.title,disabled:!!ft.action.disabled,keybinding:e(ft.action)})}}catch(kt){Ie.e(kt)}finally{Ie.f()}}}}catch(kt){Z.e(kt)}finally{Z.f()}return R}var Vl=a("pg8w"),rr=a("MI8n"),oa=a("T5lh"),Yr=a("746U"),os=a("YRwz"),Fo=a("16Jm"),Rs=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Ns=function(s,o){return function(e,i){o(e,i,s)}},ps;(function(s){s.Hidden={type:0};var o=Object(w.a)(function e(i,t,n,r){Object(k.a)(this,e),this.actions=i,this.trigger=t,this.editorPosition=n,this.widgetPosition=r,this.type=1});s.Showing=o})(ps||(ps={}));var hs=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n._editor=i,n._onClick=n._register(new rr.b),n.onClick=n._onClick.event,n._state=ps.Hidden,n._domNode=Bt.$("div.lightBulbWidget"),n._register(Vl.b.ignoreTarget(n._domNode)),n._editor.addContentWidget(Object(pi.a)(n)),n._register(n._editor.onDidChangeModelContent(function(r){var l=n._editor.getModel();(n.state.type!==1||!l||n.state.editorPosition.lineNumber>=l.getLineCount())&&n.hide()})),n._register(Bt.addStandardDisposableGenericMouseDownListener(n._domNode,function(r){if(n.state.type===1){n._editor.focus(),r.preventDefault();var l=Bt.getDomNodePagePosition(n._domNode),c=l.top,h=l.height,f=n._editor.getOption(64),R=Math.floor(f/3);n.state.widgetPosition.position!==null&&n.state.widgetPosition.position.lineNumber<n.state.editorPosition.lineNumber&&(R+=f),n._onClick.fire({x:r.posx,y:c+h+R,actions:n.state.actions,trigger:n.state.trigger})}})),n._register(Bt.addDisposableListener(n._domNode,"mouseenter",function(r){(r.buttons&1)==1&&n.hide()})),n._register(n._editor.onDidChangeConfiguration(function(r){r.hasChanged(62)&&!n._editor.getOption(62).enabled&&n.hide()})),n._register(rr.c.runAndSubscribe(t.onDidUpdateKeybindings,function(){var r,l;n._preferredKbLabel=Object(Yr.n)((r=t.lookupKeybinding(M))===null||r===void 0?void 0:r.getLabel()),n._quickFixKbLabel=Object(Yr.n)((l=t.lookupKeybinding(q))===null||l===void 0?void 0:l.getLabel()),n._updateLightBulbTitleAndIcon()})),n}return Object(w.a)(e,[{key:"dispose",value:function(){Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this),this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"LightBulbWidget"}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return this._state.type===1?this._state.widgetPosition:null}},{key:"update",value:function(t,n,r){var l=this;if(t.validActions.length<=0)return this.hide();var c=this._editor.getOptions();if(!c.get(62).enabled)return this.hide();var h=this._editor.getModel();if(!h)return this.hide();var f=h.validatePosition(r),R=f.lineNumber,Z=f.column,ie=h.getOptions().tabSize,je=c.get(48),Ie=h.getLineContent(R),st=Object(Fo.a)(Ie,ie),ft=je.spaceWidth*st>22,kt=function(Yn){return Yn>2&&l._editor.getTopForLineNumber(Yn)===l._editor.getTopForLineNumber(Yn-1)},$t=R;if(!ft){if(R>1&&!kt(R-1))$t-=1;else if(!kt(R+1))$t+=1;else if(Z*je.spaceWidth<22)return this.hide()}this.state=new ps.Showing(t,n,r,{position:{lineNumber:$t,column:1},preference:e._posPref}),this._editor.layoutContentWidget(this)}},{key:"hide",value:function(){this.state!==ps.Hidden&&(this.state=ps.Hidden,this._editor.layoutContentWidget(this))}},{key:"state",get:function(){return this._state},set:function(t){this._state=t,this._updateLightBulbTitleAndIcon()}},{key:"_updateLightBulbTitleAndIcon",value:function(){var t,n;if(this.state.type===1&&this.state.actions.hasAutoFix){var r,l;if((r=this._domNode.classList).remove.apply(r,Object(Ai.a)(oa.a.asClassNameArray(ta.a.lightBulb))),(l=this._domNode.classList).add.apply(l,Object(Ai.a)(oa.a.asClassNameArray(ta.a.lightbulbAutofix))),this._preferredKbLabel){this.title=Qe.b("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel);return}}(t=this._domNode.classList).remove.apply(t,Object(Ai.a)(oa.a.asClassNameArray(ta.a.lightbulbAutofix))),(n=this._domNode.classList).add.apply(n,Object(Ai.a)(oa.a.asClassNameArray(ta.a.lightBulb))),this._quickFixKbLabel?this.title=Qe.b("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):this.title=Qe.b("codeAction","Show Code Actions")}},{key:"title",set:function(t){this._domNode.title=t}}]),e}(Ze.a);hs.ID="editor.contrib.lightbulbWidget",hs._posPref=[0],hs=Rs([Ns(1,Ii.a)],hs);var gc=a("6nEQ"),mc=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},xs=function(s,o){return function(e,i){o(e,i,s)}},ns=function(){function s(o,e){Object(k.a)(this,s),this._messageWidget=new Ze.e,this._messageListeners=new Ze.c,this._editor=o,this._visible=s.MESSAGE_VISIBLE.bindTo(e)}return Object(w.a)(s,[{key:"dispose",value:function(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}},{key:"showMessage",value:function(e,i){var t=this;Object(xi.a)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Zs(this._editor,i,e),this._messageListeners.add(this._editor.onDidBlurEditorText(function(){return t.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(function(){return t.closeMessage()})),this._messageListeners.add(this._editor.onDidDispose(function(){return t.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeModel(function(){return t.closeMessage()})),this._messageListeners.add(new et.i(function(){return t.closeMessage()},3e3));var n;this._messageListeners.add(this._editor.onMouseMove(function(r){!r.target.position||(n?n.containsPosition(r.target.position)||t.closeMessage():n=new Dt.a(i.lineNumber-3,1,r.target.position.lineNumber+3,1))}))}},{key:"closeMessage",value:function(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Zs.fadeOut(this._messageWidget.value))}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();ns.ID="editor.contrib.messageController",ns.MESSAGE_VISIBLE=new Jn.c("messageVisible",!1,Qe.b("messageVisible","Whether the editor is currently showing an inline message")),ns=mc([xs(1,Jn.b)],ns);var pc=St.d.bindToContribution(ns.get);Object(St.l)(new pc({id:"leaveEditorMessage",precondition:ns.MESSAGE_VISIBLE,handler:function(o){return o.closeMessage()},kbOpts:{weight:100+30,primary:9}}));var Zs=function(){function s(o,e,i){var t=e.lineNumber,n=e.column;Object(k.a)(this,s),this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=o,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:n},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";var r=document.createElement("div");r.classList.add("anchor","top"),this._domNode.appendChild(r);var l=document.createElement("div");l.classList.add("message"),l.textContent=i,this._domNode.appendChild(l);var c=document.createElement("div");c.classList.add("anchor","below"),this._domNode.appendChild(c),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return Object(w.a)(s,[{key:"dispose",value:function(){this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"messageoverlay"}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{position:this._position,preference:[1,2],positionAffinity:1}}},{key:"afterRender",value:function(e){this._domNode.classList.toggle("below",e===2)}}],[{key:"fadeOut",value:function(e){var i=function n(){e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",n)},t=setTimeout(i,110);return e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}}}]),s}();Object(St.m)(ns.ID,ns,4);var hl=a("WqXY"),Hc=a("wcGD"),uu=a("ZKkB"),bc=a("jaoW"),Gu=a("cqdO"),Ms=a("Uzvx"),fl=a("99AM"),$u=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},El=function(s,o){return function(e,i){o(e,i,s)}},yc="acceptSelectedCodeAction",_c="previewSelectedCodeAction",Cc=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"templateId",get:function(){return"header"}},{key:"renderTemplate",value:function(e){e.classList.add("group-header");var i=document.createElement("span");return e.append(i),{container:e,text:i}}},{key:"renderElement",value:function(e,i,t){var n,r;t.text.textContent=(r=(n=e.group)===null||n===void 0?void 0:n.title)!==null&&r!==void 0?r:""}},{key:"disposeTemplate",value:function(e){}}]),s}(),Qu=function(){function s(o,e){Object(k.a)(this,s),this._supportsPreview=o,this._keybindingService=e}return Object(w.a)(s,[{key:"templateId",get:function(){return"action"}},{key:"renderTemplate",value:function(e){e.classList.add(this.templateId);var i=document.createElement("div");i.className="icon",e.append(i);var t=document.createElement("span");t.className="title",e.append(t);var n=new bc.a(e,Ut.a);return{container:e,icon:i,text:t,keybinding:n}}},{key:"renderElement",value:function(e,i,t){var n,r,l;if(((n=e.group)===null||n===void 0?void 0:n.icon)?(t.icon.className=oa.a.asClassName(e.group.icon),e.group.icon.color&&(t.icon.style.color=Object(Vt.c)(e.group.icon.color.id))):(t.icon.className=oa.a.asClassName(ta.a.lightBulb),t.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!(!e.item||!e.label)){t.text.textContent=Yu(e.label),t.keybinding.set(e.keybinding),Bt.setVisibility(!!e.keybinding,t.keybinding.element);var c=(r=this._keybindingService.lookupKeybinding(yc))===null||r===void 0?void 0:r.getLabel(),h=(l=this._keybindingService.lookupKeybinding(_c))===null||l===void 0?void 0:l.getLabel();t.container.classList.toggle("option-disabled",e.disabled),e.disabled?t.container.title=e.label:c&&h?this._supportsPreview?t.container.title=Object(Qe.b)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",c,h):t.container.title=Object(Qe.b)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",c):t.container.title=""}}},{key:"disposeTemplate",value:function(e){}}]),s}();Qu=$u([El(1,Ii.a)],Qu);var bs=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,"acceptSelectedAction")}return Object(w.a)(e)}(Object(uu.a)(UIEvent)),rl=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,"previewSelectedAction")}return Object(w.a)(e)}(Object(uu.a)(UIEvent)),_o=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c){var h;Object(k.a)(this,e),h=o.call(this),h._delegate=r,h._contextViewService=l,h._keybindingService=c,h._actionLineHeight=24,h._headerLineHeight=26,h.domNode=document.createElement("div"),h.domNode.classList.add("actionList");var f={getHeight:function(Z){return Z.kind==="header"?h._headerLineHeight:h._actionLineHeight},getTemplateId:function(Z){return Z.kind}};return h._list=h._register(new Gu.b(i,h.domNode,f,[new Qu(t,h._keybindingService),new Cc],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:function(Z){if(Z.kind==="action"){var ie=Z.label?Yu(Z==null?void 0:Z.label):"";return Z.disabled&&(ie=Object(Qe.b)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",ie,Z.disabled)),ie}return null},getWidgetAriaLabel:function(){return Object(Qe.b)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget")},getRole:function(Z){return Z.kind==="action"?"option":"separator"},getWidgetRole:function(){return"listbox"}}})),h._list.style(fl.f),h._register(h._list.onMouseClick(function(R){return h.onListClick(R)})),h._register(h._list.onMouseOver(function(R){return h.onListHover(R)})),h._register(h._list.onDidChangeFocus(function(){return h._list.domFocus()})),h._register(h._list.onDidChangeSelection(function(R){return h.onListSelection(R)})),h._allMenuItems=n,h._list.splice(0,h._list.length,h._allMenuItems),h._list.length&&h.focusNext(),h}return Object(w.a)(e,[{key:"focusCondition",value:function(t){return!t.disabled&&t.kind==="action"}},{key:"hide",value:function(t){this._delegate.onHide(t),this._contextViewService.hideContextView()}},{key:"layout",value:function(t){var n=this,r=this._allMenuItems.filter(function(ie){return ie.kind==="header"}).length,l=this._allMenuItems.length*this._actionLineHeight,c=l+r*this._headerLineHeight-r*this._actionLineHeight;this._list.layout(c);var h=this._allMenuItems.map(function(ie,je){var Ie=document.getElementById(n._list.getElementID(je));if(Ie){Ie.style.width="auto";var st=Ie.getBoundingClientRect().width;return Ie.style.width="",st}return 0}),f=Math.max.apply(Math,Object(Ai.a)(h).concat([t])),R=.7,Z=Math.min(c,document.body.clientHeight*R);return this._list.layout(Z,f),this.domNode.style.height="".concat(Z,"px"),this._list.domFocus(),f}},{key:"focusPrevious",value:function(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}},{key:"focusNext",value:function(){this._list.focusNext(1,!0,void 0,this.focusCondition)}},{key:"acceptSelected",value:function(t){var n=this._list.getFocus();if(n.length!==0){var r=n[0],l=this._list.element(r);if(!!this.focusCondition(l)){var c=t?new rl:new bs;this._list.setSelection([r],c)}}}},{key:"onListSelection",value:function(t){if(!!t.elements.length){var n=t.elements[0];n.item&&this.focusCondition(n)?this._delegate.onSelect(n.item,t.browserEvent instanceof rl):this._list.setSelection([])}}},{key:"onListHover",value:function(t){this._list.setFocus(typeof t.index=="number"?[t.index]:[])}},{key:"onListClick",value:function(t){t.element&&this.focusCondition(t.element)&&this._list.setFocus([])}}]),e}(Ze.a);_o=$u([El(4,Ms.b),El(5,Ii.a)],_o);function Yu(s){return s.replace(/\r\n|\r|\n/g," ")}var Xs=a("9fML"),Ia=a("Cg/j"),Oc=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Uc=function(s,o){return function(e,i){o(e,i,s)}},cu={Visible:new Jn.c("codeActionMenuVisible",!1,Object(Qe.b)("codeActionMenuVisible","Whether the action widget list is visible"))},Js=Object(Ia.c)("actionWidgetService"),Hl=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r._contextViewService=i,r._contextKeyService=t,r._instantiationService=n,r._list=r._register(new Ze.e),r}return Object(w.a)(e,[{key:"isVisible",get:function(){return cu.Visible.getValue(this._contextKeyService)||!1}},{key:"show",value:function(t,n,r,l,c,h,f){var R=this,Z=cu.Visible.bindTo(this._contextKeyService),ie=this._instantiationService.createInstance(_o,t,n,r,l);this._contextViewService.showContextView({getAnchor:function(){return c},render:function(Ie){return Z.set(!0),R._renderWidget(Ie,ie,f!=null?f:[])},onHide:function(Ie){Z.reset(),R._onWidgetClosed(Ie)}},h,!1)}},{key:"acceptSelected",value:function(t){var n;(n=this._list.value)===null||n===void 0||n.acceptSelected(t)}},{key:"focusPrevious",value:function(){var t,n;(n=(t=this._list)===null||t===void 0?void 0:t.value)===null||n===void 0||n.focusPrevious()}},{key:"focusNext",value:function(){var t,n;(n=(t=this._list)===null||t===void 0?void 0:t.value)===null||n===void 0||n.focusNext()}},{key:"hide",value:function(){var t;(t=this._list.value)===null||t===void 0||t.hide(),this._list.clear()}},{key:"_renderWidget",value:function(t,n,r){var l=this,c,h=document.createElement("div");if(h.classList.add("action-widget"),t.appendChild(h),this._list.value=n,this._list.value)h.appendChild(this._list.value.domNode);else throw new Error("List has no value");var f=new Ze.c,R=document.createElement("div"),Z=t.appendChild(R);Z.classList.add("context-view-block"),f.add(Bt.addDisposableListener(Z,Bt.EventType.MOUSE_DOWN,function($t){return $t.stopPropagation()}));var ie=document.createElement("div"),je=t.appendChild(ie);je.classList.add("context-view-pointerBlock"),f.add(Bt.addDisposableListener(je,Bt.EventType.POINTER_MOVE,function(){return je.remove()})),f.add(Bt.addDisposableListener(je,Bt.EventType.MOUSE_DOWN,function(){return je.remove()}));var Ie=0;if(r.length){var st=this._createActionBar(".action-widget-action-bar",r);st&&(h.appendChild(st.getContainer().parentElement),f.add(st),Ie=st.getContainer().offsetWidth)}var ft=(c=this._list.value)===null||c===void 0?void 0:c.layout(Ie);h.style.width="".concat(ft,"px");var kt=f.add(Bt.trackFocus(t));return f.add(kt.onDidBlur(function(){return l.hide()})),f}},{key:"_createActionBar",value:function(t,n){if(!!n.length){var r=Bt.$(t),l=new hl.a(r);return l.push(n,{icon:!1,label:!0}),l}}},{key:"_onWidgetClosed",value:function(t){var n;(n=this._list.value)===null||n===void 0||n.hide(t)}}]),e}(Ze.a);Hl=Oc([Uc(0,Ms.b),Uc(1,Jn.b),Uc(2,Ia.a)],Hl),Object(Xs.b)(Js,Hl,1);var vl=100+1e3;Object(kn.i)(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"hideCodeActionWidget",title:{value:Object(Qe.b)("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:cu.Visible,keybinding:{weight:vl,primary:9,secondary:[1024|9]}})}return Object(w.a)(e,[{key:"run",value:function(t){t.get(Js).hide()}}]),e}(kn.a)),Object(kn.i)(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"selectPrevCodeAction",title:{value:Object(Qe.b)("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:cu.Visible,keybinding:{weight:vl,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})}return Object(w.a)(e,[{key:"run",value:function(t){var n=t.get(Js);n instanceof Hl&&n.focusPrevious()}}]),e}(kn.a)),Object(kn.i)(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"selectNextCodeAction",title:{value:Object(Qe.b)("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:cu.Visible,keybinding:{weight:vl,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})}return Object(w.a)(e,[{key:"run",value:function(t){var n=t.get(Js);n instanceof Hl&&n.focusNext()}}]),e}(kn.a)),Object(kn.i)(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:yc,title:{value:Object(Qe.b)("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:cu.Visible,keybinding:{weight:vl,primary:3,secondary:[2048|89]}})}return Object(w.a)(e,[{key:"run",value:function(t){var n=t.get(Js);n instanceof Hl&&n.acceptSelected()}}]),e}(kn.a)),Object(kn.i)(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:_c,title:{value:Object(Qe.b)("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:cu.Visible,keybinding:{weight:vl,primary:2048|3}})}return Object(w.a)(e,[{key:"run",value:function(t){var n=t.get(Js);n instanceof Hl&&n.acceptSelected(!0)}}]),e}(kn.a));var Po=a("+7oY"),Ao=a("tADe"),Za=a("gslv"),Sc=function(s,o,e,i){if(e==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?s!==o||!i:!o.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?i:e==="a"?i.call(s):i?i.value:o.get(s)},Ul=function(s,o,e,i,t){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!t)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?s!==o||!t:!o.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?t.call(s,e):t?t.value=e:o.set(s,e),e},Ll,kc=new Jn.c("supportedCodeAction",""),Ml=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:250;return Object(k.a)(this,e),r=o.call(this),r._editor=i,r._markerService=t,r._signalChange=n,r._delay=l,r._autoTriggerTimer=r._register(new et.i),r._register(r._markerService.onMarkerChanged(function(c){return r._onMarkerChanges(c)})),r._register(r._editor.onDidChangeCursorPosition(function(){return r._tryAutoTrigger()})),r}return Object(w.a)(e,[{key:"trigger",value:function(t){var n=this._getRangeOfSelectionUnlessWhitespaceEnclosed(t);this._signalChange(n?{trigger:t,selection:n}:void 0)}},{key:"_onMarkerChanges",value:function(t){var n=this._editor.getModel();n&&t.some(function(r){return Object(Za.g)(r,n.uri)})&&this._tryAutoTrigger()}},{key:"_tryAutoTrigger",value:function(){var t=this;this._autoTriggerTimer.cancelAndSet(function(){t.trigger({type:2,triggerAction:ao.Default})},this._delay)}},{key:"_getRangeOfSelectionUnlessWhitespaceEnclosed",value:function(t){if(!!this._editor.hasModel()){var n=this._editor.getModel(),r=this._editor.getSelection();if(r.isEmpty()&&t.type===2){var l=r.getPosition(),c=l.lineNumber,h=l.column,f=n.getLineContent(c);if(f.length===0)return;if(h===1){if(/\s/.test(f[0]))return}else if(h===n.getLineMaxColumn(c)){if(/\s/.test(f[f.length-1]))return}else if(/\s/.test(f[h-2])&&/\s/.test(f[h-1]))return}return r}}}]),e}(Ze.a),du;(function(s){s.Empty={type:0};var o=function(){function e(i,t,n){Object(k.a)(this,e),this.trigger=i,this.position=t,this._cancellablePromise=n,this.type=1,this.actions=n.catch(function(r){if(Object(zi.g)(r))return Zu;throw r})}return Object(w.a)(e,[{key:"cancel",value:function(){this._cancellablePromise.cancel()}}]),e}();s.Triggered=o})(du||(du={}));var Zu=Object.freeze({allActions:[],validActions:[],dispose:function(){},documentation:[],hasAutoFix:!1}),zl=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l){var c;return Object(k.a)(this,e),c=o.call(this),c._editor=i,c._registry=t,c._markerService=n,c._progressService=l,c._codeActionOracle=c._register(new Ze.e),c._state=du.Empty,c._onDidChangeState=c._register(new rr.b),c.onDidChangeState=c._onDidChangeState.event,Ll.set(Object(pi.a)(c),!1),c._supportedCodeActions=kc.bindTo(r),c._register(c._editor.onDidChangeModel(function(){return c._update()})),c._register(c._editor.onDidChangeModelLanguage(function(){return c._update()})),c._register(c._registry.onDidChange(function(){return c._update()})),c._update(),c}return Object(w.a)(e,[{key:"dispose",value:function(){Sc(this,Ll,"f")||(Ul(this,Ll,!0,"f"),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this),this.setState(du.Empty,!0))}},{key:"_update",value:function(){var t=this;if(!Sc(this,Ll,"f")){this._codeActionOracle.value=void 0,this.setState(du.Empty);var n=this._editor.getModel();if(n&&this._registry.has(n)&&!this._editor.getOption(88)){var r=this._registry.all(n).flatMap(function(l){var c;return(c=l.providedCodeActionKinds)!==null&&c!==void 0?c:[]});this._supportedCodeActions.set(r.join(" ")),this._codeActionOracle.value=new Ml(this._editor,this._markerService,function(l){var c;if(!l){t.setState(du.Empty);return}var h=Object(et.k)(function(f){return pt(t._registry,n,l.selection,l.trigger,ro.c.None,f)});l.trigger.type===1&&((c=t._progressService)===null||c===void 0||c.showWhile(h,250)),t.setState(new du.Triggered(l.trigger,l.selection.getStartPosition(),h))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:ao.Default})}else this._supportedCodeActions.reset()}}},{key:"trigger",value:function(t){var n;(n=this._codeActionOracle.value)===null||n===void 0||n.trigger(t)}},{key:"setState",value:function(t,n){t!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=t,!n&&!Sc(this,Ll,"f")&&this._onDidChangeState.fire(t))}}]),e}(Ze.a);Ll=new WeakMap;var Mu=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},qs=function(s,o){return function(e,i){o(e,i,s)}},Cs=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},zc=function(s,o,e,i,t){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!t)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?s!==o||!t:!o.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?t.call(s,e):t?t.value=e:o.set(s,e),e},fd=function(s,o,e,i){if(e==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?s!==o||!i:!o.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?i:e==="a"?i.call(s):i?i.value:o.get(s)},hu,Tl=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h,f,R,Z){var ie;return Object(k.a)(this,e),ie=o.call(this),ie._commandService=h,ie._configurationService=f,ie._actionWidgetService=R,ie._instantiationService=Z,ie._activeCodeActions=ie._register(new Ze.e),ie._showDisabled=!1,hu.set(Object(pi.a)(ie),!1),ie._editor=i,ie._model=ie._register(new zl(ie._editor,l.codeActionProvider,t,n,c)),ie._register(ie._model.onDidChangeState(function(je){return ie.update(je)})),ie._lightBulbWidget=new hr.a(function(){var je=ie._editor.getContribution(hs.ID);return je&&ie._register(je.onClick(function(Ie){return ie.showCodeActionList(Ie.actions,Ie,{includeDisabledActions:!1,fromLightbulb:!0})})),je}),ie._resolver=r.createInstance(ea),ie._register(ie._editor.onDidLayoutChange(function(){return ie._actionWidgetService.hide()})),ie}return Object(w.a)(e,[{key:"dispose",value:function(){zc(this,hu,!0,"f"),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"showCodeActions",value:function(t,n,r){return this.showCodeActionList(n,r,{includeDisabledActions:!1,fromLightbulb:!1})}},{key:"manualTriggerAtCurrentPosition",value:function(t,n,r,l){var c;if(!!this._editor.hasModel()){(c=ns.get(this._editor))===null||c===void 0||c.closeMessage();var h=this._editor.getPosition();this._trigger({type:1,triggerAction:n,filter:r,autoApply:l,context:{notAvailableMessage:t,position:h}})}}},{key:"_trigger",value:function(t){return this._model.trigger(t)}},{key:"_applyCodeAction",value:function(t,n,r){return Cs(this,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,this._instantiationService.invokeFunction(Tn,t,mn.FromCodeActions,{preview:r,editor:this._editor});case 3:return h.prev=3,n&&this._trigger({type:2,triggerAction:ao.QuickFix,filter:{}}),h.finish(3);case 6:case"end":return h.stop()}},l,this,[[0,,3,6]])}))}},{key:"update",value:function(t){var n,r,l,c,h,f,R;return Cs(this,void 0,void 0,Object(d.a)().mark(function Z(){var ie,je,Ie,st;return Object(d.a)().wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:if(t.type===1){kt.next=3;break}return(n=this._lightBulbWidget.rawValue)===null||n===void 0||n.hide(),kt.abrupt("return");case 3:return kt.prev=3,kt.next=6,t.actions;case 6:ie=kt.sent,kt.next=13;break;case 9:return kt.prev=9,kt.t0=kt.catch(3),Object(zi.h)(kt.t0),kt.abrupt("return");case 13:if(!fd(this,hu,"f")){kt.next=15;break}return kt.abrupt("return");case 15:if((r=this._lightBulbWidget.value)===null||r===void 0||r.update(ie,t.trigger,t.position),t.trigger.type!==1){kt.next=45;break}if(!((l=t.trigger.filter)===null||l===void 0?void 0:l.include)){kt.next=34;break}if(je=this.tryGetValidActionToApply(t.trigger,ie),!je){kt.next=28;break}return kt.prev=20,(c=this._lightBulbWidget.value)===null||c===void 0||c.hide(),kt.next=24,this._applyCodeAction(je,!1,!1);case 24:return kt.prev=24,ie.dispose(),kt.finish(24);case 27:return kt.abrupt("return");case 28:if(!t.trigger.context){kt.next=34;break}if(Ie=this.getInvalidActionThatWouldHaveBeenApplied(t.trigger,ie),!(Ie&&Ie.action.disabled)){kt.next=34;break}return(h=ns.get(this._editor))===null||h===void 0||h.showMessage(Ie.action.disabled,t.trigger.context.position),ie.dispose(),kt.abrupt("return");case 34:if(st=!!((f=t.trigger.filter)===null||f===void 0?void 0:f.include),!t.trigger.context){kt.next=41;break}if(!(!ie.allActions.length||!st&&!ie.validActions.length)){kt.next=41;break}return(R=ns.get(this._editor))===null||R===void 0||R.showMessage(t.trigger.context.notAvailableMessage,t.trigger.context.position),this._activeCodeActions.value=ie,ie.dispose(),kt.abrupt("return");case 41:this._activeCodeActions.value=ie,this.showCodeActionList(ie,this.toCoords(t.position),{includeDisabledActions:st,fromLightbulb:!1}),kt.next=46;break;case 45:this._actionWidgetService.isVisible?ie.dispose():this._activeCodeActions.value=ie;case 46:case"end":return kt.stop()}},Z,this,[[3,9],[20,,24,27]])}))}},{key:"getInvalidActionThatWouldHaveBeenApplied",value:function(t,n){if(!!n.allActions.length&&(t.autoApply==="first"&&n.validActions.length===0||t.autoApply==="ifSingle"&&n.allActions.length===1))return n.allActions.find(function(r){var l=r.action;return l.disabled})}},{key:"tryGetValidActionToApply",value:function(t,n){if(!!n.validActions.length&&(t.autoApply==="first"&&n.validActions.length>0||t.autoApply==="ifSingle"&&n.validActions.length===1))return n.validActions[0]}},{key:"showCodeActionList",value:function(t,n,r){return Cs(this,void 0,void 0,Object(d.a)().mark(function l(){var c=this,h,f,R,Z;return Object(d.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(h=this._editor.getDomNode(),h){je.next=3;break}return je.abrupt("return");case 3:if(f=r.includeDisabledActions&&(this._showDisabled||t.validActions.length===0)?t.allActions:t.validActions,f.length){je.next=6;break}return je.abrupt("return");case 6:R=tn.a.isIPosition(n)?this.toCoords(n):n,Z={onSelect:function(st,ft){return Cs(c,void 0,void 0,Object(d.a)().mark(function kt(){return Object(d.a)().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:this._applyCodeAction(st,!0,!!ft),this._actionWidgetService.hide();case 2:case"end":return un.stop()}},kt,this)}))},onHide:function(){var st;(st=c._editor)===null||st===void 0||st.focus()}},this._actionWidgetService.show("codeActionWidget",!0,jl(f,this._shouldShowHeaders(),this._resolver.getResolver()),Z,R,h,this._getActionBarActions(t,n,r));case 9:case"end":return je.stop()}},l,this)}))}},{key:"toCoords",value:function(t){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(t,1),this._editor.render();var n=this._editor.getScrolledVisiblePosition(t),r=Object(Bt.getDomNodePagePosition)(this._editor.getDomNode()),l=r.left+n.left,c=r.top+n.top+n.height;return{x:l,y:c}}},{key:"_shouldShowHeaders",value:function(){var t,n=(t=this._editor)===null||t===void 0?void 0:t.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:n==null?void 0:n.uri})}},{key:"_getActionBarActions",value:function(t,n,r){var l=this;if(r.fromLightbulb)return[];var c=t.documentation.map(function(h){var f;return{id:h.id,label:h.title,tooltip:(f=h.tooltip)!==null&&f!==void 0?f:"",class:void 0,enabled:!0,run:function(){var Z,ie;return(Z=l._commandService).executeCommand.apply(Z,[h.id].concat(Object(Ai.a)((ie=h.arguments)!==null&&ie!==void 0?ie:[])))}}});return r.includeDisabledActions&&t.validActions.length>0&&t.allActions.length!==t.validActions.length&&c.push(this._showDisabled?{id:"hideMoreActions",label:Object(Qe.b)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:function(){return l._showDisabled=!1,l.showCodeActionList(t,n,r)}}:{id:"showMoreActions",label:Object(Qe.b)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:function(){return l._showDisabled=!0,l.showCodeActionList(t,n,r)}}),c}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);hu=new WeakMap,Tl.ID="editor.contrib.codeActionController",Tl=Mu([qs(1,Ao.b),qs(2,Jn.b),qs(3,Ia.a),qs(4,Nr.a),qs(5,ro.a),qs(6,ia.b),qs(7,Po.a),qs(8,Js),qs(9,Ia.a)],Tl);function fu(s){return Jn.a.regex(kc.keys()[0],new RegExp("(\\s|^)"+Object(Vn.t)(s.value)+"\\b"))}var vd={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:Qe.b("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:Qe.b("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[Qe.b("args.schema.apply.first","Always apply the first returned code action."),Qe.b("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),Qe.b("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:Qe.b("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function Kl(s,o,e,i){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:ao.Default;if(s.hasModel()){var n=Tl.get(s);n==null||n.manualTriggerAtCurrentPosition(o,t,e,i)}}var gl=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:q,label:Qe.b("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Jn.a.and(an.a.writable,an.a.hasCodeActionsProvider),kbOpts:{kbExpr:an.a.textInputFocus,primary:2048|89,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){return Kl(n,Qe.b("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,ao.QuickFix)}}]),e}(St.b),Kc=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:_e,precondition:Jn.a.and(an.a.writable,an.a.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:vd}]}})}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n,r){var l=Mo.fromUser(r,{kind:Hr.Empty,apply:"ifSingle"});return Kl(n,typeof(r==null?void 0:r.kind)=="string"?l.preferred?Qe.b("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",r.kind):Qe.b("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",r.kind):l.preferred?Qe.b("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):Qe.b("editor.action.codeAction.noneMessage","No code actions available"),{include:l.kind,includeSourceActions:!0,onlyIncludePreferredActions:l.preferred},l.apply)}}]),e}(St.d),Gl=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:D,label:Qe.b("refactor.label","Refactor..."),alias:"Refactor...",precondition:Jn.a.and(an.a.writable,an.a.hasCodeActionsProvider),kbOpts:{kbExpr:an.a.textInputFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Jn.a.and(an.a.writable,fu(Hr.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:vd}]}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){var l=Mo.fromUser(r,{kind:Hr.Refactor,apply:"never"});return Kl(n,typeof(r==null?void 0:r.kind)=="string"?l.preferred?Qe.b("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",r.kind):Qe.b("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",r.kind):l.preferred?Qe.b("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):Qe.b("editor.action.refactor.noneMessage","No refactorings available"),{include:Hr.Refactor.contains(l.kind)?l.kind:Hr.None,onlyIncludePreferredActions:l.preferred},l.apply,ao.Refactor)}}]),e}(St.b),Fi=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:G,label:Qe.b("source.label","Source Action..."),alias:"Source Action...",precondition:Jn.a.and(an.a.writable,an.a.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Jn.a.and(an.a.writable,fu(Hr.Source))},description:{description:"Source Action...",args:[{name:"args",schema:vd}]}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){var l=Mo.fromUser(r,{kind:Hr.Source,apply:"never"});return Kl(n,typeof(r==null?void 0:r.kind)=="string"?l.preferred?Qe.b("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",r.kind):Qe.b("editor.action.source.noneMessage.kind","No source actions for '{0}' available",r.kind):l.preferred?Qe.b("editor.action.source.noneMessage.preferred","No preferred source actions available"):Qe.b("editor.action.source.noneMessage","No source actions available"),{include:Hr.Source.contains(l.kind)?l.kind:Hr.None,includeSourceActions:!0,onlyIncludePreferredActions:l.preferred},l.apply,ao.SourceAction)}}]),e}(St.b),Jd=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:oe,label:Qe.b("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Jn.a.and(an.a.writable,fu(Hr.SourceOrganizeImports)),kbOpts:{kbExpr:an.a.textInputFocus,primary:1024|512|45,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){return Kl(n,Qe.b("editor.action.organize.noneMessage","No organize imports action available"),{include:Hr.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",ao.OrganizeImports)}}]),e}(St.b),Tu=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:xe,label:Qe.b("fixAll.label","Fix All"),alias:"Fix All",precondition:Jn.a.and(an.a.writable,fu(Hr.SourceFixAll))})}return Object(w.a)(e,[{key:"run",value:function(t,n){return Kl(n,Qe.b("fixAll.noneMessage","No fix all action available"),{include:Hr.SourceFixAll,includeSourceActions:!0},"ifSingle",ao.FixAll)}}]),e}(St.b),iv=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:M,label:Qe.b("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Jn.a.and(an.a.writable,fu(Hr.QuickFix)),kbOpts:{kbExpr:an.a.textInputFocus,primary:512|1024|89,mac:{primary:2048|512|89},weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){return Kl(n,Qe.b("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Hr.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",ao.AutoFix)}}]),e}(St.b),Gc=a("CRAX"),Fs=a("ic2d");Object(St.m)(Tl.ID,Tl,3),Object(St.m)(hs.ID,hs,4),Object(St.k)(gl),Object(St.k)(Gl),Object(St.k)(Fi),Object(St.k)(Jd),Object(St.k)(iv),Object(St.k)(Tu),Object(St.l)(new Kc),Fs.a.as(Gc.a.Configuration).registerConfiguration(Object.assign(Object.assign({},ri.a),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:Qe.b("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}));var Bs=a("OQeR"),fs=a("/UlZ"),gd=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Xu=function(){function s(){Object(k.a)(this,s),this.lenses=[],this._disposables=new Ze.c}return Object(w.a)(s,[{key:"dispose",value:function(){this._disposables.dispose()}},{key:"isDisposed",get:function(){return this._disposables.isDisposed}},{key:"add",value:function(e,i){this._disposables.add(e);var t=Object(B.a)(e.lenses),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;this.lenses.push({symbol:r,provider:i})}}catch(l){t.e(l)}finally{t.f()}}}]),s}();function Dc(s,o,e){return gd(this,void 0,void 0,Object(d.a)().mark(function i(){var t=this,n,r,l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=s.ordered(o),r=new Map,l=new Xu,c=n.map(function(R,Z){return gd(t,void 0,void 0,Object(d.a)().mark(function ie(){var je;return Object(d.a)().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return r.set(R,Z),st.prev=1,st.next=4,Promise.resolve(R.provideCodeLenses(o,e));case 4:je=st.sent,je&&l.add(je,R),st.next=11;break;case 8:st.prev=8,st.t0=st.catch(1),Object(zi.i)(st.t0);case 11:case"end":return st.stop()}},ie,null,[[1,8]])}))}),f.next=6,Promise.all(c);case 6:return l.lenses=l.lenses.sort(function(R,Z){return R.symbol.range.startLineNumber<Z.symbol.range.startLineNumber?-1:R.symbol.range.startLineNumber>Z.symbol.range.startLineNumber?1:r.get(R.provider)<r.get(Z.provider)?-1:r.get(R.provider)>r.get(Z.provider)?1:R.symbol.range.startColumn<Z.symbol.range.startColumn?-1:R.symbol.range.startColumn>Z.symbol.range.startColumn?1:0}),f.abrupt("return",l);case 8:case"end":return f.stop()}},i)}))}ia.a.registerCommand("_executeCodeLensProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];var t=e[0],n=e[1];Object(Yr.b)(Wr.a.isUri(t)),Object(Yr.b)(typeof n=="number"||!n);var r=s.get(Nr.a),l=r.codeLensProvider,c=s.get(xa.a).getModel(t);if(!c)throw Object(zi.e)();var h=[],f=new Ze.c;return Dc(l,c,Zi.a.None).then(function(R){f.add(R);var Z=[],ie=Object(B.a)(R.lenses),je;try{var Ie=function(){var ft=je.value;n==null||Boolean(ft.symbol.command)?h.push(ft.symbol):n-- >0&&ft.provider.resolveCodeLens&&Z.push(Promise.resolve(ft.provider.resolveCodeLens(c,ft.symbol,Zi.a.None)).then(function(kt){return h.push(kt||ft.symbol)}))};for(ie.s();!(je=ie.n()).done;)Ie()}catch(st){ie.e(st)}finally{ie.f()}return Promise.all(Z)}).then(function(){return h}).finally(function(){setTimeout(function(){return f.dispose()},100)})});var qd=a("C/vA"),Ju=a("QDVR"),Ws=a("A+jI"),eh=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},md=function(s,o){return function(e,i){o(e,i,s)}},$c=Object(Ia.c)("ICodeLensCache"),Iu=Object(w.a)(function s(o,e){Object(k.a)(this,s),this.lineCount=o,this.data=e}),el=function(){function s(o){var e=this;Object(k.a)(this,s),this._fakeProvider=new(function(){function r(){Object(k.a)(this,r)}return Object(w.a)(r,[{key:"provideCodeLenses",value:function(){throw new Error("not supported")}}]),r}()),this._cache=new Ju.a(20,.75);var i="codelens/cache";Object(et.p)(function(){return o.remove(i,1)});var t="codelens/cache2",n=o.get(t,1,"{}");this._deserialize(n),Object(qd.a)(o.onWillSaveState)(function(r){r.reason===Ws.c.SHUTDOWN&&o.store(t,e._serialize(),1,1)})}return Object(w.a)(s,[{key:"put",value:function(e,i){var t=i.lenses.map(function(l){var c;return{range:l.symbol.range,command:l.symbol.command&&{id:"",title:(c=l.symbol.command)===null||c===void 0?void 0:c.title}}}),n=new Xu;n.add({lenses:t,dispose:function(){}},this._fakeProvider);var r=new Iu(e.getLineCount(),n);this._cache.set(e.uri.toString(),r)}},{key:"get",value:function(e){var i=this._cache.get(e.uri.toString());return i&&i.lineCount===e.getLineCount()?i.data:void 0}},{key:"delete",value:function(e){this._cache.delete(e.uri.toString())}},{key:"_serialize",value:function(){var e=Object.create(null),i=Object(B.a)(this._cache),t;try{for(i.s();!(t=i.n()).done;){var n=t.value,r=Object(z.a)(n,2),l=r[0],c=r[1],h=new Set,f=Object(B.a)(c.data.lenses),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value;h.add(Z.symbol.range.startLineNumber)}}catch(ie){f.e(ie)}finally{f.f()}e[l]={lineCount:c.lineCount,lines:Object(Ai.a)(h.values())}}}catch(ie){i.e(ie)}finally{i.f()}return JSON.stringify(e)}},{key:"_deserialize",value:function(e){try{var i=JSON.parse(e);for(var t in i){var n=i[t],r=[],l=Object(B.a)(n.lines),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;r.push({range:new Dt.a(h,1,h,11)})}}catch(R){l.e(R)}finally{l.f()}var f=new Xu;f.add({lenses:r,dispose:function(){}},this._fakeProvider),this._cache.set(t,new Iu(n.lineCount,f))}}catch(R){}}}]),s}();el=eh([md(0,Ws.a)],el),Object(Xs.b)($c,el,1);var qh=a("fdyd"),Pu=a("rKjB"),Qc=function(){function s(o,e,i){Object(k.a)(this,s),this.afterColumn=1073741824,this.afterLineNumber=o,this.heightInPx=e,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return Object(w.a)(s,[{key:"onComputedHeight",value:function(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}},{key:"isVisible",value:function(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}]),s}(),pd=function(){function s(o,e){Object(k.a)(this,s),this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=o,this._id="codelens.widget-".concat(s._idPool++),this.updatePosition(e),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}return Object(w.a)(s,[{key:"withCommands",value:function(e,i){this._commands.clear();for(var t=[],n=!1,r=0;r<e.length;r++){var l=e[r];if(!!l&&(n=!0,l.command)){var c=Object(qh.a)(l.command.title.trim());l.command.id?(t.push(Bt.$.apply(Bt,["a",{id:String(r),title:l.command.tooltip,role:"button"}].concat(Object(Ai.a)(c)))),this._commands.set(String(r),l.command)):t.push(Bt.$.apply(Bt,["span",{title:l.command.tooltip}].concat(Object(Ai.a)(c)))),r+1<e.length&&t.push(Bt.$("span",void 0,"\xA0|\xA0"))}}n?(Bt.reset.apply(Bt,[this._domNode].concat(t)),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):Bt.reset(this._domNode,Bt.$("span",void 0,"no commands"))}},{key:"getCommand",value:function(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}},{key:"getId",value:function(){return this._id}},{key:"getDomNode",value:function(){return this._domNode}},{key:"updatePosition",value:function(e){var i=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:i},preference:[1]}}},{key:"getPosition",value:function(){return this._widgetPosition||null}}]),s}();pd._idPool=0;var Yc=function(){function s(){Object(k.a)(this,s),this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return Object(w.a)(s,[{key:"addDecoration",value:function(e,i){this._addDecorations.push(e),this._addDecorationsCallbacks.push(i)}},{key:"removeDecoration",value:function(e){this._removeDecorations.push(e)}},{key:"commit",value:function(e){for(var i=e.deltaDecorations(this._removeDecorations,this._addDecorations),t=0,n=i.length;t<n;t++)this._addDecorationsCallbacks[t](i[t])}}]),s}(),vu=ti.b.register({collapseOnReplaceEdit:!0,description:"codelens"}),Zc=function(){function s(o,e,i,t,n,r){var l=this;Object(k.a)(this,s),this._isDisposed=!1,this._editor=e,this._data=o,this._decorationIds=[];var c,h=[];this._data.forEach(function(f,R){f.symbol.command&&h.push(f.symbol),i.addDecoration({range:f.symbol.range,options:vu},function(Z){return l._decorationIds[R]=Z}),c?c=Dt.a.plusRange(c,f.symbol.range):c=Dt.a.lift(f.symbol.range)}),this._viewZone=new Qc(c.startLineNumber-1,n,r),this._viewZoneId=t.addZone(this._viewZone),h.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(h,!1))}return Object(w.a)(s,[{key:"_createContentWidgetIfNecessary",value:function(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new pd(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}},{key:"dispose",value:function(e,i){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],i==null||i.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}},{key:"isDisposed",value:function(){return this._isDisposed}},{key:"isValid",value:function(){var e=this;return this._decorationIds.some(function(i,t){var n=e._editor.getModel().getDecorationRange(i),r=e._data[t].symbol;return!!(n&&Dt.a.isEmpty(r.range)===n.isEmpty())})}},{key:"updateCodeLensSymbols",value:function(e,i){var t=this;this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=e,this._data.forEach(function(n,r){i.addDecoration({range:n.symbol.range,options:vu},function(l){return t._decorationIds[r]=l})})}},{key:"updateHeight",value:function(e,i){this._viewZone.heightInPx=e,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}},{key:"computeIfNecessary",value:function(e){if(!this._viewZone.isVisible())return null;for(var i=0;i<this._decorationIds.length;i++){var t=e.getDecorationRange(this._decorationIds[i]);t&&(this._data[i].symbol.range=t)}return this._data}},{key:"updateCommands",value:function(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(var i=0;i<this._data.length;i++){var t=e[i];if(t){var n=this._data[i].symbol;n.command=t.command||n.command}}}},{key:"getCommand",value:function(e){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(e)}},{key:"getLineNumber",value:function(){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}},{key:"update",value:function(e){if(this.isValid()){var i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}]),s}(),Vs=a("Zr1c"),Ks=a("6XFq"),$l=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},qu=function(s,o){return function(e,i){o(e,i,s)}},ml=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Au=function(){function s(o,e,i,t,n,r){var l=this;Object(k.a)(this,s),this._editor=o,this._languageFeaturesService=e,this._commandService=t,this._notificationService=n,this._codeLensCache=r,this._disposables=new Ze.c,this._localToDispose=new Ze.c,this._lenses=[],this._oldCodeLensModels=new Ze.c,this._provideCodeLensDebounce=i.for(e.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(e.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new et.g(function(){return l._resolveCodeLensesInViewport()},this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(function(){return l._onModelChange()})),this._disposables.add(this._editor.onDidChangeModelLanguage(function(){return l._onModelChange()})),this._disposables.add(this._editor.onDidChangeConfiguration(function(c){(c.hasChanged(48)||c.hasChanged(17)||c.hasChanged(16))&&l._updateLensStyle(),c.hasChanged(15)&&l._onModelChange()})),this._disposables.add(e.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}return Object(w.a)(s,[{key:"dispose",value:function(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose()}},{key:"_getLayoutInfo",value:function(){var e=Math.max(1.3,this._editor.getOption(64)/this._editor.getOption(50)),i=this._editor.getOption(17);return(!i||i<5)&&(i=this._editor.getOption(50)*.9|0),{fontSize:i,codeLensHeight:i*e|0}}},{key:"_updateLensStyle",value:function(){var e=this,i=this._getLayoutInfo(),t=i.codeLensHeight,n=i.fontSize,r=this._editor.getOption(16),l=this._editor.getOption(48),c=this._editor.getContainerDomNode(),h=c.style;h.setProperty("--vscode-editorCodeLens-lineHeight","".concat(t,"px")),h.setProperty("--vscode-editorCodeLens-fontSize","".concat(n,"px")),h.setProperty("--vscode-editorCodeLens-fontFeatureSettings",l.fontFeatureSettings),r&&(h.setProperty("--vscode-editorCodeLens-fontFamily",r),h.setProperty("--vscode-editorCodeLens-fontFamilyDefault",fs.d.fontFamily)),this._editor.changeViewZones(function(f){var R=Object(B.a)(e._lenses),Z;try{for(R.s();!(Z=R.n()).done;){var ie=Z.value;ie.updateHeight(t,f)}}catch(je){R.e(je)}finally{R.f()}})}},{key:"_localDispose",value:function(){var e,i,t;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(i=this._resolveCodeLensesPromise)===null||i===void 0||i.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(t=this._currentCodeLensModel)===null||t===void 0||t.dispose()}},{key:"_onModelChange",value:function(){var e=this;this._localDispose();var i=this._editor.getModel();if(!!i&&!!this._editor.getOption(15)){var t=this._codeLensCache.get(i);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(i)){t&&this._localToDispose.add(Object(et.l)(function(){var f=e._codeLensCache.get(i);t===f&&(e._codeLensCache.delete(i),e._onModelChange())},30*1e3));return}var n=Object(B.a)(this._languageFeaturesService.codeLensProvider.all(i)),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;if(typeof l.onDidChange=="function"){var c=l.onDidChange(function(){return h.schedule()});this._localToDispose.add(c)}}}catch(f){n.e(f)}finally{n.f()}var h=new et.g(function(){var f,R=Date.now();(f=e._getCodeLensModelPromise)===null||f===void 0||f.cancel(),e._getCodeLensModelPromise=Object(et.k)(function(Z){return Dc(e._languageFeaturesService.codeLensProvider,i,Z)}),e._getCodeLensModelPromise.then(function(Z){e._currentCodeLensModel&&e._oldCodeLensModels.add(e._currentCodeLensModel),e._currentCodeLensModel=Z,e._codeLensCache.put(i,Z);var ie=e._provideCodeLensDebounce.update(i,Date.now()-R);h.delay=ie,e._renderCodeLensSymbols(Z),e._resolveCodeLensesInViewportSoon()},zi.h)},this._provideCodeLensDebounce.get(i));this._localToDispose.add(h),this._localToDispose.add(Object(Ze.l)(function(){return e._resolveCodeLensesScheduler.cancel()})),this._localToDispose.add(this._editor.onDidChangeModelContent(function(){var f;e._editor.changeDecorations(function(R){e._editor.changeViewZones(function(Z){var ie=[],je=-1;e._lenses.forEach(function(st){!st.isValid()||je===st.getLineNumber()?ie.push(st):(st.update(Z),je=st.getLineNumber())});var Ie=new Yc;ie.forEach(function(st){st.dispose(Ie,Z),e._lenses.splice(e._lenses.indexOf(st),1)}),Ie.commit(R)})}),h.schedule(),e._resolveCodeLensesScheduler.cancel(),(f=e._resolveCodeLensesPromise)===null||f===void 0||f.cancel(),e._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(function(){h.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(function(f){f.scrollTopChanged&&e._lenses.length>0&&e._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(function(){e._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(Object(Ze.l)(function(){if(e._editor.getModel()){var f=Bs.a.capture(e._editor);e._editor.changeDecorations(function(R){e._editor.changeViewZones(function(Z){e._disposeAllLenses(R,Z)})}),f.restore(e._editor)}else e._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(function(f){if(f.target.type===9){var R=f.target.element;if((R==null?void 0:R.tagName)==="SPAN"&&(R=R.parentElement),(R==null?void 0:R.tagName)==="A"){var Z=Object(B.a)(e._lenses),ie;try{for(Z.s();!(ie=Z.n()).done;){var je=ie.value,Ie=je.getCommand(R);if(Ie){var st;(st=e._commandService).executeCommand.apply(st,[Ie.id].concat(Object(Ai.a)(Ie.arguments||[]))).catch(function(ft){return e._notificationService.error(ft)});break}}}catch(ft){Z.e(ft)}finally{Z.f()}}}})),h.schedule()}}},{key:"_disposeAllLenses",value:function(e,i){var t=new Yc,n=Object(B.a)(this._lenses),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;l.dispose(t,i)}}catch(c){n.e(c)}finally{n.f()}e&&t.commit(e),this._lenses.length=0}},{key:"_renderCodeLensSymbols",value:function(e){var i=this;if(!!this._editor.hasModel()){var t=this._editor.getModel().getLineCount(),n=[],r,l=Object(B.a)(e.lenses),c;try{for(l.s();!(c=l.n()).done;){var h=c.value,f=h.symbol.range.startLineNumber;f<1||f>t||(r&&r[r.length-1].symbol.range.startLineNumber===f?r.push(h):(r=[h],n.push(r)))}}catch(ie){l.e(ie)}finally{l.f()}if(!(!n.length&&!this._lenses.length)){var R=Bs.a.capture(this._editor),Z=this._getLayoutInfo();this._editor.changeDecorations(function(ie){i._editor.changeViewZones(function(je){for(var Ie=new Yc,st=0,ft=0;ft<n.length&&st<i._lenses.length;){var kt=n[ft][0].symbol.range.startLineNumber,$t=i._lenses[st].getLineNumber();$t<kt?(i._lenses[st].dispose(Ie,je),i._lenses.splice(st,1)):$t===kt?(i._lenses[st].updateCodeLensSymbols(n[ft],Ie),ft++,st++):(i._lenses.splice(st,0,new Zc(n[ft],i._editor,Ie,je,Z.codeLensHeight,function(){return i._resolveCodeLensesInViewportSoon()})),st++,ft++)}for(;st<i._lenses.length;)i._lenses[st].dispose(Ie,je),i._lenses.splice(st,1);for(;ft<n.length;)i._lenses.push(new Zc(n[ft],i._editor,Ie,je,Z.codeLensHeight,function(){return i._resolveCodeLensesInViewportSoon()})),ft++;Ie.commit(ie)})}),R.restore(this._editor)}}}},{key:"_resolveCodeLensesInViewportSoon",value:function(){var e=this._editor.getModel();e&&this._resolveCodeLensesScheduler.schedule()}},{key:"_resolveCodeLensesInViewport",value:function(){var e=this,i;(i=this._resolveCodeLensesPromise)===null||i===void 0||i.cancel(),this._resolveCodeLensesPromise=void 0;var t=this._editor.getModel();if(!!t){var n=[],r=[];if(this._lenses.forEach(function(h){var f=h.computeIfNecessary(t);f&&(n.push(f),r.push(h))}),n.length!==0){var l=Date.now(),c=Object(et.k)(function(h){var f=n.map(function(R,Z){var ie=new Array(R.length),je=R.map(function(Ie,st){return!Ie.symbol.command&&typeof Ie.provider.resolveCodeLens=="function"?Promise.resolve(Ie.provider.resolveCodeLens(t,Ie.symbol,h)).then(function(ft){ie[st]=ft},zi.i):(ie[st]=Ie.symbol,Promise.resolve(void 0))});return Promise.all(je).then(function(){!h.isCancellationRequested&&!r[Z].isDisposed()&&r[Z].updateCommands(ie)})});return Promise.all(f)});this._resolveCodeLensesPromise=c,this._resolveCodeLensesPromise.then(function(){var h=e._resolveCodeLensesDebounce.update(t,Date.now()-l);e._resolveCodeLensesScheduler.delay=h,e._currentCodeLensModel&&e._codeLensCache.put(t,e._currentCodeLensModel),e._oldCodeLensModels.clear(),c===e._resolveCodeLensesPromise&&(e._resolveCodeLensesPromise=void 0)},function(h){Object(zi.h)(h),c===e._resolveCodeLensesPromise&&(e._resolveCodeLensesPromise=void 0)})}}}},{key:"getModel",value:function(){return this._currentCodeLensModel}}]),s}();Au.ID="css.editor.codeLens",Au=$l([qu(1,Nr.a),qu(2,Ks.a),qu(3,ia.b),qu(4,io.a),qu(5,$c)],Au),Object(St.m)(Au.ID,Au,1),Object(St.k)(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"codelens.showLensesInCurrentLine",precondition:an.a.hasCodeLensProvider,label:Object(Qe.b)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}return Object(w.a)(e,[{key:"run",value:function(t,n){return ml(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f,R,Z,ie,je,Ie,st,ft;return Object(d.a)().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(n.hasModel()){$t.next=2;break}return $t.abrupt("return");case 2:if(l=t.get(Vs.a),c=t.get(ia.b),h=t.get(io.a),f=n.getSelection().positionLineNumber,R=n.getContribution(Au.ID),R){$t.next=9;break}return $t.abrupt("return");case 9:if(Z=R.getModel(),Z){$t.next=12;break}return $t.abrupt("return");case 12:ie=[],je=Object(B.a)(Z.lenses);try{for(je.s();!(Ie=je.n()).done;)st=Ie.value,st.symbol.command&&st.symbol.range.startLineNumber===f&&ie.push({label:st.symbol.command.title,command:st.symbol.command})}catch(un){je.e(un)}finally{je.f()}if(ie.length!==0){$t.next=17;break}return $t.abrupt("return");case 17:return $t.next=19,l.pick(ie,{canPickMany:!1});case 19:if(ft=$t.sent,ft){$t.next=22;break}return $t.abrupt("return");case 22:if(!Z.isDisposed){$t.next=26;break}return $t.next=25,c.executeCommand(this.id);case 25:return $t.abrupt("return",$t.sent);case 26:return $t.prev=26,$t.next=29,c.executeCommand.apply(c,[ft.command.id].concat(Object(Ai.a)(ft.command.arguments||[])));case 29:$t.next=34;break;case 31:$t.prev=31,$t.t0=$t.catch(26),h.error($t.t0);case 34:case"end":return $t.stop()}},r,this,[[26,31]])}))}}]),e}(St.b));var ja=a("zrhQ"),Ds=a("5Y4S"),Bo=a("QRuL"),Xc=a("KBqF"),Ro=a("AYRw"),gu=a("2CIB"),Il=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},pl=function(s,o){return function(e,i){o(e,i,s)}},Gs=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},ws=function(){function s(o,e){Object(k.a)(this,s),this._editorWorkerClient=new Xc.a(o,!1,"editorWorkerService",e)}return Object(w.a)(s,[{key:"provideDocumentColors",value:function(e,i){return Gs(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this._editorWorkerClient.computeDefaultDocumentColors(e.uri));case 1:case"end":return r.stop()}},t,this)}))}},{key:"provideColorPresentations",value:function(e,i,t){var n=i.range,r=i.color,l=r.alpha,c=new ja.a(new ja.d(Math.round(255*r.red),Math.round(255*r.green),Math.round(255*r.blue),l)),h=l?ja.a.Format.CSS.formatRGB(c):ja.a.Format.CSS.formatRGBA(c),f=l?ja.a.Format.CSS.formatHSL(c):ja.a.Format.CSS.formatHSLA(c),R=l?ja.a.Format.CSS.formatHex(c):ja.a.Format.CSS.formatHexA(c),Z=[];return Z.push({label:h,textEdit:{range:n,text:h}}),Z.push({label:f,textEdit:{range:n,text:f}}),Z.push({label:R,textEdit:{range:n,text:R}}),Z}}]),s}(),Ql=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r._register(n.colorProvider.register("*",new ws(i,t))),r}return Object(w.a)(e)}(Ze.a);Ql=Il([pl(0,xa.a),pl(1,Ro.a),pl(2,Nr.a)],Ql),Object(gu.b)(Ql);var Ru=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function mu(s,o,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Ru(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",ec(new wo,s,o,e,i));case 1:case"end":return r.stop()}},t)}))}function bd(s,o,e,i){return Promise.resolve(e.provideColorPresentations(s,o,i))}var wo=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"compute",value:function(e,i,t,n){return Ru(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f;return Object(d.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,e.provideDocumentColors(i,t);case 2:if(l=Z.sent,Array.isArray(l)){c=Object(B.a)(l);try{for(c.s();!(h=c.n()).done;)f=h.value,n.push({colorInfo:f,provider:e})}catch(ie){c.e(ie)}finally{c.f()}}return Z.abrupt("return",Array.isArray(l));case 5:case"end":return Z.stop()}},r)}))}}]),s}(),ef=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"compute",value:function(e,i,t,n){return Ru(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f;return Object(d.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,e.provideDocumentColors(i,t);case 2:if(l=Z.sent,Array.isArray(l)){c=Object(B.a)(l);try{for(c.s();!(h=c.n()).done;)f=h.value,n.push({range:f.range,color:[f.color.red,f.color.green,f.color.blue,f.color.alpha]})}catch(ie){c.e(ie)}finally{c.f()}}return Z.abrupt("return",Array.isArray(l));case 5:case"end":return Z.stop()}},r)}))}}]),s}(),wc=function(){function s(o){Object(k.a)(this,s),this.colorInfo=o}return Object(w.a)(s,[{key:"compute",value:function(e,i,t,n){return Ru(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,e.provideColorPresentations(i,this.colorInfo,Zi.a.None);case 2:return l=h.sent,Array.isArray(l)&&n.push.apply(n,Object(Ai.a)(l)),h.abrupt("return",Array.isArray(l));case 5:case"end":return h.stop()}},r,this)}))}}]),s}();function ec(s,o,e,i,t){return Ru(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:r=!1,c=[],h=o.ordered(e),f=h.length-1;case 4:if(!(f>=0)){ie.next=23;break}if(R=h[f],!(R instanceof ws)){ie.next=10;break}l=R,ie.next=20;break;case 10:return ie.prev=10,ie.next=13,s.compute(R,e,i,c);case 13:if(!ie.sent){ie.next=15;break}r=!0;case 15:ie.next=20;break;case 17:ie.prev=17,ie.t0=ie.catch(10),Object(zi.i)(ie.t0);case 20:f--,ie.next=4;break;case 23:if(!r){ie.next=25;break}return ie.abrupt("return",c);case 25:if(!(l&&t)){ie.next=29;break}return ie.next=28,s.compute(l,e,i,c);case 28:return ie.abrupt("return",c);case 29:return ie.abrupt("return",[]);case 30:case"end":return ie.stop()}},n,null,[[10,17]])}))}function Jc(s,o){var e=s.get(Nr.a),i=e.colorProvider,t=s.get(xa.a).getModel(o);if(!t)throw Object(zi.e)();var n=s.get(Po.a).getValue("editor.defaultColorDecorators",{resource:o});return{model:t,colorProviderRegistry:i,isDefaultColorDecoratorsEnabled:n}}ia.a.registerCommand("_executeDocumentColorProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];var t=e[0];if(!(t instanceof Wr.a))throw Object(zi.e)();var n=Jc(s,t),r=n.model,l=n.colorProviderRegistry,c=n.isDefaultColorDecoratorsEnabled;return ec(new ef,l,r,Zi.a.None,c)}),ia.a.registerCommand("_executeColorPresentationProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];var t=e[0],n=e[1],r=n.uri,l=n.range;if(!(r instanceof Wr.a)||!Array.isArray(t)||t.length!==4||!Dt.a.isIRange(l))throw Object(zi.e)();var c=Jc(s,r),h=c.model,f=c.colorProviderRegistry,R=c.isDefaultColorDecoratorsEnabled,Z=Object(z.a)(t,4),ie=Z[0],je=Z[1],Ie=Z[2],st=Z[3];return ec(new wc({range:l,color:{red:ie,green:je,blue:Ie,alpha:st}}),f,h,Zi.a.None,R)});var pu=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},tc=function(s,o){return function(e,i){o(e,i,s)}},Nu=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},jc=Object.create({}),Pl=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;return Object(k.a)(this,e),l=o.call(this),l._editor=i,l._configurationService=t,l._languageFeaturesService=n,l._localToDispose=l._register(new Ze.c),l._decorationsIds=[],l._colorDatas=new Map,l._colorDecoratorIds=l._editor.createDecorationsCollection(),l._ruleFactory=new Bo.b(l._editor),l._decoratorLimitReporter=new th,l._colorDecorationClassRefs=l._register(new Ze.c),l._debounceInformation=r.for(n.colorProvider,"Document Colors",{min:e.RECOMPUTE_TIME}),l._register(i.onDidChangeModel(function(){l._isColorDecoratorsEnabled=l.isEnabled(),l.updateColors()})),l._register(i.onDidChangeModelLanguage(function(){return l.updateColors()})),l._register(n.colorProvider.onDidChange(function(){return l.updateColors()})),l._register(i.onDidChangeConfiguration(function(c){var h=l._isColorDecoratorsEnabled;l._isColorDecoratorsEnabled=l.isEnabled(),l._isDefaultColorDecoratorsEnabled=l._editor.getOption(142);var f=h!==l._isColorDecoratorsEnabled||c.hasChanged(19),R=c.hasChanged(142);(f||R)&&(l._isColorDecoratorsEnabled?l.updateColors():l.removeAllDecorations())})),l._timeoutTimer=null,l._computePromise=null,l._isColorDecoratorsEnabled=l.isEnabled(),l._isDefaultColorDecoratorsEnabled=l._editor.getOption(142),l.updateColors(),l}return Object(w.a)(e,[{key:"isEnabled",value:function(){var t=this._editor.getModel();if(!t)return!1;var n=t.getLanguageId(),r=this._configurationService.getValue(n);if(r&&typeof r=="object"){var l=r.colorDecorators;if(l&&l.enable!==void 0&&!l.enable)return l.enable}return this._editor.getOption(18)}},{key:"dispose",value:function(){this.stop(),this.removeAllDecorations(),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"updateColors",value:function(){var t=this;if(this.stop(),!!this._isColorDecoratorsEnabled){var n=this._editor.getModel();!n||!this._languageFeaturesService.colorProvider.has(n)||(this._localToDispose.add(this._editor.onDidChangeModelContent(function(){t._timeoutTimer||(t._timeoutTimer=new et.i,t._timeoutTimer.cancelAndSet(function(){t._timeoutTimer=null,t.beginCompute()},t._debounceInformation.get(n)))})),this.beginCompute())}}},{key:"beginCompute",value:function(){return Nu(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this._computePromise=Object(et.k)(function(h){return Nu(n,void 0,void 0,Object(d.a)().mark(function f(){var R,Z,ie;return Object(d.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(R=this._editor.getModel(),R){Ie.next=3;break}return Ie.abrupt("return",[]);case 3:return Z=new Ds.a(!1),Ie.next=6,mu(this._languageFeaturesService.colorProvider,R,h,this._isDefaultColorDecoratorsEnabled);case 6:return ie=Ie.sent,this._debounceInformation.update(R,Z.elapsed()),Ie.abrupt("return",ie);case 9:case"end":return Ie.stop()}},f,this)}))}),c.prev=1,c.next=4,this._computePromise;case 4:r=c.sent,this.updateDecorations(r),this.updateColorDecorators(r),this._computePromise=null,c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),Object(zi.h)(c.t0);case 13:case"end":return c.stop()}},t,this,[[1,10]])}))}},{key:"stop",value:function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}},{key:"updateDecorations",value:function(t){var n=this,r=t.map(function(l){return{range:{startLineNumber:l.colorInfo.range.startLineNumber,startColumn:l.colorInfo.range.startColumn,endLineNumber:l.colorInfo.range.endLineNumber,endColumn:l.colorInfo.range.endColumn},options:ti.b.EMPTY}});this._editor.changeDecorations(function(l){n._decorationsIds=l.deltaDecorations(n._decorationsIds,r),n._colorDatas=new Map,n._decorationsIds.forEach(function(c,h){return n._colorDatas.set(c,t[h])})})}},{key:"updateColorDecorators",value:function(t){this._colorDecorationClassRefs.clear();for(var n=[],r=this._editor.getOption(19),l=0;l<t.length&&n.length<r;l++){var c=t[l].colorInfo.color,h=c.red,f=c.green,R=c.blue,Z=c.alpha,ie=new ja.d(Math.round(h*255),Math.round(f*255),Math.round(R*255),Z),je="rgba(".concat(ie.r,", ").concat(ie.g,", ").concat(ie.b,", ").concat(ie.a,")"),Ie=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:je}));n.push({range:{startLineNumber:t[l].colorInfo.range.startLineNumber,startColumn:t[l].colorInfo.range.startColumn,endLineNumber:t[l].colorInfo.range.endLineNumber,endColumn:t[l].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:Vn.M,inlineClassName:"".concat(Ie.className," colorpicker-color-decoration"),inlineClassNameAffectsLetterSpacing:!0,attachedData:jc}}})}var st=r<t.length?r:!1;this._decoratorLimitReporter.update(t.length,st),this._colorDecoratorIds.set(n)}},{key:"removeAllDecorations",value:function(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}},{key:"getColorData",value:function(t){var n=this,r=this._editor.getModel();if(!r)return null;var l=r.getDecorationsInRange(Dt.a.fromPositions(t,t)).filter(function(c){return n._colorDatas.has(c.id)});return l.length===0?null:this._colorDatas.get(l[0].id)}},{key:"isColorDecoration",value:function(t){return this._colorDecoratorIds.has(t)}}],[{key:"get",value:function(t){return t.getContribution(this.ID)}}]),e}(Ze.a);Pl.ID="editor.contrib.colorDetector",Pl.RECOMPUTE_TIME=1e3,Pl=pu([tc(1,Po.a),tc(2,Nr.a),tc(3,Ks.a)],Pl);var th=function(){function s(){Object(k.a)(this,s),this._onDidChange=new rr.b,this._computed=0,this._limited=!1}return Object(w.a)(s,[{key:"update",value:function(e,i){(e!==this._computed||i!==this._limited)&&(this._computed=e,this._limited=i,this._onDidChange.fire())}}]),s}();Object(St.m)(Pl.ID,Pl,1);var ze=function(){function s(o,e,i){Object(k.a)(this,s),this.presentationIndex=i,this._onColorFlushed=new rr.b,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new rr.b,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new rr.b,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=o,this._color=o,this._colorPresentations=e}return Object(w.a)(s,[{key:"color",get:function(){return this._color},set:function(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}},{key:"presentation",get:function(){return this.colorPresentations[this.presentationIndex]}},{key:"colorPresentations",get:function(){return this._colorPresentations},set:function(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}},{key:"selectNextColorPresentation",value:function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}},{key:"guessColorPresentation",value:function(e,i){for(var t=-1,n=0;n<this.colorPresentations.length;n++)if(i.toLowerCase()===this.colorPresentations[n].label){t=n;break}if(t===-1){for(var r=i.split("(")[0].toLowerCase(),l=0;l<this.colorPresentations.length;l++)if(this.colorPresentations[l].label.toLowerCase().startsWith(r)){t=l;break}}t!==-1&&t!==this.presentationIndex&&(this.presentationIndex=t,this._onDidChangePresentation.fire(this.presentation))}},{key:"flushColor",value:function(){this._onColorFlushed.fire(this._color)}}]),s}(),Ce=a("a4d6"),v=a("G300"),m=a("n8z0"),u=a("v1vZ"),g=Bt.$,O=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;Object(k.a)(this,e),r=o.call(this),r.model=t,r.showingStandaloneColorPicker=l,r._closeButton=null,r._domNode=g(".colorpicker-header"),Bt.append(i,r._domNode),r._pickedColorNode=Bt.append(r._domNode,g(".picked-color"));var c=Object(Qe.b)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");return r._pickedColorNode.setAttribute("title",c),r._originalColorNode=Bt.append(r._domNode,g(".original-color")),r._originalColorNode.style.backgroundColor=ja.a.Format.CSS.format(r.model.originalColor)||"",r.backgroundColor=n.getColorTheme().getColor(Vt.Q)||ja.a.white,r._register(n.onDidColorThemeChange(function(h){r.backgroundColor=h.getColor(Vt.Q)||ja.a.white})),r._register(Bt.addDisposableListener(r._pickedColorNode,Bt.EventType.CLICK,function(){return r.model.selectNextColorPresentation()})),r._register(Bt.addDisposableListener(r._originalColorNode,Bt.EventType.CLICK,function(){r.model.color=r.model.originalColor,r.model.flushColor()})),r._register(t.onDidChangeColor(r.onDidChangeColor,Object(pi.a)(r))),r._register(t.onDidChangePresentation(r.onDidChangePresentation,Object(pi.a)(r))),r._pickedColorNode.style.backgroundColor=ja.a.Format.CSS.format(t.color)||"",r._pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?r.backgroundColor.isLighter():t.color.isLighter()),r.onDidChangeColor(r.model.color),r.showingStandaloneColorPicker&&(r._domNode.classList.add("standalone-colorpicker"),r._closeButton=r._register(new te(r._domNode))),r}return Object(w.a)(e,[{key:"closeButton",get:function(){return this._closeButton}},{key:"pickedColorNode",get:function(){return this._pickedColorNode}},{key:"originalColorNode",get:function(){return this._originalColorNode}},{key:"onDidChangeColor",value:function(t){this._pickedColorNode.style.backgroundColor=ja.a.Format.CSS.format(t)||"",this._pickedColorNode.classList.toggle("light",t.rgba.a<.5?this.backgroundColor.isLighter():t.isLighter()),this.onDidChangePresentation()}},{key:"onDidChangePresentation",value:function(){this._pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this._pickedColorNode.prepend(g(".codicon.codicon-color-mode"))}}]),e}(Ze.a),te=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;Object(k.a)(this,e),t=o.call(this),t._onClicked=t._register(new rr.b),t.onClicked=t._onClicked.event,t._button=document.createElement("div"),t._button.classList.add("close-button"),Bt.append(i,t._button);var n=document.createElement("div");n.classList.add("close-button-inner-div"),Bt.append(t._button,n);var r=Bt.append(n,g(".button"+oa.a.asCSSSelector(Object(u.b)("color-picker-close",ta.a.close,Object(Qe.b)("closeIcon","Icon to close the color picker")))));return r.classList.add("close-icon"),t._button.onclick=function(){t._onClicked.fire()},t}return Object(w.a)(e)}(Ze.a),Le=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object(k.a)(this,e),r=o.call(this),r.model=t,r.pixelRatio=n,r._insertButton=null,r._domNode=g(".colorpicker-body"),Bt.append(i,r._domNode),r._saturationBox=new Me(r._domNode,r.model,r.pixelRatio),r._register(r._saturationBox),r._register(r._saturationBox.onDidChange(r.onDidSaturationValueChange,Object(pi.a)(r))),r._register(r._saturationBox.onColorFlushed(r.flushColor,Object(pi.a)(r))),r._opacityStrip=new Ot(r._domNode,r.model,l),r._register(r._opacityStrip),r._register(r._opacityStrip.onDidChange(r.onDidOpacityChange,Object(pi.a)(r))),r._register(r._opacityStrip.onColorFlushed(r.flushColor,Object(pi.a)(r))),r._hueStrip=new Mt(r._domNode,r.model,l),r._register(r._hueStrip),r._register(r._hueStrip.onDidChange(r.onDidHueChange,Object(pi.a)(r))),r._register(r._hueStrip.onColorFlushed(r.flushColor,Object(pi.a)(r))),l&&(r._insertButton=r._register(new Qt(r._domNode)),r._domNode.classList.add("standalone-colorpicker")),r}return Object(w.a)(e,[{key:"flushColor",value:function(){this.model.flushColor()}},{key:"onDidSaturationValueChange",value:function(t){var n=t.s,r=t.v,l=this.model.color.hsva;this.model.color=new ja.a(new ja.c(l.h,n,r,l.a))}},{key:"onDidOpacityChange",value:function(t){var n=this.model.color.hsva;this.model.color=new ja.a(new ja.c(n.h,n.s,n.v,t))}},{key:"onDidHueChange",value:function(t){var n=this.model.color.hsva,r=(1-t)*360;this.model.color=new ja.a(new ja.c(r===360?0:r,n.s,n.v,n.a))}},{key:"domNode",get:function(){return this._domNode}},{key:"saturationBox",get:function(){return this._saturationBox}},{key:"enterButton",get:function(){return this._insertButton}},{key:"layout",value:function(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}]),e}(Ze.a),Me=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r.model=t,r.pixelRatio=n,r._onDidChange=new rr.b,r.onDidChange=r._onDidChange.event,r._onColorFlushed=new rr.b,r.onColorFlushed=r._onColorFlushed.event,r._domNode=g(".saturation-wrap"),Bt.append(i,r._domNode),r._canvas=document.createElement("canvas"),r._canvas.className="saturation-box",Bt.append(r._domNode,r._canvas),r.selection=g(".saturation-selection"),Bt.append(r._domNode,r.selection),r.layout(),r._register(Bt.addDisposableListener(r._domNode,Bt.EventType.POINTER_DOWN,function(l){return r.onPointerDown(l)})),r._register(r.model.onDidChangeColor(r.onDidChangeColor,Object(pi.a)(r))),r.monitor=null,r}return Object(w.a)(e,[{key:"domNode",get:function(){return this._domNode}},{key:"onPointerDown",value:function(t){var n=this;if(!(!t.target||!(t.target instanceof Element))){this.monitor=this._register(new Ce.a);var r=Bt.getDomNodePagePosition(this._domNode);t.target!==this.selection&&this.onDidChangePosition(t.offsetX,t.offsetY),this.monitor.startMonitoring(t.target,t.pointerId,t.buttons,function(c){return n.onDidChangePosition(c.pageX-r.left,c.pageY-r.top)},function(){return null});var l=Bt.addDisposableListener(document,Bt.EventType.POINTER_UP,function(){n._onColorFlushed.fire(),l.dispose(),n.monitor&&(n.monitor.stopMonitoring(!0),n.monitor=null)},!0)}}},{key:"onDidChangePosition",value:function(t,n){var r=Math.max(0,Math.min(1,t/this.width)),l=Math.max(0,Math.min(1,1-n/this.height));this.paintSelection(r,l),this._onDidChange.fire({s:r,v:l})}},{key:"layout",value:function(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();var t=this.model.color.hsva;this.paintSelection(t.s,t.v)}},{key:"paint",value:function(){var t=this.model.color.hsva,n=new ja.a(new ja.c(t.h,1,1,1)),r=this._canvas.getContext("2d"),l=r.createLinearGradient(0,0,this._canvas.width,0);l.addColorStop(0,"rgba(255, 255, 255, 1)"),l.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),l.addColorStop(1,"rgba(255, 255, 255, 0)");var c=r.createLinearGradient(0,0,0,this._canvas.height);c.addColorStop(0,"rgba(0, 0, 0, 0)"),c.addColorStop(1,"rgba(0, 0, 0, 1)"),r.rect(0,0,this._canvas.width,this._canvas.height),r.fillStyle=ja.a.Format.CSS.format(n),r.fill(),r.fillStyle=l,r.fill(),r.fillStyle=c,r.fill()}},{key:"paintSelection",value:function(t,n){this.selection.style.left="".concat(t*this.width,"px"),this.selection.style.top="".concat(this.height-n*this.height,"px")}},{key:"onDidChangeColor",value:function(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}]),e}(Ze.a),at=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Object(k.a)(this,e),n=o.call(this),n.model=t,n._onDidChange=new rr.b,n.onDidChange=n._onDidChange.event,n._onColorFlushed=new rr.b,n.onColorFlushed=n._onColorFlushed.event,r?(n.domNode=Bt.append(i,g(".standalone-strip")),n.overlay=Bt.append(n.domNode,g(".standalone-overlay"))):(n.domNode=Bt.append(i,g(".strip")),n.overlay=Bt.append(n.domNode,g(".overlay"))),n.slider=Bt.append(n.domNode,g(".slider")),n.slider.style.top="0px",n._register(Bt.addDisposableListener(n.domNode,Bt.EventType.POINTER_DOWN,function(l){return n.onPointerDown(l)})),n.layout(),n}return Object(w.a)(e,[{key:"layout",value:function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var t=this.getValue(this.model.color);this.updateSliderPosition(t)}},{key:"onPointerDown",value:function(t){var n=this;if(!(!t.target||!(t.target instanceof Element))){var r=this._register(new Ce.a),l=Bt.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),t.target!==this.slider&&this.onDidChangeTop(t.offsetY),r.startMonitoring(t.target,t.pointerId,t.buttons,function(h){return n.onDidChangeTop(h.pageY-l.top)},function(){return null});var c=Bt.addDisposableListener(document,Bt.EventType.POINTER_UP,function(){n._onColorFlushed.fire(),c.dispose(),r.stopMonitoring(!0),n.domNode.classList.remove("grabbing")},!0)}}},{key:"onDidChangeTop",value:function(t){var n=Math.max(0,Math.min(1,1-t/this.height));this.updateSliderPosition(n),this._onDidChange.fire(n)}},{key:"updateSliderPosition",value:function(t){this.slider.style.top="".concat((1-t)*this.height,"px")}}]),e}(Ze.a),Ot=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Object(k.a)(this,e),n=o.call(this,i,t,r),n.domNode.classList.add("opacity-strip"),n._register(t.onDidChangeColor(n.onDidChangeColor,Object(pi.a)(n))),n.onDidChangeColor(n.model.color),n}return Object(w.a)(e,[{key:"onDidChangeColor",value:function(t){var n=t.rgba,r=n.r,l=n.g,c=n.b,h=new ja.a(new ja.d(r,l,c,1)),f=new ja.a(new ja.d(r,l,c,0));this.overlay.style.background="linear-gradient(to bottom, ".concat(h," 0%, ").concat(f," 100%)")}},{key:"getValue",value:function(t){return t.hsva.a}}]),e}(at),Mt=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Object(k.a)(this,e),n=o.call(this,i,t,r),n.domNode.classList.add("hue-strip"),n}return Object(w.a)(e,[{key:"getValue",value:function(t){return 1-t.hsva.h/360}}]),e}(at),Qt=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t._onClicked=t._register(new rr.b),t.onClicked=t._onClicked.event,t._button=Bt.append(i,document.createElement("button")),t._button.classList.add("insert-button"),t._button.textContent="Insert",t._button.onclick=function(n){t._onClicked.fire()},t}return Object(w.a)(e,[{key:"button",get:function(){return this._button}}]),e}(Ze.a),Ht=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;Object(k.a)(this,e),l=o.call(this),l.model=t,l.pixelRatio=n,l._register(Zt.PixelRatio.onDidChange(function(){return l.layout()}));var h=g(".colorpicker-widget");return i.appendChild(h),l.header=l._register(new O(h,l.model,r,c)),l.body=l._register(new Le(h,l.model,l.pixelRatio,c)),l}return Object(w.a)(e,[{key:"layout",value:function(){this.body.layout()}}]),e}(v.a),dt=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Cn=function(s,o){return function(e,i){o(e,i,s)}},Pn=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},ni=function(){function s(o,e,i,t){Object(k.a)(this,s),this.owner=o,this.range=e,this.model=i,this.provider=t,this.forceShowAtRange=!0}return Object(w.a)(s,[{key:"isValidForHoverAnchor",value:function(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),s}(),hi=function(){function s(o,e){Object(k.a)(this,s),this._editor=o,this._themeService=e,this.hoverOrdinal=2}return Object(w.a)(s,[{key:"computeSync",value:function(e,i){return[]}},{key:"computeAsync",value:function(e,i,t){return et.a.fromPromise(this._computeAsync(e,i,t))}},{key:"_computeAsync",value:function(e,i,t){return Pn(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(this._editor.hasModel()){ie.next=2;break}return ie.abrupt("return",[]);case 2:if(r=Pl.get(this._editor),r){ie.next=5;break}return ie.abrupt("return",[]);case 5:l=Object(B.a)(i),ie.prev=6,l.s();case 8:if((c=l.n()).done){ie.next=20;break}if(h=c.value,r.isColorDecoration(h)){ie.next=12;break}return ie.abrupt("continue",18);case 12:if(f=r.getColorData(h.range.getStartPosition()),!f){ie.next=18;break}return ie.next=16,nr(this,this._editor.getModel(),f.colorInfo,f.provider);case 16:return R=ie.sent,ie.abrupt("return",[R]);case 18:ie.next=8;break;case 20:ie.next=25;break;case 22:ie.prev=22,ie.t0=ie.catch(6),l.e(ie.t0);case 25:return ie.prev=25,l.f(),ie.finish(25);case 28:return ie.abrupt("return",[]);case 29:case"end":return ie.stop()}},n,this,[[6,22,25,28]])}))}},{key:"renderHoverParts",value:function(e,i){return Ni(this,this._editor,this._themeService,i,e)}}]),s}();hi=dt([Cn(1,Oi.b)],hi);var Di=Object(w.a)(function s(o,e,i,t){Object(k.a)(this,s),this.owner=o,this.range=e,this.model=i,this.provider=t}),wi=function(){function s(o,e){Object(k.a)(this,s),this._editor=o,this._themeService=e,this._color=null}return Object(w.a)(s,[{key:"createColorHover",value:function(e,i,t){return Pn(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R,Z,ie,je,Ie,st;return Object(d.a)().wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:if(this._editor.hasModel()){kt.next=2;break}return kt.abrupt("return",null);case 2:if(r=Pl.get(this._editor),r){kt.next=5;break}return kt.abrupt("return",null);case 5:return kt.next=7,mu(t,this._editor.getModel(),Zi.a.None);case 7:l=kt.sent,c=null,h=null,f=Object(B.a)(l);try{for(f.s();!(R=f.n()).done;)Z=R.value,ie=Z.colorInfo,Dt.a.containsRange(ie.range,e.range)&&(c=ie,h=Z.provider)}catch($t){f.e($t)}finally{f.f()}return je=c!=null?c:e,Ie=h!=null?h:i,st=!!c,kt.next=17,nr(this,this._editor.getModel(),je,Ie);case 17:return kt.t0=kt.sent,kt.t1=st,kt.abrupt("return",{colorHover:kt.t0,foundInEditor:kt.t1});case 20:case"end":return kt.stop()}},n,this)}))}},{key:"updateEditorModel",value:function(e){return Pn(this,void 0,void 0,Object(d.a)().mark(function i(){var t,n;return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this._editor.hasModel()){l.next=2;break}return l.abrupt("return");case 2:if(t=e.model,n=new Dt.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn),!this._color){l.next=8;break}return l.next=7,er(this._editor.getModel(),t,this._color,n,e);case 7:n=Wi(this._editor,n,t);case 8:case"end":return l.stop()}},i,this)}))}},{key:"renderHoverParts",value:function(e,i){return Ni(this,this._editor,this._themeService,i,e)}},{key:"color",get:function(){return this._color},set:function(e){this._color=e}}]),s}();wi=dt([Cn(1,Oi.b)],wi);function nr(s,o,e,i){return Pn(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R,Z,ie,je;return Object(d.a)().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return n=o.getValueInRange(e.range),r=e.color,l=r.red,c=r.green,h=r.blue,f=r.alpha,R=new ja.d(Math.round(l*255),Math.round(c*255),Math.round(h*255),f),Z=new ja.a(R),st.next=6,bd(o,e,i,Zi.a.None);case 6:if(ie=st.sent,je=new ze(Z,[],0),je.colorPresentations=ie||[],je.guessColorPresentation(Z,n),!(s instanceof hi)){st.next=14;break}return st.abrupt("return",new ni(s,Dt.a.lift(e.range),je,i));case 14:return st.abrupt("return",new Di(s,Dt.a.lift(e.range),je,i));case 15:case"end":return st.stop()}},t)}))}function Ni(s,o,e,i,t){var n=this;if(i.length===0||!o.hasModel())return Ze.a.None;var r=new Ze.c,l=i[0],c=o.getModel(),h=l.model,f=r.add(new Ht(t.fragment,h,o.getOption(138),e,s instanceof wi));t.setColorPicker(f);var R=new Dt.a(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn);if(s instanceof wi){var Z=i[0].model.color;s.color=Z,er(c,h,Z,R,l),r.add(h.onColorFlushed(function(ie){s.color=ie}))}else r.add(h.onColorFlushed(function(ie){return Pn(n,void 0,void 0,Object(d.a)().mark(function je(){return Object(d.a)().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return st.next=2,er(c,h,ie,R,l);case 2:R=Wi(o,R,h,t);case 3:case"end":return st.stop()}},je)}))}));return r.add(h.onDidChangeColor(function(ie){er(c,h,ie,R,l)})),r}function Wi(s,o,e,i){var t,n;if(e.presentation.textEdit){t=[e.presentation.textEdit],n=new Dt.a(e.presentation.textEdit.range.startLineNumber,e.presentation.textEdit.range.startColumn,e.presentation.textEdit.range.endLineNumber,e.presentation.textEdit.range.endColumn);var r=s.getModel()._setTrackedRange(null,n,3);s.pushUndoStop(),s.executeEdits("colorpicker",t),n=s.getModel()._getTrackedRange(r)||n}else t=[{range:o,text:e.presentation.label,forceMoveMarkers:!1}],n=o.setEndPosition(o.endLineNumber,o.startColumn+e.presentation.label.length),s.pushUndoStop(),s.executeEdits("colorpicker",t);return e.presentation.additionalTextEdits&&(t=Object(Ai.a)(e.presentation.additionalTextEdits),s.executeEdits("colorpicker",t),i&&i.hide()),s.pushUndoStop(),n}function er(s,o,e,i,t){return Pn(this,void 0,void 0,Object(d.a)().mark(function n(){var r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,bd(s,{range:i,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},t.provider,Zi.a.None);case 2:r=c.sent,o.colorPresentations=r||[];case 4:case"end":return c.stop()}},n)}))}var br=a("CGdd"),xr=a("SDKL"),Ur=a("t49l");function ca(s,o){return!!s[o]}var Ca=Object(w.a)(function s(o,e){Object(k.a)(this,s),this.target=o.target,this.isLeftClick=o.event.leftButton,this.isMiddleClick=o.event.middleButton,this.isRightClick=o.event.rightButton,this.hasTriggerModifier=ca(o.event,e.triggerModifier),this.hasSideBySideModifier=ca(o.event,e.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=o.event.detail<=1}),ra=Object(w.a)(function s(o,e){Object(k.a)(this,s),this.keyCodeIsTriggerKey=o.keyCode===e.triggerKey,this.keyCodeIsSideBySideKey=o.keyCode===e.triggerSideBySideKey,this.hasTriggerModifier=ca(o,e.triggerModifier)}),Ha=function(){function s(o,e,i,t){Object(k.a)(this,s),this.triggerKey=o,this.triggerModifier=e,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=t}return Object(w.a)(s,[{key:"equals",value:function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}]),s}();function Ja(s){return s==="altKey"?Ut.i?new Ha(57,"metaKey",6,"altKey"):new Ha(5,"ctrlKey",6,"altKey"):Ut.i?new Ha(6,"altKey",57,"metaKey"):new Ha(6,"altKey",5,"ctrlKey")}var So=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n._onMouseMoveOrRelevantKeyDown=n._register(new rr.b),n.onMouseMoveOrRelevantKeyDown=n._onMouseMoveOrRelevantKeyDown.event,n._onExecute=n._register(new rr.b),n.onExecute=n._onExecute.event,n._onCancel=n._register(new rr.b),n.onCancel=n._onCancel.event,n._editor=i,n._alwaysFireExecuteOnMouseUp=t,n._opts=Ja(n._editor.getOption(75)),n._lastMouseMoveEvent=null,n._hasTriggerKeyOnMouseDown=!1,n._lineNumberOnMouseDown=0,n._register(n._editor.onDidChangeConfiguration(function(r){if(r.hasChanged(75)){var l=Ja(n._editor.getOption(75));if(n._opts.equals(l))return;n._opts=l,n._lastMouseMoveEvent=null,n._hasTriggerKeyOnMouseDown=!1,n._lineNumberOnMouseDown=0,n._onCancel.fire()}})),n._register(n._editor.onMouseMove(function(r){return n._onEditorMouseMove(new Ca(r,n._opts))})),n._register(n._editor.onMouseDown(function(r){return n._onEditorMouseDown(new Ca(r,n._opts))})),n._register(n._editor.onMouseUp(function(r){return n._onEditorMouseUp(new Ca(r,n._opts))})),n._register(n._editor.onKeyDown(function(r){return n._onEditorKeyDown(new ra(r,n._opts))})),n._register(n._editor.onKeyUp(function(r){return n._onEditorKeyUp(new ra(r,n._opts))})),n._register(n._editor.onMouseDrag(function(){return n._resetHandler()})),n._register(n._editor.onDidChangeCursorSelection(function(r){return n._onDidChangeCursorSelection(r)})),n._register(n._editor.onDidChangeModel(function(r){return n._resetHandler()})),n._register(n._editor.onDidChangeModelContent(function(){return n._resetHandler()})),n._register(n._editor.onDidScrollChange(function(r){(r.scrollTopChanged||r.scrollLeftChanged)&&n._resetHandler()})),n}return Object(w.a)(e,[{key:"_onDidChangeCursorSelection",value:function(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this._resetHandler()}},{key:"_onEditorMouseMove",value:function(t){this._lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])}},{key:"_onEditorMouseDown",value:function(t){this._hasTriggerKeyOnMouseDown=t.hasTriggerModifier,this._lineNumberOnMouseDown=t.target.position?t.target.position.lineNumber:0}},{key:"_onEditorMouseUp",value:function(t){var n=t.target.position?t.target.position.lineNumber:0;(this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===n||this._alwaysFireExecuteOnMouseUp)&&this._onExecute.fire(t)}},{key:"_onEditorKeyDown",value:function(t){this._lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()}},{key:"_onEditorKeyUp",value:function(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()}},{key:"_resetHandler",value:function(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}]),e}(Ze.a),Ba=a("8HAY"),Wo=a("qj0h"),Ka=a("v63x"),Wa=a("R3nR"),No=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},To=function(s,o){return function(e,i){o(e,i,s)}},ys=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h,f,R,Z,ie,je,Ie){var st,ft;return Object(k.a)(this,e),ft=o.call(this,i,Object.assign(Object.assign({},r.getRawOptions()),{overflowWidgetsDomNode:r.getOverflowWidgetsDomNode()}),n,l,c,h,f,R,Z,ie,je,Ie),ft._parentEditor=r,ft._overwriteOptions=t,Object(yi.a)((st=Object(pi.a)(ft),Object(vi.a)(e.prototype)),"updateOptions",st).call(st,ft._overwriteOptions),ft._register(r.onDidChangeConfiguration(function(kt){return ft._onParentConfigurationChanged(kt)})),ft}return Object(w.a)(e,[{key:"getParentEditor",value:function(){return this._parentEditor}},{key:"_onParentConfigurationChanged",value:function(t){Object(yi.a)(Object(vi.a)(e.prototype),"updateOptions",this).call(this,this._parentEditor.getRawOptions()),Object(yi.a)(Object(vi.a)(e.prototype),"updateOptions",this).call(this,this._overwriteOptions)}},{key:"updateOptions",value:function(t){Wo.g(this._overwriteOptions,t,!0),Object(yi.a)(Object(vi.a)(e.prototype),"updateOptions",this).call(this,this._overwriteOptions)}}]),e}(yr.a);ys=No([To(4,Ia.a),To(5,In.a),To(6,ia.b),To(7,Jn.b),To(8,Oi.b),To(9,io.a),To(10,Wa.b),To(11,Ro.a),To(12,Nr.a)],ys);var $s=a("cMOf"),Is=a("nD70"),Yl=a("WHLJ"),is=new ja.a(new ja.d(0,122,204)),Al={showArrow:!0,showFrame:!0,className:"",frameColor:is,arrowColor:is,keepEditorSelection:!1},bu="vs.editor.contrib.zoneWidget",Ec=function(){function s(o,e,i,t,n,r,l,c){Object(k.a)(this,s),this.id="",this.domNode=o,this.afterLineNumber=e,this.afterColumn=i,this.heightInLines=t,this.showInHiddenAreas=l,this.ordinal=c,this._onDomNodeTop=n,this._onComputedHeight=r}return Object(w.a)(s,[{key:"onDomNodeTop",value:function(e){this._onDomNodeTop(e)}},{key:"onComputedHeight",value:function(e){this._onComputedHeight(e)}}]),s}(),xu=function(){function s(o,e){Object(k.a)(this,s),this._id=o,this._domNode=e}return Object(w.a)(s,[{key:"getId",value:function(){return this._id}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return null}}]),s}(),Zl=function(){function s(o){Object(k.a)(this,s),this._editor=o,this._ruleName=s._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}return Object(w.a)(s,[{key:"dispose",value:function(){this.hide(),Bt.removeCSSRulesContainingSelector(this._ruleName)}},{key:"color",set:function(e){this._color!==e&&(this._color=e,this._updateStyle())}},{key:"height",set:function(e){this._height!==e&&(this._height=e,this._updateStyle())}},{key:"_updateStyle",value:function(){Bt.removeCSSRulesContainingSelector(this._ruleName),Bt.createCSSRule(".monaco-editor ".concat(this._ruleName),"border-style: solid; border-color: transparent; border-bottom-color: ".concat(this._color,"; border-width: ").concat(this._height,"px; bottom: -").concat(this._height,"px; margin-left: -").concat(this._height,"px; "))}},{key:"show",value:function(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:Dt.a.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}},{key:"hide",value:function(){this._decorations.clear()}}]),s}();Zl._IdGenerator=new Is.a(".arrow-decoration-");var yu=function(){function s(o){var e=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object(k.a)(this,s),this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new Ze.c,this.container=null,this._isShowing=!1,this.editor=o,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=Wo.c(i),Wo.g(this.options,Al,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(function(t){var n=e._getWidth(t);e.domNode.style.width=n+"px",e.domNode.style.left=e._getLeft(t)+"px",e._onWidth(n)}))}return Object(w.a)(s,[{key:"dispose",value:function(){var e=this;this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(function(i){e._viewZone&&i.removeZone(e._viewZone.id),e._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}},{key:"create",value:function(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new Zl(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}},{key:"style",value:function(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}},{key:"_applyStyles",value:function(){if(this.container&&this.options.frameColor){var e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){var i=this.options.arrowColor.toString();this._arrow.color=i}}},{key:"_getWidth",value:function(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}},{key:"_getLeft",value:function(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}},{key:"_onViewZoneTop",value:function(e){this.domNode.style.top=e+"px"}},{key:"_onViewZoneHeight",value:function(e){var i;if(this.domNode.style.height="".concat(e,"px"),this.container){var t=e-this._decoratingElementsHeight();this.container.style.height="".concat(t,"px");var n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}(i=this._resizeSash)===null||i===void 0||i.layout()}},{key:"position",get:function(){var e=this._positionMarkerId.getRange(0);if(!!e)return e.getStartPosition()}},{key:"show",value:function(e,i){var t=Dt.a.isIRange(e)?Dt.a.lift(e):Dt.a.fromPositions(e);this._isShowing=!0,this._showImpl(t,i),this._isShowing=!1,this._positionMarkerId.set([{range:t,options:ti.b.EMPTY}])}},{key:"hide",value:function(){var e=this,i;this._viewZone&&(this.editor.changeViewZones(function(t){e._viewZone&&t.removeZone(e._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(i=this._arrow)===null||i===void 0||i.hide(),this._positionMarkerId.clear()}},{key:"_decoratingElementsHeight",value:function(){var e=this.editor.getOption(64),i=0;if(this.options.showArrow){var t=Math.round(e/3);i+=2*t}if(this.options.showFrame){var n=Math.round(e/9);i+=2*n}return i}},{key:"_showImpl",value:function(e,i){var t=this,n=e.getStartPosition(),r=this.editor.getLayoutInfo(),l=this._getWidth(r);this.domNode.style.width="".concat(l,"px"),this.domNode.style.left=this._getLeft(r)+"px";var c=document.createElement("div");c.style.overflow="hidden";var h=this.editor.getOption(64);if(!this.options.allowUnlimitedHeight){var f=Math.max(12,this.editor.getLayoutInfo().height/h*.8);i=Math.min(i,f)}var R=0,Z=0;if(this._arrow&&this.options.showArrow&&(R=Math.round(h/3),this._arrow.height=R,this._arrow.show(n)),this.options.showFrame&&(Z=Math.round(h/9)),this.editor.changeViewZones(function(ft){t._viewZone&&ft.removeZone(t._viewZone.id),t._overlayWidget&&(t.editor.removeOverlayWidget(t._overlayWidget),t._overlayWidget=null),t.domNode.style.top="-1000px",t._viewZone=new Ec(c,n.lineNumber,n.column,i,function(kt){return t._onViewZoneTop(kt)},function(kt){return t._onViewZoneHeight(kt)},t.options.showInHiddenAreas,t.options.ordinal),t._viewZone.id=ft.addZone(t._viewZone),t._overlayWidget=new xu(bu+t._viewZone.id,t.domNode),t.editor.addOverlayWidget(t._overlayWidget)}),this.container&&this.options.showFrame){var ie=this.options.frameWidth?this.options.frameWidth:Z;this.container.style.borderTopWidth=ie+"px",this.container.style.borderBottomWidth=ie+"px"}var je=i*h-this._decoratingElementsHeight();this.container&&(this.container.style.top=R+"px",this.container.style.height=je+"px",this.container.style.overflow="hidden"),this._doLayout(je,l),this.options.keepEditorSelection||this.editor.setSelection(e);var Ie=this.editor.getModel();if(Ie){var st=Ie.validateRange(new Dt.a(e.startLineNumber,1,e.endLineNumber+1,1));this.revealRange(st,st.startLineNumber===Ie.getLineCount())}}},{key:"revealRange",value:function(e,i){i?this.editor.revealLineNearTop(e.endLineNumber,0):this.editor.revealRange(e,0)}},{key:"setCssClass",value:function(e,i){!this.container||(i&&this.container.classList.remove(i),this.container.classList.add(e))}},{key:"_onWidth",value:function(e){}},{key:"_doLayout",value:function(e,i){}},{key:"_relayout",value:function(e){var i=this;this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(function(t){i._viewZone&&(i._viewZone.heightInLines=e,t.layoutZone(i._viewZone.id))})}},{key:"_initSash",value:function(){var e=this;if(!this._resizeSash){this._resizeSash=this._disposables.add(new $s.b(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);var i;this._disposables.add(this._resizeSash.onDidStart(function(t){e._viewZone&&(i={startY:t.startY,heightInLines:e._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(function(){i=void 0})),this._disposables.add(this._resizeSash.onDidChange(function(t){if(i){var n=(t.currentY-i.startY)/e.editor.getOption(64),r=n<0?Math.ceil(n):Math.floor(n),l=i.heightInLines+r;l>5&&l<35&&e._relayout(l)}}))}}},{key:"getHorizontalSashLeft",value:function(){return 0}},{key:"getHorizontalSashTop",value:function(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}},{key:"getHorizontalSashWidth",value:function(){var e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}]),s}(),tl=a("eUTo"),Xl=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Rl=function(s,o){return function(e,i){o(e,i,s)}},rs=Object(Ia.c)("IPeekViewService");Object(Xs.b)(rs,function(){function s(){Object(k.a)(this,s),this._widgets=new Map}return Object(w.a)(s,[{key:"addExclusiveWidget",value:function(e,i){var t=this,n=this._widgets.get(e);n&&(n.listener.dispose(),n.widget.dispose());var r=function(){var c=t._widgets.get(e);c&&c.widget===i&&(c.listener.dispose(),t._widgets.delete(e))};this._widgets.set(e,{widget:i,listener:i.onDidClose(r)})}}]),s}(),1);var ss;(function(s){s.inPeekEditor=new Jn.c("inReferenceSearchEditor",!0,Qe.b("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),s.notInPeekEditor=s.inPeekEditor.toNegated()})(ss||(ss={}));var _u=function(){function s(o,e){Object(k.a)(this,s),o instanceof ys&&ss.inPeekEditor.bindTo(e)}return Object(w.a)(s,[{key:"dispose",value:function(){}}]),s}();_u.ID="editor.contrib.referenceController",_u=Xl([Rl(1,Jn.b)],_u),Object(St.m)(_u.ID,_u,0);function nh(s){var o=s.get(In.a).getFocusedCodeEditor();return o instanceof ys?o.getParentEditor():o}var tf={headerBackgroundColor:ja.a.white,primaryHeadingColor:ja.a.fromHex("#333333"),secondaryHeadingColor:ja.a.fromHex("#6c6c6cb3")},yd=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this,i,t),r.instantiationService=n,r._onDidClose=new rr.b,r.onDidClose=r._onDidClose.event,Wo.g(r.options,tf,!1),r}return Object(w.a)(e,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this),this._onDidClose.fire(this))}},{key:"style",value:function(t){var n=this.options;t.headerBackgroundColor&&(n.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(n.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(n.secondaryHeadingColor=t.secondaryHeadingColor),Object(yi.a)(Object(vi.a)(e.prototype),"style",this).call(this,t)}},{key:"_applyStyles",value:function(){Object(yi.a)(Object(vi.a)(e.prototype),"_applyStyles",this).call(this);var t=this.options;this._headElement&&t.headerBackgroundColor&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&t.primaryHeadingColor&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&t.secondaryHeadingColor&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&t.frameColor&&(this._bodyElement.style.borderColor=t.frameColor.toString())}},{key:"_fillContainer",value:function(t){this.setCssClass("peekview-widget"),this._headElement=Bt.$(".head"),this._bodyElement=Bt.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),t.appendChild(this._headElement),t.appendChild(this._bodyElement)}},{key:"_fillHead",value:function(t,n){var r=this;this._titleElement=Bt.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),Bt.addStandardDisposableListener(this._titleElement,"click",function(h){return r._onTitleClick(h)})),Bt.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=Bt.$("span.filename"),this._secondaryHeading=Bt.$("span.dirname"),this._metaHeading=Bt.$("span.meta"),Bt.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);var l=Bt.$(".peekview-actions");Bt.append(this._headElement,l);var c=this._getActionBarOptions();this._actionbarWidget=new hl.a(l,c),this._disposables.add(this._actionbarWidget),n||this._actionbarWidget.push(new Ba.a("peekview.close",Qe.b("label.close","Close"),oa.a.asClassName(ta.a.close),!0,function(){return r.dispose(),Promise.resolve()}),{label:!1,icon:!0})}},{key:"_fillTitleIcon",value:function(t){}},{key:"_getActionBarOptions",value:function(){return{actionViewItemProvider:tl.b.bind(void 0,this.instantiationService),orientation:0}}},{key:"_onTitleClick",value:function(t){}},{key:"setTitle",value:function(t,n){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=t,this._primaryHeading.setAttribute("title",t),n?this._secondaryHeading.innerText=n:Bt.clearNode(this._secondaryHeading))}},{key:"setMetaTitle",value:function(t){this._metaHeading&&(t?(this._metaHeading.innerText=t,Bt.show(this._metaHeading)):Bt.hide(this._metaHeading))}},{key:"_doLayout",value:function(t,n){if(!this._isShowing&&t<0){this.dispose();return}var r=Math.ceil(this.editor.getOption(64)*1.2),l=Math.round(t-(r+2));this._doLayoutHead(r,n),this._doLayoutBody(l,n)}},{key:"_doLayoutHead",value:function(t,n){this._headElement&&(this._headElement.style.height="".concat(t,"px"),this._headElement.style.lineHeight=this._headElement.style.height)}},{key:"_doLayoutBody",value:function(t,n){this._bodyElement&&(this._bodyElement.style.height="".concat(t,"px"))}}]),e}(yu);yd=Xl([Rl(2,Ia.a)],yd);var rv=Object(Vt.Fc)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:ja.a.black,hcLight:ja.a.white},Qe.b("peekViewTitleBackground","Background color of the peek view title area.")),ih=Object(Vt.Fc)("peekViewTitleLabel.foreground",{dark:ja.a.white,light:ja.a.black,hcDark:ja.a.white,hcLight:Vt.O},Qe.b("peekViewTitleForeground","Color of the peek view title.")),qc=Object(Vt.Fc)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},Qe.b("peekViewTitleInfoForeground","Color of the peek view title info.")),Lc=Object(Vt.Fc)("peekView.border",{dark:Vt.U,light:Vt.U,hcDark:Vt.w,hcLight:Vt.w},Qe.b("peekViewBorder","Color of the peek view borders and arrow.")),nf=Object(Vt.Fc)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:ja.a.black,hcLight:ja.a.white},Qe.b("peekViewResultsBackground","Background color of the peek view result list.")),av=Object(Vt.Fc)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:ja.a.white,hcLight:Vt.O},Qe.b("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),ov=Object(Vt.Fc)("peekViewResult.fileForeground",{dark:ja.a.white,light:"#1E1E1E",hcDark:ja.a.white,hcLight:Vt.O},Qe.b("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),rf=Object(Vt.Fc)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},Qe.b("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),Cu=Object(Vt.Fc)("peekViewResult.selectionForeground",{dark:ja.a.white,light:"#6C6C6C",hcDark:ja.a.white,hcLight:Vt.O},Qe.b("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),nc=Object(Vt.Fc)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:ja.a.black,hcLight:ja.a.white},Qe.b("peekViewEditorBackground","Background color of the peek view editor.")),sv=Object(Vt.Fc)("peekViewEditorGutter.background",{dark:nc,light:nc,hcDark:nc,hcLight:nc},Qe.b("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),rh=Object(Vt.Fc)("peekViewEditorStickyScroll.background",{dark:nc,light:nc,hcDark:nc,hcLight:nc},Qe.b("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),af=Object(Vt.Fc)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},Qe.b("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),lv=Object(Vt.Fc)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},Qe.b("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),of=Object(Vt.Fc)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Vt.b,hcLight:Vt.b},Qe.b("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor.")),ed=a("sFUC"),oo=a("LloX"),Nl=a("nrhi"),bl=a("k9mg"),uv=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},sa=function(){function s(o,e,i,t){Object(k.a)(this,s),this.isProviderFirst=o,this.parent=e,this.link=i,this._rangeCallback=t,this.id=Is.b.nextId()}return Object(w.a)(s,[{key:"uri",get:function(){return this.link.uri}},{key:"range",get:function(){var e,i;return(i=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&i!==void 0?i:this.link.range},set:function(e){this._range=e,this._rangeCallback(this)}},{key:"ariaMessage",get:function(){var e,i=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return i?Object(Qe.b)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",i.value,Object(Za.b)(this.uri),this.range.startLineNumber,this.range.startColumn):Object(Qe.b)("aria.oneReference","in {0} on line {1} at column {2}",Object(Za.b)(this.uri),this.range.startLineNumber,this.range.startColumn)}}]),s}(),_d=function(){function s(o){Object(k.a)(this,s),this._modelReference=o}return Object(w.a)(s,[{key:"dispose",value:function(){this._modelReference.dispose()}},{key:"preview",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,t=this._modelReference.object.textEditorModel;if(!!t){var n=e.startLineNumber,r=e.startColumn,l=e.endLineNumber,c=e.endColumn,h=t.getWordUntilPosition({lineNumber:n,column:r-i}),f=new Dt.a(n,h.startColumn,n,r),R=new Dt.a(l,c,l,1073741824),Z=t.getValueInRange(f).replace(/^\s+/,""),ie=t.getValueInRange(e),je=t.getValueInRange(R).replace(/\s+$/,"");return{value:Z+ie+je,highlight:{start:Z.length,end:Z.length+ie.length}}}}}]),s}(),so=function(){function s(o,e){Object(k.a)(this,s),this.parent=o,this.uri=e,this.children=[],this._previews=new Ju.b}return Object(w.a)(s,[{key:"dispose",value:function(){Object(Ze.i)(this._previews.values()),this._previews.clear()}},{key:"getPreview",value:function(e){return this._previews.get(e.uri)}},{key:"ariaMessage",get:function(){var e=this.children.length;return e===1?Object(Qe.b)("aria.fileReferences.1","1 symbol in {0}, full path {1}",Object(Za.b)(this.uri),this.uri.fsPath):Object(Qe.b)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Object(Za.b)(this.uri),this.uri.fsPath)}},{key:"resolve",value:function(e){return uv(this,void 0,void 0,Object(d.a)().mark(function i(){var t,n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this._previews.size===0){h.next=2;break}return h.abrupt("return",this);case 2:t=Object(B.a)(this.children),h.prev=3,t.s();case 5:if((n=t.n()).done){h.next=21;break}if(r=n.value,!this._previews.has(r.uri)){h.next=9;break}return h.abrupt("continue",19);case 9:return h.prev=9,h.next=12,e.createModelReference(r.uri);case 12:l=h.sent,this._previews.set(r.uri,new _d(l)),h.next=19;break;case 16:h.prev=16,h.t0=h.catch(9),Object(zi.h)(h.t0);case 19:h.next=5;break;case 21:h.next=26;break;case 23:h.prev=23,h.t1=h.catch(3),t.e(h.t1);case 26:return h.prev=26,t.f(),h.finish(26);case 29:return h.abrupt("return",this);case 30:case"end":return h.stop()}},i,this,[[3,23,26,29],[9,16]])}))}}]),s}(),Jl=function(){function s(o,e){var i=this;Object(k.a)(this,s),this.groups=[],this.references=[],this._onDidChangeReferenceRange=new rr.b,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=o,this._title=e;var t=Object(z.a)(o,1),n=t[0];o.sort(s._compareReferences);var r,l=Object(B.a)(o),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;if((!r||!Za.e.isEqual(r.uri,h.uri,!0))&&(r=new so(this,h.uri),this.groups.push(r)),r.children.length===0||s._compareReferences(h,r.children[r.children.length-1])!==0){var f=new sa(n===h,r,h,function(R){return i._onDidChangeReferenceRange.fire(R)});this.references.push(f),r.children.push(f)}}}catch(R){l.e(R)}finally{l.f()}}return Object(w.a)(s,[{key:"dispose",value:function(){Object(Ze.i)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}},{key:"clone",value:function(){return new s(this._links,this._title)}},{key:"title",get:function(){return this._title}},{key:"isEmpty",get:function(){return this.groups.length===0}},{key:"ariaMessage",get:function(){return this.isEmpty?Object(Qe.b)("aria.result.0","No results found"):this.references.length===1?Object(Qe.b)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?Object(Qe.b)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Object(Qe.b)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}},{key:"nextOrPreviousReference",value:function(e,i){var t=e.parent,n=t.children.indexOf(e),r=t.children.length,l=t.parent.groups.length;return l===1||i&&n+1<r||!i&&n>0?(i?n=(n+1)%r:n=(n+r-1)%r,t.children[n]):(n=t.parent.groups.indexOf(t),i?(n=(n+1)%l,t.parent.groups[n].children[0]):(n=(n+l-1)%l,t.parent.groups[n].children[t.parent.groups[n].children.length-1]))}},{key:"nearestReference",value:function(e,i){var t=this.references.map(function(n,r){return{idx:r,prefixLen:Vn.f(n.uri.toString(),e.toString()),offsetDist:Math.abs(n.range.startLineNumber-i.lineNumber)*100+Math.abs(n.range.startColumn-i.column)}}).sort(function(n,r){return n.prefixLen>r.prefixLen?-1:n.prefixLen<r.prefixLen?1:n.offsetDist<r.offsetDist?-1:n.offsetDist>r.offsetDist?1:0})[0];if(t)return this.references[t.idx]}},{key:"referenceAt",value:function(e,i){var t=Object(B.a)(this.references),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.uri.toString()===e.toString()&&Dt.a.containsPosition(r.range,i))return r}}catch(l){t.e(l)}finally{t.f()}}},{key:"firstReference",value:function(){var e=Object(B.a)(this.references),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;if(t.isProviderFirst)return t}}catch(n){e.e(n)}finally{e.f()}return this.references[0]}}],[{key:"_compareReferences",value:function(e,i){return Za.e.compare(e.uri,i.uri)||Dt.a.compareRangesUsingStarts(e.range,i.range)}}]),s}(),Cd=a("44XX"),ql=a("tYmi"),ah=a("rmIC"),ic=a("y0ET"),oh=a("O/se"),sf=a("7lZ/"),sh=a("xONI"),_s=a("fpMC"),Od=a("R8sh"),lh=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},td=function(s,o){return function(e,i){o(e,i,s)}},uh=function(){function s(o){Object(k.a)(this,s),this._resolverService=o}return Object(w.a)(s,[{key:"hasChildren",value:function(e){return e instanceof Jl||e instanceof so}},{key:"getChildren",value:function(e){if(e instanceof Jl)return e.groups;if(e instanceof so)return e.resolve(this._resolverService).then(function(i){return i.children});throw new Error("bad tree")}}]),s}();uh=lh([td(0,Ur.a)],uh);var cv=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"getHeight",value:function(){return 23}},{key:"getTemplateId",value:function(e){return e instanceof so?nd.id:hh.id}}]),s}(),ch=function(){function s(o){Object(k.a)(this,s),this._keybindingService=o}return Object(w.a)(s,[{key:"getKeyboardNavigationLabel",value:function(e){var i;if(e instanceof sa){var t=(i=e.parent.getPreview(e))===null||i===void 0?void 0:i.preview(e.range);if(t)return t.value}return Object(Za.b)(e.uri)}}]),s}();ch=lh([td(0,Ii.a)],ch);var dv=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"getId",value:function(e){return e instanceof sa?e.id:e.uri}}]),s}(),dh=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;Object(k.a)(this,e),n=o.call(this),n._labelService=t;var r=document.createElement("div");return r.classList.add("reference-file"),n.file=n._register(new sh.a(r,{supportHighlights:!0})),n.badge=new oh.a(Bt.append(r,Bt.$(".count")),{},fl.b),i.appendChild(r),n}return Object(w.a)(e,[{key:"set",value:function(t,n){var r=Object(Za.d)(t.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(t.uri),this._labelService.getUriLabel(r,{relative:!0}),{title:this._labelService.getUriLabel(t.uri),matches:n});var l=t.children.length;this.badge.setCount(l),l>1?this.badge.setTitleFormat(Object(Qe.b)("referencesCount","{0} references",l)):this.badge.setTitleFormat(Object(Qe.b)("referenceCount","{0} reference",l))}}]),e}(Ze.a);dh=lh([td(1,Od.a)],dh);var nd=function(){function s(o){Object(k.a)(this,s),this._instantiationService=o,this.templateId=s.id}return Object(w.a)(s,[{key:"renderTemplate",value:function(e){return this._instantiationService.createInstance(dh,e)}},{key:"renderElement",value:function(e,i,t){t.set(e.element,Object(_s.d)(e.filterData))}},{key:"disposeTemplate",value:function(e){e.dispose()}}]),s}();nd.id="FileReferencesRenderer",nd=lh([td(0,Ia.a)],nd);var hv=function(){function s(o){Object(k.a)(this,s),this.label=new sf.a(o)}return Object(w.a)(s,[{key:"set",value:function(e,i){var t,n=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(!n||!n.value)this.label.set("".concat(Object(Za.b)(e.uri),":").concat(e.range.startLineNumber+1,":").concat(e.range.startColumn+1));else{var r=n.value,l=n.highlight;i&&!_s.a.isDefault(i)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(r,Object(_s.d)(i))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(r,[l]))}}}]),s}(),hh=function(){function s(){Object(k.a)(this,s),this.templateId=s.id}return Object(w.a)(s,[{key:"renderTemplate",value:function(e){return new hv(e)}},{key:"renderElement",value:function(e,i,t){t.set(e.element,e.filterData)}},{key:"disposeTemplate",value:function(){}}]),s}();hh.id="OneReferenceRenderer";var lf=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"getWidgetAriaLabel",value:function(){return Object(Qe.b)("treeAriaLabel","References")}},{key:"getAriaLabel",value:function(e){return e.ariaMessage}}]),s}(),fv=a("OAO6"),uf=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Ou=function(s,o){return function(e,i){o(e,i,s)}},cf=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},df=function(){function s(o,e){var i=this;Object(k.a)(this,s),this._editor=o,this._model=e,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Ze.c,this._callOnModelChange=new Ze.c,this._callOnDispose.add(this._editor.onDidChangeModel(function(){return i._onModelChanged()})),this._onModelChanged()}return Object(w.a)(s,[{key:"dispose",value:function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}},{key:"_onModelChanged",value:function(){this._callOnModelChange.clear();var e=this._editor.getModel();if(!!e){var i=Object(B.a)(this._model.references),t;try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.uri.toString()===e.uri.toString()){this._addDecorations(n.parent);return}}}catch(r){i.e(r)}finally{i.f()}}}},{key:"_addDecorations",value:function(e){var i=this;if(!!this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(function(){return i._onDecorationChanged()}));for(var t=[],n=[],r=0,l=e.children.length;r<l;r++){var c=e.children[r];this._decorationIgnoreSet.has(c.id)||c.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:c.range,options:s.DecorationOptions}),n.push(r))}this._editor.changeDecorations(function(h){for(var f=h.deltaDecorations([],t),R=0;R<f.length;R++)i._decorations.set(f[R],e.children[n[R]])})}}},{key:"_onDecorationChanged",value:function(){var e=[],i=this._editor.getModel();if(!!i){var t=Object(B.a)(this._decorations),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=Object(z.a)(r,2),c=l[0],h=l[1],f=i.getDecorationRange(c);if(!!f){var R=!1;if(!Dt.a.equalsRange(f,h.range)){if(Dt.a.spansMultipleLines(f))R=!0;else{var Z=h.range.endColumn-h.range.startColumn,ie=f.endColumn-f.startColumn;Z!==ie&&(R=!0)}R?(this._decorationIgnoreSet.add(h.id),e.push(c)):h.range=f}}}}catch(st){t.e(st)}finally{t.f()}for(var je=0,Ie=e.length;je<Ie;je++)this._decorations.delete(e[je]);this._editor.removeDecorations(e)}}},{key:"removeDecorations",value:function(){this._editor.removeDecorations(Object(Ai.a)(this._decorations.keys())),this._decorations.clear()}}]),s}();df.DecorationOptions=ti.b.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});var hf=function(){function s(){Object(k.a)(this,s),this.ratio=.7,this.heightInLines=18}return Object(w.a)(s,null,[{key:"fromJSON",value:function(e){var i,t;try{var n=JSON.parse(e);i=n.ratio,t=n.heightInLines}catch(r){}return{ratio:i||.7,heightInLines:t||18}}}]),s}(),vv=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e)}(bl.c),fh=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h,f,R,Z,ie,je){var Ie;return Object(k.a)(this,e),Ie=o.call(this,i,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},c),Ie._defaultTreeKeyboardSupport=t,Ie.layoutData=n,Ie._textModelResolverService=l,Ie._instantiationService=c,Ie._peekViewService=h,Ie._uriLabel=f,Ie._undoRedoService=R,Ie._keybindingService=Z,Ie._languageService=ie,Ie._languageConfigurationService=je,Ie._disposeOnNewModel=new Ze.c,Ie._callOnDispose=new Ze.c,Ie._onDidSelectReference=new rr.b,Ie.onDidSelectReference=Ie._onDidSelectReference.event,Ie._dim=new Bt.Dimension(0,0),Ie._applyTheme(r.getColorTheme()),Ie._callOnDispose.add(r.onDidColorThemeChange(Ie._applyTheme.bind(Object(pi.a)(Ie)))),Ie._peekViewService.addExclusiveWidget(i,Object(pi.a)(Ie)),Ie.create(),Ie}return Object(w.a)(e,[{key:"dispose",value:function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Object(Ze.i)(this._preview),Object(Ze.i)(this._previewNotAvailableMessage),Object(Ze.i)(this._tree),Object(Ze.i)(this._previewModelReference),this._splitView.dispose(),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"_applyTheme",value:function(t){var n=t.getColor(Lc)||ja.a.transparent;this.style({arrowColor:n,frameColor:n,headerBackgroundColor:t.getColor(rv)||ja.a.transparent,primaryHeadingColor:t.getColor(ih),secondaryHeadingColor:t.getColor(qc)})}},{key:"show",value:function(t){Object(yi.a)(Object(vi.a)(e.prototype),"show",this).call(this,t,this.layoutData.heightInLines||18)}},{key:"focusOnReferenceTree",value:function(){this._tree.domFocus()}},{key:"focusOnPreviewEditor",value:function(){this._preview.focus()}},{key:"isPreviewEditorFocused",value:function(){return this._preview.hasTextFocus()}},{key:"_onTitleClick",value:function(t){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"title"})}},{key:"_fillBody",value:function(t){var n=this;this.setCssClass("reference-zone-widget"),this._messageContainer=Bt.append(t,Bt.$("div.messages")),Bt.hide(this._messageContainer),this._splitView=new Cd.b(t,{orientation:1}),this._previewContainer=Bt.append(t,Bt.$("div.preview.inline"));var r={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(ys,this._previewContainer,r,{},this.editor),Bt.hide(this._previewContainer),this._previewNotAvailableMessage=new ti.c(Qe.b("missingPreviewMessage","no preview available"),ic.b,ti.c.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=Bt.append(t,Bt.$("div.ref-tree.inline"));var l={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new lf,keyboardNavigationLabelProvider:this._instantiationService.createInstance(ch),identityProvider:new dv,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:nf}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(Bt.addStandardDisposableListener(this._treeContainer,"keydown",function(h){h.equals(9)&&(n._keybindingService.dispatchEvent(h,h.target),h.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(vv,"ReferencesWidget",this._treeContainer,new cv,[this._instantiationService.createInstance(nd),this._instantiationService.createInstance(hh)],this._instantiationService.createInstance(uh),l),this._splitView.addView({onDidChange:rr.c.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(f){n._preview.layout({height:n._dim.height,width:f})}},Cd.a.Distribute),this._splitView.addView({onDidChange:rr.c.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(f){n._treeContainer.style.height="".concat(n._dim.height,"px"),n._treeContainer.style.width="".concat(f,"px"),n._tree.layout(n._dim.height,f)}},Cd.a.Distribute),this._disposables.add(this._splitView.onDidSashChange(function(){n._dim.width&&(n.layoutData.ratio=n._splitView.getViewSize(0)/n._dim.width)},void 0));var c=function(f,R){f instanceof sa&&(R==="show"&&n._revealReference(f,!1),n._onDidSelectReference.fire({element:f,kind:R,source:"tree"}))};this._tree.onDidOpen(function(h){h.sideBySide?c(h.element,"side"):h.editorOptions.pinned?c(h.element,"goto"):c(h.element,"show")}),Bt.hide(this._treeContainer)}},{key:"_onWidth",value:function(t){this._dim&&this._doLayoutBody(this._dim.height,t)}},{key:"_doLayoutBody",value:function(t,n){Object(yi.a)(Object(vi.a)(e.prototype),"_doLayoutBody",this).call(this,t,n),this._dim=new Bt.Dimension(n,t),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(n),this._splitView.resizeView(0,n*this.layoutData.ratio)}},{key:"setSelection",value:function(t){var n=this;return this._revealReference(t,!0).then(function(){!n._model||(n._tree.setSelection([t]),n._tree.setFocus([t]))})}},{key:"setModel",value:function(t){return this._disposeOnNewModel.clear(),this._model=t,this._model?this._onNewModel():Promise.resolve()}},{key:"_onNewModel",value:function(){var t=this;return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=Qe.b("noResults","No results"),Bt.show(this._messageContainer),Promise.resolve(void 0)):(Bt.hide(this._messageContainer),this._decorationsManager=new df(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(function(n){return t._tree.rerender(n)})),this._disposeOnNewModel.add(this._preview.onMouseDown(function(n){var r=n.event,l=n.target;if(r.detail===2){var c=t._getFocusedReference();!c||t._onDidSelectReference.fire({element:{uri:c.uri,range:l.range},kind:r.ctrlKey||r.metaKey||r.altKey?"side":"open",source:"editor"})}})),this.container.classList.add("results-loaded"),Bt.show(this._treeContainer),Bt.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}},{key:"_getFocusedReference",value:function(){var t=this._tree.getFocus(),n=Object(z.a)(t,1),r=n[0];if(r instanceof sa)return r;if(r instanceof so&&r.children.length>0)return r.children[0]}},{key:"revealReference",value:function(t){return cf(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this._revealReference(t,!1);case 2:this._onDidSelectReference.fire({element:t,kind:"goto",source:"tree"});case 3:case"end":return l.stop()}},n,this)}))}},{key:"_revealReference",value:function(t,n){return cf(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(this._revealedReference!==t){ie.next=2;break}return ie.abrupt("return");case 2:if(this._revealedReference=t,t.uri.scheme!==ql.c.inMemory?this.setTitle(Object(Za.c)(t.uri),this._uriLabel.getUriLabel(Object(Za.d)(t.uri))):this.setTitle(Qe.b("peekView.alternateTitle","References")),l=this._textModelResolverService.createModelReference(t.uri),this._tree.getInput()!==t.parent){ie.next=9;break}this._tree.reveal(t),ie.next=13;break;case 9:return n&&this._tree.reveal(t.parent),ie.next=12,this._tree.expand(t.parent);case 12:this._tree.reveal(t);case 13:return ie.next=15,l;case 15:if(c=ie.sent,this._model){ie.next=19;break}return c.dispose(),ie.abrupt("return");case 19:Object(Ze.i)(this._previewModelReference),h=c.object,h?(f=this._preview.getModel()===h.textEditorModel?0:1,R=Dt.a.lift(t.range).collapseToStart(),this._previewModelReference=c,this._preview.setModel(h.textEditorModel),this._preview.setSelection(R),this._preview.revealRangeInCenter(R,f)):(this._preview.setModel(this._previewNotAvailableMessage),c.dispose());case 22:case"end":return ie.stop()}},r,this)}))}}]),e}(yd);fh=uf([Ou(3,Oi.b),Ou(4,Ur.a),Ou(5,Ia.a),Ou(6,rs),Ou(7,Od.a),Ou(8,fv.a),Ou(9,Ii.a),Ou(10,br.a),Ou(11,Ro.a)],fh);var gv=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},rc=function(s,o){return function(e,i){o(e,i,s)}},ff=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},ac=new Jn.c("referenceSearchVisible",!1,Qe.b("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'")),Fu=function(){function s(o,e,i,t,n,r,l,c){Object(k.a)(this,s),this._defaultTreeKeyboardSupport=o,this._editor=e,this._editorService=t,this._notificationService=n,this._instantiationService=r,this._storageService=l,this._configurationService=c,this._disposables=new Ze.c,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ac.bindTo(i)}return Object(w.a)(s,[{key:"dispose",value:function(){var e,i;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(i=this._model)===null||i===void 0||i.dispose(),this._widget=void 0,this._model=void 0}},{key:"toggleWidget",value:function(e,i,t){var n=this,r;if(this._widget&&(r=this._widget.position),this.closeWidget(),!(!!r&&e.containsPosition(r))){this._peekMode=t,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(function(){n.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(function(){n._ignoreModelChangeEvent||n.closeWidget()}));var l="peekViewLayout",c=hf.fromJSON(this._storageService.get(l,0,"{}"));this._widget=this._instantiationService.createInstance(fh,this._editor,this._defaultTreeKeyboardSupport,c),this._widget.setTitle(Qe.b("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(function(){i.cancel(),n._widget&&(n._storageService.store(l,JSON.stringify(n._widget.layoutData),0,1),n._widget=void 0),n.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(function(f){var R=f.element,Z=f.kind;if(!!R)switch(Z){case"open":(f.source!=="editor"||!n._configurationService.getValue("editor.stablePeek"))&&n.openReference(R,!1,!1);break;case"side":n.openReference(R,!0,!1);break;case"goto":t?n._gotoReference(R,!0):n.openReference(R,!1,!0);break}}));var h=++this._requestIdPool;i.then(function(f){var R;if(h!==n._requestIdPool||!n._widget){f.dispose();return}return(R=n._model)===null||R===void 0||R.dispose(),n._model=f,n._widget.setModel(n._model).then(function(){if(n._widget&&n._model&&n._editor.hasModel()){n._model.isEmpty?n._widget.setMetaTitle(""):n._widget.setMetaTitle(Qe.b("metaTitle.N","{0} ({1})",n._model.title,n._model.references.length));var Z=n._editor.getModel().uri,ie=new tn.a(e.startLineNumber,e.startColumn),je=n._model.nearestReference(Z,ie);if(je)return n._widget.setSelection(je).then(function(){n._widget&&n._editor.getOption(84)==="editor"&&n._widget.focusOnPreviewEditor()})}})},function(f){n._notificationService.error(f)})}}},{key:"changeFocusBetweenPreviewAndReferences",value:function(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}},{key:"goToNextOrPreviousReference",value:function(e){return ff(this,void 0,void 0,Object(d.a)().mark(function i(){var t,n,r,l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(!this._editor.hasModel()||!this._model||!this._widget)){f.next=2;break}return f.abrupt("return");case 2:if(t=this._widget.position,t){f.next=5;break}return f.abrupt("return");case 5:if(n=this._model.nearestReference(this._editor.getModel().uri,t),n){f.next=8;break}return f.abrupt("return");case 8:return r=this._model.nextOrPreviousReference(n,e),l=this._editor.hasTextFocus(),c=this._widget.isPreviewEditorFocused(),f.next=13,this._widget.setSelection(r);case 13:return f.next=15,this._gotoReference(r,!1);case 15:l?this._editor.focus():this._widget&&c&&this._widget.focusOnPreviewEditor();case 16:case"end":return f.stop()}},i,this)}))}},{key:"revealReference",value:function(e){return ff(this,void 0,void 0,Object(d.a)().mark(function i(){return Object(d.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(!this._editor.hasModel()||!this._model||!this._widget)){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,this._widget.revealReference(e);case 4:case"end":return n.stop()}},i,this)}))}},{key:"closeWidget",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i,t;(i=this._widget)===null||i===void 0||i.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}},{key:"_gotoReference",value:function(e,i){var t=this,n;(n=this._widget)===null||n===void 0||n.hide(),this._ignoreModelChangeEvent=!0;var r=Dt.a.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:r,selectionSource:"code.jump",pinned:i}},this._editor).then(function(l){var c;if(t._ignoreModelChangeEvent=!1,!l||!t._widget){t.closeWidget();return}if(t._editor===l)t._widget.show(r),t._widget.focusOnReferenceTree();else{var h=s.get(l),f=t._model.clone();t.closeWidget(),l.focus(),h==null||h.toggleWidget(r,Object(et.k)(function(R){return Promise.resolve(f)}),(c=t._peekMode)!==null&&c!==void 0?c:!1)}},function(l){t._ignoreModelChangeEvent=!1,Object(zi.h)(l)})}},{key:"openReference",value:function(e,i,t){i||this.closeWidget();var n=e.uri,r=e.range;this._editorService.openCodeEditor({resource:n,options:{selection:r,selectionSource:"code.jump",pinned:t}},this._editor,i)}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();Fu.ID="editor.contrib.referencesController",Fu=gv([rc(2,Jn.b),rc(3,In.a),rc(4,io.a),rc(5,Ia.a),rc(6,Ws.a),rc(7,Po.a)],Fu);function Bu(s,o){var e=nh(s);if(!!e){var i=Fu.get(e);i&&o(i)}}Nl.a.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Object(mr.c)(2048|41,60),when:Jn.a.or(ac,ss.inPeekEditor),handler:function(o){Bu(o,function(e){e.changeFocusBetweenPreviewAndReferences()})}}),Nl.a.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:Jn.a.or(ac,ss.inPeekEditor),handler:function(o){Bu(o,function(e){e.goToNextOrPreviousReference(!0)})}}),Nl.a.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:Jn.a.or(ac,ss.inPeekEditor),handler:function(o){Bu(o,function(e){e.goToNextOrPreviousReference(!1)})}}),ia.a.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),ia.a.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),ia.a.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),ia.a.registerCommand("closeReferenceSearch",function(s){return Bu(s,function(o){return o.closeWidget()})}),Nl.a.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:Jn.a.and(ss.inPeekEditor,Jn.a.not("config.editor.stablePeek"))}),Nl.a.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:Jn.a.and(ac,Jn.a.not("config.editor.stablePeek"))}),Nl.a.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:Jn.a.and(ac,bl.e,bl.f.negate(),bl.g.negate()),handler:function(o){var e,i=o.get(bl.a),t=(e=i.lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(t)&&t[0]instanceof sa&&Bu(o,function(n){return n.revealReference(t[0])})}}),Nl.a.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:Jn.a.and(ac,bl.e,bl.f.negate(),bl.g.negate()),handler:function(o){var e,i=o.get(bl.a),t=(e=i.lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(t)&&t[0]instanceof sa&&Bu(o,function(n){return n.openReference(t[0],!0,!0)})}}),ia.a.registerCommand("openReference",function(s){var o,e=s.get(bl.a),i=(o=e.lastFocusedList)===null||o===void 0?void 0:o.getFocus();Array.isArray(i)&&i[0]instanceof sa&&Bu(s,function(t){return t.openReference(i[0],!1,!0)})});var mv=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},id=function(s,o){return function(e,i){o(e,i,s)}},vh=new Jn.c("hasSymbols",!1,Object(Qe.b)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),Sd=Object(Ia.c)("ISymbolNavigationService"),gh=function(){function s(o,e,i,t){Object(k.a)(this,s),this._editorService=e,this._notificationService=i,this._keybindingService=t,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=vh.bindTo(o)}return Object(w.a)(s,[{key:"reset",value:function(){var e,i;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(i=this._currentMessage)===null||i===void 0||i.dispose(),this._currentModel=void 0,this._currentIdx=-1}},{key:"put",value:function(e){var i=this,t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();var n=new mh(this._editorService),r=n.onDidChange(function(l){if(!i._ignoreEditorChange){var c=i._editorService.getActiveCodeEditor();if(!!c){var h=c.getModel(),f=c.getPosition();if(!(!h||!f)){var R=!1,Z=!1,ie=Object(B.a)(t.references),je;try{for(ie.s();!(je=ie.n()).done;){var Ie=je.value;if(Object(Za.g)(Ie.uri,h.uri))R=!0,Z=Z||Dt.a.containsPosition(Ie.range,f);else if(R)break}}catch(st){ie.e(st)}finally{ie.f()}(!R||!Z)&&i.reset()}}}});this._currentState=Object(Ze.h)(n,r)}},{key:"revealNext",value:function(e){var i=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:Dt.a.collapseToStart(t.range),selectionRevealType:3}},e).finally(function(){i._ignoreEditorChange=!1})}},{key:"_showMessage",value:function(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();var i=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),t=i?Object(Qe.b)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,i.getLabel()):Object(Qe.b)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)}}]),s}();gh=mv([id(0,Jn.b),id(1,In.a),id(2,io.a),id(3,Ii.a)],gh),Object(Xs.b)(Sd,gh,1),Object(St.l)(new(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:vh,kbOpts:{weight:100,primary:70}})}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n){return t.get(Sd).revealNext(n)}}]),e}(St.d))),Nl.a.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:vh,primary:9,handler:function(o){o.get(Sd).reset()}});var mh=function(){function s(o){Object(k.a)(this,s),this._listener=new Map,this._disposables=new Ze.c,this._onDidChange=new rr.b,this.onDidChange=this._onDidChange.event,this._disposables.add(o.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(o.onCodeEditorAdd(this._onDidAddEditor,this)),o.listCodeEditors().forEach(this._onDidAddEditor,this)}return Object(w.a)(s,[{key:"dispose",value:function(){this._disposables.dispose(),this._onDidChange.dispose(),Object(Ze.i)(this._listener.values())}},{key:"_onDidAddEditor",value:function(e){var i=this;this._listener.set(e,Object(Ze.h)(e.onDidChangeCursorPosition(function(t){return i._onDidChange.fire({editor:e})}),e.onDidChangeModelContent(function(t){return i._onDidChange.fire({editor:e})})))}},{key:"_onDidRemoveEditor",value:function(e){var i;(i=this._listener.get(e))===null||i===void 0||i.dispose(),this._listener.delete(e)}}]),s}();mh=mv([id(0,In.a)],mh);var ph=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function kd(s,o,e,i){return ph(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return n=e.ordered(s),r=n.map(function(f){return Promise.resolve(i(f,s,o)).then(void 0,function(R){Object(zi.i)(R)})}),h.next=4,Promise.all(r);case 4:return l=h.sent,h.abrupt("return",Object(or.f)(l.flat()));case 6:case"end":return h.stop()}},t)}))}function Mc(s,o,e,i){return kd(o,e,s,function(t,n,r){return t.provideDefinition(n,r,i)})}function vf(s,o,e,i){return kd(o,e,s,function(t,n,r){return t.provideDeclaration(n,r,i)})}function gf(s,o,e,i){return kd(o,e,s,function(t,n,r){return t.provideImplementation(n,r,i)})}function mf(s,o,e,i){return kd(o,e,s,function(t,n,r){return t.provideTypeDefinition(n,r,i)})}function Dd(s,o,e,i,t){var n=this;return kd(o,e,s,function(r,l,c){return ph(n,void 0,void 0,Object(d.a)().mark(function h(){var f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,r.provideReferences(l,c,{includeDeclaration:!0},t);case 2:if(f=ie.sent,!(!i||!f||f.length!==2)){ie.next=5;break}return ie.abrupt("return",f);case 5:return ie.next=7,r.provideReferences(l,c,{includeDeclaration:!1},t);case 7:if(R=ie.sent,!(R&&R.length===1)){ie.next=10;break}return ie.abrupt("return",R);case 10:return ie.abrupt("return",f);case 11:case"end":return ie.stop()}},h)}))})}function rd(s){return ph(this,void 0,void 0,Object(d.a)().mark(function o(){var e,i,t;return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s();case 2:return e=r.sent,i=new Jl(e,""),t=i.references.map(function(l){return l.link}),i.dispose(),r.abrupt("return",t);case 7:case"end":return r.stop()}},o)}))}Object(St.o)("_executeDefinitionProvider",function(s,o,e){var i=s.get(Nr.a),t=Mc(i.definitionProvider,o,e,Zi.a.None);return rd(function(){return t})}),Object(St.o)("_executeTypeDefinitionProvider",function(s,o,e){var i=s.get(Nr.a),t=mf(i.typeDefinitionProvider,o,e,Zi.a.None);return rd(function(){return t})}),Object(St.o)("_executeDeclarationProvider",function(s,o,e){var i=s.get(Nr.a),t=vf(i.declarationProvider,o,e,Zi.a.None);return rd(function(){return t})}),Object(St.o)("_executeReferenceProvider",function(s,o,e){var i=s.get(Nr.a),t=Dd(i.referenceProvider,o,e,!1,Zi.a.None);return rd(function(){return t})}),Object(St.o)("_executeImplementationProvider",function(s,o,e){var i=s.get(Nr.a),t=gf(i.implementationProvider,o,e,Zi.a.None);return rd(function(){return t})});var yl=a("JYp7"),al=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},bh,wd,ad,yh,_h,od,Ch,jd;kn.e.appendMenuItem(kn.c.EditorContext,{submenu:kn.c.EditorContextPeek,title:Qe.b("peek.submenu","Peek"),group:"navigation",order:100});var Tc=function(){function s(o,e){Object(k.a)(this,s),this.model=o,this.position=e}return Object(w.a)(s,null,[{key:"is",value:function(e){return!e||typeof e!="object"?!1:!!(e instanceof s||tn.a.isIPosition(e.position)&&e.model)}}]),s}(),Su=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this,e._patchConfig(t)),n.configuration=i,e._allSymbolNavigationCommands.set(t.id,Object(pi.a)(n)),n}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n,r,l){var c=this;if(!n.hasModel())return Promise.resolve(void 0);var h=t.get(io.a),f=t.get(In.a),R=t.get(ro.a),Z=t.get(Sd),ie=t.get(Nr.a),je=t.get(Ia.a),Ie=n.getModel(),st=n.getPosition(),ft=Tc.is(r)?r:new Tc(Ie,st),kt=new Qa.b(n,1|4),$t=Object(et.o)(this._getLocationModel(ie,ft.model,ft.position,kt.token),kt.token).then(function(un){return al(c,void 0,void 0,Object(d.a)().mark(function Yn(){var xn=this,fi,Si,ji,Bi,Lr;return Object(d.a)().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:if(!(!un||kt.token.isCancellationRequested)){jr.next=2;break}return jr.abrupt("return");case 2:if(Object(xi.a)(un.ariaMessage),un.referenceAt(Ie.uri,st)&&(ji=this._getAlternativeCommand(n),!e._activeAlternativeCommands.has(ji)&&e._allSymbolNavigationCommands.has(ji)&&(Si=e._allSymbolNavigationCommands.get(ji))),Bi=un.references.length,Bi!==0){jr.next=9;break}this.configuration.muteMessage||(Lr=Ie.getWordAtPosition(st),(fi=ns.get(n))===null||fi===void 0||fi.showMessage(this._getNoResultFoundMessage(Lr),st)),jr.next=15;break;case 9:if(!(Bi===1&&Si)){jr.next=14;break}e._activeAlternativeCommands.add(this.desc.id),je.invokeFunction(function($r){return Si.runEditorCommand($r,n,r,l).finally(function(){e._activeAlternativeCommands.delete(xn.desc.id)})}),jr.next=15;break;case 14:return jr.abrupt("return",this._onResult(f,Z,n,un,l));case 15:case"end":return jr.stop()}},Yn,this)}))},function(un){h.error(un)}).finally(function(){kt.dispose()});return R.showWhile($t,250),$t}},{key:"_onResult",value:function(t,n,r,l,c){return al(this,void 0,void 0,Object(d.a)().mark(function h(){var f,R,Z,ie;return Object(d.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(f=this._getGoToPreference(r),!(!(r instanceof ys)&&(this.configuration.openInPeek||f==="peek"&&l.references.length>1))){Ie.next=5;break}this._openInPeek(r,l,c),Ie.next=12;break;case 5:return R=l.firstReference(),Z=l.references.length>1&&f==="gotoAndPeek",Ie.next=9,this._openReference(r,t,R,this.configuration.openToSide,!Z);case 9:ie=Ie.sent,Z&&ie?this._openInPeek(ie,l,c):l.dispose(),f==="goto"&&n.put(R);case 12:case"end":return Ie.stop()}},h,this)}))}},{key:"_openReference",value:function(t,n,r,l,c){return al(this,void 0,void 0,Object(d.a)().mark(function h(){var f,R,Z,ie;return Object(d.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(f=void 0,Object(oo.o)(r)&&(f=r.targetSelectionRange),f||(f=r.range),f){Ie.next=5;break}return Ie.abrupt("return",void 0);case 5:return Ie.next=7,n.openCodeEditor({resource:r.uri,options:{selection:Dt.a.collapseToStart(f),selectionRevealType:3,selectionSource:"code.jump"}},t,l);case 7:if(R=Ie.sent,R){Ie.next=10;break}return Ie.abrupt("return",void 0);case 10:return c&&(Z=R.getModel(),ie=R.createDecorationsCollection([{range:f,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]),setTimeout(function(){R.getModel()===Z&&ie.clear()},350)),Ie.abrupt("return",R);case 12:case"end":return Ie.stop()}},h)}))}},{key:"_openInPeek",value:function(t,n,r){var l=Fu.get(t);l&&t.hasModel()?l.toggleWidget(r!=null?r:t.getSelection(),Object(et.k)(function(c){return Promise.resolve(n)}),this.configuration.openInPeek):n.dispose()}}],[{key:"all",value:function(){return e._allSymbolNavigationCommands.values()}},{key:"_patchConfig",value:function(t){var n=Object.assign(Object.assign({},t),{f1:!0});if(n.menu){var r=Object(B.a)(yl.a.wrap(n.menu)),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;(c.id===kn.c.EditorContext||c.id===kn.c.EditorContextPeek)&&(c.when=Jn.a.and(t.precondition,c.when))}}catch(h){r.e(h)}finally{r.f()}}return n}}]),e}(St.c);Su._allSymbolNavigationCommands=new Map,Su._activeAlternativeCommands=new Set;var sd=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return al(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=Jl,f.next=3,Mc(t.definitionProvider,n,r,l);case 3:return f.t1=f.sent,f.t2=Qe.b("def.title","Definitions"),f.abrupt("return",new f.t0(f.t1,f.t2));case 6:case"end":return f.stop()}},c)}))}},{key:"_getNoResultFoundMessage",value:function(t){return t&&t.word?Qe.b("noResultWord","No definition found for '{0}'",t.word):Qe.b("generic.noResults","No definition found")}},{key:"_getAlternativeCommand",value:function(t){return t.getOption(56).alternativeDefinitionCommand}},{key:"_getGoToPreference",value:function(t){return t.getOption(56).multipleDefinitions}}]),e}(Su),Oh=Ut.m&&!Object(Zt.isStandalone)()?2048|70:70;Object(kn.i)((bh=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,title:{value:Qe.b("actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:Qe.b({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:Jn.a.and(an.a.hasDefinitionProvider,an.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:an.a.editorTextFocus,primary:Oh,weight:100},menu:[{id:kn.c.EditorContext,group:"navigation",order:1.1},{id:kn.c.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),ia.a.registerCommandAlias("editor.action.goToDeclaration",e.id),i}return Object(w.a)(e)}(sd),bh.id="editor.action.revealDefinition",bh)),Object(kn.i)((wd=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this,{openToSide:!0,openInPeek:!1,muteMessage:!1},{id:e.id,title:{value:Qe.b("actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:Jn.a.and(an.a.hasDefinitionProvider,an.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,Oh),weight:100}}),ia.a.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id),i}return Object(w.a)(e)}(sd),wd.id="editor.action.revealDefinitionAside",wd)),Object(kn.i)((ad=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.id,title:{value:Qe.b("actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:Jn.a.and(an.a.hasDefinitionProvider,ss.notInPeekEditor,an.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:an.a.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},menu:{id:kn.c.EditorContextPeek,group:"peek",order:2}}),ia.a.registerCommandAlias("editor.action.previewDeclaration",e.id),i}return Object(w.a)(e)}(sd),ad.id="editor.action.peekDefinition",ad));var pf=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return al(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=Jl,f.next=3,vf(t.declarationProvider,n,r,l);case 3:return f.t1=f.sent,f.t2=Qe.b("decl.title","Declarations"),f.abrupt("return",new f.t0(f.t1,f.t2));case 6:case"end":return f.stop()}},c)}))}},{key:"_getNoResultFoundMessage",value:function(t){return t&&t.word?Qe.b("decl.noResultWord","No declaration found for '{0}'",t.word):Qe.b("decl.generic.noResults","No declaration found")}},{key:"_getAlternativeCommand",value:function(t){return t.getOption(56).alternativeDeclarationCommand}},{key:"_getGoToPreference",value:function(t){return t.getOption(56).multipleDeclarations}}]),e}(Su);Object(kn.i)((yh=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,title:{value:Qe.b("actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:Qe.b({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:Jn.a.and(an.a.hasDeclarationProvider,an.a.isInWalkThroughSnippet.toNegated()),menu:[{id:kn.c.EditorContext,group:"navigation",order:1.3},{id:kn.c.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}return Object(w.a)(e,[{key:"_getNoResultFoundMessage",value:function(t){return t&&t.word?Qe.b("decl.noResultWord","No declaration found for '{0}'",t.word):Qe.b("decl.generic.noResults","No declaration found")}}]),e}(pf),yh.id="editor.action.revealDeclaration",yh)),Object(kn.i)(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:Qe.b("actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:Jn.a.and(an.a.hasDeclarationProvider,ss.notInPeekEditor,an.a.isInWalkThroughSnippet.toNegated()),menu:{id:kn.c.EditorContextPeek,group:"peek",order:3}})}return Object(w.a)(e)}(pf));var Sh=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return al(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=Jl,f.next=3,mf(t.typeDefinitionProvider,n,r,l);case 3:return f.t1=f.sent,f.t2=Qe.b("typedef.title","Type Definitions"),f.abrupt("return",new f.t0(f.t1,f.t2));case 6:case"end":return f.stop()}},c)}))}},{key:"_getNoResultFoundMessage",value:function(t){return t&&t.word?Qe.b("goToTypeDefinition.noResultWord","No type definition found for '{0}'",t.word):Qe.b("goToTypeDefinition.generic.noResults","No type definition found")}},{key:"_getAlternativeCommand",value:function(t){return t.getOption(56).alternativeTypeDefinitionCommand}},{key:"_getGoToPreference",value:function(t){return t.getOption(56).multipleTypeDefinitions}}]),e}(Su);Object(kn.i)((_h=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,title:{value:Qe.b("actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:Qe.b({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:Jn.a.and(an.a.hasTypeDefinitionProvider,an.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:an.a.editorTextFocus,primary:0,weight:100},menu:[{id:kn.c.EditorContext,group:"navigation",order:1.4},{id:kn.c.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}return Object(w.a)(e)}(Sh),_h.ID="editor.action.goToTypeDefinition",_h)),Object(kn.i)((od=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,title:{value:Qe.b("actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:Jn.a.and(an.a.hasTypeDefinitionProvider,ss.notInPeekEditor,an.a.isInWalkThroughSnippet.toNegated()),menu:{id:kn.c.EditorContextPeek,group:"peek",order:4}})}return Object(w.a)(e)}(Sh),od.ID="editor.action.peekTypeDefinition",od));var bf=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return al(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=Jl,f.next=3,gf(t.implementationProvider,n,r,l);case 3:return f.t1=f.sent,f.t2=Qe.b("impl.title","Implementations"),f.abrupt("return",new f.t0(f.t1,f.t2));case 6:case"end":return f.stop()}},c)}))}},{key:"_getNoResultFoundMessage",value:function(t){return t&&t.word?Qe.b("goToImplementation.noResultWord","No implementation found for '{0}'",t.word):Qe.b("goToImplementation.generic.noResults","No implementation found")}},{key:"_getAlternativeCommand",value:function(t){return t.getOption(56).alternativeImplementationCommand}},{key:"_getGoToPreference",value:function(t){return t.getOption(56).multipleImplementations}}]),e}(Su);Object(kn.i)((Ch=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,title:{value:Qe.b("actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:Qe.b({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:Jn.a.and(an.a.hasImplementationProvider,an.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:an.a.editorTextFocus,primary:2048|70,weight:100},menu:[{id:kn.c.EditorContext,group:"navigation",order:1.45},{id:kn.c.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}return Object(w.a)(e)}(bf),Ch.ID="editor.action.goToImplementation",Ch)),Object(kn.i)((jd=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,title:{value:Qe.b("actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:Jn.a.and(an.a.hasImplementationProvider,ss.notInPeekEditor,an.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:an.a.editorTextFocus,primary:2048|1024|70,weight:100},menu:{id:kn.c.EditorContextPeek,group:"peek",order:5}})}return Object(w.a)(e)}(bf),jd.ID="editor.action.peekImplementation",jd));var yf=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"_getNoResultFoundMessage",value:function(t){return t?Qe.b("references.no","No references found for '{0}'",t.word):Qe.b("references.noGeneric","No references found")}},{key:"_getAlternativeCommand",value:function(t){return t.getOption(56).alternativeReferenceCommand}},{key:"_getGoToPreference",value:function(t){return t.getOption(56).multipleReferences}}]),e}(Su);Object(kn.i)(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:Qe.b("goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:Qe.b({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:Jn.a.and(an.a.hasReferenceProvider,ss.notInPeekEditor,an.a.isInWalkThroughSnippet.toNegated()),keybinding:{when:an.a.editorTextFocus,primary:1024|70,weight:100},menu:[{id:kn.c.EditorContext,group:"navigation",order:1.45},{id:kn.c.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}return Object(w.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return al(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=Jl,f.next=3,Dd(t.referenceProvider,n,r,!0,l);case 3:return f.t1=f.sent,f.t2=Qe.b("ref.title","References"),f.abrupt("return",new f.t0(f.t1,f.t2));case 6:case"end":return f.stop()}},c)}))}}]),e}(yf)),Object(kn.i)(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:Qe.b("references.action.label","Peek References"),original:"Peek References"},precondition:Jn.a.and(an.a.hasReferenceProvider,ss.notInPeekEditor,an.a.isInWalkThroughSnippet.toNegated()),menu:{id:kn.c.EditorContextPeek,group:"peek",order:6}})}return Object(w.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return al(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=Jl,f.next=3,Dd(t.referenceProvider,n,r,!1,l);case 3:return f.t1=f.sent,f.t2=Qe.b("ref.title","References"),f.abrupt("return",new f.t0(f.t1,f.t2));case 6:case"end":return f.stop()}},c)}))}}]),e}(yf));var _f=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this,i,{id:"editor.action.goToLocation",title:{value:Qe.b("label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:Jn.a.and(ss.notInPeekEditor,an.a.isInWalkThroughSnippet.toNegated())}),r._references=t,r._gotoMultipleBehaviour=n,r}return Object(w.a)(e,[{key:"_getLocationModel",value:function(t,n,r,l){return al(this,void 0,void 0,Object(d.a)().mark(function c(){return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",new Jl(this._references,Qe.b("generic.title","Locations")));case 1:case"end":return f.stop()}},c,this)}))}},{key:"_getNoResultFoundMessage",value:function(t){return t&&Qe.b("generic.noResult","No results for '{0}'",t.word)||""}},{key:"_getGoToPreference",value:function(t){var n;return(n=this._gotoMultipleBehaviour)!==null&&n!==void 0?n:t.getOption(56).multipleReferences}},{key:"_getAlternativeCommand",value:function(){return""}}]),e}(Su);ia.a.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Wr.a},{name:"position",description:"The position at which to start",constraint:tn.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:function(o,e,i,t,n,r,l){return al(void 0,void 0,void 0,Object(d.a)().mark(function c(){var h,f;return Object(d.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Object(Yr.b)(Wr.a.isUri(e)),Object(Yr.b)(tn.a.isIPosition(i)),Object(Yr.b)(Array.isArray(t)),Object(Yr.b)(typeof n=="undefined"||typeof n=="string"),Object(Yr.b)(typeof l=="undefined"||typeof l=="boolean"),h=o.get(In.a),Z.next=8,h.openCodeEditor({resource:e},h.getFocusedCodeEditor());case 8:if(f=Z.sent,!Object(ed.b)(f)){Z.next=13;break}return f.setPosition(i),f.revealPositionInCenterIfOutsideViewport(i,0),Z.abrupt("return",f.invokeWithinContext(function(ie){var je=new(function(Ie){Object(tt.a)(ft,Ie);var st=Object(Lt.a)(ft);function ft(){return Object(k.a)(this,ft),st.apply(this,arguments)}return Object(w.a)(ft,[{key:"_getNoResultFoundMessage",value:function($t){return r||Object(yi.a)(Object(vi.a)(ft.prototype),"_getNoResultFoundMessage",this).call(this,$t)}}]),ft}(_f))({muteMessage:!Boolean(r),openInPeek:Boolean(l),openToSide:!1},t,n);ie.get(Ia.a).invokeFunction(je.run.bind(je),f)}));case 13:case"end":return Z.stop()}},c)}))}}),ia.a.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Wr.a},{name:"position",description:"The position at which to start",constraint:tn.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(o,e,i,t,n){return al(void 0,void 0,void 0,Object(d.a)().mark(function r(){return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:o.get(ia.b).executeCommand("editor.action.goToLocations",e,i,t,n,void 0,!0);case 1:case"end":return c.stop()}},r)}))}}),ia.a.registerCommand({id:"editor.action.findReferences",handler:function(o,e,i){Object(Yr.b)(Wr.a.isUri(e)),Object(Yr.b)(tn.a.isIPosition(i));var t=o.get(Nr.a),n=o.get(In.a);return n.openCodeEditor({resource:e},n.getFocusedCodeEditor()).then(function(r){if(!(!Object(ed.b)(r)||!r.hasModel())){var l=Fu.get(r);if(!!l){var c=Object(et.k)(function(f){return Dd(t.referenceProvider,r.getModel(),tn.a.lift(i),!1,f).then(function(R){return new Jl(R,Qe.b("ref.title","References"))})}),h=new Dt.a(i.lineNumber,i.column,i.lineNumber,i.column);return Promise.resolve(l.toggleWidget(h,c,!1))}}})}}),ia.a.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");var pv=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},kh=function(s,o){return function(e,i){o(e,i,s)}},Ed=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},oc=function(){function s(o,e,i,t){var n=this;Object(k.a)(this,s),this.textModelResolverService=e,this.languageService=i,this.languageFeaturesService=t,this.toUnhook=new Ze.c,this.toUnhookForKeyboard=new Ze.c,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=o,this.linkDecorations=this.editor.createDecorationsCollection();var r=new So(o);this.toUnhook.add(r),this.toUnhook.add(r.onMouseMoveOrRelevantKeyDown(function(l){var c=Object(z.a)(l,2),h=c[0],f=c[1];n.startFindDefinitionFromMouse(h,Object(Yr.n)(f))})),this.toUnhook.add(r.onExecute(function(l){n.isEnabled(l)&&n.gotoDefinition(l.target.position,l.hasSideBySideModifier).catch(function(c){Object(zi.h)(c)}).finally(function(){n.removeLinkDecorations()})})),this.toUnhook.add(r.onCancel(function(){n.removeLinkDecorations(),n.currentWordAtPosition=null}))}return Object(w.a)(s,[{key:"startFindDefinitionFromCursor",value:function(e){return Ed(this,void 0,void 0,Object(d.a)().mark(function i(){var t=this;return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.startFindDefinition(e);case 2:this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(function(){t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(function(l){l&&(t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear())}));case 4:case"end":return r.stop()}},i,this)}))}},{key:"startFindDefinitionFromMouse",value:function(e,i){if(!(e.target.type===9&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(e,i)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}var t=e.target.position;this.startFindDefinition(t)}}},{key:"startFindDefinition",value:function(e){var i;return Ed(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r,l,c,h,f,R,Z,ie,je,Ie;return Object(d.a)().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(this.toUnhookForKeyboard.clear(),r=e?(i=this.editor.getModel())===null||i===void 0?void 0:i.getWordAtPosition(e):null,r){ft.next=6;break}return this.currentWordAtPosition=null,this.removeLinkDecorations(),ft.abrupt("return");case 6:if(!(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===r.startColumn&&this.currentWordAtPosition.endColumn===r.endColumn&&this.currentWordAtPosition.word===r.word)){ft.next=8;break}return ft.abrupt("return");case 8:return this.currentWordAtPosition=r,l=new Qa.a(this.editor,4|1|2|8),this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Object(et.k)(function(kt){return n.findDefinition(e,kt)}),ft.prev=12,ft.next=15,this.previousPromise;case 15:c=ft.sent,ft.next=22;break;case 18:return ft.prev=18,ft.t0=ft.catch(12),Object(zi.h)(ft.t0),ft.abrupt("return");case 22:if(!(!c||!c.length||!l.validate(this.editor))){ft.next=25;break}return this.removeLinkDecorations(),ft.abrupt("return");case 25:if(h=c[0].originSelectionRange?Dt.a.lift(c[0].originSelectionRange):new Dt.a(e.lineNumber,r.startColumn,e.lineNumber,r.endColumn),!(c.length>1)){ft.next=33;break}f=h,R=Object(B.a)(c);try{for(R.s();!(Z=R.n()).done;)ie=Z.value,je=ie.originSelectionRange,je&&(f=Dt.a.plusRange(f,je))}catch(kt){R.e(kt)}finally{R.f()}this.addDecoration(f,new Qi.a().appendText(Qe.b("multipleResults","Click to show {0} definitions.",c.length))),ft.next=37;break;case 33:if(Ie=c[0],Ie.uri){ft.next=36;break}return ft.abrupt("return");case 36:this.textModelResolverService.createModelReference(Ie.uri).then(function(kt){if(!kt.object||!kt.object.textEditorModel){kt.dispose();return}var $t=kt.object.textEditorModel,un=Ie.range.startLineNumber;if(un<1||un>$t.getLineCount()){kt.dispose();return}var Yn=n.getPreviewValue($t,un,Ie),xn=n.languageService.guessLanguageIdByFilepathOrFirstLine($t.uri);n.addDecoration(h,Yn?new Qi.a().appendCodeblock(xn||"",Yn):void 0),kt.dispose()});case 37:case"end":return ft.stop()}},t,this,[[12,18]])}))}},{key:"getPreviewValue",value:function(e,i,t){var n=t.range,r=n.endLineNumber-n.startLineNumber;r>=s.MAX_SOURCE_PREVIEW_LINES&&(n=this.getPreviewRangeBasedOnIndentation(e,i));var l=this.stripIndentationFromPreviewRange(e,i,n);return l}},{key:"stripIndentationFromPreviewRange",value:function(e,i,t){for(var n=e.getLineFirstNonWhitespaceColumn(i),r=n,l=i+1;l<t.endLineNumber;l++){var c=e.getLineFirstNonWhitespaceColumn(l);r=Math.min(r,c)}var h=e.getValueInRange(t).replace(new RegExp("^\\s{".concat(r-1,"}"),"gm"),"").trim();return h}},{key:"getPreviewRangeBasedOnIndentation",value:function(e,i){for(var t=e.getLineFirstNonWhitespaceColumn(i),n=Math.min(e.getLineCount(),i+s.MAX_SOURCE_PREVIEW_LINES),r=i+1;r<n;r++){var l=e.getLineFirstNonWhitespaceColumn(r);if(t===l)break}return new Dt.a(i,1,r+1,1)}},{key:"addDecoration",value:function(e,i){var t={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:i}};this.linkDecorations.set([t])}},{key:"removeLinkDecorations",value:function(){this.linkDecorations.clear()}},{key:"isEnabled",value:function(e,i){var t;return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&e.target.type===6&&!(((t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options)instanceof ti.a)&&(e.hasTriggerModifier||(i?i.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}},{key:"findDefinition",value:function(e,i){var t=this.editor.getModel();return t?Mc(this.languageFeaturesService.definitionProvider,t,e,i):Promise.resolve(null)}},{key:"gotoDefinition",value:function(e,i){var t=this;return this.editor.setPosition(e),this.editor.invokeWithinContext(function(n){var r=!i&&t.editor.getOption(85)&&!t.isInPeekEditor(n),l=new sd({openToSide:i,openInPeek:r,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0});return l.run(n)})}},{key:"isInPeekEditor",value:function(e){var i=e.get(Jn.b);return ss.inPeekEditor.getValue(i)}},{key:"dispose",value:function(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();oc.ID="editor.contrib.gotodefinitionatposition",oc.MAX_SOURCE_PREVIEW_LINES=8,oc=pv([kh(1,Ur.a),kh(2,br.a),kh(3,Nr.a)],oc),Object(St.m)(oc.ID,oc,2);var Dh=a("uDWl"),Ic=a("GJhM"),Cg=a("vAKA"),Ld=Bt.$,wh=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this),i.containerDomNode=document.createElement("div"),i.containerDomNode.className="monaco-hover",i.containerDomNode.tabIndex=0,i.containerDomNode.setAttribute("role","tooltip"),i.contentsDomNode=document.createElement("div"),i.contentsDomNode.className="monaco-hover-content",i.scrollbar=i._register(new Ic.a(i.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),i.containerDomNode.appendChild(i.scrollbar.getDomNode()),i}return Object(w.a)(e,[{key:"onContentsChanged",value:function(){this.scrollbar.scanDomNode()}}]),e}(Ze.a),bv=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;Object(k.a)(this,e),r=o.call(this),r.actionContainer=Bt.append(i,Ld("div.action-container")),r.actionContainer.setAttribute("tabindex","0"),r.action=Bt.append(r.actionContainer,Ld("a.action")),r.action.setAttribute("role","button"),t.iconClass&&Bt.append(r.action,Ld("span.icon.".concat(t.iconClass)));var l=Bt.append(r.action,Ld("span"));return l.textContent=n?"".concat(t.label," (").concat(n,")"):t.label,r._register(Bt.addDisposableListener(r.actionContainer,Bt.EventType.CLICK,function(c){c.stopPropagation(),c.preventDefault(),t.run(r.actionContainer)})),r._register(Bt.addDisposableListener(r.actionContainer,Bt.EventType.KEY_DOWN,function(c){var h=new Dh.a(c);(h.equals(3)||h.equals(10))&&(c.stopPropagation(),c.preventDefault(),t.run(r.actionContainer))})),r.setEnabled(!0),r}return Object(w.a)(e,[{key:"setEnabled",value:function(t){t?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}],[{key:"render",value:function(t,n,r){return new e(t,n,r)}}]),e}(Ze.a),Og=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Ue=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s[Symbol.asyncIterator],e;return o?o.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=s[n]&&function(r){return new Promise(function(l,c){r=s[n](r),t(l,c,r.done,r.value)})}}function t(n,r,l,c){Promise.resolve(c).then(function(h){n({value:h,done:l})},r)}},Be=Object(w.a)(function s(o,e,i){Object(k.a)(this,s),this.value=o,this.isComplete=e,this.hasLoadingMessage=i}),_t=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n._editor=i,n._computer=t,n._onResult=n._register(new rr.b),n.onResult=n._onResult.event,n._firstWaitScheduler=n._register(new et.g(function(){return n._triggerAsyncComputation()},0)),n._secondWaitScheduler=n._register(new et.g(function(){return n._triggerSyncComputation()},0)),n._loadingMessageScheduler=n._register(new et.g(function(){return n._triggerLoadingMessage()},0)),n._state=0,n._asyncIterable=null,n._asyncIterableDone=!1,n._result=[],n}return Object(w.a)(e,[{key:"dispose",value:function(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"_hoverTime",get:function(){return this._editor.getOption(58).delay}},{key:"_firstWaitTime",get:function(){return this._hoverTime/2}},{key:"_secondWaitTime",get:function(){return this._hoverTime-this._firstWaitTime}},{key:"_loadingMessageTime",get:function(){return 3*this._hoverTime}},{key:"_setState",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this._state=t,n&&this._fireResult()}},{key:"_triggerAsyncComputation",value:function(){var t=this;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=Object(et.j)(function(n){return t._computer.computeAsync(n)}),function(){return Og(t,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R,Z,ie;return Object(d.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:Ie.prev=0,Ie.prev=1,f=!0,R=Ue(this._asyncIterable);case 3:return Ie.next=5,R.next();case 5:if(Z=Ie.sent,r=Z.done,r){Ie.next=15;break}h=Z.value,f=!1,ie=h,ie&&(this._result.push(ie),this._fireResult());case 12:f=!0,Ie.next=3;break;case 15:Ie.next=20;break;case 17:Ie.prev=17,Ie.t0=Ie.catch(1),l={error:Ie.t0};case 20:if(Ie.prev=20,Ie.prev=21,!(!f&&!r&&(c=R.return))){Ie.next=25;break}return Ie.next=25,c.call(R);case 25:if(Ie.prev=25,!l){Ie.next=28;break}throw l.error;case 28:return Ie.finish(25);case 29:return Ie.finish(20);case 30:this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0),Ie.next=37;break;case 34:Ie.prev=34,Ie.t1=Ie.catch(0),Object(zi.h)(Ie.t1);case 37:case"end":return Ie.stop()}},n,this,[[0,34],[1,17,20,30],[21,,25,29]])}))}()):this._asyncIterableDone=!0}},{key:"_triggerSyncComputation",value:function(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}},{key:"_triggerLoadingMessage",value:function(){this._state===3&&this._setState(4)}},{key:"_fireResult",value:function(){if(!(this._state===1||this._state===2)){var t=this._state===0,n=this._state===4;this._onResult.fire(new Be(this._result.slice(0),t,n))}}},{key:"start",value:function(t){if(t===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}},{key:"cancel",value:function(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}]),e}(Ze.a),vt=function(){function s(o,e,i,t){Object(k.a)(this,s),this.priority=o,this.range=e,this.initialMousePosX=i,this.initialMousePosY=t,this.type=1}return Object(w.a)(s,[{key:"equals",value:function(e){return e.type===1&&this.range.equalsRange(e.range)}},{key:"canAdoptVisibleHover",value:function(e,i){return e.type===1&&i.lineNumber===this.range.startLineNumber}}]),s}(),ht=function(){function s(o,e,i,t,n,r){Object(k.a)(this,s),this.priority=o,this.owner=e,this.range=i,this.initialMousePosX=t,this.initialMousePosY=n,this.supportsMarkerHover=r,this.type=2}return Object(w.a)(s,[{key:"equals",value:function(e){return e.type===2&&this.owner===e.owner}},{key:"canAdoptVisibleHover",value:function(e,i){return e.type===2&&this.owner===e.owner}}]),s}(),zt=new(function(){function s(){Object(k.a)(this,s),this._participants=[]}return Object(w.a)(s,[{key:"register",value:function(e){this._participants.push(e)}},{key:"getAll",value:function(){return this._participants}}]),s}()),Yt=a("jrin"),nn,yn=function(){function s(){Object(k.a)(this,s),this.value="",this.pos=0}return Object(w.a)(s,[{key:"text",value:function(e){this.value=e,this.pos=0}},{key:"tokenText",value:function(e){return this.value.substr(e.pos,e.len)}},{key:"next",value:function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var e=this.pos,i=0,t=this.value.charCodeAt(e),n;if(n=s._table[t],typeof n=="number")return this.pos+=1,{type:n,pos:e,len:1};if(s.isDigitCharacter(t)){n=8;do i+=1,t=this.value.charCodeAt(e+i);while(s.isDigitCharacter(t));return this.pos+=i,{type:n,pos:e,len:i}}if(s.isVariableCharacter(t)){n=9;do t=this.value.charCodeAt(e+ ++i);while(s.isVariableCharacter(t)||s.isDigitCharacter(t));return this.pos+=i,{type:n,pos:e,len:i}}n=10;do i+=1,t=this.value.charCodeAt(e+i);while(!isNaN(t)&&typeof s._table[t]=="undefined"&&!s.isDigitCharacter(t)&&!s.isVariableCharacter(t));return this.pos+=i,{type:n,pos:e,len:i}}}],[{key:"isDigitCharacter",value:function(e){return e>=48&&e<=57}},{key:"isVariableCharacter",value:function(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}}]),s}();yn._table=(nn={},Object(Yt.a)(nn,36,0),Object(Yt.a)(nn,58,1),Object(Yt.a)(nn,44,2),Object(Yt.a)(nn,123,3),Object(Yt.a)(nn,125,4),Object(Yt.a)(nn,92,5),Object(Yt.a)(nn,47,6),Object(Yt.a)(nn,124,7),Object(Yt.a)(nn,43,11),Object(Yt.a)(nn,45,12),Object(Yt.a)(nn,63,13),nn);var Rn=function(){function s(){Object(k.a)(this,s),this._children=[]}return Object(w.a)(s,[{key:"appendChild",value:function(e){return e instanceof ei&&this._children[this._children.length-1]instanceof ei?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}},{key:"replace",value:function(e,i){var t=e.parent,n=t.children.indexOf(e),r=t.children.slice(0);r.splice.apply(r,[n,1].concat(Object(Ai.a)(i))),t._children=r,function l(c,h){var f=Object(B.a)(c),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value;Z.parent=h,l(Z.children,Z)}}catch(ie){f.e(ie)}finally{f.f()}}(i,t)}},{key:"children",get:function(){return this._children}},{key:"rightMostDescendant",get:function(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}},{key:"snippet",get:function(){for(var e=this;;){if(!e)return;if(e instanceof Ji)return e;e=e.parent}}},{key:"toString",value:function(){return this.children.reduce(function(e,i){return e+i.toString()},"")}},{key:"len",value:function(){return 0}}]),s}(),ei=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t.value=i,t}return Object(w.a)(e,[{key:"toString",value:function(){return this.value}},{key:"len",value:function(){return this.value.length}},{key:"clone",value:function(){return new e(this.value)}}]),e}(Rn),$n=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e)}(Rn),Kn=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t.index=i,t}return Object(w.a)(e,[{key:"isFinalTabstop",get:function(){return this.index===0}},{key:"choice",get:function(){return this._children.length===1&&this._children[0]instanceof ui?this._children[0]:void 0}},{key:"clone",value:function(){var t=new e(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(function(n){return n.clone()}),t}}],[{key:"compareByIndex",value:function(t,n){return t.index===n.index?0:t.isFinalTabstop?1:n.isFinalTabstop||t.index<n.index?-1:t.index>n.index?1:0}}]),e}($n),ui=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.apply(this,arguments),i.options=[],i}return Object(w.a)(e,[{key:"appendChild",value:function(t){return t instanceof ei&&(t.parent=this,this.options.push(t)),this}},{key:"toString",value:function(){return this.options[0].value}},{key:"len",value:function(){return this.options[0].len()}},{key:"clone",value:function(){var t=new e;return this.options.forEach(t.appendChild,t),t}}]),e}(Rn),Mi=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.apply(this,arguments),i.regexp=new RegExp(""),i}return Object(w.a)(e,[{key:"resolve",value:function(t){var n=this,r=!1,l=t.replace(this.regexp,function(){return r=!0,n._replace(Array.prototype.slice.call(arguments,0,-2))});return!r&&this._children.some(function(c){return c instanceof Ri&&Boolean(c.elseValue)})&&(l=this._replace([])),l}},{key:"_replace",value:function(t){var n="",r=Object(B.a)(this._children),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;if(c instanceof Ri){var h=t[c.index]||"";h=c.resolve(h),n+=h}else n+=c.toString()}}catch(f){r.e(f)}finally{r.f()}return n}},{key:"toString",value:function(){return""}},{key:"clone",value:function(){var t=new e;return t.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),t._children=this.children.map(function(n){return n.clone()}),t}}]),e}(Rn),Ri=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;return Object(k.a)(this,e),l=o.call(this),l.index=i,l.shorthandName=t,l.ifValue=n,l.elseValue=r,l}return Object(w.a)(e,[{key:"resolve",value:function(t){return this.shorthandName==="upcase"?t?t.toLocaleUpperCase():"":this.shorthandName==="downcase"?t?t.toLocaleLowerCase():"":this.shorthandName==="capitalize"?t?t[0].toLocaleUpperCase()+t.substr(1):"":this.shorthandName==="pascalcase"?t?this._toPascalCase(t):"":this.shorthandName==="camelcase"?t?this._toCamelCase(t):"":Boolean(t)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(t)&&typeof this.elseValue=="string"?this.elseValue:t||""}},{key:"_toPascalCase",value:function(t){var n=t.match(/[a-z0-9]+/gi);return n?n.map(function(r){return r.charAt(0).toUpperCase()+r.substr(1)}).join(""):t}},{key:"_toCamelCase",value:function(t){var n=t.match(/[a-z0-9]+/gi);return n?n.map(function(r,l){return l===0?r.charAt(0).toLowerCase()+r.substr(1):r.charAt(0).toUpperCase()+r.substr(1)}).join(""):t}},{key:"clone",value:function(){var t=new e(this.index,this.shorthandName,this.ifValue,this.elseValue);return t}}]),e}(Rn),Ti=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t.name=i,t}return Object(w.a)(e,[{key:"resolve",value:function(t){var n=t.resolve(this);return this.transform&&(n=this.transform.resolve(n||"")),n!==void 0?(this._children=[new ei(n)],!0):!1}},{key:"clone",value:function(){var t=new e(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(function(n){return n.clone()}),t}}]),e}($n);function Xi(s,o){for(var e=Object(Ai.a)(s);e.length>0;){var i=e.shift(),t=o(i);if(!t)break;e.unshift.apply(e,Object(Ai.a)(i.children))}}var Ji=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"placeholderInfo",get:function(){if(!this._placeholders){var t=[],n;this.walk(function(r){return r instanceof Kn&&(t.push(r),n=!n||n.index<r.index?r:n),!0}),this._placeholders={all:t,last:n}}return this._placeholders}},{key:"placeholders",get:function(){var t=this.placeholderInfo.all;return t}},{key:"offset",value:function(t){var n=0,r=!1;return this.walk(function(l){return l===t?(r=!0,!1):(n+=l.len(),!0)}),r?n:-1}},{key:"fullLen",value:function(t){var n=0;return Xi([t],function(r){return n+=r.len(),!0}),n}},{key:"enclosingPlaceholders",value:function(t){for(var n=[],r=t.parent;r;)r instanceof Kn&&n.push(r),r=r.parent;return n}},{key:"resolveVariables",value:function(t){var n=this;return this.walk(function(r){return r instanceof Ti&&r.resolve(t)&&(n._placeholders=void 0),!0}),this}},{key:"appendChild",value:function(t){return this._placeholders=void 0,Object(yi.a)(Object(vi.a)(e.prototype),"appendChild",this).call(this,t)}},{key:"replace",value:function(t,n){return this._placeholders=void 0,Object(yi.a)(Object(vi.a)(e.prototype),"replace",this).call(this,t,n)}},{key:"clone",value:function(){var t=new e;return this._children=this.children.map(function(n){return n.clone()}),t}},{key:"walk",value:function(t){Xi(this.children,t)}}]),e}(Rn),Or=function(){function s(){Object(k.a)(this,s),this._scanner=new yn,this._token={type:14,pos:0,len:0}}return Object(w.a)(s,[{key:"parse",value:function(e,i,t){var n=new Ji;return this.parseFragment(e,n),this.ensureFinalTabstop(n,t!=null?t:!1,i!=null?i:!1),n}},{key:"parseFragment",value:function(e,i){var t=i.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(i););var n=new Map,r=[];i.walk(function(Z){return Z instanceof Kn&&(Z.isFinalTabstop?n.set(0,void 0):!n.has(Z.index)&&Z.children.length>0?n.set(Z.index,Z.children):r.push(Z)),!0});for(var l=function Z(ie,je){var Ie=n.get(ie.index);if(!!Ie){var st=new Kn(ie.index);st.transform=ie.transform;var ft=Object(B.a)(Ie),kt;try{for(ft.s();!(kt=ft.n()).done;){var $t=kt.value,un=$t.clone();st.appendChild(un),un instanceof Kn&&n.has(un.index)&&!je.has(un.index)&&(je.add(un.index),Z(un,je),je.delete(un.index))}}catch(Yn){ft.e(Yn)}finally{ft.f()}i.replace(ie,[st])}},c=new Set,h=0,f=r;h<f.length;h++){var R=f[h];l(R,c)}return i.children.slice(t)}},{key:"ensureFinalTabstop",value:function(e,i,t){if(i||t&&e.placeholders.length>0){var n=e.placeholders.find(function(r){return r.index===0});n||e.appendChild(new Kn(0))}}},{key:"_accept",value:function(e,i){if(e===void 0||this._token.type===e){var t=i?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),t}return!1}},{key:"_backTo",value:function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}},{key:"_until",value:function(e){for(var i=this._token;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){var t=this._scanner.next();if(t.type!==0&&t.type!==4&&t.type!==5)return!1}this._token=this._scanner.next()}var n=this._scanner.value.substring(i.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}},{key:"_parse",value:function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}},{key:"_parseEscaped",value:function(e){var i;return(i=this._accept(5,!0))?(i=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||i,e.appendChild(new ei(i)),!0):!1}},{key:"_parseTabstopOrVariableName",value:function(e){var i,t=this._token,n=this._accept(0)&&(i=this._accept(9,!0)||this._accept(8,!0));return n?(e.appendChild(/^\d+$/.test(i)?new Kn(Number(i)):new Ti(i)),!0):this._backTo(t)}},{key:"_parseComplexPlaceholder",value:function(e){var i,t=this._token,n=this._accept(0)&&this._accept(3)&&(i=this._accept(8,!0));if(!n)return this._backTo(t);var r=new Kn(Number(i));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new ei("${"+i+":")),r.children.forEach(e.appendChild,e),!0}else if(r.index>0&&this._accept(7))for(var l=new ui;;){if(this._parseChoiceElement(l)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(l),this._accept(4)))return e.appendChild(r),!0}return this._backTo(t),!1}else return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(t),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(t)}},{key:"_parseChoiceElement",value:function(e){for(var i=this._token,t=[];!(this._token.type===2||this._token.type===7);){var n=void 0;if((n=this._accept(5,!0))?n=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:n=this._accept(void 0,!0),!n)return this._backTo(i),!1;t.push(n)}return t.length===0?(this._backTo(i),!1):(e.appendChild(new ei(t.join(""))),!0)}},{key:"_parseComplexVariable",value:function(e){var i,t=this._token,n=this._accept(0)&&this._accept(3)&&(i=this._accept(9,!0));if(!n)return this._backTo(t);var r=new Ti(i);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new ei("${"+i+":")),r.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(t),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(t)}},{key:"_parseTransform",value:function(e){for(var i=new Mi,t="",n="";!this._accept(6);){var r=void 0;if(r=this._accept(5,!0)){r=this._accept(6,!0)||r,t+=r;continue}if(this._token.type!==14){t+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){var l=void 0;if(l=this._accept(5,!0)){l=this._accept(5,!0)||this._accept(6,!0)||l,i.appendChild(new ei(l));continue}if(!(this._parseFormatString(i)||this._parseAnything(i)))return!1}for(;!this._accept(4);){if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}try{i.regexp=new RegExp(t,n)}catch(c){return!1}return e.transform=i,!0}},{key:"_parseFormatString",value:function(e){var i=this._token;if(!this._accept(0))return!1;var t=!1;this._accept(3)&&(t=!0);var n=this._accept(8,!0);if(n)if(t){if(this._accept(4))return e.appendChild(new Ri(Number(n))),!0;if(!this._accept(1))return this._backTo(i),!1}else return e.appendChild(new Ri(Number(n))),!0;else return this._backTo(i),!1;if(this._accept(6)){var r=this._accept(9,!0);return!r||!this._accept(4)?(this._backTo(i),!1):(e.appendChild(new Ri(Number(n),r)),!0)}else if(this._accept(11)){var l=this._until(4);if(l)return e.appendChild(new Ri(Number(n),void 0,l,void 0)),!0}else if(this._accept(12)){var c=this._until(4);if(c)return e.appendChild(new Ri(Number(n),void 0,void 0,c)),!0}else if(this._accept(13)){var h=this._until(1);if(h){var f=this._until(4);if(f)return e.appendChild(new Ri(Number(n),void 0,h,f)),!0}}else{var R=this._until(4);if(R)return e.appendChild(new Ri(Number(n),void 0,void 0,R)),!0}return this._backTo(i),!1}},{key:"_parseAnything",value:function(e){return this._token.type!==14?(e.appendChild(new ei(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}],[{key:"escape",value:function(e){return e.replace(/\$|}|\\/g,"\\$&")}},{key:"guessNeedsClipboard",value:function(e){return/\${?CLIPBOARD/.test(e)}}]),s}(),kr=a("6BjD"),Pr=a("kXS7"),vr=a("0+8E"),Ir=a("yqFB"),tr=Qe.b("defaultLabel","input"),Ui=Qe.b("label.preserveCaseToggle","Preserve Case"),$i=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){return Object(k.a)(this,e),o.call(this,{icon:ta.a.preserveCase,title:Ui+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}return Object(w.a)(e)}(Pr.a),sr=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;Object(k.a)(this,e),l=o.call(this),l._showOptionButtons=n,l.fixFocusOnOptionClickEnabled=!0,l.cachedOptionsWidth=0,l._onDidOptionChange=l._register(new rr.b),l.onDidOptionChange=l._onDidOptionChange.event,l._onKeyDown=l._register(new rr.b),l.onKeyDown=l._onKeyDown.event,l._onMouseDown=l._register(new rr.b),l._onInput=l._register(new rr.b),l._onKeyUp=l._register(new rr.b),l._onPreserveCaseKeyDown=l._register(new rr.b),l.onPreserveCaseKeyDown=l._onPreserveCaseKeyDown.event,l.contextViewProvider=t,l.placeholder=r.placeholder||"",l.validation=r.validation,l.label=r.label||tr;var c=r.appendPreserveCaseLabel||"",h=r.history||[],f=!!r.flexibleHeight,R=!!r.flexibleWidth,Z=r.flexibleMaxHeight;l.domNode=document.createElement("div"),l.domNode.classList.add("monaco-findInput"),l.inputBox=l._register(new vr.a(l.domNode,l.contextViewProvider,{ariaLabel:l.label||"",placeholder:l.placeholder||"",validationOptions:{validation:l.validation},history:h,showHistoryHint:r.showHistoryHint,flexibleHeight:f,flexibleWidth:R,flexibleMaxHeight:Z,inputBoxStyles:r.inputBoxStyles})),l.preserveCase=l._register(new $i(Object.assign({appendTitle:c,isChecked:!1},r.toggleStyles))),l._register(l.preserveCase.onChange(function(Ie){l._onDidOptionChange.fire(Ie),!Ie&&l.fixFocusOnOptionClickEnabled&&l.inputBox.focus(),l.validate()})),l._register(l.preserveCase.onKeyDown(function(Ie){l._onPreserveCaseKeyDown.fire(Ie)})),l._showOptionButtons?l.cachedOptionsWidth=l.preserveCase.width():l.cachedOptionsWidth=0;var ie=[l.preserveCase.domNode];l.onkeydown(l.domNode,function(Ie){if(Ie.equals(15)||Ie.equals(17)||Ie.equals(9)){var st=ie.indexOf(document.activeElement);if(st>=0){var ft=-1;Ie.equals(17)?ft=(st+1)%ie.length:Ie.equals(15)&&(st===0?ft=ie.length-1:ft=st-1),Ie.equals(9)?(ie[st].blur(),l.inputBox.focus()):ft>=0&&ie[ft].focus(),Bt.EventHelper.stop(Ie,!0)}}});var je=document.createElement("div");return je.className="controls",je.style.display=l._showOptionButtons?"block":"none",je.appendChild(l.preserveCase.domNode),l.domNode.appendChild(je),i==null||i.appendChild(l.domNode),l.onkeydown(l.inputBox.inputElement,function(Ie){return l._onKeyDown.fire(Ie)}),l.onkeyup(l.inputBox.inputElement,function(Ie){return l._onKeyUp.fire(Ie)}),l.oninput(l.inputBox.inputElement,function(Ie){return l._onInput.fire()}),l.onmousedown(l.inputBox.inputElement,function(Ie){return l._onMouseDown.fire(Ie)}),l}return Object(w.a)(e,[{key:"enable",value:function(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}},{key:"disable",value:function(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}},{key:"setEnabled",value:function(t){t?this.enable():this.disable()}},{key:"select",value:function(){this.inputBox.select()}},{key:"focus",value:function(){this.inputBox.focus()}},{key:"getPreserveCase",value:function(){return this.preserveCase.checked}},{key:"setPreserveCase",value:function(t){this.preserveCase.checked=t}},{key:"focusOnPreserve",value:function(){this.preserveCase.focus()}},{key:"validate",value:function(){var t;(t=this.inputBox)===null||t===void 0||t.validate()}},{key:"width",set:function(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=t+"px"}},{key:"dispose",value:function(){Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}}]),e}(v.a),Dr=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},wr=function(s,o){return function(e,i){o(e,i,s)}},lr=new Jn.c("suggestWidgetVisible",!1,Object(Qe.b)("suggestWidgetVisible","Whether suggestion are visible")),ar="historyNavigationWidgetFocus",Rr="historyNavigationForwardsEnabled",zr="historyNavigationBackwardsEnabled",Vr=void 0,la=[];function Ta(s,o){if(la.includes(o))throw new Error("Cannot register the same widget multiple times");la.push(o);var e=new Ze.c,i=new Jn.c(ar,!1).bindTo(s),t=new Jn.c(Rr,!0).bindTo(s),n=new Jn.c(zr,!0).bindTo(s),r=function(){i.set(!0),Vr=o},l=function(){i.set(!1),Vr===o&&(Vr=void 0)};return o.element===document.activeElement&&r(),e.add(o.onDidFocus(function(){return r()})),e.add(o.onDidBlur(function(){return l()})),e.add(Object(Ze.l)(function(){la.splice(la.indexOf(o),1),l()})),{historyNavigationForwardsEnablement:t,historyNavigationBackwardsEnablement:n,dispose:function(){e.dispose()}}}var ga=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;Object(k.a)(this,e),l=o.call(this,i,t,n);var c=l._register(r.createScoped(l.inputBox.element));return l._register(Ta(c,l.inputBox)),l}return Object(w.a)(e)}(kr.a);ga=Dr([wr(3,Jn.b)],ga);var ma=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;Object(k.a)(this,e),l=o.call(this,i,t,c,n);var h=l._register(r.createScoped(l.inputBox.element));return l._register(Ta(h,l.inputBox)),l}return Object(w.a)(e)}(sr);ma=Dr([wr(3,Jn.b)],ma),Nl.a.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Jn.a.and(Jn.a.has(ar),Jn.a.equals(zr,!0),lr.isEqualTo(!1)),primary:16,secondary:[512|16],handler:function(o){Vr==null||Vr.showPreviousValue()}}),Nl.a.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Jn.a.and(Jn.a.has(ar),Jn.a.equals(Rr,!0),lr.isEqualTo(!1)),primary:18,secondary:[512|18],handler:function(o){Vr==null||Vr.showNextValue()}});var Sa=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},se={Visible:lr,HasFocusedSuggestion:new Jn.c("suggestWidgetHasFocusedSuggestion",!1,Object(Qe.b)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new Jn.c("suggestWidgetDetailsVisible",!1,Object(Qe.b)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new Jn.c("suggestWidgetMultipleSuggestions",!1,Object(Qe.b)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new Jn.c("suggestionMakesTextEdit",!0,Object(Qe.b)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new Jn.c("acceptSuggestionOnEnter",!0,Object(Qe.b)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new Jn.c("suggestionHasInsertAndReplaceRange",!1,Object(Qe.b)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new Jn.c("suggestionInsertMode",void 0,{type:"string",description:Object(Qe.b)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new Jn.c("suggestionCanResolve",!1,Object(Qe.b)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},ae=new kn.c("suggestWidgetStatusBar"),b=function(){function s(o,e,i,t){Object(k.a)(this,s);var n;this.position=o,this.completion=e,this.container=i,this.provider=t,this.isInvalid=!1,this.score=_s.a.Default,this.distance=0,this.textLabel=typeof e.label=="string"?e.label:(n=e.label)===null||n===void 0?void 0:n.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=e.sortText&&e.sortText.toLowerCase(),this.filterTextLow=e.filterText&&e.filterText.toLowerCase(),this.extensionId=e.extensionId,Dt.a.isIRange(e.range)?(this.editStart=new tn.a(e.range.startLineNumber,e.range.startColumn),this.editInsertEnd=new tn.a(e.range.endLineNumber,e.range.endColumn),this.editReplaceEnd=new tn.a(e.range.endLineNumber,e.range.endColumn),this.isInvalid=this.isInvalid||Dt.a.spansMultipleLines(e.range)||e.range.startLineNumber!==o.lineNumber):(this.editStart=new tn.a(e.range.insert.startLineNumber,e.range.insert.startColumn),this.editInsertEnd=new tn.a(e.range.insert.endLineNumber,e.range.insert.endColumn),this.editReplaceEnd=new tn.a(e.range.replace.endLineNumber,e.range.replace.endColumn),this.isInvalid=this.isInvalid||Dt.a.spansMultipleLines(e.range.insert)||Dt.a.spansMultipleLines(e.range.replace)||e.range.insert.startLineNumber!==o.lineNumber||e.range.replace.startLineNumber!==o.lineNumber||e.range.insert.startColumn!==e.range.replace.startColumn),typeof t.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}return Object(w.a)(s,[{key:"isResolved",get:function(){return!!this._isResolved}},{key:"resolve",value:function(e){return Sa(this,void 0,void 0,Object(d.a)().mark(function i(){var t=this,n;return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this._resolveCache||(n=e.onCancellationRequested(function(){t._resolveCache=void 0,t._isResolved=!1}),this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(function(c){Object.assign(t.completion,c),t._isResolved=!0,n.dispose()},function(c){Object(zi.g)(c)&&(t._resolveCache=void 0,t._isResolved=!1)})),l.abrupt("return",this._resolveCache);case 2:case"end":return l.stop()}},i,this)}))}}]),s}(),_=Object(w.a)(function s(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new Map,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;Object(k.a)(this,s),this.snippetSortOrder=o,this.kindFilter=e,this.providerFilter=i,this.providerItemsToReuse=t,this.showDeprecated=n});_.default=new _;var p;function P(){return p}var X=Object(w.a)(function s(o,e,i,t){Object(k.a)(this,s),this.items=o,this.needsClipboard=e,this.durations=i,this.disposable=t});function Se(s,o,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.default,t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{triggerKind:0},n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Zi.a.None;return Sa(this,void 0,void 0,Object(d.a)().mark(function r(){var l=this,c,h,f,R,Z,ie,je,Ie,st,ft,kt,$t,un,Yn;return Object(d.a)().wrap(function(fi){for(;;)switch(fi.prev=fi.next){case 0:c=new Ds.a(!0),e=e.clone(),h=o.getWordAtPosition(e),f=h?new Dt.a(e.lineNumber,h.startColumn,e.lineNumber,h.endColumn):Dt.a.fromPositions(e),R={replace:f,insert:f.setEndPosition(e.lineNumber,e.column)},Z=[],ie=new Ze.c,je=[],Ie=!1,st=function(ji,Bi,Lr){var gr,jr,$r,fa=!1;if(!Bi)return fa;var Fr=Object(B.a)(Bi.suggestions),Aa;try{for(Fr.s();!(Aa=Fr.n()).done;){var Oa=Aa.value;if(!i.kindFilter.has(Oa.kind)){if(!i.showDeprecated&&((gr=Oa==null?void 0:Oa.tags)===null||gr===void 0?void 0:gr.includes(1)))continue;Oa.range||(Oa.range=R),Oa.sortText||(Oa.sortText=typeof Oa.label=="string"?Oa.label:Oa.label.label),!Ie&&Oa.insertTextRules&&Oa.insertTextRules&4&&(Ie=Or.guessNeedsClipboard(Oa.insertText)),Z.push(new b(e,Oa,Bi,ji)),fa=!0}}}catch(da){Fr.e(da)}finally{Fr.f()}return Object(Ze.j)(Bi)&&ie.add(Bi),je.push({providerName:(jr=ji._debugDisplayName)!==null&&jr!==void 0?jr:"unknown_provider",elapsedProvider:($r=Bi.duration)!==null&&$r!==void 0?$r:-1,elapsedOverall:Lr.elapsed()}),fa},ft=function(){return Sa(l,void 0,void 0,Object(d.a)().mark(function Si(){var ji,Bi,Lr;return Object(d.a)().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:if(!(!p||i.kindFilter.has(27))){jr.next=2;break}return jr.abrupt("return");case 2:if(ji=i.providerItemsToReuse.get(p),!ji){jr.next=6;break}return ji.forEach(function($r){return Z.push($r)}),jr.abrupt("return");case 6:if(!(i.providerFilter.size>0&&!i.providerFilter.has(p))){jr.next=8;break}return jr.abrupt("return");case 8:return Bi=new Ds.a(!0),jr.next=11,p.provideCompletionItems(o,e,t,n);case 11:Lr=jr.sent,st(p,Lr,Bi);case 13:case"end":return jr.stop()}},Si)}))}(),kt=Object(B.a)(s.orderedGroups(o)),fi.prev=12,un=Object(d.a)().mark(function Si(){var ji,Bi;return Object(d.a)().wrap(function(gr){for(;;)switch(gr.prev=gr.next){case 0:return ji=$t.value,Bi=!1,gr.next=4,Promise.all(ji.map(function(jr){return Sa(l,void 0,void 0,Object(d.a)().mark(function $r(){var fa,Fr,Aa;return Object(d.a)().wrap(function(da){for(;;)switch(da.prev=da.next){case 0:if(!i.providerItemsToReuse.has(jr)){da.next=5;break}return fa=i.providerItemsToReuse.get(jr),fa.forEach(function(lo){return Z.push(lo)}),Bi=Bi||fa.length>0,da.abrupt("return");case 5:if(!(i.providerFilter.size>0&&!i.providerFilter.has(jr))){da.next=7;break}return da.abrupt("return");case 7:return da.prev=7,Fr=new Ds.a(!0),da.next=11,jr.provideCompletionItems(o,e,t,n);case 11:Aa=da.sent,Bi=st(jr,Aa,Fr)||Bi,da.next=18;break;case 15:da.prev=15,da.t0=da.catch(7),Object(zi.i)(da.t0);case 18:case"end":return da.stop()}},$r,null,[[7,15]])}))}));case 4:if(!(Bi||n.isCancellationRequested)){gr.next=6;break}return gr.abrupt("return","break");case 6:case"end":return gr.stop()}},Si)}),kt.s();case 15:if(($t=kt.n()).done){fi.next=22;break}return fi.delegateYield(un(),"t0",17);case 17:if(Yn=fi.t0,Yn!=="break"){fi.next=20;break}return fi.abrupt("break",22);case 20:fi.next=15;break;case 22:fi.next=27;break;case 24:fi.prev=24,fi.t1=fi.catch(12),kt.e(fi.t1);case 27:return fi.prev=27,kt.f(),fi.finish(27);case 30:return fi.next=32,ft;case 32:if(!n.isCancellationRequested){fi.next=35;break}return ie.dispose(),fi.abrupt("return",Promise.reject(new zi.b));case 35:return fi.abrupt("return",new X(Z.sort(Xt(i.snippetSortOrder)),Ie,{entries:je,elapsed:c.elapsed()},ie));case 36:case"end":return fi.stop()}},r,null,[[12,24,27,30]])}))}function Ae(s,o){if(s.sortTextLow&&o.sortTextLow){if(s.sortTextLow<o.sortTextLow)return-1;if(s.sortTextLow>o.sortTextLow)return 1}return s.textLabel<o.textLabel?-1:s.textLabel>o.textLabel?1:s.completion.kind-o.completion.kind}function qe(s,o){if(s.completion.kind!==o.completion.kind){if(s.completion.kind===27)return-1;if(o.completion.kind===27)return 1}return Ae(s,o)}function rt(s,o){if(s.completion.kind!==o.completion.kind){if(s.completion.kind===27)return 1;if(o.completion.kind===27)return-1}return Ae(s,o)}var ct=new Map;ct.set(0,qe),ct.set(2,rt),ct.set(1,Ae);function Xt(s){return ct.get(s)}ia.a.registerCommand("_executeCompletionItemProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return Sa(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R,Z,ie,je,Ie,st,ft,kt;return Object(d.a)().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:return n=e[0],r=e[1],l=e[2],c=e[3],Object(Yr.b)(Wr.a.isUri(n)),Object(Yr.b)(tn.a.isIPosition(r)),Object(Yr.b)(typeof l=="string"||!l),Object(Yr.b)(typeof c=="number"||!c),h=s.get(Nr.a),f=h.completionProvider,un.next=8,s.get(Ur.a).createModelReference(n);case 8:return R=un.sent,un.prev=9,Z={incomplete:!1,suggestions:[]},ie=[],je=R.object.textEditorModel.validatePosition(r),un.next=15,Se(f,R.object.textEditorModel,je,void 0,{triggerCharacter:l!=null?l:void 0,triggerKind:l?1:0});case 15:Ie=un.sent,st=Object(B.a)(Ie.items);try{for(st.s();!(ft=st.n()).done;)kt=ft.value,ie.length<(c!=null?c:0)&&ie.push(kt.resolve(Zi.a.None)),Z.incomplete=Z.incomplete||kt.container.incomplete,Z.suggestions.push(kt.completion)}catch(Yn){st.e(Yn)}finally{st.f()}return un.prev=18,un.next=21,Promise.all(ie);case 21:return un.abrupt("return",Z);case 22:return un.prev=22,setTimeout(function(){return Ie.disposable.dispose()},100),un.finish(22);case 25:return un.prev=25,R.dispose(),un.finish(25);case 28:case"end":return un.stop()}},t,null,[[9,,25,28],[18,,22,25]])}))});function cn(s,o){var e;(e=s.getContribution("editor.contrib.suggestController"))===null||e===void 0||e.triggerSuggest(new Set().add(o),void 0,!0)}var Mn=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,null,[{key:"isAllOff",value:function(e){return e.other==="off"&&e.comments==="off"&&e.strings==="off"}},{key:"isAllOn",value:function(e){return e.other==="on"&&e.comments==="on"&&e.strings==="on"}},{key:"valueFor",value:function(e,i){switch(i){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}]),s}(),gi=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Zn=function(s,o){return function(e,i){o(e,i,s)}},di=Bt.$,Un=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;Object(k.a)(this,e),r=o.call(this),r._editor=i,r._instantiationService=t,r._keybindingService=n,r._widget=r._register(r._instantiationService.createInstance(cr,r._editor)),r._currentResult=null,r._participants=[];var l=Object(B.a)(zt.getAll()),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;r._participants.push(r._instantiationService.createInstance(h,r._editor))}}catch(f){l.e(f)}finally{l.f()}return r._participants.sort(function(f,R){return f.hoverOrdinal-R.hoverOrdinal}),r._computer=new Kr(r._editor,r._participants),r._hoverOperation=r._register(new _t(r._editor,r._computer)),r._register(r._hoverOperation.onResult(function(f){if(!!r._computer.anchor){var R=f.hasLoadingMessage?r._addLoadingMessage(f.value):f.value;r._withResult(new qn(r._computer.anchor,R,f.isComplete))}})),r._register(Bt.addStandardDisposableListener(r._widget.getDomNode(),"keydown",function(f){f.equals(9)&&r.hide()})),r._register(oo.m.onDidChange(function(){r._widget.position&&r._currentResult&&(r._widget.clear(),r._setCurrentResult(r._currentResult))})),r}return Object(w.a)(e,[{key:"maybeShowAt",value:function(t){var n=[],r=Object(B.a)(this._participants),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;if(c.suggestHoverAnchor){var h=c.suggestHoverAnchor(t);h&&n.push(h)}}}catch(Z){r.e(Z)}finally{r.f()}var f=t.target;if(f.type===6&&n.push(new vt(0,f.range,t.event.posx,t.event.posy)),f.type===7){var R=this._editor.getOption(48).typicalHalfwidthCharacterWidth/2;!f.detail.isAfterLines&&typeof f.detail.horizontalDistanceToText=="number"&&f.detail.horizontalDistanceToText<R&&n.push(new vt(0,f.range,t.event.posx,t.event.posy))}return n.length===0?this._startShowingOrUpdateHover(null,0,0,!1,t):(n.sort(function(Z,ie){return ie.priority-Z.priority}),this._startShowingOrUpdateHover(n[0],0,0,!1,t))}},{key:"startShowingAtRange",value:function(t,n,r,l){this._startShowingOrUpdateHover(new vt(0,t,void 0,void 0),n,r,l,null)}},{key:"_startShowingOrUpdateHover",value:function(t,n,r,l,c){if(!this._widget.position||!this._currentResult)return t?(this._startHoverOperationIfNecessary(t,n,r,l,!1),!0):!1;var h=this._editor.getOption(58).sticky,f=h&&c&&this._widget.isMouseGettingCloser(c.event.posx,c.event.posy);return f?(t&&this._startHoverOperationIfNecessary(t,n,r,l,!0),!0):t?t&&this._currentResult.anchor.equals(t)?!0:t.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(t)),this._startHoverOperationIfNecessary(t,n,r,l,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(t,n,r,l,!1),!0):(this._setCurrentResult(null),!1)}},{key:"_startHoverOperationIfNecessary",value:function(t,n,r,l,c){this._computer.anchor&&this._computer.anchor.equals(t)||(this._hoverOperation.cancel(),this._computer.anchor=t,this._computer.shouldFocus=l,this._computer.source=r,this._computer.insistOnKeepingHoverVisible=c,this._hoverOperation.start(n))}},{key:"_setCurrentResult",value:function(t){this._currentResult!==t&&(t&&t.messages.length===0&&(t=null),this._currentResult=t,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}},{key:"hide",value:function(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}},{key:"isColorPickerVisible",value:function(){return this._widget.isColorPickerVisible}},{key:"isVisibleFromKeyboard",value:function(){return this._widget.isVisibleFromKeyboard}},{key:"isVisible",value:function(){return this._widget.isVisible}},{key:"containsNode",value:function(t){return t?this._widget.getDomNode().contains(t):!1}},{key:"_addLoadingMessage",value:function(t){if(this._computer.anchor){var n=Object(B.a)(this._participants),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;if(l.createLoadingMessage){var c=l.createLoadingMessage(this._computer.anchor);if(c)return t.slice(0).concat([c])}}}catch(h){n.e(h)}finally{n.f()}}return t}},{key:"_withResult",value:function(t){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!t.isComplete||this._computer.insistOnKeepingHoverVisible&&t.messages.length===0)||this._setCurrentResult(t)}},{key:"_renderMessages",value:function(t,n){var r=this,l=e.computeHoverRanges(this._editor,t.range,n),c=l.showAtPosition,h=l.showAtSecondaryPosition,f=l.highlightRange,R=new Ze.c,Z=R.add(new Zr(this._keybindingService)),ie=document.createDocumentFragment(),je=null,Ie={fragment:ie,statusBar:Z,setColorPicker:function(xn){return je=xn},onContentsChanged:function(){return r._widget.onContentsChanged()},hide:function(){return r.hide()}},st=Object(B.a)(this._participants),ft;try{var kt=function(){var xn=ft.value,fi=n.filter(function(Si){return Si.owner===xn});fi.length>0&&R.add(xn.renderHoverParts(Ie,fi))};for(st.s();!(ft=st.n()).done;)kt()}catch(Yn){st.e(Yn)}finally{st.f()}var $t=n.some(function(Yn){return Yn.isBeforeContent});if(Z.hasContent&&ie.appendChild(Z.hoverElement),ie.hasChildNodes()){if(f){var un=this._editor.createDecorationsCollection();un.set([{range:f,options:e._DECORATION_OPTIONS}]),R.add(Object(Ze.l)(function(){un.clear()}))}this._widget.showAt(ie,new _r(je,c,h,this._editor.getOption(58).above,this._computer.shouldFocus,this._computer.source,$t,t.initialMousePosX,t.initialMousePosY,R))}else R.dispose()}},{key:"focus",value:function(){this._widget.focus()}},{key:"scrollUp",value:function(){this._widget.scrollUp()}},{key:"scrollDown",value:function(){this._widget.scrollDown()}},{key:"scrollLeft",value:function(){this._widget.scrollLeft()}},{key:"scrollRight",value:function(){this._widget.scrollRight()}},{key:"pageUp",value:function(){this._widget.pageUp()}},{key:"pageDown",value:function(){this._widget.pageDown()}},{key:"goToTop",value:function(){this._widget.goToTop()}},{key:"goToBottom",value:function(){this._widget.goToBottom()}},{key:"escape",value:function(){this._widget.escape()}}],[{key:"computeHoverRanges",value:function(t,n,r){var l=1;if(t.hasModel()){var c=t._getViewModel(),h=c.coordinatesConverter,f=h.convertModelRangeToViewRange(n),R=new tn.a(f.startLineNumber,c.getLineMinColumn(f.startLineNumber));l=h.convertViewPositionToModelPosition(R).column}var Z=n.startLineNumber,ie=n.startColumn,je=r[0].range,Ie=null,st=Object(B.a)(r),ft;try{for(st.s();!(ft=st.n()).done;){var kt=ft.value;je=Dt.a.plusRange(je,kt.range),kt.range.startLineNumber===Z&&kt.range.endLineNumber===Z&&(ie=Math.max(Math.min(ie,kt.range.startColumn),l)),kt.forceShowAtRange&&(Ie=kt.range)}}catch($t){st.e($t)}finally{st.f()}return{showAtPosition:Ie?Ie.getStartPosition():new tn.a(Z,n.startColumn),showAtSecondaryPosition:Ie?Ie.getStartPosition():new tn.a(Z,ie),highlightRange:je}}}]),e}(Ze.a);Un._DECORATION_OPTIONS=ti.b.register({description:"content-hover-highlight",className:"hoverHighlight"}),Un=gi([Zn(1,Ia.a),Zn(2,Ii.a)],Un);var qn=function(){function s(o,e,i){Object(k.a)(this,s),this.anchor=o,this.messages=e,this.isComplete=i}return Object(w.a)(s,[{key:"filter",value:function(e){var i=this.messages.filter(function(t){return t.isValidForHoverAnchor(e)});return i.length===this.messages.length?this:new ur(this,this.anchor,i,this.isComplete)}}]),s}(),ur=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;return Object(k.a)(this,e),l=o.call(this,t,n,r),l.original=i,l}return Object(w.a)(e,[{key:"filter",value:function(t){return this.original.filter(t)}}]),e}(qn),_r=Object(w.a)(function s(o,e,i,t,n,r,l,c,h,f){Object(k.a)(this,s),this.colorPicker=o,this.showAtPosition=e,this.showAtSecondaryPosition=i,this.preferAbove=t,this.stoleFocus=n,this.source=r,this.isBeforeContent=l,this.initialMousePosX=c,this.initialMousePosY=h,this.disposables=f,this.closestMouseDistance=void 0}),cr=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n._editor=i,n._contextKeyService=t,n.allowEditorOverflow=!0,n._hoverVisibleKey=an.a.hoverVisible.bindTo(n._contextKeyService),n._hoverFocusedKey=an.a.hoverFocused.bindTo(n._contextKeyService),n._hover=n._register(new wh),n._focusTracker=n._register(Bt.trackFocus(n.getDomNode())),n._horizontalScrollingBy=30,n._visibleData=null,n._register(n._editor.onDidLayoutChange(function(){return n._layout()})),n._register(n._editor.onDidChangeConfiguration(function(r){r.hasChanged(48)&&n._updateFont()})),n._setVisibleData(null),n._layout(),n._editor.addContentWidget(Object(pi.a)(n)),n._register(n._focusTracker.onDidFocus(function(){n._hoverFocusedKey.set(!0)})),n._register(n._focusTracker.onDidBlur(function(){n._hoverFocusedKey.set(!1)})),n}return Object(w.a)(e,[{key:"position",get:function(){var t,n;return(n=(t=this._visibleData)===null||t===void 0?void 0:t.showAtPosition)!==null&&n!==void 0?n:null}},{key:"isColorPickerVisible",get:function(){var t;return Boolean((t=this._visibleData)===null||t===void 0?void 0:t.colorPicker)}},{key:"isVisibleFromKeyboard",get:function(){var t;return((t=this._visibleData)===null||t===void 0?void 0:t.source)===1}},{key:"isVisible",get:function(){var t;return(t=this._hoverVisibleKey.get())!==null&&t!==void 0?t:!1}},{key:"dispose",value:function(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){if(!this._visibleData)return null;var t=this._visibleData.preferAbove;!t&&this._contextKeyService.getContextKeyValue(se.Visible.key)&&(t=!0);var n=this._visibleData.isBeforeContent?3:void 0;return{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,preference:t?[1,2]:[2,1],positionAffinity:n}}},{key:"isMouseGettingCloser",value:function(t,n){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX=="undefined"||typeof this._visibleData.initialMousePosY=="undefined")return this._visibleData.initialMousePosX=t,this._visibleData.initialMousePosY=n,!1;var r=Bt.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance=="undefined"&&(this._visibleData.closestMouseDistance=Jr(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,r.left,r.top,r.width,r.height));var l=Jr(t,n,r.left,r.top,r.width,r.height);return l>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,l),!0)}},{key:"_setVisibleData",value:function(t){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=t,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}},{key:"_layout",value:function(){var t=Math.max(this._editor.getLayoutInfo().height/4,250),n=this._editor.getOption(48),r=n.fontSize,l=n.lineHeight;this._hover.contentsDomNode.style.fontSize="".concat(r,"px"),this._hover.contentsDomNode.style.lineHeight="".concat(l/r),this._hover.contentsDomNode.style.maxHeight="".concat(t,"px"),this._hover.contentsDomNode.style.maxWidth="".concat(Math.max(this._editor.getLayoutInfo().width*.66,500),"px")}},{key:"_updateFont",value:function(){var t=this,n=Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code"));n.forEach(function(r){return t._editor.applyFontInfo(r)})}},{key:"showAt",value:function(t,n){var r;this._setVisibleData(n),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),n.stoleFocus&&this._hover.containerDomNode.focus(),(r=n.colorPicker)===null||r===void 0||r.layout()}},{key:"hide",value:function(){if(this._visibleData){var t=this._visibleData.stoleFocus;this._setVisibleData(null),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),t&&this._editor.focus()}}},{key:"onContentsChanged",value:function(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();var t=this._hover.scrollbar.getScrollDimensions(),n=t.scrollWidth>t.width;if(n){var r="".concat(this._hover.scrollbar.options.horizontalScrollbarSize,"px");this._hover.contentsDomNode.style.paddingBottom!==r&&(this._hover.contentsDomNode.style.paddingBottom=r,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}},{key:"clear",value:function(){this._hover.contentsDomNode.textContent=""}},{key:"focus",value:function(){this._hover.containerDomNode.focus()}},{key:"scrollUp",value:function(){var t=this._hover.scrollbar.getScrollPosition().scrollTop,n=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:t-n.lineHeight})}},{key:"scrollDown",value:function(){var t=this._hover.scrollbar.getScrollPosition().scrollTop,n=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:t+n.lineHeight})}},{key:"scrollLeft",value:function(){var t=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:t-this._horizontalScrollingBy})}},{key:"scrollRight",value:function(){var t=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:t+this._horizontalScrollingBy})}},{key:"pageUp",value:function(){var t=this._hover.scrollbar.getScrollPosition().scrollTop,n=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:t-n})}},{key:"pageDown",value:function(){var t=this._hover.scrollbar.getScrollPosition().scrollTop,n=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:t+n})}},{key:"goToTop",value:function(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}},{key:"goToBottom",value:function(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}},{key:"escape",value:function(){this._editor.focus()}}]),e}(Ze.a);cr.ID="editor.contrib.contentHoverWidget",cr=gi([Zn(1,Jn.b)],cr);var Zr=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t._keybindingService=i,t._hasContent=!1,t.hoverElement=di("div.hover-row.status-bar"),t.actionsElement=Bt.append(t.hoverElement,di("div.actions")),t}return Object(w.a)(e,[{key:"hasContent",get:function(){return this._hasContent}},{key:"addAction",value:function(t){var n=this._keybindingService.lookupKeybinding(t.commandId),r=n?n.getLabel():null;return this._hasContent=!0,this._register(bv.render(this.actionsElement,t,r))}},{key:"append",value:function(t){var n=Bt.append(this.actionsElement,t);return this._hasContent=!0,n}}]),e}(Ze.a);Zr=gi([Zn(0,Ii.a)],Zr);var Kr=function(){function s(o,e){Object(k.a)(this,s),this._editor=o,this._participants=e,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}return Object(w.a)(s,[{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor=e}},{key:"shouldFocus",get:function(){return this._shouldFocus},set:function(e){this._shouldFocus=e}},{key:"source",get:function(){return this._source},set:function(e){this._source=e}},{key:"insistOnKeepingHoverVisible",get:function(){return this._insistOnKeepingHoverVisible},set:function(e){this._insistOnKeepingHoverVisible=e}},{key:"computeAsync",value:function(e){var i=this._anchor;if(!this._editor.hasModel()||!i)return et.a.EMPTY;var t=s._getLineDecorations(this._editor,i);return et.a.merge(this._participants.map(function(n){return n.computeAsync?n.computeAsync(i,t,e):et.a.EMPTY}))}},{key:"computeSync",value:function(){if(!this._editor.hasModel()||!this._anchor)return[];var e=s._getLineDecorations(this._editor,this._anchor),i=[],t=Object(B.a)(this._participants),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;i=i.concat(r.computeSync(this._anchor,e))}}catch(l){t.e(l)}finally{t.f()}return Object(or.f)(i)}}],[{key:"_getLineDecorations",value:function(e,i){if(i.type!==1&&!i.supportsMarkerHover)return[];var t=e.getModel(),n=i.range.startLineNumber;if(n>t.getLineCount())return[];var r=t.getLineMaxColumn(n);return e.getLineDecorations(n).filter(function(l){if(l.options.isWholeLine)return!0;var c=l.range.startLineNumber===n?l.range.startColumn:1,h=l.range.endLineNumber===n?l.range.endColumn:r;if(l.options.showIfCollapsed){if(c>i.range.startColumn+1||i.range.endColumn-1>h)return!1}else if(c>i.range.startColumn||i.range.endColumn>h)return!1;return!0})}}]),s}();function Jr(s,o,e,i,t,n){var r=e+t/2,l=i+n/2,c=Math.max(Math.abs(s-r)-t/2,0),h=Math.max(Math.abs(o-l)-n/2,0);return Math.sqrt(c*c+h*h)}var pa=a("w5yO"),Ma=a("c9Qy"),Vo=a("YI90"),vs=a("DMKg"),Xa=a("Udvv"),Ea=a("W9cx"),wa=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},qr=function(s,o){return function(e,i){o(e,i,s)}},Ua=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},to=function(){function s(o,e,i){Object(k.a)(this,s),this._options=o,this._languageService=e,this._openerService=i,this._onDidRenderAsync=new rr.b,this.onDidRenderAsync=this._onDidRenderAsync.event}return Object(w.a)(s,[{key:"dispose",value:function(){this._onDidRenderAsync.dispose()}},{key:"render",value:function(e,i,t){if(!e){var n=document.createElement("span");return{element:n,dispose:function(){}}}var r=new Ze.c,l=r.add(Object(pa.a)(e,Object.assign(Object.assign({},this._getRenderOptions(e,r)),i),t));return l.element.classList.add("rendered-markdown"),{element:l.element,dispose:function(){return r.dispose()}}}},{key:"_getRenderOptions",value:function(e,i){var t=this;return{codeBlockRenderer:function(r,l){return Ua(t,void 0,void 0,Object(d.a)().mark(function c(){var h,f,R,Z,ie,je,Ie;return Object(d.a)().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:return r?Z=this._languageService.getLanguageIdByLanguageName(r):this._options.editor&&(Z=(h=this._options.editor.getModel())===null||h===void 0?void 0:h.getLanguageId()),Z||(Z=ic.b),ft.next=4,Object(Xa.b)(this._languageService,l,Z);case 4:return ie=ft.sent,je=document.createElement("span"),je.innerHTML=(R=(f=s._ttpTokenizer)===null||f===void 0?void 0:f.createHTML(ie))!==null&&R!==void 0?R:ie,this._options.editor?(Ie=this._options.editor.getOption(48),Object(vs.a)(je,Ie)):this._options.codeBlockFontFamily&&(je.style.fontFamily=this._options.codeBlockFontFamily),this._options.codeBlockFontSize!==void 0&&(je.style.fontSize=this._options.codeBlockFontSize),ft.abrupt("return",je);case 10:case"end":return ft.stop()}},c,this)}))},asyncRenderCallback:function(){return t._onDidRenderAsync.fire()},actionHandler:{callback:function(r){return ls(t._openerService,r,e.isTrusted)},disposables:i}}}}]),s}();to._ttpTokenizer=Object(Ma.a)("tokenizeToString",{createHTML:function(o){return o}}),to=wa([qr(1,br.a),qr(2,Ea.a)],to);function ls(s,o,e){return Ua(this,void 0,void 0,Object(d.a)().mark(function i(){return Object(d.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.open(o,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:xo(e)});case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),Object(zi.h)(n.t0),n.abrupt("return",!1);case 10:case"end":return n.stop()}},i,null,[[0,6]])}))}function xo(s){return s===!0?!0:s&&Array.isArray(s.enabledCommands)?s.enabledCommands:!1}var Qo=Bt.$,Ho=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r._renderDisposeables=r._register(new Ze.c),r._editor=i,r._isVisible=!1,r._messages=[],r._hover=r._register(new wh),r._hover.containerDomNode.classList.toggle("hidden",!r._isVisible),r._markdownRenderer=r._register(new to({editor:r._editor},t,n)),r._computer=new xl(r._editor),r._hoverOperation=r._register(new _t(r._editor,r._computer)),r._register(r._hoverOperation.onResult(function(l){r._withResult(l.value)})),r._register(r._editor.onDidChangeModelDecorations(function(){return r._onModelDecorationsChanged()})),r._register(r._editor.onDidChangeConfiguration(function(l){l.hasChanged(48)&&r._updateFont()})),r._editor.addOverlayWidget(Object(pi.a)(r)),r}return Object(w.a)(e,[{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){return null}},{key:"_updateFont",value:function(){var t=this,n=Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code"));n.forEach(function(r){return t._editor.applyFontInfo(r)})}},{key:"_onModelDecorationsChanged",value:function(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}},{key:"startShowingAt",value:function(t){this._computer.lineNumber!==t&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=t,this._hoverOperation.start(0))}},{key:"hide",value:function(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}},{key:"_withResult",value:function(t){this._messages=t,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}},{key:"_renderMessages",value:function(t,n){this._renderDisposeables.clear();var r=document.createDocumentFragment(),l=Object(B.a)(n),c;try{for(l.s();!(c=l.n()).done;){var h=c.value,f=Qo("div.hover-row.markdown-hover"),R=Bt.append(f,Qo("div.hover-contents")),Z=this._renderDisposeables.add(this._markdownRenderer.render(h.value));R.appendChild(Z.element),r.appendChild(f)}}catch(ie){l.e(ie)}finally{l.f()}this._updateContents(r),this._showAt(t)}},{key:"_updateContents",value:function(t){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._updateFont()}},{key:"_showAt",value:function(t){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));var n=this._editor.getLayoutInfo(),r=this._editor.getTopForLineNumber(t),l=this._editor.getScrollTop(),c=this._editor.getOption(64),h=this._hover.containerDomNode.clientHeight,f=r-l-(h-c)/2;this._hover.containerDomNode.style.left="".concat(n.glyphMarginLeft+n.glyphMarginWidth,"px"),this._hover.containerDomNode.style.top="".concat(Math.max(Math.round(f),0),"px")}}]),e}(Ze.a);Ho.ID="editor.contrib.modesGlyphHoverWidget";var xl=function(){function s(o){Object(k.a)(this,s),this._editor=o,this._lineNumber=-1}return Object(w.a)(s,[{key:"lineNumber",get:function(){return this._lineNumber},set:function(e){this._lineNumber=e}},{key:"computeSync",value:function(){var e=function(f){return{value:f}},i=this._editor.getLineDecorations(this._lineNumber),t=[];if(!i)return t;var n=Object(B.a)(i),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;if(!!l.options.glyphMarginClassName){var c=l.options.glyphMarginHoverMessage;!c||Object(Qi.c)(c)||t.push.apply(t,Object(Ai.a)(Object(or.d)(c).map(e)))}}}catch(h){n.e(h)}finally{n.f()}return t}}]),s}(),za=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Pa=Object(w.a)(function s(o,e,i){Object(k.a)(this,s),this.provider=o,this.hover=e,this.ordinal=i});function ko(s,o,e,i,t){return za(this,void 0,void 0,Object(d.a)().mark(function n(){var r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Promise.resolve(s.provideHover(e,i,t));case 3:if(r=c.sent,!(r&&jo(r))){c.next=6;break}return c.abrupt("return",new Pa(s,r,o));case 6:c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),Object(zi.i)(c.t0);case 11:return c.abrupt("return",void 0);case 12:case"end":return c.stop()}},n,null,[[0,8]])}))}function co(s,o,e,i){var t=s.ordered(o),n=t.map(function(r,l){return ko(r,l,o,e,i)});return et.a.fromPromises(n).coalesce()}function as(s,o,e,i){return co(s,o,e,i).map(function(t){return t.hover}).toPromise()}Object(St.o)("_executeHoverProvider",function(s,o,e){var i=s.get(Nr.a);return as(i.hoverProvider,o,e,Zi.a.None)});function jo(s){var o=typeof s.range!="undefined",e=typeof s.contents!="undefined"&&s.contents&&s.contents.length>0;return o&&e}var Xr=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},ba=function(s,o){return function(e,i){o(e,i,s)}},Ga=Bt.$,$a=function(){function s(o,e,i,t,n){Object(k.a)(this,s),this.owner=o,this.range=e,this.contents=i,this.isBeforeContent=t,this.ordinal=n}return Object(w.a)(s,[{key:"isValidForHoverAnchor",value:function(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),s}(),gs=function(){function s(o,e,i,t,n){Object(k.a)(this,s),this._editor=o,this._languageService=e,this._openerService=i,this._configurationService=t,this._languageFeaturesService=n,this.hoverOrdinal=3}return Object(w.a)(s,[{key:"createLoadingMessage",value:function(e){return new $a(this,e.range,[new Qi.a().appendText(Qe.b("modesContentHover.loading","Loading..."))],!1,2e3)}},{key:"computeSync",value:function(e,i){if(!this._editor.hasModel()||e.type!==1)return[];var t=this._editor.getModel(),n=e.range.startLineNumber,r=t.getLineMaxColumn(n),l=[],c=1e3,h=t.getLineLength(n),f=t.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),R=this._editor.getOption(113),Z=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:f}),ie=!1;R>=0&&h>R&&e.range.startColumn>=R&&(ie=!0,l.push(new $a(this,e.range,[{value:Qe.b("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,c++))),!ie&&typeof Z=="number"&&h>=Z&&l.push(new $a(this,e.range,[{value:Qe.b("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,c++));var je=!1,Ie=Object(B.a)(i),st;try{for(Ie.s();!(st=Ie.n()).done;){var ft=st.value,kt=ft.range.startLineNumber===n?ft.range.startColumn:1,$t=ft.range.endLineNumber===n?ft.range.endColumn:r,un=ft.options.hoverMessage;if(!(!un||Object(Qi.c)(un))){ft.options.beforeContentClassName&&(je=!0);var Yn=new Dt.a(e.range.startLineNumber,kt,e.range.startLineNumber,$t);l.push(new $a(this,Yn,Object(or.d)(un),je,c++))}}}catch(xn){Ie.e(xn)}finally{Ie.f()}return l}},{key:"computeAsync",value:function(e,i,t){var n=this;if(!this._editor.hasModel()||e.type!==1)return et.a.EMPTY;var r=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(r))return et.a.EMPTY;var l=new tn.a(e.range.startLineNumber,e.range.startColumn);return co(this._languageFeaturesService.hoverProvider,r,l,t).filter(function(c){return!Object(Qi.c)(c.hover.contents)}).map(function(c){var h=c.hover.range?Dt.a.lift(c.hover.range):e.range;return new $a(n,h,c.hover.contents,!1,c.ordinal)})}},{key:"renderHoverParts",value:function(e,i){return Os(e,i,this._editor,this._languageService,this._openerService)}}]),s}();gs=Xr([ba(1,br.a),ba(2,Ea.a),ba(3,Po.a),ba(4,Nr.a)],gs);function Os(s,o,e,i,t){o.sort(function(ie,je){return ie.ordinal-je.ordinal});var n=new Ze.c,r=Object(B.a)(o),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=Object(B.a)(c.contents),f;try{var R=function(){var je=f.value;if(Object(Qi.c)(je))return"continue";var Ie=Ga("div.hover-row.markdown-hover"),st=Bt.append(Ie,Ga("div.hover-contents")),ft=n.add(new to({editor:e},i,t));n.add(ft.onDidRenderAsync(function(){st.className="hover-contents code-hover-contents",s.onContentsChanged()}));var kt=n.add(ft.render(je));st.appendChild(kt.element),s.fragment.appendChild(Ie)};for(h.s();!(f=h.n()).done;)var Z=R()}catch(ie){h.e(ie)}finally{h.f()}}}catch(ie){r.e(ie)}finally{r.f()}return n}var Uo=a("eQg+"),_l=a("24hK"),eu=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Hs=function(s,o){return function(e,i){o(e,i,s)}},Wu=Object(w.a)(function s(o,e,i){Object(k.a)(this,s),this.marker=o,this.index=e,this.total=i}),ku=function(){function s(o,e,i){var t=this;Object(k.a)(this,s),this._markerService=e,this._configService=i,this._onDidChange=new rr.b,this.onDidChange=this._onDidChange.event,this._dispoables=new Ze.c,this._markers=[],this._nextIdx=-1,Wr.a.isUri(o)?this._resourceFilter=function(c){return c.toString()===o.toString()}:o&&(this._resourceFilter=o);var n=this._configService.getValue("problems.sortOrder"),r=function(h,f){var R=Object(Vn.h)(h.resource.toString(),f.resource.toString());return R===0&&(n==="position"?R=Dt.a.compareRangesUsingStarts(h,f)||Ao.c.compare(h.severity,f.severity):R=Ao.c.compare(h.severity,f.severity)||Dt.a.compareRangesUsingStarts(h,f)),R},l=function(){t._markers=t._markerService.read({resource:Wr.a.isUri(o)?o:void 0,severities:Ao.c.Error|Ao.c.Warning|Ao.c.Info}),typeof o=="function"&&(t._markers=t._markers.filter(function(h){return t._resourceFilter(h.resource)})),t._markers.sort(r)};l(),this._dispoables.add(e.onMarkerChanged(function(c){(!t._resourceFilter||c.some(function(h){return t._resourceFilter(h)}))&&(l(),t._nextIdx=-1,t._onDidChange.fire())}))}return Object(w.a)(s,[{key:"dispose",value:function(){this._dispoables.dispose(),this._onDidChange.dispose()}},{key:"matches",value:function(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}},{key:"selected",get:function(){var e=this._markers[this._nextIdx];return e&&new Wu(e,this._nextIdx+1,this._markers.length)}},{key:"_initIdx",value:function(e,i,t){var n=!1,r=this._markers.findIndex(function(f){return f.resource.toString()===e.uri.toString()});r<0&&(r=Object(or.e)(this._markers,{resource:e.uri},function(f,R){return Object(Vn.h)(f.resource.toString(),R.resource.toString())}),r<0&&(r=~r));for(var l=r;l<this._markers.length;l++){var c=Dt.a.lift(this._markers[l]);if(c.isEmpty()){var h=e.getWordAtPosition(c.getStartPosition());h&&(c=new Dt.a(c.startLineNumber,h.startColumn,c.startLineNumber,h.endColumn))}if(i&&(c.containsPosition(i)||i.isBeforeOrEqual(c.getStartPosition()))){this._nextIdx=l,n=!0;break}if(this._markers[l].resource.toString()!==e.uri.toString())break}n||(this._nextIdx=t?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}},{key:"resetIndex",value:function(){this._nextIdx=-1}},{key:"move",value:function(e,i,t){if(this._markers.length===0)return!1;var n=this._nextIdx;return this._nextIdx===-1?this._initIdx(i,t,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),n!==this._nextIdx}},{key:"find",value:function(e,i){var t=this._markers.findIndex(function(n){return n.resource.toString()===e.toString()});if(!(t<0)){for(;t<this._markers.length;t++)if(Dt.a.containsPosition(this._markers[t],i))return new Wu(this._markers[t],t+1,this._markers.length)}}}]),s}();ku=eu([Hs(1,Ao.b),Hs(2,Po.a)],ku);var Pc=Object(Ia.c)("IMarkerNavigationService"),Du=function(){function s(o,e){Object(k.a)(this,s),this._markerService=o,this._configService=e,this._provider=new _l.a}return Object(w.a)(s,[{key:"getMarkerList",value:function(e){var i=Object(B.a)(this._provider),t;try{for(i.s();!(t=i.n()).done;){var n=t.value,r=n.getMarkerList(e);if(r)return r}}catch(l){i.e(l)}finally{i.f()}return new ku(e,this._markerService,this._configService)}}]),s}();Du=eu([Hs(0,Ao.b),Hs(1,Po.a)],Du),Object(Xs.b)(Pc,Du,1);var Md=a("yv4k"),ho=a("s1IP"),qa=a("S3by"),qo;(function(s){function o(e){switch(e){case qa.a.Ignore:return"severity-ignore "+oa.a.asClassName(ta.a.info);case qa.a.Info:return oa.a.asClassName(ta.a.info);case qa.a.Warning:return oa.a.asClassName(ta.a.warning);case qa.a.Error:return oa.a.asClassName(ta.a.error);default:return""}}s.className=o})(qo||(qo={}));var tu=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Yo=function(s,o){return function(e,i){o(e,i,s)}},Td=function(){function s(o,e,i,t,n){var r=this;Object(k.a)(this,s),this._openerService=t,this._labelService=n,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Ze.c,this._editor=e;var l=document.createElement("div");l.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),l.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),l.appendChild(this._relatedBlock),this._disposables.add(Bt.addStandardDisposableListener(this._relatedBlock,"click",function(c){c.preventDefault();var h=r._relatedDiagnostics.get(c.target);h&&i(h)})),this._scrollable=new Ic.c(l,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),o.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(function(c){l.style.left="-".concat(c.scrollLeft,"px"),l.style.top="-".concat(c.scrollTop,"px")})),this._disposables.add(this._scrollable)}return Object(w.a)(s,[{key:"dispose",value:function(){Object(Ze.i)(this._disposables)}},{key:"update",value:function(e){var i=this,t=e.source,n=e.message,r=e.relatedInformation,l=e.code,c=((t==null?void 0:t.length)||0)+"()".length;l&&(typeof l=="string"?c+=l.length:c+=l.value.length);var h=Object(Vn.S)(n);this._lines=h.length,this._longestLineLength=0;var f=Object(B.a)(h),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value;this._longestLineLength=Math.max(Z.length+c,this._longestLineLength)}}catch(fa){f.e(fa)}finally{f.f()}Bt.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);var ie=this._messageBlock,je=Object(B.a)(h),Ie;try{for(je.s();!(Ie=je.n()).done;){var st=Ie.value;ie=document.createElement("div"),ie.innerText=st,st===""&&(ie.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(ie)}}catch(fa){je.e(fa)}finally{je.f()}if(t||l){var ft=document.createElement("span");if(ft.classList.add("details"),ie.appendChild(ft),t){var kt=document.createElement("span");kt.innerText=t,kt.classList.add("source"),ft.appendChild(kt)}if(l)if(typeof l=="string"){var $t=document.createElement("span");$t.innerText="(".concat(l,")"),$t.classList.add("code"),ft.appendChild($t)}else{this._codeLink=Bt.$("a.code-link"),this._codeLink.setAttribute("href","".concat(l.target.toString())),this._codeLink.onclick=function(fa){i._openerService.open(l.target,{allowCommands:!0}),fa.preventDefault(),fa.stopPropagation()};var un=Bt.append(this._codeLink,Bt.$("span"));un.innerText=l.value,ft.appendChild(this._codeLink)}}if(Bt.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Object(or.s)(r)){var Yn=this._relatedBlock.appendChild(document.createElement("div"));Yn.style.paddingTop="".concat(Math.floor(this._editor.getOption(64)*.66),"px"),this._lines+=1;var xn=Object(B.a)(r),fi;try{for(xn.s();!(fi=xn.n()).done;){var Si=fi.value,ji=document.createElement("div"),Bi=document.createElement("a");Bi.classList.add("filename"),Bi.innerText="".concat(this._labelService.getUriBasenameLabel(Si.resource),"(").concat(Si.startLineNumber,", ").concat(Si.startColumn,"): "),Bi.title=this._labelService.getUriLabel(Si.resource),this._relatedDiagnostics.set(Bi,Si);var Lr=document.createElement("span");Lr.innerText=Si.message,ji.appendChild(Bi),ji.appendChild(Lr),this._lines+=1,Yn.appendChild(ji)}}catch(fa){xn.e(fa)}finally{xn.f()}}var gr=this._editor.getOption(48),jr=Math.ceil(gr.typicalFullwidthCharacterWidth*this._longestLineLength*.75),$r=gr.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:jr,scrollHeight:$r})}},{key:"layout",value:function(e,i){this._scrollable.getDomNode().style.height="".concat(e,"px"),this._scrollable.getDomNode().style.width="".concat(i,"px"),this._scrollable.setScrollDimensions({width:i,height:e})}},{key:"getHeightInLines",value:function(){return Math.min(17,this._lines)}},{key:"getAriaLabel",value:function(e){var i="";switch(e.severity){case Ao.c.Error:i=Qe.b("Error","Error");break;case Ao.c.Warning:i=Qe.b("Warning","Warning");break;case Ao.c.Info:i=Qe.b("Info","Info");break;case Ao.c.Hint:i=Qe.b("Hint","Hint");break}var t=Qe.b("marker aria","{0} at {1}. ",i,e.startLineNumber+":"+e.startColumn),n=this._editor.getModel();if(n&&e.startLineNumber<=n.getLineCount()&&e.startLineNumber>=1){var r=n.getLineContent(e.startLineNumber);t="".concat(r,", ").concat(t)}return t}}]),s}(),Ts=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h){var f;return Object(k.a)(this,e),f=o.call(this,i,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},l),f._themeService=t,f._openerService=n,f._menuService=r,f._contextKeyService=c,f._labelService=h,f._callOnDispose=new Ze.c,f._onDidSelectRelatedInformation=new rr.b,f.onDidSelectRelatedInformation=f._onDidSelectRelatedInformation.event,f._severity=Ao.c.Warning,f._backgroundColor=ja.a.white,f._applyTheme(t.getColorTheme()),f._callOnDispose.add(t.onDidColorThemeChange(f._applyTheme.bind(Object(pi.a)(f)))),f.create(),f}return Object(w.a)(e,[{key:"_applyTheme",value:function(t){this._backgroundColor=t.getColor(Cv);var n=_v,r=Sg;this._severity===Ao.c.Warning?(n=Cf,r=Rm):this._severity===Ao.c.Info&&(n=Of,r=Sf);var l=t.getColor(n),c=t.getColor(r);this.style({arrowColor:l,frameColor:l,headerBackgroundColor:c,primaryHeadingColor:t.getColor(ih),secondaryHeadingColor:t.getColor(qc)})}},{key:"_applyStyles",value:function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),Object(yi.a)(Object(vi.a)(e.prototype),"_applyStyles",this).call(this)}},{key:"dispose",value:function(){this._callOnDispose.dispose(),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"_fillHead",value:function(t){var n=this;Object(yi.a)(Object(vi.a)(e.prototype),"_fillHead",this).call(this,t),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(function(c){return n.editor.focus()}));var r=[],l=this._menuService.createMenu(e.TitleMenu,this._contextKeyService);Object(tl.c)(l,void 0,r),this._actionbarWidget.push(r,{label:!1,icon:!0,index:0}),l.dispose()}},{key:"_fillTitleIcon",value:function(t){this._icon=Bt.append(t,Bt.$(""))}},{key:"_fillBody",value:function(t){var n=this;this._parentContainer=t,t.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),t.appendChild(this._container),this._message=new Td(this._container,this.editor,function(r){return n._onDidSelectRelatedInformation.fire(r)},this._openerService,this._labelService),this._disposables.add(this._message)}},{key:"show",value:function(){throw new Error("call showAtMarker")}},{key:"showAtMarker",value:function(t,n,r){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getColorTheme());var l=Dt.a.lift(t),c=this.editor.getPosition(),h=c&&l.containsPosition(c)?c:l.getStartPosition();Object(yi.a)(Object(vi.a)(e.prototype),"show",this).call(this,h,this.computeRequiredHeight());var f=this.editor.getModel();if(f){var R=r>1?Qe.b("problems","{0} of {1} problems",n,r):Qe.b("change","{0} of {1} problem",n,r);this.setTitle(Object(Za.b)(f.uri),R)}this._icon.className="codicon ".concat(qo.className(Ao.c.toSeverity(this._severity))),this.editor.revealPositionNearTop(h,0),this.editor.focus()}},{key:"updateMarker",value:function(t){this._container.classList.remove("stale"),this._message.update(t)}},{key:"showStale",value:function(){this._container.classList.add("stale"),this._relayout()}},{key:"_doLayoutBody",value:function(t,n){Object(yi.a)(Object(vi.a)(e.prototype),"_doLayoutBody",this).call(this,t,n),this._heightInPixel=t,this._message.layout(t,n),this._container.style.height="".concat(t,"px")}},{key:"_onWidth",value:function(t){this._message.layout(this._heightInPixel,t)}},{key:"_relayout",value:function(){Object(yi.a)(Object(vi.a)(e.prototype),"_relayout",this).call(this,this.computeRequiredHeight())}},{key:"computeRequiredHeight",value:function(){return 3+this._message.getHeightInLines()}}]),e}(yd);Ts.TitleMenu=new kn.c("gotoErrorTitleMenu"),Ts=tu([Yo(1,Oi.b),Yo(2,Ea.a),Yo(3,kn.b),Yo(4,Ia.a),Yo(5,Jn.b),Yo(6,Od.a)],Ts);var Id=Object(Vt.qc)(Vt.H,Vt.G),jh=Object(Vt.qc)(Vt.fb,Vt.eb),yv=Object(Vt.qc)(Vt.U,Vt.T),_v=Object(Vt.Fc)("editorMarkerNavigationError.background",{dark:Id,light:Id,hcDark:Vt.w,hcLight:Vt.w},Qe.b("editorMarkerNavigationError","Editor marker navigation widget error color.")),Sg=Object(Vt.Fc)("editorMarkerNavigationError.headerBackground",{dark:Object(Vt.Sc)(_v,.1),light:Object(Vt.Sc)(_v,.1),hcDark:null,hcLight:null},Qe.b("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Cf=Object(Vt.Fc)("editorMarkerNavigationWarning.background",{dark:jh,light:jh,hcDark:Vt.w,hcLight:Vt.w},Qe.b("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Rm=Object(Vt.Fc)("editorMarkerNavigationWarning.headerBackground",{dark:Object(Vt.Sc)(Cf,.1),light:Object(Vt.Sc)(Cf,.1),hcDark:"#0C141F",hcLight:Object(Vt.Sc)(Cf,.2)},Qe.b("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Of=Object(Vt.Fc)("editorMarkerNavigationInfo.background",{dark:yv,light:yv,hcDark:Vt.w,hcLight:Vt.w},Qe.b("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Sf=Object(Vt.Fc)("editorMarkerNavigationInfo.headerBackground",{dark:Object(Vt.Sc)(Of,.1),light:Object(Vt.Sc)(Of,.1),hcDark:null,hcLight:null},Qe.b("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Cv=Object(Vt.Fc)("editorMarkerNavigation.background",{dark:Vt.F,light:Vt.F,hcDark:Vt.F,hcLight:Vt.F},Qe.b("editorMarkerNavigationBackground","Editor marker navigation widget background.")),Ov=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},kf=function(s,o){return function(e,i){o(e,i,s)}},Sv=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},sc=function(){function s(o,e,i,t,n){Object(k.a)(this,s),this._markerNavigationService=e,this._contextKeyService=i,this._editorService=t,this._instantiationService=n,this._sessionDispoables=new Ze.c,this._editor=o,this._widgetVisible=kg.bindTo(this._contextKeyService)}return Object(w.a)(s,[{key:"dispose",value:function(){this._cleanUp(),this._sessionDispoables.dispose()}},{key:"_cleanUp",value:function(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}},{key:"_getOrCreateModel",value:function(e){var i=this;if(this._model&&this._model.matches(e))return this._model;var t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Ts,this._editor),this._widget.onDidClose(function(){return i.close()},this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(function(n){var r,l,c;(!((r=i._model)===null||r===void 0?void 0:r.selected)||!Dt.a.containsPosition((l=i._model)===null||l===void 0?void 0:l.selected.marker,n.position))&&((c=i._model)===null||c===void 0||c.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(function(){if(!(!i._widget||!i._widget.position||!i._model)){var n=i._model.find(i._editor.getModel().uri,i._widget.position);n?i._widget.updateMarker(n.marker):i._widget.showStale()}})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(function(n){i._editorService.openCodeEditor({resource:n.resource,options:{pinned:!0,revealIfOpened:!0,selection:Dt.a.lift(n).collapseToStart()}},i._editor),i.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(function(){return i._cleanUp()})),this._model}},{key:"close",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this._cleanUp(),e&&this._editor.focus()}},{key:"showAtMarker",value:function(e){if(this._editor.hasModel()){var i=this._getOrCreateModel(this._editor.getModel().uri);i.resetIndex(),i.move(!0,this._editor.getModel(),new tn.a(e.startLineNumber,e.startColumn)),i.selected&&this._widget.showAtMarker(i.selected.marker,i.selected.index,i.selected.total)}}},{key:"nagivate",value:function(e,i){var t,n;return Sv(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!this._editor.hasModel()){f.next=14;break}if(l=this._getOrCreateModel(i?void 0:this._editor.getModel().uri),l.move(e,this._editor.getModel(),this._editor.getPosition()),l.selected){f.next=5;break}return f.abrupt("return");case 5:if(l.selected.marker.resource.toString()===this._editor.getModel().uri.toString()){f.next=13;break}return this._cleanUp(),f.next=9,this._editorService.openCodeEditor({resource:l.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:l.selected.marker}},this._editor);case 9:c=f.sent,c&&((t=s.get(c))===null||t===void 0||t.close(),(n=s.get(c))===null||n===void 0||n.nagivate(e,i)),f.next=14;break;case 13:this._widget.showAtMarker(l.selected.marker,l.selected.index,l.selected.total);case 14:case"end":return f.stop()}},r,this)}))}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();sc.ID="editor.contrib.markerController",sc=Ov([kf(1,Pc),kf(2,Jn.b),kf(3,In.a),kf(4,Ia.a)],sc);var Eh=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this,n),r._next=i,r._multiFile=t,r}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;return Sv(this,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:n.hasModel()&&((r=sc.get(n))===null||r===void 0||r.nagivate(this._next,this._multiFile));case 1:case"end":return h.stop()}},l,this)}))}}]),e}(St.b),Pd=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!0,!1,{id:e.ID,label:e.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:an.a.focus,primary:512|66,weight:100},menuOpts:{menuId:Ts.TitleMenu,title:e.LABEL,icon:Object(u.b)("marker-navigation-next",ta.a.arrowDown,Qe.b("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}return Object(w.a)(e)}(Eh);Pd.ID="editor.action.marker.next",Pd.LABEL=Qe.b("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");var Df=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!1,!1,{id:e.ID,label:e.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:an.a.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:Ts.TitleMenu,title:e.LABEL,icon:Object(u.b)("marker-navigation-previous",ta.a.arrowUp,Qe.b("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}return Object(w.a)(e)}(Eh);Df.ID="editor.action.marker.prev",Df.LABEL=Qe.b("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");var Nm=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:Qe.b("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:an.a.focus,primary:66,weight:100},menuOpts:{menuId:kn.c.MenubarGoMenu,title:Qe.b({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}return Object(w.a)(e)}(Eh),kv=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:Qe.b("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:an.a.focus,primary:1024|66,weight:100},menuOpts:{menuId:kn.c.MenubarGoMenu,title:Qe.b({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}return Object(w.a)(e)}(Eh);Object(St.m)(sc.ID,sc,4),Object(St.k)(Pd),Object(St.k)(Df),Object(St.k)(Nm),Object(St.k)(kv);var kg=new Jn.c("markersNavigationVisible",!1),xm=St.d.bindToContribution(sc.get);Object(St.l)(new xm({id:"closeMarkersNavigation",precondition:kg,handler:function(o){return o.close()},kbOpts:{weight:100+50,kbExpr:an.a.focus,primary:9,secondary:[1024|9]}}));var Fm=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Dv=function(s,o){return function(e,i){o(e,i,s)}},Fa=Bt.$,Eo=function(){function s(o,e,i){Object(k.a)(this,s),this.owner=o,this.range=e,this.marker=i}return Object(w.a)(s,[{key:"isValidForHoverAnchor",value:function(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),s}(),js={type:1,filter:{include:Hr.QuickFix},triggerAction:ao.QuickFixHover},Cl=function(){function s(o,e,i,t){Object(k.a)(this,s),this._editor=o,this._markerDecorationsService=e,this._openerService=i,this._languageFeaturesService=t,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}return Object(w.a)(s,[{key:"computeSync",value:function(e,i){if(!this._editor.hasModel()||e.type!==1&&!e.supportsMarkerHover)return[];var t=this._editor.getModel(),n=e.range.startLineNumber,r=t.getLineMaxColumn(n),l=[],c=Object(B.a)(i),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,R=f.range.startLineNumber===n?f.range.startColumn:1,Z=f.range.endLineNumber===n?f.range.endColumn:r,ie=this._markerDecorationsService.getMarker(t.uri,f);if(!!ie){var je=new Dt.a(e.range.startLineNumber,R,e.range.startLineNumber,Z);l.push(new Eo(this,je,ie))}}}catch(Ie){c.e(Ie)}finally{c.f()}return l}},{key:"renderHoverParts",value:function(e,i){var t=this;if(!i.length)return Ze.a.None;var n=new Ze.c;i.forEach(function(l){return e.fragment.appendChild(t.renderMarkerHover(l,n))});var r=i.length===1?i[0]:i.sort(function(l,c){return Ao.c.compare(l.marker.severity,c.marker.severity)})[0];return this.renderMarkerStatusbar(e,r,n),n}},{key:"renderMarkerHover",value:function(e,i){var t=this,n=Fa("div.hover-row"),r=Bt.append(n,Fa("div.marker.hover-contents")),l=e.marker,c=l.source,h=l.message,f=l.code,R=l.relatedInformation;this._editor.applyFontInfo(r);var Z=Bt.append(r,Fa("span"));if(Z.style.whiteSpace="pre-wrap",Z.innerText=h,c||f)if(f&&typeof f!="string"){var ie=Fa("span");if(c){var je=Bt.append(ie,Fa("span"));je.innerText=c}var Ie=Bt.append(ie,Fa("a.code-link"));Ie.setAttribute("href",f.target.toString()),i.add(Bt.addDisposableListener(Ie,"click",function(xn){t._openerService.open(f.target,{allowCommands:!0}),xn.preventDefault(),xn.stopPropagation()}));var st=Bt.append(Ie,Fa("span"));st.innerText=f.value;var ft=Bt.append(r,ie);ft.style.opacity="0.6",ft.style.paddingLeft="6px"}else{var kt=Bt.append(r,Fa("span"));kt.style.opacity="0.6",kt.style.paddingLeft="6px",kt.innerText=c&&f?"".concat(c,"(").concat(f,")"):c||"(".concat(f,")")}if(Object(or.s)(R)){var $t=Object(B.a)(R),un;try{var Yn=function(){var fi=un.value,Si=fi.message,ji=fi.resource,Bi=fi.startLineNumber,Lr=fi.startColumn;{var gr=Bt.append(r,Fa("div"));gr.style.marginTop="8px";var jr=Bt.append(gr,Fa("a"));jr.innerText="".concat(Object(Za.b)(ji),"(").concat(Bi,", ").concat(Lr,"): "),jr.style.cursor="pointer",i.add(Bt.addDisposableListener(jr,"click",function(fa){fa.stopPropagation(),fa.preventDefault(),t._openerService&&t._openerService.open(ji,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Bi,startColumn:Lr}}}).catch(zi.h)}));var $r=Bt.append(gr,Fa("span"));$r.innerText=Si,t._editor.applyFontInfo($r)}};for($t.s();!(un=$t.n()).done;)Yn()}catch(xn){$t.e(xn)}finally{$t.f()}}return n}},{key:"renderMarkerStatusbar",value:function(e,i,t){var n=this;if((i.marker.severity===Ao.c.Error||i.marker.severity===Ao.c.Warning||i.marker.severity===Ao.c.Info)&&e.statusBar.addAction({label:Qe.b("view problem","View Problem"),commandId:Pd.ID,run:function(){var f;e.hide(),(f=sc.get(n._editor))===null||f===void 0||f.showAtMarker(i.marker),n._editor.focus()}}),!this._editor.getOption(88)){var r=e.statusBar.append(Fa("div"));this.recentMarkerCodeActionsInfo&&(Ao.a.makeKey(this.recentMarkerCodeActionsInfo.marker)===Ao.a.makeKey(i.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(r.textContent=Qe.b("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);var l=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?Ze.a.None:t.add(Object(et.l)(function(){return r.textContent=Qe.b("checkingForQuickFixes","Checking for quick fixes...")},200));r.textContent||(r.textContent=String.fromCharCode(160));var c=this.getCodeActions(i.marker);t.add(Object(Ze.l)(function(){return c.cancel()})),c.then(function(h){if(l.dispose(),n.recentMarkerCodeActionsInfo={marker:i.marker,hasCodeActions:h.validActions.length>0},!n.recentMarkerCodeActionsInfo.hasCodeActions){h.dispose(),r.textContent=Qe.b("noQuickFixes","No quick fixes available");return}r.style.display="none";var f=!1;t.add(Object(Ze.l)(function(){f||h.dispose()})),e.statusBar.addAction({label:Qe.b("quick fixes","Quick Fix..."),commandId:q,run:function(Z){f=!0;var ie=Tl.get(n._editor),je=Bt.getDomNodePagePosition(Z);e.hide(),ie==null||ie.showCodeActions(js,h,{x:je.left,y:je.top,width:je.width,height:je.height})}})},zi.h)}}},{key:"getCodeActions",value:function(e){var i=this;return Object(et.k)(function(t){return pt(i._languageFeaturesService.codeActionProvider,i._editor.getModel(),new Dt.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),js,ro.c.None,t)})}}]),s}();Cl=Fm([Dv(1,Uo.a),Dv(2,Ea.a),Dv(3,Nr.a)],Cl);var Dg;function Ac(s){Dg=s}function lc(){return Dg}var wv=function(){function s(){Object(k.a)(this,s),this.indentation=0,this.changedObservablesSets=new WeakMap}return Object(w.a)(s,[{key:"textToConsoleArgs",value:function(e){return jv([Ad(EC("|  ",this.indentation)),e])}},{key:"formatInfo",value:function(e){return e.didChange?[Ad(" "),Rc(wg(e.oldValue,70),{color:"red",strikeThrough:!0}),Ad(" "),Rc(wg(e.newValue,60),{color:"green"})]:[Ad(" (unchanged)")]}},{key:"handleObservableChanged",value:function(e,i){var t;(t=console).log.apply(t,Object(Ai.a)(this.textToConsoleArgs([Ev("observable value changed"),Rc(e.debugName,{color:"BlueViolet"})].concat(Object(Ai.a)(this.formatInfo(i))))))}},{key:"formatChanges",value:function(e){if(e.size!==0)return Rc(" (changed deps: "+Object(Ai.a)(e).map(function(i){return i.debugName}).join(", ")+")",{color:"gray"})}},{key:"handleDerivedCreated",value:function(e){var i=this,t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=function(n,r){return i.changedObservablesSets.get(e).add(n),t.apply(e,[n,r])}}},{key:"handleDerivedRecomputed",value:function(e,i){var t,n=this.changedObservablesSets.get(e);(t=console).log.apply(t,Object(Ai.a)(this.textToConsoleArgs([Ev("derived recomputed"),Rc(e.debugName,{color:"BlueViolet"})].concat(Object(Ai.a)(this.formatInfo(i)),[this.formatChanges(n)])))),n.clear()}},{key:"handleFromEventObservableTriggered",value:function(e,i){var t;(t=console).log.apply(t,Object(Ai.a)(this.textToConsoleArgs([Ev("observable from event triggered"),Rc(e.debugName,{color:"BlueViolet"})].concat(Object(Ai.a)(this.formatInfo(i))))))}},{key:"handleAutorunCreated",value:function(e){var i=this,t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=function(n,r){return i.changedObservablesSets.get(e).add(n),t.apply(e,[n,r])}}},{key:"handleAutorunTriggered",value:function(e){var i,t=this.changedObservablesSets.get(e);(i=console).log.apply(i,Object(Ai.a)(this.textToConsoleArgs([Ev("autorun"),Rc(e.debugName,{color:"BlueViolet"}),this.formatChanges(t)]))),t.clear()}},{key:"handleBeginTransaction",value:function(e){var i,t=e.getDebugName();t===void 0&&(t=""),(i=console).log.apply(i,Object(Ai.a)(this.textToConsoleArgs([Ev("transaction"),Rc(t,{color:"BlueViolet"})]))),this.indentation++}},{key:"handleEndTransaction",value:function(){this.indentation--}}]),s}();function jv(s){var o=new Array,e={},i=e,t="";function n(l){if("length"in l){var c=Object(B.a)(l),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;f&&n(f)}}catch(R){c.e(R)}finally{c.f()}}else"text"in l?(t+="%c".concat(l.text),o.push(l.style),l.data&&Object.assign(i,l.data)):"data"in l&&Object.assign(i,l.data)}n(s);var r=[t].concat(o);return Object.keys(i).length>0&&r.push(i),r}function Ad(s){return Rc(s,{color:"black"})}function Ev(s){return Rc(LC("".concat(s,": "),10),{color:"black",bold:!0})}function Rc(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{color:"black"};function e(t){return Object.entries(t).reduce(function(n,r){var l=Object(z.a)(r,2),c=l[0],h=l[1];return"".concat(n).concat(c,":").concat(h,";")},"")}var i={color:o.color};return o.strikeThrough&&(i["text-decoration"]="line-through"),o.bold&&(i["font-weight"]="bold"),{text:s,style:e(i)}}function wg(s,o){switch(typeof s){case"number":return""+s;case"string":return s.length+2<=o?'"'.concat(s,'"'):'"'.concat(s.substr(0,o-7),'"+...');case"boolean":return s?"true":"false";case"undefined":return"undefined";case"object":return s===null?"null":Array.isArray(s)?wC(s,o):jC(s,o);case"symbol":return s.toString();case"function":return"[[Function".concat(s.name?" "+s.name:"","]]");default:return""+s}}function wC(s,o){var e="[ ",i=!0,t=Object(B.a)(s),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;if(i||(e+=", "),e.length-5>o){e+="...";break}i=!1,e+="".concat(wg(r,o-e.length))}}catch(l){t.e(l)}finally{t.f()}return e+=" ]",e}function jC(s,o){for(var e="{ ",i=!0,t=0,n=Object.entries(s);t<n.length;t++){var r=n[t],l=Object(z.a)(r,2),c=l[0],h=l[1];if(i||(e+=", "),e.length-5>o){e+="...";break}i=!1,e+="".concat(c,": ").concat(wg(h,o-e.length))}return e+=" }",e}function EC(s,o){for(var e="",i=1;i<=o;i++)e+=s;return e}function LC(s,o){for(;s.length<o;)s+=" ";return s}var Jb;function MC(s){Jb=s}var qb=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"TChange",get:function(){return null}},{key:"reportChanges",value:function(){this.get()}},{key:"read",value:function(e){return e?e.readObservable(this):this.get()}},{key:"map",value:function(e){var i=this;return Jb(function(){var t=Bm(e);return t!==void 0?t:"".concat(i.debugName," (mapped)")},function(t){return e(i.read(t),t)})}}]),s}(),Lv=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.apply(this,arguments),i.observers=new Set,i}return Object(w.a)(e,[{key:"addObserver",value:function(t){var n=this.observers.size;this.observers.add(t),n===0&&this.onFirstObserverAdded()}},{key:"removeObserver",value:function(t){var n=this.observers.delete(t);n&&this.observers.size===0&&this.onLastObserverRemoved()}},{key:"onFirstObserverAdded",value:function(){}},{key:"onLastObserverRemoved",value:function(){}}]),e}(qb);function Ol(s,o){var e,i,t=new ty(s,o);try{(e=lc())===null||e===void 0||e.handleBeginTransaction(t),s(t)}finally{t.finish(),(i=lc())===null||i===void 0||i.handleEndTransaction()}}function ey(s,o,e){s?o(s):Ol(o,e)}var ty=function(){function s(o,e){Object(k.a)(this,s),this.fn=o,this._getDebugName=e,this.updatingObservers=[]}return Object(w.a)(s,[{key:"getDebugName",value:function(){return this._getDebugName?this._getDebugName():Bm(this.fn)}},{key:"updateObserver",value:function(e,i){this.updatingObservers.push({observer:e,observable:i}),e.beginUpdate(i)}},{key:"finish",value:function(){var e=this.updatingObservers;this.updatingObservers=null;var i=Object(B.a)(e),t;try{for(i.s();!(t=i.n()).done;){var n=t.value,r=n.observer,l=n.observable;r.endUpdate(l)}}catch(c){i.e(c)}finally{i.f()}}}]),s}();function Bm(s){var o=s.toString(),e=/\/\*\*\s*@description\s*([^*]*)\*\//,i=e.exec(o),t=i?i[1]:void 0;return t==null?void 0:t.trim()}function wf(s,o){return new ny(s,o)}var ny=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n.debugName=i,n._value=t,n}return Object(w.a)(e,[{key:"get",value:function(){return this._value}},{key:"set",value:function(t,n,r){var l=this,c;if(this._value!==t){var h;n||(n=h=new ty(function(){},function(){return"Setting ".concat(l.debugName)}));try{var f=this._value;this._setValue(t),(c=lc())===null||c===void 0||c.handleObservableChanged(this,{oldValue:f,newValue:t,change:r,didChange:!0});var R=Object(B.a)(this.observers),Z;try{for(R.s();!(Z=R.n()).done;){var ie=Z.value;n.updateObserver(ie,this),ie.handleChange(this,r)}}catch(je){R.e(je)}finally{R.f()}}finally{h&&h.finish()}}}},{key:"toString",value:function(){return"".concat(this.debugName,": ").concat(this._value)}},{key:"_setValue",value:function(t){this._value=t}}]),e}(Lv);function Wm(s,o){return new TC(s,o)}var TC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"_setValue",value:function(t){this._value!==t&&(this._value&&this._value.dispose(),this._value=t)}},{key:"dispose",value:function(){var t;(t=this._value)===null||t===void 0||t.dispose()}}]),e}(ny);function Vu(s,o){return new iy(s,o,void 0,void 0)}function IC(s,o,e){return new iy(s,e,o.createEmptyChangeSummary,o.handleChange)}MC(Vu);var iy=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;Object(k.a)(this,e);var c,h;return l=o.call(this),l._debugName=i,l.computeFn=t,l.createChangeSummary=n,l._handleChange=r,l.state=0,l.value=void 0,l.updateCount=0,l.dependencies=new Set,l.dependenciesToBeRemoved=new Set,l.changeSummary=void 0,l.changeSummary=(c=l.createChangeSummary)===null||c===void 0?void 0:c.call(Object(pi.a)(l)),(h=lc())===null||h===void 0||h.handleDerivedCreated(Object(pi.a)(l)),l}return Object(w.a)(e,[{key:"debugName",get:function(){return typeof this._debugName=="function"?this._debugName():this._debugName}},{key:"onLastObserverRemoved",value:function(){this.state=0,this.value=void 0;var t=Object(B.a)(this.dependencies),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;r.removeObserver(this)}}catch(l){t.e(l)}finally{t.f()}this.dependencies.clear()}},{key:"get",value:function(){var t;if(this.observers.size===0){var n=this.computeFn(this,(t=this.createChangeSummary)===null||t===void 0?void 0:t.call(this));return this.onLastObserverRemoved(),n}else{do{if(this.state===1){this.state=3;var r=Object(B.a)(this.dependencies),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;if(c.reportChanges(),this.state===2)break}}catch(h){r.e(h)}finally{r.f()}}this._recomputeIfNeeded()}while(this.state!==3);return this.value}}},{key:"_recomputeIfNeeded",value:function(){var t,n;if(this.state!==3){var r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;var l=this.state!==0,c=this.value;this.state=3;var h=this.changeSummary;this.changeSummary=(t=this.createChangeSummary)===null||t===void 0?void 0:t.call(this);try{this.value=this.computeFn(this,h)}finally{var f=Object(B.a)(this.dependenciesToBeRemoved),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value;Z.removeObserver(this)}}catch(ft){f.e(ft)}finally{f.f()}this.dependenciesToBeRemoved.clear()}var ie=l&&c!==this.value;if((n=lc())===null||n===void 0||n.handleDerivedRecomputed(this,{oldValue:c,newValue:this.value,change:void 0,didChange:ie}),ie){var je=Object(B.a)(this.observers),Ie;try{for(je.s();!(Ie=je.n()).done;){var st=Ie.value;st.handleChange(this,void 0)}}catch(ft){je.e(ft)}finally{je.f()}}}}},{key:"toString",value:function(){return"LazyDerived<".concat(this.debugName,">")}},{key:"beginUpdate",value:function(t){this.updateCount++;var n=this.updateCount===1;if(this.state===3&&(this.state=1,!n)){var r=Object(B.a)(this.observers),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;c.handlePossibleChange(this)}}catch(Z){r.e(Z)}finally{r.f()}}if(n){var h=Object(B.a)(this.observers),f;try{for(h.s();!(f=h.n()).done;){var R=f.value;R.beginUpdate(this)}}catch(Z){h.e(Z)}finally{h.f()}}}},{key:"endUpdate",value:function(t){if(this.updateCount--,this.updateCount===0){var n=Object(Ai.a)(this.observers),r=Object(B.a)(n),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;c.endUpdate(this)}}catch(h){r.e(h)}finally{r.f()}}if(this.updateCount<0)throw new zi.a}},{key:"handlePossibleChange",value:function(t){if(this.state===3&&this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){this.state=1;var n=Object(B.a)(this.observers),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;l.handlePossibleChange(this)}}catch(c){n.e(c)}finally{n.f()}}}},{key:"handleChange",value:function(t,n){if(this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)){var r=this._handleChange?this._handleChange({changedObservable:t,change:n,didChange:function(Z){return Z===t}},this.changeSummary):!0,l=this.state===3;if(r&&(this.state===1||l)&&(this.state=2,l)){var c=Object(B.a)(this.observers),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;f.handlePossibleChange(this)}}catch(R){c.e(R)}finally{c.f()}}}}},{key:"readObservable",value:function(t){t.addObserver(this);var n=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),n}},{key:"addObserver",value:function(t){var n=!this.observers.has(t)&&this.updateCount>0;Object(yi.a)(Object(vi.a)(e.prototype),"addObserver",this).call(this,t),n&&t.beginUpdate(this)}},{key:"removeObserver",value:function(t){var n=this.observers.has(t)&&this.updateCount>0;Object(yi.a)(Object(vi.a)(e.prototype),"removeObserver",this).call(this,t),n&&t.endUpdate(this)}}]),e}(Lv),ry=a("FWmy");function Fl(s,o){return new ay(s,o,void 0,void 0)}function PC(s,o){return AC(o,s)}function AC(s,o){var e=new Ze.c,i=Fl(o,function(t){e.clear(),s(t,e)});return Object(Ze.l)(function(){i.dispose(),e.dispose()})}var ay=function(){function s(o,e,i,t){Object(k.a)(this,s);var n,r;this.debugName=o,this.runFn=e,this.createChangeSummary=i,this._handleChange=t,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this),(r=lc())===null||r===void 0||r.handleAutorunCreated(this),this._runIfNeeded()}return Object(w.a)(s,[{key:"dispose",value:function(){this.disposed=!0;var e=Object(B.a)(this.dependencies),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;t.removeObserver(this)}}catch(n){e.e(n)}finally{e.f()}this.dependencies.clear()}},{key:"_runIfNeeded",value:function(){var e,i;if(this.state!==3){var t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3,(e=lc())===null||e===void 0||e.handleAutorunTriggered(this);try{var n=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this),this.runFn(this,n)}finally{var r=Object(B.a)(this.dependenciesToBeRemoved),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;c.removeObserver(this)}}catch(h){r.e(h)}finally{r.f()}this.dependenciesToBeRemoved.clear()}}}},{key:"toString",value:function(){return"Autorun<".concat(this.debugName,">")}},{key:"beginUpdate",value:function(){this.state===3&&(this.state=1),this.updateCount++}},{key:"endUpdate",value:function(){var e=this;if(this.updateCount===1)do{if(this.state===1){this.state=3;var i=Object(B.a)(this.dependencies),t;try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.reportChanges(),this.state===2)break}}catch(r){i.e(r)}finally{i.f()}}this._runIfNeeded()}while(this.state!==3);this.updateCount--,Object(ry.a)(function(){return e.updateCount>=0})}},{key:"handlePossibleChange",value:function(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}},{key:"handleChange",value:function(e,i){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){var t=this._handleChange?this._handleChange({changedObservable:e,change:i,didChange:function(r){return r===e}},this.changeSummary):!0;t&&(this.state=2)}}},{key:"readObservable",value:function(e){if(this.disposed)return e.get();e.addObserver(this);var i=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),i}}]),s}();(function(s){s.Observer=ay})(Fl||(Fl={}));function oy(s){return new RC(s)}var RC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t.value=i,t}return Object(w.a)(e,[{key:"debugName",get:function(){return this.toString()}},{key:"get",value:function(){return this.value}},{key:"addObserver",value:function(t){}},{key:"removeObserver",value:function(t){}},{key:"toString",value:function(){return"Const: ".concat(this.value)}}]),e}(qb);function Rd(s,o){return new sy(s,o)}var sy=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n.event=i,n.getValue=t,n.hasValue=!1,n.handleEvent=function(r){var l,c=n.getValue(r),h=!n.hasValue||n.value!==c;(l=lc())===null||l===void 0||l.handleFromEventObservableTriggered(Object(pi.a)(n),{oldValue:n.value,newValue:c,change:void 0,didChange:h}),h&&(n.value=c,n.hasValue&&Ol(function(f){var R=Object(B.a)(n.observers),Z;try{for(R.s();!(Z=R.n()).done;){var ie=Z.value;f.updateObserver(ie,Object(pi.a)(n)),ie.handleChange(Object(pi.a)(n),void 0)}}catch(je){R.e(je)}finally{R.f()}},function(){var f=n.getDebugName();return"Event fired"+(f?": ".concat(f):"")}),n.hasValue=!0)},n}return Object(w.a)(e,[{key:"getDebugName",value:function(){return Bm(this.getValue)}},{key:"debugName",get:function(){var t=this.getDebugName();return"From Event"+(t?": ".concat(t):"")}},{key:"onFirstObserverAdded",value:function(){this.subscription=this.event(this.handleEvent)}},{key:"onLastObserverRemoved",value:function(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}},{key:"get",value:function(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this.getValue(void 0)}}]),e}(Lv);(function(s){s.Observer=sy})(Rd||(Rd={}));function NC(s,o){return new xC(s,o)}var xC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n.debugName=i,n.event=t,n.handleEvent=function(){Ol(function(r){var l=Object(B.a)(n.observers),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;r.updateObserver(h,Object(pi.a)(n)),h.handleChange(Object(pi.a)(n),void 0)}}catch(f){l.e(f)}finally{l.f()}},function(){return n.debugName})},n}return Object(w.a)(e,[{key:"onFirstObserverAdded",value:function(){this.subscription=this.event(this.handleEvent)}},{key:"onLastObserverRemoved",value:function(){this.subscription.dispose(),this.subscription=void 0}},{key:"get",value:function(){}}]),e}(Lv);function FC(s){return new BC(s)}var BC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t.debugName=i,t}return Object(w.a)(e,[{key:"trigger",value:function(t,n){var r=this;if(!t){Ol(function(f){r.trigger(f,n)},function(){return"Trigger signal ".concat(r.debugName)});return}var l=Object(B.a)(this.observers),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;t.updateObserver(h,this),h.handleChange(this,n)}}catch(f){l.e(f)}finally{l.f()}}},{key:"get",value:function(){}}]),e}(Lv);function WC(s,o){var e=new VC(o!=null?o:!1);return s.addObserver(e),o&&s.reportChanges(),Object(Ze.l)(function(){s.removeObserver(e)})}var VC=function(){function s(o){Object(k.a)(this,s),this.forceRecompute=o,this.counter=0}return Object(w.a)(s,[{key:"beginUpdate",value:function(e){this.counter++}},{key:"endUpdate",value:function(e){this.counter--,this.counter===0&&this.forceRecompute&&e.reportChanges()}},{key:"handlePossibleChange",value:function(e){}},{key:"handleChange",value:function(e,i){}}]),s}(),HC=!1;HC&&Ac(new wv);var HE=a("l6qN"),ly="editor.action.inlineSuggest.commit",uy="editor.action.inlineSuggest.showPrevious",cy="editor.action.inlineSuggest.showNext",dy=a("cV9m"),UE=a("ml8V"),UC=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},zC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{orientation:0};return Object(k.a)(this,e),n=o.call(this),n.submenuActionViewItems=[],n.hasSecondaryActions=!1,n._onDidChangeDropdownVisibility=n._register(new rr.f),n.onDidChangeDropdownVisibility=n._onDidChangeDropdownVisibility.event,n.disposables=new Ze.c,n.options=r,n.lookupKeybindings=typeof n.options.getKeyBinding=="function",n.toggleMenuAction=n._register(new Vm(function(){var l;return(l=n.toggleMenuActionViewItem)===null||l===void 0?void 0:l.show()},r.toggleMenuTitle)),n.element=document.createElement("div"),n.element.className="monaco-toolbar",i.appendChild(n.element),n.actionBar=n._register(new hl.a(n.element,{orientation:r.orientation,ariaLabel:r.ariaLabel,actionRunner:r.actionRunner,allowContextMenu:r.allowContextMenu,actionViewItemProvider:function(c,h){var f;if(c.id===Vm.ID)return n.toggleMenuActionViewItem=new dy.a(c,c.menuActions,t,{actionViewItemProvider:n.options.actionViewItemProvider,actionRunner:n.actionRunner,keybindingProvider:n.options.getKeyBinding,classNames:oa.a.asClassNameArray((f=r.moreIcon)!==null&&f!==void 0?f:ta.a.toolBarMore),anchorAlignmentProvider:n.options.anchorAlignmentProvider,menuAsChild:!!n.options.renderDropdownAsChildElement}),n.toggleMenuActionViewItem.setActionContext(n.actionBar.context),n.disposables.add(n._onDidChangeDropdownVisibility.add(n.toggleMenuActionViewItem.onDidChangeVisibility)),n.toggleMenuActionViewItem;if(r.actionViewItemProvider){var R=r.actionViewItemProvider(c,h);if(R)return R}if(c instanceof Ba.e){var Z=new dy.a(c,c.actions,t,{actionViewItemProvider:n.options.actionViewItemProvider,actionRunner:n.actionRunner,keybindingProvider:n.options.getKeyBinding,classNames:c.class,anchorAlignmentProvider:n.options.anchorAlignmentProvider,menuAsChild:!!n.options.renderDropdownAsChildElement});return Z.setActionContext(n.actionBar.context),n.submenuActionViewItems.push(Z),n.disposables.add(n._onDidChangeDropdownVisibility.add(Z.onDidChangeVisibility)),Z}}})),n}return Object(w.a)(e,[{key:"actionRunner",get:function(){return this.actionBar.actionRunner},set:function(t){this.actionBar.actionRunner=t}},{key:"getElement",value:function(){return this.element}},{key:"getItemAction",value:function(t){return this.actionBar.getAction(t)}},{key:"setActions",value:function(t,n){var r=this;this.clear();var l=t?t.slice(0):[];this.hasSecondaryActions=!!(n&&n.length>0),this.hasSecondaryActions&&n&&(this.toggleMenuAction.menuActions=n.slice(0),l.push(this.toggleMenuAction)),l.forEach(function(c){r.actionBar.push(c,{icon:!0,label:!1,keybinding:r.getKeybindingLabel(c)})})}},{key:"getKeybindingLabel",value:function(t){var n,r,l=this.lookupKeybindings?(r=(n=this.options).getKeyBinding)===null||r===void 0?void 0:r.call(n,t):void 0;return Object(Yr.n)(l==null?void 0:l.getLabel())}},{key:"clear",value:function(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}},{key:"dispose",value:function(){this.clear(),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}}]),e}(Ze.a),Vm=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),t=t||Qe.b("moreActions","More Actions..."),n=o.call(this,e.ID,t,void 0,!0),n._menuActions=[],n.toggleDropdownMenu=i,n}return Object(w.a)(e,[{key:"run",value:function(){return UC(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:this.toggleDropdownMenu();case 1:case"end":return r.stop()}},t,this)}))}},{key:"menuActions",get:function(){return this._menuActions},set:function(t){this._menuActions=t}}]),e}(Ba.a);Vm.ID="toolbar.toggle.more";var KC=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Mv=function(s,o){return function(e,i){o(e,i,s)}},Hm=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h){var f;return Object(k.a)(this,e),f=o.call(this,i,l,Object.assign(Object.assign({getKeyBinding:function(Z){var ie;return(ie=c.lookupKeybinding(Z.id))!==null&&ie!==void 0?ie:void 0}},t),{allowContextMenu:!0})),f._options=t,f._menuService=n,f._contextKeyService=r,f._contextMenuService=l,f._sessionDisposables=f._store.add(new Ze.c),(t==null?void 0:t.telemetrySource)&&f._store.add(f.actionBar.onDidRun(function(R){return h.publicLog2("workbenchActionExecuted",{id:R.action.id,from:t.telemetrySource})})),f}return Object(w.a)(e,[{key:"setActions",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c,h,f;this._sessionDisposables.clear();var R=t.slice(),Z=r.slice(),ie=[],je=0,Ie=[],st=!1;if(((c=this._options)===null||c===void 0?void 0:c.hiddenItemStrategy)!==-1)for(var ft=0;ft<R.length;ft++){var kt=R[ft];!(kt instanceof kn.d)&&!(kt instanceof kn.f)||!kt.hideActions||(ie.push(kt.hideActions.toggle),kt.hideActions.toggle.checked&&je++,kt.hideActions.isHidden&&(st=!0,R[ft]=void 0,((h=this._options)===null||h===void 0?void 0:h.hiddenItemStrategy)!==0&&(Ie[ft]=kt)))}if(((f=this._options)===null||f===void 0?void 0:f.maxNumberOfItems)!==void 0)for(var $t=0,un=0;un<R.length;un++){var Yn=R[un];!Yn||++$t>=this._options.maxNumberOfItems&&(R[un]=void 0,Ie[un]=Yn)}Object(or.g)(R),Object(or.g)(Ie),Object(yi.a)(Object(vi.a)(e.prototype),"setActions",this).call(this,R,Ba.d.join(Ie,Z)),ie.length>0&&this._sessionDisposables.add(Object(Bt.addDisposableListener)(this.getElement(),"contextmenu",function(xn){var fi,Si,ji,Bi,Lr=n.getItemAction(xn.target);if(!!Lr){xn.preventDefault(),xn.stopPropagation();var gr=!1;if(je===1&&((fi=n._options)===null||fi===void 0?void 0:fi.hiddenItemStrategy)===0){gr=!0;for(var jr=0;jr<ie.length;jr++)if(ie[jr].checked){ie[jr]=Object(Ba.f)({id:Lr.id,label:Lr.label,checked:!0,enabled:!1,run:function(){}});break}}var $r;if(!gr&&(Lr instanceof kn.d||Lr instanceof kn.f)){if(!Lr.hideActions)return;$r=Lr.hideActions.hide}else $r=Object(Ba.f)({id:"label",label:Object(Qe.b)("hide","Hide"),enabled:!1,run:function(){}});var fa=Ba.d.join([$r],ie);((Si=n._options)===null||Si===void 0?void 0:Si.resetMenu)&&!l&&(l=[n._options.resetMenu]),st&&l&&(fa.push(new Ba.d),fa.push(Object(Ba.f)({id:"resetThisMenu",label:Object(Qe.b)("resetThisMenu","Reset Menu"),run:function(){return n._menuService.resetHiddenStates(l)}}))),n._contextMenuService.showContextMenu({getAnchor:function(){return xn},getActions:function(){return fa},menuId:(ji=n._options)===null||ji===void 0?void 0:ji.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},(Bi=n._options)===null||Bi===void 0?void 0:Bi.menuOptions),contextKeyService:n._contextKeyService})}}))}}]),e}(zC);Hm=KC([Mv(2,kn.b),Mv(3,Jn.b),Mv(4,Ms.a),Mv(5,Ii.a),Mv(6,vo.a)],Hm);var Um=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},uc=function(s,o){return function(e,i){o(e,i,s)}},zm=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r.editor=i,r.model=t,r.instantiationService=n,r.alwaysShowToolbar=Rd(r.editor.onDidChangeConfiguration,function(){return r.editor.getOption(60).showToolbar==="always"}),r.sessionPosition=void 0,r.position=Vu("position",function(l){var c,h,f,R=(c=r.model.read(l))===null||c===void 0?void 0:c.ghostText.read(l);if(!r.alwaysShowToolbar.read(l)||!R||R.parts.length===0)return r.sessionPosition=void 0,null;var Z=R.parts[0].column;r.sessionPosition&&r.sessionPosition.lineNumber!==R.lineNumber&&(r.sessionPosition=void 0);var ie=new tn.a(R.lineNumber,Math.min(Z,(f=(h=r.sessionPosition)===null||h===void 0?void 0:h.column)!==null&&f!==void 0?f:Number.MAX_SAFE_INTEGER));return r.sessionPosition=ie,ie}),r._register(PC("setup content widget",function(l,c){var h=r.model.read(l);if(!(!h||!r.alwaysShowToolbar.read(l))){var f=c.add(r.instantiationService.createInstance(Nd,r.editor,!0,r.position,h.selectedInlineCompletionIndex,h.inlineCompletionsCount,h.selectedInlineCompletion.map(function(R){var Z;return(Z=R==null?void 0:R.inlineCompletion.source.inlineCompletions.commands)!==null&&Z!==void 0?Z:[]})));i.addContentWidget(f),c.add(Object(Ze.l)(function(){return i.removeContentWidget(f)})),c.add(Fl("request explicit",function(R){var Z=r.position.read(R);!Z||h.lastTriggerKind.read(R)!==oo.g.Explicit&&h.triggerExplicitly()}))}})),r}return Object(w.a)(e)}(Ze.a);zm=Um([uc(2,Ia.a)],zm);var GC=Object(u.b)("inline-suggestion-hints-next",ta.a.chevronRight,Object(Qe.b)("parameterHintsNextIcon","Icon for show next parameter hint.")),$C=Object(u.b)("inline-suggestion-hints-previous",ta.a.chevronLeft,Object(Qe.b)("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),Nd=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h,f,R,Z,ie){var je;Object(k.a)(this,e),je=o.call(this),je.editor=i,je.withBorder=t,je._position=n,je._currentSuggestionIdx=r,je._suggestionCount=l,je._extraCommands=c,je._commandService=h,je.keybindingService=R,je._contextKeyService=Z,je._menuService=ie,je.id="InlineSuggestionHintsContentWidget".concat(e.id++),je.allowEditorOverflow=!0,je.suppressMouseDown=!1,je.nodes=Object(Bt.h)("div.inlineSuggestionsHints",{className:je.withBorder?".withBorder":""},[Object(Bt.h)("div",{style:{display:"flex"}},[Object(Bt.h)("div@actionBar",{className:"custom-actions"}),Object(Bt.h)("div@toolBar")])]),je.previousAction=je.createCommandAction(uy,Object(Qe.b)("previous","Previous"),oa.a.asClassName($C)),je.availableSuggestionCountAction=new Ba.a("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),je.nextAction=je.createCommandAction(cy,Object(Qe.b)("next","Next"),oa.a.asClassName(GC)),je.inlineCompletionsActionsMenus=je._register(je._menuService.createMenu(kn.c.InlineCompletionsActions,je._contextKeyService)),je.clearAvailableSuggestionCountLabelDebounced=je._register(new et.g(function(){je.availableSuggestionCountAction.label=""},100)),je.disableButtonsDebounced=je._register(new et.g(function(){je.previousAction.enabled=je.nextAction.enabled=!1},100)),je.lastCommands=[];var Ie=je._register(new hl.a(je.nodes.actionBar));return Ie.push(je.previousAction,{icon:!0,label:!1}),Ie.push(je.availableSuggestionCountAction),Ie.push(je.nextAction,{icon:!0,label:!1}),je.toolBar=je._register(f.createInstance(Km,je.nodes.toolBar,kn.c.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:function(ft){return ft.startsWith("primary")}},actionViewItemProvider:function(ft,kt){return ft instanceof kn.d?f.createInstance(QC,ft,void 0):void 0},telemetrySource:"InlineSuggestionToolbar"})),je._register(je.toolBar.onDidChangeDropdownVisibility(function(st){e._dropDownVisible=st})),je._register(Fl("update position",function(st){je._position.read(st),je.editor.layoutContentWidget(Object(pi.a)(je))})),je._register(Fl("counts",function(st){var ft=je._suggestionCount.read(st),kt=je._currentSuggestionIdx.read(st);ft!==void 0?(je.clearAvailableSuggestionCountLabelDebounced.cancel(),je.availableSuggestionCountAction.label="".concat(kt+1,"/").concat(ft)):je.clearAvailableSuggestionCountLabelDebounced.schedule(),ft!==void 0&&ft>1?(je.disableButtonsDebounced.cancel(),je.previousAction.enabled=je.nextAction.enabled=!0):je.disableButtonsDebounced.schedule()})),je._register(Fl("extra commands",function(st){var ft=je._extraCommands.read(st);if(!Object(or.j)(je.lastCommands,ft)){je.lastCommands=ft;var kt=ft.map(function(gr){return{class:void 0,id:gr.id,enabled:!0,tooltip:gr.tooltip||"",label:gr.title,run:function($r){return je._commandService.executeCommand(gr.id)}}}),$t=Object(B.a)(je.inlineCompletionsActionsMenus.getActions()),un;try{for($t.s();!(un=$t.n()).done;){var Yn=un.value,xn=Object(z.a)(Yn,2),fi=xn[0],Si=xn[1],ji=Object(B.a)(Si),Bi;try{for(ji.s();!(Bi=ji.n()).done;){var Lr=Bi.value;Lr instanceof kn.d&&kt.push(Lr)}}catch(gr){ji.e(gr)}finally{ji.f()}}}catch(gr){$t.e(gr)}finally{$t.f()}kt.length>0&&kt.unshift(new Ba.d),je.toolBar.setAdditionalSecondaryActions(kt)}})),je}return Object(w.a)(e,[{key:"createCommandAction",value:function(t,n,r){var l=this,c=new Ba.a(t,n,r,!0,function(){return l._commandService.executeCommand(t)}),h=this.keybindingService.lookupKeybinding(t,this._contextKeyService),f=n;return h&&(f=Object(Qe.b)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",n,h.getLabel())),c.tooltip=f,c}},{key:"getId",value:function(){return this.id}},{key:"getDomNode",value:function(){return this.nodes.root}},{key:"getPosition",value:function(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}}],[{key:"dropDownVisible",get:function(){return this._dropDownVisible}}]),e}(Ze.a);Nd._dropDownVisible=!1,Nd.id=0,Nd=Um([uc(6,ia.b),uc(7,Ia.a),uc(8,Ii.a),uc(9,Jn.b),uc(10,kn.b)],Nd);var QC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"updateLabel",value:function(){var t=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!t)return Object(yi.a)(Object(vi.a)(e.prototype),"updateLabel",this).call(this);if(this.label){var n=Object(Bt.h)("div.keybinding").root,r=new bc.a(n,Ut.a,Object.assign({disableTitle:!0},bc.b));r.set(t),this.label.textContent=this._action.label,this.label.appendChild(n),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}]),e}(tl.a),Km=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h,f){var R;return Object(k.a)(this,e),R=o.call(this,i,Object.assign({resetMenu:t},n),r,l,c,h,f),R.menuId=t,R.options2=n,R.menuService=r,R.contextKeyService=l,R.menu=R._store.add(R.menuService.createMenu(R.menuId,R.contextKeyService,{emitEventsForSubmenuChanges:!0})),R.additionalActions=[],R._store.add(R.menu.onDidChange(function(){return R.updateToolbar()})),R.updateToolbar(),R}return Object(w.a)(e,[{key:"updateToolbar",value:function(){var t,n,r,l,c,h,f,R=[],Z=[];Object(tl.c)(this.menu,(t=this.options2)===null||t===void 0?void 0:t.menuOptions,{primary:R,secondary:Z},(r=(n=this.options2)===null||n===void 0?void 0:n.toolbarOptions)===null||r===void 0?void 0:r.primaryGroup,(c=(l=this.options2)===null||l===void 0?void 0:l.toolbarOptions)===null||c===void 0?void 0:c.shouldInlineSubmenu,(f=(h=this.options2)===null||h===void 0?void 0:h.toolbarOptions)===null||f===void 0?void 0:f.useSeparatorsInPrimaryActions),Z.push.apply(Z,Object(Ai.a)(this.additionalActions)),this.setActions(R,Z)}},{key:"setAdditionalSecondaryActions",value:function(t){Object(or.j)(this.additionalActions,t,function(n,r){return n===r})||(this.additionalActions=t,this.updateToolbar())}}]),e}(Hm);Km=Um([uc(3,kn.b),uc(4,Jn.b),uc(5,Ms.a),uc(6,Ii.a),uc(7,vo.a)],Km);var zE=a("Up+r"),YC=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},jg=function(s,o){return function(e,i){o(e,i,s)}},ol=function(){function s(o,e,i,t,n){var r=this;Object(k.a)(this,s),this._editor=o,this._instantiationService=e,this._openerService=i,this._languageService=t,this._keybindingService=n,this._toUnhook=new Ze.c,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(function(l){l.hasChanged(58)&&(r._unhookEvents(),r._hookEvents())})}return Object(w.a)(s,[{key:"_hookEvents",value:function(){var e=this,i=function(){return e._hideWidgets()},t=this._editor.getOption(58);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(function(n){return e._onEditorMouseDown(n)})),this._toUnhook.add(this._editor.onMouseUp(function(n){return e._onEditorMouseUp(n)})),this._toUnhook.add(this._editor.onMouseMove(function(n){return e._onEditorMouseMove(n)})),this._toUnhook.add(this._editor.onKeyDown(function(n){return e._onKeyDown(n)}))):(this._toUnhook.add(this._editor.onMouseMove(function(n){return e._onEditorMouseMove(n)})),this._toUnhook.add(this._editor.onKeyDown(function(n){return e._onKeyDown(n)}))),this._toUnhook.add(this._editor.onMouseLeave(function(n){return e._onEditorMouseLeave(n)})),this._toUnhook.add(this._editor.onDidChangeModel(i)),this._toUnhook.add(this._editor.onDidScrollChange(function(n){return e._onEditorScrollChanged(n)}))}},{key:"_unhookEvents",value:function(){this._toUnhook.clear()}},{key:"_onEditorScrollChanged",value:function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}},{key:"_onEditorMouseDown",value:function(e){this._isMouseDown=!0;var i=e.target;if(i.type===9&&i.detail===cr.ID){this._hoverClicked=!0;return}i.type===12&&i.detail===Ho.ID||(i.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}},{key:"_onEditorMouseUp",value:function(e){this._isMouseDown=!1}},{key:"_onEditorMouseLeave",value:function(e){var i,t=e.event.browserEvent.relatedTarget;((i=this._contentWidget)===null||i===void 0?void 0:i.containsNode(t))||this._hideWidgets()}},{key:"_onEditorMouseMove",value:function(e){var i,t,n,r,l,c,h,f,R=e.target;if(!(this._isMouseDown&&this._hoverClicked)&&!(this._isHoverSticky&&R.type===9&&R.detail===cr.ID)&&!(this._isHoverSticky&&((i=this._contentWidget)===null||i===void 0?void 0:i.containsNode((t=e.event.browserEvent.view)===null||t===void 0?void 0:t.document.activeElement))&&!((r=(n=e.event.browserEvent.view)===null||n===void 0?void 0:n.getSelection())===null||r===void 0?void 0:r.isCollapsed))&&!(!this._isHoverSticky&&R.type===9&&R.detail===cr.ID&&((l=this._contentWidget)===null||l===void 0?void 0:l.isColorPickerVisible()))&&!(this._isHoverSticky&&R.type===12&&R.detail===Ho.ID)&&!(this._isHoverSticky&&((c=this._contentWidget)===null||c===void 0?void 0:c.isVisibleFromKeyboard()))){if(!this._isHoverEnabled){this._hideWidgets();return}var Z=this._getOrCreateContentWidget();if(Z.maybeShowAt(e)){(h=this._glyphWidget)===null||h===void 0||h.hide();return}if(R.type===2&&R.position){(f=this._contentWidget)===null||f===void 0||f.hide(),this._glyphWidget||(this._glyphWidget=new Ho(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(R.position.lineNumber);return}this._hideWidgets()}}},{key:"_onKeyDown",value:function(e){var i;if(!!this._editor.hasModel()){var t=this._keybindingService.softDispatch(e,this._editor.getDomNode()),n=t.kind===1||t.kind===2&&t.commandId==="editor.action.showHover"&&((i=this._contentWidget)===null||i===void 0?void 0:i.isVisible());e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&!n&&this._hideWidgets()}}},{key:"_hideWidgets",value:function(){var e,i,t;this._isMouseDown&&this._hoverClicked&&((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||Nd.dropDownVisible||(this._hoverClicked=!1,(i=this._glyphWidget)===null||i===void 0||i.hide(),(t=this._contentWidget)===null||t===void 0||t.hide())}},{key:"_getOrCreateContentWidget",value:function(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(Un,this._editor)),this._contentWidget}},{key:"isColorPickerVisible",value:function(){var e;return((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||!1}},{key:"showContentHover",value:function(e,i,t,n){this._getOrCreateContentWidget().startShowingAtRange(e,i,t,n)}},{key:"focus",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.focus()}},{key:"scrollUp",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollUp()}},{key:"scrollDown",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollDown()}},{key:"scrollLeft",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollLeft()}},{key:"scrollRight",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollRight()}},{key:"pageUp",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.pageUp()}},{key:"pageDown",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.pageDown()}},{key:"goToTop",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.goToTop()}},{key:"goToBottom",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.goToBottom()}},{key:"escape",value:function(){var e;(e=this._contentWidget)===null||e===void 0||e.escape()}},{key:"isHoverVisible",value:function(){var e;return(e=this._contentWidget)===null||e===void 0?void 0:e.isVisible()}},{key:"dispose",value:function(){var e,i;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(i=this._contentWidget)===null||i===void 0||i.dispose()}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();ol.ID="editor.contrib.hover",ol=YC([jg(1,Ia.a),jg(2,Ea.a),jg(3,br.a),jg(4,Ii.a)],ol);var ZC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.showHover",label:Qe.b({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse.","If the hover is already visible, it will take focus."]},"Show or Focus Hover"),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|39),weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=ol.get(n);if(!!l){var c=n.getPosition(),h=new Dt.a(c.lineNumber,c.column,c.lineNumber,c.column),f=n.getOption(2)===2||!!(r==null?void 0:r.focus);l.isHoverVisible()?l.focus():l.showContentHover(h,1,1,f)}}}}]),e}(St.b),XC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.showDefinitionPreviewHover",label:Qe.b({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=ol.get(n);if(!!r){var l=n.getPosition();if(!!l){var c=new Dt.a(l.lineNumber,l.column,l.lineNumber,l.column),h=oc.get(n);if(!!h){var f=h.startFindDefinitionFromCursor(l);f.then(function(){r.showContentHover(c,1,1,!0)})}}}}}]),e}(St.b),JC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.scrollUpHover",label:Qe.b({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:an.a.hoverFocused,kbOpts:{kbExpr:an.a.hoverFocused,primary:16,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=ol.get(n);!r||r.scrollUp()}}]),e}(St.b),qC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.scrollDownHover",label:Qe.b({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:an.a.hoverFocused,kbOpts:{kbExpr:an.a.hoverFocused,primary:18,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=ol.get(n);!r||r.scrollDown()}}]),e}(St.b),eO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.scrollLeftHover",label:Qe.b({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:an.a.hoverFocused,kbOpts:{kbExpr:an.a.hoverFocused,primary:15,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=ol.get(n);!r||r.scrollLeft()}}]),e}(St.b),tO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.scrollRightHover",label:Qe.b({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:an.a.hoverFocused,kbOpts:{kbExpr:an.a.hoverFocused,primary:17,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=ol.get(n);!r||r.scrollRight()}}]),e}(St.b),nO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.pageUpHover",label:Qe.b({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:an.a.hoverFocused,kbOpts:{kbExpr:an.a.hoverFocused,primary:11,secondary:[512|16],weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=ol.get(n);!r||r.pageUp()}}]),e}(St.b),iO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.pageDownHover",label:Qe.b({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:an.a.hoverFocused,kbOpts:{kbExpr:an.a.hoverFocused,primary:12,secondary:[512|18],weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=ol.get(n);!r||r.pageDown()}}]),e}(St.b),rO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.goToTopHover",label:Qe.b({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:an.a.hoverFocused,kbOpts:{kbExpr:an.a.hoverFocused,primary:14,secondary:[2048|16],weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=ol.get(n);!r||r.goToTop()}}]),e}(St.b),aO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.goToBottomHover",label:Qe.b({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:an.a.hoverFocused,kbOpts:{kbExpr:an.a.hoverFocused,primary:13,secondary:[2048|18],weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=ol.get(n);!r||r.goToBottom()}}]),e}(St.b),oO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.escapeFocusHover",label:Qe.b({key:"escapeFocusHover",comment:["Action that allows to escape from the hover widget with the escape command when the hover widget is focused."]},"Escape Focus Hover"),alias:"Escape Focus Hover",precondition:an.a.hoverFocused,kbOpts:{kbExpr:an.a.hoverFocused,primary:9,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=ol.get(n);!r||r.escape()}}]),e}(St.b);Object(St.m)(ol.ID,ol,2),Object(St.k)(ZC),Object(St.k)(XC),Object(St.k)(JC),Object(St.k)(qC),Object(St.k)(eO),Object(St.k)(tO),Object(St.k)(nO),Object(St.k)(iO),Object(St.k)(rO),Object(St.k)(aO),Object(St.k)(oO),zt.register(gs),zt.register(Cl),Object(Oi.e)(function(s,o){var e=s.getColor(Vt.R);e&&(o.addRule(".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(e.transparent(.5),"; }")),o.addRule(".monaco-editor .monaco-hover hr { border-top: 1px solid ".concat(e.transparent(.5),"; }")),o.addRule(".monaco-editor .monaco-hover hr { border-bottom: 0px solid ".concat(e.transparent(.5),"; }")))});var Gm=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t._editor=i,t._register(i.onMouseDown(function(n){return t.onMouseDown(n)})),t}return Object(w.a)(e,[{key:"dispose",value:function(){Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"onMouseDown",value:function(t){var n=t.target;if(n.type===6&&!!n.detail.injectedText&&n.detail.injectedText.options.attachedData===jc&&!!n.range){var r=this._editor.getContribution(ol.ID);if(!!r&&!r.isColorPickerVisible()){var l=new Dt.a(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);r.showContentHover(l,1,0,!1)}}}}]),e}(Ze.a);Gm.ID="editor.contrib.colorContribution",Object(St.m)(Gm.ID,Gm,2),zt.register(hi);var hy=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},cc=function(s,o){return function(e,i){o(e,i,s)}},fy=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},xd=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h){var f;return Object(k.a)(this,e),f=o.call(this),f._editor=i,f._modelService=n,f._keybindingService=r,f._instantiationService=l,f._languageFeatureService=c,f._languageConfigurationService=h,f._standaloneColorPickerWidget=null,f._standaloneColorPickerVisible=an.a.standaloneColorPickerVisible.bindTo(t),f._standaloneColorPickerFocused=an.a.standaloneColorPickerFocused.bindTo(t),f}return Object(w.a)(e,[{key:"showOrFocus",value:function(){var t;!this._editor.hasModel()||(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(t=this._standaloneColorPickerWidget)===null||t===void 0||t.focus():this._standaloneColorPickerWidget=new Eg(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}},{key:"hide",value:function(){var t;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(t=this._standaloneColorPickerWidget)===null||t===void 0||t.hide(),this._editor.focus()}},{key:"insertColor",value:function(){var t;(t=this._standaloneColorPickerWidget)===null||t===void 0||t.updateEditor(),this.hide()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);xd.ID="editor.contrib.standaloneColorPickerController",xd=hy([cc(1,Jn.b),cc(2,xa.a),cc(3,Ii.a),cc(4,Ia.a),cc(5,Nr.a),cc(6,Ro.a)],xd),Object(St.m)(xd.ID,xd,1);var vy=8,sO=22,Eg=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h,f){var R;Object(k.a)(this,e);var Z;R=o.call(this),R._editor=i,R._standaloneColorPickerVisible=t,R._standaloneColorPickerFocused=n,R._modelService=l,R._keybindingService=c,R._languageFeaturesService=h,R._languageConfigurationService=f,R.body=document.createElement("div"),R._position=void 0,R._colorHover=null,R._selectionSetInEditor=!1,R._onResult=R._register(new rr.b),R.onResult=R._onResult.event,R._standaloneColorPickerVisible.set(!0),R._standaloneColorPickerParticipant=r.createInstance(wi,R._editor),R._position=(Z=R._editor._getViewModel())===null||Z===void 0?void 0:Z.getPrimaryCursorState().viewState.position;var ie=R._editor.getSelection(),je=ie?{startLineNumber:ie.startLineNumber,startColumn:ie.startColumn,endLineNumber:ie.endLineNumber,endColumn:ie.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},Ie=R._register(Bt.trackFocus(R.body));return R._register(Ie.onDidBlur(function(st){R.hide()})),R._register(Ie.onDidFocus(function(st){R.focus()})),R._register(R._editor.onDidChangeCursorPosition(function(){R._selectionSetInEditor?R._selectionSetInEditor=!1:R.hide()})),R._register(R._editor.onMouseMove(function(st){var ft,kt=(ft=st.target.element)===null||ft===void 0?void 0:ft.classList;kt&&kt.contains("colorpicker-color-decoration")&&R.hide()})),R._register(R.onResult(function(st){R._render(st.value,st.foundInEditor)})),R._start(je),R._editor.addContentWidget(Object(pi.a)(R)),R}return Object(w.a)(e,[{key:"updateEditor",value:function(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}},{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this.body}},{key:"getPosition",value:function(){if(!this._position)return null;var t=this._editor.getOption(58).above;return{position:this._position,secondaryPosition:this._position,preference:t?[1,2]:[2,1],positionAffinity:2}}},{key:"hide",value:function(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}},{key:"focus",value:function(){this._standaloneColorPickerFocused.set(!0),this.body.focus()}},{key:"_start",value:function(t){return fy(this,void 0,void 0,Object(d.a)().mark(function n(){var r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._computeAsync(t);case 2:if(r=c.sent,r){c.next=5;break}return c.abrupt("return");case 5:this._onResult.fire(new lO(r.result,r.foundInEditor));case 6:case"end":return c.stop()}},n,this)}))}},{key:"_computeAsync",value:function(t){return fy(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this._editor.hasModel()){h.next=2;break}return h.abrupt("return",null);case 2:return r={range:t,color:{red:0,green:0,blue:0,alpha:1}},h.next=5,this._standaloneColorPickerParticipant.createColorHover(r,new ws(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);case 5:if(l=h.sent,l){h.next=8;break}return h.abrupt("return",null);case 8:return h.abrupt("return",{result:l.colorHover,foundInEditor:l.foundInEditor});case 9:case"end":return h.stop()}},n,this)}))}},{key:"_render",value:function(t,n){var r=this,l=document.createDocumentFragment(),c=this._register(new Zr(this._keybindingService)),h,f={fragment:l,statusBar:c,setColorPicker:function(un){return h=un},onContentsChanged:function(){},hide:function(){return r.hide()}};if(this._colorHover=t,this._register(this._standaloneColorPickerParticipant.renderHoverParts(f,[t])),h!==void 0){this.body.classList.add("standalone-colorpicker-body"),this.body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this.body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this.body.tabIndex=0,this.body.appendChild(l),h.layout();var R=h.body,Z=R.saturationBox.domNode.clientWidth,ie=R.domNode.clientWidth-Z-sO-vy,je=h.body.enterButton;je==null||je.onClicked(function(){r.updateEditor(),r.hide()});var Ie=h.header,st=Ie.pickedColorNode;st.style.width=Z+vy+"px";var ft=Ie.originalColorNode;ft.style.width=ie+"px";var kt=h.header.closeButton;kt==null||kt.onClicked(function(){r.hide()}),n&&(je&&(je.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(t.range)),this._editor.layoutContentWidget(this)}}}]),e}(Ze.a);Eg.ID="editor.contrib.standaloneColorPickerWidget",Eg=hy([cc(3,Ia.a),cc(4,xa.a),cc(5,Ii.a),cc(6,Nr.a),cc(7,Ro.a)],Eg);var lO=Object(w.a)(function s(o,e){Object(k.a)(this,s),this.value=o,this.foundInEditor=e}),uO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:Object(Qe.b)("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:Object(Qe.b)({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker"),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:kn.c.CommandPalette}]})}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n){var r;(r=xd.get(n))===null||r===void 0||r.showOrFocus()}}]),e}(St.c),cO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.hideColorPicker",label:Object(Qe.b)({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:an.a.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;(r=xd.get(n))===null||r===void 0||r.hide()}}]),e}(St.b),dO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.insertColorWithStandaloneColorPicker",label:Object(Qe.b)({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:an.a.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;(r=xd.get(n))===null||r===void 0||r.insertColor()}}]),e}(St.b);Object(St.k)(cO),Object(St.k)(dO),Object(kn.i)(uO);var es=a("0/Sa"),Tv=function(){function s(o,e,i){Object(k.a)(this,s),this.languageConfigurationService=i,this._selection=o,this._insertSpace=e,this._usedEndToken=null}return Object(w.a)(s,[{key:"_createOperationsForBlockComment",value:function(e,i,t,n,r,l){var c=e.startLineNumber,h=e.startColumn,f=e.endLineNumber,R=e.endColumn,Z=r.getLineContent(c),ie=r.getLineContent(f),je=Z.lastIndexOf(i,h-1+i.length),Ie=ie.indexOf(t,R-1-t.length);if(je!==-1&&Ie!==-1)if(c===f){var st=Z.substring(je+i.length,Ie);st.indexOf(t)>=0&&(je=-1,Ie=-1)}else{var ft=Z.substring(je+i.length),kt=ie.substring(0,Ie);(ft.indexOf(t)>=0||kt.indexOf(t)>=0)&&(je=-1,Ie=-1)}var $t;je!==-1&&Ie!==-1?(n&&je+i.length<Z.length&&Z.charCodeAt(je+i.length)===32&&(i=i+" "),n&&Ie>0&&ie.charCodeAt(Ie-1)===32&&(t=" "+t,Ie-=1),$t=s._createRemoveBlockCommentOperations(new Dt.a(c,je+i.length+1,f,Ie+1),i,t)):($t=s._createAddBlockCommentOperations(e,i,t,this._insertSpace),this._usedEndToken=$t.length===1?t:null);var un=Object(B.a)($t),Yn;try{for(un.s();!(Yn=un.n()).done;){var xn=Yn.value;l.addTrackedEditOperation(xn.range,xn.text)}}catch(fi){un.e(fi)}finally{un.f()}}},{key:"getEditOperations",value:function(e,i){var t=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenization.tokenizeIfCheap(t);var r=e.getLanguageIdAtPosition(t,n),l=this.languageConfigurationService.getLanguageConfiguration(r).comments;!l||!l.blockCommentStartToken||!l.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,l.blockCommentStartToken,l.blockCommentEndToken,this._insertSpace,e,i)}},{key:"computeCursorState",value:function(e,i){var t=i.getInverseEditOperations();if(t.length===2){var n=t[0],r=t[1];return new Gi.a(n.range.endLineNumber,n.range.endColumn,r.range.startLineNumber,r.range.startColumn)}else{var l=t[0].range,c=this._usedEndToken?-this._usedEndToken.length-1:0;return new Gi.a(l.endLineNumber,l.endColumn+c,l.endLineNumber,l.endColumn+c)}}}],[{key:"_haystackHasNeedleAtOffset",value:function(e,i,t){if(t<0)return!1;var n=i.length,r=e.length;if(t+n>r)return!1;for(var l=0;l<n;l++){var c=e.charCodeAt(t+l),h=i.charCodeAt(l);if(c!==h&&!(c>=65&&c<=90&&c+32===h)&&!(h>=65&&h<=90&&h+32===c))return!1}return!0}},{key:"_createRemoveBlockCommentOperations",value:function(e,i,t){var n=[];return Dt.a.isEmpty(e)?n.push(es.a.delete(new Dt.a(e.startLineNumber,e.startColumn-i.length,e.endLineNumber,e.endColumn+t.length))):(n.push(es.a.delete(new Dt.a(e.startLineNumber,e.startColumn-i.length,e.startLineNumber,e.startColumn))),n.push(es.a.delete(new Dt.a(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+t.length)))),n}},{key:"_createAddBlockCommentOperations",value:function(e,i,t,n){var r=[];return Dt.a.isEmpty(e)?r.push(es.a.replace(new Dt.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),i+"  "+t)):(r.push(es.a.insert(new tn.a(e.startLineNumber,e.startColumn),i+(n?" ":""))),r.push(es.a.insert(new tn.a(e.endLineNumber,e.endColumn),(n?" ":"")+t))),r}}]),s}(),hO=function(){function s(o,e,i,t,n,r,l){Object(k.a)(this,s),this.languageConfigurationService=o,this._selection=e,this._tabSize=i,this._type=t,this._insertSpace=n,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=l||!1}return Object(w.a)(s,[{key:"_executeLineComments",value:function(e,i,t,n){var r;t.shouldRemoveComments?r=s._createRemoveLineCommentsOperations(t.lines,n.startLineNumber):(s._normalizeInsertionPoint(e,t.lines,n.startLineNumber,this._tabSize),r=this._createAddLineCommentsOperations(t.lines,n.startLineNumber));for(var l=new tn.a(n.positionLineNumber,n.positionColumn),c=0,h=r.length;c<h;c++)if(i.addEditOperation(r[c].range,r[c].text),Dt.a.isEmpty(r[c].range)&&Dt.a.getStartPosition(r[c].range).equals(l)){var f=e.getLineContent(l.lineNumber);f.length+1===l.column&&(this._deltaColumn=(r[c].text||"").length)}this._selectionId=i.trackSelection(n)}},{key:"_attemptRemoveBlockComment",value:function(e,i,t,n){var r=i.startLineNumber,l=i.endLineNumber,c=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.startColumn),h=e.getLineContent(r).lastIndexOf(t,c-1),f=e.getLineContent(l).indexOf(n,i.endColumn-1-t.length);return h!==-1&&f===-1&&(f=e.getLineContent(r).indexOf(n,h+t.length),l=r),h===-1&&f!==-1&&(h=e.getLineContent(l).lastIndexOf(t,f),r=l),i.isEmpty()&&(h===-1||f===-1)&&(h=e.getLineContent(r).indexOf(t),h!==-1&&(f=e.getLineContent(r).indexOf(n,h+t.length))),h!==-1&&e.getLineContent(r).charCodeAt(h+t.length)===32&&(t+=" "),f!==-1&&e.getLineContent(l).charCodeAt(f-1)===32&&(n=" "+n,f-=1),h!==-1&&f!==-1?Tv._createRemoveBlockCommentOperations(new Dt.a(r,h+t.length+1,l,f+1),t,n):null}},{key:"_executeBlockComment",value:function(e,i,t){e.tokenization.tokenizeIfCheap(t.startLineNumber);var n=e.getLanguageIdAtPosition(t.startLineNumber,1),r=this.languageConfigurationService.getLanguageConfiguration(n).comments;if(!(!r||!r.blockCommentStartToken||!r.blockCommentEndToken)){var l=r.blockCommentStartToken,c=r.blockCommentEndToken,h=this._attemptRemoveBlockComment(e,t,l,c);if(!h){if(t.isEmpty()){var f=e.getLineContent(t.startLineNumber),R=Vn.u(f);R===-1&&(R=f.length),h=Tv._createAddBlockCommentOperations(new Dt.a(t.startLineNumber,R+1,t.startLineNumber,f.length+1),l,c,this._insertSpace)}else h=Tv._createAddBlockCommentOperations(new Dt.a(t.startLineNumber,e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.endLineNumber,e.getLineMaxColumn(t.endLineNumber)),l,c,this._insertSpace);h.length===1&&(this._deltaColumn=l.length+1)}this._selectionId=i.trackSelection(t);var Z=Object(B.a)(h),ie;try{for(Z.s();!(ie=Z.n()).done;){var je=ie.value;i.addEditOperation(je.range,je.text)}}catch(Ie){Z.e(Ie)}finally{Z.f()}}}},{key:"getEditOperations",value:function(e,i){var t=this._selection;if(this._moveEndPositionDown=!1,t.startLineNumber===t.endLineNumber&&this._ignoreFirstLine){i.addEditOperation(new Dt.a(t.startLineNumber,e.getLineMaxColumn(t.startLineNumber),t.startLineNumber+1,1),t.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=i.trackSelection(t);return}t.startLineNumber<t.endLineNumber&&t.endColumn===1&&(this._moveEndPositionDown=!0,t=t.setEndPosition(t.endLineNumber-1,e.getLineMaxColumn(t.endLineNumber-1)));var n=s._gatherPreflightData(this._type,this._insertSpace,e,t.startLineNumber,t.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return n.supported?this._executeLineComments(e,i,n,t):this._executeBlockComment(e,i,t)}},{key:"computeCursorState",value:function(e,i){var t=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(t=t.setEndPosition(t.endLineNumber+1,1)),new Gi.a(t.selectionStartLineNumber,t.selectionStartColumn+this._deltaColumn,t.positionLineNumber,t.positionColumn+this._deltaColumn)}},{key:"_createAddLineCommentsOperations",value:function(e,i){for(var t=[],n=this._insertSpace?" ":"",r=0,l=e.length;r<l;r++){var c=e[r];c.ignore||t.push(es.a.insert(new tn.a(i+r,c.commentStrOffset+1),c.commentStr+n))}return t}}],[{key:"_gatherPreflightCommentStrings",value:function(e,i,t,n){e.tokenization.tokenizeIfCheap(i);var r=e.getLanguageIdAtPosition(i,1),l=n.getLanguageConfiguration(r).comments,c=l?l.lineCommentToken:null;if(!c)return null;for(var h=[],f=0,R=t-i+1;f<R;f++)h[f]={ignore:!1,commentStr:c,commentStrOffset:0,commentStrLength:c.length};return h}},{key:"_analyzeLines",value:function(e,i,t,n,r,l,c,h){var f=!0,R;e===0?R=!0:e===1?R=!1:R=!0;for(var Z=0,ie=n.length;Z<ie;Z++){var je=n[Z],Ie=r+Z;if(Ie===r&&c){je.ignore=!0;continue}var st=t.getLineContent(Ie),ft=Vn.u(st);if(ft===-1){je.ignore=l,je.commentStrOffset=st.length;continue}if(f=!1,je.ignore=!1,je.commentStrOffset=ft,R&&!Tv._haystackHasNeedleAtOffset(st,je.commentStr,ft)&&(e===0?R=!1:e===1||(je.ignore=!0)),R&&i){var kt=ft+je.commentStrLength;kt<st.length&&st.charCodeAt(kt)===32&&(je.commentStrLength+=1)}}if(e===0&&f){R=!1;for(var $t=0,un=n.length;$t<un;$t++)n[$t].ignore=!1}return{supported:!0,shouldRemoveComments:R,lines:n}}},{key:"_gatherPreflightData",value:function(e,i,t,n,r,l,c,h){var f=s._gatherPreflightCommentStrings(t,n,r,h);return f===null?{supported:!1}:s._analyzeLines(e,i,t,f,n,l,c,h)}},{key:"_createRemoveLineCommentsOperations",value:function(e,i){for(var t=[],n=0,r=e.length;n<r;n++){var l=e[n];l.ignore||t.push(es.a.delete(new Dt.a(i+n,l.commentStrOffset+1,i+n,l.commentStrOffset+l.commentStrLength+1)))}return t}},{key:"nextVisibleColumn",value:function(e,i,t,n){return t?e+(i-e%i):e+n}},{key:"_normalizeInsertionPoint",value:function(e,i,t,n){for(var r=1073741824,l,c,h=0,f=i.length;h<f;h++)if(!i[h].ignore){for(var R=e.getLineContent(t+h),Z=0,ie=0,je=i[h].commentStrOffset;Z<r&&ie<je;ie++)Z=s.nextVisibleColumn(Z,n,R.charCodeAt(ie)===9,1);Z<r&&(r=Z)}r=Math.floor(r/n)*n;for(var Ie=0,st=i.length;Ie<st;Ie++)if(!i[Ie].ignore){var ft=e.getLineContent(t+Ie),kt=0;for(l=0,c=i[Ie].commentStrOffset;kt<r&&l<c;l++)kt=s.nextVisibleColumn(kt,n,ft.charCodeAt(l)===9,1);kt>r?i[Ie].commentStrOffset=l-1:i[Ie].commentStrOffset=l}}}]),s}(),$m=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this,t),n._type=i,n}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=t.get(Ro.a);if(!!n.hasModel()){var l=n.getModel(),c=[],h=l.getOptions(),f=n.getOption(21),R=n.getSelections().map(function(kt,$t){return{selection:kt,index:$t,ignoreFirstLine:!1}});R.sort(function(kt,$t){return Dt.a.compareRangesUsingStarts(kt.selection,$t.selection)});for(var Z=R[0],ie=1;ie<R.length;ie++){var je=R[ie];Z.selection.endLineNumber===je.selection.startLineNumber&&(Z.index<je.index?je.ignoreFirstLine=!0:(Z.ignoreFirstLine=!0,Z=je))}var Ie=Object(B.a)(R),st;try{for(Ie.s();!(st=Ie.n()).done;){var ft=st.value;c.push(new hO(r,ft.selection,h.tabSize,this._type,f.insertSpace,f.ignoreEmptyLines,ft.ignoreFirstLine))}}catch(kt){Ie.e(kt)}finally{Ie.f()}n.pushUndoStop(),n.executeCommands(this.id,c),n.pushUndoStop()}}}]),e}(St.b),fO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,0,{id:"editor.action.commentLine",label:Qe.b("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|90,weight:100},menuOpts:{menuId:kn.c.MenubarEditMenu,group:"5_insert",title:Qe.b({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}return Object(w.a)(e)}($m),vO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,1,{id:"editor.action.addCommentLine",label:Qe.b("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|33),weight:100}})}return Object(w.a)(e)}($m),gO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,2,{id:"editor.action.removeCommentLine",label:Qe.b("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|51),weight:100}})}return Object(w.a)(e)}($m),mO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.blockComment",label:Qe.b("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:kn.c.MenubarEditMenu,group:"5_insert",title:Qe.b({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=t.get(Ro.a);if(!!n.hasModel()){var l=n.getOption(21),c=[],h=n.getSelections(),f=Object(B.a)(h),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value;c.push(new Tv(Z,l.insertSpace,r))}}catch(ie){f.e(ie)}finally{f.f()}n.pushUndoStop(),n.executeCommands(this.id,c),n.pushUndoStop()}}}]),e}(St.b);Object(St.k)(fO),Object(St.k)(vO),Object(St.k)(gO),Object(St.k)(mO);var gy=a("7/Ik"),wu=a("EWX2"),pO=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Lh=function(s,o){return function(e,i){o(e,i,s)}},jf=function(){function s(o,e,i,t,n,r,l,c){var h=this;Object(k.a)(this,s),this._contextMenuService=e,this._contextViewService=i,this._contextKeyService=t,this._keybindingService=n,this._menuService=r,this._configurationService=l,this._workspaceContextService=c,this._toDispose=new Ze.c,this._contextMenuIsBeingShownCount=0,this._editor=o,this._toDispose.add(this._editor.onContextMenu(function(f){return h._onContextMenu(f)})),this._toDispose.add(this._editor.onMouseWheel(function(f){if(h._contextMenuIsBeingShownCount>0){var R=h._contextViewService.getContextViewElement(),Z=f.srcElement;Z.shadowRoot&&Bt.getShadowRoot(R)===Z.shadowRoot||h._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(function(f){!h._editor.getOption(22)||f.keyCode===58&&(f.preventDefault(),f.stopPropagation(),h.showContextMenu())}))}return Object(w.a)(s,[{key:"_onContextMenu",value:function(e){if(!!this._editor.hasModel()){if(!this._editor.getOption(22)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type!==12&&!(e.target.type===6&&e.target.detail.injectedText)){if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu({x:e.event.posx-1,width:2,y:e.event.posy-1,height:2});if(!(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)){if(this._editor.focus(),e.target.position){var i=!1,t=Object(B.a)(this._editor.getSelections()),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.containsPosition(e.target.position)){i=!0;break}}}catch(c){t.e(c)}finally{t.f()}i||this._editor.setPosition(e.target.position)}var l=null;e.target.type!==1&&(l={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(l)}}}}},{key:"showContextMenu",value:function(e){if(!!this._editor.getOption(22)&&!!this._editor.hasModel()){var i=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?kn.c.SimpleEditorContext:kn.c.EditorContext);i.length>0&&this._doShowContextMenu(i,e)}}},{key:"_getMenuActions",value:function(e,i){var t=[],n=this._menuService.createMenu(i,this._contextKeyService),r=n.getActions({arg:e.uri});n.dispose();var l=Object(B.a)(r),c;try{for(l.s();!(c=l.n()).done;){var h=c.value,f=Object(z.a)(h,2),R=f[1],Z=0,ie=Object(B.a)(R),je;try{for(ie.s();!(je=ie.n()).done;){var Ie=je.value;if(Ie instanceof kn.f){var st=this._getMenuActions(e,Ie.item.submenu);st.length>0&&(t.push(new Ba.e(Ie.id,Ie.label,st)),Z++)}else t.push(Ie),Z++}}catch(ft){ie.e(ft)}finally{ie.f()}Z&&t.push(new Ba.d)}}catch(ft){l.e(ft)}finally{l.f()}return t.length&&t.pop(),t}},{key:"_doShowContextMenu",value:function(e){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!!this._editor.hasModel()){var n=this._editor.getOption(58);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var r=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),l=Bt.getDomNodePagePosition(this._editor.getDomNode()),c=l.left+r.left,h=l.top+r.top+r.height;t={x:c,y:h}}var f=this._editor.getOption(123)&&!Ut.f;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:f?this._editor.getDomNode():void 0,getAnchor:function(){return t},getActions:function(){return e},getActionViewItem:function(Z){var ie=i._keybindingFor(Z);if(ie)return new gy.a(Z,Z,{label:!0,keybinding:ie.getLabel(),isMenu:!0});var je=Z;return typeof je.getActionViewItem=="function"?je.getActionViewItem():new gy.a(Z,Z,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(Z){return i._keybindingFor(Z)},onHide:function(Z){i._contextMenuIsBeingShownCount--,i._editor.updateOptions({hover:n})}})}}},{key:"_showScrollbarContextMenu",value:function(e){var i=this;if(!!this._editor.hasModel()&&!Object(wu.g)(this._workspaceContextService.getWorkspace())){var t=this._editor.getOption(70),n=0,r=function(Z){return{id:"menu-action-".concat(++n),label:Z.label,tooltip:"",class:void 0,enabled:typeof Z.enabled=="undefined"?!0:Z.enabled,checked:Z.checked,run:Z.run}},l=function(Z,ie){return new Ba.e("menu-action-".concat(++n),Z,ie,void 0)},c=function(Z,ie,je,Ie,st){if(!ie)return r({label:Z,enabled:ie,run:function(){}});var ft=function(fi){return function(){i._configurationService.updateValue(je,fi)}},kt=[],$t=Object(B.a)(st),un;try{for($t.s();!(un=$t.n()).done;){var Yn=un.value;kt.push(r({label:Yn.label,checked:Ie===Yn.value,run:ft(Yn.value)}))}}catch(xn){$t.e(xn)}finally{$t.f()}return l(Z,kt)},h=[];h.push(r({label:Qe.b("context.minimap.minimap","Minimap"),checked:t.enabled,run:function(){i._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),h.push(new Ba.d),h.push(r({label:Qe.b("context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:function(){i._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),h.push(c(Qe.b("context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:Qe.b("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:Qe.b("context.minimap.size.fill","Fill"),value:"fill"},{label:Qe.b("context.minimap.size.fit","Fit"),value:"fit"}])),h.push(c(Qe.b("context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:Qe.b("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:Qe.b("context.minimap.slider.always","Always"),value:"always"}]));var f=this._editor.getOption(123)&&!Ut.f;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:f?this._editor.getDomNode():void 0,getAnchor:function(){return e},getActions:function(){return h},onHide:function(Z){i._contextMenuIsBeingShownCount--,i._editor.focus()}})}}},{key:"_keybindingFor",value:function(e){return this._keybindingService.lookupKeybinding(e.id)}},{key:"dispose",value:function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();jf.ID="editor.contrib.contextmenu",jf=pO([Lh(1,Ms.a),Lh(2,Ms.b),Lh(3,Jn.b),Lh(4,Ii.a),Lh(5,kn.b),Lh(6,Po.a),Lh(7,wu.a)],jf);var bO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.showContextMenu",label:Qe.b("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:an.a.textInputFocus,primary:1024|68,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;(r=jf.get(n))===null||r===void 0||r.showContextMenu()}}]),e}(St.b);Object(St.m)(jf.ID,jf,2),Object(St.k)(bO);var Qm=function(){function s(o){Object(k.a)(this,s),this.selections=o}return Object(w.a)(s,[{key:"equals",value:function(e){var i=this.selections.length,t=e.selections.length;if(i!==t)return!1;for(var n=0;n<i;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0}}]),s}(),Ym=Object(w.a)(function s(o,e,i){Object(k.a)(this,s),this.cursorState=o,this.scrollTop=e,this.scrollLeft=i}),Iv=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t._editor=i,t._isCursorUndoRedo=!1,t._undoStack=[],t._redoStack=[],t._register(i.onDidChangeModel(function(n){t._undoStack=[],t._redoStack=[]})),t._register(i.onDidChangeModelContent(function(n){t._undoStack=[],t._redoStack=[]})),t._register(i.onDidChangeCursorSelection(function(n){if(!t._isCursorUndoRedo&&!!n.oldSelections&&n.oldModelVersionId===n.modelVersionId){var r=new Qm(n.oldSelections),l=t._undoStack.length>0&&t._undoStack[t._undoStack.length-1].cursorState.equals(r);l||(t._undoStack.push(new Ym(r,i.getScrollTop(),i.getScrollLeft())),t._redoStack=[],t._undoStack.length>50&&t._undoStack.shift())}})),t}return Object(w.a)(e,[{key:"cursorUndo",value:function(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new Ym(new Qm(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}},{key:"cursorRedo",value:function(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new Ym(new Qm(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}},{key:"_applyState",value:function(t){this._isCursorUndoRedo=!0,this._editor.setSelections(t.cursorState.selections),this._editor.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),this._isCursorUndoRedo=!1}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);Iv.ID="editor.contrib.cursorUndoRedoController";var yO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"cursorUndo",label:Qe.b("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:an.a.textInputFocus,primary:2048|51,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){var l;(l=Iv.get(n))===null||l===void 0||l.cursorUndo()}}]),e}(St.b),_O=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"cursorRedo",label:Qe.b("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){var l;(l=Iv.get(n))===null||l===void 0||l.cursorRedo()}}]),e}(St.b);Object(St.m)(Iv.ID,Iv,0),Object(St.k)(yO),Object(St.k)(_O);var KE=a("2zAJ"),CO=function(){function s(o,e,i){Object(k.a)(this,s),this.selection=o,this.targetPosition=e,this.copy=i,this.targetSelection=null}return Object(w.a)(s,[{key:"getEditOperations",value:function(e,i){var t=e.getValueInRange(this.selection);if(this.copy||i.addEditOperation(this.selection,null),i.addEditOperation(new Dt.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),t),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new Gi.a(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new Gi.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new Gi.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Gi.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Gi.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}},{key:"computeCursorState",value:function(e,i){return this.targetSelection}}]),s}();function Ef(s){return Ut.i?s.altKey:s.ctrlKey}var Pv=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t._editor=i,t._dndDecorationIds=t._editor.createDecorationsCollection(),t._register(t._editor.onMouseDown(function(n){return t._onEditorMouseDown(n)})),t._register(t._editor.onMouseUp(function(n){return t._onEditorMouseUp(n)})),t._register(t._editor.onMouseDrag(function(n){return t._onEditorMouseDrag(n)})),t._register(t._editor.onMouseDrop(function(n){return t._onEditorMouseDrop(n)})),t._register(t._editor.onMouseDropCanceled(function(){return t._onEditorMouseDropCanceled()})),t._register(t._editor.onKeyDown(function(n){return t.onEditorKeyDown(n)})),t._register(t._editor.onKeyUp(function(n){return t.onEditorKeyUp(n)})),t._register(t._editor.onDidBlurEditorWidget(function(){return t.onEditorBlur()})),t._register(t._editor.onDidBlurEditorText(function(){return t.onEditorBlur()})),t._mouseDown=!1,t._modifierPressed=!1,t._dragSelection=null,t}return Object(w.a)(e,[{key:"onEditorBlur",value:function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}},{key:"onEditorKeyDown",value:function(t){!this._editor.getOption(33)||this._editor.getOption(20)||(Ef(t)&&(this._modifierPressed=!0),this._mouseDown&&Ef(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}},{key:"onEditorKeyUp",value:function(t){!this._editor.getOption(33)||this._editor.getOption(20)||(Ef(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===e.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}},{key:"_onEditorMouseDown",value:function(t){this._mouseDown=!0}},{key:"_onEditorMouseUp",value:function(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}},{key:"_onEditorMouseDrag",value:function(t){var n=t.target;if(this._dragSelection===null){var r=this._editor.getSelections()||[],l=r.filter(function(c){return n.position&&c.containsPosition(n.position)});if(l.length===1)this._dragSelection=l[0];else return}Ef(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),n.position&&(this._dragSelection.containsPosition(n.position)?this._removeDecoration():this.showAt(n.position))}},{key:"_onEditorMouseDropCanceled",value:function(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}},{key:"_onEditorMouseDrop",value:function(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){var n=new tn.a(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){var r=null;if(t.event.shiftKey){var l=this._editor.getSelection();if(l){var c=l.selectionStartLineNumber,h=l.selectionStartColumn;r=[new Gi.a(c,h,n.lineNumber,n.column)]}}else r=(this._editor.getSelections()||[]).map(function(f){return f.containsPosition(n)?new Gi.a(n.lineNumber,n.column,n.lineNumber,n.column):f});this._editor.setSelections(r||[],"mouse",3)}else(!this._dragSelection.containsPosition(n)||(Ef(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(n)||this._dragSelection.getStartPosition().equals(n)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(e.ID,new CO(this._dragSelection,n,Ef(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}},{key:"showAt",value:function(t){this._dndDecorationIds.set([{range:new Dt.a(t.lineNumber,t.column,t.lineNumber,t.column),options:e._DECORATION_OPTIONS}]),this._editor.revealPosition(t,1)}},{key:"_removeDecoration",value:function(){this._dndDecorationIds.clear()}},{key:"_hitContent",value:function(t){return t.type===6||t.type===7}},{key:"_hitMargin",value:function(t){return t.type===2||t.type===3||t.type===4}},{key:"dispose",value:function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}}]),e}(Ze.a);Pv.ID="editor.contrib.dragAndDrop",Pv.TRIGGER_KEY_VALUE=Ut.i?6:5,Pv._DECORATION_OPTIONS=ti.b.register({description:"dnd-target",className:"dnd-target"}),Object(St.m)(Pv.ID,Pv,2);var Lg=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);var s;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?s=crypto.getRandomValues.bind(crypto):s=function(n){for(var r=0;r<n.length;r++)n[r]=Math.floor(Math.random()*256);return n};for(var o=new Uint8Array(16),e=[],i=0;i<256;i++)e.push(i.toString(16).padStart(2,"0"));return function(){s(o),o[6]=o[6]&15|64,o[8]=o[8]&63|128;var n=0,r="";return r+=e[o[n++]],r+=e[o[n++]],r+=e[o[n++]],r+=e[o[n++]],r+="-",r+=e[o[n++]],r+=e[o[n++]],r+="-",r+=e[o[n++]],r+=e[o[n++]],r+="-",r+=e[o[n++]],r+=e[o[n++]],r+="-",r+=e[o[n++]],r+=e[o[n++]],r+=e[o[n++]],r+=e[o[n++]],r+=e[o[n++]],r+=e[o[n++]],r}}(),my=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function Zm(s){var o=this;return{asString:function(){return my(o,void 0,void 0,Object(d.a)().mark(function i(){return Object(d.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",s);case 1:case"end":return n.stop()}},i)}))},asFile:function(){},value:typeof s=="string"?s:void 0}}function OO(s,o,e){var i=this,t={id:Lg(),name:s,uri:o,data:e};return{asString:function(){return my(i,void 0,void 0,Object(d.a)().mark(function r(){return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return","");case 1:case"end":return c.stop()}},r)}))},asFile:function(){return t},value:void 0}}var py=function(s){function o(){Object(k.a)(this,o),this._entries=new Map}return Object(w.a)(o,[{key:"size",get:function(){var i=0,t=Object(B.a)(this._entries),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;i++}}catch(l){t.e(l)}finally{t.f()}return i}},{key:"has",value:function(i){return this._entries.has(this.toKey(i))}},{key:"matches",value:function(i){var t=Object(Ai.a)(this._entries.keys());return yl.a.some(this,function(n){var r=Object(z.a)(n,2),l=r[0],c=r[1];return c.asFile()})&&t.push("files"),by(Mg(i),t)}},{key:"get",value:function(i){var t;return(t=this._entries.get(this.toKey(i)))===null||t===void 0?void 0:t[0]}},{key:"append",value:function(i,t){var n=this._entries.get(i);n?n.push(t):this._entries.set(this.toKey(i),[t])}},{key:"replace",value:function(i,t){this._entries.set(this.toKey(i),[t])}},{key:"delete",value:function(i){this._entries.delete(this.toKey(i))}},{key:s,value:Object(d.a)().mark(function e(){var i,t,n,r,l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:i=Object(B.a)(this._entries),ie.prev=1,i.s();case 3:if((t=i.n()).done){ie.next=27;break}n=t.value,r=Object(z.a)(n,2),l=r[0],c=r[1],h=Object(B.a)(c),ie.prev=9,h.s();case 11:if((f=h.n()).done){ie.next=17;break}return R=f.value,ie.next=15,[l,R];case 15:ie.next=11;break;case 17:ie.next=22;break;case 19:ie.prev=19,ie.t0=ie.catch(9),h.e(ie.t0);case 22:return ie.prev=22,h.f(),ie.finish(22);case 25:ie.next=3;break;case 27:ie.next=32;break;case 29:ie.prev=29,ie.t1=ie.catch(1),i.e(ie.t1);case 32:return ie.prev=32,i.f(),ie.finish(32);case 35:case"end":return ie.stop()}},e,this,[[1,29,32,35],[9,19,22,25]])})},{key:"toKey",value:function(i){return Mg(i)}}]),o}(Symbol.iterator);function Mg(s){return s.toLowerCase()}function SO(s,o){return by(Mg(s),o.map(Mg))}function by(s,o){if(s==="*/*")return o.length>0;if(o.includes(s))return!0;var e=s.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!e)return!1;var i=Object(z.a)(e,3),t=i[0],n=i[1],r=i[2];return r==="*"?o.some(function(l){return l.startsWith(n+"/")}):!1}var Tg=Object.freeze({create:function(o){return Object(or.i)(o.map(function(e){return e.toString()})).join(`\r
`)},split:function(o){return o.split(`\r
`)},parse:function(o){return Tg.split(o).filter(function(e){return!e.startsWith("#")})}}),Sl=a("ubTv"),Xm=a("ZQ78"),yy={EDITORS:"CodeEditors",FILES:"CodeFiles"},kO=Object(w.a)(function s(){Object(k.a)(this,s)}),DO={DragAndDropContribution:"workbench.contributions.dragAndDrop"};Fs.a.add(DO.DragAndDropContribution,new kO);var Jm=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"hasData",value:function(e){return e&&e===this.proto}},{key:"getData",value:function(e){if(this.hasData(e))return this.data}}],[{key:"getInstance",value:function(){return s.INSTANCE}}]),s}();Jm.INSTANCE=new Jm;var wO=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function _y(s){var o=new py,e=Object(B.a)(s.items),i;try{var t=function(){var r=i.value,l=r.type;if(r.kind==="string"){var c=new Promise(function(f){return r.getAsString(f)});o.append(l,Zm(c))}else if(r.kind==="file"){var h=r.getAsFile();h&&o.append(l,jO(h))}};for(e.s();!(i=e.n()).done;)t()}catch(n){e.e(n)}finally{e.f()}return o}function jO(s){var o=this,e=s.path?Wr.a.parse(s.path):void 0;return OO(s.name,e,function(){return wO(o,void 0,void 0,Object(d.a)().mark(function i(){return Object(d.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Uint8Array,n.next=3,s.arrayBuffer();case 3:return n.t1=n.sent,n.abrupt("return",new n.t0(n.t1));case 5:case"end":return n.stop()}},i)}))})}var EO=Object.freeze([yy.EDITORS,yy.FILES,Xm.a.RESOURCES,Xm.a.INTERNAL_URI_LIST]);function Cy(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=_y(s),i=e.get(Xm.a.INTERNAL_URI_LIST);if(i)e.replace(Sl.a.uriList,i);else if(o||!e.has(Sl.a.uriList)){var t=[],n=Object(B.a)(s.items),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=l.getAsFile();if(c){var h=c.path;try{h?t.push(Wr.a.file(h).toString()):t.push(Wr.a.parse(c.name,!0).toString())}catch(ie){}}}}catch(ie){n.e(ie)}finally{n.f()}t.length&&e.replace(Sl.a.uriList,Zm(Tg.create(t)))}var f=Object(B.a)(EO),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value;e.delete(Z)}}catch(ie){f.e(ie)}finally{f.f()}return e}function LO(s,o,e){var i,t;return{edits:[].concat(Object(Ai.a)(o.map(function(n){return new Ra.c(s,typeof e.insertText=="string"?{range:n,text:e.insertText,insertAsSnippet:!1}:{range:n,text:e.insertText.snippet,insertAsSnippet:!0})})),Object(Ai.a)((t=(i=e.additionalEdit)===null||i===void 0?void 0:i.edits)!==null&&t!==void 0?t:[]))}}var GE=a("wj68"),MO=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},TO=function(s,o){return function(e,i){o(e,i,s)}},IO=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},PO=ti.b.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:Vn.M,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}}),Oy=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l){var c;return Object(k.a)(this,e),c=o.call(this),c.typeId=i,c.editor=t,c.range=n,c.delegate=l,c.allowEditorOverflow=!1,c.suppressMouseDown=!0,c.create(r),c.editor.addContentWidget(Object(pi.a)(c)),c.editor.layoutContentWidget(Object(pi.a)(c)),c}return Object(w.a)(e,[{key:"create",value:function(t){var n,r=this;this.domNode=Bt.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=t;var l=Bt.$("span.icon");this.domNode.append(l),(n=l.classList).add.apply(n,Object(Ai.a)(oa.a.asClassNameArray(ta.a.loading)).concat(["codicon-modifier-spin"]));var c=function(){var f=r.editor.getOption(64);r.domNode.style.height="".concat(f,"px"),r.domNode.style.width="".concat(Math.ceil(.8*f),"px")};c(),this._register(this.editor.onDidChangeConfiguration(function(h){(h.hasChanged(50)||h.hasChanged(64))&&c()})),this._register(Bt.addDisposableListener(this.domNode,Bt.EventType.CLICK,function(h){r.delegate.cancel()}))}},{key:"getId",value:function(){return e.baseId+"."+this.typeId}},{key:"getDomNode",value:function(){return this.domNode}},{key:"getPosition",value:function(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}},{key:"dispose",value:function(){Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this),this.editor.removeContentWidget(this)}}]),e}(Ze.a);Oy.baseId="editor.widget.inlineProgressWidget";var Ig=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r.id=i,r._editor=t,r._instantiationService=n,r._showDelay=500,r._showPromise=r._register(new Ze.e),r._currentWidget=new Ze.e,r._operationIdPool=0,r._currentDecorations=t.createDecorationsCollection(),r}return Object(w.a)(e,[{key:"showWhile",value:function(t,n,r){return IO(this,void 0,void 0,Object(d.a)().mark(function l(){var c=this,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return h=this._operationIdPool++,this._currentOperation=h,this.clear(),this._showPromise.value=Object(et.l)(function(){var Z=Dt.a.fromPositions(t),ie=c._currentDecorations.set([{range:Z,options:PO}]);ie.length>0&&(c._currentWidget.value=c._instantiationService.createInstance(Oy,c.id,c._editor,Z,n,r))},this._showDelay),R.prev=4,R.next=7,r;case 7:return R.abrupt("return",R.sent);case 8:return R.prev=8,this._currentOperation===h&&(this.clear(),this._currentOperation=void 0),R.finish(8);case 11:case"end":return R.stop()}},l,this,[[4,,8,11]])}))}},{key:"clear",value:function(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}}]),e}(Ze.a);Ig=MO([TO(2,Ia.a)],Ig);var AO=a("+vFt"),$E=a("lVKV"),Sy=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Av=function(s,o){return function(e,i){o(e,i,s)}},ky=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Pg=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h,f,R,Z){var ie;return Object(k.a)(this,e),ie=o.call(this),ie.typeId=i,ie.editor=t,ie.showCommand=r,ie.range=l,ie.edits=c,ie.onSelectNewEdit=h,ie._contextMenuService=f,ie._keybindingService=Z,ie.allowEditorOverflow=!0,ie.suppressMouseDown=!0,ie.create(),ie.visibleContext=n.bindTo(R),ie.visibleContext.set(!0),ie._register(Object(Ze.l)(function(){return ie.visibleContext.reset()})),ie.editor.addContentWidget(Object(pi.a)(ie)),ie.editor.layoutContentWidget(Object(pi.a)(ie)),ie._register(Object(Ze.l)(function(){return ie.editor.removeContentWidget(Object(pi.a)(ie))})),ie._register(ie.editor.onDidChangeCursorPosition(function(je){l.containsPosition(je.position)||ie.dispose()})),ie._register(rr.c.runAndSubscribe(Z.onDidUpdateKeybindings,function(){ie._updateButtonTitle()})),ie}return Object(w.a)(e,[{key:"_updateButtonTitle",value:function(){var t,n=(t=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||t===void 0?void 0:t.getLabel();this.button.element.title=this.showCommand.label+(n?" (".concat(n,")"):"")}},{key:"create",value:function(){var t=this;this.domNode=Bt.$(".post-edit-widget"),this.button=this._register(new AO.a(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(Bt.addDisposableListener(this.domNode,Bt.EventType.CLICK,function(){return t.showSelector()}))}},{key:"getId",value:function(){return e.baseId+"."+this.typeId}},{key:"getDomNode",value:function(){return this.domNode}},{key:"getPosition",value:function(){return{position:this.range.getEndPosition(),preference:[2]}}},{key:"showSelector",value:function(){var t=this;this._contextMenuService.showContextMenu({getAnchor:function(){var r=Bt.getDomNodePagePosition(t.button.element);return{x:r.left+r.width,y:r.top+r.height}},getActions:function(){return t.edits.allEdits.map(function(r,l){return Object(Ba.f)({id:"",label:r.label,checked:l===t.edits.activeEditIndex,run:function(){if(l!==t.edits.activeEditIndex)return t.onSelectNewEdit(l)}})})}})}}]),e}(Ze.a);Pg.baseId="editor.widget.postEditWidget",Pg=Sy([Av(7,Ms.a),Av(8,Jn.b),Av(9,Ii.a)],Pg);var Ag=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c){var h;return Object(k.a)(this,e),h=o.call(this),h._id=i,h._editor=t,h._visibleContext=n,h._showCommand=r,h._instantiationService=l,h._bulkEditService=c,h._currentWidget=h._register(new Ze.e),h._register(rr.c.any(t.onDidChangeModel,t.onDidChangeModelContent)(function(){return h.clear()})),h}return Object(w.a)(e,[{key:"applyEditAndShowIfNeeded",value:function(t,n,r,l){var c,h;return ky(this,void 0,void 0,Object(d.a)().mark(function f(){var R=this,Z,ie,je,Ie,st,ft,kt;return Object(d.a)().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:if(Z=this._editor.getModel(),!(!Z||!t.length)){un.next=3;break}return un.abrupt("return");case 3:if(ie=n.allEdits[n.activeEditIndex],ie){un.next=6;break}return un.abrupt("return");case 6:return je={edits:[].concat(Object(Ai.a)(t.map(function(Yn){return new Ra.c(Z.uri,typeof ie.insertText=="string"?{range:Yn,text:ie.insertText,insertAsSnippet:!1}:{range:Yn,text:ie.insertText.snippet,insertAsSnippet:!0})})),Object(Ai.a)((h=(c=ie.additionalEdit)===null||c===void 0?void 0:c.edits)!==null&&h!==void 0?h:[]))},Ie=t[0],st=Z.deltaDecorations([],[{range:Ie,options:{description:"paste-line-suffix",stickiness:0}}]),un.prev=9,un.next=12,this._bulkEditService.apply(je,{editor:this._editor,token:l});case 12:ft=un.sent,kt=Z.getDecorationRange(st[0]);case 14:return un.prev=14,Z.deltaDecorations(st,[]),un.finish(14);case 17:r&&ft.isApplied&&n.allEdits.length>1&&this.show(kt!=null?kt:Ie,n,function(Yn){return ky(R,void 0,void 0,Object(d.a)().mark(function xn(){var fi;return Object(d.a)().wrap(function(ji){for(;;)switch(ji.prev=ji.next){case 0:if(fi=this._editor.getModel(),fi){ji.next=3;break}return ji.abrupt("return");case 3:return ji.next=5,fi.undo();case 5:this.applyEditAndShowIfNeeded(t,{activeEditIndex:Yn,allEdits:n.allEdits},r,l);case 6:case"end":return ji.stop()}},xn,this)}))});case 18:case"end":return un.stop()}},f,this,[[9,,14,17]])}))}},{key:"show",value:function(t,n,r){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(Pg,this._id,this._editor,this._visibleContext,this._showCommand,t,n,r))}},{key:"clear",value:function(){this._currentWidget.clear()}},{key:"tryShowSelector",value:function(){var t;(t=this._currentWidget.value)===null||t===void 0||t.showSelector()}}]),e}(Ze.a);Ag=Sy([Av(4,Ia.a),Av(5,Ra.a)],Ag);var RO=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Lf=function(s,o){return function(e,i){o(e,i,s)}},Fd=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Dy="editor.changePasteType",wy=new Jn.c("pasteWidgetVisible",!1,Object(Qe.b)("pasteWidgetVisible","Whether the paste widget is showing")),qm="application/vnd.code.copyMetadata",Mh=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h){var f;Object(k.a)(this,e),f=o.call(this),f._bulkEditService=n,f._clipboardService=r,f._languageFeaturesService=l,f._quickInputService=c,f._progressService=h,f._editor=i;var R=i.getContainerDomNode();return f._register(Object(Bt.addDisposableListener)(R,"copy",function(Z){return f.handleCopy(Z)})),f._register(Object(Bt.addDisposableListener)(R,"cut",function(Z){return f.handleCopy(Z)})),f._register(Object(Bt.addDisposableListener)(R,"paste",function(Z){return f.handlePaste(Z)},!0)),f._pasteProgressManager=f._register(new Ig("pasteIntoEditor",i,t)),f._postPasteWidgetManager=f._register(t.createInstance(Ag,"pasteIntoEditor",i,wy,{id:Dy,label:Object(Qe.b)("postPasteWidgetTitle","Show paste options...")})),f}return Object(w.a)(e,[{key:"changePasteType",value:function(){this._postPasteWidgetManager.tryShowSelector()}},{key:"pasteAs",value:function(t){this._editor.focus();try{this._pasteAsActionContext={preferredId:t},document.execCommand("paste")}finally{this._pasteAsActionContext=void 0}}},{key:"isPasteAsEnabled",value:function(){return this._editor.getOption(82).enabled&&!this._editor.getOption(88)}},{key:"handleCopy",value:function(t){var n=this,r,l;if(!(!t.clipboardData||!this._editor.hasTextFocus()||!this.isPasteAsEnabled())){var c=this._editor.getModel(),h=this._editor.getSelections();if(!(!c||!(h==null?void 0:h.length))){var f=this._editor.getOption(35),R=h,Z=h.length===1&&h[0].isEmpty();if(Z){if(!f)return;R=[new Dt.a(R[0].startLineNumber,1,R[0].startLineNumber,1+c.getLineLength(R[0].startLineNumber))]}var ie=(r=this._editor._getViewModel())===null||r===void 0?void 0:r.getPlainTextToCopy(h,f,Ut.o),je=Array.isArray(ie)?ie:null,Ie={multicursorText:je,pasteOnNewLine:Z,mode:null},st=this._languageFeaturesService.documentPasteEditProvider.ordered(c).filter(function(Yn){return!!Yn.prepareDocumentPaste});if(!st.length){this.setCopyMetadata(t.clipboardData,{defaultPastePayload:Ie});return}var ft=_y(t.clipboardData),kt=st.flatMap(function(Yn){var xn;return(xn=Yn.copyMimeTypes)!==null&&xn!==void 0?xn:[]}),$t=Lg();this.setCopyMetadata(t.clipboardData,{id:$t,providerCopyMimeTypes:kt,defaultPastePayload:Ie});var un=Object(et.k)(function(Yn){return Fd(n,void 0,void 0,Object(d.a)().mark(function xn(){var fi=this,Si,ji,Bi,Lr,gr,jr,$r,fa,Fr,Aa;return Object(d.a)().wrap(function(da){for(;;)switch(da.prev=da.next){case 0:return da.t0=or.f,da.next=3,Promise.all(st.map(function(lo){return Fd(fi,void 0,void 0,Object(d.a)().mark(function cs(){return Object(d.a)().wrap(function(Io){for(;;)switch(Io.prev=Io.next){case 0:return Io.prev=0,Io.next=3,lo.prepareDocumentPaste(c,R,ft,Yn);case 3:return Io.abrupt("return",Io.sent);case 6:return Io.prev=6,Io.t0=Io.catch(0),console.error(Io.t0),Io.abrupt("return",void 0);case 10:case"end":return Io.stop()}},cs,null,[[0,6]])}))}));case 3:da.t1=da.sent,Si=(0,da.t0)(da.t1),Si.reverse(),ji=Object(B.a)(Si);try{for(ji.s();!(Bi=ji.n()).done;){Lr=Bi.value,gr=Object(B.a)(Lr);try{for(gr.s();!(jr=gr.n()).done;)$r=jr.value,fa=Object(z.a)($r,2),Fr=fa[0],Aa=fa[1],ft.replace(Fr,Aa)}catch(lo){gr.e(lo)}finally{gr.f()}}}catch(lo){ji.e(lo)}finally{ji.f()}return da.abrupt("return",ft);case 9:case"end":return da.stop()}},xn)}))});(l=this._currentCopyOperation)===null||l===void 0||l.dataTransferPromise.cancel(),this._currentCopyOperation={handle:$t,dataTransferPromise:un}}}}},{key:"handlePaste",value:function(t){var n,r;return Fd(this,void 0,void 0,Object(d.a)().mark(function l(){var c,h,f,R,Z,ie;return Object(d.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(!(!t.clipboardData||!this._editor.hasTextFocus())){Ie.next=2;break}return Ie.abrupt("return");case 2:if((n=this._currentPasteOperation)===null||n===void 0||n.cancel(),this._currentPasteOperation=void 0,c=this._editor.getModel(),h=this._editor.getSelections(),!(!(h==null?void 0:h.length)||!c)){Ie.next=8;break}return Ie.abrupt("return");case 8:if(this.isPasteAsEnabled()){Ie.next=10;break}return Ie.abrupt("return");case 10:if(f=this.fetchCopyMetadata(t.clipboardData),R=Cy(t.clipboardData),R.delete(qm),Z=[].concat(Object(Ai.a)(t.clipboardData.types),Object(Ai.a)((r=f==null?void 0:f.providerCopyMimeTypes)!==null&&r!==void 0?r:[]),[Sl.a.uriList]),ie=this._languageFeaturesService.documentPasteEditProvider.ordered(c).filter(function(st){var ft;return(ft=st.pasteMimeTypes)===null||ft===void 0?void 0:ft.some(function(kt){return SO(kt,Z)})}),ie.length){Ie.next=17;break}return Ie.abrupt("return");case 17:t.preventDefault(),t.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,ie,h,R,f):this.doPasteInline(ie,h,R,f);case 20:case"end":return Ie.stop()}},l,this)}))}},{key:"doPasteInline",value:function(t,n,r,l){var c=this,h=Object(et.k)(function(f){return Fd(c,void 0,void 0,Object(d.a)().mark(function R(){var Z,ie,je,Ie,st,ft;return Object(d.a)().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(Z=this._editor,Z.hasModel()){$t.next=3;break}return $t.abrupt("return");case 3:return ie=Z.getModel(),je=new Qa.b(Z,1|2,void 0,f),$t.prev=5,$t.next=8,this.mergeInDataFromCopy(r,l,je.token);case 8:if(!je.token.isCancellationRequested){$t.next=10;break}return $t.abrupt("return");case 10:if(Ie=t.filter(function(un){return jy(un,r)}),!(!Ie.length||Ie.length===1&&Ie[0].id==="text")){$t.next=15;break}return $t.next=14,this.applyDefaultPasteHandler(r,l,je.token);case 14:return $t.abrupt("return");case 15:return $t.next=17,this.getPasteEdits(Ie,r,ie,n,je.token);case 17:if(st=$t.sent,!je.token.isCancellationRequested){$t.next=20;break}return $t.abrupt("return");case 20:if(!st.length){$t.next=23;break}return ft=Z.getOption(82).showPasteSelector==="afterPaste",$t.abrupt("return",this._postPasteWidgetManager.applyEditAndShowIfNeeded(n,{activeEditIndex:0,allEdits:st},ft,je.token));case 23:return $t.next=25,this.applyDefaultPasteHandler(r,l,je.token);case 25:return $t.prev=25,je.dispose(),this._currentPasteOperation===h&&(this._currentPasteOperation=void 0),$t.finish(25);case 29:case"end":return $t.stop()}},R,this,[[5,,25,29]])}))});this._pasteProgressManager.showWhile(n[0].getEndPosition(),Object(Qe.b)("pasteIntoEditorProgress","Running paste handlers. Click to cancel"),h),this._currentPasteOperation=h}},{key:"showPasteAsPick",value:function(t,n,r,l,c){var h=this,f=Object(et.k)(function(R){return Fd(h,void 0,void 0,Object(d.a)().mark(function Z(){var ie,je,Ie,st,ft,kt,$t,un;return Object(d.a)().wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:if(ie=this._editor,ie.hasModel()){xn.next=3;break}return xn.abrupt("return");case 3:return je=ie.getModel(),Ie=new Qa.b(ie,1|2,void 0,R),xn.prev=5,xn.next=8,this.mergeInDataFromCopy(l,c,Ie.token);case 8:if(!Ie.token.isCancellationRequested){xn.next=10;break}return xn.abrupt("return");case 10:return st=n.filter(function(fi){return jy(fi,l)}),xn.next=13,this.getPasteEdits(st,l,je,r,Ie.token);case 13:if(ft=xn.sent,!Ie.token.isCancellationRequested){xn.next=16;break}return xn.abrupt("return");case 16:if(ft.length){xn.next=18;break}return xn.abrupt("return");case 18:if(typeof t!="string"){xn.next=22;break}kt=ft.find(function(fi){return fi.id===t}),xn.next=26;break;case 22:return xn.next=24,this._quickInputService.pick(ft.map(function(fi){return{label:fi.label,description:fi.id,detail:fi.detail,edit:fi}}),{placeHolder:Object(Qe.b)("pasteAsPickerPlaceholder","Select Paste Action")});case 24:$t=xn.sent,kt=$t==null?void 0:$t.edit;case 26:if(kt){xn.next=28;break}return xn.abrupt("return");case 28:return un=LO(je.uri,r,kt),xn.next=31,this._bulkEditService.apply(un,{editor:this._editor});case 31:return xn.prev=31,Ie.dispose(),this._currentPasteOperation===f&&(this._currentPasteOperation=void 0),xn.finish(31);case 35:case"end":return xn.stop()}},Z,this,[[5,,31,35]])}))});this._progressService.withProgress({location:10,title:Object(Qe.b)("pasteAsProgress","Running paste handlers")},function(){return f})}},{key:"setCopyMetadata",value:function(t,n){t.setData(qm,JSON.stringify(n))}},{key:"fetchCopyMetadata",value:function(t){var n=t.getData(qm);if(n)try{return JSON.parse(n)}catch(r){return}}},{key:"mergeInDataFromCopy",value:function(t,n,r){var l;return Fd(this,void 0,void 0,Object(d.a)().mark(function c(){var h,f,R,Z,ie,je,Ie,st;return Object(d.a)().wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:if(!((n==null?void 0:n.id)&&((l=this._currentCopyOperation)===null||l===void 0?void 0:l.handle)===n.id)){kt.next=8;break}return kt.next=3,this._currentCopyOperation.dataTransferPromise;case 3:if(h=kt.sent,!r.isCancellationRequested){kt.next=6;break}return kt.abrupt("return");case 6:f=Object(B.a)(h);try{for(f.s();!(R=f.n()).done;)Z=R.value,ie=Object(z.a)(Z,2),je=ie[0],Ie=ie[1],t.replace(je,Ie)}catch($t){f.e($t)}finally{f.f()}case 8:if(t.has(Sl.a.uriList)){kt.next=15;break}return kt.next=11,this._clipboardService.readResources();case 11:if(st=kt.sent,!r.isCancellationRequested){kt.next=14;break}return kt.abrupt("return");case 14:st.length&&t.append(Sl.a.uriList,Zm(Tg.create(st)));case 15:case"end":return kt.stop()}},c,this)}))}},{key:"getPasteEdits",value:function(t,n,r,l,c){return Fd(this,void 0,void 0,Object(d.a)().mark(function h(){var f;return Object(d.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,Object(et.o)(Promise.all(t.map(function(ie){var je;try{return(je=ie.provideDocumentPasteEdits)===null||je===void 0?void 0:je.call(ie,r,l,n,c)}catch(Ie){console.error(Ie);return}})).then(or.f),c);case 2:return f=Z.sent,f==null||f.sort(function(ie,je){return je.priority-ie.priority}),Z.abrupt("return",f!=null?f:[]);case 5:case"end":return Z.stop()}},h)}))}},{key:"applyDefaultPasteHandler",value:function(t,n,r){var l,c,h;return Fd(this,void 0,void 0,Object(d.a)().mark(function f(){var R,Z,ie;return Object(d.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(R=(l=t.get(Sl.a.text))!==null&&l!==void 0?l:t.get("text"),R){Ie.next=3;break}return Ie.abrupt("return");case 3:return Ie.next=5,R.asString();case 5:if(Z=Ie.sent,!r.isCancellationRequested){Ie.next=8;break}return Ie.abrupt("return");case 8:ie={text:Z,pasteOnNewLine:(c=n==null?void 0:n.defaultPastePayload.pasteOnNewLine)!==null&&c!==void 0?c:!1,multicursorText:(h=n==null?void 0:n.defaultPastePayload.multicursorText)!==null&&h!==void 0?h:null,mode:null},this._editor.trigger("keyboard","paste",ie);case 10:case"end":return Ie.stop()}},f,this)}))}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);Mh.ID="editor.contrib.copyPasteActionController",Mh=RO([Lf(1,Ia.a),Lf(2,Ra.a),Lf(3,Wn.a),Lf(4,Nr.a),Lf(5,Vs.a),Lf(6,ro.b)],Mh);function jy(s,o){var e;return Boolean((e=s.pasteMimeTypes)===null||e===void 0?void 0:e.some(function(i){return o.matches(i)}))}var ep=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Rv=function(s,o){return function(e,i){o(e,i,s)}},Mf=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},tp=Object(Qe.b)("builtIn","Built-in"),np=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"provideDocumentPasteEdits",value:function(e,i,t,n){return Mf(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.getEdit(t,n);case 2:return l=h.sent,h.abrupt("return",l?{id:this.id,insertText:l.insertText,label:l.label,detail:l.detail,priority:l.priority}:void 0);case 4:case"end":return h.stop()}},r,this)}))}},{key:"provideDocumentOnDropEdits",value:function(e,i,t,n){return Mf(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.getEdit(t,n);case 2:return l=h.sent,h.abrupt("return",l?{id:this.id,insertText:l.insertText,label:l.label,priority:l.priority}:void 0);case 4:case"end":return h.stop()}},r,this)}))}}]),s}(),Ey=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.apply(this,arguments),i.id="text",i.dropMimeTypes=[Sl.a.text],i.pasteMimeTypes=[Sl.a.text],i}return Object(w.a)(e,[{key:"getEdit",value:function(t,n){return Mf(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(l=t.get(Sl.a.text),l){f.next=3;break}return f.abrupt("return");case 3:if(!t.has(Sl.a.uriList)){f.next=5;break}return f.abrupt("return");case 5:return f.next=7,l.asString();case 7:return c=f.sent,f.abrupt("return",{id:this.id,priority:0,label:Object(Qe.b)("text.label","Insert Plain Text"),detail:tp,insertText:c});case 9:case"end":return f.stop()}},r,this)}))}}]),e}(np),Ly=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.apply(this,arguments),i.id="uri",i.dropMimeTypes=[Sl.a.uriList],i.pasteMimeTypes=[Sl.a.uriList],i}return Object(w.a)(e,[{key:"getEdit",value:function(t,n){return Mf(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f;return Object(d.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,My(t);case 2:if(l=Z.sent,!(!l.length||n.isCancellationRequested)){Z.next=5;break}return Z.abrupt("return");case 5:return c=0,h=l.map(function(ie){var je=ie.uri,Ie=ie.originalText;return je.scheme===ql.c.file?je.fsPath:(c++,Ie)}).join(" "),c>0?f=l.length>1?Object(Qe.b)("defaultDropProvider.uriList.uris","Insert Uris"):Object(Qe.b)("defaultDropProvider.uriList.uri","Insert Uri"):f=l.length>1?Object(Qe.b)("defaultDropProvider.uriList.paths","Insert Paths"):Object(Qe.b)("defaultDropProvider.uriList.path","Insert Path"),Z.abrupt("return",{id:this.id,priority:0,insertText:h,label:f,detail:tp});case 9:case"end":return Z.stop()}},r,this)}))}}]),e}(np),Rg=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t._workspaceContextService=i,t.id="relativePath",t.dropMimeTypes=[Sl.a.uriList],t.pasteMimeTypes=[Sl.a.uriList],t}return Object(w.a)(e,[{key:"getEdit",value:function(t,n){return Mf(this,void 0,void 0,Object(d.a)().mark(function r(){var l=this,c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,My(t);case 2:if(c=R.sent,!(!c.length||n.isCancellationRequested)){R.next=5;break}return R.abrupt("return");case 5:if(h=Object(or.f)(c.map(function(Z){var ie=Z.uri,je=l._workspaceContextService.getWorkspaceFolder(ie);return je?Object(Za.k)(je.uri,ie):void 0})),h.length){R.next=8;break}return R.abrupt("return");case 8:return R.abrupt("return",{id:this.id,priority:0,insertText:h.join(" "),label:c.length>1?Object(Qe.b)("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):Object(Qe.b)("defaultDropProvider.uriList.relativePath","Insert Relative Path"),detail:tp});case 9:case"end":return R.stop()}},r,this)}))}}]),e}(np);Rg=ep([Rv(0,wu.a)],Rg);function My(s){return Mf(this,void 0,void 0,Object(d.a)().mark(function o(){var e,i,t,n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=s.get(Sl.a.uriList),e){h.next=3;break}return h.abrupt("return",[]);case 3:return h.next=5,e.asString();case 5:i=h.sent,t=[],n=Object(B.a)(Tg.parse(i));try{for(n.s();!(r=n.n()).done;){l=r.value;try{t.push({uri:Wr.a.parse(l),originalText:l})}catch(f){}}}catch(f){n.e(f)}finally{n.f()}return h.abrupt("return",t);case 10:case"end":return h.stop()}},o)}))}var ip=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n._register(i.documentOnDropEditProvider.register("*",new Ey)),n._register(i.documentOnDropEditProvider.register("*",new Ly)),n._register(i.documentOnDropEditProvider.register("*",new Rg(t))),n}return Object(w.a)(e)}(Ze.a);ip=ep([Rv(0,Nr.a),Rv(1,wu.a)],ip);var rp=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n._register(i.documentPasteEditProvider.register("*",new Ey)),n._register(i.documentPasteEditProvider.register("*",new Ly)),n._register(i.documentPasteEditProvider.register("*",new Rg(t))),n}return Object(w.a)(e)}(Ze.a);rp=ep([Rv(0,Nr.a),Rv(1,wu.a)],rp),Object(St.m)(Mh.ID,Mh,0),Object(gu.b)(rp),Object(St.l)(new(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:Dy,precondition:wy,kbOpts:{weight:100,primary:2048|89}})}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n,r){var l;return(l=Mh.get(n))===null||l===void 0?void 0:l.changePasteType()}}]),e}(St.d))),Object(St.k)(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.pasteAs",label:Qe.b("pasteAs","Paste As..."),alias:"Paste As...",precondition:void 0,description:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:Qe.b("pasteAs.id","The id of the paste edit to try applying. If not provided, the editor will show a picker.")}}}}]}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){var l,c=typeof(r==null?void 0:r.id)=="string"?r.id:void 0;return(l=Mh.get(n))===null||l===void 0?void 0:l.pasteAs(c)}}]),e}(St.b));var NO=function(){function s(){Object(k.a)(this,s),this._dragOperations=new Map}return Object(w.a)(s,[{key:"removeDragOperationTransfer",value:function(e){if(e&&this._dragOperations.has(e)){var i=this._dragOperations.get(e);return this._dragOperations.delete(e),i}}}]),s}(),Ty=Object(w.a)(function s(o){Object(k.a)(this,s),this.identifier=o}),Iy=Object(Ia.c)("treeViewsDndService");Object(Xs.b)(Iy,NO,1);var xO=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},ap=function(s,o){return function(e,i){o(e,i,s)}},Ng=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Py="editor.changeDropType",Ay=new Jn.c("dropWidgetVisible",!1,Object(Qe.b)("dropWidgetVisible","Whether the drop widget is showing")),Tf=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;return Object(k.a)(this,e),l=o.call(this),l._languageFeaturesService=n,l._treeViewsDragAndDropService=r,l.treeItemsTransfer=Jm.getInstance(),l._dropProgressManager=l._register(t.createInstance(Ig,"dropIntoEditor",i)),l._postDropWidgetManager=l._register(t.createInstance(Ag,"dropIntoEditor",i,Ay,{id:Py,label:Object(Qe.b)("postDropWidgetTitle","Show drop options...")})),l._register(i.onDropIntoEditor(function(c){return l.onDropIntoEditor(i,c.position,c.event)})),l}return Object(w.a)(e,[{key:"changeDropType",value:function(){this._postDropWidgetManager.tryShowSelector()}},{key:"onDropIntoEditor",value:function(t,n,r){var l;return Ng(this,void 0,void 0,Object(d.a)().mark(function c(){var h=this,f;return Object(d.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(!r.dataTransfer||!t.hasModel())){Z.next=2;break}return Z.abrupt("return");case 2:(l=this._currentOperation)===null||l===void 0||l.cancel(),t.focus(),t.setPosition(n),f=Object(et.k)(function(ie){return Ng(h,void 0,void 0,Object(d.a)().mark(function je(){var Ie,st,ft,kt,$t,un;return Object(d.a)().wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:return Ie=new Qa.b(t,1,void 0,ie),xn.prev=1,xn.next=4,this.extractDataTransferData(r);case 4:if(st=xn.sent,!(st.size===0||Ie.token.isCancellationRequested)){xn.next=7;break}return xn.abrupt("return");case 7:if(ft=t.getModel(),ft){xn.next=10;break}return xn.abrupt("return");case 10:return kt=this._languageFeaturesService.documentOnDropEditProvider.ordered(ft).filter(function(fi){return fi.dropMimeTypes?fi.dropMimeTypes.some(function(Si){return st.matches(Si)}):!0}),xn.next=13,this.getDropEdits(kt,ft,n,st,Ie);case 13:if($t=xn.sent,!Ie.token.isCancellationRequested){xn.next=16;break}return xn.abrupt("return");case 16:if(!$t.length){xn.next=20;break}return un=t.getOption(34).showDropSelector==="afterDrop",xn.next=20,this._postDropWidgetManager.applyEditAndShowIfNeeded([Dt.a.fromPositions(n)],{activeEditIndex:0,allEdits:$t},un,ie);case 20:return xn.prev=20,Ie.dispose(),this._currentOperation===f&&(this._currentOperation=void 0),xn.finish(20);case 24:case"end":return xn.stop()}},je,this,[[1,,20,24]])}))}),this._dropProgressManager.showWhile(n,Object(Qe.b)("dropIntoEditorProgress","Running drop handlers. Click to cancel"),f),this._currentOperation=f;case 8:case"end":return Z.stop()}},c,this)}))}},{key:"getDropEdits",value:function(t,n,r,l,c){return Ng(this,void 0,void 0,Object(d.a)().mark(function h(){var f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,Object(et.o)(Promise.all(t.map(function(je){return je.provideDocumentOnDropEdits(n,r,l,c.token)})),c.token);case 2:return f=ie.sent,R=Object(or.f)(f!=null?f:[]),R.sort(function(je,Ie){return Ie.priority-je.priority}),ie.abrupt("return",R);case 6:case"end":return ie.stop()}},h)}))}},{key:"extractDataTransferData",value:function(t){return Ng(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R,Z,ie,je,Ie,st,ft;return Object(d.a)().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(t.dataTransfer){$t.next=2;break}return $t.abrupt("return",new py);case 2:if(r=Cy(t.dataTransfer),!this.treeItemsTransfer.hasData(Ty.prototype)){$t.next=25;break}if(l=this.treeItemsTransfer.getData(Ty.prototype),!Array.isArray(l)){$t.next=25;break}c=Object(B.a)(l),$t.prev=7,c.s();case 9:if((h=c.n()).done){$t.next=17;break}return f=h.value,$t.next=13,this._treeViewsDragAndDropService.removeDragOperationTransfer(f.identifier);case 13:if(R=$t.sent,R){Z=Object(B.a)(R);try{for(Z.s();!(ie=Z.n()).done;)je=ie.value,Ie=Object(z.a)(je,2),st=Ie[0],ft=Ie[1],r.replace(st,ft)}catch(un){Z.e(un)}finally{Z.f()}}case 15:$t.next=9;break;case 17:$t.next=22;break;case 19:$t.prev=19,$t.t0=$t.catch(7),c.e($t.t0);case 22:return $t.prev=22,c.f(),$t.finish(22);case 25:return $t.abrupt("return",r);case 26:case"end":return $t.stop()}},n,this,[[7,19,22,25]])}))}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);Tf.ID="editor.contrib.dropIntoEditorController",Tf=xO([ap(1,Ia.a),ap(2,Nr.a),ap(3,Iy)],Tf),Object(St.m)(Tf.ID,Tf,2),Object(St.l)(new(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:Py,precondition:Ay,kbOpts:{weight:100,primary:2048|89}})}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n,r){var l;(l=Tf.get(n))===null||l===void 0||l.changeDropType()}}]),e}(St.d))),Object(gu.b)(ip);var Ry=a("3IFt"),FO=a("jAJ/"),Th=function(){function s(o){Object(k.a)(this,s),this._editor=o,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return Object(w.a)(s,[{key:"dispose",value:function(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}},{key:"reset",value:function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}},{key:"getCount",value:function(){return this._decorations.length}},{key:"getFindScope",value:function(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}},{key:"getFindScopes",value:function(){var e=this;if(this._findScopeDecorationIds.length){var i=this._findScopeDecorationIds.map(function(t){return e._editor.getModel().getDecorationRange(t)}).filter(function(t){return!!t});if(i.length)return i}return null}},{key:"getStartPosition",value:function(){return this._startPosition}},{key:"setStartPosition",value:function(e){this._startPosition=e,this.setCurrentFindMatch(null)}},{key:"_getDecorationIndex",value:function(e){var i=this._decorations.indexOf(e);return i>=0?i+1:1}},{key:"getDecorationRangeAt",value:function(e){var i=e<this._decorations.length?this._decorations[e]:null;return i?this._editor.getModel().getDecorationRange(i):null}},{key:"getCurrentMatchesPosition",value:function(e){var i=this._editor.getModel().getDecorationsInRange(e),t=Object(B.a)(i),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=r.options;if(l===s._FIND_MATCH_DECORATION||l===s._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(r.id)}}catch(c){t.e(c)}finally{t.f()}return 0}},{key:"setCurrentFindMatch",value:function(e){var i=this,t=null,n=0;if(e)for(var r=0,l=this._decorations.length;r<l;r++){var c=this._editor.getModel().getDecorationRange(this._decorations[r]);if(e.equalsRange(c)){t=this._decorations[r],n=r+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(function(h){if(i._highlightedDecorationId!==null&&(h.changeDecorationOptions(i._highlightedDecorationId,s._FIND_MATCH_DECORATION),i._highlightedDecorationId=null),t!==null&&(i._highlightedDecorationId=t,h.changeDecorationOptions(i._highlightedDecorationId,s._CURRENT_FIND_MATCH_DECORATION)),i._rangeHighlightDecorationId!==null&&(h.removeDecoration(i._rangeHighlightDecorationId),i._rangeHighlightDecorationId=null),t!==null){var f=i._editor.getModel().getDecorationRange(t);if(f.startLineNumber!==f.endLineNumber&&f.endColumn===1){var R=f.endLineNumber-1,Z=i._editor.getModel().getLineMaxColumn(R);f=new Dt.a(f.startLineNumber,f.startColumn,R,Z)}i._rangeHighlightDecorationId=h.addDecoration(f,s._RANGE_HIGHLIGHT_DECORATION)}}),n}},{key:"set",value:function(e,i){var t=this;this._editor.changeDecorations(function(n){var r=s._FIND_MATCH_DECORATION,l=[];if(e.length>1e3){r=s._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var c=t._editor.getModel().getLineCount(),h=t._editor.getLayoutInfo().height,f=h/c,R=Math.max(2,Math.ceil(3/f)),Z=e[0].range.startLineNumber,ie=e[0].range.endLineNumber,je=1,Ie=e.length;je<Ie;je++){var st=e[je].range;ie+R>=st.startLineNumber?st.endLineNumber>ie&&(ie=st.endLineNumber):(l.push({range:new Dt.a(Z,1,ie,1),options:s._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),Z=st.startLineNumber,ie=st.endLineNumber)}l.push({range:new Dt.a(Z,1,ie,1),options:s._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}for(var ft=new Array(e.length),kt=0,$t=e.length;kt<$t;kt++)ft[kt]={range:e[kt].range,options:r};t._decorations=n.deltaDecorations(t._decorations,ft),t._overviewRulerApproximateDecorations=n.deltaDecorations(t._overviewRulerApproximateDecorations,l),t._rangeHighlightDecorationId&&(n.removeDecoration(t._rangeHighlightDecorationId),t._rangeHighlightDecorationId=null),t._findScopeDecorationIds.length&&(t._findScopeDecorationIds.forEach(function(un){return n.removeDecoration(un)}),t._findScopeDecorationIds=[]),(i==null?void 0:i.length)&&(t._findScopeDecorationIds=i.map(function(un){return n.addDecoration(un,s._FIND_SCOPE_DECORATION)}))})}},{key:"matchBeforePosition",value:function(e){if(this._decorations.length===0)return null;for(var i=this._decorations.length-1;i>=0;i--){var t=this._decorations[i],n=this._editor.getModel().getDecorationRange(t);if(!(!n||n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}},{key:"matchAfterPosition",value:function(e){if(this._decorations.length===0)return null;for(var i=0,t=this._decorations.length;i<t;i++){var n=this._decorations[i],r=this._editor.getModel().getDecorationRange(n);if(!(!r||r.startLineNumber<e.lineNumber)){if(r.startLineNumber>e.lineNumber)return r;if(!(r.startColumn<e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[0])}},{key:"_allDecorations",value:function(){var e=[];if(e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length){var i;(i=e).push.apply(i,Object(Ai.a)(this._findScopeDecorationIds))}return this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}]),s}();Th._CURRENT_FIND_MATCH_DECORATION=ti.b.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Object(Oi.f)(Vt.rc),position:pn.f.Center},minimap:{color:Object(Oi.f)(Vt.lc),position:pn.e.Inline}}),Th._FIND_MATCH_DECORATION=ti.b.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Object(Oi.f)(Vt.rc),position:pn.f.Center},minimap:{color:Object(Oi.f)(Vt.lc),position:pn.e.Inline}}),Th._FIND_MATCH_NO_OVERVIEW_DECORATION=ti.b.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),Th._FIND_MATCH_ONLY_OVERVIEW_DECORATION=ti.b.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Object(Oi.f)(Vt.rc),position:pn.f.Center}}),Th._RANGE_HIGHLIGHT_DECORATION=ti.b.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),Th._FIND_SCOPE_DECORATION=ti.b.register({description:"find-scope",className:"findScope",isWholeLine:!0});var BO=function(){function s(o,e,i){Object(k.a)(this,s),this._editorSelection=o,this._ranges=e,this._replaceStrings=i,this._trackedEditorSelectionId=null}return Object(w.a)(s,[{key:"getEditOperations",value:function(e,i){if(this._ranges.length>0){for(var t=[],n=0;n<this._ranges.length;n++)t.push({range:this._ranges[n],text:this._replaceStrings[n]});t.sort(function(Z,ie){return Dt.a.compareRangesUsingStarts(Z.range,ie.range)});for(var r=[],l=t[0],c=1;c<t.length;c++)l.range.endLineNumber===t[c].range.startLineNumber&&l.range.endColumn===t[c].range.startColumn?(l.range=l.range.plusRange(t[c].range),l.text=l.text+t[c].text):(r.push(l),l=t[c]);r.push(l);for(var h=0,f=r;h<f.length;h++){var R=f[h];i.addEditOperation(R.range,R.text)}}this._trackedEditorSelectionId=i.trackSelection(this._editorSelection)}},{key:"computeCursorState",value:function(e,i){return i.getTrackedSelection(this._trackedEditorSelectionId)}}]),s}();function Ny(s,o){if(s&&s[0]!==""){var e=xy(s,o,"-"),i=xy(s,o,"_");return e&&!i?Fy(s,o,"-"):!e&&i?Fy(s,o,"_"):s[0].toUpperCase()===s[0]?o.toUpperCase():s[0].toLowerCase()===s[0]?o.toLowerCase():Vn.o(s[0][0])&&o.length>0?o[0].toUpperCase()+o.substr(1):s[0][0].toUpperCase()!==s[0][0]&&o.length>0?o[0].toLowerCase()+o.substr(1):o}else return o}function xy(s,o,e){var i=s[0].indexOf(e)!==-1&&o.indexOf(e)!==-1;return i&&s[0].split(e).length===o.split(e).length}function Fy(s,o,e){var i=o.split(e),t=s[0].split(e),n="";return i.forEach(function(r,l){n+=Ny([t[l]],r)+e}),n.slice(0,-1)}var By=Object(w.a)(function s(o){Object(k.a)(this,s),this.staticValue=o,this.kind=0}),WO=Object(w.a)(function s(o){Object(k.a)(this,s),this.pieces=o,this.kind=1}),op=function(){function s(o){Object(k.a)(this,s),!o||o.length===0?this._state=new By(""):o.length===1&&o[0].staticValue!==null?this._state=new By(o[0].staticValue):this._state=new WO(o)}return Object(w.a)(s,[{key:"hasReplacementPatterns",get:function(){return this._state.kind===1}},{key:"buildReplaceString",value:function(e,i){if(this._state.kind===0)return i?Ny(e,this._state.staticValue):this._state.staticValue;for(var t="",n=0,r=this._state.pieces.length;n<r;n++){var l=this._state.pieces[n];if(l.staticValue!==null){t+=l.staticValue;continue}var c=s._substitute(l.matchIndex,e);if(l.caseOps!==null&&l.caseOps.length>0){for(var h=[],f=l.caseOps.length,R=0,Z=0,ie=c.length;Z<ie;Z++){if(R>=f){h.push(c.slice(Z));break}switch(l.caseOps[R]){case"U":h.push(c[Z].toUpperCase());break;case"u":h.push(c[Z].toUpperCase()),R++;break;case"L":h.push(c[Z].toLowerCase());break;case"l":h.push(c[Z].toLowerCase()),R++;break;default:h.push(c[Z])}}c=h.join("")}t+=c}return t}}],[{key:"fromStaticValue",value:function(e){return new s([xg.staticValue(e)])}},{key:"_substitute",value:function(e,i){if(i===null)return"";if(e===0)return i[0];for(var t="";e>0;){if(e<i.length){var n=i[e]||"";return n+t}t=String(e%10)+t,e=Math.floor(e/10)}return"$"+t}}]),s}(),xg=function(){function s(o,e,i){Object(k.a)(this,s),this.staticValue=o,this.matchIndex=e,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}return Object(w.a)(s,null,[{key:"staticValue",value:function(e){return new s(e,-1,null)}},{key:"caseOps",value:function(e,i){return new s(null,e,i)}}]),s}(),VO=function(){function s(o){Object(k.a)(this,s),this._source=o,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return Object(w.a)(s,[{key:"emitUnchanged",value:function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}},{key:"emitStatic",value:function(e,i){this._emitStatic(e),this._lastCharIndex=i}},{key:"_emitStatic",value:function(e){e.length!==0&&(this._currentStaticPiece+=e)}},{key:"emitMatchIndex",value:function(e,i,t){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=xg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=xg.caseOps(e,t),this._lastCharIndex=i}},{key:"finalize",value:function(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=xg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new op(this._result)}}]),s}();function HO(s){if(!s||s.length===0)return new op(null);for(var o=[],e=new VO(s),i=0,t=s.length;i<t;i++){var n=s.charCodeAt(i);if(n===92){if(i++,i>=t)break;var r=s.charCodeAt(i);switch(r){case 92:e.emitUnchanged(i-1),e.emitStatic("\\",i+1);break;case 110:e.emitUnchanged(i-1),e.emitStatic(`
`,i+1);break;case 116:e.emitUnchanged(i-1),e.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:e.emitUnchanged(i-1),e.emitStatic("",i+1),o.push(String.fromCharCode(r));break}continue}if(n===36){if(i++,i>=t)break;var l=s.charCodeAt(i);if(l===36){e.emitUnchanged(i-1),e.emitStatic("$",i+1);continue}if(l===48||l===38){e.emitUnchanged(i-1),e.emitMatchIndex(0,i+1,o),o.length=0;continue}if(49<=l&&l<=57){var c=l-48;if(i+1<t){var h=s.charCodeAt(i+1);if(48<=h&&h<=57){i++,c=c*10+(h-48),e.emitUnchanged(i-2),e.emitMatchIndex(c,i+1,o),o.length=0;continue}}e.emitUnchanged(i-1),e.emitMatchIndex(c,i+1,o),o.length=0;continue}}}return e.finalize()}var ld=new Jn.c("findWidgetVisible",!1),QE=ld.toNegated(),Fg=new Jn.c("findInputFocussed",!1),sp=new Jn.c("replaceInputFocussed",!1),Bg={primary:512|33,mac:{primary:2048|512|33}},Wg={primary:512|53,mac:{primary:2048|512|53}},Vg={primary:512|48,mac:{primary:2048|512|48}},Hg={primary:512|42,mac:{primary:2048|512|42}},Ug={primary:512|46,mac:{primary:2048|512|46}},Do={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},Bd=19999,UO=240,zO=function(){function s(o,e){var i=this;Object(k.a)(this,s),this._toDispose=new Ze.c,this._editor=o,this._state=e,this._isDisposed=!1,this._startSearchingTimer=new et.i,this._decorations=new Th(o),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new et.g(function(){return i.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(function(t){(t.reason===3||t.reason===5||t.reason===6)&&i._decorations.setStartPosition(i._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(function(t){i._ignoreModelContentChanged||(t.isFlush&&i._decorations.reset(),i._decorations.setStartPosition(i._editor.getPosition()),i._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(function(t){return i._onStateChanged(t)})),this.research(!1,this._state.searchScope)}return Object(w.a)(s,[{key:"dispose",value:function(){this._isDisposed=!0,Object(Ze.i)(this._startSearchingTimer),this._toDispose.dispose()}},{key:"_onStateChanged",value:function(e){var i=this;if(!this._isDisposed&&!!this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){var t=this._editor.getModel();t.isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(function(){e.searchScope?i.research(e.moveCursor,i._state.searchScope):i.research(e.moveCursor)},UO)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}}},{key:"research",value:function(e,i){var t=this,n=null;typeof i!="undefined"?i!==null&&(Array.isArray(i)?n=i:n=[i]):n=this._decorations.getFindScopes(),n!==null&&(n=n.map(function(f){if(f.startLineNumber!==f.endLineNumber){var R=f.endLineNumber;return f.endColumn===1&&(R=R-1),new Dt.a(f.startLineNumber,1,R,t._editor.getModel().getLineMaxColumn(R))}return f}));var r=this._findMatches(n,!1,Bd);this._decorations.set(r,n);var l=this._editor.getSelection(),c=this._decorations.getCurrentMatchesPosition(l);if(c===0&&r.length>0){var h=Object(or.k)(r.map(function(f){return f.range}),function(f){return Dt.a.compareRangesUsingStarts(f,l)>=0});c=h>0?h-1+1:c}this._state.changeMatchInfo(c,this._decorations.getCount(),void 0),e&&this._editor.getOption(39).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}},{key:"_hasMatches",value:function(){return this._state.matchesCount>0}},{key:"_cannotFind",value:function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}},{key:"_setCurrentFindMatch",value:function(e){var i=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(i,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}},{key:"_prevSearchPosition",value:function(e){var i=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),t=e.lineNumber,n=e.column,r=this._editor.getModel();return i||n===1?(t===1?t=r.getLineCount():t--,n=r.getLineMaxColumn(t)):n--,new tn.a(t,n)}},{key:"_moveToPrevMatch",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this._state.canNavigateBack()){var t=this._decorations.matchAfterPosition(e);t&&this._setCurrentFindMatch(t);return}if(this._decorations.getCount()<Bd){var n=this._decorations.matchBeforePosition(e);n&&n.isEmpty()&&n.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),n=this._decorations.matchBeforePosition(e)),n&&this._setCurrentFindMatch(n);return}if(!this._cannotFind()){var r=this._decorations.getFindScope(),l=s._getSearchRange(this._editor.getModel(),r);l.getEndPosition().isBefore(e)&&(e=l.getEndPosition()),e.isBefore(l.getStartPosition())&&(e=l.getEndPosition());var c=e,h=c.lineNumber,f=c.column,R=this._editor.getModel(),Z=new tn.a(h,f),ie=R.findPreviousMatch(this._state.searchString,Z,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,!1);if(ie&&ie.range.isEmpty()&&ie.range.getStartPosition().equals(Z)&&(Z=this._prevSearchPosition(Z),ie=R.findPreviousMatch(this._state.searchString,Z,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,!1)),!!ie){if(!i&&!l.containsRange(ie.range))return this._moveToPrevMatch(ie.range.getStartPosition(),!0);this._setCurrentFindMatch(ie.range)}}}},{key:"moveToPrevMatch",value:function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}},{key:"_nextSearchPosition",value:function(e){var i=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),t=e.lineNumber,n=e.column,r=this._editor.getModel();return i||n===r.getLineMaxColumn(t)?(t===r.getLineCount()?t=1:t++,n=1):n++,new tn.a(t,n)}},{key:"_moveToNextMatch",value:function(e){if(!this._state.canNavigateForward()){var i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<Bd){var t=this._decorations.matchAfterPosition(e);t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),t&&this._setCurrentFindMatch(t);return}var n=this._getNextMatch(e,!1,!0);n&&this._setCurrentFindMatch(n.range)}},{key:"_getNextMatch",value:function(e,i,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this._cannotFind())return null;var r=this._decorations.getFindScope(),l=s._getSearchRange(this._editor.getModel(),r);l.getEndPosition().isBefore(e)&&(e=l.getStartPosition()),e.isBefore(l.getStartPosition())&&(e=l.getStartPosition());var c=e,h=c.lineNumber,f=c.column,R=this._editor.getModel(),Z=new tn.a(h,f),ie=R.findNextMatch(this._state.searchString,Z,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,i);return t&&ie&&ie.range.isEmpty()&&ie.range.getStartPosition().equals(Z)&&(Z=this._nextSearchPosition(Z),ie=R.findNextMatch(this._state.searchString,Z,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,i)),ie?!n&&!l.containsRange(ie.range)?this._getNextMatch(ie.range.getEndPosition(),i,t,!0):ie:null}},{key:"moveToNextMatch",value:function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}},{key:"_moveToMatch",value:function(e){var i=this._decorations.getDecorationRangeAt(e);i&&this._setCurrentFindMatch(i)}},{key:"moveToMatch",value:function(e){this._moveToMatch(e)}},{key:"_getReplacePattern",value:function(){return this._state.isRegex?HO(this._state.replaceString):op.fromStaticValue(this._state.replaceString)}},{key:"replace",value:function(){if(!!this._hasMatches()){var e=this._getReplacePattern(),i=this._editor.getSelection(),t=this._getNextMatch(i.getStartPosition(),!0,!1);if(t)if(i.equalsRange(t.range)){var n=e.buildReplaceString(t.matches,this._state.preserveCase),r=new ut.a(i,n);this._executeEditorCommand("replace",r),this._decorations.setStartPosition(new tn.a(i.startLineNumber,i.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(t.range)}}},{key:"_findMatches",value:function(e,i,t){var n=this,r=(e||[null]).map(function(l){return s._getSearchRange(n._editor.getModel(),l)});return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null,i,t)}},{key:"replaceAll",value:function(){if(!!this._hasMatches()){var e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=Bd?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}}},{key:"_largeReplaceAll",value:function(){var e=new FO.a(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(126):null),i=e.parseSearchRequest();if(!!i){var t=i.regex;if(!t.multiline){var n="mu";t.ignoreCase&&(n+="i"),t.global&&(n+="g"),t=new RegExp(t.source,n)}var r=this._editor.getModel(),l=r.getValue(1),c=r.getFullModelRange(),h=this._getReplacePattern(),f,R=this._state.preserveCase;h.hasReplacementPatterns||R?f=l.replace(t,function(){return h.buildReplaceString(arguments,R)}):f=l.replace(t,h.buildReplaceString(null,R));var Z=new ut.b(c,f,this._editor.getSelection());this._executeEditorCommand("replaceAll",Z)}}},{key:"_regularReplaceAll",value:function(e){for(var i=this._getReplacePattern(),t=this._findMatches(e,i.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[],r=0,l=t.length;r<l;r++)n[r]=i.buildReplaceString(t[r].matches,this._state.preserveCase);var c=new BO(this._editor.getSelection(),t.map(function(h){return h.range}),n);this._executeEditorCommand("replaceAll",c)}},{key:"selectAllMatches",value:function(){if(!!this._hasMatches()){for(var e=this._decorations.getFindScopes(),i=this._findMatches(e,!1,1073741824),t=i.map(function(h){return new Gi.a(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)}),n=this._editor.getSelection(),r=0,l=t.length;r<l;r++){var c=t[r];if(c.equalsRange(n)){t=[n].concat(t.slice(0,r)).concat(t.slice(r+1));break}}this._editor.setSelections(t)}}},{key:"_executeEditorCommand",value:function(e,i){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,i),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}],[{key:"_getSearchRange",value:function(e,i){return i||e.getFullModelRange()}}]),s}(),YE=a("KWsz"),lp=a("bZhu"),Wy=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;Object(k.a)(this,e),r=o.call(this),r._hideSoon=r._register(new et.g(function(){return r._hide()},2e3)),r._isVisible=!1,r._editor=i,r._state=t,r._keybindingService=n,r._domNode=document.createElement("div"),r._domNode.className="findOptionsWidget",r._domNode.style.display="none",r._domNode.style.top="10px",r._domNode.style.zIndex="12",r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true");var l={inputActiveOptionBorder:Object(Vt.c)(Vt.pb),inputActiveOptionForeground:Object(Vt.c)(Vt.qb),inputActiveOptionBackground:Object(Vt.c)(Vt.ob)};return r.caseSensitive=r._register(new lp.a(Object.assign({appendTitle:r._keybindingLabelFor(Do.ToggleCaseSensitiveCommand),isChecked:r._state.matchCase},l))),r._domNode.appendChild(r.caseSensitive.domNode),r._register(r.caseSensitive.onChange(function(){r._state.change({matchCase:r.caseSensitive.checked},!1)})),r.wholeWords=r._register(new lp.c(Object.assign({appendTitle:r._keybindingLabelFor(Do.ToggleWholeWordCommand),isChecked:r._state.wholeWord},l))),r._domNode.appendChild(r.wholeWords.domNode),r._register(r.wholeWords.onChange(function(){r._state.change({wholeWord:r.wholeWords.checked},!1)})),r.regex=r._register(new lp.b(Object.assign({appendTitle:r._keybindingLabelFor(Do.ToggleRegexCommand),isChecked:r._state.isRegex},l))),r._domNode.appendChild(r.regex.domNode),r._register(r.regex.onChange(function(){r._state.change({isRegex:r.regex.checked},!1)})),r._editor.addOverlayWidget(Object(pi.a)(r)),r._register(r._state.onFindReplaceStateChange(function(c){var h=!1;c.isRegex&&(r.regex.checked=r._state.isRegex,h=!0),c.wholeWord&&(r.wholeWords.checked=r._state.wholeWord,h=!0),c.matchCase&&(r.caseSensitive.checked=r._state.matchCase,h=!0),!r._state.isRevealed&&h&&r._revealTemporarily()})),r._register(Bt.addDisposableListener(r._domNode,Bt.EventType.MOUSE_LEAVE,function(c){return r._onMouseLeave()})),r._register(Bt.addDisposableListener(r._domNode,"mouseover",function(c){return r._onMouseOver()})),r}return Object(w.a)(e,[{key:"_keybindingLabelFor",value:function(t){var n=this._keybindingService.lookupKeybinding(t);return n?" (".concat(n.getLabel(),")"):""}},{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{preference:0}}},{key:"highlightFindOptions",value:function(){this._revealTemporarily()}},{key:"_revealTemporarily",value:function(){this._show(),this._hideSoon.schedule()}},{key:"_onMouseLeave",value:function(){this._hideSoon.schedule()}},{key:"_onMouseOver",value:function(){this._hideSoon.cancel()}},{key:"_show",value:function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}},{key:"_hide",value:function(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}}]),e}(v.a);Wy.ID="editor.contrib.findOptionsWidget";function zg(s,o){return s===1?!0:s===2?!1:o}var KO=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this),i._onFindReplaceStateChange=i._register(new rr.b),i.onFindReplaceStateChange=i._onFindReplaceStateChange.event,i._searchString="",i._replaceString="",i._isRevealed=!1,i._isReplaceRevealed=!1,i._isRegex=!1,i._isRegexOverride=0,i._wholeWord=!1,i._wholeWordOverride=0,i._matchCase=!1,i._matchCaseOverride=0,i._preserveCase=!1,i._preserveCaseOverride=0,i._searchScope=null,i._matchesPosition=0,i._matchesCount=0,i._currentMatch=null,i._loop=!0,i._isSearching=!1,i._filters=null,i}return Object(w.a)(e,[{key:"searchString",get:function(){return this._searchString}},{key:"replaceString",get:function(){return this._replaceString}},{key:"isRevealed",get:function(){return this._isRevealed}},{key:"isReplaceRevealed",get:function(){return this._isReplaceRevealed}},{key:"isRegex",get:function(){return zg(this._isRegexOverride,this._isRegex)}},{key:"wholeWord",get:function(){return zg(this._wholeWordOverride,this._wholeWord)}},{key:"matchCase",get:function(){return zg(this._matchCaseOverride,this._matchCase)}},{key:"preserveCase",get:function(){return zg(this._preserveCaseOverride,this._preserveCase)}},{key:"actualIsRegex",get:function(){return this._isRegex}},{key:"actualWholeWord",get:function(){return this._wholeWord}},{key:"actualMatchCase",get:function(){return this._matchCase}},{key:"actualPreserveCase",get:function(){return this._preserveCase}},{key:"searchScope",get:function(){return this._searchScope}},{key:"matchesPosition",get:function(){return this._matchesPosition}},{key:"matchesCount",get:function(){return this._matchesCount}},{key:"currentMatch",get:function(){return this._currentMatch}},{key:"changeMatchInfo",value:function(t,n,r){var l={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},c=!1;n===0&&(t=0),t>n&&(t=n),this._matchesPosition!==t&&(this._matchesPosition=t,l.matchesPosition=!0,c=!0),this._matchesCount!==n&&(this._matchesCount=n,l.matchesCount=!0,c=!0),typeof r!="undefined"&&(Dt.a.equalsRange(this._currentMatch,r)||(this._currentMatch=r,l.currentMatch=!0,c=!0)),c&&this._onFindReplaceStateChange.fire(l)}},{key:"change",value:function(t,n){var r=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c,h={moveCursor:n,updateHistory:l,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},f=!1,R=this.isRegex,Z=this.wholeWord,ie=this.matchCase,je=this.preserveCase;typeof t.searchString!="undefined"&&this._searchString!==t.searchString&&(this._searchString=t.searchString,h.searchString=!0,f=!0),typeof t.replaceString!="undefined"&&this._replaceString!==t.replaceString&&(this._replaceString=t.replaceString,h.replaceString=!0,f=!0),typeof t.isRevealed!="undefined"&&this._isRevealed!==t.isRevealed&&(this._isRevealed=t.isRevealed,h.isRevealed=!0,f=!0),typeof t.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==t.isReplaceRevealed&&(this._isReplaceRevealed=t.isReplaceRevealed,h.isReplaceRevealed=!0,f=!0),typeof t.isRegex!="undefined"&&(this._isRegex=t.isRegex),typeof t.wholeWord!="undefined"&&(this._wholeWord=t.wholeWord),typeof t.matchCase!="undefined"&&(this._matchCase=t.matchCase),typeof t.preserveCase!="undefined"&&(this._preserveCase=t.preserveCase),typeof t.searchScope!="undefined"&&(((c=t.searchScope)===null||c===void 0?void 0:c.every(function(Ie){var st;return(st=r._searchScope)===null||st===void 0?void 0:st.some(function(ft){return!Dt.a.equalsRange(ft,Ie)})}))||(this._searchScope=t.searchScope,h.searchScope=!0,f=!0)),typeof t.loop!="undefined"&&this._loop!==t.loop&&(this._loop=t.loop,h.loop=!0,f=!0),typeof t.isSearching!="undefined"&&this._isSearching!==t.isSearching&&(this._isSearching=t.isSearching,h.isSearching=!0,f=!0),typeof t.filters!="undefined"&&(this._filters?this._filters.update(t.filters):this._filters=t.filters,h.filters=!0,f=!0),this._isRegexOverride=typeof t.isRegexOverride!="undefined"?t.isRegexOverride:0,this._wholeWordOverride=typeof t.wholeWordOverride!="undefined"?t.wholeWordOverride:0,this._matchCaseOverride=typeof t.matchCaseOverride!="undefined"?t.matchCaseOverride:0,this._preserveCaseOverride=typeof t.preserveCaseOverride!="undefined"?t.preserveCaseOverride:0,R!==this.isRegex&&(f=!0,h.isRegex=!0),Z!==this.wholeWord&&(f=!0,h.wholeWord=!0),ie!==this.matchCase&&(f=!0,h.matchCase=!0),je!==this.preserveCase&&(f=!0,h.preserveCase=!0),f&&this._onFindReplaceStateChange.fire(h)}},{key:"canNavigateBack",value:function(){return this.canNavigateInLoop()||this.matchesPosition!==1}},{key:"canNavigateForward",value:function(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}},{key:"canNavigateInLoop",value:function(){return this._loop||this.matchesCount>=Bd}}]),e}(Ze.a),ZE=a("+lfL");function Vy(s){var o,e;return((o=s.lookupKeybinding("history.showPrevious"))===null||o===void 0?void 0:o.getElectronAccelerator())==="Up"&&((e=s.lookupKeybinding("history.showNext"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Down"}var If=a("nEHx"),GO=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},$O=Object(u.b)("find-selection",ta.a.selection,Qe.b("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),Hy=Object(u.b)("find-collapsed",ta.a.chevronRight,Qe.b("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),Uy=Object(u.b)("find-expanded",ta.a.chevronDown,Qe.b("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),QO=Object(u.b)("find-replace",ta.a.replace,Qe.b("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),YO=Object(u.b)("find-replace-all",ta.a.replaceAll,Qe.b("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),ZO=Object(u.b)("find-previous-match",ta.a.arrowUp,Qe.b("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),XO=Object(u.b)("find-next-match",ta.a.arrowDown,Qe.b("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),JO=Qe.b("label.find","Find"),qO=Qe.b("placeholder.find","Find"),e1=Qe.b("label.previousMatchButton","Previous Match"),t1=Qe.b("label.nextMatchButton","Next Match"),n1=Qe.b("label.toggleSelectionFind","Find in Selection"),i1=Qe.b("label.closeButton","Close"),r1=Qe.b("label.replace","Replace"),a1=Qe.b("placeholder.replace","Replace"),o1=Qe.b("label.replaceButton","Replace"),s1=Qe.b("label.replaceAllButton","Replace All"),l1=Qe.b("label.toggleReplaceButton","Toggle Replace"),u1=Qe.b("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Bd),c1=Qe.b("label.matchesLocation","{0} of {1}"),zy=Qe.b("label.noResults","No results"),Nc=419,d1=275,h1=d1-54,Nv=69,f1=33,Ky="ctrlEnterReplaceAll.windows.donotask",Gy=Ut.i?256:2048,up=Object(w.a)(function s(o){Object(k.a)(this,s),this.afterLineNumber=o,this.heightInPx=f1,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"});function $y(s,o,e){var i=!!o.match(/\n/);if(e&&i&&e.selectionStart>0){s.stopPropagation();return}}function Qy(s,o,e){var i=!!o.match(/\n/);if(e&&i&&e.selectionEnd<e.value.length){s.stopPropagation();return}}var Yy=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h,f,R){var Z;return Object(k.a)(this,e),Z=o.call(this),Z._cachedHeight=null,Z._revealTimeouts=[],Z._codeEditor=i,Z._controller=t,Z._state=n,Z._contextViewProvider=r,Z._keybindingService=l,Z._contextKeyService=c,Z._storageService=f,Z._notificationService=R,Z._ctrlEnterReplaceAllWarningPrompted=!!f.getBoolean(Ky,0),Z._isVisible=!1,Z._isReplaceVisible=!1,Z._ignoreChangeEvent=!1,Z._updateHistoryDelayer=new et.c(500),Z._register(Object(Ze.l)(function(){return Z._updateHistoryDelayer.cancel()})),Z._register(Z._state.onFindReplaceStateChange(function(ie){return Z._onStateChanged(ie)})),Z._buildDomNode(),Z._updateButtons(),Z._tryUpdateWidgetWidth(),Z._findInput.inputBox.layout(),Z._register(Z._codeEditor.onDidChangeConfiguration(function(ie){if(ie.hasChanged(88)&&(Z._codeEditor.getOption(88)&&Z._state.change({isReplaceRevealed:!1},!1),Z._updateButtons()),ie.hasChanged(140)&&Z._tryUpdateWidgetWidth(),ie.hasChanged(2)&&Z.updateAccessibilitySupport(),ie.hasChanged(39)){var je=Z._codeEditor.getOption(39).loop;Z._state.change({loop:je},!1);var Ie=Z._codeEditor.getOption(39).addExtraSpaceOnTop;Ie&&!Z._viewZone&&(Z._viewZone=new up(0),Z._showViewZone()),!Ie&&Z._viewZone&&Z._removeViewZone()}})),Z.updateAccessibilitySupport(),Z._register(Z._codeEditor.onDidChangeCursorSelection(function(){Z._isVisible&&Z._updateToggleSelectionFindButton()})),Z._register(Z._codeEditor.onDidFocusEditorWidget(function(){return GO(Object(pi.a)(Z),void 0,void 0,Object(d.a)().mark(function ie(){var je;return Object(d.a)().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(!this._isVisible){st.next=5;break}return st.next=3,this._controller.getGlobalBufferTerm();case 3:je=st.sent,je&&je!==this._state.searchString&&(this._state.change({searchString:je},!1),this._findInput.select());case 5:case"end":return st.stop()}},ie,this)}))})),Z._findInputFocused=Fg.bindTo(c),Z._findFocusTracker=Z._register(Bt.trackFocus(Z._findInput.inputBox.inputElement)),Z._register(Z._findFocusTracker.onDidFocus(function(){Z._findInputFocused.set(!0),Z._updateSearchScope()})),Z._register(Z._findFocusTracker.onDidBlur(function(){Z._findInputFocused.set(!1)})),Z._replaceInputFocused=sp.bindTo(c),Z._replaceFocusTracker=Z._register(Bt.trackFocus(Z._replaceInput.inputBox.inputElement)),Z._register(Z._replaceFocusTracker.onDidFocus(function(){Z._replaceInputFocused.set(!0),Z._updateSearchScope()})),Z._register(Z._replaceFocusTracker.onDidBlur(function(){Z._replaceInputFocused.set(!1)})),Z._codeEditor.addOverlayWidget(Object(pi.a)(Z)),Z._codeEditor.getOption(39).addExtraSpaceOnTop&&(Z._viewZone=new up(0)),Z._register(Z._codeEditor.onDidChangeModel(function(){!Z._isVisible||(Z._viewZoneId=void 0)})),Z._register(Z._codeEditor.onDidScrollChange(function(ie){if(ie.scrollTopChanged){Z._layoutViewZone();return}setTimeout(function(){Z._layoutViewZone()},0)})),Z}return Object(w.a)(e,[{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return this._isVisible?{preference:0}:null}},{key:"_onStateChanged",value:function(t){if(t.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(t.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),t.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),t.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(88)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Bt.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(t.isRevealed||t.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),t.isRegex&&this._findInput.setRegex(this._state.isRegex),t.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),t.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),t.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),t.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),t.searchString||t.matchesCount||t.matchesPosition){var n=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",n),this._updateMatchesCount(),this._updateButtons()}(t.searchString||t.currentMatch)&&this._layoutViewZone(),t.updateHistory&&this._delayedUpdateHistory(),t.loop&&this._updateButtons()}},{key:"_delayedUpdateHistory",value:function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,zi.h)}},{key:"_updateHistory",value:function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}},{key:"_updateMatchesCount",value:function(){this._matchesCount.style.minWidth=Nv+"px",this._state.matchesCount>=Bd?this._matchesCount.title=u1:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);var t;if(this._state.matchesCount>0){var n=String(this._state.matchesCount);this._state.matchesCount>=Bd&&(n+="+");var r=String(this._state.matchesPosition);r==="0"&&(r="?"),t=Vn.v(c1,r,n)}else t=zy;this._matchesCount.appendChild(document.createTextNode(t)),Object(xi.a)(this._getAriaLabel(t,this._state.currentMatch,this._state.searchString)),Nv=Math.max(Nv,this._matchesCount.clientWidth)}},{key:"_getAriaLabel",value:function(t,n,r){if(t===zy)return r===""?Qe.b("ariaSearchNoResultEmpty","{0} found",t):Qe.b("ariaSearchNoResult","{0} found for '{1}'",t,r);if(n){var l=Qe.b("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",t,r,n.startLineNumber+":"+n.startColumn),c=this._codeEditor.getModel();if(c&&n.startLineNumber<=c.getLineCount()&&n.startLineNumber>=1){var h=c.getLineContent(n.startLineNumber);return"".concat(h,", ").concat(l)}return l}return Qe.b("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",t,r)}},{key:"_updateToggleSelectionFindButton",value:function(){var t=this._codeEditor.getSelection(),n=t?t.startLineNumber!==t.endLineNumber||t.startColumn!==t.endColumn:!1,r=this._toggleSelectionFind.checked;this._isVisible&&(r||n)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}},{key:"_updateButtons",value:function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var t=this._state.searchString.length>0,n=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&t&&n&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&t&&n&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var r=!this._codeEditor.getOption(88);this._toggleReplaceBtn.setEnabled(this._isVisible&&r)}},{key:"_reveal",value:function(){var t=this;if(this._revealTimeouts.forEach(function(st){clearTimeout(st)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;var n=this._codeEditor.getSelection();switch(this._codeEditor.getOption(39).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{var r=!!n&&n.startLineNumber!==n.endLineNumber;this._toggleSelectionFind.checked=r;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(function(){t._domNode.classList.add("visible"),t._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(function(){t._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);var l=!0;if(this._codeEditor.getOption(39).seedSearchStringFromSelection&&n){var c=this._codeEditor.getDomNode();if(c){var h=Bt.getDomNodePagePosition(c),f=this._codeEditor.getScrolledVisiblePosition(n.getStartPosition()),R=h.left+(f?f.left:0),Z=f?f.top:0;if(this._viewZone&&Z<this._viewZone.heightInPx){n.endLineNumber>n.startLineNumber&&(l=!1);var ie=Bt.getTopLeftOffset(this._domNode).left;R>ie&&(l=!1);var je=this._codeEditor.getScrolledVisiblePosition(n.getEndPosition()),Ie=h.left+(je?je.left:0);Ie>ie&&(l=!1)}}}this._showViewZone(l)}}},{key:"_hide",value:function(t){this._revealTimeouts.forEach(function(n){clearTimeout(n)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),t&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}},{key:"_layoutViewZone",value:function(t){var n=this,r=this._codeEditor.getOption(39).addExtraSpaceOnTop;if(!r){this._removeViewZone();return}if(!!this._isVisible){var l=this._viewZone;this._viewZoneId!==void 0||!l||this._codeEditor.changeViewZones(function(c){l.heightInPx=n._getHeight(),n._viewZoneId=c.addZone(l),n._codeEditor.setScrollTop(t||n._codeEditor.getScrollTop()+l.heightInPx)})}}},{key:"_showViewZone",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!!this._isVisible){var r=this._codeEditor.getOption(39).addExtraSpaceOnTop;if(!!r){this._viewZone===void 0&&(this._viewZone=new up(0));var l=this._viewZone;this._codeEditor.changeViewZones(function(c){if(t._viewZoneId!==void 0){var h=t._getHeight();if(h===l.heightInPx)return;var f=h-l.heightInPx;l.heightInPx=h,c.layoutZone(t._viewZoneId),n&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+f);return}else{var R=t._getHeight();if(R-=t._codeEditor.getOption(81).top,R<=0)return;l.heightInPx=R,t._viewZoneId=c.addZone(l),n&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+R)}})}}}},{key:"_removeViewZone",value:function(){var t=this;this._codeEditor.changeViewZones(function(n){t._viewZoneId!==void 0&&(n.removeZone(t._viewZoneId),t._viewZoneId=void 0,t._viewZone&&(t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()-t._viewZone.heightInPx),t._viewZone=void 0))})}},{key:"_tryUpdateWidgetWidth",value:function(){if(!!this._isVisible&&!!Bt.isInDOM(this._domNode)){var t=this._codeEditor.getLayoutInfo(),n=t.contentWidth;if(n<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");var r=t.width,l=t.minimap.minimapWidth,c=!1,h=!1,f=!1;if(this._resized){var R=Bt.getTotalWidth(this._domNode);if(R>Nc){this._domNode.style.maxWidth="".concat(r-28-l-15,"px"),this._replaceInput.width=Bt.getTotalWidth(this._findInput.domNode);return}}if(Nc+28+l>=r&&(h=!0),Nc+28+l-Nv>=r&&(f=!0),Nc+28+l-Nv>=r+50&&(c=!0),this._domNode.classList.toggle("collapsed-find-widget",c),this._domNode.classList.toggle("narrow-find-widget",f),this._domNode.classList.toggle("reduced-find-widget",h),!f&&!c&&(this._domNode.style.maxWidth="".concat(r-28-l-15,"px")),this._findInput.layout({collapsedFindWidget:c,narrowFindWidget:f,reducedFindWidget:h}),this._resized){var Z=this._findInput.inputBox.element.clientWidth;Z>0&&(this._replaceInput.width=Z)}else this._isReplaceVisible&&(this._replaceInput.width=Bt.getTotalWidth(this._findInput.domNode))}}},{key:"_getHeight",value:function(){var t=0;return t+=4,t+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(t+=4,t+=this._replaceInput.inputBox.height+2),t+=4,t}},{key:"_tryUpdateHeight",value:function(){var t=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===t?!1:(this._cachedHeight=t,this._domNode.style.height="".concat(t,"px"),!0)}},{key:"focusFindInput",value:function(){this._findInput.select(),this._findInput.focus()}},{key:"focusReplaceInput",value:function(){this._replaceInput.select(),this._replaceInput.focus()}},{key:"highlightFindOptions",value:function(){this._findInput.highlightFindOptions()}},{key:"_updateSearchScope",value:function(){var t=this;if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var n=this._codeEditor.getSelections();n.map(function(r){r.endColumn===1&&r.endLineNumber>r.startLineNumber&&(r=r.setEndPosition(r.endLineNumber-1,t._codeEditor.getModel().getLineMaxColumn(r.endLineNumber-1)));var l=t._state.currentMatch;return r.startLineNumber!==r.endLineNumber&&!Dt.a.equalsRange(r,l)?r:null}).filter(function(r){return!!r}),n.length&&this._state.change({searchScope:n},!0)}}},{key:"_onFindInputMouseDown",value:function(t){t.middleButton&&t.stopPropagation()}},{key:"_onFindInputKeyDown",value:function(t){if(t.equals(Gy|3))if(this._keybindingService.dispatchEvent(t,t.target)){t.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),t.preventDefault();return}if(t.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),t.preventDefault();return}if(t.equals(2048|18)){this._codeEditor.focus(),t.preventDefault();return}if(t.equals(16))return $y(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(t.equals(18))return Qy(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}},{key:"_onReplaceInputKeyDown",value:function(t){if(t.equals(Gy|3))if(this._keybindingService.dispatchEvent(t,t.target)){t.preventDefault();return}else{Ut.o&&Ut.k&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Qe.b("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Ky,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),t.preventDefault();return}if(t.equals(2)){this._findInput.focusOnCaseSensitive(),t.preventDefault();return}if(t.equals(1024|2)){this._findInput.focus(),t.preventDefault();return}if(t.equals(2048|18)){this._codeEditor.focus(),t.preventDefault();return}if(t.equals(16))return $y(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(t.equals(18))return Qy(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}},{key:"getVerticalSashLeft",value:function(t){return 0}},{key:"_keybindingLabelFor",value:function(t){var n=this._keybindingService.lookupKeybinding(t);return n?" (".concat(n.getLabel(),")"):""}},{key:"_buildDomNode",value:function(){var t=this,n=!0,r=!0;this._findInput=this._register(new ga(null,this._contextViewProvider,{width:h1,label:JO,placeholder:qO,appendCaseSensitiveLabel:this._keybindingLabelFor(Do.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Do.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Do.ToggleRegexCommand),validation:function(ie){if(ie.length===0||!t._findInput.getRegex())return null;try{return new RegExp(ie,"gu"),null}catch(je){return{content:je.message}}},flexibleHeight:n,flexibleWidth:r,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:function(){return Vy(t._keybindingService)},inputBoxStyles:fl.d,toggleStyles:fl.j},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(function(Z){return t._onFindInputKeyDown(Z)})),this._register(this._findInput.inputBox.onDidChange(function(){t._ignoreChangeEvent||t._state.change({searchString:t._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){t._state.change({isRegex:t._findInput.getRegex(),wholeWord:t._findInput.getWholeWords(),matchCase:t._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(Z){Z.equals(1024|2)&&t._isReplaceVisible&&(t._replaceInput.focus(),Z.preventDefault())})),this._register(this._findInput.onRegexKeyDown(function(Z){Z.equals(2)&&t._isReplaceVisible&&(t._replaceInput.focusOnPreserve(),Z.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(function(Z){t._tryUpdateHeight()&&t._showViewZone()})),Ut.g&&this._register(this._findInput.onMouseDown(function(Z){return t._onFindInputMouseDown(Z)})),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Pf({label:e1+this._keybindingLabelFor(Do.PreviousMatchFindAction),icon:ZO,onTrigger:function(){Object(Yr.a)(t._codeEditor.getAction(Do.PreviousMatchFindAction)).run().then(void 0,zi.h)}})),this._nextBtn=this._register(new Pf({label:t1+this._keybindingLabelFor(Do.NextMatchFindAction),icon:XO,onTrigger:function(){Object(Yr.a)(t._codeEditor.getAction(Do.NextMatchFindAction)).run().then(void 0,zi.h)}}));var l=document.createElement("div");l.className="find-part",l.appendChild(this._findInput.domNode);var c=document.createElement("div");c.className="find-actions",l.appendChild(c),c.appendChild(this._matchesCount),c.appendChild(this._prevBtn.domNode),c.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Pr.a({icon:$O,title:n1+this._keybindingLabelFor(Do.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:Object(Vt.c)(Vt.ob),inputActiveOptionBorder:Object(Vt.c)(Vt.pb),inputActiveOptionForeground:Object(Vt.c)(Vt.qb)})),this._register(this._toggleSelectionFind.onChange(function(){if(t._toggleSelectionFind.checked){if(t._codeEditor.hasModel()){var Z=t._codeEditor.getSelections();Z.map(function(ie){return ie.endColumn===1&&ie.endLineNumber>ie.startLineNumber&&(ie=ie.setEndPosition(ie.endLineNumber-1,t._codeEditor.getModel().getLineMaxColumn(ie.endLineNumber-1))),ie.isEmpty()?null:ie}).filter(function(ie){return!!ie}),Z.length&&t._state.change({searchScope:Z},!0)}}else t._state.change({searchScope:null},!0)})),c.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Pf({label:i1+this._keybindingLabelFor(Do.CloseFindWidgetCommand),icon:u.c,onTrigger:function(){t._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(ie){ie.equals(2)&&t._isReplaceVisible&&(t._replaceBtn.isEnabled()?t._replaceBtn.focus():t._codeEditor.focus(),ie.preventDefault())}})),c.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new ma(null,void 0,{label:r1,placeholder:a1,appendPreserveCaseLabel:this._keybindingLabelFor(Do.TogglePreserveCaseCommand),history:[],flexibleHeight:n,flexibleWidth:r,flexibleMaxHeight:118,showHistoryHint:function(){return Vy(t._keybindingService)},inputBoxStyles:fl.d,toggleStyles:fl.j},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(function(Z){return t._onReplaceInputKeyDown(Z)})),this._register(this._replaceInput.inputBox.onDidChange(function(){t._state.change({replaceString:t._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(function(Z){t._isReplaceVisible&&t._tryUpdateHeight()&&t._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(function(){t._state.change({preserveCase:t._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(function(Z){Z.equals(2)&&(t._prevBtn.isEnabled()?t._prevBtn.focus():t._nextBtn.isEnabled()?t._nextBtn.focus():t._toggleSelectionFind.enabled?t._toggleSelectionFind.focus():t._closeBtn.isEnabled()&&t._closeBtn.focus(),Z.preventDefault())})),this._replaceBtn=this._register(new Pf({label:o1+this._keybindingLabelFor(Do.ReplaceOneAction),icon:QO,onTrigger:function(){t._controller.replace()},onKeyDown:function(ie){ie.equals(1024|2)&&(t._closeBtn.focus(),ie.preventDefault())}})),this._replaceAllBtn=this._register(new Pf({label:s1+this._keybindingLabelFor(Do.ReplaceAllAction),icon:YO,onTrigger:function(){t._controller.replaceAll()}}));var h=document.createElement("div");h.className="replace-part",h.appendChild(this._replaceInput.domNode);var f=document.createElement("div");f.className="replace-actions",h.appendChild(f),f.appendChild(this._replaceBtn.domNode),f.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Pf({label:l1,className:"codicon toggle left",onTrigger:function(){t._state.change({isReplaceRevealed:!t._isReplaceVisible},!1),t._isReplaceVisible&&(t._replaceInput.width=Bt.getTotalWidth(t._findInput.domNode),t._replaceInput.inputBox.layout()),t._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="".concat(Nc,"px"),this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(l),this._domNode.appendChild(h),this._resizeSash=new $s.b(this._domNode,this,{orientation:0,size:2}),this._resized=!1;var R=Nc;this._register(this._resizeSash.onDidStart(function(){R=Bt.getTotalWidth(t._domNode)})),this._register(this._resizeSash.onDidChange(function(Z){t._resized=!0;var ie=R+Z.startX-Z.currentX;if(!(ie<Nc)){var je=parseFloat(Bt.getComputedStyle(t._domNode).maxWidth)||0;ie>je||(t._domNode.style.width="".concat(ie,"px"),t._isReplaceVisible&&(t._replaceInput.width=Bt.getTotalWidth(t._findInput.domNode)),t._findInput.inputBox.layout(),t._tryUpdateHeight())}})),this._register(this._resizeSash.onDidReset(function(){var Z=Bt.getTotalWidth(t._domNode);if(!(Z<Nc)){var ie=Nc;if(!t._resized||Z===Nc){var je=t._codeEditor.getLayoutInfo();ie=je.width-28-je.minimap.minimapWidth-15,t._resized=!0}t._domNode.style.width="".concat(ie,"px"),t._isReplaceVisible&&(t._replaceInput.width=Bt.getTotalWidth(t._findInput.domNode)),t._findInput.inputBox.layout()}}))}},{key:"updateAccessibilitySupport",value:function(){var t=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(t!==2)}}]),e}(v.a);Yy.ID="editor.contrib.findWidget";var Pf=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;Object(k.a)(this,e),t=o.call(this),t._opts=i;var n="button";return t._opts.className&&(n=n+" "+t._opts.className),t._opts.icon&&(n=n+" "+oa.a.asClassName(t._opts.icon)),t._domNode=document.createElement("div"),t._domNode.title=t._opts.label,t._domNode.tabIndex=0,t._domNode.className=n,t._domNode.setAttribute("role","button"),t._domNode.setAttribute("aria-label",t._opts.label),t.onclick(t._domNode,function(r){t._opts.onTrigger(),r.preventDefault()}),t.onkeydown(t._domNode,function(r){var l,c;if(r.equals(10)||r.equals(3)){t._opts.onTrigger(),r.preventDefault();return}(c=(l=t._opts).onKeyDown)===null||c===void 0||c.call(l,r)}),t}return Object(w.a)(e,[{key:"domNode",get:function(){return this._domNode}},{key:"isEnabled",value:function(){return this._domNode.tabIndex>=0}},{key:"focus",value:function(){this._domNode.focus()}},{key:"setEnabled",value:function(t){this._domNode.classList.toggle("disabled",!t),this._domNode.setAttribute("aria-disabled",String(!t)),this._domNode.tabIndex=t?0:-1}},{key:"setExpanded",value:function(t){if(this._domNode.setAttribute("aria-expanded",String(!!t)),t){var n,r;(n=this._domNode.classList).remove.apply(n,Object(Ai.a)(oa.a.asClassNameArray(Hy))),(r=this._domNode.classList).add.apply(r,Object(Ai.a)(oa.a.asClassNameArray(Uy)))}else{var l,c;(l=this._domNode.classList).remove.apply(l,Object(Ai.a)(oa.a.asClassNameArray(Uy))),(c=this._domNode.classList).add.apply(c,Object(Ai.a)(oa.a.asClassNameArray(Hy)))}}}]),e}(v.a);Object(Oi.e)(function(s,o){var e=function(ft,kt){kt&&o.addRule(".monaco-editor ".concat(ft," { background-color: ").concat(kt,"; }"))};e(".findMatch",s.getColor(Vt.K)),e(".currentFindMatch",s.getColor(Vt.I)),e(".findScope",s.getColor(Vt.M));var i=s.getColor(Vt.gb);e(".find-widget",i);var t=s.getColor(Vt.Wc);t&&o.addRule(".monaco-editor .find-widget { box-shadow: 0 0 8px 2px ".concat(t,"; }"));var n=s.getColor(Vt.Vc);n&&o.addRule(".monaco-editor .find-widget { border-left: 1px solid ".concat(n,"; border-right: 1px solid ").concat(n,"; border-bottom: 1px solid ").concat(n,"; }"));var r=s.getColor(Vt.L);r&&o.addRule(".monaco-editor .findMatch { border: 1px ".concat(Object(If.c)(s.type)?"dotted":"solid"," ").concat(r,"; box-sizing: border-box; }"));var l=s.getColor(Vt.J);l&&o.addRule(".monaco-editor .currentFindMatch { border: 2px solid ".concat(l,"; padding: 1px; box-sizing: border-box; }"));var c=s.getColor(Vt.N);c&&o.addRule(".monaco-editor .findScope { border: 1px ".concat(Object(If.c)(s.type)?"dashed":"solid"," ").concat(c,"; }"));var h=s.getColor(Vt.w);h&&o.addRule(".monaco-editor .find-widget { border: 1px solid ".concat(h,"; }"));var f=s.getColor(Vt.ib);f&&o.addRule(".monaco-editor .find-widget { color: ".concat(f,"; }"));var R=s.getColor(Vt.kb);R&&o.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: ".concat(R,"; }"));var Z=s.getColor(Vt.jb);if(Z)o.addRule(".monaco-editor .find-widget .monaco-sash { background-color: ".concat(Z,"; }"));else{var ie=s.getColor(Vt.hb);ie&&o.addRule(".monaco-editor .find-widget .monaco-sash { background-color: ".concat(ie,"; }"))}var je=s.getColor(Vt.Rc);je&&o.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: `.concat(je,` !important;
		}
	`));var Ie=s.getColor(Vt.lb);Ie&&o.addRule(".monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ".concat(Ie,"; }"))});var Zy=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},xc=function(s,o){return function(e,i){o(e,i,s)}},Ih=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},v1=524288;function cp(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"single",e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!s.hasModel())return null;var i=s.getSelection();if(o==="single"&&i.startLineNumber===i.endLineNumber||o==="multiple"){if(i.isEmpty()){var t=s.getConfiguredWordAtPosition(i.getStartPosition());if(t&&e===!1)return t.word}else if(s.getModel().getValueLengthInRange(i)<v1)return s.getModel().getValueInRange(i)}return null}var sl=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;return Object(k.a)(this,e),l=o.call(this),l._editor=i,l._findWidgetVisible=ld.bindTo(t),l._contextKeyService=t,l._storageService=n,l._clipboardService=r,l._updateHistoryDelayer=new et.c(500),l._state=l._register(new KO),l.loadQueryState(),l._register(l._state.onFindReplaceStateChange(function(c){return l._onStateChanged(c)})),l._model=null,l._register(l._editor.onDidChangeModel(function(){var c=l._editor.getModel()&&l._state.isRevealed;l.disposeModel(),l._state.change({searchScope:null,matchCase:l._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:l._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:l._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:l._storageService.getBoolean("editor.preserveCase",1,!1)},!1),c&&l._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:l._editor.getOption(39).loop})})),l}return Object(w.a)(e,[{key:"editor",get:function(){return this._editor}},{key:"dispose",value:function(){this.disposeModel(),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"disposeModel",value:function(){this._model&&(this._model.dispose(),this._model=null)}},{key:"_onStateChanged",value:function(t){this.saveQueryState(t),t.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),t.searchString&&this.setGlobalBufferTerm(this._state.searchString)}},{key:"saveQueryState",value:function(t){t.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),t.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),t.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),t.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}},{key:"loadQueryState",value:function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}},{key:"isFindInputFocused",value:function(){return!!Fg.getValue(this._contextKeyService)}},{key:"getState",value:function(){return this._state}},{key:"closeFindWidget",value:function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}},{key:"toggleCaseSensitive",value:function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"toggleWholeWords",value:function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"toggleRegex",value:function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"togglePreserveCase",value:function(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"toggleSearchScope",value:function(){var t=this;if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var n=this._editor.getSelections();n.map(function(r){return r.endColumn===1&&r.endLineNumber>r.startLineNumber&&(r=r.setEndPosition(r.endLineNumber-1,t._editor.getModel().getLineMaxColumn(r.endLineNumber-1))),r.isEmpty()?null:r}).filter(function(r){return!!r}),n.length&&this._state.change({searchScope:n},!0)}}},{key:"setSearchString",value:function(t){this._state.isRegex&&(t=Vn.t(t)),this._state.change({searchString:t},!1)}},{key:"highlightFindOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1}},{key:"_start",value:function(t,n){return Ih(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(this.disposeModel(),this._editor.hasModel()){ie.next=3;break}return ie.abrupt("return");case 3:if(l=Object.assign(Object.assign({},n),{isRevealed:!0}),t.seedSearchStringFromSelection==="single"?(c=cp(this._editor,t.seedSearchStringFromSelection,t.seedSearchStringFromNonEmptySelection),c&&(this._state.isRegex?l.searchString=Vn.t(c):l.searchString=c)):t.seedSearchStringFromSelection==="multiple"&&!t.updateSearchScope&&(h=cp(this._editor,t.seedSearchStringFromSelection),h&&(l.searchString=h)),!(!l.searchString&&t.seedSearchStringFromGlobalClipboard)){ie.next=12;break}return ie.next=8,this.getGlobalBufferTerm();case 8:if(f=ie.sent,this._editor.hasModel()){ie.next=11;break}return ie.abrupt("return");case 11:f&&(l.searchString=f);case 12:t.forceRevealReplace||l.isReplaceRevealed?l.isReplaceRevealed=!0:this._findWidgetVisible.get()||(l.isReplaceRevealed=!1),t.updateSearchScope&&(R=this._editor.getSelections(),R.some(function(je){return!je.isEmpty()})&&(l.searchScope=R)),l.loop=t.loop,this._state.change(l,!1),this._model||(this._model=new zO(this._editor,this._state));case 17:case"end":return ie.stop()}},r,this)}))}},{key:"start",value:function(t,n){return this._start(t,n)}},{key:"moveToNextMatch",value:function(){return this._model?(this._model.moveToNextMatch(),!0):!1}},{key:"moveToPrevMatch",value:function(){return this._model?(this._model.moveToPrevMatch(),!0):!1}},{key:"goToMatch",value:function(t){return this._model?(this._model.moveToMatch(t),!0):!1}},{key:"replace",value:function(){return this._model?(this._model.replace(),!0):!1}},{key:"replaceAll",value:function(){return this._model?(this._model.replaceAll(),!0):!1}},{key:"selectAllMatches",value:function(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}},{key:"getGlobalBufferTerm",value:function(){return Ih(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this._editor.getOption(39).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing())){r.next=2;break}return r.abrupt("return",this._clipboardService.readFindText());case 2:return r.abrupt("return","");case 3:case"end":return r.stop()}},t,this)}))}},{key:"setGlobalBufferTerm",value:function(t){this._editor.getOption(39).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(t)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);sl.ID="editor.contrib.findController",sl=Zy([xc(1,Jn.b),xc(2,Ws.a),xc(3,Wn.a)],sl);var dp=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h,f){var R;return Object(k.a)(this,e),R=o.call(this,i,n,h,f),R._contextViewService=t,R._keybindingService=r,R._themeService=l,R._notificationService=c,R._widget=null,R._findOptionsWidget=null,R}return Object(w.a)(e,[{key:"_start",value:function(t,n){var r=this,l=Object.create(null,{_start:{get:function(){return Object(yi.a)(Object(vi.a)(e.prototype),"_start",r)}}});return Ih(this,void 0,void 0,Object(d.a)().mark(function c(){var h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:this._widget||this._createFindWidget(),h=this._editor.getSelection(),f=!1,ie.t0=this._editor.getOption(39).autoFindInSelection,ie.next=ie.t0==="always"?6:ie.t0==="never"?8:ie.t0==="multiline"?10:13;break;case 6:return f=!0,ie.abrupt("break",14);case 8:return f=!1,ie.abrupt("break",14);case 10:return R=!!h&&h.startLineNumber!==h.endLineNumber,f=R,ie.abrupt("break",14);case 13:return ie.abrupt("break",14);case 14:return t.updateSearchScope=t.updateSearchScope||f,ie.next=17,l._start.call(this,t,n);case 17:this._widget&&(t.shouldFocus===2?this._widget.focusReplaceInput():t.shouldFocus===1&&this._widget.focusFindInput());case 18:case"end":return ie.stop()}},c,this)}))}},{key:"highlightFindOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._widget||this._createFindWidget(),this._state.isRevealed&&!t?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}},{key:"_createFindWidget",value:function(){this._widget=this._register(new Yy(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new Wy(this._editor,this._state,this._keybindingService))}}]),e}(sl);dp=Zy([xc(1,Ms.b),xc(2,Jn.b),xc(3,Ii.a),xc(4,Oi.b),xc(5,io.a),xc(6,Ws.a),xc(7,Wn.a)],dp);var g1=Object(St.p)(new St.g({id:Do.StartFindAction,label:Qe.b("startFindAction","Find"),alias:"Find",precondition:Jn.a.or(an.a.focus,Jn.a.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:kn.c.MenubarEditMenu,group:"3_find",title:Qe.b({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));g1.addImplementation(0,function(s,o,e){var i=sl.get(o);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:o.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:o.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:o.getOption(39).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:o.getOption(39).loop}):!1});var m1={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:Qe.b("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:Qe.b("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:Qe.b("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:Qe.b("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]},p1=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:Do.StartFindWithArgs,label:Qe.b("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:m1})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){return Ih(this,void 0,void 0,Object(d.a)().mark(function l(){var c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(c=sl.get(n),!c){R.next=6;break}return h=r?{searchString:r.searchString,replaceString:r.replaceString,isReplaceRevealed:r.replaceString!==void 0,isRegex:r.isRegex,wholeWord:r.matchWholeWord,matchCase:r.isCaseSensitive,preserveCase:r.preserveCase}:{},R.next=5,c.start({forceRevealReplace:!1,seedSearchStringFromSelection:c.getState().searchString.length===0&&n.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:n.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(r==null?void 0:r.findInSelection)||!1,loop:n.getOption(39).loop},h);case 5:c.setGlobalBufferTerm(c.getState().searchString);case 6:case"end":return R.stop()}},l)}))}}]),e}(St.b),b1=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:Do.StartFindWithSelection,label:Qe.b("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){return Ih(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l=sl.get(n),!l){h.next=5;break}return h.next=4,l.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(39).loop});case 4:l.setGlobalBufferTerm(l.getState().searchString);case 5:case"end":return h.stop()}},r)}))}}]),e}(St.b),Xy=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"run",value:function(t,n){return Ih(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l=sl.get(n),!(l&&!this._run(l))){h.next=5;break}return h.next=4,l.start({forceRevealReplace:!1,seedSearchStringFromSelection:l.getState().searchString.length===0&&n.getOption(39).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:n.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(39).loop});case 4:this._run(l);case 5:case"end":return h.stop()}},r,this)}))}}]),e}(St.b),y1=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:Do.NextMatchFindAction,label:Qe.b("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:an.a.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:Jn.a.and(an.a.focus,Fg),primary:3,weight:100}]})}return Object(w.a)(e,[{key:"_run",value:function(t){var n=t.moveToNextMatch();return n?(t.editor.pushUndoStop(),!0):!1}}]),e}(Xy),_1=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:Do.PreviousMatchFindAction,label:Qe.b("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:an.a.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:Jn.a.and(an.a.focus,Fg),primary:1024|3,weight:100}]})}return Object(w.a)(e,[{key:"_run",value:function(t){return t.moveToPrevMatch()}}]),e}(Xy),C1=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this,{id:Do.GoToMatchFindAction,label:Qe.b("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:ld}),i._highlightDecorations=[],i}return Object(w.a)(e,[{key:"run",value:function(t,n,r){var l=this,c=sl.get(n);if(!!c){var h=c.getState().matchesCount;if(h<1){var f=t.get(io.a);f.notify({severity:io.c.Warning,message:Qe.b("findMatchAction.noResults","No matches. Try searching for something else.")});return}var R=t.get(Vs.a),Z=R.createInputBox();Z.placeholder=Qe.b("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",h);var ie=function(st){var ft=parseInt(st);if(!isNaN(ft)){var kt=c.getState().matchesCount;if(ft>0&&ft<=kt)return ft-1;if(ft<0&&ft>=-kt)return kt+ft}},je=function(st){var ft=ie(st);if(typeof ft=="number"){Z.validationMessage=void 0,c.goToMatch(ft);var kt=c.getState().currentMatch;kt&&l.addDecorations(n,kt)}else Z.validationMessage=Qe.b("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",c.getState().matchesCount),l.clearDecorations(n)};Z.onDidChangeValue(function(Ie){je(Ie)}),Z.onDidAccept(function(){var Ie=ie(Z.value);typeof Ie=="number"?(c.goToMatch(Ie),Z.hide()):Z.validationMessage=Qe.b("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",c.getState().matchesCount)}),Z.onDidHide(function(){l.clearDecorations(n),Z.dispose()}),Z.show()}}},{key:"clearDecorations",value:function(t){var n=this;t.changeDecorations(function(r){n._highlightDecorations=r.deltaDecorations(n._highlightDecorations,[])})}},{key:"addDecorations",value:function(t,n){var r=this;t.changeDecorations(function(l){r._highlightDecorations=l.deltaDecorations(r._highlightDecorations,[{range:n,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:n,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:Object(Oi.f)(Ry.H),position:pn.f.Full}}}])})}}]),e}(St.b),Jy=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"run",value:function(t,n){return Ih(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(l=sl.get(n),l){f.next=3;break}return f.abrupt("return");case 3:if(c=cp(n,"single",!1),c&&l.setSearchString(c),this._run(l)){f.next=9;break}return f.next=8,l.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(39).loop});case 8:this._run(l);case 9:case"end":return f.stop()}},r,this)}))}}]),e}(St.b),O1=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:Do.NextSelectionMatchFindAction,label:Qe.b("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:an.a.focus,primary:2048|61,weight:100}})}return Object(w.a)(e,[{key:"_run",value:function(t){return t.moveToNextMatch()}}]),e}(Jy),S1=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:Do.PreviousSelectionMatchFindAction,label:Qe.b("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:an.a.focus,primary:2048|1024|61,weight:100}})}return Object(w.a)(e,[{key:"_run",value:function(t){return t.moveToPrevMatch()}}]),e}(Jy),k1=Object(St.p)(new St.g({id:Do.StartFindReplaceAction,label:Qe.b("startReplace","Replace"),alias:"Replace",precondition:Jn.a.or(an.a.focus,Jn.a.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:kn.c.MenubarEditMenu,group:"3_find",title:Qe.b({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));k1.addImplementation(0,function(s,o,e){if(!o.hasModel()||o.getOption(88))return!1;var i=sl.get(o);if(!i)return!1;var t=o.getSelection(),n=i.isFindInputFocused(),r=!t.isEmpty()&&t.startLineNumber===t.endLineNumber&&o.getOption(39).seedSearchStringFromSelection!=="never"&&!n,l=n||r?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:r?"single":"none",seedSearchStringFromNonEmptySelection:o.getOption(39).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:o.getOption(39).seedSearchStringFromSelection!=="never",shouldFocus:l,shouldAnimate:!0,updateSearchScope:!1,loop:o.getOption(39).loop})}),Object(St.m)(sl.ID,dp,0),Object(St.k)(p1),Object(St.k)(b1),Object(St.k)(y1),Object(St.k)(_1),Object(St.k)(C1),Object(St.k)(O1),Object(St.k)(S1);var dc=St.d.bindToContribution(sl.get);Object(St.l)(new dc({id:Do.CloseFindWidgetCommand,precondition:ld,handler:function(o){return o.closeFindWidget()},kbOpts:{weight:100+5,kbExpr:Jn.a.and(an.a.focus,Jn.a.not("isComposing")),primary:9,secondary:[1024|9]}})),Object(St.l)(new dc({id:Do.ToggleCaseSensitiveCommand,precondition:void 0,handler:function(o){return o.toggleCaseSensitive()},kbOpts:{weight:100+5,kbExpr:an.a.focus,primary:Bg.primary,mac:Bg.mac,win:Bg.win,linux:Bg.linux}})),Object(St.l)(new dc({id:Do.ToggleWholeWordCommand,precondition:void 0,handler:function(o){return o.toggleWholeWords()},kbOpts:{weight:100+5,kbExpr:an.a.focus,primary:Wg.primary,mac:Wg.mac,win:Wg.win,linux:Wg.linux}})),Object(St.l)(new dc({id:Do.ToggleRegexCommand,precondition:void 0,handler:function(o){return o.toggleRegex()},kbOpts:{weight:100+5,kbExpr:an.a.focus,primary:Vg.primary,mac:Vg.mac,win:Vg.win,linux:Vg.linux}})),Object(St.l)(new dc({id:Do.ToggleSearchScopeCommand,precondition:void 0,handler:function(o){return o.toggleSearchScope()},kbOpts:{weight:100+5,kbExpr:an.a.focus,primary:Hg.primary,mac:Hg.mac,win:Hg.win,linux:Hg.linux}})),Object(St.l)(new dc({id:Do.TogglePreserveCaseCommand,precondition:void 0,handler:function(o){return o.togglePreserveCase()},kbOpts:{weight:100+5,kbExpr:an.a.focus,primary:Ug.primary,mac:Ug.mac,win:Ug.win,linux:Ug.linux}})),Object(St.l)(new dc({id:Do.ReplaceOneAction,precondition:ld,handler:function(o){return o.replace()},kbOpts:{weight:100+5,kbExpr:an.a.focus,primary:2048|1024|22}})),Object(St.l)(new dc({id:Do.ReplaceOneAction,precondition:ld,handler:function(o){return o.replace()},kbOpts:{weight:100+5,kbExpr:Jn.a.and(an.a.focus,sp),primary:3}})),Object(St.l)(new dc({id:Do.ReplaceAllAction,precondition:ld,handler:function(o){return o.replaceAll()},kbOpts:{weight:100+5,kbExpr:an.a.focus,primary:2048|512|3}})),Object(St.l)(new dc({id:Do.ReplaceAllAction,precondition:ld,handler:function(o){return o.replaceAll()},kbOpts:{weight:100+5,kbExpr:Jn.a.and(an.a.focus,sp),primary:void 0,mac:{primary:2048|3}}})),Object(St.l)(new dc({id:Do.SelectAllMatchesAction,precondition:ld,handler:function(o){return o.selectAllMatches()},kbOpts:{weight:100+5,kbExpr:an.a.focus,primary:512|3}}));var XE=a("dzw2"),xv,D1=(xv={},Object(Yt.a)(xv,0," "),Object(Yt.a)(xv,1,"u"),Object(Yt.a)(xv,2,"r"),xv),qy=65535,hc=16777215,e_=4278190080,hp=function(){function s(o){Object(k.a)(this,s);var e=Math.ceil(o/32);this._states=new Uint32Array(e)}return Object(w.a)(s,[{key:"get",value:function(e){var i=e/32|0,t=e%32;return(this._states[i]&1<<t)!=0}},{key:"set",value:function(e,i){var t=e/32|0,n=e%32,r=this._states[t];i?this._states[t]=r|1<<n:this._states[t]=r&~(1<<n)}}]),s}(),Hu=function(){function s(o,e,i){if(Object(k.a)(this,s),o.length!==e.length||o.length>qy)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=o,this._endIndexes=e,this._collapseStates=new hp(o.length),this._userDefinedStates=new hp(o.length),this._recoveredStates=new hp(o.length),this._types=i,this._parentsComputed=!1}return Object(w.a)(s,[{key:"ensureParentIndices",value:function(){var e=this;if(!this._parentsComputed){this._parentsComputed=!0;for(var i=[],t=function(R,Z){var ie=i[i.length-1];return e.getStartLineNumber(ie)<=R&&e.getEndLineNumber(ie)>=Z},n=0,r=this._startIndexes.length;n<r;n++){var l=this._startIndexes[n],c=this._endIndexes[n];if(l>hc||c>hc)throw new Error("startLineNumber or endLineNumber must not exceed "+hc);for(;i.length>0&&!t(l,c);)i.pop();var h=i.length>0?i[i.length-1]:-1;i.push(n),this._startIndexes[n]=l+((h&255)<<24),this._endIndexes[n]=c+((h&65280)<<16)}}}},{key:"length",get:function(){return this._startIndexes.length}},{key:"getStartLineNumber",value:function(e){return this._startIndexes[e]&hc}},{key:"getEndLineNumber",value:function(e){return this._endIndexes[e]&hc}},{key:"getType",value:function(e){return this._types?this._types[e]:void 0}},{key:"hasTypes",value:function(){return!!this._types}},{key:"isCollapsed",value:function(e){return this._collapseStates.get(e)}},{key:"setCollapsed",value:function(e,i){this._collapseStates.set(e,i)}},{key:"isUserDefined",value:function(e){return this._userDefinedStates.get(e)}},{key:"setUserDefined",value:function(e,i){return this._userDefinedStates.set(e,i)}},{key:"isRecovered",value:function(e){return this._recoveredStates.get(e)}},{key:"setRecovered",value:function(e,i){return this._recoveredStates.set(e,i)}},{key:"getSource",value:function(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}},{key:"setSource",value:function(e,i){i===1?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):i===2?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}},{key:"setCollapsedAllOfType",value:function(e,i){var t=!1;if(this._types)for(var n=0;n<this._types.length;n++)this._types[n]===e&&(this.setCollapsed(n,i),t=!0);return t}},{key:"toRegion",value:function(e){return new w1(this,e)}},{key:"getParentIndex",value:function(e){this.ensureParentIndices();var i=((this._startIndexes[e]&e_)>>>24)+((this._endIndexes[e]&e_)>>>16);return i===qy?-1:i}},{key:"contains",value:function(e,i){return this.getStartLineNumber(e)<=i&&this.getEndLineNumber(e)>=i}},{key:"findIndex",value:function(e){var i=0,t=this._startIndexes.length;if(t===0)return-1;for(;i<t;){var n=Math.floor((i+t)/2);e<this.getStartLineNumber(n)?t=n:i=n+1}return i-1}},{key:"findRange",value:function(e){var i=this.findIndex(e);if(i>=0){var t=this.getEndLineNumber(i);if(t>=e)return i;for(i=this.getParentIndex(i);i!==-1;){if(this.contains(i,e))return i;i=this.getParentIndex(i)}}return-1}},{key:"toString",value:function(){for(var e=[],i=0;i<this.length;i++)e[i]="[".concat(D1[this.getSource(i)]).concat(this.isCollapsed(i)?"+":"-","] ").concat(this.getStartLineNumber(i),"/").concat(this.getEndLineNumber(i));return e.join(", ")}},{key:"toFoldRange",value:function(e){return{startLineNumber:this._startIndexes[e]&hc,endLineNumber:this._endIndexes[e]&hc,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}}],[{key:"fromFoldRanges",value:function(e){for(var i=e.length,t=new Uint32Array(i),n=new Uint32Array(i),r=[],l=!1,c=0;c<i;c++){var h=e[c];t[c]=h.startLineNumber,n[c]=h.endLineNumber,r.push(h.type),h.type&&(l=!0)}l||(r=void 0);for(var f=new s(t,n,r),R=0;R<i;R++)e[R].isCollapsed&&f.setCollapsed(R,!0),f.setSource(R,e[R].source);return f}},{key:"sanitizeAndMerge",value:function(e,i,t){t=t!=null?t:Number.MAX_VALUE;for(var n=function(un,Yn){return Array.isArray(un)?function(xn){return xn<Yn?un[xn]:void 0}:function(xn){return xn<Yn?un.toFoldRange(xn):void 0}},r=n(e,e.length),l=n(i,i.length),c=0,h=0,f=r(0),R=l(0),Z=[],ie,je=0,Ie=[];f||R;){var st=void 0;if(R&&(!f||f.startLineNumber>=R.startLineNumber))f&&f.startLineNumber===R.startLineNumber?(R.source===1?st=R:(st=f,st.isCollapsed=R.isCollapsed&&f.endLineNumber===R.endLineNumber,st.source=0),f=r(++c)):(st=R,R.isCollapsed&&R.source===0&&(st.source=2)),R=l(++h);else{for(var ft=h,kt=R;;){if(!kt||kt.startLineNumber>f.endLineNumber){st=f;break}if(kt.source===1&&kt.endLineNumber>f.endLineNumber)break;kt=l(++ft)}f=r(++c)}if(st){for(;ie&&ie.endLineNumber<st.startLineNumber;)ie=Z.pop();st.endLineNumber>st.startLineNumber&&st.startLineNumber>je&&st.endLineNumber<=t&&(!ie||ie.endLineNumber>=st.endLineNumber)&&(Ie.push(st),je=st.startLineNumber,ie&&Z.push(ie),ie=st)}}return Ie}}]),s}(),w1=function(){function s(o,e){Object(k.a)(this,s),this.ranges=o,this.index=e}return Object(w.a)(s,[{key:"startLineNumber",get:function(){return this.ranges.getStartLineNumber(this.index)}},{key:"endLineNumber",get:function(){return this.ranges.getEndLineNumber(this.index)}},{key:"regionIndex",get:function(){return this.index}},{key:"parentIndex",get:function(){return this.ranges.getParentIndex(this.index)}},{key:"isCollapsed",get:function(){return this.ranges.isCollapsed(this.index)}},{key:"containedBy",value:function(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}},{key:"containsLine",value:function(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}]),s}(),t_=a("7afs"),j1=function(){function s(o,e){Object(k.a)(this,s),this._updateEventEmitter=new rr.b,this.onDidChange=this._updateEventEmitter.event,this._textModel=o,this._decorationProvider=e,this._regions=new Hu(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}return Object(w.a)(s,[{key:"regions",get:function(){return this._regions}},{key:"textModel",get:function(){return this._textModel}},{key:"toggleCollapseState",value:function(e){var i=this;if(!!e.length){e=e.sort(function(n,r){return n.regionIndex-r.regionIndex});var t={};this._decorationProvider.changeDecorations(function(n){var r=0,l=-1,c=-1,h=function(ft){for(;r<ft;){var kt=i._regions.getEndLineNumber(r),$t=i._regions.isCollapsed(r);if(kt<=l){var un=i.regions.getSource(r)!==0;n.changeDecorationOptions(i._editorDecorationIds[r],i._decorationProvider.getDecorationOption($t,kt<=c,un))}$t&&kt>c&&(c=kt),r++}},f=Object(B.a)(e),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value,ie=Z.regionIndex,je=i._editorDecorationIds[ie];if(je&&!t[je]){t[je]=!0,h(ie);var Ie=!i._regions.isCollapsed(ie);i._regions.setCollapsed(ie,Ie),l=Math.max(l,i._regions.getEndLineNumber(ie))}}}catch(st){f.e(st)}finally{f.f()}h(i._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}}},{key:"removeManualRanges",value:function(e){for(var i=new Array,t=function(c){var h=Object(B.a)(e),f;try{for(h.s();!(f=h.n()).done;){var R=f.value;if(!(R.startLineNumber>c.endLineNumber||c.startLineNumber>R.endLineNumber))return!0}}catch(Z){h.e(Z)}finally{h.f()}return!1},n=0;n<this._regions.length;n++){var r=this._regions.toFoldRange(n);(r.source===0||!t(r))&&i.push(r)}this.updatePost(Hu.fromFoldRanges(i))}},{key:"update",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=this._currentFoldedOrManualRanges(i),n=Hu.sanitizeAndMerge(e,t,this._textModel.getLineCount());this.updatePost(Hu.fromFoldRanges(n))}},{key:"updatePost",value:function(e){for(var i=this,t=[],n=-1,r=0,l=e.length;r<l;r++){var c=e.getStartLineNumber(r),h=e.getEndLineNumber(r),f=e.isCollapsed(r),R=e.getSource(r)!==0,Z={startLineNumber:c,startColumn:this._textModel.getLineMaxColumn(c),endLineNumber:h,endColumn:this._textModel.getLineMaxColumn(h)+1};t.push({range:Z,options:this._decorationProvider.getDecorationOption(f,h<=n,R)}),f&&h>n&&(n=h)}this._decorationProvider.changeDecorations(function(ie){return i._editorDecorationIds=ie.deltaDecorations(i._editorDecorationIds,t)}),this._regions=e,this._updateEventEmitter.fire({model:this})}},{key:"_currentFoldedOrManualRanges",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=function(Z,ie){var je=Object(B.a)(e),Ie;try{for(je.s();!(Ie=je.n()).done;){var st=Ie.value;if(Z<st&&st<=ie)return!0}}catch(ft){je.e(ft)}finally{je.f()}return!1},t=[],n=0,r=this._regions.length;n<r;n++){var l=this.regions.isCollapsed(n),c=this.regions.getSource(n);if(l||c!==0){var h=this._regions.toFoldRange(n),f=this._textModel.getDecorationRange(this._editorDecorationIds[n]);f&&(l&&i(f.startLineNumber,f.endLineNumber)&&(l=!1),t.push({startLineNumber:f.startLineNumber,endLineNumber:f.endLineNumber,type:h.type,isCollapsed:l,source:c}))}}return t}},{key:"getMemento",value:function(){for(var e=this._currentFoldedOrManualRanges(),i=[],t=this._textModel.getLineCount(),n=0,r=e.length;n<r;n++){var l=e[n];if(!(l.startLineNumber>=l.endLineNumber||l.startLineNumber<1||l.endLineNumber>t)){var c=this._getLinesChecksum(l.startLineNumber+1,l.endLineNumber);i.push({startLineNumber:l.startLineNumber,endLineNumber:l.endLineNumber,isCollapsed:l.isCollapsed,source:l.source,checksum:c})}}return i.length>0?i:void 0}},{key:"applyMemento",value:function(e){var i,t;if(!!Array.isArray(e)){var n=[],r=this._textModel.getLineCount(),l=Object(B.a)(e),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;if(!(h.startLineNumber>=h.endLineNumber||h.startLineNumber<1||h.endLineNumber>r)){var f=this._getLinesChecksum(h.startLineNumber+1,h.endLineNumber);(!h.checksum||f===h.checksum)&&n.push({startLineNumber:h.startLineNumber,endLineNumber:h.endLineNumber,type:void 0,isCollapsed:(i=h.isCollapsed)!==null&&i!==void 0?i:!0,source:(t=h.source)!==null&&t!==void 0?t:0})}}}catch(Z){l.e(Z)}finally{l.f()}var R=Hu.sanitizeAndMerge(this._regions,n,r);this.updatePost(Hu.fromFoldRanges(R))}}},{key:"_getLinesChecksum",value:function(e,i){var t=Object(t_.c)(this._textModel.getLineContent(e)+this._textModel.getLineContent(i));return t%1e6}},{key:"dispose",value:function(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}},{key:"getAllRegionsAtLine",value:function(e,i){var t=[];if(this._regions)for(var n=this._regions.findRange(e),r=1;n>=0;){var l=this._regions.toRegion(n);(!i||i(l,r))&&t.push(l),r++,n=l.parentIndex}return t}},{key:"getRegionAtLine",value:function(e){if(this._regions){var i=this._regions.findRange(e);if(i>=0)return this._regions.toRegion(i)}return null}},{key:"getRegionsInside",value:function(e,i){var t=[],n=e?e.regionIndex+1:0,r=e?e.endLineNumber:Number.MAX_VALUE;if(i&&i.length===2)for(var l=[],c=n,h=this._regions.length;c<h;c++){var f=this._regions.toRegion(c);if(this._regions.getStartLineNumber(c)<r){for(;l.length>0&&!f.containedBy(l[l.length-1]);)l.pop();l.push(f),i(f,l.length)&&t.push(f)}else break}else for(var R=n,Z=this._regions.length;R<Z;R++){var ie=this._regions.toRegion(R);if(this._regions.getStartLineNumber(R)<r)(!i||i(ie))&&t.push(ie);else break}return t}}]),s}();function E1(s,o,e){var i=[],t=Object(B.a)(e),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=s.getRegionAtLine(r);l&&function(){var c=!l.isCollapsed;if(i.push(l),o>1){var h=s.getRegionsInside(l,function(f,R){return f.isCollapsed!==c&&R<o});i.push.apply(i,Object(Ai.a)(h))}}()}}catch(c){t.e(c)}finally{t.f()}s.toggleCollapseState(i)}function Af(s,o){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.MAX_VALUE,i=arguments.length>3?arguments[3]:void 0,t=[];if(i&&i.length>0){var n=Object(B.a)(i),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=s.getRegionAtLine(l);if(c&&(c.isCollapsed!==o&&t.push(c),e>1)){var h=s.getRegionsInside(c,function(R,Z){return R.isCollapsed!==o&&Z<e});t.push.apply(t,Object(Ai.a)(h))}}}catch(R){n.e(R)}finally{n.f()}}else{var f=s.getRegionsInside(null,function(R,Z){return R.isCollapsed!==o&&Z<e});t.push.apply(t,Object(Ai.a)(f))}s.toggleCollapseState(t)}function n_(s,o,e,i){var t=[],n=Object(B.a)(i),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=s.getAllRegionsAtLine(l,function(h,f){return h.isCollapsed!==o&&f<=e});t.push.apply(t,Object(Ai.a)(c))}}catch(h){n.e(h)}finally{n.f()}s.toggleCollapseState(t)}function L1(s,o,e){var i=[],t=Object(B.a)(e),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=s.getAllRegionsAtLine(r,function(c){return c.isCollapsed!==o});l.length>0&&i.push(l[0])}}catch(c){t.e(c)}finally{t.f()}s.toggleCollapseState(i)}function M1(s,o,e,i){var t=function(l,c){return c===o&&l.isCollapsed!==e&&!i.some(function(h){return l.containsLine(h)})},n=s.getRegionsInside(null,t);s.toggleCollapseState(n)}function i_(s,o,e){var i=[],t=Object(B.a)(e),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=s.getAllRegionsAtLine(r,void 0);l.length>0&&i.push(l[0])}}catch(f){t.e(f)}finally{t.f()}var c=function(R){return i.every(function(Z){return!Z.containedBy(R)&&!R.containedBy(Z)})&&R.isCollapsed!==o},h=s.getRegionsInside(null,c);s.toggleCollapseState(h)}function fp(s,o,e){for(var i=s.textModel,t=s.regions,n=[],r=t.length-1;r>=0;r--)if(e!==t.isCollapsed(r)){var l=t.getStartLineNumber(r);o.test(i.getLineContent(l))&&n.push(t.toRegion(r))}s.toggleCollapseState(n)}function vp(s,o,e){for(var i=s.regions,t=[],n=i.length-1;n>=0;n--)e!==i.isCollapsed(n)&&o===i.getType(n)&&t.push(i.toRegion(n));s.toggleCollapseState(t)}function T1(s,o){var e=null,i=o.getRegionAtLine(s);if(i!==null&&(e=i.startLineNumber,s===e)){var t=i.parentIndex;t!==-1?e=o.regions.getStartLineNumber(t):e=null}return e}function I1(s,o){var e=o.getRegionAtLine(s);if(e!==null&&e.startLineNumber===s){if(s!==e.startLineNumber)return e.startLineNumber;var i=e.parentIndex,t=0;for(i!==-1&&(t=o.regions.getStartLineNumber(e.parentIndex));e!==null;)if(e.regionIndex>0){if(e=o.regions.toRegion(e.regionIndex-1),e.startLineNumber<=t)return null;if(e.parentIndex===i)return e.startLineNumber}else return null}else if(o.regions.length>0)for(e=o.regions.toRegion(o.regions.length-1);e!==null;){if(e.startLineNumber<s)return e.startLineNumber;e.regionIndex>0?e=o.regions.toRegion(e.regionIndex-1):e=null}return null}function P1(s,o){var e=o.getRegionAtLine(s);if(e!==null&&e.startLineNumber===s){var i=e.parentIndex,t=0;if(i!==-1)t=o.regions.getEndLineNumber(e.parentIndex);else{if(o.regions.length===0)return null;t=o.regions.getEndLineNumber(o.regions.length-1)}for(;e!==null;)if(e.regionIndex<o.regions.length){if(e=o.regions.toRegion(e.regionIndex+1),e.startLineNumber>=t)return null;if(e.parentIndex===i)return e.startLineNumber}else return null}else if(o.regions.length>0)for(e=o.regions.toRegion(0);e!==null;){if(e.startLineNumber>s)return e.startLineNumber;e.regionIndex<o.regions.length?e=o.regions.toRegion(e.regionIndex+1):e=null}return null}var A1=a("CsXQ"),R1=function(){function s(o){var e=this;Object(k.a)(this,s),this._updateEventEmitter=new rr.b,this._hasLineChanges=!1,this._foldingModel=o,this._foldingModelListener=o.onDidChange(function(i){return e.updateHiddenRanges()}),this._hiddenRanges=[],o.regions.length&&this.updateHiddenRanges()}return Object(w.a)(s,[{key:"onDidChange",get:function(){return this._updateEventEmitter.event}},{key:"hiddenRanges",get:function(){return this._hiddenRanges}},{key:"notifyChangeModelContent",value:function(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(function(i){return i.range.endLineNumber!==i.range.startLineNumber||Object(A1.a)(i.text)[0]!==0}))}},{key:"updateHiddenRanges",value:function(){for(var e=!1,i=[],t=0,n=0,r=Number.MAX_VALUE,l=-1,c=this._foldingModel.regions;t<c.length;t++)if(!!c.isCollapsed(t)){var h=c.getStartLineNumber(t)+1,f=c.getEndLineNumber(t);r<=h&&f<=l||(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===h&&this._hiddenRanges[n].endLineNumber===f?(i.push(this._hiddenRanges[n]),n++):(e=!0,i.push(new Dt.a(h,1,f,1))),r=h,l=f)}(this._hasLineChanges||e||n<this._hiddenRanges.length)&&this.applyHiddenRanges(i)}},{key:"applyHiddenRanges",value:function(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}},{key:"hasRanges",value:function(){return this._hiddenRanges.length>0}},{key:"isHidden",value:function(e){return r_(this._hiddenRanges,e)!==null}},{key:"adjustSelections",value:function(e){for(var i=this,t=!1,n=this._foldingModel.textModel,r=null,l=function(je){return(!r||!N1(je,r))&&(r=r_(i._hiddenRanges,je)),r?r.startLineNumber-1:null},c=0,h=e.length;c<h;c++){var f=e[c],R=l(f.startLineNumber);R&&(f=f.setStartPosition(R,n.getLineMaxColumn(R)),t=!0);var Z=l(f.endLineNumber);Z&&(f=f.setEndPosition(Z,n.getLineMaxColumn(Z)),t=!0),e[c]=f}return t}},{key:"dispose",value:function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}]),s}();function N1(s,o){return s>=o.startLineNumber&&s<=o.endLineNumber}function r_(s,o){var e=Object(or.k)(s,function(i){return o<i.startLineNumber})-1;return e>=0&&s[e].endLineNumber>=o?s[e]:null}var x1=5e3,F1="indent",gp=function(){function s(o,e,i){Object(k.a)(this,s),this.editorModel=o,this.languageConfigurationService=e,this.foldingRangesLimit=i,this.id=F1}return Object(w.a)(s,[{key:"dispose",value:function(){}},{key:"compute",value:function(e){var i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,t=i&&!!i.offSide,n=i&&i.markers;return Promise.resolve(V1(this.editorModel,t,n,this.foldingRangesLimit))}}]),s}(),B1=function(){function s(o){Object(k.a)(this,s),this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=o}return Object(w.a)(s,[{key:"insertFirst",value:function(e,i,t){if(!(e>hc||i>hc)){var n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=i,this._length++,t<1e3&&(this._indentOccurrences[t]=(this._indentOccurrences[t]||0)+1)}}},{key:"toIndentRanges",value:function(e){var i=this._foldingRangesLimit.limit;if(this._length<=i){this._foldingRangesLimit.update(this._length,!1);for(var t=new Uint32Array(this._length),n=new Uint32Array(this._length),r=this._length-1,l=0;r>=0;r--,l++)t[l]=this._startIndexes[r],n[l]=this._endIndexes[r];return new Hu(t,n)}else{this._foldingRangesLimit.update(this._length,i);for(var c=0,h=this._indentOccurrences.length,f=0;f<this._indentOccurrences.length;f++){var R=this._indentOccurrences[f];if(R){if(R+c>i){h=f;break}c+=R}}for(var Z=e.getOptions().tabSize,ie=new Uint32Array(i),je=new Uint32Array(i),Ie=this._length-1,st=0;Ie>=0;Ie--){var ft=this._startIndexes[Ie],kt=e.getLineContent(ft),$t=Object(Fo.a)(kt,Z);($t<h||$t===h&&c++<i)&&(ie[st]=ft,je[st]=this._endIndexes[Ie],st++)}return new Hu(ie,je)}}}]),s}(),W1={limit:x1,update:function(){}};function V1(s,o,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W1,t=s.getOptions().tabSize,n=new B1(i),r=void 0;e&&(r=new RegExp("(".concat(e.start.source,")|(?:").concat(e.end.source,")")));var l=[],c=s.getLineCount()+1;l.push({indent:-1,endAbove:c,line:c});for(var h=s.getLineCount();h>0;h--){var f=s.getLineContent(h),R=Object(Fo.a)(f,t),Z=l[l.length-1];if(R===-1){o&&(Z.endAbove=h);continue}var ie=void 0;if(r&&(ie=f.match(r)))if(ie[1]){for(var je=l.length-1;je>0&&l[je].indent!==-2;)je--;if(je>0){l.length=je+1,Z=l[je],n.insertFirst(h,Z.line,R),Z.line=h,Z.indent=R,Z.endAbove=h;continue}}else{l.push({indent:-2,endAbove:h,line:h});continue}if(Z.indent>R){do l.pop(),Z=l[l.length-1];while(Z.indent>R);var Ie=Z.endAbove-1;Ie-h>=1&&n.insertFirst(h,Ie,R)}Z.indent===R?Z.endAbove=h:l.push({indent:R,endAbove:h,line:h})}return n.toIndentRanges(s)}var H1=Object(Vt.Fc)("editor.foldBackground",{light:Object(Vt.Sc)(Vt.bb,.3),dark:Object(Vt.Sc)(Vt.bb,.3),hcDark:null,hcLight:null},Object(Qe.b)("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);Object(Vt.Fc)("editorGutter.foldingControlForeground",{dark:Vt.nb,light:Vt.nb,hcDark:Vt.nb,hcLight:Vt.nb},Object(Qe.b)("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));var mp=Object(u.b)("folding-expanded",ta.a.chevronDown,Object(Qe.b)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),pp=Object(u.b)("folding-collapsed",ta.a.chevronRight,Object(Qe.b)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),a_=Object(u.b)("folding-manual-collapsed",pp,Object(Qe.b)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),o_=Object(u.b)("folding-manual-expanded",mp,Object(Qe.b)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),bp={color:Object(Oi.f)(H1),position:pn.e.Inline},ju=function(){function s(o){Object(k.a)(this,s),this.editor=o,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}return Object(w.a)(s,[{key:"getDecorationOption",value:function(e,i,t){return i?s.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?e?this.showFoldingHighlights?s.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:s.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:s.NO_CONTROLS_EXPANDED_RANGE_DECORATION:e?t?this.showFoldingHighlights?s.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:s.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?s.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:s.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?t?s.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:s.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:t?s.MANUALLY_EXPANDED_VISUAL_DECORATION:s.EXPANDED_VISUAL_DECORATION}},{key:"changeDecorations",value:function(e){return this.editor.changeDecorations(e)}},{key:"removeDecorations",value:function(e){this.editor.removeDecorations(e)}}]),s}();ju.COLLAPSED_VISUAL_DECORATION=ti.b.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:oa.a.asClassName(pp)}),ju.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=ti.b.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:bp,isWholeLine:!0,firstLineDecorationClassName:oa.a.asClassName(pp)}),ju.MANUALLY_COLLAPSED_VISUAL_DECORATION=ti.b.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:oa.a.asClassName(a_)}),ju.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=ti.b.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:bp,isWholeLine:!0,firstLineDecorationClassName:oa.a.asClassName(a_)}),ju.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=ti.b.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),ju.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=ti.b.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:bp,isWholeLine:!0}),ju.EXPANDED_VISUAL_DECORATION=ti.b.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+oa.a.asClassName(mp)}),ju.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=ti.b.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:oa.a.asClassName(mp)}),ju.MANUALLY_EXPANDED_VISUAL_DECORATION=ti.b.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+oa.a.asClassName(o_)}),ju.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=ti.b.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:oa.a.asClassName(o_)}),ju.NO_CONTROLS_EXPANDED_RANGE_DECORATION=ti.b.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),ju.HIDDEN_RANGE_DECORATION=ti.b.register({description:"folding-hidden-range-decoration",stickiness:1});var U1={},z1="syntax",yp=function(){function s(o,e,i,t,n){Object(k.a)(this,s),this.editorModel=o,this.providers=e,this.handleFoldingRangesChange=i,this.foldingRangesLimit=t,this.fallbackRangeProvider=n,this.id=z1,this.disposables=new Ze.c,n&&this.disposables.add(n);var r=Object(B.a)(e),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;typeof c.onDidChange=="function"&&this.disposables.add(c.onDidChange(i))}}catch(h){r.e(h)}finally{r.f()}}return Object(w.a)(s,[{key:"compute",value:function(e){var i=this;return K1(this.providers,this.editorModel,e).then(function(t){var n,r;if(t){var l=$1(t,i.foldingRangesLimit);return l}return(r=(n=i.fallbackRangeProvider)===null||n===void 0?void 0:n.compute(e))!==null&&r!==void 0?r:null})}},{key:"dispose",value:function(){this.disposables.dispose()}}]),s}();function K1(s,o,e){var i=null,t=s.map(function(n,r){return Promise.resolve(n.provideFoldingRanges(o,U1,e)).then(function(l){if(!e.isCancellationRequested&&Array.isArray(l)){Array.isArray(i)||(i=[]);var c=o.getLineCount(),h=Object(B.a)(l),f;try{for(h.s();!(f=h.n()).done;){var R=f.value;R.start>0&&R.end>R.start&&R.end<=c&&i.push({start:R.start,end:R.end,rank:r,kind:R.kind})}}catch(Z){h.e(Z)}finally{h.f()}}},zi.i)});return Promise.all(t).then(function(n){return i})}var G1=function(){function s(o){Object(k.a)(this,s),this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=o}return Object(w.a)(s,[{key:"add",value:function(e,i,t,n){if(!(e>hc||i>hc)){var r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=i,this._nestingLevels[r]=n,this._types[r]=t,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}}},{key:"toIndentRanges",value:function(){var e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);for(var i=new Uint32Array(this._length),t=new Uint32Array(this._length),n=0;n<this._length;n++)i[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new Hu(i,t,this._types)}else{this._foldingRangesLimit.update(this._length,e);for(var r=0,l=this._nestingLevelCounts.length,c=0;c<this._nestingLevelCounts.length;c++){var h=this._nestingLevelCounts[c];if(h){if(h+r>e){l=c;break}r+=h}}for(var f=new Uint32Array(e),R=new Uint32Array(e),Z=[],ie=0,je=0;ie<this._length;ie++){var Ie=this._nestingLevels[ie];(Ie<l||Ie===l&&r++<e)&&(f[je]=this._startIndexes[ie],R[je]=this._endIndexes[ie],Z[je]=this._types[ie],je++)}return new Hu(f,R,Z)}}}]),s}();function $1(s,o){var e=s.sort(function(h,f){var R=h.start-f.start;return R===0&&(R=h.rank-f.rank),R}),i=new G1(o),t=void 0,n=[],r=Object(B.a)(e),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;if(!t)t=c,i.add(c.start,c.end,c.kind&&c.kind.value,n.length);else if(c.start>t.start)if(c.end<=t.end)n.push(t),t=c,i.add(c.start,c.end,c.kind&&c.kind.value,n.length);else{if(c.start>t.end){do t=n.pop();while(t&&c.start>t.end);t&&n.push(t),t=c}i.add(c.start,c.end,c.kind&&c.kind.value,n.length)}}}catch(h){r.e(h)}finally{r.f()}return i.toIndentRanges()}var Q1=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Fv=function(s,o){return function(e,i){o(e,i,s)}},Y1=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Qs=new Jn.c("foldingEnabled",!1),ud=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c){var h;Object(k.a)(this,e),h=o.call(this),h.contextKeyService=t,h.languageConfigurationService=n,h.languageFeaturesService=c,h.localToDispose=h._register(new Ze.c),h.editor=i,h._foldingLimitReporter=new s_(i);var f=h.editor.getOptions();return h._isEnabled=f.get(41),h._useFoldingProviders=f.get(42)!=="indentation",h._unfoldOnClickAfterEndOfLine=f.get(46),h._restoringViewState=!1,h._currentModelHasFoldedImports=!1,h._foldingImportsByDefault=f.get(44),h.updateDebounceInfo=l.for(c.foldingRangeProvider,"Folding",{min:200}),h.foldingModel=null,h.hiddenRangeModel=null,h.rangeProvider=null,h.foldingRegionPromise=null,h.foldingModelPromise=null,h.updateScheduler=null,h.cursorChangedScheduler=null,h.mouseDownInfo=null,h.foldingDecorationProvider=new ju(i),h.foldingDecorationProvider.showFoldingControls=f.get(106),h.foldingDecorationProvider.showFoldingHighlights=f.get(43),h.foldingEnabled=Qs.bindTo(h.contextKeyService),h.foldingEnabled.set(h._isEnabled),h._register(h.editor.onDidChangeModel(function(){return h.onModelChanged()})),h._register(h.editor.onDidChangeConfiguration(function(R){if(R.hasChanged(41)&&(h._isEnabled=h.editor.getOptions().get(41),h.foldingEnabled.set(h._isEnabled),h.onModelChanged()),R.hasChanged(45)&&h.onModelChanged(),R.hasChanged(106)||R.hasChanged(43)){var Z=h.editor.getOptions();h.foldingDecorationProvider.showFoldingControls=Z.get(106),h.foldingDecorationProvider.showFoldingHighlights=Z.get(43),h.triggerFoldingModelChanged()}R.hasChanged(42)&&(h._useFoldingProviders=h.editor.getOptions().get(42)!=="indentation",h.onFoldingStrategyChanged()),R.hasChanged(46)&&(h._unfoldOnClickAfterEndOfLine=h.editor.getOptions().get(46)),R.hasChanged(44)&&(h._foldingImportsByDefault=h.editor.getOptions().get(44))})),h.onModelChanged(),h}return Object(w.a)(e,[{key:"saveViewState",value:function(){var t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization())return{};if(this.foldingModel){var n=this.foldingModel.getMemento(),r=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:n,lineCount:t.getLineCount(),provider:r,foldedImports:this._currentModelHasFoldedImports}}}},{key:"restoreViewState",value:function(t){var n=this.editor.getModel();if(!(!n||!this._isEnabled||n.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!!t&&(this._currentModelHasFoldedImports=!!t.foldedImports,t.collapsedRegions&&t.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(t.collapsedRegions)}finally{this._restoringViewState=!1}}}},{key:"onModelChanged",value:function(){var t=this;this.localToDispose.clear();var n=this.editor.getModel();!this._isEnabled||!n||n.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new j1(n,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new R1(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(function(r){return t.onHiddenRangesChanges(r)})),this.updateScheduler=new et.c(this.updateDebounceInfo.get(n)),this.cursorChangedScheduler=new et.g(function(){return t.revealCursor()},200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(function(){return t.onFoldingStrategyChanged()})),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(function(){return t.onFoldingStrategyChanged()})),this.localToDispose.add(this.editor.onDidChangeModelContent(function(r){return t.onDidChangeModelContent(r)})),this.localToDispose.add(this.editor.onDidChangeCursorPosition(function(){return t.onCursorPositionChanged()})),this.localToDispose.add(this.editor.onMouseDown(function(r){return t.onEditorMouseDown(r)})),this.localToDispose.add(this.editor.onMouseUp(function(r){return t.onEditorMouseUp(r)})),this.localToDispose.add({dispose:function(){var l,c;t.foldingRegionPromise&&(t.foldingRegionPromise.cancel(),t.foldingRegionPromise=null),(l=t.updateScheduler)===null||l===void 0||l.cancel(),t.updateScheduler=null,t.foldingModel=null,t.foldingModelPromise=null,t.hiddenRangeModel=null,t.cursorChangedScheduler=null,(c=t.rangeProvider)===null||c===void 0||c.dispose(),t.rangeProvider=null}}),this.triggerFoldingModelChanged())}},{key:"onFoldingStrategyChanged",value:function(){var t;(t=this.rangeProvider)===null||t===void 0||t.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}},{key:"getRangeProvider",value:function(t){var n=this;if(this.rangeProvider)return this.rangeProvider;var r=new gp(t,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=r,this._useFoldingProviders&&this.foldingModel){var l=e.getFoldingRangeProviders(this.languageFeaturesService,t);l.length>0&&(this.rangeProvider=new yp(t,l,function(){return n.triggerFoldingModelChanged()},this._foldingLimitReporter,r))}return this.rangeProvider}},{key:"getFoldingModel",value:function(){return this.foldingModelPromise}},{key:"onDidChangeModelContent",value:function(t){var n;(n=this.hiddenRangeModel)===null||n===void 0||n.notifyChangeModelContent(t),this.triggerFoldingModelChanged()}},{key:"triggerFoldingModelChanged",value:function(){var t=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(function(){var n=t.foldingModel;if(!n)return null;var r=new Ds.a(!0),l=t.getRangeProvider(n.textModel),c=t.foldingRegionPromise=Object(et.k)(function(h){return l.compute(h)});return c.then(function(h){if(h&&c===t.foldingRegionPromise){var f;if(t._foldingImportsByDefault&&!t._currentModelHasFoldedImports){var R=h.setCollapsedAllOfType(oo.e.Imports.value,!0);R&&(f=Bs.a.capture(t.editor),t._currentModelHasFoldedImports=R)}var Z=t.editor.getSelections(),ie=Z?Z.map(function(Ie){return Ie.startLineNumber}):[];n.update(h,ie),f==null||f.restore(t.editor);var je=t.updateDebounceInfo.update(n.textModel,r.elapsed());t.updateScheduler&&(t.updateScheduler.defaultDelay=je)}return n})}).then(void 0,function(n){return Object(zi.h)(n),null}))}},{key:"onHiddenRangesChanges",value:function(t){if(this.hiddenRangeModel&&t.length&&!this._restoringViewState){var n=this.editor.getSelections();n&&this.hiddenRangeModel.adjustSelections(n)&&this.editor.setSelections(n)}this.editor.setHiddenAreas(t,this)}},{key:"onCursorPositionChanged",value:function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}},{key:"revealCursor",value:function(){var t=this,n=this.getFoldingModel();!n||n.then(function(r){if(r){var l=t.editor.getSelections();if(l&&l.length>0){var c=[],h=Object(B.a)(l),f;try{var R=function(){var ie=f.value,je=ie.selectionStartLineNumber;t.hiddenRangeModel&&t.hiddenRangeModel.isHidden(je)&&c.push.apply(c,Object(Ai.a)(r.getAllRegionsAtLine(je,function(Ie){return Ie.isCollapsed&&je>Ie.startLineNumber})))};for(h.s();!(f=h.n()).done;)R()}catch(Z){h.e(Z)}finally{h.f()}c.length&&(r.toggleCollapseState(c),t.reveal(l[0].getPosition()))}}}).then(void 0,zi.h)}},{key:"onEditorMouseDown",value:function(t){if(this.mouseDownInfo=null,!(!this.hiddenRangeModel||!t.target||!t.target.range)&&!(!t.event.leftButton&&!t.event.middleButton)){var n=t.target.range,r=!1;switch(t.target.type){case 4:{var l=t.target.detail,c=t.target.element.offsetLeft,h=l.offsetX-c;if(h<5)return;r=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){var f=t.target.detail;if(!f.isAfterLines)break}return}case 6:{if(this.hiddenRangeModel.hasRanges()){var R=this.editor.getModel();if(R&&n.startColumn===R.getLineMaxColumn(n.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:n.startLineNumber,iconClicked:r}}}},{key:"onEditorMouseUp",value:function(t){var n=this.foldingModel;if(!(!n||!this.mouseDownInfo||!t.target)){var r=this.mouseDownInfo.lineNumber,l=this.mouseDownInfo.iconClicked,c=t.target.range;if(!(!c||c.startLineNumber!==r)){if(l){if(t.target.type!==4)return}else{var h=this.editor.getModel();if(!h||c.startColumn!==h.getLineMaxColumn(r))return}var f=n.getRegionAtLine(r);if(f&&f.startLineNumber===r){var R=f.isCollapsed;if(l||R){var Z=t.event.altKey,ie=[];if(Z){var je=function(Si){return!Si.containedBy(f)&&!f.containedBy(Si)},Ie=n.getRegionsInside(null,je),st=Object(B.a)(Ie),ft;try{for(st.s();!(ft=st.n()).done;){var kt=ft.value;kt.isCollapsed&&ie.push(kt)}}catch(fi){st.e(fi)}finally{st.f()}ie.length===0&&(ie=Ie)}else{var $t=t.event.middleButton||t.event.shiftKey;if($t){var un=Object(B.a)(n.getRegionsInside(f)),Yn;try{for(un.s();!(Yn=un.n()).done;){var xn=Yn.value;xn.isCollapsed===R&&ie.push(xn)}}catch(fi){un.e(fi)}finally{un.f()}}(R||!$t||ie.length===0)&&ie.push(f)}n.toggleCollapseState(ie),this.reveal({lineNumber:r,column:1})}}}}}},{key:"reveal",value:function(t){this.editor.revealPositionInCenterIfOutsideViewport(t,0)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}},{key:"getFoldingRangeProviders",value:function(t,n){var r,l,c=t.foldingRangeProvider.ordered(n);return(l=(r=e._foldingRangeSelector)===null||r===void 0?void 0:r.call(e,c,n))!==null&&l!==void 0?l:c}}]),e}(Ze.a);ud.ID="editor.contrib.folding",ud=Q1([Fv(1,Jn.b),Fv(2,Ro.a),Fv(3,io.a),Fv(4,Ks.a),Fv(5,Nr.a)],ud);var s_=function(){function s(o){Object(k.a)(this,s),this.editor=o,this._onDidChange=new rr.b,this._computed=0,this._limited=!1}return Object(w.a)(s,[{key:"limit",get:function(){return this.editor.getOptions().get(45)}},{key:"update",value:function(e,i){(e!==this._computed||i!==this._limited)&&(this._computed=e,this._limited=i,this._onDidChange.fire())}}]),s}(),nl=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n,r){var l=this,c=t.get(Ro.a),h=ud.get(n);if(!!h){var f=h.getFoldingModel();if(f)return this.reportTelemetry(t,n),f.then(function(R){if(R){l.invoke(h,R,n,r,c);var Z=n.getSelection();Z&&h.reveal(Z.getStartPosition())}})}}},{key:"getSelectedLines",value:function(t){var n=t.getSelections();return n?n.map(function(r){return r.startLineNumber}):[]}},{key:"getLineNumbers",value:function(t,n){return t&&t.selectionLines?t.selectionLines.map(function(r){return r+1}):this.getSelectedLines(n)}},{key:"run",value:function(t,n){}}]),e}(St.b);function l_(s){if(!Yr.k(s)){if(!Yr.h(s))return!1;var o=s;if(!Yr.k(o.levels)&&!Yr.g(o.levels)||!Yr.k(o.direction)&&!Yr.i(o.direction)||!Yr.k(o.selectionLines)&&(!Array.isArray(o.selectionLines)||!o.selectionLines.every(Yr.g)))return!1}return!0}var Z1=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.unfold",label:Qe.b("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|1024|94,mac:{primary:2048|512|94},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:l_,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r,l){var c=l&&l.levels||1,h=this.getLineNumbers(l,r);l&&l.direction==="up"?n_(n,!1,c,h):Af(n,!1,c,h)}}]),e}(nl),X1=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.unfoldRecursively",label:Qe.b("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|94),weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r,l){Af(n,!1,Number.MAX_VALUE,this.getSelectedLines(r))}}]),e}(nl),J1=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.fold",label:Qe.b("foldAction.label","Fold"),alias:"Fold",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|1024|92,mac:{primary:2048|512|92},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:l_,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r,l){var c=this.getLineNumbers(l,r),h=l&&l.levels,f=l&&l.direction;typeof h!="number"&&typeof f!="string"?L1(n,!0,c):f==="up"?n_(n,!0,h||1,c):Af(n,!0,h||1,c)}}]),e}(nl),q1=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.toggleFold",label:Qe.b("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|42),weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);E1(n,1,l)}}]),e}(nl),eS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.foldRecursively",label:Qe.b("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|92),weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);Af(n,!0,Number.MAX_VALUE,l)}}]),e}(nl),tS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.foldAllBlockComments",label:Qe.b("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|90),weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r,l,c){if(n.regions.hasTypes())vp(n,oo.e.Comment.value,!0);else{var h=r.getModel();if(!h)return;var f=c.getLanguageConfiguration(h.getLanguageId()).comments;if(f&&f.blockCommentStartToken){var R=new RegExp("^\\s*"+Object(Vn.t)(f.blockCommentStartToken));fp(n,R,!0)}}}}]),e}(nl),nS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.foldAllMarkerRegions",label:Qe.b("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|29),weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r,l,c){if(n.regions.hasTypes())vp(n,oo.e.Region.value,!0);else{var h=r.getModel();if(!h)return;var f=c.getLanguageConfiguration(h.getLanguageId()).foldingRules;if(f&&f.markers&&f.markers.start){var R=new RegExp(f.markers.start);fp(n,R,!0)}}}}]),e}(nl),iS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.unfoldAllMarkerRegions",label:Qe.b("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|30),weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r,l,c){if(n.regions.hasTypes())vp(n,oo.e.Region.value,!1);else{var h=r.getModel();if(!h)return;var f=c.getLanguageConfiguration(h.getLanguageId()).foldingRules;if(f&&f.markers&&f.markers.start){var R=new RegExp(f.markers.start);fp(n,R,!1)}}}}]),e}(nl),rS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.foldAllExcept",label:Qe.b("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|88),weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);i_(n,!0,l)}}]),e}(nl),aS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.unfoldAllExcept",label:Qe.b("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|86),weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);i_(n,!1,l)}}]),e}(nl),oS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.foldAll",label:Qe.b("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|21),weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r){Af(n,!0)}}]),e}(nl),sS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.unfoldAll",label:Qe.b("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|40),weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r){Af(n,!1)}}]),e}(nl),Bv=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"getFoldingLevel",value:function(){return parseInt(this.id.substr(e.ID_PREFIX.length))}},{key:"invoke",value:function(t,n,r){M1(n,this.getFoldingLevel(),!0,this.getSelectedLines(r))}}]),e}(nl);Bv.ID_PREFIX="editor.foldLevel",Bv.ID=function(s){return Bv.ID_PREFIX+s};var lS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.gotoParentFold",label:Qe.b("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);if(l.length>0){var c=T1(l[0],n);c!==null&&r.setSelection({startLineNumber:c,startColumn:1,endLineNumber:c,endColumn:1})}}}]),e}(nl),uS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.gotoPreviousFold",label:Qe.b("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);if(l.length>0){var c=I1(l[0],n);c!==null&&r.setSelection({startLineNumber:c,startColumn:1,endLineNumber:c,endColumn:1})}}}]),e}(nl),cS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.gotoNextFold",label:Qe.b("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r){var l=this.getSelectedLines(r);if(l.length>0){var c=P1(l[0],n);c!==null&&r.setSelection({startLineNumber:c,startColumn:1,endLineNumber:c,endColumn:1})}}}]),e}(nl),dS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.createFoldingRangeFromSelection",label:Qe.b("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|87),weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r){var l,c=[],h=r.getSelections();if(h){var f=Object(B.a)(h),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value,ie=Z.endLineNumber;Z.endColumn===1&&--ie,ie>Z.startLineNumber&&(c.push({startLineNumber:Z.startLineNumber,endLineNumber:ie,type:void 0,isCollapsed:!0,source:1}),r.setSelection({startLineNumber:Z.startLineNumber,startColumn:1,endLineNumber:Z.startLineNumber,endColumn:1}))}}catch(Ie){f.e(Ie)}finally{f.f()}if(c.length>0){c.sort(function(Ie,st){return Ie.startLineNumber-st.startLineNumber});var je=Hu.sanitizeAndMerge(n.regions,c,(l=r.getModel())===null||l===void 0?void 0:l.getLineCount());n.updatePost(Hu.fromFoldRanges(je))}}}}]),e}(nl),hS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.removeManualFoldingRanges",label:Qe.b("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|89),weight:100}})}return Object(w.a)(e,[{key:"invoke",value:function(t,n,r){var l=r.getSelections();if(l){var c=[],h=Object(B.a)(l),f;try{for(h.s();!(f=h.n()).done;){var R=f.value,Z=R.startLineNumber,ie=R.endLineNumber;c.push(ie>=Z?{startLineNumber:Z,endLineNumber:ie}:{endLineNumber:ie,startLineNumber:Z})}}catch(je){h.e(je)}finally{h.f()}n.removeManualRanges(c),t.triggerFoldingModelChanged()}}}]),e}(nl);Object(St.m)(ud.ID,ud,0),Object(St.k)(Z1),Object(St.k)(X1),Object(St.k)(J1),Object(St.k)(eS),Object(St.k)(oS),Object(St.k)(sS),Object(St.k)(tS),Object(St.k)(nS),Object(St.k)(iS),Object(St.k)(rS),Object(St.k)(aS),Object(St.k)(q1),Object(St.k)(lS),Object(St.k)(uS),Object(St.k)(cS),Object(St.k)(dS),Object(St.k)(hS);for(var Rf=1;Rf<=7;Rf++)Object(St.n)(new Bv({id:Bv.ID(Rf),label:Qe.b("foldLevelAction.label","Fold Level {0}",Rf),alias:"Fold Level ".concat(Rf),precondition:Qs,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|21+Rf),weight:100}}));ia.a.registerCommand("_executeFoldingRangeProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return Y1(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R,Z,ie,je,Ie,st,ft,kt;return Object(d.a)().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:if(n=e[0],n instanceof Wr.a){un.next=3;break}throw Object(zi.e)();case 3:if(r=s.get(Nr.a),l=s.get(xa.a).getModel(n),l){un.next=7;break}throw Object(zi.e)();case 7:if(c=s.get(Po.a),c.getValue("editor.folding",{resource:n})){un.next=10;break}return un.abrupt("return",[]);case 10:return h=s.get(Ro.a),f=c.getValue("editor.foldingStrategy",{resource:n}),un.t0=function(xn,fi){},R={get limit(){return c.getValue("editor.foldingMaximumRegions",{resource:n})},update:un.t0},Z=new gp(l,h,R),ie=Z,f!=="indentation"&&(je=ud.getFoldingRangeProviders(r,l),je.length&&(ie=new yp(l,je,function(){},R,Z))),un.next=19,ie.compute(Zi.a.None);case 19:if(Ie=un.sent,st=[],un.prev=21,Ie)for(ft=0;ft<Ie.length;ft++)kt=Ie.getType(ft),st.push({start:Ie.getStartLineNumber(ft),end:Ie.getEndLineNumber(ft),kind:kt?oo.e.fromValue(kt):void 0});return un.abrupt("return",st);case 24:return un.prev=24,ie.dispose(),un.finish(24);case 27:case"end":return un.stop()}},t,null,[[21,,24,27]])}))});var Wv=a("Yr1X"),fS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.fontZoomIn",label:Qe.b("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n){Wv.a.setZoomLevel(Wv.a.getZoomLevel()+1)}}]),e}(St.b),vS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.fontZoomOut",label:Qe.b("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n){Wv.a.setZoomLevel(Wv.a.getZoomLevel()-1)}}]),e}(St.b),gS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.fontZoomReset",label:Qe.b("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n){Wv.a.setZoomLevel(0)}}]),e}(St.b);Object(St.k)(fS),Object(St.k)(vS),Object(St.k)(gS);var Kg=a("MXAL"),Vv=a("Cdua"),Hv=a("ezu8"),mS=a("dfpW"),u_=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Gg=function(s,o){return function(e,i){o(e,i,s)}},_p=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Uv=function(){function s(o,e,i){var t=this;Object(k.a)(this,s),this._editor=o,this._languageFeaturesService=e,this._workerService=i,this._disposables=new Ze.c,this._sessionDisposables=new Ze.c,this._disposables.add(e.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(o.onDidChangeModel(function(){return t._update()})),this._disposables.add(o.onDidChangeModelLanguage(function(){return t._update()})),this._disposables.add(o.onDidChangeConfiguration(function(n){n.hasChanged(54)&&t._update()})),this._update()}return Object(w.a)(s,[{key:"dispose",value:function(){this._disposables.dispose(),this._sessionDisposables.dispose()}},{key:"_update",value:function(){var e=this;if(this._sessionDisposables.clear(),!!this._editor.getOption(54)&&!!this._editor.hasModel()){var i=this._editor.getModel(),t=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(i),n=Object(z.a)(t,1),r=n[0];if(!(!r||!r.autoFormatTriggerCharacters)){var l=new Kg.b,c=Object(B.a)(r.autoFormatTriggerCharacters),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;l.add(f.charCodeAt(0))}}catch(R){c.e(R)}finally{c.f()}this._sessionDisposables.add(this._editor.onDidType(function(R){var Z=R.charCodeAt(R.length-1);l.has(Z)&&e._trigger(String.fromCharCode(Z))}))}}}},{key:"_trigger",value:function(e){var i=this;if(!!this._editor.hasModel()&&!(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())){var t=this._editor.getModel(),n=this._editor.getPosition(),r=new Zi.b,l=this._editor.onDidChangeModelContent(function(c){if(c.isFlush){r.cancel(),l.dispose();return}for(var h=0,f=c.changes.length;h<f;h++){var R=c.changes[h];if(R.range.endLineNumber<=n.lineNumber){r.cancel(),l.dispose();return}}});Object(Hv.e)(this._workerService,this._languageFeaturesService,t,n,e,t.getFormattingOptions(),r.token).then(function(c){r.token.isCancellationRequested||Object(or.s)(c)&&(mS.a.execute(i._editor,c,!0),Object(Hv.b)(c))}).finally(function(){l.dispose()})}}}]),s}();Uv.ID="editor.contrib.autoFormat",Uv=u_([Gg(1,Nr.a),Gg(2,Vv.a)],Uv);var zv=function(){function s(o,e,i){var t=this;Object(k.a)(this,s),this.editor=o,this._languageFeaturesService=e,this._instantiationService=i,this._callOnDispose=new Ze.c,this._callOnModel=new Ze.c,this._callOnDispose.add(o.onDidChangeConfiguration(function(){return t._update()})),this._callOnDispose.add(o.onDidChangeModel(function(){return t._update()})),this._callOnDispose.add(o.onDidChangeModelLanguage(function(){return t._update()})),this._callOnDispose.add(e.documentRangeFormattingEditProvider.onDidChange(this._update,this))}return Object(w.a)(s,[{key:"dispose",value:function(){this._callOnDispose.dispose(),this._callOnModel.dispose()}},{key:"_update",value:function(){var e=this;this._callOnModel.clear(),!!this.editor.getOption(53)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(function(i){var t=i.range;return e._trigger(t)})))}},{key:"_trigger",value:function(e){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Hv.c,this.editor,e,2,ro.c.None,Zi.a.None).catch(zi.h)}}]),s}();zv.ID="editor.contrib.formatOnPaste",zv=u_([Gg(1,Nr.a),Gg(2,Ia.a)],zv);var pS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.formatDocument",label:Qe.b("formatDocument.label","Format Document"),alias:"Format Document",precondition:Jn.a.and(an.a.notInCompositeEditor,an.a.writable,an.a.hasDocumentFormattingProvider),kbOpts:{kbExpr:an.a.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}return Object(w.a)(e,[{key:"run",value:function(t,n){return _p(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!n.hasModel()){f.next=5;break}return l=t.get(Ia.a),c=t.get(ro.a),f.next=5,c.showWhile(l.invokeFunction(Hv.d,n,1,ro.c.None,Zi.a.None),250);case 5:case"end":return f.stop()}},r)}))}}]),e}(St.b),bS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.formatSelection",label:Qe.b("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Jn.a.and(an.a.writable,an.a.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|36),weight:100},contextMenuOpts:{when:an.a.hasNonEmptySelection,group:"1_modification",order:1.31}})}return Object(w.a)(e,[{key:"run",value:function(t,n){return _p(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h,f;return Object(d.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(n.hasModel()){Z.next=2;break}return Z.abrupt("return");case 2:return l=t.get(Ia.a),c=n.getModel(),h=n.getSelections().map(function(ie){return ie.isEmpty()?new Dt.a(ie.startLineNumber,1,ie.startLineNumber,c.getLineMaxColumn(ie.startLineNumber)):ie}),f=t.get(ro.a),Z.next=8,f.showWhile(l.invokeFunction(Hv.c,n,h,1,ro.c.None,Zi.a.None),250);case 8:case"end":return Z.stop()}},r)}))}}]),e}(St.b);Object(St.m)(Uv.ID,Uv,2),Object(St.m)(zv.ID,zv,2),Object(St.k)(pS),Object(St.k)(bS),ia.a.registerCommand("editor.action.format",function(s){return _p(void 0,void 0,void 0,Object(d.a)().mark(function o(){var e,i;return Object(d.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e=s.get(In.a).getFocusedCodeEditor(),!(!e||!e.hasModel())){n.next=3;break}return n.abrupt("return");case 3:if(i=s.get(ia.b),!e.getSelection().isEmpty()){n.next=9;break}return n.next=7,i.executeCommand("editor.action.formatDocument");case 7:n.next=11;break;case 9:return n.next=11,i.executeCommand("editor.action.formatSelection");case 11:case"end":return n.stop()}},o)}))});var yS=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Cp=function(s,o){return function(e,i){o(e,i,s)}},_S=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Nf=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"remove",value:function(){var e;(e=this.parent)===null||e===void 0||e.children.delete(this.id)}}],[{key:"findId",value:function(e,i){var t;typeof e=="string"?t="".concat(i.id,"/").concat(e):(t="".concat(i.id,"/").concat(e.name),i.children.get(t)!==void 0&&(t="".concat(i.id,"/").concat(e.name,"_").concat(e.range.startLineNumber,"_").concat(e.range.startColumn)));for(var n=t,r=0;i.children.get(n)!==void 0;r++)n="".concat(t,"_").concat(r);return n}},{key:"empty",value:function(e){return e.children.size===0}}]),s}(),Op=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r.id=i,r.parent=t,r.symbol=n,r.children=new Map,r}return Object(w.a)(e)}(Nf),c_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;return Object(k.a)(this,e),l=o.call(this),l.id=i,l.parent=t,l.label=n,l.order=r,l.children=new Map,l}return Object(w.a)(e)}(Nf),d_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t.uri=i,t.id="root",t.parent=void 0,t._groups=new Map,t.children=new Map,t.id="root",t.parent=void 0,t}return Object(w.a)(e,[{key:"_compact",value:function(){var t=0,n=Object(B.a)(this._groups),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=Object(z.a)(l,2),h=c[0],f=c[1];f.children.size===0?this._groups.delete(h):t+=1}}catch(ft){n.e(ft)}finally{n.f()}if(t!==1)this.children=this._groups;else{var R=yl.a.first(this._groups.values()),Z=Object(B.a)(R.children),ie;try{for(Z.s();!(ie=Z.n()).done;){var je=ie.value,Ie=Object(z.a)(je,2),st=Ie[1];st.parent=this,this.children.set(st.id,st)}}catch(ft){Z.e(ft)}finally{Z.f()}}return this}},{key:"getTopLevelSymbols",value:function(){var t=[],n=Object(B.a)(this.children.values()),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;l instanceof Op?t.push(l.symbol):t.push.apply(t,Object(Ai.a)(yl.a.map(l.children.values(),function(c){return c.symbol})))}}catch(c){n.e(c)}finally{n.f()}return t.sort(function(c,h){return Dt.a.compareRangesUsingStarts(c.range,h.range)})}},{key:"asListOfDocumentSymbols",value:function(){var t=this.getTopLevelSymbols(),n=[];return e._flattenDocumentSymbols(n,t,""),n.sort(function(r,l){return tn.a.compare(Dt.a.getStartPosition(r.range),Dt.a.getStartPosition(l.range))||tn.a.compare(Dt.a.getEndPosition(l.range),Dt.a.getEndPosition(r.range))})}}],[{key:"create",value:function(t,n,r){var l=new Zi.b(r),c=new e(n.uri),h=t.ordered(n),f=h.map(function(Z,ie){var je,Ie=Nf.findId("provider_".concat(ie),c),st=new c_(Ie,c,(je=Z.displayName)!==null&&je!==void 0?je:"Unknown Outline Provider",ie);return Promise.resolve(Z.provideDocumentSymbols(n,l.token)).then(function(ft){var kt=Object(B.a)(ft||[]),$t;try{for(kt.s();!($t=kt.n()).done;){var un=$t.value;e._makeOutlineElement(un,st)}}catch(Yn){kt.e(Yn)}finally{kt.f()}return st},function(ft){return Object(zi.i)(ft),st}).then(function(ft){Nf.empty(ft)?ft.remove():c._groups.set(Ie,ft)})}),R=t.onDidChange(function(){var Z=t.ordered(n);Object(or.j)(Z,h)||l.cancel()});return Promise.all(f).then(function(){return l.token.isCancellationRequested&&!r.isCancellationRequested?e.create(t,n,r):c._compact()}).finally(function(){R.dispose()})}},{key:"_makeOutlineElement",value:function(t,n){var r=Nf.findId(t,n),l=new Op(r,n,t);if(t.children){var c=Object(B.a)(t.children),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;e._makeOutlineElement(f,l)}}catch(R){c.e(R)}finally{c.f()}}n.children.set(l.id,l)}},{key:"_flattenDocumentSymbols",value:function(t,n,r){var l=Object(B.a)(n),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;t.push({kind:h.kind,tags:h.tags,name:h.name,detail:h.detail,containerName:h.containerName||r,range:h.range,selectionRange:h.selectionRange,children:void 0}),h.children&&e._flattenDocumentSymbols(t,h.children,h.name)}}catch(f){l.e(f)}finally{l.f()}}}]),e}(Nf),$g=Object(Ia.c)("IOutlineModelService"),Sp=function(){function s(o,e,i){var t=this;Object(k.a)(this,s),this._languageFeaturesService=o,this._disposables=new Ze.c,this._cache=new Ju.a(10,.7),this._debounceInformation=e.for(o.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved(function(n){t._cache.delete(n.id)}))}return Object(w.a)(s,[{key:"dispose",value:function(){this._disposables.dispose()}},{key:"getOrCreate",value:function(e,i){return _S(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r,l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(r=this._languageFeaturesService.documentSymbolProvider,l=r.ordered(e),c=this._cache.get(e.id),(!c||c.versionId!==e.getVersionId()||!Object(or.j)(c.provider,l))&&(h=new Zi.b,c={versionId:e.getVersionId(),provider:l,promiseCnt:0,source:h,promise:d_.create(r,e,h.token),model:void 0},this._cache.set(e.id,c),f=Date.now(),c.promise.then(function(je){c.model=je,n._debounceInformation.update(e,Date.now()-f)}).catch(function(je){n._cache.delete(e.id)})),!c.model){ie.next=6;break}return ie.abrupt("return",c.model);case 6:return c.promiseCnt+=1,R=i.onCancellationRequested(function(){--c.promiseCnt==0&&(c.source.cancel(),n._cache.delete(e.id))}),ie.prev=8,ie.next=11,c.promise;case 11:return ie.abrupt("return",ie.sent);case 12:return ie.prev=12,R.dispose(),ie.finish(12);case 15:case"end":return ie.stop()}},t,this,[[8,,12,15]])}))}}]),s}();Sp=yS([Cp(0,Nr.a),Cp(1,Ks.a),Cp(2,xa.a)],Sp),Object(Xs.b)($g,Sp,1);var CS=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};ia.a.registerCommand("_executeDocumentSymbolProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return CS(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=e[0],Object(Yr.b)(Wr.a.isUri(n)),r=s.get($g),l=s.get(Ur.a),f.next=6,l.createModelReference(n);case 6:return c=f.sent,f.prev=7,f.next=10,r.getOrCreate(c.object.textEditorModel,Zi.a.None);case 10:return f.abrupt("return",f.sent.getTopLevelSymbols());case 11:return f.prev=11,c.dispose(),f.finish(11);case 14:case"end":return f.stop()}},t,null,[[7,,11,14]])}))});var OS=a("JLfW"),kl=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n.contextKeyService=i,n.model=t,n.inlineCompletionVisible=e.inlineSuggestionVisible.bindTo(n.contextKeyService),n.inlineCompletionSuggestsIndentation=e.inlineSuggestionHasIndentation.bindTo(n.contextKeyService),n.inlineCompletionSuggestsIndentationLessThanTabSize=e.inlineSuggestionHasIndentationLessThanTabSize.bindTo(n.contextKeyService),n.suppressSuggestions=e.suppressSuggestions.bindTo(n.contextKeyService),n._register(Fl("update context key: inlineCompletionVisible, suppressSuggestions",function(r){var l=n.model.read(r),c=l==null?void 0:l.selectedInlineCompletion.read(r),h=l==null?void 0:l.ghostText.read(r),f=l==null?void 0:l.selectedSuggestItem.read(r);n.inlineCompletionVisible.set(f===void 0&&h!==void 0&&!h.isEmpty()),h&&c&&n.suppressSuggestions.set(c.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),n._register(Fl("update context key: inlineCompletionSuggestsIndentation, inlineCompletionSuggestsIndentationLessThanTabSize",function(r){var l=n.model.read(r),c=!1,h=!0,f=l==null?void 0:l.ghostText.read(r);if(!!(l==null?void 0:l.selectedSuggestItem)&&f&&f.parts.length>0){var R=f.parts[0],Z=R.column,ie=R.lines,je=ie[0],Ie=l.textModel.getLineIndentColumn(f.lineNumber),st=Z<=Ie;if(st){var ft=Object(Vn.u)(je);ft===-1&&(ft=je.length-1),c=ft>0;var kt=l.textModel.getOptions().tabSize,$t=OS.a.visibleColumnFromColumn(je,ft+1,kt);h=$t<kt}}n.inlineCompletionSuggestsIndentation.set(c),n.inlineCompletionSuggestsIndentationLessThanTabSize.set(h)})),n}return Object(w.a)(e)}(Ze.a);kl.inlineSuggestionVisible=new Jn.c("inlineSuggestionVisible",!1,Object(Qe.b)("inlineSuggestionVisible","Whether an inline suggestion is visible")),kl.inlineSuggestionHasIndentation=new Jn.c("inlineSuggestionHasIndentation",!1,Object(Qe.b)("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),kl.inlineSuggestionHasIndentationLessThanTabSize=new Jn.c("inlineSuggestionHasIndentationLessThanTabSize",!0,Object(Qe.b)("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),kl.suppressSuggestions=new Jn.c("inlineSuggestionSuppressSuggestions",void 0,Object(Qe.b)("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"));var JE=a("HIzu"),h_=a("erNZ"),SS=a("zhcO"),kp=a("dBaI"),Qg=a("baJR");function kS(s,o){var e=new DS(s),i=o.map(function(l){var c=Dt.a.lift(l.range);return{startOffset:e.getOffset(c.getStartPosition()),endOffset:e.getOffset(c.getEndPosition()),text:l.text}});i.sort(function(l,c){return c.startOffset-l.startOffset});var t=Object(B.a)(i),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;s=s.substring(0,r.startOffset)+r.text+s.substring(r.endOffset)}}catch(l){t.e(l)}finally{t.f()}return s}var DS=function(){function s(o){Object(k.a)(this,s),this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(var e=0;e<o.length;e++)o.charAt(e)===`
`&&this.lineStartOffsetByLineIdx.push(e+1)}return Object(w.a)(s,[{key:"getOffset",value:function(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}]),s}(),wS=[];function jS(){return wS}var ES=function(){function s(o,e){if(Object(k.a)(this,s),this.startColumn=o,this.endColumnExclusive=e,o>e)throw new zi.a("startColumn ".concat(o," cannot be after endColumnExclusive ").concat(e))}return Object(w.a)(s,[{key:"toRange",value:function(e){return new Dt.a(e,this.startColumn,e,this.endColumnExclusive)}}]),s}();function LS(s,o){var e=new Ze.c,i=s.createDecorationsCollection();return e.add(Fl("Apply decorations from ".concat(o.debugName),function(t){var n=o.read(t);i.set(n)})),e.add({dispose:function(){i.clear()}}),e}function Dp(s,o){return new tn.a(s.lineNumber+o.lineNumber-1,o.lineNumber===1?s.column+o.column-1:o.column)}function wp(s){var o=1,e=1,i=Object(B.a)(s),t;try{for(i.s();!(t=i.n()).done;){var n=t.value;n===`
`?(o++,e=1):e++}}catch(r){i.e(r)}finally{i.f()}return new tn.a(o,e)}var f_=function(){function s(o,e){Object(k.a)(this,s),this.lineNumber=o,this.parts=e}return Object(w.a)(s,[{key:"renderForScreenReader",value:function(e){if(this.parts.length===0)return"";var i=this.parts[this.parts.length-1],t=e.substr(0,i.column-1),n=kS(t,this.parts.map(function(r){return{range:{startLineNumber:1,endLineNumber:1,startColumn:r.column,endColumn:r.column},text:r.lines.join(`
`)}}));return n.substring(this.parts[0].column-1)}},{key:"isEmpty",value:function(){return this.parts.every(function(e){return e.lines.length===0})}},{key:"lineCount",get:function(){return 1+this.parts.reduce(function(e,i){return e+i.lines.length-1},0)}}]),s}(),jp=Object(w.a)(function s(o,e,i){Object(k.a)(this,s),this.column=o,this.lines=e,this.preview=i}),MS=function(){function s(o,e,i){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;Object(k.a)(this,s),this.lineNumber=o,this.columnRange=e,this.newLines=i,this.additionalReservedLineCount=t,this.parts=[new jp(this.columnRange.endColumnExclusive,this.newLines,!1)]}return Object(w.a)(s,[{key:"renderForScreenReader",value:function(e){return this.newLines.join(`
`)}},{key:"lineCount",get:function(){return this.newLines.length}},{key:"isEmpty",value:function(){return this.parts.every(function(e){return e.lines.length===0})}}]),s}(),TS=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},IS=function(s,o){return function(e,i){o(e,i,s)}},Ep=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r.editor=i,r.model=t,r.languageService=n,r.isDisposed=wf("isDisposed",!1),r.currentTextModel=Rd(r.editor.onDidChangeModel,function(){return r.editor.getModel()}),r.uiState=Vu("uiState",function(l){if(r.isDisposed.read(l))return;var c=r.currentTextModel.read(l);if(c!==r.model.targetTextModel.read(l))return;var h=r.model.ghostText.read(l);if(!h)return;var f=h instanceof MS?h.columnRange:void 0,R=[],Z=[];function ie(xn,fi){if(Z.length>0){var Si=Z[Z.length-1];fi&&Si.decorations.push(new kp.a(Si.content.length+1,Si.content.length+1+xn[0].length,fi,0)),Si.content+=xn[0],xn=xn.slice(1)}var ji=Object(B.a)(xn),Bi;try{for(ji.s();!(Bi=ji.n()).done;){var Lr=Bi.value;Z.push({content:Lr,decorations:fi?[new kp.a(1,Lr.length+1,fi,0)]:[]})}}catch(gr){ji.e(gr)}finally{ji.f()}}var je=c.getLineContent(h.lineNumber),Ie=void 0,st=0,ft=Object(B.a)(h.parts),kt;try{for(ft.s();!(kt=ft.n()).done;){var $t=kt.value,un=$t.lines;Ie===void 0?(R.push({column:$t.column,text:un[0],preview:$t.preview}),un=un.slice(1)):ie([je.substring(st,$t.column-1)],void 0),un.length>0&&(ie(un,"ghost-text"),Ie===void 0&&$t.column<=je.length&&(Ie=$t.column)),st=$t.column-1}}catch(xn){ft.e(xn)}finally{ft.f()}Ie!==void 0&&ie([je.substring(st)],void 0);var Yn=Ie!==void 0?new ES(Ie,je.length+1):void 0;return{replacedRange:f,inlineTexts:R,additionalLines:Z,hiddenRange:Yn,lineNumber:h.lineNumber,additionalReservedLineCount:r.model.minReservedLineCount.read(l),targetTextModel:c}}),r.decorations=Vu("decorations",function(l){var c=r.uiState.read(l);if(!c)return[];var h=[];c.replacedRange&&h.push({range:c.replacedRange.toRange(c.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),c.hiddenRange&&h.push({range:c.hiddenRange.toRange(c.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});var f=Object(B.a)(c.inlineTexts),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value;h.push({range:Dt.a.fromPositions(new tn.a(c.lineNumber,Z.column)),options:{description:"ghost-text",after:{content:Z.text,inlineClassName:Z.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:pn.d.Left},showIfCollapsed:!0}})}}catch(ie){f.e(ie)}finally{f.f()}return h}),r.additionalLinesWidget=r._register(new PS(r.editor,r.languageService.languageIdCodec,Vu("lines",function(l){var c=r.uiState.read(l);return c?{lineNumber:c.lineNumber,additionalLines:c.additionalLines,minReservedLineCount:c.additionalReservedLineCount,targetTextModel:c.targetTextModel}:void 0}))),r._register(Object(Ze.l)(function(){r.isDisposed.set(!0,void 0)})),r._register(LS(r.editor,r.decorations)),r}return Object(w.a)(e,[{key:"ownsViewZone",value:function(t){return this.additionalLinesWidget.viewZoneId===t}}]),e}(Ze.a);Ep=TS([IS(2,br.a)],Ep);var PS=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r.editor=i,r.languageIdCodec=t,r.lines=n,r._viewZoneId=void 0,r.editorOptionsChanged=NC("editorOptionChanged",rr.c.filter(r.editor.onDidChangeConfiguration,function(l){return l.hasChanged(31)||l.hasChanged(113)||l.hasChanged(95)||l.hasChanged(90)||l.hasChanged(49)||l.hasChanged(48)||l.hasChanged(64)})),r._register(Fl("update view zone",function(l){var c=r.lines.read(l);r.editorOptionsChanged.read(l),c?r.updateLines(c.lineNumber,c.additionalLines,c.minReservedLineCount):r.clear()})),r}return Object(w.a)(e,[{key:"viewZoneId",get:function(){return this._viewZoneId}},{key:"dispose",value:function(){Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this),this.clear()}},{key:"clear",value:function(){var t=this;this.editor.changeViewZones(function(n){t._viewZoneId&&(n.removeZone(t._viewZoneId),t._viewZoneId=void 0)})}},{key:"updateLines",value:function(t,n,r){var l=this,c=this.editor.getModel();if(!!c){var h=c.getOptions(),f=h.tabSize;this.editor.changeViewZones(function(R){l._viewZoneId&&(R.removeZone(l._viewZoneId),l._viewZoneId=void 0);var Z=Math.max(n.length,r);if(Z>0){var ie=document.createElement("div");AS(ie,f,n,l.editor.getOptions(),l.languageIdCodec),l._viewZoneId=R.addZone({afterLineNumber:t,heightInLines:Z,domNode:ie,afterColumnAffinity:1})}})}}}]),e}(Ze.a);function AS(s,o,e,i,t){var n=i.get(31),r=i.get(113),l="none",c=i.get(90),h=i.get(49),f=i.get(48),R=i.get(64),Z=new h_.a(1e4);Z.appendString('<div class="suggest-preview-text">');for(var ie=0,je=e.length;ie<je;ie++){var Ie=e[ie],st=Ie.content;Z.appendString('<div class="view-line'),Z.appendString('" style="top:'),Z.appendString(String(ie*R)),Z.appendString('px;width:1000000px;">');var ft=Vn.B(st),kt=Vn.m(st),$t=SS.a.createEmpty(st,t);Object(Qg.d)(new Qg.c(f.isMonospace&&!n,f.canUseHalfwidthRightwardsArrow,st,!1,ft,kt,0,$t,Ie.decorations,o,0,f.spaceWidth,f.middotWidth,f.wsmiddotWidth,r,l,c,h!==fs.e.OFF,null),Z),Z.appendString("</div>")}Z.appendString("</div>"),Object(vs.a)(s,f);var un=Z.build(),Yn=v_?v_.createHTML(un):un;s.innerHTML=Yn}var v_=Object(Ma.a)("editorGhostText",{createHTML:function(o){return o}}),RS=a("Gw4z"),Lp=function(){function s(o,e){Object(k.a)(this,s),this.range=o,this.text=e}return Object(w.a)(s,[{key:"removeCommonPrefix",value:function(e,i){var t=i?this.range.intersectRanges(i):this.range;if(!t)return this;var n=e.getValueInRange(t,1),r=Object(Vn.f)(n,this.text),l=Dp(this.range.getStartPosition(),wp(n.substring(0,r))),c=this.text.substring(r),h=Dt.a.fromPositions(l,this.range.getEndPosition());return new s(h,c)}},{key:"augments",value:function(e){return this.text.startsWith(e.text)&&NS(this.range,e.range)}},{key:"computeGhostText",value:function(e,i,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=this.removeCommonPrefix(e);if(r.range.endLineNumber===r.range.startLineNumber){var l=e.getLineContent(r.range.startLineNumber),c=Object(Vn.x)(l).length,h=r.range.startColumn-1<=c;if(h){var f=Object(Vn.x)(r.text).length,R=l.substring(r.range.startColumn-1,c),Z=Dt.a.fromPositions(r.range.getStartPosition().delta(0,R.length),r.range.getEndPosition()),ie=r.text.startsWith(R)?r.text.substring(R.length):r.text.substring(f);r=new s(Z,ie)}var je=e.getValueInRange(r.range),Ie=xS(je,r.text);if(!!Ie){var st=r.range.startLineNumber,ft=new Array;if(i==="prefix"){var kt=Ie.filter(function($r){return $r.originalLength===0});if(kt.length>1||kt.length===1&&kt[0].originalStart!==je.length)return}var $t=r.text.length-n,un=Object(B.a)(Ie),Yn;try{for(un.s();!(Yn=un.n()).done;){var xn=Yn.value,fi=r.range.startColumn+xn.originalStart+xn.originalLength;if(i==="subwordSmart"&&t&&t.lineNumber===r.range.startLineNumber&&fi<t.column||xn.originalLength>0)return;if(xn.modifiedLength!==0){var Si=xn.modifiedStart+xn.modifiedLength,ji=Math.max(xn.modifiedStart,Math.min(Si,$t)),Bi=r.text.substring(xn.modifiedStart,ji),Lr=r.text.substring(ji,Math.max(xn.modifiedStart,Si));if(Bi.length>0){var gr=Object(Vn.S)(Bi);ft.push(new jp(fi,gr,!1))}if(Lr.length>0){var jr=Object(Vn.S)(Lr);ft.push(new jp(fi,jr,!0))}}}}catch($r){un.e($r)}finally{un.f()}return new f_(st,ft)}}}}]),s}();function NS(s,o){return o.getStartPosition().equals(s.getStartPosition())&&o.getEndPosition().isBeforeOrEqual(s.getEndPosition())}var Fc=void 0;function xS(s,o){if((Fc==null?void 0:Fc.originalValue)===s&&(Fc==null?void 0:Fc.newValue)===o)return Fc==null?void 0:Fc.changes;var e=m_(s,o,!0);if(e){var i=g_(e);if(i>0){var t=m_(s,o,!1);t&&g_(t)<i&&(e=t)}}return Fc={originalValue:s,newValue:o,changes:e},e}function g_(s){var o=0,e=Object(B.a)(s),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;o+=t.originalLength}}catch(n){e.e(n)}finally{e.f()}return o}function m_(s,o,e){if(s.length>5e3||o.length>5e3)return;function i(h){for(var f=0,R=0,Z=h.length;R<Z;R++){var ie=h.charCodeAt(R);ie>f&&(f=ie)}return f}var t=Math.max(i(s),i(o));function n(h){if(h<0)throw new Error("unexpected");return t+h+1}function r(h){for(var f=0,R=0,Z=new Int32Array(h.length),ie=0,je=h.length;ie<je;ie++)if(e&&h[ie]==="("){var Ie=R*100+f;Z[ie]=n(2*Ie),f++}else if(e&&h[ie]===")"){f=Math.max(f-1,0);var st=R*100+f;Z[ie]=n(2*st+1),f===0&&R++}else Z[ie]=h.charCodeAt(ie);return Z}var l=r(s),c=r(o);return new RS.a({getElements:function(){return l}},{getElements:function(){return c}}).ComputeDiff(!1).changes}var FS=a("bzmS"),Wd=a("pvvD"),BS=a("pdYq"),WS=a("lwGy"),VS=a("t4hb");function HS(s,o){var e=new WS.a,i=new FS.a(e,function(h){return o.getLanguageConfiguration(h)}),t=new VS.b(new US([s]),i),n=Object(BS.a)(t,[],void 0,!0),r="",l=s.getLineContent();function c(h,f){if(h.kind===2)if(c(h.openingBracket,f),f=Object(Wd.a)(f,h.openingBracket.length),h.child&&(c(h.child,f),f=Object(Wd.a)(f,h.child.length)),h.closingBracket)c(h.closingBracket,f),f=Object(Wd.a)(f,h.closingBracket.length);else{var R=i.getSingleLanguageBracketTokens(h.openingBracket.languageId),Z=R.findClosingTokenText(h.openingBracket.bracketIds);r+=Z}else if(h.kind!==3){if(h.kind===0||h.kind===1)r+=l.substring(Object(Wd.e)(f),Object(Wd.e)(Object(Wd.a)(f,h.length)));else if(h.kind===4){var ie=Object(B.a)(h.children),je;try{for(ie.s();!(je=ie.n()).done;){var Ie=je.value;c(Ie,f),f=Object(Wd.a)(f,Ie.length)}}catch(st){ie.e(st)}finally{ie.f()}}}}return c(n,Wd.m),r}var US=function(){function s(o){var e=this;Object(k.a)(this,s),this.lines=o,this.tokenization={getLineTokens:function(t){return e.lines[t-1]}}}return Object(w.a)(s,[{key:"getLineCount",value:function(){return this.lines.length}},{key:"getLineLength",value:function(e){return this.lines[e-1].getLineContent().length}}]),s}(),p_=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function zS(s,o,e,i){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Zi.a.None,n=arguments.length>5?arguments[5]:void 0;return p_(this,void 0,void 0,Object(d.a)().mark(function r(){var l=this,c,h,f,R,Z,ie,je,Ie,st,ft,kt,$t,un,Yn;return Object(d.a)().wrap(function(fi){for(;;)switch(fi.prev=fi.next){case 0:return c=QS(o,e),h=s.all(e),fi.next=4,Promise.all(h.map(function(Si){return p_(l,void 0,void 0,Object(d.a)().mark(function ji(){var Bi;return Object(d.a)().wrap(function(gr){for(;;)switch(gr.prev=gr.next){case 0:return gr.prev=0,gr.next=3,Si.provideInlineCompletions(e,o,i,t);case 3:return Bi=gr.sent,gr.abrupt("return",{provider:Si,completions:Bi});case 7:gr.prev=7,gr.t0=gr.catch(0),Object(zi.i)(gr.t0);case 10:return gr.abrupt("return",{provider:Si,completions:void 0});case 11:case"end":return gr.stop()}},ji,null,[[0,7]])}))}));case 4:f=fi.sent,R=new Map,Z=[],ie=Object(B.a)(f),fi.prev=8,ie.s();case 10:if((je=ie.n()).done){fi.next=21;break}if(Ie=je.value,st=Ie.completions,st){fi.next=15;break}return fi.abrupt("continue",19);case 15:ft=new GS(st,Ie.provider),Z.push(ft),kt=Object(B.a)(st.items);try{for(kt.s();!($t=kt.n()).done;)un=$t.value,Yn=$S.from(un,ft,c,e,n),R.set(Yn.hash(),Yn)}catch(Si){kt.e(Si)}finally{kt.f()}case 19:fi.next=10;break;case 21:fi.next=26;break;case 23:fi.prev=23,fi.t0=fi.catch(8),ie.e(fi.t0);case 26:return fi.prev=26,ie.f(),fi.finish(26);case 29:return fi.abrupt("return",new KS(Array.from(R.values()),new Set(R.keys()),Z));case 30:case"end":return fi.stop()}},r,null,[[8,23,26,29]])}))}var KS=function(){function s(o,e,i){Object(k.a)(this,s),this.completions=o,this.hashs=e,this.providerResults=i}return Object(w.a)(s,[{key:"has",value:function(e){return this.hashs.has(e.hash())}},{key:"dispose",value:function(){var e=Object(B.a)(this.providerResults),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;t.removeRef()}}catch(n){e.e(n)}finally{e.f()}}}]),s}(),GS=function(){function s(o,e){Object(k.a)(this,s),this.inlineCompletions=o,this.provider=e,this.refCount=1}return Object(w.a)(s,[{key:"addRef",value:function(){this.refCount++}},{key:"removeRef",value:function(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}]),s}(),$S=function(){function s(o,e,i,t,n,r,l,c){Object(k.a)(this,s),this.filterText=o,this.command=e,this.range=i,this.insertText=t,this.snippetInfo=n,this.additionalTextEdits=r,this.sourceInlineCompletion=l,this.source=c,o=o.replace(/\r\n|\r/g,`
`),t=o.replace(/\r\n|\r/g,`
`)}return Object(w.a)(s,[{key:"withRange",value:function(e){return new s(this.filterText,this.command,e,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}},{key:"hash",value:function(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}],[{key:"from",value:function(e,i,t,n,r){var l,c,h=e.range?Dt.a.lift(e.range):t;if(typeof e.insertText=="string"){if(l=e.insertText,r&&e.completeBracketPairs){l=b_(l,h.getStartPosition(),n,r);var f=l.length-e.insertText.length;f!==0&&(h=new Dt.a(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn+f))}c=void 0}else if("snippet"in e.insertText){var R=e.insertText.snippet.length;if(r&&e.completeBracketPairs){e.insertText.snippet=b_(e.insertText.snippet,h.getStartPosition(),n,r);var Z=e.insertText.snippet.length-R;Z!==0&&(h=new Dt.a(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn+Z))}var ie=new Or().parse(e.insertText.snippet);ie.children.length===1&&ie.children[0]instanceof ei?(l=ie.children[0].value,c=void 0):(l=ie.toString(),c={snippet:e.insertText.snippet,range:h})}else Object(ry.b)(e.insertText);return new s(l,e.command,h,l,c,e.additionalTextEdits||jS(),e,i)}}]),s}();function QS(s,o){var e=o.getWordAtPosition(s),i=o.getLineMaxColumn(s.lineNumber);return e?new Dt.a(s.lineNumber,e.startColumn,s.lineNumber,i):Dt.a.fromPositions(s,s.with(void 0,i))}function b_(s,o,e,i){var t=e.getLineContent(o.lineNumber).substring(0,o.column-1),n=t+s,r=e.tokenization.tokenizeLineWithEdit(o,n.length-(o.column-1),s),l=r==null?void 0:r.sliceAndInflate(o.column-1,n.length,0);if(!l)return s;var c=HS(l,i);return c}var YS=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},y_=function(s,o){return function(e,i){o(e,i,s)}},ZS=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Mp=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l){var c;return Object(k.a)(this,e),c=o.call(this),c.textModel=i,c.versionId=t,c._debounceValue=n,c.languageFeaturesService=r,c.languageConfigurationService=l,c._updateOperation=c._register(new Ze.e),c.inlineCompletions=Wm("inlineCompletions",void 0),c.suggestWidgetInlineCompletions=Wm("suggestWidgetInlineCompletions",void 0),c._register(c.textModel.onDidChangeContent(function(){c._updateOperation.clear()})),c}return Object(w.a)(e,[{key:"fetch",value:function(t,n,r){var l=this,c,h,f=new JS(t,n,this.textModel.getVersionId()),R=n.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if((c=this._updateOperation.value)===null||c===void 0?void 0:c.request.satisfies(f))return this._updateOperation.value.promise;if((h=R.get())===null||h===void 0?void 0:h.request.satisfies(f))return Promise.resolve(!0);var Z=!!this._updateOperation.value;this._updateOperation.clear();var ie=new Zi.b,je=function(){return ZS(l,void 0,void 0,Object(d.a)().mark(function st(){var ft,kt,$t,un,Yn,xn;return Object(d.a)().wrap(function(Si){for(;;)switch(Si.prev=Si.next){case 0:if(ft=Z||n.triggerKind===oo.g.Automatic,!ft){Si.next=4;break}return Si.next=4,XS(this._debounceValue.get(this.textModel));case 4:if(!(ie.token.isCancellationRequested||this.textModel.getVersionId()!==f.versionId)){Si.next=6;break}return Si.abrupt("return",!1);case 6:return kt=new Date,Si.next=9,zS(this.languageFeaturesService.inlineCompletionsProvider,t,this.textModel,n,ie.token,this.languageConfigurationService);case 9:if($t=Si.sent,!(ie.token.isCancellationRequested||this.textModel.getVersionId()!==f.versionId)){Si.next=12;break}return Si.abrupt("return",!1);case 12:return un=new Date,this._debounceValue.update(this.textModel,un.getTime()-kt.getTime()),Yn=new tk($t,f,this.textModel,this.versionId),r&&(xn=r.toInlineCompletion(void 0),r.canBeReused(this.textModel,t)&&!$t.has(xn)&&Yn.prepend(r.inlineCompletion,xn.range,!0)),this._updateOperation.clear(),Ol(function(ji){R.set(Yn,ji)}),Si.abrupt("return",!0);case 19:case"end":return Si.stop()}},st,this)}))}(),Ie=new ek(f,ie,je);return this._updateOperation.value=Ie,je}},{key:"clear",value:function(t){this._updateOperation.clear(),this.inlineCompletions.set(void 0,t),this.suggestWidgetInlineCompletions.set(void 0,t)}},{key:"clearSuggestWidgetInlineCompletions",value:function(t){var n;((n=this._updateOperation.value)===null||n===void 0?void 0:n.request.context.selectedSuggestionInfo)&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,t)}},{key:"cancelUpdate",value:function(){this._updateOperation.clear()}}]),e}(Ze.a);Mp=YS([y_(3,Nr.a),y_(4,Ro.a)],Mp);function XS(s,o){return new Promise(function(e){var i=void 0,t=setTimeout(function(){i&&i.dispose(),e()},s);o&&(i=o.onCancellationRequested(function(){clearTimeout(t),i&&i.dispose(),e()}))})}var JS=function(){function s(o,e,i){Object(k.a)(this,s),this.position=o,this.context=e,this.versionId=i}return Object(w.a)(s,[{key:"satisfies",value:function(e){return this.position.equals(e.position)&&qS(this.context.selectedSuggestionInfo,e.context.selectedSuggestionInfo,function(i,t){return i.equals(t)})&&(e.context.triggerKind===oo.g.Automatic||this.context.triggerKind===oo.g.Explicit)&&this.versionId===e.versionId}}]),s}();function qS(s,o,e){return!s||!o?s===o:e(s,o)}var ek=function(){function s(o,e,i){Object(k.a)(this,s),this.request=o,this.cancellationTokenSource=e,this.promise=i}return Object(w.a)(s,[{key:"dispose",value:function(){this.cancellationTokenSource.cancel()}}]),s}(),tk=function(){function s(o,e,i,t){var n=this;Object(k.a)(this,s),this.inlineCompletionProviderResult=o,this.request=e,this.textModel=i,this.versionId=t,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=Vu("ranges",function(l){n.versionId.read(l);var c=!1,h=Object(B.a)(n._inlineCompletions),f;try{for(h.s();!(f=h.n()).done;){var R=f.value;c=c||R._updateRange(n.textModel)}}catch(Z){h.e(Z)}finally{h.f()}return c&&n._rangeVersionIdValue++,n._rangeVersionIdValue});var r=i.deltaDecorations([],o.completions.map(function(l){return{range:l.range,options:{description:"inline-completion-tracking-range"}}}));this._inlineCompletions=o.completions.map(function(l,c){return new __(l,r[c],n._rangeVersionId)})}return Object(w.a)(s,[{key:"inlineCompletions",get:function(){return this._inlineCompletions}},{key:"clone",value:function(){return this._refCount++,this}},{key:"dispose",value:function(){if(this._refCount--,this._refCount===0){this.textModel.deltaDecorations(this._inlineCompletions.map(function(n){return n.decorationId}),[]),this.inlineCompletionProviderResult.dispose();var e=Object(B.a)(this._prependedInlineCompletionItems),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;t.source.removeRef()}}catch(n){e.e(n)}finally{e.f()}}}},{key:"prepend",value:function(e,i,t){t&&e.source.addRef();var n=this.textModel.deltaDecorations([],[{range:i,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new __(e,n,this._rangeVersionId,i)),this._prependedInlineCompletionItems.push(e)}}]),s}(),__=function(){function s(o,e,i,t){Object(k.a)(this,s),this.inlineCompletion=o,this.decorationId=e,this.rangeVersion=i,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=t!=null?t:o.range}return Object(w.a)(s,[{key:"forwardStable",get:function(){var e;return(e=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&e!==void 0?e:!1}},{key:"toInlineCompletion",value:function(e){return this.inlineCompletion.withRange(this._getUpdatedRange(e))}},{key:"toSingleTextEdit",value:function(e){return new Lp(this._getUpdatedRange(e),this.inlineCompletion.insertText)}},{key:"isVisible",value:function(e,i,t){var n=this._toFilterTextReplacement(t).removeCommonPrefix(e);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(t).getStartPosition())||i.lineNumber!==n.range.startLineNumber)return!1;var r=e.getValueInRange(n.range,1).toLowerCase(),l=n.text.toLowerCase(),c=Math.max(0,i.column-n.range.startColumn),h=l.substring(0,c),f=l.substring(c),R=r.substring(0,c),Z=r.substring(c),ie=e.getLineIndentColumn(n.range.startLineNumber);return n.range.startColumn<=ie&&(R=R.trimStart(),R.length===0&&(Z=Z.trimStart()),h=h.trimStart(),h.length===0&&(f=f.trimStart())),h.startsWith(R)&&!!Object(_s.j)(Z,f)}},{key:"canBeReused",value:function(e,i){var t=this._isValid&&this._getUpdatedRange(void 0).containsPosition(i)&&this.isVisible(e,i,void 0)&&!this._isSmallerThanOriginal(void 0);return t}},{key:"_toFilterTextReplacement",value:function(e){return new Lp(this._getUpdatedRange(e),this.inlineCompletion.filterText)}},{key:"_isSmallerThanOriginal",value:function(e){return C_(this._getUpdatedRange(e)).isBefore(C_(this.inlineCompletion.range))}},{key:"_getUpdatedRange",value:function(e){return this.rangeVersion.read(e),this._updatedRange}},{key:"_updateRange",value:function(e){var i=e.getDecorationRange(this.decorationId);return i?this._updatedRange.equalsRange(i)?!1:(this._updatedRange=i,!0):(this._isValid=!1,!0)}}]),s}();function C_(s){return s.startLineNumber===s.endLineNumber?new tn.a(1,1+s.endColumn-s.startColumn):new tn.a(1+s.endLineNumber-s.startLineNumber,s.endColumn)}var Yg=a("09fa"),qE=a("1nB5"),nk=a("PTeM");function O_(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ut.o;return Object(nk.b)(s,o)?s.charAt(0).toUpperCase()+s.slice(1):s}var eL=Object.create(null),cd=a("MrjW"),ik=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},rk=function(s,o){return function(e,i){o(e,i,s)}},tL=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0}),S_=function(){function s(o){Object(k.a)(this,s),this._delegates=o}return Object(w.a)(s,[{key:"resolve",value:function(e){var i=Object(B.a)(this._delegates),t;try{for(i.s();!(t=i.n()).done;){var n=t.value,r=n.resolve(e);if(r!==void 0)return r}}catch(l){i.e(l)}finally{i.f()}}}]),s}(),k_=function(){function s(o,e,i,t){Object(k.a)(this,s),this._model=o,this._selection=e,this._selectionIdx=i,this._overtypingCapturer=t}return Object(w.a)(s,[{key:"resolve",value:function(e){var i=e.name;if(i==="SELECTION"||i==="TM_SELECTED_TEXT"){var t=this._model.getValueInRange(this._selection)||void 0,n=this._selection.startLineNumber!==this._selection.endLineNumber;if(!t&&this._overtypingCapturer){var r=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);r&&(t=r.value,n=r.multiline)}if(t&&n&&e.snippet){var l=this._model.getLineContent(this._selection.startLineNumber),c=Object(Vn.x)(l,0,this._selection.startColumn-1),h=c;e.snippet.walk(function(Z){return Z===e?!1:(Z instanceof ei&&(h=Object(Vn.x)(Object(Vn.S)(Z.value).pop())),!0)});var f=Object(Vn.f)(h,c);t=t.replace(/(\r\n|\r|\n)(.*)/g,function(Z,ie,je){return"".concat(ie).concat(h.substr(f)).concat(je)})}return t}else{if(i==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(i==="TM_CURRENT_WORD"){var R=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return R&&R.word||void 0}else{if(i==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(i==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(i==="CURSOR_INDEX")return String(this._selectionIdx);if(i==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}]),s}(),D_=function(){function s(o,e){Object(k.a)(this,s),this._labelService=o,this._model=e}return Object(w.a)(s,[{key:"resolve",value:function(e){var i=e.name;if(i==="TM_FILENAME")return cd.a(this._model.uri.fsPath);if(i==="TM_FILENAME_BASE"){var t=cd.a(this._model.uri.fsPath),n=t.lastIndexOf(".");return n<=0?t:t.slice(0,n)}else{if(i==="TM_DIRECTORY")return cd.b(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(Object(Za.d)(this._model.uri));if(i==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(i==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}]),s}(),w_=function(){function s(o,e,i,t){Object(k.a)(this,s),this._readClipboardText=o,this._selectionIdx=e,this._selectionCount=i,this._spread=t}return Object(w.a)(s,[{key:"resolve",value:function(e){if(e.name==="CLIPBOARD"){var i=this._readClipboardText();if(!!i){if(this._spread){var t=i.split(/\r\n|\n|\r/).filter(function(n){return!Object(Vn.D)(n)});if(t.length===this._selectionCount)return t[this._selectionIdx]}return i}}}}]),s}(),Zg=function(){function s(o,e,i){Object(k.a)(this,s),this._model=o,this._selection=e,this._languageConfigurationService=i}return Object(w.a)(s,[{key:"resolve",value:function(e){var i=e.name,t=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),n=this._languageConfigurationService.getLanguageConfiguration(t).comments;if(!!n){if(i==="LINE_COMMENT")return n.lineCommentToken||void 0;if(i==="BLOCK_COMMENT_START")return n.blockCommentStartToken||void 0;if(i==="BLOCK_COMMENT_END")return n.blockCommentEndToken||void 0}}}]),s}();Zg=ik([rk(2,Ro.a)],Zg);var xf=function(){function s(){Object(k.a)(this,s),this._date=new Date}return Object(w.a)(s,[{key:"resolve",value:function(e){var i=e.name;if(i==="CURRENT_YEAR")return String(this._date.getFullYear());if(i==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(i==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(i==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(i==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(i==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(i==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(i==="CURRENT_DAY_NAME")return s.dayNames[this._date.getDay()];if(i==="CURRENT_DAY_NAME_SHORT")return s.dayNamesShort[this._date.getDay()];if(i==="CURRENT_MONTH_NAME")return s.monthNames[this._date.getMonth()];if(i==="CURRENT_MONTH_NAME_SHORT")return s.monthNamesShort[this._date.getMonth()];if(i==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(i==="CURRENT_TIMEZONE_OFFSET"){var t=this._date.getTimezoneOffset(),n=t>0?"-":"+",r=Math.trunc(Math.abs(t/60)),l=r<10?"0"+r:r,c=Math.abs(t)-r*60,h=c<10?"0"+c:c;return n+l+":"+h}}}]),s}();xf.dayNames=[Qe.b("Sunday","Sunday"),Qe.b("Monday","Monday"),Qe.b("Tuesday","Tuesday"),Qe.b("Wednesday","Wednesday"),Qe.b("Thursday","Thursday"),Qe.b("Friday","Friday"),Qe.b("Saturday","Saturday")],xf.dayNamesShort=[Qe.b("SundayShort","Sun"),Qe.b("MondayShort","Mon"),Qe.b("TuesdayShort","Tue"),Qe.b("WednesdayShort","Wed"),Qe.b("ThursdayShort","Thu"),Qe.b("FridayShort","Fri"),Qe.b("SaturdayShort","Sat")],xf.monthNames=[Qe.b("January","January"),Qe.b("February","February"),Qe.b("March","March"),Qe.b("April","April"),Qe.b("May","May"),Qe.b("June","June"),Qe.b("July","July"),Qe.b("August","August"),Qe.b("September","September"),Qe.b("October","October"),Qe.b("November","November"),Qe.b("December","December")],xf.monthNamesShort=[Qe.b("JanuaryShort","Jan"),Qe.b("FebruaryShort","Feb"),Qe.b("MarchShort","Mar"),Qe.b("AprilShort","Apr"),Qe.b("MayShort","May"),Qe.b("JuneShort","Jun"),Qe.b("JulyShort","Jul"),Qe.b("AugustShort","Aug"),Qe.b("SeptemberShort","Sep"),Qe.b("OctoberShort","Oct"),Qe.b("NovemberShort","Nov"),Qe.b("DecemberShort","Dec")];var j_=function(){function s(o){Object(k.a)(this,s),this._workspaceService=o}return Object(w.a)(s,[{key:"resolve",value:function(e){if(!!this._workspaceService){var i=Object(wu.h)(this._workspaceService.getWorkspace());if(!Object(wu.e)(i)){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(i);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(i)}}}},{key:"_resolveWorkspaceName",value:function(e){if(Object(wu.f)(e))return cd.a(e.uri.path);var i=cd.a(e.configPath.path);return i.endsWith(wu.c)&&(i=i.substr(0,i.length-wu.c.length-1)),i}},{key:"_resoveWorkspacePath",value:function(e){if(Object(wu.f)(e))return O_(e.uri.fsPath);var i=cd.a(e.configPath.path),t=e.configPath.fsPath;return t.endsWith(i)&&(t=t.substr(0,t.length-i.length-1)),t?O_(t):"/"}}]),s}(),E_=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"resolve",value:function(e){var i=e.name;if(i==="RANDOM")return Math.random().toString().slice(-6);if(i==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(i==="UUID")return Lg()}}]),s}(),ak=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},ok=function(s,o){return function(e,i){o(e,i,s)}},Tp=function(){function s(o,e,i){Object(k.a)(this,s),this._editor=o,this._snippet=e,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=Object(or.q)(e.placeholders,Kn.compareByIndex),this._placeholderGroupsIdx=-1}return Object(w.a)(s,[{key:"initialize",value:function(e){this._offset=e.newPosition}},{key:"dispose",value:function(){this._placeholderDecorations&&this._editor.removeDecorations(Object(Ai.a)(this._placeholderDecorations.values())),this._placeholderGroups.length=0}},{key:"_initDecorations",value:function(){var e=this;if(this._offset===-1)throw new Error("Snippet not initialized!");if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var i=this._editor.getModel();this._editor.changeDecorations(function(t){var n=Object(B.a)(e._snippet.placeholders),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=e._snippet.offset(l),h=e._snippet.fullLen(l),f=Dt.a.fromPositions(i.getPositionAt(e._offset+c),i.getPositionAt(e._offset+c+h)),R=l.isFinalTabstop?s._decor.inactiveFinal:s._decor.inactive,Z=t.addDecoration(f,R);e._placeholderDecorations.set(l,Z)}}catch(ie){n.e(ie)}finally{n.f()}})}}},{key:"move",value:function(e){var i=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){var t=[],n=Object(B.a)(this._placeholderGroups[this._placeholderGroupsIdx]),r;try{for(n.s();!(r=n.n()).done;){var l=r.value;if(l.transform){for(var c=this._placeholderDecorations.get(l),h=this._editor.getModel().getDecorationRange(c),f=this._editor.getModel().getValueInRange(h),R=l.transform.resolve(f).split(/\r\n|\r|\n/),Z=1;Z<R.length;Z++)R[Z]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+R[Z]);t.push(es.a.replace(h,R.join(this._editor.getModel().getEOL())))}}}catch(Ie){n.e(Ie)}finally{n.f()}t.length>0&&this._editor.executeEdits("snippet.placeholderTransform",t)}var ie=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,ie=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,ie=!0);var je=this._editor.getModel().changeDecorations(function(Ie){var st=new Set,ft=[],kt=Object(B.a)(i._placeholderGroups[i._placeholderGroupsIdx]),$t;try{for(kt.s();!($t=kt.n()).done;){var un=$t.value,Yn=i._placeholderDecorations.get(un),xn=i._editor.getModel().getDecorationRange(Yn);ft.push(new Gi.a(xn.startLineNumber,xn.startColumn,xn.endLineNumber,xn.endColumn)),ie=ie&&i._hasPlaceholderBeenCollapsed(un),Ie.changeDecorationOptions(Yn,un.isFinalTabstop?s._decor.activeFinal:s._decor.active),st.add(un);var fi=Object(B.a)(i._snippet.enclosingPlaceholders(un)),Si;try{for(fi.s();!(Si=fi.n()).done;){var ji=Si.value,Bi=i._placeholderDecorations.get(ji);Ie.changeDecorationOptions(Bi,ji.isFinalTabstop?s._decor.activeFinal:s._decor.active),st.add(ji)}}catch(Aa){fi.e(Aa)}finally{fi.f()}}}catch(Aa){kt.e(Aa)}finally{kt.f()}var Lr=Object(B.a)(i._placeholderDecorations),gr;try{for(Lr.s();!(gr=Lr.n()).done;){var jr=gr.value,$r=Object(z.a)(jr,2),fa=$r[0],Fr=$r[1];st.has(fa)||Ie.changeDecorationOptions(Fr,fa.isFinalTabstop?s._decor.inactiveFinal:s._decor.inactive)}}catch(Aa){Lr.e(Aa)}finally{Lr.f()}return ft});return ie?this.move(e):je!=null?je:[]}},{key:"_hasPlaceholderBeenCollapsed",value:function(e){for(var i=e;i;){if(i instanceof Kn){var t=this._placeholderDecorations.get(i),n=this._editor.getModel().getDecorationRange(t);if(n.isEmpty()&&i.toString().length>0)return!0}i=i.parent}return!1}},{key:"isAtFirstPlaceholder",get:function(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}},{key:"isAtLastPlaceholder",get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}},{key:"hasPlaceholder",get:function(){return this._snippet.placeholders.length>0}},{key:"isTrivialSnippet",get:function(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){var e=Object(z.a)(this._snippet.placeholders,1),i=e[0];if(i.isFinalTabstop&&this._snippet.rightMostDescendant===i)return!0}return!1}},{key:"computePossibleSelections",value:function(){var e=new Map,i=Object(B.a)(this._placeholderGroups),t;try{for(i.s();!(t=i.n()).done;){var n=t.value,r=void 0,l=Object(B.a)(n),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;if(h.isFinalTabstop)break;r||(r=[],e.set(h.index,r));var f=this._placeholderDecorations.get(h),R=this._editor.getModel().getDecorationRange(f);if(!R){e.delete(h.index);break}r.push(R)}}catch(Z){l.e(Z)}finally{l.f()}}}catch(Z){i.e(Z)}finally{i.f()}return e}},{key:"activeChoice",get:function(){if(!!this._placeholderDecorations){var e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!!(e==null?void 0:e.choice)){var i=this._placeholderDecorations.get(e);if(!!i){var t=this._editor.getModel().getDecorationRange(i);if(!!t)return{range:t,choice:e.choice}}}}}},{key:"hasChoice",get:function(){var e=!1;return this._snippet.walk(function(i){return e=i instanceof ui,!e}),e}},{key:"merge",value:function(e){var i=this,t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(function(n){var r=Object(B.a)(i._placeholderGroups[i._placeholderGroupsIdx]),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=e.shift();console.assert(h._offset!==-1),console.assert(!h._placeholderDecorations);var f=h._snippet.placeholderInfo.last.index,R=Object(B.a)(h._snippet.placeholderInfo.all),Z;try{for(R.s();!(Z=R.n()).done;){var ie=Z.value;ie.isFinalTabstop?ie.index=c.index+(f+1)/i._nestingLevel:ie.index=c.index+ie.index/i._nestingLevel}}catch(xn){R.e(xn)}finally{R.f()}i._snippet.replace(c,h._snippet.children);var je=i._placeholderDecorations.get(c);n.removeDecoration(je),i._placeholderDecorations.delete(c);var Ie=Object(B.a)(h._snippet.placeholders),st;try{for(Ie.s();!(st=Ie.n()).done;){var ft=st.value,kt=h._snippet.offset(ft),$t=h._snippet.fullLen(ft),un=Dt.a.fromPositions(t.getPositionAt(h._offset+kt),t.getPositionAt(h._offset+kt+$t)),Yn=n.addDecoration(un,s._decor.inactive);i._placeholderDecorations.set(ft,Yn)}}catch(xn){Ie.e(xn)}finally{Ie.f()}}}catch(xn){r.e(xn)}finally{r.f()}i._placeholderGroups=Object(or.q)(i._snippet.placeholders,Kn.compareByIndex)})}}]),s}();Tp._decor={active:ti.b.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:ti.b.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:ti.b.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:ti.b.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var L_={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},Xg=function(){function s(o,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:L_,t=arguments.length>3?arguments[3]:void 0;Object(k.a)(this,s),this._editor=o,this._template=e,this._options=i,this._languageConfigurationService=t,this._templateMerges=[],this._snippets=[]}return Object(w.a)(s,[{key:"dispose",value:function(){Object(Ze.i)(this._snippets)}},{key:"_logInfo",value:function(){return'template="'.concat(this._template,'", merged_templates="').concat(this._templateMerges.join(" -> "),'"')}},{key:"insert",value:function(){var e=this;if(!!this._editor.hasModel()){var i=typeof this._template=="string"?s.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):s.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService),t=i.edits,n=i.snippets;this._snippets=n,this._editor.executeEdits("snippet",t,function(r){for(var l=r.filter(function(h){return!!h.identifier}),c=0;c<n.length;c++)n[c].initialize(l[c].textChange);return e._snippets[0].hasPlaceholder?e._move(!0):l.map(function(h){return Gi.a.fromPositions(h.range.getEndPosition())})}),this._editor.revealRange(this._editor.getSelections()[0])}}},{key:"merge",value:function(e){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L_;if(!!this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);var n=s.createEditsAndSnippetsFromSelections(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer,this._languageConfigurationService),r=n.edits,l=n.snippets;this._editor.executeEdits("snippet",r,function(c){for(var h=c.filter(function(Ie){return!!Ie.identifier}),f=0;f<l.length;f++)l[f].initialize(h[f].textChange);var R=l[0].isTrivialSnippet;if(!R){var Z=Object(B.a)(i._snippets),ie;try{for(Z.s();!(ie=Z.n()).done;){var je=ie.value;je.merge(l)}}catch(Ie){Z.e(Ie)}finally{Z.f()}console.assert(l.length===0)}return i._snippets[0].hasPlaceholder&&!R?i._move(void 0):h.map(function(Ie){return Gi.a.fromPositions(Ie.range.getEndPosition())})})}}},{key:"next",value:function(){var e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}},{key:"prev",value:function(){var e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}},{key:"_move",value:function(e){var i=[],t=Object(B.a)(this._snippets),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=r.move(e);i.push.apply(i,Object(Ai.a)(l))}}catch(c){t.e(c)}finally{t.f()}return i}},{key:"isAtFirstPlaceholder",get:function(){return this._snippets[0].isAtFirstPlaceholder}},{key:"isAtLastPlaceholder",get:function(){return this._snippets[0].isAtLastPlaceholder}},{key:"hasPlaceholder",get:function(){return this._snippets[0].hasPlaceholder}},{key:"hasChoice",get:function(){return this._snippets[0].hasChoice}},{key:"activeChoice",get:function(){return this._snippets[0].activeChoice}},{key:"isSelectionWithinPlaceholders",value:function(){if(!this.hasPlaceholder)return!1;var e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;var i=new Map,t=Object(B.a)(this._snippets),n;try{var r=function(){var st=n.value,ft=st.computePossibleSelections();if(i.size===0){var kt=Object(B.a)(ft),$t;try{for(kt.s();!($t=kt.n()).done;){var un=$t.value,Yn=Object(z.a)(un,2),xn=Yn[0],fi=Yn[1];fi.sort(Dt.a.compareRangesUsingStarts);var Si=Object(B.a)(e),ji;try{for(Si.s();!(ji=Si.n()).done;){var Bi=ji.value;if(fi[0].containsRange(Bi)){i.set(xn,[]);break}}}catch(Lr){Si.e(Lr)}finally{Si.f()}}}catch(Lr){kt.e(Lr)}finally{kt.f()}}if(i.size===0)return{v:!1};i.forEach(function(Lr,gr){Lr.push.apply(Lr,Object(Ai.a)(ft.get(gr)))})};for(t.s();!(n=t.n()).done;){var l=r();if(typeof l=="object")return l.v}}catch(Ie){t.e(Ie)}finally{t.f()}e.sort(Dt.a.compareRangesUsingStarts);var c=Object(B.a)(i),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,R=Object(z.a)(f,2),Z=R[0],ie=R[1];if(ie.length!==e.length){i.delete(Z);continue}ie.sort(Dt.a.compareRangesUsingStarts);for(var je=0;je<ie.length;je++)if(!ie[je].containsRange(e[je])){i.delete(Z);continue}}}catch(Ie){c.e(Ie)}finally{c.f()}return i.size>0}}],[{key:"adjustWhitespace",value:function(e,i,t,n,r){var l=e.getLineContent(i.lineNumber),c=Object(Vn.x)(l,0,i.column-1),h;return n.walk(function(f){if(!(f instanceof ei)||f.parent instanceof ui||r&&!r.has(f))return!0;var R=f.value.split(/\r\n|\r|\n/);if(t){var Z=n.offset(f);if(Z===0)R[0]=e.normalizeIndentation(R[0]);else{h=h!=null?h:n.toString();var ie=h.charCodeAt(Z-1);(ie===10||ie===13)&&(R[0]=e.normalizeIndentation(c+R[0]))}for(var je=1;je<R.length;je++)R[je]=e.normalizeIndentation(c+R[je])}var Ie=R.join(e.getEOL());return Ie!==f.value&&(f.parent.replace(f,[new ei(Ie)]),h=void 0),!0}),c}},{key:"adjustSelection",value:function(e,i,t,n){if(t!==0||n!==0){var r=i,l=r.positionLineNumber,c=r.positionColumn,h=c-t,f=c+n,R=e.validateRange({startLineNumber:l,startColumn:h,endLineNumber:l,endColumn:f});i=Gi.a.createWithDirection(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn,i.getDirection())}return i}},{key:"createEditsAndSnippetsFromSelections",value:function(e,i,t,n,r,l,c,h,f){var R=[],Z=[];if(!e.hasModel())return{edits:R,snippets:Z};var ie=e.getModel(),je=e.invokeWithinContext(function(Fr){return Fr.get(wu.a)}),Ie=e.invokeWithinContext(function(Fr){return new D_(Fr.get(Od.a),ie)}),st=function(){return c},ft=ie.getValueInRange(s.adjustSelection(ie,e.getSelection(),t,0)),kt=ie.getValueInRange(s.adjustSelection(ie,e.getSelection(),0,n)),$t=ie.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),un=e.getSelections().map(function(Fr,Aa){return{selection:Fr,idx:Aa}}).sort(function(Fr,Aa){return Dt.a.compareRangesUsingStarts(Fr.selection,Aa.selection)}),Yn=Object(B.a)(un),xn;try{for(Yn.s();!(xn=Yn.n()).done;){var fi=xn.value,Si=fi.selection,ji=fi.idx,Bi=s.adjustSelection(ie,Si,t,0),Lr=s.adjustSelection(ie,Si,0,n);ft!==ie.getValueInRange(Bi)&&(Bi=Si),kt!==ie.getValueInRange(Lr)&&(Lr=Si);var gr=Si.setStartPosition(Bi.startLineNumber,Bi.startColumn).setEndPosition(Lr.endLineNumber,Lr.endColumn),jr=new Or().parse(i,!0,r),$r=gr.getStartPosition(),fa=s.adjustWhitespace(ie,$r,l||ji>0&&$t!==ie.getLineFirstNonWhitespaceColumn(Si.positionLineNumber),jr);jr.resolveVariables(new S_([Ie,new w_(st,ji,un.length,e.getOption(76)==="spread"),new k_(ie,Si,ji,h),new Zg(ie,Si,f),new xf,new j_(je),new E_])),R[ji]=es.a.replace(gr,jr.toString()),R[ji].identifier={major:ji,minor:0},R[ji]._isTracked=!0,Z[ji]=new Tp(e,jr,fa)}}catch(Fr){Yn.e(Fr)}finally{Yn.f()}return{edits:R,snippets:Z}}},{key:"createEditsAndSnippetsFromEdits",value:function(e,i,t,n,r,l,c){if(!e.hasModel()||i.length===0)return{edits:[],snippets:[]};var h=[],f=e.getModel(),R=new Or,Z=new Ji,ie=new S_([e.invokeWithinContext(function(Bi){return new D_(Bi.get(Od.a),f)}),new w_(function(){return r},0,e.getSelections().length,e.getOption(76)==="spread"),new k_(f,e.getSelection(),0,l),new Zg(f,e.getSelection(),c),new xf,new j_(e.invokeWithinContext(function(Bi){return Bi.get(wu.a)})),new E_]);i=i.sort(function(Bi,Lr){return Dt.a.compareRangesUsingStarts(Bi.range,Lr.range)});for(var je=0,Ie=0;Ie<i.length;Ie++){var st=i[Ie],ft=st.range,kt=st.template;if(Ie>0){var $t=i[Ie-1].range,un=Dt.a.fromPositions($t.getEndPosition(),ft.getStartPosition()),Yn=new ei(f.getValueInRange(un));Z.appendChild(Yn),je+=Yn.value.length}var xn=R.parseFragment(kt,Z);s.adjustWhitespace(f,ft.getStartPosition(),!0,Z,new Set(xn)),Z.resolveVariables(ie);var fi=Z.toString(),Si=fi.slice(je);je=fi.length;var ji=es.a.replace(ft,Si);ji.identifier={major:Ie,minor:0},ji._isTracked=!0,h.push(ji)}return R.ensureFinalTabstop(Z,t,!0),{edits:h,snippets:[new Tp(e,Z,"")]}}}]),s}();Xg=ak([ok(3,Ro.a)],Xg);var sk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Jg=function(s,o){return function(e,i){o(e,i,s)}},M_={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},Ps=function(){function s(o,e,i,t,n){Object(k.a)(this,s),this._editor=o,this._logService=e,this._languageFeaturesService=i,this._languageConfigurationService=n,this._snippetListener=new Ze.c,this._modelVersionId=-1,this._inSnippet=s.InSnippetMode.bindTo(t),this._hasNextTabstop=s.HasNextTabstop.bindTo(t),this._hasPrevTabstop=s.HasPrevTabstop.bindTo(t)}return Object(w.a)(s,[{key:"dispose",value:function(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}},{key:"insert",value:function(e,i){try{this._doInsert(e,typeof i=="undefined"?M_:Object.assign(Object.assign({},M_),i))}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}},{key:"_doInsert",value:function(e,i){var t=this,n;if(!!this._editor.hasModel()){if(this._snippetListener.clear(),i.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof e!="string"&&this.cancel(),this._session?(Object(Yr.b)(typeof e=="string"),this._session.merge(e,i)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new Xg(this._editor,e,i,this._languageConfigurationService),this._session.insert()),i.undoStopAfter&&this._editor.getModel().pushStackElement(),(n=this._session)===null||n===void 0?void 0:n.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:function(c,h){if(!(!t._session||c!==t._editor.getModel()||!tn.a.equals(t._editor.getPosition(),h))){var f=t._session.activeChoice;if(!(!f||f.choice.options.length===0)){for(var R=c.getValueInRange(f.range),Z=Boolean(f.choice.options.find(function(st){return st.value===R})),ie=[],je=0;je<f.choice.options.length;je++){var Ie=f.choice.options[je];ie.push({kind:13,label:Ie.value,insertText:Ie.value,sortText:"a".repeat(je+1),range:f.range,filterText:Z?"".concat(R,"_").concat(Ie.value):void 0,command:{id:"jumpToNextSnippetPlaceholder",title:Object(Qe.b)("next","Go to next placeholder...")}})}return{suggestions:ie}}}}};var r=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme,exclusive:!0},this._choiceCompletionItemProvider);this._snippetListener.add(r)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(function(l){return l.isFlush&&t.cancel()})),this._snippetListener.add(this._editor.onDidChangeModel(function(){return t.cancel()})),this._snippetListener.add(this._editor.onDidChangeCursorSelection(function(){return t._updateState()}))}}},{key:"_updateState",value:function(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}},{key:"_handleChoice",value:function(){var e=this;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}var i=this._session.activeChoice;if(!i||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==i.choice&&(this._currentChoice=i.choice,queueMicrotask(function(){cn(e._editor,e._choiceCompletionItemProvider)}))}},{key:"finish",value:function(){for(;this._inSnippet.get();)this.next()}},{key:"cancel",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(i=this._session)===null||i===void 0||i.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}},{key:"prev",value:function(){var e;(e=this._session)===null||e===void 0||e.prev(),this._updateState()}},{key:"next",value:function(){var e;(e=this._session)===null||e===void 0||e.next(),this._updateState()}},{key:"isInSnippet",value:function(){return Boolean(this._inSnippet.get())}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();Ps.ID="snippetController2",Ps.InSnippetMode=new Jn.c("inSnippetMode",!1,Object(Qe.b)("inSnippetMode","Whether the editor in current in snippet mode")),Ps.HasNextTabstop=new Jn.c("hasNextTabstop",!1,Object(Qe.b)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),Ps.HasPrevTabstop=new Jn.c("hasPrevTabstop",!1,Object(Qe.b)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),Ps=sk([Jg(1,Yg.b),Jg(2,Nr.a),Jg(3,Jn.b),Jg(4,Ro.a)],Ps),Object(St.m)(Ps.ID,Ps,4);var qg=St.d.bindToContribution(Ps.get);Object(St.l)(new qg({id:"jumpToNextSnippetPlaceholder",precondition:Jn.a.and(Ps.InSnippetMode,Ps.HasNextTabstop),handler:function(o){return o.next()},kbOpts:{weight:100+30,kbExpr:an.a.editorTextFocus,primary:2}})),Object(St.l)(new qg({id:"jumpToPrevSnippetPlaceholder",precondition:Jn.a.and(Ps.InSnippetMode,Ps.HasPrevTabstop),handler:function(o){return o.prev()},kbOpts:{weight:100+30,kbExpr:an.a.editorTextFocus,primary:1024|2}})),Object(St.l)(new qg({id:"leaveSnippet",precondition:Ps.InSnippetMode,handler:function(o){return o.cancel(!0)},kbOpts:{weight:100+30,kbExpr:an.a.editorTextFocus,primary:9,secondary:[1024|9]}})),Object(St.l)(new qg({id:"acceptSnippet",precondition:Ps.InSnippetMode,handler:function(o){return o.finish()}}));var lk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Ip=function(s,o){return function(e,i){o(e,i,s)}},Ff=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Eu;(function(s){s[s.Undo=0]="Undo",s[s.Redo=1]="Redo",s[s.AcceptWord=2]="AcceptWord",s[s.Other=3]="Other"})(Eu||(Eu={}));var Pp=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h,f,R,Z,ie,je){var Ie;Object(k.a)(this,e),Ie=o.call(this),Ie.textModel=i,Ie.selectedSuggestItem=t,Ie.cursorPosition=n,Ie.textModelVersionId=r,Ie._debounceValue=l,Ie._suggestPreviewEnabled=c,Ie._suggestPreviewMode=h,Ie._inlineSuggestMode=f,Ie._enabled=R,Ie._instantiationService=Z,Ie._commandService=ie,Ie._languageConfigurationService=je,Ie._source=Ie._register(Ie._instantiationService.createInstance(Mp,Ie.textModel,Ie.textModelVersionId,Ie._debounceValue)),Ie._isActive=wf("isActive",!1),Ie._forceUpdate=FC("forceUpdate"),Ie._selectedInlineCompletionId=wf("selectedInlineCompletionId",void 0),Ie._isAcceptingPartially=!1,Ie._isNavigatingCurrentInlineCompletion=!1,Ie._preserveCurrentCompletionReasons=new Set([Eu.Redo,Eu.Undo,Eu.AcceptWord]),Ie._fetchInlineCompletions=IC("fetch inline completions",{createEmptyChangeSummary:function(){return{preserveCurrentCompletion:!1,inlineCompletionTriggerKind:oo.g.Automatic}},handleChange:function(kt,$t){return kt.didChange(Ie.textModelVersionId)&&Ie._preserveCurrentCompletionReasons.has(kt.change)?$t.preserveCurrentCompletion=!0:kt.didChange(Ie._forceUpdate)&&($t.inlineCompletionTriggerKind=kt.change),!0}},function(ft,kt){Ie._forceUpdate.read(ft);var $t=Ie._enabled.read(ft)&&Ie.selectedSuggestItem.read(ft)||Ie._isActive.read(ft);if(!$t){Ie._source.cancelUpdate();return}Ie.textModelVersionId.read(ft);var un=Ie.selectedInlineCompletion.get(),Yn=kt.preserveCurrentCompletion||(un==null?void 0:un.forwardStable)?un:void 0,xn=Ie._source.suggestWidgetInlineCompletions.get(),fi=Ie.selectedSuggestItem.read(ft);if(xn&&!fi){var Si=Ie._source.inlineCompletions.get();Ol(function(Lr){Si&&xn.request.versionId>Si.request.versionId&&Ie._source.inlineCompletions.set(xn.clone(),Lr),Ie._source.clearSuggestWidgetInlineCompletions(Lr)})}var ji=Ie.cursorPosition.read(ft),Bi={triggerKind:kt.inlineCompletionTriggerKind,selectedSuggestionInfo:fi==null?void 0:fi.toSelectedSuggestionInfo()};return Ie._source.fetch(ji,Bi,Yn)}),Ie._filteredInlineCompletionItems=Vu("filteredInlineCompletionItems",function(ft){var kt=Ie._source.inlineCompletions.read(ft);if(!kt)return[];var $t=Ie.cursorPosition.read(ft),un=kt.inlineCompletions.filter(function(Yn){return Yn.isVisible(Ie.textModel,$t,ft)});return un}),Ie.selectedInlineCompletionIndex=Vu("selectedCachedCompletionIndex",function(ft){var kt=Ie._selectedInlineCompletionId.read(ft),$t=Ie._filteredInlineCompletionItems.read(ft),un=Ie._selectedInlineCompletionId===void 0?-1:$t.findIndex(function(Yn){return Yn.semanticId===kt});return un===-1?(Ie._selectedInlineCompletionId.set(void 0,void 0),0):un}),Ie.selectedInlineCompletion=Vu("selectedCachedCompletion",function(ft){var kt=Ie._filteredInlineCompletionItems.read(ft),$t=Ie.selectedInlineCompletionIndex.read(ft);return kt[$t]}),Ie.lastTriggerKind=Ie._source.inlineCompletions.map(function(ft){return ft==null?void 0:ft.request.context.triggerKind}),Ie.inlineCompletionsCount=Vu("selectedInlineCompletionsCount",function(ft){if(Ie.lastTriggerKind.read(ft)===oo.g.Explicit)return Ie._filteredInlineCompletionItems.read(ft).length}),Ie.state=Vu("ghostTextAndCompletion",function(ft){var kt,$t=Ie.textModel,un=Ie.selectedSuggestItem.read(ft);if(un){var Yn=Ie._source.suggestWidgetInlineCompletions.read(ft),xn=Yn?Yn.inlineCompletions:[Ie.selectedInlineCompletion.read(ft)].filter(Yr.d),fi=un.toSingleTextEdit().removeCommonPrefix($t),Si=Object(or.t)(xn,function(cs){var fo=cs.toSingleTextEdit(ft);return fo=fo.removeCommonPrefix($t,Dt.a.fromPositions(fo.range.getStartPosition(),un.range.getEndPosition())),fo.augments(fi)?{edit:fo,completion:cs}:void 0}),ji=Ie._suggestPreviewEnabled.read(ft);if(!ji&&!Si)return;var Bi=(kt=Si==null?void 0:Si.edit)!==null&&kt!==void 0?kt:fi,Lr=Si?Si.edit.text.length-fi.text.length:0,gr=Ie._suggestPreviewMode.read(ft),jr=Ie.cursorPosition.read(ft),$r=Bi.computeGhostText($t,gr,jr,Lr),fa=$r!=null?$r:new f_(Bi.range.endLineNumber,[]);return{ghostText:fa,completion:Si==null?void 0:Si.completion,suggestItem:un}}else{if(!Ie._isActive.read(ft))return;var Fr=Ie.selectedInlineCompletion.read(ft);if(!Fr)return;var Aa=Fr.toSingleTextEdit(ft),Oa=Ie._inlineSuggestMode.read(ft),da=Ie.cursorPosition.read(ft),lo=Aa.computeGhostText($t,Oa,da);return lo?{ghostText:lo,completion:Fr,suggestItem:void 0}:void 0}}),Ie.ghostText=Vu("ghostText",function(ft){var kt=Ie.state.read(ft);if(!!kt)return kt.ghostText}),Ie._register(WC(Ie._fetchInlineCompletions,!0));var st=void 0;return Ie._register(Fl("call handleItemDidShow",function(ft){var kt,$t,un=Ie.state.read(ft),Yn=un==null?void 0:un.completion;if((Yn==null?void 0:Yn.semanticId)!==(st==null?void 0:st.semanticId)&&(st=Yn,Yn)){var xn=Yn.inlineCompletion,fi=xn.source;($t=(kt=fi.provider).handleItemDidShow)===null||$t===void 0||$t.call(kt,fi.inlineCompletions,xn.sourceInlineCompletion,xn.insertText)}})),Ie}return Object(w.a)(e,[{key:"isAcceptingPartially",get:function(){return this._isAcceptingPartially}},{key:"isNavigatingCurrentInlineCompletion",get:function(){return this._isNavigatingCurrentInlineCompletion}},{key:"trigger",value:function(t){return Ff(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this._isActive.set(!0,t),l.next=3,this._fetchInlineCompletions.get();case 3:case"end":return l.stop()}},n,this)}))}},{key:"triggerExplicitly",value:function(t){return Ff(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return ey(t,function(h){r._isActive.set(!0,h),r._forceUpdate.trigger(h,oo.g.Explicit)}),c.next=3,this._fetchInlineCompletions.get();case 3:case"end":return c.stop()}},n,this)}))}},{key:"stop",value:function(t){var n=this;ey(t,function(r){n._isActive.set(!1,r),n._source.clear(r)})}},{key:"_deltaSelectedInlineCompletionIndex",value:function(t){return Ff(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.triggerExplicitly();case 2:this._isNavigatingCurrentInlineCompletion=!0;try{r=this._filteredInlineCompletionItems.get()||[],r.length>0?(l=(this.selectedInlineCompletionIndex.get()+t+r.length)%r.length,this._selectedInlineCompletionId.set(r[l].semanticId,void 0)):this._selectedInlineCompletionId.set(void 0,void 0)}finally{this._isNavigatingCurrentInlineCompletion=!1}case 4:case"end":return h.stop()}},n,this)}))}},{key:"next",value:function(){return Ff(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._deltaSelectedInlineCompletionIndex(1);case 2:case"end":return r.stop()}},t,this)}))}},{key:"previous",value:function(){return Ff(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._deltaSelectedInlineCompletionIndex(-1);case 2:case"end":return r.stop()}},t,this)}))}},{key:"accept",value:function(t){var n,r;return Ff(this,void 0,void 0,Object(d.a)().mark(function l(){var c=this,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(t.getModel()===this.textModel){ie.next=2;break}throw new zi.a;case 2:if(h=this.ghostText.get(),f=(n=this.selectedInlineCompletion.get())===null||n===void 0?void 0:n.toInlineCompletion(void 0),!(!h||!f)){ie.next=6;break}return ie.abrupt("return");case 6:if(t.pushUndoStop(),f.snippetInfo?(t.executeEdits("inlineSuggestion.accept",[es.a.replaceMove(f.range,"")].concat(Object(Ai.a)(f.additionalTextEdits))),t.setPosition(f.snippetInfo.range.getStartPosition()),(r=Ps.get(t))===null||r===void 0||r.insert(f.snippetInfo.snippet,{undoStopBefore:!1})):t.executeEdits("inlineSuggestion.accept",[es.a.replaceMove(f.range,f.insertText)].concat(Object(Ai.a)(f.additionalTextEdits))),!f.command){ie.next=11;break}return ie.next=11,(R=this._commandService).executeCommand.apply(R,[f.command.id].concat(Object(Ai.a)(f.command.arguments||[]))).then(void 0,zi.i);case 11:Ol(function(je){c._source.clear(je),c._isActive.set(!1,je)});case 12:case"end":return ie.stop()}},l,this)}))}},{key:"acceptNextWord",value:function(t){var n=this;this._acceptNext(t,function(r,l){var c=n.textModel.getLanguageIdAtPosition(r.lineNumber,r.column),h=n._languageConfigurationService.getLanguageConfiguration(c),f=new RegExp(h.wordDefinition.source,h.wordDefinition.flags.replace("g","")),R=l.match(f),Z=0;R&&R.index!==void 0?R.index===0?Z=R[0].length:Z=R.index:Z=l.length;var ie=/\s+/g,je=ie.exec(l);return je&&je.index!==void 0&&je.index+je[0].length<Z&&(Z=je.index+je[0].length),Z})}},{key:"acceptNextLine",value:function(t){this._acceptNext(t,function(n,r){var l=r.match(/\n/);return l&&l.index!==void 0?l.index+1:r.length})}},{key:"_acceptNext",value:function(t,n){var r;if(t.getModel()!==this.textModel)throw new zi.a;var l=this.ghostText.get(),c=(r=this.selectedInlineCompletion.get())===null||r===void 0?void 0:r.toInlineCompletion(void 0);if(!(!l||!c)){if(c.snippetInfo||c.filterText!==c.insertText){this.accept(t);return}if(l.parts.length!==0){var h=l.parts[0],f=new tn.a(l.lineNumber,h.column),R=h.lines.join(`
`),Z=n(f,R);if(Z===R.length&&l.parts.length===1){this.accept(t);return}var ie=R.substring(0,Z);this._isAcceptingPartially=!0;try{t.pushUndoStop(),t.executeEdits("inlineSuggestion.accept",[es.a.replace(Dt.a.fromPositions(f),ie)]);var je=wp(ie);t.setPosition(Dp(f,je))}finally{this._isAcceptingPartially=!1}if(c.source.provider.handlePartialAccept){var Ie=Dt.a.fromPositions(c.range.getStartPosition(),Dp(f,wp(ie))),st=t.getModel().getValueInRange(Ie,1);c.source.provider.handlePartialAccept(c.source.inlineCompletions,c.sourceInlineCompletion,st.length)}}}}}]),e}(Ze.a);Pp=lk([Ip(9,Ia.a),Ip(10,ia.b),Ip(11,Ro.a)],Pp);var T_=a("Szf2"),uk=a("i55F"),ck=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},I_=function(s,o){return function(e,i){o(e,i,s)}},Ap=function(){function s(o){Object(k.a)(this,s),this.name=o}return Object(w.a)(s,[{key:"select",value:function(e,i,t){if(t.length===0)return 0;for(var n=t[0].score[0],r=0;r<t.length;r++){var l=t[r],c=l.score,h=l.completion;if(c[0]!==n)break;if(h.preselect)return r}return 0}}]),s}(),P_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,"first")}return Object(w.a)(e,[{key:"memorize",value:function(t,n,r){}},{key:"toJSON",value:function(){}},{key:"fromJSON",value:function(){}}]),e}(Ap),dk=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this,"recentlyUsed"),i._cache=new Ju.a(300,.66),i._seq=0,i}return Object(w.a)(e,[{key:"memorize",value:function(t,n,r){var l="".concat(t.getLanguageId(),"/").concat(r.textLabel);this._cache.set(l,{touch:this._seq++,type:r.completion.kind,insertText:r.completion.insertText})}},{key:"select",value:function(t,n,r){if(r.length===0)return 0;var l=t.getLineContent(n.lineNumber).substr(n.column-10,n.column-1);if(/\s$/.test(l))return Object(yi.a)(Object(vi.a)(e.prototype),"select",this).call(this,t,n,r);for(var c=r[0].score[0],h=-1,f=-1,R=-1,Z=0;Z<r.length&&r[Z].score[0]===c;Z++){var ie="".concat(t.getLanguageId(),"/").concat(r[Z].textLabel),je=this._cache.peek(ie);if(je&&je.touch>R&&je.type===r[Z].completion.kind&&je.insertText===r[Z].completion.insertText&&(R=je.touch,f=Z),r[Z].completion.preselect&&h===-1)return h=Z}return f!==-1?f:h!==-1?h:0}},{key:"toJSON",value:function(){return this._cache.toJSON()}},{key:"fromJSON",value:function(t){this._cache.clear();var n=0,r=Object(B.a)(t),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=Object(z.a)(c,2),f=h[0],R=h[1];R.touch=n,R.type=typeof R.type=="number"?R.type:oo.b.fromString(R.type),this._cache.set(f,R)}}catch(Z){r.e(Z)}finally{r.f()}this._seq=this._cache.size}}]),e}(Ap),hk=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this,"recentlyUsedByPrefix"),i._trie=uk.a.forStrings(),i._seq=0,i}return Object(w.a)(e,[{key:"memorize",value:function(t,n,r){var l=t.getWordUntilPosition(n),c=l.word,h="".concat(t.getLanguageId(),"/").concat(c);this._trie.set(h,{type:r.completion.kind,insertText:r.completion.insertText,touch:this._seq++})}},{key:"select",value:function(t,n,r){var l=t.getWordUntilPosition(n),c=l.word;if(!c)return Object(yi.a)(Object(vi.a)(e.prototype),"select",this).call(this,t,n,r);var h="".concat(t.getLanguageId(),"/").concat(c),f=this._trie.get(h);if(f||(f=this._trie.findSubstr(h)),f)for(var R=0;R<r.length;R++){var Z=r[R].completion,ie=Z.kind,je=Z.insertText;if(ie===f.type&&je===f.insertText)return R}return Object(yi.a)(Object(vi.a)(e.prototype),"select",this).call(this,t,n,r)}},{key:"toJSON",value:function(){var t=[];return this._trie.forEach(function(n,r){return t.push([r,n])}),t.sort(function(n,r){return-(n[1].touch-r[1].touch)}).forEach(function(n,r){return n[1].touch=r}),t.slice(0,200)}},{key:"fromJSON",value:function(t){if(this._trie.clear(),t.length>0){this._seq=t[0][1].touch+1;var n=Object(B.a)(t),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=Object(z.a)(l,2),h=c[0],f=c[1];f.type=typeof f.type=="number"?f.type:oo.b.fromString(f.type),this._trie.set(h,f)}}catch(R){n.e(R)}finally{n.f()}}}}]),e}(Ap),Kv=function(){function s(o,e){var i=this;Object(k.a)(this,s),this._storageService=o,this._configService=e,this._disposables=new Ze.c,this._persistSoon=new et.g(function(){return i._saveState()},500),this._disposables.add(o.onWillSaveState(function(t){t.reason===Ws.c.SHUTDOWN&&i._saveState()}))}return Object(w.a)(s,[{key:"dispose",value:function(){this._disposables.dispose(),this._persistSoon.dispose()}},{key:"memorize",value:function(e,i,t){this._withStrategy(e,i).memorize(e,i,t),this._persistSoon.schedule()}},{key:"select",value:function(e,i,t){return this._withStrategy(e,i).select(e,i,t)}},{key:"_withStrategy",value:function(e,i){var t,n=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(i.lineNumber,i.column),resource:e.uri});if(((t=this._strategy)===null||t===void 0?void 0:t.name)!==n){this._saveState();var r=s._strategyCtors.get(n)||P_;this._strategy=new r;try{var l=this._configService.getValue("editor.suggest.shareSuggestSelections"),c=l?0:1,h=this._storageService.get("".concat(s._storagePrefix,"/").concat(n),c);h&&this._strategy.fromJSON(JSON.parse(h))}catch(f){}}return this._strategy}},{key:"_saveState",value:function(){if(this._strategy){var e=this._configService.getValue("editor.suggest.shareSuggestSelections"),i=e?0:1,t=JSON.stringify(this._strategy);this._storageService.store("".concat(s._storagePrefix,"/").concat(this._strategy.name),t,i,1)}}}]),s}();Kv._strategyCtors=new Map([["recentlyUsedByPrefix",hk],["recentlyUsed",dk],["first",P_]]),Kv._storagePrefix="suggest/memories",Kv=ck([I_(0,Ws.a),I_(1,Po.a)],Kv);var em=Object(Ia.c)("ISuggestMemories");Object(Xs.b)(em,Kv,1);var fk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},vk=function(s,o){return function(e,i){o(e,i,s)}},Gv=function(){function s(o,e){var i=this;Object(k.a)(this,s),this._editor=o,this._enabled=!1,this._ckAtEnd=s.AtEnd.bindTo(e),this._configListener=this._editor.onDidChangeConfiguration(function(t){return t.hasChanged(119)&&i._update()}),this._update()}return Object(w.a)(s,[{key:"dispose",value:function(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}},{key:"_update",value:function(){var e=this,i=this._editor.getOption(119)==="on";if(this._enabled!==i)if(this._enabled=i,this._enabled){var t=function(){if(!e._editor.hasModel()){e._ckAtEnd.set(!1);return}var r=e._editor.getModel(),l=e._editor.getSelection(),c=r.getWordAtPosition(l.getStartPosition());if(!c){e._ckAtEnd.set(!1);return}e._ckAtEnd.set(c.endColumn===l.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}}]),s}();Gv.AtEnd=new Jn.c("atEndOfWord",!1),Gv=fk([vk(1,Jn.b)],Gv);var gk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},mk=function(s,o){return function(e,i){o(e,i,s)}},Ph=function(){function s(o,e){Object(k.a)(this,s),this._editor=o,this._index=0,this._ckOtherSuggestions=s.OtherSuggestions.bindTo(e)}return Object(w.a)(s,[{key:"dispose",value:function(){this.reset()}},{key:"reset",value:function(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}},{key:"set",value:function(e,i){var t=this,n=e.model,r=e.index;if(n.items.length===0){this.reset();return}var l=s._moveIndex(!0,n,r);if(l===r){this.reset();return}this._acceptNext=i,this._model=n,this._index=r,this._listener=this._editor.onDidChangeCursorPosition(function(){t._ignore||t.reset()}),this._ckOtherSuggestions.set(!0)}},{key:"next",value:function(){this._move(!0)}},{key:"prev",value:function(){this._move(!1)}},{key:"_move",value:function(e){if(!!this._model)try{this._ignore=!0,this._index=s._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}}],[{key:"_moveIndex",value:function(e,i,t){for(var n=t,r=i.items.length;r>0&&(n=(n+i.items.length+(e?1:-1))%i.items.length,!(n===t||!i.items[n].completion.additionalTextEdits));r--);return n}}]),s}();Ph.OtherSuggestions=new Jn.c("hasOtherSuggestions",!1),Ph=gk([mk(1,Jn.b)],Ph);var pk=function(){function s(o,e,i,t){var n=this;Object(k.a)(this,s),this._disposables=new Ze.c,this._disposables.add(i.onDidSuggest(function(r){r.completionModel.items.length===0&&n.reset()})),this._disposables.add(i.onDidCancel(function(r){n.reset()})),this._disposables.add(e.onDidShow(function(){return n._onItem(e.getFocusedItem())})),this._disposables.add(e.onDidFocus(this._onItem,this)),this._disposables.add(e.onDidHide(this.reset,this)),this._disposables.add(o.onWillType(function(r){if(n._active&&!e.isFrozen()&&i.state!==0){var l=r.charCodeAt(r.length-1);n._active.acceptCharacters.has(l)&&o.getOption(0)&&t(n._active.item)}}))}return Object(w.a)(s,[{key:"_onItem",value:function(e){if(!e||!Object(or.s)(e.item.completion.commitCharacters)){this.reset();return}if(!(this._active&&this._active.item.item===e.item)){var i=new Kg.b,t=Object(B.a)(e.item.completion.commitCharacters),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;r.length>0&&i.add(r.charCodeAt(0))}}catch(l){t.e(l)}finally{t.f()}this._active={acceptCharacters:i,item:e}}}},{key:"reset",value:function(){this._active=void 0}},{key:"dispose",value:function(){this._disposables.dispose()}}]),s}(),bk=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},tm=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"provideSelectionRanges",value:function(e,i){return bk(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:n=[],r=Object(B.a)(i),f.prev=2,c=Object(d.a)().mark(function R(){var Z,ie,je;return Object(d.a)().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return Z=l.value,ie=[],n.push(ie),je=new Map,st.next=6,new Promise(function(ft){return s._bracketsRightYield(ft,0,e,Z,je)});case 6:return st.next=8,new Promise(function(ft){return s._bracketsLeftYield(ft,0,e,Z,je,ie)});case 8:case"end":return st.stop()}},R)}),r.s();case 5:if((l=r.n()).done){f.next=9;break}return f.delegateYield(c(),"t0",7);case 7:f.next=5;break;case 9:f.next=14;break;case 11:f.prev=11,f.t1=f.catch(2),r.e(f.t1);case 14:return f.prev=14,r.f(),f.finish(14);case 17:return f.abrupt("return",n);case 18:case"end":return f.stop()}},t,null,[[2,11,14,17]])}))}}],[{key:"_bracketsRightYield",value:function(e,i,t,n,r){for(var l=new Map,c=Date.now();;){if(i>=s._maxRounds){e();break}if(!n){e();break}var h=t.bracketPairs.findNextBracket(n);if(!h){e();break}var f=Date.now()-c;if(f>s._maxDuration){setTimeout(function(){return s._bracketsRightYield(e,i+1,t,n,r)});break}if(h.bracketInfo.isOpeningBracket){var R=h.bracketInfo.bracketText,Z=l.has(R)?l.get(R):0;l.set(R,Z+1)}else{var ie=h.bracketInfo.getOpeningBrackets()[0].bracketText,je=l.has(ie)?l.get(ie):0;if(je-=1,l.set(ie,Math.max(0,je)),je<0){var Ie=r.get(ie);Ie||(Ie=new _l.a,r.set(ie,Ie)),Ie.push(h.range)}}n=h.range.getEndPosition()}}},{key:"_bracketsLeftYield",value:function(e,i,t,n,r,l){for(var c=new Map,h=Date.now();;){if(i>=s._maxRounds&&r.size===0){e();break}if(!n){e();break}var f=t.bracketPairs.findPrevBracket(n);if(!f){e();break}var R=Date.now()-h;if(R>s._maxDuration){setTimeout(function(){return s._bracketsLeftYield(e,i+1,t,n,r,l)});break}if(f.bracketInfo.isOpeningBracket){var je=f.bracketInfo.bracketText,Ie=c.has(je)?c.get(je):0;if(Ie-=1,c.set(je,Math.max(0,Ie)),Ie<0){var st=r.get(je);if(st){var ft=st.shift();st.size===0&&r.delete(je);var kt=Dt.a.fromPositions(f.range.getEndPosition(),ft.getStartPosition()),$t=Dt.a.fromPositions(f.range.getStartPosition(),ft.getEndPosition());l.push({range:kt}),l.push({range:$t}),s._addBracketLeading(t,$t,l)}}}else{var Z=f.bracketInfo.getOpeningBrackets()[0].bracketText,ie=c.has(Z)?c.get(Z):0;c.set(Z,ie+1)}n=f.range.getStartPosition()}}},{key:"_addBracketLeading",value:function(e,i,t){if(i.startLineNumber!==i.endLineNumber){var n=i.startLineNumber,r=e.getLineFirstNonWhitespaceColumn(n);r!==0&&r!==i.startColumn&&(t.push({range:Dt.a.fromPositions(new tn.a(n,r),i.getEndPosition())}),t.push({range:Dt.a.fromPositions(new tn.a(n,1),i.getEndPosition())}));var l=n-1;if(l>0){var c=e.getLineFirstNonWhitespaceColumn(l);c===i.startColumn&&c!==e.getLineLastNonWhitespaceColumn(l)&&(t.push({range:Dt.a.fromPositions(new tn.a(l,c),i.getEndPosition())}),t.push({range:Dt.a.fromPositions(new tn.a(l,1),i.getEndPosition())}))}}}}]),s}();tm._maxDuration=30,tm._maxRounds=2;var yk=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},nm=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,null,[{key:"create",value:function(e,i){return yk(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(i.getOption(114).localityBonus){ie.next=2;break}return ie.abrupt("return",s.None);case 2:if(i.hasModel()){ie.next=4;break}return ie.abrupt("return",s.None);case 4:if(n=i.getModel(),r=i.getPosition(),e.canComputeWordRanges(n.uri)){ie.next=8;break}return ie.abrupt("return",s.None);case 8:return ie.next=10,new tm().provideSelectionRanges(n,[r]);case 10:if(l=ie.sent,c=Object(z.a)(l,1),h=c[0],h.length!==0){ie.next=15;break}return ie.abrupt("return",s.None);case 15:return ie.next=17,e.computeWordRanges(n.uri,h[0].range);case 17:if(f=ie.sent,f){ie.next=20;break}return ie.abrupt("return",s.None);case 20:return R=n.getWordUntilPosition(r),delete f[R.word],ie.abrupt("return",new(function(je){Object(tt.a)(st,je);var Ie=Object(Lt.a)(st);function st(){return Object(k.a)(this,st),Ie.apply(this,arguments)}return Object(w.a)(st,[{key:"distance",value:function(kt,$t){if(!r.equals(i.getPosition()))return 0;if($t.kind===17)return 2<<20;var un=typeof $t.label=="string"?$t.label:$t.label.label,Yn=f[un];if(Object(or.r)(Yn))return 2<<20;var xn=Object(or.e)(Yn,Dt.a.fromPositions(kt),Dt.a.compareRangesUsingStarts),fi=xn>=0?Yn[xn]:Yn[Math.max(0,~xn-1)],Si=h.length,ji=Object(B.a)(h),Bi;try{for(ji.s();!(Bi=ji.n()).done;){var Lr=Bi.value;if(!Dt.a.containsRange(Lr.range,fi))break;Si-=1}}catch(gr){ji.e(gr)}finally{ji.f()}return Si}}]),st}(s)));case 23:case"end":return ie.stop()}},t)}))}}]),s}();nm.None=new(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"distance",value:function(){return 0}}]),e}(nm));var A_=Object(w.a)(function s(o,e){Object(k.a)(this,s),this.leadingLineContent=o,this.characterCountDelta=e}),R_=function(){function s(o,e,i,t,n,r){var l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:_s.b.default,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0;Object(k.a)(this,s),this.clipboardText=c,this._snippetCompareFn=s._compareCompletionItems,this._items=o,this._column=e,this._wordDistance=t,this._options=n,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=l,r==="top"?this._snippetCompareFn=s._compareCompletionItemsSnippetsUp:r==="bottom"&&(this._snippetCompareFn=s._compareCompletionItemsSnippetsDown)}return Object(w.a)(s,[{key:"lineContext",get:function(){return this._lineContext},set:function(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}},{key:"items",get:function(){return this._ensureCachedState(),this._filteredItems}},{key:"getItemsByProvider",value:function(){return this._ensureCachedState(),this._itemsByProvider}},{key:"getIncompleteProvider",value:function(){this._ensureCachedState();var e=new Set,i=Object(B.a)(this.getItemsByProvider()),t;try{for(i.s();!(t=i.n()).done;){var n=t.value,r=Object(z.a)(n,2),l=r[0],c=r[1];c.length>0&&c[0].container.incomplete&&e.add(l)}}catch(h){i.e(h)}finally{i.f()}return e}},{key:"stats",get:function(){return this._ensureCachedState(),this._stats}},{key:"_ensureCachedState",value:function(){this._refilterKind!==0&&this._createCachedState()}},{key:"_createCachedState",value:function(){this._itemsByProvider=new Map;for(var e=[],i=this._lineContext,t=i.leadingLineContent,n=i.characterCountDelta,r="",l="",c=this._refilterKind===1?this._items:this._filteredItems,h=[],f=!this._options.filterGraceful||c.length>2e3?_s.e:_s.f,R=0;R<c.length;R++){var Z=c[R];if(!Z.isInvalid){var ie=this._itemsByProvider.get(Z.provider);ie?ie.push(Z):this._itemsByProvider.set(Z.provider,[Z]);var je=Z.position.column-Z.editStart.column,Ie=je+n-(Z.position.column-this._column);if(r.length!==Ie&&(r=Ie===0?"":t.slice(-Ie),l=r.toLowerCase()),Z.word=r,Ie===0)Z.score=_s.a.Default;else{for(var st=0;st<je;){var ft=r.charCodeAt(st);if(ft===32||ft===9)st+=1;else break}if(st>=Ie)Z.score=_s.a.Default;else if(typeof Z.completion.filterText=="string"){var kt=f(r,l,st,Z.completion.filterText,Z.filterTextLow,0,this._fuzzyScoreOptions);if(!kt)continue;Object(Vn.i)(Z.completion.filterText,Z.textLabel)===0?Z.score=kt:(Z.score=Object(_s.c)(r,l,st,Z.textLabel,Z.labelLow,0),Z.score[0]=kt[0])}else{var $t=f(r,l,st,Z.textLabel,Z.labelLow,0,this._fuzzyScoreOptions);if(!$t)continue;Z.score=$t}}Z.idx=R,Z.distance=this._wordDistance.distance(Z.position,Z.completion),h.push(Z),e.push(Z.textLabel.length)}}this._filteredItems=h.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?Object(or.y)(e.length-.85,e,function(un,Yn){return un-Yn}):0}}}],[{key:"_compareCompletionItems",value:function(e,i){return e.score[0]>i.score[0]?-1:e.score[0]<i.score[0]?1:e.distance<i.distance?-1:e.distance>i.distance?1:e.idx<i.idx?-1:e.idx>i.idx?1:0}},{key:"_compareCompletionItemsSnippetsDown",value:function(e,i){if(e.completion.kind!==i.completion.kind){if(e.completion.kind===27)return 1;if(i.completion.kind===27)return-1}return s._compareCompletionItems(e,i)}},{key:"_compareCompletionItemsSnippetsUp",value:function(e,i){if(e.completion.kind!==i.completion.kind){if(e.completion.kind===27)return-1;if(i.completion.kind===27)return 1}return s._compareCompletionItems(e,i)}}]),s}(),_k=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Ah=function(s,o){return function(e,i){o(e,i,s)}},Ck=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Rh=function(){function s(o,e,i){Object(k.a)(this,s),this.leadingLineContent=o.getLineContent(e.lineNumber).substr(0,e.column-1),this.leadingWord=o.getWordUntilPosition(e),this.lineNumber=e.lineNumber,this.column=e.column,this.triggerOptions=i}return Object(w.a)(s,null,[{key:"shouldAutoTrigger",value:function(e){if(!e.hasModel())return!1;var i=e.getModel(),t=e.getPosition();i.tokenization.tokenizeIfCheap(t.lineNumber);var n=i.getWordAtPosition(t);return!(!n||n.endColumn!==t.column&&n.startColumn+1!==t.column||!isNaN(Number(n.word)))}}]),s}();function Ok(s,o,e){if(!Boolean(o.getContextKeyValue(kl.inlineSuggestionVisible.key)))return!0;var i=o.getContextKeyValue(kl.suppressSuggestions.key);return i!==void 0?!i:!s.getOption(60).suppressSuggestions}function Sk(s,o,e){if(!Boolean(o.getContextKeyValue("inlineSuggestionVisible")))return!0;var i=o.getContextKeyValue(kl.suppressSuggestions.key);return i!==void 0?!i:!s.getOption(60).suppressSuggestions}var Rp=function(){function s(o,e,i,t,n,r,l,c){var h=this;Object(k.a)(this,s),this._editor=o,this._editorWorkerService=e,this._clipboardService=i,this._telemetryService=t,this._logService=n,this._contextKeyService=r,this._configurationService=l,this._languageFeaturesService=c,this._toDispose=new Ze.c,this._triggerCharacterListener=new Ze.c,this._triggerQuickSuggest=new et.i,this._triggerState=void 0,this._completionDisposables=new Ze.c,this._onDidCancel=new rr.b,this._onDidTrigger=new rr.b,this._onDidSuggest=new rr.b,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Gi.a(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(function(){h._updateTriggerCharacters(),h.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(function(){h._updateTriggerCharacters(),h.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(function(){h._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(function(){h._updateTriggerCharacters(),h._updateActiveSuggestSession()}));var f=!1;this._toDispose.add(this._editor.onDidCompositionStart(function(){f=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(function(){f=!1,h._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(function(R){f||h._onCursorChange(R)})),this._toDispose.add(this._editor.onDidChangeModelContent(function(){!f&&h._triggerState!==void 0&&h._refilterCompletionItems()})),this._updateTriggerCharacters()}return Object(w.a)(s,[{key:"dispose",value:function(){Object(Ze.i)(this._triggerCharacterListener),Object(Ze.i)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}},{key:"_updateTriggerCharacters",value:function(){var e=this;if(this._triggerCharacterListener.clear(),!(this._editor.getOption(88)||!this._editor.hasModel()||!this._editor.getOption(117))){var i=new Map,t=Object(B.a)(this._languageFeaturesService.completionProvider.all(this._editor.getModel())),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=Object(B.a)(r.triggerCharacters||[]),c;try{for(l.s();!(c=l.n()).done;){var h=c.value,f=i.get(h);f||(f=new Set,f.add(P()),i.set(h,f)),f.add(r)}}catch(Z){l.e(Z)}finally{l.f()}}}catch(Z){t.e(Z)}finally{t.f()}var R=function(ie){var je;if(!!Sk(e._editor,e._contextKeyService,e._configurationService)&&!Rh.shouldAutoTrigger(e._editor)){if(!ie){var Ie=e._editor.getPosition(),st=e._editor.getModel();ie=st.getLineContent(Ie.lineNumber).substr(0,Ie.column-1)}var ft="";Object(Vn.G)(ie.charCodeAt(ie.length-1))?Object(Vn.F)(ie.charCodeAt(ie.length-2))&&(ft=ie.substr(ie.length-2)):ft=ie.charAt(ie.length-1);var kt=i.get(ft);if(kt){var $t=new Map;if(e._completionModel){var un=Object(B.a)(e._completionModel.getItemsByProvider()),Yn;try{for(un.s();!(Yn=un.n()).done;){var xn=Yn.value,fi=Object(z.a)(xn,2),Si=fi[0],ji=fi[1];kt.has(Si)||$t.set(Si,ji)}}catch(Bi){un.e(Bi)}finally{un.f()}}e.trigger({auto:!0,triggerKind:1,triggerCharacter:ft,retrigger:Boolean(e._completionModel),clipboardText:(je=e._completionModel)===null||je===void 0?void 0:je.clipboardText,completionOptions:{providerFilter:kt,providerItemsToReuse:$t}})}}};this._triggerCharacterListener.add(this._editor.onDidType(R)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(function(){return R()}))}}},{key:"state",get:function(){return this._triggerState?this._triggerState.auto?2:1:0}},{key:"cancel",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(i=this._requestToken)===null||i===void 0||i.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}},{key:"clear",value:function(){this._completionDisposables.clear()}},{key:"_updateActiveSuggestSession",value:function(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}},{key:"_onCursorChange",value:function(e){if(!!this._editor.hasModel()){var i=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&e.reason===0?(i.containsRange(this._currentSelection)||i.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&e.reason===3&&this._refilterCompletionItems()}}},{key:"_onCompositionEnd",value:function(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}},{key:"_doTriggerQuickSuggest",value:function(){var e=this,i;Mn.isAllOff(this._editor.getOption(86))||this._editor.getOption(114).snippetsPreventQuickSuggestions&&((i=Ps.get(this._editor))===null||i===void 0?void 0:i.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(function(){if(e._triggerState===void 0&&!!Rh.shouldAutoTrigger(e._editor)&&!(!e._editor.hasModel()||!e._editor.hasWidgetFocus())){var t=e._editor.getModel(),n=e._editor.getPosition(),r=e._editor.getOption(86);if(!Mn.isAllOff(r)){if(!Mn.isAllOn(r)){t.tokenization.tokenizeIfCheap(n.lineNumber);var l=t.tokenization.getLineTokens(n.lineNumber),c=l.getStandardTokenType(l.findTokenIndexAtOffset(Math.max(n.column-1-1,0)));if(Mn.valueFor(r,c)!=="on")return}!Ok(e._editor,e._contextKeyService,e._configurationService)||!e._languageFeaturesService.completionProvider.has(t)||e.trigger({auto:!0})}}},this._editor.getOption(87)))}},{key:"_refilterCompletionItems",value:function(){Object(Yr.b)(this._editor.hasModel()),Object(Yr.b)(this._triggerState!==void 0);var e=this._editor.getModel(),i=this._editor.getPosition(),t=new Rh(e,i,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(t)}},{key:"trigger",value:function(e){var i=this,t,n,r,l,c,h;if(!!this._editor.hasModel()){var f=this._editor.getModel(),R=new Rh(f,this._editor.getPosition(),e);this.cancel(e.retrigger),this._triggerState=e,this._onDidTrigger.fire({auto:e.auto,shy:(t=e.shy)!==null&&t!==void 0?t:!1,position:this._editor.getPosition()}),this._context=R;var Z={triggerKind:(n=e.triggerKind)!==null&&n!==void 0?n:0};e.triggerCharacter&&(Z={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new Zi.b;var ie=this._editor.getOption(108),je=1;switch(ie){case"top":je=0;break;case"bottom":je=2;break}var Ie=s._createSuggestFilter(this._editor),st=Ie.itemKind,ft=Ie.showDeprecated,kt=new _(je,(l=(r=e.completionOptions)===null||r===void 0?void 0:r.kindFilter)!==null&&l!==void 0?l:st,(c=e.completionOptions)===null||c===void 0?void 0:c.providerFilter,(h=e.completionOptions)===null||h===void 0?void 0:h.providerItemsToReuse,ft),$t=nm.create(this._editorWorkerService,this._editor),un=Se(this._languageFeaturesService.completionProvider,f,this._editor.getPosition(),kt,Z,this._requestToken.token);Promise.all([un,$t]).then(function(Yn){var xn=Object(z.a)(Yn,2),fi=xn[0],Si=xn[1];return Ck(i,void 0,void 0,Object(d.a)().mark(function ji(){var Bi,Lr,gr,jr,$r;return Object(d.a)().wrap(function(Fr){for(;;)switch(Fr.prev=Fr.next){case 0:if((Bi=this._requestToken)===null||Bi===void 0||Bi.dispose(),this._editor.hasModel()){Fr.next=3;break}return Fr.abrupt("return");case 3:if(Lr=e==null?void 0:e.clipboardText,!(!Lr&&fi.needsClipboard)){Fr.next=8;break}return Fr.next=7,this._clipboardService.readText();case 7:Lr=Fr.sent;case 8:if(this._triggerState!==void 0){Fr.next=10;break}return Fr.abrupt("return");case 10:gr=this._editor.getModel(),jr=new Rh(gr,this._editor.getPosition(),e),$r=Object.assign(Object.assign({},_s.b.default),{firstMatchCanBeWeak:!this._editor.getOption(114).matchOnWordStartOnly}),this._completionModel=new R_(fi.items,this._context.column,{leadingLineContent:jr.leadingLineContent,characterCountDelta:jr.column-this._context.column},Si,this._editor.getOption(114),this._editor.getOption(108),$r,Lr),this._completionDisposables.add(fi.disposable),this._onNewContext(jr),this._reportDurationsTelemetry(fi.durations);case 17:case"end":return Fr.stop()}},ji,this)}))}).catch(zi.h)}}},{key:"_reportDurationsTelemetry",value:function(e){var i=this;this._telemetryGate++%230==0&&setTimeout(function(){i._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),i._logService.debug("suggest.durations.json",e)})}},{key:"_onNewContext",value:function(e){if(!!this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(Object(Vn.x)(e.leadingLineContent)!==Object(Vn.x)(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(!!this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){var i=Rh.shouldAutoTrigger(this._editor);if(i&&this._context){var t=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:t}})}return}if(e.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&e.leadingWord.word.length!==0){var n=new Map,r=new Set,l=Object(B.a)(this._completionModel.getItemsByProvider()),c;try{for(l.s();!(c=l.n()).done;){var h=c.value,f=Object(z.a)(h,2),R=f[0],Z=f[1];Z.length>0&&Z[0].container.incomplete?r.add(R):n.set(R,Z)}}catch(st){l.e(st)}finally{l.f()}this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:r,providerItemsToReuse:n}})}else{var ie=this._completionModel.lineContext,je=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){var Ie=Rh.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(Ie&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=ie,je=this._completionModel.items.length>0,je&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:e.triggerOptions,isFrozen:je})}}}}}],[{key:"_createSuggestFilter",value:function(e){var i=new Set,t=e.getOption(108);t==="none"&&i.add(27);var n=e.getOption(114);return n.showMethods||i.add(0),n.showFunctions||i.add(1),n.showConstructors||i.add(2),n.showFields||i.add(3),n.showVariables||i.add(4),n.showClasses||i.add(5),n.showStructs||i.add(6),n.showInterfaces||i.add(7),n.showModules||i.add(8),n.showProperties||i.add(9),n.showEvents||i.add(10),n.showOperators||i.add(11),n.showUnits||i.add(12),n.showValues||i.add(13),n.showConstants||i.add(14),n.showEnums||i.add(15),n.showEnumMembers||i.add(16),n.showKeywords||i.add(17),n.showWords||i.add(18),n.showColors||i.add(19),n.showFiles||i.add(20),n.showReferences||i.add(21),n.showColors||i.add(22),n.showFolders||i.add(23),n.showTypeParameters||i.add(24),n.showSnippets||i.add(27),n.showUsers||i.add(25),n.showIssues||i.add(26),{itemKind:i,showDeprecated:n.showDeprecated}}}]),s}();Rp=_k([Ah(1,Vv.a),Ah(2,Wn.a),Ah(3,vo.a),Ah(4,Yg.b),Ah(5,Jn.b),Ah(6,Po.a),Ah(7,Nr.a)],Rp);var N_=function(){function s(o,e){var i=this;Object(k.a)(this,s),this._disposables=new Ze.c,this._lastOvertyped=[],this._locked=!1,this._disposables.add(o.onWillType(function(){if(!(i._locked||!o.hasModel())){for(var t=o.getSelections(),n=t.length,r=!1,l=0;l<n;l++)if(!t[l].isEmpty()){r=!0;break}if(!r){i._lastOvertyped.length!==0&&(i._lastOvertyped.length=0);return}i._lastOvertyped=[];for(var c=o.getModel(),h=0;h<n;h++){var f=t[h];if(c.getValueLengthInRange(f)>s._maxSelectionLength)return;i._lastOvertyped[h]={value:c.getValueInRange(f),multiline:f.startLineNumber!==f.endLineNumber}}}})),this._disposables.add(e.onDidTrigger(function(t){i._locked=!0})),this._disposables.add(e.onDidCancel(function(t){i._locked=!1}))}return Object(w.a)(s,[{key:"getLastOvertypedInfo",value:function(e){if(e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}},{key:"dispose",value:function(){this._disposables.dispose()}}]),s}();N_._maxSelectionLength=51200;var kk=a("Sdnv"),nL=a("pYKB"),Dk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Np=function(s,o){return function(e,i){o(e,i,s)}},wk=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"updateLabel",value:function(){var t=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!t)return Object(yi.a)(Object(vi.a)(e.prototype),"updateLabel",this).call(this);this.label&&(this.label.textContent=Object(Qe.b)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,e.symbolPrintEnter(t)))}}],[{key:"symbolPrintEnter",value:function(t){var n;return(n=t.getLabel())===null||n===void 0?void 0:n.replace(/\benter\b/gi,"\u23CE")}}]),e}(tl.a),xp=function(){function s(o,e,i,t,n){Object(k.a)(this,s),this._menuId=e,this._menuService=t,this._contextKeyService=n,this._menuDisposables=new Ze.c,this.element=Bt.append(o,Bt.$(".suggest-status-bar"));var r=function(c){return c instanceof kn.d?i.createInstance(wk,c,void 0):void 0};this._leftActions=new hl.a(this.element,{actionViewItemProvider:r}),this._rightActions=new hl.a(this.element,{actionViewItemProvider:r}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}return Object(w.a)(s,[{key:"dispose",value:function(){this._menuDisposables.dispose(),this.element.remove()}},{key:"show",value:function(){var e=this,i=this._menuService.createMenu(this._menuId,this._contextKeyService),t=function(){var r=[],l=[],c=Object(B.a)(i.getActions()),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,R=Object(z.a)(f,2),Z=R[0],ie=R[1];Z==="left"?r.push.apply(r,Object(Ai.a)(ie)):l.push.apply(l,Object(Ai.a)(ie))}}catch(je){c.e(je)}finally{c.f()}e._leftActions.clear(),e._leftActions.push(r),e._rightActions.clear(),e._rightActions.push(l)};this._menuDisposables.add(i.onDidChange(function(){return t()})),this._menuDisposables.add(i)}},{key:"hide",value:function(){this._menuDisposables.clear()}}]),s}();xp=Dk([Np(2,Ia.a),Np(3,kn.b),Np(4,Jn.b)],xp);var x_=function(){function s(){var o=this;Object(k.a)(this,s),this._onDidWillResize=new rr.b,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new rr.b,this.onDidResize=this._onDidResize.event,this._sashListener=new Ze.c,this._size=new Bt.Dimension(0,0),this._minSize=new Bt.Dimension(0,0),this._maxSize=new Bt.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new $s.b(this.domNode,{getVerticalSashLeft:function(){return o._size.width}},{orientation:0}),this._westSash=new $s.b(this.domNode,{getVerticalSashLeft:function(){return 0}},{orientation:0}),this._northSash=new $s.b(this.domNode,{getHorizontalSashTop:function(){return 0}},{orientation:1,orthogonalEdge:$s.a.North}),this._southSash=new $s.b(this.domNode,{getHorizontalSashTop:function(){return o._size.height}},{orientation:1,orthogonalEdge:$s.a.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;var e,i=0,t=0;this._sashListener.add(rr.c.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(function(){e===void 0&&(o._onDidWillResize.fire(),e=o._size,i=0,t=0)})),this._sashListener.add(rr.c.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(function(){e!==void 0&&(e=void 0,i=0,t=0,o._onDidResize.fire({dimension:o._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(function(n){e&&(t=n.currentX-n.startX,o.layout(e.height+i,e.width+t),o._onDidResize.fire({dimension:o._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(function(n){e&&(t=-(n.currentX-n.startX),o.layout(e.height+i,e.width+t),o._onDidResize.fire({dimension:o._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(function(n){e&&(i=-(n.currentY-n.startY),o.layout(e.height+i,e.width+t),o._onDidResize.fire({dimension:o._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(function(n){e&&(i=n.currentY-n.startY,o.layout(e.height+i,e.width+t),o._onDidResize.fire({dimension:o._size,done:!1,south:!0}))})),this._sashListener.add(rr.c.any(this._eastSash.onDidReset,this._westSash.onDidReset)(function(n){o._preferredSize&&(o.layout(o._size.height,o._preferredSize.width),o._onDidResize.fire({dimension:o._size,done:!0}))})),this._sashListener.add(rr.c.any(this._northSash.onDidReset,this._southSash.onDidReset)(function(n){o._preferredSize&&(o.layout(o._preferredSize.height,o._size.width),o._onDidResize.fire({dimension:o._size,done:!0}))}))}return Object(w.a)(s,[{key:"dispose",value:function(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}},{key:"enableSashes",value:function(e,i,t,n){this._northSash.state=e?3:0,this._eastSash.state=i?3:0,this._southSash.state=t?3:0,this._westSash.state=n?3:0}},{key:"layout",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.size.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size.width,t=this._minSize,n=t.height,r=t.width,l=this._maxSize,c=l.height,h=l.width;e=Math.max(n,Math.min(c,e)),i=Math.max(r,Math.min(h,i));var f=new Bt.Dimension(i,e);Bt.Dimension.equals(f,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=i+"px",this._size=f,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}},{key:"clearSashHoverState",value:function(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=e}},{key:"minSize",get:function(){return this._minSize},set:function(e){this._minSize=e}},{key:"preferredSize",get:function(){return this._preferredSize},set:function(e){this._preferredSize=e}}]),s}(),jk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Ek=function(s,o){return function(e,i){o(e,i,s)}};function Fp(s){return!!s&&Boolean(s.completion.documentation||s.completion.detail&&s.completion.detail!==s.completion.label)}var Bp=function(){function s(o,e){var i=this;Object(k.a)(this,s),this._editor=o,this._onDidClose=new rr.b,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new rr.b,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Ze.c,this._renderDisposeable=new Ze.c,this._borderWidth=1,this._size=new Bt.Dimension(330,0),this.domNode=Bt.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=e.createInstance(to,{editor:o}),this._body=Bt.$(".body"),this._scrollbar=new Ic.a(this._body,{alwaysConsumeMouseWheel:!0}),Bt.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Bt.append(this._body,Bt.$(".header")),this._close=Bt.append(this._header,Bt.$("span"+oa.a.asCSSSelector(ta.a.close))),this._close.title=Qe.b("details.close","Close"),this._type=Bt.append(this._header,Bt.$("p.type")),this._docs=Bt.append(this._body,Bt.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(function(t){t.hasChanged(48)&&i._configureFont()}))}return Object(w.a)(s,[{key:"dispose",value:function(){this._disposables.dispose(),this._renderDisposeable.dispose()}},{key:"_configureFont",value:function(){var e=this._editor.getOptions(),i=e.get(48),t=i.getMassagedFontFamily(),n=e.get(115)||i.fontSize,r=e.get(116)||i.lineHeight,l=i.fontWeight,c="".concat(n,"px"),h="".concat(r,"px");this.domNode.style.fontSize=c,this.domNode.style.lineHeight="".concat(r/n),this.domNode.style.fontWeight=l,this.domNode.style.fontFeatureSettings=i.fontFeatureSettings,this._type.style.fontFamily=t,this._close.style.height=h,this._close.style.width=h}},{key:"getLayoutInfo",value:function(){var e=this._editor.getOption(116)||this._editor.getOption(48).lineHeight,i=this._borderWidth,t=i*2;return{lineHeight:e,borderWidth:i,borderHeight:t,verticalPadding:22,horizontalPadding:14}}},{key:"renderLoading",value:function(){this._type.textContent=Qe.b("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}},{key:"renderItem",value:function(e,i){var t=this,n,r;this._renderDisposeable.clear();var l=e.completion,c=l.detail,h=l.documentation;if(i){var f="";f+="score: ".concat(e.score[0],`
`),f+="prefix: ".concat((n=e.word)!==null&&n!==void 0?n:"(no prefix)",`
`),f+="word: ".concat(e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel,`
`),f+="distance: ".concat(e.distance,` (localityBonus-setting)
`),f+="index: ".concat(e.idx,", based on ").concat(e.completion.sortText&&'sortText: "'.concat(e.completion.sortText,'"')||"label",`
`),f+="commit_chars: ".concat((r=e.completion.commitCharacters)===null||r===void 0?void 0:r.join(""),`
`),h=new Qi.a().appendCodeblock("empty",f),c="Provider: ".concat(e.provider._debugDisplayName)}if(!i&&!Fp(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),c){var R=c.length>1e5?"".concat(c.substr(0,1e5),"\u2026"):c;this._type.textContent=R,this._type.title=R,Bt.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(R))}else Bt.clearNode(this._type),this._type.title="",Bt.hide(this._type),this.domNode.classList.add("no-type");if(Bt.clearNode(this._docs),typeof h=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=h;else if(h){this._docs.classList.add("markdown-docs"),Bt.clearNode(this._docs);var Z=this._markdownRenderer.render(h);this._docs.appendChild(Z.element),this._renderDisposeable.add(Z),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(function(){t.layout(t._size.width,t._type.clientHeight+t._docs.clientHeight),t._onDidChangeContents.fire(t)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=function(ie){ie.preventDefault(),ie.stopPropagation()},this._close.onclick=function(ie){ie.preventDefault(),ie.stopPropagation(),t._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}},{key:"clearContents",value:function(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}},{key:"size",get:function(){return this._size}},{key:"layout",value:function(e,i){var t=new Bt.Dimension(e,i);Bt.Dimension.equals(t,this._size)||(this._size=t,Bt.size(this.domNode,e,i)),this._scrollbar.scanDomNode()}},{key:"scrollDown",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;this._body.scrollTop+=e}},{key:"scrollUp",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;this._body.scrollTop-=e}},{key:"scrollTop",value:function(){this._body.scrollTop=0}},{key:"scrollBottom",value:function(){this._body.scrollTop=this._body.scrollHeight}},{key:"pageDown",value:function(){this.scrollDown(80)}},{key:"pageUp",value:function(){this.scrollUp(80)}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(e){this._borderWidth=e}}]),s}();Bp=jk([Ek(1,Ia.a)],Bp);var Lk=function(){function s(o,e){var i=this;Object(k.a)(this,s),this.widget=o,this._editor=e,this._disposables=new Ze.c,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new x_,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(o.domNode),this._resizable.enableSashes(!1,!0,!0,!1);var t,n,r=0,l=0;this._disposables.add(this._resizable.onDidWillResize(function(){t=i._topLeft,n=i._resizable.size})),this._disposables.add(this._resizable.onDidResize(function(c){if(t&&n){i.widget.layout(c.dimension.width,c.dimension.height);var h=!1;c.west&&(l=n.width-c.dimension.width,h=!0),c.north&&(r=n.height-c.dimension.height,h=!0),h&&i._applyTopLeft({top:t.top+r,left:t.left+l})}c.done&&(t=void 0,n=void 0,r=0,l=0,i._userSize=c.dimension)})),this._disposables.add(this.widget.onDidChangeContents(function(){var c;i._anchorBox&&i._placeAtAnchor(i._anchorBox,(c=i._userSize)!==null&&c!==void 0?c:i.widget.size,i._preferAlignAtTop)}))}return Object(w.a)(s,[{key:"dispose",value:function(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}},{key:"getId",value:function(){return"suggest.details"}},{key:"getDomNode",value:function(){return this._resizable.domNode}},{key:"getPosition",value:function(){return null}},{key:"show",value:function(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}},{key:"hide",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}},{key:"placeAtAnchor",value:function(e,i){var t,n=e.getBoundingClientRect();this._anchorBox=n,this._preferAlignAtTop=i,this._placeAtAnchor(this._anchorBox,(t=this._userSize)!==null&&t!==void 0?t:this.widget.size,i)}},{key:"_placeAtAnchor",value:function(e,i,t){var n,r=Bt.getClientArea(document.body),l=this.widget.getLayoutInfo(),c=new Bt.Dimension(220,2*l.lineHeight),h=e.top,f=function(){var un=r.width-(e.left+e.width+l.borderWidth+l.horizontalPadding),Yn=-l.borderWidth+e.left+e.width,xn=new Bt.Dimension(un,r.height-e.top-l.borderHeight-l.verticalPadding),fi=xn.with(void 0,e.top+e.height-l.borderHeight-l.verticalPadding);return{top:h,left:Yn,fit:un-i.width,maxSizeTop:xn,maxSizeBottom:fi,minSize:c.with(Math.min(un,c.width))}}(),R=function(){var un=e.left-l.borderWidth-l.horizontalPadding,Yn=Math.max(l.horizontalPadding,e.left-i.width-l.borderWidth),xn=new Bt.Dimension(un,r.height-e.top-l.borderHeight-l.verticalPadding),fi=xn.with(void 0,e.top+e.height-l.borderHeight-l.verticalPadding);return{top:h,left:Yn,fit:un-i.width,maxSizeTop:xn,maxSizeBottom:fi,minSize:c.with(Math.min(un,c.width))}}(),Z=function(){var un=e.left,Yn=-l.borderWidth+e.top+e.height,xn=new Bt.Dimension(e.width-l.borderHeight,r.height-e.top-e.height-l.verticalPadding);return{top:Yn,left:un,fit:xn.height-i.height,maxSizeBottom:xn,maxSizeTop:xn,minSize:c.with(xn.width)}}(),ie=[f,R,Z],je=(n=ie.find(function(un){return un.fit>=0}))!==null&&n!==void 0?n:ie.sort(function(un,Yn){return Yn.fit-un.fit})[0],Ie=e.top+e.height-l.borderHeight,st,ft=i.height,kt=Math.max(je.maxSizeTop.height,je.maxSizeBottom.height);ft>kt&&(ft=kt);var $t;t?ft<=je.maxSizeTop.height?(st=!0,$t=je.maxSizeTop):(st=!1,$t=je.maxSizeBottom):ft<=je.maxSizeBottom.height?(st=!1,$t=je.maxSizeBottom):(st=!0,$t=je.maxSizeTop),this._applyTopLeft({left:je.left,top:st?je.top:Ie-ft}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!st,je===f,st,je!==f),this._resizable.minSize=je.minSize,this._resizable.maxSize=$t,this._resizable.layout(ft,Math.min($t.width,i.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}},{key:"_applyTopLeft",value:function(e){this._topLeft=e,this.getDomNode().style.left="".concat(this._topLeft.left,"px"),this.getDomNode().style.top="".concat(this._topLeft.top,"px")}}]),s}(),dd;(function(s){s[s.FILE=0]="FILE",s[s.FOLDER=1]="FOLDER",s[s.ROOT_FOLDER=2]="ROOT_FOLDER"})(dd||(dd={}));var Mk=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function im(s,o,e,i){var t=i===dd.ROOT_FOLDER?["rootfolder-icon"]:i===dd.FOLDER?["folder-icon"]:["file-icon"];if(e){var n;if(e.scheme===ql.c.data){var r=Za.a.parseMetaData(e);n=r.get(Za.a.META_DATA_LABEL)}else{var l=e.path.match(Mk);l?(n=rm(l[2].toLowerCase()),l[1]&&t.push("".concat(rm(l[1].toLowerCase()),"-name-dir-icon"))):n=rm(e.authority.toLowerCase())}if(i===dd.FOLDER)t.push("".concat(n,"-name-folder-icon"));else{if(n){if(t.push("".concat(n,"-name-file-icon")),t.push("name-file-icon"),n.length<=255)for(var c=n.split("."),h=1;h<c.length;h++)t.push("".concat(c.slice(h).join("."),"-ext-file-icon"));t.push("ext-file-icon")}var f=Tk(s,o,e);f&&t.push("".concat(rm(f),"-lang-file-icon"))}}return t}function Tk(s,o,e){if(!e)return null;var i=null;if(e.scheme===ql.c.data){var t=Za.a.parseMetaData(e),n=t.get(Za.a.META_DATA_MIME);n&&(i=o.getLanguageIdByMimeType(n))}else{var r=s.getModel(e);r&&(i=r.getLanguageId())}return i&&i!==ic.b?i:o.guessLanguageIdByFilepathOrFirstLine(e)}function rm(s){return s.replace(/[\11\12\14\15\40]/g,"/")}var Ik=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Wp=function(s,o){return function(e,i){o(e,i,s)}},$v;function F_(s){return"suggest-aria-id:".concat(s)}var Pk=Object(u.b)("suggest-more-info",ta.a.chevronRight,Qe.b("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Ak=new($v=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"extract",value:function(e,i){if(e.textLabel.match(s._regexStrict))return i[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(s._regexStrict))return i[0]=e.completion.detail,!0;if(typeof e.completion.documentation=="string"){var t=s._regexRelaxed.exec(e.completion.documentation);if(t&&(t.index===0||t.index+t[0].length===e.completion.documentation.length))return i[0]=t[0],!0}return!1}}]),s}(),$v._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,$v._regexStrict=new RegExp("^".concat($v._regexRelaxed.source,"$"),"i"),$v),Vp=function(){function s(o,e,i,t){Object(k.a)(this,s),this._editor=o,this._modelService=e,this._languageService=i,this._themeService=t,this._onDidToggleDetails=new rr.b,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}return Object(w.a)(s,[{key:"dispose",value:function(){this._onDidToggleDetails.dispose()}},{key:"renderTemplate",value:function(e){var i=this,t=new Ze.c,n=e;n.classList.add("show-file-icons");var r=Object(Bt.append)(e,Object(Bt.$)(".icon")),l=Object(Bt.append)(r,Object(Bt.$)("span.colorspan")),c=Object(Bt.append)(e,Object(Bt.$)(".contents")),h=Object(Bt.append)(c,Object(Bt.$)(".main")),f=Object(Bt.append)(h,Object(Bt.$)(".icon-label.codicon")),R=Object(Bt.append)(h,Object(Bt.$)("span.left")),Z=Object(Bt.append)(h,Object(Bt.$)("span.right")),ie=new sh.a(R,{supportHighlights:!0,supportIcons:!0});t.add(ie);var je=Object(Bt.append)(R,Object(Bt.$)("span.signature-label")),Ie=Object(Bt.append)(R,Object(Bt.$)("span.qualifier-label")),st=Object(Bt.append)(Z,Object(Bt.$)("span.details-label")),ft=Object(Bt.append)(Z,Object(Bt.$)("span.readMore"+oa.a.asCSSSelector(Pk)));ft.title=Qe.b("readMore","Read More");var kt=function(){var un=i._editor.getOptions(),Yn=un.get(48),xn=Yn.getMassagedFontFamily(),fi=Yn.fontFeatureSettings,Si=un.get(115)||Yn.fontSize,ji=un.get(116)||Yn.lineHeight,Bi=Yn.fontWeight,Lr=Yn.letterSpacing,gr="".concat(Si,"px"),jr="".concat(ji,"px"),$r="".concat(Lr,"px");n.style.fontSize=gr,n.style.fontWeight=Bi,n.style.letterSpacing=$r,h.style.fontFamily=xn,h.style.fontFeatureSettings=fi,h.style.lineHeight=jr,r.style.height=jr,r.style.width=jr,ft.style.height=jr,ft.style.width=jr};return kt(),t.add(this._editor.onDidChangeConfiguration(function($t){($t.hasChanged(48)||$t.hasChanged(115)||$t.hasChanged(116))&&kt()})),{root:n,left:R,right:Z,icon:r,colorspan:l,iconLabel:ie,iconContainer:f,parametersLabel:je,qualifierLabel:Ie,detailsLabel:st,readMore:ft,disposables:t}}},{key:"renderElement",value:function(e,i,t){var n=this,r=e.completion;t.root.id=F_(i),t.colorspan.style.backgroundColor="";var l={labelEscapeNewLines:!0,matches:Object(_s.d)(e.score)},c=[];if(r.kind===19&&Ak.extract(e,c))t.icon.className="icon customcolor",t.iconContainer.className="icon hide",t.colorspan.style.backgroundColor=c[0];else if(r.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){t.icon.className="icon hide",t.iconContainer.className="icon hide";var h=im(this._modelService,this._languageService,Wr.a.from({scheme:"fake",path:e.textLabel}),dd.FILE),f=im(this._modelService,this._languageService,Wr.a.from({scheme:"fake",path:r.detail}),dd.FILE);l.extraClasses=h.length>f.length?h:f}else if(r.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons)t.icon.className="icon hide",t.iconContainer.className="icon hide",l.extraClasses=[im(this._modelService,this._languageService,Wr.a.from({scheme:"fake",path:e.textLabel}),dd.FOLDER),im(this._modelService,this._languageService,Wr.a.from({scheme:"fake",path:r.detail}),dd.FOLDER)].flat();else{var R;t.icon.className="icon hide",t.iconContainer.className="",(R=t.iconContainer.classList).add.apply(R,["suggest-icon"].concat(Object(Ai.a)(oa.a.asClassNameArray(oo.b.toIcon(r.kind)))))}r.tags&&r.tags.indexOf(1)>=0&&(l.extraClasses=(l.extraClasses||[]).concat(["deprecated"]),l.matches=[]),t.iconLabel.setLabel(e.textLabel,void 0,l),typeof r.label=="string"?(t.parametersLabel.textContent="",t.detailsLabel.textContent=Hp(r.detail||""),t.root.classList.add("string-label")):(t.parametersLabel.textContent=Hp(r.label.detail||""),t.detailsLabel.textContent=Hp(r.label.description||""),t.root.classList.remove("string-label")),this._editor.getOption(114).showInlineDetails?Object(Bt.show)(t.detailsLabel):Object(Bt.hide)(t.detailsLabel),Fp(e)?(t.right.classList.add("can-expand-details"),Object(Bt.show)(t.readMore),t.readMore.onmousedown=function(Z){Z.stopPropagation(),Z.preventDefault()},t.readMore.onclick=function(Z){Z.stopPropagation(),Z.preventDefault(),n._onDidToggleDetails.fire()}):(t.right.classList.remove("can-expand-details"),Object(Bt.hide)(t.readMore),t.readMore.onmousedown=null,t.readMore.onclick=null)}},{key:"disposeTemplate",value:function(e){e.disposables.dispose()}}]),s}();Vp=Ik([Wp(1,xa.a),Wp(2,br.a),Wp(3,Oi.b)],Vp);function Hp(s){return s.replace(/\r\n|\r|\n/g,"")}var Rk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},am=function(s,o){return function(e,i){o(e,i,s)}},Nk=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};Object(Vt.Fc)("editorSuggestWidget.background",{dark:Vt.gb,light:Vt.gb,hcDark:Vt.gb,hcLight:Vt.gb},Qe.b("editorSuggestWidgetBackground","Background color of the suggest widget.")),Object(Vt.Fc)("editorSuggestWidget.border",{dark:Vt.hb,light:Vt.hb,hcDark:Vt.hb,hcLight:Vt.hb},Qe.b("editorSuggestWidgetBorder","Border color of the suggest widget."));var om=Object(Vt.Fc)("editorSuggestWidget.foreground",{dark:Vt.O,light:Vt.O,hcDark:Vt.O,hcLight:Vt.O},Qe.b("editorSuggestWidgetForeground","Foreground color of the suggest widget."));Object(Vt.Fc)("editorSuggestWidget.selectedForeground",{dark:Vt.Cc,light:Vt.Cc,hcDark:Vt.Cc,hcLight:Vt.Cc},Qe.b("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),Object(Vt.Fc)("editorSuggestWidget.selectedIconForeground",{dark:Vt.Dc,light:Vt.Dc,hcDark:Vt.Dc,hcLight:Vt.Dc},Qe.b("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));var xk=Object(Vt.Fc)("editorSuggestWidget.selectedBackground",{dark:Vt.Bc,light:Vt.Bc,hcDark:Vt.Bc,hcLight:Vt.Bc},Qe.b("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));Object(Vt.Fc)("editorSuggestWidget.highlightForeground",{dark:Vt.Ub,light:Vt.Ub,hcDark:Vt.Ub,hcLight:Vt.Ub},Qe.b("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),Object(Vt.Fc)("editorSuggestWidget.focusHighlightForeground",{dark:Vt.Sb,light:Vt.Sb,hcDark:Vt.Sb,hcLight:Vt.Sb},Qe.b("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),Object(Vt.Fc)("editorSuggestWidgetStatus.foreground",{dark:Object(Vt.Sc)(om,.5),light:Object(Vt.Sc)(om,.5),hcDark:Object(Vt.Sc)(om,.5),hcLight:Object(Vt.Sc)(om,.5)},Qe.b("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));var Fk=function(){function s(o,e){Object(k.a)(this,s),this._service=o,this._key="suggestWidget.size/".concat(e.getEditorType(),"/").concat(e instanceof ys)}return Object(w.a)(s,[{key:"restore",value:function(){var e,i=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{var t=JSON.parse(i);if(Bt.Dimension.is(t))return Bt.Dimension.lift(t)}catch(n){}}},{key:"store",value:function(e){this._service.store(this._key,JSON.stringify(e),0,1)}},{key:"reset",value:function(){this._service.remove(this._key,0)}}]),s}(),Qv=function(){function s(o,e,i,t,n){var r=this;Object(k.a)(this,s),this.editor=o,this._storageService=e,this._state=0,this._isAuto=!1,this._pendingLayout=new Ze.e,this._pendingShowDetails=new Ze.e,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new et.i,this._disposables=new Ze.c,this._onDidSelect=new rr.h,this._onDidFocus=new rr.h,this._onDidHide=new rr.b,this._onDidShow=new rr.b,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new rr.b,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new x_,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Bk(this,o),this._persistedSize=new Fk(e,o);var l=Object(w.a)(function ie(je,Ie){var st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ft=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;Object(k.a)(this,ie),this.persistedSize=je,this.currentSize=Ie,this.persistHeight=st,this.persistWidth=ft}),c;this._disposables.add(this.element.onDidWillResize(function(){r._contentWidget.lockPreference(),c=new l(r._persistedSize.restore(),r.element.size)})),this._disposables.add(this.element.onDidResize(function(ie){var je,Ie,st,ft;if(r._resize(ie.dimension.width,ie.dimension.height),c&&(c.persistHeight=c.persistHeight||!!ie.north||!!ie.south,c.persistWidth=c.persistWidth||!!ie.east||!!ie.west),!!ie.done){if(c){var kt=r.getLayoutInfo(),$t=kt.itemHeight,un=kt.defaultSize,Yn=Math.round($t/2),xn=r.element.size,fi=xn.width,Si=xn.height;(!c.persistHeight||Math.abs(c.currentSize.height-Si)<=Yn)&&(Si=(Ie=(je=c.persistedSize)===null||je===void 0?void 0:je.height)!==null&&Ie!==void 0?Ie:un.height),(!c.persistWidth||Math.abs(c.currentSize.width-fi)<=Yn)&&(fi=(ft=(st=c.persistedSize)===null||st===void 0?void 0:st.width)!==null&&ft!==void 0?ft:un.width),r._persistedSize.store(new Bt.Dimension(fi,Si))}r._contentWidget.unlockPreference(),c=void 0}})),this._messageElement=Bt.append(this.element.domNode,Bt.$(".message")),this._listElement=Bt.append(this.element.domNode,Bt.$(".tree"));var h=n.createInstance(Bp,this.editor);h.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Lk(h,this.editor);var f=function(){return r.element.domNode.classList.toggle("no-icons",!r.editor.getOption(114).showIcons)};f();var R=n.createInstance(Vp,this.editor);this._disposables.add(R),this._disposables.add(R.onDidToggleDetails(function(){return r.toggleDetails()})),this._list=new Gu.b("SuggestWidget",this._listElement,{getHeight:function(je){return r.getLayoutInfo().itemHeight},getTemplateId:function(je){return"suggestion"}},[R],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:function(){return"option"},getWidgetAriaLabel:function(){return Qe.b("suggest","Suggest")},getWidgetRole:function(){return"listbox"},getAriaLabel:function(je){var Ie=je.textLabel;if(typeof je.completion.label!="string"){var st=je.completion.label,ft=st.detail,kt=st.description;ft&&kt?Ie=Qe.b("label.full","{0}{1}, {2}",Ie,ft,kt):ft?Ie=Qe.b("label.detail","{0}{1}",Ie,ft):kt&&(Ie=Qe.b("label.desc","{0}, {1}",Ie,kt))}if(!je.isResolved||!r._isDetailsVisible())return Ie;var $t=je.completion,un=$t.documentation,Yn=$t.detail,xn=Vn.v("{0}{1}",Yn||"",un?typeof un=="string"?un:un.value:"");return Qe.b("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",Ie,xn)}}}),this._list.style(Object(fl.k)({listInactiveFocusBackground:xk,listInactiveFocusOutline:Vt.b})),this._status=n.createInstance(xp,this.element.domNode,ae);var Z=function(){return r.element.domNode.classList.toggle("with-status-bar",r.editor.getOption(114).showStatusBar)};Z(),this._disposables.add(t.onDidColorThemeChange(function(ie){return r._onThemeChange(ie)})),this._onThemeChange(t.getColorTheme()),this._disposables.add(this._list.onMouseDown(function(ie){return r._onListMouseDownOrTap(ie)})),this._disposables.add(this._list.onTap(function(ie){return r._onListMouseDownOrTap(ie)})),this._disposables.add(this._list.onDidChangeSelection(function(ie){return r._onListSelection(ie)})),this._disposables.add(this._list.onDidChangeFocus(function(ie){return r._onListFocus(ie)})),this._disposables.add(this.editor.onDidChangeCursorSelection(function(){return r._onCursorSelectionChanged()})),this._disposables.add(this.editor.onDidChangeConfiguration(function(ie){ie.hasChanged(114)&&(Z(),f())})),this._ctxSuggestWidgetVisible=se.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=se.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=se.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=se.HasFocusedSuggestion.bindTo(i),this._disposables.add(Bt.addStandardDisposableListener(this._details.widget.domNode,"keydown",function(ie){r._onDetailsKeydown.fire(ie)})),this._disposables.add(this.editor.onMouseDown(function(ie){return r._onEditorMouseDown(ie)}))}return Object(w.a)(s,[{key:"dispose",value:function(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}},{key:"_onEditorMouseDown",value:function(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}},{key:"_onCursorSelectionChanged",value:function(){this._state!==0&&this._contentWidget.layout()}},{key:"_onListMouseDownOrTap",value:function(e){typeof e.element=="undefined"||typeof e.index=="undefined"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}},{key:"_onListSelection",value:function(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}},{key:"_select",value:function(e,i){var t=this._completionModel;t&&(this._onDidSelect.fire({item:e,index:i,model:t}),this.editor.focus())}},{key:"_onThemeChange",value:function(e){this._details.widget.borderWidth=Object(If.c)(e.type)?2:1}},{key:"_onListFocus",value:function(e){var i=this,t;if(!this._ignoreFocusEvents){if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!!this._completionModel){this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);var n=e.elements[0],r=e.indexes[0];n!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=n,this._list.reveal(r),this._currentSuggestionDetails=Object(et.k)(function(l){return Nk(i,void 0,void 0,Object(d.a)().mark(function c(){var h=this,f,R,Z;return Object(d.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return f=Object(et.l)(function(){h._isDetailsVisible()&&h.showDetails(!0)},250),R=l.onCancellationRequested(function(){return f.dispose()}),je.next=4,n.resolve(l);case 4:return Z=je.sent,f.dispose(),R.dispose(),je.abrupt("return",Z);case 8:case"end":return je.stop()}},c)}))}),this._currentSuggestionDetails.then(function(){r>=i._list.length||n!==i._list.element(r)||(i._ignoreFocusEvents=!0,i._list.splice(r,1,[n]),i._list.setFocus([r]),i._ignoreFocusEvents=!1,i._isDetailsVisible()?i.showDetails(!1):i.element.domNode.classList.remove("docs-side"),i.editor.setAriaOptions({activeDescendant:F_(r)}))}).catch(zi.h)),this._onDidFocus.fire({item:n,index:r,model:this._completionModel})}}}},{key:"_setState",value:function(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:Bt.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=s.LOADING_MESSAGE,Bt.hide(this._listElement,this._status.element),Bt.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=s.NO_SUGGESTIONS_MESSAGE,Bt.hide(this._listElement,this._status.element),Bt.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:Bt.hide(this._messageElement),Bt.show(this._listElement,this._status.element),this._show();break;case 4:Bt.hide(this._messageElement),Bt.show(this._listElement,this._status.element),this._show();break;case 5:Bt.hide(this._messageElement),Bt.show(this._listElement,this._status.element),this._details.show(),this._show();break}}},{key:"_show",value:function(){var e=this;this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(function(){e.element.domNode.classList.add("visible"),e._onDidShow.fire(e)},100)}},{key:"showTriggered",value:function(e,i){var t=this;this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=Object(et.l)(function(){return t._setState(1)},i)))}},{key:"showSuggestions",value:function(e,i,t,n,r){var l=this,c,h;if(this._contentWidget.setPosition(this.editor.getPosition()),(c=this._loadingTimeout)===null||c===void 0||c.dispose(),(h=this._currentSuggestionDetails)===null||h===void 0||h.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),t&&this._state!==2&&this._state!==0){this._setState(4);return}var f=this._completionModel.items.length,R=f===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(f>1),R){this._setState(n?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(t?4:3),this._list.reveal(i,0),this._list.setFocus(r?[]:[i])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=Bt.runAtThisOrScheduleAtNextAnimationFrame(function(){l._pendingLayout.clear(),l._layout(l.element.size),l._details.widget.domNode.classList.remove("focused")})}},{key:"focusSelected",value:function(){this._list.length>0&&this._list.setFocus([0])}},{key:"selectNextPage",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}},{key:"selectNext",value:function(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}},{key:"selectLast",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}},{key:"selectPreviousPage",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}},{key:"selectPrevious",value:function(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}},{key:"selectFirst",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}},{key:"getFocusedItem",value:function(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}},{key:"toggleDetailsFocus",value:function(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}},{key:"toggleDetails",value:function(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Fp(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}},{key:"showDetails",value:function(e){var i=this;this._pendingShowDetails.value=Bt.runAtThisOrScheduleAtNextAnimationFrame(function(){i._pendingShowDetails.clear(),i._details.show(),e?i._details.widget.renderLoading():i._details.widget.renderItem(i._list.getFocusedElements()[0],i._explainMode),i._positionDetails(),i.editor.focus(),i.element.domNode.classList.add("shows-details")})}},{key:"toggleExplainMode",value:function(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}},{key:"resetPersistedSize",value:function(){this._persistedSize.reset()}},{key:"hideWidget",value:function(){var e;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();var i=this._persistedSize.restore(),t=Math.ceil(this.getLayoutInfo().itemHeight*4.3);i&&i.height<t&&this._persistedSize.store(i.with(void 0,t))}},{key:"isFrozen",value:function(){return this._state===4}},{key:"_afterRender",value:function(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}},{key:"_layout",value:function(e){var i,t,n;if(!!this.editor.hasModel()&&!!this.editor.getDomNode()){var r=Bt.getClientArea(document.body),l=this.getLayoutInfo();e||(e=l.defaultSize);var c=e.height,h=e.width;if(this._status.element.style.height="".concat(l.itemHeight,"px"),this._state===2||this._state===1)c=l.itemHeight+l.borderHeight,h=l.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Bt.Dimension(h,c),this._contentWidget.setPreference(2);else{var f=r.width-l.borderHeight-2*l.horizontalPadding;h>f&&(h=f);var R=this._completionModel?this._completionModel.stats.pLabelLen*l.typicalHalfwidthCharacterWidth:h,Z=l.statusBarHeight+this._list.contentHeight+l.borderHeight,ie=l.itemHeight+l.statusBarHeight,je=Bt.getDomNodePagePosition(this.editor.getDomNode()),Ie=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),st=je.top+Ie.top+Ie.height,ft=Math.min(r.height-st-l.verticalPadding,Z),kt=je.top+Ie.top-l.verticalPadding,$t=Math.min(kt,Z),un=Math.min(Math.max($t,ft)+l.borderHeight,Z);c===((i=this._cappedHeight)===null||i===void 0?void 0:i.capped)&&(c=this._cappedHeight.wanted),c<ie&&(c=ie),c>un&&(c=un);var Yn=150;c>ft||this._forceRenderingAbove&&kt>Yn?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),un=$t):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),un=ft),this.element.preferredSize=new Bt.Dimension(R,l.defaultSize.height),this.element.maxSize=new Bt.Dimension(f,un),this.element.minSize=new Bt.Dimension(220,ie),this._cappedHeight=c===Z?{wanted:(n=(t=this._cappedHeight)===null||t===void 0?void 0:t.wanted)!==null&&n!==void 0?n:e.height,capped:c}:void 0}this._resize(h,c)}}},{key:"_resize",value:function(e,i){var t=this.element.maxSize,n=t.width,r=t.height;e=Math.min(n,e),i=Math.min(r,i);var l=this.getLayoutInfo(),c=l.statusBarHeight;this._list.layout(i-c,e),this._listElement.style.height="".concat(i-c,"px"),this.element.layout(i,e),this._contentWidget.layout(),this._positionDetails()}},{key:"_positionDetails",value:function(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}},{key:"getLayoutInfo",value:function(){var e=this.editor.getOption(48),i=Object(kk.c)(this.editor.getOption(116)||e.lineHeight,8,1e3),t=!this.editor.getOption(114).showStatusBar||this._state===2||this._state===1?0:i,n=this._details.widget.borderWidth,r=2*n;return{itemHeight:i,statusBarHeight:t,borderWidth:n,borderHeight:r,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Bt.Dimension(430,t+12*i+r)}}},{key:"_isDetailsVisible",value:function(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}},{key:"_setDetailsVisible",value:function(e){this._storageService.store("expandSuggestionDocs",e,0,0)}},{key:"forceRenderingAbove",value:function(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}},{key:"stopForceRenderingAbove",value:function(){this._forceRenderingAbove=!1}}]),s}();Qv.LOADING_MESSAGE=Qe.b("suggestWidget.loading","Loading..."),Qv.NO_SUGGESTIONS_MESSAGE=Qe.b("suggestWidget.noSuggestions","No suggestions."),Qv=Rk([am(1,Ws.a),am(2,Jn.b),am(3,Oi.b),am(4,Ia.a)],Qv);var Bk=function(){function s(o,e){Object(k.a)(this,s),this._widget=o,this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}return Object(w.a)(s,[{key:"dispose",value:function(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}},{key:"getId",value:function(){return"editor.widget.suggestWidget"}},{key:"getDomNode",value:function(){return this._widget.element.domNode}},{key:"show",value:function(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}},{key:"hide",value:function(){this._hidden||(this._hidden=!0,this.layout())}},{key:"layout",value:function(){this._editor.layoutContentWidget(this)}},{key:"getPosition",value:function(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}},{key:"beforeRender",value:function(){var e=this._widget.element.size,i=e.height,t=e.width,n=this._widget.getLayoutInfo(),r=n.borderWidth,l=n.horizontalPadding;return new Bt.Dimension(t+2*r+l,i+2*r)}},{key:"afterRender",value:function(e){this._widget._afterRender(e)}},{key:"setPreference",value:function(e){this._preferenceLocked||(this._preference=e)}},{key:"lockPreference",value:function(){this._preferenceLocked=!0}},{key:"unlockPreference",value:function(){this._preferenceLocked=!1}},{key:"setPosition",value:function(e){this._position=e}}]),s}(),Wk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Bf=function(s,o){return function(e,i){o(e,i,s)}},Vk=!1,Hk=function(){function s(o,e){Object(k.a)(this,s),this._model=o,this._position=e;var i=o.getLineMaxColumn(e.lineNumber);if(i!==e.column){var t=o.getOffsetAt(e),n=o.getPositionAt(t+1);this._marker=o.deltaDecorations([],[{range:Dt.a.fromPositions(e,n),options:{description:"suggest-line-suffix",stickiness:1}}])}}return Object(w.a)(s,[{key:"dispose",value:function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}},{key:"delta",value:function(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){var i=this._model.getDecorationRange(this._marker[0]),t=this._model.getOffsetAt(i.getStartPosition());return t-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}}]),s}(),Uu=function(){function s(o,e,i,t,n,r,l){var c=this;Object(k.a)(this,s),this._memoryService=e,this._commandService=i,this._contextKeyService=t,this._instantiationService=n,this._logService=r,this._telemetryService=l,this._lineSuffix=new Ze.e,this._toDispose=new Ze.c,this._selectors=new Uk(function(Z){return Z.priority}),this._telemetryGate=0,this.editor=o,this.model=n.createInstance(Rp,this.editor),this._selectors.register({priority:0,select:function(ie,je,Ie){return c._memoryService.select(ie,je,Ie)}});var h=se.InsertMode.bindTo(t);h.set(o.getOption(114).insertMode),this.model.onDidTrigger(function(){return h.set(o.getOption(114).insertMode)}),this.widget=this._toDispose.add(new et.d(function(){var Z=c._instantiationService.createInstance(Qv,c.editor);c._toDispose.add(Z),c._toDispose.add(Z.onDidSelect(function(ft){return c._insertSuggestion(ft,0)},c));var ie=new pk(c.editor,Z,c.model,function(ft){return c._insertSuggestion(ft,2)});c._toDispose.add(ie);var je=se.MakesTextEdit.bindTo(c._contextKeyService),Ie=se.HasInsertAndReplaceRange.bindTo(c._contextKeyService),st=se.CanResolve.bindTo(c._contextKeyService);return c._toDispose.add(Object(Ze.l)(function(){je.reset(),Ie.reset(),st.reset()})),c._toDispose.add(Z.onDidFocus(function(ft){var kt=ft.item,$t=c.editor.getPosition(),un=kt.editStart.column,Yn=$t.column,xn=!0;if(c.editor.getOption(1)==="smart"&&c.model.state===2&&!kt.completion.additionalTextEdits&&!(kt.completion.insertTextRules&4)&&Yn-un===kt.completion.insertText.length){var fi=c.editor.getModel().getValueInRange({startLineNumber:$t.lineNumber,startColumn:un,endLineNumber:$t.lineNumber,endColumn:Yn});xn=fi!==kt.completion.insertText}je.set(xn),Ie.set(!tn.a.equals(kt.editInsertEnd,kt.editReplaceEnd)),st.set(Boolean(kt.provider.resolveCompletionItem)||Boolean(kt.completion.documentation)||kt.completion.detail!==kt.completion.label)})),c._toDispose.add(Z.onDetailsKeyDown(function(ft){if(ft.toKeyCodeChord().equals(new T_.a(!0,!1,!1,!1,33))||Ut.i&&ft.toKeyCodeChord().equals(new T_.a(!1,!1,!1,!0,33))){ft.stopPropagation();return}ft.toKeyCodeChord().isModifierKey()||c.editor.focus()})),Z})),this._overtypingCapturer=this._toDispose.add(new et.d(function(){return c._toDispose.add(new N_(c.editor,c.model))})),this._alternatives=this._toDispose.add(new et.d(function(){return c._toDispose.add(new Ph(c.editor,c._contextKeyService))})),this._toDispose.add(n.createInstance(Gv,o)),this._toDispose.add(this.model.onDidTrigger(function(Z){c.widget.value.showTriggered(Z.auto,Z.shy?250:50),c._lineSuffix.value=new Hk(c.editor.getModel(),Z.position)})),this._toDispose.add(this.model.onDidSuggest(function(Z){if(!Z.triggerOptions.shy){var ie=-1,je=Object(B.a)(c._selectors.itemsOrderedByPriorityDesc),Ie;try{for(je.s();!(Ie=je.n()).done;){var st=Ie.value;if(ie=st.select(c.editor.getModel(),c.editor.getPosition(),Z.completionModel.items),ie!==-1)break}}catch($t){je.e($t)}finally{je.f()}ie===-1&&(ie=0);var ft=!1;if(Z.triggerOptions.auto){var kt=c.editor.getOption(114);kt.selectionMode==="never"||kt.selectionMode==="always"?ft=kt.selectionMode==="never":kt.selectionMode==="whenTriggerCharacter"?ft=Z.triggerOptions.triggerKind!==1:kt.selectionMode==="whenQuickSuggestion"&&(ft=Z.triggerOptions.triggerKind===1&&!Z.triggerOptions.refilter)}c.widget.value.showSuggestions(Z.completionModel,ie,Z.isFrozen,Z.triggerOptions.auto,ft)}})),this._toDispose.add(this.model.onDidCancel(function(Z){Z.retrigger||c.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(function(){Vk||(c.model.cancel(),c.model.clear())}));var f=se.AcceptSuggestionsOnEnter.bindTo(t),R=function(){var ie=c.editor.getOption(1);f.set(ie==="on"||ie==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(function(){return R()})),R()}return Object(w.a)(s,[{key:"dispose",value:function(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}},{key:"_insertSuggestion",value:function(e,i){var t=this;if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!!this.editor.hasModel()){var n=Ps.get(this.editor);if(!!n){var r=this.editor.getModel(),l=r.getAlternativeVersionId(),c=e.item,h=[],f=new Zi.b;i&1||this.editor.pushUndoStop();var R=this.getOverwriteInfo(c,Boolean(i&8));if(this._memoryService.memorize(r,this.editor.getPosition(),c),Array.isArray(c.completion.additionalTextEdits)){this.model.cancel();var Z=Bs.a.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",c.completion.additionalTextEdits.map(function(Yn){return es.a.replaceMove(Dt.a.lift(Yn.range),Yn.text)})),Z.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!c.isResolved){var ie=new Ds.a(!0),je,Ie=r.onDidChangeContent(function(Yn){if(Yn.isFlush){f.cancel(),Ie.dispose();return}var xn=Object(B.a)(Yn.changes),fi;try{for(xn.s();!(fi=xn.n()).done;){var Si=fi.value,ji=Dt.a.getEndPosition(Si.range);(!je||tn.a.isBefore(ji,je))&&(je=ji)}}catch(Bi){xn.e(Bi)}finally{xn.f()}}),st=i;i|=2;var ft=!1,kt=this.editor.onWillType(function(){kt.dispose(),ft=!0,st&2||t.editor.pushUndoStop()});h.push(c.resolve(f.token).then(function(){if(!c.completion.additionalTextEdits||f.token.isCancellationRequested||je&&c.completion.additionalTextEdits.some(function(xn){return tn.a.isBefore(je,Dt.a.getStartPosition(xn.range))}))return!1;ft&&t.editor.pushUndoStop();var Yn=Bs.a.capture(t.editor);return t.editor.executeEdits("suggestController.additionalTextEdits.async",c.completion.additionalTextEdits.map(function(xn){return es.a.replaceMove(Dt.a.lift(xn.range),xn.text)})),Yn.restoreRelativeVerticalPositionOfCursor(t.editor),(ft||!(st&2))&&t.editor.pushUndoStop(),!0}).then(function(Yn){t._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",ie.elapsed(),Yn),Ie.dispose(),kt.dispose()}))}var $t=c.completion.insertText;if(c.completion.insertTextRules&4||($t=Or.escape($t)),this.model.cancel(),n.insert($t,{overwriteBefore:R.overwriteBefore,overwriteAfter:R.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(c.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),i&2||this.editor.pushUndoStop(),c.completion.command)if(c.completion.command.id===Up.id)this.model.trigger({auto:!0,retrigger:!0});else{var un;h.push((un=this._commandService).executeCommand.apply(un,[c.completion.command.id].concat(Object(Ai.a)(c.completion.command.arguments?Object(Ai.a)(c.completion.command.arguments):[]))).catch(function(Yn){c.completion.extensionId?Object(zi.i)(Yn):Object(zi.h)(Yn)}))}i&4&&this._alternatives.value.set(e,function(Yn){for(f.cancel();r.canUndo();){l!==r.getAlternativeVersionId()&&r.undo(),t._insertSuggestion(Yn,1|2|(i&8?8:0));break}}),this._alertCompletionItem(c),Promise.all(h).finally(function(){t._reportSuggestionAcceptedTelemetry(c,r,e),t.model.clear(),f.dispose()})}}}},{key:"_reportSuggestionAcceptedTelemetry",value:function(e,i,t){var n;if(this._telemetryGate++%100==0){var r=e.extensionId?e.extensionId.value:((n=t.item.provider._debugDisplayName)!==null&&n!==void 0?n:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:r,kind:e.completion.kind,basenameHash:Object(t_.c)(Object(Za.b)(i.uri)).toString(16),languageId:i.getLanguageId(),fileExtension:Object(Za.f)(i.uri)})}}},{key:"getOverwriteInfo",value:function(e,i){Object(Yr.b)(this.editor.hasModel());var t=this.editor.getOption(114).insertMode==="replace";i&&(t=!t);var n=e.position.column-e.editStart.column,r=(t?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,l=this.editor.getPosition().column-e.position.column,c=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:n+l,overwriteAfter:r+c}}},{key:"_alertCompletionItem",value:function(e){if(Object(or.s)(e.completion.additionalTextEdits)){var i=Qe.b("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);Object(xi.a)(i)}}},{key:"triggerSuggest",value:function(e,i,t){this.editor.hasModel()&&(this.model.trigger({auto:i!=null?i:!1,completionOptions:{providerFilter:e,kindFilter:t?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}},{key:"triggerSuggestAndAcceptBest",value:function(e){var i=this;if(!!this.editor.hasModel()){var t=this.editor.getPosition(),n=function(){t.equals(i.editor.getPosition())&&i._commandService.executeCommand(e.fallback)},r=function(c){if(c.completion.insertTextRules&4||c.completion.additionalTextEdits)return!0;var h=i.editor.getPosition(),f=c.editStart.column,R=h.column;if(R-f!==c.completion.insertText.length)return!0;var Z=i.editor.getModel().getValueInRange({startLineNumber:h.lineNumber,startColumn:f,endLineNumber:h.lineNumber,endColumn:R});return Z!==c.completion.insertText};rr.c.once(this.model.onDidTrigger)(function(l){var c=[];rr.c.any(i.model.onDidTrigger,i.model.onDidCancel)(function(){Object(Ze.i)(c),n()},void 0,c),i.model.onDidSuggest(function(h){var f=h.completionModel;if(Object(Ze.i)(c),f.items.length===0){n();return}var R=i._memoryService.select(i.editor.getModel(),i.editor.getPosition(),f.items),Z=f.items[R];if(!r(Z)){n();return}i.editor.pushUndoStop(),i._insertSuggestion({index:R,item:Z,model:f},4|1|2)},void 0,c)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}}},{key:"acceptSelectedSuggestion",value:function(e,i){var t=this.widget.value.getFocusedItem(),n=0;e&&(n|=4),i&&(n|=8),this._insertSuggestion(t,n)}},{key:"acceptNextSuggestion",value:function(){this._alternatives.value.next()}},{key:"acceptPrevSuggestion",value:function(){this._alternatives.value.prev()}},{key:"cancelSuggestWidget",value:function(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}},{key:"focusSuggestion",value:function(){this.widget.value.focusSelected()}},{key:"selectNextSuggestion",value:function(){this.widget.value.selectNext()}},{key:"selectNextPageSuggestion",value:function(){this.widget.value.selectNextPage()}},{key:"selectLastSuggestion",value:function(){this.widget.value.selectLast()}},{key:"selectPrevSuggestion",value:function(){this.widget.value.selectPrevious()}},{key:"selectPrevPageSuggestion",value:function(){this.widget.value.selectPreviousPage()}},{key:"selectFirstSuggestion",value:function(){this.widget.value.selectFirst()}},{key:"toggleSuggestionDetails",value:function(){this.widget.value.toggleDetails()}},{key:"toggleExplainMode",value:function(){this.widget.value.toggleExplainMode()}},{key:"toggleSuggestionFocus",value:function(){this.widget.value.toggleDetailsFocus()}},{key:"resetWidgetSize",value:function(){this.widget.value.resetPersistedSize()}},{key:"forceRenderingAbove",value:function(){this.widget.value.forceRenderingAbove()}},{key:"stopForceRenderingAbove",value:function(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}},{key:"registerSelector",value:function(e){return this._selectors.register(e)}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();Uu.ID="editor.contrib.suggestController",Uu=Wk([Bf(1,em),Bf(2,ia.b),Bf(3,Jn.b),Bf(4,Ia.a),Bf(5,Yg.b),Bf(6,vo.a)],Uu);var Uk=function(){function s(o){Object(k.a)(this,s),this.prioritySelector=o,this._items=new Array}return Object(w.a)(s,[{key:"register",value:function(e){var i=this;if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort(function(t,n){return i.prioritySelector(n)-i.prioritySelector(t)}),{dispose:function(){var n=i._items.indexOf(e);n>=0&&i._items.splice(n,1)}}}},{key:"itemsOrderedByPriorityDesc",get:function(){return this._items}}]),s}(),Up=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.id,label:Qe.b("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Jn.a.and(an.a.writable,an.a.hasCompletionItemProvider,se.Visible.toNegated()),kbOpts:{kbExpr:an.a.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){var l=Uu.get(n);if(!!l){var c;r&&typeof r=="object"&&r.auto===!0&&(c=!0),l.triggerSuggest(void 0,c,void 0)}}}]),e}(St.b);Up.id="editor.action.triggerSuggest",Object(St.m)(Uu.ID,Uu,2),Object(St.k)(Up);var nu=100+90,ll=St.d.bindToContribution(Uu.get);Object(St.l)(new ll({id:"acceptSelectedSuggestion",precondition:Jn.a.and(se.Visible,se.HasFocusedSuggestion),handler:function(o){o.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:Jn.a.and(se.Visible,an.a.textInputFocus),weight:nu},{primary:3,kbExpr:Jn.a.and(se.Visible,an.a.textInputFocus,se.AcceptSuggestionsOnEnter,se.MakesTextEdit),weight:nu}],menuOpts:[{menuId:ae,title:Qe.b("accept.insert","Insert"),group:"left",order:1,when:se.HasInsertAndReplaceRange.toNegated()},{menuId:ae,title:Qe.b("accept.insert","Insert"),group:"left",order:1,when:Jn.a.and(se.HasInsertAndReplaceRange,se.InsertMode.isEqualTo("insert"))},{menuId:ae,title:Qe.b("accept.replace","Replace"),group:"left",order:1,when:Jn.a.and(se.HasInsertAndReplaceRange,se.InsertMode.isEqualTo("replace"))}]})),Object(St.l)(new ll({id:"acceptAlternativeSelectedSuggestion",precondition:Jn.a.and(se.Visible,an.a.textInputFocus,se.HasFocusedSuggestion),kbOpts:{weight:nu,kbExpr:an.a.textInputFocus,primary:1024|3,secondary:[1024|2]},handler:function(o){o.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:ae,group:"left",order:2,when:Jn.a.and(se.HasInsertAndReplaceRange,se.InsertMode.isEqualTo("insert")),title:Qe.b("accept.replace","Replace")},{menuId:ae,group:"left",order:2,when:Jn.a.and(se.HasInsertAndReplaceRange,se.InsertMode.isEqualTo("replace")),title:Qe.b("accept.insert","Insert")}]})),ia.a.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),Object(St.l)(new ll({id:"hideSuggestWidget",precondition:se.Visible,handler:function(o){return o.cancelSuggestWidget()},kbOpts:{weight:nu,kbExpr:an.a.textInputFocus,primary:9,secondary:[1024|9]}})),Object(St.l)(new ll({id:"selectNextSuggestion",precondition:Jn.a.and(se.Visible,Jn.a.or(se.MultipleSuggestions,se.HasFocusedSuggestion.negate())),handler:function(o){return o.selectNextSuggestion()},kbOpts:{weight:nu,kbExpr:an.a.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),Object(St.l)(new ll({id:"selectNextPageSuggestion",precondition:Jn.a.and(se.Visible,Jn.a.or(se.MultipleSuggestions,se.HasFocusedSuggestion.negate())),handler:function(o){return o.selectNextPageSuggestion()},kbOpts:{weight:nu,kbExpr:an.a.textInputFocus,primary:12,secondary:[2048|12]}})),Object(St.l)(new ll({id:"selectLastSuggestion",precondition:Jn.a.and(se.Visible,Jn.a.or(se.MultipleSuggestions,se.HasFocusedSuggestion.negate())),handler:function(o){return o.selectLastSuggestion()}})),Object(St.l)(new ll({id:"selectPrevSuggestion",precondition:Jn.a.and(se.Visible,Jn.a.or(se.MultipleSuggestions,se.HasFocusedSuggestion.negate())),handler:function(o){return o.selectPrevSuggestion()},kbOpts:{weight:nu,kbExpr:an.a.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),Object(St.l)(new ll({id:"selectPrevPageSuggestion",precondition:Jn.a.and(se.Visible,Jn.a.or(se.MultipleSuggestions,se.HasFocusedSuggestion.negate())),handler:function(o){return o.selectPrevPageSuggestion()},kbOpts:{weight:nu,kbExpr:an.a.textInputFocus,primary:11,secondary:[2048|11]}})),Object(St.l)(new ll({id:"selectFirstSuggestion",precondition:Jn.a.and(se.Visible,Jn.a.or(se.MultipleSuggestions,se.HasFocusedSuggestion.negate())),handler:function(o){return o.selectFirstSuggestion()}})),Object(St.l)(new ll({id:"focusSuggestion",precondition:Jn.a.and(se.Visible,se.HasFocusedSuggestion.negate()),handler:function(o){return o.focusSuggestion()},kbOpts:{weight:nu,kbExpr:an.a.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}}})),Object(St.l)(new ll({id:"focusAndAcceptSuggestion",precondition:Jn.a.and(se.Visible,se.HasFocusedSuggestion.negate()),handler:function(o){o.focusSuggestion(),o.acceptSelectedSuggestion(!0,!1)}})),Object(St.l)(new ll({id:"toggleSuggestionDetails",precondition:Jn.a.and(se.Visible,se.HasFocusedSuggestion),handler:function(o){return o.toggleSuggestionDetails()},kbOpts:{weight:nu,kbExpr:an.a.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:ae,group:"right",order:1,when:Jn.a.and(se.DetailsVisible,se.CanResolve),title:Qe.b("detail.more","show less")},{menuId:ae,group:"right",order:1,when:Jn.a.and(se.DetailsVisible.toNegated(),se.CanResolve),title:Qe.b("detail.less","show more")}]})),Object(St.l)(new ll({id:"toggleExplainMode",precondition:se.Visible,handler:function(o){return o.toggleExplainMode()},kbOpts:{weight:100,primary:2048|90}})),Object(St.l)(new ll({id:"toggleSuggestionFocus",precondition:se.Visible,handler:function(o){return o.toggleSuggestionFocus()},kbOpts:{weight:nu,kbExpr:an.a.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),Object(St.l)(new ll({id:"insertBestCompletion",precondition:Jn.a.and(an.a.textInputFocus,Jn.a.equals("config.editor.tabCompletion","on"),Gv.AtEnd,se.Visible.toNegated(),Ph.OtherSuggestions.toNegated(),Ps.InSnippetMode.toNegated()),handler:function(o,e){o.triggerSuggestAndAcceptBest(Object(Yr.h)(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:nu,primary:2}})),Object(St.l)(new ll({id:"insertNextSuggestion",precondition:Jn.a.and(an.a.textInputFocus,Jn.a.equals("config.editor.tabCompletion","on"),Ph.OtherSuggestions,se.Visible.toNegated(),Ps.InSnippetMode.toNegated()),handler:function(o){return o.acceptNextSuggestion()},kbOpts:{weight:nu,kbExpr:an.a.textInputFocus,primary:2}})),Object(St.l)(new ll({id:"insertPrevSuggestion",precondition:Jn.a.and(an.a.textInputFocus,Jn.a.equals("config.editor.tabCompletion","on"),Ph.OtherSuggestions,se.Visible.toNegated(),Ps.InSnippetMode.toNegated()),handler:function(o){return o.acceptPrevSuggestion()},kbOpts:{weight:nu,kbExpr:an.a.textInputFocus,primary:1024|2}})),Object(St.k)(function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.resetSuggestSize",label:Qe.b("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;(r=Uu.get(n))===null||r===void 0||r.resetWidgetSize()}}]),e}(St.b));var zk=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;Object(k.a)(this,e),r=o.call(this),r.editor=i,r.suggestControllerPreselector=t,r.checkModelVersion=n,r.isSuggestWidgetVisible=!1,r.isShiftKeyPressed=!1,r._isActive=!1,r._currentSuggestItemInfo=void 0,r._selectedItem=wf("suggestWidgetInlineCompletionProvider.selectedItem",void 0),r._register(i.onKeyDown(function(f){f.shiftKey&&!r.isShiftKeyPressed&&(r.isShiftKeyPressed=!0,r.update(r._isActive))})),r._register(i.onKeyUp(function(f){f.shiftKey&&r.isShiftKeyPressed&&(r.isShiftKeyPressed=!1,r.update(r._isActive))}));var l=Uu.get(r.editor);if(l){r._register(l.registerSelector({priority:100,select:function(R,Z,ie){var je;Ol(function(un){return r.checkModelVersion(un)});var Ie=r.editor.getModel();if(!Ie)return-1;var st=(je=r.suggestControllerPreselector())===null||je===void 0?void 0:je.removeCommonPrefix(Ie);if(!st)return-1;var ft=tn.a.lift(Z),kt=ie.map(function(un,Yn){var xn=B_.fromSuggestion(l,Ie,ft,un,r.isShiftKeyPressed),fi=xn.toSingleTextEdit().removeCommonPrefix(Ie),Si=st.augments(fi);return{index:Yn,valid:Si,prefixLength:fi.text.length,suggestItem:un}}).filter(function(un){return un&&un.valid&&un.prefixLength>0}),$t=Object(or.n)(kt,Object(or.h)(function(un){return un.prefixLength},or.u));return $t?$t.index:-1}}));var c=!1,h=function(){c||(c=!0,r._register(l.widget.value.onDidShow(function(){r.isSuggestWidgetVisible=!0,r.update(!0)})),r._register(l.widget.value.onDidHide(function(){r.isSuggestWidgetVisible=!1,r.update(!1)})),r._register(l.widget.value.onDidFocus(function(){r.isSuggestWidgetVisible=!0,r.update(!0)})))};r._register(rr.c.once(l.model.onDidTrigger)(function(f){h()}))}return r.update(r._isActive),r}return Object(w.a)(e,[{key:"selectedItem",get:function(){return this._selectedItem}},{key:"update",value:function(t){var n=this,r=this.getSuggestItemInfo();(this._isActive!==t||!Kk(this._currentSuggestItemInfo,r))&&(this._isActive=t,this._currentSuggestItemInfo=r,Ol(function(l){n.checkModelVersion(l),n._selectedItem.set(n._isActive?n._currentSuggestItemInfo:void 0,l)}))}},{key:"getSuggestItemInfo",value:function(){var t=Uu.get(this.editor);if(!(!t||!this.isSuggestWidgetVisible)){var n=t.widget.value.getFocusedItem(),r=this.editor.getPosition(),l=this.editor.getModel();if(!(!n||!r||!l))return B_.fromSuggestion(t,l,r,n.item,this.isShiftKeyPressed)}}},{key:"stopForceRenderingAbove",value:function(){var t=Uu.get(this.editor);t==null||t.stopForceRenderingAbove()}},{key:"forceRenderingAbove",value:function(){var t=Uu.get(this.editor);t==null||t.forceRenderingAbove()}}]),e}(Ze.a),B_=function(){function s(o,e,i,t){Object(k.a)(this,s),this.range=o,this.insertText=e,this.completionItemKind=i,this.isSnippetText=t}return Object(w.a)(s,[{key:"equals",value:function(e){return this.range.equalsRange(e.range)&&this.insertText===e.insertText&&this.completionItemKind===e.completionItemKind&&this.isSnippetText===e.isSnippetText}},{key:"toSelectedSuggestionInfo",value:function(){return new oo.i(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}},{key:"toSingleTextEdit",value:function(){return new Lp(this.range,this.insertText)}}],[{key:"fromSuggestion",value:function(e,i,t,n,r){var l=n.completion.insertText,c=!1;if(n.completion.insertTextRules&4){var h=new Or().parse(l);h.children.length<100&&Xg.adjustWhitespace(i,t,!0,h),l=h.toString(),c=!0}var f=e.getOverwriteInfo(n,r);return new s(Dt.a.fromPositions(t.delta(0,-f.overwriteBefore),t.delta(0,Math.max(f.overwriteAfter,0))),l,n.completion.kind,c)}}]),s}();function Kk(s,o){return s===o?!0:!s||!o?!1:s.equals(o)}var W_=a("oF4g"),Gk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Nh=function(s,o){return function(e,i){o(e,i,s)}},iu=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h,f){var R;Object(k.a)(this,e),R=o.call(this),R.editor=i,R.instantiationService=t,R.contextKeyService=n,R.configurationService=r,R.commandService=l,R.debounceService=c,R.languageFeaturesService=h,R.audioCueService=f,R.model=Wm("inlineCompletionModel",void 0),R.textModelVersionId=wf("textModelVersionId",-1),R.cursorPosition=wf("cursorPosition",new tn.a(1,1)),R.suggestWidgetAdaptor=R._register(new zk(R.editor,function(){var je,Ie;return(Ie=(je=R.model.get())===null||je===void 0?void 0:je.selectedInlineCompletion.get())===null||Ie===void 0?void 0:Ie.toSingleTextEdit(void 0)},function(je){return R.updateObservables(je,Eu.Other)})),R._enabled=Rd(R.editor.onDidChangeConfiguration,function(){return R.editor.getOption(60).enabled}),R.ghostTextWidget=R._register(R.instantiationService.createInstance(Ep,R.editor,{ghostText:R.model.map(function(je,Ie){return je==null?void 0:je.ghostText.read(Ie)}),minReservedLineCount:oy(0),targetTextModel:R.model.map(function(je){return je==null?void 0:je.textModel})})),R._debounceValue=R.debounceService.for(R.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),R._register(new kl(R.contextKeyService,R.model)),R._register(rr.c.runAndSubscribe(i.onDidChangeModel,function(){return Ol(function(je){R.model.set(void 0,je),R.updateObservables(je,Eu.Other);var Ie=i.getModel();if(Ie){var st=t.createInstance(Pp,Ie,R.suggestWidgetAdaptor.selectedItem,R.cursorPosition,R.textModelVersionId,R._debounceValue,Rd(i.onDidChangeConfiguration,function(){return i.getOption(114).preview}),Rd(i.onDidChangeConfiguration,function(){return i.getOption(114).previewMode}),Rd(i.onDidChangeConfiguration,function(){return i.getOption(60).mode}),R._enabled);R.model.set(st,je)}})}));var Z=function(Ie){var st;return Ie.isUndoing?Eu.Undo:Ie.isRedoing?Eu.Redo:((st=R.model.get())===null||st===void 0?void 0:st.isAcceptingPartially)?Eu.AcceptWord:Eu.Other};R._register(i.onDidChangeModelContent(function(je){return Ol(function(Ie){return R.updateObservables(Ie,Z(je))})})),R._register(i.onDidChangeCursorPosition(function(je){return Ol(function(Ie){var st;R.updateObservables(Ie,Eu.Other),je.reason===3&&((st=R.model.get())===null||st===void 0||st.stop(Ie))})})),R._register(i.onDidType(function(){return Ol(function(je){var Ie;R.updateObservables(je,Eu.Other),R._enabled.get()&&((Ie=R.model.get())===null||Ie===void 0||Ie.trigger(je))})})),R._register(R.commandService.onDidExecuteCommand(function(je){var Ie=new Set([Ci.a.Tab.id,Ci.a.DeleteLeft.id,Ci.a.DeleteRight.id,ly,"acceptSelectedSuggestion"]);Ie.has(je.commandId)&&i.hasTextFocus()&&R._enabled.get()&&Ol(function(st){var ft;(ft=R.model.get())===null||ft===void 0||ft.trigger(st)})})),R._register(R.editor.onDidBlurEditorWidget(function(){R.configurationService.getValue("editor.inlineSuggest.keepOnBlur")||i.getOption(60).keepOnBlur||Nd.dropDownVisible||Ol(function(je){var Ie;(Ie=R.model.get())===null||Ie===void 0||Ie.stop(je)})})),R._register(Fl("forceRenderingAbove",function(je){var Ie,st=(Ie=R.model.read(je))===null||Ie===void 0?void 0:Ie.state.read(je);(st==null?void 0:st.suggestItem)?st.ghostText.lineCount>=2&&R.suggestWidgetAdaptor.forceRenderingAbove():R.suggestWidgetAdaptor.stopForceRenderingAbove()})),R._register(Object(Ze.l)(function(){R.suggestWidgetAdaptor.stopForceRenderingAbove()}));var ie=void 0;return R._register(Fl("play audio cue & read suggestion",function(je){var Ie=R.model.read(je),st=Ie==null?void 0:Ie.state.read(je);if(!Ie||!st||!st.completion){ie=void 0;return}if(st.completion.semanticId!==ie){if(ie=st.completion.semanticId,Ie.isNavigatingCurrentInlineCompletion)return;R.audioCueService.playAudioCue(W_.a.inlineSuggestion).then(function(){if(R.editor.getOption(6)){var ft=Ie.textModel.getLineContent(st.ghostText.lineNumber);Object(xi.a)(st.ghostText.renderForScreenReader(ft))}})}})),R._register(new zm(R.editor,R.model,R.instantiationService)),R}return Object(w.a)(e,[{key:"updateObservables",value:function(t,n){var r,l,c=this.editor.getModel();this.textModelVersionId.set((r=c==null?void 0:c.getVersionId())!==null&&r!==void 0?r:-1,t,n),this.cursorPosition.set((l=this.editor.getPosition())!==null&&l!==void 0?l:new tn.a(1,1),t)}},{key:"shouldShowHoverAt",value:function(t){var n,r=(n=this.model.get())===null||n===void 0?void 0:n.ghostText.get();return r?r.parts.some(function(l){return t.containsPosition(new tn.a(r.lineNumber,l.column))}):!1}},{key:"shouldShowHoverAtViewZone",value:function(t){return this.ghostTextWidget.ownsViewZone(t)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);iu.ID="editor.contrib.inlineCompletionsController",iu=Gk([Nh(1,Ia.a),Nh(2,Jn.b),Nh(3,Po.a),Nh(4,ia.b),Nh(5,Ks.a),Nh(6,Nr.a),Nh(7,W_.b)],iu);var Vd=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},V_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,label:Qe.b("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Jn.a.and(an.a.writable,kl.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|94}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;return Vd(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=iu.get(n),(r=c==null?void 0:c.model.get())===null||r===void 0||r.next();case 2:case"end":return f.stop()}},l)}))}}]),e}(St.b);V_.ID=cy;var H_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,label:Qe.b("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Jn.a.and(an.a.writable,kl.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|92}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;return Vd(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=iu.get(n),(r=c==null?void 0:c.model.get())===null||r===void 0||r.previous();case 2:case"end":return f.stop()}},l)}))}}]),e}(St.b);H_.ID=uy;var $k=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.inlineSuggest.trigger",label:Qe.b("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:an.a.writable})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;return Vd(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=iu.get(n),(r=c==null?void 0:c.model.get())===null||r===void 0||r.triggerExplicitly();case 2:case"end":return f.stop()}},l)}))}}]),e}(St.b),Qk=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.inlineSuggest.acceptNextWord",label:Qe.b("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:Jn.a.and(an.a.writable,kl.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2048|17},menuOpts:[{menuId:kn.c.InlineSuggestionToolbar,title:Qe.b("acceptWord","Accept Word"),group:"primary",order:2}]})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;return Vd(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=iu.get(n),(r=c==null?void 0:c.model.get())===null||r===void 0||r.acceptNextWord(c.editor);case 2:case"end":return f.stop()}},l)}))}}]),e}(St.b),Yk=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.inlineSuggest.acceptNextLine",label:Qe.b("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:Jn.a.and(an.a.writable,kl.inlineSuggestionVisible),kbOpts:{weight:100+1},menuOpts:[{menuId:kn.c.InlineSuggestionToolbar,title:Qe.b("acceptLine","Accept Line"),group:"secondary",order:2}]})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;return Vd(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=iu.get(n),(r=c==null?void 0:c.model.get())===null||r===void 0||r.acceptNextLine(c.editor);case 2:case"end":return f.stop()}},l)}))}}]),e}(St.b),Zk=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:ly,label:Qe.b("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:kl.inlineSuggestionVisible,menuOpts:[{menuId:kn.c.InlineSuggestionToolbar,title:Qe.b("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:Jn.a.and(kl.inlineSuggestionVisible,an.a.tabMovesFocus.toNegated(),kl.inlineSuggestionHasIndentationLessThanTabSize)}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r;return Vd(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=iu.get(n),c&&((r=c.model.get())===null||r===void 0||r.accept(c.editor),c.editor.focus());case 2:case"end":return f.stop()}},l)}))}}]),e}(St.b),U_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,label:Qe.b("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:kl.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}return Object(w.a)(e,[{key:"run",value:function(t,n){return Vd(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:l=iu.get(n),Ol(function(f){var R;(R=l==null?void 0:l.model.get())===null||R===void 0||R.stop(f)});case 2:case"end":return h.stop()}},r)}))}}]),e}(St.b);U_.ID="editor.action.inlineSuggest.hide";var z_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,title:Qe.b("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:kn.c.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:Jn.a.equals("config.editor.inlineSuggest.showToolbar","always")})}return Object(w.a)(e,[{key:"run",value:function(t,n){return Vd(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:l=t.get(Po.a),c=l.getValue("editor.inlineSuggest.showToolbar"),h=c==="always"?"onHover":"always",l.updateValue("editor.inlineSuggest.showToolbar",h);case 4:case"end":return R.stop()}},r)}))}}]),e}(kn.a);z_.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";var Xk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Yv=function(s,o){return function(e,i){o(e,i,s)}},Jk=function(){function s(o,e,i){Object(k.a)(this,s),this.owner=o,this.range=e,this.controller=i}return Object(w.a)(s,[{key:"isValidForHoverAnchor",value:function(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),s}(),zp=function(){function s(o,e,i,t,n,r){Object(k.a)(this,s),this._editor=o,this._languageService=e,this._openerService=i,this.accessibilityService=t,this._instantiationService=n,this._telemetryService=r,this.hoverOrdinal=4}return Object(w.a)(s,[{key:"suggestHoverAnchor",value:function(e){var i=iu.get(this._editor);if(!i)return null;var t=e.target;if(t.type===8){var n=t.detail;if(i.shouldShowHoverAtViewZone(n.viewZoneId))return new ht(1e3,this,Dt.a.fromPositions(this._editor.getModel().validatePosition(n.positionBefore||n.position)),e.event.posx,e.event.posy,!1)}if(t.type===7&&i.shouldShowHoverAt(t.range))return new ht(1e3,this,t.range,e.event.posx,e.event.posy,!1);if(t.type===6){var r=t.detail.mightBeForeignElement;if(r&&i.shouldShowHoverAt(t.range))return new ht(1e3,this,t.range,e.event.posx,e.event.posy,!1)}return null}},{key:"computeSync",value:function(e,i){if(this._editor.getOption(60).showToolbar==="always")return[];var t=iu.get(this._editor);return t&&t.shouldShowHoverAt(e.range)?[new Jk(this,e.range,t)]:[]}},{key:"renderHoverParts",value:function(e,i){var t=new Ze.c,n=i[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,n,t);var r=n.controller.model.get(),l=this._instantiationService.createInstance(Nd,this._editor,!1,oy(null),r.selectedInlineCompletionIndex,r.inlineCompletionsCount,r.selectedInlineCompletion.map(function(c){var h;return(h=c==null?void 0:c.inlineCompletion.source.inlineCompletions.commands)!==null&&h!==void 0?h:[]}));return e.fragment.appendChild(l.getDomNode()),r.triggerExplicitly(),t.add(l),t}},{key:"renderScreenReaderText",value:function(e,i,t){var n=this,r=Bt.$,l=r("div.hover-row.markdown-hover"),c=Bt.append(l,r("div.hover-contents",Object(Yt.a)({},"aria-live","assertive"))),h=t.add(new to({editor:this._editor},this._languageService,this._openerService)),f=function(Z){t.add(h.onDidRenderAsync(function(){c.className="hover-contents code-hover-contents",e.onContentsChanged()}));var ie=Qe.b("inlineSuggestionFollows","Suggestion:"),je=t.add(h.render(new Qi.a().appendText(ie).appendCodeblock("text",Z)));c.replaceChildren(je.element)};t.add(Fl("update hover",function(R){var Z,ie=(Z=i.controller.model.read(R))===null||Z===void 0?void 0:Z.ghostText.read(R);if(ie){var je=n._editor.getModel().getLineContent(ie.lineNumber);f(ie.renderForScreenReader(je))}else Bt.reset(c)})),e.fragment.appendChild(l)}}]),s}();zp=Xk([Yv(1,br.a),Yv(2,Ea.a),Yv(3,Wa.b),Yv(4,Ia.a),Yv(5,vo.a)],zp),Object(St.m)(iu.ID,iu,3),Object(St.k)($k),Object(St.k)(V_),Object(St.k)(H_),Object(St.k)(Qk),Object(St.k)(Yk),Object(St.k)(Zk),Object(St.k)(U_),Object(kn.i)(z_),zt.register(zp);var Wf=a("zN7H");function Bl(s,o){for(var e=0,i=0;i<s.length;i++)s.charAt(i)==="	"?e+=o:e++;return e}function Zv(s,o,e){s=s<0?0:s;var i="";if(!e){var t=Math.floor(s/o);s=s%o;for(var n=0;n<t;n++)i+="	"}for(var r=0;r<s;r++)i+=" ";return i}var K_=a("QgJK"),xh=a("oIHe"),qk=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},eD=function(s,o){return function(e,i){o(e,i,s)}};function G_(s,o,e,i,t){if(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)return[];var n=o.getLanguageConfiguration(s.getLanguageId()).indentationRules;if(!n)return[];for(i=Math.min(i,s.getLineCount());e<=i&&n.unIndentedLinePattern;){var r=s.getLineContent(e);if(!n.unIndentedLinePattern.test(r))break;e++}if(e>i-1)return[];var l=s.getOptions(),c=l.tabSize,h=l.indentSize,f=l.insertSpaces,R=function(fi,Si){return Si=Si||1,Wf.a.shiftIndent(fi,fi.length+Si,c,h,f)},Z=function(fi,Si){return Si=Si||1,Wf.a.unshiftIndent(fi,fi.length+Si,c,h,f)},ie=[],je,Ie=s.getLineContent(e),st=Ie;if(t!=null){je=t;var ft=Vn.x(Ie);st=je+Ie.substring(ft.length),n.decreaseIndentPattern&&n.decreaseIndentPattern.test(st)&&(je=Z(je),st=je+Ie.substring(ft.length)),Ie!==st&&ie.push(es.a.replaceMove(new Gi.a(e,1,e,ft.length+1),Object(K_.a)(je,h,f)))}else je=Vn.x(Ie);var kt=je;n.increaseIndentPattern&&n.increaseIndentPattern.test(st)?(kt=R(kt),je=R(je)):n.indentNextLinePattern&&n.indentNextLinePattern.test(st)&&(kt=R(kt)),e++;for(var $t=e;$t<=i;$t++){var r=s.getLineContent($t),un=Vn.x(r),Yn=kt+r.substring(un.length);n.decreaseIndentPattern&&n.decreaseIndentPattern.test(Yn)&&(kt=Z(kt),je=Z(je)),un!==kt&&ie.push(es.a.replaceMove(new Gi.a($t,1,$t,un.length+1),Object(K_.a)(kt,h,f))),!(n.unIndentedLinePattern&&n.unIndentedLinePattern.test(r))&&(n.increaseIndentPattern&&n.increaseIndentPattern.test(Yn)?(je=R(je),kt=je):n.indentNextLinePattern&&n.indentNextLinePattern.test(Yn)?kt=R(kt):kt=je)}return ie}var $_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,label:Qe.b("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:an.a.writable})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=n.getModel();if(!!r){var l=r.getOptions(),c=n.getSelection();if(!!c){var h=new rD(c,l.tabSize);n.pushUndoStop(),n.executeCommands(this.id,[h]),n.pushUndoStop(),r.updateOptions({insertSpaces:!0})}}}}]),e}(St.b);$_.ID="editor.action.indentationToSpaces";var Q_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,label:Qe.b("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:an.a.writable})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=n.getModel();if(!!r){var l=r.getOptions(),c=n.getSelection();if(!!c){var h=new aD(c,l.tabSize);n.pushUndoStop(),n.executeCommands(this.id,[h]),n.pushUndoStop(),r.updateOptions({insertSpaces:!1})}}}}]),e}(St.b);Q_.ID="editor.action.indentationToTabs";var Kp=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this,n),r.insertSpaces=i,r.displaySizeOnly=t,r}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=this,l=t.get(Vs.a),c=t.get(xa.a),h=n.getModel();if(!!h){var f=c.getCreationOptions(h.getLanguageId(),h.uri,h.isForSimpleWidget),R=h.getOptions(),Z=[1,2,3,4,5,6,7,8].map(function(je){return{id:je.toString(),label:je.toString(),description:je===f.tabSize&&je===R.tabSize?Qe.b("configuredTabSize","Configured Tab Size"):je===f.tabSize?Qe.b("defaultTabSize","Default Tab Size"):je===R.tabSize?Qe.b("currentTabSize","Current Tab Size"):void 0}}),ie=Math.min(h.getOptions().tabSize-1,7);setTimeout(function(){l.pick(Z,{placeHolder:Qe.b({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:Z[ie]}).then(function(je){if(je&&h&&!h.isDisposed()){var Ie=parseInt(je.label,10);r.displaySizeOnly?h.updateOptions({tabSize:Ie}):h.updateOptions({tabSize:Ie,indentSize:Ie,insertSpaces:r.insertSpaces})}})},50)}}}]),e}(St.b),Y_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!1,!1,{id:e.ID,label:Qe.b("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}return Object(w.a)(e)}(Kp);Y_.ID="editor.action.indentUsingTabs";var Z_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!0,!1,{id:e.ID,label:Qe.b("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}return Object(w.a)(e)}(Kp);Z_.ID="editor.action.indentUsingSpaces";var X_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!0,!0,{id:e.ID,label:Qe.b("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}return Object(w.a)(e)}(Kp);X_.ID="editor.action.changeTabDisplaySize";var J_=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,label:Qe.b("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=t.get(xa.a),l=n.getModel();if(!!l){var c=r.getCreationOptions(l.getLanguageId(),l.uri,l.isForSimpleWidget);l.detectIndentation(c.insertSpaces,c.tabSize)}}}]),e}(St.b);J_.ID="editor.action.detectIndentation";var tD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.reindentlines",label:Qe.b("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:an.a.writable})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=t.get(Ro.a),l=n.getModel();if(!!l){var c=G_(l,r,1,l.getLineCount());c.length>0&&(n.pushUndoStop(),n.executeEdits(this.id,c),n.pushUndoStop())}}}]),e}(St.b),nD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.reindentselectedlines",label:Qe.b("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:an.a.writable})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=t.get(Ro.a),l=n.getModel();if(!!l){var c=n.getSelections();if(c!==null){var h=[],f=Object(B.a)(c),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value,ie=Z.startLineNumber,je=Z.endLineNumber;if(ie!==je&&Z.endColumn===1&&je--,ie===1){if(ie===je)continue}else ie--;var Ie=G_(l,r,ie,je);h.push.apply(h,Object(Ai.a)(Ie))}}catch(st){f.e(st)}finally{f.f()}h.length>0&&(n.pushUndoStop(),n.executeEdits(this.id,h),n.pushUndoStop())}}}}]),e}(St.b),iD=function(){function s(o,e){Object(k.a)(this,s),this._initialSelection=e,this._edits=[],this._selectionId=null;var i=Object(B.a)(o),t;try{for(i.s();!(t=i.n()).done;){var n=t.value;n.range&&typeof n.text=="string"&&this._edits.push(n)}}catch(r){i.e(r)}finally{i.f()}}return Object(w.a)(s,[{key:"getEditOperations",value:function(e,i){var t=Object(B.a)(this._edits),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;i.addEditOperation(Dt.a.lift(r.range),r.text)}}catch(c){t.e(c)}finally{t.f()}var l=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(l=!0,this._selectionId=i.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(l=!0,this._selectionId=i.trackSelection(this._initialSelection,!1))),l||(this._selectionId=i.trackSelection(this._initialSelection))}},{key:"computeCursorState",value:function(e,i){return i.getTrackedSelection(this._selectionId)}}]),s}(),Xv=function(){function s(o,e){var i=this;Object(k.a)(this,s),this.editor=o,this._languageConfigurationService=e,this.callOnDispose=new Ze.c,this.callOnModel=new Ze.c,this.callOnDispose.add(o.onDidChangeConfiguration(function(){return i.update()})),this.callOnDispose.add(o.onDidChangeModel(function(){return i.update()})),this.callOnDispose.add(o.onDidChangeModelLanguage(function(){return i.update()}))}return Object(w.a)(s,[{key:"update",value:function(){var e=this;this.callOnModel.clear(),!(this.editor.getOption(10)<4||this.editor.getOption(53))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(function(i){var t=i.range;e.trigger(t)})))}},{key:"trigger",value:function(e){var i=this.editor.getSelections();if(!(i===null||i.length>1)){var t=this.editor.getModel();if(!!t&&!!t.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber)){for(var n=this.editor.getOption(10),r=t.getOptions(),l=r.tabSize,c=r.indentSize,h=r.insertSpaces,f=[],R={shiftIndent:function(Oa){return Wf.a.shiftIndent(Oa,Oa.length+1,l,c,h)},unshiftIndent:function(Oa){return Wf.a.unshiftIndent(Oa,Oa.length+1,l,c,h)}},Z=e.startLineNumber;Z<=e.endLineNumber;){if(this.shouldIgnoreLine(t,Z)){Z++;continue}break}if(!(Z>e.endLineNumber)){var ie=t.getLineContent(Z);if(!/\S/.test(ie.substring(0,e.startColumn-1))){var je=Object(xh.a)(n,t,t.getLanguageId(),Z,R,this._languageConfigurationService);if(je!==null){var Ie=Vn.x(ie),st=Bl(je,l),ft=Bl(Ie,l);if(st!==ft){var kt=Zv(st,l,h);f.push({range:new Dt.a(Z,1,Z,Ie.length+1),text:kt}),ie=kt+ie.substr(Ie.length)}else{var $t=Object(xh.d)(t,Z,this._languageConfigurationService);if($t===0||$t===8)return}}}for(var un=Z;Z<e.endLineNumber;){if(!/\S/.test(t.getLineContent(Z+1))){Z++;continue}break}if(Z!==e.endLineNumber){var Yn={tokenization:{getLineTokens:function(Oa){return t.tokenization.getLineTokens(Oa)},getLanguageId:function(){return t.getLanguageId()},getLanguageIdAtPosition:function(Oa,da){return t.getLanguageIdAtPosition(Oa,da)}},getLineContent:function(Oa){return Oa===un?ie:t.getLineContent(Oa)}},xn=Object(xh.a)(n,Yn,t.getLanguageId(),Z+1,R,this._languageConfigurationService);if(xn!==null){var fi=Bl(xn,l),Si=Bl(Vn.x(t.getLineContent(Z+1)),l);if(fi!==Si)for(var ji=fi-Si,Bi=Z+1;Bi<=e.endLineNumber;Bi++){var Lr=t.getLineContent(Bi),gr=Vn.x(Lr),jr=Bl(gr,l),$r=jr+ji,fa=Zv($r,l,h);fa!==gr&&f.push({range:new Dt.a(Bi,1,Bi,gr.length+1),text:fa})}}}if(f.length>0){this.editor.pushUndoStop();var Fr=new iD(f,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Fr),this.editor.pushUndoStop()}}}}}},{key:"shouldIgnoreLine",value:function(e,i){e.tokenization.forceTokenization(i);var t=e.getLineFirstNonWhitespaceColumn(i);if(t===0)return!0;var n=e.tokenization.getLineTokens(i);if(n.getCount()>0){var r=n.findTokenIndexAtOffset(t);if(r>=0&&n.getStandardTokenType(r)===1)return!0}return!1}},{key:"dispose",value:function(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}]),s}();Xv.ID="editor.contrib.autoIndentOnPaste",Xv=qk([eD(1,Ro.a)],Xv);function q_(s,o,e,i){if(!(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)){for(var t="",n=0;n<e;n++)t+=" ";for(var r=new RegExp(t,"gi"),l=1,c=s.getLineCount();l<=c;l++){var h=s.getLineFirstNonWhitespaceColumn(l);if(h===0&&(h=s.getLineMaxColumn(l)),h!==1){var f=new Dt.a(l,1,l,h),R=s.getValueInRange(f),Z=i?R.replace(/\t/ig,t):R.replace(r,"	");o.addEditOperation(f,Z)}}}}var rD=function(){function s(o,e){Object(k.a)(this,s),this.selection=o,this.tabSize=e,this.selectionId=null}return Object(w.a)(s,[{key:"getEditOperations",value:function(e,i){this.selectionId=i.trackSelection(this.selection),q_(e,i,this.tabSize,!0)}},{key:"computeCursorState",value:function(e,i){return i.getTrackedSelection(this.selectionId)}}]),s}(),aD=function(){function s(o,e){Object(k.a)(this,s),this.selection=o,this.tabSize=e,this.selectionId=null}return Object(w.a)(s,[{key:"getEditOperations",value:function(e,i){this.selectionId=i.trackSelection(this.selection),q_(e,i,this.tabSize,!1)}},{key:"computeCursorState",value:function(e,i){return i.getTrackedSelection(this.selectionId)}}]),s}();Object(St.m)(Xv.ID,Xv,2),Object(St.k)($_),Object(St.k)(Q_),Object(St.k)(Y_),Object(St.k)(Z_),Object(St.k)(X_),Object(St.k)(J_),Object(St.k)(tD),Object(St.k)(nD);var sm=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},e0=Object(w.a)(function s(o,e){Object(k.a)(this,s),this.range=o,this.direction=e}),oD=function(){function s(o,e,i){Object(k.a)(this,s),this.hint=o,this.anchor=e,this.provider=i,this._isResolved=!1}return Object(w.a)(s,[{key:"with",value:function(e){var i=new s(this.hint,e.anchor,this.provider);return i._isResolved=this._isResolved,i._currentResolve=this._currentResolve,i}},{key:"resolve",value:function(e){return sm(this,void 0,void 0,Object(d.a)().mark(function i(){var t=this;return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(typeof this.provider.resolveInlayHint=="function"){r.next=2;break}return r.abrupt("return");case 2:if(!this._currentResolve){r.next=8;break}return r.next=5,this._currentResolve;case 5:if(!e.isCancellationRequested){r.next=7;break}return r.abrupt("return");case 7:return r.abrupt("return",this.resolve(e));case 8:return this._isResolved||(this._currentResolve=this._doResolve(e).finally(function(){return t._currentResolve=void 0})),r.next=11,this._currentResolve;case 11:case"end":return r.stop()}},i,this)}))}},{key:"_doResolve",value:function(e){var i,t;return sm(this,void 0,void 0,Object(d.a)().mark(function n(){var r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Promise.resolve(this.provider.resolveInlayHint(this.hint,e));case 3:r=c.sent,this.hint.tooltip=(i=r==null?void 0:r.tooltip)!==null&&i!==void 0?i:this.hint.tooltip,this.hint.label=(t=r==null?void 0:r.label)!==null&&t!==void 0?t:this.hint.label,this._isResolved=!0,c.next=13;break;case 9:c.prev=9,c.t0=c.catch(0),Object(zi.i)(c.t0),this._isResolved=!1;case 13:case"end":return c.stop()}},n,this,[[0,9]])}))}}]),s}(),t0=function(){function s(o,e,i){Object(k.a)(this,s),this._disposables=new Ze.c,this.ranges=o,this.provider=new Set;var t=[],n=Object(B.a)(e),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=Object(z.a)(l,2),h=c[0],f=c[1];this._disposables.add(h),this.provider.add(f);var R=Object(B.a)(h.hints),Z;try{for(R.s();!(Z=R.n()).done;){var ie=Z.value,je=i.validatePosition(ie.position),Ie="before",st=s._getRangeAtPosition(i,je),ft=void 0;st.getStartPosition().isBefore(je)?(ft=Dt.a.fromPositions(st.getStartPosition(),je),Ie="after"):(ft=Dt.a.fromPositions(je,st.getEndPosition()),Ie="before"),t.push(new oD(ie,new e0(ft,Ie),f))}}catch(kt){R.e(kt)}finally{R.f()}}}catch(kt){n.e(kt)}finally{n.f()}this.items=t.sort(function(kt,$t){return tn.a.compare(kt.hint.position,$t.hint.position)})}return Object(w.a)(s,[{key:"dispose",value:function(){this._disposables.dispose()}}],[{key:"create",value:function(e,i,t,n){return sm(this,void 0,void 0,Object(d.a)().mark(function r(){var l=this,c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return c=[],h=e.ordered(i).reverse().map(function(Z){return t.map(function(ie){return sm(l,void 0,void 0,Object(d.a)().mark(function je(){var Ie;return Object(d.a)().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:return ft.prev=0,ft.next=3,Z.provideInlayHints(i,ie,n);case 3:Ie=ft.sent,(Ie==null?void 0:Ie.hints.length)&&c.push([Ie,Z]),ft.next=10;break;case 7:ft.prev=7,ft.t0=ft.catch(0),Object(zi.i)(ft.t0);case 10:case"end":return ft.stop()}},je,null,[[0,7]])}))})}),R.next=4,Promise.all(h.flat());case 4:if(!(n.isCancellationRequested||i.isDisposed())){R.next=6;break}throw new zi.b;case 6:return R.abrupt("return",new s(t,c,i));case 7:case"end":return R.stop()}},r)}))}},{key:"_getRangeAtPosition",value:function(e,i){var t=i.lineNumber,n=e.getWordAtPosition(i);if(n)return new Dt.a(t,n.startColumn,t,n.endColumn);e.tokenization.tokenizeIfCheap(t);var r=e.tokenization.getLineTokens(t),l=i.column-1,c=r.findTokenIndexAtOffset(l),h=r.getStartOffset(c),f=r.getEndOffset(c);return f-h==1&&(h===l&&c>1?(h=r.getStartOffset(c-1),f=r.getEndOffset(c-1)):f===l&&c<r.getCount()-1&&(h=r.getStartOffset(c+1),f=r.getEndOffset(c+1))),new Dt.a(t,h+1,t,f+1)}}]),s}();function sD(s){return Wr.a.from({scheme:ql.c.command,path:s.id,query:s.arguments&&encodeURIComponent(JSON.stringify(s.arguments))}).toString()}var Jv=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function lD(s,o,e,i){var t;return Jv(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this,l,c,h,f,R,Z,ie,je,Ie,st,ft,kt,$t;return Object(d.a)().wrap(function(Yn){for(;;)switch(Yn.prev=Yn.next){case 0:return l=s.get(Ur.a),c=s.get(Ms.a),h=s.get(ia.b),f=s.get(Ia.a),R=s.get(io.a),Yn.next=7,i.item.resolve(Zi.a.None);case 7:if(i.part.location){Yn.next=9;break}return Yn.abrupt("return");case 9:Z=i.part.location,ie=[],je=new Set(kn.e.getMenuItems(kn.c.EditorContext).map(function(xn){return Object(kn.g)(xn)?xn.command.id:Lg()})),Ie=Object(B.a)(Su.all());try{for(ft=function(){var fi=st.value;je.has(fi.desc.id)&&ie.push(new Ba.a(fi.desc.id,kn.d.label(fi.desc,{renderShortTitle:!0}),void 0,!0,function(){return Jv(r,void 0,void 0,Object(d.a)().mark(function Si(){var ji,Bi,Lr;return Object(d.a)().wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:return jr.next=2,l.createModelReference(Z.uri);case 2:return ji=jr.sent,jr.prev=3,Bi=new Tc(ji.object.textEditorModel,Dt.a.getStartPosition(Z.range)),Lr=i.item.anchor.range,jr.next=8,f.invokeFunction(fi.runEditorCommand.bind(fi),o,Bi,Lr);case 8:return jr.prev=8,ji.dispose(),jr.finish(8);case 11:case"end":return jr.stop()}},Si,null,[[3,,8,11]])}))}))},Ie.s();!(st=Ie.n()).done;)ft()}catch(xn){Ie.e(xn)}finally{Ie.f()}i.part.command&&(kt=i.part.command,ie.push(new Ba.d),ie.push(new Ba.a(kt.id,kt.title,void 0,!0,function(){return Jv(r,void 0,void 0,Object(d.a)().mark(function xn(){var fi;return Object(d.a)().wrap(function(ji){for(;;)switch(ji.prev=ji.next){case 0:return ji.prev=0,ji.next=3,h.executeCommand.apply(h,[kt.id].concat(Object(Ai.a)((fi=kt.arguments)!==null&&fi!==void 0?fi:[])));case 3:ji.next=8;break;case 5:ji.prev=5,ji.t0=ji.catch(0),R.notify({severity:io.c.Error,source:i.item.provider.displayName,message:ji.t0});case 8:case"end":return ji.stop()}},xn,null,[[0,5]])}))}))),$t=o.getOption(123),c.showContextMenu({domForShadowRoot:$t&&(t=o.getDomNode())!==null&&t!==void 0?t:void 0,getAnchor:function(){var fi=Bt.getDomNodePagePosition(e);return{x:fi.left,y:fi.top+fi.height+8}},getActions:function(){return ie},onHide:function(){o.focus()},autoSelectFirstItem:!0});case 17:case"end":return Yn.stop()}},n)}))}function n0(s,o,e,i){return Jv(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return r=s.get(Ur.a),h.next=3,r.createModelReference(i.uri);case 3:return l=h.sent,h.next=6,e.invokeWithinContext(function(f){return Jv(n,void 0,void 0,Object(d.a)().mark(function R(){var Z,ie,je,Ie,st;return Object(d.a)().wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:return Z=o.hasSideBySideModifier,ie=f.get(Jn.b),je=ss.inPeekEditor.getValue(ie),Ie=!Z&&e.getOption(85)&&!je,st=new sd({openToSide:Z,openInPeek:Ie,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}),kt.abrupt("return",st.run(f,new Tc(l.object.textEditorModel,Dt.a.getStartPosition(i.range)),Dt.a.lift(i.range)));case 6:case"end":return kt.stop()}},R)}))});case 6:l.dispose();case 7:case"end":return h.stop()}},t)}))}var uD=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Vf=function(s,o){return function(e,i){o(e,i,s)}},Hf=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},cD=function(){function s(){Object(k.a)(this,s),this._entries=new Ju.a(50)}return Object(w.a)(s,[{key:"get",value:function(e){var i=s._key(e);return this._entries.get(i)}},{key:"set",value:function(e,i){var t=s._key(e);this._entries.set(t,i)}}],[{key:"_key",value:function(e){return"".concat(e.uri.toString(),"/").concat(e.getVersionId())}}]),s}(),i0=Object(Ia.c)("IInlayHintsCache");Object(Xs.b)(i0,cD,1);var Gp=function(){function s(o,e){Object(k.a)(this,s),this.item=o,this.index=e}return Object(w.a)(s,[{key:"part",get:function(){var e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}}]),s}(),dD=Object(w.a)(function s(o,e){Object(k.a)(this,s),this.part=o,this.hasTriggerModifier=e}),Fh=function(){function s(o,e,i,t,n,r,l){var c=this;Object(k.a)(this,s),this._editor=o,this._languageFeaturesService=e,this._inlayHintsCache=t,this._commandService=n,this._notificationService=r,this._instaService=l,this._disposables=new Ze.c,this._sessionDisposables=new Ze.c,this._decorationsMetadata=new Map,this._ruleFactory=new Bo.b(this._editor),this._activeRenderMode=0,this._debounceInfo=i.for(e.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(e.inlayHintsProvider.onDidChange(function(){return c._update()})),this._disposables.add(o.onDidChangeModel(function(){return c._update()})),this._disposables.add(o.onDidChangeModelLanguage(function(){return c._update()})),this._disposables.add(o.onDidChangeConfiguration(function(h){h.hasChanged(136)&&c._update()})),this._update()}return Object(w.a)(s,[{key:"dispose",value:function(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}},{key:"_update",value:function(){var e=this;this._sessionDisposables.clear(),this._removeAllDecorations();var i=this._editor.getOption(136);if(i.enabled!=="off"){var t=this._editor.getModel();if(!(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))){var n=this._inlayHintsCache.get(t);n&&this._updateHintsDecorators([t.getFullModelRange()],n),this._sessionDisposables.add(Object(Ze.l)(function(){t.isDisposed()||e._cacheHintsForFastRestore(t)}));var r,l=new Set,c=new et.g(function(){return Hf(e,void 0,void 0,Object(d.a)().mark(function R(){var Z,ie,je,Ie,st,ft,kt;return Object(d.a)().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:return Z=Date.now(),r==null||r.dispose(!0),r=new Zi.b,ie=t.onWillDispose(function(){return r==null?void 0:r.cancel()}),un.prev=4,je=r.token,un.next=8,t0.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),je);case 8:if(Ie=un.sent,c.delay=this._debounceInfo.update(t,Date.now()-Z),!je.isCancellationRequested){un.next=13;break}return Ie.dispose(),un.abrupt("return");case 13:st=Object(B.a)(Ie.provider);try{for(st.s();!(ft=st.n()).done;)kt=ft.value,typeof kt.onDidChangeInlayHints=="function"&&!l.has(kt)&&(l.add(kt),this._sessionDisposables.add(kt.onDidChangeInlayHints(function(){c.isScheduled()||c.schedule()})))}catch(Yn){st.e(Yn)}finally{st.f()}this._sessionDisposables.add(Ie),this._updateHintsDecorators(Ie.ranges,Ie.items),this._cacheHintsForFastRestore(t),un.next=23;break;case 20:un.prev=20,un.t0=un.catch(4),Object(zi.h)(un.t0);case 23:return un.prev=23,r.dispose(),ie.dispose(),un.finish(23);case 27:case"end":return un.stop()}},R,this,[[4,20,23,27]])}))},this._debounceInfo.get(t));if(this._sessionDisposables.add(c),this._sessionDisposables.add(Object(Ze.l)(function(){return r==null?void 0:r.dispose(!0)})),c.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(function(R){(R.scrollTopChanged||!c.isScheduled())&&c.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(function(R){var Z=Math.max(c.delay,1250);c.schedule(Z)})),i.enabled==="on")this._activeRenderMode=0;else{var h,f;i.enabled==="onUnlessPressed"?(h=0,f=1):(h=1,f=0),this._activeRenderMode=h,this._sessionDisposables.add(Bt.ModifierKeyEmitter.getInstance().event(function(R){if(!!e._editor.hasModel()){var Z=R.altKey&&R.ctrlKey&&!(R.shiftKey||R.metaKey)?f:h;if(Z!==e._activeRenderMode){e._activeRenderMode=Z;var ie=e._editor.getModel(),je=e._copyInlayHintsWithCurrentAnchor(ie);e._updateHintsDecorators([ie.getFullModelRange()],je),c.schedule(0)}}}))}this._sessionDisposables.add(this._installDblClickGesture(function(){return c.schedule(0)})),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}}}},{key:"_installLinkGesture",value:function(){var e=this,i=new Ze.c,t=i.add(new So(this._editor)),n=new Ze.c;return i.add(n),i.add(t.onMouseMoveOrRelevantKeyDown(function(r){var l=Object(z.a)(r,1),c=l[0],h=e._getInlayHintLabelPart(c),f=e._editor.getModel();if(!h||!f){n.clear();return}var R=new Zi.b;n.add(Object(Ze.l)(function(){return R.dispose(!0)})),h.item.resolve(R.token),e._activeInlayHintPart=h.part.command||h.part.location?new dD(h,c.hasTriggerModifier):void 0;var Z=f.validatePosition(h.item.hint.position).lineNumber,ie=new Dt.a(Z,1,Z,f.getLineMaxColumn(Z)),je=e._getInlineHintsForRange(ie);e._updateHintsDecorators([ie],je),n.add(Object(Ze.l)(function(){e._activeInlayHintPart=void 0,e._updateHintsDecorators([ie],je)}))})),i.add(t.onCancel(function(){return n.clear()})),i.add(t.onExecute(function(r){return Hf(e,void 0,void 0,Object(d.a)().mark(function l(){var c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(c=this._getInlayHintLabelPart(r),!c){R.next=10;break}if(h=c.part,!h.location){R.next=7;break}this._instaService.invokeFunction(n0,r,this._editor,h.location),R.next=10;break;case 7:if(!oo.a.is(h.command)){R.next=10;break}return R.next=10,this._invokeCommand(h.command,c.item);case 10:case"end":return R.stop()}},l,this)}))})),i}},{key:"_getInlineHintsForRange",value:function(e){var i=new Set,t=Object(B.a)(this._decorationsMetadata.values()),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;e.containsRange(r.item.anchor.range)&&i.add(r.item)}}catch(l){t.e(l)}finally{t.f()}return Array.from(i)}},{key:"_installDblClickGesture",value:function(e){var i=this;return this._editor.onMouseUp(function(t){return Hf(i,void 0,void 0,Object(d.a)().mark(function n(){var r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.event.detail===2){h.next=2;break}return h.abrupt("return");case 2:if(r=this._getInlayHintLabelPart(t),r){h.next=5;break}return h.abrupt("return");case 5:return t.event.preventDefault(),h.next=8,r.item.resolve(Zi.a.None);case 8:Object(or.s)(r.item.hint.textEdits)&&(l=r.item.hint.textEdits.map(function(f){return es.a.replace(Dt.a.lift(f.range),f.text)}),this._editor.executeEdits("inlayHint.default",l),e());case 9:case"end":return h.stop()}},n,this)}))})}},{key:"_installContextMenu",value:function(){var e=this;return this._editor.onContextMenu(function(i){return Hf(e,void 0,void 0,Object(d.a)().mark(function t(){var n;return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(i.event.target instanceof HTMLElement){l.next=2;break}return l.abrupt("return");case 2:if(n=this._getInlayHintLabelPart(i),!n){l.next=6;break}return l.next=6,this._instaService.invokeFunction(lD,this._editor,i.event.target,n);case 6:case"end":return l.stop()}},t,this)}))})}},{key:"_getInlayHintLabelPart",value:function(e){var i;if(e.target.type===6){var t=(i=e.target.detail.injectedText)===null||i===void 0?void 0:i.options;if(t instanceof ti.a&&(t==null?void 0:t.attachedData)instanceof Gp)return t.attachedData}}},{key:"_invokeCommand",value:function(e,i){var t;return Hf(this,void 0,void 0,Object(d.a)().mark(function n(){var r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(r=this._commandService).executeCommand.apply(r,[e.id].concat(Object(Ai.a)((t=e.arguments)!==null&&t!==void 0?t:[])));case 3:c.next=8;break;case 5:c.prev=5,c.t0=c.catch(0),this._notificationService.notify({severity:io.c.Error,source:i.provider.displayName,message:c.t0});case 8:case"end":return c.stop()}},n,this,[[0,5]])}))}},{key:"_cacheHintsForFastRestore",value:function(e){var i=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,i)}},{key:"_copyInlayHintsWithCurrentAnchor",value:function(e){var i=new Map,t=Object(B.a)(this._decorationsMetadata),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=Object(z.a)(r,2),c=l[0],h=l[1];if(!i.has(h.item)){var f=e.getDecorationRange(c);if(f){var R=new e0(f,h.item.anchor.direction),Z=h.item.with({anchor:R});i.set(h.item,Z)}}}}catch(ie){t.e(ie)}finally{t.f()}return Array.from(i.values())}},{key:"_getHintsRanges",value:function(){var e=30,i=this._editor.getModel(),t=this._editor.getVisibleRangesPlusViewportAboveBelow(),n=[],r=Object(B.a)(t.sort(Dt.a.compareRangesUsingStarts)),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=i.validateRange(new Dt.a(c.startLineNumber-e,c.startColumn,c.endLineNumber+e,c.endColumn));n.length===0||!Dt.a.areIntersectingOrTouching(n[n.length-1],h)?n.push(h):n[n.length-1]=Dt.a.plusRange(n[n.length-1],h)}}catch(f){r.e(f)}finally{r.f()}return n}},{key:"_updateHintsDecorators",value:function(e,i){var t=this,n,r,l=[],c=function(lo,cs,fo,Io,au){var Vc={content:fo,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:cs.className,cursorStops:Io,attachedData:au};l.push({item:lo,classNameRef:cs,decoration:{range:lo.anchor.range,options:Object(Yt.a)({description:"InlayHint",showIfCollapsed:lo.anchor.range.isEmpty(),collapseOnReplaceEdit:!lo.anchor.range.isEmpty(),stickiness:0},lo.anchor.direction,t._activeRenderMode===0?Vc:void 0)}})},h=function(lo,cs){var fo=t._ruleFactory.createClassNameRef({width:"".concat(R/3|0,"px"),display:"inline-block"});c(lo,fo,"\u200A",cs?pn.d.Right:pn.d.None)},f=this._getLayoutInfo(),R=f.fontSize,Z=f.fontFamily,ie=f.padding,je=f.isUniform,Ie="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Ie,Z);var st=Object(B.a)(i),ft;try{for(st.s();!(ft=st.n()).done;){var kt=ft.value;kt.hint.paddingLeft&&h(kt,!1);for(var $t=typeof kt.hint.label=="string"?[{label:kt.hint.label}]:kt.hint.label,un=0;un<$t.length;un++){var Yn=$t[un],xn=un===0,fi=un===$t.length-1,Si={fontSize:"".concat(R,"px"),fontFamily:"var(".concat(Ie,"), ").concat(fs.d.fontFamily),verticalAlign:je?"baseline":"middle",unicodeBidi:"isolate"};Object(or.s)(kt.hint.textEdits)&&(Si.cursor="default"),this._fillInColors(Si,kt.hint),(Yn.command||Yn.location)&&((n=this._activeInlayHintPart)===null||n===void 0?void 0:n.part.item)===kt&&this._activeInlayHintPart.part.index===un&&(Si.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(Si.color=Object(Oi.f)(Vt.E),Si.cursor="pointer")),ie&&(xn&&fi?(Si.padding="1px ".concat(Math.max(1,R/4)|0,"px"),Si.borderRadius="".concat(R/4|0,"px")):xn?(Si.padding="1px 0 1px ".concat(Math.max(1,R/4)|0,"px"),Si.borderRadius="".concat(R/4|0,"px 0 0 ").concat(R/4|0,"px")):fi?(Si.padding="1px ".concat(Math.max(1,R/4)|0,"px 1px 0"),Si.borderRadius="0 ".concat(R/4|0,"px ").concat(R/4|0,"px 0")):Si.padding="1px 0 1px 0"),c(kt,this._ruleFactory.createClassNameRef(Si),hD(Yn.label),fi&&!kt.hint.paddingRight?pn.d.Right:pn.d.None,new Gp(kt,un))}if(kt.hint.paddingRight&&h(kt,!0),l.length>s._MAX_DECORATORS)break}}catch(da){st.e(da)}finally{st.f()}var ji=[],Bi=Object(B.a)(e),Lr;try{for(Bi.s();!(Lr=Bi.n()).done;){var gr=Lr.value,jr=Object(B.a)((r=this._editor.getDecorationsInRange(gr))!==null&&r!==void 0?r:[]),$r;try{for(jr.s();!($r=jr.n()).done;){var fa=$r.value,Fr=fa.id,Aa=this._decorationsMetadata.get(Fr);Aa&&(ji.push(Fr),Aa.classNameRef.dispose(),this._decorationsMetadata.delete(Fr))}}catch(da){jr.e(da)}finally{jr.f()}}}catch(da){Bi.e(da)}finally{Bi.f()}var Oa=Bs.a.capture(this._editor);this._editor.changeDecorations(function(da){for(var lo=da.deltaDecorations(ji,l.map(function(Io){return Io.decoration})),cs=0;cs<lo.length;cs++){var fo=l[cs];t._decorationsMetadata.set(lo[cs],fo)}}),Oa.restore(this._editor)}},{key:"_fillInColors",value:function(e,i){i.kind===oo.f.Parameter?(e.backgroundColor=Object(Oi.f)(Vt.X),e.color=Object(Oi.f)(Vt.Y)):i.kind===oo.f.Type?(e.backgroundColor=Object(Oi.f)(Vt.Z),e.color=Object(Oi.f)(Vt.ab)):(e.backgroundColor=Object(Oi.f)(Vt.V),e.color=Object(Oi.f)(Vt.W))}},{key:"_getLayoutInfo",value:function(){var e=this._editor.getOption(136),i=e.padding,t=this._editor.getOption(50),n=this._editor.getOption(47),r=e.fontSize;(!r||r<5||r>t)&&(r=t);var l=e.fontFamily||n,c=!i&&l===n&&r===t;return{fontSize:r,fontFamily:l,padding:i,isUniform:c}}},{key:"_removeAllDecorations",value:function(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));var e=Object(B.a)(this._decorationsMetadata.values()),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;t.classNameRef.dispose()}}catch(n){e.e(n)}finally{e.f()}this._decorationsMetadata.clear()}}],[{key:"get",value:function(e){var i;return(i=e.getContribution(s.ID))!==null&&i!==void 0?i:void 0}}]),s}();Fh.ID="editor.contrib.InlayHints",Fh._MAX_DECORATORS=1500,Fh=uD([Vf(1,Nr.a),Vf(2,Ks.a),Vf(3,i0),Vf(4,ia.b),Vf(5,io.a),Vf(6,Ia.a)],Fh);function hD(s){var o="\xA0";return s.replace(/[ \t]/g,o)}ia.a.registerCommand("_executeInlayHintProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return Hf(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return n=e[0],r=e[1],Object(Yr.b)(Wr.a.isUri(n)),Object(Yr.b)(Dt.a.isIRange(r)),l=s.get(Nr.a),c=l.inlayHintsProvider,ie.next=6,s.get(Ur.a).createModelReference(n);case 6:return h=ie.sent,ie.prev=7,ie.next=10,t0.create(c,h.object.textEditorModel,[Dt.a.lift(r)],Zi.a.None);case 10:return f=ie.sent,R=f.items.map(function(je){return je.hint}),setTimeout(function(){return f.dispose()},0),ie.abrupt("return",R);case 14:return ie.prev=14,h.dispose(),ie.finish(14);case 17:case"end":return ie.stop()}},t,null,[[7,,14,17]])}))});var fD=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},qv=function(s,o){return function(e,i){o(e,i,s)}},r0=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},vD=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s[Symbol.asyncIterator],e;return o?o.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=s[n]&&function(r){return new Promise(function(l,c){r=s[n](r),t(l,c,r.done,r.value)})}}function t(n,r,l,c){Promise.resolve(c).then(function(h){n({value:h,done:l})},r)}},a0=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;return Object(k.a)(this,e),l=o.call(this,10,t,i.item.anchor.range,n,r,!0),l.part=i,l}return Object(w.a)(e)}(ht),$p=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c){var h;return Object(k.a)(this,e),h=o.call(this,i,t,n,r,c),h._resolverService=l,h.hoverOrdinal=6,h}return Object(w.a)(e,[{key:"suggestHoverAnchor",value:function(t){var n,r=Fh.get(this._editor);if(!r||t.target.type!==6)return null;var l=(n=t.target.detail.injectedText)===null||n===void 0?void 0:n.options;return l instanceof ti.a&&l.attachedData instanceof Gp?new a0(l.attachedData,this,t.event.posx,t.event.posy):null}},{key:"computeSync",value:function(){return[]}},{key:"computeAsync",value:function(t,n,r){var l=this;return t instanceof a0?new et.a(function(c){return r0(l,void 0,void 0,Object(d.a)().mark(function h(){var f,R,Z,ie,je,Ie,st,ft,kt,$t,un,Yn,xn,fi,Si;return Object(d.a)().wrap(function(Bi){for(;;)switch(Bi.prev=Bi.next){case 0:return je=t.part,Bi.next=3,je.item.resolve(r);case 3:if(!r.isCancellationRequested){Bi.next=5;break}return Bi.abrupt("return");case 5:return typeof je.item.hint.tooltip=="string"?Ie=new Qi.a().appendText(je.item.hint.tooltip):je.item.hint.tooltip&&(Ie=je.item.hint.tooltip),Ie&&c.emitOne(new $a(this,t.range,[Ie],!1,0)),Object(or.s)(je.item.hint.textEdits)&&c.emitOne(new $a(this,t.range,[new Qi.a().appendText(Object(Qe.b)("hint.dbl","Double-click to insert"))],!1,10001)),typeof je.part.tooltip=="string"?st=new Qi.a().appendText(je.part.tooltip):je.part.tooltip&&(st=je.part.tooltip),st&&c.emitOne(new $a(this,t.range,[st],!1,1)),(je.part.location||je.part.command)&&(kt=this._editor.getOption(75)==="altKey",$t=kt?Ut.i?Object(Qe.b)("links.navigate.kb.meta.mac","cmd + click"):Object(Qe.b)("links.navigate.kb.meta","ctrl + click"):Ut.i?Object(Qe.b)("links.navigate.kb.alt.mac","option + click"):Object(Qe.b)("links.navigate.kb.alt","alt + click"),je.part.location&&je.part.command?ft=new Qi.a().appendText(Object(Qe.b)("hint.defAndCommand","Go to Definition ({0}), right click for more",$t)):je.part.location?ft=new Qi.a().appendText(Object(Qe.b)("hint.def","Go to Definition ({0})",$t)):je.part.command&&(ft=new Qi.a("[".concat(Object(Qe.b)("hint.cmd","Execute Command"),"](").concat(sD(je.part.command),' "').concat(je.part.command.title,'") (').concat($t,")"),{isTrusted:!0})),ft&&c.emitOne(new $a(this,t.range,[ft],!1,1e4))),Bi.next=13,this._resolveInlayHintLabelPartHover(je,r);case 13:un=Bi.sent,Bi.prev=14,Yn=!0,xn=vD(un);case 16:return Bi.next=18,xn.next();case 18:if(fi=Bi.sent,f=fi.done,f){Bi.next=28;break}ie=fi.value,Yn=!1,Si=ie,c.emitOne(Si);case 25:Yn=!0,Bi.next=16;break;case 28:Bi.next=33;break;case 30:Bi.prev=30,Bi.t0=Bi.catch(14),R={error:Bi.t0};case 33:if(Bi.prev=33,Bi.prev=34,!(!Yn&&!f&&(Z=xn.return))){Bi.next=38;break}return Bi.next=38,Z.call(xn);case 38:if(Bi.prev=38,!R){Bi.next=41;break}throw R.error;case 41:return Bi.finish(38);case 42:return Bi.finish(33);case 43:case"end":return Bi.stop()}},h,this,[[14,30,33,43],[34,,38,42]])}))}):et.a.EMPTY}},{key:"_resolveInlayHintLabelPartHover",value:function(t,n){return r0(this,void 0,void 0,Object(d.a)().mark(function r(){var l=this,c,h,f,R,Z;return Object(d.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(t.part.location){je.next=2;break}return je.abrupt("return",et.a.EMPTY);case 2:return c=t.part.location,h=c.uri,f=c.range,je.next=5,this._resolverService.createModelReference(h);case 5:if(R=je.sent,je.prev=6,Z=R.object.textEditorModel,this._languageFeaturesService.hoverProvider.has(Z)){je.next=10;break}return je.abrupt("return",et.a.EMPTY);case 10:return je.abrupt("return",co(this._languageFeaturesService.hoverProvider,Z,new tn.a(f.startLineNumber,f.startColumn),n).filter(function(Ie){return!Object(Qi.c)(Ie.hover.contents)}).map(function(Ie){return new $a(l,t.item.anchor.range,Ie.hover.contents,!1,2+Ie.ordinal)}));case 11:return je.prev=11,R.dispose(),je.finish(11);case 14:case"end":return je.stop()}},r,this,[[6,,11,14]])}))}}]),e}(gs);$p=fD([qv(1,br.a),qv(2,Ea.a),qv(3,Po.a),qv(4,Ur.a),qv(5,Nr.a)],$p),Object(St.m)(Fh.ID,Fh,1),zt.register($p);var gD=function(){function s(o,e,i){Object(k.a)(this,s),this._editRange=o,this._originalSelection=e,this._text=i}return Object(w.a)(s,[{key:"getEditOperations",value:function(e,i){i.addTrackedEditOperation(this._editRange,this._text)}},{key:"computeCursorState",value:function(e,i){var t=i.getInverseEditOperations(),n=t[0].range;return this._originalSelection.isEmpty()?new Gi.a(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new Gi.a(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}]),s}(),iL=a("14gw"),mD=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},pD=function(s,o){return function(e,i){o(e,i,s)}},Hd=function(){function s(o,e){Object(k.a)(this,s),this.editor=o,this.editorWorkerService=e,this.decorations=this.editor.createDecorationsCollection()}return Object(w.a)(s,[{key:"dispose",value:function(){}},{key:"run",value:function(e,i){var t=this,n;(n=this.currentRequest)===null||n===void 0||n.cancel();var r=this.editor.getSelection(),l=this.editor.getModel();if(!(!l||!r)){var c=r;if(c.startLineNumber===c.endLineNumber){var h=new Qa.a(this.editor,1|4),f=l.uri;return this.editorWorkerService.canNavigateValueSet(f)?(this.currentRequest=Object(et.k)(function(R){return t.editorWorkerService.navigateValueSet(f,c,i)}),this.currentRequest.then(function(R){var Z;if(!(!R||!R.range||!R.value)&&!!h.validate(t.editor)){var ie=Dt.a.lift(R.range),je=R.range,Ie=R.value.length-(c.endColumn-c.startColumn);je={startLineNumber:je.startLineNumber,startColumn:je.startColumn,endLineNumber:je.endLineNumber,endColumn:je.startColumn+R.value.length},Ie>1&&(c=new Gi.a(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn+Ie-1));var st=new gD(ie,c,R.value);t.editor.pushUndoStop(),t.editor.executeCommand(e,st),t.editor.pushUndoStop(),t.decorations.set([{range:je,options:s.DECORATION}]),(Z=t.decorationRemover)===null||Z===void 0||Z.cancel(),t.decorationRemover=Object(et.q)(350),t.decorationRemover.then(function(){return t.decorations.clear()}).catch(zi.h)}}).catch(zi.h)):Promise.resolve(void 0)}}}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();Hd.ID="editor.contrib.inPlaceReplaceController",Hd.DECORATION=ti.b.register({description:"in-place-replace",className:"valueSetReplacement"}),Hd=mD([pD(1,Vv.a)],Hd);var bD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.inPlaceReplace.up",label:Qe.b("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|1024|87,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=Hd.get(n);return r?r.run(this.id,!1):Promise.resolve(void 0)}}]),e}(St.b),yD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.inPlaceReplace.down",label:Qe.b("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|1024|89,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=Hd.get(n);return r?r.run(this.id,!0):Promise.resolve(void 0)}}]),e}(St.b);Object(St.m)(Hd.ID,Hd,4),Object(St.k)(bD),Object(St.k)(yD);var Qp=a("sVcW"),_D=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"expandLineSelection",label:Qe.b("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:an.a.textInputFocus,primary:2048|42}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){if(r=r||{},!!n.hasModel()){var l=n._getViewModel();l.model.pushStackElement(),l.setCursorStates(r.source,3,Qp.b.expandLineSelection(l,l.getCursorStates())),l.revealPrimaryCursor(r.source,!0)}}}]),e}(St.b);Object(St.k)(_D);var CD=function(){function s(o,e){Object(k.a)(this,s),this._selection=o,this._cursors=e,this._selectionId=null}return Object(w.a)(s,[{key:"getEditOperations",value:function(e,i){for(var t=OD(e,this._cursors),n=0,r=t.length;n<r;n++){var l=t[n];i.addEditOperation(l.range,l.text)}this._selectionId=i.trackSelection(this._selection)}},{key:"computeCursorState",value:function(e,i){return i.getTrackedSelection(this._selectionId)}}]),s}();function OD(s,o){o.sort(function(je,Ie){return je.lineNumber===Ie.lineNumber?je.column-Ie.column:je.lineNumber-Ie.lineNumber});for(var e=o.length-2;e>=0;e--)o[e].lineNumber===o[e+1].lineNumber&&o.splice(e,1);for(var i=[],t=0,n=0,r=o.length,l=1,c=s.getLineCount();l<=c;l++){var h=s.getLineContent(l),f=h.length+1,R=0;if(!(n<r&&o[n].lineNumber===l&&(R=o[n].column,n++,R===f))&&h.length!==0){var Z=Vn.J(h),ie=0;if(Z===-1)ie=1;else if(Z!==h.length-1)ie=Z+2;else continue;ie=Math.max(R,ie),i[t++]=es.a.delete(new Dt.a(l,ie,l,f))}}return i}var Yp=a("HHK3"),o0=function(){function s(o,e,i){Object(k.a)(this,s),this._selection=o,this._isCopyingDown=e,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}return Object(w.a)(s,[{key:"getEditOperations",value:function(e,i){var t=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,t.startLineNumber<t.endLineNumber&&t.endColumn===1&&(this._endLineNumberDelta=1,t=t.setEndPosition(t.endLineNumber-1,e.getLineMaxColumn(t.endLineNumber-1)));for(var n=[],r=t.startLineNumber;r<=t.endLineNumber;r++)n.push(e.getLineContent(r));var l=n.join(`
`);l===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?i.addEditOperation(new Dt.a(t.endLineNumber,e.getLineMaxColumn(t.endLineNumber),t.endLineNumber+1,1),t.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?i.addEditOperation(new Dt.a(t.startLineNumber,1,t.startLineNumber,1),l+`
`):i.addEditOperation(new Dt.a(t.endLineNumber,e.getLineMaxColumn(t.endLineNumber),t.endLineNumber,e.getLineMaxColumn(t.endLineNumber)),`
`+l),this._selectionId=i.trackSelection(t),this._selectionDirection=this._selection.getDirection()}},{key:"computeCursorState",value:function(e,i){var t=i.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){var n=t.startLineNumber,r=t.startColumn,l=t.endLineNumber,c=t.endColumn;this._startLineNumberDelta!==0&&(n=n+this._startLineNumberDelta,r=1),this._endLineNumberDelta!==0&&(l=l+this._endLineNumberDelta,c=1),t=Gi.a.createWithDirection(n,r,l,c,this._selectionDirection)}return t}}]),s}(),lm=a("PXCW"),Zp=a("s3yj"),SD=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},kD=function(s,o){return function(e,i){o(e,i,s)}},Xp=function(){function s(o,e,i,t){Object(k.a)(this,s),this._languageConfigurationService=t,this._selection=o,this._isMovingDown=e,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}return Object(w.a)(s,[{key:"getEditOperations",value:function(e,i){var t=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===t){this._selectionId=i.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=i.trackSelection(this._selection);return}this._moveEndPositionDown=!1;var n=this._selection;n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));var r=e.getOptions(),l=r.tabSize,c=r.indentSize,h=r.insertSpaces,f=this.buildIndentConverter(l,c,h),R={tokenization:{getLineTokens:function(Io){return e.tokenization.getLineTokens(Io)},getLanguageId:function(){return e.getLanguageId()},getLanguageIdAtPosition:function(Io,au){return e.getLanguageIdAtPosition(Io,au)}},getLineContent:null};if(n.startLineNumber===n.endLineNumber&&e.getLineMaxColumn(n.startLineNumber)===1){var Z=n.startLineNumber,ie=this._isMovingDown?Z+1:Z-1;e.getLineMaxColumn(ie)===1?i.addEditOperation(new Dt.a(1,1,1,1),null):(i.addEditOperation(new Dt.a(Z,1,Z,1),e.getLineContent(ie)),i.addEditOperation(new Dt.a(ie,1,ie,e.getLineMaxColumn(ie)),null)),n=new Gi.a(ie,1,ie,1)}else{var je,Ie;if(this._isMovingDown){je=n.endLineNumber+1,Ie=e.getLineContent(je),i.addEditOperation(new Dt.a(je-1,e.getLineMaxColumn(je-1),je,e.getLineMaxColumn(je)),null);var st=Ie;if(this.shouldAutoIndent(e,n)){var ft=this.matchEnterRule(e,f,l,je,n.startLineNumber-1);if(ft!==null){var kt=Vn.x(e.getLineContent(je)),$t=ft+Bl(kt,l),un=Zv($t,l,h);st=un+this.trimLeft(Ie)}else{R.getLineContent=function(fo){return fo===n.startLineNumber?e.getLineContent(je):e.getLineContent(fo)};var Yn=Object(xh.a)(this._autoIndent,R,e.getLanguageIdAtPosition(je,1),n.startLineNumber,f,this._languageConfigurationService);if(Yn!==null){var xn=Vn.x(e.getLineContent(je)),fi=Bl(Yn,l),Si=Bl(xn,l);if(fi!==Si){var ji=Zv(fi,l,h);st=ji+this.trimLeft(Ie)}}}i.addEditOperation(new Dt.a(n.startLineNumber,1,n.startLineNumber,1),st+`
`);var Bi=this.matchEnterRuleMovingDown(e,f,l,n.startLineNumber,je,st);if(Bi!==null)Bi!==0&&this.getIndentEditsOfMovingBlock(e,i,n,l,h,Bi);else{R.getLineContent=function(fo){return fo===n.startLineNumber?st:fo>=n.startLineNumber+1&&fo<=n.endLineNumber+1?e.getLineContent(fo-1):e.getLineContent(fo)};var Lr=Object(xh.a)(this._autoIndent,R,e.getLanguageIdAtPosition(je,1),n.startLineNumber+1,f,this._languageConfigurationService);if(Lr!==null){var gr=Vn.x(e.getLineContent(n.startLineNumber)),jr=Bl(Lr,l),$r=Bl(gr,l);if(jr!==$r){var fa=jr-$r;this.getIndentEditsOfMovingBlock(e,i,n,l,h,fa)}}}}else i.addEditOperation(new Dt.a(n.startLineNumber,1,n.startLineNumber,1),st+`
`)}else if(je=n.startLineNumber-1,Ie=e.getLineContent(je),i.addEditOperation(new Dt.a(je,1,je+1,1),null),i.addEditOperation(new Dt.a(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),`
`+Ie),this.shouldAutoIndent(e,n)){R.getLineContent=function(fo){return fo===je?e.getLineContent(n.startLineNumber):e.getLineContent(fo)};var Fr=this.matchEnterRule(e,f,l,n.startLineNumber,n.startLineNumber-2);if(Fr!==null)Fr!==0&&this.getIndentEditsOfMovingBlock(e,i,n,l,h,Fr);else{var Aa=Object(xh.a)(this._autoIndent,R,e.getLanguageIdAtPosition(n.startLineNumber,1),je,f,this._languageConfigurationService);if(Aa!==null){var Oa=Vn.x(e.getLineContent(n.startLineNumber)),da=Bl(Aa,l),lo=Bl(Oa,l);if(da!==lo){var cs=da-lo;this.getIndentEditsOfMovingBlock(e,i,n,l,h,cs)}}}}}this._selectionId=i.trackSelection(n)}},{key:"buildIndentConverter",value:function(e,i,t){return{shiftIndent:function(r){return Wf.a.shiftIndent(r,r.length+1,e,i,t)},unshiftIndent:function(r){return Wf.a.unshiftIndent(r,r.length+1,e,i,t)}}}},{key:"parseEnterResult",value:function(e,i,t,n,r){if(r){var l=r.indentation;r.indentAction===lm.b.None||r.indentAction===lm.b.Indent?l=r.indentation+r.appendText:r.indentAction===lm.b.IndentOutdent?l=r.indentation:r.indentAction===lm.b.Outdent&&(l=i.unshiftIndent(r.indentation)+r.appendText);var c=e.getLineContent(n);if(this.trimLeft(c).indexOf(this.trimLeft(l))>=0){var h=Vn.x(e.getLineContent(n)),f=Vn.x(l),R=Object(xh.d)(e,n,this._languageConfigurationService);R!==null&&R&2&&(f=i.unshiftIndent(f));var Z=Bl(f,t),ie=Bl(h,t);return Z-ie}}return null}},{key:"matchEnterRuleMovingDown",value:function(e,i,t,n,r,l){if(Vn.J(l)>=0){var c=e.getLineMaxColumn(r),h=Object(Zp.a)(this._autoIndent,e,new Dt.a(r,c,r,c),this._languageConfigurationService);return this.parseEnterResult(e,i,t,n,h)}else{for(var f=n-1;f>=1;){var R=e.getLineContent(f),Z=Vn.J(R);if(Z>=0)break;f--}if(f<1||n>e.getLineCount())return null;var ie=e.getLineMaxColumn(f),je=Object(Zp.a)(this._autoIndent,e,new Dt.a(f,ie,f,ie),this._languageConfigurationService);return this.parseEnterResult(e,i,t,n,je)}}},{key:"matchEnterRule",value:function(e,i,t,n,r,l){for(var c=r;c>=1;){var h=void 0;c===r&&l!==void 0?h=l:h=e.getLineContent(c);var f=Vn.J(h);if(f>=0)break;c--}if(c<1||n>e.getLineCount())return null;var R=e.getLineMaxColumn(c),Z=Object(Zp.a)(this._autoIndent,e,new Dt.a(c,R,c,R),this._languageConfigurationService);return this.parseEnterResult(e,i,t,n,Z)}},{key:"trimLeft",value:function(e){return e.replace(/^\s+/,"")}},{key:"shouldAutoIndent",value:function(e,i){if(this._autoIndent<4||!e.tokenization.isCheapToTokenize(i.startLineNumber))return!1;var t=e.getLanguageIdAtPosition(i.startLineNumber,1),n=e.getLanguageIdAtPosition(i.endLineNumber,1);return!(t!==n||this._languageConfigurationService.getLanguageConfiguration(t).indentRulesSupport===null)}},{key:"getIndentEditsOfMovingBlock",value:function(e,i,t,n,r,l){for(var c=t.startLineNumber;c<=t.endLineNumber;c++){var h=e.getLineContent(c),f=Vn.x(h),R=Bl(f,n),Z=R+l,ie=Zv(Z,n,r);ie!==f&&(i.addEditOperation(new Dt.a(c,1,c,f.length+1),ie),c===t.endLineNumber&&t.endColumn<=f.length+1&&ie===""&&(this._moveEndLineSelectionShrink=!0))}}},{key:"computeCursorState",value:function(e,i){var t=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(t=t.setEndPosition(t.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&t.startLineNumber<t.endLineNumber&&(t=t.setEndPosition(t.endLineNumber,2)),t}}]),s}();Xp=SD([kD(3,Ro.a)],Xp);var um=function(){function s(o,e){Object(k.a)(this,s),this.selection=o,this.descending=e,this.selectionId=null}return Object(w.a)(s,[{key:"getEditOperations",value:function(e,i){var t=DD(e,this.selection,this.descending);t&&i.addEditOperation(t.range,t.text),this.selectionId=i.trackSelection(this.selection)}},{key:"computeCursorState",value:function(e,i){return i.getTrackedSelection(this.selectionId)}}],[{key:"getCollator",value:function(){return s._COLLATOR||(s._COLLATOR=new Intl.Collator),s._COLLATOR}},{key:"canRun",value:function(e,i,t){if(e===null)return!1;var n=s0(e,i,t);if(!n)return!1;for(var r=0,l=n.before.length;r<l;r++)if(n.before[r]!==n.after[r])return!0;return!1}}]),s}();um._COLLATOR=null;function s0(s,o,e){var i=o.startLineNumber,t=o.endLineNumber;if(o.endColumn===1&&t--,i>=t)return null;for(var n=[],r=i;r<=t;r++)n.push(s.getLineContent(r));var l=n.slice(0);return l.sort(um.getCollator().compare),e===!0&&(l=l.reverse()),{startLineNumber:i,endLineNumber:t,before:n,after:l}}function DD(s,o,e){var i=s0(s,o,e);return i?es.a.replace(new Dt.a(i.startLineNumber,1,i.endLineNumber,s.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}var l0=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this,t),n.down=i,n}return Object(w.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=n.getSelections().map(function(je,Ie){return{selection:je,index:Ie,ignore:!1}});r.sort(function(je,Ie){return Dt.a.compareRangesUsingStarts(je.selection,Ie.selection)});for(var l=r[0],c=1;c<r.length;c++){var h=r[c];l.selection.endLineNumber===h.selection.startLineNumber&&(l.index<h.index?h.ignore=!0:(l.ignore=!0,l=h))}var f=[],R=Object(B.a)(r),Z;try{for(R.s();!(Z=R.n()).done;){var ie=Z.value;f.push(new o0(ie.selection,this.down,ie.ignore))}}catch(je){R.e(je)}finally{R.f()}n.pushUndoStop(),n.executeCommands(this.id,f),n.pushUndoStop()}}}]),e}(St.b),wD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!1,{id:"editor.action.copyLinesUpAction",label:Qe.b("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"2_line",title:Qe.b({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}return Object(w.a)(e)}(l0),jD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!0,{id:"editor.action.copyLinesDownAction",label:Qe.b("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"2_line",title:Qe.b({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}return Object(w.a)(e)}(l0),ED=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.duplicateSelection",label:Qe.b("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:an.a.writable,menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"2_line",title:Qe.b({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=[],c=n.getSelections(),h=n.getModel(),f=Object(B.a)(c),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value;if(Z.isEmpty())l.push(new o0(Z,!0));else{var ie=new Gi.a(Z.endLineNumber,Z.endColumn,Z.endLineNumber,Z.endColumn);l.push(new ut.c(ie,h.getValueInRange(Z)))}}}catch(je){f.e(je)}finally{f.f()}n.pushUndoStop(),n.executeCommands(this.id,l),n.pushUndoStop()}}}]),e}(St.b),u0=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this,t),n.down=i,n}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=t.get(Ro.a),l=[],c=n.getSelections()||[],h=n.getOption(10),f=Object(B.a)(c),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value;l.push(new Xp(Z,this.down,h,r))}}catch(ie){f.e(ie)}finally{f.f()}n.pushUndoStop(),n.executeCommands(this.id,l),n.pushUndoStop()}}]),e}(St.b),LD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!1,{id:"editor.action.moveLinesUpAction",label:Qe.b("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"2_line",title:Qe.b({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}return Object(w.a)(e)}(u0),MD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!0,{id:"editor.action.moveLinesDownAction",label:Qe.b("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"2_line",title:Qe.b({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}return Object(w.a)(e)}(u0),c0=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this,t),n.descending=i,n}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=n.getSelections()||[],l=Object(B.a)(r),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;if(!um.canRun(n.getModel(),h,this.descending))return}}catch(ie){l.e(ie)}finally{l.f()}for(var f=[],R=0,Z=r.length;R<Z;R++)f[R]=new um(r[R],this.descending);n.pushUndoStop(),n.executeCommands(this.id,f),n.pushUndoStop()}}]),e}(St.b),TD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!1,{id:"editor.action.sortLinesAscending",label:Qe.b("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:an.a.writable})}return Object(w.a)(e)}(c0),ID=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!0,{id:"editor.action.sortLinesDescending",label:Qe.b("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:an.a.writable})}return Object(w.a)(e)}(c0),PD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.removeDuplicateLines",label:Qe.b("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:an.a.writable})}return Object(w.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=n.getModel();if(!(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)){var l=[],c=[],h=0,f=Object(B.a)(n.getSelections()),R;try{for(f.s();!(R=f.n()).done;){for(var Z=R.value,ie=new Set,je=[],Ie=Z.startLineNumber;Ie<=Z.endLineNumber;Ie++){var st=r.getLineContent(Ie);ie.has(st)||(je.push(st),ie.add(st))}var ft=new Gi.a(Z.startLineNumber,1,Z.endLineNumber,r.getLineMaxColumn(Z.endLineNumber)),kt=Z.startLineNumber-h,$t=new Gi.a(kt,1,kt+je.length-1,je[je.length-1].length);l.push(es.a.replace(ft,je.join(`
`))),c.push($t),h+=Z.endLineNumber-Z.startLineNumber+1-je.length}}catch(un){f.e(un)}finally{f.f()}n.pushUndoStop(),n.executeEdits(this.id,l,c),n.pushUndoStop()}}}}]),e}(St.b),d0=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,label:Qe.b("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:Object(mr.c)(2048|41,2048|54),weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){var l=[];r.reason==="auto-save"&&(l=(n.getSelections()||[]).map(function(f){return new tn.a(f.positionLineNumber,f.positionColumn)}));var c=n.getSelection();if(c!==null){var h=new CD(c,l);n.pushUndoStop(),n.executeCommands(this.id,[h]),n.pushUndoStop()}}}]),e}(St.b);d0.ID="editor.action.trimTrailingWhitespace";var AD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.deleteLines",label:Qe.b("lines.delete","Delete Line"),alias:"Delete Line",precondition:an.a.writable,kbOpts:{kbExpr:an.a.textInputFocus,primary:2048|1024|41,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=this._getLinesToRemove(n),l=n.getModel();if(!(l.getLineCount()===1&&l.getLineMaxColumn(1)===1)){for(var c=0,h=[],f=[],R=0,Z=r.length;R<Z;R++){var ie=r[R],je=ie.startLineNumber,Ie=ie.endLineNumber,st=1,ft=l.getLineMaxColumn(Ie);Ie<l.getLineCount()?(Ie+=1,ft=1):je>1&&(je-=1,st=l.getLineMaxColumn(je)),h.push(es.a.replace(new Gi.a(je,st,Ie,ft),"")),f.push(new Gi.a(je-c,ie.positionColumn,je-c,ie.positionColumn)),c+=ie.endLineNumber-ie.startLineNumber+1}n.pushUndoStop(),n.executeEdits(this.id,h,f),n.pushUndoStop()}}}},{key:"_getLinesToRemove",value:function(t){var n=t.getSelections().map(function(h){var f=h.endLineNumber;return h.startLineNumber<h.endLineNumber&&h.endColumn===1&&(f-=1),{startLineNumber:h.startLineNumber,selectionStartColumn:h.selectionStartColumn,endLineNumber:f,positionColumn:h.positionColumn}});n.sort(function(h,f){return h.startLineNumber===f.startLineNumber?h.endLineNumber-f.endLineNumber:h.startLineNumber-f.startLineNumber});for(var r=[],l=n[0],c=1;c<n.length;c++)l.endLineNumber+1>=n[c].startLineNumber?l.endLineNumber=n[c].endLineNumber:(r.push(l),l=n[c]);return r.push(l),r}}]),e}(St.b),RD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.indentLines",label:Qe.b("lines.indent","Indent Line"),alias:"Indent Line",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|94,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=n._getViewModel();!r||(n.pushUndoStop(),n.executeCommands(this.id,Yp.b.indent(r.cursorConfig,n.getModel(),n.getSelections())),n.pushUndoStop())}}]),e}(St.b),ND=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.outdentLines",label:Qe.b("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|92,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){Ci.a.Outdent.runEditorCommand(t,n,null)}}]),e}(St.b),xD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.insertLineBefore",label:Qe.b("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|1024|3,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=n._getViewModel();!r||(n.pushUndoStop(),n.executeCommands(this.id,Yp.b.lineInsertBefore(r.cursorConfig,n.getModel(),n.getSelections())))}}]),e}(St.b),FD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.insertLineAfter",label:Qe.b("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|3,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=n._getViewModel();!r||(n.pushUndoStop(),n.executeCommands(this.id,Yp.b.lineInsertAfter(r.cursorConfig,n.getModel(),n.getSelections())))}}]),e}(St.b),h0=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){for(var r=n.getSelection(),l=this._getRangesToDelete(n),c=[],h=0,f=l.length-1;h<f;h++){var R=l[h],Z=l[h+1];Dt.a.intersectRanges(R,Z)===null?c.push(R):l[h+1]=Dt.a.plusRange(R,Z)}c.push(l[l.length-1]);var ie=this._getEndCursorState(r,c),je=c.map(function(Ie){return es.a.replace(Ie,"")});n.pushUndoStop(),n.executeEdits(this.id,je,ie),n.pushUndoStop()}}}]),e}(St.b),BD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"deleteAllLeft",label:Qe.b("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:an.a.writable,kbOpts:{kbExpr:an.a.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}return Object(w.a)(e,[{key:"_getEndCursorState",value:function(t,n){var r=null,l=[],c=0;return n.forEach(function(h){var f;if(h.endColumn===1&&c>0){var R=h.startLineNumber-c;f=new Gi.a(R,h.startColumn,R,h.startColumn)}else f=new Gi.a(h.startLineNumber,h.startColumn,h.startLineNumber,h.startColumn);c+=h.endLineNumber-h.startLineNumber,h.intersectRanges(t)?r=f:l.push(f)}),r&&l.unshift(r),l}},{key:"_getRangesToDelete",value:function(t){var n=t.getSelections();if(n===null)return[];var r=n,l=t.getModel();return l===null?[]:(r.sort(Dt.a.compareRangesUsingStarts),r=r.map(function(c){if(c.isEmpty())if(c.startColumn===1){var h=Math.max(1,c.startLineNumber-1),f=c.startLineNumber===1?1:l.getLineContent(h).length+1;return new Dt.a(h,f,c.startLineNumber,1)}else return new Dt.a(c.startLineNumber,1,c.startLineNumber,c.startColumn);else return new Dt.a(c.startLineNumber,1,c.endLineNumber,c.endColumn)}),r)}}]),e}(h0),WD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"deleteAllRight",label:Qe.b("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:an.a.writable,kbOpts:{kbExpr:an.a.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}return Object(w.a)(e,[{key:"_getEndCursorState",value:function(t,n){for(var r=null,l=[],c=0,h=n.length,f=0;c<h;c++){var R=n[c],Z=new Gi.a(R.startLineNumber-f,R.startColumn,R.startLineNumber-f,R.startColumn);R.intersectRanges(t)?r=Z:l.push(Z)}return r&&l.unshift(r),l}},{key:"_getRangesToDelete",value:function(t){var n=t.getModel();if(n===null)return[];var r=t.getSelections();if(r===null)return[];var l=r.map(function(c){if(c.isEmpty()){var h=n.getLineMaxColumn(c.startLineNumber);return c.startColumn===h?new Dt.a(c.startLineNumber,c.startColumn,c.startLineNumber+1,1):new Dt.a(c.startLineNumber,c.startColumn,c.startLineNumber,h)}return c});return l.sort(Dt.a.compareRangesUsingStarts),l}}]),e}(h0),VD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.joinLines",label:Qe.b("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:an.a.writable,kbOpts:{kbExpr:an.a.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=n.getSelections();if(r!==null){var l=n.getSelection();if(l!==null){r.sort(Dt.a.compareRangesUsingStarts);var c=[],h=r.reduce(function(Aa,Oa){return Aa.isEmpty()?Aa.endLineNumber===Oa.startLineNumber?(l.equalsSelection(Aa)&&(l=Oa),Oa):Oa.startLineNumber>Aa.endLineNumber+1?(c.push(Aa),Oa):new Gi.a(Aa.startLineNumber,Aa.startColumn,Oa.endLineNumber,Oa.endColumn):Oa.startLineNumber>Aa.endLineNumber?(c.push(Aa),Oa):new Gi.a(Aa.startLineNumber,Aa.startColumn,Oa.endLineNumber,Oa.endColumn)});c.push(h);var f=n.getModel();if(f!==null){for(var R=[],Z=[],ie=l,je=0,Ie=0,st=c.length;Ie<st;Ie++){var ft=c[Ie],kt=ft.startLineNumber,$t=1,un=0,Yn=void 0,xn=void 0,fi=f.getLineContent(ft.endLineNumber).length-ft.endColumn;if(ft.isEmpty()||ft.startLineNumber===ft.endLineNumber){var Si=ft.getStartPosition();Si.lineNumber<f.getLineCount()?(Yn=kt+1,xn=f.getLineMaxColumn(Yn)):(Yn=Si.lineNumber,xn=f.getLineMaxColumn(Si.lineNumber))}else Yn=ft.endLineNumber,xn=f.getLineMaxColumn(Yn);for(var ji=f.getLineContent(kt),Bi=kt+1;Bi<=Yn;Bi++){var Lr=f.getLineContent(Bi),gr=f.getLineFirstNonWhitespaceColumn(Bi);if(gr>=1){var jr=!0;ji===""&&(jr=!1),jr&&(ji.charAt(ji.length-1)===" "||ji.charAt(ji.length-1)==="	")&&(jr=!1,ji=ji.replace(/[\s\uFEFF\xA0]+$/g," "));var $r=Lr.substr(gr-1);ji+=(jr?" ":"")+$r,jr?un=$r.length+1:un=$r.length}else un=0}var fa=new Dt.a(kt,$t,Yn,xn);if(!fa.isEmpty()){var Fr=void 0;ft.isEmpty()?(R.push(es.a.replace(fa,ji)),Fr=new Gi.a(fa.startLineNumber-je,ji.length-un+1,kt-je,ji.length-un+1)):ft.startLineNumber===ft.endLineNumber?(R.push(es.a.replace(fa,ji)),Fr=new Gi.a(ft.startLineNumber-je,ft.startColumn,ft.endLineNumber-je,ft.endColumn)):(R.push(es.a.replace(fa,ji)),Fr=new Gi.a(ft.startLineNumber-je,ft.startColumn,ft.startLineNumber-je,ji.length-fi)),Dt.a.intersectRanges(fa,l)!==null?ie=Fr:Z.push(Fr)}je+=fa.endLineNumber-fa.startLineNumber}Z.unshift(ie),n.pushUndoStop(),n.executeEdits(this.id,R,Z),n.pushUndoStop()}}}}}]),e}(St.b),HD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.transpose",label:Qe.b("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:an.a.writable})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=n.getSelections();if(r!==null){var l=n.getModel();if(l!==null){for(var c=[],h=0,f=r.length;h<f;h++){var R=r[h];if(!!R.isEmpty()){var Z=R.getStartPosition(),ie=l.getLineMaxColumn(Z.lineNumber);if(Z.column>=ie){if(Z.lineNumber===l.getLineCount())continue;var je=new Dt.a(Z.lineNumber,Math.max(1,Z.column-1),Z.lineNumber+1,1),Ie=l.getValueInRange(je).split("").reverse().join("");c.push(new ut.a(new Gi.a(Z.lineNumber,Math.max(1,Z.column-1),Z.lineNumber+1,1),Ie))}else{var st=new Dt.a(Z.lineNumber,Math.max(1,Z.column-1),Z.lineNumber,Z.column+1),ft=l.getValueInRange(st).split("").reverse().join("");c.push(new ut.b(st,ft,new Gi.a(Z.lineNumber,Z.column+1,Z.lineNumber,Z.column+1)))}}}n.pushUndoStop(),n.executeCommands(this.id,c),n.pushUndoStop()}}}}]),e}(St.b),Uf=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=n.getSelections();if(r!==null){var l=n.getModel();if(l!==null){var c=n.getOption(126),h=[],f=Object(B.a)(r),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value;if(Z.isEmpty()){var ie=Z.getStartPosition(),je=n.getConfiguredWordAtPosition(ie);if(!je)continue;var Ie=new Dt.a(ie.lineNumber,je.startColumn,ie.lineNumber,je.endColumn),st=l.getValueInRange(Ie);h.push(es.a.replace(Ie,this._modifyText(st,c)))}else{var ft=l.getValueInRange(Z);h.push(es.a.replace(Z,this._modifyText(ft,c)))}}}catch(kt){f.e(kt)}finally{f.f()}n.pushUndoStop(),n.executeEdits(this.id,h),n.pushUndoStop()}}}}]),e}(St.b),UD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.transformToUppercase",label:Qe.b("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:an.a.writable})}return Object(w.a)(e,[{key:"_modifyText",value:function(t,n){return t.toLocaleUpperCase()}}]),e}(Uf),zD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.transformToLowercase",label:Qe.b("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:an.a.writable})}return Object(w.a)(e,[{key:"_modifyText",value:function(t,n){return t.toLocaleLowerCase()}}]),e}(Uf),Bh=function(){function s(o,e){Object(k.a)(this,s),this._pattern=o,this._flags=e,this._actual=null,this._evaluated=!1}return Object(w.a)(s,[{key:"get",value:function(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}},{key:"isSupported",value:function(){return this.get()!==null}}]),s}(),Jp=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.transformToTitlecase",label:Qe.b("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:an.a.writable})}return Object(w.a)(e,[{key:"_modifyText",value:function(t,n){var r=e.titleBoundary.get();return r?t.toLocaleLowerCase().replace(r,function(l){return l.toLocaleUpperCase()}):t}}]),e}(Uf);Jp.titleBoundary=new Bh("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");var eg=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.transformToSnakecase",label:Qe.b("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:an.a.writable})}return Object(w.a)(e,[{key:"_modifyText",value:function(t,n){var r=e.caseBoundary.get(),l=e.singleLetters.get();return!r||!l?t:t.replace(r,"$1_$2").replace(l,"$1_$2$3").toLocaleLowerCase()}}]),e}(Uf);eg.caseBoundary=new Bh("(\\p{Ll})(\\p{Lu})","gmu"),eg.singleLetters=new Bh("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");var qp=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.transformToCamelcase",label:Qe.b("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:an.a.writable})}return Object(w.a)(e,[{key:"_modifyText",value:function(t,n){var r=e.wordBoundary.get();if(!r)return t;var l=t.split(r),c=l.shift();return c+l.map(function(h){return h.substring(0,1).toLocaleUpperCase()+h.substring(1)}).join("")}}]),e}(Uf);qp.wordBoundary=new Bh("[_\\s-]","gm");var tg=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.transformToKebabcase",label:Qe.b("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:an.a.writable})}return Object(w.a)(e,[{key:"_modifyText",value:function(t,n){var r=e.caseBoundary.get(),l=e.singleLetters.get(),c=e.underscoreBoundary.get();return!r||!l||!c?t:t.replace(c,"$1-$3").replace(r,"$1-$2").replace(l,"$1-$2").toLocaleLowerCase()}}],[{key:"isSupported",value:function(){var t=[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(function(n){return n.isSupported()});return t}}]),e}(Uf);tg.caseBoundary=new Bh("(\\p{Ll})(\\p{Lu})","gmu"),tg.singleLetters=new Bh("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),tg.underscoreBoundary=new Bh("(\\S)(_)(\\S)","gm"),Object(St.k)(wD),Object(St.k)(jD),Object(St.k)(ED),Object(St.k)(LD),Object(St.k)(MD),Object(St.k)(TD),Object(St.k)(ID),Object(St.k)(PD),Object(St.k)(d0),Object(St.k)(AD),Object(St.k)(RD),Object(St.k)(ND),Object(St.k)(xD),Object(St.k)(FD),Object(St.k)(BD),Object(St.k)(WD),Object(St.k)(VD),Object(St.k)(HD),Object(St.k)(UD),Object(St.k)(zD),eg.caseBoundary.isSupported()&&eg.singleLetters.isSupported()&&Object(St.k)(eg),qp.wordBoundary.isSupported()&&Object(St.k)(qp),Jp.titleBoundary.isSupported()&&Object(St.k)(Jp),tg.isSupported()&&Object(St.k)(tg);var rL=a("StRq"),KD=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},cm=function(s,o){return function(e,i){o(e,i,s)}},eb=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},f0=new Jn.c("LinkedEditingInputVisible",!1),GD="linked-editing-decoration",Ud=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l){var c;return Object(k.a)(this,e),c=o.call(this),c.languageConfigurationService=r,c._syncRangesToken=0,c._localToDispose=c._register(new Ze.c),c._editor=i,c._providers=n.linkedEditingRangeProvider,c._enabled=!1,c._visibleContextKey=f0.bindTo(t),c._debounceInformation=l.for(c._providers,"Linked Editing",{max:200}),c._currentDecorations=c._editor.createDecorationsCollection(),c._languageWordPattern=null,c._currentWordPattern=null,c._ignoreChangeEvent=!1,c._localToDispose=c._register(new Ze.c),c._rangeUpdateTriggerPromise=null,c._rangeSyncTriggerPromise=null,c._currentRequest=null,c._currentRequestPosition=null,c._currentRequestModelVersion=null,c._register(c._editor.onDidChangeModel(function(){return c.reinitialize(!0)})),c._register(c._editor.onDidChangeConfiguration(function(h){(h.hasChanged(67)||h.hasChanged(89))&&c.reinitialize(!1)})),c._register(c._providers.onDidChange(function(){return c.reinitialize(!1)})),c._register(c._editor.onDidChangeModelLanguage(function(){return c.reinitialize(!0)})),c.reinitialize(!0),c}return Object(w.a)(e,[{key:"reinitialize",value:function(t){var n=this,r=this._editor.getModel(),l=r!==null&&(this._editor.getOption(67)||this._editor.getOption(89))&&this._providers.has(r);if(!(l===this._enabled&&!t)&&(this._enabled=l,this.clearRanges(),this._localToDispose.clear(),!(!l||r===null))){this._localToDispose.add(rr.c.runAndSubscribe(r.onDidChangeLanguageConfiguration,function(){n._languageWordPattern=n.languageConfigurationService.getLanguageConfiguration(r.getLanguageId()).getWordDefinition()}));var c=new et.c(this._debounceInformation.get(r)),h=function(){var ie;n._rangeUpdateTriggerPromise=c.trigger(function(){return n.updateRanges()},(ie=n._debounceDuration)!==null&&ie!==void 0?ie:n._debounceInformation.get(r))},f=new et.c(0),R=function(ie){n._rangeSyncTriggerPromise=f.trigger(function(){return n._syncRanges(ie)})};this._localToDispose.add(this._editor.onDidChangeCursorPosition(function(){h()})),this._localToDispose.add(this._editor.onDidChangeModelContent(function(Z){if(!n._ignoreChangeEvent&&n._currentDecorations.length>0){var ie=n._currentDecorations.getRange(0);if(ie&&Z.changes.every(function(je){return ie.intersectRanges(je.range)})){R(n._syncRangesToken);return}}h()})),this._localToDispose.add({dispose:function(){c.dispose(),f.dispose()}}),this.updateRanges()}}},{key:"_syncRanges",value:function(t){if(!(!this._editor.hasModel()||t!==this._syncRangesToken||this._currentDecorations.length===0)){var n=this._editor.getModel(),r=this._currentDecorations.getRange(0);if(!r||r.startLineNumber!==r.endLineNumber)return this.clearRanges();var l=n.getValueInRange(r);if(this._currentWordPattern){var c=l.match(this._currentWordPattern),h=c?c[0].length:0;if(h!==l.length)return this.clearRanges()}for(var f=[],R=1,Z=this._currentDecorations.length;R<Z;R++){var ie=this._currentDecorations.getRange(R);if(!!ie)if(ie.startLineNumber!==ie.endLineNumber)f.push({range:ie,text:l});else{var je=n.getValueInRange(ie),Ie=l,st=ie.startColumn,ft=ie.endColumn,kt=Vn.f(je,Ie);st+=kt,je=je.substr(kt),Ie=Ie.substr(kt);var $t=Vn.g(je,Ie);ft-=$t,je=je.substr(0,je.length-$t),Ie=Ie.substr(0,Ie.length-$t),(st!==ft||Ie.length!==0)&&f.push({range:new Dt.a(ie.startLineNumber,st,ie.endLineNumber,ft),text:Ie})}}if(f.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;var un=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",f),this._editor._getViewModel().setPrevEditOperationType(un)}finally{this._ignoreChangeEvent=!1}}}},{key:"dispose",value:function(){this.clearRanges(),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"clearRanges",value:function(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}},{key:"updateRanges",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return eb(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this,l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(this._editor.hasModel()){ie.next=3;break}return this.clearRanges(),ie.abrupt("return");case 3:if(l=this._editor.getPosition(),!(!this._enabled&&!t||this._editor.getSelections().length>1)){ie.next=7;break}return this.clearRanges(),ie.abrupt("return");case 7:if(c=this._editor.getModel(),h=c.getVersionId(),!(this._currentRequestPosition&&this._currentRequestModelVersion===h)){ie.next=16;break}if(!l.equals(this._currentRequestPosition)){ie.next=12;break}return ie.abrupt("return");case 12:if(!(this._currentDecorations.length>0)){ie.next=16;break}if(f=this._currentDecorations.getRange(0),!(f&&f.containsPosition(l))){ie.next=16;break}return ie.abrupt("return");case 16:return this.clearRanges(),this._currentRequestPosition=l,this._currentRequestModelVersion=h,R=Object(et.k)(function(je){return eb(r,void 0,void 0,Object(d.a)().mark(function Ie(){var st,ft,kt,$t,un,Yn,xn,fi;return Object(d.a)().wrap(function(ji){for(;;)switch(ji.prev=ji.next){case 0:return ji.prev=0,st=new Ds.a(!1),ji.next=4,v0(this._providers,c,l,je);case 4:if(ft=ji.sent,this._debounceInformation.update(c,st.elapsed()),R===this._currentRequest){ji.next=8;break}return ji.abrupt("return");case 8:if(this._currentRequest=null,h===c.getVersionId()){ji.next=11;break}return ji.abrupt("return");case 11:kt=[],(ft==null?void 0:ft.ranges)&&(kt=ft.ranges),this._currentWordPattern=(ft==null?void 0:ft.wordPattern)||this._languageWordPattern,$t=!1,un=0,Yn=kt.length;case 16:if(!(un<Yn)){ji.next=24;break}if(!Dt.a.containsPosition(kt[un],l)){ji.next=21;break}return $t=!0,un!==0&&(xn=kt[un],kt.splice(un,1),kt.unshift(xn)),ji.abrupt("break",24);case 21:un++,ji.next=16;break;case 24:if($t){ji.next=27;break}return this.clearRanges(),ji.abrupt("return");case 27:fi=kt.map(function(Bi){return{range:Bi,options:e.DECORATION}}),this._visibleContextKey.set(!0),this._currentDecorations.set(fi),this._syncRangesToken++,ji.next=37;break;case 33:ji.prev=33,ji.t0=ji.catch(0),Object(zi.g)(ji.t0)||Object(zi.h)(ji.t0),(this._currentRequest===R||!this._currentRequest)&&this.clearRanges();case 37:case"end":return ji.stop()}},Ie,this,[[0,33]])}))}),this._currentRequest=R,ie.abrupt("return",R);case 22:case"end":return ie.stop()}},n,this)}))}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);Ud.ID="editor.contrib.linkedEditing",Ud.DECORATION=ti.b.register({description:"linked-editing",stickiness:0,className:GD}),Ud=KD([cm(1,Jn.b),cm(2,Nr.a),cm(3,Ro.a),cm(4,Ks.a)],Ud);var $D=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.linkedEditing",label:Qe.b("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:Jn.a.and(an.a.writable,an.a.hasRenameProvider),kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|1024|60,weight:100}})}return Object(w.a)(e,[{key:"runCommand",value:function(t,n){var r=this,l=t.get(In.a),c=Array.isArray(n)&&n||[void 0,void 0],h=Object(z.a)(c,2),f=h[0],R=h[1];return Wr.a.isUri(f)&&tn.a.isIPosition(R)?l.openCodeEditor({resource:f},l.getActiveCodeEditor()).then(function(Z){!Z||(Z.setPosition(R),Z.invokeWithinContext(function(ie){return r.reportTelemetry(ie,Z),r.run(ie,Z)}))},zi.h):Object(yi.a)(Object(vi.a)(e.prototype),"runCommand",this).call(this,t,n)}},{key:"run",value:function(t,n){var r=Ud.get(n);return r?Promise.resolve(r.updateRanges(!0)):Promise.resolve()}}]),e}(St.b),QD=St.d.bindToContribution(Ud.get);Object(St.l)(new QD({id:"cancelLinkedEditingInput",precondition:f0,handler:function(o){return o.clearRanges()},kbOpts:{kbExpr:an.a.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function v0(s,o,e,i){var t=this,n=s.ordered(o);return Object(et.m)(n.map(function(r){return function(){return eb(t,void 0,void 0,Object(d.a)().mark(function l(){return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,r.provideLinkedEditingRanges(o,e,i);case 3:return h.abrupt("return",h.sent);case 6:return h.prev=6,h.t0=h.catch(0),Object(zi.i)(h.t0),h.abrupt("return",void 0);case 10:case"end":return h.stop()}},l,null,[[0,6]])}))}}),function(r){return!!r&&or.s(r==null?void 0:r.ranges)})}var aL=Object(Vt.Fc)("editor.linkedEditingBackground",{dark:ja.a.fromHex("#f00").transparent(.3),light:ja.a.fromHex("#f00").transparent(.3),hcDark:ja.a.fromHex("#f00").transparent(.3),hcLight:ja.a.white},Qe.b("editorLinkedEditingBackground","Background color when the editor auto renames on type."));Object(St.o)("_executeLinkedEditingProvider",function(s,o,e){var i=s.get(Nr.a),t=i.linkedEditingRangeProvider;return v0(t,o,e,Zi.a.None)}),Object(St.m)(Ud.ID,Ud,1),Object(St.k)($D);var oL=a("tvLE"),g0=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},YD=function(){function s(o,e){Object(k.a)(this,s),this._link=o,this._provider=e}return Object(w.a)(s,[{key:"toJSON",value:function(){return{range:this.range,url:this.url,tooltip:this.tooltip}}},{key:"range",get:function(){return this._link.range}},{key:"url",get:function(){return this._link.url}},{key:"tooltip",get:function(){return this._link.tooltip}},{key:"resolve",value:function(e){return g0(this,void 0,void 0,Object(d.a)().mark(function i(){var t=this;return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this._link.url){r.next=2;break}return r.abrupt("return",this._link.url);case 2:if(typeof this._provider.resolveLink!="function"){r.next=4;break}return r.abrupt("return",Promise.resolve(this._provider.resolveLink(this._link,e)).then(function(l){return t._link=l||t._link,t._link.url?t.resolve(e):Promise.reject(new Error("missing"))}));case 4:return r.abrupt("return",Promise.reject(new Error("missing")));case 5:case"end":return r.stop()}},i,this)}))}}]),s}(),m0=function(){function s(o){var e=this;Object(k.a)(this,s),this._disposables=new Ze.c;var i=[],t=Object(B.a)(o),n;try{var r=function(){var h=n.value;l=Object(z.a)(h,2);var f=l[0],R=l[1],Z=f.links.map(function(ie){return new YD(ie,R)});i=s._union(i,Z),Object(Ze.j)(f)&&e._disposables.add(f)};for(t.s();!(n=t.n()).done;){var l;r()}}catch(c){t.e(c)}finally{t.f()}this.links=i}return Object(w.a)(s,[{key:"dispose",value:function(){this._disposables.dispose(),this.links.length=0}}],[{key:"_union",value:function(e,i){var t=[],n,r,l,c;for(n=0,l=0,r=e.length,c=i.length;n<r&&l<c;){var h=e[n],f=i[l];if(Dt.a.areIntersectingOrTouching(h.range,f.range)){n++;continue}var R=Dt.a.compareRangesUsingStarts(h.range,f.range);R<0?(t.push(h),n++):(t.push(f),l++)}for(;n<r;n++)t.push(e[n]);for(;l<c;l++)t.push(i[l]);return t}}]),s}();function p0(s,o,e){var i=[],t=s.ordered(o).reverse().map(function(n,r){return Promise.resolve(n.provideLinks(o,e)).then(function(l){l&&(i[r]=[l,n])},zi.i)});return Promise.all(t).then(function(){var n=new m0(Object(or.f)(i));return e.isCancellationRequested?(n.dispose(),new m0([])):n})}ia.a.registerCommand("_executeLinkProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return g0(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R,Z;return Object(d.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(n=e[0],r=e[1],Object(Yr.b)(n instanceof Wr.a),typeof r!="number"&&(r=0),l=s.get(Nr.a),c=l.linkProvider,h=s.get(xa.a).getModel(n),h){je.next=7;break}return je.abrupt("return",[]);case 7:return je.next=9,p0(c,h,Zi.a.None);case 9:if(f=je.sent,f){je.next=12;break}return je.abrupt("return",[]);case 12:R=0;case 13:if(!(R<Math.min(r,f.links.length))){je.next=19;break}return je.next=16,f.links[R].resolve(Zi.a.None);case 16:R++,je.next=13;break;case 19:return Z=f.links.slice(0),f.dispose(),je.abrupt("return",Z);case 22:case"end":return je.stop()}},t)}))});var ZD=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},dm=function(s,o){return function(e,i){o(e,i,s)}},XD=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},zf=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l){var c;Object(k.a)(this,e),c=o.call(this),c.editor=i,c.openerService=t,c.notificationService=n,c.languageFeaturesService=r,c.providers=c.languageFeaturesService.linkProvider,c.debounceInformation=l.for(c.providers,"Links",{min:1e3,max:4e3}),c.computeLinks=c._register(new et.g(function(){return c.computeLinksNow()},1e3)),c.computePromise=null,c.activeLinksList=null,c.currentOccurrences={},c.activeLinkDecorationId=null;var h=c._register(new So(i));return c._register(h.onMouseMoveOrRelevantKeyDown(function(f){var R=Object(z.a)(f,2),Z=R[0],ie=R[1];c._onEditorMouseMove(Z,ie)})),c._register(h.onExecute(function(f){c.onEditorMouseUp(f)})),c._register(h.onCancel(function(f){c.cleanUpActiveLinkDecoration()})),c._register(i.onDidChangeConfiguration(function(f){!f.hasChanged(68)||(c.updateDecorations([]),c.stop(),c.computeLinks.schedule(0))})),c._register(i.onDidChangeModelContent(function(f){!c.editor.hasModel()||c.computeLinks.schedule(c.debounceInformation.get(c.editor.getModel()))})),c._register(i.onDidChangeModel(function(f){c.currentOccurrences={},c.activeLinkDecorationId=null,c.stop(),c.computeLinks.schedule(0)})),c._register(i.onDidChangeModelLanguage(function(f){c.stop(),c.computeLinks.schedule(0)})),c._register(c.providers.onDidChange(function(f){c.stop(),c.computeLinks.schedule(0)})),c.computeLinks.schedule(0),c}return Object(w.a)(e,[{key:"computeLinksNow",value:function(){return XD(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(!this.editor.hasModel()||!this.editor.getOption(68))){h.next=2;break}return h.abrupt("return");case 2:if(r=this.editor.getModel(),this.providers.has(r)){h.next=5;break}return h.abrupt("return");case 5:return this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=Object(et.k)(function(f){return p0(n.providers,r,f)}),h.prev=7,l=new Ds.a(!1),h.next=11,this.computePromise;case 11:if(this.activeLinksList=h.sent,this.debounceInformation.update(r,l.elapsed()),!r.isDisposed()){h.next=15;break}return h.abrupt("return");case 15:this.updateDecorations(this.activeLinksList.links),h.next=21;break;case 18:h.prev=18,h.t0=h.catch(7),Object(zi.h)(h.t0);case 21:return h.prev=21,this.computePromise=null,h.finish(21);case 24:case"end":return h.stop()}},t,this,[[7,18,21,24]])}))}},{key:"updateDecorations",value:function(t){for(var n=this,r=this.editor.getOption(75)==="altKey",l=[],c=Object.keys(this.currentOccurrences),h=0,f=c;h<f.length;h++){var R=f[h],Z=this.currentOccurrences[R];l.push(Z.decorationId)}var ie=[];if(t){var je=Object(B.a)(t),Ie;try{for(je.s();!(Ie=je.n()).done;){var st=Ie.value;ie.push(y0.decoration(st,r))}}catch(ft){je.e(ft)}finally{je.f()}}this.editor.changeDecorations(function(ft){var kt=ft.deltaDecorations(l,ie);n.currentOccurrences={},n.activeLinkDecorationId=null;for(var $t=0,un=kt.length;$t<un;$t++){var Yn=new y0(t[$t],kt[$t]);n.currentOccurrences[Yn.decorationId]=Yn}})}},{key:"_onEditorMouseMove",value:function(t,n){var r=this,l=this.editor.getOption(75)==="altKey";if(this.isEnabled(t,n)){this.cleanUpActiveLinkDecoration();var c=this.getLinkOccurrence(t.target.position);c&&this.editor.changeDecorations(function(h){c.activate(h,l),r.activeLinkDecorationId=c.decorationId})}else this.cleanUpActiveLinkDecoration()}},{key:"cleanUpActiveLinkDecoration",value:function(){var t=this.editor.getOption(75)==="altKey";if(this.activeLinkDecorationId){var n=this.currentOccurrences[this.activeLinkDecorationId];n&&this.editor.changeDecorations(function(r){n.deactivate(r,t)}),this.activeLinkDecorationId=null}}},{key:"onEditorMouseUp",value:function(t){if(!!this.isEnabled(t)){var n=this.getLinkOccurrence(t.target.position);!n||this.openLinkOccurrence(n,t.hasSideBySideModifier,!0)}}},{key:"openLinkOccurrence",value:function(t,n){var r=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!!this.openerService){var c=t.link;c.resolve(Zi.a.None).then(function(h){if(typeof h=="string"&&r.editor.hasModel()){var f=r.editor.getModel().uri;if(f.scheme===ql.c.file&&h.startsWith("".concat(ql.c.file,":"))){var R=Wr.a.parse(h);if(R.scheme===ql.c.file){var Z=Za.j(R),ie=null;Z.startsWith("/./")?ie=".".concat(Z.substr(1)):Z.startsWith("//./")&&(ie=".".concat(Z.substr(2))),ie&&(h=Za.h(f,ie))}}}return r.openerService.open(h,{openToSide:n,fromUserGesture:l,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},function(h){var f=h instanceof Error?h.message:h;f==="invalid"?r.notificationService.warn(Qe.b("invalid.url","Failed to open this link because it is not well-formed: {0}",c.url.toString())):f==="missing"?r.notificationService.warn(Qe.b("missing.url","Failed to open this link because its target is missing.")):Object(zi.h)(h)})}}},{key:"getLinkOccurrence",value:function(t){if(!this.editor.hasModel()||!t)return null;var n=this.editor.getModel().getDecorationsInRange({startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column},0,!0),r=Object(B.a)(n),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=this.currentOccurrences[c.id];if(h)return h}}catch(f){r.e(f)}finally{r.f()}return null}},{key:"isEnabled",value:function(t,n){return Boolean(t.target.type===6&&(t.hasTriggerModifier||n&&n.keyCodeIsTriggerKey))}},{key:"stop",value:function(){var t;this.computeLinks.cancel(),this.activeLinksList&&((t=this.activeLinksList)===null||t===void 0||t.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}},{key:"dispose",value:function(){Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this),this.stop()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);zf.ID="editor.linkDetector",zf=ZD([dm(1,Ea.a),dm(2,io.a),dm(3,Nr.a),dm(4,Ks.a)],zf);var b0={general:ti.b.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:ti.b.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},y0=function(){function s(o,e){Object(k.a)(this,s),this.link=o,this.decorationId=e}return Object(w.a)(s,[{key:"activate",value:function(e,i){e.changeDecorationOptions(this.decorationId,s._getOptions(this.link,i,!0))}},{key:"deactivate",value:function(e,i){e.changeDecorationOptions(this.decorationId,s._getOptions(this.link,i,!1))}}],[{key:"decoration",value:function(e,i){return{range:e.range,options:s._getOptions(e,i,!1)}}},{key:"_getOptions",value:function(e,i,t){var n=Object.assign({},t?b0.active:b0.general);return n.hoverMessage=JD(e,i),n}}]),s}();function JD(s,o){var e=s.url&&/^command:/i.test(s.url.toString()),i=s.tooltip?s.tooltip:e?Qe.b("links.navigate.executeCmd","Execute command"):Qe.b("links.navigate.follow","Follow link"),t=o?Ut.i?Qe.b("links.navigate.kb.meta.mac","cmd + click"):Qe.b("links.navigate.kb.meta","ctrl + click"):Ut.i?Qe.b("links.navigate.kb.alt.mac","option + click"):Qe.b("links.navigate.kb.alt","alt + click");if(s.url){var n="";if(/^command:/i.test(s.url.toString())){var r=s.url.toString().match(/^command:([^?#]+)/);if(r){var l=r[1];n=Qe.b("tooltip.explanation","Execute command {0}",l)}}var c=new Qi.a("",!0).appendLink(s.url.toString(!0).replace(/ /g,"%20"),i,n).appendMarkdown(" (".concat(t,")"));return c}else return new Qi.a().appendText("".concat(i," (").concat(t,")"))}var qD=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.openLink",label:Qe.b("label","Open Link"),alias:"Open Link",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=zf.get(n);if(!!r&&!!n.hasModel()){var l=n.getSelections(),c=Object(B.a)(l),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,R=r.getLinkOccurrence(f.getEndPosition());R&&r.openLinkOccurrence(R,!1)}}catch(Z){c.e(Z)}finally{c.f()}}}}]),e}(St.b);Object(St.m)(zf.ID,zf,1),Object(St.k)(qD);var tb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t._editor=i,t._register(t._editor.onMouseDown(function(n){var r=t._editor.getOption(113);r>=0&&n.target.type===6&&n.target.position.column>=r&&t._editor.updateOptions({stopRenderingLineAfter:-1})})),t}return Object(w.a)(e)}(Ze.a);tb.ID="editor.contrib.longLinesHelper",Object(St.m)(tb.ID,tb,2);var sL=a("wU4A"),hm=Object(Vt.Fc)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},Qe.b("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);Object(Vt.Fc)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},Qe.b("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),Object(Vt.Fc)("editor.wordHighlightTextBackground",{light:hm,dark:hm,hcDark:hm,hcLight:hm},Qe.b("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);var fm=Object(Vt.Fc)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:Vt.b,hcLight:Vt.b},Qe.b("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));Object(Vt.Fc)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:Vt.b,hcLight:Vt.b},Qe.b("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),Object(Vt.Fc)("editor.wordHighlightTextBorder",{light:fm,dark:fm,hcDark:fm,hcLight:fm},Qe.b("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));var ew=Object(Vt.Fc)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},Qe.b("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),tw=Object(Vt.Fc)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},Qe.b("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),nw=Object(Vt.Fc)("editorOverviewRuler.wordHighlightTextForeground",{dark:Vt.sc,light:Vt.sc,hcDark:Vt.sc,hcLight:Vt.sc},Qe.b("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),iw=ti.b.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Object(Oi.f)(tw),position:pn.f.Center},minimap:{color:Object(Oi.f)(Vt.oc),position:pn.e.Inline}}),rw=ti.b.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:Object(Oi.f)(nw),position:pn.f.Center},minimap:{color:Object(Oi.f)(Vt.oc),position:pn.e.Inline}}),aw=ti.b.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(Oi.f)(Vt.sc),position:pn.f.Center},minimap:{color:Object(Oi.f)(Vt.oc),position:pn.e.Inline}}),ow=ti.b.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),sw=ti.b.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:Object(Oi.f)(ew),position:pn.f.Center},minimap:{color:Object(Oi.f)(Vt.oc),position:pn.e.Inline}});function lw(s){return s===oo.c.Write?iw:s===oo.c.Text?rw:sw}function uw(s){return s?ow:aw}Object(Oi.e)(function(s,o){var e=s.getColor(Vt.db);e&&o.addRule(".monaco-editor .selectionHighlight { background-color: ".concat(e.transparent(.5),"; }"))});var cw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},dw=function(s,o){return function(e,i){o(e,i,s)}};function zd(s,o){var e=o.filter(function(n){return!s.find(function(r){return r.equals(n)})});if(e.length>=1){var i=e.map(function(n){return"line ".concat(n.viewState.position.lineNumber," column ").concat(n.viewState.position.column)}).join(", "),t=e.length===1?Qe.b("cursorAdded","Cursor added: {0}",i):Qe.b("cursorsAdded","Cursors added: {0}",i);Object(xi.c)(t)}}var hw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.insertCursorAbove",label:Qe.b("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"3_multi",title:Qe.b({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=!0;r&&r.logicalLine===!1&&(l=!1);var c=n._getViewModel();if(!c.cursorConfig.readOnly){c.model.pushStackElement();var h=c.getCursorStates();c.setCursorStates(r.source,3,Qp.b.addCursorUp(c,h,l)),c.revealTopMostCursor(r.source),zd(h,c.getCursorStates())}}}}]),e}(St.b),fw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.insertCursorBelow",label:Qe.b("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"3_multi",title:Qe.b({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=!0;r&&r.logicalLine===!1&&(l=!1);var c=n._getViewModel();if(!c.cursorConfig.readOnly){c.model.pushStackElement();var h=c.getCursorStates();c.setCursorStates(r.source,3,Qp.b.addCursorDown(c,h,l)),c.revealBottomMostCursor(r.source),zd(h,c.getCursorStates())}}}}]),e}(St.b),vw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:Qe.b("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:an.a.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"3_multi",title:Qe.b({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}return Object(w.a)(e,[{key:"getCursorsForSelection",value:function(t,n,r){if(!t.isEmpty()){for(var l=t.startLineNumber;l<t.endLineNumber;l++){var c=n.getLineMaxColumn(l);r.push(new Gi.a(l,c,l,c))}t.endColumn>1&&r.push(new Gi.a(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn))}}},{key:"run",value:function(t,n){var r=this;if(!!n.hasModel()){var l=n.getModel(),c=n.getSelections(),h=n._getViewModel(),f=h.getCursorStates(),R=[];c.forEach(function(Z){return r.getCursorsForSelection(Z,l,R)}),R.length>0&&n.setSelections(R),zd(f,h.getCursorStates())}}}]),e}(St.b),gw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.addCursorsToBottom",label:Qe.b("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){for(var r=n.getSelections(),l=n.getModel().getLineCount(),c=[],h=r[0].startLineNumber;h<=l;h++)c.push(new Gi.a(h,r[0].startColumn,h,r[0].endColumn));var f=n._getViewModel(),R=f.getCursorStates();c.length>0&&n.setSelections(c),zd(R,f.getCursorStates())}}}]),e}(St.b),mw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.addCursorsToTop",label:Qe.b("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){for(var r=n.getSelections(),l=[],c=r[0].startLineNumber;c>=1;c--)l.push(new Gi.a(c,r[0].startColumn,c,r[0].endColumn));var h=n._getViewModel(),f=h.getCursorStates();l.length>0&&n.setSelections(l),zd(f,h.getCursorStates())}}}]),e}(St.b),vm=Object(w.a)(function s(o,e,i){Object(k.a)(this,s),this.selections=o,this.revealRange=e,this.revealScrollType=i}),_0=function(){function s(o,e,i,t,n,r,l){Object(k.a)(this,s),this._editor=o,this.findController=e,this.isDisconnectedFromFindController=i,this.searchText=t,this.wholeWord=n,this.matchCase=r,this.currentMatch=l}return Object(w.a)(s,[{key:"addSelectionToNextFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var i=this._editor.getSelections();return new vm(i.concat(e),e,0)}},{key:"moveSelectionToNextFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var i=this._editor.getSelections();return new vm(i.slice(0,i.length-1).concat(e),e,0)}},{key:"_getNextMatch",value:function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var i=this._editor.getSelections(),t=i[i.length-1],n=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(126):null,!1);return n?new Gi.a(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}},{key:"addSelectionToPreviousFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var i=this._editor.getSelections();return new vm(i.concat(e),e,0)}},{key:"moveSelectionToPreviousFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var i=this._editor.getSelections();return new vm(i.slice(0,i.length-1).concat(e),e,0)}},{key:"_getPreviousMatch",value:function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var i=this._editor.getSelections(),t=i[i.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(126):null,!1);return n?new Gi.a(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}},{key:"selectAll",value:function(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();var i=this._editor.getModel();return e?i.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(126):null,!1,1073741824):i.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(126):null,!1,1073741824)}}],[{key:"create",value:function(e,i){if(!e.hasModel())return null;var t=i.getState();if(!e.hasTextFocus()&&t.isRevealed&&t.searchString.length>0)return new s(e,i,!1,t.searchString,t.wholeWord,t.matchCase,null);var n=!1,r,l,c=e.getSelections();c.length===1&&c[0].isEmpty()?(n=!0,r=!0,l=!0):(r=t.wholeWord,l=t.matchCase);var h=e.getSelection(),f,R=null;if(h.isEmpty()){var Z=e.getConfiguredWordAtPosition(h.getStartPosition());if(!Z)return null;f=Z.word,R=new Gi.a(h.startLineNumber,Z.startColumn,h.startLineNumber,Z.endColumn)}else f=e.getModel().getValueInRange(h).replace(/\r\n/g,`
`);return new s(e,i,n,f,r,l,R)}}]),s}(),ng=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t._sessionDispose=t._register(new Ze.c),t._editor=i,t._ignoreSelectionChange=!1,t._session=null,t}return Object(w.a)(e,[{key:"dispose",value:function(){this._endSession(),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"_beginSessionIfNeeded",value:function(t){var n=this;if(!this._session){var r=_0.create(this._editor,t);if(!r)return;this._session=r;var l={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(l.wholeWordOverride=1,l.matchCaseOverride=1,l.isRegexOverride=2),t.getState().change(l,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(function(c){n._ignoreSelectionChange||n._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(function(){n._endSession()})),this._sessionDispose.add(t.getState().onFindReplaceStateChange(function(c){(c.matchCase||c.wholeWord)&&n._endSession()}))}}},{key:"_endSession",value:function(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){var t={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(t,!1)}this._session=null}},{key:"_setSelections",value:function(t){this._ignoreSelectionChange=!0,this._editor.setSelections(t),this._ignoreSelectionChange=!1}},{key:"_expandEmptyToWord",value:function(t,n){if(!n.isEmpty())return n;var r=this._editor.getConfiguredWordAtPosition(n.getStartPosition());return r?new Gi.a(n.startLineNumber,r.startColumn,n.startLineNumber,r.endColumn):n}},{key:"_applySessionResult",value:function(t){!t||(this._setSelections(t.selections),t.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(t.revealRange,t.revealScrollType))}},{key:"getSession",value:function(t){return this._session}},{key:"addSelectionToNextFindMatch",value:function(t){if(!!this._editor.hasModel()){if(!this._session){var n=this._editor.getSelections();if(n.length>1){var r=t.getState(),l=r.matchCase,c=C0(this._editor.getModel(),n,l);if(!c){for(var h=this._editor.getModel(),f=[],R=0,Z=n.length;R<Z;R++)f[R]=this._expandEmptyToWord(h,n[R]);this._editor.setSelections(f);return}}}this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}},{key:"addSelectionToPreviousFindMatch",value:function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}},{key:"moveSelectionToNextFindMatch",value:function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}},{key:"moveSelectionToPreviousFindMatch",value:function(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}},{key:"selectAll",value:function(t){if(!!this._editor.hasModel()){var n=null,r=t.getState();if(r.isRevealed&&r.searchString.length>0&&r.isRegex){var l=this._editor.getModel();r.searchScope?n=l.findMatches(r.searchString,r.searchScope,r.isRegex,r.matchCase,r.wholeWord?this._editor.getOption(126):null,!1,1073741824):n=l.findMatches(r.searchString,!0,r.isRegex,r.matchCase,r.wholeWord?this._editor.getOption(126):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(t),!this._session)return;n=this._session.selectAll(r.searchScope)}if(n.length>0){for(var c=this._editor.getSelection(),h=0,f=n.length;h<f;h++){var R=n[h],Z=R.range.intersectRanges(c);if(Z){n[h]=n[0],n[0]=R;break}}this._setSelections(n.map(function(ie){return new Gi.a(ie.range.startLineNumber,ie.range.startColumn,ie.range.endLineNumber,ie.range.endColumn)}))}}}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);ng.ID="editor.contrib.multiCursorController";var Kf=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=ng.get(n);if(!!r){var l=n._getViewModel();if(l){var c=l.getCursorStates(),h=sl.get(n);if(h)this._run(r,h);else{var f=t.get(Ia.a).createInstance(sl,n);this._run(r,f),f.dispose()}zd(c,l.getCursorStates())}}}}]),e}(St.b),pw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:Qe.b("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:an.a.focus,primary:2048|34,weight:100},menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"3_multi",title:Qe.b({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}return Object(w.a)(e,[{key:"_run",value:function(t,n){t.addSelectionToNextFindMatch(n)}}]),e}(Kf),bw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:Qe.b("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"3_multi",title:Qe.b({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}return Object(w.a)(e,[{key:"_run",value:function(t,n){t.addSelectionToPreviousFindMatch(n)}}]),e}(Kf),yw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:Qe.b("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:an.a.focus,primary:Object(mr.c)(2048|41,2048|34),weight:100}})}return Object(w.a)(e,[{key:"_run",value:function(t,n){t.moveSelectionToNextFindMatch(n)}}]),e}(Kf),_w=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:Qe.b("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}return Object(w.a)(e,[{key:"_run",value:function(t,n){t.moveSelectionToPreviousFindMatch(n)}}]),e}(Kf),Cw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.selectHighlights",label:Qe.b("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:an.a.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"3_multi",title:Qe.b({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}return Object(w.a)(e,[{key:"_run",value:function(t,n){t.selectAll(n)}}]),e}(Kf),Ow=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.changeAll",label:Qe.b("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Jn.a.and(an.a.writable,an.a.editorTextFocus),kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}return Object(w.a)(e,[{key:"_run",value:function(t,n){t.selectAll(n)}}]),e}(Kf),Sw=function(){function s(o,e,i,t,n){Object(k.a)(this,s),this._model=o,this._searchText=e,this._matchCase=i,this._wordSeparators=t,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,n&&this._model===n._model&&this._searchText===n._searchText&&this._matchCase===n._matchCase&&this._wordSeparators===n._wordSeparators&&this._modelVersionId===n._modelVersionId&&(this._cachedFindMatches=n._cachedFindMatches)}return Object(w.a)(s,[{key:"findMatches",value:function(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(function(e){return e.range}),this._cachedFindMatches.sort(Dt.a.compareRangesUsingStarts)),this._cachedFindMatches}}]),s}(),ig=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;Object(k.a)(this,e),n=o.call(this),n._languageFeaturesService=t,n.editor=i,n._isEnabled=i.getOption(104),n._decorations=i.createDecorationsCollection(),n.updateSoon=n._register(new et.g(function(){return n._update()},300)),n.state=null,n._register(i.onDidChangeConfiguration(function(l){n._isEnabled=i.getOption(104)})),n._register(i.onDidChangeCursorSelection(function(l){!n._isEnabled||(l.selection.isEmpty()?l.reason===3?(n.state&&n._setState(null),n.updateSoon.schedule()):n._setState(null):n._update())})),n._register(i.onDidChangeModel(function(l){n._setState(null)})),n._register(i.onDidChangeModelContent(function(l){n._isEnabled&&n.updateSoon.schedule()}));var r=sl.get(i);return r&&n._register(r.getState().onFindReplaceStateChange(function(l){n._update()})),n.updateSoon.schedule(),n}return Object(w.a)(e,[{key:"_update",value:function(){this._setState(e._createState(this.state,this._isEnabled,this.editor))}},{key:"_setState",value:function(t){if(this.state=t,!this.state){this._decorations.clear();return}if(!!this.editor.hasModel()){var n=this.editor.getModel();if(!n.isTooLargeForTokenization()){var r=this.state.findMatches(),l=this.editor.getSelections();l.sort(Dt.a.compareRangesUsingStarts);for(var c=[],h=0,f=0,R=r.length,Z=l.length;h<R;){var ie=r[h];if(f>=Z)c.push(ie),h++;else{var je=Dt.a.compareRangesUsingStarts(ie,l[f]);je<0?((l[f].isEmpty()||!Dt.a.areIntersecting(ie,l[f]))&&c.push(ie),h++):(je>0||h++,f++)}}var Ie=this._languageFeaturesService.documentHighlightProvider.has(n)&&this.editor.getOption(78),st=c.map(function(ft){return{range:ft,options:uw(Ie)}});this._decorations.set(st)}}}},{key:"dispose",value:function(){this._setState(null),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}}],[{key:"_createState",value:function(t,n,r){if(!n||!r.hasModel())return null;var l=r.getSelection();if(l.startLineNumber!==l.endLineNumber)return null;var c=ng.get(r);if(!c)return null;var h=sl.get(r);if(!h)return null;var f=c.getSession(h);if(!f){var R=r.getSelections();if(R.length>1){var Z=h.getState(),ie=Z.matchCase,je=C0(r.getModel(),R,ie);if(!je)return null}f=_0.create(r,h)}if(!f||f.currentMatch||/^[ \t]+$/.test(f.searchText)||f.searchText.length>200)return null;var Ie=h.getState(),st=Ie.matchCase;if(Ie.isRevealed){var ft=Ie.searchString;st||(ft=ft.toLowerCase());var kt=f.searchText;if(st||(kt=kt.toLowerCase()),ft===kt&&f.matchCase===Ie.matchCase&&f.wholeWord===Ie.wholeWord&&!Ie.isRegex)return null}return new Sw(r.getModel(),f.searchText,f.matchCase,f.wholeWord?r.getOption(126):null,t)}}]),e}(Ze.a);ig.ID="editor.contrib.selectionHighlighter",ig=cw([dw(1,Nr.a)],ig);function C0(s,o,e){for(var i=O0(s,o[0],!e),t=1,n=o.length;t<n;t++){var r=o[t];if(r.isEmpty())return!1;var l=O0(s,r,!e);if(i!==l)return!1}return!0}function O0(s,o,e){var i=s.getValueInRange(o);return e?i.toLowerCase():i}var kw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.focusNextCursor",label:Qe.b("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:Qe.b("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=n._getViewModel();if(!l.cursorConfig.readOnly){l.model.pushStackElement();var c=Array.from(l.getCursorStates()),h=c.shift();!h||(c.push(h),l.setCursorStates(r.source,3,c),l.revealPrimaryCursor(r.source,!0),zd(c,l.getCursorStates()))}}}}]),e}(St.b),Dw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.focusPreviousCursor",label:Qe.b("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:Qe.b("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=n._getViewModel();if(!l.cursorConfig.readOnly){l.model.pushStackElement();var c=Array.from(l.getCursorStates()),h=c.pop();!h||(c.unshift(h),l.setCursorStates(r.source,3,c),l.revealPrimaryCursor(r.source,!0),zd(c,l.getCursorStates()))}}}}]),e}(St.b);Object(St.m)(ng.ID,ng,4),Object(St.m)(ig.ID,ig,1),Object(St.k)(hw),Object(St.k)(fw),Object(St.k)(vw),Object(St.k)(pw),Object(St.k)(bw),Object(St.k)(yw),Object(St.k)(_w),Object(St.k)(Cw),Object(St.k)(Ow),Object(St.k)(gw),Object(St.k)(mw),Object(St.k)(kw),Object(St.k)(Dw);var S0=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Wh={Visible:new Jn.c("parameterHintsVisible",!1),MultipleSignatures:new Jn.c("parameterHintsMultipleSignatures",!1)};function k0(s,o,e,i,t){return S0(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f;return Object(d.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:r=s.ordered(o),l=Object(B.a)(r),Z.prev=2,l.s();case 4:if((c=l.n()).done){Z.next=19;break}return h=c.value,Z.prev=6,Z.next=9,h.provideSignatureHelp(o,e,t,i);case 9:if(f=Z.sent,!f){Z.next=12;break}return Z.abrupt("return",f);case 12:Z.next=17;break;case 14:Z.prev=14,Z.t0=Z.catch(6),Object(zi.i)(Z.t0);case 17:Z.next=4;break;case 19:Z.next=24;break;case 21:Z.prev=21,Z.t1=Z.catch(2),l.e(Z.t1);case 24:return Z.prev=24,l.f(),Z.finish(24);case 27:return Z.abrupt("return",void 0);case 28:case"end":return Z.stop()}},n,null,[[2,21,24,27],[6,14]])}))}ia.a.registerCommand("_executeSignatureHelpProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return S0(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f;return Object(d.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return n=e[0],r=e[1],l=e[2],Object(Yr.b)(Wr.a.isUri(n)),Object(Yr.b)(tn.a.isIPosition(r)),Object(Yr.b)(typeof l=="string"||!l),c=s.get(Nr.a),Z.next=7,s.get(Ur.a).createModelReference(n);case 7:return h=Z.sent,Z.prev=8,Z.next=11,k0(c.signatureHelpProvider,h.object.textEditorModel,tn.a.lift(r),{triggerKind:oo.j.Invoke,isRetrigger:!1,triggerCharacter:l},Zi.a.None);case 11:if(f=Z.sent,f){Z.next=14;break}return Z.abrupt("return",void 0);case 14:return setTimeout(function(){return f.dispose()},0),Z.abrupt("return",f.value);case 16:return Z.prev=16,h.dispose(),Z.finish(16);case 19:case"end":return Z.stop()}},t,null,[[8,,16,19]])}))});var ww=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Kd;(function(s){s.Default={type:0};var o=Object(w.a)(function i(t,n){Object(k.a)(this,i),this.request=t,this.previouslyActiveHints=n,this.type=2});s.Pending=o;var e=Object(w.a)(function i(t){Object(k.a)(this,i),this.hints=t,this.type=1});s.Active=e})(Kd||(Kd={}));var D0=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.DEFAULT_DELAY;return Object(k.a)(this,e),n=o.call(this),n._onChangedHints=n._register(new rr.b),n.onChangedHints=n._onChangedHints.event,n.triggerOnType=!1,n._state=Kd.Default,n._pendingTriggers=[],n._lastSignatureHelpResult=n._register(new Ze.e),n.triggerChars=new Kg.b,n.retriggerChars=new Kg.b,n.triggerId=0,n.editor=i,n.providers=t,n.throttledDelayer=new et.c(r),n._register(n.editor.onDidBlurEditorWidget(function(){return n.cancel()})),n._register(n.editor.onDidChangeConfiguration(function(){return n.onEditorConfigurationChange()})),n._register(n.editor.onDidChangeModel(function(l){return n.onModelChanged()})),n._register(n.editor.onDidChangeModelLanguage(function(l){return n.onModelChanged()})),n._register(n.editor.onDidChangeCursorSelection(function(l){return n.onCursorChange(l)})),n._register(n.editor.onDidChangeModelContent(function(l){return n.onModelContentChange()})),n._register(n.providers.onDidChange(n.onModelChanged,Object(pi.a)(n))),n._register(n.editor.onDidType(function(l){return n.onDidType(l)})),n.onEditorConfigurationChange(),n.onModelChanged(),n}return Object(w.a)(e,[{key:"state",get:function(){return this._state},set:function(t){this._state.type===2&&this._state.request.cancel(),this._state=t}},{key:"cancel",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.state=Kd.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)}},{key:"trigger",value:function(t,n){var r=this,l=this.editor.getModel();if(!(!l||!this.providers.has(l))){var c=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger(function(){return r.doTrigger(c)},n).catch(zi.h)}}},{key:"next",value:function(){if(this.state.type===1){var t=this.state.hints.signatures.length,n=this.state.hints.activeSignature,r=n%t==t-1,l=this.editor.getOption(83).cycle;if((t<2||r)&&!l){this.cancel();return}this.updateActiveSignature(r&&l?0:n+1)}}},{key:"previous",value:function(){if(this.state.type===1){var t=this.state.hints.signatures.length,n=this.state.hints.activeSignature,r=n===0,l=this.editor.getOption(83).cycle;if((t<2||r)&&!l){this.cancel();return}this.updateActiveSignature(r&&l?t-1:n-1)}}},{key:"updateActiveSignature",value:function(t){this.state.type===1&&(this.state=new Kd.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:t})),this._onChangedHints.fire(this.state.hints))}},{key:"doTrigger",value:function(t){return ww(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this,l,c,h,f,R,Z,ie;return Object(d.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(l=this.state.type===1||this.state.type===2,c=this.getLastActiveHints(),this.cancel(!0),this._pendingTriggers.length!==0){Ie.next=5;break}return Ie.abrupt("return",!1);case 5:if(h=this._pendingTriggers.reduce(jw),this._pendingTriggers=[],f={triggerKind:h.triggerKind,triggerCharacter:h.triggerCharacter,isRetrigger:l,activeSignatureHelp:c},this.editor.hasModel()){Ie.next=10;break}return Ie.abrupt("return",!1);case 10:return R=this.editor.getModel(),Z=this.editor.getPosition(),this.state=new Kd.Pending(Object(et.k)(function(st){return k0(r.providers,R,Z,f,st)}),c),Ie.prev=13,Ie.next=16,this.state.request;case 16:if(ie=Ie.sent,t===this.triggerId){Ie.next=20;break}return ie==null||ie.dispose(),Ie.abrupt("return",!1);case 20:if(!(!ie||!ie.value.signatures||ie.value.signatures.length===0)){Ie.next=27;break}return ie==null||ie.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),Ie.abrupt("return",!1);case 27:return this.state=new Kd.Active(ie.value),this._lastSignatureHelpResult.value=ie,this._onChangedHints.fire(this.state.hints),Ie.abrupt("return",!0);case 31:Ie.next=38;break;case 33:return Ie.prev=33,Ie.t0=Ie.catch(13),t===this.triggerId&&(this.state=Kd.Default),Object(zi.h)(Ie.t0),Ie.abrupt("return",!1);case 38:case"end":return Ie.stop()}},n,this,[[13,33]])}))}},{key:"getLastActiveHints",value:function(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}},{key:"isTriggered",get:function(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}},{key:"onModelChanged",value:function(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();var t=this.editor.getModel();if(!!t){var n=Object(B.a)(this.providers.ordered(t)),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=Object(B.a)(l.signatureHelpTriggerCharacters||[]),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;if(f.length){var R=f.charCodeAt(0);this.triggerChars.add(R),this.retriggerChars.add(R)}}}catch(Ie){c.e(Ie)}finally{c.f()}var Z=Object(B.a)(l.signatureHelpRetriggerCharacters||[]),ie;try{for(Z.s();!(ie=Z.n()).done;){var je=ie.value;je.length&&this.retriggerChars.add(je.charCodeAt(0))}}catch(Ie){Z.e(Ie)}finally{Z.f()}}}catch(Ie){n.e(Ie)}finally{n.f()}}}},{key:"onDidType",value:function(t){if(!!this.triggerOnType){var n=t.length-1,r=t.charCodeAt(n);(this.triggerChars.has(r)||this.isTriggered&&this.retriggerChars.has(r))&&this.trigger({triggerKind:oo.j.TriggerCharacter,triggerCharacter:t.charAt(n)})}}},{key:"onCursorChange",value:function(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:oo.j.ContentChange})}},{key:"onModelContentChange",value:function(){this.isTriggered&&this.trigger({triggerKind:oo.j.ContentChange})}},{key:"onEditorConfigurationChange",value:function(){this.triggerOnType=this.editor.getOption(83).enabled,this.triggerOnType||this.cancel()}},{key:"dispose",value:function(){this.cancel(!0),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}}]),e}(Ze.a);D0.DEFAULT_DELAY=120;function jw(s,o){switch(o.triggerKind){case oo.j.Invoke:return o;case oo.j.ContentChange:return s;case oo.j.TriggerCharacter:default:return o}}var lL=a("REzY"),Ew=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},nb=function(s,o){return function(e,i){o(e,i,s)}},ru=Bt.$,Lw=Object(u.b)("parameter-hints-next",ta.a.chevronDown,Qe.b("parameterHintsNextIcon","Icon for show next parameter hint.")),Mw=Object(u.b)("parameter-hints-previous",ta.a.chevronUp,Qe.b("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),gm=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l){var c;return Object(k.a)(this,e),c=o.call(this),c.editor=i,c.model=t,c.renderDisposeables=c._register(new Ze.c),c.visible=!1,c.announcedLabel=null,c.allowEditorOverflow=!0,c.markdownRenderer=c._register(new to({editor:i},l,r)),c.keyVisible=Wh.Visible.bindTo(n),c.keyMultipleSignatures=Wh.MultipleSignatures.bindTo(n),c}return Object(w.a)(e,[{key:"createParameterHintDOMNodes",value:function(){var t=this,n=ru(".editor-widget.parameter-hints-widget"),r=Bt.append(n,ru(".phwrapper"));r.tabIndex=-1;var l=Bt.append(r,ru(".controls")),c=Bt.append(l,ru(".button"+oa.a.asCSSSelector(Mw))),h=Bt.append(l,ru(".overloads")),f=Bt.append(l,ru(".button"+oa.a.asCSSSelector(Lw)));this._register(Bt.addDisposableListener(c,"click",function(st){Bt.EventHelper.stop(st),t.previous()})),this._register(Bt.addDisposableListener(f,"click",function(st){Bt.EventHelper.stop(st),t.next()}));var R=ru(".body"),Z=new Ic.a(R,{alwaysConsumeMouseWheel:!0});this._register(Z),r.appendChild(Z.getDomNode());var ie=Bt.append(R,ru(".signature")),je=Bt.append(R,ru(".docs"));n.style.userSelect="text",this.domNodes={element:n,signature:ie,overloads:h,docs:je,scrollbar:Z},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(function(st){t.visible&&t.editor.layoutContentWidget(t)}));var Ie=function(){if(!!t.domNodes){var ft=t.editor.getOption(48);t.domNodes.element.style.fontSize="".concat(ft.fontSize,"px"),t.domNodes.element.style.lineHeight="".concat(ft.lineHeight/ft.fontSize)}};Ie(),this._register(rr.c.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(st){return st.hasChanged(48)}).on(Ie,null)),this._register(this.editor.onDidLayoutChange(function(st){return t.updateMaxHeight()})),this.updateMaxHeight()}},{key:"show",value:function(){var t=this;this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(function(){var n;(n=t.domNodes)===null||n===void 0||n.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}},{key:"hide",value:function(){var t;this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(t=this.domNodes)===null||t===void 0||t.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}},{key:"getPosition",value:function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}},{key:"render",value:function(t){var n;if(this.renderDisposeables.clear(),!!this.domNodes){var r=t.signatures.length>1;this.domNodes.element.classList.toggle("multiple",r),this.keyMultipleSignatures.set(r),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";var l=t.signatures[t.activeSignature];if(!!l){var c=Bt.append(this.domNodes.signature,ru(".code")),h=this.editor.getOption(48);c.style.fontSize="".concat(h.fontSize,"px"),c.style.fontFamily=h.fontFamily;var f=l.parameters.length>0,R=(n=l.activeParameter)!==null&&n!==void 0?n:t.activeParameter;if(f)this.renderParameters(c,l,R);else{var Z=Bt.append(c,ru("span"));Z.textContent=l.label}var ie=l.parameters[R];if(ie==null?void 0:ie.documentation){var je=ru("span.documentation");if(typeof ie.documentation=="string")je.textContent=ie.documentation;else{var Ie=this.renderMarkdownDocs(ie.documentation);je.appendChild(Ie.element)}Bt.append(this.domNodes.docs,ru("p",{},je))}if(l.documentation!==void 0)if(typeof l.documentation=="string")Bt.append(this.domNodes.docs,ru("p",{},l.documentation));else{var st=this.renderMarkdownDocs(l.documentation);Bt.append(this.domNodes.docs,st.element)}var ft=this.hasDocs(l,ie);if(this.domNodes.signature.classList.toggle("has-docs",ft),this.domNodes.docs.classList.toggle("empty",!ft),this.domNodes.overloads.textContent=String(t.activeSignature+1).padStart(t.signatures.length.toString().length,"0")+"/"+t.signatures.length,ie){var kt="",$t=l.parameters[R];Array.isArray($t.label)?kt=l.label.substring($t.label[0],$t.label[1]):kt=$t.label,$t.documentation&&(kt+=typeof $t.documentation=="string"?", ".concat($t.documentation):", ".concat($t.documentation.value)),l.documentation&&(kt+=typeof l.documentation=="string"?", ".concat(l.documentation):", ".concat(l.documentation.value)),this.announcedLabel!==kt&&(xi.a(Qe.b("hint","{0}, hint",kt)),this.announcedLabel=kt)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}}},{key:"renderMarkdownDocs",value:function(t){var n=this,r=this.renderDisposeables.add(this.markdownRenderer.render(t,{asyncRenderCallback:function(){var c;(c=n.domNodes)===null||c===void 0||c.scrollbar.scanDomNode()}}));return r.element.classList.add("markdown-docs"),r}},{key:"hasDocs",value:function(t,n){return!!(n&&typeof n.documentation=="string"&&Object(Yr.a)(n.documentation).length>0||n&&typeof n.documentation=="object"&&Object(Yr.a)(n.documentation).value.length>0||t.documentation&&typeof t.documentation=="string"&&Object(Yr.a)(t.documentation).length>0||t.documentation&&typeof t.documentation=="object"&&Object(Yr.a)(t.documentation.value).length>0)}},{key:"renderParameters",value:function(t,n,r){var l=this.getParameterLabelOffsets(n,r),c=Object(z.a)(l,2),h=c[0],f=c[1],R=document.createElement("span");R.textContent=n.label.substring(0,h);var Z=document.createElement("span");Z.textContent=n.label.substring(h,f),Z.className="parameter active";var ie=document.createElement("span");ie.textContent=n.label.substring(f),Bt.append(t,R,Z,ie)}},{key:"getParameterLabelOffsets",value:function(t,n){var r=t.parameters[n];if(r){if(Array.isArray(r.label))return r.label;if(r.label.length){var l=new RegExp("(\\W|^)".concat(Object(Vn.t)(r.label),"(?=\\W|$)"),"g");l.test(t.label);var c=l.lastIndex-r.label.length;return c>=0?[c,l.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}},{key:"next",value:function(){this.editor.focus(),this.model.next()}},{key:"previous",value:function(){this.editor.focus(),this.model.previous()}},{key:"getDomNode",value:function(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}},{key:"getId",value:function(){return e.ID}},{key:"updateMaxHeight",value:function(){if(!!this.domNodes){var t=Math.max(this.editor.getLayoutInfo().height/4,250),n="".concat(t,"px");this.domNodes.element.style.maxHeight=n;var r=this.domNodes.element.getElementsByClassName("phwrapper");r.length&&(r[0].style.maxHeight=n)}}}]),e}(Ze.a);gm.ID="editor.widget.parameterHintsWidget",gm=Ew([nb(2,Jn.b),nb(3,Ea.a),nb(4,br.a)],gm),Object(Vt.Fc)("editorHoverWidget.highlightForeground",{dark:Vt.Ub,light:Vt.Ub,hcDark:Vt.Ub,hcLight:Vt.Ub},Qe.b("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var Tw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},w0=function(s,o){return function(e,i){o(e,i,s)}},Vh=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r.editor=i,r.model=r._register(new D0(i,n.signatureHelpProvider)),r._register(r.model.onChangedHints(function(l){var c;l?(r.widget.value.show(),r.widget.value.render(l)):(c=r.widget.rawValue)===null||c===void 0||c.hide()})),r.widget=new hr.a(function(){return r._register(t.createInstance(gm,r.editor,r.model))}),r}return Object(w.a)(e,[{key:"cancel",value:function(){this.model.cancel()}},{key:"previous",value:function(){var t;(t=this.widget.rawValue)===null||t===void 0||t.previous()}},{key:"next",value:function(){var t;(t=this.widget.rawValue)===null||t===void 0||t.next()}},{key:"trigger",value:function(t){this.model.trigger(t,0)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);Vh.ID="editor.controller.parameterHints",Vh=Tw([w0(1,Ia.a),w0(2,Nr.a)],Vh);var Iw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.triggerParameterHints",label:Qe.b("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:an.a.hasSignatureHelpProvider,kbOpts:{kbExpr:an.a.editorTextFocus,primary:2048|1024|10,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=Vh.get(n);r==null||r.trigger({triggerKind:oo.j.Invoke})}}]),e}(St.b);Object(St.m)(Vh.ID,Vh,2),Object(St.k)(Iw);var ib=100+75,rb=St.d.bindToContribution(Vh.get);Object(St.l)(new rb({id:"closeParameterHints",precondition:Wh.Visible,handler:function(o){return o.cancel()},kbOpts:{weight:ib,kbExpr:an.a.focus,primary:9,secondary:[1024|9]}})),Object(St.l)(new rb({id:"showPrevParameterHint",precondition:Jn.a.and(Wh.Visible,Wh.MultipleSignatures),handler:function(o){return o.previous()},kbOpts:{weight:ib,kbExpr:an.a.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),Object(St.l)(new rb({id:"showNextParameterHint",precondition:Jn.a.and(Wh.Visible,Wh.MultipleSignatures),handler:function(o){return o.next()},kbOpts:{weight:ib,kbExpr:an.a.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}));var Pw=a("db+f"),uL=a("nEy2"),Aw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},ab=function(s,o){return function(e,i){o(e,i,s)}},mm=new Jn.c("renameInputVisible",!1,Object(Qe.b)("renameInputVisible","Whether the rename input widget is visible")),ob=function(){function s(o,e,i,t,n){var r=this;Object(k.a)(this,s),this._editor=o,this._acceptKeybindings=e,this._themeService=i,this._keybindingService=t,this._disposables=new Ze.c,this.allowEditorOverflow=!0,this._visibleContextKey=mm.bindTo(n),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(function(l){l.hasChanged(48)&&r._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}return Object(w.a)(s,[{key:"dispose",value:function(){this._disposables.dispose(),this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"__renameInputWidget"}},{key:"getDomNode",value:function(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",Object(Qe.b)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}},{key:"_updateStyles",value:function(e){var i,t,n,r;if(!(!this._input||!this._domNode)){var l=e.getColor(Vt.Wc),c=e.getColor(Vt.Vc);this._domNode.style.backgroundColor=String((i=e.getColor(Vt.gb))!==null&&i!==void 0?i:""),this._domNode.style.boxShadow=l?" 0 0 8px 2px ".concat(l):"",this._domNode.style.border=c?"1px solid ".concat(c):"",this._domNode.style.color=String((t=e.getColor(Vt.tb))!==null&&t!==void 0?t:""),this._input.style.backgroundColor=String((n=e.getColor(Vt.rb))!==null&&n!==void 0?n:"");var h=e.getColor(Vt.sb);this._input.style.borderWidth=h?"1px":"0px",this._input.style.borderStyle=h?"solid":"none",this._input.style.borderColor=(r=h==null?void 0:h.toString())!==null&&r!==void 0?r:"none"}}},{key:"_updateFont",value:function(){if(!(!this._input||!this._label)){var e=this._editor.getOption(48);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize="".concat(e.fontSize,"px"),this._label.style.fontSize="".concat(e.fontSize*.8,"px")}}},{key:"getPosition",value:function(){return this._visible?{position:this._position,preference:[2,1]}:null}},{key:"beforeRender",value:function(){var e,i,t=Object(z.a)(this._acceptKeybindings,2),n=t[0],r=t[1];return this._label.innerText=Object(Qe.b)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(e=this._keybindingService.lookupKeybinding(n))===null||e===void 0?void 0:e.getLabel(),(i=this._keybindingService.lookupKeybinding(r))===null||i===void 0?void 0:i.getLabel()),null}},{key:"afterRender",value:function(e){e||this.cancelInput(!0)}},{key:"acceptInput",value:function(e){var i;(i=this._currentAcceptInput)===null||i===void 0||i.call(this,e)}},{key:"cancelInput",value:function(e){var i;(i=this._currentCancelInput)===null||i===void 0||i.call(this,e)}},{key:"getInput",value:function(e,i,t,n,r,l){var c=this;this._domNode.classList.toggle("preview",r),this._position=new tn.a(e.startLineNumber,e.startColumn),this._input.value=i,this._input.setAttribute("selectionStart",t.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);var h=new Ze.c;return new Promise(function(f){c._currentCancelInput=function(R){return c._currentAcceptInput=void 0,c._currentCancelInput=void 0,f(R),!0},c._currentAcceptInput=function(R){if(c._input.value.trim().length===0||c._input.value===i){c.cancelInput(!0);return}c._currentAcceptInput=void 0,c._currentCancelInput=void 0,f({newName:c._input.value,wantsPreview:r&&R})},h.add(l.onCancellationRequested(function(){return c.cancelInput(!0)})),h.add(c._editor.onDidBlurEditorWidget(function(){return c.cancelInput(!document.hasFocus())})),c._show()}).finally(function(){h.dispose(),c._hide()})}},{key:"_show",value:function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(function(){e._input.focus(),e._input.setSelectionRange(parseInt(e._input.getAttribute("selectionStart")),parseInt(e._input.getAttribute("selectionEnd")))},100)}},{key:"_hide",value:function(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}}]),s}();ob=Aw([ab(2,Oi.b),ab(3,Ii.a),ab(4,Jn.b)],ob);var Rw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Hh=function(s,o){return function(e,i){o(e,i,s)}},Uh=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},sb=function(){function s(o,e,i){Object(k.a)(this,s),this.model=o,this.position=e,this._providerRenameIdx=0,this._providers=i.ordered(o)}return Object(w.a)(s,[{key:"hasProvider",value:function(){return this._providers.length>0}},{key:"resolveRenameLocation",value:function(e){return Uh(this,void 0,void 0,Object(d.a)().mark(function i(){var t,n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:t=[],this._providerRenameIdx=0;case 2:if(!(this._providerRenameIdx<this._providers.length)){h.next=18;break}if(n=this._providers[this._providerRenameIdx],n.resolveRenameLocation){h.next=6;break}return h.abrupt("break",18);case 6:return h.next=8,n.resolveRenameLocation(this.model,this.position,e);case 8:if(r=h.sent,r){h.next=11;break}return h.abrupt("continue",15);case 11:if(!r.rejectReason){h.next=14;break}return t.push(r.rejectReason),h.abrupt("continue",15);case 14:return h.abrupt("return",r);case 15:this._providerRenameIdx++,h.next=2;break;case 18:if(l=this.model.getWordAtPosition(this.position),l){h.next=21;break}return h.abrupt("return",{range:Dt.a.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0});case 21:return h.abrupt("return",{range:new Dt.a(this.position.lineNumber,l.startColumn,this.position.lineNumber,l.endColumn),text:l.word,rejectReason:t.length>0?t.join(`
`):void 0});case 22:case"end":return h.stop()}},i,this)}))}},{key:"provideRenameEdits",value:function(e,i){return Uh(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this._provideRenameEdits(e,this._providerRenameIdx,[],i));case 1:case"end":return r.stop()}},t,this)}))}},{key:"_provideRenameEdits",value:function(e,i,t,n){return Uh(this,void 0,void 0,Object(d.a)().mark(function r(){var l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(l=this._providers[i],l){f.next=3;break}return f.abrupt("return",{edits:[],rejectReason:t.join(`
`)});case 3:return f.next=5,l.provideRenameEdits(this.model,this.position,e,n);case 5:if(c=f.sent,c){f.next=10;break}return f.abrupt("return",this._provideRenameEdits(e,i+1,t.concat(Qe.b("no result","No result.")),n));case 10:if(!c.rejectReason){f.next=12;break}return f.abrupt("return",this._provideRenameEdits(e,i+1,t.concat(c.rejectReason),n));case 12:return f.abrupt("return",c);case 13:case"end":return f.stop()}},r,this)}))}}]),s}();function Nw(s,o,e,i){return Uh(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=new sb(o,e,s),c.next=3,n.resolveRenameLocation(Zi.a.None);case 3:if(r=c.sent,!(r==null?void 0:r.rejectReason)){c.next=6;break}return c.abrupt("return",{edits:[],rejectReason:r.rejectReason});case 6:return c.abrupt("return",n.provideRenameEdits(i,Zi.a.None));case 7:case"end":return c.stop()}},t)}))}var zh=function(){function s(o,e,i,t,n,r,l,c){Object(k.a)(this,s),this.editor=o,this._instaService=e,this._notificationService=i,this._bulkEditService=t,this._progressService=n,this._logService=r,this._configService=l,this._languageFeaturesService=c,this._disposableStore=new Ze.c,this._cts=new Zi.b,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(ob,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}return Object(w.a)(s,[{key:"dispose",value:function(){this._disposableStore.dispose(),this._cts.dispose(!0)}},{key:"run",value:function(){var e,i;return Uh(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r,l,c,h,f,R,Z,ie,je,Ie,st,ft;return Object(d.a)().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(this._cts.dispose(!0),this._cts=new Zi.b,this.editor.hasModel()){$t.next=4;break}return $t.abrupt("return",void 0);case 4:if(r=this.editor.getPosition(),l=new sb(this.editor.getModel(),r,this._languageFeaturesService.renameProvider),l.hasProvider()){$t.next=8;break}return $t.abrupt("return",void 0);case 8:return c=new Qa.b(this.editor,4|1,void 0,this._cts.token),$t.prev=9,f=l.resolveRenameLocation(c.token),this._progressService.showWhile(f,250),$t.next=14,f;case 14:h=$t.sent,$t.next=21;break;case 17:return $t.prev=17,$t.t0=$t.catch(9),(e=ns.get(this.editor))===null||e===void 0||e.showMessage($t.t0||Qe.b("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),r),$t.abrupt("return",void 0);case 21:return $t.prev=21,c.dispose(),$t.finish(21);case 24:if(h){$t.next=26;break}return $t.abrupt("return",void 0);case 26:if(!h.rejectReason){$t.next=29;break}return(i=ns.get(this.editor))===null||i===void 0||i.showMessage(h.rejectReason,r),$t.abrupt("return",void 0);case 29:if(!c.token.isCancellationRequested){$t.next=31;break}return $t.abrupt("return",void 0);case 31:return R=new Qa.b(this.editor,4|1,h.range,this._cts.token),Z=this.editor.getSelection(),ie=0,je=h.text.length,!Dt.a.isEmpty(Z)&&!Dt.a.spansMultipleLines(Z)&&Dt.a.containsRange(h.range,Z)&&(ie=Math.max(0,Z.startColumn-h.range.startColumn),je=Math.min(h.range.endColumn,Z.endColumn)-h.range.startColumn),Ie=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),$t.next=39,this._renameInputField.getInput(h.range,h.text,ie,je,Ie,R.token);case 39:if(st=$t.sent,typeof st!="boolean"){$t.next=44;break}return st&&this.editor.focus(),R.dispose(),$t.abrupt("return",void 0);case 44:return this.editor.focus(),ft=Object(et.o)(l.provideRenameEdits(st.newName,R.token),R.token).then(function(un){return Uh(n,void 0,void 0,Object(d.a)().mark(function Yn(){var xn=this;return Object(d.a)().wrap(function(Si){for(;;)switch(Si.prev=Si.next){case 0:if(!(!un||!this.editor.hasModel())){Si.next=2;break}return Si.abrupt("return");case 2:if(!un.rejectReason){Si.next=5;break}return this._notificationService.info(un.rejectReason),Si.abrupt("return");case 5:this.editor.setSelection(Dt.a.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(un,{editor:this.editor,showPreview:st.wantsPreview,label:Qe.b("label","Renaming '{0}' to '{1}'",h==null?void 0:h.text,st.newName),code:"undoredo.rename",quotableLabel:Qe.b("quotableLabel","Renaming {0} to {1}",h==null?void 0:h.text,st.newName),respectAutoSaveConfig:!0}).then(function(ji){ji.ariaSummary&&Object(xi.a)(Qe.b("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",h.text,st.newName,ji.ariaSummary))}).catch(function(ji){xn._notificationService.error(Qe.b("rename.failedApply","Rename failed to apply edits")),xn._logService.error(ji)});case 7:case"end":return Si.stop()}},Yn,this)}))},function(un){n._notificationService.error(Qe.b("rename.failed","Rename failed to compute edits")),n._logService.error(un)}).finally(function(){R.dispose()}),this._progressService.showWhile(ft,250),$t.abrupt("return",ft);case 48:case"end":return $t.stop()}},t,this,[[9,17,21,24]])}))}},{key:"acceptRenameInput",value:function(e){this._renameInputField.acceptInput(e)}},{key:"cancelRenameInput",value:function(){this._renameInputField.cancelInput(!0)}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();zh.ID="editor.contrib.renameController",zh=Rw([Hh(1,Ia.a),Hh(2,io.a),Hh(3,Ra.a),Hh(4,ro.a),Hh(5,Yg.b),Hh(6,Pw.a),Hh(7,Nr.a)],zh);var xw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.rename",label:Qe.b("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Jn.a.and(an.a.writable,an.a.hasRenameProvider),kbOpts:{kbExpr:an.a.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}return Object(w.a)(e,[{key:"runCommand",value:function(t,n){var r=this,l=t.get(In.a),c=Array.isArray(n)&&n||[void 0,void 0],h=Object(z.a)(c,2),f=h[0],R=h[1];return Wr.a.isUri(f)&&tn.a.isIPosition(R)?l.openCodeEditor({resource:f},l.getActiveCodeEditor()).then(function(Z){!Z||(Z.setPosition(R),Z.invokeWithinContext(function(ie){return r.reportTelemetry(ie,Z),r.run(ie,Z)}))},zi.h):Object(yi.a)(Object(vi.a)(e.prototype),"runCommand",this).call(this,t,n)}},{key:"run",value:function(t,n){var r=zh.get(n);return r?r.run():Promise.resolve()}}]),e}(St.b);Object(St.m)(zh.ID,zh,4),Object(St.k)(xw);var lb=St.d.bindToContribution(zh.get);Object(St.l)(new lb({id:"acceptRenameInput",precondition:mm,handler:function(o){return o.acceptRenameInput(!1)},kbOpts:{weight:100+99,kbExpr:Jn.a.and(an.a.focus,Jn.a.not("isComposing")),primary:3}})),Object(St.l)(new lb({id:"acceptRenameInputWithPreview",precondition:Jn.a.and(mm,Jn.a.has("config.editor.rename.enablePreview")),handler:function(o){return o.acceptRenameInput(!0)},kbOpts:{weight:100+99,kbExpr:Jn.a.and(an.a.focus,Jn.a.not("isComposing")),primary:1024+3}})),Object(St.l)(new lb({id:"cancelRenameInput",precondition:mm,handler:function(o){return o.cancelRenameInput()},kbOpts:{weight:100+99,kbExpr:an.a.focus,primary:9,secondary:[1024|9]}})),Object(St.o)("_executeDocumentRenameProvider",function(s,o,e){for(var i=arguments.length,t=new Array(i>3?i-3:0),n=3;n<i;n++)t[n-3]=arguments[n];var r=t[0];Object(Yr.b)(typeof r=="string");var l=s.get(Nr.a),c=l.renameProvider;return Nw(c,o,e,r)}),Object(St.o)("_executePrepareRename",function(s,o,e){return Uh(this,void 0,void 0,Object(d.a)().mark(function i(){var t,n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return t=s.get(Nr.a),n=t.renameProvider,r=new sb(o,e,n),h.next=4,r.resolveRenameLocation(Zi.a.None);case 4:if(l=h.sent,!(l==null?void 0:l.rejectReason)){h.next=7;break}throw new Error(l.rejectReason);case 7:return h.abrupt("return",l);case 8:case"end":return h.stop()}},i)}))}),Fs.a.as(Gc.a.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:Qe.b("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var j0=a("JS/N"),Fw=a("HpOR");function Bw(s){for(var o=0,e=s.length;o<e;o+=4){var i=s[o+0],t=s[o+1],n=s[o+2],r=s[o+3];s[o+0]=r,s[o+1]=n,s[o+2]=t,s[o+3]=i}}function Ww(s){var o=new Uint8Array(s.buffer,s.byteOffset,s.length*4);return Ut.h()||Bw(o),Fw.a.wrap(o)}function E0(s){var o=new Uint32Array(Vw(s)),e=0;if(o[e++]=s.id,s.type==="full")o[e++]=1,o[e++]=s.data.length,o.set(s.data,e),e+=s.data.length;else{o[e++]=2,o[e++]=s.deltas.length;var i=Object(B.a)(s.deltas),t;try{for(i.s();!(t=i.n()).done;){var n=t.value;o[e++]=n.start,o[e++]=n.deleteCount,n.data?(o[e++]=n.data.length,o.set(n.data,e),e+=n.data.length):o[e++]=0}}catch(r){i.e(r)}finally{i.f()}}return Ww(o)}function Vw(s){var o=0;if(o+=1+1,s.type==="full")o+=1+s.data.length;else{o+=1,o+=(1+1+1)*s.deltas.length;var e=Object(B.a)(s.deltas),i;try{for(e.s();!(i=e.n()).done;){var t=i.value;t.data&&(o+=t.data.length)}}catch(n){e.e(n)}finally{e.f()}}return o}var Gd=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})};function pm(s){return s&&!!s.data}function L0(s){return s&&Array.isArray(s.edits)}var Hw=Object(w.a)(function s(o,e,i){Object(k.a)(this,s),this.provider=o,this.tokens=e,this.error=i});function M0(s,o){return s.has(o)}function Uw(s,o){var e=s.orderedGroups(o);return e.length>0?e[0]:[]}function T0(s,o,e,i,t){return Gd(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this,l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return l=Uw(s,o),ie.next=3,Promise.all(l.map(function(je){return Gd(r,void 0,void 0,Object(d.a)().mark(function Ie(){var st,ft;return Object(d.a)().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:return ft=null,$t.prev=1,$t.next=4,je.provideDocumentSemanticTokens(o,je===e?i:null,t);case 4:st=$t.sent,$t.next=11;break;case 7:$t.prev=7,$t.t0=$t.catch(1),ft=$t.t0,st=null;case 11:return(!st||!pm(st)&&!L0(st))&&(st=null),$t.abrupt("return",new Hw(je,st,ft));case 13:case"end":return $t.stop()}},Ie,null,[[1,7]])}))}));case 3:c=ie.sent,h=Object(B.a)(c),ie.prev=5,h.s();case 7:if((f=h.n()).done){ie.next=15;break}if(R=f.value,!R.error){ie.next=11;break}throw R.error;case 11:if(!R.tokens){ie.next=13;break}return ie.abrupt("return",R);case 13:ie.next=7;break;case 15:ie.next=20;break;case 17:ie.prev=17,ie.t0=ie.catch(5),h.e(ie.t0);case 20:return ie.prev=20,h.f(),ie.finish(20);case 23:if(!(c.length>0)){ie.next=25;break}return ie.abrupt("return",c[0]);case 25:return ie.abrupt("return",null);case 26:case"end":return ie.stop()}},n,null,[[5,17,20,23]])}))}function zw(s,o){var e=s.orderedGroups(o);return e.length>0?e[0]:null}var Kw=Object(w.a)(function s(o,e){Object(k.a)(this,s),this.provider=o,this.tokens=e});function Gw(s,o){return s.has(o)}function I0(s,o){var e=s.orderedGroups(o);return e.length>0?e[0]:[]}function ub(s,o,e,i){return Gd(this,void 0,void 0,Object(d.a)().mark(function t(){var n=this,r,l,c,h,f;return Object(d.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return r=I0(s,o),Z.next=3,Promise.all(r.map(function(ie){return Gd(n,void 0,void 0,Object(d.a)().mark(function je(){var Ie;return Object(d.a)().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:return ft.prev=0,ft.next=3,ie.provideDocumentRangeSemanticTokens(o,e,i);case 3:Ie=ft.sent,ft.next=10;break;case 6:ft.prev=6,ft.t0=ft.catch(0),Object(zi.i)(ft.t0),Ie=null;case 10:return(!Ie||!pm(Ie))&&(Ie=null),ft.abrupt("return",new Kw(ie,Ie));case 12:case"end":return ft.stop()}},je,null,[[0,6]])}))}));case 3:l=Z.sent,c=Object(B.a)(l),Z.prev=5,c.s();case 7:if((h=c.n()).done){Z.next=13;break}if(f=h.value,!f.tokens){Z.next=11;break}return Z.abrupt("return",f);case 11:Z.next=7;break;case 13:Z.next=18;break;case 15:Z.prev=15,Z.t0=Z.catch(5),c.e(Z.t0);case 18:return Z.prev=18,c.f(),Z.finish(18);case 21:if(!(l.length>0)){Z.next=23;break}return Z.abrupt("return",l[0]);case 23:return Z.abrupt("return",null);case 24:case"end":return Z.stop()}},t,null,[[5,15,18,21]])}))}ia.a.registerCommand("_provideDocumentSemanticTokensLegend",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return Gd(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(n=e[0],Object(Yr.b)(n instanceof Wr.a),r=s.get(xa.a).getModel(n),r){R.next=5;break}return R.abrupt("return",void 0);case 5:if(l=s.get(Nr.a),c=l.documentSemanticTokensProvider,h=zw(c,r),h){R.next=9;break}return R.abrupt("return",s.get(ia.b).executeCommand("_provideDocumentRangeSemanticTokensLegend",n));case 9:return R.abrupt("return",h[0].getLegend());case 10:case"end":return R.stop()}},t)}))}),ia.a.registerCommand("_provideDocumentSemanticTokens",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return Gd(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R,Z;return Object(d.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(n=e[0],Object(Yr.b)(n instanceof Wr.a),r=s.get(xa.a).getModel(n),r){je.next=5;break}return je.abrupt("return",void 0);case 5:if(l=s.get(Nr.a),c=l.documentSemanticTokensProvider,M0(c,r)){je.next=8;break}return je.abrupt("return",s.get(ia.b).executeCommand("_provideDocumentRangeSemanticTokens",n,r.getFullModelRange()));case 8:return je.next=10,T0(c,r,null,null,Zi.a.None);case 10:if(h=je.sent,h){je.next=13;break}return je.abrupt("return",void 0);case 13:if(f=h.provider,R=h.tokens,!(!R||!pm(R))){je.next=16;break}return je.abrupt("return",void 0);case 16:return Z=E0({id:0,type:"full",data:R.data}),R.resultId&&f.releaseDocumentSemanticTokens(R.resultId),je.abrupt("return",Z);case 19:case"end":return je.stop()}},t)}))}),ia.a.registerCommand("_provideDocumentRangeSemanticTokensLegend",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return Gd(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(n=e[0],r=e[1],Object(Yr.b)(n instanceof Wr.a),l=s.get(xa.a).getModel(n),l){ie.next=5;break}return ie.abrupt("return",void 0);case 5:if(c=s.get(Nr.a),h=c.documentRangeSemanticTokensProvider,f=I0(h,l),f.length!==0){ie.next=9;break}return ie.abrupt("return",void 0);case 9:if(f.length!==1){ie.next=11;break}return ie.abrupt("return",f[0].getLegend());case 11:if(!(!r||!Dt.a.isIRange(r))){ie.next=14;break}return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),ie.abrupt("return",f[0].getLegend());case 14:return ie.next=16,ub(h,l,Dt.a.lift(r),Zi.a.None);case 16:if(R=ie.sent,R){ie.next=19;break}return ie.abrupt("return",void 0);case 19:return ie.abrupt("return",R.provider.getLegend());case 20:case"end":return ie.stop()}},t)}))}),ia.a.registerCommand("_provideDocumentRangeSemanticTokens",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return Gd(void 0,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c,h,f;return Object(d.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(n=e[0],r=e[1],Object(Yr.b)(n instanceof Wr.a),Object(Yr.b)(Dt.a.isIRange(r)),l=s.get(xa.a).getModel(n),l){Z.next=6;break}return Z.abrupt("return",void 0);case 6:return c=s.get(Nr.a),h=c.documentRangeSemanticTokensProvider,Z.next=9,ub(h,l,Dt.a.lift(r),Zi.a.None);case 9:if(f=Z.sent,!(!f||!f.tokens)){Z.next=12;break}return Z.abrupt("return",void 0);case 12:return Z.abrupt("return",E0({id:0,type:"full",data:f.tokens.data}));case 13:case"end":return Z.stop()}},t)}))});var cb=a("DF6W"),db="editor.semanticHighlighting";function hb(s,o,e){var i,t=(i=e.getValue(db,{overrideIdentifier:s.getLanguageId(),resource:s.uri}))===null||i===void 0?void 0:i.enabled;return typeof t=="boolean"?t:o.getColorTheme().semanticHighlighting}var P0=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Bc=function(s,o){return function(e,i){o(e,i,s)}},fb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c){var h;Object(k.a)(this,e),h=o.call(this),h._watchers=Object.create(null);var f=function(je){h._watchers[je.uri.toString()]=new rg(je,i,n,l,c)},R=function(je,Ie){Ie.dispose(),delete h._watchers[je.uri.toString()]},Z=function(){var je=Object(B.a)(t.getModels()),Ie;try{for(je.s();!(Ie=je.n()).done;){var st=Ie.value,ft=h._watchers[st.uri.toString()];hb(st,n,r)?ft||f(st):ft&&R(st,ft)}}catch(kt){je.e(kt)}finally{je.f()}};return h._register(t.onModelAdded(function(ie){hb(ie,n,r)&&f(ie)})),h._register(t.onModelRemoved(function(ie){var je=h._watchers[ie.uri.toString()];je&&R(ie,je)})),h._register(r.onDidChangeConfiguration(function(ie){ie.affectsConfiguration(db)&&Z()})),h._register(n.onDidColorThemeChange(Z)),h}return Object(w.a)(e,[{key:"dispose",value:function(){for(var t=0,n=Object.values(this._watchers);t<n.length;t++){var r=n[t];r.dispose()}Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}}]),e}(Ze.a);fb=P0([Bc(0,cb.a),Bc(1,xa.a),Bc(2,Oi.b),Bc(3,Po.a),Bc(4,Ks.a),Bc(5,Nr.a)],fb);var rg=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l){var c;Object(k.a)(this,e),c=o.call(this),c._semanticTokensStylingService=t,c._isDisposed=!1,c._model=i,c._provider=l.documentSemanticTokensProvider,c._debounceInformation=r.for(c._provider,"DocumentSemanticTokens",{min:e.REQUEST_MIN_DELAY,max:e.REQUEST_MAX_DELAY}),c._fetchDocumentSemanticTokens=c._register(new et.g(function(){return c._fetchDocumentSemanticTokensNow()},e.REQUEST_MIN_DELAY)),c._currentDocumentResponse=null,c._currentDocumentRequestCancellationTokenSource=null,c._documentProvidersChangeListeners=[],c._providersChangedDuringRequest=!1,c._register(c._model.onDidChangeContent(function(){c._fetchDocumentSemanticTokens.isScheduled()||c._fetchDocumentSemanticTokens.schedule(c._debounceInformation.get(c._model))})),c._register(c._model.onDidChangeAttached(function(){c._fetchDocumentSemanticTokens.isScheduled()||c._fetchDocumentSemanticTokens.schedule(c._debounceInformation.get(c._model))})),c._register(c._model.onDidChangeLanguage(function(){c._currentDocumentResponse&&(c._currentDocumentResponse.dispose(),c._currentDocumentResponse=null),c._currentDocumentRequestCancellationTokenSource&&(c._currentDocumentRequestCancellationTokenSource.cancel(),c._currentDocumentRequestCancellationTokenSource=null),c._setDocumentSemanticTokens(null,null,null,[]),c._fetchDocumentSemanticTokens.schedule(0)}));var h=function(){Object(Ze.i)(c._documentProvidersChangeListeners),c._documentProvidersChangeListeners=[];var R=Object(B.a)(c._provider.all(i)),Z;try{for(R.s();!(Z=R.n()).done;){var ie=Z.value;typeof ie.onDidChange=="function"&&c._documentProvidersChangeListeners.push(ie.onDidChange(function(){if(c._currentDocumentRequestCancellationTokenSource){c._providersChangedDuringRequest=!0;return}c._fetchDocumentSemanticTokens.schedule(0)}))}}catch(je){R.e(je)}finally{R.f()}};return h(),c._register(c._provider.onDidChange(function(){h(),c._fetchDocumentSemanticTokens.schedule(c._debounceInformation.get(c._model))})),c._register(n.onDidColorThemeChange(function(f){c._setDocumentSemanticTokens(null,null,null,[]),c._fetchDocumentSemanticTokens.schedule(c._debounceInformation.get(c._model))})),c._fetchDocumentSemanticTokens.schedule(0),c}return Object(w.a)(e,[{key:"dispose",value:function(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"_fetchDocumentSemanticTokensNow",value:function(){var t=this;if(!this._currentDocumentRequestCancellationTokenSource){if(!M0(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!!this._model.isAttachedToEditor()){var n=new Zi.b,r=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,l=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,c=T0(this._provider,this._model,r,l,n.token);this._currentDocumentRequestCancellationTokenSource=n,this._providersChangedDuringRequest=!1;var h=[],f=this._model.onDidChangeContent(function(Z){h.push(Z)}),R=new Ds.a(!1);c.then(function(Z){if(t._debounceInformation.update(t._model,R.elapsed()),t._currentDocumentRequestCancellationTokenSource=null,f.dispose(),!Z)t._setDocumentSemanticTokens(null,null,null,h);else{var ie=Z.provider,je=Z.tokens,Ie=t._semanticTokensStylingService.getStyling(ie);t._setDocumentSemanticTokens(ie,je||null,Ie,h)}},function(Z){var ie=Z&&(zi.g(Z)||typeof Z.message=="string"&&Z.message.indexOf("busy")!==-1);ie||zi.h(Z),t._currentDocumentRequestCancellationTokenSource=null,f.dispose(),(h.length>0||t._providersChangedDuringRequest)&&(t._fetchDocumentSemanticTokens.isScheduled()||t._fetchDocumentSemanticTokens.schedule(t._debounceInformation.get(t._model)))})}}}},{key:"_setDocumentSemanticTokens",value:function(t,n,r,l){var c=this,h=this._currentDocumentResponse,f=function(){(l.length>0||c._providersChangedDuringRequest)&&!c._fetchDocumentSemanticTokens.isScheduled()&&c._fetchDocumentSemanticTokens.schedule(c._debounceInformation.get(c._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){t&&n&&t.releaseDocumentSemanticTokens(n.resultId);return}if(!t||!r){this._model.tokenization.setSemanticTokens(null,!1);return}if(!n){this._model.tokenization.setSemanticTokens(null,!0),f();return}if(L0(n)){if(!h){this._model.tokenization.setSemanticTokens(null,!0);return}if(n.edits.length===0)n={resultId:n.resultId,data:h.data};else{var R=0,Z=Object(B.a)(n.edits),ie;try{for(Z.s();!(ie=Z.n()).done;){var je=ie.value;R+=(je.data?je.data.length:0)-je.deleteCount}}catch(Fr){Z.e(Fr)}finally{Z.f()}for(var Ie=h.data,st=new Uint32Array(Ie.length+R),ft=Ie.length,kt=st.length,$t=n.edits.length-1;$t>=0;$t--){var un=n.edits[$t];if(un.start>Ie.length){r.warnInvalidEditStart(h.resultId,n.resultId,$t,un.start,Ie.length),this._model.tokenization.setSemanticTokens(null,!0);return}var Yn=ft-(un.start+un.deleteCount);Yn>0&&(e._copy(Ie,ft-Yn,st,kt-Yn,Yn),kt-=Yn),un.data&&(e._copy(un.data,0,st,kt-un.data.length,un.data.length),kt-=un.data.length),ft=un.start}ft>0&&e._copy(Ie,0,st,0,ft),n={resultId:n.resultId,data:st}}}if(pm(n)){this._currentDocumentResponse=new $w(t,n.resultId,n.data);var xn=Object(j0.b)(n,r,this._model.getLanguageId());if(l.length>0){var fi=Object(B.a)(l),Si;try{for(fi.s();!(Si=fi.n()).done;){var ji=Si.value,Bi=Object(B.a)(xn),Lr;try{for(Bi.s();!(Lr=Bi.n()).done;){var gr=Lr.value,jr=Object(B.a)(ji.changes),$r;try{for(jr.s();!($r=jr.n()).done;){var fa=$r.value;gr.applyEdit(fa.range,fa.text)}}catch(Fr){jr.e(Fr)}finally{jr.f()}}}catch(Fr){Bi.e(Fr)}finally{Bi.f()}}}catch(Fr){fi.e(Fr)}finally{fi.f()}}this._model.tokenization.setSemanticTokens(xn,!0)}else this._model.tokenization.setSemanticTokens(null,!0);f()}}],[{key:"_copy",value:function(t,n,r,l,c){c=Math.min(c,r.length-l,t.length-n);for(var h=0;h<c;h++)r[l+h]=t[n+h]}}]),e}(Ze.a);rg.REQUEST_MIN_DELAY=300,rg.REQUEST_MAX_DELAY=2e3,rg=P0([Bc(1,cb.a),Bc(2,Oi.b),Bc(3,Ks.a),Bc(4,Nr.a)],rg);var $w=function(){function s(o,e,i){Object(k.a)(this,s),this.provider=o,this.resultId=e,this.data=i}return Object(w.a)(s,[{key:"dispose",value:function(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}]),s}();Object(gu.b)(fb);var Qw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},ag=function(s,o){return function(e,i){o(e,i,s)}},og=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c){var h;Object(k.a)(this,e),h=o.call(this),h._semanticTokensStylingService=t,h._themeService=n,h._configurationService=r,h._editor=i,h._provider=c.documentRangeSemanticTokensProvider,h._debounceInformation=l.for(h._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),h._tokenizeViewport=h._register(new et.g(function(){return h._tokenizeViewportNow()},100)),h._outstandingRequests=[];var f=function(){h._editor.hasModel()&&h._tokenizeViewport.schedule(h._debounceInformation.get(h._editor.getModel()))};return h._register(h._editor.onDidScrollChange(function(){f()})),h._register(h._editor.onDidChangeModel(function(){h._cancelAll(),f()})),h._register(h._editor.onDidChangeModelContent(function(R){h._cancelAll(),f()})),h._register(h._provider.onDidChange(function(){h._cancelAll(),f()})),h._register(h._configurationService.onDidChangeConfiguration(function(R){R.affectsConfiguration(db)&&(h._cancelAll(),f())})),h._register(h._themeService.onDidColorThemeChange(function(){h._cancelAll(),f()})),f(),h}return Object(w.a)(e,[{key:"_cancelAll",value:function(){var t=Object(B.a)(this._outstandingRequests),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;r.cancel()}}catch(l){t.e(l)}finally{t.f()}this._outstandingRequests=[]}},{key:"_removeOutstandingRequest",value:function(t){for(var n=0,r=this._outstandingRequests.length;n<r;n++)if(this._outstandingRequests[n]===t){this._outstandingRequests.splice(n,1);return}}},{key:"_tokenizeViewportNow",value:function(){var t=this;if(!!this._editor.hasModel()){var n=this._editor.getModel();if(!n.tokenization.hasCompleteSemanticTokens()){if(!hb(n,this._themeService,this._configurationService)){n.tokenization.hasSomeSemanticTokens()&&n.tokenization.setSemanticTokens(null,!1);return}if(!Gw(this._provider,n)){n.tokenization.hasSomeSemanticTokens()&&n.tokenization.setSemanticTokens(null,!1);return}var r=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(r.map(function(l){return t._requestRange(n,l)}))}}}},{key:"_requestRange",value:function(t,n){var r=this,l=t.getVersionId(),c=Object(et.k)(function(f){return Promise.resolve(ub(r._provider,t,n,f))}),h=new Ds.a(!1);return c.then(function(f){if(r._debounceInformation.update(t,h.elapsed()),!(!f||!f.tokens||t.isDisposed()||t.getVersionId()!==l)){var R=f.provider,Z=f.tokens,ie=r._semanticTokensStylingService.getStyling(R);t.tokenization.setPartialSemanticTokens(n,Object(j0.b)(Z,ie,t.getLanguageId()))}}).then(function(){return r._removeOutstandingRequest(c)},function(){return r._removeOutstandingRequest(c)}),c}}]),e}(Ze.a);og.ID="editor.contrib.viewportSemanticTokens",og=Qw([ag(1,cb.a),ag(2,Oi.b),ag(3,Po.a),ag(4,Ks.a),ag(5,Nr.a)],og),Object(St.m)(og.ID,og,1);var Yw=function(){function s(){Object(k.a)(this,s)}return Object(w.a)(s,[{key:"provideSelectionRanges",value:function(e,i){var t=[],n=Object(B.a)(i),r;try{for(n.s();!(r=n.n()).done;){var l=r.value,c=[];t.push(c),this._addInWordRanges(c,e,l),this._addWordRanges(c,e,l),this._addWhitespaceLine(c,e,l),c.push({range:e.getFullModelRange()})}}catch(h){n.e(h)}finally{n.f()}return t}},{key:"_addInWordRanges",value:function(e,i,t){var n=i.getWordAtPosition(t);if(!!n){for(var r=n.word,l=n.startColumn,c=t.column-l,h=c,f=c,R=0;h>=0;h--){var Z=r.charCodeAt(h);if(h!==c&&(Z===95||Z===45))break;if(Object(Vn.H)(Z)&&Object(Vn.I)(R))break;R=Z}for(h+=1;f<r.length;f++){var ie=r.charCodeAt(f);if(Object(Vn.I)(ie)&&Object(Vn.H)(R))break;if(ie===95||ie===45)break;R=ie}h<f&&e.push({range:new Dt.a(t.lineNumber,l+h,t.lineNumber,l+f)})}}},{key:"_addWordRanges",value:function(e,i,t){var n=i.getWordAtPosition(t);n&&e.push({range:new Dt.a(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn)})}},{key:"_addWhitespaceLine",value:function(e,i,t){i.getLineLength(t.lineNumber)>0&&i.getLineFirstNonWhitespaceColumn(t.lineNumber)===0&&i.getLineLastNonWhitespaceColumn(t.lineNumber)===0&&e.push({range:new Dt.a(t.lineNumber,1,t.lineNumber,i.getLineMaxColumn(t.lineNumber))})}}]),s}(),Zw=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Xw=function(s,o){return function(e,i){o(e,i,s)}},bm=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Jw=function(){function s(o,e){Object(k.a)(this,s),this.index=o,this.ranges=e}return Object(w.a)(s,[{key:"mov",value:function(e){var i=this.index+(e?1:-1);if(i<0||i>=this.ranges.length)return this;var t=new s(i,this.ranges);return t.ranges[i].equalsRange(this.ranges[this.index])?t.mov(e):t}}]),s}(),Gf=function(){function s(o,e){Object(k.a)(this,s),this._editor=o,this._languageFeaturesService=e,this._ignoreSelection=!1}return Object(w.a)(s,[{key:"dispose",value:function(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}},{key:"run",value:function(e){return bm(this,void 0,void 0,Object(d.a)().mark(function i(){var t=this,n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this._editor.hasModel()){h.next=2;break}return h.abrupt("return");case 2:if(n=this._editor.getSelections(),r=this._editor.getModel(),this._state){h.next=7;break}return h.next=7,R0(this._languageFeaturesService.selectionRangeProvider,r,n.map(function(f){return f.getPosition()}),this._editor.getOption(109),Zi.a.None).then(function(f){var R;if(!(!or.s(f)||f.length!==n.length)&&!(!t._editor.hasModel()||!or.j(t._editor.getSelections(),n,function(je,Ie){return je.equalsSelection(Ie)}))){for(var Z=function(Ie){f[Ie]=f[Ie].filter(function(st){return st.containsPosition(n[Ie].getStartPosition())&&st.containsPosition(n[Ie].getEndPosition())}),f[Ie].unshift(n[Ie])},ie=0;ie<f.length;ie++)Z(ie);t._state=f.map(function(je){return new Jw(0,je)}),(R=t._selectionListener)===null||R===void 0||R.dispose(),t._selectionListener=t._editor.onDidChangeCursorPosition(function(){var je;t._ignoreSelection||((je=t._selectionListener)===null||je===void 0||je.dispose(),t._state=void 0)})}});case 7:if(this._state){h.next=9;break}return h.abrupt("return");case 9:this._state=this._state.map(function(f){return f.mov(e)}),l=this._state.map(function(f){return Gi.a.fromPositions(f.ranges[f.index].getStartPosition(),f.ranges[f.index].getEndPosition())}),this._ignoreSelection=!0;try{this._editor.setSelections(l)}finally{this._ignoreSelection=!1}case 13:case"end":return h.stop()}},i,this)}))}}],[{key:"get",value:function(e){return e.getContribution(s.ID)}}]),s}();Gf.ID="editor.contrib.smartSelectController",Gf=Zw([Xw(1,Nr.a)],Gf);var A0=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this,t),n._forward=i,n}return Object(w.a)(e,[{key:"run",value:function(t,n){return bm(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l=Gf.get(n),!l){h.next=4;break}return h.next=4,l.run(this._forward);case 4:case"end":return h.stop()}},r,this)}))}}]),e}(St.b),qw=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!0,{id:"editor.action.smartSelect.expand",label:Qe.b("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:an.a.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"1_basic",title:Qe.b({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}return Object(w.a)(e)}(A0);ia.a.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var ej=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!1,{id:"editor.action.smartSelect.shrink",label:Qe.b("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:an.a.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:kn.c.MenubarSelectionMenu,group:"1_basic",title:Qe.b({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}return Object(w.a)(e)}(A0);Object(St.m)(Gf.ID,Gf,4),Object(St.k)(qw),Object(St.k)(ej);function R0(s,o,e,i,t){return bm(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l,c,h,f,R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:r=s.all(o).concat(new Yw),r.length===1&&r.unshift(new tm),l=[],c=[],h=Object(B.a)(r);try{for(h.s();!(f=h.n()).done;)R=f.value,l.push(Promise.resolve(R.provideSelectionRanges(o,e,t)).then(function(je){if(or.s(je)&&je.length===e.length)for(var Ie=0;Ie<e.length;Ie++){c[Ie]||(c[Ie]=[]);var st=Object(B.a)(je[Ie]),ft;try{for(st.s();!(ft=st.n()).done;){var kt=ft.value;Dt.a.isIRange(kt.range)&&Dt.a.containsPosition(kt.range,e[Ie])&&c[Ie].push(Dt.a.lift(kt.range))}}catch($t){st.e($t)}finally{st.f()}}},zi.i))}catch(je){h.e(je)}finally{h.f()}return ie.next=8,Promise.all(l);case 8:return ie.abrupt("return",c.map(function(je){if(je.length===0)return[];je.sort(function(Bi,Lr){return tn.a.isBefore(Bi.getStartPosition(),Lr.getStartPosition())?1:tn.a.isBefore(Lr.getStartPosition(),Bi.getStartPosition())||tn.a.isBefore(Bi.getEndPosition(),Lr.getEndPosition())?-1:tn.a.isBefore(Lr.getEndPosition(),Bi.getEndPosition())?1:0});var Ie=[],st,ft=Object(B.a)(je),kt;try{for(ft.s();!(kt=ft.n()).done;){var $t=kt.value;(!st||Dt.a.containsRange($t,st)&&!Dt.a.equalsRange($t,st))&&(Ie.push($t),st=$t)}}catch(Bi){ft.e(Bi)}finally{ft.f()}if(!i.selectLeadingAndTrailingWhitespace)return Ie;for(var un=[Ie[0]],Yn=1;Yn<Ie.length;Yn++){var xn=Ie[Yn-1],fi=Ie[Yn];if(fi.startLineNumber!==xn.startLineNumber||fi.endLineNumber!==xn.endLineNumber){var Si=new Dt.a(xn.startLineNumber,o.getLineFirstNonWhitespaceColumn(xn.startLineNumber),xn.endLineNumber,o.getLineLastNonWhitespaceColumn(xn.endLineNumber));Si.containsRange(xn)&&!Si.equalsRange(xn)&&fi.containsRange(Si)&&!fi.equalsRange(Si)&&un.push(Si);var ji=new Dt.a(xn.startLineNumber,1,xn.endLineNumber,o.getLineMaxColumn(xn.endLineNumber));ji.containsRange(xn)&&!ji.equalsRange(Si)&&fi.containsRange(ji)&&!fi.equalsRange(ji)&&un.push(ji)}un.push(fi)}return un}));case 9:case"end":return ie.stop()}},n)}))}ia.a.registerCommand("_executeSelectionRangeProvider",function(s){for(var o=arguments.length,e=new Array(o>1?o-1:0),i=1;i<o;i++)e[i-1]=arguments[i];return bm(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=e[0],r=e[1],Object(Yr.b)(Wr.a.isUri(n)),l=s.get(Nr.a).selectionRangeProvider,f.next=5,s.get(Ur.a).createModelReference(n);case 5:return c=f.sent,f.prev=6,f.abrupt("return",R0(l,c.object.textEditorModel,r,{selectLeadingAndTrailingWhitespace:!0},Zi.a.None));case 8:return f.prev=8,c.dispose(),f.finish(8);case 11:case"end":return f.stop()}},t,null,[[6,,8,11]])}))});var tj=Object.freeze({View:{value:Object(Qe.b)("view","View"),original:"View"},Help:{value:Object(Qe.b)("help","Help"),original:"Help"},Test:{value:Object(Qe.b)("test","Test"),original:"Test"},File:{value:Object(Qe.b)("file","File"),original:"File"},Preferences:{value:Object(Qe.b)("preferences","Preferences"),original:"Preferences"},Developer:{value:Object(Qe.b)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}}),nj=a("XSiN"),cL=a("o/5H"),N0=Object(w.a)(function s(o,e){Object(k.a)(this,s),this.lineNumbers=o,this.lastLineRelativePosition=e}),x0=Object(Ma.a)("stickyScrollViewLayer",{createHTML:function(o){return o}}),ij=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t._editor=i,t._rootDomNode=document.createElement("div"),t._disposableStore=t._register(new Ze.c),t._lineNumbers=[],t._lastLineRelativePosition=0,t._hoverOnLine=-1,t._hoverOnColumn=-1,t._layoutInfo=t._editor.getLayoutInfo(),t._rootDomNode=document.createElement("div"),t._rootDomNode.className="sticky-widget",t._rootDomNode.classList.toggle("peek",i instanceof ys),t._rootDomNode.style.width="".concat(t._layoutInfo.width-t._layoutInfo.minimap.minimapCanvasOuterWidth-t._layoutInfo.verticalScrollbarWidth,"px"),t}return Object(w.a)(e,[{key:"hoverOnLine",get:function(){return this._hoverOnLine}},{key:"hoverOnColumn",get:function(){return this._hoverOnColumn}},{key:"lineNumbers",get:function(){return this._lineNumbers}},{key:"getCurrentLines",value:function(){return this._lineNumbers}},{key:"setState",value:function(t){Bt.clearNode(this._rootDomNode),this._disposableStore.clear(),this._lineNumbers.length=0;var n=this._editor.getOption(64),r=t.lineNumbers.length*n+t.lastLineRelativePosition;r>0?(this._lastLineRelativePosition=t.lastLineRelativePosition,this._lineNumbers=t.lineNumbers):(this._lastLineRelativePosition=0,this._lineNumbers=[]),this._renderRootNode()}},{key:"_renderRootNode",value:function(){if(!!this._editor._getViewModel()){var t=Object(B.a)(this._lineNumbers.entries()),n;try{for(t.s();!(n=t.n()).done;){var r=n.value,l=Object(z.a)(r,2),c=l[0],h=l[1],f=this._renderChildNode(c,h);this._rootDomNode.appendChild(f)}}catch(je){t.e(je)}finally{t.f()}var R=this._editor.getOption(64),Z=this._lineNumbers.length*R+this._lastLineRelativePosition;this._rootDomNode.style.display=Z>0?"block":"none",this._rootDomNode.style.height=Z.toString()+"px",this._rootDomNode.setAttribute("role","list");var ie=this._editor.getOption(70).side;ie==="left"&&(this._rootDomNode.style.marginLeft=this._editor.getLayoutInfo().minimap.minimapCanvasOuterWidth+"px")}}},{key:"_renderChildNode",value:function(t,n){var r=this,l=document.createElement("div"),c=this._editor._getViewModel(),h=c.coordinatesConverter.convertModelPositionToViewPosition(new tn.a(n,1)).lineNumber,f=c.getViewLineRenderingData(h),R=this._editor.getLayoutInfo(),Z=R.width-R.minimap.minimapCanvasOuterWidth-R.verticalScrollbarWidth,ie=this._editor.getOption(70).side,je=this._editor.getOption(64),Ie=this._editor.getOption(65),st;try{st=kp.a.filter(f.inlineDecorations,h,f.minColumn,f.maxColumn)}catch(fi){st=[]}var ft=new Qg.c(!0,!0,f.content,f.continuesWithWrappedLine,f.isBasicASCII,f.containsRTL,0,f.tokens,st,f.tabSize,f.startVisibleColumn,1,1,1,500,"none",!0,!0,null),kt=new h_.a(2e3);Object(Qg.d)(ft,kt);var $t;x0?$t=x0.createHTML(kt.build()):$t=kt.build();var un=document.createElement("span");un.className="sticky-line",un.classList.add("stickyLine".concat(n)),un.style.lineHeight="".concat(je,"px"),un.innerHTML=$t;var Yn=document.createElement("span");Yn.className="sticky-line",Yn.style.lineHeight="".concat(je,"px"),ie==="left"?Yn.style.width="".concat(R.contentLeft-R.minimap.minimapCanvasOuterWidth,"px"):ie==="right"&&(Yn.style.width="".concat(R.contentLeft,"px"));var xn=document.createElement("span");return Ie.renderType===1||Ie.renderType===3&&n%10==0?xn.innerText=n.toString():Ie.renderType===2&&(xn.innerText=Math.abs(n-this._editor.getPosition().lineNumber).toString()),xn.className="sticky-line-number",xn.style.lineHeight="".concat(je,"px"),xn.style.width="".concat(R.lineNumbersWidth,"px"),ie==="left"?xn.style.paddingLeft="".concat(R.lineNumbersLeft-R.minimap.minimapCanvasOuterWidth,"px"):ie==="right"&&(xn.style.paddingLeft="".concat(R.lineNumbersLeft,"px")),Yn.appendChild(xn),this._editor.applyFontInfo(un),this._editor.applyFontInfo(xn),l.appendChild(Yn),l.appendChild(un),l.className="sticky-line-root",l.setAttribute("role","listitem"),l.tabIndex=0,l.style.lineHeight="".concat(je,"px"),l.style.width="".concat(Z,"px"),l.style.height="".concat(je,"px"),l.style.zIndex="0",t===this._lineNumbers.length-1&&(l.style.position="relative",l.style.zIndex="-1",l.style.top=this._lastLineRelativePosition+"px"),this._disposableStore.add(Bt.addDisposableListener(l,"mouseover",function(fi){if(r._editor.hasModel()){var Si=new nj.a(fi),ji=Si.target.innerText;r._hoverOnLine=n,r._hoverOnColumn=r._editor.getModel().getLineContent(n).indexOf(ji)+1||-1}})),l}},{key:"getId",value:function(){return"editor.contrib.stickyScrollWidget"}},{key:"getDomNode",value:function(){return this._rootDomNode}},{key:"getPosition",value:function(){return{preference:null}}}]),e}(Ze.a),sg=Object(w.a)(function s(o,e){Object(k.a)(this,s),this.startLineNumber=o,this.endLineNumber=e}),ym=Object(w.a)(function s(o,e,i){Object(k.a)(this,s),this.range=o,this.children=e,this.parent=i}),vb=Object(w.a)(function s(o,e,i,t){Object(k.a)(this,s),this.uri=o,this.version=e,this.element=i,this.outlineProviderId=t}),_m=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},lg=function(s,o){return function(e,i){o(e,i,s)}},F0=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},ug;(function(s){s.OUTLINE_MODEL="outlineModel",s.FOLDING_PROVIDER_MODEL="foldingProviderModel",s.INDENTATION_MODEL="indentationModel"})(ug||(ug={}));var $d;(function(s){s[s.VALID=0]="VALID",s[s.INVALID=1]="INVALID",s[s.CANCELED=2]="CANCELED"})($d||($d={}));var gb=function(){function s(o,e,i,t){Object(k.a)(this,s),this._editor=o,this._languageConfigurationService=e,this._languageFeaturesService=i,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=new et.c(300);var n=new mb(i),r=new bb(this._editor,i),l=new pb(this._editor,e);switch(t){case ug.OUTLINE_MODEL:this._modelProviders.push(n),this._modelProviders.push(r),this._modelProviders.push(l);break;case ug.FOLDING_PROVIDER_MODEL:this._modelProviders.push(r),this._modelProviders.push(l);break;case ug.INDENTATION_MODEL:this._modelProviders.push(l);break}this._store=new Ze.c}return Object(w.a)(s,[{key:"_cancelModelPromise",value:function(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}},{key:"update",value:function(e,i,t){return F0(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this;return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this._store.clear(),this._store.add({dispose:function(){var f;r._cancelModelPromise(),(f=r._updateScheduler)===null||f===void 0||f.cancel()}}),this._cancelModelPromise(),c.next=5,this._updateScheduler.trigger(function(){return F0(r,void 0,void 0,Object(d.a)().mark(function h(){var f,R,Z,ie,je,Ie,st;return Object(d.a)().wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:f=Object(B.a)(this._modelProviders),kt.prev=1,f.s();case 3:if((R=f.n()).done){kt.next=20;break}return Z=R.value,ie=Z.computeStickyModel(e,i,t),je=ie.statusPromise,Ie=ie.modelPromise,this._modelPromise=Ie,kt.next=9,je;case 9:if(st=kt.sent,this._modelPromise===Ie){kt.next=12;break}return kt.abrupt("return",null);case 12:kt.t0=st,kt.next=kt.t0===$d.CANCELED?15:kt.t0===$d.VALID?17:18;break;case 15:return this._store.clear(),kt.abrupt("return",null);case 17:return kt.abrupt("return",Z.stickyModel);case 18:kt.next=3;break;case 20:kt.next=25;break;case 22:kt.prev=22,kt.t1=kt.catch(1),f.e(kt.t1);case 25:return kt.prev=25,f.f(),kt.finish(25);case 28:return kt.abrupt("return",null);case 29:case"end":return kt.stop()}},h,this,[[1,22,25,28]])}))});case 5:return c.abrupt("return",c.sent);case 6:case"end":return c.stop()}},n,this)}))}}]),s}();gb=_m([lg(1,Ro.a),lg(2,Nr.a)],gb);var B0=function(){function s(){Object(k.a)(this,s),this._stickyModel=null}return Object(w.a)(s,[{key:"stickyModel",get:function(){return this._stickyModel}},{key:"_invalid",value:function(){return this._stickyModel=null,$d.INVALID}},{key:"computeStickyModel",value:function(e,i,t){var n=this;if(t.isCancellationRequested||!this.isProviderValid(e))return{statusPromise:this._invalid(),modelPromise:null};var r=Object(et.k)(function(l){return n.createModelFromProvider(e,i,l)});return{statusPromise:r.then(function(l){return n.isModelValid(l)?t.isCancellationRequested?$d.CANCELED:(n._stickyModel=n.createStickyModel(e,i,t,l),$d.VALID):n._invalid()}).then(void 0,function(l){return Object(zi.h)(l),$d.CANCELED}),modelPromise:r}}},{key:"isModelValid",value:function(e){return!0}},{key:"isProviderValid",value:function(e){return!0}}]),s}(),mb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t._languageFeaturesService=i,t}return Object(w.a)(e,[{key:"createModelFromProvider",value:function(t,n,r){return d_.create(this._languageFeaturesService.documentSymbolProvider,t,r)}},{key:"createStickyModel",value:function(t,n,r,l){var c,h=this._stickyModelFromOutlineModel(l,(c=this._stickyModel)===null||c===void 0?void 0:c.outlineProviderId),f=h.stickyOutlineElement,R=h.providerID;return new vb(t.uri,n,f,R)}},{key:"isModelValid",value:function(t){return t&&t.children.size>0}},{key:"_stickyModelFromOutlineModel",value:function(t,n){var r=this,l;if(yl.a.first(t.children.values())instanceof c_){var c=yl.a.find(t.children.values(),function(ji){return ji.id===n});if(c)l=c.children;else{var h="",f=-1,R=void 0,Z=Object(B.a)(t.children.entries()),ie;try{for(Z.s();!(ie=Z.n()).done;){var je=ie.value,Ie=Object(z.a)(je,2),st=Ie[0],ft=Ie[1],kt=this._findSumOfRangesOfGroup(ft);kt>f&&(R=ft,f=kt,h=ft.id)}}catch(ji){Z.e(ji)}finally{Z.f()}n=h,l=R.children}}else l=t.children;var $t=[],un=Array.from(l.values()).sort(function(ji,Bi){var Lr=new sg(ji.symbol.range.startLineNumber,ji.symbol.range.endLineNumber),gr=new sg(Bi.symbol.range.startLineNumber,Bi.symbol.range.endLineNumber);return r._comparator(Lr,gr)}),Yn=Object(B.a)(un),xn;try{for(Yn.s();!(xn=Yn.n()).done;){var fi=xn.value;$t.push(this._stickyModelFromOutlineElement(fi,fi.symbol.selectionRange.startLineNumber))}}catch(ji){Yn.e(ji)}finally{Yn.f()}var Si=new ym(void 0,$t,void 0);return{stickyOutlineElement:Si,providerID:n}}},{key:"_stickyModelFromOutlineElement",value:function(t,n){var r=this,l=[],c=Object(B.a)(t.children.values()),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;if(f.symbol.selectionRange.startLineNumber!==f.symbol.range.endLineNumber)if(f.symbol.selectionRange.startLineNumber!==n)l.push(this._stickyModelFromOutlineElement(f,f.symbol.selectionRange.startLineNumber));else{var R=Object(B.a)(f.children.values()),Z;try{for(R.s();!(Z=R.n()).done;){var ie=Z.value;l.push(this._stickyModelFromOutlineElement(ie,f.symbol.selectionRange.startLineNumber))}}catch(Ie){R.e(Ie)}finally{R.f()}}}}catch(Ie){c.e(Ie)}finally{c.f()}l.sort(function(Ie,st){return r._comparator(Ie.range,st.range)});var je=new sg(t.symbol.selectionRange.startLineNumber,t.symbol.range.endLineNumber);return new ym(je,l,void 0)}},{key:"_comparator",value:function(t,n){return t.startLineNumber!==n.startLineNumber?t.startLineNumber-n.startLineNumber:n.endLineNumber-t.endLineNumber}},{key:"_findSumOfRangesOfGroup",value:function(t){var n=0,r=Object(B.a)(t.children.values()),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;n+=this._findSumOfRangesOfGroup(c)}}catch(h){r.e(h)}finally{r.f()}return t instanceof Op?n+t.symbol.range.endLineNumber-t.symbol.selectionRange.startLineNumber:n}}]),e}(B0);mb=_m([lg(0,Nr.a)],mb);var W0=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t._foldingLimitReporter=new s_(i),t}return Object(w.a)(e,[{key:"createStickyModel",value:function(t,n,r,l){var c=this._fromFoldingRegions(l);return new vb(t.uri,n,c,void 0)}},{key:"isModelValid",value:function(t){return t!==null}},{key:"_fromFoldingRegions",value:function(t){for(var n=t.length,r=[],l=new ym(void 0,[],void 0),c=0;c<n;c++){var h=t.getParentIndex(c),f=void 0;h!==-1?f=r[h]:f=l;var R=new ym(new sg(t.getStartLineNumber(c),t.getEndLineNumber(c)+1),[],f);f.children.push(R),r.push(R)}return l}}]),e}(B0),pb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this,i),n._languageConfigurationService=t,n}return Object(w.a)(e,[{key:"createModelFromProvider",value:function(t,n,r){var l=new gp(t,this._languageConfigurationService,this._foldingLimitReporter);return l.compute(r)}}]),e}(W0);pb=_m([lg(1,Ro.a)],pb);var bb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this,i),n._languageFeaturesService=t,n}return Object(w.a)(e,[{key:"isProviderValid",value:function(t){var n=ud.getFoldingRangeProviders(this._languageFeaturesService,t);return n.length>0}},{key:"createModelFromProvider",value:function(t,n,r){var l=this,c=ud.getFoldingRangeProviders(this._languageFeaturesService,t),h=new yp(t,c,function(){return l.createModelFromProvider(t,n,r)},this._foldingLimitReporter,void 0);return h.compute(r)}}]),e}(W0);bb=_m([lg(1,Nr.a)],bb);var rj=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},V0=function(s,o){return function(e,i){o(e,i,s)}},H0=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},aj=Object(w.a)(function s(o,e,i){Object(k.a)(this,s),this.startLineNumber=o,this.endLineNumber=e,this.nestingDepth=i}),yb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r._languageFeaturesService=t,r._languageConfigurationService=n,r._onDidChangeStickyScroll=r._store.add(new rr.b),r.onDidChangeStickyScroll=r._onDidChangeStickyScroll.event,r._options=null,r._model=null,r._cts=null,r._stickyModelProvider=null,r._editor=i,r._sessionStore=new Ze.c,r._updateSoon=r._register(new et.g(function(){return r.update()},50)),r._register(r._editor.onDidChangeConfiguration(function(l){l.hasChanged(111)&&r.readConfiguration()})),r.readConfiguration(),r}return Object(w.a)(e,[{key:"dispose",value:function(){Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this),this._sessionStore.dispose()}},{key:"readConfiguration",value:function(){var t=this;if(this._options=this._editor.getOption(111),!this._options.enabled){this._sessionStore.clear();return}this._stickyModelProvider=new gb(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel),this._sessionStore.add(this._editor.onDidChangeModel(function(){return t.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(function(){return t.update()})),this._sessionStore.add(this._editor.onDidChangeModelContent(function(){return t._updateSoon.schedule()})),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(function(){return t.update()})),this.update()}},{key:"getVersionId",value:function(){var t;return(t=this._model)===null||t===void 0?void 0:t.version}},{key:"update",value:function(){var t;return H0(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return(t=this._cts)===null||t===void 0||t.dispose(!0),this._cts=new Zi.b,l.next=4,this.updateStickyModel(this._cts.token);case 4:this._onDidChangeStickyScroll.fire();case 5:case"end":return l.stop()}},n,this)}))}},{key:"updateStickyModel",value:function(t){return H0(this,void 0,void 0,Object(d.a)().mark(function n(){var r=this,l,c,h,f;return Object(d.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(!this._editor.hasModel()||!this._stickyModelProvider)){Z.next=2;break}return Z.abrupt("return");case 2:return l=this._editor.getModel(),c=l.getVersionId(),h=this._model?!Object(Za.g)(this._model.uri,l.uri):!1,f=h?setTimeout(function(){t.isCancellationRequested||(r._model=new vb(l.uri,l.getVersionId(),void 0,void 0),r._onDidChangeStickyScroll.fire())},75):void 0,Z.next=8,this._stickyModelProvider.update(l,c,t);case 8:this._model=Z.sent,clearTimeout(f);case 10:case"end":return Z.stop()}},n,this)}))}},{key:"updateIndex",value:function(t){return t===-1?t=0:t<0&&(t=-t-2),t}},{key:"getCandidateStickyLinesIntersectingFromStickyModel",value:function(t,n,r,l,c){if(n.children.length!==0){for(var h=c,f=[],R=0;R<n.children.length;R++){var Z=n.children[R];Z.range&&f.push(Z.range.startLineNumber)}for(var ie=this.updateIndex(Object(or.e)(f,t.startLineNumber,function($t,un){return $t-un})),je=this.updateIndex(Object(or.e)(f,t.startLineNumber+l,function($t,un){return $t-un})),Ie=ie;Ie<=je;Ie++){var st=n.children[Ie];if(!st)return;if(st.range){var ft=st.range.startLineNumber,kt=st.range.endLineNumber;t.startLineNumber<=kt+1&&ft-1<=t.endLineNumber&&ft!==h&&(h=ft,r.push(new aj(ft,kt-1,l+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(t,st,r,l+1,ft))}else this.getCandidateStickyLinesIntersectingFromStickyModel(t,st,r,l,c)}}}},{key:"getCandidateStickyLinesIntersecting",value:function(t){var n,r;if(!((n=this._model)===null||n===void 0?void 0:n.element))return[];var l=[];this.getCandidateStickyLinesIntersectingFromStickyModel(t,this._model.element,l,0,-1);var c=(r=this._editor._getViewModel())===null||r===void 0?void 0:r.getHiddenAreas();if(c){var h=Object(B.a)(c),f;try{var R=function(){var ie=f.value;l=l.filter(function(je){return!(je.startLineNumber>=ie.startLineNumber&&je.endLineNumber<=ie.endLineNumber+1)})};for(h.s();!(f=h.n()).done;)R()}catch(Z){h.e(Z)}finally{h.f()}}return l}}]),e}(Ze.a);yb=rj([V0(1,Nr.a),V0(2,Ro.a)],yb);var oj=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},$f=function(s,o){return function(e,i){o(e,i,s)}},U0=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Wc=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h){var f;Object(k.a)(this,e),f=o.call(this),f._editor=i,f._contextMenuService=t,f._languageFeaturesService=n,f._instaService=r,f._contextKeyService=h,f._sessionStore=new Ze.c,f._maxStickyLines=Number.MAX_SAFE_INTEGER,f._candidateDefinitionsLength=-1,f._focusedStickyElementIndex=-1,f._enabled=!1,f._focused=!1,f._positionRevealed=!1,f._onMouseDown=!1,f._stickyScrollWidget=new ij(f._editor),f._stickyLineCandidateProvider=new yb(f._editor,n,l),f._register(f._stickyScrollWidget),f._register(f._stickyLineCandidateProvider),f._widgetState=new N0([],0),f._readConfiguration(),f._register(f._editor.onDidChangeConfiguration(function(Z){Z.hasChanged(111)&&f._readConfiguration()})),f._register(Bt.addDisposableListener(f._stickyScrollWidget.getDomNode(),Bt.EventType.CONTEXT_MENU,function(Z){return U0(Object(pi.a)(f),void 0,void 0,Object(d.a)().mark(function ie(){return Object(d.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:this._onContextMenu(Z);case 1:case"end":return Ie.stop()}},ie,this)}))})),f._stickyScrollFocusedContextKey=an.a.stickyScrollFocused.bindTo(f._contextKeyService),f._stickyScrollVisibleContextKey=an.a.stickyScrollVisible.bindTo(f._contextKeyService);var R=f._register(Bt.trackFocus(f._stickyScrollWidget.getDomNode()));return f._register(R.onDidBlur(function(Z){var ie=f._stickyScrollWidget.getDomNode().clientHeight;f._positionRevealed===!1&&ie===0?(f._focusedStickyElementIndex=-1,f.focus()):f._disposeFocusStickyScrollStore()})),f._register(R.onDidFocus(function(Z){f.focus()})),f._register(f._createClickLinkGesture()),f._register(Bt.addDisposableListener(f._stickyScrollWidget.getDomNode(),Bt.EventType.MOUSE_DOWN,function(Z){f._onMouseDown=!0})),f}return Object(w.a)(e,[{key:"_disposeFocusStickyScrollStore",value:function(){var t;this._stickyScrollFocusedContextKey.set(!1),(t=this._focusDisposableStore)===null||t===void 0||t.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}},{key:"focus",value:function(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}var t=this._stickyScrollFocusedContextKey.get();if(t!==!0){this._focused=!0,this._focusDisposableStore=new Ze.c,this._stickyScrollFocusedContextKey.set(!0);var n=this._stickyScrollWidget.getDomNode();n.lastElementChild.focus(),this._stickyElements=n.children,this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1}}},{key:"focusNext",value:function(){this._focusedStickyElementIndex<this._stickyElements.length-1&&this._focusNav(!0)}},{key:"focusPrevious",value:function(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}},{key:"selectEditor",value:function(){this._editor.focus()}},{key:"_focusNav",value:function(t){this._focusedStickyElementIndex=t?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyElements.item(this._focusedStickyElementIndex).focus()}},{key:"goToFocused",value:function(){var t=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:t[this._focusedStickyElementIndex],column:1})}},{key:"_revealPosition",value:function(t){this._positionRevealed=!0,this._editor.revealPosition(t),this._editor.setSelection(Dt.a.fromPositions(t)),this._editor.focus()}},{key:"_createClickLinkGesture",value:function(){var t=this,n=new Ze.c,r=new Ze.c;n.add(r);var l=new So(this._editor,!0);return n.add(l),n.add(l.onMouseMoveOrRelevantKeyDown(function(c){var h=Object(z.a)(c,2),f=h[0],R=h[1];if(!t._editor.hasModel()||!f.hasTriggerModifier){r.clear();return}var Z=f.target;if(Z.detail===t._stickyScrollWidget.getId()&&Z.element.innerText===Z.element.innerHTML){var ie=Z.element.innerText;if(t._stickyScrollWidget.hoverOnColumn===-1)return;var je=t._stickyScrollWidget.hoverOnLine,Ie=t._stickyScrollWidget.hoverOnColumn,st=new Dt.a(je,Ie,je,Ie+ie.length);if(!st.equalsRange(t._stickyRangeProjectedOnEditor))t._stickyRangeProjectedOnEditor=st,r.clear();else if(Z.element.style.textDecoration==="underline")return;var ft=new Zi.b;r.add(Object(Ze.l)(function(){return ft.dispose(!0)}));var kt;Mc(t._languageFeaturesService.definitionProvider,t._editor.getModel(),new tn.a(je,Ie+1),ft.token).then(function($t){if(!ft.token.isCancellationRequested)if($t.length!==0){t._candidateDefinitionsLength=$t.length;var un=Z.element;kt!==un?(r.clear(),kt=un,kt.style.textDecoration="underline",r.add(Object(Ze.l)(function(){kt.style.textDecoration="none"}))):kt||(kt=un,kt.style.textDecoration="underline",r.add(Object(Ze.l)(function(){kt.style.textDecoration="none"})))}else r.clear()})}else r.clear()})),n.add(l.onCancel(function(){r.clear()})),n.add(l.onExecute(function(c){return U0(t,void 0,void 0,Object(d.a)().mark(function h(){return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(c.target.detail===this._stickyScrollWidget.getId()){R.next=2;break}return R.abrupt("return");case 2:c.hasTriggerModifier?(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:this._stickyScrollWidget.hoverOnLine,column:1})),this._instaService.invokeFunction(n0,c,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})):c.isRightClick||(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:this._stickyScrollWidget.hoverOnLine,column:this._stickyScrollWidget.hoverOnColumn}));case 3:case"end":return R.stop()}},h,this)}))})),n}},{key:"_onContextMenu",value:function(t){this._contextMenuService.showContextMenu({menuId:kn.c.StickyScrollContext,getAnchor:function(){return t}})}},{key:"_readConfiguration",value:function(){var t=this,n=this._editor.getOption(111);if(n.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else n.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(function(){return t._renderStickyScroll()})),this._sessionStore.add(this._editor.onDidLayoutChange(function(){return t._onDidResize()})),this._sessionStore.add(this._editor.onDidChangeModelTokens(function(l){return t._onTokensChange(l)})),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(function(){return t._renderStickyScroll()})),this._enabled=!0);var r=this._editor.getOption(65);r.renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(function(){return t._renderStickyScroll()}))}},{key:"_needsUpdate",value:function(t){var n=this._stickyScrollWidget.getCurrentLines(),r=Object(B.a)(n),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=Object(B.a)(t.ranges),f;try{for(h.s();!(f=h.n()).done;){var R=f.value;if(c>=R.fromLineNumber&&c<=R.toLineNumber)return!0}}catch(Z){h.e(Z)}finally{h.f()}}}catch(Z){r.e(Z)}finally{r.f()}return!1}},{key:"_onTokensChange",value:function(t){this._needsUpdate(t)&&this._renderStickyScroll()}},{key:"_onDidResize",value:function(){var t=this._editor.getLayoutInfo(),n=t.width-t.minimap.minimapCanvasOuterWidth-t.verticalScrollbarWidth;this._stickyScrollWidget.getDomNode().style.width="".concat(n,"px");var r=t.height/this._editor.getOption(64);this._maxStickyLines=Math.round(r*.25)}},{key:"_renderStickyScroll",value:function(){if(!!this._editor.hasModel()){var t=this._editor.getModel(),n=this._stickyLineCandidateProvider.getVersionId();if(n===void 0||n===t.getVersionId())if(this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.lineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState);else if(this._stickyElements=this._stickyScrollWidget.getDomNode().children,this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState),this._focusedStickyElementIndex=this._stickyElements.length-1,this._focusedStickyElementIndex!==-1&&this._stickyElements.item(this._focusedStickyElementIndex).focus();else{var r=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];if(this._stickyScrollWidget.setState(this._widgetState),this._stickyElements.length===0)this._focusedStickyElementIndex=-1;else{var l=this._stickyScrollWidget.lineNumbers.includes(r);l||(this._focusedStickyElementIndex=this._stickyElements.length-1),this._stickyElements.item(this._focusedStickyElementIndex).focus()}}}}},{key:"findScrollWidgetState",value:function(){var t=this._editor.getOption(64),n=Math.min(this._maxStickyLines,this._editor.getOption(111).maxLineCount),r=this._editor.getScrollTop(),l=0,c=[],h=this._editor.getVisibleRanges();if(h.length!==0){var f=new sg(h[0].startLineNumber,h[h.length-1].endLineNumber),R=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(f),Z=Object(B.a)(R),ie;try{for(Z.s();!(ie=Z.n()).done;){var je=ie.value,Ie=je.startLineNumber,st=je.endLineNumber,ft=je.nestingDepth;if(st-Ie>0){var kt=(ft-1)*t,$t=ft*t,un=this._editor.getBottomForLineNumber(Ie)-r,Yn=this._editor.getTopForLineNumber(st)-r,xn=this._editor.getBottomForLineNumber(st)-r;if(kt>Yn&&kt<=xn){c.push(Ie),l=xn-$t;break}else $t>un&&$t<=xn&&c.push(Ie);if(c.length===n)break}}}catch(fi){Z.e(fi)}finally{Z.f()}}return new N0(c,l)}},{key:"dispose",value:function(){Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this),this._sessionStore.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);Wc.ID="store.contrib.stickyScrollController",Wc=oj([$f(1,Ms.a),$f(2,Nr.a),$f(3,Ia.a),$f(4,Ro.a),$f(5,Ks.a),$f(6,Jn.b)],Wc);var sj=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},lj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.toggleStickyScroll",title:{value:Object(Qe.b)("toggleStickyScroll","Toggle Sticky Scroll"),mnemonicTitle:Object(Qe.b)({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Sticky Scroll"),original:"Toggle Sticky Scroll"},category:tj.View,toggled:{condition:Jn.a.equals("config.editor.stickyScroll.enabled",!0),title:Object(Qe.b)("stickyScroll","Sticky Scroll"),mnemonicTitle:Object(Qe.b)({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:kn.c.CommandPalette},{id:kn.c.MenubarViewMenu,group:"5_editor",order:2},{id:kn.c.StickyScrollContext}]})}return Object(w.a)(e,[{key:"run",value:function(t){return sj(this,void 0,void 0,Object(d.a)().mark(function n(){var r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return r=t.get(Po.a),l=!r.getValue("editor.stickyScroll.enabled"),h.abrupt("return",r.updateValue("editor.stickyScroll.enabled",l));case 3:case"end":return h.stop()}},n)}))}}]),e}(kn.a),Cm=100,uj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.focusStickyScroll",title:{value:Object(Qe.b)("focusStickyScroll","Focus Sticky Scroll"),mnemonicTitle:Object(Qe.b)({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll"),original:"Focus Sticky Scroll"},precondition:Jn.a.and(Jn.a.has("config.editor.stickyScroll.enabled"),an.a.stickyScrollVisible),menu:[{id:kn.c.CommandPalette}]})}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n){var r;(r=Wc.get(n))===null||r===void 0||r.focus()}}]),e}(St.c),cj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.selectNextStickyScrollLine",title:{value:Object(Qe.b)("selectNextStickyScrollLine.title","Select next sticky scroll line"),original:"Select next sticky scroll line"},precondition:an.a.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:Cm,primary:18}})}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n){var r;(r=Wc.get(n))===null||r===void 0||r.focusNext()}}]),e}(St.c),dj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.selectPreviousStickyScrollLine",title:{value:Object(Qe.b)("selectPreviousStickyScrollLine.title","Select previous sticky scroll line"),original:"Select previous sticky scroll line"},precondition:an.a.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:Cm,primary:16}})}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n){var r;(r=Wc.get(n))===null||r===void 0||r.focusPrevious()}}]),e}(St.c),hj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.goToFocusedStickyScrollLine",title:{value:Object(Qe.b)("goToFocusedStickyScrollLine.title","Go to focused sticky scroll line"),original:"Go to focused sticky scroll line"},precondition:an.a.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:Cm,primary:3}})}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n){var r;(r=Wc.get(n))===null||r===void 0||r.goToFocused()}}]),e}(St.c),fj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.selectEditor",title:{value:Object(Qe.b)("selectEditor.title","Select Editor"),original:"Select Editor"},precondition:an.a.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:Cm,primary:9}})}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n){var r;(r=Wc.get(n))===null||r===void 0||r.selectEditor()}}]),e}(St.c);Object(St.m)(Wc.ID,Wc,1),Object(kn.i)(lj),Object(kn.i)(uj),Object(kn.i)(dj),Object(kn.i)(cj),Object(kn.i)(hj),Object(kn.i)(fj);var _b=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Kh=function(s,o){return function(e,i){o(e,i,s)}},vj=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},gj=Object(w.a)(function s(o,e,i,t,n,r){Object(k.a)(this,s),this.range=o,this.insertText=e,this.filterText=i,this.additionalTextEdits=t,this.command=n,this.completion=r}),Cb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c){var h;return Object(k.a)(this,e),h=o.call(this,l.disposable),h.model=i,h.line=t,h.word=n,h.completionModel=r,h._suggestMemoryService=c,h}return Object(w.a)(e,[{key:"canBeReused",value:function(t,n,r){return this.model===t&&this.line===n&&this.word.word.length>0&&this.word.startColumn===r.startColumn&&this.word.endColumn<r.endColumn&&this.completionModel.getIncompleteProvider().size===0}},{key:"items",get:function(){var t,n=[],r=this.completionModel.items,l=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},r),c=yl.a.slice(r,l),h=yl.a.slice(r,0,l),f=5,R=Object(B.a)(yl.a.concat(c,h)),Z;try{for(R.s();!(Z=R.n()).done;){var ie=Z.value;if(ie.score!==_s.a.Default){var je=new Dt.a(ie.editStart.lineNumber,ie.editStart.column,ie.editInsertEnd.lineNumber,ie.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),Ie=ie.completion.insertTextRules&&ie.completion.insertTextRules&4?{snippet:ie.completion.insertText}:ie.completion.insertText;n.push(new gj(je,Ie,(t=ie.filterTextLow)!==null&&t!==void 0?t:ie.labelLow,ie.completion.additionalTextEdits,ie.completion.command,ie)),f-->=0&&ie.resolve(Zi.a.None)}}}catch(st){R.e(st)}finally{R.f()}return n}}]),e}(Ze.f);Cb=_b([Kh(5,em)],Cb);var Ob=function(){function s(o,e,i,t){Object(k.a)(this,s),this._getEditorOption=o,this._languageFeatureService=e,this._clipboardService=i,this._suggestMemoryService=t}return Object(w.a)(s,[{key:"provideInlineCompletions",value:function(e,i,t,n){var r;return vj(this,void 0,void 0,Object(d.a)().mark(function l(){var c,h,f,R,Z,ie,je,Ie,st,ft,kt;return Object(d.a)().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:if(!t.selectedSuggestionInfo){un.next=2;break}return un.abrupt("return");case 2:if(c=this._getEditorOption(86,e),!Mn.isAllOff(c)){un.next=5;break}return un.abrupt("return");case 5:if(e.tokenization.tokenizeIfCheap(i.lineNumber),h=e.tokenization.getLineTokens(i.lineNumber),f=h.getStandardTokenType(h.findTokenIndexAtOffset(Math.max(i.column-1-1,0))),Mn.valueFor(c,f)==="inline"){un.next=10;break}return un.abrupt("return",void 0);case 10:if(R=e.getWordAtPosition(i),(R==null?void 0:R.word)||(Z=this._getTriggerCharacterInfo(e,i)),!(!(R==null?void 0:R.word)&&!Z)){un.next=14;break}return un.abrupt("return");case 14:if(R||(R=e.getWordUntilPosition(i)),R.endColumn===i.column){un.next=17;break}return un.abrupt("return");case 17:if(je=e.getValueInRange(new Dt.a(i.lineNumber,1,i.lineNumber,i.column)),!(!Z&&((r=this._lastResult)===null||r===void 0?void 0:r.canBeReused(e,i.lineNumber,R)))){un.next=25;break}Ie=new A_(je,i.column-this._lastResult.word.endColumn),this._lastResult.completionModel.lineContext=Ie,this._lastResult.acquire(),ie=this._lastResult,un.next=34;break;case 25:return un.next=27,Se(this._languageFeatureService.completionProvider,e,i,new _(void 0,void 0,Z==null?void 0:Z.providers),Z&&{triggerKind:1,triggerCharacter:Z.ch},n);case 27:if(st=un.sent,!st.needsClipboard){un.next=32;break}return un.next=31,this._clipboardService.readText();case 31:ft=un.sent;case 32:kt=new R_(st.items,i.column,new A_(je,0),nm.None,this._getEditorOption(114,e),this._getEditorOption(108,e),{boostFullMatch:!1,firstMatchCanBeWeak:!1},ft),ie=new Cb(e,i.lineNumber,R,kt,st,this._suggestMemoryService);case 34:return this._lastResult=ie,un.abrupt("return",ie);case 36:case"end":return un.stop()}},l,this)}))}},{key:"handleItemDidShow",value:function(e,i){i.completion.resolve(Zi.a.None)}},{key:"freeInlineCompletions",value:function(e){e.release()}},{key:"_getTriggerCharacterInfo",value:function(e,i){var t,n=e.getValueInRange(Dt.a.fromPositions({lineNumber:i.lineNumber,column:i.column-1},i)),r=new Set,l=Object(B.a)(this._languageFeatureService.completionProvider.all(e)),c;try{for(l.s();!(c=l.n()).done;){var h=c.value;((t=h.triggerCharacters)===null||t===void 0?void 0:t.includes(n))&&r.add(h)}}catch(f){l.e(f)}finally{l.f()}if(r.size!==0)return{providers:r,ch:n}}}]),s}();Ob=_b([Kh(1,Nr.a),Kh(2,Wn.a),Kh(3,em)],Ob);var Om=function(){function s(o,e,i,t){if(Object(k.a)(this,s),++s._counter==1){var n=t.createInstance(Ob,function(r,l){var c,h=(c=i.listCodeEditors().find(function(f){return f.getModel()===l}))!==null&&c!==void 0?c:o;return h.getOption(r)});s._disposable=e.inlineCompletionsProvider.register("*",n)}}return Object(w.a)(s,[{key:"dispose",value:function(){var e;--s._counter==0&&((e=s._disposable)===null||e===void 0||e.dispose(),s._disposable=void 0)}}]),s}();Om._counter=0,Om=_b([Kh(1,Nr.a),Kh(2,In.a),Kh(3,Ia.a)],Om),Object(St.m)("suggest.inlineCompletionsProvider",Om,0);var mj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.forceRetokenize",label:Qe.b("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n){if(!!n.hasModel()){var r=n.getModel();r.tokenization.resetTokenization();var l=new Ds.a(!0);r.tokenization.forceTokenization(r.getLineCount()),l.stop(),console.log("tokenization took ".concat(l.elapsed()))}}}]),e}(St.b);Object(St.k)(mj);var z0=a("p+Yh"),Sm=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,title:{value:Qe.b({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2048|43,mac:{primary:256|1024|43},weight:100},f1:!0})}return Object(w.a)(e,[{key:"run",value:function(t){var n=t.get(Jn.b).getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus",r=z0.a.getTabFocusMode(n),l=!r;z0.a.setTabFocusMode(l,n),l?Object(xi.a)(Qe.b("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Object(xi.a)(Qe.b("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}]),e}(kn.a);Sm.ID="editor.action.toggleTabFocusMode",Object(kn.i)(Sm);var dL=a("Gbfa"),K0=a("hcYv"),Qf=a("H9a+"),hL=a("iMk3"),Sb=a("4y0V"),fL=a("a3Ze"),pj=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},bj=function(s,o){return function(e,i){o(e,i,s)}},kb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;Object(k.a)(this,e);var c;n=o.call(this),n._link=t,n._enabled=!0,n.el=Object(Bt.append)(i,Object(Bt.$)("a.monaco-link",{tabIndex:(c=t.tabIndex)!==null&&c!==void 0?c:0,href:t.href,title:t.title},t.label)),n.el.setAttribute("role","button");var h=n._register(new Sb.a(n.el,"click")),f=n._register(new Sb.a(n.el,"keypress")),R=rr.c.chain(f.event).map(function(je){return new Dh.a(je)}).filter(function(je){return je.keyCode===3}).event,Z=n._register(new Sb.a(n.el,Vl.a.Tap)).event;n._register(Vl.b.addTarget(n.el));var ie=rr.c.any(h.event,R,Z);return n._register(ie(function(je){!n.enabled||(Bt.EventHelper.stop(je,!0),(r==null?void 0:r.opener)?r.opener(n._link.href):l.open(n._link.href,{allowCommands:!0}))})),n.enabled=!0,n}return Object(w.a)(e,[{key:"enabled",get:function(){return this._enabled},set:function(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}}]),e}(Ze.a);kb=pj([bj(3,Ea.a)],kb);var G0=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},$0=function(s,o){return function(e,i){o(e,i,s)}},yj=26,Db=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n._editor=i,n.instantiationService=t,n.banner=n._register(n.instantiationService.createInstance(wb)),n}return Object(w.a)(e,[{key:"hide",value:function(){this._editor.setBanner(null,0),this.banner.clear()}},{key:"show",value:function(t){var n=this;this.banner.show(Object.assign(Object.assign({},t),{onClose:function(){var l;n.hide(),(l=t.onClose)===null||l===void 0||l.call(t)}})),this._editor.setBanner(this.banner.element,yj)}}]),e}(Ze.a);Db=G0([$0(1,Ia.a)],Db);var wb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t.instantiationService=i,t.markdownRenderer=t.instantiationService.createInstance(to,{}),t.element=Object(Bt.$)("div.editor-banner"),t.element.tabIndex=0,t}return Object(w.a)(e,[{key:"getAriaLabel",value:function(t){if(t.ariaLabel)return t.ariaLabel;if(typeof t.message=="string")return t.message}},{key:"getBannerMessage",value:function(t){if(typeof t=="string"){var n=Object(Bt.$)("span");return n.innerText=t,n}return this.markdownRenderer.render(t).element}},{key:"clear",value:function(){Object(Bt.clearNode)(this.element)}},{key:"show",value:function(t){Object(Bt.clearNode)(this.element);var n=this.getAriaLabel(t);n&&this.element.setAttribute("aria-label",n);var r=Object(Bt.append)(this.element,Object(Bt.$)("div.icon-container"));r.setAttribute("aria-hidden","true"),t.icon&&r.appendChild(Object(Bt.$)("div".concat(oa.a.asCSSSelector(t.icon))));var l=Object(Bt.append)(this.element,Object(Bt.$)("div.message-container"));if(l.setAttribute("aria-hidden","true"),l.appendChild(this.getBannerMessage(t.message)),this.messageActionsContainer=Object(Bt.append)(this.element,Object(Bt.$)("div.message-actions-container")),t.actions){var c=Object(B.a)(t.actions),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;this._register(this.instantiationService.createInstance(kb,this.messageActionsContainer,Object.assign(Object.assign({},f),{tabIndex:-1}),{}))}}catch(Z){c.e(Z)}finally{c.f()}}var R=Object(Bt.append)(this.element,Object(Bt.$)("div.action-container"));this.actionBar=this._register(new hl.a(R)),this.actionBar.push(this._register(new Ba.a("banner.close","Close Banner",oa.a.asClassName(u.c),!0,function(){typeof t.onClose=="function"&&t.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}}]),e}(Ze.a);wb=G0([$0(0,Ia.a)],wb);var _j=a("fvt3"),jb=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Yf=function(s,o){return function(e,i){o(e,i,s)}},Ys=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Cj=Object(u.b)("extensions-warning-message",ta.a.warning,Qe.b("warningIcon","Icon shown with a warning message in the extensions editor.")),Zf=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;return Object(k.a)(this,e),l=o.call(this),l._editor=i,l._editorWorkerService=t,l._workspaceTrustService=n,l._highlighter=null,l._bannerClosed=!1,l._updateState=function(c){if(c&&c.hasMore){if(l._bannerClosed)return;var h=Math.max(c.ambiguousCharacterCount,c.nonBasicAsciiCharacterCount,c.invisibleCharacterCount),f;if(c.nonBasicAsciiCharacterCount>=h)f={message:Qe.b("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new wm};else if(c.ambiguousCharacterCount>=h)f={message:Qe.b("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Xf};else if(c.invisibleCharacterCount>=h)f={message:Qe.b("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new Dm};else throw new Error("Unreachable");l._bannerController.show({id:"unicodeHighlightBanner",message:f.message,icon:Cj,actions:[{label:f.command.shortLabel,href:"command:".concat(f.command.id)}],onClose:function(){l._bannerClosed=!0}})}else l._bannerController.hide()},l._bannerController=l._register(r.createInstance(Db,i)),l._register(l._editor.onDidChangeModel(function(){l._bannerClosed=!1,l._updateHighlighter()})),l._options=i.getOption(121),l._register(n.onDidChangeTrust(function(c){l._updateHighlighter()})),l._register(i.onDidChangeConfiguration(function(c){c.hasChanged(121)&&(l._options=i.getOption(121),l._updateHighlighter())})),l._updateHighlighter(),l}return Object(w.a)(e,[{key:"dispose",value:function(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"_updateHighlighter",value:function(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!!this._editor.hasModel()){var t=Oj(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if(![t.nonBasicASCII,t.ambiguousCharacters,t.invisibleCharacters].every(function(r){return r===!1})){var n={nonBasicASCII:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments,includeStrings:t.includeStrings,allowedCodePoints:Object.keys(t.allowedCharacters).map(function(r){return r.codePointAt(0)}),allowedLocales:Object.keys(t.allowedLocales).map(function(r){if(r==="_os"){var l=new Intl.NumberFormat().resolvedOptions().locale;return l}else if(r==="_vscode")return Ut.p;return r})};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new Eb(this._editor,n,this._updateState,this._editorWorkerService):this._highlighter=new Sj(this._editor,n,this._updateState)}}}},{key:"getDecorationInfo",value:function(t){return this._highlighter?this._highlighter.getDecorationInfo(t):null}}]),e}(Ze.a);Zf.ID="editor.contrib.unicodeHighlighter",Zf=jb([Yf(1,Vv.a),Yf(2,_j.a),Yf(3,Ia.a)],Zf);function Oj(s,o){return{nonBasicASCII:o.nonBasicASCII===fs.p?!s:o.nonBasicASCII,ambiguousCharacters:o.ambiguousCharacters,invisibleCharacters:o.invisibleCharacters,includeComments:o.includeComments===fs.p?!s:o.includeComments,includeStrings:o.includeStrings===fs.p?!s:o.includeStrings,allowedCharacters:o.allowedCharacters,allowedLocales:o.allowedLocales}}var Eb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;return Object(k.a)(this,e),l=o.call(this),l._editor=i,l._options=t,l._updateState=n,l._editorWorkerService=r,l._model=l._editor.getModel(),l._decorations=l._editor.createDecorationsCollection(),l._updateSoon=l._register(new et.g(function(){return l._update()},250)),l._register(l._editor.onDidChangeModelContent(function(){l._updateSoon.schedule()})),l._updateSoon.schedule(),l}return Object(w.a)(e,[{key:"dispose",value:function(){this._decorations.clear(),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"_update",value:function(){var t=this;if(!this._model.isDisposed()){if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}var n=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(function(r){if(!t._model.isDisposed()&&t._model.getVersionId()===n){t._updateState(r);var l=[];if(!r.hasMore){var c=Object(B.a)(r.ranges),h;try{for(c.s();!(h=c.n()).done;){var f=h.value;l.push({range:f,options:km.instance.getDecorationFromOptions(t._options)})}}catch(R){c.e(R)}finally{c.f()}}t._decorations.set(l)}})}}},{key:"getDecorationInfo",value:function(t){if(!this._decorations.has(t))return null;var n=this._editor.getModel();if(!Object(Qf.d)(n,t))return null;var r=n.getValueInRange(t.range);return{reason:Q0(r,this._options),inComment:Object(Qf.b)(n,t),inString:Object(Qf.c)(n,t)}}}]),e}(Ze.a);Eb=jb([Yf(3,Vv.a)],Eb);var Sj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r._editor=i,r._options=t,r._updateState=n,r._model=r._editor.getModel(),r._decorations=r._editor.createDecorationsCollection(),r._updateSoon=r._register(new et.g(function(){return r._update()},250)),r._register(r._editor.onDidLayoutChange(function(){r._updateSoon.schedule()})),r._register(r._editor.onDidScrollChange(function(){r._updateSoon.schedule()})),r._register(r._editor.onDidChangeHiddenAreas(function(){r._updateSoon.schedule()})),r._register(r._editor.onDidChangeModelContent(function(){r._updateSoon.schedule()})),r._updateSoon.schedule(),r}return Object(w.a)(e,[{key:"dispose",value:function(){this._decorations.clear(),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"_update",value:function(){if(!this._model.isDisposed()){if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}var t=this._editor.getVisibleRanges(),n=[],r={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1},l=Object(B.a)(t),c;try{for(l.s();!(c=l.n()).done;){var h=c.value,f=K0.a.computeUnicodeHighlights(this._model,this._options,h),R=Object(B.a)(f.ranges),Z;try{for(R.s();!(Z=R.n()).done;){var ie=Z.value;r.ranges.push(ie)}}catch(ft){R.e(ft)}finally{R.f()}r.ambiguousCharacterCount+=r.ambiguousCharacterCount,r.invisibleCharacterCount+=r.invisibleCharacterCount,r.nonBasicAsciiCharacterCount+=r.nonBasicAsciiCharacterCount,r.hasMore=r.hasMore||f.hasMore}}catch(ft){l.e(ft)}finally{l.f()}if(!r.hasMore){var je=Object(B.a)(r.ranges),Ie;try{for(je.s();!(Ie=je.n()).done;){var st=Ie.value;n.push({range:st,options:km.instance.getDecorationFromOptions(this._options)})}}catch(ft){je.e(ft)}finally{je.f()}}this._updateState(r),this._decorations.set(n)}}},{key:"getDecorationInfo",value:function(t){if(!this._decorations.has(t))return null;var n=this._editor.getModel(),r=n.getValueInRange(t.range);return Object(Qf.d)(n,t)?{reason:Q0(r,this._options),inComment:Object(Qf.b)(n,t),inString:Object(Qf.c)(n,t)}:null}}]),e}(Ze.a),Lb=function(){function s(o,e,i){Object(k.a)(this,s),this._editor=o,this._languageService=e,this._openerService=i,this.hoverOrdinal=5}return Object(w.a)(s,[{key:"computeSync",value:function(e,i){if(!this._editor.hasModel()||e.type!==1)return[];var t=this._editor.getModel(),n=this._editor.getContribution(Zf.ID);if(!n)return[];var r=[],l=300,c=Object(B.a)(i),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,R=n.getDecorationInfo(f);if(!!R){var Z=t.getValueInRange(f.range),ie=Z.codePointAt(0),je=Tb(ie),Ie=void 0;switch(R.reason.kind){case 0:{Object(Vn.B)(R.reason.confusableWith)?Ie=Qe.b("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",je,Tb(R.reason.confusableWith.codePointAt(0))):Ie=Qe.b("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",je,Tb(R.reason.confusableWith.codePointAt(0)));break}case 1:Ie=Qe.b("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",je);break;case 2:Ie=Qe.b("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",je);break}var st={codePoint:ie,reason:R.reason,inComment:R.inComment,inString:R.inString},ft=Qe.b("unicodeHighlight.adjustSettings","Adjust settings"),kt="command:".concat(Ib.ID,"?").concat(encodeURIComponent(JSON.stringify(st))),$t=new Qi.a("",!0).appendMarkdown(Ie).appendText(" ").appendLink(kt,ft);r.push(new $a(this,f.range,[$t],!1,l++))}}}catch(un){c.e(un)}finally{c.f()}return r}},{key:"renderHoverParts",value:function(e,i){return Os(e,i,this._editor,this._languageService,this._openerService)}}]),s}();Lb=jb([Yf(1,br.a),Yf(2,Ea.a)],Lb);function Mb(s){return"U+".concat(s.toString(16).padStart(4,"0"))}function Tb(s){var o="`".concat(Mb(s),"`");return Vn.c.isInvisibleCharacter(s)||(o+=' "'.concat("".concat(kj(s)),'"')),o}function kj(s){return s===96?"`` ` ``":"`"+String.fromCodePoint(s)+"`"}function Q0(s,o){return K0.a.computeUnicodeHighlightReason(s,o)}var km=function(){function s(){Object(k.a)(this,s),this.map=new Map}return Object(w.a)(s,[{key:"getDecorationFromOptions",value:function(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}},{key:"getDecoration",value:function(e,i){var t="".concat(e).concat(i),n=this.map.get(t);return n||(n=ti.b.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:i}),this.map.set(t,n)),n}}]),s}();km.instance=new km;var Dj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this,{id:Xf.ID,label:Qe.b("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),i.shortLabel=Qe.b("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments"),i}return Object(w.a)(e,[{key:"run",value:function(t,n,r){return Ys(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=t==null?void 0:t.get(Po.a),c&&this.runAction(c);case 2:case"end":return f.stop()}},l,this)}))}},{key:"runAction",value:function(t){return Ys(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.updateValue(fs.r.includeComments,!1,2);case 2:case"end":return l.stop()}},n)}))}}]),e}(St.b),wj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this,{id:Xf.ID,label:Qe.b("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),i.shortLabel=Qe.b("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings"),i}return Object(w.a)(e,[{key:"run",value:function(t,n,r){return Ys(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=t==null?void 0:t.get(Po.a),c&&this.runAction(c);case 2:case"end":return f.stop()}},l,this)}))}},{key:"runAction",value:function(t){return Ys(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.updateValue(fs.r.includeStrings,!1,2);case 2:case"end":return l.stop()}},n)}))}}]),e}(St.b),Xf=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this,{id:e.ID,label:Qe.b("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),i.shortLabel=Qe.b("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight"),i}return Object(w.a)(e,[{key:"run",value:function(t,n,r){return Ys(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=t==null?void 0:t.get(Po.a),c&&this.runAction(c);case 2:case"end":return f.stop()}},l,this)}))}},{key:"runAction",value:function(t){return Ys(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.updateValue(fs.r.ambiguousCharacters,!1,2);case 2:case"end":return l.stop()}},n)}))}}]),e}(St.b);Xf.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";var Dm=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this,{id:e.ID,label:Qe.b("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),i.shortLabel=Qe.b("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight"),i}return Object(w.a)(e,[{key:"run",value:function(t,n,r){return Ys(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=t==null?void 0:t.get(Po.a),c&&this.runAction(c);case 2:case"end":return f.stop()}},l,this)}))}},{key:"runAction",value:function(t){return Ys(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.updateValue(fs.r.invisibleCharacters,!1,2);case 2:case"end":return l.stop()}},n)}))}}]),e}(St.b);Dm.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";var wm=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this,{id:e.ID,label:Qe.b("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),i.shortLabel=Qe.b("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight"),i}return Object(w.a)(e,[{key:"run",value:function(t,n,r){return Ys(this,void 0,void 0,Object(d.a)().mark(function l(){var c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=t==null?void 0:t.get(Po.a),c&&this.runAction(c);case 2:case"end":return f.stop()}},l,this)}))}},{key:"runAction",value:function(t){return Ys(this,void 0,void 0,Object(d.a)().mark(function n(){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.updateValue(fs.r.nonBasicASCII,!1,2);case 2:case"end":return l.stop()}},n)}))}}]),e}(St.b);wm.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";var Ib=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,label:Qe.b("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){return Ys(this,void 0,void 0,Object(d.a)().mark(function l(){var c=this,h,f,R,Z,ie,je,Ie,st,ft,kt,$t,un,Yn,xn,fi,Si,ji,Bi;return Object(d.a)().wrap(function(gr){for(;;)switch(gr.prev=gr.next){case 0:if(st=function($r){return Vn.c.isInvisibleCharacter($r)?Qe.b("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",Mb($r)):Qe.b("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted","".concat(Mb($r),' "').concat(ie,'"'))},h=r.codePoint,f=r.reason,R=r.inString,Z=r.inComment,ie=String.fromCodePoint(h),je=t.get(Vs.a),Ie=t.get(Po.a),ft=[],f.kind===0){kt=Object(B.a)(f.notAmbiguousInLocales);try{for(un=function(){var $r=$t.value;ft.push({label:Qe.b("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',$r),run:function(){return Ys(c,void 0,void 0,Object(d.a)().mark(function Fr(){return Object(d.a)().wrap(function(Oa){for(;;)switch(Oa.prev=Oa.next){case 0:Ej(Ie,[$r]);case 1:case"end":return Oa.stop()}},Fr)}))}})},kt.s();!($t=kt.n()).done;)un()}catch(jr){kt.e(jr)}finally{kt.f()}}return ft.push({label:st(h),run:function(){return jj(Ie,[h])}}),Z?(Yn=new Dj,ft.push({label:Yn.label,run:function(){return Ys(c,void 0,void 0,Object(d.a)().mark(function $r(){return Object(d.a)().wrap(function(Fr){for(;;)switch(Fr.prev=Fr.next){case 0:return Fr.abrupt("return",Yn.runAction(Ie));case 1:case"end":return Fr.stop()}},$r)}))}})):R&&(xn=new wj,ft.push({label:xn.label,run:function(){return Ys(c,void 0,void 0,Object(d.a)().mark(function $r(){return Object(d.a)().wrap(function(Fr){for(;;)switch(Fr.prev=Fr.next){case 0:return Fr.abrupt("return",xn.runAction(Ie));case 1:case"end":return Fr.stop()}},$r)}))}})),f.kind===0?(fi=new Xf,ft.push({label:fi.label,run:function(){return Ys(c,void 0,void 0,Object(d.a)().mark(function $r(){return Object(d.a)().wrap(function(Fr){for(;;)switch(Fr.prev=Fr.next){case 0:return Fr.abrupt("return",fi.runAction(Ie));case 1:case"end":return Fr.stop()}},$r)}))}})):f.kind===1?(Si=new Dm,ft.push({label:Si.label,run:function(){return Ys(c,void 0,void 0,Object(d.a)().mark(function $r(){return Object(d.a)().wrap(function(Fr){for(;;)switch(Fr.prev=Fr.next){case 0:return Fr.abrupt("return",Si.runAction(Ie));case 1:case"end":return Fr.stop()}},$r)}))}})):f.kind===2?(ji=new wm,ft.push({label:ji.label,run:function(){return Ys(c,void 0,void 0,Object(d.a)().mark(function $r(){return Object(d.a)().wrap(function(Fr){for(;;)switch(Fr.prev=Fr.next){case 0:return Fr.abrupt("return",ji.runAction(Ie));case 1:case"end":return Fr.stop()}},$r)}))}})):Lj(f),gr.next=12,je.pick(ft,{title:Qe.b("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});case 12:if(Bi=gr.sent,!Bi){gr.next=16;break}return gr.next=16,Bi.run();case 16:case"end":return gr.stop()}},l)}))}}]),e}(St.b);Ib.ID="editor.action.unicodeHighlight.showExcludeOptions";function jj(s,o){return Ys(this,void 0,void 0,Object(d.a)().mark(function e(){var i,t,n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:i=s.getValue(fs.r.allowedCharacters),typeof i=="object"&&i?t=i:t={},n=Object(B.a)(o);try{for(n.s();!(r=n.n()).done;)l=r.value,t[String.fromCodePoint(l)]=!0}catch(f){n.e(f)}finally{n.f()}return h.next=6,s.updateValue(fs.r.allowedCharacters,t,2);case 6:case"end":return h.stop()}},e)}))}function Ej(s,o){var e;return Ys(this,void 0,void 0,Object(d.a)().mark(function i(){var t,n,r,l,c;return Object(d.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:t=(e=s.inspect(fs.r.allowedLocales).user)===null||e===void 0?void 0:e.value,typeof t=="object"&&t?n=Object.assign({},t):n={},r=Object(B.a)(o);try{for(r.s();!(l=r.n()).done;)c=l.value,n[c]=!0}catch(R){r.e(R)}finally{r.f()}return f.next=6,s.updateValue(fs.r.allowedLocales,n,2);case 6:case"end":return f.stop()}},i)}))}function Lj(s){throw new Error("Unexpected value: ".concat(s))}Object(St.k)(Xf),Object(St.k)(Dm),Object(St.k)(wm),Object(St.k)(Ib),Object(St.m)(Zf.ID,Zf,1),zt.register(Lb);var Pb=a("6vuP"),Mj=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Y0=function(s,o){return function(e,i){o(e,i,s)}},Tj=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},Z0="ignoreUnusualLineTerminators";function Ij(s,o,e){s.setModelProperty(o.uri,Z0,e)}function Pj(s,o){return s.getModelProperty(o.uri,Z0)}var cg=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r._editor=i,r._dialogService=t,r._codeEditorService=n,r._isPresentingDialog=!1,r._config=r._editor.getOption(122),r._register(r._editor.onDidChangeConfiguration(function(l){l.hasChanged(122)&&(r._config=r._editor.getOption(122),r._checkForUnusualLineTerminators())})),r._register(r._editor.onDidChangeModel(function(){r._checkForUnusualLineTerminators()})),r._register(r._editor.onDidChangeModelContent(function(l){l.isUndoing||r._checkForUnusualLineTerminators()})),r._checkForUnusualLineTerminators(),r}return Object(w.a)(e,[{key:"_checkForUnusualLineTerminators",value:function(){return Tj(this,void 0,void 0,Object(d.a)().mark(function t(){var n,r,l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this._config!=="off"){h.next=2;break}return h.abrupt("return");case 2:if(this._editor.hasModel()){h.next=4;break}return h.abrupt("return");case 4:if(n=this._editor.getModel(),n.mightContainUnusualLineTerminators()){h.next=7;break}return h.abrupt("return");case 7:if(r=Pj(this._codeEditorService,n),r!==!0){h.next=10;break}return h.abrupt("return");case 10:if(!this._editor.getOption(88)){h.next=12;break}return h.abrupt("return");case 12:if(this._config!=="auto"){h.next=15;break}return n.removeUnusualLineTerminators(this._editor.getSelections()),h.abrupt("return");case 15:if(!this._isPresentingDialog){h.next=17;break}return h.abrupt("return");case 17:return h.prev=17,this._isPresentingDialog=!0,h.next=21,this._dialogService.confirm({title:Qe.b("unusualLineTerminators.title","Unusual Line Terminators"),message:Qe.b("unusualLineTerminators.message","Detected unusual line terminators"),detail:Qe.b("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",Object(Za.b)(n.uri)),primaryButton:Qe.b({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:Qe.b("unusualLineTerminators.ignore","Ignore")});case 21:l=h.sent;case 22:return h.prev=22,this._isPresentingDialog=!1,h.finish(22);case 25:if(l.confirmed){h.next=28;break}return Ij(this._codeEditorService,n,!0),h.abrupt("return");case 28:n.removeUnusualLineTerminators(this._editor.getSelections());case 29:case"end":return h.stop()}},t,this,[[17,,22,25]])}))}}]),e}(Ze.a);cg.ID="editor.contrib.unusualLineTerminatorsDetector",cg=Mj([Y0(1,Pb.a),Y0(2,In.a)],cg),Object(St.m)(cg.ID,cg,1);var Aj=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},X0=function(s,o){return function(e,i){o(e,i,s)}},jm=new Jn.c("hasWordHighlights",!1);function J0(s,o,e,i){var t=s.ordered(o);return Object(et.m)(t.map(function(n){return function(){return Promise.resolve(n.provideDocumentHighlights(o,e,i)).then(void 0,zi.i)}}),or.s)}var q0=function(){function s(o,e,i){Object(k.a)(this,s),this._model=o,this._selection=e,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(o,e),this._result=null}return Object(w.a)(s,[{key:"result",get:function(){var e=this;return this._result||(this._result=Object(et.k)(function(i){return e._compute(e._model,e._selection,e._wordSeparators,i)})),this._result}},{key:"_getCurrentWordRange",value:function(e,i){var t=e.getWordAtPosition(i.getPosition());return t?new Dt.a(i.startLineNumber,t.startColumn,i.startLineNumber,t.endColumn):null}},{key:"isValid",value:function(e,i,t){for(var n=i.startLineNumber,r=i.startColumn,l=i.endColumn,c=this._getCurrentWordRange(e,i),h=Boolean(this._wordRange&&this._wordRange.equalsRange(c)),f=0,R=t.length;!h&&f<R;f++){var Z=t.getRange(f);Z&&Z.startLineNumber===n&&Z.startColumn<=r&&Z.endColumn>=l&&(h=!0)}return h}},{key:"cancel",value:function(){this.result.cancel()}}]),s}(),Rj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;return Object(k.a)(this,e),l=o.call(this,i,t,n),l._providers=r,l}return Object(w.a)(e,[{key:"_compute",value:function(t,n,r,l){return J0(this._providers,t,n.getPosition(),l).then(function(c){return c||[]})}}]),e}(q0),Nj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this,i,t,n),r._selectionIsEmpty=t.isEmpty(),r}return Object(w.a)(e,[{key:"_compute",value:function(t,n,r,l){return Object(et.q)(250,l).then(function(){if(!n.isEmpty())return[];var c=t.getWordAtPosition(n.getPosition());if(!c||c.word.length>1e3)return[];var h=t.findMatches(c.word,!0,!1,!0,r,!1);return h.map(function(f){return{range:f.range,kind:oo.c.Text}})})}},{key:"isValid",value:function(t,n,r){var l=n.isEmpty();return this._selectionIsEmpty!==l?!1:Object(yi.a)(Object(vi.a)(e.prototype),"isValid",this).call(this,t,n,r)}}]),e}(q0);function xj(s,o,e,i){return s.has(o)?new Rj(o,e,i,s):new Nj(o,e,i)}Object(St.o)("_executeDocumentHighlights",function(s,o,e){var i=s.get(Nr.a);return J0(i.documentHighlightProvider,o,e,Zi.a.None)});var Fj=function(){function s(o,e,i){var t=this;Object(k.a)(this,s),this.toUnhook=new Ze.c,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=o,this.providers=e,this._hasWordHighlights=jm.bindTo(i),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(78),this.model=this.editor.getModel(),this.toUnhook.add(o.onDidChangeCursorPosition(function(n){t._ignorePositionChangeEvent||!t.occurrencesHighlight||t._onPositionChanged(n)})),this.toUnhook.add(o.onDidChangeModelContent(function(n){t._stopAll()})),this.toUnhook.add(o.onDidChangeConfiguration(function(n){var r=t.editor.getOption(78);t.occurrencesHighlight!==r&&(t.occurrencesHighlight=r,t._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return Object(w.a)(s,[{key:"hasDecorations",value:function(){return this.decorations.length>0}},{key:"restore",value:function(){!this.occurrencesHighlight||this._run()}},{key:"_getSortedHighlights",value:function(){return this.decorations.getRanges().sort(Dt.a.compareRangesUsingStarts)}},{key:"moveNext",value:function(){var e=this,i=this._getSortedHighlights(),t=i.findIndex(function(h){return h.containsPosition(e.editor.getPosition())}),n=(t+1)%i.length,r=i[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);var l=this._getWord();if(l){var c=this.editor.getModel().getLineContent(r.startLineNumber);Object(xi.a)("".concat(c,", ").concat(n+1," of ").concat(i.length," for '").concat(l.word,"'"))}}finally{this._ignorePositionChangeEvent=!1}}},{key:"moveBack",value:function(){var e=this,i=this._getSortedHighlights(),t=i.findIndex(function(h){return h.containsPosition(e.editor.getPosition())}),n=(t-1+i.length)%i.length,r=i[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);var l=this._getWord();if(l){var c=this.editor.getModel().getLineContent(r.startLineNumber);Object(xi.a)("".concat(c,", ").concat(n+1," of ").concat(i.length," for '").concat(l.word,"'"))}}finally{this._ignorePositionChangeEvent=!1}}},{key:"_removeDecorations",value:function(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}},{key:"_stopAll",value:function(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}},{key:"_onPositionChanged",value:function(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()}},{key:"_getWord",value:function(){var e=this.editor.getSelection(),i=e.startLineNumber,t=e.startColumn;return this.model.getWordAtPosition({lineNumber:i,column:t})}},{key:"_run",value:function(){var e=this,i=this.editor.getSelection();if(i.startLineNumber!==i.endLineNumber){this._stopAll();return}var t=i.startColumn,n=i.endColumn,r=this._getWord();if(!r||r.startColumn>t||r.endColumn<n){this._stopAll();return}var l=this.workerRequest&&this.workerRequest.isValid(this.model,i,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),l)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var c=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=xj(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(126)),this.workerRequest.result.then(function(h){c===e.workerRequestTokenId&&(e.workerRequestCompleted=!0,e.workerRequestValue=h||[],e._beginRenderDecorations())},zi.h)}}},{key:"_beginRenderDecorations",value:function(){var e=this,i=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;i>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(function(){e.renderDecorations()},t-i)}},{key:"renderDecorations",value:function(){this.renderDecorationsTimer=-1;var e=[],i=Object(B.a)(this.workerRequestValue),t;try{for(i.s();!(t=i.n()).done;){var n=t.value;n.range&&e.push({range:n.range,options:lw(n.kind)})}}catch(r){i.e(r)}finally{i.f()}this.decorations.set(e),this._hasWordHighlights.set(this.hasDecorations())}},{key:"dispose",value:function(){this._stopAll(),this.toUnhook.dispose()}}]),s}(),Gh=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;Object(k.a)(this,e),r=o.call(this),r.wordHighlighter=null;var l=function(){i.hasModel()&&(r.wordHighlighter=new Fj(i,n.documentHighlightProvider,t))};return r._register(i.onDidChangeModel(function(c){r.wordHighlighter&&(r.wordHighlighter.dispose(),r.wordHighlighter=null),l()})),l(),r}return Object(w.a)(e,[{key:"saveViewState",value:function(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}},{key:"moveNext",value:function(){var t;(t=this.wordHighlighter)===null||t===void 0||t.moveNext()}},{key:"moveBack",value:function(){var t;(t=this.wordHighlighter)===null||t===void 0||t.moveBack()}},{key:"restoreViewState",value:function(t){this.wordHighlighter&&t&&this.wordHighlighter.restore()}},{key:"dispose",value:function(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);Gh.ID="editor.contrib.wordHighlighter",Gh=Aj([X0(1,Jn.b),X0(2,Nr.a)],Gh);var eC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this,t),n._isNext=i,n}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=Gh.get(n);!r||(this._isNext?r.moveNext():r.moveBack())}}]),e}(St.b),Bj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!0,{id:"editor.action.wordHighlight.next",label:Qe.b("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:jm,kbOpts:{kbExpr:an.a.editorTextFocus,primary:65,weight:100}})}return Object(w.a)(e)}(eC),Wj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,!1,{id:"editor.action.wordHighlight.prev",label:Qe.b("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:jm,kbOpts:{kbExpr:an.a.editorTextFocus,primary:1024|65,weight:100}})}return Object(w.a)(e)}(eC),Vj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.wordHighlight.trigger",label:Qe.b("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:jm.toNegated(),kbOpts:{kbExpr:an.a.editorTextFocus,primary:0,weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){var l=Gh.get(n);!l||l.restoreViewState(!0)}}]),e}(St.b);Object(St.m)(Gh.ID,Gh,0),Object(St.k)(Bj),Object(St.k)(Wj),Object(St.k)(Vj);var Hj=a("LLum"),hd=a("6FFW"),$h=a("Vk6M"),Em=a("FmXZ"),Lm=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this,i),t._inSelectionMode=i.inSelectionMode,t._wordNavigationType=i.wordNavigationType,t}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n,r){var l=this;if(!!n.hasModel()){var c=Object($h.a)(n.getOption(126)),h=n.getModel(),f=n.getSelections(),R=f.map(function(ie){var je=new tn.a(ie.positionLineNumber,ie.positionColumn),Ie=l._move(c,h,je,l._wordNavigationType);return l._moveTo(ie,Ie,l._inSelectionMode)});if(h.pushStackElement(),n._getViewModel().setCursorStates("moveWordCommand",3,R.map(function(ie){return Hj.b.fromModelSelection(ie)})),R.length===1){var Z=new tn.a(R[0].positionLineNumber,R[0].positionColumn);n.revealPosition(Z,0)}}}},{key:"_moveTo",value:function(t,n,r){return r?new Gi.a(t.selectionStartLineNumber,t.selectionStartColumn,n.lineNumber,n.column):new Gi.a(n.lineNumber,n.column,n.lineNumber,n.column)}}]),e}(St.d),Qd=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"_move",value:function(t,n,r,l){return hd.a.moveWordLeft(t,n,r,l)}}]),e}(Lm),Yd=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"_move",value:function(t,n,r,l){return hd.a.moveWordRight(t,n,r,l)}}]),e}(Lm),Uj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}return Object(w.a)(e)}(Qd),zj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}return Object(w.a)(e)}(Qd),Kj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){Object(k.a)(this,e);var i;return o.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:Jn.a.and(an.a.textInputFocus,(i=Jn.a.and(Wa.a,Em.b))===null||i===void 0?void 0:i.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}return Object(w.a)(e)}(Qd),Gj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}return Object(w.a)(e)}(Qd),$j=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}return Object(w.a)(e)}(Qd),Qj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){Object(k.a)(this,e);var i;return o.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:Jn.a.and(an.a.textInputFocus,(i=Jn.a.and(Wa.a,Em.b))===null||i===void 0?void 0:i.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}return Object(w.a)(e)}(Qd),Yj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}return Object(w.a)(e,[{key:"_move",value:function(t,n,r,l){return Object(yi.a)(Object(vi.a)(e.prototype),"_move",this).call(this,Object($h.a)(fs.h.wordSeparators.defaultValue),n,r,l)}}]),e}(Qd),Zj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}return Object(w.a)(e,[{key:"_move",value:function(t,n,r,l){return Object(yi.a)(Object(vi.a)(e.prototype),"_move",this).call(this,Object($h.a)(fs.h.wordSeparators.defaultValue),n,r,l)}}]),e}(Qd),Xj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}return Object(w.a)(e)}(Yd),Jj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){Object(k.a)(this,e);var i;return o.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:Jn.a.and(an.a.textInputFocus,(i=Jn.a.and(Wa.a,Em.b))===null||i===void 0?void 0:i.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}return Object(w.a)(e)}(Yd),qj=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}return Object(w.a)(e)}(Yd),eE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}return Object(w.a)(e)}(Yd),tE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){Object(k.a)(this,e);var i;return o.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:Jn.a.and(an.a.textInputFocus,(i=Jn.a.and(Wa.a,Em.b))===null||i===void 0?void 0:i.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}return Object(w.a)(e)}(Yd),nE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}return Object(w.a)(e)}(Yd),iE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}return Object(w.a)(e,[{key:"_move",value:function(t,n,r,l){return Object(yi.a)(Object(vi.a)(e.prototype),"_move",this).call(this,Object($h.a)(fs.h.wordSeparators.defaultValue),n,r,l)}}]),e}(Yd),rE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}return Object(w.a)(e,[{key:"_move",value:function(t,n,r,l){return Object(yi.a)(Object(vi.a)(e.prototype),"_move",this).call(this,Object($h.a)(fs.h.wordSeparators.defaultValue),n,r,l)}}]),e}(Yd),Mm=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this,i),t._whitespaceHeuristics=i.whitespaceHeuristics,t._wordNavigationType=i.wordNavigationType,t}return Object(w.a)(e,[{key:"runEditorCommand",value:function(t,n,r){var l=this,c=t.get(Ro.a);if(!!n.hasModel()){var h=Object($h.a)(n.getOption(126)),f=n.getModel(),R=n.getSelections(),Z=n.getOption(5),ie=n.getOption(9),je=c.getLanguageConfiguration(f.getLanguageId()).getAutoClosingPairs(),Ie=n._getViewModel(),st=R.map(function(ft){var kt=l._delete({wordSeparators:h,model:f,selection:ft,whitespaceHeuristics:l._whitespaceHeuristics,autoClosingDelete:n.getOption(7),autoClosingBrackets:Z,autoClosingQuotes:ie,autoClosingPairs:je,autoClosedCharacters:Ie.getCursorAutoClosedCharacters()},l._wordNavigationType);return new ut.a(kt,"")});n.pushUndoStop(),n.executeCommands(this.id,st),n.pushUndoStop()}}}]),e}(St.d),Ab=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"_delete",value:function(t,n){var r=hd.a.deleteWordLeft(t,n);return r||new Dt.a(1,1,1,1)}}]),e}(Mm),Rb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"_delete",value:function(t,n){var r=hd.a.deleteWordRight(t,n);if(r)return r;var l=t.model.getLineCount(),c=t.model.getLineMaxColumn(l);return new Dt.a(l,c,l,c)}}]),e}(Mm),aE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:an.a.writable})}return Object(w.a)(e)}(Ab),oE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:an.a.writable})}return Object(w.a)(e)}(Ab),sE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:an.a.writable,kbOpts:{kbExpr:an.a.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}return Object(w.a)(e)}(Ab),lE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:an.a.writable})}return Object(w.a)(e)}(Rb),uE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:an.a.writable})}return Object(w.a)(e)}(Rb),cE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:an.a.writable,kbOpts:{kbExpr:an.a.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}return Object(w.a)(e)}(Rb),dE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"deleteInsideWord",precondition:an.a.writable,label:Qe.b("deleteInsideWord","Delete Word"),alias:"Delete Word"})}return Object(w.a)(e,[{key:"run",value:function(t,n,r){if(!!n.hasModel()){var l=Object($h.a)(n.getOption(126)),c=n.getModel(),h=n.getSelections(),f=h.map(function(R){var Z=hd.a.deleteInsideWord(l,c,R);return new ut.a(Z,"")});n.pushUndoStop(),n.executeCommands(this.id,f),n.pushUndoStop()}}}]),e}(St.b);Object(St.l)(new Uj),Object(St.l)(new zj),Object(St.l)(new Kj),Object(St.l)(new Gj),Object(St.l)(new $j),Object(St.l)(new Qj),Object(St.l)(new Xj),Object(St.l)(new Jj),Object(St.l)(new qj),Object(St.l)(new eE),Object(St.l)(new tE),Object(St.l)(new nE),Object(St.l)(new Yj),Object(St.l)(new Zj),Object(St.l)(new iE),Object(St.l)(new rE),Object(St.l)(new aE),Object(St.l)(new oE),Object(St.l)(new sE),Object(St.l)(new lE),Object(St.l)(new uE),Object(St.l)(new cE),Object(St.k)(dE);var hE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:an.a.writable,kbOpts:{kbExpr:an.a.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}return Object(w.a)(e,[{key:"_delete",value:function(t,n){var r=hd.b.deleteWordPartLeft(t);return r||new Dt.a(1,1,1,1)}}]),e}(Mm),fE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:an.a.writable,kbOpts:{kbExpr:an.a.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}return Object(w.a)(e,[{key:"_delete",value:function(t,n){var r=hd.b.deleteWordPartRight(t);if(r)return r;var l=t.model.getLineCount(),c=t.model.getLineMaxColumn(l);return new Dt.a(l,c,l,c)}}]),e}(Mm),tC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"_move",value:function(t,n,r,l){return hd.b.moveWordPartLeft(t,n,r)}}]),e}(Lm),vE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:an.a.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}return Object(w.a)(e)}(tC);ia.a.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var gE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:an.a.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}return Object(w.a)(e)}(tC);ia.a.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var nC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.apply(this,arguments)}return Object(w.a)(e,[{key:"_move",value:function(t,n,r,l){return hd.b.moveWordPartRight(t,n,r)}}]),e}(Lm),mE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:an.a.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}return Object(w.a)(e)}(nC),pE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:an.a.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}return Object(w.a)(e)}(nC);Object(St.l)(new hE),Object(St.l)(new fE),Object(St.l)(new vE),Object(St.l)(new gE),Object(St.l)(new mE),Object(St.l)(new pE);var Nb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t.editor=i,t._register(t.editor.onDidAttemptReadOnlyEdit(function(){return t._onDidAttemptReadOnlyEdit()})),t}return Object(w.a)(e,[{key:"_onDidAttemptReadOnlyEdit",value:function(){var t=ns.get(this.editor);t&&this.editor.hasModel()&&(this.editor.isSimpleWidget?t.showMessage(Qe.b("editor.simple.readonly","Cannot edit in read-only input"),this.editor.getPosition()):t.showMessage(Qe.b("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition()))}}]),e}(Ze.a);Nb.ID="editor.contrib.readOnlyMessageController",Object(St.m)(Nb.ID,Nb,2);var Lo=a("A9l+"),vL=a("QaAZ"),iC=a("ZlPH"),rC=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Tm=function(s,o){return function(e,i){o(e,i,s)}},aC=new Jn.c("accessibilityHelpWidgetVisible",!1),Qh=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n._editor=i,n._widget=n._register(t.createInstance(Jf,n._editor)),n}return Object(w.a)(e,[{key:"show",value:function(){this._widget.show()}},{key:"hide",value:function(){this._widget.hide()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);Qh.ID="editor.contrib.accessibilityHelpController",Qh=rC([Tm(1,Ia.a)],Qh);function bE(s,o){return!s||s.length===0?Lo.a.noSelection:s.length===1?o?Vn.v(Lo.a.singleSelectionRange,s[0].positionLineNumber,s[0].positionColumn,o):Vn.v(Lo.a.singleSelection,s[0].positionLineNumber,s[0].positionColumn):o?Vn.v(Lo.a.multiSelectionRange,s.length,o):s.length>0?Vn.v(Lo.a.multiSelection,s.length):""}var Jf=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r){var l;Object(k.a)(this,e),l=o.call(this),l._contextKeyService=t,l._keybindingService=n,l._openerService=r,l._editor=i,l._isVisibleKey=aC.bindTo(l._contextKeyService),l._domNode=Object(iC.b)(document.createElement("div")),l._domNode.setClassName("accessibilityHelpWidget"),l._domNode.setDisplay("none"),l._domNode.setAttribute("role","dialog"),l._domNode.setAttribute("aria-modal","true"),l._domNode.setAttribute("aria-hidden","true");var c=Object(Bt.append)(l._domNode.domNode,Object(Bt.$)("h1",void 0,Lo.a.accessibilityHelpTitle));return c.id="help-dialog-heading",l._domNode.setAttribute("aria-labelledby",c.id),l._contentDomNode=Object(iC.b)(document.createElement("div")),l._contentDomNode.setAttribute("role","document"),l._contentDomNode.domNode.id="help-dialog-content",l._domNode.appendChild(l._contentDomNode),l._contentDomNode.setAttribute("aria-describedby",l._contentDomNode.domNode.id),l._isVisible=!1,l._register(l._editor.onDidLayoutChange(function(){l._isVisible&&l._layout()})),l._register(Object(Bt.addStandardDisposableListener)(l._contentDomNode.domNode,"keydown",function(h){if(!!l._isVisible&&(h.equals(2048|35)&&(Object(xi.a)(Lo.a.emergencyConfOn),l._editor.updateOptions({accessibilitySupport:"on"}),Object(Bt.clearNode)(l._contentDomNode.domNode),l._buildContent(),l._contentDomNode.domNode.focus(),h.preventDefault(),h.stopPropagation()),h.equals(2048|38))){Object(xi.a)(Lo.a.openingDocs);var f=l._editor.getRawOptions().accessibilityHelpUrl;typeof f=="undefined"&&(f="https://go.microsoft.com/fwlink/?linkid=852450"),l._openerService.open(Wr.a.parse(f)),h.preventDefault(),h.stopPropagation()}})),l.onblur(l._contentDomNode.domNode,function(){l.hide()}),l._editor.addOverlayWidget(Object(pi.a)(l)),l}return Object(w.a)(e,[{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this._domNode.domNode}},{key:"getPosition",value:function(){return{preference:null}}},{key:"show",value:function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}},{key:"_descriptionForCommand",value:function(t,n,r){var l=this._keybindingService.lookupKeybinding(t);return l?Vn.v(n,l.getAriaLabel()):Vn.v(r,t)}},{key:"_buildContent",value:function(){var t=this._contentDomNode.domNode,n=this._editor.getOptions(),r=this._editor.getSelections(),l=0;if(r){var c=this._editor.getModel();c&&r.forEach(function(ie){l+=c.getValueLengthInRange(ie)})}Object(Bt.append)(t,Object(Bt.$)("p",void 0,bE(r,l)));var h=Object(Bt.append)(t,Object(Bt.$)("p"));n.get(59)?n.get(88)?h.textContent=Lo.a.readonlyDiffEditor:h.textContent=Lo.a.editableDiffEditor:n.get(88)?h.textContent=Lo.a.readonlyEditor:h.textContent=Lo.a.editableEditor;var f=Object(Bt.append)(t,Object(Bt.$)("ul")),R=Ut.i?Lo.a.changeConfigToOnMac:Lo.a.changeConfigToOnWinLinux;switch(n.get(2)){case 0:Object(Bt.append)(f,Object(Bt.$)("li",void 0,R));break;case 2:Object(Bt.append)(f,Object(Bt.$)("li",void 0,Lo.a.auto_on));break;case 1:Object(Bt.append)(f,Object(Bt.$)("li",void 0,Lo.a.auto_off,R));break}n.get(139)?Object(Bt.append)(f,Object(Bt.$)("li",void 0,this._descriptionForCommand(Sm.ID,Lo.a.tabFocusModeOnMsg,Lo.a.tabFocusModeOnMsgNoKb))):Object(Bt.append)(f,Object(Bt.$)("li",void 0,this._descriptionForCommand(Sm.ID,Lo.a.tabFocusModeOffMsg,Lo.a.tabFocusModeOffMsgNoKb)));var Z=Ut.i?Lo.a.openDocMac:Lo.a.openDocWinLinux;Object(Bt.append)(f,Object(Bt.$)("li",void 0,Z)),Object(Bt.append)(t,Object(Bt.$)("p",void 0,Lo.a.outroMsg))}},{key:"hide",value:function(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,Object(Bt.clearNode)(this._contentDomNode.domNode),this._editor.focus())}},{key:"_layout",value:function(){var t=this._editor.getLayoutInfo(),n=Math.max(5,Math.min(e.WIDTH,t.width-40)),r=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(n),this._domNode.setHeight(r);var l=Math.round((t.height-r)/2);this._domNode.setTop(l);var c=Math.round((t.width-n)/2);this._domNode.setLeft(c)}}]),e}(v.a);Jf.ID="editor.contrib.accessibilityHelpWidget",Jf.WIDTH=500,Jf.HEIGHT=300,Jf=rC([Tm(1,Jn.b),Tm(2,Ii.a),Tm(3,Ea.a)],Jf);var yE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.showAccessibilityHelp",label:Lo.a.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=Qh.get(n);r==null||r.show()}}]),e}(St.b);Object(St.m)(Qh.ID,Qh,4),Object(St.k)(yE);var _E=St.d.bindToContribution(Qh.get);Object(St.l)(new _E({id:"closeAccessibilityHelp",precondition:aC,handler:function(o){return o.hide()},kbOpts:{weight:100+100,kbExpr:an.a.focus,primary:9,secondary:[1024|9]}}));var gL=a("ci+S"),xb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t.editor=i,t.widget=null,Ut.f&&(t._register(i.onDidChangeConfiguration(function(){return t.update()})),t.update()),t}return Object(w.a)(e,[{key:"update",value:function(){var t=!this.editor.getOption(88);!this.widget&&t?this.widget=new oC(this.editor):this.widget&&!t&&(this.widget.dispose(),this.widget=null)}},{key:"dispose",value:function(){Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this),this.widget&&(this.widget.dispose(),this.widget=null)}}]),e}(Ze.a);xb.ID="editor.contrib.iPadShowKeyboard";var oC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t.editor=i,t._domNode=document.createElement("textarea"),t._domNode.className="iPadShowKeyboard",t._register(Bt.addDisposableListener(t._domNode,"touchstart",function(n){t.editor.focus()})),t._register(Bt.addDisposableListener(t._domNode,"focus",function(n){t.editor.focus()})),t.editor.addOverlayWidget(Object(pi.a)(t)),t}return Object(w.a)(e,[{key:"dispose",value:function(){this.editor.removeOverlayWidget(this),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return e.ID}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{preference:1}}}]),e}(Ze.a);oC.ID="editor.contrib.ShowKeyboardWidget",Object(St.m)(xb.ID,xb,3);var mL=a("EzsQ"),dg=a("VGTv"),Fb=a("7AJZ"),sC=a("C+7e"),CE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},lC=function(s,o){return function(e,i){o(e,i,s)}},qf=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this),r._editor=i,r._languageService=n,r._widget=null,r._register(r._editor.onDidChangeModel(function(l){return r.stop()})),r._register(r._editor.onDidChangeModelLanguage(function(l){return r.stop()})),r._register(oo.m.onDidChange(function(l){return r.stop()})),r._register(r._editor.onKeyUp(function(l){return l.keyCode===9&&r.stop()})),r}return Object(w.a)(e,[{key:"dispose",value:function(){this.stop(),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"launch",value:function(){this._widget||!this._editor.hasModel()||(this._widget=new uC(this._editor,this._languageService))}},{key:"stop",value:function(){this._widget&&(this._widget.dispose(),this._widget=null)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}(Ze.a);qf.ID="editor.contrib.inspectTokens",qf=CE([lC(1,sC.a),lC(2,br.a)],qf);var OE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:"editor.action.inspectTokens",label:Lo.c.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=qf.get(n);r==null||r.launch()}}]),e}(St.b);function SE(s){for(var o="",e=0,i=s.length;e<i;e++){var t=s.charCodeAt(e);switch(t){case 9:o+="\u2192";break;case 32:o+="\xB7";break;default:o+=String.fromCharCode(t)}}return o}function kE(s,o){var e=oo.m.get(o);if(e)return e;var i=s.encodeLanguageId(o);return{getInitialState:function(){return Fb.a},tokenize:function(n,r,l){return Object(Fb.b)(o,l)},tokenizeEncoded:function(n,r,l){return Object(Fb.c)(i,l)}}}var uC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n.allowEditorOverflow=!0,n._editor=i,n._languageService=t,n._model=n._editor.getModel(),n._domNode=document.createElement("div"),n._domNode.className="tokens-inspect-widget",n._tokenizationSupport=kE(n._languageService.languageIdCodec,n._model.getLanguageId()),n._compute(n._editor.getPosition()),n._register(n._editor.onDidChangeCursorPosition(function(r){return n._compute(n._editor.getPosition())})),n._editor.addContentWidget(Object(pi.a)(n)),n}return Object(w.a)(e,[{key:"dispose",value:function(){this._editor.removeContentWidget(this),Object(yi.a)(Object(vi.a)(e.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return e._ID}},{key:"_compute",value:function(t){for(var n=this._getTokensAtLine(t.lineNumber),r=0,l=n.tokens1.length-1;l>=0;l--){var c=n.tokens1[l];if(t.column-1>=c.offset){r=l;break}}for(var h=0,f=n.tokens2.length>>>1;f>=0;f--)if(t.column-1>=n.tokens2[f<<1]){h=f;break}var R=this._model.getLineContent(t.lineNumber),Z="";if(r<n.tokens1.length){var ie=n.tokens1[r].offset,je=r+1<n.tokens1.length?n.tokens1[r+1].offset:R.length;Z=R.substring(ie,je)}Object(Bt.reset)(this._domNode,Object(Bt.$)("h2.tm-token",void 0,SE(Z),Object(Bt.$)("span.tm-token-length",void 0,"".concat(Z.length," ").concat(Z.length===1?"char":"chars")))),Object(Bt.append)(this._domNode,Object(Bt.$)("hr.tokens-inspect-separator",{style:"clear:both"}));var Ie=(h<<1)+1<n.tokens2.length?this._decodeMetadata(n.tokens2[(h<<1)+1]):null;Object(Bt.append)(this._domNode,Object(Bt.$)("table.tm-metadata-table",void 0,Object(Bt.$)("tbody",void 0,Object(Bt.$)("tr",void 0,Object(Bt.$)("td.tm-metadata-key",void 0,"language"),Object(Bt.$)("td.tm-metadata-value",void 0,"".concat(Ie?Ie.languageId:"-?-"))),Object(Bt.$)("tr",void 0,Object(Bt.$)("td.tm-metadata-key",void 0,"token type"),Object(Bt.$)("td.tm-metadata-value",void 0,"".concat(Ie?this._tokenTypeToString(Ie.tokenType):"-?-"))),Object(Bt.$)("tr",void 0,Object(Bt.$)("td.tm-metadata-key",void 0,"font style"),Object(Bt.$)("td.tm-metadata-value",void 0,"".concat(Ie?this._fontStyleToString(Ie.fontStyle):"-?-"))),Object(Bt.$)("tr",void 0,Object(Bt.$)("td.tm-metadata-key",void 0,"foreground"),Object(Bt.$)("td.tm-metadata-value",void 0,"".concat(Ie?ja.a.Format.CSS.formatHex(Ie.foreground):"-?-"))),Object(Bt.$)("tr",void 0,Object(Bt.$)("td.tm-metadata-key",void 0,"background"),Object(Bt.$)("td.tm-metadata-value",void 0,"".concat(Ie?ja.a.Format.CSS.formatHex(Ie.background):"-?-")))))),Object(Bt.append)(this._domNode,Object(Bt.$)("hr.tokens-inspect-separator")),r<n.tokens1.length&&Object(Bt.append)(this._domNode,Object(Bt.$)("span.tm-token-type",void 0,n.tokens1[r].type)),this._editor.layoutContentWidget(this)}},{key:"_decodeMetadata",value:function(t){var n=oo.m.getColorMap(),r=dg.a.getLanguageId(t),l=dg.a.getTokenType(t),c=dg.a.getFontStyle(t),h=dg.a.getForeground(t),f=dg.a.getBackground(t);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(r),tokenType:l,fontStyle:c,foreground:n[h],background:n[f]}}},{key:"_tokenTypeToString",value:function(t){switch(t){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}},{key:"_fontStyleToString",value:function(t){var n="";return t&1&&(n+="italic "),t&2&&(n+="bold "),t&4&&(n+="underline "),t&8&&(n+="strikethrough "),n.length===0&&(n="---"),n}},{key:"_getTokensAtLine",value:function(t){var n=this._getStateBeforeLine(t),r=this._tokenizationSupport.tokenize(this._model.getLineContent(t),!0,n),l=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(t),!0,n);return{startState:n,tokens1:r.tokens,tokens2:l.tokens,endState:r.endState}}},{key:"_getStateBeforeLine",value:function(t){for(var n=this._tokenizationSupport.getInitialState(),r=1;r<t;r++){var l=this._tokenizationSupport.tokenize(this._model.getLineContent(r),!0,n);n=l.endState}return n}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{position:this._editor.getPosition(),preference:[2,1]}}}]),e}(Ze.a);uC._ID="editor.contrib.inspectTokensWidget",Object(St.m)(qf.ID,qf,4),Object(St.k)(OE);var hg=a("Lx4V"),DE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},cC=function(s,o){return function(e,i){o(e,i,s)}},Im=function(){function s(o,e){Object(k.a)(this,s),this.quickInputService=o,this.keybindingService=e,this.registry=Fs.a.as(hg.b.Quickaccess)}return Object(w.a)(s,[{key:"provide",value:function(e){var i=this,t=new Ze.c;return t.add(e.onDidAccept(function(){var n=Object(z.a)(e.selectedItems,1),r=n[0];r&&i.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(function(n){var r=i.registry.getQuickAccessProvider(n.substr(s.PREFIX.length));r&&r.prefix&&r.prefix!==s.PREFIX&&i.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders().filter(function(n){return n.prefix!==s.PREFIX}),t}},{key:"getQuickAccessProviders",value:function(){var e=this,i=this.registry.getQuickAccessProviders().sort(function(t,n){return t.prefix.localeCompare(n.prefix)}).flatMap(function(t){return e.createPicks(t)});return i}},{key:"createPicks",value:function(e){var i=this;return e.helpEntries.map(function(t){var n=t.prefix||e.prefix,r=n||"\u2026";return{prefix:n,label:r,keybinding:t.commandId?i.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:Object(Qe.b)("helpPickAriaLabel","{0}, {1}",r,t.description),description:t.description}})}}]),s}();Im.PREFIX="?",Im=DE([cC(0,Vs.a),cC(1,Ii.a)],Im),Fs.a.as(hg.b.Quickaccess).registerQuickAccessProvider({ctor:Im,prefix:"",helpEntries:[{description:Lo.e.helpQuickAccessActionLabel}]});var dC=function(){function s(o){Object(k.a)(this,s),this.options=o,this.rangeHighlightDecorationId=void 0}return Object(w.a)(s,[{key:"provide",value:function(e,i){var t=this,n,r=new Ze.c;e.canAcceptInBackground=!!((n=this.options)===null||n===void 0?void 0:n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;var l=r.add(new Ze.e);return l.value=this.doProvide(e,i),r.add(this.onDidActiveTextEditorControlChange(function(){l.value=void 0,l.value=t.doProvide(e,i)})),r}},{key:"doProvide",value:function(e,i){var t=this,n=new Ze.c,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){var l={editor:r},c=Object(ed.a)(r);if(c){var h=Object(Yr.n)(r.saveViewState());n.add(c.onDidChangeCursorPosition(function(){h=Object(Yr.n)(r.saveViewState())})),l.restoreViewState=function(){h&&r===t.activeTextEditorControl&&r.restoreViewState(h)},n.add(Object(qd.a)(i.onCancellationRequested)(function(){var f;return(f=l.restoreViewState)===null||f===void 0?void 0:f.call(l)}))}n.add(Object(Ze.l)(function(){return t.clearDecorations(r)})),n.add(this.provideWithTextEditor(l,e,i))}else n.add(this.provideWithoutTextEditor(e,i));return n}},{key:"canProvideWithTextEditor",value:function(e){return!0}},{key:"gotoLocation",value:function(e,i){var t=e.editor;t.setSelection(i.range),t.revealRangeInCenter(i.range,0),i.preserveFocus||t.focus();var n=t.getModel();n&&"getLineContent"in n&&Object(xi.a)("".concat(n.getLineContent(i.range.startLineNumber)))}},{key:"getModel",value:function(e){var i;return Object(ed.c)(e)?(i=e.getModel())===null||i===void 0?void 0:i.modified:e.getModel()}},{key:"addDecorations",value:function(e,i){var t=this;e.changeDecorations(function(n){var r=[];t.rangeHighlightDecorationId&&(r.push(t.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(t.rangeHighlightDecorationId.rangeHighlightId),t.rangeHighlightDecorationId=void 0);var l=[{range:i,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:i,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:Object(Oi.f)(Ry.H),position:pn.f.Full}}}],c=n.deltaDecorations(r,l),h=Object(z.a)(c,2),f=h[0],R=h[1];t.rangeHighlightDecorationId={rangeHighlightId:f,overviewRulerDecorationId:R}})}},{key:"clearDecorations",value:function(e){var i=this.rangeHighlightDecorationId;i&&(e.changeDecorations(function(t){t.deltaDecorations([i.overviewRulerDecorationId,i.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}]),s}(),hC=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{canAcceptInBackground:!0})}return Object(w.a)(e,[{key:"provideWithoutTextEditor",value:function(t){var n=Object(Qe.b)("cannotRunGotoLine","Open a text editor first to go to a line.");return t.items=[{label:n}],t.ariaLabel=n,Ze.a.None}},{key:"provideWithTextEditor",value:function(t,n,r){var l=this,c=t.editor,h=new Ze.c;h.add(n.onDidAccept(function(je){var Ie=Object(z.a)(n.selectedItems,1),st=Ie[0];if(st){if(!l.isValidLineNumber(c,st.lineNumber))return;l.gotoLocation(t,{range:l.toRange(st.lineNumber,st.column),keyMods:n.keyMods,preserveFocus:je.inBackground}),je.inBackground||n.hide()}}));var f=function(){var Ie=l.parsePosition(c,n.value.trim().substr(e.PREFIX.length)),st=l.getPickLabel(c,Ie.lineNumber,Ie.column);if(n.items=[{lineNumber:Ie.lineNumber,column:Ie.column,label:st}],n.ariaLabel=st,!l.isValidLineNumber(c,Ie.lineNumber)){l.clearDecorations(c);return}var ft=l.toRange(Ie.lineNumber,Ie.column);c.revealRangeInCenter(ft,0),l.addDecorations(c,ft)};f(),h.add(n.onDidChangeValue(function(){return f()}));var R=Object(ed.a)(c);if(R){var Z=R.getOptions(),ie=Z.get(65);ie.renderType===2&&(R.updateOptions({lineNumbers:"on"}),h.add(Object(Ze.l)(function(){return R.updateOptions({lineNumbers:"relative"})})))}return h}},{key:"toRange",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{startLineNumber:t,startColumn:n,endLineNumber:t,endColumn:n}}},{key:"parsePosition",value:function(t,n){var r=n.split(/,|:|#/).map(function(c){return parseInt(c,10)}).filter(function(c){return!isNaN(c)}),l=this.lineCount(t)+1;return{lineNumber:r[0]>0?r[0]:l+r[0],column:r[1]}}},{key:"getPickLabel",value:function(t,n,r){if(this.isValidLineNumber(t,n))return this.isValidColumn(t,n,r)?Object(Qe.b)("gotoLineColumnLabel","Go to line {0} and character {1}.",n,r):Object(Qe.b)("gotoLineLabel","Go to line {0}.",n);var l=t.getPosition()||{lineNumber:1,column:1},c=this.lineCount(t);return c>1?Object(Qe.b)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",l.lineNumber,l.column,c):Object(Qe.b)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",l.lineNumber,l.column)}},{key:"isValidLineNumber",value:function(t,n){return!n||typeof n!="number"?!1:n>0&&n<=this.lineCount(t)}},{key:"isValidColumn",value:function(t,n,r){if(!r||typeof r!="number")return!1;var l=this.getModel(t);if(!l)return!1;var c={lineNumber:n,column:r};return l.validatePosition(c).equals(c)}},{key:"lineCount",value:function(t){var n,r;return(r=(n=this.getModel(t))===null||n===void 0?void 0:n.getLineCount())!==null&&r!==void 0?r:0}}]),e}(dC);hC.PREFIX=":";var wE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},jE=function(s,o){return function(e,i){o(e,i,s)}},fg=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i){var t;return Object(k.a)(this,e),t=o.call(this),t.editorService=i,t.onDidActiveTextEditorControlChange=rr.c.None,t}return Object(w.a)(e,[{key:"activeTextEditorControl",get:function(){return Object(Yr.n)(this.editorService.getFocusedCodeEditor())}}]),e}(hC);fg=wE([jE(0,In.a)],fg);var Bb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,label:Lo.b.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:an.a.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}return Object(w.a)(e,[{key:"run",value:function(t){t.get(Vs.a).quickAccess.show(fg.PREFIX)}}]),e}(St.b);Bb.ID="editor.action.gotoLine",Object(St.k)(Bb),Fs.a.as(hg.b.Quickaccess).registerQuickAccessProvider({ctor:fg,prefix:fg.PREFIX,helpEntries:[{description:Lo.b.gotoLineActionLabel,commandId:Bb.ID}]});var fC=[void 0,[]];function Wb(s,o){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,t=o;return t.values&&t.values.length>1?EE(s,t.values,e,i):vC(s,o,e,i)}function EE(s,o,e,i){var t=0,n=[],r=Object(B.a)(o),l;try{for(r.s();!(l=r.n()).done;){var c=l.value,h=vC(s,c,e,i),f=Object(z.a)(h,2),R=f[0],Z=f[1];if(typeof R!="number")return fC;t+=R,n.push.apply(n,Object(Ai.a)(Z))}}catch(ie){r.e(ie)}finally{r.f()}return[t,LE(n)]}function vC(s,o,e,i){var t=Object(_s.e)(o.original,o.originalLowercase,e,s,s.toLowerCase(),i,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?[t[0],Object(_s.d)(t)]:fC}var pL=Object.freeze({score:0});function LE(s){var o=s.sort(function(l,c){return l.start-c.start}),e=[],i=void 0,t=Object(B.a)(o),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;!i||!ME(i,r)?(i=r,e.push(r)):(i.start=Math.min(i.start,r.start),i.end=Math.max(i.end,r.end))}}catch(l){t.e(l)}finally{t.f()}return e}function ME(s,o){return!(s.end<o.start||o.end<s.start)}function gC(s){return s.startsWith('"')&&s.endsWith('"')}var mC=" ";function Vb(s){typeof s!="string"&&(s="");var o=s.toLowerCase(),e=pC(s),i=e.pathNormalized,t=e.normalized,n=e.normalizedLowercase,r=i.indexOf(cd.h)>=0,l=gC(s),c=void 0,h=s.split(mC);if(h.length>1){var f=Object(B.a)(h),R;try{for(f.s();!(R=f.n()).done;){var Z=R.value,ie=gC(Z),je=pC(Z),Ie=je.pathNormalized,st=je.normalized,ft=je.normalizedLowercase;st&&(c||(c=[]),c.push({original:Z,originalLowercase:Z.toLowerCase(),pathNormalized:Ie,normalized:st,normalizedLowercase:ft,expectContiguousMatch:ie}))}}catch(kt){f.e(kt)}finally{f.f()}}return{original:s,originalLowercase:o,pathNormalized:i,normalized:t,normalizedLowercase:n,values:c,containsPathSeparator:r,expectContiguousMatch:l}}function pC(s){var o;Ut.o?o=s.replace(/\//g,cd.h):o=s.replace(/\\/g,cd.h);var e=Object(Vn.V)(o).replace(/\s|"/g,"");return{pathNormalized:o,normalized:e,normalizedLowercase:e.toLowerCase()}}function bC(s){return Array.isArray(s)?Vb(s.map(function(o){return o.original}).join(mC)):Vb(s.original)}var us,TE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},yC=function(s,o){return function(e,i){o(e,i,s)}},vg=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},zu=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.create(null);return Object(k.a)(this,e),n=o.call(this,r),n._languageFeaturesService=i,n._outlineModelService=t,n.options=r,n.options.canAcceptInBackground=!0,n}return Object(w.a)(e,[{key:"provideWithoutTextEditor",value:function(t){return this.provideLabelPick(t,Object(Qe.b)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),Ze.a.None}},{key:"provideWithTextEditor",value:function(t,n,r){var l=t.editor,c=this.getModel(l);return c?this._languageFeaturesService.documentSymbolProvider.has(c)?this.doProvideWithEditorSymbols(t,c,n,r):this.doProvideWithoutEditorSymbols(t,c,n,r):Ze.a.None}},{key:"doProvideWithoutEditorSymbols",value:function(t,n,r,l){var c=this,h=new Ze.c;return this.provideLabelPick(r,Object(Qe.b)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),function(){return vg(c,void 0,void 0,Object(d.a)().mark(function f(){var R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,this.waitForLanguageSymbolRegistry(n,h);case 2:if(R=ie.sent,!(!R||l.isCancellationRequested)){ie.next=5;break}return ie.abrupt("return");case 5:h.add(this.doProvideWithEditorSymbols(t,n,r,l));case 6:case"end":return ie.stop()}},f,this)}))}(),h}},{key:"provideLabelPick",value:function(t,n){t.items=[{label:n,index:0,kind:14}],t.ariaLabel=n}},{key:"waitForLanguageSymbolRegistry",value:function(t,n){return vg(this,void 0,void 0,Object(d.a)().mark(function r(){var l=this,c,h;return Object(d.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!this._languageFeaturesService.documentSymbolProvider.has(t)){R.next=2;break}return R.abrupt("return",!0);case 2:return c=new et.b,h=n.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(function(){l._languageFeaturesService.documentSymbolProvider.has(t)&&(h.dispose(),c.complete(!0))})),n.add(Object(Ze.l)(function(){return c.complete(!1)})),R.abrupt("return",c.p);case 6:case"end":return R.stop()}},r,this)}))}},{key:"doProvideWithEditorSymbols",value:function(t,n,r,l){var c=this,h,f=t.editor,R=new Ze.c;R.add(r.onDidAccept(function(Ie){var st=Object(z.a)(r.selectedItems,1),ft=st[0];ft&&ft.range&&(c.gotoLocation(t,{range:ft.range.selection,keyMods:r.keyMods,preserveFocus:Ie.inBackground}),Ie.inBackground||r.hide())})),R.add(r.onDidTriggerItemButton(function(Ie){var st=Ie.item;st&&st.range&&(c.gotoLocation(t,{range:st.range.selection,keyMods:r.keyMods,forceSideBySide:!0}),r.hide())}));var Z=this.getDocumentSymbols(n,l),ie=void 0,je=function(st){return vg(c,void 0,void 0,Object(d.a)().mark(function ft(){var kt,$t,un;return Object(d.a)().wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:return ie==null||ie.dispose(!0),r.busy=!1,ie=new Zi.b(l),r.busy=!0,xn.prev=4,kt=Vb(r.value.substr(e.PREFIX.length).trim()),xn.next=8,this.doGetSymbolPicks(Z,kt,void 0,ie.token);case 8:if($t=xn.sent,!l.isCancellationRequested){xn.next=11;break}return xn.abrupt("return");case 11:$t.length>0?(r.items=$t,st&&kt.original.length===0&&(un=Object(or.l)($t,function(fi){return Boolean(fi.type!=="separator"&&fi.range&&Dt.a.containsPosition(fi.range.decoration,st))}),un&&(r.activeItems=[un]))):kt.original.length>0?this.provideLabelPick(r,Object(Qe.b)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(r,Object(Qe.b)("noSymbolResults","No editor symbols"));case 12:return xn.prev=12,l.isCancellationRequested||(r.busy=!1),xn.finish(12);case 15:case"end":return xn.stop()}},ft,this,[[4,,12,15]])}))};return R.add(r.onDidChangeValue(function(){return je(void 0)})),je((h=f.getSelection())===null||h===void 0?void 0:h.getPosition()),R.add(r.onDidChangeActive(function(){var Ie=Object(z.a)(r.activeItems,1),st=Ie[0];st&&st.range&&(f.revealRangeInCenter(st.range.selection,0),c.addDecorations(f,st.range.decoration))})),R}},{key:"doGetSymbolPicks",value:function(t,n,r,l){var c,h;return vg(this,void 0,void 0,Object(d.a)().mark(function f(){var R=this,Z,ie,je,Ie,st,ft,kt,$t,un,Yn,xn,fi,Si,ji,Bi,Lr,gr,jr,$r,fa,Fr,Aa,Oa,da,lo,cs,fo,Io,au,Vc,il,Xh,Jh,yg,Co;return Object(d.a)().wrap(function(Na){for(;;)switch(Na.prev=Na.next){case 0:return Na.next=2,t;case 2:if(Z=Na.sent,!l.isCancellationRequested){Na.next=5;break}return Na.abrupt("return",[]);case 5:ie=n.original.indexOf(e.SCOPE_PREFIX)===0,je=ie?1:0,n.values&&n.values.length>1?(Ie=bC(n.values[0]),st=bC(n.values.slice(1))):Ie=n,kt=(h=(c=this.options)===null||c===void 0?void 0:c.openSideBySideDirection)===null||h===void 0?void 0:h.call(c),kt&&(ft=[{iconClass:kt==="right"?oa.a.asClassName(ta.a.splitHorizontal):oa.a.asClassName(ta.a.splitVertical),tooltip:kt==="right"?Object(Qe.b)("openToSide","Open to the Side"):Object(Qe.b)("openToBottom","Open to the Bottom")}]),$t=[],un=0;case 12:if(!(un<Z.length)){Na.next=43;break}if(Yn=Z[un],xn=Object(Vn.W)(Yn.name),fi="$(".concat(oo.k.toIcon(Yn.kind).id,") ").concat(xn),Si=fi.length-xn.length,ji=Yn.containerName,(r==null?void 0:r.extraContainerLabel)&&(ji?ji="".concat(r.extraContainerLabel," \u2022 ").concat(ji):ji=r.extraContainerLabel),Bi=void 0,Lr=void 0,gr=void 0,jr=void 0,!(n.original.length>je)){Na.next=38;break}if($r=!1,Ie!==n&&(fa=Wb(fi,Object.assign(Object.assign({},n),{values:void 0}),je,Si),Fr=Object(z.a)(fa,2),Bi=Fr[0],Lr=Fr[1],typeof Bi=="number"&&($r=!0)),typeof Bi=="number"){Na.next=33;break}if(Aa=Wb(fi,Ie,je,Si),Oa=Object(z.a)(Aa,2),Bi=Oa[0],Lr=Oa[1],typeof Bi=="number"){Na.next=33;break}return Na.abrupt("continue",40);case 33:if(!(!$r&&st)){Na.next=38;break}if(ji&&st.original.length>0&&(da=Wb(ji,st),lo=Object(z.a)(da,2),gr=lo[0],jr=lo[1]),typeof gr=="number"){Na.next=37;break}return Na.abrupt("continue",40);case 37:typeof Bi=="number"&&(Bi+=gr);case 38:cs=Yn.tags&&Yn.tags.indexOf(1)>=0,$t.push({index:un,kind:Yn.kind,score:Bi,label:fi,ariaLabel:xn,description:ji,highlights:cs?void 0:{label:Lr,description:jr},range:{selection:Dt.a.collapseToStart(Yn.selectionRange),decoration:Yn.range},strikethrough:cs,buttons:ft});case 40:un++,Na.next=12;break;case 43:if(fo=$t.sort(function(no,ms){return ie?R.compareByKindAndScore(no,ms):R.compareByScore(no,ms)}),Io=[],ie){au=function(){il&&typeof Vc=="number"&&Xh>0&&(il.label=Object(Vn.v)(Ub[Vc]||Hb,Xh))},Vc=void 0,il=void 0,Xh=0,Jh=Object(B.a)(fo);try{for(Jh.s();!(yg=Jh.n()).done;)Co=yg.value,Vc!==Co.kind?(au(),Vc=Co.kind,Xh=1,il={type:"separator"},Io.push(il)):Xh++,Io.push(Co)}catch(no){Jh.e(no)}finally{Jh.f()}au()}else fo.length>0&&(Io=[{label:Object(Qe.b)("symbols","symbols ({0})",$t.length),type:"separator"}].concat(Object(Ai.a)(fo)));return Na.abrupt("return",Io);case 47:case"end":return Na.stop()}},f,this)}))}},{key:"compareByScore",value:function(t,n){if(typeof t.score!="number"&&typeof n.score=="number")return 1;if(typeof t.score=="number"&&typeof n.score!="number")return-1;if(typeof t.score=="number"&&typeof n.score=="number"){if(t.score>n.score)return-1;if(t.score<n.score)return 1}return t.index<n.index?-1:t.index>n.index?1:0}},{key:"compareByKindAndScore",value:function(t,n){var r=Ub[t.kind]||Hb,l=Ub[n.kind]||Hb,c=r.localeCompare(l);return c===0?this.compareByScore(t,n):c}},{key:"getDocumentSymbols",value:function(t,n){return vg(this,void 0,void 0,Object(d.a)().mark(function r(){var l;return Object(d.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this._outlineModelService.getOrCreate(t,n);case 2:return l=h.sent,h.abrupt("return",n.isCancellationRequested?[]:l.asListOfDocumentSymbols());case 4:case"end":return h.stop()}},r,this)}))}}]),e}(dC);zu.PREFIX="@",zu.SCOPE_PREFIX=":",zu.PREFIX_BY_CATEGORY="".concat(zu.PREFIX).concat(zu.SCOPE_PREFIX),zu=TE([yC(0,Nr.a),yC(1,$g)],zu);var Hb=Object(Qe.b)("property","properties ({0})"),Ub=(us={},Object(Yt.a)(us,5,Object(Qe.b)("method","methods ({0})")),Object(Yt.a)(us,11,Object(Qe.b)("function","functions ({0})")),Object(Yt.a)(us,8,Object(Qe.b)("_constructor","constructors ({0})")),Object(Yt.a)(us,12,Object(Qe.b)("variable","variables ({0})")),Object(Yt.a)(us,4,Object(Qe.b)("class","classes ({0})")),Object(Yt.a)(us,22,Object(Qe.b)("struct","structs ({0})")),Object(Yt.a)(us,23,Object(Qe.b)("event","events ({0})")),Object(Yt.a)(us,24,Object(Qe.b)("operator","operators ({0})")),Object(Yt.a)(us,10,Object(Qe.b)("interface","interfaces ({0})")),Object(Yt.a)(us,2,Object(Qe.b)("namespace","namespaces ({0})")),Object(Yt.a)(us,3,Object(Qe.b)("package","packages ({0})")),Object(Yt.a)(us,25,Object(Qe.b)("typeParameter","type parameters ({0})")),Object(Yt.a)(us,1,Object(Qe.b)("modules","modules ({0})")),Object(Yt.a)(us,6,Object(Qe.b)("property","properties ({0})")),Object(Yt.a)(us,9,Object(Qe.b)("enum","enumerations ({0})")),Object(Yt.a)(us,21,Object(Qe.b)("enumMember","enumeration members ({0})")),Object(Yt.a)(us,14,Object(Qe.b)("string","strings ({0})")),Object(Yt.a)(us,0,Object(Qe.b)("file","files ({0})")),Object(Yt.a)(us,17,Object(Qe.b)("array","arrays ({0})")),Object(Yt.a)(us,15,Object(Qe.b)("number","numbers ({0})")),Object(Yt.a)(us,16,Object(Qe.b)("boolean","booleans ({0})")),Object(Yt.a)(us,18,Object(Qe.b)("object","objects ({0})")),Object(Yt.a)(us,19,Object(Qe.b)("key","keys ({0})")),Object(Yt.a)(us,7,Object(Qe.b)("field","fields ({0})")),Object(Yt.a)(us,13,Object(Qe.b)("constant","constants ({0})")),us),IE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},zb=function(s,o){return function(e,i){o(e,i,s)}},Kb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n){var r;return Object(k.a)(this,e),r=o.call(this,t,n),r.editorService=i,r.onDidActiveTextEditorControlChange=rr.c.None,r}return Object(w.a)(e,[{key:"activeTextEditorControl",get:function(){return Object(Yr.n)(this.editorService.getFocusedCodeEditor())}}]),e}(zu);Kb=IE([zb(0,In.a),zb(1,Nr.a),zb(2,$g)],Kb);var Gb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,label:Lo.f.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:an.a.hasDocumentSymbolProvider,kbOpts:{kbExpr:an.a.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}return Object(w.a)(e,[{key:"run",value:function(t){t.get(Vs.a).quickAccess.show(zu.PREFIX,{itemActivation:Vs.b.NONE})}}]),e}(St.b);Gb.ID="editor.action.quickOutline",Object(St.k)(Gb),Fs.a.as(hg.b.Quickaccess).registerQuickAccessProvider({ctor:Kb,prefix:zu.PREFIX,helpEntries:[{description:Lo.f.quickOutlineActionLabel,prefix:zu.PREFIX,commandId:Gb.ID},{description:Lo.f.quickOutlineByCategoryActionLabel,prefix:zu.PREFIX_BY_CATEGORY}]});var PE=a("EJc0");function $b(s,o){return o&&(s.stack||s.stacktrace)?Qe.b("stackTrace.format","{0}: {1}",CC(s),_C(s.stack)||_C(s.stacktrace)):CC(s)}function _C(s){return Array.isArray(s)?s.join(`
`):s}function CC(s){return s.code==="ERR_UNC_HOST_NOT_ALLOWED"?"".concat(s.message,". Please update the 'security.allowedUNCHosts' setting if you want to allow this host."):typeof s.code=="string"&&typeof s.errno=="number"&&typeof s.syscall=="string"?Qe.b("nodeExceptionMessage","A system error occurred ({0})",s.message):s.message||Qe.b("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function OC(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!s)return Qe.b("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(s)){var e=or.f(s),i=OC(e[0],o);return e.length>1?Qe.b("error.moreErrors","{0} ({1} errors in total)",i,e.length):i}if(Yr.i(s))return s;if(s.detail){var t=s.detail;if(t.error)return $b(t.error,o);if(t.exception)return $b(t.exception,o)}return s.stack?$b(s,o):s.message?s.message:Qe.b("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var gg=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},ev;(function(s){s[s.NO_ACTION=0]="NO_ACTION",s[s.CLOSE_PICKER=1]="CLOSE_PICKER",s[s.REFRESH_PICKER=2]="REFRESH_PICKER",s[s.REMOVE_ITEM=3]="REMOVE_ITEM"})(ev||(ev={}));function Qb(s){var o=s;return Array.isArray(o.items)}function SC(s){var o=s;return!!o.picks&&o.additionalPicks instanceof Promise}var AE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n.prefix=i,n.options=t,n}return Object(w.a)(e,[{key:"provide",value:function(t,n,r){var l=this,c,h=new Ze.c;t.canAcceptInBackground=!!((c=this.options)===null||c===void 0?void 0:c.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;var f=void 0,R=h.add(new Ze.e),Z=function(){return gg(l,void 0,void 0,Object(d.a)().mark(function je(){var Ie=this,st,ft,kt,$t,un,Yn,xn;return Object(d.a)().wrap(function(Si){for(;;)switch(Si.prev=Si.next){case 0:if(st=R.value=new Ze.c,f==null||f.dispose(!0),t.busy=!1,f=new Zi.b(n),ft=f.token,kt=t.value.substr(this.prefix.length).trim(),$t=this._getPicks(kt,st,ft,r),un=function(Bi,Lr){var gr,jr,$r=void 0;if(Qb(Bi)?(jr=Bi.items,$r=Bi.active):jr=Bi,jr.length===0){if(Lr)return!1;(kt.length>0||t.hideInput)&&((gr=Ie.options)===null||gr===void 0?void 0:gr.noResultsPick)&&(Object(Yr.e)(Ie.options.noResultsPick)?jr=[Ie.options.noResultsPick(kt)]:jr=[Ie.options.noResultsPick])}return t.items=jr,$r&&(t.activeItems=[$r]),!0},Yn=function(Bi){return gg(Ie,void 0,void 0,Object(d.a)().mark(function Lr(){var gr=this,jr,$r;return Object(d.a)().wrap(function(Fr){for(;;)switch(Fr.prev=Fr.next){case 0:return jr=!1,$r=!1,Fr.next=4,Promise.all([function(){return gg(gr,void 0,void 0,Object(d.a)().mark(function Aa(){return Object(d.a)().wrap(function(da){for(;;)switch(da.prev=da.next){case 0:if(typeof Bi.mergeDelay!="number"){da.next=5;break}return da.next=3,Object(et.q)(Bi.mergeDelay);case 3:if(!ft.isCancellationRequested){da.next=5;break}return da.abrupt("return");case 5:$r||(jr=un(Bi.picks,!0));case 6:case"end":return da.stop()}},Aa)}))}(),function(){return gg(gr,void 0,void 0,Object(d.a)().mark(function Aa(){var Oa,da,lo,cs,fo,Io,au;return Object(d.a)().wrap(function(il){for(;;)switch(il.prev=il.next){case 0:return t.busy=!0,il.prev=1,il.next=4,Bi.additionalPicks;case 4:if(Oa=il.sent,!ft.isCancellationRequested){il.next=7;break}return il.abrupt("return");case 7:lo=void 0,Qb(Bi.picks)?(da=Bi.picks.items,lo=Bi.picks.active):da=Bi.picks,fo=void 0,Qb(Oa)?(cs=Oa.items,fo=Oa.active):cs=Oa,(cs.length>0||!jr)&&(Io=void 0,!lo&&!fo&&(au=t.activeItems[0],au&&da.indexOf(au)!==-1&&(Io=au)),un({items:[].concat(Object(Ai.a)(da),Object(Ai.a)(cs)),active:lo||fo||Io}));case 12:return il.prev=12,ft.isCancellationRequested||(t.busy=!1),$r=!0,il.finish(12);case 16:case"end":return il.stop()}},Aa,null,[[1,,12,16]])}))}()]);case 4:case"end":return Fr.stop()}},Lr)}))},$t!==null){Si.next=12;break}Si.next=37;break;case 12:if(!SC($t)){Si.next=17;break}return Si.next=15,Yn($t);case 15:Si.next=37;break;case 17:if($t instanceof Promise){Si.next=21;break}un($t),Si.next=37;break;case 21:return t.busy=!0,Si.prev=22,Si.next=25,$t;case 25:if(xn=Si.sent,!ft.isCancellationRequested){Si.next=28;break}return Si.abrupt("return");case 28:if(!SC(xn)){Si.next=33;break}return Si.next=31,Yn(xn);case 31:Si.next=34;break;case 33:un(xn);case 34:return Si.prev=34,ft.isCancellationRequested||(t.busy=!1),Si.finish(34);case 37:case"end":return Si.stop()}},je,this,[[22,,34,37]])}))};return h.add(t.onDidChangeValue(function(){return Z()})),Z(),h.add(t.onDidAccept(function(ie){var je=Object(z.a)(t.selectedItems,1),Ie=je[0];typeof(Ie==null?void 0:Ie.accept)=="function"&&(ie.inBackground||t.hide(),Ie.accept(t.keyMods,ie))})),h.add(t.onDidTriggerItemButton(function(ie){var je=ie.button,Ie=ie.item;return gg(l,void 0,void 0,Object(d.a)().mark(function st(){var ft,kt,$t,un,Yn,xn,fi,Si,ji,Bi;return Object(d.a)().wrap(function(gr){for(;;)switch(gr.prev=gr.next){case 0:if(typeof Ie.trigger!="function"){gr.next=25;break}if($t=(kt=(ft=Ie.buttons)===null||ft===void 0?void 0:ft.indexOf(je))!==null&&kt!==void 0?kt:-1,!($t>=0)){gr.next=25;break}if(un=Ie.trigger($t,t.keyMods),typeof un!="number"){gr.next=8;break}gr.t0=un,gr.next=11;break;case 8:return gr.next=10,un;case 10:gr.t0=gr.sent;case 11:if(Yn=gr.t0,!n.isCancellationRequested){gr.next=14;break}return gr.abrupt("return");case 14:gr.t1=Yn,gr.next=gr.t1===ev.NO_ACTION?17:gr.t1===ev.CLOSE_PICKER?18:gr.t1===ev.REFRESH_PICKER?20:gr.t1===ev.REMOVE_ITEM?22:25;break;case 17:return gr.abrupt("break",25);case 18:return t.hide(),gr.abrupt("break",25);case 20:return Z(),gr.abrupt("break",25);case 22:return xn=t.items.indexOf(Ie),xn!==-1&&(fi=t.items.slice(),Si=fi.splice(xn,1),ji=t.activeItems.filter(function(jr){return jr!==Si[0]}),Bi=t.keepScrollPosition,t.keepScrollPosition=!0,t.items=fi,ji&&(t.activeItems=ji),t.keepScrollPosition=Bi),gr.abrupt("break",25);case 25:case"end":return gr.stop()}},st)}))})),h}}]),e}(Ze.a),kC=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},Yh=function(s,o){return function(e,i){o(e,i,s)}},Yb=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},mg=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c){var h;return Object(k.a)(this,e),h=o.call(this,e.PREFIX,i),h.instantiationService=t,h.keybindingService=n,h.commandService=r,h.telemetryService=l,h.dialogService=c,h.commandsHistory=h._register(h.instantiationService.createInstance(Zh)),h.options=i,h}return Object(w.a)(e,[{key:"_getPicks",value:function(t,n,r,l){var c,h;return Yb(this,void 0,void 0,Object(d.a)().mark(function f(){var R=this,Z,ie,je,Ie,st,ft,kt,$t,un,Yn,xn,fi,Si,ji,Bi,Lr,gr;return Object(d.a)().wrap(function($r){for(;;)switch($r.prev=$r.next){case 0:return $r.next=2,this.getCommandPicks(r);case 2:if(Z=$r.sent,!r.isCancellationRequested){$r.next=5;break}return $r.abrupt("return",[]);case 5:ie=[],je=Object(B.a)(Z);try{for(je.s();!(Ie=je.n()).done;)st=Ie.value,ft=Object(Yr.n)(e.WORD_FILTER(t,st.label)),kt=st.commandAlias?Object(Yr.n)(e.WORD_FILTER(t,st.commandAlias)):void 0,ft||kt?(st.highlights={label:ft,detail:this.options.showAlias?kt:void 0},ie.push(st)):t===st.commandId&&ie.push(st)}catch(fa){je.e(fa)}finally{je.f()}for($t=new Map,un=0,Yn=ie;un<Yn.length;un++)xn=Yn[un],fi=$t.get(xn.label),fi?(xn.description=xn.commandId,fi.description=fi.commandId):$t.set(xn.label,xn);for(ie.sort(function(fa,Fr){var Aa=R.commandsHistory.peek(fa.commandId),Oa=R.commandsHistory.peek(Fr.commandId);if(Aa&&Oa)return Aa>Oa?-1:1;if(Aa)return-1;if(Oa)return 1;if(R.options.suggestedCommandIds){var da=R.options.suggestedCommandIds.has(fa.commandId),lo=R.options.suggestedCommandIds.has(Fr.commandId);if(da&&lo)return 0;if(da)return-1;if(lo)return 1}return fa.label.localeCompare(Fr.label)}),Si=[],ji=!1,Bi=!!this.options.suggestedCommandIds,Lr=0;Lr<ie.length;Lr++)gr=ie[Lr],Lr===0&&this.commandsHistory.peek(gr.commandId)&&(Si.push({type:"separator",label:Object(Qe.b)("recentlyUsed","recently used")}),ji=!0),Bi&&!this.commandsHistory.peek(gr.commandId)&&((c=this.options.suggestedCommandIds)===null||c===void 0?void 0:c.has(gr.commandId))&&(Si.push({type:"separator",label:Object(Qe.b)("commonlyUsed","commonly used")}),ji=!0,Bi=!1),ji&&!this.commandsHistory.peek(gr.commandId)&&!((h=this.options.suggestedCommandIds)===null||h===void 0?void 0:h.has(gr.commandId))&&(Si.push({type:"separator",label:Object(Qe.b)("morecCommands","other commands")}),ji=!1),Si.push(this.toCommandPick(gr,l));if(this.hasAdditionalCommandPicks(t,r)){$r.next=17;break}return $r.abrupt("return",Si);case 17:return $r.abrupt("return",{picks:Si,additionalPicks:function(){return Yb(R,void 0,void 0,Object(d.a)().mark(function fa(){var Fr=this,Aa;return Object(d.a)().wrap(function(da){for(;;)switch(da.prev=da.next){case 0:return da.next=2,this.getAdditionalCommandPicks(Z,ie,t,r);case 2:if(Aa=da.sent,!r.isCancellationRequested){da.next=5;break}return da.abrupt("return",[]);case 5:return da.abrupt("return",Aa.map(function(lo){return Fr.toCommandPick(lo,l)}));case 6:case"end":return da.stop()}},fa,this)}))}()});case 18:case"end":return $r.stop()}},f,this)}))}},{key:"toCommandPick",value:function(t,n){var r=this;if(t.type==="separator")return t;var l=this.keybindingService.lookupKeybinding(t.commandId),c=l?Object(Qe.b)("commandPickAriaLabelWithKeybinding","{0}, {1}",t.label,l.getAriaLabel()):t.label;return Object.assign(Object.assign({},t),{ariaLabel:c,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:l,accept:function(){return Yb(r,void 0,void 0,Object(d.a)().mark(function f(){var R;return Object(d.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:(R=n==null?void 0:n.from)!==null&&R!==void 0?R:"quick open"}),ie.prev=2,ie.next=5,this.commandService.executeCommand(t.commandId);case 5:ie.next=10;break;case 7:ie.prev=7,ie.t0=ie.catch(2),Object(zi.g)(ie.t0)||this.dialogService.error(Object(Qe.b)("canNotRun","Command '{0}' resulted in an error",t.label),OC(ie.t0));case 10:case"end":return ie.stop()}},f,this,[[2,7]])}))}})}}]),e}(AE);mg.PREFIX=">",mg.WORD_FILTER=Object(_s.l)(_s.i,_s.k,_s.g),mg=kC([Yh(1,Ia.a),Yh(2,Ii.a),Yh(3,ia.b),Yh(4,vo.a),Yh(5,Pb.a)],mg);var Zh=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t){var n;return Object(k.a)(this,e),n=o.call(this),n.storageService=i,n.configurationService=t,n.configuredCommandsHistoryLength=0,n.updateConfiguration(),n.load(),n.registerListeners(),n}return Object(w.a)(e,[{key:"registerListeners",value:function(){var t=this;this._register(this.configurationService.onDidChangeConfiguration(function(n){return t.updateConfiguration(n)}))}},{key:"updateConfiguration",value:function(t){t&&!t.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=e.getConfiguredCommandHistoryLength(this.configurationService),e.cache&&e.cache.limit!==this.configuredCommandsHistoryLength&&(e.cache.limit=this.configuredCommandsHistoryLength,e.saveState(this.storageService)))}},{key:"load",value:function(){var t=this.storageService.get(e.PREF_KEY_CACHE,0),n;if(t)try{n=JSON.parse(t)}catch(c){}var r=e.cache=new Ju.a(this.configuredCommandsHistoryLength,1);if(n){var l;n.usesLRU?l=n.entries:l=n.entries.sort(function(c,h){return c.value-h.value}),l.forEach(function(c){return r.set(c.key,c.value)})}e.counter=this.storageService.getNumber(e.PREF_KEY_COUNTER,0,e.counter)}},{key:"push",value:function(t){!e.cache||(e.cache.set(t,e.counter++),e.saveState(this.storageService))}},{key:"peek",value:function(t){var n;return(n=e.cache)===null||n===void 0?void 0:n.peek(t)}}],[{key:"saveState",value:function(t){if(!!e.cache){var n={usesLRU:!0,entries:[]};e.cache.forEach(function(r,l){return n.entries.push({key:l,value:r})}),t.store(e.PREF_KEY_CACHE,JSON.stringify(n),0,0),t.store(e.PREF_KEY_COUNTER,e.counter,0,0)}}},{key:"getConfiguredCommandHistoryLength",value:function(t){var n,r,l=t.getValue(),c=(r=(n=l.workbench)===null||n===void 0?void 0:n.commandPalette)===null||r===void 0?void 0:r.history;return typeof c=="number"?c:e.DEFAULT_COMMANDS_HISTORY_LENGTH}}]),e}(Ze.a);Zh.DEFAULT_COMMANDS_HISTORY_LENGTH=50,Zh.PREF_KEY_CACHE="commandPalette.mru.cache",Zh.PREF_KEY_COUNTER="commandPalette.mru.counter",Zh.counter=1,Zh=kC([Yh(0,Ws.a),Yh(1,Po.a)],Zh);var RE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c){return Object(k.a)(this,e),o.call(this,i,t,n,r,l,c)}return Object(w.a)(e,[{key:"getCodeEditorCommandPicks",value:function(){var t=this.activeTextEditorControl;if(!t)return[];var n=[],r=Object(B.a)(t.getSupportedActions()),l;try{for(r.s();!(l=r.n()).done;){var c=l.value;n.push({commandId:c.id,commandAlias:c.alias,label:Object(PE.f)(c.label)||c.id})}}catch(h){r.e(h)}finally{r.f()}return n}}]),e}(mg),NE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},tv=function(s,o){return function(e,i){o(e,i,s)}},DC=function(s,o,e,i){function t(n){return n instanceof e?n:new e(function(r){r(n)})}return new(e||(e=Promise))(function(n,r){function l(f){try{h(i.next(f))}catch(R){r(R)}}function c(f){try{h(i.throw(f))}catch(R){r(R)}}function h(f){f.done?n(f.value):t(f.value).then(l,c)}h((i=i.apply(s,o||[])).next())})},pg=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c){var h;return Object(k.a)(this,e),h=o.call(this,{showAlias:!1},i,n,r,l,c),h.codeEditorService=t,h}return Object(w.a)(e,[{key:"activeTextEditorControl",get:function(){return Object(Yr.n)(this.codeEditorService.getFocusedCodeEditor())}},{key:"getCommandPicks",value:function(){return DC(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.getCodeEditorCommandPicks());case 1:case"end":return r.stop()}},t,this)}))}},{key:"hasAdditionalCommandPicks",value:function(){return!1}},{key:"getAdditionalCommandPicks",value:function(){return DC(this,void 0,void 0,Object(d.a)().mark(function t(){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",[]);case 1:case"end":return r.stop()}},t)}))}}]),e}(RE);pg=NE([tv(0,Ia.a),tv(1,In.a),tv(2,Ii.a),tv(3,ia.b),tv(4,vo.a),tv(5,Pb.a)],pg);var Zb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){return Object(k.a)(this,e),o.call(this,{id:e.ID,label:Lo.d.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:an.a.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}return Object(w.a)(e,[{key:"run",value:function(t){t.get(Vs.a).quickAccess.show(pg.PREFIX)}}]),e}(St.b);Zb.ID="editor.action.quickCommand",Object(St.k)(Zb),Fs.a.as(hg.b.Quickaccess).registerQuickAccessProvider({ctor:pg,prefix:pg.PREFIX,helpEntries:[{description:Lo.d.quickCommandHelp,commandId:Zb.ID}]});var xE=function(s,o,e,i){var t=arguments.length,n=t<3?o:i===null?i=Object.getOwnPropertyDescriptor(o,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,o,e,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(n=(t<3?r(n):t>3?r(o,e,n):r(o,e))||n);return t>3&&n&&Object.defineProperty(o,e,n),n},nv=function(s,o){return function(e,i){o(e,i,s)}},Xb=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(i,t,n,r,l,c,h){return Object(k.a)(this,e),o.call(this,!0,i,t,n,r,l,c,h)}return Object(w.a)(e)}(Fu);Xb=xE([nv(1,Jn.b),nv(2,In.a),nv(3,io.a),nv(4,Ia.a),nv(5,Ws.a),nv(6,Po.a)],Xb),Object(St.m)(Fu.ID,Xb,4);var Pm=a("e0E1"),FE=function(s){Object(tt.a)(e,s);var o=Object(Lt.a)(e);function e(){var i;return Object(k.a)(this,e),i=o.call(this,{id:"editor.action.toggleHighContrast",label:Lo.i.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),i._originalThemeName=null,i}return Object(w.a)(e,[{key:"run",value:function(t,n){var r=t.get(sC.a),l=r.getColorTheme();Object(If.c)(l.type)?(r.setTheme(this._originalThemeName||(Object(If.b)(l.type)?Pm.d:Pm.e)),this._originalThemeName=null):(r.setTheme(Object(If.b)(l.type)?Pm.a:Pm.b),this._originalThemeName=l.themeName)}}]),e}(St.b);Object(St.k)(FE);var _a=a("nKUr");self.MonacoEnvironment={getWorkerUrl:function(o,e){return e==="json"?"./json.worker.bundle.js":e==="css"||e==="scss"||e==="less"?"./css.worker.bundle.js":e==="html"||e==="handlebars"||e==="razor"?"./html.worker.bundle.js":e==="typescript"||e==="javascript"?"./ts.worker.bundle.js":"./editor.worker.bundle.js"}};var BE=function(o){var e=o.onChange,i=o.language,t=o.value,n=o.height,r=o.isReadOnly,l=o.formVisible,c=Object(be.useRef)(null),h=Object(be.useRef)();return Object(be.useEffect)(function(){return c.current&&l&&(h.current=ce.editor.create(c.current,{language:i,value:t,readOnly:r||!1,lineNumbers:"on",roundedSelection:!1,scrollBeyondLastLine:!1,theme:"vs-dark",automaticLayout:!0}),h.current.onDidBlurEditorText(function(){e&&h.current&&e(h.current.getValue())})),function(){h.current&&(h.current.dispose(),h.current=void 0)}},[c,h,i,t,r,l]),Object(_a.jsx)("div",{style:{width:"100%",height:n||200+"px"},ref:c})},WE=BE,bg=a("whJP"),VE=function(){var o=Object(be.useRef)(),e=T.a.useForm(),i=Object(z.a)(e,1),t=i[0],n=T.a.useForm(),r=Object(z.a)(n,1),l=r[0],c=Object(be.useState)(),h=Object(z.a)(c,2),f=h[0],R=h[1],Z=Object(be.useState)(!0),ie=Object(z.a)(Z,2),je=ie[0],Ie=ie[1],st=Object(be.useState)(!1),ft=Object(z.a)(st,2),kt=ft[0],$t=ft[1],un=Object(be.useState)(!1),Yn=Object(z.a)(un,2),xn=Yn[0],fi=Yn[1],Si=Object(be.useState)(!1),ji=Object(z.a)(Si,2),Bi=ji[0],Lr=ji[1],gr=Object(be.useState)(!1),jr=Object(z.a)(gr,2),$r=jr[0],fa=jr[1],Fr=Object(be.useState)(!1),Aa=Object(z.a)(Fr,2),Oa=Aa[0],da=Aa[1],lo=x.a.confirm,cs=function(){var Co=Object(j.a)(Object(d.a)().mark(function Oo(Na){var no,ms,yo;return Object(d.a)().wrap(function(Xd){for(;;)switch(Xd.prev=Xd.next){case 0:return Xd.next=2,Object(ge.a)("/aio/operator/list",Na);case 2:return yo=Xd.sent,Xd.abrupt("return",{data:yo==null||(no=yo.data)===null||no===void 0?void 0:no.list,total:yo==null||(ms=yo.data)===null||ms===void 0?void 0:ms.total,success:yo==null?void 0:yo.success});case 4:case"end":return Xd.stop()}},Oo)}));return function(Na){return Co.apply(this,arguments)}}(),fo=function(){var Co=Object(j.a)(Object(d.a)().mark(function Oo(){var Na;return Object(d.a)().wrap(function(ms){for(;;)switch(ms.prev=ms.next){case 0:return t.resetFields(),ms.next=3,Object(ge.a)("/aio/operator/getDefaultConfig");case 3:Na=ms.sent,t.setFieldsValue(Na==null?void 0:Na.data),$t(!0),Ie(!0);case 7:case"end":return ms.stop()}},Oo)}));return function(){return Co.apply(this,arguments)}}(),Io=function(){var Co=Object(j.a)(Object(d.a)().mark(function Oo(Na,no){var ms;return Object(d.a)().wrap(function(Zd){for(;;)switch(Zd.prev=Zd.next){case 0:return fa(!0),Zd.next=3,Object(ge.a)("/aio/operator/get",{id:Na.id});case 3:ms=Zd.sent,ms!=null&&ms.success&&no(ms.data),fa(!1);case 6:case"end":return Zd.stop()}},Oo)}));return function(Na,no){return Co.apply(this,arguments)}}(),au=function(){var Co=Object(j.a)(Object(d.a)().mark(function Oo(Na){var no;return Object(d.a)().wrap(function(yo){for(;;)switch(yo.prev=yo.next){case 0:return yo.next=2,Object(ge.b)(je?"/aio/operator/add":"/aio/operator/edit",Na);case 2:no=yo.sent,no!=null&&no.success&&($t(!1),U.default.success((je?"\u65B0\u5EFA":"\u4FEE\u6539")+"\u6210\u529F\uFF01"),o.current&&o.current.reload());case 4:case"end":return yo.stop()}},Oo)}));return function(Na){return Co.apply(this,arguments)}}(),Vc=function(){var Co=Object(j.a)(Object(d.a)().mark(function Oo(Na){return Object(d.a)().wrap(function(ms){for(;;)switch(ms.prev=ms.next){case 0:lo({title:"\u786E\u8BA4\u5220\u9664",icon:Object(_a.jsx)(A.a,{}),content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u6B64\u7B97\u5B50\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var yo=Object(j.a)(Object(d.a)().mark(function Xd(){var Am;return Object(d.a)().wrap(function(_g){for(;;)switch(_g.prev=_g.next){case 0:return _g.next=2,Object(ge.b)("/aio/operator/remove",{id:Na.id});case 2:Am=_g.sent,Am!=null&&Am.success&&($t(!1),U.default.success("\u5220\u9664\u6210\u529F\uFF01"),o.current&&o.current.reload());case 4:case"end":return _g.stop()}},Xd)}));function Zd(){return yo.apply(this,arguments)}return Zd}()});case 1:case"end":return ms.stop()}},Oo)}));return function(Na){return Co.apply(this,arguments)}}(),il=function(){var Co=Object(j.a)(Object(d.a)().mark(function Oo(Na){var no;return Object(d.a)().wrap(function(yo){for(;;)switch(yo.prev=yo.next){case 0:return da(!0),yo.next=3,Object(ge.b)("/aio/operator/onlineApi",{id:Na.id,apiType:"OPERATOR"});case 3:no=yo.sent,da(!1),no!=null&&no.success&&(U.default.success("\u53D1\u5E03\u6210\u529F\uFF01"),o.current&&o.current.reload());case 6:case"end":return yo.stop()}},Oo)}));return function(Na){return Co.apply(this,arguments)}}(),Xh=function(){var Co=Object(j.a)(Object(d.a)().mark(function Oo(Na){var no;return Object(d.a)().wrap(function(yo){for(;;)switch(yo.prev=yo.next){case 0:return yo.next=2,Object(ge.b)("/aio/operator/offlineApi",{id:Na.id,apiType:"OPERATOR"});case 2:no=yo.sent,no!=null&&no.success&&(U.default.success("\u4E0B\u7EBF\u6210\u529F\uFF01"),o.current&&o.current.reload());case 4:case"end":return yo.stop()}},Oo)}));return function(Na){return Co.apply(this,arguments)}}(),Jh=function(){var Co=Object(j.a)(Object(d.a)().mark(function Oo(Na){var no;return Object(d.a)().wrap(function(yo){for(;;)switch(yo.prev=yo.next){case 0:return yo.next=2,Object(ge.b)("/aio/operator/invokeApi",{id:Na.id,apiType:"OPERATOR",inputParam:Na.inputParam});case 2:no=yo.sent,no!=null&&no.success&&(U.default.success("\u8C03\u7528\u6210\u529F\uFF01"),l.setFieldsValue({outputParam:no.data}));case 4:case"end":return yo.stop()}},Oo)}));return function(Na){return Co.apply(this,arguments)}}(),yg=[{title:"\u7B97\u5B50\u6807\u8BC6",dataIndex:"opCode",valueType:"textarea",render:function(Oo,Na){return Object(_a.jsx)("a",{onClick:function(){R(void 0),Io(Na,R),fi(!0)},children:Oo})}},{title:"\u7B97\u5B50\u540D\u79F0",dataIndex:"opName",valueType:"textarea"},{title:"\u7B97\u5B50\u72B6\u6001",dataIndex:"isDisabled",valueType:"textarea",search:!1,render:function(Oo){return Object(_a.jsx)("div",{children:Oo==1?"\u505C\u7528":"\u542F\u7528"})}},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"gmtModified",valueType:"dateTime",search:!1},{title:"\u7B97\u5B50\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(Oo,Na){return[Object(_a.jsx)("a",{onClick:function(){t.resetFields(),Ie(!1),fi(!1),Io(Na,t.setFieldsValue),$t(!0)},children:"\u4FEE\u6539"},"edit"),Object(_a.jsx)("a",{onClick:function(){Vc(Na)},children:"\u5220\u9664"},"remove")]}},{title:"API\u72B6\u6001",dataIndex:"apiStatus",valueType:"textarea",search:!1,render:function(Oo){return Object(_a.jsx)("div",{children:Oo=="ONLINE"?"\u5728\u7EBF":Oo=="OFFLINE"?"\u79BB\u7EBF":"-"})}},{title:"API\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(Oo,Na){return[Object(_a.jsx)("a",{onClick:function(){il(Na)},children:"API\u4E0A\u7EBF"},"online"),Object(_a.jsx)("a",{onClick:function(){Xh(Na)},children:"API\u4E0B\u7EBF"},"offline"),Object(_a.jsx)("a",{onClick:function(){l.resetFields(),l.setFieldsValue({id:Na.id}),l.setFieldsValue({apiUrl:Na.apiUrl}),l.setFieldsValue({inputParam:Na.inputParam}),Lr(!0)},children:"API\u8C03\u7528"},"invoke")]}}];return Object(_a.jsx)(ve.a,{spinning:Oa,children:Object(_a.jsxs)(de.a,{children:[Object(_a.jsx)(ke.a,{headerTitle:"\u7B97\u5B50\u5217\u8868",actionRef:o,bordered:!0,rowKey:"id",search:{labelWidth:65},toolBarRender:function(){return[Object(_a.jsxs)(V.a,{type:"primary",onClick:fo,children:[Object(_a.jsx)(ue.a,{}),"\u65B0\u5EFA"]},"primary")]},request:cs,columns:yg,pagination:{pageSize:8}}),Object(_a.jsx)(De.a,{title:je?"\u65B0\u5EFA":"\u4FEE\u6539",width:720,onClose:function(){$t(!1)},visible:kt,bodyStyle:{paddingBottom:80},footer:Object(_a.jsxs)("div",{style:{textAlign:"right"},children:[Object(_a.jsx)(V.a,{onClick:function(){$t(!1)},style:{marginRight:8},children:"\u53D6\u6D88"}),Object(_a.jsx)(V.a,{type:"primary",onClick:function(){t.submit()},children:"\u63D0\u4EA4"})]}),children:Object(_a.jsx)(ve.a,{spinning:$r,children:Object(_a.jsxs)(T.a,{layout:"vertical",form:t,onFinish:au,children:[Object(_a.jsxs)(L.a,{gutter:16,children:[Object(_a.jsx)(ee.a,{span:12,children:Object(_a.jsx)(T.a.Item,{name:"opCode",label:"\u7B97\u5B50\u7F16\u7801",rules:[{required:!0}],children:Object(_a.jsx)(W.a,{disabled:!je,placeholder:"3~20\u4F4D\u5B57\u7B26\uFF0C\u53EA\u80FD\u5305\u542B\u82F1\u6587\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u4E0B\u5212\u7EBF"})})}),Object(_a.jsx)(ee.a,{span:12,children:Object(_a.jsx)(T.a.Item,{name:"opName",label:"\u7B97\u5B50\u540D\u79F0",rules:[{required:!0}],children:Object(_a.jsx)(W.a,{placeholder:"1~20\u4F4D\u5B57\u7B26"})})})]}),Object(_a.jsxs)(L.a,{gutter:16,children:[Object(_a.jsx)(ee.a,{span:12,children:Object(_a.jsx)(T.a.Item,{name:"algoLanguage",label:"\u7F16\u7A0B\u8BED\u8A00",rules:[{required:!0}],children:Object(_a.jsx)(y.a,{style:{width:"100%"},options:[{value:"python",label:"python"}]})})}),Object(_a.jsx)(ee.a,{span:12,children:Object(_a.jsx)(T.a.Item,{name:"isDisabled",label:"\u7B97\u5B50\u72B6\u6001",rules:[{required:!0}],children:Object(_a.jsxs)(J.a.Group,{children:[Object(_a.jsx)(J.a,{value:1,children:"\u505C\u7528"}),Object(_a.jsx)(J.a,{value:0,children:"\u542F\u7528"})]})})})]}),Object(_a.jsx)(L.a,{gutter:16,children:Object(_a.jsx)(ee.a,{span:24,children:Object(_a.jsx)(T.a.Item,{name:"algoCode",label:"\u7B97\u5B50\u4EE3\u7801",rules:[{required:!0}],children:Object(_a.jsx)(WE,{height:300,language:t.getFieldValue("algoLanguage")||"python",value:t.getFieldValue("algoCode")||"",onChange:function(Oo){t.setFieldsValue({algoCode:Oo})},formVisible:kt})})})}),Object(_a.jsx)(L.a,{gutter:16,children:Object(_a.jsx)(ee.a,{span:24,children:Object(_a.jsx)(T.a.Item,{name:"inputParam",label:"\u7B97\u5B50\u5165\u53C2",rules:[{required:!0}],children:Object(_a.jsx)(bg.a,{showCount:!0,maxLength:1e3,autoSize:!0})})})}),Object(_a.jsx)(L.a,{gutter:16,children:Object(_a.jsx)(ee.a,{span:24,children:Object(_a.jsx)(T.a.Item,{name:"outputParam",label:"\u7B97\u5B50\u51FA\u53C2",rules:[{required:!0}],children:Object(_a.jsx)(bg.a,{showCount:!0,maxLength:1e3,autoSize:!0})})})}),Object(_a.jsx)(T.a.Item,{name:"id"})]})})}),Object(_a.jsx)(De.a,{width:720,visible:xn,onClose:function(){R(void 0),fi(!1)},closable:!1,children:Object(_a.jsx)(he.a,{column:2,title:"\u7B97\u5B50\u8BE6\u60C5",request:Object(j.a)(Object(d.a)().mark(function Co(){return Object(d.a)().wrap(function(Na){for(;;)switch(Na.prev=Na.next){case 0:return Na.abrupt("return",{data:f||{}});case 1:case"end":return Na.stop()}},Co)})),params:{id:f==null?void 0:f.id},columns:yg})}),Object(_a.jsx)(De.a,{title:"API\u8C03\u7528",width:720,onClose:function(){Lr(!1)},visible:Bi,bodyStyle:{paddingBottom:80},footer:Object(_a.jsxs)("div",{style:{textAlign:"right"},children:[Object(_a.jsx)(V.a,{onClick:function(){Lr(!1)},style:{marginRight:8},children:"\u53D6\u6D88"}),Object(_a.jsx)(V.a,{type:"primary",onClick:function(){l.submit()},children:"\u63D0\u4EA4"})]}),children:Object(_a.jsx)(ve.a,{spinning:$r,children:Object(_a.jsxs)(T.a,{layout:"vertical",form:l,onFinish:Jh,children:[Object(_a.jsx)(L.a,{gutter:16,children:Object(_a.jsx)(ee.a,{span:24,children:Object(_a.jsx)(T.a.Item,{name:"apiUrl",label:"API\u5730\u5740",children:Object(_a.jsx)(bg.a,{showCount:!0,maxLength:1e3,autoSize:!0})})})}),Object(_a.jsx)(L.a,{gutter:16,children:Object(_a.jsx)(ee.a,{span:24,children:Object(_a.jsx)(T.a.Item,{name:"inputParam",label:"\u7B97\u5B50\u5165\u53C2",children:Object(_a.jsx)(bg.a,{showCount:!0,maxLength:1e3,autoSize:!0})})})}),Object(_a.jsx)(L.a,{gutter:16,children:Object(_a.jsx)(ee.a,{span:24,children:Object(_a.jsx)(T.a.Item,{name:"outputParam",label:"\u7B97\u5B50\u51FA\u53C2",children:Object(_a.jsx)(bg.a,{showCount:!0,maxLength:1e3,autoSize:!0})})})}),Object(_a.jsx)(T.a.Item,{name:"id"})]})})})]})})},bL=K.default=VE},t49l:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("Cg/j"),De=Object(le.c)("textModelService")},t4hb:function(fn,K,a){"use strict";a.d(K,"c",function(){return y}),a.d(K,"b",function(){return Q}),a.d(K,"a",function(){return ne});var le=a("mtLc"),De=a("fWQN"),E=a("/cxE"),ve=a("VGTv"),re=a("5IQS"),J=a("pvvD"),$=a("lwGy"),y=Object(le.a)(function ee(H,W,F,V,N){Object(De.a)(this,ee),this.length=H,this.kind=W,this.bracketId=F,this.bracketIds=V,this.astNode=N}),Q=function(){function ee(H,W){Object(De.a)(this,ee),this.textModel=H,this.bracketTokens=W,this.reader=new L(this.textModel,this.bracketTokens),this._offset=J.m,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=H.getLineCount(),this.textBufferLastLineLength=H.getLineLength(this.textBufferLineCount)}return Object(le.a)(ee,[{key:"offset",get:function(){return this._offset}},{key:"length",get:function(){return Object(J.q)(this.textBufferLineCount-1,this.textBufferLastLineLength)}},{key:"skip",value:function(W){this.didPeek=!1,this._offset=Object(J.a)(this._offset,W);var F=Object(J.l)(this._offset);this.reader.setPosition(F.lineCount,F.columnCount)}},{key:"read",value:function(){var W;return this.peeked?(this.didPeek=!1,W=this.peeked):W=this.reader.read(),W&&(this._offset=Object(J.a)(this._offset,W.length)),W}},{key:"peek",value:function(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}]),ee}(),L=function(){function ee(H,W){Object(De.a)(this,ee),this.textModel=H,this.bracketTokens=W,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=H.getLineCount(),this.textBufferLastLineLength=H.getLineLength(this.textBufferLineCount)}return Object(le.a)(ee,[{key:"setPosition",value:function(W,F){W===this.lineIdx?(this.lineCharOffset=F,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=W,this.lineCharOffset=F,this.line=null),this.peekedToken=null}},{key:"read",value:function(){if(this.peekedToken){var W=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=Object(J.e)(W.length),W}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));for(var F=this.lineIdx,V=this.lineCharOffset,N=0;;){var U=this.lineTokens,d=U.getCount(),j=null;if(this.lineTokenOffset<d){for(var C=U.getMetadata(this.lineTokenOffset);this.lineTokenOffset+1<d&&C===U.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;var x=ve.a.getTokenType(C)===0,S=ve.a.containsBalancedBrackets(C),T=U.getEndOffset(this.lineTokenOffset);if(S&&x&&this.lineCharOffset<T){var z=U.getLanguageId(this.lineTokenOffset),A=this.line.substring(this.lineCharOffset,T),ue=this.bracketTokens.getSingleLanguageBracketTokens(z),be=ue.regExpGlobal;if(be){be.lastIndex=0;var de=be.exec(A);de&&(j=ue.getToken(de[0]),j&&(this.lineCharOffset+=de.index))}}if(N+=T-this.lineCharOffset,j)if(F!==this.lineIdx||V!==this.lineCharOffset){this.peekedToken=j;break}else return this.lineCharOffset+=Object(J.e)(j.length),j;else this.lineTokenOffset++,this.lineCharOffset=T}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,N+=33,N>1e3))break;if(N>1500)break}var ke=Object(J.b)(F,V,this.lineIdx,this.lineCharOffset);return new y(ke,0,-1,$.b.getEmpty(),new re.e(ke))}}]),ee}(),ne=function(){function ee(H,W){Object(De.a)(this,ee),this.text=H,this._offset=J.m,this.idx=0;for(var F=W.getRegExpStr(),V=F?new RegExp(F+`|
`,"gi"):null,N=[],U,d=0,j=0,C=0,x=0,S=[],T=0;T<60;T++)S.push(new y(Object(J.q)(0,T),0,-1,$.b.getEmpty(),new re.e(Object(J.q)(0,T))));for(var z=[],A=0;A<60;A++)z.push(new y(Object(J.q)(1,A),0,-1,$.b.getEmpty(),new re.e(Object(J.q)(1,A))));if(V)for(V.lastIndex=0;(U=V.exec(H))!==null;){var ue=U.index,be=U[0];if(be===`
`)d++,j=ue+1;else{if(C!==ue){var de=void 0;if(x===d){var ke=ue-C;if(ke<S.length)de=S[ke];else{var he=Object(J.q)(0,ke);de=new y(he,0,-1,$.b.getEmpty(),new re.e(he))}}else{var ge=d-x,ce=ue-j;if(ge===1&&ce<z.length)de=z[ce];else{var k=Object(J.q)(ge,ce);de=new y(k,0,-1,$.b.getEmpty(),new re.e(k))}}N.push(de)}N.push(W.getToken(be)),C=ue+be.length,x=d}}var w=H.length;if(C!==w){var B=x===d?Object(J.q)(0,w-C):Object(J.q)(d-x,w-j);N.push(new y(B,0,-1,$.b.getEmpty(),new re.e(B)))}this.length=Object(J.q)(d,w-j),this.tokens=N}return Object(le.a)(ee,[{key:"offset",get:function(){return this._offset}},{key:"read",value:function(){return this.tokens[this.idx++]||null}},{key:"peek",value:function(){return this.tokens[this.idx]||null}},{key:"skip",value:function(W){throw new E.c}}]),ee}()},t9D7:function(fn,K,a){"use strict";a.d(K,"b",function(){return L}),a.d(K,"f",function(){return ne}),a.d(K,"d",function(){return ee}),a.d(K,"a",function(){return H}),a.d(K,"e",function(){return V}),a.d(K,"c",function(){return N});var le=a("yKVA"),De=a("879j"),E=a("fWQN"),ve=a("mtLc"),re=a("MI8n"),J=a("pmY6"),$=a("Cg/j"),y=a("ic2d"),Q=a("nEHx"),L=Object($.c)("themeService");function ne(U){return{id:U}}function ee(U){switch(U){case Q.a.DARK:return"vs-dark";case Q.a.HIGH_CONTRAST_DARK:return"hc-black";case Q.a.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}var H={ThemingContribution:"base.contributions.theming"},W=function(){function U(){Object(E.a)(this,U),this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new re.b}return Object(ve.a)(U,[{key:"onColorThemeChange",value:function(j){var C=this;return this.themingParticipants.push(j),this.onThemingParticipantAddedEmitter.fire(j),Object(J.l)(function(){var x=C.themingParticipants.indexOf(j);C.themingParticipants.splice(x,1)})}},{key:"getThemingParticipants",value:function(){return this.themingParticipants}}]),U}(),F=new W;y.a.add(H.ThemingContribution,F);function V(U){return F.onColorThemeChange(U)}var N=function(U){Object(le.a)(j,U);var d=Object(De.a)(j);function j(C){var x;return Object(E.a)(this,j),x=d.call(this),x.themeService=C,x.theme=C.getColorTheme(),x._register(x.themeService.onDidColorThemeChange(function(S){return x.onThemeChange(S)})),x}return Object(ve.a)(j,[{key:"onThemeChange",value:function(x){this.theme=x,this.updateStyles()}},{key:"updateStyles",value:function(){}}]),j}(J.a)},tADe:function(fn,K,a){"use strict";a.d(K,"c",function(){return ve}),a.d(K,"a",function(){return re}),a.d(K,"b",function(){return J});var le=a("S3by"),De=a("3/fG"),E=a("Cg/j"),ve;(function($){$[$.Hint=1]="Hint",$[$.Info=2]="Info",$[$.Warning=4]="Warning",$[$.Error=8]="Error"})(ve||(ve={})),function($){function y(H,W){return W-H}$.compare=y;var Q=Object.create(null);Q[$.Error]=Object(De.b)("sev.error","Error"),Q[$.Warning]=Object(De.b)("sev.warning","Warning"),Q[$.Info]=Object(De.b)("sev.info","Info");function L(H){return Q[H]||""}$.toString=L;function ne(H){switch(H){case le.a.Error:return $.Error;case le.a.Warning:return $.Warning;case le.a.Info:return $.Info;case le.a.Ignore:return $.Hint}}$.fromSeverity=ne;function ee(H){switch(H){case $.Error:return le.a.Error;case $.Warning:return le.a.Warning;case $.Info:return le.a.Info;case $.Hint:return le.a.Ignore}}$.toSeverity=ee}(ve||(ve={}));var re;(function($){var y="";function Q(ne){return L(ne,!0)}$.makeKey=Q;function L(ne,ee){var H=[y];return ne.source?H.push(ne.source.replace("\xA6","\\\xA6")):H.push(y),ne.code?typeof ne.code=="string"?H.push(ne.code.replace("\xA6","\\\xA6")):H.push(ne.code.value.replace("\xA6","\\\xA6")):H.push(y),ne.severity!==void 0&&ne.severity!==null?H.push(ve.toString(ne.severity)):H.push(y),ne.message&&ee?H.push(ne.message.replace("\xA6","\\\xA6")):H.push(y),ne.startLineNumber!==void 0&&ne.startLineNumber!==null?H.push(ne.startLineNumber.toString()):H.push(y),ne.startColumn!==void 0&&ne.startColumn!==null?H.push(ne.startColumn.toString()):H.push(y),ne.endLineNumber!==void 0&&ne.endLineNumber!==null?H.push(ne.endLineNumber.toString()):H.push(y),ne.endColumn!==void 0&&ne.endColumn!==null?H.push(ne.endColumn.toString()):H.push(y),H.push(y),H.join("\xA6")}$.makeKeyOptionalMessage=L})(re||(re={}));var J=Object(E.c)("markerService")},tPKf:function(fn,K,a){},tReJ:function(fn,K,a){"use strict";var le=a("y8nQ"),De=a("Vl3Y"),E=a("Ff2n"),ve=a("VTBJ"),re=a("Q9mQ"),J=a("diRs"),$=a("GNNt"),y=a("wEI+"),Q=a("ODXe"),L=a("nKUr"),ne=a.n(L),ee=a("ye1Q"),H=a("q1tI"),W=a.n(H),F=a("hGVw"),V=a.n(F),N=["label","rules","name","children","popoverProps"],U=["errorType","rules","name","popoverProps","children"],d={marginTop:-5,marginBottom:-5,marginLeft:0,marginRight:0},j=function(S){var T=S.inputProps,z=S.input,A=S.extra,ue=S.errorList,be=S.popoverProps,de=Object(H.useState)(!1),ke=Object(Q.a)(de,2),he=ke[0],ge=ke[1],ce=Object(H.useState)([]),k=Object(Q.a)(ce,2),w=k[0],B=k[1],Y=Object(H.useContext)(y.a.ConfigContext),pe=Y.getPrefixCls;Object(H.useEffect)(function(){T.validateStatus!=="validating"&&B(T.errors)},[T.errors,T.validateStatus]);var me=pe();return Object(L.jsx)(J.a,Object(ve.a)(Object(ve.a)({trigger:(be==null?void 0:be.trigger)||"focus",placement:(be==null?void 0:be.placement)||"topRight",visible:w.length<1?!1:he,onVisibleChange:function(we){we!==he&&ge(we)},getPopupContainer:be==null?void 0:be.getPopupContainer,getTooltipContainer:be==null?void 0:be.getTooltipContainer,content:Object(L.jsxs)("div",{className:"".concat(me,"-form-item-with-help"),children:[T.validateStatus==="validating"?Object(L.jsx)(ee.a,{}):null,ue]})},be),{},{children:Object(L.jsxs)("div",{children:[z,A]})}),"popover")},C=function(S){var T=S.label,z=S.rules,A=S.name,ue=S.children,be=S.popoverProps,de=Object(E.a)(S,N);return Object(L.jsx)(De.a.Item,Object(ve.a)(Object(ve.a)({preserve:!1,name:A,rules:z,hasFeedback:!0,_internalItemRender:{mark:"pro_table_render",render:function(he,ge){return Object(L.jsx)(j,Object(ve.a)({inputProps:he,popoverProps:be},ge))}}},de),{},{style:Object(ve.a)(Object(ve.a)({},d),de==null?void 0:de.style),children:ue}))};K.a=function(x){var S=x.errorType,T=x.rules,z=x.name,A=x.popoverProps,ue=x.children,be=Object(E.a)(x,U);return z&&(T==null?void 0:T.length)&&S==="popover"?Object(L.jsx)(C,Object(ve.a)(Object(ve.a)({name:z,rules:T,popoverProps:A},be),{},{children:ue})):Object(L.jsx)(De.a.Item,Object(ve.a)(Object(ve.a)({rules:T},be),{},{style:Object(ve.a)(Object(ve.a)({},d),be.style),name:z,children:ue}))}},tTk5:function(fn,K,a){"use strict";a.d(K,"b",function(){return ve}),a.d(K,"c",function(){return J}),a.d(K,"a",function(){return $});var le=a("fWQN"),De=a("mtLc"),E=a("Cg/j"),ve=Object(E.c)("progressService"),re=Object.freeze({total:function(){},worked:function(){},done:function(){}}),J=function(){function y(Q){Object(le.a)(this,y),this.callback=Q}return Object(De.a)(y,[{key:"report",value:function(L){this._value=L,this.callback(this._value)}}]),y}();J.None=Object.freeze({report:function(){}});var $=Object(E.c)("editorProgressService")},tU7J:function(fn,K,a){"use strict";var le=a("EFp3"),De=a.n(le),E=a("/qDX"),ve=a.n(E),re=a("5NDa"),J=a("5Dmo")},tX9W:function(fn,K,a){"use strict";a.d(K,"c",function(){return zi}),a.d(K,"a",function(){return Zo}),a.d(K,"b",function(){return Hr});var le=a("rAM+"),De=a("tJVT"),E=a("tS8v"),ve=a("w4Tj"),re=a("oZsa"),J=a("yKVA"),$=a("879j"),y=a("fWQN"),Q=a("mtLc"),L=a("6OMU"),ne=a("zrhQ"),ee=a("/cxE"),H=a("MI8n"),W=a("pmY6"),F=a("N0LK"),V=a("bY76"),N=a("CsXQ"),U=a("QgJK"),d=a("cGHE"),j=a("aokT"),C=a("gCVg"),x=a("vX7u"),S=a("CGdd"),T=a("AYRw"),z=a("M1Kb"),A=a("p1iI"),ue=a("g/5D"),be=Object(Q.a)(function At(nt,_e,q,M){Object(y.a)(this,At),this.range=nt,this.nestingLevel=_e,this.nestingLevelOfEqualBracketType=q,this.isInvalid=M}),de=function(){function At(nt,_e,q,M,D,G){Object(y.a)(this,At),this.range=nt,this.openingBracketRange=_e,this.closingBracketRange=q,this.nestingLevel=M,this.nestingLevelOfEqualBracketType=D,this.bracketPairNode=G}return Object(Q.a)(At,[{key:"openingBracketInfo",get:function(){return this.bracketPairNode.openingBracket.bracketInfo}}]),At}(),ke=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q,M,D,G,oe,xe,Ve){var lt;return Object(y.a)(this,_e),lt=nt.call(this,q,M,D,G,oe,xe),lt.minVisibleColumnIndentation=Ve,lt}return Object(Q.a)(_e)}(de),he=a("DZFm"),ge=a("bzmS"),ce=a("pvvD"),k=a("pdYq"),w=a("lwGy"),B=a("t4hb");function Y(At,nt){if(At.length===0)return nt;if(nt.length===0)return At;var _e=new L.a(me(At)),q=me(nt);q.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});var M=_e.dequeue();function D(yi){if(yi===void 0){var vi=_e.takeWhile(function(ea){return!0})||[];return M&&vi.unshift(M),vi}for(var Bt=[];M&&!Object(ce.h)(yi);){var hr=M.splitAt(yi),Ii=Object(De.a)(hr,2),Ar=Ii[0],Gr=Ii[1];Bt.push(Ar),yi=Object(ce.c)(Ar.lengthAfter,yi),M=Gr!=null?Gr:_e.dequeue()}return Object(ce.h)(yi)||Bt.push(new pe(!1,yi,yi)),Bt}var G=[];function oe(yi,vi,Bt){if(G.length>0&&Object(ce.d)(G[G.length-1].endOffset,yi)){var hr=G[G.length-1];G[G.length-1]=new he.b(hr.startOffset,vi,Object(ce.a)(hr.newLength,Bt))}else G.push({startOffset:yi,endOffset:vi,newLength:Bt})}var xe=ce.m,Ve=Object(le.a)(q),lt;try{for(Ve.s();!(lt=Ve.n()).done;){var pt=lt.value,xt=D(pt.lengthBefore);if(pt.modified){var sn=Object(ce.p)(xt,function(yi){return yi.lengthBefore}),ln=Object(ce.a)(xe,sn);oe(xe,ln,pt.lengthAfter),xe=ln}else{var mn=Object(le.a)(xt),Tn;try{for(mn.s();!(Tn=mn.n()).done;){var ai=Tn.value,pi=xe;xe=Object(ce.a)(xe,ai.lengthBefore),ai.modified&&oe(pi,xe,ai.lengthAfter)}}catch(yi){mn.e(yi)}finally{mn.f()}}}}catch(yi){Ve.e(yi)}finally{Ve.f()}return G}var pe=function(){function At(nt,_e,q){Object(y.a)(this,At),this.modified=nt,this.lengthBefore=_e,this.lengthAfter=q}return Object(Q.a)(At,[{key:"splitAt",value:function(_e){var q=Object(ce.c)(_e,this.lengthAfter);return Object(ce.d)(q,ce.m)?[this,void 0]:this.modified?[new At(this.modified,this.lengthBefore,_e),new At(this.modified,ce.m,q)]:[new At(this.modified,_e,_e),new At(this.modified,q,q)]}},{key:"toString",value:function(){return"".concat(this.modified?"M":"U",":").concat(Object(ce.l)(this.lengthBefore)," -> ").concat(Object(ce.l)(this.lengthAfter))}}]),At}();function me(At){var nt=[],_e=ce.m,q=Object(le.a)(At),M;try{for(q.s();!(M=q.n()).done;){var D=M.value,G=Object(ce.c)(_e,D.startOffset);Object(ce.h)(G)||nt.push(new pe(!1,G,G));var oe=Object(ce.c)(D.startOffset,D.endOffset);nt.push(new pe(!0,oe,D.newLength)),_e=D.endOffset}}catch(xe){q.e(xe)}finally{q.f()}return nt}var I=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q,M){var D;if(Object(y.a)(this,_e),D=nt.call(this),D.textModel=q,D.getLanguageConfiguration=M,D.didChangeEmitter=new H.b,D.denseKeyProvider=new w.a,D.brackets=new ge.a(D.denseKeyProvider,D.getLanguageConfiguration),D.onDidChange=D.didChangeEmitter.event,D.queuedTextEditsForInitialAstWithoutTokens=[],D.queuedTextEdits=[],q.tokenization.hasTokens)q.tokenization.backgroundTokenizationState===2?(D.initialAstWithoutTokens=void 0,D.astWithTokens=D.parseDocumentFromTextBuffer([],void 0,!1)):(D.initialAstWithoutTokens=D.parseDocumentFromTextBuffer([],void 0,!0),D.astWithTokens=D.initialAstWithoutTokens);else{var G=D.brackets.getSingleLanguageBracketTokens(D.textModel.getLanguageId()),oe=new B.a(D.textModel.getValue(),G);D.initialAstWithoutTokens=Object(k.a)(oe,[],void 0,!0),D.astWithTokens=D.initialAstWithoutTokens}return D}return Object(Q.a)(_e,[{key:"didLanguageChange",value:function(M){return this.brackets.didLanguageChange(M)}},{key:"handleDidChangeBackgroundTokenizationState",value:function(){if(this.textModel.tokenization.backgroundTokenizationState===2){var M=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,M||this.didChangeEmitter.fire()}}},{key:"handleDidChangeTokens",value:function(M){var D=M.ranges,G=D.map(function(oe){return new he.b(Object(ce.q)(oe.fromLineNumber-1,0),Object(ce.q)(oe.toLineNumber,0),Object(ce.q)(oe.toLineNumber-oe.fromLineNumber+1,0))});this.handleEdits(G,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}},{key:"handleContentChanged",value:function(M){var D=he.b.fromModelContentChanges(M.changes);this.handleEdits(D,!1)}},{key:"handleEdits",value:function(M,D){var G=Y(this.queuedTextEdits,M);this.queuedTextEdits=G,this.initialAstWithoutTokens&&!D&&(this.queuedTextEditsForInitialAstWithoutTokens=Y(this.queuedTextEditsForInitialAstWithoutTokens,M))}},{key:"flushQueue",value:function(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}},{key:"parseDocumentFromTextBuffer",value:function(M,D,G){var oe=!1,xe=oe?D==null?void 0:D.deepClone():D,Ve=new B.b(this.textModel,this.brackets),lt=Object(k.a)(Ve,M,xe,G);return lt}},{key:"getBracketsInRange",value:function(M,D){var G=this;this.flushQueue();var oe=Object(ce.q)(M.startLineNumber-1,M.startColumn-1),xe=Object(ce.q)(M.endLineNumber-1,M.endColumn-1);return new L.b(function(Ve){var lt=G.initialAstWithoutTokens||G.astWithTokens;Oe(lt,ce.m,lt.length,oe,xe,Ve,0,0,new Map,D)})}},{key:"getBracketPairsInRange",value:function(M,D){var G=this;this.flushQueue();var oe=Object(ce.o)(M.getStartPosition()),xe=Object(ce.o)(M.getEndPosition());return new L.b(function(Ve){var lt=G.initialAstWithoutTokens||G.astWithTokens,pt=new Pe(Ve,D,G.textModel);Ne(lt,ce.m,lt.length,oe,xe,pt,0,new Map)})}},{key:"getFirstBracketAfter",value:function(M){this.flushQueue();var D=this.initialAstWithoutTokens||this.astWithTokens;return Re(D,ce.m,D.length,Object(ce.o)(M))}},{key:"getFirstBracketBefore",value:function(M){this.flushQueue();var D=this.initialAstWithoutTokens||this.astWithTokens;return we(D,ce.m,D.length,Object(ce.o)(M))}}]),_e}(W.a);function we(At,nt,_e,q){if(At.kind===4||At.kind===2){var M=[],D=Object(le.a)(At.children),G;try{for(D.s();!(G=D.n()).done;){var oe=G.value;_e=Object(ce.a)(nt,oe.length),M.push({nodeOffsetStart:nt,nodeOffsetEnd:_e}),nt=_e}}catch(ln){D.e(ln)}finally{D.f()}for(var xe=M.length-1;xe>=0;xe--){var Ve=M[xe],lt=Ve.nodeOffsetStart,pt=Ve.nodeOffsetEnd;if(Object(ce.i)(lt,q)){var xt=we(At.children[xe],lt,pt,q);if(xt)return xt}}return null}else{if(At.kind===3)return null;if(At.kind===1){var sn=Object(ce.n)(nt,_e);return{bracketInfo:At.bracketInfo,range:sn}}}return null}function Re(At,nt,_e,q){if(At.kind===4||At.kind===2){var M=Object(le.a)(At.children),D;try{for(M.s();!(D=M.n()).done;){var G=D.value;if(_e=Object(ce.a)(nt,G.length),Object(ce.i)(q,_e)){var oe=Re(G,nt,_e,q);if(oe)return oe}nt=_e}}catch(Ve){M.e(Ve)}finally{M.f()}return null}else{if(At.kind===3)return null;if(At.kind===1){var xe=Object(ce.n)(nt,_e);return{bracketInfo:At.bracketInfo,range:xe}}}return null}function Oe(At,nt,_e,q,M,D,G,oe,xe,Ve){var lt=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!1;if(G>200)return!0;e:for(;;)switch(At.kind){case 4:{for(var pt=At.childrenLength,xt=0;xt<pt;xt++){var sn=At.getChild(xt);if(!!sn){if(_e=Object(ce.a)(nt,sn.length),Object(ce.j)(nt,M)&&Object(ce.g)(_e,q)){var ln=Object(ce.g)(_e,M);if(ln){At=sn;continue e}var mn=Oe(sn,nt,_e,q,M,D,G,0,xe,Ve);if(!mn)return!1}nt=_e}}return!0}case 2:{var Tn=!Ve||!At.closingBracket||At.closingBracket.bracketInfo.closesColorized(At.openingBracket.bracketInfo),ai=0;if(xe){var pi=xe.get(At.openingBracket.text);pi===void 0&&(pi=0),ai=pi,Tn&&(pi++,xe.set(At.openingBracket.text,pi))}for(var yi=At.childrenLength,vi=0;vi<yi;vi++){var Bt=At.getChild(vi);if(!!Bt){if(_e=Object(ce.a)(nt,Bt.length),Object(ce.j)(nt,M)&&Object(ce.g)(_e,q)){var hr=Object(ce.g)(_e,M);if(hr&&Bt.kind!==1){At=Bt,Tn?(G++,oe=ai+1):oe=ai;continue e}if(Tn||Bt.kind!==1||!At.closingBracket){var Ii=Oe(Bt,nt,_e,q,M,D,Tn?G+1:G,Tn?ai+1:ai,xe,Ve,!At.closingBracket);if(!Ii)return!1}}nt=_e}}return xe==null||xe.set(At.openingBracket.text,ai),!0}case 3:{var Ar=Object(ce.n)(nt,_e);return D(new be(Ar,G-1,0,!0))}case 1:{var Gr=Object(ce.n)(nt,_e);return D(new be(Gr,G-1,oe-1,lt))}case 0:return!0}}var Pe=Object(Q.a)(function At(nt,_e,q){Object(y.a)(this,At),this.push=nt,this.includeMinIndentation=_e,this.textModel=q});function Ne(At,nt,_e,q,M,D,G,oe){var xe;if(G>200)return!0;var Ve=!0;if(At.kind===2){var lt=0;if(oe){var pt=oe.get(At.openingBracket.text);pt===void 0&&(pt=0),lt=pt,pt++,oe.set(At.openingBracket.text,pt)}var xt=Object(ce.a)(nt,At.openingBracket.length),sn=-1;if(D.includeMinIndentation&&(sn=At.computeMinIndentation(nt,D.textModel)),Ve=D.push(new ke(Object(ce.n)(nt,_e),Object(ce.n)(nt,xt),At.closingBracket?Object(ce.n)(Object(ce.a)(xt,((xe=At.child)===null||xe===void 0?void 0:xe.length)||ce.m),_e):void 0,G,lt,At,sn)),nt=xt,Ve&&At.child){var ln=At.child;if(_e=Object(ce.a)(nt,ln.length),Object(ce.j)(nt,M)&&Object(ce.g)(_e,q)&&(Ve=Ne(ln,nt,_e,q,M,D,G+1,oe),!Ve))return!1}oe==null||oe.set(At.openingBracket.text,lt)}else{var mn=nt,Tn=Object(le.a)(At.children),ai;try{for(Tn.s();!(ai=Tn.n()).done;){var pi=ai.value,yi=mn;if(mn=Object(ce.a)(mn,pi.length),Object(ce.j)(yi,M)&&Object(ce.j)(q,mn)&&(Ve=Ne(pi,yi,mn,q,M,D,G,oe),!Ve))return!1}}catch(vi){Tn.e(vi)}finally{Tn.f()}}return Ve}var Ke=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q,M){var D;return Object(y.a)(this,_e),D=nt.call(this),D.textModel=q,D.languageConfigurationService=M,D.bracketPairsTree=D._register(new W.e),D.onDidChangeEmitter=new H.b,D.onDidChange=D.onDidChangeEmitter.event,D.bracketsRequested=!1,D._register(D.languageConfigurationService.onDidChange(function(G){var oe;(!G.languageId||((oe=D.bracketPairsTree.value)===null||oe===void 0?void 0:oe.object.didLanguageChange(G.languageId)))&&(D.bracketPairsTree.clear(),D.updateBracketPairsTree())})),D}return Object(Q.a)(_e,[{key:"canBuildAST",get:function(){var M=5e4*100;return this.textModel.getValueLength()<=M}},{key:"handleDidChangeOptions",value:function(M){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}},{key:"handleDidChangeLanguage",value:function(M){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}},{key:"handleDidChangeContent",value:function(M){var D;(D=this.bracketPairsTree.value)===null||D===void 0||D.object.handleContentChanged(M)}},{key:"handleDidChangeBackgroundTokenizationState",value:function(){var M;(M=this.bracketPairsTree.value)===null||M===void 0||M.object.handleDidChangeBackgroundTokenizationState()}},{key:"handleDidChangeTokens",value:function(M){var D;(D=this.bracketPairsTree.value)===null||D===void 0||D.object.handleDidChangeTokens(M)}},{key:"updateBracketPairsTree",value:function(){var M=this;if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){var D=new W.c;this.bracketPairsTree.value=Xe(D.add(new I(this.textModel,function(G){return M.languageConfigurationService.getLanguageConfiguration(G)})),D),D.add(this.bracketPairsTree.value.object.onDidChange(function(G){return M.onDidChangeEmitter.fire(G)})),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}},{key:"getBracketPairsInRange",value:function(M){var D;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((D=this.bracketPairsTree.value)===null||D===void 0?void 0:D.object.getBracketPairsInRange(M,!1))||L.b.empty}},{key:"getBracketPairsInRangeWithMinIndentation",value:function(M){var D;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((D=this.bracketPairsTree.value)===null||D===void 0?void 0:D.object.getBracketPairsInRange(M,!0))||L.b.empty}},{key:"getBracketsInRange",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((G=this.bracketPairsTree.value)===null||G===void 0?void 0:G.object.getBracketsInRange(M,D))||L.b.empty}},{key:"findMatchingBracketUp",value:function(M,D,G){var oe=this.textModel.validatePosition(D),xe=this.textModel.getLanguageIdAtPosition(oe.lineNumber,oe.column);if(this.canBuildAST){var Ve=this.languageConfigurationService.getLanguageConfiguration(xe).bracketsNew.getClosingBracketInfo(M);if(!Ve)return null;var lt=this.getBracketPairsInRange(j.a.fromPositions(D,D)).findLast(function(ln){return Ve.closes(ln.openingBracketInfo)});return lt?lt.openingBracketRange:null}else{var pt=M.toLowerCase(),xt=this.languageConfigurationService.getLanguageConfiguration(xe).brackets;if(!xt)return null;var sn=xt.textIsBracket[pt];return sn?bt(this._findMatchingBracketUp(sn,oe,wt(G))):null}}},{key:"matchBracket",value:function(M,D){if(this.canBuildAST){var G=this.getBracketPairsInRange(j.a.fromPositions(M,M)).filter(function(xe){return xe.closingBracketRange!==void 0&&(xe.openingBracketRange.containsPosition(M)||xe.closingBracketRange.containsPosition(M))}).findLastMaxBy(Object(L.h)(function(xe){return xe.openingBracketRange.containsPosition(M)?xe.openingBracketRange:xe.closingBracketRange},j.a.compareRangesUsingStarts));return G?[G.openingBracketRange,G.closingBracketRange]:null}else{var oe=wt(D);return this._matchBracket(this.textModel.validatePosition(M),oe)}}},{key:"_establishBracketSearchOffsets",value:function(M,D,G,oe){for(var xe=D.getCount(),Ve=D.getLanguageId(oe),lt=Math.max(0,M.column-1-G.maxBracketLength),pt=oe-1;pt>=0;pt--){var xt=D.getEndOffset(pt);if(xt<=lt)break;if(Object(A.b)(D.getStandardTokenType(pt))||D.getLanguageId(pt)!==Ve){lt=xt;break}}for(var sn=Math.min(D.getLineContent().length,M.column-1+G.maxBracketLength),ln=oe+1;ln<xe;ln++){var mn=D.getStartOffset(ln);if(mn>=sn)break;if(Object(A.b)(D.getStandardTokenType(ln))||D.getLanguageId(ln)!==Ve){sn=mn;break}}return{searchStartOffset:lt,searchEndOffset:sn}}},{key:"_matchBracket",value:function(M,D){var G=M.lineNumber,oe=this.textModel.tokenization.getLineTokens(G),xe=this.textModel.getLineContent(G),Ve=oe.findTokenIndexAtOffset(M.column-1);if(Ve<0)return null;var lt=this.languageConfigurationService.getLanguageConfiguration(oe.getLanguageId(Ve)).brackets;if(lt&&!Object(A.b)(oe.getStandardTokenType(Ve))){for(var pt=this._establishBracketSearchOffsets(M,oe,lt,Ve),xt=pt.searchStartOffset,sn=pt.searchEndOffset,ln=null;;){var mn=ue.a.findNextBracketInRange(lt.forwardRegex,G,xe,xt,sn);if(!mn)break;if(mn.startColumn<=M.column&&M.column<=mn.endColumn){var Tn=xe.substring(mn.startColumn-1,mn.endColumn-1).toLowerCase(),ai=this._matchFoundBracket(mn,lt.textIsBracket[Tn],lt.textIsOpenBracket[Tn],D);if(ai){if(ai instanceof Ct)return null;ln=ai}}xt=mn.endColumn-1}if(ln)return ln}if(Ve>0&&oe.getStartOffset(Ve)===M.column-1){var pi=Ve-1,yi=this.languageConfigurationService.getLanguageConfiguration(oe.getLanguageId(pi)).brackets;if(yi&&!Object(A.b)(oe.getStandardTokenType(pi))){var vi=this._establishBracketSearchOffsets(M,oe,yi,pi),Bt=vi.searchStartOffset,hr=vi.searchEndOffset,Ii=ue.a.findPrevBracketInRange(yi.reversedRegex,G,xe,Bt,hr);if(Ii&&Ii.startColumn<=M.column&&M.column<=Ii.endColumn){var Ar=xe.substring(Ii.startColumn-1,Ii.endColumn-1).toLowerCase(),Gr=this._matchFoundBracket(Ii,yi.textIsBracket[Ar],yi.textIsOpenBracket[Ar],D);if(Gr)return Gr instanceof Ct?null:Gr}}}return null}},{key:"_matchFoundBracket",value:function(M,D,G,oe){if(!D)return null;var xe=G?this._findMatchingBracketDown(D,M.getEndPosition(),oe):this._findMatchingBracketUp(D,M.getStartPosition(),oe);return xe?xe instanceof Ct?xe:[M,xe]:null}},{key:"_findMatchingBracketUp",value:function(M,D,G){for(var oe=M.languageId,xe=M.reversedRegex,Ve=-1,lt=0,pt=function(Ar,Gr,ea,ya){for(;;){if(G&&++lt%100==0&&!G())return Ct.INSTANCE;var Da=ue.a.findPrevBracketInRange(xe,Ar,Gr,ea,ya);if(!Da)break;var ta=Gr.substring(Da.startColumn-1,Da.endColumn-1).toLowerCase();if(M.isOpen(ta)?Ve++:M.isClose(ta)&&Ve--,Ve===0)return Da;ya=Da.startColumn-1}return null},xt=D.lineNumber;xt>=1;xt--){var sn=this.textModel.tokenization.getLineTokens(xt),ln=sn.getCount(),mn=this.textModel.getLineContent(xt),Tn=ln-1,ai=mn.length,pi=mn.length;xt===D.lineNumber&&(Tn=sn.findTokenIndexAtOffset(D.column-1),ai=D.column-1,pi=D.column-1);for(var yi=!0;Tn>=0;Tn--){var vi=sn.getLanguageId(Tn)===oe&&!Object(A.b)(sn.getStandardTokenType(Tn));if(vi)yi?ai=sn.getStartOffset(Tn):(ai=sn.getStartOffset(Tn),pi=sn.getEndOffset(Tn));else if(yi&&ai!==pi){var Bt=pt(xt,mn,ai,pi);if(Bt)return Bt}yi=vi}if(yi&&ai!==pi){var hr=pt(xt,mn,ai,pi);if(hr)return hr}}return null}},{key:"_findMatchingBracketDown",value:function(M,D,G){for(var oe=M.languageId,xe=M.forwardRegex,Ve=1,lt=0,pt=function(Gr,ea,ya,Da){for(;;){if(G&&++lt%100==0&&!G())return Ct.INSTANCE;var ta=ue.a.findNextBracketInRange(xe,Gr,ea,ya,Da);if(!ta)break;var Ya=ea.substring(ta.startColumn-1,ta.endColumn-1).toLowerCase();if(M.isOpen(Ya)?Ve++:M.isClose(Ya)&&Ve--,Ve===0)return ta;ya=ta.endColumn-1}return null},xt=this.textModel.getLineCount(),sn=D.lineNumber;sn<=xt;sn++){var ln=this.textModel.tokenization.getLineTokens(sn),mn=ln.getCount(),Tn=this.textModel.getLineContent(sn),ai=0,pi=0,yi=0;sn===D.lineNumber&&(ai=ln.findTokenIndexAtOffset(D.column-1),pi=D.column-1,yi=D.column-1);for(var vi=!0;ai<mn;ai++){var Bt=ln.getLanguageId(ai)===oe&&!Object(A.b)(ln.getStandardTokenType(ai));if(Bt)vi||(pi=ln.getStartOffset(ai)),yi=ln.getEndOffset(ai);else if(vi&&pi!==yi){var hr=pt(sn,Tn,pi,yi);if(hr)return hr}vi=Bt}if(vi&&pi!==yi){var Ii=pt(sn,Tn,pi,yi);if(Ii)return Ii}}return null}},{key:"findPrevBracket",value:function(M){var D,G=this.textModel.validatePosition(M);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((D=this.bracketPairsTree.value)===null||D===void 0?void 0:D.object.getFirstBracketBefore(G))||null;for(var oe=null,xe=null,Ve=null,lt=G.lineNumber;lt>=1;lt--){var pt=this.textModel.tokenization.getLineTokens(lt),xt=pt.getCount(),sn=this.textModel.getLineContent(lt),ln=xt-1,mn=sn.length,Tn=sn.length;if(lt===G.lineNumber){ln=pt.findTokenIndexAtOffset(G.column-1),mn=G.column-1,Tn=G.column-1;var ai=pt.getLanguageId(ln);oe!==ai&&(oe=ai,xe=this.languageConfigurationService.getLanguageConfiguration(oe).brackets,Ve=this.languageConfigurationService.getLanguageConfiguration(oe).bracketsNew)}for(var pi=!0;ln>=0;ln--){var yi=pt.getLanguageId(ln);if(oe!==yi){if(xe&&Ve&&pi&&mn!==Tn){var vi=ue.a.findPrevBracketInRange(xe.reversedRegex,lt,sn,mn,Tn);if(vi)return this._toFoundBracket(Ve,vi);pi=!1}oe=yi,xe=this.languageConfigurationService.getLanguageConfiguration(oe).brackets,Ve=this.languageConfigurationService.getLanguageConfiguration(oe).bracketsNew}var Bt=!!xe&&!Object(A.b)(pt.getStandardTokenType(ln));if(Bt)pi?mn=pt.getStartOffset(ln):(mn=pt.getStartOffset(ln),Tn=pt.getEndOffset(ln));else if(Ve&&xe&&pi&&mn!==Tn){var hr=ue.a.findPrevBracketInRange(xe.reversedRegex,lt,sn,mn,Tn);if(hr)return this._toFoundBracket(Ve,hr)}pi=Bt}if(Ve&&xe&&pi&&mn!==Tn){var Ii=ue.a.findPrevBracketInRange(xe.reversedRegex,lt,sn,mn,Tn);if(Ii)return this._toFoundBracket(Ve,Ii)}}return null}},{key:"findNextBracket",value:function(M){var D,G=this.textModel.validatePosition(M);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((D=this.bracketPairsTree.value)===null||D===void 0?void 0:D.object.getFirstBracketAfter(G))||null;for(var oe=this.textModel.getLineCount(),xe=null,Ve=null,lt=null,pt=G.lineNumber;pt<=oe;pt++){var xt=this.textModel.tokenization.getLineTokens(pt),sn=xt.getCount(),ln=this.textModel.getLineContent(pt),mn=0,Tn=0,ai=0;if(pt===G.lineNumber){mn=xt.findTokenIndexAtOffset(G.column-1),Tn=G.column-1,ai=G.column-1;var pi=xt.getLanguageId(mn);xe!==pi&&(xe=pi,Ve=this.languageConfigurationService.getLanguageConfiguration(xe).brackets,lt=this.languageConfigurationService.getLanguageConfiguration(xe).bracketsNew)}for(var yi=!0;mn<sn;mn++){var vi=xt.getLanguageId(mn);if(xe!==vi){if(lt&&Ve&&yi&&Tn!==ai){var Bt=ue.a.findNextBracketInRange(Ve.forwardRegex,pt,ln,Tn,ai);if(Bt)return this._toFoundBracket(lt,Bt);yi=!1}xe=vi,Ve=this.languageConfigurationService.getLanguageConfiguration(xe).brackets,lt=this.languageConfigurationService.getLanguageConfiguration(xe).bracketsNew}var hr=!!Ve&&!Object(A.b)(xt.getStandardTokenType(mn));if(hr)yi||(Tn=xt.getStartOffset(mn)),ai=xt.getEndOffset(mn);else if(lt&&Ve&&yi&&Tn!==ai){var Ii=ue.a.findNextBracketInRange(Ve.forwardRegex,pt,ln,Tn,ai);if(Ii)return this._toFoundBracket(lt,Ii)}yi=hr}if(lt&&Ve&&yi&&Tn!==ai){var Ar=ue.a.findNextBracketInRange(Ve.forwardRegex,pt,ln,Tn,ai);if(Ar)return this._toFoundBracket(lt,Ar)}}return null}},{key:"findEnclosingBrackets",value:function(M,D){var G=this,oe=this.textModel.validatePosition(M);if(this.canBuildAST){var xe=j.a.fromPositions(oe),Ve=this.getBracketPairsInRange(j.a.fromPositions(oe,oe)).findLast(function(po){return po.closingBracketRange!==void 0&&po.range.strictContainsRange(xe)});return Ve?[Ve.openingBracketRange,Ve.closingBracketRange]:null}for(var lt=wt(D),pt=this.textModel.getLineCount(),xt=new Map,sn=[],ln=function(zo,Ss){if(!xt.has(zo)){for(var Xo=[],Ko=0,ds=Ss?Ss.brackets.length:0;Ko<ds;Ko++)Xo[Ko]=0;xt.set(zo,Xo)}sn=xt.get(zo)},mn=0,Tn=function(zo,Ss,Xo,Ko,ds){for(;;){if(lt&&++mn%100==0&&!lt())return Ct.INSTANCE;var go=ue.a.findNextBracketInRange(zo.forwardRegex,Ss,Xo,Ko,ds);if(!go)break;var Go=Xo.substring(go.startColumn-1,go.endColumn-1).toLowerCase(),Jo=zo.textIsBracket[Go];if(Jo&&(Jo.isOpen(Go)?sn[Jo.index]++:Jo.isClose(Go)&&sn[Jo.index]--,sn[Jo.index]===-1))return G._matchFoundBracket(go,Jo,!1,lt);Ko=go.endColumn-1}return null},ai=null,pi=null,yi=oe.lineNumber;yi<=pt;yi++){var vi=this.textModel.tokenization.getLineTokens(yi),Bt=vi.getCount(),hr=this.textModel.getLineContent(yi),Ii=0,Ar=0,Gr=0;if(yi===oe.lineNumber){Ii=vi.findTokenIndexAtOffset(oe.column-1),Ar=oe.column-1,Gr=oe.column-1;var ea=vi.getLanguageId(Ii);ai!==ea&&(ai=ea,pi=this.languageConfigurationService.getLanguageConfiguration(ai).brackets,ln(ai,pi))}for(var ya=!0;Ii<Bt;Ii++){var Da=vi.getLanguageId(Ii);if(ai!==Da){if(pi&&ya&&Ar!==Gr){var ta=Tn(pi,yi,hr,Ar,Gr);if(ta)return bt(ta);ya=!1}ai=Da,pi=this.languageConfigurationService.getLanguageConfiguration(ai).brackets,ln(ai,pi)}var Ya=!!pi&&!Object(A.b)(vi.getStandardTokenType(Ii));if(Ya)ya||(Ar=vi.getStartOffset(Ii)),Gr=vi.getEndOffset(Ii);else if(pi&&ya&&Ar!==Gr){var Va=Tn(pi,yi,hr,Ar,Gr);if(Va)return bt(Va)}ya=Ya}if(pi&&ya&&Ar!==Gr){var mo=Tn(pi,yi,hr,Ar,Gr);if(mo)return bt(mo)}}return null}},{key:"_toFoundBracket",value:function(M,D){if(!D)return null;var G=this.textModel.getValueInRange(D);G=G.toLowerCase();var oe=M.getBracketInfo(G);return oe?{range:D,bracketInfo:oe}:null}}]),_e}(W.a);function Xe(At,nt){return{object:At,dispose:function(){return nt==null?void 0:nt.dispose()}}}function wt(At){if(typeof At=="undefined")return function(){return!0};var nt=Date.now();return function(){return Date.now()-nt<=At}}var Ct=Object(Q.a)(function At(){Object(y.a)(this,At),this._searchCanceledBrand=void 0});Ct.INSTANCE=new Ct;function bt(At){return At instanceof Ct?null:At}var mt=a("3IFt"),jt=a("t9D7"),Je=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q){var M;return Object(y.a)(this,_e),M=nt.call(this),M.textModel=q,M.colorProvider=new Wt,M.onDidChangeEmitter=new H.b,M.onDidChange=M.onDidChangeEmitter.event,M.colorizationOptions=q.getOptions().bracketPairColorizationOptions,M._register(q.bracketPairs.onDidChange(function(D){M.onDidChangeEmitter.fire()})),M}return Object(Q.a)(_e,[{key:"handleDidChangeOptions",value:function(M){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}},{key:"getDecorationsInRange",value:function(M,D,G,oe){var xe=this;if(oe)return[];if(D===void 0)return[];if(!this.colorizationOptions.enabled)return[];var Ve=this.textModel.bracketPairs.getBracketsInRange(M,!0).map(function(lt){return{id:"bracket".concat(lt.range.toString(),"-").concat(lt.nestingLevel),options:{description:"BracketPairColorization",inlineClassName:xe.colorProvider.getInlineClassName(lt,xe.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:lt.range}}).toArray();return Ve}},{key:"getAllDecorations",value:function(M,D){return M===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new j.a(1,1,this.textModel.getLineCount(),1),M,D):[]}}]),_e}(W.a),Wt=function(){function At(){Object(y.a)(this,At),this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}return Object(Q.a)(At,[{key:"getInlineClassName",value:function(_e,q){return _e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(q?_e.nestingLevelOfEqualBracketType:_e.nestingLevel)}},{key:"getInlineClassNameOfLevel",value:function(_e){return"bracket-highlighting-".concat(_e%30)}}]),At}();Object(jt.e)(function(At,nt){var _e=[mt.b,mt.c,mt.d,mt.e,mt.f,mt.g],q=new Wt;nt.addRule(".monaco-editor .".concat(q.unexpectedClosingBracketClassName," { color: ").concat(At.getColor(mt.h),"; }"));for(var M=_e.map(function(oe){return At.getColor(oe)}).filter(function(oe){return!!oe}).filter(function(oe){return!oe.isTransparent()}),D=0;D<30;D++){var G=M[D%M.length];nt.addRule(".monaco-editor .".concat(q.getInlineClassNameOfLevel(D)," { color: ").concat(G,"; }"))}});var Te=a("oFSf"),fe=a("6apY"),ye=Object(Q.a)(function At(){Object(y.a)(this,At),this.spacesDiff=0,this.looksLikeAlignment=!1});function Ee(At,nt,_e,q,M){M.spacesDiff=0,M.looksLikeAlignment=!1;var D;for(D=0;D<nt&&D<q;D++){var G=At.charCodeAt(D),oe=_e.charCodeAt(D);if(G!==oe)break}for(var xe=0,Ve=0,lt=D;lt<nt;lt++){var pt=At.charCodeAt(lt);pt===32?xe++:Ve++}for(var xt=0,sn=0,ln=D;ln<q;ln++){var mn=_e.charCodeAt(ln);mn===32?xt++:sn++}if(!(xe>0&&Ve>0)&&!(xt>0&&sn>0)){var Tn=Math.abs(Ve-sn),ai=Math.abs(xe-xt);if(Tn===0){M.spacesDiff=ai,ai>0&&0<=xt-1&&xt-1<At.length&&xt<_e.length&&_e.charCodeAt(xt)!==32&&At.charCodeAt(xt-1)===32&&At.charCodeAt(At.length-1)===44&&(M.looksLikeAlignment=!0);return}if(ai%Tn==0){M.spacesDiff=ai/Tn;return}}}function Ge(At,nt,_e){for(var q=Math.min(At.getLineCount(),1e4),M=0,D=0,G="",oe=0,xe=[2,4,6,8,3,5,7],Ve=8,lt=[0,0,0,0,0,0,0,0,0],pt=new ye,xt=1;xt<=q;xt++){for(var sn=At.getLineLength(xt),ln=At.getLineContent(xt),mn=sn<=65536,Tn=!1,ai=0,pi=0,yi=0,vi=0,Bt=sn;vi<Bt;vi++){var hr=mn?ln.charCodeAt(vi):At.getLineCharCode(xt,vi);if(hr===9)yi++;else if(hr===32)pi++;else{Tn=!0,ai=vi;break}}if(!!Tn&&(yi>0?M++:pi>1&&D++,Ee(G,oe,ln,ai,pt),!(pt.looksLikeAlignment&&!(_e&&nt===pt.spacesDiff)))){var Ii=pt.spacesDiff;Ii<=Ve&&lt[Ii]++,G=ln,oe=ai}}var Ar=_e;M!==D&&(Ar=M<D);var Gr=nt;if(Ar){var ea=Ar?0:.1*q;xe.forEach(function(ya){var Da=lt[ya];Da>ea&&(ea=Da,Gr=ya)}),Gr===4&&lt[4]>0&&lt[2]>0&&lt[2]>=lt[4]/2&&(Gr=2)}return{insertSpaces:Ar,tabSize:Gr}}function $e(At){return(At.metadata&1)>>>0}function We(At,nt){At.metadata=At.metadata&254|nt<<0}function it(At){return(At.metadata&2)>>>1==1}function Fe(At,nt){At.metadata=At.metadata&253|(nt?1:0)<<1}function He(At){return(At.metadata&4)>>>2==1}function Ye(At,nt){At.metadata=At.metadata&251|(nt?1:0)<<2}function ot(At){return(At.metadata&64)>>>6==1}function Kt(At,nt){At.metadata=At.metadata&191|(nt?1:0)<<6}function gt(At){return(At.metadata&24)>>>3}function Ft(At,nt){At.metadata=At.metadata&231|nt<<3}function Jt(At){return(At.metadata&32)>>>5==1}function qt(At,nt){At.metadata=At.metadata&223|(nt?1:0)<<5}var En=function(){function At(nt,_e,q){Object(y.a)(this,At),this.metadata=0,this.parent=this,this.left=this,this.right=this,We(this,1),this.start=_e,this.end=q,this.delta=0,this.maxEnd=q,this.id=nt,this.ownerId=0,this.options=null,Ye(this,!1),Kt(this,!1),Ft(this,1),qt(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=_e,this.cachedAbsoluteEnd=q,this.range=null,Fe(this,!1)}return Object(Q.a)(At,[{key:"reset",value:function(_e,q,M,D){this.start=q,this.end=M,this.maxEnd=M,this.cachedVersionId=_e,this.cachedAbsoluteStart=q,this.cachedAbsoluteEnd=M,this.range=D}},{key:"setOptions",value:function(_e){this.options=_e;var q=this.options.className;Ye(this,q==="squiggly-error"||q==="squiggly-warning"||q==="squiggly-info"),Kt(this,this.options.glyphMarginClassName!==null),Ft(this,this.options.stickiness),qt(this,this.options.collapseOnReplaceEdit)}},{key:"setCachedOffsets",value:function(_e,q,M){this.cachedVersionId!==M&&(this.range=null),this.cachedVersionId=M,this.cachedAbsoluteStart=_e,this.cachedAbsoluteEnd=q}},{key:"detach",value:function(){this.parent=null,this.left=null,this.right=null}}]),At}(),It=new En(null,0,0);It.parent=It,It.left=It,It.right=It,We(It,0);var si=function(){function At(){Object(y.a)(this,At),this.root=It,this.requestNormalizeDelta=!1}return Object(Q.a)(At,[{key:"intervalSearch",value:function(_e,q,M,D,G,oe){return this.root===It?[]:Pi(this,_e,q,M,D,G,oe)}},{key:"search",value:function(_e,q,M,D){return this.root===It?[]:Sr(this,_e,q,M,D)}},{key:"collectNodesFromOwner",value:function(_e){return fr(this,_e)}},{key:"collectNodesPostOrder",value:function(){return Vi(this)}},{key:"insert",value:function(_e){Ei(this,_e),this._normalizeDeltaIfNecessary()}},{key:"delete",value:function(_e){zn(this,_e),this._normalizeDeltaIfNecessary()}},{key:"resolveNode",value:function(_e,q){for(var M=_e,D=0;_e!==this.root;)_e===_e.parent.right&&(D+=_e.parent.delta),_e=_e.parent;var G=M.start+D,oe=M.end+D;M.setCachedOffsets(G,oe,q)}},{key:"acceptReplace",value:function(_e,q,M,D){for(var G=Dn(this,_e,_e+q),oe=0,xe=G.length;oe<xe;oe++){var Ve=G[oe];zn(this,Ve)}this._normalizeDeltaIfNecessary(),An(this,_e,_e+q,M),this._normalizeDeltaIfNecessary();for(var lt=0,pt=G.length;lt<pt;lt++){var xt=G[lt];xt.start=xt.cachedAbsoluteStart,xt.end=xt.cachedAbsoluteEnd,ci(xt,_e,_e+q,M,D),xt.maxEnd=xt.end,Ei(this,xt)}this._normalizeDeltaIfNecessary()}},{key:"_normalizeDeltaIfNecessary",value:function(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,On(this))}}]),At}();function On(At){for(var nt=At.root,_e=0;nt!==It;){if(nt.left!==It&&!it(nt.left)){nt=nt.left;continue}if(nt.right!==It&&!it(nt.right)){_e+=nt.delta,nt=nt.right;continue}nt.start=_e+nt.start,nt.end=_e+nt.end,nt.delta=0,en(nt),Fe(nt,!0),Fe(nt.left,!1),Fe(nt.right,!1),nt===nt.parent.right&&(_e-=nt.parent.delta),nt=nt.parent}Fe(At.root,!1)}function Gn(At,nt,_e,q){return At<_e?!0:At>_e||q===1?!1:q===2?!0:nt}function ci(At,nt,_e,q,M){var D=gt(At),G=D===0||D===2,oe=D===1||D===2,xe=_e-nt,Ve=q,lt=Math.min(xe,Ve),pt=At.start,xt=!1,sn=At.end,ln=!1;nt<=pt&&sn<=_e&&Jt(At)&&(At.start=nt,xt=!0,At.end=nt,ln=!0);{var mn=M?1:xe>0?2:0;!xt&&Gn(pt,G,nt,mn)&&(xt=!0),!ln&&Gn(sn,oe,nt,mn)&&(ln=!0)}if(lt>0&&!M){var Tn=xe>Ve?2:0;!xt&&Gn(pt,G,nt+lt,Tn)&&(xt=!0),!ln&&Gn(sn,oe,nt+lt,Tn)&&(ln=!0)}{var ai=M?1:0;!xt&&Gn(pt,G,_e,ai)&&(At.start=nt+Ve,xt=!0),!ln&&Gn(sn,oe,_e,ai)&&(At.end=nt+Ve,ln=!0)}var pi=Ve-xe;xt||(At.start=Math.max(0,pt+pi)),ln||(At.end=Math.max(0,sn+pi)),At.start>At.end&&(At.end=At.start)}function Dn(At,nt,_e){for(var q=At.root,M=0,D=0,G=0,oe=0,xe=[],Ve=0;q!==It;){if(it(q)){Fe(q.left,!1),Fe(q.right,!1),q===q.parent.right&&(M-=q.parent.delta),q=q.parent;continue}if(!it(q.left)){if(D=M+q.maxEnd,D<nt){Fe(q,!0);continue}if(q.left!==It){q=q.left;continue}}if(G=M+q.start,G>_e){Fe(q,!0);continue}if(oe=M+q.end,oe>=nt&&(q.setCachedOffsets(G,oe,0),xe[Ve++]=q),Fe(q,!0),q.right!==It&&!it(q.right)){M+=q.delta,q=q.right;continue}}return Fe(At.root,!1),xe}function An(At,nt,_e,q){for(var M=At.root,D=0,G=0,oe=0,xe=q-(_e-nt);M!==It;){if(it(M)){Fe(M.left,!1),Fe(M.right,!1),M===M.parent.right&&(D-=M.parent.delta),en(M),M=M.parent;continue}if(!it(M.left)){if(G=D+M.maxEnd,G<nt){Fe(M,!0);continue}if(M.left!==It){M=M.left;continue}}if(oe=D+M.start,oe>_e){M.start+=xe,M.end+=xe,M.delta+=xe,(M.delta<-1073741824||M.delta>1073741824)&&(At.requestNormalizeDelta=!0),Fe(M,!0);continue}if(Fe(M,!0),M.right!==It&&!it(M.right)){D+=M.delta,M=M.right;continue}}Fe(At.root,!1)}function fr(At,nt){for(var _e=At.root,q=[],M=0;_e!==It;){if(it(_e)){Fe(_e.left,!1),Fe(_e.right,!1),_e=_e.parent;continue}if(_e.left!==It&&!it(_e.left)){_e=_e.left;continue}if(_e.ownerId===nt&&(q[M++]=_e),Fe(_e,!0),_e.right!==It&&!it(_e.right)){_e=_e.right;continue}}return Fe(At.root,!1),q}function Vi(At){for(var nt=At.root,_e=[],q=0;nt!==It;){if(it(nt)){Fe(nt.left,!1),Fe(nt.right,!1),nt=nt.parent;continue}if(nt.left!==It&&!it(nt.left)){nt=nt.left;continue}if(nt.right!==It&&!it(nt.right)){nt=nt.right;continue}_e[q++]=nt,Fe(nt,!0)}return Fe(At.root,!1),_e}function Sr(At,nt,_e,q,M){for(var D=At.root,G=0,oe=0,xe=0,Ve=[],lt=0;D!==It;){if(it(D)){Fe(D.left,!1),Fe(D.right,!1),D===D.parent.right&&(G-=D.parent.delta),D=D.parent;continue}if(D.left!==It&&!it(D.left)){D=D.left;continue}oe=G+D.start,xe=G+D.end,D.setCachedOffsets(oe,xe,q);var pt=!0;if(nt&&D.ownerId&&D.ownerId!==nt&&(pt=!1),_e&&He(D)&&(pt=!1),M&&!ot(D)&&(pt=!1),pt&&(Ve[lt++]=D),Fe(D,!0),D.right!==It&&!it(D.right)){G+=D.delta,D=D.right;continue}}return Fe(At.root,!1),Ve}function Pi(At,nt,_e,q,M,D,G){for(var oe=At.root,xe=0,Ve=0,lt=0,pt=0,xt=[],sn=0;oe!==It;){if(it(oe)){Fe(oe.left,!1),Fe(oe.right,!1),oe===oe.parent.right&&(xe-=oe.parent.delta),oe=oe.parent;continue}if(!it(oe.left)){if(Ve=xe+oe.maxEnd,Ve<nt){Fe(oe,!0);continue}if(oe.left!==It){oe=oe.left;continue}}if(lt=xe+oe.start,lt>_e){Fe(oe,!0);continue}if(pt=xe+oe.end,pt>=nt){oe.setCachedOffsets(lt,pt,D);var ln=!0;q&&oe.ownerId&&oe.ownerId!==q&&(ln=!1),M&&He(oe)&&(ln=!1),G&&!ot(oe)&&(ln=!1),ln&&(xt[sn++]=oe)}if(Fe(oe,!0),oe.right!==It&&!it(oe.right)){xe+=oe.delta,oe=oe.right;continue}}return Fe(At.root,!1),xt}function Ei(At,nt){if(At.root===It)return nt.parent=It,nt.left=It,nt.right=It,We(nt,0),At.root=nt,At.root;Cr(At,nt),yt(nt.parent);for(var _e=nt;_e!==At.root&&$e(_e.parent)===1;)if(_e.parent===_e.parent.parent.left){var q=_e.parent.parent.right;$e(q)===1?(We(_e.parent,0),We(q,0),We(_e.parent.parent,1),_e=_e.parent.parent):(_e===_e.parent.right&&(_e=_e.parent,mi(At,_e)),We(_e.parent,0),We(_e.parent.parent,1),hn(At,_e.parent.parent))}else{var M=_e.parent.parent.left;$e(M)===1?(We(_e.parent,0),We(M,0),We(_e.parent.parent,1),_e=_e.parent.parent):(_e===_e.parent.left&&(_e=_e.parent,hn(At,_e)),We(_e.parent,0),We(_e.parent.parent,1),mi(At,_e.parent.parent))}return We(At.root,0),nt}function Cr(At,nt){for(var _e=0,q=At.root,M=nt.start,D=nt.end;;){var G=wn(M,D,q.start+_e,q.end+_e);if(G<0)if(q.left===It){nt.start-=_e,nt.end-=_e,nt.maxEnd-=_e,q.left=nt;break}else q=q.left;else if(q.right===It){nt.start-=_e+q.delta,nt.end-=_e+q.delta,nt.maxEnd-=_e+q.delta,q.right=nt;break}else _e+=q.delta,q=q.right}nt.parent=q,nt.left=It,nt.right=It,We(nt,1)}function zn(At,nt){var _e,q;if(nt.left===It?(_e=nt.right,q=nt,_e.delta+=nt.delta,(_e.delta<-1073741824||_e.delta>1073741824)&&(At.requestNormalizeDelta=!0),_e.start+=nt.delta,_e.end+=nt.delta):nt.right===It?(_e=nt.left,q=nt):(q=dr(nt.right),_e=q.right,_e.start+=q.delta,_e.end+=q.delta,_e.delta+=q.delta,(_e.delta<-1073741824||_e.delta>1073741824)&&(At.requestNormalizeDelta=!0),q.start+=nt.delta,q.end+=nt.delta,q.delta=nt.delta,(q.delta<-1073741824||q.delta>1073741824)&&(At.requestNormalizeDelta=!0)),q===At.root){At.root=_e,We(_e,0),nt.detach(),Hn(),en(_e),At.root.parent=It;return}var M=$e(q)===1;if(q===q.parent.left?q.parent.left=_e:q.parent.right=_e,q===nt?_e.parent=q.parent:(q.parent===nt?_e.parent=q:_e.parent=q.parent,q.left=nt.left,q.right=nt.right,q.parent=nt.parent,We(q,$e(nt)),nt===At.root?At.root=q:nt===nt.parent.left?nt.parent.left=q:nt.parent.right=q,q.left!==It&&(q.left.parent=q),q.right!==It&&(q.right.parent=q)),nt.detach(),M){yt(_e.parent),q!==nt&&(yt(q),yt(q.parent)),Hn();return}yt(_e),yt(_e.parent),q!==nt&&(yt(q),yt(q.parent));for(var D;_e!==At.root&&$e(_e)===0;)_e===_e.parent.left?(D=_e.parent.right,$e(D)===1&&(We(D,0),We(_e.parent,1),mi(At,_e.parent),D=_e.parent.right),$e(D.left)===0&&$e(D.right)===0?(We(D,1),_e=_e.parent):($e(D.right)===0&&(We(D.left,0),We(D,1),hn(At,D),D=_e.parent.right),We(D,$e(_e.parent)),We(_e.parent,0),We(D.right,0),mi(At,_e.parent),_e=At.root)):(D=_e.parent.left,$e(D)===1&&(We(D,0),We(_e.parent,1),hn(At,_e.parent),D=_e.parent.left),$e(D.left)===0&&$e(D.right)===0?(We(D,1),_e=_e.parent):($e(D.left)===0&&(We(D.right,0),We(D,1),mi(At,D),D=_e.parent.left),We(D,$e(_e.parent)),We(_e.parent,0),We(D.left,0),hn(At,_e.parent),_e=At.root));We(_e,0),Hn()}function dr(At){for(;At.left!==It;)At=At.left;return At}function Hn(){It.parent=It,It.delta=0,It.start=0,It.end=0}function mi(At,nt){var _e=nt.right;_e.delta+=nt.delta,(_e.delta<-1073741824||_e.delta>1073741824)&&(At.requestNormalizeDelta=!0),_e.start+=nt.delta,_e.end+=nt.delta,nt.right=_e.left,_e.left!==It&&(_e.left.parent=nt),_e.parent=nt.parent,nt.parent===It?At.root=_e:nt===nt.parent.left?nt.parent.left=_e:nt.parent.right=_e,_e.left=nt,nt.parent=_e,en(nt),en(_e)}function hn(At,nt){var _e=nt.left;nt.delta-=_e.delta,(nt.delta<-1073741824||nt.delta>1073741824)&&(At.requestNormalizeDelta=!0),nt.start-=_e.delta,nt.end-=_e.delta,nt.left=_e.right,_e.right!==It&&(_e.right.parent=nt),_e.parent=nt.parent,nt.parent===It?At.root=_e:nt===nt.parent.right?nt.parent.right=_e:nt.parent.left=_e,_e.right=nt,nt.parent=_e,en(nt),en(_e)}function Xn(At){var nt=At.end;if(At.left!==It){var _e=At.left.maxEnd;_e>nt&&(nt=_e)}if(At.right!==It){var q=At.right.maxEnd+At.delta;q>nt&&(nt=q)}return nt}function en(At){At.maxEnd=Xn(At)}function yt(At){for(;At!==It;){var nt=Xn(At);if(At.maxEnd===nt)return;At.maxEnd=nt,At=At.parent}}function wn(At,nt,_e,q){return At===_e?nt-q:At-_e}var gn=function(){function At(nt,_e){Object(y.a)(this,At),this.piece=nt,this.color=_e,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}return Object(Q.a)(At,[{key:"next",value:function(){if(this.right!==rn)return bn(this.right);for(var _e=this;_e.parent!==rn&&_e.parent.left!==_e;)_e=_e.parent;return _e.parent===rn?rn:_e.parent}},{key:"prev",value:function(){if(this.left!==rn)return Qn(this.left);for(var _e=this;_e.parent!==rn&&_e.parent.right!==_e;)_e=_e.parent;return _e.parent===rn?rn:_e.parent}},{key:"detach",value:function(){this.parent=null,this.left=null,this.right=null}}]),At}(),rn=new gn(null,0);rn.parent=rn,rn.left=rn,rn.right=rn,rn.color=0;function bn(At){for(;At.left!==rn;)At=At.left;return At}function Qn(At){for(;At.right!==rn;)At=At.right;return At}function Ci(At){return At===rn?0:At.size_left+At.piece.length+Ci(At.right)}function yr(At){return At===rn?0:At.lf_left+At.piece.lineFeedCnt+yr(At.right)}function _i(){rn.parent=rn}function Bn(At,nt){var _e=nt.right;_e.size_left+=nt.size_left+(nt.piece?nt.piece.length:0),_e.lf_left+=nt.lf_left+(nt.piece?nt.piece.lineFeedCnt:0),nt.right=_e.left,_e.left!==rn&&(_e.left.parent=nt),_e.parent=nt.parent,nt.parent===rn?At.root=_e:nt.parent.left===nt?nt.parent.left=_e:nt.parent.right=_e,_e.left=nt,nt.parent=_e}function tt(At,nt){var _e=nt.left;nt.left=_e.right,_e.right!==rn&&(_e.right.parent=nt),_e.parent=nt.parent,nt.size_left-=_e.size_left+(_e.piece?_e.piece.length:0),nt.lf_left-=_e.lf_left+(_e.piece?_e.piece.lineFeedCnt:0),nt.parent===rn?At.root=_e:nt===nt.parent.right?nt.parent.right=_e:nt.parent.left=_e,_e.right=nt,nt.parent=_e}function Lt(At,nt){var _e,q;if(nt.left===rn?(q=nt,_e=q.right):nt.right===rn?(q=nt,_e=q.left):(q=bn(nt.right),_e=q.right),q===At.root){At.root=_e,_e.color=0,nt.detach(),_i(),At.root.parent=rn;return}var M=q.color===1;if(q===q.parent.left?q.parent.left=_e:q.parent.right=_e,q===nt?(_e.parent=q.parent,mr(At,_e)):(q.parent===nt?_e.parent=q:_e.parent=q.parent,mr(At,_e),q.left=nt.left,q.right=nt.right,q.parent=nt.parent,q.color=nt.color,nt===At.root?At.root=q:nt===nt.parent.left?nt.parent.left=q:nt.parent.right=q,q.left!==rn&&(q.left.parent=q),q.right!==rn&&(q.right.parent=q),q.size_left=nt.size_left,q.lf_left=nt.lf_left,mr(At,q)),nt.detach(),_e.parent.left===_e){var D=Ci(_e),G=yr(_e);if(D!==_e.parent.size_left||G!==_e.parent.lf_left){var oe=D-_e.parent.size_left,xe=G-_e.parent.lf_left;_e.parent.size_left=D,_e.parent.lf_left=G,Qi(At,_e.parent,oe,xe)}}if(mr(At,_e.parent),M){_i();return}for(var Ve;_e!==At.root&&_e.color===0;)_e===_e.parent.left?(Ve=_e.parent.right,Ve.color===1&&(Ve.color=0,_e.parent.color=1,Bn(At,_e.parent),Ve=_e.parent.right),Ve.left.color===0&&Ve.right.color===0?(Ve.color=1,_e=_e.parent):(Ve.right.color===0&&(Ve.left.color=0,Ve.color=1,tt(At,Ve),Ve=_e.parent.right),Ve.color=_e.parent.color,_e.parent.color=0,Ve.right.color=0,Bn(At,_e.parent),_e=At.root)):(Ve=_e.parent.left,Ve.color===1&&(Ve.color=0,_e.parent.color=1,tt(At,_e.parent),Ve=_e.parent.left),Ve.left.color===0&&Ve.right.color===0?(Ve.color=1,_e=_e.parent):(Ve.left.color===0&&(Ve.right.color=0,Ve.color=1,Bn(At,Ve),Ve=_e.parent.left),Ve.color=_e.parent.color,_e.parent.color=0,Ve.left.color=0,tt(At,_e.parent),_e=At.root));_e.color=0,_i()}function xi(At,nt){for(mr(At,nt);nt!==At.root&&nt.parent.color===1;)if(nt.parent===nt.parent.parent.left){var _e=nt.parent.parent.right;_e.color===1?(nt.parent.color=0,_e.color=0,nt.parent.parent.color=1,nt=nt.parent.parent):(nt===nt.parent.right&&(nt=nt.parent,Bn(At,nt)),nt.parent.color=0,nt.parent.parent.color=1,tt(At,nt.parent.parent))}else{var q=nt.parent.parent.left;q.color===1?(nt.parent.color=0,q.color=0,nt.parent.parent.color=1,nt=nt.parent.parent):(nt===nt.parent.left&&(nt=nt.parent,tt(At,nt)),nt.parent.color=0,nt.parent.parent.color=1,Bn(At,nt.parent.parent))}At.root.color=0}function Qi(At,nt,_e,q){for(;nt!==At.root&&nt!==rn;)nt.parent.left===nt&&(nt.parent.size_left+=_e,nt.parent.lf_left+=q),nt=nt.parent}function mr(At,nt){var _e=0,q=0;if(nt!==At.root){for(;nt!==At.root&&nt===nt.parent.right;)nt=nt.parent;if(nt!==At.root)for(nt=nt.parent,_e=Ci(nt.left)-nt.size_left,q=yr(nt.left)-nt.lf_left,nt.size_left+=_e,nt.lf_left+=q;nt!==At.root&&(_e!==0||q!==0);)nt.parent.left===nt&&(nt.parent.size_left+=_e,nt.parent.lf_left+=q),nt=nt.parent}}var pr=a("jAJ/"),St=65535;function Gi(At){var nt;return At[At.length-1]<65536?nt=new Uint16Array(At.length):nt=new Uint32Array(At.length),nt.set(At,0),nt}var an=Object(Q.a)(function At(nt,_e,q,M,D){Object(y.a)(this,At),this.lineStarts=nt,this.cr=_e,this.lf=q,this.crlf=M,this.isBasicASCII=D});function Qe(At){for(var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_e=[0],q=1,M=0,D=At.length;M<D;M++){var G=At.charCodeAt(M);G===13?M+1<D&&At.charCodeAt(M+1)===10?(_e[q++]=M+2,M++):_e[q++]=M+1:G===10&&(_e[q++]=M+1)}return nt?Gi(_e):_e}function Jn(At,nt){At.length=0,At[0]=0;for(var _e=1,q=0,M=0,D=0,G=!0,oe=0,xe=nt.length;oe<xe;oe++){var Ve=nt.charCodeAt(oe);Ve===13?oe+1<xe&&nt.charCodeAt(oe+1)===10?(D++,At[_e++]=oe+2,oe++):(q++,At[_e++]=oe+1):Ve===10?(M++,At[_e++]=oe+1):G&&Ve!==9&&(Ve<32||Ve>126)&&(G=!1)}var lt=new an(Gi(At),q,M,D,G);return At.length=0,lt}var ii=Object(Q.a)(function At(nt,_e,q,M,D){Object(y.a)(this,At),this.bufferIndex=nt,this.start=_e,this.end=q,this.lineFeedCnt=M,this.length=D}),Li=Object(Q.a)(function At(nt,_e){Object(y.a)(this,At),this.buffer=nt,this.lineStarts=_e}),Fn=function(){function At(nt,_e){var q=this;Object(y.a)(this,At),this._pieces=[],this._tree=nt,this._BOM=_e,this._index=0,nt.root!==rn&&nt.iterate(nt.root,function(M){return M!==rn&&q._pieces.push(M.piece),!0})}return Object(Q.a)(At,[{key:"read",value:function(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}]),At}(),jn=function(){function At(nt){Object(y.a)(this,At),this._limit=nt,this._cache=[]}return Object(Q.a)(At,[{key:"get",value:function(_e){for(var q=this._cache.length-1;q>=0;q--){var M=this._cache[q];if(M.nodeStartOffset<=_e&&M.nodeStartOffset+M.node.piece.length>=_e)return M}return null}},{key:"get2",value:function(_e){for(var q=this._cache.length-1;q>=0;q--){var M=this._cache[q];if(M.nodeStartLineNumber&&M.nodeStartLineNumber<_e&&M.nodeStartLineNumber+M.node.piece.lineFeedCnt>=_e)return M}return null}},{key:"set",value:function(_e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(_e)}},{key:"validate",value:function(_e){for(var q=!1,M=this._cache,D=0;D<M.length;D++){var G=M[D];if(G.node.parent===null||G.nodeStartOffset>=_e){M[D]=null,q=!0;continue}}if(q){var oe=[],xe=Object(le.a)(M),Ve;try{for(xe.s();!(Ve=xe.n()).done;){var lt=Ve.value;lt!==null&&oe.push(lt)}}catch(pt){xe.e(pt)}finally{xe.f()}this._cache=oe}}}]),At}(),Nt=function(){function At(nt,_e,q){Object(y.a)(this,At),this.create(nt,_e,q)}return Object(Q.a)(At,[{key:"create",value:function(_e,q,M){this._buffers=[new Li("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=rn,this._lineCnt=1,this._length=0,this._EOL=q,this._EOLLength=q.length,this._EOLNormalized=M;for(var D=null,G=0,oe=_e.length;G<oe;G++)if(_e[G].buffer.length>0){_e[G].lineStarts||(_e[G].lineStarts=Qe(_e[G].buffer));var xe=new ii(G+1,{line:0,column:0},{line:_e[G].lineStarts.length-1,column:_e[G].buffer.length-_e[G].lineStarts[_e[G].lineStarts.length-1]},_e[G].lineStarts.length-1,_e[G].buffer.length);this._buffers.push(_e[G]),D=this.rbInsertRight(D,xe)}this._searchCache=new jn(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}},{key:"normalizeEOL",value:function(_e){var q=this,M=St,D=M-Math.floor(M/3),G=D*2,oe="",xe=0,Ve=[];if(this.iterate(this.root,function(pt){var xt=q.getNodeContent(pt),sn=xt.length;if(xe<=D||xe+sn<G)return oe+=xt,xe+=sn,!0;var ln=oe.replace(/\r\n|\r|\n/g,_e);return Ve.push(new Li(ln,Qe(ln))),oe=xt,xe=sn,!0}),xe>0){var lt=oe.replace(/\r\n|\r|\n/g,_e);Ve.push(new Li(lt,Qe(lt)))}this.create(Ve,_e,!0)}},{key:"getEOL",value:function(){return this._EOL}},{key:"setEOL",value:function(_e){this._EOL=_e,this._EOLLength=this._EOL.length,this.normalizeEOL(_e)}},{key:"createSnapshot",value:function(_e){return new Fn(this,_e)}},{key:"getOffsetAt",value:function(_e,q){for(var M=0,D=this.root;D!==rn;)if(D.left!==rn&&D.lf_left+1>=_e)D=D.left;else if(D.lf_left+D.piece.lineFeedCnt+1>=_e){M+=D.size_left;var G=this.getAccumulatedValue(D,_e-D.lf_left-2);return M+=G+q-1}else _e-=D.lf_left+D.piece.lineFeedCnt,M+=D.size_left+D.piece.length,D=D.right;return M}},{key:"getPositionAt",value:function(_e){_e=Math.floor(_e),_e=Math.max(0,_e);for(var q=this.root,M=0,D=_e;q!==rn;)if(q.size_left!==0&&q.size_left>=_e)q=q.left;else if(q.size_left+q.piece.length>=_e){var G=this.getIndexOf(q,_e-q.size_left);if(M+=q.lf_left+G.index,G.index===0){var oe=this.getOffsetAt(M+1,1),xe=D-oe;return new d.a(M+1,xe+1)}return new d.a(M+1,G.remainder+1)}else if(_e-=q.size_left+q.piece.length,M+=q.lf_left+q.piece.lineFeedCnt,q.right===rn){var Ve=this.getOffsetAt(M+1,1),lt=D-_e-Ve;return new d.a(M+1,lt+1)}else q=q.right;return new d.a(1,1)}},{key:"getValueInRange",value:function(_e,q){if(_e.startLineNumber===_e.endLineNumber&&_e.startColumn===_e.endColumn)return"";var M=this.nodeAt2(_e.startLineNumber,_e.startColumn),D=this.nodeAt2(_e.endLineNumber,_e.endColumn),G=this.getValueInRange2(M,D);return q?q!==this._EOL||!this._EOLNormalized?G.replace(/\r\n|\r|\n/g,q):q===this.getEOL()&&this._EOLNormalized?G:G.replace(/\r\n|\r|\n/g,q):G}},{key:"getValueInRange2",value:function(_e,q){if(_e.node===q.node){var M=_e.node,D=this._buffers[M.piece.bufferIndex].buffer,G=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start);return D.substring(G+_e.remainder,G+q.remainder)}var oe=_e.node,xe=this._buffers[oe.piece.bufferIndex].buffer,Ve=this.offsetInBuffer(oe.piece.bufferIndex,oe.piece.start),lt=xe.substring(Ve+_e.remainder,Ve+oe.piece.length);for(oe=oe.next();oe!==rn;){var pt=this._buffers[oe.piece.bufferIndex].buffer,xt=this.offsetInBuffer(oe.piece.bufferIndex,oe.piece.start);if(oe===q.node){lt+=pt.substring(xt,xt+q.remainder);break}else lt+=pt.substr(xt,oe.piece.length);oe=oe.next()}return lt}},{key:"getLinesContent",value:function(){var _e=this,q=[],M=0,D="",G=!1;return this.iterate(this.root,function(oe){if(oe===rn)return!0;var xe=oe.piece,Ve=xe.length;if(Ve===0)return!0;var lt=_e._buffers[xe.bufferIndex].buffer,pt=_e._buffers[xe.bufferIndex].lineStarts,xt=xe.start.line,sn=xe.end.line,ln=pt[xt]+xe.start.column;if(G&&(lt.charCodeAt(ln)===10&&(ln++,Ve--),q[M++]=D,D="",G=!1,Ve===0))return!0;if(xt===sn)return!_e._EOLNormalized&&lt.charCodeAt(ln+Ve-1)===13?(G=!0,D+=lt.substr(ln,Ve-1)):D+=lt.substr(ln,Ve),!0;D+=_e._EOLNormalized?lt.substring(ln,Math.max(ln,pt[xt+1]-_e._EOLLength)):lt.substring(ln,pt[xt+1]).replace(/(\r\n|\r|\n)$/,""),q[M++]=D;for(var mn=xt+1;mn<sn;mn++)D=_e._EOLNormalized?lt.substring(pt[mn],pt[mn+1]-_e._EOLLength):lt.substring(pt[mn],pt[mn+1]).replace(/(\r\n|\r|\n)$/,""),q[M++]=D;return!_e._EOLNormalized&&lt.charCodeAt(pt[sn]+xe.end.column-1)===13?(G=!0,xe.end.column===0?M--:D=lt.substr(pt[sn],xe.end.column-1)):D=lt.substr(pt[sn],xe.end.column),!0}),G&&(q[M++]=D,D=""),q[M++]=D,q}},{key:"getLength",value:function(){return this._length}},{key:"getLineCount",value:function(){return this._lineCnt}},{key:"getLineContent",value:function(_e){return this._lastVisitedLine.lineNumber===_e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=_e,_e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(_e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(_e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(_e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}},{key:"_getCharCode",value:function(_e){if(_e.remainder===_e.node.piece.length){var q=_e.node.next();if(!q)return 0;var M=this._buffers[q.piece.bufferIndex],D=this.offsetInBuffer(q.piece.bufferIndex,q.piece.start);return M.buffer.charCodeAt(D)}else{var G=this._buffers[_e.node.piece.bufferIndex],oe=this.offsetInBuffer(_e.node.piece.bufferIndex,_e.node.piece.start),xe=oe+_e.remainder;return G.buffer.charCodeAt(xe)}}},{key:"getLineCharCode",value:function(_e,q){var M=this.nodeAt2(_e,q+1);return this._getCharCode(M)}},{key:"getLineLength",value:function(_e){if(_e===this.getLineCount()){var q=this.getOffsetAt(_e,1);return this.getLength()-q}return this.getOffsetAt(_e+1,1)-this.getOffsetAt(_e,1)-this._EOLLength}},{key:"findMatchesInNode",value:function(_e,q,M,D,G,oe,xe,Ve,lt,pt,xt){var sn=this._buffers[_e.piece.bufferIndex],ln=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start),mn=this.offsetInBuffer(_e.piece.bufferIndex,G),Tn=this.offsetInBuffer(_e.piece.bufferIndex,oe),ai,pi={line:0,column:0},yi,vi;q._wordSeparators?(yi=sn.buffer.substring(mn,Tn),vi=function(Gr){return Gr+mn},q.reset(0)):(yi=sn.buffer,vi=function(Gr){return Gr},q.reset(mn));do if(ai=q.next(yi),ai){if(vi(ai.index)>=Tn)return pt;this.positionInBuffer(_e,vi(ai.index)-ln,pi);var Bt=this.getLineFeedCnt(_e.piece.bufferIndex,G,pi),hr=pi.line===G.line?pi.column-G.column+D:pi.column+1,Ii=hr+ai[0].length;if(xt[pt++]=Object(pr.d)(new j.a(M+Bt,hr,M+Bt,Ii),ai,Ve),vi(ai.index)+ai[0].length>=Tn||pt>=lt)return pt}while(ai);return pt}},{key:"findMatchesLineByLine",value:function(_e,q,M,D){var G=[],oe=0,xe=new pr.b(q.wordSeparators,q.regex),Ve=this.nodeAt2(_e.startLineNumber,_e.startColumn);if(Ve===null)return[];var lt=this.nodeAt2(_e.endLineNumber,_e.endColumn);if(lt===null)return[];var pt=this.positionInBuffer(Ve.node,Ve.remainder),xt=this.positionInBuffer(lt.node,lt.remainder);if(Ve.node===lt.node)return this.findMatchesInNode(Ve.node,xe,_e.startLineNumber,_e.startColumn,pt,xt,q,M,D,oe,G),G;for(var sn=_e.startLineNumber,ln=Ve.node;ln!==lt.node;){var mn=this.getLineFeedCnt(ln.piece.bufferIndex,pt,ln.piece.end);if(mn>=1){var Tn=this._buffers[ln.piece.bufferIndex].lineStarts,ai=this.offsetInBuffer(ln.piece.bufferIndex,ln.piece.start),pi=Tn[pt.line+mn],yi=sn===_e.startLineNumber?_e.startColumn:1;if(oe=this.findMatchesInNode(ln,xe,sn,yi,pt,this.positionInBuffer(ln,pi-ai),q,M,D,oe,G),oe>=D)return G;sn+=mn}var vi=sn===_e.startLineNumber?_e.startColumn-1:0;if(sn===_e.endLineNumber){var Bt=this.getLineContent(sn).substring(vi,_e.endColumn-1);return oe=this._findMatchesInLine(q,xe,Bt,_e.endLineNumber,vi,oe,G,M,D),G}if(oe=this._findMatchesInLine(q,xe,this.getLineContent(sn).substr(vi),sn,vi,oe,G,M,D),oe>=D)return G;sn++,Ve=this.nodeAt2(sn,1),ln=Ve.node,pt=this.positionInBuffer(Ve.node,Ve.remainder)}if(sn===_e.endLineNumber){var hr=sn===_e.startLineNumber?_e.startColumn-1:0,Ii=this.getLineContent(sn).substring(hr,_e.endColumn-1);return oe=this._findMatchesInLine(q,xe,Ii,_e.endLineNumber,hr,oe,G,M,D),G}var Ar=sn===_e.startLineNumber?_e.startColumn:1;return oe=this.findMatchesInNode(lt.node,xe,sn,Ar,pt,xt,q,M,D,oe,G),G}},{key:"_findMatchesInLine",value:function(_e,q,M,D,G,oe,xe,Ve,lt){var pt=_e.wordSeparators;if(!Ve&&_e.simpleSearch){for(var xt=_e.simpleSearch,sn=xt.length,ln=M.length,mn=-sn;(mn=M.indexOf(xt,mn+sn))!==-1;)if((!pt||Object(pr.e)(pt,M,ln,mn,sn))&&(xe[oe++]=new z.b(new j.a(D,mn+1+G,D,mn+1+sn+G),null),oe>=lt))return oe;return oe}var Tn;q.reset(0);do if(Tn=q.next(M),Tn&&(xe[oe++]=Object(pr.d)(new j.a(D,Tn.index+1+G,D,Tn.index+1+Tn[0].length+G),Tn,Ve),oe>=lt))return oe;while(Tn);return oe}},{key:"insert",value:function(_e,q){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this._EOLNormalized=this._EOLNormalized&&M,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==rn){var D=this.nodeAt(_e),G=D.node,oe=D.remainder,xe=D.nodeStartOffset,Ve=G.piece,lt=Ve.bufferIndex,pt=this.positionInBuffer(G,oe);if(G.piece.bufferIndex===0&&Ve.end.line===this._lastChangeBufferPos.line&&Ve.end.column===this._lastChangeBufferPos.column&&xe+Ve.length===_e&&q.length<St){this.appendToNode(G,q),this.computeBufferMetadata();return}if(xe===_e)this.insertContentToNodeLeft(q,G),this._searchCache.validate(_e);else if(xe+G.piece.length>_e){var xt=[],sn=new ii(Ve.bufferIndex,pt,Ve.end,this.getLineFeedCnt(Ve.bufferIndex,pt,Ve.end),this.offsetInBuffer(lt,Ve.end)-this.offsetInBuffer(lt,pt));if(this.shouldCheckCRLF()&&this.endWithCR(q)){var ln=this.nodeCharCodeAt(G,oe);if(ln===10){var mn={line:sn.start.line+1,column:0};sn=new ii(sn.bufferIndex,mn,sn.end,this.getLineFeedCnt(sn.bufferIndex,mn,sn.end),sn.length-1),q+=`
`}}if(this.shouldCheckCRLF()&&this.startWithLF(q)){var Tn=this.nodeCharCodeAt(G,oe-1);if(Tn===13){var ai=this.positionInBuffer(G,oe-1);this.deleteNodeTail(G,ai),q="\r"+q,G.piece.length===0&&xt.push(G)}else this.deleteNodeTail(G,pt)}else this.deleteNodeTail(G,pt);var pi=this.createNewPieces(q);sn.length>0&&this.rbInsertRight(G,sn);for(var yi=G,vi=0;vi<pi.length;vi++)yi=this.rbInsertRight(yi,pi[vi]);this.deleteNodes(xt)}else this.insertContentToNodeRight(q,G)}else for(var Bt=this.createNewPieces(q),hr=this.rbInsertLeft(null,Bt[0]),Ii=1;Ii<Bt.length;Ii++)hr=this.rbInsertRight(hr,Bt[Ii]);this.computeBufferMetadata()}},{key:"delete",value:function(_e,q){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(q<=0||this.root===rn)){var M=this.nodeAt(_e),D=this.nodeAt(_e+q),G=M.node,oe=D.node;if(G===oe){var xe=this.positionInBuffer(G,M.remainder),Ve=this.positionInBuffer(G,D.remainder);if(M.nodeStartOffset===_e){if(q===G.piece.length){var lt=G.next();Lt(this,G),this.validateCRLFWithPrevNode(lt),this.computeBufferMetadata();return}this.deleteNodeHead(G,Ve),this._searchCache.validate(_e),this.validateCRLFWithPrevNode(G),this.computeBufferMetadata();return}if(M.nodeStartOffset+G.piece.length===_e+q){this.deleteNodeTail(G,xe),this.validateCRLFWithNextNode(G),this.computeBufferMetadata();return}this.shrinkNode(G,xe,Ve),this.computeBufferMetadata();return}var pt=[],xt=this.positionInBuffer(G,M.remainder);this.deleteNodeTail(G,xt),this._searchCache.validate(_e),G.piece.length===0&&pt.push(G);var sn=this.positionInBuffer(oe,D.remainder);this.deleteNodeHead(oe,sn),oe.piece.length===0&&pt.push(oe);for(var ln=G.next(),mn=ln;mn!==rn&&mn!==oe;mn=mn.next())pt.push(mn);var Tn=G.piece.length===0?G.prev():G;this.deleteNodes(pt),this.validateCRLFWithNextNode(Tn),this.computeBufferMetadata()}}},{key:"insertContentToNodeLeft",value:function(_e,q){var M=[];if(this.shouldCheckCRLF()&&this.endWithCR(_e)&&this.startWithLF(q)){var D=q.piece,G={line:D.start.line+1,column:0},oe=new ii(D.bufferIndex,G,D.end,this.getLineFeedCnt(D.bufferIndex,G,D.end),D.length-1);q.piece=oe,_e+=`
`,Qi(this,q,-1,-1),q.piece.length===0&&M.push(q)}for(var xe=this.createNewPieces(_e),Ve=this.rbInsertLeft(q,xe[xe.length-1]),lt=xe.length-2;lt>=0;lt--)Ve=this.rbInsertLeft(Ve,xe[lt]);this.validateCRLFWithPrevNode(Ve),this.deleteNodes(M)}},{key:"insertContentToNodeRight",value:function(_e,q){this.adjustCarriageReturnFromNext(_e,q)&&(_e+=`
`);for(var M=this.createNewPieces(_e),D=this.rbInsertRight(q,M[0]),G=D,oe=1;oe<M.length;oe++)G=this.rbInsertRight(G,M[oe]);this.validateCRLFWithPrevNode(D)}},{key:"positionInBuffer",value:function(_e,q,M){for(var D=_e.piece,G=_e.piece.bufferIndex,oe=this._buffers[G].lineStarts,xe=oe[D.start.line]+D.start.column,Ve=xe+q,lt=D.start.line,pt=D.end.line,xt=0,sn=0,ln=0;lt<=pt&&(xt=lt+(pt-lt)/2|0,ln=oe[xt],xt!==pt);)if(sn=oe[xt+1],Ve<ln)pt=xt-1;else if(Ve>=sn)lt=xt+1;else break;return M?(M.line=xt,M.column=Ve-ln,null):{line:xt,column:Ve-ln}}},{key:"getLineFeedCnt",value:function(_e,q,M){if(M.column===0)return M.line-q.line;var D=this._buffers[_e].lineStarts;if(M.line===D.length-1)return M.line-q.line;var G=D[M.line+1],oe=D[M.line]+M.column;if(G>oe+1)return M.line-q.line;var xe=oe-1,Ve=this._buffers[_e].buffer;return Ve.charCodeAt(xe)===13?M.line-q.line+1:M.line-q.line}},{key:"offsetInBuffer",value:function(_e,q){var M=this._buffers[_e].lineStarts;return M[q.line]+q.column}},{key:"deleteNodes",value:function(_e){for(var q=0;q<_e.length;q++)Lt(this,_e[q])}},{key:"createNewPieces",value:function(_e){if(_e.length>St){for(var q=[];_e.length>St;){var M=_e.charCodeAt(St-1),D=void 0;M===13||M>=55296&&M<=56319?(D=_e.substring(0,St-1),_e=_e.substring(St-1)):(D=_e.substring(0,St),_e=_e.substring(St));var G=Qe(D);q.push(new ii(this._buffers.length,{line:0,column:0},{line:G.length-1,column:D.length-G[G.length-1]},G.length-1,D.length)),this._buffers.push(new Li(D,G))}var oe=Qe(_e);return q.push(new ii(this._buffers.length,{line:0,column:0},{line:oe.length-1,column:_e.length-oe[oe.length-1]},oe.length-1,_e.length)),this._buffers.push(new Li(_e,oe)),q}var xe=this._buffers[0].buffer.length,Ve=Qe(_e,!1),lt=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===xe&&xe!==0&&this.startWithLF(_e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},lt=this._lastChangeBufferPos;for(var pt=0;pt<Ve.length;pt++)Ve[pt]+=xe+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Ve.slice(1)),this._buffers[0].buffer+="_"+_e,xe+=1}else{if(xe!==0)for(var xt=0;xt<Ve.length;xt++)Ve[xt]+=xe;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Ve.slice(1)),this._buffers[0].buffer+=_e}var sn=this._buffers[0].buffer.length,ln=this._buffers[0].lineStarts.length-1,mn=sn-this._buffers[0].lineStarts[ln],Tn={line:ln,column:mn},ai=new ii(0,lt,Tn,this.getLineFeedCnt(0,lt,Tn),sn-xe);return this._lastChangeBufferPos=Tn,[ai]}},{key:"getLineRawContent",value:function(_e){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=this.root,D="",G=this._searchCache.get2(_e);if(G){M=G.node;var oe=this.getAccumulatedValue(M,_e-G.nodeStartLineNumber-1),xe=this._buffers[M.piece.bufferIndex].buffer,Ve=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start);if(G.nodeStartLineNumber+M.piece.lineFeedCnt===_e)D=xe.substring(Ve+oe,Ve+M.piece.length);else{var lt=this.getAccumulatedValue(M,_e-G.nodeStartLineNumber);return xe.substring(Ve+oe,Ve+lt-q)}}else for(var pt=0,xt=_e;M!==rn;)if(M.left!==rn&&M.lf_left>=_e-1)M=M.left;else if(M.lf_left+M.piece.lineFeedCnt>_e-1){var sn=this.getAccumulatedValue(M,_e-M.lf_left-2),ln=this.getAccumulatedValue(M,_e-M.lf_left-1),mn=this._buffers[M.piece.bufferIndex].buffer,Tn=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start);return pt+=M.size_left,this._searchCache.set({node:M,nodeStartOffset:pt,nodeStartLineNumber:xt-(_e-1-M.lf_left)}),mn.substring(Tn+sn,Tn+ln-q)}else if(M.lf_left+M.piece.lineFeedCnt===_e-1){var ai=this.getAccumulatedValue(M,_e-M.lf_left-2),pi=this._buffers[M.piece.bufferIndex].buffer,yi=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start);D=pi.substring(yi+ai,yi+M.piece.length);break}else _e-=M.lf_left+M.piece.lineFeedCnt,pt+=M.size_left+M.piece.length,M=M.right;for(M=M.next();M!==rn;){var vi=this._buffers[M.piece.bufferIndex].buffer;if(M.piece.lineFeedCnt>0){var Bt=this.getAccumulatedValue(M,0),hr=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start);return D+=vi.substring(hr,hr+Bt-q),D}else{var Ii=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start);D+=vi.substr(Ii,M.piece.length)}M=M.next()}return D}},{key:"computeBufferMetadata",value:function(){for(var _e=this.root,q=1,M=0;_e!==rn;)q+=_e.lf_left+_e.piece.lineFeedCnt,M+=_e.size_left+_e.piece.length,_e=_e.right;this._lineCnt=q,this._length=M,this._searchCache.validate(this._length)}},{key:"getIndexOf",value:function(_e,q){var M=_e.piece,D=this.positionInBuffer(_e,q),G=D.line-M.start.line;if(this.offsetInBuffer(M.bufferIndex,M.end)-this.offsetInBuffer(M.bufferIndex,M.start)===q){var oe=this.getLineFeedCnt(_e.piece.bufferIndex,M.start,D);if(oe!==G)return{index:oe,remainder:0}}return{index:G,remainder:D.column}}},{key:"getAccumulatedValue",value:function(_e,q){if(q<0)return 0;var M=_e.piece,D=this._buffers[M.bufferIndex].lineStarts,G=M.start.line+q+1;return G>M.end.line?D[M.end.line]+M.end.column-D[M.start.line]-M.start.column:D[G]-D[M.start.line]-M.start.column}},{key:"deleteNodeTail",value:function(_e,q){var M=_e.piece,D=M.lineFeedCnt,G=this.offsetInBuffer(M.bufferIndex,M.end),oe=q,xe=this.offsetInBuffer(M.bufferIndex,oe),Ve=this.getLineFeedCnt(M.bufferIndex,M.start,oe),lt=Ve-D,pt=xe-G,xt=M.length+pt;_e.piece=new ii(M.bufferIndex,M.start,oe,Ve,xt),Qi(this,_e,pt,lt)}},{key:"deleteNodeHead",value:function(_e,q){var M=_e.piece,D=M.lineFeedCnt,G=this.offsetInBuffer(M.bufferIndex,M.start),oe=q,xe=this.getLineFeedCnt(M.bufferIndex,oe,M.end),Ve=this.offsetInBuffer(M.bufferIndex,oe),lt=xe-D,pt=G-Ve,xt=M.length+pt;_e.piece=new ii(M.bufferIndex,oe,M.end,xe,xt),Qi(this,_e,pt,lt)}},{key:"shrinkNode",value:function(_e,q,M){var D=_e.piece,G=D.start,oe=D.end,xe=D.length,Ve=D.lineFeedCnt,lt=q,pt=this.getLineFeedCnt(D.bufferIndex,D.start,lt),xt=this.offsetInBuffer(D.bufferIndex,q)-this.offsetInBuffer(D.bufferIndex,G);_e.piece=new ii(D.bufferIndex,D.start,lt,pt,xt),Qi(this,_e,xt-xe,pt-Ve);var sn=new ii(D.bufferIndex,M,oe,this.getLineFeedCnt(D.bufferIndex,M,oe),this.offsetInBuffer(D.bufferIndex,oe)-this.offsetInBuffer(D.bufferIndex,M)),ln=this.rbInsertRight(_e,sn);this.validateCRLFWithPrevNode(ln)}},{key:"appendToNode",value:function(_e,q){this.adjustCarriageReturnFromNext(q,_e)&&(q+=`
`);var M=this.shouldCheckCRLF()&&this.startWithLF(q)&&this.endWithCR(_e),D=this._buffers[0].buffer.length;this._buffers[0].buffer+=q;for(var G=Qe(q,!1),oe=0;oe<G.length;oe++)G[oe]+=D;if(M){var xe=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:D-xe}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(G.slice(1));var Ve=this._buffers[0].lineStarts.length-1,lt=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Ve],pt={line:Ve,column:lt},xt=_e.piece.length+q.length,sn=_e.piece.lineFeedCnt,ln=this.getLineFeedCnt(0,_e.piece.start,pt),mn=ln-sn;_e.piece=new ii(_e.piece.bufferIndex,_e.piece.start,pt,ln,xt),this._lastChangeBufferPos=pt,Qi(this,_e,q.length,mn)}},{key:"nodeAt",value:function(_e){var q=this.root,M=this._searchCache.get(_e);if(M)return{node:M.node,nodeStartOffset:M.nodeStartOffset,remainder:_e-M.nodeStartOffset};for(var D=0;q!==rn;)if(q.size_left>_e)q=q.left;else if(q.size_left+q.piece.length>=_e){D+=q.size_left;var G={node:q,remainder:_e-q.size_left,nodeStartOffset:D};return this._searchCache.set(G),G}else _e-=q.size_left+q.piece.length,D+=q.size_left+q.piece.length,q=q.right;return null}},{key:"nodeAt2",value:function(_e,q){for(var M=this.root,D=0;M!==rn;)if(M.left!==rn&&M.lf_left>=_e-1)M=M.left;else if(M.lf_left+M.piece.lineFeedCnt>_e-1){var G=this.getAccumulatedValue(M,_e-M.lf_left-2),oe=this.getAccumulatedValue(M,_e-M.lf_left-1);return D+=M.size_left,{node:M,remainder:Math.min(G+q-1,oe),nodeStartOffset:D}}else if(M.lf_left+M.piece.lineFeedCnt===_e-1){var xe=this.getAccumulatedValue(M,_e-M.lf_left-2);if(xe+q-1<=M.piece.length)return{node:M,remainder:xe+q-1,nodeStartOffset:D};q-=M.piece.length-xe;break}else _e-=M.lf_left+M.piece.lineFeedCnt,D+=M.size_left+M.piece.length,M=M.right;for(M=M.next();M!==rn;){if(M.piece.lineFeedCnt>0){var Ve=this.getAccumulatedValue(M,0),lt=this.offsetOfNode(M);return{node:M,remainder:Math.min(q-1,Ve),nodeStartOffset:lt}}else if(M.piece.length>=q-1){var pt=this.offsetOfNode(M);return{node:M,remainder:q-1,nodeStartOffset:pt}}else q-=M.piece.length;M=M.next()}return null}},{key:"nodeCharCodeAt",value:function(_e,q){if(_e.piece.lineFeedCnt<1)return-1;var M=this._buffers[_e.piece.bufferIndex],D=this.offsetInBuffer(_e.piece.bufferIndex,_e.piece.start)+q;return M.buffer.charCodeAt(D)}},{key:"offsetOfNode",value:function(_e){if(!_e)return 0;for(var q=_e.size_left;_e!==this.root;)_e.parent.right===_e&&(q+=_e.parent.size_left+_e.parent.piece.length),_e=_e.parent;return q}},{key:"shouldCheckCRLF",value:function(){return!(this._EOLNormalized&&this._EOL===`
`)}},{key:"startWithLF",value:function(_e){if(typeof _e=="string")return _e.charCodeAt(0)===10;if(_e===rn||_e.piece.lineFeedCnt===0)return!1;var q=_e.piece,M=this._buffers[q.bufferIndex].lineStarts,D=q.start.line,G=M[D]+q.start.column;if(D===M.length-1)return!1;var oe=M[D+1];return oe>G+1?!1:this._buffers[q.bufferIndex].buffer.charCodeAt(G)===10}},{key:"endWithCR",value:function(_e){return typeof _e=="string"?_e.charCodeAt(_e.length-1)===13:_e===rn||_e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(_e,_e.piece.length-1)===13}},{key:"validateCRLFWithPrevNode",value:function(_e){if(this.shouldCheckCRLF()&&this.startWithLF(_e)){var q=_e.prev();this.endWithCR(q)&&this.fixCRLF(q,_e)}}},{key:"validateCRLFWithNextNode",value:function(_e){if(this.shouldCheckCRLF()&&this.endWithCR(_e)){var q=_e.next();this.startWithLF(q)&&this.fixCRLF(_e,q)}}},{key:"fixCRLF",value:function(_e,q){var M=[],D=this._buffers[_e.piece.bufferIndex].lineStarts,G;_e.piece.end.column===0?G={line:_e.piece.end.line-1,column:D[_e.piece.end.line]-D[_e.piece.end.line-1]-1}:G={line:_e.piece.end.line,column:_e.piece.end.column-1};var oe=_e.piece.length-1,xe=_e.piece.lineFeedCnt-1;_e.piece=new ii(_e.piece.bufferIndex,_e.piece.start,G,xe,oe),Qi(this,_e,-1,-1),_e.piece.length===0&&M.push(_e);var Ve={line:q.piece.start.line+1,column:0},lt=q.piece.length-1,pt=this.getLineFeedCnt(q.piece.bufferIndex,Ve,q.piece.end);q.piece=new ii(q.piece.bufferIndex,Ve,q.piece.end,pt,lt),Qi(this,q,-1,-1),q.piece.length===0&&M.push(q);var xt=this.createNewPieces(`\r
`);this.rbInsertRight(_e,xt[0]);for(var sn=0;sn<M.length;sn++)Lt(this,M[sn])}},{key:"adjustCarriageReturnFromNext",value:function(_e,q){if(this.shouldCheckCRLF()&&this.endWithCR(_e)){var M=q.next();if(this.startWithLF(M)){if(_e+=`
`,M.piece.length===1)Lt(this,M);else{var D=M.piece,G={line:D.start.line+1,column:0},oe=D.length-1,xe=this.getLineFeedCnt(D.bufferIndex,G,D.end);M.piece=new ii(D.bufferIndex,G,D.end,xe,oe),Qi(this,M,-1,-1)}return!0}}return!1}},{key:"iterate",value:function(_e,q){if(_e===rn)return q(rn);var M=this.iterate(_e.left,q);return M&&q(_e)&&this.iterate(_e.right,q)}},{key:"getNodeContent",value:function(_e){if(_e===rn)return"";var q=this._buffers[_e.piece.bufferIndex],M=_e.piece,D=this.offsetInBuffer(M.bufferIndex,M.start),G=this.offsetInBuffer(M.bufferIndex,M.end),oe=q.buffer.substring(D,G);return oe}},{key:"getPieceContent",value:function(_e){var q=this._buffers[_e.bufferIndex],M=this.offsetInBuffer(_e.bufferIndex,_e.start),D=this.offsetInBuffer(_e.bufferIndex,_e.end),G=q.buffer.substring(M,D);return G}},{key:"rbInsertRight",value:function(_e,q){var M=new gn(q,1);M.left=rn,M.right=rn,M.parent=rn,M.size_left=0,M.lf_left=0;var D=this.root;if(D===rn)this.root=M,M.color=0;else if(_e.right===rn)_e.right=M,M.parent=_e;else{var G=bn(_e.right);G.left=M,M.parent=G}return xi(this,M),M}},{key:"rbInsertLeft",value:function(_e,q){var M=new gn(q,1);if(M.left=rn,M.right=rn,M.parent=rn,M.size_left=0,M.lf_left=0,this.root===rn)this.root=M,M.color=0;else if(_e.left===rn)_e.left=M,M.parent=_e;else{var D=Qn(_e.left);D.right=M,M.parent=D}return xi(this,M),M}}]),At}(),Gt=a("jRcv"),Et=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q,M,D,G,oe,xe,Ve){var lt;return Object(y.a)(this,_e),lt=nt.call(this),lt._onDidChangeContent=lt._register(new H.b),lt._BOM=M,lt._mightContainNonBasicASCII=!xe,lt._mightContainRTL=G,lt._mightContainUnusualLineTerminators=oe,lt._pieceTree=new Nt(q,D,Ve),lt}return Object(Q.a)(_e,[{key:"mightContainRTL",value:function(){return this._mightContainRTL}},{key:"mightContainUnusualLineTerminators",value:function(){return this._mightContainUnusualLineTerminators}},{key:"resetMightContainUnusualLineTerminators",value:function(){this._mightContainUnusualLineTerminators=!1}},{key:"mightContainNonBasicASCII",value:function(){return this._mightContainNonBasicASCII}},{key:"getBOM",value:function(){return this._BOM}},{key:"getEOL",value:function(){return this._pieceTree.getEOL()}},{key:"createSnapshot",value:function(M){return this._pieceTree.createSnapshot(M?this._BOM:"")}},{key:"getOffsetAt",value:function(M,D){return this._pieceTree.getOffsetAt(M,D)}},{key:"getPositionAt",value:function(M){return this._pieceTree.getPositionAt(M)}},{key:"getRangeAt",value:function(M,D){var G=M+D,oe=this.getPositionAt(M),xe=this.getPositionAt(G);return new j.a(oe.lineNumber,oe.column,xe.lineNumber,xe.column)}},{key:"getValueInRange",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(M.isEmpty())return"";var G=this._getEndOfLine(D);return this._pieceTree.getValueInRange(M,G)}},{key:"getValueLengthInRange",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(M.isEmpty())return 0;if(M.startLineNumber===M.endLineNumber)return M.endColumn-M.startColumn;var G=this.getOffsetAt(M.startLineNumber,M.startColumn),oe=this.getOffsetAt(M.endLineNumber,M.endColumn),xe=0,Ve=this._getEndOfLine(D),lt=this.getEOL();if(Ve.length!==lt.length){var pt=Ve.length-lt.length,xt=M.endLineNumber-M.startLineNumber;xe=pt*xt}return oe-G+xe}},{key:"getCharacterCountInRange",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._mightContainNonBasicASCII){for(var G=0,oe=M.startLineNumber,xe=M.endLineNumber,Ve=oe;Ve<=xe;Ve++)for(var lt=this.getLineContent(Ve),pt=Ve===oe?M.startColumn-1:0,xt=Ve===xe?M.endColumn-1:lt.length,sn=pt;sn<xt;sn++)F.F(lt.charCodeAt(sn))?(G=G+1,sn=sn+1):G=G+1;return G+=this._getEndOfLine(D).length*(xe-oe),G}return this.getValueLengthInRange(M,D)}},{key:"getLength",value:function(){return this._pieceTree.getLength()}},{key:"getLineCount",value:function(){return this._pieceTree.getLineCount()}},{key:"getLinesContent",value:function(){return this._pieceTree.getLinesContent()}},{key:"getLineContent",value:function(M){return this._pieceTree.getLineContent(M)}},{key:"getLineCharCode",value:function(M,D){return this._pieceTree.getLineCharCode(M,D)}},{key:"getLineLength",value:function(M){return this._pieceTree.getLineLength(M)}},{key:"getLineFirstNonWhitespaceColumn",value:function(M){var D=F.u(this.getLineContent(M));return D===-1?0:D+1}},{key:"getLineLastNonWhitespaceColumn",value:function(M){var D=F.J(this.getLineContent(M));return D===-1?0:D+2}},{key:"_getEndOfLine",value:function(M){switch(M){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}},{key:"setEOL",value:function(M){this._pieceTree.setEOL(M)}},{key:"applyEdits",value:function(M,D,G){for(var oe=this._mightContainRTL,xe=this._mightContainUnusualLineTerminators,Ve=this._mightContainNonBasicASCII,lt=!0,pt=[],xt=0;xt<M.length;xt++){var sn=M[xt];lt&&sn._isTracked&&(lt=!1);var ln=sn.range;if(sn.text){var mn=!0;Ve||(mn=!F.B(sn.text),Ve=mn),!oe&&mn&&(oe=F.m(sn.text)),!xe&&mn&&(xe=F.n(sn.text))}var Tn="",ai=0,pi=0,yi=0;if(sn.text){var vi=void 0,Bt=Object(N.a)(sn.text),hr=Object(De.a)(Bt,4);ai=hr[0],pi=hr[1],yi=hr[2],vi=hr[3];var Ii=this.getEOL(),Ar=Ii===`\r
`?2:1;vi===0||vi===Ar?Tn=sn.text:Tn=sn.text.replace(/\r\n|\r|\n/g,Ii)}pt[xt]={sortIndex:xt,identifier:sn.identifier||null,range:ln,rangeOffset:this.getOffsetAt(ln.startLineNumber,ln.startColumn),rangeLength:this.getValueLengthInRange(ln),text:Tn,eolCount:ai,firstLineLength:pi,lastLineLength:yi,forceMoveMarkers:Boolean(sn.forceMoveMarkers),isAutoWhitespaceEdit:sn.isAutoWhitespaceEdit||!1}}pt.sort(_e._sortOpsAscending);for(var Gr=!1,ea=0,ya=pt.length-1;ea<ya;ea++){var Da=pt[ea].range.getEndPosition(),ta=pt[ea+1].range.getStartPosition();if(ta.isBeforeOrEqual(Da)){if(ta.isBefore(Da))throw new Error("Overlapping ranges are not allowed!");Gr=!0}}lt&&(pt=this._reduceOperations(pt));var Ya=G||D?_e._getInverseEditRanges(pt):[],Va=[];if(D)for(var mo=0;mo<pt.length;mo++){var po=pt[mo],zo=Ya[mo];if(po.isAutoWhitespaceEdit&&po.range.isEmpty())for(var Ss=zo.startLineNumber;Ss<=zo.endLineNumber;Ss++){var Xo="";Ss===zo.startLineNumber&&(Xo=this.getLineContent(po.range.startLineNumber),F.u(Xo)!==-1)||Va.push({lineNumber:Ss,oldContent:Xo})}}var Ko=null;if(G){var ds=0;Ko=[];for(var go=0;go<pt.length;go++){var Go=pt[go],Jo=Ya[go],$o=this.getValueInRange(Go.range),As=Go.rangeOffset+ds;ds+=Go.text.length-$o.length,Ko[go]={sortIndex:Go.sortIndex,identifier:Go.identifier,range:Jo,text:$o,textChange:new Gt.a(Go.rangeOffset,$o,As,Go.text)}}Gr||Ko.sort(function(dl,Wl){return dl.sortIndex-Wl.sortIndex})}this._mightContainRTL=oe,this._mightContainUnusualLineTerminators=xe,this._mightContainNonBasicASCII=Ve;var ou=this._doApplyEdits(pt),su=null;if(D&&Va.length>0){Va.sort(function(dl,Wl){return Wl.lineNumber-dl.lineNumber}),su=[];for(var Es=0,ul=Va.length;Es<ul;Es++){var Us=Va[Es].lineNumber;if(!(Es>0&&Va[Es-1].lineNumber===Us)){var lu=Va[Es].oldContent,cl=this.getLineContent(Us);cl.length===0||cl===lu||F.u(cl)!==-1||su.push(Us)}}}return this._onDidChangeContent.fire(),new z.a(Ko,ou,su)}},{key:"_reduceOperations",value:function(M){return M.length<1e3?M:[this._toSingleEditOperation(M)]}},{key:"_toSingleEditOperation",value:function(M){for(var D=!1,G=M[0].range,oe=M[M.length-1].range,xe=new j.a(G.startLineNumber,G.startColumn,oe.endLineNumber,oe.endColumn),Ve=G.startLineNumber,lt=G.startColumn,pt=[],xt=0,sn=M.length;xt<sn;xt++){var ln=M[xt],mn=ln.range;D=D||ln.forceMoveMarkers,pt.push(this.getValueInRange(new j.a(Ve,lt,mn.startLineNumber,mn.startColumn))),ln.text.length>0&&pt.push(ln.text),Ve=mn.endLineNumber,lt=mn.endColumn}var Tn=pt.join(""),ai=Object(N.a)(Tn),pi=Object(De.a)(ai,3),yi=pi[0],vi=pi[1],Bt=pi[2];return{sortIndex:0,identifier:M[0].identifier,range:xe,rangeOffset:this.getOffsetAt(xe.startLineNumber,xe.startColumn),rangeLength:this.getValueLengthInRange(xe,0),text:Tn,eolCount:yi,firstLineLength:vi,lastLineLength:Bt,forceMoveMarkers:D,isAutoWhitespaceEdit:!1}}},{key:"_doApplyEdits",value:function(M){M.sort(_e._sortOpsDescending);for(var D=[],G=0;G<M.length;G++){var oe=M[G],xe=oe.range.startLineNumber,Ve=oe.range.startColumn,lt=oe.range.endLineNumber,pt=oe.range.endColumn;if(!(xe===lt&&Ve===pt&&oe.text.length===0)){oe.text?(this._pieceTree.delete(oe.rangeOffset,oe.rangeLength),this._pieceTree.insert(oe.rangeOffset,oe.text,!0)):this._pieceTree.delete(oe.rangeOffset,oe.rangeLength);var xt=new j.a(xe,Ve,lt,pt);D.push({range:xt,rangeLength:oe.rangeLength,text:oe.text,rangeOffset:oe.rangeOffset,forceMoveMarkers:oe.forceMoveMarkers})}}return D}},{key:"findMatchesLineByLine",value:function(M,D,G,oe){return this._pieceTree.findMatchesLineByLine(M,D,G,oe)}}],[{key:"_getInverseEditRanges",value:function(M){for(var D=[],G=0,oe=0,xe=null,Ve=0,lt=M.length;Ve<lt;Ve++){var pt=M[Ve],xt=void 0,sn=void 0;xe?xe.range.endLineNumber===pt.range.startLineNumber?(xt=G,sn=oe+(pt.range.startColumn-xe.range.endColumn)):(xt=G+(pt.range.startLineNumber-xe.range.endLineNumber),sn=pt.range.startColumn):(xt=pt.range.startLineNumber,sn=pt.range.startColumn);var ln=void 0;if(pt.text.length>0){var mn=pt.eolCount+1;mn===1?ln=new j.a(xt,sn,xt,sn+pt.firstLineLength):ln=new j.a(xt,sn,xt+mn-1,pt.lastLineLength+1)}else ln=new j.a(xt,sn,xt,sn);G=ln.endLineNumber,oe=ln.endColumn,D.push(ln),xe=pt}return D}},{key:"_sortOpsAscending",value:function(M,D){var G=j.a.compareRangesUsingEnds(M.range,D.range);return G===0?M.sortIndex-D.sortIndex:G}},{key:"_sortOpsDescending",value:function(M,D){var G=j.a.compareRangesUsingEnds(M.range,D.range);return G===0?D.sortIndex-M.sortIndex:-G}}]),_e}(W.a),Rt=function(){function At(nt,_e,q,M,D,G,oe,xe,Ve){Object(y.a)(this,At),this._chunks=nt,this._bom=_e,this._cr=q,this._lf=M,this._crlf=D,this._containsRTL=G,this._containsUnusualLineTerminators=oe,this._isBasicASCII=xe,this._normalizeEOL=Ve}return Object(Q.a)(At,[{key:"_getEOL",value:function(_e){var q=this._cr+this._lf+this._crlf,M=this._cr+this._crlf;return q===0?_e===1?`
`:`\r
`:M>q/2?`\r
`:`
`}},{key:"create",value:function(_e){var q=this._getEOL(_e),M=this._chunks;if(this._normalizeEOL&&(q===`\r
`&&(this._cr>0||this._lf>0)||q===`
`&&(this._cr>0||this._crlf>0)))for(var D=0,G=M.length;D<G;D++){var oe=M[D].buffer.replace(/\r\n|\r|\n/g,q),xe=Qe(oe);M[D]=new Li(oe,xe)}var Ve=new Et(M,this._bom,q,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Ve,disposable:Ve}}}]),At}(),dn=function(){function At(){Object(y.a)(this,At),this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}return Object(Q.a)(At,[{key:"acceptChunk",value:function(_e){if(_e.length!==0){this.chunks.length===0&&F.U(_e)&&(this.BOM=F.e,_e=_e.substr(1));var q=_e.charCodeAt(_e.length-1);q===13||q>=55296&&q<=56319?(this._acceptChunk1(_e.substr(0,_e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=q):(this._acceptChunk1(_e,!1),this._hasPreviousChar=!1,this._previousChar=q)}}},{key:"_acceptChunk1",value:function(_e,q){!q&&_e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+_e):this._acceptChunk2(_e))}},{key:"_acceptChunk2",value:function(_e){var q=Jn(this._tmpLineStarts,_e);this.chunks.push(new Li(_e,q.lineStarts)),this.cr+=q.cr,this.lf+=q.lf,this.crlf+=q.crlf,q.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=F.m(_e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=F.n(_e)))}},{key:"finish",value:function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this._finish(),new Rt(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,_e)}},{key:"_finish",value:function(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;var _e=this.chunks[this.chunks.length-1];_e.buffer+=String.fromCharCode(this._previousChar);var q=Qe(_e.buffer);_e.lineStarts=q,this._previousChar===13&&this.cr++}}}]),At}(),et=a("oBTY"),Ze=a("X+cX"),on=a("VHWv"),tn=a("h5s8"),Dt=a("LloX"),pn=a("j9oM"),ti=a("MNsG"),kn=a("5Y4S"),Vt=a("7/IO"),Oi=a("7AJZ"),Yi=function(){function At(nt){Object(y.a)(this,At),this._default=nt,this._store=[]}return Object(Q.a)(At,[{key:"get",value:function(_e){return _e<this._store.length?this._store[_e]:this._default}},{key:"set",value:function(_e,q){for(;_e>=this._store.length;)this._store[this._store.length]=this._default;this._store[_e]=q}},{key:"replace",value:function(_e,q,M){if(!(_e>=this._store.length)){if(q===0){this.insert(_e,M);return}else if(M===0){this.delete(_e,q);return}var D=this._store.slice(0,_e),G=this._store.slice(_e+q),oe=Hi(M,this._default);this._store=D.concat(oe,G)}}},{key:"delete",value:function(_e,q){q===0||_e>=this._store.length||this._store.splice(_e,q)}},{key:"insert",value:function(_e,q){if(!(q===0||_e>=this._store.length)){for(var M=[],D=0;D<q;D++)M[D]=this._default;this._store=Object(L.c)(this._store,_e,M)}}}]),At}();function Hi(At,nt){for(var _e=[],q=0;q<At;q++)_e[q]=nt;return _e}var qi=function(){function At(nt,_e){Object(y.a)(this,At),this._startLineNumber=nt,this._tokens=_e}return Object(Q.a)(At,[{key:"startLineNumber",get:function(){return this._startLineNumber}},{key:"endLineNumber",get:function(){return this._startLineNumber+this._tokens.length-1}},{key:"getLineTokens",value:function(_e){return this._tokens[_e-this._startLineNumber]}},{key:"appendLineTokens",value:function(_e){this._tokens.push(_e)}}]),At}(),Qr=function(){function At(){Object(y.a)(this,At),this._tokens=[]}return Object(Q.a)(At,[{key:"add",value:function(_e,q){if(this._tokens.length>0){var M=this._tokens[this._tokens.length-1];if(M.endLineNumber+1===_e){M.appendLineTokens(q);return}}this._tokens.push(new qi(_e,[q]))}},{key:"finalize",value:function(){return this._tokens}}]),At}(),Mr=a("zhcO"),na=function(){function At(nt,_e){Object(y.a)(this,At),this.tokenizationSupport=_e,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new ha(nt)}return Object(Q.a)(At,[{key:"getStartState",value:function(_e){return _e===1?this.initialState:this.store.getEndState(_e-1)}}]),At}(),Br=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q,M,D,G){var oe;return Object(y.a)(this,_e),oe=nt.call(this,q,M),oe._textModel=D,oe._languageIdCodec=G,oe}return Object(Q.a)(_e,[{key:"updateTokensUntilLine",value:function(M,D){for(var G=this._textModel.getLanguageId();;){var oe=this.store.getFirstInvalidEndStateLineNumber();if(!oe||oe>D)break;var xe=this._textModel.getLineContent(oe),Ve=this.getStartState(oe),lt=ut(this._languageIdCodec,G,this.tokenizationSupport,xe,!0,Ve);M.add(oe,lt.tokens),this.store.setEndState(oe,lt.endState)}}},{key:"getTokenTypeIfInsertingCharacter",value:function(M,D){var G=this.getStartState(M.lineNumber);if(!G)return 0;var oe=this._textModel.getLanguageId(),xe=this._textModel.getLineContent(M.lineNumber),Ve=xe.substring(0,M.column-1)+D+xe.substring(M.column-1),lt=ut(this._languageIdCodec,oe,this.tokenizationSupport,Ve,!0,G),pt=new Mr.a(lt.tokens,Ve,this._languageIdCodec);if(pt.getCount()===0)return 0;var xt=pt.findTokenIndexAtOffset(M.column-1);return pt.getStandardTokenType(xt)}},{key:"tokenizeLineWithEdit",value:function(M,D,G){var oe=M.lineNumber,xe=M.column,Ve=this.getStartState(oe);if(!Ve)return null;var lt=this._textModel.getLineContent(oe),pt=lt.substring(0,xe-1)+G+lt.substring(xe-1+D),xt=this._textModel.getLanguageIdAtPosition(oe,0),sn=ut(this._languageIdCodec,xt,this.tokenizationSupport,pt,!0,Ve),ln=new Mr.a(sn.tokens,pt,this._languageIdCodec);return ln}},{key:"isCheapToTokenize",value:function(M){var D=this.store.getFirstInvalidEndStateLineNumberOrMax();return M<D||M===D&&this._textModel.getLineLength(M)<2048}},{key:"tokenizeHeuristically",value:function(M,D,G){if(G<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(D<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(M,G),{heuristicTokens:!1};for(var oe=this.guessStartState(D),xe=this._textModel.getLanguageId(),Ve=D;Ve<=G;Ve++){var lt=this._textModel.getLineContent(Ve),pt=ut(this._languageIdCodec,xe,this.tokenizationSupport,lt,!0,oe);M.add(Ve,pt.tokens),oe=pt.endState}return{heuristicTokens:!0}}},{key:"guessStartState",value:function(M){for(var D=this._textModel.getLineFirstNonWhitespaceColumn(M),G=[],oe=null,xe=M-1;D>1&&xe>=1;xe--){var Ve=this._textModel.getLineFirstNonWhitespaceColumn(xe);if(Ve!==0&&Ve<D&&(G.push(this._textModel.getLineContent(xe)),D=Ve,oe=this.getStartState(xe),oe))break}oe||(oe=this.tokenizationSupport.getInitialState()),G.reverse();for(var lt=this._textModel.getLanguageId(),pt=oe,xt=0,sn=G;xt<sn.length;xt++){var ln=sn[xt],mn=ut(this._languageIdCodec,lt,this.tokenizationSupport,ln,!1,pt);pt=mn.endState}return pt}}]),_e}(na),ha=function(){function At(nt){Object(y.a)(this,At),this.lineCount=nt,this.tokenizationStateStore=new vn,this._invalidEndStatesLineNumbers=new Ln,this._invalidEndStatesLineNumbers.addRange(new Vt.a(1,nt+1))}return Object(Q.a)(At,[{key:"getEndState",value:function(_e){return this.tokenizationStateStore.getEndState(_e)}},{key:"setEndState",value:function(_e,q){for(;;){var M=this._invalidEndStatesLineNumbers.min;if(M!==null&&M<=_e)this._invalidEndStatesLineNumbers.removeMin();else break}var D=this.tokenizationStateStore.setEndState(_e,q);return D&&_e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new Vt.a(_e+1,_e+2)),D}},{key:"acceptChange",value:function(_e,q){this.lineCount+=q-_e.length,this.tokenizationStateStore.acceptChange(_e,q),this._invalidEndStatesLineNumbers.addRangeAndResize(new Vt.a(_e.startLineNumber,_e.endLineNumberExclusive),q)}},{key:"acceptChanges",value:function(_e){var q=Object(le.a)(_e),M;try{for(q.s();!(M=q.n()).done;){var D=M.value,G=Object(N.a)(D.text),oe=Object(De.a)(G,1),xe=oe[0];this.acceptChange(new on.a(D.range.startLineNumber,D.range.endLineNumber+1),xe+1)}}catch(Ve){q.e(Ve)}finally{q.f()}}},{key:"invalidateEndStateRange",value:function(_e){this._invalidEndStatesLineNumbers.addRange(new Vt.a(_e.startLineNumber,_e.endLineNumberExclusive))}},{key:"getFirstInvalidEndStateLineNumber",value:function(){return this._invalidEndStatesLineNumbers.min}},{key:"getFirstInvalidEndStateLineNumberOrMax",value:function(){return this._invalidEndStatesLineNumbers.min||Number.MAX_SAFE_INTEGER}},{key:"isTokenizationComplete",value:function(){return this._invalidEndStatesLineNumbers.min===null}}]),At}(),vn=function(){function At(){Object(y.a)(this,At),this._lineEndStates=new Yi(null)}return Object(Q.a)(At,[{key:"getEndState",value:function(_e){return this._lineEndStates.get(_e)}},{key:"setEndState",value:function(_e,q){var M=this._lineEndStates.get(_e);return M&&M.equals(q)?!1:(this._lineEndStates.set(_e,q),!0)}},{key:"acceptChange",value:function(_e,q){var M=_e.length;q>0&&M>0&&(M--,q--),this._lineEndStates.replace(_e.startLineNumber,M,q)}}]),At}(),Ln=function(){function At(){Object(y.a)(this,At),this._ranges=[]}return Object(Q.a)(At,[{key:"min",get:function(){return this._ranges.length===0?null:this._ranges[0].start}},{key:"removeMin",value:function(){if(this._ranges.length===0)return null;var _e=this._ranges[0];return _e.start+1===_e.endExclusive?this._ranges.shift():this._ranges[0]=new Vt.a(_e.start+1,_e.endExclusive),_e.start}},{key:"addRange",value:function(_e){Vt.a.addRange(_e,this._ranges)}},{key:"addRangeAndResize",value:function(_e,q){for(var M=0;!(M>=this._ranges.length||_e.start<=this._ranges[M].endExclusive);)M++;for(var D=M;!(D>=this._ranges.length||_e.endExclusive<this._ranges[D].start);)D++;for(var G=q-_e.length,oe=D;oe<this._ranges.length;oe++)this._ranges[oe]=this._ranges[oe].delta(G);if(M===D){var xe=new Vt.a(_e.start,_e.start+q);xe.isEmpty||this._ranges.splice(M,0,xe)}else{var Ve=Math.min(_e.start,this._ranges[M].start),lt=Math.max(_e.endExclusive,this._ranges[D-1].endExclusive),pt=new Vt.a(Ve,lt+G);pt.isEmpty?this._ranges.splice(M,D-M):this._ranges.splice(M,D-M,pt)}}},{key:"toString",value:function(){return this._ranges.map(function(_e){return _e.toString()}).join(" + ")}}]),At}();function ut(At,nt,_e,q,M,D){var G=null;if(_e)try{G=_e.tokenizeEncoded(q,M,D.clone())}catch(oe){Object(ee.h)(oe)}return G||(G=Object(Oi.c)(At.encodeLanguageId(nt),D)),Mr.a.convertToEndOffset(G.tokens,q.length),G}var Tt=function(){function At(nt,_e){Object(y.a)(this,At),this._tokenizerWithStateStore=nt,this._backgroundTokenStore=_e,this._isDisposed=!1,this._isScheduled=!1}return Object(Q.a)(At,[{key:"dispose",value:function(){this._isDisposed=!0}},{key:"handleChanges",value:function(){this._beginBackgroundTokenization()}},{key:"_beginBackgroundTokenization",value:function(){var _e=this;this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,Object(Ze.p)(function(q){_e._isScheduled=!1,_e._backgroundTokenizeWithDeadline(q)}))}},{key:"_backgroundTokenizeWithDeadline",value:function(_e){var q=this,M=Date.now()+_e.timeRemaining(),D=function G(){q._isDisposed||!q._tokenizerWithStateStore._textModel.isAttachedToEditor()||!q._hasLinesToTokenize()||(q._backgroundTokenizeForAtLeast1ms(),Date.now()<M?Object(ti.q)(G):q._beginBackgroundTokenization())};D()}},{key:"_backgroundTokenizeForAtLeast1ms",value:function(){var _e=this._tokenizerWithStateStore._textModel.getLineCount(),q=new Qr,M=kn.a.create(!1);do{if(M.elapsed()>1)break;var D=this._tokenizeOneInvalidLine(q);if(D>=_e)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(q.finalize()),this.checkFinished()}},{key:"_hasLinesToTokenize",value:function(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.isTokenizationComplete():!1}},{key:"_tokenizeOneInvalidLine",value:function(_e){if(!this._tokenizerWithStateStore||!this._hasLinesToTokenize())return this._tokenizerWithStateStore._textModel.getLineCount()+1;var q=this._tokenizerWithStateStore.store.getFirstInvalidEndStateLineNumber();return this._tokenizerWithStateStore.updateTokensUntilLine(_e,q),q}},{key:"checkFinished",value:function(){this._isDisposed||this._tokenizerWithStateStore.store.isTokenizationComplete()&&this._backgroundTokenStore.backgroundTokenizationFinished()}},{key:"requestTokens",value:function(_e,q){this._tokenizerWithStateStore.store.invalidateEndStateRange(new on.a(_e,q))}}]),At}(),Pt=new Uint32Array(0).buffer,Zt=function(){function At(){Object(y.a)(this,At)}return Object(Q.a)(At,null,[{key:"deleteBeginning",value:function(_e,q){return _e===null||_e===Pt?_e:At.delete(_e,0,q)}},{key:"deleteEnding",value:function(_e,q){if(_e===null||_e===Pt)return _e;var M=Ut(_e),D=M[M.length-2];return At.delete(_e,q,D)}},{key:"delete",value:function(_e,q,M){if(_e===null||_e===Pt||q===M)return _e;var D=Ut(_e),G=D.length>>>1;if(q===0&&D[D.length-2]===M)return Pt;var oe=Mr.a.findIndexInTokensArray(D,q),xe=oe>0?D[oe-1<<1]:0,Ve=D[oe<<1];if(M<Ve){for(var lt=M-q,pt=oe;pt<G;pt++)D[pt<<1]-=lt;return _e}var xt,sn;xe!==q?(D[oe<<1]=q,xt=oe+1<<1,sn=q):(xt=oe<<1,sn=xe);for(var ln=M-q,mn=oe+1;mn<G;mn++){var Tn=D[mn<<1]-ln;Tn>sn&&(D[xt++]=Tn,D[xt++]=D[(mn<<1)+1],sn=Tn)}if(xt===D.length)return _e;var ai=new Uint32Array(xt);return ai.set(D.subarray(0,xt),0),ai.buffer}},{key:"append",value:function(_e,q){if(q===Pt)return _e;if(_e===Pt)return q;if(_e===null)return _e;if(q===null)return null;var M=Ut(_e),D=Ut(q),G=D.length>>>1,oe=new Uint32Array(M.length+D.length);oe.set(M,0);for(var xe=M.length,Ve=M[M.length-2],lt=0;lt<G;lt++)oe[xe++]=D[lt<<1]+Ve,oe[xe++]=D[(lt<<1)+1];return oe.buffer}},{key:"insert",value:function(_e,q,M){if(_e===null||_e===Pt)return _e;var D=Ut(_e),G=D.length>>>1,oe=Mr.a.findIndexInTokensArray(D,q);if(oe>0){var xe=D[oe-1<<1];xe===q&&oe--}for(var Ve=oe;Ve<G;Ve++)D[Ve<<1]+=M;return _e}}]),At}();function Ut(At){return At instanceof Uint32Array?At:new Uint32Array(At)}var Nn=a("VGTv"),In=function(){function At(nt){Object(y.a)(this,At),this._lineTokens=[],this._len=0,this._languageIdCodec=nt}return Object(Q.a)(At,[{key:"flush",value:function(){this._lineTokens=[],this._len=0}},{key:"hasTokens",get:function(){return this._lineTokens.length>0}},{key:"getTokens",value:function(_e,q,M){var D=null;if(q<this._len&&(D=this._lineTokens[q]),D!==null&&D!==Pt)return new Mr.a(Ut(D),M,this._languageIdCodec);var G=new Uint32Array(2);return G[0]=M.length,G[1]=Wn(this._languageIdCodec.encodeLanguageId(_e)),new Mr.a(G,M,this._languageIdCodec)}},{key:"_ensureLine",value:function(_e){for(;_e>=this._len;)this._lineTokens[this._len]=null,this._len++}},{key:"_deleteLines",value:function(_e,q){q!==0&&(_e+q>this._len&&(q=this._len-_e),this._lineTokens.splice(_e,q),this._len-=q)}},{key:"_insertLines",value:function(_e,q){if(q!==0){for(var M=[],D=0;D<q;D++)M[D]=null;this._lineTokens=L.c(this._lineTokens,_e,M),this._len+=q}}},{key:"setTokens",value:function(_e,q,M,D,G){var oe=At._massageTokens(this._languageIdCodec.encodeLanguageId(_e),M,D);this._ensureLine(q);var xe=this._lineTokens[q];return this._lineTokens[q]=oe,G?!At._equals(xe,oe):!1}},{key:"acceptEdit",value:function(_e,q,M){this._acceptDeleteRange(_e),this._acceptInsertText(new d.a(_e.startLineNumber,_e.startColumn),q,M)}},{key:"_acceptDeleteRange",value:function(_e){var q=_e.startLineNumber-1;if(!(q>=this._len)){if(_e.startLineNumber===_e.endLineNumber){if(_e.startColumn===_e.endColumn)return;this._lineTokens[q]=Zt.delete(this._lineTokens[q],_e.startColumn-1,_e.endColumn-1);return}this._lineTokens[q]=Zt.deleteEnding(this._lineTokens[q],_e.startColumn-1);var M=_e.endLineNumber-1,D=null;M<this._len&&(D=Zt.deleteBeginning(this._lineTokens[M],_e.endColumn-1)),this._lineTokens[q]=Zt.append(this._lineTokens[q],D),this._deleteLines(_e.startLineNumber,_e.endLineNumber-_e.startLineNumber)}}},{key:"_acceptInsertText",value:function(_e,q,M){if(!(q===0&&M===0)){var D=_e.lineNumber-1;if(!(D>=this._len)){if(q===0){this._lineTokens[D]=Zt.insert(this._lineTokens[D],_e.column-1,M);return}this._lineTokens[D]=Zt.deleteEnding(this._lineTokens[D],_e.column-1),this._lineTokens[D]=Zt.insert(this._lineTokens[D],_e.column-1,M),this._insertLines(_e.lineNumber,q)}}}},{key:"setMultilineTokens",value:function(_e,q){if(_e.length===0)return{changes:[]};for(var M=[],D=0,G=_e.length;D<G;D++){for(var oe=_e[D],xe=0,Ve=0,lt=!1,pt=oe.startLineNumber;pt<=oe.endLineNumber;pt++)if(lt)this.setTokens(q.getLanguageId(),pt-1,q.getLineLength(pt),oe.getLineTokens(pt),!1),Ve=pt;else{var xt=this.setTokens(q.getLanguageId(),pt-1,q.getLineLength(pt),oe.getLineTokens(pt),!0);xt&&(lt=!0,xe=pt,Ve=pt)}lt&&M.push({fromLineNumber:xe,toLineNumber:Ve})}return{changes:M}}}],[{key:"_massageTokens",value:function(_e,q,M){var D=M?Ut(M):null;if(q===0){var G=!1;if(D&&D.length>1&&(G=Nn.a.getLanguageId(D[1])!==_e),!G)return Pt}if(!D||D.length===0){var oe=new Uint32Array(2);return oe[0]=q,oe[1]=Wn(_e),oe.buffer}return D[D.length-2]=q,D.byteOffset===0&&D.byteLength===D.buffer.byteLength?D.buffer:D}},{key:"_equals",value:function(_e,q){if(!_e||!q)return!_e&&!q;var M=Ut(_e),D=Ut(q);if(M.length!==D.length)return!1;for(var G=0,oe=M.length;G<oe;G++)if(M[G]!==D[G])return!1;return!0}}]),At}();function Wn(At){return(At<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}var oi=function(){function At(nt){Object(y.a)(this,At),this._pieces=[],this._isComplete=!1,this._languageIdCodec=nt}return Object(Q.a)(At,[{key:"flush",value:function(){this._pieces=[],this._isComplete=!1}},{key:"isEmpty",value:function(){return this._pieces.length===0}},{key:"set",value:function(_e,q){this._pieces=_e||[],this._isComplete=q}},{key:"setPartial",value:function(_e,q){var M=_e;if(q.length>0){var D=q[0].getRange(),G=q[q.length-1].getRange();if(!D||!G)return _e;M=_e.plusRange(D).plusRange(G)}for(var oe=null,xe=0,Ve=this._pieces.length;xe<Ve;xe++){var lt=this._pieces[xe];if(!(lt.endLineNumber<M.startLineNumber)){if(lt.startLineNumber>M.endLineNumber){oe=oe||{index:xe};break}if(lt.removeTokens(M),lt.isEmpty()){this._pieces.splice(xe,1),xe--,Ve--;continue}if(!(lt.endLineNumber<M.startLineNumber)){if(lt.startLineNumber>M.endLineNumber){oe=oe||{index:xe};continue}var pt=lt.split(M),xt=Object(De.a)(pt,2),sn=xt[0],ln=xt[1];if(sn.isEmpty()){oe=oe||{index:xe};continue}ln.isEmpty()||(this._pieces.splice(xe,1,sn,ln),xe++,Ve++,oe=oe||{index:xe})}}}return oe=oe||{index:this._pieces.length},q.length>0&&(this._pieces=L.c(this._pieces,oe.index,q)),M}},{key:"isComplete",value:function(){return this._isComplete}},{key:"addSparseTokens",value:function(_e,q){if(q.getLineContent().length===0)return q;var M=this._pieces;if(M.length===0)return q;var D=At._findFirstPieceWithLine(M,_e),G=M[D].getLineTokens(_e);if(!G)return q;for(var oe=q.getCount(),xe=G.getCount(),Ve=0,lt=[],pt=0,xt=0,sn=function(hr,Ii){hr!==xt&&(xt=hr,lt[pt++]=hr,lt[pt++]=Ii)},ln=0;ln<xe;ln++){for(var mn=G.getStartCharacter(ln),Tn=G.getEndCharacter(ln),ai=G.getMetadata(ln),pi=((ai&1?2048:0)|(ai&2?4096:0)|(ai&4?8192:0)|(ai&8?16384:0)|(ai&16?16744448:0)|(ai&32?4278190080:0))>>>0,yi=~pi>>>0;Ve<oe&&q.getEndOffset(Ve)<=mn;)sn(q.getEndOffset(Ve),q.getMetadata(Ve)),Ve++;for(Ve<oe&&q.getStartOffset(Ve)<mn&&sn(mn,q.getMetadata(Ve));Ve<oe&&q.getEndOffset(Ve)<Tn;)sn(q.getEndOffset(Ve),q.getMetadata(Ve)&yi|ai&pi),Ve++;if(Ve<oe)sn(Tn,q.getMetadata(Ve)&yi|ai&pi),q.getEndOffset(Ve)===Tn&&Ve++;else{var vi=Math.min(Math.max(0,Ve-1),oe-1);sn(Tn,q.getMetadata(vi)&yi|ai&pi)}}for(;Ve<oe;)sn(q.getEndOffset(Ve),q.getMetadata(Ve)),Ve++;return new Mr.a(new Uint32Array(lt),q.getLineContent(),this._languageIdCodec)}},{key:"acceptEdit",value:function(_e,q,M,D,G){var oe=Object(le.a)(this._pieces),xe;try{for(oe.s();!(xe=oe.n()).done;){var Ve=xe.value;Ve.acceptEdit(_e,q,M,D,G)}}catch(lt){oe.e(lt)}finally{oe.f()}}}],[{key:"_findFirstPieceWithLine",value:function(_e,q){for(var M=0,D=_e.length-1;M<D;){var G=M+Math.floor((D-M)/2);if(_e[G].endLineNumber<q)M=G+1;else if(_e[G].startLineNumber>q)D=G-1;else{for(;G>M&&_e[G-1].startLineNumber<=q&&q<=_e[G-1].endLineNumber;)G--;return G}}return M}}]),At}(),bi=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q,M,D,G,oe,xe){var Ve;return Object(y.a)(this,_e),Ve=nt.call(this),Ve._languageService=q,Ve._languageConfigurationService=M,Ve._textModel=D,Ve._bracketPairsTextModelPart=G,Ve._languageId=oe,Ve._attachedViews=xe,Ve._semanticTokens=new oi(Ve._languageService.languageIdCodec),Ve._onDidChangeLanguage=Ve._register(new H.b),Ve.onDidChangeLanguage=Ve._onDidChangeLanguage.event,Ve._onDidChangeLanguageConfiguration=Ve._register(new H.b),Ve.onDidChangeLanguageConfiguration=Ve._onDidChangeLanguageConfiguration.event,Ve._onDidChangeTokens=Ve._register(new H.b),Ve.onDidChangeTokens=Ve._onDidChangeTokens.event,Ve.grammarTokens=Ve._register(new _n(Ve._languageService.languageIdCodec,Ve._textModel,function(){return Ve._languageId},Ve._attachedViews)),Ve._register(Ve._languageConfigurationService.onDidChange(function(lt){lt.affects(Ve._languageId)&&Ve._onDidChangeLanguageConfiguration.fire({})})),Ve._register(Ve.grammarTokens.onDidChangeTokens(function(lt){Ve._emitModelTokensChangedEvent(lt)})),Ve._register(Ve.grammarTokens.onDidChangeBackgroundTokenizationState(function(lt){Ve._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),Ve}return Object(Q.a)(_e,[{key:"handleDidChangeContent",value:function(M){if(M.isFlush)this._semanticTokens.flush();else if(!M.isEolChange){var D=Object(le.a)(M.changes),G;try{for(D.s();!(G=D.n()).done;){var oe=G.value,xe=Object(N.a)(oe.text),Ve=Object(De.a)(xe,3),lt=Ve[0],pt=Ve[1],xt=Ve[2];this._semanticTokens.acceptEdit(oe.range,lt,pt,xt,oe.text.length>0?oe.text.charCodeAt(0):0)}}catch(sn){D.e(sn)}finally{D.f()}}this.grammarTokens.handleDidChangeContent(M)}},{key:"handleDidChangeAttached",value:function(){this.grammarTokens.handleDidChangeAttached()}},{key:"getLineTokens",value:function(M){this.validateLineNumber(M);var D=this.grammarTokens.getLineTokens(M);return this._semanticTokens.addSparseTokens(M,D)}},{key:"_emitModelTokensChangedEvent",value:function(M){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(M),this._onDidChangeTokens.fire(M))}},{key:"validateLineNumber",value:function(M){if(M<1||M>this._textModel.getLineCount())throw new ee.a("Illegal value for lineNumber")}},{key:"hasTokens",get:function(){return this.grammarTokens.hasTokens}},{key:"resetTokenization",value:function(){this.grammarTokens.resetTokenization()}},{key:"backgroundTokenizationState",get:function(){return this.grammarTokens.backgroundTokenizationState}},{key:"forceTokenization",value:function(M){this.validateLineNumber(M),this.grammarTokens.forceTokenization(M)}},{key:"isCheapToTokenize",value:function(M){return this.validateLineNumber(M),this.grammarTokens.isCheapToTokenize(M)}},{key:"tokenizeIfCheap",value:function(M){this.validateLineNumber(M),this.grammarTokens.tokenizeIfCheap(M)}},{key:"getTokenTypeIfInsertingCharacter",value:function(M,D,G){return this.grammarTokens.getTokenTypeIfInsertingCharacter(M,D,G)}},{key:"tokenizeLineWithEdit",value:function(M,D,G){return this.grammarTokens.tokenizeLineWithEdit(M,D,G)}},{key:"setSemanticTokens",value:function(M,D){this._semanticTokens.set(M,D),this._emitModelTokensChangedEvent({semanticTokensApplied:M!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}},{key:"hasCompleteSemanticTokens",value:function(){return this._semanticTokens.isComplete()}},{key:"hasSomeSemanticTokens",value:function(){return!this._semanticTokens.isEmpty()}},{key:"setPartialSemanticTokens",value:function(M,D){if(!this.hasCompleteSemanticTokens()){var G=this._textModel.validateRange(this._semanticTokens.setPartial(M,D));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:G.startLineNumber,toLineNumber:G.endLineNumber}]})}}},{key:"getWordAtPosition",value:function(M){this.assertNotDisposed();var D=this._textModel.validatePosition(M),G=this._textModel.getLineContent(D.lineNumber),oe=this.getLineTokens(D.lineNumber),xe=oe.findTokenIndexAtOffset(D.column-1),Ve=_e._findLanguageBoundaries(oe,xe),lt=Object(De.a)(Ve,2),pt=lt[0],xt=lt[1],sn=Object(tn.d)(D.column,this.getLanguageConfiguration(oe.getLanguageId(xe)).getWordDefinition(),G.substring(pt,xt),pt);if(sn&&sn.startColumn<=M.column&&M.column<=sn.endColumn)return sn;if(xe>0&&pt===D.column-1){var ln=_e._findLanguageBoundaries(oe,xe-1),mn=Object(De.a)(ln,2),Tn=mn[0],ai=mn[1],pi=Object(tn.d)(D.column,this.getLanguageConfiguration(oe.getLanguageId(xe-1)).getWordDefinition(),G.substring(Tn,ai),Tn);if(pi&&pi.startColumn<=M.column&&M.column<=pi.endColumn)return pi}return null}},{key:"getLanguageConfiguration",value:function(M){return this._languageConfigurationService.getLanguageConfiguration(M)}},{key:"getWordUntilPosition",value:function(M){var D=this.getWordAtPosition(M);return D?{word:D.word.substr(0,M.column-D.startColumn),startColumn:D.startColumn,endColumn:M.column}:{word:"",startColumn:M.column,endColumn:M.column}}},{key:"getLanguageId",value:function(){return this._languageId}},{key:"getLanguageIdAtPosition",value:function(M,D){var G=this._textModel.validatePosition(new d.a(M,D)),oe=this.getLineTokens(G.lineNumber);return oe.getLanguageId(oe.findTokenIndexAtOffset(G.column-1))}},{key:"setLanguageId",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api";if(this._languageId!==M){var G={oldLanguage:this._languageId,newLanguage:M,source:D};this._languageId=M,this._bracketPairsTextModelPart.handleDidChangeLanguage(G),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(G),this._onDidChangeLanguageConfiguration.fire({})}}}],[{key:"_findLanguageBoundaries",value:function(M,D){for(var G=M.getLanguageId(D),oe=0,xe=D;xe>=0&&M.getLanguageId(xe)===G;xe--)oe=M.getStartOffset(xe);for(var Ve=M.getLineContent().length,lt=D,pt=M.getCount();lt<pt&&M.getLanguageId(lt)===G;lt++)Ve=M.getEndOffset(lt);return[oe,Ve]}}]),_e}(pn.a),_n=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q,M,D,G){var oe;return Object(y.a)(this,_e),oe=nt.call(this),oe._languageIdCodec=q,oe._textModel=M,oe.getLanguageId=D,oe._tokenizer=null,oe._defaultBackgroundTokenizer=null,oe._backgroundTokenizer=oe._register(new W.e),oe._tokens=new In(oe._languageIdCodec),oe._debugBackgroundTokenizer=oe._register(new W.e),oe._backgroundTokenizationState=1,oe._onDidChangeBackgroundTokenizationState=oe._register(new H.b),oe.onDidChangeBackgroundTokenizationState=oe._onDidChangeBackgroundTokenizationState.event,oe._onDidChangeTokens=oe._register(new H.b),oe.onDidChangeTokens=oe._onDidChangeTokens.event,oe._attachedViewStates=oe._register(new W.b),oe._register(Dt.m.onDidChange(function(xe){var Ve=oe.getLanguageId();xe.changedLanguages.indexOf(Ve)!==-1&&oe.resetTokenization()})),oe.resetTokenization(),oe._register(G.onDidChangeVisibleRanges(function(xe){var Ve=xe.view,lt=xe.state;if(lt){var pt=oe._attachedViewStates.get(Ve);pt||(pt=new li(function(){return oe.refreshRanges(pt.lineRanges)}),oe._attachedViewStates.set(Ve,pt)),pt.handleStateChange(lt)}else oe._attachedViewStates.deleteAndDispose(Ve)})),oe}return Object(Q.a)(_e,[{key:"backgroundTokenizationState",get:function(){return this._backgroundTokenizationState}},{key:"resetTokenization",value:function(){var M=this,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,G;this._tokens.flush(),(G=this._debugBackgroundTokens)===null||G===void 0||G.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new ha(this._textModel.getLineCount())),D&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});var oe=function(){if(M._textModel.isTooLargeForTokenization())return[null,null];var ln=Dt.m.get(M.getLanguageId());if(!ln)return[null,null];var mn;try{mn=ln.getInitialState()}catch(Tn){return Object(ee.h)(Tn),[null,null]}return[ln,mn]},xe=oe(),Ve=Object(De.a)(xe,2),lt=Ve[0],pt=Ve[1];if(lt&&pt?this._tokenizer=new Br(this._textModel.getLineCount(),lt,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){var xt={setTokens:function(ln){M.setTokens(ln)},backgroundTokenizationFinished:function(){if(M._backgroundTokenizationState!==2){var ln=2;M._backgroundTokenizationState=ln,M._onDidChangeBackgroundTokenizationState.fire()}},setEndState:function(ln,mn){var Tn,ai,pi;if(!mn)throw new ee.a;var yi=(ai=(Tn=M._tokenizer)===null||Tn===void 0?void 0:Tn.store.getFirstInvalidEndStateLineNumber())!==null&&ai!==void 0?ai:void 0;yi!==void 0&&ln>=yi&&((pi=M._tokenizer)===null||pi===void 0||pi.store.setEndState(ln,mn))}};lt&&lt.createBackgroundTokenizer&&!lt.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=lt.createBackgroundTokenizer(this._textModel,xt)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new Tt(this._tokenizer,xt),this._defaultBackgroundTokenizer.handleChanges()),(lt==null?void 0:lt.backgroundTokenizerShouldOnlyVerifyTokens)&&lt.createBackgroundTokenizer?(this._debugBackgroundTokens=new In(this._languageIdCodec),this._debugBackgroundStates=new ha(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=lt.createBackgroundTokenizer(this._textModel,{setTokens:function(ln){var mn;(mn=M._debugBackgroundTokens)===null||mn===void 0||mn.setMultilineTokens(ln,M._textModel)},backgroundTokenizationFinished:function(){},setEndState:function(ln,mn){var Tn;(Tn=M._debugBackgroundStates)===null||Tn===void 0||Tn.setEndState(ln,mn)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}},{key:"handleDidChangeAttached",value:function(){var M;(M=this._defaultBackgroundTokenizer)===null||M===void 0||M.handleChanges()}},{key:"handleDidChangeContent",value:function(M){var D,G,oe;if(M.isFlush)this.resetTokenization(!1);else if(!M.isEolChange){var xe=Object(le.a)(M.changes),Ve;try{for(xe.s();!(Ve=xe.n()).done;){var lt=Ve.value,pt=Object(N.a)(lt.text),xt=Object(De.a)(pt,2),sn=xt[0],ln=xt[1];this._tokens.acceptEdit(lt.range,sn,ln),(D=this._debugBackgroundTokens)===null||D===void 0||D.acceptEdit(lt.range,sn,ln)}}catch(mn){xe.e(mn)}finally{xe.f()}(G=this._debugBackgroundStates)===null||G===void 0||G.acceptChanges(M.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(M.changes),(oe=this._defaultBackgroundTokenizer)===null||oe===void 0||oe.handleChanges()}}},{key:"setTokens",value:function(M){var D=this._tokens.setMultilineTokens(M,this._textModel),G=D.changes;return G.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:G}),{changes:G}}},{key:"refreshAllVisibleLineTokens",value:function(){var M=on.a.joinMany(Object(et.a)(this._attachedViewStates).map(function(D){var G=Object(De.a)(D,2),oe=G[0],xe=G[1];return xe.lineRanges}));this.refreshRanges(M)}},{key:"refreshRanges",value:function(M){var D=Object(le.a)(M),G;try{for(D.s();!(G=D.n()).done;){var oe=G.value;this.refreshRange(oe.startLineNumber,oe.endLineNumberExclusive-1)}}catch(xe){D.e(xe)}finally{D.f()}}},{key:"refreshRange",value:function(M,D){var G,oe;if(!!this._tokenizer){M=Math.max(1,Math.min(this._textModel.getLineCount(),M)),D=Math.min(this._textModel.getLineCount(),D);var xe=new Qr,Ve=this._tokenizer.tokenizeHeuristically(xe,M,D),lt=Ve.heuristicTokens,pt=this.setTokens(xe.finalize());if(lt){var xt=Object(le.a)(pt.changes),sn;try{for(xt.s();!(sn=xt.n()).done;){var ln=sn.value;(G=this._backgroundTokenizer.value)===null||G===void 0||G.requestTokens(ln.fromLineNumber,ln.toLineNumber+1)}}catch(mn){xt.e(mn)}finally{xt.f()}}(oe=this._defaultBackgroundTokenizer)===null||oe===void 0||oe.checkFinished()}}},{key:"forceTokenization",value:function(M){var D,G,oe=new Qr;(D=this._tokenizer)===null||D===void 0||D.updateTokensUntilLine(oe,M),this.setTokens(oe.finalize()),(G=this._defaultBackgroundTokenizer)===null||G===void 0||G.checkFinished()}},{key:"isCheapToTokenize",value:function(M){return this._tokenizer?this._tokenizer.isCheapToTokenize(M):!0}},{key:"tokenizeIfCheap",value:function(M){this.isCheapToTokenize(M)&&this.forceTokenization(M)}},{key:"getLineTokens",value:function(M){var D,G=this._textModel.getLineContent(M),oe=this._tokens.getTokens(this._textModel.getLanguageId(),M-1,G);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>M&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>M){var xe=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),M-1,G);!oe.equals(xe)&&((D=this._debugBackgroundTokenizer.value)===null||D===void 0?void 0:D.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(M)}return oe}},{key:"getTokenTypeIfInsertingCharacter",value:function(M,D,G){if(!this._tokenizer)return 0;var oe=this._textModel.validatePosition(new d.a(M,D));return this.forceTokenization(oe.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(oe,G)}},{key:"tokenizeLineWithEdit",value:function(M,D,G){if(!this._tokenizer)return null;var oe=this._textModel.validatePosition(M);return this.forceTokenization(oe.lineNumber),this._tokenizer.tokenizeLineWithEdit(oe,D,G)}},{key:"hasTokens",get:function(){return this._tokens.hasTokens}}]),_e}(W.a),li=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q){var M;return Object(y.a)(this,_e),M=nt.call(this),M._refreshTokens=q,M.runner=M._register(new Ze.g(function(){return M.update()},50)),M._computedLineRanges=[],M._lineRanges=[],M}return Object(Q.a)(_e,[{key:"lineRanges",get:function(){return this._lineRanges}},{key:"update",value:function(){Object(L.j)(this._computedLineRanges,this._lineRanges)||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}},{key:"handleStateChange",value:function(M){this._lineRanges=M.visibleLineRanges,M.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}]),_e}(W.a),ki=a("p/Xk"),Ki=a("OAO6"),Tr=function(At,nt,_e,q){var M=arguments.length,D=M<3?nt:q===null?q=Object.getOwnPropertyDescriptor(nt,_e):q,G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(At,nt,_e,q);else for(var oe=At.length-1;oe>=0;oe--)(G=At[oe])&&(D=(M<3?G(D):M>3?G(nt,_e,D):G(nt,_e))||D);return M>3&&D&&Object.defineProperty(nt,_e,D),D},ir=function(At,nt){return function(_e,q){nt(_e,q,At)}};function Er(At){var nt=new dn;return nt.acceptChunk(At),nt.finish()}function va(At){for(var nt=new dn,_e;typeof(_e=At.read())=="string";)nt.acceptChunk(_e);return nt.finish()}function Sn(At,nt){var _e;return typeof At=="string"?_e=Er(At):z.j(At)?_e=va(At):_e=At,_e.create(nt)}var ri=0,Vn=999,Ai=1e4,or=function(){function At(nt){Object(y.a)(this,At),this._source=nt,this._eos=!1}return Object(Q.a)(At,[{key:"read",value:function(){if(this._eos)return null;var _e=[],q=0,M=0;do{var D=this._source.read();if(D===null)return this._eos=!0,q===0?null:_e.join("");if(D.length>0&&(_e[q++]=D,M+=D.length),M>=64*1024)return _e.join("")}while(!0)}}]),At}(),Zi=function(){throw new Error("Invalid change accessor")},zi=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q,M,D){var G,oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,xe=arguments.length>4?arguments[4]:void 0,Ve=arguments.length>5?arguments[5]:void 0,lt=arguments.length>6?arguments[6]:void 0;Object(y.a)(this,_e),G=nt.call(this),G._undoRedoService=xe,G._languageService=Ve,G._languageConfigurationService=lt,G._onWillDispose=G._register(new H.b),G.onWillDispose=G._onWillDispose.event,G._onDidChangeDecorations=G._register(new ua(function(ai){return G.handleBeforeFireDecorationsChangedEvent(ai)})),G.onDidChangeDecorations=G._onDidChangeDecorations.event,G._onDidChangeOptions=G._register(new H.b),G.onDidChangeOptions=G._onDidChangeOptions.event,G._onDidChangeAttached=G._register(new H.b),G.onDidChangeAttached=G._onDidChangeAttached.event,G._onDidChangeInjectedText=G._register(new H.b),G._eventEmitter=G._register(new La),G._languageSelectionListener=G._register(new W.e),G._deltaDecorationCallCnt=0,G._attachedViews=new Mo,ri++,G.id="$model"+ri,G.isForSimpleWidget=D.isForSimpleWidget,typeof oe=="undefined"||oe===null?G._associatedResource=V.a.parse("inmemory://model/"+ri):G._associatedResource=oe,G._attachedEditorCount=0;var pt=Sn(q,D.defaultEOL),xt=pt.textBuffer,sn=pt.disposable;G._buffer=xt,G._bufferDisposable=sn,G._options=_e.resolveOptions(G._buffer,D);var ln=typeof M=="string"?M:M.languageId;typeof M!="string"&&(G._languageSelectionListener.value=M.onDidChange(function(){return G._setLanguage(M.languageId)})),G._bracketPairs=G._register(new Ke(Object(E.a)(G),G._languageConfigurationService)),G._guidesTextModelPart=G._register(new fe.b(Object(E.a)(G),G._languageConfigurationService)),G._decorationProvider=G._register(new Je(Object(E.a)(G))),G._tokenizationTextModelPart=new bi(G._languageService,G._languageConfigurationService,Object(E.a)(G),G._bracketPairs,ln,G._attachedViews);var mn=G._buffer.getLineCount(),Tn=G._buffer.getValueLengthInRange(new j.a(1,1,mn,G._buffer.getLineLength(mn)+1),0);return D.largeFileOptimizations?G._isTooLargeForTokenization=Tn>_e.LARGE_FILE_SIZE_THRESHOLD||mn>_e.LARGE_FILE_LINE_COUNT_THRESHOLD:G._isTooLargeForTokenization=!1,G._isTooLargeForSyncing=Tn>_e._MODEL_SYNC_LIMIT,G._versionId=1,G._alternativeVersionId=1,G._initialUndoRedoSnapshot=null,G._isDisposed=!1,G.__isDisposing=!1,G._instanceId=F.R(ri),G._lastDecorationId=0,G._decorations=Object.create(null),G._decorationsTree=new xa,G._commandManager=new Te.a(Object(E.a)(G),G._undoRedoService),G._isUndoing=!1,G._isRedoing=!1,G._trimAutoWhitespaceLines=null,G._register(G._decorationProvider.onDidChange(function(){G._onDidChangeDecorations.beginDeferredEmit(),G._onDidChangeDecorations.fire(),G._onDidChangeDecorations.endDeferredEmit()})),G._languageService.requestRichLanguageFeatures(ln),G}return Object(Q.a)(_e,[{key:"onDidChangeLanguage",get:function(){return this._tokenizationTextModelPart.onDidChangeLanguage}},{key:"onDidChangeLanguageConfiguration",get:function(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}},{key:"onDidChangeTokens",get:function(){return this._tokenizationTextModelPart.onDidChangeTokens}},{key:"onDidChangeContent",value:function(M){return this._eventEmitter.slowEvent(function(D){return M(D.contentChangedEvent)})}},{key:"onDidChangeContentOrInjectedText",value:function(M){return Object(W.h)(this._eventEmitter.fastEvent(function(D){return M(D)}),this._onDidChangeInjectedText.event(function(D){return M(D)}))}},{key:"_isDisposing",value:function(){return this.__isDisposing}},{key:"tokenization",get:function(){return this._tokenizationTextModelPart}},{key:"bracketPairs",get:function(){return this._bracketPairs}},{key:"guides",get:function(){return this._guidesTextModelPart}},{key:"dispose",value:function(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,Object(ve.a)(Object(re.a)(_e.prototype),"dispose",this).call(this),this._bufferDisposable.dispose(),this.__isDisposing=!1;var M=new Et([],"",`
`,!1,!1,!0,!0);M.dispose(),this._buffer=M,this._bufferDisposable=W.a.None}},{key:"_assertNotDisposed",value:function(){if(this._isDisposed)throw new Error("Model is disposed!")}},{key:"_emitContentChangedEvent",value:function(M,D){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(D),this._bracketPairs.handleDidChangeContent(D),this._eventEmitter.fire(new ki.a(M,D)))}},{key:"setValue",value:function(M){if(this._assertNotDisposed(),M==null)throw Object(ee.e)();var D=Sn(M,this._options.defaultEOL),G=D.textBuffer,oe=D.disposable;this._setValueFromTextBuffer(G,oe)}},{key:"_createContentChanged2",value:function(M,D,G,oe,xe,Ve,lt,pt){return{changes:[{range:M,rangeOffset:D,rangeLength:G,text:oe}],eol:this._buffer.getEOL(),isEolChange:pt,versionId:this.getVersionId(),isUndoing:xe,isRedoing:Ve,isFlush:lt}}},{key:"_setValueFromTextBuffer",value:function(M,D){this._assertNotDisposed();var G=this.getFullModelRange(),oe=this.getValueLengthInRange(G),xe=this.getLineCount(),Ve=this.getLineMaxColumn(xe);this._buffer=M,this._bufferDisposable.dispose(),this._bufferDisposable=D,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new xa,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new ki.d([new ki.f],this._versionId,!1,!1),this._createContentChanged2(new j.a(1,1,xe,Ve),0,oe,this.getValue(),!1,!1,!0,!1))}},{key:"setEOL",value:function(M){this._assertNotDisposed();var D=M===1?`\r
`:`
`;if(this._buffer.getEOL()!==D){var G=this.getFullModelRange(),oe=this.getValueLengthInRange(G),xe=this.getLineCount(),Ve=this.getLineMaxColumn(xe);this._onBeforeEOLChange(),this._buffer.setEOL(D),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new ki.d([new ki.e],this._versionId,!1,!1),this._createContentChanged2(new j.a(1,1,xe,Ve),0,oe,this.getValue(),!1,!1,!1,!0))}}},{key:"_onBeforeEOLChange",value:function(){this._decorationsTree.ensureAllNodesHaveRanges(this)}},{key:"_onAfterEOLChange",value:function(){for(var M=this.getVersionId(),D=this._decorationsTree.collectNodesPostOrder(),G=0,oe=D.length;G<oe;G++){var xe=D[G],Ve=xe.range,lt=xe.cachedAbsoluteStart-xe.start,pt=this._buffer.getOffsetAt(Ve.startLineNumber,Ve.startColumn),xt=this._buffer.getOffsetAt(Ve.endLineNumber,Ve.endColumn);xe.cachedAbsoluteStart=pt,xe.cachedAbsoluteEnd=xt,xe.cachedVersionId=M,xe.start=pt-lt,xe.end=xt-lt,en(xe)}}},{key:"onBeforeAttached",value:function(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}},{key:"onBeforeDetached",value:function(M){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(M)}},{key:"isAttachedToEditor",value:function(){return this._attachedEditorCount>0}},{key:"getAttachedEditorCount",value:function(){return this._attachedEditorCount}},{key:"isTooLargeForSyncing",value:function(){return this._isTooLargeForSyncing}},{key:"isTooLargeForTokenization",value:function(){return this._isTooLargeForTokenization}},{key:"isDisposed",value:function(){return this._isDisposed}},{key:"isDominatedByLongLines",value:function(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;for(var M=0,D=0,G=this._buffer.getLineCount(),oe=1;oe<=G;oe++){var xe=this._buffer.getLineLength(oe);xe>=Ai?D+=xe:M+=xe}return D>M}},{key:"uri",get:function(){return this._associatedResource}},{key:"getOptions",value:function(){return this._assertNotDisposed(),this._options}},{key:"getFormattingOptions",value:function(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}},{key:"updateOptions",value:function(M){this._assertNotDisposed();var D=typeof M.tabSize!="undefined"?M.tabSize:this._options.tabSize,G=typeof M.indentSize!="undefined"?M.indentSize:this._options.originalIndentSize,oe=typeof M.insertSpaces!="undefined"?M.insertSpaces:this._options.insertSpaces,xe=typeof M.trimAutoWhitespace!="undefined"?M.trimAutoWhitespace:this._options.trimAutoWhitespace,Ve=typeof M.bracketColorizationOptions!="undefined"?M.bracketColorizationOptions:this._options.bracketPairColorizationOptions,lt=new z.h({tabSize:D,indentSize:G,insertSpaces:oe,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:xe,bracketPairColorizationOptions:Ve});if(!this._options.equals(lt)){var pt=this._options.createChangeEvent(lt);this._options=lt,this._bracketPairs.handleDidChangeOptions(pt),this._decorationProvider.handleDidChangeOptions(pt),this._onDidChangeOptions.fire(pt)}}},{key:"detectIndentation",value:function(M,D){this._assertNotDisposed();var G=Ge(this._buffer,D,M);this.updateOptions({insertSpaces:G.insertSpaces,tabSize:G.tabSize,indentSize:G.tabSize})}},{key:"normalizeIndentation",value:function(M){return this._assertNotDisposed(),Object(U.a)(M,this._options.indentSize,this._options.insertSpaces)}},{key:"getVersionId",value:function(){return this._assertNotDisposed(),this._versionId}},{key:"mightContainRTL",value:function(){return this._buffer.mightContainRTL()}},{key:"mightContainUnusualLineTerminators",value:function(){return this._buffer.mightContainUnusualLineTerminators()}},{key:"removeUnusualLineTerminators",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,D=this.findMatches(F.d.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(M,D.map(function(G){return{range:G.range,text:null}}),function(){return null})}},{key:"mightContainNonBasicASCII",value:function(){return this._buffer.mightContainNonBasicASCII()}},{key:"getAlternativeVersionId",value:function(){return this._assertNotDisposed(),this._alternativeVersionId}},{key:"getInitialUndoRedoSnapshot",value:function(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}},{key:"getOffsetAt",value:function(M){this._assertNotDisposed();var D=this._validatePosition(M.lineNumber,M.column,0);return this._buffer.getOffsetAt(D.lineNumber,D.column)}},{key:"getPositionAt",value:function(M){this._assertNotDisposed();var D=Math.min(this._buffer.getLength(),Math.max(0,M));return this._buffer.getPositionAt(D)}},{key:"_increaseVersionId",value:function(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}},{key:"_overwriteVersionId",value:function(M){this._versionId=M}},{key:"_overwriteAlternativeVersionId",value:function(M){this._alternativeVersionId=M}},{key:"_overwriteInitialUndoRedoSnapshot",value:function(M){this._initialUndoRedoSnapshot=M}},{key:"getValue",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._assertNotDisposed();var G=this.getFullModelRange(),oe=this.getValueInRange(G,M);return D?this._buffer.getBOM()+oe:oe}},{key:"createSnapshot",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return new or(this._buffer.createSnapshot(M))}},{key:"getValueLength",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._assertNotDisposed();var G=this.getFullModelRange(),oe=this.getValueLengthInRange(G,M);return D?this._buffer.getBOM().length+oe:oe}},{key:"getValueInRange",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(M),D)}},{key:"getValueLengthInRange",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(M),D)}},{key:"getCharacterCountInRange",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(M),D)}},{key:"getLineCount",value:function(){return this._assertNotDisposed(),this._buffer.getLineCount()}},{key:"getLineContent",value:function(M){if(this._assertNotDisposed(),M<1||M>this.getLineCount())throw new ee.a("Illegal value for lineNumber");return this._buffer.getLineContent(M)}},{key:"getLineLength",value:function(M){if(this._assertNotDisposed(),M<1||M>this.getLineCount())throw new ee.a("Illegal value for lineNumber");return this._buffer.getLineLength(M)}},{key:"getLinesContent",value:function(){return this._assertNotDisposed(),this._buffer.getLinesContent()}},{key:"getEOL",value:function(){return this._assertNotDisposed(),this._buffer.getEOL()}},{key:"getEndOfLineSequence",value:function(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}},{key:"getLineMinColumn",value:function(M){return this._assertNotDisposed(),1}},{key:"getLineMaxColumn",value:function(M){if(this._assertNotDisposed(),M<1||M>this.getLineCount())throw new ee.a("Illegal value for lineNumber");return this._buffer.getLineLength(M)+1}},{key:"getLineFirstNonWhitespaceColumn",value:function(M){if(this._assertNotDisposed(),M<1||M>this.getLineCount())throw new ee.a("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(M)}},{key:"getLineLastNonWhitespaceColumn",value:function(M){if(this._assertNotDisposed(),M<1||M>this.getLineCount())throw new ee.a("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(M)}},{key:"_validateRangeRelaxedNoAllocations",value:function(M){var D=this._buffer.getLineCount(),G=M.startLineNumber,oe=M.startColumn,xe=Math.floor(typeof G=="number"&&!isNaN(G)?G:1),Ve=Math.floor(typeof oe=="number"&&!isNaN(oe)?oe:1);if(xe<1)xe=1,Ve=1;else if(xe>D)xe=D,Ve=this.getLineMaxColumn(xe);else if(Ve<=1)Ve=1;else{var lt=this.getLineMaxColumn(xe);Ve>=lt&&(Ve=lt)}var pt=M.endLineNumber,xt=M.endColumn,sn=Math.floor(typeof pt=="number"&&!isNaN(pt)?pt:1),ln=Math.floor(typeof xt=="number"&&!isNaN(xt)?xt:1);if(sn<1)sn=1,ln=1;else if(sn>D)sn=D,ln=this.getLineMaxColumn(sn);else if(ln<=1)ln=1;else{var mn=this.getLineMaxColumn(sn);ln>=mn&&(ln=mn)}return G===xe&&oe===Ve&&pt===sn&&xt===ln&&M instanceof j.a&&!(M instanceof C.a)?M:new j.a(xe,Ve,sn,ln)}},{key:"_isValidPosition",value:function(M,D,G){if(typeof M!="number"||typeof D!="number"||isNaN(M)||isNaN(D)||M<1||D<1||(M|0)!==M||(D|0)!==D)return!1;var oe=this._buffer.getLineCount();if(M>oe)return!1;if(D===1)return!0;var xe=this.getLineMaxColumn(M);if(D>xe)return!1;if(G===1){var Ve=this._buffer.getLineCharCode(M,D-2);if(F.F(Ve))return!1}return!0}},{key:"_validatePosition",value:function(M,D,G){var oe=Math.floor(typeof M=="number"&&!isNaN(M)?M:1),xe=Math.floor(typeof D=="number"&&!isNaN(D)?D:1),Ve=this._buffer.getLineCount();if(oe<1)return new d.a(1,1);if(oe>Ve)return new d.a(Ve,this.getLineMaxColumn(Ve));if(xe<=1)return new d.a(oe,1);var lt=this.getLineMaxColumn(oe);if(xe>=lt)return new d.a(oe,lt);if(G===1){var pt=this._buffer.getLineCharCode(oe,xe-2);if(F.F(pt))return new d.a(oe,xe-1)}return new d.a(oe,xe)}},{key:"validatePosition",value:function(M){var D=1;return this._assertNotDisposed(),M instanceof d.a&&this._isValidPosition(M.lineNumber,M.column,D)?M:this._validatePosition(M.lineNumber,M.column,D)}},{key:"_isValidRange",value:function(M,D){var G=M.startLineNumber,oe=M.startColumn,xe=M.endLineNumber,Ve=M.endColumn;if(!this._isValidPosition(G,oe,0)||!this._isValidPosition(xe,Ve,0))return!1;if(D===1){var lt=oe>1?this._buffer.getLineCharCode(G,oe-2):0,pt=Ve>1&&Ve<=this._buffer.getLineLength(xe)?this._buffer.getLineCharCode(xe,Ve-2):0,xt=F.F(lt),sn=F.F(pt);return!xt&&!sn}return!0}},{key:"validateRange",value:function(M){var D=1;if(this._assertNotDisposed(),M instanceof j.a&&!(M instanceof C.a)&&this._isValidRange(M,D))return M;var G=this._validatePosition(M.startLineNumber,M.startColumn,0),oe=this._validatePosition(M.endLineNumber,M.endColumn,0),xe=G.lineNumber,Ve=G.column,lt=oe.lineNumber,pt=oe.column;if(D===1){var xt=Ve>1?this._buffer.getLineCharCode(xe,Ve-2):0,sn=pt>1&&pt<=this._buffer.getLineLength(lt)?this._buffer.getLineCharCode(lt,pt-2):0,ln=F.F(xt),mn=F.F(sn);return!ln&&!mn?new j.a(xe,Ve,lt,pt):xe===lt&&Ve===pt?new j.a(xe,Ve-1,lt,pt-1):ln&&mn?new j.a(xe,Ve-1,lt,pt+1):ln?new j.a(xe,Ve-1,lt,pt):new j.a(xe,Ve,lt,pt+1)}return new j.a(xe,Ve,lt,pt)}},{key:"modifyPosition",value:function(M,D){this._assertNotDisposed();var G=this.getOffsetAt(M)+D;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,G)))}},{key:"getFullModelRange",value:function(){this._assertNotDisposed();var M=this.getLineCount();return new j.a(1,1,M,this.getLineMaxColumn(M))}},{key:"findMatchesLineByLine",value:function(M,D,G,oe){return this._buffer.findMatchesLineByLine(M,D,G,oe)}},{key:"findMatches",value:function(M,D,G,oe,xe,Ve){var lt=this,pt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Vn;this._assertNotDisposed();var xt=null;D!==null&&(Array.isArray(D)||(D=[D]),D.every(function(ai){return j.a.isIRange(ai)})&&(xt=D.map(function(ai){return lt.validateRange(ai)}))),xt===null&&(xt=[this.getFullModelRange()]),xt=xt.sort(function(ai,pi){return ai.startLineNumber-pi.startLineNumber||ai.startColumn-pi.startColumn});var sn=[];sn.push(xt.reduce(function(ai,pi){return j.a.areIntersecting(ai,pi)?ai.plusRange(pi):(sn.push(ai),pi)}));var ln;if(!G&&M.indexOf(`
`)<0){var mn=new pr.a(M,G,oe,xe),Tn=mn.parseSearchRequest();if(!Tn)return[];ln=function(pi){return lt.findMatchesLineByLine(pi,Tn,Ve,pt)}}else ln=function(pi){return pr.c.findMatches(lt,new pr.a(M,G,oe,xe),pi,Ve,pt)};return sn.map(ln).reduce(function(ai,pi){return ai.concat(pi)},[])}},{key:"findNextMatch",value:function(M,D,G,oe,xe,Ve){this._assertNotDisposed();var lt=this.validatePosition(D);if(!G&&M.indexOf(`
`)<0){var pt=new pr.a(M,G,oe,xe),xt=pt.parseSearchRequest();if(!xt)return null;var sn=this.getLineCount(),ln=new j.a(lt.lineNumber,lt.column,sn,this.getLineMaxColumn(sn)),mn=this.findMatchesLineByLine(ln,xt,Ve,1);return pr.c.findNextMatch(this,new pr.a(M,G,oe,xe),lt,Ve),mn.length>0||(ln=new j.a(1,1,lt.lineNumber,this.getLineMaxColumn(lt.lineNumber)),mn=this.findMatchesLineByLine(ln,xt,Ve,1),mn.length>0)?mn[0]:null}return pr.c.findNextMatch(this,new pr.a(M,G,oe,xe),lt,Ve)}},{key:"findPreviousMatch",value:function(M,D,G,oe,xe,Ve){this._assertNotDisposed();var lt=this.validatePosition(D);return pr.c.findPreviousMatch(this,new pr.a(M,G,oe,xe),lt,Ve)}},{key:"pushStackElement",value:function(){this._commandManager.pushStackElement()}},{key:"popStackElement",value:function(){this._commandManager.popStackElement()}},{key:"pushEOL",value:function(M){var D=this.getEOL()===`
`?0:1;if(D!==M)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(M)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}},{key:"_validateEditOperation",value:function(M){return M instanceof z.i?M:new z.i(M.identifier||null,this.validateRange(M.range),M.text,M.forceMoveMarkers||!1,M.isAutoWhitespaceEdit||!1,M._isTracked||!1)}},{key:"_validateEditOperations",value:function(M){for(var D=[],G=0,oe=M.length;G<oe;G++)D[G]=this._validateEditOperation(M[G]);return D}},{key:"pushEditOperations",value:function(M,D,G,oe){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(M,this._validateEditOperations(D),G,oe)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}},{key:"_pushEditOperations",value:function(M,D,G,oe){var xe=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){var Ve=D.map(function(Ya){return{range:xe.validateRange(Ya.range),text:Ya.text}}),lt=!0;if(M)for(var pt=0,xt=M.length;pt<xt;pt++){for(var sn=M[pt],ln=!1,mn=0,Tn=Ve.length;mn<Tn;mn++){var ai=Ve[mn].range,pi=ai.startLineNumber>sn.endLineNumber,yi=sn.startLineNumber>ai.endLineNumber;if(!pi&&!yi){ln=!0;break}}if(!ln){lt=!1;break}}if(lt)for(var vi=0,Bt=this._trimAutoWhitespaceLines.length;vi<Bt;vi++){for(var hr=this._trimAutoWhitespaceLines[vi],Ii=this.getLineMaxColumn(hr),Ar=!0,Gr=0,ea=Ve.length;Gr<ea;Gr++){var ya=Ve[Gr].range,Da=Ve[Gr].text;if(!(hr<ya.startLineNumber||hr>ya.endLineNumber)&&!(hr===ya.startLineNumber&&ya.startColumn===Ii&&ya.isEmpty()&&Da&&Da.length>0&&Da.charAt(0)===`
`)&&!(hr===ya.startLineNumber&&ya.startColumn===1&&ya.isEmpty()&&Da&&Da.length>0&&Da.charAt(Da.length-1)===`
`)){Ar=!1;break}}if(Ar){var ta=new j.a(hr,1,hr,Ii);D.push(new z.i(null,ta,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(M,D,G,oe)}},{key:"_applyUndo",value:function(M,D,G,oe){var xe=this,Ve=M.map(function(lt){var pt=xe.getPositionAt(lt.newPosition),xt=xe.getPositionAt(lt.newEnd);return{range:new j.a(pt.lineNumber,pt.column,xt.lineNumber,xt.column),text:lt.oldText}});this._applyUndoRedoEdits(Ve,D,!0,!1,G,oe)}},{key:"_applyRedo",value:function(M,D,G,oe){var xe=this,Ve=M.map(function(lt){var pt=xe.getPositionAt(lt.oldPosition),xt=xe.getPositionAt(lt.oldEnd);return{range:new j.a(pt.lineNumber,pt.column,xt.lineNumber,xt.column),text:lt.newText}});this._applyUndoRedoEdits(Ve,D,!1,!0,G,oe)}},{key:"_applyUndoRedoEdits",value:function(M,D,G,oe,xe,Ve){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=G,this._isRedoing=oe,this.applyEdits(M,!1),this.setEOL(D),this._overwriteAlternativeVersionId(xe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Ve),this._onDidChangeDecorations.endDeferredEmit()}}},{key:"applyEdits",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();var G=this._validateEditOperations(M);return this._doApplyEdits(G,D)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}},{key:"_doApplyEdits",value:function(M,D){var G=this,oe=this._buffer.getLineCount(),xe=this._buffer.applyEdits(M,this._options.trimAutoWhitespace,D),Ve=this._buffer.getLineCount(),lt=xe.changes;if(this._trimAutoWhitespaceLines=xe.trimAutoWhitespaceLineNumbers,lt.length!==0){for(var pt=0,xt=lt.length;pt<xt;pt++){var sn=lt[pt];this._decorationsTree.acceptReplace(sn.rangeOffset,sn.rangeLength,sn.text.length,sn.forceMoveMarkers)}var ln=[];this._increaseVersionId();for(var mn=oe,Tn=0,ai=lt.length;Tn<ai;Tn++){var pi=lt[Tn],yi=Object(N.a)(pi.text),vi=Object(De.a)(yi,1),Bt=vi[0];this._onDidChangeDecorations.fire();for(var hr=pi.range.startLineNumber,Ii=pi.range.endLineNumber,Ar=Ii-hr,Gr=Bt,ea=Math.min(Ar,Gr),ya=Gr-Ar,Da=Ve-mn-ya+hr,ta=Da,Ya=Da+Gr,Va=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new d.a(ta,1)),this.getOffsetAt(new d.a(Ya,this.getLineMaxColumn(Ya))),0),mo=ki.b.fromDecorations(Va),po=new L.a(mo),zo=function(Es){var ul=hr+Es,Us=Da+Es;po.takeFromEndWhile(function(cl){return cl.lineNumber>Us});var lu=po.takeFromEndWhile(function(cl){return cl.lineNumber===Us});ln.push(new ki.g(ul,G.getLineContent(Us),lu))},Ss=ea;Ss>=0;Ss--)zo(Ss);if(ea<Ar){var Xo=hr+ea;ln.push(new ki.h(Xo+1,Ii))}if(ea<Gr){for(var Ko=new L.a(mo),ds=hr+ea,go=Gr-ea,Go=Ve-mn-go+ds+1,Jo=[],$o=[],As=function(Es){var ul=Go+Es;$o[Es]=G.getLineContent(ul),Ko.takeWhile(function(Us){return Us.lineNumber<ul}),Jo[Es]=Ko.takeWhile(function(Us){return Us.lineNumber===ul})},ou=0;ou<go;ou++)As(ou);ln.push(new ki.i(ds+1,hr+Gr,$o,Jo))}mn+=ya}this._emitContentChangedEvent(new ki.d(ln,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:lt,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return xe.reverseEdits===null?void 0:xe.reverseEdits}},{key:"undo",value:function(){return this._undoRedoService.undo(this.uri)}},{key:"canUndo",value:function(){return this._undoRedoService.canUndo(this.uri)}},{key:"redo",value:function(){return this._undoRedoService.redo(this.uri)}},{key:"canRedo",value:function(){return this._undoRedoService.canRedo(this.uri)}},{key:"handleBeforeFireDecorationsChangedEvent",value:function(M){var D=this;if(!(M===null||M.size===0)){var G=Array.from(M),oe=G.map(function(xe){return new ki.g(xe,D.getLineContent(xe),D._getInjectedTextInLine(xe))});this._onDidChangeInjectedText.fire(new ki.c(oe))}}},{key:"changeDecorations",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(D,M)}finally{this._onDidChangeDecorations.endDeferredEmit()}}},{key:"_changeDecorations",value:function(M,D){var G=this,oe={addDecoration:function(lt,pt){return G._deltaDecorationsImpl(M,[],[{range:lt,options:pt}])[0]},changeDecoration:function(lt,pt){G._changeDecorationImpl(lt,pt)},changeDecorationOptions:function(lt,pt){G._changeDecorationOptionsImpl(lt,ka(pt))},removeDecoration:function(lt){G._deltaDecorationsImpl(M,[lt],[])},deltaDecorations:function(lt,pt){return lt.length===0&&pt.length===0?[]:G._deltaDecorationsImpl(M,lt,pt)}},xe=null;try{xe=D(oe)}catch(Ve){Object(ee.h)(Ve)}return oe.addDecoration=Zi,oe.changeDecoration=Zi,oe.changeDecorationOptions=Zi,oe.removeDecoration=Zi,oe.deltaDecorations=Zi,xe}},{key:"deltaDecorations",value:function(M,D){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this._assertNotDisposed(),M||(M=[]),M.length===0&&D.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),Object(ee.h)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(G,M,D)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}},{key:"_getTrackedRange",value:function(M){return this.getDecorationRange(M)}},{key:"_setTrackedRange",value:function(M,D,G){var oe=M?this._decorations[M]:null;if(!oe)return D?this._deltaDecorationsImpl(0,[],[{range:D,options:ao[G]}],!0)[0]:null;if(!D)return this._decorationsTree.delete(oe),delete this._decorations[oe.id],null;var xe=this._validateRangeRelaxedNoAllocations(D),Ve=this._buffer.getOffsetAt(xe.startLineNumber,xe.startColumn),lt=this._buffer.getOffsetAt(xe.endLineNumber,xe.endColumn);return this._decorationsTree.delete(oe),oe.reset(this.getVersionId(),Ve,lt,xe),oe.setOptions(ao[G]),this._decorationsTree.insert(oe),oe.id}},{key:"removeAllDecorationsWithOwnerId",value:function(M){if(!this._isDisposed)for(var D=this._decorationsTree.collectNodesFromOwner(M),G=0,oe=D.length;G<oe;G++){var xe=D[G];this._decorationsTree.delete(xe),delete this._decorations[xe.id]}}},{key:"getDecorationOptions",value:function(M){var D=this._decorations[M];return D?D.options:null}},{key:"getDecorationRange",value:function(M){var D=this._decorations[M];return D?this._decorationsTree.getNodeRange(this,D):null}},{key:"getLineDecorations",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return M<1||M>this.getLineCount()?[]:this.getLinesDecorations(M,M,D,G)}},{key:"getLinesDecorations",value:function(M,D){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,xe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,Ve=this.getLineCount(),lt=Math.min(Ve,Math.max(1,M)),pt=Math.min(Ve,Math.max(1,D)),xt=this.getLineMaxColumn(pt),sn=new j.a(lt,1,pt,xt),ln=this._getDecorationsInRange(sn,G,oe,xe);return Object(L.v)(ln,this._decorationProvider.getDecorationsInRange(sn,G,oe)),ln}},{key:"getDecorationsInRange",value:function(M){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,xe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,Ve=this.validateRange(M),lt=this._getDecorationsInRange(Ve,D,G,xe);return Object(L.v)(lt,this._decorationProvider.getDecorationsInRange(Ve,D,G,oe)),lt}},{key:"getOverviewRulerDecorations",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._decorationsTree.getAll(this,M,D,!0,!1)}},{key:"getInjectedTextDecorations",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this._decorationsTree.getAllInjectedText(this,M)}},{key:"_getInjectedTextInLine",value:function(M){var D=this._buffer.getOffsetAt(M,1),G=D+this._buffer.getLineLength(M),oe=this._decorationsTree.getInjectedTextInInterval(this,D,G,0);return ki.b.fromDecorations(oe).filter(function(xe){return xe.lineNumber===M})}},{key:"getAllDecorations",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=this._decorationsTree.getAll(this,M,D,!1,!1);return G=G.concat(this._decorationProvider.getAllDecorations(M,D)),G}},{key:"getAllMarginDecorations",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this._decorationsTree.getAll(this,M,!1,!1,!0)}},{key:"_getDecorationsInRange",value:function(M,D,G,oe){var xe=this._buffer.getOffsetAt(M.startLineNumber,M.startColumn),Ve=this._buffer.getOffsetAt(M.endLineNumber,M.endColumn);return this._decorationsTree.getAllInInterval(this,xe,Ve,D,G,oe)}},{key:"getRangeAt",value:function(M,D){return this._buffer.getRangeAt(M,D-M)}},{key:"_changeDecorationImpl",value:function(M,D){var G=this._decorations[M];if(!!G){if(G.options.after){var oe=this.getDecorationRange(M);this._onDidChangeDecorations.recordLineAffectedByInjectedText(oe.endLineNumber)}if(G.options.before){var xe=this.getDecorationRange(M);this._onDidChangeDecorations.recordLineAffectedByInjectedText(xe.startLineNumber)}var Ve=this._validateRangeRelaxedNoAllocations(D),lt=this._buffer.getOffsetAt(Ve.startLineNumber,Ve.startColumn),pt=this._buffer.getOffsetAt(Ve.endLineNumber,Ve.endColumn);this._decorationsTree.delete(G),G.reset(this.getVersionId(),lt,pt,Ve),this._decorationsTree.insert(G),this._onDidChangeDecorations.checkAffectedAndFire(G.options),G.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ve.endLineNumber),G.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ve.startLineNumber)}}},{key:"_changeDecorationOptionsImpl",value:function(M,D){var G=this._decorations[M];if(!!G){var oe=!!(G.options.overviewRuler&&G.options.overviewRuler.color),xe=!!(D.overviewRuler&&D.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(G.options),this._onDidChangeDecorations.checkAffectedAndFire(D),G.options.after||D.after){var Ve=this._decorationsTree.getNodeRange(this,G);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ve.endLineNumber)}if(G.options.before||D.before){var lt=this._decorationsTree.getNodeRange(this,G);this._onDidChangeDecorations.recordLineAffectedByInjectedText(lt.startLineNumber)}oe!==xe?(this._decorationsTree.delete(G),G.setOptions(D),this._decorationsTree.insert(G)):G.setOptions(D)}}},{key:"_deltaDecorationsImpl",value:function(M,D,G){var oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,xe=this.getVersionId(),Ve=D.length,lt=0,pt=G.length,xt=0;this._onDidChangeDecorations.beginDeferredEmit();try{for(var sn=new Array(pt);lt<Ve||xt<pt;){var ln=null;if(lt<Ve){do ln=this._decorations[D[lt++]];while(!ln&&lt<Ve);if(ln){if(ln.options.after){var mn=this._decorationsTree.getNodeRange(this,ln);this._onDidChangeDecorations.recordLineAffectedByInjectedText(mn.endLineNumber)}if(ln.options.before){var Tn=this._decorationsTree.getNodeRange(this,ln);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Tn.startLineNumber)}this._decorationsTree.delete(ln),oe||this._onDidChangeDecorations.checkAffectedAndFire(ln.options)}}if(xt<pt){if(!ln){var ai=++this._lastDecorationId,pi="".concat(this._instanceId,";").concat(ai);ln=new En(pi,0,0),this._decorations[pi]=ln}var yi=G[xt],vi=this._validateRangeRelaxedNoAllocations(yi.range),Bt=ka(yi.options),hr=this._buffer.getOffsetAt(vi.startLineNumber,vi.startColumn),Ii=this._buffer.getOffsetAt(vi.endLineNumber,vi.endColumn);ln.ownerId=M,ln.reset(xe,hr,Ii,vi),ln.setOptions(Bt),ln.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(vi.endLineNumber),ln.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(vi.startLineNumber),oe||this._onDidChangeDecorations.checkAffectedAndFire(Bt),this._decorationsTree.insert(ln),sn[xt]=ln.id,xt++}else ln&&delete this._decorations[ln.id]}return sn}finally{this._onDidChangeDecorations.endDeferredEmit()}}},{key:"getLanguageId",value:function(){return this.tokenization.getLanguageId()}},{key:"setLanguage",value:function(M,D){var G=this;typeof M=="string"?(this._languageSelectionListener.clear(),this._setLanguage(M,D)):(this._languageSelectionListener.value=M.onDidChange(function(){return G._setLanguage(M.languageId,D)}),this._setLanguage(M.languageId,D))}},{key:"_setLanguage",value:function(M,D){this.tokenization.setLanguageId(M,D),this._languageService.requestRichLanguageFeatures(M)}},{key:"getLanguageIdAtPosition",value:function(M,D){return this.tokenization.getLanguageIdAtPosition(M,D)}},{key:"getWordAtPosition",value:function(M){return this._tokenizationTextModelPart.getWordAtPosition(M)}},{key:"getWordUntilPosition",value:function(M){return this._tokenizationTextModelPart.getWordUntilPosition(M)}},{key:"normalizePosition",value:function(M,D){return M}},{key:"getLineIndentColumn",value:function(M){return Wr(this.getLineContent(M))+1}}],[{key:"resolveOptions",value:function(M,D){if(D.detectIndentation){var G=Ge(M,D.tabSize,D.insertSpaces);return new z.h({tabSize:G.tabSize,indentSize:"tabSize",insertSpaces:G.insertSpaces,trimAutoWhitespace:D.trimAutoWhitespace,defaultEOL:D.defaultEOL,bracketPairColorizationOptions:D.bracketPairColorizationOptions})}return new z.h(D)}}]),_e}(W.a);zi._MODEL_SYNC_LIMIT=50*1024*1024,zi.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,zi.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,zi.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:x.a.tabSize,indentSize:x.a.indentSize,insertSpaces:x.a.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:x.a.trimAutoWhitespace,largeFileOptimizations:x.a.largeFileOptimizations,bracketPairColorizationOptions:x.a.bracketPairColorizationOptions},zi=Tr([ir(4,Ki.a),ir(5,S.a),ir(6,T.a)],zi);function Wr(At){var nt=0,_e=Object(le.a)(At),q;try{for(_e.s();!(q=_e.n()).done;){var M=q.value;if(M===" "||M==="	")nt++;else break}}catch(D){_e.e(D)}finally{_e.f()}return nt}function Ra(At){return!!(At.options.overviewRuler&&At.options.overviewRuler.color)}function Nr(At){return!!At.options.after||!!At.options.before}var xa=function(){function At(){Object(y.a)(this,At),this._decorationsTree0=new si,this._decorationsTree1=new si,this._injectedTextDecorationsTree=new si}return Object(Q.a)(At,[{key:"ensureAllNodesHaveRanges",value:function(_e){this.getAll(_e,0,!1,!1,!1)}},{key:"_ensureNodesHaveRanges",value:function(_e,q){var M=Object(le.a)(q),D;try{for(M.s();!(D=M.n()).done;){var G=D.value;G.range===null&&(G.range=_e.getRangeAt(G.cachedAbsoluteStart,G.cachedAbsoluteEnd))}}catch(oe){M.e(oe)}finally{M.f()}return q}},{key:"getAllInInterval",value:function(_e,q,M,D,G,oe){var xe=_e.getVersionId(),Ve=this._intervalSearch(q,M,D,G,xe,oe);return this._ensureNodesHaveRanges(_e,Ve)}},{key:"_intervalSearch",value:function(_e,q,M,D,G,oe){var xe=this._decorationsTree0.intervalSearch(_e,q,M,D,G,oe),Ve=this._decorationsTree1.intervalSearch(_e,q,M,D,G,oe),lt=this._injectedTextDecorationsTree.intervalSearch(_e,q,M,D,G,oe);return xe.concat(Ve).concat(lt)}},{key:"getInjectedTextInInterval",value:function(_e,q,M,D){var G=_e.getVersionId(),oe=this._injectedTextDecorationsTree.intervalSearch(q,M,D,!1,G,!1);return this._ensureNodesHaveRanges(_e,oe).filter(function(xe){return xe.options.showIfCollapsed||!xe.range.isEmpty()})}},{key:"getAllInjectedText",value:function(_e,q){var M=_e.getVersionId(),D=this._injectedTextDecorationsTree.search(q,!1,M,!1);return this._ensureNodesHaveRanges(_e,D).filter(function(G){return G.options.showIfCollapsed||!G.range.isEmpty()})}},{key:"getAll",value:function(_e,q,M,D,G){var oe=_e.getVersionId(),xe=this._search(q,M,D,oe,G);return this._ensureNodesHaveRanges(_e,xe)}},{key:"_search",value:function(_e,q,M,D,G){if(M)return this._decorationsTree1.search(_e,q,D,G);var oe=this._decorationsTree0.search(_e,q,D,G),xe=this._decorationsTree1.search(_e,q,D,G),Ve=this._injectedTextDecorationsTree.search(_e,q,D,G);return oe.concat(xe).concat(Ve)}},{key:"collectNodesFromOwner",value:function(_e){var q=this._decorationsTree0.collectNodesFromOwner(_e),M=this._decorationsTree1.collectNodesFromOwner(_e),D=this._injectedTextDecorationsTree.collectNodesFromOwner(_e);return q.concat(M).concat(D)}},{key:"collectNodesPostOrder",value:function(){var _e=this._decorationsTree0.collectNodesPostOrder(),q=this._decorationsTree1.collectNodesPostOrder(),M=this._injectedTextDecorationsTree.collectNodesPostOrder();return _e.concat(q).concat(M)}},{key:"insert",value:function(_e){Nr(_e)?this._injectedTextDecorationsTree.insert(_e):Ra(_e)?this._decorationsTree1.insert(_e):this._decorationsTree0.insert(_e)}},{key:"delete",value:function(_e){Nr(_e)?this._injectedTextDecorationsTree.delete(_e):Ra(_e)?this._decorationsTree1.delete(_e):this._decorationsTree0.delete(_e)}},{key:"getNodeRange",value:function(_e,q){var M=_e.getVersionId();return q.cachedVersionId!==M&&this._resolveNode(q,M),q.range===null&&(q.range=_e.getRangeAt(q.cachedAbsoluteStart,q.cachedAbsoluteEnd)),q.range}},{key:"_resolveNode",value:function(_e,q){Nr(_e)?this._injectedTextDecorationsTree.resolveNode(_e,q):Ra(_e)?this._decorationsTree1.resolveNode(_e,q):this._decorationsTree0.resolveNode(_e,q)}},{key:"acceptReplace",value:function(_e,q,M,D){this._decorationsTree0.acceptReplace(_e,q,M,D),this._decorationsTree1.acceptReplace(_e,q,M,D),this._injectedTextDecorationsTree.acceptReplace(_e,q,M,D)}}]),At}();function Qa(At){return At.replace(/[^a-z0-9\-_]/gi," ")}var ia=Object(Q.a)(function At(nt){Object(y.a)(this,At),this.color=nt.color||"",this.darkColor=nt.darkColor||""}),io=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q){var M;return Object(y.a)(this,_e),M=nt.call(this,q),M._resolvedColor=null,M.position=typeof q.position=="number"?q.position:z.f.Center,M}return Object(Q.a)(_e,[{key:"getColor",value:function(M){return this._resolvedColor||(M.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,M):this._resolvedColor=this._resolveColor(this.color,M)),this._resolvedColor}},{key:"invalidateCachedColor",value:function(){this._resolvedColor=null}},{key:"_resolveColor",value:function(M,D){if(typeof M=="string")return M;var G=M?D.getColor(M.id):null;return G?G.toString():""}}]),_e}(ia),ro=Object(Q.a)(function At(nt){Object(y.a)(this,At);var _e;this.position=(_e=nt==null?void 0:nt.position)!==null&&_e!==void 0?_e:z.c.Left}),vo=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q){var M;return Object(y.a)(this,_e),M=nt.call(this,q),M.position=q.position,M}return Object(Q.a)(_e,[{key:"getColor",value:function(M){return this._resolvedColor||(M.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,M):this._resolvedColor=this._resolveColor(this.color,M)),this._resolvedColor}},{key:"invalidateCachedColor",value:function(){this._resolvedColor=void 0}},{key:"_resolveColor",value:function(M,D){return typeof M=="string"?ne.a.fromHex(M):D.getColor(M.id)}}]),_e}(ia),Zo=function(){function At(nt){Object(y.a)(this,At),this.content=nt.content||"",this.inlineClassName=nt.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=nt.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=nt.attachedData||null,this.cursorStops=nt.cursorStops||null}return Object(Q.a)(At,null,[{key:"from",value:function(_e){return _e instanceof At?_e:new At(_e)}}]),At}(),Hr=function(){function At(nt){Object(y.a)(this,At);var _e,q,M,D,G;this.description=nt.description,this.blockClassName=nt.blockClassName?Qa(nt.blockClassName):null,this.blockDoesNotCollapse=(_e=nt.blockDoesNotCollapse)!==null&&_e!==void 0?_e:null,this.blockIsAfterEnd=(q=nt.blockIsAfterEnd)!==null&&q!==void 0?q:null,this.blockPadding=(M=nt.blockPadding)!==null&&M!==void 0?M:null,this.stickiness=nt.stickiness||0,this.zIndex=nt.zIndex||0,this.className=nt.className?Qa(nt.className):null,this.hoverMessage=nt.hoverMessage||null,this.glyphMarginHoverMessage=nt.glyphMarginHoverMessage||null,this.isWholeLine=nt.isWholeLine||!1,this.showIfCollapsed=nt.showIfCollapsed||!1,this.collapseOnReplaceEdit=nt.collapseOnReplaceEdit||!1,this.overviewRuler=nt.overviewRuler?new io(nt.overviewRuler):null,this.minimap=nt.minimap?new vo(nt.minimap):null,this.glyphMargin=nt.glyphMarginClassName?new ro(nt.glyphMargin):null,this.glyphMarginClassName=nt.glyphMarginClassName?Qa(nt.glyphMarginClassName):null,this.linesDecorationsClassName=nt.linesDecorationsClassName?Qa(nt.linesDecorationsClassName):null,this.firstLineDecorationClassName=nt.firstLineDecorationClassName?Qa(nt.firstLineDecorationClassName):null,this.marginClassName=nt.marginClassName?Qa(nt.marginClassName):null,this.inlineClassName=nt.inlineClassName?Qa(nt.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=nt.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=nt.beforeContentClassName?Qa(nt.beforeContentClassName):null,this.afterContentClassName=nt.afterContentClassName?Qa(nt.afterContentClassName):null,this.after=nt.after?Zo.from(nt.after):null,this.before=nt.before?Zo.from(nt.before):null,this.hideInCommentTokens=(D=nt.hideInCommentTokens)!==null&&D!==void 0?D:!1,this.hideInStringTokens=(G=nt.hideInStringTokens)!==null&&G!==void 0?G:!1}return Object(Q.a)(At,null,[{key:"register",value:function(_e){return new At(_e)}},{key:"createDynamic",value:function(_e){return new At(_e)}}]),At}();Hr.EMPTY=Hr.register({description:"empty"});var ao=[Hr.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Hr.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Hr.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Hr.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ka(At){return At instanceof Hr?At:Hr.createDynamic(At)}var ua=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(q){var M;return Object(y.a)(this,_e),M=nt.call(this),M.handleBeforeFire=q,M._actual=M._register(new H.b),M.event=M._actual.event,M._affectedInjectedTextLines=null,M._deferredCnt=0,M._shouldFireDeferred=!1,M._affectsMinimap=!1,M._affectsOverviewRuler=!1,M._affectsGlyphMargin=!1,M}return Object(Q.a)(_e,[{key:"beginDeferredEmit",value:function(){this._deferredCnt++}},{key:"endDeferredEmit",value:function(){var M;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(M=this._affectedInjectedTextLines)===null||M===void 0||M.clear(),this._affectedInjectedTextLines=null)}},{key:"recordLineAffectedByInjectedText",value:function(M){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(M)}},{key:"checkAffectedAndFire",value:function(M){this._affectsMinimap||(this._affectsMinimap=!!(M.minimap&&M.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(M.overviewRuler&&M.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!M.glyphMarginClassName),this.tryFire()}},{key:"fire",value:function(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}},{key:"tryFire",value:function(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}},{key:"doFire",value:function(){this.handleBeforeFire(this._affectedInjectedTextLines);var M={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(M)}}]),_e}(W.a),La=function(At){Object(J.a)(_e,At);var nt=Object($.a)(_e);function _e(){var q;return Object(y.a)(this,_e),q=nt.call(this),q._fastEmitter=q._register(new H.b),q.fastEvent=q._fastEmitter.event,q._slowEmitter=q._register(new H.b),q.slowEvent=q._slowEmitter.event,q._deferredCnt=0,q._deferredEvent=null,q}return Object(Q.a)(_e,[{key:"beginDeferredEmit",value:function(){this._deferredCnt++}},{key:"endDeferredEmit",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=M;var D=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(D),this._slowEmitter.fire(D)}}},{key:"fire",value:function(M){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(M):this._deferredEvent=M;return}this._fastEmitter.fire(M),this._slowEmitter.fire(M)}}]),_e}(W.a),Mo=function(){function At(){Object(y.a)(this,At),this._onDidChangeVisibleRanges=new H.b,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}return Object(Q.a)(At,[{key:"attachView",value:function(){var _e=this,q=new ts(function(M){_e._onDidChangeVisibleRanges.fire({view:q,state:M})});return this._views.add(q),q}},{key:"detachView",value:function(_e){this._views.delete(_e),this._onDidChangeVisibleRanges.fire({view:_e,state:void 0})}}]),At}(),ts=function(){function At(nt){Object(y.a)(this,At),this.handleStateChange=nt}return Object(Q.a)(At,[{key:"setVisibleLines",value:function(_e,q){var M=_e.map(function(D){return new on.a(D.startLineNumber,D.endLineNumber+1)});this.handleStateChange({visibleLineRanges:M,stabilized:q})}}]),At}()},tYmi:function(fn,K,a){"use strict";a.d(K,"c",function(){return J}),a.d(K,"b",function(){return Q}),a.d(K,"a",function(){return ne});var le=a("fWQN"),De=a("mtLc"),E=a("/cxE"),ve=a("MNsG"),re=a("bY76"),J;(function(H){H.inMemory="inmemory",H.vscode="vscode",H.internal="private",H.walkThrough="walkThrough",H.walkThroughSnippet="walkThroughSnippet",H.http="http",H.https="https",H.file="file",H.mailto="mailto",H.untitled="untitled",H.data="data",H.command="command",H.vscodeRemote="vscode-remote",H.vscodeRemoteResource="vscode-remote-resource",H.vscodeUserData="vscode-userdata",H.vscodeCustomEditor="vscode-custom-editor",H.vscodeNotebookCell="vscode-notebook-cell",H.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",H.vscodeNotebookCellOutput="vscode-notebook-cell-output",H.vscodeInteractive="vscode-interactive",H.vscodeInteractiveInput="vscode-interactive-input",H.vscodeSettings="vscode-settings",H.vscodeWorkspaceTrust="vscode-workspace-trust",H.vscodeTerminal="vscode-terminal",H.vscodeChatSesssion="vscode-chat-editor",H.webviewPanel="webview-panel",H.vscodeWebview="vscode-webview",H.extension="extension",H.vscodeFileResource="vscode-file",H.tmp="tmp",H.vsls="vsls",H.vscodeSourceControl="vscode-scm"})(J||(J={}));var $="tkn",y=function(){function H(){Object(le.a)(this,H),this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath="/".concat(J.vscodeRemoteResource)}return Object(De.a)(H,[{key:"setPreferredWebSchema",value:function(F){this._preferredWebSchema=F}},{key:"rewrite",value:function(F){if(this._delegate)try{return this._delegate(F)}catch(C){return E.h(C),F}var V=F.authority,N=this._hosts[V];N&&N.indexOf(":")!==-1&&N.indexOf("[")===-1&&(N="[".concat(N,"]"));var U=this._ports[V],d=this._connectionTokens[V],j="path=".concat(encodeURIComponent(F.path));return typeof d=="string"&&(j+="&".concat($,"=").concat(encodeURIComponent(d))),re.a.from({scheme:ve.m?this._preferredWebSchema:J.vscodeRemoteResource,authority:"".concat(N,":").concat(U),path:this._remoteResourcesPath,query:j})}}]),H}(),Q=new y,L=function(){function H(){Object(le.a)(this,H)}return Object(De.a)(H,[{key:"uriToBrowserUri",value:function(F){return F.scheme===J.vscodeRemote?Q.rewrite(F):F.scheme===J.file&&(ve.k||ve.n&&ve.b.origin==="".concat(J.vscodeFileResource,"://").concat(H.FALLBACK_AUTHORITY))?F.with({scheme:J.vscodeFileResource,authority:F.authority||H.FALLBACK_AUTHORITY,query:null,fragment:null}):F}}]),H}();L.FALLBACK_AUTHORITY="vscode-app";var ne=new L,ee;(function(H){var W=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);H.CoopAndCoep=Object.freeze(W.get("3"));var F="vscode-coi";function V(U){var d;typeof U=="string"?d=new URL(U).searchParams:U instanceof URL?d=U.searchParams:re.a.isUri(U)&&(d=new URL(U.toString(!0)).searchParams);var j=d==null?void 0:d.get(F);if(!!j)return W.get(j)}H.getHeadersFromQuery=V;function N(U,d,j){if(!!globalThis.crossOriginIsolated){var C=d&&j?"3":j?"2":"1";U instanceof URLSearchParams?U.set(F,C):U[F]=C}}H.addSearchParam=N})(ee||(ee={}))},tkDr:function(fn,K,a){},tvLE:function(fn,K,a){},u1OI:function(fn,K,a){},uD7z:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("hkzD"),De=le.a.Group},uDWl:function(fn,K,a){"use strict";a.d(K,"a",function(){return ee});var le=a("fWQN"),De=a("mtLc"),E=a("D3Dy"),ve=a("/kV6"),re=a("Szf2"),J=a("MNsG");function $(H){if(H.charCode){var W=String.fromCharCode(H.charCode).toUpperCase();return ve.d.fromString(W)}var F=H.keyCode;if(F===3)return 7;if(E.isFirefox)switch(F){case 59:return 85;case 60:if(J.g)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(J.i)return 57;break}else if(E.isWebKit){if(J.i&&F===93)return 57;if(!J.i&&F===92)return 57}return ve.a[F]||0}var y=J.i?256:2048,Q=512,L=1024,ne=J.i?2048:256,ee=function(){function H(W){Object(le.a)(this,H),this._standardKeyboardEventBrand=!0;var F=W;this.browserEvent=F,this.target=F.target,this.ctrlKey=F.ctrlKey,this.shiftKey=F.shiftKey,this.altKey=F.altKey,this.metaKey=F.metaKey,this.altGraphKey=F.getModifierState("AltGraph"),this.keyCode=$(F),this.code=F.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}return Object(De.a)(H,[{key:"preventDefault",value:function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}},{key:"toKeyCodeChord",value:function(){return this._asKeyCodeChord}},{key:"equals",value:function(F){return this._asKeybinding===F}},{key:"_computeKeybinding",value:function(){var F=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(F=this.keyCode);var V=0;return this.ctrlKey&&(V|=y),this.altKey&&(V|=Q),this.shiftKey&&(V|=L),this.metaKey&&(V|=ne),V|=F,V}},{key:"_computeKeyCodeChord",value:function(){var F=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(F=this.keyCode),new re.a(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,F)}}]),H}()},ubTv:function(fn,K,a){"use strict";a.d(K,"a",function(){return le});var le=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},undH:function(fn,K,a){},v1vZ:function(fn,K,a){"use strict";a.d(K,"b",function(){return U}),a.d(K,"a",function(){return d}),a.d(K,"c",function(){return T});var le=a("rAM+"),De=a("fWQN"),E=a("mtLc"),ve=a("X+cX"),re=a("Vhoy"),J=a("T5lh"),$=a("MI8n"),y=a("746U"),Q=a("bY76"),L=a("3/fG"),ne=a("3Rsk"),ee=a("ic2d"),H={IconContribution:"base.contributions.icons"},W;(function(de){function ke(he,ge){for(var ce=he.defaults;J.a.isThemeIcon(ce);){var k=N.getIcon(ce.id);if(!k)return;ce=k.defaults}return ce}de.getDefinition=ke})(W||(W={}));var F;(function(de){function ke(ge){return{weight:ge.weight,style:ge.style,src:ge.src.map(function(ce){return{format:ce.format,location:ce.location.toString()}})}}de.toJSONObject=ke;function he(ge){var ce=function(w){return Object(y.i)(w)?w:void 0};if(ge&&Array.isArray(ge.src)&&ge.src.every(function(k){return Object(y.i)(k.format)&&Object(y.i)(k.location)}))return{weight:ce(ge.weight),style:ce(ge.style),src:ge.src.map(function(k){return{format:k.format,location:Q.a.parse(k.location)}})}}de.fromJSONObject=he})(F||(F={}));var V=function(){function de(){Object(De.a)(this,de),this._onDidChange=new $.b,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:Object(L.b)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:Object(L.b)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:"^".concat(J.a.iconNameExpression,"$"),enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}return Object(E.a)(de,[{key:"registerIcon",value:function(he,ge,ce,k){var w=this.iconsById[he];if(w){if(ce&&!w.description){w.description=ce,this.iconSchema.properties[he].markdownDescription="".concat(ce," $(").concat(he,")");var B=this.iconReferenceSchema.enum.indexOf(he);B!==-1&&(this.iconReferenceSchema.enumDescriptions[B]=ce),this._onDidChange.fire()}return w}var Y={id:he,description:ce,defaults:ge,deprecationMessage:k};this.iconsById[he]=Y;var pe={$ref:"#/definitions/icons"};return k&&(pe.deprecationMessage=k),ce&&(pe.markdownDescription="".concat(ce,": $(").concat(he,")")),this.iconSchema.properties[he]=pe,this.iconReferenceSchema.enum.push(he),this.iconReferenceSchema.enumDescriptions.push(ce||""),this._onDidChange.fire(),{id:he}}},{key:"getIcons",value:function(){var he=this;return Object.keys(this.iconsById).map(function(ge){return he.iconsById[ge]})}},{key:"getIcon",value:function(he){return this.iconsById[he]}},{key:"getIconSchema",value:function(){return this.iconSchema}},{key:"toString",value:function(){var he=this,ge=function(Oe,Pe){return Oe.id.localeCompare(Pe.id)},ce=function(Oe){for(;J.a.isThemeIcon(Oe.defaults);)Oe=he.iconsById[Oe.defaults.id];return"codicon codicon-".concat(Oe?Oe.id:"")},k=[];k.push("| preview     | identifier                        | default codicon ID                | description"),k.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");var w=Object.keys(this.iconsById).map(function(Re){return he.iconsById[Re]}),B=Object(le.a)(w.filter(function(Re){return!!Re.description}).sort(ge)),Y;try{for(B.s();!(Y=B.n()).done;){var pe=Y.value;k.push('|<i class="'.concat(ce(pe),'"></i>|').concat(pe.id,"|").concat(J.a.isThemeIcon(pe.defaults)?pe.defaults.id:pe.id,"|").concat(pe.description||"","|"))}}catch(Re){B.e(Re)}finally{B.f()}k.push("| preview     | identifier                        "),k.push("| ----------- | --------------------------------- |");var me=Object(le.a)(w.filter(function(Re){return!J.a.isThemeIcon(Re.defaults)}).sort(ge)),I;try{for(me.s();!(I=me.n()).done;){var we=I.value;k.push('|<i class="'.concat(ce(we),'"></i>|').concat(we.id,"|"))}}catch(Re){me.e(Re)}finally{me.f()}return k.join(`
`)}}]),de}(),N=new V;ee.a.add(H.IconContribution,N);function U(de,ke,he,ge){return N.registerIcon(de,ke,he,ge)}function d(){return N}function j(){var de=Object(re.b)();for(var ke in de){var he="\\"+de[ke].toString(16);N.registerIcon(ke,{fontCharacter:he})}}j();var C="vscode://schemas/icons",x=ee.a.as(ne.a.JSONContribution);x.registerSchema(C,N.getIconSchema());var S=new ve.g(function(){return x.notifySchemaChanged(C)},200);N.onDidChange(function(){S.isScheduled()||S.schedule()});var T=U("widget-close",re.a.close,Object(L.b)("widgetClose","Icon for the close action in widgets.")),z=U("goto-previous-location",re.a.arrowUp,Object(L.b)("previousChangeIcon","Icon for goto previous editor location.")),A=U("goto-next-location",re.a.arrowDown,Object(L.b)("nextChangeIcon","Icon for goto next editor location.")),ue=J.a.modify(re.a.sync,"spin"),be=J.a.modify(re.a.loading,"spin")},v63x:function(fn,K,a){},vAKA:function(fn,K,a){},vX7u:function(fn,K,a){"use strict";a.d(K,"a",function(){return le});var le={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},w4Tj:function(fn,K,a){"use strict";a.d(K,"a",function(){return E});var le=a("oZsa");function De(ve,re){for(;!Object.prototype.hasOwnProperty.call(ve,re)&&(ve=Object(le.a)(ve),ve!==null););return ve}function E(){return typeof Reflect!="undefined"&&Reflect.get?E=Reflect.get.bind():E=function(re,J,$){var y=De(re,J);if(!!y){var Q=Object.getOwnPropertyDescriptor(y,J);return Q.get?Q.get.call(arguments.length<3?re:$):Q.value}},E.apply(this,arguments)}},w5yO:function(fn,K,a){"use strict";a.d(K,"a",function(){return we}),a.d(K,"b",function(){return Xe});var le=a("rAM+"),De=a("oBTY"),E=a("EffR"),ve=a("ddRO"),re=a("4y0V"),J=a("Md8J"),$=a("uDWl"),y=a("XSiN"),Q=a("fdyd"),L=a("/cxE"),ne=a("MI8n"),ee=a("eLzo"),H=a("EJc0"),W=a("nD70"),F=a("QdLL"),V=a("pmY6"),N={};(function(){function He(Ye,ot){ot(N)}He.amd=!0,function(Ye,ot){typeof He=="function"&&He.amd?He(["exports"],ot):typeof exports=="object"&&typeof fn!="undefined"?ot(exports):(Ye=typeof globalThis!="undefined"?globalThis:Ye||self,ot(Ye.marked={}))}(this,function(Ye){"use strict";function ot(Et,Rt){for(var dn=0;dn<Rt.length;dn++){var et=Rt[dn];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Et,et.key,et)}}function Kt(Et,Rt,dn){return Rt&&ot(Et.prototype,Rt),dn&&ot(Et,dn),Object.defineProperty(Et,"prototype",{writable:!1}),Et}function gt(Et,Rt){if(!!Et){if(typeof Et=="string")return Ft(Et,Rt);var dn=Object.prototype.toString.call(Et).slice(8,-1);if(dn==="Object"&&Et.constructor&&(dn=Et.constructor.name),dn==="Map"||dn==="Set")return Array.from(Et);if(dn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dn))return Ft(Et,Rt)}}function Ft(Et,Rt){(Rt==null||Rt>Et.length)&&(Rt=Et.length);for(var dn=0,et=new Array(Rt);dn<Rt;dn++)et[dn]=Et[dn];return et}function Jt(Et,Rt){var dn=typeof Symbol!="undefined"&&Et[Symbol.iterator]||Et["@@iterator"];if(dn)return(dn=dn.call(Et)).next.bind(dn);if(Array.isArray(Et)||(dn=gt(Et))||Rt&&Et&&typeof Et.length=="number"){dn&&(Et=dn);var et=0;return function(){return et>=Et.length?{done:!0}:{done:!1,value:Et[et++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qt(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Ye.defaults=qt();function En(Et){Ye.defaults=Et}var It=/[&<>"']/,si=/[&<>"']/g,On=/[<>"']|&(?!#?\w+;)/,Gn=/[<>"']|&(?!#?\w+;)/g,ci={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dn=function(Rt){return ci[Rt]};function An(Et,Rt){if(Rt){if(It.test(Et))return Et.replace(si,Dn)}else if(On.test(Et))return Et.replace(Gn,Dn);return Et}var fr=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Vi(Et){return Et.replace(fr,function(Rt,dn){return dn=dn.toLowerCase(),dn==="colon"?":":dn.charAt(0)==="#"?dn.charAt(1)==="x"?String.fromCharCode(parseInt(dn.substring(2),16)):String.fromCharCode(+dn.substring(1)):""})}var Sr=/(^|[^\[])\^/g;function Pi(Et,Rt){Et=typeof Et=="string"?Et:Et.source,Rt=Rt||"";var dn={replace:function(Ze,on){return on=on.source||on,on=on.replace(Sr,"$1"),Et=Et.replace(Ze,on),dn},getRegex:function(){return new RegExp(Et,Rt)}};return dn}var Ei=/[^\w:]/g,Cr=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function zn(Et,Rt,dn){if(Et){var et;try{et=decodeURIComponent(Vi(dn)).replace(Ei,"").toLowerCase()}catch(Ze){return null}if(et.indexOf("javascript:")===0||et.indexOf("vbscript:")===0||et.indexOf("data:")===0)return null}Rt&&!Cr.test(dn)&&(dn=Xn(Rt,dn));try{dn=encodeURI(dn).replace(/%25/g,"%")}catch(Ze){return null}return dn}var dr={},Hn=/^[^:]+:\/*[^/]*$/,mi=/^([^:]+:)[\s\S]*$/,hn=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Xn(Et,Rt){dr[" "+Et]||(Hn.test(Et)?dr[" "+Et]=Et+"/":dr[" "+Et]=gn(Et,"/",!0)),Et=dr[" "+Et];var dn=Et.indexOf(":")===-1;return Rt.substring(0,2)==="//"?dn?Rt:Et.replace(mi,"$1")+Rt:Rt.charAt(0)==="/"?dn?Rt:Et.replace(hn,"$1")+Rt:Et+Rt}var en={exec:function(){}};function yt(Et){for(var Rt=1,dn,et;Rt<arguments.length;Rt++){dn=arguments[Rt];for(et in dn)Object.prototype.hasOwnProperty.call(dn,et)&&(Et[et]=dn[et])}return Et}function wn(Et,Rt){var dn=Et.replace(/\|/g,function(on,tn,Dt){for(var pn=!1,ti=tn;--ti>=0&&Dt[ti]==="\\";)pn=!pn;return pn?"|":" |"}),et=dn.split(/ \|/),Ze=0;if(et[0].trim()||et.shift(),et.length>0&&!et[et.length-1].trim()&&et.pop(),et.length>Rt)et.splice(Rt);else for(;et.length<Rt;)et.push("");for(;Ze<et.length;Ze++)et[Ze]=et[Ze].trim().replace(/\\\|/g,"|");return et}function gn(Et,Rt,dn){var et=Et.length;if(et===0)return"";for(var Ze=0;Ze<et;){var on=Et.charAt(et-Ze-1);if(on===Rt&&!dn)Ze++;else if(on!==Rt&&dn)Ze++;else break}return Et.slice(0,et-Ze)}function rn(Et,Rt){if(Et.indexOf(Rt[1])===-1)return-1;for(var dn=Et.length,et=0,Ze=0;Ze<dn;Ze++)if(Et[Ze]==="\\")Ze++;else if(Et[Ze]===Rt[0])et++;else if(Et[Ze]===Rt[1]&&(et--,et<0))return Ze;return-1}function bn(Et){Et&&Et.sanitize&&!Et.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Qn(Et,Rt){if(Rt<1)return"";for(var dn="";Rt>1;)Rt&1&&(dn+=Et),Rt>>=1,Et+=Et;return dn+Et}function Ci(Et,Rt,dn,et){var Ze=Rt.href,on=Rt.title?An(Rt.title):null,tn=Et[1].replace(/\\([\[\]])/g,"$1");if(Et[0].charAt(0)!=="!"){et.state.inLink=!0;var Dt={type:"link",raw:dn,href:Ze,title:on,text:tn,tokens:et.inlineTokens(tn)};return et.state.inLink=!1,Dt}return{type:"image",raw:dn,href:Ze,title:on,text:An(tn)}}function yr(Et,Rt){var dn=Et.match(/^(\s+)(?:```)/);if(dn===null)return Rt;var et=dn[1];return Rt.split(`
`).map(function(Ze){var on=Ze.match(/^\s+/);if(on===null)return Ze;var tn=on[0];return tn.length>=et.length?Ze.slice(et.length):Ze}).join(`
`)}var _i=function(){function Et(dn){this.options=dn||Ye.defaults}var Rt=Et.prototype;return Rt.space=function(et){var Ze=this.rules.block.newline.exec(et);if(Ze&&Ze[0].length>0)return{type:"space",raw:Ze[0]}},Rt.code=function(et){var Ze=this.rules.block.code.exec(et);if(Ze){var on=Ze[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ze[0],codeBlockStyle:"indented",text:this.options.pedantic?on:gn(on,`
`)}}},Rt.fences=function(et){var Ze=this.rules.block.fences.exec(et);if(Ze){var on=Ze[0],tn=yr(on,Ze[3]||"");return{type:"code",raw:on,lang:Ze[2]?Ze[2].trim():Ze[2],text:tn}}},Rt.heading=function(et){var Ze=this.rules.block.heading.exec(et);if(Ze){var on=Ze[2].trim();if(/#$/.test(on)){var tn=gn(on,"#");(this.options.pedantic||!tn||/ $/.test(tn))&&(on=tn.trim())}return{type:"heading",raw:Ze[0],depth:Ze[1].length,text:on,tokens:this.lexer.inline(on)}}},Rt.hr=function(et){var Ze=this.rules.block.hr.exec(et);if(Ze)return{type:"hr",raw:Ze[0]}},Rt.blockquote=function(et){var Ze=this.rules.block.blockquote.exec(et);if(Ze){var on=Ze[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Ze[0],tokens:this.lexer.blockTokens(on,[]),text:on}}},Rt.list=function(et){var Ze=this.rules.block.list.exec(et);if(Ze){var on,tn,Dt,pn,ti,kn,Vt,Oi,Yi,Hi,qi,Qr,Mr=Ze[1].trim(),na=Mr.length>1,Br={type:"list",raw:"",ordered:na,start:na?+Mr.slice(0,-1):"",loose:!1,items:[]};Mr=na?"\\d{1,9}\\"+Mr.slice(-1):"\\"+Mr,this.options.pedantic&&(Mr=na?Mr:"[*+-]");for(var ha=new RegExp("^( {0,3}"+Mr+")((?:[	 ][^\\n]*)?(?:\\n|$))");et&&(Qr=!1,!(!(Ze=ha.exec(et))||this.rules.block.hr.test(et)));){if(on=Ze[0],et=et.substring(on.length),Oi=Ze[2].split(`
`,1)[0],Yi=et.split(`
`,1)[0],this.options.pedantic?(pn=2,qi=Oi.trimLeft()):(pn=Ze[2].search(/[^ ]/),pn=pn>4?1:pn,qi=Oi.slice(pn),pn+=Ze[1].length),kn=!1,!Oi&&/^ *$/.test(Yi)&&(on+=Yi+`
`,et=et.substring(Yi.length+1),Qr=!0),!Qr)for(var vn=new RegExp("^ {0,"+Math.min(3,pn-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ln=new RegExp("^ {0,"+Math.min(3,pn-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),ut=new RegExp("^ {0,"+Math.min(3,pn-1)+"}(?:```|~~~)"),Tt=new RegExp("^ {0,"+Math.min(3,pn-1)+"}#");et&&(Hi=et.split(`
`,1)[0],Oi=Hi,this.options.pedantic&&(Oi=Oi.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ut.test(Oi)||Tt.test(Oi)||vn.test(Oi)||Ln.test(et)));){if(Oi.search(/[^ ]/)>=pn||!Oi.trim())qi+=`
`+Oi.slice(pn);else if(!kn)qi+=`
`+Oi;else break;!kn&&!Oi.trim()&&(kn=!0),on+=Hi+`
`,et=et.substring(Hi.length+1)}Br.loose||(Vt?Br.loose=!0:/\n *\n *$/.test(on)&&(Vt=!0)),this.options.gfm&&(tn=/^\[[ xX]\] /.exec(qi),tn&&(Dt=tn[0]!=="[ ] ",qi=qi.replace(/^\[[ xX]\] +/,""))),Br.items.push({type:"list_item",raw:on,task:!!tn,checked:Dt,loose:!1,text:qi}),Br.raw+=on}Br.items[Br.items.length-1].raw=on.trimRight(),Br.items[Br.items.length-1].text=qi.trimRight(),Br.raw=Br.raw.trimRight();var Pt=Br.items.length;for(ti=0;ti<Pt;ti++){this.lexer.state.top=!1,Br.items[ti].tokens=this.lexer.blockTokens(Br.items[ti].text,[]);var Zt=Br.items[ti].tokens.filter(function(Nn){return Nn.type==="space"}),Ut=Zt.every(function(Nn){for(var In=Nn.raw.split(""),Wn=0,oi=Jt(In),bi;!(bi=oi()).done;){var _n=bi.value;if(_n===`
`&&(Wn+=1),Wn>1)return!0}return!1});!Br.loose&&Zt.length&&Ut&&(Br.loose=!0,Br.items[ti].loose=!0)}return Br}},Rt.html=function(et){var Ze=this.rules.block.html.exec(et);if(Ze){var on={type:"html",raw:Ze[0],pre:!this.options.sanitizer&&(Ze[1]==="pre"||Ze[1]==="script"||Ze[1]==="style"),text:Ze[0]};if(this.options.sanitize){var tn=this.options.sanitizer?this.options.sanitizer(Ze[0]):An(Ze[0]);on.type="paragraph",on.text=tn,on.tokens=this.lexer.inline(tn)}return on}},Rt.def=function(et){var Ze=this.rules.block.def.exec(et);if(Ze){Ze[3]&&(Ze[3]=Ze[3].substring(1,Ze[3].length-1));var on=Ze[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:on,raw:Ze[0],href:Ze[2],title:Ze[3]}}},Rt.table=function(et){var Ze=this.rules.block.table.exec(et);if(Ze){var on={type:"table",header:wn(Ze[1]).map(function(Vt){return{text:Vt}}),align:Ze[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Ze[3]&&Ze[3].trim()?Ze[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(on.header.length===on.align.length){on.raw=Ze[0];var tn=on.align.length,Dt,pn,ti,kn;for(Dt=0;Dt<tn;Dt++)/^ *-+: *$/.test(on.align[Dt])?on.align[Dt]="right":/^ *:-+: *$/.test(on.align[Dt])?on.align[Dt]="center":/^ *:-+ *$/.test(on.align[Dt])?on.align[Dt]="left":on.align[Dt]=null;for(tn=on.rows.length,Dt=0;Dt<tn;Dt++)on.rows[Dt]=wn(on.rows[Dt],on.header.length).map(function(Vt){return{text:Vt}});for(tn=on.header.length,pn=0;pn<tn;pn++)on.header[pn].tokens=this.lexer.inline(on.header[pn].text);for(tn=on.rows.length,pn=0;pn<tn;pn++)for(kn=on.rows[pn],ti=0;ti<kn.length;ti++)kn[ti].tokens=this.lexer.inline(kn[ti].text);return on}}},Rt.lheading=function(et){var Ze=this.rules.block.lheading.exec(et);if(Ze)return{type:"heading",raw:Ze[0],depth:Ze[2].charAt(0)==="="?1:2,text:Ze[1],tokens:this.lexer.inline(Ze[1])}},Rt.paragraph=function(et){var Ze=this.rules.block.paragraph.exec(et);if(Ze){var on=Ze[1].charAt(Ze[1].length-1)===`
`?Ze[1].slice(0,-1):Ze[1];return{type:"paragraph",raw:Ze[0],text:on,tokens:this.lexer.inline(on)}}},Rt.text=function(et){var Ze=this.rules.block.text.exec(et);if(Ze)return{type:"text",raw:Ze[0],text:Ze[0],tokens:this.lexer.inline(Ze[0])}},Rt.escape=function(et){var Ze=this.rules.inline.escape.exec(et);if(Ze)return{type:"escape",raw:Ze[0],text:An(Ze[1])}},Rt.tag=function(et){var Ze=this.rules.inline.tag.exec(et);if(Ze)return!this.lexer.state.inLink&&/^<a /i.test(Ze[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ze[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ze[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ze[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Ze[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ze[0]):An(Ze[0]):Ze[0]}},Rt.link=function(et){var Ze=this.rules.inline.link.exec(et);if(Ze){var on=Ze[2].trim();if(!this.options.pedantic&&/^</.test(on)){if(!/>$/.test(on))return;var tn=gn(on.slice(0,-1),"\\");if((on.length-tn.length)%2==0)return}else{var Dt=rn(Ze[2],"()");if(Dt>-1){var pn=Ze[0].indexOf("!")===0?5:4,ti=pn+Ze[1].length+Dt;Ze[2]=Ze[2].substring(0,Dt),Ze[0]=Ze[0].substring(0,ti).trim(),Ze[3]=""}}var kn=Ze[2],Vt="";if(this.options.pedantic){var Oi=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(kn);Oi&&(kn=Oi[1],Vt=Oi[3])}else Vt=Ze[3]?Ze[3].slice(1,-1):"";return kn=kn.trim(),/^</.test(kn)&&(this.options.pedantic&&!/>$/.test(on)?kn=kn.slice(1):kn=kn.slice(1,-1)),Ci(Ze,{href:kn&&kn.replace(this.rules.inline._escapes,"$1"),title:Vt&&Vt.replace(this.rules.inline._escapes,"$1")},Ze[0],this.lexer)}},Rt.reflink=function(et,Ze){var on;if((on=this.rules.inline.reflink.exec(et))||(on=this.rules.inline.nolink.exec(et))){var tn=(on[2]||on[1]).replace(/\s+/g," ");if(tn=Ze[tn.toLowerCase()],!tn||!tn.href){var Dt=on[0].charAt(0);return{type:"text",raw:Dt,text:Dt}}return Ci(on,tn,on[0],this.lexer)}},Rt.emStrong=function(et,Ze,on){on===void 0&&(on="");var tn=this.rules.inline.emStrong.lDelim.exec(et);if(!!tn&&!(tn[3]&&on.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Dt=tn[1]||tn[2]||"";if(!Dt||Dt&&(on===""||this.rules.inline.punctuation.exec(on))){var pn=tn[0].length-1,ti,kn,Vt=pn,Oi=0,Yi=tn[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Yi.lastIndex=0,Ze=Ze.slice(-1*et.length+pn);(tn=Yi.exec(Ze))!=null;)if(ti=tn[1]||tn[2]||tn[3]||tn[4]||tn[5]||tn[6],!!ti){if(kn=ti.length,tn[3]||tn[4]){Vt+=kn;continue}else if((tn[5]||tn[6])&&pn%3&&!((pn+kn)%3)){Oi+=kn;continue}if(Vt-=kn,!(Vt>0)){if(kn=Math.min(kn,kn+Vt+Oi),Math.min(pn,kn)%2){var Hi=et.slice(1,pn+tn.index+kn);return{type:"em",raw:et.slice(0,pn+tn.index+kn+1),text:Hi,tokens:this.lexer.inlineTokens(Hi)}}var qi=et.slice(2,pn+tn.index+kn-1);return{type:"strong",raw:et.slice(0,pn+tn.index+kn+1),text:qi,tokens:this.lexer.inlineTokens(qi)}}}}}},Rt.codespan=function(et){var Ze=this.rules.inline.code.exec(et);if(Ze){var on=Ze[2].replace(/\n/g," "),tn=/[^ ]/.test(on),Dt=/^ /.test(on)&&/ $/.test(on);return tn&&Dt&&(on=on.substring(1,on.length-1)),on=An(on,!0),{type:"codespan",raw:Ze[0],text:on}}},Rt.br=function(et){var Ze=this.rules.inline.br.exec(et);if(Ze)return{type:"br",raw:Ze[0]}},Rt.del=function(et){var Ze=this.rules.inline.del.exec(et);if(Ze)return{type:"del",raw:Ze[0],text:Ze[2],tokens:this.lexer.inlineTokens(Ze[2])}},Rt.autolink=function(et,Ze){var on=this.rules.inline.autolink.exec(et);if(on){var tn,Dt;return on[2]==="@"?(tn=An(this.options.mangle?Ze(on[1]):on[1]),Dt="mailto:"+tn):(tn=An(on[1]),Dt=tn),{type:"link",raw:on[0],text:tn,href:Dt,tokens:[{type:"text",raw:tn,text:tn}]}}},Rt.url=function(et,Ze){var on;if(on=this.rules.inline.url.exec(et)){var tn,Dt;if(on[2]==="@")tn=An(this.options.mangle?Ze(on[0]):on[0]),Dt="mailto:"+tn;else{var pn;do pn=on[0],on[0]=this.rules.inline._backpedal.exec(on[0])[0];while(pn!==on[0]);tn=An(on[0]),on[1]==="www."?Dt="http://"+tn:Dt=tn}return{type:"link",raw:on[0],text:tn,href:Dt,tokens:[{type:"text",raw:tn,text:tn}]}}},Rt.inlineText=function(et,Ze){var on=this.rules.inline.text.exec(et);if(on){var tn;return this.lexer.state.inRawBlock?tn=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(on[0]):An(on[0]):on[0]:tn=An(this.options.smartypants?Ze(on[0]):on[0]),{type:"text",raw:on[0],text:tn}}},Et}(),Bn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:en,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Bn._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Bn._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Bn.def=Pi(Bn.def).replace("label",Bn._label).replace("title",Bn._title).getRegex(),Bn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Bn.listItemStart=Pi(/^( *)(bull) */).replace("bull",Bn.bullet).getRegex(),Bn.list=Pi(Bn.list).replace(/bull/g,Bn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Bn.def.source+")").getRegex(),Bn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Bn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Bn.html=Pi(Bn.html,"i").replace("comment",Bn._comment).replace("tag",Bn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Bn.paragraph=Pi(Bn._paragraph).replace("hr",Bn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bn._tag).getRegex(),Bn.blockquote=Pi(Bn.blockquote).replace("paragraph",Bn.paragraph).getRegex(),Bn.normal=yt({},Bn),Bn.gfm=yt({},Bn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Bn.gfm.table=Pi(Bn.gfm.table).replace("hr",Bn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bn._tag).getRegex(),Bn.gfm.paragraph=Pi(Bn._paragraph).replace("hr",Bn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Bn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bn._tag).getRegex(),Bn.pedantic=yt({},Bn.normal,{html:Pi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Bn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:en,paragraph:Pi(Bn.normal._paragraph).replace("hr",Bn.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Bn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var tt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:en,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:en,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};tt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",tt.punctuation=Pi(tt.punctuation).replace(/punctuation/g,tt._punctuation).getRegex(),tt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,tt.escapedEmSt=/\\\*|\\_/g,tt._comment=Pi(Bn._comment).replace("(?:-->|$)","-->").getRegex(),tt.emStrong.lDelim=Pi(tt.emStrong.lDelim).replace(/punct/g,tt._punctuation).getRegex(),tt.emStrong.rDelimAst=Pi(tt.emStrong.rDelimAst,"g").replace(/punct/g,tt._punctuation).getRegex(),tt.emStrong.rDelimUnd=Pi(tt.emStrong.rDelimUnd,"g").replace(/punct/g,tt._punctuation).getRegex(),tt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,tt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,tt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,tt.autolink=Pi(tt.autolink).replace("scheme",tt._scheme).replace("email",tt._email).getRegex(),tt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,tt.tag=Pi(tt.tag).replace("comment",tt._comment).replace("attribute",tt._attribute).getRegex(),tt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,tt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,tt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,tt.link=Pi(tt.link).replace("label",tt._label).replace("href",tt._href).replace("title",tt._title).getRegex(),tt.reflink=Pi(tt.reflink).replace("label",tt._label).replace("ref",Bn._label).getRegex(),tt.nolink=Pi(tt.nolink).replace("ref",Bn._label).getRegex(),tt.reflinkSearch=Pi(tt.reflinkSearch,"g").replace("reflink",tt.reflink).replace("nolink",tt.nolink).getRegex(),tt.normal=yt({},tt),tt.pedantic=yt({},tt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Pi(/^!?\[(label)\]\((.*?)\)/).replace("label",tt._label).getRegex(),reflink:Pi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",tt._label).getRegex()}),tt.gfm=yt({},tt.normal,{escape:Pi(tt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),tt.gfm.url=Pi(tt.gfm.url,"i").replace("email",tt.gfm._extended_email).getRegex(),tt.breaks=yt({},tt.gfm,{br:Pi(tt.br).replace("{2,}","*").getRegex(),text:Pi(tt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Lt(Et){return Et.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function xi(Et){var Rt="",dn,et,Ze=Et.length;for(dn=0;dn<Ze;dn++)et=Et.charCodeAt(dn),Math.random()>.5&&(et="x"+et.toString(16)),Rt+="&#"+et+";";return Rt}var Qi=function(){function Et(dn){this.tokens=[],this.tokens.links=Object.create(null),this.options=dn||Ye.defaults,this.options.tokenizer=this.options.tokenizer||new _i,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var et={block:Bn.normal,inline:tt.normal};this.options.pedantic?(et.block=Bn.pedantic,et.inline=tt.pedantic):this.options.gfm&&(et.block=Bn.gfm,this.options.breaks?et.inline=tt.breaks:et.inline=tt.gfm),this.tokenizer.rules=et}Et.lex=function(et,Ze){var on=new Et(Ze);return on.lex(et)},Et.lexInline=function(et,Ze){var on=new Et(Ze);return on.inlineTokens(et)};var Rt=Et.prototype;return Rt.lex=function(et){et=et.replace(/\r\n|\r/g,`
`),this.blockTokens(et,this.tokens);for(var Ze;Ze=this.inlineQueue.shift();)this.inlineTokens(Ze.src,Ze.tokens);return this.tokens},Rt.blockTokens=function(et,Ze){var on=this;Ze===void 0&&(Ze=[]),this.options.pedantic?et=et.replace(/\t/g,"    ").replace(/^ +$/gm,""):et=et.replace(/^( *)(\t+)/gm,function(Vt,Oi,Yi){return Oi+"    ".repeat(Yi.length)});for(var tn,Dt,pn,ti;et;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Vt){return(tn=Vt.call({lexer:on},et,Ze))?(et=et.substring(tn.raw.length),Ze.push(tn),!0):!1}))){if(tn=this.tokenizer.space(et)){et=et.substring(tn.raw.length),tn.raw.length===1&&Ze.length>0?Ze[Ze.length-1].raw+=`
`:Ze.push(tn);continue}if(tn=this.tokenizer.code(et)){et=et.substring(tn.raw.length),Dt=Ze[Ze.length-1],Dt&&(Dt.type==="paragraph"||Dt.type==="text")?(Dt.raw+=`
`+tn.raw,Dt.text+=`
`+tn.text,this.inlineQueue[this.inlineQueue.length-1].src=Dt.text):Ze.push(tn);continue}if(tn=this.tokenizer.fences(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.heading(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.hr(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.blockquote(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.list(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.html(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.def(et)){et=et.substring(tn.raw.length),Dt=Ze[Ze.length-1],Dt&&(Dt.type==="paragraph"||Dt.type==="text")?(Dt.raw+=`
`+tn.raw,Dt.text+=`
`+tn.raw,this.inlineQueue[this.inlineQueue.length-1].src=Dt.text):this.tokens.links[tn.tag]||(this.tokens.links[tn.tag]={href:tn.href,title:tn.title});continue}if(tn=this.tokenizer.table(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.lheading(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(pn=et,this.options.extensions&&this.options.extensions.startBlock&&function(){var Vt=Infinity,Oi=et.slice(1),Yi=void 0;on.options.extensions.startBlock.forEach(function(Hi){Yi=Hi.call({lexer:this},Oi),typeof Yi=="number"&&Yi>=0&&(Vt=Math.min(Vt,Yi))}),Vt<Infinity&&Vt>=0&&(pn=et.substring(0,Vt+1))}(),this.state.top&&(tn=this.tokenizer.paragraph(pn))){Dt=Ze[Ze.length-1],ti&&Dt.type==="paragraph"?(Dt.raw+=`
`+tn.raw,Dt.text+=`
`+tn.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Dt.text):Ze.push(tn),ti=pn.length!==et.length,et=et.substring(tn.raw.length);continue}if(tn=this.tokenizer.text(et)){et=et.substring(tn.raw.length),Dt=Ze[Ze.length-1],Dt&&Dt.type==="text"?(Dt.raw+=`
`+tn.raw,Dt.text+=`
`+tn.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Dt.text):Ze.push(tn);continue}if(et){var kn="Infinite loop on byte: "+et.charCodeAt(0);if(this.options.silent){console.error(kn);break}else throw new Error(kn)}}return this.state.top=!0,Ze},Rt.inline=function(et,Ze){return Ze===void 0&&(Ze=[]),this.inlineQueue.push({src:et,tokens:Ze}),Ze},Rt.inlineTokens=function(et,Ze){var on=this;Ze===void 0&&(Ze=[]);var tn,Dt,pn,ti=et,kn,Vt,Oi;if(this.tokens.links){var Yi=Object.keys(this.tokens.links);if(Yi.length>0)for(;(kn=this.tokenizer.rules.inline.reflinkSearch.exec(ti))!=null;)Yi.includes(kn[0].slice(kn[0].lastIndexOf("[")+1,-1))&&(ti=ti.slice(0,kn.index)+"["+Qn("a",kn[0].length-2)+"]"+ti.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(kn=this.tokenizer.rules.inline.blockSkip.exec(ti))!=null;)ti=ti.slice(0,kn.index)+"["+Qn("a",kn[0].length-2)+"]"+ti.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(kn=this.tokenizer.rules.inline.escapedEmSt.exec(ti))!=null;)ti=ti.slice(0,kn.index)+"++"+ti.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;et;)if(Vt||(Oi=""),Vt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(qi){return(tn=qi.call({lexer:on},et,Ze))?(et=et.substring(tn.raw.length),Ze.push(tn),!0):!1}))){if(tn=this.tokenizer.escape(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.tag(et)){et=et.substring(tn.raw.length),Dt=Ze[Ze.length-1],Dt&&tn.type==="text"&&Dt.type==="text"?(Dt.raw+=tn.raw,Dt.text+=tn.text):Ze.push(tn);continue}if(tn=this.tokenizer.link(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.reflink(et,this.tokens.links)){et=et.substring(tn.raw.length),Dt=Ze[Ze.length-1],Dt&&tn.type==="text"&&Dt.type==="text"?(Dt.raw+=tn.raw,Dt.text+=tn.text):Ze.push(tn);continue}if(tn=this.tokenizer.emStrong(et,ti,Oi)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.codespan(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.br(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.del(et)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(tn=this.tokenizer.autolink(et,xi)){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(!this.state.inLink&&(tn=this.tokenizer.url(et,xi))){et=et.substring(tn.raw.length),Ze.push(tn);continue}if(pn=et,this.options.extensions&&this.options.extensions.startInline&&function(){var qi=Infinity,Qr=et.slice(1),Mr=void 0;on.options.extensions.startInline.forEach(function(na){Mr=na.call({lexer:this},Qr),typeof Mr=="number"&&Mr>=0&&(qi=Math.min(qi,Mr))}),qi<Infinity&&qi>=0&&(pn=et.substring(0,qi+1))}(),tn=this.tokenizer.inlineText(pn,Lt)){et=et.substring(tn.raw.length),tn.raw.slice(-1)!=="_"&&(Oi=tn.raw.slice(-1)),Vt=!0,Dt=Ze[Ze.length-1],Dt&&Dt.type==="text"?(Dt.raw+=tn.raw,Dt.text+=tn.text):Ze.push(tn);continue}if(et){var Hi="Infinite loop on byte: "+et.charCodeAt(0);if(this.options.silent){console.error(Hi);break}else throw new Error(Hi)}}return Ze},Kt(Et,null,[{key:"rules",get:function(){return{block:Bn,inline:tt}}}]),Et}(),mr=function(){function Et(dn){this.options=dn||Ye.defaults}var Rt=Et.prototype;return Rt.code=function(et,Ze,on){var tn=(Ze||"").match(/\S*/)[0];if(this.options.highlight){var Dt=this.options.highlight(et,tn);Dt!=null&&Dt!==et&&(on=!0,et=Dt)}return et=et.replace(/\n$/,"")+`
`,tn?'<pre><code class="'+this.options.langPrefix+An(tn,!0)+'">'+(on?et:An(et,!0))+`</code></pre>
`:"<pre><code>"+(on?et:An(et,!0))+`</code></pre>
`},Rt.blockquote=function(et){return`<blockquote>
`+et+`</blockquote>
`},Rt.html=function(et){return et},Rt.heading=function(et,Ze,on,tn){if(this.options.headerIds){var Dt=this.options.headerPrefix+tn.slug(on);return"<h"+Ze+' id="'+Dt+'">'+et+"</h"+Ze+`>
`}return"<h"+Ze+">"+et+"</h"+Ze+`>
`},Rt.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Rt.list=function(et,Ze,on){var tn=Ze?"ol":"ul",Dt=Ze&&on!==1?' start="'+on+'"':"";return"<"+tn+Dt+`>
`+et+"</"+tn+`>
`},Rt.listitem=function(et){return"<li>"+et+`</li>
`},Rt.checkbox=function(et){return"<input "+(et?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Rt.paragraph=function(et){return"<p>"+et+`</p>
`},Rt.table=function(et,Ze){return Ze&&(Ze="<tbody>"+Ze+"</tbody>"),`<table>
<thead>
`+et+`</thead>
`+Ze+`</table>
`},Rt.tablerow=function(et){return`<tr>
`+et+`</tr>
`},Rt.tablecell=function(et,Ze){var on=Ze.header?"th":"td",tn=Ze.align?"<"+on+' align="'+Ze.align+'">':"<"+on+">";return tn+et+("</"+on+`>
`)},Rt.strong=function(et){return"<strong>"+et+"</strong>"},Rt.em=function(et){return"<em>"+et+"</em>"},Rt.codespan=function(et){return"<code>"+et+"</code>"},Rt.br=function(){return this.options.xhtml?"<br/>":"<br>"},Rt.del=function(et){return"<del>"+et+"</del>"},Rt.link=function(et,Ze,on){if(et=zn(this.options.sanitize,this.options.baseUrl,et),et===null)return on;var tn='<a href="'+An(et)+'"';return Ze&&(tn+=' title="'+Ze+'"'),tn+=">"+on+"</a>",tn},Rt.image=function(et,Ze,on){if(et=zn(this.options.sanitize,this.options.baseUrl,et),et===null)return on;var tn='<img src="'+et+'" alt="'+on+'"';return Ze&&(tn+=' title="'+Ze+'"'),tn+=this.options.xhtml?"/>":">",tn},Rt.text=function(et){return et},Et}(),pr=function(){function Et(){}var Rt=Et.prototype;return Rt.strong=function(et){return et},Rt.em=function(et){return et},Rt.codespan=function(et){return et},Rt.del=function(et){return et},Rt.html=function(et){return et},Rt.text=function(et){return et},Rt.link=function(et,Ze,on){return""+on},Rt.image=function(et,Ze,on){return""+on},Rt.br=function(){return""},Et}(),St=function(){function Et(){this.seen={}}var Rt=Et.prototype;return Rt.serialize=function(et){return et.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Rt.getNextSafeSlug=function(et,Ze){var on=et,tn=0;if(this.seen.hasOwnProperty(on)){tn=this.seen[et];do tn++,on=et+"-"+tn;while(this.seen.hasOwnProperty(on))}return Ze||(this.seen[et]=tn,this.seen[on]=0),on},Rt.slug=function(et,Ze){Ze===void 0&&(Ze={});var on=this.serialize(et);return this.getNextSafeSlug(on,Ze.dryrun)},Et}(),Gi=function(){function Et(dn){this.options=dn||Ye.defaults,this.options.renderer=this.options.renderer||new mr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new pr,this.slugger=new St}Et.parse=function(et,Ze){var on=new Et(Ze);return on.parse(et)},Et.parseInline=function(et,Ze){var on=new Et(Ze);return on.parseInline(et)};var Rt=Et.prototype;return Rt.parse=function(et,Ze){Ze===void 0&&(Ze=!0);var on="",tn,Dt,pn,ti,kn,Vt,Oi,Yi,Hi,qi,Qr,Mr,na,Br,ha,vn,Ln,ut,Tt,Pt=et.length;for(tn=0;tn<Pt;tn++){if(qi=et[tn],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[qi.type]&&(Tt=this.options.extensions.renderers[qi.type].call({parser:this},qi),Tt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(qi.type))){on+=Tt||"";continue}switch(qi.type){case"space":continue;case"hr":{on+=this.renderer.hr();continue}case"heading":{on+=this.renderer.heading(this.parseInline(qi.tokens),qi.depth,Vi(this.parseInline(qi.tokens,this.textRenderer)),this.slugger);continue}case"code":{on+=this.renderer.code(qi.text,qi.lang,qi.escaped);continue}case"table":{for(Yi="",Oi="",ti=qi.header.length,Dt=0;Dt<ti;Dt++)Oi+=this.renderer.tablecell(this.parseInline(qi.header[Dt].tokens),{header:!0,align:qi.align[Dt]});for(Yi+=this.renderer.tablerow(Oi),Hi="",ti=qi.rows.length,Dt=0;Dt<ti;Dt++){for(Vt=qi.rows[Dt],Oi="",kn=Vt.length,pn=0;pn<kn;pn++)Oi+=this.renderer.tablecell(this.parseInline(Vt[pn].tokens),{header:!1,align:qi.align[pn]});Hi+=this.renderer.tablerow(Oi)}on+=this.renderer.table(Yi,Hi);continue}case"blockquote":{Hi=this.parse(qi.tokens),on+=this.renderer.blockquote(Hi);continue}case"list":{for(Qr=qi.ordered,Mr=qi.start,na=qi.loose,ti=qi.items.length,Hi="",Dt=0;Dt<ti;Dt++)ha=qi.items[Dt],vn=ha.checked,Ln=ha.task,Br="",ha.task&&(ut=this.renderer.checkbox(vn),na?ha.tokens.length>0&&ha.tokens[0].type==="paragraph"?(ha.tokens[0].text=ut+" "+ha.tokens[0].text,ha.tokens[0].tokens&&ha.tokens[0].tokens.length>0&&ha.tokens[0].tokens[0].type==="text"&&(ha.tokens[0].tokens[0].text=ut+" "+ha.tokens[0].tokens[0].text)):ha.tokens.unshift({type:"text",text:ut}):Br+=ut),Br+=this.parse(ha.tokens,na),Hi+=this.renderer.listitem(Br,Ln,vn);on+=this.renderer.list(Hi,Qr,Mr);continue}case"html":{on+=this.renderer.html(qi.text);continue}case"paragraph":{on+=this.renderer.paragraph(this.parseInline(qi.tokens));continue}case"text":{for(Hi=qi.tokens?this.parseInline(qi.tokens):qi.text;tn+1<Pt&&et[tn+1].type==="text";)qi=et[++tn],Hi+=`
`+(qi.tokens?this.parseInline(qi.tokens):qi.text);on+=Ze?this.renderer.paragraph(Hi):Hi;continue}default:{var Zt='Token with "'+qi.type+'" type was not found.';if(this.options.silent){console.error(Zt);return}else throw new Error(Zt)}}}return on},Rt.parseInline=function(et,Ze){Ze=Ze||this.renderer;var on="",tn,Dt,pn,ti=et.length;for(tn=0;tn<ti;tn++){if(Dt=et[tn],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Dt.type]&&(pn=this.options.extensions.renderers[Dt.type].call({parser:this},Dt),pn!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Dt.type))){on+=pn||"";continue}switch(Dt.type){case"escape":{on+=Ze.text(Dt.text);break}case"html":{on+=Ze.html(Dt.text);break}case"link":{on+=Ze.link(Dt.href,Dt.title,this.parseInline(Dt.tokens,Ze));break}case"image":{on+=Ze.image(Dt.href,Dt.title,Dt.text);break}case"strong":{on+=Ze.strong(this.parseInline(Dt.tokens,Ze));break}case"em":{on+=Ze.em(this.parseInline(Dt.tokens,Ze));break}case"codespan":{on+=Ze.codespan(Dt.text);break}case"br":{on+=Ze.br();break}case"del":{on+=Ze.del(this.parseInline(Dt.tokens,Ze));break}case"text":{on+=Ze.text(Dt.text);break}default:{var kn='Token with "'+Dt.type+'" type was not found.';if(this.options.silent){console.error(kn);return}else throw new Error(kn)}}}return on},Et}();function an(Et,Rt,dn){if(typeof Et=="undefined"||Et===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Et!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Et)+", string expected");if(typeof Rt=="function"&&(dn=Rt,Rt=null),Rt=yt({},an.defaults,Rt||{}),bn(Rt),dn){var et=Rt.highlight,Ze;try{Ze=Qi.lex(Et,Rt)}catch(ti){return dn(ti)}var on=function(kn){var Vt;if(!kn)try{Rt.walkTokens&&an.walkTokens(Ze,Rt.walkTokens),Vt=Gi.parse(Ze,Rt)}catch(Oi){kn=Oi}return Rt.highlight=et,kn?dn(kn):dn(null,Vt)};if(!et||et.length<3||(delete Rt.highlight,!Ze.length))return on();var tn=0;an.walkTokens(Ze,function(ti){ti.type==="code"&&(tn++,setTimeout(function(){et(ti.text,ti.lang,function(kn,Vt){if(kn)return on(kn);Vt!=null&&Vt!==ti.text&&(ti.text=Vt,ti.escaped=!0),tn--,tn===0&&on()})},0))}),tn===0&&on();return}function Dt(ti){if(ti.message+=`
Please report this to https://github.com/markedjs/marked.`,Rt.silent)return"<p>An error occurred:</p><pre>"+An(ti.message+"",!0)+"</pre>";throw ti}try{var pn=Qi.lex(Et,Rt);if(Rt.walkTokens){if(Rt.async)return Promise.all(an.walkTokens(pn,Rt.walkTokens)).then(function(){return Gi.parse(pn,Rt)}).catch(Dt);an.walkTokens(pn,Rt.walkTokens)}return Gi.parse(pn,Rt)}catch(ti){Dt(ti)}}an.options=an.setOptions=function(Et){return yt(an.defaults,Et),En(an.defaults),an},an.getDefaults=qt,an.defaults=Ye.defaults,an.use=function(){for(var Et=arguments.length,Rt=new Array(Et),dn=0;dn<Et;dn++)Rt[dn]=arguments[dn];var et=yt.apply(void 0,[{}].concat(Rt)),Ze=an.defaults.extensions||{renderers:{},childTokens:{}},on;Rt.forEach(function(tn){if(tn.extensions&&(on=!0,tn.extensions.forEach(function(pn){if(!pn.name)throw new Error("extension name required");if(pn.renderer){var ti=Ze.renderers?Ze.renderers[pn.name]:null;ti?Ze.renderers[pn.name]=function(){for(var kn=arguments.length,Vt=new Array(kn),Oi=0;Oi<kn;Oi++)Vt[Oi]=arguments[Oi];var Yi=pn.renderer.apply(this,Vt);return Yi===!1&&(Yi=ti.apply(this,Vt)),Yi}:Ze.renderers[pn.name]=pn.renderer}if(pn.tokenizer){if(!pn.level||pn.level!=="block"&&pn.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Ze[pn.level]?Ze[pn.level].unshift(pn.tokenizer):Ze[pn.level]=[pn.tokenizer],pn.start&&(pn.level==="block"?Ze.startBlock?Ze.startBlock.push(pn.start):Ze.startBlock=[pn.start]:pn.level==="inline"&&(Ze.startInline?Ze.startInline.push(pn.start):Ze.startInline=[pn.start]))}pn.childTokens&&(Ze.childTokens[pn.name]=pn.childTokens)})),tn.renderer&&function(){var pn=an.defaults.renderer||new mr,ti=function(Oi){var Yi=pn[Oi];pn[Oi]=function(){for(var Hi=arguments.length,qi=new Array(Hi),Qr=0;Qr<Hi;Qr++)qi[Qr]=arguments[Qr];var Mr=tn.renderer[Oi].apply(pn,qi);return Mr===!1&&(Mr=Yi.apply(pn,qi)),Mr}};for(var kn in tn.renderer)ti(kn);et.renderer=pn}(),tn.tokenizer&&function(){var pn=an.defaults.tokenizer||new _i,ti=function(Oi){var Yi=pn[Oi];pn[Oi]=function(){for(var Hi=arguments.length,qi=new Array(Hi),Qr=0;Qr<Hi;Qr++)qi[Qr]=arguments[Qr];var Mr=tn.tokenizer[Oi].apply(pn,qi);return Mr===!1&&(Mr=Yi.apply(pn,qi)),Mr}};for(var kn in tn.tokenizer)ti(kn);et.tokenizer=pn}(),tn.walkTokens){var Dt=an.defaults.walkTokens;et.walkTokens=function(pn){var ti=[];return ti.push(tn.walkTokens.call(this,pn)),Dt&&(ti=ti.concat(Dt.call(this,pn))),ti}}on&&(et.extensions=Ze),an.setOptions(et)})},an.walkTokens=function(Et,Rt){for(var dn=[],et=function(){var Dt=on.value;switch(dn=dn.concat(Rt.call(an,Dt)),Dt.type){case"table":{for(var pn=Jt(Dt.header),ti;!(ti=pn()).done;){var kn=ti.value;dn=dn.concat(an.walkTokens(kn.tokens,Rt))}for(var Vt=Jt(Dt.rows),Oi;!(Oi=Vt()).done;)for(var Yi=Oi.value,Hi=Jt(Yi),qi;!(qi=Hi()).done;){var Qr=qi.value;dn=dn.concat(an.walkTokens(Qr.tokens,Rt))}break}case"list":{dn=dn.concat(an.walkTokens(Dt.items,Rt));break}default:an.defaults.extensions&&an.defaults.extensions.childTokens&&an.defaults.extensions.childTokens[Dt.type]?an.defaults.extensions.childTokens[Dt.type].forEach(function(Mr){dn=dn.concat(an.walkTokens(Dt[Mr],Rt))}):Dt.tokens&&(dn=dn.concat(an.walkTokens(Dt.tokens,Rt)))}},Ze=Jt(Et),on;!(on=Ze()).done;)et();return dn},an.parseInline=function(Et,Rt){if(typeof Et=="undefined"||Et===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Et!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Et)+", string expected");Rt=yt({},an.defaults,Rt||{}),bn(Rt);try{var dn=Qi.lexInline(Et,Rt);return Rt.walkTokens&&an.walkTokens(dn,Rt.walkTokens),Gi.parseInline(dn,Rt)}catch(et){if(et.message+=`
Please report this to https://github.com/markedjs/marked.`,Rt.silent)return"<p>An error occurred:</p><pre>"+An(et.message+"",!0)+"</pre>";throw et}},an.Parser=Gi,an.parser=Gi.parse,an.Renderer=mr,an.TextRenderer=pr,an.Lexer=Qi,an.lexer=Qi.lex,an.Tokenizer=_i,an.Slugger=St,an.parse=an;var Qe=an.options,Jn=an.setOptions,ii=an.use,Li=an.walkTokens,Fn=an.parseInline,jn=an,Nt=Gi.parse,Gt=Qi.lex;Ye.Lexer=Qi,Ye.Parser=Gi,Ye.Renderer=mr,Ye.Slugger=St,Ye.TextRenderer=pr,Ye.Tokenizer=_i,Ye.getDefaults=qt,Ye.lexer=Gt,Ye.marked=an,Ye.options=Qe,Ye.parse=jn,Ye.parseInline=Fn,Ye.parser=Nt,Ye.setOptions=Jn,Ye.use=ii,Ye.walkTokens=Li,Object.defineProperty(Ye,"__esModule",{value:!0})})})();var U=N.Lexer||exports.Lexer,d=N.Parser||exports.Parser,j=N.Renderer||exports.Renderer,C=N.Slugger||exports.Slugger,x=N.TextRenderer||exports.TextRenderer,S=N.Tokenizer||exports.Tokenizer,T=N.getDefaults||exports.getDefaults,z=N.lexer||exports.lexer,A=N.marked||exports.marked,ue=N.options||exports.options,be=N.parse||exports.parse,de=N.parseInline||exports.parseInline,ke=N.parser||exports.parser,he=N.setOptions||exports.setOptions,ge=N.use||exports.use,ce=N.walkTokens||exports.walkTokens,k=a("Q4rV"),w=a("tYmi"),B=a("qj0h"),Y=a("gslv"),pe=a("N0LK"),me=a("bY76"),I=Object.freeze({image:function(Ye,ot,Kt){var gt=[],Ft=[];if(Ye){var Jt=Object(ee.f)(Ye);Ye=Jt.href,gt=Jt.dimensions,Ft.push('src="'.concat(Object(ee.b)(Ye),'"'))}return Kt&&Ft.push('alt="'.concat(Object(ee.b)(Kt),'"')),ot&&Ft.push('title="'.concat(Object(ee.b)(ot),'"')),gt.length&&(Ft=Ft.concat(gt)),"<img "+Ft.join(" ")+">"},paragraph:function(Ye){return"<p>".concat(Ye,"</p>")},link:function(Ye,ot,Kt){return typeof Ye!="string"?"":(Ye===Kt&&(Kt=Object(ee.g)(Kt)),ot=typeof ot=="string"?Object(ee.b)(Object(ee.g)(ot)):"",Ye=Object(ee.g)(Ye),Ye=Ye.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),'<a href="'.concat(Ye,'" title="').concat(ot||Ye,'">').concat(Kt,"</a>"))}});function we(He){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Kt,gt,Ft=new V.c,Jt=!1,qt=Object(J.a)(Ye),En=function(Qn){var Ci;try{Ci=Object(k.a)(decodeURIComponent(Qn))}catch(yr){}return Ci?(Ci=Object(B.a)(Ci,function(yr){if(He.uris&&He.uris[yr])return me.a.revive(He.uris[yr])}),encodeURIComponent(JSON.stringify(Ci))):Qn},It=function(Qn,Ci){var yr=He.uris&&He.uris[Qn],_i=me.a.revive(yr);return Ci?Qn.startsWith(w.c.data+":")?Qn:(_i||(_i=me.a.parse(Qn)),w.a.uriToBrowserUri(_i).toString(!0)):!_i||me.a.parse(Qn).toString()===_i.toString()?Qn:(_i.query&&(_i=_i.with({query:En(_i.query)})),_i.toString())},si=new A.Renderer;si.image=I.image,si.link=I.link,si.paragraph=I.paragraph;var On=[],Gn=[];if(Ye.codeBlockRendererSync?si.code=function(bn,Qn){var Ci=W.b.nextId(),yr=Ye.codeBlockRendererSync(Re(Qn),bn);return Gn.push([Ci,yr]),'<div class="code" data-code="'.concat(Ci,'">').concat(Object(pe.s)(bn),"</div>")}:Ye.codeBlockRenderer&&(si.code=function(bn,Qn){var Ci=W.b.nextId(),yr=Ye.codeBlockRenderer(Re(Qn),bn);return On.push(yr.then(function(_i){return[Ci,_i]})),'<div class="code" data-code="'.concat(Ci,'">').concat(Object(pe.s)(bn),"</div>")}),Ye.actionHandler){var ci=function(Qn){var Ci=Qn.target;if(!(Ci.tagName!=="A"&&(Ci=Ci.parentElement,!Ci||Ci.tagName!=="A")))try{var yr=Ci.dataset.href;yr&&(He.baseUri&&(yr=Oe(me.a.from(He.baseUri),yr)),Ye.actionHandler.callback(yr,Qn))}catch(_i){Object(L.h)(_i)}finally{Qn.preventDefault()}},Dn=Ye.actionHandler.disposables.add(new re.a(qt,"click")),An=Ye.actionHandler.disposables.add(new re.a(qt,"auxclick"));Ye.actionHandler.disposables.add(ne.c.any(Dn.event,An.event)(function(bn){var Qn=new y.a(bn);!Qn.leftButton&&!Qn.middleButton||ci(Qn)})),Ye.actionHandler.disposables.add(E.addDisposableListener(qt,"keydown",function(bn){var Qn=new $.a(bn);!Qn.equals(10)&&!Qn.equals(3)||ci(Qn)}))}He.supportHtml||(ot.sanitizer=function(bn){var Qn=He.isTrusted?bn.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0;return Qn?bn:""},ot.sanitize=!0,ot.silent=!0),ot.renderer=si;var fr=(Kt=He.value)!==null&&Kt!==void 0?Kt:"";fr.length>1e5&&(fr="".concat(fr.substr(0,1e5),"\u2026")),He.supportThemeIcons&&(fr=Object(H.c)(fr));var Vi;if(Ye.fillInIncompleteTokens){var Sr=Object.assign(Object.assign({},A.defaults),ot),Pi=A.lexer(fr,Sr),Ei=Je(Pi);Vi=A.parser(Ei,Sr)}else Vi=A.parse(fr,ot);if(He.supportThemeIcons){var Cr=Object(Q.a)(Vi);Vi=Cr.map(function(bn){return typeof bn=="string"?bn:bn.outerHTML}).join("")}var zn=new DOMParser,dr=zn.parseFromString(Pe(He,Vi),"text/html");if(dr.body.querySelectorAll("img").forEach(function(bn){var Qn=bn.getAttribute("src");if(Qn){var Ci=Qn;try{He.baseUri&&(Ci=Oe(me.a.from(He.baseUri),Ci))}catch(yr){}bn.src=It(Ci,!0)}}),dr.body.querySelectorAll("a").forEach(function(bn){var Qn=bn.getAttribute("href");if(bn.setAttribute("href",""),!Qn||/^data:|javascript:/i.test(Qn)||/^command:/i.test(Qn)&&!He.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Qn))bn.replaceWith.apply(bn,Object(De.a)(bn.childNodes));else{var Ci=It(Qn,!1);He.baseUri&&(Ci=Oe(me.a.from(He.baseUri),Qn)),bn.dataset.href=Ci}}),qt.innerHTML=Pe(He,dr.body.innerHTML),On.length>0)Promise.all(On).then(function(bn){var Qn,Ci;if(!Jt){var yr=new Map(bn),_i=qt.querySelectorAll("div[data-code]"),Bn=Object(le.a)(_i),tt;try{for(Bn.s();!(tt=Bn.n()).done;){var Lt=tt.value,xi=yr.get((Qn=Lt.dataset.code)!==null&&Qn!==void 0?Qn:"");xi&&E.reset(Lt,xi)}}catch(Qi){Bn.e(Qi)}finally{Bn.f()}(Ci=Ye.asyncRenderCallback)===null||Ci===void 0||Ci.call(Ye)}});else if(Gn.length>0){var Hn=new Map(Gn),mi=qt.querySelectorAll("div[data-code]"),hn=Object(le.a)(mi),Xn;try{for(hn.s();!(Xn=hn.n()).done;){var en=Xn.value,yt=Hn.get((gt=en.dataset.code)!==null&&gt!==void 0?gt:"");yt&&E.reset(en,yt)}}catch(bn){hn.e(bn)}finally{hn.f()}}if(Ye.asyncRenderCallback){var wn=Object(le.a)(qt.getElementsByTagName("img")),gn;try{var rn=function(){var Qn=gn.value,Ci=Ft.add(E.addDisposableListener(Qn,"load",function(){Ci.dispose(),Ye.asyncRenderCallback()}))};for(wn.s();!(gn=wn.n()).done;)rn()}catch(bn){wn.e(bn)}finally{wn.f()}}return{element:qt,dispose:function(){Jt=!0,Ft.dispose()}}}function Re(He){if(!He)return"";var Ye=He.split(/[\s+|:|,|\{|\?]/,1);return Ye.length?Ye[0]:He}function Oe(He,Ye){var ot=/^\w[\w\d+.-]*:/.test(Ye);return ot?Ye:He.path.endsWith("/")?Object(Y.l)(He,Ye).toString():Object(Y.l)(Object(Y.d)(He),Ye).toString()}function Pe(He,Ye){var ot=Ke(He),Kt=ot.config,gt=ot.allowedSchemes;ve.a("uponSanitizeAttribute",function(Jt,qt){if(qt.attrName==="style"||qt.attrName==="class"){if(Jt.tagName==="SPAN"){if(qt.attrName==="style"){qt.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(qt.attrValue);return}else if(qt.attrName==="class"){qt.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(qt.attrValue);return}}qt.keepAttr=!1;return}});var Ft=E.hookDomPurifyHrefAndSrcSanitizer(gt);try{return ve.c(Ye,Object.assign(Object.assign({},Kt),{RETURN_TRUSTED_TYPE:!0}))}finally{ve.b("uponSanitizeAttribute"),Ft.dispose()}}var Ne=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function Ke(He){var Ye=[w.c.http,w.c.https,w.c.mailto,w.c.data,w.c.file,w.c.vscodeFileResource,w.c.vscodeRemote,w.c.vscodeRemoteResource];return He.isTrusted&&Ye.push(w.c.command),{config:{ALLOWED_TAGS:Object(De.a)(E.basicMarkupHtmlTags),ALLOWED_ATTR:Ne,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:Ye}}function Xe(He){return typeof He=="string"?He:wt(He)}function wt(He){var Ye,ot=(Ye=He.value)!==null&&Ye!==void 0?Ye:"";ot.length>1e5&&(ot="".concat(ot.substr(0,1e5),"\u2026"));var Kt=A.parse(ot,{renderer:bt.value}).replace(/&(#\d+|[a-zA-Z]+);/g,function(gt){var Ft;return(Ft=Ct.get(gt))!==null&&Ft!==void 0?Ft:gt});return Pe({isTrusted:!1},Kt).toString()}var Ct=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),bt=new F.a(function(){var He=new A.Renderer;return He.code=function(Ye){return Ye},He.blockquote=function(Ye){return Ye},He.html=function(Ye){return""},He.heading=function(Ye,ot,Kt){return Ye+`
`},He.hr=function(){return""},He.list=function(Ye,ot){return Ye},He.listitem=function(Ye){return Ye+`
`},He.paragraph=function(Ye){return Ye+`
`},He.table=function(Ye,ot){return Ye+ot+`
`},He.tablerow=function(Ye){return Ye},He.tablecell=function(Ye,ot){return Ye+" "},He.strong=function(Ye){return Ye},He.em=function(Ye){return Ye},He.codespan=function(Ye){return Ye},He.br=function(){return`
`},He.del=function(Ye){return Ye},He.image=function(Ye,ot,Kt){return""},He.text=function(Ye){return Ye},He.link=function(Ye,ot,Kt){return Kt},He});function mt(He){var Ye="";return He.forEach(function(ot){Ye+=ot.raw}),Ye}function jt(He){var Ye=Object(le.a)(He.tokens),ot;try{for(Ye.s();!(ot=Ye.n()).done;){var Kt=ot.value;if(Kt.type==="text"){var gt=Kt.raw.split(`
`),Ft=gt[gt.length-1];if(Ft.includes("`"))return Te(He);if(Ft.includes("**"))return $e(He);if(Ft.match(/\*\w/))return fe(He);if(Ft.match(/(^|\s)__\w/))return We(He);if(Ft.match(/(^|\s)_\w/))return ye(He);if(Ft.match(/(^|\s)\[.*\]\(\w*/))return Ee(He);if(Ft.match(/(^|\s)\[\w/))return Ge(He)}}}catch(Jt){Ye.e(Jt)}finally{Ye.f()}}function Je(He){var Ye,ot;for(Ye=0;Ye<He.length;Ye++){var Kt=He[Ye];if(Kt.type==="paragraph"&&Kt.raw.match(/(\n|^)```/)){ot=Wt(He.slice(Ye));break}if(Kt.type==="paragraph"&&Kt.raw.match(/(\n|^)\|/)){ot=Fe(He.slice(Ye));break}if(Ye===He.length-1&&Kt.type==="paragraph"){var gt=jt(Kt);if(gt){ot=[gt];break}}}if(ot){var Ft=[].concat(Object(De.a)(He.slice(0,Ye)),Object(De.a)(ot));return Ft.links=He.links,Ft}return He}function Wt(He){var Ye=mt(He);return A.lexer(Ye+"\n```")}function Te(He){return it(He,"`")}function fe(He){return it(He,"*")}function ye(He){return it(He,"_")}function Ee(He){return it(He,")")}function Ge(He){return it(He,"](about:blank)")}function $e(He){return it(He,"**")}function We(He){return it(He,"__")}function it(He,Ye){var ot=mt(Array.isArray(He)?He:[He]);return A.lexer(ot+Ye)[0]}function Fe(He){for(var Ye=mt(He),ot=Ye.split(`
`),Kt,gt=!1,Ft=0;Ft<ot.length;Ft++){var Jt=ot[Ft].trim();if(typeof Kt=="undefined"&&Jt.match(/^\s*\|/)){var qt=Jt.match(/(\|[^\|]+)(?=\||$)/g);qt&&(Kt=qt.length)}else if(typeof Kt=="number")if(Jt.match(/^\s*\|/)){if(Ft!==ot.length-1)return;gt=!0}else return}if(typeof Kt=="number"&&Kt>0){var En=gt?ot.slice(0,-1).join(`
`):Ye,It=!!En.match(/\|\s*$/),si=En+(It?"":"|")+`
|`.concat(" --- |".repeat(Kt));return A.lexer(si)}}},wFNa:function(fn,K,a){},wFql:function(fn,K,a){"use strict";var le=a("wx14"),De=a("U8pU"),E=a("q1tI"),ve=a("rePB"),re=a("ODXe"),J=a("bRQS"),$=a("lfch"),y=a("G3dp"),Q=a("TSYQ"),L=a.n(Q),ne=a("+QRC"),ee=a.n(ne),H=a("t23M"),W=a("Zm9Q"),F=a("TNol"),V=a("6cGi"),N=a("bT9E"),U=a("c+Xe"),d=a("H84U"),j=a("YMnH"),C=a("gDlH"),x=a("tl68"),S=a("3S7+"),T=a("VTBJ"),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},A=z,ue=a("6VBw"),be=function(Gn,ci){return E.createElement(ue.a,Object(T.a)(Object(T.a)({},Gn),{},{ref:ci,icon:A}))};be.displayName="EnterOutlined";var de=E.forwardRef(be),ke=a("4IlW"),he=a("whJP"),ge=a("0n0R"),ce=function(Gn){var ci=Gn.prefixCls,Dn=Gn["aria-label"],An=Gn.className,fr=Gn.style,Vi=Gn.direction,Sr=Gn.maxLength,Pi=Gn.autoSize,Ei=Pi===void 0?!0:Pi,Cr=Gn.value,zn=Gn.onSave,dr=Gn.onCancel,Hn=Gn.onEnd,mi=Gn.component,hn=Gn.enterIcon,Xn=hn===void 0?E.createElement(de,null):hn,en=E.useRef(null),yt=E.useRef(!1),wn=E.useRef(),gn=E.useState(Cr),rn=Object(re.a)(gn,2),bn=rn[0],Qn=rn[1];E.useEffect(function(){Qn(Cr)},[Cr]),E.useEffect(function(){if(en.current&&en.current.resizableTextArea){var pr=en.current.resizableTextArea.textArea;pr.focus();var St=pr.value.length;pr.setSelectionRange(St,St)}},[]);var Ci=function(St){var Gi=St.target;Qn(Gi.value.replace(/[\n\r]/g,""))},yr=function(){yt.current=!0},_i=function(){yt.current=!1},Bn=function(St){var Gi=St.keyCode;yt.current||(wn.current=Gi)},tt=function(){zn(bn.trim())},Lt=function(St){var Gi=St.keyCode,an=St.ctrlKey,Qe=St.altKey,Jn=St.metaKey,ii=St.shiftKey;wn.current===Gi&&!yt.current&&!an&&!Qe&&!Jn&&!ii&&(Gi===ke.a.ENTER?(tt(),Hn==null||Hn()):Gi===ke.a.ESC&&dr())},xi=function(){tt()},Qi=mi?"".concat(ci,"-").concat(mi):"",mr=L()(ci,"".concat(ci,"-edit-content"),Object(ve.a)({},"".concat(ci,"-rtl"),Vi==="rtl"),An,Qi);return E.createElement("div",{className:mr,style:fr},E.createElement(he.a,{ref:en,maxLength:Sr,value:bn,onChange:Ci,onKeyDown:Bn,onKeyUp:Lt,onCompositionStart:yr,onCompositionEnd:_i,onBlur:xi,"aria-label":Dn,rows:1,autoSize:Ei}),Xn!==null?Object(ge.a)(Xn,{className:"".concat(ci,"-edit-content-confirm")}):null)},k=ce;function w(On,Gn){return E.useMemo(function(){var ci=!!On;return[ci,Object(le.a)(Object(le.a)({},Gn),ci&&Object(De.a)(On)==="object"?On:null)]},[On])}var B=function(Gn,ci){var Dn=E.useRef(!1);E.useEffect(function(){Dn.current?Gn():Dn.current=!0},ci)},Y=B,pe=function(On,Gn){var ci={};for(var Dn in On)Object.prototype.hasOwnProperty.call(On,Dn)&&Gn.indexOf(Dn)<0&&(ci[Dn]=On[Dn]);if(On!=null&&typeof Object.getOwnPropertySymbols=="function")for(var An=0,Dn=Object.getOwnPropertySymbols(On);An<Dn.length;An++)Gn.indexOf(Dn[An])<0&&Object.prototype.propertyIsEnumerable.call(On,Dn[An])&&(ci[Dn[An]]=On[Dn[An]]);return ci},me=E.forwardRef(function(On,Gn){var ci=On.prefixCls,Dn=On.component,An=Dn===void 0?"article":Dn,fr=On.className,Vi=On.setContentRef,Sr=On.children,Pi=On.direction,Ei=pe(On,["prefixCls","component","className","setContentRef","children","direction"]),Cr=E.useContext(d.b),zn=Cr.getPrefixCls,dr=Cr.direction,Hn=Pi!=null?Pi:dr,mi=Gn;Vi&&(mi=Object(U.a)(Gn,Vi));var hn=zn("typography",ci),Xn=L()(hn,Object(ve.a)({},"".concat(hn,"-rtl"),Hn==="rtl"),fr);return E.createElement(An,Object(le.a)({className:Xn,ref:mi},Ei),Sr)}),I=me;function we(On){var Gn=Object(De.a)(On);return Gn==="string"||Gn==="number"}function Re(On){var Gn=0;return On.forEach(function(ci){we(ci)?Gn+=String(ci).length:Gn+=1}),Gn}function Oe(On,Gn){for(var ci=0,Dn=[],An=0;An<On.length;An+=1){if(ci===Gn)return Dn;var fr=On[An],Vi=we(fr),Sr=Vi?String(fr).length:1,Pi=ci+Sr;if(Pi>Gn){var Ei=Gn-ci;return Dn.push(String(fr).slice(0,Ei)),Dn}Dn.push(fr),ci=Pi}return On}var Pe=0,Ne=1,Ke=2,Xe=3,wt=4,Ct=function(Gn){var ci=Gn.enabledMeasure,Dn=Gn.children,An=Gn.text,fr=Gn.width,Vi=Gn.fontSize,Sr=Gn.rows,Pi=Gn.onEllipsis,Ei=E.useState([0,0,0]),Cr=Object(re.a)(Ei,2),zn=Object(re.a)(Cr[0],3),dr=zn[0],Hn=zn[1],mi=zn[2],hn=Cr[1],Xn=E.useState(Pe),en=Object(re.a)(Xn,2),yt=en[0],wn=en[1],gn=E.useState(0),rn=Object(re.a)(gn,2),bn=rn[0],Qn=rn[1],Ci=E.useRef(null),yr=E.useRef(null),_i=E.useMemo(function(){return Object(W.a)(An)},[An]),Bn=E.useMemo(function(){return Re(_i)},[_i]),tt=E.useMemo(function(){return!ci||yt!==Xe?Dn(_i,!1):Dn(Oe(_i,Hn),Hn<Bn)},[ci,yt,Dn,_i,Hn,Bn]);Object(F.a)(function(){ci&&fr&&Vi&&Bn&&(wn(Ne),hn([0,Math.ceil(Bn/2),Bn]))},[ci,fr,Vi,An,Bn,Sr]),Object(F.a)(function(){var mr;yt===Ne&&Qn(((mr=Ci.current)===null||mr===void 0?void 0:mr.offsetHeight)||0)},[yt]),Object(F.a)(function(){var mr,pr;if(bn){if(yt===Ne){var St=((mr=yr.current)===null||mr===void 0?void 0:mr.offsetHeight)||0,Gi=Sr*bn;St<=Gi?(wn(wt),Pi(!1)):wn(Ke)}else if(yt===Ke)if(dr!==mi){var an=((pr=yr.current)===null||pr===void 0?void 0:pr.offsetHeight)||0,Qe=Sr*bn,Jn=dr,ii=mi;dr===mi-1?ii=dr:an<=Qe?Jn=Hn:ii=Hn;var Li=Math.ceil((Jn+ii)/2);hn([Jn,Li,ii])}else wn(Xe),Pi(!0)}},[yt,dr,mi,Sr,bn]);var Lt={width:fr,whiteSpace:"normal",margin:0,padding:0},xi=function(pr,St,Gi){return E.createElement("span",{"aria-hidden":!0,ref:St,style:Object(le.a)({position:"fixed",display:"block",left:0,top:0,zIndex:-9999,visibility:"hidden",pointerEvents:"none",fontSize:Math.floor(Vi/2)*2},Gi)},pr)},Qi=function(pr,St){var Gi=Oe(_i,pr);return xi(Dn(Gi,!0),St,Lt)};return E.createElement(E.Fragment,null,tt,ci&&yt!==Xe&&yt!==wt&&E.createElement(E.Fragment,null,xi("lg",Ci,{wordBreak:"keep-all",whiteSpace:"nowrap"}),yt===Ne?xi(Dn(_i,!1),yr,Lt):Qi(Hn,yr)))},bt=Ct,mt=function(Gn){var ci=Gn.enabledEllipsis,Dn=Gn.isEllipsis,An=Gn.children,fr=Gn.tooltipProps;return!(fr==null?void 0:fr.title)||!ci?An:E.createElement(S.a,Object(le.a)({open:Dn?void 0:!1},fr),An)},jt=mt,Je=function(On,Gn){var ci={};for(var Dn in On)Object.prototype.hasOwnProperty.call(On,Dn)&&Gn.indexOf(Dn)<0&&(ci[Dn]=On[Dn]);if(On!=null&&typeof Object.getOwnPropertySymbols=="function")for(var An=0,Dn=Object.getOwnPropertySymbols(On);An<Dn.length;An++)Gn.indexOf(Dn[An])<0&&Object.prototype.propertyIsEnumerable.call(On,Dn[An])&&(ci[Dn[An]]=On[Dn[An]]);return ci};function Wt(On,Gn){var ci=On.mark,Dn=On.code,An=On.underline,fr=On.delete,Vi=On.strong,Sr=On.keyboard,Pi=On.italic,Ei=Gn;function Cr(zn,dr){!zn||(Ei=E.createElement(dr,{},Ei))}return Cr(Vi,"strong"),Cr(An,"u"),Cr(fr,"del"),Cr(Dn,"code"),Cr(ci,"mark"),Cr(Sr,"kbd"),Cr(Pi,"i"),Ei}function Te(On,Gn,ci){return On===!0||On===void 0?Gn:On||ci&&Gn}function fe(On){return On===!1?[!1,!1]:Array.isArray(On)?On:[On]}var ye="...",Ee=E.forwardRef(function(On,Gn){var ci,Dn,An,fr=On.prefixCls,Vi=On.className,Sr=On.style,Pi=On.type,Ei=On.disabled,Cr=On.children,zn=On.ellipsis,dr=On.editable,Hn=On.copyable,mi=On.component,hn=On.title,Xn=Je(On,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),en=E.useContext(d.b),yt=en.getPrefixCls,wn=en.direction,gn=Object(j.b)("Text")[0],rn=E.useRef(null),bn=E.useRef(null),Qn=yt("typography",fr),Ci=Object(N.a)(Xn,["mark","code","delete","underline","strong","keyboard","italic"]),yr=w(dr),_i=Object(re.a)(yr,2),Bn=_i[0],tt=_i[1],Lt=Object(V.a)(!1,{value:tt.editing}),xi=Object(re.a)(Lt,2),Qi=xi[0],mr=xi[1],pr=tt.triggerType,St=pr===void 0?["icon"]:pr,Gi=function(ua){var La;ua&&((La=tt.onStart)===null||La===void 0||La.call(tt)),mr(ua)};Y(function(){var ka;Qi||(ka=bn.current)===null||ka===void 0||ka.focus()},[Qi]);var an=function(ua){ua==null||ua.preventDefault(),Gi(!0)},Qe=function(ua){var La;(La=tt.onChange)===null||La===void 0||La.call(tt,ua),Gi(!1)},Jn=function(){var ua;(ua=tt.onCancel)===null||ua===void 0||ua.call(tt),Gi(!1)},ii=w(Hn),Li=Object(re.a)(ii,2),Fn=Li[0],jn=Li[1],Nt=E.useState(!1),Gt=Object(re.a)(Nt,2),Et=Gt[0],Rt=Gt[1],dn=E.useRef(),et={};jn.format&&(et.format=jn.format);var Ze=function(){window.clearTimeout(dn.current)},on=function(ua){var La;ua==null||ua.preventDefault(),ua==null||ua.stopPropagation(),ee()(jn.text||String(Cr)||"",et),Rt(!0),Ze(),dn.current=window.setTimeout(function(){Rt(!1)},3e3),(La=jn.onCopy)===null||La===void 0||La.call(jn,ua)};E.useEffect(function(){return Ze},[]);var tn=E.useState(!1),Dt=Object(re.a)(tn,2),pn=Dt[0],ti=Dt[1],kn=E.useState(!1),Vt=Object(re.a)(kn,2),Oi=Vt[0],Yi=Vt[1],Hi=E.useState(!1),qi=Object(re.a)(Hi,2),Qr=qi[0],Mr=qi[1],na=E.useState(!1),Br=Object(re.a)(na,2),ha=Br[0],vn=Br[1],Ln=E.useState(!1),ut=Object(re.a)(Ln,2),Tt=ut[0],Pt=ut[1],Zt=E.useState(!0),Ut=Object(re.a)(Zt,2),Nn=Ut[0],In=Ut[1],Wn=w(zn,{expandable:!1}),oi=Object(re.a)(Wn,2),bi=oi[0],_n=oi[1],li=bi&&!Qr,ki=_n.rows,Ki=ki===void 0?1:ki,Tr=E.useMemo(function(){return!li||_n.suffix!==void 0||_n.onEllipsis||_n.expandable||Bn||Fn},[li,_n,Bn,Fn]);Object(F.a)(function(){bi&&!Tr&&(ti(Object(x.a)("webkitLineClamp")),Yi(Object(x.a)("textOverflow")))},[Tr,bi]);var ir=E.useMemo(function(){return Tr?!1:Ki===1?Oi:pn},[Tr,Oi,pn]),Er=li&&(ir?Tt:ha),va=li&&Ki===1&&ir,Sn=li&&Ki>1&&ir,ri=function(ua){var La;Mr(!0),(La=_n.onExpand)===null||La===void 0||La.call(_n,ua)},Vn=E.useState(0),Ai=Object(re.a)(Vn,2),or=Ai[0],Zi=Ai[1],zi=E.useState(0),Wr=Object(re.a)(zi,2),Ra=Wr[0],Nr=Wr[1],xa=function(ua,La){var Mo=ua.offsetWidth,ts;Zi(Mo),Nr(parseInt((ts=window.getComputedStyle)===null||ts===void 0?void 0:ts.call(window,La).fontSize,10)||0)},Qa=function(ua){var La;vn(ua),ha!==ua&&((La=_n.onEllipsis)===null||La===void 0||La.call(_n,ua))};E.useEffect(function(){var ka=rn.current;if(bi&&ir&&ka){var ua=Sn?ka.offsetHeight<ka.scrollHeight:ka.offsetWidth<ka.scrollWidth;Tt!==ua&&Pt(ua)}},[bi,ir,Cr,Sn,Nn]),E.useEffect(function(){var ka=rn.current;if(!(typeof IntersectionObserver=="undefined"||!ka||!ir||!li)){var ua=new IntersectionObserver(function(){In(!!ka.offsetParent)});return ua.observe(ka),function(){ua.disconnect()}}},[ir,li]);var ia={};_n.tooltip===!0?ia={title:(ci=tt.text)!==null&&ci!==void 0?ci:Cr}:E.isValidElement(_n.tooltip)?ia={title:_n.tooltip}:Object(De.a)(_n.tooltip)==="object"?ia=Object(le.a)({title:(Dn=tt.text)!==null&&Dn!==void 0?Dn:Cr},_n.tooltip):ia={title:_n.tooltip};var io=E.useMemo(function(){var ka=function(La){return["string","number"].includes(Object(De.a)(La))};if(!(!bi||ir)){if(ka(tt.text))return tt.text;if(ka(Cr))return Cr;if(ka(hn))return hn;if(ka(ia.title))return ia.title}},[bi,ir,hn,ia.title,Er]);if(Qi)return E.createElement(k,{value:(An=tt.text)!==null&&An!==void 0?An:typeof Cr=="string"?Cr:"",onSave:Qe,onCancel:Jn,onEnd:tt.onEnd,prefixCls:Qn,className:Vi,style:Sr,direction:wn,component:mi,maxLength:tt.maxLength,autoSize:tt.autoSize,enterIcon:tt.enterIcon});var ro=function(){var ua=_n.expandable,La=_n.symbol;if(!ua)return null;var Mo;return La?Mo=La:Mo=gn.expand,E.createElement("a",{key:"expand",className:"".concat(Qn,"-expand"),onClick:ri,"aria-label":gn.expand},Mo)},vo=function(){if(!!Bn){var ua=tt.icon,La=tt.tooltip,Mo=Object(W.a)(La)[0]||gn.edit,ts=typeof Mo=="string"?Mo:"";return St.includes("icon")?E.createElement(S.a,{key:"edit",title:La===!1?"":Mo},E.createElement(C.a,{ref:bn,className:"".concat(Qn,"-edit"),onClick:an,"aria-label":ts},ua||E.createElement(y.a,{role:"button"}))):null}},Zo=function(){if(!!Fn){var ua=jn.tooltips,La=jn.icon,Mo=fe(ua),ts=fe(La),At=Et?Te(Mo[1],gn.copied):Te(Mo[0],gn.copy),nt=Et?gn.copied:gn.copy,_e=typeof At=="string"?At:nt;return E.createElement(S.a,{key:"copy",title:At},E.createElement(C.a,{className:L()("".concat(Qn,"-copy"),Et&&"".concat(Qn,"-copy-success")),onClick:on,"aria-label":_e},Et?Te(ts[1],E.createElement(J.a,null),!0):Te(ts[0],E.createElement($.a,null),!0)))}},Hr=function(ua){return[ua&&ro(),vo(),Zo()]},ao=function(ua){return[ua&&E.createElement("span",{"aria-hidden":!0,key:"ellipsis"},ye),_n.suffix,Hr(ua)]};return E.createElement(H.a,{onResize:xa,disabled:!li||ir},function(ka){var ua;return E.createElement(jt,{tooltipProps:ia,enabledEllipsis:li,isEllipsis:Er},E.createElement(I,Object(le.a)({className:L()((ua={},Object(ve.a)(ua,"".concat(Qn,"-").concat(Pi),Pi),Object(ve.a)(ua,"".concat(Qn,"-disabled"),Ei),Object(ve.a)(ua,"".concat(Qn,"-ellipsis"),bi),Object(ve.a)(ua,"".concat(Qn,"-single-line"),li&&Ki===1),Object(ve.a)(ua,"".concat(Qn,"-ellipsis-single-line"),va),Object(ve.a)(ua,"".concat(Qn,"-ellipsis-multiple-line"),Sn),ua),Vi),prefixCls:fr,style:Object(le.a)(Object(le.a)({},Sr),{WebkitLineClamp:Sn?Ki:void 0}),component:mi,ref:Object(U.a)(ka,rn,Gn),direction:wn,onClick:St.includes("text")?an:void 0,"aria-label":io==null?void 0:io.toString(),title:hn},Ci),E.createElement(bt,{enabledMeasure:li&&!ir,text:Cr,rows:Ki,width:or,fontSize:Ra,onEllipsis:Qa},function(La,Mo){var ts=La;La.length&&Mo&&io&&(ts=E.createElement("span",{key:"show-content","aria-hidden":!0},ts));var At=Wt(On,E.createElement(E.Fragment,null,ts,ao(Mo)));return At})))})}),Ge=Ee,$e=function(On,Gn){var ci={};for(var Dn in On)Object.prototype.hasOwnProperty.call(On,Dn)&&Gn.indexOf(Dn)<0&&(ci[Dn]=On[Dn]);if(On!=null&&typeof Object.getOwnPropertySymbols=="function")for(var An=0,Dn=Object.getOwnPropertySymbols(On);An<Dn.length;An++)Gn.indexOf(Dn[An])<0&&Object.prototype.propertyIsEnumerable.call(On,Dn[An])&&(ci[Dn[An]]=On[Dn[An]]);return ci},We=E.forwardRef(function(On,Gn){var ci=On.ellipsis,Dn=On.rel,An=$e(On,["ellipsis","rel"]),fr=Object(le.a)(Object(le.a)({},An),{rel:Dn===void 0&&An.target==="_blank"?"noopener noreferrer":Dn});return delete fr.navigate,E.createElement(Ge,Object(le.a)({},fr,{ref:Gn,ellipsis:!!ci,component:"a"}))}),it=We,Fe=E.forwardRef(function(On,Gn){return E.createElement(Ge,Object(le.a)({ref:Gn},On,{component:"div"}))}),He=Fe,Ye=function(On,Gn){var ci={};for(var Dn in On)Object.prototype.hasOwnProperty.call(On,Dn)&&Gn.indexOf(Dn)<0&&(ci[Dn]=On[Dn]);if(On!=null&&typeof Object.getOwnPropertySymbols=="function")for(var An=0,Dn=Object.getOwnPropertySymbols(On);An<Dn.length;An++)Gn.indexOf(Dn[An])<0&&Object.prototype.propertyIsEnumerable.call(On,Dn[An])&&(ci[Dn[An]]=On[Dn[An]]);return ci},ot=function(Gn,ci){var Dn=Gn.ellipsis,An=Ye(Gn,["ellipsis"]),fr=E.useMemo(function(){return Dn&&Object(De.a)(Dn)==="object"?Object(N.a)(Dn,["expandable","rows"]):Dn},[Dn]);return E.createElement(Ge,Object(le.a)({ref:ci},An,{ellipsis:fr,component:"span"}))},Kt=E.forwardRef(ot),gt=a("CWQg"),Ft=function(On,Gn){var ci={};for(var Dn in On)Object.prototype.hasOwnProperty.call(On,Dn)&&Gn.indexOf(Dn)<0&&(ci[Dn]=On[Dn]);if(On!=null&&typeof Object.getOwnPropertySymbols=="function")for(var An=0,Dn=Object.getOwnPropertySymbols(On);An<Dn.length;An++)Gn.indexOf(Dn[An])<0&&Object.prototype.propertyIsEnumerable.call(On,Dn[An])&&(ci[Dn[An]]=On[Dn[An]]);return ci},Jt=Object(gt.b)(1,2,3,4,5),qt=E.forwardRef(function(On,Gn){var ci=On.level,Dn=ci===void 0?1:ci,An=Ft(On,["level"]),fr;return Jt.includes(Dn)?fr="h".concat(Dn):fr="h1",E.createElement(Ge,Object(le.a)({ref:Gn},An,{component:fr}))}),En=qt,It=I;It.Text=Kt,It.Link=it,It.Title=En,It.Paragraph=He;var si=K.a=It},wQH0:function(fn,K,a){"use strict";a.d(K,"a",function(){return E});var le=a("3/fG"),De=a("T8No"),E;(function(ve){ve.editorSimpleInput=new De.c("editorSimpleInput",!1,!0),ve.editorTextFocus=new De.c("editorTextFocus",!1,le.b("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),ve.focus=new De.c("editorFocus",!1,le.b("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),ve.textInputFocus=new De.c("textInputFocus",!1,le.b("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),ve.readOnly=new De.c("editorReadonly",!1,le.b("editorReadonly","Whether the editor is read only")),ve.inDiffEditor=new De.c("inDiffEditor",!1,le.b("inDiffEditor","Whether the context is a diff editor")),ve.isEmbeddedDiffEditor=new De.c("isEmbeddedDiffEditor",!1,le.b("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),ve.columnSelection=new De.c("editorColumnSelection",!1,le.b("editorColumnSelection","Whether `editor.columnSelection` is enabled")),ve.writable=ve.readOnly.toNegated(),ve.hasNonEmptySelection=new De.c("editorHasSelection",!1,le.b("editorHasSelection","Whether the editor has text selected")),ve.hasOnlyEmptySelection=ve.hasNonEmptySelection.toNegated(),ve.hasMultipleSelections=new De.c("editorHasMultipleSelections",!1,le.b("editorHasMultipleSelections","Whether the editor has multiple selections")),ve.hasSingleSelection=ve.hasMultipleSelections.toNegated(),ve.tabMovesFocus=new De.c("editorTabMovesFocus",!1,le.b("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),ve.tabDoesNotMoveFocus=ve.tabMovesFocus.toNegated(),ve.isInWalkThroughSnippet=new De.c("isInEmbeddedEditor",!1,!0),ve.canUndo=new De.c("canUndo",!1,!0),ve.canRedo=new De.c("canRedo",!1,!0),ve.hoverVisible=new De.c("editorHoverVisible",!1,le.b("editorHoverVisible","Whether the editor hover is visible")),ve.hoverFocused=new De.c("editorHoverFocused",!1,le.b("editorHoverFocused","Whether the editor hover is focused")),ve.stickyScrollFocused=new De.c("stickyScrollFocused",!1,le.b("stickyScrollFocused","Whether the sticky scroll is focused")),ve.stickyScrollVisible=new De.c("stickyScrollVisible",!1,le.b("stickyScrollVisible","Whether the sticky scroll is visible")),ve.standaloneColorPickerVisible=new De.c("standaloneColorPickerVisible",!1,le.b("standaloneColorPickerVisible","Whether the standalone color picker is visible")),ve.standaloneColorPickerFocused=new De.c("standaloneColorPickerFocused",!1,le.b("standaloneColorPickerFocused","Whether the standalone color picker is focused")),ve.inCompositeEditor=new De.c("inCompositeEditor",void 0,le.b("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),ve.notInCompositeEditor=ve.inCompositeEditor.toNegated(),ve.languageId=new De.c("editorLangId","",le.b("editorLangId","The language identifier of the editor")),ve.hasCompletionItemProvider=new De.c("editorHasCompletionItemProvider",!1,le.b("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),ve.hasCodeActionsProvider=new De.c("editorHasCodeActionsProvider",!1,le.b("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),ve.hasCodeLensProvider=new De.c("editorHasCodeLensProvider",!1,le.b("editorHasCodeLensProvider","Whether the editor has a code lens provider")),ve.hasDefinitionProvider=new De.c("editorHasDefinitionProvider",!1,le.b("editorHasDefinitionProvider","Whether the editor has a definition provider")),ve.hasDeclarationProvider=new De.c("editorHasDeclarationProvider",!1,le.b("editorHasDeclarationProvider","Whether the editor has a declaration provider")),ve.hasImplementationProvider=new De.c("editorHasImplementationProvider",!1,le.b("editorHasImplementationProvider","Whether the editor has an implementation provider")),ve.hasTypeDefinitionProvider=new De.c("editorHasTypeDefinitionProvider",!1,le.b("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),ve.hasHoverProvider=new De.c("editorHasHoverProvider",!1,le.b("editorHasHoverProvider","Whether the editor has a hover provider")),ve.hasDocumentHighlightProvider=new De.c("editorHasDocumentHighlightProvider",!1,le.b("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),ve.hasDocumentSymbolProvider=new De.c("editorHasDocumentSymbolProvider",!1,le.b("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),ve.hasReferenceProvider=new De.c("editorHasReferenceProvider",!1,le.b("editorHasReferenceProvider","Whether the editor has a reference provider")),ve.hasRenameProvider=new De.c("editorHasRenameProvider",!1,le.b("editorHasRenameProvider","Whether the editor has a rename provider")),ve.hasSignatureHelpProvider=new De.c("editorHasSignatureHelpProvider",!1,le.b("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),ve.hasInlayHintsProvider=new De.c("editorHasInlayHintsProvider",!1,le.b("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),ve.hasDocumentFormattingProvider=new De.c("editorHasDocumentFormattingProvider",!1,le.b("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),ve.hasDocumentSelectionFormattingProvider=new De.c("editorHasDocumentSelectionFormattingProvider",!1,le.b("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),ve.hasMultipleDocumentFormattingProvider=new De.c("editorHasMultipleDocumentFormattingProvider",!1,le.b("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),ve.hasMultipleDocumentSelectionFormattingProvider=new De.c("editorHasMultipleDocumentSelectionFormattingProvider",!1,le.b("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(E||(E={}))},wU4A:function(fn,K,a){},wcGD:function(fn,K,a){},wj68:function(fn,K,a){},wxcJ:function(fn,K,a){"use strict";(function(le){a.d(K,"a",function(){return re}),a.d(K,"b",function(){return J}),a.d(K,"c",function(){return $});var De=a("MNsG"),E;if(typeof De.b.vscode!="undefined"&&typeof De.b.vscode.process!="undefined"){var ve=De.b.vscode.process;E={get platform(){return ve.platform},get arch(){return ve.arch},get env(){return ve.env},cwd:function(){return ve.cwd()}}}else typeof le!="undefined"?E={get platform(){return le.platform},get arch(){return le.arch},get env(){return Object({NODE_ENV:"production"})},cwd:function(){return Object({NODE_ENV:"production"}).VSCODE_CWD||le.cwd()}}:E={get platform(){return De.o?"win32":De.i?"darwin":"linux"},get arch(){},get env(){return{}},cwd:function(){return"/"}};var re=E.cwd,J=E.env,$=E.platform}).call(this,a("Q2Ig"))},"x/UI":function(fn,K,a){"use strict";a.d(K,"a",function(){return y}),a.d(K,"b",function(){return Q}),a.d(K,"c",function(){return L});var le=a("yKVA"),De=a("879j"),E=a("fWQN"),ve=a("mtLc"),re=a("Cg/j"),J=a("bY76"),$=a("746U"),y=Object(re.c)("IWorkspaceEditService"),Q=function(){function ee(H){Object(E.a)(this,ee),this.metadata=H}return Object(ve.a)(ee,null,[{key:"convert",value:function(W){return W.edits.map(function(F){if(L.is(F))return L.lift(F);if(ne.is(F))return ne.lift(F);throw new Error("Unsupported edit")})}}]),ee}(),L=function(ee){Object(le.a)(W,ee);var H=Object(De.a)(W);function W(F,V){var N,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0;return Object(E.a)(this,W),N=H.call(this,d),N.resource=F,N.textEdit=V,N.versionId=U,N}return Object(ve.a)(W,null,[{key:"is",value:function(V){return V instanceof W?!0:Object($.h)(V)&&J.a.isUri(V.resource)&&Object($.h)(V.textEdit)}},{key:"lift",value:function(V){return V instanceof W?V:new W(V.resource,V.textEdit,V.versionId,V.metadata)}}]),W}(Q),ne=function(ee){Object(le.a)(W,ee);var H=Object(De.a)(W);function W(F,V){var N,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3?arguments[3]:void 0;return Object(E.a)(this,W),N=H.call(this,d),N.oldResource=F,N.newResource=V,N.options=U,N}return Object(ve.a)(W,null,[{key:"is",value:function(V){return V instanceof W?!0:Object($.h)(V)&&(Boolean(V.newResource)||Boolean(V.oldResource))}},{key:"lift",value:function(V){return V instanceof W?V:new W(V.oldResource,V.newResource,V.options,V.metadata)}}]),W}(Q)},xONI:function(fn,K,a){"use strict";a.d(K,"a",function(){return U});var le=a("rAM+"),De=a("oBTY"),E=a("w4Tj"),ve=a("oZsa"),re=a("yKVA"),J=a("879j"),$=a("fWQN"),y=a("mtLc"),Q=a("KgQ1"),L=a.n(Q),ne=a("EffR"),ee=a("7lZ/"),H=a("SMG5"),W=a("pmY6"),F=a("qj0h"),V=a("nuFA"),N=function(){function x(S){Object($.a)(this,x),this._element=S}return Object(y.a)(x,[{key:"element",get:function(){return this._element}},{key:"textContent",set:function(T){this.disposed||T===this._textContent||(this._textContent=T,this._element.textContent=T)}},{key:"className",set:function(T){this.disposed||T===this._className||(this._className=T,this._element.className=T)}},{key:"empty",set:function(T){this.disposed||T===this._empty||(this._empty=T,this._element.style.marginLeft=T?"0":"")}},{key:"dispose",value:function(){this.disposed=!0}}]),x}(),U=function(x){Object(re.a)(T,x);var S=Object(J.a)(T);function T(z,A){var ue;Object($.a)(this,T),ue=S.call(this),ue.customHovers=new Map,ue.creationOptions=A,ue.domNode=ue._register(new N(ne.append(z,ne.$(".monaco-icon-label")))),ue.labelContainer=ne.append(ue.domNode.element,ne.$(".monaco-icon-label-container"));var be=ne.append(ue.labelContainer,ne.$("span.monaco-icon-name-container"));return(A==null?void 0:A.supportHighlights)||(A==null?void 0:A.supportIcons)?ue.nameNode=new C(be,!!A.supportIcons):ue.nameNode=new d(be),ue.hoverDelegate=A==null?void 0:A.hoverDelegate,ue}return Object(y.a)(T,[{key:"element",get:function(){return this.domNode.element}},{key:"setLabel",value:function(A,ue,be){var de=["monaco-icon-label"],ke=["monaco-icon-label-container"];if(be&&(be.extraClasses&&de.push.apply(de,Object(De.a)(be.extraClasses)),be.italic&&de.push("italic"),be.strikethrough&&de.push("strikethrough"),be.disabledCommand&&ke.push("disabled")),this.domNode.className=de.join(" "),this.labelContainer.className=ke.join(" "),this.setupHover((be==null?void 0:be.descriptionTitle)?this.labelContainer:this.element,be==null?void 0:be.title),this.nameNode.setLabel(A,be),ue||this.descriptionNode){var he=this.getOrCreateDescriptionNode();he instanceof ee.a?(he.set(ue||"",be?be.descriptionMatches:void 0,void 0,be==null?void 0:be.labelEscapeNewLines),this.setupHover(he.element,be==null?void 0:be.descriptionTitle)):(he.textContent=ue&&(be==null?void 0:be.labelEscapeNewLines)?ee.a.escapeNewLines(ue,[]):ue||"",this.setupHover(he.element,(be==null?void 0:be.descriptionTitle)||""),he.empty=!ue)}}},{key:"setupHover",value:function(A,ue){var be=this.customHovers.get(A);if(be&&(be.dispose(),this.customHovers.delete(A)),!ue){A.removeAttribute("title");return}if(!this.hoverDelegate)Object(H.b)(A,ue);else{var de=Object(H.a)(this.hoverDelegate,A,ue);de&&this.customHovers.set(A,de)}}},{key:"dispose",value:function(){Object(E.a)(Object(ve.a)(T.prototype),"dispose",this).call(this);var A=Object(le.a)(this.customHovers.values()),ue;try{for(A.s();!(ue=A.n()).done;){var be=ue.value;be.dispose()}}catch(de){A.e(de)}finally{A.f()}this.customHovers.clear()}},{key:"getOrCreateDescriptionNode",value:function(){var A;if(!this.descriptionNode){var ue=this._register(new N(ne.append(this.labelContainer,ne.$("span.monaco-icon-description-container"))));((A=this.creationOptions)===null||A===void 0?void 0:A.supportDescriptionHighlights)?this.descriptionNode=new ee.a(ne.append(ue.element,ne.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new N(ne.append(ue.element,ne.$("span.label-description"))))}return this.descriptionNode}}]),T}(W.a),d=function(){function x(S){Object($.a)(this,x),this.container=S,this.label=void 0,this.singleLabel=void 0}return Object(y.a)(x,[{key:"setLabel",value:function(T,z){if(!(this.label===T&&Object(F.e)(this.options,z)))if(this.label=T,this.options=z,typeof T=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=ne.append(this.container,ne.$("a.label-name",{id:z==null?void 0:z.domId}))),this.singleLabel.textContent=T;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(var A=0;A<T.length;A++){var ue=T[A],be=(z==null?void 0:z.domId)&&"".concat(z==null?void 0:z.domId,"_").concat(A);ne.append(this.container,ne.$("a.label-name",{id:be,"data-icon-label-count":T.length,"data-icon-label-index":A,role:"treeitem"},ue)),A<T.length-1&&ne.append(this.container,ne.$("span.label-separator",void 0,(z==null?void 0:z.separator)||"/"))}}}}]),x}();function j(x,S,T){if(!!T){var z=0;return x.map(function(A){var ue={start:z,end:z+A.length},be=T.map(function(de){return V.a.intersect(ue,de)}).filter(function(de){return!V.a.isEmpty(de)}).map(function(de){var ke=de.start,he=de.end;return{start:ke-z,end:he-z}});return z=ue.end+S.length,be})}}var C=function(){function x(S,T){Object($.a)(this,x),this.container=S,this.supportIcons=T,this.label=void 0,this.singleLabel=void 0}return Object(y.a)(x,[{key:"setLabel",value:function(T,z){if(!(this.label===T&&Object(F.e)(this.options,z)))if(this.label=T,this.options=z,typeof T=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new ee.a(ne.append(this.container,ne.$("a.label-name",{id:z==null?void 0:z.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(T,z==null?void 0:z.matches,void 0,z==null?void 0:z.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(var A=(z==null?void 0:z.separator)||"/",ue=j(T,A,z==null?void 0:z.matches),be=0;be<T.length;be++){var de=T[be],ke=ue?ue[be]:void 0,he=(z==null?void 0:z.domId)&&"".concat(z==null?void 0:z.domId,"_").concat(be),ge=ne.$("a.label-name",{id:he,"data-icon-label-count":T.length,"data-icon-label-index":be,role:"treeitem"}),ce=new ee.a(ne.append(this.container,ge),{supportIcons:this.supportIcons});ce.set(de,ke,void 0,z==null?void 0:z.labelEscapeNewLines),be<T.length-1&&ne.append(ge,ne.$("span.label-separator",void 0,A))}}}}]),x}()},y0ET:function(fn,K,a){"use strict";a.d(K,"a",function(){return L}),a.d(K,"b",function(){return ne});var le=a("fWQN"),De=a("mtLc"),E=a("3/fG"),ve=a("MI8n"),re=a("ic2d"),J=a("ubTv"),$=a("CRAX"),y={ModesRegistry:"editor.modesRegistry"},Q=function(){function H(){Object(le.a)(this,H),this._onDidChangeLanguages=new ve.b,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}return Object(De.a)(H,[{key:"registerLanguage",value:function(F){var V=this;return this._languages.push(F),this._onDidChangeLanguages.fire(void 0),{dispose:function(){for(var U=0,d=V._languages.length;U<d;U++)if(V._languages[U]===F){V._languages.splice(U,1);return}}}}},{key:"getLanguages",value:function(){return this._languages}}]),H}(),L=new Q;re.a.add(y.ModesRegistry,L);var ne="plaintext",ee=".txt";L.registerLanguage({id:ne,extensions:[ee],aliases:[E.b("plainText.alias","Plain Text"),"text"],mimetypes:[J.a.text]}),re.a.as($.a.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},yEoX:function(fn,K,a){},yqFB:function(fn,K,a){},yv4k:function(fn,K,a){},z3hU:function(fn,K,a){"use strict";a.d(K,"a",function(){return C});var le=a("fWQN"),De=a("mtLc"),E=a("rAM+"),ve=a("8z58");/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.39.0(ff3621a3fa6389873be5412d17554294ea1b0941)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var re=Object.defineProperty,J=Object.getOwnPropertyDescriptor,$=Object.getOwnPropertyNames,y=Object.prototype.hasOwnProperty,Q=function(ue,be,de,ke){if(be&&typeof be=="object"||typeof be=="function"){var he=Object(E.a)($(be)),ge;try{var ce=function(){var w=ge.value;!y.call(ue,w)&&w!==de&&re(ue,w,{get:function(){return be[w]},enumerable:!(ke=J(be,w))||ke.enumerable})};for(he.s();!(ge=he.n()).done;)ce()}catch(k){he.e(k)}finally{he.f()}}return ue},L=function(ue,be,de){return Q(ue,be,"default"),de&&Q(de,be,"default")},ne="5.0.2",ee={};L(ee,ve);var H=function(A){return A[A.None=0]="None",A[A.CommonJS=1]="CommonJS",A[A.AMD=2]="AMD",A[A.UMD=3]="UMD",A[A.System=4]="System",A[A.ES2015=5]="ES2015",A[A.ESNext=99]="ESNext",A}(H||{}),W=function(A){return A[A.None=0]="None",A[A.Preserve=1]="Preserve",A[A.React=2]="React",A[A.ReactNative=3]="ReactNative",A[A.ReactJSX=4]="ReactJSX",A[A.ReactJSXDev=5]="ReactJSXDev",A}(W||{}),F=function(A){return A[A.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",A[A.LineFeed=1]="LineFeed",A}(F||{}),V=function(A){return A[A.ES3=0]="ES3",A[A.ES5=1]="ES5",A[A.ES2015=2]="ES2015",A[A.ES2016=3]="ES2016",A[A.ES2017=4]="ES2017",A[A.ES2018=5]="ES2018",A[A.ES2019=6]="ES2019",A[A.ES2020=7]="ES2020",A[A.ESNext=99]="ESNext",A[A.JSON=100]="JSON",A[A.Latest=99]="Latest",A}(V||{}),N=function(A){return A[A.Classic=1]="Classic",A[A.NodeJs=2]="NodeJs",A}(N||{}),U=function(){function A(ue,be,de,ke,he){Object(le.a)(this,A),this._onDidChange=new ee.Emitter,this._onDidExtraLibsChange=new ee.Emitter,this._extraLibs=void 0,this._removedExtraLibs=void 0,this._eagerModelSync=void 0,this._compilerOptions=void 0,this._diagnosticsOptions=void 0,this._workerOptions=void 0,this._onDidExtraLibsChangeTimeout=void 0,this._inlayHintsOptions=void 0,this._modeConfiguration=void 0,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(ue),this.setDiagnosticsOptions(be),this.setWorkerOptions(de),this.setInlayHintsOptions(ke),this.setModeConfiguration(he),this._onDidExtraLibsChangeTimeout=-1}return Object(De.a)(A,[{key:"onDidChange",get:function(){return this._onDidChange.event}},{key:"onDidExtraLibsChange",get:function(){return this._onDidExtraLibsChange.event}},{key:"modeConfiguration",get:function(){return this._modeConfiguration}},{key:"workerOptions",get:function(){return this._workerOptions}},{key:"inlayHintsOptions",get:function(){return this._inlayHintsOptions}},{key:"getExtraLibs",value:function(){return this._extraLibs}},{key:"addExtraLib",value:function(be,de){var ke=this,he;if(typeof de=="undefined"?he="ts:extralib-".concat(Math.random().toString(36).substring(2,15)):he=de,this._extraLibs[he]&&this._extraLibs[he].content===be)return{dispose:function(){}};var ge=1;return this._removedExtraLibs[he]&&(ge=this._removedExtraLibs[he]+1),this._extraLibs[he]&&(ge=this._extraLibs[he].version+1),this._extraLibs[he]={content:be,version:ge},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var k=ke._extraLibs[he];!k||k.version===ge&&(delete ke._extraLibs[he],ke._removedExtraLibs[he]=ge,ke._fireOnDidExtraLibsChangeSoon())}}}},{key:"setExtraLibs",value:function(be){for(var de in this._extraLibs)this._removedExtraLibs[de]=this._extraLibs[de].version;if(this._extraLibs=Object.create(null),be&&be.length>0){var ke=Object(E.a)(be),he;try{for(ke.s();!(he=ke.n()).done;){var ge=he.value,ce=ge.filePath||"ts:extralib-".concat(Math.random().toString(36).substring(2,15)),k=ge.content,w=1;this._removedExtraLibs[ce]&&(w=this._removedExtraLibs[ce]+1),this._extraLibs[ce]={content:k,version:w}}}catch(B){ke.e(B)}finally{ke.f()}}this._fireOnDidExtraLibsChangeSoon()}},{key:"_fireOnDidExtraLibsChangeSoon",value:function(){var be=this;this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(function(){be._onDidExtraLibsChangeTimeout=-1,be._onDidExtraLibsChange.fire(void 0)},0))}},{key:"getCompilerOptions",value:function(){return this._compilerOptions}},{key:"setCompilerOptions",value:function(be){this._compilerOptions=be||Object.create(null),this._onDidChange.fire(void 0)}},{key:"getDiagnosticsOptions",value:function(){return this._diagnosticsOptions}},{key:"setDiagnosticsOptions",value:function(be){this._diagnosticsOptions=be||Object.create(null),this._onDidChange.fire(void 0)}},{key:"setWorkerOptions",value:function(be){this._workerOptions=be||Object.create(null),this._onDidChange.fire(void 0)}},{key:"setInlayHintsOptions",value:function(be){this._inlayHintsOptions=be||Object.create(null),this._onDidChange.fire(void 0)}},{key:"setMaximumWorkerIdleTime",value:function(be){}},{key:"setEagerModelSync",value:function(be){this._eagerModelSync=be}},{key:"getEagerModelSync",value:function(){return this._eagerModelSync}},{key:"setModeConfiguration",value:function(be){this._modeConfiguration=be||Object.create(null),this._onDidChange.fire(void 0)}}]),A}(),d=ne,j={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},C=new U({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},j),x=new U({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},j),S=function(){return z().then(function(ue){return ue.getTypeScriptWorker()})},T=function(){return z().then(function(ue){return ue.getJavaScriptWorker()})};ee.languages.typescript={ModuleKind:H,JsxEmit:W,NewLineKind:F,ScriptTarget:V,ModuleResolutionKind:N,typescriptVersion:d,typescriptDefaults:C,javascriptDefaults:x,getTypeScriptWorker:S,getJavaScriptWorker:T};function z(){return a.e(98).then(a.bind(null,"4yiN"))}ee.languages.onLanguage("typescript",function(){return z().then(function(A){return A.setupTypeScript(C)})}),ee.languages.onLanguage("javascript",function(){return z().then(function(A){return A.setupJavaScript(x)})})},zN7H:function(fn,K,a){"use strict";a.d(K,"a",function(){return H});var le=a("fWQN"),De=a("mtLc"),E=a("N0LK"),ve=a("JLfW"),re=a("aokT"),J=a("gCVg"),$=a("s3yj"),y=a("AYRw"),Q=function(W,F,V,N){var U=arguments.length,d=U<3?F:N===null?N=Object.getOwnPropertyDescriptor(F,V):N,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(W,F,V,N);else for(var C=W.length-1;C>=0;C--)(j=W[C])&&(d=(U<3?j(d):U>3?j(F,V,d):j(F,V))||d);return U>3&&d&&Object.defineProperty(F,V,d),d},L=function(W,F){return function(V,N){F(V,N,W)}},ne=Object.create(null);function ee(W,F){if(F<=0)return"";ne[W]||(ne[W]=["",W]);for(var V=ne[W],N=V.length;N<=F;N++)V[N]=V[N-1]+W;return V[F]}var H=function(){function W(F,V,N){Object(le.a)(this,W),this._languageConfigurationService=N,this._opts=V,this._selection=F,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}return Object(De.a)(W,[{key:"_addEditOperation",value:function(V,N,U){this._useLastEditRangeForCursorEndPosition?V.addTrackedEditOperation(N,U):V.addEditOperation(N,U)}},{key:"getEditOperations",value:function(V,N){var U=this._selection.startLineNumber,d=this._selection.endLineNumber;this._selection.endColumn===1&&U!==d&&(d=d-1);var j=this._opts,C=j.tabSize,x=j.indentSize,S=j.insertSpaces,T=U===d;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(V.getLineContent(U))&&(this._useLastEditRangeForCursorEndPosition=!0);for(var z=0,A=0,ue=U;ue<=d;ue++,z=A){A=0;var be=V.getLineContent(ue),de=E.u(be);if(!(this._opts.isUnshift&&(be.length===0||de===0))&&!(!T&&!this._opts.isUnshift&&be.length===0)){if(de===-1&&(de=be.length),ue>1){var ke=ve.a.visibleColumnFromColumn(be,de+1,C);if(ke%x!=0&&V.tokenization.isCheapToTokenize(ue-1)){var he=Object($.a)(this._opts.autoIndent,V,new re.a(ue-1,V.getLineMaxColumn(ue-1),ue-1,V.getLineMaxColumn(ue-1)),this._languageConfigurationService);if(he){if(A=z,he.appendText)for(var ge=0,ce=he.appendText.length;ge<ce&&A<x&&he.appendText.charCodeAt(ge)===32;ge++)A++;he.removeText&&(A=Math.max(0,A-he.removeText));for(var k=0;k<A&&!(de===0||be.charCodeAt(de-1)!==32);k++)de--}}}if(!(this._opts.isUnshift&&de===0)){var w=void 0;this._opts.isUnshift?w=W.unshiftIndent(be,de+1,C,x,S):w=W.shiftIndent(be,de+1,C,x,S),this._addEditOperation(N,new re.a(ue,1,ue,de+1),w),ue===U&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=de+1)}}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&V.getLineLength(U)===0&&(this._useLastEditRangeForCursorEndPosition=!0);for(var B=S?ee(" ",x):"	",Y=U;Y<=d;Y++){var pe=V.getLineContent(Y),me=E.u(pe);if(!(this._opts.isUnshift&&(pe.length===0||me===0))&&!(!T&&!this._opts.isUnshift&&pe.length===0)&&(me===-1&&(me=pe.length),!(this._opts.isUnshift&&me===0)))if(this._opts.isUnshift){me=Math.min(me,x);for(var I=0;I<me;I++){var we=pe.charCodeAt(I);if(we===9){me=I+1;break}}this._addEditOperation(N,new re.a(Y,1,Y,me+1),"")}else this._addEditOperation(N,new re.a(Y,1,Y,1),B),Y===U&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=N.trackSelection(this._selection)}},{key:"computeCursorState",value:function(V,N){if(this._useLastEditRangeForCursorEndPosition){var U=N.getInverseEditOperations()[0];return new J.a(U.range.endLineNumber,U.range.endColumn,U.range.endLineNumber,U.range.endColumn)}var d=N.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var j=this._selection.startColumn,C=d.startColumn;return C<=j?d:d.getDirection()===0?new J.a(d.startLineNumber,j,d.endLineNumber,d.endColumn):new J.a(d.endLineNumber,d.endColumn,d.startLineNumber,j)}return d}}],[{key:"unshiftIndent",value:function(V,N,U,d,j){var C=ve.a.visibleColumnFromColumn(V,N,U);if(j){var x=ee(" ",d),S=ve.a.prevIndentTabStop(C,d),T=S/d;return ee(x,T)}else{var z="	",A=ve.a.prevRenderTabStop(C,U),ue=A/U;return ee(z,ue)}}},{key:"shiftIndent",value:function(V,N,U,d,j){var C=ve.a.visibleColumnFromColumn(V,N,U);if(j){var x=ee(" ",d),S=ve.a.nextIndentTabStop(C,d),T=S/d;return ee(x,T)}else{var z="	",A=ve.a.nextRenderTabStop(C,U),ue=A/U;return ee(z,ue)}}}]),W}();H=Q([L(2,y.a)],H)},zP5H:function(fn,K,a){"use strict";a.d(K,"a",function(){return De});var le=a("q1tI");function De(ve){var re=le.createContext(null);function J(y){var Q=ve(y.initialState);return le.createElement(re.Provider,{value:Q},y.children)}function $(){var y=le.useContext(re);if(y===null)throw new Error("Component must be wrapped with <Container.Provider>");return y}return{Provider:J,useContainer:$}}function E(ve){return ve.useContainer()}},zhcO:function(fn,K,a){"use strict";a.d(K,"a",function(){return ve});var le=a("fWQN"),De=a("mtLc"),E=a("VGTv"),ve=function(){function J($,y,Q){Object(le.a)(this,J),this._lineTokensBrand=void 0,this._tokens=$,this._tokensCount=this._tokens.length>>>1,this._text=y,this._languageIdCodec=Q}return Object(De.a)(J,[{key:"equals",value:function(y){return y instanceof J?this.slicedEquals(y,0,this._tokensCount):!1}},{key:"slicedEquals",value:function(y,Q,L){if(this._text!==y._text||this._tokensCount!==y._tokensCount)return!1;for(var ne=Q<<1,ee=ne+(L<<1),H=ne;H<ee;H++)if(this._tokens[H]!==y._tokens[H])return!1;return!0}},{key:"getLineContent",value:function(){return this._text}},{key:"getCount",value:function(){return this._tokensCount}},{key:"getStartOffset",value:function(y){return y>0?this._tokens[y-1<<1]:0}},{key:"getMetadata",value:function(y){var Q=this._tokens[(y<<1)+1];return Q}},{key:"getLanguageId",value:function(y){var Q=this._tokens[(y<<1)+1],L=E.a.getLanguageId(Q);return this._languageIdCodec.decodeLanguageId(L)}},{key:"getStandardTokenType",value:function(y){var Q=this._tokens[(y<<1)+1];return E.a.getTokenType(Q)}},{key:"getForeground",value:function(y){var Q=this._tokens[(y<<1)+1];return E.a.getForeground(Q)}},{key:"getClassName",value:function(y){var Q=this._tokens[(y<<1)+1];return E.a.getClassNameFromMetadata(Q)}},{key:"getInlineStyle",value:function(y,Q){var L=this._tokens[(y<<1)+1];return E.a.getInlineStyleFromMetadata(L,Q)}},{key:"getPresentation",value:function(y){var Q=this._tokens[(y<<1)+1];return E.a.getPresentationFromMetadata(Q)}},{key:"getEndOffset",value:function(y){return this._tokens[y<<1]}},{key:"findTokenIndexAtOffset",value:function(y){return J.findIndexInTokensArray(this._tokens,y)}},{key:"inflate",value:function(){return this}},{key:"sliceAndInflate",value:function(y,Q,L){return new re(this,y,Q,L)}},{key:"withInserted",value:function(y){if(y.length===0)return this;for(var Q=0,L=0,ne="",ee=new Array,H=0;;){var W=Q<this._tokensCount?this._tokens[Q<<1]:-1,F=L<y.length?y[L]:null;if(W!==-1&&(F===null||W<=F.offset)){ne+=this._text.substring(H,W);var V=this._tokens[(Q<<1)+1];ee.push(ne.length,V),Q++,H=W}else if(F){if(F.offset>H){ne+=this._text.substring(H,F.offset);var N=this._tokens[(Q<<1)+1];ee.push(ne.length,N),H=F.offset}ne+=F.text,ee.push(ne.length,F.tokenMetadata),L++}else break}return new J(new Uint32Array(ee),ne,this._languageIdCodec)}}],[{key:"createEmpty",value:function(y,Q){var L=J.defaultTokenMetadata,ne=new Uint32Array(2);return ne[0]=y.length,ne[1]=L,new J(ne,y,Q)}},{key:"convertToEndOffset",value:function(y,Q){for(var L=y.length>>>1,ne=L-1,ee=0;ee<ne;ee++)y[ee<<1]=y[ee+1<<1];y[ne<<1]=Q}},{key:"findIndexInTokensArray",value:function(y,Q){if(y.length<=2)return 0;for(var L=0,ne=(y.length>>>1)-1;L<ne;){var ee=L+Math.floor((ne-L)/2),H=y[ee<<1];if(H===Q)return ee+1;H<Q?L=ee+1:H>Q&&(ne=ee)}return L}}]),J}();ve.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;var re=function(){function J($,y,Q,L){Object(le.a)(this,J),this._source=$,this._startOffset=y,this._endOffset=Q,this._deltaOffset=L,this._firstTokenIndex=$.findTokenIndexAtOffset(y),this._tokensCount=0;for(var ne=this._firstTokenIndex,ee=$.getCount();ne<ee;ne++){var H=$.getStartOffset(ne);if(H>=Q)break;this._tokensCount++}}return Object(De.a)(J,[{key:"getMetadata",value:function(y){return this._source.getMetadata(this._firstTokenIndex+y)}},{key:"getLanguageId",value:function(y){return this._source.getLanguageId(this._firstTokenIndex+y)}},{key:"getLineContent",value:function(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}},{key:"equals",value:function(y){return y instanceof J?this._startOffset===y._startOffset&&this._endOffset===y._endOffset&&this._deltaOffset===y._deltaOffset&&this._source.slicedEquals(y._source,this._firstTokenIndex,this._tokensCount):!1}},{key:"getCount",value:function(){return this._tokensCount}},{key:"getForeground",value:function(y){return this._source.getForeground(this._firstTokenIndex+y)}},{key:"getEndOffset",value:function(y){var Q=this._source.getEndOffset(this._firstTokenIndex+y);return Math.min(this._endOffset,Q)-this._startOffset+this._deltaOffset}},{key:"getClassName",value:function(y){return this._source.getClassName(this._firstTokenIndex+y)}},{key:"getInlineStyle",value:function(y,Q){return this._source.getInlineStyle(this._firstTokenIndex+y,Q)}},{key:"getPresentation",value:function(y){return this._source.getPresentation(this._firstTokenIndex+y)}},{key:"findTokenIndexAtOffset",value:function(y){return this._source.findTokenIndexAtOffset(y+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}]),J}()},zrhQ:function(fn,K,a){"use strict";a.d(K,"d",function(){return ve}),a.d(K,"b",function(){return re}),a.d(K,"c",function(){return J}),a.d(K,"a",function(){return $});var le=a("fWQN"),De=a("mtLc");function E(y,Q){var L=Math.pow(10,Q);return Math.round(y*L)/L}var ve=function(){function y(Q,L,ne){var ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;Object(le.a)(this,y),this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,Q))|0,this.g=Math.min(255,Math.max(0,L))|0,this.b=Math.min(255,Math.max(0,ne))|0,this.a=E(Math.max(Math.min(1,ee),0),3)}return Object(De.a)(y,null,[{key:"equals",value:function(L,ne){return L.r===ne.r&&L.g===ne.g&&L.b===ne.b&&L.a===ne.a}}]),y}(),re=function(){function y(Q,L,ne,ee){Object(le.a)(this,y),this._hslaBrand=void 0,this.h=Math.max(Math.min(360,Q),0)|0,this.s=E(Math.max(Math.min(1,L),0),3),this.l=E(Math.max(Math.min(1,ne),0),3),this.a=E(Math.max(Math.min(1,ee),0),3)}return Object(De.a)(y,null,[{key:"equals",value:function(L,ne){return L.h===ne.h&&L.s===ne.s&&L.l===ne.l&&L.a===ne.a}},{key:"fromRGBA",value:function(L){var ne=L.r/255,ee=L.g/255,H=L.b/255,W=L.a,F=Math.max(ne,ee,H),V=Math.min(ne,ee,H),N=0,U=0,d=(V+F)/2,j=F-V;if(j>0){switch(U=Math.min(d<=.5?j/(2*d):j/(2-2*d),1),F){case ne:N=(ee-H)/j+(ee<H?6:0);break;case ee:N=(H-ne)/j+2;break;case H:N=(ne-ee)/j+4;break}N*=60,N=Math.round(N)}return new y(N,U,d,W)}},{key:"_hue2rgb",value:function(L,ne,ee){return ee<0&&(ee+=1),ee>1&&(ee-=1),ee<1/6?L+(ne-L)*6*ee:ee<1/2?ne:ee<2/3?L+(ne-L)*(2/3-ee)*6:L}},{key:"toRGBA",value:function(L){var ne=L.h/360,ee=L.s,H=L.l,W=L.a,F,V,N;if(ee===0)F=V=N=H;else{var U=H<.5?H*(1+ee):H+ee-H*ee,d=2*H-U;F=y._hue2rgb(d,U,ne+1/3),V=y._hue2rgb(d,U,ne),N=y._hue2rgb(d,U,ne-1/3)}return new ve(Math.round(F*255),Math.round(V*255),Math.round(N*255),W)}}]),y}(),J=function(){function y(Q,L,ne,ee){Object(le.a)(this,y),this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,Q),0)|0,this.s=E(Math.max(Math.min(1,L),0),3),this.v=E(Math.max(Math.min(1,ne),0),3),this.a=E(Math.max(Math.min(1,ee),0),3)}return Object(De.a)(y,null,[{key:"equals",value:function(L,ne){return L.h===ne.h&&L.s===ne.s&&L.v===ne.v&&L.a===ne.a}},{key:"fromRGBA",value:function(L){var ne=L.r/255,ee=L.g/255,H=L.b/255,W=Math.max(ne,ee,H),F=Math.min(ne,ee,H),V=W-F,N=W===0?0:V/W,U;return V===0?U=0:W===ne?U=((ee-H)/V%6+6)%6:W===ee?U=(H-ne)/V+2:U=(ne-ee)/V+4,new y(Math.round(U*60),N,W,L.a)}},{key:"toRGBA",value:function(L){var ne=L.h,ee=L.s,H=L.v,W=L.a,F=H*ee,V=F*(1-Math.abs(ne/60%2-1)),N=H-F,U=0,d=0,j=0;return ne<60?(U=F,d=V):ne<120?(U=V,d=F):ne<180?(d=F,j=V):ne<240?(d=V,j=F):ne<300?(U=V,j=F):ne<=360&&(U=F,j=V),U=Math.round((U+N)*255),d=Math.round((d+N)*255),j=Math.round((j+N)*255),new ve(U,d,j,W)}}]),y}(),$=function(){function y(Q){if(Object(le.a)(this,y),Q)if(Q instanceof ve)this.rgba=Q;else if(Q instanceof re)this._hsla=Q,this.rgba=re.toRGBA(Q);else if(Q instanceof J)this._hsva=Q,this.rgba=J.toRGBA(Q);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}return Object(De.a)(y,[{key:"hsla",get:function(){return this._hsla?this._hsla:re.fromRGBA(this.rgba)}},{key:"hsva",get:function(){return this._hsva?this._hsva:J.fromRGBA(this.rgba)}},{key:"equals",value:function(L){return!!L&&ve.equals(this.rgba,L.rgba)&&re.equals(this.hsla,L.hsla)&&J.equals(this.hsva,L.hsva)}},{key:"getRelativeLuminance",value:function(){var L=y._relativeLuminanceForComponent(this.rgba.r),ne=y._relativeLuminanceForComponent(this.rgba.g),ee=y._relativeLuminanceForComponent(this.rgba.b),H=.2126*L+.7152*ne+.0722*ee;return E(H,4)}},{key:"isLighter",value:function(){var L=(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3;return L>=128}},{key:"isLighterThan",value:function(L){var ne=this.getRelativeLuminance(),ee=L.getRelativeLuminance();return ne>ee}},{key:"isDarkerThan",value:function(L){var ne=this.getRelativeLuminance(),ee=L.getRelativeLuminance();return ne<ee}},{key:"lighten",value:function(L){return new y(new re(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*L,this.hsla.a))}},{key:"darken",value:function(L){return new y(new re(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*L,this.hsla.a))}},{key:"transparent",value:function(L){var ne=this.rgba,ee=ne.r,H=ne.g,W=ne.b,F=ne.a;return new y(new ve(ee,H,W,F*L))}},{key:"isTransparent",value:function(){return this.rgba.a===0}},{key:"isOpaque",value:function(){return this.rgba.a===1}},{key:"opposite",value:function(){return new y(new ve(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}},{key:"makeOpaque",value:function(L){if(this.isOpaque()||L.rgba.a!==1)return this;var ne=this.rgba,ee=ne.r,H=ne.g,W=ne.b,F=ne.a;return new y(new ve(L.rgba.r-F*(L.rgba.r-ee),L.rgba.g-F*(L.rgba.g-H),L.rgba.b-F*(L.rgba.b-W),1))}},{key:"toString",value:function(){return this._toString||(this._toString=y.Format.CSS.format(this)),this._toString}}],[{key:"fromHex",value:function(L){return y.Format.CSS.parseHex(L)||y.red}},{key:"equals",value:function(L,ne){return!L&&!ne?!0:!L||!ne?!1:L.equals(ne)}},{key:"_relativeLuminanceForComponent",value:function(L){var ne=L/255;return ne<=.03928?ne/12.92:Math.pow((ne+.055)/1.055,2.4)}},{key:"getLighterColor",value:function(L,ne,ee){if(L.isLighterThan(ne))return L;ee=ee||.5;var H=L.getRelativeLuminance(),W=ne.getRelativeLuminance();return ee=ee*(W-H)/W,L.lighten(ee)}},{key:"getDarkerColor",value:function(L,ne,ee){if(L.isDarkerThan(ne))return L;ee=ee||.5;var H=L.getRelativeLuminance(),W=ne.getRelativeLuminance();return ee=ee*(H-W)/H,L.darken(ee)}}]),y}();$.white=new $(new ve(255,255,255,1)),$.black=new $(new ve(0,0,0,1)),$.red=new $(new ve(255,0,0,1)),$.blue=new $(new ve(0,0,255,1)),$.green=new $(new ve(0,255,0,1)),$.cyan=new $(new ve(0,255,255,1)),$.lightgrey=new $(new ve(211,211,211,1)),$.transparent=new $(new ve(0,0,0,0)),function(y){var Q;(function(L){var ne;(function(ee){function H(S){return S.rgba.a===1?"rgb(".concat(S.rgba.r,", ").concat(S.rgba.g,", ").concat(S.rgba.b,")"):y.Format.CSS.formatRGBA(S)}ee.formatRGB=H;function W(S){return"rgba(".concat(S.rgba.r,", ").concat(S.rgba.g,", ").concat(S.rgba.b,", ").concat(+S.rgba.a.toFixed(2),")")}ee.formatRGBA=W;function F(S){return S.hsla.a===1?"hsl(".concat(S.hsla.h,", ").concat((S.hsla.s*100).toFixed(2),"%, ").concat((S.hsla.l*100).toFixed(2),"%)"):y.Format.CSS.formatHSLA(S)}ee.formatHSL=F;function V(S){return"hsla(".concat(S.hsla.h,", ").concat((S.hsla.s*100).toFixed(2),"%, ").concat((S.hsla.l*100).toFixed(2),"%, ").concat(S.hsla.a.toFixed(2),")")}ee.formatHSLA=V;function N(S){var T=S.toString(16);return T.length!==2?"0"+T:T}function U(S){return"#".concat(N(S.rgba.r)).concat(N(S.rgba.g)).concat(N(S.rgba.b))}ee.formatHex=U;function d(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return T&&S.rgba.a===1?y.Format.CSS.formatHex(S):"#".concat(N(S.rgba.r)).concat(N(S.rgba.g)).concat(N(S.rgba.b)).concat(N(Math.round(S.rgba.a*255)))}ee.formatHexA=d;function j(S){return S.isOpaque()?y.Format.CSS.formatHex(S):y.Format.CSS.formatRGBA(S)}ee.format=j;function C(S){var T=S.length;if(T===0||S.charCodeAt(0)!==35)return null;if(T===7){var z=16*x(S.charCodeAt(1))+x(S.charCodeAt(2)),A=16*x(S.charCodeAt(3))+x(S.charCodeAt(4)),ue=16*x(S.charCodeAt(5))+x(S.charCodeAt(6));return new y(new ve(z,A,ue,1))}if(T===9){var be=16*x(S.charCodeAt(1))+x(S.charCodeAt(2)),de=16*x(S.charCodeAt(3))+x(S.charCodeAt(4)),ke=16*x(S.charCodeAt(5))+x(S.charCodeAt(6)),he=16*x(S.charCodeAt(7))+x(S.charCodeAt(8));return new y(new ve(be,de,ke,he/255))}if(T===4){var ge=x(S.charCodeAt(1)),ce=x(S.charCodeAt(2)),k=x(S.charCodeAt(3));return new y(new ve(16*ge+ge,16*ce+ce,16*k+k))}if(T===5){var w=x(S.charCodeAt(1)),B=x(S.charCodeAt(2)),Y=x(S.charCodeAt(3)),pe=x(S.charCodeAt(4));return new y(new ve(16*w+w,16*B+B,16*Y+Y,(16*pe+pe)/255))}return null}ee.parseHex=C;function x(S){switch(S){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(ne=L.CSS||(L.CSS={}))})(Q=y.Format||(y.Format={}))}($||($={}))}}]);
