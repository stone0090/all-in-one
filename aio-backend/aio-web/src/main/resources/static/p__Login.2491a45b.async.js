(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{eJQ9:function(p,h,t){"use strict";t.r(h);var X=t("miYZ"),O=t("tsqr"),c=t("qLMh"),x=t("k1fw"),v=t("9og8"),M=t("tJVT"),Z=t("fOrg"),I=t("+KLJ"),B=t("cJ7L"),T=t("FY4R"),y=t("q1tI"),D=t("VMEa"),S=t("Qurx"),U=t("tneF"),s=t("9kvl"),P=t("oN5p"),A=t("9W6o"),e=t("nKUr"),J=function(){var j=Object(s.h)(),l=j.formatMessage({id:"app.copyright.produced",defaultMessage:"\u8682\u8681\u96C6\u56E2\u4F53\u9A8C\u6280\u672F\u90E8\u51FA\u54C1"});return Object(e.jsx)(A.a,{copyright:"2020 ".concat(l),links:[{key:"Ant Design Pro",title:"Ant Design Pro",href:"https://pro.ant.design",blankTarget:!0},{key:"github",title:Object(e.jsx)(P.a,{}),href:"https://github.com/ant-design/ant-design-pro",blankTarget:!0},{key:"Ant Design",title:"Ant Design",href:"https://ant.design",blankTarget:!0}]})},V=t("Dp36"),z=t("iVe8"),r=t.n(z),C=function(l){var u=l.content;return Object(e.jsx)(I.a,{style:{marginBottom:24},message:u,type:"error",showIcon:!0})},E=function(){!s.c||setTimeout(function(){var l=s.c.location.query,u=l,b=u.redirect;s.c.push(b||"/")},10)},Y=function(){var l=Object(y.useState)(!1),u=Object(M.a)(l,2),b=u[0],L=u[1],$=Object(y.useState)({}),F=Object(M.a)($,2),Q=F[0],w=F[1],N=Object(s.i)("@@initialState"),d=N.initialState,G=N.setInitialState,m=Object(s.h)(),K=function(){var g=Object(v.a)(Object(c.a)().mark(function i(){var n,o;return Object(c.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d==null||(n=d.fetchUserInfo)===null||n===void 0?void 0:n.call(d);case 2:o=a.sent,o&&G(Object(x.a)(Object(x.a)({},d),{},{currentUser:o}));case 4:case"end":return a.stop()}},i)}));return function(){return g.apply(this,arguments)}}(),R=function(){var g=Object(v.a)(Object(c.a)().mark(function i(n){var o;return Object(c.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return L(!0),a.prev=1,a.next=4,Object(V.b)("/aio/shiro/login",n);case 4:if(o=a.sent,o.success!==!0){a.next=11;break}return O.default.success("\u767B\u5F55\u6210\u529F\uFF01"),a.next=9,K();case 9:return E(),a.abrupt("return");case 11:w(o),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(1),O.default.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");case 17:L(!1);case 18:case"end":return a.stop()}},i,null,[[1,14]])}));return function(n){return g.apply(this,arguments)}}(),W=Q.success;return Object(e.jsxs)("div",{className:r.a.container,children:[Object(e.jsx)("div",{className:r.a.lang,"data-lang":!0,children:s.b&&Object(e.jsx)(s.b,{})}),Object(e.jsxs)("div",{className:r.a.content,children:[Object(e.jsxs)("div",{className:r.a.top,children:[Object(e.jsxs)("div",{className:r.a.header,children:[Object(e.jsx)("img",{alt:"logo",className:r.a.logo,src:"/github.svg"}),Object(e.jsx)("span",{className:r.a.title,children:"all-in-one"})]}),Object(e.jsx)("div",{className:r.a.desc,children:"https://github.com/stone0090/all-in-one"})]}),Object(e.jsx)("div",{className:r.a.main,children:Object(e.jsxs)(D.a,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:m.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(i,n){return n.pop()},submitButtonProps:{loading:b,size:"large",style:{width:"100%"}}},onFinish:function(){var g=Object(v.a)(Object(c.a)().mark(function i(n){return Object(c.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:R(n);case 1:case"end":return f.stop()}},i)}));return function(i){return g.apply(this,arguments)}}(),children:[W===!1&&Object(e.jsx)(C,{content:m.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF\uFF08admin/ant.design)"})}),Object(e.jsx)(S.a,{name:"username",fieldProps:{size:"large",prefix:Object(e.jsx)(B.a,{className:r.a.prefixIcon})},placeholder:m.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or usermgr"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),Object(e.jsx)(S.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(e.jsx)(T.a,{className:r.a.prefixIcon})},placeholder:m.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),Object(e.jsxs)("div",{style:{marginBottom:24},children:[Object(e.jsx)(U.a,{noStyle:!0,name:"autoLogin",children:Object(e.jsx)(s.a,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),Object(e.jsx)("a",{style:{float:"right"},children:Object(e.jsx)(s.a,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})})]}),Object(e.jsx)(J,{})]})},H=h.default=Y},iVe8:function(p,h,t){p.exports={container:"container___2ED52",lang:"lang___2i4-i",content:"content___z6iyc",top:"top___35vWP",header:"header___1jNDY",logo:"logo___2hMfX",title:"title___3mS0T",desc:"desc___bdu8U",main:"main___gr5aB",icon:"icon___1kXOf",other:"other___3f0FY",register:"register___19q3i",prefixIcon:"prefixIcon___2QeTg"}}}]);
